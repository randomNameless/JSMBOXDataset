<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ModuleOutput.763ada6c.html</title>
</head>
<body>
<script>import{m as cv,p as uv,q as eo,v as fv,s as Ge,n as Pe,o as Pi,c as gt,d as Yt,e as Wa,b as Mt,f as La,r as Qi,w as dv,h as Yr,u as qr,i as Xr,j as Zr,g as el,x as Vm,y as hv,k as ns,l as pv}from"./scheduler.a3e3ec34.js";import{p as Se,t as W,b as Me,d as F,S as nt,i as st,e as ue,a as Q,f as D,x as Ze,y as $e,j as G,k as T,z as B,g as Y,h as q,r as _e,s as le,u as xe,c as ce,A as bi,l as Ce,v as we,w as be,B as Qe,E as Qt,m as je,n as Ye,o as ut,F as mv,L as In,M as Rn,N as Gt,D as Di,O as Bo,P as gv,Q as Ju,G as ss,R as Vo,T as Um,U as vv,C as _v,q as Qu}from"./index.15429cc8.js";import{a as nr,L as wv}from"./LogoBug.f6bff396.js";import{j as bv,L as Il,b as gi,s as Xt,g as Ht,a as Ut,e as kt,k as Po,S as ef,d as yv,i as tl,h as il,l as xv}from"./index.dc337625.js";import"./paths.8dbec904.js";const Sv=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function tu(s,e){const t=e.token={};function i(n,r,a,o){if(e.token!==t)return;e.resolved=o;let l=e.ctx;a!==void 0&&(l=l.slice(),l[a]=o);const c=n&&(e.current=n)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((h,f)=>{f!==r&&h&&(Se(),W(h,1,1,()=>{e.blocks[f]===h&&(e.blocks[f]=null)}),Me())}):e.block.d(1),c.c(),F(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[r]=c),u&&fv()}if(cv(s)){const n=uv();if(s.then(r=>{eo(n),i(e.then,1,e.value,r),eo(null)},r=>{if(eo(n),i(e.catch,2,e.error,r),eo(null),!e.hasCatch)throw r}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,s),!0;e.resolved=s}}function iu(s,e,t){const i=e.slice(),{resolved:n}=s;s.current===s.then&&(i[s.value]=n),s.current===s.catch&&(i[s.error]=n),s.block.p(i,t)}function tf(s,e){const t={},i={},n={$$scope:1};let r=s.length;for(;r--;){const a=s[r],o=e[r];if(o){for(const l in a)l in o||(i[l]=1);for(const l in o)n[l]||(t[l]=o[l],n[l]=1);s[r]=o}else for(const l in a)n[l]=1}for(const a in i)a in t||(t[a]=void 0);return t}function nf(s){return typeof s=="object"&&s!==null?s:{}}const Lt={heading1:"heading1",heading2:"heading2",heading3:"heading3",heading4:"heading4",heading5:"heading5",heading6:"heading6",paragraph:"paragraph",preformatted:"preformatted",strong:"strong",em:"em",listItem:"list-item",oListItem:"o-list-item",list:"group-list-item",oList:"group-o-list-item",image:"image",embed:"embed",hyperlink:"hyperlink",label:"label",span:"span"},nl=()=>(++nl.i).toString();nl.i=0;const Mv=s=>{const e=Ev(s),t=[];for(let i=0;i<e.length;i++)t.push(Wm(e[i]));return{key:nl(),children:t}},Sa=(s,e=[])=>({key:nl(),type:s.type,text:"text"in s?s.text:void 0,node:s,children:e}),Rl=s=>Sa({type:Lt.span,text:s,spans:[]}),Ev=s=>{const e=s.slice(0);for(let t=0;t<e.length;t++){const i=e[t];if(i.type===Lt.listItem||i.type===Lt.oListItem){const n=[i];for(;e[t+1]&&e[t+1].type===i.type;)n.push(e[t+1]),e.splice(t,1);i.type===Lt.listItem?e[t]={type:Lt.list,items:n}:e[t]={type:Lt.oList,items:n}}}return e},Wm=s=>{if("text"in s)return Sa(s,Gm(s.spans,s));if("items"in s){const e=[];for(let t=0;t<s.items.length;t++)e.push(Wm(s.items[t]));return Sa(s,e)}return Sa(s)},Gm=(s,e,t)=>{if(!s.length)return[Rl(e.text)];const i=s.slice(0);i.sort((r,a)=>r.start-a.start||a.end-r.end);const n=[];for(let r=0;r<i.length;r++){const a=i[r],o=t&&t.start||0,l=a.start-o,c=a.end-o,u=e.text.slice(l,c),h=[];for(let d=r;d<i.length;d++){const g=i[d];g!==a&&(g.start>=a.start&&g.end<=a.end?(h.push(g),i.splice(d,1),d--):g.start<a.end&&g.end>a.start&&(h.push({...g,end:a.end}),i[d]={...g,start:a.end}))}r===0&&l>0&&n.push(Rl(e.text.slice(0,l)));const f={...a,text:u};n.push(Sa(f,Gm(h,{...e,text:u},a))),c<e.text.length&&n.push(Rl(e.text.slice(c,i[r+1]?i[r+1].start-o:void 0)))}return n},Tv=(s,e)=>Hm(Mv(s).children,e),Hm=(s,e)=>{const t=[];for(let i=0;i<s.length;i++){const n=s[i],r=e(n.type,n.node,n.text,Hm(n.children,e),n.key);r!=null&&t.push(r)}return t},Cv={[Lt.listItem]:"listItem",[Lt.oListItem]:"oListItem",[Lt.list]:"list",[Lt.oList]:"oList"},Av=s=>(e,t,i,n,r)=>{const a=s[Cv[e]||e];if(a)return a({type:e,node:t,text:i,children:n,key:r})},Lv=(...s)=>(...e)=>{for(let t=0;t<s.length;t++){const i=s[t];if(i){const n=i(...e);if(n!=null)return n}}},sf=(s,...e)=>{if(s){const[t]=e;let i;return typeof t=="string"?i={separator:t}:i={...t},bv(s,i.separator)}else return null},gs=s=>s?s.length===24?new Date(s.replace(/(\+|-)(\d{2})(\d{2})$/,".000$1$2:$3")):new Date(s):null,kv=/["'&<>]/,ka=s=>{const e=""+s,t=kv.exec(e);if(!t)return e;let i,n="",r=0,a=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}a!==r&&(n+=e.substring(a,r)),a=r+1,n+=i}return a!==r?n+e.substring(a,r):n},kr=s=>"data"in s&&"label"in s.data?` class="${s.data.label}"`:"",Ii=(s,e,t)=>`<${s}${kr(e)}>${t.join("")}</${s}>`,Pv=s=>`<pre${kr(s)}>${ka(s.text)}</pre>`,Dv=(s,e)=>{let t=`<img src="${e.url}" alt="${ka(e.alt)}"${e.copyright?` copyright="${ka(e.copyright)}"`:""} />`;return e.linkTo&&(t=jm(s,{type:Lt.hyperlink,data:e.linkTo,start:0,end:0},[t])),`<p class="block-img">${t}</p>`},Iv=s=>`<div data-oembed="${s.oembed.embed_url}" data-oembed-type="${s.oembed.type}" data-oembed-provider="${s.oembed.provider_name}"${kr(s)}>${s.oembed.html}</div>`,jm=(s,e,t)=>{switch(e.data.link_type){case Il.Web:return`<a href="${ka(e.data.url)}" ${e.data.target?`target="${e.data.target}" `:""}rel="noopener noreferrer"${kr(e)}>${t.join("")}</a>`;case Il.Document:return`<a href="${gi(e.data,s)}"${kr(e)}>${t.join("")}</a>`;case Il.Media:return`<a href="${e.data.url}"${kr(e)}>${t.join("")}</a>`}},Rv=s=>s?ka(s).replace(/\n/g,"<br />"):"",rf=s=>(e,t,i,n,r)=>{switch(t.type){case Lt.heading1:return Ii("h1",t,n);case Lt.heading2:return Ii("h2",t,n);case Lt.heading3:return Ii("h3",t,n);case Lt.heading4:return Ii("h4",t,n);case Lt.heading5:return Ii("h5",t,n);case Lt.heading6:return Ii("h6",t,n);case Lt.paragraph:return Ii("p",t,n);case Lt.preformatted:return Pv(t);case Lt.strong:return Ii("strong",t,n);case Lt.em:return Ii("em",t,n);case Lt.listItem:return Ii("li",t,n);case Lt.oListItem:return Ii("li",t,n);case Lt.list:return Ii("ul",t,n);case Lt.oList:return Ii("ol",t,n);case Lt.image:return Dv(s,t);case Lt.embed:return Iv(t);case Lt.hyperlink:return jm(s,t,n);case Lt.label:return Ii("span",t,n);case Lt.span:default:return Rv(i)}},zv=s=>{const e={};for(const t in s){const i=s[t];i&&(e[t]=n=>i({...n,children:n.children.join("")}))}return Av(e)},cn=(s,e,t)=>{if(s){let i;return t?i=Lv(typeof t=="object"?zv(t):(n,r,a,o,l)=>t(n,r,a,o.join(""),l),rf(e)):i=rf(e),Tv(s,i).join("")}else return null};function Fv(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M121.799 62.5L77.6555 77.018L77.1758 77.1758L77.018 77.6555L62.5 121.799L47.982 77.6555L47.8242 77.1758L47.3445 77.018L3.20083 62.5L47.3445 47.982L47.8242 47.8242L47.982 47.3445L62.5 3.20083L77.018 47.3445L77.1758 47.8242L77.6555 47.982L121.799 62.5Z"),T(t,"fill",s[1]),T(t,"stroke",s[2]),T(t,"stroke-width",s[3]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","evenodd"),T(e,"width","125"),T(e,"height","125"),T(e,"viewBox","0 0 125 125"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&T(t,"fill",i[1]),n&4&&T(t,"stroke",i[2]),n&8&&T(t,"stroke-width",i[3])},d(i){i&&D(e)}}}function Ov(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M62.5 2.25955L79.9715 37.6608L80.2042 38.1322L80.7245 38.2078L119.792 43.8847L91.5225 71.4407L91.146 71.8077L91.2349 72.3258L97.9084 111.236L62.9653 92.8649L62.5 92.6202L62.0347 92.8649L27.0916 111.236L33.7651 72.3258L33.854 71.8077L33.4775 71.4407L5.20793 43.8847L44.2755 38.2078L44.7958 38.1322L45.0284 37.6608L62.5 2.25955Z"),T(t,"fill",s[1]),T(t,"stroke",s[2]),T(t,"stroke-width",s[3]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","evenodd"),T(e,"width","125"),T(e,"height","125"),T(e,"viewBox","0 0 125 125"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&T(t,"fill",i[1]),n&4&&T(t,"stroke",i[2]),n&8&&T(t,"stroke-width",i[3])},d(i){i&&D(e)}}}function Nv(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M122.849 62.5L91.8047 78.8021L91.2451 79.096L91.2704 79.7275L92.6745 114.764L63.0343 96.0297L62.5 95.692L61.9657 96.0297L32.3255 114.764L33.7296 79.7275L33.7549 79.096L33.1953 78.8021L2.15091 62.5L33.1953 46.1978L33.7549 45.904L33.7296 45.2725L32.3255 10.2362L61.9657 28.9703L62.5 29.308L63.0343 28.9703L92.6745 10.2362L91.2704 45.2725L91.2451 45.904L91.8047 46.1978L122.849 62.5Z"),T(t,"fill",s[1]),T(t,"stroke",s[2]),T(t,"stroke-width",s[3]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","evenodd"),T(e,"width","125"),T(e,"height","125"),T(e,"viewBox","0 0 125 125"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&T(t,"fill",i[1]),n&4&&T(t,"stroke",i[2]),n&8&&T(t,"stroke-width",i[3])},d(i){i&&D(e)}}}function Bv(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M122.972 62.5L95.7933 77.9006L95.1898 78.2426L95.2987 78.9276L100.203 109.779L71.2174 98.1319L70.5737 97.8733L70.106 98.3856L49.0438 121.455L40.0771 91.5316L39.8779 90.8672L39.1858 90.8209L8.01696 88.7376L25.8217 63.07L26.217 62.5L25.8217 61.93L8.01697 36.2623L39.1858 34.1791L39.8779 34.1328L40.0771 33.4684L49.0438 3.54453L70.106 26.6144L70.5737 27.1267L71.2174 26.8681L100.203 15.2214L95.2987 46.0723L95.1898 46.7574L95.7933 47.0994L122.972 62.5Z"),T(t,"fill",s[1]),T(t,"stroke",s[2]),T(t,"stroke-width",s[3]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","evenodd"),T(e,"width","125"),T(e,"height","125"),T(e,"viewBox","0 0 125 125"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&T(t,"fill",i[1]),n&4&&T(t,"stroke",i[2]),n&8&&T(t,"stroke-width",i[3])},d(i){i&&D(e)}}}function Vv(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M123.108 62.5L99.504 77.1976L98.8965 77.5759L99.0586 78.273L105.356 105.356L78.273 99.0586L77.5759 98.8965L77.1976 99.504L62.5 123.108L47.8024 99.504L47.4241 98.8965L46.727 99.0586L19.6436 105.356L25.9414 78.273L26.1035 77.5759L25.496 77.1976L1.89187 62.5L25.496 47.8024L26.1035 47.4241L25.9414 46.727L19.6436 19.6436L46.727 25.9414L47.4241 26.1035L47.8024 25.496L62.5 1.89187L77.1976 25.496L77.5759 26.1035L78.273 25.9414L105.356 19.6436L99.0586 46.727L98.8965 47.4241L99.504 47.8024L123.108 62.5Z"),T(t,"fill",s[1]),T(t,"stroke",s[2]),T(t,"stroke-width",s[3]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","evenodd"),T(e,"width","125"),T(e,"height","125"),T(e,"viewBox","0 0 125 125"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&T(t,"fill",i[1]),n&4&&T(t,"stroke",i[2]),n&8&&T(t,"stroke-width",i[3])},d(i){i&&D(e)}}}function Uv(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M123.127 62.5L101.609 76.0834L100.955 76.4965L101.191 77.2336L108.943 101.47L83.7284 98.0445L82.9615 97.9404L82.6683 98.6566L73.0277 122.206L55.9143 103.374L55.3938 102.801L54.7088 103.161L32.1867 115.004L31.1817 89.5781L31.1512 88.8048L30.3949 88.6404L5.52955 83.2355L21.1033 63.112L21.577 62.5L21.1033 61.888L5.52956 41.7644L30.3949 36.3596L31.1512 36.1952L31.1817 35.4219L32.1867 9.99575L54.7088 21.8385L55.3938 22.1987L55.9143 21.626L73.0277 2.79438L82.6683 26.3434L82.9615 27.0596L83.7284 26.9554L108.943 23.5299L101.191 47.7664L100.955 48.5035L101.609 48.9166L123.127 62.5Z"),T(t,"fill",s[1]),T(t,"stroke",s[2]),T(t,"stroke-width",s[3]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","evenodd"),T(e,"width","125"),T(e,"height","125"),T(e,"viewBox","0 0 125 125"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&T(t,"fill",i[1]),n&4&&T(t,"stroke",i[2]),n&8&&T(t,"stroke-width",i[3])},d(i){i&&D(e)}}}function Wv(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M123.159 62.5L103.565 75.1799L102.883 75.6213L103.176 76.3794L111.574 98.1547L88.2695 96.8959L87.4583 96.8521L87.2493 97.6372L81.2448 120.19L63.1306 105.474L62.5 104.962L61.8694 105.474L43.7552 120.19L37.7507 97.6372L37.5417 96.8521L36.7305 96.8959L13.4255 98.1547L21.8243 76.3793L22.1167 75.6213L21.4346 75.1799L1.84062 62.5L21.4346 49.82L22.1167 49.3786L21.8243 48.6206L13.4255 26.8453L36.7305 28.104L37.5417 28.1479L37.7507 27.3628L43.7552 4.80949L61.8694 19.5261L62.5 20.0384L63.1306 19.5261L81.2448 4.80949L87.2493 27.3628L87.4583 28.1479L88.2695 28.104L111.574 26.8453L103.176 48.6206L102.883 49.3787L103.565 49.82L123.159 62.5Z"),T(t,"fill",s[1]),T(t,"stroke",s[2]),T(t,"stroke-width",s[3]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","evenodd"),T(e,"width","125"),T(e,"height","125"),T(e,"viewBox","0 0 125 125"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&T(t,"fill",i[1]),n&4&&T(t,"stroke",i[2]),n&8&&T(t,"stroke-width",i[3])},d(i){i&&D(e)}}}function Gv(s){let e;function t(r,a){return r[0]===10?Wv:r[0]===9?Uv:r[0]===8?Vv:r[0]===7?Bv:r[0]===6?Nv:r[0]===5?Ov:Fv}let i=t(s),n=i(s);return{c(){n.c(),e=ue()},l(r){n.l(r),e=ue()},m(r,a){n.m(r,a),Q(r,e,a)},p(r,[a]){i===(i=t(r))&&n?n.p(r,a):(n.d(1),n=i(r),n&&(n.c(),n.m(e.parentNode,e)))},i:Pe,o:Pe,d(r){r&&D(e),n.d(r)}}}function Hv(s,e,t){let{points:i=5}=e,{fillColor:n="currentColor"}=e,{strokeColor:r="currentColor"}=e,{strokeWidth:a=2}=e;return s.$$set=o=>{"points"in o&&t(0,i=o.points),"fillColor"in o&&t(1,n=o.fillColor),"strokeColor"in o&&t(2,r=o.strokeColor),"strokeWidth"in o&&t(3,a=o.strokeWidth)},[i,n,r,a]}class to extends nt{constructor(e){super(),st(this,e,Hv,Gv,Ge,{points:0,fillColor:1,strokeColor:2,strokeWidth:3})}}function jv(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M27.4262 21.907L27.5433 22.6131L28.2494 22.73L43.2259 25.2099L28.2494 27.6898L27.5433 27.8067L27.4262 28.5128L24.9444 43.4846L22.4626 28.5128L22.3456 27.8067L21.6394 27.6898L6.66292 25.2099L21.6394 22.73L22.3456 22.6131L22.4626 21.907L24.9444 6.93523L27.4262 21.907Z"),T(t,"fill",s[0]),T(t,"stroke",s[1]),T(t,"stroke-width",s[2]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","evenodd"),T(e,"width","50"),T(e,"height","50"),T(e,"viewBox","0 0 50 50"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,[n]){n&1&&T(t,"fill",i[0]),n&2&&T(t,"stroke",i[1]),n&4&&T(t,"stroke-width",i[2])},i:Pe,o:Pe,d(i){i&&D(e)}}}function Yv(s,e,t){let{fillColor:i="currentColor"}=e,{strokeColor:n="currentColor"}=e,{strokeWidth:r=2}=e;return s.$$set=a=>{"fillColor"in a&&t(0,i=a.fillColor),"strokeColor"in a&&t(1,n=a.strokeColor),"strokeWidth"in a&&t(2,r=a.strokeWidth)},[i,n,r]}class zl extends nt{constructor(e){super(),st(this,e,Yv,jv,Ge,{fillColor:0,strokeColor:1,strokeWidth:2})}}function af(s){let e,t,i,n,r,a,o,l,c,u="THATâ€™S A STEAL!",h,f,d,g,p,m,v,w,_,x,b,S,M,y,E,C,P,L,k,A,I,R,O,z,V,$,K,U,ee,Z,te="$4.99/ MONTH",j;return i=new to({props:{fillColor:s[0]=="primary"?"#FFFFFF":"#FEEA3B",strokeColor:(s[0]=="primary","#222222"),points:s[2][0].pt}}),f=new to({props:{fillColor:s[0]=="primary"?"#FEEA3B":"#FFFFFF",strokeColor:(s[0]=="primary","#222222"),points:s[2][1].pt}}),_=new zl({props:{fillColor:s[0]=="primary"?"#FFFFFF":"#FEEA3B",strokeColor:(s[0]=="primary","#222222")}}),M=new zl({props:{fillColor:s[0]=="primary"?"#FFFFFF":"#FEEA3B",strokeColor:(s[0]=="primary","#222222")}}),P=new zl({props:{fillColor:s[0]=="primary"?"#FFFFFF":"#FEEA3B",strokeColor:(s[0]=="primary","#222222")}}),A=new nr({props:{vertical:!0,fillColor:(s[0]=="primary","#FEEA3B"),strokeColor:(s[0]=="primary","#222222"),strokeWidth:2}}),z=new to({props:{fillColor:s[0]=="primary"?"#FFFFFF":"#FEEA3B",strokeColor:(s[0]=="primary","#222222"),points:s[2][2].pt}}),U=new to({props:{fillColor:s[0]=="primary"?"#FEEA3B":"#FFFFFF",strokeColor:(s[0]=="primary","#222222"),points:s[2][3].pt}}),{c(){e=Y("div"),t=Y("div"),_e(i.$$.fragment),n=le(),r=Y("div"),a=Y("div"),o=Y("div"),l=Y("div"),c=Y("p"),c.textContent=u,h=le(),_e(f.$$.fragment),d=le(),g=Y("div"),p=Y("div"),m=Y("div"),v=Y("div"),w=Y("div"),_e(_.$$.fragment),x=le(),b=Y("div"),S=Y("div"),_e(M.$$.fragment),y=le(),E=Y("div"),C=Y("div"),_e(P.$$.fragment),L=le(),k=Y("div"),_e(A.$$.fragment),I=le(),R=Y("div"),O=Y("div"),_e(z.$$.fragment),V=le(),$=Y("div"),K=Y("div"),_e(U.$$.fragment),ee=le(),Z=Y("p"),Z.textContent=te,this.h()},l(ie){e=q(ie,"DIV",{class:!0});var oe=G(e);t=q(oe,"DIV",{class:!0,style:!0});var ve=G(t);xe(i.$$.fragment,ve),ve.forEach(D),oe.forEach(D),n=ce(ie),r=q(ie,"DIV",{class:!0});var ge=G(r);a=q(ge,"DIV",{class:!0,style:!0});var Le=G(a);o=q(Le,"DIV",{class:!0});var Re=G(o);l=q(Re,"DIV",{class:!0});var ke=G(l);c=q(ke,"P",{class:!0,"data-svelte-h":!0}),bi(c)!=="svelte-1k6u1fr"&&(c.textContent=u),h=ce(ke),xe(f.$$.fragment,ke),ke.forEach(D),Re.forEach(D),Le.forEach(D),ge.forEach(D),d=ce(ie),g=q(ie,"DIV",{class:!0});var ot=G(g);p=q(ot,"DIV",{class:!0});var tt=G(p);m=q(tt,"DIV",{class:!0});var lt=G(m);v=q(lt,"DIV",{class:!0,style:!0});var It=G(v);w=q(It,"DIV",{class:!0});var vt=G(w);xe(_.$$.fragment,vt),vt.forEach(D),It.forEach(D),x=ce(lt),b=q(lt,"DIV",{class:!0,style:!0});var it=G(b);S=q(it,"DIV",{class:!0});var oi=G(S);xe(M.$$.fragment,oi),oi.forEach(D),it.forEach(D),y=ce(lt),E=q(lt,"DIV",{class:!0,style:!0});var pi=G(E);C=q(pi,"DIV",{class:!0});var J=G(C);xe(P.$$.fragment,J),J.forEach(D),pi.forEach(D),lt.forEach(D),L=ce(tt),k=q(tt,"DIV",{class:!0});var H=G(k);xe(A.$$.fragment,H),H.forEach(D),tt.forEach(D),ot.forEach(D),I=ce(ie),R=q(ie,"DIV",{class:!0});var fe=G(R);O=q(fe,"DIV",{class:!0,style:!0});var ye=G(O);xe(z.$$.fragment,ye),ye.forEach(D),fe.forEach(D),V=ce(ie),$=q(ie,"DIV",{class:!0});var Ae=G($);K=q(Ae,"DIV",{class:!0,style:!0});var ze=G(K);xe(U.$$.fragment,ze),ee=ce(ze),Z=q(ze,"P",{class:!0,"data-svelte-h":!0}),bi(Z)!=="svelte-12r0qmh"&&(Z.textContent=te),ze.forEach(D),Ae.forEach(D),this.h()},h(){T(t,"class","w-[var(--width)] rotate-[var(--rotate)]"),Ce(t,"--width",s[2][0].sc+"px"),Ce(t,"--rotate",s[2][0].dg+"deg"),T(e,"class","absolute left-[40%] -translate-x-2/3 -top-[15px]"),T(c,"class","font-bold text-center text-xs leading-none w-[72px] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -rotate-[var(--text-rotate)] text-[#222222]"),T(l,"class","rotate-[var(--rotate)]"),T(o,"class","relative"),T(a,"class","w-[var(--width)] relative"),Ce(a,"--width",s[2][1].sc+"px"),Ce(a,"--rotate",s[2][1].dg+"deg"),Ce(a,"--text-rotate",s[2][1].dg+15+"deg"),T(r,"class","absolute -right-[5px] xs:right-0 sm:right-[15px] top-1/2 -translate-y-1/2"),T(w,"class","absolute w-[var(--tk-width)] h-[var(--tk-width)] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 [&>*]:w-full"),T(v,"class","absolute top-[17px] left-[9px] -rotate-[15deg]"),Ce(v,"--tk-width",s[3][0].sc+"px"),T(S,"class","absolute w-[var(--tk-width)] h-[var(--tk-width)] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 [&>*]:w-full"),T(b,"class","absolute bottom-[15px] left-[19px]"),Ce(b,"--tk-width",s[3][1].sc+"px"),T(C,"class","absolute w-[var(--tk-width)] h-[var(--tk-width)] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 [&>*]:w-full"),T(E,"class","absolute top-[29px] right-[19px] rotate-[5deg]"),Ce(E,"--tk-width",s[3][2].sc+"px"),T(m,"class","w-[70px] h-[64px] absolute top-0 right-0 -translate-y-[39px] translate-x-[5px]"),T(k,"class","w-[46px] xxs:w-[56px] absolute top-[15px] left-[32px] xxs:top-[20px] xxs:left-[40px] rotate-[15deg]"),T(p,"class","w-[120px] h-[120px] xxs:w-[140px] xxs:h-[140px] sm:w-[160px] sm:h-[160px] border-2 rounded-full m-auto relative top-1/2 -translate-y-1/2 bg-primary-text !border-primary-color"),T(g,"class","relative h-full"),T(O,"class","w-[var(--width)] rotate-[var(--rotate)]"),Ce(O,"--width",s[2][2].sc+"px"),Ce(O,"--rotate",s[2][2].dg+"deg"),T(R,"class","absolute right-[40%] translate-x-1/2 -bottom-[15px]"),T(Z,"class","font-bold text-center text-xs text-[#222222] leading-none m-auto w-[72px] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -rotate-[var(--text-rotate)]"),T(K,"class","w-[var(--width)] rotate-[var(--rotate)] relative text-center"),Ce(K,"--width",s[2][3].sc+"px"),Ce(K,"--rotate",s[2][3].dg+"deg"),Ce(K,"--text-rotate",s[2][3].dg+15+"deg"),T($,"class","absolute -left-[5px] xs:left-0 sm:left-[15px] top-1/2 -translate-y-1/2")},m(ie,oe){Q(ie,e,oe),B(e,t),we(i,t,null),Q(ie,n,oe),Q(ie,r,oe),B(r,a),B(a,o),B(o,l),B(l,c),B(l,h),we(f,l,null),Q(ie,d,oe),Q(ie,g,oe),B(g,p),B(p,m),B(m,v),B(v,w),we(_,w,null),B(m,x),B(m,b),B(b,S),we(M,S,null),B(m,y),B(m,E),B(E,C),we(P,C,null),B(p,L),B(p,k),we(A,k,null),Q(ie,I,oe),Q(ie,R,oe),B(R,O),we(z,O,null),Q(ie,V,oe),Q(ie,$,oe),B($,K),we(U,K,null),B(K,ee),B(K,Z),j=!0},p(ie,oe){const ve={};oe&1&&(ve.fillColor=ie[0]=="primary"?"#FFFFFF":"#FEEA3B"),oe&1&&(ve.strokeColor=(ie[0]=="primary","#222222")),oe&4&&(ve.points=ie[2][0].pt),i.$set(ve),(!j||oe&4)&&Ce(t,"--width",ie[2][0].sc+"px"),(!j||oe&4)&&Ce(t,"--rotate",ie[2][0].dg+"deg");const ge={};oe&1&&(ge.fillColor=ie[0]=="primary"?"#FEEA3B":"#FFFFFF"),oe&1&&(ge.strokeColor=(ie[0]=="primary","#222222")),oe&4&&(ge.points=ie[2][1].pt),f.$set(ge),(!j||oe&4)&&Ce(a,"--width",ie[2][1].sc+"px"),(!j||oe&4)&&Ce(a,"--rotate",ie[2][1].dg+"deg"),(!j||oe&4)&&Ce(a,"--text-rotate",ie[2][1].dg+15+"deg");const Le={};oe&1&&(Le.fillColor=ie[0]=="primary"?"#FFFFFF":"#FEEA3B"),oe&1&&(Le.strokeColor=(ie[0]=="primary","#222222")),_.$set(Le),(!j||oe&8)&&Ce(v,"--tk-width",ie[3][0].sc+"px");const Re={};oe&1&&(Re.fillColor=ie[0]=="primary"?"#FFFFFF":"#FEEA3B"),oe&1&&(Re.strokeColor=(ie[0]=="primary","#222222")),M.$set(Re),(!j||oe&8)&&Ce(b,"--tk-width",ie[3][1].sc+"px");const ke={};oe&1&&(ke.fillColor=ie[0]=="primary"?"#FFFFFF":"#FEEA3B"),oe&1&&(ke.strokeColor=(ie[0]=="primary","#222222")),P.$set(ke),(!j||oe&8)&&Ce(E,"--tk-width",ie[3][2].sc+"px");const ot={};oe&1&&(ot.fillColor=(ie[0]=="primary","#FEEA3B")),oe&1&&(ot.strokeColor=(ie[0]=="primary","#222222")),A.$set(ot);const tt={};oe&1&&(tt.fillColor=ie[0]=="primary"?"#FFFFFF":"#FEEA3B"),oe&1&&(tt.strokeColor=(ie[0]=="primary","#222222")),oe&4&&(tt.points=ie[2][2].pt),z.$set(tt),(!j||oe&4)&&Ce(O,"--width",ie[2][2].sc+"px"),(!j||oe&4)&&Ce(O,"--rotate",ie[2][2].dg+"deg");const lt={};oe&1&&(lt.fillColor=ie[0]=="primary"?"#FEEA3B":"#FFFFFF"),oe&1&&(lt.strokeColor=(ie[0]=="primary","#222222")),oe&4&&(lt.points=ie[2][3].pt),U.$set(lt),(!j||oe&4)&&Ce(K,"--width",ie[2][3].sc+"px"),(!j||oe&4)&&Ce(K,"--rotate",ie[2][3].dg+"deg"),(!j||oe&4)&&Ce(K,"--text-rotate",ie[2][3].dg+15+"deg")},i(ie){j||(F(i.$$.fragment,ie),F(f.$$.fragment,ie),F(_.$$.fragment,ie),F(M.$$.fragment,ie),F(P.$$.fragment,ie),F(A.$$.fragment,ie),F(z.$$.fragment,ie),F(U.$$.fragment,ie),j=!0)},o(ie){W(i.$$.fragment,ie),W(f.$$.fragment,ie),W(_.$$.fragment,ie),W(M.$$.fragment,ie),W(P.$$.fragment,ie),W(A.$$.fragment,ie),W(z.$$.fragment,ie),W(U.$$.fragment,ie),j=!1},d(ie){ie&&(D(e),D(n),D(r),D(d),D(g),D(I),D(R),D(V),D($)),be(i),be(f),be(_),be(M),be(P),be(A),be(z),be(U)}}}function qv(s){let e,t,i=s[2].length>0&&af(s);return{c(){e=Y("div"),i&&i.c(),this.h()},l(n){e=q(n,"DIV",{class:!0,"data-theme-alt":!0});var r=G(e);i&&i.l(r),r.forEach(D),this.h()},h(){T(e,"class","relative w-full h-[220px] m-auto max-w-sm"),T(e,"data-theme-alt",s[1])},m(n,r){Q(n,e,r),i&&i.m(e,null),t=!0},p(n,[r]){n[2].length>0?i?(i.p(n,r),r&4&&F(i,1)):(i=af(n),i.c(),F(i,1),i.m(e,null)):i&&(Se(),W(i,1,1,()=>{i=null}),Me()),(!t||r&2)&&T(e,"data-theme-alt",n[1])},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d()}}}function Xv(s,e,t){let{theme:i="primary"}=e,{theme_alt:n="secondary"}=e,r=[{min:6,max:8,dir:!1},{min:5,max:7,dir:!1},{min:4,max:6,dir:!1},{min:8,max:10,dir:!1}],a=[{min:105,max:120,dir:!1},{min:110,max:125,dir:!1},{min:101,max:126,dir:!1}],o=[],l=[];return Pi(()=>{t(2,o=[{pt:Math.floor(Math.random()*(r[0].max-r[0].min+1))+r[0].min,dg:Math.floor(Math.random()*(60-30+1))-30,sc:(Math.random()*(80-50+1)+50)/100*125},{pt:Math.floor(Math.random()*(r[1].max-r[1].min+1))+r[1].min,dg:Math.floor(Math.random()*(60-30+1))-30,sc:1*125},{pt:Math.floor(Math.random()*(r[2].max-r[2].min+1))+r[2].min,dg:Math.floor(Math.random()*(60-30+1))-30,sc:(Math.random()*(70-60+1)+60)/100*125},{pt:Math.floor(Math.random()*(r[3].max-r[3].min+1))+r[3].min,dg:Math.floor(Math.random()*(60-30+1))-30,sc:1*125}]),t(3,l=[{sc:(Math.floor(Math.random()*(a[0].max-a[0].min+1))+a[0].min)/100*30},{sc:(Math.floor(Math.random()*(a[1].max-a[1].min+1))+a[1].min)/100*50},{sc:(Math.floor(Math.random()*(a[2].max-a[2].min+1))+a[2].min)/100*30}]),setInterval(()=>{t(2,o[0].pt=Math.floor(Math.random()*(r[0].max-r[0].min+1))+r[0].min,o),t(2,o[0].dg+=25,o)},200),setInterval(()=>{t(2,o[1].pt=Math.floor(Math.random()*(r[1].max-r[1].min+1))+r[1].min,o),t(2,o[1].dg+=5,o)},800),setInterval(()=>{t(2,o[2].pt=Math.floor(Math.random()*(r[2].max-r[2].min+1))+r[2].min,o),t(2,o[2].dg+=20,o)},225),setInterval(()=>{t(2,o[3].pt=Math.floor(Math.random()*(r[3].max-r[3].min+1))+r[3].min,o),t(2,o[3].dg+=5,o)},800),setInterval(()=>{t(3,l[0].sc=(Math.floor(Math.random()*(a[0].max-a[0].min+1))+a[0].min)/100*30,l)},175),setInterval(()=>{t(3,l[1].sc=(Math.floor(Math.random()*(a[1].max-a[1].min+1))+a[1].min)/100*50,l)},175),setInterval(()=>{t(3,l[2].sc=(Math.floor(Math.random()*(a[2].max-a[2].min+1))+a[2].min)/100*30,l)},175)}),s.$$set=c=>{"theme"in c&&t(0,i=c.theme),"theme_alt"in c&&t(1,n=c.theme_alt)},[i,n,o,l]}class sl extends nt{constructor(e){super(),st(this,e,Xv,qv,Ge,{theme:0,theme_alt:1})}}const Ym=s=>{const e={breakpoint:768,quality:90,src:"/images/placeholder.png",srcMobile:null,width:2048,widths:[20,200,400,800,1200,1600,1880]};let{breakpoint:t,quality:i,src:n,srcMobile:r,width:a,widths:o}={...e,...s},l=n.split("?w=");l[1]&&l[1],l=l[0].split("&w="),l[1]&&l[1],n=l[0],r||(r=n);let c=n.split("?w=");if(c[1]&&c[1],c=c[0].split("&w="),c[1]&&c[1],r=c[0],!n||n===e.src)return{raw:[e.src],base:e.src,placeholder:e.src,set:e.src};if(n.indexOf(".svg")>-1||o.length===0)return{raw:[n],base:n,placeholder:n,set:n};let u=Object.keys(of).filter(m=>n.includes(m)),h=of[u+""],f=o.reduce((m,v)=>Math.abs(v-a)<Math.abs(m-a)?v:m),d=h({src:n,srcMobile:r,breakpoint:t,quality:i,size:f}),g=o.map(m=>h({src:n,srcMobile:r,breakpoint:t,quality:i,size:m})),p=h({src:n,srcMobile:r,breakpoint:t,quality:i,size:o[0]});return{raw:g,base:d.split(" ")[0],placeholder:p.split(" ")[0],set:g.join(", ")}},of={prismic:({src:s,srcMobile:e,breakpoint:t=768,quality:i=90,size:n})=>n>t?`/_vercel/image?url=${encodeURIComponent(s+`&w=${n}`)}&w=${n}&q=${i} ${n}w`:`/_vercel/image?url=${encodeURIComponent(e+`&w=${n}`)}&w=${n}&q=${i} ${n}w`,prismicdev:({src:s,srcMobile:e,breakpoint:t=768,quality:i=90,size:n})=>n>t?`${s}&w=${n} ${n}w`:`${e}&w=${n} ${n}w`,shopify:({src:s,srcMobile:e,breakpoint:t=768,size:i})=>{const n=(r,a)=>{let o=r.split("."),l=o.pop();return`${o.join(".")}_${a}x.${l}`};return i>t?`${n(s,i)} ${i}w`:`${n(e,i)} ${i}w`},shopifydev:({src:s,srcMobile:e,breakpoint:t=768,size:i})=>{const n=(r,a)=>{let o=r.split("."),l=o.pop();return`${o.join(".")}_${a}x.${l}`};return i>t?`${n(s,i)} ${i}w`:`${n(e,i)} ${i}w`}},Ms=typeof window<"u",qm=Ms&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),Xm=Ms&&"IntersectionObserver"in window,Zm=Ms&&"classList"in document.createElement("p"),$m=Ms&&window.devicePixelRatio>1,Zv={elements_selector:".lazy",container:qm||Ms?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},Km=s=>Object.assign({},Zv,s),lf=function(s,e){let t;const i="LazyLoad::Initialized",n=new s(e);try{t=new CustomEvent(i,{detail:{instance:n}})}catch{t=document.createEvent("CustomEvent"),t.initCustomEvent(i,!1,!1,{instance:n})}window.dispatchEvent(t)},$v=(s,e)=>{if(e)if(!e.length)lf(s,e);else for(let t=0,i;i=e[t];t+=1)lf(s,i)},rs="src",nu="srcset",su="sizes",Jm="poster",Ga="llOriginalAttrs",Qm="data",ru="loading",eg="loaded",tg="applied",Kv="entered",au="error",ig="native",ng="data-",sg="ll-status",Ni=(s,e)=>s.getAttribute(ng+e),Jv=(s,e,t)=>{var i=ng+e;if(t===null){s.removeAttribute(i);return}s.setAttribute(i,t)},Ha=s=>Ni(s,sg),sr=(s,e)=>Jv(s,sg,e),rl=s=>sr(s,null),ou=s=>Ha(s)===null,Qv=s=>Ha(s)===ru,e_=s=>Ha(s)===au,lu=s=>Ha(s)===ig,t_=[ru,eg,tg,au],i_=s=>t_.indexOf(Ha(s))>=0,Es=(s,e,t,i)=>{if(s){if(i!==void 0){s(e,t,i);return}if(t!==void 0){s(e,t);return}s(e)}},$r=(s,e)=>{if(Zm){s.classList.add(e);return}s.className+=(s.className?" ":"")+e},Cn=(s,e)=>{if(Zm){s.classList.remove(e);return}s.className=s.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},n_=s=>{s.llTempImage=document.createElement("IMG")},s_=s=>{delete s.llTempImage},rg=s=>s.llTempImage,al=(s,e)=>{if(!e)return;const t=e._observer;t&&t.unobserve(s)},r_=s=>{s.disconnect()},a_=(s,e,t)=>{e.unobserve_entered&&al(s,t)},cu=(s,e)=>{s&&(s.loadingCount+=e)},o_=s=>{s&&(s.toLoadCount-=1)},ag=(s,e)=>{s&&(s.toLoadCount=e)},l_=s=>s.loadingCount>0,c_=s=>s.toLoadCount>0,og=s=>{let e=[];for(let t=0,i;i=s.children[t];t+=1)i.tagName==="SOURCE"&&e.push(i);return e},uu=(s,e)=>{const t=s.parentNode;if(!t||t.tagName!=="PICTURE")return;og(t).forEach(e)},lg=(s,e)=>{og(s).forEach(e)},ol=[rs],cg=[rs,Jm],Pa=[rs,nu,su],ug=[Qm],ll=s=>!!s[Ga],fg=s=>s[Ga],dg=s=>delete s[Ga],Nr=(s,e)=>{if(ll(s))return;const t={};e.forEach(i=>{t[i]=s.getAttribute(i)}),s[Ga]=t},u_=s=>{ll(s)||(s[Ga]={backgroundImage:s.style.backgroundImage})},f_=(s,e,t)=>{if(!t){s.removeAttribute(e);return}s.setAttribute(e,t)},$s=(s,e)=>{if(!ll(s))return;const t=fg(s);e.forEach(i=>{f_(s,i,t[i])})},d_=s=>{if(!ll(s))return;const e=fg(s);s.style.backgroundImage=e.backgroundImage},hg=(s,e,t)=>{$r(s,e.class_applied),sr(s,tg),t&&(e.unobserve_completed&&al(s,e),Es(e.callback_applied,s,t))},pg=(s,e,t)=>{$r(s,e.class_loading),sr(s,ru),t&&(cu(t,1),Es(e.callback_loading,s,t))},bs=(s,e,t)=>{t&&s.setAttribute(e,t)},cf=(s,e)=>{bs(s,su,Ni(s,e.data_sizes)),bs(s,nu,Ni(s,e.data_srcset)),bs(s,rs,Ni(s,e.data_src))},h_=(s,e)=>{uu(s,t=>{Nr(t,Pa),cf(t,e)}),Nr(s,Pa),cf(s,e)},p_=(s,e)=>{Nr(s,ol),bs(s,rs,Ni(s,e.data_src))},m_=(s,e)=>{lg(s,t=>{Nr(t,ol),bs(t,rs,Ni(t,e.data_src))}),Nr(s,cg),bs(s,Jm,Ni(s,e.data_poster)),bs(s,rs,Ni(s,e.data_src)),s.load()},g_=(s,e)=>{Nr(s,ug),bs(s,Qm,Ni(s,e.data_src))},v_=(s,e,t)=>{const i=Ni(s,e.data_bg),n=Ni(s,e.data_bg_hidpi),r=$m&&n?n:i;r&&(s.style.backgroundImage=`url("${r}")`,rg(s).setAttribute(rs,r),pg(s,e,t))},__=(s,e,t)=>{const i=Ni(s,e.data_bg_multi),n=Ni(s,e.data_bg_multi_hidpi),r=$m&&n?n:i;r&&(s.style.backgroundImage=r,hg(s,e,t))},w_=(s,e,t)=>{const i=Ni(s,e.data_bg_set);if(!i)return;const n=i.split("|");let r=n.map(a=>`image-set(${a})`);s.style.backgroundImage=r.join(),s.style.backgroundImage===""&&(r=n.map(a=>`-webkit-image-set(${a})`),s.style.backgroundImage=r.join()),hg(s,e,t)},mg={IMG:h_,IFRAME:p_,VIDEO:m_,OBJECT:g_},b_=(s,e)=>{const t=mg[s.tagName];t&&t(s,e)},y_=(s,e,t)=>{const i=mg[s.tagName];i&&(i(s,e),pg(s,e,t))},x_=["IMG","IFRAME","VIDEO","OBJECT"],S_=s=>x_.indexOf(s.tagName)>-1,gg=(s,e)=>{e&&!l_(e)&&!c_(e)&&Es(s.callback_finish,e)},uf=(s,e,t)=>{s.addEventListener(e,t),s.llEvLisnrs[e]=t},M_=(s,e,t)=>{s.removeEventListener(e,t)},fu=s=>!!s.llEvLisnrs,E_=(s,e,t)=>{fu(s)||(s.llEvLisnrs={});const i=s.tagName==="VIDEO"?"loadeddata":"load";uf(s,i,e),uf(s,"error",t)},Ic=s=>{if(!fu(s))return;const e=s.llEvLisnrs;for(let t in e){const i=e[t];M_(s,t,i)}delete s.llEvLisnrs},vg=(s,e,t)=>{s_(s),cu(t,-1),o_(t),Cn(s,e.class_loading),e.unobserve_completed&&al(s,t)},T_=(s,e,t,i)=>{const n=lu(e);vg(e,t,i),$r(e,t.class_loaded),sr(e,eg),Es(t.callback_loaded,e,i),n||gg(t,i)},C_=(s,e,t,i)=>{const n=lu(e);vg(e,t,i),$r(e,t.class_error),sr(e,au),Es(t.callback_error,e,i),t.restore_on_error&&$s(e,Pa),n||gg(t,i)},du=(s,e,t)=>{const i=rg(s)||s;if(fu(i))return;E_(i,a=>{T_(a,s,e,t),Ic(i)},a=>{C_(a,s,e,t),Ic(i)})},A_=(s,e,t)=>{n_(s),du(s,e,t),u_(s),v_(s,e,t),__(s,e,t),w_(s,e,t)},L_=(s,e,t)=>{du(s,e,t),y_(s,e,t)},hu=(s,e,t)=>{S_(s)?L_(s,e,t):A_(s,e,t)},k_=(s,e,t)=>{s.setAttribute("loading","lazy"),du(s,e,t),b_(s,e),sr(s,ig)},ff=s=>{s.removeAttribute(rs),s.removeAttribute(nu),s.removeAttribute(su)},P_=s=>{uu(s,e=>{ff(e)}),ff(s)},_g=s=>{uu(s,e=>{$s(e,Pa)}),$s(s,Pa)},D_=s=>{lg(s,e=>{$s(e,ol)}),$s(s,cg),s.load()},I_=s=>{$s(s,ol)},R_=s=>{$s(s,ug)},z_={IMG:_g,IFRAME:I_,VIDEO:D_,OBJECT:R_},F_=s=>{const e=z_[s.tagName];if(!e){d_(s);return}e(s)},O_=(s,e)=>{ou(s)||lu(s)||(Cn(s,e.class_entered),Cn(s,e.class_exited),Cn(s,e.class_applied),Cn(s,e.class_loading),Cn(s,e.class_loaded),Cn(s,e.class_error))},N_=(s,e)=>{F_(s),O_(s,e),rl(s),dg(s)},B_=(s,e,t,i)=>{t.cancel_on_exit&&Qv(s)&&s.tagName==="IMG"&&(Ic(s),P_(s),_g(s),Cn(s,t.class_loading),cu(i,-1),rl(s),Es(t.callback_cancel,s,e,i))},V_=(s,e,t,i)=>{const n=i_(s);sr(s,Kv),$r(s,t.class_entered),Cn(s,t.class_exited),a_(s,t,i),Es(t.callback_enter,s,e,i),!n&&hu(s,t,i)},U_=(s,e,t,i)=>{ou(s)||($r(s,t.class_exited),B_(s,e,t,i),Es(t.callback_exit,s,e,i))},W_=["IMG","IFRAME","VIDEO"],wg=s=>s.use_native&&"loading"in HTMLImageElement.prototype,G_=(s,e,t)=>{s.forEach(i=>{W_.indexOf(i.tagName)!==-1&&k_(i,e,t)}),ag(t,0)},H_=s=>s.isIntersecting||s.intersectionRatio>0,j_=s=>({root:s.container===document?null:s.container,rootMargin:s.thresholds||s.threshold+"px"}),Y_=(s,e,t)=>{s.forEach(i=>H_(i)?V_(i.target,i,e,t):U_(i.target,i,e,t))},q_=(s,e)=>{e.forEach(t=>{s.observe(t)})},X_=(s,e)=>{r_(s),q_(s,e)},Z_=(s,e)=>{!Xm||wg(s)||(e._observer=new IntersectionObserver(t=>{Y_(t,s,e)},j_(s)))},bg=s=>Array.prototype.slice.call(s),Uo=s=>s.container.querySelectorAll(s.elements_selector),$_=s=>bg(s).filter(ou),K_=s=>e_(s),J_=s=>bg(s).filter(K_),df=(s,e)=>$_(s||Uo(e)),Q_=(s,e)=>{J_(Uo(s)).forEach(i=>{Cn(i,s.class_error),rl(i)}),e.update()},e1=(s,e)=>{Ms&&(e._onlineHandler=()=>{Q_(s,e)},window.addEventListener("online",e._onlineHandler))},t1=s=>{Ms&&window.removeEventListener("online",s._onlineHandler)},Ts=function(s,e){const t=Km(s);this._settings=t,this.loadingCount=0,Z_(t,this),e1(t,this),this.update(e)};Ts.prototype={update:function(s){const e=this._settings,t=df(s,e);if(ag(this,t.length),qm||!Xm){this.loadAll(t);return}if(wg(e)){G_(t,e,this);return}X_(this._observer,t)},destroy:function(){this._observer&&this._observer.disconnect(),t1(this),Uo(this._settings).forEach(s=>{dg(s)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(s){const e=this._settings;df(s,e).forEach(i=>{al(i,this),hu(i,e,this)})},restoreAll:function(){const s=this._settings;Uo(s).forEach(e=>{N_(e,s)})}};Ts.load=(s,e)=>{const t=Km(e);hu(s,t)};Ts.resetStatus=s=>{rl(s)};Ms&&$v(Ts,window.lazyLoadOptions);function hf(s){let e,t;function i(a,o){return o&4225&&(e=null),e==null&&(e=a[0].indexOf(".svg")>-1||a[7]!=="responsive"||a[12].length<=0),e?n1:i1}let n=i(s,-1),r=n(s);return{c(){r.c(),t=ue()},l(a){r.l(a),t=ue()},m(a,o){r.m(a,o),Q(a,t,o)},p(a,o){n===(n=i(a,o))&&r?r.p(a,o):(r.d(1),r=n(a),r&&(r.c(),r.m(t.parentNode,t)))},d(a){a&&D(t),r.d(a)}}}function i1(s){let e,t,i,n,r,a,o,l;return{c(){e=Y("picture"),t=Y("source"),i=le(),n=Y("img"),this.h()},l(c){e=q(c,"PICTURE",{class:!0});var u=G(e);t=q(u,"SOURCE",{"data-srcset":!0,sizes:!0}),i=ce(u),n=q(u,"IMG",{alt:!0,class:!0,src:!0,width:!0,height:!0,"data-src":!0}),u.forEach(D),this.h()},h(){T(t,"data-srcset",s[13].set),T(t,"sizes",s[1]),T(n,"alt",s[2]),T(n,"class",r="lazy "+(s[3]?"object-cover w-full h-full absolute object-center":"max-w-full")+" transition-opacity opacity-0"),La(n.src,a=s[8]===!0&&s[13].placeholder?s[13].placeholder:null)||T(n,"src",a),T(n,"width",s[6]),T(n,"height",s[5]),T(n,"data-src",s[13].base),T(e,"class",o=(s[3]?"object-cover w-full h-full absolute object-center z-0":"max-w-full")+" "+(s[4]?"object-contain w-full h-full absolute object-center z-0":"")),gt(()=>s[21].call(e))},m(c,u){Q(c,e,u),B(e,t),B(e,i),B(e,n),s[20](e),l=Qt(e,s[21].bind(e))},p(c,u){u&2&&T(t,"sizes",c[1]),u&4&&T(n,"alt",c[2]),u&8&&r!==(r="lazy "+(c[3]?"object-cover w-full h-full absolute object-center":"max-w-full")+" transition-opacity opacity-0")&&T(n,"class",r),u&256&&!La(n.src,a=c[8]===!0&&c[13].placeholder?c[13].placeholder:null)&&T(n,"src",a),u&64&&T(n,"width",c[6]),u&32&&T(n,"height",c[5]),u&24&&o!==(o=(c[3]?"object-cover w-full h-full absolute object-center z-0":"max-w-full")+" "+(c[4]?"object-contain w-full h-full absolute object-center z-0":""))&&T(e,"class",o)},d(c){c&&D(e),s[20](null),l()}}}function n1(s){let e,t,i,n,r,a;return{c(){e=Y("div"),t=Y("img"),this.h()},l(o){e=q(o,"DIV",{class:!0});var l=G(e);t=q(l,"IMG",{alt:!0,class:!0,width:!0,height:!0,"data-src":!0}),l.forEach(D),this.h()},h(){T(t,"alt",s[2]),T(t,"class",i="lazy "+(s[3]?"object-cover w-full h-full absolute object-center":"")+" "+(s[4]?"object-contain w-full h-full absolute object-center":"")+" transition-opacity opacity-0"),T(t,"width",s[6]),T(t,"height",n=s[5]?s[5]:!1),T(t,"data-src",s[0]),T(e,"class",r=(s[3]?"object-cover w-full h-full absolute object-center z-0":"max-w-full")+" "+(s[4]?"object-contain w-full h-full absolute object-center z-0":"")),gt(()=>s[19].call(e))},m(o,l){Q(o,e,l),B(e,t),s[18](e),a=Qt(e,s[19].bind(e))},p(o,l){l&4&&T(t,"alt",o[2]),l&24&&i!==(i="lazy "+(o[3]?"object-cover w-full h-full absolute object-center":"")+" "+(o[4]?"object-contain w-full h-full absolute object-center":"")+" transition-opacity opacity-0")&&T(t,"class",i),l&64&&T(t,"width",o[6]),l&32&&n!==(n=o[5]?o[5]:!1)&&T(t,"height",n),l&1&&T(t,"data-src",o[0]),l&24&&r!==(r=(o[3]?"object-cover w-full h-full absolute object-center z-0":"max-w-full")+" "+(o[4]?"object-contain w-full h-full absolute object-center z-0":""))&&T(e,"class",r)},d(o){o&&D(e),s[18](null),a()}}}function s1(s){let e,t,i;gt(s[17]);let n=s[0]&&hf(s);return{c(){n&&n.c(),e=ue()},l(r){n&&n.l(r),e=ue()},m(r,a){n&&n.m(r,a),Q(r,e,a),t||(i=Qe(window,"resize",s[17]),t=!0)},p(r,[a]){r[0]?n?n.p(r,a):(n=hf(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Pe,o:Pe,d(r){r&&D(e),n&&n.d(r),t=!1,i()}}}let or=240,io=90;function r1(s,e,t){let i;Yt(s,Xt,A=>t(25,i=A));let{alt:n=""}=e,{animation:r=""}=e,{breakpoint:a=768}=e,{cover:o=!1}=e,{contain:l=!1}=e,{height:c}=e,{src:u}=e,{srcMobile:h=u}=e,{width:f=2048}=e,{type:d="responsive"}=e,{placeholder:g=!1}=e,{sizes:p="100vw"}=e,m,v=[or,360,480,640,800,1040,1280,1540,1880],w=0,_=0;v=v.filter(A=>A<=f);let x=Ym({breakpoint:a,src:u,srcMobile:h,quality:io,width:f,widths:v});const b=(A,I,R)=>R>a?`${A}&w=${R} ${R}w`:`${I}&w=${R} ${R}w`,S=(A,I,R)=>R>a?`/_vercel/image?url=${encodeURIComponent(A+`&w=${R}`)}&w=${R}&q=${io} ${R}w`:`/_vercel/image?url=${encodeURIComponent(I+`&w=${R}`)}&w=${R}&q=${io} ${R}w`;let M=v.map(A=>b(u,h,A)),y=or;v.length>0&&(y=v.reduce((A,I)=>Math.abs(I-f)<Math.abs(A-f)?I:A)),u.indexOf(".svg")<=-1&&(u=`${u}&w=${y<or?or:y}`),u.indexOf(".svg")<=-1&&(M=v.map(A=>S(u,h,A)),u=`/_vercel/image?url=${encodeURIComponent(`${u}`)}&w=${y<or?or:y}&q=${io}`),Pi(()=>{i.lazyLoad||Wa(Xt,i.lazyLoad=new Ts({threshold:1600,callback_loaded:A=>{A.style.opacity="1"}}),i),i.lazyLoad.update(),(r=="hover"||r=="animate")&&Ht.fromTo(m,{y:"20px"},{y:"0px",duration:1.4,ease:"Power1.easeInOut",yoyo:!0,repeat:-1}),r=="bounce"&&Ht.fromTo(m,{y:"30px"},{y:"0px",duration:1.1,ease:"Power2.easeOut",yoyo:!0,repeat:-1}),r=="oscillate"&&Ht.fromTo(m,{rotate:"30deg"},{rotate:"-30deg",duration:1.4,ease:"Power2.easeInOut",yoyo:!0,repeat:-1}),r=="spin"&&Ht.fromTo(m,{rotate:"0deg"},{rotate:"360deg",duration:7.5,ease:"linear",repeat:-1})});function E(){t(10,_=window.innerWidth)}function C(A){Mt[A?"unshift":"push"](()=>{m=A,t(11,m)})}function P(){w=this.clientWidth,t(9,w)}function L(A){Mt[A?"unshift":"push"](()=>{m=A,t(11,m)})}function k(){w=this.clientWidth,t(9,w)}return s.$$set=A=>{"alt"in A&&t(2,n=A.alt),"animation"in A&&t(14,r=A.animation),"breakpoint"in A&&t(15,a=A.breakpoint),"cover"in A&&t(3,o=A.cover),"contain"in A&&t(4,l=A.contain),"height"in A&&t(5,c=A.height),"src"in A&&t(0,u=A.src),"srcMobile"in A&&t(16,h=A.srcMobile),"width"in A&&t(6,f=A.width),"type"in A&&t(7,d=A.type),"placeholder"in A&&t(8,g=A.placeholder),"sizes"in A&&t(1,p=A.sizes)},s.$$.update=()=>{s.$$.dirty&1536&&w>0&&_>0&&t(1,p=`${Math.round(w/_*100)}vw`)},[u,p,n,o,l,c,f,d,g,w,_,m,M,x,r,a,h,E,C,P,L,k]}class ei extends nt{constructor(e){super(),st(this,e,r1,s1,Ge,{alt:2,animation:14,breakpoint:15,cover:3,contain:4,height:5,src:0,srcMobile:16,width:6,type:7,placeholder:8,sizes:1})}}function pf(s){let e,t,i,n;const r=[o1,a1],a=[];function o(l,c){return l[1]===!0||l[1]===!1&&l[3]===!0&&l[5]<769?0:1}return e=o(s),t=a[e]=r[e](s),{c(){t.c(),i=ue()},l(l){t.l(l),i=ue()},m(l,c){a[e].m(l,c),Q(l,i,c),n=!0},p(l,c){let u=e;e=o(l),e===u?a[e].p(l,c):(Se(),W(a[u],1,1,()=>{a[u]=null}),Me(),t=a[e],t?t.p(l,c):(t=a[e]=r[e](l),t.c()),F(t,1),t.m(i.parentNode,i))},i(l){n||(F(t),n=!0)},o(l){W(t),n=!1},d(l){l&&D(i),a[e].d(l)}}}function a1(s){let e,t,i,n,r,a=Ut(s[0].data.promo_description)+"",o,l,c,u=Ut(s[0].data.promo_cta_text)+"",h,f,d,g,p,m;return i=new nr({props:{vertical:!0}}),{c(){e=Y("div"),t=Y("div"),_e(i.$$.fragment),n=le(),r=Y("p"),o=je(a),l=le(),c=Y("a"),h=je(u),this.h()},l(v){e=q(v,"DIV",{class:!0});var w=G(e);t=q(w,"DIV",{class:!0});var _=G(t);xe(i.$$.fragment,_),_.forEach(D),n=ce(w),r=q(w,"P",{class:!0});var x=G(r);o=Ye(x,a),x.forEach(D),l=ce(w),c=q(w,"A",{class:!0,href:!0,target:!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0});var b=G(c);h=Ye(b,u),b.forEach(D),w.forEach(D),this.h()},h(){var v,w,_,x,b,S,M;T(t,"class","max-w-[36px] hidden dk:block transition-all duration-200"),T(r,"class","transition-all text-center duration-200 px-[15px] mb-0 w-full hidden dk:block"),T(c,"class",f="btn transition-all duration-200 w-full dk:w-auto dk:mb-0 "+(s[5]<769?`!p-[15px] btn-${s[4]} btn-alt pointer-events-auto`:`btn-${s[7]}`)+" block text-center whitespace-nowrap"),T(c,"href",d=gi(s[0].data.promo_cta)),T(c,"target",g=(_=(w=(v=s[0])==null?void 0:v.data)==null?void 0:w.promo_cta)!=null&&_.url&&((S=(b=(x=s[0])==null?void 0:x.data)==null?void 0:b.promo_cta)==null?void 0:S.url.indexOf("checkout"))<0?(M=s[0].data.promo_cta)==null?void 0:M.target:null),T(c,"data-event-name","conversion"),T(c,"data-event-param","conversion_type"),T(c,"data-event-value","Open Checkout - Fixed Promo"),T(e,"class",p="w-full max-w-[875px] m-auto overflow-hidden flex justify-between items-center dk:p-[20px] dk:rounded-[20px] relative transition-all duration-200 "+(s[5]<769?"":`theme-${s[4]}`)+" pointer-events-auto")},m(v,w){Q(v,e,w),B(e,t),we(i,t,null),B(e,n),B(e,r),B(r,o),B(e,l),B(e,c),B(c,h),m=!0},p(v,w){var _,x,b,S,M,y,E;(!m||w&1)&&a!==(a=Ut(v[0].data.promo_description)+"")&&ut(o,a),(!m||w&1)&&u!==(u=Ut(v[0].data.promo_cta_text)+"")&&ut(h,u),(!m||w&176&&f!==(f="btn transition-all duration-200 w-full dk:w-auto dk:mb-0 "+(v[5]<769?`!p-[15px] btn-${v[4]} btn-alt pointer-events-auto`:`btn-${v[7]}`)+" block text-center whitespace-nowrap"))&&T(c,"class",f),(!m||w&1&&d!==(d=gi(v[0].data.promo_cta)))&&T(c,"href",d),(!m||w&1&&g!==(g=(b=(x=(_=v[0])==null?void 0:_.data)==null?void 0:x.promo_cta)!=null&&b.url&&((y=(M=(S=v[0])==null?void 0:S.data)==null?void 0:M.promo_cta)==null?void 0:y.url.indexOf("checkout"))<0?(E=v[0].data.promo_cta)==null?void 0:E.target:null))&&T(c,"target",g),(!m||w&48&&p!==(p="w-full max-w-[875px] m-auto overflow-hidden flex justify-between items-center dk:p-[20px] dk:rounded-[20px] relative transition-all duration-200 "+(v[5]<769?"":`theme-${v[4]}`)+" pointer-events-auto"))&&T(e,"class",p)},i(v){m||(F(i.$$.fragment,v),m=!0)},o(v){W(i.$$.fragment,v),m=!1},d(v){v&&D(e),be(i)}}}function o1(s){var O,z,V,$;let e,t,i,n,r,a,o,l,c,u,h=Ut(s[0].data.promo_headline)+"",f,d,g,p,m=Ut(s[0].data.promo_description)+"",v,w,_,x,b=Ut(s[0].data.promo_cta_text)+"",S,M,y,E,C,P,L;i=new nr({props:{vertical:!0}});let k=s[5]>=769&&mf(s),A=((O=s[0].data)==null?void 0:O.use_headline_mobile)!==!0&&gf(s),I=((z=s[0].data)==null?void 0:z.use_headline_mobile)===!0&&vf(s),R=(($=(V=s[0])==null?void 0:V.data)==null?void 0:$.secondary_link)&&_f(s);return{c(){e=Y("div"),t=Y("a"),_e(i.$$.fragment),r=le(),a=Y("div"),k&&k.c(),o=le(),A&&A.c(),l=le(),I&&I.c(),c=le(),u=Y("p"),f=je(h),g=le(),p=Y("p"),v=je(m),_=le(),x=Y("a"),S=je(b),C=le(),R&&R.c(),this.h()},l(K){e=q(K,"DIV",{class:!0});var U=G(e);t=q(U,"A",{href:!0,class:!0});var ee=G(t);xe(i.$$.fragment,ee),ee.forEach(D),r=ce(U),a=q(U,"DIV",{class:!0});var Z=G(a);k&&k.l(Z),o=ce(Z),A&&A.l(Z),l=ce(Z),I&&I.l(Z),c=ce(Z),u=q(Z,"P",{class:!0});var te=G(u);f=Ye(te,h),te.forEach(D),g=ce(Z),p=q(Z,"P",{class:!0});var j=G(p);v=Ye(j,m),j.forEach(D),_=ce(Z),x=q(Z,"A",{class:!0,href:!0,target:!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0});var ie=G(x);S=Ye(ie,b),ie.forEach(D),C=ce(Z),R&&R.l(Z),Z.forEach(D),U.forEach(D),this.h()},h(){var K,U,ee,Z,te,j,ie;T(t,"href","/"),T(t,"class",n="max-w-[36px] hidden dk:block transition-all duration-200 "+(s[6]>0&&s[5]<769?"!opacity-0 pointer-events-none":"pointer-events-auto")),T(u,"class",d="h4 hidden dk:block transition-all duration-200 "+(s[6]>0&&s[5]<769?"!opacity-0 pointer-events-none":"")),T(p,"class",w="transition-all duration-200 "+(s[6]>0&&s[5]<769?"!opacity-0 pointer-events-none":"")),T(x,"class",M="btn transition-all duration-200 pointer-events-auto "+(s[6]>0&&s[5]<769?`!p-[15px] btn-${s[2]} btn-alt`:`btn-${s[7]}`)+" block"),T(x,"href",y=gi(s[0].data.promo_cta)),T(x,"target",E=(ee=(U=(K=s[0])==null?void 0:K.data)==null?void 0:U.promo_cta)!=null&&ee.url&&((j=(te=(Z=s[0])==null?void 0:Z.data)==null?void 0:te.promo_cta)==null?void 0:j.url.indexOf("checkout"))<0?(ie=s[0].data.promo_cta)==null?void 0:ie.target:null),T(x,"data-event-name","conversion"),T(x,"data-event-param","conversion_type"),T(x,"data-event-value","Open Checkout - Split Promo"),T(a,"class","dk:absolute m-auto w-full dk:px-[15px] max-w-screen-xs text-center dk:true-center pointer-events-none"),T(e,"class",P="h-full w-full overflow-hidden px-[15px] pt-[40px] pb-[30px] dk:p-[24px] dk:rounded-[20px] relative transition-all duration-200 "+(s[6]>0&&s[5]<769?"!pb-[0px] !bg-transparent pointer-events-none":"")+" theme-"+s[4])},m(K,U){Q(K,e,U),B(e,t),we(i,t,null),B(e,r),B(e,a),k&&k.m(a,null),B(a,o),A&&A.m(a,null),B(a,l),I&&I.m(a,null),B(a,c),B(a,u),B(u,f),B(a,g),B(a,p),B(p,v),B(a,_),B(a,x),B(x,S),B(a,C),R&&R.m(a,null),L=!0},p(K,U){var ee,Z,te,j,ie,oe,ve,ge,Le,Re,ke;(!L||U&96&&n!==(n="max-w-[36px] hidden dk:block transition-all duration-200 "+(K[6]>0&&K[5]<769?"!opacity-0 pointer-events-none":"pointer-events-auto")))&&T(t,"class",n),K[5]>=769?k?(k.p(K,U),U&32&&F(k,1)):(k=mf(K),k.c(),F(k,1),k.m(a,o)):k&&(Se(),W(k,1,1,()=>{k=null}),Me()),((ee=K[0].data)==null?void 0:ee.use_headline_mobile)!==!0?A?(A.p(K,U),U&1&&F(A,1)):(A=gf(K),A.c(),F(A,1),A.m(a,l)):A&&(Se(),W(A,1,1,()=>{A=null}),Me()),((Z=K[0].data)==null?void 0:Z.use_headline_mobile)===!0?I?I.p(K,U):(I=vf(K),I.c(),I.m(a,c)):I&&(I.d(1),I=null),(!L||U&1)&&h!==(h=Ut(K[0].data.promo_headline)+"")&&ut(f,h),(!L||U&96&&d!==(d="h4 hidden dk:block transition-all duration-200 "+(K[6]>0&&K[5]<769?"!opacity-0 pointer-events-none":"")))&&T(u,"class",d),(!L||U&1)&&m!==(m=Ut(K[0].data.promo_description)+"")&&ut(v,m),(!L||U&96&&w!==(w="transition-all duration-200 "+(K[6]>0&&K[5]<769?"!opacity-0 pointer-events-none":"")))&&T(p,"class",w),(!L||U&1)&&b!==(b=Ut(K[0].data.promo_cta_text)+"")&&ut(S,b),(!L||U&228&&M!==(M="btn transition-all duration-200 pointer-events-auto "+(K[6]>0&&K[5]<769?`!p-[15px] btn-${K[2]} btn-alt`:`btn-${K[7]}`)+" block"))&&T(x,"class",M),(!L||U&1&&y!==(y=gi(K[0].data.promo_cta)))&&T(x,"href",y),(!L||U&1&&E!==(E=(ie=(j=(te=K[0])==null?void 0:te.data)==null?void 0:j.promo_cta)!=null&&ie.url&&((ge=(ve=(oe=K[0])==null?void 0:oe.data)==null?void 0:ve.promo_cta)==null?void 0:ge.url.indexOf("checkout"))<0?(Le=K[0].data.promo_cta)==null?void 0:Le.target:null))&&T(x,"target",E),(ke=(Re=K[0])==null?void 0:Re.data)!=null&&ke.secondary_link?R?R.p(K,U):(R=_f(K),R.c(),R.m(a,null)):R&&(R.d(1),R=null),(!L||U&112&&P!==(P="h-full w-full overflow-hidden px-[15px] pt-[40px] pb-[30px] dk:p-[24px] dk:rounded-[20px] relative transition-all duration-200 "+(K[6]>0&&K[5]<769?"!pb-[0px] !bg-transparent pointer-events-none":"")+" theme-"+K[4]))&&T(e,"class",P)},i(K){L||(F(i.$$.fragment,K),F(k),F(A),L=!0)},o(K){W(i.$$.fragment,K),W(k),W(A),L=!1},d(K){K&&D(e),be(i),k&&k.d(),A&&A.d(),I&&I.d(),R&&R.d()}}}function mf(s){let e,t,i,n,r;const a=[c1,l1],o=[];function l(c,u){var h,f;return((f=(h=c[0].data.custom_image)==null?void 0:h.url)==null?void 0:f.length)>0&&c[0].data.promo_image=="Custom Image"?0:1}return t=l(s),i=o[t]=a[t](s),{c(){e=Y("div"),i.c(),this.h()},l(c){e=q(c,"DIV",{class:!0});var u=G(e);i.l(u),u.forEach(D),this.h()},h(){T(e,"class",n="mb-[18px] dk:mb-[30px] hidden dk:block transition-all duration-200 "+(s[6]>0&&s[5]<769?"!opacity-0 pointer-events-none":""))},m(c,u){Q(c,e,u),o[t].m(e,null),r=!0},p(c,u){let h=t;t=l(c),t===h?o[t].p(c,u):(Se(),W(o[h],1,1,()=>{o[h]=null}),Me(),i=o[t],i?i.p(c,u):(i=o[t]=a[t](c),i.c()),F(i,1),i.m(e,null)),(!r||u&96&&n!==(n="mb-[18px] dk:mb-[30px] hidden dk:block transition-all duration-200 "+(c[6]>0&&c[5]<769?"!opacity-0 pointer-events-none":"")))&&T(e,"class",n)},i(c){r||(F(i),r=!0)},o(c){W(i),r=!1},d(c){c&&D(e),o[t].d()}}}function l1(s){let e,t;return e=new sl({props:{theme:s[4],theme_alt:s[2]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&16&&(r.theme=i[4]),n&4&&(r.theme_alt=i[2]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function c1(s){let e,t;return e=new ei({props:{src:s[0].data.custom_image.url,width:s[0].data.custom_image.dimensions.width,height:s[0].data.custom_image.dimensions.height}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&1&&(r.src=i[0].data.custom_image.url),n&1&&(r.width=i[0].data.custom_image.dimensions.width),n&1&&(r.height=i[0].data.custom_image.dimensions.height),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function gf(s){let e,t,i,n;return t=new wv({}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(r){e=q(r,"DIV",{class:!0});var a=G(e);xe(t.$$.fragment,a),a.forEach(D),this.h()},h(){T(e,"class",i="max-w-[132px] mx-auto mb-[20px] block dk:hidden transition-all duration-200 "+(s[6]>0&&s[5]<769?"!opacity-0 pointer-events-none":""))},m(r,a){Q(r,e,a),we(t,e,null),n=!0},p(r,a){(!n||a&96&&i!==(i="max-w-[132px] mx-auto mb-[20px] block dk:hidden transition-all duration-200 "+(r[6]>0&&r[5]<769?"!opacity-0 pointer-events-none":"")))&&T(e,"class",i)},i(r){n||(F(t.$$.fragment,r),n=!0)},o(r){W(t.$$.fragment,r),n=!1},d(r){r&&D(e),be(t)}}}function vf(s){let e,t=Ut(s[0].data.promo_headline)+"",i,n;return{c(){e=Y("p"),i=je(t),this.h()},l(r){e=q(r,"P",{class:!0});var a=G(e);i=Ye(a,t),a.forEach(D),this.h()},h(){T(e,"class",n="h5 block dk:hidden transition-all duration-200 "+(s[6]>0&&s[5]<769?"!opacity-0 pointer-events-none":""))},m(r,a){Q(r,e,a),B(e,i)},p(r,a){a&1&&t!==(t=Ut(r[0].data.promo_headline)+"")&&ut(i,t),a&96&&n!==(n="h5 block dk:hidden transition-all duration-200 "+(r[6]>0&&r[5]<769?"!opacity-0 pointer-events-none":""))&&T(e,"class",n)},d(r){r&&D(e)}}}function _f(s){let e,t=Ut(s[0].data.secondary_link_text)+"",i,n,r,a;return{c(){e=Y("a"),i=je(t),this.h()},l(o){e=q(o,"A",{class:!0,href:!0,target:!0});var l=G(e);i=Ye(l,t),l.forEach(D),this.h()},h(){T(e,"class",n="inline-block pointer-events-auto transition-all duration-200 font-bold text-xs leading-none uppercase "+(s[6]>0&&s[5]<769?"!opacity-0 !h-0 pointer-events-none relative !mt-0":"mt-[20px]")),T(e,"href",r=gi(s[0].data.secondary_link)),T(e,"target",a=s[0].data.secondary_link.target)},m(o,l){Q(o,e,l),B(e,i)},p(o,l){l&1&&t!==(t=Ut(o[0].data.secondary_link_text)+"")&&ut(i,t),l&96&&n!==(n="inline-block pointer-events-auto transition-all duration-200 font-bold text-xs leading-none uppercase "+(o[6]>0&&o[5]<769?"!opacity-0 !h-0 pointer-events-none relative !mt-0":"mt-[20px]"))&&T(e,"class",n),l&1&&r!==(r=gi(o[0].data.secondary_link))&&T(e,"href",r),l&1&&a!==(a=o[0].data.secondary_link.target)&&T(e,"target",a)},d(o){o&&D(e)}}}function wf(s){let e,t,i=s[0].uid&&pf(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,r){n[0].uid?i?(i.p(n,r),r&1&&F(i,1)):(i=pf(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function u1(s){let e=!1,t=()=>{e=!1},i,n=s[0].id,r,a,o,l;gt(s[8]),gt(s[9]);let c=wf(s);return{c(){c.c(),r=ue()},l(u){c.l(u),r=ue()},m(u,h){c.m(u,h),Q(u,r,h),a=!0,o||(l=[Qe(window,"scroll",()=>{e=!0,clearTimeout(i),i=setTimeout(t,100),s[8]()}),Qe(window,"resize",s[9])],o=!0)},p(u,[h]){h&64&&!e&&(e=!0,clearTimeout(i),scrollTo(window.pageXOffset,u[6]),i=setTimeout(t,100)),h&1&&Ge(n,n=u[0].id)?(Se(),W(c,1,1,Pe),Me(),c=wf(u),c.c(),F(c,1),c.m(r.parentNode,r)):c.p(u,h)},i(u){a||(F(c),a=!0)},o(u){W(c),a=!1},d(u){u&&D(r),c.d(u),o=!1,Qi(l)}}}function f1(s,e,t){let i,n,r,a,{promoData:o={}}=e,{split:l=!1}=e,{theme:c="primary"}=e,{size:u=!0}=e;function h(){t(6,r=window.pageYOffset)}function f(){t(5,a=window.innerWidth)}return s.$$set=d=>{"promoData"in d&&t(0,o=d.promoData),"split"in d&&t(1,l=d.split),"theme"in d&&t(2,c=d.theme),"size"in d&&t(3,u=d.size)},s.$$.update=()=>{s.$$.dirty&4&&t(4,i=c=="primary"?"secondary":"primary"),s.$$.dirty&16&&t(7,n=i?"primary":"secondary")},t(6,r=0),t(5,a=null),[o,l,c,u,i,a,r,n,h,f]}class X4 extends nt{constructor(e){super(),st(this,e,f1,u1,Ge,{promoData:0,split:1,theme:2,size:3})}}function bf(s){let e,t;return{c(){e=new In(!1),t=ue(),this.h()},l(i){e=Rn(i,!1),t=ue(),this.h()},h(){e.a=t},m(i,n){e.m(s[1],i,n),Q(i,t,n)},p(i,n){n&2&&e.p(i[1])},d(i){i&&(D(t),e.d())}}}function yf(s){let e,t;return{c(){e=new In(!1),t=ue(),this.h()},l(i){e=Rn(i,!1),t=ue(),this.h()},h(){e.a=t},m(i,n){e.m(s[1],i,n),Q(i,t,n)},p(i,n){n&2&&e.p(i[1])},d(i){i&&(D(t),e.d())}}}function d1(s){let e,t,i,n=s[2]&&s[0]==="head"&&bf(s),r=s[2]&&s[0]==="body"&&yf(s);return{c(){n&&n.c(),e=ue(),t=le(),r&&r.c(),i=ue()},l(a){const o=mv("svelte-1rghca7",document.head);n&&n.l(o),e=ue(),o.forEach(D),t=ce(a),r&&r.l(a),i=ue()},m(a,o){n&&n.m(document.head,null),B(document.head,e),Q(a,t,o),r&&r.m(a,o),Q(a,i,o)},p(a,[o]){a[2]&&a[0]==="head"?n?n.p(a,o):(n=bf(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a[2]&&a[0]==="body"?r?r.p(a,o):(r=yf(a),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i:Pe,o:Pe,d(a){a&&(D(t),D(i)),n&&n.d(a),D(e),r&&r.d(a)}}}function h1(s){const e=t=>({"@context":"https://schema.org",...t});return Array.isArray(s)?s.map(t=>e(t)):e(s)}function p1(s,e,t){let i,n,{output:r="head"}=e,{schema:a=void 0}=e;return s.$$set=o=>{"output"in o&&t(0,r=o.output),"schema"in o&&t(3,a=o.schema)},s.$$.update=()=>{s.$$.dirty&8&&t(2,i=a&&typeof a=="object"),s.$$.dirty&8&&t(1,n=`<script type="application/ld+json">${JSON.stringify(h1(a))}<\/script>`)},[r,n,i,a]}class m1 extends nt{constructor(e){super(),st(this,e,p1,d1,Ge,{output:0,schema:3})}}function g1(s){let e,t=cn(s[0])+"",i;return{c(){e=new In(!1),i=ue(),this.h()},l(n){e=Rn(n,!1),i=ue(),this.h()},h(){e.a=i},m(n,r){e.m(t,n,r),Q(n,i,r)},p(n,r){r&1&&t!==(t=cn(n[0])+"")&&e.p(t)},d(n){n&&(D(i),e.d())}}}function v1(s){let e,t,i=cn(s[0])+"";return{c(){e=Y("div"),t=new In(!1),this.h()},l(n){e=q(n,"DIV",{class:!0,style:!0});var r=G(e);t=Rn(r,!1),r.forEach(D),this.h()},h(){t.a=null,T(e,"class","text-[length:var(--scale)]"),Ce(e,"--scale",s[1]+"%")},m(n,r){Q(n,e,r),t.m(i,e)},p(n,r){r&1&&i!==(i=cn(n[0])+"")&&t.p(i),r&2&&Ce(e,"--scale",n[1]+"%")},d(n){n&&D(e)}}}function _1(s){let e;function t(r,a){return r[1]&&r[1]!=100?v1:g1}let i=t(s),n=i(s);return{c(){n.c(),e=ue()},l(r){n.l(r),e=ue()},m(r,a){n.m(r,a),Q(r,e,a)},p(r,[a]){i===(i=t(r))&&n?n.p(r,a):(n.d(1),n=i(r),n&&(n.c(),n.m(e.parentNode,e)))},i:Pe,o:Pe,d(r){r&&D(e),n.d(r)}}}function w1(s,e,t){let{content:i=[]}=e,{scale:n=100}=e;return s.$$set=r=>{"content"in r&&t(0,i=r.content),"scale"in r&&t(1,n=r.scale)},[i,n]}class Bi extends nt{constructor(e){super(),st(this,e,w1,_1,Ge,{content:0,scale:1})}}function xf(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function pu(s,e){s===void 0&&(s={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof s[t]>"u"?s[t]=e[t]:xf(e[t])&&xf(s[t])&&Object.keys(e[t]).length>0&&pu(s[t],e[t])})}const yg={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function yi(){const s=typeof document<"u"?document:{};return pu(s,yg),s}const b1={document:yg,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout>"u"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout>"u"||clearTimeout(s)}};function jt(){const s=typeof window<"u"?window:{};return pu(s,b1),s}function y1(s){const e=s;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Ks(s,e){return e===void 0&&(e=0),setTimeout(s,e)}function ln(){return Date.now()}function x1(s){const e=jt();let t;return e.getComputedStyle&&(t=e.getComputedStyle(s,null)),!t&&s.currentStyle&&(t=s.currentStyle),t||(t=s.style),t}function Rc(s,e){e===void 0&&(e="x");const t=jt();let i,n,r;const a=x1(s);return t.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(o=>o.replace(",",".")).join(", ")),r=new t.WebKitCSSMatrix(n==="none"?"":n)):(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?n=r.m41:i.length===16?n=parseFloat(i[12]):n=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?n=r.m42:i.length===16?n=parseFloat(i[13]):n=parseFloat(i[5])),n||0}function _a(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function S1(s){return typeof window<"u"&&typeof window.HTMLElement<"u"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function Yi(){const s=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!S1(i)){const n=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,a=n.length;r<a;r+=1){const o=n[r],l=Object.getOwnPropertyDescriptor(i,o);l!==void 0&&l.enumerable&&(_a(s[o])&&_a(i[o])?i[o].__swiper__?s[o]=i[o]:Yi(s[o],i[o]):!_a(s[o])&&_a(i[o])?(s[o]={},i[o].__swiper__?s[o]=i[o]:Yi(s[o],i[o])):s[o]=i[o])}}}return s}function wa(s,e,t){s.style.setProperty(e,t)}function xg(s){let{swiper:e,targetPosition:t,side:i}=s;const n=jt(),r=-e.translate;let a=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const c=t>r?"next":"prev",u=(f,d)=>c==="next"&&f>=d||c==="prev"&&f<=d,h=()=>{o=new Date().getTime(),a===null&&(a=o);const f=Math.max(Math.min((o-a)/l,1),0),d=.5-Math.cos(f*Math.PI)/2;let g=r+d*(t-r);if(u(g,t)&&(g=t),e.wrapperEl.scrollTo({[i]:g}),u(g,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:g})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(h)};h()}function rr(s){return s.querySelector(".swiper-slide-transform")||s.shadowRoot&&s.shadowRoot.querySelector(".swiper-slide-transform")||s}function mi(s,e){return e===void 0&&(e=""),[...s.children].filter(t=>t.matches(e))}function _n(s,e){e===void 0&&(e=[]);const t=document.createElement(s);return t.classList.add(...Array.isArray(e)?e:[e]),t}function Wo(s){const e=jt(),t=yi(),i=s.getBoundingClientRect(),n=t.body,r=s.clientTop||n.clientTop||0,a=s.clientLeft||n.clientLeft||0,o=s===e?e.scrollY:s.scrollTop,l=s===e?e.scrollX:s.scrollLeft;return{top:i.top+o-r,left:i.left+l-a}}function M1(s,e){const t=[];for(;s.previousElementSibling;){const i=s.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}function E1(s,e){const t=[];for(;s.nextElementSibling;){const i=s.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}function vs(s,e){return jt().getComputedStyle(s,null).getPropertyValue(e)}function Da(s){let e=s,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Hs(s,e){const t=[];let i=s.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function Ma(s,e){function t(i){i.target===s&&(e.call(s,i),s.removeEventListener("transitionend",t))}e&&s.addEventListener("transitionend",t)}function zc(s,e,t){const i=jt();return t?s[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):s.offsetWidth}let Fl;function T1(){const s=jt(),e=yi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&e instanceof s.DocumentTouch)}}function Sg(){return Fl||(Fl=T1()),Fl}let Ol;function C1(s){let{userAgent:e}=s===void 0?{}:s;const t=Sg(),i=jt(),n=i.navigator.platform,r=e||i.navigator.userAgent,a={ios:!1,android:!1},o=i.screen.width,l=i.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const h=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=n==="Win32";let g=n==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&t.touch&&p.indexOf(`${o}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!d&&(a.os="android",a.android=!0),(u||f||h)&&(a.os="ios",a.ios=!0),a}function A1(s){return s===void 0&&(s={}),Ol||(Ol=C1(s)),Ol}let Nl;function L1(){const s=jt();let e=!1;function t(){const i=s.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(t()){const i=String(s.navigator.userAgent);if(i.includes("Version/")){const[n,r]=i.split("Version/")[1].split(" ")[0].split(".").map(a=>Number(a));e=n<16||n===16&&r<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent)}}function k1(){return Nl||(Nl=L1()),Nl}function P1(s){let{swiper:e,on:t,emit:i}=s;const n=jt();let r=null,a=null;const o=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(h=>{a=n.requestAnimationFrame(()=>{const{width:f,height:d}=e;let g=f,p=d;h.forEach(m=>{let{contentBoxSize:v,contentRect:w,target:_}=m;_&&_!==e.el||(g=w?w.width:(v[0]||v).inlineSize,p=w?w.height:(v[0]||v).blockSize)}),(g!==f||p!==d)&&o()})}),r.observe(e.el))},c=()=>{a&&n.cancelAnimationFrame(a),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver<"u"){l();return}n.addEventListener("resize",o),n.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",u)})}function D1(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const r=[],a=jt(),o=function(u,h){h===void 0&&(h={});const f=a.MutationObserver||a.WebkitMutationObserver,d=new f(g=>{if(e.__preventObserver__)return;if(g.length===1){n("observerUpdate",g[0]);return}const p=function(){n("observerUpdate",g[0])};a.requestAnimationFrame?a.requestAnimationFrame(p):a.setTimeout(p,0)});d.observe(u,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:typeof h.childList>"u"?!0:h.childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),r.push(d)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=Hs(e.hostEl);for(let h=0;h<u.length;h+=1)o(u[h])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var I1={on(s,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const n=t?"unshift":"push";return s.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][n](e)}),i},once(s,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function n(){i.off(s,n),n.__emitterProxy&&delete n.__emitterProxy;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];e.apply(i,a)}return n.__emitterProxy=e,i.on(s,n,t)},onAny(s,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof s!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(s)<0&&t.eventsAnyListeners[i](s),t},offAny(s){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(s);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(s,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||s.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((n,r)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&t.eventsListeners[i].splice(r,1)})}),t},emit(){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let e,t,i;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),i=s):(e=r[0].events,t=r[0].data,i=r[0].context||s),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...t])}),s.eventsListeners&&s.eventsListeners[l]&&s.eventsListeners[l].forEach(c=>{c.apply(i,t)})}),s}};function R1(){const s=this;let e,t;const i=s.el;typeof s.params.width<"u"&&s.params.width!==null?e=s.params.width:e=i.clientWidth,typeof s.params.height<"u"&&s.params.height!==null?t=s.params.height:t=i.clientHeight,!(e===0&&s.isHorizontal()||t===0&&s.isVertical())&&(e=e-parseInt(vs(i,"padding-left")||0,10)-parseInt(vs(i,"padding-right")||0,10),t=t-parseInt(vs(i,"padding-top")||0,10)-parseInt(vs(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(s,{width:e,height:t,size:s.isHorizontal()?e:t}))}function z1(){const s=this;function e(P){return s.isHorizontal()?P:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[P]}function t(P,L){return parseFloat(P.getPropertyValue(e(L))||0)}const i=s.params,{wrapperEl:n,slidesEl:r,size:a,rtlTranslate:o,wrongRTL:l}=s,c=s.virtual&&i.virtual.enabled,u=c?s.virtual.slides.length:s.slides.length,h=mi(r,`.${s.params.slideClass}, swiper-slide`),f=c?s.virtual.slides.length:h.length;let d=[];const g=[],p=[];let m=i.slidesOffsetBefore;typeof m=="function"&&(m=i.slidesOffsetBefore.call(s));let v=i.slidesOffsetAfter;typeof v=="function"&&(v=i.slidesOffsetAfter.call(s));const w=s.snapGrid.length,_=s.slidesGrid.length;let x=i.spaceBetween,b=-m,S=0,M=0;if(typeof a>"u")return;typeof x=="string"&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*a:typeof x=="string"&&(x=parseFloat(x)),s.virtualSize=-x,h.forEach(P=>{o?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(wa(n,"--swiper-centered-offset-before",""),wa(n,"--swiper-centered-offset-after",""));const y=i.grid&&i.grid.rows>1&&s.grid;y&&s.grid.initSlides(f);let E;const C=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(P=>typeof i.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<f;P+=1){E=0;let L;if(h[P]&&(L=h[P]),y&&s.grid.updateSlide(P,L,f,e),!(h[P]&&vs(L,"display")==="none")){if(i.slidesPerView==="auto"){C&&(h[P].style[e("width")]="");const k=getComputedStyle(L),A=L.style.transform,I=L.style.webkitTransform;if(A&&(L.style.transform="none"),I&&(L.style.webkitTransform="none"),i.roundLengths)E=s.isHorizontal()?zc(L,"width",!0):zc(L,"height",!0);else{const R=t(k,"width"),O=t(k,"padding-left"),z=t(k,"padding-right"),V=t(k,"margin-left"),$=t(k,"margin-right"),K=k.getPropertyValue("box-sizing");if(K&&K==="border-box")E=R+V+$;else{const{clientWidth:U,offsetWidth:ee}=L;E=R+O+z+V+$+(ee-U)}}A&&(L.style.transform=A),I&&(L.style.webkitTransform=I),i.roundLengths&&(E=Math.floor(E))}else E=(a-(i.slidesPerView-1)*x)/i.slidesPerView,i.roundLengths&&(E=Math.floor(E)),h[P]&&(h[P].style[e("width")]=`${E}px`);h[P]&&(h[P].swiperSlideSize=E),p.push(E),i.centeredSlides?(b=b+E/2+S/2+x,S===0&&P!==0&&(b=b-a/2-x),P===0&&(b=b-a/2-x),Math.abs(b)<1/1e3&&(b=0),i.roundLengths&&(b=Math.floor(b)),M%i.slidesPerGroup===0&&d.push(b),g.push(b)):(i.roundLengths&&(b=Math.floor(b)),(M-Math.min(s.params.slidesPerGroupSkip,M))%s.params.slidesPerGroup===0&&d.push(b),g.push(b),b=b+E+x),s.virtualSize+=E+x,S=E,M+=1}}if(s.virtualSize=Math.max(s.virtualSize,a)+v,o&&l&&(i.effect==="slide"||i.effect==="coverflow")&&(n.style.width=`${s.virtualSize+x}px`),i.setWrapperSize&&(n.style[e("width")]=`${s.virtualSize+x}px`),y&&s.grid.updateWrapperSize(E,d,e),!i.centeredSlides){const P=[];for(let L=0;L<d.length;L+=1){let k=d[L];i.roundLengths&&(k=Math.floor(k)),d[L]<=s.virtualSize-a&&P.push(k)}d=P,Math.floor(s.virtualSize-a)-Math.floor(d[d.length-1])>1&&d.push(s.virtualSize-a)}if(c&&i.loop){const P=p[0]+x;if(i.slidesPerGroup>1){const L=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/i.slidesPerGroup),k=P*i.slidesPerGroup;for(let A=0;A<L;A+=1)d.push(d[d.length-1]+k)}for(let L=0;L<s.virtual.slidesBefore+s.virtual.slidesAfter;L+=1)i.slidesPerGroup===1&&d.push(d[d.length-1]+P),g.push(g[g.length-1]+P),s.virtualSize+=P}if(d.length===0&&(d=[0]),x!==0){const P=s.isHorizontal()&&o?"marginLeft":e("marginRight");h.filter((L,k)=>!i.cssMode||i.loop?!0:k!==h.length-1).forEach(L=>{L.style[P]=`${x}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let P=0;p.forEach(k=>{P+=k+(x||0)}),P-=x;const L=P-a;d=d.map(k=>k<=0?-m:k>L?L+v:k)}if(i.centerInsufficientSlides){let P=0;if(p.forEach(L=>{P+=L+(x||0)}),P-=x,P<a){const L=(a-P)/2;d.forEach((k,A)=>{d[A]=k-L}),g.forEach((k,A)=>{g[A]=k+L})}}if(Object.assign(s,{slides:h,snapGrid:d,slidesGrid:g,slidesSizesGrid:p}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){wa(n,"--swiper-centered-offset-before",`${-d[0]}px`),wa(n,"--swiper-centered-offset-after",`${s.size/2-p[p.length-1]/2}px`);const P=-s.snapGrid[0],L=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(k=>k+P),s.slidesGrid=s.slidesGrid.map(k=>k+L)}if(f!==u&&s.emit("slidesLengthChange"),d.length!==w&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),g.length!==_&&s.emit("slidesGridLengthChange"),i.watchSlidesProgress&&s.updateSlidesOffset(),!c&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const P=`${i.containerModifierClass}backface-hidden`,L=s.el.classList.contains(P);f<=i.maxBackfaceHiddenSlides?L||s.el.classList.add(P):L&&s.el.classList.remove(P)}}function F1(s){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let n=0,r;typeof s=="number"?e.setTransition(s):s===!0&&e.setTransition(e.params.speed);const a=o=>i?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{t.push(o)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const o=e.activeIndex+r;if(o>e.slides.length&&!i)break;t.push(a(o))}else t.push(a(e.activeIndex));for(r=0;r<t.length;r+=1)if(typeof t[r]<"u"){const o=t[r].offsetHeight;n=o>n?o:n}(n||n===0)&&(e.wrapperEl.style.height=`${n}px`)}function O1(){const s=this,e=s.slides,t=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(s.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-s.cssOverflowAdjustment()}function N1(s){s===void 0&&(s=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:n,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-s;n&&(a=s),i.forEach(l=>{l.classList.remove(t.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=t.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=i[0].swiperSlideOffset);const h=(a+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),f=(a-r[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),d=-(a-u),g=d+e.slidesSizesGrid[l];(d>=0&&d<e.size-1||g>1&&g<=e.size||d<=0&&g>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),i[l].classList.add(t.slideVisibleClass)),c.progress=n?-h:h,c.originalProgress=n?-f:f}}function B1(s){const e=this;if(typeof s>"u"){const u=e.rtlTranslate?-1:1;s=e&&e.translate&&e.translate*u||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:r,isEnd:a,progressLoop:o}=e;const l=r,c=a;if(i===0)n=0,r=!0,a=!0;else{n=(s-e.minTranslate())/i;const u=Math.abs(s-e.minTranslate())<1,h=Math.abs(s-e.maxTranslate())<1;r=u||n<=0,a=h||n>=1,u&&(n=0),h&&(n=1)}if(t.loop){const u=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],d=e.slidesGrid[h],g=e.slidesGrid[e.slidesGrid.length-1],p=Math.abs(s);p>=f?o=(p-f)/g:o=(p+g-d)/g,o>1&&(o-=1)}Object.assign(e,{progress:n,progressLoop:o,isBeginning:r,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(s),r&&!l&&e.emit("reachBeginning toEdge"),a&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!a)&&e.emit("fromEdge"),e.emit("progress",n)}function V1(){const s=this,{slides:e,params:t,slidesEl:i,activeIndex:n}=s,r=s.virtual&&t.virtual.enabled,a=l=>mi(i,`.${t.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let o;if(r)if(t.loop){let l=n-s.virtual.slidesBefore;l<0&&(l=s.virtual.slides.length+l),l>=s.virtual.slides.length&&(l-=s.virtual.slides.length),o=a(`[data-swiper-slide-index="${l}"]`)}else o=a(`[data-swiper-slide-index="${n}"]`);else o=e[n];if(o){o.classList.add(t.slideActiveClass);let l=E1(o,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!l&&(l=e[0]),l&&l.classList.add(t.slideNextClass);let c=M1(o,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(t.slidePrevClass)}s.emitSlidesClasses()}const Do=(s,e)=>{if(!s||s.destroyed||!s.params)return;const t=()=>s.isElement?"swiper-slide":`.${s.params.slideClass}`,i=e.closest(t());if(i){let n=i.querySelector(`.${s.params.lazyPreloaderClass}`);!n&&s.isElement&&(i.shadowRoot?n=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(n=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),n&&n.remove())})),n&&n.remove()}},Bl=(s,e)=>{if(!s.slides[e])return;const t=s.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Fc=s=>{if(!s||s.destroyed||!s.params)return;let e=s.params.lazyPreloadPrevNext;const t=s.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),n=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){const a=n,o=[a-e];o.push(...Array.from({length:e}).map((l,c)=>a+i+c)),s.slides.forEach((l,c)=>{o.includes(l.column)&&Bl(s,c)});return}const r=n+i-1;if(s.params.rewind||s.params.loop)for(let a=n-e;a<=r+e;a+=1){const o=(a%t+t)%t;(o<n||o>r)&&Bl(s,o)}else for(let a=Math.max(n-e,0);a<=Math.min(r+e,t-1);a+=1)a!==n&&(a>r||a<n)&&Bl(s,a)};function U1(s){const{slidesGrid:e,params:t}=s,i=s.rtlTranslate?s.translate:-s.translate;let n;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?n=r:i>=e[r]&&i<e[r+1]&&(n=r+1):i>=e[r]&&(n=r);return t.normalizeSlideIndex&&(n<0||typeof n>"u")&&(n=0),n}function W1(s){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:n,activeIndex:r,realIndex:a,snapIndex:o}=e;let l=s,c;const u=f=>{let d=f-e.virtual.slidesBefore;return d<0&&(d=e.virtual.slides.length+d),d>=e.virtual.slides.length&&(d-=e.virtual.slides.length),d};if(typeof l>"u"&&(l=U1(e)),i.indexOf(t)>=0)c=i.indexOf(t);else{const f=Math.min(n.slidesPerGroupSkip,l);c=f+Math.floor((l-f)/n.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===r){c!==o&&(e.snapIndex=c,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(l));return}let h;e.virtual&&n.virtual.enabled&&n.loop?h=u(l):e.slides[l]?h=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):h=l,Object.assign(e,{previousSnapIndex:o,snapIndex:c,previousRealIndex:a,realIndex:h,previousIndex:r,activeIndex:l}),e.initialized&&Fc(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function G1(s,e){const t=this,i=t.params;let n=s.closest(`.${i.slideClass}, swiper-slide`);!n&&t.isElement&&e&&e.length>1&&e.includes(s)&&[...e.slice(e.indexOf(s)+1,e.length)].forEach(o=>{!n&&o.matches&&o.matches(`.${i.slideClass}, swiper-slide`)&&(n=o)});let r=!1,a;if(n){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===n){r=!0,a=o;break}}if(n&&r)t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var H1={updateSize:R1,updateSlides:z1,updateAutoHeight:F1,updateSlidesOffset:O1,updateSlidesProgress:N1,updateProgress:B1,updateSlidesClasses:V1,updateActiveIndex:W1,updateClickedSlide:G1};function j1(s){s===void 0&&(s=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:n,wrapperEl:r}=e;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let a=Rc(r,s);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function Y1(s,e){const t=this,{rtlTranslate:i,params:n,wrapperEl:r,progress:a}=t;let o=0,l=0;const c=0;t.isHorizontal()?o=i?-s:s:l=s,n.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?o:l,n.cssMode?r[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-o:-l:n.virtualTranslate||(t.isHorizontal()?o-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),r.style.transform=`translate3d(${o}px, ${l}px, ${c}px)`);let u;const h=t.maxTranslate()-t.minTranslate();h===0?u=0:u=(s-t.minTranslate())/h,u!==a&&t.updateProgress(s),t.emit("setTranslate",t.translate,e)}function q1(){return-this.snapGrid[0]}function X1(){return-this.snapGrid[this.snapGrid.length-1]}function Z1(s,e,t,i,n){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const r=this,{params:a,wrapperEl:o}=r;if(r.animating&&a.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(i&&s>l?u=l:i&&s<c?u=c:u=s,r.updateProgress(u),a.cssMode){const h=r.isHorizontal();if(e===0)o[h?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return xg({swiper:r,targetPosition:-u,side:h?"left":"top"}),!0;o.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),t&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),t&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,t&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var $1={getTranslate:j1,setTranslate:Y1,minTranslate:q1,maxTranslate:X1,translateTo:Z1};function K1(s,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${s}ms`,t.wrapperEl.style.transitionDelay=s===0?"0ms":""),t.emit("setTransition",s,e)}function Mg(s){let{swiper:e,runCallbacks:t,direction:i,step:n}=s;const{activeIndex:r,previousIndex:a}=e;let o=i;if(o||(r>a?o="next":r<a?o="prev":o="reset"),e.emit(`transition${n}`),t&&r!==a){if(o==="reset"){e.emit(`slideResetTransition${n}`);return}e.emit(`slideChangeTransition${n}`),o==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}function J1(s,e){s===void 0&&(s=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),Mg({swiper:t,runCallbacks:s,direction:e,step:"Start"}))}function Q1(s,e){s===void 0&&(s=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),Mg({swiper:t,runCallbacks:s,direction:e,step:"End"}))}var ew={setTransition:K1,transitionStart:J1,transitionEnd:Q1};function tw(s,e,t,i,n){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));const r=this;let a=s;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:d,enabled:g}=r;if(r.animating&&o.preventInteractionOnTransition||!g&&!i&&!n)return!1;const p=Math.min(r.params.slidesPerGroupSkip,a);let m=p+Math.floor((a-p)/r.params.slidesPerGroup);m>=l.length&&(m=l.length-1);const v=-l[m];if(o.normalizeSlideIndex)for(let _=0;_<c.length;_+=1){const x=-Math.floor(v*100),b=Math.floor(c[_]*100),S=Math.floor(c[_+1]*100);typeof c[_+1]<"u"?x>=b&&x<S-(S-b)/2?a=_:x>=b&&x<S&&(a=_+1):x>=b&&(a=_)}if(r.initialized&&a!==h&&(!r.allowSlideNext&&(f?v>r.translate&&v>r.minTranslate():v<r.translate&&v<r.minTranslate())||!r.allowSlidePrev&&v>r.translate&&v>r.maxTranslate()&&(h||0)!==a))return!1;a!==(u||0)&&t&&r.emit("beforeSlideChangeStart"),r.updateProgress(v);let w;if(a>h?w="next":a<h?w="prev":w="reset",f&&-v===r.translate||!f&&v===r.translate)return r.updateActiveIndex(a),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),o.effect!=="slide"&&r.setTranslate(v),w!=="reset"&&(r.transitionStart(t,w),r.transitionEnd(t,w)),!1;if(o.cssMode){const _=r.isHorizontal(),x=f?v:-v;if(e===0){const b=r.virtual&&r.params.virtual.enabled;b&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),b&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{d[_?"scrollLeft":"scrollTop"]=x})):d[_?"scrollLeft":"scrollTop"]=x,b&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1})}else{if(!r.support.smoothScroll)return xg({swiper:r,targetPosition:x,side:_?"left":"top"}),!0;d.scrollTo({[_?"left":"top"]:x,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(v),r.updateActiveIndex(a),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(t,w),e===0?r.transitionEnd(t,w):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(x){!r||r.destroyed||x.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(t,w))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function iw(s,e,t,i){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));const n=this;let r=s;return n.params.loop&&(n.virtual&&n.params.virtual.enabled?r=r+n.virtual.slidesBefore:r=n.getSlideIndexByData(r)),n.slideTo(r,e,t,i)}function nw(s,e,t){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0);const i=this,{enabled:n,params:r,animating:a}=i;if(!n)return i;let o=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<r.slidesPerGroupSkip?1:o,c=i.virtual&&r.virtual.enabled;if(r.loop){if(a&&!c&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,s,e,t)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,s,e,t):i.slideTo(i.activeIndex+l,s,e,t)}function sw(s,e,t){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0);const i=this,{params:n,snapGrid:r,slidesGrid:a,rtlTranslate:o,enabled:l,animating:c}=i;if(!l)return i;const u=i.virtual&&n.virtual.enabled;if(n.loop){if(c&&!u&&n.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const h=o?i.translate:-i.translate;function f(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const d=f(h),g=r.map(v=>f(v));let p=r[g.indexOf(d)-1];if(typeof p>"u"&&n.cssMode){let v;r.forEach((w,_)=>{d>=w&&(v=_)}),typeof v<"u"&&(p=r[v>0?v-1:v])}let m=0;if(typeof p<"u"&&(m=a.indexOf(p),m<0&&(m=i.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(m=m-i.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),n.rewind&&i.isBeginning){const v=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(v,s,e,t)}else if(n.loop&&i.activeIndex===0&&n.cssMode)return requestAnimationFrame(()=>{i.slideTo(m,s,e,t)}),!0;return i.slideTo(m,s,e,t)}function rw(s,e,t){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0);const i=this;return i.slideTo(i.activeIndex,s,e,t)}function aw(s,e,t,i){s===void 0&&(s=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);const n=this;let r=n.activeIndex;const a=Math.min(n.params.slidesPerGroupSkip,r),o=a+Math.floor((r-a)/n.params.slidesPerGroup),l=n.rtlTranslate?n.translate:-n.translate;if(l>=n.snapGrid[o]){const c=n.snapGrid[o],u=n.snapGrid[o+1];l-c>(u-c)*i&&(r+=n.params.slidesPerGroup)}else{const c=n.snapGrid[o-1],u=n.snapGrid[o];l-c<=(u-c)*i&&(r-=n.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,n.slidesGrid.length-1),n.slideTo(r,s,e,t)}function ow(){const s=this,{params:e,slidesEl:t}=s,i=e.slidesPerView==="auto"?s.slidesPerViewDynamic():e.slidesPerView;let n=s.clickedIndex,r;const a=s.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(s.animating)return;r=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n<s.loopedSlides-i/2||n>s.slides.length-s.loopedSlides+i/2?(s.loopFix(),n=s.getSlideIndex(mi(t,`${a}[data-swiper-slide-index="${r}"]`)[0]),Ks(()=>{s.slideTo(n)})):s.slideTo(n):n>s.slides.length-i?(s.loopFix(),n=s.getSlideIndex(mi(t,`${a}[data-swiper-slide-index="${r}"]`)[0]),Ks(()=>{s.slideTo(n)})):s.slideTo(n)}else s.slideTo(n)}var lw={slideTo:tw,slideToLoop:iw,slideNext:nw,slidePrev:sw,slideReset:rw,slideToClosest:aw,slideToClickedSlide:ow};function cw(s){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;mi(i,`.${t.slideClass}, swiper-slide`).forEach((r,a)=>{r.setAttribute("data-swiper-slide-index",a)}),e.loopFix({slideRealIndex:s,direction:t.centeredSlides?void 0:"next"})}function uw(s){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:n,activeSlideIndex:r,byController:a,byMousewheel:o}=s===void 0?{}:s;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:h,slidesEl:f,params:d}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&d.virtual.enabled){t&&(!d.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):d.centeredSlides&&l.snapIndex<d.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=h,l.emit("loopFix");return}const g=d.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(d.slidesPerView,10));let p=d.loopedSlides||g;p%d.slidesPerGroup!==0&&(p+=d.slidesPerGroup-p%d.slidesPerGroup),l.loopedSlides=p;const m=[],v=[];let w=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(l.slides.filter(M=>M.classList.contains(d.slideActiveClass))[0]):w=r;const _=i==="next"||!i,x=i==="prev"||!i;let b=0,S=0;if(r<p){b=Math.max(p-r,d.slidesPerGroup);for(let M=0;M<p-r;M+=1){const y=M-Math.floor(M/c.length)*c.length;m.push(c.length-y-1)}}else if(r>l.slides.length-p*2){S=Math.max(r-(l.slides.length-p*2),d.slidesPerGroup);for(let M=0;M<S;M+=1){const y=M-Math.floor(M/c.length)*c.length;v.push(y)}}if(x&&m.forEach(M=>{l.slides[M].swiperLoopMoveDOM=!0,f.prepend(l.slides[M]),l.slides[M].swiperLoopMoveDOM=!1}),_&&v.forEach(M=>{l.slides[M].swiperLoopMoveDOM=!0,f.append(l.slides[M]),l.slides[M].swiperLoopMoveDOM=!1}),l.recalcSlides(),d.slidesPerView==="auto"&&l.updateSlides(),d.watchSlidesProgress&&l.updateSlidesOffset(),t){if(m.length>0&&x)if(typeof e>"u"){const M=l.slidesGrid[w],E=l.slidesGrid[w+b]-M;o?l.setTranslate(l.translate-E):(l.slideTo(w+b,0,!1,!0),n&&(l.touches[l.isHorizontal()?"startX":"startY"]+=E,l.touchEventsData.currentTranslate=l.translate))}else n&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(v.length>0&&_)if(typeof e>"u"){const M=l.slidesGrid[w],E=l.slidesGrid[w-S]-M;o?l.setTranslate(l.translate-E):(l.slideTo(w-S,0,!1,!0),n&&(l.touches[l.isHorizontal()?"startX":"startY"]+=E,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=h,l.controller&&l.controller.control&&!a){const M={slideRealIndex:e,direction:i,setTranslate:n,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(y=>{!y.destroyed&&y.params.loop&&y.loopFix({...M,slideTo:y.params.slidesPerView===d.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...M,slideTo:l.controller.control.params.slidesPerView===d.slidesPerView?t:!1})}l.emit("loopFix")}function fw(){const s=this,{params:e,slidesEl:t}=s;if(!e.loop||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();const i=[];s.slides.forEach(n=>{const r=typeof n.swiperSlideIndex>"u"?n.getAttribute("data-swiper-slide-index")*1:n.swiperSlideIndex;i[r]=n}),s.slides.forEach(n=>{n.removeAttribute("data-swiper-slide-index")}),i.forEach(n=>{t.append(n)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}var dw={loopCreate:cw,loopFix:uw,loopDestroy:fw};function hw(s){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=s?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function pw(){const s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}var mw={setGrabCursor:hw,unsetGrabCursor:pw};function gw(s,e){e===void 0&&(e=this);function t(i){if(!i||i===yi()||i===jt())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(s);return!n&&!i.getRootNode?null:n||t(i.getRootNode().host)}return t(e)}function vw(s){const e=this,t=yi(),i=jt(),n=e.touchEventsData;n.evCache.push(s);const{params:r,touches:a,enabled:o}=e;if(!o||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=s;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(r.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||n.isTouched&&n.isMoved)return;const u=!!r.noSwipingClass&&r.noSwipingClass!=="",h=s.composedPath?s.composedPath():s.path;u&&l.target&&l.target.shadowRoot&&h&&(c=h[0]);const f=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,d=!!(l.target&&l.target.shadowRoot);if(r.noSwiping&&(d?gw(f,c):c.closest(f))){e.allowClick=!0;return}if(r.swipeHandler&&!c.closest(r.swipeHandler))return;a.currentX=l.pageX,a.currentY=l.pageY;const g=a.currentX,p=a.currentY,m=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,v=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(m&&(g<=v||g>=i.innerWidth-v))if(m==="prevent")s.preventDefault();else return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=p,n.touchStartTime=ln(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1);let w=!0;c.matches(n.focusableElements)&&(w=!1,c.nodeName==="SELECT"&&(n.isTouched=!1)),t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==c&&t.activeElement.blur();const _=w&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||_)&&!c.isContentEditable&&l.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function _w(s){const e=yi(),t=this,i=t.touchEventsData,{params:n,touches:r,rtlTranslate:a,enabled:o}=t;if(!o||!n.simulateTouch&&s.pointerType==="mouse")return;let l=s;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l);return}const c=i.evCache.findIndex(M=>M.pointerId===l.pointerId);c>=0&&(i.evCache[c]=l);const u=i.evCache.length>1?i.evCache[0]:l,h=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){r.startX=h,r.startY=f;return}if(!t.allowTouchMove){l.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:h,startY:f,prevX:t.touches.currentX,prevY:t.touches.currentY,currentX:h,currentY:f}),i.touchStartTime=ln());return}if(n.touchReleaseOnEdges&&!n.loop){if(t.isVertical()){if(f<r.startY&&t.translate<=t.maxTranslate()||f>r.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(h<r.startX&&t.translate<=t.maxTranslate()||h>r.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}if(i.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;r.currentX=h,r.currentY=f;const d=r.currentX-r.startX,g=r.currentY-r.startY;if(t.params.threshold&&Math.sqrt(d**2+g**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let M;t.isHorizontal()&&r.currentY===r.startY||t.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:d*d+g*g>=25&&(M=Math.atan2(Math.abs(g),Math.abs(d))*180/Math.PI,i.isScrolling=t.isHorizontal()?M>n.touchAngle:90-M>n.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling||t.zoom&&t.params.zoom&&t.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!n.cssMode&&l.cancelable&&l.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&l.stopPropagation();let p=t.isHorizontal()?d:g,m=t.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;n.oneWayMovement&&(p=Math.abs(p)*(a?1:-1),m=Math.abs(m)*(a?1:-1)),r.diff=p,p*=n.touchRatio,a&&(p=-p,m=-m);const v=t.touchesDirection;t.swipeDirection=p>0?"prev":"next",t.touchesDirection=m>0?"prev":"next";const w=t.params.loop&&!n.cssMode,_=t.swipeDirection==="next"&&t.allowSlideNext||t.swipeDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(w&&_&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const M=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(M)}i.allowMomentumBounce=!1,n.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let x;i.isMoved&&v!==t.touchesDirection&&w&&_&&Math.abs(p)>=1&&(t.loopFix({direction:t.swipeDirection,setTranslate:!0}),x=!0),t.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=p+i.startTranslate;let b=!0,S=n.resistanceRatio;if(n.touchReleaseOnEdges&&(S=0),p>0?(w&&_&&!x&&i.currentTranslate>(n.centeredSlides?t.minTranslate()-t.size/2:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(b=!1,n.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+p)**S))):p<0&&(w&&_&&!x&&i.currentTranslate<(n.centeredSlides?t.maxTranslate()+t.size/2:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(n.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(b=!1,n.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-p)**S))),b&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0)if(Math.abs(p)>n.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=t.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&t.freeMode||n.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function ww(s){const e=this,t=e.touchEventsData,i=t.evCache.findIndex(_=>_.pointerId===s.pointerId);if(i>=0&&t.evCache.splice(i,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:n,touches:r,rtlTranslate:a,slidesGrid:o,enabled:l}=e;if(!l||!n.simulateTouch&&s.pointerType==="mouse")return;let c=s;if(c.originalEvent&&(c=c.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",c),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&n.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}n.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=ln(),h=u-t.touchStartTime;if(e.allowClick){const _=c.path||c.composedPath&&c.composedPath();e.updateClickedSlide(_&&_[0]||c.target,_),e.emit("tap click",c),h<300&&u-t.lastClickTime<300&&e.emit("doubleTap doubleClick",c)}if(t.lastClickTime=ln(),Ks(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||r.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let f;if(n.followFinger?f=a?e.translate:-e.translate:f=-t.currentTranslate,n.cssMode)return;if(n.freeMode&&n.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}let d=0,g=e.slidesSizesGrid[0];for(let _=0;_<o.length;_+=_<n.slidesPerGroupSkip?1:n.slidesPerGroup){const x=_<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;typeof o[_+x]<"u"?f>=o[_]&&f<o[_+x]&&(d=_,g=o[_+x]-o[_]):f>=o[_]&&(d=_,g=o[o.length-1]-o[o.length-2])}let p=null,m=null;n.rewind&&(e.isBeginning?m=n.virtual&&n.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(p=0));const v=(f-o[d])/g,w=d<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(h>n.longSwipesMs){if(!n.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=n.longSwipesRatio?e.slideTo(n.rewind&&e.isEnd?p:d+w):e.slideTo(d)),e.swipeDirection==="prev"&&(v>1-n.longSwipesRatio?e.slideTo(d+w):m!==null&&v<0&&Math.abs(v)>n.longSwipesRatio?e.slideTo(m):e.slideTo(d))}else{if(!n.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(c.target===e.navigation.nextEl||c.target===e.navigation.prevEl)?c.target===e.navigation.nextEl?e.slideTo(d+w):e.slideTo(d):(e.swipeDirection==="next"&&e.slideTo(p!==null?p:d+w),e.swipeDirection==="prev"&&e.slideTo(m!==null?m:d))}}function Sf(){const s=this,{params:e,el:t}=s;if(t&&t.offsetWidth===0)return;e.breakpoints&&s.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:r}=s,a=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();const o=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!o?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!a?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=n,s.allowSlideNext=i,s.params.watchOverflow&&r!==s.snapGrid&&s.checkOverflow()}function bw(s){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&s.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function yw(){const s=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=s;if(!i)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-e.scrollLeft:s.translate=-e.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let n;const r=s.maxTranslate()-s.minTranslate();r===0?n=0:n=(s.translate-s.minTranslate())/r,n!==s.progress&&s.updateProgress(t?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function xw(s){const e=this;Do(e,s.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let Mf=!1;function Sw(){}const Eg=(s,e)=>{const t=yi(),{params:i,el:n,wrapperEl:r,device:a}=s,o=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;n[l]("pointerdown",s.onTouchStart,{passive:!1}),t[l]("pointermove",s.onTouchMove,{passive:!1,capture:o}),t[l]("pointerup",s.onTouchEnd,{passive:!0}),t[l]("pointercancel",s.onTouchEnd,{passive:!0}),t[l]("pointerout",s.onTouchEnd,{passive:!0}),t[l]("pointerleave",s.onTouchEnd,{passive:!0}),t[l]("contextmenu",s.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&n[l]("click",s.onClick,!0),i.cssMode&&r[l]("scroll",s.onScroll),i.updateOnWindowResize?s[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Sf,!0):s[c]("observerUpdate",Sf,!0),n[l]("load",s.onLoad,{capture:!0})};function Mw(){const s=this,e=yi(),{params:t}=s;s.onTouchStart=vw.bind(s),s.onTouchMove=_w.bind(s),s.onTouchEnd=ww.bind(s),t.cssMode&&(s.onScroll=yw.bind(s)),s.onClick=bw.bind(s),s.onLoad=xw.bind(s),Mf||(e.addEventListener("touchstart",Sw),Mf=!0),Eg(s,"on")}function Ew(){Eg(this,"off")}var Tw={attachEvents:Mw,detachEvents:Ew};const Ef=(s,e)=>s.grid&&e.grid&&e.grid.rows>1;function Cw(){const s=this,{realIndex:e,initialized:t,params:i,el:n}=s,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const a=s.getBreakpoint(r,s.params.breakpointsBase,s.el);if(!a||s.currentBreakpoint===a)return;const l=(a in r?r[a]:void 0)||s.originalParams,c=Ef(s,i),u=Ef(s,l),h=i.enabled;c&&!u?(n.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),s.emitContainerClasses()):!c&&u&&(n.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&n.classList.add(`${i.containerModifierClass}grid-column`),s.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(v=>{if(typeof l[v]>"u")return;const w=i[v]&&i[v].enabled,_=l[v]&&l[v].enabled;w&&!_&&s[v].disable(),!w&&_&&s[v].enable()});const f=l.direction&&l.direction!==i.direction,d=i.loop&&(l.slidesPerView!==i.slidesPerView||f),g=i.loop;f&&t&&s.changeDirection(),Yi(s.params,l);const p=s.params.enabled,m=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),h&&!p?s.disable():!h&&p&&s.enable(),s.currentBreakpoint=a,s.emit("_beforeBreakpoint",l),t&&(d?(s.loopDestroy(),s.loopCreate(e),s.updateSlides()):!g&&m?(s.loopCreate(e),s.updateSlides()):g&&!m&&s.loopDestroy()),s.emit("breakpoint",l)}function Aw(s,e,t){if(e===void 0&&(e="window"),!s||e==="container"&&!t)return;let i=!1;const n=jt(),r=e==="window"?n.innerHeight:t.clientHeight,a=Object.keys(s).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:r*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){const{point:l,value:c}=a[o];e==="window"?n.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=t.clientWidth&&(i=l)}return i||"max"}var Lw={setBreakpoint:Cw,getBreakpoint:Aw};function kw(s,e){const t=[];return s.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(n=>{i[n]&&t.push(e+n)}):typeof i=="string"&&t.push(e+i)}),t}function Pw(){const s=this,{classNames:e,params:t,rtl:i,el:n,device:r}=s,a=kw(["initialized",t.direction,{"free-mode":s.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),n.classList.add(...e),s.emitContainerClasses()}function Dw(){const s=this,{el:e,classNames:t}=s;e.classList.remove(...t),s.emitContainerClasses()}var Iw={addClasses:Pw,removeClasses:Dw};function Rw(){const s=this,{isLocked:e,params:t}=s,{slidesOffsetBefore:i}=t;if(i){const n=s.slides.length-1,r=s.slidesGrid[n]+s.slidesSizesGrid[n]+i*2;s.isLocked=s.size>r}else s.isLocked=s.snapGrid.length===1;t.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),t.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),e&&e!==s.isLocked&&(s.isEnd=!1),e!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}var zw={checkOverflow:Rw},Oc={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Fw(s,e){return function(i){i===void 0&&(i={});const n=Object.keys(i)[0],r=i[n];if(typeof r!="object"||r===null){Yi(e,i);return}if(s[n]===!0&&(s[n]={enabled:!0}),n==="navigation"&&s[n]&&s[n].enabled&&!s[n].prevEl&&!s[n].nextEl&&(s[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&s[n]&&s[n].enabled&&!s[n].el&&(s[n].auto=!0),!(n in s&&"enabled"in r)){Yi(e,i);return}typeof s[n]=="object"&&!("enabled"in s[n])&&(s[n].enabled=!0),s[n]||(s[n]={enabled:!1}),Yi(e,i)}}const Vl={eventsEmitter:I1,update:H1,translate:$1,transition:ew,slide:lw,loop:dw,grabCursor:mw,events:Tw,breakpoints:Lw,checkOverflow:zw,classes:Iw},Ul={};class ji{constructor(){let e,t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?t=n[0]:[e,t]=n,t||(t={}),t=Yi({},t),e&&!t.el&&(t.el=e);const a=yi();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const u=[];return a.querySelectorAll(t.el).forEach(h=>{const f=Yi({},t,{el:h});u.push(new ji(f))}),u}const o=this;o.__swiper__=!0,o.support=Sg(),o.device=A1({userAgent:t.userAgent}),o.browser=k1(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const l={};o.modules.forEach(u=>{u({params:t,swiper:o,extendParams:Fw(t,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=Yi({},Oc,l);return o.params=Yi({},c,Ul,t),o.originalParams=Yi({},o.params),o.passedParams=Yi({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(e){const{slidesEl:t,params:i}=this,n=mi(t,`.${i.slideClass}, swiper-slide`),r=Da(n[0]);return Da(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=mi(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),a=(i.maxTranslate()-n)*e+n;i.translateTo(a,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:n,slides:r,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:c}=i;let u=1;if(typeof n.slidesPerView=="number")return n.slidesPerView;if(n.centeredSlides){let h=r[c]?r[c].swiperSlideSize:0,f;for(let d=c+1;d<r.length;d+=1)r[d]&&!f&&(h+=r[d].swiperSlideSize,u+=1,h>l&&(f=!0));for(let d=c-1;d>=0;d-=1)r[d]&&!f&&(h+=r[d].swiperSlideSize,u+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<r.length;h+=1)(t?a[h]+o[h]-a[c]<l:a[h]-a[c]<l)&&(u+=1);else for(let h=c-1;h>=0;h-=1)a[c]-a[h]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Do(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){const a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(a.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||n()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,n=i.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(n()):mi(i,n())[0])();return!a&&t.params.createElements&&(a=_n("div",t.params.wrapperClass),i.append(a),mi(i,`.${t.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(t,{el:i,wrapperEl:a,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||vs(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||vs(i,"direction")==="rtl"),wrongRTL:vs(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(r=>{r.complete?Do(t,r):r.addEventListener("load",a=>{Do(t,a.target)})}),Fc(t),t.initialized=!0,Fc(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:n,el:r,wrapperEl:a,slides:o}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttribute("style"),a.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el.swiper=null,y1(i)),i.destroyed=!0),null}static extendDefaults(e){Yi(Ul,e)}static get extendedDefaults(){return Ul}static get defaults(){return Oc}static installModule(e){ji.prototype.__modules__||(ji.prototype.__modules__=[]);const t=ji.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ji.installModule(t)),ji):(ji.installModule(e),ji)}}Object.keys(Vl).forEach(s=>{Object.keys(Vl[s]).forEach(e=>{ji.prototype[e]=Vl[s][e]})});ji.use([P1,D1]);function Ow(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let r;const a=yi();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const o=a.createElement("div");function l(g,p){const m=e.params.virtual;if(m.cache&&e.virtual.cache[p])return e.virtual.cache[p];let v;return m.renderSlide?(v=m.renderSlide.call(e,g,p),typeof v=="string"&&(o.innerHTML=v,v=o.children[0])):e.isElement?v=_n("swiper-slide"):v=_n("div",e.params.slideClass),v.setAttribute("data-swiper-slide-index",p),m.renderSlide||(v.innerHTML=g),m.cache&&(e.virtual.cache[p]=v),v}function c(g){const{slidesPerView:p,slidesPerGroup:m,centeredSlides:v,loop:w}=e.params,{addSlidesBefore:_,addSlidesAfter:x}=e.params.virtual,{from:b,to:S,slides:M,slidesGrid:y,offset:E}=e.virtual;e.params.cssMode||e.updateActiveIndex();const C=e.activeIndex||0;let P;e.rtlTranslate?P="right":P=e.isHorizontal()?"left":"top";let L,k;v?(L=Math.floor(p/2)+m+x,k=Math.floor(p/2)+m+_):(L=p+(m-1)+x,k=(w?p:m)+_);let A=C-k,I=C+L;w||(A=Math.max(A,0),I=Math.min(I,M.length-1));let R=(e.slidesGrid[A]||0)-(e.slidesGrid[0]||0);w&&C>=k?(A-=k,v||(R+=e.slidesGrid[0])):w&&C<k&&(A=-k,v&&(R+=e.slidesGrid[0])),Object.assign(e.virtual,{from:A,to:I,offset:R,slidesGrid:e.slidesGrid,slidesBefore:k,slidesAfter:L});function O(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n("virtualUpdate")}if(b===A&&S===I&&!g){e.slidesGrid!==y&&R!==E&&e.slides.forEach(ee=>{ee.style[P]=`${R-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),n("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:R,from:A,to:I,slides:function(){const Z=[];for(let te=A;te<=I;te+=1)Z.push(M[te]);return Z}()}),e.params.virtual.renderExternalUpdate?O():n("virtualUpdate");return}const z=[],V=[],$=ee=>{let Z=ee;return ee<0?Z=M.length+ee:Z>=M.length&&(Z=Z-M.length),Z};if(g)e.slides.filter(ee=>ee.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(ee=>{ee.remove()});else for(let ee=b;ee<=S;ee+=1)if(ee<A||ee>I){const Z=$(ee);e.slides.filter(te=>te.matches(`.${e.params.slideClass}[data-swiper-slide-index="${Z}"], swiper-slide[data-swiper-slide-index="${Z}"]`)).forEach(te=>{te.remove()})}const K=w?-M.length:0,U=w?M.length*2:M.length;for(let ee=K;ee<U;ee+=1)if(ee>=A&&ee<=I){const Z=$(ee);typeof S>"u"||g?V.push(Z):(ee>S&&V.push(Z),ee<b&&z.push(Z))}if(V.forEach(ee=>{e.slidesEl.append(l(M[ee],ee))}),w)for(let ee=z.length-1;ee>=0;ee-=1){const Z=z[ee];e.slidesEl.prepend(l(M[Z],Z))}else z.sort((ee,Z)=>Z-ee),z.forEach(ee=>{e.slidesEl.prepend(l(M[ee],ee))});mi(e.slidesEl,".swiper-slide, swiper-slide").forEach(ee=>{ee.style[P]=`${R-Math.abs(e.cssOverflowAdjustment())}px`}),O()}function u(g){if(typeof g=="object"&&"length"in g)for(let p=0;p<g.length;p+=1)g[p]&&e.virtual.slides.push(g[p]);else e.virtual.slides.push(g);c(!0)}function h(g){const p=e.activeIndex;let m=p+1,v=1;if(Array.isArray(g)){for(let w=0;w<g.length;w+=1)g[w]&&e.virtual.slides.unshift(g[w]);m=p+g.length,v=g.length}else e.virtual.slides.unshift(g);if(e.params.virtual.cache){const w=e.virtual.cache,_={};Object.keys(w).forEach(x=>{const b=w[x],S=b.getAttribute("data-swiper-slide-index");S&&b.setAttribute("data-swiper-slide-index",parseInt(S,10)+v),_[parseInt(x,10)+v]=b}),e.virtual.cache=_}c(!0),e.slideTo(m,0)}function f(g){if(typeof g>"u"||g===null)return;let p=e.activeIndex;if(Array.isArray(g))for(let m=g.length-1;m>=0;m-=1)e.params.virtual.cache&&(delete e.virtual.cache[g[m]],Object.keys(e.virtual.cache).forEach(v=>{v>g&&(e.virtual.cache[v-1]=e.virtual.cache[v],e.virtual.cache[v-1].setAttribute("data-swiper-slide-index",v-1),delete e.virtual.cache[v])})),e.virtual.slides.splice(g[m],1),g[m]<p&&(p-=1),p=Math.max(p,0);else e.params.virtual.cache&&(delete e.virtual.cache[g],Object.keys(e.virtual.cache).forEach(m=>{m>g&&(e.virtual.cache[m-1]=e.virtual.cache[m],e.virtual.cache[m-1].setAttribute("data-swiper-slide-index",m-1),delete e.virtual.cache[m])})),e.virtual.slides.splice(g,1),g<p&&(p-=1),p=Math.max(p,0);c(!0),e.slideTo(p,0)}function d(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),c(!0),e.slideTo(0,0)}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let g;if(typeof e.passedParams.virtual.slides>"u"){const p=[...e.slidesEl.children].filter(m=>m.matches(`.${e.params.slideClass}, swiper-slide`));p&&p.length&&(e.virtual.slides=[...p],g=!0,p.forEach((m,v)=>{m.setAttribute("data-swiper-slide-index",v),e.virtual.cache[v]=m,m.remove()}))}g||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,c()}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(r),r=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&wa(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:u,prependSlide:h,removeSlide:f,removeAllSlides:d,update:c})}function Nw(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const r=yi(),a=jt();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function o(u){if(!e.enabled)return;const{rtlTranslate:h}=e;let f=u;f.originalEvent&&(f=f.originalEvent);const d=f.keyCode||f.charCode,g=e.params.keyboard.pageUpDown,p=g&&d===33,m=g&&d===34,v=d===37,w=d===39,_=d===38,x=d===40;if(!e.allowSlideNext&&(e.isHorizontal()&&w||e.isVertical()&&x||m)||!e.allowSlidePrev&&(e.isHorizontal()&&v||e.isVertical()&&_||p))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey)&&!(r.activeElement&&r.activeElement.nodeName&&(r.activeElement.nodeName.toLowerCase()==="input"||r.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(p||m||v||w||_||x)){let b=!1;if(Hs(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&Hs(e.el,`.${e.params.slideActiveClass}`).length===0)return;const S=e.el,M=S.clientWidth,y=S.clientHeight,E=a.innerWidth,C=a.innerHeight,P=Wo(S);h&&(P.left-=S.scrollLeft);const L=[[P.left,P.top],[P.left+M,P.top],[P.left,P.top+y],[P.left+M,P.top+y]];for(let k=0;k<L.length;k+=1){const A=L[k];if(A[0]>=0&&A[0]<=E&&A[1]>=0&&A[1]<=C){if(A[0]===0&&A[1]===0)continue;b=!0}}if(!b)return}e.isHorizontal()?((p||m||v||w)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),((m||w)&&!h||(p||v)&&h)&&e.slideNext(),((p||v)&&!h||(m||w)&&h)&&e.slidePrev()):((p||m||_||x)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),(m||x)&&e.slideNext(),(p||_)&&e.slidePrev()),n("keyPress",d)}}function l(){e.keyboard.enabled||(r.addEventListener("keydown",o),e.keyboard.enabled=!0)}function c(){e.keyboard.enabled&&(r.removeEventListener("keydown",o),e.keyboard.enabled=!1)}i("init",()=>{e.params.keyboard.enabled&&l()}),i("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})}function Bw(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const r=jt();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let a,o=ln(),l;const c=[];function u(_){let M=0,y=0,E=0,C=0;return"detail"in _&&(y=_.detail),"wheelDelta"in _&&(y=-_.wheelDelta/120),"wheelDeltaY"in _&&(y=-_.wheelDeltaY/120),"wheelDeltaX"in _&&(M=-_.wheelDeltaX/120),"axis"in _&&_.axis===_.HORIZONTAL_AXIS&&(M=y,y=0),E=M*10,C=y*10,"deltaY"in _&&(C=_.deltaY),"deltaX"in _&&(E=_.deltaX),_.shiftKey&&!E&&(E=C,C=0),(E||C)&&_.deltaMode&&(_.deltaMode===1?(E*=40,C*=40):(E*=800,C*=800)),E&&!M&&(M=E<1?-1:1),C&&!y&&(y=C<1?-1:1),{spinX:M,spinY:y,pixelX:E,pixelY:C}}function h(){e.enabled&&(e.mouseEntered=!0)}function f(){e.enabled&&(e.mouseEntered=!1)}function d(_){return e.params.mousewheel.thresholdDelta&&_.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&ln()-o<e.params.mousewheel.thresholdTime?!1:_.delta>=6&&ln()-o<60?!0:(_.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),n("scroll",_.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),n("scroll",_.raw)),o=new r.Date().getTime(),!1)}function g(_){const x=e.params.mousewheel;if(_.direction<0){if(e.isEnd&&!e.params.loop&&x.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&x.releaseOnEdges)return!0;return!1}function p(_){let x=_,b=!0;if(!e.enabled||_.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const S=e.params.mousewheel;e.params.cssMode&&x.preventDefault();let M=e.el;e.params.mousewheel.eventsTarget!=="container"&&(M=document.querySelector(e.params.mousewheel.eventsTarget));const y=M&&M.contains(x.target);if(!e.mouseEntered&&!y&&!S.releaseOnEdges)return!0;x.originalEvent&&(x=x.originalEvent);let E=0;const C=e.rtlTranslate?-1:1,P=u(x);if(S.forceToAxis)if(e.isHorizontal())if(Math.abs(P.pixelX)>Math.abs(P.pixelY))E=-P.pixelX*C;else return!0;else if(Math.abs(P.pixelY)>Math.abs(P.pixelX))E=-P.pixelY;else return!0;else E=Math.abs(P.pixelX)>Math.abs(P.pixelY)?-P.pixelX*C:-P.pixelY;if(E===0)return!0;S.invert&&(E=-E);let L=e.getTranslate()+E*S.sensitivity;if(L>=e.minTranslate()&&(L=e.minTranslate()),L<=e.maxTranslate()&&(L=e.maxTranslate()),b=e.params.loop?!0:!(L===e.minTranslate()||L===e.maxTranslate()),b&&e.params.nested&&x.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const k={time:ln(),delta:Math.abs(E),direction:Math.sign(E),raw:_};c.length>=2&&c.shift();const A=c.length?c[c.length-1]:void 0;if(c.push(k),A?(k.direction!==A.direction||k.delta>A.delta||k.time>A.time+150)&&d(k):d(k),g(k))return!0}else{const k={time:ln(),delta:Math.abs(E),direction:Math.sign(E)},A=l&&k.time<l.time+500&&k.delta<=l.delta&&k.direction===l.direction;if(!A){l=void 0;let I=e.getTranslate()+E*S.sensitivity;const R=e.isBeginning,O=e.isEnd;if(I>=e.minTranslate()&&(I=e.minTranslate()),I<=e.maxTranslate()&&(I=e.maxTranslate()),e.setTransition(0),e.setTranslate(I),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!R&&e.isBeginning||!O&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:k.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(a),a=void 0,c.length>=15&&c.shift();const z=c.length?c[c.length-1]:void 0,V=c[0];if(c.push(k),z&&(k.delta>z.delta||k.direction!==z.direction))c.splice(0);else if(c.length>=15&&k.time-V.time<500&&V.delta-k.delta>=1&&k.delta<=6){const $=E>0?.8:.2;l=k,c.splice(0),a=Ks(()=>{e.slideToClosest(e.params.speed,!0,void 0,$)},0)}a||(a=Ks(()=>{l=k,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(A||n("scroll",x),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),S.releaseOnEdges&&(I===e.minTranslate()||I===e.maxTranslate()))return!0}}return x.preventDefault?x.preventDefault():x.returnValue=!1,!1}function m(_){let x=e.el;e.params.mousewheel.eventsTarget!=="container"&&(x=document.querySelector(e.params.mousewheel.eventsTarget)),x[_]("mouseenter",h),x[_]("mouseleave",f),x[_]("wheel",p)}function v(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",p),!0):e.mousewheel.enabled?!1:(m("addEventListener"),e.mousewheel.enabled=!0,!0)}function w(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,p),!0):e.mousewheel.enabled?(m("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&w(),e.params.mousewheel.enabled&&v()}),i("destroy",()=>{e.params.cssMode&&v(),e.mousewheel.enabled&&w()}),Object.assign(e.mousewheel,{enable:v,disable:w})}function mu(s,e,t,i){return s.params.createElements&&Object.keys(i).forEach(n=>{if(!t[n]&&t.auto===!0){let r=mi(s.el,`.${i[n]}`)[0];r||(r=_n("div",i[n]),r.className=i[n],s.el.append(r)),t[n]=r,e[n]=r}}),t}function Ia(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const r=p=>(Array.isArray(p)?p:[p]).filter(m=>!!m);function a(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m.length>1&&e.el.querySelectorAll(p).length===1&&(m=e.el.querySelector(p))),p&&!m?p:m)}function o(p,m){const v=e.params.navigation;p=r(p),p.forEach(w=>{w&&(w.classList[m?"add":"remove"](...v.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=m),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](v.lockClass))})}function l(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function c(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function u(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function h(){const p=e.params.navigation;if(e.params.navigation=mu(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=a(p.nextEl),v=a(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:v}),m=r(m),v=r(v);const w=(_,x)=>{_&&_.addEventListener("click",x==="next"?u:c),!e.enabled&&_&&_.classList.add(...p.lockClass.split(" "))};m.forEach(_=>w(_,"next")),v.forEach(_=>w(_,"prev"))}function f(){let{nextEl:p,prevEl:m}=e.navigation;p=r(p),m=r(m);const v=(w,_)=>{w.removeEventListener("click",_==="next"?u:c),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(w=>v(w,"next")),m.forEach(w=>v(w,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?g():(h(),l())}),i("toEdge fromEdge lock unlock",()=>{l()}),i("destroy",()=>{f()}),i("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=r(p),m=r(m),e.enabled){l();return}[...p,...m].filter(v=>!!v).forEach(v=>v.classList.add(e.params.navigation.lockClass))}),i("click",(p,m)=>{let{nextEl:v,prevEl:w}=e.navigation;v=r(v),w=r(w);const _=m.target;if(e.params.navigation.hideOnClick&&!w.includes(_)&&!v.includes(_)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===_||e.pagination.el.contains(_)))return;let x;v.length?x=v[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(x=w[0].classList.contains(e.params.navigation.hiddenClass)),n(x===!0?"navigationShow":"navigationHide"),[...v,...w].filter(b=>!!b).forEach(b=>b.classList.toggle(e.params.navigation.hiddenClass))}});const d=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),h(),l()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:d,disable:g,update:l,init:h,destroy:f})}function ps(s){return s===void 0&&(s=""),`.${s.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Ra(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let a,o=0;const l=w=>(Array.isArray(w)?w:[w]).filter(_=>!!_);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(w,_){const{bulletActiveClass:x}=e.params.pagination;w&&(w=w[`${_==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${x}-${_}`),w=w[`${_==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${x}-${_}-${_}`)))}function h(w){const _=w.target.closest(ps(e.params.pagination.bulletClass));if(!_)return;w.preventDefault();const x=Da(_)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;const b=e.realIndex,S=e.getSlideIndexByData(x),M=e.getSlideIndexByData(e.realIndex),y=E=>{const C=e.activeIndex;e.loopFix({direction:E,activeSlideIndex:S,slideTo:!1});const P=e.activeIndex;C===P&&e.slideToLoop(b,0,!1,!0)};if(S>e.slides.length-e.loopedSlides)y(S>M?"next":"prev");else if(e.params.centeredSlides){const E=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));S<Math.floor(E/2)&&y("prev")}e.slideToLoop(x)}else e.slideTo(x)}function f(){const w=e.rtl,_=e.params.pagination;if(c())return;let x=e.pagination.el;x=l(x);let b,S;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,y=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(S=e.previousRealIndex||0,b=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(b=e.snapIndex,S=e.previousSnapIndex):(S=e.previousIndex||0,b=e.activeIndex||0),_.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const E=e.pagination.bullets;let C,P,L;if(_.dynamicBullets&&(a=zc(E[0],e.isHorizontal()?"width":"height",!0),x.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${a*(_.dynamicMainBullets+4)}px`}),_.dynamicMainBullets>1&&S!==void 0&&(o+=b-(S||0),o>_.dynamicMainBullets-1?o=_.dynamicMainBullets-1:o<0&&(o=0)),C=Math.max(b-o,0),P=C+(Math.min(E.length,_.dynamicMainBullets)-1),L=(P+C)/2),E.forEach(k=>{const A=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(I=>`${_.bulletActiveClass}${I}`)].map(I=>typeof I=="string"&&I.includes(" ")?I.split(" "):I).flat();k.classList.remove(...A)}),x.length>1)E.forEach(k=>{const A=Da(k);A===b?k.classList.add(..._.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),_.dynamicBullets&&(A>=C&&A<=P&&k.classList.add(...`${_.bulletActiveClass}-main`.split(" ")),A===C&&u(k,"prev"),A===P&&u(k,"next"))});else{const k=E[b];if(k&&k.classList.add(..._.bulletActiveClass.split(" ")),e.isElement&&E.forEach((A,I)=>{A.setAttribute("part",I===b?"bullet-active":"bullet")}),_.dynamicBullets){const A=E[C],I=E[P];for(let R=C;R<=P;R+=1)E[R]&&E[R].classList.add(...`${_.bulletActiveClass}-main`.split(" "));u(A,"prev"),u(I,"next")}}if(_.dynamicBullets){const k=Math.min(E.length,_.dynamicMainBullets+4),A=(a*k-a)/2-L*a,I=w?"right":"left";E.forEach(R=>{R.style[e.isHorizontal()?I:"top"]=`${A}px`})}}x.forEach((E,C)=>{if(_.type==="fraction"&&(E.querySelectorAll(ps(_.currentClass)).forEach(P=>{P.textContent=_.formatFractionCurrent(b+1)}),E.querySelectorAll(ps(_.totalClass)).forEach(P=>{P.textContent=_.formatFractionTotal(y)})),_.type==="progressbar"){let P;_.progressbarOpposite?P=e.isHorizontal()?"vertical":"horizontal":P=e.isHorizontal()?"horizontal":"vertical";const L=(b+1)/y;let k=1,A=1;P==="horizontal"?k=L:A=L,E.querySelectorAll(ps(_.progressbarFillClass)).forEach(I=>{I.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${A})`,I.style.transitionDuration=`${e.params.speed}ms`})}_.type==="custom"&&_.renderCustom?(E.innerHTML=_.renderCustom(e,b+1,y),C===0&&n("paginationRender",E)):(C===0&&n("paginationRender",E),n("paginationUpdate",E)),e.params.watchOverflow&&e.enabled&&E.classList[e.isLocked?"add":"remove"](_.lockClass)})}function d(){const w=e.params.pagination;if(c())return;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let x=e.pagination.el;x=l(x);let b="";if(w.type==="bullets"){let S=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&S>_&&(S=_);for(let M=0;M<S;M+=1)w.renderBullet?b+=w.renderBullet.call(e,M,w.bulletClass):b+=`<${w.bulletElement} ${e.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?b=w.renderFraction.call(e,w.currentClass,w.totalClass):b=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?b=w.renderProgressbar.call(e,w.progressbarFillClass):b=`<span class="${w.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(S=>{w.type!=="custom"&&(S.innerHTML=b||""),w.type==="bullets"&&e.pagination.bullets.push(...S.querySelectorAll(ps(w.bulletClass)))}),w.type!=="custom"&&n("paginationRender",x[0])}function g(){e.params.pagination=mu(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const w=e.params.pagination;if(!w.el)return;let _;typeof w.el=="string"&&e.isElement&&(_=e.el.querySelector(w.el)),!_&&typeof w.el=="string"&&(_=[...document.querySelectorAll(w.el)]),_||(_=w.el),!(!_||_.length===0)&&(e.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(_)&&_.length>1&&(_=[...e.el.querySelectorAll(w.el)],_.length>1&&(_=_.filter(x=>Hs(x,".swiper")[0]===e.el)[0])),Array.isArray(_)&&_.length===1&&(_=_[0]),Object.assign(e.pagination,{el:_}),_=l(_),_.forEach(x=>{w.type==="bullets"&&w.clickable&&x.classList.add(...(w.clickableClass||"").split(" ")),x.classList.add(w.modifierClass+w.type),x.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(x.classList.add(`${w.modifierClass}${w.type}-dynamic`),o=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&x.classList.add(w.progressbarOppositeClass),w.clickable&&x.addEventListener("click",h),e.enabled||x.classList.add(w.lockClass)}))}function p(){const w=e.params.pagination;if(c())return;let _=e.pagination.el;_&&(_=l(_),_.forEach(x=>{x.classList.remove(w.hiddenClass),x.classList.remove(w.modifierClass+w.type),x.classList.remove(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(x.classList.remove(...(w.clickableClass||"").split(" ")),x.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...w.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const w=e.params.pagination;let{el:_}=e.pagination;_=l(_),_.forEach(x=>{x.classList.remove(w.horizontalClass,w.verticalClass),x.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?v():(g(),d(),f())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),i("snapIndexChange",()=>{f()}),i("snapGridLengthChange",()=>{d(),f()}),i("destroy",()=>{p()}),i("enable disable",()=>{let{el:w}=e.pagination;w&&(w=l(w),w.forEach(_=>_.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{f()}),i("click",(w,_)=>{const x=_.target,b=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&b&&b.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const S=b[0].classList.contains(e.params.pagination.hiddenClass);n(S===!0?"paginationShow":"paginationHide"),b.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const m=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=l(w),w.forEach(_=>_.classList.remove(e.params.pagination.paginationDisabledClass))),g(),d(),f()},v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=l(w),w.forEach(_=>_.classList.add(e.params.pagination.paginationDisabledClass))),p()};Object.assign(e.pagination,{enable:m,disable:v,render:d,update:f,init:g,destroy:p})}function Vw(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const r=yi();let a=!1,o=null,l=null,c,u,h,f;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function d(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:L,rtlTranslate:k}=e,{dragEl:A,el:I}=L,R=e.params.scrollbar,O=e.params.loop?e.progressLoop:e.progress;let z=u,V=(h-u)*O;k?(V=-V,V>0?(z=u-V,V=0):-V+u>h&&(z=h+V)):V<0?(z=u+V,V=0):V+u>h&&(z=h-V),e.isHorizontal()?(A.style.transform=`translate3d(${V}px, 0, 0)`,A.style.width=`${z}px`):(A.style.transform=`translate3d(0px, ${V}px, 0)`,A.style.height=`${z}px`),R.hide&&(clearTimeout(o),I.style.opacity=1,o=setTimeout(()=>{I.style.opacity=0,I.style.transitionDuration="400ms"},1e3))}function g(L){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${L}ms`)}function p(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:L}=e,{dragEl:k,el:A}=L;k.style.width="",k.style.height="",h=e.isHorizontal()?A.offsetWidth:A.offsetHeight,f=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?u=h*f:u=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?k.style.width=`${u}px`:k.style.height=`${u}px`,f>=1?A.style.display="none":A.style.display="",e.params.scrollbar.hide&&(A.style.opacity=0),e.params.watchOverflow&&e.enabled&&L.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function m(L){return e.isHorizontal()?L.clientX:L.clientY}function v(L){const{scrollbar:k,rtlTranslate:A}=e,{el:I}=k;let R;R=(m(L)-Wo(I)[e.isHorizontal()?"left":"top"]-(c!==null?c:u/2))/(h-u),R=Math.max(Math.min(R,1),0),A&&(R=1-R);const O=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*R;e.updateProgress(O),e.setTranslate(O),e.updateActiveIndex(),e.updateSlidesClasses()}function w(L){const k=e.params.scrollbar,{scrollbar:A,wrapperEl:I}=e,{el:R,dragEl:O}=A;a=!0,c=L.target===O?m(L)-L.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,L.preventDefault(),L.stopPropagation(),I.style.transitionDuration="100ms",O.style.transitionDuration="100ms",v(L),clearTimeout(l),R.style.transitionDuration="0ms",k.hide&&(R.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),n("scrollbarDragStart",L)}function _(L){const{scrollbar:k,wrapperEl:A}=e,{el:I,dragEl:R}=k;a&&(L.preventDefault?L.preventDefault():L.returnValue=!1,v(L),A.style.transitionDuration="0ms",I.style.transitionDuration="0ms",R.style.transitionDuration="0ms",n("scrollbarDragMove",L))}function x(L){const k=e.params.scrollbar,{scrollbar:A,wrapperEl:I}=e,{el:R}=A;a&&(a=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",I.style.transitionDuration=""),k.hide&&(clearTimeout(l),l=Ks(()=>{R.style.opacity=0,R.style.transitionDuration="400ms"},1e3)),n("scrollbarDragEnd",L),k.snapOnRelease&&e.slideToClosest())}function b(L){const{scrollbar:k,params:A}=e,I=k.el;if(!I)return;const R=I,O=A.passiveListeners?{passive:!1,capture:!1}:!1,z=A.passiveListeners?{passive:!0,capture:!1}:!1;if(!R)return;const V=L==="on"?"addEventListener":"removeEventListener";R[V]("pointerdown",w,O),r[V]("pointermove",_,O),r[V]("pointerup",x,z)}function S(){!e.params.scrollbar.el||!e.scrollbar.el||b("on")}function M(){!e.params.scrollbar.el||!e.scrollbar.el||b("off")}function y(){const{scrollbar:L,el:k}=e;e.params.scrollbar=mu(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const A=e.params.scrollbar;if(!A.el)return;let I;typeof A.el=="string"&&e.isElement&&(I=e.el.querySelector(A.el)),!I&&typeof A.el=="string"?I=r.querySelectorAll(A.el):I||(I=A.el),e.params.uniqueNavElements&&typeof A.el=="string"&&I.length>1&&k.querySelectorAll(A.el).length===1&&(I=k.querySelector(A.el)),I.length>0&&(I=I[0]),I.classList.add(e.isHorizontal()?A.horizontalClass:A.verticalClass);let R;I&&(R=I.querySelector(`.${e.params.scrollbar.dragClass}`),R||(R=_n("div",e.params.scrollbar.dragClass),I.append(R))),Object.assign(L,{el:I,dragEl:R}),A.draggable&&S(),I&&I.classList[e.enabled?"remove":"add"](e.params.scrollbar.lockClass)}function E(){const L=e.params.scrollbar,k=e.scrollbar.el;k&&k.classList.remove(e.isHorizontal()?L.horizontalClass:L.verticalClass),M()}i("init",()=>{e.params.scrollbar.enabled===!1?P():(y(),p(),d())}),i("update resize observerUpdate lock unlock",()=>{p()}),i("setTranslate",()=>{d()}),i("setTransition",(L,k)=>{g(k)}),i("enable disable",()=>{const{el:L}=e.scrollbar;L&&L.classList[e.enabled?"remove":"add"](e.params.scrollbar.lockClass)}),i("destroy",()=>{E()});const C=()=>{e.el.classList.remove(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.el&&e.scrollbar.el.classList.remove(e.params.scrollbar.scrollbarDisabledClass),y(),p(),d()},P=()=>{e.el.classList.add(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.el&&e.scrollbar.el.classList.add(e.params.scrollbar.scrollbarDisabledClass),E()};Object.assign(e.scrollbar,{enable:C,disable:P,updateSize:p,setTranslate:d,init:y,destroy:E})}function Uw(s){let{swiper:e,extendParams:t,on:i}=s;t({parallax:{enabled:!1}});const n="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",r=(l,c)=>{const{rtl:u}=e,h=u?-1:1,f=l.getAttribute("data-swiper-parallax")||"0";let d=l.getAttribute("data-swiper-parallax-x"),g=l.getAttribute("data-swiper-parallax-y");const p=l.getAttribute("data-swiper-parallax-scale"),m=l.getAttribute("data-swiper-parallax-opacity"),v=l.getAttribute("data-swiper-parallax-rotate");if(d||g?(d=d||"0",g=g||"0"):e.isHorizontal()?(d=f,g="0"):(g=f,d="0"),d.indexOf("%")>=0?d=`${parseInt(d,10)*c*h}%`:d=`${d*c*h}px`,g.indexOf("%")>=0?g=`${parseInt(g,10)*c}%`:g=`${g*c}px`,typeof m<"u"&&m!==null){const _=m-(m-1)*(1-Math.abs(c));l.style.opacity=_}let w=`translate3d(${d}, ${g}, 0px)`;if(typeof p<"u"&&p!==null){const _=p-(p-1)*(1-Math.abs(c));w+=` scale(${_})`}if(v&&typeof v<"u"&&v!==null){const _=v*c*-1;w+=` rotate(${_}deg)`}l.style.transform=w},a=()=>{const{el:l,slides:c,progress:u,snapGrid:h,isElement:f}=e,d=mi(l,n);e.isElement&&d.push(...mi(e.hostEl,n)),d.forEach(g=>{r(g,u)}),c.forEach((g,p)=>{let m=g.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(m+=Math.ceil(p/2)-u*(h.length-1)),m=Math.min(Math.max(m,-1),1),g.querySelectorAll(`${n}, [data-swiper-parallax-rotate]`).forEach(v=>{r(v,m)})})},o=function(l){l===void 0&&(l=e.params.speed);const{el:c,hostEl:u}=e,h=[...c.querySelectorAll(n)];e.isElement&&h.push(...u.querySelectorAll(n)),h.forEach(f=>{let d=parseInt(f.getAttribute("data-swiper-parallax-duration"),10)||l;l===0&&(d=0),f.style.transitionDuration=`${d}ms`})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&a()}),i("setTranslate",()=>{e.params.parallax.enabled&&a()}),i("setTransition",(l,c)=>{e.params.parallax.enabled&&o(c)})}function Ww(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const r=jt();t({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let a=1,o=!1,l,c;const u=[],h={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},d={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let g=1;Object.defineProperty(e.zoom,"scale",{get(){return g},set(O){if(g!==O){const z=h.imageEl,V=h.slideEl;n("zoomChange",O,z,V)}g=O}});function p(){if(u.length<2)return 1;const O=u[0].pageX,z=u[0].pageY,V=u[1].pageX,$=u[1].pageY;return Math.sqrt((V-O)**2+($-z)**2)}function m(){if(u.length<2)return{x:null,y:null};const O=h.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-O.x-r.scrollX)/a,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-O.y-r.scrollY)/a]}function v(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function w(O){const z=v();return!!(O.target.matches(z)||e.slides.filter(V=>V.contains(O.target)).length>0)}function _(O){const z=`.${e.params.zoom.containerClass}`;return!!(O.target.matches(z)||[...e.hostEl.querySelectorAll(z)].filter(V=>V.contains(O.target)).length>0)}function x(O){if(O.pointerType==="mouse"&&u.splice(0,u.length),!w(O))return;const z=e.params.zoom;if(l=!1,c=!1,u.push(O),!(u.length<2)){if(l=!0,h.scaleStart=p(),!h.slideEl){h.slideEl=O.target.closest(`.${e.params.slideClass}, swiper-slide`),h.slideEl||(h.slideEl=e.slides[e.activeIndex]);let V=h.slideEl.querySelector(`.${z.containerClass}`);if(V&&(V=V.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=V,V?h.imageWrapEl=Hs(h.imageEl,`.${z.containerClass}`)[0]:h.imageWrapEl=void 0,!h.imageWrapEl){h.imageEl=void 0;return}h.maxRatio=h.imageWrapEl.getAttribute("data-swiper-zoom")||z.maxRatio}if(h.imageEl){const[V,$]=m();h.originX=V,h.originY=$,h.imageEl.style.transitionDuration="0ms"}o=!0}}function b(O){if(!w(O))return;const z=e.params.zoom,V=e.zoom,$=u.findIndex(K=>K.pointerId===O.pointerId);$>=0&&(u[$]=O),!(u.length<2)&&(c=!0,h.scaleMove=p(),h.imageEl&&(V.scale=h.scaleMove/h.scaleStart*a,V.scale>h.maxRatio&&(V.scale=h.maxRatio-1+(V.scale-h.maxRatio+1)**.5),V.scale<z.minRatio&&(V.scale=z.minRatio+1-(z.minRatio-V.scale+1)**.5),h.imageEl.style.transform=`translate3d(0,0,0) scale(${V.scale})`))}function S(O){if(!w(O)||O.pointerType==="mouse"&&O.type==="pointerout")return;const z=e.params.zoom,V=e.zoom,$=u.findIndex(K=>K.pointerId===O.pointerId);$>=0&&u.splice($,1),!(!l||!c)&&(l=!1,c=!1,h.imageEl&&(V.scale=Math.max(Math.min(V.scale,h.maxRatio),z.minRatio),h.imageEl.style.transitionDuration=`${e.params.speed}ms`,h.imageEl.style.transform=`translate3d(0,0,0) scale(${V.scale})`,a=V.scale,o=!1,V.scale>1&&h.slideEl?h.slideEl.classList.add(`${z.zoomedSlideClass}`):V.scale<=1&&h.slideEl&&h.slideEl.classList.remove(`${z.zoomedSlideClass}`),V.scale===1&&(h.originX=0,h.originY=0,h.slideEl=void 0)))}function M(O){const z=e.device;if(!h.imageEl||f.isTouched)return;z.android&&O.cancelable&&O.preventDefault(),f.isTouched=!0;const V=u.length>0?u[0]:O;f.touchesStart.x=V.pageX,f.touchesStart.y=V.pageY}function y(O){if(!w(O)||!_(O))return;const z=e.zoom;if(!h.imageEl||!f.isTouched||!h.slideEl)return;f.isMoved||(f.width=h.imageEl.offsetWidth,f.height=h.imageEl.offsetHeight,f.startX=Rc(h.imageWrapEl,"x")||0,f.startY=Rc(h.imageWrapEl,"y")||0,h.slideWidth=h.slideEl.offsetWidth,h.slideHeight=h.slideEl.offsetHeight,h.imageWrapEl.style.transitionDuration="0ms");const V=f.width*z.scale,$=f.height*z.scale;if(V<h.slideWidth&&$<h.slideHeight)return;if(f.minX=Math.min(h.slideWidth/2-V/2,0),f.maxX=-f.minX,f.minY=Math.min(h.slideHeight/2-$/2,0),f.maxY=-f.minY,f.touchesCurrent.x=u.length>0?u[0].pageX:O.pageX,f.touchesCurrent.y=u.length>0?u[0].pageY:O.pageY,Math.max(Math.abs(f.touchesCurrent.x-f.touchesStart.x),Math.abs(f.touchesCurrent.y-f.touchesStart.y))>5&&(e.allowClick=!1),!f.isMoved&&!o){if(e.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x)){f.isTouched=!1;return}if(!e.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y)){f.isTouched=!1;return}}O.cancelable&&O.preventDefault(),O.stopPropagation(),f.isMoved=!0;const U=(z.scale-a)/(h.maxRatio-e.params.zoom.minRatio),{originX:ee,originY:Z}=h;f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX+U*(f.width-ee*2),f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY+U*(f.height-Z*2),f.currentX<f.minX&&(f.currentX=f.minX+1-(f.minX-f.currentX+1)**.8),f.currentX>f.maxX&&(f.currentX=f.maxX-1+(f.currentX-f.maxX+1)**.8),f.currentY<f.minY&&(f.currentY=f.minY+1-(f.minY-f.currentY+1)**.8),f.currentY>f.maxY&&(f.currentY=f.maxY-1+(f.currentY-f.maxY+1)**.8),d.prevPositionX||(d.prevPositionX=f.touchesCurrent.x),d.prevPositionY||(d.prevPositionY=f.touchesCurrent.y),d.prevTime||(d.prevTime=Date.now()),d.x=(f.touchesCurrent.x-d.prevPositionX)/(Date.now()-d.prevTime)/2,d.y=(f.touchesCurrent.y-d.prevPositionY)/(Date.now()-d.prevTime)/2,Math.abs(f.touchesCurrent.x-d.prevPositionX)<2&&(d.x=0),Math.abs(f.touchesCurrent.y-d.prevPositionY)<2&&(d.y=0),d.prevPositionX=f.touchesCurrent.x,d.prevPositionY=f.touchesCurrent.y,d.prevTime=Date.now(),h.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function E(){const O=e.zoom;if(!h.imageEl)return;if(!f.isTouched||!f.isMoved){f.isTouched=!1,f.isMoved=!1;return}f.isTouched=!1,f.isMoved=!1;let z=300,V=300;const $=d.x*z,K=f.currentX+$,U=d.y*V,ee=f.currentY+U;d.x!==0&&(z=Math.abs((K-f.currentX)/d.x)),d.y!==0&&(V=Math.abs((ee-f.currentY)/d.y));const Z=Math.max(z,V);f.currentX=K,f.currentY=ee;const te=f.width*O.scale,j=f.height*O.scale;f.minX=Math.min(h.slideWidth/2-te/2,0),f.maxX=-f.minX,f.minY=Math.min(h.slideHeight/2-j/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),h.imageWrapEl.style.transitionDuration=`${Z}ms`,h.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function C(){const O=e.zoom;h.slideEl&&e.activeIndex!==e.slides.indexOf(h.slideEl)&&(h.imageEl&&(h.imageEl.style.transform="translate3d(0,0,0) scale(1)"),h.imageWrapEl&&(h.imageWrapEl.style.transform="translate3d(0,0,0)"),h.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),O.scale=1,a=1,h.slideEl=void 0,h.imageEl=void 0,h.imageWrapEl=void 0,h.originX=0,h.originY=0)}function P(O){const z=e.zoom,V=e.params.zoom;if(!h.slideEl){O&&O.target&&(h.slideEl=O.target.closest(`.${e.params.slideClass}, swiper-slide`)),h.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.slideEl=mi(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:h.slideEl=e.slides[e.activeIndex]);let it=h.slideEl.querySelector(`.${V.containerClass}`);it&&(it=it.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=it,it?h.imageWrapEl=Hs(h.imageEl,`.${V.containerClass}`)[0]:h.imageWrapEl=void 0}if(!h.imageEl||!h.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),h.slideEl.classList.add(`${V.zoomedSlideClass}`);let $,K,U,ee,Z,te,j,ie,oe,ve,ge,Le,Re,ke,ot,tt,lt,It;typeof f.touchesStart.x>"u"&&O?($=O.pageX,K=O.pageY):($=f.touchesStart.x,K=f.touchesStart.y);const vt=typeof O=="number"?O:null;a===1&&vt&&($=void 0,K=void 0),z.scale=vt||h.imageWrapEl.getAttribute("data-swiper-zoom")||V.maxRatio,a=vt||h.imageWrapEl.getAttribute("data-swiper-zoom")||V.maxRatio,O&&!(a===1&&vt)?(lt=h.slideEl.offsetWidth,It=h.slideEl.offsetHeight,U=Wo(h.slideEl).left+r.scrollX,ee=Wo(h.slideEl).top+r.scrollY,Z=U+lt/2-$,te=ee+It/2-K,oe=h.imageEl.offsetWidth,ve=h.imageEl.offsetHeight,ge=oe*z.scale,Le=ve*z.scale,Re=Math.min(lt/2-ge/2,0),ke=Math.min(It/2-Le/2,0),ot=-Re,tt=-ke,j=Z*z.scale,ie=te*z.scale,j<Re&&(j=Re),j>ot&&(j=ot),ie<ke&&(ie=ke),ie>tt&&(ie=tt)):(j=0,ie=0),vt&&z.scale===1&&(h.originX=0,h.originY=0),h.imageWrapEl.style.transitionDuration="300ms",h.imageWrapEl.style.transform=`translate3d(${j}px, ${ie}px,0)`,h.imageEl.style.transitionDuration="300ms",h.imageEl.style.transform=`translate3d(0,0,0) scale(${z.scale})`}function L(){const O=e.zoom,z=e.params.zoom;if(!h.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?h.slideEl=mi(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:h.slideEl=e.slides[e.activeIndex];let V=h.slideEl.querySelector(`.${z.containerClass}`);V&&(V=V.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),h.imageEl=V,V?h.imageWrapEl=Hs(h.imageEl,`.${z.containerClass}`)[0]:h.imageWrapEl=void 0}!h.imageEl||!h.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),O.scale=1,a=1,h.imageWrapEl.style.transitionDuration="300ms",h.imageWrapEl.style.transform="translate3d(0,0,0)",h.imageEl.style.transitionDuration="300ms",h.imageEl.style.transform="translate3d(0,0,0) scale(1)",h.slideEl.classList.remove(`${z.zoomedSlideClass}`),h.slideEl=void 0,h.originX=0,h.originY=0)}function k(O){const z=e.zoom;z.scale&&z.scale!==1?L():P(O)}function A(){const O=e.params.passiveListeners?{passive:!0,capture:!1}:!1,z=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:O,activeListenerWithCapture:z}}function I(){const O=e.zoom;if(O.enabled)return;O.enabled=!0;const{passiveListener:z,activeListenerWithCapture:V}=A();e.wrapperEl.addEventListener("pointerdown",x,z),e.wrapperEl.addEventListener("pointermove",b,V),["pointerup","pointercancel","pointerout"].forEach($=>{e.wrapperEl.addEventListener($,S,z)}),e.wrapperEl.addEventListener("pointermove",y,V)}function R(){const O=e.zoom;if(!O.enabled)return;O.enabled=!1;const{passiveListener:z,activeListenerWithCapture:V}=A();e.wrapperEl.removeEventListener("pointerdown",x,z),e.wrapperEl.removeEventListener("pointermove",b,V),["pointerup","pointercancel","pointerout"].forEach($=>{e.wrapperEl.removeEventListener($,S,z)}),e.wrapperEl.removeEventListener("pointermove",y,V)}i("init",()=>{e.params.zoom.enabled&&I()}),i("destroy",()=>{R()}),i("touchStart",(O,z)=>{e.zoom.enabled&&M(z)}),i("touchEnd",(O,z)=>{e.zoom.enabled&&E()}),i("doubleTap",(O,z)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&k(z)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&C()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&C()}),Object.assign(e.zoom,{enable:I,disable:R,in:P,out:L,toggle:k})}function Gw(s){let{swiper:e,extendParams:t,on:i}=s;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function n(c,u){const h=function(){let p,m,v;return(w,_)=>{for(m=-1,p=w.length;p-m>1;)v=p+m>>1,w[v]<=_?m=v:p=v;return p}}();this.x=c,this.y=u,this.lastIndex=c.length-1;let f,d;return this.interpolate=function(p){return p?(d=h(this.x,p),f=d-1,(p-this.x[f])*(this.y[d]-this.y[f])/(this.x[d]-this.x[f])+this.y[f]):0},this}function r(c){e.controller.spline=e.params.loop?new n(e.slidesGrid,c.slidesGrid):new n(e.snapGrid,c.snapGrid)}function a(c,u){const h=e.controller.control;let f,d;const g=e.constructor;function p(m){if(m.destroyed)return;const v=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(r(m),d=-e.controller.spline.interpolate(-v)),(!d||e.params.controller.by==="container")&&(f=(m.maxTranslate()-m.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(f)||!Number.isFinite(f))&&(f=1),d=(v-e.minTranslate())*f+m.minTranslate()),e.params.controller.inverse&&(d=m.maxTranslate()-d),m.updateProgress(d),m.setTranslate(d,e),m.updateActiveIndex(),m.updateSlidesClasses()}if(Array.isArray(h))for(let m=0;m<h.length;m+=1)h[m]!==u&&h[m]instanceof g&&p(h[m]);else h instanceof g&&u!==h&&p(h)}function o(c,u){const h=e.constructor,f=e.controller.control;let d;function g(p){p.destroyed||(p.setTransition(c,e),c!==0&&(p.transitionStart(),p.params.autoHeight&&Ks(()=>{p.updateAutoHeight()}),Ma(p.wrapperEl,()=>{f&&p.transitionEnd()})))}if(Array.isArray(f))for(d=0;d<f.length;d+=1)f[d]!==u&&f[d]instanceof h&&g(f[d]);else f instanceof h&&u!==f&&g(f)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){const c=document.querySelector(e.params.controller.control);if(c&&c.swiper)e.controller.control=c.swiper;else if(c){const u=h=>{e.controller.control=h.detail[0],e.update(),c.removeEventListener("init",u)};c.addEventListener("init",u)}return}e.controller.control=e.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,u,h)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(u,h)}),i("setTransition",(c,u,h)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(u,h)}),Object.assign(e.controller,{setTranslate:a,setTransition:o})}function Hw(s){let{swiper:e,extendParams:t,on:i}=s;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let n=null;function r(A){const I=n;I.length!==0&&(I.innerHTML="",I.innerHTML=A)}const a=A=>(Array.isArray(A)?A:[A]).filter(I=>!!I);function o(A){A===void 0&&(A=16);const I=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(A).replace(/x/g,I)}function l(A){A=a(A),A.forEach(I=>{I.setAttribute("tabIndex","0")})}function c(A){A=a(A),A.forEach(I=>{I.setAttribute("tabIndex","-1")})}function u(A,I){A=a(A),A.forEach(R=>{R.setAttribute("role",I)})}function h(A,I){A=a(A),A.forEach(R=>{R.setAttribute("aria-roledescription",I)})}function f(A,I){A=a(A),A.forEach(R=>{R.setAttribute("aria-controls",I)})}function d(A,I){A=a(A),A.forEach(R=>{R.setAttribute("aria-label",I)})}function g(A,I){A=a(A),A.forEach(R=>{R.setAttribute("id",I)})}function p(A,I){A=a(A),A.forEach(R=>{R.setAttribute("aria-live",I)})}function m(A){A=a(A),A.forEach(I=>{I.setAttribute("aria-disabled",!0)})}function v(A){A=a(A),A.forEach(I=>{I.setAttribute("aria-disabled",!1)})}function w(A){if(A.keyCode!==13&&A.keyCode!==32)return;const I=e.params.a11y,R=A.target;e.pagination&&e.pagination.el&&(R===e.pagination.el||e.pagination.el.contains(A.target))&&!A.target.matches(ps(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&R===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?r(I.lastSlideMessage):r(I.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&R===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?r(I.firstSlideMessage):r(I.prevSlideMessage)),e.pagination&&R.matches(ps(e.params.pagination.bulletClass))&&R.click())}function _(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:A,prevEl:I}=e.navigation;I&&(e.isBeginning?(m(I),c(I)):(v(I),l(I))),A&&(e.isEnd?(m(A),c(A)):(v(A),l(A)))}function x(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function b(){return x()&&e.params.pagination.clickable}function S(){const A=e.params.a11y;x()&&e.pagination.bullets.forEach(I=>{e.params.pagination.clickable&&(l(I),e.params.pagination.renderBullet||(u(I,"button"),d(I,A.paginationBulletMessage.replace(/\{\{index\}\}/,Da(I)+1)))),I.matches(ps(e.params.pagination.bulletActiveClass))?I.setAttribute("aria-current","true"):I.removeAttribute("aria-current")})}const M=(A,I,R)=>{l(A),A.tagName!=="BUTTON"&&(u(A,"button"),A.addEventListener("keydown",w)),d(A,R),f(A,I)},y=()=>{e.a11y.clicked=!0},E=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},C=A=>{if(e.a11y.clicked)return;const I=A.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!I||!e.slides.includes(I))return;const R=e.slides.indexOf(I)===e.activeIndex,O=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(I);R||O||A.sourceCapabilities&&A.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(I),0))},P=()=>{const A=e.params.a11y;A.itemRoleDescriptionMessage&&h(e.slides,A.itemRoleDescriptionMessage),A.slideRole&&u(e.slides,A.slideRole);const I=e.slides.length;A.slideLabelMessage&&e.slides.forEach((R,O)=>{const z=e.params.loop?parseInt(R.getAttribute("data-swiper-slide-index"),10):O,V=A.slideLabelMessage.replace(/\{\{index\}\}/,z+1).replace(/\{\{slidesLength\}\}/,I);d(R,V)})},L=()=>{const A=e.params.a11y;e.el.append(n);const I=e.el;A.containerRoleDescriptionMessage&&h(I,A.containerRoleDescriptionMessage),A.containerMessage&&d(I,A.containerMessage);const R=e.wrapperEl,O=A.id||R.getAttribute("id")||`swiper-wrapper-${o(16)}`,z=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";g(R,O),p(R,z),P();let{nextEl:V,prevEl:$}=e.navigation?e.navigation:{};V=a(V),$=a($),V&&V.forEach(K=>M(K,O,A.nextSlideMessage)),$&&$.forEach(K=>M(K,O,A.prevSlideMessage)),b()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(U=>{U.addEventListener("keydown",w)}),e.el.addEventListener("focus",C,!0),e.el.addEventListener("pointerdown",y,!0),e.el.addEventListener("pointerup",E,!0)};function k(){n&&n.remove();let{nextEl:A,prevEl:I}=e.navigation?e.navigation:{};A=a(A),I=a(I),A&&A.forEach(R=>R.removeEventListener("keydown",w)),I&&I.forEach(R=>R.removeEventListener("keydown",w)),b()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(O=>{O.removeEventListener("keydown",w)}),e.el.removeEventListener("focus",C,!0),e.el.removeEventListener("pointerdown",y,!0),e.el.removeEventListener("pointerup",E,!0)}i("beforeInit",()=>{n=_n("span",e.params.a11y.notificationClass),n.setAttribute("aria-live","assertive"),n.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&L()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&P()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&_()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&S()}),i("destroy",()=>{e.params.a11y.enabled&&k()})}function jw(s){let{swiper:e,extendParams:t,on:i}=s;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let n=!1,r={};const a=d=>d.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),o=d=>{const g=jt();let p;d?p=new URL(d):p=g.location;const m=p.pathname.slice(1).split("/").filter(x=>x!==""),v=m.length,w=m[v-2],_=m[v-1];return{key:w,value:_}},l=(d,g)=>{const p=jt();if(!n||!e.params.history.enabled)return;let m;e.params.url?m=new URL(e.params.url):m=p.location;const v=e.slides[g];let w=a(v.getAttribute("data-history"));if(e.params.history.root.length>0){let x=e.params.history.root;x[x.length-1]==="/"&&(x=x.slice(0,x.length-1)),w=`${x}/${d?`${d}/`:""}${w}`}else m.pathname.includes(d)||(w=`${d?`${d}/`:""}${w}`);e.params.history.keepQuery&&(w+=m.search);const _=p.history.state;_&&_.value===w||(e.params.history.replaceState?p.history.replaceState({value:w},null,w):p.history.pushState({value:w},null,w))},c=(d,g,p)=>{if(g)for(let m=0,v=e.slides.length;m<v;m+=1){const w=e.slides[m];if(a(w.getAttribute("data-history"))===g){const x=e.getSlideIndex(w);e.slideTo(x,d,p)}}else e.slideTo(0,d,p)},u=()=>{r=o(e.params.url),c(e.params.speed,r.value,!1)},h=()=>{const d=jt();if(e.params.history){if(!d.history||!d.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(n=!0,r=o(e.params.url),!r.key&&!r.value){e.params.history.replaceState||d.addEventListener("popstate",u);return}c(0,r.value,e.params.runCallbacksOnInit),e.params.history.replaceState||d.addEventListener("popstate",u)}},f=()=>{const d=jt();e.params.history.replaceState||d.removeEventListener("popstate",u)};i("init",()=>{e.params.history.enabled&&h()}),i("destroy",()=>{e.params.history.enabled&&f()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{n&&l(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{n&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function Yw(s){let{swiper:e,extendParams:t,emit:i,on:n}=s,r=!1;const a=yi(),o=jt();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(f,d){if(e.virtual&&e.params.virtual.enabled){const g=e.slides.filter(m=>m.getAttribute("data-hash")===d)[0];return g?parseInt(g.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(mi(e.slidesEl,`.${e.params.slideClass}[data-hash="${d}"], swiper-slide[data-hash="${d}"]`)[0])}}});const l=()=>{i("hashChange");const f=a.location.hash.replace("#",""),d=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],g=d?d.getAttribute("data-hash"):"";if(f!==g){const p=e.params.hashNavigation.getSlideIndex(e,f);if(typeof p>"u"||Number.isNaN(p))return;e.slideTo(p)}},c=()=>{if(!r||!e.params.hashNavigation.enabled)return;const f=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],d=f?f.getAttribute("data-hash")||f.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&o.history&&o.history.replaceState?(o.history.replaceState(null,null,`#${d}`||""),i("hashSet")):(a.location.hash=d||"",i("hashSet"))},u=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;r=!0;const f=a.location.hash.replace("#","");if(f){const g=e.params.hashNavigation.getSlideIndex(e,f);e.slideTo(g||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&o.addEventListener("hashchange",l)},h=()=>{e.params.hashNavigation.watchState&&o.removeEventListener("hashchange",l)};n("init",()=>{e.params.hashNavigation.enabled&&u()}),n("destroy",()=>{e.params.hashNavigation.enabled&&h()}),n("transitionEnd _freeModeNoMomentumRelease",()=>{r&&c()}),n("slideChange",()=>{r&&e.params.cssMode&&c()})}function qw(s){let{swiper:e,extendParams:t,on:i,emit:n,params:r}=s;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,o,l=r&&r.autoplay?r.autoplay.delay:3e3,c=r&&r.autoplay?r.autoplay.delay:3e3,u,h=new Date().getTime,f,d,g,p,m,v;function w(O){!e||e.destroyed||!e.wrapperEl||O.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",w),E())}const _=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const O=e.autoplay.paused?u:h+c-new Date().getTime();e.autoplay.timeLeft=O,n("autoplayTimeLeft",O,O/l),o=requestAnimationFrame(()=>{_()})},x=()=>{let O;return e.virtual&&e.params.virtual.enabled?O=e.slides.filter(V=>V.classList.contains("swiper-slide-active"))[0]:O=e.slides[e.activeIndex],O?parseInt(O.getAttribute("data-swiper-autoplay"),10):void 0},b=O=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),_();let z=typeof O>"u"?e.params.autoplay.delay:O;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const V=x();!Number.isNaN(V)&&V>0&&typeof O>"u"&&(z=V,l=V,c=V),u=z;const $=e.params.speed,K=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev($,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,$,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext($,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,$,!0,!0),n("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{b()})))};return z>0?(clearTimeout(a),a=setTimeout(()=>{K()},z)):requestAnimationFrame(()=>{K()}),z},S=()=>{e.autoplay.running=!0,b(),n("autoplayStart")},M=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(o),n("autoplayStop")},y=(O,z)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),O||(v=!0);const V=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",w):E()};if(e.autoplay.paused=!0,z){m&&(u=e.params.autoplay.delay),m=!1,V();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),V())},E=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),v?(v=!1,b(u)):b(),e.autoplay.paused=!1,n("autoplayResume"))},C=()=>{if(e.destroyed||!e.autoplay.running)return;const O=yi();O.visibilityState==="hidden"&&(v=!0,y(!0)),O.visibilityState==="visible"&&E()},P=O=>{O.pointerType==="mouse"&&(v=!0,!(e.animating||e.autoplay.paused)&&y(!0))},L=O=>{O.pointerType==="mouse"&&e.autoplay.paused&&E()},k=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",P),e.el.addEventListener("pointerleave",L))},A=()=>{e.el.removeEventListener("pointerenter",P),e.el.removeEventListener("pointerleave",L)},I=()=>{yi().addEventListener("visibilitychange",C)},R=()=>{yi().removeEventListener("visibilitychange",C)};i("init",()=>{e.params.autoplay.enabled&&(k(),I(),h=new Date().getTime(),S())}),i("destroy",()=>{A(),R(),e.autoplay.running&&M()}),i("beforeTransitionStart",(O,z,V)=>{e.destroyed||!e.autoplay.running||(V||!e.params.autoplay.disableOnInteraction?y(!0,!0):M())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){M();return}d=!0,g=!1,v=!1,p=setTimeout(()=>{v=!0,g=!0,y(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!d)){if(clearTimeout(p),clearTimeout(a),e.params.autoplay.disableOnInteraction){g=!1,d=!1;return}g&&e.params.cssMode&&E(),g=!1,d=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(m=!0)}),Object.assign(e.autoplay,{start:S,stop:M,pause:y,resume:E})}function Xw(s){let{swiper:e,extendParams:t,on:i}=s;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let n=!1,r=!1;e.thumbs={swiper:null};function a(){const c=e.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,h=c.clickedSlide;if(h&&h.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof u>"u"||u===null)return;let f;c.params.loop?f=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):f=u,e.params.loop?e.slideToLoop(f):e.slideTo(f)}function o(){const{thumbs:c}=e.params;if(n)return!1;n=!0;const u=e.constructor;if(c.swiper instanceof u)e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(_a(c.swiper)){const h=Object.assign({},c.swiper);Object.assign(h,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new u(h),r=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",a),!0}function l(c){const u=e.thumbs.swiper;if(!u||u.destroyed)return;const h=u.params.slidesPerView==="auto"?u.slidesPerViewDynamic():u.params.slidesPerView;let f=1;const d=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(f=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),u.slides.forEach(m=>m.classList.remove(d)),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let m=0;m<f;m+=1)mi(u.slidesEl,`[data-swiper-slide-index="${e.realIndex+m}"]`).forEach(v=>{v.classList.add(d)});else for(let m=0;m<f;m+=1)u.slides[e.realIndex+m]&&u.slides[e.realIndex+m].classList.add(d);const g=e.params.thumbs.autoScrollOffset,p=g&&!u.params.loop;if(e.realIndex!==u.realIndex||p){const m=u.activeIndex;let v,w;if(u.params.loop){const _=u.slides.filter(x=>x.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];v=u.slides.indexOf(_),w=e.activeIndex>e.previousIndex?"next":"prev"}else v=e.realIndex,w=v>e.previousIndex?"next":"prev";p&&(v+=w==="next"?g:-1*g),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(v)<0&&(u.params.centeredSlides?v>m?v=v-Math.floor(h/2)+1:v=v+Math.floor(h/2)-1:v>m&&u.params.slidesPerGroup,u.slideTo(v,c?0:void 0))}}i("beforeInit",()=>{const{thumbs:c}=e.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){const u=yi(),h=()=>{const d=typeof c.swiper=="string"?u.querySelector(c.swiper):c.swiper;if(d&&d.swiper)c.swiper=d.swiper,o(),l(!0);else if(d){const g=p=>{c.swiper=p.detail[0],d.removeEventListener("init",g),o(),l(!0),c.swiper.update(),e.update()};d.addEventListener("init",g)}return d},f=()=>{if(e.destroyed)return;h()||requestAnimationFrame(f)};requestAnimationFrame(f)}else o(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,u)=>{const h=e.thumbs.swiper;!h||h.destroyed||h.setTransition(u)}),i("beforeDestroy",()=>{const c=e.thumbs.swiper;!c||c.destroyed||r&&c.destroy()}),Object.assign(e.thumbs,{init:o,update:l})}function Zw(s){let{swiper:e,extendParams:t,emit:i,once:n}=s;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function a(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:ln()})}function o(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:h,rtlTranslate:f,snapGrid:d,touchEventsData:g}=e,m=ln()-g.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<d.length?e.slideTo(d.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(g.velocities.length>1){const y=g.velocities.pop(),E=g.velocities.pop(),C=y.position-E.position,P=y.time-E.time;e.velocity=C/P,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(P>150||ln()-y.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,g.velocities.length=0;let v=1e3*u.freeMode.momentumRatio;const w=e.velocity*v;let _=e.translate+w;f&&(_=-_);let x=!1,b;const S=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let M;if(_<e.maxTranslate())u.freeMode.momentumBounce?(_+e.maxTranslate()<-S&&(_=e.maxTranslate()-S),b=e.maxTranslate(),x=!0,g.allowMomentumBounce=!0):_=e.maxTranslate(),u.loop&&u.centeredSlides&&(M=!0);else if(_>e.minTranslate())u.freeMode.momentumBounce?(_-e.minTranslate()>S&&(_=e.minTranslate()+S),b=e.minTranslate(),x=!0,g.allowMomentumBounce=!0):_=e.minTranslate(),u.loop&&u.centeredSlides&&(M=!0);else if(u.freeMode.sticky){let y;for(let E=0;E<d.length;E+=1)if(d[E]>-_){y=E;break}Math.abs(d[y]-_)<Math.abs(d[y-1]-_)||e.swipeDirection==="next"?_=d[y]:_=d[y-1],_=-_}if(M&&n("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?v=Math.abs((-_-e.translate)/e.velocity):v=Math.abs((_-e.translate)/e.velocity),u.freeMode.sticky){const y=Math.abs((f?-_:_)-e.translate),E=e.slidesSizesGrid[e.activeIndex];y<E?v=u.speed:y<2*E?v=u.speed*1.5:v=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&x?(e.updateProgress(b),e.setTransition(v),e.setTranslate(_),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Ma(h,()=>{!e||e.destroyed||!g.allowMomentumBounce||(i("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(b),Ma(h,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(_),e.setTransition(v),e.setTranslate(_),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Ma(h,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(_),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&i("_freeModeNoMomentumRelease");(!u.freeMode.momentum||m>=u.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:a,onTouchEnd:o}})}function $w(s){let{swiper:e,extendParams:t,on:i}=s;t({grid:{rows:1,fill:"column"}});let n,r,a,o;const l=()=>{let g=e.params.spaceBetween;return typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*e.size:typeof g=="string"&&(g=parseFloat(g)),g},c=g=>{const{slidesPerView:p}=e.params,{rows:m,fill:v}=e.params.grid;a=Math.floor(g/m),Math.floor(g/m)===g/m?n=g:n=Math.ceil(g/m)*m,p!=="auto"&&v==="row"&&(n=Math.max(n,p*m)),r=n/m},u=(g,p,m,v)=>{const{slidesPerGroup:w}=e.params,_=l(),{rows:x,fill:b}=e.params.grid;let S,M,y;if(b==="row"&&w>1){const E=Math.floor(g/(w*x)),C=g-x*w*E,P=E===0?w:Math.min(Math.ceil((m-E*x*w)/x),w);y=Math.floor(C/P),M=C-y*P+E*w,S=M+y*n/x,p.style.order=S}else b==="column"?(M=Math.floor(g/x),y=g-M*x,(M>a||M===a&&y===x-1)&&(y+=1,y>=x&&(y=0,M+=1))):(y=Math.floor(g/r),M=g-y*r);p.row=y,p.column=M,p.style[v("margin-top")]=y!==0?_&&`${_}px`:""},h=(g,p,m)=>{const{centeredSlides:v,roundLengths:w}=e.params,_=l(),{rows:x}=e.params.grid;if(e.virtualSize=(g+_)*n,e.virtualSize=Math.ceil(e.virtualSize/x)-_,e.wrapperEl.style[m("width")]=`${e.virtualSize+_}px`,v){const b=[];for(let S=0;S<p.length;S+=1){let M=p[S];w&&(M=Math.floor(M)),p[S]<e.virtualSize+p[0]&&b.push(M)}p.splice(0,p.length),p.push(...b)}},f=()=>{o=e.params.grid&&e.params.grid.rows>1},d=()=>{const{params:g,el:p}=e,m=g.grid&&g.grid.rows>1;o&&!m?(p.classList.remove(`${g.containerModifierClass}grid`,`${g.containerModifierClass}grid-column`),a=1,e.emitContainerClasses()):!o&&m&&(p.classList.add(`${g.containerModifierClass}grid`),g.grid.fill==="column"&&p.classList.add(`${g.containerModifierClass}grid-column`),e.emitContainerClasses()),o=m};i("init",f),i("update",d),e.grid={initSlides:c,updateSlide:u,updateWrapperSize:h}}function Kw(s){const e=this,{params:t,slidesEl:i}=e;t.loop&&e.loopDestroy();const n=r=>{if(typeof r=="string"){const a=document.createElement("div");a.innerHTML=r,i.append(a.children[0]),a.innerHTML=""}else i.append(r)};if(typeof s=="object"&&"length"in s)for(let r=0;r<s.length;r+=1)s[r]&&n(s[r]);else n(s);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function Jw(s){const e=this,{params:t,activeIndex:i,slidesEl:n}=e;t.loop&&e.loopDestroy();let r=i+1;const a=o=>{if(typeof o=="string"){const l=document.createElement("div");l.innerHTML=o,n.prepend(l.children[0]),l.innerHTML=""}else n.prepend(o)};if(typeof s=="object"&&"length"in s){for(let o=0;o<s.length;o+=1)s[o]&&a(s[o]);r=i+s.length}else a(s);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(r,0,!1)}function Qw(s,e){const t=this,{params:i,activeIndex:n,slidesEl:r}=t;let a=n;i.loop&&(a-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());const o=t.slides.length;if(s<=0){t.prependSlide(e);return}if(s>=o){t.appendSlide(e);return}let l=a>s?a+1:a;const c=[];for(let u=o-1;u>=s;u-=1){const h=t.slides[u];h.remove(),c.unshift(h)}if(typeof e=="object"&&"length"in e){for(let u=0;u<e.length;u+=1)e[u]&&r.append(e[u]);l=a>s?a+e.length:a}else r.append(e);for(let u=0;u<c.length;u+=1)r.append(c[u]);t.recalcSlides(),i.loop&&t.loopCreate(),(!i.observer||t.isElement)&&t.update(),i.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1)}function eb(s){const e=this,{params:t,activeIndex:i}=e;let n=i;t.loop&&(n-=e.loopedSlides,e.loopDestroy());let r=n,a;if(typeof s=="object"&&"length"in s){for(let o=0;o<s.length;o+=1)a=s[o],e.slides[a]&&e.slides[a].remove(),a<r&&(r-=1);r=Math.max(r,0)}else a=s,e.slides[a]&&e.slides[a].remove(),a<r&&(r-=1),r=Math.max(r,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),t.loop?e.slideTo(r+e.loopedSlides,0,!1):e.slideTo(r,0,!1)}function tb(){const s=this,e=[];for(let t=0;t<s.slides.length;t+=1)e.push(t);s.removeSlide(e)}function ib(s){let{swiper:e}=s;Object.assign(e,{appendSlide:Kw.bind(e),prependSlide:Jw.bind(e),addSlide:Qw.bind(e),removeSlide:eb.bind(e),removeAllSlides:tb.bind(e)})}function Kr(s){const{effect:e,swiper:t,on:i,setTranslate:n,setTransition:r,overwriteParams:a,perspective:o,recreateShadows:l,getEffectParams:c}=s;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),o&&o()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const h=a?a():{};Object.assign(t.params,h),Object.assign(t.originalParams,h)}),i("setTranslate",()=>{t.params.effect===e&&n()}),i("setTransition",(h,f)=>{t.params.effect===e&&r(f)}),i("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.forEach(h=>{h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}});let u;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(u=!0),requestAnimationFrame(()=>{u&&t.slides&&t.slides.length&&(n(),u=!1)}))})}function ja(s,e){const t=rr(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function cl(s){let{swiper:e,duration:t,transformElements:i,allSlides:n}=s;const{activeIndex:r}=e,a=o=>o.parentElement?o.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===o.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let o=!1,l;n?l=i:l=i.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?a(c):c;return e.getSlideIndex(u)===r}),l.forEach(c=>{Ma(c,()=>{if(o||!e||e.destroyed)return;o=!0,e.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(u)})})}}function nb(s){let{swiper:e,extendParams:t,on:i}=s;t({fadeEffect:{crossFade:!1}}),Kr({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:a}=e,o=e.params.fadeEffect;for(let l=0;l<a.length;l+=1){const c=e.slides[l];let h=-c.swiperSlideOffset;e.params.virtualTranslate||(h-=e.translate);let f=0;e.isHorizontal()||(f=h,h=0);const d=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),g=ja(o,c);g.style.opacity=d,g.style.transform=`translate3d(${h}px, ${f}px, 0px)`}},setTransition:a=>{const o=e.slides.map(l=>rr(l));o.forEach(l=>{l.style.transitionDuration=`${a}ms`}),cl({swiper:e,duration:a,transformElements:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function sb(s){let{swiper:e,extendParams:t,on:i}=s;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const n=(l,c,u)=>{let h=u?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),f=u?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");h||(h=_n("div",`swiper-slide-shadow-cube swiper-slide-shadow-${u?"left":"top"}`.split(" ")),l.append(h)),f||(f=_n("div",`swiper-slide-shadow-cube swiper-slide-shadow-${u?"right":"bottom"}`.split(" ")),l.append(f)),h&&(h.style.opacity=Math.max(-c,0)),f&&(f.style.opacity=Math.max(c,0))};Kr({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:l,wrapperEl:c,slides:u,width:h,height:f,rtlTranslate:d,size:g,browser:p}=e,m=e.params.cubeEffect,v=e.isHorizontal(),w=e.virtual&&e.params.virtual.enabled;let _=0,x;m.shadow&&(v?(x=e.wrapperEl.querySelector(".swiper-cube-shadow"),x||(x=_n("div","swiper-cube-shadow"),e.wrapperEl.append(x)),x.style.height=`${h}px`):(x=l.querySelector(".swiper-cube-shadow"),x||(x=_n("div","swiper-cube-shadow"),l.append(x))));for(let S=0;S<u.length;S+=1){const M=u[S];let y=S;w&&(y=parseInt(M.getAttribute("data-swiper-slide-index"),10));let E=y*90,C=Math.floor(E/360);d&&(E=-E,C=Math.floor(-E/360));const P=Math.max(Math.min(M.progress,1),-1);let L=0,k=0,A=0;y%4===0?(L=-C*4*g,A=0):(y-1)%4===0?(L=0,A=-C*4*g):(y-2)%4===0?(L=g+C*4*g,A=g):(y-3)%4===0&&(L=-g,A=3*g+g*4*C),d&&(L=-L),v||(k=L,L=0);const I=`rotateX(${v?0:-E}deg) rotateY(${v?E:0}deg) translate3d(${L}px, ${k}px, ${A}px)`;P<=1&&P>-1&&(_=y*90+P*90,d&&(_=-y*90-P*90)),M.style.transform=I,m.slideShadows&&n(M,P,v)}if(c.style.transformOrigin=`50% 50% -${g/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${g/2}px`,m.shadow)if(v)x.style.transform=`translate3d(0px, ${h/2+m.shadowOffset}px, ${-h/2}px) rotateX(90deg) rotateZ(0deg) scale(${m.shadowScale})`;else{const S=Math.abs(_)-Math.floor(Math.abs(_)/90)*90,M=1.5-(Math.sin(S*2*Math.PI/360)/2+Math.cos(S*2*Math.PI/360)/2),y=m.shadowScale,E=m.shadowScale/M,C=m.shadowOffset;x.style.transform=`scale3d(${y}, 1, ${E}) translate3d(0px, ${f/2+C}px, ${-f/2/E}px) rotateX(-90deg)`}const b=(p.isSafari||p.isWebView)&&p.needPerspectiveFix?-g/2:0;c.style.transform=`translate3d(0px,0,${b}px) rotateX(${e.isHorizontal()?0:_}deg) rotateY(${e.isHorizontal()?-_:0}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${b}px`)},setTransition:l=>{const{el:c,slides:u}=e;if(u.forEach(h=>{h.style.transitionDuration=`${l}ms`,h.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const h=c.querySelector(".swiper-cube-shadow");h&&(h.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=e.isHorizontal();e.slides.forEach(c=>{const u=Math.max(Math.min(c.progress,1),-1);n(c,u,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function Br(s,e,t){const i=`swiper-slide-shadow${t?`-${t}`:""}${s?` swiper-slide-shadow-${s}`:""}`,n=rr(e);let r=n.querySelector(`.${i.split(" ").join(".")}`);return r||(r=_n("div",i.split(" ")),n.append(r)),r}function rb(s){let{swiper:e,extendParams:t,on:i}=s;t({flipEffect:{slideShadows:!0,limitRotation:!0}});const n=(l,c)=>{let u=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),h=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");u||(u=Br("flip",l,e.isHorizontal()?"left":"top")),h||(h=Br("flip",l,e.isHorizontal()?"right":"bottom")),u&&(u.style.opacity=Math.max(-c,0)),h&&(h.style.opacity=Math.max(c,0))};Kr({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:l,rtlTranslate:c}=e,u=e.params.flipEffect;for(let h=0;h<l.length;h+=1){const f=l[h];let d=f.progress;e.params.flipEffect.limitRotation&&(d=Math.max(Math.min(f.progress,1),-1));const g=f.swiperSlideOffset;let m=-180*d,v=0,w=e.params.cssMode?-g-e.translate:-g,_=0;e.isHorizontal()?c&&(m=-m):(_=w,w=0,v=-m,m=0),f.style.zIndex=-Math.abs(Math.round(d))+l.length,u.slideShadows&&n(f,d);const x=`translate3d(${w}px, ${_}px, 0px) rotateX(${v}deg) rotateY(${m}deg)`,b=ja(u,f);b.style.transform=x}},setTransition:l=>{const c=e.slides.map(u=>rr(u));c.forEach(u=>{u.style.transitionDuration=`${l}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>{h.style.transitionDuration=`${l}ms`})}),cl({swiper:e,duration:l,transformElements:c})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(l=>{let c=l.progress;e.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),n(l,c)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function ab(s){let{swiper:e,extendParams:t,on:i}=s;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Kr({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:a,height:o,slides:l,slidesSizesGrid:c}=e,u=e.params.coverflowEffect,h=e.isHorizontal(),f=e.translate,d=h?-f+a/2:-f+o/2,g=h?u.rotate:-u.rotate,p=u.depth;for(let m=0,v=l.length;m<v;m+=1){const w=l[m],_=c[m],x=w.swiperSlideOffset,b=(d-x-_/2)/_,S=typeof u.modifier=="function"?u.modifier(b):b*u.modifier;let M=h?g*S:0,y=h?0:g*S,E=-p*Math.abs(S),C=u.stretch;typeof C=="string"&&C.indexOf("%")!==-1&&(C=parseFloat(u.stretch)/100*_);let P=h?0:C*S,L=h?C*S:0,k=1-(1-u.scale)*Math.abs(S);Math.abs(L)<.001&&(L=0),Math.abs(P)<.001&&(P=0),Math.abs(E)<.001&&(E=0),Math.abs(M)<.001&&(M=0),Math.abs(y)<.001&&(y=0),Math.abs(k)<.001&&(k=0);const A=`translate3d(${L}px,${P}px,${E}px)  rotateX(${y}deg) rotateY(${M}deg) scale(${k})`,I=ja(u,w);if(I.style.transform=A,w.style.zIndex=-Math.abs(Math.round(S))+1,u.slideShadows){let R=h?w.querySelector(".swiper-slide-shadow-left"):w.querySelector(".swiper-slide-shadow-top"),O=h?w.querySelector(".swiper-slide-shadow-right"):w.querySelector(".swiper-slide-shadow-bottom");R||(R=Br("coverflow",w,h?"left":"top")),O||(O=Br("coverflow",w,h?"right":"bottom")),R&&(R.style.opacity=S>0?S:0),O&&(O.style.opacity=-S>0?-S:0)}}},setTransition:a=>{e.slides.map(l=>rr(l)).forEach(l=>{l.style.transitionDuration=`${a}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${a}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function ob(s){let{swiper:e,extendParams:t,on:i}=s;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const n=o=>typeof o=="string"?o:`${o}px`;Kr({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:o,wrapperEl:l,slidesSizesGrid:c}=e,u=e.params.creativeEffect,{progressMultiplier:h}=u,f=e.params.centeredSlides;if(f){const d=c[0]/2-e.params.slidesOffsetBefore||0;l.style.transform=`translateX(calc(50% - ${d}px))`}for(let d=0;d<o.length;d+=1){const g=o[d],p=g.progress,m=Math.min(Math.max(g.progress,-u.limitProgress),u.limitProgress);let v=m;f||(v=Math.min(Math.max(g.originalProgress,-u.limitProgress),u.limitProgress));const w=g.swiperSlideOffset,_=[e.params.cssMode?-w-e.translate:-w,0,0],x=[0,0,0];let b=!1;e.isHorizontal()||(_[1]=_[0],_[0]=0);let S={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};m<0?(S=u.next,b=!0):m>0&&(S=u.prev,b=!0),_.forEach((k,A)=>{_[A]=`calc(${k}px + (${n(S.translate[A])} * ${Math.abs(m*h)}))`}),x.forEach((k,A)=>{x[A]=S.rotate[A]*Math.abs(m*h)}),g.style.zIndex=-Math.abs(Math.round(p))+o.length;const M=_.join(", "),y=`rotateX(${x[0]}deg) rotateY(${x[1]}deg) rotateZ(${x[2]}deg)`,E=v<0?`scale(${1+(1-S.scale)*v*h})`:`scale(${1-(1-S.scale)*v*h})`,C=v<0?1+(1-S.opacity)*v*h:1-(1-S.opacity)*v*h,P=`translate3d(${M}) ${y} ${E}`;if(b&&S.shadow||!b){let k=g.querySelector(".swiper-slide-shadow");if(!k&&S.shadow&&(k=Br("creative",g)),k){const A=u.shadowPerProgress?m*(1/u.limitProgress):m;k.style.opacity=Math.min(Math.max(Math.abs(A),0),1)}}const L=ja(u,g);L.style.transform=P,L.style.opacity=C,S.origin&&(L.style.transformOrigin=S.origin)}},setTransition:o=>{const l=e.slides.map(c=>rr(c));l.forEach(c=>{c.style.transitionDuration=`${o}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${o}ms`})}),cl({swiper:e,duration:o,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function lb(s){let{swiper:e,extendParams:t,on:i}=s;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Kr({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:a,activeIndex:o,rtlTranslate:l}=e,c=e.params.cardsEffect,{startTranslate:u,isTouched:h}=e.touchEventsData,f=l?-e.translate:e.translate;for(let d=0;d<a.length;d+=1){const g=a[d],p=g.progress,m=Math.min(Math.max(p,-4),4);let v=g.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(v-=a[0].swiperSlideOffset);let w=e.params.cssMode?-v-e.translate:-v,_=0;const x=-100*Math.abs(m);let b=1,S=-c.perSlideRotate*m,M=c.perSlideOffset-Math.abs(m)*.75;const y=e.virtual&&e.params.virtual.enabled?e.virtual.from+d:d,E=(y===o||y===o-1)&&m>0&&m<1&&(h||e.params.cssMode)&&f<u,C=(y===o||y===o+1)&&m<0&&m>-1&&(h||e.params.cssMode)&&f>u;if(E||C){const A=(1-Math.abs((Math.abs(m)-.5)/.5))**.5;S+=-28*m*A,b+=-.5*A,M+=96*A,_=`${-25*A*Math.abs(m)}%`}if(m<0?w=`calc(${w}px ${l?"-":"+"} (${M*Math.abs(m)}%))`:m>0?w=`calc(${w}px ${l?"-":"+"} (-${M*Math.abs(m)}%))`:w=`${w}px`,!e.isHorizontal()){const A=_;_=w,w=A}const P=m<0?`${1+(1-b)*m}`:`${1-(1-b)*m}`,L=`
        translate3d(${w}, ${_}, ${x}px)
        rotateZ(${c.rotate?l?-S:S:0}deg)
        scale(${P})
      `;if(c.slideShadows){let A=g.querySelector(".swiper-slide-shadow");A||(A=Br("cards",g)),A&&(A.style.opacity=Math.min(Math.max((Math.abs(m)-.5)/.5,0),1))}g.style.zIndex=-Math.abs(Math.round(p))+a.length;const k=ja(c,g);k.style.transform=L}},setTransition:a=>{const o=e.slides.map(l=>rr(l));o.forEach(l=>{l.style.transitionDuration=`${a}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${a}ms`})}),cl({swiper:e,duration:a,transformElements:o})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}const cb=[Ow,Nw,Bw,Ia,Ra,Vw,Uw,Ww,Gw,Hw,jw,Yw,qw,Xw,Zw,$w,ib,nb,sb,rb,ab,ob,lb];ji.use(cb);const ul=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Vr(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"&&!s.__swiper__}function Go(s,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof s[i]>"u"?s[i]=e[i]:Vr(e[i])&&Vr(s[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?s[i]=e[i]:Go(s[i],e[i]):s[i]=e[i]})}function ub(s){return s===void 0&&(s={}),s.navigation&&typeof s.navigation.nextEl>"u"&&typeof s.navigation.prevEl>"u"}function fb(s){return s===void 0&&(s={}),s.pagination&&typeof s.pagination.el>"u"}function db(s){return s===void 0&&(s={}),s.scrollbar&&typeof s.scrollbar.el>"u"}function Io(s){return s===void 0&&(s=""),s.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}function hb(s){let{swiper:e,slides:t,passedParams:i,changedParams:n,nextEl:r,prevEl:a,scrollbarEl:o,paginationEl:l}=s;const c=n.filter(E=>E!=="children"&&E!=="direction"&&E!=="wrapperClass"),{params:u,pagination:h,navigation:f,scrollbar:d,virtual:g,thumbs:p}=e;let m,v,w,_,x,b,S,M;n.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(m=!0),n.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(v=!0),n.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||u.pagination===!1)&&h&&!h.el&&(w=!0),n.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&d&&!d.el&&(_=!0),n.includes("navigation")&&i.navigation&&(i.navigation.prevEl||a)&&(i.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(x=!0);const y=E=>{e[E]&&(e[E].destroy(),E==="navigation"?(e.isElement&&(e[E].prevEl.remove(),e[E].nextEl.remove()),u[E].prevEl=void 0,u[E].nextEl=void 0,e[E].prevEl=void 0,e[E].nextEl=void 0):(e.isElement&&e[E].el.remove(),u[E].el=void 0,e[E].el=void 0))};n.includes("loop")&&e.isElement&&(u.loop&&!i.loop?b=!0:!u.loop&&i.loop?S=!0:M=!0),c.forEach(E=>{if(Vr(u[E])&&Vr(i[E]))Go(u[E],i[E]),(E==="navigation"||E==="pagination"||E==="scrollbar")&&"enabled"in i[E]&&!i[E].enabled&&y(E);else{const C=i[E];(C===!0||C===!1)&&(E==="navigation"||E==="pagination"||E==="scrollbar")?C===!1&&y(E):u[E]=i[E]}}),c.includes("controller")&&!v&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),n.includes("children")&&t&&g&&u.virtual.enabled&&(g.slides=t,g.update(!0)),n.includes("children")&&t&&u.loop&&(M=!0),m&&p.init()&&p.update(!0),v&&(e.controller.control=u.controller.control),w&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),h.init(),h.render(),h.update()),_&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(u.scrollbar.el=o),d.init(),d.updateSize(),d.setTranslate()),x&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=e.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),e.el.appendChild(a))),r&&(u.navigation.nextEl=r),a&&(u.navigation.prevEl=a),f.init(),f.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),n.includes("direction")&&e.changeDirection(i.direction,!1),(b||M)&&e.loopDestroy(),(S||M)&&e.loopCreate(),e.update()}const Tf=s=>{if(parseFloat(s)===Number(s))return Number(s);if(s==="true"||s==="")return!0;if(s==="false")return!1;if(s==="null")return null;if(s!=="undefined"){if(typeof s=="string"&&s.includes("{")&&s.includes("}")&&s.includes('"')){let e;try{e=JSON.parse(s)}catch{e=s}return e}return s}},Cf=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function Af(s,e,t){const i={},n={};Go(i,Oc);const r=[...ul,"on"],a=r.map(l=>l.replace(/_/,""));r.forEach(l=>{l=l.replace("_",""),typeof s[l]<"u"&&(n[l]=s[l])});const o=[...s.attributes];return typeof e=="string"&&typeof t<"u"&&o.push({name:e,value:Vr(t)?{...t}:t}),o.forEach(l=>{const c=Cf.filter(u=>l.name.indexOf(`${u}-`)===0)[0];if(c){const u=Io(c),h=Io(l.name.split(`${c}-`)[1]);typeof n[u]>"u"&&(n[u]={}),n[u]===!0&&(n[u]={enabled:!0}),n[u][h]=Tf(l.value)}else{const u=Io(l.name);if(!a.includes(u))return;const h=Tf(l.value);n[u]&&Cf.includes(l.name)&&!Vr(h)?(n[u].constructor!==Object&&(n[u]={}),n[u].enabled=!!h):n[u]=h}}),Go(i,n),i.navigation?i.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...i.navigation!==!0?i.navigation:{}}:i.navigation===!1&&delete i.navigation,i.scrollbar?i.scrollbar={el:".swiper-scrollbar",...i.scrollbar!==!0?i.scrollbar:{}}:i.scrollbar===!1&&delete i.scrollbar,i.pagination?i.pagination={el:".swiper-pagination",...i.pagination!==!0?i.pagination:{}}:i.pagination===!1&&delete i.pagination,{params:i,passedParams:n}}const pb=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;overflow:clip;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",mb="::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}";class gb{}const Tg=typeof window>"u"||typeof HTMLElement>"u"?gb:HTMLElement,Lf=`<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>
    `,Cg=(s,e)=>{if(typeof CSSStyleSheet<"u"&&s.adoptedStyleSheets){const t=new CSSStyleSheet;t.replaceSync(e),s.adoptedStyleSheets=[t]}else{const t=document.createElement("style");t.rel="stylesheet",t.textContent=e,s.appendChild(t)}};class Ag extends Tg{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return Lf}static get prevButtonSvg(){return Lf.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[pb,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join(`
`)}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,t=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=t.length?Math.max(...t)+1:0,!!this.rendered){if(this.slideSlots>e)for(let i=e;i<this.slideSlots;i+=1){const n=document.createElement("swiper-slide");n.setAttribute("part",`slide slide-${i+1}`);const r=document.createElement("slot");r.setAttribute("name",`slide-${i+1}`),n.appendChild(r),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(n)}else if(this.slideSlots<e){const i=this.swiper.slides;for(let n=i.length-1;n>=0;n-=1)n>this.slideSlots&&i[n].remove()}}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&Cg(this.shadowRoot,e),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const r=document.createElement("link");r.rel="stylesheet",r.href=i,this.shadowRoot.appendChild(r)});const t=document.createElement("div");t.classList.add("swiper"),t.part="container",t.innerHTML=`
      <slot name="container-start"></slot>
      <div class="swiper-wrapper" part="wrapper">
        <slot></slot>
        ${Array.from({length:this.slideSlots}).map((i,n)=>`
        <swiper-slide part="slide slide-${n}">
          <slot name="slide-${n}"></slot>
        </swiper-slide>
        `).join("")}
      </div>
      <slot name="container-end"></slot>
      ${ub(this.passedParams)?`
        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>
        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>
      `:""}
      ${fb(this.passedParams)?`
        <div part="pagination" class="swiper-pagination"></div>
      `:""}
      ${db(this.passedParams)?`
        <div part="scrollbar" class="swiper-scrollbar"></div>
      `:""}
    `,this.shadowRoot.appendChild(t),this.rendered=!0}initialize(){var e=this;if(this.initialized)return;this.initialized=!0;const{params:t,passedParams:i}=Af(this);this.swiperParams=t,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new ji(this.shadowRoot.querySelector(".swiper"),{...t.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...t,touchEventsTarget:"container",onAny:function(n){n==="observerUpdate"&&e.calcSlideSlots();const r=t.eventsPrefix?`${t.eventsPrefix}${n.toLowerCase()}`:n.toLowerCase();for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];const c=new CustomEvent(r,{detail:o,bubbles:n!=="hashChange",cancelable:!0});e.dispatchEvent(c)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||this.init===!1||this.getAttribute("init")==="false"||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(e,t){const{params:i,passedParams:n}=Af(this,e,t);this.passedParams=n,this.swiperParams=i,hb({swiper:this.swiper,passedParams:this.passedParams,changedParams:[Io(e)],...e==="navigation"&&n[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},...e==="pagination"&&n[e]?{paginationEl:".swiper-pagination"}:{},...e==="scrollbar"&&n[e]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(e,t,i){this.initialized&&(t==="true"&&i===null&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){return ul.filter(t=>t.includes("_")).map(t=>t.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}ul.forEach(s=>{s!=="init"&&(s=s.replace("_",""),Object.defineProperty(Ag.prototype,s,{configurable:!0,get(){return(this.passedParams||{})[s]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[s]=e,this.initialized&&this.updateSwiperOnPropChange(s,e)}}))});class vb extends Tg{constructor(){super(),this.attachShadow({mode:"open"})}render(){const e=this.lazy||this.getAttribute("lazy")===""||this.getAttribute("lazy")==="true";if(Cg(this.shadowRoot,mb),this.shadowRoot.appendChild(document.createElement("slot")),e){const t=document.createElement("div");t.classList.add("swiper-lazy-preloader"),t.part.add("preloader"),this.shadowRoot.appendChild(t)}}initialize(){this.render()}connectedCallback(){this.initialize()}}const gu=()=>{typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",Ag),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",vb))};typeof window<"u"&&(window.SwiperElementRegisterParams=s=>{ul.push(...s)});function kf(s,e,t){const i=s.slice();return i[17]=e[t],i}function Pf(s){let e,t,i;return t=new ei({props:{src:s[3].image.url,width:s[3].image.dimensions.width,height:s[3].image.dimensions.height,cover:!0}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","ep-image w-full pb-[100%] relative rounded-lg overflow-hidden dk:order-2 dk:basis-1/2 dk:!pb-[50%]")},m(n,r){Q(n,e,r),we(t,e,null),i=!0},p(n,r){const a={};r&8&&(a.src=n[3].image.url),r&8&&(a.width=n[3].image.dimensions.width),r&8&&(a.height=n[3].image.dimensions.height),t.$set(a)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t)}}}function Df(s){let e,t=s[3].show_title+"",i;return{c(){e=Y("p"),i=je(t),this.h()},l(n){e=q(n,"P",{class:!0});var r=G(e);i=Ye(r,t),r.forEach(D),this.h()},h(){T(e,"class","eyebrow accent")},m(n,r){Q(n,e,r),B(e,i)},p(n,r){r&8&&t!==(t=n[3].show_title+"")&&ut(i,t)},d(n){n&&D(e)}}}function If(s){let e,t;return e=new Bi({props:{content:s[3].description}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&8&&(r.content=i[3].description),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Rf(s){let e,t=s[9][gs(s[3].date).getMonth()]+"",i,n,r=gs(s[3].date).getDate()+"",a;return{c(){e=Y("p"),i=je(t),n=le(),a=je(r),this.h()},l(o){e=q(o,"P",{class:!0});var l=G(e);i=Ye(l,t),n=ce(l),a=Ye(l,r),l.forEach(D),this.h()},h(){T(e,"class","eyebrow accent")},m(o,l){Q(o,e,l),B(e,i),B(e,n),B(e,a)},p(o,l){l&8&&t!==(t=o[9][gs(o[3].date).getMonth()]+"")&&ut(i,t),l&8&&r!==(r=gs(o[3].date).getDate()+"")&&ut(a,r)},d(o){o&&D(e)}}}function zf(s){let e,t,i,n,r,a,o,l,c,u,h,f,d,g,p,m,v,w,_,x,b,S,M=kt(s[2]),y=[];for(let C=0;C<M.length;C+=1)y[C]=Bf(kf(s,M,C));const E=C=>W(y[C],1,1,()=>{y[C]=null});return{c(){e=Y("div"),t=Y("swiper-container");for(let C=0;C<y.length;C+=1)y[C].c();l=le(),c=Y("div"),u=Y("div"),h=le(),f=Y("div"),d=Y("button"),g=Ze("svg"),p=Ze("path"),m=le(),v=Y("button"),w=Ze("svg"),_=Ze("path"),this.h()},l(C){e=q(C,"DIV",{class:!0});var P=G(e);t=q(P,"SWIPER-CONTAINER",{spacebetween:!0,slidesoffsetbefore:!0,modules:!0,slidesperview:!0,navigation:!0,loop:!0,loopedslides:!0,pagination:!0});var L=G(t);for(let V=0;V<y.length;V+=1)y[V].l(L);L.forEach(D),l=ce(P),c=q(P,"DIV",{class:!0});var k=G(c);u=q(k,"DIV",{class:!0}),G(u).forEach(D),h=ce(k),f=q(k,"DIV",{class:!0});var A=G(f);d=q(A,"BUTTON",{class:!0});var I=G(d);g=$e(I,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var R=G(g);p=$e(R,"path",{d:!0,stroke:!0,"stroke-width":!0}),G(p).forEach(D),R.forEach(D),I.forEach(D),m=ce(A),v=q(A,"BUTTON",{class:!0});var O=G(v);w=$e(O,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var z=G(w);_=$e(z,"path",{d:!0,stroke:!0,"stroke-width":!0}),G(_).forEach(D),z.forEach(D),O.forEach(D),A.forEach(D),k.forEach(D),P.forEach(D),this.h()},h(){Gt(t,"spacebetween",i=s[5]>768?20:15),Gt(t,"slidesoffsetbefore",n=s[5]>768&&s[7].split===!1?60:15),Gt(t,"modules",[Ia,Ra]),Gt(t,"slidesperview","auto"),Gt(t,"navigation",{nextEl:`.${s[10]}`,prevEl:`.${s[11]}`}),Gt(t,"loop",r=!(s[6]>s[2].length)),Gt(t,"loopedslides",a=s[6]>s[2].length?null:s[2].length),Gt(t,"pagination",o=s[6]>s[2].length?!1:s[13]),T(u,"class",s[12]+" flex gap-[12px]"),T(p,"d","M9.125 15.4961L2.125 8.49609L9.125 1.49609"),T(p,"stroke","currentColor"),T(p,"stroke-width","2"),T(g,"width","10"),T(g,"height","17"),T(g,"viewBox","0 0 10 17"),T(g,"fill","none"),T(g,"xmlns","http://www.w3.org/2000/svg"),T(d,"class",s[11]+" flex cursor-pointer justify-center items-center w-[35px] h-[35px] border-2 rounded-full transition-all hover:bg-[var(--button-primary-background)] hover:border-[var(--button-primary-background)] hover:text-[var(--theme-primary-background)]"),T(_,"d","M0.875 1.5L7.875 8.5L0.875 15.5"),T(_,"stroke","currentColor"),T(_,"stroke-width","2"),T(w,"width","10"),T(w,"height","17"),T(w,"viewBox","0 0 10 17"),T(w,"fill","none"),T(w,"xmlns","http://www.w3.org/2000/svg"),T(v,"class",s[10]+" flex cursor-pointer justify-center items-center w-[35px] h-[35px] border-2 rounded-full transition-all hover:bg-[var(--button-primary-background)] hover:border-[var(--button-primary-background)] hover:text-[var(--theme-primary-background)]"),T(f,"class","media-controls flex gap-[12px]"),T(c,"class","controls ca flex items-center justify-between pt-5"),T(e,"class","more-episodes overflow-hidden")},m(C,P){Q(C,e,P),B(e,t);for(let L=0;L<y.length;L+=1)y[L]&&y[L].m(t,null);B(e,l),B(e,c),B(c,u),B(c,h),B(c,f),B(f,d),B(d,g),B(g,p),B(f,m),B(f,v),B(v,w),B(w,_),x=!0,b||(S=Qe(t,"init",s[14]),b=!0)},p(C,P){if(P&516){M=kt(C[2]);let L;for(L=0;L<M.length;L+=1){const k=kf(C,M,L);y[L]?(y[L].p(k,P),F(y[L],1)):(y[L]=Bf(k),y[L].c(),F(y[L],1),y[L].m(t,null))}for(Se(),L=M.length;L<y.length;L+=1)E(L);Me()}(!x||P&32&&i!==(i=C[5]>768?20:15))&&Gt(t,"spacebetween",i),(!x||P&160&&n!==(n=C[5]>768&&C[7].split===!1?60:15))&&Gt(t,"slidesoffsetbefore",n),(!x||P&68&&r!==(r=!(C[6]>C[2].length)))&&Gt(t,"loop",r),(!x||P&68&&a!==(a=C[6]>C[2].length?null:C[2].length))&&Gt(t,"loopedslides",a),(!x||P&68&&o!==(o=C[6]>C[2].length?!1:C[13]))&&Gt(t,"pagination",o)},i(C){if(!x){for(let P=0;P<M.length;P+=1)F(y[P]);x=!0}},o(C){y=y.filter(Boolean);for(let P=0;P<y.length;P+=1)W(y[P]);x=!1},d(C){C&&D(e),Di(y,C),b=!1,S()}}}function Ff(s){let e,t=s[17].show_title+"",i;return{c(){e=Y("p"),i=je(t),this.h()},l(n){e=q(n,"P",{class:!0});var r=G(e);i=Ye(r,t),r.forEach(D),this.h()},h(){T(e,"class","eyebrow accent")},m(n,r){Q(n,e,r),B(e,i)},p(n,r){r&4&&t!==(t=n[17].show_title+"")&&ut(i,t)},d(n){n&&D(e)}}}function Of(s){let e,t;return e=new Bi({props:{content:s[17].show_description}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&4&&(r.content=i[17].show_description),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Nf(s){let e,t=s[9][gs(s[17].date).getMonth()]+"",i,n,r=gs(s[17].date).getDate()+"",a;return{c(){e=Y("p"),i=je(t),n=le(),a=je(r),this.h()},l(o){e=q(o,"P",{class:!0});var l=G(e);i=Ye(l,t),n=ce(l),a=Ye(l,r),l.forEach(D),this.h()},h(){T(e,"class","eyebrow accent")},m(o,l){Q(o,e,l),B(e,i),B(e,n),B(e,a)},p(o,l){l&4&&t!==(t=o[9][gs(o[17].date).getMonth()]+"")&&ut(i,t),l&4&&r!==(r=gs(o[17].date).getDate()+"")&&ut(a,r)},d(o){o&&D(e)}}}function Bf(s){var p,m,v;let e,t,i,n,r,a,o,l,c,u,h;n=new ei({props:{src:s[17].image.url,width:s[17].image.width,height:s[17].image.height,cover:!0}});let f=((p=s[17])==null?void 0:p.show_title)&&Ff(s),d=((m=s[17])==null?void 0:m.show_description)&&Of(s),g=((v=s[17])==null?void 0:v.date)&&Nf(s);return{c(){e=Y("swiper-slide"),t=Y("div"),i=Y("div"),_e(n.$$.fragment),r=le(),a=Y("div"),o=Y("div"),f&&f.c(),l=le(),d&&d.c(),c=le(),g&&g.c(),u=le(),this.h()},l(w){e=q(w,"SWIPER-SLIDE",{class:!0});var _=G(e);t=q(_,"DIV",{class:!0,style:!0});var x=G(t);i=q(x,"DIV",{class:!0});var b=G(i);xe(n.$$.fragment,b),b.forEach(D),r=ce(x),a=q(x,"DIV",{class:!0});var S=G(a);o=q(S,"DIV",{class:!0});var M=G(o);f&&f.l(M),l=ce(M),d&&d.l(M),M.forEach(D),c=ce(S),g&&g.l(S),S.forEach(D),x.forEach(D),u=ce(_),_.forEach(D),this.h()},h(){T(i,"class","media w-[calc(55%_-_50px)] dk:w-[55%] bg-white relative rounded-lg overflow-hidden"),T(o,"class","flex-grow"),T(a,"class","text richtext flex flex-col justify-start items-start ml-[20px] dk:ml-[30px] w-[60%]"),T(t,"class","flex max-w-[426px] h-full"),Ce(t,"max-width","426px"),Gt(e,"class","w-[calc(100%_-_30px)] !h-auto max-w-[426px]")},m(w,_){Q(w,e,_),B(e,t),B(t,i),we(n,i,null),B(t,r),B(t,a),B(a,o),f&&f.m(o,null),B(o,l),d&&d.m(o,null),B(a,c),g&&g.m(a,null),B(e,u),h=!0},p(w,_){var b,S,M;const x={};_&4&&(x.src=w[17].image.url),_&4&&(x.width=w[17].image.width),_&4&&(x.height=w[17].image.height),n.$set(x),(b=w[17])!=null&&b.show_title?f?f.p(w,_):(f=Ff(w),f.c(),f.m(o,l)):f&&(f.d(1),f=null),(S=w[17])!=null&&S.show_description?d?(d.p(w,_),_&4&&F(d,1)):(d=Of(w),d.c(),F(d,1),d.m(o,null)):d&&(Se(),W(d,1,1,()=>{d=null}),Me()),(M=w[17])!=null&&M.date?g?g.p(w,_):(g=Nf(w),g.c(),g.m(a,null)):g&&(g.d(1),g=null)},i(w){h||(F(n.$$.fragment,w),F(d),h=!0)},o(w){W(n.$$.fragment,w),W(d),h=!1},d(w){w&&D(e),be(n),f&&f.d(),d&&d.d(),g&&g.d()}}}function Vf(s){var p,m,v,w;let e,t,i,n,r,a,o,l,c,u=((p=s[3])==null?void 0:p.image)&&Pf(s),h=((m=s[3])==null?void 0:m.show_title)&&Df(s),f=((v=s[3])==null?void 0:v.description)&&If(s),d=((w=s[3])==null?void 0:w.date)&&Rf(s),g=s[5]>0&&zf(s);return{c(){e=Y("section"),t=Y("div"),u&&u.c(),i=le(),n=Y("div"),h&&h.c(),r=le(),f&&f.c(),a=le(),d&&d.c(),o=le(),g&&g.c(),this.h()},l(_){e=q(_,"SECTION",{id:!0,"data-idx":!0,"data-variation":!0,class:!0});var x=G(e);t=q(x,"DIV",{class:!0});var b=G(t);u&&u.l(b),i=ce(b),n=q(b,"DIV",{class:!0});var S=G(n);h&&h.l(S),r=ce(S),f&&f.l(S),a=ce(S),d&&d.l(S),S.forEach(D),b.forEach(D),o=ce(x),g&&g.l(x),x.forEach(D),this.h()},h(){T(n,"class","episode-text richtext py-5 dk:basis-1/2 dk:order-1"),T(t,"class","main-feature ca flex flex-col dk:flex-row dk:items-center"),T(e,"id",s[0]),T(e,"data-idx",s[1]),T(e,"data-variation",s[4]),T(e,"class","episode-feature theme-"+s[8]+" slice-section"),gt(()=>s[15].call(e))},m(_,x){Q(_,e,x),B(e,t),u&&u.m(t,null),B(t,i),B(t,n),h&&h.m(n,null),B(n,r),f&&f.m(n,null),B(n,a),d&&d.m(n,null),B(e,o),g&&g.m(e,null),l=Qt(e,s[15].bind(e)),c=!0},p(_,x){var b,S,M,y;(b=_[3])!=null&&b.image?u?(u.p(_,x),x&8&&F(u,1)):(u=Pf(_),u.c(),F(u,1),u.m(t,i)):u&&(Se(),W(u,1,1,()=>{u=null}),Me()),(S=_[3])!=null&&S.show_title?h?h.p(_,x):(h=Df(_),h.c(),h.m(n,r)):h&&(h.d(1),h=null),(M=_[3])!=null&&M.description?f?(f.p(_,x),x&8&&F(f,1)):(f=If(_),f.c(),F(f,1),f.m(n,a)):f&&(Se(),W(f,1,1,()=>{f=null}),Me()),(y=_[3])!=null&&y.date?d?d.p(_,x):(d=Rf(_),d.c(),d.m(n,null)):d&&(d.d(1),d=null),_[5]>0?g?(g.p(_,x),x&32&&F(g,1)):(g=zf(_),g.c(),F(g,1),g.m(e,null)):g&&(Se(),W(g,1,1,()=>{g=null}),Me()),(!c||x&1)&&T(e,"id",_[0]),(!c||x&2)&&T(e,"data-idx",_[1]),(!c||x&16)&&T(e,"data-variation",_[4])},i(_){c||(F(u),F(f),F(g),c=!0)},o(_){W(u),W(f),W(g),c=!1},d(_){_&&D(e),u&&u.d(),h&&h.d(),f&&f.d(),d&&d.d(),g&&g.d(),l()}}}function _b(s){let e=s[0],t,i,n=Vf(s);return{c(){n.c(),t=ue()},l(r){n.l(r),t=ue()},m(r,a){n.m(r,a),Q(r,t,a),i=!0},p(r,[a]){a&1&&Ge(e,e=r[0])?(Se(),W(n,1,1,Pe),Me(),n=Vf(r),n.c(),F(n,1),n.m(t.parentNode,t)):n.p(r,a)},i(r){i||(F(n),i=!0)},o(r){W(n),i=!1},d(r){r&&D(t),n.d(r)}}}function wb(s,e,t){let i,n;Yt(s,Xt,x=>t(7,n=x));let{id:r}=e,{index:a}=e,{items:o}=e,{data:l}=e,{variation:c}=e,u=typeof l.theme=="string"?l.theme.toLowerCase():"primary",h=0;gu();const f=["January","February","March","April","May","June","July","August","September","October","November","December"];let d=r.replace("$","-"),g=`next-${d}`,p=`prev-${d}`,m=`controls-${d}`,v={clickable:!0,el:`.${m}`,renderBullet(x,b){return`<span class="${b} border-2 !border-[var(--theme-secondary-background)] rounded-full w-[12px] h-[12px]" data-event-name="interaction" data-event-param="interaction_type" data-event-value="Episode Feature Carousel - Bullet ${x+1}"></span>`},bulletActiveClass:"!border-[var(--theme-primary-text)] bg-[var(--theme-primary-text)]"};const w=x=>{const[b]=x.detail;b.updateSize(),n.lazyLoad.update()};function _(){h=this.clientWidth,t(5,h)}return s.$$set=x=>{"id"in x&&t(0,r=x.id),"index"in x&&t(1,a=x.index),"items"in x&&t(2,o=x.items),"data"in x&&t(3,l=x.data),"variation"in x&&t(4,c=x.variation)},s.$$.update=()=>{s.$$.dirty&32&&t(6,i=Math.round(h/426))},[r,a,o,l,c,h,i,n,u,f,g,p,m,v,w,_]}class bb extends nt{constructor(e){super(),st(this,e,wb,_b,Ge,{id:0,index:1,items:2,data:3,variation:4})}}function yb(s){const e=s-1;return e*e*e+1}function Uf(s,{delay:e=0,duration:t=400,easing:i=dv}={}){const n=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:i,css:r=>`opacity: ${r*n}`}}function Wf(s,{delay:e=0,duration:t=400,easing:i=yb,axis:n="y"}={}){const r=getComputedStyle(s),a=+r.opacity,o=n==="y"?"height":"width",l=parseFloat(r[o]),c=n==="y"?["top","bottom"]:["left","right"],u=c.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),h=parseFloat(r[`padding${u[0]}`]),f=parseFloat(r[`padding${u[1]}`]),d=parseFloat(r[`margin${u[0]}`]),g=parseFloat(r[`margin${u[1]}`]),p=parseFloat(r[`border${u[0]}Width`]),m=parseFloat(r[`border${u[1]}Width`]);return{delay:e,duration:t,easing:i,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*a};${o}: ${v*l}px;padding-${c[0]}: ${v*h}px;padding-${c[1]}: ${v*f}px;margin-${c[0]}: ${v*d}px;margin-${c[1]}: ${v*g}px;border-${c[0]}-width: ${v*p}px;border-${c[1]}-width: ${v*m}px;`}}const xb="cloudflare",Wl={},Sb=async s=>{let e=typeof s=="string"?{url:s}:s,t;try{if(Wl[e.url])return Wl[e.url];t=await(await fetch(`${window.origin}/api/${xb}`,{method:"POST",body:JSON.stringify(e)}).catch(n=>console.error(n))).json(),Wl[e.url]=t}catch{t=e}return t};function Gf(s){const e=s[22].url;s[23]=e;const t=s[13](s[23]);s[24]=t}function Hf(s){let e,t,i={ctx:s,current:null,token:null,hasCatch:!0,pending:Tb,then:Eb,catch:Mb,value:22,error:25,blocks:[,,,]};return tu(s[12],i),{c(){e=ue(),i.block.c()},l(n){e=ue(),i.block.l(n)},m(n,r){Q(n,e,r),i.block.m(n,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(n,r){s=n,iu(i,s,r)},i(n){t||(F(i.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=i.blocks[r];W(a)}t=!1},d(n){n&&D(e),i.block.d(n),i.token=null,i=null}}}function Mb(s){let e,t=s[25]+"",i;return{c(){e=Y("p"),i=je(t)},l(n){e=q(n,"P",{});var r=G(e);i=Ye(r,t),r.forEach(D)},m(n,r){Q(n,e,r),B(e,i)},p:Pe,i:Pe,o:Pe,d(n){n&&D(e)}}}function Eb(s){Gf(s);let e,t,i,n,r,a=!1,o,l,c,u,h;function f(){cancelAnimationFrame(o),e.paused||(o=gv(f),a=!0),s[16].call(e)}return{c(){e=Y("video"),t=Y("source"),n=Y("track"),this.h()},l(d){e=q(d,"VIDEO",{class:!0,preload:!0});var g=G(e);t=q(g,"SOURCE",{type:!0,src:!0}),n=q(g,"TRACK",{kind:!0}),g.forEach(D),this.h()},h(){T(t,"type",s[24]),La(t.src,i=s[23])||T(t,"src",i),T(n,"kind","captions"),T(e,"class",r=s[0]?"absolute h-full object-center object-cover w-full z-[1]":""),e.autoplay=s[2],e.loop=s[3],e.playsInline="playsinline",T(e,"preload","metadata"),s[7]===void 0&&gt(()=>s[17].call(e)),s[5]===void 0&&gt(()=>s[19].call(e)),(s[9]===void 0||s[10]===void 0)&&gt(()=>s[20].call(e))},m(d,g){Q(d,e,g),B(e,t),B(e,n),s[15](e),e.muted=s[8],isNaN(s[11])||(e.volume=s[11]),c=!0,u||(h=[Qe(e,"timeupdate",f),Qe(e,"durationchange",s[17]),Qe(e,"volumechange",s[18]),Qe(e,"loadedmetadata",s[19]),Qe(e,"loadeddata",s[19]),Qe(e,"canplay",s[19]),Qe(e,"canplaythrough",s[19]),Qe(e,"playing",s[19]),Qe(e,"waiting",s[19]),Qe(e,"emptied",s[19]),Qe(e,"resize",s[20])],u=!0)},p(d,g){Gf(d),(!c||g&1&&r!==(r=d[0]?"absolute h-full object-center object-cover w-full z-[1]":""))&&T(e,"class",r),(!c||g&4)&&(e.autoplay=d[2]),(!c||g&8)&&(e.loop=d[3]),!a&&g&64&&!isNaN(d[6])&&(e.currentTime=d[6]),a=!1,g&256&&(e.muted=d[8]),g&2048&&!isNaN(d[11])&&(e.volume=d[11])},i(d){c||(d&&gt(()=>{c&&(l||(l=Bo(e,Uf,{duration:250},!0)),l.run(1))}),c=!0)},o(d){d&&(l||(l=Bo(e,Uf,{duration:250},!1)),l.run(0)),c=!1},d(d){d&&D(e),s[15](null),d&&l&&l.end(),u=!1,Qi(h)}}}function Tb(s){let e;return{c(){e=Y("div"),this.h()},l(t){e=q(t,"DIV",{class:!0}),G(e).forEach(D),this.h()},h(){T(e,"class","absolute h-full object-center object-cover w-full z-[0] bg-[#222222] animate-pulse")},m(t,i){Q(t,e,i)},p:Pe,i:Pe,o:Pe,d(t){t&&D(e)}}}function Cb(s){let e,t,i=s[1]&&Hf(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,[r]){n[1]?i?(i.p(n,r),r&2&&F(i,1)):(i=Hf(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function Ab(s,e,t){let{cover:i=!1}=e,{src:n}=e,{autoplay:r=!1}=e,{loop:a="loop"}=e,{active:o=!1}=e,l,c,u,h=!0,f=0,d=0,g=0,p=.75,m=n?Sb(n):void 0;const v=y=>{let E="video/mp4";return y.indexOf(".mov")>-1&&(E='video/mp4; codecs="hvc1"'),y.indexOf(".webm")>-1&&(E="video/webm"),y.indexOf(".ogv")>-1&&(E='video/ogg; codecs="theora, vorbis"'),E};function w(y){Mt[y?"unshift":"push"](()=>{l=y,t(4,l)})}function _(){c=this.currentTime,t(6,c)}function x(){u=this.duration,t(7,u)}function b(){h=this.muted,p=this.volume,t(8,h),t(11,p)}function S(){f=this.readyState,t(5,f)}function M(){d=this.videoWidth,g=this.videoHeight,t(9,d),t(10,g)}return s.$$set=y=>{"cover"in y&&t(0,i=y.cover),"src"in y&&t(1,n=y.src),"autoplay"in y&&t(2,r=y.autoplay),"loop"in y&&t(3,a=y.loop),"active"in y&&t(14,o=y.active)},s.$$.update=()=>{s.$$.dirty&16436&&f===4&&(o?l.play():l.pause(),r&&setTimeout(()=>l.play()))},[i,n,r,a,l,f,c,u,h,d,g,p,m,v,o,w,_,x,b,S,M]}class Ya extends nt{constructor(e){super(),st(this,e,Ab,Cb,Ge,{cover:0,src:1,autoplay:2,loop:3,active:14})}}var Lg={exports:{}};/*!
 * matter-js 0.19.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(s,e){(function(i,n){s.exports=n()})(Po,function(){return function(t){var i={};function n(r){if(i[r])return i[r].exports;var a=i[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=i,n.d=function(r,a,o){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:o})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(a&1&&(r=n(r)),a&8||a&4&&typeof r=="object"&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),a&2&&typeof r!="string")for(var l in r)n.d(o,l,(function(c){return r[c]}).bind(null,l));return o},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="",n(n.s=20)}([function(t,i){var n={};t.exports=n,function(){n._baseDelta=1e3/60,n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n._warnedOnce={},n._decomp=null,n.extend=function(a,o){var l,c;typeof o=="boolean"?(l=2,c=o):(l=1,c=!0);for(var u=l;u<arguments.length;u++){var h=arguments[u];if(h)for(var f in h)c&&h[f]&&h[f].constructor===Object&&(!a[f]||a[f].constructor===Object)?(a[f]=a[f]||{},n.extend(a[f],c,h[f])):a[f]=h[f]}return a},n.clone=function(a,o){return n.extend({},o,a)},n.keys=function(a){if(Object.keys)return Object.keys(a);var o=[];for(var l in a)o.push(l);return o},n.values=function(a){var o=[];if(Object.keys){for(var l=Object.keys(a),c=0;c<l.length;c++)o.push(a[l[c]]);return o}for(var u in a)o.push(a[u]);return o},n.get=function(a,o,l,c){o=o.split(".").slice(l,c);for(var u=0;u<o.length;u+=1)a=a[o[u]];return a},n.set=function(a,o,l,c,u){var h=o.split(".").slice(c,u);return n.get(a,o,0,-1)[h[h.length-1]]=l,l},n.shuffle=function(a){for(var o=a.length-1;o>0;o--){var l=Math.floor(n.random()*(o+1)),c=a[o];a[o]=a[l],a[l]=c}return a},n.choose=function(a){return a[Math.floor(n.random()*a.length)]},n.isElement=function(a){return typeof HTMLElement<"u"?a instanceof HTMLElement:!!(a&&a.nodeType&&a.nodeName)},n.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"},n.isFunction=function(a){return typeof a=="function"},n.isPlainObject=function(a){return typeof a=="object"&&a.constructor===Object},n.isString=function(a){return toString.call(a)==="[object String]"},n.clamp=function(a,o,l){return a<o?o:a>l?l:a},n.sign=function(a){return a<0?-1:1},n.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-n._nowStartTime},n.random=function(a,o){return a=typeof a<"u"?a:0,o=typeof o<"u"?o:1,a+r()*(o-a)};var r=function(){return n._seed=(n._seed*9301+49297)%233280,n._seed/233280};n.colorToNumber=function(a){return a=a.replace("#",""),a.length==3&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warnOnce=function(){var a=Array.prototype.slice.call(arguments).join(" ");n._warnedOnce[a]||(n.warn(a),n._warnedOnce[a]=!0)},n.deprecated=function(a,o,l){a[o]=n.chain(function(){n.warnOnce("ðŸ”… deprecated ðŸ”…",l)},a[o])},n.nextId=function(){return n._nextId++},n.indexOf=function(a,o){if(a.indexOf)return a.indexOf(o);for(var l=0;l<a.length;l++)if(a[l]===o)return l;return-1},n.map=function(a,o){if(a.map)return a.map(o);for(var l=[],c=0;c<a.length;c+=1)l.push(o(a[c]));return l},n.topologicalSort=function(a){var o=[],l=[],c=[];for(var u in a)!l[u]&&!c[u]&&n._topologicalSort(u,l,c,a,o);return o},n._topologicalSort=function(a,o,l,c,u){var h=c[a]||[];l[a]=!0;for(var f=0;f<h.length;f+=1){var d=h[f];l[d]||o[d]||n._topologicalSort(d,o,l,c,u)}l[a]=!1,o[a]=!0,u.push(a)},n.chain=function(){for(var a=[],o=0;o<arguments.length;o+=1){var l=arguments[o];l._chained?a.push.apply(a,l._chained):a.push(l)}var c=function(){for(var u,h=new Array(arguments.length),f=0,d=arguments.length;f<d;f++)h[f]=arguments[f];for(f=0;f<a.length;f+=1){var g=a[f].apply(u,h);typeof g<"u"&&(u=g)}return u};return c._chained=a,c},n.chainPathBefore=function(a,o,l){return n.set(a,o,n.chain(l,n.get(a,o)))},n.chainPathAfter=function(a,o,l){return n.set(a,o,n.chain(n.get(a,o),l))},n.setDecomp=function(a){n._decomp=a},n.getDecomp=function(){var a=n._decomp;try{!a&&typeof window<"u"&&(a=window.decomp),!a&&typeof Po<"u"&&(a=Po.decomp)}catch{a=null}return a}}()},function(t,i){var n={};t.exports=n,function(){n.create=function(r){var a={min:{x:0,y:0},max:{x:0,y:0}};return r&&n.update(a,r),a},n.update=function(r,a,o){r.min.x=1/0,r.max.x=-1/0,r.min.y=1/0,r.max.y=-1/0;for(var l=0;l<a.length;l++){var c=a[l];c.x>r.max.x&&(r.max.x=c.x),c.x<r.min.x&&(r.min.x=c.x),c.y>r.max.y&&(r.max.y=c.y),c.y<r.min.y&&(r.min.y=c.y)}o&&(o.x>0?r.max.x+=o.x:r.min.x+=o.x,o.y>0?r.max.y+=o.y:r.min.y+=o.y)},n.contains=function(r,a){return a.x>=r.min.x&&a.x<=r.max.x&&a.y>=r.min.y&&a.y<=r.max.y},n.overlaps=function(r,a){return r.min.x<=a.max.x&&r.max.x>=a.min.x&&r.max.y>=a.min.y&&r.min.y<=a.max.y},n.translate=function(r,a){r.min.x+=a.x,r.max.x+=a.x,r.min.y+=a.y,r.max.y+=a.y},n.shift=function(r,a){var o=r.max.x-r.min.x,l=r.max.y-r.min.y;r.min.x=a.x,r.max.x=a.x+o,r.min.y=a.y,r.max.y=a.y+l}}()},function(t,i){var n={};t.exports=n,function(){n.create=function(r,a){return{x:r||0,y:a||0}},n.clone=function(r){return{x:r.x,y:r.y}},n.magnitude=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},n.magnitudeSquared=function(r){return r.x*r.x+r.y*r.y},n.rotate=function(r,a,o){var l=Math.cos(a),c=Math.sin(a);o||(o={});var u=r.x*l-r.y*c;return o.y=r.x*c+r.y*l,o.x=u,o},n.rotateAbout=function(r,a,o,l){var c=Math.cos(a),u=Math.sin(a);l||(l={});var h=o.x+((r.x-o.x)*c-(r.y-o.y)*u);return l.y=o.y+((r.x-o.x)*u+(r.y-o.y)*c),l.x=h,l},n.normalise=function(r){var a=n.magnitude(r);return a===0?{x:0,y:0}:{x:r.x/a,y:r.y/a}},n.dot=function(r,a){return r.x*a.x+r.y*a.y},n.cross=function(r,a){return r.x*a.y-r.y*a.x},n.cross3=function(r,a,o){return(a.x-r.x)*(o.y-r.y)-(a.y-r.y)*(o.x-r.x)},n.add=function(r,a,o){return o||(o={}),o.x=r.x+a.x,o.y=r.y+a.y,o},n.sub=function(r,a,o){return o||(o={}),o.x=r.x-a.x,o.y=r.y-a.y,o},n.mult=function(r,a){return{x:r.x*a,y:r.y*a}},n.div=function(r,a){return{x:r.x/a,y:r.y/a}},n.perp=function(r,a){return a=a===!0?-1:1,{x:a*-r.y,y:a*r.x}},n.neg=function(r){return{x:-r.x,y:-r.y}},n.angle=function(r,a){return Math.atan2(a.y-r.y,a.x-r.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]}()},function(t,i,n){var r={};t.exports=r;var a=n(2),o=n(0);(function(){r.create=function(l,c){for(var u=[],h=0;h<l.length;h++){var f=l[h],d={x:f.x,y:f.y,index:h,body:c,isInternal:!1};u.push(d)}return u},r.fromPath=function(l,c){var u=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,h=[];return l.replace(u,function(f,d,g){h.push({x:parseFloat(d),y:parseFloat(g)})}),r.create(h,c)},r.centre=function(l){for(var c=r.area(l,!0),u={x:0,y:0},h,f,d,g=0;g<l.length;g++)d=(g+1)%l.length,h=a.cross(l[g],l[d]),f=a.mult(a.add(l[g],l[d]),h),u=a.add(u,f);return a.div(u,6*c)},r.mean=function(l){for(var c={x:0,y:0},u=0;u<l.length;u++)c.x+=l[u].x,c.y+=l[u].y;return a.div(c,l.length)},r.area=function(l,c){for(var u=0,h=l.length-1,f=0;f<l.length;f++)u+=(l[h].x-l[f].x)*(l[h].y+l[f].y),h=f;return c?u/2:Math.abs(u)/2},r.inertia=function(l,c){for(var u=0,h=0,f=l,d,g,p=0;p<f.length;p++)g=(p+1)%f.length,d=Math.abs(a.cross(f[g],f[p])),u+=d*(a.dot(f[g],f[g])+a.dot(f[g],f[p])+a.dot(f[p],f[p])),h+=d;return c/6*(u/h)},r.translate=function(l,c,u){u=typeof u<"u"?u:1;var h=l.length,f=c.x*u,d=c.y*u,g;for(g=0;g<h;g++)l[g].x+=f,l[g].y+=d;return l},r.rotate=function(l,c,u){if(c!==0){var h=Math.cos(c),f=Math.sin(c),d=u.x,g=u.y,p=l.length,m,v,w,_;for(_=0;_<p;_++)m=l[_],v=m.x-d,w=m.y-g,m.x=d+(v*h-w*f),m.y=g+(v*f+w*h);return l}},r.contains=function(l,c){for(var u=c.x,h=c.y,f=l.length,d=l[f-1],g,p=0;p<f;p++){if(g=l[p],(u-d.x)*(g.y-d.y)+(h-d.y)*(d.x-g.x)>0)return!1;d=g}return!0},r.scale=function(l,c,u,h){if(c===1&&u===1)return l;h=h||r.centre(l);for(var f,d,g=0;g<l.length;g++)f=l[g],d=a.sub(f,h),l[g].x=h.x+d.x*c,l[g].y=h.y+d.y*u;return l},r.chamfer=function(l,c,u,h,f){typeof c=="number"?c=[c]:c=c||[8],u=typeof u<"u"?u:-1,h=h||2,f=f||14;for(var d=[],g=0;g<l.length;g++){var p=l[g-1>=0?g-1:l.length-1],m=l[g],v=l[(g+1)%l.length],w=c[g<c.length?g:c.length-1];if(w===0){d.push(m);continue}var _=a.normalise({x:m.y-p.y,y:p.x-m.x}),x=a.normalise({x:v.y-m.y,y:m.x-v.x}),b=Math.sqrt(2*Math.pow(w,2)),S=a.mult(o.clone(_),w),M=a.normalise(a.mult(a.add(_,x),.5)),y=a.sub(m,a.mult(M,b)),E=u;u===-1&&(E=Math.pow(w,.32)*1.75),E=o.clamp(E,h,f),E%2===1&&(E+=1);for(var C=Math.acos(a.dot(_,x)),P=C/E,L=0;L<E;L++)d.push(a.add(a.rotate(S,P*L),y))}return d},r.clockwiseSort=function(l){var c=r.mean(l);return l.sort(function(u,h){return a.angle(c,u)-a.angle(c,h)}),l},r.isConvex=function(l){var c=0,u=l.length,h,f,d,g;if(u<3)return null;for(h=0;h<u;h++)if(f=(h+1)%u,d=(h+2)%u,g=(l[f].x-l[h].x)*(l[d].y-l[f].y),g-=(l[f].y-l[h].y)*(l[d].x-l[f].x),g<0?c|=1:g>0&&(c|=2),c===3)return!1;return c!==0?!0:null},r.hull=function(l){var c=[],u=[],h,f;for(l=l.slice(0),l.sort(function(d,g){var p=d.x-g.x;return p!==0?p:d.y-g.y}),f=0;f<l.length;f+=1){for(h=l[f];u.length>=2&&a.cross3(u[u.length-2],u[u.length-1],h)<=0;)u.pop();u.push(h)}for(f=l.length-1;f>=0;f-=1){for(h=l[f];c.length>=2&&a.cross3(c[c.length-2],c[c.length-1],h)<=0;)c.pop();c.push(h)}return c.pop(),u.pop(),c.concat(u)}})()},function(t,i,n){var r={};t.exports=r;var a=n(3),o=n(2),l=n(7),c=n(0),u=n(1),h=n(11);(function(){r._timeCorrection=!0,r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r._baseDelta=1e3/60,r.create=function(d){var g={id:c.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:a.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},p=c.extend(g,d);return f(p,d),p},r.nextGroup=function(d){return d?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var f=function(d,g){g=g||{},r.set(d,{bounds:d.bounds||u.create(d.vertices),positionPrev:d.positionPrev||o.clone(d.position),anglePrev:d.anglePrev||d.angle,vertices:d.vertices,parts:d.parts||[d],isStatic:d.isStatic,isSleeping:d.isSleeping,parent:d.parent||d}),a.rotate(d.vertices,d.angle,d.position),h.rotate(d.axes,d.angle),u.update(d.bounds,d.vertices,d.velocity),r.set(d,{axes:g.axes||d.axes,area:g.area||d.area,mass:g.mass||d.mass,inertia:g.inertia||d.inertia});var p=d.isStatic?"#14151f":c.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),m=d.isStatic?"#555":"#ccc",v=d.isStatic&&d.render.fillStyle===null?1:0;d.render.fillStyle=d.render.fillStyle||p,d.render.strokeStyle=d.render.strokeStyle||m,d.render.lineWidth=d.render.lineWidth||v,d.render.sprite.xOffset+=-(d.bounds.min.x-d.position.x)/(d.bounds.max.x-d.bounds.min.x),d.render.sprite.yOffset+=-(d.bounds.min.y-d.position.y)/(d.bounds.max.y-d.bounds.min.y)};r.set=function(d,g,p){var m;typeof g=="string"&&(m=g,g={},g[m]=p);for(m in g)if(Object.prototype.hasOwnProperty.call(g,m))switch(p=g[m],m){case"isStatic":r.setStatic(d,p);break;case"isSleeping":l.set(d,p);break;case"mass":r.setMass(d,p);break;case"density":r.setDensity(d,p);break;case"inertia":r.setInertia(d,p);break;case"vertices":r.setVertices(d,p);break;case"position":r.setPosition(d,p);break;case"angle":r.setAngle(d,p);break;case"velocity":r.setVelocity(d,p);break;case"angularVelocity":r.setAngularVelocity(d,p);break;case"speed":r.setSpeed(d,p);break;case"angularSpeed":r.setAngularSpeed(d,p);break;case"parts":r.setParts(d,p);break;case"centre":r.setCentre(d,p);break;default:d[m]=p}},r.setStatic=function(d,g){for(var p=0;p<d.parts.length;p++){var m=d.parts[p];m.isStatic=g,g?(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia},m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null)}},r.setMass=function(d,g){var p=d.inertia/(d.mass/6);d.inertia=p*(g/6),d.inverseInertia=1/d.inertia,d.mass=g,d.inverseMass=1/d.mass,d.density=d.mass/d.area},r.setDensity=function(d,g){r.setMass(d,g*d.area),d.density=g},r.setInertia=function(d,g){d.inertia=g,d.inverseInertia=1/d.inertia},r.setVertices=function(d,g){g[0].body===d?d.vertices=g:d.vertices=a.create(g,d),d.axes=h.fromVertices(d.vertices),d.area=a.area(d.vertices),r.setMass(d,d.density*d.area);var p=a.centre(d.vertices);a.translate(d.vertices,p,-1),r.setInertia(d,r._inertiaScale*a.inertia(d.vertices,d.mass)),a.translate(d.vertices,d.position),u.update(d.bounds,d.vertices,d.velocity)},r.setParts=function(d,g,p){var m;for(g=g.slice(0),d.parts.length=0,d.parts.push(d),d.parent=d,m=0;m<g.length;m++){var v=g[m];v!==d&&(v.parent=d,d.parts.push(v))}if(d.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var w=[];for(m=0;m<g.length;m++)w=w.concat(g[m].vertices);a.clockwiseSort(w);var _=a.hull(w),x=a.centre(_);r.setVertices(d,_),a.translate(d.vertices,x)}var b=r._totalProperties(d);d.area=b.area,d.parent=d,d.position.x=b.centre.x,d.position.y=b.centre.y,d.positionPrev.x=b.centre.x,d.positionPrev.y=b.centre.y,r.setMass(d,b.mass),r.setInertia(d,b.inertia),r.setPosition(d,b.centre)}},r.setCentre=function(d,g,p){p?(d.positionPrev.x+=g.x,d.positionPrev.y+=g.y,d.position.x+=g.x,d.position.y+=g.y):(d.positionPrev.x=g.x-(d.position.x-d.positionPrev.x),d.positionPrev.y=g.y-(d.position.y-d.positionPrev.y),d.position.x=g.x,d.position.y=g.y)},r.setPosition=function(d,g,p){var m=o.sub(g,d.position);p?(d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.velocity.x=m.x,d.velocity.y=m.y,d.speed=o.magnitude(m)):(d.positionPrev.x+=m.x,d.positionPrev.y+=m.y);for(var v=0;v<d.parts.length;v++){var w=d.parts[v];w.position.x+=m.x,w.position.y+=m.y,a.translate(w.vertices,m),u.update(w.bounds,w.vertices,d.velocity)}},r.setAngle=function(d,g,p){var m=g-d.angle;p?(d.anglePrev=d.angle,d.angularVelocity=m,d.angularSpeed=Math.abs(m)):d.anglePrev+=m;for(var v=0;v<d.parts.length;v++){var w=d.parts[v];w.angle+=m,a.rotate(w.vertices,m,d.position),h.rotate(w.axes,m),u.update(w.bounds,w.vertices,d.velocity),v>0&&o.rotateAbout(w.position,m,d.position,w.position)}},r.setVelocity=function(d,g){var p=d.deltaTime/r._baseDelta;d.positionPrev.x=d.position.x-g.x*p,d.positionPrev.y=d.position.y-g.y*p,d.velocity.x=(d.position.x-d.positionPrev.x)/p,d.velocity.y=(d.position.y-d.positionPrev.y)/p,d.speed=o.magnitude(d.velocity)},r.getVelocity=function(d){var g=r._baseDelta/d.deltaTime;return{x:(d.position.x-d.positionPrev.x)*g,y:(d.position.y-d.positionPrev.y)*g}},r.getSpeed=function(d){return o.magnitude(r.getVelocity(d))},r.setSpeed=function(d,g){r.setVelocity(d,o.mult(o.normalise(r.getVelocity(d)),g))},r.setAngularVelocity=function(d,g){var p=d.deltaTime/r._baseDelta;d.anglePrev=d.angle-g*p,d.angularVelocity=(d.angle-d.anglePrev)/p,d.angularSpeed=Math.abs(d.angularVelocity)},r.getAngularVelocity=function(d){return(d.angle-d.anglePrev)*r._baseDelta/d.deltaTime},r.getAngularSpeed=function(d){return Math.abs(r.getAngularVelocity(d))},r.setAngularSpeed=function(d,g){r.setAngularVelocity(d,c.sign(r.getAngularVelocity(d))*g)},r.translate=function(d,g,p){r.setPosition(d,o.add(d.position,g),p)},r.rotate=function(d,g,p,m){if(!p)r.setAngle(d,d.angle+g,m);else{var v=Math.cos(g),w=Math.sin(g),_=d.position.x-p.x,x=d.position.y-p.y;r.setPosition(d,{x:p.x+(_*v-x*w),y:p.y+(_*w+x*v)},m),r.setAngle(d,d.angle+g,m)}},r.scale=function(d,g,p,m){var v=0,w=0;m=m||d.position;for(var _=0;_<d.parts.length;_++){var x=d.parts[_];a.scale(x.vertices,g,p,m),x.axes=h.fromVertices(x.vertices),x.area=a.area(x.vertices),r.setMass(x,d.density*x.area),a.translate(x.vertices,{x:-x.position.x,y:-x.position.y}),r.setInertia(x,r._inertiaScale*a.inertia(x.vertices,x.mass)),a.translate(x.vertices,{x:x.position.x,y:x.position.y}),_>0&&(v+=x.area,w+=x.inertia),x.position.x=m.x+(x.position.x-m.x)*g,x.position.y=m.y+(x.position.y-m.y)*p,u.update(x.bounds,x.vertices,d.velocity)}d.parts.length>1&&(d.area=v,d.isStatic||(r.setMass(d,d.density*v),r.setInertia(d,w))),d.circleRadius&&(g===p?d.circleRadius*=g:d.circleRadius=null)},r.update=function(d,g){g=(typeof g<"u"?g:1e3/60)*d.timeScale;var p=g*g,m=r._timeCorrection?g/(d.deltaTime||g):1,v=1-d.frictionAir*(g/c._baseDelta),w=(d.position.x-d.positionPrev.x)*m,_=(d.position.y-d.positionPrev.y)*m;d.velocity.x=w*v+d.force.x/d.mass*p,d.velocity.y=_*v+d.force.y/d.mass*p,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.position.x+=d.velocity.x,d.position.y+=d.velocity.y,d.deltaTime=g,d.angularVelocity=(d.angle-d.anglePrev)*v*m+d.torque/d.inertia*p,d.anglePrev=d.angle,d.angle+=d.angularVelocity;for(var x=0;x<d.parts.length;x++){var b=d.parts[x];a.translate(b.vertices,d.velocity),x>0&&(b.position.x+=d.velocity.x,b.position.y+=d.velocity.y),d.angularVelocity!==0&&(a.rotate(b.vertices,d.angularVelocity,d.position),h.rotate(b.axes,d.angularVelocity),x>0&&o.rotateAbout(b.position,d.angularVelocity,d.position,b.position)),u.update(b.bounds,b.vertices,d.velocity)}},r.updateVelocities=function(d){var g=r._baseDelta/d.deltaTime,p=d.velocity;p.x=(d.position.x-d.positionPrev.x)*g,p.y=(d.position.y-d.positionPrev.y)*g,d.speed=Math.sqrt(p.x*p.x+p.y*p.y),d.angularVelocity=(d.angle-d.anglePrev)*g,d.angularSpeed=Math.abs(d.angularVelocity)},r.applyForce=function(d,g,p){var m={x:g.x-d.position.x,y:g.y-d.position.y};d.force.x+=p.x,d.force.y+=p.y,d.torque+=m.x*p.y-m.y*p.x},r._totalProperties=function(d){for(var g={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=d.parts.length===1?0:1;p<d.parts.length;p++){var m=d.parts[p],v=m.mass!==1/0?m.mass:1;g.mass+=v,g.area+=m.area,g.inertia+=m.inertia,g.centre=o.add(g.centre,o.mult(m.position,v))}return g.centre=o.div(g.centre,g.mass),g}})()},function(t,i,n){var r={};t.exports=r;var a=n(0);(function(){r.on=function(o,l,c){for(var u=l.split(" "),h,f=0;f<u.length;f++)h=u[f],o.events=o.events||{},o.events[h]=o.events[h]||[],o.events[h].push(c);return c},r.off=function(o,l,c){if(!l){o.events={};return}typeof l=="function"&&(c=l,l=a.keys(o.events).join(" "));for(var u=l.split(" "),h=0;h<u.length;h++){var f=o.events[u[h]],d=[];if(c&&f)for(var g=0;g<f.length;g++)f[g]!==c&&d.push(f[g]);o.events[u[h]]=d}},r.trigger=function(o,l,c){var u,h,f,d,g=o.events;if(g&&a.keys(g).length>0){c||(c={}),u=l.split(" ");for(var p=0;p<u.length;p++)if(h=u[p],f=g[h],f){d=a.clone(c,!1),d.name=h,d.source=o;for(var m=0;m<f.length;m++)f[m].apply(o,[d])}}}})()},function(t,i,n){var r={};t.exports=r;var a=n(5),o=n(0),l=n(1),c=n(4);(function(){r.create=function(u){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},u)},r.setModified=function(u,h,f,d){if(u.isModified=h,h&&u.cache&&(u.cache.allBodies=null,u.cache.allConstraints=null,u.cache.allComposites=null),f&&u.parent&&r.setModified(u.parent,h,f,d),d)for(var g=0;g<u.composites.length;g++){var p=u.composites[g];r.setModified(p,h,f,d)}},r.add=function(u,h){var f=[].concat(h);a.trigger(u,"beforeAdd",{object:h});for(var d=0;d<f.length;d++){var g=f[d];switch(g.type){case"body":if(g.parent!==g){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(u,g);break;case"constraint":r.addConstraint(u,g);break;case"composite":r.addComposite(u,g);break;case"mouseConstraint":r.addConstraint(u,g.constraint);break}}return a.trigger(u,"afterAdd",{object:h}),u},r.remove=function(u,h,f){var d=[].concat(h);a.trigger(u,"beforeRemove",{object:h});for(var g=0;g<d.length;g++){var p=d[g];switch(p.type){case"body":r.removeBody(u,p,f);break;case"constraint":r.removeConstraint(u,p,f);break;case"composite":r.removeComposite(u,p,f);break;case"mouseConstraint":r.removeConstraint(u,p.constraint);break}}return a.trigger(u,"afterRemove",{object:h}),u},r.addComposite=function(u,h){return u.composites.push(h),h.parent=u,r.setModified(u,!0,!0,!1),u},r.removeComposite=function(u,h,f){var d=o.indexOf(u.composites,h);if(d!==-1&&r.removeCompositeAt(u,d),f)for(var g=0;g<u.composites.length;g++)r.removeComposite(u.composites[g],h,!0);return u},r.removeCompositeAt=function(u,h){return u.composites.splice(h,1),r.setModified(u,!0,!0,!1),u},r.addBody=function(u,h){return u.bodies.push(h),r.setModified(u,!0,!0,!1),u},r.removeBody=function(u,h,f){var d=o.indexOf(u.bodies,h);if(d!==-1&&r.removeBodyAt(u,d),f)for(var g=0;g<u.composites.length;g++)r.removeBody(u.composites[g],h,!0);return u},r.removeBodyAt=function(u,h){return u.bodies.splice(h,1),r.setModified(u,!0,!0,!1),u},r.addConstraint=function(u,h){return u.constraints.push(h),r.setModified(u,!0,!0,!1),u},r.removeConstraint=function(u,h,f){var d=o.indexOf(u.constraints,h);if(d!==-1&&r.removeConstraintAt(u,d),f)for(var g=0;g<u.composites.length;g++)r.removeConstraint(u.composites[g],h,!0);return u},r.removeConstraintAt=function(u,h){return u.constraints.splice(h,1),r.setModified(u,!0,!0,!1),u},r.clear=function(u,h,f){if(f)for(var d=0;d<u.composites.length;d++)r.clear(u.composites[d],h,!0);return h?u.bodies=u.bodies.filter(function(g){return g.isStatic}):u.bodies.length=0,u.constraints.length=0,u.composites.length=0,r.setModified(u,!0,!0,!1),u},r.allBodies=function(u){if(u.cache&&u.cache.allBodies)return u.cache.allBodies;for(var h=[].concat(u.bodies),f=0;f<u.composites.length;f++)h=h.concat(r.allBodies(u.composites[f]));return u.cache&&(u.cache.allBodies=h),h},r.allConstraints=function(u){if(u.cache&&u.cache.allConstraints)return u.cache.allConstraints;for(var h=[].concat(u.constraints),f=0;f<u.composites.length;f++)h=h.concat(r.allConstraints(u.composites[f]));return u.cache&&(u.cache.allConstraints=h),h},r.allComposites=function(u){if(u.cache&&u.cache.allComposites)return u.cache.allComposites;for(var h=[].concat(u.composites),f=0;f<u.composites.length;f++)h=h.concat(r.allComposites(u.composites[f]));return u.cache&&(u.cache.allComposites=h),h},r.get=function(u,h,f){var d,g;switch(f){case"body":d=r.allBodies(u);break;case"constraint":d=r.allConstraints(u);break;case"composite":d=r.allComposites(u).concat(u);break}return d?(g=d.filter(function(p){return p.id.toString()===h.toString()}),g.length===0?null:g[0]):null},r.move=function(u,h,f){return r.remove(u,h),r.add(f,h),u},r.rebase=function(u){for(var h=r.allBodies(u).concat(r.allConstraints(u)).concat(r.allComposites(u)),f=0;f<h.length;f++)h[f].id=o.nextId();return u},r.translate=function(u,h,f){for(var d=f?r.allBodies(u):u.bodies,g=0;g<d.length;g++)c.translate(d[g],h);return u},r.rotate=function(u,h,f,d){for(var g=Math.cos(h),p=Math.sin(h),m=d?r.allBodies(u):u.bodies,v=0;v<m.length;v++){var w=m[v],_=w.position.x-f.x,x=w.position.y-f.y;c.setPosition(w,{x:f.x+(_*g-x*p),y:f.y+(_*p+x*g)}),c.rotate(w,h)}return u},r.scale=function(u,h,f,d,g){for(var p=g?r.allBodies(u):u.bodies,m=0;m<p.length;m++){var v=p[m],w=v.position.x-d.x,_=v.position.y-d.y;c.setPosition(v,{x:d.x+w*h,y:d.y+_*f}),c.scale(v,h,f)}return u},r.bounds=function(u){for(var h=r.allBodies(u),f=[],d=0;d<h.length;d+=1){var g=h[d];f.push(g.bounds.min,g.bounds.max)}return l.create(f)}})()},function(t,i,n){var r={};t.exports=r;var a=n(4),o=n(5),l=n(0);(function(){r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(c,u){for(var h=u/l._baseDelta,f=r._motionSleepThreshold,d=0;d<c.length;d++){var g=c[d],p=a.getSpeed(g),m=a.getAngularSpeed(g),v=p*p+m*m;if(g.force.x!==0||g.force.y!==0){r.set(g,!1);continue}var w=Math.min(g.motion,v),_=Math.max(g.motion,v);g.motion=r._minBias*w+(1-r._minBias)*_,g.sleepThreshold>0&&g.motion<f?(g.sleepCounter+=1,g.sleepCounter>=g.sleepThreshold/h&&r.set(g,!0)):g.sleepCounter>0&&(g.sleepCounter-=1)}},r.afterCollisions=function(c){for(var u=r._motionSleepThreshold,h=0;h<c.length;h++){var f=c[h];if(f.isActive){var d=f.collision,g=d.bodyA.parent,p=d.bodyB.parent;if(!(g.isSleeping&&p.isSleeping||g.isStatic||p.isStatic)&&(g.isSleeping||p.isSleeping)){var m=g.isSleeping&&!g.isStatic?g:p,v=m===g?p:g;!m.isStatic&&v.motion>u&&r.set(m,!1)}}}},r.set=function(c,u){var h=c.isSleeping;u?(c.isSleeping=!0,c.sleepCounter=c.sleepThreshold,c.positionImpulse.x=0,c.positionImpulse.y=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.speed=0,c.angularSpeed=0,c.motion=0,h||o.trigger(c,"sleepStart")):(c.isSleeping=!1,c.sleepCounter=0,h&&o.trigger(c,"sleepEnd"))}})()},function(t,i,n){var r={};t.exports=r;var a=n(3),o=n(9);(function(){var l=[],c={overlap:0,axis:null},u={overlap:0,axis:null};r.create=function(h,f){return{pair:null,collided:!1,bodyA:h,bodyB:f,parentA:h.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},r.collides=function(h,f,d){if(r._overlapAxes(c,h.vertices,f.vertices,h.axes),c.overlap<=0||(r._overlapAxes(u,f.vertices,h.vertices,f.axes),u.overlap<=0))return null;var g=d&&d.table[o.id(h,f)],p;g?p=g.collision:(p=r.create(h,f),p.collided=!0,p.bodyA=h.id<f.id?h:f,p.bodyB=h.id<f.id?f:h,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),h=p.bodyA,f=p.bodyB;var m;c.overlap<u.overlap?m=c:m=u;var v=p.normal,w=p.supports,_=m.axis,x=_.x,b=_.y;x*(f.position.x-h.position.x)+b*(f.position.y-h.position.y)<0?(v.x=x,v.y=b):(v.x=-x,v.y=-b),p.tangent.x=-v.y,p.tangent.y=v.x,p.depth=m.overlap,p.penetration.x=v.x*p.depth,p.penetration.y=v.y*p.depth;var S=r._findSupports(h,f,v,1),M=0;if(a.contains(h.vertices,S[0])&&(w[M++]=S[0]),a.contains(h.vertices,S[1])&&(w[M++]=S[1]),M<2){var y=r._findSupports(f,h,v,-1);a.contains(f.vertices,y[0])&&(w[M++]=y[0]),M<2&&a.contains(f.vertices,y[1])&&(w[M++]=y[1])}return M===0&&(w[M++]=S[0]),w.length=M,p},r._overlapAxes=function(h,f,d,g){var p=f.length,m=d.length,v=f[0].x,w=f[0].y,_=d[0].x,x=d[0].y,b=g.length,S=Number.MAX_VALUE,M=0,y,E,C,P,L,k;for(L=0;L<b;L++){var A=g[L],I=A.x,R=A.y,O=v*I+w*R,z=_*I+x*R,V=O,$=z;for(k=1;k<p;k+=1)P=f[k].x*I+f[k].y*R,P>V?V=P:P<O&&(O=P);for(k=1;k<m;k+=1)P=d[k].x*I+d[k].y*R,P>$?$=P:P<z&&(z=P);if(E=V-z,C=$-O,y=E<C?E:C,y<S&&(S=y,M=L,y<=0))break}h.axis=g[M],h.overlap=S},r._projectToAxis=function(h,f,d){for(var g=f[0].x*d.x+f[0].y*d.y,p=g,m=1;m<f.length;m+=1){var v=f[m].x*d.x+f[m].y*d.y;v>p?p=v:v<g&&(g=v)}h.min=g,h.max=p},r._findSupports=function(h,f,d,g){var p=f.vertices,m=p.length,v=h.position.x,w=h.position.y,_=d.x*g,x=d.y*g,b=Number.MAX_VALUE,S,M,y,E,C;for(C=0;C<m;C+=1)M=p[C],E=_*(v-M.x)+x*(w-M.y),E<b&&(b=E,S=M);return y=p[(m+S.index-1)%m],b=_*(v-y.x)+x*(w-y.y),M=p[(S.index+1)%m],_*(v-M.x)+x*(w-M.y)<b?(l[0]=S,l[1]=M,l):(l[0]=S,l[1]=y,l)}})()},function(t,i,n){var r={};t.exports=r;var a=n(16);(function(){r.create=function(o,l){var c=o.bodyA,u=o.bodyB,h={id:r.id(c,u),bodyA:c,bodyB:u,collision:o,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:c.isSensor||u.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return r.update(h,o,l),h},r.update=function(o,l,c){var u=o.contacts,h=l.supports,f=o.activeContacts,d=l.parentA,g=l.parentB,p=d.vertices.length;o.isActive=!0,o.timeUpdated=c,o.collision=l,o.separation=l.depth,o.inverseMass=d.inverseMass+g.inverseMass,o.friction=d.friction<g.friction?d.friction:g.friction,o.frictionStatic=d.frictionStatic>g.frictionStatic?d.frictionStatic:g.frictionStatic,o.restitution=d.restitution>g.restitution?d.restitution:g.restitution,o.slop=d.slop>g.slop?d.slop:g.slop,l.pair=o,f.length=0;for(var m=0;m<h.length;m++){var v=h[m],w=v.body===d?v.index:p+v.index,_=u[w];_?f.push(_):f.push(u[w]=a.create(v))}},r.setActive=function(o,l,c){l?(o.isActive=!0,o.timeUpdated=c):(o.isActive=!1,o.activeContacts.length=0)},r.id=function(o,l){return o.id<l.id?"A"+o.id+"B"+l.id:"A"+l.id+"B"+o.id}})()},function(t,i,n){var r={};t.exports=r;var a=n(3),o=n(2),l=n(7),c=n(1),u=n(11),h=n(0);(function(){r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(f){var d=f;d.bodyA&&!d.pointA&&(d.pointA={x:0,y:0}),d.bodyB&&!d.pointB&&(d.pointB={x:0,y:0});var g=d.bodyA?o.add(d.bodyA.position,d.pointA):d.pointA,p=d.bodyB?o.add(d.bodyB.position,d.pointB):d.pointB,m=o.magnitude(o.sub(g,p));d.length=typeof d.length<"u"?d.length:m,d.id=d.id||h.nextId(),d.label=d.label||"Constraint",d.type="constraint",d.stiffness=d.stiffness||(d.length>0?1:.7),d.damping=d.damping||0,d.angularStiffness=d.angularStiffness||0,d.angleA=d.bodyA?d.bodyA.angle:d.angleA,d.angleB=d.bodyB?d.bodyB.angle:d.angleB,d.plugin={};var v={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return d.length===0&&d.stiffness>.1?(v.type="pin",v.anchors=!1):d.stiffness<.9&&(v.type="spring"),d.render=h.extend(v,d.render),d},r.preSolveAll=function(f){for(var d=0;d<f.length;d+=1){var g=f[d],p=g.constraintImpulse;g.isStatic||p.x===0&&p.y===0&&p.angle===0||(g.position.x+=p.x,g.position.y+=p.y,g.angle+=p.angle)}},r.solveAll=function(f,d){for(var g=h.clamp(d/h._baseDelta,0,1),p=0;p<f.length;p+=1){var m=f[p],v=!m.bodyA||m.bodyA&&m.bodyA.isStatic,w=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(v||w)&&r.solve(f[p],g)}for(p=0;p<f.length;p+=1)m=f[p],v=!m.bodyA||m.bodyA&&m.bodyA.isStatic,w=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!v&&!w&&r.solve(f[p],g)},r.solve=function(f,d){var g=f.bodyA,p=f.bodyB,m=f.pointA,v=f.pointB;if(!(!g&&!p)){g&&!g.isStatic&&(o.rotate(m,g.angle-f.angleA,m),f.angleA=g.angle),p&&!p.isStatic&&(o.rotate(v,p.angle-f.angleB,v),f.angleB=p.angle);var w=m,_=v;if(g&&(w=o.add(g.position,m)),p&&(_=o.add(p.position,v)),!(!w||!_)){var x=o.sub(w,_),b=o.magnitude(x);b<r._minLength&&(b=r._minLength);var S=(b-f.length)/b,M=f.stiffness>=1||f.length===0,y=M?f.stiffness*d:f.stiffness*d*d,E=f.damping*d,C=o.mult(x,S*y),P=(g?g.inverseMass:0)+(p?p.inverseMass:0),L=(g?g.inverseInertia:0)+(p?p.inverseInertia:0),k=P+L,A,I,R,O,z;if(E>0){var V=o.create();R=o.div(x,b),z=o.sub(p&&o.sub(p.position,p.positionPrev)||V,g&&o.sub(g.position,g.positionPrev)||V),O=o.dot(R,z)}g&&!g.isStatic&&(I=g.inverseMass/P,g.constraintImpulse.x-=C.x*I,g.constraintImpulse.y-=C.y*I,g.position.x-=C.x*I,g.position.y-=C.y*I,E>0&&(g.positionPrev.x-=E*R.x*O*I,g.positionPrev.y-=E*R.y*O*I),A=o.cross(m,C)/k*r._torqueDampen*g.inverseInertia*(1-f.angularStiffness),g.constraintImpulse.angle-=A,g.angle-=A),p&&!p.isStatic&&(I=p.inverseMass/P,p.constraintImpulse.x+=C.x*I,p.constraintImpulse.y+=C.y*I,p.position.x+=C.x*I,p.position.y+=C.y*I,E>0&&(p.positionPrev.x+=E*R.x*O*I,p.positionPrev.y+=E*R.y*O*I),A=o.cross(v,C)/k*r._torqueDampen*p.inverseInertia*(1-f.angularStiffness),p.constraintImpulse.angle+=A,p.angle+=A)}}},r.postSolveAll=function(f){for(var d=0;d<f.length;d++){var g=f[d],p=g.constraintImpulse;if(!(g.isStatic||p.x===0&&p.y===0&&p.angle===0)){l.set(g,!1);for(var m=0;m<g.parts.length;m++){var v=g.parts[m];a.translate(v.vertices,p),m>0&&(v.position.x+=p.x,v.position.y+=p.y),p.angle!==0&&(a.rotate(v.vertices,p.angle,g.position),u.rotate(v.axes,p.angle),m>0&&o.rotateAbout(v.position,p.angle,g.position,v.position)),c.update(v.bounds,v.vertices,g.velocity)}p.angle*=r._warming,p.x*=r._warming,p.y*=r._warming}}},r.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+(f.pointA?f.pointA.x:0),y:(f.bodyA?f.bodyA.position.y:0)+(f.pointA?f.pointA.y:0)}},r.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+(f.pointB?f.pointB.x:0),y:(f.bodyB?f.bodyB.position.y:0)+(f.pointB?f.pointB.y:0)}}})()},function(t,i,n){var r={};t.exports=r;var a=n(2),o=n(0);(function(){r.fromVertices=function(l){for(var c={},u=0;u<l.length;u++){var h=(u+1)%l.length,f=a.normalise({x:l[h].y-l[u].y,y:l[u].x-l[h].x}),d=f.y===0?1/0:f.x/f.y;d=d.toFixed(3).toString(),c[d]=f}return o.values(c)},r.rotate=function(l,c){if(c!==0)for(var u=Math.cos(c),h=Math.sin(c),f=0;f<l.length;f++){var d=l[f],g;g=d.x*u-d.y*h,d.y=d.x*h+d.y*u,d.x=g}}})()},function(t,i,n){var r={};t.exports=r;var a=n(3),o=n(0),l=n(4),c=n(1),u=n(2);(function(){r.rectangle=function(h,f,d,g,p){p=p||{};var m={label:"Rectangle Body",position:{x:h,y:f},vertices:a.fromPath("L 0 0 L "+d+" 0 L "+d+" "+g+" L 0 "+g)};if(p.chamfer){var v=p.chamfer;m.vertices=a.chamfer(m.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete p.chamfer}return l.create(o.extend({},m,p))},r.trapezoid=function(h,f,d,g,p,m){m=m||{},p*=.5;var v=(1-p*2)*d,w=d*p,_=w+v,x=_+w,b;p<.5?b="L 0 0 L "+w+" "+-g+" L "+_+" "+-g+" L "+x+" 0":b="L 0 0 L "+_+" "+-g+" L "+x+" 0";var S={label:"Trapezoid Body",position:{x:h,y:f},vertices:a.fromPath(b)};if(m.chamfer){var M=m.chamfer;S.vertices=a.chamfer(S.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete m.chamfer}return l.create(o.extend({},S,m))},r.circle=function(h,f,d,g,p){g=g||{};var m={label:"Circle Body",circleRadius:d};p=p||25;var v=Math.ceil(Math.max(10,Math.min(p,d)));return v%2===1&&(v+=1),r.polygon(h,f,v,d,o.extend({},m,g))},r.polygon=function(h,f,d,g,p){if(p=p||{},d<3)return r.circle(h,f,g,p);for(var m=2*Math.PI/d,v="",w=m*.5,_=0;_<d;_+=1){var x=w+_*m,b=Math.cos(x)*g,S=Math.sin(x)*g;v+="L "+b.toFixed(3)+" "+S.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:h,y:f},vertices:a.fromPath(v)};if(p.chamfer){var y=p.chamfer;M.vertices=a.chamfer(M.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete p.chamfer}return l.create(o.extend({},M,p))},r.fromVertices=function(h,f,d,g,p,m,v,w){var _=o.getDecomp(),x,b,S,M,y,E,C,P,L,k,A;for(x=!!(_&&_.quickDecomp),g=g||{},S=[],p=typeof p<"u"?p:!1,m=typeof m<"u"?m:.01,v=typeof v<"u"?v:10,w=typeof w<"u"?w:.01,o.isArray(d[0])||(d=[d]),k=0;k<d.length;k+=1)if(E=d[k],M=a.isConvex(E),y=!M,y&&!x&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),M||!x)M?E=a.clockwiseSort(E):E=a.hull(E),S.push({position:{x:h,y:f},vertices:E});else{var I=E.map(function(j){return[j.x,j.y]});_.makeCCW(I),m!==!1&&_.removeCollinearPoints(I,m),w!==!1&&_.removeDuplicatePoints&&_.removeDuplicatePoints(I,w);var R=_.quickDecomp(I);for(C=0;C<R.length;C++){var O=R[C],z=O.map(function(j){return{x:j[0],y:j[1]}});v>0&&a.area(z)<v||S.push({position:a.centre(z),vertices:z})}}for(C=0;C<S.length;C++)S[C]=l.create(o.extend(S[C],g));if(p){var V=5;for(C=0;C<S.length;C++){var $=S[C];for(P=C+1;P<S.length;P++){var K=S[P];if(c.overlaps($.bounds,K.bounds)){var U=$.vertices,ee=K.vertices;for(L=0;L<$.vertices.length;L++)for(A=0;A<K.vertices.length;A++){var Z=u.magnitudeSquared(u.sub(U[(L+1)%U.length],ee[A])),te=u.magnitudeSquared(u.sub(U[L],ee[(A+1)%ee.length]));Z<V&&te<V&&(U[L].isInternal=!0,ee[A].isInternal=!0)}}}}}return S.length>1?(b=l.create(o.extend({parts:S.slice(0)},g)),l.setPosition(b,{x:h,y:f}),b):S[0]}})()},function(t,i,n){var r={};t.exports=r;var a=n(0),o=n(8);(function(){r.create=function(l){var c={bodies:[],pairs:null};return a.extend(c,l)},r.setBodies=function(l,c){l.bodies=c.slice(0)},r.clear=function(l){l.bodies=[]},r.collisions=function(l){var c=[],u=l.pairs,h=l.bodies,f=h.length,d=r.canCollide,g=o.collides,p,m;for(h.sort(r._compareBoundsX),p=0;p<f;p++){var v=h[p],w=v.bounds,_=v.bounds.max.x,x=v.bounds.max.y,b=v.bounds.min.y,S=v.isStatic||v.isSleeping,M=v.parts.length,y=M===1;for(m=p+1;m<f;m++){var E=h[m],C=E.bounds;if(C.min.x>_)break;if(!(x<C.min.y||b>C.max.y)&&!(S&&(E.isStatic||E.isSleeping))&&d(v.collisionFilter,E.collisionFilter)){var P=E.parts.length;if(y&&P===1){var L=g(v,E,u);L&&c.push(L)}else for(var k=M>1?1:0,A=P>1?1:0,I=k;I<M;I++)for(var R=v.parts[I],w=R.bounds,O=A;O<P;O++){var z=E.parts[O],C=z.bounds;if(!(w.min.x>C.max.x||w.max.x<C.min.x||w.max.y<C.min.y||w.min.y>C.max.y)){var L=g(R,z,u);L&&c.push(L)}}}}}return c},r.canCollide=function(l,c){return l.group===c.group&&l.group!==0?l.group>0:(l.mask&c.category)!==0&&(c.mask&l.category)!==0},r._compareBoundsX=function(l,c){return l.bounds.min.x-c.bounds.min.x}})()},function(t,i,n){var r={};t.exports=r;var a=n(0);(function(){r.create=function(o){var l={};return o||a.log("Mouse.create: element was undefined, defaulting to document.body","warn"),l.element=o||document.body,l.absolute={x:0,y:0},l.position={x:0,y:0},l.mousedownPosition={x:0,y:0},l.mouseupPosition={x:0,y:0},l.offset={x:0,y:0},l.scale={x:1,y:1},l.wheelDelta=0,l.button=-1,l.pixelRatio=parseInt(l.element.getAttribute("data-pixel-ratio"),10)||1,l.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},l.mousemove=function(c){var u=r._getRelativeMousePosition(c,l.element,l.pixelRatio),h=c.changedTouches;h&&(l.button=0,c.preventDefault()),l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.sourceEvents.mousemove=c},l.mousedown=function(c){var u=r._getRelativeMousePosition(c,l.element,l.pixelRatio),h=c.changedTouches;h?(l.button=0,c.preventDefault()):l.button=c.button,l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mousedownPosition.x=l.position.x,l.mousedownPosition.y=l.position.y,l.sourceEvents.mousedown=c},l.mouseup=function(c){var u=r._getRelativeMousePosition(c,l.element,l.pixelRatio),h=c.changedTouches;h&&c.preventDefault(),l.button=-1,l.absolute.x=u.x,l.absolute.y=u.y,l.position.x=l.absolute.x*l.scale.x+l.offset.x,l.position.y=l.absolute.y*l.scale.y+l.offset.y,l.mouseupPosition.x=l.position.x,l.mouseupPosition.y=l.position.y,l.sourceEvents.mouseup=c},l.mousewheel=function(c){l.wheelDelta=Math.max(-1,Math.min(1,c.wheelDelta||-c.detail)),c.preventDefault()},r.setElement(l,l.element),l},r.setElement=function(o,l){o.element=l,l.addEventListener("mousemove",o.mousemove),l.addEventListener("mousedown",o.mousedown),l.addEventListener("mouseup",o.mouseup),l.addEventListener("mousewheel",o.mousewheel),l.addEventListener("DOMMouseScroll",o.mousewheel),l.addEventListener("touchmove",o.mousemove),l.addEventListener("touchstart",o.mousedown),l.addEventListener("touchend",o.mouseup)},r.clearSourceEvents=function(o){o.sourceEvents.mousemove=null,o.sourceEvents.mousedown=null,o.sourceEvents.mouseup=null,o.sourceEvents.mousewheel=null,o.wheelDelta=0},r.setOffset=function(o,l){o.offset.x=l.x,o.offset.y=l.y,o.position.x=o.absolute.x*o.scale.x+o.offset.x,o.position.y=o.absolute.y*o.scale.y+o.offset.y},r.setScale=function(o,l){o.scale.x=l.x,o.scale.y=l.y,o.position.x=o.absolute.x*o.scale.x+o.offset.x,o.position.y=o.absolute.y*o.scale.y+o.offset.y},r._getRelativeMousePosition=function(o,l,c){var u=l.getBoundingClientRect(),h=document.documentElement||document.body.parentNode||document.body,f=window.pageXOffset!==void 0?window.pageXOffset:h.scrollLeft,d=window.pageYOffset!==void 0?window.pageYOffset:h.scrollTop,g=o.changedTouches,p,m;return g?(p=g[0].pageX-u.left-f,m=g[0].pageY-u.top-d):(p=o.pageX-u.left-f,m=o.pageY-u.top-d),{x:p/(l.clientWidth/(l.width||l.clientWidth)*c),y:m/(l.clientHeight/(l.height||l.clientHeight)*c)}}})()},function(t,i,n){var r={};t.exports=r;var a=n(0);(function(){r._registry={},r.register=function(o){if(r.isPlugin(o)||a.warn("Plugin.register:",r.toString(o),"does not implement all required fields."),o.name in r._registry){var l=r._registry[o.name],c=r.versionParse(o.version).number,u=r.versionParse(l.version).number;c>u?(a.warn("Plugin.register:",r.toString(l),"was upgraded to",r.toString(o)),r._registry[o.name]=o):c<u?a.warn("Plugin.register:",r.toString(l),"can not be downgraded to",r.toString(o)):o!==l&&a.warn("Plugin.register:",r.toString(o),"is already registered to different plugin object")}else r._registry[o.name]=o;return o},r.resolve=function(o){return r._registry[r.dependencyParse(o).name]},r.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},r.isPlugin=function(o){return o&&o.name&&o.version&&o.install},r.isUsed=function(o,l){return o.used.indexOf(l)>-1},r.isFor=function(o,l){var c=o.for&&r.dependencyParse(o.for);return!o.for||l.name===c.name&&r.versionSatisfies(l.version,c.range)},r.use=function(o,l){if(o.uses=(o.uses||[]).concat(l||[]),o.uses.length===0){a.warn("Plugin.use:",r.toString(o),"does not specify any dependencies to install.");return}for(var c=r.dependencies(o),u=a.topologicalSort(c),h=[],f=0;f<u.length;f+=1)if(u[f]!==o.name){var d=r.resolve(u[f]);if(!d){h.push("âŒ "+u[f]);continue}r.isUsed(o,d.name)||(r.isFor(d,o)||(a.warn("Plugin.use:",r.toString(d),"is for",d.for,"but installed on",r.toString(o)+"."),d._warned=!0),d.install?d.install(o):(a.warn("Plugin.use:",r.toString(d),"does not specify an install function."),d._warned=!0),d._warned?(h.push("ðŸ”¶ "+r.toString(d)),delete d._warned):h.push("âœ… "+r.toString(d)),o.used.push(d.name))}h.length>0&&a.info(h.join("  "))},r.dependencies=function(o,l){var c=r.dependencyParse(o),u=c.name;if(l=l||{},!(u in l)){o=r.resolve(o)||o,l[u]=a.map(o.uses||[],function(f){r.isPlugin(f)&&r.register(f);var d=r.dependencyParse(f),g=r.resolve(f);return g&&!r.versionSatisfies(g.version,d.range)?(a.warn("Plugin.dependencies:",r.toString(g),"does not satisfy",r.toString(d),"used by",r.toString(c)+"."),g._warned=!0,o._warned=!0):g||(a.warn("Plugin.dependencies:",r.toString(f),"used by",r.toString(c),"could not be resolved."),o._warned=!0),d.name});for(var h=0;h<l[u].length;h+=1)r.dependencies(l[u][h],l);return l}},r.dependencyParse=function(o){if(a.isString(o)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(o)||a.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},r.versionParse=function(o){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(o)||a.warn("Plugin.versionParse:",o,"is not a valid version or range.");var c=l.exec(o),u=Number(c[4]),h=Number(c[5]),f=Number(c[6]);return{isRange:!!(c[1]||c[2]),version:c[3],range:o,operator:c[1]||c[2]||"",major:u,minor:h,patch:f,parts:[u,h,f],prerelease:c[7],number:u*1e8+h*1e4+f}},r.versionSatisfies=function(o,l){l=l||"*";var c=r.versionParse(l),u=r.versionParse(o);if(c.isRange){if(c.operator==="*"||o==="*")return!0;if(c.operator===">")return u.number>c.number;if(c.operator===">=")return u.number>=c.number;if(c.operator==="~")return u.major===c.major&&u.minor===c.minor&&u.patch>=c.patch;if(c.operator==="^")return c.major>0?u.major===c.major&&u.number>=c.number:c.minor>0?u.minor===c.minor&&u.patch>=c.patch:u.patch===c.patch}return o===l||o==="*"}})()},function(t,i){var n={};t.exports=n,function(){n.create=function(r){return{vertex:r,normalImpulse:0,tangentImpulse:0}}}()},function(t,i,n){var r={};t.exports=r;var a=n(7),o=n(18),l=n(13),c=n(19),u=n(5),h=n(6),f=n(10),d=n(0),g=n(4);(function(){r.create=function(p){p=p||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},v=d.extend(m,p);return v.world=p.world||h.create({label:"World"}),v.pairs=p.pairs||c.create(),v.detector=p.detector||l.create(),v.grid={buckets:[]},v.world.gravity=v.gravity,v.broadphase=v.grid,v.metrics={},v},r.update=function(p,m){var v=d.now(),w=p.world,_=p.detector,x=p.pairs,b=p.timing,S=b.timestamp,M;m=typeof m<"u"?m:d._baseDelta,m*=b.timeScale,b.timestamp+=m,b.lastDelta=m;var y={timestamp:b.timestamp,delta:m};u.trigger(p,"beforeUpdate",y);var E=h.allBodies(w),C=h.allConstraints(w);for(w.isModified&&(l.setBodies(_,E),h.setModified(w,!1,!1,!0)),p.enableSleeping&&a.update(E,m),r._bodiesApplyGravity(E,p.gravity),m>0&&r._bodiesUpdate(E,m),f.preSolveAll(E),M=0;M<p.constraintIterations;M++)f.solveAll(C,m);f.postSolveAll(E),_.pairs=p.pairs;var P=l.collisions(_);c.update(x,P,S),p.enableSleeping&&a.afterCollisions(x.list),x.collisionStart.length>0&&u.trigger(p,"collisionStart",{pairs:x.collisionStart});var L=d.clamp(20/p.positionIterations,0,1);for(o.preSolvePosition(x.list),M=0;M<p.positionIterations;M++)o.solvePosition(x.list,m,L);for(o.postSolvePosition(E),f.preSolveAll(E),M=0;M<p.constraintIterations;M++)f.solveAll(C,m);for(f.postSolveAll(E),o.preSolveVelocity(x.list),M=0;M<p.velocityIterations;M++)o.solveVelocity(x.list,m);return r._bodiesUpdateVelocities(E),x.collisionActive.length>0&&u.trigger(p,"collisionActive",{pairs:x.collisionActive}),x.collisionEnd.length>0&&u.trigger(p,"collisionEnd",{pairs:x.collisionEnd}),r._bodiesClearForces(E),u.trigger(p,"afterUpdate",y),p.timing.lastElapsed=d.now()-v,p},r.merge=function(p,m){if(d.extend(p,m),m.world){p.world=m.world,r.clear(p);for(var v=h.allBodies(p.world),w=0;w<v.length;w++){var _=v[w];a.set(_,!1),_.id=d.nextId()}}},r.clear=function(p){c.clear(p.pairs),l.clear(p.detector)},r._bodiesClearForces=function(p){for(var m=p.length,v=0;v<m;v++){var w=p[v];w.force.x=0,w.force.y=0,w.torque=0}},r._bodiesApplyGravity=function(p,m){var v=typeof m.scale<"u"?m.scale:.001,w=p.length;if(!(m.x===0&&m.y===0||v===0))for(var _=0;_<w;_++){var x=p[_];x.isStatic||x.isSleeping||(x.force.y+=x.mass*m.y*v,x.force.x+=x.mass*m.x*v)}},r._bodiesUpdate=function(p,m){for(var v=p.length,w=0;w<v;w++){var _=p[w];_.isStatic||_.isSleeping||g.update(_,m)}},r._bodiesUpdateVelocities=function(p){for(var m=p.length,v=0;v<m;v++)g.updateVelocities(p[v])}})()},function(t,i,n){var r={};t.exports=r;var a=n(3),o=n(0),l=n(1);(function(){r._restingThresh=2,r._restingThreshTangent=Math.sqrt(6),r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r._frictionMaxStatic=Number.MAX_VALUE,r.preSolvePosition=function(c){var u,h,f,d=c.length;for(u=0;u<d;u++)h=c[u],h.isActive&&(f=h.activeContacts.length,h.collision.parentA.totalContacts+=f,h.collision.parentB.totalContacts+=f)},r.solvePosition=function(c,u,h){var f,d,g,p,m,v,w,_,x=r._positionDampen*(h||1),b=o.clamp(u/o._baseDelta,0,1),S=c.length;for(f=0;f<S;f++)d=c[f],!(!d.isActive||d.isSensor)&&(g=d.collision,p=g.parentA,m=g.parentB,v=g.normal,d.separation=v.x*(m.positionImpulse.x+g.penetration.x-p.positionImpulse.x)+v.y*(m.positionImpulse.y+g.penetration.y-p.positionImpulse.y));for(f=0;f<S;f++)d=c[f],!(!d.isActive||d.isSensor)&&(g=d.collision,p=g.parentA,m=g.parentB,v=g.normal,_=d.separation-d.slop*b,(p.isStatic||m.isStatic)&&(_*=2),p.isStatic||p.isSleeping||(w=x/p.totalContacts,p.positionImpulse.x+=v.x*_*w,p.positionImpulse.y+=v.y*_*w),m.isStatic||m.isSleeping||(w=x/m.totalContacts,m.positionImpulse.x-=v.x*_*w,m.positionImpulse.y-=v.y*_*w))},r.postSolvePosition=function(c){for(var u=r._positionWarming,h=c.length,f=a.translate,d=l.update,g=0;g<h;g++){var p=c[g],m=p.positionImpulse,v=m.x,w=m.y,_=p.velocity;if(p.totalContacts=0,v!==0||w!==0){for(var x=0;x<p.parts.length;x++){var b=p.parts[x];f(b.vertices,m),d(b.bounds,b.vertices,_),b.position.x+=v,b.position.y+=w}p.positionPrev.x+=v,p.positionPrev.y+=w,v*_.x+w*_.y<0?(m.x=0,m.y=0):(m.x*=u,m.y*=u)}}},r.preSolveVelocity=function(c){var u=c.length,h,f;for(h=0;h<u;h++){var d=c[h];if(!(!d.isActive||d.isSensor)){var g=d.activeContacts,p=g.length,m=d.collision,v=m.parentA,w=m.parentB,_=m.normal,x=m.tangent;for(f=0;f<p;f++){var b=g[f],S=b.vertex,M=b.normalImpulse,y=b.tangentImpulse;if(M!==0||y!==0){var E=_.x*M+x.x*y,C=_.y*M+x.y*y;v.isStatic||v.isSleeping||(v.positionPrev.x+=E*v.inverseMass,v.positionPrev.y+=C*v.inverseMass,v.anglePrev+=v.inverseInertia*((S.x-v.position.x)*C-(S.y-v.position.y)*E)),w.isStatic||w.isSleeping||(w.positionPrev.x-=E*w.inverseMass,w.positionPrev.y-=C*w.inverseMass,w.anglePrev-=w.inverseInertia*((S.x-w.position.x)*C-(S.y-w.position.y)*E))}}}}},r.solveVelocity=function(c,u){var h=u/o._baseDelta,f=h*h,d=f*h,g=-r._restingThresh*h,p=r._restingThreshTangent,m=r._frictionNormalMultiplier*h,v=r._frictionMaxStatic,w=c.length,_,x,b,S;for(b=0;b<w;b++){var M=c[b];if(!(!M.isActive||M.isSensor)){var y=M.collision,E=y.parentA,C=y.parentB,P=E.velocity,L=C.velocity,k=y.normal.x,A=y.normal.y,I=y.tangent.x,R=y.tangent.y,O=M.activeContacts,z=O.length,V=1/z,$=E.inverseMass+C.inverseMass,K=M.friction*M.frictionStatic*m;for(P.x=E.position.x-E.positionPrev.x,P.y=E.position.y-E.positionPrev.y,L.x=C.position.x-C.positionPrev.x,L.y=C.position.y-C.positionPrev.y,E.angularVelocity=E.angle-E.anglePrev,C.angularVelocity=C.angle-C.anglePrev,S=0;S<z;S++){var U=O[S],ee=U.vertex,Z=ee.x-E.position.x,te=ee.y-E.position.y,j=ee.x-C.position.x,ie=ee.y-C.position.y,oe=P.x-te*E.angularVelocity,ve=P.y+Z*E.angularVelocity,ge=L.x-ie*C.angularVelocity,Le=L.y+j*C.angularVelocity,Re=oe-ge,ke=ve-Le,ot=k*Re+A*ke,tt=I*Re+R*ke,lt=M.separation+ot,It=Math.min(lt,1);It=lt<0?0:It;var vt=It*K;tt<-vt||tt>vt?(x=tt>0?tt:-tt,_=M.friction*(tt>0?1:-1)*d,_<-x?_=-x:_>x&&(_=x)):(_=tt,x=v);var it=Z*A-te*k,oi=j*A-ie*k,pi=V/($+E.inverseInertia*it*it+C.inverseInertia*oi*oi),J=(1+M.restitution)*ot*pi;if(_*=pi,ot<g)U.normalImpulse=0;else{var H=U.normalImpulse;U.normalImpulse+=J,U.normalImpulse>0&&(U.normalImpulse=0),J=U.normalImpulse-H}if(tt<-p||tt>p)U.tangentImpulse=0;else{var fe=U.tangentImpulse;U.tangentImpulse+=_,U.tangentImpulse<-x&&(U.tangentImpulse=-x),U.tangentImpulse>x&&(U.tangentImpulse=x),_=U.tangentImpulse-fe}var ye=k*J+I*_,Ae=A*J+R*_;E.isStatic||E.isSleeping||(E.positionPrev.x+=ye*E.inverseMass,E.positionPrev.y+=Ae*E.inverseMass,E.anglePrev+=(Z*Ae-te*ye)*E.inverseInertia),C.isStatic||C.isSleeping||(C.positionPrev.x-=ye*C.inverseMass,C.positionPrev.y-=Ae*C.inverseMass,C.anglePrev-=(j*Ae-ie*ye)*C.inverseInertia)}}}}})()},function(t,i,n){var r={};t.exports=r;var a=n(9),o=n(0);(function(){r.create=function(l){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},r.update=function(l,c,u){var h=l.list,f=h.length,d=l.table,g=c.length,p=l.collisionStart,m=l.collisionEnd,v=l.collisionActive,w,_,x,b;for(p.length=0,m.length=0,v.length=0,b=0;b<f;b++)h[b].confirmedActive=!1;for(b=0;b<g;b++)w=c[b],x=w.pair,x?(x.isActive?v.push(x):p.push(x),a.update(x,w,u),x.confirmedActive=!0):(x=a.create(w,u),d[x.id]=x,p.push(x),h.push(x));var S=[];for(f=h.length,b=0;b<f;b++)x=h[b],x.confirmedActive||(a.setActive(x,!1,u),m.push(x),!x.collision.bodyA.isSleeping&&!x.collision.bodyB.isSleeping&&S.push(b));for(b=0;b<S.length;b++)_=S[b]-b,x=h[_],h.splice(_,1),delete d[x.id]},r.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},function(t,i,n){var r=t.exports=n(21);r.Axes=n(11),r.Bodies=n(12),r.Body=n(4),r.Bounds=n(1),r.Collision=n(8),r.Common=n(0),r.Composite=n(6),r.Composites=n(22),r.Constraint=n(10),r.Contact=n(16),r.Detector=n(13),r.Engine=n(17),r.Events=n(5),r.Grid=n(23),r.Mouse=n(14),r.MouseConstraint=n(24),r.Pair=n(9),r.Pairs=n(19),r.Plugin=n(15),r.Query=n(25),r.Render=n(26),r.Resolver=n(18),r.Runner=n(27),r.SAT=n(28),r.Sleeping=n(7),r.Svg=n(29),r.Vector=n(2),r.Vertices=n(3),r.World=n(30),r.Engine.run=r.Runner.run,r.Common.deprecated(r.Engine,"run","Engine.run âž¤ use Matter.Runner.run(engine) instead")},function(t,i,n){var r={};t.exports=r;var a=n(15),o=n(0);(function(){r.name="matter-js",r.version="0.19.0",r.uses=[],r.used=[],r.use=function(){a.use(r,Array.prototype.slice.call(arguments))},r.before=function(l,c){return l=l.replace(/^Matter./,""),o.chainPathBefore(r,l,c)},r.after=function(l,c){return l=l.replace(/^Matter./,""),o.chainPathAfter(r,l,c)}})()},function(t,i,n){var r={};t.exports=r;var a=n(6),o=n(10),l=n(0),c=n(4),u=n(12),h=l.deprecated;(function(){r.stack=function(f,d,g,p,m,v,w){for(var _=a.create({label:"Stack"}),x=f,b=d,S,M=0,y=0;y<p;y++){for(var E=0,C=0;C<g;C++){var P=w(x,b,C,y,S,M);if(P){var L=P.bounds.max.y-P.bounds.min.y,k=P.bounds.max.x-P.bounds.min.x;L>E&&(E=L),c.translate(P,{x:k*.5,y:L*.5}),x=P.bounds.max.x+m,a.addBody(_,P),S=P,M+=1}else x+=m}b+=E+v,x=f}return _},r.chain=function(f,d,g,p,m,v){for(var w=f.bodies,_=1;_<w.length;_++){var x=w[_-1],b=w[_],S=x.bounds.max.y-x.bounds.min.y,M=x.bounds.max.x-x.bounds.min.x,y=b.bounds.max.y-b.bounds.min.y,E=b.bounds.max.x-b.bounds.min.x,C={bodyA:x,pointA:{x:M*d,y:S*g},bodyB:b,pointB:{x:E*p,y:y*m}},P=l.extend(C,v);a.addConstraint(f,o.create(P))}return f.label+=" Chain",f},r.mesh=function(f,d,g,p,m){var v=f.bodies,w,_,x,b,S;for(w=0;w<g;w++){for(_=1;_<d;_++)x=v[_-1+w*d],b=v[_+w*d],a.addConstraint(f,o.create(l.extend({bodyA:x,bodyB:b},m)));if(w>0)for(_=0;_<d;_++)x=v[_+(w-1)*d],b=v[_+w*d],a.addConstraint(f,o.create(l.extend({bodyA:x,bodyB:b},m))),p&&_>0&&(S=v[_-1+(w-1)*d],a.addConstraint(f,o.create(l.extend({bodyA:S,bodyB:b},m)))),p&&_<d-1&&(S=v[_+1+(w-1)*d],a.addConstraint(f,o.create(l.extend({bodyA:S,bodyB:b},m))))}return f.label+=" Mesh",f},r.pyramid=function(f,d,g,p,m,v,w){return r.stack(f,d,g,p,m,v,function(_,x,b,S,M,y){var E=Math.min(p,Math.ceil(g/2)),C=M?M.bounds.max.x-M.bounds.min.x:0;if(!(S>E)){S=E-S;var P=S,L=g-1-S;if(!(b<P||b>L)){y===1&&c.translate(M,{x:(b+(g%2===1?1:-1))*C,y:0});var k=M?b*C:0;return w(f+k+b*m,x,b,S,M,y)}}})},r.newtonsCradle=function(f,d,g,p,m){for(var v=a.create({label:"Newtons Cradle"}),w=0;w<g;w++){var _=1.9,x=u.circle(f+w*(p*_),d+m,p,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),b=o.create({pointA:{x:f+w*(p*_),y:d},bodyB:x});a.addBody(v,x),a.addConstraint(v,b)}return v},h(r,"newtonsCradle","Composites.newtonsCradle âž¤ moved to newtonsCradle example"),r.car=function(f,d,g,p,m){var v=c.nextGroup(!0),w=20,_=-g*.5+w,x=g*.5-w,b=0,S=a.create({label:"Car"}),M=u.rectangle(f,d,g,p,{collisionFilter:{group:v},chamfer:{radius:p*.5},density:2e-4}),y=u.circle(f+_,d+b,m,{collisionFilter:{group:v},friction:.8}),E=u.circle(f+x,d+b,m,{collisionFilter:{group:v},friction:.8}),C=o.create({bodyB:M,pointB:{x:_,y:b},bodyA:y,stiffness:1,length:0}),P=o.create({bodyB:M,pointB:{x,y:b},bodyA:E,stiffness:1,length:0});return a.addBody(S,M),a.addBody(S,y),a.addBody(S,E),a.addConstraint(S,C),a.addConstraint(S,P),S},h(r,"car","Composites.car âž¤ moved to car example"),r.softBody=function(f,d,g,p,m,v,w,_,x,b){x=l.extend({inertia:1/0},x),b=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},b);var S=r.stack(f,d,g,p,m,v,function(M,y){return u.circle(M,y,_,x)});return r.mesh(S,g,p,w,b),S.label="Soft Body",S},h(r,"softBody","Composites.softBody âž¤ moved to softBody and cloth examples")})()},function(t,i,n){var r={};t.exports=r;var a=n(9),o=n(0),l=o.deprecated;(function(){r.create=function(c){var u={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return o.extend(u,c)},r.update=function(c,u,h,f){var d,g,p,m=h.world,v=c.buckets,w,_,x=!1;for(d=0;d<u.length;d++){var b=u[d];if(!(b.isSleeping&&!f)&&!(m.bounds&&(b.bounds.max.x<m.bounds.min.x||b.bounds.min.x>m.bounds.max.x||b.bounds.max.y<m.bounds.min.y||b.bounds.min.y>m.bounds.max.y))){var S=r._getRegion(c,b);if(!b.region||S.id!==b.region.id||f){(!b.region||f)&&(b.region=S);var M=r._regionUnion(S,b.region);for(g=M.startCol;g<=M.endCol;g++)for(p=M.startRow;p<=M.endRow;p++){_=r._getBucketId(g,p),w=v[_];var y=g>=S.startCol&&g<=S.endCol&&p>=S.startRow&&p<=S.endRow,E=g>=b.region.startCol&&g<=b.region.endCol&&p>=b.region.startRow&&p<=b.region.endRow;!y&&E&&E&&w&&r._bucketRemoveBody(c,w,b),(b.region===S||y&&!E||f)&&(w||(w=r._createBucket(v,_)),r._bucketAddBody(c,w,b))}b.region=S,x=!0}}}x&&(c.pairsList=r._createActivePairsList(c))},l(r,"update","Grid.update âž¤ replaced by Matter.Detector"),r.clear=function(c){c.buckets={},c.pairs={},c.pairsList=[]},l(r,"clear","Grid.clear âž¤ replaced by Matter.Detector"),r._regionUnion=function(c,u){var h=Math.min(c.startCol,u.startCol),f=Math.max(c.endCol,u.endCol),d=Math.min(c.startRow,u.startRow),g=Math.max(c.endRow,u.endRow);return r._createRegion(h,f,d,g)},r._getRegion=function(c,u){var h=u.bounds,f=Math.floor(h.min.x/c.bucketWidth),d=Math.floor(h.max.x/c.bucketWidth),g=Math.floor(h.min.y/c.bucketHeight),p=Math.floor(h.max.y/c.bucketHeight);return r._createRegion(f,d,g,p)},r._createRegion=function(c,u,h,f){return{id:c+","+u+","+h+","+f,startCol:c,endCol:u,startRow:h,endRow:f}},r._getBucketId=function(c,u){return"C"+c+"R"+u},r._createBucket=function(c,u){var h=c[u]=[];return h},r._bucketAddBody=function(c,u,h){var f=c.pairs,d=a.id,g=u.length,p;for(p=0;p<g;p++){var m=u[p];if(!(h.id===m.id||h.isStatic&&m.isStatic)){var v=d(h,m),w=f[v];w?w[2]+=1:f[v]=[h,m,1]}}u.push(h)},r._bucketRemoveBody=function(c,u,h){var f=c.pairs,d=a.id,g;u.splice(o.indexOf(u,h),1);var p=u.length;for(g=0;g<p;g++){var m=f[d(h,u[g])];m&&(m[2]-=1)}},r._createActivePairsList=function(c){var u,h=c.pairs,f=o.keys(h),d=f.length,g=[],p;for(p=0;p<d;p++)u=h[f[p]],u[2]>0?g.push(u):delete h[f[p]];return g}})()},function(t,i,n){var r={};t.exports=r;var a=n(3),o=n(7),l=n(14),c=n(5),u=n(13),h=n(10),f=n(6),d=n(0),g=n(1);(function(){r.create=function(p,m){var v=(p?p.mouse:null)||(m?m.mouse:null);v||(p&&p.render&&p.render.canvas?v=l.create(p.render.canvas):m&&m.element?v=l.create(m.element):(v=l.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var w=h.create({label:"Mouse Constraint",pointA:v.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),_={type:"mouseConstraint",mouse:v,element:null,body:null,constraint:w,collisionFilter:{category:1,mask:4294967295,group:0}},x=d.extend(_,m);return c.on(p,"beforeUpdate",function(){var b=f.allBodies(p.world);r.update(x,b),r._triggerEvents(x)}),x},r.update=function(p,m){var v=p.mouse,w=p.constraint,_=p.body;if(v.button===0){if(w.bodyB)o.set(w.bodyB,!1),w.pointA=v.position;else for(var x=0;x<m.length;x++)if(_=m[x],g.contains(_.bounds,v.position)&&u.canCollide(_.collisionFilter,p.collisionFilter))for(var b=_.parts.length>1?1:0;b<_.parts.length;b++){var S=_.parts[b];if(a.contains(S.vertices,v.position)){w.pointA=v.position,w.bodyB=p.body=_,w.pointB={x:v.position.x-_.position.x,y:v.position.y-_.position.y},w.angleB=_.angle,o.set(_,!1),c.trigger(p,"startdrag",{mouse:v,body:_});break}}}else w.bodyB=p.body=null,w.pointB=null,_&&c.trigger(p,"enddrag",{mouse:v,body:_})},r._triggerEvents=function(p){var m=p.mouse,v=m.sourceEvents;v.mousemove&&c.trigger(p,"mousemove",{mouse:m}),v.mousedown&&c.trigger(p,"mousedown",{mouse:m}),v.mouseup&&c.trigger(p,"mouseup",{mouse:m}),l.clearSourceEvents(m)}})()},function(t,i,n){var r={};t.exports=r;var a=n(2),o=n(8),l=n(1),c=n(12),u=n(3);(function(){r.collides=function(h,f){for(var d=[],g=f.length,p=h.bounds,m=o.collides,v=l.overlaps,w=0;w<g;w++){var _=f[w],x=_.parts.length,b=x===1?0:1;if(v(_.bounds,p))for(var S=b;S<x;S++){var M=_.parts[S];if(v(M.bounds,p)){var y=m(M,h);if(y){d.push(y);break}}}}return d},r.ray=function(h,f,d,g){g=g||1e-100;for(var p=a.angle(f,d),m=a.magnitude(a.sub(f,d)),v=(d.x+f.x)*.5,w=(d.y+f.y)*.5,_=c.rectangle(v,w,m,g,{angle:p}),x=r.collides(_,h),b=0;b<x.length;b+=1){var S=x[b];S.body=S.bodyB=S.bodyA}return x},r.region=function(h,f,d){for(var g=[],p=0;p<h.length;p++){var m=h[p],v=l.overlaps(m.bounds,f);(v&&!d||!v&&d)&&g.push(m)}return g},r.point=function(h,f){for(var d=[],g=0;g<h.length;g++){var p=h[g];if(l.contains(p.bounds,f))for(var m=p.parts.length===1?0:1;m<p.parts.length;m++){var v=p.parts[m];if(l.contains(v.bounds,f)&&u.contains(v.vertices,f)){d.push(p);break}}}return d}})()},function(t,i,n){var r={};t.exports=r;var a=n(4),o=n(0),l=n(6),c=n(1),u=n(5),h=n(2),f=n(14);(function(){var d,g;typeof window<"u"&&(d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(function(){b(o.now())},1e3/60)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r._goodFps=30,r._goodDelta=1e3/60,r.create=function(b){var S={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!b.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},M=o.extend(S,b);return M.canvas&&(M.canvas.width=M.options.width||M.canvas.width,M.canvas.height=M.options.height||M.canvas.height),M.mouse=b.mouse,M.engine=b.engine,M.canvas=M.canvas||v(M.options.width,M.options.height),M.context=M.canvas.getContext("2d"),M.textures={},M.bounds=M.bounds||{min:{x:0,y:0},max:{x:M.canvas.width,y:M.canvas.height}},M.controller=r,M.options.showBroadphase=!1,M.options.pixelRatio!==1&&r.setPixelRatio(M,M.options.pixelRatio),o.isElement(M.element)&&M.element.appendChild(M.canvas),M},r.run=function(b){(function S(M){b.frameRequestId=d(S),p(b,M),r.world(b,M),(b.options.showStats||b.options.showDebug)&&r.stats(b,b.context,M),(b.options.showPerformance||b.options.showDebug)&&r.performance(b,b.context,M)})()},r.stop=function(b){g(b.frameRequestId)},r.setPixelRatio=function(b,S){var M=b.options,y=b.canvas;S==="auto"&&(S=w(y)),M.pixelRatio=S,y.setAttribute("data-pixel-ratio",S),y.width=M.width*S,y.height=M.height*S,y.style.width=M.width+"px",y.style.height=M.height+"px"},r.lookAt=function(b,S,M,y){y=typeof y<"u"?y:!0,S=o.isArray(S)?S:[S],M=M||{x:0,y:0};for(var E={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},C=0;C<S.length;C+=1){var P=S[C],L=P.bounds?P.bounds.min:P.min||P.position||P,k=P.bounds?P.bounds.max:P.max||P.position||P;L&&k&&(L.x<E.min.x&&(E.min.x=L.x),k.x>E.max.x&&(E.max.x=k.x),L.y<E.min.y&&(E.min.y=L.y),k.y>E.max.y&&(E.max.y=k.y))}var A=E.max.x-E.min.x+2*M.x,I=E.max.y-E.min.y+2*M.y,R=b.canvas.height,O=b.canvas.width,z=O/R,V=A/I,$=1,K=1;V>z?K=V/z:$=z/V,b.options.hasBounds=!0,b.bounds.min.x=E.min.x,b.bounds.max.x=E.min.x+A*$,b.bounds.min.y=E.min.y,b.bounds.max.y=E.min.y+I*K,y&&(b.bounds.min.x+=A*.5-A*$*.5,b.bounds.max.x+=A*.5-A*$*.5,b.bounds.min.y+=I*.5-I*K*.5,b.bounds.max.y+=I*.5-I*K*.5),b.bounds.min.x-=M.x,b.bounds.max.x-=M.x,b.bounds.min.y-=M.y,b.bounds.max.y-=M.y,b.mouse&&(f.setScale(b.mouse,{x:(b.bounds.max.x-b.bounds.min.x)/b.canvas.width,y:(b.bounds.max.y-b.bounds.min.y)/b.canvas.height}),f.setOffset(b.mouse,b.bounds.min))},r.startViewTransform=function(b){var S=b.bounds.max.x-b.bounds.min.x,M=b.bounds.max.y-b.bounds.min.y,y=S/b.options.width,E=M/b.options.height;b.context.setTransform(b.options.pixelRatio/y,0,0,b.options.pixelRatio/E,0,0),b.context.translate(-b.bounds.min.x,-b.bounds.min.y)},r.endViewTransform=function(b){b.context.setTransform(b.options.pixelRatio,0,0,b.options.pixelRatio,0,0)},r.world=function(b,S){var M=o.now(),y=b.engine,E=y.world,C=b.canvas,P=b.context,L=b.options,k=b.timing,A=l.allBodies(E),I=l.allConstraints(E),R=L.wireframes?L.wireframeBackground:L.background,O=[],z=[],V,$={timestamp:y.timing.timestamp};if(u.trigger(b,"beforeRender",$),b.currentBackground!==R&&x(b,R),P.globalCompositeOperation="source-in",P.fillStyle="transparent",P.fillRect(0,0,C.width,C.height),P.globalCompositeOperation="source-over",L.hasBounds){for(V=0;V<A.length;V++){var K=A[V];c.overlaps(K.bounds,b.bounds)&&O.push(K)}for(V=0;V<I.length;V++){var U=I[V],ee=U.bodyA,Z=U.bodyB,te=U.pointA,j=U.pointB;ee&&(te=h.add(ee.position,U.pointA)),Z&&(j=h.add(Z.position,U.pointB)),!(!te||!j)&&(c.contains(b.bounds,te)||c.contains(b.bounds,j))&&z.push(U)}r.startViewTransform(b),b.mouse&&(f.setScale(b.mouse,{x:(b.bounds.max.x-b.bounds.min.x)/b.options.width,y:(b.bounds.max.y-b.bounds.min.y)/b.options.height}),f.setOffset(b.mouse,b.bounds.min))}else z=I,O=A,b.options.pixelRatio!==1&&b.context.setTransform(b.options.pixelRatio,0,0,b.options.pixelRatio,0,0);!L.wireframes||y.enableSleeping&&L.showSleeping?r.bodies(b,O,P):(L.showConvexHulls&&r.bodyConvexHulls(b,O,P),r.bodyWireframes(b,O,P)),L.showBounds&&r.bodyBounds(b,O,P),(L.showAxes||L.showAngleIndicator)&&r.bodyAxes(b,O,P),L.showPositions&&r.bodyPositions(b,O,P),L.showVelocity&&r.bodyVelocity(b,O,P),L.showIds&&r.bodyIds(b,O,P),L.showSeparations&&r.separations(b,y.pairs.list,P),L.showCollisions&&r.collisions(b,y.pairs.list,P),L.showVertexNumbers&&r.vertexNumbers(b,O,P),L.showMousePosition&&r.mousePosition(b,b.mouse,P),r.constraints(z,P),L.hasBounds&&r.endViewTransform(b),u.trigger(b,"afterRender",$),k.lastElapsed=o.now()-M},r.stats=function(b,S,M){for(var y=b.engine,E=y.world,C=l.allBodies(E),P=0,L=55,k=44,A=0,I=0,R=0;R<C.length;R+=1)P+=C[R].parts.length;var O={Part:P,Body:C.length,Cons:l.allConstraints(E).length,Comp:l.allComposites(E).length,Pair:y.pairs.list.length};S.fillStyle="#0e0f19",S.fillRect(A,I,L*5.5,k),S.font="12px Arial",S.textBaseline="top",S.textAlign="right";for(var z in O){var V=O[z];S.fillStyle="#aaa",S.fillText(z,A+L,I+8),S.fillStyle="#eee",S.fillText(V,A+L,I+26),A+=L}},r.performance=function(b,S){var M=b.engine,y=b.timing,E=y.deltaHistory,C=y.elapsedHistory,P=y.timestampElapsedHistory,L=y.engineDeltaHistory,k=y.engineElapsedHistory,A=M.timing.lastDelta,I=m(E),R=m(C),O=m(L),z=m(k),V=m(P),$=V/I||0,K=1e3/I||0,U=4,ee=12,Z=60,te=34,j=10,ie=69;S.fillStyle="#0e0f19",S.fillRect(0,50,ee*4+Z*5+22,te),r.status(S,j,ie,Z,U,E.length,Math.round(K)+" fps",K/r._goodFps,function(oe){return E[oe]/I-1}),r.status(S,j+ee+Z,ie,Z,U,L.length,A.toFixed(2)+" dt",r._goodDelta/A,function(oe){return L[oe]/O-1}),r.status(S,j+(ee+Z)*2,ie,Z,U,k.length,z.toFixed(2)+" ut",1-z/r._goodFps,function(oe){return k[oe]/z-1}),r.status(S,j+(ee+Z)*3,ie,Z,U,C.length,R.toFixed(2)+" rt",1-R/r._goodFps,function(oe){return C[oe]/R-1}),r.status(S,j+(ee+Z)*4,ie,Z,U,P.length,$.toFixed(2)+" x",$*$*$,function(oe){return(P[oe]/E[oe]/$||0)-1})},r.status=function(b,S,M,y,E,C,P,L,k){b.strokeStyle="#888",b.fillStyle="#444",b.lineWidth=1,b.fillRect(S,M+7,y,1),b.beginPath(),b.moveTo(S,M+7-E*o.clamp(.4*k(0),-2,2));for(var A=0;A<y;A+=1)b.lineTo(S+A,M+7-(A<C?E*o.clamp(.4*k(A),-2,2):0));b.stroke(),b.fillStyle="hsl("+o.clamp(25+95*L,0,120)+",100%,60%)",b.fillRect(S,M-7,4,4),b.font="12px Arial",b.textBaseline="middle",b.textAlign="right",b.fillStyle="#eee",b.fillText(P,S+y,M-5)},r.constraints=function(b,S){for(var M=S,y=0;y<b.length;y++){var E=b[y];if(!(!E.render.visible||!E.pointA||!E.pointB)){var C=E.bodyA,P=E.bodyB,L,k;if(C?L=h.add(C.position,E.pointA):L=E.pointA,E.render.type==="pin")M.beginPath(),M.arc(L.x,L.y,3,0,2*Math.PI),M.closePath();else{if(P?k=h.add(P.position,E.pointB):k=E.pointB,M.beginPath(),M.moveTo(L.x,L.y),E.render.type==="spring")for(var A=h.sub(k,L),I=h.perp(h.normalise(A)),R=Math.ceil(o.clamp(E.length/5,12,20)),O,z=1;z<R;z+=1)O=z%2===0?1:-1,M.lineTo(L.x+A.x*(z/R)+I.x*O*4,L.y+A.y*(z/R)+I.y*O*4);M.lineTo(k.x,k.y)}E.render.lineWidth&&(M.lineWidth=E.render.lineWidth,M.strokeStyle=E.render.strokeStyle,M.stroke()),E.render.anchors&&(M.fillStyle=E.render.strokeStyle,M.beginPath(),M.arc(L.x,L.y,3,0,2*Math.PI),M.arc(k.x,k.y,3,0,2*Math.PI),M.closePath(),M.fill())}}},r.bodies=function(b,S,M){var y=M;b.engine;var E=b.options,C=E.showInternalEdges||!E.wireframes,P,L,k,A;for(k=0;k<S.length;k++)if(P=S[k],!!P.render.visible){for(A=P.parts.length>1?1:0;A<P.parts.length;A++)if(L=P.parts[A],!!L.render.visible){if(E.showSleeping&&P.isSleeping?y.globalAlpha=.5*L.render.opacity:L.render.opacity!==1&&(y.globalAlpha=L.render.opacity),L.render.sprite&&L.render.sprite.texture&&!E.wireframes){var I=L.render.sprite,R=_(b,I.texture);y.translate(L.position.x,L.position.y),y.rotate(L.angle),y.drawImage(R,R.width*-I.xOffset*I.xScale,R.height*-I.yOffset*I.yScale,R.width*I.xScale,R.height*I.yScale),y.rotate(-L.angle),y.translate(-L.position.x,-L.position.y)}else{if(L.circleRadius)y.beginPath(),y.arc(L.position.x,L.position.y,L.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(L.vertices[0].x,L.vertices[0].y);for(var O=1;O<L.vertices.length;O++)!L.vertices[O-1].isInternal||C?y.lineTo(L.vertices[O].x,L.vertices[O].y):y.moveTo(L.vertices[O].x,L.vertices[O].y),L.vertices[O].isInternal&&!C&&y.moveTo(L.vertices[(O+1)%L.vertices.length].x,L.vertices[(O+1)%L.vertices.length].y);y.lineTo(L.vertices[0].x,L.vertices[0].y),y.closePath()}E.wireframes?(y.lineWidth=1,y.strokeStyle="#bbb",y.stroke()):(y.fillStyle=L.render.fillStyle,L.render.lineWidth&&(y.lineWidth=L.render.lineWidth,y.strokeStyle=L.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},r.bodyWireframes=function(b,S,M){var y=M,E=b.options.showInternalEdges,C,P,L,k,A;for(y.beginPath(),L=0;L<S.length;L++)if(C=S[L],!!C.render.visible)for(A=C.parts.length>1?1:0;A<C.parts.length;A++){for(P=C.parts[A],y.moveTo(P.vertices[0].x,P.vertices[0].y),k=1;k<P.vertices.length;k++)!P.vertices[k-1].isInternal||E?y.lineTo(P.vertices[k].x,P.vertices[k].y):y.moveTo(P.vertices[k].x,P.vertices[k].y),P.vertices[k].isInternal&&!E&&y.moveTo(P.vertices[(k+1)%P.vertices.length].x,P.vertices[(k+1)%P.vertices.length].y);y.lineTo(P.vertices[0].x,P.vertices[0].y)}y.lineWidth=1,y.strokeStyle="#bbb",y.stroke()},r.bodyConvexHulls=function(b,S,M){var y=M,E,C,P;for(y.beginPath(),C=0;C<S.length;C++)if(E=S[C],!(!E.render.visible||E.parts.length===1)){for(y.moveTo(E.vertices[0].x,E.vertices[0].y),P=1;P<E.vertices.length;P++)y.lineTo(E.vertices[P].x,E.vertices[P].y);y.lineTo(E.vertices[0].x,E.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},r.vertexNumbers=function(b,S,M){var y=M,E,C,P;for(E=0;E<S.length;E++){var L=S[E].parts;for(P=L.length>1?1:0;P<L.length;P++){var k=L[P];for(C=0;C<k.vertices.length;C++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(E+"_"+C,k.position.x+(k.vertices[C].x-k.position.x)*.8,k.position.y+(k.vertices[C].y-k.position.y)*.8)}}},r.mousePosition=function(b,S,M){var y=M;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(S.position.x+"  "+S.position.y,S.position.x+5,S.position.y-5)},r.bodyBounds=function(b,S,M){var y=M;b.engine;var E=b.options;y.beginPath();for(var C=0;C<S.length;C++){var P=S[C];if(P.render.visible)for(var L=S[C].parts,k=L.length>1?1:0;k<L.length;k++){var A=L[k];y.rect(A.bounds.min.x,A.bounds.min.y,A.bounds.max.x-A.bounds.min.x,A.bounds.max.y-A.bounds.min.y)}}E.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},r.bodyAxes=function(b,S,M){var y=M;b.engine;var E=b.options,C,P,L,k;for(y.beginPath(),P=0;P<S.length;P++){var A=S[P],I=A.parts;if(A.render.visible)if(E.showAxes)for(L=I.length>1?1:0;L<I.length;L++)for(C=I[L],k=0;k<C.axes.length;k++){var R=C.axes[k];y.moveTo(C.position.x,C.position.y),y.lineTo(C.position.x+R.x*20,C.position.y+R.y*20)}else for(L=I.length>1?1:0;L<I.length;L++)for(C=I[L],k=0;k<C.axes.length;k++)y.moveTo(C.position.x,C.position.y),y.lineTo((C.vertices[0].x+C.vertices[C.vertices.length-1].x)/2,(C.vertices[0].y+C.vertices[C.vertices.length-1].y)/2)}E.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},r.bodyPositions=function(b,S,M){var y=M;b.engine;var E=b.options,C,P,L,k;for(y.beginPath(),L=0;L<S.length;L++)if(C=S[L],!!C.render.visible)for(k=0;k<C.parts.length;k++)P=C.parts[k],y.arc(P.position.x,P.position.y,3,0,2*Math.PI,!1),y.closePath();for(E.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),L=0;L<S.length;L++)C=S[L],C.render.visible&&(y.arc(C.positionPrev.x,C.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},r.bodyVelocity=function(b,S,M){var y=M;y.beginPath();for(var E=0;E<S.length;E++){var C=S[E];if(C.render.visible){var P=a.getVelocity(C);y.moveTo(C.position.x,C.position.y),y.lineTo(C.position.x+P.x,C.position.y+P.y)}}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},r.bodyIds=function(b,S,M){var y=M,E,C;for(E=0;E<S.length;E++)if(S[E].render.visible){var P=S[E].parts;for(C=P.length>1?1:0;C<P.length;C++){var L=P[C];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(L.id,L.position.x+10,L.position.y-10)}}},r.collisions=function(b,S,M){var y=M,E=b.options,C,P,L,k;for(y.beginPath(),L=0;L<S.length;L++)if(C=S[L],!!C.isActive)for(P=C.collision,k=0;k<C.activeContacts.length;k++){var A=C.activeContacts[k],I=A.vertex;y.rect(I.x-1.5,I.y-1.5,3.5,3.5)}for(E.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),L=0;L<S.length;L++)if(C=S[L],!!C.isActive&&(P=C.collision,C.activeContacts.length>0)){var R=C.activeContacts[0].vertex.x,O=C.activeContacts[0].vertex.y;C.activeContacts.length===2&&(R=(C.activeContacts[0].vertex.x+C.activeContacts[1].vertex.x)/2,O=(C.activeContacts[0].vertex.y+C.activeContacts[1].vertex.y)/2),P.bodyB===P.supports[0].body||P.bodyA.isStatic===!0?y.moveTo(R-P.normal.x*8,O-P.normal.y*8):y.moveTo(R+P.normal.x*8,O+P.normal.y*8),y.lineTo(R,O)}E.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},r.separations=function(b,S,M){var y=M,E=b.options,C,P,L,k,A;for(y.beginPath(),A=0;A<S.length;A++)if(C=S[A],!!C.isActive){P=C.collision,L=P.bodyA,k=P.bodyB;var I=1;!k.isStatic&&!L.isStatic&&(I=.5),k.isStatic&&(I=0),y.moveTo(k.position.x,k.position.y),y.lineTo(k.position.x-P.penetration.x*I,k.position.y-P.penetration.y*I),I=1,!k.isStatic&&!L.isStatic&&(I=.5),L.isStatic&&(I=0),y.moveTo(L.position.x,L.position.y),y.lineTo(L.position.x+P.penetration.x*I,L.position.y+P.penetration.y*I)}E.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},r.inspector=function(b,S){b.engine;var M=b.selected,y=b.render,E=y.options,C;if(E.hasBounds){var P=y.bounds.max.x-y.bounds.min.x,L=y.bounds.max.y-y.bounds.min.y,k=P/y.options.width,A=L/y.options.height;S.scale(1/k,1/A),S.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var I=0;I<M.length;I++){var R=M[I].data;switch(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.9)",S.setLineDash([1,2]),R.type){case"body":C=R.bounds,S.beginPath(),S.rect(Math.floor(C.min.x-3),Math.floor(C.min.y-3),Math.floor(C.max.x-C.min.x+6),Math.floor(C.max.y-C.min.y+6)),S.closePath(),S.stroke();break;case"constraint":var O=R.pointA;R.bodyA&&(O=R.pointB),S.beginPath(),S.arc(O.x,O.y,10,0,2*Math.PI),S.closePath(),S.stroke();break}S.setLineDash([]),S.translate(-.5,-.5)}b.selectStart!==null&&(S.translate(.5,.5),S.lineWidth=1,S.strokeStyle="rgba(255,165,0,0.6)",S.fillStyle="rgba(255,165,0,0.1)",C=b.selectBounds,S.beginPath(),S.rect(Math.floor(C.min.x),Math.floor(C.min.y),Math.floor(C.max.x-C.min.x),Math.floor(C.max.y-C.min.y)),S.closePath(),S.stroke(),S.fill(),S.translate(-.5,-.5)),E.hasBounds&&S.setTransform(1,0,0,1,0,0)};var p=function(b,S){var M=b.engine,y=b.timing,E=y.historySize,C=M.timing.timestamp;y.delta=S-y.lastTime||r._goodDelta,y.lastTime=S,y.timestampElapsed=C-y.lastTimestamp||0,y.lastTimestamp=C,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,E),y.engineDeltaHistory.unshift(M.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,E),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,E),y.engineElapsedHistory.unshift(M.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,E),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,E)},m=function(b){for(var S=0,M=0;M<b.length;M+=1)S+=b[M];return S/b.length||0},v=function(b,S){var M=document.createElement("canvas");return M.width=b,M.height=S,M.oncontextmenu=function(){return!1},M.onselectstart=function(){return!1},M},w=function(b){var S=b.getContext("2d"),M=window.devicePixelRatio||1,y=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return M/y},_=function(b,S){var M=b.textures[S];return M||(M=b.textures[S]=new Image,M.src=S,M)},x=function(b,S){var M=S;/(jpg|gif|png)$/.test(S)&&(M="url("+S+")"),b.canvas.style.background=M,b.canvas.style.backgroundSize="contain",b.currentBackground=S}})()},function(t,i,n){var r={};t.exports=r;var a=n(5),o=n(17),l=n(0);(function(){var c,u;if(typeof window<"u"&&(c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!c){var h;c=function(f){h=setTimeout(function(){f(l.now())},1e3/60)},u=function(){clearTimeout(h)}}r.create=function(f){var d={fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},g=l.extend(d,f);return g.delta=g.delta||1e3/g.fps,g.deltaMin=g.deltaMin||1e3/g.fps,g.deltaMax=g.deltaMax||1e3/(g.fps*.5),g.fps=1e3/g.delta,g},r.run=function(f,d){return typeof f.positionIterations<"u"&&(d=f,f=r.create()),function g(p){f.frameRequestId=c(g),p&&f.enabled&&r.tick(f,d,p)}(),f},r.tick=function(f,d,g){var p=d.timing,m;f.isFixed?m=f.delta:(m=g-f.timePrev||f.delta,f.timePrev=g,f.deltaHistory.push(m),f.deltaHistory=f.deltaHistory.slice(-f.deltaSampleSize),m=Math.min.apply(null,f.deltaHistory),m=m<f.deltaMin?f.deltaMin:m,m=m>f.deltaMax?f.deltaMax:m,f.delta=m);var v={timestamp:p.timestamp};a.trigger(f,"beforeTick",v),f.frameCounter+=1,g-f.counterTimestamp>=1e3&&(f.fps=f.frameCounter*((g-f.counterTimestamp)/1e3),f.counterTimestamp=g,f.frameCounter=0),a.trigger(f,"tick",v),a.trigger(f,"beforeUpdate",v),o.update(d,m),a.trigger(f,"afterUpdate",v),a.trigger(f,"afterTick",v)},r.stop=function(f){u(f.frameRequestId)},r.start=function(f,d){r.run(f,d)}})()},function(t,i,n){var r={};t.exports=r;var a=n(8),o=n(0),l=o.deprecated;(function(){r.collides=function(c,u){return a.collides(c,u)},l(r,"collides","SAT.collides âž¤ replaced by Collision.collides")})()},function(t,i,n){var r={};t.exports=r,n(1);var a=n(0);(function(){r.pathToVertices=function(o,l){typeof window<"u"&&!("SVGPathSeg"in window)&&a.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var c,u,h,f,d,g,p,m,v,w,_=[],x,b,S=0,M=0,y=0;l=l||15;var E=function(P,L,k){var A=k%2===1&&k>1;if(!v||P!=v.x||L!=v.y){v&&A?(x=v.x,b=v.y):(x=0,b=0);var I={x:x+P,y:b+L};(A||!v)&&(v=I),_.push(I),M=x+P,y=b+L}},C=function(P){var L=P.pathSegTypeAsLetter.toUpperCase();if(L!=="Z"){switch(L){case"M":case"L":case"T":case"C":case"S":case"Q":M=P.x,y=P.y;break;case"H":M=P.x;break;case"V":y=P.y;break}E(M,y,P.pathSegType)}};for(r._svgPathToAbsolute(o),h=o.getTotalLength(),g=[],c=0;c<o.pathSegList.numberOfItems;c+=1)g.push(o.pathSegList.getItem(c));for(p=g.concat();S<h;){if(w=o.getPathSegAtLength(S),d=g[w],d!=m){for(;p.length&&p[0]!=d;)C(p.shift());m=d}switch(d.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=o.getPointAtLength(S),E(f.x,f.y,0);break}S+=l}for(c=0,u=p.length;c<u;++c)C(p[c]);return _},r._svgPathToAbsolute=function(o){for(var l,c,u,h,f,d,g=o.pathSegList,p=0,m=0,v=g.numberOfItems,w=0;w<v;++w){var _=g.getItem(w),x=_.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in _&&(p=_.x),"y"in _&&(m=_.y);else switch("x1"in _&&(u=p+_.x1),"x2"in _&&(f=p+_.x2),"y1"in _&&(h=m+_.y1),"y2"in _&&(d=m+_.y2),"x"in _&&(p+=_.x),"y"in _&&(m+=_.y),x){case"m":g.replaceItem(o.createSVGPathSegMovetoAbs(p,m),w);break;case"l":g.replaceItem(o.createSVGPathSegLinetoAbs(p,m),w);break;case"h":g.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(p),w);break;case"v":g.replaceItem(o.createSVGPathSegLinetoVerticalAbs(m),w);break;case"c":g.replaceItem(o.createSVGPathSegCurvetoCubicAbs(p,m,u,h,f,d),w);break;case"s":g.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(p,m,f,d),w);break;case"q":g.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(p,m,u,h),w);break;case"t":g.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(p,m),w);break;case"a":g.replaceItem(o.createSVGPathSegArcAbs(p,m,_.r1,_.r2,_.angle,_.largeArcFlag,_.sweepFlag),w);break;case"z":case"Z":p=l,m=c;break}(x=="M"||x=="m")&&(l=p,c=m)}}})()},function(t,i,n){var r={};t.exports=r;var a=n(6);n(0),function(){r.create=a.create,r.add=a.add,r.remove=a.remove,r.clear=a.clear,r.addComposite=a.addComposite,r.addBody=a.addBody,r.addConstraint=a.addConstraint}()}])})})(Lg);var rn=Lg.exports;class Lb{constructor(e={}){var i,n;this.config={align:e.align||"center",wrapper:e.wrapper||null,parent:e.parent||null,child:((i=e.wrapper)==null?void 0:i.children[0])||null,measureEl:e.measureEl||e.parent||null,elements:e.elements||[],margin:e.margin||10,break:window.innerWidth>768?30:15,shift:e.shift||30,delay:e.delay||250,runOnce:e.runOnce||!0,carousel:((n=e.wrapper)==null?void 0:n.closest(".swiper"))||null};let t=0;if(this.config.carousel){this.config.slideCloneElements=[];let r=setInterval(()=>{this.config.slide=this.config.wrapper.closest(".swiper-slide"),this.config.slideClones=this.config.carousel.querySelectorAll(`.swiper-slide-duplicate[data-swiper-slide-index="${this.config.slide.dataset.swiperSlideIndex}"]`),[...this.config.slideClones].forEach(a=>{this.config.slideCloneElements.push(a.querySelectorAll(".gravity-line"))}),(this.config.slideCloneElements.length>0||t===10)&&clearInterval(r),t++},200)}this.Engine=rn.Engine,this.Bodies=rn.Bodies,this.Render=rn.Render,this.Runner=rn.Runner,this.Composite=rn.Composite,this.Sleeping=rn.Sleeping,this.gravity=e.gravity||1,this.system={},this.system.engine=this.Engine.create({enableSleeping:!0}),this.system.world=this.system.engine.world,this.system.engine.gravity.y=0,this.raf=null,this.stop=!1,this.measure=!1,this.hasRun=!1,this.init()}init(){let e=this.config.measureEl.getBoundingClientRect(),t=this.config.parent.getBoundingClientRect(),i=Math.round(e.bottom-t.bottom);this.system.render=this.Render.create({engine:this.system.engine,element:this.config.wrapper,options:{background:"transparent",enabled:!0,height:i+this.config.shift,width:t.width,wireframeBackground:"black",wireframes:!0,hasBounds:!1,showSleeping:!0,showDebug:!1,showBroadphase:!0,showBounds:!0,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}}),this.system.render.canvas.classList.add("gravity-canvas"),this.system.runner=this.Runner.create(),this.Runner.run(this.system.runner,this.system.engine),this.canvasBounds=this.system.render.canvas.getBoundingClientRect(),this.system.worldBounds=[this.Bodies.rectangle(this.canvasBounds.width/2,this.canvasBounds.height+50,this.canvasBounds.width+200,100,{isStatic:!0,restitution:0,friction:5}),this.Bodies.rectangle(this.canvasBounds.width/2,-50-this.config.shift,this.canvasBounds.width+200,100,{isStatic:!0,restitution:0,friction:5}),this.Bodies.rectangle(-50,this.canvasBounds.height/2,100,this.canvasBounds.height,{isStatic:!0,restitution:0,friction:5}),this.Bodies.rectangle(this.canvasBounds.width+50,this.canvasBounds.height/2,100,this.canvasBounds.height,{isStatic:!0,restitution:0,friction:5})],this.Composite.add(this.system.world,this.system.worldBounds),this.system.bodies=[];let n=0;[...this.config.elements].forEach((r,a)=>{let o=r.getBoundingClientRect(),l=Math.ceil(Math.random()*this.config.break),c=Math.ceil(Math.random()*45)*(Math.round(Math.random())?1:-1)/1e3,u=this.canvasBounds.width/2+l*(Math.round(Math.random())?1:-1),h=o.width/2+l,f=n+o.height+this.config.margin;this.config.align==="left"&&(u=h),n=f;let d=this.Bodies.rectangle(u,f,o.width,o.height,{restitution:0,friction:2,frictionAir:0,frictionStatic:50,density:100+50*a,angle:c});this.config.elements[a].bounds=o,this.config.elements[a].id="body_"+d.id,this.system.bodies.push(d)}),this.Composite.add(this.system.engine.world,this.system.bodies),this.update()}update(){var t;if(this.stop===!0)return;if(this.system.bodies.filter(i=>i.isSleeping).length===this.system.bodies.length){this.stop=!0;return}for(let i=0,n=this.config.elements.length;i<n;i++){let r=this.config.elements[i],a=this.system.bodies[i];if(a.isSleeping)continue;let o=Math.round(a.bounds.max.x-a.bounds.min.x),l=o>this.config.child.clientWidth?this.config.child.clientWidth-o:0,c=r.dataset.origX,u=r.dataset.origY;c||(r.dataset.origX=a.position.x),u||(r.dataset.origY=a.position.y);let h=Math.round(a.position.x-this.canvasBounds.width/2)+l/2,f=Math.round(a.position.x)-o/2-this.config.break,d=Math.ceil(r.offsetHeight/2)+this.config.margin+this.config.margin*i;this.config.align==="left"&&(h=f);let g=c?a.position.x-c:0,p=u?a.position.y-u:0;r.style.transform=`translate(${h+g}px, ${d+p}px)`,r.style.transform+=`rotate(${a.angle}rad)`,((t=this.config.slideCloneElements)==null?void 0:t.length)>0&&[...this.config.slideCloneElements].forEach(m=>{m[i]&&(m[i].style.transform=`translate(${h+g}px, ${d+p}px)`,m[i].style.transform+=`rotate(${a.angle}rad)`)})}if(this.measure=!1){this.measure=!0;return}this.raf=window.requestAnimationFrame(this.update.bind(this))}run(){this.config.runOnce===!0&&this.hasRun===!0||setTimeout(()=>{this.system.world.gravity.y=this.gravity,[...this.system.bodies].forEach(e=>this.Sleeping.set(e,!1)),this.stop=!1,this.hasRun=!0,this.raf=window.requestAnimationFrame(this.update.bind(this)),console.log("delay 3")},this.config.delay)}stop(){this.stop=!0}}function jf(s){let e,t,i,n,r;const a=[Pb,kb],o=[];function l(c,u){return c[0]?0:1}return i=l(s),n=o[i]=a[i](s),{c(){e=Y("div"),t=Y("div"),n.c(),this.h()},l(c){e=q(c,"DIV",{class:!0,style:!0,"data-active":!0});var u=G(e);t=q(u,"DIV",{class:!0,style:!0});var h=G(t);n.l(h),h.forEach(D),u.forEach(D),this.h()},h(){T(t,"class","gravity-text relative cx"),Ce(t,"text-align",s[1]),T(e,"class","z-[1] h-0 mt-[30px] pointer-events-none"),Ce(e,"--max-width",s[3]+"px"),Ce(e,"--font-size",s[4]+"px"),Ce(e,"width","100%"),T(e,"data-active",s[2])},m(c,u){Q(c,e,u),B(e,t),o[i].m(t,null),s[15](t),r=!0},p(c,u){let h=i;i=l(c),i===h?o[i].p(c,u):(Se(),W(o[h],1,1,()=>{o[h]=null}),Me(),n=o[i],n?n.p(c,u):(n=o[i]=a[i](c),n.c()),F(n,1),n.m(t,null)),(!r||u&2)&&Ce(t,"text-align",c[1]),(!r||u&8)&&Ce(e,"--max-width",c[3]+"px"),(!r||u&16)&&Ce(e,"--font-size",c[4]+"px"),(!r||u&4)&&T(e,"data-active",c[2])},i(c){r||(F(n),r=!0)},o(c){W(n),r=!1},d(c){c&&D(e),o[i].d(),s[15](null)}}}function kb(s){let e;const t=s[13].default,i=Yr(t,s,s[12],null);return{c(){i&&i.c()},l(n){i&&i.l(n)},m(n,r){i&&i.m(n,r),e=!0},p(n,r){i&&i.p&&(!e||r&4096)&&qr(i,t,n,n[12],e?Zr(t,n[12],r,null):Xr(n[12]),null)},i(n){e||(F(i,n),e=!0)},o(n){W(i,n),e=!1},d(n){i&&i.d(n)}}}function Pb(s){let e,t=Ut(s[0])+"",i,n,r;return{c(){e=Y("div"),i=je(t),this.h()},l(a){e=q(a,"DIV",{class:!0,style:!0});var o=G(e);i=Ye(o,t),o.forEach(D),this.h()},h(){T(e,"class",n="w-full m-auto max-w-[var(--max-width)] "+(s[5]===!1?"text-[length:var(--font-size)]":"split-sizing")),T(e,"style",r=s[5]===!1?`font-size:${s[4]}px;`:"")},m(a,o){Q(a,e,o),B(e,i)},p(a,o){o&1&&t!==(t=Ut(a[0])+"")&&ut(i,t),o&32&&n!==(n="w-full m-auto max-w-[var(--max-width)] "+(a[5]===!1?"text-[length:var(--font-size)]":"split-sizing"))&&T(e,"class",n),o&48&&r!==(r=a[5]===!1?`font-size:${a[4]}px;`:"")&&T(e,"style",r)},i:Pe,o:Pe,d(a){a&&D(e)}}}function Db(s){let e,t,i,n;gt(s[14]);let r=s[0]&&jf(s);return{c(){r&&r.c(),e=ue()},l(a){r&&r.l(a),e=ue()},m(a,o){r&&r.m(a,o),Q(a,e,o),t=!0,i||(n=Qe(window,"resize",s[14]),i=!0)},p(a,[o]){a[0]?r?(r.p(a,o),o&1&&F(r,1)):(r=jf(a),r.c(),F(r,1),r.m(e.parentNode,e)):r&&(Se(),W(r,1,1,()=>{r=null}),Me())},i(a){t||(F(r),t=!0)},o(a){W(r),t=!1},d(a){a&&D(e),r&&r.d(a),i=!1,n()}}}function Ib(s,e,t){let i,n;Yt(s,Xt,b=>t(17,n=b));let{$$slots:r={},$$scope:a}=e,{content:o=null}=e,{align:l="center"}=e,{active:c}=e,{inView:u}=e,{children:h=null}=e,{maxWidth:f=420}=e,{fontSize:d=22}=e,{theme:g=null}=e,{splitSizing:p=!1}=e,m,v,w;Pi(()=>{Ht.registerPlugin(ef);let b=h??m.children;setTimeout(()=>{v=new ef(b,{type:"lines",linesClass:"gravity-line",lineThreshold:.5}),[...v.lines].forEach(S=>{let M=S.clientWidth,y=i>768&&n.split===!1?30:15;S.style.width=`${M+y*2}px`,S.style.textAlign="center",g&&S.classList.add(`theme-${g}`)}),t(11,w=new Lb({align:l,split:n.split,wrapper:m,parent:m.parentElement,elements:v.lines,measureEl:m.closest(".text-measure")}))},100)});function _(){t(7,i=window.innerWidth)}function x(b){Mt[b?"unshift":"push"](()=>{m=b,t(6,m)})}return s.$$set=b=>{"content"in b&&t(0,o=b.content),"align"in b&&t(1,l=b.align),"active"in b&&t(2,c=b.active),"inView"in b&&t(8,u=b.inView),"children"in b&&t(9,h=b.children),"maxWidth"in b&&t(3,f=b.maxWidth),"fontSize"in b&&t(4,d=b.fontSize),"theme"in b&&t(10,g=b.theme),"splitSizing"in b&&t(5,p=b.splitSizing),"$$scope"in b&&t(12,a=b.$$scope)},s.$$.update=()=>{s.$$.dirty&2308&&w&&c&&u&&w.run()},t(7,i=null),[o,l,c,f,d,p,m,i,u,h,g,w,a,r,_,x]}class vu extends nt{constructor(e){super(),st(this,e,Ib,Db,Ge,{content:0,align:1,active:2,inView:8,children:9,maxWidth:3,fontSize:4,theme:10,splitSizing:5})}}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var kg;function Ie(){return kg.apply(null,arguments)}function Rb(s){kg=s}function bn(s){return s instanceof Array||Object.prototype.toString.call(s)==="[object Array]"}function js(s){return s!=null&&Object.prototype.toString.call(s)==="[object Object]"}function Et(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function _u(s){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(s).length===0;var e;for(e in s)if(Et(s,e))return!1;return!0}function Fi(s){return s===void 0}function as(s){return typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]"}function qa(s){return s instanceof Date||Object.prototype.toString.call(s)==="[object Date]"}function Pg(s,e){var t=[],i,n=s.length;for(i=0;i<n;++i)t.push(e(s[i],i));return t}function _s(s,e){for(var t in e)Et(e,t)&&(s[t]=e[t]);return Et(e,"toString")&&(s.toString=e.toString),Et(e,"valueOf")&&(s.valueOf=e.valueOf),s}function zn(s,e,t,i){return t0(s,e,t,i,!0).utc()}function zb(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ct(s){return s._pf==null&&(s._pf=zb()),s._pf}var Nc;Array.prototype.some?Nc=Array.prototype.some:Nc=function(s){var e=Object(this),t=e.length>>>0,i;for(i=0;i<t;i++)if(i in e&&s.call(this,e[i],i,e))return!0;return!1};function wu(s){if(s._isValid==null){var e=ct(s),t=Nc.call(e.parsedDateParts,function(n){return n!=null}),i=!isNaN(s._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(s._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(s))s._isValid=i;else return i}return s._isValid}function fl(s){var e=zn(NaN);return s!=null?_s(ct(e),s):ct(e).userInvalidated=!0,e}var Yf=Ie.momentProperties=[],Gl=!1;function bu(s,e){var t,i,n,r=Yf.length;if(Fi(e._isAMomentObject)||(s._isAMomentObject=e._isAMomentObject),Fi(e._i)||(s._i=e._i),Fi(e._f)||(s._f=e._f),Fi(e._l)||(s._l=e._l),Fi(e._strict)||(s._strict=e._strict),Fi(e._tzm)||(s._tzm=e._tzm),Fi(e._isUTC)||(s._isUTC=e._isUTC),Fi(e._offset)||(s._offset=e._offset),Fi(e._pf)||(s._pf=ct(e)),Fi(e._locale)||(s._locale=e._locale),r>0)for(t=0;t<r;t++)i=Yf[t],n=e[i],Fi(n)||(s[i]=n);return s}function Xa(s){bu(this,s),this._d=new Date(s._d!=null?s._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Gl===!1&&(Gl=!0,Ie.updateOffset(this),Gl=!1)}function yn(s){return s instanceof Xa||s!=null&&s._isAMomentObject!=null}function Dg(s){Ie.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+s)}function un(s,e){var t=!0;return _s(function(){if(Ie.deprecationHandler!=null&&Ie.deprecationHandler(null,s),t){var i=[],n,r,a,o=arguments.length;for(r=0;r<o;r++){if(n="",typeof arguments[r]=="object"){n+=`
[`+r+"] ";for(a in arguments[0])Et(arguments[0],a)&&(n+=a+": "+arguments[0][a]+", ");n=n.slice(0,-2)}else n=arguments[r];i.push(n)}Dg(s+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var qf={};function Ig(s,e){Ie.deprecationHandler!=null&&Ie.deprecationHandler(s,e),qf[s]||(Dg(e),qf[s]=!0)}Ie.suppressDeprecationWarnings=!1;Ie.deprecationHandler=null;function Fn(s){return typeof Function<"u"&&s instanceof Function||Object.prototype.toString.call(s)==="[object Function]"}function Fb(s){var e,t;for(t in s)Et(s,t)&&(e=s[t],Fn(e)?this[t]=e:this["_"+t]=e);this._config=s,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Bc(s,e){var t=_s({},s),i;for(i in e)Et(e,i)&&(js(s[i])&&js(e[i])?(t[i]={},_s(t[i],s[i]),_s(t[i],e[i])):e[i]!=null?t[i]=e[i]:delete t[i]);for(i in s)Et(s,i)&&!Et(e,i)&&js(s[i])&&(t[i]=_s({},t[i]));return t}function yu(s){s!=null&&this.set(s)}var Vc;Object.keys?Vc=Object.keys:Vc=function(s){var e,t=[];for(e in s)Et(s,e)&&t.push(e);return t};var Ob={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Nb(s,e,t){var i=this._calendar[s]||this._calendar.sameElse;return Fn(i)?i.call(e,t):i}function Dn(s,e,t){var i=""+Math.abs(s),n=e-i.length,r=s>=0;return(r?t?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+i}var xu=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,no=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Hl={},Pr={};function He(s,e,t,i){var n=i;typeof i=="string"&&(n=function(){return this[i]()}),s&&(Pr[s]=n),e&&(Pr[e[0]]=function(){return Dn(n.apply(this,arguments),e[1],e[2])}),t&&(Pr[t]=function(){return this.localeData().ordinal(n.apply(this,arguments),s)})}function Bb(s){return s.match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"")}function Vb(s){var e=s.match(xu),t,i;for(t=0,i=e.length;t<i;t++)Pr[e[t]]?e[t]=Pr[e[t]]:e[t]=Bb(e[t]);return function(n){var r="",a;for(a=0;a<i;a++)r+=Fn(e[a])?e[a].call(n,s):e[a];return r}}function Ro(s,e){return s.isValid()?(e=Rg(e,s.localeData()),Hl[e]=Hl[e]||Vb(e),Hl[e](s)):s.localeData().invalidDate()}function Rg(s,e){var t=5;function i(n){return e.longDateFormat(n)||n}for(no.lastIndex=0;t>=0&&no.test(s);)s=s.replace(no,i),no.lastIndex=0,t-=1;return s}var Ub={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Wb(s){var e=this._longDateFormat[s],t=this._longDateFormat[s.toUpperCase()];return e||!t?e:(this._longDateFormat[s]=t.match(xu).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[s])}var Gb="Invalid date";function Hb(){return this._invalidDate}var jb="%d",Yb=/\d{1,2}/;function qb(s){return this._ordinal.replace("%d",s)}var Xb={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Zb(s,e,t,i){var n=this._relativeTime[t];return Fn(n)?n(s,e,t,i):n.replace(/%d/i,s)}function $b(s,e){var t=this._relativeTime[s>0?"future":"past"];return Fn(t)?t(e):t.replace(/%s/i,e)}var Ea={};function Si(s,e){var t=s.toLowerCase();Ea[t]=Ea[t+"s"]=Ea[e]=s}function fn(s){return typeof s=="string"?Ea[s]||Ea[s.toLowerCase()]:void 0}function Su(s){var e={},t,i;for(i in s)Et(s,i)&&(t=fn(i),t&&(e[t]=s[i]));return e}var zg={};function Mi(s,e){zg[s]=e}function Kb(s){var e=[],t;for(t in s)Et(s,t)&&e.push({unit:t,priority:zg[t]});return e.sort(function(i,n){return i.priority-n.priority}),e}function dl(s){return s%4===0&&s%100!==0||s%400===0}function an(s){return s<0?Math.ceil(s)||0:Math.floor(s)}function pt(s){var e=+s,t=0;return e!==0&&isFinite(e)&&(t=an(e)),t}function Jr(s,e){return function(t){return t!=null?(Fg(this,s,t),Ie.updateOffset(this,e),this):Ho(this,s)}}function Ho(s,e){return s.isValid()?s._d["get"+(s._isUTC?"UTC":"")+e]():NaN}function Fg(s,e,t){s.isValid()&&!isNaN(t)&&(e==="FullYear"&&dl(s.year())&&s.month()===1&&s.date()===29?(t=pt(t),s._d["set"+(s._isUTC?"UTC":"")+e](t,s.month(),_l(t,s.month()))):s._d["set"+(s._isUTC?"UTC":"")+e](t))}function Jb(s){return s=fn(s),Fn(this[s])?this[s]():this}function Qb(s,e){if(typeof s=="object"){s=Su(s);var t=Kb(s),i,n=t.length;for(i=0;i<n;i++)this[t[i].unit](s[t[i].unit])}else if(s=fn(s),Fn(this[s]))return this[s](e);return this}var Og=/\d/,en=/\d\d/,Ng=/\d{3}/,Mu=/\d{4}/,hl=/[+-]?\d{6}/,Ot=/\d\d?/,Bg=/\d\d\d\d?/,Vg=/\d\d\d\d\d\d?/,pl=/\d{1,3}/,Eu=/\d{1,4}/,ml=/[+-]?\d{1,6}/,Qr=/\d+/,gl=/[+-]?\d+/,ey=/Z|[+-]\d\d:?\d\d/gi,vl=/Z|[+-]\d\d(?::?\d\d)?/gi,ty=/[+-]?\d+(\.\d{1,3})?/,Za=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,jo;jo={};function Ne(s,e,t){jo[s]=Fn(e)?e:function(i,n){return i&&t?t:e}}function iy(s,e){return Et(jo,s)?jo[s](e._strict,e._locale):new RegExp(ny(s))}function ny(s){return qi(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r}))}function qi(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Uc={};function Dt(s,e){var t,i=e,n;for(typeof s=="string"&&(s=[s]),as(e)&&(i=function(r,a){a[e]=pt(r)}),n=s.length,t=0;t<n;t++)Uc[s[t]]=i}function $a(s,e){Dt(s,function(t,i,n,r){n._w=n._w||{},e(t,n._w,n,r)})}function sy(s,e,t){e!=null&&Et(Uc,s)&&Uc[s](e,t._a,t,s)}var xi=0,Jn=1,Ln=2,ni=3,wn=4,Qn=5,Us=6,ry=7,ay=8;function oy(s,e){return(s%e+e)%e}var qt;Array.prototype.indexOf?qt=Array.prototype.indexOf:qt=function(s){var e;for(e=0;e<this.length;++e)if(this[e]===s)return e;return-1};function _l(s,e){if(isNaN(s)||isNaN(e))return NaN;var t=oy(e,12);return s+=(e-t)/12,t===1?dl(s)?29:28:31-t%7%2}He("M",["MM",2],"Mo",function(){return this.month()+1});He("MMM",0,0,function(s){return this.localeData().monthsShort(this,s)});He("MMMM",0,0,function(s){return this.localeData().months(this,s)});Si("month","M");Mi("month",8);Ne("M",Ot);Ne("MM",Ot,en);Ne("MMM",function(s,e){return e.monthsShortRegex(s)});Ne("MMMM",function(s,e){return e.monthsRegex(s)});Dt(["M","MM"],function(s,e){e[Jn]=pt(s)-1});Dt(["MMM","MMMM"],function(s,e,t,i){var n=t._locale.monthsParse(s,i,t._strict);n!=null?e[Jn]=n:ct(t).invalidMonth=s});var ly="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ug="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Wg=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cy=Za,uy=Za;function fy(s,e){return s?bn(this._months)?this._months[s.month()]:this._months[(this._months.isFormat||Wg).test(e)?"format":"standalone"][s.month()]:bn(this._months)?this._months:this._months.standalone}function dy(s,e){return s?bn(this._monthsShort)?this._monthsShort[s.month()]:this._monthsShort[Wg.test(e)?"format":"standalone"][s.month()]:bn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function hy(s,e,t){var i,n,r,a=s.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=zn([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return t?e==="MMM"?(n=qt.call(this._shortMonthsParse,a),n!==-1?n:null):(n=qt.call(this._longMonthsParse,a),n!==-1?n:null):e==="MMM"?(n=qt.call(this._shortMonthsParse,a),n!==-1?n:(n=qt.call(this._longMonthsParse,a),n!==-1?n:null)):(n=qt.call(this._longMonthsParse,a),n!==-1?n:(n=qt.call(this._shortMonthsParse,a),n!==-1?n:null))}function py(s,e,t){var i,n,r;if(this._monthsParseExact)return hy.call(this,s,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(n=zn([2e3,i]),t&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),!t&&!this._monthsParse[i]&&(r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[i].test(s))return i;if(t&&e==="MMM"&&this._shortMonthsParse[i].test(s))return i;if(!t&&this._monthsParse[i].test(s))return i}}function Gg(s,e){var t;if(!s.isValid())return s;if(typeof e=="string"){if(/^\d+$/.test(e))e=pt(e);else if(e=s.localeData().monthsParse(e),!as(e))return s}return t=Math.min(s.date(),_l(s.year(),e)),s._d["set"+(s._isUTC?"UTC":"")+"Month"](e,t),s}function Hg(s){return s!=null?(Gg(this,s),Ie.updateOffset(this,!0),this):Ho(this,"Month")}function my(){return _l(this.year(),this.month())}function gy(s){return this._monthsParseExact?(Et(this,"_monthsRegex")||jg.call(this),s?this._monthsShortStrictRegex:this._monthsShortRegex):(Et(this,"_monthsShortRegex")||(this._monthsShortRegex=cy),this._monthsShortStrictRegex&&s?this._monthsShortStrictRegex:this._monthsShortRegex)}function vy(s){return this._monthsParseExact?(Et(this,"_monthsRegex")||jg.call(this),s?this._monthsStrictRegex:this._monthsRegex):(Et(this,"_monthsRegex")||(this._monthsRegex=uy),this._monthsStrictRegex&&s?this._monthsStrictRegex:this._monthsRegex)}function jg(){function s(a,o){return o.length-a.length}var e=[],t=[],i=[],n,r;for(n=0;n<12;n++)r=zn([2e3,n]),e.push(this.monthsShort(r,"")),t.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(e.sort(s),t.sort(s),i.sort(s),n=0;n<12;n++)e[n]=qi(e[n]),t[n]=qi(t[n]);for(n=0;n<24;n++)i[n]=qi(i[n]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}He("Y",0,0,function(){var s=this.year();return s<=9999?Dn(s,4):"+"+s});He(0,["YY",2],0,function(){return this.year()%100});He(0,["YYYY",4],0,"year");He(0,["YYYYY",5],0,"year");He(0,["YYYYYY",6,!0],0,"year");Si("year","y");Mi("year",1);Ne("Y",gl);Ne("YY",Ot,en);Ne("YYYY",Eu,Mu);Ne("YYYYY",ml,hl);Ne("YYYYYY",ml,hl);Dt(["YYYYY","YYYYYY"],xi);Dt("YYYY",function(s,e){e[xi]=s.length===2?Ie.parseTwoDigitYear(s):pt(s)});Dt("YY",function(s,e){e[xi]=Ie.parseTwoDigitYear(s)});Dt("Y",function(s,e){e[xi]=parseInt(s,10)});function Ta(s){return dl(s)?366:365}Ie.parseTwoDigitYear=function(s){return pt(s)+(pt(s)>68?1900:2e3)};var Yg=Jr("FullYear",!0);function _y(){return dl(this.year())}function wy(s,e,t,i,n,r,a){var o;return s<100&&s>=0?(o=new Date(s+400,e,t,i,n,r,a),isFinite(o.getFullYear())&&o.setFullYear(s)):o=new Date(s,e,t,i,n,r,a),o}function za(s){var e,t;return s<100&&s>=0?(t=Array.prototype.slice.call(arguments),t[0]=s+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(s)):e=new Date(Date.UTC.apply(null,arguments)),e}function Yo(s,e,t){var i=7+e-t,n=(7+za(s,0,i).getUTCDay()-e)%7;return-n+i-1}function qg(s,e,t,i,n){var r=(7+t-i)%7,a=Yo(s,i,n),o=1+7*(e-1)+r+a,l,c;return o<=0?(l=s-1,c=Ta(l)+o):o>Ta(s)?(l=s+1,c=o-Ta(s)):(l=s,c=o),{year:l,dayOfYear:c}}function Fa(s,e,t){var i=Yo(s.year(),e,t),n=Math.floor((s.dayOfYear()-i-1)/7)+1,r,a;return n<1?(a=s.year()-1,r=n+ts(a,e,t)):n>ts(s.year(),e,t)?(r=n-ts(s.year(),e,t),a=s.year()+1):(a=s.year(),r=n),{week:r,year:a}}function ts(s,e,t){var i=Yo(s,e,t),n=Yo(s+1,e,t);return(Ta(s)-i+n)/7}He("w",["ww",2],"wo","week");He("W",["WW",2],"Wo","isoWeek");Si("week","w");Si("isoWeek","W");Mi("week",5);Mi("isoWeek",5);Ne("w",Ot);Ne("ww",Ot,en);Ne("W",Ot);Ne("WW",Ot,en);$a(["w","ww","W","WW"],function(s,e,t,i){e[i.substr(0,1)]=pt(s)});function by(s){return Fa(s,this._week.dow,this._week.doy).week}var yy={dow:0,doy:6};function xy(){return this._week.dow}function Sy(){return this._week.doy}function My(s){var e=this.localeData().week(this);return s==null?e:this.add((s-e)*7,"d")}function Ey(s){var e=Fa(this,1,4).week;return s==null?e:this.add((s-e)*7,"d")}He("d",0,"do","day");He("dd",0,0,function(s){return this.localeData().weekdaysMin(this,s)});He("ddd",0,0,function(s){return this.localeData().weekdaysShort(this,s)});He("dddd",0,0,function(s){return this.localeData().weekdays(this,s)});He("e",0,0,"weekday");He("E",0,0,"isoWeekday");Si("day","d");Si("weekday","e");Si("isoWeekday","E");Mi("day",11);Mi("weekday",11);Mi("isoWeekday",11);Ne("d",Ot);Ne("e",Ot);Ne("E",Ot);Ne("dd",function(s,e){return e.weekdaysMinRegex(s)});Ne("ddd",function(s,e){return e.weekdaysShortRegex(s)});Ne("dddd",function(s,e){return e.weekdaysRegex(s)});$a(["dd","ddd","dddd"],function(s,e,t,i){var n=t._locale.weekdaysParse(s,i,t._strict);n!=null?e.d=n:ct(t).invalidWeekday=s});$a(["d","e","E"],function(s,e,t,i){e[i]=pt(s)});function Ty(s,e){return typeof s!="string"?s:isNaN(s)?(s=e.weekdaysParse(s),typeof s=="number"?s:null):parseInt(s,10)}function Cy(s,e){return typeof s=="string"?e.weekdaysParse(s)%7||7:isNaN(s)?null:s}function Tu(s,e){return s.slice(e,7).concat(s.slice(0,e))}var Ay="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xg="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ly="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ky=Za,Py=Za,Dy=Za;function Iy(s,e){var t=bn(this._weekdays)?this._weekdays:this._weekdays[s&&s!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return s===!0?Tu(t,this._week.dow):s?t[s.day()]:t}function Ry(s){return s===!0?Tu(this._weekdaysShort,this._week.dow):s?this._weekdaysShort[s.day()]:this._weekdaysShort}function zy(s){return s===!0?Tu(this._weekdaysMin,this._week.dow):s?this._weekdaysMin[s.day()]:this._weekdaysMin}function Fy(s,e,t){var i,n,r,a=s.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=zn([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return t?e==="dddd"?(n=qt.call(this._weekdaysParse,a),n!==-1?n:null):e==="ddd"?(n=qt.call(this._shortWeekdaysParse,a),n!==-1?n:null):(n=qt.call(this._minWeekdaysParse,a),n!==-1?n:null):e==="dddd"?(n=qt.call(this._weekdaysParse,a),n!==-1||(n=qt.call(this._shortWeekdaysParse,a),n!==-1)?n:(n=qt.call(this._minWeekdaysParse,a),n!==-1?n:null)):e==="ddd"?(n=qt.call(this._shortWeekdaysParse,a),n!==-1||(n=qt.call(this._weekdaysParse,a),n!==-1)?n:(n=qt.call(this._minWeekdaysParse,a),n!==-1?n:null)):(n=qt.call(this._minWeekdaysParse,a),n!==-1||(n=qt.call(this._weekdaysParse,a),n!==-1)?n:(n=qt.call(this._shortWeekdaysParse,a),n!==-1?n:null))}function Oy(s,e,t){var i,n,r;if(this._weekdaysParseExact)return Fy.call(this,s,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(n=zn([2e3,1]).day(i),t&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[i].test(s))return i;if(t&&e==="ddd"&&this._shortWeekdaysParse[i].test(s))return i;if(t&&e==="dd"&&this._minWeekdaysParse[i].test(s))return i;if(!t&&this._weekdaysParse[i].test(s))return i}}function Ny(s){if(!this.isValid())return s!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return s!=null?(s=Ty(s,this.localeData()),this.add(s-e,"d")):e}function By(s){if(!this.isValid())return s!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return s==null?e:this.add(s-e,"d")}function Vy(s){if(!this.isValid())return s!=null?this:NaN;if(s!=null){var e=Cy(s,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Uy(s){return this._weekdaysParseExact?(Et(this,"_weekdaysRegex")||Cu.call(this),s?this._weekdaysStrictRegex:this._weekdaysRegex):(Et(this,"_weekdaysRegex")||(this._weekdaysRegex=ky),this._weekdaysStrictRegex&&s?this._weekdaysStrictRegex:this._weekdaysRegex)}function Wy(s){return this._weekdaysParseExact?(Et(this,"_weekdaysRegex")||Cu.call(this),s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Et(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Py),this._weekdaysShortStrictRegex&&s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Gy(s){return this._weekdaysParseExact?(Et(this,"_weekdaysRegex")||Cu.call(this),s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Et(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Dy),this._weekdaysMinStrictRegex&&s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Cu(){function s(u,h){return h.length-u.length}var e=[],t=[],i=[],n=[],r,a,o,l,c;for(r=0;r<7;r++)a=zn([2e3,1]).day(r),o=qi(this.weekdaysMin(a,"")),l=qi(this.weekdaysShort(a,"")),c=qi(this.weekdays(a,"")),e.push(o),t.push(l),i.push(c),n.push(o),n.push(l),n.push(c);e.sort(s),t.sort(s),i.sort(s),n.sort(s),this._weekdaysRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Au(){return this.hours()%12||12}function Hy(){return this.hours()||24}He("H",["HH",2],0,"hour");He("h",["hh",2],0,Au);He("k",["kk",2],0,Hy);He("hmm",0,0,function(){return""+Au.apply(this)+Dn(this.minutes(),2)});He("hmmss",0,0,function(){return""+Au.apply(this)+Dn(this.minutes(),2)+Dn(this.seconds(),2)});He("Hmm",0,0,function(){return""+this.hours()+Dn(this.minutes(),2)});He("Hmmss",0,0,function(){return""+this.hours()+Dn(this.minutes(),2)+Dn(this.seconds(),2)});function Zg(s,e){He(s,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Zg("a",!0);Zg("A",!1);Si("hour","h");Mi("hour",13);function $g(s,e){return e._meridiemParse}Ne("a",$g);Ne("A",$g);Ne("H",Ot);Ne("h",Ot);Ne("k",Ot);Ne("HH",Ot,en);Ne("hh",Ot,en);Ne("kk",Ot,en);Ne("hmm",Bg);Ne("hmmss",Vg);Ne("Hmm",Bg);Ne("Hmmss",Vg);Dt(["H","HH"],ni);Dt(["k","kk"],function(s,e,t){var i=pt(s);e[ni]=i===24?0:i});Dt(["a","A"],function(s,e,t){t._isPm=t._locale.isPM(s),t._meridiem=s});Dt(["h","hh"],function(s,e,t){e[ni]=pt(s),ct(t).bigHour=!0});Dt("hmm",function(s,e,t){var i=s.length-2;e[ni]=pt(s.substr(0,i)),e[wn]=pt(s.substr(i)),ct(t).bigHour=!0});Dt("hmmss",function(s,e,t){var i=s.length-4,n=s.length-2;e[ni]=pt(s.substr(0,i)),e[wn]=pt(s.substr(i,2)),e[Qn]=pt(s.substr(n)),ct(t).bigHour=!0});Dt("Hmm",function(s,e,t){var i=s.length-2;e[ni]=pt(s.substr(0,i)),e[wn]=pt(s.substr(i))});Dt("Hmmss",function(s,e,t){var i=s.length-4,n=s.length-2;e[ni]=pt(s.substr(0,i)),e[wn]=pt(s.substr(i,2)),e[Qn]=pt(s.substr(n))});function jy(s){return(s+"").toLowerCase().charAt(0)==="p"}var Yy=/[ap]\.?m?\.?/i,qy=Jr("Hours",!0);function Xy(s,e,t){return s>11?t?"pm":"PM":t?"am":"AM"}var Kg={calendar:Ob,longDateFormat:Ub,invalidDate:Gb,ordinal:jb,dayOfMonthOrdinalParse:Yb,relativeTime:Xb,months:ly,monthsShort:Ug,week:yy,weekdays:Ay,weekdaysMin:Ly,weekdaysShort:Xg,meridiemParse:Yy},Vt={},ra={},Oa;function Zy(s,e){var t,i=Math.min(s.length,e.length);for(t=0;t<i;t+=1)if(s[t]!==e[t])return t;return i}function Xf(s){return s&&s.toLowerCase().replace("_","-")}function $y(s){for(var e=0,t,i,n,r;e<s.length;){for(r=Xf(s[e]).split("-"),t=r.length,i=Xf(s[e+1]),i=i?i.split("-"):null;t>0;){if(n=wl(r.slice(0,t).join("-")),n)return n;if(i&&i.length>=t&&Zy(r,i)>=t-1)break;t--}e++}return Oa}function Ky(s){return s.match("^[^/\\\\]*$")!=null}function wl(s){var e=null,t;if(Vt[s]===void 0&&typeof module<"u"&&module&&module.exports&&Ky(s))try{e=Oa._abbr,t=require,t("./locale/"+s),ys(e)}catch{Vt[s]=null}return Vt[s]}function ys(s,e){var t;return s&&(Fi(e)?t=os(s):t=Lu(s,e),t?Oa=t:typeof console<"u"&&console.warn&&console.warn("Locale "+s+" not found. Did you forget to load it?")),Oa._abbr}function Lu(s,e){if(e!==null){var t,i=Kg;if(e.abbr=s,Vt[s]!=null)Ig("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Vt[s]._config;else if(e.parentLocale!=null)if(Vt[e.parentLocale]!=null)i=Vt[e.parentLocale]._config;else if(t=wl(e.parentLocale),t!=null)i=t._config;else return ra[e.parentLocale]||(ra[e.parentLocale]=[]),ra[e.parentLocale].push({name:s,config:e}),null;return Vt[s]=new yu(Bc(i,e)),ra[s]&&ra[s].forEach(function(n){Lu(n.name,n.config)}),ys(s),Vt[s]}else return delete Vt[s],null}function Jy(s,e){if(e!=null){var t,i,n=Kg;Vt[s]!=null&&Vt[s].parentLocale!=null?Vt[s].set(Bc(Vt[s]._config,e)):(i=wl(s),i!=null&&(n=i._config),e=Bc(n,e),i==null&&(e.abbr=s),t=new yu(e),t.parentLocale=Vt[s],Vt[s]=t),ys(s)}else Vt[s]!=null&&(Vt[s].parentLocale!=null?(Vt[s]=Vt[s].parentLocale,s===ys()&&ys(s)):Vt[s]!=null&&delete Vt[s]);return Vt[s]}function os(s){var e;if(s&&s._locale&&s._locale._abbr&&(s=s._locale._abbr),!s)return Oa;if(!bn(s)){if(e=wl(s),e)return e;s=[s]}return $y(s)}function Qy(){return Vc(Vt)}function ku(s){var e,t=s._a;return t&&ct(s).overflow===-2&&(e=t[Jn]<0||t[Jn]>11?Jn:t[Ln]<1||t[Ln]>_l(t[xi],t[Jn])?Ln:t[ni]<0||t[ni]>24||t[ni]===24&&(t[wn]!==0||t[Qn]!==0||t[Us]!==0)?ni:t[wn]<0||t[wn]>59?wn:t[Qn]<0||t[Qn]>59?Qn:t[Us]<0||t[Us]>999?Us:-1,ct(s)._overflowDayOfYear&&(e<xi||e>Ln)&&(e=Ln),ct(s)._overflowWeeks&&e===-1&&(e=ry),ct(s)._overflowWeekday&&e===-1&&(e=ay),ct(s).overflow=e),s}var ex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tx=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ix=/Z|[+-]\d\d(?::?\d\d)?/,so=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],jl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],nx=/^\/?Date\((-?\d+)/i,sx=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,rx={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Jg(s){var e,t,i=s._i,n=ex.exec(i)||tx.exec(i),r,a,o,l,c=so.length,u=jl.length;if(n){for(ct(s).iso=!0,e=0,t=c;e<t;e++)if(so[e][1].exec(n[1])){a=so[e][0],r=so[e][2]!==!1;break}if(a==null){s._isValid=!1;return}if(n[3]){for(e=0,t=u;e<t;e++)if(jl[e][1].exec(n[3])){o=(n[2]||" ")+jl[e][0];break}if(o==null){s._isValid=!1;return}}if(!r&&o!=null){s._isValid=!1;return}if(n[4])if(ix.exec(n[4]))l="Z";else{s._isValid=!1;return}s._f=a+(o||"")+(l||""),Du(s)}else s._isValid=!1}function ax(s,e,t,i,n,r){var a=[ox(s),Ug.indexOf(e),parseInt(t,10),parseInt(i,10),parseInt(n,10)];return r&&a.push(parseInt(r,10)),a}function ox(s){var e=parseInt(s,10);return e<=49?2e3+e:e<=999?1900+e:e}function lx(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function cx(s,e,t){if(s){var i=Xg.indexOf(s),n=new Date(e[0],e[1],e[2]).getDay();if(i!==n)return ct(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function ux(s,e,t){if(s)return rx[s];if(e)return 0;var i=parseInt(t,10),n=i%100,r=(i-n)/100;return r*60+n}function Qg(s){var e=sx.exec(lx(s._i)),t;if(e){if(t=ax(e[4],e[3],e[2],e[5],e[6],e[7]),!cx(e[1],t,s))return;s._a=t,s._tzm=ux(e[8],e[9],e[10]),s._d=za.apply(null,s._a),s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),ct(s).rfc2822=!0}else s._isValid=!1}function fx(s){var e=nx.exec(s._i);if(e!==null){s._d=new Date(+e[1]);return}if(Jg(s),s._isValid===!1)delete s._isValid;else return;if(Qg(s),s._isValid===!1)delete s._isValid;else return;s._strict?s._isValid=!1:Ie.createFromInputFallback(s)}Ie.createFromInputFallback=un("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(s){s._d=new Date(s._i+(s._useUTC?" UTC":""))});function Er(s,e,t){return s??e??t}function dx(s){var e=new Date(Ie.now());return s._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Pu(s){var e,t,i=[],n,r,a;if(!s._d){for(n=dx(s),s._w&&s._a[Ln]==null&&s._a[Jn]==null&&hx(s),s._dayOfYear!=null&&(a=Er(s._a[xi],n[xi]),(s._dayOfYear>Ta(a)||s._dayOfYear===0)&&(ct(s)._overflowDayOfYear=!0),t=za(a,0,s._dayOfYear),s._a[Jn]=t.getUTCMonth(),s._a[Ln]=t.getUTCDate()),e=0;e<3&&s._a[e]==null;++e)s._a[e]=i[e]=n[e];for(;e<7;e++)s._a[e]=i[e]=s._a[e]==null?e===2?1:0:s._a[e];s._a[ni]===24&&s._a[wn]===0&&s._a[Qn]===0&&s._a[Us]===0&&(s._nextDay=!0,s._a[ni]=0),s._d=(s._useUTC?za:wy).apply(null,i),r=s._useUTC?s._d.getUTCDay():s._d.getDay(),s._tzm!=null&&s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),s._nextDay&&(s._a[ni]=24),s._w&&typeof s._w.d<"u"&&s._w.d!==r&&(ct(s).weekdayMismatch=!0)}}function hx(s){var e,t,i,n,r,a,o,l,c;e=s._w,e.GG!=null||e.W!=null||e.E!=null?(r=1,a=4,t=Er(e.GG,s._a[xi],Fa(Ft(),1,4).year),i=Er(e.W,1),n=Er(e.E,1),(n<1||n>7)&&(l=!0)):(r=s._locale._week.dow,a=s._locale._week.doy,c=Fa(Ft(),r,a),t=Er(e.gg,s._a[xi],c.year),i=Er(e.w,c.week),e.d!=null?(n=e.d,(n<0||n>6)&&(l=!0)):e.e!=null?(n=e.e+r,(e.e<0||e.e>6)&&(l=!0)):n=r),i<1||i>ts(t,r,a)?ct(s)._overflowWeeks=!0:l!=null?ct(s)._overflowWeekday=!0:(o=qg(t,i,n,r,a),s._a[xi]=o.year,s._dayOfYear=o.dayOfYear)}Ie.ISO_8601=function(){};Ie.RFC_2822=function(){};function Du(s){if(s._f===Ie.ISO_8601){Jg(s);return}if(s._f===Ie.RFC_2822){Qg(s);return}s._a=[],ct(s).empty=!0;var e=""+s._i,t,i,n,r,a,o=e.length,l=0,c,u;for(n=Rg(s._f,s._locale).match(xu)||[],u=n.length,t=0;t<u;t++)r=n[t],i=(e.match(iy(r,s))||[])[0],i&&(a=e.substr(0,e.indexOf(i)),a.length>0&&ct(s).unusedInput.push(a),e=e.slice(e.indexOf(i)+i.length),l+=i.length),Pr[r]?(i?ct(s).empty=!1:ct(s).unusedTokens.push(r),sy(r,i,s)):s._strict&&!i&&ct(s).unusedTokens.push(r);ct(s).charsLeftOver=o-l,e.length>0&&ct(s).unusedInput.push(e),s._a[ni]<=12&&ct(s).bigHour===!0&&s._a[ni]>0&&(ct(s).bigHour=void 0),ct(s).parsedDateParts=s._a.slice(0),ct(s).meridiem=s._meridiem,s._a[ni]=px(s._locale,s._a[ni],s._meridiem),c=ct(s).era,c!==null&&(s._a[xi]=s._locale.erasConvertYear(c,s._a[xi])),Pu(s),ku(s)}function px(s,e,t){var i;return t==null?e:s.meridiemHour!=null?s.meridiemHour(e,t):(s.isPM!=null&&(i=s.isPM(t),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function mx(s){var e,t,i,n,r,a,o=!1,l=s._f.length;if(l===0){ct(s).invalidFormat=!0,s._d=new Date(NaN);return}for(n=0;n<l;n++)r=0,a=!1,e=bu({},s),s._useUTC!=null&&(e._useUTC=s._useUTC),e._f=s._f[n],Du(e),wu(e)&&(a=!0),r+=ct(e).charsLeftOver,r+=ct(e).unusedTokens.length*10,ct(e).score=r,o?r<i&&(i=r,t=e):(i==null||r<i||a)&&(i=r,t=e,a&&(o=!0));_s(s,t||e)}function gx(s){if(!s._d){var e=Su(s._i),t=e.day===void 0?e.date:e.day;s._a=Pg([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),Pu(s)}}function vx(s){var e=new Xa(ku(e0(s)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function e0(s){var e=s._i,t=s._f;return s._locale=s._locale||os(s._l),e===null||t===void 0&&e===""?fl({nullInput:!0}):(typeof e=="string"&&(s._i=e=s._locale.preparse(e)),yn(e)?new Xa(ku(e)):(qa(e)?s._d=e:bn(t)?mx(s):t?Du(s):_x(s),wu(s)||(s._d=null),s))}function _x(s){var e=s._i;Fi(e)?s._d=new Date(Ie.now()):qa(e)?s._d=new Date(e.valueOf()):typeof e=="string"?fx(s):bn(e)?(s._a=Pg(e.slice(0),function(t){return parseInt(t,10)}),Pu(s)):js(e)?gx(s):as(e)?s._d=new Date(e):Ie.createFromInputFallback(s)}function t0(s,e,t,i,n){var r={};return(e===!0||e===!1)&&(i=e,e=void 0),(t===!0||t===!1)&&(i=t,t=void 0),(js(s)&&_u(s)||bn(s)&&s.length===0)&&(s=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=n,r._l=t,r._i=s,r._f=e,r._strict=i,vx(r)}function Ft(s,e,t,i){return t0(s,e,t,i,!1)}var wx=un("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=Ft.apply(null,arguments);return this.isValid()&&s.isValid()?s<this?this:s:fl()}),bx=un("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=Ft.apply(null,arguments);return this.isValid()&&s.isValid()?s>this?this:s:fl()});function i0(s,e){var t,i;if(e.length===1&&bn(e[0])&&(e=e[0]),!e.length)return Ft();for(t=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][s](t))&&(t=e[i]);return t}function yx(){var s=[].slice.call(arguments,0);return i0("isBefore",s)}function xx(){var s=[].slice.call(arguments,0);return i0("isAfter",s)}var Sx=function(){return Date.now?Date.now():+new Date},aa=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mx(s){var e,t=!1,i,n=aa.length;for(e in s)if(Et(s,e)&&!(qt.call(aa,e)!==-1&&(s[e]==null||!isNaN(s[e]))))return!1;for(i=0;i<n;++i)if(s[aa[i]]){if(t)return!1;parseFloat(s[aa[i]])!==pt(s[aa[i]])&&(t=!0)}return!0}function Ex(){return this._isValid}function Tx(){return xn(NaN)}function bl(s){var e=Su(s),t=e.year||0,i=e.quarter||0,n=e.month||0,r=e.week||e.isoWeek||0,a=e.day||0,o=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=Mx(e),this._milliseconds=+u+c*1e3+l*6e4+o*1e3*60*60,this._days=+a+r*7,this._months=+n+i*3+t*12,this._data={},this._locale=os(),this._bubble()}function zo(s){return s instanceof bl}function Wc(s){return s<0?Math.round(-1*s)*-1:Math.round(s)}function Cx(s,e,t){var i=Math.min(s.length,e.length),n=Math.abs(s.length-e.length),r=0,a;for(a=0;a<i;a++)(t&&s[a]!==e[a]||!t&&pt(s[a])!==pt(e[a]))&&r++;return r+n}function n0(s,e){He(s,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+Dn(~~(t/60),2)+e+Dn(~~t%60,2)})}n0("Z",":");n0("ZZ","");Ne("Z",vl);Ne("ZZ",vl);Dt(["Z","ZZ"],function(s,e,t){t._useUTC=!0,t._tzm=Iu(vl,s)});var Ax=/([\+\-]|\d\d)/gi;function Iu(s,e){var t=(e||"").match(s),i,n,r;return t===null?null:(i=t[t.length-1]||[],n=(i+"").match(Ax)||["-",0,0],r=+(n[1]*60)+pt(n[2]),r===0?0:n[0]==="+"?r:-r)}function Ru(s,e){var t,i;return e._isUTC?(t=e.clone(),i=(yn(s)||qa(s)?s.valueOf():Ft(s).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+i),Ie.updateOffset(t,!1),t):Ft(s).local()}function Gc(s){return-Math.round(s._d.getTimezoneOffset())}Ie.updateOffset=function(){};function Lx(s,e,t){var i=this._offset||0,n;if(!this.isValid())return s!=null?this:NaN;if(s!=null){if(typeof s=="string"){if(s=Iu(vl,s),s===null)return this}else Math.abs(s)<16&&!t&&(s=s*60);return!this._isUTC&&e&&(n=Gc(this)),this._offset=s,this._isUTC=!0,n!=null&&this.add(n,"m"),i!==s&&(!e||this._changeInProgress?a0(this,xn(s-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ie.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:Gc(this)}function kx(s,e){return s!=null?(typeof s!="string"&&(s=-s),this.utcOffset(s,e),this):-this.utcOffset()}function Px(s){return this.utcOffset(0,s)}function Dx(s){return this._isUTC&&(this.utcOffset(0,s),this._isUTC=!1,s&&this.subtract(Gc(this),"m")),this}function Ix(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var s=Iu(ey,this._i);s!=null?this.utcOffset(s):this.utcOffset(0,!0)}return this}function Rx(s){return this.isValid()?(s=s?Ft(s).utcOffset():0,(this.utcOffset()-s)%60===0):!1}function zx(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Fx(){if(!Fi(this._isDSTShifted))return this._isDSTShifted;var s={},e;return bu(s,this),s=e0(s),s._a?(e=s._isUTC?zn(s._a):Ft(s._a),this._isDSTShifted=this.isValid()&&Cx(s._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ox(){return this.isValid()?!this._isUTC:!1}function Nx(){return this.isValid()?this._isUTC:!1}function s0(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Bx=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Vx=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xn(s,e){var t=s,i=null,n,r,a;return zo(s)?t={ms:s._milliseconds,d:s._days,M:s._months}:as(s)||!isNaN(+s)?(t={},e?t[e]=+s:t.milliseconds=+s):(i=Bx.exec(s))?(n=i[1]==="-"?-1:1,t={y:0,d:pt(i[Ln])*n,h:pt(i[ni])*n,m:pt(i[wn])*n,s:pt(i[Qn])*n,ms:pt(Wc(i[Us]*1e3))*n}):(i=Vx.exec(s))?(n=i[1]==="-"?-1:1,t={y:Ds(i[2],n),M:Ds(i[3],n),w:Ds(i[4],n),d:Ds(i[5],n),h:Ds(i[6],n),m:Ds(i[7],n),s:Ds(i[8],n)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(a=Ux(Ft(t.from),Ft(t.to)),t={},t.ms=a.milliseconds,t.M=a.months),r=new bl(t),zo(s)&&Et(s,"_locale")&&(r._locale=s._locale),zo(s)&&Et(s,"_isValid")&&(r._isValid=s._isValid),r}xn.fn=bl.prototype;xn.invalid=Tx;function Ds(s,e){var t=s&&parseFloat(s.replace(",","."));return(isNaN(t)?0:t)*e}function Zf(s,e){var t={};return t.months=e.month()-s.month()+(e.year()-s.year())*12,s.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+s.clone().add(t.months,"M"),t}function Ux(s,e){var t;return s.isValid()&&e.isValid()?(e=Ru(e,s),s.isBefore(e)?t=Zf(s,e):(t=Zf(e,s),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function r0(s,e){return function(t,i){var n,r;return i!==null&&!isNaN(+i)&&(Ig(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=t,t=i,i=r),n=xn(t,i),a0(this,n,s),this}}function a0(s,e,t,i){var n=e._milliseconds,r=Wc(e._days),a=Wc(e._months);s.isValid()&&(i=i??!0,a&&Gg(s,Ho(s,"Month")+a*t),r&&Fg(s,"Date",Ho(s,"Date")+r*t),n&&s._d.setTime(s._d.valueOf()+n*t),i&&Ie.updateOffset(s,r||a))}var Wx=r0(1,"add"),Gx=r0(-1,"subtract");function o0(s){return typeof s=="string"||s instanceof String}function Hx(s){return yn(s)||qa(s)||o0(s)||as(s)||Yx(s)||jx(s)||s===null||s===void 0}function jx(s){var e=js(s)&&!_u(s),t=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],n,r,a=i.length;for(n=0;n<a;n+=1)r=i[n],t=t||Et(s,r);return e&&t}function Yx(s){var e=bn(s),t=!1;return e&&(t=s.filter(function(i){return!as(i)&&o0(s)}).length===0),e&&t}function qx(s){var e=js(s)&&!_u(s),t=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],n,r;for(n=0;n<i.length;n+=1)r=i[n],t=t||Et(s,r);return e&&t}function Xx(s,e){var t=s.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function Zx(s,e){arguments.length===1&&(arguments[0]?Hx(arguments[0])?(s=arguments[0],e=void 0):qx(arguments[0])&&(e=arguments[0],s=void 0):(s=void 0,e=void 0));var t=s||Ft(),i=Ru(t,this).startOf("day"),n=Ie.calendarFormat(this,i)||"sameElse",r=e&&(Fn(e[n])?e[n].call(this,t):e[n]);return this.format(r||this.localeData().calendar(n,this,Ft(t)))}function $x(){return new Xa(this)}function Kx(s,e){var t=yn(s)?s:Ft(s);return this.isValid()&&t.isValid()?(e=fn(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function Jx(s,e){var t=yn(s)?s:Ft(s);return this.isValid()&&t.isValid()?(e=fn(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function Qx(s,e,t,i){var n=yn(s)?s:Ft(s),r=yn(e)?e:Ft(e);return this.isValid()&&n.isValid()&&r.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(n,t):!this.isBefore(n,t))&&(i[1]===")"?this.isBefore(r,t):!this.isAfter(r,t))):!1}function e2(s,e){var t=yn(s)?s:Ft(s),i;return this.isValid()&&t.isValid()?(e=fn(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(i=t.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function t2(s,e){return this.isSame(s,e)||this.isAfter(s,e)}function i2(s,e){return this.isSame(s,e)||this.isBefore(s,e)}function n2(s,e,t){var i,n,r;if(!this.isValid())return NaN;if(i=Ru(s,this),!i.isValid())return NaN;switch(n=(i.utcOffset()-this.utcOffset())*6e4,e=fn(e),e){case"year":r=Fo(this,i)/12;break;case"month":r=Fo(this,i);break;case"quarter":r=Fo(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-n)/864e5;break;case"week":r=(this-i-n)/6048e5;break;default:r=this-i}return t?r:an(r)}function Fo(s,e){if(s.date()<e.date())return-Fo(e,s);var t=(e.year()-s.year())*12+(e.month()-s.month()),i=s.clone().add(t,"months"),n,r;return e-i<0?(n=s.clone().add(t-1,"months"),r=(e-i)/(i-n)):(n=s.clone().add(t+1,"months"),r=(e-i)/(n-i)),-(t+r)||0}Ie.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ie.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function s2(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function r2(s){if(!this.isValid())return null;var e=s!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?Ro(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Fn(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ro(t,"Z")):Ro(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function a2(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var s="moment",e="",t,i,n,r;return this.isLocal()||(s=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+s+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=e+'[")]',this.format(t+i+n+r)}function o2(s){s||(s=this.isUtc()?Ie.defaultFormatUtc:Ie.defaultFormat);var e=Ro(this,s);return this.localeData().postformat(e)}function l2(s,e){return this.isValid()&&(yn(s)&&s.isValid()||Ft(s).isValid())?xn({to:this,from:s}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function c2(s){return this.from(Ft(),s)}function u2(s,e){return this.isValid()&&(yn(s)&&s.isValid()||Ft(s).isValid())?xn({from:this,to:s}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function f2(s){return this.to(Ft(),s)}function l0(s){var e;return s===void 0?this._locale._abbr:(e=os(s),e!=null&&(this._locale=e),this)}var c0=un("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(s){return s===void 0?this.localeData():this.locale(s)});function u0(){return this._locale}var qo=1e3,Dr=60*qo,Xo=60*Dr,f0=(365*400+97)*24*Xo;function Ir(s,e){return(s%e+e)%e}function d0(s,e,t){return s<100&&s>=0?new Date(s+400,e,t)-f0:new Date(s,e,t).valueOf()}function h0(s,e,t){return s<100&&s>=0?Date.UTC(s+400,e,t)-f0:Date.UTC(s,e,t)}function d2(s){var e,t;if(s=fn(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?h0:d0,s){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ir(e+(this._isUTC?0:this.utcOffset()*Dr),Xo);break;case"minute":e=this._d.valueOf(),e-=Ir(e,Dr);break;case"second":e=this._d.valueOf(),e-=Ir(e,qo);break}return this._d.setTime(e),Ie.updateOffset(this,!0),this}function h2(s){var e,t;if(s=fn(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?h0:d0,s){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Xo-Ir(e+(this._isUTC?0:this.utcOffset()*Dr),Xo)-1;break;case"minute":e=this._d.valueOf(),e+=Dr-Ir(e,Dr)-1;break;case"second":e=this._d.valueOf(),e+=qo-Ir(e,qo)-1;break}return this._d.setTime(e),Ie.updateOffset(this,!0),this}function p2(){return this._d.valueOf()-(this._offset||0)*6e4}function m2(){return Math.floor(this.valueOf()/1e3)}function g2(){return new Date(this.valueOf())}function v2(){var s=this;return[s.year(),s.month(),s.date(),s.hour(),s.minute(),s.second(),s.millisecond()]}function _2(){var s=this;return{years:s.year(),months:s.month(),date:s.date(),hours:s.hours(),minutes:s.minutes(),seconds:s.seconds(),milliseconds:s.milliseconds()}}function w2(){return this.isValid()?this.toISOString():null}function b2(){return wu(this)}function y2(){return _s({},ct(this))}function x2(){return ct(this).overflow}function S2(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}He("N",0,0,"eraAbbr");He("NN",0,0,"eraAbbr");He("NNN",0,0,"eraAbbr");He("NNNN",0,0,"eraName");He("NNNNN",0,0,"eraNarrow");He("y",["y",1],"yo","eraYear");He("y",["yy",2],0,"eraYear");He("y",["yyy",3],0,"eraYear");He("y",["yyyy",4],0,"eraYear");Ne("N",zu);Ne("NN",zu);Ne("NNN",zu);Ne("NNNN",R2);Ne("NNNNN",z2);Dt(["N","NN","NNN","NNNN","NNNNN"],function(s,e,t,i){var n=t._locale.erasParse(s,i,t._strict);n?ct(t).era=n:ct(t).invalidEra=s});Ne("y",Qr);Ne("yy",Qr);Ne("yyy",Qr);Ne("yyyy",Qr);Ne("yo",F2);Dt(["y","yy","yyy","yyyy"],xi);Dt(["yo"],function(s,e,t,i){var n;t._locale._eraYearOrdinalRegex&&(n=s.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[xi]=t._locale.eraYearOrdinalParse(s,n):e[xi]=parseInt(s,10)});function M2(s,e){var t,i,n,r=this._eras||os("en")._eras;for(t=0,i=r.length;t<i;++t){switch(typeof r[t].since){case"string":n=Ie(r[t].since).startOf("day"),r[t].since=n.valueOf();break}switch(typeof r[t].until){case"undefined":r[t].until=1/0;break;case"string":n=Ie(r[t].until).startOf("day").valueOf(),r[t].until=n.valueOf();break}}return r}function E2(s,e,t){var i,n,r=this.eras(),a,o,l;for(s=s.toUpperCase(),i=0,n=r.length;i<n;++i)if(a=r[i].name.toUpperCase(),o=r[i].abbr.toUpperCase(),l=r[i].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(o===s)return r[i];break;case"NNNN":if(a===s)return r[i];break;case"NNNNN":if(l===s)return r[i];break}else if([a,o,l].indexOf(s)>=0)return r[i]}function T2(s,e){var t=s.since<=s.until?1:-1;return e===void 0?Ie(s.since).year():Ie(s.since).year()+(e-s.offset)*t}function C2(){var s,e,t,i=this.localeData().eras();for(s=0,e=i.length;s<e;++s)if(t=this.clone().startOf("day").valueOf(),i[s].since<=t&&t<=i[s].until||i[s].until<=t&&t<=i[s].since)return i[s].name;return""}function A2(){var s,e,t,i=this.localeData().eras();for(s=0,e=i.length;s<e;++s)if(t=this.clone().startOf("day").valueOf(),i[s].since<=t&&t<=i[s].until||i[s].until<=t&&t<=i[s].since)return i[s].narrow;return""}function L2(){var s,e,t,i=this.localeData().eras();for(s=0,e=i.length;s<e;++s)if(t=this.clone().startOf("day").valueOf(),i[s].since<=t&&t<=i[s].until||i[s].until<=t&&t<=i[s].since)return i[s].abbr;return""}function k2(){var s,e,t,i,n=this.localeData().eras();for(s=0,e=n.length;s<e;++s)if(t=n[s].since<=n[s].until?1:-1,i=this.clone().startOf("day").valueOf(),n[s].since<=i&&i<=n[s].until||n[s].until<=i&&i<=n[s].since)return(this.year()-Ie(n[s].since).year())*t+n[s].offset;return this.year()}function P2(s){return Et(this,"_erasNameRegex")||Fu.call(this),s?this._erasNameRegex:this._erasRegex}function D2(s){return Et(this,"_erasAbbrRegex")||Fu.call(this),s?this._erasAbbrRegex:this._erasRegex}function I2(s){return Et(this,"_erasNarrowRegex")||Fu.call(this),s?this._erasNarrowRegex:this._erasRegex}function zu(s,e){return e.erasAbbrRegex(s)}function R2(s,e){return e.erasNameRegex(s)}function z2(s,e){return e.erasNarrowRegex(s)}function F2(s,e){return e._eraYearOrdinalRegex||Qr}function Fu(){var s=[],e=[],t=[],i=[],n,r,a=this.eras();for(n=0,r=a.length;n<r;++n)e.push(qi(a[n].name)),s.push(qi(a[n].abbr)),t.push(qi(a[n].narrow)),i.push(qi(a[n].name)),i.push(qi(a[n].abbr)),i.push(qi(a[n].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}He(0,["gg",2],0,function(){return this.weekYear()%100});He(0,["GG",2],0,function(){return this.isoWeekYear()%100});function yl(s,e){He(0,[s,s.length],0,e)}yl("gggg","weekYear");yl("ggggg","weekYear");yl("GGGG","isoWeekYear");yl("GGGGG","isoWeekYear");Si("weekYear","gg");Si("isoWeekYear","GG");Mi("weekYear",1);Mi("isoWeekYear",1);Ne("G",gl);Ne("g",gl);Ne("GG",Ot,en);Ne("gg",Ot,en);Ne("GGGG",Eu,Mu);Ne("gggg",Eu,Mu);Ne("GGGGG",ml,hl);Ne("ggggg",ml,hl);$a(["gggg","ggggg","GGGG","GGGGG"],function(s,e,t,i){e[i.substr(0,2)]=pt(s)});$a(["gg","GG"],function(s,e,t,i){e[i]=Ie.parseTwoDigitYear(s)});function O2(s){return p0.call(this,s,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function N2(s){return p0.call(this,s,this.isoWeek(),this.isoWeekday(),1,4)}function B2(){return ts(this.year(),1,4)}function V2(){return ts(this.isoWeekYear(),1,4)}function U2(){var s=this.localeData()._week;return ts(this.year(),s.dow,s.doy)}function W2(){var s=this.localeData()._week;return ts(this.weekYear(),s.dow,s.doy)}function p0(s,e,t,i,n){var r;return s==null?Fa(this,i,n).year:(r=ts(s,i,n),e>r&&(e=r),G2.call(this,s,e,t,i,n))}function G2(s,e,t,i,n){var r=qg(s,e,t,i,n),a=za(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}He("Q",0,"Qo","quarter");Si("quarter","Q");Mi("quarter",7);Ne("Q",Og);Dt("Q",function(s,e){e[Jn]=(pt(s)-1)*3});function H2(s){return s==null?Math.ceil((this.month()+1)/3):this.month((s-1)*3+this.month()%3)}He("D",["DD",2],"Do","date");Si("date","D");Mi("date",9);Ne("D",Ot);Ne("DD",Ot,en);Ne("Do",function(s,e){return s?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Dt(["D","DD"],Ln);Dt("Do",function(s,e){e[Ln]=pt(s.match(Ot)[0])});var m0=Jr("Date",!0);He("DDD",["DDDD",3],"DDDo","dayOfYear");Si("dayOfYear","DDD");Mi("dayOfYear",4);Ne("DDD",pl);Ne("DDDD",Ng);Dt(["DDD","DDDD"],function(s,e,t){t._dayOfYear=pt(s)});function j2(s){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return s==null?e:this.add(s-e,"d")}He("m",["mm",2],0,"minute");Si("minute","m");Mi("minute",14);Ne("m",Ot);Ne("mm",Ot,en);Dt(["m","mm"],wn);var Y2=Jr("Minutes",!1);He("s",["ss",2],0,"second");Si("second","s");Mi("second",15);Ne("s",Ot);Ne("ss",Ot,en);Dt(["s","ss"],Qn);var q2=Jr("Seconds",!1);He("S",0,0,function(){return~~(this.millisecond()/100)});He(0,["SS",2],0,function(){return~~(this.millisecond()/10)});He(0,["SSS",3],0,"millisecond");He(0,["SSSS",4],0,function(){return this.millisecond()*10});He(0,["SSSSS",5],0,function(){return this.millisecond()*100});He(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});He(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});He(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});He(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Si("millisecond","ms");Mi("millisecond",16);Ne("S",pl,Og);Ne("SS",pl,en);Ne("SSS",pl,Ng);var ws,g0;for(ws="SSSS";ws.length<=9;ws+="S")Ne(ws,Qr);function X2(s,e){e[Us]=pt(("0."+s)*1e3)}for(ws="S";ws.length<=9;ws+="S")Dt(ws,X2);g0=Jr("Milliseconds",!1);He("z",0,0,"zoneAbbr");He("zz",0,0,"zoneName");function Z2(){return this._isUTC?"UTC":""}function $2(){return this._isUTC?"Coordinated Universal Time":""}var Ee=Xa.prototype;Ee.add=Wx;Ee.calendar=Zx;Ee.clone=$x;Ee.diff=n2;Ee.endOf=h2;Ee.format=o2;Ee.from=l2;Ee.fromNow=c2;Ee.to=u2;Ee.toNow=f2;Ee.get=Jb;Ee.invalidAt=x2;Ee.isAfter=Kx;Ee.isBefore=Jx;Ee.isBetween=Qx;Ee.isSame=e2;Ee.isSameOrAfter=t2;Ee.isSameOrBefore=i2;Ee.isValid=b2;Ee.lang=c0;Ee.locale=l0;Ee.localeData=u0;Ee.max=bx;Ee.min=wx;Ee.parsingFlags=y2;Ee.set=Qb;Ee.startOf=d2;Ee.subtract=Gx;Ee.toArray=v2;Ee.toObject=_2;Ee.toDate=g2;Ee.toISOString=r2;Ee.inspect=a2;typeof Symbol<"u"&&Symbol.for!=null&&(Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ee.toJSON=w2;Ee.toString=s2;Ee.unix=m2;Ee.valueOf=p2;Ee.creationData=S2;Ee.eraName=C2;Ee.eraNarrow=A2;Ee.eraAbbr=L2;Ee.eraYear=k2;Ee.year=Yg;Ee.isLeapYear=_y;Ee.weekYear=O2;Ee.isoWeekYear=N2;Ee.quarter=Ee.quarters=H2;Ee.month=Hg;Ee.daysInMonth=my;Ee.week=Ee.weeks=My;Ee.isoWeek=Ee.isoWeeks=Ey;Ee.weeksInYear=U2;Ee.weeksInWeekYear=W2;Ee.isoWeeksInYear=B2;Ee.isoWeeksInISOWeekYear=V2;Ee.date=m0;Ee.day=Ee.days=Ny;Ee.weekday=By;Ee.isoWeekday=Vy;Ee.dayOfYear=j2;Ee.hour=Ee.hours=qy;Ee.minute=Ee.minutes=Y2;Ee.second=Ee.seconds=q2;Ee.millisecond=Ee.milliseconds=g0;Ee.utcOffset=Lx;Ee.utc=Px;Ee.local=Dx;Ee.parseZone=Ix;Ee.hasAlignedHourOffset=Rx;Ee.isDST=zx;Ee.isLocal=Ox;Ee.isUtcOffset=Nx;Ee.isUtc=s0;Ee.isUTC=s0;Ee.zoneAbbr=Z2;Ee.zoneName=$2;Ee.dates=un("dates accessor is deprecated. Use date instead.",m0);Ee.months=un("months accessor is deprecated. Use month instead",Hg);Ee.years=un("years accessor is deprecated. Use year instead",Yg);Ee.zone=un("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",kx);Ee.isDSTShifted=un("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Fx);function K2(s){return Ft(s*1e3)}function J2(){return Ft.apply(null,arguments).parseZone()}function v0(s){return s}var Tt=yu.prototype;Tt.calendar=Nb;Tt.longDateFormat=Wb;Tt.invalidDate=Hb;Tt.ordinal=qb;Tt.preparse=v0;Tt.postformat=v0;Tt.relativeTime=Zb;Tt.pastFuture=$b;Tt.set=Fb;Tt.eras=M2;Tt.erasParse=E2;Tt.erasConvertYear=T2;Tt.erasAbbrRegex=D2;Tt.erasNameRegex=P2;Tt.erasNarrowRegex=I2;Tt.months=fy;Tt.monthsShort=dy;Tt.monthsParse=py;Tt.monthsRegex=vy;Tt.monthsShortRegex=gy;Tt.week=by;Tt.firstDayOfYear=Sy;Tt.firstDayOfWeek=xy;Tt.weekdays=Iy;Tt.weekdaysMin=zy;Tt.weekdaysShort=Ry;Tt.weekdaysParse=Oy;Tt.weekdaysRegex=Uy;Tt.weekdaysShortRegex=Wy;Tt.weekdaysMinRegex=Gy;Tt.isPM=jy;Tt.meridiem=Xy;function Zo(s,e,t,i){var n=os(),r=zn().set(i,e);return n[t](r,s)}function _0(s,e,t){if(as(s)&&(e=s,s=void 0),s=s||"",e!=null)return Zo(s,e,t,"month");var i,n=[];for(i=0;i<12;i++)n[i]=Zo(s,i,t,"month");return n}function Ou(s,e,t,i){typeof s=="boolean"?(as(e)&&(t=e,e=void 0),e=e||""):(e=s,t=e,s=!1,as(e)&&(t=e,e=void 0),e=e||"");var n=os(),r=s?n._week.dow:0,a,o=[];if(t!=null)return Zo(e,(t+r)%7,i,"day");for(a=0;a<7;a++)o[a]=Zo(e,(a+r)%7,i,"day");return o}function Q2(s,e){return _0(s,e,"months")}function eS(s,e){return _0(s,e,"monthsShort")}function tS(s,e,t){return Ou(s,e,t,"weekdays")}function iS(s,e,t){return Ou(s,e,t,"weekdaysShort")}function nS(s,e,t){return Ou(s,e,t,"weekdaysMin")}ys("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(s){var e=s%10,t=pt(s%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return s+t}});Ie.lang=un("moment.lang is deprecated. Use moment.locale instead.",ys);Ie.langData=un("moment.langData is deprecated. Use moment.localeData instead.",os);var Bn=Math.abs;function sS(){var s=this._data;return this._milliseconds=Bn(this._milliseconds),this._days=Bn(this._days),this._months=Bn(this._months),s.milliseconds=Bn(s.milliseconds),s.seconds=Bn(s.seconds),s.minutes=Bn(s.minutes),s.hours=Bn(s.hours),s.months=Bn(s.months),s.years=Bn(s.years),this}function w0(s,e,t,i){var n=xn(e,t);return s._milliseconds+=i*n._milliseconds,s._days+=i*n._days,s._months+=i*n._months,s._bubble()}function rS(s,e){return w0(this,s,e,1)}function aS(s,e){return w0(this,s,e,-1)}function $f(s){return s<0?Math.floor(s):Math.ceil(s)}function oS(){var s=this._milliseconds,e=this._days,t=this._months,i=this._data,n,r,a,o,l;return s>=0&&e>=0&&t>=0||s<=0&&e<=0&&t<=0||(s+=$f(Hc(t)+e)*864e5,e=0,t=0),i.milliseconds=s%1e3,n=an(s/1e3),i.seconds=n%60,r=an(n/60),i.minutes=r%60,a=an(r/60),i.hours=a%24,e+=an(a/24),l=an(b0(e)),t+=l,e-=$f(Hc(l)),o=an(t/12),t%=12,i.days=e,i.months=t,i.years=o,this}function b0(s){return s*4800/146097}function Hc(s){return s*146097/4800}function lS(s){if(!this.isValid())return NaN;var e,t,i=this._milliseconds;if(s=fn(s),s==="month"||s==="quarter"||s==="year")switch(e=this._days+i/864e5,t=this._months+b0(e),s){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(Hc(this._months)),s){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+s)}}function cS(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+pt(this._months/12)*31536e6:NaN}function ls(s){return function(){return this.as(s)}}var uS=ls("ms"),fS=ls("s"),dS=ls("m"),hS=ls("h"),pS=ls("d"),mS=ls("w"),gS=ls("M"),vS=ls("Q"),_S=ls("y");function wS(){return xn(this)}function bS(s){return s=fn(s),this.isValid()?this[s+"s"]():NaN}function ar(s){return function(){return this.isValid()?this._data[s]:NaN}}var yS=ar("milliseconds"),xS=ar("seconds"),SS=ar("minutes"),MS=ar("hours"),ES=ar("days"),TS=ar("months"),CS=ar("years");function AS(){return an(this.days()/7)}var $n=Math.round,Ar={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function LS(s,e,t,i,n){return n.relativeTime(e||1,!!t,s,i)}function kS(s,e,t,i){var n=xn(s).abs(),r=$n(n.as("s")),a=$n(n.as("m")),o=$n(n.as("h")),l=$n(n.as("d")),c=$n(n.as("M")),u=$n(n.as("w")),h=$n(n.as("y")),f=r<=t.ss&&["s",r]||r<t.s&&["ss",r]||a<=1&&["m"]||a<t.m&&["mm",a]||o<=1&&["h"]||o<t.h&&["hh",o]||l<=1&&["d"]||l<t.d&&["dd",l];return t.w!=null&&(f=f||u<=1&&["w"]||u<t.w&&["ww",u]),f=f||c<=1&&["M"]||c<t.M&&["MM",c]||h<=1&&["y"]||["yy",h],f[2]=e,f[3]=+s>0,f[4]=i,LS.apply(null,f)}function PS(s){return s===void 0?$n:typeof s=="function"?($n=s,!0):!1}function DS(s,e){return Ar[s]===void 0?!1:e===void 0?Ar[s]:(Ar[s]=e,s==="s"&&(Ar.ss=e-1),!0)}function IS(s,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,i=Ar,n,r;return typeof s=="object"&&(e=s,s=!1),typeof s=="boolean"&&(t=s),typeof e=="object"&&(i=Object.assign({},Ar,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),n=this.localeData(),r=kS(this,!t,i,n),t&&(r=n.pastFuture(+this,r)),n.postformat(r)}var Yl=Math.abs;function lr(s){return(s>0)-(s<0)||+s}function xl(){if(!this.isValid())return this.localeData().invalidDate();var s=Yl(this._milliseconds)/1e3,e=Yl(this._days),t=Yl(this._months),i,n,r,a,o=this.asSeconds(),l,c,u,h;return o?(i=an(s/60),n=an(i/60),s%=60,i%=60,r=an(t/12),t%=12,a=s?s.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",c=lr(this._months)!==lr(o)?"-":"",u=lr(this._days)!==lr(o)?"-":"",h=lr(this._milliseconds)!==lr(o)?"-":"",l+"P"+(r?c+r+"Y":"")+(t?c+t+"M":"")+(e?u+e+"D":"")+(n||i||s?"T":"")+(n?h+n+"H":"")+(i?h+i+"M":"")+(s?h+a+"S":"")):"P0D"}var yt=bl.prototype;yt.isValid=Ex;yt.abs=sS;yt.add=rS;yt.subtract=aS;yt.as=lS;yt.asMilliseconds=uS;yt.asSeconds=fS;yt.asMinutes=dS;yt.asHours=hS;yt.asDays=pS;yt.asWeeks=mS;yt.asMonths=gS;yt.asQuarters=vS;yt.asYears=_S;yt.valueOf=cS;yt._bubble=oS;yt.clone=wS;yt.get=bS;yt.milliseconds=yS;yt.seconds=xS;yt.minutes=SS;yt.hours=MS;yt.days=ES;yt.weeks=AS;yt.months=TS;yt.years=CS;yt.humanize=IS;yt.toISOString=xl;yt.toString=xl;yt.toJSON=xl;yt.locale=l0;yt.localeData=u0;yt.toIsoString=un("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xl);yt.lang=c0;He("X",0,0,"unix");He("x",0,0,"valueOf");Ne("x",gl);Ne("X",ty);Dt("X",function(s,e,t){t._d=new Date(parseFloat(s)*1e3)});Dt("x",function(s,e,t){t._d=new Date(pt(s))});//! moment.js
Ie.version="2.29.4";Rb(Ft);Ie.fn=Ee;Ie.min=yx;Ie.max=xx;Ie.now=Sx;Ie.utc=zn;Ie.unix=K2;Ie.months=Q2;Ie.isDate=qa;Ie.locale=ys;Ie.invalid=fl;Ie.duration=xn;Ie.isMoment=yn;Ie.weekdays=tS;Ie.parseZone=J2;Ie.localeData=os;Ie.isDuration=zo;Ie.monthsShort=eS;Ie.weekdaysMin=nS;Ie.defineLocale=Lu;Ie.updateLocale=Jy;Ie.locales=Qy;Ie.weekdaysShort=iS;Ie.normalizeUnits=fn;Ie.relativeTimeRounding=PS;Ie.relativeTimeThreshold=DS;Ie.calendarFormat=Xx;Ie.prototype=Ee;Ie.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function Kf(s){let e,t=(typeof s[2]=="object"?sf(s[2]):s[2])+"",i,n;return{c(){e=Y("h4"),i=je(t),this.h()},l(r){e=q(r,"H4",{class:!0});var a=G(e);i=Ye(a,t),a.forEach(D),this.h()},h(){T(e,"class",n="accent "+(s[1]>768?"mb-[30px] text-[length:16px]":"mb-[20px] text-[length:13px]"))},m(r,a){Q(r,e,a),B(e,i)},p(r,a){a&4&&t!==(t=(typeof r[2]=="object"?sf(r[2]):r[2])+"")&&ut(i,t),a&2&&n!==(n="accent "+(r[1]>768?"mb-[30px] text-[length:16px]":"mb-[20px] text-[length:13px]"))&&T(e,"class",n)},d(r){r&&D(e)}}}function RS(s){let e,t,i,n,r=s[4].days+"",a,o,l="Days",c,u,h=":",f,d,g,p=(s[4].hours<10?`0${s[4].hours}`:s[4].hours)+"",m,v,w="Hours",_,x,b=":",S,M,y,E=(s[4].minutes<10?`0${s[4].minutes}`:s[4].minutes)+"",C,P,L="Minutes",k,A,I=":",R,O,z,V=(s[4].seconds<10?`0${s[4].seconds}`:s[4].seconds)+"",$,K,U="Seconds",ee,Z=s[2]&&Kf(s);return{c(){Z&&Z.c(),e=le(),t=Y("div"),i=Y("dl"),n=Y("dt"),a=je(r),o=Y("dd"),o.textContent=l,c=le(),u=Y("span"),u.textContent=h,f=le(),d=Y("dl"),g=Y("dt"),m=je(p),v=Y("dd"),v.textContent=w,_=le(),x=Y("span"),x.textContent=b,S=le(),M=Y("dl"),y=Y("dt"),C=je(E),P=Y("dd"),P.textContent=L,k=le(),A=Y("span"),A.textContent=I,R=le(),O=Y("dl"),z=Y("dt"),$=je(V),K=Y("dd"),K.textContent=U,this.h()},l(te){Z&&Z.l(te),e=ce(te),t=q(te,"DIV",{class:!0});var j=G(t);i=q(j,"DL",{});var ie=G(i);n=q(ie,"DT",{});var oe=G(n);a=Ye(oe,r),oe.forEach(D),o=q(ie,"DD",{"data-svelte-h":!0}),bi(o)!=="svelte-ezotwl"&&(o.textContent=l),ie.forEach(D),c=ce(j),u=q(j,"SPAN",{"data-svelte-h":!0}),bi(u)!=="svelte-5vnx5k"&&(u.textContent=h),f=ce(j),d=q(j,"DL",{});var ve=G(d);g=q(ve,"DT",{});var ge=G(g);m=Ye(ge,p),ge.forEach(D),v=q(ve,"DD",{"data-svelte-h":!0}),bi(v)!=="svelte-1syhshz"&&(v.textContent=w),ve.forEach(D),_=ce(j),x=q(j,"SPAN",{"data-svelte-h":!0}),bi(x)!=="svelte-5vnx5k"&&(x.textContent=b),S=ce(j),M=q(j,"DL",{});var Le=G(M);y=q(Le,"DT",{});var Re=G(y);C=Ye(Re,E),Re.forEach(D),P=q(Le,"DD",{"data-svelte-h":!0}),bi(P)!=="svelte-18101c5"&&(P.textContent=L),Le.forEach(D),k=ce(j),A=q(j,"SPAN",{"data-svelte-h":!0}),bi(A)!=="svelte-5vnx5k"&&(A.textContent=I),R=ce(j),O=q(j,"DL",{});var ke=G(O);z=q(ke,"DT",{});var ot=G(z);$=Ye(ot,V),ot.forEach(D),K=q(ke,"DD",{"data-svelte-h":!0}),bi(K)!=="svelte-5zbjoh"&&(K.textContent=U),ke.forEach(D),j.forEach(D),this.h()},h(){T(t,"class",ee="flex theme-"+s[3]+" "+(s[0]==="center"?"justify-center":s[0]==="right"?"justify-end":"")+" items-start timer-"+(s[1]>768?"desktop mb-[30px]":"mobile mb-[20px]")),Ju(t,"opacity-0",s[4].raw<=0)},m(te,j){Z&&Z.m(te,j),Q(te,e,j),Q(te,t,j),B(t,i),B(i,n),B(n,a),B(i,o),B(t,c),B(t,u),B(t,f),B(t,d),B(d,g),B(g,m),B(d,v),B(t,_),B(t,x),B(t,S),B(t,M),B(M,y),B(y,C),B(M,P),B(t,k),B(t,A),B(t,R),B(t,O),B(O,z),B(z,$),B(O,K)},p(te,[j]){te[2]?Z?Z.p(te,j):(Z=Kf(te),Z.c(),Z.m(e.parentNode,e)):Z&&(Z.d(1),Z=null),j&16&&r!==(r=te[4].days+"")&&ut(a,r),j&16&&p!==(p=(te[4].hours<10?`0${te[4].hours}`:te[4].hours)+"")&&ut(m,p),j&16&&E!==(E=(te[4].minutes<10?`0${te[4].minutes}`:te[4].minutes)+"")&&ut(C,E),j&16&&V!==(V=(te[4].seconds<10?`0${te[4].seconds}`:te[4].seconds)+"")&&ut($,V),j&11&&ee!==(ee="flex theme-"+te[3]+" "+(te[0]==="center"?"justify-center":te[0]==="right"?"justify-end":"")+" items-start timer-"+(te[1]>768?"desktop mb-[30px]":"mobile mb-[20px]"))&&T(t,"class",ee),j&27&&Ju(t,"opacity-0",te[4].raw<=0)},i:Pe,o:Pe,d(te){te&&(D(e),D(t)),Z&&Z.d(te)}}}function zS(s,e,t){let{align:i="center"}=e,{timestamp:n}=e,{width:r=0}=e,{headline:a=null}=e,{theme:o="primary"}=e,l=new Ie.utc(n),c=new Ie.utc,u=Ie(l).local(),h=c.local(),f={raw:0,days:0,hours:0,minutes:0,seconds:0};const d=g=>{g.subtract(1,"seconds");let p=g.diff(h),m=Math.floor(p/(1e3*60*60*24)),v=Math.floor(p/(1e3*60*60)%24),w=Math.floor(p/1e3/60%60),_=Math.floor(p/1e3%60);t(4,f.raw=Math.floor(p/1e3),f),t(4,f.days=m,f),t(4,f.hours=v,f),t(4,f.minutes=w,f),t(4,f.seconds=_,f)};return u&&setInterval(()=>{d(u)},1e3),s.$$set=g=>{"align"in g&&t(0,i=g.align),"timestamp"in g&&t(5,n=g.timestamp),"width"in g&&t(1,r=g.width),"headline"in g&&t(2,a=g.headline),"theme"in g&&t(3,o=g.theme)},[i,r,a,o,f,n]}class y0 extends nt{constructor(e){super(),st(this,e,zS,RS,Ge,{align:0,timestamp:5,width:1,headline:2,theme:3})}}function Jf(s){let e,t;return e=new Ya({props:{src:s[2].background_video.url,cover:!0,autoplay:"autoplay"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&4&&(r.src=i[2].background_video.url),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Qf(s){let e,t,i;return t=new ei({props:{src:s[2].background_image.url,srcMobile:s[2].background_image.mobile.url,width:s[20],height:s[21],cover:!0}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","w-full h-full z-0")},m(n,r){Q(n,e,r),we(t,e,null),s[28](e),i=!0},p(n,r){const a={};r[0]&4&&(a.src=n[2].background_image.url),r[0]&4&&(a.srcMobile=n[2].background_image.mobile.url),t.$set(a)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t),s[28](null)}}}function ed(s){let e,t,i;return t=new ei({props:{src:s[2].foreground_image.url,srcMobile:s[2].foreground_image.mobile.url,width:s[18],height:s[19],cover:!0}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","w-full h-full absolute bottom-0 left-0 z-[1]")},m(n,r){Q(n,e,r),we(t,e,null),s[29](e),i=!0},p(n,r){const a={};r[0]&4&&(a.src=n[2].foreground_image.url),r[0]&4&&(a.srcMobile=n[2].foreground_image.mobile.url),t.$set(a)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t),s[29](null)}}}function td(s){let e;return{c(){e=Y("div"),this.h()},l(t){e=q(t,"DIV",{class:!0}),G(e).forEach(D),this.h()},h(){T(e,"class","absolute w-full h-full top-0 left-0 z-[2] bg-gradient-to-t from-black/70")},m(t,i){Q(t,e,i)},d(t){t&&D(e)}}}function id(s){let e,t,i=cn(s[2].eyebrow)+"";return{c(){e=Y("div"),t=new In(!1),this.h()},l(n){e=q(n,"DIV",{style:!0,class:!0});var r=G(e);t=Rn(r,!1),r.forEach(D),this.h()},h(){t.a=null,Ce(e,"--var-w",s[16]===!0?"calc(100% - var(--site-gutter-x)*2)":"100%"),T(e,"class","eyebrow-wrapper "+(s[16]===!0?"absolute top-[80px] left-[var(--site-gutter-x)]":"static")+" w-[var(--var-w)]")},m(n,r){Q(n,e,r),t.m(i,e)},p(n,r){r[0]&4&&i!==(i=cn(n[2].eyebrow)+"")&&t.p(i)},d(n){n&&D(e)}}}function nd(s){let e,t=s[12].property.id,i,n=sd(s);return{c(){e=Y("div"),n.c(),this.h()},l(r){e=q(r,"DIV",{class:!0});var a=G(e);n.l(a),a.forEach(D),this.h()},h(){T(e,"class","mb-[20px] dk:mb-[30px] max-w-[875px] px-[40px] mx-auto w-full flex justify-center "+(s[16]===!0?"pt-[80px]":""))},m(r,a){Q(r,e,a),n.m(e,null),i=!0},p(r,a){a[0]&4096&&Ge(t,t=r[12].property.id)?(Se(),W(n,1,1,Pe),Me(),n=sd(r),n.c(),F(n,1),n.m(e,null)):n.p(r,a)},i(r){i||(F(n),i=!0)},o(r){W(n),i=!1},d(r){r&&D(e),n.d(r)}}}function FS(s){let e,t,i;return t=new ei({props:{src:s[12].property.data.logo.url,type:"fullwidth",width:s[12].property.data.logo.dimensions.width,height:s[12].property.data.logo.dimensions.height}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","w-[100%] max-w-[650px] relative flex "+(s[14]==="center"?"mx-auto":""))},m(n,r){Q(n,e,r),we(t,e,null),i=!0},p(n,r){const a={};r[0]&4096&&(a.src=n[12].property.data.logo.url),r[0]&4096&&(a.width=n[12].property.data.logo.dimensions.width),r[0]&4096&&(a.height=n[12].property.data.logo.dimensions.height),t.$set(a)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t)}}}function OS(s){let e,t,i;return t=new ei({props:{src:s[12].property.data.logo.url,type:"fullwidth",width:s[12].property.data.logo.dimensions.width,height:s[12].property.data.logo.dimensions.width}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","w-[60%] max-w-[420px] relative flex "+(s[14]==="center"?"mx-auto":""))},m(n,r){Q(n,e,r),we(t,e,null),i=!0},p(n,r){const a={};r[0]&4096&&(a.src=n[12].property.data.logo.url),r[0]&4096&&(a.width=n[12].property.data.logo.dimensions.width),r[0]&4096&&(a.height=n[12].property.data.logo.dimensions.width),t.$set(a)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t)}}}function NS(s){let e,t,i;return t=new ei({props:{src:s[12].property.data.logo.url,type:"fullwidth",width:s[12].property.data.logo.dimensions.width,height:s[12].property.data.logo.dimensions.width}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","w-[60%] max-w-[360px] relative flex "+(s[14]==="center"?"mx-auto":""))},m(n,r){Q(n,e,r),we(t,e,null),i=!0},p(n,r){const a={};r[0]&4096&&(a.src=n[12].property.data.logo.url),r[0]&4096&&(a.width=n[12].property.data.logo.dimensions.width),r[0]&4096&&(a.height=n[12].property.data.logo.dimensions.width),t.$set(a)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t)}}}function BS(s){let e,t,i;return t=new ei({props:{src:s[12].property.data.logo.url,type:"fullwidth",width:s[12].property.data.logo.dimensions.width,height:s[12].property.data.logo.dimensions.width}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","w-[60%] max-w-[240px] relative flex "+(s[14]==="center"?"mx-auto":""))},m(n,r){Q(n,e,r),we(t,e,null),i=!0},p(n,r){const a={};r[0]&4096&&(a.src=n[12].property.data.logo.url),r[0]&4096&&(a.width=n[12].property.data.logo.dimensions.width),r[0]&4096&&(a.height=n[12].property.data.logo.dimensions.width),t.$set(a)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t)}}}function sd(s){let e,t,i,n;const r=[BS,NS,OS,FS],a=[];function o(l,c){return l[2].logo_scale=="Small"?0:l[2].logo_scale=="Medium"?1:l[2].logo_scale=="Large"?2:3}return e=o(s),t=a[e]=r[e](s),{c(){t.c(),i=ue()},l(l){t.l(l),i=ue()},m(l,c){a[e].m(l,c),Q(l,i,c),n=!0},p(l,c){let u=e;e=o(l),e===u?a[e].p(l,c):(Se(),W(a[u],1,1,()=>{a[u]=null}),Me(),t=a[e],t?t.p(l,c):(t=a[e]=r[e](l),t.c()),F(t,1),t.m(i.parentNode,i))},i(l){n||(F(t),n=!0)},o(l){W(t),n=!1},d(l){l&&D(i),a[e].d(l)}}}function VS(s){let e,t,i,n,r;const a=[GS,WS],o=[];function l(c,u){var h;return u[0]&4&&(e=null),e==null&&(e=!!(c[2].text_animation&&((h=c[2].text_animation)==null?void 0:h.toLowerCase())=="gravity")),e?0:1}return t=l(s,[-1,-1]),i=o[t]=a[t](s),{c(){i.c(),n=ue()},l(c){i.l(c),n=ue()},m(c,u){o[t].m(c,u),Q(c,n,u),r=!0},p(c,u){let h=t;t=l(c,u),t===h?o[t].p(c,u):(Se(),W(o[h],1,1,()=>{o[h]=null}),Me(),i=o[t],i?i.p(c,u):(i=o[t]=a[t](c),i.c()),F(i,1),i.m(n.parentNode,n))},i(c){r||(F(i),r=!0)},o(c){W(i),r=!1},d(c){c&&D(n),o[t].d(c)}}}function US(s){let e,t;return e=new y0({props:{timestamp:s[22],width:s[11],headline:s[17]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&2048&&(r.width=i[11]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function WS(s){let e,t;return e=new Bi({props:{scale:s[2].content_scale,content:s[2].headline}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&4&&(r.scale=i[2].content_scale),n[0]&4&&(r.content=i[2].headline),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function GS(s){let e,t;return e=new vu({props:{active:!0,inView:s[6],align:s[14],$$slots:{default:[HS]},$$scope:{ctx:s}}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&64&&(r.inView=i[6]),n[1]&8&&(r.$$scope={dirty:n,ctx:i}),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function HS(s){let e,t;return e=new Bi({props:{content:s[17]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p:Pe,i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function rd(s){var A,I,R,O,z,V,$,K,U,ee,Z,te;let e,t,i,n,r,a,o,l,c,u,h,f,d,g,p,m,v,w,_,x,b=((I=(A=s[2])==null?void 0:A.background_video)==null?void 0:I.url)&&Jf(s),S=((O=(R=s[2])==null?void 0:R.background_image)==null?void 0:O.url)&&Qf(s),M=((V=(z=s[2])==null?void 0:z.foreground_image)==null?void 0:V.url)&&ed(s),y=(($=s[2])==null?void 0:$.media_shadow)!==!1&&s[17]&&td(),E=((K=s[2])==null?void 0:K.eyebrow)&&id(s),C=((U=s[2])==null?void 0:U.show_logo)!==!1&&((te=(Z=(ee=s[12].property)==null?void 0:ee.data)==null?void 0:Z.logo)==null?void 0:te.url)&&nd(s);const P=[US,VS],L=[];function k(j,ie){return j[22]?0:j[17]?1:-1}return~(f=k(s))&&(d=L[f]=P[f](s)),{c(){e=Y("section"),t=Y("div"),i=Y("div"),b&&b.c(),n=le(),S&&S.c(),r=le(),M&&M.c(),a=le(),y&&y.c(),o=le(),l=Y("div"),c=Y("div"),E&&E.c(),u=le(),C&&C.c(),h=le(),d&&d.c(),this.h()},l(j){e=q(j,"SECTION",{id:!0,"data-idx":!0,"data-variation":!0,class:!0});var ie=G(e);t=q(ie,"DIV",{class:!0});var oe=G(t);i=q(oe,"DIV",{class:!0});var ve=G(i);b&&b.l(ve),n=ce(ve),S&&S.l(ve),r=ce(ve),M&&M.l(ve),a=ce(ve),y&&y.l(ve),ve.forEach(D),o=ce(oe),l=q(oe,"DIV",{class:!0});var ge=G(l);c=q(ge,"DIV",{class:!0});var Le=G(c);E&&E.l(Le),u=ce(Le),C&&C.l(Le),h=ce(Le),d&&d.l(Le),Le.forEach(D),ge.forEach(D),oe.forEach(D),ie.forEach(D),this.h()},h(){T(i,"class","relative w-full h-full z-0"),T(c,"class","max-w-[995px] w-full"),T(l,"class",g="absolute parallax-up overflow-hidden inset-0 flex flex-col dk:left-0 dk:top-0 m-auto text-center ca w-full h-full z-[3] "+(s[15]==="Center"?"justify-center":s[15]==="Bottom"?"justify-end":"justify-start")+" "+(s[5]==="center"?"items-center":s[5]==="start"?"items-start":"items-end")),T(t,"class","relative text-measure w-full h-screen theme-"+s[13]),T(e,"id",s[0]),T(e,"data-idx",s[1]),T(e,"data-variation",s[3]),T(e,"class",p="fullscreen-media slice-section "+(s[7]?"parallax-hide":"")),gt(()=>s[30].call(e))},m(j,ie){var oe;Q(j,e,ie),B(e,t),B(t,i),b&&b.m(i,null),B(i,n),S&&S.m(i,null),B(i,r),M&&M.m(i,null),B(i,a),y&&y.m(i,null),B(t,o),B(t,l),B(l,c),E&&E.m(c,null),B(c,u),C&&C.m(c,null),B(c,h),~f&&L[f].m(c,null),m=Qt(e,s[30].bind(e)),w=!0,_||(x=[el(v=tl.call(null,e,{threshold:s[2].text_animation&&((oe=s[2].text_animation)==null?void 0:oe.toLowerCase())=="gravity"?s[23]:s[24]})),Qe(e,"change",s[25])],_=!0)},p(j,ie){var oe,ve,ge,Le,Re,ke,ot,tt,lt,It,vt,it,oi;(ve=(oe=j[2])==null?void 0:oe.background_video)!=null&&ve.url?b?(b.p(j,ie),ie[0]&4&&F(b,1)):(b=Jf(j),b.c(),F(b,1),b.m(i,n)):b&&(Se(),W(b,1,1,()=>{b=null}),Me()),(Le=(ge=j[2])==null?void 0:ge.background_image)!=null&&Le.url?S?(S.p(j,ie),ie[0]&4&&F(S,1)):(S=Qf(j),S.c(),F(S,1),S.m(i,r)):S&&(Se(),W(S,1,1,()=>{S=null}),Me()),(ke=(Re=j[2])==null?void 0:Re.foreground_image)!=null&&ke.url?M?(M.p(j,ie),ie[0]&4&&F(M,1)):(M=ed(j),M.c(),F(M,1),M.m(i,a)):M&&(Se(),W(M,1,1,()=>{M=null}),Me()),((ot=j[2])==null?void 0:ot.media_shadow)!==!1&&j[17]?y||(y=td(),y.c(),y.m(i,null)):y&&(y.d(1),y=null),(tt=j[2])!=null&&tt.eyebrow?E?E.p(j,ie):(E=id(j),E.c(),E.m(c,u)):E&&(E.d(1),E=null),((lt=j[2])==null?void 0:lt.show_logo)!==!1&&((it=(vt=(It=j[12].property)==null?void 0:It.data)==null?void 0:vt.logo)!=null&&it.url)?C?(C.p(j,ie),ie[0]&4100&&F(C,1)):(C=nd(j),C.c(),F(C,1),C.m(c,h)):C&&(Se(),W(C,1,1,()=>{C=null}),Me()),d&&d.p(j,ie),(!w||ie[0]&32&&g!==(g="absolute parallax-up overflow-hidden inset-0 flex flex-col dk:left-0 dk:top-0 m-auto text-center ca w-full h-full z-[3] "+(j[15]==="Center"?"justify-center":j[15]==="Bottom"?"justify-end":"justify-start")+" "+(j[5]==="center"?"items-center":j[5]==="start"?"items-start":"items-end")))&&T(l,"class",g),(!w||ie[0]&1)&&T(e,"id",j[0]),(!w||ie[0]&2)&&T(e,"data-idx",j[1]),(!w||ie[0]&8)&&T(e,"data-variation",j[3]),(!w||ie[0]&128&&p!==(p="fullscreen-media slice-section "+(j[7]?"parallax-hide":"")))&&T(e,"class",p),v&&Vm(v.update)&&ie[0]&4&&v.update.call(null,{threshold:j[2].text_animation&&((oi=j[2].text_animation)==null?void 0:oi.toLowerCase())=="gravity"?j[23]:j[24]})},i(j){w||(F(b),F(S),F(M),F(C),F(d),w=!0)},o(j){W(b),W(S),W(M),W(C),W(d),w=!1},d(j){j&&D(e),b&&b.d(),S&&S.d(),M&&M.d(),y&&y.d(),E&&E.d(),C&&C.d(),~f&&L[f].d(),m(),_=!1,Qi(x)}}}function jS(s){let e=!1,t=()=>{e=!1},i,n=s[0],r,a,o,l;gt(s[26]),gt(s[27]);let c=rd(s);return{c(){c.c(),r=ue()},l(u){c.l(u),r=ue()},m(u,h){c.m(u,h),Q(u,r,h),a=!0,o||(l=[Qe(window,"resize",s[26]),Qe(window,"scroll",()=>{e=!0,clearTimeout(i),i=setTimeout(t,100),s[27]()})],o=!0)},p(u,h){h[0]&16&&!e&&(e=!0,clearTimeout(i),scrollTo(window.pageXOffset,u[4]),i=setTimeout(t,100)),h[0]&1&&Ge(n,n=u[0])?(Se(),W(c,1,1,Pe),Me(),c=rd(u),c.c(),F(c,1),c.m(r.parentNode,r)):c.p(u,h)},i(u){a||(F(c),a=!0)},o(u){W(c),a=!1},d(u){u&&D(r),c.d(u),o=!1,Qi(l)}}}let ro=1680;function YS(s,e,t){var K,U,ee,Z,te,j,ie,oe,ve,ge;let i;Yt(s,yv,Le=>t(12,i=Le));let{id:n}=e,{index:r}=e,{data:a}=e,{variation:o}=e,l=typeof(a==null?void 0:a.theme)=="string"?a.theme.toLowerCase():"primary",c=(a==null?void 0:a.text_alignment)||null,u=(a==null?void 0:a.content_alignment)||"Center",h=a.eyebrow_placement,f="center",d=a!=null&&a.headline&&(a!=null&&a.headline[0])&&(a==null?void 0:a.headline[0].text)!=""?a.headline:null,g=((U=(K=a==null?void 0:a.background_image)==null?void 0:K.dimensions)==null?void 0:U.width)<ro?a.background_image.dimensions.width:ro,p=(ee=a==null?void 0:a.background_image)!=null&&ee.url?a.background_image.dimensions.height/a.background_image.dimensions.width:.5625,m=(te=(Z=a==null?void 0:a.background_image)==null?void 0:Z.dimensions)!=null&&te.height?a.background_image.dimensions.height*p:g*p,v=((ie=(j=a==null?void 0:a.background_image)==null?void 0:j.dimensions)==null?void 0:ie.width)<ro?a.background_image.dimensions.width:ro,w=(oe=a==null?void 0:a.background_image)!=null&&oe.url?a.background_image.dimensions.height/a.background_image.dimensions.width:.5625,_=(ge=(ve=a==null?void 0:a.background_image)==null?void 0:ve.dimensions)!=null&&ge.height?a.background_image.dimensions.height*w:g*w,x=a==null?void 0:a.countdown_timer,b=!1,S,M,y,E=0,C=0,P=E>768?.5:.6,L=E>768?.1:.2;c.toLowerCase()==="left"?f="start":c.toLowerCase()==="right"&&(f="end");const k=()=>{if(b===!0&&S){let Le=E>768?.24:.12;Ht.set(M,{y:y*Le}),Ht.set(".parallax-up",{y:y*(Le/2)})}};let A;const I=Le=>{t(6,b=Le.detail.inView),b===!0&&S&&Ht.to(".parallax-hide",{opacity:1,duration:.3}),b===!1&&S&&Ht.to(".parallax-hide",{opacity:0,duration:.3})};function R(){t(9,E=window.innerWidth),t(10,C=window.innerHeight)}function O(){t(4,y=window.pageYOffset)}function z(Le){Mt[Le?"unshift":"push"](()=>{S=Le,t(7,S)})}function V(Le){Mt[Le?"unshift":"push"](()=>{M=Le,t(8,M)})}function $(){A=this.clientWidth,t(11,A)}return s.$$set=Le=>{"id"in Le&&t(0,n=Le.id),"index"in Le&&t(1,r=Le.index),"data"in Le&&t(2,a=Le.data),"variation"in Le&&t(3,o=Le.variation)},s.$$.update=()=>{s.$$.dirty[0]&16&&k()},[n,r,a,o,y,f,b,S,M,E,C,A,i,l,c,u,h,d,g,m,v,_,x,P,L,I,R,O,z,V,$]}class qS extends nt{constructor(e){super(),st(this,e,YS,jS,Ge,{id:0,index:1,data:2,variation:3},null,[-1,-1])}}function XS(s){let e,t,i,n;return{c(){e=Ze("svg"),t=Ze("circle"),i=Ze("path"),n=Ze("path"),this.h()},l(r){e=$e(r,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=G(e);t=$e(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),G(t).forEach(D),i=$e(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0}),G(i).forEach(D),n=$e(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0}),G(n).forEach(D),a.forEach(D),this.h()},h(){T(t,"cx","24"),T(t,"cy","24"),T(t,"r","24"),T(t,"fill",s[1]),T(i,"d","M16.7744 16.7725L31.7153 31.7133"),T(i,"stroke",s[2]),T(i,"stroke-width",s[3]),T(i,"vector-effect","non-scaling-stroke"),T(n,"d","M16.7744 31.7133L31.7153 16.7725"),T(n,"stroke",s[2]),T(n,"stroke-width",s[3]),T(n,"vector-effect","non-scaling-stroke"),T(e,"class","pointer-events-none"),T(e,"width","48"),T(e,"height","48"),T(e,"viewBox","0 0 48 48"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(r,a){Q(r,e,a),B(e,t),B(e,i),B(e,n)},p(r,a){a&2&&T(t,"fill",r[1]),a&4&&T(i,"stroke",r[2]),a&8&&T(i,"stroke-width",r[3]),a&4&&T(n,"stroke",r[2]),a&8&&T(n,"stroke-width",r[3])},d(r){r&&D(e)}}}function ZS(s){let e,t,i,n;return{c(){e=Ze("svg"),t=Ze("circle"),i=Ze("circle"),n=Ze("path"),this.h()},l(r){e=$e(r,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=G(e);t=$e(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),G(t).forEach(D),i=$e(a,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0}),G(i).forEach(D),n=$e(a,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0}),G(n).forEach(D),a.forEach(D),this.h()},h(){T(t,"cx","24"),T(t,"cy","24"),T(t,"r","24"),T(t,"fill",s[1]),T(i,"cx","28"),T(i,"cy","24"),T(i,"r","3.25"),T(i,"stroke",s[2]),T(i,"stroke-width",s[3]),T(i,"vector-effect","non-scaling-stroke"),T(n,"d","M22.5161 21.2885H22.829L23.0491 21.0662L27.25 16.8234V31.1766L23.0491 26.9338L22.829 26.7115H22.5161H18.75V21.2885H22.5161Z"),T(n,"fill",s[1]),T(n,"stroke",s[2]),T(n,"stroke-width",s[3]),T(n,"vector-effect","non-scaling-stroke"),T(e,"class","pointer-events-none"),T(e,"width","48"),T(e,"height","48"),T(e,"viewBox","0 0 48 48"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(r,a){Q(r,e,a),B(e,t),B(e,i),B(e,n)},p(r,a){a&2&&T(t,"fill",r[1]),a&4&&T(i,"stroke",r[2]),a&8&&T(i,"stroke-width",r[3]),a&2&&T(n,"fill",r[1]),a&4&&T(n,"stroke",r[2]),a&8&&T(n,"stroke-width",r[3])},d(r){r&&D(e)}}}function $S(s){let e,t,i;return{c(){e=Ze("svg"),t=Ze("circle"),i=Ze("path"),this.h()},l(n){e=$e(n,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=G(e);t=$e(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),G(t).forEach(D),i=$e(r,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0}),G(i).forEach(D),r.forEach(D),this.h()},h(){T(t,"cx","24"),T(t,"cy","24"),T(t,"r","24"),T(t,"fill",s[1]),T(i,"d","M22.5161 21.2885H22.829L23.0491 21.0662L27.25 16.8234V31.1766L23.0491 26.9338L22.829 26.7115H22.5161H18.75V21.2885H22.5161Z"),T(i,"fill",s[1]),T(i,"stroke",s[2]),T(i,"stroke-width",s[3]),T(i,"vector-effect","non-scaling-stroke"),T(e,"class","pointer-events-none"),T(e,"width","48"),T(e,"height","48"),T(e,"viewBox","0 0 48 48"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(n,r){Q(n,e,r),B(e,t),B(e,i)},p(n,r){r&2&&T(t,"fill",n[1]),r&2&&T(i,"fill",n[1]),r&4&&T(i,"stroke",n[2]),r&8&&T(i,"stroke-width",n[3])},d(n){n&&D(e)}}}function KS(s){let e,t,i,n;return{c(){e=Ze("svg"),t=Ze("circle"),i=Ze("path"),n=Ze("path"),this.h()},l(r){e=$e(r,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var a=G(e);t=$e(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),G(t).forEach(D),i=$e(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0}),G(i).forEach(D),n=$e(a,"path",{d:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0}),G(n).forEach(D),a.forEach(D),this.h()},h(){T(t,"cx","24"),T(t,"cy","24"),T(t,"r","24"),T(t,"fill",s[1]),T(i,"d","M21 18.001V30.001"),T(i,"stroke",s[2]),T(i,"stroke-width",s[3]),T(i,"vector-effect","non-scaling-stroke"),T(n,"d","M27 18.001V30.001"),T(n,"stroke",s[2]),T(n,"stroke-width",s[3]),T(n,"vector-effect","non-scaling-stroke"),T(e,"class","pointer-events-none"),T(e,"width","48"),T(e,"height","48"),T(e,"viewBox","0 0 48 48"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(r,a){Q(r,e,a),B(e,t),B(e,i),B(e,n)},p(r,a){a&2&&T(t,"fill",r[1]),a&4&&T(i,"stroke",r[2]),a&8&&T(i,"stroke-width",r[3]),a&4&&T(n,"stroke",r[2]),a&8&&T(n,"stroke-width",r[3])},d(r){r&&D(e)}}}function JS(s){let e,t,i;return{c(){e=Ze("svg"),t=Ze("circle"),i=Ze("path"),this.h()},l(n){e=$e(n,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=G(e);t=$e(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),G(t).forEach(D),i=$e(r,"path",{d:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0}),G(i).forEach(D),r.forEach(D),this.h()},h(){T(t,"cx","24"),T(t,"cy","24"),T(t,"r","24"),T(t,"fill",s[1]),T(i,"d","M20.75 19.3473L27.6575 24L20.75 28.6527L20.75 19.3473Z"),T(i,"stroke",s[2]),T(i,"stroke-width",s[3]),T(i,"vector-effect","non-scaling-stroke"),T(e,"class","pointer-events-none"),T(e,"width","48"),T(e,"height","48"),T(e,"viewBox","0 0 48 48"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(n,r){Q(n,e,r),B(e,t),B(e,i)},p(n,r){r&2&&T(t,"fill",n[1]),r&4&&T(i,"stroke",n[2]),r&8&&T(i,"stroke-width",n[3])},d(n){n&&D(e)}}}function QS(s){let e;function t(r,a){return r[0]=="play"?JS:r[0]=="pause"?KS:r[0]=="mute"?$S:r[0]=="unmute"?ZS:XS}let i=t(s),n=i(s);return{c(){n.c(),e=ue()},l(r){n.l(r),e=ue()},m(r,a){n.m(r,a),Q(r,e,a)},p(r,[a]){i===(i=t(r))&&n?n.p(r,a):(n.d(1),n=i(r),n&&(n.c(),n.m(e.parentNode,e)))},i:Pe,o:Pe,d(r){r&&D(e),n.d(r)}}}function eM(s,e,t){let{type:i="close"}=e,{fillColor:n="#FEEA3B"}=e,{strokeColor:r="#222222"}=e,{strokeWidth:a=1.5}=e;return s.$$set=o=>{"type"in o&&t(0,i=o.type),"fillColor"in o&&t(1,n=o.fillColor),"strokeColor"in o&&t(2,r=o.strokeColor),"strokeWidth"in o&&t(3,a=o.strokeWidth)},[i,n,r,a]}class tM extends nt{constructor(e){super(),st(this,e,eM,QS,Ge,{type:0,fillColor:1,strokeColor:2,strokeWidth:3})}}function iM(s){const e=s.slice(),t=e[6]/e[7];e[15]=t;const i=e[7]/e[6];return e[16]=i,e}function nM(s){let e;return{c(){e=je("mp4")},l(t){e=Ye(t,"mp4")},m(t,i){Q(t,e,i)},p:Pe,i:Pe,o:Pe,d(t){t&&D(e)}}}function sM(s){let e,t,i,n,r,a=s[0].html+"",o,l,c;return i=new tM({props:{type:"close"}}),{c(){e=Y("div"),t=Y("button"),_e(i.$$.fragment),n=le(),r=new In(!1),this.h()},l(u){e=q(u,"DIV",{class:!0,style:!0});var h=G(e);t=q(h,"BUTTON",{class:!0,"aria-label":!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0});var f=G(t);xe(i.$$.fragment,f),f.forEach(D),n=ce(h),r=Rn(h,!1),h.forEach(D),this.h()},h(){T(t,"class","absolute cursor-pointer w-[48px] h-[48px] right-[15px] dk:right-0 top-0 translate-x-1/2 -translate-y-1/2 z-10"),T(t,"aria-label","Close Video"),T(t,"data-event-name","interaction"),T(t,"data-event-param","interaction_type"),T(t,"data-event-value","Media Carousel - Close Video Overlay"),r.a=null,T(e,"class","relative m-auto [&>iframe]:w-full [&>iframe]:h-full [&>iframe]:absolute [&>iframe]:top-0 [&>iframe]:left-0 pointer-events-auto"),Ce(e,"--aspect-y",s[16]),Ce(e,"width",(s[1]*s[16]>s[2]?s[2]*s[15]:s[1])+"px"),Ce(e,"height",(s[1]*s[16]>s[2]?s[2]:s[1]*s[16])+"px")},m(u,h){Q(u,e,h),B(e,t),we(i,t,null),B(e,n),r.m(a,e),o=!0,l||(c=[Qe(t,"click",s[8]),Qe(t,"keydown",s[9])],l=!0)},p(u,h){(!o||h&1)&&a!==(a=u[0].html+"")&&r.p(a),(!o||h&6)&&Ce(e,"width",(u[1]*u[16]>u[2]?u[2]*u[15]:u[1])+"px"),(!o||h&6)&&Ce(e,"height",(u[1]*u[16]>u[2]?u[2]:u[1]*u[16])+"px")},i(u){o||(F(i.$$.fragment,u),o=!0)},o(u){W(i.$$.fragment,u),o=!1},d(u){u&&D(e),be(i),l=!1,Qi(c)}}}function rM(s){let e,t,i,n,r,a,o,l,c,u,h,f;const d=[sM,nM],g=[];function p(v,w){return v[4]===!0?0:1}function m(v,w){return w===0?iM(v):v}return a=p(s),o=g[a]=d[a](m(s,a)),{c(){e=Y("div"),t=Y("button"),i=le(),n=Y("div"),r=Y("div"),o.c(),this.h()},l(v){e=q(v,"DIV",{class:!0});var w=G(e);t=q(w,"BUTTON",{tabindex:!0,class:!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0}),G(t).forEach(D),i=ce(w),n=q(w,"DIV",{class:!0});var _=G(n);r=q(_,"DIV",{class:!0});var x=G(r);o.l(x),x.forEach(D),_.forEach(D),w.forEach(D),this.h()},h(){T(t,"tabindex","-1"),T(t,"class","absolute top-0 left-0 w-full h-full bg-primary z-0 pointer-events-auto bg-black/80"),T(t,"data-event-name","interaction"),T(t,"data-event-param","interaction_type"),T(t,"data-event-value","Media Carousel - Close Video Overlay"),T(r,"class","w-full h-full flex items-center relative"),gt(()=>s[12].call(r)),T(n,"class","absolute w-full h-full ca"),T(e,"class",c="fixed top-0 left-0 w-full h-full pointer-events-none z-[200] transition-opacity duration-300 "+(s[3]===!1?"opacity-0":"opacity-100"))},m(v,w){Q(v,e,w),B(e,t),s[11](t),B(e,i),B(e,n),B(n,r),g[a].m(r,null),l=Qt(r,s[12].bind(r)),u=!0,h||(f=[Qe(t,"click",s[8]),Qe(e,"keydown",s[9])],h=!0)},p(v,[w]){let _=a;a=p(v),a===_?g[a].p(m(v,a),w):(Se(),W(g[_],1,1,()=>{g[_]=null}),Me(),o=g[a],o?o.p(m(v,a),w):(o=g[a]=d[a](m(v,a)),o.c()),F(o,1),o.m(r,null)),(!u||w&8&&c!==(c="fixed top-0 left-0 w-full h-full pointer-events-none z-[200] transition-opacity duration-300 "+(v[3]===!1?"opacity-0":"opacity-100")))&&T(e,"class",c)},i(v){u||(F(o),u=!0)},o(v){W(o),u=!1},d(v){v&&D(e),s[11](null),g[a].d(),l(),h=!1,Qi(f)}}}function aM(s,e,t){let i;Yt(s,Xt,v=>t(14,i=v));let{embed:n={}}=e,{open:r}=e,a=0,o=0,l=!1,c=n.width,u=n.height,h=!1,f=null;(n.provider_name=="YouTube"||n.provider_name=="Vimeo")&&(h=!0,n.html),Pi(()=>{t(3,l=!0)});const d=v=>{l!==!1&&(t(3,l=!1),setTimeout(()=>{t(10,r=!1)},300))},g=v=>{v.key==="Escape"&&t(10,r=!1)};Pi(()=>{f&&f.focus(),i.tabs.lockFocus()}),hv(()=>{i.tabs.unLockFocus()});function p(v){Mt[v?"unshift":"push"](()=>{f=v,t(5,f)})}function m(){a=this.clientWidth,o=this.clientHeight,t(1,a),t(2,o)}return s.$$set=v=>{"embed"in v&&t(0,n=v.embed),"open"in v&&t(10,r=v.open)},[n,a,o,l,h,f,c,u,d,g,r,p,m]}class oM extends nt{constructor(e){super(),st(this,e,aM,rM,Ge,{embed:0,open:10})}}const lM=s=>{function e(n,r){var a=new RegExp("(\\?|&)"+r+"\\=([^&]*)(&|$)"),o=n.match(a);return o?o[2]:""}var t={},i;return s.indexOf("youtube.com/watch")!=-1?(t.provider="youtube",t.id=e(s,"v")):(i=s.match(/vimeo.com\/(\d+)/))&&(t.provider="vimeo",t.id=i[1]),t};function ad(s){var i;const e=s.slice(),t=(i=e[4])==null?void 0:i.items[0];return e[5]=t,e}function cM(s){let e,t,i={ctx:s,current:null,token:null,hasCatch:!0,pending:hM,then:fM,catch:uM,value:4,error:6,blocks:[,,,]};return tu(s[2],i),{c(){e=ue(),i.block.c()},l(n){e=ue(),i.block.l(n)},m(n,r){Q(n,e,r),i.block.m(n,i.anchor=r),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(n,r){s=n,iu(i,s,r)},i(n){t||(F(i.block),t=!0)},o(n){for(let r=0;r<3;r+=1){const a=i.blocks[r];W(a)}t=!1},d(n){n&&D(e),i.block.d(n),i.token=null,i=null}}}function uM(s){let e,t=s[6].message+"",i;return{c(){e=Y("p"),i=je(t),this.h()},l(n){e=q(n,"P",{class:!0});var r=G(e);i=Ye(r,t),r.forEach(D),this.h()},h(){T(e,"class","hidden")},m(n,r){Q(n,e,r),B(e,i)},p:Pe,i:Pe,o:Pe,d(n){n&&D(e)}}}function fM(s){var n,r;let e,t,i=((r=(n=s[4])==null?void 0:n.items[0])==null?void 0:r.id)&&dM(ad(s));return{c(){i&&i.c(),e=ue()},l(a){i&&i.l(a),e=ue()},m(a,o){i&&i.m(a,o),Q(a,e,o),t=!0},p(a,o){var l,c;(c=(l=a[4])==null?void 0:l.items[0])!=null&&c.id&&i.p(ad(a),o)},i(a){t||(F(i),t=!0)},o(a){W(i),t=!1},d(a){a&&D(e),i&&i.d(a)}}}function dM(s){var i,n,r,a,o,l,c,u,h,f,d,g,p,m,v,w,_,x,b,S,M,y;let e,t;return e=new m1({props:{schema:{"@type":"VideoObject",name:((i=s[0].media_embed)==null?void 0:i.title)||s[0].slide_header,description:Ut(s[0].slide_text),thumbnailUrl:((o=(a=(r=(n=s[5])==null?void 0:n.snippet)==null?void 0:r.thumbnails)==null?void 0:a.maxres)==null?void 0:o.url)||((h=(u=(c=(l=s[5])==null?void 0:l.snippet)==null?void 0:c.thumbnails)==null?void 0:u.standard)==null?void 0:h.url)||((p=(g=(d=(f=s[5])==null?void 0:f.snippet)==null?void 0:d.thumbnails)==null?void 0:g.high)==null?void 0:p.url),uploadDate:(v=(m=s[5])==null?void 0:m.snippet)==null?void 0:v.publishedAt,embedUrl:(w=s[0].media_embed)==null?void 0:w.embed_url,duration:(x=(_=s[5])==null?void 0:_.contentDetails)==null?void 0:x.duration,interactionStatistic:(S=(b=s[5])==null?void 0:b.statistics)!=null&&S.viewCount?{"@type":"InteractionCounter",interactionType:{"@type":"WatchAction"},userInteractionCount:(y=(M=s[5])==null?void 0:M.statistics)==null?void 0:y.viewCount}:void 0},output:"body"}}),{c(){_e(e.$$.fragment)},l(E){xe(e.$$.fragment,E)},m(E,C){we(e,E,C),t=!0},p(E,C){var L,k,A,I,R,O,z,V,$,K,U,ee,Z,te,j,ie,oe,ve,ge,Le,Re,ke;const P={};C&1&&(P.schema={"@type":"VideoObject",name:((L=E[0].media_embed)==null?void 0:L.title)||E[0].slide_header,description:Ut(E[0].slide_text),thumbnailUrl:((R=(I=(A=(k=E[5])==null?void 0:k.snippet)==null?void 0:A.thumbnails)==null?void 0:I.maxres)==null?void 0:R.url)||(($=(V=(z=(O=E[5])==null?void 0:O.snippet)==null?void 0:z.thumbnails)==null?void 0:V.standard)==null?void 0:$.url)||((Z=(ee=(U=(K=E[5])==null?void 0:K.snippet)==null?void 0:U.thumbnails)==null?void 0:ee.high)==null?void 0:Z.url),uploadDate:(j=(te=E[5])==null?void 0:te.snippet)==null?void 0:j.publishedAt,embedUrl:(ie=E[0].media_embed)==null?void 0:ie.embed_url,duration:(ve=(oe=E[5])==null?void 0:oe.contentDetails)==null?void 0:ve.duration,interactionStatistic:(Le=(ge=E[5])==null?void 0:ge.statistics)!=null&&Le.viewCount?{"@type":"InteractionCounter",interactionType:{"@type":"WatchAction"},userInteractionCount:(ke=(Re=E[5])==null?void 0:Re.statistics)==null?void 0:ke.viewCount}:void 0}),e.$set(P)},i(E){t||(F(e.$$.fragment,E),t=!0)},o(E){W(e.$$.fragment,E),t=!1},d(E){be(e,E)}}}function hM(s){return{c:Pe,l:Pe,m:Pe,p:Pe,i:Pe,o:Pe,d:Pe}}function pM(s){let e,t,i=s[1]&&cM(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,[r]){n[1]&&i.p(n,r)},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function mM(s,e,t){var o;let{item:i}=e,n=(o=i==null?void 0:i.media_embed)==null?void 0:o.embed_url;async function r(l){if(!l)return;l.indexOf("youtu.be")&&(l=l.replace("/youtu.be/","/www.youtube.com/watch?v="),l=l.replace("/www.youtu.be/","/www.youtube.com/watch?v="));let c=lM(l),u=new URLSearchParams(c);return!u||u.toString()==""?void 0:(await fetch(`/api/data/video/get?${u.toString()}`)).json()}let a=r(n);return s.$$set=l=>{"item"in l&&t(0,i=l.item)},[i,n,a]}class gM extends nt{constructor(e){super(),st(this,e,mM,pM,Ge,{item:0})}}function vM(s){let e,t,i;return{c(){e=Ze("svg"),t=Ze("line"),this.h()},l(n){e=$e(n,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var r=G(e);t=$e(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),G(t).forEach(D),r.forEach(D),this.h()},h(){T(t,"x1","5"),T(t,"y1","12"),T(t,"x2","19"),T(t,"y2","12"),T(e,"xmlns","http://www.w3.org/2000/svg"),T(e,"width",s[0]),T(e,"height",s[0]),T(e,"fill","none"),T(e,"viewBox","0 0 24 24"),T(e,"stroke","currentColor"),T(e,"stroke-width",s[1]),T(e,"stroke-linecap","round"),T(e,"stroke-linejoin","round"),T(e,"class",i="feather feather-minus "+s[2])},m(n,r){Q(n,e,r),B(e,t)},p(n,[r]){r&1&&T(e,"width",n[0]),r&1&&T(e,"height",n[0]),r&2&&T(e,"stroke-width",n[1]),r&4&&i!==(i="feather feather-minus "+n[2])&&T(e,"class",i)},i:Pe,o:Pe,d(n){n&&D(e)}}}function _M(s,e,t){let{size:i="24"}=e,{strokeWidth:n=2}=e,{class:r=""}=e;return i!=="100%"&&(i=i.slice(-1)==="x"?i.slice(0,i.length-1)+"em":parseInt(i)+"px"),s.$$set=a=>{"size"in a&&t(0,i=a.size),"strokeWidth"in a&&t(1,n=a.strokeWidth),"class"in a&&t(2,r=a.class)},[i,n,r]}class wM extends nt{constructor(e){super(),st(this,e,_M,vM,Ge,{size:0,strokeWidth:1,class:2})}}function bM(s){let e,t,i,n;return{c(){e=Ze("svg"),t=Ze("line"),i=Ze("line"),this.h()},l(r){e=$e(r,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var a=G(e);t=$e(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),G(t).forEach(D),i=$e(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),G(i).forEach(D),a.forEach(D),this.h()},h(){T(t,"x1","12"),T(t,"y1","5"),T(t,"x2","12"),T(t,"y2","19"),T(i,"x1","5"),T(i,"y1","12"),T(i,"x2","19"),T(i,"y2","12"),T(e,"xmlns","http://www.w3.org/2000/svg"),T(e,"width",s[0]),T(e,"height",s[0]),T(e,"fill","none"),T(e,"viewBox","0 0 24 24"),T(e,"stroke","currentColor"),T(e,"stroke-width",s[1]),T(e,"stroke-linecap","round"),T(e,"stroke-linejoin","round"),T(e,"class",n="feather feather-plus "+s[2])},m(r,a){Q(r,e,a),B(e,t),B(e,i)},p(r,[a]){a&1&&T(e,"width",r[0]),a&1&&T(e,"height",r[0]),a&2&&T(e,"stroke-width",r[1]),a&4&&n!==(n="feather feather-plus "+r[2])&&T(e,"class",n)},i:Pe,o:Pe,d(r){r&&D(e)}}}function yM(s,e,t){let{size:i="24"}=e,{strokeWidth:n=2}=e,{class:r=""}=e;return i!=="100%"&&(i=i.slice(-1)==="x"?i.slice(0,i.length-1)+"em":parseInt(i)+"px"),s.$$set=a=>{"size"in a&&t(0,i=a.size),"strokeWidth"in a&&t(1,n=a.strokeWidth),"class"in a&&t(2,r=a.class)},[i,n,r]}class xM extends nt{constructor(e){super(),st(this,e,yM,bM,Ge,{size:0,strokeWidth:1,class:2})}}function od(s){let e,t;function i(a,o){return o&80&&(e=null),e==null&&(e=a[4].indexOf(".svg")>-1||a[6]!=="responsive"||a[11].set.length<=0),e?MM:SM}let n=i(s,-1),r=n(s);return{c(){r.c(),t=ue()},l(a){r.l(a),t=ue()},m(a,o){r.m(a,o),Q(a,t,o)},p(a,o){n===(n=i(a,o))&&r?r.p(a,o):(r.d(1),r=n(a),r&&(r.c(),r.m(t.parentNode,t)))},d(a){a&&D(t),r.d(a)}}}function SM(s){let e,t,i,n,r,a,o,l;return{c(){e=Y("picture"),t=Y("source"),i=le(),n=Y("img"),this.h()},l(c){e=q(c,"PICTURE",{class:!0});var u=G(e);t=q(u,"SOURCE",{"data-srcset":!0,sizes:!0}),i=ce(u),n=q(u,"IMG",{alt:!0,class:!0,src:!0,width:!0,height:!0,"data-src":!0}),u.forEach(D),this.h()},h(){T(t,"data-srcset",s[11].set),T(t,"sizes",s[0]),T(n,"alt",s[1]),T(n,"class",r="lazy "+(s[2]==="cover"?"object-cover w-full h-full absolute object-center z-0":"")+" "+(s[2]==="contain"?"object-contain w-full h-full absolute object-center z-0":"")),La(n.src,a=s[7]===!0&&s[11].placeholder?s[11].placeholder:null)||T(n,"src",a),T(n,"width",s[5]),T(n,"height",s[3]),T(n,"data-src",s[11].base),T(e,"class",o=(s[2]==="cover"?"object-cover w-full h-full absolute top-0 left-0 object-center z-0":"max-w-full")+" "+(s[2]==="contain"?"object-contain w-full h-full absolute object-center z-0":"")),gt(()=>s[18].call(e))},m(c,u){Q(c,e,u),B(e,t),B(e,i),B(e,n),s[17](e),l=Qt(e,s[18].bind(e))},p(c,u){u&1&&T(t,"sizes",c[0]),u&2&&T(n,"alt",c[1]),u&4&&r!==(r="lazy "+(c[2]==="cover"?"object-cover w-full h-full absolute object-center z-0":"")+" "+(c[2]==="contain"?"object-contain w-full h-full absolute object-center z-0":""))&&T(n,"class",r),u&128&&!La(n.src,a=c[7]===!0&&c[11].placeholder?c[11].placeholder:null)&&T(n,"src",a),u&32&&T(n,"width",c[5]),u&8&&T(n,"height",c[3]),u&4&&o!==(o=(c[2]==="cover"?"object-cover w-full h-full absolute top-0 left-0 object-center z-0":"max-w-full")+" "+(c[2]==="contain"?"object-contain w-full h-full absolute object-center z-0":""))&&T(e,"class",o)},d(c){c&&D(e),s[17](null),l()}}}function MM(s){let e,t,i,n,r;return{c(){e=Y("div"),t=Y("img"),this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);t=q(o,"IMG",{alt:!0,class:!0,width:!0,height:!0,"data-src":!0}),o.forEach(D),this.h()},h(){T(t,"alt",s[1]),T(t,"class",i="lazy "+(s[2]==="cover"?"object-cover w-full h-full absolute object-center z-0":"")+" "+(s[2]==="contain"?"object-contain w-full h-full absolute object-center z-0":"")),T(t,"width",s[5]),T(t,"height",s[3]),T(t,"data-src",s[11].base),T(e,"class",n=(s[2]==="cover"?"object-cover w-full h-full absolute object-center z-0":"max-w-full")+" "+(s[2]==="contain"?"object-contain w-full h-full absolute object-center z-0":"")),gt(()=>s[16].call(e))},m(a,o){Q(a,e,o),B(e,t),s[15](e),r=Qt(e,s[16].bind(e))},p(a,o){o&2&&T(t,"alt",a[1]),o&4&&i!==(i="lazy "+(a[2]==="cover"?"object-cover w-full h-full absolute object-center z-0":"")+" "+(a[2]==="contain"?"object-contain w-full h-full absolute object-center z-0":""))&&T(t,"class",i),o&32&&T(t,"width",a[5]),o&8&&T(t,"height",a[3]),o&4&&n!==(n=(a[2]==="cover"?"object-cover w-full h-full absolute object-center z-0":"max-w-full")+" "+(a[2]==="contain"?"object-contain w-full h-full absolute object-center z-0":""))&&T(e,"class",n)},d(a){a&&D(e),s[15](null),r()}}}function EM(s){let e,t,i;gt(s[14]);let n=s[4]&&od(s);return{c(){n&&n.c(),e=ue()},l(r){n&&n.l(r),e=ue()},m(r,a){n&&n.m(r,a),Q(r,e,a),t||(i=Qe(window,"resize",s[14]),t=!0)},p(r,[a]){r[4]?n?n.p(r,a):(n=od(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Pe,o:Pe,d(r){r&&D(e),n&&n.d(r),t=!1,i()}}}let TM=90;function CM(s,e,t){let i;Yt(s,Xt,y=>t(20,i=y));let{alt:n=""}=e,{breakpoint:r=768}=e,{fit:a="cover"}=e,{height:o=null}=e,{sizes:l="100vw"}=e,{src:c}=e,{srcMobile:u=c}=e,{width:h=2048}=e,{type:f="responsive"}=e,{placeholder:d=!0}=e,g,p=[240,360,480,640,800,1040,1280,1540,1880];p=p.filter(y=>y<=h);let m=Ym({breakpoint:r,src:c,srcMobile:u,quality:TM,width:h,widths:p}),v=0,w=0;Pi(()=>{i.lazyLoad||Wa(Xt,i.lazyLoad=new Ts({threshold:1600,callback_loaded:y=>{y.style.opacity="1"}}),i),i.lazyLoad.update()});function _(){t(9,w=window.innerWidth)}function x(y){Mt[y?"unshift":"push"](()=>{g=y,t(10,g)})}function b(){v=this.clientWidth,t(8,v)}function S(y){Mt[y?"unshift":"push"](()=>{g=y,t(10,g)})}function M(){v=this.clientWidth,t(8,v)}return s.$$set=y=>{"alt"in y&&t(1,n=y.alt),"breakpoint"in y&&t(12,r=y.breakpoint),"fit"in y&&t(2,a=y.fit),"height"in y&&t(3,o=y.height),"sizes"in y&&t(0,l=y.sizes),"src"in y&&t(4,c=y.src),"srcMobile"in y&&t(13,u=y.srcMobile),"width"in y&&t(5,h=y.width),"type"in y&&t(6,f=y.type),"placeholder"in y&&t(7,d=y.placeholder)},s.$$.update=()=>{s.$$.dirty&768&&v>0&&w>0&&t(0,l=`${Math.round(v/w*100)}vw`)},[l,n,a,o,c,h,f,d,v,w,g,m,r,u,_,x,b,S,M]}let AM=class extends nt{constructor(e){super(),st(this,e,CM,EM,Ge,{alt:1,breakpoint:12,fit:2,height:3,sizes:0,src:4,srcMobile:13,width:5,type:6,placeholder:7})}};const Ur=s=>{s=s.replace(/^\s+|\s+$/g,""),s=s.toLowerCase();for(var e="Ã Ã¡Ã¤Ã¢Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Ã²Ã³Ã¶Ã´Ã¹ÃºÃ¼Ã»Ã±Ã§Â·/_,:;",t="aaaaeeeeiiiioooouuuunc------",i=0,n=e.length;i<n;i++)s=s.replace(new RegExp(e.charAt(i),"g"),t.charAt(i));return s=s.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),s};const LM=s=>({slideData:s[0]&1}),ld=s=>({slideData:s[0]});function cd(s,e,t){const i=s.slice();return i[37]=e[t],i[39]=t,i}function ud(s,e,t){const i=s.slice();return i[37]=e[t],i[39]=t,i}function fd(s,e,t){const i=s.slice();return i[41]=e[t],i[39]=t,i}function dd(s){let e,t,i=kt(s[1]),n=[];for(let a=0;a<i.length;a+=1)n[a]=hd(fd(s,i,a));const r=a=>W(n[a],1,1,()=>{n[a]=null});return{c(){e=Y("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);for(let l=0;l<n.length;l+=1)n[l].l(o);o.forEach(D),this.h()},h(){T(e,"class","flex flex-col mr-[var(--grid-gap-x)] w-full")},m(a,o){Q(a,e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null);t=!0},p(a,o){if(o[0]&2562){i=kt(a[1]);let l;for(l=0;l<i.length;l+=1){const c=fd(a,i,l);n[l]?(n[l].p(c,o),F(n[l],1)):(n[l]=hd(c),n[l].c(),F(n[l],1),n[l].m(e,null))}for(Se(),l=i.length;l<n.length;l+=1)r(l);Me()}},i(a){if(!t){for(let o=0;o<i.length;o+=1)F(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)W(n[o]);t=!1},d(a){a&&D(e),Di(n,a)}}}function hd(s){let e,t,i,n,r,a,o;t=new AM({props:{src:s[41].node.url,fit:"cover",sizes:"10vw",width:240,height:240}});function l(){return s[26](s[39])}return{c(){e=Y("button"),_e(t.$$.fragment),i=le(),this.h()},l(c){e=q(c,"BUTTON",{type:!0,class:!0});var u=G(e);xe(t.$$.fragment,u),i=ce(u),u.forEach(D),this.h()},h(){T(e,"type","button"),T(e,"class",n="block w-full aspect-square mb-[var(--content-gap)] border-2 relative overflow-hidden "+(s[39]===s[11]?"rounded-full":""))},m(c,u){Q(c,e,u),we(t,e,null),B(e,i),r=!0,a||(o=Qe(e,"click",l),a=!0)},p(c,u){s=c;const h={};u[0]&2&&(h.src=s[41].node.url),t.$set(h),(!r||u[0]&2048&&n!==(n="block w-full aspect-square mb-[var(--content-gap)] border-2 relative overflow-hidden "+(s[39]===s[11]?"rounded-full":"")))&&T(e,"class",n)},i(c){r||(F(t.$$.fragment,c),r=!0)},o(c){W(t.$$.fragment,c),r=!1},d(c){c&&D(e),be(t),a=!1,o()}}}function pd(s){let e,t,i,n,r,a,o,l,c,u,h,f,d,g,p,m,v,w=kt({length:s[12]}),_=[];for(let b=0;b<w.length;b+=1)_[b]=md(ud(s,w,b));let x=s[6]==="center"&&gd(s);return{c(){e=Y("div"),t=Y("div");for(let b=0;b<_.length;b+=1)_[b].c();i=le(),n=Y("div"),r=Y("button"),a=Ze("svg"),o=Ze("path"),c=le(),x&&x.c(),u=le(),h=Y("button"),f=Ze("svg"),d=Ze("path"),this.h()},l(b){e=q(b,"DIV",{class:!0});var S=G(e);t=q(S,"DIV",{class:!0});var M=G(t);for(let k=0;k<_.length;k+=1)_[k].l(M);M.forEach(D),i=ce(S),n=q(S,"DIV",{class:!0});var y=G(n);r=q(y,"BUTTON",{class:!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0,"aria-label":!0});var E=G(r);a=$e(E,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var C=G(a);o=$e(C,"path",{d:!0,stroke:!0,"stroke-width":!0}),G(o).forEach(D),C.forEach(D),E.forEach(D),c=ce(y),x&&x.l(y),u=ce(y),h=q(y,"BUTTON",{class:!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0,"aria-label":!0});var P=G(h);f=$e(P,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var L=G(f);d=$e(L,"path",{d:!0,stroke:!0,"stroke-width":!0}),G(d).forEach(D),L.forEach(D),P.forEach(D),y.forEach(D),S.forEach(D),this.h()},h(){T(t,"class",s[15]+" flex gap-[10px]"),T(o,"d","M9.125 15.4961L2.125 8.49609L9.125 1.49609"),T(o,"stroke","currentColor"),T(o,"stroke-width","2"),T(a,"class","pointer-events-none -ml-px"),T(a,"width","10"),T(a,"height","17"),T(a,"viewBox","0 0 10 17"),T(a,"fill","none"),T(a,"xmlns","http://www.w3.org/2000/svg"),T(r,"class",s[14]+" flex justify-center items-center w-[35px] h-[35px] btn-circle cursor-pointer"),T(r,"data-event-name","interaction"),T(r,"data-event-param","interaction_type"),T(r,"data-event-value",l=`${s[5]} - Left Arrow`),T(r,"aria-label","Previous Slide"),T(d,"d","M0.875 1.5L7.875 8.5L0.875 15.5"),T(d,"stroke","currentColor"),T(d,"stroke-width","2"),T(f,"class","pointer-events-none ml-[2px]"),T(f,"width","10"),T(f,"height","17"),T(f,"viewBox","0 0 10 17"),T(f,"fill","none"),T(f,"xmlns","http://www.w3.org/2000/svg"),T(h,"class",s[13]+" flex justify-center items-center w-[35px] h-[35px] btn-circle cursor-pointer"),T(h,"data-event-name","interaction"),T(h,"data-event-param","interaction_type"),T(h,"data-event-value",g=`${s[5]} - Right Arrow`),T(h,"aria-label","Next Slide"),T(n,"class","media-controls flex gap-[12px]"),T(e,"class",p="relative z-[1] controls flex items-center justify-between pt-[40px] "+(s[7]!==!0?"":"cx"))},m(b,S){Q(b,e,S),B(e,t);for(let M=0;M<_.length;M+=1)_[M]&&_[M].m(t,null);B(e,i),B(e,n),B(n,r),B(r,a),B(a,o),B(n,c),x&&x.m(n,null),B(n,u),B(n,h),B(h,f),B(f,d),m||(v=[Qe(r,"click",s[28]),Qe(h,"click",s[30])],m=!0)},p(b,S){if(S[0]&6912){w=kt({length:b[12]});let M;for(M=0;M<w.length;M+=1){const y=ud(b,w,M);_[M]?_[M].p(y,S):(_[M]=md(y),_[M].c(),_[M].m(t,null))}for(;M<_.length;M+=1)_[M].d(1);_.length=w.length}S[0]&32&&l!==(l=`${b[5]} - Left Arrow`)&&T(r,"data-event-value",l),b[6]==="center"?x?x.p(b,S):(x=gd(b),x.c(),x.m(n,u)):x&&(x.d(1),x=null),S[0]&32&&g!==(g=`${b[5]} - Right Arrow`)&&T(h,"data-event-value",g),S[0]&128&&p!==(p="relative z-[1] controls flex items-center justify-between pt-[40px] "+(b[7]!==!0?"":"cx"))&&T(e,"class",p)},d(b){b&&D(e),Di(_,b),x&&x.d(),m=!1,Qi(v)}}}function md(s){let e,t,i,n,r;function a(){return s[27](s[39])}return{c(){e=Y("span"),t=Y("button"),this.h()},l(o){e=q(o,"SPAN",{});var l=G(e);t=q(l,"BUTTON",{type:!0,tabindex:!0,class:!0}),G(t).forEach(D),l.forEach(D),this.h()},h(){T(t,"type","button"),T(t,"tabindex","-1"),T(t,"class",i="btn-circle w-[12px] h-[12px] "+(s[11]-(s[8]?s[8]:0)===s[39]?"is-active cursor-default":""))},m(o,l){Q(o,e,l),B(e,t),n||(r=Qe(t,"click",a),n=!0)},p(o,l){s=o,l[0]&2304&&i!==(i="btn-circle w-[12px] h-[12px] "+(s[11]-(s[8]?s[8]:0)===s[39]?"is-active cursor-default":""))&&T(t,"class",i)},d(o){o&&D(e),n=!1,r()}}}function gd(s){let e,t=kt({length:s[12]}),i=[];for(let n=0;n<t.length;n+=1)i[n]=vd(cd(s,t,n));return{c(){e=Y("ul");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=q(n,"UL",{class:!0});var r=G(e);for(let a=0;a<i.length;a+=1)i[a].l(r);r.forEach(D),this.h()},h(){T(e,"class","flex cx")},m(n,r){Q(n,e,r);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null)},p(n,r){if(r[0]&6912){t=kt({length:n[12]});let a;for(a=0;a<t.length;a+=1){const o=cd(n,t,a);i[a]?i[a].p(o,r):(i[a]=vd(o),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=t.length}},d(n){n&&D(e),Di(i,n)}}}function vd(s){let e,t,i,n,r;function a(){return s[29](s[39])}return{c(){e=Y("li"),t=Y("button"),this.h()},l(o){e=q(o,"LI",{class:!0});var l=G(e);t=q(l,"BUTTON",{type:!0,tabindex:!0,class:!0}),G(t).forEach(D),l.forEach(D),this.h()},h(){T(t,"type","button"),T(t,"tabindex","-1"),T(t,"class",i="btn-circle w-[12px] h-[12px] "+(s[11]-(s[8]?s[8]:0)===s[39]?"is-active cursor-default":"")),T(e,"class","mx-[4px]")},m(o,l){Q(o,e,l),B(e,t),n||(r=Qe(t,"click",a),n=!0)},p(o,l){s=o,l[0]&2304&&i!==(i="btn-circle w-[12px] h-[12px] "+(s[11]-(s[8]?s[8]:0)===s[39]?"is-active cursor-default":""))&&T(t,"class",i)},d(o){o&&D(e),n=!1,r()}}}function kM(s){let e,t,i,n,r,a,o,l,c=s[3]&&dd(s),u=s[12]>1&&s[2]===!0&&pd(s);const h=s[25].default,f=Yr(h,s,s[24],ld);return{c(){c&&c.c(),e=le(),t=Y("swiper-container"),i=Y("div"),u&&u.c(),n=le(),f&&f.c(),this.h()},l(d){c&&c.l(d),e=ce(d),t=q(d,"SWIPER-CONTAINER",{class:!0,effect:!0,init:!0,"prevent-interaction-on-transition":!0});var g=G(t);i=q(g,"DIV",{slot:!0});var p=G(i);u&&u.l(p),p.forEach(D),n=ce(g),f&&f.l(g),g.forEach(D),this.h()},h(){T(i,"slot","container-end"),Gt(t,"class","block h-auto w-full"),Gt(t,"effect",s[4]),Gt(t,"init",!1),Gt(t,"prevent-interaction-on-transition",!0),gt(()=>s[32].call(t))},m(d,g){c&&c.m(d,g),Q(d,e,g),Q(d,t,g),B(t,i),u&&u.m(i,null),B(t,n),f&&f.m(t,null),s[31](t),r=Qt(t,s[32].bind(t)),a=!0,o||(l=[Qe(t,"slidechange",s[33]),Qe(t,"beforeslidechangestart",s[34]),Qe(t,"slidechangetransitionend",s[35]),Qe(t,"snapgridlengthchange",s[36])],o=!0)},p(d,g){d[3]?c?(c.p(d,g),g[0]&8&&F(c,1)):(c=dd(d),c.c(),F(c,1),c.m(e.parentNode,e)):c&&(Se(),W(c,1,1,()=>{c=null}),Me()),d[12]>1&&d[2]===!0?u?u.p(d,g):(u=pd(d),u.c(),u.m(i,null)):u&&(u.d(1),u=null),f&&f.p&&(!a||g[0]&16777217)&&qr(f,h,d,d[24],a?Zr(h,d[24],g,LM):Xr(d[24]),ld),(!a||g[0]&16)&&Gt(t,"effect",d[4])},i(d){a||(F(c),F(f,d),a=!0)},o(d){W(c),W(f,d),a=!1},d(d){d&&(D(e),D(t)),c&&c.d(d),u&&u.d(),f&&f.d(d),s[31](null),r(),o=!1,Qi(l)}}}function PM(s,e,t){let i,n,{$$slots:r={},$$scope:a}=e,{alignment:o="start"}=e,{id:l="btn"}=e,{items:c=[]}=e,{selected:u=null}=e,{arrows:h=!0}=e,{thumbs:f=!1}=e,{effect:d="slide"}=e,{params:g={}}=e,{overflow:p=!0}=e,{label:m="Carousel"}=e,{controlsPosition:v=null}=e,{hasMargins:w=!0}=e,{realCount:_=null}=e,{slideData:x={activeIndex:0}}=e,b,S,M=u,y=`next-${l}`,E=`prev-${l}`,C=`controls-${l}`;gu();const P=Object.assign({injectStyles:[`
			:host .swiper  {
				overflow: ${p===!0?"visible":"hidden"};
			}

			:host .swiper-wrapper {
				align-items: ${o.toLowerCase()==="center"?"center":o.toLowerCase()==="bottom"?"end":o.toLowerCase()==="fill"?"stretch":"start"}
			}
		`],loop:!1,slidesPerView:1,spaceBetween:b>768?20:15,simulateTouch:!1},g);_&&(P.initialSlide=_),Pi(()=>{Object.assign(S,P),S.initialize(),S!=null&&S.swiper&&(t(12,n=S.swiper.snapGrid.length),_>0&&t(12,n=_),S.swiper.update())});const L=(Z,te)=>{if(S!=null&&S.swiper){if(Z==="next"&&!_){S.swiper.slideNext();return}if(Z==="prev"&&!_){S.swiper.slidePrev();return}if(Z==="next"&&_){if(i+1>=_*2){S.swiper.slideTo(_,S.swiper.passedParams.speed);return}S.swiper.slideNext();return}Z==="prev"&&_&&(i-1<_&&S.swiper.slideTo(_*2,S.swiper.passedParams.speed),S.swiper.slidePrev())}},k=Z=>S.swiper.slideTo(Z),A=Z=>S.swiper.slideTo(Z+(_||0)),I=()=>L("prev"),R=Z=>S.swiper.slideTo(Z+(_||0)),O=()=>L("next");function z(Z){Mt[Z?"unshift":"push"](()=>{S=Z,t(9,S)})}function V(){b=this.clientWidth,t(10,b)}const $=Z=>{const[te,j]=Z.detail;t(11,i=te.snapIndex||te.activeIndex),t(0,x.activeIndex=i,x),_&&(i<_||i>=_*2)&&(te.allowTouchMove=!1)},K=Z=>{const[te,j]=Z.detail;_&&(i<=_||i+1>=_*2)&&(te.allowTouchMove=!1)},U=Z=>{const[te,j]=Z.detail;t(11,i=te.snapIndex||te.activeIndex),_&&te.allowTouchMove===!1&&(i<_&&te.slideTo(i+_,0),i>=_*2&&te.slideTo(i-_,0),te.allowTouchMove=!0)},ee=Z=>{const[te,j]=Z.detail;t(12,n=te.snapGrid.length)};return s.$$set=Z=>{"alignment"in Z&&t(17,o=Z.alignment),"id"in Z&&t(18,l=Z.id),"items"in Z&&t(1,c=Z.items),"selected"in Z&&t(19,u=Z.selected),"arrows"in Z&&t(2,h=Z.arrows),"thumbs"in Z&&t(3,f=Z.thumbs),"effect"in Z&&t(4,d=Z.effect),"params"in Z&&t(20,g=Z.params),"overflow"in Z&&t(21,p=Z.overflow),"label"in Z&&t(5,m=Z.label),"controlsPosition"in Z&&t(6,v=Z.controlsPosition),"hasMargins"in Z&&t(7,w=Z.hasMargins),"realCount"in Z&&t(8,_=Z.realCount),"slideData"in Z&&t(0,x=Z.slideData),"$$scope"in Z&&t(24,a=Z.$$scope)},s.$$.update=()=>{var Z,te;s.$$.dirty[0]&8388610&&t(12,n=Math.ceil(c.length/P.slidesPerView)),s.$$.dirty[0]&4719106&&u&&u.node.image.url!==((te=(Z=M==null?void 0:M.node)==null?void 0:Z.image)==null?void 0:te.url)&&[...c].forEach((j,ie)=>{j.node.url===u.node.image.url&&(t(22,M=j),S!=null&&S.swiper&&S.swiper.slideTo(ie))})},t(11,i=0),[x,c,h,f,d,m,v,w,_,S,b,i,n,y,E,C,L,o,l,u,g,p,M,P,a,r,k,A,I,R,O,z,V,$,K,U,ee]}class Nu extends nt{constructor(e){super(),st(this,e,PM,kM,Ge,{alignment:17,id:18,items:1,selected:19,arrows:2,thumbs:3,effect:4,params:20,overflow:21,label:5,controlsPosition:6,hasMargins:7,realCount:8,slideData:0},null,[-1,-1])}}function _d(s,e,t){const i=s.slice();return i[25]=e[t],i}function wd(s,e,t){const i=s.slice();return i[29]=e[t],i[3]=t,i}function bd(s){let e,t,i,n,r,a,o,l,c,u,h,f,d=(s[13]||s[14])&&DM(s);const g=[FM,zM],p=[];function m(b,S){var M;return((M=b[9])==null?void 0:M.length)>1?0:1}i=m(s),n=p[i]=g[i](s);let v=s[7]&&s[8]&&Fd(s),w=kt(s[1]),_=[];for(let b=0;b<w.length;b+=1)_[b]=Od(_d(s,w,b));const x=b=>W(_[b],1,1,()=>{_[b]=null});return{c(){e=Y("section"),d&&d.c(),t=le(),n.c(),r=le(),v&&v.c(),l=le();for(let b=0;b<_.length;b+=1)_[b].c();c=ue(),this.h()},l(b){e=q(b,"SECTION",{id:!0,"data-idx":!0,"data-variation":!0,class:!0});var S=G(e);d&&d.l(S),t=ce(S),n.l(S),r=ce(S),v&&v.l(S),S.forEach(D),l=ce(b);for(let M=0;M<_.length;M+=1)_[M].l(b);c=ue(),this.h()},h(){T(e,"id",s[0]),T(e,"data-idx",s[3]),T(e,"data-variation",s[2]),T(e,"class","media-carousel overflow-hidden "+(!s[13]&&!s[14]?"cb":"cy")+" theme-"+s[11]+" slice-section"),gt(()=>s[20].call(e))},m(b,S){Q(b,e,S),d&&d.m(e,null),B(e,t),p[i].m(e,null),B(e,r),v&&v.m(e,null),a=Qt(e,s[20].bind(e)),Q(b,l,S);for(let M=0;M<_.length;M+=1)_[M]&&_[M].m(b,S);Q(b,c,S),u=!0,h||(f=[el(o=tl.call(null,e,{threshold:s[6]>768?.5:.6})),Qe(e,"change",s[12])],h=!0)},p(b,S){(b[13]||b[14])&&d.p(b,S);let M=i;if(i=m(b),i===M?p[i].p(b,S):(Se(),W(p[M],1,1,()=>{p[M]=null}),Me(),n=p[i],n?n.p(b,S):(n=p[i]=g[i](b),n.c()),F(n,1),n.m(e,r)),b[7]&&b[8]?v?(v.p(b,S),S[0]&384&&F(v,1)):(v=Fd(b),v.c(),F(v,1),v.m(e,null)):v&&(Se(),W(v,1,1,()=>{v=null}),Me()),(!u||S[0]&1)&&T(e,"id",b[0]),(!u||S[0]&8)&&T(e,"data-idx",b[3]),(!u||S[0]&4)&&T(e,"data-variation",b[2]),o&&Vm(o.update)&&S[0]&64&&o.update.call(null,{threshold:b[6]>768?.5:.6}),S[0]&2){w=kt(b[1]);let y;for(y=0;y<w.length;y+=1){const E=_d(b,w,y);_[y]?(_[y].p(E,S),F(_[y],1)):(_[y]=Od(E),_[y].c(),F(_[y],1),_[y].m(c.parentNode,c))}for(Se(),y=w.length;y<_.length;y+=1)x(y);Me()}},i(b){if(!u){F(d),F(n),F(v);for(let S=0;S<w.length;S+=1)F(_[S]);u=!0}},o(b){W(d),W(n),W(v),_=_.filter(Boolean);for(let S=0;S<_.length;S+=1)W(_[S]);u=!1},d(b){b&&(D(e),D(l),D(c)),d&&d.d(),p[i].d(),v&&v.d(),a(),Di(_,b),h=!1,Qi(f)}}}function DM(s){let e,t,i,n=s[13]&&IM(s),r=s[14]&&RM(s);return{c(){e=Y("div"),n&&n.c(),t=le(),r&&r.c(),this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);n&&n.l(o),t=ce(o),r&&r.l(o),o.forEach(D),this.h()},h(){T(e,"class","cx cb richtext")},m(a,o){Q(a,e,o),n&&n.m(e,null),B(e,t),r&&r.m(e,null),i=!0},p(a,o){a[13]&&n.p(a,o),a[14]&&r.p(a,o)},i(a){i||(F(r),i=!0)},o(a){W(r),i=!1},d(a){a&&D(e),n&&n.d(),r&&r.d()}}}function IM(s){let e,t;return{c(){e=Y("p"),t=je(s[13]),this.h()},l(i){e=q(i,"P",{class:!0});var n=G(e);t=Ye(n,s[13]),n.forEach(D),this.h()},h(){T(e,"class","eyebrow accent")},m(i,n){Q(i,e,n),B(e,t)},p:Pe,d(i){i&&D(e)}}}function RM(s){let e,t,i;return t=new Bi({props:{content:s[14]}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","richtext")},m(n,r){Q(n,e,r),we(t,e,null),i=!0},p:Pe,i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t)}}}function zM(s){var M,y,E,C,P,L,k,A,I,R,O,z,V,$;let e,t,i,n,r,a,o,l,c,u,h,f,d,g,p,m=((M=s[1][0])==null?void 0:M.slide_header)&&yd(s),v=((E=(y=s[1][0])==null?void 0:y.media_embed)==null?void 0:E.embed_url)&&xd(s),w=((P=(C=s[1][0])==null?void 0:C.link)==null?void 0:P.url)&&!((k=(L=s[1][0])==null?void 0:L.media_embed)!=null&&k.embed_url)&&Sd(s),_=((I=(A=s[1][0])==null?void 0:A.slide_text[0])==null?void 0:I.text)&&Md(s),x=((O=(R=s[1][0])==null?void 0:R.media_image)==null?void 0:O.url)&&Ed(s),b=((V=(z=s[1][0])==null?void 0:z.media_link)==null?void 0:V.url)&&Td(s),S=(($=s[1][0])==null?void 0:$.media_shadow)===!0&&Cd();return{c(){e=Y("div"),t=Y("div"),i=Y("div"),n=Y("div"),r=Y("div"),m&&m.c(),a=le(),v&&v.c(),o=le(),w&&w.c(),l=le(),_&&_.c(),c=le(),u=Y("div"),x&&x.c(),h=le(),b&&b.c(),f=le(),S&&S.c(),this.h()},l(K){e=q(K,"DIV",{class:!0});var U=G(e);t=q(U,"DIV",{class:!0});var ee=G(t);i=q(ee,"DIV",{class:!0});var Z=G(i);n=q(Z,"DIV",{class:!0});var te=G(n);r=q(te,"DIV",{class:!0});var j=G(r);m&&m.l(j),a=ce(j),v&&v.l(j),o=ce(j),w&&w.l(j),j.forEach(D),l=ce(te),_&&_.l(te),te.forEach(D),c=ce(Z),u=q(Z,"DIV",{class:!0});var ie=G(u);x&&x.l(ie),h=ce(ie),b&&b.l(ie),f=ce(ie),S&&S.l(ie),ie.forEach(D),Z.forEach(D),ee.forEach(D),U.forEach(D),this.h()},h(){T(r,"class","z-10 text-center"),T(n,"class","absolute top-0 left-0 w-full h-full z-[3] flex flex-col justify-center items-center"),T(u,"class",d="w-full z-0 overflow-hidden "+(s[1].length===1&&s[6]>768?"":"max-w-[384px] h-0 pb-[156.25%]")),T(i,"class","text-measure w-full h-full absolute top-0 left-0"),T(t,"class","w-full h-0 pb-[156.25%] dk:pb-[56.25%] relative overflow-hidden"),T(e,"class",g=(s[10].split===!0,"cx"))},m(K,U){Q(K,e,U),B(e,t),B(t,i),B(i,n),B(n,r),m&&m.m(r,null),B(r,a),v&&v.m(r,null),B(r,o),w&&w.m(r,null),B(n,l),_&&_.m(n,null),B(i,c),B(i,u),x&&x.m(u,null),B(u,h),b&&b.m(u,null),B(u,f),S&&S.m(u,null),p=!0},p(K,U){var ee,Z,te,j,ie,oe,ve,ge,Le,Re,ke,ot,tt,lt;(ee=K[1][0])!=null&&ee.slide_header?m?m.p(K,U):(m=yd(K),m.c(),m.m(r,a)):m&&(m.d(1),m=null),(te=(Z=K[1][0])==null?void 0:Z.media_embed)!=null&&te.embed_url?v?(v.p(K,U),U[0]&2&&F(v,1)):(v=xd(K),v.c(),F(v,1),v.m(r,o)):v&&(Se(),W(v,1,1,()=>{v=null}),Me()),(ie=(j=K[1][0])==null?void 0:j.link)!=null&&ie.url&&!((ve=(oe=K[1][0])==null?void 0:oe.media_embed)!=null&&ve.embed_url)?w?(w.p(K,U),U[0]&2&&F(w,1)):(w=Sd(K),w.c(),F(w,1),w.m(r,null)):w&&(Se(),W(w,1,1,()=>{w=null}),Me()),(Le=(ge=K[1][0])==null?void 0:ge.slide_text[0])!=null&&Le.text?_?(_.p(K,U),U[0]&2&&F(_,1)):(_=Md(K),_.c(),F(_,1),_.m(n,null)):_&&(Se(),W(_,1,1,()=>{_=null}),Me()),(ke=(Re=K[1][0])==null?void 0:Re.media_image)!=null&&ke.url?x?(x.p(K,U),U[0]&2&&F(x,1)):(x=Ed(K),x.c(),F(x,1),x.m(u,h)):x&&(Se(),W(x,1,1,()=>{x=null}),Me()),(tt=(ot=K[1][0])==null?void 0:ot.media_link)!=null&&tt.url?b?(b.p(K,U),U[0]&2&&F(b,1)):(b=Td(K),b.c(),F(b,1),b.m(u,f)):b&&(Se(),W(b,1,1,()=>{b=null}),Me()),((lt=K[1][0])==null?void 0:lt.media_shadow)===!0?S||(S=Cd(),S.c(),S.m(u,null)):S&&(S.d(1),S=null),(!p||U[0]&66&&d!==(d="w-full z-0 overflow-hidden "+(K[1].length===1&&K[6]>768?"":"max-w-[384px] h-0 pb-[156.25%]")))&&T(u,"class",d),(!p||U[0]&1024&&g!==(g=(K[10].split===!0,"cx")))&&T(e,"class",g)},i(K){p||(F(v),F(w),F(_),F(x),F(b),p=!0)},o(K){W(v),W(w),W(_),W(x),W(b),p=!1},d(K){K&&D(e),m&&m.d(),v&&v.d(),w&&w.d(),_&&_.d(),x&&x.d(),b&&b.d(),S&&S.d()}}}function FM(s){let e,t;return e=new Nu({props:{items:s[9],label:"Media Carousel",realCount:s[1].length,params:{grabCursor:!0,slidesOffsetBefore:s[6]>768&&s[10].split===!1?60:15,modules:[Ia,Ra],width:318},$$slots:{default:[OM,({slideData:i})=>({28:i}),({slideData:i})=>[i?268435456:0]]},$$scope:{ctx:s}}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&512&&(r.items=i[9]),n[0]&2&&(r.realCount=i[1].length),n[0]&1088&&(r.params={grabCursor:!0,slidesOffsetBefore:i[6]>768&&i[10].split===!1?60:15,modules:[Ia,Ra],width:318}),n[0]&268436432|n[1]&1&&(r.$$scope={dirty:n,ctx:i}),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function yd(s){let e,t=s[1][0].slide_header+"",i;return{c(){e=Y("h3"),i=je(t)},l(n){e=q(n,"H3",{});var r=G(e);i=Ye(r,t),r.forEach(D)},m(n,r){Q(n,e,r),B(e,i)},p(n,r){r[0]&2&&t!==(t=n[1][0].slide_header+"")&&ut(i,t)},d(n){n&&D(e)}}}function xd(s){let e,t,i,n,r,a="watch",o,l,c,u;return i=new nr({props:{vertical:!0}}),{c(){e=Y("button"),t=Y("div"),_e(i.$$.fragment),n=le(),r=Y("p"),r.textContent=a,this.h()},l(h){e=q(h,"BUTTON",{class:!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0});var f=G(e);t=q(f,"DIV",{class:!0});var d=G(t);xe(i.$$.fragment,d),d.forEach(D),n=ce(f),r=q(f,"P",{class:!0,"data-svelte-h":!0}),bi(r)!=="svelte-1m5lecu"&&(r.textContent=a),f.forEach(D),this.h()},h(){T(t,"class","w-[13px] dk:w-[28px] mb-1 pointer-events-none"),T(r,"class","m-0 text-xs font-bold uppercase pointer-events-none"),T(e,"class",o="flex flex-col cursor-pointer justify-center items-center mx-auto bg-[var(--button-primary-background)] text-[var(--button-primary-text)] rounded-full "+(s[6]>768?"h-[100px] w-[100px]":"h-[75px] w-[75px]")),T(e,"data-event-name","interaction"),T(e,"data-event-param","interaction_type"),T(e,"data-event-value","Media Carousel - Open Video Overlay")},m(h,f){Q(h,e,f),B(e,t),we(i,t,null),B(e,n),B(e,r),l=!0,c||(u=Qe(e,"click",Vo(s[18])),c=!0)},p(h,f){(!l||f[0]&64&&o!==(o="flex flex-col cursor-pointer justify-center items-center mx-auto bg-[var(--button-primary-background)] text-[var(--button-primary-text)] rounded-full "+(h[6]>768?"h-[100px] w-[100px]":"h-[75px] w-[75px]")))&&T(e,"class",o)},i(h){l||(F(i.$$.fragment,h),l=!0)},o(h){W(i.$$.fragment,h),l=!1},d(h){h&&D(e),be(i),c=!1,u()}}}function Sd(s){let e,t,i,n,r,a="watch",o,l,c;return i=new nr({props:{vertical:!0}}),{c(){e=Y("a"),t=Y("div"),_e(i.$$.fragment),n=le(),r=Y("p"),r.textContent=a,this.h()},l(u){e=q(u,"A",{href:!0,target:!0,class:!0});var h=G(e);t=q(h,"DIV",{class:!0});var f=G(t);xe(i.$$.fragment,f),f.forEach(D),n=ce(h),r=q(h,"P",{class:!0,"data-svelte-h":!0}),bi(r)!=="svelte-1m5lecu"&&(r.textContent=a),h.forEach(D),this.h()},h(){var u;T(t,"class","w-[13px] dk:w-[28px] mb-1 pointer-events-none"),T(r,"class","m-0 text-xs font-bold uppercase pointer-events-none"),T(e,"href",o=s[1][0].link.url),T(e,"target",l=(u=s[1][0])!=null&&u.open_link_in_new_tab?"_blank":"_self"),T(e,"class","flex flex-col cursor-pointer justify-center items-center mx-auto h-[75px] w-[75px] bg-[var(--button-primary-background)] text-[var(--button-primary-text)] rounded-full")},m(u,h){Q(u,e,h),B(e,t),we(i,t,null),B(e,n),B(e,r),c=!0},p(u,h){var f;(!c||h[0]&2&&o!==(o=u[1][0].link.url))&&T(e,"href",o),(!c||h[0]&2&&l!==(l=(f=u[1][0])!=null&&f.open_link_in_new_tab?"_blank":"_self"))&&T(e,"target",l)},i(u){c||(F(i.$$.fragment,u),c=!0)},o(u){W(i.$$.fragment,u),c=!1},d(u){u&&D(e),be(i)}}}function Md(s){let e,t;return e=new vu({props:{content:s[1][0].slide_text,active:!0,inView:s[4],splitSizing:!0,fontSize:18,theme:"secondary"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&2&&(r.content=i[1][0].slide_text),n[0]&16&&(r.inView=i[4]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Ed(s){let e,t;return e=new ei({props:{src:s[1][0].media_image.url,width:s[1][0].media_image.dimensions.width,height:s[1][0].media_image.dimensions.height,cover:!0}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&2&&(r.src=i[1][0].media_image.url),n[0]&2&&(r.width=i[1][0].media_image.dimensions.width),n[0]&2&&(r.height=i[1][0].media_image.dimensions.height),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Td(s){let e,t;return e=new Ya({props:{src:s[1][0].media_link.url,cover:!0,autoplay:"autoplay"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&2&&(r.src=i[1][0].media_link.url),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Cd(s){let e;return{c(){e=Y("div"),this.h()},l(t){e=q(t,"DIV",{class:!0}),G(e).forEach(D),this.h()},h(){T(e,"class","absolute z-[2] w-full h-[calc(100%_+_1px)] top-0 left-0 bg-gradient-to-t from-black/80")},m(t,i){Q(t,e,i)},d(t){t&&D(e)}}}function Ad(s){let e,t=s[29].slide_header+"",i;return{c(){e=Y("h4"),i=je(t),this.h()},l(n){e=q(n,"H4",{style:!0});var r=G(e);i=Ye(r,t),r.forEach(D),this.h()},h(){Ce(e,"color","#FFFFFF")},m(n,r){Q(n,e,r),B(e,i)},p(n,r){r[0]&512&&t!==(t=n[29].slide_header+"")&&ut(i,t)},d(n){n&&D(e)}}}function Ld(s){let e,t,i,n,r,a="watch",o,l,c;i=new nr({props:{vertical:!0}});function u(){return s[17](s[29])}return{c(){e=Y("button"),t=Y("div"),_e(i.$$.fragment),n=le(),r=Y("p"),r.textContent=a,this.h()},l(h){e=q(h,"BUTTON",{class:!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0});var f=G(e);t=q(f,"DIV",{class:!0});var d=G(t);xe(i.$$.fragment,d),d.forEach(D),n=ce(f),r=q(f,"P",{class:!0,"data-svelte-h":!0}),bi(r)!=="svelte-1m5lecu"&&(r.textContent=a),f.forEach(D),this.h()},h(){T(t,"class","w-[18px] mb-1 pointer-events-none"),T(r,"class","m-0 text-xs font-bold uppercase pointer-events-none"),T(e,"class","flex flex-col cursor-pointer justify-center items-center mx-auto h-[72px] w-[72px] bg-[var(--button-primary-background)] text-[var(--button-primary-text)] rounded-full p-0"),T(e,"data-event-name","interaction"),T(e,"data-event-param","interaction_type"),T(e,"data-event-value",`Media Carousel - Open Video Overlay - Slide ${s[3]+1}`)},m(h,f){Q(h,e,f),B(e,t),we(i,t,null),B(e,n),B(e,r),o=!0,l||(c=Qe(e,"click",Vo(u)),l=!0)},p(h,f){s=h},i(h){o||(F(i.$$.fragment,h),o=!0)},o(h){W(i.$$.fragment,h),o=!1},d(h){h&&D(e),be(i),l=!1,c()}}}function kd(s){let e,t,i,n,r,a="watch",o,l,c;return i=new nr({props:{vertical:!0}}),{c(){e=Y("a"),t=Y("div"),_e(i.$$.fragment),n=le(),r=Y("p"),r.textContent=a,this.h()},l(u){e=q(u,"A",{href:!0,target:!0,class:!0});var h=G(e);t=q(h,"DIV",{class:!0});var f=G(t);xe(i.$$.fragment,f),f.forEach(D),n=ce(h),r=q(h,"P",{class:!0,"data-svelte-h":!0}),bi(r)!=="svelte-1m5lecu"&&(r.textContent=a),h.forEach(D),this.h()},h(){var u;T(t,"class","w-[18px] mb-1 pointer-events-none"),T(r,"class","m-0 text-xs font-bold uppercase pointer-events-none"),T(e,"href",o=s[29].link.url),T(e,"target",l=(u=s[29])!=null&&u.open_link_in_new_tab?"_blank":"_self"),T(e,"class","flex flex-col cursor-pointer justify-center items-center mx-auto h-[72px] w-[72px] bg-[var(--button-primary-background)] text-[var(--button-primary-text)] rounded-full p-0")},m(u,h){Q(u,e,h),B(e,t),we(i,t,null),B(e,n),B(e,r),c=!0},p(u,h){var f;(!c||h[0]&512&&o!==(o=u[29].link.url))&&T(e,"href",o),(!c||h[0]&512&&l!==(l=(f=u[29])!=null&&f.open_link_in_new_tab?"_blank":"_self"))&&T(e,"target",l)},i(u){c||(F(i.$$.fragment,u),c=!0)},o(u){W(i.$$.fragment,u),c=!1},d(u){u&&D(e),be(i)}}}function Pd(s){let e,t;return e=new vu({props:{content:s[29].slide_text,active:s[28].activeIndex===s[3],inView:s[4],fontSize:18,theme:"secondary"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&512&&(r.content=i[29].slide_text),n[0]&268435456&&(r.active=i[28].activeIndex===i[3]),n[0]&16&&(r.inView=i[4]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Dd(s){let e,t;return e=new ei({props:{src:s[29].media_image.url,width:s[29].media_image.dimensions.width,height:s[29].media_image.dimensions.height,cover:!0}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&512&&(r.src=i[29].media_image.url),n[0]&512&&(r.width=i[29].media_image.dimensions.width),n[0]&512&&(r.height=i[29].media_image.dimensions.height),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Id(s){let e,t;return e=new Ya({props:{src:s[29].media_link.url,cover:!0,active:s[28].activeIndex===s[3]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&512&&(r.src=i[29].media_link.url),n[0]&268435456&&(r.active=i[28].activeIndex===i[3]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Rd(s){let e;return{c(){e=Y("div"),this.h()},l(t){e=q(t,"DIV",{class:!0}),G(e).forEach(D),this.h()},h(){T(e,"class","absolute z-[2] w-[calc(100%_+_1px)] h-[calc(100%_+_1px)] top-0 left-0 bg-gradient-to-t from-black/70 pointer-events-none")},m(t,i){Q(t,e,i)},d(t){t&&D(e)}}}function zd(s){var S,M,y,E,C,P,L,k,A,I,R,O,z,V;let e,t,i,n,r,a,o,l,c,u,h,f,d,g,p=((S=s[29])==null?void 0:S.slide_header)&&Ad(s),m=((y=(M=s[29])==null?void 0:M.media_embed)==null?void 0:y.embed_url)&&Ld(s),v=((C=(E=s[29])==null?void 0:E.link)==null?void 0:C.url)&&!((L=(P=s[29])==null?void 0:P.media_embed)!=null&&L.embed_url)&&kd(s),w=((A=(k=s[29])==null?void 0:k.slide_text[0])==null?void 0:A.text)&&Pd(s),_=((R=(I=s[29])==null?void 0:I.media_image)==null?void 0:R.url)&&Dd(s),x=((z=(O=s[29])==null?void 0:O.media_link)==null?void 0:z.url)&&Id(s),b=((V=s[29])==null?void 0:V.media_shadow)===!0&&Rd();return{c(){e=Y("swiper-slide"),t=Y("div"),i=Y("div"),n=Y("div"),p&&p.c(),r=le(),m&&m.c(),a=le(),v&&v.c(),o=le(),w&&w.c(),l=le(),c=Y("div"),_&&_.c(),u=le(),x&&x.c(),h=le(),b&&b.c(),d=le(),this.h()},l($){e=q($,"SWIPER-SLIDE",{class:!0});var K=G(e);t=q(K,"DIV",{class:!0,style:!0});var U=G(t);i=q(U,"DIV",{class:!0,style:!0});var ee=G(i);n=q(ee,"DIV",{class:!0});var Z=G(n);p&&p.l(Z),r=ce(Z),m&&m.l(Z),a=ce(Z),v&&v.l(Z),Z.forEach(D),o=ce(ee),w&&w.l(ee),ee.forEach(D),l=ce(U),c=q(U,"DIV",{class:!0});var te=G(c);_&&_.l(te),u=ce(te),x&&x.l(te),h=ce(te),b&&b.l(te),te.forEach(D),U.forEach(D),d=ce(K),K.forEach(D),this.h()},h(){T(n,"class","z-10 text-center"),T(i,"class","absolute z-[3] top-0 left-0 w-full h-full flex flex-col justify-center items-center"),Ce(i,"width","318px"),T(c,"class",f="w-full "+(s[9].length===1&&s[6]>768?"":"max-w-[318px] h-0 pb-[184%]")+" overflow-hidden"),T(t,"class","text-measure overflow-hidden relative"),Ce(t,"max-width","318px"),Ce(t,"width","318px"),Gt(e,"class","max-w-[318px]")},m($,K){Q($,e,K),B(e,t),B(t,i),B(i,n),p&&p.m(n,null),B(n,r),m&&m.m(n,null),B(n,a),v&&v.m(n,null),B(i,o),w&&w.m(i,null),B(t,l),B(t,c),_&&_.m(c,null),B(c,u),x&&x.m(c,null),B(c,h),b&&b.m(c,null),B(e,d),g=!0},p($,K){var U,ee,Z,te,j,ie,oe,ve,ge,Le,Re,ke,ot,tt;(U=$[29])!=null&&U.slide_header?p?p.p($,K):(p=Ad($),p.c(),p.m(n,r)):p&&(p.d(1),p=null),(Z=(ee=$[29])==null?void 0:ee.media_embed)!=null&&Z.embed_url?m?(m.p($,K),K[0]&512&&F(m,1)):(m=Ld($),m.c(),F(m,1),m.m(n,a)):m&&(Se(),W(m,1,1,()=>{m=null}),Me()),(j=(te=$[29])==null?void 0:te.link)!=null&&j.url&&!((oe=(ie=$[29])==null?void 0:ie.media_embed)!=null&&oe.embed_url)?v?(v.p($,K),K[0]&512&&F(v,1)):(v=kd($),v.c(),F(v,1),v.m(n,null)):v&&(Se(),W(v,1,1,()=>{v=null}),Me()),(ge=(ve=$[29])==null?void 0:ve.slide_text[0])!=null&&ge.text?w?(w.p($,K),K[0]&512&&F(w,1)):(w=Pd($),w.c(),F(w,1),w.m(i,null)):w&&(Se(),W(w,1,1,()=>{w=null}),Me()),(Re=(Le=$[29])==null?void 0:Le.media_image)!=null&&Re.url?_?(_.p($,K),K[0]&512&&F(_,1)):(_=Dd($),_.c(),F(_,1),_.m(c,u)):_&&(Se(),W(_,1,1,()=>{_=null}),Me()),(ot=(ke=$[29])==null?void 0:ke.media_link)!=null&&ot.url?x?(x.p($,K),K[0]&512&&F(x,1)):(x=Id($),x.c(),F(x,1),x.m(c,h)):x&&(Se(),W(x,1,1,()=>{x=null}),Me()),((tt=$[29])==null?void 0:tt.media_shadow)===!0?b||(b=Rd(),b.c(),b.m(c,null)):b&&(b.d(1),b=null),(!g||K[0]&576&&f!==(f="w-full "+($[9].length===1&&$[6]>768?"":"max-w-[318px] h-0 pb-[184%]")+" overflow-hidden"))&&T(c,"class",f)},i($){g||(F(m),F(v),F(w),F(_),F(x),g=!0)},o($){W(m),W(v),W(w),W(_),W(x),g=!1},d($){$&&D(e),p&&p.d(),m&&m.d(),v&&v.d(),w&&w.d(),_&&_.d(),x&&x.d(),b&&b.d()}}}function OM(s){let e,t,i=kt(s[9]),n=[];for(let a=0;a<i.length;a+=1)n[a]=zd(wd(s,i,a));const r=a=>W(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ue()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ue()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);Q(a,e,o),t=!0},p(a,o){if(o[0]&268436432){i=kt(a[9]);let l;for(l=0;l<i.length;l+=1){const c=wd(a,i,l);n[l]?(n[l].p(c,o),F(n[l],1)):(n[l]=zd(c),n[l].c(),F(n[l],1),n[l].m(e.parentNode,e))}for(Se(),l=i.length;l<n.length;l+=1)r(l);Me()}},i(a){if(!t){for(let o=0;o<i.length;o+=1)F(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)W(n[o]);t=!1},d(a){a&&D(e),Di(n,a)}}}function Fd(s){let e,t,i;function n(a){s[19](a)}let r={embed:s[7]};return s[8]!==void 0&&(r.open=s[8]),e=new oM({props:r}),Mt.push(()=>ss(e,"open",n)),{c(){_e(e.$$.fragment)},l(a){xe(e.$$.fragment,a)},m(a,o){we(e,a,o),i=!0},p(a,o){const l={};o[0]&128&&(l.embed=a[7]),!t&&o[0]&256&&(t=!0,l.open=a[8],ns(()=>t=!1)),e.$set(l)},i(a){i||(F(e.$$.fragment,a),i=!0)},o(a){W(e.$$.fragment,a),i=!1},d(a){be(e,a)}}}function Od(s){let e,t;return e=new gM({props:{item:s[25]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n[0]&2&&(r.item=i[25]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Nd(s){let e,t,i=s[5]>0&&bd(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,r){n[5]>0?i?(i.p(n,r),r[0]&32&&F(i,1)):(i=bd(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function NM(s){let e=s[0],t,i,n,r;gt(s[16]);let a=Nd(s);return{c(){a.c(),t=ue()},l(o){a.l(o),t=ue()},m(o,l){a.m(o,l),Q(o,t,l),i=!0,n||(r=Qe(window,"resize",s[16]),n=!0)},p(o,l){l[0]&1&&Ge(e,e=o[0])?(Se(),W(a,1,1,Pe),Me(),a=Nd(o),a.c(),F(a,1),a.m(t.parentNode,t)):a.p(o,l)},i(o){i||(F(a),i=!0)},o(o){W(a),i=!1},d(o){o&&D(t),a.d(o),n=!1,r()}}}function BM(s,e,t){var y;let i;Yt(s,Xt,E=>t(10,i=E));let{id:n}=e,{index:r}=e,{items:a}=e,{data:o}=e,{variation:l}=e;n.replace("$","-");let c=!1,u=0,h=0,f=null,d=!1,g=typeof o.theme=="string"?o.theme.toLowerCase():"primary",p=a;a.length>1&&(p=p.concat(a),p=p.concat(a));const m=E=>{t(4,c=E.detail.inView)};let v=(o==null?void 0:o.eyebrow)||null,w=o!=null&&o.headline&&(o!=null&&o.headline[0])&&((y=o==null?void 0:o.headline[0])==null?void 0:y.text)!=""?o.headline:null;function _(){t(5,u=window.innerWidth)}const x=E=>{t(7,f=E.media_embed),t(8,d=!0)},b=()=>{t(7,f=a[0].media_embed),t(8,d=!0)};function S(E){d=E,t(8,d)}function M(){h=this.clientWidth,t(6,h)}return s.$$set=E=>{"id"in E&&t(0,n=E.id),"index"in E&&t(3,r=E.index),"items"in E&&t(1,a=E.items),"data"in E&&t(15,o=E.data),"variation"in E&&t(2,l=E.variation)},[n,a,l,r,c,u,h,f,d,p,i,g,m,v,w,o,_,x,b,S,M]}class VM extends nt{constructor(e){super(),st(this,e,BM,NM,Ge,{id:0,index:3,items:1,data:15,variation:2},null,[-1,-1])}}function UM(s){let e,t;return{c(){e=Y("div"),this.h()},l(i){e=q(i,"DIV",{class:!0,style:!0,"data-bg":!0}),G(e).forEach(D),this.h()},h(){T(e,"class",t="lazy "+(s[1]===!0?"outline-1 outline-dashed":"")),Ce(e,"width",s[2]+"px"),Ce(e,"height",s[3]+"px"),T(e,"data-bg","/wavy-line.svg")},m(i,n){Q(i,e,n),s[10](e)},p(i,n){n&2&&t!==(t="lazy "+(i[1]===!0?"outline-1 outline-dashed":""))&&T(e,"class",t),n&4&&Ce(e,"width",i[2]+"px"),n&8&&Ce(e,"height",i[3]+"px")},d(i){i&&D(e),s[10](null)}}}function WM(s){let e,t,i;return{c(){e=Y("div"),t=Y("div"),this.h()},l(n){e=q(n,"DIV",{class:!0,style:!0});var r=G(e);t=q(r,"DIV",{class:!0,style:!0,"data-bg":!0}),G(t).forEach(D),r.forEach(D),this.h()},h(){T(t,"class","lazy bg-repeat-x h-full -translate-x-[37px]"),Ce(t,"width","300%"),T(t,"data-bg","/"+s[6]),T(e,"class",i="overflow-hidden "+(s[1]===!0?"outline-1 outline-dashed":"")),Ce(e,"width",s[2]+"px"),Ce(e,"height",s[3]+"px")},m(n,r){Q(n,e,r),B(e,t),s[8](t),s[9](e)},p(n,r){r&2&&i!==(i="overflow-hidden "+(n[1]===!0?"outline-1 outline-dashed":""))&&T(e,"class",i),r&4&&Ce(e,"width",n[2]+"px"),r&8&&Ce(e,"height",n[3]+"px")},d(n){n&&D(e),s[8](null),s[9](null)}}}function GM(s){let e;function t(r,a){return r[0]=="animate"?WM:UM}let i=t(s),n=i(s);return{c(){n.c(),e=ue()},l(r){n.l(r),e=ue()},m(r,a){n.m(r,a),Q(r,e,a)},p(r,[a]){i===(i=t(r))&&n?n.p(r,a):(n.d(1),n=i(r),n&&(n.c(),n.m(e.parentNode,e)))},i:Pe,o:Pe,d(r){r&&D(e),n.d(r)}}}function HM(s,e,t){let i;Yt(s,Xt,p=>t(11,i=p));let{animation:n="animate"}=e,{theme:r="primary"}=e,{debug:a=!1}=e,{width:o=94}=e,{height:l=17}=e,c,u,h=r==="primary"?"wavy-line-primary.png":"wavy-line-secondary.png";Pi(()=>{i.lazyLoad||Wa(Xt,i.lazyLoad=new Ts({threshold:1600,callback_loaded:p=>{p.style.opacity="1"}}),i),i.lazyLoad.update(),n=="animate"&&Ht.to(c,{x:0,duration:1,ease:"linear",repeat:-1})});function f(p){Mt[p?"unshift":"push"](()=>{c=p,t(4,c)})}function d(p){Mt[p?"unshift":"push"](()=>{u=p,t(5,u)})}function g(p){Mt[p?"unshift":"push"](()=>{u=p,t(5,u)})}return s.$$set=p=>{"animation"in p&&t(0,n=p.animation),"theme"in p&&t(7,r=p.theme),"debug"in p&&t(1,a=p.debug),"width"in p&&t(2,o=p.width),"height"in p&&t(3,l=p.height)},[n,a,o,l,c,u,h,r,f,d,g]}class jM extends nt{constructor(e){super(),st(this,e,HM,GM,Ge,{animation:0,theme:7,debug:1,width:2,height:3})}}function YM(s){let e,t;return{c(){e=Y("div"),this.h()},l(i){e=q(i,"DIV",{class:!0,style:!0,"data-bg":!0}),G(e).forEach(D),this.h()},h(){T(e,"class",t="lazy "+(s[1]===!0?"outline-1 outline-dashed":"")),Ce(e,"width",s[2]+"px"),Ce(e,"height",s[3]+"px"),T(e,"data-bg","/wavy-line.svg")},m(i,n){Q(i,e,n),s[8](e)},p(i,n){n&2&&t!==(t="lazy "+(i[1]===!0?"outline-1 outline-dashed":""))&&T(e,"class",t),n&4&&Ce(e,"width",i[2]+"px"),n&8&&Ce(e,"height",i[3]+"px")},d(i){i&&D(e),s[8](null)}}}function qM(s){let e,t,i;return{c(){e=Y("div"),t=Y("div"),this.h()},l(n){e=q(n,"DIV",{class:!0,style:!0});var r=G(e);t=q(r,"DIV",{class:!0,style:!0,"data-bg":!0}),G(t).forEach(D),r.forEach(D),this.h()},h(){T(t,"class","lazy bg-repeat-x h-full -translate-x-[22px]"),Ce(t,"width","300%"),T(t,"data-bg","/"+s[5]),T(e,"class",i="overflow-hidden "+(s[1]===!0?"outline-1 outline-dashed":"")),Ce(e,"width",s[2]+"px"),Ce(e,"height",s[3]+"px")},m(n,r){Q(n,e,r),B(e,t),s[7](t)},p(n,r){r&2&&i!==(i="overflow-hidden "+(n[1]===!0?"outline-1 outline-dashed":""))&&T(e,"class",i),r&4&&Ce(e,"width",n[2]+"px"),r&8&&Ce(e,"height",n[3]+"px")},d(n){n&&D(e),s[7](null)}}}function XM(s){let e;function t(r,a){return r[0]=="animate"?qM:YM}let i=t(s),n=i(s);return{c(){n.c(),e=ue()},l(r){n.l(r),e=ue()},m(r,a){n.m(r,a),Q(r,e,a)},p(r,[a]){i===(i=t(r))&&n?n.p(r,a):(n.d(1),n=i(r),n&&(n.c(),n.m(e.parentNode,e)))},i:Pe,o:Pe,d(r){r&&D(e),n.d(r)}}}function ZM(s,e,t){let i;Yt(s,Xt,g=>t(9,i=g));let{animation:n="animate"}=e,{theme:r="primary"}=e,{debug:a=!1}=e,{width:o=77}=e,{height:l=14}=e,c,u=r==="primary"?"zigzag-primary.png":"zigzag-secondary.png",h=(Math.floor(Math.random()*(1e3-850+1))+850)/1e3;Pi(()=>{i.lazyLoad||Wa(Xt,i.lazyLoad=new Ts({threshold:1600,callback_loaded:g=>{g.style.opacity="1"}}),i),i.lazyLoad.update(),n=="animate"&&Ht.to(c,{x:0,duration:h,ease:"linear",repeat:-1})});function f(g){Mt[g?"unshift":"push"](()=>{c=g,t(4,c)})}function d(g){Mt[g?"unshift":"push"](()=>{c=g,t(4,c)})}return s.$$set=g=>{"animation"in g&&t(0,n=g.animation),"theme"in g&&t(6,r=g.theme),"debug"in g&&t(1,a=g.debug),"width"in g&&t(2,o=g.width),"height"in g&&t(3,l=g.height)},[n,a,o,l,c,u,r,f,d]}class $M extends nt{constructor(e){super(),st(this,e,ZM,XM,Ge,{animation:0,theme:6,debug:1,width:2,height:3})}}function Bd(s,e,t){const i=s.slice();return i[24]=e[t],i[26]=t,i}function ql(s){var r,a;const e=s.slice(),t=(a=(r=e[24])==null?void 0:r.floating_object_image)!=null&&a.url?"custom-image":Ur(e[24].floating_object);e[27]=t;const i=e[27]=="custom-image"&&e[24].floating_image_animation?Ur(e[24].floating_image_animation):"animate";e[28]=i;const n=e[9](e[24],e[26]);return e[29]=n,e}function Vd(s){let e,t,i,n,r=s[5]>0&&Ud(s);return{c(){e=Y("div"),r&&r.c(),t=le(),this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);r&&r.l(o),t=ce(o),o.forEach(D),this.h()},h(){T(e,"class","pointer-events-none absolute top-0 left-0 w-full h-full z-[0] "),gt(()=>s[14].call(e))},m(a,o){Q(a,e,o),r&&r.m(e,null),B(e,t),i=Qt(e,s[14].bind(e)),n=!0},p(a,o){a[5]>0?r?(r.p(a,o),o&32&&F(r,1)):(r=Ud(a),r.c(),F(r,1),r.m(e,t)):r&&(Se(),W(r,1,1,()=>{r=null}),Me())},i(a){n||(F(r),n=!0)},o(a){W(r),n=!1},d(a){a&&D(e),r&&r.d(),i()}}}function Ud(s){let e,t,i=kt(s[0]),n=[];for(let a=0;a<i.length;a+=1)n[a]=Hd(Bd(s,i,a));const r=a=>W(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ue()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ue()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);Q(a,e,o),t=!0},p(a,o){if(o&515){i=kt(a[0]);let l;for(l=0;l<i.length;l+=1){const c=Bd(a,i,l);n[l]?(n[l].p(c,o),F(n[l],1)):(n[l]=Hd(c),n[l].c(),F(n[l],1),n[l].m(e.parentNode,e))}for(Se(),l=i.length;l<n.length;l+=1)r(l);Me()}},i(a){if(!t){for(let o=0;o<i.length;o+=1)F(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)W(n[o]);t=!1},d(a){a&&D(e),Di(n,a)}}}function Wd(s){let e,t,i=s[29]!==!1&&Gd(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,r){n[29]!==!1?i?(i.p(n,r),r&1&&F(i,1)):(i=Gd(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function Gd(s){let e,t,i,n,r,a;const o=[QM,JM,KM],l=[];function c(u,h){return u[27]=="squiggle"?0:u[27]=="zig-zag"||u[27]=="zigzag"?1:u[27]=="custom-image"?2:-1}return~(t=c(s))&&(i=l[t]=o[t](s)),{c(){e=Y("div"),i&&i.c(),n=le(),this.h()},l(u){e=q(u,"DIV",{"data-type":!0,class:!0,style:!0});var h=G(e);i&&i.l(h),n=ce(h),h.forEach(D),this.h()},h(){T(e,"data-type",r=s[27]),T(e,"class","absolute top-[var(--y-coord)] left-[var(--x-coord)] h-[var(--size)] w-[var(--size)] rotate-[var(--rotate)] flex items-center justify-center"),Ce(e,"--x-coord",s[29].x),Ce(e,"--y-coord",s[29].y),Ce(e,"--size",Hi+"px"),Ce(e,"--rotate",s[29].r+"deg")},m(u,h){Q(u,e,h),~t&&l[t].m(e,null),B(e,n),a=!0},p(u,h){let f=t;t=c(u),t===f?~t&&l[t].p(u,h):(i&&(Se(),W(l[f],1,1,()=>{l[f]=null}),Me()),~t?(i=l[t],i?i.p(u,h):(i=l[t]=o[t](u),i.c()),F(i,1),i.m(e,n)):i=null),(!a||h&1&&r!==(r=u[27]))&&T(e,"data-type",r),(!a||h&1)&&Ce(e,"--x-coord",u[29].x),(!a||h&1)&&Ce(e,"--y-coord",u[29].y),(!a||h&1)&&Ce(e,"--rotate",u[29].r+"deg")},i(u){a||(F(i),a=!0)},o(u){W(i),a=!1},d(u){u&&D(e),~t&&l[t].d()}}}function KM(s){var i;let e,t;return e=new ei({props:{src:(i=s[24].floating_object_image)==null?void 0:i.url,width:s[24].floating_object_image.dimensions.width,height:s[24].floating_object_image.dimensions.height,animation:s[28]}}),{c(){_e(e.$$.fragment)},l(n){xe(e.$$.fragment,n)},m(n,r){we(e,n,r),t=!0},p(n,r){var o;const a={};r&1&&(a.src=(o=n[24].floating_object_image)==null?void 0:o.url),r&1&&(a.width=n[24].floating_object_image.dimensions.width),r&1&&(a.height=n[24].floating_object_image.dimensions.height),r&1&&(a.animation=n[28]),e.$set(a)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){be(e,n)}}}function JM(s){let e,t;return e=new $M({props:{animation:s[28],debug:Bu,theme:s[1]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&1&&(r.animation=i[28]),n&2&&(r.theme=i[1]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function QM(s){let e,t;return e=new jM({props:{animation:s[28],debug:Bu,theme:s[1]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&1&&(r.animation=i[28]),n&2&&(r.theme=i[1]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Hd(s){var n,r,a;let e,t,i=(((r=(n=s[24])==null?void 0:n.floating_object_image)==null?void 0:r.url)||((a=s[24])==null?void 0:a.floating_object))&&Wd(ql(s));return{c(){i&&i.c(),e=ue()},l(o){i&&i.l(o),e=ue()},m(o,l){i&&i.m(o,l),Q(o,e,l),t=!0},p(o,l){var c,u,h;(u=(c=o[24])==null?void 0:c.floating_object_image)!=null&&u.url||(h=o[24])!=null&&h.floating_object?i?(i.p(ql(o),l),l&1&&F(i,1)):(i=Wd(ql(o)),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(o){t||(F(i),t=!0)},o(o){W(i),t=!1},d(o){o&&D(e),i&&i.d(o)}}}function eE(s){let e,t,i,n,r;gt(s[13]);let a=s[6]&&Vd(s),o=Bu===!0;return{c(){a&&a.c(),e=le(),t=ue()},l(l){a&&a.l(l),e=ce(l),t=ue()},m(l,c){a&&a.m(l,c),Q(l,e,c),Q(l,t,c),i=!0,n||(r=Qe(window,"resize",s[13]),n=!0)},p(l,[c]){l[6]?a?(a.p(l,c),c&64&&F(a,1)):(a=Vd(l),a.c(),F(a,1),a.m(e.parentNode,e)):a&&(Se(),W(a,1,1,()=>{a=null}),Me())},i(l){i||(F(a),F(o),i=!0)},o(l){W(a),W(o),i=!1},d(l){l&&(D(e),D(t)),a&&a.d(l),n=!1,r()}}}let Hi=94,_i=30,Bu=!1;function tE(s,e,t){let i,n,r,a,o,l,{objects:c}=e,{restructure:u=!1}=e,{count:h=3}=e,{theme:f="primary"}=e,{scatter:d="outside"}=e,g=c,p=["hover","bounce","oscillate","spin"];if(u===!0){c=[];for(let M=0;M<h;M++){let y=Math.floor(Math.random()*4);c.push({floating_object:"",floating_object_image:g,floating_image_animation:p[y]})}}let m,v,w={a:[],t:[],r:[],b:[],l:[]},_=0;const x=(M,y)=>{if(y>=o)return null;let E={},C=y%4,P,L,k;switch(C){case 0:P="t";break;case 1:P="r";break;case 2:P="b";break;default:P="l";break}d==="inside"?(P="a",L=Math.floor(Math.random()*i),k=Math.floor(Math.random()*n)):C===0||C===2?(L=Math.floor(Math.random()*i),L=L===0?1:L):(L=Math.floor(Math.random()*n),L=L===0?1:L);let A=d==="outside"?L:`${L}:${k}`;if(w[P].indexOf(A)>-1)return _++,_===3?(_=0,!1):(y++,E=x(M,y),E);_=0,w[P].push(A),d==="outside"&&(w[P].push(A-1),w[P].push(A+1));let I,R;if(d==="outside")switch(P){case"t":I=r/2+_i/2+L*(Hi+_i)+"px",R="0px";break;case"r":I=m-Hi+"px",R=a/2+_i/2+L*(Hi+_i)+"px";break;case"b":I=r/2+_i/2+L*(Hi+_i)+"px",R=v-Hi+"px";break;default:I="0px",R=a/2+_i/2+L*(Hi+_i)+"px";break}else I=r/2+_i/2+L*(Hi+_i)+"px",R=a/2+_i/2+k*(Hi+_i)+"px";return E={r:Math.floor(Math.random()*270),x:I,y:R},E};function b(){t(6,l=window.innerWidth)}function S(){v=this.clientHeight,m=this.clientWidth,t(3,v),t(2,m)}return s.$$set=M=>{"objects"in M&&t(0,c=M.objects),"restructure"in M&&t(10,u=M.restructure),"count"in M&&t(11,h=M.count),"theme"in M&&t(1,f=M.theme),"scatter"in M&&t(12,d=M.scatter)},s.$$.update=()=>{s.$$.dirty&4&&t(5,i=Math.floor(m/(Hi+_i))),s.$$.dirty&8&&t(4,n=Math.floor(v/(Hi+_i))),s.$$.dirty&4&&t(8,r=m%(Hi+_i)),s.$$.dirty&8&&t(7,a=v%(Hi+_i)),s.$$.dirty&48&&(o=i*2+n*2),s.$$.dirty&65&&t(0,c=l&&l<769?c.slice(0,4):c)},t(6,l=null),[c,f,m,v,n,i,l,a,r,x,u,h,d,b,S]}class x0 extends nt{constructor(e){super(),st(this,e,tE,eE,Ge,{objects:0,restructure:10,count:11,theme:1,scatter:12})}}function iE(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,preserveAspectRatio:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z"),T(t,"fill",s[1]),T(t,"stroke",s[2]),T(t,"stroke-width",s[3]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","nonzero"),T(e,"width","256px"),T(e,"height","256px"),T(e,"viewBox","0 -28.5 256 256"),T(e,"preserveAspectRatio","xMidYMid"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&T(t,"fill",i[1]),n&4&&T(t,"stroke",i[2]),n&8&&T(t,"stroke-width",i[3])},d(i){i&&D(e)}}}function nE(s){let e,t;return{c(){e=Ze("svg"),t=Ze("path"),this.h()},l(i){e=$e(i,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=G(e);t=$e(n,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0,"vector-effect":!0,"fill-rule":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"d","M21.4749 5.2805C21.4894 5.50388 21.4894 5.72726 21.4894 5.9527C21.4894 12.822 16.5733 20.7443 7.58394 20.7443V20.7402C4.92846 20.7443 2.32814 19.9352 0.0926514 18.4096C0.47878 18.459 0.866845 18.4837 1.25588 18.4848C3.45652 18.4868 5.59426 17.7014 7.32555 16.2551C5.23426 16.2129 3.40039 14.7624 2.75975 12.6449C3.49233 12.7952 4.24717 12.7643 4.9662 12.5554C2.6862 12.0654 1.04588 9.93447 1.04588 7.45976C1.04588 7.43711 1.04588 7.4155 1.04588 7.39388C1.72523 7.79638 2.48588 8.01976 3.26394 8.04447C1.11652 6.51785 0.454587 3.47903 1.75136 1.10314C4.23265 4.35094 7.89362 6.32535 11.8236 6.53432C11.4297 4.72873 11.9678 2.83667 13.2375 1.56741C15.2059 -0.400827 18.3017 -0.299945 20.152 1.79285C21.2465 1.56329 22.2956 1.13608 23.2556 0.530791C22.8907 1.73417 22.1272 2.75638 21.1072 3.40594C22.0759 3.28447 23.0223 3.00858 23.9136 2.58756C23.2575 3.63344 22.431 4.54447 21.4749 5.2805Z"),T(t,"fill",s[1]),T(t,"stroke",s[2]),T(t,"stroke-width",s[3]),T(t,"vector-effect","non-scaling-stroke"),T(t,"fill-rule","evenodd"),T(e,"width","24"),T(e,"height","21"),T(e,"viewBox","0 0 24 21"),T(e,"fill","none"),T(e,"xmlns","http://www.w3.org/2000/svg")},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&T(t,"fill",i[1]),n&4&&T(t,"stroke",i[2]),n&8&&T(t,"stroke-width",i[3])},d(i){i&&D(e)}}}function sE(s){let e;function t(r,a){if(r[0]=="twitter")return nE;if(r[0]=="discord")return iE}let i=t(s),n=i&&i(s);return{c(){n&&n.c(),e=ue()},l(r){n&&n.l(r),e=ue()},m(r,a){n&&n.m(r,a),Q(r,e,a)},p(r,[a]){i===(i=t(r))&&n?n.p(r,a):(n&&n.d(1),n=i&&i(r),n&&(n.c(),n.m(e.parentNode,e)))},i:Pe,o:Pe,d(r){r&&D(e),n&&n.d(r)}}}function rE(s,e,t){let{type:i=""}=e,{fillColor:n="currentColor"}=e,{strokeColor:r="currentColor"}=e,{strokeWidth:a=0}=e;return s.$$set=o=>{"type"in o&&t(0,i=o.type),"fillColor"in o&&t(1,n=o.fillColor),"strokeColor"in o&&t(2,r=o.strokeColor),"strokeWidth"in o&&t(3,a=o.strokeWidth)},[i,n,r,a]}class Sl extends nt{constructor(e){super(),st(this,e,rE,sE,Ge,{type:0,fillColor:1,strokeColor:2,strokeWidth:3})}}function jd(s){let e,t,i,n=(s[10]=="twitter"||s[10]=="discord")&&aE(s),r=s[10]=="shape-animation"&&cE(s);return{c(){n&&n.c(),e=le(),r&&r.c(),t=ue()},l(a){n&&n.l(a),e=ce(a),r&&r.l(a),t=ue()},m(a,o){n&&n.m(a,o),Q(a,e,o),r&&r.m(a,o),Q(a,t,o),i=!0},p(a,o){(a[10]=="twitter"||a[10]=="discord")&&n.p(a,o),a[10]=="shape-animation"&&r.p(a,o)},i(a){i||(F(n),F(r),i=!0)},o(a){W(n),W(r),i=!1},d(a){a&&(D(e),D(t)),n&&n.d(a),r&&r.d(a)}}}function aE(s){let e,t,i,n=s[10]=="twitter"&&oE(),r=s[10]=="discord"&&lE();return{c(){e=Y("div"),n&&n.c(),t=le(),r&&r.c(),this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);n&&n.l(o),t=ce(o),r&&r.l(o),o.forEach(D),this.h()},h(){T(e,"class","theme-"+s[8]+" w-[48px] h-[48px] mb-[20px] dk:mb-[30px] rounded-full flex items-center justify-center p-[14px]")},m(a,o){Q(a,e,o),n&&n.m(e,null),B(e,t),r&&r.m(e,null),i=!0},p:Pe,i(a){i||(F(n),F(r),i=!0)},o(a){W(n),W(r),i=!1},d(a){a&&D(e),n&&n.d(),r&&r.d()}}}function oE(s){let e,t;return e=new Sl({props:{type:"twitter"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function lE(s){let e,t;return e=new Sl({props:{type:"discord"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function cE(s){let e,t,i;return t=new sl({props:{theme:s[7],theme_alt:s[8]}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","w-full mb-[18px] dk:mb-[30px] hidden dk:block accent")},m(n,r){Q(n,e,r),we(t,e,null),i=!0},p:Pe,i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t)}}}function Yd(s){let e,t=s[3].eyebrow+"",i;return{c(){e=Y("p"),i=je(t),this.h()},l(n){e=q(n,"P",{class:!0});var r=G(e);i=Ye(r,t),r.forEach(D),this.h()},h(){T(e,"class","eyebrow accent")},m(n,r){Q(n,e,r),B(e,i)},p(n,r){r&8&&t!==(t=n[3].eyebrow+"")&&ut(i,t)},d(n){n&&D(e)}}}function qd(s){var i,n;let e,t;return e=new Bi({props:{content:(i=s[3])==null?void 0:i.content,scale:(n=s[3])==null?void 0:n.content_scale}}),{c(){_e(e.$$.fragment)},l(r){xe(e.$$.fragment,r)},m(r,a){we(e,r,a),t=!0},p(r,a){var l,c;const o={};a&8&&(o.content=(l=r[3])==null?void 0:l.content),a&8&&(o.scale=(c=r[3])==null?void 0:c.content_scale),e.$set(o)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){be(e,r)}}}function Xd(s){var a;let e,t=((a=s[3])==null?void 0:a.cta_text)+"",i,n,r;return{c(){e=Y("a"),i=je(t),this.h()},l(o){e=q(o,"A",{class:!0,href:!0,target:!0});var l=G(e);i=Ye(l,t),l.forEach(D),this.h()},h(){var o;T(e,"class","btn inline-block"),T(e,"href",n=gi(s[3].cta_link,s[5].linkResolver)),T(e,"target",r=((o=s[3])==null?void 0:o.cta_link.target)||null)},m(o,l){Q(o,e,l),B(e,i)},p(o,l){var c,u;l&8&&t!==(t=((c=o[3])==null?void 0:c.cta_text)+"")&&ut(i,t),l&40&&n!==(n=gi(o[3].cta_link,o[5].linkResolver))&&T(e,"href",n),l&8&&r!==(r=((u=o[3])==null?void 0:u.cta_link.target)||null)&&T(e,"target",r)},d(o){o&&D(e)}}}function Zd(s){let e;return{c(){e=Y("div"),this.h()},l(t){e=q(t,"DIV",{class:!0}),G(e).forEach(D),this.h()},h(){T(e,"class","h-[48px] w-full")},m(t,i){Q(t,e,i)},d(t){t&&D(e)}}}function $d(s){let e,t;return e=new x0({props:{objects:s[2],theme:s[7]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&4&&(r.objects=i[2]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Kd(s){var _,x,b,S,M,y,E,C,P,L;let e,t,i,n,r,a,o,l,c,u,h,f,d=((_=s[3])==null?void 0:_.lead_in_image)&&jd(s),g=((x=s[3])==null?void 0:x.eyebrow)&&s[3].eyebrow!==""&&Yd(s),p=((b=s[3])==null?void 0:b.content)&&typeof((S=s[3])==null?void 0:S.content)=="object"&&((M=s[3])==null?void 0:M.content[0].text)!=""&&qd(s),m=(((E=(y=s[3])==null?void 0:y.cta_link)==null?void 0:E.url)||((C=s[3].cta_link)==null?void 0:C.uid))&&Xd(s),v=((P=s[3])==null?void 0:P.lead_in_image)&&Zd(),w=((L=s[2])==null?void 0:L.length)>0&&$d(s);return{c(){e=Y("section"),t=Y("div"),i=Y("div"),n=Y("div"),d&&d.c(),r=le(),g&&g.c(),a=le(),p&&p.c(),o=le(),m&&m.c(),l=le(),v&&v.c(),c=le(),w&&w.c(),this.h()},l(k){e=q(k,"SECTION",{id:!0,"data-idx":!0,"data-variation":!0,class:!0});var A=G(e);t=q(A,"DIV",{class:!0});var I=G(t);i=q(I,"DIV",{class:!0,style:!0});var R=G(i);n=q(R,"DIV",{class:!0});var O=G(n);d&&d.l(O),r=ce(O),g&&g.l(O),a=ce(O),p&&p.l(O),o=ce(O),m&&m.l(O),O.forEach(D),l=ce(R),v&&v.l(R),R.forEach(D),c=ce(I),w&&w.l(I),I.forEach(D),A.forEach(D),this.h()},h(){var k,A;T(n,"class","richtext "+(s[6]=="center"?"flex flex-col items-center":"")),T(i,"class",(s[9]?"max-w-[460px]":"max-w-[875px]")+" w-full m-auto relative z-[1] boundary-exclusion"),Ce(i,"text-align",(k=s[3].text_alignment)==null?void 0:k.toLowerCase()),T(t,"class",u="relative min-h-[calc(100vh_/_2)] w-full flex flex-col items-center "+(((A=s[2])==null?void 0:A.length)>0?"py-[60px] cx":"ca")),T(e,"id",s[0]),T(e,"data-idx",s[1]),T(e,"data-variation",s[4]),T(e,"class",h="one-column-richtext overflow-hidden "+(s[2].length>0?"ca relative":"")+" slice-section theme-"+s[7])},m(k,A){Q(k,e,A),B(e,t),B(t,i),B(i,n),d&&d.m(n,null),B(n,r),g&&g.m(n,null),B(n,a),p&&p.m(n,null),B(n,o),m&&m.m(n,null),B(i,l),v&&v.m(i,null),B(t,c),w&&w.m(t,null),f=!0},p(k,A){var I,R,O,z,V,$,K,U,ee,Z,te,j;(I=k[3])!=null&&I.lead_in_image?d?(d.p(k,A),A&8&&F(d,1)):(d=jd(k),d.c(),F(d,1),d.m(n,r)):d&&(Se(),W(d,1,1,()=>{d=null}),Me()),(R=k[3])!=null&&R.eyebrow&&k[3].eyebrow!==""?g?g.p(k,A):(g=Yd(k),g.c(),g.m(n,a)):g&&(g.d(1),g=null),(O=k[3])!=null&&O.content&&typeof((z=k[3])==null?void 0:z.content)=="object"&&((V=k[3])==null?void 0:V.content[0].text)!=""?p?(p.p(k,A),A&8&&F(p,1)):(p=qd(k),p.c(),F(p,1),p.m(n,o)):p&&(Se(),W(p,1,1,()=>{p=null}),Me()),(K=($=k[3])==null?void 0:$.cta_link)!=null&&K.url||(U=k[3].cta_link)!=null&&U.uid?m?m.p(k,A):(m=Xd(k),m.c(),m.m(n,null)):m&&(m.d(1),m=null),(ee=k[3])!=null&&ee.lead_in_image?v||(v=Zd(),v.c(),v.m(i,null)):v&&(v.d(1),v=null),(!f||A&8)&&Ce(i,"text-align",(Z=k[3].text_alignment)==null?void 0:Z.toLowerCase()),((te=k[2])==null?void 0:te.length)>0?w?(w.p(k,A),A&4&&F(w,1)):(w=$d(k),w.c(),F(w,1),w.m(t,null)):w&&(Se(),W(w,1,1,()=>{w=null}),Me()),(!f||A&4&&u!==(u="relative min-h-[calc(100vh_/_2)] w-full flex flex-col items-center "+(((j=k[2])==null?void 0:j.length)>0?"py-[60px] cx":"ca")))&&T(t,"class",u),(!f||A&1)&&T(e,"id",k[0]),(!f||A&2)&&T(e,"data-idx",k[1]),(!f||A&16)&&T(e,"data-variation",k[4]),(!f||A&4&&h!==(h="one-column-richtext overflow-hidden "+(k[2].length>0?"ca relative":"")+" slice-section theme-"+k[7]))&&T(e,"class",h)},i(k){f||(F(d),F(p),F(w),f=!0)},o(k){W(d),W(p),W(w),f=!1},d(k){k&&D(e),d&&d.d(),g&&g.d(),p&&p.d(),m&&m.d(),v&&v.d(),w&&w.d()}}}function uE(s){let e=s[0],t,i,n=Kd(s);return{c(){n.c(),t=ue()},l(r){n.l(r),t=ue()},m(r,a){n.m(r,a),Q(r,t,a),i=!0},p(r,[a]){a&1&&Ge(e,e=r[0])?(Se(),W(n,1,1,Pe),Me(),n=Kd(r),n.c(),F(n,1),n.m(t.parentNode,t)):n.p(r,a)},i(r){i||(F(n),i=!0)},o(r){W(n),i=!1},d(r){r&&D(t),n.d(r)}}}function fE(s,e,t){var p;let i,n;Yt(s,Xt,m=>t(11,i=m)),Yt(s,il,m=>t(5,n=m));let{id:r}=e,{index:a}=e,{items:o}=e,{data:l}=e,{variation:c}=e,u=((p=l==null?void 0:l.text_alignment)==null?void 0:p.toLowerCase())||"left",h=typeof l.theme=="string"?l.theme.toLowerCase():"primary",f=h==="primary"?"secondary":"primary",d=i.split,g=l!=null&&l.lead_in_image?Ur(l.lead_in_image):null;return s.$$set=m=>{"id"in m&&t(0,r=m.id),"index"in m&&t(1,a=m.index),"items"in m&&t(2,o=m.items),"data"in m&&t(3,l=m.data),"variation"in m&&t(4,c=m.variation)},[r,a,o,l,c,n,u,h,f,d,g]}class dE extends nt{constructor(e){super(),st(this,e,fE,uE,Ge,{id:0,index:1,items:2,data:3,variation:4})}}function Jd(s,e,t){const i=s.slice();return i[22]=e[t],i[24]=t,i}function Qd(s){let e,t,i,n;const r=s[14].default,a=Yr(r,s,s[13],null);return{c(){e=Y("div"),a&&a.c(),t=le(),this.h()},l(o){e=q(o,"DIV",{class:!0,"aria-hidden":!0,tabindex:!0});var l=G(e);a&&a.l(l),t=ce(l),l.forEach(D),this.h()},h(){T(e,"class",i="marquee "+(s[3]===!1?"!border-0":"")),T(e,"aria-hidden","true"),T(e,"tabindex","-1")},m(o,l){Q(o,e,l),a&&a.m(e,null),B(e,t),n=!0},p(o,l){a&&a.p&&(!n||l&8192)&&qr(a,r,o,o[13],n?Zr(r,o[13],l,null):Xr(o[13]),null),(!n||l&8&&i!==(i="marquee "+(o[3]===!1?"!border-0":"")))&&T(e,"class",i)},i(o){n||(F(a,o),n=!0)},o(o){W(a,o),n=!1},d(o){o&&D(e),a&&a.d(o)}}}function hE(s){let e,t,i,n,r,a,o,l,c,u;const h=s[14].default,f=Yr(h,s,s[13],null);let d=kt({length:s[7]}),g=[];for(let m=0;m<d.length;m+=1)g[m]=Qd(Jd(s,d,m));const p=m=>W(g[m],1,1,()=>{g[m]=null});return{c(){e=Y("div"),t=Y("div"),f&&f.c(),n=le();for(let m=0;m<g.length;m+=1)g[m].c();this.h()},l(m){e=q(m,"DIV",{class:!0,style:!0,"aria-role":!0,"aria-label":!0});var v=G(e);t=q(v,"DIV",{class:!0});var w=G(t);f&&f.l(w),w.forEach(D),n=ce(v);for(let _=0;_<g.length;_+=1)g[_].l(v);v.forEach(D),this.h()},h(){var m,v;T(t,"class","marquee"),gt(()=>s[15].call(t)),T(e,"class",r="marquee-container "+(s[3]===!1?"!border-0":"")),T(e,"style",a=((m=s[2])!=null&&m.bg?`--background-color: ${s[2].bg};`:"")+" "+((v=s[2])!=null&&v.ft?`--content-color: ${s[2].ft};`:"")),T(e,"aria-role","marquee"),T(e,"aria-label",s[1]),gt(()=>s[17].call(e))},m(m,v){Q(m,e,v),B(e,t),f&&f.m(t,null),i=Qt(t,s[15].bind(t)),B(e,n);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(e,null);s[16](e),o=Qt(e,s[17].bind(e)),l=!0,c||(u=[Qe(e,"mouseenter",s[18]),Qe(e,"mouseleave",s[19])],c=!0)},p(m,[v]){var w,_;if(f&&f.p&&(!l||v&8192)&&qr(f,h,m,m[13],l?Zr(h,m[13],v,null):Xr(m[13]),null),v&8328){d=kt({length:m[7]});let x;for(x=0;x<d.length;x+=1){const b=Jd(m,d,x);g[x]?(g[x].p(b,v),F(g[x],1)):(g[x]=Qd(b),g[x].c(),F(g[x],1),g[x].m(e,null))}for(Se(),x=d.length;x<g.length;x+=1)p(x);Me()}(!l||v&8&&r!==(r="marquee-container "+(m[3]===!1?"!border-0":"")))&&T(e,"class",r),(!l||v&4&&a!==(a=((w=m[2])!=null&&w.bg?`--background-color: ${m[2].bg};`:"")+" "+((_=m[2])!=null&&_.ft?`--content-color: ${m[2].ft};`:"")))&&T(e,"style",a),(!l||v&2)&&T(e,"aria-label",m[1])},i(m){if(!l){F(f,m);for(let v=0;v<d.length;v+=1)F(g[v]);l=!0}},o(m){W(f,m),g=g.filter(Boolean);for(let v=0;v<g.length;v+=1)W(g[v]);l=!1},d(m){m&&D(e),f&&f.d(m),i(),Di(g,m),s[16](null),o(),c=!1,Qi(u)}}}function pE(s,e,t){let i,n,{$$slots:r={},$$scope:a}=e,{pauseOnHover:o=!0}=e,{direction:l="left"}=e,{repeat:c="full"}=e,{speed:u=25}=e,{play:h=!0}=e,{label:f="Marquee"}=e,{colors:d={}}=e,{borders:g=!0}=e,p,m=100,v,w=Ht.timeline({repeat:-1}),_;Pi(()=>{t(6,_=!!(matchMedia&&matchMedia("(prefers-reduced-motion: reduce)").matches)),w.fromTo(v.children,{xPercent:l==="left"?0:-100},{xPercent:l==="left"?-100:0,duration:n,ease:"linear"}),w.play()});function x(){m=this.clientWidth,t(5,m)}function b(E){Mt[E?"unshift":"push"](()=>{v=E,t(8,v)})}function S(){p=this.clientWidth,t(4,p)}const M=()=>{t(0,h=!1)},y=()=>{_||t(0,h=!0)};return s.$$set=E=>{"pauseOnHover"in E&&t(9,o=E.pauseOnHover),"direction"in E&&t(10,l=E.direction),"repeat"in E&&t(11,c=E.repeat),"speed"in E&&t(12,u=E.speed),"play"in E&&t(0,h=E.play),"label"in E&&t(1,f=E.label),"colors"in E&&t(2,d=E.colors),"borders"in E&&t(3,g=E.borders),"$$scope"in E&&t(13,a=E.$$scope)},s.$$.update=()=>{s.$$.dirty&2096&&t(7,i=typeof c=="string"?p/m:c-1),s.$$.dirty&4240&&(n=p/u/i),s.$$.dirty&64&&_&&t(0,h=!1),s.$$.dirty&577&&o===!0&&_===!1&&(h===!0?w.resume():w.pause())},[h,f,d,g,p,m,_,i,v,o,l,c,u,a,r,x,b,S,M,y]}class mE extends nt{constructor(e){super(),st(this,e,pE,hE,Ge,{pauseOnHover:9,direction:10,repeat:11,speed:12,play:0,label:1,colors:2,borders:3})}}function eh(s,e,t){const i=s.slice();return i[20]=e[t],i}function th(s,e,t){const i=s.slice();return i[20]=e[t],i}function ih(s){let e,t,i,n=(s[11]=="twitter"||s[11]=="discord")&&gE(s),r=s[11]=="shape-abstraction"&&wE(s);return{c(){e=Y("div"),n&&n.c(),t=le(),r&&r.c(),this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);n&&n.l(o),t=ce(o),r&&r.l(o),o.forEach(D),this.h()},h(){T(e,"class","relative z-[1]")},m(a,o){Q(a,e,o),n&&n.m(e,null),B(e,t),r&&r.m(e,null),i=!0},p(a,o){(a[11]=="twitter"||a[11]=="discord")&&n.p(a,o),a[11]=="shape-abstraction"&&r.p(a,o)},i(a){i||(F(n),F(r),i=!0)},o(a){W(n),W(r),i=!1},d(a){a&&D(e),n&&n.d(),r&&r.d()}}}function gE(s){let e,t,i,n,r=s[11]=="twitter"&&vE(),a=s[11]=="discord"&&_E();return{c(){e=Y("div"),r&&r.c(),t=le(),a&&a.c(),this.h()},l(o){e=q(o,"DIV",{class:!0});var l=G(e);r&&r.l(l),t=ce(l),a&&a.l(l),l.forEach(D),this.h()},h(){T(e,"class",i="theme-"+s[8]+" w-[48px] h-[48px] mx-auto mb-[20px] dk:mb-[30px] rounded-full flex items-center justify-center p-[14px]")},m(o,l){Q(o,e,l),r&&r.m(e,null),B(e,t),a&&a.m(e,null),n=!0},p(o,l){(!n||l&256&&i!==(i="theme-"+o[8]+" w-[48px] h-[48px] mx-auto mb-[20px] dk:mb-[30px] rounded-full flex items-center justify-center p-[14px]"))&&T(e,"class",i)},i(o){n||(F(r),F(a),n=!0)},o(o){W(r),W(a),n=!1},d(o){o&&D(e),r&&r.d(),a&&a.d()}}}function vE(s){let e,t;return e=new Sl({props:{type:"twitter"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function _E(s){let e,t;return e=new Sl({props:{type:"discord"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function wE(s){let e,t;return e=new sl({props:{theme:s[5],theme_alt:s[8]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&32&&(r.theme=i[5]),n&256&&(r.theme_alt=i[8]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function nh(s){let e,t,i;return t=new Bi({props:{content:s[3].headline}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","cx text-center relative z-[1]")},m(n,r){Q(n,e,r),we(t,e,null),i=!0},p(n,r){const a={};r&8&&(a.content=n[3].headline),t.$set(a)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t)}}}function bE(s){let e,t;return e=new Nu({props:{id:s[9],items:s[2],label:"Social Carousel",split:s[10],params:{centeredSlides:!1,initialSlide:0,modules:[Ia,Ra],slidesOffsetBefore:15,slidesOffsetAfter:15,slidesPerView:"auto",speed:1e3},$$slots:{default:[xE]},$$scope:{ctx:s}}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&4&&(r.items=i[2]),n&33554436&&(r.$$scope={dirty:n,ctx:i}),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function yE(s){let e,t;return e=new mE({props:{speed:40,$$slots:{default:[SE]},$$scope:{ctx:s}}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&33554500&&(r.$$scope={dirty:n,ctx:i}),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function sh(s){var p,m,v;let e,t,i,n,r,a,o,l=s[20].social_handle+"",c,u,h,f,d,g;return r=new ei({props:{src:(p=s[20].profile_image)==null?void 0:p.url,width:(m=s[20].profile_image)==null?void 0:m.width,height:(v=s[20].profile_image)==null?void 0:v.height,cover:!0}}),f=new Bi({props:{content:s[20].content}}),{c(){e=Y("swiper-slide"),t=Y("div"),i=Y("div"),n=Y("div"),_e(r.$$.fragment),a=le(),o=Y("p"),c=je(l),u=le(),h=Y("div"),_e(f.$$.fragment),d=le(),this.h()},l(w){e=q(w,"SWIPER-SLIDE",{class:!0});var _=G(e);t=q(_,"DIV",{class:!0,style:!0});var x=G(t);i=q(x,"DIV",{class:!0});var b=G(i);n=q(b,"DIV",{class:!0});var S=G(n);xe(r.$$.fragment,S),S.forEach(D),a=ce(b),o=q(b,"P",{class:!0});var M=G(o);c=Ye(M,l),M.forEach(D),b.forEach(D),u=ce(x),h=q(x,"DIV",{class:!0});var y=G(h);xe(f.$$.fragment,y),y.forEach(D),x.forEach(D),d=ce(_),_.forEach(D),this.h()},h(){T(n,"class","w-[32px] h-[32px] relative overflow-hidden rounded-full "+(s[11]=="discord"?"bg-[#23272A]":"bg-black")),T(o,"class","m-0 text-sm "+(s[11]=="discord"?"text-[#57F287]":"")),T(i,"class","flex gap-[12px] pb-5 items-center"),T(h,"class","check-links "+(s[11]=="discord"?"[&>p>a]:text-[#7289DA]":"")+" "+(s[11]=="twitter"?"[&>p>a]:text-[#1DA1F2]":"")),T(t,"class","h-[226px] max-w-[426px] p-5 "+(s[11]=="discord"?"bg-[#2C2F33] text-white":"bg-white text-[var(--theme-secondary-text)]")+" rounded"),Ce(t,"max-width","426px"),Gt(e,"class","w-[calc(100%_-_30px)] max-w-[426px]")},m(w,_){Q(w,e,_),B(e,t),B(t,i),B(i,n),we(r,n,null),B(i,a),B(i,o),B(o,c),B(t,u),B(t,h),we(f,h,null),B(e,d),g=!0},p(w,_){var S,M,y;const x={};_&4&&(x.src=(S=w[20].profile_image)==null?void 0:S.url),_&4&&(x.width=(M=w[20].profile_image)==null?void 0:M.width),_&4&&(x.height=(y=w[20].profile_image)==null?void 0:y.height),r.$set(x),(!g||_&4)&&l!==(l=w[20].social_handle+"")&&ut(c,l);const b={};_&4&&(b.content=w[20].content),f.$set(b)},i(w){g||(F(r.$$.fragment,w),F(f.$$.fragment,w),g=!0)},o(w){W(r.$$.fragment,w),W(f.$$.fragment,w),g=!1},d(w){w&&D(e),be(r),be(f)}}}function xE(s){let e,t,i=kt(s[2]),n=[];for(let a=0;a<i.length;a+=1)n[a]=sh(eh(s,i,a));const r=a=>W(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ue()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ue()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);Q(a,e,o),t=!0},p(a,o){if(o&2052){i=kt(a[2]);let l;for(l=0;l<i.length;l+=1){const c=eh(a,i,l);n[l]?(n[l].p(c,o),F(n[l],1)):(n[l]=sh(c),n[l].c(),F(n[l],1),n[l].m(e.parentNode,e))}for(Se(),l=i.length;l<n.length;l+=1)r(l);Me()}},i(a){if(!t){for(let o=0;o<i.length;o+=1)F(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)W(n[o]);t=!1},d(a){a&&D(e),Di(n,a)}}}function rh(s){var m,v,w;let e,t,i,n,r,a,o,l=s[20].social_handle+"",c,u,h,f,d,g,p;return r=new ei({props:{src:(m=s[20].profile_image)==null?void 0:m.url,width:(v=s[20].profile_image)==null?void 0:v.width,height:(w=s[20].profile_image)==null?void 0:w.height,cover:!0}}),f=new Bi({props:{content:s[20].content}}),{c(){e=Y("div"),t=Y("div"),i=Y("div"),n=Y("div"),_e(r.$$.fragment),a=le(),o=Y("p"),c=je(l),u=le(),h=Y("div"),_e(f.$$.fragment),d=le(),this.h()},l(_){e=q(_,"DIV",{class:!0});var x=G(e);t=q(x,"DIV",{class:!0,style:!0});var b=G(t);i=q(b,"DIV",{class:!0});var S=G(i);n=q(S,"DIV",{class:!0});var M=G(n);xe(r.$$.fragment,M),M.forEach(D),a=ce(S),o=q(S,"P",{class:!0});var y=G(o);c=Ye(y,l),y.forEach(D),S.forEach(D),u=ce(b),h=q(b,"DIV",{class:!0});var E=G(h);xe(f.$$.fragment,E),E.forEach(D),b.forEach(D),d=ce(x),x.forEach(D),this.h()},h(){T(n,"class","w-[32px] h-[32px] relative overflow-hidden rounded-full "+(s[11]=="discord"?"bg-[#23272A]":"bg-black")),T(o,"class","m-0 text-sm "+(s[11]=="discord"?"text-[#57F287]":"")),T(i,"class","flex gap-[12px] pb-5 items-center"),T(h,"class","check-links "+(s[11]=="discord"?"[&>p>a]:text-[#7289DA]":"")+" "+(s[11]=="twitter"?"[&>p>a]:text-[#1DA1F2]":"")),T(t,"class","h-[226px] max-w-[426px] p-5 "+(s[11]=="discord"?"bg-[#2C2F33] text-white":"bg-white text-[var(--theme-secondary-text)]")+" rounded"),Ce(t,"max-width","426px"),T(e,"class",g="w-[calc(100%_-_30px)] max-w-[426px] "+(s[6]>768?"mr-[20px]":"mr-[15px]"))},m(_,x){Q(_,e,x),B(e,t),B(t,i),B(i,n),we(r,n,null),B(i,a),B(i,o),B(o,c),B(t,u),B(t,h),we(f,h,null),B(e,d),p=!0},p(_,x){var M,y,E;const b={};x&4&&(b.src=(M=_[20].profile_image)==null?void 0:M.url),x&4&&(b.width=(y=_[20].profile_image)==null?void 0:y.width),x&4&&(b.height=(E=_[20].profile_image)==null?void 0:E.height),r.$set(b),(!p||x&4)&&l!==(l=_[20].social_handle+"")&&ut(c,l);const S={};x&4&&(S.content=_[20].content),f.$set(S),(!p||x&64&&g!==(g="w-[calc(100%_-_30px)] max-w-[426px] "+(_[6]>768?"mr-[20px]":"mr-[15px]")))&&T(e,"class",g)},i(_){p||(F(r.$$.fragment,_),F(f.$$.fragment,_),p=!0)},o(_){W(r.$$.fragment,_),W(f.$$.fragment,_),p=!1},d(_){_&&D(e),be(r),be(f)}}}function SE(s){let e,t,i=kt(s[2]),n=[];for(let a=0;a<i.length;a+=1)n[a]=rh(th(s,i,a));const r=a=>W(n[a],1,1,()=>{n[a]=null});return{c(){e=Y("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);for(let l=0;l<n.length;l+=1)n[l].l(o);o.forEach(D),this.h()},h(){T(e,"class","flex items-start")},m(a,o){Q(a,e,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null);t=!0},p(a,o){if(o&2116){i=kt(a[2]);let l;for(l=0;l<i.length;l+=1){const c=th(a,i,l);n[l]?(n[l].p(c,o),F(n[l],1)):(n[l]=rh(c),n[l].c(),F(n[l],1),n[l].m(e,null))}for(Se(),l=i.length;l<n.length;l+=1)r(l);Me()}},i(a){if(!t){for(let o=0;o<i.length;o+=1)F(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)W(n[o]);t=!1},d(a){a&&D(e),Di(n,a)}}}function ah(s){let e,t;return e=new x0({props:{objects:s[3].floating_object_image,restructure:!0,theme:s[5],count:s[3].floating_object_count>0?s[3].floating_object_count:3}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&8&&(r.objects=i[3].floating_object_image),n&32&&(r.theme=i[5]),n&8&&(r.count=i[3].floating_object_count>0?i[3].floating_object_count:3),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function oh(s){var w,_,x;let e,t,i,n,r,a,o,l,c,u,h,f=((w=s[3])==null?void 0:w.lead_in_image)&&ih(s),d=s[3].headline&&nh(s);const g=[yE,bE],p=[];function m(b,S){return b[6]>768?0:1}r=m(s),a=p[r]=g[r](s);let v=((x=(_=s[3])==null?void 0:_.floating_object_image)==null?void 0:x.url)&&ah(s);return{c(){e=Y("section"),t=Y("div"),f&&f.c(),i=le(),d&&d.c(),n=le(),a.c(),o=le(),v&&v.c(),this.h()},l(b){e=q(b,"SECTION",{id:!0,"data-idx":!0,"data-variation":!0,class:!0});var S=G(e);t=q(S,"DIV",{class:!0});var M=G(t);f&&f.l(M),i=ce(M),d&&d.l(M),n=ce(M),a.l(M),o=ce(M),v&&v.l(M),M.forEach(D),S.forEach(D),this.h()},h(){var b,S;T(t,"class",l=(S=(b=s[3])==null?void 0:b.floating_object_image)!=null&&S.url?"cy relative":""),T(e,"id",s[0]),T(e,"data-idx",s[1]),T(e,"data-variation",s[4]),T(e,"class",c="social-carousel overflow-hidden py-[60px] theme-"+s[5]+" slice-section"),gt(()=>s[13].call(e))},m(b,S){Q(b,e,S),B(e,t),f&&f.m(t,null),B(t,i),d&&d.m(t,null),B(t,n),p[r].m(t,null),B(t,o),v&&v.m(t,null),s[12](e),u=Qt(e,s[13].bind(e)),h=!0},p(b,S){var y,E,C,P,L;(y=b[3])!=null&&y.lead_in_image?f?(f.p(b,S),S&8&&F(f,1)):(f=ih(b),f.c(),F(f,1),f.m(t,i)):f&&(Se(),W(f,1,1,()=>{f=null}),Me()),b[3].headline?d?(d.p(b,S),S&8&&F(d,1)):(d=nh(b),d.c(),F(d,1),d.m(t,n)):d&&(Se(),W(d,1,1,()=>{d=null}),Me());let M=r;r=m(b),r===M?p[r].p(b,S):(Se(),W(p[M],1,1,()=>{p[M]=null}),Me(),a=p[r],a?a.p(b,S):(a=p[r]=g[r](b),a.c()),F(a,1),a.m(t,o)),(C=(E=b[3])==null?void 0:E.floating_object_image)!=null&&C.url?v?(v.p(b,S),S&8&&F(v,1)):(v=ah(b),v.c(),F(v,1),v.m(t,null)):v&&(Se(),W(v,1,1,()=>{v=null}),Me()),(!h||S&8&&l!==(l=(L=(P=b[3])==null?void 0:P.floating_object_image)!=null&&L.url?"cy relative":""))&&T(t,"class",l),(!h||S&1)&&T(e,"id",b[0]),(!h||S&2)&&T(e,"data-idx",b[1]),(!h||S&16)&&T(e,"data-variation",b[4]),(!h||S&32&&c!==(c="social-carousel overflow-hidden py-[60px] theme-"+b[5]+" slice-section"))&&T(e,"class",c)},i(b){h||(F(f),F(d),F(a),F(v),h=!0)},o(b){W(f),W(d),W(a),W(v),h=!1},d(b){b&&D(e),f&&f.d(),d&&d.d(),p[r].d(),v&&v.d(),s[12](null),u()}}}function ME(s){let e=s[0],t,i,n=oh(s);return{c(){n.c(),t=ue()},l(r){n.l(r),t=ue()},m(r,a){n.m(r,a),Q(r,t,a),i=!0},p(r,[a]){a&1&&Ge(e,e=r[0])?(Se(),W(n,1,1,Pe),Me(),n=oh(r),n.c(),F(n,1),n.m(t.parentNode,t)):n.p(r,a)},i(r){i||(F(n),i=!0)},o(r){W(n),i=!1},d(r){r&&D(t),n.d(r)}}}function EE(s,e,t){let i,n,r;Yt(s,Xt,_=>t(15,r=_));let{id:a}=e,{index:o}=e,{items:l}=e,{data:c}=e,{variation:u}=e,h=a.replace("$","-"),f=0,d;gu();let g=r.split,p=c!=null&&c.lead_in_image?Ur(c.lead_in_image):null,m;Pi(()=>{r.lazyLoad.update(),m=d.querySelectorAll("check-links"),m.forEach(_=>{_.tabIndex=-1,_.classList.add("noTab")})});function v(_){Mt[_?"unshift":"push"](()=>{d=_,t(7,d)})}function w(){f=this.clientWidth,t(6,f)}return s.$$set=_=>{"id"in _&&t(0,a=_.id),"index"in _&&t(1,o=_.index),"items"in _&&t(2,l=_.items),"data"in _&&t(3,c=_.data),"variation"in _&&t(4,u=_.variation)},s.$$.update=()=>{s.$$.dirty&8&&t(5,i=typeof c.theme=="string"?c.theme.toLowerCase():"primary"),s.$$.dirty&32&&t(8,n=i==="primary"?"secondary":"primary")},[a,o,l,c,u,i,f,d,n,h,g,p,v,w]}class TE extends nt{constructor(e){super(),st(this,e,EE,ME,Ge,{id:0,index:1,items:2,data:3,variation:4})}}var jc={exports:{}};(function(s,e){(function(t,i){i(e)})(Po,function(t){/*!
 * ScrollToPlugin 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var i,n,r,a,o,l,c,u,h=function(){return typeof window<"u"},f=function(){return i||h()&&(i=window.gsap)&&i.registerPlugin&&i},d=function(M){return typeof M=="string"},g=function(M){return typeof M=="function"},p=function(M,y){var E=y==="x"?"Width":"Height",C="scroll"+E,P="client"+E;return M===r||M===a||M===o?Math.max(a[C],o[C])-(r["inner"+E]||a[P]||o[P]):M[C]-M["offset"+E]},m=function(M,y){var E="scroll"+(y==="x"?"Left":"Top");return M===r&&(M.pageXOffset!=null?E="page"+y.toUpperCase()+"Offset":M=a[E]!=null?a:o),function(){return M[E]}},v=function(M,y,E,C){if(g(M)&&(M=M(y,E,C)),typeof M!="object")return d(M)&&M!=="max"&&M.charAt(1)!=="="?{x:M,y:M}:{y:M};if(M.nodeType)return{y:M,x:M};var P={},L;for(L in M)P[L]=L!=="onAutoKill"&&g(M[L])?M[L](y,E,C):M[L];return P},w=function(M,y){if(M=l(M)[0],!M||!M.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var E=M.getBoundingClientRect(),C=!y||y===r||y===o,P=C?{top:a.clientTop-(r.pageYOffset||a.scrollTop||o.scrollTop||0),left:a.clientLeft-(r.pageXOffset||a.scrollLeft||o.scrollLeft||0)}:y.getBoundingClientRect(),L={x:E.left-P.left,y:E.top-P.top};return!C&&y&&(L.x+=m(y,"x")(),L.y+=m(y,"y")()),L},_=function(M,y,E,C,P){return!isNaN(M)&&typeof M!="object"?parseFloat(M)-P:d(M)&&M.charAt(1)==="="?parseFloat(M.substr(2))*(M.charAt(0)==="-"?-1:1)+C-P:M==="max"?p(y,E)-P:Math.min(p(y,E),w(M,y)[E]-P)},x=function(){i=f(),h()&&i&&typeof document<"u"&&document.body&&(r=window,o=document.body,a=document.documentElement,l=i.utils.toArray,i.config({autoKillThreshold:7}),c=i.config(),n=1)},b={version:"3.12.2",name:"scrollTo",rawVars:1,register:function(M){i=M,x()},init:function(M,y,E,C,P){n||x();var L=this,k=i.getProperty(M,"scrollSnapType");L.isWin=M===r,L.target=M,L.tween=E,y=v(y,C,M,P),L.vars=y,L.autoKill=!!y.autoKill,L.getX=m(M,"x"),L.getY=m(M,"y"),L.x=L.xPrev=L.getX(),L.y=L.yPrev=L.getY(),u||(u=i.core.globals().ScrollTrigger),i.getProperty(M,"scrollBehavior")==="smooth"&&i.set(M,{scrollBehavior:"auto"}),k&&k!=="none"&&(L.snap=1,L.snapInline=M.style.scrollSnapType,M.style.scrollSnapType="none"),y.x!=null?(L.add(L,"x",L.x,_(y.x,M,"x",L.x,y.offsetX||0),C,P),L._props.push("scrollTo_x")):L.skipX=1,y.y!=null?(L.add(L,"y",L.y,_(y.y,M,"y",L.y,y.offsetY||0),C,P),L._props.push("scrollTo_y")):L.skipY=1},render:function(M,y){for(var E=y._pt,C=y.target,P=y.tween,L=y.autoKill,k=y.xPrev,A=y.yPrev,I=y.isWin,R=y.snap,O=y.snapInline,z,V,$,K,U;E;)E.r(M,E.d),E=E._next;z=I||!y.skipX?y.getX():k,V=I||!y.skipY?y.getY():A,$=V-A,K=z-k,U=c.autoKillThreshold,y.x<0&&(y.x=0),y.y<0&&(y.y=0),L&&(!y.skipX&&(K>U||K<-U)&&z<p(C,"x")&&(y.skipX=1),!y.skipY&&($>U||$<-U)&&V<p(C,"y")&&(y.skipY=1),y.skipX&&y.skipY&&(P.kill(),y.vars.onAutoKill&&y.vars.onAutoKill.apply(P,y.vars.onAutoKillParams||[]))),I?r.scrollTo(y.skipX?z:y.x,y.skipY?V:y.y):(y.skipY||(C.scrollTop=y.y),y.skipX||(C.scrollLeft=y.x)),R&&(M===1||M===0)&&(V=C.scrollTop,z=C.scrollLeft,O?C.style.scrollSnapType=O:C.style.removeProperty("scroll-snap-type"),C.scrollTop=V+1,C.scrollLeft=z+1,C.scrollTop=V,C.scrollLeft=z),y.xPrev=y.x,y.yPrev=y.y,u&&u.update()},kill:function(M){var y=M==="scrollTo";(y||M==="scrollTo_x")&&(this.skipX=1),(y||M==="scrollTo_y")&&(this.skipY=1)}};b.max=p,b.getOffset=w,b.buildGetter=m,f()&&i.registerPlugin(b),t.ScrollToPlugin=b,t.default=b,Object.defineProperty(t,"__esModule",{value:!0})})})(jc,jc.exports);var CE=jc.exports;function AE(s){let e,t,i;return{c(){e=Y("div"),t=je("CUSTOM INTERACTION "),i=je(s[1]),this.h()},l(n){e=q(n,"DIV",{"data-delay":!0,"data-theme":!0,"data-result":!0,"data-state":!0});var r=G(e);t=Ye(r,"CUSTOM INTERACTION "),i=Ye(r,s[1]),r.forEach(D),this.h()},h(){T(e,"data-delay",s[0]),T(e,"data-theme",s[2]),T(e,"data-result",s[3]),T(e,"data-state",s[4])},m(n,r){Q(n,e,r),B(e,t),B(e,i)},p(n,[r]){r&2&&ut(i,n[1]),r&1&&T(e,"data-delay",n[0]),r&4&&T(e,"data-theme",n[2]),r&8&&T(e,"data-result",n[3]),r&16&&T(e,"data-state",n[4])},i:Pe,o:Pe,d(n){n&&D(e)}}}function LE(s,e,t){let{delay:i=0}=e,{trigger:n="observe"}=e,{theme:r="primary"}=e,{result:a}=e,{state:o="start"}=e;return s.$$set=l=>{"delay"in l&&t(0,i=l.delay),"trigger"in l&&t(1,n=l.trigger),"theme"in l&&t(2,r=l.theme),"result"in l&&t(3,a=l.result),"state"in l&&t(4,o=l.state)},[i,n,r,a,o]}class kE extends nt{constructor(e){super(),st(this,e,LE,AE,Ge,{delay:0,trigger:1,theme:2,result:3,state:4})}}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Vu="149",Xl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},PE=0,lh=1,DE=2,S0=1,IE=2,ba=3,Ss=0,Ji=1,Zi=2,xs=0,Rr=1,ch=2,uh=3,fh=4,RE=5,Tr=100,zE=101,FE=102,dh=103,hh=104,OE=200,NE=201,BE=202,VE=203,M0=204,E0=205,UE=206,WE=207,GE=208,HE=209,jE=210,YE=0,qE=1,XE=2,Yc=3,ZE=4,$E=5,KE=6,JE=7,Uu=0,QE=1,eT=2,is=0,tT=1,iT=2,nT=3,sT=4,rT=5,T0=300,Wr=301,Gr=302,qc=303,Xc=304,Ml=306,Zc=1e3,gn=1001,$c=1002,Ai=1003,ph=1004,Zl=1005,on=1006,aT=1007,Na=1008,Js=1009,oT=1010,lT=1011,C0=1012,cT=1013,Ws=1014,Gs=1015,Ba=1016,uT=1017,fT=1018,zr=1020,dT=1021,vn=1023,hT=1024,pT=1025,Ys=1026,Hr=1027,mT=1028,gT=1029,vT=1030,_T=1031,wT=1033,$l=33776,Kl=33777,Jl=33778,Ql=33779,mh=35840,gh=35841,vh=35842,_h=35843,bT=36196,wh=37492,bh=37496,yh=37808,xh=37809,Sh=37810,Mh=37811,Eh=37812,Th=37813,Ch=37814,Ah=37815,Lh=37816,kh=37817,Ph=37818,Dh=37819,Ih=37820,Rh=37821,ec=36492,yT=36283,zh=36284,Fh=36285,Oh=36286,Qs=3e3,zt=3001,xT=3200,ST=3201,A0=0,MT=1,Tn="srgb",Va="srgb-linear",tc=7680,ET=519,Nh=35044,Bh="300 es",Kc=1035;class ea{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const n=this._listeners[e];if(n!==void 0){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const n=i.slice(0);for(let r=0,a=n.length;r<a;r++)n[r].call(this,e);e.target=null}}}const wi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Vh=1234567;const Ca=Math.PI/180,Ua=180/Math.PI;function ta(){const s=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(wi[s&255]+wi[s>>8&255]+wi[s>>16&255]+wi[s>>24&255]+"-"+wi[e&255]+wi[e>>8&255]+"-"+wi[e>>16&15|64]+wi[e>>24&255]+"-"+wi[t&63|128]+wi[t>>8&255]+"-"+wi[t>>16&255]+wi[t>>24&255]+wi[i&255]+wi[i>>8&255]+wi[i>>16&255]+wi[i>>24&255]).toLowerCase()}function Li(s,e,t){return Math.max(e,Math.min(t,s))}function Wu(s,e){return(s%e+e)%e}function TT(s,e,t,i,n){return i+(s-e)*(n-i)/(t-e)}function CT(s,e,t){return s!==e?(t-s)/(e-s):0}function Aa(s,e,t){return(1-t)*s+t*e}function AT(s,e,t,i){return Aa(s,e,1-Math.exp(-t*i))}function LT(s,e=1){return e-Math.abs(Wu(s,e*2)-e)}function kT(s,e,t){return s<=e?0:s>=t?1:(s=(s-e)/(t-e),s*s*(3-2*s))}function PT(s,e,t){return s<=e?0:s>=t?1:(s=(s-e)/(t-e),s*s*s*(s*(s*6-15)+10))}function DT(s,e){return s+Math.floor(Math.random()*(e-s+1))}function IT(s,e){return s+Math.random()*(e-s)}function RT(s){return s*(.5-Math.random())}function zT(s){s!==void 0&&(Vh=s);let e=Vh+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function FT(s){return s*Ca}function OT(s){return s*Ua}function Jc(s){return(s&s-1)===0&&s!==0}function NT(s){return Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))}function $o(s){return Math.pow(2,Math.floor(Math.log(s)/Math.LN2))}function BT(s,e,t,i,n){const r=Math.cos,a=Math.sin,o=r(t/2),l=a(t/2),c=r((e+i)/2),u=a((e+i)/2),h=r((e-i)/2),f=a((e-i)/2),d=r((i-e)/2),g=a((i-e)/2);switch(n){case"XYX":s.set(o*u,l*h,l*f,o*c);break;case"YZY":s.set(l*f,o*u,l*h,o*c);break;case"ZXZ":s.set(l*h,l*f,o*u,o*c);break;case"XZX":s.set(o*u,l*g,l*d,o*c);break;case"YXY":s.set(l*d,o*u,l*g,o*c);break;case"ZYZ":s.set(l*g,l*d,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function ya(s,e){switch(e.constructor){case Float32Array:return s;case Uint16Array:return s/65535;case Uint8Array:return s/255;case Int16Array:return Math.max(s/32767,-1);case Int8Array:return Math.max(s/127,-1);default:throw new Error("Invalid component type.")}}function zi(s,e){switch(e.constructor){case Float32Array:return s;case Uint16Array:return Math.round(s*65535);case Uint8Array:return Math.round(s*255);case Int16Array:return Math.round(s*32767);case Int8Array:return Math.round(s*127);default:throw new Error("Invalid component type.")}}var VT=Object.freeze({__proto__:null,DEG2RAD:Ca,RAD2DEG:Ua,ceilPowerOfTwo:NT,clamp:Li,damp:AT,degToRad:FT,denormalize:ya,euclideanModulo:Wu,floorPowerOfTwo:$o,generateUUID:ta,inverseLerp:CT,isPowerOfTwo:Jc,lerp:Aa,mapLinear:TT,normalize:zi,pingpong:LT,radToDeg:OT,randFloat:IT,randFloatSpread:RT,randInt:DT,seededRandom:zT,setQuaternionFromProperEuler:BT,smootherstep:PT,smoothstep:kT});class ht{constructor(e=0,t=0){ht.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),n=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*i-a*n+e.x,this.y=r*n+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class $i{constructor(){$i.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,n,r,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=n,u[2]=o,u[3]=t,u[4]=r,u[5]=l,u[6]=i,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,r=this.elements,a=i[0],o=i[3],l=i[6],c=i[1],u=i[4],h=i[7],f=i[2],d=i[5],g=i[8],p=n[0],m=n[3],v=n[6],w=n[1],_=n[4],x=n[7],b=n[2],S=n[5],M=n[8];return r[0]=a*p+o*w+l*b,r[3]=a*m+o*_+l*S,r[6]=a*v+o*x+l*M,r[1]=c*p+u*w+h*b,r[4]=c*m+u*_+h*S,r[7]=c*v+u*x+h*M,r[2]=f*p+d*w+g*b,r[5]=f*m+d*_+g*S,r[8]=f*v+d*x+g*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*a*u-t*o*c-i*r*u+i*o*l+n*r*c-n*a*l}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],h=u*a-o*c,f=o*l-u*r,d=c*r-a*l,g=t*h+i*f+n*d;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/g;return e[0]=h*p,e[1]=(n*c-u*i)*p,e[2]=(o*i-n*a)*p,e[3]=f*p,e[4]=(u*t-n*l)*p,e[5]=(n*r-o*t)*p,e[6]=d*p,e[7]=(i*l-c*t)*p,e[8]=(a*t-i*r)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,n,r,a,o){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*a+c*o)+a+e,-n*c,n*l,-n*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(ic.makeScale(e,t)),this}rotate(e){return this.premultiply(ic.makeRotation(-e)),this}translate(e,t){return this.premultiply(ic.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<9;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ic=new $i;function L0(s){for(let e=s.length-1;e>=0;--e)if(s[e]>=65535)return!0;return!1}function Ko(s){return document.createElementNS("http://www.w3.org/1999/xhtml",s)}function qs(s){return s<.04045?s*.0773993808:Math.pow(s*.9478672986+.0521327014,2.4)}function Oo(s){return s<.0031308?s*12.92:1.055*Math.pow(s,.41666)-.055}const nc={[Tn]:{[Va]:qs},[Va]:{[Tn]:Oo}},Ti={legacyMode:!0,get workingColorSpace(){return Va},set workingColorSpace(s){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(s,e,t){if(this.legacyMode||e===t||!e||!t)return s;if(nc[e]&&nc[e][t]!==void 0){const i=nc[e][t];return s.r=i(s.r),s.g=i(s.g),s.b=i(s.b),s}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(s,e){return this.convert(s,this.workingColorSpace,e)},toWorkingColorSpace:function(s,e){return this.convert(s,e,this.workingColorSpace)}},k0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ti={r:0,g:0,b:0},dn={h:0,s:0,l:0},ao={h:0,s:0,l:0};function sc(s,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?s+(e-s)*6*t:t<1/2?e:t<2/3?s+(e-s)*6*(2/3-t):s}function oo(s,e){return e.r=s.r,e.g=s.g,e.b=s.b,e}class Pt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Tn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ti.toWorkingColorSpace(this,t),this}setRGB(e,t,i,n=Ti.workingColorSpace){return this.r=e,this.g=t,this.b=i,Ti.toWorkingColorSpace(this,n),this}setHSL(e,t,i,n=Ti.workingColorSpace){if(e=Wu(e,1),t=Li(t,0,1),i=Li(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,a=2*i-r;this.r=sc(a,r,e+1/3),this.g=sc(a,r,e),this.b=sc(a,r,e-1/3)}return Ti.toWorkingColorSpace(this,n),this}setStyle(e,t=Tn){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const a=n[1],o=n[2];switch(a){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,Ti.toWorkingColorSpace(this,t),i(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,Ti.toWorkingColorSpace(this,t),i(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const l=parseFloat(r[1])/360,c=parseFloat(r[2])/100,u=parseFloat(r[3])/100;return i(r[4]),this.setHSL(l,c,u,t)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=n[1],a=r.length;if(a===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,Ti.toWorkingColorSpace(this,t),this;if(a===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,Ti.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Tn){const i=k0[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=qs(e.r),this.g=qs(e.g),this.b=qs(e.b),this}copyLinearToSRGB(e){return this.r=Oo(e.r),this.g=Oo(e.g),this.b=Oo(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Tn){return Ti.fromWorkingColorSpace(oo(this,ti),e),Li(ti.r*255,0,255)<<16^Li(ti.g*255,0,255)<<8^Li(ti.b*255,0,255)<<0}getHexString(e=Tn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ti.workingColorSpace){Ti.fromWorkingColorSpace(oo(this,ti),t);const i=ti.r,n=ti.g,r=ti.b,a=Math.max(i,n,r),o=Math.min(i,n,r);let l,c;const u=(o+a)/2;if(o===a)l=0,c=0;else{const h=a-o;switch(c=u<=.5?h/(a+o):h/(2-a-o),a){case i:l=(n-r)/h+(n<r?6:0);break;case n:l=(r-i)/h+2;break;case r:l=(i-n)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Ti.workingColorSpace){return Ti.fromWorkingColorSpace(oo(this,ti),t),e.r=ti.r,e.g=ti.g,e.b=ti.b,e}getStyle(e=Tn){return Ti.fromWorkingColorSpace(oo(this,ti),e),e!==Tn?`color(${e} ${ti.r} ${ti.g} ${ti.b})`:`rgb(${ti.r*255|0},${ti.g*255|0},${ti.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(dn),dn.h+=e,dn.s+=t,dn.l+=i,this.setHSL(dn.h,dn.s,dn.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(dn),e.getHSL(ao);const i=Aa(dn.h,ao.h,t),n=Aa(dn.s,ao.s,t),r=Aa(dn.l,ao.l,t);return this.setHSL(i,n,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Pt.NAMES=k0;let cr;class P0{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{cr===void 0&&(cr=Ko("canvas")),cr.width=e.width,cr.height=e.height;const i=cr.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=cr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Ko("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const n=i.getImageData(0,0,e.width,e.height),r=n.data;for(let a=0;a<r.length;a++)r[a]=qs(r[a]/255)*255;return i.putImageData(n,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(qs(t[i]/255)*255):t[i]=qs(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class D0{constructor(e=null){this.isSource=!0,this.uuid=ta(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(n!==null){let r;if(Array.isArray(n)){r=[];for(let a=0,o=n.length;a<o;a++)n[a].isDataTexture?r.push(rc(n[a].image)):r.push(rc(n[a]))}else r=rc(n);i.url=r}return t||(e.images[this.uuid]=i),i}}function rc(s){return typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&s instanceof ImageBitmap?P0.getDataURL(s):s.data?{data:Array.from(s.data),width:s.width,height:s.height,type:s.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let UT=0;class ki extends ea{constructor(e=ki.DEFAULT_IMAGE,t=ki.DEFAULT_MAPPING,i=gn,n=gn,r=on,a=Na,o=vn,l=Js,c=ki.DEFAULT_ANISOTROPY,u=Qs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:UT++}),this.uuid=ta(),this.name="",this.source=new D0(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=n,this.magFilter=r,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new ht(0,0),this.repeat=new ht(1,1),this.center=new ht(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $i,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==T0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Zc:e.x=e.x-Math.floor(e.x);break;case gn:e.x=e.x<0?0:1;break;case $c:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Zc:e.y=e.y-Math.floor(e.y);break;case gn:e.y=e.y<0?0:1;break;case $c:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}ki.DEFAULT_IMAGE=null;ki.DEFAULT_MAPPING=T0;ki.DEFAULT_ANISOTROPY=1;class di{constructor(e=0,t=0,i=0,n=1){di.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*t+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*t+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*t+a[7]*i+a[11]*n+a[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,n,r;const l=e.elements,c=l[0],u=l[4],h=l[8],f=l[1],d=l[5],g=l[9],p=l[2],m=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(h-p)<.01&&Math.abs(g-m)<.01){if(Math.abs(u+f)<.1&&Math.abs(h+p)<.1&&Math.abs(g+m)<.1&&Math.abs(c+d+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(c+1)/2,x=(d+1)/2,b=(v+1)/2,S=(u+f)/4,M=(h+p)/4,y=(g+m)/4;return _>x&&_>b?_<.01?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(_),n=S/i,r=M/i):x>b?x<.01?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(x),i=S/n,r=y/n):b<.01?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(b),i=M/r,n=y/r),this.set(i,n,r,t),this}let w=Math.sqrt((m-g)*(m-g)+(h-p)*(h-p)+(f-u)*(f-u));return Math.abs(w)<.001&&(w=1),this.x=(m-g)/w,this.y=(h-p)/w,this.z=(f-u)/w,this.w=Math.acos((c+d+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class er extends ea{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new di(0,0,e,t),this.scissorTest=!1,this.viewport=new di(0,0,e,t);const n={width:e,height:t,depth:1};this.texture=new ki(n,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:on,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new D0(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class I0 extends ki{constructor(e=null,t=1,i=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=Ai,this.minFilter=Ai,this.wrapR=gn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WT extends ki{constructor(e=null,t=1,i=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:n},this.magFilter=Ai,this.minFilter=Ai,this.wrapR=gn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}let tr=class{constructor(e=0,t=0,i=0,n=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=n}static slerpFlat(e,t,i,n,r,a,o){let l=i[n+0],c=i[n+1],u=i[n+2],h=i[n+3];const f=r[a+0],d=r[a+1],g=r[a+2],p=r[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(o===1){e[t+0]=f,e[t+1]=d,e[t+2]=g,e[t+3]=p;return}if(h!==p||l!==f||c!==d||u!==g){let m=1-o;const v=l*f+c*d+u*g+h*p,w=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const b=Math.sqrt(_),S=Math.atan2(b,v*w);m=Math.sin(m*S)/b,o=Math.sin(o*S)/b}const x=o*w;if(l=l*m+f*x,c=c*m+d*x,u=u*m+g*x,h=h*m+p*x,m===1-o){const b=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=b,c*=b,u*=b,h*=b}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,n,r,a){const o=i[n],l=i[n+1],c=i[n+2],u=i[n+3],h=r[a],f=r[a+1],d=r[a+2],g=r[a+3];return e[t]=o*g+u*h+l*d-c*f,e[t+1]=l*g+u*f+c*h-o*d,e[t+2]=c*g+u*d+o*f-l*h,e[t+3]=u*g-o*h-l*f-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,n=e._y,r=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(i/2),u=o(n/2),h=o(r/2),f=l(i/2),d=l(n/2),g=l(r/2);switch(a){case"XYZ":this._x=f*u*h+c*d*g,this._y=c*d*h-f*u*g,this._z=c*u*g+f*d*h,this._w=c*u*h-f*d*g;break;case"YXZ":this._x=f*u*h+c*d*g,this._y=c*d*h-f*u*g,this._z=c*u*g-f*d*h,this._w=c*u*h+f*d*g;break;case"ZXY":this._x=f*u*h-c*d*g,this._y=c*d*h+f*u*g,this._z=c*u*g+f*d*h,this._w=c*u*h-f*d*g;break;case"ZYX":this._x=f*u*h-c*d*g,this._y=c*d*h+f*u*g,this._z=c*u*g-f*d*h,this._w=c*u*h+f*d*g;break;case"YZX":this._x=f*u*h+c*d*g,this._y=c*d*h+f*u*g,this._z=c*u*g-f*d*h,this._w=c*u*h-f*d*g;break;case"XZY":this._x=f*u*h-c*d*g,this._y=c*d*h-f*u*g,this._z=c*u*g+f*d*h,this._w=c*u*h+f*d*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],n=t[4],r=t[8],a=t[1],o=t[5],l=t[9],c=t[2],u=t[6],h=t[10],f=i+o+h;if(f>0){const d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(u-l)*d,this._y=(r-c)*d,this._z=(a-n)*d}else if(i>o&&i>h){const d=2*Math.sqrt(1+i-o-h);this._w=(u-l)/d,this._x=.25*d,this._y=(n+a)/d,this._z=(r+c)/d}else if(o>h){const d=2*Math.sqrt(1+o-i-h);this._w=(r-c)/d,this._x=(n+a)/d,this._y=.25*d,this._z=(l+u)/d}else{const d=2*Math.sqrt(1+h-i-o);this._w=(a-n)/d,this._x=(r+c)/d,this._y=(l+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Li(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const n=Math.min(1,t/i);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,n=e._y,r=e._z,a=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+a*o+n*c-r*l,this._y=n*u+a*l+r*o-i*c,this._z=r*u+a*c+i*l-n*o,this._w=a*u-i*o-n*l-r*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,n=this._y,r=this._z,a=this._w;let o=a*e._w+i*e._x+n*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;const l=1-o*o;if(l<=Number.EPSILON){const d=1-t;return this._w=d*a+t*this._w,this._x=d*i+t*this._x,this._y=d*n+t*this._y,this._z=d*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),h=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=a*h+this._w*f,this._x=i*h+this._x*f,this._y=n*h+this._y*f,this._z=r*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(n),i*Math.sin(r),i*Math.cos(r),t*Math.sin(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}};class re{constructor(e=0,t=0,i=0){re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Uh.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Uh.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,r=e.elements,a=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,n=this.z,r=e.x,a=e.y,o=e.z,l=e.w,c=l*t+a*n-o*i,u=l*i+o*t-r*n,h=l*n+r*i-a*t,f=-r*t-a*i-o*n;return this.x=c*l+f*-r+u*-o-h*-a,this.y=u*l+f*-a+h*-r-c*-o,this.z=h*l+f*-o+c*-a-u*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n,this.y=r[1]*t+r[5]*i+r[9]*n,this.z=r[2]*t+r[6]*i+r[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,n=e.y,r=e.z,a=t.x,o=t.y,l=t.z;return this.x=n*l-r*o,this.y=r*a-i*l,this.z=i*o-n*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ac.copy(this).projectOnVector(e),this.sub(ac)}reflect(e){return this.sub(ac.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Li(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const n=Math.sin(t)*e;return this.x=n*Math.sin(i),this.y=Math.cos(t)*e,this.z=n*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ac=new re,Uh=new tr;class Ka{constructor(e=new re(1/0,1/0,1/0),t=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],h=e[l+1],f=e[l+2];u<t&&(t=u),h<i&&(i=h),f<n&&(n=f),u>r&&(r=u),h>a&&(a=h),f>o&&(o=f)}return this.min.set(t,i,n),this.max.set(r,a,o),this}setFromBufferAttribute(e){let t=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),h=e.getY(l),f=e.getZ(l);u<t&&(t=u),h<i&&(i=h),f<n&&(n=f),u>r&&(r=u),h>a&&(a=h),f>o&&(o=f)}return this.min.set(t,i,n),this.max.set(r,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Is.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const r=i.attributes.position;for(let a=0,o=r.count;a<o;a++)Is.fromBufferAttribute(r,a).applyMatrix4(e.matrixWorld),this.expandByPoint(Is)}else i.boundingBox===null&&i.computeBoundingBox(),oc.copy(i.boundingBox),oc.applyMatrix4(e.matrixWorld),this.union(oc);const n=e.children;for(let r=0,a=n.length;r<a;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Is),Is.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(oa),lo.subVectors(this.max,oa),ur.subVectors(e.a,oa),fr.subVectors(e.b,oa),dr.subVectors(e.c,oa),cs.subVectors(fr,ur),us.subVectors(dr,fr),Rs.subVectors(ur,dr);let t=[0,-cs.z,cs.y,0,-us.z,us.y,0,-Rs.z,Rs.y,cs.z,0,-cs.x,us.z,0,-us.x,Rs.z,0,-Rs.x,-cs.y,cs.x,0,-us.y,us.x,0,-Rs.y,Rs.x,0];return!lc(t,ur,fr,dr,lo)||(t=[1,0,0,0,1,0,0,0,1],!lc(t,ur,fr,dr,lo))?!1:(co.crossVectors(cs,us),t=[co.x,co.y,co.z],lc(t,ur,fr,dr,lo))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Is.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Is).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Vn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Vn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Vn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Vn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Vn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Vn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Vn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Vn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Vn),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Vn=[new re,new re,new re,new re,new re,new re,new re,new re],Is=new re,oc=new Ka,ur=new re,fr=new re,dr=new re,cs=new re,us=new re,Rs=new re,oa=new re,lo=new re,co=new re,zs=new re;function lc(s,e,t,i,n){for(let r=0,a=s.length-3;r<=a;r+=3){zs.fromArray(s,r);const o=n.x*Math.abs(zs.x)+n.y*Math.abs(zs.y)+n.z*Math.abs(zs.z),l=e.dot(zs),c=t.dot(zs),u=i.dot(zs);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const GT=new Ka,la=new re,cc=new re;class El{constructor(e=new re,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):GT.setFromPoints(e).getCenter(i);let n=0;for(let r=0,a=e.length;r<a;r++)n=Math.max(n,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;la.subVectors(e,this.center);const t=la.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),n=(i-this.radius)*.5;this.center.addScaledVector(la,n/i),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cc.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(la.copy(e.center).add(cc)),this.expandByPoint(la.copy(e.center).sub(cc))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Un=new re,uc=new re,uo=new re,fs=new re,fc=new re,fo=new re,dc=new re;let HT=class{constructor(e=new re,t=new re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Un)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Un.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Un.copy(this.direction).multiplyScalar(t).add(this.origin),Un.distanceToSquared(e))}distanceSqToSegment(e,t,i,n){uc.copy(e).add(t).multiplyScalar(.5),uo.copy(t).sub(e).normalize(),fs.copy(this.origin).sub(uc);const r=e.distanceTo(t)*.5,a=-this.direction.dot(uo),o=fs.dot(this.direction),l=-fs.dot(uo),c=fs.lengthSq(),u=Math.abs(1-a*a);let h,f,d,g;if(u>0)if(h=a*l-o,f=a*o-l,g=r*u,h>=0)if(f>=-g)if(f<=g){const p=1/u;h*=p,f*=p,d=h*(h+a*f+2*o)+f*(a*h+f+2*l)+c}else f=r,h=Math.max(0,-(a*f+o)),d=-h*h+f*(f+2*l)+c;else f=-r,h=Math.max(0,-(a*f+o)),d=-h*h+f*(f+2*l)+c;else f<=-g?(h=Math.max(0,-(-a*r+o)),f=h>0?-r:Math.min(Math.max(-r,-l),r),d=-h*h+f*(f+2*l)+c):f<=g?(h=0,f=Math.min(Math.max(-r,-l),r),d=f*(f+2*l)+c):(h=Math.max(0,-(a*r+o)),f=h>0?r:Math.min(Math.max(-r,-l),r),d=-h*h+f*(f+2*l)+c);else f=a>0?-r:r,h=Math.max(0,-(a*f+o)),d=-h*h+f*(f+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),n&&n.copy(uo).multiplyScalar(f).add(uc),d}intersectSphere(e,t){Un.subVectors(e.center,this.origin);const i=Un.dot(this.direction),n=Un.dot(Un)-i*i,r=e.radius*e.radius;if(n>r)return null;const a=Math.sqrt(r-n),o=i-a,l=i+a;return o<0&&l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,n,r,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,n=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,n=(e.min.x-f.x)*c),u>=0?(r=(e.min.y-f.y)*u,a=(e.max.y-f.y)*u):(r=(e.max.y-f.y)*u,a=(e.min.y-f.y)*u),i>a||r>n||((r>i||isNaN(i))&&(i=r),(a<n||isNaN(n))&&(n=a),h>=0?(o=(e.min.z-f.z)*h,l=(e.max.z-f.z)*h):(o=(e.max.z-f.z)*h,l=(e.min.z-f.z)*h),i>l||o>n)||((o>i||i!==i)&&(i=o),(l<n||n!==n)&&(n=l),n<0)?null:this.at(i>=0?i:n,t)}intersectsBox(e){return this.intersectBox(e,Un)!==null}intersectTriangle(e,t,i,n,r){fc.subVectors(t,e),fo.subVectors(i,e),dc.crossVectors(fc,fo);let a=this.direction.dot(dc),o;if(a>0){if(n)return null;o=1}else if(a<0)o=-1,a=-a;else return null;fs.subVectors(this.origin,e);const l=o*this.direction.dot(fo.crossVectors(fs,fo));if(l<0)return null;const c=o*this.direction.dot(fc.cross(fs));if(c<0||l+c>a)return null;const u=-o*fs.dot(dc);return u<0?null:this.at(u/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}};class si{constructor(){si.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,n,r,a,o,l,c,u,h,f,d,g,p,m){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=n,v[1]=r,v[5]=a,v[9]=o,v[13]=l,v[2]=c,v[6]=u,v[10]=h,v[14]=f,v[3]=d,v[7]=g,v[11]=p,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new si().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,n=1/hr.setFromMatrixColumn(e,0).length(),r=1/hr.setFromMatrixColumn(e,1).length(),a=1/hr.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,n=e.y,r=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(n),c=Math.sin(n),u=Math.cos(r),h=Math.sin(r);if(e.order==="XYZ"){const f=a*u,d=a*h,g=o*u,p=o*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=d+g*c,t[5]=f-p*c,t[9]=-o*l,t[2]=p-f*c,t[6]=g+d*c,t[10]=a*l}else if(e.order==="YXZ"){const f=l*u,d=l*h,g=c*u,p=c*h;t[0]=f+p*o,t[4]=g*o-d,t[8]=a*c,t[1]=a*h,t[5]=a*u,t[9]=-o,t[2]=d*o-g,t[6]=p+f*o,t[10]=a*l}else if(e.order==="ZXY"){const f=l*u,d=l*h,g=c*u,p=c*h;t[0]=f-p*o,t[4]=-a*h,t[8]=g+d*o,t[1]=d+g*o,t[5]=a*u,t[9]=p-f*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const f=a*u,d=a*h,g=o*u,p=o*h;t[0]=l*u,t[4]=g*c-d,t[8]=f*c+p,t[1]=l*h,t[5]=p*c+f,t[9]=d*c-g,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const f=a*l,d=a*c,g=o*l,p=o*c;t[0]=l*u,t[4]=p-f*h,t[8]=g*h+d,t[1]=h,t[5]=a*u,t[9]=-o*u,t[2]=-c*u,t[6]=d*h+g,t[10]=f-p*h}else if(e.order==="XZY"){const f=a*l,d=a*c,g=o*l,p=o*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=f*h+p,t[5]=a*u,t[9]=d*h-g,t[2]=g*h-d,t[6]=o*u,t[10]=p*h+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(jT,e,YT)}lookAt(e,t,i){const n=this.elements;return Wi.subVectors(e,t),Wi.lengthSq()===0&&(Wi.z=1),Wi.normalize(),ds.crossVectors(i,Wi),ds.lengthSq()===0&&(Math.abs(i.z)===1?Wi.x+=1e-4:Wi.z+=1e-4,Wi.normalize(),ds.crossVectors(i,Wi)),ds.normalize(),ho.crossVectors(Wi,ds),n[0]=ds.x,n[4]=ho.x,n[8]=Wi.x,n[1]=ds.y,n[5]=ho.y,n[9]=Wi.y,n[2]=ds.z,n[6]=ho.z,n[10]=Wi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,r=this.elements,a=i[0],o=i[4],l=i[8],c=i[12],u=i[1],h=i[5],f=i[9],d=i[13],g=i[2],p=i[6],m=i[10],v=i[14],w=i[3],_=i[7],x=i[11],b=i[15],S=n[0],M=n[4],y=n[8],E=n[12],C=n[1],P=n[5],L=n[9],k=n[13],A=n[2],I=n[6],R=n[10],O=n[14],z=n[3],V=n[7],$=n[11],K=n[15];return r[0]=a*S+o*C+l*A+c*z,r[4]=a*M+o*P+l*I+c*V,r[8]=a*y+o*L+l*R+c*$,r[12]=a*E+o*k+l*O+c*K,r[1]=u*S+h*C+f*A+d*z,r[5]=u*M+h*P+f*I+d*V,r[9]=u*y+h*L+f*R+d*$,r[13]=u*E+h*k+f*O+d*K,r[2]=g*S+p*C+m*A+v*z,r[6]=g*M+p*P+m*I+v*V,r[10]=g*y+p*L+m*R+v*$,r[14]=g*E+p*k+m*O+v*K,r[3]=w*S+_*C+x*A+b*z,r[7]=w*M+_*P+x*I+b*V,r[11]=w*y+_*L+x*R+b*$,r[15]=w*E+_*k+x*O+b*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],n=e[8],r=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],h=e[6],f=e[10],d=e[14],g=e[3],p=e[7],m=e[11],v=e[15];return g*(+r*l*h-n*c*h-r*o*f+i*c*f+n*o*d-i*l*d)+p*(+t*l*d-t*c*f+r*a*f-n*a*d+n*c*u-r*l*u)+m*(+t*c*h-t*o*d-r*a*h+i*a*d+r*o*u-i*c*u)+v*(-n*o*u-t*l*h+t*o*f+n*a*h-i*a*f+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],d=e[11],g=e[12],p=e[13],m=e[14],v=e[15],w=h*m*c-p*f*c+p*l*d-o*m*d-h*l*v+o*f*v,_=g*f*c-u*m*c-g*l*d+a*m*d+u*l*v-a*f*v,x=u*p*c-g*h*c+g*o*d-a*p*d-u*o*v+a*h*v,b=g*h*l-u*p*l-g*o*f+a*p*f+u*o*m-a*h*m,S=t*w+i*_+n*x+r*b;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/S;return e[0]=w*M,e[1]=(p*f*r-h*m*r-p*n*d+i*m*d+h*n*v-i*f*v)*M,e[2]=(o*m*r-p*l*r+p*n*c-i*m*c-o*n*v+i*l*v)*M,e[3]=(h*l*r-o*f*r-h*n*c+i*f*c+o*n*d-i*l*d)*M,e[4]=_*M,e[5]=(u*m*r-g*f*r+g*n*d-t*m*d-u*n*v+t*f*v)*M,e[6]=(g*l*r-a*m*r-g*n*c+t*m*c+a*n*v-t*l*v)*M,e[7]=(a*f*r-u*l*r+u*n*c-t*f*c-a*n*d+t*l*d)*M,e[8]=x*M,e[9]=(g*h*r-u*p*r-g*i*d+t*p*d+u*i*v-t*h*v)*M,e[10]=(a*p*r-g*o*r+g*i*c-t*p*c-a*i*v+t*o*v)*M,e[11]=(u*o*r-a*h*r-u*i*c+t*h*c+a*i*d-t*o*d)*M,e[12]=b*M,e[13]=(u*p*n-g*h*n+g*i*f-t*p*f-u*i*m+t*h*m)*M,e[14]=(g*o*n-a*p*n-g*i*l+t*p*l+a*i*m-t*o*m)*M,e[15]=(a*h*n-u*o*n+u*i*l-t*h*l-a*i*f+t*o*f)*M,this}scale(e){const t=this.elements,i=e.x,n=e.y,r=e.z;return t[0]*=i,t[4]*=n,t[8]*=r,t[1]*=i,t[5]*=n,t[9]*=r,t[2]*=i,t[6]*=n,t[10]*=r,t[3]*=i,t[7]*=n,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),n=Math.sin(t),r=1-i,a=e.x,o=e.y,l=e.z,c=r*a,u=r*o;return this.set(c*a+i,c*o-n*l,c*l+n*o,0,c*o+n*l,u*o+i,u*l-n*a,0,c*l-n*o,u*l+n*a,r*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,n,r,a){return this.set(1,i,r,0,e,1,a,0,t,n,1,0,0,0,0,1),this}compose(e,t,i){const n=this.elements,r=t._x,a=t._y,o=t._z,l=t._w,c=r+r,u=a+a,h=o+o,f=r*c,d=r*u,g=r*h,p=a*u,m=a*h,v=o*h,w=l*c,_=l*u,x=l*h,b=i.x,S=i.y,M=i.z;return n[0]=(1-(p+v))*b,n[1]=(d+x)*b,n[2]=(g-_)*b,n[3]=0,n[4]=(d-x)*S,n[5]=(1-(f+v))*S,n[6]=(m+w)*S,n[7]=0,n[8]=(g+_)*M,n[9]=(m-w)*M,n[10]=(1-(f+p))*M,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,i){const n=this.elements;let r=hr.set(n[0],n[1],n[2]).length();const a=hr.set(n[4],n[5],n[6]).length(),o=hr.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),e.x=n[12],e.y=n[13],e.z=n[14],hn.copy(this);const c=1/r,u=1/a,h=1/o;return hn.elements[0]*=c,hn.elements[1]*=c,hn.elements[2]*=c,hn.elements[4]*=u,hn.elements[5]*=u,hn.elements[6]*=u,hn.elements[8]*=h,hn.elements[9]*=h,hn.elements[10]*=h,t.setFromRotationMatrix(hn),i.x=r,i.y=a,i.z=o,this}makePerspective(e,t,i,n,r,a){const o=this.elements,l=2*r/(t-e),c=2*r/(i-n),u=(t+e)/(t-e),h=(i+n)/(i-n),f=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,i,n,r,a){const o=this.elements,l=1/(t-e),c=1/(i-n),u=1/(a-r),h=(t+e)*l,f=(i+n)*c,d=(a+r)*u;return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const hr=new re,hn=new si,jT=new re(0,0,0),YT=new re(1,1,1),ds=new re,ho=new re,Wi=new re,Wh=new si,Gh=new tr;class Tl{constructor(e=0,t=0,i=0,n=Tl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,n=this._order){return this._x=e,this._y=t,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const n=e.elements,r=n[0],a=n[4],o=n[8],l=n[1],c=n[5],u=n[9],h=n[2],f=n[6],d=n[10];switch(t){case"XYZ":this._y=Math.asin(Li(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Li(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,r),this._z=0);break;case"ZXY":this._x=Math.asin(Li(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-Li(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Li(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,r)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Li(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Wh.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Wh,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Gh.setFromEuler(this),this.setFromQuaternion(Gh,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Tl.DEFAULT_ORDER="XYZ";class R0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let qT=0;const Hh=new re,pr=new tr,Wn=new si,po=new re,ca=new re,XT=new re,ZT=new tr,jh=new re(1,0,0),Yh=new re(0,1,0),qh=new re(0,0,1),$T={type:"added"},Xh={type:"removed"};class hi extends ea{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qT++}),this.uuid=ta(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hi.DEFAULT_UP.clone();const e=new re,t=new Tl,i=new tr,n=new re(1,1,1);function r(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new si},normalMatrix:{value:new $i}}),this.matrix=new si,this.matrixWorld=new si,this.matrixAutoUpdate=hi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=hi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new R0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pr.setFromAxisAngle(e,t),this.quaternion.multiply(pr),this}rotateOnWorldAxis(e,t){return pr.setFromAxisAngle(e,t),this.quaternion.premultiply(pr),this}rotateX(e){return this.rotateOnAxis(jh,e)}rotateY(e){return this.rotateOnAxis(Yh,e)}rotateZ(e){return this.rotateOnAxis(qh,e)}translateOnAxis(e,t){return Hh.copy(e).applyQuaternion(this.quaternion),this.position.add(Hh.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(jh,e)}translateY(e){return this.translateOnAxis(Yh,e)}translateZ(e){return this.translateOnAxis(qh,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Wn.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?po.copy(e):po.set(e,t,i);const n=this.parent;this.updateWorldMatrix(!0,!1),ca.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wn.lookAt(ca,po,this.up):Wn.lookAt(po,ca,this.up),this.quaternion.setFromRotationMatrix(Wn),n&&(Wn.extractRotation(n.matrixWorld),pr.setFromRotationMatrix(Wn),this.quaternion.premultiply(pr.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent($T)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Xh)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Xh)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Wn.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Wn.multiply(e.parent.matrixWorld)),e.applyMatrix4(Wn),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,n=this.children.length;i<n;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectsByProperty(e,t);a.length>0&&(i=i.concat(a))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ca,e,XT),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ca,ZT,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,n=t.length;i<n;i++){const r=t[i];(r.matrixWorldAutoUpdate===!0||e===!0)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const n=this.children;for(let r=0,a=n.length;r<a;r++){const o=n[r];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function r(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];r(e.shapes,h)}else r(e.shapes,l)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(r(e.materials,this.material[l]));n.material=o}else n.material=r(e.materials,this.material);if(this.children.length>0){n.children=[];for(let o=0;o<this.children.length;o++)n.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];n.animations.push(r(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),h=a(e.shapes),f=a(e.skeletons),d=a(e.animations),g=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),h.length>0&&(i.shapes=h),f.length>0&&(i.skeletons=f),d.length>0&&(i.animations=d),g.length>0&&(i.nodes=g)}return i.object=n,i;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const n=e.children[i];this.add(n.clone())}return this}}hi.DEFAULT_UP=new re(0,1,0);hi.DEFAULT_MATRIX_AUTO_UPDATE=!0;hi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const pn=new re,Gn=new re,hc=new re,Hn=new re,mr=new re,gr=new re,Zh=new re,pc=new re,mc=new re,gc=new re;class Kn{constructor(e=new re,t=new re,i=new re){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,n){n.subVectors(i,t),pn.subVectors(e,t),n.cross(pn);const r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}static getBarycoord(e,t,i,n,r){pn.subVectors(n,t),Gn.subVectors(i,t),hc.subVectors(e,t);const a=pn.dot(pn),o=pn.dot(Gn),l=pn.dot(hc),c=Gn.dot(Gn),u=Gn.dot(hc),h=a*c-o*o;if(h===0)return r.set(-2,-1,-1);const f=1/h,d=(c*l-o*u)*f,g=(a*u-o*l)*f;return r.set(1-d-g,g,d)}static containsPoint(e,t,i,n){return this.getBarycoord(e,t,i,n,Hn),Hn.x>=0&&Hn.y>=0&&Hn.x+Hn.y<=1}static getUV(e,t,i,n,r,a,o,l){return this.getBarycoord(e,t,i,n,Hn),l.set(0,0),l.addScaledVector(r,Hn.x),l.addScaledVector(a,Hn.y),l.addScaledVector(o,Hn.z),l}static isFrontFacing(e,t,i,n){return pn.subVectors(i,t),Gn.subVectors(e,t),pn.cross(Gn).dot(n)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,i,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return pn.subVectors(this.c,this.b),Gn.subVectors(this.a,this.b),pn.cross(Gn).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Kn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Kn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,n,r){return Kn.getUV(e,this.a,this.b,this.c,t,i,n,r)}containsPoint(e){return Kn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Kn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,n=this.b,r=this.c;let a,o;mr.subVectors(n,i),gr.subVectors(r,i),pc.subVectors(e,i);const l=mr.dot(pc),c=gr.dot(pc);if(l<=0&&c<=0)return t.copy(i);mc.subVectors(e,n);const u=mr.dot(mc),h=gr.dot(mc);if(u>=0&&h<=u)return t.copy(n);const f=l*h-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),t.copy(i).addScaledVector(mr,a);gc.subVectors(e,r);const d=mr.dot(gc),g=gr.dot(gc);if(g>=0&&d<=g)return t.copy(r);const p=d*c-l*g;if(p<=0&&c>=0&&g<=0)return o=c/(c-g),t.copy(i).addScaledVector(gr,o);const m=u*g-d*h;if(m<=0&&h-u>=0&&d-g>=0)return Zh.subVectors(r,n),o=(h-u)/(h-u+(d-g)),t.copy(n).addScaledVector(Zh,o);const v=1/(m+p+f);return a=p*v,o=f*v,t.copy(i).addScaledVector(mr,a).addScaledVector(gr,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let KT=0,Ja=class extends ea{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:KT++}),this.uuid=ta(),this.name="",this.type="Material",this.blending=Rr,this.side=Ss,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=M0,this.blendDst=E0,this.blendEquation=Tr,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Yc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ET,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=tc,this.stencilZFail=tc,this.stencilZPass=tc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const n=this[t];if(n===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Rr&&(i.blending=this.blending),this.side!==Ss&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function n(r){const a=[];for(const o in r){const l=r[o];delete l.metadata,a.push(l)}return a}if(t){const r=n(e.textures),a=n(e.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const n=t.length;i=new Array(n);for(let r=0;r!==n;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};class z0 extends Ja{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Kt=new re,mo=new ht;class kn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Nh,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[e+n]=t.array[i+n];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)mo.fromBufferAttribute(this,t),mo.applyMatrix3(e),this.setXY(t,mo.x,mo.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Kt.fromBufferAttribute(this,t),Kt.applyMatrix3(e),this.setXYZ(t,Kt.x,Kt.y,Kt.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Kt.fromBufferAttribute(this,t),Kt.applyMatrix4(e),this.setXYZ(t,Kt.x,Kt.y,Kt.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Kt.fromBufferAttribute(this,t),Kt.applyNormalMatrix(e),this.setXYZ(t,Kt.x,Kt.y,Kt.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Kt.fromBufferAttribute(this,t),Kt.transformDirection(e),this.setXYZ(t,Kt.x,Kt.y,Kt.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ya(t,this.array)),t}setX(e,t){return this.normalized&&(t=zi(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ya(t,this.array)),t}setY(e,t){return this.normalized&&(t=zi(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ya(t,this.array)),t}setZ(e,t){return this.normalized&&(t=zi(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ya(t,this.array)),t}setW(e,t){return this.normalized&&(t=zi(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=zi(t,this.array),i=zi(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,n){return e*=this.itemSize,this.normalized&&(t=zi(t,this.array),i=zi(i,this.array),n=zi(n,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this}setXYZW(e,t,i,n,r){return e*=this.itemSize,this.normalized&&(t=zi(t,this.array),i=zi(i,this.array),n=zi(n,this.array),r=zi(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Nh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class F0 extends kn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class O0 extends kn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Pn extends kn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let JT=0;const sn=new si,vc=new hi,vr=new re,Gi=new Ka,ua=new Ka,fi=new re;class Cs extends ea{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:JT++}),this.uuid=ta(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(L0(e)?O0:F0)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new $i().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return sn.makeRotationFromQuaternion(e),this.applyMatrix4(sn),this}rotateX(e){return sn.makeRotationX(e),this.applyMatrix4(sn),this}rotateY(e){return sn.makeRotationY(e),this.applyMatrix4(sn),this}rotateZ(e){return sn.makeRotationZ(e),this.applyMatrix4(sn),this}translate(e,t,i){return sn.makeTranslation(e,t,i),this.applyMatrix4(sn),this}scale(e,t,i){return sn.makeScale(e,t,i),this.applyMatrix4(sn),this}lookAt(e){return vc.lookAt(e),vc.updateMatrix(),this.applyMatrix4(vc.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vr).negate(),this.translate(vr.x,vr.y,vr.z),this}setFromPoints(e){const t=[];for(let i=0,n=e.length;i<n;i++){const r=e[i];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Pn(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ka);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,n=t.length;i<n;i++){const r=t[i];Gi.setFromBufferAttribute(r),this.morphTargetsRelative?(fi.addVectors(this.boundingBox.min,Gi.min),this.boundingBox.expandByPoint(fi),fi.addVectors(this.boundingBox.max,Gi.max),this.boundingBox.expandByPoint(fi)):(this.boundingBox.expandByPoint(Gi.min),this.boundingBox.expandByPoint(Gi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new El);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new re,1/0);return}if(e){const i=this.boundingSphere.center;if(Gi.setFromBufferAttribute(e),t)for(let r=0,a=t.length;r<a;r++){const o=t[r];ua.setFromBufferAttribute(o),this.morphTargetsRelative?(fi.addVectors(Gi.min,ua.min),Gi.expandByPoint(fi),fi.addVectors(Gi.max,ua.max),Gi.expandByPoint(fi)):(Gi.expandByPoint(ua.min),Gi.expandByPoint(ua.max))}Gi.getCenter(i);let n=0;for(let r=0,a=e.count;r<a;r++)fi.fromBufferAttribute(e,r),n=Math.max(n,i.distanceToSquared(fi));if(t)for(let r=0,a=t.length;r<a;r++){const o=t[r],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)fi.fromBufferAttribute(o,c),l&&(vr.fromBufferAttribute(e,c),fi.add(vr)),n=Math.max(n,i.distanceToSquared(fi))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,n=t.position.array,r=t.normal.array,a=t.uv.array,o=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new kn(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let C=0;C<o;C++)c[C]=new re,u[C]=new re;const h=new re,f=new re,d=new re,g=new ht,p=new ht,m=new ht,v=new re,w=new re;function _(C,P,L){h.fromArray(n,C*3),f.fromArray(n,P*3),d.fromArray(n,L*3),g.fromArray(a,C*2),p.fromArray(a,P*2),m.fromArray(a,L*2),f.sub(h),d.sub(h),p.sub(g),m.sub(g);const k=1/(p.x*m.y-m.x*p.y);isFinite(k)&&(v.copy(f).multiplyScalar(m.y).addScaledVector(d,-p.y).multiplyScalar(k),w.copy(d).multiplyScalar(p.x).addScaledVector(f,-m.x).multiplyScalar(k),c[C].add(v),c[P].add(v),c[L].add(v),u[C].add(w),u[P].add(w),u[L].add(w))}let x=this.groups;x.length===0&&(x=[{start:0,count:i.length}]);for(let C=0,P=x.length;C<P;++C){const L=x[C],k=L.start,A=L.count;for(let I=k,R=k+A;I<R;I+=3)_(i[I+0],i[I+1],i[I+2])}const b=new re,S=new re,M=new re,y=new re;function E(C){M.fromArray(r,C*3),y.copy(M);const P=c[C];b.copy(P),b.sub(M.multiplyScalar(M.dot(P))).normalize(),S.crossVectors(y,P);const k=S.dot(u[C])<0?-1:1;l[C*4]=b.x,l[C*4+1]=b.y,l[C*4+2]=b.z,l[C*4+3]=k}for(let C=0,P=x.length;C<P;++C){const L=x[C],k=L.start,A=L.count;for(let I=k,R=k+A;I<R;I+=3)E(i[I+0]),E(i[I+1]),E(i[I+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new kn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let f=0,d=i.count;f<d;f++)i.setXYZ(f,0,0,0);const n=new re,r=new re,a=new re,o=new re,l=new re,c=new re,u=new re,h=new re;if(e)for(let f=0,d=e.count;f<d;f+=3){const g=e.getX(f+0),p=e.getX(f+1),m=e.getX(f+2);n.fromBufferAttribute(t,g),r.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),u.subVectors(a,r),h.subVectors(n,r),u.cross(h),o.fromBufferAttribute(i,g),l.fromBufferAttribute(i,p),c.fromBufferAttribute(i,m),o.add(u),l.add(u),c.add(u),i.setXYZ(g,o.x,o.y,o.z),i.setXYZ(p,l.x,l.y,l.z),i.setXYZ(m,c.x,c.y,c.z)}else for(let f=0,d=t.count;f<d;f+=3)n.fromBufferAttribute(t,f+0),r.fromBufferAttribute(t,f+1),a.fromBufferAttribute(t,f+2),u.subVectors(a,r),h.subVectors(n,r),u.cross(h),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)fi.fromBufferAttribute(e,t),fi.normalize(),e.setXYZ(t,fi.x,fi.y,fi.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,h=o.normalized,f=new c.constructor(l.length*u);let d=0,g=0;for(let p=0,m=l.length;p<m;p++){o.isInterleavedBufferAttribute?d=l[p]*o.data.stride+o.offset:d=l[p]*u;for(let v=0;v<u;v++)f[g++]=c[d++]}return new kn(f,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Cs,i=this.index.array,n=this.attributes;for(const o in n){const l=n[o],c=e(l,i);t.setAttribute(o,c)}const r=this.morphAttributes;for(const o in r){const l=[],c=r[o];for(let u=0,h=c.length;u<h;u++){const f=c[u],d=e(f,i);l.push(d)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const n={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,f=c.length;h<f;h++){const d=c[h];u.push(d.toJSON(e.data))}u.length>0&&(n[l]=u,r=!0)}r&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const n=e.attributes;for(const c in n){const u=n[c];this.setAttribute(c,u.clone(t))}const r=e.morphAttributes;for(const c in r){const u=[],h=r[c];for(let f=0,d=h.length;f<d;f++)u.push(h[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const h=a[c];this.addGroup(h.start,h.count,h.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const $h=new si,_r=new HT,_c=new El,fa=new re,da=new re,ha=new re,wc=new re,go=new re,vo=new ht,_o=new ht,wo=new ht,bc=new re,bo=new re;class Oi extends hi{constructor(e=new Cs,t=new z0){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=n.length;r<a;r++){const o=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}getVertexPosition(e,t){const i=this.geometry,n=i.attributes.position,r=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(n,e);const o=this.morphTargetInfluences;if(r&&o){go.set(0,0,0);for(let l=0,c=r.length;l<c;l++){const u=o[l],h=r[l];u!==0&&(wc.fromBufferAttribute(h,e),a?go.addScaledVector(wc,u):go.addScaledVector(wc.sub(t),u))}t.add(go)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,n=this.material,r=this.matrixWorld;if(n===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),_c.copy(i.boundingSphere),_c.applyMatrix4(r),e.ray.intersectsSphere(_c)===!1)||($h.copy(r).invert(),_r.copy(e.ray).applyMatrix4($h),i.boundingBox!==null&&_r.intersectsBox(i.boundingBox)===!1))return;let a;const o=i.index,l=i.attributes.position,c=i.attributes.uv,u=i.attributes.uv2,h=i.groups,f=i.drawRange;if(o!==null)if(Array.isArray(n))for(let d=0,g=h.length;d<g;d++){const p=h[d],m=n[p.materialIndex],v=Math.max(p.start,f.start),w=Math.min(o.count,Math.min(p.start+p.count,f.start+f.count));for(let _=v,x=w;_<x;_+=3){const b=o.getX(_),S=o.getX(_+1),M=o.getX(_+2);a=yo(this,m,e,_r,c,u,b,S,M),a&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=p.materialIndex,t.push(a))}}else{const d=Math.max(0,f.start),g=Math.min(o.count,f.start+f.count);for(let p=d,m=g;p<m;p+=3){const v=o.getX(p),w=o.getX(p+1),_=o.getX(p+2);a=yo(this,n,e,_r,c,u,v,w,_),a&&(a.faceIndex=Math.floor(p/3),t.push(a))}}else if(l!==void 0)if(Array.isArray(n))for(let d=0,g=h.length;d<g;d++){const p=h[d],m=n[p.materialIndex],v=Math.max(p.start,f.start),w=Math.min(l.count,Math.min(p.start+p.count,f.start+f.count));for(let _=v,x=w;_<x;_+=3){const b=_,S=_+1,M=_+2;a=yo(this,m,e,_r,c,u,b,S,M),a&&(a.faceIndex=Math.floor(_/3),a.face.materialIndex=p.materialIndex,t.push(a))}}else{const d=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);for(let p=d,m=g;p<m;p+=3){const v=p,w=p+1,_=p+2;a=yo(this,n,e,_r,c,u,v,w,_),a&&(a.faceIndex=Math.floor(p/3),t.push(a))}}}}function QT(s,e,t,i,n,r,a,o){let l;if(e.side===Ji?l=i.intersectTriangle(a,r,n,!0,o):l=i.intersectTriangle(n,r,a,e.side===Ss,o),l===null)return null;bo.copy(o),bo.applyMatrix4(s.matrixWorld);const c=t.ray.origin.distanceTo(bo);return c<t.near||c>t.far?null:{distance:c,point:bo.clone(),object:s}}function yo(s,e,t,i,n,r,a,o,l){s.getVertexPosition(a,fa),s.getVertexPosition(o,da),s.getVertexPosition(l,ha);const c=QT(s,e,t,i,fa,da,ha,bc);if(c){n&&(vo.fromBufferAttribute(n,a),_o.fromBufferAttribute(n,o),wo.fromBufferAttribute(n,l),c.uv=Kn.getUV(bc,fa,da,ha,vo,_o,wo,new ht)),r&&(vo.fromBufferAttribute(r,a),_o.fromBufferAttribute(r,o),wo.fromBufferAttribute(r,l),c.uv2=Kn.getUV(bc,fa,da,ha,vo,_o,wo,new ht));const u={a,b:o,c:l,normal:new re,materialIndex:0};Kn.getNormal(fa,da,ha,u.normal),c.face=u}return c}class es extends Cs{constructor(e=1,t=1,i=1,n=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};const o=this;n=Math.floor(n),r=Math.floor(r),a=Math.floor(a);const l=[],c=[],u=[],h=[];let f=0,d=0;g("z","y","x",-1,-1,i,t,e,a,r,0),g("z","y","x",1,-1,i,t,-e,a,r,1),g("x","z","y",1,1,e,i,t,n,a,2),g("x","z","y",1,-1,e,i,-t,n,a,3),g("x","y","z",1,-1,e,t,i,n,r,4),g("x","y","z",-1,-1,e,t,-i,n,r,5),this.setIndex(l),this.setAttribute("position",new Pn(c,3)),this.setAttribute("normal",new Pn(u,3)),this.setAttribute("uv",new Pn(h,2));function g(p,m,v,w,_,x,b,S,M,y,E){const C=x/M,P=b/y,L=x/2,k=b/2,A=S/2,I=M+1,R=y+1;let O=0,z=0;const V=new re;for(let $=0;$<R;$++){const K=$*P-k;for(let U=0;U<I;U++){const ee=U*C-L;V[p]=ee*w,V[m]=K*_,V[v]=A,c.push(V.x,V.y,V.z),V[p]=0,V[m]=0,V[v]=S>0?1:-1,u.push(V.x,V.y,V.z),h.push(U/M),h.push(1-$/y),O+=1}}for(let $=0;$<y;$++)for(let K=0;K<M;K++){const U=f+K+I*$,ee=f+K+I*($+1),Z=f+(K+1)+I*($+1),te=f+(K+1)+I*$;l.push(U,ee,te),l.push(ee,Z,te),z+=6}o.addGroup(d,z,E),d+=z,f+=O}}static fromJSON(e){return new es(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function jr(s){const e={};for(const t in s){e[t]={};for(const i in s[t]){const n=s[t][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?e[t][i]=n.clone():Array.isArray(n)?e[t][i]=n.slice():e[t][i]=n}}return e}function Ci(s){const e={};for(let t=0;t<s.length;t++){const i=jr(s[t]);for(const n in i)e[n]=i[n]}return e}function e3(s){const e=[];for(let t=0;t<s.length;t++)e.push(s[t].clone());return e}function N0(s){return s.getRenderTarget()===null&&s.outputEncoding===zt?Tn:Va}const t3={clone:jr,merge:Ci};var i3=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,n3=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ir extends Ja{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=i3,this.fragmentShader=n3,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jr(e.uniforms),this.uniformsGroups=e3(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const a=this.uniforms[n].value;a&&a.isTexture?t.uniforms[n]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[n]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[n]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[n]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[n]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[n]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[n]={type:"m4",value:a.toArray()}:t.uniforms[n]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const n in this.extensions)this.extensions[n]===!0&&(i[n]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class B0 extends hi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new si,this.projectionMatrix=new si,this.projectionMatrixInverse=new si}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Xi extends B0{constructor(e=50,t=1,i=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ua*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ca*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ua*2*Math.atan(Math.tan(Ca*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,n,r,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ca*.5*this.fov)/this.zoom,i=2*t,n=this.aspect*i,r=-.5*n;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;r+=a.offsetX*n/l,t-=a.offsetY*i/c,n*=a.width/l,i*=a.height/c}const o=this.filmOffset;o!==0&&(r+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const wr=-90,br=1;class s3 extends hi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const n=new Xi(wr,br,e,t);n.layers=this.layers,n.up.set(0,1,0),n.lookAt(1,0,0),this.add(n);const r=new Xi(wr,br,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(-1,0,0),this.add(r);const a=new Xi(wr,br,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const o=new Xi(wr,br,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(0,-1,0),this.add(o);const l=new Xi(wr,br,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new Xi(wr,br,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[n,r,a,o,l,c]=this.children,u=e.getRenderTarget(),h=e.toneMapping,f=e.xr.enabled;e.toneMapping=is,e.xr.enabled=!1;const d=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,n),e.setRenderTarget(i,1),e.render(t,r),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,o),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=d,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=h,e.xr.enabled=f,i.texture.needsPMREMUpdate=!0}}class V0 extends ki{constructor(e,t,i,n,r,a,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Wr,super(e,t,i,n,r,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class r3 extends er{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},n=[i,i,i,i,i,i];this.texture=new V0(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:on}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new es(5,5,5),r=new ir({name:"CubemapFromEquirect",uniforms:jr(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ji,blending:xs});r.uniforms.tEquirect.value=t;const a=new Oi(n,r),o=t.minFilter;return t.minFilter===Na&&(t.minFilter=on),new s3(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,n){const r=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,n);e.setRenderTarget(r)}}const yc=new re,a3=new re,o3=new $i;let Os=class{constructor(e=new re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const n=yc.subVectors(i,t).cross(a3.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(yc),n=this.normal.dot(i);if(n===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/n;return r<0||r>1?null:t.copy(i).multiplyScalar(r).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||o3.getNormalMatrix(e),n=this.coplanarPoint(yc).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const yr=new El,xo=new re;class Gu{constructor(e=new Os,t=new Os,i=new Os,n=new Os,r=new Os,a=new Os){this.planes=[e,t,i,n,r,a]}set(e,t,i,n,r,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,n=i[0],r=i[1],a=i[2],o=i[3],l=i[4],c=i[5],u=i[6],h=i[7],f=i[8],d=i[9],g=i[10],p=i[11],m=i[12],v=i[13],w=i[14],_=i[15];return t[0].setComponents(o-n,h-l,p-f,_-m).normalize(),t[1].setComponents(o+n,h+l,p+f,_+m).normalize(),t[2].setComponents(o+r,h+c,p+d,_+v).normalize(),t[3].setComponents(o-r,h-c,p-d,_-v).normalize(),t[4].setComponents(o-a,h-u,p-g,_-w).normalize(),t[5].setComponents(o+a,h+u,p+g,_+w).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),yr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(yr)}intersectsSprite(e){return yr.center.set(0,0,0),yr.radius=.7071067811865476,yr.applyMatrix4(e.matrixWorld),this.intersectsSphere(yr)}intersectsSphere(e){const t=this.planes,i=e.center,n=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<n)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const n=t[i];if(xo.x=n.normal.x>0?e.max.x:e.min.x,xo.y=n.normal.y>0?e.max.y:e.min.y,xo.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(xo)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function U0(){let s=null,e=!1,t=null,i=null;function n(r,a){t(r,a),i=s.requestAnimationFrame(n)}return{start:function(){e!==!0&&t!==null&&(i=s.requestAnimationFrame(n),e=!0)},stop:function(){s.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){s=r}}}function l3(s,e){const t=e.isWebGL2,i=new WeakMap;function n(c,u){const h=c.array,f=c.usage,d=s.createBuffer();s.bindBuffer(u,d),s.bufferData(u,h,f),c.onUploadCallback();let g;if(h instanceof Float32Array)g=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(h instanceof Int16Array)g=5122;else if(h instanceof Uint32Array)g=5125;else if(h instanceof Int32Array)g=5124;else if(h instanceof Int8Array)g=5120;else if(h instanceof Uint8Array)g=5121;else if(h instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:d,type:g,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function r(c,u,h){const f=u.array,d=u.updateRange;s.bindBuffer(h,c),d.count===-1?s.bufferSubData(h,0,f):(t?s.bufferSubData(h,d.offset*f.BYTES_PER_ELEMENT,f,d.offset,d.count):s.bufferSubData(h,d.offset*f.BYTES_PER_ELEMENT,f.subarray(d.offset,d.offset+d.count)),d.count=-1),u.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(s.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,n(c,u)):h.version<c.version&&(r(h.buffer,c,u),h.version=c.version)}return{get:a,remove:o,update:l}}class Cl extends Cs{constructor(e=1,t=1,i=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n};const r=e/2,a=t/2,o=Math.floor(i),l=Math.floor(n),c=o+1,u=l+1,h=e/o,f=t/l,d=[],g=[],p=[],m=[];for(let v=0;v<u;v++){const w=v*f-a;for(let _=0;_<c;_++){const x=_*h-r;g.push(x,-w,0),p.push(0,0,1),m.push(_/o),m.push(1-v/l)}}for(let v=0;v<l;v++)for(let w=0;w<o;w++){const _=w+c*v,x=w+c*(v+1),b=w+1+c*(v+1),S=w+1+c*v;d.push(_,x,S),d.push(x,b,S)}this.setIndex(d),this.setAttribute("position",new Pn(g,3)),this.setAttribute("normal",new Pn(p,3)),this.setAttribute("uv",new Pn(m,2))}static fromJSON(e){return new Cl(e.width,e.height,e.widthSegments,e.heightSegments)}}var c3=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,u3=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,f3=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,d3=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,h3=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,p3=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,m3="vec3 transformed = vec3( position );",g3=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,v3=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,_3=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,w3=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,b3=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,y3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,x3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,S3=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,M3=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,E3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,T3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,C3=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,A3=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,L3=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,k3=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,P3=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,D3=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,I3=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,R3=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,z3="gl_FragColor = linearToOutputTexel( gl_FragColor );",F3=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,O3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,N3=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,B3=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,V3=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,U3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,W3=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,G3=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,H3=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,j3=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Y3=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,q3=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,X3=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Z3=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,$3=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,K3=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,J3=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Q3=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,eC=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,tC=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,iC=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,nC=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,sC=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,rC=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,aC=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,oC=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,lC=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,cC=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,uC=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,fC=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,dC=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,hC=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,pC=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,mC=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gC=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,vC=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_C=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wC=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,bC=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,yC=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,xC=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,SC=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,MC=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,EC=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,TC=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,CC=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,AC=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,LC=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,kC=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,PC=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,DC=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,IC=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,RC=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,zC=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,FC=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,OC=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,NC=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,BC=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,VC=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,UC=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,WC=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,GC=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,HC=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,jC=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,YC=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,qC=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,XC=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ZC=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,$C=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,KC=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,JC=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,QC=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,eA=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,tA=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,iA=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,nA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,sA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,rA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,aA=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const oA=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lA=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uA=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,fA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dA=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,hA=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pA=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,mA=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gA=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,_A=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wA=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bA=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,yA=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,xA=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SA=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MA=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EA=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,TA=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CA=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,AA=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,LA=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kA=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PA=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,DA=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,IA=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RA=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zA=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,FA=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,OA=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NA=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,BA=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,VA=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ft={alphamap_fragment:c3,alphamap_pars_fragment:u3,alphatest_fragment:f3,alphatest_pars_fragment:d3,aomap_fragment:h3,aomap_pars_fragment:p3,begin_vertex:m3,beginnormal_vertex:g3,bsdfs:v3,iridescence_fragment:_3,bumpmap_pars_fragment:w3,clipping_planes_fragment:b3,clipping_planes_pars_fragment:y3,clipping_planes_pars_vertex:x3,clipping_planes_vertex:S3,color_fragment:M3,color_pars_fragment:E3,color_pars_vertex:T3,color_vertex:C3,common:A3,cube_uv_reflection_fragment:L3,defaultnormal_vertex:k3,displacementmap_pars_vertex:P3,displacementmap_vertex:D3,emissivemap_fragment:I3,emissivemap_pars_fragment:R3,encodings_fragment:z3,encodings_pars_fragment:F3,envmap_fragment:O3,envmap_common_pars_fragment:N3,envmap_pars_fragment:B3,envmap_pars_vertex:V3,envmap_physical_pars_fragment:J3,envmap_vertex:U3,fog_vertex:W3,fog_pars_vertex:G3,fog_fragment:H3,fog_pars_fragment:j3,gradientmap_pars_fragment:Y3,lightmap_fragment:q3,lightmap_pars_fragment:X3,lights_lambert_fragment:Z3,lights_lambert_pars_fragment:$3,lights_pars_begin:K3,lights_toon_fragment:Q3,lights_toon_pars_fragment:eC,lights_phong_fragment:tC,lights_phong_pars_fragment:iC,lights_physical_fragment:nC,lights_physical_pars_fragment:sC,lights_fragment_begin:rC,lights_fragment_maps:aC,lights_fragment_end:oC,logdepthbuf_fragment:lC,logdepthbuf_pars_fragment:cC,logdepthbuf_pars_vertex:uC,logdepthbuf_vertex:fC,map_fragment:dC,map_pars_fragment:hC,map_particle_fragment:pC,map_particle_pars_fragment:mC,metalnessmap_fragment:gC,metalnessmap_pars_fragment:vC,morphcolor_vertex:_C,morphnormal_vertex:wC,morphtarget_pars_vertex:bC,morphtarget_vertex:yC,normal_fragment_begin:xC,normal_fragment_maps:SC,normal_pars_fragment:MC,normal_pars_vertex:EC,normal_vertex:TC,normalmap_pars_fragment:CC,clearcoat_normal_fragment_begin:AC,clearcoat_normal_fragment_maps:LC,clearcoat_pars_fragment:kC,iridescence_pars_fragment:PC,output_fragment:DC,packing:IC,premultiplied_alpha_fragment:RC,project_vertex:zC,dithering_fragment:FC,dithering_pars_fragment:OC,roughnessmap_fragment:NC,roughnessmap_pars_fragment:BC,shadowmap_pars_fragment:VC,shadowmap_pars_vertex:UC,shadowmap_vertex:WC,shadowmask_pars_fragment:GC,skinbase_vertex:HC,skinning_pars_vertex:jC,skinning_vertex:YC,skinnormal_vertex:qC,specularmap_fragment:XC,specularmap_pars_fragment:ZC,tonemapping_fragment:$C,tonemapping_pars_fragment:KC,transmission_fragment:JC,transmission_pars_fragment:QC,uv_pars_fragment:eA,uv_pars_vertex:tA,uv_vertex:iA,uv2_pars_fragment:nA,uv2_pars_vertex:sA,uv2_vertex:rA,worldpos_vertex:aA,background_vert:oA,background_frag:lA,backgroundCube_vert:cA,backgroundCube_frag:uA,cube_vert:fA,cube_frag:dA,depth_vert:hA,depth_frag:pA,distanceRGBA_vert:mA,distanceRGBA_frag:gA,equirect_vert:vA,equirect_frag:_A,linedashed_vert:wA,linedashed_frag:bA,meshbasic_vert:yA,meshbasic_frag:xA,meshlambert_vert:SA,meshlambert_frag:MA,meshmatcap_vert:EA,meshmatcap_frag:TA,meshnormal_vert:CA,meshnormal_frag:AA,meshphong_vert:LA,meshphong_frag:kA,meshphysical_vert:PA,meshphysical_frag:DA,meshtoon_vert:IA,meshtoon_frag:RA,points_vert:zA,points_frag:FA,shadow_vert:OA,shadow_frag:NA,sprite_vert:BA,sprite_frag:VA},De={common:{diffuse:{value:new Pt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new $i},uv2Transform:{value:new $i},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ht(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $i}},sprite:{diffuse:{value:new Pt(16777215)},opacity:{value:1},center:{value:new ht(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $i}}},An={basic:{uniforms:Ci([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.fog]),vertexShader:ft.meshbasic_vert,fragmentShader:ft.meshbasic_frag},lambert:{uniforms:Ci([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new Pt(0)}}]),vertexShader:ft.meshlambert_vert,fragmentShader:ft.meshlambert_frag},phong:{uniforms:Ci([De.common,De.specularmap,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.fog,De.lights,{emissive:{value:new Pt(0)},specular:{value:new Pt(1118481)},shininess:{value:30}}]),vertexShader:ft.meshphong_vert,fragmentShader:ft.meshphong_frag},standard:{uniforms:Ci([De.common,De.envmap,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.roughnessmap,De.metalnessmap,De.fog,De.lights,{emissive:{value:new Pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ft.meshphysical_vert,fragmentShader:ft.meshphysical_frag},toon:{uniforms:Ci([De.common,De.aomap,De.lightmap,De.emissivemap,De.bumpmap,De.normalmap,De.displacementmap,De.gradientmap,De.fog,De.lights,{emissive:{value:new Pt(0)}}]),vertexShader:ft.meshtoon_vert,fragmentShader:ft.meshtoon_frag},matcap:{uniforms:Ci([De.common,De.bumpmap,De.normalmap,De.displacementmap,De.fog,{matcap:{value:null}}]),vertexShader:ft.meshmatcap_vert,fragmentShader:ft.meshmatcap_frag},points:{uniforms:Ci([De.points,De.fog]),vertexShader:ft.points_vert,fragmentShader:ft.points_frag},dashed:{uniforms:Ci([De.common,De.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ft.linedashed_vert,fragmentShader:ft.linedashed_frag},depth:{uniforms:Ci([De.common,De.displacementmap]),vertexShader:ft.depth_vert,fragmentShader:ft.depth_frag},normal:{uniforms:Ci([De.common,De.bumpmap,De.normalmap,De.displacementmap,{opacity:{value:1}}]),vertexShader:ft.meshnormal_vert,fragmentShader:ft.meshnormal_frag},sprite:{uniforms:Ci([De.sprite,De.fog]),vertexShader:ft.sprite_vert,fragmentShader:ft.sprite_frag},background:{uniforms:{uvTransform:{value:new $i},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ft.background_vert,fragmentShader:ft.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ft.backgroundCube_vert,fragmentShader:ft.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ft.cube_vert,fragmentShader:ft.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ft.equirect_vert,fragmentShader:ft.equirect_frag},distanceRGBA:{uniforms:Ci([De.common,De.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ft.distanceRGBA_vert,fragmentShader:ft.distanceRGBA_frag},shadow:{uniforms:Ci([De.lights,De.fog,{color:{value:new Pt(0)},opacity:{value:1}}]),vertexShader:ft.shadow_vert,fragmentShader:ft.shadow_frag}};An.physical={uniforms:Ci([An.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ht(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Pt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ht},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Pt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Pt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ft.meshphysical_vert,fragmentShader:ft.meshphysical_frag};const So={r:0,b:0,g:0};function UA(s,e,t,i,n,r,a){const o=new Pt(0);let l=r===!0?0:1,c,u,h=null,f=0,d=null;function g(m,v){let w=!1,_=v.isScene===!0?v.background:null;_&&_.isTexture&&(_=(v.backgroundBlurriness>0?t:e).get(_));const x=s.xr,b=x.getSession&&x.getSession();b&&b.environmentBlendMode==="additive"&&(_=null),_===null?p(o,l):_&&_.isColor&&(p(_,1),w=!0),(s.autoClear||w)&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Ml)?(u===void 0&&(u=new Oi(new es(1,1,1),new ir({name:"BackgroundCubeMaterial",uniforms:jr(An.backgroundCube.uniforms),vertexShader:An.backgroundCube.vertexShader,fragmentShader:An.backgroundCube.fragmentShader,side:Ji,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(S,M,y){this.matrixWorld.copyPosition(y.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=_.encoding!==zt,(h!==_||f!==_.version||d!==s.toneMapping)&&(u.material.needsUpdate=!0,h=_,f=_.version,d=s.toneMapping),u.layers.enableAll(),m.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new Oi(new Cl(2,2),new ir({name:"BackgroundMaterial",uniforms:jr(An.background.uniforms),vertexShader:An.background.vertexShader,fragmentShader:An.background.fragmentShader,side:Ss,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=_.encoding!==zt,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(h!==_||f!==_.version||d!==s.toneMapping)&&(c.material.needsUpdate=!0,h=_,f=_.version,d=s.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null))}function p(m,v){m.getRGB(So,N0(s)),i.buffers.color.setClear(So.r,So.g,So.b,v,a)}return{getClearColor:function(){return o},setClearColor:function(m,v=1){o.set(m),l=v,p(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(m){l=m,p(o,l)},render:g}}function WA(s,e,t,i){const n=s.getParameter(34921),r=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||r!==null,o={},l=m(null);let c=l,u=!1;function h(A,I,R,O,z){let V=!1;if(a){const $=p(O,R,I);c!==$&&(c=$,d(c.object)),V=v(A,O,R,z),V&&w(A,O,R,z)}else{const $=I.wireframe===!0;(c.geometry!==O.id||c.program!==R.id||c.wireframe!==$)&&(c.geometry=O.id,c.program=R.id,c.wireframe=$,V=!0)}z!==null&&t.update(z,34963),(V||u)&&(u=!1,y(A,I,R,O),z!==null&&s.bindBuffer(34963,t.get(z).buffer))}function f(){return i.isWebGL2?s.createVertexArray():r.createVertexArrayOES()}function d(A){return i.isWebGL2?s.bindVertexArray(A):r.bindVertexArrayOES(A)}function g(A){return i.isWebGL2?s.deleteVertexArray(A):r.deleteVertexArrayOES(A)}function p(A,I,R){const O=R.wireframe===!0;let z=o[A.id];z===void 0&&(z={},o[A.id]=z);let V=z[I.id];V===void 0&&(V={},z[I.id]=V);let $=V[O];return $===void 0&&($=m(f()),V[O]=$),$}function m(A){const I=[],R=[],O=[];for(let z=0;z<n;z++)I[z]=0,R[z]=0,O[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:R,attributeDivisors:O,object:A,attributes:{},index:null}}function v(A,I,R,O){const z=c.attributes,V=I.attributes;let $=0;const K=R.getAttributes();for(const U in K)if(K[U].location>=0){const Z=z[U];let te=V[U];if(te===void 0&&(U==="instanceMatrix"&&A.instanceMatrix&&(te=A.instanceMatrix),U==="instanceColor"&&A.instanceColor&&(te=A.instanceColor)),Z===void 0||Z.attribute!==te||te&&Z.data!==te.data)return!0;$++}return c.attributesNum!==$||c.index!==O}function w(A,I,R,O){const z={},V=I.attributes;let $=0;const K=R.getAttributes();for(const U in K)if(K[U].location>=0){let Z=V[U];Z===void 0&&(U==="instanceMatrix"&&A.instanceMatrix&&(Z=A.instanceMatrix),U==="instanceColor"&&A.instanceColor&&(Z=A.instanceColor));const te={};te.attribute=Z,Z&&Z.data&&(te.data=Z.data),z[U]=te,$++}c.attributes=z,c.attributesNum=$,c.index=O}function _(){const A=c.newAttributes;for(let I=0,R=A.length;I<R;I++)A[I]=0}function x(A){b(A,0)}function b(A,I){const R=c.newAttributes,O=c.enabledAttributes,z=c.attributeDivisors;R[A]=1,O[A]===0&&(s.enableVertexAttribArray(A),O[A]=1),z[A]!==I&&((i.isWebGL2?s:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](A,I),z[A]=I)}function S(){const A=c.newAttributes,I=c.enabledAttributes;for(let R=0,O=I.length;R<O;R++)I[R]!==A[R]&&(s.disableVertexAttribArray(R),I[R]=0)}function M(A,I,R,O,z,V){i.isWebGL2===!0&&(R===5124||R===5125)?s.vertexAttribIPointer(A,I,R,z,V):s.vertexAttribPointer(A,I,R,O,z,V)}function y(A,I,R,O){if(i.isWebGL2===!1&&(A.isInstancedMesh||O.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const z=O.attributes,V=R.getAttributes(),$=I.defaultAttributeValues;for(const K in V){const U=V[K];if(U.location>=0){let ee=z[K];if(ee===void 0&&(K==="instanceMatrix"&&A.instanceMatrix&&(ee=A.instanceMatrix),K==="instanceColor"&&A.instanceColor&&(ee=A.instanceColor)),ee!==void 0){const Z=ee.normalized,te=ee.itemSize,j=t.get(ee);if(j===void 0)continue;const ie=j.buffer,oe=j.type,ve=j.bytesPerElement;if(ee.isInterleavedBufferAttribute){const ge=ee.data,Le=ge.stride,Re=ee.offset;if(ge.isInstancedInterleavedBuffer){for(let ke=0;ke<U.locationSize;ke++)b(U.location+ke,ge.meshPerAttribute);A.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let ke=0;ke<U.locationSize;ke++)x(U.location+ke);s.bindBuffer(34962,ie);for(let ke=0;ke<U.locationSize;ke++)M(U.location+ke,te/U.locationSize,oe,Z,Le*ve,(Re+te/U.locationSize*ke)*ve)}else{if(ee.isInstancedBufferAttribute){for(let ge=0;ge<U.locationSize;ge++)b(U.location+ge,ee.meshPerAttribute);A.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let ge=0;ge<U.locationSize;ge++)x(U.location+ge);s.bindBuffer(34962,ie);for(let ge=0;ge<U.locationSize;ge++)M(U.location+ge,te/U.locationSize,oe,Z,te*ve,te/U.locationSize*ge*ve)}}else if($!==void 0){const Z=$[K];if(Z!==void 0)switch(Z.length){case 2:s.vertexAttrib2fv(U.location,Z);break;case 3:s.vertexAttrib3fv(U.location,Z);break;case 4:s.vertexAttrib4fv(U.location,Z);break;default:s.vertexAttrib1fv(U.location,Z)}}}}S()}function E(){L();for(const A in o){const I=o[A];for(const R in I){const O=I[R];for(const z in O)g(O[z].object),delete O[z];delete I[R]}delete o[A]}}function C(A){if(o[A.id]===void 0)return;const I=o[A.id];for(const R in I){const O=I[R];for(const z in O)g(O[z].object),delete O[z];delete I[R]}delete o[A.id]}function P(A){for(const I in o){const R=o[I];if(R[A.id]===void 0)continue;const O=R[A.id];for(const z in O)g(O[z].object),delete O[z];delete R[A.id]}}function L(){k(),u=!0,c!==l&&(c=l,d(c.object))}function k(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:L,resetDefaultState:k,dispose:E,releaseStatesOfGeometry:C,releaseStatesOfProgram:P,initAttributes:_,enableAttribute:x,disableUnusedAttributes:S}}function GA(s,e,t,i){const n=i.isWebGL2;let r;function a(c){r=c}function o(c,u){s.drawArrays(r,c,u),t.update(u,r,1)}function l(c,u,h){if(h===0)return;let f,d;if(n)f=s,d="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[d](r,c,u,h),t.update(u,r,h)}this.setMode=a,this.render=o,this.renderInstances=l}function HA(s,e,t){let i;function n(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");i=s.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function r(M){if(M==="highp"){if(s.getShaderPrecisionFormat(35633,36338).precision>0&&s.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";M="mediump"}return M==="mediump"&&s.getShaderPrecisionFormat(35633,36337).precision>0&&s.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&s instanceof WebGL2RenderingContext;let o=t.precision!==void 0?t.precision:"highp";const l=r(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=a||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,h=s.getParameter(34930),f=s.getParameter(35660),d=s.getParameter(3379),g=s.getParameter(34076),p=s.getParameter(34921),m=s.getParameter(36347),v=s.getParameter(36348),w=s.getParameter(36349),_=f>0,x=a||e.has("OES_texture_float"),b=_&&x,S=a?s.getParameter(36183):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:n,getMaxPrecision:r,precision:o,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:g,maxAttributes:p,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:w,vertexTextures:_,floatFragmentTextures:x,floatVertexTextures:b,maxSamples:S}}function jA(s){const e=this;let t=null,i=0,n=!1,r=!1;const a=new Os,o=new $i,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const d=h.length!==0||f||i!==0||n;return n=f,i=h.length,d},this.beginShadows=function(){r=!0,u(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(h,f){t=u(h,f,0)},this.setState=function(h,f,d){const g=h.clippingPlanes,p=h.clipIntersection,m=h.clipShadows,v=s.get(h);if(!n||g===null||g.length===0||r&&!m)r?u(null):c();else{const w=r?0:i,_=w*4;let x=v.clippingState||null;l.value=x,x=u(g,f,_,d);for(let b=0;b!==_;++b)x[b]=t[b];v.clippingState=x,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(h,f,d,g){const p=h!==null?h.length:0;let m=null;if(p!==0){if(m=l.value,g!==!0||m===null){const v=d+p*4,w=f.matrixWorldInverse;o.getNormalMatrix(w),(m===null||m.length<v)&&(m=new Float32Array(v));for(let _=0,x=d;_!==p;++_,x+=4)a.copy(h[_]).applyMatrix4(w,o),a.normal.toArray(m,x),m[x+3]=a.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,m}}function YA(s){let e=new WeakMap;function t(a,o){return o===qc?a.mapping=Wr:o===Xc&&(a.mapping=Gr),a}function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping;if(o===qc||o===Xc)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new r3(l.height/2);return c.fromEquirectangularTexture(s,a),e.set(a,c),a.addEventListener("dispose",n),t(c.texture,a.mapping)}else return null}}return a}function n(a){const o=a.target;o.removeEventListener("dispose",n);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}class W0 extends B0{constructor(e=-1,t=1,i=1,n=-1,r=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=n,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,n,r,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let r=i-e,a=i+e,o=n+t,l=n-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,a=r+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Lr=4,Kh=[.125,.215,.35,.446,.526,.582],Bs=20,xc=new W0,Jh=new Pt;let Sc=null;const Ns=(1+Math.sqrt(5))/2,xr=1/Ns,Qh=[new re(1,1,1),new re(-1,1,1),new re(1,1,-1),new re(-1,1,-1),new re(0,Ns,xr),new re(0,Ns,-xr),new re(xr,0,Ns),new re(-xr,0,Ns),new re(Ns,xr,0),new re(-Ns,xr,0)];class ep{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,n=100){Sc=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,i,n,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=np(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ip(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Sc),e.scissorTest=!1,Mo(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Wr||e.mapping===Gr?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Sc=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:on,minFilter:on,generateMipmaps:!1,type:Ba,format:vn,encoding:Qs,depthBuffer:!1},n=tp(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=tp(e,t,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qA(r)),this._blurMaterial=XA(r,e,t)}return n}_compileMaterial(e){const t=new Oi(this._lodPlanes[0],e);this._renderer.compile(t,xc)}_sceneToCubeUV(e,t,i,n){const o=new Xi(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(Jh),u.toneMapping=is,u.autoClear=!1;const d=new z0({name:"PMREM.Background",side:Ji,depthWrite:!1,depthTest:!1}),g=new Oi(new es,d);let p=!1;const m=e.background;m?m.isColor&&(d.color.copy(m),e.background=null,p=!0):(d.color.copy(Jh),p=!0);for(let v=0;v<6;v++){const w=v%3;w===0?(o.up.set(0,l[v],0),o.lookAt(c[v],0,0)):w===1?(o.up.set(0,0,l[v]),o.lookAt(0,c[v],0)):(o.up.set(0,l[v],0),o.lookAt(0,0,c[v]));const _=this._cubeSize;Mo(n,w*_,v>2?_:0,_,_),u.setRenderTarget(n),p&&u.render(g,o),u.render(e,o)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=h,e.background=m}_textureToCubeUV(e,t){const i=this._renderer,n=e.mapping===Wr||e.mapping===Gr;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=np()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ip());const r=n?this._cubemapMaterial:this._equirectMaterial,a=new Oi(this._lodPlanes[0],r),o=r.uniforms;o.envMap.value=e;const l=this._cubeSize;Mo(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,xc)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){const r=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),a=Qh[(n-1)%Qh.length];this._blur(e,n-1,n,r,a)}t.autoClear=i}_blur(e,t,i,n,r){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,n,"latitudinal",r),this._halfBlur(a,e,i,i,n,"longitudinal",r)}_halfBlur(e,t,i,n,r,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new Oi(this._lodPlanes[n],c),f=c.uniforms,d=this._sizeLods[i]-1,g=isFinite(r)?Math.PI/(2*d):2*Math.PI/(2*Bs-1),p=r/g,m=isFinite(r)?1+Math.floor(u*p):Bs;m>Bs&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Bs}`);const v=[];let w=0;for(let M=0;M<Bs;++M){const y=M/p,E=Math.exp(-y*y/2);v.push(E),M===0?w+=E:M<m&&(w+=2*E)}for(let M=0;M<v.length;M++)v[M]=v[M]/w;f.envMap.value=e.texture,f.samples.value=m,f.weights.value=v,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:_}=this;f.dTheta.value=g,f.mipInt.value=_-i;const x=this._sizeLods[n],b=3*x*(n>_-Lr?n-_+Lr:0),S=4*(this._cubeSize-x);Mo(t,b,S,3*x,2*x),l.setRenderTarget(t),l.render(h,xc)}}function qA(s){const e=[],t=[],i=[];let n=s;const r=s-Lr+1+Kh.length;for(let a=0;a<r;a++){const o=Math.pow(2,n);t.push(o);let l=1/o;a>s-Lr?l=Kh[a-s+Lr-1]:a===0&&(l=0),i.push(l);const c=1/(o-2),u=-c,h=1+c,f=[u,u,h,u,h,h,u,u,h,h,u,h],d=6,g=6,p=3,m=2,v=1,w=new Float32Array(p*g*d),_=new Float32Array(m*g*d),x=new Float32Array(v*g*d);for(let S=0;S<d;S++){const M=S%3*2/3-1,y=S>2?0:-1,E=[M,y,0,M+2/3,y,0,M+2/3,y+1,0,M,y,0,M+2/3,y+1,0,M,y+1,0];w.set(E,p*g*S),_.set(f,m*g*S);const C=[S,S,S,S,S,S];x.set(C,v*g*S)}const b=new Cs;b.setAttribute("position",new kn(w,p)),b.setAttribute("uv",new kn(_,m)),b.setAttribute("faceIndex",new kn(x,v)),e.push(b),n>Lr&&n--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function tp(s,e,t){const i=new er(s,e,t);return i.texture.mapping=Ml,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Mo(s,e,t,i,n){s.viewport.set(e,t,i,n),s.scissor.set(e,t,i,n)}function XA(s,e,t){const i=new Float32Array(Bs),n=new re(0,1,0);return new ir({name:"SphericalGaussianBlur",defines:{n:Bs,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${s}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n}},vertexShader:Hu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:xs,depthTest:!1,depthWrite:!1})}function ip(){return new ir({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Hu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:xs,depthTest:!1,depthWrite:!1})}function np(){return new ir({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Hu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:xs,depthTest:!1,depthWrite:!1})}function Hu(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ZA(s){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,c=l===qc||l===Xc,u=l===Wr||l===Gr;if(c||u)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let h=e.get(o);return t===null&&(t=new ep(s)),h=c?t.fromEquirectangular(o,h):t.fromCubemap(o,h),e.set(o,h),h.texture}else{if(e.has(o))return e.get(o).texture;{const h=o.image;if(c&&h&&h.height>0||u&&h&&n(h)){t===null&&(t=new ep(s));const f=c?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,f),o.addEventListener("dispose",r),f.texture}else return null}}}return o}function n(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function r(o){const l=o.target;l.removeEventListener("dispose",r);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function $A(s){const e={};function t(i){if(e[i]!==void 0)return e[i];let n;switch(i){case"WEBGL_depth_texture":n=s.getExtension("WEBGL_depth_texture")||s.getExtension("MOZ_WEBGL_depth_texture")||s.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=s.getExtension("WEBGL_compressed_texture_s3tc")||s.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=s.getExtension(i)}return e[i]=n,n}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const n=t(i);return n===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),n}}}function KA(s,e,t,i){const n={},r=new WeakMap;function a(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);f.removeEventListener("dispose",a),delete n[f.id];const d=r.get(f);d&&(e.remove(d),r.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(h,f){return n[f.id]===!0||(f.addEventListener("dispose",a),n[f.id]=!0,t.memory.geometries++),f}function l(h){const f=h.attributes;for(const g in f)e.update(f[g],34962);const d=h.morphAttributes;for(const g in d){const p=d[g];for(let m=0,v=p.length;m<v;m++)e.update(p[m],34962)}}function c(h){const f=[],d=h.index,g=h.attributes.position;let p=0;if(d!==null){const w=d.array;p=d.version;for(let _=0,x=w.length;_<x;_+=3){const b=w[_+0],S=w[_+1],M=w[_+2];f.push(b,S,S,M,M,b)}}else{const w=g.array;p=g.version;for(let _=0,x=w.length/3-1;_<x;_+=3){const b=_+0,S=_+1,M=_+2;f.push(b,S,S,M,M,b)}}const m=new(L0(f)?O0:F0)(f,1);m.version=p;const v=r.get(h);v&&e.remove(v),r.set(h,m)}function u(h){const f=r.get(h);if(f){const d=h.index;d!==null&&f.version<d.version&&c(h)}else c(h);return r.get(h)}return{get:o,update:l,getWireframeAttribute:u}}function JA(s,e,t,i){const n=i.isWebGL2;let r;function a(f){r=f}let o,l;function c(f){o=f.type,l=f.bytesPerElement}function u(f,d){s.drawElements(r,d,o,f*l),t.update(d,r,1)}function h(f,d,g){if(g===0)return;let p,m;if(n)p=s,m="drawElementsInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",p===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](r,d,o,f*l,g),t.update(d,r,g)}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=h}function QA(s){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,a,o){switch(t.calls++,a){case 4:t.triangles+=o*(r/3);break;case 1:t.lines+=o*(r/2);break;case 3:t.lines+=o*(r-1);break;case 2:t.lines+=o*r;break;case 0:t.points+=o*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function n(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:n,update:i}}function eL(s,e){return s[0]-e[0]}function tL(s,e){return Math.abs(e[1])-Math.abs(s[1])}function iL(s,e,t){const i={},n=new Float32Array(8),r=new WeakMap,a=new di,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,u,h,f){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=g!==void 0?g.length:0;let m=r.get(u);if(m===void 0||m.count!==p){let I=function(){k.dispose(),r.delete(u),u.removeEventListener("dispose",I)};m!==void 0&&m.texture.dispose();const _=u.morphAttributes.position!==void 0,x=u.morphAttributes.normal!==void 0,b=u.morphAttributes.color!==void 0,S=u.morphAttributes.position||[],M=u.morphAttributes.normal||[],y=u.morphAttributes.color||[];let E=0;_===!0&&(E=1),x===!0&&(E=2),b===!0&&(E=3);let C=u.attributes.position.count*E,P=1;C>e.maxTextureSize&&(P=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const L=new Float32Array(C*P*4*p),k=new I0(L,C,P,p);k.type=Gs,k.needsUpdate=!0;const A=E*4;for(let R=0;R<p;R++){const O=S[R],z=M[R],V=y[R],$=C*P*4*R;for(let K=0;K<O.count;K++){const U=K*A;_===!0&&(a.fromBufferAttribute(O,K),L[$+U+0]=a.x,L[$+U+1]=a.y,L[$+U+2]=a.z,L[$+U+3]=0),x===!0&&(a.fromBufferAttribute(z,K),L[$+U+4]=a.x,L[$+U+5]=a.y,L[$+U+6]=a.z,L[$+U+7]=0),b===!0&&(a.fromBufferAttribute(V,K),L[$+U+8]=a.x,L[$+U+9]=a.y,L[$+U+10]=a.z,L[$+U+11]=V.itemSize===4?a.w:1)}}m={count:p,texture:k,size:new ht(C,P)},r.set(u,m),u.addEventListener("dispose",I)}let v=0;for(let _=0;_<d.length;_++)v+=d[_];const w=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(s,"morphTargetBaseInfluence",w),f.getUniforms().setValue(s,"morphTargetInfluences",d),f.getUniforms().setValue(s,"morphTargetsTexture",m.texture,t),f.getUniforms().setValue(s,"morphTargetsTextureSize",m.size)}else{const g=d===void 0?0:d.length;let p=i[u.id];if(p===void 0||p.length!==g){p=[];for(let x=0;x<g;x++)p[x]=[x,0];i[u.id]=p}for(let x=0;x<g;x++){const b=p[x];b[0]=x,b[1]=d[x]}p.sort(tL);for(let x=0;x<8;x++)x<g&&p[x][1]?(o[x][0]=p[x][0],o[x][1]=p[x][1]):(o[x][0]=Number.MAX_SAFE_INTEGER,o[x][1]=0);o.sort(eL);const m=u.morphAttributes.position,v=u.morphAttributes.normal;let w=0;for(let x=0;x<8;x++){const b=o[x],S=b[0],M=b[1];S!==Number.MAX_SAFE_INTEGER&&M?(m&&u.getAttribute("morphTarget"+x)!==m[S]&&u.setAttribute("morphTarget"+x,m[S]),v&&u.getAttribute("morphNormal"+x)!==v[S]&&u.setAttribute("morphNormal"+x,v[S]),n[x]=M,w+=M):(m&&u.hasAttribute("morphTarget"+x)===!0&&u.deleteAttribute("morphTarget"+x),v&&u.hasAttribute("morphNormal"+x)===!0&&u.deleteAttribute("morphNormal"+x),n[x]=0)}const _=u.morphTargetsRelative?1:1-w;f.getUniforms().setValue(s,"morphTargetBaseInfluence",_),f.getUniforms().setValue(s,"morphTargetInfluences",n)}}return{update:l}}function nL(s,e,t,i){let n=new WeakMap;function r(l){const c=i.render.frame,u=l.geometry,h=e.get(l,u);return n.get(h)!==c&&(e.update(h),n.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function a(){n=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:r,dispose:a}}const G0=new ki,H0=new I0,j0=new WT,Y0=new V0,sp=[],rp=[],ap=new Float32Array(16),op=new Float32Array(9),lp=new Float32Array(4);function ia(s,e,t){const i=s[0];if(i<=0||i>0)return s;const n=e*t;let r=sp[n];if(r===void 0&&(r=new Float32Array(n),sp[n]=r),e!==0){i.toArray(r,0);for(let a=1,o=0;a!==e;++a)o+=t,s[a].toArray(r,o)}return r}function ri(s,e){if(s.length!==e.length)return!1;for(let t=0,i=s.length;t<i;t++)if(s[t]!==e[t])return!1;return!0}function ai(s,e){for(let t=0,i=e.length;t<i;t++)s[t]=e[t]}function Al(s,e){let t=rp[e];t===void 0&&(t=new Int32Array(e),rp[e]=t);for(let i=0;i!==e;++i)t[i]=s.allocateTextureUnit();return t}function sL(s,e){const t=this.cache;t[0]!==e&&(s.uniform1f(this.addr,e),t[0]=e)}function rL(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(s.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ri(t,e))return;s.uniform2fv(this.addr,e),ai(t,e)}}function aL(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(s.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(s.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ri(t,e))return;s.uniform3fv(this.addr,e),ai(t,e)}}function oL(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(s.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ri(t,e))return;s.uniform4fv(this.addr,e),ai(t,e)}}function lL(s,e){const t=this.cache,i=e.elements;if(i===void 0){if(ri(t,e))return;s.uniformMatrix2fv(this.addr,!1,e),ai(t,e)}else{if(ri(t,i))return;lp.set(i),s.uniformMatrix2fv(this.addr,!1,lp),ai(t,i)}}function cL(s,e){const t=this.cache,i=e.elements;if(i===void 0){if(ri(t,e))return;s.uniformMatrix3fv(this.addr,!1,e),ai(t,e)}else{if(ri(t,i))return;op.set(i),s.uniformMatrix3fv(this.addr,!1,op),ai(t,i)}}function uL(s,e){const t=this.cache,i=e.elements;if(i===void 0){if(ri(t,e))return;s.uniformMatrix4fv(this.addr,!1,e),ai(t,e)}else{if(ri(t,i))return;ap.set(i),s.uniformMatrix4fv(this.addr,!1,ap),ai(t,i)}}function fL(s,e){const t=this.cache;t[0]!==e&&(s.uniform1i(this.addr,e),t[0]=e)}function dL(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(s.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ri(t,e))return;s.uniform2iv(this.addr,e),ai(t,e)}}function hL(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(s.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ri(t,e))return;s.uniform3iv(this.addr,e),ai(t,e)}}function pL(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(s.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ri(t,e))return;s.uniform4iv(this.addr,e),ai(t,e)}}function mL(s,e){const t=this.cache;t[0]!==e&&(s.uniform1ui(this.addr,e),t[0]=e)}function gL(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(s.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ri(t,e))return;s.uniform2uiv(this.addr,e),ai(t,e)}}function vL(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(s.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ri(t,e))return;s.uniform3uiv(this.addr,e),ai(t,e)}}function _L(s,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(s.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ri(t,e))return;s.uniform4uiv(this.addr,e),ai(t,e)}}function wL(s,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(s.uniform1i(this.addr,n),i[0]=n),t.setTexture2D(e||G0,n)}function bL(s,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(s.uniform1i(this.addr,n),i[0]=n),t.setTexture3D(e||j0,n)}function yL(s,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(s.uniform1i(this.addr,n),i[0]=n),t.setTextureCube(e||Y0,n)}function xL(s,e,t){const i=this.cache,n=t.allocateTextureUnit();i[0]!==n&&(s.uniform1i(this.addr,n),i[0]=n),t.setTexture2DArray(e||H0,n)}function SL(s){switch(s){case 5126:return sL;case 35664:return rL;case 35665:return aL;case 35666:return oL;case 35674:return lL;case 35675:return cL;case 35676:return uL;case 5124:case 35670:return fL;case 35667:case 35671:return dL;case 35668:case 35672:return hL;case 35669:case 35673:return pL;case 5125:return mL;case 36294:return gL;case 36295:return vL;case 36296:return _L;case 35678:case 36198:case 36298:case 36306:case 35682:return wL;case 35679:case 36299:case 36307:return bL;case 35680:case 36300:case 36308:case 36293:return yL;case 36289:case 36303:case 36311:case 36292:return xL}}function ML(s,e){s.uniform1fv(this.addr,e)}function EL(s,e){const t=ia(e,this.size,2);s.uniform2fv(this.addr,t)}function TL(s,e){const t=ia(e,this.size,3);s.uniform3fv(this.addr,t)}function CL(s,e){const t=ia(e,this.size,4);s.uniform4fv(this.addr,t)}function AL(s,e){const t=ia(e,this.size,4);s.uniformMatrix2fv(this.addr,!1,t)}function LL(s,e){const t=ia(e,this.size,9);s.uniformMatrix3fv(this.addr,!1,t)}function kL(s,e){const t=ia(e,this.size,16);s.uniformMatrix4fv(this.addr,!1,t)}function PL(s,e){s.uniform1iv(this.addr,e)}function DL(s,e){s.uniform2iv(this.addr,e)}function IL(s,e){s.uniform3iv(this.addr,e)}function RL(s,e){s.uniform4iv(this.addr,e)}function zL(s,e){s.uniform1uiv(this.addr,e)}function FL(s,e){s.uniform2uiv(this.addr,e)}function OL(s,e){s.uniform3uiv(this.addr,e)}function NL(s,e){s.uniform4uiv(this.addr,e)}function BL(s,e,t){const i=this.cache,n=e.length,r=Al(t,n);ri(i,r)||(s.uniform1iv(this.addr,r),ai(i,r));for(let a=0;a!==n;++a)t.setTexture2D(e[a]||G0,r[a])}function VL(s,e,t){const i=this.cache,n=e.length,r=Al(t,n);ri(i,r)||(s.uniform1iv(this.addr,r),ai(i,r));for(let a=0;a!==n;++a)t.setTexture3D(e[a]||j0,r[a])}function UL(s,e,t){const i=this.cache,n=e.length,r=Al(t,n);ri(i,r)||(s.uniform1iv(this.addr,r),ai(i,r));for(let a=0;a!==n;++a)t.setTextureCube(e[a]||Y0,r[a])}function WL(s,e,t){const i=this.cache,n=e.length,r=Al(t,n);ri(i,r)||(s.uniform1iv(this.addr,r),ai(i,r));for(let a=0;a!==n;++a)t.setTexture2DArray(e[a]||H0,r[a])}function GL(s){switch(s){case 5126:return ML;case 35664:return EL;case 35665:return TL;case 35666:return CL;case 35674:return AL;case 35675:return LL;case 35676:return kL;case 5124:case 35670:return PL;case 35667:case 35671:return DL;case 35668:case 35672:return IL;case 35669:case 35673:return RL;case 5125:return zL;case 36294:return FL;case 36295:return OL;case 36296:return NL;case 35678:case 36198:case 36298:case 36306:case 35682:return BL;case 35679:case 36299:case 36307:return VL;case 35680:case 36300:case 36308:case 36293:return UL;case 36289:case 36303:case 36311:case 36292:return WL}}class HL{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=SL(t.type)}}class jL{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=GL(t.type)}}class YL{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const n=this.seq;for(let r=0,a=n.length;r!==a;++r){const o=n[r];o.setValue(e,t[o.id],i)}}}const Mc=/(\w+)(\])?(\[|\.)?/g;function cp(s,e){s.seq.push(e),s.map[e.id]=e}function qL(s,e,t){const i=s.name,n=i.length;for(Mc.lastIndex=0;;){const r=Mc.exec(i),a=Mc.lastIndex;let o=r[1];const l=r[2]==="]",c=r[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===n){cp(t,c===void 0?new HL(o,s,e):new jL(o,s,e));break}else{let h=t.map[o];h===void 0&&(h=new YL(o),cp(t,h)),t=h}}}class No{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let n=0;n<i;++n){const r=e.getActiveUniform(t,n),a=e.getUniformLocation(t,r.name);qL(r,a,this)}}setValue(e,t,i,n){const r=this.map[t];r!==void 0&&r.setValue(e,i,n)}setOptional(e,t,i){const n=t[i];n!==void 0&&this.setValue(e,i,n)}static upload(e,t,i,n){for(let r=0,a=t.length;r!==a;++r){const o=t[r],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,n)}}static seqWithValue(e,t){const i=[];for(let n=0,r=e.length;n!==r;++n){const a=e[n];a.id in t&&i.push(a)}return i}}function up(s,e,t){const i=s.createShader(e);return s.shaderSource(i,t),s.compileShader(i),i}let XL=0;function ZL(s,e){const t=s.split(`
`),i=[],n=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let a=n;a<r;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}function $L(s){switch(s){case Qs:return["Linear","( value )"];case zt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",s),["Linear","( value )"]}}function fp(s,e,t){const i=s.getShaderParameter(e,35713),n=s.getShaderInfoLog(e).trim();if(i&&n==="")return"";const r=/ERROR: 0:(\d+)/.exec(n);if(r){const a=parseInt(r[1]);return t.toUpperCase()+`

`+n+`

`+ZL(s.getShaderSource(e),a)}else return n}function KL(s,e){const t=$L(e);return"vec4 "+s+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function JL(s,e){let t;switch(e){case tT:t="Linear";break;case iT:t="Reinhard";break;case nT:t="OptimizedCineon";break;case sT:t="ACESFilmic";break;case rT:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+s+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function QL(s){return[s.extensionDerivatives||s.envMapCubeUVHeight||s.bumpMap||s.tangentSpaceNormalMap||s.clearcoatNormalMap||s.flatShading||s.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(s.extensionFragDepth||s.logarithmicDepthBuffer)&&s.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",s.extensionDrawBuffers&&s.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(s.extensionShaderTextureLOD||s.envMap||s.transmission)&&s.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(xa).join(`
`)}function ek(s){const e=[];for(const t in s){const i=s[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function tk(s,e){const t={},i=s.getProgramParameter(e,35721);for(let n=0;n<i;n++){const r=s.getActiveAttrib(e,n),a=r.name;let o=1;r.type===35674&&(o=2),r.type===35675&&(o=3),r.type===35676&&(o=4),t[a]={type:r.type,location:s.getAttribLocation(e,a),locationSize:o}}return t}function xa(s){return s!==""}function dp(s,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return s.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function hp(s,e){return s.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ik=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qc(s){return s.replace(ik,nk)}function nk(s,e){const t=ft[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return Qc(t)}const sk=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pp(s){return s.replace(sk,rk)}function rk(s,e,t,i){let n="";for(let r=parseInt(e);r<parseInt(t);r++)n+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return n}function mp(s){let e="precision "+s.precision+` float;
precision `+s.precision+" int;";return s.precision==="highp"?e+=`
#define HIGH_PRECISION`:s.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:s.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ak(s){let e="SHADOWMAP_TYPE_BASIC";return s.shadowMapType===S0?e="SHADOWMAP_TYPE_PCF":s.shadowMapType===IE?e="SHADOWMAP_TYPE_PCF_SOFT":s.shadowMapType===ba&&(e="SHADOWMAP_TYPE_VSM"),e}function ok(s){let e="ENVMAP_TYPE_CUBE";if(s.envMap)switch(s.envMapMode){case Wr:case Gr:e="ENVMAP_TYPE_CUBE";break;case Ml:e="ENVMAP_TYPE_CUBE_UV";break}return e}function lk(s){let e="ENVMAP_MODE_REFLECTION";if(s.envMap)switch(s.envMapMode){case Gr:e="ENVMAP_MODE_REFRACTION";break}return e}function ck(s){let e="ENVMAP_BLENDING_NONE";if(s.envMap)switch(s.combine){case Uu:e="ENVMAP_BLENDING_MULTIPLY";break;case QE:e="ENVMAP_BLENDING_MIX";break;case eT:e="ENVMAP_BLENDING_ADD";break}return e}function uk(s){const e=s.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function fk(s,e,t,i){const n=s.getContext(),r=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=ak(t),c=ok(t),u=lk(t),h=ck(t),f=uk(t),d=t.isWebGL2?"":QL(t),g=ek(r),p=n.createProgram();let m,v,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(m=[g].filter(xa).join(`
`),m.length>0&&(m+=`
`),v=[d,g].filter(xa).join(`
`),v.length>0&&(v+=`
`)):(m=[mp(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(xa).join(`
`),v=[d,mp(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==is?"#define TONE_MAPPING":"",t.toneMapping!==is?ft.tonemapping_pars_fragment:"",t.toneMapping!==is?JL("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ft.encodings_pars_fragment,KL("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(xa).join(`
`)),a=Qc(a),a=dp(a,t),a=hp(a,t),o=Qc(o),o=dp(o,t),o=hp(o,t),a=pp(a),o=pp(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,v=["#define varying in",t.glslVersion===Bh?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Bh?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=w+m+a,x=w+v+o,b=up(n,35633,_),S=up(n,35632,x);if(n.attachShader(p,b),n.attachShader(p,S),t.index0AttributeName!==void 0?n.bindAttribLocation(p,0,t.index0AttributeName):t.morphTargets===!0&&n.bindAttribLocation(p,0,"position"),n.linkProgram(p),s.debug.checkShaderErrors){const E=n.getProgramInfoLog(p).trim(),C=n.getShaderInfoLog(b).trim(),P=n.getShaderInfoLog(S).trim();let L=!0,k=!0;if(n.getProgramParameter(p,35714)===!1){L=!1;const A=fp(n,b,"vertex"),I=fp(n,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+n.getError()+" - VALIDATE_STATUS "+n.getProgramParameter(p,35715)+`

Program Info Log: `+E+`
`+A+`
`+I)}else E!==""?console.warn("THREE.WebGLProgram: Program Info Log:",E):(C===""||P==="")&&(k=!1);k&&(this.diagnostics={runnable:L,programLog:E,vertexShader:{log:C,prefix:m},fragmentShader:{log:P,prefix:v}})}n.deleteShader(b),n.deleteShader(S);let M;this.getUniforms=function(){return M===void 0&&(M=new No(n,p)),M};let y;return this.getAttributes=function(){return y===void 0&&(y=tk(n,p)),y},this.destroy=function(){i.releaseStatesOfProgram(this),n.deleteProgram(p),this.program=void 0},this.name=t.shaderName,this.id=XL++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=b,this.fragmentShader=S,this}let dk=0;class hk{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,n=this._getShaderStage(t),r=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(n)===!1&&(a.add(n),n.usedTimes++),a.has(r)===!1&&(a.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new pk(e),t.set(e,i)),i}}class pk{constructor(e){this.id=dk++,this.code=e,this.usedTimes=0}}function mk(s,e,t,i,n,r,a){const o=new R0,l=new hk,c=[],u=n.isWebGL2,h=n.logarithmicDepthBuffer,f=n.vertexTextures;let d=n.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(y,E,C,P,L){const k=P.fog,A=L.geometry,I=y.isMeshStandardMaterial?P.environment:null,R=(y.isMeshStandardMaterial?t:e).get(y.envMap||I),O=R&&R.mapping===Ml?R.image.height:null,z=g[y.type];y.precision!==null&&(d=n.getMaxPrecision(y.precision),d!==y.precision&&console.warn("THREE.WebGLProgram.getParameters:",y.precision,"not supported, using",d,"instead."));const V=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,$=V!==void 0?V.length:0;let K=0;A.morphAttributes.position!==void 0&&(K=1),A.morphAttributes.normal!==void 0&&(K=2),A.morphAttributes.color!==void 0&&(K=3);let U,ee,Z,te;if(z){const Le=An[z];U=Le.vertexShader,ee=Le.fragmentShader}else U=y.vertexShader,ee=y.fragmentShader,l.update(y),Z=l.getVertexShaderID(y),te=l.getFragmentShaderID(y);const j=s.getRenderTarget(),ie=y.alphaTest>0,oe=y.clearcoat>0,ve=y.iridescence>0;return{isWebGL2:u,shaderID:z,shaderName:y.type,vertexShader:U,fragmentShader:ee,defines:y.defines,customVertexShaderID:Z,customFragmentShaderID:te,isRawShaderMaterial:y.isRawShaderMaterial===!0,glslVersion:y.glslVersion,precision:d,instancing:L.isInstancedMesh===!0,instancingColor:L.isInstancedMesh===!0&&L.instanceColor!==null,supportsVertexTextures:f,outputEncoding:j===null?s.outputEncoding:j.isXRRenderTarget===!0?j.texture.encoding:Qs,map:!!y.map,matcap:!!y.matcap,envMap:!!R,envMapMode:R&&R.mapping,envMapCubeUVHeight:O,lightMap:!!y.lightMap,aoMap:!!y.aoMap,emissiveMap:!!y.emissiveMap,bumpMap:!!y.bumpMap,normalMap:!!y.normalMap,objectSpaceNormalMap:y.normalMapType===MT,tangentSpaceNormalMap:y.normalMapType===A0,decodeVideoTexture:!!y.map&&y.map.isVideoTexture===!0&&y.map.encoding===zt,clearcoat:oe,clearcoatMap:oe&&!!y.clearcoatMap,clearcoatRoughnessMap:oe&&!!y.clearcoatRoughnessMap,clearcoatNormalMap:oe&&!!y.clearcoatNormalMap,iridescence:ve,iridescenceMap:ve&&!!y.iridescenceMap,iridescenceThicknessMap:ve&&!!y.iridescenceThicknessMap,displacementMap:!!y.displacementMap,roughnessMap:!!y.roughnessMap,metalnessMap:!!y.metalnessMap,specularMap:!!y.specularMap,specularIntensityMap:!!y.specularIntensityMap,specularColorMap:!!y.specularColorMap,opaque:y.transparent===!1&&y.blending===Rr,alphaMap:!!y.alphaMap,alphaTest:ie,gradientMap:!!y.gradientMap,sheen:y.sheen>0,sheenColorMap:!!y.sheenColorMap,sheenRoughnessMap:!!y.sheenRoughnessMap,transmission:y.transmission>0,transmissionMap:!!y.transmissionMap,thicknessMap:!!y.thicknessMap,combine:y.combine,vertexTangents:!!y.normalMap&&!!A.attributes.tangent,vertexColors:y.vertexColors,vertexAlphas:y.vertexColors===!0&&!!A.attributes.color&&A.attributes.color.itemSize===4,vertexUvs:!!y.map||!!y.bumpMap||!!y.normalMap||!!y.specularMap||!!y.alphaMap||!!y.emissiveMap||!!y.roughnessMap||!!y.metalnessMap||!!y.clearcoatMap||!!y.clearcoatRoughnessMap||!!y.clearcoatNormalMap||!!y.iridescenceMap||!!y.iridescenceThicknessMap||!!y.displacementMap||!!y.transmissionMap||!!y.thicknessMap||!!y.specularIntensityMap||!!y.specularColorMap||!!y.sheenColorMap||!!y.sheenRoughnessMap,uvsVertexOnly:!(y.map||y.bumpMap||y.normalMap||y.specularMap||y.alphaMap||y.emissiveMap||y.roughnessMap||y.metalnessMap||y.clearcoatNormalMap||y.iridescenceMap||y.iridescenceThicknessMap||y.transmission>0||y.transmissionMap||y.thicknessMap||y.specularIntensityMap||y.specularColorMap||y.sheen>0||y.sheenColorMap||y.sheenRoughnessMap)&&!!y.displacementMap,fog:!!k,useFog:y.fog===!0,fogExp2:k&&k.isFogExp2,flatShading:!!y.flatShading,sizeAttenuation:y.sizeAttenuation,logarithmicDepthBuffer:h,skinning:L.isSkinnedMesh===!0,morphTargets:A.morphAttributes.position!==void 0,morphNormals:A.morphAttributes.normal!==void 0,morphColors:A.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:K,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:y.dithering,shadowMapEnabled:s.shadowMap.enabled&&C.length>0,shadowMapType:s.shadowMap.type,toneMapping:y.toneMapped?s.toneMapping:is,physicallyCorrectLights:s.physicallyCorrectLights,premultipliedAlpha:y.premultipliedAlpha,doubleSided:y.side===Zi,flipSided:y.side===Ji,useDepthPacking:!!y.depthPacking,depthPacking:y.depthPacking||0,index0AttributeName:y.index0AttributeName,extensionDerivatives:y.extensions&&y.extensions.derivatives,extensionFragDepth:y.extensions&&y.extensions.fragDepth,extensionDrawBuffers:y.extensions&&y.extensions.drawBuffers,extensionShaderTextureLOD:y.extensions&&y.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:y.customProgramCacheKey()}}function m(y){const E=[];if(y.shaderID?E.push(y.shaderID):(E.push(y.customVertexShaderID),E.push(y.customFragmentShaderID)),y.defines!==void 0)for(const C in y.defines)E.push(C),E.push(y.defines[C]);return y.isRawShaderMaterial===!1&&(v(E,y),w(E,y),E.push(s.outputEncoding)),E.push(y.customProgramCacheKey),E.join()}function v(y,E){y.push(E.precision),y.push(E.outputEncoding),y.push(E.envMapMode),y.push(E.envMapCubeUVHeight),y.push(E.combine),y.push(E.vertexUvs),y.push(E.fogExp2),y.push(E.sizeAttenuation),y.push(E.morphTargetsCount),y.push(E.morphAttributeCount),y.push(E.numDirLights),y.push(E.numPointLights),y.push(E.numSpotLights),y.push(E.numSpotLightMaps),y.push(E.numHemiLights),y.push(E.numRectAreaLights),y.push(E.numDirLightShadows),y.push(E.numPointLightShadows),y.push(E.numSpotLightShadows),y.push(E.numSpotLightShadowsWithMaps),y.push(E.shadowMapType),y.push(E.toneMapping),y.push(E.numClippingPlanes),y.push(E.numClipIntersection),y.push(E.depthPacking)}function w(y,E){o.disableAll(),E.isWebGL2&&o.enable(0),E.supportsVertexTextures&&o.enable(1),E.instancing&&o.enable(2),E.instancingColor&&o.enable(3),E.map&&o.enable(4),E.matcap&&o.enable(5),E.envMap&&o.enable(6),E.lightMap&&o.enable(7),E.aoMap&&o.enable(8),E.emissiveMap&&o.enable(9),E.bumpMap&&o.enable(10),E.normalMap&&o.enable(11),E.objectSpaceNormalMap&&o.enable(12),E.tangentSpaceNormalMap&&o.enable(13),E.clearcoat&&o.enable(14),E.clearcoatMap&&o.enable(15),E.clearcoatRoughnessMap&&o.enable(16),E.clearcoatNormalMap&&o.enable(17),E.iridescence&&o.enable(18),E.iridescenceMap&&o.enable(19),E.iridescenceThicknessMap&&o.enable(20),E.displacementMap&&o.enable(21),E.specularMap&&o.enable(22),E.roughnessMap&&o.enable(23),E.metalnessMap&&o.enable(24),E.gradientMap&&o.enable(25),E.alphaMap&&o.enable(26),E.alphaTest&&o.enable(27),E.vertexColors&&o.enable(28),E.vertexAlphas&&o.enable(29),E.vertexUvs&&o.enable(30),E.vertexTangents&&o.enable(31),E.uvsVertexOnly&&o.enable(32),y.push(o.mask),o.disableAll(),E.fog&&o.enable(0),E.useFog&&o.enable(1),E.flatShading&&o.enable(2),E.logarithmicDepthBuffer&&o.enable(3),E.skinning&&o.enable(4),E.morphTargets&&o.enable(5),E.morphNormals&&o.enable(6),E.morphColors&&o.enable(7),E.premultipliedAlpha&&o.enable(8),E.shadowMapEnabled&&o.enable(9),E.physicallyCorrectLights&&o.enable(10),E.doubleSided&&o.enable(11),E.flipSided&&o.enable(12),E.useDepthPacking&&o.enable(13),E.dithering&&o.enable(14),E.specularIntensityMap&&o.enable(15),E.specularColorMap&&o.enable(16),E.transmission&&o.enable(17),E.transmissionMap&&o.enable(18),E.thicknessMap&&o.enable(19),E.sheen&&o.enable(20),E.sheenColorMap&&o.enable(21),E.sheenRoughnessMap&&o.enable(22),E.decodeVideoTexture&&o.enable(23),E.opaque&&o.enable(24),y.push(o.mask)}function _(y){const E=g[y.type];let C;if(E){const P=An[E];C=t3.clone(P.uniforms)}else C=y.uniforms;return C}function x(y,E){let C;for(let P=0,L=c.length;P<L;P++){const k=c[P];if(k.cacheKey===E){C=k,++C.usedTimes;break}}return C===void 0&&(C=new fk(s,E,y,r),c.push(C)),C}function b(y){if(--y.usedTimes===0){const E=c.indexOf(y);c[E]=c[c.length-1],c.pop(),y.destroy()}}function S(y){l.remove(y)}function M(){l.dispose()}return{getParameters:p,getProgramCacheKey:m,getUniforms:_,acquireProgram:x,releaseProgram:b,releaseShaderCache:S,programs:c,dispose:M}}function gk(){let s=new WeakMap;function e(r){let a=s.get(r);return a===void 0&&(a={},s.set(r,a)),a}function t(r){s.delete(r)}function i(r,a,o){s.get(r)[a]=o}function n(){s=new WeakMap}return{get:e,remove:t,update:i,dispose:n}}function vk(s,e){return s.groupOrder!==e.groupOrder?s.groupOrder-e.groupOrder:s.renderOrder!==e.renderOrder?s.renderOrder-e.renderOrder:s.material.id!==e.material.id?s.material.id-e.material.id:s.z!==e.z?s.z-e.z:s.id-e.id}function gp(s,e){return s.groupOrder!==e.groupOrder?s.groupOrder-e.groupOrder:s.renderOrder!==e.renderOrder?s.renderOrder-e.renderOrder:s.z!==e.z?e.z-s.z:s.id-e.id}function vp(){const s=[];let e=0;const t=[],i=[],n=[];function r(){e=0,t.length=0,i.length=0,n.length=0}function a(h,f,d,g,p,m){let v=s[e];return v===void 0?(v={id:h.id,object:h,geometry:f,material:d,groupOrder:g,renderOrder:h.renderOrder,z:p,group:m},s[e]=v):(v.id=h.id,v.object=h,v.geometry=f,v.material=d,v.groupOrder=g,v.renderOrder=h.renderOrder,v.z=p,v.group=m),e++,v}function o(h,f,d,g,p,m){const v=a(h,f,d,g,p,m);d.transmission>0?i.push(v):d.transparent===!0?n.push(v):t.push(v)}function l(h,f,d,g,p,m){const v=a(h,f,d,g,p,m);d.transmission>0?i.unshift(v):d.transparent===!0?n.unshift(v):t.unshift(v)}function c(h,f){t.length>1&&t.sort(h||vk),i.length>1&&i.sort(f||gp),n.length>1&&n.sort(f||gp)}function u(){for(let h=e,f=s.length;h<f;h++){const d=s[h];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:t,transmissive:i,transparent:n,init:r,push:o,unshift:l,finish:u,sort:c}}function _k(){let s=new WeakMap;function e(i,n){const r=s.get(i);let a;return r===void 0?(a=new vp,s.set(i,[a])):n>=r.length?(a=new vp,r.push(a)):a=r[n],a}function t(){s=new WeakMap}return{get:e,dispose:t}}function wk(){const s={};return{get:function(e){if(s[e.id]!==void 0)return s[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new re,color:new Pt};break;case"SpotLight":t={position:new re,direction:new re,color:new Pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new re,color:new Pt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new re,skyColor:new Pt,groundColor:new Pt};break;case"RectAreaLight":t={color:new Pt,position:new re,halfWidth:new re,halfHeight:new re};break}return s[e.id]=t,t}}}function bk(){const s={};return{get:function(e){if(s[e.id]!==void 0)return s[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ht,shadowCameraNear:1,shadowCameraFar:1e3};break}return s[e.id]=t,t}}}let yk=0;function xk(s,e){return(e.castShadow?2:0)-(s.castShadow?2:0)+(e.map?1:0)-(s.map?1:0)}function Sk(s,e){const t=new wk,i=bk(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)n.probe.push(new re);const r=new re,a=new si,o=new si;function l(u,h){let f=0,d=0,g=0;for(let P=0;P<9;P++)n.probe[P].set(0,0,0);let p=0,m=0,v=0,w=0,_=0,x=0,b=0,S=0,M=0,y=0;u.sort(xk);const E=h!==!0?Math.PI:1;for(let P=0,L=u.length;P<L;P++){const k=u[P],A=k.color,I=k.intensity,R=k.distance,O=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)f+=A.r*I*E,d+=A.g*I*E,g+=A.b*I*E;else if(k.isLightProbe)for(let z=0;z<9;z++)n.probe[z].addScaledVector(k.sh.coefficients[z],I);else if(k.isDirectionalLight){const z=t.get(k);if(z.color.copy(k.color).multiplyScalar(k.intensity*E),k.castShadow){const V=k.shadow,$=i.get(k);$.shadowBias=V.bias,$.shadowNormalBias=V.normalBias,$.shadowRadius=V.radius,$.shadowMapSize=V.mapSize,n.directionalShadow[p]=$,n.directionalShadowMap[p]=O,n.directionalShadowMatrix[p]=k.shadow.matrix,x++}n.directional[p]=z,p++}else if(k.isSpotLight){const z=t.get(k);z.position.setFromMatrixPosition(k.matrixWorld),z.color.copy(A).multiplyScalar(I*E),z.distance=R,z.coneCos=Math.cos(k.angle),z.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),z.decay=k.decay,n.spot[v]=z;const V=k.shadow;if(k.map&&(n.spotLightMap[M]=k.map,M++,V.updateMatrices(k),k.castShadow&&y++),n.spotLightMatrix[v]=V.matrix,k.castShadow){const $=i.get(k);$.shadowBias=V.bias,$.shadowNormalBias=V.normalBias,$.shadowRadius=V.radius,$.shadowMapSize=V.mapSize,n.spotShadow[v]=$,n.spotShadowMap[v]=O,S++}v++}else if(k.isRectAreaLight){const z=t.get(k);z.color.copy(A).multiplyScalar(I),z.halfWidth.set(k.width*.5,0,0),z.halfHeight.set(0,k.height*.5,0),n.rectArea[w]=z,w++}else if(k.isPointLight){const z=t.get(k);if(z.color.copy(k.color).multiplyScalar(k.intensity*E),z.distance=k.distance,z.decay=k.decay,k.castShadow){const V=k.shadow,$=i.get(k);$.shadowBias=V.bias,$.shadowNormalBias=V.normalBias,$.shadowRadius=V.radius,$.shadowMapSize=V.mapSize,$.shadowCameraNear=V.camera.near,$.shadowCameraFar=V.camera.far,n.pointShadow[m]=$,n.pointShadowMap[m]=O,n.pointShadowMatrix[m]=k.shadow.matrix,b++}n.point[m]=z,m++}else if(k.isHemisphereLight){const z=t.get(k);z.skyColor.copy(k.color).multiplyScalar(I*E),z.groundColor.copy(k.groundColor).multiplyScalar(I*E),n.hemi[_]=z,_++}}w>0&&(e.isWebGL2||s.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=De.LTC_FLOAT_1,n.rectAreaLTC2=De.LTC_FLOAT_2):s.has("OES_texture_half_float_linear")===!0?(n.rectAreaLTC1=De.LTC_HALF_1,n.rectAreaLTC2=De.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),n.ambient[0]=f,n.ambient[1]=d,n.ambient[2]=g;const C=n.hash;(C.directionalLength!==p||C.pointLength!==m||C.spotLength!==v||C.rectAreaLength!==w||C.hemiLength!==_||C.numDirectionalShadows!==x||C.numPointShadows!==b||C.numSpotShadows!==S||C.numSpotMaps!==M)&&(n.directional.length=p,n.spot.length=v,n.rectArea.length=w,n.point.length=m,n.hemi.length=_,n.directionalShadow.length=x,n.directionalShadowMap.length=x,n.pointShadow.length=b,n.pointShadowMap.length=b,n.spotShadow.length=S,n.spotShadowMap.length=S,n.directionalShadowMatrix.length=x,n.pointShadowMatrix.length=b,n.spotLightMatrix.length=S+M-y,n.spotLightMap.length=M,n.numSpotLightShadowsWithMaps=y,C.directionalLength=p,C.pointLength=m,C.spotLength=v,C.rectAreaLength=w,C.hemiLength=_,C.numDirectionalShadows=x,C.numPointShadows=b,C.numSpotShadows=S,C.numSpotMaps=M,n.version=yk++)}function c(u,h){let f=0,d=0,g=0,p=0,m=0;const v=h.matrixWorldInverse;for(let w=0,_=u.length;w<_;w++){const x=u[w];if(x.isDirectionalLight){const b=n.directional[f];b.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(v),f++}else if(x.isSpotLight){const b=n.spot[g];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(v),b.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(v),g++}else if(x.isRectAreaLight){const b=n.rectArea[p];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(v),o.identity(),a.copy(x.matrixWorld),a.premultiply(v),o.extractRotation(a),b.halfWidth.set(x.width*.5,0,0),b.halfHeight.set(0,x.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),p++}else if(x.isPointLight){const b=n.point[d];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(v),d++}else if(x.isHemisphereLight){const b=n.hemi[m];b.direction.setFromMatrixPosition(x.matrixWorld),b.direction.transformDirection(v),m++}}}return{setup:l,setupView:c,state:n}}function _p(s,e){const t=new Sk(s,e),i=[],n=[];function r(){i.length=0,n.length=0}function a(h){i.push(h)}function o(h){n.push(h)}function l(h){t.setup(i,h)}function c(h){t.setupView(i,h)}return{init:r,state:{lightsArray:i,shadowsArray:n,lights:t},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function Mk(s,e){let t=new WeakMap;function i(r,a=0){const o=t.get(r);let l;return o===void 0?(l=new _p(s,e),t.set(r,[l])):a>=o.length?(l=new _p(s,e),o.push(l)):l=o[a],l}function n(){t=new WeakMap}return{get:i,dispose:n}}class Ek extends Ja{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=xT,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Tk extends Ja{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new re,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Ck=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Ak=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Lk(s,e,t){let i=new Gu;const n=new ht,r=new ht,a=new di,o=new Ek({depthPacking:ST}),l=new Tk,c={},u=t.maxTextureSize,h={[Ss]:Ji,[Ji]:Ss,[Zi]:Zi},f=new ir({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ht},radius:{value:4}},vertexShader:Ck,fragmentShader:Ak}),d=f.clone();d.defines.HORIZONTAL_PASS=1;const g=new Cs;g.setAttribute("position",new kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Oi(g,f),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=S0,this.render=function(x,b,S){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||x.length===0)return;const M=s.getRenderTarget(),y=s.getActiveCubeFace(),E=s.getActiveMipmapLevel(),C=s.state;C.setBlending(xs),C.buffers.color.setClear(1,1,1,1),C.buffers.depth.setTest(!0),C.setScissorTest(!1);for(let P=0,L=x.length;P<L;P++){const k=x[P],A=k.shadow;if(A===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(A.autoUpdate===!1&&A.needsUpdate===!1)continue;n.copy(A.mapSize);const I=A.getFrameExtents();if(n.multiply(I),r.copy(A.mapSize),(n.x>u||n.y>u)&&(n.x>u&&(r.x=Math.floor(u/I.x),n.x=r.x*I.x,A.mapSize.x=r.x),n.y>u&&(r.y=Math.floor(u/I.y),n.y=r.y*I.y,A.mapSize.y=r.y)),A.map===null){const O=this.type!==ba?{minFilter:Ai,magFilter:Ai}:{};A.map=new er(n.x,n.y,O),A.map.texture.name=k.name+".shadowMap",A.camera.updateProjectionMatrix()}s.setRenderTarget(A.map),s.clear();const R=A.getViewportCount();for(let O=0;O<R;O++){const z=A.getViewport(O);a.set(r.x*z.x,r.y*z.y,r.x*z.z,r.y*z.w),C.viewport(a),A.updateMatrices(k,O),i=A.getFrustum(),_(b,S,A.camera,k,this.type)}A.isPointLightShadow!==!0&&this.type===ba&&v(A,S),A.needsUpdate=!1}m.needsUpdate=!1,s.setRenderTarget(M,y,E)};function v(x,b){const S=e.update(p);f.defines.VSM_SAMPLES!==x.blurSamples&&(f.defines.VSM_SAMPLES=x.blurSamples,d.defines.VSM_SAMPLES=x.blurSamples,f.needsUpdate=!0,d.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new er(n.x,n.y)),f.uniforms.shadow_pass.value=x.map.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,s.setRenderTarget(x.mapPass),s.clear(),s.renderBufferDirect(b,null,S,f,p,null),d.uniforms.shadow_pass.value=x.mapPass.texture,d.uniforms.resolution.value=x.mapSize,d.uniforms.radius.value=x.radius,s.setRenderTarget(x.map),s.clear(),s.renderBufferDirect(b,null,S,d,p,null)}function w(x,b,S,M,y,E){let C=null;const P=S.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(P!==void 0)C=P;else if(C=S.isPointLight===!0?l:o,s.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const L=C.uuid,k=b.uuid;let A=c[L];A===void 0&&(A={},c[L]=A);let I=A[k];I===void 0&&(I=C.clone(),A[k]=I),C=I}return C.visible=b.visible,C.wireframe=b.wireframe,E===ba?C.side=b.shadowSide!==null?b.shadowSide:b.side:C.side=b.shadowSide!==null?b.shadowSide:h[b.side],C.alphaMap=b.alphaMap,C.alphaTest=b.alphaTest,C.map=b.map,C.clipShadows=b.clipShadows,C.clippingPlanes=b.clippingPlanes,C.clipIntersection=b.clipIntersection,C.displacementMap=b.displacementMap,C.displacementScale=b.displacementScale,C.displacementBias=b.displacementBias,C.wireframeLinewidth=b.wireframeLinewidth,C.linewidth=b.linewidth,S.isPointLight===!0&&C.isMeshDistanceMaterial===!0&&(C.referencePosition.setFromMatrixPosition(S.matrixWorld),C.nearDistance=M,C.farDistance=y),C}function _(x,b,S,M,y){if(x.visible===!1)return;if(x.layers.test(b.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&y===ba)&&(!x.frustumCulled||i.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,x.matrixWorld);const P=e.update(x),L=x.material;if(Array.isArray(L)){const k=P.groups;for(let A=0,I=k.length;A<I;A++){const R=k[A],O=L[R.materialIndex];if(O&&O.visible){const z=w(x,O,M,S.near,S.far,y);s.renderBufferDirect(S,null,P,z,x,R)}}}else if(L.visible){const k=w(x,L,M,S.near,S.far,y);s.renderBufferDirect(S,null,P,k,x,null)}}const C=x.children;for(let P=0,L=C.length;P<L;P++)_(C[P],b,S,M,y)}}function kk(s,e,t){const i=t.isWebGL2;function n(){let ne=!1;const de=new di;let Te=null;const Be=new di(0,0,0,0);return{setMask:function(We){Te!==We&&!ne&&(s.colorMask(We,We,We,We),Te=We)},setLocked:function(We){ne=We},setClear:function(We,At,ci,vi,As){As===!0&&(We*=vi,At*=vi,ci*=vi),de.set(We,At,ci,vi),Be.equals(de)===!1&&(s.clearColor(We,At,ci,vi),Be.copy(de))},reset:function(){ne=!1,Te=null,Be.set(-1,0,0,0)}}}function r(){let ne=!1,de=null,Te=null,Be=null;return{setTest:function(We){We?ie(2929):oe(2929)},setMask:function(We){de!==We&&!ne&&(s.depthMask(We),de=We)},setFunc:function(We){if(Te!==We){switch(We){case YE:s.depthFunc(512);break;case qE:s.depthFunc(519);break;case XE:s.depthFunc(513);break;case Yc:s.depthFunc(515);break;case ZE:s.depthFunc(514);break;case $E:s.depthFunc(518);break;case KE:s.depthFunc(516);break;case JE:s.depthFunc(517);break;default:s.depthFunc(515)}Te=We}},setLocked:function(We){ne=We},setClear:function(We){Be!==We&&(s.clearDepth(We),Be=We)},reset:function(){ne=!1,de=null,Te=null,Be=null}}}function a(){let ne=!1,de=null,Te=null,Be=null,We=null,At=null,ci=null,vi=null,As=null;return{setTest:function(Bt){ne||(Bt?ie(2960):oe(2960))},setMask:function(Bt){de!==Bt&&!ne&&(s.stencilMask(Bt),de=Bt)},setFunc:function(Bt,On,nn){(Te!==Bt||Be!==On||We!==nn)&&(s.stencilFunc(Bt,On,nn),Te=Bt,Be=On,We=nn)},setOp:function(Bt,On,nn){(At!==Bt||ci!==On||vi!==nn)&&(s.stencilOp(Bt,On,nn),At=Bt,ci=On,vi=nn)},setLocked:function(Bt){ne=Bt},setClear:function(Bt){As!==Bt&&(s.clearStencil(Bt),As=Bt)},reset:function(){ne=!1,de=null,Te=null,Be=null,We=null,At=null,ci=null,vi=null,As=null}}}const o=new n,l=new r,c=new a,u=new WeakMap,h=new WeakMap;let f={},d={},g=new WeakMap,p=[],m=null,v=!1,w=null,_=null,x=null,b=null,S=null,M=null,y=null,E=!1,C=null,P=null,L=null,k=null,A=null;const I=s.getParameter(35661);let R=!1,O=0;const z=s.getParameter(7938);z.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(z)[1]),R=O>=1):z.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),R=O>=2);let V=null,$={};const K=s.getParameter(3088),U=s.getParameter(2978),ee=new di().fromArray(K),Z=new di().fromArray(U);function te(ne,de,Te){const Be=new Uint8Array(4),We=s.createTexture();s.bindTexture(ne,We),s.texParameteri(ne,10241,9728),s.texParameteri(ne,10240,9728);for(let At=0;At<Te;At++)s.texImage2D(de+At,0,6408,1,1,0,6408,5121,Be);return We}const j={};j[3553]=te(3553,3553,1),j[34067]=te(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ie(2929),l.setFunc(Yc),lt(!1),It(lh),ie(2884),ot(xs);function ie(ne){f[ne]!==!0&&(s.enable(ne),f[ne]=!0)}function oe(ne){f[ne]!==!1&&(s.disable(ne),f[ne]=!1)}function ve(ne,de){return d[ne]!==de?(s.bindFramebuffer(ne,de),d[ne]=de,i&&(ne===36009&&(d[36160]=de),ne===36160&&(d[36009]=de)),!0):!1}function ge(ne,de){let Te=p,Be=!1;if(ne)if(Te=g.get(de),Te===void 0&&(Te=[],g.set(de,Te)),ne.isWebGLMultipleRenderTargets){const We=ne.texture;if(Te.length!==We.length||Te[0]!==36064){for(let At=0,ci=We.length;At<ci;At++)Te[At]=36064+At;Te.length=We.length,Be=!0}}else Te[0]!==36064&&(Te[0]=36064,Be=!0);else Te[0]!==1029&&(Te[0]=1029,Be=!0);Be&&(t.isWebGL2?s.drawBuffers(Te):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Te))}function Le(ne){return m!==ne?(s.useProgram(ne),m=ne,!0):!1}const Re={[Tr]:32774,[zE]:32778,[FE]:32779};if(i)Re[dh]=32775,Re[hh]=32776;else{const ne=e.get("EXT_blend_minmax");ne!==null&&(Re[dh]=ne.MIN_EXT,Re[hh]=ne.MAX_EXT)}const ke={[OE]:0,[NE]:1,[BE]:768,[M0]:770,[jE]:776,[GE]:774,[UE]:772,[VE]:769,[E0]:771,[HE]:775,[WE]:773};function ot(ne,de,Te,Be,We,At,ci,vi){if(ne===xs){v===!0&&(oe(3042),v=!1);return}if(v===!1&&(ie(3042),v=!0),ne!==RE){if(ne!==w||vi!==E){if((_!==Tr||S!==Tr)&&(s.blendEquation(32774),_=Tr,S=Tr),vi)switch(ne){case Rr:s.blendFuncSeparate(1,771,1,771);break;case ch:s.blendFunc(1,1);break;case uh:s.blendFuncSeparate(0,769,0,1);break;case fh:s.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}else switch(ne){case Rr:s.blendFuncSeparate(770,771,1,771);break;case ch:s.blendFunc(770,1);break;case uh:s.blendFuncSeparate(0,769,0,1);break;case fh:s.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}x=null,b=null,M=null,y=null,w=ne,E=vi}return}We=We||de,At=At||Te,ci=ci||Be,(de!==_||We!==S)&&(s.blendEquationSeparate(Re[de],Re[We]),_=de,S=We),(Te!==x||Be!==b||At!==M||ci!==y)&&(s.blendFuncSeparate(ke[Te],ke[Be],ke[At],ke[ci]),x=Te,b=Be,M=At,y=ci),w=ne,E=!1}function tt(ne,de){ne.side===Zi?oe(2884):ie(2884);let Te=ne.side===Ji;de&&(Te=!Te),lt(Te),ne.blending===Rr&&ne.transparent===!1?ot(xs):ot(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.premultipliedAlpha),l.setFunc(ne.depthFunc),l.setTest(ne.depthTest),l.setMask(ne.depthWrite),o.setMask(ne.colorWrite);const Be=ne.stencilWrite;c.setTest(Be),Be&&(c.setMask(ne.stencilWriteMask),c.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),c.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),it(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?ie(32926):oe(32926)}function lt(ne){C!==ne&&(ne?s.frontFace(2304):s.frontFace(2305),C=ne)}function It(ne){ne!==PE?(ie(2884),ne!==P&&(ne===lh?s.cullFace(1029):ne===DE?s.cullFace(1028):s.cullFace(1032))):oe(2884),P=ne}function vt(ne){ne!==L&&(R&&s.lineWidth(ne),L=ne)}function it(ne,de,Te){ne?(ie(32823),(k!==de||A!==Te)&&(s.polygonOffset(de,Te),k=de,A=Te)):oe(32823)}function oi(ne){ne?ie(3089):oe(3089)}function pi(ne){ne===void 0&&(ne=33984+I-1),V!==ne&&(s.activeTexture(ne),V=ne)}function J(ne,de,Te){Te===void 0&&(V===null?Te=33984+I-1:Te=V);let Be=$[Te];Be===void 0&&(Be={type:void 0,texture:void 0},$[Te]=Be),(Be.type!==ne||Be.texture!==de)&&(V!==Te&&(s.activeTexture(Te),V=Te),s.bindTexture(ne,de||j[ne]),Be.type=ne,Be.texture=de)}function H(){const ne=$[V];ne!==void 0&&ne.type!==void 0&&(s.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function fe(){try{s.compressedTexImage2D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ye(){try{s.compressedTexImage3D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ae(){try{s.texSubImage2D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ze(){try{s.texSubImage3D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function rt(){try{s.compressedTexSubImage2D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Oe(){try{s.compressedTexSubImage3D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function me(){try{s.texStorage2D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ke(){try{s.texStorage3D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function et(){try{s.texImage2D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ue(){try{s.texImage3D.apply(s,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Je(ne){ee.equals(ne)===!1&&(s.scissor(ne.x,ne.y,ne.z,ne.w),ee.copy(ne))}function qe(ne){Z.equals(ne)===!1&&(s.viewport(ne.x,ne.y,ne.z,ne.w),Z.copy(ne))}function xt(ne,de){let Te=h.get(de);Te===void 0&&(Te=new WeakMap,h.set(de,Te));let Be=Te.get(ne);Be===void 0&&(Be=s.getUniformBlockIndex(de,ne.name),Te.set(ne,Be))}function Nt(ne,de){const Be=h.get(de).get(ne);u.get(de)!==Be&&(s.uniformBlockBinding(de,Be,ne.__bindingPointIndex),u.set(de,Be))}function li(){s.disable(3042),s.disable(2884),s.disable(2929),s.disable(32823),s.disable(3089),s.disable(2960),s.disable(32926),s.blendEquation(32774),s.blendFunc(1,0),s.blendFuncSeparate(1,0,1,0),s.colorMask(!0,!0,!0,!0),s.clearColor(0,0,0,0),s.depthMask(!0),s.depthFunc(513),s.clearDepth(1),s.stencilMask(4294967295),s.stencilFunc(519,0,4294967295),s.stencilOp(7680,7680,7680),s.clearStencil(0),s.cullFace(1029),s.frontFace(2305),s.polygonOffset(0,0),s.activeTexture(33984),s.bindFramebuffer(36160,null),i===!0&&(s.bindFramebuffer(36009,null),s.bindFramebuffer(36008,null)),s.useProgram(null),s.lineWidth(1),s.scissor(0,0,s.canvas.width,s.canvas.height),s.viewport(0,0,s.canvas.width,s.canvas.height),f={},V=null,$={},d={},g=new WeakMap,p=[],m=null,v=!1,w=null,_=null,x=null,b=null,S=null,M=null,y=null,E=!1,C=null,P=null,L=null,k=null,A=null,ee.set(0,0,s.canvas.width,s.canvas.height),Z.set(0,0,s.canvas.width,s.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:ie,disable:oe,bindFramebuffer:ve,drawBuffers:ge,useProgram:Le,setBlending:ot,setMaterial:tt,setFlipSided:lt,setCullFace:It,setLineWidth:vt,setPolygonOffset:it,setScissorTest:oi,activeTexture:pi,bindTexture:J,unbindTexture:H,compressedTexImage2D:fe,compressedTexImage3D:ye,texImage2D:et,texImage3D:Ue,updateUBOMapping:xt,uniformBlockBinding:Nt,texStorage2D:me,texStorage3D:Ke,texSubImage2D:Ae,texSubImage3D:ze,compressedTexSubImage2D:rt,compressedTexSubImage3D:Oe,scissor:Je,viewport:qe,reset:li}}function Pk(s,e,t,i,n,r,a){const o=n.isWebGL2,l=n.maxTextures,c=n.maxCubemapSize,u=n.maxTextureSize,h=n.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let p;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(J,H){return v?new OffscreenCanvas(J,H):Ko("canvas")}function _(J,H,fe,ye){let Ae=1;if((J.width>ye||J.height>ye)&&(Ae=ye/Math.max(J.width,J.height)),Ae<1||H===!0)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap){const ze=H?$o:Math.floor,rt=ze(Ae*J.width),Oe=ze(Ae*J.height);p===void 0&&(p=w(rt,Oe));const me=fe?w(rt,Oe):p;return me.width=rt,me.height=Oe,me.getContext("2d").drawImage(J,0,0,rt,Oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+rt+"x"+Oe+")."),me}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),J;return J}function x(J){return Jc(J.width)&&Jc(J.height)}function b(J){return o?!1:J.wrapS!==gn||J.wrapT!==gn||J.minFilter!==Ai&&J.minFilter!==on}function S(J,H){return J.generateMipmaps&&H&&J.minFilter!==Ai&&J.minFilter!==on}function M(J){s.generateMipmap(J)}function y(J,H,fe,ye,Ae=!1){if(o===!1)return H;if(J!==null){if(s[J]!==void 0)return s[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let ze=H;return H===6403&&(fe===5126&&(ze=33326),fe===5131&&(ze=33325),fe===5121&&(ze=33321)),H===33319&&(fe===5126&&(ze=33328),fe===5131&&(ze=33327),fe===5121&&(ze=33323)),H===6408&&(fe===5126&&(ze=34836),fe===5131&&(ze=34842),fe===5121&&(ze=ye===zt&&Ae===!1?35907:32856),fe===32819&&(ze=32854),fe===32820&&(ze=32855)),(ze===33325||ze===33326||ze===33327||ze===33328||ze===34842||ze===34836)&&e.get("EXT_color_buffer_float"),ze}function E(J,H,fe){return S(J,fe)===!0||J.isFramebufferTexture&&J.minFilter!==Ai&&J.minFilter!==on?Math.log2(Math.max(H.width,H.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?H.mipmaps.length:1}function C(J){return J===Ai||J===ph||J===Zl?9728:9729}function P(J){const H=J.target;H.removeEventListener("dispose",P),k(H),H.isVideoTexture&&g.delete(H)}function L(J){const H=J.target;H.removeEventListener("dispose",L),I(H)}function k(J){const H=i.get(J);if(H.__webglInit===void 0)return;const fe=J.source,ye=m.get(fe);if(ye){const Ae=ye[H.__cacheKey];Ae.usedTimes--,Ae.usedTimes===0&&A(J),Object.keys(ye).length===0&&m.delete(fe)}i.remove(J)}function A(J){const H=i.get(J);s.deleteTexture(H.__webglTexture);const fe=J.source,ye=m.get(fe);delete ye[H.__cacheKey],a.memory.textures--}function I(J){const H=J.texture,fe=i.get(J),ye=i.get(H);if(ye.__webglTexture!==void 0&&(s.deleteTexture(ye.__webglTexture),a.memory.textures--),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++)s.deleteFramebuffer(fe.__webglFramebuffer[Ae]),fe.__webglDepthbuffer&&s.deleteRenderbuffer(fe.__webglDepthbuffer[Ae]);else{if(s.deleteFramebuffer(fe.__webglFramebuffer),fe.__webglDepthbuffer&&s.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&s.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let Ae=0;Ae<fe.__webglColorRenderbuffer.length;Ae++)fe.__webglColorRenderbuffer[Ae]&&s.deleteRenderbuffer(fe.__webglColorRenderbuffer[Ae]);fe.__webglDepthRenderbuffer&&s.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(J.isWebGLMultipleRenderTargets)for(let Ae=0,ze=H.length;Ae<ze;Ae++){const rt=i.get(H[Ae]);rt.__webglTexture&&(s.deleteTexture(rt.__webglTexture),a.memory.textures--),i.remove(H[Ae])}i.remove(H),i.remove(J)}let R=0;function O(){R=0}function z(){const J=R;return J>=l&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+l),R+=1,J}function V(J){const H=[];return H.push(J.wrapS),H.push(J.wrapT),H.push(J.wrapR||0),H.push(J.magFilter),H.push(J.minFilter),H.push(J.anisotropy),H.push(J.internalFormat),H.push(J.format),H.push(J.type),H.push(J.generateMipmaps),H.push(J.premultiplyAlpha),H.push(J.flipY),H.push(J.unpackAlignment),H.push(J.encoding),H.join()}function $(J,H){const fe=i.get(J);if(J.isVideoTexture&&oi(J),J.isRenderTargetTexture===!1&&J.version>0&&fe.__version!==J.version){const ye=J.image;if(ye===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ye.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{oe(fe,J,H);return}}t.bindTexture(3553,fe.__webglTexture,33984+H)}function K(J,H){const fe=i.get(J);if(J.version>0&&fe.__version!==J.version){oe(fe,J,H);return}t.bindTexture(35866,fe.__webglTexture,33984+H)}function U(J,H){const fe=i.get(J);if(J.version>0&&fe.__version!==J.version){oe(fe,J,H);return}t.bindTexture(32879,fe.__webglTexture,33984+H)}function ee(J,H){const fe=i.get(J);if(J.version>0&&fe.__version!==J.version){ve(fe,J,H);return}t.bindTexture(34067,fe.__webglTexture,33984+H)}const Z={[Zc]:10497,[gn]:33071,[$c]:33648},te={[Ai]:9728,[ph]:9984,[Zl]:9986,[on]:9729,[aT]:9985,[Na]:9987};function j(J,H,fe){if(fe?(s.texParameteri(J,10242,Z[H.wrapS]),s.texParameteri(J,10243,Z[H.wrapT]),(J===32879||J===35866)&&s.texParameteri(J,32882,Z[H.wrapR]),s.texParameteri(J,10240,te[H.magFilter]),s.texParameteri(J,10241,te[H.minFilter])):(s.texParameteri(J,10242,33071),s.texParameteri(J,10243,33071),(J===32879||J===35866)&&s.texParameteri(J,32882,33071),(H.wrapS!==gn||H.wrapT!==gn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),s.texParameteri(J,10240,C(H.magFilter)),s.texParameteri(J,10241,C(H.minFilter)),H.minFilter!==Ai&&H.minFilter!==on&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ye=e.get("EXT_texture_filter_anisotropic");if(H.magFilter===Ai||H.minFilter!==Zl&&H.minFilter!==Na||H.type===Gs&&e.has("OES_texture_float_linear")===!1||o===!1&&H.type===Ba&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||i.get(H).__currentAnisotropy)&&(s.texParameterf(J,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,n.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy)}}function ie(J,H){let fe=!1;J.__webglInit===void 0&&(J.__webglInit=!0,H.addEventListener("dispose",P));const ye=H.source;let Ae=m.get(ye);Ae===void 0&&(Ae={},m.set(ye,Ae));const ze=V(H);if(ze!==J.__cacheKey){Ae[ze]===void 0&&(Ae[ze]={texture:s.createTexture(),usedTimes:0},a.memory.textures++,fe=!0),Ae[ze].usedTimes++;const rt=Ae[J.__cacheKey];rt!==void 0&&(Ae[J.__cacheKey].usedTimes--,rt.usedTimes===0&&A(H)),J.__cacheKey=ze,J.__webglTexture=Ae[ze].texture}return fe}function oe(J,H,fe){let ye=3553;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(ye=35866),H.isData3DTexture&&(ye=32879);const Ae=ie(J,H),ze=H.source;t.bindTexture(ye,J.__webglTexture,33984+fe);const rt=i.get(ze);if(ze.version!==rt.__version||Ae===!0){t.activeTexture(33984+fe),s.pixelStorei(37440,H.flipY),s.pixelStorei(37441,H.premultiplyAlpha),s.pixelStorei(3317,H.unpackAlignment),s.pixelStorei(37443,0);const Oe=b(H)&&x(H.image)===!1;let me=_(H.image,Oe,!1,u);me=pi(H,me);const Ke=x(me)||o,et=r.convert(H.format,H.encoding);let Ue=r.convert(H.type),Je=y(H.internalFormat,et,Ue,H.encoding,H.isVideoTexture);j(ye,H,Ke);let qe;const xt=H.mipmaps,Nt=o&&H.isVideoTexture!==!0,li=rt.__version===void 0||Ae===!0,ne=E(H,me,Ke);if(H.isDepthTexture)Je=6402,o?H.type===Gs?Je=36012:H.type===Ws?Je=33190:H.type===zr?Je=35056:Je=33189:H.type===Gs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===Ys&&Je===6402&&H.type!==C0&&H.type!==Ws&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=Ws,Ue=r.convert(H.type)),H.format===Hr&&Je===6402&&(Je=34041,H.type!==zr&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=zr,Ue=r.convert(H.type))),li&&(Nt?t.texStorage2D(3553,1,Je,me.width,me.height):t.texImage2D(3553,0,Je,me.width,me.height,0,et,Ue,null));else if(H.isDataTexture)if(xt.length>0&&Ke){Nt&&li&&t.texStorage2D(3553,ne,Je,xt[0].width,xt[0].height);for(let de=0,Te=xt.length;de<Te;de++)qe=xt[de],Nt?t.texSubImage2D(3553,de,0,0,qe.width,qe.height,et,Ue,qe.data):t.texImage2D(3553,de,Je,qe.width,qe.height,0,et,Ue,qe.data);H.generateMipmaps=!1}else Nt?(li&&t.texStorage2D(3553,ne,Je,me.width,me.height),t.texSubImage2D(3553,0,0,0,me.width,me.height,et,Ue,me.data)):t.texImage2D(3553,0,Je,me.width,me.height,0,et,Ue,me.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){Nt&&li&&t.texStorage3D(35866,ne,Je,xt[0].width,xt[0].height,me.depth);for(let de=0,Te=xt.length;de<Te;de++)qe=xt[de],H.format!==vn?et!==null?Nt?t.compressedTexSubImage3D(35866,de,0,0,0,qe.width,qe.height,me.depth,et,qe.data,0,0):t.compressedTexImage3D(35866,de,Je,qe.width,qe.height,me.depth,0,qe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Nt?t.texSubImage3D(35866,de,0,0,0,qe.width,qe.height,me.depth,et,Ue,qe.data):t.texImage3D(35866,de,Je,qe.width,qe.height,me.depth,0,et,Ue,qe.data)}else{Nt&&li&&t.texStorage2D(3553,ne,Je,xt[0].width,xt[0].height);for(let de=0,Te=xt.length;de<Te;de++)qe=xt[de],H.format!==vn?et!==null?Nt?t.compressedTexSubImage2D(3553,de,0,0,qe.width,qe.height,et,qe.data):t.compressedTexImage2D(3553,de,Je,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Nt?t.texSubImage2D(3553,de,0,0,qe.width,qe.height,et,Ue,qe.data):t.texImage2D(3553,de,Je,qe.width,qe.height,0,et,Ue,qe.data)}else if(H.isDataArrayTexture)Nt?(li&&t.texStorage3D(35866,ne,Je,me.width,me.height,me.depth),t.texSubImage3D(35866,0,0,0,0,me.width,me.height,me.depth,et,Ue,me.data)):t.texImage3D(35866,0,Je,me.width,me.height,me.depth,0,et,Ue,me.data);else if(H.isData3DTexture)Nt?(li&&t.texStorage3D(32879,ne,Je,me.width,me.height,me.depth),t.texSubImage3D(32879,0,0,0,0,me.width,me.height,me.depth,et,Ue,me.data)):t.texImage3D(32879,0,Je,me.width,me.height,me.depth,0,et,Ue,me.data);else if(H.isFramebufferTexture){if(li)if(Nt)t.texStorage2D(3553,ne,Je,me.width,me.height);else{let de=me.width,Te=me.height;for(let Be=0;Be<ne;Be++)t.texImage2D(3553,Be,Je,de,Te,0,et,Ue,null),de>>=1,Te>>=1}}else if(xt.length>0&&Ke){Nt&&li&&t.texStorage2D(3553,ne,Je,xt[0].width,xt[0].height);for(let de=0,Te=xt.length;de<Te;de++)qe=xt[de],Nt?t.texSubImage2D(3553,de,0,0,et,Ue,qe):t.texImage2D(3553,de,Je,et,Ue,qe);H.generateMipmaps=!1}else Nt?(li&&t.texStorage2D(3553,ne,Je,me.width,me.height),t.texSubImage2D(3553,0,0,0,et,Ue,me)):t.texImage2D(3553,0,Je,et,Ue,me);S(H,Ke)&&M(ye),rt.__version=ze.version,H.onUpdate&&H.onUpdate(H)}J.__version=H.version}function ve(J,H,fe){if(H.image.length!==6)return;const ye=ie(J,H),Ae=H.source;t.bindTexture(34067,J.__webglTexture,33984+fe);const ze=i.get(Ae);if(Ae.version!==ze.__version||ye===!0){t.activeTexture(33984+fe),s.pixelStorei(37440,H.flipY),s.pixelStorei(37441,H.premultiplyAlpha),s.pixelStorei(3317,H.unpackAlignment),s.pixelStorei(37443,0);const rt=H.isCompressedTexture||H.image[0].isCompressedTexture,Oe=H.image[0]&&H.image[0].isDataTexture,me=[];for(let de=0;de<6;de++)!rt&&!Oe?me[de]=_(H.image[de],!1,!0,c):me[de]=Oe?H.image[de].image:H.image[de],me[de]=pi(H,me[de]);const Ke=me[0],et=x(Ke)||o,Ue=r.convert(H.format,H.encoding),Je=r.convert(H.type),qe=y(H.internalFormat,Ue,Je,H.encoding),xt=o&&H.isVideoTexture!==!0,Nt=ze.__version===void 0||ye===!0;let li=E(H,Ke,et);j(34067,H,et);let ne;if(rt){xt&&Nt&&t.texStorage2D(34067,li,qe,Ke.width,Ke.height);for(let de=0;de<6;de++){ne=me[de].mipmaps;for(let Te=0;Te<ne.length;Te++){const Be=ne[Te];H.format!==vn?Ue!==null?xt?t.compressedTexSubImage2D(34069+de,Te,0,0,Be.width,Be.height,Ue,Be.data):t.compressedTexImage2D(34069+de,Te,qe,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):xt?t.texSubImage2D(34069+de,Te,0,0,Be.width,Be.height,Ue,Je,Be.data):t.texImage2D(34069+de,Te,qe,Be.width,Be.height,0,Ue,Je,Be.data)}}}else{ne=H.mipmaps,xt&&Nt&&(ne.length>0&&li++,t.texStorage2D(34067,li,qe,me[0].width,me[0].height));for(let de=0;de<6;de++)if(Oe){xt?t.texSubImage2D(34069+de,0,0,0,me[de].width,me[de].height,Ue,Je,me[de].data):t.texImage2D(34069+de,0,qe,me[de].width,me[de].height,0,Ue,Je,me[de].data);for(let Te=0;Te<ne.length;Te++){const We=ne[Te].image[de].image;xt?t.texSubImage2D(34069+de,Te+1,0,0,We.width,We.height,Ue,Je,We.data):t.texImage2D(34069+de,Te+1,qe,We.width,We.height,0,Ue,Je,We.data)}}else{xt?t.texSubImage2D(34069+de,0,0,0,Ue,Je,me[de]):t.texImage2D(34069+de,0,qe,Ue,Je,me[de]);for(let Te=0;Te<ne.length;Te++){const Be=ne[Te];xt?t.texSubImage2D(34069+de,Te+1,0,0,Ue,Je,Be.image[de]):t.texImage2D(34069+de,Te+1,qe,Ue,Je,Be.image[de])}}}S(H,et)&&M(34067),ze.__version=Ae.version,H.onUpdate&&H.onUpdate(H)}J.__version=H.version}function ge(J,H,fe,ye,Ae){const ze=r.convert(fe.format,fe.encoding),rt=r.convert(fe.type),Oe=y(fe.internalFormat,ze,rt,fe.encoding);i.get(H).__hasExternalTextures||(Ae===32879||Ae===35866?t.texImage3D(Ae,0,Oe,H.width,H.height,H.depth,0,ze,rt,null):t.texImage2D(Ae,0,Oe,H.width,H.height,0,ze,rt,null)),t.bindFramebuffer(36160,J),it(H)?f.framebufferTexture2DMultisampleEXT(36160,ye,Ae,i.get(fe).__webglTexture,0,vt(H)):(Ae===3553||Ae>=34069&&Ae<=34074)&&s.framebufferTexture2D(36160,ye,Ae,i.get(fe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Le(J,H,fe){if(s.bindRenderbuffer(36161,J),H.depthBuffer&&!H.stencilBuffer){let ye=33189;if(fe||it(H)){const Ae=H.depthTexture;Ae&&Ae.isDepthTexture&&(Ae.type===Gs?ye=36012:Ae.type===Ws&&(ye=33190));const ze=vt(H);it(H)?f.renderbufferStorageMultisampleEXT(36161,ze,ye,H.width,H.height):s.renderbufferStorageMultisample(36161,ze,ye,H.width,H.height)}else s.renderbufferStorage(36161,ye,H.width,H.height);s.framebufferRenderbuffer(36160,36096,36161,J)}else if(H.depthBuffer&&H.stencilBuffer){const ye=vt(H);fe&&it(H)===!1?s.renderbufferStorageMultisample(36161,ye,35056,H.width,H.height):it(H)?f.renderbufferStorageMultisampleEXT(36161,ye,35056,H.width,H.height):s.renderbufferStorage(36161,34041,H.width,H.height),s.framebufferRenderbuffer(36160,33306,36161,J)}else{const ye=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let Ae=0;Ae<ye.length;Ae++){const ze=ye[Ae],rt=r.convert(ze.format,ze.encoding),Oe=r.convert(ze.type),me=y(ze.internalFormat,rt,Oe,ze.encoding),Ke=vt(H);fe&&it(H)===!1?s.renderbufferStorageMultisample(36161,Ke,me,H.width,H.height):it(H)?f.renderbufferStorageMultisampleEXT(36161,Ke,me,H.width,H.height):s.renderbufferStorage(36161,me,H.width,H.height)}}s.bindRenderbuffer(36161,null)}function Re(J,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,J),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),$(H.depthTexture,0);const ye=i.get(H.depthTexture).__webglTexture,Ae=vt(H);if(H.depthTexture.format===Ys)it(H)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,ye,0,Ae):s.framebufferTexture2D(36160,36096,3553,ye,0);else if(H.depthTexture.format===Hr)it(H)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,ye,0,Ae):s.framebufferTexture2D(36160,33306,3553,ye,0);else throw new Error("Unknown depthTexture format")}function ke(J){const H=i.get(J),fe=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!H.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");Re(H.__webglFramebuffer,J)}else if(fe){H.__webglDepthbuffer=[];for(let ye=0;ye<6;ye++)t.bindFramebuffer(36160,H.__webglFramebuffer[ye]),H.__webglDepthbuffer[ye]=s.createRenderbuffer(),Le(H.__webglDepthbuffer[ye],J,!1)}else t.bindFramebuffer(36160,H.__webglFramebuffer),H.__webglDepthbuffer=s.createRenderbuffer(),Le(H.__webglDepthbuffer,J,!1);t.bindFramebuffer(36160,null)}function ot(J,H,fe){const ye=i.get(J);H!==void 0&&ge(ye.__webglFramebuffer,J,J.texture,36064,3553),fe!==void 0&&ke(J)}function tt(J){const H=J.texture,fe=i.get(J),ye=i.get(H);J.addEventListener("dispose",L),J.isWebGLMultipleRenderTargets!==!0&&(ye.__webglTexture===void 0&&(ye.__webglTexture=s.createTexture()),ye.__version=H.version,a.memory.textures++);const Ae=J.isWebGLCubeRenderTarget===!0,ze=J.isWebGLMultipleRenderTargets===!0,rt=x(J)||o;if(Ae){fe.__webglFramebuffer=[];for(let Oe=0;Oe<6;Oe++)fe.__webglFramebuffer[Oe]=s.createFramebuffer()}else{if(fe.__webglFramebuffer=s.createFramebuffer(),ze)if(n.drawBuffers){const Oe=J.texture;for(let me=0,Ke=Oe.length;me<Ke;me++){const et=i.get(Oe[me]);et.__webglTexture===void 0&&(et.__webglTexture=s.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&J.samples>0&&it(J)===!1){const Oe=ze?H:[H];fe.__webglMultisampledFramebuffer=s.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer);for(let me=0;me<Oe.length;me++){const Ke=Oe[me];fe.__webglColorRenderbuffer[me]=s.createRenderbuffer(),s.bindRenderbuffer(36161,fe.__webglColorRenderbuffer[me]);const et=r.convert(Ke.format,Ke.encoding),Ue=r.convert(Ke.type),Je=y(Ke.internalFormat,et,Ue,Ke.encoding,J.isXRRenderTarget===!0),qe=vt(J);s.renderbufferStorageMultisample(36161,qe,Je,J.width,J.height),s.framebufferRenderbuffer(36160,36064+me,36161,fe.__webglColorRenderbuffer[me])}s.bindRenderbuffer(36161,null),J.depthBuffer&&(fe.__webglDepthRenderbuffer=s.createRenderbuffer(),Le(fe.__webglDepthRenderbuffer,J,!0)),t.bindFramebuffer(36160,null)}}if(Ae){t.bindTexture(34067,ye.__webglTexture),j(34067,H,rt);for(let Oe=0;Oe<6;Oe++)ge(fe.__webglFramebuffer[Oe],J,H,36064,34069+Oe);S(H,rt)&&M(34067),t.unbindTexture()}else if(ze){const Oe=J.texture;for(let me=0,Ke=Oe.length;me<Ke;me++){const et=Oe[me],Ue=i.get(et);t.bindTexture(3553,Ue.__webglTexture),j(3553,et,rt),ge(fe.__webglFramebuffer,J,et,36064+me,3553),S(et,rt)&&M(3553)}t.unbindTexture()}else{let Oe=3553;(J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(o?Oe=J.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Oe,ye.__webglTexture),j(Oe,H,rt),ge(fe.__webglFramebuffer,J,H,36064,Oe),S(H,rt)&&M(Oe),t.unbindTexture()}J.depthBuffer&&ke(J)}function lt(J){const H=x(J)||o,fe=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let ye=0,Ae=fe.length;ye<Ae;ye++){const ze=fe[ye];if(S(ze,H)){const rt=J.isWebGLCubeRenderTarget?34067:3553,Oe=i.get(ze).__webglTexture;t.bindTexture(rt,Oe),M(rt),t.unbindTexture()}}}function It(J){if(o&&J.samples>0&&it(J)===!1){const H=J.isWebGLMultipleRenderTargets?J.texture:[J.texture],fe=J.width,ye=J.height;let Ae=16384;const ze=[],rt=J.stencilBuffer?33306:36096,Oe=i.get(J),me=J.isWebGLMultipleRenderTargets===!0;if(me)for(let Ke=0;Ke<H.length;Ke++)t.bindFramebuffer(36160,Oe.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(36160,36064+Ke,36161,null),t.bindFramebuffer(36160,Oe.__webglFramebuffer),s.framebufferTexture2D(36009,36064+Ke,3553,null,0);t.bindFramebuffer(36008,Oe.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Oe.__webglFramebuffer);for(let Ke=0;Ke<H.length;Ke++){ze.push(36064+Ke),J.depthBuffer&&ze.push(rt);const et=Oe.__ignoreDepthValues!==void 0?Oe.__ignoreDepthValues:!1;if(et===!1&&(J.depthBuffer&&(Ae|=256),J.stencilBuffer&&(Ae|=1024)),me&&s.framebufferRenderbuffer(36008,36064,36161,Oe.__webglColorRenderbuffer[Ke]),et===!0&&(s.invalidateFramebuffer(36008,[rt]),s.invalidateFramebuffer(36009,[rt])),me){const Ue=i.get(H[Ke]).__webglTexture;s.framebufferTexture2D(36009,36064,3553,Ue,0)}s.blitFramebuffer(0,0,fe,ye,0,0,fe,ye,Ae,9728),d&&s.invalidateFramebuffer(36008,ze)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),me)for(let Ke=0;Ke<H.length;Ke++){t.bindFramebuffer(36160,Oe.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(36160,36064+Ke,36161,Oe.__webglColorRenderbuffer[Ke]);const et=i.get(H[Ke]).__webglTexture;t.bindFramebuffer(36160,Oe.__webglFramebuffer),s.framebufferTexture2D(36009,36064+Ke,3553,et,0)}t.bindFramebuffer(36009,Oe.__webglMultisampledFramebuffer)}}function vt(J){return Math.min(h,J.samples)}function it(J){const H=i.get(J);return o&&J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function oi(J){const H=a.render.frame;g.get(J)!==H&&(g.set(J,H),J.update())}function pi(J,H){const fe=J.encoding,ye=J.format,Ae=J.type;return J.isCompressedTexture===!0||J.isVideoTexture===!0||J.format===Kc||fe!==Qs&&(fe===zt?o===!1?e.has("EXT_sRGB")===!0&&ye===vn?(J.format=Kc,J.minFilter=on,J.generateMipmaps=!1):H=P0.sRGBToLinear(H):(ye!==vn||Ae!==Js)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",fe)),H}this.allocateTextureUnit=z,this.resetTextureUnits=O,this.setTexture2D=$,this.setTexture2DArray=K,this.setTexture3D=U,this.setTextureCube=ee,this.rebindTextures=ot,this.setupRenderTarget=tt,this.updateRenderTargetMipmap=lt,this.updateMultisampleRenderTarget=It,this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=ge,this.useMultisampledRTT=it}function Dk(s,e,t){const i=t.isWebGL2;function n(r,a=null){let o;if(r===Js)return 5121;if(r===uT)return 32819;if(r===fT)return 32820;if(r===oT)return 5120;if(r===lT)return 5122;if(r===C0)return 5123;if(r===cT)return 5124;if(r===Ws)return 5125;if(r===Gs)return 5126;if(r===Ba)return i?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(r===dT)return 6406;if(r===vn)return 6408;if(r===hT)return 6409;if(r===pT)return 6410;if(r===Ys)return 6402;if(r===Hr)return 34041;if(r===Kc)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(r===mT)return 6403;if(r===gT)return 36244;if(r===vT)return 33319;if(r===_T)return 33320;if(r===wT)return 36249;if(r===$l||r===Kl||r===Jl||r===Ql)if(a===zt)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===$l)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Kl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Jl)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Ql)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===$l)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Kl)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Jl)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Ql)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===mh||r===gh||r===vh||r===_h)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===mh)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===gh)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===vh)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===_h)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===bT)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===wh||r===bh)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===wh)return a===zt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===bh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===yh||r===xh||r===Sh||r===Mh||r===Eh||r===Th||r===Ch||r===Ah||r===Lh||r===kh||r===Ph||r===Dh||r===Ih||r===Rh)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===yh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===xh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Sh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Mh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Eh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Th)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Ch)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Ah)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Lh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===kh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Ph)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Dh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Ih)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Rh)return a===zt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===ec)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===ec)return a===zt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(r===yT||r===zh||r===Fh||r===Oh)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===ec)return o.COMPRESSED_RED_RGTC1_EXT;if(r===zh)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Fh)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Oh)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===zr?i?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):s[r]!==void 0?s[r]:null}return{convert:n}}class Ik extends Xi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Eo extends hi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Rk={type:"move"};class Ec{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Eo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Eo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Eo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let n=null,r=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const p of e.hand.values()){const m=t.getJointPose(p,i),v=this._getHandJoint(c,p);m!==null&&(v.matrix.fromArray(m.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=m.radius),v.visible=m!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],f=u.position.distanceTo(h.position),d=.02,g=.005;c.inputState.pinching&&f>d+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=d-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(n=t.getPose(e.targetRaySpace,i),n===null&&r!==null&&(n=r),n!==null&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),n.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(n.linearVelocity)):o.hasLinearVelocity=!1,n.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(n.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Rk)))}return o!==null&&(o.visible=n!==null),l!==null&&(l.visible=r!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Eo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class zk extends ki{constructor(e,t,i,n,r,a,o,l,c,u){if(u=u!==void 0?u:Ys,u!==Ys&&u!==Hr)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Ys&&(i=Ws),i===void 0&&u===Hr&&(i=zr),super(null,n,r,a,o,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Ai,this.minFilter=l!==void 0?l:Ai,this.flipY=!1,this.generateMipmaps=!1}}class Fk extends ea{constructor(e,t){super();const i=this;let n=null,r=1,a=null,o="local-floor",l=1,c=null,u=null,h=null,f=null,d=null,g=null;const p=t.getContextAttributes();let m=null,v=null;const w=[],_=[],x=new Set,b=new Map,S=new Xi;S.layers.enable(1),S.viewport=new di;const M=new Xi;M.layers.enable(2),M.viewport=new di;const y=[S,M],E=new Ik;E.layers.enable(1),E.layers.enable(2);let C=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let ee=w[U];return ee===void 0&&(ee=new Ec,w[U]=ee),ee.getTargetRaySpace()},this.getControllerGrip=function(U){let ee=w[U];return ee===void 0&&(ee=new Ec,w[U]=ee),ee.getGripSpace()},this.getHand=function(U){let ee=w[U];return ee===void 0&&(ee=new Ec,w[U]=ee),ee.getHandSpace()};function L(U){const ee=_.indexOf(U.inputSource);if(ee===-1)return;const Z=w[ee];Z!==void 0&&Z.dispatchEvent({type:U.type,data:U.inputSource})}function k(){n.removeEventListener("select",L),n.removeEventListener("selectstart",L),n.removeEventListener("selectend",L),n.removeEventListener("squeeze",L),n.removeEventListener("squeezestart",L),n.removeEventListener("squeezeend",L),n.removeEventListener("end",k),n.removeEventListener("inputsourceschange",A);for(let U=0;U<w.length;U++){const ee=_[U];ee!==null&&(_[U]=null,w[U].disconnect(ee))}C=null,P=null,e.setRenderTarget(m),d=null,f=null,h=null,n=null,v=null,K.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){r=U,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){o=U,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(U){c=U},this.getBaseLayer=function(){return f!==null?f:d},this.getBinding=function(){return h},this.getFrame=function(){return g},this.getSession=function(){return n},this.setSession=async function(U){if(n=U,n!==null){if(m=e.getRenderTarget(),n.addEventListener("select",L),n.addEventListener("selectstart",L),n.addEventListener("selectend",L),n.addEventListener("squeeze",L),n.addEventListener("squeezestart",L),n.addEventListener("squeezeend",L),n.addEventListener("end",k),n.addEventListener("inputsourceschange",A),p.xrCompatible!==!0&&await t.makeXRCompatible(),n.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ee={antialias:n.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:r};d=new XRWebGLLayer(n,t,ee),n.updateRenderState({baseLayer:d}),v=new er(d.framebufferWidth,d.framebufferHeight,{format:vn,type:Js,encoding:e.outputEncoding,stencilBuffer:p.stencil})}else{let ee=null,Z=null,te=null;p.depth&&(te=p.stencil?35056:33190,ee=p.stencil?Hr:Ys,Z=p.stencil?zr:Ws);const j={colorFormat:32856,depthFormat:te,scaleFactor:r};h=new XRWebGLBinding(n,t),f=h.createProjectionLayer(j),n.updateRenderState({layers:[f]}),v=new er(f.textureWidth,f.textureHeight,{format:vn,type:Js,depthTexture:new zk(f.textureWidth,f.textureHeight,Z,void 0,void 0,void 0,void 0,void 0,void 0,ee),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});const ie=e.properties.get(v);ie.__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await n.requestReferenceSpace(o),K.setContext(n),K.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function A(U){for(let ee=0;ee<U.removed.length;ee++){const Z=U.removed[ee],te=_.indexOf(Z);te>=0&&(_[te]=null,w[te].disconnect(Z))}for(let ee=0;ee<U.added.length;ee++){const Z=U.added[ee];let te=_.indexOf(Z);if(te===-1){for(let ie=0;ie<w.length;ie++)if(ie>=_.length){_.push(Z),te=ie;break}else if(_[ie]===null){_[ie]=Z,te=ie;break}if(te===-1)break}const j=w[te];j&&j.connect(Z)}}const I=new re,R=new re;function O(U,ee,Z){I.setFromMatrixPosition(ee.matrixWorld),R.setFromMatrixPosition(Z.matrixWorld);const te=I.distanceTo(R),j=ee.projectionMatrix.elements,ie=Z.projectionMatrix.elements,oe=j[14]/(j[10]-1),ve=j[14]/(j[10]+1),ge=(j[9]+1)/j[5],Le=(j[9]-1)/j[5],Re=(j[8]-1)/j[0],ke=(ie[8]+1)/ie[0],ot=oe*Re,tt=oe*ke,lt=te/(-Re+ke),It=lt*-Re;ee.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(It),U.translateZ(lt),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const vt=oe+lt,it=ve+lt,oi=ot-It,pi=tt+(te-It),J=ge*ve/it*vt,H=Le*ve/it*vt;U.projectionMatrix.makePerspective(oi,pi,J,H,vt,it)}function z(U,ee){ee===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(ee.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(n===null)return;E.near=M.near=S.near=U.near,E.far=M.far=S.far=U.far,(C!==E.near||P!==E.far)&&(n.updateRenderState({depthNear:E.near,depthFar:E.far}),C=E.near,P=E.far);const ee=U.parent,Z=E.cameras;z(E,ee);for(let j=0;j<Z.length;j++)z(Z[j],ee);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),U.matrix.copy(E.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale);const te=U.children;for(let j=0,ie=te.length;j<ie;j++)te[j].updateMatrixWorld(!0);Z.length===2?O(E,S,M):E.projectionMatrix.copy(S.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(!(f===null&&d===null))return l},this.setFoveation=function(U){l=U,f!==null&&(f.fixedFoveation=U),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=U)},this.getPlanes=function(){return x};let V=null;function $(U,ee){if(u=ee.getViewerPose(c||a),g=ee,u!==null){const Z=u.views;d!==null&&(e.setRenderTargetFramebuffer(v,d.framebuffer),e.setRenderTarget(v));let te=!1;Z.length!==E.cameras.length&&(E.cameras.length=0,te=!0);for(let j=0;j<Z.length;j++){const ie=Z[j];let oe=null;if(d!==null)oe=d.getViewport(ie);else{const ge=h.getViewSubImage(f,ie);oe=ge.viewport,j===0&&(e.setRenderTargetTextures(v,ge.colorTexture,f.ignoreDepthValues?void 0:ge.depthStencilTexture),e.setRenderTarget(v))}let ve=y[j];ve===void 0&&(ve=new Xi,ve.layers.enable(j),ve.viewport=new di,y[j]=ve),ve.matrix.fromArray(ie.transform.matrix),ve.projectionMatrix.fromArray(ie.projectionMatrix),ve.viewport.set(oe.x,oe.y,oe.width,oe.height),j===0&&E.matrix.copy(ve.matrix),te===!0&&E.cameras.push(ve)}}for(let Z=0;Z<w.length;Z++){const te=_[Z],j=w[Z];te!==null&&j!==void 0&&j.update(te,ee,c||a)}if(V&&V(U,ee),ee.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:ee.detectedPlanes});let Z=null;for(const te of x)ee.detectedPlanes.has(te)||(Z===null&&(Z=[]),Z.push(te));if(Z!==null)for(const te of Z)x.delete(te),b.delete(te),i.dispatchEvent({type:"planeremoved",data:te});for(const te of ee.detectedPlanes)if(!x.has(te))x.add(te),b.set(te,ee.lastChangedTime),i.dispatchEvent({type:"planeadded",data:te});else{const j=b.get(te);te.lastChangedTime>j&&(b.set(te,te.lastChangedTime),i.dispatchEvent({type:"planechanged",data:te}))}}g=null}const K=new U0;K.setAnimationLoop($),this.setAnimationLoop=function(U){V=U},this.dispose=function(){}}}function Ok(s,e){function t(p,m){m.color.getRGB(p.fogColor.value,N0(s)),m.isFog?(p.fogNear.value=m.near,p.fogFar.value=m.far):m.isFogExp2&&(p.fogDensity.value=m.density)}function i(p,m,v,w,_){m.isMeshBasicMaterial||m.isMeshLambertMaterial?n(p,m):m.isMeshToonMaterial?(n(p,m),u(p,m)):m.isMeshPhongMaterial?(n(p,m),c(p,m)):m.isMeshStandardMaterial?(n(p,m),h(p,m),m.isMeshPhysicalMaterial&&f(p,m,_)):m.isMeshMatcapMaterial?(n(p,m),d(p,m)):m.isMeshDepthMaterial?n(p,m):m.isMeshDistanceMaterial?(n(p,m),g(p,m)):m.isMeshNormalMaterial?n(p,m):m.isLineBasicMaterial?(r(p,m),m.isLineDashedMaterial&&a(p,m)):m.isPointsMaterial?o(p,m,v,w):m.isSpriteMaterial?l(p,m):m.isShadowMaterial?(p.color.value.copy(m.color),p.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function n(p,m){p.opacity.value=m.opacity,m.color&&p.diffuse.value.copy(m.color),m.emissive&&p.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(p.map.value=m.map),m.alphaMap&&(p.alphaMap.value=m.alphaMap),m.bumpMap&&(p.bumpMap.value=m.bumpMap,p.bumpScale.value=m.bumpScale,m.side===Ji&&(p.bumpScale.value*=-1)),m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias),m.emissiveMap&&(p.emissiveMap.value=m.emissiveMap),m.normalMap&&(p.normalMap.value=m.normalMap,p.normalScale.value.copy(m.normalScale),m.side===Ji&&p.normalScale.value.negate()),m.specularMap&&(p.specularMap.value=m.specularMap),m.alphaTest>0&&(p.alphaTest.value=m.alphaTest);const v=e.get(m).envMap;if(v&&(p.envMap.value=v,p.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=m.reflectivity,p.ior.value=m.ior,p.refractionRatio.value=m.refractionRatio),m.lightMap){p.lightMap.value=m.lightMap;const x=s.physicallyCorrectLights!==!0?Math.PI:1;p.lightMapIntensity.value=m.lightMapIntensity*x}m.aoMap&&(p.aoMap.value=m.aoMap,p.aoMapIntensity.value=m.aoMapIntensity);let w;m.map?w=m.map:m.specularMap?w=m.specularMap:m.displacementMap?w=m.displacementMap:m.normalMap?w=m.normalMap:m.bumpMap?w=m.bumpMap:m.roughnessMap?w=m.roughnessMap:m.metalnessMap?w=m.metalnessMap:m.alphaMap?w=m.alphaMap:m.emissiveMap?w=m.emissiveMap:m.clearcoatMap?w=m.clearcoatMap:m.clearcoatNormalMap?w=m.clearcoatNormalMap:m.clearcoatRoughnessMap?w=m.clearcoatRoughnessMap:m.iridescenceMap?w=m.iridescenceMap:m.iridescenceThicknessMap?w=m.iridescenceThicknessMap:m.specularIntensityMap?w=m.specularIntensityMap:m.specularColorMap?w=m.specularColorMap:m.transmissionMap?w=m.transmissionMap:m.thicknessMap?w=m.thicknessMap:m.sheenColorMap?w=m.sheenColorMap:m.sheenRoughnessMap&&(w=m.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),p.uvTransform.value.copy(w.matrix));let _;m.aoMap?_=m.aoMap:m.lightMap&&(_=m.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uv2Transform.value.copy(_.matrix))}function r(p,m){p.diffuse.value.copy(m.color),p.opacity.value=m.opacity}function a(p,m){p.dashSize.value=m.dashSize,p.totalSize.value=m.dashSize+m.gapSize,p.scale.value=m.scale}function o(p,m,v,w){p.diffuse.value.copy(m.color),p.opacity.value=m.opacity,p.size.value=m.size*v,p.scale.value=w*.5,m.map&&(p.map.value=m.map),m.alphaMap&&(p.alphaMap.value=m.alphaMap),m.alphaTest>0&&(p.alphaTest.value=m.alphaTest);let _;m.map?_=m.map:m.alphaMap&&(_=m.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uvTransform.value.copy(_.matrix))}function l(p,m){p.diffuse.value.copy(m.color),p.opacity.value=m.opacity,p.rotation.value=m.rotation,m.map&&(p.map.value=m.map),m.alphaMap&&(p.alphaMap.value=m.alphaMap),m.alphaTest>0&&(p.alphaTest.value=m.alphaTest);let v;m.map?v=m.map:m.alphaMap&&(v=m.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),p.uvTransform.value.copy(v.matrix))}function c(p,m){p.specular.value.copy(m.specular),p.shininess.value=Math.max(m.shininess,1e-4)}function u(p,m){m.gradientMap&&(p.gradientMap.value=m.gradientMap)}function h(p,m){p.roughness.value=m.roughness,p.metalness.value=m.metalness,m.roughnessMap&&(p.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(p.metalnessMap.value=m.metalnessMap),e.get(m).envMap&&(p.envMapIntensity.value=m.envMapIntensity)}function f(p,m,v){p.ior.value=m.ior,m.sheen>0&&(p.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),p.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(p.sheenColorMap.value=m.sheenColorMap),m.sheenRoughnessMap&&(p.sheenRoughnessMap.value=m.sheenRoughnessMap)),m.clearcoat>0&&(p.clearcoat.value=m.clearcoat,p.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(p.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),p.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===Ji&&p.clearcoatNormalScale.value.negate())),m.iridescence>0&&(p.iridescence.value=m.iridescence,p.iridescenceIOR.value=m.iridescenceIOR,p.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(p.iridescenceMap.value=m.iridescenceMap),m.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=m.iridescenceThicknessMap)),m.transmission>0&&(p.transmission.value=m.transmission,p.transmissionSamplerMap.value=v.texture,p.transmissionSamplerSize.value.set(v.width,v.height),m.transmissionMap&&(p.transmissionMap.value=m.transmissionMap),p.thickness.value=m.thickness,m.thicknessMap&&(p.thicknessMap.value=m.thicknessMap),p.attenuationDistance.value=m.attenuationDistance,p.attenuationColor.value.copy(m.attenuationColor)),p.specularIntensity.value=m.specularIntensity,p.specularColor.value.copy(m.specularColor),m.specularIntensityMap&&(p.specularIntensityMap.value=m.specularIntensityMap),m.specularColorMap&&(p.specularColorMap.value=m.specularColorMap)}function d(p,m){m.matcap&&(p.matcap.value=m.matcap)}function g(p,m){p.referencePosition.value.copy(m.referencePosition),p.nearDistance.value=m.nearDistance,p.farDistance.value=m.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function Nk(s,e,t,i){let n={},r={},a=[];const o=t.isWebGL2?s.getParameter(35375):0;function l(w,_){const x=_.program;i.uniformBlockBinding(w,x)}function c(w,_){let x=n[w.id];x===void 0&&(g(w),x=u(w),n[w.id]=x,w.addEventListener("dispose",m));const b=_.program;i.updateUBOMapping(w,b);const S=e.render.frame;r[w.id]!==S&&(f(w),r[w.id]=S)}function u(w){const _=h();w.__bindingPointIndex=_;const x=s.createBuffer(),b=w.__size,S=w.usage;return s.bindBuffer(35345,x),s.bufferData(35345,b,S),s.bindBuffer(35345,null),s.bindBufferBase(35345,_,x),x}function h(){for(let w=0;w<o;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(w){const _=n[w.id],x=w.uniforms,b=w.__cache;s.bindBuffer(35345,_);for(let S=0,M=x.length;S<M;S++){const y=x[S];if(d(y,S,b)===!0){const E=y.__offset,C=Array.isArray(y.value)?y.value:[y.value];let P=0;for(let L=0;L<C.length;L++){const k=C[L],A=p(k);typeof k=="number"?(y.__data[0]=k,s.bufferSubData(35345,E+P,y.__data)):k.isMatrix3?(y.__data[0]=k.elements[0],y.__data[1]=k.elements[1],y.__data[2]=k.elements[2],y.__data[3]=k.elements[0],y.__data[4]=k.elements[3],y.__data[5]=k.elements[4],y.__data[6]=k.elements[5],y.__data[7]=k.elements[0],y.__data[8]=k.elements[6],y.__data[9]=k.elements[7],y.__data[10]=k.elements[8],y.__data[11]=k.elements[0]):(k.toArray(y.__data,P),P+=A.storage/Float32Array.BYTES_PER_ELEMENT)}s.bufferSubData(35345,E,y.__data)}}s.bindBuffer(35345,null)}function d(w,_,x){const b=w.value;if(x[_]===void 0){if(typeof b=="number")x[_]=b;else{const S=Array.isArray(b)?b:[b],M=[];for(let y=0;y<S.length;y++)M.push(S[y].clone());x[_]=M}return!0}else if(typeof b=="number"){if(x[_]!==b)return x[_]=b,!0}else{const S=Array.isArray(x[_])?x[_]:[x[_]],M=Array.isArray(b)?b:[b];for(let y=0;y<S.length;y++){const E=S[y];if(E.equals(M[y])===!1)return E.copy(M[y]),!0}}return!1}function g(w){const _=w.uniforms;let x=0;const b=16;let S=0;for(let M=0,y=_.length;M<y;M++){const E=_[M],C={boundary:0,storage:0},P=Array.isArray(E.value)?E.value:[E.value];for(let L=0,k=P.length;L<k;L++){const A=P[L],I=p(A);C.boundary+=I.boundary,C.storage+=I.storage}if(E.__data=new Float32Array(C.storage/Float32Array.BYTES_PER_ELEMENT),E.__offset=x,M>0){S=x%b;const L=b-S;S!==0&&L-C.boundary<0&&(x+=b-S,E.__offset=x)}x+=C.storage}return S=x%b,S>0&&(x+=b-S),w.__size=x,w.__cache={},this}function p(w){const _={boundary:0,storage:0};return typeof w=="number"?(_.boundary=4,_.storage=4):w.isVector2?(_.boundary=8,_.storage=8):w.isVector3||w.isColor?(_.boundary=16,_.storage=12):w.isVector4?(_.boundary=16,_.storage=16):w.isMatrix3?(_.boundary=48,_.storage=48):w.isMatrix4?(_.boundary=64,_.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),_}function m(w){const _=w.target;_.removeEventListener("dispose",m);const x=a.indexOf(_.__bindingPointIndex);a.splice(x,1),s.deleteBuffer(n[_.id]),delete n[_.id],delete r[_.id]}function v(){for(const w in n)s.deleteBuffer(n[w]);a=[],n={},r={}}return{bind:l,update:c,dispose:v}}function Bk(){const s=Ko("canvas");return s.style.display="block",s}function q0(s={}){this.isWebGLRenderer=!0;const e=s.canvas!==void 0?s.canvas:Bk(),t=s.context!==void 0?s.context:null,i=s.depth!==void 0?s.depth:!0,n=s.stencil!==void 0?s.stencil:!0,r=s.antialias!==void 0?s.antialias:!1,a=s.premultipliedAlpha!==void 0?s.premultipliedAlpha:!0,o=s.preserveDrawingBuffer!==void 0?s.preserveDrawingBuffer:!1,l=s.powerPreference!==void 0?s.powerPreference:"default",c=s.failIfMajorPerformanceCaveat!==void 0?s.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=s.alpha!==void 0?s.alpha:!1;let h=null,f=null;const d=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Qs,this.physicallyCorrectLights=!1,this.toneMapping=is,this.toneMappingExposure=1;const p=this;let m=!1,v=0,w=0,_=null,x=-1,b=null;const S=new di,M=new di;let y=null,E=e.width,C=e.height,P=1,L=null,k=null;const A=new di(0,0,E,C),I=new di(0,0,E,C);let R=!1;const O=new Gu;let z=!1,V=!1,$=null;const K=new si,U=new ht,ee=new re,Z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function te(){return _===null?P:1}let j=t;function ie(X,ae){for(let he=0;he<X.length;he++){const se=X[he],pe=e.getContext(se,ae);if(pe!==null)return pe}return null}try{const X={alpha:!0,depth:i,stencil:n,antialias:r,premultipliedAlpha:a,preserveDrawingBuffer:o,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Vu}`),e.addEventListener("webglcontextlost",Je,!1),e.addEventListener("webglcontextrestored",qe,!1),e.addEventListener("webglcontextcreationerror",xt,!1),j===null){const ae=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&ae.shift(),j=ie(ae,X),j===null)throw ie(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}j.getShaderPrecisionFormat===void 0&&(j.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let oe,ve,ge,Le,Re,ke,ot,tt,lt,It,vt,it,oi,pi,J,H,fe,ye,Ae,ze,rt,Oe,me,Ke;function et(){oe=new $A(j),ve=new HA(j,oe,s),oe.init(ve),Oe=new Dk(j,oe,ve),ge=new kk(j,oe,ve),Le=new QA,Re=new gk,ke=new Pk(j,oe,ge,Re,ve,Oe,Le),ot=new YA(p),tt=new ZA(p),lt=new l3(j,ve),me=new WA(j,oe,lt,ve),It=new KA(j,lt,Le,me),vt=new nL(j,It,lt,Le),Ae=new iL(j,ve,ke),H=new jA(Re),it=new mk(p,ot,tt,oe,ve,me,H),oi=new Ok(p,Re),pi=new _k,J=new Mk(oe,ve),ye=new UA(p,ot,tt,ge,vt,u,a),fe=new Lk(p,vt,ve),Ke=new Nk(j,Le,ve,ge),ze=new GA(j,oe,Le,ve),rt=new JA(j,oe,Le,ve),Le.programs=it.programs,p.capabilities=ve,p.extensions=oe,p.properties=Re,p.renderLists=pi,p.shadowMap=fe,p.state=ge,p.info=Le}et();const Ue=new Fk(p,j);this.xr=Ue,this.getContext=function(){return j},this.getContextAttributes=function(){return j.getContextAttributes()},this.forceContextLoss=function(){const X=oe.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=oe.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(X){X!==void 0&&(P=X,this.setSize(E,C,!1))},this.getSize=function(X){return X.set(E,C)},this.setSize=function(X,ae,he){if(Ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}E=X,C=ae,e.width=Math.floor(X*P),e.height=Math.floor(ae*P),he!==!1&&(e.style.width=X+"px",e.style.height=ae+"px"),this.setViewport(0,0,X,ae)},this.getDrawingBufferSize=function(X){return X.set(E*P,C*P).floor()},this.setDrawingBufferSize=function(X,ae,he){E=X,C=ae,P=he,e.width=Math.floor(X*he),e.height=Math.floor(ae*he),this.setViewport(0,0,X,ae)},this.getCurrentViewport=function(X){return X.copy(S)},this.getViewport=function(X){return X.copy(A)},this.setViewport=function(X,ae,he,se){X.isVector4?A.set(X.x,X.y,X.z,X.w):A.set(X,ae,he,se),ge.viewport(S.copy(A).multiplyScalar(P).floor())},this.getScissor=function(X){return X.copy(I)},this.setScissor=function(X,ae,he,se){X.isVector4?I.set(X.x,X.y,X.z,X.w):I.set(X,ae,he,se),ge.scissor(M.copy(I).multiplyScalar(P).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(X){ge.setScissorTest(R=X)},this.setOpaqueSort=function(X){L=X},this.setTransparentSort=function(X){k=X},this.getClearColor=function(X){return X.copy(ye.getClearColor())},this.setClearColor=function(){ye.setClearColor.apply(ye,arguments)},this.getClearAlpha=function(){return ye.getClearAlpha()},this.setClearAlpha=function(){ye.setClearAlpha.apply(ye,arguments)},this.clear=function(X=!0,ae=!0,he=!0){let se=0;X&&(se|=16384),ae&&(se|=256),he&&(se|=1024),j.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Je,!1),e.removeEventListener("webglcontextrestored",qe,!1),e.removeEventListener("webglcontextcreationerror",xt,!1),pi.dispose(),J.dispose(),Re.dispose(),ot.dispose(),tt.dispose(),vt.dispose(),me.dispose(),Ke.dispose(),it.dispose(),Ue.dispose(),Ue.removeEventListener("sessionstart",Be),Ue.removeEventListener("sessionend",We),$&&($.dispose(),$=null),At.stop()};function Je(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function qe(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;const X=Le.autoReset,ae=fe.enabled,he=fe.autoUpdate,se=fe.needsUpdate,pe=fe.type;et(),Le.autoReset=X,fe.enabled=ae,fe.autoUpdate=he,fe.needsUpdate=se,fe.type=pe}function xt(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function Nt(X){const ae=X.target;ae.removeEventListener("dispose",Nt),li(ae)}function li(X){ne(X),Re.remove(X)}function ne(X){const ae=Re.get(X).programs;ae!==void 0&&(ae.forEach(function(he){it.releaseProgram(he)}),X.isShaderMaterial&&it.releaseShaderCache(X))}this.renderBufferDirect=function(X,ae,he,se,pe,Xe){ae===null&&(ae=Z);const at=pe.isMesh&&pe.matrixWorld.determinant()<0,dt=rv(X,ae,he,se,pe);ge.setMaterial(se,at);let mt=he.index,St=1;se.wireframe===!0&&(mt=It.getWireframeAttribute(he),St=2);const _t=he.drawRange,wt=he.attributes.position;let Zt=_t.start*St,Vi=(_t.start+_t.count)*St;Xe!==null&&(Zt=Math.max(Zt,Xe.start*St),Vi=Math.min(Vi,(Xe.start+Xe.count)*St)),mt!==null?(Zt=Math.max(Zt,0),Vi=Math.min(Vi,mt.count)):wt!=null&&(Zt=Math.max(Zt,0),Vi=Math.min(Vi,wt.count));const Nn=Vi-Zt;if(Nn<0||Nn===1/0)return;me.setup(pe,se,dt,he,mt);let Ls,$t=ze;if(mt!==null&&(Ls=lt.get(mt),$t=rt,$t.setIndex(Ls)),pe.isMesh)se.wireframe===!0?(ge.setLineWidth(se.wireframeLinewidth*te()),$t.setMode(1)):$t.setMode(4);else if(pe.isLine){let bt=se.linewidth;bt===void 0&&(bt=1),ge.setLineWidth(bt*te()),pe.isLineSegments?$t.setMode(1):pe.isLineLoop?$t.setMode(2):$t.setMode(3)}else pe.isPoints?$t.setMode(0):pe.isSprite&&$t.setMode(4);if(pe.isInstancedMesh)$t.renderInstances(Zt,Nn,pe.count);else if(he.isInstancedBufferGeometry){const bt=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,Ll=Math.min(he.instanceCount,bt);$t.renderInstances(Zt,Nn,Ll)}else $t.render(Zt,Nn)},this.compile=function(X,ae){function he(se,pe,Xe){se.transparent===!0&&se.side===Zi&&se.forceSinglePass===!1?(se.side=Ji,se.needsUpdate=!0,nn(se,pe,Xe),se.side=Ss,se.needsUpdate=!0,nn(se,pe,Xe),se.side=Zi):nn(se,pe,Xe)}f=J.get(X),f.init(),g.push(f),X.traverseVisible(function(se){se.isLight&&se.layers.test(ae.layers)&&(f.pushLight(se),se.castShadow&&f.pushShadow(se))}),f.setupLights(p.physicallyCorrectLights),X.traverse(function(se){const pe=se.material;if(pe)if(Array.isArray(pe))for(let Xe=0;Xe<pe.length;Xe++){const at=pe[Xe];he(at,X,se)}else he(pe,X,se)}),g.pop(),f=null};let de=null;function Te(X){de&&de(X)}function Be(){At.stop()}function We(){At.start()}const At=new U0;At.setAnimationLoop(Te),typeof self<"u"&&At.setContext(self),this.setAnimationLoop=function(X){de=X,Ue.setAnimationLoop(X),X===null?At.stop():At.start()},Ue.addEventListener("sessionstart",Be),Ue.addEventListener("sessionend",We),this.render=function(X,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(m===!0)return;X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ue.enabled===!0&&Ue.isPresenting===!0&&(Ue.cameraAutoUpdate===!0&&Ue.updateCamera(ae),ae=Ue.getCamera()),X.isScene===!0&&X.onBeforeRender(p,X,ae,_),f=J.get(X,g.length),f.init(),g.push(f),K.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),O.setFromProjectionMatrix(K),V=this.localClippingEnabled,z=H.init(this.clippingPlanes,V),h=pi.get(X,d.length),h.init(),d.push(h),ci(X,ae,0,p.sortObjects),h.finish(),p.sortObjects===!0&&h.sort(L,k),z===!0&&H.beginShadows();const he=f.state.shadowsArray;if(fe.render(he,X,ae),z===!0&&H.endShadows(),this.info.autoReset===!0&&this.info.reset(),ye.render(h,X),f.setupLights(p.physicallyCorrectLights),ae.isArrayCamera){const se=ae.cameras;for(let pe=0,Xe=se.length;pe<Xe;pe++){const at=se[pe];vi(h,X,at,at.viewport)}}else vi(h,X,ae);_!==null&&(ke.updateMultisampleRenderTarget(_),ke.updateRenderTargetMipmap(_)),X.isScene===!0&&X.onAfterRender(p,X,ae),me.resetDefaultState(),x=-1,b=null,g.pop(),g.length>0?f=g[g.length-1]:f=null,d.pop(),d.length>0?h=d[d.length-1]:h=null};function ci(X,ae,he,se){if(X.visible===!1)return;if(X.layers.test(ae.layers)){if(X.isGroup)he=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(ae);else if(X.isLight)f.pushLight(X),X.castShadow&&f.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||O.intersectsSprite(X)){se&&ee.setFromMatrixPosition(X.matrixWorld).applyMatrix4(K);const at=vt.update(X),dt=X.material;dt.visible&&h.push(X,at,dt,he,ee.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(X.isSkinnedMesh&&X.skeleton.frame!==Le.render.frame&&(X.skeleton.update(),X.skeleton.frame=Le.render.frame),!X.frustumCulled||O.intersectsObject(X))){se&&ee.setFromMatrixPosition(X.matrixWorld).applyMatrix4(K);const at=vt.update(X),dt=X.material;if(Array.isArray(dt)){const mt=at.groups;for(let St=0,_t=mt.length;St<_t;St++){const wt=mt[St],Zt=dt[wt.materialIndex];Zt&&Zt.visible&&h.push(X,at,Zt,he,ee.z,wt)}}else dt.visible&&h.push(X,at,dt,he,ee.z,null)}}const Xe=X.children;for(let at=0,dt=Xe.length;at<dt;at++)ci(Xe[at],ae,he,se)}function vi(X,ae,he,se){const pe=X.opaque,Xe=X.transmissive,at=X.transparent;f.setupLightsView(he),z===!0&&H.setGlobalState(p.clippingPlanes,he),Xe.length>0&&As(pe,ae,he),se&&ge.viewport(S.copy(se)),pe.length>0&&Bt(pe,ae,he),Xe.length>0&&Bt(Xe,ae,he),at.length>0&&Bt(at,ae,he),ge.buffers.depth.setTest(!0),ge.buffers.depth.setMask(!0),ge.buffers.color.setMask(!0),ge.setPolygonOffset(!1)}function As(X,ae,he){const se=ve.isWebGL2;$===null&&($=new er(1,1,{generateMipmaps:!0,type:oe.has("EXT_color_buffer_half_float")?Ba:Js,minFilter:Na,samples:se&&r===!0?4:0})),p.getDrawingBufferSize(U),se?$.setSize(U.x,U.y):$.setSize($o(U.x),$o(U.y));const pe=p.getRenderTarget();p.setRenderTarget($),p.clear();const Xe=p.toneMapping;p.toneMapping=is,Bt(X,ae,he),p.toneMapping=Xe,ke.updateMultisampleRenderTarget($),ke.updateRenderTargetMipmap($),p.setRenderTarget(pe)}function Bt(X,ae,he){const se=ae.isScene===!0?ae.overrideMaterial:null;for(let pe=0,Xe=X.length;pe<Xe;pe++){const at=X[pe],dt=at.object,mt=at.geometry,St=se===null?at.material:se,_t=at.group;dt.layers.test(he.layers)&&On(dt,ae,he,mt,St,_t)}}function On(X,ae,he,se,pe,Xe){X.onBeforeRender(p,ae,he,se,pe,Xe),X.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),pe.onBeforeRender(p,ae,he,se,X,Xe),pe.transparent===!0&&pe.side===Zi&&pe.forceSinglePass===!1?(pe.side=Ji,pe.needsUpdate=!0,p.renderBufferDirect(he,ae,se,pe,X,Xe),pe.side=Ss,pe.needsUpdate=!0,p.renderBufferDirect(he,ae,se,pe,X,Xe),pe.side=Zi):p.renderBufferDirect(he,ae,se,pe,X,Xe),X.onAfterRender(p,ae,he,se,pe,Xe)}function nn(X,ae,he){ae.isScene!==!0&&(ae=Z);const se=Re.get(X),pe=f.state.lights,Xe=f.state.shadowsArray,at=pe.state.version,dt=it.getParameters(X,pe.state,Xe,ae,he),mt=it.getProgramCacheKey(dt);let St=se.programs;se.environment=X.isMeshStandardMaterial?ae.environment:null,se.fog=ae.fog,se.envMap=(X.isMeshStandardMaterial?tt:ot).get(X.envMap||se.environment),St===void 0&&(X.addEventListener("dispose",Nt),St=new Map,se.programs=St);let _t=St.get(mt);if(_t!==void 0){if(se.currentProgram===_t&&se.lightsStateVersion===at)return Zu(X,dt),_t}else dt.uniforms=it.getUniforms(X),X.onBuild(he,dt,p),X.onBeforeCompile(dt,p),_t=it.acquireProgram(dt,mt),St.set(mt,_t),se.uniforms=dt.uniforms;const wt=se.uniforms;(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(wt.clippingPlanes=H.uniform),Zu(X,dt),se.needsLights=ov(X),se.lightsStateVersion=at,se.needsLights&&(wt.ambientLightColor.value=pe.state.ambient,wt.lightProbe.value=pe.state.probe,wt.directionalLights.value=pe.state.directional,wt.directionalLightShadows.value=pe.state.directionalShadow,wt.spotLights.value=pe.state.spot,wt.spotLightShadows.value=pe.state.spotShadow,wt.rectAreaLights.value=pe.state.rectArea,wt.ltc_1.value=pe.state.rectAreaLTC1,wt.ltc_2.value=pe.state.rectAreaLTC2,wt.pointLights.value=pe.state.point,wt.pointLightShadows.value=pe.state.pointShadow,wt.hemisphereLights.value=pe.state.hemi,wt.directionalShadowMap.value=pe.state.directionalShadowMap,wt.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,wt.spotShadowMap.value=pe.state.spotShadowMap,wt.spotLightMatrix.value=pe.state.spotLightMatrix,wt.spotLightMap.value=pe.state.spotLightMap,wt.pointShadowMap.value=pe.state.pointShadowMap,wt.pointShadowMatrix.value=pe.state.pointShadowMatrix);const Zt=_t.getUniforms(),Vi=No.seqWithValue(Zt.seq,wt);return se.currentProgram=_t,se.uniformsList=Vi,_t}function Zu(X,ae){const he=Re.get(X);he.outputEncoding=ae.outputEncoding,he.instancing=ae.instancing,he.skinning=ae.skinning,he.morphTargets=ae.morphTargets,he.morphNormals=ae.morphNormals,he.morphColors=ae.morphColors,he.morphTargetsCount=ae.morphTargetsCount,he.numClippingPlanes=ae.numClippingPlanes,he.numIntersection=ae.numClipIntersection,he.vertexAlphas=ae.vertexAlphas,he.vertexTangents=ae.vertexTangents,he.toneMapping=ae.toneMapping}function rv(X,ae,he,se,pe){ae.isScene!==!0&&(ae=Z),ke.resetTextureUnits();const Xe=ae.fog,at=se.isMeshStandardMaterial?ae.environment:null,dt=_===null?p.outputEncoding:_.isXRRenderTarget===!0?_.texture.encoding:Qs,mt=(se.isMeshStandardMaterial?tt:ot).get(se.envMap||at),St=se.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,_t=!!se.normalMap&&!!he.attributes.tangent,wt=!!he.morphAttributes.position,Zt=!!he.morphAttributes.normal,Vi=!!he.morphAttributes.color,Nn=se.toneMapped?p.toneMapping:is,Ls=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,$t=Ls!==void 0?Ls.length:0,bt=Re.get(se),Ll=f.state.lights;if(z===!0&&(V===!0||X!==b)){const Ui=X===b&&se.id===x;H.setState(se,X,Ui)}let ui=!1;se.version===bt.__version?(bt.needsLights&&bt.lightsStateVersion!==Ll.state.version||bt.outputEncoding!==dt||pe.isInstancedMesh&&bt.instancing===!1||!pe.isInstancedMesh&&bt.instancing===!0||pe.isSkinnedMesh&&bt.skinning===!1||!pe.isSkinnedMesh&&bt.skinning===!0||bt.envMap!==mt||se.fog===!0&&bt.fog!==Xe||bt.numClippingPlanes!==void 0&&(bt.numClippingPlanes!==H.numPlanes||bt.numIntersection!==H.numIntersection)||bt.vertexAlphas!==St||bt.vertexTangents!==_t||bt.morphTargets!==wt||bt.morphNormals!==Zt||bt.morphColors!==Vi||bt.toneMapping!==Nn||ve.isWebGL2===!0&&bt.morphTargetsCount!==$t)&&(ui=!0):(ui=!0,bt.__version=se.version);let ks=bt.currentProgram;ui===!0&&(ks=nn(se,ae,pe));let $u=!1,sa=!1,kl=!1;const Ei=ks.getUniforms(),Ps=bt.uniforms;if(ge.useProgram(ks.program)&&($u=!0,sa=!0,kl=!0),se.id!==x&&(x=se.id,sa=!0),$u||b!==X){if(Ei.setValue(j,"projectionMatrix",X.projectionMatrix),ve.logarithmicDepthBuffer&&Ei.setValue(j,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),b!==X&&(b=X,sa=!0,kl=!0),se.isShaderMaterial||se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshStandardMaterial||se.envMap){const Ui=Ei.map.cameraPosition;Ui!==void 0&&Ui.setValue(j,ee.setFromMatrixPosition(X.matrixWorld))}(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&Ei.setValue(j,"isOrthographic",X.isOrthographicCamera===!0),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial||se.isShadowMaterial||pe.isSkinnedMesh)&&Ei.setValue(j,"viewMatrix",X.matrixWorldInverse)}if(pe.isSkinnedMesh){Ei.setOptional(j,pe,"bindMatrix"),Ei.setOptional(j,pe,"bindMatrixInverse");const Ui=pe.skeleton;Ui&&(ve.floatVertexTextures?(Ui.boneTexture===null&&Ui.computeBoneTexture(),Ei.setValue(j,"boneTexture",Ui.boneTexture,ke),Ei.setValue(j,"boneTextureSize",Ui.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Pl=he.morphAttributes;if((Pl.position!==void 0||Pl.normal!==void 0||Pl.color!==void 0&&ve.isWebGL2===!0)&&Ae.update(pe,he,se,ks),(sa||bt.receiveShadow!==pe.receiveShadow)&&(bt.receiveShadow=pe.receiveShadow,Ei.setValue(j,"receiveShadow",pe.receiveShadow)),se.isMeshGouraudMaterial&&se.envMap!==null&&(Ps.envMap.value=mt,Ps.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1),sa&&(Ei.setValue(j,"toneMappingExposure",p.toneMappingExposure),bt.needsLights&&av(Ps,kl),Xe&&se.fog===!0&&oi.refreshFogUniforms(Ps,Xe),oi.refreshMaterialUniforms(Ps,se,P,C,$),No.upload(j,bt.uniformsList,Ps,ke)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(No.upload(j,bt.uniformsList,Ps,ke),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&Ei.setValue(j,"center",pe.center),Ei.setValue(j,"modelViewMatrix",pe.modelViewMatrix),Ei.setValue(j,"normalMatrix",pe.normalMatrix),Ei.setValue(j,"modelMatrix",pe.matrixWorld),se.isShaderMaterial||se.isRawShaderMaterial){const Ui=se.uniformsGroups;for(let Dl=0,lv=Ui.length;Dl<lv;Dl++)if(ve.isWebGL2){const Ku=Ui[Dl];Ke.update(Ku,ks),Ke.bind(Ku,ks)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ks}function av(X,ae){X.ambientLightColor.needsUpdate=ae,X.lightProbe.needsUpdate=ae,X.directionalLights.needsUpdate=ae,X.directionalLightShadows.needsUpdate=ae,X.pointLights.needsUpdate=ae,X.pointLightShadows.needsUpdate=ae,X.spotLights.needsUpdate=ae,X.spotLightShadows.needsUpdate=ae,X.rectAreaLights.needsUpdate=ae,X.hemisphereLights.needsUpdate=ae}function ov(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(X,ae,he){Re.get(X.texture).__webglTexture=ae,Re.get(X.depthTexture).__webglTexture=he;const se=Re.get(X);se.__hasExternalTextures=!0,se.__hasExternalTextures&&(se.__autoAllocateDepthBuffer=he===void 0,se.__autoAllocateDepthBuffer||oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(X,ae){const he=Re.get(X);he.__webglFramebuffer=ae,he.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(X,ae=0,he=0){_=X,v=ae,w=he;let se=!0,pe=null,Xe=!1,at=!1;if(X){const mt=Re.get(X);mt.__useDefaultFramebuffer!==void 0?(ge.bindFramebuffer(36160,null),se=!1):mt.__webglFramebuffer===void 0?ke.setupRenderTarget(X):mt.__hasExternalTextures&&ke.rebindTextures(X,Re.get(X.texture).__webglTexture,Re.get(X.depthTexture).__webglTexture);const St=X.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(at=!0);const _t=Re.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(pe=_t[ae],Xe=!0):ve.isWebGL2&&X.samples>0&&ke.useMultisampledRTT(X)===!1?pe=Re.get(X).__webglMultisampledFramebuffer:pe=_t,S.copy(X.viewport),M.copy(X.scissor),y=X.scissorTest}else S.copy(A).multiplyScalar(P).floor(),M.copy(I).multiplyScalar(P).floor(),y=R;if(ge.bindFramebuffer(36160,pe)&&ve.drawBuffers&&se&&ge.drawBuffers(X,pe),ge.viewport(S),ge.scissor(M),ge.setScissorTest(y),Xe){const mt=Re.get(X.texture);j.framebufferTexture2D(36160,36064,34069+ae,mt.__webglTexture,he)}else if(at){const mt=Re.get(X.texture),St=ae||0;j.framebufferTextureLayer(36160,36064,mt.__webglTexture,he||0,St)}x=-1},this.readRenderTargetPixels=function(X,ae,he,se,pe,Xe,at){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=Re.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&at!==void 0&&(dt=dt[at]),dt){ge.bindFramebuffer(36160,dt);try{const mt=X.texture,St=mt.format,_t=mt.type;if(St!==vn&&Oe.convert(St)!==j.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wt=_t===Ba&&(oe.has("EXT_color_buffer_half_float")||ve.isWebGL2&&oe.has("EXT_color_buffer_float"));if(_t!==Js&&Oe.convert(_t)!==j.getParameter(35738)&&!(_t===Gs&&(ve.isWebGL2||oe.has("OES_texture_float")||oe.has("WEBGL_color_buffer_float")))&&!wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=X.width-se&&he>=0&&he<=X.height-pe&&j.readPixels(ae,he,se,pe,Oe.convert(St),Oe.convert(_t),Xe)}finally{const mt=_!==null?Re.get(_).__webglFramebuffer:null;ge.bindFramebuffer(36160,mt)}}},this.copyFramebufferToTexture=function(X,ae,he=0){const se=Math.pow(2,-he),pe=Math.floor(ae.image.width*se),Xe=Math.floor(ae.image.height*se);ke.setTexture2D(ae,0),j.copyTexSubImage2D(3553,he,0,0,X.x,X.y,pe,Xe),ge.unbindTexture()},this.copyTextureToTexture=function(X,ae,he,se=0){const pe=ae.image.width,Xe=ae.image.height,at=Oe.convert(he.format),dt=Oe.convert(he.type);ke.setTexture2D(he,0),j.pixelStorei(37440,he.flipY),j.pixelStorei(37441,he.premultiplyAlpha),j.pixelStorei(3317,he.unpackAlignment),ae.isDataTexture?j.texSubImage2D(3553,se,X.x,X.y,pe,Xe,at,dt,ae.image.data):ae.isCompressedTexture?j.compressedTexSubImage2D(3553,se,X.x,X.y,ae.mipmaps[0].width,ae.mipmaps[0].height,at,ae.mipmaps[0].data):j.texSubImage2D(3553,se,X.x,X.y,at,dt,ae.image),se===0&&he.generateMipmaps&&j.generateMipmap(3553),ge.unbindTexture()},this.copyTextureToTexture3D=function(X,ae,he,se,pe=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Xe=X.max.x-X.min.x+1,at=X.max.y-X.min.y+1,dt=X.max.z-X.min.z+1,mt=Oe.convert(se.format),St=Oe.convert(se.type);let _t;if(se.isData3DTexture)ke.setTexture3D(se,0),_t=32879;else if(se.isDataArrayTexture)ke.setTexture2DArray(se,0),_t=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}j.pixelStorei(37440,se.flipY),j.pixelStorei(37441,se.premultiplyAlpha),j.pixelStorei(3317,se.unpackAlignment);const wt=j.getParameter(3314),Zt=j.getParameter(32878),Vi=j.getParameter(3316),Nn=j.getParameter(3315),Ls=j.getParameter(32877),$t=he.isCompressedTexture?he.mipmaps[0]:he.image;j.pixelStorei(3314,$t.width),j.pixelStorei(32878,$t.height),j.pixelStorei(3316,X.min.x),j.pixelStorei(3315,X.min.y),j.pixelStorei(32877,X.min.z),he.isDataTexture||he.isData3DTexture?j.texSubImage3D(_t,pe,ae.x,ae.y,ae.z,Xe,at,dt,mt,St,$t.data):he.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),j.compressedTexSubImage3D(_t,pe,ae.x,ae.y,ae.z,Xe,at,dt,mt,$t.data)):j.texSubImage3D(_t,pe,ae.x,ae.y,ae.z,Xe,at,dt,mt,St,$t),j.pixelStorei(3314,wt),j.pixelStorei(32878,Zt),j.pixelStorei(3316,Vi),j.pixelStorei(3315,Nn),j.pixelStorei(32877,Ls),pe===0&&se.generateMipmaps&&j.generateMipmap(_t),ge.unbindTexture()},this.initTexture=function(X){X.isCubeTexture?ke.setTextureCube(X,0):X.isData3DTexture?ke.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?ke.setTexture2DArray(X,0):ke.setTexture2D(X,0),ge.unbindTexture()},this.resetState=function(){v=0,w=0,_=null,ge.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Vk extends q0{}Vk.prototype.isWebGL1Renderer=!0;class Uk extends hi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Cr extends Ja{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Pt(16777215),this.specular=new Pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=A0,this.normalScale=new ht(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Uu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ju extends hi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Pt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}const Tc=new si,wp=new re,bp=new re;class X0{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ht(512,512),this.map=null,this.mapPass=null,this.matrix=new si,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Gu,this._frameExtents=new ht(1,1),this._viewportCount=1,this._viewports=[new di(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;wp.setFromMatrixPosition(e.matrixWorld),t.position.copy(wp),bp.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(bp),t.updateMatrixWorld(),Tc.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Tc),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Tc)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Wk extends X0{constructor(){super(new Xi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Ua*2*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(i!==t.fov||n!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=n,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Gk extends ju{constructor(e,t,i=0,n=Math.PI/3,r=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(hi.DEFAULT_UP),this.updateMatrix(),this.target=new hi,this.distance=i,this.angle=n,this.penumbra=r,this.decay=a,this.map=null,this.shadow=new Wk}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Hk extends X0{constructor(){super(new W0(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class jk extends ju{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(hi.DEFAULT_UP),this.updateMatrix(),this.target=new hi,this.shadow=new Hk}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Yk extends ju{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class yp{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Li(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Vu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Vu);class Ki{constructor(e){e===void 0&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const t=this.elements;t[0]=e.x,t[4]=e.y,t[8]=e.z}getTrace(e){e===void 0&&(e=new N);const t=this.elements;return e.x=t[0],e.y=t[4],e.z=t[8],e}vmult(e,t){t===void 0&&(t=new N);const i=this.elements,n=e.x,r=e.y,a=e.z;return t.x=i[0]*n+i[1]*r+i[2]*a,t.y=i[3]*n+i[4]*r+i[5]*a,t.z=i[6]*n+i[7]*r+i[8]*a,t}smult(e){for(let t=0;t<this.elements.length;t++)this.elements[t]*=e}mmult(e,t){t===void 0&&(t=new Ki);const i=this.elements,n=e.elements,r=t.elements,a=i[0],o=i[1],l=i[2],c=i[3],u=i[4],h=i[5],f=i[6],d=i[7],g=i[8],p=n[0],m=n[1],v=n[2],w=n[3],_=n[4],x=n[5],b=n[6],S=n[7],M=n[8];return r[0]=a*p+o*w+l*b,r[1]=a*m+o*_+l*S,r[2]=a*v+o*x+l*M,r[3]=c*p+u*w+h*b,r[4]=c*m+u*_+h*S,r[5]=c*v+u*x+h*M,r[6]=f*p+d*w+g*b,r[7]=f*m+d*_+g*S,r[8]=f*v+d*x+g*M,t}scale(e,t){t===void 0&&(t=new Ki);const i=this.elements,n=t.elements;for(let r=0;r!==3;r++)n[3*r+0]=e.x*i[3*r+0],n[3*r+1]=e.y*i[3*r+1],n[3*r+2]=e.z*i[3*r+2];return t}solve(e,t){t===void 0&&(t=new N);const i=3,n=4,r=[];let a,o;for(a=0;a<i*n;a++)r.push(0);for(a=0;a<3;a++)for(o=0;o<3;o++)r[a+n*o]=this.elements[a+3*o];r[3+4*0]=e.x,r[3+4*1]=e.y,r[3+4*2]=e.z;let l=3;const c=l;let u;const h=4;let f;do{if(a=c-l,r[a+n*a]===0){for(o=a+1;o<c;o++)if(r[a+n*o]!==0){u=h;do f=h-u,r[f+n*a]+=r[f+n*o];while(--u);break}}if(r[a+n*a]!==0)for(o=a+1;o<c;o++){const d=r[a+n*o]/r[a+n*a];u=h;do f=h-u,r[f+n*o]=f<=a?0:r[f+n*o]-r[f+n*a]*d;while(--u)}}while(--l);if(t.z=r[2*n+3]/r[2*n+2],t.y=(r[1*n+3]-r[1*n+2]*t.z)/r[1*n+1],t.x=(r[0*n+3]-r[0*n+2]*t.z-r[0*n+1]*t.y)/r[0*n+0],isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||t.x===1/0||t.y===1/0||t.z===1/0)throw`Could not solve equation! Got x=[${t.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return t}e(e,t,i){if(i===void 0)return this.elements[t+3*e];this.elements[t+3*e]=i}copy(e){for(let t=0;t<e.elements.length;t++)this.elements[t]=e.elements[t];return this}toString(){let e="";const t=",";for(let i=0;i<9;i++)e+=this.elements[i]+t;return e}reverse(e){e===void 0&&(e=new Ki);const t=3,i=6,n=qk;let r,a;for(r=0;r<3;r++)for(a=0;a<3;a++)n[r+i*a]=this.elements[r+3*a];n[3+6*0]=1,n[3+6*1]=0,n[3+6*2]=0,n[4+6*0]=0,n[4+6*1]=1,n[4+6*2]=0,n[5+6*0]=0,n[5+6*1]=0,n[5+6*2]=1;let o=3;const l=o;let c;const u=i;let h;do{if(r=l-o,n[r+i*r]===0){for(a=r+1;a<l;a++)if(n[r+i*a]!==0){c=u;do h=u-c,n[h+i*r]+=n[h+i*a];while(--c);break}}if(n[r+i*r]!==0)for(a=r+1;a<l;a++){const f=n[r+i*a]/n[r+i*r];c=u;do h=u-c,n[h+i*a]=h<=r?0:n[h+i*a]-n[h+i*r]*f;while(--c)}}while(--o);r=2;do{a=r-1;do{const f=n[r+i*a]/n[r+i*r];c=i;do h=i-c,n[h+i*a]=n[h+i*a]-n[h+i*r]*f;while(--c)}while(a--)}while(--r);r=2;do{const f=1/n[r+i*r];c=i;do h=i-c,n[h+i*r]=n[h+i*r]*f;while(--c)}while(r--);r=2;do{a=2;do{if(h=n[t+a+i*r],isNaN(h)||h===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(r,a,h)}while(a--)}while(r--);return e}setRotationFromQuaternion(e){const t=e.x,i=e.y,n=e.z,r=e.w,a=t+t,o=i+i,l=n+n,c=t*a,u=t*o,h=t*l,f=i*o,d=i*l,g=n*l,p=r*a,m=r*o,v=r*l,w=this.elements;return w[3*0+0]=1-(f+g),w[3*0+1]=u-v,w[3*0+2]=h+m,w[3*1+0]=u+v,w[3*1+1]=1-(c+g),w[3*1+2]=d-p,w[3*2+0]=h-m,w[3*2+1]=d+p,w[3*2+2]=1-(c+f),this}transpose(e){e===void 0&&(e=new Ki);const t=this.elements,i=e.elements;let n;return i[0]=t[0],i[4]=t[4],i[8]=t[8],n=t[1],i[1]=t[3],i[3]=n,n=t[2],i[2]=t[6],i[6]=n,n=t[5],i[5]=t[7],i[7]=n,e}}const qk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class N{constructor(e,t,i){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),this.x=e,this.y=t,this.z=i}cross(e,t){t===void 0&&(t=new N);const i=e.x,n=e.y,r=e.z,a=this.x,o=this.y,l=this.z;return t.x=o*r-l*n,t.y=l*i-a*r,t.z=a*n-o*i,t}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}setZero(){this.x=this.y=this.z=0}vadd(e,t){if(t)t.x=e.x+this.x,t.y=e.y+this.y,t.z=e.z+this.z;else return new N(this.x+e.x,this.y+e.y,this.z+e.z)}vsub(e,t){if(t)t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z;else return new N(this.x-e.x,this.y-e.y,this.z-e.z)}crossmat(){return new Ki([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,t=this.y,i=this.z,n=Math.sqrt(e*e+t*t+i*i);if(n>0){const r=1/n;this.x*=r,this.y*=r,this.z*=r}else this.x=0,this.y=0,this.z=0;return n}unit(e){e===void 0&&(e=new N);const t=this.x,i=this.y,n=this.z;let r=Math.sqrt(t*t+i*i+n*n);return r>0?(r=1/r,e.x=t*r,e.y=i*r,e.z=n*r):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)}lengthSquared(){return this.dot(this)}distanceTo(e){const t=this.x,i=this.y,n=this.z,r=e.x,a=e.y,o=e.z;return Math.sqrt((r-t)*(r-t)+(a-i)*(a-i)+(o-n)*(o-n))}distanceSquared(e){const t=this.x,i=this.y,n=this.z,r=e.x,a=e.y,o=e.z;return(r-t)*(r-t)+(a-i)*(a-i)+(o-n)*(o-n)}scale(e,t){t===void 0&&(t=new N);const i=this.x,n=this.y,r=this.z;return t.x=e*i,t.y=e*n,t.z=e*r,t}vmul(e,t){return t===void 0&&(t=new N),t.x=e.x*this.x,t.y=e.y*this.y,t.z=e.z*this.z,t}addScaledVector(e,t,i){return i===void 0&&(i=new N),i.x=this.x+e*t.x,i.y=this.y+e*t.y,i.z=this.z+e*t.z,i}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return this.x===0&&this.y===0&&this.z===0}negate(e){return e===void 0&&(e=new N),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,t){const i=this.length();if(i>0){const n=Xk,r=1/i;n.set(this.x*r,this.y*r,this.z*r);const a=Zk;Math.abs(n.x)<.9?(a.set(1,0,0),n.cross(a,e)):(a.set(0,1,0),n.cross(a,e)),n.cross(e,t)}else e.set(1,0,0),t.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,t,i){const n=this.x,r=this.y,a=this.z;i.x=n+(e.x-n)*t,i.y=r+(e.y-r)*t,i.z=a+(e.z-a)*t}almostEquals(e,t){return t===void 0&&(t=1e-6),!(Math.abs(this.x-e.x)>t||Math.abs(this.y-e.y)>t||Math.abs(this.z-e.z)>t)}almostZero(e){return e===void 0&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,t){return this.negate(xp),xp.almostEquals(e,t)}clone(){return new N(this.x,this.y,this.z)}}N.ZERO=new N(0,0,0);N.UNIT_X=new N(1,0,0);N.UNIT_Y=new N(0,1,0);N.UNIT_Z=new N(0,0,1);const Xk=new N,Zk=new N,xp=new N;class tn{constructor(e){e===void 0&&(e={}),this.lowerBound=new N,this.upperBound=new N,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,t,i,n){const r=this.lowerBound,a=this.upperBound,o=i;r.copy(e[0]),o&&o.vmult(r,r),a.copy(r);for(let l=1;l<e.length;l++){let c=e[l];o&&(o.vmult(c,Sp),c=Sp),c.x>a.x&&(a.x=c.x),c.x<r.x&&(r.x=c.x),c.y>a.y&&(a.y=c.y),c.y<r.y&&(r.y=c.y),c.z>a.z&&(a.z=c.z),c.z<r.z&&(r.z=c.z)}return t&&(t.vadd(r,r),t.vadd(a,a)),n&&(r.x-=n,r.y-=n,r.z-=n,a.x+=n,a.y+=n,a.z+=n),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return new tn().copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const t=this.lowerBound,i=this.upperBound,n=e.lowerBound,r=e.upperBound,a=n.x<=i.x&&i.x<=r.x||t.x<=r.x&&r.x<=i.x,o=n.y<=i.y&&i.y<=r.y||t.y<=r.y&&r.y<=i.y,l=n.z<=i.z&&i.z<=r.z||t.z<=r.z&&r.z<=i.z;return a&&o&&l}volume(){const e=this.lowerBound,t=this.upperBound;return(t.x-e.x)*(t.y-e.y)*(t.z-e.z)}contains(e){const t=this.lowerBound,i=this.upperBound,n=e.lowerBound,r=e.upperBound;return t.x<=n.x&&i.x>=r.x&&t.y<=n.y&&i.y>=r.y&&t.z<=n.z&&i.z>=r.z}getCorners(e,t,i,n,r,a,o,l){const c=this.lowerBound,u=this.upperBound;e.copy(c),t.set(u.x,c.y,c.z),i.set(u.x,u.y,c.z),n.set(c.x,u.y,u.z),r.set(u.x,c.y,u.z),a.set(c.x,u.y,c.z),o.set(c.x,c.y,u.z),l.copy(u)}toLocalFrame(e,t){const i=Mp,n=i[0],r=i[1],a=i[2],o=i[3],l=i[4],c=i[5],u=i[6],h=i[7];this.getCorners(n,r,a,o,l,c,u,h);for(let f=0;f!==8;f++){const d=i[f];e.pointToLocal(d,d)}return t.setFromPoints(i)}toWorldFrame(e,t){const i=Mp,n=i[0],r=i[1],a=i[2],o=i[3],l=i[4],c=i[5],u=i[6],h=i[7];this.getCorners(n,r,a,o,l,c,u,h);for(let f=0;f!==8;f++){const d=i[f];e.pointToWorld(d,d)}return t.setFromPoints(i)}overlapsRay(e){const{direction:t,from:i}=e,n=1/t.x,r=1/t.y,a=1/t.z,o=(this.lowerBound.x-i.x)*n,l=(this.upperBound.x-i.x)*n,c=(this.lowerBound.y-i.y)*r,u=(this.upperBound.y-i.y)*r,h=(this.lowerBound.z-i.z)*a,f=(this.upperBound.z-i.z)*a,d=Math.max(Math.max(Math.min(o,l),Math.min(c,u)),Math.min(h,f)),g=Math.min(Math.min(Math.max(o,l),Math.max(c,u)),Math.max(h,f));return!(g<0||d>g)}}const Sp=new N,Mp=[new N,new N,new N,new N,new N,new N,new N,new N];class Ep{constructor(){this.matrix=[]}get(e,t){let{index:i}=e,{index:n}=t;if(n>i){const r=n;n=i,i=r}return this.matrix[(i*(i+1)>>1)+n-1]}set(e,t,i){let{index:n}=e,{index:r}=t;if(r>n){const a=r;r=n,n=a}this.matrix[(n*(n+1)>>1)+r-1]=i?1:0}reset(){for(let e=0,t=this.matrix.length;e!==t;e++)this.matrix[e]=0}setNumObjects(e){this.matrix.length=e*(e-1)>>1}}class Z0{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;return i[e]===void 0&&(i[e]=[]),i[e].includes(t)||i[e].push(t),this}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return!!(i[e]!==void 0&&i[e].includes(t))}hasAnyEventListener(e){return this._listeners===void 0?!1:this._listeners[e]!==void 0}removeEventListener(e,t){if(this._listeners===void 0)return this;const i=this._listeners;if(i[e]===void 0)return this;const n=i[e].indexOf(t);return n!==-1&&i[e].splice(n,1),this}dispatchEvent(e){if(this._listeners===void 0)return this;const i=this._listeners[e.type];if(i!==void 0){e.target=this;for(let n=0,r=i.length;n<r;n++)i[n].call(this,e)}return this}}class Wt{constructor(e,t,i,n){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=1),this.x=e,this.y=t,this.z=i,this.w=n}set(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,t){const i=Math.sin(t*.5);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(t*.5),this}toAxisAngle(e){e===void 0&&(e=new N),this.normalize();const t=2*Math.acos(this.w),i=Math.sqrt(1-this.w*this.w);return i<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/i,e.y=this.y/i,e.z=this.z/i),[e,t]}setFromVectors(e,t){if(e.isAntiparallelTo(t)){const i=$k,n=Kk;e.tangents(i,n),this.setFromAxisAngle(i,Math.PI)}else{const i=e.cross(t);this.x=i.x,this.y=i.y,this.z=i.z,this.w=Math.sqrt(e.length()**2*t.length()**2)+e.dot(t),this.normalize()}return this}mult(e,t){t===void 0&&(t=new Wt);const i=this.x,n=this.y,r=this.z,a=this.w,o=e.x,l=e.y,c=e.z,u=e.w;return t.x=i*u+a*o+n*c-r*l,t.y=n*u+a*l+r*o-i*c,t.z=r*u+a*c+i*l-n*o,t.w=a*u-i*o-n*l-r*c,t}inverse(e){e===void 0&&(e=new Wt);const t=this.x,i=this.y,n=this.z,r=this.w;this.conjugate(e);const a=1/(t*t+i*i+n*n+r*r);return e.x*=a,e.y*=a,e.z*=a,e.w*=a,e}conjugate(e){return e===void 0&&(e=new Wt),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,t){t===void 0&&(t=new N);const i=e.x,n=e.y,r=e.z,a=this.x,o=this.y,l=this.z,c=this.w,u=c*i+o*r-l*n,h=c*n+l*i-a*r,f=c*r+a*n-o*i,d=-a*i-o*n-l*r;return t.x=u*c+d*-a+h*-l-f*-o,t.y=h*c+d*-o+f*-a-u*-l,t.z=f*c+d*-l+u*-o-h*-a,t}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,t){t===void 0&&(t="YZX");let i,n,r;const a=this.x,o=this.y,l=this.z,c=this.w;switch(t){case"YZX":const u=a*o+l*c;if(u>.499&&(i=2*Math.atan2(a,c),n=Math.PI/2,r=0),u<-.499&&(i=-2*Math.atan2(a,c),n=-Math.PI/2,r=0),i===void 0){const h=a*a,f=o*o,d=l*l;i=Math.atan2(2*o*c-2*a*l,1-2*f-2*d),n=Math.asin(2*u),r=Math.atan2(2*a*c-2*o*l,1-2*h-2*d)}break;default:throw new Error(`Euler order ${t} not supported yet.`)}e.y=i,e.z=n,e.x=r}setFromEuler(e,t,i,n){n===void 0&&(n="XYZ");const r=Math.cos(e/2),a=Math.cos(t/2),o=Math.cos(i/2),l=Math.sin(e/2),c=Math.sin(t/2),u=Math.sin(i/2);return n==="XYZ"?(this.x=l*a*o+r*c*u,this.y=r*c*o-l*a*u,this.z=r*a*u+l*c*o,this.w=r*a*o-l*c*u):n==="YXZ"?(this.x=l*a*o+r*c*u,this.y=r*c*o-l*a*u,this.z=r*a*u-l*c*o,this.w=r*a*o+l*c*u):n==="ZXY"?(this.x=l*a*o-r*c*u,this.y=r*c*o+l*a*u,this.z=r*a*u+l*c*o,this.w=r*a*o-l*c*u):n==="ZYX"?(this.x=l*a*o-r*c*u,this.y=r*c*o+l*a*u,this.z=r*a*u-l*c*o,this.w=r*a*o+l*c*u):n==="YZX"?(this.x=l*a*o+r*c*u,this.y=r*c*o+l*a*u,this.z=r*a*u-l*c*o,this.w=r*a*o-l*c*u):n==="XZY"&&(this.x=l*a*o-r*c*u,this.y=r*c*o-l*a*u,this.z=r*a*u+l*c*o,this.w=r*a*o+l*c*u),this}clone(){return new Wt(this.x,this.y,this.z,this.w)}slerp(e,t,i){i===void 0&&(i=new Wt);const n=this.x,r=this.y,a=this.z,o=this.w;let l=e.x,c=e.y,u=e.z,h=e.w,f,d,g,p,m;return d=n*l+r*c+a*u+o*h,d<0&&(d=-d,l=-l,c=-c,u=-u,h=-h),1-d>1e-6?(f=Math.acos(d),g=Math.sin(f),p=Math.sin((1-t)*f)/g,m=Math.sin(t*f)/g):(p=1-t,m=t),i.x=p*n+m*l,i.y=p*r+m*c,i.z=p*a+m*u,i.w=p*o+m*h,i}integrate(e,t,i,n){n===void 0&&(n=new Wt);const r=e.x*i.x,a=e.y*i.y,o=e.z*i.z,l=this.x,c=this.y,u=this.z,h=this.w,f=t*.5;return n.x+=f*(r*h+a*u-o*c),n.y+=f*(a*h+o*l-r*u),n.z+=f*(o*h+r*c-a*l),n.w+=f*(-r*l-a*c-o*u),n}}const $k=new N,Kk=new N,Jk={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};class Ve{constructor(e){e===void 0&&(e={}),this.id=Ve.idCounter++,this.type=e.type||0,this.boundingSphereRadius=0,this.collisionResponse=e.collisionResponse?e.collisionResponse:!0,this.collisionFilterGroup=e.collisionFilterGroup!==void 0?e.collisionFilterGroup:1,this.collisionFilterMask=e.collisionFilterMask!==void 0?e.collisionFilterMask:-1,this.material=e.material?e.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(e,t){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(e,t,i,n){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}Ve.idCounter=0;Ve.types=Jk;class Ct{constructor(e){e===void 0&&(e={}),this.position=new N,this.quaternion=new Wt,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,t){return Ct.pointToLocalFrame(this.position,this.quaternion,e,t)}pointToWorld(e,t){return Ct.pointToWorldFrame(this.position,this.quaternion,e,t)}vectorToWorldFrame(e,t){return t===void 0&&(t=new N),this.quaternion.vmult(e,t),t}static pointToLocalFrame(e,t,i,n){return n===void 0&&(n=new N),i.vsub(e,n),t.conjugate(Tp),Tp.vmult(n,n),n}static pointToWorldFrame(e,t,i,n){return n===void 0&&(n=new N),t.vmult(i,n),n.vadd(e,n),n}static vectorToWorldFrame(e,t,i){return i===void 0&&(i=new N),e.vmult(t,i),i}static vectorToLocalFrame(e,t,i,n){return n===void 0&&(n=new N),t.w*=-1,t.vmult(i,n),t.w*=-1,n}}const Tp=new Wt;class Fr extends Ve{constructor(e){e===void 0&&(e={});const{vertices:t=[],faces:i=[],normals:n=[],axes:r,boundingSphereRadius:a}=e;super({type:Ve.types.CONVEXPOLYHEDRON}),this.vertices=t,this.faces=i,this.faceNormals=n,this.faceNormals.length===0&&this.computeNormals(),a?this.boundingSphereRadius=a:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=r?r.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,t=this.vertices,i=this.uniqueEdges;i.length=0;const n=new N;for(let r=0;r!==e.length;r++){const a=e[r],o=a.length;for(let l=0;l!==o;l++){const c=(l+1)%o;t[a[l]].vsub(t[a[c]],n),n.normalize();let u=!1;for(let h=0;h!==i.length;h++)if(i[h].almostEquals(n)||i[h].almostEquals(n)){u=!0;break}u||i.push(n.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let n=0;n<this.faces[e].length;n++)if(!this.vertices[this.faces[e][n]])throw new Error(`Vertex ${this.faces[e][n]} not found!`);const t=this.faceNormals[e]||new N;this.getFaceNormal(e,t),t.negate(t),this.faceNormals[e]=t;const i=this.vertices[this.faces[e][0]];if(t.dot(i)<0){console.error(`.faceNormals[${e}] = Vec3(${t.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let n=0;n<this.faces[e].length;n++)console.warn(`.vertices[${this.faces[e][n]}] = Vec3(${this.vertices[this.faces[e][n]].toString()})`)}}}getFaceNormal(e,t){const i=this.faces[e],n=this.vertices[i[0]],r=this.vertices[i[1]],a=this.vertices[i[2]];Fr.computeNormal(n,r,a,t)}static computeNormal(e,t,i,n){const r=new N,a=new N;t.vsub(e,a),i.vsub(t,r),r.cross(a,n),n.isZero()||n.normalize()}clipAgainstHull(e,t,i,n,r,a,o,l,c){const u=new N;let h=-1,f=-Number.MAX_VALUE;for(let g=0;g<i.faces.length;g++){u.copy(i.faceNormals[g]),r.vmult(u,u);const p=u.dot(a);p>f&&(f=p,h=g)}const d=[];for(let g=0;g<i.faces[h].length;g++){const p=i.vertices[i.faces[h][g]],m=new N;m.copy(p),r.vmult(m,m),n.vadd(m,m),d.push(m)}h>=0&&this.clipFaceAgainstHull(a,e,t,d,o,l,c)}findSeparatingAxis(e,t,i,n,r,a,o,l){const c=new N,u=new N,h=new N,f=new N,d=new N,g=new N;let p=Number.MAX_VALUE;const m=this;if(m.uniqueAxes)for(let v=0;v!==m.uniqueAxes.length;v++){i.vmult(m.uniqueAxes[v],c);const w=m.testSepAxis(c,e,t,i,n,r);if(w===!1)return!1;w<p&&(p=w,a.copy(c))}else{const v=o?o.length:m.faces.length;for(let w=0;w<v;w++){const _=o?o[w]:w;c.copy(m.faceNormals[_]),i.vmult(c,c);const x=m.testSepAxis(c,e,t,i,n,r);if(x===!1)return!1;x<p&&(p=x,a.copy(c))}}if(e.uniqueAxes)for(let v=0;v!==e.uniqueAxes.length;v++){r.vmult(e.uniqueAxes[v],u);const w=m.testSepAxis(u,e,t,i,n,r);if(w===!1)return!1;w<p&&(p=w,a.copy(u))}else{const v=l?l.length:e.faces.length;for(let w=0;w<v;w++){const _=l?l[w]:w;u.copy(e.faceNormals[_]),r.vmult(u,u);const x=m.testSepAxis(u,e,t,i,n,r);if(x===!1)return!1;x<p&&(p=x,a.copy(u))}}for(let v=0;v!==m.uniqueEdges.length;v++){i.vmult(m.uniqueEdges[v],f);for(let w=0;w!==e.uniqueEdges.length;w++)if(r.vmult(e.uniqueEdges[w],d),f.cross(d,g),!g.almostZero()){g.normalize();const _=m.testSepAxis(g,e,t,i,n,r);if(_===!1)return!1;_<p&&(p=_,a.copy(g))}}return n.vsub(t,h),h.dot(a)>0&&a.negate(a),!0}testSepAxis(e,t,i,n,r,a){const o=this;Fr.project(o,e,i,n,Cc),Fr.project(t,e,r,a,Ac);const l=Cc[0],c=Cc[1],u=Ac[0],h=Ac[1];if(l<h||u<c)return!1;const f=l-h,d=u-c;return f<d?f:d}calculateLocalInertia(e,t){const i=new N,n=new N;this.computeLocalAABB(n,i);const r=i.x-n.x,a=i.y-n.y,o=i.z-n.z;t.x=1/12*e*(2*a*2*a+2*o*2*o),t.y=1/12*e*(2*r*2*r+2*o*2*o),t.z=1/12*e*(2*a*2*a+2*r*2*r)}getPlaneConstantOfFace(e){const t=this.faces[e],i=this.faceNormals[e],n=this.vertices[t[0]];return-i.dot(n)}clipFaceAgainstHull(e,t,i,n,r,a,o){const l=new N,c=new N,u=new N,h=new N,f=new N,d=new N,g=new N,p=new N,m=this,v=[],w=n,_=v;let x=-1,b=Number.MAX_VALUE;for(let C=0;C<m.faces.length;C++){l.copy(m.faceNormals[C]),i.vmult(l,l);const P=l.dot(e);P<b&&(b=P,x=C)}if(x<0)return;const S=m.faces[x];S.connectedFaces=[];for(let C=0;C<m.faces.length;C++)for(let P=0;P<m.faces[C].length;P++)S.indexOf(m.faces[C][P])!==-1&&C!==x&&S.connectedFaces.indexOf(C)===-1&&S.connectedFaces.push(C);const M=S.length;for(let C=0;C<M;C++){const P=m.vertices[S[C]],L=m.vertices[S[(C+1)%M]];P.vsub(L,c),u.copy(c),i.vmult(u,u),t.vadd(u,u),h.copy(this.faceNormals[x]),i.vmult(h,h),t.vadd(h,h),u.cross(h,f),f.negate(f),d.copy(P),i.vmult(d,d),t.vadd(d,d);const k=S.connectedFaces[C];g.copy(this.faceNormals[k]);const A=this.getPlaneConstantOfFace(k);p.copy(g),i.vmult(p,p);const I=A-p.dot(t);for(this.clipFaceAgainstPlane(w,_,p,I);w.length;)w.shift();for(;_.length;)w.push(_.shift())}g.copy(this.faceNormals[x]);const y=this.getPlaneConstantOfFace(x);p.copy(g),i.vmult(p,p);const E=y-p.dot(t);for(let C=0;C<w.length;C++){let P=p.dot(w[C])+E;if(P<=r&&(console.log(`clamped: depth=${P} to minDist=${r}`),P=r),P<=a){const L=w[C];if(P<=1e-6){const k={point:L,normal:p,depth:P};o.push(k)}}}}clipFaceAgainstPlane(e,t,i,n){let r,a;const o=e.length;if(o<2)return t;let l=e[e.length-1],c=e[0];r=i.dot(l)+n;for(let u=0;u<o;u++){if(c=e[u],a=i.dot(c)+n,r<0)if(a<0){const h=new N;h.copy(c),t.push(h)}else{const h=new N;l.lerp(c,r/(r-a),h),t.push(h)}else if(a<0){const h=new N;l.lerp(c,r/(r-a),h),t.push(h),t.push(c)}l=c,r=a}return t}computeWorldVertices(e,t){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new N);const i=this.vertices,n=this.worldVertices;for(let r=0;r!==this.vertices.length;r++)t.vmult(i[r],n[r]),e.vadd(n[r],n[r]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,t){const i=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),t.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let n=0;n<this.vertices.length;n++){const r=i[n];r.x<e.x?e.x=r.x:r.x>t.x&&(t.x=r.x),r.y<e.y?e.y=r.y:r.y>t.y&&(t.y=r.y),r.z<e.z?e.z=r.z:r.z>t.z&&(t.z=r.z)}}computeWorldFaceNormals(e){const t=this.faceNormals.length;for(;this.worldFaceNormals.length<t;)this.worldFaceNormals.push(new N);const i=this.faceNormals,n=this.worldFaceNormals;for(let r=0;r!==t;r++)e.vmult(i[r],n[r]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const t=this.vertices;for(let i=0;i!==t.length;i++){const n=t[i].lengthSquared();n>e&&(e=n)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,t,i,n){const r=this.vertices;let a,o,l,c,u,h,f=new N;for(let d=0;d<r.length;d++){f.copy(r[d]),t.vmult(f,f),e.vadd(f,f);const g=f;(a===void 0||g.x<a)&&(a=g.x),(c===void 0||g.x>c)&&(c=g.x),(o===void 0||g.y<o)&&(o=g.y),(u===void 0||g.y>u)&&(u=g.y),(l===void 0||g.z<l)&&(l=g.z),(h===void 0||g.z>h)&&(h=g.z)}i.set(a,o,l),n.set(c,u,h)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){e===void 0&&(e=new N);const t=this.vertices;for(let i=0;i<t.length;i++)e.vadd(t[i],e);return e.scale(1/t.length,e),e}transformAllPoints(e,t){const i=this.vertices.length,n=this.vertices;if(t){for(let r=0;r<i;r++){const a=n[r];t.vmult(a,a)}for(let r=0;r<this.faceNormals.length;r++){const a=this.faceNormals[r];t.vmult(a,a)}}if(e)for(let r=0;r<i;r++){const a=n[r];a.vadd(e,a)}}pointIsInside(e){const t=this.vertices,i=this.faces,n=this.faceNormals,r=null,a=new N;this.getAveragePointLocal(a);for(let o=0;o<this.faces.length;o++){let l=n[o];const c=t[i[o][0]],u=new N;e.vsub(c,u);const h=l.dot(u),f=new N;a.vsub(c,f);const d=l.dot(f);if(h<0&&d>0||h>0&&d<0)return!1}return r?1:-1}static project(e,t,i,n,r){const a=e.vertices.length,o=eP;let l=0,c=0;const u=tP,h=e.vertices;u.setZero(),Ct.vectorToLocalFrame(i,n,t,o),Ct.pointToLocalFrame(i,n,u,u);const f=u.dot(o);c=l=h[0].dot(o);for(let d=1;d<a;d++){const g=h[d].dot(o);g>l&&(l=g),g<c&&(c=g)}if(c-=f,l-=f,c>l){const d=c;c=l,l=d}r[0]=l,r[1]=c}}const Cc=[],Ac=[],Qk=new N,eP=new N,tP=new N;class ms extends Ve{constructor(e){super({type:Ve.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,t=this.halfExtents.y,i=this.halfExtents.z,n=N,r=[new n(-e,-t,-i),new n(e,-t,-i),new n(e,t,-i),new n(-e,t,-i),new n(-e,-t,i),new n(e,-t,i),new n(e,t,i),new n(-e,t,i)],a=[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],o=[new n(0,0,1),new n(0,1,0),new n(1,0,0)],l=new Fr({vertices:r,faces:a,axes:o});this.convexPolyhedronRepresentation=l,l.material=this.material}calculateLocalInertia(e,t){return t===void 0&&(t=new N),ms.calculateInertia(this.halfExtents,e,t),t}static calculateInertia(e,t,i){const n=e;i.x=1/12*t*(2*n.y*2*n.y+2*n.z*2*n.z),i.y=1/12*t*(2*n.x*2*n.x+2*n.z*2*n.z),i.z=1/12*t*(2*n.y*2*n.y+2*n.x*2*n.x)}getSideNormals(e,t){const i=e,n=this.halfExtents;if(i[0].set(n.x,0,0),i[1].set(0,n.y,0),i[2].set(0,0,n.z),i[3].set(-n.x,0,0),i[4].set(0,-n.y,0),i[5].set(0,0,-n.z),t!==void 0)for(let r=0;r!==i.length;r++)t.vmult(i[r],i[r]);return i}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,t,i){const n=this.halfExtents,r=[[n.x,n.y,n.z],[-n.x,n.y,n.z],[-n.x,-n.y,n.z],[-n.x,-n.y,-n.z],[n.x,-n.y,-n.z],[n.x,n.y,-n.z],[-n.x,n.y,-n.z],[n.x,-n.y,n.z]];for(let a=0;a<r.length;a++)hs.set(r[a][0],r[a][1],r[a][2]),t.vmult(hs,hs),e.vadd(hs,hs),i(hs.x,hs.y,hs.z)}calculateWorldAABB(e,t,i,n){const r=this.halfExtents;Sn[0].set(r.x,r.y,r.z),Sn[1].set(-r.x,r.y,r.z),Sn[2].set(-r.x,-r.y,r.z),Sn[3].set(-r.x,-r.y,-r.z),Sn[4].set(r.x,-r.y,-r.z),Sn[5].set(r.x,r.y,-r.z),Sn[6].set(-r.x,r.y,-r.z),Sn[7].set(r.x,-r.y,r.z);const a=Sn[0];t.vmult(a,a),e.vadd(a,a),n.copy(a),i.copy(a);for(let o=1;o<8;o++){const l=Sn[o];t.vmult(l,l),e.vadd(l,l);const c=l.x,u=l.y,h=l.z;c>n.x&&(n.x=c),u>n.y&&(n.y=u),h>n.z&&(n.z=h),c<i.x&&(i.x=c),u<i.y&&(i.y=u),h<i.z&&(i.z=h)}}}const hs=new N,Sn=[new N,new N,new N,new N,new N,new N,new N,new N],Yu={DYNAMIC:1,STATIC:2,KINEMATIC:4},qu={AWAKE:0,SLEEPY:1,SLEEPING:2};class Fe extends Z0{constructor(e){e===void 0&&(e={}),super(),this.id=Fe.idCounter++,this.index=-1,this.world=null,this.vlambda=new N,this.collisionFilterGroup=typeof e.collisionFilterGroup=="number"?e.collisionFilterGroup:1,this.collisionFilterMask=typeof e.collisionFilterMask=="number"?e.collisionFilterMask:-1,this.collisionResponse=typeof e.collisionResponse=="boolean"?e.collisionResponse:!0,this.position=new N,this.previousPosition=new N,this.interpolatedPosition=new N,this.initPosition=new N,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new N,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new N,this.force=new N;const t=typeof e.mass=="number"?e.mass:0;this.mass=t,this.invMass=t>0?1/t:0,this.material=e.material||null,this.linearDamping=typeof e.linearDamping=="number"?e.linearDamping:.01,this.type=t<=0?Fe.STATIC:Fe.DYNAMIC,typeof e.type==typeof Fe.STATIC&&(this.type=e.type),this.allowSleep=typeof e.allowSleep<"u"?e.allowSleep:!0,this.sleepState=Fe.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new N,this.quaternion=new Wt,this.initQuaternion=new Wt,this.previousQuaternion=new Wt,this.interpolatedQuaternion=new Wt,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new N,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new N,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new N,this.invInertia=new N,this.invInertiaWorld=new Ki,this.invMassSolve=0,this.invInertiaSolve=new N,this.invInertiaWorldSolve=new Ki,this.fixedRotation=typeof e.fixedRotation<"u"?e.fixedRotation:!1,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new N(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new N(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new tn,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new N,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=Fe.AWAKE,this.wakeUpAfterNarrowphase=!1,e===Fe.SLEEPING&&this.dispatchEvent(Fe.wakeupEvent)}sleep(){this.sleepState=Fe.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const t=this.sleepState,i=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),n=this.sleepSpeedLimit**2;t===Fe.AWAKE&&i<n?(this.sleepState=Fe.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(Fe.sleepyEvent)):t===Fe.SLEEPY&&i>n?this.wakeUp():t===Fe.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(Fe.sleepEvent))}}updateSolveMassProperties(){this.sleepState===Fe.SLEEPING||this.type===Fe.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,t){return t===void 0&&(t=new N),e.vsub(this.position,t),this.quaternion.conjugate().vmult(t,t),t}vectorToLocalFrame(e,t){return t===void 0&&(t=new N),this.quaternion.conjugate().vmult(e,t),t}pointToWorldFrame(e,t){return t===void 0&&(t=new N),this.quaternion.vmult(e,t),t.vadd(this.position,t),t}vectorToWorldFrame(e,t){return t===void 0&&(t=new N),this.quaternion.vmult(e,t),t}addShape(e,t,i){const n=new N,r=new Wt;return t&&n.copy(t),i&&r.copy(i),this.shapes.push(e),this.shapeOffsets.push(n),this.shapeOrientations.push(r),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const t=this.shapes.indexOf(e);return t===-1?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(t,1),this.shapeOffsets.splice(t,1),this.shapeOrientations.splice(t,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,t=this.shapeOffsets,i=e.length;let n=0;for(let r=0;r!==i;r++){const a=e[r];a.updateBoundingSphereRadius();const o=t[r].length(),l=a.boundingSphereRadius;o+l>n&&(n=o+l)}this.boundingRadius=n}updateAABB(){const e=this.shapes,t=this.shapeOffsets,i=this.shapeOrientations,n=e.length,r=iP,a=nP,o=this.quaternion,l=this.aabb,c=sP;for(let u=0;u!==n;u++){const h=e[u];o.vmult(t[u],r),r.vadd(this.position,r),o.mult(i[u],a),h.calculateWorldAABB(r,a,c.lowerBound,c.upperBound),u===0?l.copy(c):l.extend(c)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const t=this.invInertia;if(!(t.x===t.y&&t.y===t.z&&!e)){const i=rP,n=aP;i.setRotationFromQuaternion(this.quaternion),i.transpose(n),i.scale(t,i),i.mmult(n,this.invInertiaWorld)}}applyForce(e,t){if(t===void 0&&(t=new N),this.type!==Fe.DYNAMIC)return;this.sleepState===Fe.SLEEPING&&this.wakeUp();const i=lP;t.cross(e,i),this.force.vadd(e,this.force),this.torque.vadd(i,this.torque)}applyLocalForce(e,t){if(t===void 0&&(t=new N),this.type!==Fe.DYNAMIC)return;const i=cP,n=uP;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,n),this.applyForce(i,n)}applyTorque(e){this.type===Fe.DYNAMIC&&(this.sleepState===Fe.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,t){if(t===void 0&&(t=new N),this.type!==Fe.DYNAMIC)return;this.sleepState===Fe.SLEEPING&&this.wakeUp();const i=t,n=fP;n.copy(e),n.scale(this.invMass,n),this.velocity.vadd(n,this.velocity);const r=dP;i.cross(e,r),this.invInertiaWorld.vmult(r,r),this.angularVelocity.vadd(r,this.angularVelocity)}applyLocalImpulse(e,t){if(t===void 0&&(t=new N),this.type!==Fe.DYNAMIC)return;const i=hP,n=pP;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,n),this.applyImpulse(i,n)}updateMassProperties(){const e=mP;this.invMass=this.mass>0?1/this.mass:0;const t=this.inertia,i=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),ms.calculateInertia(e,this.mass,t),this.invInertia.set(t.x>0&&!i?1/t.x:0,t.y>0&&!i?1/t.y:0,t.z>0&&!i?1/t.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,t){const i=new N;return e.vsub(this.position,i),this.angularVelocity.cross(i,t),this.velocity.vadd(t,t),t}integrate(e,t,i){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),!(this.type===Fe.DYNAMIC||this.type===Fe.KINEMATIC)||this.sleepState===Fe.SLEEPING)return;const n=this.velocity,r=this.angularVelocity,a=this.position,o=this.force,l=this.torque,c=this.quaternion,u=this.invMass,h=this.invInertiaWorld,f=this.linearFactor,d=u*e;n.x+=o.x*d*f.x,n.y+=o.y*d*f.y,n.z+=o.z*d*f.z;const g=h.elements,p=this.angularFactor,m=l.x*p.x,v=l.y*p.y,w=l.z*p.z;r.x+=e*(g[0]*m+g[1]*v+g[2]*w),r.y+=e*(g[3]*m+g[4]*v+g[5]*w),r.z+=e*(g[6]*m+g[7]*v+g[8]*w),a.x+=n.x*e,a.y+=n.y*e,a.z+=n.z*e,c.integrate(this.angularVelocity,e,this.angularFactor,c),t&&(i?c.normalizeFast():c.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}Fe.idCounter=0;Fe.COLLIDE_EVENT_NAME="collide";Fe.DYNAMIC=Yu.DYNAMIC;Fe.STATIC=Yu.STATIC;Fe.KINEMATIC=Yu.KINEMATIC;Fe.AWAKE=qu.AWAKE;Fe.SLEEPY=qu.SLEEPY;Fe.SLEEPING=qu.SLEEPING;Fe.wakeupEvent={type:"wakeup"};Fe.sleepyEvent={type:"sleepy"};Fe.sleepEvent={type:"sleep"};const iP=new N,nP=new Wt,sP=new tn,rP=new Ki,aP=new Ki,oP=new Ki,lP=new N,cP=new N,uP=new N,fP=new N,dP=new N,hP=new N,pP=new N,mP=new N;class gP{constructor(){this.world=null,this.useBoundingBoxes=!1,this.dirty=!0}collisionPairs(e,t,i){throw new Error("collisionPairs not implemented for this BroadPhase class!")}needBroadphaseCollision(e,t){return!(!(e.collisionFilterGroup&t.collisionFilterMask)||!(t.collisionFilterGroup&e.collisionFilterMask)||(e.type&Fe.STATIC||e.sleepState===Fe.SLEEPING)&&(t.type&Fe.STATIC||t.sleepState===Fe.SLEEPING))}intersectionTest(e,t,i,n){this.useBoundingBoxes?this.doBoundingBoxBroadphase(e,t,i,n):this.doBoundingSphereBroadphase(e,t,i,n)}doBoundingSphereBroadphase(e,t,i,n){const r=vP;t.position.vsub(e.position,r);const a=(e.boundingRadius+t.boundingRadius)**2;r.lengthSquared()<a&&(i.push(e),n.push(t))}doBoundingBoxBroadphase(e,t,i,n){e.aabbNeedsUpdate&&e.updateAABB(),t.aabbNeedsUpdate&&t.updateAABB(),e.aabb.overlaps(t.aabb)&&(i.push(e),n.push(t))}makePairsUnique(e,t){const i=_P,n=wP,r=bP,a=e.length;for(let o=0;o!==a;o++)n[o]=e[o],r[o]=t[o];e.length=0,t.length=0;for(let o=0;o!==a;o++){const l=n[o].id,c=r[o].id,u=l<c?`${l},${c}`:`${c},${l}`;i[u]=o,i.keys.push(u)}for(let o=0;o!==i.keys.length;o++){const l=i.keys.pop(),c=i[l];e.push(n[c]),t.push(r[c]),delete i[l]}}setWorld(e){}static boundingSphereCheck(e,t){const i=new N;e.position.vsub(t.position,i);const n=e.shapes[0],r=t.shapes[0];return Math.pow(n.boundingSphereRadius+r.boundingSphereRadius,2)>i.lengthSquared()}aabbQuery(e,t,i){return console.warn(".aabbQuery is not implemented in this Broadphase subclass."),[]}}const vP=new N;new N;new Wt;new N;const _P={keys:[]},wP=[],bP=[];new N;new N;new N;class $0 extends gP{constructor(){super()}collisionPairs(e,t,i){const n=e.bodies,r=n.length;let a,o;for(let l=0;l!==r;l++)for(let c=0;c!==l;c++)a=n[l],o=n[c],this.needBroadphaseCollision(a,o)&&this.intersectionTest(a,o,t,i)}aabbQuery(e,t,i){i===void 0&&(i=[]);for(let n=0;n<e.bodies.length;n++){const r=e.bodies[n];r.aabbNeedsUpdate&&r.updateAABB(),r.aabb.overlaps(t)&&i.push(r)}return i}}class Jo{constructor(){this.rayFromWorld=new N,this.rayToWorld=new N,this.hitNormalWorld=new N,this.hitPointWorld=new N,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,t,i,n,r,a,o){this.rayFromWorld.copy(e),this.rayToWorld.copy(t),this.hitNormalWorld.copy(i),this.hitPointWorld.copy(n),this.shape=r,this.body=a,this.distance=o}}let K0,J0,Q0,ev,tv,iv,nv;const Xu={CLOSEST:1,ANY:2,ALL:4};K0=Ve.types.SPHERE;J0=Ve.types.PLANE;Q0=Ve.types.BOX;ev=Ve.types.CYLINDER;tv=Ve.types.CONVEXPOLYHEDRON;iv=Ve.types.HEIGHTFIELD;nv=Ve.types.TRIMESH;class Jt{get[K0](){return this._intersectSphere}get[J0](){return this._intersectPlane}get[Q0](){return this._intersectBox}get[ev](){return this._intersectConvex}get[tv](){return this._intersectConvex}get[iv](){return this._intersectHeightfield}get[nv](){return this._intersectTrimesh}constructor(e,t){e===void 0&&(e=new N),t===void 0&&(t=new N),this.from=e.clone(),this.to=t.clone(),this.direction=new N,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=Jt.ANY,this.result=new Jo,this.hasHit=!1,this.callback=i=>{}}intersectWorld(e,t){return this.mode=t.mode||Jt.ANY,this.result=t.result||new Jo,this.skipBackfaces=!!t.skipBackfaces,this.collisionFilterMask=typeof t.collisionFilterMask<"u"?t.collisionFilterMask:-1,this.collisionFilterGroup=typeof t.collisionFilterGroup<"u"?t.collisionFilterGroup:-1,this.checkCollisionResponse=typeof t.checkCollisionResponse<"u"?t.checkCollisionResponse:!0,t.from&&this.from.copy(t.from),t.to&&this.to.copy(t.to),this.callback=t.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(Cp),Lc.length=0,e.broadphase.aabbQuery(e,Cp,Lc),this.intersectBodies(Lc),this.hasHit}intersectBody(e,t){t&&(this.result=t,this.updateDirection());const i=this.checkCollisionResponse;if(i&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const n=yP,r=xP;for(let a=0,o=e.shapes.length;a<o;a++){const l=e.shapes[a];if(!(i&&!l.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[a],r),e.quaternion.vmult(e.shapeOffsets[a],n),n.vadd(e.position,n),this.intersectShape(l,r,n,e),this.result.shouldStop))break}}intersectBodies(e,t){t&&(this.result=t,this.updateDirection());for(let i=0,n=e.length;!this.result.shouldStop&&i<n;i++)this.intersectBody(e[i])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,t,i,n){const r=this.from;if(FP(r,this.direction,i)>e.boundingSphereRadius)return;const o=this[e.type];o&&o.call(this,e,t,i,n,e)}_intersectBox(e,t,i,n,r){return this._intersectConvex(e.convexPolyhedronRepresentation,t,i,n,r)}_intersectPlane(e,t,i,n,r){const a=this.from,o=this.to,l=this.direction,c=new N(0,0,1);t.vmult(c,c);const u=new N;a.vsub(i,u);const h=u.dot(c);o.vsub(i,u);const f=u.dot(c);if(h*f>0||a.distanceTo(o)<h)return;const d=c.dot(l);if(Math.abs(d)<this.precision)return;const g=new N,p=new N,m=new N;a.vsub(i,g);const v=-c.dot(g)/d;l.scale(v,p),a.vadd(p,m),this.reportIntersection(c,m,r,n,-1)}getAABB(e){const{lowerBound:t,upperBound:i}=e,n=this.to,r=this.from;t.x=Math.min(n.x,r.x),t.y=Math.min(n.y,r.y),t.z=Math.min(n.z,r.z),i.x=Math.max(n.x,r.x),i.y=Math.max(n.y,r.y),i.z=Math.max(n.z,r.z)}_intersectHeightfield(e,t,i,n,r){e.data,e.elementSize;const a=SP;a.from.copy(this.from),a.to.copy(this.to),Ct.pointToLocalFrame(i,t,a.from,a.from),Ct.pointToLocalFrame(i,t,a.to,a.to),a.updateDirection();const o=MP;let l,c,u,h;l=c=0,u=h=e.data.length-1;const f=new tn;a.getAABB(f),e.getIndexOfPosition(f.lowerBound.x,f.lowerBound.y,o,!0),l=Math.max(l,o[0]),c=Math.max(c,o[1]),e.getIndexOfPosition(f.upperBound.x,f.upperBound.y,o,!0),u=Math.min(u,o[0]+1),h=Math.min(h,o[1]+1);for(let d=l;d<u;d++)for(let g=c;g<h;g++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(d,g,f),!!f.overlapsRay(a)){if(e.getConvexTrianglePillar(d,g,!1),Ct.pointToWorldFrame(i,t,e.pillarOffset,To),this._intersectConvex(e.pillarConvex,t,To,n,r,Ap),this.result.shouldStop)return;e.getConvexTrianglePillar(d,g,!0),Ct.pointToWorldFrame(i,t,e.pillarOffset,To),this._intersectConvex(e.pillarConvex,t,To,n,r,Ap)}}}_intersectSphere(e,t,i,n,r){const a=this.from,o=this.to,l=e.radius,c=(o.x-a.x)**2+(o.y-a.y)**2+(o.z-a.z)**2,u=2*((o.x-a.x)*(a.x-i.x)+(o.y-a.y)*(a.y-i.y)+(o.z-a.z)*(a.z-i.z)),h=(a.x-i.x)**2+(a.y-i.y)**2+(a.z-i.z)**2-l**2,f=u**2-4*c*h,d=EP,g=TP;if(!(f<0))if(f===0)a.lerp(o,f,d),d.vsub(i,g),g.normalize(),this.reportIntersection(g,d,r,n,-1);else{const p=(-u-Math.sqrt(f))/(2*c),m=(-u+Math.sqrt(f))/(2*c);if(p>=0&&p<=1&&(a.lerp(o,p,d),d.vsub(i,g),g.normalize(),this.reportIntersection(g,d,r,n,-1)),this.result.shouldStop)return;m>=0&&m<=1&&(a.lerp(o,m,d),d.vsub(i,g),g.normalize(),this.reportIntersection(g,d,r,n,-1))}}_intersectConvex(e,t,i,n,r,a){const o=CP,l=Lp,c=a&&a.faceList||null,u=e.faces,h=e.vertices,f=e.faceNormals,d=this.direction,g=this.from,p=this.to,m=g.distanceTo(p),v=c?c.length:u.length,w=this.result;for(let _=0;!w.shouldStop&&_<v;_++){const x=c?c[_]:_,b=u[x],S=f[x],M=t,y=i;l.copy(h[b[0]]),M.vmult(l,l),l.vadd(y,l),l.vsub(g,l),M.vmult(S,o);const E=d.dot(o);if(Math.abs(E)<this.precision)continue;const C=o.dot(l)/E;if(!(C<0)){d.scale(C,Ri),Ri.vadd(g,Ri),mn.copy(h[b[0]]),M.vmult(mn,mn),y.vadd(mn,mn);for(let P=1;!w.shouldStop&&P<b.length-1;P++){Mn.copy(h[b[P]]),En.copy(h[b[P+1]]),M.vmult(Mn,Mn),M.vmult(En,En),y.vadd(Mn,Mn),y.vadd(En,En);const L=Ri.distanceTo(g);!(Jt.pointInTriangle(Ri,mn,Mn,En)||Jt.pointInTriangle(Ri,Mn,mn,En))||L>m||this.reportIntersection(o,Ri,r,n,x)}}}}_intersectTrimesh(e,t,i,n,r,a){const o=AP,l=RP,c=zP,u=Lp,h=LP,f=kP,d=PP,g=IP,p=DP,m=e.indices;e.vertices;const v=this.from,w=this.to,_=this.direction;c.position.copy(i),c.quaternion.copy(t),Ct.vectorToLocalFrame(i,t,_,h),Ct.pointToLocalFrame(i,t,v,f),Ct.pointToLocalFrame(i,t,w,d),d.x*=e.scale.x,d.y*=e.scale.y,d.z*=e.scale.z,f.x*=e.scale.x,f.y*=e.scale.y,f.z*=e.scale.z,d.vsub(f,h),h.normalize();const x=f.distanceSquared(d);e.tree.rayQuery(this,c,l);for(let b=0,S=l.length;!this.result.shouldStop&&b!==S;b++){const M=l[b];e.getNormal(M,o),e.getVertex(m[M*3],mn),mn.vsub(f,u);const y=h.dot(o),E=o.dot(u)/y;if(E<0)continue;h.scale(E,Ri),Ri.vadd(f,Ri),e.getVertex(m[M*3+1],Mn),e.getVertex(m[M*3+2],En);const C=Ri.distanceSquared(f);!(Jt.pointInTriangle(Ri,Mn,mn,En)||Jt.pointInTriangle(Ri,mn,Mn,En))||C>x||(Ct.vectorToWorldFrame(t,o,p),Ct.pointToWorldFrame(i,t,Ri,g),this.reportIntersection(p,g,r,n,M))}l.length=0}reportIntersection(e,t,i,n,r){const a=this.from,o=this.to,l=a.distanceTo(t),c=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(c.hitFaceIndex=typeof r<"u"?r:-1,this.mode){case Jt.ALL:this.hasHit=!0,c.set(a,o,e,t,i,n,l),c.hasHit=!0,this.callback(c);break;case Jt.CLOSEST:(l<c.distance||!c.hasHit)&&(this.hasHit=!0,c.hasHit=!0,c.set(a,o,e,t,i,n,l));break;case Jt.ANY:this.hasHit=!0,c.hasHit=!0,c.set(a,o,e,t,i,n,l),c.shouldStop=!0;break}}static pointInTriangle(e,t,i,n){n.vsub(t,Vs),i.vsub(t,pa),e.vsub(t,kc);const r=Vs.dot(Vs),a=Vs.dot(pa),o=Vs.dot(kc),l=pa.dot(pa),c=pa.dot(kc);let u,h;return(u=l*o-a*c)>=0&&(h=r*c-a*o)>=0&&u+h<r*l-a*a}}Jt.CLOSEST=Xu.CLOSEST;Jt.ANY=Xu.ANY;Jt.ALL=Xu.ALL;const Cp=new tn,Lc=[],pa=new N,kc=new N,yP=new N,xP=new Wt,Ri=new N,mn=new N,Mn=new N,En=new N;new N;new Jo;const Ap={faceList:[0]},To=new N,SP=new Jt,MP=[],EP=new N,TP=new N,CP=new N;new N;new N;const Lp=new N,AP=new N,LP=new N,kP=new N,PP=new N,DP=new N,IP=new N;new tn;const RP=[],zP=new Ct,Vs=new N,Co=new N;function FP(s,e,t){t.vsub(s,Vs);const i=Vs.dot(e);return e.scale(i,Co),Co.vadd(s,Co),t.distanceTo(Co)}class OP{static defaults(e,t){e===void 0&&(e={});for(let i in t)i in e||(e[i]=t[i]);return e}}class kp{constructor(){this.spatial=new N,this.rotational=new N}multiplyElement(e){return e.spatial.dot(this.spatial)+e.rotational.dot(this.rotational)}multiplyVectors(e,t){return e.dot(this.spatial)+t.dot(this.rotational)}}class Qa{constructor(e,t,i,n){i===void 0&&(i=-1e6),n===void 0&&(n=1e6),this.id=Qa.idCounter++,this.minForce=i,this.maxForce=n,this.bi=e,this.bj=t,this.a=0,this.b=0,this.eps=0,this.jacobianElementA=new kp,this.jacobianElementB=new kp,this.enabled=!0,this.multiplier=0,this.setSpookParams(1e7,4,1/60)}setSpookParams(e,t,i){const n=t,r=e,a=i;this.a=4/(a*(1+4*n)),this.b=4*n/(1+4*n),this.eps=4/(a*a*r*(1+4*n))}computeB(e,t,i){const n=this.computeGW(),r=this.computeGq(),a=this.computeGiMf();return-r*e-n*t-a*i}computeGq(){const e=this.jacobianElementA,t=this.jacobianElementB,i=this.bi,n=this.bj,r=i.position,a=n.position;return e.spatial.dot(r)+t.spatial.dot(a)}computeGW(){const e=this.jacobianElementA,t=this.jacobianElementB,i=this.bi,n=this.bj,r=i.velocity,a=n.velocity,o=i.angularVelocity,l=n.angularVelocity;return e.multiplyVectors(r,o)+t.multiplyVectors(a,l)}computeGWlambda(){const e=this.jacobianElementA,t=this.jacobianElementB,i=this.bi,n=this.bj,r=i.vlambda,a=n.vlambda,o=i.wlambda,l=n.wlambda;return e.multiplyVectors(r,o)+t.multiplyVectors(a,l)}computeGiMf(){const e=this.jacobianElementA,t=this.jacobianElementB,i=this.bi,n=this.bj,r=i.force,a=i.torque,o=n.force,l=n.torque,c=i.invMassSolve,u=n.invMassSolve;return r.scale(c,Pp),o.scale(u,Dp),i.invInertiaWorldSolve.vmult(a,Ip),n.invInertiaWorldSolve.vmult(l,Rp),e.multiplyVectors(Pp,Ip)+t.multiplyVectors(Dp,Rp)}computeGiMGt(){const e=this.jacobianElementA,t=this.jacobianElementB,i=this.bi,n=this.bj,r=i.invMassSolve,a=n.invMassSolve,o=i.invInertiaWorldSolve,l=n.invInertiaWorldSolve;let c=r+a;return o.vmult(e.rotational,Ao),c+=Ao.dot(e.rotational),l.vmult(t.rotational,Ao),c+=Ao.dot(t.rotational),c}addToWlambda(e){const t=this.jacobianElementA,i=this.jacobianElementB,n=this.bi,r=this.bj,a=NP;n.vlambda.addScaledVector(n.invMassSolve*e,t.spatial,n.vlambda),r.vlambda.addScaledVector(r.invMassSolve*e,i.spatial,r.vlambda),n.invInertiaWorldSolve.vmult(t.rotational,a),n.wlambda.addScaledVector(e,a,n.wlambda),r.invInertiaWorldSolve.vmult(i.rotational,a),r.wlambda.addScaledVector(e,a,r.wlambda)}computeC(){return this.computeGiMGt()+this.eps}}Qa.idCounter=0;const Pp=new N,Dp=new N,Ip=new N,Rp=new N,Ao=new N,NP=new N;class BP extends Qa{constructor(e,t,i){i===void 0&&(i=1e6),super(e,t,0,i),this.restitution=0,this.ri=new N,this.rj=new N,this.ni=new N}computeB(e){const t=this.a,i=this.b,n=this.bi,r=this.bj,a=this.ri,o=this.rj,l=VP,c=UP,u=n.velocity,h=n.angularVelocity;n.force,n.torque;const f=r.velocity,d=r.angularVelocity;r.force,r.torque;const g=WP,p=this.jacobianElementA,m=this.jacobianElementB,v=this.ni;a.cross(v,l),o.cross(v,c),v.negate(p.spatial),l.negate(p.rotational),m.spatial.copy(v),m.rotational.copy(c),g.copy(r.position),g.vadd(o,g),g.vsub(n.position,g),g.vsub(a,g);const w=v.dot(g),_=this.restitution+1,x=_*f.dot(v)-_*u.dot(v)+d.dot(c)-h.dot(l),b=this.computeGiMf();return-w*t-x*i-e*b}getImpactVelocityAlongNormal(){const e=GP,t=HP,i=jP,n=YP,r=qP;return this.bi.position.vadd(this.ri,i),this.bj.position.vadd(this.rj,n),this.bi.getVelocityAtWorldPoint(i,e),this.bj.getVelocityAtWorldPoint(n,t),e.vsub(t,r),this.ni.dot(r)}}const VP=new N,UP=new N,WP=new N,GP=new N,HP=new N,jP=new N,YP=new N,qP=new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;class zp extends Qa{constructor(e,t,i){super(e,t,-i,i),this.ri=new N,this.rj=new N,this.t=new N}computeB(e){this.a;const t=this.b;this.bi,this.bj;const i=this.ri,n=this.rj,r=XP,a=ZP,o=this.t;i.cross(o,r),n.cross(o,a);const l=this.jacobianElementA,c=this.jacobianElementB;o.negate(l.spatial),r.negate(l.rotational),c.spatial.copy(o),c.rotational.copy(a);const u=this.computeGW(),h=this.computeGiMf();return-u*t-e*h}}const XP=new N,ZP=new N;class Xs{constructor(e,t,i){i=OP.defaults(i,{friction:.3,restitution:.3,contactEquationStiffness:1e7,contactEquationRelaxation:3,frictionEquationStiffness:1e7,frictionEquationRelaxation:3}),this.id=Xs.idCounter++,this.materials=[e,t],this.friction=i.friction,this.restitution=i.restitution,this.contactEquationStiffness=i.contactEquationStiffness,this.contactEquationRelaxation=i.contactEquationRelaxation,this.frictionEquationStiffness=i.frictionEquationStiffness,this.frictionEquationRelaxation=i.frictionEquationRelaxation}}Xs.idCounter=0;class Zs{constructor(e){e===void 0&&(e={});let t="";typeof e=="string"&&(t=e,e={}),this.name=t,this.id=Zs.idCounter++,this.friction=typeof e.friction<"u"?e.friction:-1,this.restitution=typeof e.restitution<"u"?e.restitution:-1}}Zs.idCounter=0;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new Jt;new N;new N;new N;new N(1,0,0),new N(0,1,0),new N(0,0,1);new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;class $P extends Ve{constructor(){super({type:Ve.types.PLANE}),this.worldNormal=new N,this.worldNormalNeedsUpdate=!0,this.boundingSphereRadius=Number.MAX_VALUE}computeWorldNormal(e){const t=this.worldNormal;t.set(0,0,1),e.vmult(t,t),this.worldNormalNeedsUpdate=!1}calculateLocalInertia(e,t){return t===void 0&&(t=new N),t}volume(){return Number.MAX_VALUE}calculateWorldAABB(e,t,i,n){jn.set(0,0,1),t.vmult(jn,jn);const r=Number.MAX_VALUE;i.set(-r,-r,-r),n.set(r,r,r),jn.x===1?n.x=e.x:jn.x===-1&&(i.x=e.x),jn.y===1?n.y=e.y:jn.y===-1&&(i.y=e.y),jn.z===1?n.z=e.z:jn.z===-1&&(i.z=e.z)}updateBoundingSphereRadius(){this.boundingSphereRadius=Number.MAX_VALUE}}const jn=new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new N;new tn;new N;new tn;new N;new N;new N;new N;new N;new N;new N;new tn;new N;new Ct;new tn;class KP{constructor(){this.equations=[]}solve(e,t){return 0}addEquation(e){e.enabled&&!e.bi.isTrigger&&!e.bj.isTrigger&&this.equations.push(e)}removeEquation(e){const t=this.equations,i=t.indexOf(e);i!==-1&&t.splice(i,1)}removeAllEquations(){this.equations.length=0}}class JP extends KP{constructor(){super(),this.iterations=10,this.tolerance=1e-7}solve(e,t){let i=0;const n=this.iterations,r=this.tolerance*this.tolerance,a=this.equations,o=a.length,l=t.bodies,c=l.length,u=e;let h,f,d,g,p,m;if(o!==0)for(let x=0;x!==c;x++)l[x].updateSolveMassProperties();const v=eD,w=tD,_=QP;v.length=o,w.length=o,_.length=o;for(let x=0;x!==o;x++){const b=a[x];_[x]=0,w[x]=b.computeB(u),v[x]=1/b.computeC()}if(o!==0){for(let S=0;S!==c;S++){const M=l[S],y=M.vlambda,E=M.wlambda;y.set(0,0,0),E.set(0,0,0)}for(i=0;i!==n;i++){g=0;for(let S=0;S!==o;S++){const M=a[S];h=w[S],f=v[S],m=_[S],p=M.computeGWlambda(),d=f*(h-p-M.eps*m),m+d<M.minForce?d=M.minForce-m:m+d>M.maxForce&&(d=M.maxForce-m),_[S]+=d,g+=d>0?d:-d,M.addToWlambda(d)}if(g*g<r)break}for(let S=0;S!==c;S++){const M=l[S],y=M.velocity,E=M.angularVelocity;M.vlambda.vmul(M.linearFactor,M.vlambda),y.vadd(M.vlambda,y),M.wlambda.vmul(M.angularFactor,M.wlambda),E.vadd(M.wlambda,E)}let x=a.length;const b=1/u;for(;x--;)a[x].multiplier=_[x]*b}return i}}const QP=[],eD=[],tD=[];Fe.STATIC;class iD{constructor(){this.objects=[],this.type=Object}release(){const e=arguments.length;for(let t=0;t!==e;t++)this.objects.push(t<0||arguments.length<=t?void 0:arguments[t]);return this}get(){return this.objects.length===0?this.constructObject():this.objects.pop()}constructObject(){throw new Error("constructObject() not implemented in this Pool subclass yet!")}resize(e){const t=this.objects;for(;t.length>e;)t.pop();for(;t.length<e;)t.push(this.constructObject());return this}}class nD extends iD{constructor(){super(...arguments),this.type=N}constructObject(){return new N}}const Rt={sphereSphere:Ve.types.SPHERE,spherePlane:Ve.types.SPHERE|Ve.types.PLANE,boxBox:Ve.types.BOX|Ve.types.BOX,sphereBox:Ve.types.SPHERE|Ve.types.BOX,planeBox:Ve.types.PLANE|Ve.types.BOX,convexConvex:Ve.types.CONVEXPOLYHEDRON,sphereConvex:Ve.types.SPHERE|Ve.types.CONVEXPOLYHEDRON,planeConvex:Ve.types.PLANE|Ve.types.CONVEXPOLYHEDRON,boxConvex:Ve.types.BOX|Ve.types.CONVEXPOLYHEDRON,sphereHeightfield:Ve.types.SPHERE|Ve.types.HEIGHTFIELD,boxHeightfield:Ve.types.BOX|Ve.types.HEIGHTFIELD,convexHeightfield:Ve.types.CONVEXPOLYHEDRON|Ve.types.HEIGHTFIELD,sphereParticle:Ve.types.PARTICLE|Ve.types.SPHERE,planeParticle:Ve.types.PLANE|Ve.types.PARTICLE,boxParticle:Ve.types.BOX|Ve.types.PARTICLE,convexParticle:Ve.types.PARTICLE|Ve.types.CONVEXPOLYHEDRON,cylinderCylinder:Ve.types.CYLINDER,sphereCylinder:Ve.types.SPHERE|Ve.types.CYLINDER,planeCylinder:Ve.types.PLANE|Ve.types.CYLINDER,boxCylinder:Ve.types.BOX|Ve.types.CYLINDER,convexCylinder:Ve.types.CONVEXPOLYHEDRON|Ve.types.CYLINDER,heightfieldCylinder:Ve.types.HEIGHTFIELD|Ve.types.CYLINDER,particleCylinder:Ve.types.PARTICLE|Ve.types.CYLINDER,sphereTrimesh:Ve.types.SPHERE|Ve.types.TRIMESH,planeTrimesh:Ve.types.PLANE|Ve.types.TRIMESH};class sD{get[Rt.sphereSphere](){return this.sphereSphere}get[Rt.spherePlane](){return this.spherePlane}get[Rt.boxBox](){return this.boxBox}get[Rt.sphereBox](){return this.sphereBox}get[Rt.planeBox](){return this.planeBox}get[Rt.convexConvex](){return this.convexConvex}get[Rt.sphereConvex](){return this.sphereConvex}get[Rt.planeConvex](){return this.planeConvex}get[Rt.boxConvex](){return this.boxConvex}get[Rt.sphereHeightfield](){return this.sphereHeightfield}get[Rt.boxHeightfield](){return this.boxHeightfield}get[Rt.convexHeightfield](){return this.convexHeightfield}get[Rt.sphereParticle](){return this.sphereParticle}get[Rt.planeParticle](){return this.planeParticle}get[Rt.boxParticle](){return this.boxParticle}get[Rt.convexParticle](){return this.convexParticle}get[Rt.cylinderCylinder](){return this.convexConvex}get[Rt.sphereCylinder](){return this.sphereConvex}get[Rt.planeCylinder](){return this.planeConvex}get[Rt.boxCylinder](){return this.boxConvex}get[Rt.convexCylinder](){return this.convexConvex}get[Rt.heightfieldCylinder](){return this.heightfieldCylinder}get[Rt.particleCylinder](){return this.particleCylinder}get[Rt.sphereTrimesh](){return this.sphereTrimesh}get[Rt.planeTrimesh](){return this.planeTrimesh}constructor(e){this.contactPointPool=[],this.frictionEquationPool=[],this.result=[],this.frictionResult=[],this.v3pool=new nD,this.world=e,this.currentContactMaterial=e.defaultContactMaterial,this.enableFrictionReduction=!1}createContactEquation(e,t,i,n,r,a){let o;this.contactPointPool.length?(o=this.contactPointPool.pop(),o.bi=e,o.bj=t):o=new BP(e,t),o.enabled=e.collisionResponse&&t.collisionResponse&&i.collisionResponse&&n.collisionResponse;const l=this.currentContactMaterial;o.restitution=l.restitution,o.setSpookParams(l.contactEquationStiffness,l.contactEquationRelaxation,this.world.dt);const c=i.material||e.material,u=n.material||t.material;return c&&u&&c.restitution>=0&&u.restitution>=0&&(o.restitution=c.restitution*u.restitution),o.si=r||i,o.sj=a||n,o}createFrictionEquationsFromContact(e,t){const i=e.bi,n=e.bj,r=e.si,a=e.sj,o=this.world,l=this.currentContactMaterial;let c=l.friction;const u=r.material||i.material,h=a.material||n.material;if(u&&h&&u.friction>=0&&h.friction>=0&&(c=u.friction*h.friction),c>0){const f=c*(o.frictionGravity||o.gravity).length();let d=i.invMass+n.invMass;d>0&&(d=1/d);const g=this.frictionEquationPool,p=g.length?g.pop():new zp(i,n,f*d),m=g.length?g.pop():new zp(i,n,f*d);return p.bi=m.bi=i,p.bj=m.bj=n,p.minForce=m.minForce=-f*d,p.maxForce=m.maxForce=f*d,p.ri.copy(e.ri),p.rj.copy(e.rj),m.ri.copy(e.ri),m.rj.copy(e.rj),e.ni.tangents(p.t,m.t),p.setSpookParams(l.frictionEquationStiffness,l.frictionEquationRelaxation,o.dt),m.setSpookParams(l.frictionEquationStiffness,l.frictionEquationRelaxation,o.dt),p.enabled=m.enabled=e.enabled,t.push(p,m),!0}return!1}createFrictionFromAverage(e){let t=this.result[this.result.length-1];if(!this.createFrictionEquationsFromContact(t,this.frictionResult)||e===1)return;const i=this.frictionResult[this.frictionResult.length-2],n=this.frictionResult[this.frictionResult.length-1];Fs.setZero(),Sr.setZero(),Mr.setZero();const r=t.bi;t.bj;for(let o=0;o!==e;o++)t=this.result[this.result.length-1-o],t.bi!==r?(Fs.vadd(t.ni,Fs),Sr.vadd(t.ri,Sr),Mr.vadd(t.rj,Mr)):(Fs.vsub(t.ni,Fs),Sr.vadd(t.rj,Sr),Mr.vadd(t.ri,Mr));const a=1/e;Sr.scale(a,i.ri),Mr.scale(a,i.rj),n.ri.copy(i.ri),n.rj.copy(i.rj),Fs.normalize(),Fs.tangents(i.t,n.t)}getContacts(e,t,i,n,r,a,o){this.contactPointPool=r,this.frictionEquationPool=o,this.result=n,this.frictionResult=a;const l=oD,c=lD,u=rD,h=aD;for(let f=0,d=e.length;f!==d;f++){const g=e[f],p=t[f];let m=null;g.material&&p.material&&(m=i.getContactMaterial(g.material,p.material)||null);const v=g.type&Fe.KINEMATIC&&p.type&Fe.STATIC||g.type&Fe.STATIC&&p.type&Fe.KINEMATIC||g.type&Fe.KINEMATIC&&p.type&Fe.KINEMATIC;for(let w=0;w<g.shapes.length;w++){g.quaternion.mult(g.shapeOrientations[w],l),g.quaternion.vmult(g.shapeOffsets[w],u),u.vadd(g.position,u);const _=g.shapes[w];for(let x=0;x<p.shapes.length;x++){p.quaternion.mult(p.shapeOrientations[x],c),p.quaternion.vmult(p.shapeOffsets[x],h),h.vadd(p.position,h);const b=p.shapes[x];if(!(_.collisionFilterMask&b.collisionFilterGroup&&b.collisionFilterMask&_.collisionFilterGroup)||u.distanceTo(h)>_.boundingSphereRadius+b.boundingSphereRadius)continue;let S=null;_.material&&b.material&&(S=i.getContactMaterial(_.material,b.material)||null),this.currentContactMaterial=S||m||i.defaultContactMaterial;const M=_.type|b.type,y=this[M];if(y){let E=!1;_.type<b.type?E=y.call(this,_,b,u,h,l,c,g,p,_,b,v):E=y.call(this,b,_,h,u,c,l,p,g,_,b,v),E&&v&&(i.shapeOverlapKeeper.set(_.id,b.id),i.bodyOverlapKeeper.set(g.id,p.id))}}}}}sphereSphere(e,t,i,n,r,a,o,l,c,u,h){if(h)return i.distanceSquared(n)<(e.radius+t.radius)**2;const f=this.createContactEquation(o,l,e,t,c,u);n.vsub(i,f.ni),f.ni.normalize(),f.ri.copy(f.ni),f.rj.copy(f.ni),f.ri.scale(e.radius,f.ri),f.rj.scale(-t.radius,f.rj),f.ri.vadd(i,f.ri),f.ri.vsub(o.position,f.ri),f.rj.vadd(n,f.rj),f.rj.vsub(l.position,f.rj),this.result.push(f),this.createFrictionEquationsFromContact(f,this.frictionResult)}spherePlane(e,t,i,n,r,a,o,l,c,u,h){const f=this.createContactEquation(o,l,e,t,c,u);if(f.ni.set(0,0,1),a.vmult(f.ni,f.ni),f.ni.negate(f.ni),f.ni.normalize(),f.ni.scale(e.radius,f.ri),i.vsub(n,Lo),f.ni.scale(f.ni.dot(Lo),Fp),Lo.vsub(Fp,f.rj),-Lo.dot(f.ni)<=e.radius){if(h)return!0;const d=f.ri,g=f.rj;d.vadd(i,d),d.vsub(o.position,d),g.vadd(n,g),g.vsub(l.position,g),this.result.push(f),this.createFrictionEquationsFromContact(f,this.frictionResult)}}boxBox(e,t,i,n,r,a,o,l,c,u,h){return e.convexPolyhedronRepresentation.material=e.material,t.convexPolyhedronRepresentation.material=t.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,t.convexPolyhedronRepresentation,i,n,r,a,o,l,e,t,h)}sphereBox(e,t,i,n,r,a,o,l,c,u,h){const f=this.v3pool,d=RD;i.vsub(n,ko),t.getSideNormals(d,a);const g=e.radius;let p=!1;const m=FD,v=OD,w=ND;let _=null,x=0,b=0,S=0,M=null;for(let R=0,O=d.length;R!==O&&p===!1;R++){const z=PD;z.copy(d[R]);const V=z.length();z.normalize();const $=ko.dot(z);if($<V+g&&$>0){const K=DD,U=ID;K.copy(d[(R+1)%3]),U.copy(d[(R+2)%3]);const ee=K.length(),Z=U.length();K.normalize(),U.normalize();const te=ko.dot(K),j=ko.dot(U);if(te<ee&&te>-ee&&j<Z&&j>-Z){const ie=Math.abs($-V-g);if((M===null||ie<M)&&(M=ie,b=te,S=j,_=V,m.copy(z),v.copy(K),w.copy(U),x++,h))return!0}}}if(x){p=!0;const R=this.createContactEquation(o,l,e,t,c,u);m.scale(-g,R.ri),R.ni.copy(m),R.ni.negate(R.ni),m.scale(_,m),v.scale(b,v),m.vadd(v,m),w.scale(S,w),m.vadd(w,R.rj),R.ri.vadd(i,R.ri),R.ri.vsub(o.position,R.ri),R.rj.vadd(n,R.rj),R.rj.vsub(l.position,R.rj),this.result.push(R),this.createFrictionEquationsFromContact(R,this.frictionResult)}let y=f.get();const E=zD;for(let R=0;R!==2&&!p;R++)for(let O=0;O!==2&&!p;O++)for(let z=0;z!==2&&!p;z++)if(y.set(0,0,0),R?y.vadd(d[0],y):y.vsub(d[0],y),O?y.vadd(d[1],y):y.vsub(d[1],y),z?y.vadd(d[2],y):y.vsub(d[2],y),n.vadd(y,E),E.vsub(i,E),E.lengthSquared()<g*g){if(h)return!0;p=!0;const V=this.createContactEquation(o,l,e,t,c,u);V.ri.copy(E),V.ri.normalize(),V.ni.copy(V.ri),V.ri.scale(g,V.ri),V.rj.copy(y),V.ri.vadd(i,V.ri),V.ri.vsub(o.position,V.ri),V.rj.vadd(n,V.rj),V.rj.vsub(l.position,V.rj),this.result.push(V),this.createFrictionEquationsFromContact(V,this.frictionResult)}f.release(y),y=null;const C=f.get(),P=f.get(),L=f.get(),k=f.get(),A=f.get(),I=d.length;for(let R=0;R!==I&&!p;R++)for(let O=0;O!==I&&!p;O++)if(R%3!==O%3){d[O].cross(d[R],C),C.normalize(),d[R].vadd(d[O],P),L.copy(i),L.vsub(P,L),L.vsub(n,L);const z=L.dot(C);C.scale(z,k);let V=0;for(;V===R%3||V===O%3;)V++;A.copy(i),A.vsub(k,A),A.vsub(P,A),A.vsub(n,A);const $=Math.abs(z),K=A.length();if($<d[V].length()&&K<g){if(h)return!0;p=!0;const U=this.createContactEquation(o,l,e,t,c,u);P.vadd(k,U.rj),U.rj.copy(U.rj),A.negate(U.ni),U.ni.normalize(),U.ri.copy(U.rj),U.ri.vadd(n,U.ri),U.ri.vsub(i,U.ri),U.ri.normalize(),U.ri.scale(g,U.ri),U.ri.vadd(i,U.ri),U.ri.vsub(o.position,U.ri),U.rj.vadd(n,U.rj),U.rj.vsub(l.position,U.rj),this.result.push(U),this.createFrictionEquationsFromContact(U,this.frictionResult)}}f.release(C,P,L,k,A)}planeBox(e,t,i,n,r,a,o,l,c,u,h){return t.convexPolyhedronRepresentation.material=t.material,t.convexPolyhedronRepresentation.collisionResponse=t.collisionResponse,t.convexPolyhedronRepresentation.id=t.id,this.planeConvex(e,t.convexPolyhedronRepresentation,i,n,r,a,o,l,e,t,h)}convexConvex(e,t,i,n,r,a,o,l,c,u,h,f,d){const g=QD;if(!(i.distanceTo(n)>e.boundingSphereRadius+t.boundingSphereRadius)&&e.findSeparatingAxis(t,i,r,n,a,g,f,d)){const p=[],m=eI;e.clipAgainstHull(i,r,t,n,a,g,-100,100,p);let v=0;for(let w=0;w!==p.length;w++){if(h)return!0;const _=this.createContactEquation(o,l,e,t,c,u),x=_.ri,b=_.rj;g.negate(_.ni),p[w].normal.negate(m),m.scale(p[w].depth,m),p[w].point.vadd(m,x),b.copy(p[w].point),x.vsub(i,x),b.vsub(n,b),x.vadd(i,x),x.vsub(o.position,x),b.vadd(n,b),b.vsub(l.position,b),this.result.push(_),v++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(_,this.frictionResult)}this.enableFrictionReduction&&v&&this.createFrictionFromAverage(v)}}sphereConvex(e,t,i,n,r,a,o,l,c,u,h){const f=this.v3pool;i.vsub(n,BD);const d=t.faceNormals,g=t.faces,p=t.vertices,m=e.radius;let v=!1;for(let w=0;w!==p.length;w++){const _=p[w],x=GD;a.vmult(_,x),n.vadd(x,x);const b=WD;if(x.vsub(i,b),b.lengthSquared()<m*m){if(h)return!0;v=!0;const S=this.createContactEquation(o,l,e,t,c,u);S.ri.copy(b),S.ri.normalize(),S.ni.copy(S.ri),S.ri.scale(m,S.ri),x.vsub(n,S.rj),S.ri.vadd(i,S.ri),S.ri.vsub(o.position,S.ri),S.rj.vadd(n,S.rj),S.rj.vsub(l.position,S.rj),this.result.push(S),this.createFrictionEquationsFromContact(S,this.frictionResult);return}}for(let w=0,_=g.length;w!==_&&v===!1;w++){const x=d[w],b=g[w],S=HD;a.vmult(x,S);const M=jD;a.vmult(p[b[0]],M),M.vadd(n,M);const y=YD;S.scale(-m,y),i.vadd(y,y);const E=qD;y.vsub(M,E);const C=E.dot(S),P=XD;if(i.vsub(M,P),C<0&&P.dot(S)>0){const L=[];for(let k=0,A=b.length;k!==A;k++){const I=f.get();a.vmult(p[b[k]],I),n.vadd(I,I),L.push(I)}if(kD(L,S,i)){if(h)return!0;v=!0;const k=this.createContactEquation(o,l,e,t,c,u);S.scale(-m,k.ri),S.negate(k.ni);const A=f.get();S.scale(-C,A);const I=f.get();S.scale(-m,I),i.vsub(n,k.rj),k.rj.vadd(I,k.rj),k.rj.vadd(A,k.rj),k.rj.vadd(n,k.rj),k.rj.vsub(l.position,k.rj),k.ri.vadd(i,k.ri),k.ri.vsub(o.position,k.ri),f.release(A),f.release(I),this.result.push(k),this.createFrictionEquationsFromContact(k,this.frictionResult);for(let R=0,O=L.length;R!==O;R++)f.release(L[R]);return}else for(let k=0;k!==b.length;k++){const A=f.get(),I=f.get();a.vmult(p[b[(k+1)%b.length]],A),a.vmult(p[b[(k+2)%b.length]],I),n.vadd(A,A),n.vadd(I,I);const R=VD;I.vsub(A,R);const O=UD;R.unit(O);const z=f.get(),V=f.get();i.vsub(A,V);const $=V.dot(O);O.scale($,z),z.vadd(A,z);const K=f.get();if(z.vsub(i,K),$>0&&$*$<R.lengthSquared()&&K.lengthSquared()<m*m){if(h)return!0;const U=this.createContactEquation(o,l,e,t,c,u);z.vsub(n,U.rj),z.vsub(i,U.ni),U.ni.normalize(),U.ni.scale(m,U.ri),U.rj.vadd(n,U.rj),U.rj.vsub(l.position,U.rj),U.ri.vadd(i,U.ri),U.ri.vsub(o.position,U.ri),this.result.push(U),this.createFrictionEquationsFromContact(U,this.frictionResult);for(let ee=0,Z=L.length;ee!==Z;ee++)f.release(L[ee]);f.release(A),f.release(I),f.release(z),f.release(K),f.release(V);return}f.release(A),f.release(I),f.release(z),f.release(K),f.release(V)}for(let k=0,A=L.length;k!==A;k++)f.release(L[k])}}}planeConvex(e,t,i,n,r,a,o,l,c,u,h){const f=ZD,d=$D;d.set(0,0,1),r.vmult(d,d);let g=0;const p=KD;for(let m=0;m!==t.vertices.length;m++)if(f.copy(t.vertices[m]),a.vmult(f,f),n.vadd(f,f),f.vsub(i,p),d.dot(p)<=0){if(h)return!0;const w=this.createContactEquation(o,l,e,t,c,u),_=JD;d.scale(d.dot(p),_),f.vsub(_,_),_.vsub(i,w.ri),w.ni.copy(d),f.vsub(n,w.rj),w.ri.vadd(i,w.ri),w.ri.vsub(o.position,w.ri),w.rj.vadd(n,w.rj),w.rj.vsub(l.position,w.rj),this.result.push(w),g++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(w,this.frictionResult)}this.enableFrictionReduction&&g&&this.createFrictionFromAverage(g)}boxConvex(e,t,i,n,r,a,o,l,c,u,h){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,t,i,n,r,a,o,l,e,t,h)}sphereHeightfield(e,t,i,n,r,a,o,l,c,u,h){const f=t.data,d=e.radius,g=t.elementSize,p=dI,m=fI;Ct.pointToLocalFrame(n,a,i,m);let v=Math.floor((m.x-d)/g)-1,w=Math.ceil((m.x+d)/g)+1,_=Math.floor((m.y-d)/g)-1,x=Math.ceil((m.y+d)/g)+1;if(w<0||x<0||v>f.length||_>f[0].length)return;v<0&&(v=0),w<0&&(w=0),_<0&&(_=0),x<0&&(x=0),v>=f.length&&(v=f.length-1),w>=f.length&&(w=f.length-1),x>=f[0].length&&(x=f[0].length-1),_>=f[0].length&&(_=f[0].length-1);const b=[];t.getRectMinMax(v,_,w,x,b);const S=b[0],M=b[1];if(m.z-d>M||m.z+d<S)return;const y=this.result;for(let E=v;E<w;E++)for(let C=_;C<x;C++){const P=y.length;let L=!1;if(t.getConvexTrianglePillar(E,C,!1),Ct.pointToWorldFrame(n,a,t.pillarOffset,p),i.distanceTo(p)<t.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(L=this.sphereConvex(e,t.pillarConvex,i,p,r,a,o,l,e,t,h)),h&&L||(t.getConvexTrianglePillar(E,C,!0),Ct.pointToWorldFrame(n,a,t.pillarOffset,p),i.distanceTo(p)<t.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(L=this.sphereConvex(e,t.pillarConvex,i,p,r,a,o,l,e,t,h)),h&&L))return!0;if(y.length-P>2)return}}boxHeightfield(e,t,i,n,r,a,o,l,c,u,h){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexHeightfield(e.convexPolyhedronRepresentation,t,i,n,r,a,o,l,e,t,h)}convexHeightfield(e,t,i,n,r,a,o,l,c,u,h){const f=t.data,d=t.elementSize,g=e.boundingSphereRadius,p=cI,m=uI,v=lI;Ct.pointToLocalFrame(n,a,i,v);let w=Math.floor((v.x-g)/d)-1,_=Math.ceil((v.x+g)/d)+1,x=Math.floor((v.y-g)/d)-1,b=Math.ceil((v.y+g)/d)+1;if(_<0||b<0||w>f.length||x>f[0].length)return;w<0&&(w=0),_<0&&(_=0),x<0&&(x=0),b<0&&(b=0),w>=f.length&&(w=f.length-1),_>=f.length&&(_=f.length-1),b>=f[0].length&&(b=f[0].length-1),x>=f[0].length&&(x=f[0].length-1);const S=[];t.getRectMinMax(w,x,_,b,S);const M=S[0],y=S[1];if(!(v.z-g>y||v.z+g<M))for(let E=w;E<_;E++)for(let C=x;C<b;C++){let P=!1;if(t.getConvexTrianglePillar(E,C,!1),Ct.pointToWorldFrame(n,a,t.pillarOffset,p),i.distanceTo(p)<t.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(P=this.convexConvex(e,t.pillarConvex,i,p,r,a,o,l,null,null,h,m,null)),h&&P||(t.getConvexTrianglePillar(E,C,!0),Ct.pointToWorldFrame(n,a,t.pillarOffset,p),i.distanceTo(p)<t.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(P=this.convexConvex(e,t.pillarConvex,i,p,r,a,o,l,null,null,h,m,null)),h&&P))return!0}}sphereParticle(e,t,i,n,r,a,o,l,c,u,h){const f=sI;if(f.set(0,0,1),n.vsub(i,f),f.lengthSquared()<=e.radius*e.radius){if(h)return!0;const g=this.createContactEquation(l,o,t,e,c,u);f.normalize(),g.rj.copy(f),g.rj.scale(e.radius,g.rj),g.ni.copy(f),g.ni.negate(g.ni),g.ri.set(0,0,0),this.result.push(g),this.createFrictionEquationsFromContact(g,this.frictionResult)}}planeParticle(e,t,i,n,r,a,o,l,c,u,h){const f=tI;f.set(0,0,1),o.quaternion.vmult(f,f);const d=iI;if(n.vsub(o.position,d),f.dot(d)<=0){if(h)return!0;const p=this.createContactEquation(l,o,t,e,c,u);p.ni.copy(f),p.ni.negate(p.ni),p.ri.set(0,0,0);const m=nI;f.scale(f.dot(n),m),n.vsub(m,m),p.rj.copy(m),this.result.push(p),this.createFrictionEquationsFromContact(p,this.frictionResult)}}boxParticle(e,t,i,n,r,a,o,l,c,u,h){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexParticle(e.convexPolyhedronRepresentation,t,i,n,r,a,o,l,e,t,h)}convexParticle(e,t,i,n,r,a,o,l,c,u,h){let f=-1;const d=aI,g=oI;let p=null;const m=rI;if(m.copy(n),m.vsub(i,m),r.conjugate(Op),Op.vmult(m,m),e.pointIsInside(m)){e.worldVerticesNeedsUpdate&&e.computeWorldVertices(i,r),e.worldFaceNormalsNeedsUpdate&&e.computeWorldFaceNormals(r);for(let v=0,w=e.faces.length;v!==w;v++){const _=[e.worldVertices[e.faces[v][0]]],x=e.worldFaceNormals[v];n.vsub(_[0],Np);const b=-x.dot(Np);if(p===null||Math.abs(b)<Math.abs(p)){if(h)return!0;p=b,f=v,d.copy(x)}}if(f!==-1){const v=this.createContactEquation(l,o,t,e,c,u);d.scale(p,g),g.vadd(n,g),g.vsub(i,g),v.rj.copy(g),d.negate(v.ni),v.ri.set(0,0,0);const w=v.ri,_=v.rj;w.vadd(n,w),w.vsub(l.position,w),_.vadd(i,_),_.vsub(o.position,_),this.result.push(v),this.createFrictionEquationsFromContact(v,this.frictionResult)}else console.warn("Point found inside convex, but did not find penetrating face!")}}heightfieldCylinder(e,t,i,n,r,a,o,l,c,u,h){return this.convexHeightfield(t,e,n,i,a,r,l,o,c,u,h)}particleCylinder(e,t,i,n,r,a,o,l,c,u,h){return this.convexParticle(t,e,n,i,a,r,l,o,c,u,h)}sphereTrimesh(e,t,i,n,r,a,o,l,c,u,h){const f=gD,d=vD,g=_D,p=wD,m=bD,v=yD,w=ED,_=mD,x=hD,b=TD;Ct.pointToLocalFrame(n,a,i,m);const S=e.radius;w.lowerBound.set(m.x-S,m.y-S,m.z-S),w.upperBound.set(m.x+S,m.y+S,m.z+S),t.getTrianglesInAABB(w,b);const M=pD,y=e.radius*e.radius;for(let k=0;k<b.length;k++)for(let A=0;A<3;A++)if(t.getVertex(t.indices[b[k]*3+A],M),M.vsub(m,x),x.lengthSquared()<=y){if(_.copy(M),Ct.pointToWorldFrame(n,a,_,M),M.vsub(i,x),h)return!0;let I=this.createContactEquation(o,l,e,t,c,u);I.ni.copy(x),I.ni.normalize(),I.ri.copy(I.ni),I.ri.scale(e.radius,I.ri),I.ri.vadd(i,I.ri),I.ri.vsub(o.position,I.ri),I.rj.copy(M),I.rj.vsub(l.position,I.rj),this.result.push(I),this.createFrictionEquationsFromContact(I,this.frictionResult)}for(let k=0;k<b.length;k++)for(let A=0;A<3;A++){t.getVertex(t.indices[b[k]*3+A],f),t.getVertex(t.indices[b[k]*3+(A+1)%3],d),d.vsub(f,g),m.vsub(d,v);const I=v.dot(g);m.vsub(f,v);let R=v.dot(g);if(R>0&&I<0&&(m.vsub(f,v),p.copy(g),p.normalize(),R=v.dot(p),p.scale(R,v),v.vadd(f,v),v.distanceTo(m)<e.radius)){if(h)return!0;const z=this.createContactEquation(o,l,e,t,c,u);v.vsub(m,z.ni),z.ni.normalize(),z.ni.scale(e.radius,z.ri),z.ri.vadd(i,z.ri),z.ri.vsub(o.position,z.ri),Ct.pointToWorldFrame(n,a,v,v),v.vsub(l.position,z.rj),Ct.vectorToWorldFrame(a,z.ni,z.ni),Ct.vectorToWorldFrame(a,z.ri,z.ri),this.result.push(z),this.createFrictionEquationsFromContact(z,this.frictionResult)}}const E=xD,C=SD,P=MD,L=dD;for(let k=0,A=b.length;k!==A;k++){t.getTriangleVertices(b[k],E,C,P),t.getNormal(b[k],L),m.vsub(E,v);let I=v.dot(L);if(L.scale(I,v),m.vsub(v,v),I=v.distanceTo(m),Jt.pointInTriangle(v,E,C,P)&&I<e.radius){if(h)return!0;let R=this.createContactEquation(o,l,e,t,c,u);v.vsub(m,R.ni),R.ni.normalize(),R.ni.scale(e.radius,R.ri),R.ri.vadd(i,R.ri),R.ri.vsub(o.position,R.ri),Ct.pointToWorldFrame(n,a,v,v),v.vsub(l.position,R.rj),Ct.vectorToWorldFrame(a,R.ni,R.ni),Ct.vectorToWorldFrame(a,R.ri,R.ri),this.result.push(R),this.createFrictionEquationsFromContact(R,this.frictionResult)}}b.length=0}planeTrimesh(e,t,i,n,r,a,o,l,c,u,h){const f=new N,d=cD;d.set(0,0,1),r.vmult(d,d);for(let g=0;g<t.vertices.length/3;g++){t.getVertex(g,f);const p=new N;p.copy(f),Ct.pointToWorldFrame(n,a,p,f);const m=uD;if(f.vsub(i,m),d.dot(m)<=0){if(h)return!0;const w=this.createContactEquation(o,l,e,t,c,u);w.ni.copy(d);const _=fD;d.scale(m.dot(d),_),f.vsub(_,_),w.ri.copy(_),w.ri.vsub(o.position,w.ri),w.rj.copy(f),w.rj.vsub(l.position,w.rj),this.result.push(w),this.createFrictionEquationsFromContact(w,this.frictionResult)}}}}const Fs=new N,Sr=new N,Mr=new N,rD=new N,aD=new N,oD=new Wt,lD=new Wt,cD=new N,uD=new N,fD=new N,dD=new N,hD=new N;new N;const pD=new N,mD=new N,gD=new N,vD=new N,_D=new N,wD=new N,bD=new N,yD=new N,xD=new N,SD=new N,MD=new N,ED=new tn,TD=[],Lo=new N,Fp=new N,CD=new N,AD=new N,LD=new N;function kD(s,e,t){let i=null;const n=s.length;for(let r=0;r!==n;r++){const a=s[r],o=CD;s[(r+1)%n].vsub(a,o);const l=AD;o.cross(e,l);const c=LD;t.vsub(a,c);const u=l.dot(c);if(i===null||u>0&&i===!0||u<=0&&i===!1){i===null&&(i=u>0);continue}else return!1}return!0}const ko=new N,PD=new N,DD=new N,ID=new N,RD=[new N,new N,new N,new N,new N,new N],zD=new N,FD=new N,OD=new N,ND=new N,BD=new N,VD=new N,UD=new N,WD=new N,GD=new N,HD=new N,jD=new N,YD=new N,qD=new N,XD=new N;new N;new N;const ZD=new N,$D=new N,KD=new N,JD=new N,QD=new N,eI=new N,tI=new N,iI=new N,nI=new N,sI=new N,Op=new Wt,rI=new N;new N;const aI=new N,Np=new N,oI=new N,lI=new N,cI=new N,uI=[0],fI=new N,dI=new N;class Bp{constructor(){this.current=[],this.previous=[]}getKey(e,t){if(t<e){const i=t;t=e,e=i}return e<<16|t}set(e,t){const i=this.getKey(e,t),n=this.current;let r=0;for(;i>n[r];)r++;if(i!==n[r]){for(let a=n.length-1;a>=r;a--)n[a+1]=n[a];n[r]=i}}tick(){const e=this.current;this.current=this.previous,this.previous=e,this.current.length=0}getDiff(e,t){const i=this.current,n=this.previous,r=i.length,a=n.length;let o=0;for(let l=0;l<r;l++){let c=!1;const u=i[l];for(;u>n[o];)o++;c=u===n[o],c||Vp(e,u)}o=0;for(let l=0;l<a;l++){let c=!1;const u=n[l];for(;u>i[o];)o++;c=i[o]===u,c||Vp(t,u)}}}function Vp(s,e){s.push((e&4294901760)>>16,e&65535)}const Pc=(s,e)=>s<e?`${s}-${e}`:`${e}-${s}`;class hI{constructor(){this.data={keys:[]}}get(e,t){const i=Pc(e,t);return this.data[i]}set(e,t,i){const n=Pc(e,t);this.get(e,t)||this.data.keys.push(n),this.data[n]=i}delete(e,t){const i=Pc(e,t),n=this.data.keys.indexOf(i);n!==-1&&this.data.keys.splice(n,1),delete this.data[i]}reset(){const e=this.data,t=e.keys;for(;t.length>0;){const i=t.pop();delete e[i]}}}class pI extends Z0{constructor(e){e===void 0&&(e={}),super(),this.dt=-1,this.allowSleep=!!e.allowSleep,this.contacts=[],this.frictionEquations=[],this.quatNormalizeSkip=e.quatNormalizeSkip!==void 0?e.quatNormalizeSkip:0,this.quatNormalizeFast=e.quatNormalizeFast!==void 0?e.quatNormalizeFast:!1,this.time=0,this.stepnumber=0,this.default_dt=1/60,this.nextId=0,this.gravity=new N,e.gravity&&this.gravity.copy(e.gravity),e.frictionGravity&&(this.frictionGravity=new N,this.frictionGravity.copy(e.frictionGravity)),this.broadphase=e.broadphase!==void 0?e.broadphase:new $0,this.bodies=[],this.hasActiveBodies=!1,this.solver=e.solver!==void 0?e.solver:new JP,this.constraints=[],this.narrowphase=new sD(this),this.collisionMatrix=new Ep,this.collisionMatrixPrevious=new Ep,this.bodyOverlapKeeper=new Bp,this.shapeOverlapKeeper=new Bp,this.contactmaterials=[],this.contactMaterialTable=new hI,this.defaultMaterial=new Zs("default"),this.defaultContactMaterial=new Xs(this.defaultMaterial,this.defaultMaterial,{friction:.3,restitution:0}),this.doProfiling=!1,this.profile={solve:0,makeContactConstraints:0,broadphase:0,integrate:0,narrowphase:0},this.accumulator=0,this.subsystems=[],this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.idToBodyMap={},this.broadphase.setWorld(this)}getContactMaterial(e,t){return this.contactMaterialTable.get(e.id,t.id)}collisionMatrixTick(){const e=this.collisionMatrixPrevious;this.collisionMatrixPrevious=this.collisionMatrix,this.collisionMatrix=e,this.collisionMatrix.reset(),this.bodyOverlapKeeper.tick(),this.shapeOverlapKeeper.tick()}addConstraint(e){this.constraints.push(e)}removeConstraint(e){const t=this.constraints.indexOf(e);t!==-1&&this.constraints.splice(t,1)}rayTest(e,t,i){i instanceof Jo?this.raycastClosest(e,t,{skipBackfaces:!0},i):this.raycastAll(e,t,{skipBackfaces:!0},i)}raycastAll(e,t,i,n){return i===void 0&&(i={}),i.mode=Jt.ALL,i.from=e,i.to=t,i.callback=n,Dc.intersectWorld(this,i)}raycastAny(e,t,i,n){return i===void 0&&(i={}),i.mode=Jt.ANY,i.from=e,i.to=t,i.result=n,Dc.intersectWorld(this,i)}raycastClosest(e,t,i,n){return i===void 0&&(i={}),i.mode=Jt.CLOSEST,i.from=e,i.to=t,i.result=n,Dc.intersectWorld(this,i)}addBody(e){this.bodies.includes(e)||(e.index=this.bodies.length,this.bodies.push(e),e.world=this,e.initPosition.copy(e.position),e.initVelocity.copy(e.velocity),e.timeLastSleepy=this.time,e instanceof Fe&&(e.initAngularVelocity.copy(e.angularVelocity),e.initQuaternion.copy(e.quaternion)),this.collisionMatrix.setNumObjects(this.bodies.length),this.addBodyEvent.body=e,this.idToBodyMap[e.id]=e,this.dispatchEvent(this.addBodyEvent))}removeBody(e){e.world=null;const t=this.bodies.length-1,i=this.bodies,n=i.indexOf(e);if(n!==-1){i.splice(n,1);for(let r=0;r!==i.length;r++)i[r].index=r;this.collisionMatrix.setNumObjects(t),this.removeBodyEvent.body=e,delete this.idToBodyMap[e.id],this.dispatchEvent(this.removeBodyEvent)}}getBodyById(e){return this.idToBodyMap[e]}getShapeById(e){const t=this.bodies;for(let i=0;i<t.length;i++){const n=t[i].shapes;for(let r=0;r<n.length;r++){const a=n[r];if(a.id===e)return a}}return null}addContactMaterial(e){this.contactmaterials.push(e),this.contactMaterialTable.set(e.materials[0].id,e.materials[1].id,e)}removeContactMaterial(e){const t=this.contactmaterials.indexOf(e);t!==-1&&(this.contactmaterials.splice(t,1),this.contactMaterialTable.delete(e.materials[0].id,e.materials[1].id))}fixedStep(e,t){e===void 0&&(e=1/60),t===void 0&&(t=10);const i=ii.now()/1e3;if(!this.lastCallTime)this.step(e,void 0,t);else{const n=i-this.lastCallTime;this.step(e,n,t)}this.lastCallTime=i}step(e,t,i){if(i===void 0&&(i=10),t===void 0)this.internalStep(e),this.time+=e;else{this.accumulator+=t;const n=ii.now();let r=0;for(;this.accumulator>=e&&r<i&&(this.internalStep(e),this.accumulator-=e,r++,!(ii.now()-n>e*1e3)););this.accumulator=this.accumulator%e;const a=this.accumulator/e;for(let o=0;o!==this.bodies.length;o++){const l=this.bodies[o];l.previousPosition.lerp(l.position,a,l.interpolatedPosition),l.previousQuaternion.slerp(l.quaternion,a,l.interpolatedQuaternion),l.previousQuaternion.normalize()}this.time+=t}}internalStep(e){this.dt=e;const t=this.contacts,i=wI,n=bI,r=this.bodies.length,a=this.bodies,o=this.solver,l=this.gravity,c=this.doProfiling,u=this.profile,h=Fe.DYNAMIC;let f=-1/0;const d=this.constraints,g=_I;l.length();const p=l.x,m=l.y,v=l.z;let w=0;for(c&&(f=ii.now()),w=0;w!==r;w++){const k=a[w];if(k.type===h){const A=k.force,I=k.mass;A.x+=I*p,A.y+=I*m,A.z+=I*v}}for(let k=0,A=this.subsystems.length;k!==A;k++)this.subsystems[k].update();c&&(f=ii.now()),i.length=0,n.length=0,this.broadphase.collisionPairs(this,i,n),c&&(u.broadphase=ii.now()-f);let _=d.length;for(w=0;w!==_;w++){const k=d[w];if(!k.collideConnected)for(let A=i.length-1;A>=0;A-=1)(k.bodyA===i[A]&&k.bodyB===n[A]||k.bodyB===i[A]&&k.bodyA===n[A])&&(i.splice(A,1),n.splice(A,1))}this.collisionMatrixTick(),c&&(f=ii.now());const x=vI,b=t.length;for(w=0;w!==b;w++)x.push(t[w]);t.length=0;const S=this.frictionEquations.length;for(w=0;w!==S;w++)g.push(this.frictionEquations[w]);for(this.frictionEquations.length=0,this.narrowphase.getContacts(i,n,this,t,x,this.frictionEquations,g),c&&(u.narrowphase=ii.now()-f),c&&(f=ii.now()),w=0;w<this.frictionEquations.length;w++)o.addEquation(this.frictionEquations[w]);const M=t.length;for(let k=0;k!==M;k++){const A=t[k],I=A.bi,R=A.bj,O=A.si,z=A.sj;let V;if(I.material&&R.material?V=this.getContactMaterial(I.material,R.material)||this.defaultContactMaterial:V=this.defaultContactMaterial,V.friction,I.material&&R.material&&(I.material.friction>=0&&R.material.friction>=0&&I.material.friction*R.material.friction,I.material.restitution>=0&&R.material.restitution>=0&&(A.restitution=I.material.restitution*R.material.restitution)),o.addEquation(A),I.allowSleep&&I.type===Fe.DYNAMIC&&I.sleepState===Fe.SLEEPING&&R.sleepState===Fe.AWAKE&&R.type!==Fe.STATIC){const $=R.velocity.lengthSquared()+R.angularVelocity.lengthSquared(),K=R.sleepSpeedLimit**2;$>=K*2&&(I.wakeUpAfterNarrowphase=!0)}if(R.allowSleep&&R.type===Fe.DYNAMIC&&R.sleepState===Fe.SLEEPING&&I.sleepState===Fe.AWAKE&&I.type!==Fe.STATIC){const $=I.velocity.lengthSquared()+I.angularVelocity.lengthSquared(),K=I.sleepSpeedLimit**2;$>=K*2&&(R.wakeUpAfterNarrowphase=!0)}this.collisionMatrix.set(I,R,!0),this.collisionMatrixPrevious.get(I,R)||(ma.body=R,ma.contact=A,I.dispatchEvent(ma),ma.body=I,R.dispatchEvent(ma)),this.bodyOverlapKeeper.set(I.id,R.id),this.shapeOverlapKeeper.set(O.id,z.id)}for(this.emitContactEvents(),c&&(u.makeContactConstraints=ii.now()-f,f=ii.now()),w=0;w!==r;w++){const k=a[w];k.wakeUpAfterNarrowphase&&(k.wakeUp(),k.wakeUpAfterNarrowphase=!1)}for(_=d.length,w=0;w!==_;w++){const k=d[w];k.update();for(let A=0,I=k.equations.length;A!==I;A++){const R=k.equations[A];o.addEquation(R)}}o.solve(e,this),c&&(u.solve=ii.now()-f),o.removeAllEquations();const y=Math.pow;for(w=0;w!==r;w++){const k=a[w];if(k.type&h){const A=y(1-k.linearDamping,e),I=k.velocity;I.scale(A,I);const R=k.angularVelocity;if(R){const O=y(1-k.angularDamping,e);R.scale(O,R)}}}this.dispatchEvent(gI),c&&(f=ii.now());const C=this.stepnumber%(this.quatNormalizeSkip+1)===0,P=this.quatNormalizeFast;for(w=0;w!==r;w++)a[w].integrate(e,C,P);this.clearForces(),this.broadphase.dirty=!0,c&&(u.integrate=ii.now()-f),this.stepnumber+=1,this.dispatchEvent(mI);let L=!0;if(this.allowSleep)for(L=!1,w=0;w!==r;w++){const k=a[w];k.sleepTick(this.time),k.sleepState!==Fe.SLEEPING&&(L=!0)}this.hasActiveBodies=L}emitContactEvents(){const e=this.hasAnyEventListener("beginContact"),t=this.hasAnyEventListener("endContact");if((e||t)&&this.bodyOverlapKeeper.getDiff(Yn,qn),e){for(let r=0,a=Yn.length;r<a;r+=2)ga.bodyA=this.getBodyById(Yn[r]),ga.bodyB=this.getBodyById(Yn[r+1]),this.dispatchEvent(ga);ga.bodyA=ga.bodyB=null}if(t){for(let r=0,a=qn.length;r<a;r+=2)va.bodyA=this.getBodyById(qn[r]),va.bodyB=this.getBodyById(qn[r+1]),this.dispatchEvent(va);va.bodyA=va.bodyB=null}Yn.length=qn.length=0;const i=this.hasAnyEventListener("beginShapeContact"),n=this.hasAnyEventListener("endShapeContact");if((i||n)&&this.shapeOverlapKeeper.getDiff(Yn,qn),i){for(let r=0,a=Yn.length;r<a;r+=2){const o=this.getShapeById(Yn[r]),l=this.getShapeById(Yn[r+1]);Xn.shapeA=o,Xn.shapeB=l,o&&(Xn.bodyA=o.body),l&&(Xn.bodyB=l.body),this.dispatchEvent(Xn)}Xn.bodyA=Xn.bodyB=Xn.shapeA=Xn.shapeB=null}if(n){for(let r=0,a=qn.length;r<a;r+=2){const o=this.getShapeById(qn[r]),l=this.getShapeById(qn[r+1]);Zn.shapeA=o,Zn.shapeB=l,o&&(Zn.bodyA=o.body),l&&(Zn.bodyB=l.body),this.dispatchEvent(Zn)}Zn.bodyA=Zn.bodyB=Zn.shapeA=Zn.shapeB=null}}clearForces(){const e=this.bodies,t=e.length;for(let i=0;i!==t;i++){const n=e[i];n.force,n.torque,n.force.set(0,0,0),n.torque.set(0,0,0)}}}new tn;const Dc=new Jt,ii=globalThis.performance||{};if(!ii.now){let s=Date.now();ii.timing&&ii.timing.navigationStart&&(s=ii.timing.navigationStart),ii.now=()=>Date.now()-s}new N;const mI={type:"postStep"},gI={type:"preStep"},ma={type:Fe.COLLIDE_EVENT_NAME,body:null,contact:null},vI=[],_I=[],wI=[],bI=[],Yn=[],qn=[],ga={type:"beginContact",bodyA:null,bodyB:null},va={type:"endContact",bodyA:null,bodyB:null},Xn={type:"beginShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null},Zn={type:"endShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null};class yI{constructor(){this.world=null}setWorld(e){this.world=e,this.diceBodyMaterial=new Zs,this.floorBodyMaterial=new Zs,this.barrierBodyMaterial=new Zs,this.world.addContactMaterial(new Xs(this.floorBodyMaterial,this.diceBodyMaterial,{friction:.01,restitution:.5})),this.world.addContactMaterial(new Xs(this.barrierBodyMaterial,this.diceBodyMaterial,{friction:0,restitution:1})),this.world.addContactMaterial(new Xs(this.diceBodyMaterial,this.diceBodyMaterial,{friction:0,restitution:.5}))}prepareValues(e){if(this.throwRunning)throw new Error("Cannot start another throw. Please wait, till the current throw is finished.");for(let i=0;i<e.length;i++)if(e[i].value<1||e[i].dice.values<e[i].value)throw new Error("Cannot throw die to value "+e[i].value+", because it has only "+e[i].dice.values+" sides.");this.throwRunning=!0;for(let i=0;i<e.length;i++)e[i].dice.simulationRunning=!0,e[i].vectors=e[i].dice.getCurrentVectors(),e[i].stableCount=0;let t=()=>{let i=!0;for(let n=0;n<e.length;n++)e[n].dice.isFinished()?e[n].stableCount++:e[n].stableCount=0,e[n].stableCount<50&&(i=!1);if(i){Or.world.removeEventListener("postStep",t);for(let n=0;n<e.length;n++)e[n].dice.shiftUpperValue(e[n].value),e[n].dice.resetBody(),e[n].dice.setVectors(e[n].vectors),e[n].dice.simulationRunning=!1;this.throwRunning=!1}else Or.world.step(Or.world.dt)};this.world.addEventListener("postStep",t)}}class na{constructor(e){e=this.setDefaults(e,{size:100,fontColor:"#000000",backColor:"#ffffff"}),this.object=null,this.size=e.size,this.invertUpside=!1,this.materialOptions={specular:1515554,color:15790320,shininess:40,flatShading:!0},this.labelColor=e.fontColor,this.diceColor=e.backColor,this.manager=e.manager||null}setDefaults(e,t){e=e||{};for(let i in t)t.hasOwnProperty(i)&&(i in e||(e[i]=t[i]));return e}emulateThrow(e){let t=0,i=()=>{this.isFinished()?(t++,t===50&&(this.manager.world.removeEventListener("postStep",i),e(this.getUpsideValue()))):t=0,this.manager.world.step(this.manager.world.dt)};this.manager.world.addEventListener("postStep",i)}isFinished(){let e=1,t=this.object.body.angularVelocity,i=this.object.body.velocity;return Math.abs(t.x)<e&&Math.abs(t.y)<e&&Math.abs(t.z)<e&&Math.abs(i.x)<e&&Math.abs(i.y)<e&&Math.abs(i.z)<e}getUpsideValue(){let e=new re(0,this.invertUpside?-1:1),t,i=Math.PI*2,n=this.object.geometry.getAttribute("normal").array;for(let r=0;r<this.object.geometry.groups.length;++r){let a=this.object.geometry.groups[r];if(a.materialIndex===0)continue;let o=r*9,c=new re(n[o],n[o+1],n[o+2]).clone().applyQuaternion(this.object.body.quaternion).angleTo(e);c<i&&(i=c,t=a)}return t.materialIndex-1}getCurrentVectors(){return{position:this.object.body.position.clone(),quaternion:this.object.body.quaternion.clone(),velocity:this.object.body.velocity.clone(),angularVelocity:this.object.body.angularVelocity.clone()}}setVectors(e){this.object.body.position=e.position,this.object.body.quaternion=e.quaternion,this.object.body.velocity=e.velocity,this.object.body.angularVelocity=e.angularVelocity}shiftUpperValue(e){let t=this.object.geometry.clone(),i=this.getUpsideValue();for(let n=0,r=t.groups.length;n<r;++n){let a=t.groups[n].materialIndex;if(a!==0){for(a+=e-i-1;a>this.values;)a-=this.values;for(;a<1;)a+=this.values;t.groups[n].materialIndex=a+1}}this.updateMaterialsForValue(e-i),this.object.geometry=t}getChamferGeometry(e,t,i){let n=[],r=[],a=new Array(e.length);for(let o=0;o<e.length;++o)a[o]=[];for(let o=0;o<t.length;++o){let l=t[o],c=l.length-1,u=new re,h=new Array(c);for(let f=0;f<c;++f){let d=e[l[f]].clone();u.add(d),a[l[f]].push(h[f]=n.push(d)-1)}u.divideScalar(c);for(let f=0;f<c;++f){let d=n[h[f]];d.subVectors(d,u).multiplyScalar(i).addVectors(d,u)}h.push(l[c]),r.push(h)}for(let o=0;o<t.length-1;++o)for(let l=o+1;l<t.length;++l){let c=[],u=-1;for(let h=0;h<t[o].length-1;++h){let f=t[l].indexOf(t[o][h]);f>=0&&f<t[l].length-1&&(u>=0&&h!==u+1?c.unshift([o,h],[l,f]):c.push([o,h],[l,f]),u=h)}c.length===4&&r.push([r[c[0][0]][c[0][1]],r[c[1][0]][c[1][1]],r[c[3][0]][c[3][1]],r[c[2][0]][c[2][1]],-1])}for(let o=0;o<a.length;++o){let l=a[o],c=[l[0]],u=l.length-1;for(;u;){for(let h=t.length;h<r.length;++h){let f=r[h].indexOf(c[c.length-1]);if(f>=0&&f<4){--f===-1&&(f=3);let d=r[h][f];if(l.indexOf(d)>=0){c.push(d);break}}}--u}c.push(-1),r.push(c)}return{vectors:n,faces:r}}makeGeometry(e,t,i,n,r){let a=new Cs;for(let g=0;g<e.length;++g)e[g]=e[g].multiplyScalar(i);let o=[];const l=[],c=[],u=new re,h=new re;let f,d=0;for(let g=0;g<t.length;++g){let p=t[g],m=p.length-1,v=Math.PI*2/m;f=p[m]+1;for(let _=0;_<m-2;++_)o.push(...e[p[0]].toArray()),o.push(...e[p[_+1]].toArray()),o.push(...e[p[_+2]].toArray()),u.subVectors(e[p[_+2]],e[p[_+1]]),h.subVectors(e[p[0]],e[p[_+1]]),u.cross(h),u.normalize(),l.push(...u.toArray()),l.push(...u.toArray()),l.push(...u.toArray()),c.push((Math.cos(r)+1+n)/2/(1+n),(Math.sin(r)+1+n)/2/(1+n)),c.push((Math.cos(v*(_+1)+r)+1+n)/2/(1+n),(Math.sin(v*(_+1)+r)+1+n)/2/(1+n)),c.push((Math.cos(v*(_+2)+r)+1+n)/2/(1+n),(Math.sin(v*(_+2)+r)+1+n)/2/(1+n));let w=(m-2)*3;for(let _=0;_<w/3;_++)a.addGroup(d,3,f),d+=3}return a.setAttribute("position",new Pn(o,3)),a.setAttribute("normal",new Pn(l,3)),a.setAttribute("uv",new Pn(c,2)),a.boundingSphere=new El(new re,i),a}createShape(e,t,i){let n=new Array(e.length),r=new Array(t.length);for(let a=0;a<e.length;++a){let o=e[a];n[a]=new N(o.x*i,o.y*i,o.z*i)}for(let a=0;a<t.length;++a)r[a]=t[a].slice(0,t[a].length-1);return new Fr({vertices:n,faces:r})}getGeometry(){let e=this.size*this.scaleFactor,t=new Array(this.vertices.length);for(let r=0;r<this.vertices.length;++r)t[r]=new re().fromArray(this.vertices[r]).normalize();let i=this.getChamferGeometry(t,this.faces,this.chamfer),n=this.makeGeometry(i.vectors,i.faces,e,this.tab,this.af);return n.cannon_shape=this.createShape(t,this.faces,e),n}calculateTextureSize(e){return Math.max(128,Math.pow(2,Math.floor(Math.log(e)/Math.log(2))))}createTextTexture(e,t,i){let n=document.createElement("canvas"),r=n.getContext("2d"),a=this.calculateTextureSize(this.size/2+this.size*this.textMargin)*2;n.width=n.height=a,r.font=a/(1+2*this.textMargin)+"pt Raleway",r.fillStyle=i,r.fillRect(0,0,n.width,n.height),r.textAlign="center",r.textBaseline="middle",r.fillStyle=t,r.fillText(e,n.width/2,n.height/2);let o=new ki(n);return o.needsUpdate=!0,o}getMaterials(){let e=[];for(let t=0;t<this.faceTexts.length;++t){let i=null;this.customTextTextureFunction?i=this.customTextTextureFunction(this.faceTexts[t],this.labelColor,this.diceColor):i=this.createTextTexture(this.faceTexts[t],this.labelColor,this.diceColor),e.push(new Cr(Object.assign({},this.materialOptions,{map:i})))}return e}getObject(){return this.object}create(){if(!this.manager.world)throw new Error("You must call DiceManager.setWorld(world) first.");return this.object=new Oi(this.getGeometry(),this.getMaterials()),this.object.recieveShadow=!0,this.object.castShadow=!0,this.object.body=new Fe({mass:this.mass,shape:this.object.geometry.cannon_shape,material:this.manager.diceBodyMaterial}),this.object.body.linearDamping=.1,this.object.body.angularDamping=.1,this.manager.world.addBody(this.object.body),this.object}updateMeshFromBody(){this.simulationRunning||(this.object.position.copy(this.object.body.position),this.object.quaternion.copy(this.object.body.quaternion))}updateBodyFromMesh(){this.object.body.position.copy(this.object.position),this.object.body.quaternion.copy(this.object.quaternion)}resetBody(){this.object.body.vlambda=new N,this.object.body.position=new N,this.object.body.previousPosition=new N,this.object.body.initPosition=new N,this.object.body.velocity=new N,this.object.body.initVelocity=new N,this.object.body.force=new N,this.object.body.torque=new N,this.object.body.quaternion=new Wt,this.object.body.initQuaternion=new Wt,this.object.body.angularVelocity=new N,this.object.body.initAngularVelocity=new N,this.object.body.interpolatedPosition=new N,this.object.body.interpolatedQuaternion=new Wt,this.object.body.inertia=new N,this.object.body.invInertia=new N,this.object.body.invInertiaWorld=new Ki,this.object.body.invInertiaSolve=new N,this.object.body.invInertiaWorldSolve=new Ki,this.object.body.wlambda=new N,this.object.body.updateMassProperties()}updateMaterialsForValue(e){}}class Up extends na{constructor(e){super(e),this.tab=-.1,this.af=Math.PI*7/6,this.chamfer=.96,this.vertices=[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],this.faces=[[1,0,2,1],[0,1,3,2],[0,3,2,3],[1,2,3,4]],this.scaleFactor=1.2,this.values=4,this.d4FaceTexts=[[[],[0,0,0],[2,4,3],[1,3,4],[2,1,4],[1,2,3]],[[],[0,0,0],[2,3,4],[3,1,4],[2,4,1],[3,2,1]],[[],[0,0,0],[4,3,2],[3,4,1],[4,2,1],[3,1,2]],[[],[0,0,0],[4,2,3],[1,4,3],[4,1,2],[1,3,2]]],this.faceTexts=this.d4FaceTexts[0],this.updateMaterialsForValue=function(t){t<0&&(t+=4),this.faceTexts=this.d4FaceTexts[t],this.object.material=this.getMaterials()},this.customTextTextureFunction=function(t,i,n){let r=document.createElement("canvas"),a=r.getContext("2d"),o=this.calculateTextureSize(this.size/2+this.size*2)*2;r.width=r.height=o,a.font=o/5+"pt Arial",a.fillStyle=n,a.fillRect(0,0,r.width,r.height),a.textAlign="center",a.textBaseline="middle",a.fillStyle=i;for(let c in t)a.fillText(t[c],r.width/2,r.height/2-o*.3),a.translate(r.width/2,r.height/2),a.rotate(Math.PI*2/3),a.translate(-r.width/2,-r.height/2);let l=new ki(r);return l.needsUpdate=!0,l},this.mass=300,this.inertia=5,this.invertUpside=!0,this.create()}}class Wp extends na{constructor(e){super(e),this.tab=.1,this.af=Math.PI/4,this.chamfer=.96,this.vertices=[[-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1],[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]],this.faces=[[0,3,2,1,1],[1,2,6,5,2],[0,1,5,4,3],[3,7,6,2,4],[0,4,7,3,5],[4,5,6,7,6]],this.scaleFactor=.9,this.values=6,this.faceTexts=[" ","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],this.textMargin=1,this.mass=300,this.inertia=13,this.create()}}class Gp extends na{constructor(e){super(e),this.tab=0,this.af=-Math.PI/4/2,this.chamfer=.965,this.vertices=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],this.faces=[[0,2,4,1],[0,4,3,2],[0,3,5,3],[0,5,2,4],[1,3,4,5],[1,4,2,6],[1,2,5,7],[1,5,3,8]],this.scaleFactor=1,this.values=8,this.faceTexts=[" ","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],this.textMargin=1.2,this.mass=340,this.inertia=10,this.create()}}class Hp extends na{constructor(e){super(e),this.tab=0,this.af=Math.PI*6/5,this.chamfer=.945,this.vertices=[],this.faces=[[5,7,11,0],[4,2,10,1],[1,3,11,2],[0,8,10,3],[7,9,11,4],[8,6,10,5],[9,1,11,6],[2,0,10,7],[3,5,11,8],[6,4,10,9],[1,0,2,-1],[1,2,3,-1],[3,2,4,-1],[3,4,5,-1],[5,4,6,-1],[5,6,7,-1],[7,6,8,-1],[7,8,9,-1],[9,8,0,-1],[9,0,1,-1]];for(let t=0,i=0;t<10;++t,i+=Math.PI*2/10)this.vertices.push([Math.cos(i),Math.sin(i),.105*(t%2?1:-1)]);this.vertices.push([0,0,-1]),this.vertices.push([0,0,1]),this.scaleFactor=.9,this.values=10,this.faceTexts=[" ","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],this.textMargin=1,this.mass=350,this.inertia=9,this.create()}}class jp extends na{constructor(e){super(e);let t=(1+Math.sqrt(5))/2,i=1/t;this.tab=.2,this.af=-Math.PI/4/2,this.chamfer=.968,this.vertices=[[0,i,t],[0,i,-t],[0,-i,t],[0,-i,-t],[t,0,i],[t,0,-i],[-t,0,i],[-t,0,-i],[i,t,0],[i,-t,0],[-i,t,0],[-i,-t,0],[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]],this.faces=[[2,14,4,12,0,1],[15,9,11,19,3,2],[16,10,17,7,6,3],[6,7,19,11,18,4],[6,18,2,0,16,5],[18,11,9,14,2,6],[1,17,10,8,13,7],[1,13,5,15,3,8],[13,8,12,4,5,9],[5,4,14,9,15,10],[0,12,8,10,16,11],[3,19,7,17,1,12]],this.scaleFactor=.9,this.values=12,this.faceTexts=[" ","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],this.textMargin=1,this.mass=350,this.inertia=8,this.create()}}class eu extends na{constructor(e){super(e);let t=(1+Math.sqrt(5))/2;this.tab=-.2,this.af=-Math.PI/4/2,this.chamfer=.955,this.vertices=[[-1,t,0],[1,t,0],[-1,-t,0],[1,-t,0],[0,-1,t],[0,1,t],[0,-1,-t],[0,1,-t],[t,0,-1],[t,0,1],[-t,0,-1],[-t,0,1]],this.faces=[[0,11,5,1],[0,5,1,2],[0,1,7,3],[0,7,10,4],[0,10,11,5],[1,5,9,6],[5,11,4,7],[11,10,2,8],[10,7,6,9],[7,1,8,10],[3,9,4,11],[3,4,2,12],[3,2,6,13],[3,6,8,14],[3,8,9,15],[4,9,5,16],[2,4,11,17],[6,2,10,18],[8,6,7,19],[9,8,1,20]],this.scaleFactor=1,this.values=20,this.faceTexts=[" ","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],this.textMargin=1,this.mass=400,this.inertia=6,this.create()}}const Or=new yI;typeof define=="function"&&define.amd?define(function(){return{DiceManager:Or,DiceD4:Up,DiceD6:Wp,DiceD8:Gp,DiceD10:Hp,DiceD12:jp,DiceD20:eu}}):typeof module<"u"&&typeof module.exports<"u"&&(module.exports={DiceManager:Or,DiceD4:Up,DiceD6:Wp,DiceD8:Gp,DiceD10:Hp,DiceD12:jp,DiceD20:eu});class xI{constructor(e,t={}){let i=e;this.el=i,this.theme=i.dataset.theme,this.parent=i.parentElement,this.events=[],this.pause=!1,this.setListeners(),this.options=t,this.options.width=t.width||this.parent.clientWidth,this.options.dice=t.dice||1,this.options.diceSize=t.diceSize||4,this.options.debug=t.debug||!1,this.options.promo=t.promo||this.options.width>768?875:440,this.options.shift=t.shift||this.options.width>768?150:60,this.options.delay=t.delay||0,this.screenWidth=this.parent.clientWidth,this.screenHeight=this.parent.clientHeight,this.background=this.theme==="primary"?"#222222":"#FEEA3B",this.color=this.theme==="primary"?"#FEEA3B":"#222222",this.idle=!0,this.scene=new Uk,this.scene.background=new Pt(parseInt(this.background.replace("#","0x"),16)),this.setCamera(),this.renderer=new q0({antialias:!0,canvas:i}),this.renderer.setSize(this.screenWidth,this.screenHeight),this.controls=new SI(this.camera,this.renderer.domElement),this.controls.enabled=!1,this.setLighting(),this.setBounds(),this.setWorld(),this.options.debug,this.run()}setLighting(){this.lighting={ambient:new Yk("#FFFFFF",.65),directional:new jk("#FFFFFF",.2),spotlight:new Gk(16777215,.25)},this.lighting.directional.position.x=-100,this.lighting.directional.position.y=100,this.lighting.directional.position.z=100,this.lighting.spotlight.position.set(0,100,0),this.lighting.spotlight.target.position.set(0,0,0),this.lighting.spotlight.castShadow=!0,this.lighting.spotlight.shadow.camera.near=50,this.lighting.spotlight.shadow.camera.far=110,this.lighting.spotlight.shadow.mapSize.width=1024,this.lighting.spotlight.shadow.mapSize.height=1024,this.scene.add(this.lighting.ambient),this.scene.add(this.lighting.directional),this.scene.add(this.lighting.spotlight)}setCamera(){let e=45,t=this.screenWidth/this.screenHeight,i=.01,n=2e4;this.camera=new Xi(e,t,i,n),this.scene.add(this.camera),this.camera.position.set(0,50,0)}setBounds(){let e=VT.degToRad(this.camera.fov);this.vHeight=2*Math.tan(e/2)*this.camera.position.y,this.vWidth=this.vHeight*this.camera.aspect,this.floorBounds={geometry:new Cl(this.vWidth,this.vHeight,10,10),material:new Cr({color:this.options.debug?this.background:!1,opacity:this.options.debug?1:0,transparent:!0,side:Zi,depthWrite:!1})};let t=new Oi(this.floorBounds.geometry,this.floorBounds.material);t.recieveShadow=!!this.options.debug,t.rotation.x=Math.PI/2,this.scene.add(t),this.leftWallBounds={geometry:new es(.01,50,this.vHeight),material:new Cr({color:this.options.debug?"#00AA00":!1,opacity:this.options.debug?1:0,transparent:!0,side:Zi,depthWrite:!1})},this.leftWall=new Oi(this.leftWallBounds.geometry,this.leftWallBounds.material),this.leftWall.position.x=-(this.vWidth/2),this.scene.add(this.leftWall),this.rightWallBounds={geometry:new es(.01,50,this.vHeight),material:new Cr({color:this.options.debug?"#00AA00":!1,opacity:this.options.debug?1:0,transparent:!0,side:Zi,depthWrite:!1})},this.rightWall=new Oi(this.rightWallBounds.geometry,this.rightWallBounds.material),this.rightWall.position.x=this.vWidth/2,this.scene.add(this.rightWall),this.topWallBounds={geometry:new es(this.vWidth,50,.01),material:new Cr({color:this.options.debug?"#00AA00":!1,opacity:this.options.debug?1:0,transparent:!0,side:Zi,depthWrite:!1})},this.topWall=new Oi(this.topWallBounds.geometry,this.topWallBounds.material),this.topWall.position.z=-(this.vHeight/2),this.scene.add(this.topWall),this.bottomWallBounds={geometry:new es(this.vWidth,50,.01),material:new Cr({color:this.options.debug?"#00AA00":!1,opacity:this.options.debug?1:0,transparent:!0,side:Zi,depthWrite:!1})},this.bottomWall=new Oi(this.bottomWallBounds.geometry,this.bottomWallBounds.material),this.bottomWall.position.z=this.vHeight/2,this.scene.add(this.bottomWall)}setWorld(){this.world=new pI,this.boundsOffset=this.options.diceSize/2,this.manager=Or,this.manager.setWorld(this.world),this.world.gravity.set(0,-9.82*20,0),this.world.broadphase=new $0,this.world.solver.iterations=16,this.worldFloor=new Fe({mass:0,shape:new $P,material:this.manager.floorBodyMaterial}),this.worldFloor.quaternion.setFromAxisAngle(new N(1,0,0),-Math.PI/2),this.world.addBody(this.worldFloor),this.worldLeft=new Fe({mass:0,shape:new ms(new N(.01,this.vHeight,this.vWidth))});let e=this.leftWall.position.clone();this.worldLeft.position.set(e.x+this.boundsOffset,e.y,e.z),this.world.addBody(this.worldLeft),this.worldRight=new Fe({mass:0,shape:new ms(new N(.01,this.vHeight,this.vWidth))});let t=this.rightWall.position.clone();this.worldRight.position.set(t.x-this.boundsOffset,t.y,t.z),this.world.addBody(this.worldRight),this.worldBottom=new Fe({mass:0,shape:new ms(new N(this.vWidth,this.vHeight,.01))});let i=this.bottomWall.position.clone();this.worldBottom.position.set(i.x,i.y,i.z-this.boundsOffset),this.world.addBody(this.worldBottom),this.worldTop=new Fe({mass:0,shape:new ms(new N(this.vWidth,this.vHeight,.01))});let n=this.topWall.position.clone();if(this.worldTop.position.set(n.x,n.y,n.z+this.boundsOffset),this.world.addBody(this.worldTop),this.options.promo!==null){let r=this.options.promo/this.screenWidth,a=1-this.options.shift/(this.screenHeight/2);this.worldPromo=new Fe({mass:0,shape:new ms(new N(this.vWidth*r,this.vHeight,2))}),this.worldPromo.position.set(0,0,i.z*a),this.world.addBody(this.worldPromo)}this.dice=[];for(let r=0;r<this.options.dice;r++){let a=new eu({size:this.options.diceSize,backColor:this.color,fontColor:this.background,manager:this.manager});this.scene.add(a.getObject()),this.dice.push(a)}}roll(){if(this.idle===!1)return;this.idle=!1;let e=[],t;for(let i=0;i<this.dice.length;++i){this.dice[i].resetBody(),this.dice[i].getObject().position.x=-(this.vWidth/2)-i%3*this.options.diceSize,this.dice[i].getObject().position.y=50+Math.floor(i/3)*this.options.diceSize,this.dice[i].getObject().position.z=-(this.vHeight/2)+i%3*this.options.diceSize,this.dice[i].getObject().quaternion.x=(Math.random()*90-45)*Math.PI/180,this.dice[i].getObject().quaternion.z=(Math.random()*90-45)*Math.PI/180,this.dice[i].updateBodyFromMesh();let n=Math.random()*20,r=Math.random()*5;this.dice[i].getObject().body.velocity.set(25+r,40+n,20+r),this.dice[i].getObject().body.angularVelocity.set(20*Math.random()-10,20*Math.random()-10,20*Math.random()-10),t=Math.ceil(Math.random()*20),e.push({dice:this.dice[i],value:t})}this.pause=!0,this.rolled=t,this.el.dispatchEvent(this.events.rollstart),this.manager.prepareValues(e),setTimeout(()=>{this.pause=!1,setTimeout(()=>{this.idle=!0,this.el.dispatchEvent(this.events.rollcomplete)},2e3)},this.options.delay)}setListeners(){[...["rollstart","rollcomplete"]].forEach(t=>{this.events[t]=new Event(t)})}listen(e,t=null){this.el.addEventListener(e,t)}animate(){this.update(),this.render(),this.controls.update(),this.options.debug&&this.debugRender.update(),requestAnimationFrame(this.animate.bind(this))}update(){if(this.pause!==!0){this.world.step(1/60);for(var e in this.dice)this.dice[e].updateMeshFromBody()}}render(){this.renderer.render(this.scene,this.camera)}run(){this.renderer.domElement.addEventListener("click",this.roll.bind(this)),requestAnimationFrame(this.animate.bind(this))}}class SI{constructor(e,t){t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new re,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:Xl.LEFT,MIDDLE:Xl.MIDDLE,RIGHT:Xl.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var i=this;this.changeEvent={type:"change"},this.startEvent={type:"start"},this.endEvent={type:"end"},this.STATE={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},this.state=this.STATE.NONE,this.EPS=1e-6,this.spherical=new yp,this.sphericalDelta=new yp,this.scale=1,this.panOffset=new re,this.zoomChanged=!1,this.rotateStart=new ht,this.rotateEnd=new ht,this.rotateDelta=new ht,this.panStart=new ht,this.panEnd=new ht,this.panDelta=new ht,this.dollyStart=new ht,this.dollyEnd=new ht,this.dollyDelta=new ht,this.panLeft=function(){var n=new re;return function(a,o){n.setFromMatrixColumn(o,0),n.multiplyScalar(-a),panOffset.add(n)}}(),this.panUp=function(){var n=new re;return function(a,o){i.screenSpacePanning===!0?n.setFromMatrixColumn(o,1):(n.setFromMatrixColumn(o,0),n.crossVectors(i.object.up,n)),n.multiplyScalar(a),panOffset.add(n)}}(),this.pan=function(){var n=new re;return function(a,o){var l=i.domElement;if(i.object.isPerspectiveCamera){var c=i.object.position;n.copy(c).sub(i.target);var u=n.length();u*=Math.tan(i.object.fov/2*Math.PI/180),panLeft(2*a*u/l.clientHeight,i.object.matrix),panUp(2*o*u/l.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(panLeft(a*(i.object.right-i.object.left)/i.object.zoom/l.clientWidth,i.object.matrix),panUp(o*(i.object.top-i.object.bottom)/i.object.zoom/l.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}(),this.update()}getPolarAngle(){return this.spherical.phi}getAzimuthalAngle(){return this.spherical.theta}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(changeEvent),this.update(),this.state=this.STATE.NONE}update(){var e=new re,t=new tr().setFromUnitVectors(this.object.up,new re(0,1,0)),i=t.clone().invert(),n=new re,r=new tr,a=2*Math.PI,o=this.object.position;e.copy(o).sub(this.target),e.applyQuaternion(t),this.spherical.setFromVector3(e),this.autoRotate&&this.state===this.STATE.NONE&&this.rotateLeft(this.getAutoRotationAngle()),this.enableDamping?(this.spherical.theta+=this.sphericalDelta.theta*this.dampingFactor,this.spherical.phi+=this.sphericalDelta.phi*this.dampingFactor):(this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi);var l=this.minAzimuthAngle,c=this.maxAzimuthAngle;return isFinite(l)&&isFinite(c)&&(l<-Math.PI?l+=a:l>Math.PI&&(l-=a),c<-Math.PI?c+=a:c>Math.PI&&(c-=a),l<=c?this.spherical.theta=Math.max(l,Math.min(c,this.spherical.theta)):this.spherical.theta=this.spherical.theta>(l+c)/2?Math.max(l,this.spherical.theta):Math.min(c,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.enableDamping===!0?this.target.addScaledVector(this.panOffset,this.dampingFactor):this.target.add(this.panOffset),e.setFromSpherical(this.spherical),e.applyQuaternion(i),o.copy(this.target).add(e),this.object.lookAt(this.target),this.enableDamping===!0?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor,this.panOffset.multiplyScalar(1-this.dampingFactor)):(this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0)),this.scale=1,this.zoomChanged||n.distanceToSquared(this.object.position)>this.EPS||8*(1-r.dot(this.object.quaternion))>this.EPS?(n.copy(this.object.position),r.copy(this.object.quaternion),this.zoomChanged=!1,!0):!1}dispose(){}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}}function MI(s){let e,t;return{c(){e=Y("div"),t=Y("canvas"),this.h()},l(i){e=q(i,"DIV",{class:!0});var n=G(e);t=q(n,"CANVAS",{"data-theme":!0}),G(t).forEach(D),n.forEach(D),this.h()},h(){T(t,"data-theme",s[0]),T(e,"class","absolute left-0 top-0 w-full h-full z-[0]")},m(i,n){Q(i,e,n),B(e,t),s[7](t)},p(i,[n]){n&1&&T(t,"data-theme",i[0])},i:Pe,o:Pe,d(i){i&&D(e),s[7](null)}}}function EI(s,e,t){let{theme:i="primary"}=e,{windowWidth:n}=e,{windowHeight:r}=e,{result:a}=e,{state:o="start"}=e,{delay:l=0}=e,c,u;Pi(()=>{c&&(u=new xI(c,{width:n,height:r,delay:l})),u.listen("rollstart",f=>{t(3,o="active")}),u.listen("rollcomplete",f=>{t(3,o="result"),t(2,a=u.rolled)})});function h(f){Mt[f?"unshift":"push"](()=>{c=f,t(1,c)})}return s.$$set=f=>{"theme"in f&&t(0,i=f.theme),"windowWidth"in f&&t(4,n=f.windowWidth),"windowHeight"in f&&t(5,r=f.windowHeight),"result"in f&&t(2,a=f.result),"state"in f&&t(3,o=f.state),"delay"in f&&t(6,l=f.delay)},[i,c,a,o,n,r,l,h]}class TI extends nt{constructor(e){super(),st(this,e,EI,MI,Ge,{theme:0,windowWidth:4,windowHeight:5,result:2,state:3,delay:6})}}function Yp(s){let e,t='<div class="bar basis-1/5 svelte-c95zfe"><div class="bg-[#B52327] svelte-c95zfe"></div></div> <div class="bar basis-1/5 svelte-c95zfe"><div class="bg-[#EF6638] left-[20px] svelte-c95zfe"></div></div> <div class="bar basis-1/5 svelte-c95zfe"><div class="bg-[#FDBE4F] left-[20px] svelte-c95zfe"></div></div> <div class="bar basis-1/5 svelte-c95zfe"><div class="bg-[#2088A7] svelte-c95zfe"></div></div> <div class="bar basis-1/5 svelte-c95zfe"><div class="bg-[#711931] svelte-c95zfe"></div></div>',i,n,r,a,o,l;return o=new ei({props:{type:"static",contain:!0,src:"https://dropout.cdn.prismic.io/dropout/2ba9e0dd-7412-442c-b97d-23e67cb2cd23_gmch-logo-white-fill.svg",width:"426",height:"305"}}),{c(){e=Y("div"),e.innerHTML=t,n=le(),r=Y("div"),a=Y("div"),_e(o.$$.fragment),this.h()},l(c){e=q(c,"DIV",{class:!0,"data-svelte-h":!0}),bi(e)!=="svelte-1is5mzw"&&(e.innerHTML=t),n=ce(c),r=q(c,"DIV",{class:!0});var u=G(r);a=q(u,"DIV",{class:!0,style:!0});var h=G(a);xe(o.$$.fragment,h),h.forEach(D),u.forEach(D),this.h()},h(){T(e,"class","h-full w-full flex flex-col flex-grow relative items-stretch"),T(a,"class","w-full h-0 pb-[71.6%] relative scale-[0.1] -translate-y-[var(--shift)]"),Ce(a,"--shift",s[4]/2+30+"px"),T(r,"class","absolute flex items-center top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100%_-_60px)] max-w-[580px]")},m(c,u){Q(c,e,u),s[10](e),Q(c,n,u),Q(c,r,u),B(r,a),we(o,a,null),s[11](a),l=!0},p(c,u){(!l||u&16)&&Ce(a,"--shift",c[4]/2+30+"px")},i(c){l||(c&&(i||gt(()=>{i=Um(e,s[8],{}),i.start()})),F(o.$$.fragment,c),l=!0)},o(c){W(o.$$.fragment,c),l=!1},d(c){c&&(D(e),D(n),D(r)),s[10](null),be(o),s[11](null)}}}function qp(s){let e,t,i;return{c(){e=Y("div"),this.h()},l(n){e=q(n,"DIV",{class:!0}),G(e).forEach(D),this.h()},h(){T(e,"class","absolute top-0 w-full h-0 left-0")},m(n,r){Q(n,e,r),t||(i=[el(tl.call(null,e,{threshold:.9})),Qe(e,"enter",s[12])],t=!0)},p:Pe,d(n){n&&D(e),t=!1,Qi(i)}}}function CI(s){let e,t,i,n,r,a=s[6]===!0&&Yp(s),o=s[0]==="start"&&qp(s);return{c(){e=Y("div"),a&&a.c(),t=le(),o&&o.c(),this.h()},l(l){e=q(l,"DIV",{"data-theme":!0,class:!0});var c=G(e);a&&a.l(c),t=ce(c),o&&o.l(c),c.forEach(D),this.h()},h(){T(e,"data-theme",s[1]),T(e,"class",i="absolute left-0 top-0 w-full h-full pointer-events-none "+(s[7].navOpen===!0?"z-[1]":"z-[61]")),gt(()=>s[13].call(e))},m(l,c){Q(l,e,c),a&&a.m(e,null),B(e,t),o&&o.m(e,null),n=Qt(e,s[13].bind(e)),r=!0},p(l,[c]){l[6]===!0?a?(a.p(l,c),c&64&&F(a,1)):(a=Yp(l),a.c(),F(a,1),a.m(e,t)):a&&(Se(),W(a,1,1,()=>{a=null}),Me()),l[0]==="start"?o?o.p(l,c):(o=qp(l),o.c(),o.m(e,null)):o&&(o.d(1),o=null),(!r||c&2)&&T(e,"data-theme",l[1]),(!r||c&128&&i!==(i="absolute left-0 top-0 w-full h-full pointer-events-none "+(l[7].navOpen===!0?"z-[1]":"z-[61]")))&&T(e,"class",i)},i(l){r||(F(a),r=!0)},o(l){W(a),r=!1},d(l){l&&D(e),a&&a.d(),o&&o.d(),n()}}}function AI(s,e,t){let i,n;Yt(s,Xt,v=>t(7,n=v));let{theme:r="primary"}=e,{result:a}=e,{state:o="start"}=e,l,c=0,u=0,h;function f(){let v=4e3,w=[],_=[c+(c>1024?380:190)+60,c+(c>1024?120:60)+60,c+(c>1024?720:360)+60,c+0+60,c+(c>1024?620:310)+60];w.push(["#711931","#2088A7","#FDBE4F","#EF6638","#B52327"]),w.push(["#B52327","#711931","#2088A7","#FDBE4F","#EF6638"]),w.push(["#EF6638","#B52327","#711931","#2088A7","#FDBE4F"]),w.push(["#FDBE4F","#EF6638","#B52327","#711931","#2088A7"]),w.push(["#2088A7","#FDBE4F","#EF6638","#B52327","#711931"]),Ht.to(l.children,{x:"0%",delay:.5,duration:c>1024?1.4:.7,ease:"linear",onComplete:()=>{[...l.children].forEach((x,b)=>{x.style.width=_[b]+"px"}),[...w].forEach((x,b)=>{Ht.to(l.children[b].children[0],{keyframes:x.map(S=>({backgroundColor:S})),duration:v/1e3/5,repeat:5})}),setTimeout(()=>{t(0,o="result"),t(9,a=Math.floor(Math.random()*20+1)),[...l.children].forEach((x,b)=>{Ht.to(x,{x:-_[2]+"px",duration:c>1024?.8:.3,ease:"linear"})}),Ht.to(h,{x:-(c/2-h.clientWidth/2+_[2]/1.5)+"px",duration:c>1024?.8:.3,ease:"linear"})},3e3)}}),Ht.to(h,{y:0,delay:c>1024?1.55:.95,duration:2.5,ease:"Power3.easeOut",yoyo:1}),Ht.to(h,{scale:1,delay:c>1024?1.55:.95,duration:2.5,ease:"linear"})}function d(v){Mt[v?"unshift":"push"](()=>{l=v,t(2,l)})}function g(v){Mt[v?"unshift":"push"](()=>{h=v,t(5,h)})}const p=v=>{t(0,o="active")};function m(){c=this.clientWidth,u=this.clientHeight,t(3,c),t(4,u)}return s.$$set=v=>{"theme"in v&&t(1,r=v.theme),"result"in v&&t(9,a=v.result),"state"in v&&t(0,o=v.state)},s.$$.update=()=>{s.$$.dirty&1&&t(6,i=o==="active"||o==="result")},[o,r,l,c,u,h,i,n,f,a,d,g,p,m]}class LI extends nt{constructor(e){super(),st(this,e,AI,CI,Ge,{theme:1,result:9,state:0})}}function Xp(s){var k,A,I,R,O;let e,t,i,n,r,a,o,l,c,u,h,f,d,g,p,m=Ut(s[4].result_retry_text)+"",v,w,_,x,b,S,M,y,E=((A=(k=s[4])==null?void 0:k.result_image)==null?void 0:A.url)&&Zp(s),C=((R=(I=s[4])==null?void 0:I.result_video)==null?void 0:R.url)&&$p(s),P=s[2]==="dice-roll"&&Kp(s);c=new Bi({props:{content:s[4].result_headline}}),h=new Bi({props:{content:s[4].result_description}});let L=((O=s[7].promo_cta)==null?void 0:O.url)&&Jp(s);return{c(){e=Y("div"),t=Y("div"),i=Y("div"),E&&E.c(),n=le(),C&&C.c(),r=le(),a=Y("div"),o=Y("div"),P&&P.c(),l=le(),_e(c.$$.fragment),u=le(),_e(h.$$.fragment),f=le(),L&&L.c(),d=le(),g=Y("button"),p=new In(!1),this.h()},l(z){e=q(z,"DIV",{class:!0});var V=G(e);t=q(V,"DIV",{class:!0});var $=G(t);i=q($,"DIV",{class:!0});var K=G(i);E&&E.l(K),n=ce(K),C&&C.l(K),K.forEach(D),r=ce($),a=q($,"DIV",{class:!0});var U=G(a);o=q(U,"DIV",{class:!0});var ee=G(o);P&&P.l(ee),l=ce(ee),xe(c.$$.fragment,ee),u=ce(ee),xe(h.$$.fragment,ee),f=ce(ee),L&&L.l(ee),d=ce(ee),g=q(ee,"BUTTON",{class:!0});var Z=G(g);p=Rn(Z,!1),Z.forEach(D),ee.forEach(D),U.forEach(D),$.forEach(D),V.forEach(D),this.h()},h(){T(i,"class","image col-span-1 w-full h-full relative"),p.a=null,T(g,"class","retry mt-4 underline"),T(o,"class",v="richtext relative "+(s[5]>500?"text-left ca":"text-center cx cy-1/2")),T(a,"class",w="promo col-span-1 "+(s[5]>500?"relative":"absolute")+" w-full z-10 flex flex-col items-center justify-center bottom-0 theme-"+s[6]),T(t,"class",_="w-full h-full relative "+(s[5]>500?"grid grid-cols-2":"")),T(e,"class","result h-full w-full flex items-center justify-center")},m(z,V){Q(z,e,V),B(e,t),B(t,i),E&&E.m(i,null),B(i,n),C&&C.m(i,null),B(t,r),B(t,a),B(a,o),P&&P.m(o,null),B(o,l),we(c,o,null),B(o,u),we(h,o,null),B(o,f),L&&L.m(o,null),B(o,d),B(o,g),p.m(m,g),S=!0,M||(y=Qe(g,"click",s[11]),M=!0)},p(z,V){var U,ee,Z,te,j;(ee=(U=z[4])==null?void 0:U.result_image)!=null&&ee.url?E?(E.p(z,V),V&16&&F(E,1)):(E=Zp(z),E.c(),F(E,1),E.m(i,n)):E&&(Se(),W(E,1,1,()=>{E=null}),Me()),(te=(Z=z[4])==null?void 0:Z.result_video)!=null&&te.url?C?(C.p(z,V),V&16&&F(C,1)):(C=$p(z),C.c(),F(C,1),C.m(i,null)):C&&(Se(),W(C,1,1,()=>{C=null}),Me()),z[2]==="dice-roll"?P?P.p(z,V):(P=Kp(z),P.c(),P.m(o,l)):P&&(P.d(1),P=null);const $={};V&16&&($.content=z[4].result_headline),c.$set($);const K={};V&16&&(K.content=z[4].result_description),h.$set(K),(j=z[7].promo_cta)!=null&&j.url?L?L.p(z,V):(L=Jp(z),L.c(),L.m(o,d)):L&&(L.d(1),L=null),(!S||V&16)&&m!==(m=Ut(z[4].result_retry_text)+"")&&p.p(m),(!S||V&32&&v!==(v="richtext relative "+(z[5]>500?"text-left ca":"text-center cx cy-1/2")))&&T(o,"class",v),(!S||V&96&&w!==(w="promo col-span-1 "+(z[5]>500?"relative":"absolute")+" w-full z-10 flex flex-col items-center justify-center bottom-0 theme-"+z[6]))&&T(a,"class",w),(!S||V&32&&_!==(_="w-full h-full relative "+(z[5]>500?"grid grid-cols-2":"")))&&T(t,"class",_)},i(z){S||(F(E),F(C),F(c.$$.fragment,z),F(h.$$.fragment,z),z&&gt(()=>{S&&(b&&b.end(1),x=Um(e,s[9],{}),x.start())}),S=!0)},o(z){W(E),W(C),W(c.$$.fragment,z),W(h.$$.fragment,z),x&&x.invalidate(),z&&(b=vv(e,s[10],{})),S=!1},d(z){z&&D(e),E&&E.d(),C&&C.d(),P&&P.d(),be(c),be(h),L&&L.d(),z&&b&&b.end(),M=!1,y()}}}function Zp(s){let e,t;return e=new ei({props:{src:s[4].result_image.url,width:s[4].result_image.dimensions.width,height:s[4].result_image.dimensions.height,cover:!0}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&16&&(r.src=i[4].result_image.url),n&16&&(r.width=i[4].result_image.dimensions.width),n&16&&(r.height=i[4].result_image.dimensions.height),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function $p(s){let e,t;return e=new Ya({props:{src:s[4].result_video.url,cover:!0}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&16&&(r.src=i[4].result_video.url),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Kp(s){let e,t,i,n;return{c(){e=Y("p"),t=je("You rolled a "),i=je(s[0]),n=je("â€¦"),this.h()},l(r){e=q(r,"P",{class:!0});var a=G(e);t=Ye(a,"You rolled a "),i=Ye(a,s[0]),n=Ye(a,"â€¦"),a.forEach(D),this.h()},h(){T(e,"class","eyebrow")},m(r,a){Q(r,e,a),B(e,t),B(e,i),B(e,n)},p(r,a){a&1&&ut(i,r[0])},d(r){r&&D(e)}}}function Jp(s){let e,t=Ut(s[7].promo_cta_text)+"",i,n,r,a;return{c(){e=Y("a"),i=je(t),this.h()},l(o){e=q(o,"A",{class:!0,href:!0,target:!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0});var l=G(e);i=Ye(l,t),l.forEach(D),this.h()},h(){var o,l,c,u,h,f,d;T(e,"class",n="btn btn-"+s[1]+" text-center max-w-[300px] pointer-events-auto !p-[15px] block "+(s[5]>500?"text-left":"mx-auto")),T(e,"href",r=gi(s[7].promo_cta)),T(e,"target",a=(c=(l=(o=s[7])==null?void 0:o.data)==null?void 0:l.promo_cta)!=null&&c.url&&((f=(h=(u=s[7])==null?void 0:u.data)==null?void 0:h.promo_cta)==null?void 0:f.url.indexOf("checkout"))<0?(d=s[7].data.promo_cta)==null?void 0:d.target:null),T(e,"data-event-name","conversion"),T(e,"data-event-param","conversion_type"),T(e,"data-event-value","Open Checkout - Surprise Result")},m(o,l){Q(o,e,l),B(e,i)},p(o,l){var c,u,h,f,d,g,p;l&128&&t!==(t=Ut(o[7].promo_cta_text)+"")&&ut(i,t),l&34&&n!==(n="btn btn-"+o[1]+" text-center max-w-[300px] pointer-events-auto !p-[15px] block "+(o[5]>500?"text-left":"mx-auto"))&&T(e,"class",n),l&128&&r!==(r=gi(o[7].promo_cta))&&T(e,"href",r),l&128&&a!==(a=(h=(u=(c=o[7])==null?void 0:c.data)==null?void 0:u.promo_cta)!=null&&h.url&&((g=(d=(f=o[7])==null?void 0:f.data)==null?void 0:d.promo_cta)==null?void 0:g.url.indexOf("checkout"))<0?(p=o[7].data.promo_cta)==null?void 0:p.target:null)&&T(e,"target",a)},d(o){o&&D(e)}}}function kI(s){let e,t,i,n,r=s[4]&&Xp(s);return{c(){e=Y("div"),r&&r.c(),this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);r&&r.l(o),o.forEach(D),this.h()},h(){T(e,"class",t="absolute top-0 left-0 w-full h-full "+(s[4]?"":"pointer-events-none")+" "+(s[8].navOpen===!0?"z-[1]":"z-[60]")),gt(()=>s[17].call(e))},m(a,o){Q(a,e,o),r&&r.m(e,null),s[16](e),i=Qt(e,s[17].bind(e)),n=!0},p(a,[o]){a[4]?r?(r.p(a,o),o&16&&F(r,1)):(r=Xp(a),r.c(),F(r,1),r.m(e,null)):r&&(Se(),W(r,1,1,()=>{r=null}),Me()),(!n||o&272&&t!==(t="absolute top-0 left-0 w-full h-full "+(a[4]?"":"pointer-events-none")+" "+(a[8].navOpen===!0?"z-[1]":"z-[60]")))&&T(e,"class",t)},i(a){n||(F(r),n=!0)},o(a){W(r),n=!1},d(a){a&&D(e),r&&r.d(),s[16](null),i()}}}function PI(s,e,t){let i,n,r,a,o;Yt(s,xv,b=>t(15,a=b)),Yt(s,Xt,b=>t(8,o=b));let{roll:l}=e,{items:c}=e,{promo:u}=e,{theme:h}=e,{state:f}=e,{type:d}=e,g,p=null;[...c].forEach(b=>{l>=b.range_min&&l<=b.range_max&&t(4,p=b)});function m(){let b=Ht.timeline({paused:!0});r>768?b.fromTo(".result",{opacity:0},{opacity:1,duration:.35}):(b.fromTo(".image",{opacity:0},{opacity:1,duration:.35}),b.fromTo(".promo",{y:"100%"},{y:"0%",delay:.3,duration:.35})),b.play()}function v(){let b=Ht.timeline({paused:!0});return r>768?b.fromTo(".result",{opacity:1},{opacity:0,duration:.35}):(b.fromTo(".promo",{y:"0%"},{y:"100%",duration:.35}),b.fromTo(".image",{opacity:1},{opacity:0,duration:.35})),b.play(),{duration:700}}function w(){t(4,p=null),setTimeout(()=>{t(12,f="start")},700)}p||(p=c[0]),Pi(()=>{});function _(b){Mt[b?"unshift":"push"](()=>{g=b,t(3,g)})}function x(){r=this.clientWidth,t(5,r)}return s.$$set=b=>{"roll"in b&&t(0,l=b.roll),"items"in b&&t(13,c=b.items),"promo"in b&&t(14,u=b.promo),"theme"in b&&t(1,h=b.theme),"state"in b&&t(12,f=b.state),"type"in b&&t(2,d=b.type)},s.$$.update=()=>{var b,S,M,y;s.$$.dirty&49152&&t(7,i=((S=(b=a==null?void 0:a.data)==null?void 0:b.featured_promo)==null?void 0:S.data)||((y=(M=u==null?void 0:u.data)==null?void 0:M.promo_cta)==null?void 0:y.url)||null),s.$$.dirty&2&&t(6,n=h==="secondary"?"primary":"secondary")},t(5,r=0),[l,h,d,g,p,r,n,i,o,m,v,w,f,c,u,a,_,x]}class DI extends nt{constructor(e){super(),st(this,e,PI,kI,Ge,{roll:0,items:13,promo:14,theme:1,state:12,type:2})}}const{window:sv}=Sv;function Qp(s){let e=s[3].template.id,t,i,n=im(s);return{c(){n.c(),t=ue()},l(r){n.l(r),t=ue()},m(r,a){n.m(r,a),Q(r,t,a),i=!0},p(r,a){a&8&&Ge(e,e=r[3].template.id)?(Se(),W(n,1,1,Pe),Me(),n=im(r),n.c(),F(n,1),n.m(t.parentNode,t)):n.p(r,a)},i(r){i||(F(n),i=!0)},o(r){W(n),i=!1},d(r){r&&D(t),n.d(r)}}}function em(s){let e,t,i,n,r,a;const o=[zI,RI,II],l=[];function c(h,f){return h[11]=="dice-roll"?0:h[11]=="game-changer"?1:h[11]=="custom"?2:-1}~(t=c(s))&&(i=l[t]=o[t](s));let u=s[6]==="result"&&tm(s);return{c(){e=Y("div"),i&&i.c(),n=le(),u&&u.c(),r=ue(),this.h()},l(h){e=q(h,"DIV",{class:!0,style:!0});var f=G(e);i&&i.l(f),f.forEach(D),n=ce(h),u&&u.l(h),r=ue(),this.h()},h(){T(e,"class","w-[var(--width)] h-[var(--height)] relative"),Ce(e,"--width",s[7]+"px"),Ce(e,"--height",s[8]-60+"px")},m(h,f){Q(h,e,f),~t&&l[t].m(e,null),Q(h,n,f),u&&u.m(h,f),Q(h,r,f),a=!0},p(h,f){i&&i.p(h,f),(!a||f&128)&&Ce(e,"--width",h[7]+"px"),(!a||f&256)&&Ce(e,"--height",h[8]-60+"px"),h[6]==="result"?u?(u.p(h,f),f&64&&F(u,1)):(u=tm(h),u.c(),F(u,1),u.m(r.parentNode,r)):u&&(Se(),W(u,1,1,()=>{u=null}),Me())},i(h){a||(F(i),F(u),a=!0)},o(h){W(i),W(u),a=!1},d(h){h&&(D(e),D(n),D(r)),~t&&l[t].d(),u&&u.d(h)}}}function II(s){var l,c,u,h,f,d;let e,t,i,n;function r(g){s[18](g)}function a(g){s[19](g)}let o={theme:s[10],trigger:s[12],delay:(u=(c=(l=s[3])==null?void 0:l.template)==null?void 0:c.data)==null?void 0:u.interaction_delay,frames:(d=(f=(h=s[3])==null?void 0:h.template)==null?void 0:f.data)==null?void 0:d.custom_interaction_frames};return s[6]!==void 0&&(o.state=s[6]),s[9]!==void 0&&(o.result=s[9]),e=new kE({props:o}),Mt.push(()=>ss(e,"state",r)),Mt.push(()=>ss(e,"result",a)),{c(){_e(e.$$.fragment)},l(g){xe(e.$$.fragment,g)},m(g,p){we(e,g,p),n=!0},p(g,p){var v,w,_,x,b,S;const m={};p&8&&(m.delay=(_=(w=(v=g[3])==null?void 0:v.template)==null?void 0:w.data)==null?void 0:_.interaction_delay),p&8&&(m.frames=(S=(b=(x=g[3])==null?void 0:x.template)==null?void 0:b.data)==null?void 0:S.custom_interaction_frames),!t&&p&64&&(t=!0,m.state=g[6],ns(()=>t=!1)),!i&&p&512&&(i=!0,m.result=g[9],ns(()=>i=!1)),e.$set(m)},i(g){n||(F(e.$$.fragment,g),n=!0)},o(g){W(e.$$.fragment,g),n=!1},d(g){be(e,g)}}}function RI(s){let e,t,i,n;function r(l){s[16](l)}function a(l){s[17](l)}let o={theme:s[10]};return s[6]!==void 0&&(o.state=s[6]),s[9]!==void 0&&(o.result=s[9]),e=new LI({props:o}),Mt.push(()=>ss(e,"state",r)),Mt.push(()=>ss(e,"result",a)),{c(){_e(e.$$.fragment)},l(l){xe(e.$$.fragment,l)},m(l,c){we(e,l,c),n=!0},p(l,c){const u={};!t&&c&64&&(t=!0,u.state=l[6],ns(()=>t=!1)),!i&&c&512&&(i=!0,u.result=l[9],ns(()=>i=!1)),e.$set(u)},i(l){n||(F(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){be(e,l)}}}function zI(s){var l,c,u;let e,t,i,n;function r(h){s[14](h)}function a(h){s[15](h)}let o={theme:s[10],windowWidth:s[7],windowHeight:s[8],delay:(u=(c=(l=s[3])==null?void 0:l.template)==null?void 0:c.data)==null?void 0:u.interaction_delay};return s[6]!==void 0&&(o.state=s[6]),s[9]!==void 0&&(o.result=s[9]),e=new TI({props:o}),Mt.push(()=>ss(e,"state",r)),Mt.push(()=>ss(e,"result",a)),{c(){_e(e.$$.fragment)},l(h){xe(e.$$.fragment,h)},m(h,f){we(e,h,f),n=!0},p(h,f){var g,p,m;const d={};f&128&&(d.windowWidth=h[7]),f&256&&(d.windowHeight=h[8]),f&8&&(d.delay=(m=(p=(g=h[3])==null?void 0:g.template)==null?void 0:p.data)==null?void 0:m.interaction_delay),!t&&f&64&&(t=!0,d.state=h[6],ns(()=>t=!1)),!i&&f&512&&(i=!0,d.result=h[9],ns(()=>i=!1)),e.$set(d)},i(h){n||(F(e.$$.fragment,h),n=!0)},o(h){W(e.$$.fragment,h),n=!1},d(h){be(e,h)}}}function tm(s){var a,o,l,c,u,h;let e,t,i;function n(f){s[20](f)}let r={items:(l=(o=(a=s[3])==null?void 0:a.template)==null?void 0:o.data)==null?void 0:l.result_group,roll:s[9],promo:(h=(u=(c=s[3])==null?void 0:c.template)==null?void 0:u.data)==null?void 0:h.promo,type:s[11],theme:s[10]};return s[6]!==void 0&&(r.state=s[6]),e=new DI({props:r}),Mt.push(()=>ss(e,"state",n)),{c(){_e(e.$$.fragment)},l(f){xe(e.$$.fragment,f)},m(f,d){we(e,f,d),i=!0},p(f,d){var p,m,v,w,_,x;const g={};d&8&&(g.items=(v=(m=(p=f[3])==null?void 0:p.template)==null?void 0:m.data)==null?void 0:v.result_group),d&512&&(g.roll=f[9]),d&8&&(g.promo=(x=(_=(w=f[3])==null?void 0:w.template)==null?void 0:_.data)==null?void 0:x.promo),!t&&d&64&&(t=!0,g.state=f[6],ns(()=>t=!1)),e.$set(g)},i(f){i||(F(e.$$.fragment,f),i=!0)},o(f){W(e.$$.fragment,f),i=!1},d(f){be(e,f)}}}function im(s){let e,t,i,n,r=s[7]>0&&s[8]>0&&em(s);return{c(){e=Y("section"),r&&r.c(),this.h()},l(a){e=q(a,"SECTION",{id:!0,"data-idx":!0,"data-variation":!0,class:!0,"data-items":!0});var o=G(e);r&&r.l(o),o.forEach(D),this.h()},h(){T(e,"id",s[0]),T(e,"data-idx",s[1]),T(e,"data-variation",s[4]),T(e,"class","surprise-feature slice-section w-full relative overflow-hidden"),T(e,"data-items",t=JSON.stringify(s[2])),gt(()=>s[22].call(e))},m(a,o){Q(a,e,o),r&&r.m(e,null),s[21](e),i=Qt(e,s[22].bind(e)),n=!0},p(a,o){a[7]>0&&a[8]>0?r?(r.p(a,o),o&384&&F(r,1)):(r=em(a),r.c(),F(r,1),r.m(e,null)):r&&(Se(),W(r,1,1,()=>{r=null}),Me()),(!n||o&1)&&T(e,"id",a[0]),(!n||o&2)&&T(e,"data-idx",a[1]),(!n||o&16)&&T(e,"data-variation",a[4]),(!n||o&4&&t!==(t=JSON.stringify(a[2])))&&T(e,"data-items",t)},i(a){n||(F(r),n=!0)},o(a){W(r),n=!1},d(a){a&&D(e),r&&r.d(),s[21](null),i()}}}function FI(s){var a,o;let e,t,i,n;gt(s[13]);let r=((o=(a=s[3])==null?void 0:a.template)==null?void 0:o.data)&&Qp(s);return{c(){r&&r.c(),e=ue()},l(l){r&&r.l(l),e=ue()},m(l,c){r&&r.m(l,c),Q(l,e,c),t=!0,i||(n=Qe(sv,"resize",s[13]),i=!0)},p(l,[c]){var u,h;(h=(u=l[3])==null?void 0:u.template)!=null&&h.data?r?(r.p(l,c),c&8&&F(r,1)):(r=Qp(l),r.c(),F(r,1),r.m(e.parentNode,e)):r&&(Se(),W(r,1,1,()=>{r=null}),Me())},i(l){t||(F(r),t=!0)},o(l){W(r),t=!1},d(l){l&&D(e),r&&r.d(l),i=!1,n()}}}function OI(s,e,t){var L,k,A,I;let i,n,r;Yt(s,Xt,R=>t(23,r=R)),Ht.registerPlugin(CE.ScrollToPlugin);let{id:a}=e,{index:o}=e,{items:l=[]}=e,{data:c}=e,{variation:u}=e,h,f=0,d=0,g=typeof c.theme=="string"?c.theme.toLowerCase():"primary",p=(k=(L=c==null?void 0:c.template)==null?void 0:L.data)!=null&&k.pre_built_interactions?Ur(c.template.data.pre_built_interactions):null,m=((I=(A=c==null?void 0:c.template)==null?void 0:A.data)==null?void 0:I.custom_interaction)===!0?"click":"observe";const v=R=>{Ht.to(window,{scrollTo:{y:R,offsetY:60}})};Pi(()=>{var R,O;(O=(R=c==null?void 0:c.template)==null?void 0:R.data)!=null&&O.result_group&&[...c.template.data.result_group].forEach(z=>{var $;if(!(($=z.result_image)!=null&&$.url))return;let V=document.createElement("img");V.src=z.result_image.url})});function w(){t(8,d=sv.innerHeight)}function _(R){i=R,t(6,i)}function x(R){n=R,t(9,n)}function b(R){i=R,t(6,i)}function S(R){n=R,t(9,n)}function M(R){i=R,t(6,i)}function y(R){n=R,t(9,n)}function E(R){i=R,t(6,i)}function C(R){Mt[R?"unshift":"push"](()=>{h=R,t(5,h)})}function P(){f=this.clientWidth,t(7,f)}return s.$$set=R=>{"id"in R&&t(0,a=R.id),"index"in R&&t(1,o=R.index),"items"in R&&t(2,l=R.items),"data"in R&&t(3,c=R.data),"variation"in R&&t(4,u=R.variation)},s.$$.update=()=>{s.$$.dirty&96&&(i==="active"?v(h):Wa(Xt,r.scrollLock=!1,r))},t(6,i="start"),t(9,n=null),[a,o,l,c,u,h,i,f,d,n,g,p,m,w,_,x,b,S,M,y,E,C,P]}class NI extends nt{constructor(e){super(),st(this,e,OI,FI,Ge,{id:0,index:1,items:2,data:3,variation:4})}}class BI{constructor(e={}){var t;this.config={align:e.align||"center",wrapper:e.wrapper||null,parent:e.parent||null,child:((t=e.wrapper)==null?void 0:t.children[0])||null,measureEl:e.measureEl||e.parent||null,elements:e.elements||[],margin:e.margin||10,shift:e.shift||30,delay:e.delay||250,runOnce:e.runOnce||!0},this.Engine=rn.Engine,this.Bodies=rn.Bodies,this.Render=rn.Render,this.Runner=rn.Runner,this.Composite=rn.Composite,this.Sleeping=rn.Sleeping,this.baseDensity=5e4,this.gravity=e.gravity||1,this.system={},this.system.engine=this.Engine.create({enableSleeping:!0}),this.system.world=this.system.engine.world,this.system.engine.gravity.y=0,this.raf=null,this.stop=!1,this.measure=!1,this.hasRun=!1,this.debug=!1,this.init()}init(){let e=this.config.parent.getBoundingClientRect();this.system.render=this.Render.create({engine:this.system.engine,element:this.config.wrapper,options:{background:"transparent",enabled:!0,height:Math.ceil(e.height)+1,width:e.width,showSleeping:!1,wireframes:!1,pixelRatio:2}}),this.debug===!0&&(this.system.render.options.wireframeBackground="black",this.system.render.options.wireframes=!0,this.system.render.options.showAngleIndicator=!0,this.system.render.options.showAxes=!0,this.system.render.options.showBounds=!0,this.system.render.options.showCollisions=!0,this.system.render.options.showConvexHulls=!0,this.system.render.options.showDebug=!0,this.system.render.options.showIds=!0,this.system.render.options.showInternalEdges=!0,this.system.render.options.showPerformance=!0,this.system.render.options.showPositions=!0,this.system.render.options.showSeparations=!0,this.system.render.options.showSleeping=!0,this.system.render.options.showStats=!0,this.system.render.options.showVelocity=!0,this.system.render.options.showVertexNumbers=!0),this.system.render.canvas.classList.add("gravity-canvas"),this.Render.run(this.system.render),this.system.runner=this.Runner.create(),this.Runner.run(this.system.runner,this.system.engine),this.canvasBounds=this.system.render.canvas.getBoundingClientRect(),this.system.worldBounds=[this.Bodies.rectangle(Math.round(this.canvasBounds.width/2),Math.round(this.canvasBounds.height)+50,Math.round(this.canvasBounds.width)+200,100,{isStatic:!0,restitution:0,friction:5}),this.Bodies.rectangle(-50,this.canvasBounds.height/2,100,Math.round(this.canvasBounds.height),{isStatic:!0,restitution:0,friction:5}),this.Bodies.rectangle(Math.round(this.canvasBounds.width)+50,Math.round(this.canvasBounds.height)/2,100,Math.round(this.canvasBounds.height),{isStatic:!0,restitution:0,friction:5})],this.Composite.add(this.system.world,this.system.worldBounds),this.system.bodies=[],[...this.config.elements].forEach((t,i)=>{if(this.system.bodies[i])return;let n=this.calcBody(t,i);this.config.elements[i].id="body_"+n.id,this.system.bodies.push(n)}),this.Composite.add(this.system.engine.world,this.system.bodies),this.update()}calcBody(e,t){let i=e.getBoundingClientRect(),n=Math.ceil(Math.random()*(Math.round(this.canvasBounds.width/2)-i.width/2)),r=Math.ceil(Math.random()*(Math.round(this.canvasBounds.height)-i.height/2))*-1,a=Math.ceil(Math.random()*45)*(Math.round(Math.random())?1:-1)*(Math.PI/180),o=e.dataset.scaleX,l=Math.round(this.canvasBounds.width/2)+n*(Math.round(Math.random())?1:-1),c=r;return this.Bodies.rectangle(l,c,i.width,i.height,{restitution:0,friction:2,frictionAir:0,frictionStatic:50,density:this.baseDensity-500*t,angle:a,render:{fillStyle:"red",lineWidth:0,strokeStyle:"transparent",sprite:{texture:e.dataset.src,xScale:o,yScale:o}}})}addBodies(){if(this.system.bodies.length>50)return;this.stop=!1;let e=Math.ceil(Math.random()*4+1);for(let t=0;t<e;++t)[...this.config.elements].forEach((i,n)=>{let r=this.system.bodies.length,a=this.calcBody(i,r);this.system.bodies.push(a),this.Composite.add(this.system.engine.world,a)})}update(){if(this.stop===!0)return;if(this.system.bodies.filter(t=>t.isSleeping).length===this.system.bodies.length){this.stop=!0;return}if(this.measure=!1){this.measure=!0;return}this.raf=window.requestAnimationFrame(this.update.bind(this))}run(){this.config.runOnce===!0&&this.hasRun===!0||setTimeout(()=>{this.system.world.gravity.y=this.gravity,[...this.system.bodies].forEach(e=>this.Sleeping.set(e,!1)),this.stop=!1,this.hasRun=!0,this.raf=window.requestAnimationFrame(this.update.bind(this))},this.config.delay)}stop(){this.stop=!0}}function VI(s){let e,t,i;const n=s[6].default,r=Yr(n,s,s[5],null);return{c(){e=Y("div"),t=Y("div"),r&&r.c(),this.h()},l(a){e=q(a,"DIV",{class:!0,"data-active":!0});var o=G(e);t=q(o,"DIV",{class:!0});var l=G(t);r&&r.l(l),l.forEach(D),o.forEach(D),this.h()},h(){T(t,"class","h-full w-full"),T(e,"class","gravity-scene h-full w-full pointer-events-none relative"),T(e,"data-active",s[0])},m(a,o){Q(a,e,o),B(e,t),r&&r.m(t,null),s[7](e),i=!0},p(a,[o]){r&&r.p&&(!i||o&32)&&qr(r,n,a,a[5],i?Zr(n,a[5],o,null):Xr(a[5]),null),(!i||o&1)&&T(e,"data-active",a[0])},i(a){i||(F(r,a),i=!0)},o(a){W(r,a),i=!1},d(a){a&&D(e),r&&r.d(a),s[7](null)}}}function UI(s,e,t){let i;Yt(s,Xt,f=>t(8,i=f));let{$$slots:n={},$$scope:r}=e,{active:a}=e,{inView:o=!0}=e,{event:l}=e,c,u;Pi(()=>{t(4,u=new BI({split:i.split,wrapper:c,parent:c.parentElement,elements:c.children[0].children,measureEl:c.closest(".text-measure")})),t(2,l=u)});function h(f){Mt[f?"unshift":"push"](()=>{c=f,t(1,c)})}return s.$$set=f=>{"active"in f&&t(0,a=f.active),"inView"in f&&t(3,o=f.inView),"event"in f&&t(2,l=f.event),"$$scope"in f&&t(5,r=f.$$scope)},s.$$.update=()=>{s.$$.dirty&25&&u&&a&&o&&u.run()},[a,c,l,o,u,r,n,h]}class WI extends nt{constructor(e){super(),st(this,e,UI,VI,Ge,{active:0,inView:3,event:2})}}function nm(s,e,t){const i=s.slice();return i[7]=e[t],i[9]=t,i}function sm(s){let e,t,i;return{c(){e=Y("div"),this.h()},l(n){e=q(n,"DIV",{class:!0,"data-scale-x":!0,"data-src":!0,style:!0}),G(e).forEach(D),this.h()},h(){T(e,"class","w-[var(--w)] h-[var(--h)] visually-hidden"),T(e,"data-scale-x",t=200/s[7].rain_object_image.dimensions.width),T(e,"data-src",i=s[7].rain_object_image.url),Ce(e,"--w",s[7].rain_object_image.x200.dimensions.width+"px"),Ce(e,"--h",s[7].rain_object_image.x200.dimensions.height+"px")},m(n,r){Q(n,e,r)},p(n,r){r&2&&t!==(t=200/n[7].rain_object_image.dimensions.width)&&T(e,"data-scale-x",t),r&2&&i!==(i=n[7].rain_object_image.url)&&T(e,"data-src",i),r&2&&Ce(e,"--w",n[7].rain_object_image.x200.dimensions.width+"px"),r&2&&Ce(e,"--h",n[7].rain_object_image.x200.dimensions.height+"px")},d(n){n&&D(e)}}}function rm(s){var i,n;let e,t=((n=(i=s[7])==null?void 0:i.rain_object_image)==null?void 0:n.url)&&sm(s);return{c(){t&&t.c(),e=ue()},l(r){t&&t.l(r),e=ue()},m(r,a){t&&t.m(r,a),Q(r,e,a)},p(r,a){var o,l;(l=(o=r[7])==null?void 0:o.rain_object_image)!=null&&l.url?t?t.p(r,a):(t=sm(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&D(e),t&&t.d(r)}}}function GI(s){let e,t=kt(s[1]),i=[];for(let n=0;n<t.length;n+=1)i[n]=rm(nm(s,t,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=ue()},l(n){for(let r=0;r<i.length;r+=1)i[r].l(n);e=ue()},m(n,r){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(n,r);Q(n,e,r)},p(n,r){if(r&2){t=kt(n[1]);let a;for(a=0;a<t.length;a+=1){const o=nm(n,t,a);i[a]?i[a].p(o,r):(i[a]=rm(o),i[a].c(),i[a].m(e.parentNode,e))}for(;a<i.length;a+=1)i[a].d(1);i.length=t.length}},d(n){n&&D(e),Di(i,n)}}}function HI(s){let e,t,i,n,r,a,o,l,c,u,h,f;function d(m){s[6](m)}let g={active:s[0],$$slots:{default:[GI]},$$scope:{ctx:s}};s[4]!==void 0&&(g.event=s[4]),t=new WI({props:g}),Mt.push(()=>ss(t,"event",d));let p=jI===!0;return{c(){e=Y("div"),_e(t.$$.fragment),n=le(),r=Y("button"),a=je(s[2]),l=le(),c=ue(),this.h()},l(m){e=q(m,"DIV",{class:!0});var v=G(e);xe(t.$$.fragment,v),v.forEach(D),n=ce(m),r=q(m,"BUTTON",{class:!0,"data-event-name":!0,"data-event-param":!0,"data-event-value":!0});var w=G(r);a=Ye(w,s[2]),w.forEach(D),l=ce(m),c=ue(),this.h()},h(){T(e,"class","pointer-events-none absolute -top-px left-0 w-full h-full z-[0] text-measure "),T(r,"class",o="btn btn-"+s[3]+" btn-alt max-w-[320px] mx-auto relative z-[1]"),T(r,"data-event-name","interaction"),T(r,"data-event-param","interaction_type"),T(r,"data-event-value","Make It Rain")},m(m,v){Q(m,e,v),we(t,e,null),Q(m,n,v),Q(m,r,v),B(r,a),Q(m,l,v),Q(m,c,v),u=!0,h||(f=Qe(r,"click",_v(s[5])),h=!0)},p(m,[v]){const w={};v&1&&(w.active=m[0]),v&1026&&(w.$$scope={dirty:v,ctx:m}),!i&&v&16&&(i=!0,w.event=m[4],ns(()=>i=!1)),t.$set(w),(!u||v&4)&&ut(a,m[2]),(!u||v&8&&o!==(o="btn btn-"+m[3]+" btn-alt max-w-[320px] mx-auto relative z-[1]"))&&T(r,"class",o)},i(m){u||(F(t.$$.fragment,m),F(p),u=!0)},o(m){W(t.$$.fragment,m),W(p),u=!1},d(m){m&&(D(e),D(n),D(r),D(l),D(c)),be(t),h=!1,f()}}}let jI=!1;function YI(s,e,t){let{active:i=!1}=e,{objects:n}=e,{text:r}=e,{theme:a}=e,o;const l=()=>{o&&o.addBodies()};function c(u){o=u,t(4,o)}return s.$$set=u=>{"active"in u&&t(0,i=u.active),"objects"in u&&t(1,n=u.objects),"text"in u&&t(2,r=u.text),"theme"in u&&t(3,a=u.theme)},[i,n,r,a,o,l,c]}class qI extends nt{constructor(e){super(),st(this,e,YI,HI,Ge,{active:0,objects:1,text:2,theme:3})}}function XI(s){var a;let e,t,i,n=s[11]=="shape-animation"&&ZI(s),r=s[11]=="custom-image"&&((a=s[3].custom_image)==null?void 0:a.url)&&am(s);return{c(){n&&n.c(),e=le(),r&&r.c(),t=ue()},l(o){n&&n.l(o),e=ce(o),r&&r.l(o),t=ue()},m(o,l){n&&n.m(o,l),Q(o,e,l),r&&r.m(o,l),Q(o,t,l),i=!0},p(o,l){var c;o[11]=="shape-animation"&&n.p(o,l),o[11]=="custom-image"&&((c=o[3].custom_image)!=null&&c.url)?r?(r.p(o,l),l&8&&F(r,1)):(r=am(o),r.c(),F(r,1),r.m(t.parentNode,t)):r&&(Se(),W(r,1,1,()=>{r=null}),Me())},i(o){i||(F(n),F(r),i=!0)},o(o){W(n),W(r),i=!1},d(o){o&&(D(e),D(t)),n&&n.d(o),r&&r.d(o)}}}function ZI(s){let e,t;return e=new sl({props:{theme:s[8],theme_alt:s[9]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p:Pe,i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function am(s){var n;let e,t,i;return t=new ei({props:{src:(n=s[3].custom_image)==null?void 0:n.url,height:s[3].custom_image.dimensions.height*(768/s[3].custom_image.dimensions.width),width:768}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(r){e=q(r,"DIV",{class:!0});var a=G(e);xe(t.$$.fragment,a),a.forEach(D),this.h()},h(){T(e,"class","max-w-[384px] m-auto")},m(r,a){Q(r,e,a),we(t,e,null),i=!0},p(r,a){var l;const o={};a&8&&(o.src=(l=r[3].custom_image)==null?void 0:l.url),a&8&&(o.height=r[3].custom_image.dimensions.height*(768/r[3].custom_image.dimensions.width)),t.$set(o)},i(r){i||(F(t.$$.fragment,r),i=!0)},o(r){W(t.$$.fragment,r),i=!1},d(r){r&&D(e),be(t)}}}function om(s){let e,t=s[3].eyebrow+"",i;return{c(){e=Y("p"),i=je(t),this.h()},l(n){e=q(n,"P",{class:!0});var r=G(e);i=Ye(r,t),r.forEach(D),this.h()},h(){T(e,"class","eyebrow accent text-stroke")},m(n,r){Q(n,e,r),B(e,i)},p(n,r){r&8&&t!==(t=n[3].eyebrow+"")&&ut(i,t)},d(n){n&&D(e)}}}function lm(s){var n,r;let e,t,i;return t=new Bi({props:{content:(n=s[3])==null?void 0:n.content,scale:(r=s[3])==null?void 0:r.content_scale}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);xe(t.$$.fragment,o),o.forEach(D),this.h()},h(){T(e,"class","text-stroke")},m(a,o){Q(a,e,o),we(t,e,null),i=!0},p(a,o){var c,u;const l={};o&8&&(l.content=(c=a[3])==null?void 0:c.content),o&8&&(l.scale=(u=a[3])==null?void 0:u.content_scale),t.$set(l)},i(a){i||(F(t.$$.fragment,a),i=!0)},o(a){W(t.$$.fragment,a),i=!1},d(a){a&&D(e),be(t)}}}function cm(s){var a;let e,t=((a=s[3])==null?void 0:a.cta_text)+"",i,n,r;return{c(){e=Y("a"),i=je(t),this.h()},l(o){e=q(o,"A",{class:!0,href:!0,target:!0});var l=G(e);i=Ye(l,t),l.forEach(D),this.h()},h(){var o;T(e,"class","btn inline-block"),T(e,"href",n=gi(s[3].cta_link,s[7].linkResolver)),T(e,"target",r=((o=s[3])==null?void 0:o.cta_link.target)||null)},m(o,l){Q(o,e,l),B(e,i)},p(o,l){var c,u;l&8&&t!==(t=((c=o[3])==null?void 0:c.cta_text)+"")&&ut(i,t),l&136&&n!==(n=gi(o[3].cta_link,o[7].linkResolver))&&T(e,"href",n),l&8&&r!==(r=((u=o[3])==null?void 0:u.cta_link.target)||null)&&T(e,"target",r)},d(o){o&&D(e)}}}function um(s){var i;let e,t;return e=new qI({props:{objects:s[2],text:(i=s[3])==null?void 0:i.cta_text,theme:s[8],active:s[5]}}),{c(){_e(e.$$.fragment)},l(n){xe(e.$$.fragment,n)},m(n,r){we(e,n,r),t=!0},p(n,r){var o;const a={};r&4&&(a.objects=n[2]),r&8&&(a.text=(o=n[3])==null?void 0:o.cta_text),r&32&&(a.active=n[5]),e.$set(a)},i(n){t||(F(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){be(e,n)}}}function fm(s){var S,M,y,E,C,P;let e,t,i,n,r,a,o,l,c,u,h,f,d,g,p,m,v=s[11]&&XI(s),w=((S=s[3])==null?void 0:S.eyebrow)&&s[3].eyebrow!==""&&om(s),_=((M=s[3])==null?void 0:M.content)&&lm(s),x=(((E=(y=s[3])==null?void 0:y.cta_link)==null?void 0:E.url)||((C=s[3].cta_link)==null?void 0:C.uid))&&cm(s),b=((P=s[2])==null?void 0:P.length)>0&&um(s);return{c(){e=Y("section"),t=Y("div"),i=Y("div"),n=Y("div"),v&&v.c(),r=le(),a=Y("div"),o=Y("div"),w&&w.c(),l=le(),_&&_.c(),c=le(),x&&x.c(),u=le(),b&&b.c(),this.h()},l(L){e=q(L,"SECTION",{id:!0,"data-idx":!0,"data-variation":!0,class:!0});var k=G(e);t=q(k,"DIV",{class:!0});var A=G(t);i=q(A,"DIV",{class:!0});var I=G(i);n=q(I,"DIV",{class:!0});var R=G(n);v&&v.l(R),R.forEach(D),r=ce(I),a=q(I,"DIV",{class:!0,style:!0});var O=G(a);o=q(O,"DIV",{class:!0});var z=G(o);w&&w.l(z),l=ce(z),_&&_.l(z),c=ce(z),x&&x.l(z),z.forEach(D),u=ce(O),b&&b.l(O),O.forEach(D),I.forEach(D),A.forEach(D),k.forEach(D),this.h()},h(){var L,k;T(n,"class","my-[18px] dk:my-[30px] relative z-[1]"),T(o,"class","richtext relative z-[1]"),T(a,"class",(s[10]?"max-w-[460px]":"max-w-[875px]")+" w-full m-auto boundary-exclusion"),Ce(a,"text-align",(L=s[3].text_alignment)==null?void 0:L.toLowerCase()),T(i,"class",h=s[6].split===!1?"dk:grid grid-cols-2 items-center":""),T(t,"class",f="min-h-[65vh] w-full flex flex-col justify-center "+(((k=s[2])==null?void 0:k.length)>0?"py-[60px] cx":"ca")),T(e,"id",s[0]),T(e,"data-idx",s[1]),T(e,"data-variation",s[4]),T(e,"class",d="one-column-richtext "+(s[2].length>0?"ca relative":"")+" slice-section overflow-hidden theme-"+s[8])},m(L,k){Q(L,e,k),B(e,t),B(t,i),B(i,n),v&&v.m(n,null),B(i,r),B(i,a),B(a,o),w&&w.m(o,null),B(o,l),_&&_.m(o,null),B(o,c),x&&x.m(o,null),B(a,u),b&&b.m(a,null),g=!0,p||(m=[el(tl.call(null,e,{threshold:0})),Qe(e,"change",s[12])],p=!0)},p(L,k){var A,I,R,O,z,V,$,K;L[11]&&v.p(L,k),(A=L[3])!=null&&A.eyebrow&&L[3].eyebrow!==""?w?w.p(L,k):(w=om(L),w.c(),w.m(o,l)):w&&(w.d(1),w=null),(I=L[3])!=null&&I.content?_?(_.p(L,k),k&8&&F(_,1)):(_=lm(L),_.c(),F(_,1),_.m(o,c)):_&&(Se(),W(_,1,1,()=>{_=null}),Me()),(O=(R=L[3])==null?void 0:R.cta_link)!=null&&O.url||(z=L[3].cta_link)!=null&&z.uid?x?x.p(L,k):(x=cm(L),x.c(),x.m(o,null)):x&&(x.d(1),x=null),((V=L[2])==null?void 0:V.length)>0?b?(b.p(L,k),k&4&&F(b,1)):(b=um(L),b.c(),F(b,1),b.m(a,null)):b&&(Se(),W(b,1,1,()=>{b=null}),Me()),(!g||k&8)&&Ce(a,"text-align",($=L[3].text_alignment)==null?void 0:$.toLowerCase()),(!g||k&64&&h!==(h=L[6].split===!1?"dk:grid grid-cols-2 items-center":""))&&T(i,"class",h),(!g||k&4&&f!==(f="min-h-[65vh] w-full flex flex-col justify-center "+(((K=L[2])==null?void 0:K.length)>0?"py-[60px] cx":"ca")))&&T(t,"class",f),(!g||k&1)&&T(e,"id",L[0]),(!g||k&2)&&T(e,"data-idx",L[1]),(!g||k&16)&&T(e,"data-variation",L[4]),(!g||k&4&&d!==(d="one-column-richtext "+(L[2].length>0?"ca relative":"")+" slice-section overflow-hidden theme-"+L[8]))&&T(e,"class",d)},i(L){g||(F(v),F(_),F(b),g=!0)},o(L){W(v),W(_),W(b),g=!1},d(L){L&&D(e),v&&v.d(),w&&w.d(),_&&_.d(),x&&x.d(),b&&b.d(),p=!1,Qi(m)}}}function $I(s){let e=s[0],t,i,n=fm(s);return{c(){n.c(),t=ue()},l(r){n.l(r),t=ue()},m(r,a){n.m(r,a),Q(r,t,a),i=!0},p(r,[a]){a&1&&Ge(e,e=r[0])?(Se(),W(n,1,1,Pe),Me(),n=fm(r),n.c(),F(n,1),n.m(t.parentNode,t)):n.p(r,a)},i(r){i||(F(n),i=!0)},o(r){W(n),i=!1},d(r){r&&D(t),n.d(r)}}}function KI(s,e,t){let i,n;Yt(s,Xt,m=>t(6,i=m)),Yt(s,il,m=>t(7,n=m));let{id:r}=e,{index:a}=e,{items:o}=e,{data:l}=e,{variation:c}=e,u=typeof l.theme=="string"?l.theme.toLowerCase():"primary",h=u==="primary"?"secondary":"primary",f=i.split,d=!1,g=l!=null&&l.lead_in_image?Ur(l.lead_in_image):null;const p=m=>{t(5,d=m.detail.inView)};return s.$$set=m=>{"id"in m&&t(0,r=m.id),"index"in m&&t(1,a=m.index),"items"in m&&t(2,o=m.items),"data"in m&&t(3,l=m.data),"variation"in m&&t(4,c=m.variation)},[r,a,o,l,c,d,i,n,u,h,f,g,p]}class JI extends nt{constructor(e){super(),st(this,e,KI,$I,Ge,{id:0,index:1,items:2,data:3,variation:4})}}function dm(s){let e,t;return e=new Ya({props:{src:s[2].video.url,cover:!0,autoplay:"autoplay"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&4&&(r.src=i[2].video.url),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function hm(s){let e,t,i,n;const r=[e4,QI],a=[];function o(l,c){return l[5]>l[2].image.dimensions.width?0:1}return e=o(s),t=a[e]=r[e](s),{c(){t.c(),i=ue()},l(l){t.l(l),i=ue()},m(l,c){a[e].m(l,c),Q(l,i,c),n=!0},p(l,c){let u=e;e=o(l),e===u?a[e].p(l,c):(Se(),W(a[u],1,1,()=>{a[u]=null}),Me(),t=a[e],t?t.p(l,c):(t=a[e]=r[e](l),t.c()),F(t,1),t.m(i.parentNode,i))},i(l){n||(F(t),n=!0)},o(l){W(t),n=!1},d(l){l&&D(i),a[e].d(l)}}}function QI(s){let e,t;return e=new ei({props:{src:s[2].image.url,width:s[2].image.dimensions.width,height:s[2].image.dimensions.height,cover:!0}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&4&&(r.src=i[2].image.url),n&4&&(r.width=i[2].image.dimensions.width),n&4&&(r.height=i[2].image.dimensions.height),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function e4(s){let e,t,i;return t=new ei({props:{src:s[2].image.url,width:s[2].image.dimensions.width,height:s[2].image.dimensions.height}}),{c(){e=Y("div"),_e(t.$$.fragment),this.h()},l(n){e=q(n,"DIV",{class:!0});var r=G(e);xe(t.$$.fragment,r),r.forEach(D),this.h()},h(){T(e,"class","absolute max-w-full top-1/2 -translate-y-1/2")},m(n,r){Q(n,e,r),we(t,e,null),i=!0},p(n,r){const a={};r&4&&(a.src=n[2].image.url),r&4&&(a.width=n[2].image.dimensions.width),r&4&&(a.height=n[2].image.dimensions.height),t.$set(a)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){W(t.$$.fragment,n),i=!1},d(n){n&&D(e),be(t)}}}function pm(s){let e,t=s[2].eyebrow+"",i;return{c(){e=Y("p"),i=je(t),this.h()},l(n){e=q(n,"P",{class:!0});var r=G(e);i=Ye(r,t),r.forEach(D),this.h()},h(){T(e,"class","eyebrow accent")},m(n,r){Q(n,e,r),B(e,i)},p(n,r){r&4&&t!==(t=n[2].eyebrow+"")&&ut(i,t)},d(n){n&&D(e)}}}function t4(s){let e,t;return e=new y0({props:{align:s[11].toLowerCase(),theme:s[7],timestamp:s[12],width:s[4]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&16&&(r.width=i[4]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function mm(s){let e,t;return e=new Bi({props:{content:s[2].content}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&4&&(r.content=i[2].content),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function gm(s){let e,t=s[2].cta_text+"",i,n,r;return{c(){e=Y("a"),i=je(t),this.h()},l(a){e=q(a,"A",{class:!0,href:!0,target:!0});var o=G(e);i=Ye(o,t),o.forEach(D),this.h()},h(){T(e,"class","btn inline-block"),T(e,"href",n=gi(s[2].cta_link,s[6].linkResolver)),T(e,"target",r=s[2].cta_link.target||null)},m(a,o){Q(a,e,o),B(e,i)},p(a,o){o&4&&t!==(t=a[2].cta_text+"")&&ut(i,t),o&68&&n!==(n=gi(a[2].cta_link,a[6].linkResolver))&&T(e,"href",n),o&4&&r!==(r=a[2].cta_link.target||null)&&T(e,"target",r)},d(a){a&&D(e)}}}function vm(s){var x,b,S,M,y,E;let e,t,i,n,r,a,o,l,c,u,h,f,d,g=((b=(x=s[2])==null?void 0:x.video)==null?void 0:b.url)&&dm(s),p=((M=(S=s[2])==null?void 0:S.image)==null?void 0:M.url)&&hm(s),m=s[2].eyebrow&&pm(s),v=s[12]&&t4(s),w=s[2].content&&mm(s),_=(((y=s[2].cta_link)==null?void 0:y.url)||((E=s[2].cta_link)==null?void 0:E.uid))&&gm(s);return{c(){e=Y("section"),t=Y("div"),i=Y("div"),g&&g.c(),n=le(),p&&p.c(),o=le(),l=Y("div"),m&&m.c(),c=le(),v&&v.c(),u=le(),w&&w.c(),h=le(),_&&_.c(),this.h()},l(C){e=q(C,"SECTION",{id:!0,"data-idx":!0,"data-variation":!0,class:!0});var P=G(e);t=q(P,"DIV",{class:!0});var L=G(t);i=q(L,"DIV",{class:!0});var k=G(i);g&&g.l(k),n=ce(k),p&&p.l(k),k.forEach(D),o=ce(L),l=q(L,"DIV",{class:!0,style:!0});var A=G(l);m&&m.l(A),c=ce(A),v&&v.l(A),u=ce(A),w&&w.l(A),h=ce(A),_&&_.l(A),A.forEach(D),L.forEach(D),P.forEach(D),this.h()},h(){var C,P,L;T(i,"class",r="media relative flex dk:items-center dk:justify-center "+(s[10]==="Image Right"?"dk:col-start-2 dk:row-start-1":"")+" theme-"+s[8]+" "+((L=(P=(C=s[2])==null?void 0:C.image)==null?void 0:P.dimensions)!=null&&L.width&&s[5]>s[2].image.dimensions.width?"pb-[100%] dk:!pb-[50%]":"aspect-square")+" "+(s[9]?"":"dk:basis-[50%]")),gt(()=>s[13].call(i)),T(l,"class","richtext ca "+(s[10]==="Image Right"?"dk:col-start-1 dk:row-start-1":"")+" "+(s[9]?"dk:basis-[100%]":"dk:basis-[50%]")),Ce(l,"text-align",s[11].toLowerCase()),gt(()=>s[14].call(l)),T(t,"class","grid "+(s[9]?"":"dk:grid-cols-2 dk:items-center")),T(e,"id",s[0]),T(e,"data-idx",s[1]),T(e,"data-variation",s[3]),T(e,"class","two-column-media-text slice-section theme-"+s[7])},m(C,P){Q(C,e,P),B(e,t),B(t,i),g&&g.m(i,null),B(i,n),p&&p.m(i,null),a=Qt(i,s[13].bind(i)),B(t,o),B(t,l),m&&m.m(l,null),B(l,c),v&&v.m(l,null),B(l,u),w&&w.m(l,null),B(l,h),_&&_.m(l,null),f=Qt(l,s[14].bind(l)),d=!0},p(C,P){var L,k,A,I,R,O,z,V,$;(k=(L=C[2])==null?void 0:L.video)!=null&&k.url?g?(g.p(C,P),P&4&&F(g,1)):(g=dm(C),g.c(),F(g,1),g.m(i,n)):g&&(Se(),W(g,1,1,()=>{g=null}),Me()),(I=(A=C[2])==null?void 0:A.image)!=null&&I.url?p?(p.p(C,P),P&4&&F(p,1)):(p=hm(C),p.c(),F(p,1),p.m(i,null)):p&&(Se(),W(p,1,1,()=>{p=null}),Me()),(!d||P&36&&r!==(r="media relative flex dk:items-center dk:justify-center "+(C[10]==="Image Right"?"dk:col-start-2 dk:row-start-1":"")+" theme-"+C[8]+" "+((z=(O=(R=C[2])==null?void 0:R.image)==null?void 0:O.dimensions)!=null&&z.width&&C[5]>C[2].image.dimensions.width?"pb-[100%] dk:!pb-[50%]":"aspect-square")+" "+(C[9]?"":"dk:basis-[50%]")))&&T(i,"class",r),C[2].eyebrow?m?m.p(C,P):(m=pm(C),m.c(),m.m(l,c)):m&&(m.d(1),m=null),C[12]&&v.p(C,P),C[2].content?w?(w.p(C,P),P&4&&F(w,1)):(w=mm(C),w.c(),F(w,1),w.m(l,h)):w&&(Se(),W(w,1,1,()=>{w=null}),Me()),(V=C[2].cta_link)!=null&&V.url||($=C[2].cta_link)!=null&&$.uid?_?_.p(C,P):(_=gm(C),_.c(),_.m(l,null)):_&&(_.d(1),_=null),(!d||P&1)&&T(e,"id",C[0]),(!d||P&2)&&T(e,"data-idx",C[1]),(!d||P&8)&&T(e,"data-variation",C[3])},i(C){d||(F(g),F(p),F(v),F(w),d=!0)},o(C){W(g),W(p),W(v),W(w),d=!1},d(C){C&&D(e),g&&g.d(),p&&p.d(),a(),m&&m.d(),v&&v.d(),w&&w.d(),_&&_.d(),f()}}}function i4(s){let e=s[0],t,i,n=vm(s);return{c(){n.c(),t=ue()},l(r){n.l(r),t=ue()},m(r,a){n.m(r,a),Q(r,t,a),i=!0},p(r,[a]){a&1&&Ge(e,e=r[0])?(Se(),W(n,1,1,Pe),Me(),n=vm(r),n.c(),F(n,1),n.m(t.parentNode,t)):n.p(r,a)},i(r){i||(F(n),i=!0)},o(r){W(n),i=!1},d(r){r&&D(t),n.d(r)}}}function n4(s,e,t){let i,n;Yt(s,Xt,_=>t(15,i=_)),Yt(s,il,_=>t(6,n=_));let{id:r}=e,{index:a}=e,{data:o}=e,{variation:l}=e,c=0,u=typeof o.theme=="string"?o.theme.toLowerCase():"primary",h=u==="primary"?"secondary":"primary",f=i.split,d=0,g=(o==null?void 0:o.content_alignment)||"Image Left",p=(o==null?void 0:o.text_alignment)||"Left",m=o==null?void 0:o.countdown_timer;function v(){d=this.clientWidth,t(5,d)}function w(){c=this.clientWidth,t(4,c)}return s.$$set=_=>{"id"in _&&t(0,r=_.id),"index"in _&&t(1,a=_.index),"data"in _&&t(2,o=_.data),"variation"in _&&t(3,l=_.variation)},[r,a,o,l,c,d,n,u,h,f,g,p,m,v,w]}class s4 extends nt{constructor(e){super(),st(this,e,n4,i4,Ge,{id:0,index:1,data:2,variation:3})}}const r4=Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),Qo=(s,e)=>{let t=r4.format(s);return e===!0&&(t=t.toString().replace(".00","")),t};function _m(s){let e,t="Starts at Â ";return{c(){e=Y("span"),e.textContent=t},l(i){e=q(i,"SPAN",{"data-svelte-h":!0}),bi(e)!=="svelte-14fxl4a"&&(e.textContent=t)},m(i,n){Q(i,e,n)},d(i){i&&D(e)}}}function wm(s){let e,t,i=Qo(s[1],s[3])+"",n;return{c(){e=Y("del"),t=je("$"),n=je(i),this.h()},l(r){e=q(r,"DEL",{class:!0});var a=G(e);t=Ye(a,"$"),n=Ye(a,i),a.forEach(D),this.h()},h(){T(e,"class","txt opacity-50 mr-[6px]")},m(r,a){Q(r,e,a),B(e,t),B(e,n)},p(r,a){a&10&&i!==(i=Qo(r[1],r[3])+"")&&ut(n,i)},d(r){r&&D(e)}}}function a4(s){let e,t,i=Qo(s[0],s[3])+"",n,r=s[2]&&_m(),a=s[1]&&wm(s);return{c(){r&&r.c(),e=le(),a&&a.c(),t=je(`
$`),n=je(i)},l(o){r&&r.l(o),e=ce(o),a&&a.l(o),t=Ye(o,`
$`),n=Ye(o,i)},m(o,l){r&&r.m(o,l),Q(o,e,l),a&&a.m(o,l),Q(o,t,l),Q(o,n,l)},p(o,[l]){o[2]?r||(r=_m(),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),o[1]?a?a.p(o,l):(a=wm(o),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),l&9&&i!==(i=Qo(o[0],o[3])+"")&&ut(n,i)},i:Pe,o:Pe,d(o){o&&(D(e),D(t),D(n)),r&&r.d(o),a&&a.d(o)}}}function o4(s,e,t){let{price:i}=e,{comparePrice:n=null}=e,{varies:r=!1}=e,{zeros:a=!0}=e;return s.$$set=o=>{"price"in o&&t(0,i=o.price),"comparePrice"in o&&t(1,n=o.comparePrice),"varies"in o&&t(2,r=o.varies),"zeros"in o&&t(3,a=o.zeros)},[i,n,r,a]}class l4 extends nt{constructor(e){super(),st(this,e,o4,a4,Ge,{price:0,comparePrice:1,varies:2,zeros:3})}}function bm(s){let e,t;return e=new ei({props:{src:s[0],sizes:"(max-width: 479px) 100vw, (max-width: 768px) 50vw, (max-width: 1279px) 33vw, 25vw",shopify:!0,cover:!0}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&1&&(r.src=i[0]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function ym(s){let e,t,i=s[0]&&bm(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,r){n[0]?i?(i.p(n,r),r&1&&F(i,1)):(i=bm(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function c4(s){let e,t,i,n,r,a=s[0],o,l,c,u,h,f,d=s[1].title+"",g,p,m,v,w,_,x,b,S="",M,y,E=ym(s);return _=new l4({props:{price:s[3],varies:s[4]}}),{c(){e=Y("article"),t=Y("div"),i=Y("div"),n=Y("div"),r=Y("a"),E.c(),l=le(),c=Y("div"),u=Y("div"),h=Y("h1"),f=Y("a"),g=je(d),p=le(),m=Y("div"),v=Y("div"),w=Y("div"),_e(_.$$.fragment),x=le(),b=Y("div"),b.innerHTML=S,this.h()},l(C){e=q(C,"ARTICLE",{class:!0});var P=G(e);t=q(P,"DIV",{class:!0,role:!0});var L=G(t);i=q(L,"DIV",{class:!0});var k=G(i);n=q(k,"DIV",{class:!0});var A=G(n);r=q(A,"A",{class:!0,href:!0,target:!0,"aria-label":!0,tabindex:!0});var I=G(r);E.l(I),I.forEach(D),A.forEach(D),k.forEach(D),l=ce(L),c=q(L,"DIV",{class:!0});var R=G(c);u=q(R,"DIV",{class:!0});var O=G(u);h=q(O,"H1",{class:!0});var z=G(h);f=q(z,"A",{class:!0,href:!0,target:!0});var V=G(f);g=Ye(V,d),V.forEach(D),z.forEach(D),p=ce(O),m=q(O,"DIV",{class:!0});var $=G(m);v=q($,"DIV",{class:!0});var K=G(v);w=q(K,"DIV",{class:!0});var U=G(w);xe(_.$$.fragment,U),U.forEach(D),K.forEach(D),$.forEach(D),O.forEach(D),x=ce(R),b=q(R,"DIV",{class:!0,"data-svelte-h":!0}),bi(b)!=="svelte-tc3f1v"&&(b.innerHTML=S),R.forEach(D),L.forEach(D),P.forEach(D),this.h()},h(){T(r,"class","block relative w-full h-0 aspect-square pb-[100%]"),T(r,"href",s[5]),T(r,"target","_blank"),T(r,"aria-label",o=s[1].title),T(r,"tabindex","-1"),T(n,"class","relative border-2 theme-border overflow-hidden"),T(i,"class","relative"),T(f,"class","btn-text"),T(f,"href",s[5]),T(f,"target","_blank"),T(h,"class","font-bold text-[length:20px] dk:text-length[20px] leading-none !mb-0 pr-[10px]"),T(w,"class","font-bold theme-border border-2 rounded-full py-[6px] px-[12px] text-[length:18px]"),T(v,"class","whitespace-nowrap mb-0"),T(m,"class","flex flex-col items-center"),T(u,"class","flex items-start justify-between flex-grow w-full"),T(b,"class","flex justify-between items-center mb-[10px]"),T(c,"class","pt-[10px]"),T(t,"class",""),T(t,"role","article"),T(e,"class",M=s[2]===!0?"col-span-2":"")},m(C,P){Q(C,e,P),B(e,t),B(t,i),B(i,n),B(n,r),E.m(r,null),B(t,l),B(t,c),B(c,u),B(u,h),B(h,f),B(f,g),B(u,p),B(u,m),B(m,v),B(v,w),we(_,w,null),B(c,x),B(c,b),y=!0},p(C,[P]){P&1&&Ge(a,a=C[0])?(Se(),W(E,1,1,Pe),Me(),E=ym(C),E.c(),F(E,1),E.m(r,null)):E.p(C,P),(!y||P&2&&o!==(o=C[1].title))&&T(r,"aria-label",o),(!y||P&2)&&d!==(d=C[1].title+"")&&ut(g,d);const L={};P&8&&(L.price=C[3]),_.$set(L),(!y||P&4&&M!==(M=C[2]===!0?"col-span-2":""))&&T(e,"class",M)},i(C){y||(F(E),F(_.$$.fragment,C),y=!0)},o(C){W(E),W(_.$$.fragment,C),y=!1},d(C){C&&D(e),E.d(C),be(_)}}}function u4(s,e,t){var d;let{product:i}=e,{selectedImage:n=(d=i.featuredImage)==null?void 0:d.url}=e,{selectedVariant:r=i.variants.edges[0]}=e,{theme:a="primary"}=e,{wide:o}=e,l=r,c=[...new Set(i.variants.edges.map(g=>parseFloat(g.node.price.amount)))],u=c.length>1,h=c[0];c.length>1&&(h=c.reduce((g,p)=>Math.min(g,p)));let f=`https://store.dropout.tv/products/${i.handle}`;return s.$$set=g=>{"product"in g&&t(1,i=g.product),"selectedImage"in g&&t(0,n=g.selectedImage),"selectedVariant"in g&&t(6,r=g.selectedVariant),"theme"in g&&t(7,a=g.theme),"wide"in g&&t(2,o=g.wide)},s.$$.update=()=>{s.$$.dirty&64&&l&&l!==r.node.id&&t(6,r=l),s.$$.dirty&1,s.$$.dirty&128,s.$$.dirty&128},[n,i,o,h,u,f,r,a]}class f4 extends nt{constructor(e){super(),st(this,e,u4,c4,Ge,{product:1,selectedImage:0,selectedVariant:6,theme:7,wide:2})}}function xm(s){var t;const e=(t=s[12].data)==null?void 0:t.collection;s[13]=e}function Sm(s,e,t){const i=s.slice();return i[14]=e[t],i[16]=t,i}function Mm(s){let e,t,i,n={ctx:s,current:null,token:null,hasCatch:!0,pending:w4,then:h4,catch:d4,value:12,error:17,blocks:[,,,]};return tu(s[8],n),{c(){e=Y("section"),n.block.c(),this.h()},l(r){e=q(r,"SECTION",{id:!0,class:!0,"data-index":!0,"data-variation":!0});var a=G(e);n.block.l(a),a.forEach(D),this.h()},h(){T(e,"id",s[0]),T(e,"class","m-auto w-full p-[var(--site-gutter)] overflow-hidden theme-"+s[7]),T(e,"data-index",s[1]),T(e,"data-variation",s[2]),gt(()=>s[9].call(e))},m(r,a){Q(r,e,a),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,t=Qt(e,s[9].bind(e)),i=!0},p(r,a){s=r,iu(n,s,a),(!i||a&1)&&T(e,"id",s[0]),(!i||a&2)&&T(e,"data-index",s[1]),(!i||a&4)&&T(e,"data-variation",s[2])},i(r){i||(F(n.block),i=!0)},o(r){for(let a=0;a<3;a+=1){const o=n.blocks[a];W(o)}i=!1},d(r){r&&D(e),n.block.d(),n.token=null,n=null,t()}}}function d4(s){let e=s[17]+"",t;return{c(){t=je(e)},l(i){t=Ye(i,e)},m(i,n){Q(i,t,n)},p:Pe,i:Pe,o:Pe,d(i){i&&D(t)}}}function h4(s){xm(s);let e,t,i,n,r,a,o,l,c,u=s[13].title+"",h,f,d,g,p,m,v,w,_,x=s[6]&&p4(s);function b(y,E){var C,P;return(P=(C=y[3])==null?void 0:C.content[0])!=null&&P.text?g4:m4}let S=b(s),M=S(s);return w=new Nu({props:{items:s[13].products,effect:"slide",overflow:!0,hasMargins:!1,params:{loop:!1,slidesPerView:1,slidesPerGroup:1,breakpoints:{640:{slidesPerView:2,slidesPerGroup:2},1024:{slidesPerView:3,slidesPerGroup:3},1440:{slidesPerView:4,slidesPerGroup:4}}},$$slots:{default:[_4]},$$scope:{ctx:s}}}),{c(){e=Y("div"),t=Y("div"),x&&x.c(),i=le(),n=Y("div"),M.c(),r=le(),a=Y("div"),o=Y("a"),l=Y("span"),c=je("Shop "),h=je(u),f=le(),d=Y("span"),v=le(),_e(w.$$.fragment),this.h()},l(y){e=q(y,"DIV",{class:!0});var E=G(e);t=q(E,"DIV",{class:!0});var C=G(t);x&&x.l(C),i=ce(C),n=q(C,"DIV",{class:!0});var P=G(n);M.l(P),P.forEach(D),C.forEach(D),r=ce(E),a=q(E,"DIV",{class:!0});var L=G(a);o=q(L,"A",{href:!0,class:!0});var k=G(o);l=q(k,"SPAN",{});var A=G(l);c=Ye(A,"Shop "),h=Ye(A,u),A.forEach(D),f=ce(k),d=q(k,"SPAN",{}),G(d).forEach(D),k.forEach(D),L.forEach(D),E.forEach(D),v=ce(y),xe(w.$$.fragment,y),this.h()},h(){T(n,"class","richtext"),T(t,"class","w-full max-w-[768px]"),T(o,"href",g="/collections/"+s[5]+"/"),T(o,"class",p=(s[4]>768?"":"w-full")+" text-center mt-[20px] btn"),T(a,"class","w-full flex-grow max-w-[768px] flex justify-end"),T(e,"class",m=(s[4]>768?"flex-row items-end":"flex-col")+" flex flex-grow justify-between cb")},m(y,E){Q(y,e,E),B(e,t),x&&x.m(t,null),B(t,i),B(t,n),M.m(n,null),B(e,r),B(e,a),B(a,o),B(o,l),B(l,c),B(l,h),B(o,f),B(o,d),Q(y,v,E),we(w,y,E),_=!0},p(y,E){xm(y),y[6]&&x.p(y,E),S===(S=b(y))&&M?M.p(y,E):(M.d(1),M=S(y),M&&(M.c(),M.m(n,null))),(!_||E&32&&g!==(g="/collections/"+y[5]+"/"))&&T(o,"href",g),(!_||E&16&&p!==(p=(y[4]>768?"":"w-full")+" text-center mt-[20px] btn"))&&T(o,"class",p),(!_||E&16&&m!==(m=(y[4]>768?"flex-row items-end":"flex-col")+" flex flex-grow justify-between cb"))&&T(e,"class",m);const C={};E&262144&&(C.$$scope={dirty:E,ctx:y}),w.$set(C)},i(y){_||(F(w.$$.fragment,y),_=!0)},o(y){W(w.$$.fragment,y),_=!1},d(y){y&&(D(e),D(v)),x&&x.d(),M.d(),be(w,y)}}}function p4(s){var n;let e,t=(typeof s[6]=="object"?Ut((n=s[3])==null?void 0:n.eyebrow):s[6])+"",i;return{c(){e=Y("p"),i=je(t),this.h()},l(r){e=q(r,"P",{class:!0});var a=G(e);i=Ye(a,t),a.forEach(D),this.h()},h(){T(e,"class","mb-[20px]")},m(r,a){Q(r,e,a),B(e,i)},p(r,a){var o;a&8&&t!==(t=(typeof r[6]=="object"?Ut((o=r[3])==null?void 0:o.eyebrow):r[6])+"")&&ut(i,t)},d(r){r&&D(e)}}}function m4(s){let e,t=s[13].title+"",i;return{c(){e=Y("h2"),i=je(t)},l(n){e=q(n,"H2",{});var r=G(e);i=Ye(r,t),r.forEach(D)},m(n,r){Q(n,e,r),B(e,i)},p:Pe,d(n){n&&D(e)}}}function g4(s){let e,t=cn(s[3].content)+"",i;return{c(){e=new In(!1),i=ue(),this.h()},l(n){e=Rn(n,!1),i=ue(),this.h()},h(){e.a=i},m(n,r){e.m(t,n,r),Q(n,i,r)},p(n,r){r&8&&t!==(t=cn(n[3].content)+"")&&e.p(t)},d(n){n&&(D(i),e.d())}}}function v4(s){let e,t,i,n;return t=new f4({props:{product:s[14].node}}),{c(){e=Y("swiper-slide"),_e(t.$$.fragment),i=le(),this.h()},l(r){e=q(r,"SWIPER-SLIDE",{class:!0});var a=G(e);xe(t.$$.fragment,a),i=ce(a),a.forEach(D),this.h()},h(){Gt(e,"class","h-auto")},m(r,a){Q(r,e,a),we(t,e,null),B(e,i),n=!0},p:Pe,i(r){n||(F(t.$$.fragment,r),n=!0)},o(r){W(t.$$.fragment,r),n=!1},d(r){r&&D(e),be(t)}}}function Em(s){let e,t,i=s[16]<=12&&v4(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,r){n[16]<=12&&i.p(n,r)},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function _4(s){let e,t,i=kt(s[13].products.edges),n=[];for(let a=0;a<i.length;a+=1)n[a]=Em(Sm(s,i,a));const r=a=>W(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ue()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ue()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);Q(a,e,o),t=!0},p(a,o){if(o&256){i=kt(a[13].products.edges);let l;for(l=0;l<i.length;l+=1){const c=Sm(a,i,l);n[l]?(n[l].p(c,o),F(n[l],1)):(n[l]=Em(c),n[l].c(),F(n[l],1),n[l].m(e.parentNode,e))}for(Se(),l=i.length;l<n.length;l+=1)r(l);Me()}},i(a){if(!t){for(let o=0;o<i.length;o+=1)F(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)W(n[o]);t=!1},d(a){a&&D(e),Di(n,a)}}}function w4(s){let e;return{c(){e=je("Loading Collection...")},l(t){e=Ye(t,"Loading Collection...")},m(t,i){Q(t,e,i)},p:Pe,i:Pe,o:Pe,d(t){t&&D(e)}}}function b4(s){let e,t,i=s[5]&&Mm(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,[r]){n[5]?i?(i.p(n,r),r&32&&F(i,1)):(i=Mm(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function y4(s,e,t){var g;let{id:i}=e,{index:n=0}=e,{variation:r}=e,{data:a={collection_title:[{type:"heading2",text:"Collection Title",spans:[]}],collection_link:{link_type:"Any"},collection_handle:"all",large_first_image:null}}=e,o,l=(a==null?void 0:a.collection_handle)||null,c=a==null?void 0:a.eyebrow,u=typeof a.theme=="string"?a.theme.toLowerCase():"primary";if(!l&&((g=a==null?void 0:a.collection_link)!=null&&g.url)){let p=a.collection_link.url.split("collections/");p[1]?l=p[1].replace("/","").trim():l=null}let f=(async()=>{let p=await fetch(`/api/shop/collection?handle=${l}`,{method:"GET",headers:{Accept:"application/json"}}).catch(v=>{console.log("ERROR -- collection GET",v.message)}),m=await p.json();if(p.ok)return m;throw new Error("")})();function d(){o=this.clientWidth,t(4,o)}return s.$$set=p=>{"id"in p&&t(0,i=p.id),"index"in p&&t(1,n=p.index),"variation"in p&&t(2,r=p.variation),"data"in p&&t(3,a=p.data)},[i,n,r,a,o,l,c,u,f,d]}class x4 extends nt{constructor(e){super(),st(this,e,y4,b4,Ge,{id:0,index:1,variation:2,data:3})}}function S4(s){let e,t;return{c(){e=Y("h3"),t=je(s[1])},l(i){e=q(i,"H3",{});var n=G(e);t=Ye(n,s[1]),n.forEach(D)},m(i,n){Q(i,e,n),B(e,t)},p(i,n){n&2&&ut(t,i[1])},d(i){i&&D(e)}}}function M4(s){let e,t=cn(s[1])+"",i;return{c(){e=new In(!1),i=ue(),this.h()},l(n){e=Rn(n,!1),i=ue(),this.h()},h(){e.a=i},m(n,r){e.m(t,n,r),Q(n,i,r)},p(n,r){r&2&&t!==(t=cn(n[1])+"")&&e.p(t)},d(n){n&&(D(i),e.d())}}}function E4(s){let e,t;return e=new xM({props:{size:s[2]>768?"32":"28",strokeWidth:"1"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&4&&(r.size=i[2]>768?"32":"28"),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function T4(s){let e,t;return e=new wM({props:{size:s[2]>768?"32":"28",strokeWidth:"1"}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&4&&(r.size=i[2]>768?"32":"28"),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Tm(s){let e,t,i;const n=s[4].default,r=Yr(n,s,s[3],null);return{c(){e=Y("div"),r&&r.c(),this.h()},l(a){e=q(a,"DIV",{class:!0});var o=G(e);r&&r.l(o),o.forEach(D),this.h()},h(){T(e,"class","richtext pb-[30px]")},m(a,o){Q(a,e,o),r&&r.m(e,null),i=!0},p(a,o){r&&r.p&&(!i||o&8)&&qr(r,n,a,a[3],i?Zr(n,a[3],o,null):Xr(a[3]),null)},i(a){i||(F(r,a),a&&gt(()=>{i&&(t||(t=Bo(e,Wf,{axis:"y",duration:50},!0)),t.run(1))}),i=!0)},o(a){W(r,a),a&&(t||(t=Bo(e,Wf,{axis:"y",duration:50},!1)),t.run(0)),i=!1},d(a){a&&D(e),r&&r.d(a),a&&t&&t.end()}}}function C4(s){let e,t,i,n,r,a,o,l,c,u,h,f,d,g;function p(S,M){return typeof S[1]=="object"?M4:S4}let m=p(s),v=m(s);const w=[T4,E4],_=[];function x(S,M){return S[0]===!0?0:1}o=x(s),l=_[o]=w[o](s);let b=s[0]&&Tm(s);return{c(){e=Y("article"),t=Y("div"),i=Y("div"),n=Y("div"),v.c(),r=le(),a=Y("button"),l.c(),u=le(),b&&b.c(),this.h()},l(S){e=q(S,"ARTICLE",{});var M=G(e);t=q(M,"DIV",{class:!0});var y=G(t);i=q(y,"DIV",{tabindex:!0,class:!0,role:!0});var E=G(i);n=q(E,"DIV",{class:!0});var C=G(n);v.l(C),C.forEach(D),E.forEach(D),r=ce(y),a=q(y,"BUTTON",{type:!0,"aria-label":!0,class:!0});var P=G(a);l.l(P),P.forEach(D),y.forEach(D),u=ce(M),b&&b.l(M),M.forEach(D),this.h()},h(){T(n,"class","richtext"),T(i,"tabindex","-1"),T(i,"class","leading-tight text-left cr"),T(i,"role","group"),T(a,"type","button"),T(a,"aria-label","Toggle Drawer"),T(a,"class",c="btn-expand "+(s[2]>768?"w-[60px] min-w-[60px] max-w-[60px] h-[60px]":"w-[48px] min-w-[48px] max-w-[48px] h-[48px]")+" "+(s[0]===!0?"active":"")),T(t,"class","list-none flex justify-between items-center cursor-pointer py-[20px] brd-accent border-t-2"),gt(()=>s[7].call(e))},m(S,M){Q(S,e,M),B(e,t),B(t,i),B(i,n),v.m(n,null),B(t,r),B(t,a),_[o].m(a,null),B(e,u),b&&b.m(e,null),h=Qt(e,s[7].bind(e)),f=!0,d||(g=[Qe(i,"keypress",A4),Qe(i,"click",Vo(s[5])),Qe(a,"click",Vo(s[6]))],d=!0)},p(S,[M]){m===(m=p(S))&&v?v.p(S,M):(v.d(1),v=m(S),v&&(v.c(),v.m(n,null)));let y=o;o=x(S),o===y?_[o].p(S,M):(Se(),W(_[y],1,1,()=>{_[y]=null}),Me(),l=_[o],l?l.p(S,M):(l=_[o]=w[o](S),l.c()),F(l,1),l.m(a,null)),(!f||M&5&&c!==(c="btn-expand "+(S[2]>768?"w-[60px] min-w-[60px] max-w-[60px] h-[60px]":"w-[48px] min-w-[48px] max-w-[48px] h-[48px]")+" "+(S[0]===!0?"active":"")))&&T(a,"class",c),S[0]?b?(b.p(S,M),M&1&&F(b,1)):(b=Tm(S),b.c(),F(b,1),b.m(e,null)):b&&(Se(),W(b,1,1,()=>{b=null}),Me())},i(S){f||(F(l),F(b),f=!0)},o(S){W(l),W(b),f=!1},d(S){S&&D(e),v.d(),_[o].d(),b&&b.d(),h(),d=!1,Qi(g)}}}const A4=()=>{};function L4(s,e,t){let{$$slots:i={},$$scope:n}=e,{open:r=!1}=e,{title:a=""}=e,o;const l=()=>{t(0,r=!r)},c=()=>{t(0,r=!r)};function u(){o=this.clientWidth,t(2,o)}return s.$$set=h=>{"open"in h&&t(0,r=h.open),"title"in h&&t(1,a=h.title),"$$scope"in h&&t(3,n=h.$$scope)},[r,a,o,n,i,l,c,u]}class k4 extends nt{constructor(e){super(),st(this,e,L4,C4,Ge,{open:0,title:1})}}function Cm(s,e,t){const i=s.slice();return i[9]=e[t],i}function Am(s){let e,t=s[4].eyebrow+"",i;return{c(){e=Y("p"),i=je(t),this.h()},l(n){e=q(n,"P",{class:!0});var r=G(e);i=Ye(r,t),r.forEach(D),this.h()},h(){T(e,"class","eyebrow accent")},m(n,r){Q(n,e,r),B(e,i)},p(n,r){r&16&&t!==(t=n[4].eyebrow+"")&&ut(i,t)},d(n){n&&D(e)}}}function Lm(s){var i,n;let e,t;return e=new Bi({props:{content:(i=s[4])==null?void 0:i.content,scale:(n=s[4])==null?void 0:n.content_scale}}),{c(){_e(e.$$.fragment)},l(r){xe(e.$$.fragment,r)},m(r,a){we(e,r,a),t=!0},p(r,a){var l,c;const o={};a&16&&(o.content=(l=r[4])==null?void 0:l.content),a&16&&(o.scale=(c=r[4])==null?void 0:c.content_scale),e.$set(o)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){be(e,r)}}}function P4(s){let e,t=cn(s[9].faq_details)+"",i;return{c(){e=new In(!1),i=le(),this.h()},l(n){e=Rn(n,!1),i=ce(n),this.h()},h(){e.a=i},m(n,r){e.m(t,n,r),Q(n,i,r)},p(n,r){r&4&&t!==(t=cn(n[9].faq_details)+"")&&e.p(t)},d(n){n&&(e.d(),D(i))}}}function km(s){let e,t;return e=new k4({props:{title:s[9].faq_title,$$slots:{default:[P4]},$$scope:{ctx:s}}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&4&&(r.title=i[9].faq_title),n&4100&&(r.$$scope={dirty:n,ctx:i}),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Pm(s){var o;let e,t,i=((o=s[4])==null?void 0:o.cta_text)+"",n,r,a;return{c(){e=Y("div"),t=Y("a"),n=je(i),this.h()},l(l){e=q(l,"DIV",{class:!0});var c=G(e);t=q(c,"A",{class:!0,href:!0,target:!0});var u=G(t);n=Ye(u,i),u.forEach(D),c.forEach(D),this.h()},h(){var l;T(t,"class","btn inline-block"),T(t,"href",r=gi(s[4].cta_link,s[5].linkResolver)),T(t,"target",a=((l=s[4])==null?void 0:l.cta_link.target)||null),T(e,"class","richtext ct m-auto flex flex-col items-center")},m(l,c){Q(l,e,c),B(e,t),B(t,n)},p(l,c){var u,h;c&16&&i!==(i=((u=l[4])==null?void 0:u.cta_text)+"")&&ut(n,i),c&48&&r!==(r=gi(l[4].cta_link,l[5].linkResolver))&&T(t,"href",r),c&16&&a!==(a=((h=l[4])==null?void 0:h.cta_link.target)||null)&&T(t,"target",a)},d(l){l&&D(e)}}}function D4(s){var g,p,m,v,w,_,x;let e,t,i,n,r,a,o,l=((g=s[4])==null?void 0:g.eyebrow)&&s[4].eyebrow!==""&&Am(s),c=((p=s[4])==null?void 0:p.content)&&typeof((m=s[4])==null?void 0:m.content)=="object"&&((v=s[4])==null?void 0:v.content[0].text)!=""&&Lm(s),u=kt(s[2]),h=[];for(let b=0;b<u.length;b+=1)h[b]=km(Cm(s,u,b));const f=b=>W(h[b],1,1,()=>{h[b]=null});let d=(((_=(w=s[4])==null?void 0:w.cta_link)==null?void 0:_.url)||((x=s[4].cta_link)==null?void 0:x.uid))&&Pm(s);return{c(){e=Y("section"),t=Y("div"),l&&l.c(),i=le(),c&&c.c(),n=le(),r=Y("div");for(let b=0;b<h.length;b+=1)h[b].c();a=le(),d&&d.c(),this.h()},l(b){e=q(b,"SECTION",{id:!0,class:!0,"data-index":!0,"data-variation":!0});var S=G(e);t=q(S,"DIV",{class:!0});var M=G(t);l&&l.l(M),i=ce(M),c&&c.l(M),M.forEach(D),n=ce(S),r=q(S,"DIV",{class:!0});var y=G(r);for(let E=0;E<h.length;E+=1)h[E].l(y);y.forEach(D),a=ce(S),d&&d.l(S),S.forEach(D),this.h()},h(){T(t,"class","richtext w-full "+(s[6]=="center"?"flex flex-col items-center":"")),T(r,"class","ct"),T(e,"id",s[0]),T(e,"class","w-full ca theme-"+s[7]),T(e,"data-index",s[1]),T(e,"data-variation",s[3])},m(b,S){Q(b,e,S),B(e,t),l&&l.m(t,null),B(t,i),c&&c.m(t,null),B(e,n),B(e,r);for(let M=0;M<h.length;M+=1)h[M]&&h[M].m(r,null);B(e,a),d&&d.m(e,null),o=!0},p(b,[S]){var M,y,E,C,P,L,k;if((M=b[4])!=null&&M.eyebrow&&b[4].eyebrow!==""?l?l.p(b,S):(l=Am(b),l.c(),l.m(t,i)):l&&(l.d(1),l=null),(y=b[4])!=null&&y.content&&typeof((E=b[4])==null?void 0:E.content)=="object"&&((C=b[4])==null?void 0:C.content[0].text)!=""?c?(c.p(b,S),S&16&&F(c,1)):(c=Lm(b),c.c(),F(c,1),c.m(t,null)):c&&(Se(),W(c,1,1,()=>{c=null}),Me()),S&4){u=kt(b[2]);let A;for(A=0;A<u.length;A+=1){const I=Cm(b,u,A);h[A]?(h[A].p(I,S),F(h[A],1)):(h[A]=km(I),h[A].c(),F(h[A],1),h[A].m(r,null))}for(Se(),A=u.length;A<h.length;A+=1)f(A);Me()}(L=(P=b[4])==null?void 0:P.cta_link)!=null&&L.url||(k=b[4].cta_link)!=null&&k.uid?d?d.p(b,S):(d=Pm(b),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!o||S&1)&&T(e,"id",b[0]),(!o||S&2)&&T(e,"data-index",b[1]),(!o||S&8)&&T(e,"data-variation",b[3])},i(b){if(!o){F(c);for(let S=0;S<u.length;S+=1)F(h[S]);o=!0}},o(b){W(c),h=h.filter(Boolean);for(let S=0;S<h.length;S+=1)W(h[S]);o=!1},d(b){b&&D(e),l&&l.d(),c&&c.d(),Di(h,b),d&&d.d()}}}function I4(s,e,t){var h;let i;Yt(s,il,f=>t(5,i=f));let{id:n}=e,{index:r=0}=e,{items:a=[]}=e,{variation:o}=e,{data:l}=e,c=l!=null&&l.text_alignment?(h=l==null?void 0:l.text_alignment)==null?void 0:h.toLowerCase():"left",u=typeof l.theme=="string"?l.theme.toLowerCase():"primary";return s.$$set=f=>{"id"in f&&t(0,n=f.id),"index"in f&&t(1,r=f.index),"items"in f&&t(2,a=f.items),"variation"in f&&t(3,o=f.variation),"data"in f&&t(4,l=f.data)},[n,r,a,o,l,i,c,u]}class R4 extends nt{constructor(e){super(),st(this,e,I4,D4,Ge,{id:0,index:1,items:2,variation:3,data:4})}}function Dm(s){let e,t,i;const n=[s[1]];var r=s[2].component;function a(o,l){let c={};if(l!==void 0&&l&2)c=tf(n,[nf(o[1])]);else for(let u=0;u<n.length;u+=1)c=pv(c,n[u]);return{props:c}}return r&&(e=Qu(r,a(s))),{c(){e&&_e(e.$$.fragment),t=ue()},l(o){e&&xe(e.$$.fragment,o),t=ue()},m(o,l){e&&we(e,o,l),Q(o,t,l),i=!0},p(o,l){if(r!==(r=o[2].component)){if(e){Se();const c=e;W(c.$$.fragment,1,0,()=>{be(c,1)}),Me()}r?(e=Qu(r,a(o,l)),_e(e.$$.fragment),F(e.$$.fragment,1),we(e,t.parentNode,t)):e=null}else if(r){const c=l&2?tf(n,[nf(o[1])]):{};e.$set(c)}},i(o){i||(e&&F(e.$$.fragment,o),i=!0)},o(o){e&&W(e.$$.fragment,o),i=!1},d(o){o&&D(t),e&&be(e,o)}}}function z4(s){var n,r;let e,t,i=s[2]&&s[2].component&&((n=s[0])==null?void 0:n.id)&&((r=s[0])==null?void 0:r.primary)&&Dm(s);return{c(){i&&i.c(),e=ue()},l(a){i&&i.l(a),e=ue()},m(a,o){i&&i.m(a,o),Q(a,e,o),t=!0},p(a,[o]){var l,c;a[2]&&a[2].component&&((l=a[0])!=null&&l.id)&&((c=a[0])!=null&&c.primary)?i?(i.p(a,o),o&1&&F(i,1)):(i=Dm(a),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(a){t||(F(i),t=!0)},o(a){W(i),t=!1},d(a){a&&D(e),i&&i.d(a)}}}function F4(s,e,t){let{slice:i}=e,{index:n}=e;const a=[{id:"one_column_richtext",component:dE},{id:"two_column_media_text",component:s4},{id:"media_carousel",component:VM},{id:"social_carousel",component:TE},{id:"surprise_feature",component:NI},{id:"text_feature",component:JI},{id:"fullscreen_media",component:qS},{id:"episode_feature",component:bb},{id:"product_collection",component:x4},{id:"faqs",component:R4}].filter(c=>c.id===i.slice_type)[0],o=i.items||[{}];let l={id:i.id||void 0,index:n,variation:i.variation||void 0,data:i.primary||void 0};return typeof o>"u"||!o[0]||Object.keys(o[0]).length<=0?l.items=[]:l.items=o,s.$$set=c=>{"slice"in c&&t(0,i=c.slice),"index"in c&&t(3,n=c.index)},[i,l,a,n]}class O4 extends nt{constructor(e){super(),st(this,e,F4,z4,Ge,{slice:0,index:3})}}function Im(s,e,t){const i=s.slice();return i[1]=e[t],i[3]=t,i}function Rm(s){let e,t,i=kt(s[0]),n=[];for(let a=0;a<i.length;a+=1)n[a]=Fm(Im(s,i,a));const r=a=>W(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ue()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ue()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);Q(a,e,o),t=!0},p(a,o){if(o&1){i=kt(a[0]);let l;for(l=0;l<i.length;l+=1){const c=Im(a,i,l);n[l]?(n[l].p(c,o),F(n[l],1)):(n[l]=Fm(c),n[l].c(),F(n[l],1),n[l].m(e.parentNode,e))}for(Se(),l=i.length;l<n.length;l+=1)r(l);Me()}},i(a){if(!t){for(let o=0;o<i.length;o+=1)F(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)W(n[o]);t=!1},d(a){a&&D(e),Di(n,a)}}}function zm(s){let e,t;return e=new O4({props:{slice:s[1],index:s[3]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&1&&(r.slice=i[1]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Fm(s){let e,t,i=s[1]&&zm(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,r){n[1]?i?(i.p(n,r),r&1&&F(i,1)):(i=zm(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function N4(s){let e,t,i=s[0]&&s[0].length>0&&Rm(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,[r]){n[0]&&n[0].length>0?i?(i.p(n,r),r&1&&F(i,1)):(i=Rm(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function B4(s,e,t){let{slices:i}=e;return s.$$set=n=>{"slices"in n&&t(0,i=n.slices)},[i]}class V4 extends nt{constructor(e){super(),st(this,e,B4,N4,Ge,{slices:0})}}function Om(s,e,t){var r,a;const i=s.slice();i[1]=e[t];const n=((a=(r=i[1].primary.group)==null?void 0:r.data)==null?void 0:a.slices)||null;return i[2]=n,i}function Nm(s){let e,t;return e=new V4({props:{slices:s[2]}}),{c(){_e(e.$$.fragment)},l(i){xe(e.$$.fragment,i)},m(i,n){we(e,i,n),t=!0},p(i,n){const r={};n&1&&(r.slices=i[2]),e.$set(r)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Bm(s){let e,t,i=s[2]&&Nm(s);return{c(){i&&i.c(),e=ue()},l(n){i&&i.l(n),e=ue()},m(n,r){i&&i.m(n,r),Q(n,e,r),t=!0},p(n,r){n[2]?i?(i.p(n,r),r&1&&F(i,1)):(i=Nm(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Se(),W(i,1,1,()=>{i=null}),Me())},i(n){t||(F(i),t=!0)},o(n){W(i),t=!1},d(n){n&&D(e),i&&i.d(n)}}}function U4(s){let e,t,i=kt(s[0]),n=[];for(let a=0;a<i.length;a+=1)n[a]=Bm(Om(s,i,a));const r=a=>W(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ue()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=ue()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);Q(a,e,o),t=!0},p(a,[o]){if(o&1){i=kt(a[0]);let l;for(l=0;l<i.length;l+=1){const c=Om(a,i,l);n[l]?(n[l].p(c,o),F(n[l],1)):(n[l]=Bm(c),n[l].c(),F(n[l],1),n[l].m(e.parentNode,e))}for(Se(),l=i.length;l<n.length;l+=1)r(l);Me()}},i(a){if(!t){for(let o=0;o<i.length;o+=1)F(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)W(n[o]);t=!1},d(a){a&&D(e),Di(n,a)}}}function W4(s,e,t){let{group:i}=e;return s.$$set=n=>{"group"in n&&t(0,i=n.group)},[i]}class e5 extends nt{constructor(e){super(),st(this,e,W4,U4,Ge,{group:0})}}export{X4 as F,m1 as J,e5 as M,V4 as S,tf as g};</script>
</body>
</html>
