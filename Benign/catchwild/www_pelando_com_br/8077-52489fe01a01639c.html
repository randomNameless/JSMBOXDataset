<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8077-52489fe01a01639c.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8077],{11257:function(e,t,n){var r,o,i,a;n.d(t,{N:function(){return r},X:function(){return o}}),(i=r||(r={})).Instant="INSTANT",i.Smart="SMART",(a=o||(o={})).MANUAL="manual",a.AUTOCOMPLETE="autocomplete",a.SUGGESTION="suggestion",a.DEAL="deal"},31797:function(e,t,n){var r,o,i,a,s,c,l,u;n.d(t,{bF:function(){return i},cc:function(){return r}}),(s=r||(r={})).HOT="HOT",s.COLD="COLD",s.NORMAL="NORMAL",s.UNKNOWN="UNKNOWN",(c=o||(o={})).Omnilogic="OMNILOGIC",c.SingleLogic="SINGLELOGIC",(l=i||(i={})).Basic="BASIC",l.Common="COMMON",(u=a||(a={})).Smartphone="Smartphone",u.Videogame="Videogame",u.Notebook="Notebook",u.AirConditioner="Ar condicionado",u.Tv="Televis\xe3o",u.Monitor="Monitor",u.Refrigerator="Geladeira",u.WashingMachine="M\xe1quina de lavar",u.Fan="Ventilador",u.AirFryer="Fritadeira el\xe9trica",u.Microwave="Microondas",u.Stove="Fog\xe3o"},85315:function(e,t,n){var r,o;n.d(t,{G:function(){return r}}),(o=r||(r={})).DECREASE="DECREASE",o.INCREASE="INCREASE"},14751:function(e,t,n){n.d(t,{c:function(){return o}});let r="@alerts",o={GetAlerts:"".concat(r,"/GET_ALERTS"),CreateAlert:"".concat(r,"/CREATE_ALERT"),DeleteAlert:"".concat(r,"/DELETE_ALERT"),GetAlertsFeed:"".concat(r,"/GET_ALERTS_FEED"),GetAlertsSuggestions:"".concat(r,"/GET_ALERTS_SUGGESTIONS"),GetAlertsCount:"".concat(r,"/GET_ALERTS_COUNT"),UpdateLastCheckedAlerts:"".concat(r,"/UPDATE_LAST_CHECKED_ALERTS"),GetInitialAlertsSuggestions:"".concat(r,"/GET_INITIAL_ALERTS_SUGGESTIONS"),GetAlertsSuggestionsByText:"".concat(r,"/GET_ALERTS_SUGGESTIONS_BY_TEXT")}},41095:function(e,t,n){n.d(t,{el:function(){return y},yo:function(){return x},sM:function(){return h},KC:function(){return f},cQ:function(){return T},EA:function(){return C},WA:function(){return m},nB:function(){return p},Cr:function(){return A},ND:function(){return g}});var r=n(74634),o=n(37099),i=n(78772),a=n(14751),s=n(13502),c=n(91323),l=n(71338),u=n(89992);let d="\n  query AlertsFeedQuery(\n    $limit: Int\n    $after: String\n    $filters: OfferFilterOptions\n  ) {\n    me {\n      alertOffers(limit: $limit, after: $after, filters: $filters) {\n        edges {\n          id\n          offer {\n            ...DealFeedFragment\n          }\n          keyword\n        }\n\n        pageInfo {\n          hasNextPage\n          endCursor\n        }\n      }\n    }\n  }\n\n  ".concat(u.V7,"\n"),m=(0,r.Z)({id:a.c.GetAlertsSuggestions,query:"\nquery GetAlertsSuggestionsQuery($query: String!) {\n  me {\n    searchAlertsSuggestions(query: $query) {\n      term\n      type\n      manyNotifications\n      category {\n        id\n        title\n        slug\n      }\n    }\n  }\n}\n",method:o.Tt.Get,transform:e=>e.me.searchAlertsSuggestions,cacheTransform:(e,t)=>{let{data:n,loading:r}=e;return{suggestions:(r?null==t?void 0:t.suggestions:n)||[]}}}),f=(0,r.Z)({id:a.c.GetAlertsCount,query:"\n  query AlertsCountQuery {\n    me {\n      newNotificationsCount(type: ALERTS_ONLY)\n    }\n  }\n",method:o.Tt.Get,guards:[i.GM],transform:e=>e.me.newNotificationsCount,cacheTransform:(e,t)=>{let{data:n}=e;return{count:null!=n?n:null==t?void 0:t.count}}}),g=(0,r.Z)({id:a.c.UpdateLastCheckedAlerts,query:"\n  mutation UpdateLastCheckedAlerts {\n    me {\n      updateLastCheckedAlerts\n    }\n  }\n",method:o.Tt.Post,guards:[i.GM],transform:e=>e.me.UpdateLastCheckedAlertsResponse,interceptors:[()=>{(0,s.S)()}]}),p=(0,r.Z)({id:a.c.GetInitialAlertsSuggestions,query:"\nquery GetInitialAlertsSuggestionsQuery {\n  me {\n    initialAlertKeywordSuggestions {\n      term\n      type\n      manyNotifications\n      category {\n        id\n        title\n        slug\n      }\n    }\n  }\n}",method:o.Tt.Get,guards:[i.GM],transform:e=>e.me.initialAlertKeywordSuggestions,cacheTransform:e=>{let{data:t}=e;return{suggestions:t||[]}}}),h=(0,r.Z)({id:a.c.GetAlerts,query:"\n  query GetAlertsQuery {\n    me {\n      alerts {\n        id\n        rawKeyword\n        createdAt\n        type\n        manyNotifications\n        category {\n          id\n          title\n          slug\n        }\n      }\n    }\n  }\n",method:o.Tt.Get,guards:[i.GM],transform:e=>e.me.alerts,cacheTransform:e=>{let{loading:t,data:n}=e;return{loading:t,alerts:(null==n?void 0:n.map(e=>({...e,rawKeyword:e.rawKeyword.toLocaleLowerCase()})))||[]}}}),x=(0,r.Z)({id:a.c.DeleteAlert,query:"\n  mutation DeleteAlert($alertId: ID!) {\n    me {\n      deleteAlert(alertId: $alertId)\n    }\n  }\n",method:o.Tt.Post,guards:[c.a1],transform:e=>e.me.deleteAlert,interceptors:[e=>{var t;let{incoming:{data:n,variables:r,loading:o}}=e;if(!n||o)return;let i=((null===(t=h.cache$.value)||void 0===t?void 0:t.alerts)||[]).filter(e=>e.id!==(null==r?void 0:r.alertId))||[];h.cache$.next({alerts:i,loading:!1})}]}),y=(0,r.Z)({id:a.c.CreateAlert,query:"\n  mutation CreateAlert($alert: alertInput!) {\n    me {\n      createAlert(alert: $alert) {\n        id\n        rawKeyword\n        createdAt\n        type\n        manyNotifications\n        category {\n          id\n          title\n          slug\n        }\n      }\n    }\n  }\n",method:o.Tt.Post,guards:[c.a1],transform:e=>e.me.createAlert}),A=(0,r.Z)({id:a.c.CreateAlert,query:"\n  mutation UpdateAlert($id: ID!, $type: AlertType!) {\n    me {\n      updateAlert(id: $id, type: $type) {\n        id\n        rawKeyword\n        type\n        createdAt\n        manyNotifications\n        category {\n          id\n          title\n          slug\n        }\n      }\n    }\n}\n",method:o.Tt.Post,guards:[c.a1],interceptors:[e=>{var t;let{incoming:{data:n,loading:r}}=e;if(!n||r)return;let o=[...(null===(t=h.cache$.value)||void 0===t?void 0:t.alerts)||[]].map(e=>e.id===n.id?{...n,category:e.category}:e);h.cache$.next({alerts:o,loading:!1})}],transform:e=>e.me.updateAlert}),T=(0,r.Z)({id:a.c.GetAlertsFeed,query:d,method:o.Tt.Get,guards:[i.GM],interceptors:[e=>{let{incoming:{data:t,loading:n}}=e;if(!t||n)return;let r=t.edges.map(e=>e.offer.id);l.uD.requestAsPromise({offerIds:r})}],transform:e=>e.me.alertOffers,cacheTransform:(e,t)=>{let{loading:n,data:r,variables:o}=e,i=!!(null==o?void 0:o.after),a=(null==r?void 0:r.edges.map(e=>{let{keyword:t,offer:n}=e;return{...n,keyword:t}}))||[];return{edges:i?[...(null==t?void 0:t.edges)||[],...a]:a,loading:n&&!i,pageInfo:null==r?void 0:r.pageInfo,paginationLoading:n&&i}}}),C=(0,r.Z)({id:a.c.GetAlertsSuggestionsByText,query:"\nquery GetAlertsSuggestionsByText($query: String!, $limit: Int) {\n  public {\n		getAlertsSuggestionsByText(query: $query, limit: $limit){\n      term\n      type\n      manyNotifications\n      category {\n        id\n        title\n        slug\n      }\n    }\n  }\n}\n",method:o.Tt.Get,transform:e=>e.public.getAlertsSuggestionsByText,cacheTransform:e=>{let{data:t,loading:n}=e;return{suggestions:t,loading:n}}})},13502:function(e,t,n){n.d(t,{M:function(){return s},S:function(){return c}});var r=n(12677),o=n(79795),i=n(96435),a=n(41095);let s=(0,r.H)(0,3e4).pipe((0,o.w)(()=>a.KC.request()),(0,i.B)()),c=()=>a.KC.cache$.next({count:0})},64503:function(e,t,n){n.d(t,{R:function(){return r}});let r="\n  fragment OfferFragment on Offer {\n    id\n    title\n    price\n    discountFixed\n    discountPercentage\n    freeShipping\n    status\n    kind\n    category {\n      id\n      title\n      slug\n    }\n    user {\n      id\n      isVerified\n      nickname\n      image {\n        id\n        url(width: 64, height: 64)\n      }\n    }\n    temperature\n    commentCount\n    couponCode\n    store {\n      id\n      name\n      slug\n      url\n      image {\n        id\n        url\n      }\n    }\n    image {\n      id\n      url(height: 238)\n    }\n    isTracked\n    sourceUrl\n    timestamps {\n      createdAt\n    }\n  }\n"},24232:function(e,t,n){n.d(t,{u:function(){return o}});let r="@votes",o={Vote:"".concat(r,"/VOTE"),RemoveVote:"".concat(r,"/REMOVE_VOTE"),GetVoteInfo:"".concat(r,"/GET_VOTE_INFO")}},71338:function(e,t,n){n.d(t,{Ax:function(){return g},uD:function(){return m},Ns:function(){return f}});var r=n(85315),o=n(74634),i=n(37099),a=n(91323),s=n(78772),c=n(24232),l=n(64503);let u="\n  mutation RemoveVoteMutation($id: ID!) {\n    me {\n      removeVote(id: $id) {\n        ...OfferFragment\n      }\n    }\n  }\n  ".concat(l.R,"\n"),d="\n  mutation VoteMutation($id: ID!, $voteKind: VoteKind!, $options: OfferOptions) {\n    me {\n      vote(id: $id, kind: $voteKind, options: $options) {\n        ...OfferFragment\n      }\n    }\n  }\n  ".concat(l.R,"\n"),m=(0,o.Z)({id:c.u.GetVoteInfo,query:"\n  query UserOfferVotesQuery($offerIds: [ID!]!) {\n    me {\n      offerVotes(offerIds: $offerIds) {\n        id\n        voted\n        kind\n      }\n    }\n  }\n",method:i.Tt.Get,guards:[s.GM],transform:e=>e.me.offerVotes,cacheTransform:(e,t)=>{let{data:n}=e;if(!n)return t||{};let r=null==n?void 0:n.reduce((e,t)=>({...e,[t.id]:t}),{});return{...t,...r}}}),f=(0,o.Z)({id:c.u.Vote,query:d,method:i.Tt.Post,guards:[a.a1],transform:(e,t)=>({id:t.id,kind:t.voteKind,voted:!0,temperature:e.me.vote.temperature}),cacheTransform:e=>{let{data:t}=e;if(!t)return;let n=m.cache$.value||{};m.cache$.next({...n,[t.id]:t})}}),g=(0,o.Z)({id:c.u.RemoveVote,query:u,method:i.Tt.Post,guards:[a.a1],transform:e=>({id:e.me.removeVote.id,kind:r.G.INCREASE,voted:!1,temperature:e.me.removeVote.temperature}),cacheTransform:e=>{let{data:t}=e;if(!t)return;let n=m.cache$.value||{};m.cache$.next({...n,[t.id]:t})}})},4390:function(e,t,n){n.d(t,{o:function(){return z}});var r=n(8619),o=n(14864),i=n(80797),a=n(67294),s=n(11163),c=n(26),l=n(41095),u=n(85893),d=n(89915),m=n(67983),f=n(45644),g=n(5961),p=n(30151),h=n(688),x=n(11257),y=n(35252),A=n(6943),T=n(43635),C=n(16107),E=n(99682),v=n(964);let b=(0,v.ZP)(y.J).withConfig({componentId:"sc-5c8169eb-0"})(["font-size:48px;color:rgb(",");margin-bottom:16px;"],A.Q2.colors.Brand),S=v.ZP.h3.withConfig({componentId:"sc-5c8169eb-1"})(["",";margin-bottom:8px;"],T.GI),I=v.ZP.p.withConfig({componentId:"sc-5c8169eb-2"})([""," color:rgb(",");margin-bottom:24px;mark{"," background-color:unset;color:rgb(",");}"],T.mH,C.wL.Gray,T.mp,C.wL.Gray),G=v.ZP.div.withConfig({componentId:"sc-5c8169eb-3"})(["text-align:center;"]),$=v.ZP.ul.withConfig({componentId:"sc-5c8169eb-4"})(["list-style-type:none;width:100vw;margin-left:-24px;margin-bottom:24px;@media ","{width:auto;margin:0 16px 24px 16px;}"],o.zP.SCREEN_MD_UP),k=v.ZP.li.withConfig({componentId:"sc-5c8169eb-5"})(["&[aria-selected='true'],&:hover,&:focus-within{background-color:rgb(",");}@media ","{border-radius:12px;}"],A.Q2.colors.Kilo,o.zP.SCREEN_MD_UP),w=v.ZP.button.withConfig({componentId:"sc-5c8169eb-6"})([""," display:flex;align-items:center;column-gap:4px;padding:12px 24px;width:100%;text-align:left;color:rgb(",");background-color:unset;mark{"," background-color:unset;color:rgb(",");}"],T.vj,A.Q2.colors.Alpha,T.k6,A.Q2.colors.Alpha),N=(0,v.ZP)(E.z).withConfig({componentId:"sc-5c8169eb-7"})(["height:48px;"]),P=(0,v.ZP)(y.J).withConfig({componentId:"sc-5c8169eb-8"})(["color:rgb(",");margin-left:auto;font-size:24px;"],C.wL.Green),R=(0,v.ZP)(y.J).withConfig({componentId:"sc-5c8169eb-9"})(["font-size:24px;margin-right:4px;"]),O=v.ZP.div.withConfig({componentId:"sc-5c8169eb-10"})(["margin-top:-8px;"]),L=(0,v.iv)(["@media ","{max-width:391px;}"],o.zP.SCREEN_MD_UP);var M=n(1611);function D(e){let{initialType:t,onConfirm:n}=e,{t:r}=(0,M.$)("alerts"),[o,i]=(0,a.useState)(t),s=o===x.N.Instant,c=o===x.N.Smart;return(0,u.jsxs)(O,{children:[(0,u.jsxs)(G,{children:[(0,u.jsx)(b,{icon:m.T}),(0,u.jsx)(S,{children:r("notification-picker-modal-title")}),(0,u.jsx)(I,{children:(0,u.jsxs)(h.Z,{translation:r("notification-picker-modal-subtitle"),hasTag:!0,children:["Voc\xea ainda pode ",(0,u.jsx)("mark",{children:"acessar todas as promo\xe7\xf5es"})," relacionadas aos seus alertas na aba de promo\xe7\xf5es"]})})]}),(0,u.jsxs)($,{role:"listbox",children:[(0,u.jsx)(k,{role:"option","aria-selected":c,children:(0,u.jsxs)(w,{type:"button",onClick:()=>i(x.N.Smart),children:[(0,u.jsx)(R,{icon:f.g}),(0,u.jsxs)(h.Z,{translation:r("notification-picker-modal-is-smart"),hasTag:!0,children:["Receber s\xf3 as ",(0,u.jsx)("mark",{children:"melhores"})]}),c?(0,u.jsx)(P,{icon:g.J}):void 0]})}),(0,u.jsx)(k,{role:"option","aria-selected":s,children:(0,u.jsxs)(w,{type:"button",onClick:()=>i(x.N.Instant),children:[(0,u.jsx)(R,{icon:m.T}),(0,u.jsxs)(h.Z,{translation:r("notification-picker-modal-is-instant"),hasTag:!0,children:["Receber ",(0,u.jsx)("mark",{children:"todas"})," as notifica\xe7\xf5es"]}),s?(0,u.jsx)(P,{icon:g.J}):void 0]})})]}),(0,u.jsx)(N,{responsive:!0,onClick:()=>n(o),children:r("notification-picker-modal-confirm-button")}),(0,u.jsx)(p.Fp,{lock:!0})]})}var _=n(19301);let q=(0,v.ZP)(y.J).withConfig({componentId:"sc-32d2fe9b-0"})(["font-size:48px;margin-bottom:16px;color:rgb(",");"],A.Q2.colors.Brand),j=v.ZP.h3.withConfig({componentId:"sc-32d2fe9b-1"})(["",""],T.GI),Z=v.ZP.div.withConfig({componentId:"sc-32d2fe9b-2"})(["margin-bottom:52px;margin-top:-8px;text-align:center;"]),V=(0,v.ZP)(E.z).withConfig({componentId:"sc-32d2fe9b-3"})(["height:48px;margin-bottom:8px;&:last-of-type{margin-bottom:0;}"]),U=(0,v.iv)(["@media ","{max-width:391px;}"],o.zP.SCREEN_MD_UP);function F(e){let{alertToBeDeleted:t,onCancel:n,onConfirm:r}=e,{t:o}=(0,M.$)("alerts");return(0,u.jsxs)("div",{children:[(0,u.jsxs)(Z,{children:[(0,u.jsx)(q,{icon:_.W}),(0,u.jsx)(j,{children:o("remove-alert-modal-title",t)})]}),(0,u.jsx)(V,{responsive:!0,light:!0,onClick:r,children:o("remove-alert-modal-confirm-button")}),(0,u.jsx)(V,{responsive:!0,onClick:n,children:o("remove-alert-modal-cancel-button")}),(0,u.jsx)(p.Fp,{lock:!0})]})}let K=async e=>{var t;let{rawKeyword:n,type:r,category:o,componentSourceName:i,origin:a}=e,s=await l.el.requestAsPromise({alert:{rawKeyword:n,type:r}},{componentSourceName:i,clientInfo:{extra:{origin:a}}}),{data:c}=s;if(!c)return s;let u=[...(null===(t=l.sM.cache$.value)||void 0===t?void 0:t.alerts)||[]],d={...c,category:o};return u.push(d),l.sM.cache$.next({alerts:u,loading:!1}),s};function z(){let{showToast:e}=(0,r.pm)(),{t}=(0,M.$)("alerts"),{query:n}=(0,s.useRouter)(),m=null==n?void 0:n.origin,{alerts:f,loading:g}=(0,c.C)(l.sM.cache$)||{},p=function(e){let{onConfirm:t}=e,{closeModal:n,showModal:r}=(0,d.d)(),o=(0,a.useCallback)(e=>{t(e),n()},[n,t]);return(0,a.useCallback)((e,t)=>{r((0,u.jsx)(F,{alertToBeDeleted:t,onCancel:n,onConfirm:()=>o(e)}),{style:U})},[n,o,r])}({onConfirm:(0,a.useCallback)(n=>{l.yo.requestAsPromise({alertId:n}).then(n=>{let{data:r}=n;r&&e({titleText:t("delete-alert-success-toast"),topPosition:o.Mz,text:t("alert-toast-sucess-text"),bannerType:i.$.DEFAULT})}).catch(()=>{e({titleText:t("alert-title-error-toast"),topPosition:o.Mz,text:t("alert-text-error-toast"),bannerType:i.$.ERROR})})},[e])}),h=(0,a.useCallback)(p,[p]),x=(0,a.useCallback)(function(n,r,a,s){let c=!(arguments.length>4)||void 0===arguments[4]||arguments[4],l=arguments.length>5?arguments[5]:void 0;K({rawKeyword:n.toLocaleLowerCase().replace(/[ ]{2,}/gm," ").trim(),type:r,category:a,componentSourceName:s,origin:l}).then(n=>{let{data:r}=n;r&&c&&e({titleText:t("create-alert-success-toast"),topPosition:o.Mz,text:"".concat(t("alert-toast-sucess-text")," \uD83D\uDE0D"),bannerType:i.$.SUCCESS})}).catch(()=>{e({titleText:t("alert-title-error-toast"),topPosition:o.Mz,text:t("alert-text-error-toast"),bannerType:i.$.ERROR})})},[e]),y=function(e){let{onConfirm:t}=e,{showModal:n,closeModal:r}=(0,d.d)(),o=(0,a.useCallback)((e,n,o,i)=>{t(e,n,o,i),r()},[r,t]);return(0,a.useCallback)((e,t,r,i)=>{n((0,u.jsx)(D,{onConfirm:e=>o(t,e,r,i),initialType:e}),{style:L})},[n,o])}({onConfirm:x}),A=(0,a.useCallback)(e=>{let{suggestion:t,componentName:n,haveToshowToast:r=!0}=e,{type:o,term:i,manyNotifications:a,category:s}=t;if(a){y(o,i,s,n);return}x(i,o,s,n,r,m)},[y,x,m]),T=(0,a.useCallback)(n=>{l.Cr.requestAsPromise(n).then(n=>{let{data:r}=n;r&&e({titleText:t("update-alert-success-toast"),topPosition:o.Mz,text:"".concat(t("alert-toast-sucess-text")," \uD83D\uDE0D"),bannerType:i.$.SUCCESS})}).catch(()=>{e({titleText:t("alert-title-error-toast"),topPosition:o.Mz,text:t("alert-text-error-toast"),bannerType:i.$.ERROR})})},[e]);return(0,a.useEffect)(()=>{l.sM.requestAsPromise()},[]),{alerts:f||[],isLoading:g,createHandler:A,deleteHandler:h,updateHandler:T}}}}]);
//# sourceMappingURL=8077-52489fe01a01639c.js.map
</script>

</body>
</html>
