<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2765-acef294edccad9c3.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2765],{33540:function(e,t,a){a.d(t,{DM:function(){return l},vD:function(){return n}});var s=a(86504);a(22383);const l=(e,t)=>!!((0,s.c)("AGENCIES_EXPERT_SEARCH_LIST_PROVINCE")&&t||e),n=e=>({idGeoHash:"generic"===(null===e||void 0===e?void 0:e.dataType)?e.idGH:void 0,listingId:"generic"===(null===e||void 0===e?void 0:e.dataType)?e.id:void 0,agencyId:"agency"===(null===e||void 0===e?void 0:e.dataType)?e.id:void 0})},24040:function(e,t,a){a.d(t,{e:function(){return n}});var s=a(91670),l=a(16755);function n(e){let{when:t,fallback:a,children:n}=e;return t?(0,s.jsx)(l.Suspense,{fallback:a,children:n}):(0,s.jsx)(s.Fragment,{children:a})}},31138:function(e,t,a){a.d(t,{F:function(){return l}});var s=a(16798);const l=(e,t,a,l)=>{const n=[];return e&&n.push({type:s.l6.ROOMS,label:e}),t&&n.push({type:s.l6.SURFACE,label:t}),a&&n.push({type:s.l6.BATHROOMS,label:a}),l&&n.push({type:s.l6.FLOOR,label:l}),n}},78925:function(e,t,a){a.d(t,{f:function(){return r}});var s=a(89421),l=a(50652),n=a(86504);const i={0:"PLACE",1:"DISTANCE",2:"AREA",3:"DISTANCE"},r=()=>{const{openSearchModal:e}=(0,l.s)();return t=>(0,n.c)("REACT_GEOGRAPHY_SEARCH")?e(i[t]):(0,s.bf)(t)}},77609:function(e,t,a){a.d(t,{B:function(){return l}});var s=a(16755);const l=e=>{const[t,a]=(0,s.useState)(e);return(0,s.useEffect)((()=>{const e=matchMedia("(hover:none), (pointer: coarse)");function t(){a(e.matches)}return a(e.matches),e.addListener(t),()=>e.removeListener(t)}),[]),t}},90233:function(e,t,a){a.d(t,{A:function(){return s.r}});var s=a(92859)},7836:function(e,t,a){a.d(t,{T:function(){return s.u}});var s=a(51992)},92493:function(e,t,a){var s;a.d(t,{I:function(){return l},O:function(){return s}}),function(e){e.ACTIVE="active",e.REALTIME="realtime",e.ALL="all"}(s||(s={}));const l=Object.values(s)},2498:function(e,t,a){a.d(t,{b:function(){return Hs}});var s=a(91670),l=a(16755),n=a(26833),i=a(32424),r=a(96240),o=a(58753),c=a(63099),d=a(59491),u=a.n(d),m=a(96999),h=a(1887),_=a(12968),p=a(59285),g=a(9024),v=a(46094),C=a.n(v);function E(e){let{noViewBox:t,width:a,height:l,svgCustomClass:n,svgProps:i,imgProps:o,url:c,fragment:d,fragmentAlt:u}=e;return(0,s.jsxs)("svg",{className:(0,r.W)(C()["in-brand__logo"],n),viewBox:t?"":`0 0 ${a} ${l}`,preserveAspectRatio:"xMidYMax meet",...i,children:[(0,s.jsx)("image",{className:u&&C()["in-brand__logo--primary"],...o,href:c+(d?`#${d}`:""),width:a,height:l}),u&&(0,s.jsx)("image",{className:C()["in-brand__logo--secondary"],...o,href:c+(u?`#${u}`:"")})]})}var f=a(86504),x=a(86254);function b(e){let{headline:t,customClass:a,onClickText:l}=e;const n=12.7,i=Math.round(7.4*t.length);return(0,s.jsx)("svg",{className:a,onClick:l?()=>l():void 0,viewBox:`0 0 ${Math.min(240,i)} 20`,children:(0,s.jsx)("text",{x:"50.5%",y:"50%",fontSize:n,textAnchor:"middle",dominantBaseline:"central",alignmentBaseline:"central",children:t})})}function A(e){let{showSvgHeadline:t,headline:a,customClass:l,onClickText:n}=e;return t?(0,s.jsx)(b,{headline:a,onClickText:n?()=>n():void 0,customClass:l}):(0,s.jsx)("p",{className:l,onClick:n?()=>n():void 0,children:a})}var S=a(14473),N=a.n(S);const y=(0,f.c)("PAYOFF_CUSTOM_FONT_IMMOTOP");function T(e){let{children:t,customClass:a,size:n="default",contentSmall:i,light:o,brand:c,brandLink:d,headline:u,showSvgHeadline:m,onClickText:h,subtitle:_,text:p,btn:g,btnStyle:v}=e;const C=u?(0,s.jsx)(A,{showSvgHeadline:m,headline:u,onClickText:h?()=>h():void 0,customClass:(0,r.W)(m?N()["in-heroBrand__titleSvg"]:N()["nd-heroBrand__title"],Boolean(h)&&N()["in-hero__title--link"],y&&N()["in-heroBrand__immotopPayoff"])}):null;return(0,s.jsx)("div",{className:(0,r.W)(N()["in-hero"],N()["nd-hero"],"default"!==n&&N()[`nd-hero--${n}`],o&&N()["nd-hero--light"],a),children:(0,s.jsxs)("div",{className:(0,r.W)(N()["nd-hero__content"],i&&N()["nd-hero__content--small"]),children:[c?(0,s.jsx)("div",{className:N()["nd-heroBrand"],"data-cy":"hero-brand",children:d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("a",{href:d,className:N()["nd-heroBrand__link"],children:(0,l.createElement)(E,{...c,svgCustomClass:(0,r.W)(N()["nd-heroBrand__logo"],c.svgCustomClass)})}),C]}):(0,s.jsxs)(s.Fragment,{children:[(0,l.createElement)(E,{...c,svgCustomClass:(0,r.W)(N()["nd-heroBrand__logo"],c.svgCustomClass)}),C]})}):C,_&&(0,s.jsx)("div",{className:N()["nd-hero__subtitle"],children:_}),p&&(0,s.jsx)("div",{className:N()["nd-hero__text"],children:p}),g&&(0,s.jsx)(x._,{customClass:N()["nd-hero__button"],variant:null!==v&&void 0!==v?v:void 0,children:g}),t]})})}var j=a(87066),I=a(12341),R=a(65756),L=a(9052);const O=e=>{const{locale:t}=(0,m.useRouter)(),{data:a,isFetching:s}=(0,R.a)({queryKey:["dossiers",t,e],queryFn:()=>L.d.get(`/api-next/dossiers/?__lang=${t}&limit=${e}`).json(),enabled:(0,f.c)("DOSSIERS_ENABLED")});return{data:a,isFetching:s}};var M=a(16388),k=a(37204),w=a.n(k);function B(e){let{title:t,titleClass:a,customClass:n}=e;const{data:i,isFetching:o}=O(4);return i?(0,s.jsxs)("div",{className:(0,r.W)(n),children:[(0,s.jsx)("p",{className:a,children:t}),(0,s.jsx)("div",{className:w()["in-listOfDossier__wrapper"],children:i.map((e=>(0,s.jsx)(j.E,{dossier:e},e.id)))})]}):o?(0,s.jsxs)("div",{className:(0,r.W)(n),children:[(0,s.jsx)(M.i,{type:"text",items:1,customClass:a}),(0,s.jsx)("div",{className:w()["in-listOfDossier__wrapper"],children:Array.from(Array(4),((e,t)=>(0,s.jsx)(l.Fragment,{children:(0,s.jsx)(I.O,{})},t)))})]}):null}var P=a(63978);function D(e){let{condition:t,wrapper:a,children:l}=e;return t?a(l):(0,s.jsx)(s.Fragment,{children:l})}var F=a(91386),H=a.n(F);const G=e=>{const{trans:t}=(0,n.T_)();return[{figure:"https://s1.immobiliare.it/_next/static/media/luxembourg.6a5078d9fe236ea5.svg",country:"luxembourg",countryString:t("lbl_nation_luxembourg"),countrySlug:"luxembourg"},{figure:"https://s1.immobiliare.it/_next/static/media/france.51a5b560c5177b08.svg",country:"france",countryString:t("lbl_nation_france"),countrySlug:"france"},{figure:"https://s1.immobiliare.it/_next/static/media/belgium.1cc1461df14552b9.svg",country:"belgium",countryString:t("lbl_nation_belgium"),countrySlug:"belgique"},{figure:"https://s1.immobiliare.it/_next/static/media/germany.b067cbe88020b604.svg",country:"germany",countryString:t("lbl_nation_germany"),countrySlug:"allemagne"}].map((a=>({figure:a.figure,title:a.countryString,subtitle:t("search_for_properties_in",{params:[a.countryString]}),url:`${e}/${a.countrySlug}-pays/?criterio=rilevanza`,country:a.country})))};var U=a(5329),$=a(90001),Y=a(35815),W=a(23861),V=a(25417),z=a.n(V);function q(e){let{customClass:t,titleClass:a,stripCustomClass:l,urlPrefix:i}=e;const{trans:o}=(0,n.T_)(),c=G(i);return(0,s.jsxs)("section",{className:t,"data-cy":"country-search",children:[(0,s.jsxs)("p",{className:(0,r.W)("nd-grid",a),children:[(0,s.jsx)($.D4,{name:"lens"}),o("lbl_grande_region_houses")]}),(0,s.jsx)(W.C,{customClass:(0,r.W)("nd-grid",l),lazyLoad:!0,children:c.map(((e,t)=>(0,s.jsx)(W.C.Slide,{children:(0,s.jsx)(H(),{href:e.url,passHref:!0,target:"_blank",legacyBehavior:!0,children:(0,s.jsxs)(Y.EO,{hoverable:!0,padded:!0,customClass:z()["hp-countrySearch__card"],children:[(0,s.jsx)(U.T,{ratio:"square",cover:!0,children:(0,s.jsx)(U.T.Image,{src:e.figure})}),(0,s.jsxs)(Y.yy,{customClass:z()["hp-countrySearch__content"],children:[(0,s.jsxs)(Y.xF,{children:[(0,s.jsx)(Y.Pq,{customClass:z()["hp-countrySearch__title"],children:e.title}),(0,s.jsx)("p",{children:e.subtitle})]}),(0,s.jsx)(Y.r4,{customClass:z()["hp-countrySearch__button"],children:o("act_search")})]})]})})},t)))})]})}var K=a(27960),Z=a(34009),J=a(92592);const X=(0,K.t)("defaultSearchPrefix"),Q=(e,t,a)=>{const s=(0,Z.jb)(e),l="/"===s?X:s.slice(-s.length,s.lastIndexOf("/"));return(0,J._J)(l,t,a)};var ee=a(84042),te=a(29686),ae=a.n(te);function se(e){let{discover:t,customClass:a,title:l,titleClass:n}=e;const[o]=(0,i.G)({to:"md"});return(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)("p",{className:n,children:l}),(0,s.jsx)("div",{className:(0,r.W)(ae()["hp-discover"],a),children:t.items.map(((e,t)=>{const{isNew:a,url:l,onClick:n,image:i,title:c,text:d,action:u}=e;return(0,s.jsxs)(Y.EO,{href:l,rel:"nofollow",target:"_blank",onClick:()=>{n&&n()},direction:o?"col":void 0,customClass:ae()["hp-discover__item"],hoverable:!o,padded:!0,children:[(0,s.jsx)(U.T,{ratio:"square",customClass:ae()["hp-discover__image"],cover:!0,children:(0,s.jsx)(U.T.Image,{src:i,alt:""})}),(0,s.jsxs)(Y.yy,{customClass:a?ae()["has-badge"]:void 0,children:[(0,s.jsxs)("span",{className:(0,r.W)(ae()["hp-discover__title"],a&&ae()["hp-discover__titleBadge"]),children:[c,a&&(0,s.jsx)(ee.e,{variant:"promotion",position:"topRight",customClass:ae()["hp-discover__badge"],children:"New"})]}),(0,s.jsx)("p",{className:ae()["hp-discover__description"],children:d}),(0,s.jsx)(x._,{variant:"ghost",customClass:ae()["hp-discover__action"],children:u})]})]},t)}))})]})}var le=a(2373),ne=a(16947),ie="https://s1.immobiliare.it/_next/static/media/download-app-devices.0a3616132ce98d9d.svg",re="https://s1.immobiliare.it/_next/static/media/download-app-icon.23a81a97ffd72a8d.svg",oe=a(49298),ce=a(13391),de=a(12377);const ue=()=>{const e=(0,ce.S)(),t=(0,oe.v)();return{trackBannerClick:(0,l.useCallback)((t=>{e(de.B_.BANNER_SELECTED,{"Entry Point":t})}),[e]),trackHomepageViewed:(0,l.useCallback)((()=>{t(de.Ys.HOMEPAGE_LOAD,{section_name:de.jz.HOMEPAGE})}),[t]),trackDownloadApp:(0,l.useCallback)((t=>{e("impression"===t?de.B_.DOWNLOAD_APP_BANNER_VIEWED:de.B_.DOWNLOAD_APP_BANNER_CLICKED,{"Type of Banner":"Home"})}),[e])}};var me=a(31762),he=a.n(me);function _e(e){let{customClass:t}=e;const{trans:a}=(0,n.T_)(),[o]=(0,i.G)({to:"sm"}),{platform:c,storeUrl:d}=(0,le.p)(!0),u=(0,K.t)("domainName");let m="";switch(c){case"iOS":m="apple";break;case"Android":m="google-play";break;case"Huawei":m="huawei"}const{trackDownloadApp:h}=ue(),_=c&&d&&(0,f.c)("DOWNLOAD_PROMOTIONAL_BANNER");return(0,l.useEffect)((()=>{_&&h("impression")}),[_,h]),_?(0,s.jsx)("div",{className:(0,r.Z)("nd-grid",t),children:(0,s.jsxs)("div",{className:he()["hp-downloadApp"],children:[(0,s.jsxs)("picture",{className:he()["hp-downloadApp__picture"],children:[(0,s.jsx)("source",{media:"(min-width: 768px)",srcSet:ie,width:"385",height:"271"}),(0,s.jsx)("img",{src:re,alt:a("hp_generic_box_app_title"),width:"96",height:"96"})]}),(0,s.jsxs)("div",{className:he()["hp-downloadApp__text"],children:[(0,s.jsx)("div",{className:he()["hp-downloadApp__title"],children:a("hp_generic_box_app_title")}),(0,s.jsx)("p",{className:he()["hp-downloadApp__description"],children:a("hp_generic_box_app_paragraph")}),(0,s.jsx)("p",{className:he()["hp-downloadApp__description"],children:a("hp_generic_box_app_paragraph2",{params:[(0,ne.kC)(u)]})}),(0,s.jsx)(x._,{as:"a",block:o,customClass:he()["hp-downloadApp__button"],icon:{name:m},href:d,target:"_blank",rel:"nofollow noopener",title:a("hp_generic_box_app_title"),iconAlignment:"right",onClick:()=>h("download"),children:a("act_download_on")})]})]})}):null}var pe=a(2437),ge=a(33540),ve=a(43605);const Ce=()=>{var e,t,a,s,i;const{trans:r}=(0,n.T_)(),{locale:o}=(0,m.useRouter)(),c=(0,K.t)("name"),[d,u]=(0,l.useState)(null);(0,l.useEffect)((()=>{const e=localStorage.getItem("imm_ultimaRicerca");u(e?JSON.parse(e):null)}),[]);const h=(0,f.c)("AGENCIES_EXPERT_SORT_BY_BUNDLE"),_="circle"===(null===d||void 0===d||null===(e=d.poligono)||void 0===e?void 0:e.mode),p="polygon"===(null===d||void 0===d||null===(t=d.poligono)||void 0===t?void 0:t.mode),g=_||p,v=(0,f.c)("AGENCIES_EXPERT_HOME")&&(0,ge.DM)(null===d||void 0===d?void 0:d.fkComune,null===d||void 0===d?void 0:d.fkProvincia),C=(0,f.c)("AGENCIES_EXPERT_BY_DISTANCE_OR_AREA_SEARCH")&&g,E=v||C,x=h?(0,K.t)("agenciesExpertResultsLimit"):25,b={"city-id":null===d||void 0===d?void 0:d.fkComune,"province-id":null===d||void 0===d?void 0:d.fkProvincia,"macrozone-id":(null===d||void 0===d?void 0:d.fkMacrozonaV2)&&"string"===typeof d.fkMacrozonaV2?d.fkMacrozonaV2.split(","):null,banner:"immotop-lu"===c?1:null,"category-id":h?7:null,"sort-by":h?"bundle":null,limit:x,output:"json",..._?{radius:null===(a=d.poligono)||void 0===a?void 0:a.area.radius,center:null===(s=d.poligono)||void 0===s?void 0:s.area.center}:{points:(null===d||void 0===d||null===(i=d.poligono)||void 0===i?void 0:i.area)?(0,ve.L)(d.poligono.area):null}},{isFetching:A,data:S}=(0,R.a)({queryKey:["agencies",b,o],queryFn:()=>L.d.get("/api-next/agencies/local-expert/",{searchParams:{...b,__lang:o}}).json(),enabled:E});return A?{agencies:[],title:{label:null,url:null}}:{agencies:S&&S.agencies.length>0?S.agencies:null,title:{label:r("immotop-lu"===c?"area_agencies_featured":"area_agencies"),url:(null===S||void 0===S?void 0:S.searchAgencyUrl)&&(0,f.c)("AGENCIES_EXPERT_ZONE_TITLE_ENABLED")?S.searchAgencyUrl:null}}};var Ee=a(90561),fe=a.n(Ee);function xe(e){let{customClass:t,titleClass:a}=e;const{trans:l}=(0,n.T_)(),i=Ce(),o=(0,f.c)("AGENCIES_EXPERT_COVER");return i.agencies&&(0,s.jsx)("div",{className:(0,r.Z)(fe()["hp-expertAgencies"],t),children:(0,s.jsx)(pe.Ab,{title:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($.D4,{name:"suitcase"}),i.title.label,i.title.url&&(0,s.jsx)(x._,{variant:"ghost",customClass:"hp-home__seeAll",href:i.title.url,target:"_blank",as:"a",small:!0,children:l("act_see_all_fe")})]}),titleClass:a,customClass:(0,r.Z)("nd-grid",fe()["hp-expertAgencies__strip"]),contentCustomClass:fe()["hp-expertAgencies__stripContent"],items:(0,pe.wj)(i.agencies,"homepage"),hasCover:o,withPromoBox:!0,from:"homepage",innerArrow:!0})})}var be=a(62597),Ae=a.n(be);function Se(e){let{groupAgencies:t,hidden:a}=e;return(0,s.jsxs)(Y.dF,{direction:"colToRow",customClass:(0,r.W)(Ae()["hp-groupAgenciesCard"],a&&Ae()["is-hidden"]),children:[(0,s.jsx)("a",{href:t.url,title:t.title,children:(0,s.jsx)(U.T,{ratio:"custom",bordered:!0,children:(0,s.jsx)(U.T.Image,{src:t.image,alt:t.title,lazyLoad:!0})})}),(0,s.jsx)(Y.yy,{children:(0,s.jsxs)(Y.xF,{children:[(0,s.jsx)(Y.Pq,{customClass:Ae()["hp-groupAgenciesCard__title"],children:(0,s.jsx)("a",{href:t.url,children:t.title})}),t.text&&(0,s.jsx)("p",{className:Ae()["hp-groupAgenciesCard__contentText"],children:t.text})]})})]})}var Ne=a(63919),ye=a.n(Ne);function Te(e){let{franchising:t,customClass:a}=e;const{trans:i}=(0,n.T_)(),[o,c]=(0,l.useState)(!1);return(0,s.jsxs)("section",{className:(0,r.W)(ye()["hp-franchising"],a),"data-cy":"hp-franchising",children:[(0,s.jsx)("h1",{className:ye()["hp-franchising__title"],children:t.title}),t.text.map(((e,t)=>(0,s.jsx)("p",{className:ye()["hp-franchising__description"],children:e},t))),t.items.map(((e,t)=>(0,s.jsx)(Se,{groupAgencies:e,hidden:t>10&&!o},t))),!o&&(0,s.jsx)(x._,{centered:!0,customClass:ye()["hp-franchising__showAll"],onClick:()=>{c(!0)},children:i("lbl_show_all")})]})}var je=a(63588),Ie=a(64586),Re=a.n(Ie);function Le(e){let{customClass:t}=e;const{trans:a}=(0,n.T_)(),l=(0,K.t)("mainPartnerHome");var i;return l?(0,s.jsx)("section",{className:(0,r.W)("nd-grid",Re()["hp-mainPartner"],t),children:(0,s.jsxs)("a",{href:l.url,className:Re()["hp-mainPartner__link"],target:l.target,rel:l.rel,children:[a("lu_lbl_partner"),(0,s.jsx)(je.I,{customClass:Re()["hp-mainPartner__logo"],src:null!==(i=l.img.src_2x)&&void 0!==i?i:l.img.src,srcSet:l.img.src_2x?`${l.img.src}, ${l.img.src_2x} 2x`:void 0,alt:l.img.alt,width:l.img.width,height:l.img.height})]})}):null}var Oe=a(92094),Me=a(73580),ke=a.n(Me);const we=(0,K.t)("leaderUrl");function Be(e){let{customClass:t}=e;const{trans:a}=(0,n.T_)(),{locale:l,defaultLocale:i}=(0,m.useRouter)(),{trackBannerClick:o}=ue();if(we){const e=()=>{setTimeout((()=>{window.open((0,J._J)(we,i,l),"_blank")}),0),o("Banner")};return(0,s.jsxs)("div",{className:(0,r.Z)(ke()["hp-numberOneButton"],t),children:[(0,s.jsx)(ee.e,{variant:"brand",children:a("number_one_btn_badge")}),(0,s.jsxs)("span",{className:ke()["hp-numberOneButton__wrapper"],children:[a("number_one_btn_text"),(0,s.jsx)("a",{className:ke()["hp-numberOneButton__link"],role:"button",tabIndex:0,onKeyDown:t=>{"Enter"!==t.key&&13!==t.keyCode||e()},onClick:e,children:a("number_one_cta")})]}),(0,s.jsx)("a",{className:ke()["hp-numberOneButton__arrow"],role:"button",tabIndex:0,onKeyDown:t=>{"Enter"!==t.key&&13!==t.keyCode||e()},onClick:e,children:(0,s.jsx)($.D4,{name:"arrow-right"})})]})}return null}function Pe(){return(0,s.jsx)("div",{className:ke()["hp-numberOneButton"]})}var De=a(15748),Fe=a.n(De);function He(){const{trans:e}=(0,n.T_)(),t=(0,Oe.VA)(),[a]=(0,i.G)({to:"sm"}),l=(0,K.t)("publishedAdsLandingUrl");return t?a?(0,s.jsxs)(s.Fragment,{children:[(0,f.c)("PUBLISH_MOBILE_BTN")&&(0,s.jsx)("div",{className:Fe()["hp-mobileButtons"],children:(0,s.jsx)(x._,{as:"a",customClass:Fe()["hp-mobileButtons__publishButton"],block:!0,href:`${l}?from=homeMobile`,children:e("act_publish_free_ad")})}),(0,f.c)("NUMBER_ONE_LINK")&&(0,s.jsx)("div",{className:Fe()["hp-mobileButtons"],children:(0,s.jsx)(Be,{})})]}):void 0:(0,s.jsxs)(s.Fragment,{children:[(0,f.c)("PUBLISH_MOBILE_BTN")&&(0,s.jsx)("div",{className:Fe()["hp-mobileButtons"],children:(0,s.jsx)(M.i,{type:"image",customClass:Fe()["hp-mobileButtons__skeleton"]})}),(0,f.c)("NUMBER_ONE_LINK")&&(0,s.jsx)("div",{className:Fe()["hp-mobileButtons"],children:(0,s.jsx)(Pe,{})})]})}var Ge,Ue=a(74829);!function(e){e.SALE="sale",e.RENT="rent",e.AUCTION="auction",e.APPRAISE="appraise",e.SELLER="seller",e.AGENCIES="agencies",e.INTERNATIONAL_SALE="internationalSale",e.INTERNATIONAL_RENT="internationalRent",e.HOLIDAY="holiday",e.MYHOME="myHome"}(Ge||(Ge={}));const $e=(0,Ue.cn)(Ge.SALE),Ye=(0,Ue.cn)({});var We=a(27966),Ve=a(18850),ze=a.n(Ve);const qe=e=>void 0!==e.nation||void 0!==e.region;function Ke(e){let{list:t,isColumn:a,isLarge:l,customClass:n,withNation:i}=e;return(0,s.jsx)("ul",{className:(0,r.W)(ze()["hp-listMeta"],a&&ze()["hp-listMeta--columns"],l&&ze()["hp-listMeta--large"],n),children:t.map(((e,t)=>{var a;const l=qe(e)?e.nation||i||!e.link||e.region:i||!e.link,n=qe(e)?e.nation||i||e.region:i;return(0,s.jsxs)("li",{className:(0,r.W)(ze()["hp-listMeta__item"],l&&ze()["hp-listMeta__item--title"],n&&ze()["hp-listMeta__item--bold"]),children:[Boolean(e.meta)&&(0,s.jsx)("span",{className:ze()["hp-listMeta__meta"],children:e.meta}),e.link?(0,s.jsx)("a",{className:ze()["hp-listMeta__link"],href:e.link,title:null===(a=e.attr)||void 0===a?void 0:a.title,children:e.text}):e.text,e.items&&e.items.length>0&&(0,s.jsx)("ul",{className:ze()["hp-listMeta__group"],children:e.items.map(((e,t)=>(0,s.jsx)("li",{className:(0,r.W)(ze()["hp-listMeta__item"],ze()["hp-listMeta__item--child"]),children:e.link?(0,s.jsx)("a",{className:ze()["hp-listMeta__link"],href:e.link,children:e.text}):e.text},t)))})]},t)}))})}var Ze=a(45124),Je=a.n(Ze);function Xe(e){let{panel:t}=e;return(0,s.jsxs)(s.Fragment,{children:[t.title?(0,s.jsx)("div",{className:Je()["hp-panelMeta"],children:t.link?(0,s.jsx)("a",{href:t.link,title:t.linkTitle,children:t.title}):t.title}):null,(0,s.jsx)(Ke,{list:t.items,isColumn:!0})]})}var Qe=a(9809),et=a.n(Qe);function tt(e){let{seoMap:t,pageContent:a,customClass:n}=e;const i=(0,m.useRouter)(),o=We.v0.AGENZIA===`${a.categoryId}`,[c,d]=(0,l.useState)("cities");return(0,s.jsxs)("section",{className:(0,r.W)(et()["hp-seoMap"],n),"data-cy":"seo-map",id:"map-list",children:[(0,s.jsx)("h1",{className:(0,r.W)(et()["hp-seoMap__title"],"nd-typography--headingLarge","nd-grid"),children:t.title}),(0,s.jsx)("p",{className:(0,r.W)(et()["hp-seoMap__description"],"nd-grid"),children:t.description}),(0,s.jsx)("div",{className:"nd-grid",children:t.rows.map(((e,t)=>(0,s.jsx)("ul",{className:(0,r.W)("nd-tabs",0!==t&&"nd-tabs--compact",et()["hp-seoMap__tabs"]),children:e.map(((e,t)=>(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:(0,r.W)("nd-tabs__item",(e.attr["data-target"]?c===e.attr["data-target"]:e.active)&&"is-active"),href:e.link,title:e.attr.title,onClick:e.attr["data-target"]?e=>(e=>{e.preventDefault(),i.push(e.target.href);const t=e.target.dataset.target;d(t)})(e):void 0,"data-target":e.attr["data-target"],children:e.text})},t)))},t)))}),(0,s.jsx)("div",{"data-target":o?"cities":null,className:(0,r.W)("nd-grid",et()["hp-seoMap__panel"],(o&&"cities"===c||!o)&&et()["hp-seoMap__panel--active"]),children:t.panels?t.panels.map(((e,t)=>(0,s.jsx)(Xe,{panel:e},t))):t.items&&(0,s.jsx)(Ke,{list:t.items,isColumn:!0})}),t.associations&&o&&(0,s.jsx)("div",{"data-target":"associations",className:(0,r.W)("nd-grid",et()["hp-seoMap__panel"],"associations"===c&&et()["hp-seoMap__panel--active"]),children:t.associations.items.map(((e,t)=>(0,s.jsx)(Se,{groupAgencies:e},t)))})]})}var at=a(62767),st=a(25960),lt=a.n(st);function nt(e){let{seoSiteMap:t}=e;return(0,s.jsxs)("section",{className:(0,r.W)("nd-grid",lt()["hp-seoSiteMap"]),"data-cy":"site-map",children:[(0,s.jsx)("h1",{className:lt()["hp-seoSiteMap__title"],children:t.title}),(0,s.jsx)("p",{className:lt()["hp-seoSiteMap__description"],dangerouslySetInnerHTML:{__html:t.description}}),Object.keys(t.indexes).map(((e,a)=>(0,s.jsxs)("section",{className:lt()["hp-seoSiteMap__block"],children:[(0,s.jsx)("p",{className:lt()["hp-seoSiteMap__index"],children:(0,s.jsx)("span",{className:lt()["hp-seoSiteMap__indexValue"],children:e})}),(0,s.jsx)(Ke,{list:t.indexes[e].items,isLarge:!0,customClass:lt()["hp-seoSiteMap__list"]})]},a))),t.neighboursTouristicAreas&&(0,s.jsx)(at.V,{title:t.neighboursTouristicAreas.title,TitleTag:"span",config:[{data:t.neighboursTouristicAreas.items}],dataCy:"related-links-touristic-areas",customClass:lt()["hp-seoSiteMap__related"]}),t.related&&(0,s.jsx)(at.V,{title:t.related.title,TitleTag:"span",config:[{data:t.related.items}],dataCy:"related-links-provinces",customClass:lt()["hp-seoSiteMap__related"]})]})}var it=a(8136),rt=a(45882),ot=a.n(rt);const ct=100,dt=10;var ut;const mt=Math.min(null!==(ut=(0,it.P4)())&&void 0!==ut?ut:1/0,20);function ht(e){let{children:t}=e;const[a]=(0,i.G)({to:"sm"}),n=(0,l.useMemo)((()=>{const e=Math.max(dt,ct-4*mt);return a?Math.round(e/3):e}),[a]),r=(0,l.useMemo)((()=>new Array(n).fill(null).map(((e,t)=>t))),[n]);return(0,s.jsxs)("section",{className:ot()["hp-snowflakes"],children:[(0,s.jsx)("div",{className:ot()["hp-snowflakes__wrapper"],"aria-hidden":"true",children:r.map((e=>(0,s.jsx)("div",{className:ot()["hp-snowflakes__item"]},e)))}),(0,s.jsx)("div",{children:t})]})}var _t,pt=a(92990),gt=a(24040),vt=a(85550),Ct=a(52891),Et=a.n(Ct);function ft(e){let{customClass:t,titleClass:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:(0,r.W)(Et()["hp-lastThingSkeleton__head"],"nd-grid",a),children:(0,s.jsx)(M.i,{customClass:Et()["hp-lastThingSkeleton__title"],type:"text",theme:"light",items:1})}),(0,s.jsx)(vt.dV,{customClass:(0,r.W)("nd-grid",Et()["hp-lastThingSkeleton"],t),type:"inline",items:Array.from(Array(4),((e,t)=>(0,s.jsx)(l.Fragment,{children:(0,s.jsx)(xt,{})},t)))})]})}function xt(){return(0,s.jsxs)(vt.dG,{customClass:Et()["hp-lastThingSkeleton__card"],children:[(0,s.jsx)(M.i,{type:"image",imageRatio:"square"}),(0,s.jsxs)("div",{className:Et()["hp-lastThingSkeleton__cardContent"],children:[(0,s.jsx)(M.i,{type:"text",items:2}),(0,s.jsx)(M.i,{type:"text",items:2})]})]})}!function(e){e.SEARCHES="searches",e.REALESTATES="real-estates"}(_t||(_t={}));var bt=a(86667),At=a(31138),St=a(45833),Nt=a(48927);const yt=()=>{const{user:e}=(0,Nt.Eu)(),{locale:t}=(0,m.useRouter)(),[a,s]=(0,l.useState)(null),[n,i]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{const a=((e,t)=>{const a=localStorage.getItem("imm_ultimiAnnunci");return t||a?L.d.post((0,Z.pk)(`/api-next/last/${_t.REALESTATES}/`,{imm_source:"homepage",__lang:e}),{json:{localStorage:a}}).json().then((e=>e)):null})(t,Boolean(e));null!==a?a.then((e=>{s(e),i(!0)})).catch((()=>i(!0))):i(!0)}),[t,e]),{lastRealEstates:a,fetched:n,isAuthenticated:Boolean(e)}};var Tt=a(77609),jt=a(72600);const It=(e,t)=>{const{user:a}=(0,Nt.Eu)(),s=(0,f.c)("GENERIC_IMAGE"),l=(0,f.c)("PUBLISHADSPLACEHOLDER"),n=(0,f.c)("SELLER_LEAD"),i=(0,f.c)("MY_HOME"),r=(0,f.c)("MESSAGING_IN_LAST_SEARCH"),o=(0,f.c)("MESSAGING_IN_LAST_THINGS_ENABLED"),c=!(0,jt.s)()&&i,d={figure:s?"https://s1.immobiliare.it/_next/static/media/placeholder_message.c7fc0f509093f4d9.svg":"https://s1.immobiliare.it/_next/static/media/immo-empty-message.f03a7cf22185b746.svg",title:"hp_placeholder_message_title",description:"hp_placeholder_message_description"},u={figure:"https://s1.immobiliare.it/_next/static/media/immo-empty-my-home.1daf4fd6b0ec626c.svg",title:"feature_strip_my_home_title",description:"feature_strip_my_home_text",isNew:!0};if(_t.SEARCHES===e){let e=[];return a||e.push({figure:s?"https://s1.immobiliare.it/_next/static/media/placeholder_sincronize.a252a614d1296cf9.svg":"https://s1.immobiliare.it/_next/static/media/immo-empty-registrazione.ce53ce8d6777dfe9.svg",title:"register_it_s_free",description:"register_now_info_abstract"}),!s&&a&&e.push({figure:"https://s1.immobiliare.it/_next/static/media/immo-empty-attiva-notifiche.aabd6a47032c91a9.svg",title:"act_enable_notifications",description:"enable_notifications_info_abstract"}),e=e.concat([{figure:s?"https://s1.immobiliare.it/_next/static/media/placeholder_searchmap.7eef0740bdff43d3.svg":"https://s1.immobiliare.it/_next/static/media/immo-empty-ricerca-mappa.3de6a3b4c24adf1b.svg",title:"act_search_on_map",description:"search_on_map_info_abstract"},{figure:s?"https://s1.immobiliare.it/_next/static/media/placeholder_savesearch.02f9256697ba833a.svg":"https://s1.immobiliare.it/_next/static/media/immo-empty-salva-ricerca.056fa3639c74273e.svg",title:"act_save_search",description:"save_search_info_abstract"}]),(n||l)&&e.push({figure:s?"https://s1.immobiliare.it/_next/static/media/placeholder_publish.68e9deb6c1b77f40.svg":"https://s1.immobiliare.it/_next/static/media/immo-empty-publish.41a43726cdcc599e.svg",title:n?"hp_placeholder_sell_title":"hp_placeholder_publish_title",description:n?"hp_placeholder_sell_description":"hp_placeholder_publish_description"}),r&&o&&e.push(d),e}if(_t.REALESTATES===e){const e=[{figure:s?"https://s1.immobiliare.it/_next/static/media/placeholder_saveRe.ebe8f8b1fe1dc8b4.svg":"https://s1.immobiliare.it/_next/static/media/immo-empty-salva-annunci.b5cb73cae6f085a7.svg",title:"act_save_ads",description:"save_ads_info_abstract"},{figure:s?"https://s1.immobiliare.it/_next/static/media/placeholder_hideRe.8c84ef9ceab7e8f8.svg":"https://s1.immobiliare.it/_next/static/media/immo-empty-nascondi-annunci.884a0702496077c5.svg",title:"act_hide_ads",description:"hide_ads_info_abstract"}];return t&&e.push({figure:s?"https://s1.immobiliare.it/_next/static/media/placeholder_download.4fe2a986b5808133.svg":"https://s1.immobiliare.it/_next/static/media/immo-empty-scarica-app.1c48e1e682568d39.svg",title:"act_download_mobile_application_short",description:"download_app_info_abstract"}),c&&e.push(u),c||r||!o||e.push(d),e}return[]};var Rt=a(47825),Lt=a.n(Rt);function Ot(e){let{type:t,stripCustomClass:a,children:l}=e;const n=(0,K.t)("appStores"),o=It(t,Boolean(n)),[c]=(0,i.G)({to:"sm"}),d=(0,Tt.B)(!0)&&c?1:4,u=l.length>0?o.slice(0,Math.max(d-l.length,0)):o;return(0,s.jsxs)(W.C,{customClass:(0,r.Z)("nd-grid",Lt()["hp-lastThingSlider__carousel"],a),children:[l,u.map(((e,t)=>(0,s.jsx)(W.C.Slide,{children:(0,s.jsx)(Mt,{placeholder:e})},`placeholder-${t}`)))]})}function Mt(e){let{placeholder:t}=e;const{trans:a}=(0,n.T_)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(Y.dF,{padded:!0,children:[(0,s.jsx)(U.T,{ratio:"square",cover:!0,children:(0,s.jsx)(U.T.Image,{src:t.figure})}),(0,s.jsxs)(Y.yy,{customClass:(0,r.Z)(Lt()["hp-lastThingSlider__content"],t.isNew&&Lt()["has-badge"],t.isNew&&"nd-badgeContainer"),children:[t.isNew&&(0,s.jsx)(ee.e,{variant:"promotion",customClass:Lt()["hp-lastThingSlider__badge"],position:"topLeft",children:"New"}),(0,s.jsx)(Y.Pq,{customClass:Lt()["hp-lastThingSlider__title"],children:a(t.title)}),(0,s.jsx)("p",{children:a(t.description)})]})]})})}var kt=a(36517),wt=a.n(kt);const Bt=(0,l.memo)((e=>{let{customClass:t,isAuthenticated:a,text:l,icon:n,link:i,linkRef:o,isVisible:c}=e;return(0,s.jsx)("div",{className:(0,r.Z)(wt()["hp-lastThingTitle__head"],"nd-grid",t),children:c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($.D4,{name:n}),l,a?(0,s.jsx)(x._,{variant:"ghost",customClass:wt()["hp-lastThingTitle__link"],href:i,as:"a",small:!0,children:o}):null]})})}));var Pt=a(21712),Dt=a.n(Pt);function Ft(e){let{titleClass:t,stripCustomClass:a}=e;const{trans:l}=(0,n.T_)(),{lastRealEstates:i,fetched:r,isAuthenticated:o}=yt(),c=Ht((null===i||void 0===i?void 0:i.items)||[]);return r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Bt,{customClass:t,isAuthenticated:o,link:"/utente/annunci/recenti/",linkRef:l("act_see_all"),text:l("recently_viewed_ads"),icon:"home",isVisible:Boolean(null===i||void 0===i?void 0:i.count)}),(0,s.jsx)(Ot,{type:_t.REALESTATES,stripCustomClass:a,children:c})]}):(0,s.jsx)(ft,{customClass:a,titleClass:t})}const Ht=e=>e.map(((e,t)=>{var a;const l=(0,At.F)(null===(a=e.features.locals)||void 0===a?void 0:a.toString(),e.features.surface);return(0,s.jsx)(W.C.Slide,{children:(0,s.jsx)(H(),{href:e.url,passHref:!0,legacyBehavior:!0,children:(0,s.jsxs)(Y.EO,{target:"_blank",customClass:Dt()["hp-lastRealEstates__card"],hoverable:!0,padded:!0,children:[(0,s.jsx)(U.T,{ratio:"square",cover:!0,children:(0,s.jsx)(U.T.Image,{src:e.figure||(0,St.K)()})}),(0,s.jsxs)(Y.yy,{customClass:Dt()["hp-lastRealEstates__content"],children:[(0,s.jsxs)(Y.xF,{children:[(0,s.jsx)(Y.Pq,{customClass:Dt()["hp-lastRealEstates__title"],children:e.title}),e.subTitle&&(0,s.jsx)("p",{className:Dt()["hp-lastRealEstates__subtitle"],children:e.subTitle}),e.zones&&(0,s.jsx)("p",{className:Dt()["hp-lastRealEstates__text"],children:e.zones})]}),(0,s.jsxs)(Y.r4,{customClass:Dt()["hp-lastRealEstates__bottom"],children:[e.price&&(0,s.jsx)("p",{className:Dt()["hp-lastRealEstates__featuresPrice"],children:e.price}),(0,s.jsx)(bt.we,{features:l})]})]})]})})},t)})),Gt=()=>{const{user:e}=(0,Nt.Eu)(),{locale:t}=(0,m.useRouter)(),[a,s]=(0,l.useState)(null),[n,i]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{const a=((e,t)=>{const a=localStorage.getItem("imm_ultimeRicerche");return t||a?L.d.post((0,Z.pk)(`/api-next/last/${_t.SEARCHES}/`,{imm_source:"homepage",__lang:e}),{json:{localStorage:a}}).json().then((e=>e)):null})(t,Boolean(e));null!==a?a.then((e=>{s(e),i(!0)})).catch((()=>i(!0))):i(!0)}),[t,e]),{lastSearchesData:a,fetched:n,isAuthenticated:Boolean(e)}};var Ut=a(2469),$t=a.n(Ut);function Yt(e){let{titleClass:t,stripCustomClass:a}=e;const{trans:l}=(0,n.T_)(),{lastSearchesData:i,fetched:r,isAuthenticated:o}=Gt(),c=Wt((null===i||void 0===i?void 0:i.items)||[]);return r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Bt,{customClass:t,isAuthenticated:o,link:"/utente/ricerche/recenti/",linkRef:l("act_see_all_fe"),text:l("lbl_recent_searches"),icon:"history",isVisible:Boolean(null===i||void 0===i?void 0:i.count)}),(0,s.jsx)(Ot,{type:_t.SEARCHES,stripCustomClass:a,children:c})]}):(0,s.jsx)(ft,{customClass:a,titleClass:t})}const Wt=e=>e.map(((e,t)=>{const a=e.title?[e.title]:[];return e.typologies&&a.push(e.typologies),(0,s.jsx)(W.C.Slide,{children:(0,s.jsx)(H(),{href:e.url,passHref:!0,legacyBehavior:!0,children:(0,s.jsxs)(Y.EO,{target:"_blank",customClass:$t()["hp-lastSearches__card"],hoverable:!0,padded:!0,children:[(0,s.jsx)(U.T,{ratio:"square",cover:!0,children:e.figure?(0,s.jsx)(U.T.Image,{src:e.figure}):(0,s.jsx)(U.T.Placeholder,{customClass:$t()["hp-lastSearches__placeholder"]})}),(0,s.jsxs)(Y.yy,{customClass:$t()["hp-lastSearches__content"],children:[(0,s.jsxs)(Y.xF,{children:[(0,s.jsx)(Y.Pq,{customClass:$t()["hp-lastSearches__title"],children:a.map(((e,t)=>(0,s.jsx)("span",{className:$t()["hp-lastSearches__titleElement"],children:e},t)))}),(0,s.jsx)("p",{className:$t()["hp-lastSearches__subtitle"],children:e.subTitle})]}),(0,s.jsxs)(Y.r4,{customClass:$t()["hp-lastSearches__bottom"],children:[e.rangePrice&&(0,s.jsx)("p",{children:e.rangePrice}),e.rangeSurface&&(0,s.jsx)("p",{children:e.rangeSurface})]})]})]})})},t)}));var Vt=a(26091),zt=a(30236),qt=a(10676),Kt=a(78589),Zt=a.n(Kt);const Jt=(e,t)=>e.map((e=>{let{id:a,properties:l,title:n,price:i,disabled:o}=e;var c;const{rooms:d,surface:u,multimedia:m,location:h}=l.at(0)||{},{city:_,microzone:p}=h||{},g=(0,At.F)(d,u),v=(0,zt.d)({id:a,lang:t});return(0,s.jsx)(W.C.Slide,{children:(0,s.jsx)(H(),{href:v,passHref:!0,legacyBehavior:!0,children:(0,s.jsxs)(Y.EO,{target:"_blank",customClass:(0,r.Z)(Zt()["hp-savedListingsSection__card"],o&&"is-disabled"),hoverable:!0,padded:!0,children:[(0,s.jsx)(U.T,{ratio:"square",cover:!0,children:(0,s.jsx)(U.T.Image,{src:(null===m||void 0===m||null===(c=m.photos.at(0))||void 0===c?void 0:c.urls.small)||(0,St.K)()})}),(0,s.jsxs)(Y.yy,{customClass:Zt()["hp-savedListingsSection__content"],children:[(0,s.jsxs)(Y.xF,{children:[(0,s.jsx)(Y.Pq,{customClass:Zt()["hp-savedListingsSection__title"],children:n}),_&&(0,s.jsx)("p",{className:Zt()["hp-savedListingsSection__subtitle"],children:_}),p&&(0,s.jsx)("p",{className:Zt()["hp-savedListingsSection__text"],children:p})]}),(0,s.jsxs)(Y.r4,{customClass:Zt()["hp-savedListingsSection__bottom"],children:[i.formattedValue&&(0,s.jsx)("p",{className:Zt()["hp-savedListingsSection__featuresPrice"],children:i.formattedValue}),(0,s.jsx)(bt.we,{features:g})]})]})]})})},a)}));var Xt=a(34794),Qt=a(55912),ea=a.n(Qt);const ta=e=>e.map((e=>{let{url:t,locationPreview:a,title:l,badges:n,id:i}=e;var r;const o=null===(r=n.moreBadges)||void 0===r?void 0:r.slice(0,2).map((e=>(0,s.jsx)("p",{children:e},e)));return(0,s.jsx)(W.C.Slide,{children:(0,s.jsx)(H(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,s.jsxs)(Y.EO,{target:"_blank",customClass:ea()["hp-savedSearchesSection__card"],hoverable:!0,padded:!0,children:[(0,s.jsx)(U.T,{ratio:"square",cover:!0,children:a.main?(0,s.jsx)(U.T.Image,{src:a.main}):(0,s.jsx)(U.T.Placeholder,{customClass:ea()["hp-savedSearchesSection__placeholder"]})}),(0,s.jsxs)(Y.yy,{customClass:ea()["hp-savedSearchesSection__content"],children:[(0,s.jsx)(Y.xF,{children:(0,s.jsx)(Y.Pq,{customClass:ea()["hp-savedSearchesSection__title"],children:(0,s.jsx)("span",{className:ea()["hp-savedSearchesSection__titleElement"],children:l})})}),(0,s.jsx)(Y.r4,{customClass:ea()["hp-savedSearchesSection__bottom"],children:o})]})]})})},i)})),aa={recent_listings:{component:Ft,fallbackComponent:void 0,dataCy:`last-things-${_t.REALESTATES}`},recent_searches:{component:Yt,fallbackComponent:void 0,dataCy:`last-things-${_t.SEARCHES}`},saved_searches:{component:function(e){let{titleClass:t,stripCustomClass:a}=e;const{trans:l}=(0,n.T_)(),i=(0,Xt.rM)(),{data:r}=(0,Vt.k)(i),o=ta(r.results.slice(0,8));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Bt,{customClass:t,isAuthenticated:!0,link:(0,K.t)("user").savedSearchesUrl,linkRef:l("act_see_all_fe"),text:l("menu_map_lbl_saved_search"),icon:"bell",isVisible:Boolean(r.totalSearches)}),(0,s.jsx)(Ot,{type:_t.SEARCHES,stripCustomClass:a,children:o})]})},fallbackComponent:Yt,dataCy:`last-things-${_t.SEARCHES}`},saved_listings:{component:function(e){let{titleClass:t,stripCustomClass:a}=e;const{trans:l}=(0,n.T_)(),i=(0,qt.Lc)(),{data:r}=(0,Vt.k)(i),{locale:o}=(0,m.useRouter)(),c=Jt(r.items.slice(0,8),o);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Bt,{customClass:t,isAuthenticated:!0,link:(0,K.t)("user").savedAdsUrl,linkRef:l("act_see_all"),text:l("menu_map_lbl_saved_ads"),icon:"home",isVisible:Boolean(r.totalCount)}),(0,s.jsx)(Ot,{type:_t.REALESTATES,stripCustomClass:a,children:c})]})},fallbackComponent:Ft,dataCy:`last-things-${_t.REALESTATES}`}};function sa(e){let{id:t,customClass:a,...l}=e;const n=(0,Oe.VA)(),{dataCy:i,component:r,fallbackComponent:o}=aa[t];return(0,s.jsx)("section",{className:a,"data-cy":i,children:"saved_listings"===t||"saved_searches"===t?(0,s.jsx)(pt.S,{FallbackComponent:o&&(0,s.jsx)(o,{...l}),children:(0,s.jsx)(gt.e,{when:n,fallback:(0,s.jsx)(ft,{...l}),children:(0,s.jsx)(r,{...l})})}):(0,s.jsx)(r,{...l})})}var la=a(27124),na=a(96193),ia=a(97249),ra=a(78925),oa=a(25098),ca="https://s1.immobiliare.it/_next/static/media/disegna-mappa.99ae043f3743edd4.svg",da="https://s1.immobiliare.it/_next/static/media/mercato-immobiliare.4f07df2bf46ac613.svg",ua="https://s1.immobiliare.it/_next/static/media/mutui.244ee72e07e046a0.svg",ma="https://s1.immobiliare.it/_next/static/media/my-home.804b05b851e466d9.svg",ha="https://s1.immobiliare.it/_next/static/media/pubblica-annuncio.3ac8a6b8beacab3e.svg",_a="https://s1.immobiliare.it/_next/static/media/valutazione-immobiliare.e4a4ffe712d0c047.svg";var pa=a(7424),ga=a(85449);const va=()=>{const e=(()=>{const{trans:e}=(0,n.T_)(),{defaultLocale:t,locale:a}=(0,m.useRouter)(),s=(0,jt.s)(),i=(0,ga.H)();return(0,l.useMemo)((()=>{const l=(0,f.c)("SELLER_LEAD")&&!s,n=(0,f.c)("MY_HOME")&&!s,r=[...i],o=(0,K.t)("sellerLeadUrl"),c=(0,K.t)("myHomeUrl"),d=t=>t.text===e("ftr_slim_appraise_house");if(l&&o){const s=r.findIndex(d);r.splice(s,0,{isClientSideNavigation:!1,text:e("lbl_sell_house",{capitalize:!0}),link:{url:(0,J._J)((0,pa.v_)(o,"from=navbar"),t,a)},props:{rel:"nofollow"},isNew:!1})}if(n&&c){const s=r.findIndex(d)+1;r.splice(s,0,{isClientSideNavigation:!1,text:e("mh.main_label",{capitalize:!0}),link:{url:(0,J._J)((0,pa.v_)(c,"from=navbar"),t,a)},props:{rel:"nofollow"},isNew:!0})}return r}),[t,a,i])})();return(0,l.useMemo)((()=>(e=>({showMenu:!0,menuItems:e}))(e)),[e])};var Ca,Ea=a(5232),fa=a(89399),xa=a(33830),ba=a(93940),Aa=a(89421),Sa=a(91978),Na=a(39237);!function(e){e.CONTRACT="idContratto",e.CATEGORY="idCategoria",e.PRICE="prezzo",e.MIN_PRICE="prezzoMinimo",e.MAX_PRICE="prezzoMassimo",e.SURFACE="superficie",e.MIN_SURFACE="superficieMinima",e.MAX_SURFACE="superficieMassima",e.TYPOLOGY="idTipologia",e.LANGUAGE="__lang",e.PLACE="place",e.AUTOCOMPLETE="autocomplete",e.AUTOCOMPLETE_INTERNATIONAL="autocompleteInternational",e.AUTOCOMPLETE_HOLIDAY="autocompleteHoliday",e.AGENCY="keywords",e.AGENCY_GROUP="idFranchising",e.AGENCY_ASSOCIATION="fkAssociazione",e.SORT_CRITERION="criterio",e.MIN_NUMBER_OF_ROOMS="localiMinimo",e.MAX_NUMBER_OF_ROOMS="localiMassimo",e.MIN_BEDROOMS="camereDaLettoMinimo",e.MAX_BEDROOMS="camereDaLettoMassimo"}(Ca||(Ca={}));var ya=a(45419),Ta=a(52104);const ja=()=>({field:Ca.CATEGORY,icon:{name:"palaces",spriteUrl:Ta},type:"category",label:"lbl_typology",customClasses:"hp-searchForm__multiSelect",controlCustomClasses:"hp-searchForm__multiSelectLabel"}),Ia=()=>({field:Ca.CATEGORY,icon:{name:"palaces",spriteUrl:Ta},label:"lbl_typology",type:"categoryResidential",customClasses:"hp-searchForm__multiSelect",controlCustomClasses:"hp-searchForm__multiSelectLabel"}),Ra=e=>{const t=[We.l$.AFFITTO===e?{condition:{[Ca.CONTRACT]:[We.l$.AFFITTO]},min:200,max:8e3,step:{0:50,1e3:100,2e3:500}}:{min:5e4,max:5e6,step:{0:1e4,1e5:2e4,4e5:5e4,1e6:5e5,2e6:2e5,3e6:5e5}}];return{field:Ca.PRICE,icon:{name:"money",spriteUrl:Ta},type:"range",label:"lbl_price",fromName:Ca.MIN_PRICE,toName:Ca.MAX_PRICE,translationKeys:{label:"price_range_label",fromValue:{label:"price_range_min_only"},toValue:{label:"price_range_max_only"},fromToValue:"price_range_min_max_dash",value:"price_range_value",from:"price_range_label_from",to:"price_range_label_to",title:"price_range_label"},shortLabelValues:!0,conditionType:"and",range:t}},La=()=>({field:Ca.SURFACE,icon:{name:"size",spriteUrl:ya},type:"range",label:"lbl_measurement",fromName:Ca.MIN_SURFACE,toName:Ca.MAX_SURFACE,translationKeys:{label:"surface_range_label",fromValue:{label:"surface_range_min_only"},toValue:{label:"surface_range_max_only"},fromToValue:"surface_range_min_max_dash",value:"surface_range_value",from:"surface_range_label_from",to:"surface_range_label_to",title:"surface_range_label"},conditionType:"or",range:[{min:20,max:1e3,step:{0:20,200:50,400:100}}]}),Oa=e=>{const t=(0,K.t)("geographySearch");return{field:Ca.PLACE,type:"place",label:null,drawEnabled:t.drawEnabled,distanceSearchEnabled:(0,f.c)("LISTINGS_DISTANCE_SEARCH"),metroEnabled:(0,f.c)("LISTINGS_METRO_SEARCH"),regionSearchEnabled:(0,f.c)("REGION_SEARCH_ENABLED"),countrySearchEnabled:(0,f.c)("COUNTRY_SEARCH_ENABLED"),internationalEnabled:(0,f.c)("INTERNATIONAL_SEARCH_ENABLED"),autorefill:!1,onAutoSubmit:e,customClasses:"hp-searchForm__item--location"}},Ma=e=>{const t=(0,K.t)("geographySearch");return{field:Ca.PLACE,type:"place",label:null,drawEnabled:t.drawEnabled,distanceSearchEnabled:(0,f.c)("LISTINGS_DISTANCE_SEARCH"),metroEnabled:(0,f.c)("LISTINGS_METRO_SEARCH"),regionSearchEnabled:(0,f.c)("REGION_SEARCH_ENABLED"),countrySearchEnabled:(0,f.c)("COUNTRY_SEARCH_ENABLED"),internationalEnabled:!1,autorefill:!1,onAutoSubmit:e,customClasses:"hp-searchForm__item--location"}},ka=e=>"myHome"===e?{field:Ca.AUTOCOMPLETE,type:"autocomplete",endpoint:"myHome",label:"appraise_autocomplete_placeholder",customClasses:"hp-searchForm__item--location is-leftRounded"}:"international"===e?{field:Ca.AUTOCOMPLETE_INTERNATIONAL,type:"autocomplete",endpoint:"international",label:"hp_foreign_houses_form_required_location_placeholder",customClasses:"hp-searchForm__item--location"}:"holiday"===e?{field:Ca.AUTOCOMPLETE_HOLIDAY,type:"autocomplete",endpoint:"holiday",label:"hp_vacations_form_location_placeholder",customClasses:"hp-searchForm__item--location"}:{field:Ca.AUTOCOMPLETE,type:"autocomplete",endpoint:"national",label:"appraise_autocomplete_placeholder",customClasses:"hp-searchForm__item--location is-leftRounded"},wa=(e,t,a)=>{const s=e.isAlternate,l=We.v0.RICERCA_INTERNAZIONALE===`${e.categoryId}`,n=We.v0.TURISTICO===`${e.categoryId}`;return l?{[Ge.INTERNATIONAL_SALE]:$a(We.l$.VENDITA,a),[Ge.INTERNATIONAL_RENT]:$a(We.l$.AFFITTO,a)}:n?{[Ge.HOLIDAY]:Ya()}:{sale:Ba(s,a),rent:Pa(s,a),[Ge.SELLER]:(0,f.c)("SELLER_LEAD")&&!s?Ha:void 0,[Ge.APPRAISE]:(0,f.c)("EVALUATE_BUILDING")&&!s?Fa(s):void 0,[Ge.MYHOME]:(0,f.c)("SEARCH_TAB_MY_HOME")&&!s?Ga:void 0,[Ge.AUCTION]:(0,f.c)("AUCTIONS_ENABLED")?Da(s,a):void 0,[Ge.AGENCIES]:Ua(t)}},Ba=(e,t)=>{const a=We.l$.VENDITA;return{text:(0,f.c)("EVALUATE_BUILDING")&&!e?"lbl_buy":"lbl_for_sale",inputs:[Oa(t),ja(),Ra(a),La()],contractId:a}},Pa=(e,t)=>{const a=We.l$.AFFITTO;return{text:(0,f.c)("EVALUATE_BUILDING")&&!e?"lbl_rent":"lbl_for_rent",inputs:[Oa(t),ja(),Ra(a),La()],contractId:a}},Da=(e,t)=>{const a=We.l$.ASTE;return{text:(0,f.c)("EVALUATE_BUILDING")&&!e?"lbl_for_auction":"lbl_auction",inputs:[Ma(t),ja(),Ra(a),La()],contractId:a}},Fa=e=>({text:(0,f.c)("SELLER_LEAD")&&!e?"lbl_evaluate":"ftr_slim_appraise_house",inputs:[ka("national")]}),Ha={text:"lbl_sell",inputs:[ka("national")],isNew:!1},Ga={text:"mh.main_label",inputs:[ka("myHome")],isNew:!0},Ua=e=>{const t=(null===e||void 0===e?void 0:e.associations)&&e.associations.length>0?(e=>({field:Ca.AGENCY_ASSOCIATION,type:"select",label:"hp_form_agency_association_label",options:e}))(e.associations):null,a=(null===e||void 0===e?void 0:e.associations)&&e.franchising.length>0?(e=>({field:Ca.AGENCY_GROUP,type:"select",label:"hp_form_agency_group_label",options:e,capitalize:!1}))(e.franchising):null,s={field:Ca.AGENCY,type:"input",label:"hp_form_agency_name_placeholder",customClasses:"hp-searchForm__item--input is-leftRounded"};return{text:"lbl_agency",inputs:[{field:Ca.PLACE,type:"place",label:null,drawEnabled:!1,distanceSearchEnabled:!1,metroEnabled:!1,regionSearchEnabled:!1,countrySearchEnabled:(0,f.c)("SEARCH_AGENCIES_COUNTRY"),internationalEnabled:(0,f.c)("SEARCH_AGENCIES_COUNTRY"),customClasses:"hp-searchForm__item--location"},s,t,a].filter(Na.vJ)}},$a=(e,t)=>({text:e===We.l$.VENDITA?"lbl_for_sale":"lbl_for_rent",inputs:[(0,f.c)("INTERNATIONAL_SEARCH_ENABLED")?Oa(t):ka("international"),(0,f.c)("INTERNATIONAL_SEARCH_ENABLED")?{field:Ca.CATEGORY,icon:{name:"palaces",spriteUrl:Ta},label:"lbl_typology",type:"categoryInternational",customClasses:"hp-searchForm__multiSelect",controlCustomClasses:"hp-searchForm__multiSelectLabel"}:Ia(),Ra(e),La()],contractId:e}),Ya=()=>({text:"lbl_for_sale",inputs:[ka("holiday"),Ia(),Ra(We.l$.VENDITA),La()],contractId:We.l$.VENDITA}),Wa=(e,t)=>e?t.inputs.filter((e=>"range"===e.type&&e.field!==Ca.SURFACE||"select"===e.type)):t.inputs.filter((e=>"range"===e.type||"select"===e.type));var Va=a(72126);const za=()=>{const e=(0,ba._g)(Sa.NB);(0,l.useEffect)((()=>{const t=localStorage.getItem(Va.J),a=t?JSON.parse(t):null;e(a)}),[e])};var qa=a(77788),Ka=a(5099),Za=a(79385),Ja=a(59584);var Xa=a(73413);const Qa=(0,f.c)("LISTING_SEARCH_NEW_SORTING"),es=[Ge.SALE,Ge.RENT,Ge.AUCTION,Ge.INTERNATIONAL_SALE,Ge.INTERNATIONAL_RENT,Ge.AGENCIES],ts=()=>{const e=(0,m.useRouter)(),t=(0,o.Dv)($e),a=(0,o.Dv)(Ye),s=(0,ba.Az)(Sa.NB),n=(0,ba.Az)(qa._),i=(0,ba._g)(Ka.Js),[r,c]=(0,l.useState)(null),{trackSearchFromHomepage:d}=(()=>{const e=(0,ce.S)(),{user:t}=(0,Nt.Eu)();return{trackSearchFromHomepage:(0,l.useCallback)((a=>{var s;const{geographyData:l,geographyParams:n,homepageFormState:i}=a,r=null!==i&&void 0!==i?i:{};e(de.B_.SEARCH_FROM_HOME,{"Type of Search":(0,xa.ge)(l),"Category Filter":r.idCategoria?r.idCategoria:void 0,"Contract Filter":r.idContratto?xa.eH[r.idContratto]:void 0,"Type Filter":(null===(s=r.idTipologia)||void 0===s?void 0:s.length)?r.idTipologia:void 0,"Max Price Filter":r.prezzoMassimo,"Max Surface Filter":r.superficieMassima,"Min Price Filter":r.prezzoMinimo,"Min Surface Filter":r.superficieMinima,"Is User Logged":Boolean(t),...(0,xa.jV)({searchParams:n,geographyData:l})})}),[t,e])}})();(0,l.useEffect)((()=>{c(null)}),[t]);const u=e=>e&&e!==window.location.pathname,h=(e=>e===Ge.APPRAISE?`${(0,K.t)("evaluateBuildingUrl")}valuta-inizio`:e===Ge.SELLER?(0,K.t)("sellerLeadUrl"):e===Ge.MYHOME?(0,K.t)("myHomeUrl"):void 0)(t);return{onSubmit:()=>{c("loading"),(0,Xa.L)((()=>{const l=a[t];if(l&&es.includes(t)&&i(l),[Ge.APPRAISE,Ge.SELLER,Ge.MYHOME].includes(t)&&void 0!==h){var r,o,m,_;if(!(null===(r=a[t])||void 0===r?void 0:r.a)&&!(null===(o=a[t])||void 0===o?void 0:o.q))return void c("error");const e=(0,Z.pk)(h,{a:null===(m=a[t])||void 0===m?void 0:m.a,q:null===(_=a[t])||void 0===_?void 0:_.q,from:"home"});u(e)&&(window.location.href=e),c(null)}else if(((0,f.c)("INTERNATIONAL_SEARCH_ENABLED")||Ge.INTERNATIONAL_SALE!==t&&Ge.INTERNATIONAL_RENT!==t)&&Ge.HOLIDAY!==t)try{var p;const l=!Object.keys(s||{}).length,i=t===Ge.AGENCIES,r=i&&(0,f.c)("AGENCIES_HOMEPAGE_SEARCH_LOCALITY_DISABLED"),o=null===(p=a[t])||void 0===p?void 0:p.idFranchising;if(l&&!r&&!o)throw new Error("No geography setted");const m=i?"/api-next/agencies/url-resolver/":"/api-next/search-list/url-resolver/";return L.d.get(m,{searchParams:{...a[t],...n,...!Qa&&{[Za.M.SORT_CRITERION]:Ja.Cz.relevance},__lang:e.locale}}).json().then((l=>{const i="string"===typeof l?l:l.url;u(i)?(d({geographyData:s,geographyParams:n,homepageFormState:a[t],homepageFormKey:t}),t===Ge.AGENCIES?window.location.href=(0,J._J)(i,e.defaultLocale,e.locale):e.push(i,void 0,{shallow:!0})):c(null)}))}catch{c("error")}else try{if((Ge.INTERNATIONAL_SALE===t||Ge.INTERNATIONAL_RENT===t)&&!a[t].city)throw new Error("No geography setted");if(Ge.HOLIDAY===t&&!a[t].area&&!a[t].city)throw new Error("No geography setted");const e=Ge.HOLIDAY===t?"Seconde case":"Estero";var g;const s=`${a[t].idCategoria}_${null!==(g=a[t].idTipologia[0])&&void 0!==g?g:""}`;L.d.get("/api-next/search-list/external-search-url-resolver/",{searchParams:{category:s,vertical:e,contract:a[t].idContratto,minPrice:a[t].prezzoMinimo,maxPrice:a[t].prezzoMassimo,minSurface:a[t].superficieMinima,maxSurface:a[t].superficieMassima,area:a[t].area,city:a[t].city}}).json().then((e=>null===e||void 0===e?void 0:e.url)).then((e=>{u(e)?window.location.href=e:c(null)}))}catch{c("error")}}))},submitState:r}};var as=a(60900);const ss=e=>{var t,a;const s=!!(0,f.c)("SEARCH_AGENCIES_COUNTRY")||(null===e||void 0===e||null===(t=e.value[0])||void 0===t?void 0:t.type)!==as.l.country;return"place"===(null===e||void 0===e?void 0:e.searchType)&&(null===(a=e.value[0])||void 0===a?void 0:a.type)!==as.l.region&&s&&(!(0,f.c)("INTERNATIONAL_SEARCH_DISABLE_AGENCIES")||(0,Aa.Nr)(e,as.l.country)===(0,K.t)("countryCode"))},ls=e=>!(0,f.c)("INTERNATIONAL_SEARCH_DISABLE_AUCTIONS")||!e||("place"!==e.searchType||(0,Aa.Nr)(e,as.l.country)===(0,K.t)("countryCode")),ns=()=>{const[e,t]=(0,ba.xX)(Sa.NB),[a,s]=(0,l.useState)(e),n=(0,l.useRef)(!1),i=(0,o.Dv)($e);(0,l.useEffect)((()=>{const l=n.current?a:e;i===Ge.AGENCIES&&!ss(l)||i===Ge.AUCTION&&!ls(l)?(n.current=!0,t(null),s(l)):(t(a),n.current=!1)}),[i]),(0,l.useEffect)((()=>{if(!e&&n.current)return;const a=i===Ge.AUCTION&&!ls(e),l=i===Ge.AGENCIES&&!ss(e);(a||l)&&(n.current=!0,t(null)),s(e)}),[e])};var is=a(52665);const rs=e=>{const[t,a]=(0,o.KO)($e),s=(0,is.Y)();(0,l.useMemo)((()=>{if(!s)return;const l=(e=>We.v0.RICERCA_INTERNAZIONALE===`${e.categoryId}`&&We.l$.VENDITA===`${e.contractId}`?Ge.INTERNATIONAL_SALE:We.v0.RICERCA_INTERNAZIONALE===`${e.categoryId}`&&We.l$.AFFITTO===`${e.contractId}`?Ge.INTERNATIONAL_RENT:We.v0.TURISTICO===`${e.categoryId}`?Ge.HOLIDAY:We.l$.VENDITA===`${e.contractId}`&&We.aA.ASTE!==`${e.categoryId}`&&We.v0.AGENZIA!==`${e.categoryId}`?Ge.SALE:We.l$.AFFITTO===`${e.contractId}`&&We.aA.ASTE!==`${e.categoryId}`&&We.v0.AGENZIA!==`${e.categoryId}`?Ge.RENT:We.aA.ASTE===`${e.categoryId}`?Ge.AUCTION:We.v0.AGENZIA===`${e.categoryId}`?Ge.AGENCIES:null)(e);l!==t&&a(null!==l&&void 0!==l?l:Ge.SALE)}),[t,s,e,a])};var os=a(5510),cs=a.n(os);function ds(e){let{forms:t}=e;const{trans:a}=(0,n.T_)(),[i,c]=(0,o.KO)($e),[,d]=(0,l.useTransition)(),u=e=>{d((()=>{c(e)}))};return(0,s.jsx)("nav",{className:(0,r.W)("nd-tabs",cs()["hp-searchContract"]),role:"tablist","aria-label":"search-form",children:Object.keys(t).map(((e,l)=>{const n=t[e];var o;const c=null!==(o=null===n||void 0===n?void 0:n.text)&&void 0!==o?o:null;return c&&(0,s.jsxs)("button",{onClick:()=>u(e),role:"tab",onKeyDown:t=>{"Enter"!==t.key&&13!==t.keyCode||u(e)},type:"button","aria-selected":i===e,id:`${e}-tab`,"aria-controls":e,className:(0,r.W)("nd-tabs__item",cs()["hp-searchContract__link"],i===e&&cs()["is-active"],(null===n||void 0===n?void 0:n.isNew)&&"nd-badgeContainer"),children:[a(c,{count:e===Ge.AGENCIES?2:1,capitalize:!0}),(null===n||void 0===n?void 0:n.isNew)&&(0,s.jsx)(ee.e,{variant:"promotion",customClass:cs()["hp-searchContract__badge"],position:"topRight",children:"New"})]},l)}))})}var us=a(58020),ms=a(88231),hs=a(31314);const _s=(0,l.memo)((function(e){let{fieldConfig:t,onChange:a}=e;const{trans:l}=(0,n.T_)(),i="international"===t.endpoint,r="holiday"===t.endpoint,o="myHome"===t.endpoint;return(0,s.jsx)(hs.F2,{inputIcon:t.icon,inputPlaceholder:t.label?l(t.label):void 0,onChange:e=>{if(a){if(i&&e[0].id)return a("city",e[0].id);if(r&&e[0].id&&4===e[0].type)return a("area",e[0].id);if(r&&e[0].id&&e[0].type===as.l.city)return a("city",e[0].id);e[0].label&&a("a",e[0].label),e[0].center&&a("q",`${e[0].center.lat},${e[0].center.lng}`)}},url:i?"/api-next/geography/autocomplete/?service=autointernational&query={query}":r?"/api-next/geography/autocomplete/?service=autoarea&contract=1&query={query}":o?"/api-mh/v2/autocomplete/address?q={query}":"/api-vi/v2/autocomplete/address?q={query}"})}));var ps=a(56797);const gs=(0,l.memo)((function(e){let{fieldConfig:t,customClass:a,selectedClass:l,onChange:i}=e;const{trans:c}=(0,n.T_)(),d=(0,o.Dv)($e),u=(0,o.Dv)(Ye);var m;return(0,s.jsx)(ps.c,{name:t.field,type:"text",placeholder:t.label?c(t.label):void 0,customClass:(0,r.W)(a,l),onChange:e=>{i&&i(t.field,e.target.value)},value:null!==(m=u[d]&&u[d][t.field])&&void 0!==m?m:""})}));var vs=a(49434),Cs=a(42113);const Es=(0,ba.Gw)({key:"categoriesConfig",default:()=>(0,Cs.m)({}),deepEqualityCheck:!0});var fs=a(19733);const xs=(e,t)=>null===e?null:t&&0!==t.length?t.map((t=>`${e}_${t}`)):[`${e}_`],bs=(0,l.memo)((function(e){let{fieldConfig:t,customClass:a,controlCustomClass:i,selectedClass:c,onChange:d}=e;var u,m;const{trans:h}=(0,n.T_)(),_=(0,o.Dv)($e),p=(0,o.Dv)(Ye);var g;const v=null!==(g=null===(u=p[_])||void 0===u?void 0:u[Ca.TYPOLOGY])&&void 0!==g?g:null;var C;const E=null!==(C=null===(m=p[_])||void 0===m?void 0:m[Ca.CATEGORY])&&void 0!==C?C:null,f=(0,ba.Az)(Es),x=(0,l.useMemo)((()=>{var e;return null!==(e=(e=>{const t=e.filter((e=>e.categoryId===We.aA.RESIDENZIALE)).map((e=>({selected:!1,label:e.label,value:e.value,children:e.children.map((e=>({selected:!1,label:e.label,value:`${e.categoryId}_${e.typologyId}`,children:[]})))})));return t.forEach((e=>{e.children.length>0&&e.children.unshift({selected:!1,label:"lbl_all_typologies",value:e.value,children:[]})})),t})(f).map((e=>({...e,label:h(e.label),children:e.children.map((e=>({...e,label:h(e.label)})))}))))&&void 0!==e?e:[]}),[f,h]),b=(0,l.useMemo)((()=>{let e=xs(E,v);if(!(e&&Boolean(x.find((t=>t.children.length>0?t.children.find((t=>(e||[]).includes(t.value))):(e||[]).includes(t.value)))))){var t;const a=null===(t=x[0])||void 0===t?void 0:t.value.split("_")[0];d&&(d(Ca.CATEGORY,a),d(Ca.TYPOLOGY,null)),e=xs(a,null)}return e}),[E,v,x,d]);return x?(0,s.jsx)(vs.C,{customClass:(0,r.W)(a,(null!==E||null!==b)&&c),customControlClasses:i,fieldLabel:t.label||void 0,options:x,value:null===b||void 0===b?void 0:b.join(","),onChange:e=>{if(!e)return;const t=e.map((e=>e.split("_"))),a=t.map(fs.S).filter(Na.vJ),s=t[0][0];d&&(d(Ca.CATEGORY,s),d(Ca.TYPOLOGY,a))}}):null}));var As=a(14265);const Ss=(0,l.memo)((function(e){let{fieldConfig:t,customClass:a,selectedClass:l,onChange:n}=e;var i,c;const d=(0,o.Dv)($e),u=(0,o.Dv)(Ye);var m;const h=null!==(m=null===(i=u[d])||void 0===i?void 0:i[t.fromName])&&void 0!==m?m:null;var _;const p=null!==(_=null===(c=u[d])||void 0===c?void 0:c[t.toName])&&void 0!==_?_:null,g=t.range[0],v=t.translationKeys;var C;return(0,s.jsx)(As.L,{customClass:(0,r.W)(a,(null!==h||null!==p)&&l),fieldLabel:null!==(C=t.label)&&void 0!==C?C:void 0,min:g.min,max:g.max,minvalue:parseInt(String(h),10),maxvalue:parseInt(String(p),10),step:g.step,translationKeys:v,onChange:e=>{n&&(n(t.fromName,e.min),n(t.toName,e.max))},keepZeros:t.keepZeros,shortLabelValues:t.shortLabelValues})}));var Ns=a(8561);const ys=(0,l.memo)((function(e){let{fieldConfig:t,customClass:a,selectedClass:i,onChange:c}=e;const{trans:d}=(0,n.T_)(),u=(0,o.Dv)($e),m=(0,o.Dv)(Ye),h=t.label?d(t.label,{capitalize:!0}):"",_=(0,l.useMemo)((()=>{const e=t.options.map((e=>({label:d(e.value),value:e.id})));return e.unshift({label:(0,ne.kC)(d("hp_form_select_whichever")),value:""}),e}),[t.options,d]);return(0,s.jsx)(Ns.Uu,{customClass:(0,r.W)(a,i),title:h,options:_,shouldCapitalize:t.capitalize,value:_.find((e=>{var a;return e.value===((null===(a=m[u])||void 0===a?void 0:a[t.field])||"")})),placeholder:(0,ne.kC)(d(h)),onChange:e=>{c&&c(t.field,e.value)},confirmLabel:d("act_confirm")})})),Ts=(e,t)=>null===e?null:t&&0!==t.length?t.map((t=>`${e}_${t}`)):[`${e}_`],js=(0,l.memo)((function(e){let{fieldConfig:t,customClass:a,controlCustomClass:i,selectedClass:c,onChange:d}=e;var u,m,h;const{trans:_}=(0,n.T_)(),p=(0,o.Dv)($e),g=(0,o.Dv)(Ye);var v;const C=null!==(v=null===(u=g[p])||void 0===u?void 0:u[Ca.TYPOLOGY])&&void 0!==v?v:null;var E;const f=null!==(E=null===(m=g[p])||void 0===m?void 0:m[Ca.CATEGORY])&&void 0!==E?E:null,x=null===(h=g[p])||void 0===h?void 0:h[Ca.CONTRACT],b=(0,ba.Az)(Es),A=(0,l.useMemo)((()=>{var e;return null!==(e=x&&((e,t)=>{const a=e.filter((e=>e.contracts.includes(t))).map((e=>({selected:!1,label:e.label,value:e.value,children:e.children.map((e=>({selected:!1,label:e.label,value:`${e.categoryId}_${e.typologyId}`,children:[]})))})));return a.forEach((e=>{e.children.length>0&&e.children.unshift({selected:!1,label:"lbl_all_typologies",value:e.value,children:[]})})),a})(b,x).map((e=>({...e,label:_(e.label),children:e.children.map((e=>({...e,label:_(e.label)})))}))))&&void 0!==e?e:[]}),[b,x,_]),S=(0,l.useMemo)((()=>{let e=Ts(f,C);if(!(e&&Boolean(A.find((t=>t.children.length>0?t.children.find((t=>e.includes(t.value))):e.includes(t.value)))))){var t;const a=null===(t=A[0])||void 0===t?void 0:t.value.split("_")[0];e=Ts(a,null)}return e}),[f,C,A]);var N;return A?(0,s.jsx)(vs.C,{customClass:(0,r.W)(a,(null!==f||null!==S)&&c),customControlClasses:i,fieldLabel:null!==(N=t.label)&&void 0!==N?N:void 0,options:A,value:null===S||void 0===S?void 0:S.join(","),onChange:e=>{if(!e)return;const t=e.map((e=>e.split("_"))),a=t.map(fs.S).filter(Na.vJ),s=t[0][0];d&&(d(Ca.CATEGORY,s),d(Ca.TYPOLOGY,a))},forceOptionClosed:!0}):null})),Is=(0,l.memo)((function(e){let{customClass:t,controlCustomClass:a,selectedClass:l,onChange:i}=e;const{trans:o}=(0,n.T_)(),c=(0,ba.Az)(Es).filter((e=>e.categoryId===We.aA.RESIDENZIALE)).map((e=>{var t;return{selected:!1,label:o(e.label),value:e.value,children:null===(t=e.children)||void 0===t?void 0:t.map((e=>({selected:!1,label:o(e.label),value:`${e.categoryId}_${e.typologyId}`})))}})).shift();var d;return(0,s.jsx)(vs.C,{customClass:(0,r.W)(t,l),customControlClasses:a,options:null!==(d=null===c||void 0===c?void 0:c.children)&&void 0!==d?d:[],onChange:e=>{e||(e=[`${We.aA.RESIDENZIALE}_`]);const t=e.map((e=>e.split("_"))),a=t.map(fs.S).filter(Na.vJ),s=t[0][0];i&&(i(Ca.CATEGORY,s),i(Ca.TYPOLOGY,a))}})})),Rs=(0,l.memo)((function(e){let{fieldConfig:t,error:a,onChange:l,customClass:n,containerCustomClass:i,iconCustomClass:o,controlCustomClass:c,geographyTagCustomClass:d,selectedClass:u}=e;switch(t.type){case"input":return(0,s.jsx)(gs,{fieldConfig:t,customClass:n,selectedClass:u,onChange:l});case"category":return(0,s.jsx)(js,{fieldConfig:t,customClass:n,controlCustomClass:c,selectedClass:u,onChange:l});case"categoryResidential":return(0,s.jsx)(Is,{fieldConfig:t,customClass:n,controlCustomClass:c,selectedClass:u,onChange:l});case"categoryInternational":return(0,s.jsx)(bs,{fieldConfig:t,customClass:n,controlCustomClass:c,selectedClass:u,onChange:l});case"range":return(0,s.jsx)(Ss,{fieldConfig:t,customClass:n,selectedClass:u,onChange:l});case"select":return(0,s.jsx)(ys,{fieldConfig:t,customClass:n,selectedClass:u,onChange:l});case"place":return(0,s.jsx)("div",{className:n,children:(0,f.c)("REACT_GEOGRAPHY_SEARCH")?(0,s.jsx)(ms.c,{searchFeatures:{metroSearch:t.metroEnabled,areaSearch:t.drawEnabled,regionSearch:t.regionSearchEnabled,countrySearch:t.countrySearchEnabled,internationalSearch:t.internationalEnabled,labelsForCountry:(0,f.c)("INTERNATIONAL_LABELS_ENABLED"),distanceSearch:t.distanceSearchEnabled},error:a,customClass:i,geographyTagCustomClass:d,onModalGeographySet:t.onAutoSubmit}):(0,s.jsx)(us.N,{drawEnabled:t.drawEnabled,metroEnabled:t.metroEnabled,regionSearchEnabled:t.regionSearchEnabled,countrySearchEnabled:t.countrySearchEnabled,internationalEnabled:t.internationalEnabled,autorefill:t.autorefill,onAutoSubmit:t.onAutoSubmit,searchMetroDisabled:!t.metroEnabled,error:a,customClass:i})});case"autocomplete":{const e={...t,icon:{name:"lens",customClass:(0,r.W)(o,a&&`${o}--error`),isAlternate:a,nameAlternate:"exclamation-mark-circle--active"}};return(0,s.jsx)("div",{className:n,children:(0,s.jsx)("div",{className:i,children:(0,s.jsx)(_s,{fieldConfig:e,onChange:l})})})}default:return null}}));var Ls=a(41586),Os=a.n(Ls);function Ms(e){let{forms:t}=e;var a;const{trans:c}=(0,n.T_)(),{onSubmit:d,submitState:u}=ts(),m=(0,o.Dv)($e),h=(0,o.b9)(Ye),_=(0,l.useCallback)(((e,a)=>{h((s=>{var l;return{...s,[m]:{...s[m],[Ca.CONTRACT]:(null===(l=t[m])||void 0===l?void 0:l.contractId)||null,[e]:a}}}))}),[h,m,t]),[p]=(0,i.G)({to:"sm"}),g=Wa(p,t[m]),v=(0,l.useMemo)((()=>{if(m===Ge.SELLER||m===Ge.APPRAISE||m===Ge.MYHOME)return Os()["is-rightTopRounded"]}),[m]);return(0,s.jsxs)("div",{id:m,role:"tabpanel","aria-labelledby":`${m}-tab`,className:(0,r.W)(Os()["hp-searchForm"],"error"===u&&"has-error"),"data-cy":"search-form",children:[((null===(a=t[m])||void 0===a?void 0:a.inputs.filter((e=>"range"!==e.type&&"select"!==e.type)))||[]).map(((e,t)=>{var a,l,n;return(0,s.jsx)(Rs,{fieldConfig:e,onChange:_,customClass:(0,r.W)(Os()["hp-searchForm__item"],null!==(a=e.customClasses)&&void 0!==a?a:null),containerCustomClass:(n=e.type,"autocomplete"===n?Os()["hp-searchForm__autocomplete"]:"place"===n?Os()["hp-searchForm__autocompletePlace"]:void 0),iconCustomClass:"autocomplete"===e.type?Os()["hp-searchForm__autocompleteIcon"]:void 0,controlCustomClass:(0,r.W)(null!==(l=e.controlCustomClasses)&&void 0!==l?l:null),error:"error"===u,geographyTagCustomClass:Os()["hp-searchForm__geographyTag"]},`${m}-${t}`)})),(0,s.jsx)("div",{className:Os()["hp-searchForm__secondaryFilters"],children:g.map(((e,t)=>(0,s.jsx)(Rs,{fieldConfig:e,onChange:_,customClass:e.field===Ca.SURFACE?Os()["hp-searchForm__secondaryFilters--hidden"]:void 0},`${m}-${t}`)))}),(0,s.jsx)("div",{className:(0,r.W)(Os()["hp-searchForm__button"],v),children:(0,s.jsx)(x._,{variant:"accent",onClick:d,block:!0,loading:"loading"===u,disabled:"loading"===u,"data-cy":"search-button",children:(()=>{switch(m){case Ge.SELLER:return c("lbl_sell");case Ge.APPRAISE:return c("act_evaluate");case Ge.MYHOME:return c("act_start_alt");default:return c("act_search")}})()})})]})}var ks=a(74011),ws=a.n(ks);function Bs(e){let{pageContent:t,pageLookup:a}=e;const[n,i]=(0,l.useState)(!1),{onSubmit:r}=ts(),[o,c]=(0,ba.xX)(Sa.NB),d=(0,l.useCallback)((e=>{if(Array.isArray(e)){const t={searchType:"place",value:e.map((e=>{var t,a;return{id:e.id,type:e.type,label:e.label,parents:null!==(t=e.parents)&&void 0!==t?t:[],children:null!==(a=e.children)&&void 0!==a?a:[]}}))};c(t)}else c((0,Aa.YB)({searchType:"vrt",value:e}));i(!0)}),[c]);(0,l.useEffect)((()=>{n&&r()}),[o,n,r]);const u=(0,l.useMemo)((()=>wa(t,a,d)),[d,t,a]);return rs(t),ns(),za(),(0,s.jsxs)("div",{className:ws()["hp-searchBox"],children:[(0,s.jsx)(ds,{forms:u}),(0,s.jsx)(Ms,{forms:u})]})}Bs.displayName="SearchBox";var Ps=a(50635),Ds=a.n(Ps);const Fs=(0,f.c)("TALL_LOGO");function Hs(e){let{homepageData:t,jotaiAtoms:a}=e;const{trans:d}=(0,n.T_)(),v=(0,o.b9)(la.N),{trackBannerClick:C,trackHomepageViewed:E}=ue();(0,l.useEffect)((()=>{(0,xa.in)(de.N9.HOME),(0,fa.U8)(de.jz.HOMEPAGE)}),[]),(0,l.useEffect)((()=>{E()}),[E]),(0,c.Pu)([[$e,a.homePageFormKey],[Ye,a.homepageFormState]]);const x=va(),b=(0,na.n)(),A=function(){const e=(0,jt.s)(),{trans:t}=(0,n.T_)(),{locale:a,defaultLocale:s}=(0,m.useRouter)(),i=(0,ra.f)(),r=(0,K.t)(e?"alternateDiscoverUrls":"discoverUrls"),o=e=>{switch(e){case oa.U.EVALUATION_BUILDING:return _a;case oa.U.CITYGUIDE:return da;case oa.U.PUBLISH_AD:return ha;case oa.U.DRAW_ON_MAP:return ca;case oa.U.MORTGAGE:return ua;case oa.U.MYHOME:return ma;default:return}},c=(e,t,l)=>{switch(e){case oa.U.DRAW_ON_MAP:return{onClick:()=>i(ia.N3.DrawPolygon)};case oa.U.PUBLISH_AD:return{url:t?(0,J.mr)(t):void 0};case oa.U.EVALUATION_BUILDING:case oa.U.CITYGUIDE:case oa.U.MORTGAGE:default:return t?{url:l?(0,J.jm)(t,s,a):(0,J._J)(t,s,a)}:{}}};return(0,l.useMemo)((()=>r.map((e=>({...c(e.type,e.url,e.externalUrl),title:t(e.title),text:t(e.text),action:t(e.action),image:o(e.type),type:e.type,isNew:e.isNew})))),[a,s])}(),S=(0,Ea.My)("order_home_sections_web",["recent_searches","recent_listings"]),[N]=(0,i.G)({to:"sm"}),y=(0,K.t)("logoConfig"),j=(0,K.t)("headlineSvg"),{defaultLocale:I,locale:R,asPath:L}=(0,m.useRouter)(),{pageContent:O,pageLookup:M,seoSiteMap:k,seoMap:w,pageContent:{headline:F}}=t,H=`${O.categoryId}`===We.v0.AGENZIA,G=(0,f.c)("COUNTRY_SEARCH_SHORTCUT")&&!H;return(0,l.useEffect)((()=>{v(void 0)}),[v]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u(),{children:(0,s.jsx)("link",{rel:"preload",href:y.url,as:"image",type:"image/svg+xml",fetchpriority:"high"})}),(0,s.jsx)("div",{className:Ds()["hp-home__headerAndHero"],children:(0,s.jsxs)(D,{condition:(0,f.c)("SNOWFLAKES")&&(0,it.XL)(),wrapper:e=>(0,s.jsx)(ht,{children:e}),children:[(0,s.jsx)(g.h,{...x,boxed:!0,showUser:!0,customClass:Ds()["hp-home__head"],isBranded:!0}),(0,s.jsxs)(T,{customClass:Ds()["hp-hero"],headline:F.text,showSvgHeadline:j,brand:{url:y.url,width:y.width,height:y.height,svgCustomClass:Fs?Ds()["hp-hero__tallLogo"]:void 0},brandLink:(0,J._J)("/",I,R),onClickText:(U=F.url,U?()=>{setTimeout((()=>{window.open((0,J._J)(U,I,R),"_blank")}),0),C("Logo")}:void 0),children:[(0,s.jsx)(Bs,{pageContent:O,pageLookup:M}),(0,f.c)("NUMBER_ONE_LINK")&&!t.seoSiteMap&&!N&&(0,s.jsx)(Be,{customClass:Ds()["hp-home--mobileHidden"]})]})]})}),!k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(He,{}),G&&(0,s.jsx)(q,{customClass:(0,r.W)(Ds()["hp-home--vspacesTop"],Ds()["hp-home--vspacesSmallBottom"]),titleClass:Ds()["hp-home__titleSection"],stripCustomClass:Ds()["hp-home__strip"],urlPrefix:Q(L,I,R)}),S.map((e=>(0,s.jsx)(sa,{id:e,customClass:(0,r.W)(Ds()["hp-home--vspacesTop"],Ds()["hp-home--vspacesSmallBottom"]),titleClass:Ds()["hp-home__titleSection"],stripCustomClass:Ds()["hp-home__strip"]},e))),(0,s.jsx)(_e,{customClass:Ds()["hp-home--vspaces"]}),(0,f.c)("AGENCIES_EXPERT_HOME")&&(0,s.jsx)(xe,{customClass:Ds()["hp-home--vspaces"],titleClass:(0,r.W)("nd-grid",Ds()["hp-home__titleSection"])}),A.length>0&&(0,s.jsx)(se,{discover:{items:A},customClass:(0,r.W)("nd-grid",!(0,f.c)("DISCOVER_TITLE")&&Ds()["hp-home--vspaces"]),title:(0,f.c)("DISCOVER_TITLE")?d("featured_services",{capitalize:!0}):void 0,titleClass:(0,r.W)("nd-grid",Ds()["hp-home--vspaces"],Ds()["hp-home__titleSection"])}),(0,f.c)("ASSOCIATED_SERVICES")&&(0,s.jsx)(_.p,{customClass:(0,r.W)("nd-grid",Ds()["hp-home--vspaces"]),titleClass:Ds()["hp-home__titleSection"]}),(0,f.c)("DOSSIERS_ENABLED")&&(0,s.jsx)(B,{title:d("lu_dossiers_real_estate",{capitalize:!0}),titleClass:(0,r.W)(Ds()["hp-home__titleSection"],Ds()["hp-home--vspacesBottom"]),customClass:(0,r.W)("nd-grid",Ds()["hp-home--vspaces"])}),(null===w||void 0===w?void 0:w.franchising)&&(0,s.jsx)(Te,{customClass:(0,r.W)("nd-grid",Ds()["hp-home--vspaces"]),franchising:w.franchising})]}),w&&(0,s.jsx)(tt,{pageContent:O,seoMap:w}),k&&(0,s.jsx)(nt,{seoSiteMap:k}),(0,f.c)("MAIN_PARTNER_HOME")&&(0,s.jsx)(Le,{customClass:Ds()["hp-home--vspaces"]}),(0,s.jsx)(p.$,{footerTop:{direction:"column",sections:b,customClass:Ds()["hp-home__footerTop"]}}),(0,s.jsx)(h.y,{withUserTab:!0}),(0,s.jsx)(P.$,{tabSectionActive:"search"})]});var U}},10676:function(e,t,a){a.d(t,{Lc:function(){return d}});var s=a(48927),l=a(26833),n=a(98304),i=a(19187),r=a(9052);const o=(e,t,a)=>["saved-listings",e,t,a],c=(e,t,a)=>(0,n.C)({queryKey:o(e,t,a),queryFn:()=>((e,t)=>r.d.get("/api-next/user/saved-listings/",{searchParams:{...e,__lang:t}}).json())(e,t),enabled:a}),d=()=>{const e=(0,i.K)(),{lang:t}=(0,l.T_)(),{user:a}=(0,s.Eu)();return c(e,t,Boolean(a))}},34794:function(e,t,a){a.d(t,{Cq:function(){return p},rM:function(){return _},xc:function(){return h}});var s=a(48927),l=a(26833),n=a(65756),i=a(16662),r=a(52231),o=a(19187),c=a(92493),d=a(9052),u=a(40401);const m=()=>{const{user:e}=(0,s.Eu)(),{lang:t}=(0,l.T_)(),{filter:a=c.O.ALL,pag:n="1"}=(0,o.K)();return{user:e,lang:t,filter:a,currentPage:Number(n)}},h=()=>{const{user:e,lang:t,filter:a,currentPage:s}=m();return(0,u._)(s,t,Boolean(e),a)},_=()=>{const{user:e,lang:t,filter:a,currentPage:s}=m();return{queryKey:(0,u._)(s,t,Boolean(e),a),queryFn:()=>e?d.d.get("/api-next/user/saved-searches/",{searchParams:{pag:s,filter:a}}).json():Promise.resolve({})}},p=()=>{const{user:e,filter:t,currentPage:a}=m(),{data:s,isFetching:l}=(0,n.a)({..._(),enabled:Boolean(e),placeholderData:i.Wk}),o=(0,r.NL)();return{savedSearchedData:s,currentPage:a,refetchQuery:()=>o.removeQueries({queryKey:["saved-searches"],exact:!1}),isFetching:l,currentFilter:t}}},40401:function(e,t,a){a.d(t,{_:function(){return l},p:function(){return n}});var s=a(92493);const l=(e,t,a,s)=>["saved-searches",e,t,a,s],n=(e,t)=>{let{totalSearches:a,totalContactsEnabled:l,totalRealtimeAlerts:n}=e;return t===s.O.ACTIVE?l:t===s.O.REALTIME?n:a}}}]);
</script>

</body>
</html>
