<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>buyer-responsive-4373.489.0.0.a1b65e75a8797692dc50.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunkapp_buyer_misc=self.webpackChunkapp_buyer_misc||[]).push([[4373],{62478:(e,t,a)=>{a.d(t,{Z:()=>l});let l={iconWrapper:"_a5fc6ce",heart:"_84f99c1c",heartCount:"_eee40aff",icon:"_f351be5d",hoverClass:"_9062743e",dark:"_f7d9c06a",light:"_6fcbf448",isStrokeWidthHeavy:"_1159c49d",pulseIcon:"_631180c2",swell:"_b1b0bc57",isFilled:"_b8dcb742",stopAnimation:"_604d9a98"}},64128:(e,t,a)=>{a.d(t,{Z:()=>u});var l=a(78951),n=a(40797),o=a.n(n),i=a(8891);let r={likeIcon:"_89567d67",showHeartBeat:"_b9aa463c","heart-beat":"_4f436c32",heartBeat:"_4f436c32",isFilled:"_2c3f4c13",dark:"_d7ae057b",light:"_a14a50d9"},s=({className:e,animateHeartBeat:t,isFilled:a,theme:n})=>{let s=o()(e,r.likeIcon,{[r.showHeartBeat]:t,[r.isFilled]:a,[r.dark]:"dark"===n,[r.light]:"light"===n});return(0,l.jsx)(i.Z,{className:s})},u=s},44373:(e,t,a)=>{a.d(t,{Z:()=>M});var l=a(78951),n=a(30349),o=a(64935),i=a(13980),r=a.n(i),s=a(63239),u=a(64128),d=a(48082),c=a(40797),f=a.n(c),m=a(62478);let p=(0,n.lazy)(()=>a.e(8408).then(a.bind(a,80598))),b=(0,s.defineMessages)({label:{id:"dibs-portfolio-heart.HeartIconWrapper.label",defaultMessage:"Save to favorites"}}),g=({count:e})=>{let t=(0,l.jsx)(s.FormattedNumber,{value:e});if(e>999){let a=Math.min(999.9,e/1e3),n=Math.round(10*a)/10,o=(0,l.jsx)(s.FormattedNumber,{value:n});t=(0,l.jsx)(s.FormattedMessage,{id:"HeartIcon.HeartCount.value",defaultMessage:"{count}K",values:{count:o}})}return(0,l.jsx)("div",{className:m.Z.heartCount,children:t})},y=({buttonClass:e,children:t,onClick:a,wrapperComponent:n})=>{let o=(0,s.useIntl)();return"Link"===n?(0,l.jsx)(d.Link,{className:f()(m.Z.iconWrapper,e),ariaLabel:o.formatMessage(b.label),onClick:a,children:t}):(0,l.jsx)("div",{className:f()(m.Z.iconWrapper,e),children:t})},h=({className:e,buttonClass:t,isStrokeWidthHeavy:a=!1,isAnimated:o,isFavorited:i=!1,isFilled:r,useHoverClass:s=!1,onClick:d,onAnimationEnd:c,wrapperComponent:b="Link",hideTotalLikesCount:h=!1,itemId:k,theme:v,heartCount:I,animateHeartPulse:P})=>{let F=f()(m.Z.heart,e),j=f()(m.Z.icon,{[m.Z.isStrokeWidthHeavy]:a,[m.Z.hoverClass]:s,[m.Z.dark]:"dark"===v,[m.Z.light]:"light"===v}),C=i?"item-saved-icon":"item-save-icon",O=`${k}-heart`;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y,{onClick:d,wrapperComponent:b,buttonClass:t,children:(0,l.jsxs)("div",{className:F,onAnimationEnd:c,"data-tn":C,id:O,children:[P&&(0,l.jsx)(n.Suspense,{fallback:"",children:(0,l.jsx)(p,{isFilled:r})}),(0,l.jsx)(u.Z,{className:j,animateHeartBeat:o,isFilled:r,theme:v})]})}),I>0&&!h&&(0,l.jsx)(g,{count:I})]})};function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},l=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),l.forEach(function(t){k(e,t,a[t])})}return e}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function P(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}),e}let F="REMOVE",j=a(70403);function C(e,{action:t,itemsIds:a,portfolioId:l,portfolioItemsIds:n,userId:i,onCompleted:r,onError:s}){let u={action:t,portfolioId:l,userId:i};t===F?u=P(v({},u),{portfolioItemsIds:n}):"ADD"===t&&(u=P(v({},u),{itemsIds:a})),(0,o.commitMutation)(e,{mutation:j,variables:{input:u},onCompleted:r,onError:s})}let O={commit:C};var _=a(71225);function D({forceFavoriteItem:e,portfolioId:t,userId:a,favoriteItem:l,setIsForceFavoriteItem:o}){(0,n.useEffect)(()=>{e&&(o(!1),l({portfolioId:t,userId:a}))},[e,l,t,a,o])}function w(e){var t,a,o,i,r,s;let{authModalShow:u,heartPortfolioItems:d,itemId:c,userId:f,viewer:m,item:p,relay:b,doRefetch:g,onFavorited:y,onUnFavorited:k,onError:v,isStrokeWidthHeavy:I,onHeartClick:P,forceFavoriteItem:j,onIsFilledChange:C,setIsForceFavoriteItem:w,wrapperComponent:S,hideTotalLikesCount:M}=e,H=!!(null==d?void 0:d.length),[L,K]=(0,n.useState)(!1),[x,E]=(0,n.useState)(H),[Z,N]=(0,n.useState)(!1),[T,A]=(0,n.useState)(f&&!d),[V,W]=(0,n.useState)(!1),R=null==m?void 0:null===(t=m.userPortfolios)||void 0===t?void 0:null===(a=t.edges)||void 0===a?void 0:null===(o=a[0])||void 0===o?void 0:null===(i=o.node)||void 0===i?void 0:i.serviceId;(0,n.useEffect)(()=>{C&&C(x)},[x,C]),(0,n.useEffect)(()=>{let e=_.mobile.hasTouch();Z||e||N(!0)},[Z,N]),(0,n.useEffect)(()=>{f&&!d&&W(!0)},[f,d]);let B=(0,n.useCallback)(e=>{if(e.portfolioId&&e.userId){let t=!H||T?"ADD":F;K(!0),W(!0),E("ADD"===t);let a=(d||[]).map(e=>e.portfolioItemId).filter(Boolean);O.commit(b.environment,{action:t,itemsIds:[c],portfolioItemsIds:t===F?a:null,portfolioId:e.portfolioId,userId:e.userId,onCompleted:()=>{"ADD"===t&&y?y():t===F&&k&&k(),g(()=>{W(!1)})},onError:e=>{v&&v(e),E(!x),W(!1)}})}else A(!0),u()},[u,g,d,H,x,T,c,v,y,k,b.environment]),q=(0,n.useCallback)(e=>{e.preventDefault(),V||(P?P(B):B({portfolioId:R,userId:f}))},[V,P,B,R,f]);return D({forceFavoriteItem:j&&!V,portfolioId:R,userId:f,favoriteItem:B,setIsForceFavoriteItem:w}),(0,n.useEffect)(()=>{T&&f&&R&&(B({portfolioId:R,userId:f}),A(!1))},[B,T,R,f]),(0,n.useEffect)(()=>{V||H===x||E(H)},[V,H,x]),(0,l.jsx)(h,{animateHeartPulse:e.animateHeartPulse,className:e.className,buttonClass:e.buttonClass,isFavorited:H,isFilled:L||x,isAnimated:L,isStrokeWidthHeavy:I,useHoverClass:Z,onAnimationEnd:()=>K(!1),onClick:q,type:e.type||"outline",itemId:c,theme:e.theme,heartCount:null!==(s=null==p?void 0:null===(r=p.portfolioItemDetails)||void 0===r?void 0:r.likes)&&void 0!==s?s:null,wrapperComponent:S,hideTotalLikesCount:M})}w.propTypes={className:r().string,buttonClass:r().string,authModalShow:r().func.isRequired,isStrokeWidthHeavy:r().bool,heartPortfolioItems:r().array,forceFavoriteItem:r().bool,itemId:r().string.isRequired,doRefetch:r().func.isRequired,onError:r().func,onFavorited:r().func,onHeartClick:r().func,onUnFavorited:r().func,portfolioId:r().string,relay:r().object,wrapperComponent:r().oneOf(["div","Link"]),hideTotalLikesCount:r().bool,type:r().oneOf(["outline","button"]),userId:r().string,theme:r().oneOf(["dark","light"]),onIsFilledChange:r().func,setIsForceFavoriteItem:r().func,item:r().object,viewer:r().object,animateHeartPulse:r().bool};let S=(0,o.createFragmentContainer)(w,{heartPortfolioItems:a(98006),item:a(7133),viewer:a(57093)});S.defaultProps={item:null};let M=S},98006:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"Heart_heartPortfolioItems",selections:[{alias:null,args:null,kind:"ScalarField",name:"portfolioId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"portfolioItemId",storageKey:null}],type:"PortfolioItemV2",abstractKey:null};l.hash="90ec07cccf758fe32c2edbfb66e9ab69";let n=l},7133:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Heart_item",selections:[{alias:null,args:null,concreteType:"PortfolioItemDetailsType",kind:"LinkedField",name:"portfolioItemDetails",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"likes",storageKey:null}],storageKey:null}],type:"Item",abstractKey:null};l.hash="0465939d9f340770b76b408f34b1d73b";let n=l},57093:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"loadPortfolioData"},{defaultValue:[],kind:"LocalArgument",name:"userIds"}],kind:"Fragment",metadata:null,name:"Heart_viewer",selections:[{condition:"loadPortfolioData",kind:"Condition",passingValue:!0,selections:[{alias:"userPortfolios",args:[{kind:"Literal",name:"first",value:1},{kind:"Literal",name:"portfolioTypes",value:["HEART"]},{kind:"Variable",name:"userIds",variableName:"userIds"}],concreteType:"PortfoliosConnection",kind:"LinkedField",name:"portfolios",plural:!1,selections:[{alias:null,args:null,concreteType:"PortfoliosEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PortfolioV2",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serviceId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Viewer",abstractKey:null};l.hash="42e07cf204098e739b4c84644ee93242";let n=l},70403:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});let l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"ModifyPortfolioItemsPayload",kind:"LinkedField",name:"modifyPortfolioItems",plural:!1,selections:[{alias:null,args:null,concreteType:"PortfolioV2",kind:"LinkedField",name:"portfolio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ModifyPortfolioItemsMutation",selections:t,type:"Mutations",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ModifyPortfolioItemsMutation",selections:t},params:{id:"app-buyer-misc/489.0.0-2024-11-22T20:21:28.069Z/ModifyPortfolioItemsMutation",metadata:{},name:"ModifyPortfolioItemsMutation",operationKind:"mutation",text:null}}}();l.hash="94aed0469fe8b3138bef1ac19d488d29";let n=l}}]);
//# sourceMappingURL=buyer-responsive-4373.489.0.0.a1b65e75a8797692dc50.js.map
</script>

</body>
</html>
