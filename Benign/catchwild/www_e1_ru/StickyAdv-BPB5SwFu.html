<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StickyAdv-BPB5SwFu.html</title>
</head>
<body>

<script>
import{s as P,R,I as V,_ as b,as as w,$ as g,at as T,Z as j,k as q,g as x,S as J}from"./index-DJp284ij.js";import{S as $}from"./hideAboveContentBannersOnReferrers.setup-B4r07k2g.js";import"./vendor-BroXzQGG.js";import{l as G,r as i,Y as K,C as c,B as v,D as p,E as a,K as Y,u as n,V as W,k,i as B,w as Q,q as X,v as ee,S as O,T as se,J as M,G as te}from"./vue-BTg2e_qy.js";import{s as le,a as ae}from"./DelayStickyAdv.setup-DaJ9QwVm.js";const oe=()=>{P("viewSticky",["Реклама",R.PAGE_NAME,"Кастомный стики","Просмотр"])},ne=()=>{P("clickSticky",["Реклама",R.PAGE_NAME,"Кастомный стики","Клик"])},ie={key:1},N=3,ce=G({__name:"StickyCustomPlaceholder",props:{isDisplayed:{type:Boolean}},emits:["close"],setup(d,{emit:m}){const t=d,r=m,e=i(!1),o=i(N);let u;function f(){u=setInterval(()=>{o.value-=1,o.value<1&&(e.value=!0,clearInterval(u))},1e3)}function y(){e.value&&r("close")}return K(()=>{t.isDisplayed?f():(clearInterval(u),o.value=N,e.value=!1)}),(l,S)=>(c(),v("div",{class:a(l.$style.closeContainer)},[p("button",{class:a(l.$style.closeButton)},[p("div",{class:a(l.$style.closeButtonCircle)},[e.value?(c(),Y(n(V),{key:0})):(c(),v("span",ie,W(o.value),1))],2)],2),p("div",{class:a(l.$style.closeClickArea),onClick:y},null,2)],2))}}),re={$style:le},ue=b(ce,[["__cssModules",re]]);function de(d){return{showCustomPlaceholder:k(()=>{const{isInternationalLayout:t}=w(),r=w().findAdunit(g.STICKY);if(!r)return!1;const e=[T.GPT,T.SCROOGE].includes(r.adserver);return d&&t&&e})}}const fe=24*60*60*1e3,ye=3e3,E=250,ve=G({__name:"StickyAdv",props:{bottomOffset:{default:0},delayStickyAfterClose:{type:Boolean},delayStickyRedefine:{}},emits:["beforeDisplay"],setup(d,{emit:m}){const t=d,r=m,e=i(!1),o=i(!1),u=i(!1),f=i(!1);let y;const l=B(x,!1),S=B(J),_=i(),z=k(()=>_.value==="md"),{isStickyAdvShown:I,isStickyTopClosed:L}=q(),{showCustomPlaceholder:A}=de(l),C=k(()=>f.value&&I.value&&!o.value),U=k(()=>({"--bottom-offset":C.value?`${-t.bottomOffset}px`:"0px","--animation-time":E?`${E}ms`:"250ms"})),F=()=>{if(t.delayStickyAfterClose){const s=window.localStorage.getItem($);if(Number(s)>new Date().valueOf())return!0}return!1},D=()=>{if(o.value=!0,t.delayStickyAfterClose){const s=Date.now()+fe;window.localStorage.setItem($,String(s))}t.delayStickyRedefine&&setTimeout(()=>{o.value=!1,e.value=!1},t.delayStickyRedefine),setTimeout(()=>e.value=!0,E),l&&ne()},H=()=>{f.value=!0,l&&oe()},Z=()=>{f.value=!1};return K(()=>{C.value?y=setTimeout(()=>{u.value=!0},ye):clearTimeout(y)}),Q(()=>S==null?void 0:S.value,s=>{_.value=s}),X(()=>{e.value=F(),window.matchMedia("(min-width: 960px) and (max-width: 1263px)").matches&&(_.value="md")}),ee(()=>{clearTimeout(y)}),(s,h)=>!e.value&&!z.value&&n(I)&&n(L)?(c(),v("div",{key:0,style:te(U.value),class:a([s.$style.wrapperSticky,C.value&&s.$style.isDisplayed])},[O(j,{adunit:n(g).STICKY,ssr:!1,allowIntersectionRefresh:!1,class:a([{"mr-8":n(A)},"w-100"]),onDisplay:H,onFailed:Z,onBeforeDisplay:h[0]||(h[0]=Se=>r("beforeDisplay"))},null,8,["adunit","class"]),n(A)?(c(),Y(ue,{key:0,isDisplayed:C.value,onClose:D},null,8,["isDisplayed"])):(c(),v(se,{key:1},[u.value?(c(),v("div",{key:0,class:a(s.$style.closeBtn)},[p("div",{class:a(s.$style.closeBtnClickArea),onClick:D},null,2),O(n(V),{class:a(n(l)?"size-5":"size-6")},null,8,["class"])],2)):M("",!0)],64))],6)):M("",!0)}}),me={$style:ae},Ie=b(ve,[["__cssModules",me]]);export{Ie as U};

</script>

</body>
</html>
