<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>index.html</title>
</head>
<body>

<script>
/*! BMWUSA Vite Build 1731603678170 */
import{m as u,L as d,a as m}from"./index.esm.js";import{b as p,A as f}from"./baseDomain.js";import{o as g,$ as x,x as M,j as w,c as b,k as S,g as $,G as v,t as L}from"/etc.clientlibs/bmwusa/clientlibs/clientlib-site/bmwusa-clientlibs/bmwusa-measurement-data.js";import{g as z}from"./getbyourl.js";import{a as C,s as I}from"./scroll-to.js";import{u as y}from"./uid.js";import{z as P}from"./zipcode.js";const k=n=>[...new Set([].concat(...n))],O=n=>{if(isNaN(n))return!1;const e=Number(n).toFixed(2);return e>0?"$"+e.toString().replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,"):"&nbsp;"},D=n=>({block(){return n},element(e){return`${n}__${e}`},modifier(e){return`${n}--${e}`}}),l={list:[{breakpoint:"sm",min:320,max:767,mobile:!0,tablet:!1,desktop:!1,extraLarge:!1},{breakpoint:"md",min:768,max:1279,mobile:!0,tablet:!0,desktop:!1,extraLarge:!1},{breakpoint:"lg",min:1280,max:1799,mobile:!1,tablet:!1,desktop:!0,extraLarge:!1},{breakpoint:"xl",min:1800,max:1999,mobile:!1,tablet:!1,desktop:!0,extraLarge:!1},{breakpoint:"xxl",min:2e3,max:1/0,mobile:!1,tablet:!1,desktop:!0,extraLarge:!0}],current(){const n=l.list.filter(e=>{const t=e.max==1/0?`(min-width: ${e.min}px)`:`(min-width: ${e.min}px) and (max-width: ${e.max}px)`;if(window.matchMedia(t).matches)return e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight,e})[0];return n||l.list[0]},getValue(n,e){return l.list.filter(t=>{if(t.breakpoint===n)return`size.${e}`})[0][e]},isMobile(){return this.current().mobile},isTablet(){return this.current().tablet},isDesktop(){return this.current().desktop},isExtraLarge(){return this.current().extraLarge},min(n){return this.getValue(n,"min")},max(n){return this.getValue(n,"max")}};function Z(n,{key:e,value:t}){return n[e]=t,n}function E(n){return u(JSON.stringify(n))}class A{constructor(e,t,i){this.baseDomain=p(),this.container=e,this.center=null,this.dragSearch=!1,this.isDetail=!1,this.isMobile=!1,this.map=null,this.markers=[],this.listeners=[],this.options={styles:C,...t},this.startPos=null,this.dispatchDrag=!0,this.optionsInactiveMap={draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0},this.optionsActiveMap={draggable:!0,zoomControl:!0,scrollwheel:!0,disableDoubleClickZoom:!1},this.loader=new d({apiKey:g(),version:"weekly",libraries:["places"]}),this.render=this.render.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.createMarker=this.createMarker.bind(this),this.addCenterMarker=this.addCenterMarker.bind(this),this.setMarkers=this.setMarkers.bind(this),typeof i=="function"?this.onReady=i:this.onReady=()=>{}}async init(){this.loader.load().then(()=>this.onReady()).catch(()=>console.warn("Error loading Google Maps API"))}createMarker(e){const t={map:this.map,zIndex:100,optimized:!1,...e};return new google.maps.Marker(t)}clearMarkers(){for(;this.listeners.length;)google.maps.event.removeListener(this.listeners.pop());for(;this.markers.length;)this.markers.pop().setMap(null)}setMobileDisplay(e){this.isMobile=e;const t={zoomControl:!0,zoomControlOptions:{}};e?t.zoomControlOptions={position:google.maps.ControlPosition.LEFT_TOP}:t.zoomControlOptions={position:google.maps.ControlPosition.RIGHT_BOTTOM},this.map&&this.map.setOptions(t)}centerMap(e,t=!0){e&&e.lat&&this.map.setCenter(new google.maps.LatLng(e.lat,e.lng)),t&&this.map.setOptions(this.optionsInactiveMap)}getCenter(){return this.map.getCenter()}addCenterMarker(e){const t=new google.maps.Size(40,40),i=new google.maps.Point(0,0),s=new google.maps.Point(20,20),r={url:`${this.baseDomain}/content/dam/bmw/common/map-component/pin-center-point.png`,scaledSize:t,origin:i,anchor:s,zIndex:99},c=this.createMarker({position:e,icon:r});this.markers.push(c)}scaleMarkerSize(e){return e.icon.size=new google.maps.Size(30,49),e.icon.scaledSize=new google.maps.Size(30,49),e.icon.anchor=new google.maps.Point(17,42),e}restoreMarkerSize(e){return e.icon.size=new google.maps.Size(19.65,32),e.icon.scaledSize=new google.maps.Size(19.65,32),e.icon.anchor=new google.maps.Point(12,32),e}setActiveMarker(e){this.markers.forEach(t=>{t.icon.type=="default"&&(t.icon.id!=e?(t=this.restoreMarkerSize(t),t.setZIndex(100),t.icon.index?t.icon.url=t.icon.icons.default+(t.icon.index+1)+".png":t.icon.url=t.icon.icons.detail):(t=this.scaleMarkerSize(t),t.icon.url=t.icon.icons.defaultHover+(t.icon.index+1)+".png",t.setZIndex(101))),t.icon.type=="primary"&&(t.icon.id!=e?(t=this.restoreMarkerSize(t),t.setZIndex(100)):(t=this.scaleMarkerSize(t),t.setZIndex(101))),t.setIcon(t.icon)})}setMarkers(e,t=!1){const i=new google.maps.LatLngBounds,s=new google.maps.Size(40,48),r=new google.maps.Point(0,0),c=new google.maps.Point(20,48);if(this.dispatchDrag=e.length>0,e.reverse().forEach(a=>{const h={scaledSize:s,origin:r,anchor:c};Object.assign(h,a);const o=this.createMarker({position:a,icon:h});this.listeners.push(google.maps.event.addListener(o,"click",function(){PubSub.publish("dealermap.map-selected",a)})),this.listeners.push(google.maps.event.addListener(o,"mouseover",function(){o.icon.type=="default"&&(o.icon.url=o.icon.icons.defaultHover+(o.icon.index+1)+".png",o.setIcon(o.icon),o.setZIndex(101))})),this.listeners.push(google.maps.event.addListener(o,"mouseout",function(){o.icon.type=="default"&&(o.icon.url=o.icon.icons.default+(o.icon.index+1)+".png",o.setIcon(o.icon),o.setZIndex(100))})),this.dispatchDrag&&i.extend(o.getPosition()),this.markers.push(o)}),this.map){if(this.dispatchDrag&&!this.isDetail)this.dragSearch||this.map.fitBounds(i),this.markers.length==1&&this.map.setZoom(13),t&&(e[0].distance>200?this.map.setZoom(6):this.map.setZoom(7));else{const a=e[0];a&&(this.map.setCenter(new google.maps.LatLng(a.lat,a.lng)),this.map.setZoom(16))}this.map.setOptions(this.optionsActiveMap)}this.dragSearch=!1}reset(){this.clearMarkers(),this.dragSearch=!1,this.map&&(this.map.setOptions(this.optionsInactiveMap),this.map.setCenter(this.startPos),this.map.setZoom(4))}render(){this.container=x.qs(this.container),this.startPos=new google.maps.LatLng(38.550456,-97.9889077),this.map=new google.maps.Map(this.container,this.options),google.maps.event.trigger(this.map,"resize"),this.reset(),google.maps.event.addListener(this.map,"dragend",()=>{if(this.dispatchDrag&&!this.isDetail){this.dragSearch=!0;const e=this.map.getCenter();PubSub.publish("dealermap.search-view",e.toJSON())}})}}function T(n){if(n){if(typeof n=="string"){const t=n;n=new Image,n.src=t}else if(n.length!==void 0){const t=[].map.call(n,i=>load(i).catch(s=>s));return Promise.all(t).then(i=>{const s=i.filter(({naturalWidth:r})=>r);return s.length===i.length?s:Promise.reject({loaded:s,errored:i.filter(({naturalWidth:r})=>!r)})})}else if(n.tagName!=="IMG")return Promise.reject()}else return Promise.reject();const e=new Promise((t,i)=>{n.addEventListener("load",s),n.addEventListener("error",s);function s(){n.naturalWidth&&n.complete?t(n):i(n),n.removeEventListener("load",s),n.removeEventListener("error",s)}});return e.image=n,e}function G(n){let e=n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new RegExp(e).test(window.location.host)}const j=(n,e)=>{let t=null,i=null;for(const[s,r]of Object.entries(n))t=t?`${t}&${s}=${r}`:`${s}=${r}`;return e?t?(i=e.indexOf("#")>0?e.substring(e.indexOf("#")):null,e=e.indexOf("#")>0?e.split(i)[0]:e,e=e.indexOf("?")<0?`${e}?${t}`:e.indexOf("?")===e.length-1?`${e}${t}`:`${e}&${t}`,i?`${e}${i}`:`${e}`):e:t};function N(n,e,t){return(n-e.min)*(t.max-t.min)/(e.max-e.min)+t.min}const B=(n,e,t)=>t?n.length==e.length&&n.every((i,s)=>i===e[s][t]):n.length==e.length&&n.every((i,s)=>i===e[s]);function H(){}function V(n,e){return n.filter((t,i,s)=>s.map(r=>r[e]).indexOf(t[e])===i)}function F(n,e,t){return(1-t)*n+t*e}function J(n,e,t){return Math.min(Math.max(n,e),t)}function Q(n,e){return n+Math.random()*(e-n)}function _(n){return n*n}function K(n){return n<.5?2*n*n:-1+(4-2*n)*n}function W(n,e,t){return Math.min(Math.max(n-e,0)/(t-e),1)}function q(n,e){const t=Math.pow(10,e);return Math.floor(n*t)/t}function R(n,e,t){const i=n<<16|e<<8|t;return parseInt("0x"+function(s){return new Array(7-s.length).join("0")+s}(i.toString(16).toUpperCase()))}const U={lerp:F,clamp:J,randomRange:Q,easeInQuad:_,easeInOutQuad:K,pBetween:W,trimDecimal:q,rgbToHex:R};function X(n){return n.replace(/\s+/g,"-").toLowerCase()}const re={aem:m,arrayMergeDedupe:k,AsDollars:f,AsDollarsWithCents:O,baseDomain:p,bem:D,Breakpoints:l,CleanZip:M,isValidZipCode:w,cookies:b,debounce:S,distill:Z,getapiurl:$,getbyourl:z,generateKey:E,GetQueryParams:v,GoogleMaps:A,imageLoader:T,isHost:G,JoinQueryParams:j,mapInRange:N,matchArrayVal:B,noop:H,removeDuplicates:V,scrollTo:I,soc:U,uid:y,toSlugString:X,TelephoneFormatter:L,zipcode:P};export{O as A,l as B,A as G,j as J,D as b,T as i,B as m,X as t,re as u};

</script>

</body>
</html>
