<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2996-6b04ecf2c8dd11c9.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2996],{12996:function(e,t,o){o.r(t),o.d(t,{OnboardingModal:function(){return ea}});var n,i,r,s=o(85893),a=o(67294),d=o(86468),l=o(26),c=o(4735),g=o(9495),u=o(89915),p=o(60347),h=o(1611),b=o(12333),x=o(11163),m=o(71858),E=o(44258),f=o(21867),C=o(16107),P=o(14864),j=o(37568),_=o(40642),T=o(964),S=o(6943),I=o(99117),v=o(43635),N=o(45939);let w="--background-color";(i||(i={})).HOT="HOT";let k=(0,T.ZP)(N.Cn).withConfig({componentId:"sc-b71f3f15-0"})(["&[hotContainer='true']{background-image:url('/assets/onboardingNew/fire.gif');}justify-content:unset;@media ","{padding:40px 74px;}"],P.zP.SCREEN_MD_UP),D=T.ZP.div.withConfig({componentId:"sc-b71f3f15-1"})(["position:relative;display:flex;justify-content:center;margin-top:280px;width:100%;align-items:center;@media ","{margin-top:0;width:701px;}"],P.zP.SCREEN_MD_UP),O=(0,T.iv)(["height:178px;min-width:343px;position:absolute;top:10px;background-repeat:no-repeat;background-position:center;&::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(var(","),0.6);z-index:1;transition:opacity 0.5s ease;opacity:",";}@media ","{height:144px;width:701px;}"],w,e=>{let{voted:t}=e;return t?0:1},P.zP.SCREEN_MD_UP),R=T.ZP.div.withConfig({componentId:"sc-b71f3f15-2"})([""," background-image:url('/assets/onboardingNew/deal-card-mobile-hot.svg');@media ","{background-image:url('/assets/onboardingNew/deal-card-hot.svg');}"],O,P.zP.SCREEN_MD_UP),y=T.ZP.div.withConfig({componentId:"sc-b71f3f15-3"})(["height:160px;width:308px;position:absolute;top:60px;background-image:url('/assets/onboardingNew/deal-card-mobile-background.svg');background-repeat:no-repeat;background-position:center;&::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(",",0.6);z-index:0;}@media ","{background-image:url('/assets/onboardingNew/deal-card-background.svg');height:125px;width:612px;}"],S.Q2.colors.Brand,P.zP.SCREEN_MD_UP),z=(0,T.ZP)(I.T).withConfig({componentId:"sc-b71f3f15-4"})(["position:absolute;height:32px;top:144px;left:36px;z-index:2;background-color:rgb(",");@media ","{top:104px;left:140px;}"],C.wL.White,P.zP.SCREEN_MD_UP),G=T.ZP.p.withConfig({componentId:"sc-b71f3f15-5"})(["background-color:rgb(",");color:rgb(",");border-radius:8px;position:relative;right:26%;top:192px;padding:10px;"," z-index:3;&[data-state='","']{color:rgb(",");}@media ","{top:152px;right:20%;}"],C.wL.White,C.wL.Red,v.CL,"HOT",C.wL.Red,P.zP.SCREEN_MD_UP),M=T.ZP.div.withConfig({componentId:"sc-b71f3f15-6"})(["background-color:rgb(",");width:24px;height:24px;border-radius:4px;position:absolute;top:182px;transform:rotate(45deg);z-index:3;&[data-state='","']{left:112px;}@media ","{top:142px;&[data-state='","']{left:224px;}}"],C.wL.White,"HOT",P.zP.SCREEN_MD_UP,"HOT");var Z=o(688);(n=r||(r={}))[n.hot=C.wL.OrangePelando]="hot";var V=e=>{let{onClickContinue:t,loggedUserId:o}=e,{t:n}=(0,h.$)("onboarding"),d=(0,_.Z)(P.zP.SCREEN_MD_DOWN),[l,c]=(0,a.useState)(580),[g,u]=(0,a.useState)({voted:!1,kind:j.GV.INCREASE}),[b,x]=(0,a.useState)({hotAnimation:""}),E=d?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(Z.Z,{translation:n("onboarding-voting-step-hot-title-mobile"),children:["Quanto mais ",(0,s.jsx)("br",{})," quente, melhor!"]})}):(0,s.jsx)(s.Fragment,{children:n("onboarding-voting-step-hot-title")}),C=(0,s.jsxs)(Z.Z,{hasTag:!0,translation:n("onboarding-voting-step-hot-subtitle"),children:["O pre\xe7o est\xe1 bom? ",(0,s.jsx)("strong",{children:"Clique no foguinho para esquentar."})]});(0,a.useEffect)(()=>{(0,p.gb)(m.Dm.VOTING_STEP),(0,m.Gl)(m.Dm.VOTING_STEP,o)},[o]);let T=e=>({[w]:e});return(0,s.jsxs)(k,{hotContainer:b.hotAnimation,style:T(r.hot),children:[(0,s.jsxs)(N.A2,{children:[(0,s.jsx)(N.N9,{icon:f.y}),(0,s.jsx)(N.k8,{children:E}),(0,s.jsx)(N.J9,{children:C})]}),(0,s.jsxs)(D,{children:[(0,s.jsx)(y,{}),(0,s.jsx)(R,{voted:g.voted,style:T(r.hot)}),(0,s.jsx)(z,{id:"",temperature:l,voteInfo:g,dispatch:e=>{let{payload:o}=e,{voteKind:n}=o;n===j.GV.INCREASE&&(u({voted:!0,kind:n}),c(Math.round(1.2*l)),x({hotAnimation:"true"}),setTimeout(()=>{t()},1500))},disableIncrease:!0}),g.voted?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(M,{"data-state":i.HOT}),(0,s.jsx)(G,{"data-state":i.HOT,children:(0,s.jsxs)(Z.Z,{translation:n("onboarding-voting-step-tooltip-hot"),hasTag:!0,children:[(0,s.jsx)("strong",{children:"Clique aqui"}),"para ",(0,s.jsx)("br",{}),"esquentar essa promo\xe7\xe3o"]})})]})]})]})},U=o(16832),A=o(97419),F=o(9136),q=o(99682);let H=T.zo.div.withConfig({componentId:"sc-cbf35934-0"})(["display:flex;position:relative;align-items:center;flex-direction:column;"]),L=T.zo.video.withConfig({componentId:"sc-cbf35934-1"})(["display:flex;position:relative;object-fit:fill;@media ","{width:100%;min-width:100vw;height:auto;}"],P.zP.SCREEN_MD_DOWN),W=(0,T.zo)(q.z).withConfig({componentId:"sc-cbf35934-2"})(["display:flex;position:fixed;top:16px;right:32px;z-index:100;border:2px solid rgb(",") !important;background-color:rgb(",",0.3) !important;opacity:",";transition:opacity 2s ease-in-out;@media ","{position:absolute;top:32px;right:64px;}"],C.wL.White,C.wL.White,e=>{let{animate:t}=e;return t?1:0},P.zP.SCREEN_MD_UP),$=(0,T.zo)(N.jK).withConfig({componentId:"sc-cbf35934-3"})(["&&{opacity:",";transition:opacity 2s ease-in-out;i{color:rgb(",");}}"],e=>{let{animate:t}=e;return t?1:0},S.Q2.colors.Brand);var Q=e=>{let{onClickContinue:t,onVideoEnded:o,loggedUserId:n}=e,{t:i}=(0,h.$)("onboarding"),r=(0,F.a)(P.zP.SCREEN_MD_DOWN);(0,a.useEffect)(()=>{(0,p.gb)(m.Dm.VIDEO_STEP),(0,m.Gl)(m.Dm.VIDEO_STEP,n)},[]);let d=(0,a.useCallback)(()=>{o(),t()},[t,o]),l=(0,a.useCallback)(()=>{(0,m.DU)(n),t()},[n,t]);return(0,s.jsxs)(H,{children:[(0,s.jsx)(L,{autoPlay:!0,muted:!0,onEnded:d,playsInline:!0,poster:r?"assets/onboardingNew/poster-mobile-orange.svg":"assets/onboardingNew/poster-desktop-orange.svg",preload:"auto",children:(0,s.jsx)("source",{src:r?"/assets/onboardingNew/short-onboarding-mobile.mp4":"/assets/onboardingNew/short-onboarding.mp4"})}),(0,s.jsx)(W,{onClick:l,icon:U.O,iconPosition:"right",children:i("onboarding-button-forward")}),(0,s.jsx)($,{light:!0,icon:A._,iconPosition:"right",responsive:!0,onClick:t,children:i("onboarding-button-start")})]})},B=o(90005),J=o(74634),K=o(37099);let X="@categories",Y={GetMainCategories:"".concat(X,"/GET_MAIN_CATEGORIES"),PostUserCategoryPreferences:"".concat(X,"/POST_USER_CATEGORY_PREFERENCES")};(0,J.Z)({id:Y.GetMainCategories,query:"\n  query MainCategoriesQuery {\n    public {\n      mainCategories {\n        id\n        title\n        isGenderRelevant\n        communities {\n          id\n          name\n          color\n          image\n          genderPreference\n          slug\n        }\n      }\n    }\n  }\n",method:K.Tt.Get,transform:e=>e.public.mainCategories,cacheTransform:e=>{let{data:t,loading:o}=e;return{categories:t,loading:o}}});let ee=(0,J.Z)({id:Y.PostUserCategoryPreferences,query:"\nmutation UserCategoryPreferences($categoriesIds: [ID!]!) {\n        me {\n            userCategoryPreferences(categoriesIds: $categoriesIds)\n        }\n    }\n",method:K.Tt.Post,transform:e=>e.me.userCategoryPreferences});var et=o(96278),eo=o(57470),en=o(95451);function ei(e){let{onClickContinue:t,loggedUserId:o}=e,{t:n}=(0,h.$)("onboarding"),i=(0,_.Z)(P.zP.SCREEN_MD_DOWN),[r,d]=(0,a.useState)(!1),[l,c]=(0,a.useState)([]),g=i?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(Z.Z,{translation:n("onboarding-categories-title-mobile"),children:["Quais ",(0,s.jsx)("br",{}),"categorias te",(0,s.jsx)("br",{})," interessam?"]})}):(0,s.jsx)(s.Fragment,{children:n("onboarding-categories-title")}),u=(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(Z.Z,{translation:n("onboarding-categories-subtitle"),hasTag:!0,children:["Escolha no m\xednimo ",(0,s.jsx)("strong",{children:"tr\xeas categorias"})," para deixarmos o Pelando com a sua cara."]})});(0,a.useEffect)(()=>{(0,p.gb)(m.Dm.CATEGORIES_STEP),(0,m.Gl)(m.Dm.CATEGORIES_STEP,o)},[o]),(0,a.useEffect)(()=>{d(Object.values(l).filter(e=>e).length>=3)},[l]);let b=e=>l.includes(e),x=e=>{c(t=>b(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(eo.eF,{children:[(0,s.jsxs)(eo.tm,{children:[(0,s.jsx)(N.k8,{children:g}),(0,s.jsx)(N.J9,{children:u})]}),(0,s.jsxs)(eo.C0,{children:[(0,s.jsx)(eo.VZ,{}),(0,s.jsx)(eo.Rs,{children:en.fT.map(e=>(0,s.jsx)(et.C,{icon:B.sy[e]||"",title:n(en.Vl[e]),active:b(B.Me[e]),onClick:()=>x(B.Me[e])},en.Vl[e]))})]}),(0,s.jsxs)(eo.CJ,{children:[(0,s.jsx)(eo.dx,{disabled:!r}),(0,s.jsx)(eo.fY,{light:!0,icon:A._,iconPosition:"right",responsive:!0,onClick:()=>{ee.requestAsPromise({categoriesIds:l}),(0,m.KX)(o),t()},disabled:!r,children:n("onboarding-button-continue")})]})]})})}var er=o(985),es=o(54205);function ea(e){let{onFinished:t,stepTypeDefault:o}=e,{pathname:n,locale:i}=(0,x.useRouter)(),r=(0,c.GX)(),f=(0,c.EN)(),C=[m.Dm.INCENTIVE_STEP,...r?[]:[m.Dm.VIDEO_STEP],m.Dm.VOTING_STEP,m.Dm.CATEGORIES_STEP],{closeModal:P}=(0,u.d)(),{loggedUser:j}=(0,l.C)(d.F6.cache$)||{},{t:_}=(0,h.$)("onboarding"),T=(0,c.CE)(),S="pt-BR"===i?b.Hy.HOTTEST:b.V0.HOTTEST,I=C.findIndex(e=>e===o),[v,N]=(0,a.useState)(C[I>0?I:f?0:1]),[w,k]=(0,a.useState)(r),D=C.length,O=C.findIndex(e=>e===v);(0,a.useEffect)(()=>{(0,m.cL)((null==j?void 0:j.id)||"")},[]);let R=()=>{O<D-1?N(C[O+1]):("/[slug]"===n&&window.location.assign(S),t())},y={INCENTIVE_STEP:(0,s.jsx)(es.Z,{onClickContinue:R}),VIDEO_STEP:(0,s.jsx)(Q,{onVideoEnded:()=>{k(!0)},onClickContinue:R,loggedUserId:(null==j?void 0:j.id)||""}),VOTING_STEP:(0,s.jsx)(V,{onClickContinue:R,loggedUserId:(null==j?void 0:j.id)||""}),CATEGORIES_STEP:(0,s.jsx)(s.Fragment,{children:T?(0,s.jsx)(er.Z,{onClickContinue:R,loggedUserId:(null==j?void 0:j.id)||"",onFinished:t}):(0,s.jsx)(ei,{onClickContinue:R,loggedUserId:(null==j?void 0:j.id)||""})})},z=v===m.Dm.INCENTIVE_STEP;return(0,s.jsxs)(E.ON,{children:[v!==m.Dm.VIDEO_STEP&&(0,s.jsx)(E.$6,{icon:g.W,"aria-label":_("onboarding-modal-close-button-aria-label"),role:"button",onClick:z?R:()=>{"/[slug]"===n&&window.location.assign(S),(0,m.o9)((null==j?void 0:j.id)||"",v),(0,p.Eq)(),P()}}),!z&&(0,s.jsx)(E._t,{children:(0,s.jsx)(E._,{percent:(O+1)/4*100})}),y[v],(0,s.jsx)(E.ZN,{currentStepIndex:O,numberOfSteps:D,animate:w})]})}}}]);
//# sourceMappingURL=2996-6b04ecf2c8dd11c9.js.map
</script>

</body>
</html>
