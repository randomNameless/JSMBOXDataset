<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>index-c8557f21.html</title>
</head>
<body>
<script>var Oi=Object.defineProperty;var Pi=(r,e,t)=>e in r?Oi(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var h=(r,e,t)=>(Pi(r,typeof e!="symbol"?e+"":e,t),t),Pr=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var v=(r,e,t)=>(Pr(r,e,"read from private field"),t?t.call(r):e.get(r)),b=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},C=(r,e,t,n)=>(Pr(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);var y=(r,e,t)=>(Pr(r,e,"access private method"),t);/*!
Turbo 8.0.12
Copyright Â© 2024 37signals LLC
 */(function(r){if(typeof r.requestSubmit=="function")return;r.requestSubmit=function(n){n?(e(n,this),n.click()):(n=document.createElement("input"),n.type="submit",n.hidden=!0,this.appendChild(n),n.click(),this.removeChild(n))};function e(n,s){n instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),n.type=="submit"||t(TypeError,"The specified element is not a submit button"),n.form==s||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(n,s,i){throw new n("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+s+".",i)}})(HTMLFormElement.prototype);const Xn=new WeakMap;function Fi(r){const e=r instanceof Element?r:r instanceof Node?r.parentElement:null,t=e?e.closest("input, button"):null;return(t==null?void 0:t.type)=="submit"?t:null}function Ii(r){const e=Fi(r.target);e&&e.form&&Xn.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let r=window.Event.prototype;if("SubmitEvent"in window){const e=window.SubmitEvent.prototype;if(/Apple Computer/.test(navigator.vendor)&&!("submitter"in e))r=e;else return}addEventListener("click",Ii,!0),Object.defineProperty(r,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return Xn.get(this.target)}})})();const Se={eager:"eager",lazy:"lazy"},Ut=class Ut extends HTMLElement{constructor(){super();h(this,"loaded",Promise.resolve());this.delegate=new Ut.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(t){t=="loading"?this.delegate.loadingStyleChanged():t=="src"?this.delegate.sourceURLChanged():t=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(t){t?this.setAttribute("src",t):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(t){t?this.setAttribute("refresh",t):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return Di(this.getAttribute("loading")||"")}set loading(t){t?this.setAttribute("loading",t):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(t){t?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var t,n;return(n=(t=this.ownerDocument)==null?void 0:t.documentElement)==null?void 0:n.hasAttribute("data-turbo-preview")}};h(Ut,"delegateConstructor");let K=Ut;function Di(r){switch(r.toLowerCase()){case"lazy":return Se.lazy;default:return Se.eager}}const Bi={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function ot(r){if(r.getAttribute("data-turbo-eval")=="false")return r;{const e=document.createElement("script"),t=rs();return t&&(e.nonce=t),e.textContent=r.textContent,e.async=!1,Ni(e,r),e}}function Ni(r,e){for(const{name:t,value:n}of e.attributes)r.setAttribute(t,n)}function $i(r){const e=document.createElement("template");return e.innerHTML=r,e.content}function M(r,{target:e,cancelable:t,detail:n}={}){const s=new CustomEvent(r,{cancelable:t,bubbles:!0,composed:!0,detail:n});return e&&e.isConnected?e.dispatchEvent(s):document.documentElement.dispatchEvent(s),s}function wn(r){r.preventDefault(),r.stopImmediatePropagation()}function it(){return document.visibilityState==="hidden"?Yn():Qn()}function Qn(){return new Promise(r=>requestAnimationFrame(()=>r()))}function Yn(){return new Promise(r=>setTimeout(()=>r(),0))}function qi(){return Promise.resolve()}function Zn(r=""){return new DOMParser().parseFromString(r,"text/html")}function es(r,...e){const t=xi(r,e).replace(/^\n/,"").split(`
`),n=t[0].match(/^\s+/),s=n?n[0].length:0;return t.map(i=>i.slice(s)).join(`
`)}function xi(r,e){return r.reduce((t,n,s)=>{const i=e[s]==null?"":e[s];return t+n+i},"")}function me(){return Array.from({length:36}).map((r,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function qt(r,...e){for(const t of e.map(n=>n==null?void 0:n.getAttribute(r)))if(typeof t=="string")return t;return null}function Hi(r,...e){return e.some(t=>t&&t.hasAttribute(r))}function xt(...r){for(const e of r)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function Ht(...r){for(const e of r)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function Vi(r,e=2e3){return new Promise(t=>{const n=()=>{r.removeEventListener("error",n),r.removeEventListener("load",n),t()};r.addEventListener("load",n,{once:!0}),r.addEventListener("error",n,{once:!0}),setTimeout(t,e)})}function ts(r){switch(r){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function _i(r){return r=="advance"||r=="replace"||r=="restore"}function Ae(...r){const e=qt("data-turbo-action",...r);return _i(e)?e:null}function zr(r){return document.querySelector(`meta[name="${r}"]`)}function Vt(r){const e=zr(r);return e&&e.content}function rs(){const r=zr("csp-nonce");if(r){const{nonce:e,content:t}=r;return e==""?t:e}}function ji(r,e){let t=zr(r);return t||(t=document.createElement("meta"),t.setAttribute("name",r),document.head.appendChild(t)),t.setAttribute("content",e),t}function He(r,e){var t;if(r instanceof Element)return r.closest(e)||He(r.assignedSlot||((t=r.getRootNode())==null?void 0:t.host),e)}function Gr(r){const e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";return!!r&&r.closest(e)==null&&typeof r.focus=="function"}function ns(r){return Array.from(r.querySelectorAll("[autofocus]")).find(Gr)}async function Ui(r,e){const t=e();r(),await Qn();const n=e();return[t,n]}function ss(r){if(r==="_blank")return!1;if(r){for(const e of document.getElementsByName(r))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function is(r){return He(r,"a[href]:not([target^=_]):not([download])")}function os(r){return N(r.getAttribute("href")||"")}function Wi(r,e){let t=null;return(...n)=>{const s=()=>r.apply(this,n);clearTimeout(t),t=setTimeout(s,e)}}const Ki={"aria-disabled":{beforeSubmit:r=>{r.setAttribute("aria-disabled","true"),r.addEventListener("click",wn)},afterSubmit:r=>{r.removeAttribute("aria-disabled"),r.removeEventListener("click",wn)}},disabled:{beforeSubmit:r=>r.disabled=!0,afterSubmit:r=>r.disabled=!1}};var ct;class zi{constructor(e){b(this,ct,null);Object.assign(this,e)}get submitter(){return v(this,ct)}set submitter(e){C(this,ct,Ki[e]||e)}}ct=new WeakMap;const Gi=new zi({mode:"on",submitter:"disabled"}),B={drive:Bi,forms:Gi};function N(r){return new URL(r.toString(),document.baseURI)}function Te(r){let e;if(r.hash)return r.hash.slice(1);if(e=r.href.match(/#(.*)$/))return e[1]}function Jr(r,e){const t=(e==null?void 0:e.getAttribute("formaction"))||r.getAttribute("action")||r.action;return N(t)}function Ji(r){return(Zi(r).match(/\.[^.]*$/)||[])[0]||""}function Xi(r,e){const t=eo(e);return r.href===N(t).href||r.href.startsWith(t)}function ae(r,e){return Xi(r,e)&&!B.drive.unvisitableExtensions.has(Ji(r))}function Nr(r){const e=Te(r);return e!=null?r.href.slice(0,-(e.length+1)):r.href}function kt(r){return Nr(r)}function Qi(r,e){return N(r).href==N(e).href}function Yi(r){return r.pathname.split("/").slice(1)}function Zi(r){return Yi(r).slice(-1)[0]}function eo(r){return to(r.origin+r.pathname)}function to(r){return r.endsWith("/")?r:r+"/"}class hr{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return N(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}class ro extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){const n=this.values().next().value;this.delete(n)}super.add(e)}}const as=new ro(20),no=window.fetch;function Xr(r,e={}){const t=new Headers(e.headers||{}),n=me();return as.add(n),t.append("X-Turbo-Request-Id",n),no(r,{...e,headers:t})}function dr(r){switch(r.toLowerCase()){case"get":return _.get;case"post":return _.post;case"put":return _.put;case"patch":return _.patch;case"delete":return _.delete}}const _={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function cs(r){switch(r.toLowerCase()){case ce.multipart:return ce.multipart;case ce.plain:return ce.plain;default:return ce.urlEncoded}}const ce={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"};var lt,Wt,ls,Kt,us;class Qe{constructor(e,t,n,s=new URLSearchParams,i=null,c=ce.urlEncoded){b(this,Wt);b(this,Kt);h(this,"abortController",new AbortController);b(this,lt,e=>{});var S;const[u,m]=En(N(n),t,s,c);this.delegate=e,this.url=u,this.target=i,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:m,signal:this.abortSignal,referrer:(S=this.delegate.referrer)==null?void 0:S.href},this.enctype=c}get method(){return this.fetchOptions.method}set method(e){const t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,n=dr(e)||_.get;this.url.search="";const[s,i]=En(this.url,n,t,this.enctype);this.url=s,this.fetchOptions.body=i,this.fetchOptions.method=n.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this);const t=await y(this,Wt,ls).call(this,e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=Xr(this.url.href,e);const n=await this.response;return await this.receive(n)}catch(n){if(n.name!=="AbortError")throw y(this,Kt,us).call(this,n)&&this.delegate.requestErrored(this,n),n}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new hr(e);return M("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return fr(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}}lt=new WeakMap,Wt=new WeakSet,ls=async function(e){const t=new Promise(s=>C(this,lt,s)),n=M("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:v(this,lt)},target:this.target});return this.url=n.detail.url,n.defaultPrevented&&await t,n},Kt=new WeakSet,us=function(e){return!M("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented};function fr(r){return dr(r)==_.get}function En(r,e,t,n){const s=Array.from(t).length>0?new URLSearchParams(hs(t)):r.searchParams;return fr(e)?[so(r,s),null]:n==ce.urlEncoded?[r,s]:[r,t]}function hs(r){const e=[];for(const[t,n]of r)n instanceof File||e.push([t,n]);return e}function so(r,e){const t=new URLSearchParams(hs(e));return r.search=t.toString(),r}class io{constructor(e,t){h(this,"started",!1);h(this,"intersect",e=>{const t=e.slice(-1)[0];t!=null&&t.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)});this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class Le{static wrap(e){return typeof e=="string"?new this($i(e)):e}constructor(e){this.fragment=oo(e)}}h(Le,"contentType","text/vnd.turbo-stream.html");function oo(r){for(const e of r.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const n of t.templateElement.content.querySelectorAll("script"))n.replaceWith(ot(n));e.replaceWith(t)}return r}const ao=100;var we,se;class co{constructor(){b(this,we,null);b(this,se,null)}get(e){if(v(this,se)&&v(this,se).url===e&&v(this,se).expire>Date.now())return v(this,se).request}setLater(e,t,n){this.clear(),C(this,we,setTimeout(()=>{t.perform(),this.set(e,t,n),C(this,we,null)},ao))}set(e,t,n){C(this,se,{url:e,request:t,expire:new Date(new Date().getTime()+n)})}clear(){v(this,we)&&clearTimeout(v(this,we)),C(this,se,null)}}we=new WeakMap,se=new WeakMap;const lo=10*1e3,xe=new co,Ne={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"};let ds=class fs{constructor(e,t,n,s=!1){h(this,"state",Ne.initialized);const i=go(t,n),c=po(mo(t,n),i),u=uo(t,n),m=bo(t,n);this.delegate=e,this.formElement=t,this.submitter=n,this.fetchRequest=new Qe(this,i,c,u,t,m),this.mustRedirect=s}static confirmMethod(e){return Promise.resolve(confirm(e))}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=N(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){const{initialized:e,requesting:t}=Ne,n=qt("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof n=="string"&&!await(typeof B.forms.confirm=="function"?B.forms.confirm:fs.confirmMethod)(n,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=Ne;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=ho(Vt("csrf-param"))||Vt("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(Le.contentType)}requestStarted(e){this.state=Ne.waiting,this.submitter&&B.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),xt(this.formElement),M("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){xe.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(xe.clear(),this.requestMustRedirect(e)&&fo(t)){const n=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,n)}else this.state=Ne.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=Ne.stopped,this.submitter&&B.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),Ht(this.formElement),M("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||Hi("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)==null?void 0:e.getAttribute("data-turbo-submits-with")}};function uo(r,e){const t=new FormData(r),n=e==null?void 0:e.getAttribute("name"),s=e==null?void 0:e.getAttribute("value");return n&&t.append(n,s||""),t}function ho(r){if(r!=null){const t=(document.cookie?document.cookie.split("; "):[]).find(n=>n.startsWith(r));if(t){const n=t.split("=").slice(1).join("=");return n?decodeURIComponent(n):void 0}}}function fo(r){return r.statusCode==200&&!r.redirected}function mo(r,e){const t=typeof r.action=="string"?r.action:null;return e!=null&&e.hasAttribute("formaction")?e.getAttribute("formaction")||"":r.getAttribute("action")||t||""}function po(r,e){const t=N(r);return fr(e)&&(t.search=""),t}function go(r,e){const t=(e==null?void 0:e.getAttribute("formmethod"))||r.getAttribute("method")||"";return dr(t.toLowerCase())||_.get}function bo(r,e){return cs((e==null?void 0:e.getAttribute("formenctype"))||r.enctype)}class mr{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return ns(this.element)}get permanentElements(){return ps(this.element)}getPermanentElementById(e){return ms(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const n of this.permanentElements){const{id:s}=n,i=e.getPermanentElementById(s);i&&(t[s]=[n,i])}return t}}function ms(r,e){return r.querySelector(`#${e}[data-turbo-permanent]`)}function ps(r){return r.querySelectorAll("[id][data-turbo-permanent]")}class Qr{constructor(e,t){h(this,"started",!1);h(this,"submitCaptured",()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)});h(this,"submitBubbled",e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,n=e.submitter||void 0;t&&vo(t,n)&&yo(t,n)&&this.delegate.willSubmitForm(t,n)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,n))}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function vo(r,e){return((e==null?void 0:e.getAttribute("formmethod"))||r.getAttribute("method"))!="dialog"}function yo(r,e){const t=(e==null?void 0:e.getAttribute("formtarget"))||r.getAttribute("target");return ss(t)}var ut,ht;class gs{constructor(e,t){b(this,ut,e=>{});b(this,ht,e=>{});this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(Te(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:n,willRender:s,newSnapshot:i}=e,c=s;if(n)try{this.renderPromise=new Promise(A=>C(this,ut,A)),this.renderer=e,await this.prepareToRenderSnapshot(e);const u=new Promise(A=>C(this,ht,A)),m={resume:v(this,ht),render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(i,m)||await u,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(i,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,v(this,ut).call(this,void 0),delete this.renderPromise}else c&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}ut=new WeakMap,ht=new WeakMap;class So extends gs{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new mr(this.element)}}class bs{constructor(e,t){h(this,"clickBubbled",e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent});h(this,"linkClicked",e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent});h(this,"willVisit",e=>{delete this.clickEvent});this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickEventIsSignificant(e){var s;const t=e.composed?(s=e.target)==null?void 0:s.parentElement:e.target,n=is(t)||t;return n instanceof Element&&n.closest("turbo-frame, html")==this.element}}class vs{constructor(e,t){h(this,"started",!1);h(this,"clickCaptured",()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)});h(this,"clickBubbled",e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,n=is(t);if(n&&ss(n.target)){const s=os(n);this.delegate.willFollowLinkToLocation(n,s,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(n,s))}}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}}class ys{constructor(e,t){this.delegate=e,this.linkInterceptor=new vs(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,n){return this.delegate.willSubmitFormLinkToLocation(e,t,n)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){const n=document.createElement("form"),s="hidden";for(const[F,k]of t.searchParams)n.append(Object.assign(document.createElement("input"),{type:s,name:F,value:k}));const i=Object.assign(t,{search:""});n.setAttribute("data-turbo","true"),n.setAttribute("action",i.href),n.setAttribute("hidden","");const c=e.getAttribute("data-turbo-method");c&&n.setAttribute("method",c);const u=e.getAttribute("data-turbo-frame");u&&n.setAttribute("data-turbo-frame",u);const m=Ae(e);m&&n.setAttribute("data-turbo-action",m);const S=e.getAttribute("data-turbo-confirm");S&&n.setAttribute("data-turbo-confirm",S),e.hasAttribute("data-turbo-stream")&&n.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,n),document.body.appendChild(n),n.addEventListener("turbo:submit-end",()=>n.remove(),{once:!0}),requestAnimationFrame(()=>n.requestSubmit())}}class Ss{static async preservingPermanentElements(e,t,n){const s=new this(e,t);s.enter(),await n(),s.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,n]=this.permanentElementMap[e];this.delegate.enteringBardo(t,n),this.replaceNewPermanentElementWithPlaceholder(n)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=wo(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);t==null||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function wo(r){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",r.id),e}var ie;class Yr{constructor(e,t,n,s=!0){b(this,ie,null);this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.willRender=s,this.renderElement=this.constructor.renderElement,this.promise=new Promise((i,c)=>this.resolvingFunctions={resolve:i,reject:c})}static renderElement(e,t){}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await Ss.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){const e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){v(this,ie)||e.contains(this.currentSnapshot.activeElement)&&C(this,ie,this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(v(this,ie))&&v(this,ie)instanceof HTMLElement&&(v(this,ie).focus(),C(this,ie,null))}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}}ie=new WeakMap;class pr extends Yr{static renderElement(e,t){var c;const n=document.createRange();n.selectNodeContents(e),n.deleteContents();const s=t,i=(c=s.ownerDocument)==null?void 0:c.createRange();i&&(i.selectNodeContents(s),e.appendChild(i.extractContents()))}constructor(e,t,n,s,i,c=!0){super(t,n,s,i,c),this.delegate=e}get shouldRender(){return!0}async render(){await it(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await it(),this.focusFirstAutofocusableElement(),await it(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=Eo(this.currentElement.getAttribute("data-autoscroll-block"),"end"),n=Ao(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:n}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=ot(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function Eo(r,e){return r=="end"||r=="start"||r=="center"||r=="nearest"?r:e}function Ao(r,e){return r=="auto"||r=="smooth"?r:e}var To=function(){let r=new Set,e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:k,afterNodeAdded:k,beforeNodeMorphed:k,afterNodeMorphed:k,beforeNodeRemoved:k,afterNodeRemoved:k,beforeAttributeUpdated:k},head:{style:"merge",shouldPreserve:function(a){return a.getAttribute("im-preserve")==="true"},shouldReAppend:function(a){return a.getAttribute("im-re-append")==="true"},shouldRemove:k,afterHeadMorphed:k}};function t(a,o,l={}){a instanceof Document&&(a=a.documentElement),typeof o=="string"&&(o=Ct(o));let d=Ye(o),f=J(a,d,l);return n(a,d,f)}function n(a,o,l){if(l.head.block){let d=a.querySelector("head"),f=o.querySelector("head");if(d&&f){let p=F(f,d,l);Promise.all(p).then(function(){n(a,o,Object.assign(l,{head:{block:!1,ignore:!0}}))});return}}if(l.morphStyle==="innerHTML")return c(o,a,l),a.children;if(l.morphStyle==="outerHTML"||l.morphStyle==null){let d=Ie(o,a,l),f=d==null?void 0:d.previousSibling,p=d==null?void 0:d.nextSibling,w=i(a,d,l);return d?Rr(f,w,p):[]}else throw"Do not understand how to morph style "+l.morphStyle}function s(a,o){return o.ignoreActiveValue&&a===document.activeElement&&a!==document.body}function i(a,o,l){if(!(l.ignoreActive&&a===document.activeElement))return o==null?l.callbacks.beforeNodeRemoved(a)===!1?a:(a.remove(),l.callbacks.afterNodeRemoved(a),null):T(a,o)?(l.callbacks.beforeNodeMorphed(a,o)===!1||(a instanceof HTMLHeadElement&&l.head.ignore||(a instanceof HTMLHeadElement&&l.head.style!=="morph"?F(o,a,l):(m(o,a,l),s(a,l)||c(o,a,l))),l.callbacks.afterNodeMorphed(a,o)),a):l.callbacks.beforeNodeRemoved(a)===!1||l.callbacks.beforeNodeAdded(o)===!1?a:(a.parentElement.replaceChild(o,a),l.callbacks.afterNodeAdded(o),l.callbacks.afterNodeRemoved(a),o)}function c(a,o,l){let d=a.firstChild,f=o.firstChild,p;for(;d;){if(p=d,d=p.nextSibling,f==null){if(l.callbacks.beforeNodeAdded(p)===!1)return;o.appendChild(p),l.callbacks.afterNodeAdded(p),X(l,p);continue}if(q(p,f,l)){i(f,p,l),f=f.nextSibling,X(l,p);continue}let w=Tt(a,o,p,f,l);if(w){f=H(f,w,l),i(w,p,l),X(l,p);continue}let L=Fe(a,o,p,f,l);if(L){f=H(f,L,l),i(L,p,l),X(l,p);continue}if(l.callbacks.beforeNodeAdded(p)===!1)return;o.insertBefore(p,f),l.callbacks.afterNodeAdded(p),X(l,p)}for(;f!==null;){let w=f;f=f.nextSibling,D(w,l)}}function u(a,o,l,d){return a==="value"&&d.ignoreActiveValue&&o===document.activeElement?!0:d.callbacks.beforeAttributeUpdated(a,o,l)===!1}function m(a,o,l){let d=a.nodeType;if(d===1){const f=a.attributes,p=o.attributes;for(const w of f)u(w.name,o,"update",l)||o.getAttribute(w.name)!==w.value&&o.setAttribute(w.name,w.value);for(let w=p.length-1;0<=w;w--){const L=p[w];u(L.name,o,"remove",l)||a.hasAttribute(L.name)||o.removeAttribute(L.name)}}(d===8||d===3)&&o.nodeValue!==a.nodeValue&&(o.nodeValue=a.nodeValue),s(o,l)||A(a,o,l)}function S(a,o,l,d){if(a[l]!==o[l]){let f=u(l,o,"update",d);f||(o[l]=a[l]),a[l]?f||o.setAttribute(l,a[l]):u(l,o,"remove",d)||o.removeAttribute(l)}}function A(a,o,l){if(a instanceof HTMLInputElement&&o instanceof HTMLInputElement&&a.type!=="file"){let d=a.value,f=o.value;S(a,o,"checked",l),S(a,o,"disabled",l),a.hasAttribute("value")?d!==f&&(u("value",o,"update",l)||(o.setAttribute("value",d),o.value=d)):u("value",o,"remove",l)||(o.value="",o.removeAttribute("value"))}else if(a instanceof HTMLOptionElement)S(a,o,"selected",l);else if(a instanceof HTMLTextAreaElement&&o instanceof HTMLTextAreaElement){let d=a.value,f=o.value;if(u("value",o,"update",l))return;d!==f&&(o.value=d),o.firstChild&&o.firstChild.nodeValue!==d&&(o.firstChild.nodeValue=d)}}function F(a,o,l){let d=[],f=[],p=[],w=[],L=l.head.style,j=new Map;for(const R of a.children)j.set(R.outerHTML,R);for(const R of o.children){let U=j.has(R.outerHTML),Ze=l.head.shouldReAppend(R),Or=l.head.shouldPreserve(R);U||Or?Ze?f.push(R):(j.delete(R.outerHTML),p.push(R)):L==="append"?Ze&&(f.push(R),w.push(R)):l.head.shouldRemove(R)!==!1&&f.push(R)}w.push(...j.values());let Q=[];for(const R of w){let U=document.createRange().createContextualFragment(R.outerHTML).firstChild;if(l.callbacks.beforeNodeAdded(U)!==!1){if(U.href||U.src){let Ze=null,Or=new Promise(function(Mi){Ze=Mi});U.addEventListener("load",function(){Ze()}),Q.push(Or)}o.appendChild(U),l.callbacks.afterNodeAdded(U),d.push(U)}}for(const R of f)l.callbacks.beforeNodeRemoved(R)!==!1&&(o.removeChild(R),l.callbacks.afterNodeRemoved(R));return l.head.afterHeadMorphed(o,{added:d,kept:p,removed:f}),Q}function k(){}function G(a){let o={};return Object.assign(o,e),Object.assign(o,a),o.callbacks={},Object.assign(o.callbacks,e.callbacks),Object.assign(o.callbacks,a.callbacks),o.head={},Object.assign(o.head,e.head),Object.assign(o.head,a.head),o}function J(a,o,l){return l=G(l),{target:a,newContent:o,config:l,morphStyle:l.morphStyle,ignoreActive:l.ignoreActive,ignoreActiveValue:l.ignoreActiveValue,idMap:E(a,o),deadIds:new Set,callbacks:l.callbacks,head:l.head}}function q(a,o,l){return a==null||o==null?!1:a.nodeType===o.nodeType&&a.tagName===o.tagName?a.id!==""&&a.id===o.id?!0:pe(l,a,o)>0:!1}function T(a,o){return a==null||o==null?!1:a.nodeType===o.nodeType&&a.tagName===o.tagName}function H(a,o,l){for(;a!==o;){let d=a;a=a.nextSibling,D(d,l)}return X(l,o),o.nextSibling}function Tt(a,o,l,d,f){let p=pe(f,l,o),w=null;if(p>0){let L=d,j=0;for(;L!=null;){if(q(l,L,f))return L;if(j+=pe(f,L,a),j>p)return null;L=L.nextSibling}}return w}function Fe(a,o,l,d,f){let p=d,w=l.nextSibling,L=0;for(;p!=null;){if(pe(f,p,a)>0)return null;if(T(l,p))return p;if(T(w,p)&&(L++,w=w.nextSibling,L>=2))return null;p=p.nextSibling}return p}function Ct(a){let o=new DOMParser,l=a.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(l.match(/<\/html>/)||l.match(/<\/head>/)||l.match(/<\/body>/)){let d=o.parseFromString(a,"text/html");if(l.match(/<\/html>/))return d.generatedByIdiomorph=!0,d;{let f=d.firstChild;return f?(f.generatedByIdiomorph=!0,f):null}}else{let f=o.parseFromString("<body><template>"+a+"</template></body>","text/html").body.querySelector("template").content;return f.generatedByIdiomorph=!0,f}}function Ye(a){if(a==null)return document.createElement("div");if(a.generatedByIdiomorph)return a;if(a instanceof Node){const o=document.createElement("div");return o.append(a),o}else{const o=document.createElement("div");for(const l of[...a])o.append(l);return o}}function Rr(a,o,l){let d=[],f=[];for(;a!=null;)d.push(a),a=a.previousSibling;for(;d.length>0;){let p=d.pop();f.push(p),o.parentElement.insertBefore(p,o)}for(f.push(o);l!=null;)d.push(l),f.push(l),l=l.nextSibling;for(;d.length>0;)o.parentElement.insertBefore(d.pop(),o.nextSibling);return f}function Ie(a,o,l){let d;d=a.firstChild;let f=d,p=0;for(;d;){let w=Mr(d,o,l);w>p&&(f=d,p=w),d=d.nextSibling}return f}function Mr(a,o,l){return T(a,o)?.5+pe(l,a,o):0}function D(a,o){X(o,a),o.callbacks.beforeNodeRemoved(a)!==!1&&(a.remove(),o.callbacks.afterNodeRemoved(a))}function De(a,o){return!a.deadIds.has(o)}function Lt(a,o,l){return(a.idMap.get(l)||r).has(o)}function X(a,o){let l=a.idMap.get(o)||r;for(const d of l)a.deadIds.add(d)}function pe(a,o,l){let d=a.idMap.get(o)||r,f=0;for(const p of d)De(a,p)&&Lt(a,p,l)&&++f;return f}function Be(a,o){let l=a.parentElement,d=a.querySelectorAll("[id]");for(const f of d){let p=f;for(;p!==l&&p!=null;){let w=o.get(p);w==null&&(w=new Set,o.set(p,w)),w.add(f.id),p=p.parentElement}}}function E(a,o){let l=new Map;return Be(a,l),Be(o,l),l}return{morph:t,defaults:e}}();function Zr(r,e,{callbacks:t,...n}={}){To.morph(r,e,{...n,callbacks:new Co(t)})}function ws(r,e){Zr(r,e.children,{morphStyle:"innerHTML"})}var dt;class Co{constructor({beforeNodeMorphed:e}={}){b(this,dt,void 0);h(this,"beforeNodeAdded",e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id)));h(this,"beforeNodeMorphed",(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&v(this,dt).call(this,e,t)?!M("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1});h(this,"beforeAttributeUpdated",(e,t,n)=>!M("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:n}}).defaultPrevented);h(this,"beforeNodeRemoved",e=>this.beforeNodeMorphed(e));h(this,"afterNodeMorphed",(e,t)=>{e instanceof Element&&M("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})});C(this,dt,e||(()=>!0))}}dt=new WeakMap;class Lo extends pr{static renderElement(e,t){M("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),ws(e,t)}async preservingPermanentElements(e){return await e()}}const ne=class ne{constructor(){h(this,"hiding",!1);h(this,"value",0);h(this,"visible",!1);h(this,"trickle",()=>{this.setValue(this.value+Math.random()/100)});this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return es`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${ne.animationDuration}ms ease-out,
          opacity ${ne.animationDuration/2}ms ${ne.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,ne.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,ne.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const e=document.createElement("style");e.type="text/css",e.textContent=ne.defaultCSS;const t=rs();return t&&(e.nonce=t),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}};h(ne,"animationDuration",300);let $r=ne;class ko extends mr{constructor(){super(...arguments);h(this,"detailsByOuterHTML",this.children.filter(t=>!Po(t)).map(t=>Do(t)).reduce((t,n)=>{const{outerHTML:s}=n,i=s in t?t[s]:{type:Ro(n),tracked:Mo(n),elements:[]};return{...t,[s]:{...i,elements:[...i.elements,n]}}},{}))}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(t=>this.detailsByOuterHTML[t].tracked).join("")}getScriptElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("script",t)}getStylesheetElementsNotInSnapshot(t){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",t)}getElementsMatchingTypeNotInSnapshot(t,n){return Object.keys(this.detailsByOuterHTML).filter(s=>!(s in n.detailsByOuterHTML)).map(s=>this.detailsByOuterHTML[s]).filter(({type:s})=>s==t).map(({elements:[s]})=>s)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((t,n)=>{const{type:s,tracked:i,elements:c}=this.detailsByOuterHTML[n];return s==null&&!i?[...t,...c]:c.length>1?[...t,...c.slice(1)]:t},[])}getMetaValue(t){const n=this.findMetaElementByName(t);return n?n.getAttribute("content"):null}findMetaElementByName(t){return Object.keys(this.detailsByOuterHTML).reduce((n,s)=>{const{elements:[i]}=this.detailsByOuterHTML[s];return Io(i,t)?i:n},void 0|void 0)}}function Ro(r){if(Oo(r))return"script";if(Fo(r))return"stylesheet"}function Mo(r){return r.getAttribute("data-turbo-track")=="reload"}function Oo(r){return r.localName=="script"}function Po(r){return r.localName=="noscript"}function Fo(r){const e=r.localName;return e=="style"||e=="link"&&r.getAttribute("rel")=="stylesheet"}function Io(r,e){return r.localName=="meta"&&r.getAttribute("name")==e}function Do(r){return r.hasAttribute("nonce")&&r.setAttribute("nonce",""),r}class W extends mr{static fromHTMLString(e=""){return this.fromDocument(Zn(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:n}){return new this(e,t,new ko(n))}constructor(e,t,n){super(t),this.documentElement=e,this.headSnapshot=n}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),n=e.querySelectorAll("select");for(const[s,i]of t.entries()){const c=n[s];for(const u of c.selectedOptions)u.selected=!1;for(const u of i.selectedOptions)c.options[u.index].selected=!0}for(const s of e.querySelectorAll('input[type="password"]'))s.value="";return new W(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get headElement(){return this.headSnapshot.element}get rootLocation(){const e=this.getSetting("root")??"/";return N(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return this.headSnapshot.getMetaValue("view-transition")==="same-origin"}get shouldMorphPage(){return this.getSetting("refresh-method")==="morph"}get shouldPreserveScrollPosition(){return this.getSetting("refresh-scroll")==="preserve"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}var ft,le;class Bo{constructor(){b(this,ft,!1);b(this,le,Promise.resolve())}renderChange(e,t){return e&&this.viewTransitionsAvailable&&!v(this,ft)?(C(this,ft,!0),C(this,le,v(this,le).then(async()=>{await document.startViewTransition(t).finished}))):C(this,le,v(this,le).then(t)),v(this,le)}get viewTransitionsAvailable(){return document.startViewTransition}}ft=new WeakMap,le=new WeakMap;const No={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1},Rt={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},re={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},Ve={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},$o={advance:"forward",restore:"back",replace:"none"};class qo{constructor(e,t,n,s={}){h(this,"identifier",me());h(this,"timingMetrics",{});h(this,"followedRedirect",!1);h(this,"historyChanged",!1);h(this,"scrolled",!1);h(this,"shouldCacheSnapshot",!0);h(this,"acceptsStreamResponse",!1);h(this,"snapshotCached",!1);h(this,"state",re.initialized);h(this,"viewTransitioner",new Bo);this.delegate=e,this.location=t,this.restorationIdentifier=n||me();const{action:i,historyChanged:c,referrer:u,snapshot:m,snapshotHTML:S,response:A,visitCachedSnapshot:F,willRender:k,updateHistory:G,shouldCacheSnapshot:J,acceptsStreamResponse:q,direction:T}={...No,...s};this.action=i,this.historyChanged=c,this.referrer=u,this.snapshot=m,this.snapshotHTML=S,this.response=A,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=F,this.willRender=k,this.updateHistory=G,this.scrolled=!k,this.shouldCacheSnapshot=J,this.acceptsStreamResponse=q,this.direction=T||$o[i]}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==re.initialized&&(this.recordTimingMetric(Rt.visitStart),this.state=re.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==re.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=re.canceled)}complete(){this.state==re.started&&(this.recordTimingMetric(Rt.visitEnd),this.adapter.visitCompleted(this),this.state=re.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==re.started&&(this.state=re.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){const t=this.location.href===((e=this.referrer)==null?void 0:e.href)?"replace":this.action,n=ts(t);this.history.update(n,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Qe(this,_.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Rt.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;An(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(Rt.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,An(e)&&t!=null){const n=W.fromHTMLString(t);await this.renderPageSnapshot(n,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(W.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!Te(this.location)||e.hasAnchor(Te(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return W.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage||this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&((e=this.response)!=null&&e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(Le.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const n=await t.responseHTML,{redirected:s,statusCode:i}=t;n==null?this.recordResponse({statusCode:Ve.contentTypeMismatch,redirected:s}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:i,responseHTML:n,redirected:s}))}async requestFailedWithResponse(e,t){const n=await t.responseHTML,{redirected:s,statusCode:i}=t;n==null?this.recordResponse({statusCode:Ve.contentTypeMismatch,redirected:s}):this.recordResponse({statusCode:i,responseHTML:n,redirected:s})}requestErrored(e,t){this.recordResponse({statusCode:Ve.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=Te(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>t(),0):requestAnimationFrame(()=>t())}),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function An(r){return r>=200&&r<300}class xo{constructor(e){h(this,"progressBar",new $r);h(this,"showProgressBar",()=>{this.progressBar.show()});this.session=e}visitProposedToLocation(e,t){ae(e,this.navigator.rootLocation)?this.navigator.startVisit(e,(t==null?void 0:t.restorationIdentifier)||me(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case Ve.networkFailure:case Ve.timeoutFailure:case Ve.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;M("turbo:reload",{detail:e}),window.location.href=((t=this.location)==null?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}}class Ho{constructor(){h(this,"selector","[data-turbo-temporary]");h(this,"deprecatedSelector","[data-turbo-cache=false]");h(this,"started",!1);h(this,"removeTemporaryElements",e=>{for(const t of this.temporaryElements)t.remove()})}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}}var zt,Es,_e,It,je,Dt;class Vo{constructor(e,t){b(this,zt);b(this,_e);b(this,je);this.session=e,this.element=t,this.linkInterceptor=new bs(this,t),this.formSubmitObserver=new Qr(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,n){return y(this,_e,It).call(this,e)}linkClickIntercepted(e,t,n){const s=y(this,je,Dt).call(this,e);s&&s.delegate.linkClickIntercepted(e,t,n)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&y(this,zt,Es).call(this,e,t)&&y(this,_e,It).call(this,e,t)}formSubmitted(e,t){const n=y(this,je,Dt).call(this,e,t);n&&n.delegate.formSubmitted(e,t)}}zt=new WeakSet,Es=function(e,t){const n=Jr(e,t),s=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),i=N((s==null?void 0:s.content)??"/");return y(this,_e,It).call(this,e,t)&&ae(n,i)},_e=new WeakSet,It=function(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const s=y(this,je,Dt).call(this,e,t);return s?s!=e.closest("turbo-frame"):!1}else return!1},je=new WeakSet,Dt=function(e,t){const n=(t==null?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(n&&n!="_top"){const s=this.element.querySelector(`#${n}:not([disabled])`);if(s instanceof K)return s}};class _o{constructor(e){h(this,"location");h(this,"restorationIdentifier",me());h(this,"restorationData",{});h(this,"started",!1);h(this,"pageLoaded",!1);h(this,"currentIndex",0);h(this,"onPopState",e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:n,restorationIndex:s}=t;this.restorationIdentifier=n;const i=s>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,n,i),this.currentIndex=s}}});h(this,"onPageLoad",async e=>{await qi(),this.pageLoaded=!0});this.delegate=e}start(){var e,t;this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.currentIndex=((t=(e=history.state)==null?void 0:e.turbo)==null?void 0:t.restorationIndex)||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,n=me()){e===history.pushState&&++this.currentIndex;const s={turbo:{restorationIdentifier:n,restorationIndex:this.currentIndex}};e.call(history,s,"",t.href),this.location=t,this.restorationIdentifier=n}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,n=this.restorationData[t];this.restorationData[t]={...n,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}var Ue,mt,pt,gt,Gt,bt,Jt,As,Xt,Ts;class jo{constructor(e,t){b(this,Jt);b(this,Xt);h(this,"started",!1);b(this,Ue,null);b(this,mt,()=>{this.eventTarget.addEventListener("mouseenter",v(this,pt),{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",v(this,gt),{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",v(this,bt),!0),this.started=!0});b(this,pt,e=>{if(Vt("turbo-prefetch")==="false")return;const t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&y(this,Xt,Ts).call(this,t)){const s=t,i=os(s);if(this.delegate.canPrefetchRequestToLocation(s,i)){C(this,Ue,s);const c=new Qe(this,_.get,i,new URLSearchParams,t);xe.setLater(i.toString(),c,v(this,Jt,As))}}});b(this,gt,e=>{e.target===v(this,Ue)&&v(this,Gt).call(this)});b(this,Gt,()=>{xe.clear(),C(this,Ue,null)});b(this,bt,e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){const t=xe.get(e.detail.url.toString());t&&(e.detail.fetchRequest=t),xe.clear()}});this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",v(this,mt),{once:!0}):v(this,mt).call(this))}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",v(this,pt),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",v(this,gt),{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",v(this,bt),!0),this.started=!1)}prepareRequest(e){const t=e.target;e.headers["X-Sec-Purpose"]="prefetch";const n=t.closest("turbo-frame"),s=t.getAttribute("data-turbo-frame")||(n==null?void 0:n.getAttribute("target"))||(n==null?void 0:n.id);s&&s!=="_top"&&(e.headers["Turbo-Frame"]=s)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}}Ue=new WeakMap,mt=new WeakMap,pt=new WeakMap,gt=new WeakMap,Gt=new WeakMap,bt=new WeakMap,Jt=new WeakSet,As=function(){return Number(Vt("turbo-prefetch-cache-time"))||lo},Xt=new WeakSet,Ts=function(e){return!(!e.getAttribute("href")||Uo(e)||Wo(e)||Ko(e)||zo(e)||Jo(e))};const Uo=r=>r.origin!==document.location.origin||!["http:","https:"].includes(r.protocol)||r.hasAttribute("target"),Wo=r=>r.pathname+r.search===document.location.pathname+document.location.search||r.href.startsWith("#"),Ko=r=>{if(r.getAttribute("data-turbo-prefetch")==="false"||r.getAttribute("data-turbo")==="false")return!0;const e=He(r,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},zo=r=>{const e=r.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||Go(r)||r.hasAttribute("data-turbo-confirm")||r.hasAttribute("data-turbo-stream"))},Go=r=>r.hasAttribute("data-remote")||r.hasAttribute("data-behavior")||r.hasAttribute("data-confirm")||r.hasAttribute("data-method"),Jo=r=>M("turbo:before-prefetch",{target:r,cancelable:!0}).defaultPrevented;var Qt,Cs,Yt,Ls;class Xo{constructor(e){b(this,Qt);b(this,Yt);this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,n={}){this.stop(),this.currentVisit=new qo(this,N(e),t,{referrer:this.location,...n}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new ds(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const n=await t.responseHTML;if(n){const s=e.isSafe;s||this.view.clearSnapshotCache();const{statusCode:i,redirected:c}=t,m={action:y(this,Qt,Cs).call(this,e,t),shouldCacheSnapshot:s,response:{statusCode:i,responseHTML:n,redirected:c}};this.proposeVisit(t.location,m)}}}async formSubmissionFailedWithResponse(e,t){const n=await t.responseHTML;if(n){const s=W.fromHTMLString(n);t.serverError?await this.view.renderError(s,this.currentVisit):await this.view.renderPage(s,!1,!0,this.currentVisit),s.shouldPreserveScrollPosition||this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){const n=Te(e),s=Te(this.view.lastRenderedLocation),i=t==="restore"&&typeof n>"u";return t!=="replace"&&Nr(e)===Nr(this.view.lastRenderedLocation)&&(i||n!=null&&n!==s)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}}Qt=new WeakSet,Cs=function(e,t){const{submitter:n,formElement:s}=e;return Ae(n,s)||y(this,Yt,Ls).call(this,t)},Yt=new WeakSet,Ls=function(e){var n;return e.redirected&&e.location.href===((n=this.location)==null?void 0:n.href)?"replace":"advance"};const ge={initial:0,loading:1,interactive:2,complete:3};class Qo{constructor(e){h(this,"stage",ge.initial);h(this,"started",!1);h(this,"interpretReadyState",()=>{const{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()});h(this,"pageWillUnload",()=>{this.delegate.pageWillUnload()});this.delegate=e}start(){this.started||(this.stage==ge.initial&&(this.stage=ge.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==ge.loading&&(this.stage=ge.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==ge.interactive&&(this.stage=ge.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class Yo{constructor(e){h(this,"started",!1);h(this,"onScroll",()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})});this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class Zo{render({fragment:e}){Ss.preservingPermanentElements(this,ea(e),()=>{ta(e,()=>{ra(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}function ea(r){const e=ps(document.documentElement),t={};for(const n of e){const{id:s}=n;for(const i of r.querySelectorAll("turbo-stream")){const c=ms(i.templateElement.content,s);c&&(t[s]=[n,c])}}return t}async function ta(r,e){const t=`turbo-stream-autofocus-${me()}`,n=r.querySelectorAll("turbo-stream"),s=na(n);let i=null;if(s&&(s.id?i=s.id:i=t,s.id=i),e(),await it(),(document.activeElement==null||document.activeElement==document.body)&&i){const u=document.getElementById(i);Gr(u)&&u.focus(),u&&u.id==t&&u.removeAttribute("id")}}async function ra(r){const[e,t]=await Ui(r,()=>document.activeElement),n=e&&e.id;if(n){const s=document.getElementById(n);Gr(s)&&s!=t&&s.focus()}}function na(r){for(const e of r){const t=ns(e.templateElement.content);if(t)return t}return null}var ue;class sa{constructor(e){h(this,"sources",new Set);b(this,ue,!1);h(this,"inspectFetchResponse",e=>{const t=ia(e);t&&oa(t)&&(e.preventDefault(),this.receiveMessageResponse(t))});h(this,"receiveMessageEvent",e=>{v(this,ue)&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)});this.delegate=e}start(){v(this,ue)||(C(this,ue,!0),addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){v(this,ue)&&(C(this,ue,!1),removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(Le.wrap(e))}}ue=new WeakMap;function ia(r){var t;const e=(t=r.detail)==null?void 0:t.fetchResponse;if(e instanceof hr)return e}function oa(r){return(r.contentType??"").startsWith(Le.contentType)}class aa extends Yr{static renderElement(e,t){const{documentElement:n,body:s}=document;n.replaceChild(t,s)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const n=ot(e);t.replaceChild(n,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}var Zt,ks;class gr extends Yr{constructor(){super(...arguments);b(this,Zt)}static renderElement(t,n){document.body&&n instanceof HTMLBodyElement?document.body.replaceWith(n):document.documentElement.appendChild(n)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){y(this,Zt,ks).call(this),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const t=this.mergeProvisionalElements(),n=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await t,await n,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const t=[];for(const n of this.newHeadStylesheetElements)t.push(Vi(n)),document.head.appendChild(n);await Promise.all(t)}copyNewHeadScriptElements(){for(const t of this.newHeadScriptElements)document.head.appendChild(ot(t))}removeUnusedDynamicStylesheetElements(){for(const t of this.unusedDynamicStylesheetElements)document.head.removeChild(t)}async mergeProvisionalElements(){const t=[...this.newHeadProvisionalElements];for(const n of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(n,t)||document.head.removeChild(n);for(const n of t)document.head.appendChild(n)}isCurrentElementInElementList(t,n){for(const[s,i]of n.entries()){if(t.tagName=="TITLE"){if(i.tagName!="TITLE")continue;if(t.innerHTML==i.innerHTML)return n.splice(s,1),!0}if(i.isEqualNode(t))return n.splice(s,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const t of this.currentHeadProvisionalElements)document.head.removeChild(t)}copyNewHeadProvisionalElements(){for(const t of this.newHeadProvisionalElements)document.head.appendChild(t)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const t of this.newBodyScriptElements){const n=ot(t);t.replaceWith(n)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(t=>t.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}Zt=new WeakSet,ks=function(){const{documentElement:t}=this.currentSnapshot,{lang:n}=this.newSnapshot;n?t.setAttribute("lang",n):t.removeAttribute("lang")};class ca extends gr{static renderElement(e,t){Zr(e,t,{callbacks:{beforeNodeMorphed:n=>!Tn(n)}});for(const n of e.querySelectorAll("turbo-frame"))Tn(n)&&n.reload();M("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}}function Tn(r){return r instanceof K&&r.src&&r.refresh==="morph"&&!r.closest("[data-turbo-permanent]")}class la{constructor(e){h(this,"keys",[]);h(this,"snapshots",{});this.size=e}has(e){return kt(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[kt(e)]}write(e,t){this.snapshots[kt(e)]=t}touch(e){const t=kt(e),n=this.keys.indexOf(t);n>-1&&this.keys.splice(n,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class ua extends gs{constructor(){super(...arguments);h(this,"snapshotCache",new la(10));h(this,"lastRenderedLocation",new URL(location.href));h(this,"forceReloaded",!1)}shouldTransitionTo(t){return this.snapshot.prefersViewTransitions&&t.prefersViewTransitions}renderPage(t,n=!1,s=!0,i){const u=this.isPageRefresh(i)&&this.snapshot.shouldMorphPage?ca:gr,m=new u(this.snapshot,t,n,s);return m.shouldRender?i==null||i.changeHistory():this.forceReloaded=!0,this.render(m)}renderError(t,n){n==null||n.changeHistory();const s=new aa(this.snapshot,t,!1);return this.render(s)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(t=this.snapshot){if(t.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:n}=this;await Yn();const s=t.clone();return this.snapshotCache.put(n,s),s}}getCachedSnapshotForLocation(t){return this.snapshotCache.get(t)}isPageRefresh(t){return!t||this.lastRenderedLocation.pathname===t.location.pathname&&t.action==="replace"}shouldPreserveScrollPosition(t){return this.isPageRefresh(t)&&this.snapshot.shouldPreserveScrollPosition}get snapshot(){return W.fromElement(this.element)}}var vt;class ha{constructor(e,t){h(this,"selector","a[data-turbo-preload]");b(this,vt,()=>{this.preloadOnLoadLinksForView(document.body)});this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",v(this,vt)):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",v(this,vt))}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(this.snapshotCache.has(t))return;await new Qe(this,_.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{const n=await t.responseHTML,s=W.fromHTMLString(n);this.snapshotCache.put(e.url,s)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}}vt=new WeakMap;var We,Bt;class da{constructor(e){b(this,We);this.session=e}clear(){this.session.clearCache()}resetCacheControl(){y(this,We,Bt).call(this,"")}exemptPageFromCache(){y(this,We,Bt).call(this,"no-cache")}exemptPageFromPreview(){y(this,We,Bt).call(this,"no-preview")}}We=new WeakSet,Bt=function(e){ji("turbo-cache-control",e)};var yt;class fa{constructor(e){h(this,"navigator",new Xo(this));h(this,"history",new _o(this));h(this,"view",new ua(this,document.documentElement));h(this,"adapter",new xo(this));h(this,"pageObserver",new Qo(this));h(this,"cacheObserver",new Ho);h(this,"linkPrefetchObserver",new jo(this,document));h(this,"linkClickObserver",new vs(this,window));h(this,"formSubmitObserver",new Qr(this,document));h(this,"scrollObserver",new Yo(this));h(this,"streamObserver",new sa(this));h(this,"formLinkClickObserver",new ys(this,document.documentElement));h(this,"frameRedirector",new Vo(this,document.documentElement));h(this,"streamMessageRenderer",new Zo);h(this,"cache",new da(this));h(this,"enabled",!0);h(this,"started",!1);b(this,yt,150);this.recentRequests=e,this.preloader=new ha(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const n=t.frame?document.getElementById(t.frame):null;if(n instanceof K){const s=t.action||Ae(n);n.delegate.proposeVisitIfNavigatedWithAction(n,s),n.src=e.toString()}else this.navigator.proposeVisit(N(e),t)}refresh(e,t){!(t&&this.recentRequests.has(t))&&!this.navigator.currentVisit&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(Le.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){B.drive.progressBarDelay=e}get progressBarDelay(){return B.drive.progressBarDelay}set drive(e){B.drive.enabled=e}get drive(){return B.drive.enabled}set formMode(e){B.forms.mode=e}get formMode(){return B.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return v(this,yt)}set pageRefreshDebouncePeriod(e){this.refresh=Wi(this.debouncedRefresh.bind(this),e),C(this,yt,e)}shouldPreloadLink(e){const t=e.hasAttribute("data-turbo-method"),n=e.hasAttribute("data-turbo-stream"),s=e.getAttribute("data-turbo-frame"),i=s=="_top"?null:document.getElementById(s)||He(e,"turbo-frame:not([disabled])");if(t||n||i instanceof K)return!1;{const c=new URL(e.href);return this.elementIsNavigatable(e)&&ae(c,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,n){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:n}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&ae(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&ae(t,this.snapshot.rootLocation)}willFollowLinkToLocation(e,t,n){return this.elementIsNavigatable(e)&&ae(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,n)}followedLinkToLocation(e,t){const n=this.getActionForLink(e),s=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:n,acceptsStreamResponse:s})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){Cn(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||(xt(document.documentElement),this.view.markVisitDirection(e.direction)),Cn(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),Ht(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const n=Jr(e,t);return this.submissionIsNavigatable(e,t)&&ae(N(n),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;(e=this.navigator.currentVisit)!=null&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const n=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:s,detail:{render:i}}=n;return this.view.renderer&&i&&(this.view.renderer.renderElement=i),!s}viewRenderedSnapshot(e,t,n){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(n)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,n){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,n).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,n){return M("turbo:click",{target:e,detail:{url:t.href,originalEvent:n},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return M("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return M("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return M("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return M("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return M("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return M("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return M("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return M("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(B.forms.mode=="off")return!1;{const n=t?this.elementIsNavigatable(t):!0;return B.forms.mode=="optin"?n&&e.closest('[data-turbo="true"]')!=null:n&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=He(e,"[data-turbo]"),n=He(e,"turbo-frame");return B.drive.enabled||n?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return Ae(e)||"advance"}get snapshot(){return this.view.snapshot}}yt=new WeakMap;function Cn(r){Object.defineProperties(r,ma)}const ma={absoluteURL:{get(){return this.toString()}}},P=new fa(as),{cache:Rs,navigator:Ms}=P;function en(){P.start()}function Os(r){P.registerAdapter(r)}function Ps(r,e){P.visit(r,e)}function br(r){P.connectStreamSource(r)}function vr(r){P.disconnectStreamSource(r)}function Fs(r){P.renderStreamMessage(r)}function Is(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),P.clearCache()}function Ds(r){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),B.drive.progressBarDelay=r}function Bs(r){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),B.forms.confirm=r}function Ns(r){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),B.forms.mode=r}var pa=Object.freeze({__proto__:null,navigator:Ms,session:P,cache:Rs,PageRenderer:gr,PageSnapshot:W,FrameRenderer:pr,fetch:Xr,config:B,start:en,registerAdapter:Os,visit:Ps,connectStreamSource:br,disconnectStreamSource:vr,renderStreamMessage:Fs,clearCache:Is,setProgressBarDelay:Ds,setConfirmMethod:Bs,setFormMode:Ns});class ga extends Error{}var Ke,te,he,St,ze,Ge,de,$e,er,$s,tr,qs,rr,xs,nr,Hs,sr,Vs,ir,_s,or,js,wt,qr,fe,qe,ar,Us,Je,Nt,cr,Ws,lr,Ks,ur,zs;class ba{constructor(e){b(this,de);b(this,er);b(this,tr);b(this,rr);b(this,nr);b(this,sr);b(this,ir);b(this,or);b(this,wt);b(this,fe);b(this,ar);b(this,Je);b(this,cr);b(this,lr);b(this,ur);h(this,"fetchResponseLoaded",e=>Promise.resolve());b(this,Ke,null);b(this,te,()=>{});b(this,he,!1);b(this,St,!1);b(this,ze,new Set);b(this,Ge,!1);h(this,"action",null);h(this,"visitCachedSnapshot",({element:e})=>{const t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement});this.element=e,this.view=new So(this,this.element),this.appearanceObserver=new io(this,this.element),this.formLinkClickObserver=new ys(this,this.element),this.linkInterceptor=new bs(this,this.element),this.restorationIdentifier=me(),this.formSubmitObserver=new Qr(this,this.element)}connect(){v(this,he)||(C(this,he,!0),this.loadingStyle==Se.lazy?this.appearanceObserver.start():y(this,de,$e).call(this),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){v(this,he)&&(C(this,he,!1),this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==Se.eager&&y(this,de,$e).call(this)}sourceURLChanged(){y(this,cr,Ws).call(this,"src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==Se.eager||v(this,St))&&y(this,de,$e).call(this))}sourceURLReloaded(){const{refresh:e,src:t}=this.element;return C(this,Ge,t&&e==="morph"),this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==Se.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),y(this,de,$e).call(this))}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const n=Zn(t);W.fromDocument(n).isVisitable?await y(this,er,$s).call(this,e,n):await y(this,nr,Hs).call(this,e)}}finally{C(this,Ge,!1),this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,Ae(e)),y(this,de,$e).call(this)}willSubmitFormLinkToLocation(e){return y(this,Je,Nt).call(this,e)}submittedFormLinkToLocation(e,t,n){const s=y(this,fe,qe).call(this,e);s&&n.setAttribute("data-turbo-frame",s.id)}shouldInterceptLinkClick(e,t,n){return y(this,Je,Nt).call(this,e)}linkClickIntercepted(e,t){y(this,rr,xs).call(this,e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&y(this,Je,Nt).call(this,e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new ds(this,e,t);const{fetchRequest:n}=this.formSubmission;this.prepareRequest(n),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,(t=this.currentNavigationElement)!=null&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(Le.contentType)}requestStarted(e){xt(this.element)}requestPreventedHandlingResponse(e,t){v(this,te).call(this)}async requestSucceededWithResponse(e,t){await this.loadResponse(t),v(this,te).call(this)}async requestFailedWithResponse(e,t){await this.loadResponse(t),v(this,te).call(this)}requestErrored(e,t){console.error(t),v(this,te).call(this)}requestFinished(e){Ht(this.element)}formSubmissionStarted({formElement:e}){xt(e,y(this,fe,qe).call(this,e))}formSubmissionSucceededWithResponse(e,t){const n=y(this,fe,qe).call(this,e.formElement,e.submitter);n.delegate.proposeVisitIfNavigatedWithAction(n,Ae(e.submitter,e.formElement,n)),n.delegate.loadResponse(t),e.isSafe||P.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),P.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){Ht(e,y(this,fe,qe).call(this,e))}allowsImmediateRender({element:e},t){const n=M("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:s,detail:{render:i}}=n;return this.view.renderer&&i&&(this.view.renderer.renderElement=i),!s}viewRenderedSnapshot(e,t,n){}preloadOnLoadLinksForView(e){P.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){const n=W.fromElement(e).clone(),{visitCachedSnapshot:s}=e.delegate;e.delegate.fetchResponseLoaded=async i=>{if(e.src){const{statusCode:c,redirected:u}=i,m=await i.responseHTML,A={response:{statusCode:c,redirected:u,responseHTML:m},visitCachedSnapshot:s,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:n};this.action&&(A.action=this.action),P.visit(e.src,A)}}}}changeHistory(){if(this.action){const e=ts(this.action);P.history.update(e,N(this.element.src||""),this.restorationIdentifier)}}async extractForeignFrameElement(e){let t;const n=CSS.escape(this.id);try{if(t=kn(e.querySelector(`turbo-frame#${n}`),this.sourceURL),t)return t;if(t=kn(e.querySelector(`turbo-frame[src][recurse~=${n}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(s){return console.error(s),new K}return null}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){y(this,lr,Ks).call(this,"src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||v(this,te).call(this)!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&v(this,he)}get rootLocation(){const e=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),t=(e==null?void 0:e.content)??"/";return N(t)}}Ke=new WeakMap,te=new WeakMap,he=new WeakMap,St=new WeakMap,ze=new WeakMap,Ge=new WeakMap,de=new WeakSet,$e=async function(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=y(this,tr,qs).call(this,N(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,C(this,St,!0))},er=new WeakSet,$s=async function(e,t){const n=await this.extractForeignFrameElement(t.body),s=v(this,Ge)?Lo:pr;if(n){const i=new mr(n),c=new s(this,this.view.snapshot,i,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(c),this.complete=!0,P.frameRendered(e,this.element),P.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else y(this,sr,Vs).call(this,e)&&y(this,ir,_s).call(this,e)},tr=new WeakSet,qs=async function(e){var n;const t=new Qe(this,_.get,e,new URLSearchParams,this.element);return(n=v(this,Ke))==null||n.cancel(),C(this,Ke,t),new Promise(s=>{C(this,te,()=>{C(this,te,()=>{}),C(this,Ke,null),s()}),t.perform()})},rr=new WeakSet,xs=function(e,t,n){const s=y(this,fe,qe).call(this,e,n);s.delegate.proposeVisitIfNavigatedWithAction(s,Ae(n,e,s)),y(this,ur,zs).call(this,e,()=>{s.src=t})},nr=new WeakSet,Hs=async function(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await y(this,wt,qr).call(this,e.response)},sr=new WeakSet,Vs=function(e){this.element.setAttribute("complete","");const t=e.response,n=async(i,c)=>{i instanceof Response?y(this,wt,qr).call(this,i):P.visit(i,c)};return!M("turbo:frame-missing",{target:this.element,detail:{response:t,visit:n},cancelable:!0}).defaultPrevented},ir=new WeakSet,_s=function(e){this.view.missing(),y(this,or,js).call(this,e)},or=new WeakSet,js=function(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new ga(t)},wt=new WeakSet,qr=async function(e){const t=new hr(e),n=await t.responseHTML,{location:s,redirected:i,statusCode:c}=t;return P.visit(s,{response:{redirected:i,statusCode:c,responseHTML:n}})},fe=new WeakSet,qe=function(e,t){const n=qt("data-turbo-frame",t,e)||this.element.getAttribute("target");return Ln(n)??this.element},ar=new WeakSet,Us=function(e,t){const n=Jr(e,t);return ae(N(n),this.rootLocation)},Je=new WeakSet,Nt=function(e,t){const n=qt("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!y(this,ar,Us).call(this,e,t)||!this.enabled||n=="_top")return!1;if(n){const s=Ln(n);if(s)return!s.disabled}return!(!P.elementIsNavigatable(e)||t&&!P.elementIsNavigatable(t))},cr=new WeakSet,Ws=function(e){return v(this,ze).has(e)},lr=new WeakSet,Ks=function(e,t){v(this,ze).add(e),t(),v(this,ze).delete(e)},ur=new WeakSet,zs=function(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement};function Ln(r){if(r!=null){const e=document.getElementById(r);if(e instanceof K)return e}}function kn(r,e){if(r){const t=r.getAttribute("src");if(t!=null&&e!=null&&Qi(t,e))throw new Error(`Matching <turbo-frame id="${r.id}"> element has a source URL which references itself`);if(r.ownerDocument!==document&&(r=document.importNode(r,!0)),r instanceof K)return r.connectedCallback(),r.disconnectedCallback(),r}}const tn={after(){this.targetElements.forEach(r=>{var e;return(e=r.parentElement)==null?void 0:e.insertBefore(this.templateContent,r.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.append(this.templateContent))},before(){this.targetElements.forEach(r=>{var e;return(e=r.parentElement)==null?void 0:e.insertBefore(this.templateContent,r)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(r=>r.prepend(this.templateContent))},remove(){this.targetElements.forEach(r=>r.remove())},replace(){const r=this.getAttribute("method");this.targetElements.forEach(e=>{r==="morph"?Zr(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){const r=this.getAttribute("method");this.targetElements.forEach(e=>{r==="morph"?ws(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){P.refresh(this.baseURI,this.requestId)}};var Ee,rt;const Sn=class Sn extends HTMLElement{constructor(){super(...arguments);b(this,Ee)}static async renderElement(t){await t.performAction()}async connectedCallback(){try{await this.render()}catch(t){console.error(t)}finally{this.disconnect()}}async render(){return this.renderPromise??(this.renderPromise=(async()=>{const t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await it(),await t.detail.render(this))})())}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(t=>t.remove())}get duplicateChildren(){var s;const t=this.targetElements.flatMap(i=>[...i.children]).filter(i=>!!i.id),n=[...((s=this.templateContent)==null?void 0:s.children)||[]].filter(i=>!!i.id).map(i=>i.id);return t.filter(i=>n.includes(i.id))}get performAction(){if(this.action){const t=tn[this.action];if(t)return t;y(this,Ee,rt).call(this,"unknown action")}y(this,Ee,rt).call(this,"action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;y(this,Ee,rt).call(this,"target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const t=this.ownerDocument.createElement("template");return this.appendChild(t),t}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;y(this,Ee,rt).call(this,"first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Sn.renderElement}})}get targetElementsById(){var n;const t=(n=this.ownerDocument)==null?void 0:n.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){var n;const t=(n=this.ownerDocument)==null?void 0:n.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}};Ee=new WeakSet,rt=function(t){throw new Error(`${this.description}: ${t}`)};let _t=Sn;class Gs extends HTMLElement{constructor(){super(...arguments);h(this,"streamSource",null)}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),br(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),vr(this.streamSource))}get src(){return this.getAttribute("src")||""}}K.delegateConstructor=ba;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",K);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",_t);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",Gs);(()=>{let r=document.currentScript;if(r&&!r.hasAttribute("data-turbo-suppress-warning"))for(r=r.parentElement;r;){if(r==document.body)return console.warn(es`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applicationâs JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ââ
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,r.outerHTML);r=r.parentElement}})();window.Turbo={...pa,StreamActions:tn};en();const va=Object.freeze(Object.defineProperty({__proto__:null,FetchEnctype:ce,FetchMethod:_,FetchRequest:Qe,FetchResponse:hr,FrameElement:K,FrameLoadingStyle:Se,FrameRenderer:pr,PageRenderer:gr,PageSnapshot:W,StreamActions:tn,StreamElement:_t,StreamSourceElement:Gs,cache:Rs,clearCache:Is,config:B,connectStreamSource:br,disconnectStreamSource:vr,fetch:Xr,fetchEnctypeFromString:cs,fetchMethodFromString:dr,isSafe:fr,navigator:Ms,registerAdapter:Os,renderStreamMessage:Fs,session:P,setConfirmMethod:Bs,setFormMode:Ns,setProgressBarDelay:Ds,start:en,visit:Ps},Symbol.toStringTag,{value:"Module"})),ya="modulepreload",Sa=function(r){return"/vite/"+r},Rn={},wa=function(e,t,n){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Sa(i),i in Rn)return;Rn[i]=!0;const c=i.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(!!n)for(let A=s.length-1;A>=0;A--){const F=s[A];if(F.href===i&&(!c||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${u}`))return;const S=document.createElement("link");if(S.rel=c?"stylesheet":ya,c||(S.as="script",S.crossOrigin=""),S.href=i,document.head.appendChild(S),c)return new Promise((A,F)=>{S.addEventListener("load",A),S.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i})};let Js;async function Ea(){return Js||Mn(Aa().then(Mn))}function Mn(r){return Js=r}async function Aa(){const{createConsumer:r}=await wa(()=>import("./index-f551d0e2.js"),[]);return r()}async function Ta(r,e){const{subscriptions:t}=await Ea();return t.create(r,e)}function xr(r){return!r||typeof r!="object"||r instanceof Date||r instanceof RegExp?r:Array.isArray(r)?r.map(xr):Object.keys(r).reduce(function(e,t){var n=t[0].toLowerCase()+t.slice(1).replace(/([A-Z]+)/g,function(s,i){return"_"+i.toLowerCase()});return e[n]=xr(r[t]),e},{})}class Xs extends HTMLElement{async connectedCallback(){br(this),this.subscription=await Ta(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){vr(this),this.subscription&&this.subscription.unsubscribe(),this.subscriptionDisconnected()}attributeChangedCallback(){this.subscription&&(this.disconnectedCallback(),this.connectedCallback())}dispatchMessageEvent(e){const t=new MessageEvent("message",{data:e});return this.dispatchEvent(t)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){const e=this.getAttribute("channel"),t=this.getAttribute("signed-stream-name");return{channel:e,signed_stream_name:t,...xr({...this.dataset})}}}h(Xs,"observedAttributes",["channel","signed-stream-name"]);customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",Xs);function Ca(r){if(r.target instanceof HTMLFormElement){const{target:e,detail:{fetchOptions:t}}=r;e.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:n}}})=>{const s=Ra(t.body)?t.body:new URLSearchParams,i=La(n,s,e);/get/i.test(i)||(/post/i.test(i)?s.delete("_method"):s.set("_method",i),t.method="post")},{once:!0})}}function La(r,e,t){const n=ka(r),s=e.get("_method"),i=t.getAttribute("method")||"get";return typeof n=="string"?n:typeof s=="string"?s:i}function ka(r){return r instanceof HTMLButtonElement||r instanceof HTMLInputElement?r.name==="_method"?r.value:r.hasAttribute("formmethod")?r.formMethod:null:null}function Ra(r){return r instanceof FormData||r instanceof URLSearchParams}window.Turbo=va;addEventListener("turbo:before-fetch-request",Ca);class Ma{constructor(e,t,n){this.eventTarget=e,this.eventName=t,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=Oa(e);for(const n of this.bindings){if(t.immediatePropagationStopped)break;n.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{const n=e.index,s=t.index;return n<s?-1:n>s?1:0})}}function Oa(r){if("immediatePropagationStopped"in r)return r;{const{stopImmediatePropagation:e}=r;return Object.assign(r,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}class Pa{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,n={}){this.application.handleError(e,`Error ${t}`,n)}clearEventListenersForBinding(e){const t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){const{eventTarget:t,eventName:n,eventOptions:s}=e,i=this.fetchEventListenerMapForEventTarget(t),c=this.cacheKey(n,s);i.delete(c),i.size==0&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:n,eventOptions:s}=e;return this.fetchEventListener(t,n,s)}fetchEventListener(e,t,n){const s=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(t,n);let c=s.get(i);return c||(c=this.createEventListener(e,t,n),s.set(i,c)),c}createEventListener(e,t,n){const s=new Ma(e,t,n);return this.started&&s.connect(),s}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const n=[e];return Object.keys(t).sort().forEach(s=>{n.push(`${t[s]?"":"!"}${s}`)}),n.join(":")}}const Fa={stop({event:r,value:e}){return e&&r.stopPropagation(),!0},prevent({event:r,value:e}){return e&&r.preventDefault(),!0},self({event:r,value:e,element:t}){return e?t===r.target:!0}},Ia=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Da(r){const t=r.trim().match(Ia)||[];let n=t[2],s=t[3];return s&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${s}`,s=""),{eventTarget:Ba(t[4]),eventName:n,eventOptions:t[7]?Na(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||s}}function Ba(r){if(r=="window")return window;if(r=="document")return document}function Na(r){return r.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function $a(r){if(r==window)return"window";if(r==document)return"document"}function rn(r){return r.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function Hr(r){return rn(r.replace(/--/g,"-").replace(/__/g,"_"))}function Et(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Qs(r){return r.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function qa(r){return r.match(/[^\s]+/g)||[]}function On(r){return r!=null}function Vr(r,e){return Object.prototype.hasOwnProperty.call(r,e)}const Pn=["meta","ctrl","alt","shift"];class xa{constructor(e,t,n,s){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||Ha(e)||Mt("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||Mt("missing identifier"),this.methodName=n.methodName||Mt("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=s}static forToken(e,t){return new this(e.element,e.index,Da(e.content),t)}toString(){const e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;const t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;const n=t.filter(s=>!Pn.includes(s))[0];return n?(Vr(this.keyMappings,n)||Mt(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;const t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:n,value:s}of Array.from(this.element.attributes)){const i=n.match(t),c=i&&i[1];c&&(e[rn(c)]=Va(s))}return e}get eventTargetName(){return $a(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){const[n,s,i,c]=Pn.map(u=>t.includes(u));return e.metaKey!==n||e.ctrlKey!==s||e.altKey!==i||e.shiftKey!==c}}const Fn={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:r=>r.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function Ha(r){const e=r.tagName.toLowerCase();if(e in Fn)return Fn[e](r)}function Mt(r){throw new Error(r)}function Va(r){try{return JSON.parse(r)}catch{return r}}class _a{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){const t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){const{element:t}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:s}=this.context;let i=!0;for(const[c,u]of Object.entries(this.eventOptions))if(c in n){const m=n[c];i=i&&m({name:c,value:u,event:e,element:t,controller:s})}else continue;return i}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){const{target:t,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:n,action:this.methodName})}catch(s){const{identifier:i,controller:c,element:u,index:m}=this,S={identifier:i,controller:c,element:u,index:m,event:e};this.context.handleError(s,`invoking action "${this.action}"`,S)}}willBeInvokedByEvent(e){const t=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class Ys{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(const t of Array.from(e)){const n=this.elementFromNode(t);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const n=this.elementFromNode(t);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const n of this.matchElementsInTree(e))t.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class Zs{constructor(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new Ys(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}function ja(r,e,t){ei(r,e).add(t)}function Ua(r,e,t){ei(r,e).delete(t),Wa(r,e)}function ei(r,e){let t=r.get(e);return t||(t=new Set,r.set(e,t)),t}function Wa(r,e){const t=r.get(e);t!=null&&t.size==0&&r.delete(e)}class Ce{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,n)=>t.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,n)=>t+n.size,0)}add(e,t){ja(this.valuesByKey,e,t)}delete(e,t){Ua(this.valuesByKey,e,t)}has(e,t){const n=this.valuesByKey.get(e);return n!=null&&n.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,n])=>n.has(e)).map(([t,n])=>t)}}class Ka{constructor(e,t,n,s){this._selector=t,this.details=s,this.elementObserver=new Ys(e,this),this.delegate=n,this.matchesByElement=new Ce}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){const{selector:t}=this;if(t){const n=e.matches(t);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}else return!1}matchElementsInTree(e){const{selector:t}=this;if(t){const n=this.matchElement(e)?[e]:[],s=Array.from(e.querySelectorAll(t)).filter(i=>this.matchElement(i));return n.concat(s)}else return[]}elementMatched(e){const{selector:t}=this;t&&this.selectorMatched(e,t)}elementUnmatched(e){const t=this.matchesByElement.getKeysForValue(e);for(const n of t)this.selectorUnmatched(e,n)}elementAttributeChanged(e,t){const{selector:n}=this;if(n){const s=this.matchElement(e),i=this.matchesByElement.has(n,e);s&&!i?this.selectorMatched(e,n):!s&&i&&this.selectorUnmatched(e,n)}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)}}class za{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);const s=this.element.getAttribute(e);if(this.stringMap.get(e)!=s&&this.stringMapValueChanged(s,n,t),s==null){const i=this.stringMap.get(e);this.stringMap.delete(e),i&&this.stringMapKeyRemoved(n,e,i)}else this.stringMap.set(e,s)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,n)}stringMapKeyRemoved(e,t,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class ti{constructor(e,t,n){this.attributeObserver=new Zs(e,t,this),this.delegate=n,this.tokensByElement=new Ce}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,n]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(t=>this.tokenMatched(t))}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),s=Ja(t,n).findIndex(([i,c])=>!Xa(i,c));return s==-1?[[],[]]:[t.slice(s),n.slice(s)]}readTokensForElement(e){const t=this.attributeName,n=e.getAttribute(t)||"";return Ga(n,e,t)}}function Ga(r,e,t){return r.trim().split(/\s+/).filter(n=>n.length).map((n,s)=>({element:e,attributeName:t,content:n,index:s}))}function Ja(r,e){const t=Math.max(r.length,e.length);return Array.from({length:t},(n,s)=>[r[s],e[s]])}function Xa(r,e){return r&&e&&r.index==e.index&&r.content==e.content}class ri{constructor(e,t,n){this.tokenListObserver=new ti(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))}tokenUnmatched(e){const{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(t){return{error:t}}}}class Qa{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new ri(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new _a(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){const t=xa.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class Ya{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new za(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const n=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,t,n){const s=this.valueDescriptorNameMap[t];e!==null&&(n===null&&(n=s.writer(s.defaultValue)),this.invokeChangedCallback(t,e,n))}stringMapKeyRemoved(e,t,n){const s=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,s.writer(this.receiver[e]),n):this.invokeChangedCallback(e,s.writer(s.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:n,writer:s}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,s(n),void 0)}invokeChangedCallback(e,t,n){const s=`${e}Changed`,i=this.receiver[s];if(typeof i=="function"){const c=this.valueDescriptorNameMap[e];try{const u=c.reader(t);let m=n;n&&(m=c.reader(n)),i.call(this.receiver,u,m)}catch(u){throw u instanceof TypeError&&(u.message=`Stimulus Value "${this.context.identifier}.${c.name}" - ${u.message}`),u}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{const n=this.valueDescriptorMap[t];e[n.name]=n}),e}hasValue(e){const t=this.valueDescriptorNameMap[e],n=`has${Et(t.name)}`;return this.receiver[n]}}class Za{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new Ce}start(){this.tokenListObserver||(this.tokenListObserver=new ti(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var n;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,t)))}disconnectTarget(e,t){var n;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,t)))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function At(r,e){const t=ni(r);return Array.from(t.reduce((n,s)=>(tc(s,e).forEach(i=>n.add(i)),n),new Set))}function ec(r,e){return ni(r).reduce((n,s)=>(n.push(...rc(s,e)),n),[])}function ni(r){const e=[];for(;r;)e.push(r),r=Object.getPrototypeOf(r);return e.reverse()}function tc(r,e){const t=r[e];return Array.isArray(t)?t:[]}function rc(r,e){const t=r[e];return t?Object.keys(t).map(n=>[n,t[n]]):[]}class nc{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new Ce,this.outletElementsByName=new Ce,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,t,{outletName:n}){const s=this.getOutlet(e,n);s&&this.connectOutlet(s,e,n)}selectorUnmatched(e,t,{outletName:n}){const s=this.getOutletFromMap(e,n);s&&this.disconnectOutlet(s,e,n)}selectorMatchElement(e,{outletName:t}){const n=this.selector(t),s=this.hasOutlet(e,t),i=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return n?s&&i&&e.matches(n):!1}elementMatchedAttribute(e,t){const n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,t){const n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,t){const n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,t,n){var s;this.outletElementsByName.has(n,t)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,t),(s=this.selectorObserverMap.get(n))===null||s===void 0||s.pause(()=>this.delegate.outletConnected(e,t,n)))}disconnectOutlet(e,t,n){var s;this.outletElementsByName.has(n,t)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,t),(s=this.selectorObserverMap.get(n))===null||s===void 0||s.pause(()=>this.delegate.outletDisconnected(e,t,n)))}disconnectAllOutlets(){for(const e of this.outletElementsByName.keys)for(const t of this.outletElementsByName.getValuesForKey(e))for(const n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,t,e)}updateSelectorObserverForOutlet(e){const t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))}setupSelectorObserverForOutlet(e){const t=this.selector(e),n=new Ka(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){const t=this.attributeNameForOutletName(e),n=new Zs(this.scope.element,t,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(t=>this.attributeNameForOutletName(t)===e)}get outletDependencies(){const e=new Ce;return this.router.modules.forEach(t=>{const n=t.definition.controllerConstructor;At(n,"outlets").forEach(i=>e.add(i,t.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const e=this.dependentControllerIdentifiers;return this.router.contexts.filter(t=>e.includes(t.identifier))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find(n=>n.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class sc{constructor(e,t){this.logDebugActivity=(n,s={})=>{const{identifier:i,controller:c,element:u}=this;s=Object.assign({identifier:i,controller:c,element:u},s),this.application.logDebugActivity(this.identifier,n,s)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Qa(this,this.dispatcher),this.valueObserver=new Ya(this,this.controller),this.targetObserver=new Za(this,this),this.outletObserver=new nc(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,n={}){const{identifier:s,controller:i,element:c}=this;n=Object.assign({identifier:s,controller:i,element:c},n),this.application.handleError(e,`Error ${t}`,n)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,n){this.invokeControllerMethod(`${Hr(n)}OutletConnected`,e,t)}outletDisconnected(e,t,n){this.invokeControllerMethod(`${Hr(n)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){const n=this.controller;typeof n[e]=="function"&&n[e](...t)}}function ic(r){return oc(r,ac(r))}function oc(r,e){const t=hc(r),n=cc(r.prototype,e);return Object.defineProperties(t.prototype,n),t}function ac(r){return At(r,"blessings").reduce((t,n)=>{const s=n(r);for(const i in s){const c=t[i]||{};t[i]=Object.assign(c,s[i])}return t},{})}function cc(r,e){return uc(e).reduce((t,n)=>{const s=lc(r,e,n);return s&&Object.assign(t,{[n]:s}),t},{})}function lc(r,e,t){const n=Object.getOwnPropertyDescriptor(r,t);if(!(n&&"value"in n)){const i=Object.getOwnPropertyDescriptor(e,t).value;return n&&(i.get=n.get||i.get,i.set=n.set||i.set),i}}const uc=(()=>typeof Object.getOwnPropertySymbols=="function"?r=>[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)]:Object.getOwnPropertyNames)(),hc=(()=>{function r(t){function n(){return Reflect.construct(t,arguments,new.target)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,t),n}function e(){const n=r(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),r}catch{return n=>class extends n{}}})();function dc(r){return{identifier:r.identifier,controllerConstructor:ic(r.controllerConstructor)}}class fc{constructor(e,t){this.application=e,this.definition=dc(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new sc(this,e),this.contextsByScope.set(e,t)),t}}class mc{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const t=this.data.get(this.getDataKey(e))||"";return qa(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class pc{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Qs(e)}`}}class gc{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,n){let s=this.warnedKeysByObject.get(e);s||(s=new Set,this.warnedKeysByObject.set(e,s)),s.has(t)||(s.add(t),this.logger.warn(n,e))}}function _r(r,e){return`[${r}~="${e}"]`}class bc{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,n)=>t||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((t,n)=>[...t,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){const t=this.schema.targetAttributeForScope(this.identifier);return _r(t,e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return _r(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:n}=this,s=this.schema.targetAttribute,i=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${t}`,`Please replace ${s}="${n}.${t}" with ${i}="${t}". The ${s} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class vc{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,n)=>t||this.findOutlet(n),void 0)}findAll(...e){return e.reduce((t,n)=>[...t,...this.findAllOutlets(n)],[])}getSelectorForOutletName(e){const t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){const t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){const t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter(s=>this.matchesElement(s,e,t))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter(s=>this.matchesElement(s,e,t))}matchesElement(e,t,n){const s=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&s.split(" ").includes(n)}}class nn{constructor(e,t,n,s){this.targets=new bc(this),this.classes=new mc(this),this.data=new pc(this),this.containsElement=i=>i.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=n,this.guide=new gc(s),this.outlets=new vc(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return _r(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new nn(this.schema,document.documentElement,this.identifier,this.guide.logger)}}class yc{constructor(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new ri(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:n}=e;return this.parseValueForElementAndIdentifier(t,n)}parseValueForElementAndIdentifier(e,t){const n=this.fetchScopesByIdentifierForElement(e);let s=n.get(t);return s||(s=this.delegate.createScopeForElementAndIdentifier(e,t),n.set(t,s)),s}elementMatchedValue(e,t){const n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),n==1&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),n==1&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}class Sc{constructor(e){this.application=e,this.scopeObserver=new yc(this.element,this.schema,this),this.scopesByIdentifier=new Ce,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new fc(this.application,e);this.connectModule(t);const n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find(s=>s.element==e)}proposeToConnectScopeForElementAndIdentifier(e,t){const n=this.scopeObserver.parseValueForElementAndIdentifier(e,t);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e)}handleError(e,t,n){this.application.handleError(e,t,n)}createScopeForElementAndIdentifier(e,t){return new nn(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}}const wc={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:r=>`data-${r}-target`,outletAttributeForScope:(r,e)=>`data-${r}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},In("abcdefghijklmnopqrstuvwxyz".split("").map(r=>[r,r]))),In("0123456789".split("").map(r=>[r,r])))};function In(r){return r.reduce((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n}),{})}class Wu{constructor(e=document.documentElement,t=wc){this.logger=console,this.debug=!1,this.logDebugActivity=(n,s,i={})=>{this.debug&&this.logFormattedMessage(n,s,i)},this.element=e,this.schema=t,this.dispatcher=new Pa(this),this.router=new Sc(this),this.actionDescriptorFilters=Object.assign({},Fa)}static start(e,t){const n=new this(e,t);return n.start(),n}async start(){await Ec(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(s=>{s.controllerConstructor.shouldLoad&&this.router.loadDefinition(s)})}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(s=>this.router.unloadIdentifier(s))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){const n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null}handleError(e,t,n){var s;this.logger.error(`%s

%o

%o`,t,e,n),(s=window.onerror)===null||s===void 0||s.call(window,t,"",0,0,e)}logFormattedMessage(e,t,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}}function Ec(){return new Promise(r=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>r()):r()})}function Ac(r){return At(r,"classes").reduce((t,n)=>Object.assign(t,Tc(n)),{})}function Tc(r){return{[`${r}Class`]:{get(){const{classes:e}=this;if(e.has(r))return e.get(r);{const t=e.getAttributeName(r);throw new Error(`Missing attribute "${t}"`)}}},[`${r}Classes`]:{get(){return this.classes.getAll(r)}},[`has${Et(r)}Class`]:{get(){return this.classes.has(r)}}}}function Cc(r){return At(r,"outlets").reduce((t,n)=>Object.assign(t,Lc(n)),{})}function Dn(r,e,t){return r.application.getControllerForElementAndIdentifier(e,t)}function Bn(r,e,t){let n=Dn(r,e,t);if(n||(r.application.router.proposeToConnectScopeForElementAndIdentifier(e,t),n=Dn(r,e,t),n))return n}function Lc(r){const e=Hr(r);return{[`${e}Outlet`]:{get(){const t=this.outlets.find(r),n=this.outlets.getSelectorForOutletName(r);if(t){const s=Bn(this,t,r);if(s)return s;throw new Error(`The provided outlet element is missing an outlet controller "${r}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${r}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}Outlets`]:{get(){const t=this.outlets.findAll(r);return t.length>0?t.map(n=>{const s=Bn(this,n,r);if(s)return s;console.warn(`The provided outlet element is missing an outlet controller "${r}" instance for host controller "${this.identifier}"`,n)}).filter(n=>n):[]}},[`${e}OutletElement`]:{get(){const t=this.outlets.find(r),n=this.outlets.getSelectorForOutletName(r);if(t)return t;throw new Error(`Missing outlet element "${r}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(r)}},[`has${Et(e)}Outlet`]:{get(){return this.outlets.has(r)}}}}function kc(r){return At(r,"targets").reduce((t,n)=>Object.assign(t,Rc(n)),{})}function Rc(r){return{[`${r}Target`]:{get(){const e=this.targets.find(r);if(e)return e;throw new Error(`Missing target element "${r}" for "${this.identifier}" controller`)}},[`${r}Targets`]:{get(){return this.targets.findAll(r)}},[`has${Et(r)}Target`]:{get(){return this.targets.has(r)}}}}function Mc(r){const e=ec(r,"values"),t={valueDescriptorMap:{get(){return e.reduce((n,s)=>{const i=si(s,this.identifier),c=this.data.getAttributeNameForKey(i.key);return Object.assign(n,{[c]:i})},{})}}};return e.reduce((n,s)=>Object.assign(n,Oc(s)),t)}function Oc(r,e){const t=si(r,e),{key:n,name:s,reader:i,writer:c}=t;return{[s]:{get(){const u=this.data.get(n);return u!==null?i(u):t.defaultValue},set(u){u===void 0?this.data.delete(n):this.data.set(n,c(u))}},[`has${Et(s)}`]:{get(){return this.data.has(n)||t.hasCustomDefaultValue}}}}function si([r,e],t){return Dc({controller:t,token:r,typeDefinition:e})}function jt(r){switch(r){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function at(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(r))return"array";if(Object.prototype.toString.call(r)==="[object Object]")return"object"}function Pc(r){const{controller:e,token:t,typeObject:n}=r,s=On(n.type),i=On(n.default),c=s&&i,u=s&&!i,m=!s&&i,S=jt(n.type),A=at(r.typeObject.default);if(u)return S;if(m)return A;if(S!==A){const F=e?`${e}.${t}`:t;throw new Error(`The specified default value for the Stimulus Value "${F}" must match the defined type "${S}". The provided default value of "${n.default}" is of type "${A}".`)}if(c)return S}function Fc(r){const{controller:e,token:t,typeDefinition:n}=r,i=Pc({controller:e,token:t,typeObject:n}),c=at(n),u=jt(n),m=i||c||u;if(m)return m;const S=e?`${e}.${n}`:t;throw new Error(`Unknown value type "${S}" for "${t}" value`)}function Ic(r){const e=jt(r);if(e)return Nn[e];const t=Vr(r,"default"),n=Vr(r,"type"),s=r;if(t)return s.default;if(n){const{type:i}=s,c=jt(i);if(c)return Nn[c]}return r}function Dc(r){const{token:e,typeDefinition:t}=r,n=`${Qs(e)}-value`,s=Fc(r);return{type:s,key:n,name:rn(n),get defaultValue(){return Ic(t)},get hasCustomDefaultValue(){return at(t)!==void 0},reader:Bc[s],writer:$n[s]||$n.default}}const Nn={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Bc={array(r){const e=JSON.parse(r);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${r}" of type "${at(e)}"`);return e},boolean(r){return!(r=="0"||String(r).toLowerCase()=="false")},number(r){return Number(r.replace(/_/g,""))},object(r){const e=JSON.parse(r);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${r}" of type "${at(e)}"`);return e},string(r){return r}},$n={default:Nc,array:qn,object:qn};function qn(r){return JSON.stringify(r)}function Nc(r){return`${r}`}class yr{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:s=this.identifier,bubbles:i=!0,cancelable:c=!0}={}){const u=s?`${s}:${e}`:e,m=new CustomEvent(u,{detail:n,bubbles:i,cancelable:c});return t.dispatchEvent(m),m}}yr.blessings=[Ac,kc,Mc,Cc];yr.targets=[];yr.outlets=[];yr.values={};var xn=11;function $c(r,e){var t=e.attributes,n,s,i,c,u;if(!(e.nodeType===xn||r.nodeType===xn)){for(var m=t.length-1;m>=0;m--)n=t[m],s=n.name,i=n.namespaceURI,c=n.value,i?(s=n.localName||s,u=r.getAttributeNS(i,s),u!==c&&(n.prefix==="xmlns"&&(s=n.name),r.setAttributeNS(i,s,c))):(u=r.getAttribute(s),u!==c&&r.setAttribute(s,c));for(var S=r.attributes,A=S.length-1;A>=0;A--)n=S[A],s=n.name,i=n.namespaceURI,i?(s=n.localName||s,e.hasAttributeNS(i,s)||r.removeAttributeNS(i,s)):e.hasAttribute(s)||r.removeAttribute(s)}}var Ot,qc="http://www.w3.org/1999/xhtml",V=typeof document>"u"?void 0:document,xc=!!V&&"content"in V.createElement("template"),Hc=!!V&&V.createRange&&"createContextualFragment"in V.createRange();function Vc(r){var e=V.createElement("template");return e.innerHTML=r,e.content.childNodes[0]}function _c(r){Ot||(Ot=V.createRange(),Ot.selectNode(V.body));var e=Ot.createContextualFragment(r);return e.childNodes[0]}function jc(r){var e=V.createElement("body");return e.innerHTML=r,e.childNodes[0]}function Uc(r){return r=r.trim(),xc?Vc(r):Hc?_c(r):jc(r)}function Pt(r,e){var t=r.nodeName,n=e.nodeName,s,i;return t===n?!0:(s=t.charCodeAt(0),i=n.charCodeAt(0),s<=90&&i>=97?t===n.toUpperCase():i<=90&&s>=97?n===t.toUpperCase():!1)}function Wc(r,e){return!e||e===qc?V.createElement(r):V.createElementNS(e,r)}function Kc(r,e){for(var t=r.firstChild;t;){var n=t.nextSibling;e.appendChild(t),t=n}return e}function Fr(r,e,t){r[t]!==e[t]&&(r[t]=e[t],r[t]?r.setAttribute(t,""):r.removeAttribute(t))}var Hn={OPTION:function(r,e){var t=r.parentNode;if(t){var n=t.nodeName.toUpperCase();n==="OPTGROUP"&&(t=t.parentNode,n=t&&t.nodeName.toUpperCase()),n==="SELECT"&&!t.hasAttribute("multiple")&&(r.hasAttribute("selected")&&!e.selected&&(r.setAttribute("selected","selected"),r.removeAttribute("selected")),t.selectedIndex=-1)}Fr(r,e,"selected")},INPUT:function(r,e){Fr(r,e,"checked"),Fr(r,e,"disabled"),r.value!==e.value&&(r.value=e.value),e.hasAttribute("value")||r.removeAttribute("value")},TEXTAREA:function(r,e){var t=e.value;r.value!==t&&(r.value=t);var n=r.firstChild;if(n){var s=n.nodeValue;if(s==t||!t&&s==r.placeholder)return;n.nodeValue=t}},SELECT:function(r,e){if(!e.hasAttribute("multiple")){for(var t=-1,n=0,s=r.firstChild,i,c;s;)if(c=s.nodeName&&s.nodeName.toUpperCase(),c==="OPTGROUP")i=s,s=i.firstChild;else{if(c==="OPTION"){if(s.hasAttribute("selected")){t=n;break}n++}s=s.nextSibling,!s&&i&&(s=i.nextSibling,i=null)}r.selectedIndex=t}}},et=1,zc=11,Vn=3,_n=8;function be(){}function Gc(r){if(r)return r.getAttribute&&r.getAttribute("id")||r.id}function Jc(r){return function(t,n,s){if(s||(s={}),typeof n=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var i=n;n=V.createElement("html"),n.innerHTML=i}else n=Uc(n);var c=s.getNodeKey||Gc,u=s.onBeforeNodeAdded||be,m=s.onNodeAdded||be,S=s.onBeforeElUpdated||be,A=s.onElUpdated||be,F=s.onBeforeNodeDiscarded||be,k=s.onNodeDiscarded||be,G=s.onBeforeElChildrenUpdated||be,J=s.childrenOnly===!0,q=Object.create(null),T=[];function H(E){T.push(E)}function Tt(E,a){if(E.nodeType===et)for(var o=E.firstChild;o;){var l=void 0;a&&(l=c(o))?H(l):(k(o),o.firstChild&&Tt(o,a)),o=o.nextSibling}}function Fe(E,a,o){F(E)!==!1&&(a&&a.removeChild(E),k(E),Tt(E,o))}function Ct(E){if(E.nodeType===et||E.nodeType===zc)for(var a=E.firstChild;a;){var o=c(a);o&&(q[o]=a),Ct(a),a=a.nextSibling}}Ct(t);function Ye(E){m(E);for(var a=E.firstChild;a;){var o=a.nextSibling,l=c(a);if(l){var d=q[l];d&&Pt(a,d)?(a.parentNode.replaceChild(d,a),Ie(d,a)):Ye(a)}else Ye(a);a=o}}function Rr(E,a,o){for(;a;){var l=a.nextSibling;(o=c(a))?H(o):Fe(a,E,!0),a=l}}function Ie(E,a,o){var l=c(a);l&&delete q[l],!(!o&&(S(E,a)===!1||(r(E,a),A(E),G(E,a)===!1)))&&(E.nodeName!=="TEXTAREA"?Mr(E,a):Hn.TEXTAREA(E,a))}function Mr(E,a){var o=a.firstChild,l=E.firstChild,d,f,p,w,L;e:for(;o;){for(w=o.nextSibling,d=c(o);l;){if(p=l.nextSibling,o.isSameNode&&o.isSameNode(l)){o=w,l=p;continue e}f=c(l);var j=l.nodeType,Q=void 0;if(j===o.nodeType&&(j===et?(d?d!==f&&((L=q[d])?p===L?Q=!1:(E.insertBefore(L,l),f?H(f):Fe(l,E,!0),l=L):Q=!1):f&&(Q=!1),Q=Q!==!1&&Pt(l,o),Q&&Ie(l,o)):(j===Vn||j==_n)&&(Q=!0,l.nodeValue!==o.nodeValue&&(l.nodeValue=o.nodeValue))),Q){o=w,l=p;continue e}f?H(f):Fe(l,E,!0),l=p}if(d&&(L=q[d])&&Pt(L,o))E.appendChild(L),Ie(L,o);else{var R=u(o);R!==!1&&(R&&(o=R),o.actualize&&(o=o.actualize(E.ownerDocument||V)),E.appendChild(o),Ye(o))}o=w,l=p}Rr(E,l,f);var U=Hn[E.nodeName];U&&U(E,a)}var D=t,De=D.nodeType,Lt=n.nodeType;if(!J){if(De===et)Lt===et?Pt(t,n)||(k(t),D=Kc(t,Wc(n.nodeName,n.namespaceURI))):D=n;else if(De===Vn||De===_n){if(Lt===De)return D.nodeValue!==n.nodeValue&&(D.nodeValue=n.nodeValue),D;D=n}}if(D===n)k(t);else{if(n.isSameNode&&n.isSameNode(D))return;if(Ie(D,n,J),T)for(var X=0,pe=T.length;X<pe;X++){var Be=q[T[X]];Be&&Fe(Be,Be.parentNode,!1)}}return!J&&D!==t&&t.parentNode&&(D.actualize&&(D=D.actualize(t.ownerDocument||V)),t.parentNode.replaceChild(D,t)),D}}var Xc=Jc($c);const ii=new WeakMap;function Qc(r){const e=r instanceof Element?r:r instanceof Node?r.parentElement:null,t=e!=null?e.closest("input, button"):null;return t!=null&&t.type==="submit"?t:null}function Yc(r){const e=Qc(r.target);(e==null?void 0:e.form)!=null&&ii.set(e.form,e)}(function(){let r=Event.prototype;const e=navigator.vendor.includes("Apple Computer");if("SubmitEvent"in window){if(!e)return;r=window.SubmitEvent.prototype}"submitter"in r||(addEventListener("click",Yc,!0),Object.defineProperty(r,"submitter",{get(){if(this.type==="submit"&&this.target instanceof HTMLFormElement)return ii.get(this.target)}}))})();var Ir;function sn(r){return Array.isArray(r)?r:Array.from!=null?Array.from(r):[].slice.call(r)}const Dr=(Ir=Element.prototype.matches)!==null&&Ir!==void 0?Ir:Element.prototype.webkitMatchesSelector;function $(r,e){return r instanceof Element?typeof e=="string"?Dr.call(r,e):Dr.call(r,e.selector)&&!Dr.call(r,e.exclude):!1}let oi="form",nt="a";window.Turbo!=null&&(oi='form[data-turbo="false"]',nt='a[data-turbo="false"]');const Sr="data-",ve=`${Sr}remote`,jn=`${Sr}method`,Un=`${Sr}confirm`,Y=`${Sr}disable`,Z=`${Y}-with`,Zc={remoteSelector:`a[${ve}="true"], a[${jn}], form[${ve}="true"]`,linkClickSelector:`a[${Un}], ${nt}[${jn}], ${nt}[${ve}]:not([disabled]), ${nt}[${Z}], ${nt}[${Y}]`,buttonClickSelector:{selector:`button[${ve}]:not([form]), button[${Un}]:not([form]), button[${Z}]:not([form]), button[${Y}]:not([form])`,exclude:"form button"},inputChangeSelector:`select[${ve}], input[${ve}], textarea[${ve}]`,formSubmitSelector:`${oi}`,formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:`input[${Z}]:enabled, button[${Z}]:enabled, textarea[${Z}]:enabled, input[${Y}]:enabled, button[${Y}]:enabled, textarea[${Y}]:enabled`,formEnableSelector:`input[${Z}]:disabled, button[${Z}]:disabled, textarea[${Z}]:disabled, input[${Y}]:disabled, button[${Y}]:disabled, textarea[${Y}]:disabled`,linkDisableSelector:`a[${Z}], a[${Y}]`,buttonDisableSelector:`button[data-remote][${Z}], button[data-remote][${Y}]`,fileInputSelector:"fileInputSelector: 'input[name][type=file]:not([disabled])'"};function ke(r,e){r.forEach(t=>{const{selectors:n,event:s}=t,i=n.map(wr).join(", ");Oe(i).forEach(c=>{n.forEach(u=>{$(c,u)&&e.forEach(m=>c.addEventListener(s,m))})})})}function Re(r,e){r.forEach(t=>{const{selectors:n,event:s}=t,i=n.map(wr).join(", ");Oe(i).forEach(c=>{n.forEach(u=>{$(c,u)&&e.forEach(m=>c.removeEventListener(s,m))})})})}function Me(r,e,t){r.forEach(n=>{n.selectors.forEach(s=>{e.forEach(i=>{$(i,s)&&t.forEach(c=>i.addEventListener(n.event,c)),i instanceof Element&&i.querySelectorAll(wr(s)).forEach(c=>{t.forEach(u=>c.addEventListener(n.event,u))})})})})}function on(r,e){return $(r,"form")?Array.from(r.elements).filter(t=>$(t,e)):sn(r.querySelectorAll(wr(e)))}function Oe(r){return sn(document.querySelectorAll(r))}function wr(r){let e;return typeof r=="string"?e=r:e=r.selector,e}const el={bubbles:!0,cancelable:!0};function x(r,e={}){const t=new CustomEvent(r,{...el,...e});return this.dispatchEvent(t),t}function ai(r,e,t={}){return!x.call(r,e,t).defaultPrevented}function Pe(r){r.target!=null&&ai(r.target,"ujs:everythingStopped"),r.stopPropagation(),r.stopImmediatePropagation(),r.preventDefault()}const ee="ajax",I={ajaxBefore:`${ee}:before`,ajaxBeforeSend:`${ee}:beforeSend`,ajaxSend:`${ee}:send`,ajaxResponseError:`${ee}:response:error`,ajaxRequestError:`${ee}:request:error`,ajaxSuccess:`${ee}:success`,ajaxError:`${ee}:error`,ajaxComplete:`${ee}:complete`,ajaxStopped:`${ee}:stopped`,ajaxBeforeNavigation:`${ee}:beforeNavigation`};function tl(r,e,t,n){r.addEventListener(t,s=>{let i=s.target;for(;!(!(i instanceof Element)||$(i,e));)i=i.parentNode;i instanceof Element&&n.call(i,s)===!1&&(s.preventDefault(),s.stopPropagation())})}function ci(r){var e;return r.submitter instanceof HTMLElement?r.submitter:(e=r.detail)===null||e===void 0?void 0:e.submitter}function z(r){return new URL(r.toString(),document.baseURI)}function rl(r,e){return z(r).href===z(e).href}function Wn(...r){const e={};for(const t of r)for(const[n,s]of t)e[n]=s;return new Headers(e)}function Er(r){return r.toLowerCase()==="get"}function an(r){let e,t;const n=r.ok,s=r.status,i=!n,c=r.status>=400&&r.status<=499,u=r.status>=500&&r.status<=599,m=r.redirected,S=z(r.url),A=T("content-type"),F=!!(A!=null&&A.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)),k=!!(A!=null&&A.toLowerCase().match(/(^application\/json|\.json)/));async function G(){return e!=null||(e=await r.clone().text()),e}async function J(){return F?await G():await Promise.reject(r)}async function q(){return k?(t!=null||(t=JSON.parse(await G())),t):await Promise.reject(r)}function T(H){return r.headers.get(H)}return{succeeded:n,failed:i,redirected:m,clientError:c,serverError:u,location:S,contentType:A,getHeader:T,isHtml:F,isJson:k,text:G,html:J,json:q,response:r,status:s}}function nl(r,e){const t=new FormData(r);let n,s;return e!=null&&(n=e.getAttribute("name"),s=e.getAttribute("value")),n!=null&&s!=null&&t.get(n)!==s&&t.append(n,s),t}const ye={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"};function sl(r){switch(r.toLowerCase()){case ye.multipart:return ye.multipart;case ye.plain:return ye.plain;default:return ye.urlEncoded}}function il(r){return[...r].reduce((e,[t,n])=>e.concat(typeof n=="string"?[[t,n]]:[]),[])}function cn(r){return new URLSearchParams(il(r))}const li={"*":"*/*",any:"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"};function ui(r){var e,t,n;const i={...(t=(e=window.mrujs)===null||e===void 0?void 0:e.mimeTypes)!==null&&t!==void 0?t:li};return r==null?(n=i==null?void 0:i.any)!==null&&n!==void 0?n:"*/*":(r=r.trim(),i!=null&&Object.keys(i).includes(r)&&(r=i[r]),r.includes("*/*")?r:`${r}, */*; q=0.01`)}function ol(r){return r.target!=null&&r.target.isContentEditable||r.defaultPrevented||r.button>0||r.altKey||r.ctrlKey||r.metaKey||r.shiftKey}function al(r){return!ol(r)}function hi(r){al(r)||Pe(r)}function cl(r){if(r!=null){const t=(document.cookie.trim()!==""?document.cookie.split("; "):[]).find(n=>n.startsWith(r));if(t!=null){const n=t.split("=").slice(1).join("=");return n.trim()!==""?decodeURIComponent(n):void 0}}}function ln(r){var e;const t=Oe(`meta[name="${r}"]`),n=t[t.length-1];return(e=n==null?void 0:n.content)!==null&&e!==void 0?e:void 0}function ll(){return{name:"Csrf",connect:ul,disconnect:hl,observerCallback:dl}}function ul(){un()}function hl(){}function dl(r){for(let e=0;e<r.length;e++){const t=r[e];fl(t)&&un()}}function un(){const r=hn(),e=dn();r!=null&&e!=null&&Oe(`form input[name="${e}"]`).forEach(t=>{const n=t;n.value=r})}function fl(r){return r instanceof HTMLMetaElement?r.matches('meta[name="csrf-token]"'):!1}function hn(){var r;return(r=cl(dn()))!==null&&r!==void 0?r:ln("csrf-token")}function dn(){return ln("csrf-param")}function di(r){const e=hn(),t="X-CSRF-TOKEN";e!=null&&r.headers.get(t)==null&&r.headers.set("X-CSRF-TOKEN",e)}function Ar(r,e={}){const t=new AbortController,n=t.signal;let s,i,c="get",u,m=!1;c=gl(e),m=Er(c);const S=pl(e);r instanceof Request?(i=Kn(r.url,m,S),u=G(r)):(i=Kn(r,m,S),u=J()),m||di(u),s=u.headers;const A=i.searchParams;return{request:u,method:c,url:i,body:S,params:A,abortController:t,abortSignal:n,cancel:k,headers:s,isGetRequest:m};function F(){return new Headers({Accept:"*/*","X-REQUESTED-WITH":"XmlHttpRequest"})}function k(T){if(t.abort(),T!=null){Pe(T);const{element:H}=T.detail;x.call(H,I.ajaxStopped,{detail:{...T.detail}})}}function G(T){s=Wn(F(),T.headers);const H={...q(),...T};return m&&delete H.body,new Request(i,H)}function J(){s=Wn(F(),new Headers(e.headers));const T={...q(),...e};return T.headers=s,m&&delete T.body,new Request(i,T)}function q(){const T={method:c,headers:s,credentials:"same-origin",redirect:"follow",signal:n};return m||(T.body=S),T}}function Kn(r,e,t){const n=z(r);return e?bl(n,ml(t)):n}function ml(r){return r instanceof URLSearchParams?Array.from(r.entries()):[]}function pl(r){var e;return(e=r.body)!==null&&e!==void 0?e:new URLSearchParams}function gl(r){var e,t;return(t=(e=r.method)===null||e===void 0?void 0:e.toLowerCase())!==null&&t!==void 0?t:"get"}function bl(r,e){const t=new URLSearchParams(r.search);for(const[n,s]of e)s instanceof File||n!=="authenticity_token"&&(t.has(n)?(t.delete(n),r.searchParams.set(n,s)):r.searchParams.append(n,s));return r}function vl(r,e){const t=z(Al(r,e)),n=yl(r,e),s=Ar(t,n),i=s.request;return{fetchRequest:s,request:i,element:r,submitter:e}}function yl(r,e){const t=El(r,e),n=Sl(r),s={method:t,headers:n};return s.body=Tl(r,t,e),s}function Sl(r){let e;r!=null&&(e=r.dataset.type);const t=ui(e),n=new Headers({Accept:t});return n.set("Accept",t),n}function wl(r,e){return nl(r,e)}function El(r,e){var t,n;return((n=(t=e==null?void 0:e.getAttribute("formmethod"))!==null&&t!==void 0?t:r.getAttribute("method"))!==null&&n!==void 0?n:"get").toLowerCase()}function Al(r,e){var t,n;return(n=(t=e==null?void 0:e.getAttribute("formaction"))!==null&&t!==void 0?t:r.getAttribute("action"))!==null&&n!==void 0?n:""}function Tl(r,e,t){const n=wl(r,t);return Cl(r,t)===ye.urlEncoded||Er(e)?cn(n):n}function Cl(r,e){var t,n;const s=r.getAttribute("enctype"),i=(n=(t=e==null?void 0:e.getAttribute("formenctype"))!==null&&t!==void 0?t:s)!==null&&n!==void 0?n:ye.urlEncoded;return sl(i)}function Ll(){const r=[fn];let e=[];function t(){e=kl()}function n(){ke(e,r)}function s(){Re(e,r)}function i(c){Me(e,c,r)}return{name:"ElementDisabler",initialize:t,connect:n,disconnect:s,observerCallback:i,queries:e}}function kl(){const{formSubmitSelector:r,linkClickSelector:e,buttonClickSelector:t,inputChangeSelector:n}=window.mrujs;return[{event:"click",selectors:[t,e]},{event:"ajax:send",selectors:[r]},{event:"turbo:submit-start",selectors:["form"]},{event:"change",selectors:[n]}]}function fn(r){let e;if(r instanceof Event?e=r.target:e=r,e==null)return;const{linkDisableSelector:t,buttonDisableSelector:n,formDisableSelector:s,formSubmitSelector:i}=window.mrujs;$(e,t)?Ml(e):$(e,n)||$(e,s)?fi(e):$(e,i)&&Rl(e)}function Rl(r){on(r,window.mrujs.formDisableSelector).forEach(e=>fi(e))}function fi(r){if(r.dataset.ujsDisabled!=null)return;const e=r.getAttribute("data-disable-with");e!=null&&($(r,"button")?(r.dataset.ujsEnableWith=r.innerHTML,r.innerHTML=e):(r.dataset.ujsEnableWith=r.value,r.value=e)),r.dataset.ujsDisabled="true",setTimeout(()=>{r.disabled=!0})}function Ml(r){if(r.dataset.ujsDisabled!=null)return;const e=r.dataset.disableWith;e!=null&&(r.dataset.ujsEnableWith=r.innerHTML,r.innerHTML=e),r.addEventListener("click",Pe),r.dataset.ujsDisabled="true"}function Ol(){return{name:"FormSubmitDispatcher",connect:Pl,disconnect:Fl}}function Pl(){mi("addEventListener")}function Fl(){mi("removeEventListener")}function Il(r){if(r.defaultPrevented)return;const e=Cr(r),t=ci(r);if(e.dataset.remote!=="true"||Xe(e)||Xe(t))return;t!=null&&fn(t),r.preventDefault();const{fetchRequest:n,request:s}=vl(e,t),i={element:e,fetchRequest:n,request:s,submitter:t};x.call(e,I.ajaxBefore,{detail:i})}function Dl(r){const{element:e,fetchRequest:t,request:n,submitter:s}=r.detail;if(r.defaultPrevented||Xe(e)||Xe(s)){Tr(r);return}x.call(e,I.ajaxBeforeSend,{detail:{element:e,fetchRequest:t,request:n,submitter:s}})}function Bl(r){const{element:e,request:t,submitter:n}=r.detail;if(r.defaultPrevented||Xe(e)||Xe(n)){Tr(r);return}x.call(e,I.ajaxSend,{detail:{...r.detail}}),window.fetch(t).then(s=>{const i=an(s),{response:c}=i;Nl({...r.detail,fetchResponse:i,response:c})}).catch(s=>$l({...r.detail,error:s}))}function zn(r){if(r.defaultPrevented){Tr(r);return}x.call(Cr(r),I.ajaxComplete,{detail:{...r.detail}})}function Nl({element:r,fetchRequest:e,request:t,fetchResponse:n,response:s,submitter:i}){const c=s==null?void 0:s.status;if((n==null?void 0:n.succeeded)===!0){x.call(r,I.ajaxSuccess,{detail:{element:r,fetchRequest:e,request:t,fetchResponse:n,response:s,submitter:i,status:c}});return}x.call(r,I.ajaxResponseError,{detail:{element:r,fetchRequest:e,request:t,fetchResponse:n,response:s,submitter:i,status:c}})}function $l({element:r,fetchRequest:e,request:t,error:n,submitter:s}){x.call(r,I.ajaxRequestError,{detail:{element:r,fetchRequest:e,request:t,error:n,submitter:s}})}function Gn(r){if(r.defaultPrevented){Tr(r);return}x.call(Cr(r),I.ajaxError,{detail:{...r.detail}})}function Tr(r){x.call(Cr(r),I.ajaxStopped,{detail:{...r.detail}})}function mi(r){document[r]("submit",Il),document[r](I.ajaxBefore,Dl),document[r](I.ajaxBeforeSend,Bl),document[r](I.ajaxSuccess,zn),document[r](I.ajaxRequestError,Gn),document[r](I.ajaxResponseError,Gn),document[r](I.ajaxError,zn)}function Cr(r){return r.target}function Xe(r){return(r==null?void 0:r.dataset.ujsSubmit)==="false"}function ql(){let r;function e(){r=window.mrujs.remoteSelector}function t(){Oe(r).forEach(i=>{Br(i)})}function n(){}function s(i){i.forEach(c=>{$(c,window.mrujs.remoteSelector)&&Br(c),c instanceof Element&&c.querySelectorAll(r).forEach(u=>{Br(u)})})}return{name:"RemoteWatcher",initialize:e,connect:t,disconnect:n,observerCallback:s}}function Br(r){r!=null&&r.getAttribute("data-turbo")==null&&r.setAttribute("data-turbo","false")}function xl(){const r=[hi];let e=[];function t(){e=Hl()}function n(){ke(e,r)}function s(){Re(e,r)}function i(c){Me(e,c,r)}return{name:"ClickHandler",initialize:t,connect:n,disconnect:s,observerCallback:i,queries:e,callbacks:r}}function Hl(){const{linkClickSelector:r,buttonClickSelector:e,formInputClickSelector:t}=window.mrujs;return[{event:"click",selectors:[r,e,t]}]}function Vl(){const r=[pi];let e=[];function t(){e=jl()}function n(){ke(e,r)}function s(){Re(e,r)}function i(c){Me(e,c,r)}return{name:"Confirm",initialize:t,connect:n,disconnect:s,observerCallback:i,queries:e,callbacks:r}}function pi(r){_l(r)||Pe(r)}function _l(r){if(r.currentTarget==null)return!0;const e=r.currentTarget,t=e.dataset.confirm;if(t==null)return!0;let n=!1;try{n=window.mrujs.confirm(t)}catch(i){console.warn(`The following error was encountered when calling: "mrujs.confirm"

`),console.error(i)}const s=x.call(e,"confirm:complete",{detail:{answer:n}});return n&&!s.defaultPrevented}function jl(){const{linkClickSelector:r,buttonClickSelector:e,formInputClickSelector:t,inputChangeSelector:n,formSubmitSelector:s}=window.mrujs;return[{event:"click",selectors:[r,e,t]},{event:"change",selectors:[n]},{event:"submit",selectors:[s]}]}function Ul(r){var e,t;const n=zl(r);let s;!((e=window.mrujs)===null||e===void 0)&&e.maskLinkMethods&&(s=Gl(n));const i=(t=r.getAttribute("href"))!==null&&t!==void 0?t:r.dataset.url;if(i==null)throw Error(`No 'href' or 'data-url' found on ${JSON.stringify(r)}`);const c=z(i),u={headers:Wl(r)};u.method=s??n,Er(n)||(u.body=Jl(n,r));const m=Ar(c,u);return{request:m.request,fetchRequest:m}}function Wl(r){let e;r!=null&&(e=r.dataset.type);const t=ui(e),n=new Headers({Accept:t});return n.set("Accept",t),n}function Kl(r){var e;const t=new FormData;return!((e=window.mrujs)===null||e===void 0)&&e.maskLinkMethods&&t.append("_method",r),t}function zl(r){var e;return((e=r.dataset.method)!==null&&e!==void 0?e:"get").toLowerCase()}function Gl(r){return Er(r)?"get":"post"}function Jl(r,e){const t=cn(Kl(r)),n=e.getAttribute("name"),s=e.value;n!=null&&s!=null&&t.append(n,s);const i=Xl(e.getAttribute("data-params"));if(i==null)return t;for(const[c,u]of i){if(u==null)continue;const m=u.toString();(typeof m=="string"||m instanceof String)&&t.append(c,m.toString())}return t}function Xl(r){if(r!=null){Ql(r)&&(r=decodeURIComponent(r));try{return Object.entries(JSON.parse(r))}catch{}try{return new URLSearchParams(r).entries()}catch{}}}function Ql(r){return decodeURI(r)!==decodeURIComponent(r)}function Yl(){const r=[gi];let e=[];function t(){e=Zl()}function n(){ke(e,r)}function s(){Re(e,r)}function i(c){Me(e,c,r)}return{name:"Method",initialize:t,connect:n,disconnect:s,observerCallback:i,queries:e,callbacks:r}}function gi(r){var e;const t=r.currentTarget;if(t.dataset.remote==="false"||t.dataset.method==null&&t.dataset.remote!=="true"||((e=t.getAttribute("href"))!==null&&e!==void 0?e:t.dataset.url)==null)return;r.preventDefault();const s=r.target,i=Ul(t),{fetchRequest:c,request:u}=i;x.call(t,I.ajaxBeforeSend,{detail:{element:t,fetchRequest:c,request:u,submitter:s}})}function Zl(){const{linkClickSelector:r,inputChangeSelector:e,buttonClickSelector:t}=window.mrujs;return[{event:"click",selectors:[r,t]},{event:"change",selectors:[e]}]}const eu=["advance","replace","restore"];function tu(){const r={name:"NavigationAdapter",connect:ru,disconnect:nu,cacheContains:iu,cacheHTML:mn,prefetch:su,navigate:yi};return Object.defineProperties(r,{adapter:{get:function(){return oe()}},snapshotCache:{get:function(){return pn(oe())}}}),r}function ru(){document.addEventListener("ajax:complete",bi),document.addEventListener("ajax:beforeNavigation",vi)}function nu(){document.removeEventListener("ajax:complete",bi),document.removeEventListener("ajax:beforeNavigation",vi)}function bi(r){r.defaultPrevented||x.call(r.detail.element,"ajax:beforeNavigation",{detail:{...r.detail}})}function oe(){if(Lr())return window.Turbolinks;if(kr())return window.Turbo}function Lr(){return!(window.Turbolinks==null||window.Turbolinks.supported!==!0)}function kr(){return window.Turbo!=null}async function su(r){const e=z(r),t=await window.mrujs.fetch(e,{method:"get"});if(t==null)return;const n=an(t);if(!n.isHtml)return;const s=await n.html();mn({html:s,url:r})}function mn({html:r,url:e}){const t=z(e),n=Si(r);au(t,n)}function pn(r){if(r!=null){if(Lr())return r.controller.cache;if(kr())return r.navigator.view.snapshotCache}}function iu(r){var e;const t=z(r),n=pn(oe());return(e=n==null?void 0:n.has(t))!==null&&e!==void 0?e:!1}function vi(r){if(r.defaultPrevented)return;const{element:e,fetchResponse:t,fetchRequest:n}=r.detail;ou(e,t)&&yi(e,n,t)}function ou(r,e){return r.dataset.ujsNavigate==="false"||e==null||!e.isHtml?!1:r instanceof HTMLFormElement&&e.succeeded&&!e.redirected?(console.error("Successful form submissions must redirect"),!1):!0}function yi(r,e,t,n){n=n??fu(r);let s=z(window.location.href);e!=null&&e.isGetRequest&&(s=e.url),t.redirected&&(s=t.location);const i=window.location.href,c=rl(s,i);let u="morphdom";(window.mrujs.errorRenderer==="turbo"||r.getAttribute("data-ujs-error-renderer")==="turbo")&&(u="turbo");const m=r.getAttribute("data-ujs-morph"),S=oe();if(t.failed||c||S==null||m==="true"){uu(r,t,!c,u);return}S.clearCache(),lu(t,s,n)}function au(r,e){if(e==="")return;const t=pn(oe());t==null||t.put(z(r),e)}function Si(r){var e,t,n;const s=oe();return s==null?"":Lr()?(e=s.Snapshot.wrap(r))!==null&&e!==void 0?e:"":kr()&&cu()&&(n=(t=s.PageSnapshot)===null||t===void 0?void 0:t.fromHTMLString(r))!==null&&n!==void 0?n:""}function cu(){const r=oe();return r==null?!1:Lr()?!0:kr()?r.PageSnapshot==null?(console.warn("The version of Turbo you are currently using does not support snapshot generation. Please consider upgrading your version of Turbo."),!1):!0:!1}function lu(r,e,t){const n=oe();n!=null&&r.html().then(s=>{mn({html:s,url:e}),t="restore",n.visit(e,{action:t})}).catch(s=>console.error(s))}function uu(r,e,t=!1,n="morphdom"){e.isHtml&&e.html().then(s=>{var i;if(n==="turbo")du(s);else if(n==="morphdom"){const c=r.getAttribute("data-ujs-morph-root");let u=document.documentElement;c!=null&&(c.trim()===""?u=r:u=(i=document.querySelector(c))!==null&&i!==void 0?i:document.documentElement),hu(s,u)}t&&window.history.pushState({},"",e.location)}).catch(s=>{console.error(s)})}function hu(r,e=document.documentElement){const t=document.createElement("template");t.innerHTML=String(r).trim();const n=e===document.documentElement?t.innerHTML:t.content;document.dispatchEvent(new CustomEvent("ujs:beforeMorph")),Xc(e,n,{childrenOnly:!0}),document.dispatchEvent(new CustomEvent("ujs:afterMorph"))}function du(r){const e=oe();e==null||e.navigator.view.renderError(Si(r))}function fu(r){var e,t;let n=(t=(e=r.dataset.turbolinksAction)!==null&&e!==void 0?e:r.dataset.turboAction)!==null&&t!==void 0?t:"advance";return eu.includes(n)||(n="advance"),n}function mu(){const r=[wi];let e=[];function t(){e=pu()}function n(){ke(e,r)}function s(){Re(e,r)}function i(c){Me(e,c,r)}return{name:"DisabledElementChecker",initialize:t,connect:n,disconnect:s,observerCallback:i,queries:e,callbacks:r}}function pu(){const{linkClickSelector:r,buttonClickSelector:e,inputChangeSelector:t,formSubmitSelector:n,formInputClickSelector:s}=window.mrujs;return[{event:"click",selectors:[e,r,s]},{event:"change",selectors:[t]},{event:"submit",selectors:[n]}]}function wi(r){this.disabled===!0&&Pe(r)}function gu(){const r=[gn];let e=[];function t(){e=bu()}function n(){ke(e,r)}function s(){Re(e,r)}function i(c){Me(e,c,r)}return{name:"ElementEnabler",initialize:t,connect:n,disconnect:s,observerCallback:i,callbacks:r}}function bu(){const{formSubmitSelector:r,buttonDisableSelector:e,linkDisableSelector:t,inputChangeSelector:n}=window.mrujs,s=[t,e,r,n];return[{event:I.ajaxComplete,selectors:s},{event:I.ajaxStopped,selectors:s},{event:"turbo:submit-end",selectors:s}]}function gn(r){let e=r;r instanceof Event&&(e=r.target);const{linkDisableSelector:t,buttonDisableSelector:n,formEnableSelector:s,formSubmitSelector:i}=window.mrujs;if($(e,t)){vu(e);return}if($(e,n)||$(e,s)){bn(e);return}$(e,i)&&Ei(e)}function vu(r){const e=r.dataset.ujsEnableWith;e!=null&&(r.innerHTML=e,r.removeAttribute("data-ujs-enable-with")),r.removeEventListener("click",Pe),r.removeAttribute("data-ujs-disabled")}function Ei(r){on(r,window.mrujs.formEnableSelector).forEach(bn)}function bn(r){const e=r.dataset.ujsEnableWith;e!=null&&($(r,"button")?r.innerHTML=e:r.value=e,r.removeAttribute("data-ujs-enable-with")),r.disabled=!1,r.removeAttribute("data-ujs-disabled")}function yu(r){const e=new MutationObserver(r);function t(){e.observe(document,{childList:!0,subtree:!0,attributes:!0})}function n(){e.disconnect()}return{name:"AddedNodesObserver",connect:t,disconnect:n}}function Su(r={}){var e;r.connected=!1,r={...Zc},r.FetchResponse=an,r.FetchRequest=Ar,r.addedNodesObserver=yu(Cu),r.remoteWatcher=ql(),r.elementEnabler=gu(),r.elementDisabler=Ll(),r.disabledElementChecker=mu(),r.navigationAdapter=tu(),r.clickHandler=xl(),r.confirmClass=Vl(),r.csrf=ll(),r.method=Yl(),r.formSubmitDispatcher=Ol();const t=[r.addedNodesObserver,r.remoteWatcher,r.csrf,r.elementEnabler,r.clickHandler,r.disabledElementChecker,r.confirmClass,r.elementDisabler,r.method,r.formSubmitDispatcher,r.navigationAdapter];r.corePlugins=t;const n=(e=r.plugins)!==null&&e!==void 0?e:[];r.plugins=n;const s=t.concat(n);return r.allPlugins=s,r.maskLinkMethods=!0,r.mimeTypes={...li},r.stop=Eu,r.restart=Au,r.fetch=Lu,r.urlEncodeFormData=cn,r.registerMimeTypes=ku,r.enableElement=gn,r.enableFormElements=Ei,r.enableFormElement=bn,r.disableElement=fn,r.stopEverything=Pe,r.dispatch=x,r.addListeners=ke,r.removeListeners=Re,r.attachObserverCallback=Me,r.expandUrl=z,r.findSubmitter=ci,r.$=Oe,r.CSRFProtection=di,r.csrfParam=dn,r.csrfToken=hn,r.cspNonce=Ru,r.confirm=Tu,r.handleConfirm=pi,r.handleDisabledElement=wi,r.handleMethod=gi,r.start=wu,r.preventInsignificantClick=hi,r.refreshCSRFTokens=un,r.delegate=tl,r.fire=ai,r.formElements=on,r.matches=$,r.toArray=sn,r.prefetch=r.navigationAdapter.prefetch,r}function wu(r={}){var e;if(window.Rails=window.mrujs=this,window.mrujs.connected)return window.mrujs;Object.assign(this,r),this.allPlugins=this.corePlugins.concat(this.plugins);for(let t=0;t<this.allPlugins.length;t++){const n=this.allPlugins[t];(e=n.initialize)===null||e===void 0||e.call(n)}return Ai(),this}function Eu(){Ti()}function Au(){Ti(),Ai()}function Ai(){var r;jr(),window.addEventListener("pageshow",jr);for(let e=0;e<window.mrujs.allPlugins.length;e++){const t=window.mrujs.allPlugins[e];(r=t.connect)===null||r===void 0||r.call(t)}window.mrujs.connected=!0}function Ti(){var r;window.removeEventListener("pageshow",jr);for(let e=0;e<window.mrujs.allPlugins.length;e++){const t=window.mrujs.allPlugins[e];(r=t.disconnect)===null||r===void 0||r.call(t)}window.mrujs.connected=!1}function Tu(r){return window.confirm(r)}function Cu(r,e){for(const t of r){let n;t.type==="attributes"?n=[t.target]:n=Array.from(t.addedNodes),window.setTimeout(()=>{var s;for(let i=0;i<window.mrujs.allPlugins.length;i++){const c=window.mrujs.allPlugins[i];(s=c.observerCallback)===null||s===void 0||s.call(c,n)}},0)}}function Lu(r,e={}){let{element:t,submitter:n,dispatchEvents:s}=e;delete e.element,delete e.submitter,delete e.dispatchEvents;const i=Ar(r,e);if(s===!0){t==null&&(t=document.documentElement),x.call(t,I.ajaxBeforeSend,{detail:{element:t,fetchRequest:i,request:i.request,submitter:n}});return}return window.fetch(i.request)}function ku(r){return r.forEach(e=>{const{shortcut:t,header:n}=e;window.mrujs.mimeTypes[t]=n}),window.mrujs.mimeTypes}function jr(){const{formEnableSelector:r,linkDisableSelector:e}=window.mrujs;Oe(`${r}, ${e}`).forEach(t=>{gn(t)})}function Ru(){return ln("csp-nonce")}const Ku=Su();var $t={logger:typeof console<"u"?console:void 0,WebSocket:typeof WebSocket<"u"?WebSocket:void 0},O={log(...r){this.enabled&&(r.push(Date.now()),$t.logger.log("[ActionCable]",...r))}};const st=()=>new Date().getTime(),Ft=r=>(st()-r)/1e3;class vn{constructor(e){this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=e,this.reconnectAttempts=0}start(){this.isRunning()||(this.startedAt=st(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),O.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`))}stop(){this.isRunning()&&(this.stoppedAt=st(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),O.log("ConnectionMonitor stopped"))}isRunning(){return this.startedAt&&!this.stoppedAt}recordMessage(){this.pingedAt=st()}recordConnect(){this.reconnectAttempts=0,delete this.disconnectedAt,O.log("ConnectionMonitor recorded connect")}recordDisconnect(){this.disconnectedAt=st(),O.log("ConnectionMonitor recorded disconnect")}startPolling(){this.stopPolling(),this.poll()}stopPolling(){clearTimeout(this.pollTimeout)}poll(){this.pollTimeout=setTimeout(()=>{this.reconnectIfStale(),this.poll()},this.getPollInterval())}getPollInterval(){const{staleThreshold:e,reconnectionBackoffRate:t}=this.constructor,n=Math.pow(1+t,Math.min(this.reconnectAttempts,10)),i=(this.reconnectAttempts===0?1:t)*Math.random();return e*1e3*n*(1+i)}reconnectIfStale(){this.connectionIsStale()&&(O.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${Ft(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`),this.reconnectAttempts++,this.disconnectedRecently()?O.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${Ft(this.disconnectedAt)} s`):(O.log("ConnectionMonitor reopening"),this.connection.reopen()))}get refreshedAt(){return this.pingedAt?this.pingedAt:this.startedAt}connectionIsStale(){return Ft(this.refreshedAt)>this.constructor.staleThreshold}disconnectedRecently(){return this.disconnectedAt&&Ft(this.disconnectedAt)<this.constructor.staleThreshold}visibilityDidChange(){document.visibilityState==="visible"&&setTimeout(()=>{(this.connectionIsStale()||!this.connection.isOpen())&&(O.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`),this.connection.reopen())},200)}}vn.staleThreshold=6;vn.reconnectionBackoffRate=.15;var Ci={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart",remote:"remote"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]};const{message_types:tt,protocols:Ur}=Ci,Mu=Ur.slice(0,Ur.length-1),Jn=[].indexOf;class yn{constructor(e){this.open=this.open.bind(this),this.consumer=e,this.subscriptions=this.consumer.subscriptions,this.monitor=new vn(this),this.disconnected=!0}send(e){return this.isOpen()?(this.webSocket.send(JSON.stringify(e)),!0):!1}open(){if(this.isActive())return O.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`),!1;{const e=[...Ur,...this.consumer.subprotocols||[]];return O.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${e}`),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new $t.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0}}close({allowReconnect:e}={allowReconnect:!0}){if(e||this.monitor.stop(),this.isOpen())return this.webSocket.close()}reopen(){if(O.log(`Reopening WebSocket, current state is ${this.getState()}`),this.isActive())try{return this.close()}catch(e){O.log("Failed to reopen WebSocket",e)}finally{O.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()}getProtocol(){if(this.webSocket)return this.webSocket.protocol}isOpen(){return this.isState("open")}isActive(){return this.isState("open","connecting")}triedToReconnect(){return this.monitor.reconnectAttempts>0}isProtocolSupported(){return Jn.call(Mu,this.getProtocol())>=0}isState(...e){return Jn.call(e,this.getState())>=0}getState(){if(this.webSocket){for(let e in $t.WebSocket)if($t.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase()}return null}installEventHandlers(){for(let e in this.events){const t=this.events[e].bind(this);this.webSocket[`on${e}`]=t}}uninstallEventHandlers(){for(let e in this.events)this.webSocket[`on${e}`]=function(){}}}yn.reopenDelay=500;yn.prototype.events={message(r){if(!this.isProtocolSupported())return;const{identifier:e,message:t,reason:n,reconnect:s,type:i}=JSON.parse(r.data);switch(this.monitor.recordMessage(),i){case tt.welcome:return this.triedToReconnect()&&(this.reconnectAttempted=!0),this.monitor.recordConnect(),this.subscriptions.reload();case tt.disconnect:return O.log(`Disconnecting. Reason: ${n}`),this.close({allowReconnect:s});case tt.ping:return null;case tt.confirmation:return this.subscriptions.confirmSubscription(e),this.reconnectAttempted?(this.reconnectAttempted=!1,this.subscriptions.notify(e,"connected",{reconnected:!0})):this.subscriptions.notify(e,"connected",{reconnected:!1});case tt.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",t)}},open(){if(O.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`),this.disconnected=!1,!this.isProtocolSupported())return O.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close(r){if(O.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error(){O.log("WebSocket onerror event")}};const Ou=function(r,e){if(e!=null)for(let t in e){const n=e[t];r[t]=n}return r};class Pu{constructor(e,t={},n){this.consumer=e,this.identifier=JSON.stringify(t),Ou(this,n)}perform(e,t={}){return t.action=e,this.send(t)}send(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})}unsubscribe(){return this.consumer.subscriptions.remove(this)}}class Fu{constructor(e){this.subscriptions=e,this.pendingSubscriptions=[]}guarantee(e){this.pendingSubscriptions.indexOf(e)==-1?(O.log(`SubscriptionGuarantor guaranteeing ${e.identifier}`),this.pendingSubscriptions.push(e)):O.log(`SubscriptionGuarantor already guaranteeing ${e.identifier}`),this.startGuaranteeing()}forget(e){O.log(`SubscriptionGuarantor forgetting ${e.identifier}`),this.pendingSubscriptions=this.pendingSubscriptions.filter(t=>t!==e)}startGuaranteeing(){this.stopGuaranteeing(),this.retrySubscribing()}stopGuaranteeing(){clearTimeout(this.retryTimeout)}retrySubscribing(){this.retryTimeout=setTimeout(()=>{this.subscriptions&&typeof this.subscriptions.subscribe=="function"&&this.pendingSubscriptions.map(e=>{O.log(`SubscriptionGuarantor resubscribing ${e.identifier}`),this.subscriptions.subscribe(e)})},500)}}class Iu{constructor(e){this.consumer=e,this.guarantor=new Fu(this),this.subscriptions=[]}create(e,t){const n=e,s=typeof n=="object"?n:{channel:n},i=new Pu(this.consumer,s,t);return this.add(i)}add(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.subscribe(e),e}remove(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e}reject(e){return this.findAll(e).map(t=>(this.forget(t),this.notify(t,"rejected"),t))}forget(e){return this.guarantor.forget(e),this.subscriptions=this.subscriptions.filter(t=>t!==e),e}findAll(e){return this.subscriptions.filter(t=>t.identifier===e)}reload(){return this.subscriptions.map(e=>this.subscribe(e))}notifyAll(e,...t){return this.subscriptions.map(n=>this.notify(n,e,...t))}notify(e,t,...n){let s;return typeof e=="string"?s=this.findAll(e):s=[e],s.map(i=>typeof i[t]=="function"?i[t](...n):void 0)}subscribe(e){this.sendCommand(e,"subscribe")&&this.guarantor.guarantee(e)}confirmSubscription(e){O.log(`Subscription confirmed ${e}`),this.findAll(e).map(t=>this.guarantor.forget(t))}sendCommand(e,t){const{identifier:n}=e;return this.consumer.send({command:t,identifier:n})}}class Du{constructor(e){this._url=e,this.subscriptions=new Iu(this),this.connection=new yn(this),this.subprotocols=[]}get url(){return Bu(this._url)}send(e){return this.connection.send(e)}connect(){return this.connection.open()}disconnect(){return this.connection.close({allowReconnect:!1})}ensureActiveConnection(){if(!this.connection.isActive())return this.connection.open()}addSubProtocol(e){this.subprotocols=[...this.subprotocols,e]}}function Bu(r){if(typeof r=="function"&&(r=r()),r&&!/^wss?:/i.test(r)){const e=document.createElement("a");return e.href=r,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href}else return r}function zu(r=Nu("url")||Ci.default_mount_path){return new Du(r)}function Nu(r){const e=document.head.querySelector(`meta[name='action-cable-${r}']`);if(e)return e.getAttribute("content")}var $u=/^(?:.*?(?:controllers|components)\/|\.?\.\/)?(.+)(?:[/_-]controller\..+?)$/;function Gu(r,e){r.load(qu(e))}function qu(r){return Object.entries(r).map(xu).filter(e=>e)}function xu([r,e]){const t=Hu(r),n=e.default;if(t&&typeof n=="function")return{identifier:t,controllerConstructor:n}}function Hu(r){const e=(r.match($u)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}const g=200,Li={DOMContentLoaded:{wait:g},abort:{wait:g},animationcancel:{wait:g},animationend:{wait:g},animationiteration:{wait:g},animationstart:{wait:g},auxclick:{wait:g},change:{wait:g},click:{wait:g},compositionend:{wait:g},compositionstart:{wait:g},compositionupdate:{wait:g},contextmenu:{wait:g},copy:{wait:g},cut:{wait:g},dblclick:{wait:g},drag:{wait:g},dragend:{wait:g},dragenter:{wait:g},dragleave:{wait:g},dragover:{wait:g},dragstart:{wait:g},drop:{wait:g},error:{wait:g},focusin:{wait:g},focusout:{wait:g},fullscreenchange:{wait:g},fullscreenerror:{wait:g},hashchange:{wait:g},input:{wait:g},keydown:{wait:g},keyup:{wait:g},mousedown:{wait:g},mousemove:{wait:g},mouseout:{wait:g},mouseover:{wait:g},mouseup:{wait:g},paste:{wait:g},pointercancel:{wait:g},pointerdown:{wait:g},pointerlockchange:{wait:g},pointerlockerror:{wait:g},pointermove:{wait:g},pointerout:{wait:g},pointerover:{wait:g},pointerup:{wait:g},popstate:{wait:g},reset:{wait:g},scroll:{wait:g},select:{wait:g},submit:{wait:g},touchcancel:{wait:g},touchend:{wait:g},touchmove:{wait:g},touchstart:{wait:g},transitioncancel:{wait:g},transitionend:{wait:g},transitionrun:{wait:g},transitionstart:{wait:g},visibilitychange:{wait:g},wheel:{wait:g}};let Wr="debounced";const Kr={},ki=(r,e={})=>{const{wait:t}=e;let n;return(...s)=>{clearTimeout(n),n=setTimeout(()=>{n=null,r(...s)},t)}},Vu=r=>{const{bubbles:e,cancelable:t,composed:n}=r,s=new CustomEvent(`${Wr}:${r.type}`,{bubbles:e,cancelable:t,composed:n,detail:{originalEvent:r}});setTimeout(r.target.dispatchEvent(s))},Ri=(r,e={})=>{if(Kr[r])return;Kr[r]=e||{};const t=ki(Vu,e);document.addEventListener(r,n=>t(n))},_u=(r=Li)=>{Wr=r.prefix||Wr,delete r.prefix;for(const[e,t]of Object.entries(r))Ri(e,t)},Ju={debounce:ki,events:Li,initialize:_u,initializeEvent:Ri,initializedEvents:Kr};export{Wu as A,yr as C,va as T,wa as _,Xc as a,zu as c,Ju as d,Ku as m,Ms as n,Gu as r};
//# sourceMappingURL=index-c8557f21.js.map</script>
</body>
</html>
