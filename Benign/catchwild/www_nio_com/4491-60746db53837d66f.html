<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4491-60746db53837d66f.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4491],{57702:function(e,n,t){t.d(n,{a:function(){return a}});var l=t(67294);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"(min-width: 1024px)";const[n,t]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{const l=window.matchMedia(e);l.matches!==n&&t(l.matches);const a=()=>{t(l.matches)};return l.addListener(a),()=>l.removeListener(a)}),[n,e]),n}},64491:function(e,n,t){t.d(n,{Z:function(){return te}});var l=t(85893),a=t(67294),s=t(42283),r=t(94184),i=t.n(r);var c=e=>{let{label:n,error:t,onChange:s,value:r,rules:c={}}=e;const[o,d]=(0,a.useState)(!1);let u={};return c.minLength&&(u.minLength=c.minLength.value),c.maxLength&&(u.maxLength=c.maxLength.value),(0,l.jsxs)("div",{className:i()("n-dynamic-form-field n-dynamic-form-text-field",o?"n-dynamic-form-field-active":"",t?"error":""),children:[(0,l.jsx)("input",{...u,type:"text",placeholder:n,value:r,onChange:e=>s(e.target.value),onFocus:()=>d(!0),onBlur:()=>d(!1)}),t&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:t.message}})]})};var o=e=>{let{value:n}=e;return(0,l.jsx)("div",{className:"n-dynamic-form-field n-dynamic-form-hidden-field",children:(0,l.jsx)("input",{type:"hidden",value:n})})};var d=e=>{let{value:n,values:t,error:s,onChange:r}=e;const[i,c]=(0,a.useState)(!1),o=(0,a.useRef)(null),d=e=>{r(e),c(!1)},u=e=>{o.current&&!o.current.contains(e.target)&&c(!1)};return(0,a.useEffect)((()=>(document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)})),[]),(0,l.jsxs)("div",{className:"n-dynamic-form-field n-dynamic-form-select-field ".concat(i?"n-dynamic-form-field-active":""," ").concat(s?"error":""),ref:o,children:[(0,l.jsx)("label",{onClick:()=>c(!i),children:Array.isArray(t)?n:t[n]}),i&&(0,l.jsx)("ul",{className:"n-dynamic-form-select-field-options",children:Array.isArray(t)?t.map(((e,t)=>(0,l.jsx)("li",{onClick:()=>d(e),className:n===e?"n-dynamic-form-select-field-option-active":"",children:e},t))):Object.keys(t).map((e=>(0,l.jsx)("li",{onClick:()=>d(e),className:n===e?"n-dynamic-form-select-field-option-active":"",children:t[e]},e)))}),s&&(0,l.jsx)("div",{className:"n-dynamic-form-field-error",dangerouslySetInnerHTML:{__html:s.message}})]})};var u=e=>{let{label:n,error:t,onChange:s,extra:r}=e;const[i,o]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(r.sms.label),[p,f]=(0,a.useState)(0),[v,g]=(0,a.useState)(null),[y,x]=(0,a.useState)(!1),[j,b]=(0,a.useState)(!1),[N,C]=(0,a.useState)(null),S=new RegExp(r.phone.rules.pattern.value),w=new RegExp(r.sms.rules.pattern.value),E=async e=>{await new Promise((n=>{if(e>1){const t=e-1;h("".concat(t," ").concat(r.sms.counterUnit)),f(t),g(window.setTimeout((async()=>{await E(t),n()}),1e3))}else g(null),f(0),h(r.sms.label),n()}))};return(0,l.jsxs)("div",{className:"n-dynamic-form-cnsms-field ".concat(t?"error":""),children:[(0,l.jsx)("div",{className:"n-dynamic-form-cnsms-field-phone-wrapper",children:(0,l.jsx)(c,{rules:r.phone.rules,label:r.phone.label,error:t&&!i||y?r.phone.rules.pattern:null,onChange:e=>{e&&S.test(e)?(x(!1),o(e),d&&e&&s({phone:e,verifyCode:d})):(o(""),s(""))}})}),(0,l.jsxs)("div",{className:"n-dynamic-form-cnsms-field-sms-wrapper",children:[(0,l.jsx)(c,{rules:r.sms.rules,label:n,error:t||j?N||r.sms.rules.pattern:null,onChange:e=>{e&&w.test(e)?(u(e),i&&e&&s({phone:i,verifyCode:e})):(u(""),s(""))}}),(0,l.jsx)("div",{className:"n-dynamic-form-cnsms-field-sms-action",onClick:async()=>{if(i){if(x(!1),b(!1),C(""),document.querySelector(".n-dynamic-form-cnsms-field-sms-wrapper input").focus(),0===p){E(r.sms.counter);const e=await fetch("/bff/api/v1/marketing-leads/sms",{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:i,region:"CN"})}).catch((e=>(b(!0),{json:()=>({...r.sms.rules.frequency,success:!1})}))),n=await e.json();n.success?(C(null),b(!1)):(C(n),b(!0))}}else x(!0)},children:m})]})]})};var m=e=>{let{label:n,error:t,onChange:s,className:r=""}=e;const[c,o]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:"n-dynamic-form-field n-dynamic-form-checkbox-field ".concat(r," ").concat(c?"n-dynamic-form-checkbox-field-checked":""),children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",placeholder:n,onChange:e=>{o(e.target.checked),s(e.target.checked)}}),(0,l.jsx)("span",{className:i()("n-dynamic-form-checkbox-field-checkmark",t?"error":"")}),(0,l.jsx)("span",{className:"n-dynamic-form-checkbox-field-label-text",dangerouslySetInnerHTML:{__html:n}})]}),t&&t.message&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:t.message}})]})},h=t(57702),p=t(70177);var f=e=>{let{value:n,selectData:t,onChange:s,error:r,showCountrySelector:c,isMultiCity:o}=e;if(c)return(0,l.jsx)(l.Fragment,{});const d=(0,h.a)("(max-width: 1024px)");let u="a",m="a";const[f,v]=(0,a.useState)([]),[g,y]=(0,a.useState)([]),[x,j]=(0,a.useState)([]),[b,N]=(0,a.useState)(1),[C,S]=(0,a.useState)({}),[w,E]=(0,a.useState)(t.label),[_,k]=(0,a.useState)([]),[I,T]=(0,a.useState)([]),[L,F]=(0,a.useState)(0);async function H(){const e=await async function(){let e={},n=await fetch("/cdn-static/mynio/nextjs/test-drive/locations.json?".concat(+new Date)).catch((e=>(console.log("error: ",e),{json:()=>{}})));return e=await n.json(),e}();let n=[];for(const[t,l]of Object.entries(e)){let e=l.cities;e.sort(((e,n)=>e.pinyin>n.pinyin?1:-1)),l.cities=e,n.push(l)}n.sort(((e,n)=>e.pinyin>n.pinyin?1:-1)),v(n),y(n)}(0,a.useEffect)((()=>{s({province:"0",city:_.join(",")})}),[_]),(0,a.useEffect)((()=>{o&&(k([]),E(t.label),T([]),S({}))}),[o]);const M=e=>{e.preventDefault(),e.stopPropagation();let n=e.currentTarget.id;const t=f.filter((e=>e.id===n))[0].cities||[];let l=C;l.province=n,l.city=null,j(t),S(l),N(3),o||s(null)},q=e=>{if(1!==b&&"tab-province"===e.target.id){N(1),j([]);let e=C;e.city=null,S(e),E(t.label),o||s(null)}},R=()=>{var e;(null===(e=document.querySelector(".n-dynamic-form-province-select-dropdown"))||void 0===e?void 0:e.classList.contains("hide"))?(F(1),O(1)):(F(0),O(0))},P=e=>{var n;return(null===(n=x.filter((n=>n.id===e))[0])||void 0===n?void 0:n.name)||t.label},D=e=>{var n;"27"!==e.code&&"Escape"!==e.code||(null===(n=document.querySelector(".n-dynamic-form-province-select-dropdown"))||void 0===n?void 0:n.classList.contains("hide"))||(R(),O(0))},z=e=>{const n=["n-dynamic-form-province-select","n-dynamic-form-province-select-input","n-dynamic-form-province-select-dropdown","n-dynamic-form-province-tabs","n-dynamic-form-province-tabs-province","n-dynamic-form-province-tabs-city","n-dynamic-form-provinces-list","n-dynamic-form-province","n-dynamic-form-province-name","n-dynamic-form-province-alpha","n-dynamic-form-city-list","n-dynamic-form-cities-list","n-dynamic-form-city","n-dynamic-form-city-alpha","n-dynamic-form-city-name","n-dynamic-form-province-search"];var t;n.every((n=>n!==e.target.id))&&n.every((n=>!e.target.className.includes(n)))&&(e.preventDefault(),(null===(t=document.querySelector(".n-dynamic-form-province-select-dropdown"))||void 0===t?void 0:t.classList.contains("hide"))||(R(),O(0)))},O=e=>{const n=document.querySelector("body");n.style.overflow=1===e?"hidden":""};return(0,a.useEffect)((()=>(H(),d||(document.addEventListener("keyup",D),document.body.addEventListener("mouseup",z)),()=>{document.removeEventListener("mouseup",z),document.removeEventListener("keyup",D)})),[]),(0,l.jsxs)("div",{className:i()("n-dynamic-form-field","n-dynamic-form-province-select",r?"error":"",1===L?"open":""),children:[o?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"n-dynamic-form-province-select-multi",children:[I.map(((e,n)=>(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{children:e.name}),(0,l.jsx)("span",{onClick:()=>(e=>{k(_.filter((n=>n!==e.id)));const n=I.filter((n=>n.name!==e.name));T(0===n.length?[]:n),0===n.length&&s(null)})(e),className:"n-dynamic-form-province-select-multi-x",children:"X"})]},n))),(0,l.jsx)("label",{className:i()("n-dynamic-form-province-select-input",1===L?"open":""),dangerouslySetInnerHTML:{__html:0===I.length?t.label:""},onClick:R})]})}):(0,l.jsx)("label",{className:i()("n-dynamic-form-province-select-input",1===L?"open":""),dangerouslySetInnerHTML:{__html:w},onClick:R}),(0,l.jsxs)("div",{className:i()("n-dynamic-form-province-select-dropdown",0===L?"hide":""),children:[(0,l.jsx)("input",{type:"text",name:"search",className:"n-dynamic-form-province-search",id:"search",placeholder:"\u641c\u7d22",onKeyUp:e=>{let n=[],l=e.target.value.trim();""!==l?(f.map((e=>{e.pinyin.replace(/,/g,"").includes(l),e.cities&&e.cities.length&&e.cities.map((e=>{(e.pinyin.replace(/,/g,"").includes(l)||e.city.includes(l))&&n.push(e)}))})),n.length?n.sort(((e,n)=>e.pinyin>n.pinyin?1:-1)):n.push({city:t.error.noresults}),N(2)):N(1),j(n)}}),(0,l.jsx)("span",{className:"n-dynamic-form-province-select-dropdown-close",onClick:R,children:(0,l.jsx)(p.Z,{src:t.close,title:t.province.label})}),(0,l.jsxs)("div",{className:i()("n-dynamic-form-province-tabs",2===b?"hide":""),id:"province-tabs",children:[(0,l.jsx)("div",{className:i()("n-dynamic-form-province-tabs-province",1===b?"active":""),dangerouslySetInnerHTML:{__html:t.province.label},id:"tab-province",onClick:q}),(0,l.jsx)("div",{className:i()("n-dynamic-form-province-tabs-city",[2,3,4].includes(b)?"active":""),dangerouslySetInnerHTML:{__html:t.city.label},id:"tab-city",onClick:q})]}),(0,l.jsx)("ul",{className:i()("n-dynamic-form-provinces-list",1!==b?"hide":""),id:"provinces-list",children:g&&g.map(((e,n)=>{const t=e.pinyin.substring(0,1);let a=!1;return u===t&&(a=!0),u=t,(0,l.jsxs)("li",{className:"n-dynamic-form-province",id:e.id,onClick:M,children:[(0,l.jsx)("span",{className:i()("n-dynamic-form-province-alpha",a?"hide":""),dangerouslySetInnerHTML:{__html:t}}),(0,l.jsx)("span",{className:"n-dynamic-form-province-name",dangerouslySetInnerHTML:{__html:e.province}})]},n)}))}),(0,l.jsx)("div",{className:i()("n-dynamic-form-city-list",1===b?"hide":""),id:"city-list",children:(0,l.jsx)("ul",{className:"n-dynamic-form-cities-list",children:x&&x.map(((e,n)=>{var t;const a=(null===(t=e.pinyin)||void 0===t?void 0:t.substring(0,1))||"";let r=!1;return m===a&&(r=!0),m=a,(0,l.jsxs)("li",{className:i()("n-dynamic-form-city",C.city===e.id&&e.id&&!o?"active":"",o&&_.includes(e.id)?"active":"",e.id?"":"disabled"),id:e.id,onClick:n=>((e,n)=>{let t=C;t.city=e.currentTarget.id||null,t.city||(t=null);const l=P((null===t||void 0===t?void 0:t.city)||"");if(o){if(-1===_.indexOf(e.currentTarget.id))k([..._,e.currentTarget.id]),T([...I,{name:l,id:e.currentTarget.id}]);else{k(_.filter((n=>n!==e.currentTarget.id)));const n=I.filter((e=>e.name!==l));T(0===n.length?[]:n),0===n.length&&s(null)}N(4),F(0),O(0)}else{E(l);const e=f.filter((e=>e.province===n.province));e.length>0&&(t.province=e[0].area_code),S(t),s(t),N(4),F(0),O(0)}})(n,e),children:[(0,l.jsx)("span",{className:i()("n-dynamic-form-city-alpha",r?"hide":""),dangerouslySetInnerHTML:{__html:a}}),(0,l.jsx)("span",{className:"n-dynamic-form-city-name",dangerouslySetInnerHTML:{__html:e.city}})]},n)}))})})]}),r&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:r.message}})]})},v=t(11163),g=t(33185),y=t(55746),x=t.n(y);var j=e=>{let{value:n,onChange:t}=e;const s=(0,v.useRouter)(),[r,i]=(0,a.useState)(n);return(0,a.useEffect)((()=>{const e=(0,g.ve)("channel")||x().getItem("channel");e&&((0,g.SG)(s.locale,e),t(e),i(e))}),[r,t,s.locale]),(0,l.jsx)("div",{className:"n-dynamic-form-field n-dynamic-form-hidden-field",children:(0,l.jsx)("input",{value:r,onChange:t})})};var b=e=>{let{value:n,onChange:t}=e;const s=(0,v.useRouter)(),[r,i]=(0,a.useState)(n);return(0,a.useEffect)((()=>{const e=(0,g.ve)("bd_vid")||x().getItem("bd_vid");e&&((0,g.SG)(s.locale,null,e),t(e),i(e))}),[r,t,s.locale]),(0,l.jsx)("div",{className:"n-dynamic-form-field n-dynamic-form-hidden-field",children:(0,l.jsx)("input",{value:r,onChange:t})})};var N=e=>{let{label:n,error:t,onChange:s,value:r,rules:c={}}=e;const[o,d]=(0,a.useState)(!1);let u={};return c.minLength&&(u.minLength=c.minLength.value),c.maxLength&&(u.maxLength=c.maxLength.value),(0,l.jsxs)("div",{className:i()("n-dynamic-form-field n-dynamic-form-text-area-field",o?"n-dynamic-form-field-active":"",t?"error":""),children:[c.showCount?(0,l.jsxs)("p",{className:"n-textarea__counter",children:[r?r.length:0," / ",c.maxLength.value]}):null,(0,l.jsx)("textarea",{...u,placeholder:n,className:i()("n-textarea__input"),value:r,onChange:e=>s(e.target.value),onFocus:()=>d(!0),onBlur:()=>d(!1)}),t&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:t.message}})]})};const C={textfield:c,textareafield:N};var S=e=>{let{value:n,values:t,label:s,onChange:r,error:i,extra:c,name:o}=e;const[d,u]=(0,a.useState)(n),[m,h]=(0,a.useState)({}),[p,f]=(0,a.useState)({}),v=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t={};let l=!d;d&&c[d].forEach((a=>{if(e[a.id]||(l=!0),console.log(a.id,e[a.id]),a.rules){const l=new RegExp(a.rules.pattern.value);n?e[a.id]&&l.test(e[a.id])||(t[a.id]=a.rules.pattern.message):!i||e[a.id]&&l.test(e[a.id])||(t[a.id]=a.rules.pattern.message)}})),f(t),0!==Object.keys(t).length||l?r(null):r({[o]:d,chargerDetail:JSON.stringify(e)})};return(0,a.useEffect)((()=>{v(m)}),[i]),(0,l.jsxs)("div",{className:"n-dynamic-form-field n-dynamic-form-cn-charger-select-field",children:[(0,l.jsx)("label",{children:s}),(0,l.jsx)("ul",{className:"n-dynamic-form-cn-charger-select-field-options",children:t.map((e=>{let{id:n,label:t}=e;return(0,l.jsx)("li",{onClick:()=>(async e=>{u(e),h({}),r(null)})(n),className:d===n?"active":"",children:t},n)}))}),(0,l.jsx)("div",{className:"n-dynamic-form-cn-charger-select-field-options-children",children:d&&c[d]&&c[d].map(((e,n)=>a.createElement(C[e.type],{onChange:n=>{const t={...m,[e.id]:n};h(t),v(t,!1)},key:n,rules:e.rules,label:e.label,value:m[e.id]||"",error:p[e.id]?{message:p[e.id]}:null})))}),!d&&i&&i.message&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:i.message}})]})};var w=e=>{let{value:n,values:t,onChange:s}=e;const[r,i]=(0,a.useState)(n.subType);return(0,a.useEffect)((()=>{s({subType:r,campaign:r.substr(0,10)})}),[s,r]),(0,l.jsx)("div",{className:"n-dynamic-form-field n-dynamic-form-cn-used-car-leads-type-select-field",children:(0,l.jsx)("ul",{className:"n-dynamic-form-cn-used-car-leads-type-select-field-options",children:t.map((e=>{let{id:n,label:t}=e;return(0,l.jsx)("li",{onClick:()=>i(n),className:r===n?"active":"",children:t},n)}))})})},E=t(80650),_=t(57772),k=t(82934);var I=e=>{let{className:n,options:t,value:s,error:r,...c}=e;const[o,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,p]=(0,a.useState)(0),[f,v]=(0,a.useState)([]),[y,x]=(0,a.useState)(!1),[j,b]=(0,a.useState)(!1),[N,C]=(0,a.useState)("slide-open"),S=(0,a.useRef)(),w=e=>o.length>0&&-1!==o.findIndex((n=>n.value===e)),E=e=>(0,l.jsxs)("div",{className:i()("select-input-option",w(e.value)?"is-active":"","NRF"===e.value?"is-nrf":""),onClick:e=>{F(e)},"data-optlabel":e.label,"data-optvalue":e.value,children:[(0,l.jsx)("input",{type:"checkbox",checked:w(e.value),onChange:()=>null,className:"select-input-checkbox",value:e.value,"data-optlabel":e.label,"data-optvalue":e.value,tabIndex:"-1"})," ",(0,l.jsx)("label",{"data-optlabel":e.label,"data-optvalue":e.value,dangerouslySetInnerHTML:{__html:e.labelHighlight?e.labelHighlight:e.label},className:"select-input-checkbox-label"})]}),_=e=>(0,l.jsx)("div",{className:"select-input-option-list",children:e.options.map((e=>(0,l.jsx)(E,{label:e.label,labelHighlight:e.labelHighlight,value:e.value},e.value)))}),I=()=>(0,l.jsx)(l.Fragment,{children:o.map(((e,n)=>{if(n<=1)return(0,l.jsxs)("span",{className:"selected-item",onClick:q,children:[(0,l.jsx)("span",{className:"selected-item-text",children:e.label}),(0,l.jsx)("span",{className:"selected-item-close",onClick:F,"data-optlabel":e.label,"data-optvalue":e.value,children:"x"})]},n)}))}),T=()=>{if(o.length>2){const e=o.length-2;return(0,l.jsxs)("span",{className:"selected-item",children:[(0,l.jsx)("span",{className:"selected-item-text",children:"+".concat(e,"...")}),(0,l.jsx)("span",{className:"selected-item-close",onClick:F,"data-optlabel":"additional","data-optvalue":"additional",children:"x"})]})}return null},L=()=>(0,l.jsxs)("span",{className:"select-input-selected-items",children:[(0,l.jsx)(I,{}),(0,l.jsx)(T,{})]}),F=e=>{const n=e.target.dataset,t={label:n.optlabel,value:n.optvalue},l="all"===t.value,a="additional"===t.value;let s=[...o],r="";(0===o.length||o.length>0&&!o.find((e=>e.value===t.value))&&!l&&!a)&&s.push(t),o.length>0&&o.find((e=>e.value===t.value))&&!l&&(s=s.filter((e=>e.value!==t.value))),l?(s=[],m({})):(a&&(s=s.slice(0,2)),m(t),s.map((e=>{r=""===r?e.value:r+", "+e.value}))),c.onSelect(r),d(s)},H=e=>{const n=e.target.value;let l=[];n.length>0?(q(),t.map((e=>{let t=e.label;const a=t.toLowerCase().indexOf(n.toLowerCase()),s=t.toLowerCase().indexOf(n.toLowerCase())+n.length,r=t.slice(0,a)+"<strong>"+t.slice(a,s)+"</strong>"+t.slice(s,t.length);e.label.toLowerCase().includes(n.toLowerCase())&&l.push({label:e.label,value:e.value,labelHighlight:r})})),l.filter((e=>e.label.toLowerCase().includes(n.toLowerCase()))),0===l.length&&l.push({label:"No results found",value:"NRF",labelHighlight:"No results found"}),x(!0)):(l=t,x(!1)),v(l)},M=e=>{document.getElementById("select-input-search-field")&&(document.getElementById("select-input-search-field").value=""),H({target:{value:""}}),e&&P()},q=()=>{v(t),P(),D(!0),b(!0)},R=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];M(e),D(!1),b(!1)},P=()=>{document.getElementById("select-input-search-field").focus()},D=e=>{if((0,k.tq)()){const n=S.current.getBoundingClientRect().top+40;p(n),e?(S.current.style.top="50px",S.current.style.transition="top 0.5s ease"):(S.current.style.top="".concat(n,"px"),S.current.style.transition="top 0.5s ease")}},z=e=>{"27"!==e.code&&"Escape"!==e.code||!j||R()};return(0,a.useEffect)((()=>{v(t)}),[t]),(0,a.useEffect)((()=>{L()}),[o]),(0,a.useEffect)((()=>{document.addEventListener("keyup",z),(0,k.tq)()||document.body.addEventListener("mouseup",(function(e){const n=["search-arrow","select-input-search-field","select-input-checkbox-label","select-input-checkbox","select-input-option","select-input-selections","selected-item-text","selected-item-close"];n.every((n=>n!==e.target.id))&&n.every((n=>!e.target.className.includes(n)))&&(e.preventDefault(),R(!1))}))}),[]),(0,l.jsxs)("div",{ref:S,className:i()(n,"search-select",j?"menu-active":""),children:[(0,l.jsx)("span",{className:i()("select-input-close",j?"show":""),onClick:R,children:"x"}),(0,l.jsxs)("div",{className:i()("select-input",j?"menu-active":""),children:[(0,l.jsxs)("div",{className:"select-input-container",children:[(0,l.jsx)("div",{className:i()("select-input-placeholder",y||o.length>0?"hide":""),onClick:q,children:c.placeHolder}),(0,l.jsxs)("div",{className:i()("select-input-selected",r?"error":""),children:[(0,l.jsx)(L,{}),(0,l.jsxs)("span",{className:"select-input-selected-search",children:[(0,l.jsx)("input",{type:"text",name:"select-input-search-field",id:"select-input-search-field",autoComplete:"password",onKeyUp:H,onFocus:q,onClick:q}),(0,l.jsx)("span",{className:i()("search-clear",j?"show":""),onClick:M,children:"x"}),(0,l.jsx)("span",{className:i()("search-arrow",j?"down":""),onClick:()=>{M(!0),v(t),D(!j),b(!j)},children:(0,l.jsx)("img",{id:"search-arrow",src:(0,g.l9)("/images/icons/right-arrow-gray.svg")})})]})]})]}),(0,l.jsx)("div",{className:i()("select-input-selections",j?"open":""),children:(0,l.jsx)(_,{options:f})})]}),r&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:r.message}})]})};var T=e=>{let{value:n,values:t,error:s,onChange:r,label:i,extra:c,...o}=e;const[d,u]=(0,a.useState)((e=>{for(let n of e)n.value=n.Chinese,n.label=n.Chinese;return e})(_));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(I,{...o,options:d,onSelect:r,value:n,placeHolder:i,error:s})})},L=t(32512),F=t(22610),H=t(9669),M=t.n(H);var q=e=>{const{currentFiles:n,setCurrentFiles:t,fileErrors:s,setFileErrors:r,pageData:c,onChange:o,applicationPath:d="/common"}=e,{getRootProps:u,getInputProps:m,open:p,acceptedFiles:f,fileRejections:v}=(0,L.uI)({noClick:!0,noKeyboard:!0,multiple:c.multipleFile,accept:c.fileType,maxSize:c.fileSize}),[g,y]=(0,a.useState)(!0),x=(0,h.a)("(min-width: 720px)"),[j,b]=(0,a.useState)(null);(0,a.useEffect)((()=>{y(!x)}),[x]),(0,a.useEffect)((()=>{(async()=>{if(f[0]){b(c.uploadStatus);var e=new FormData;e.append("file",f[0]);const n=await M().post("/bff/api/v1/upload"+d,e,{headers:{"Content-Type":"multipart/form-data"}});n.data.path?(t(f),o(n.data.path),b(null)):(t([]),r([{code:"file-upload-issue"}]),o(""),b(null))}})().catch((e=>console.log(e)))}),[f]),(0,a.useEffect)((()=>{0===n.length&&o("")}),[n]),(0,a.useEffect)((()=>{v.length>0?r(v[0].errors):r([])}),[v]);const N=e=>{let n=e;return e.length>45&&(n=e.slice(0,20)+"... ..."+e.slice(-15,e.length)),n};return(0,l.jsxs)("div",{className:i()("dropZoneContainer",e.className),children:[(0,l.jsx)("h3",{dangerouslySetInnerHTML:{__html:c.title}}),(0,l.jsx)("h4",{dangerouslySetInnerHTML:{__html:c.description}}),(0,l.jsx)("p",{dangerouslySetInnerHTML:{__html:c.requirements}}),(0,l.jsxs)("div",{...u({className:i()("dropZoneArea",{warning:0!==s.length})}),onClick:p,children:[(0,l.jsx)("input",{...m()}),g?(0,l.jsx)(F.Z,{type:"white",className:"action_btn",children:c.btnLabel}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:c.icons.uploadIcon}),(0,l.jsx)("p",{children:c.dropZone})]})]}),!j&&n.length>0&&(0,l.jsx)("aside",{children:n.map(((e,n)=>(0,l.jsx)("ul",{children:(0,l.jsxs)("div",{className:"fileItem",children:[(0,l.jsx)("p",{children:N(e.path)}),(0,l.jsxs)("div",{className:"fileIcon",children:[(0,l.jsx)("img",{src:c.icons.completeIcon}),(0,l.jsx)("img",{src:c.icons.deleteIcon,onClick:()=>(e=>{f.splice(e,1),t([...f])})(n)})]})]})},n)))}),s.length>0&&s.map(((e,n)=>(0,l.jsx)("div",{className:"errorMessage",children:c.roles[e.code]?c.roles[e.code]:e.message},n))),j&&(0,l.jsx)("p",{dangerouslySetInnerHTML:{__html:j},className:"uploading"})]})};var R=e=>{const{currentFiles:n,setCurrentFiles:t,fileErrors:s,setFileErrors:r,pageData:c,onChange:o}=e,d=c.maxFileNumber?c.maxFileNumber:10,{getRootProps:u,getInputProps:m,open:p,acceptedFiles:f,fileRejections:v}=(0,L.uI)({noClick:!0,noKeyboard:!0,multiple:c.multipleFile,accept:c.fileType,maxSize:c.fileSize}),[g,y]=(0,a.useState)(!0),x=(0,h.a)("(min-width: 720px)");(0,a.useEffect)((()=>{y(!x)}),[x]),(0,a.useEffect)((()=>{n.length===d&&r([{code:"max-file-number",message:c.roles["max-file-number"]}]),f.length>0&&n.length<d&&t([...n,...f])}),[f]),(0,a.useEffect)((()=>{0===n.length?o(""):o(n)}),[n]),(0,a.useEffect)((()=>{v.length>0?r(v[0].errors):r([])}),[v]);const j=e=>{let n=e;return e.length>45&&(n=e.slice(0,20)+"... ..."+e.slice(-15,e.length)),n};return(0,l.jsxs)("div",{className:i()("dropZoneContainer",e.className),children:[c.title&&(0,l.jsx)("h3",{children:c.title}),c.description&&(0,l.jsx)("h4",{children:c.description}),c.requirements&&(0,l.jsx)("p",{children:c.requirements}),(0,l.jsxs)("div",{...u({className:i()("dropZoneArea",{warning:0!==s.length})}),onClick:p,children:[(0,l.jsx)("input",{...m()}),g?(0,l.jsx)(F.Z,{type:"white",className:"action_btn mobile_upload_button",children:c.btnLabel}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:c.icons.uploadIcon}),(0,l.jsx)("p",{children:c.dropZone})]})]}),n.length>0&&(0,l.jsx)("aside",{children:n.map(((e,a)=>(0,l.jsx)("ul",{children:(0,l.jsxs)("div",{className:"fileItem",children:[(0,l.jsx)("p",{children:j(e.name)}),(0,l.jsxs)("div",{className:"fileIcon",children:[(0,l.jsx)("img",{src:c.icons.completeIcon}),(0,l.jsx)("img",{src:c.icons.deleteIcon,onClick:()=>(e=>{const l=[...n];l.splice(e,1),t([...l])})(a)})]})]})},a)))})]})};var P=e=>{const{currentFiles:n,setCurrentFiles:t,fileErrors:s,setFileErrors:r,pageData:c,onChange:o,applicationPath:d="/common"}=e,u=c.maxFileNumber?c.maxFileNumber:10,{getRootProps:m,getInputProps:p,open:f,acceptedFiles:v,fileRejections:g}=(0,L.uI)({noClick:!0,noKeyboard:!0,multiple:!1,accept:c.fileType,maxSize:c.fileSize}),[y,x]=(0,a.useState)(!0),j=(0,h.a)("(min-width: 720px)"),[b,N]=(0,a.useState)(null),[C,S]=(0,a.useState)([]);(0,a.useEffect)((()=>{x(!j)}),[j]),(0,a.useEffect)((()=>{g.length>0?r(g[0].errors):r([])}),[g]),(0,a.useEffect)((()=>{if(0!==v.length)if(n.length>=u)r([{code:"max-file-number",message:c.roles["max-file-number"]}]);else{(async()=>{N(c.uploadStatus);var e=new FormData;e.append("file",v[0]);const l=await M().post("/bff/api/v1/upload"+d,e,{headers:{"Content-Type":"multipart/form-data"}});if(l.data.path){t([...n,v[0]]);const e=[...C,l.data.path];S(e),o(e),N(null)}else r([{code:"file-upload-issue"}]),N(null)})().catch((e=>console.log(e)))}}),[v]),(0,a.useEffect)((()=>{0===n.length&&o([])}),[n]);const w=e=>{let n=e;return e.length>45&&(n=e.slice(0,20)+"... ..."+e.slice(-15,e.length)),n};return(0,l.jsxs)("div",{className:i()("dropZoneContainer",e.className),children:[(0,l.jsx)("h3",{children:c.title}),(0,l.jsx)("h4",{children:c.description}),(0,l.jsx)("p",{children:c.requirements}),(0,l.jsxs)("div",{...m({className:i()("dropZoneArea",{warning:0!==s.length})}),onClick:f,children:[(0,l.jsx)("input",{...p()}),y?(0,l.jsx)(F.Z,{type:"white",className:"action_btn",children:c.btnLabel}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:c.icons.uploadIcon}),(0,l.jsx)("p",{children:c.dropZone})]})]}),!b&&n.length>0&&(0,l.jsx)("aside",{children:n.map(((e,a)=>(0,l.jsx)("ul",{children:(0,l.jsxs)("div",{className:"fileItem",children:[(0,l.jsx)("p",{children:w(e.path)}),(0,l.jsxs)("div",{className:"fileIcon",children:[(0,l.jsx)("img",{src:c.icons.completeIcon}),(0,l.jsx)("img",{src:c.icons.deleteIcon,onClick:()=>(e=>{const l=n,a=C;l.splice(e,1),a.splice(e,1),S(a),o(a),t(l)})(a)})]})]})},a)))}),s.length>0&&s.map(((e,n)=>(0,l.jsx)("div",{className:"errorMessage",children:c.roles[e.code]?c.roles[e.code]:e.message},n))),b&&(0,l.jsx)("p",{dangerouslySetInnerHTML:{__html:b},className:"uploading"})]})};var D=e=>{let{name:n,value:t,label:s,values:r,error:i,onChange:c,extra:o}=e;const[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)([]);return(0,a.useEffect)((()=>{var e,n;i&&0===t.length&&u([{code:i.type,message:null===o||void 0===o||null===(e=o.attachment)||void 0===e||null===(n=e.roles)||void 0===n?void 0:n[i.type]}])}),[i]),(0,l.jsxs)("div",{className:"n-dynamic-form-field n-dynamic-form-dropzone",children:[o.externalUpload?(0,l.jsx)(R,{className:"form-item-dropzone",setCurrentFiles:h,currentFiles:m,onChange:c,fileErrors:d,setFileErrors:u,pageData:o.attachment}):(0,l.jsx)(l.Fragment,{children:o.attachment.multipleFile?(0,l.jsx)(P,{className:"form-item-dropzone",setCurrentFiles:h,currentFiles:m,onChange:c,fileErrors:d,setFileErrors:u,pageData:o.attachment,applicationPath:o.attachment.applicationPath}):(0,l.jsx)(q,{className:"form-item-dropzone",setCurrentFiles:h,currentFiles:m,onChange:c,fileErrors:d,setFileErrors:u,pageData:o.attachment,applicationPath:o.attachment.applicationPath})}),i&&i.message&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:i.message}})]})};var z=e=>{let{name:n,label:t,values:s,error:r,onChange:i,extra:o,rules:d}=e;const[u,m]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[f,v]=(0,a.useState)(null),g=s.filter((e=>"others"===e.id));return(0,l.jsxs)("div",{children:[(0,l.jsx)(E.Z,{name:n,value:u,label:t,values:s,onChange:e=>{0===e.length?v({message:d.required}):g.length>0&&e.includes(g[0].value)?v({message:o.textField.rules.required}):v(null),m(e),i({[n]:e,[o.textField.id]:h})},extra:o,rules:d,disableError:!0}),(0,l.jsx)(c,{rules:o.textField.rules,label:o.textField.label,onChange:e=>{g.length>0&&(u.includes(g[0].value)&&0===e.length?v({message:d.required}):v(null)),p(e),i({[n]:u,[o.textField.id]:e})},error:f||r})]})};var O=e=>{let{value:n,values:t,name:s,error:r,onChange:i,label:c,extra:o,showCountrySelector:d,setShowCountrySelector:u,rules:m,errors:h,...p}=e;const[v,g]=(0,a.useState)(""),[y,x]=(0,a.useState)(""),[j,b]=(0,a.useState)(o.country.default||""),[N,C]=(0,a.useState)(""),[S,w]=(0,a.useState)("0");return(0,l.jsxs)("div",{children:[(0,l.jsx)(E.Z,{name:s,value:v,label:c,values:t,onChange:e=>{g(e),i(null),e.length>0&&y.length>0&&j.length>0&&i({region:e,province:y,country:j});const n=t.filter((n=>n.value===e));var l;n.length>0&&("singleCity"!==n[0].id&&"multiCity"!==n[0].id||("multiCity"===n[0].id?w("2"):w("1"),C(""===y?{message:o.province.rules.required}:"")),"crossInternational"===n[0].id&&(w("3"),0===j.length||j===(null===o||void 0===o||null===(l=o.country)||void 0===l?void 0:l.default)?C({message:o.country.rules.required}):C("")))},extra:o,rules:m,error:r}),("1"===S||"2"===S)&&(0,l.jsx)("div",{children:(0,l.jsx)(f,{selectData:o.province,onChange:e=>{var n,t,l;(e||i(null),""===e?(i(null),C({message:o.province.rules.required})):C(""),x(e||""),v.length>0&&(null===e||void 0===e||null===(n=e.city)||void 0===n?void 0:n.length)>0&&(null===e||void 0===e||null===(t=e.province)||void 0===t?void 0:t.length)>0)&&i({region:v,province:e,country:null===o||void 0===o||null===(l=o.country)||void 0===l?void 0:l.default})},value:y,defaultValue:o.province.default,label:o.province.label,isMultiCity:"2"===S})}),"3"===S&&(0,l.jsx)("div",{children:(0,l.jsx)(T,{label:o.country.label,value:j,onChange:e=>{0===e.length?(i(null),C({message:o.country.rules.required})):C(""),b(e),v.length>0&&e.length>0&&i({region:v,province:"",country:e})}})})]})},Z=0,A={"zh-CN":"\u524d\u65b9\u62e5\u5835\uff0c\u5df2\u81ea\u52a8\u8df3\u8fc7\u9a8c\u8bc1",en:"captcha error\uff0cVerified automatically"},V={};function B(e,n,t){if(n=n||"",t=t||"",(e=e||"")&&(e=e.replace(/:?\/{0,2}$/,"://")),n){var l=n.match(/^([-0-9a-zA-Z.:]*)(\/.*)?/);n=l[1],t=(l[2]||"")+"/"+t}return!n&&(e=""),e+n+t}function K(e,n){if(void 0!==n){var t=e.nodeType;1!==t&&11!==t&&9!==t||("string"===typeof e.textContent?e.textContent=n:e.innerText=n)}}function $(e){var n,t=function(){if(Object.assign)return Object.assign.apply(null,arguments);for(var e={},n=1;n<arguments.length;n++){var t=arguments[n];if(null!=t)for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e}({},{protocol:"http"===window.location.protocol.replace(":","")?"http":"https",lang:"zh-CN",errorFallbackCount:3},e),l=t.errorFallbackCount;return function(e,n){if(!e)throw new Error("[NECaptcha] "+n)}(void 0===l||(n=l,(Number.isInteger?Number.isInteger(n):"number"===typeof n&&isFinite(n)&&Math.floor(n)===n)&&l>=1),"errorFallbackCount must be an integer, and it's value greater than or equal one"),t}function J(e,n){if(window.initNECaptcha)return void setTimeout((function(){n(null)}),0);const t=e.ipv6?["cstaticdun-v6.126.net","cstatic-v6.dun.163yun.com"]:["cstaticdun.126.net","cstatic.dun.163yun.com"];var l=function(n){var t,l="load.min.js",a=[];if(t=n,Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t))for(var s=0,r=n.length;s<r;s++)a.push(B(e.protocol,n[s],l));else{var i=B(e.protocol,n,l);a=[i,i]}return a}(e.staticServer||t);!function e(t){var a,s=l[t]+"?v="+(a=(a=6e4)&&0!==a?a:1,parseInt((new Date).valueOf()/a,10));!function(e,n){var t=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");n=n||function(){},l.type="text/javascript",l.charset="utf8",l.async=!0,l.src=e,"onload"in l||(l.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,n(null,l))}),l.onload=function(){this.onerror=this.onload=null,n(null,l)},l.onerror=function(){this.onerror=this.onload=null,n(new Error("Failed to load "+this.src),l)},t.appendChild(l)}(s,(function(a){return a||!window.initNECaptcha?(t+=1)===l.length?n(new Error("Failed to load script("+s+")."+(a?a.message:"unreliable script"))):e(t):n(null)}))}(0)}var U=function(e,n,t){var l=null,a=$(e),s=!1!==a.defaultFallback,r=A["zh-CN"===a.lang?a.lang:"en"],i=window.location.pathname+"_"+a.captchaId+"_NECAPTCHA_ERROR_COUNTS";try{Z=parseInt(localStorage.getItem(i)||0,10)}catch(v){}var c=s?function(e){!function e(n){if(n&&(e(n._captchaIns),n.$el)){var t=function(e,n){if((n=n||document).querySelectorAll)return n.querySelectorAll(e);if(!/^\.[^.]+$/.test(e))return[];if(n.getElementsByClassName)return n.getElementsByClassName(e);for(var t,l=n.getElementsByTagName("*"),a=[],s=e.slice(1),r=0,i=l.length;r<i;r++)~(" "+(t=l[r]).className+" ").indexOf(" "+s+" ")&&a.push(t);return a}(".yidun-fallback__tip",n.$el);t.length&&setTimeout((function(){for(var e=0,n=t.length;e<n;e++)K(t[e],r)}),0)}}(l),a.onVerify&&a.onVerify(null,{validate:e,isFallback:!0})}:a.onFallback||function(){},o=!s&&!a.onFallback,d=function(e){if(++Z<a.errorFallbackCount){try{localStorage.setItem(i,Z)}catch(n){}t(e)}else c("QjGAuvoHrcpuxlbw7cp4WnIbbjzG4rtSlpc7EDovNHQS._ujzPZpeCInSxIT4WunuDDh8dRZYF2GbBGWyHlC6q5uEi9x-TXT9j7J705vSsBXyTar7aqFYyUltKYJ7f4Y2TXm_1Mn6HFkb4M7URQ_rWtpxQ5D6hCgNJYC0HpRE7.2sttqYKLoi7yP1KHzK-PptdHHkVwb77cwS2EJW7Mj_PsOtnPBubTmTZLpnRECJR99dWTVC11xYG0sx8dJNLUxUFxEyzTfX4nSmQz_T5sXATRKHtVAz7nmV0De5unmflfAlUwMGKlCT1khBtewlgN5nHvyxeD8Z1_fPVzi9oznl-sbegj6lKfCWezmLcwft8.4yaVh6SlzXJq-FnSK.euq9OBd5jYc82ge2_hEca1fGU--SkPRzgwkzew4O4qjdS2utdPwFONnhKAIMJRPUmCV4lPHG1OeRDvyNV8sCnuFMw7leasxIhPoycl4pm5bNy70Z1laozEGJgItVNr3"),u(),o&&t(e)},u=function(){Z=0;try{localStorage.setItem(i,0)}catch(e){}},m=function(e){h&&h.isError()?h.resetError():(h&&h.resetTimer(),o?t(e):d(e))};a.onError=function(e){h&&h.isError()&&h.resetError(),d(e)},a.onDidRefresh=function(){h&&h.isError()&&h.resetError(),u()};var h=e.initTimeoutError?e.initTimeoutError(d):null,p=function(){window.initNECaptcha(a,(function(e){h&&h.isError()||(h&&h.resetTimer(),l=e,n&&n(e))}),m)},f="load-queue";V[f]||(V[f]={rejects:[],resolves:[],status:"error"}),"error"===V[f].status?(V[f].status="pending",J(a,(function(e){if(e){var n=new Error;n.code=502,n.message=a.staticServer+"/load.min.js error";for(var t=V[f].rejects,l=0,s=t.length;l<s;l++)t.pop()(n);V[f].status="error"}else{V[f].status="done";for(var r=V[f].resolves,i=0,c=r.length;i<c;i++)r.pop()()}}))):"done"===V[f].status&&p(),"pending"===V[f].status&&(V[f].rejects.push((function(e){m(e)})),V[f].resolves.push(p))};const G="b403e7deb75d4ab0aaf1aeab3c1cede3";var Y=e=>{let{onChange:n,error:t,rules:s}=e;const r=(0,a.useRef)(null),i=(0,a.useRef)(null),[c,o]=(0,a.useState)({});return(0,a.useEffect)((()=>{o(t||{}),U({captchaId:G,element:r.current,apiVersion:2,...(0,k.tq)()?{mode:"embed"}:{},errorFallbackCount:1,onVerify:function(e,t){e?o({type:s.required?"required":"",message:s.required}):(o({}),n({validateToken:t.validate,captchaId:G,validateType:"validate"}))}},(function(e){i.current=e}),(function(e){console.log("[error]",e.code,e.message),n({validateToken:"",captchaId:G,validateType:"fallback"})}))}),[r]),(0,a.useEffect)((()=>{o(t||{})}),[t]),(0,l.jsxs)("div",{className:"n-dynamic-form-field n-dynamic-form-yiduncaptcha-field",children:[(0,l.jsx)("div",{ref:r}),c&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:c.message}})]})},W=t(69496),X=t.n(W);var Q=e=>{let{name:n,value:t,label:s,values:r,error:i,onChange:o,extra:d,rules:u,disableError:h=!1}=e;return(0,l.jsxs)("div",{className:"n-dynamic-form-radio-with-text-field",children:[s&&(0,l.jsx)("h3",{dangerouslySetInnerHTML:{__html:s}}),(null===d||void 0===d?void 0:d.subtitle)&&(0,l.jsx)("h4",{dangerouslySetInnerHTML:{__html:d.subtitle}}),r&&r.map(((e,n)=>{const[s,r]=(0,a.useState)("");(0,a.useEffect)((()=>{1===t.split("@$@").length&&r({message:d.textField.label})}),[t]);const i=X()((n=>{const l=t.split("|$|"),a=l.findIndex((n=>n.includes(e.value)));-1!==a?(l[a]="".concat(e.value,"@$@").concat(n),o(l.join("|$|"))):(l.push("".concat(e.value,"@$@").concat(n)),o(l.join("|$|"))),0===n.length?r({message:d.textField.label}):r("")}),300);return(0,l.jsxs)("div",{className:"n-dynamic-form-radio-field-radio",children:[(0,l.jsx)(m,{label:e.label,onChange:n=>((e,n)=>{if(!0===e)if(t.length>0){const e=t.split("|$|");e.push(n),o(e.join("|$|"))}else o(n);else{const e=t.split("|$|").filter((e=>!e.includes(n)));e.length>0?o(e.join("|$|")):o("")}})(n,e.value)}),!!t.split("|$|").find((n=>n.includes(e.value)))&&(0,l.jsx)(c,{rules:d.textField.rules,label:d.textField.label,onChange:i,error:s})]},n)})),i&&!h&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:i.message}})]})},ee=t(9476);const ne={textfield:c,textareafield:N,hiddenfield:o,campaignfield:j,selectfield:d,cnsmsfield:u,checkboxfield:m,chargerselectfield:S,usedcarleadstypefield:w,radiofield:E.Z,checkboxwithtextfield:Q,countryfield:T,fileupload:D,checkwithtextfield:z,locationcheckselectedfield:O,baiduvidfield:b,yidunfield:Y,recaptcha:ee.Z};var te=e=>{let{formData:n,onSubmit:t,className:r="",recaptchaSiteKey:c="",onChange:o=(()=>{}),onCancel:d=(()=>{}),modifyValues:u=(()=>{})}=e;const[m,h]=(0,a.useState)(!1),[p,v]=(0,a.useState)(""),{handleSubmit:g,control:y,errors:x,watch:j,setValue:b,setError:N}=(0,s.cI)({defaultValues:n.fields.reduce(((e,n)=>(e[n.id]=n.default,e)),{})}),C=j();(0,a.useEffect)((()=>{(async()=>{await o(C)})()}),[o,C]),(0,a.useEffect)((()=>{u&&u(b)}),[u]);return(0,l.jsxs)("form",{onSubmit:g((async e=>{h(!0),v("");const n=Object.keys(e).reduce(((n,t)=>(e[t]===Object(e[t])?n=e[t]instanceof Array?{...n,[t]:e[t]}:{...n,...e[t]}:n[t]=e[t],n)),{}),l=await t(n);v(l),!l&&window._agl&&window._agl.push(["track",["success",{t:3}]]),h(!1)})),className:r,children:[n.fields.map((e=>{const n=JSON.parse(JSON.stringify(e.rules));n.pattern&&(n.pattern.value=new RegExp(n.pattern.value,"i"));const t=e.class?e.class:"";return(0,l.jsx)(s.Qr,{name:e.id,control:y,rules:n,defaultValue:e.default,render:s=>{let{onChange:r,value:i,name:o}=s;return"provincefield"===e.type?(0,l.jsx)(f,{selectData:e,onChange:r,value:i,defaultValue:i,label:e.label,error:x[e.id],rules:n}):a.createElement(ne[e.type],{onChange:r,source:"DynamicForm",name:o,value:i,rules:n,label:e.label,defaultValue:i,error:x[e.id],extra:e.extra,values:e.values,recaptchaSiteKey:c,className:t,setError:n=>N(e.id,{type:e.id,message:n})})}},e.id)})),(0,l.jsxs)("div",{className:"n-dynamic-form-button-wrapper",children:[(0,l.jsx)("input",{type:"submit",className:i()("n-dynamic-form-submit-button",m?"disabled":""),value:n.buttonLabel}),n.cancelButtonLabel&&(0,l.jsx)("input",{type:"button",className:i()("n-dynamic-form-cancel-button",m?"disabled":""),onClick:d,value:n.cancelButtonLabel})]}),p&&(0,l.jsx)("p",{className:"n-dynamic-form-submit-error",dangerouslySetInnerHTML:{__html:p}}),n.disclaimer&&(0,l.jsx)("p",{className:"n-dynamic-form-disclaimer",dangerouslySetInnerHTML:{__html:n.disclaimer}})]})}},80650:function(e,n,t){var l=t(85893),a=(t(67294),t(94184)),s=t.n(a);n.Z=e=>{let{name:n,value:t,label:a,values:r,error:i,onChange:c,extra:o,rules:d,disableError:u=!1}=e;const m=e=>{e.preventDefault(),e.stopPropagation();const n=e.currentTarget.querySelector("input").value;if(t&&t.split(",").find((e=>e===n)))if(o&&!0===o.multiSelect){const e=t.split(",");c(e.filter((e=>e!==n)).join(","))}else c(n);else if(o&&!0===o.multiSelect)if(t.length>0){const e=t.split(",");e.push(n),c(e.join(","))}else c(n);else c(n)};return(0,l.jsxs)("div",{className:"n-dynamic-form-radio-field ".concat(t?"n-dynamic-form-radio-field-selected":""),children:[a&&(0,l.jsx)("h3",{dangerouslySetInnerHTML:{__html:a}}),(null===o||void 0===o?void 0:o.subtitle)&&(0,l.jsx)("h4",{dangerouslySetInnerHTML:{__html:o.subtitle}}),r&&r.map((e=>(0,l.jsx)("div",{className:"n-dynamic-form-radio-field-radio",children:(0,l.jsxs)("label",{htmlFor:e.id,onClick:m,children:[(0,l.jsx)("input",{type:"radio",name:n,id:e.id,placeholder:e.label,onChange:m,checked:t&&!!t.split(",").find((n=>n===e.value)),value:e.value,className:t&&(null===t||void 0===t?void 0:t.split(",").find((n=>n===e.value)))?"active":""}),(0,l.jsx)("span",{className:s()("n-dynamic-form-radio-field-checkmark",i?"error":"")}),(0,l.jsx)("span",{className:s()("n-dynamic-form-radio-field-label-text",{squareCheckBox:"square"===e.style},t&&t.split(",").find((n=>n===e.value))?"active":""),dangerouslySetInnerHTML:{__html:e.label}})]})},e.id))),i&&!u&&(0,l.jsx)("div",{className:"n-dynamic-form-error",dangerouslySetInnerHTML:{__html:i.message}})]})}}}]);
</script>

</body>
</html>
