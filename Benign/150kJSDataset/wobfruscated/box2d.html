<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>box2d.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEGpIGAgAAcfwBBAQt/AEEKC38AQR4LfwBBKAt/AEE4C38AQcgAC38AQdYAC38AQeQAC38AQfQAC38AQYQBC38AQYoBC38AQZABC38AQZgBC38AQaABC38AQagBC38AQbABC38AQbQBC38AQboBC38AQcABC38AQcwBC38AQdABC38AQdQBC38AQdgBC38AQdwBC38AQeABC38AQeQBC38AQewBC38AQaoCCwf8gYCAAB0GbWVtb3J5AgAFZGF0YTADAAVkYXRhMQMBBWRhdGEyAwIFZGF0YTMDAwVkYXRhNAMEBWRhdGE1AwUFZGF0YTYDBgVkYXRhNwMHBWRhdGE4AwgFZGF0YTkDCQZkYXRhMTADCgZkYXRhMTEDCwZkYXRhMTIDDAZkYXRhMTMDDQZkYXRhMTQDDgZkYXRhMTUDDwZkYXRhMTYDEAZkYXRhMTcDEQZkYXRhMTgDEgZkYXRhMTkDEwZkYXRhMjADFAZkYXRhMjEDFQZkYXRhMjIDFgZkYXRhMjMDFwZkYXRhMjQDGAZkYXRhMjUDGQZkYXRhMjYDGgZkYXRhMjcDGwutg4CAABwAQQELB29iamVjdAAAQQoLE0Fzc2VydGlvbiUyMEZhaWxlZAAAQR4LCTIuMWFscGhhAABBKAsOcmVmZXJlbmNlRWRnZQAAQTgLDnJlZmVyZW5jZUVkZ2UAAEHIAAsNaW5jaWRlbnRFZGdlAABB1gALDWluY2lkZW50RWRnZQAAQeQACw9pbmNpZGVudFZlcnRleAAAQfQACw9pbmNpZGVudFZlcnRleAAAQYQBCwVmbGlwAABBigELBWZsaXAAAEGQAQsGcmdiYSgAAEGYAQsHJTJDJTIwAABBoAELByUyQyUyMAAAQagBCwclMkMlMjAAAEGwAQsCKQAAQbQBCwRrZXkAAEG6AQsEa2V5AABBwAELCnVuZGVmaW5lZAAAQcwBCwJyAABB0AELAnIAAEHUAQsCZwAAQdgBCwJnAABB3AELAmIAAEHgAQsCYgAAQeQBCwZjb2xvcgAAQewBCz1Db250cm9sbGVyJTIwY2FuJTIwb25seSUyMGJlJTIwYSUyMG1lbWJlciUyMG9mJTIwb25lJTIwd29ybGQAAEGqAgsKdW5kZWZpbmVkAA=='].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
function extend(a, b) {
    for (var c in b) {
        a[c] = b[c];
    }
}
function isInstanceOf(obj, _constructor) {
    while (typeof obj === lS(0, 0)) {
        if (obj.constructor === _constructor) {
            return true;
        }
        obj = obj._super;
    }
    return false;
}
;
var b2BoundValues = function () {
    (() => {
        const __callInstance1057 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1057.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1056 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1056.exports;
        return __exports.data();
    })();
};
b2BoundValues.prototype.__constructor = function () {
    this.lowerValues = new Array();
    this.lowerValues[0] = 0;
    this.lowerValues[1] = 0;
    this.upperValues = new Array();
    this.upperValues[0] = 0;
    this.upperValues[1] = 0;
};
b2BoundValues.prototype.__varz = function () {
};
b2BoundValues.prototype.lowerValues = null;
b2BoundValues.prototype.upperValues = null;
var b2PairManager = function () {
    (() => {
        const __callInstance1055 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1055.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1054 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1054.exports;
        return __exports.data();
    })();
};
b2PairManager.prototype.__constructor = function () {
    this.m_pairs = new Array();
    this.m_pairBuffer = new Array();
    this.m_pairCount = 0;
    this.m_pairBufferCount = 0;
    this.m_freePair = null;
};
b2PairManager.prototype.__varz = function () {
};
b2PairManager.prototype.AddPair = function (proxy1, proxy2) {
    var pair = proxy1.pairs[proxy2];
    if (pair != null) {
        return pair;
    }
    (() => {
        const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_freePair = new b2Pair();
                        (() => {
                            const __callInstance1053 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_pairs.push(this.m_freePair);
                                    }
                                }
                            });
                            const __exports = __callInstance1053.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance0.exports;
        return __exports.data(this.m_freePair == null ? 1 : 0);
    })();
    pair = this.m_freePair;
    this.m_freePair = pair.next;
    pair.proxy1 = proxy1;
    pair.proxy2 = proxy2;
    pair.status = 0;
    pair.userData = null;
    pair.next = null;
    proxy1.pairs[proxy2] = pair;
    proxy2.pairs[proxy1] = pair;
    ++this.m_pairCount;
    return pair;
};
b2PairManager.prototype.RemovePair = function (proxy1, proxy2) {
    var pair = proxy1.pairs[proxy2];
    if (pair == null) {
        return null;
    }
    var userData = pair.userData;
    delete proxy1.pairs[proxy2];
    delete proxy2.pairs[proxy1];
    pair.next = this.m_freePair;
    pair.proxy1 = null;
    pair.proxy2 = null;
    pair.userData = null;
    pair.status = 0;
    this.m_freePair = pair;
    --this.m_pairCount;
    return userData;
};
b2PairManager.prototype.Find = function (proxy1, proxy2) {
    return proxy1.pairs[proxy2];
};
b2PairManager.prototype.ValidateBuffer = function () {
};
b2PairManager.prototype.ValidateTable = function () {
};
b2PairManager.prototype.Initialize = function (broadPhase) {
    this.m_broadPhase = broadPhase;
};
b2PairManager.prototype.AddBufferedPair = function (proxy1, proxy2) {
    var pair = this.AddPair(proxy1, proxy2);
    (() => {
        const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance1052 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        pair.SetBuffered();
                                    }
                                }
                            });
                            const __exports = __callInstance1052.exports;
                            return __exports.data();
                        })();
                        this.m_pairBuffer[this.m_pairBufferCount] = pair;
                        ++this.m_pairBufferCount;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance1.exports;
        return __exports.data(pair.IsBuffered() == false ? 1 : 0);
    })();
    (() => {
        const __callInstance1051 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    pair.ClearRemoved();
                }
            }
        });
        const __exports = __callInstance1051.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance1050 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.ValidateBuffer();
                                    }
                                }
                            });
                            const __exports = __callInstance1050.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance2.exports;
        return __exports.data(b2BroadPhase.s_validate ? 1 : 0);
    })();
};
b2PairManager.prototype.RemoveBufferedPair = function (proxy1, proxy2) {
    var pair = this.Find(proxy1, proxy2);
    if (pair == null) {
        return;
    }
    (() => {
        const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance1049 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        pair.SetBuffered();
                                    }
                                }
                            });
                            const __exports = __callInstance1049.exports;
                            return __exports.data();
                        })();
                        this.m_pairBuffer[this.m_pairBufferCount] = pair;
                        ++this.m_pairBufferCount;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance3.exports;
        return __exports.data(pair.IsBuffered() == false ? 1 : 0);
    })();
    (() => {
        const __callInstance1048 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    pair.SetRemoved();
                }
            }
        });
        const __exports = __callInstance1048.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance1047 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.ValidateBuffer();
                                    }
                                }
                            });
                            const __exports = __callInstance1047.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance4.exports;
        return __exports.data(b2BroadPhase.s_validate ? 1 : 0);
    })();
};
b2PairManager.prototype.Commit = function (callback) {
    var i = 0;
    var removeCount = 0;
    (() => {
        i = 0;
        const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_pairBufferCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var pair = this.m_pairBuffer[i];
                        (() => {
                            const __callInstance1046 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        pair.ClearBuffered();
                                    }
                                }
                            });
                            const __exports = __callInstance1046.exports;
                            return __exports.data();
                        })();
                        var proxy1 = pair.proxy1;
                        var proxy2 = pair.proxy2;
                        (() => {
                            const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance1045 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                callback(proxy1.userData, proxy2.userData);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance1045.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance6.exports;
                                                return __exports.data(pair.IsFinal() == false ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance5.exports;
                            return __exports.data(pair.IsRemoved() ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance0.exports;
        return __exports.data();
    })();
    this.m_pairBufferCount = 0;
    (() => {
        const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance1044 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.ValidateTable();
                                    }
                                }
                            });
                            const __exports = __callInstance1044.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance7.exports;
        return __exports.data(b2BroadPhase.s_validate ? 1 : 0);
    })();
};
b2PairManager.prototype.m_broadPhase = null;
b2PairManager.prototype.m_pairs = null;
b2PairManager.prototype.m_freePair = null;
b2PairManager.prototype.m_pairCount = 0;
b2PairManager.prototype.m_pairBuffer = null;
b2PairManager.prototype.m_pairBufferCount = 0;
var b2TimeStep = function () {
    (() => {
        const __callInstance1043 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1043.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1042 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1042.exports;
        return __exports.data();
    })();
};
b2TimeStep.prototype.__constructor = function () {
};
b2TimeStep.prototype.__varz = function () {
};
b2TimeStep.prototype.Set = function (step) {
    this.dt = step.dt;
    this.inv_dt = step.inv_dt;
    this.positionIterations = step.positionIterations;
    this.velocityIterations = step.velocityIterations;
    this.warmStarting = step.warmStarting;
};
b2TimeStep.prototype.dt = null;
b2TimeStep.prototype.inv_dt = null;
b2TimeStep.prototype.dtRatio = null;
b2TimeStep.prototype.velocityIterations = 0;
b2TimeStep.prototype.positionIterations = 0;
b2TimeStep.prototype.warmStarting = null;
var b2Controller = function () {
    (() => {
        const __callInstance1041 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1041.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1040 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1040.exports;
        return __exports.data();
    })();
};
b2Controller.prototype.__constructor = function () {
};
b2Controller.prototype.__varz = function () {
};
b2Controller.prototype.Step = function (step) {
};
b2Controller.prototype.Draw = function (debugDraw) {
};
b2Controller.prototype.AddBody = function (body) {
    var edge = new b2ControllerEdge();
    edge.controller = this;
    edge.body = body;
    edge.nextBody = m_bodyList;
    edge.prevBody = null;
    m_bodyList = edge;
    (() => {
        const __ifInstance8 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        edge.nextBody.prevBody = edge;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance8.exports;
        return __exports.data(edge.nextBody ? 1 : 0);
    })();
    m_bodyCount++;
    edge.nextController = body.m_controllerList;
    edge.prevController = null;
    body.m_controllerList = edge;
    (() => {
        const __ifInstance9 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        edge.nextController.prevController = edge;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance9.exports;
        return __exports.data(edge.nextController ? 1 : 0);
    })();
    body.m_controllerCount++;
};
b2Controller.prototype.RemoveBody = function (body) {
    var edge = body.m_controllerList;
    (() => {
        const __forInstance112 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return edge && edge.controller != this ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        edge = edge.nextController;
                    }
                }
            }
        });
        const __exports = __forInstance112.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance10 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        edge.prevBody.nextBody = edge.nextBody;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance10.exports;
        return __exports.data(edge.prevBody ? 1 : 0);
    })();
    (() => {
        const __ifInstance11 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        edge.nextBody.prevBody = edge.prevBody;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance11.exports;
        return __exports.data(edge.nextBody ? 1 : 0);
    })();
    (() => {
        const __ifInstance12 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        edge.nextController.prevController = edge.prevController;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance12.exports;
        return __exports.data(edge.nextController ? 1 : 0);
    })();
    (() => {
        const __ifInstance13 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        edge.prevController.nextController = edge.nextController;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance13.exports;
        return __exports.data(edge.prevController ? 1 : 0);
    })();
    (() => {
        const __ifInstance14 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        m_bodyList = edge.nextBody;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance14.exports;
        return __exports.data(m_bodyList == edge ? 1 : 0);
    })();
    (() => {
        const __ifInstance15 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        body.m_controllerList = edge.nextController;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance15.exports;
        return __exports.data(body.m_controllerList == edge ? 1 : 0);
    })();
    body.m_controllerCount--;
    m_bodyCount--;
};
b2Controller.prototype.Clear = function () {
    (() => {
        const __forInstance113 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return m_bodyList ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance1039 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.RemoveBody(m_bodyList.body);
                                    }
                                }
                            });
                            const __exports = __callInstance1039.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance113.exports;
        return __exports.data();
    })();
};
b2Controller.prototype.GetNext = function () {
    return this.m_next;
};
b2Controller.prototype.GetWorld = function () {
    return this.m_world;
};
b2Controller.prototype.GetBodyList = function () {
    return m_bodyList;
};
b2Controller.prototype.m_next = null;
b2Controller.prototype.m_prev = null;
b2Controller.prototype.m_world = null;
var b2GravityController = function () {
    (() => {
        const __callInstance1038 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Controller.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance1038.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1037 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1037.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1036 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1036.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance1035 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2GravityController.prototype, b2Controller.prototype);
            }
        }
    });
    const __exports = __callInstance1035.exports;
    return __exports.data();
})();
b2GravityController.prototype._super = b2Controller.prototype;
b2GravityController.prototype.__constructor = function () {
    (() => {
        const __callInstance1034 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1034.exports;
        return __exports.data();
    })();
};
b2GravityController.prototype.__varz = function () {
};
b2GravityController.prototype.Step = function (step) {
    var i = null;
    var body1 = null;
    var p1 = null;
    var mass1 = 0;
    var j = null;
    var body2 = null;
    var p2 = null;
    var dx = 0;
    var dy = 0;
    var r2 = 0;
    var f = null;
    if (this.invSqr) {
        for (i = m_bodyList; i; i = i.nextBody) {
            body1 = i.body;
            p1 = body1.GetWorldCenter();
            mass1 = body1.GetMass();
            for (j = m_bodyList; j != i; j = j.nextBody) {
                body2 = j.body;
                p2 = body2.GetWorldCenter();
                dx = p2.x - p1.x;
                dy = p2.y - p1.y;
                r2 = dx * dx + dy * dy;
                if (r2 < Number.MIN_VALUE) {
                    continue;
                }
                f = new b2Vec2(dx, dy);
                (() => {
                    const __callInstance1033 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                f.Multiply(this.G / r2 / Math.sqrt(r2) * mass1 * body2.GetMass());
                            }
                        }
                    });
                    const __exports = __callInstance1033.exports;
                    return __exports.data();
                })();
                (() => {
                    const __ifInstance16 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    (() => {
                                        const __callInstance1032 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    body1.ApplyForce(f, p1);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance1032.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance16.exports;
                    return __exports.data(body1.IsAwake() ? 1 : 0);
                })();
                (() => {
                    const __callInstance1031 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                f.Multiply(-1);
                            }
                        }
                    });
                    const __exports = __callInstance1031.exports;
                    return __exports.data();
                })();
                (() => {
                    const __ifInstance17 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    (() => {
                                        const __callInstance1030 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    body2.ApplyForce(f, p2);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance1030.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance17.exports;
                    return __exports.data(body2.IsAwake() ? 1 : 0);
                })();
            }
        }
    } else {
        for (i = m_bodyList; i; i = i.nextBody) {
            body1 = i.body;
            p1 = body1.GetWorldCenter();
            mass1 = body1.GetMass();
            for (j = m_bodyList; j != i; j = j.nextBody) {
                body2 = j.body;
                p2 = body2.GetWorldCenter();
                dx = p2.x - p1.x;
                dy = p2.y - p1.y;
                r2 = dx * dx + dy * dy;
                if (r2 < Number.MIN_VALUE) {
                    continue;
                }
                f = new b2Vec2(dx, dy);
                (() => {
                    const __callInstance1029 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                f.Multiply(this.G / r2 * mass1 * body2.GetMass());
                            }
                        }
                    });
                    const __exports = __callInstance1029.exports;
                    return __exports.data();
                })();
                (() => {
                    const __ifInstance18 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    (() => {
                                        const __callInstance1028 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    body1.ApplyForce(f, p1);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance1028.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance18.exports;
                    return __exports.data(body1.IsAwake() ? 1 : 0);
                })();
                (() => {
                    const __callInstance1027 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                f.Multiply(-1);
                            }
                        }
                    });
                    const __exports = __callInstance1027.exports;
                    return __exports.data();
                })();
                (() => {
                    const __ifInstance19 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    (() => {
                                        const __callInstance1026 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    body2.ApplyForce(f, p2);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance1026.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance19.exports;
                    return __exports.data(body2.IsAwake() ? 1 : 0);
                })();
            }
        }
    }
};
b2GravityController.prototype.G = 1;
b2GravityController.prototype.invSqr = true;
var b2DestructionListener = function () {
    (() => {
        const __callInstance1025 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1025.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1024 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1024.exports;
        return __exports.data();
    })();
};
b2DestructionListener.prototype.__constructor = function () {
};
b2DestructionListener.prototype.__varz = function () {
};
b2DestructionListener.prototype.SayGoodbyeJoint = function (joint) {
};
b2DestructionListener.prototype.SayGoodbyeFixture = function (fixture) {
};
var b2ContactEdge = function () {
    (() => {
        const __callInstance1023 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1023.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1022 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1022.exports;
        return __exports.data();
    })();
};
b2ContactEdge.prototype.__constructor = function () {
};
b2ContactEdge.prototype.__varz = function () {
};
b2ContactEdge.prototype.other = null;
b2ContactEdge.prototype.contact = null;
b2ContactEdge.prototype.prev = null;
b2ContactEdge.prototype.next = null;
var b2EdgeChainDef = function () {
    (() => {
        const __callInstance1021 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1021.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1020 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1020.exports;
        return __exports.data();
    })();
};
b2EdgeChainDef.prototype.__constructor = function () {
    this.vertexCount = 0;
    this.isALoop = true;
    this.vertices = [];
};
b2EdgeChainDef.prototype.__varz = function () {
};
b2EdgeChainDef.prototype.vertices = null;
b2EdgeChainDef.prototype.vertexCount = null;
b2EdgeChainDef.prototype.isALoop = null;
var b2Vec2 = function (x_, y_) {
    (() => {
        const __ifInstance20 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.x = x_;
                        this.y = y_;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance20.exports;
        return __exports.data(arguments.length == 2 ? 1 : 0);
    })();
};
b2Vec2.Make = function (x_, y_) {
    return new b2Vec2(x_, y_);
};
b2Vec2.prototype.SetZero = function () {
    this.x = 0;
    this.y = 0;
};
b2Vec2.prototype.Set = function (x_, y_) {
    this.x = x_;
    this.y = y_;
};
b2Vec2.prototype.SetV = function (v) {
    this.x = v.x;
    this.y = v.y;
};
b2Vec2.prototype.GetNegative = function () {
    return new b2Vec2(-this.x, -this.y);
};
b2Vec2.prototype.NegativeSelf = function () {
    this.x = -this.x;
    this.y = -this.y;
};
b2Vec2.prototype.Copy = function () {
    return new b2Vec2(this.x, this.y);
};
b2Vec2.prototype.Add = function (v) {
    this.x += v.x;
    this.y += v.y;
};
b2Vec2.prototype.Subtract = function (v) {
    this.x -= v.x;
    this.y -= v.y;
};
b2Vec2.prototype.Multiply = function (a) {
    this.x *= a;
    this.y *= a;
};
b2Vec2.prototype.MulM = function (A) {
    var tX = this.x;
    this.x = A.col1.x * tX + A.col2.x * this.y;
    this.y = A.col1.y * tX + A.col2.y * this.y;
};
b2Vec2.prototype.MulTM = function (A) {
    var tX = b2Math.Dot(this, A.col1);
    this.y = b2Math.Dot(this, A.col2);
    this.x = tX;
};
b2Vec2.prototype.CrossVF = function (s) {
    var tX = this.x;
    this.x = s * this.y;
    this.y = -s * tX;
};
b2Vec2.prototype.CrossFV = function (s) {
    var tX = this.x;
    this.x = -s * this.y;
    this.y = s * tX;
};
b2Vec2.prototype.MinV = function (b) {
    this.x = this.x < b.x ? this.x : b.x;
    this.y = this.y < b.y ? this.y : b.y;
};
b2Vec2.prototype.MaxV = function (b) {
    this.x = this.x > b.x ? this.x : b.x;
    this.y = this.y > b.y ? this.y : b.y;
};
b2Vec2.prototype.Abs = function () {
    (() => {
        const __ifInstance21 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.x = -this.x;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance21.exports;
        return __exports.data(this.x < 0 ? 1 : 0);
    })();
    (() => {
        const __ifInstance22 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.y = -this.y;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance22.exports;
        return __exports.data(this.y < 0 ? 1 : 0);
    })();
};
b2Vec2.prototype.Length = function () {
    return Math.sqrt(this.x * this.x + this.y * this.y);
};
b2Vec2.prototype.LengthSquared = function () {
    return this.x * this.x + this.y * this.y;
};
b2Vec2.prototype.Normalize = function () {
    var length = Math.sqrt(this.x * this.x + this.y * this.y);
    if (length < Number.MIN_VALUE) {
        return 0;
    }
    var invLength = 1 / length;
    this.x *= invLength;
    this.y *= invLength;
    return length;
};
b2Vec2.prototype.IsValid = function () {
    return b2Math.IsValid(this.x) && b2Math.IsValid(this.y);
};
b2Vec2.prototype.x = 0;
b2Vec2.prototype.y = 0;
var b2Vec3 = function (x, y, z) {
    (() => {
        const __ifInstance23 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.x = x;
                        this.y = y;
                        this.z = z;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance23.exports;
        return __exports.data(arguments.length == 3 ? 1 : 0);
    })();
};
b2Vec3.prototype.SetZero = function () {
    this.x = this.y = this.z = 0;
};
b2Vec3.prototype.Set = function (x, y, z) {
    this.x = x;
    this.y = y;
    this.z = z;
};
b2Vec3.prototype.SetV = function (v) {
    this.x = v.x;
    this.y = v.y;
    this.z = v.z;
};
b2Vec3.prototype.GetNegative = function () {
    return new b2Vec3(-this.x, -this.y, -this.z);
};
b2Vec3.prototype.NegativeSelf = function () {
    this.x = -this.x;
    this.y = -this.y;
    this.z = -this.z;
};
b2Vec3.prototype.Copy = function () {
    return new b2Vec3(this.x, this.y, this.z);
};
b2Vec3.prototype.Add = function (v) {
    this.x += v.x;
    this.y += v.y;
    this.z += v.z;
};
b2Vec3.prototype.Subtract = function (v) {
    this.x -= v.x;
    this.y -= v.y;
    this.z -= v.z;
};
b2Vec3.prototype.Multiply = function (a) {
    this.x *= a;
    this.y *= a;
    this.z *= a;
};
b2Vec3.prototype.x = 0;
b2Vec3.prototype.y = 0;
b2Vec3.prototype.z = 0;
var b2DistanceProxy = function () {
    (() => {
        const __callInstance1019 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1019.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1018 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1018.exports;
        return __exports.data();
    })();
};
b2DistanceProxy.prototype.__constructor = function () {
};
b2DistanceProxy.prototype.__varz = function () {
};
b2DistanceProxy.prototype.Set = function (shape) {
    switch (shape.GetType()) {
    case b2Shape.e_circleShape:
        var circle = shape;
        this.m_vertices = new Array(1);
        this.m_vertices[0] = circle.m_p;
        this.m_count = 1;
        this.m_radius = circle.m_radius;
        break;
    case b2Shape.e_polygonShape:
        var polygon = shape;
        this.m_vertices = polygon.m_vertices;
        this.m_count = polygon.m_vertexCount;
        this.m_radius = polygon.m_radius;
        break;
    default:
        (() => {
            const __callInstance1017 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Settings.b2Assert(false);
                    }
                }
            });
            const __exports = __callInstance1017.exports;
            return __exports.data();
        })();
    }
};
b2DistanceProxy.prototype.GetSupport = function (d) {
    var bestIndex = 0;
    var bestValue = this.m_vertices[0].x * d.x + this.m_vertices[0].y * d.y;
    (() => {
        var i = 1;
        const __forInstance1 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_count ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var value = this.m_vertices[i].x * d.x + this.m_vertices[i].y * d.y;
                        (() => {
                            const __ifInstance24 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            bestIndex = i;
                                            bestValue = value;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance24.exports;
                            return __exports.data(value > bestValue ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance1.exports;
        return __exports.data();
    })();
    return bestIndex;
};
b2DistanceProxy.prototype.GetSupportVertex = function (d) {
    var bestIndex = 0;
    var bestValue = this.m_vertices[0].x * d.x + this.m_vertices[0].y * d.y;
    (() => {
        var i = 1;
        const __forInstance2 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_count ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var value = this.m_vertices[i].x * d.x + this.m_vertices[i].y * d.y;
                        (() => {
                            const __ifInstance25 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            bestIndex = i;
                                            bestValue = value;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance25.exports;
                            return __exports.data(value > bestValue ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance2.exports;
        return __exports.data();
    })();
    return this.m_vertices[bestIndex];
};
b2DistanceProxy.prototype.GetVertexCount = function () {
    return this.m_count;
};
b2DistanceProxy.prototype.GetVertex = function (index) {
    (() => {
        const __callInstance1016 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(0 <= index && index < this.m_count);
                }
            }
        });
        const __exports = __callInstance1016.exports;
        return __exports.data();
    })();
    return this.m_vertices[index];
};
b2DistanceProxy.prototype.m_vertices = null;
b2DistanceProxy.prototype.m_count = 0;
b2DistanceProxy.prototype.m_radius = null;
var b2ContactFactory = function () {
    (() => {
        const __callInstance1015 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1015.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1014 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance1014.exports;
        return __exports.data();
    })();
};
b2ContactFactory.prototype.__constructor = function () {
};
b2ContactFactory.prototype.__varz = function () {
    (() => {
        const __callInstance1013 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.InitializeRegisters();
                }
            }
        });
        const __exports = __callInstance1013.exports;
        return __exports.data();
    })();
};
b2ContactFactory.prototype.AddType = function (createFcn, destroyFcn, type1, type2) {
    this.m_registers[type1][type2].createFcn = createFcn;
    this.m_registers[type1][type2].destroyFcn = destroyFcn;
    this.m_registers[type1][type2].primary = true;
    (() => {
        const __ifInstance26 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_registers[type2][type1].createFcn = createFcn;
                        this.m_registers[type2][type1].destroyFcn = destroyFcn;
                        this.m_registers[type2][type1].primary = false;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance26.exports;
        return __exports.data(type1 != type2 ? 1 : 0);
    })();
};
b2ContactFactory.prototype.InitializeRegisters = function () {
    this.m_registers = new Array(b2Shape.e_shapeTypeCount);
    (() => {
        var i = 0;
        const __forInstance3 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < b2Shape.e_shapeTypeCount ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.m_registers[i] = new Array(b2Shape.e_shapeTypeCount);
                        (() => {
                            var j = 0;
                            const __forInstance4 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return j < b2Shape.e_shapeTypeCount ? 1 : 0;
                                    },
                                    update: () => {
                                        j++;
                                    },
                                    body: () => {
                                        {
                                            this.m_registers[i][j] = new b2ContactRegister();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance4.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance3.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1012 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.AddType(b2CircleContact.Create, b2CircleContact.Destroy, b2Shape.e_circleShape, b2Shape.e_circleShape);
                }
            }
        });
        const __exports = __callInstance1012.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1011 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.AddType(b2PolyAndCircleContact.Create, b2PolyAndCircleContact.Destroy, b2Shape.e_polygonShape, b2Shape.e_circleShape);
                }
            }
        });
        const __exports = __callInstance1011.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1010 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.AddType(b2PolygonContact.Create, b2PolygonContact.Destroy, b2Shape.e_polygonShape, b2Shape.e_polygonShape);
                }
            }
        });
        const __exports = __callInstance1010.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1009 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.AddType(b2EdgeAndCircleContact.Create, b2EdgeAndCircleContact.Destroy, b2Shape.e_edgeShape, b2Shape.e_circleShape);
                }
            }
        });
        const __exports = __callInstance1009.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1008 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.AddType(b2PolyAndEdgeContact.Create, b2PolyAndEdgeContact.Destroy, b2Shape.e_polygonShape, b2Shape.e_edgeShape);
                }
            }
        });
        const __exports = __callInstance1008.exports;
        return __exports.data();
    })();
};
b2ContactFactory.prototype.Create = function (fixtureA, fixtureB) {
    var type1 = fixtureA.GetType();
    var type2 = fixtureB.GetType();
    var reg = this.m_registers[type1][type2];
    var c;
    if (reg.pool) {
        c = reg.pool;
        reg.pool = c.m_next;
        reg.poolCount--;
        (() => {
            const __callInstance1007 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        c.Reset(fixtureA, fixtureB);
                    }
                }
            });
            const __exports = __callInstance1007.exports;
            return __exports.data();
        })();
        return c;
    }
    var createFcn = reg.createFcn;
    if (createFcn != null) {
        if (reg.primary) {
            c = createFcn(this.m_allocator);
            (() => {
                const __callInstance1006 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            c.Reset(fixtureA, fixtureB);
                        }
                    }
                });
                const __exports = __callInstance1006.exports;
                return __exports.data();
            })();
            return c;
        } else {
            c = createFcn(this.m_allocator);
            (() => {
                const __callInstance1005 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            c.Reset(fixtureB, fixtureA);
                        }
                    }
                });
                const __exports = __callInstance1005.exports;
                return __exports.data();
            })();
            return c;
        }
    } else {
        return null;
    }
};
b2ContactFactory.prototype.Destroy = function (contact) {
    (() => {
        const __ifInstance27 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance1004 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        contact.m_fixtureA.m_body.SetAwake(true);
                                    }
                                }
                            });
                            const __exports = __callInstance1004.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance1003 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        contact.m_fixtureB.m_body.SetAwake(true);
                                    }
                                }
                            });
                            const __exports = __callInstance1003.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance27.exports;
        return __exports.data(contact.m_manifold.m_pointCount > 0 ? 1 : 0);
    })();
    var type1 = contact.m_fixtureA.GetType();
    var type2 = contact.m_fixtureB.GetType();
    var reg = this.m_registers[type1][type2];
    (() => {
        const __ifInstance28 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        reg.poolCount++;
                        contact.m_next = reg.pool;
                        reg.pool = contact;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance28.exports;
        return __exports.data(true ? 1 : 0);
    })();
    var destroyFcn = reg.destroyFcn;
    (() => {
        const __callInstance1002 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    destroyFcn(contact, this.m_allocator);
                }
            }
        });
        const __exports = __callInstance1002.exports;
        return __exports.data();
    })();
};
b2ContactFactory.prototype.m_registers = null;
b2ContactFactory.prototype.m_allocator = null;
var b2ConstantAccelController = function () {
    (() => {
        const __callInstance1001 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Controller.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance1001.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance1000 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance1000.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance999 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance999.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance998 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2ConstantAccelController.prototype, b2Controller.prototype);
            }
        }
    });
    const __exports = __callInstance998.exports;
    return __exports.data();
})();
b2ConstantAccelController.prototype._super = b2Controller.prototype;
b2ConstantAccelController.prototype.__constructor = function () {
    (() => {
        const __callInstance997 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance997.exports;
        return __exports.data();
    })();
};
b2ConstantAccelController.prototype.__varz = function () {
    this.A = new b2Vec2(0, 0);
};
b2ConstantAccelController.prototype.Step = function (step) {
    var smallA = new b2Vec2(this.A.x * step.dt, this.A.y * step.dt);
    for (var i = m_bodyList; i; i = i.nextBody) {
        var body = i.body;
        if (!body.IsAwake()) {
            continue;
        }
        (() => {
            const __callInstance996 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        body.SetLinearVelocity(new b2Vec2(body.GetLinearVelocity().x + smallA.x, body.GetLinearVelocity().y + smallA.y));
                    }
                }
            });
            const __exports = __callInstance996.exports;
            return __exports.data();
        })();
    }
};
b2ConstantAccelController.prototype.A = new b2Vec2(0, 0);
var b2SeparationFunction = function () {
    (() => {
        const __callInstance995 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance995.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance994 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance994.exports;
        return __exports.data();
    })();
};
b2SeparationFunction.prototype.__constructor = function () {
};
b2SeparationFunction.prototype.__varz = function () {
    this.m_localPoint = new b2Vec2();
    this.m_axis = new b2Vec2();
};
b2SeparationFunction.e_points = 1;
b2SeparationFunction.e_faceA = 2;
b2SeparationFunction.e_faceB = 4;
b2SeparationFunction.prototype.Initialize = function (cache, proxyA, transformA, proxyB, transformB) {
    this.m_proxyA = proxyA;
    this.m_proxyB = proxyB;
    var count = cache.count;
    (() => {
        const __callInstance993 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(0 < count && count < 3);
                }
            }
        });
        const __exports = __callInstance993.exports;
        return __exports.data();
    })();
    var localPointA;
    var localPointA1;
    var localPointA2;
    var localPointB;
    var localPointB1;
    var localPointB2;
    var pointAX;
    var pointAY;
    var pointBX;
    var pointBY;
    var normalX;
    var normalY;
    var tMat;
    var tVec;
    var s;
    var sgn;
    (() => {
        const __ifInstance29 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_type = b2SeparationFunction.e_points;
                        localPointA = this.m_proxyA.GetVertex(cache.indexA[0]);
                        localPointB = this.m_proxyB.GetVertex(cache.indexB[0]);
                        tVec = localPointA;
                        tMat = transformA.R;
                        pointAX = transformA.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                        pointAY = transformA.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                        tVec = localPointB;
                        tMat = transformB.R;
                        pointBX = transformB.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                        pointBY = transformB.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                        this.m_axis.x = pointBX - pointAX;
                        this.m_axis.y = pointBY - pointAY;
                        (() => {
                            const __callInstance992 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_axis.Normalize();
                                    }
                                }
                            });
                            const __exports = __callInstance992.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __ifInstance30 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.m_type = b2SeparationFunction.e_faceA;
                                            localPointA1 = this.m_proxyA.GetVertex(cache.indexA[0]);
                                            localPointA2 = this.m_proxyA.GetVertex(cache.indexA[1]);
                                            localPointB = this.m_proxyB.GetVertex(cache.indexB[0]);
                                            this.m_localPoint.x = 0.5 * (localPointA1.x + localPointA2.x);
                                            this.m_localPoint.y = 0.5 * (localPointA1.y + localPointA2.y);
                                            this.m_axis = b2Math.CrossVF(b2Math.SubtractVV(localPointA2, localPointA1), 1);
                                            (() => {
                                                const __callInstance991 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_axis.Normalize();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance991.exports;
                                                return __exports.data();
                                            })();
                                            tVec = this.m_axis;
                                            tMat = transformA.R;
                                            normalX = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
                                            normalY = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
                                            tVec = this.m_localPoint;
                                            tMat = transformA.R;
                                            pointAX = transformA.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                                            pointAY = transformA.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                                            tVec = localPointB;
                                            tMat = transformB.R;
                                            pointBX = transformB.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                                            pointBY = transformB.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                                            s = (pointBX - pointAX) * normalX + (pointBY - pointAY) * normalY;
                                            (() => {
                                                const __ifInstance31 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance990 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                this.m_axis.NegativeSelf();
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance990.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance31.exports;
                                                return __exports.data(s < 0 ? 1 : 0);
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance32 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                this.m_type = b2SeparationFunction.e_faceB;
                                                                localPointB1 = this.m_proxyB.GetVertex(cache.indexB[0]);
                                                                localPointB2 = this.m_proxyB.GetVertex(cache.indexB[1]);
                                                                localPointA = this.m_proxyA.GetVertex(cache.indexA[0]);
                                                                this.m_localPoint.x = 0.5 * (localPointB1.x + localPointB2.x);
                                                                this.m_localPoint.y = 0.5 * (localPointB1.y + localPointB2.y);
                                                                this.m_axis = b2Math.CrossVF(b2Math.SubtractVV(localPointB2, localPointB1), 1);
                                                                (() => {
                                                                    const __callInstance989 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                this.m_axis.Normalize();
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance989.exports;
                                                                    return __exports.data();
                                                                })();
                                                                tVec = this.m_axis;
                                                                tMat = transformB.R;
                                                                normalX = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
                                                                normalY = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
                                                                tVec = this.m_localPoint;
                                                                tMat = transformB.R;
                                                                pointBX = transformB.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                                                                pointBY = transformB.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                                                                tVec = localPointA;
                                                                tMat = transformA.R;
                                                                pointAX = transformA.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                                                                pointAY = transformA.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                                                                s = (pointAX - pointBX) * normalX + (pointAY - pointBY) * normalY;
                                                                (() => {
                                                                    const __ifInstance33 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __callInstance988 = new WebAssembly.Instance(__callWasmModule, {
                                                                                            env: {
                                                                                                impFunc: () => {
                                                                                                    this.m_axis.NegativeSelf();
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __callInstance988.exports;
                                                                                        return __exports.data();
                                                                                    })();
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance33.exports;
                                                                    return __exports.data(s < 0 ? 1 : 0);
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                localPointA1 = this.m_proxyA.GetVertex(cache.indexA[0]);
                                                                localPointA2 = this.m_proxyA.GetVertex(cache.indexA[1]);
                                                                localPointB1 = this.m_proxyB.GetVertex(cache.indexB[0]);
                                                                localPointB2 = this.m_proxyB.GetVertex(cache.indexB[1]);
                                                                var pA = b2Math.MulX(transformA, localPointA);
                                                                var dA = b2Math.MulMV(transformA.R, b2Math.SubtractVV(localPointA2, localPointA1));
                                                                var pB = b2Math.MulX(transformB, localPointB);
                                                                var dB = b2Math.MulMV(transformB.R, b2Math.SubtractVV(localPointB2, localPointB1));
                                                                var a = dA.x * dA.x + dA.y * dA.y;
                                                                var e = dB.x * dB.x + dB.y * dB.y;
                                                                var r = b2Math.SubtractVV(dB, dA);
                                                                var c = dA.x * r.x + dA.y * r.y;
                                                                var f = dB.x * r.x + dB.y * r.y;
                                                                var b = dA.x * dB.x + dA.y * dB.y;
                                                                var denom = a * e - b * b;
                                                                s = 0;
                                                                (() => {
                                                                    const __ifInstance34 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    s = b2Math.Clamp((b * f - c * e) / denom, 0, 1);
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance34.exports;
                                                                    return __exports.data(denom != 0 ? 1 : 0);
                                                                })();
                                                                var t = (b * s + f) / e;
                                                                (() => {
                                                                    const __ifInstance35 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    t = 0;
                                                                                    s = b2Math.Clamp((b - c) / a, 0, 1);
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance35.exports;
                                                                    return __exports.data(t < 0 ? 1 : 0);
                                                                })();
                                                                localPointA = new b2Vec2();
                                                                localPointA.x = localPointA1.x + s * (localPointA2.x - localPointA1.x);
                                                                localPointA.y = localPointA1.y + s * (localPointA2.y - localPointA1.y);
                                                                localPointB = new b2Vec2();
                                                                localPointB.x = localPointB1.x + s * (localPointB2.x - localPointB1.x);
                                                                localPointB.y = localPointB1.y + s * (localPointB2.y - localPointB1.y);
                                                                (() => {
                                                                    const __ifInstance36 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    this.m_type = b2SeparationFunction.e_faceB;
                                                                                    this.m_axis = b2Math.CrossVF(b2Math.SubtractVV(localPointB2, localPointB1), 1);
                                                                                    (() => {
                                                                                        const __callInstance987 = new WebAssembly.Instance(__callWasmModule, {
                                                                                            env: {
                                                                                                impFunc: () => {
                                                                                                    this.m_axis.Normalize();
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __callInstance987.exports;
                                                                                        return __exports.data();
                                                                                    })();
                                                                                    this.m_localPoint = localPointB;
                                                                                    tVec = this.m_axis;
                                                                                    tMat = transformB.R;
                                                                                    normalX = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
                                                                                    normalY = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
                                                                                    tVec = this.m_localPoint;
                                                                                    tMat = transformB.R;
                                                                                    pointBX = transformB.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                                                                                    pointBY = transformB.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                                                                                    tVec = localPointA;
                                                                                    tMat = transformA.R;
                                                                                    pointAX = transformA.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                                                                                    pointAY = transformA.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                                                                                    sgn = (pointAX - pointBX) * normalX + (pointAY - pointBY) * normalY;
                                                                                    (() => {
                                                                                        const __ifInstance37 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        (() => {
                                                                                                            const __callInstance986 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc: () => {
                                                                                                                        this.m_axis.NegativeSelf();
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __callInstance986.exports;
                                                                                                            return __exports.data();
                                                                                                        })();
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance37.exports;
                                                                                        return __exports.data(s < 0 ? 1 : 0);
                                                                                    })();
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                                {
                                                                                    this.m_type = b2SeparationFunction.e_faceA;
                                                                                    this.m_axis = b2Math.CrossVF(b2Math.SubtractVV(localPointA2, localPointA1), 1);
                                                                                    this.m_localPoint = localPointA;
                                                                                    tVec = this.m_axis;
                                                                                    tMat = transformA.R;
                                                                                    normalX = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
                                                                                    normalY = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
                                                                                    tVec = this.m_localPoint;
                                                                                    tMat = transformA.R;
                                                                                    pointAX = transformA.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                                                                                    pointAY = transformA.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                                                                                    tVec = localPointB;
                                                                                    tMat = transformB.R;
                                                                                    pointBX = transformB.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                                                                                    pointBY = transformB.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                                                                                    sgn = (pointBX - pointAX) * normalX + (pointBY - pointAY) * normalY;
                                                                                    (() => {
                                                                                        const __ifInstance38 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        (() => {
                                                                                                            const __callInstance985 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc: () => {
                                                                                                                        this.m_axis.NegativeSelf();
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __callInstance985.exports;
                                                                                                            return __exports.data();
                                                                                                        })();
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance38.exports;
                                                                                        return __exports.data(s < 0 ? 1 : 0);
                                                                                    })();
                                                                                }
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance36.exports;
                                                                    return __exports.data(s == 0 || s == 1 ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance32.exports;
                                                return __exports.data(cache.indexA[0] == cache.indexA[0] ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance30.exports;
                            return __exports.data(cache.indexB[0] == cache.indexB[1] ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __ifInstance29.exports;
        return __exports.data(count == 1 ? 1 : 0);
    })();
};
b2SeparationFunction.prototype.Evaluate = function (transformA, transformB) {
    var axisA;
    var axisB;
    var localPointA;
    var localPointB;
    var pointA;
    var pointB;
    var seperation;
    var normal;
    switch (this.m_type) {
    case b2SeparationFunction.e_points:
        axisA = b2Math.MulTMV(transformA.R, this.m_axis);
        axisB = b2Math.MulTMV(transformB.R, this.m_axis.GetNegative());
        localPointA = this.m_proxyA.GetSupportVertex(axisA);
        localPointB = this.m_proxyB.GetSupportVertex(axisB);
        pointA = b2Math.MulX(transformA, localPointA);
        pointB = b2Math.MulX(transformB, localPointB);
        seperation = (pointB.x - pointA.x) * this.m_axis.x + (pointB.y - pointA.y) * this.m_axis.y;
        return seperation;
    case b2SeparationFunction.e_faceA:
        normal = b2Math.MulMV(transformA.R, this.m_axis);
        pointA = b2Math.MulX(transformA, this.m_localPoint);
        axisB = b2Math.MulTMV(transformB.R, normal.GetNegative());
        localPointB = this.m_proxyB.GetSupportVertex(axisB);
        pointB = b2Math.MulX(transformB, localPointB);
        seperation = (pointB.x - pointA.x) * normal.x + (pointB.y - pointA.y) * normal.y;
        return seperation;
    case b2SeparationFunction.e_faceB:
        normal = b2Math.MulMV(transformB.R, this.m_axis);
        pointB = b2Math.MulX(transformB, this.m_localPoint);
        axisA = b2Math.MulTMV(transformA.R, normal.GetNegative());
        localPointA = this.m_proxyA.GetSupportVertex(axisA);
        pointA = b2Math.MulX(transformA, localPointA);
        seperation = (pointA.x - pointB.x) * normal.x + (pointA.y - pointB.y) * normal.y;
        return seperation;
    default:
        (() => {
            const __callInstance984 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Settings.b2Assert(false);
                    }
                }
            });
            const __exports = __callInstance984.exports;
            return __exports.data();
        })();
        return 0;
    }
};
b2SeparationFunction.prototype.m_proxyA = null;
b2SeparationFunction.prototype.m_proxyB = null;
b2SeparationFunction.prototype.m_type = 0;
b2SeparationFunction.prototype.m_localPoint = new b2Vec2();
b2SeparationFunction.prototype.m_axis = new b2Vec2();
var b2DynamicTreePair = function () {
    (() => {
        const __callInstance983 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance983.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance982 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance982.exports;
        return __exports.data();
    })();
};
b2DynamicTreePair.prototype.__constructor = function () {
};
b2DynamicTreePair.prototype.__varz = function () {
};
b2DynamicTreePair.prototype.proxyA = null;
b2DynamicTreePair.prototype.proxyB = null;
var b2ContactConstraintPoint = function () {
    (() => {
        const __callInstance981 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance981.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance980 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance980.exports;
        return __exports.data();
    })();
};
b2ContactConstraintPoint.prototype.__constructor = function () {
};
b2ContactConstraintPoint.prototype.__varz = function () {
    this.localPoint = new b2Vec2();
    this.rA = new b2Vec2();
    this.rB = new b2Vec2();
};
b2ContactConstraintPoint.prototype.localPoint = new b2Vec2();
b2ContactConstraintPoint.prototype.rA = new b2Vec2();
b2ContactConstraintPoint.prototype.rB = new b2Vec2();
b2ContactConstraintPoint.prototype.normalImpulse = null;
b2ContactConstraintPoint.prototype.tangentImpulse = null;
b2ContactConstraintPoint.prototype.normalMass = null;
b2ContactConstraintPoint.prototype.tangentMass = null;
b2ContactConstraintPoint.prototype.equalizedMass = null;
b2ContactConstraintPoint.prototype.velocityBias = null;
var b2ControllerEdge = function () {
    (() => {
        const __callInstance979 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance979.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance978 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance978.exports;
        return __exports.data();
    })();
};
b2ControllerEdge.prototype.__constructor = function () {
};
b2ControllerEdge.prototype.__varz = function () {
};
b2ControllerEdge.prototype.controller = null;
b2ControllerEdge.prototype.body = null;
b2ControllerEdge.prototype.prevBody = null;
b2ControllerEdge.prototype.nextBody = null;
b2ControllerEdge.prototype.prevController = null;
b2ControllerEdge.prototype.nextController = null;
var b2DistanceInput = function () {
    (() => {
        const __callInstance977 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance977.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance976 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance976.exports;
        return __exports.data();
    })();
};
b2DistanceInput.prototype.__constructor = function () {
};
b2DistanceInput.prototype.__varz = function () {
};
b2DistanceInput.prototype.proxyA = null;
b2DistanceInput.prototype.proxyB = null;
b2DistanceInput.prototype.transformA = null;
b2DistanceInput.prototype.transformB = null;
b2DistanceInput.prototype.useRadii = null;
var b2Settings = function () {
    (() => {
        const __callInstance975 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance975.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance974 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance974.exports;
        return __exports.data();
    })();
};
b2Settings.prototype.__constructor = function () {
};
b2Settings.prototype.__varz = function () {
};
b2Settings.b2MixFriction = function (friction1, friction2) {
    return Math.sqrt(friction1 * friction2);
};
b2Settings.b2MixRestitution = function (restitution1, restitution2) {
    return restitution1 > restitution2 ? restitution1 : restitution2;
};
b2Settings.b2Assert = function (a) {
    if (!a) {
        throw lS(0, 1);
    }
};
b2Settings.VERSION = lS(0, 2);
b2Settings.USHRT_MAX = 65535;
b2Settings.b2_pi = Math.PI;
b2Settings.b2_maxManifoldPoints = 2;
b2Settings.b2_aabbExtension = 0.1;
b2Settings.b2_aabbMultiplier = 2;
b2Settings.b2_polygonRadius = 2 * b2Settings.b2_linearSlop;
b2Settings.b2_linearSlop = 0.005;
b2Settings.b2_angularSlop = 2 / 180 * b2Settings.b2_pi;
b2Settings.b2_toiSlop = 8 * b2Settings.b2_linearSlop;
b2Settings.b2_maxTOIContactsPerIsland = 32;
b2Settings.b2_maxTOIJointsPerIsland = 32;
b2Settings.b2_velocityThreshold = 1;
b2Settings.b2_maxLinearCorrection = 0.2;
b2Settings.b2_maxAngularCorrection = 8 / 180 * b2Settings.b2_pi;
b2Settings.b2_maxTranslation = 2;
b2Settings.b2_maxTranslationSquared = b2Settings.b2_maxTranslation * b2Settings.b2_maxTranslation;
b2Settings.b2_maxRotation = 0.5 * b2Settings.b2_pi;
b2Settings.b2_maxRotationSquared = b2Settings.b2_maxRotation * b2Settings.b2_maxRotation;
b2Settings.b2_contactBaumgarte = 0.2;
b2Settings.b2_timeToSleep = 0.5;
b2Settings.b2_linearSleepTolerance = 0.01;
b2Settings.b2_angularSleepTolerance = 2 / 180 * b2Settings.b2_pi;
var b2Proxy = function () {
    (() => {
        const __callInstance973 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance973.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance972 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance972.exports;
        return __exports.data();
    })();
};
b2Proxy.prototype.__constructor = function () {
};
b2Proxy.prototype.__varz = function () {
    this.lowerBounds = new Array(2);
    this.upperBounds = new Array(2);
    this.pairs = new Object();
};
b2Proxy.prototype.IsValid = function () {
    return this.overlapCount != b2BroadPhase.b2_invalid;
};
b2Proxy.prototype.lowerBounds = new Array(2);
b2Proxy.prototype.upperBounds = new Array(2);
b2Proxy.prototype.overlapCount = 0;
b2Proxy.prototype.timeStamp = 0;
b2Proxy.prototype.pairs = new Object();
b2Proxy.prototype.next = null;
b2Proxy.prototype.userData = null;
var b2Point = function () {
    (() => {
        const __callInstance971 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance971.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance970 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance970.exports;
        return __exports.data();
    })();
};
b2Point.prototype.__constructor = function () {
};
b2Point.prototype.__varz = function () {
    this.p = new b2Vec2();
};
b2Point.prototype.Support = function (xf, vX, vY) {
    return this.p;
};
b2Point.prototype.GetFirstVertex = function (xf) {
    return this.p;
};
b2Point.prototype.p = new b2Vec2();
var b2WorldManifold = function () {
    (() => {
        const __callInstance969 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance969.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance968 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance968.exports;
        return __exports.data();
    })();
};
b2WorldManifold.prototype.__constructor = function () {
    this.m_points = new Array(b2Settings.b2_maxManifoldPoints);
    (() => {
        var i = 0;
        const __forInstance5 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < b2Settings.b2_maxManifoldPoints ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.m_points[i] = new b2Vec2();
                    }
                }
            }
        });
        const __exports = __forInstance5.exports;
        return __exports.data();
    })();
};
b2WorldManifold.prototype.__varz = function () {
    this.m_normal = new b2Vec2();
};
b2WorldManifold.prototype.Initialize = function (manifold, xfA, radiusA, xfB, radiusB) {
    if (manifold.m_pointCount == 0) {
        return;
    }
    var i = 0;
    var tVec;
    var tMat;
    var normalX;
    var normalY;
    var planePointX;
    var planePointY;
    var clipPointX;
    var clipPointY;
    switch (manifold.m_type) {
    case b2Manifold.e_circles:
        tMat = xfA.R;
        tVec = manifold.m_localPoint;
        var pointAX = xfA.position.x + tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
        var pointAY = xfA.position.y + tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
        tMat = xfB.R;
        tVec = manifold.m_points[0].m_localPoint;
        var pointBX = xfB.position.x + tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
        var pointBY = xfB.position.y + tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
        var dX = pointBX - pointAX;
        var dY = pointBY - pointAY;
        var d2 = dX * dX + dY * dY;
        (() => {
            const __ifInstance39 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            var d = Math.sqrt(d2);
                            this.m_normal.x = dX / d;
                            this.m_normal.y = dY / d;
                        }
                    },
                    impFunc2: () => {
                        {
                            this.m_normal.x = 1;
                            this.m_normal.y = 0;
                        }
                    }
                }
            });
            const __exports = __ifInstance39.exports;
            return __exports.data(d2 > Number.MIN_VALUE * Number.MIN_VALUE ? 1 : 0);
        })();
        var cAX = pointAX + radiusA * this.m_normal.x;
        var cAY = pointAY + radiusA * this.m_normal.y;
        var cBX = pointBX - radiusB * this.m_normal.x;
        var cBY = pointBY - radiusB * this.m_normal.y;
        this.m_points[0].x = 0.5 * (cAX + cBX);
        this.m_points[0].y = 0.5 * (cAY + cBY);
        break;
    case b2Manifold.e_faceA:
        tMat = xfA.R;
        tVec = manifold.m_localPlaneNormal;
        normalX = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
        normalY = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
        tMat = xfA.R;
        tVec = manifold.m_localPoint;
        planePointX = xfA.position.x + tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
        planePointY = xfA.position.y + tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
        this.m_normal.x = normalX;
        this.m_normal.y = normalY;
        (() => {
            i = 0;
            const __forInstance6 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return i < manifold.m_pointCount ? 1 : 0;
                    },
                    update: () => {
                        i++;
                    },
                    body: () => {
                        {
                            tMat = xfB.R;
                            tVec = manifold.m_points[i].m_localPoint;
                            clipPointX = xfB.position.x + tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
                            clipPointY = xfB.position.y + tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
                            this.m_points[i].x = clipPointX + 0.5 * (radiusA - (clipPointX - planePointX) * normalX - (clipPointY - planePointY) * normalY - radiusB) * normalX;
                            this.m_points[i].y = clipPointY + 0.5 * (radiusA - (clipPointX - planePointX) * normalX - (clipPointY - planePointY) * normalY - radiusB) * normalY;
                        }
                    }
                }
            });
            const __exports = __forInstance6.exports;
            return __exports.data();
        })();
        break;
    case b2Manifold.e_faceB:
        tMat = xfB.R;
        tVec = manifold.m_localPlaneNormal;
        normalX = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
        normalY = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
        tMat = xfB.R;
        tVec = manifold.m_localPoint;
        planePointX = xfB.position.x + tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
        planePointY = xfB.position.y + tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
        this.m_normal.x = -normalX;
        this.m_normal.y = -normalY;
        (() => {
            i = 0;
            const __forInstance7 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return i < manifold.m_pointCount ? 1 : 0;
                    },
                    update: () => {
                        i++;
                    },
                    body: () => {
                        {
                            tMat = xfA.R;
                            tVec = manifold.m_points[i].m_localPoint;
                            clipPointX = xfA.position.x + tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
                            clipPointY = xfA.position.y + tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
                            this.m_points[i].x = clipPointX + 0.5 * (radiusB - (clipPointX - planePointX) * normalX - (clipPointY - planePointY) * normalY - radiusA) * normalX;
                            this.m_points[i].y = clipPointY + 0.5 * (radiusB - (clipPointX - planePointX) * normalX - (clipPointY - planePointY) * normalY - radiusA) * normalY;
                        }
                    }
                }
            });
            const __exports = __forInstance7.exports;
            return __exports.data();
        })();
        break;
    }
};
b2WorldManifold.prototype.m_normal = new b2Vec2();
b2WorldManifold.prototype.m_points = null;
var b2RayCastOutput = function () {
    (() => {
        const __callInstance967 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance967.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance966 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance966.exports;
        return __exports.data();
    })();
};
b2RayCastOutput.prototype.__constructor = function () {
};
b2RayCastOutput.prototype.__varz = function () {
    this.normal = new b2Vec2();
};
b2RayCastOutput.prototype.normal = new b2Vec2();
b2RayCastOutput.prototype.fraction = null;
var b2ConstantForceController = function () {
    (() => {
        const __callInstance965 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Controller.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance965.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance964 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance964.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance963 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance963.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance962 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2ConstantForceController.prototype, b2Controller.prototype);
            }
        }
    });
    const __exports = __callInstance962.exports;
    return __exports.data();
})();
b2ConstantForceController.prototype._super = b2Controller.prototype;
b2ConstantForceController.prototype.__constructor = function () {
    (() => {
        const __callInstance961 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance961.exports;
        return __exports.data();
    })();
};
b2ConstantForceController.prototype.__varz = function () {
    this.F = new b2Vec2(0, 0);
};
b2ConstantForceController.prototype.Step = function (step) {
    for (var i = m_bodyList; i; i = i.nextBody) {
        var body = i.body;
        if (!body.IsAwake()) {
            continue;
        }
        (() => {
            const __callInstance960 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        body.ApplyForce(this.F, body.GetWorldCenter());
                    }
                }
            });
            const __exports = __callInstance960.exports;
            return __exports.data();
        })();
    }
};
b2ConstantForceController.prototype.F = new b2Vec2(0, 0);
var b2MassData = function () {
    (() => {
        const __callInstance959 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance959.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance958 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance958.exports;
        return __exports.data();
    })();
};
b2MassData.prototype.__constructor = function () {
};
b2MassData.prototype.__varz = function () {
    this.center = new b2Vec2(0, 0);
};
b2MassData.prototype.mass = 0;
b2MassData.prototype.center = new b2Vec2(0, 0);
b2MassData.prototype.I = 0;
var b2DynamicTree = function () {
    (() => {
        const __callInstance957 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance957.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance956 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance956.exports;
        return __exports.data();
    })();
};
b2DynamicTree.prototype.__constructor = function () {
    this.m_root = null;
    this.m_freeList = null;
    this.m_path = 0;
    this.m_insertionCount = 0;
};
b2DynamicTree.prototype.__varz = function () {
};
b2DynamicTree.prototype.AllocateNode = function () {
    if (this.m_freeList) {
        var node = this.m_freeList;
        this.m_freeList = node.parent;
        node.parent = null;
        node.child1 = null;
        node.child2 = null;
        return node;
    }
    return new b2DynamicTreeNode();
};
b2DynamicTree.prototype.FreeNode = function (node) {
    node.parent = this.m_freeList;
    this.m_freeList = node;
};
b2DynamicTree.prototype.InsertLeaf = function (leaf) {
    ++this.m_insertionCount;
    if (this.m_root == null) {
        this.m_root = leaf;
        this.m_root.parent = null;
        return;
    }
    var center = leaf.aabb.GetCenter();
    var sibling = this.m_root;
    (() => {
        const __ifInstance40 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        do {
                            var child1 = sibling.child1;
                            var child2 = sibling.child2;
                            var norm1 = Math.abs((child1.aabb.lowerBound.x + child1.aabb.upperBound.x) / 2 - center.x) + Math.abs((child1.aabb.lowerBound.y + child1.aabb.upperBound.y) / 2 - center.y);
                            var norm2 = Math.abs((child2.aabb.lowerBound.x + child2.aabb.upperBound.x) / 2 - center.x) + Math.abs((child2.aabb.lowerBound.y + child2.aabb.upperBound.y) / 2 - center.y);
                            (() => {
                                const __ifInstance41 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                sibling = child1;
                                            }
                                        },
                                        impFunc2: () => {
                                            {
                                                sibling = child2;
                                            }
                                        }
                                    }
                                });
                                const __exports = __ifInstance41.exports;
                                return __exports.data(norm1 < norm2 ? 1 : 0);
                            })();
                        } while (sibling.IsLeaf() == false);
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance40.exports;
        return __exports.data(sibling.IsLeaf() == false ? 1 : 0);
    })();
    var node1 = sibling.parent;
    var node2 = this.AllocateNode();
    node2.parent = node1;
    node2.userData = null;
    (() => {
        const __callInstance955 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    node2.aabb.Combine(leaf.aabb, sibling.aabb);
                }
            }
        });
        const __exports = __callInstance955.exports;
        return __exports.data();
    })();
    if (node1) {
        (() => {
            const __ifInstance42 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            node1.child1 = node2;
                        }
                    },
                    impFunc2: () => {
                        {
                            node1.child2 = node2;
                        }
                    }
                }
            });
            const __exports = __ifInstance42.exports;
            return __exports.data(sibling.parent.child1 == sibling ? 1 : 0);
        })();
        node2.child1 = sibling;
        node2.child2 = leaf;
        sibling.parent = node2;
        leaf.parent = node2;
        do {
            if (node1.aabb.Contains(node2.aabb)) {
                break;
            }
            (() => {
                const __callInstance954 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            node1.aabb.Combine(node1.child1.aabb, node1.child2.aabb);
                        }
                    }
                });
                const __exports = __callInstance954.exports;
                return __exports.data();
            })();
            node2 = node1;
            node1 = node1.parent;
        } while (node1);
    } else {
        node2.child1 = sibling;
        node2.child2 = leaf;
        sibling.parent = node2;
        leaf.parent = node2;
        this.m_root = node2;
    }
};
b2DynamicTree.prototype.RemoveLeaf = function (leaf) {
    if (leaf == this.m_root) {
        this.m_root = null;
        return;
    }
    var node2 = leaf.parent;
    var node1 = node2.parent;
    var sibling;
    (() => {
        const __ifInstance43 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        sibling = node2.child2;
                    }
                },
                impFunc2: () => {
                    {
                        sibling = node2.child1;
                    }
                }
            }
        });
        const __exports = __ifInstance43.exports;
        return __exports.data(node2.child1 == leaf ? 1 : 0);
    })();
    if (node1) {
        (() => {
            const __ifInstance44 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            node1.child1 = sibling;
                        }
                    },
                    impFunc2: () => {
                        {
                            node1.child2 = sibling;
                        }
                    }
                }
            });
            const __exports = __ifInstance44.exports;
            return __exports.data(node1.child1 == node2 ? 1 : 0);
        })();
        sibling.parent = node1;
        (() => {
            const __callInstance953 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.FreeNode(node2);
                    }
                }
            });
            const __exports = __callInstance953.exports;
            return __exports.data();
        })();
        while (node1) {
            var oldAABB = node1.aabb;
            node1.aabb = b2AABB.Combine(node1.child1.aabb, node1.child2.aabb);
            if (oldAABB.Contains(node1.aabb)) {
                break;
            }
            node1 = node1.parent;
        }
    } else {
        this.m_root = sibling;
        sibling.parent = null;
        (() => {
            const __callInstance952 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.FreeNode(node2);
                    }
                }
            });
            const __exports = __callInstance952.exports;
            return __exports.data();
        })();
    }
};
b2DynamicTree.prototype.CreateProxy = function (aabb, userData) {
    var node = this.AllocateNode();
    var extendX = b2Settings.b2_aabbExtension;
    var extendY = b2Settings.b2_aabbExtension;
    node.aabb.lowerBound.x = aabb.lowerBound.x - extendX;
    node.aabb.lowerBound.y = aabb.lowerBound.y - extendY;
    node.aabb.upperBound.x = aabb.upperBound.x + extendX;
    node.aabb.upperBound.y = aabb.upperBound.y + extendY;
    node.userData = userData;
    (() => {
        const __callInstance951 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.InsertLeaf(node);
                }
            }
        });
        const __exports = __callInstance951.exports;
        return __exports.data();
    })();
    return node;
};
b2DynamicTree.prototype.DestroyProxy = function (proxy) {
    (() => {
        const __callInstance950 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.RemoveLeaf(proxy);
                }
            }
        });
        const __exports = __callInstance950.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance949 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.FreeNode(proxy);
                }
            }
        });
        const __exports = __callInstance949.exports;
        return __exports.data();
    })();
};
b2DynamicTree.prototype.MoveProxy = function (proxy, aabb, displacement) {
    (() => {
        const __callInstance948 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(proxy.IsLeaf());
                }
            }
        });
        const __exports = __callInstance948.exports;
        return __exports.data();
    })();
    if (proxy.aabb.Contains(aabb)) {
        return false;
    }
    (() => {
        const __callInstance947 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.RemoveLeaf(proxy);
                }
            }
        });
        const __exports = __callInstance947.exports;
        return __exports.data();
    })();
    var extendX = b2Settings.b2_aabbExtension + b2Settings.b2_aabbMultiplier * (displacement.x > 0 ? displacement.x : -displacement.x);
    var extendY = b2Settings.b2_aabbExtension + b2Settings.b2_aabbMultiplier * (displacement.y > 0 ? displacement.y : -displacement.y);
    proxy.aabb.lowerBound.x = aabb.lowerBound.x - extendX;
    proxy.aabb.lowerBound.y = aabb.lowerBound.y - extendY;
    proxy.aabb.upperBound.x = aabb.upperBound.x + extendX;
    proxy.aabb.upperBound.y = aabb.upperBound.y + extendY;
    (() => {
        const __callInstance946 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.InsertLeaf(proxy);
                }
            }
        });
        const __exports = __callInstance946.exports;
        return __exports.data();
    })();
    return true;
};
b2DynamicTree.prototype.Rebalance = function (iterations) {
    if (this.m_root == null) {
        return;
    }
    (() => {
        var i = 0;
        const __forInstance8 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < iterations ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        var node = this.m_root;
                        var bit = 0;
                        (() => {
                            const __forInstance114 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return node.IsLeaf() == false ? 1 : 0;
                                    },
                                    update: () => {
                                    },
                                    body: () => {
                                        {
                                            node = this.m_path >> bit & 1 ? node.child2 : node.child1;
                                            bit = bit + 1 & 31;
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance114.exports;
                            return __exports.data();
                        })();
                        ++this.m_path;
                        (() => {
                            const __callInstance945 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.RemoveLeaf(node);
                                    }
                                }
                            });
                            const __exports = __callInstance945.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance944 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.InsertLeaf(node);
                                    }
                                }
                            });
                            const __exports = __callInstance944.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance8.exports;
        return __exports.data();
    })();
};
b2DynamicTree.prototype.GetFatAABB = function (proxy) {
    return proxy.aabb;
};
b2DynamicTree.prototype.GetUserData = function (proxy) {
    return proxy.userData;
};
b2DynamicTree.prototype.Query = function (callback, aabb) {
    if (this.m_root == null) {
        return;
    }
    var stack = new Array();
    var count = 0;
    stack[count++] = this.m_root;
    while (count > 0) {
        var node = stack[--count];
        if (node.aabb.TestOverlap(aabb)) {
            if (node.IsLeaf()) {
                var proceed = callback(node);
                if (!proceed) {
                    return;
                }
            } else {
                stack[count++] = node.child1;
                stack[count++] = node.child2;
            }
        }
    }
};
b2DynamicTree.prototype.RayCast = function (callback, input) {
    if (this.m_root == null) {
        return;
    }
    var p1 = input.p1;
    var p2 = input.p2;
    var r = b2Math.SubtractVV(p1, p2);
    (() => {
        const __callInstance943 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    r.Normalize();
                }
            }
        });
        const __exports = __callInstance943.exports;
        return __exports.data();
    })();
    var v = b2Math.CrossFV(1, r);
    var abs_v = b2Math.AbsV(v);
    var maxFraction = input.maxFraction;
    var segmentAABB = new b2AABB();
    var tX;
    var tY;
    tX = p1.x + maxFraction * (p2.x - p1.x);
    tY = p1.y + maxFraction * (p2.y - p1.y);
    segmentAABB.lowerBound.x = Math.min(p1.x, tX);
    segmentAABB.lowerBound.y = Math.min(p1.y, tY);
    segmentAABB.upperBound.x = Math.max(p1.x, tX);
    segmentAABB.upperBound.y = Math.max(p1.y, tY);
    var stack = new Array();
    var count = 0;
    stack[count++] = this.m_root;
    while (count > 0) {
        var node = stack[--count];
        if (node.aabb.TestOverlap(segmentAABB) == false) {
            continue;
        }
        var c = node.aabb.GetCenter();
        var h = node.aabb.GetExtents();
        var separation = Math.abs(v.x * (p1.x - c.x) + v.y * (p1.y - c.y)) - abs_v.x * h.x - abs_v.y * h.y;
        if (separation > 0) {
            continue;
        }
        if (node.IsLeaf()) {
            var subInput = new b2RayCastInput();
            subInput.p1 = input.p1;
            subInput.p2 = input.p2;
            subInput.maxFraction = input.maxFraction;
            maxFraction = callback(subInput, node);
            if (maxFraction == 0) {
                return;
            }
            tX = p1.x + maxFraction * (p2.x - p1.x);
            tY = p1.y + maxFraction * (p2.y - p1.y);
            segmentAABB.lowerBound.x = Math.min(p1.x, tX);
            segmentAABB.lowerBound.y = Math.min(p1.y, tY);
            segmentAABB.upperBound.x = Math.max(p1.x, tX);
            segmentAABB.upperBound.y = Math.max(p1.y, tY);
        } else {
            stack[count++] = node.child1;
            stack[count++] = node.child2;
        }
    }
};
b2DynamicTree.prototype.m_root = null;
b2DynamicTree.prototype.m_freeList = null;
b2DynamicTree.prototype.m_path = 0;
b2DynamicTree.prototype.m_insertionCount = 0;
var b2JointEdge = function () {
    (() => {
        const __callInstance942 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance942.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance941 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance941.exports;
        return __exports.data();
    })();
};
b2JointEdge.prototype.__constructor = function () {
};
b2JointEdge.prototype.__varz = function () {
};
b2JointEdge.prototype.other = null;
b2JointEdge.prototype.joint = null;
b2JointEdge.prototype.prev = null;
b2JointEdge.prototype.next = null;
var b2RayCastInput = function () {
    (() => {
        const __callInstance940 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance940.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance939 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance939.exports;
        return __exports.data();
    })();
};
b2RayCastInput.prototype.__constructor = function () {
};
b2RayCastInput.prototype.__varz = function () {
    this.p1 = new b2Vec2();
    this.p2 = new b2Vec2();
};
b2RayCastInput.prototype.p1 = new b2Vec2();
b2RayCastInput.prototype.p2 = new b2Vec2();
b2RayCastInput.prototype.maxFraction = null;
var Features = function () {
    (() => {
        const __callInstance938 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance938.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance937 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance937.exports;
        return __exports.data();
    })();
};
Features.prototype.__constructor = function () {
};
Features.prototype.__varz = function () {
};
(() => {
    const __callInstance936 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Features.prototype.__defineGetter__(lS(0, 3), function () {
                    return this._referenceEdge;
                });
            }
        }
    });
    const __exports = __callInstance936.exports;
    return __exports.data();
})();
(() => {
    const __callInstance935 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Features.prototype.__defineSetter__(lS(0, 4), function (value) {
                    this._referenceEdge = value;
                    this._m_id._key = this._m_id._key & 4294967040 | this._referenceEdge & 255;
                });
            }
        }
    });
    const __exports = __callInstance935.exports;
    return __exports.data();
})();
(() => {
    const __callInstance934 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Features.prototype.__defineGetter__(lS(0, 5), function () {
                    return this._incidentEdge;
                });
            }
        }
    });
    const __exports = __callInstance934.exports;
    return __exports.data();
})();
(() => {
    const __callInstance933 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Features.prototype.__defineSetter__(lS(0, 6), function (value) {
                    this._incidentEdge = value;
                    this._m_id._key = this._m_id._key & 4294902015 | this._incidentEdge << 8 & 65280;
                });
            }
        }
    });
    const __exports = __callInstance933.exports;
    return __exports.data();
})();
(() => {
    const __callInstance932 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Features.prototype.__defineGetter__(lS(0, 7), function () {
                    return this._incidentVertex;
                });
            }
        }
    });
    const __exports = __callInstance932.exports;
    return __exports.data();
})();
(() => {
    const __callInstance931 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Features.prototype.__defineSetter__(lS(0, 8), function (value) {
                    this._incidentVertex = value;
                    this._m_id._key = this._m_id._key & 4278255615 | this._incidentVertex << 16 & 16711680;
                });
            }
        }
    });
    const __exports = __callInstance931.exports;
    return __exports.data();
})();
(() => {
    const __callInstance930 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Features.prototype.__defineGetter__(lS(0, 9), function () {
                    return this._flip;
                });
            }
        }
    });
    const __exports = __callInstance930.exports;
    return __exports.data();
})();
(() => {
    const __callInstance929 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                Features.prototype.__defineSetter__(lS(0, 10), function (value) {
                    this._flip = value;
                    this._m_id._key = this._m_id._key & 16777215 | this._flip << 24 & 4278190080;
                });
            }
        }
    });
    const __exports = __callInstance929.exports;
    return __exports.data();
})();
Features.prototype._referenceEdge = 0;
Features.prototype._incidentEdge = 0;
Features.prototype._incidentVertex = 0;
Features.prototype._flip = 0;
Features.prototype._m_id = null;
var b2FilterData = function () {
    (() => {
        const __callInstance928 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance928.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance927 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance927.exports;
        return __exports.data();
    })();
};
b2FilterData.prototype.__constructor = function () {
};
b2FilterData.prototype.__varz = function () {
    this.categoryBits = 1;
    this.maskBits = 65535;
};
b2FilterData.prototype.Copy = function () {
    var copy = new b2FilterData();
    copy.categoryBits = this.categoryBits;
    copy.maskBits = this.maskBits;
    copy.groupIndex = this.groupIndex;
    return copy;
};
b2FilterData.prototype.categoryBits = 1;
b2FilterData.prototype.maskBits = 65535;
b2FilterData.prototype.groupIndex = 0;
var b2AABB = function () {
    (() => {
        const __callInstance926 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance926.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance925 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance925.exports;
        return __exports.data();
    })();
};
b2AABB.prototype.__constructor = function () {
};
b2AABB.prototype.__varz = function () {
    this.lowerBound = new b2Vec2();
    this.upperBound = new b2Vec2();
};
b2AABB.Combine = function (aabb1, aabb2) {
    var aabb = new b2AABB();
    (() => {
        const __callInstance924 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    aabb.Combine(aabb1, aabb2);
                }
            }
        });
        const __exports = __callInstance924.exports;
        return __exports.data();
    })();
    return aabb;
};
b2AABB.prototype.IsValid = function () {
    var dX = this.upperBound.x - this.lowerBound.x;
    var dY = this.upperBound.y - this.lowerBound.y;
    var valid = dX >= 0 && dY >= 0;
    valid = valid && this.lowerBound.IsValid() && this.upperBound.IsValid();
    return valid;
};
b2AABB.prototype.GetCenter = function () {
    return new b2Vec2((this.lowerBound.x + this.upperBound.x) / 2, (this.lowerBound.y + this.upperBound.y) / 2);
};
b2AABB.prototype.GetExtents = function () {
    return new b2Vec2((this.upperBound.x - this.lowerBound.x) / 2, (this.upperBound.y - this.lowerBound.y) / 2);
};
b2AABB.prototype.Contains = function (aabb) {
    var result = true && this.lowerBound.x <= aabb.lowerBound.x && this.lowerBound.y <= aabb.lowerBound.y && aabb.upperBound.x <= this.upperBound.x && aabb.upperBound.y <= this.upperBound.y;
    return result;
};
b2AABB.prototype.RayCast = function (output, input) {
    var tmin = -Number.MAX_VALUE;
    var tmax = Number.MAX_VALUE;
    var pX = input.p1.x;
    var pY = input.p1.y;
    var dX = input.p2.x - input.p1.x;
    var dY = input.p2.y - input.p1.y;
    var absDX = Math.abs(dX);
    var absDY = Math.abs(dY);
    var normal = output.normal;
    var inv_d;
    var t1;
    var t2;
    var t3;
    var s;
    if (absDX < Number.MIN_VALUE) {
        if (pX < this.lowerBound.x || this.upperBound.x < pX) {
            return false;
        }
    } else {
        inv_d = 1 / dX;
        t1 = (this.lowerBound.x - pX) * inv_d;
        t2 = (this.upperBound.x - pX) * inv_d;
        s = -1;
        (() => {
            const __ifInstance45 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            t3 = t1;
                            t1 = t2;
                            t2 = t3;
                            s = 1;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance45.exports;
            return __exports.data(t1 > t2 ? 1 : 0);
        })();
        (() => {
            const __ifInstance46 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            normal.x = s;
                            normal.y = 0;
                            tmin = t1;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance46.exports;
            return __exports.data(t1 > tmin ? 1 : 0);
        })();
        tmax = Math.min(tmax, t2);
        if (tmin > tmax) {
            return false;
        }
    }
    if (absDY < Number.MIN_VALUE) {
        if (pY < this.lowerBound.y || this.upperBound.y < pY) {
            return false;
        }
    } else {
        inv_d = 1 / dY;
        t1 = (this.lowerBound.y - pY) * inv_d;
        t2 = (this.upperBound.y - pY) * inv_d;
        s = -1;
        (() => {
            const __ifInstance47 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            t3 = t1;
                            t1 = t2;
                            t2 = t3;
                            s = 1;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance47.exports;
            return __exports.data(t1 > t2 ? 1 : 0);
        })();
        (() => {
            const __ifInstance48 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            normal.y = s;
                            normal.x = 0;
                            tmin = t1;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance48.exports;
            return __exports.data(t1 > tmin ? 1 : 0);
        })();
        tmax = Math.min(tmax, t2);
        if (tmin > tmax) {
            return false;
        }
    }
    output.fraction = tmin;
    return true;
};
b2AABB.prototype.TestOverlap = function (other) {
    var d1X = other.lowerBound.x - this.upperBound.x;
    var d1Y = other.lowerBound.y - this.upperBound.y;
    var d2X = this.lowerBound.x - other.upperBound.x;
    var d2Y = this.lowerBound.y - other.upperBound.y;
    if (d1X > 0 || d1Y > 0) {
        return false;
    }
    if (d2X > 0 || d2Y > 0) {
        return false;
    }
    return true;
};
b2AABB.prototype.Combine = function (aabb1, aabb2) {
    this.lowerBound.x = Math.min(aabb1.lowerBound.x, aabb2.lowerBound.x);
    this.lowerBound.y = Math.min(aabb1.lowerBound.y, aabb2.lowerBound.y);
    this.upperBound.x = Math.max(aabb1.upperBound.x, aabb2.upperBound.x);
    this.upperBound.y = Math.max(aabb1.upperBound.y, aabb2.upperBound.y);
};
b2AABB.prototype.lowerBound = new b2Vec2();
b2AABB.prototype.upperBound = new b2Vec2();
var b2Jacobian = function () {
    (() => {
        const __callInstance923 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance923.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance922 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance922.exports;
        return __exports.data();
    })();
};
b2Jacobian.prototype.__constructor = function () {
};
b2Jacobian.prototype.__varz = function () {
    this.linearA = new b2Vec2();
    this.linearB = new b2Vec2();
};
b2Jacobian.prototype.SetZero = function () {
    (() => {
        const __callInstance921 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.linearA.SetZero();
                }
            }
        });
        const __exports = __callInstance921.exports;
        return __exports.data();
    })();
    this.angularA = 0;
    (() => {
        const __callInstance920 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.linearB.SetZero();
                }
            }
        });
        const __exports = __callInstance920.exports;
        return __exports.data();
    })();
    this.angularB = 0;
};
b2Jacobian.prototype.Set = function (x1, a1, x2, a2) {
    (() => {
        const __callInstance919 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.linearA.SetV(x1);
                }
            }
        });
        const __exports = __callInstance919.exports;
        return __exports.data();
    })();
    this.angularA = a1;
    (() => {
        const __callInstance918 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.linearB.SetV(x2);
                }
            }
        });
        const __exports = __callInstance918.exports;
        return __exports.data();
    })();
    this.angularB = a2;
};
b2Jacobian.prototype.Compute = function (x1, a1, x2, a2) {
    return this.linearA.x * x1.x + this.linearA.y * x1.y + this.angularA * a1 + (this.linearB.x * x2.x + this.linearB.y * x2.y) + this.angularB * a2;
};
b2Jacobian.prototype.linearA = new b2Vec2();
b2Jacobian.prototype.angularA = null;
b2Jacobian.prototype.linearB = new b2Vec2();
b2Jacobian.prototype.angularB = null;
var b2Bound = function () {
    (() => {
        const __callInstance917 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance917.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance916 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance916.exports;
        return __exports.data();
    })();
};
b2Bound.prototype.__constructor = function () {
};
b2Bound.prototype.__varz = function () {
};
b2Bound.prototype.IsLower = function () {
    return (this.value & 1) == 0;
};
b2Bound.prototype.IsUpper = function () {
    return (this.value & 1) == 1;
};
b2Bound.prototype.Swap = function (b) {
    var tempValue = this.value;
    var tempProxy = this.proxy;
    var tempStabbingCount = this.stabbingCount;
    this.value = b.value;
    this.proxy = b.proxy;
    this.stabbingCount = b.stabbingCount;
    b.value = tempValue;
    b.proxy = tempProxy;
    b.stabbingCount = tempStabbingCount;
};
b2Bound.prototype.value = 0;
b2Bound.prototype.proxy = null;
b2Bound.prototype.stabbingCount = 0;
var b2SimplexVertex = function () {
    (() => {
        const __callInstance915 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance915.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance914 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance914.exports;
        return __exports.data();
    })();
};
b2SimplexVertex.prototype.__constructor = function () {
};
b2SimplexVertex.prototype.__varz = function () {
};
b2SimplexVertex.prototype.Set = function (other) {
    (() => {
        const __callInstance913 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.wA.SetV(other.wA);
                }
            }
        });
        const __exports = __callInstance913.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance912 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.wB.SetV(other.wB);
                }
            }
        });
        const __exports = __callInstance912.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance911 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.w.SetV(other.w);
                }
            }
        });
        const __exports = __callInstance911.exports;
        return __exports.data();
    })();
    this.a = other.a;
    this.indexA = other.indexA;
    this.indexB = other.indexB;
};
b2SimplexVertex.prototype.wA = null;
b2SimplexVertex.prototype.wB = null;
b2SimplexVertex.prototype.w = null;
b2SimplexVertex.prototype.a = null;
b2SimplexVertex.prototype.indexA = 0;
b2SimplexVertex.prototype.indexB = 0;
var b2Mat22 = function () {
    (() => {
        const __callInstance910 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance910.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance909 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance909.exports;
        return __exports.data();
    })();
};
b2Mat22.prototype.__constructor = function () {
    this.col1.x = this.col2.y = 1;
};
b2Mat22.prototype.__varz = function () {
    this.col1 = new b2Vec2();
    this.col2 = new b2Vec2();
};
b2Mat22.FromAngle = function (angle) {
    var mat = new b2Mat22();
    (() => {
        const __callInstance908 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    mat.Set(angle);
                }
            }
        });
        const __exports = __callInstance908.exports;
        return __exports.data();
    })();
    return mat;
};
b2Mat22.FromVV = function (c1, c2) {
    var mat = new b2Mat22();
    (() => {
        const __callInstance907 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    mat.SetVV(c1, c2);
                }
            }
        });
        const __exports = __callInstance907.exports;
        return __exports.data();
    })();
    return mat;
};
b2Mat22.prototype.Set = function (angle) {
    var c = Math.cos(angle);
    var s = Math.sin(angle);
    this.col1.x = c;
    this.col2.x = -s;
    this.col1.y = s;
    this.col2.y = c;
};
b2Mat22.prototype.SetVV = function (c1, c2) {
    (() => {
        const __callInstance906 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col1.SetV(c1);
                }
            }
        });
        const __exports = __callInstance906.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance905 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col2.SetV(c2);
                }
            }
        });
        const __exports = __callInstance905.exports;
        return __exports.data();
    })();
};
b2Mat22.prototype.Copy = function () {
    var mat = new b2Mat22();
    (() => {
        const __callInstance904 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    mat.SetM(this);
                }
            }
        });
        const __exports = __callInstance904.exports;
        return __exports.data();
    })();
    return mat;
};
b2Mat22.prototype.SetM = function (m) {
    (() => {
        const __callInstance903 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col1.SetV(m.col1);
                }
            }
        });
        const __exports = __callInstance903.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance902 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col2.SetV(m.col2);
                }
            }
        });
        const __exports = __callInstance902.exports;
        return __exports.data();
    })();
};
b2Mat22.prototype.AddM = function (m) {
    this.col1.x += m.col1.x;
    this.col1.y += m.col1.y;
    this.col2.x += m.col2.x;
    this.col2.y += m.col2.y;
};
b2Mat22.prototype.SetIdentity = function () {
    this.col1.x = 1;
    this.col2.x = 0;
    this.col1.y = 0;
    this.col2.y = 1;
};
b2Mat22.prototype.SetZero = function () {
    this.col1.x = 0;
    this.col2.x = 0;
    this.col1.y = 0;
    this.col2.y = 0;
};
b2Mat22.prototype.GetAngle = function () {
    return Math.atan2(this.col1.y, this.col1.x);
};
b2Mat22.prototype.GetInverse = function (out) {
    var a = this.col1.x;
    var b = this.col2.x;
    var c = this.col1.y;
    var d = this.col2.y;
    var det = a * d - b * c;
    (() => {
        const __ifInstance49 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        det = 1 / det;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance49.exports;
        return __exports.data(det != 0 ? 1 : 0);
    })();
    out.col1.x = det * d;
    out.col2.x = -det * b;
    out.col1.y = -det * c;
    out.col2.y = det * a;
    return out;
};
b2Mat22.prototype.Solve = function (out, bX, bY) {
    var a11 = this.col1.x;
    var a12 = this.col2.x;
    var a21 = this.col1.y;
    var a22 = this.col2.y;
    var det = a11 * a22 - a12 * a21;
    (() => {
        const __ifInstance50 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        det = 1 / det;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance50.exports;
        return __exports.data(det != 0 ? 1 : 0);
    })();
    out.x = det * (a22 * bX - a12 * bY);
    out.y = det * (a11 * bY - a21 * bX);
    return out;
};
b2Mat22.prototype.Abs = function () {
    (() => {
        const __callInstance901 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col1.Abs();
                }
            }
        });
        const __exports = __callInstance901.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance900 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col2.Abs();
                }
            }
        });
        const __exports = __callInstance900.exports;
        return __exports.data();
    })();
};
b2Mat22.prototype.col1 = new b2Vec2();
b2Mat22.prototype.col2 = new b2Vec2();
var b2SimplexCache = function () {
    (() => {
        const __callInstance899 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance899.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance898 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance898.exports;
        return __exports.data();
    })();
};
b2SimplexCache.prototype.__constructor = function () {
};
b2SimplexCache.prototype.__varz = function () {
    this.indexA = new Array(3);
    this.indexB = new Array(3);
};
b2SimplexCache.prototype.metric = null;
b2SimplexCache.prototype.count = 0;
b2SimplexCache.prototype.indexA = new Array(3);
b2SimplexCache.prototype.indexB = new Array(3);
var b2Shape = function () {
    (() => {
        const __callInstance897 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance897.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance896 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance896.exports;
        return __exports.data();
    })();
};
b2Shape.prototype.__constructor = function () {
    this.m_type = b2Shape.e_unknownShape;
    this.m_radius = b2Settings.b2_linearSlop;
};
b2Shape.prototype.__varz = function () {
};
b2Shape.TestOverlap = function (shape1, transform1, shape2, transform2) {
    var input = new b2DistanceInput();
    input.proxyA = new b2DistanceProxy();
    (() => {
        const __callInstance895 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    input.proxyA.Set(shape1);
                }
            }
        });
        const __exports = __callInstance895.exports;
        return __exports.data();
    })();
    input.proxyB = new b2DistanceProxy();
    (() => {
        const __callInstance894 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    input.proxyB.Set(shape2);
                }
            }
        });
        const __exports = __callInstance894.exports;
        return __exports.data();
    })();
    input.transformA = transform1;
    input.transformB = transform2;
    input.useRadii = true;
    var simplexCache = new b2SimplexCache();
    simplexCache.count = 0;
    var output = new b2DistanceOutput();
    (() => {
        const __callInstance893 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Distance.Distance(output, simplexCache, input);
                }
            }
        });
        const __exports = __callInstance893.exports;
        return __exports.data();
    })();
    return output.distance < 10 * Number.MIN_VALUE;
};
b2Shape.e_hitCollide = 1;
b2Shape.e_missCollide = 0;
b2Shape.e_startsInsideCollide = -1;
b2Shape.e_unknownShape = -1;
b2Shape.e_circleShape = 0;
b2Shape.e_polygonShape = 1;
b2Shape.e_edgeShape = 2;
b2Shape.e_shapeTypeCount = 3;
b2Shape.prototype.Copy = function () {
    return null;
};
b2Shape.prototype.Set = function (other) {
    this.m_radius = other.m_radius;
};
b2Shape.prototype.GetType = function () {
    return this.m_type;
};
b2Shape.prototype.TestPoint = function (xf, p) {
    return false;
};
b2Shape.prototype.RayCast = function (output, input, transform) {
    return false;
};
b2Shape.prototype.ComputeAABB = function (aabb, xf) {
};
b2Shape.prototype.ComputeMass = function (massData, density) {
};
b2Shape.prototype.ComputeSubmergedArea = function (normal, offset, xf, c) {
    return 0;
};
b2Shape.prototype.m_type = 0;
b2Shape.prototype.m_radius = null;
var b2Segment = function () {
    (() => {
        const __callInstance892 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance892.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance891 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance891.exports;
        return __exports.data();
    })();
};
b2Segment.prototype.__constructor = function () {
};
b2Segment.prototype.__varz = function () {
    this.p1 = new b2Vec2();
    this.p2 = new b2Vec2();
};
b2Segment.prototype.TestSegment = function (lambda, normal, segment, maxLambda) {
    var s = segment.p1;
    var rX = segment.p2.x - s.x;
    var rY = segment.p2.y - s.y;
    var dX = this.p2.x - this.p1.x;
    var dY = this.p2.y - this.p1.y;
    var nX = dY;
    var nY = -dX;
    var k_slop = 100 * Number.MIN_VALUE;
    var denom = -(rX * nX + rY * nY);
    if (denom > k_slop) {
        var bX = s.x - this.p1.x;
        var bY = s.y - this.p1.y;
        var a = bX * nX + bY * nY;
        if (0 <= a && a <= maxLambda * denom) {
            var mu2 = -rX * bY + rY * bX;
            if (-k_slop * denom <= mu2 && mu2 <= denom * (1 + k_slop)) {
                a /= denom;
                var nLen = Math.sqrt(nX * nX + nY * nY);
                nX /= nLen;
                nY /= nLen;
                lambda[0] = a;
                (() => {
                    const __callInstance890 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                normal.Set(nX, nY);
                            }
                        }
                    });
                    const __exports = __callInstance890.exports;
                    return __exports.data();
                })();
                return true;
            }
        }
    }
    return false;
};
b2Segment.prototype.Extend = function (aabb) {
    (() => {
        const __callInstance889 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.ExtendForward(aabb);
                }
            }
        });
        const __exports = __callInstance889.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance888 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.ExtendBackward(aabb);
                }
            }
        });
        const __exports = __callInstance888.exports;
        return __exports.data();
    })();
};
b2Segment.prototype.ExtendForward = function (aabb) {
    var dX = this.p2.x - this.p1.x;
    var dY = this.p2.y - this.p1.y;
    var lambda = Math.min(dX > 0 ? (aabb.upperBound.x - this.p1.x) / dX : dX < 0 ? (aabb.lowerBound.x - this.p1.x) / dX : Number.POSITIVE_INFINITY, dY > 0 ? (aabb.upperBound.y - this.p1.y) / dY : dY < 0 ? (aabb.lowerBound.y - this.p1.y) / dY : Number.POSITIVE_INFINITY);
    this.p2.x = this.p1.x + dX * lambda;
    this.p2.y = this.p1.y + dY * lambda;
};
b2Segment.prototype.ExtendBackward = function (aabb) {
    var dX = -this.p2.x + this.p1.x;
    var dY = -this.p2.y + this.p1.y;
    var lambda = Math.min(dX > 0 ? (aabb.upperBound.x - this.p2.x) / dX : dX < 0 ? (aabb.lowerBound.x - this.p2.x) / dX : Number.POSITIVE_INFINITY, dY > 0 ? (aabb.upperBound.y - this.p2.y) / dY : dY < 0 ? (aabb.lowerBound.y - this.p2.y) / dY : Number.POSITIVE_INFINITY);
    this.p1.x = this.p2.x + dX * lambda;
    this.p1.y = this.p2.y + dY * lambda;
};
b2Segment.prototype.p1 = new b2Vec2();
b2Segment.prototype.p2 = new b2Vec2();
var b2ContactRegister = function () {
    (() => {
        const __callInstance887 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance887.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance886 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance886.exports;
        return __exports.data();
    })();
};
b2ContactRegister.prototype.__constructor = function () {
};
b2ContactRegister.prototype.__varz = function () {
};
b2ContactRegister.prototype.createFcn = null;
b2ContactRegister.prototype.destroyFcn = null;
b2ContactRegister.prototype.primary = null;
b2ContactRegister.prototype.pool = null;
b2ContactRegister.prototype.poolCount = 0;
var b2DebugDraw = function () {
    (() => {
        const __callInstance885 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance885.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance884 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance884.exports;
        return __exports.data();
    })();
};
b2DebugDraw.prototype.__constructor = function () {
    this.m_drawFlags = 0;
};
b2DebugDraw.prototype.__varz = function () {
};
b2DebugDraw.e_shapeBit = 1;
b2DebugDraw.e_jointBit = 2;
b2DebugDraw.e_aabbBit = 4;
b2DebugDraw.e_pairBit = 8;
b2DebugDraw.e_centerOfMassBit = 16;
b2DebugDraw.e_controllerBit = 32;
b2DebugDraw.prototype.SetFlags = function (flags) {
    this.m_drawFlags = flags;
};
b2DebugDraw.prototype.GetFlags = function () {
    return this.m_drawFlags;
};
b2DebugDraw.prototype.AppendFlags = function (flags) {
    this.m_drawFlags |= flags;
};
b2DebugDraw.prototype.ClearFlags = function (flags) {
    this.m_drawFlags &= ~flags;
};
b2DebugDraw.prototype.SetSprite = function (sprite) {
    this.m_sprite = sprite;
};
b2DebugDraw.prototype.GetSprite = function () {
    return this.m_sprite;
};
b2DebugDraw.prototype.SetDrawScale = function (drawScale) {
    this.m_drawScale = drawScale;
};
b2DebugDraw.prototype.GetDrawScale = function () {
    return this.m_drawScale;
};
b2DebugDraw.prototype.SetLineThickness = function (lineThickness) {
    this.m_lineThickness = lineThickness;
};
b2DebugDraw.prototype.GetLineThickness = function () {
    return this.m_lineThickness;
};
b2DebugDraw.prototype.SetAlpha = function (alpha) {
    this.m_alpha = alpha;
};
b2DebugDraw.prototype.GetAlpha = function () {
    return this.m_alpha;
};
b2DebugDraw.prototype.SetFillAlpha = function (alpha) {
    this.m_fillAlpha = alpha;
};
b2DebugDraw.prototype.GetFillAlpha = function () {
    return this.m_fillAlpha;
};
b2DebugDraw.prototype.SetXFormScale = function (xformScale) {
    this.m_xformScale = xformScale;
};
b2DebugDraw.prototype.GetXFormScale = function () {
    return this.m_xformScale;
};
b2DebugDraw.prototype.Clear = function () {
    (() => {
        const __callInstance883 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.clearRect(0, 0, this.m_sprite.canvas.width, this.m_sprite.canvas.height);
                }
            }
        });
        const __exports = __callInstance883.exports;
        return __exports.data();
    })();
};
b2DebugDraw.prototype.Y = function (y) {
    return this.m_sprite.canvas.height - y;
};
b2DebugDraw.prototype.ToWorldPoint = function (localPoint) {
    return new b2Vec2(localPoint.x / this.m_drawScale, this.Y(localPoint.y) / this.m_drawScale);
};
b2DebugDraw.prototype.ColorStyle = function (color, alpha) {
    return lS(0, 11) + color.r + lS(0, 12) + color.g + lS(0, 13) + color.b + lS(0, 14) + alpha + lS(0, 15);
};
b2DebugDraw.prototype.DrawPolygon = function (vertices, vertexCount, color) {
    (() => {
        const __callInstance882 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.graphics.lineStyle(this.m_lineThickness, color.color, this.m_alpha);
                }
            }
        });
        const __exports = __callInstance882.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance881 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.graphics.moveTo(vertices[0].x * this.m_drawScale, vertices[0].y * this.m_drawScale);
                }
            }
        });
        const __exports = __callInstance881.exports;
        return __exports.data();
    })();
    (() => {
        var i = 1;
        const __forInstance9 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < vertexCount ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance880 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_sprite.graphics.lineTo(vertices[i].x * this.m_drawScale, vertices[i].y * this.m_drawScale);
                                    }
                                }
                            });
                            const __exports = __callInstance880.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance9.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance879 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.graphics.lineTo(vertices[0].x * this.m_drawScale, vertices[0].y * this.m_drawScale);
                }
            }
        });
        const __exports = __callInstance879.exports;
        return __exports.data();
    })();
};
b2DebugDraw.prototype.DrawSolidPolygon = function (vertices, vertexCount, color) {
    this.m_sprite.strokeSyle = this.ColorStyle(color, this.m_alpha);
    this.m_sprite.lineWidth = this.m_lineThickness;
    this.m_sprite.fillStyle = this.ColorStyle(color, this.m_fillAlpha);
    (() => {
        const __callInstance878 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.beginPath();
                }
            }
        });
        const __exports = __callInstance878.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance877 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.moveTo(vertices[0].x * this.m_drawScale, this.Y(vertices[0].y * this.m_drawScale));
                }
            }
        });
        const __exports = __callInstance877.exports;
        return __exports.data();
    })();
    (() => {
        var i = 1;
        const __forInstance10 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < vertexCount ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance876 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_sprite.lineTo(vertices[i].x * this.m_drawScale, this.Y(vertices[i].y * this.m_drawScale));
                                    }
                                }
                            });
                            const __exports = __callInstance876.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance10.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance875 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.lineTo(vertices[0].x * this.m_drawScale, this.Y(vertices[0].y * this.m_drawScale));
                }
            }
        });
        const __exports = __callInstance875.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance874 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.fill();
                }
            }
        });
        const __exports = __callInstance874.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance873 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.stroke();
                }
            }
        });
        const __exports = __callInstance873.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance872 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.closePath();
                }
            }
        });
        const __exports = __callInstance872.exports;
        return __exports.data();
    })();
};
b2DebugDraw.prototype.DrawCircle = function (center, radius, color) {
    (() => {
        const __callInstance871 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.graphics.lineStyle(this.m_lineThickness, color.color, this.m_alpha);
                }
            }
        });
        const __exports = __callInstance871.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance870 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.graphics.drawCircle(center.x * this.m_drawScale, center.y * this.m_drawScale, radius * this.m_drawScale);
                }
            }
        });
        const __exports = __callInstance870.exports;
        return __exports.data();
    })();
};
b2DebugDraw.prototype.DrawSolidCircle = function (center, radius, axis, color) {
    this.m_sprite.strokeSyle = this.ColorStyle(color, this.m_alpha);
    this.m_sprite.lineWidth = this.m_lineThickness;
    this.m_sprite.fillStyle = this.ColorStyle(color, this.m_fillAlpha);
    (() => {
        const __callInstance869 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.beginPath();
                }
            }
        });
        const __exports = __callInstance869.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance868 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.arc(center.x * this.m_drawScale, this.Y(center.y * this.m_drawScale), radius * this.m_drawScale, 0, Math.PI * 2, true);
                }
            }
        });
        const __exports = __callInstance868.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance867 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.fill();
                }
            }
        });
        const __exports = __callInstance867.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance866 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.stroke();
                }
            }
        });
        const __exports = __callInstance866.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance865 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.closePath();
                }
            }
        });
        const __exports = __callInstance865.exports;
        return __exports.data();
    })();
};
b2DebugDraw.prototype.DrawSegment = function (p1, p2, color) {
    this.m_sprite.lineWidth = this.m_lineThickness;
    this.m_sprite.strokeSyle = this.ColorStyle(color, this.m_alpha);
    (() => {
        const __callInstance864 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.beginPath();
                }
            }
        });
        const __exports = __callInstance864.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance863 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.moveTo(p1.x * this.m_drawScale, this.Y(p1.y * this.m_drawScale));
                }
            }
        });
        const __exports = __callInstance863.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance862 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.lineTo(p2.x * this.m_drawScale, this.Y(p2.y * this.m_drawScale));
                }
            }
        });
        const __exports = __callInstance862.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance861 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.stroke();
                }
            }
        });
        const __exports = __callInstance861.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance860 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.closePath();
                }
            }
        });
        const __exports = __callInstance860.exports;
        return __exports.data();
    })();
};
b2DebugDraw.prototype.DrawTransform = function (xf) {
    this.m_sprite.lineWidth = this.m_lineThickness;
    this.m_sprite.strokeSyle = this.ColorStyle(new b2Color(255, 0, 0), this.m_alpha);
    (() => {
        const __callInstance859 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.beginPath();
                }
            }
        });
        const __exports = __callInstance859.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance858 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.moveTo(xf.position.x * this.m_drawScale, this.Y(xf.position.y * this.m_drawScale));
                }
            }
        });
        const __exports = __callInstance858.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance857 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.lineTo((xf.position.x + this.m_xformScale * xf.R.col1.x) * this.m_drawScale, this.Y((xf.position.y + this.m_xformScale * xf.R.col1.y) * this.m_drawScale));
                }
            }
        });
        const __exports = __callInstance857.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance856 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.stroke();
                }
            }
        });
        const __exports = __callInstance856.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance855 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.closePath();
                }
            }
        });
        const __exports = __callInstance855.exports;
        return __exports.data();
    })();
    this.m_sprite.strokeSyle = this.ColorStyle(new b2Color(0, 255, 0), this.m_alpha);
    (() => {
        const __callInstance854 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.beginPath();
                }
            }
        });
        const __exports = __callInstance854.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance853 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.moveTo(xf.position.x * this.m_drawScale, this.Y(xf.position.y * this.m_drawScale));
                }
            }
        });
        const __exports = __callInstance853.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance852 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.lineTo((xf.position.x + this.m_xformScale * xf.R.col2.x) * this.m_drawScale, this.Y((xf.position.y + this.m_xformScale * xf.R.col2.y) * this.m_drawScale));
                }
            }
        });
        const __exports = __callInstance852.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance851 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.stroke();
                }
            }
        });
        const __exports = __callInstance851.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance850 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sprite.closePath();
                }
            }
        });
        const __exports = __callInstance850.exports;
        return __exports.data();
    })();
};
b2DebugDraw.prototype.m_drawFlags = 0;
b2DebugDraw.prototype.m_sprite = null;
b2DebugDraw.prototype.m_drawScale = 1;
b2DebugDraw.prototype.m_lineThickness = 1;
b2DebugDraw.prototype.m_alpha = 1;
b2DebugDraw.prototype.m_fillAlpha = 1;
b2DebugDraw.prototype.m_xformScale = 1;
var b2Sweep = function () {
    (() => {
        const __callInstance849 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance849.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance848 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance848.exports;
        return __exports.data();
    })();
};
b2Sweep.prototype.__constructor = function () {
};
b2Sweep.prototype.__varz = function () {
    this.localCenter = new b2Vec2();
    this.c0 = new b2Vec2();
    this.c = new b2Vec2();
};
b2Sweep.prototype.Set = function (other) {
    (() => {
        const __callInstance847 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localCenter.SetV(other.localCenter);
                }
            }
        });
        const __exports = __callInstance847.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance846 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.c0.SetV(other.c0);
                }
            }
        });
        const __exports = __callInstance846.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance845 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.c.SetV(other.c);
                }
            }
        });
        const __exports = __callInstance845.exports;
        return __exports.data();
    })();
    this.a0 = other.a0;
    this.a = other.a;
    this.t0 = other.t0;
};
b2Sweep.prototype.Copy = function () {
    var copy = new b2Sweep();
    (() => {
        const __callInstance844 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    copy.localCenter.SetV(this.localCenter);
                }
            }
        });
        const __exports = __callInstance844.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance843 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    copy.c0.SetV(this.c0);
                }
            }
        });
        const __exports = __callInstance843.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance842 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    copy.c.SetV(this.c);
                }
            }
        });
        const __exports = __callInstance842.exports;
        return __exports.data();
    })();
    copy.a0 = this.a0;
    copy.a = this.a;
    copy.t0 = this.t0;
    return copy;
};
b2Sweep.prototype.GetTransform = function (xf, alpha) {
    xf.position.x = (1 - alpha) * this.c0.x + alpha * this.c.x;
    xf.position.y = (1 - alpha) * this.c0.y + alpha * this.c.y;
    var angle = (1 - alpha) * this.a0 + alpha * this.a;
    (() => {
        const __callInstance841 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    xf.R.Set(angle);
                }
            }
        });
        const __exports = __callInstance841.exports;
        return __exports.data();
    })();
    var tMat = xf.R;
    xf.position.x -= tMat.col1.x * this.localCenter.x + tMat.col2.x * this.localCenter.y;
    xf.position.y -= tMat.col1.y * this.localCenter.x + tMat.col2.y * this.localCenter.y;
};
b2Sweep.prototype.Advance = function (t) {
    (() => {
        const __ifInstance51 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var alpha = (t - this.t0) / (1 - this.t0);
                        this.c0.x = (1 - alpha) * this.c0.x + alpha * this.c.x;
                        this.c0.y = (1 - alpha) * this.c0.y + alpha * this.c.y;
                        this.a0 = (1 - alpha) * this.a0 + alpha * this.a;
                        this.t0 = t;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance51.exports;
        return __exports.data(this.t0 < t && 1 - this.t0 > Number.MIN_VALUE ? 1 : 0);
    })();
};
b2Sweep.prototype.localCenter = new b2Vec2();
b2Sweep.prototype.c0 = new b2Vec2();
b2Sweep.prototype.c = new b2Vec2();
b2Sweep.prototype.a0 = null;
b2Sweep.prototype.a = null;
b2Sweep.prototype.t0 = null;
var b2DistanceOutput = function () {
    (() => {
        const __callInstance840 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance840.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance839 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance839.exports;
        return __exports.data();
    })();
};
b2DistanceOutput.prototype.__constructor = function () {
};
b2DistanceOutput.prototype.__varz = function () {
    this.pointA = new b2Vec2();
    this.pointB = new b2Vec2();
};
b2DistanceOutput.prototype.pointA = new b2Vec2();
b2DistanceOutput.prototype.pointB = new b2Vec2();
b2DistanceOutput.prototype.distance = null;
b2DistanceOutput.prototype.iterations = 0;
var b2Mat33 = function () {
    (() => {
        const __callInstance838 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance838.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance837 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance837.exports;
        return __exports.data();
    })();
};
b2Mat33.prototype.__constructor = function (c1, c2, c3) {
    (() => {
        const __ifInstance52 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance836 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.col1.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance836.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance835 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.col2.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance835.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance834 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.col3.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance834.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance833 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.col1.SetV(c1);
                                    }
                                }
                            });
                            const __exports = __callInstance833.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance832 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.col2.SetV(c2);
                                    }
                                }
                            });
                            const __exports = __callInstance832.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance831 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.col3.SetV(c3);
                                    }
                                }
                            });
                            const __exports = __callInstance831.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __ifInstance52.exports;
        return __exports.data(!c1 && !c2 && !c3 ? 1 : 0);
    })();
};
b2Mat33.prototype.__varz = function () {
    this.col1 = new b2Vec3();
    this.col2 = new b2Vec3();
    this.col3 = new b2Vec3();
};
b2Mat33.prototype.SetVVV = function (c1, c2, c3) {
    (() => {
        const __callInstance830 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col1.SetV(c1);
                }
            }
        });
        const __exports = __callInstance830.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance829 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col2.SetV(c2);
                }
            }
        });
        const __exports = __callInstance829.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance828 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col3.SetV(c3);
                }
            }
        });
        const __exports = __callInstance828.exports;
        return __exports.data();
    })();
};
b2Mat33.prototype.Copy = function () {
    return new b2Mat33(this.col1, this.col2, this.col3);
};
b2Mat33.prototype.SetM = function (m) {
    (() => {
        const __callInstance827 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col1.SetV(m.col1);
                }
            }
        });
        const __exports = __callInstance827.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance826 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col2.SetV(m.col2);
                }
            }
        });
        const __exports = __callInstance826.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance825 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.col3.SetV(m.col3);
                }
            }
        });
        const __exports = __callInstance825.exports;
        return __exports.data();
    })();
};
b2Mat33.prototype.AddM = function (m) {
    this.col1.x += m.col1.x;
    this.col1.y += m.col1.y;
    this.col1.z += m.col1.z;
    this.col2.x += m.col2.x;
    this.col2.y += m.col2.y;
    this.col2.z += m.col2.z;
    this.col3.x += m.col3.x;
    this.col3.y += m.col3.y;
    this.col3.z += m.col3.z;
};
b2Mat33.prototype.SetIdentity = function () {
    this.col1.x = 1;
    this.col2.x = 0;
    this.col3.x = 0;
    this.col1.y = 0;
    this.col2.y = 1;
    this.col3.y = 0;
    this.col1.z = 0;
    this.col2.z = 0;
    this.col3.z = 1;
};
b2Mat33.prototype.SetZero = function () {
    this.col1.x = 0;
    this.col2.x = 0;
    this.col3.x = 0;
    this.col1.y = 0;
    this.col2.y = 0;
    this.col3.y = 0;
    this.col1.z = 0;
    this.col2.z = 0;
    this.col3.z = 0;
};
b2Mat33.prototype.Solve22 = function (out, bX, bY) {
    var a11 = this.col1.x;
    var a12 = this.col2.x;
    var a21 = this.col1.y;
    var a22 = this.col2.y;
    var det = a11 * a22 - a12 * a21;
    (() => {
        const __ifInstance53 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        det = 1 / det;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance53.exports;
        return __exports.data(det != 0 ? 1 : 0);
    })();
    out.x = det * (a22 * bX - a12 * bY);
    out.y = det * (a11 * bY - a21 * bX);
    return out;
};
b2Mat33.prototype.Solve33 = function (out, bX, bY, bZ) {
    var a11 = this.col1.x;
    var a21 = this.col1.y;
    var a31 = this.col1.z;
    var a12 = this.col2.x;
    var a22 = this.col2.y;
    var a32 = this.col2.z;
    var a13 = this.col3.x;
    var a23 = this.col3.y;
    var a33 = this.col3.z;
    var det = a11 * (a22 * a33 - a32 * a23) + a21 * (a32 * a13 - a12 * a33) + a31 * (a12 * a23 - a22 * a13);
    (() => {
        const __ifInstance54 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        det = 1 / det;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance54.exports;
        return __exports.data(det != 0 ? 1 : 0);
    })();
    out.x = det * (bX * (a22 * a33 - a32 * a23) + bY * (a32 * a13 - a12 * a33) + bZ * (a12 * a23 - a22 * a13));
    out.y = det * (a11 * (bY * a33 - bZ * a23) + a21 * (bZ * a13 - bX * a33) + a31 * (bX * a23 - bY * a13));
    out.z = det * (a11 * (a22 * bZ - a32 * bY) + a21 * (a32 * bX - a12 * bZ) + a31 * (a12 * bY - a22 * bX));
    return out;
};
b2Mat33.prototype.col1 = new b2Vec3();
b2Mat33.prototype.col2 = new b2Vec3();
b2Mat33.prototype.col3 = new b2Vec3();
var b2PositionSolverManifold = function () {
    (() => {
        const __callInstance824 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance824.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance823 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance823.exports;
        return __exports.data();
    })();
};
b2PositionSolverManifold.prototype.__constructor = function () {
    this.m_normal = new b2Vec2();
    this.m_separations = new Array(b2Settings.b2_maxManifoldPoints);
    this.m_points = new Array(b2Settings.b2_maxManifoldPoints);
    (() => {
        var i = 0;
        const __forInstance11 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < b2Settings.b2_maxManifoldPoints ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.m_points[i] = new b2Vec2();
                    }
                }
            }
        });
        const __exports = __forInstance11.exports;
        return __exports.data();
    })();
};
b2PositionSolverManifold.prototype.__varz = function () {
};
b2PositionSolverManifold.circlePointA = new b2Vec2();
b2PositionSolverManifold.circlePointB = new b2Vec2();
b2PositionSolverManifold.prototype.Initialize = function (cc) {
    (() => {
        const __callInstance822 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(cc.pointCount > 0);
                }
            }
        });
        const __exports = __callInstance822.exports;
        return __exports.data();
    })();
    var i = 0;
    var clipPointX;
    var clipPointY;
    var tMat;
    var tVec;
    var planePointX;
    var planePointY;
    switch (cc.type) {
    case b2Manifold.e_circles:
        tMat = cc.bodyA.m_xf.R;
        tVec = cc.localPoint;
        var pointAX = cc.bodyA.m_xf.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
        var pointAY = cc.bodyA.m_xf.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
        tMat = cc.bodyB.m_xf.R;
        tVec = cc.points[0].localPoint;
        var pointBX = cc.bodyB.m_xf.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
        var pointBY = cc.bodyB.m_xf.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
        var dX = pointBX - pointAX;
        var dY = pointBY - pointAY;
        var d2 = dX * dX + dY * dY;
        (() => {
            const __ifInstance55 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            var d = Math.sqrt(d2);
                            this.m_normal.x = dX / d;
                            this.m_normal.y = dY / d;
                        }
                    },
                    impFunc2: () => {
                        {
                            this.m_normal.x = 1;
                            this.m_normal.y = 0;
                        }
                    }
                }
            });
            const __exports = __ifInstance55.exports;
            return __exports.data(d2 > Number.MIN_VALUE * Number.MIN_VALUE ? 1 : 0);
        })();
        this.m_points[0].x = 0.5 * (pointAX + pointBX);
        this.m_points[0].y = 0.5 * (pointAY + pointBY);
        this.m_separations[0] = dX * this.m_normal.x + dY * this.m_normal.y - cc.radius;
        break;
    case b2Manifold.e_faceA:
        tMat = cc.bodyA.m_xf.R;
        tVec = cc.localPlaneNormal;
        this.m_normal.x = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
        this.m_normal.y = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
        tMat = cc.bodyA.m_xf.R;
        tVec = cc.localPoint;
        planePointX = cc.bodyA.m_xf.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
        planePointY = cc.bodyA.m_xf.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
        tMat = cc.bodyB.m_xf.R;
        (() => {
            i = 0;
            const __forInstance12 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return i < cc.pointCount ? 1 : 0;
                    },
                    update: () => {
                        ++i;
                    },
                    body: () => {
                        {
                            tVec = cc.points[i].localPoint;
                            clipPointX = cc.bodyB.m_xf.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                            clipPointY = cc.bodyB.m_xf.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                            this.m_separations[i] = (clipPointX - planePointX) * this.m_normal.x + (clipPointY - planePointY) * this.m_normal.y - cc.radius;
                            this.m_points[i].x = clipPointX;
                            this.m_points[i].y = clipPointY;
                        }
                    }
                }
            });
            const __exports = __forInstance12.exports;
            return __exports.data();
        })();
        break;
    case b2Manifold.e_faceB:
        tMat = cc.bodyB.m_xf.R;
        tVec = cc.localPlaneNormal;
        this.m_normal.x = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
        this.m_normal.y = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
        tMat = cc.bodyB.m_xf.R;
        tVec = cc.localPoint;
        planePointX = cc.bodyB.m_xf.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
        planePointY = cc.bodyB.m_xf.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
        tMat = cc.bodyA.m_xf.R;
        (() => {
            i = 0;
            const __forInstance13 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return i < cc.pointCount ? 1 : 0;
                    },
                    update: () => {
                        ++i;
                    },
                    body: () => {
                        {
                            tVec = cc.points[i].localPoint;
                            clipPointX = cc.bodyA.m_xf.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                            clipPointY = cc.bodyA.m_xf.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                            this.m_separations[i] = (clipPointX - planePointX) * this.m_normal.x + (clipPointY - planePointY) * this.m_normal.y - cc.radius;
                            (() => {
                                const __callInstance821 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.m_points[i].Set(clipPointX, clipPointY);
                                        }
                                    }
                                });
                                const __exports = __callInstance821.exports;
                                return __exports.data();
                            })();
                        }
                    }
                }
            });
            const __exports = __forInstance13.exports;
            return __exports.data();
        })();
        this.m_normal.x *= -1;
        this.m_normal.y *= -1;
        break;
    }
};
b2PositionSolverManifold.prototype.m_normal = null;
b2PositionSolverManifold.prototype.m_points = null;
b2PositionSolverManifold.prototype.m_separations = null;
var b2OBB = function () {
    (() => {
        const __callInstance820 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance820.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance819 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance819.exports;
        return __exports.data();
    })();
};
b2OBB.prototype.__constructor = function () {
};
b2OBB.prototype.__varz = function () {
    this.R = new b2Mat22();
    this.center = new b2Vec2();
    this.extents = new b2Vec2();
};
b2OBB.prototype.R = new b2Mat22();
b2OBB.prototype.center = new b2Vec2();
b2OBB.prototype.extents = new b2Vec2();
var b2Pair = function () {
    (() => {
        const __callInstance818 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance818.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance817 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance817.exports;
        return __exports.data();
    })();
};
b2Pair.prototype.__constructor = function () {
};
b2Pair.prototype.__varz = function () {
};
b2Pair.b2_nullProxy = b2Settings.USHRT_MAX;
b2Pair.e_pairBuffered = 1;
b2Pair.e_pairRemoved = 2;
b2Pair.e_pairFinal = 4;
b2Pair.prototype.SetBuffered = function () {
    this.status |= b2Pair.e_pairBuffered;
};
b2Pair.prototype.ClearBuffered = function () {
    this.status &= ~b2Pair.e_pairBuffered;
};
b2Pair.prototype.IsBuffered = function () {
    return (this.status & b2Pair.e_pairBuffered) == b2Pair.e_pairBuffered;
};
b2Pair.prototype.SetRemoved = function () {
    this.status |= b2Pair.e_pairRemoved;
};
b2Pair.prototype.ClearRemoved = function () {
    this.status &= ~b2Pair.e_pairRemoved;
};
b2Pair.prototype.IsRemoved = function () {
    return (this.status & b2Pair.e_pairRemoved) == b2Pair.e_pairRemoved;
};
b2Pair.prototype.SetFinal = function () {
    this.status |= b2Pair.e_pairFinal;
};
b2Pair.prototype.IsFinal = function () {
    return (this.status & b2Pair.e_pairFinal) == b2Pair.e_pairFinal;
};
b2Pair.prototype.userData = null;
b2Pair.prototype.proxy1 = null;
b2Pair.prototype.proxy2 = null;
b2Pair.prototype.next = null;
b2Pair.prototype.status = 0;
var b2FixtureDef = function () {
    (() => {
        const __callInstance816 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance816.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance815 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance815.exports;
        return __exports.data();
    })();
};
b2FixtureDef.prototype.__constructor = function () {
    this.shape = null;
    this.userData = null;
    this.friction = 0.2;
    this.restitution = 0;
    this.density = 0;
    this.filter.categoryBits = 1;
    this.filter.maskBits = 65535;
    this.filter.groupIndex = 0;
    this.isSensor = false;
};
b2FixtureDef.prototype.__varz = function () {
    this.filter = new b2FilterData();
};
b2FixtureDef.prototype.shape = null;
b2FixtureDef.prototype.userData = null;
b2FixtureDef.prototype.friction = null;
b2FixtureDef.prototype.restitution = null;
b2FixtureDef.prototype.density = null;
b2FixtureDef.prototype.isSensor = null;
b2FixtureDef.prototype.filter = new b2FilterData();
var b2ContactID = function () {
    (() => {
        const __callInstance814 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance814.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance813 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance813.exports;
        return __exports.data();
    })();
};
b2ContactID.prototype.__constructor = function () {
    this.features._m_id = this;
};
b2ContactID.prototype.__varz = function () {
    this.features = new Features();
};
b2ContactID.prototype.Set = function (id) {
    key = id._key;
};
b2ContactID.prototype.Copy = function () {
    var id = new b2ContactID();
    id.key = key;
    return id;
};
(() => {
    const __callInstance812 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                b2ContactID.prototype.__defineSetter__(lS(0, 16), function () {
                    return this._key;
                });
            }
        }
    });
    const __exports = __callInstance812.exports;
    return __exports.data();
})();
(() => {
    const __callInstance811 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                b2ContactID.prototype.__defineSetter__(lS(0, 17), function (value) {
                    this._key = value;
                    this.features._referenceEdge = this._key & 255;
                    this.features._incidentEdge = (this._key & 65280) >> 8 & 255;
                    this.features._incidentVertex = (this._key & 16711680) >> 16 & 255;
                    this.features._flip = (this._key & 4278190080) >> 24 & 255;
                });
            }
        }
    });
    const __exports = __callInstance811.exports;
    return __exports.data();
})();
b2ContactID.prototype._key = 0;
b2ContactID.prototype.features = new Features();
var b2Transform = function () {
    (() => {
        const __callInstance810 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance810.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance809 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance809.exports;
        return __exports.data();
    })();
};
b2Transform.prototype.__constructor = function (pos, r) {
    (() => {
        const __ifInstance56 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance808 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.position.SetV(pos);
                                    }
                                }
                            });
                            const __exports = __callInstance808.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance807 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.R.SetM(r);
                                    }
                                }
                            });
                            const __exports = __callInstance807.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance56.exports;
        return __exports.data(pos ? 1 : 0);
    })();
};
b2Transform.prototype.__varz = function () {
    this.position = new b2Vec2();
    this.R = new b2Mat22();
};
b2Transform.prototype.Initialize = function (pos, r) {
    (() => {
        const __callInstance806 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.position.SetV(pos);
                }
            }
        });
        const __exports = __callInstance806.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance805 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.R.SetM(r);
                }
            }
        });
        const __exports = __callInstance805.exports;
        return __exports.data();
    })();
};
b2Transform.prototype.SetIdentity = function () {
    (() => {
        const __callInstance804 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.position.SetZero();
                }
            }
        });
        const __exports = __callInstance804.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance803 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.R.SetIdentity();
                }
            }
        });
        const __exports = __callInstance803.exports;
        return __exports.data();
    })();
};
b2Transform.prototype.Set = function (x) {
    (() => {
        const __callInstance802 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.position.SetV(x.position);
                }
            }
        });
        const __exports = __callInstance802.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance801 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.R.SetM(x.R);
                }
            }
        });
        const __exports = __callInstance801.exports;
        return __exports.data();
    })();
};
b2Transform.prototype.GetAngle = function () {
    return Math.atan2(this.R.col1.y, this.R.col1.x);
};
b2Transform.prototype.position = new b2Vec2();
b2Transform.prototype.R = new b2Mat22();
var b2EdgeShape = function () {
    (() => {
        const __callInstance800 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Shape.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance800.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance799 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance799.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance798 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance798.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance797 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2EdgeShape.prototype, b2Shape.prototype);
            }
        }
    });
    const __exports = __callInstance797.exports;
    return __exports.data();
})();
b2EdgeShape.prototype._super = b2Shape.prototype;
b2EdgeShape.prototype.__constructor = function (v1, v2) {
    (() => {
        const __callInstance796 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, []);
                }
            }
        });
        const __exports = __callInstance796.exports;
        return __exports.data();
    })();
    this.m_type = b2Shape.e_edgeShape;
    this.m_prevEdge = null;
    this.m_nextEdge = null;
    this.m_v1 = v1;
    this.m_v2 = v2;
    (() => {
        const __callInstance795 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_direction.Set(this.m_v2.x - this.m_v1.x, this.m_v2.y - this.m_v1.y);
                }
            }
        });
        const __exports = __callInstance795.exports;
        return __exports.data();
    })();
    this.m_length = this.m_direction.Normalize();
    (() => {
        const __callInstance794 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normal.Set(this.m_direction.y, -this.m_direction.x);
                }
            }
        });
        const __exports = __callInstance794.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance793 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_coreV1.Set(-b2Settings.b2_toiSlop * (this.m_normal.x - this.m_direction.x) + this.m_v1.x, -b2Settings.b2_toiSlop * (this.m_normal.y - this.m_direction.y) + this.m_v1.y);
                }
            }
        });
        const __exports = __callInstance793.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance792 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_coreV2.Set(-b2Settings.b2_toiSlop * (this.m_normal.x + this.m_direction.x) + this.m_v2.x, -b2Settings.b2_toiSlop * (this.m_normal.y + this.m_direction.y) + this.m_v2.y);
                }
            }
        });
        const __exports = __callInstance792.exports;
        return __exports.data();
    })();
    this.m_cornerDir1 = this.m_normal;
    (() => {
        const __callInstance791 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_cornerDir2.Set(-this.m_normal.x, -this.m_normal.y);
                }
            }
        });
        const __exports = __callInstance791.exports;
        return __exports.data();
    })();
};
b2EdgeShape.prototype.__varz = function () {
    this.s_supportVec = new b2Vec2();
    this.m_v1 = new b2Vec2();
    this.m_v2 = new b2Vec2();
    this.m_coreV1 = new b2Vec2();
    this.m_coreV2 = new b2Vec2();
    this.m_normal = new b2Vec2();
    this.m_direction = new b2Vec2();
    this.m_cornerDir1 = new b2Vec2();
    this.m_cornerDir2 = new b2Vec2();
};
b2EdgeShape.prototype.SetPrevEdge = function (edge, core, cornerDir, convex) {
    this.m_prevEdge = edge;
    this.m_coreV1 = core;
    this.m_cornerDir1 = cornerDir;
    this.m_cornerConvex1 = convex;
};
b2EdgeShape.prototype.SetNextEdge = function (edge, core, cornerDir, convex) {
    this.m_nextEdge = edge;
    this.m_coreV2 = core;
    this.m_cornerDir2 = cornerDir;
    this.m_cornerConvex2 = convex;
};
b2EdgeShape.prototype.TestPoint = function (transform, p) {
    return false;
};
b2EdgeShape.prototype.RayCast = function (output, input, transform) {
    var tMat;
    var rX = input.p2.x - input.p1.x;
    var rY = input.p2.y - input.p1.y;
    tMat = transform.R;
    var v1X = transform.position.x + (tMat.col1.x * this.m_v1.x + tMat.col2.x * this.m_v1.y);
    var v1Y = transform.position.y + (tMat.col1.y * this.m_v1.x + tMat.col2.y * this.m_v1.y);
    var nX = transform.position.y + (tMat.col1.y * this.m_v2.x + tMat.col2.y * this.m_v2.y) - v1Y;
    var nY = -(transform.position.x + (tMat.col1.x * this.m_v2.x + tMat.col2.x * this.m_v2.y) - v1X);
    var k_slop = 100 * Number.MIN_VALUE;
    var denom = -(rX * nX + rY * nY);
    if (denom > k_slop) {
        var bX = input.p1.x - v1X;
        var bY = input.p1.y - v1Y;
        var a = bX * nX + bY * nY;
        if (0 <= a && a <= input.maxFraction * denom) {
            var mu2 = -rX * bY + rY * bX;
            if (-k_slop * denom <= mu2 && mu2 <= denom * (1 + k_slop)) {
                a /= denom;
                output.fraction = a;
                var nLen = Math.sqrt(nX * nX + nY * nY);
                output.normal.x = nX / nLen;
                output.normal.y = nY / nLen;
                return true;
            }
        }
    }
    return false;
};
b2EdgeShape.prototype.ComputeAABB = function (aabb, transform) {
    var tMat = transform.R;
    var v1X = transform.position.x + (tMat.col1.x * this.m_v1.x + tMat.col2.x * this.m_v1.y);
    var v1Y = transform.position.y + (tMat.col1.y * this.m_v1.x + tMat.col2.y * this.m_v1.y);
    var v2X = transform.position.x + (tMat.col1.x * this.m_v2.x + tMat.col2.x * this.m_v2.y);
    var v2Y = transform.position.y + (tMat.col1.y * this.m_v2.x + tMat.col2.y * this.m_v2.y);
    (() => {
        const __ifInstance57 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        aabb.lowerBound.x = v1X;
                        aabb.upperBound.x = v2X;
                    }
                },
                impFunc2: () => {
                    {
                        aabb.lowerBound.x = v2X;
                        aabb.upperBound.x = v1X;
                    }
                }
            }
        });
        const __exports = __ifInstance57.exports;
        return __exports.data(v1X < v2X ? 1 : 0);
    })();
    (() => {
        const __ifInstance58 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        aabb.lowerBound.y = v1Y;
                        aabb.upperBound.y = v2Y;
                    }
                },
                impFunc2: () => {
                    {
                        aabb.lowerBound.y = v2Y;
                        aabb.upperBound.y = v1Y;
                    }
                }
            }
        });
        const __exports = __ifInstance58.exports;
        return __exports.data(v1Y < v2Y ? 1 : 0);
    })();
};
b2EdgeShape.prototype.ComputeMass = function (massData, density) {
    massData.mass = 0;
    (() => {
        const __callInstance790 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    massData.center.SetV(this.m_v1);
                }
            }
        });
        const __exports = __callInstance790.exports;
        return __exports.data();
    })();
    massData.I = 0;
};
b2EdgeShape.prototype.ComputeSubmergedArea = function (normal, offset, xf, c) {
    var v0 = new b2Vec2(normal.x * offset, normal.y * offset);
    var v1 = b2Math.MulX(xf, this.m_v1);
    var v2 = b2Math.MulX(xf, this.m_v2);
    var d1 = b2Math.Dot(normal, v1) - offset;
    var d2 = b2Math.Dot(normal, v2) - offset;
    if (d1 > 0) {
        if (d2 > 0) {
            return 0;
        } else {
            v1.x = -d2 / (d1 - d2) * v1.x + d1 / (d1 - d2) * v2.x;
            v1.y = -d2 / (d1 - d2) * v1.y + d1 / (d1 - d2) * v2.y;
        }
    } else {
        (() => {
            const __ifInstance59 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            v2.x = -d2 / (d1 - d2) * v1.x + d1 / (d1 - d2) * v2.x;
                            v2.y = -d2 / (d1 - d2) * v1.y + d1 / (d1 - d2) * v2.y;
                        }
                    },
                    impFunc2: () => {
                        {
                        }
                    }
                }
            });
            const __exports = __ifInstance59.exports;
            return __exports.data(d2 > 0 ? 1 : 0);
        })();
    }
    c.x = (v0.x + v1.x + v2.x) / 3;
    c.y = (v0.y + v1.y + v2.y) / 3;
    return 0.5 * ((v1.x - v0.x) * (v2.y - v0.y) - (v1.y - v0.y) * (v2.x - v0.x));
};
b2EdgeShape.prototype.GetLength = function () {
    return this.m_length;
};
b2EdgeShape.prototype.GetVertex1 = function () {
    return this.m_v1;
};
b2EdgeShape.prototype.GetVertex2 = function () {
    return this.m_v2;
};
b2EdgeShape.prototype.GetCoreVertex1 = function () {
    return this.m_coreV1;
};
b2EdgeShape.prototype.GetCoreVertex2 = function () {
    return this.m_coreV2;
};
b2EdgeShape.prototype.GetNormalVector = function () {
    return this.m_normal;
};
b2EdgeShape.prototype.GetDirectionVector = function () {
    return this.m_direction;
};
b2EdgeShape.prototype.GetCorner1Vector = function () {
    return this.m_cornerDir1;
};
b2EdgeShape.prototype.GetCorner2Vector = function () {
    return this.m_cornerDir2;
};
b2EdgeShape.prototype.Corner1IsConvex = function () {
    return this.m_cornerConvex1;
};
b2EdgeShape.prototype.Corner2IsConvex = function () {
    return this.m_cornerConvex2;
};
b2EdgeShape.prototype.GetFirstVertex = function (xf) {
    var tMat = xf.R;
    return new b2Vec2(xf.position.x + (tMat.col1.x * this.m_coreV1.x + tMat.col2.x * this.m_coreV1.y), xf.position.y + (tMat.col1.y * this.m_coreV1.x + tMat.col2.y * this.m_coreV1.y));
};
b2EdgeShape.prototype.GetNextEdge = function () {
    return this.m_nextEdge;
};
b2EdgeShape.prototype.GetPrevEdge = function () {
    return this.m_prevEdge;
};
b2EdgeShape.prototype.Support = function (xf, dX, dY) {
    var tMat = xf.R;
    var v1X = xf.position.x + (tMat.col1.x * this.m_coreV1.x + tMat.col2.x * this.m_coreV1.y);
    var v1Y = xf.position.y + (tMat.col1.y * this.m_coreV1.x + tMat.col2.y * this.m_coreV1.y);
    var v2X = xf.position.x + (tMat.col1.x * this.m_coreV2.x + tMat.col2.x * this.m_coreV2.y);
    var v2Y = xf.position.y + (tMat.col1.y * this.m_coreV2.x + tMat.col2.y * this.m_coreV2.y);
    (() => {
        const __ifInstance60 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.s_supportVec.x = v1X;
                        this.s_supportVec.y = v1Y;
                    }
                },
                impFunc2: () => {
                    {
                        this.s_supportVec.x = v2X;
                        this.s_supportVec.y = v2Y;
                    }
                }
            }
        });
        const __exports = __ifInstance60.exports;
        return __exports.data(v1X * dX + v1Y * dY > v2X * dX + v2Y * dY ? 1 : 0);
    })();
    return this.s_supportVec;
};
b2EdgeShape.prototype.s_supportVec = new b2Vec2();
b2EdgeShape.prototype.m_v1 = new b2Vec2();
b2EdgeShape.prototype.m_v2 = new b2Vec2();
b2EdgeShape.prototype.m_coreV1 = new b2Vec2();
b2EdgeShape.prototype.m_coreV2 = new b2Vec2();
b2EdgeShape.prototype.m_length = null;
b2EdgeShape.prototype.m_normal = new b2Vec2();
b2EdgeShape.prototype.m_direction = new b2Vec2();
b2EdgeShape.prototype.m_cornerDir1 = new b2Vec2();
b2EdgeShape.prototype.m_cornerDir2 = new b2Vec2();
b2EdgeShape.prototype.m_cornerConvex1 = null;
b2EdgeShape.prototype.m_cornerConvex2 = null;
b2EdgeShape.prototype.m_nextEdge = null;
b2EdgeShape.prototype.m_prevEdge = null;
var b2BuoyancyController = function () {
    (() => {
        const __callInstance789 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Controller.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance789.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance788 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance788.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance787 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance787.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance786 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2BuoyancyController.prototype, b2Controller.prototype);
            }
        }
    });
    const __exports = __callInstance786.exports;
    return __exports.data();
})();
b2BuoyancyController.prototype._super = b2Controller.prototype;
b2BuoyancyController.prototype.__constructor = function () {
    (() => {
        const __callInstance785 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance785.exports;
        return __exports.data();
    })();
};
b2BuoyancyController.prototype.__varz = function () {
    this.normal = new b2Vec2(0, -1);
    this.velocity = new b2Vec2(0, 0);
};
b2BuoyancyController.prototype.Step = function (step) {
    if (!m_bodyList) {
        return;
    }
    (() => {
        const __ifInstance61 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.gravity = this.GetWorld().GetGravity().Copy();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance61.exports;
        return __exports.data(this.useWorldGravity ? 1 : 0);
    })();
    for (var i = m_bodyList; i; i = i.nextBody) {
        var body = i.body;
        if (body.IsAwake() == false) {
            continue;
        }
        var areac = new b2Vec2();
        var massc = new b2Vec2();
        var area = 0;
        var mass = 0;
        (() => {
            var fixture = body.GetFixtureList();
            const __forInstance14 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return fixture ? 1 : 0;
                    },
                    update: () => {
                        fixture = fixture.GetNext();
                    },
                    body: () => {
                        {
                            var sc = new b2Vec2();
                            var sarea = fixture.GetShape().ComputeSubmergedArea(this.normal, this.offset, body.GetTransform(), sc);
                            area += sarea;
                            areac.x += sarea * sc.x;
                            areac.y += sarea * sc.y;
                            var shapeDensity;
                            (() => {
                                const __ifInstance62 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                shapeDensity = 1;
                                            }
                                        },
                                        impFunc2: () => {
                                            {
                                                shapeDensity = 1;
                                            }
                                        }
                                    }
                                });
                                const __exports = __ifInstance62.exports;
                                return __exports.data(this.useDensity ? 1 : 0);
                            })();
                            mass += sarea * shapeDensity;
                            massc.x += sarea * sc.x * shapeDensity;
                            massc.y += sarea * sc.y * shapeDensity;
                        }
                    }
                }
            });
            const __exports = __forInstance14.exports;
            return __exports.data();
        })();
        areac.x /= area;
        areac.y /= area;
        massc.x /= mass;
        massc.y /= mass;
        if (area < Number.MIN_VALUE) {
            continue;
        }
        var buoyancyForce = this.gravity.GetNegative();
        (() => {
            const __callInstance784 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        buoyancyForce.Multiply(this.density * area);
                    }
                }
            });
            const __exports = __callInstance784.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance783 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        body.ApplyForce(buoyancyForce, massc);
                    }
                }
            });
            const __exports = __callInstance783.exports;
            return __exports.data();
        })();
        var dragForce = body.GetLinearVelocityFromWorldPoint(areac);
        (() => {
            const __callInstance782 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        dragForce.Subtract(this.velocity);
                    }
                }
            });
            const __exports = __callInstance782.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance781 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        dragForce.Multiply(-this.linearDrag * area);
                    }
                }
            });
            const __exports = __callInstance781.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance780 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        body.ApplyForce(dragForce, areac);
                    }
                }
            });
            const __exports = __callInstance780.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance779 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        body.ApplyTorque(-body.GetInertia() / body.GetMass() * area * body.GetAngularVelocity() * this.angularDrag);
                    }
                }
            });
            const __exports = __callInstance779.exports;
            return __exports.data();
        })();
    }
};
b2BuoyancyController.prototype.Draw = function (debugDraw) {
    var r = 1000;
    var p1 = new b2Vec2();
    var p2 = new b2Vec2();
    p1.x = this.normal.x * this.offset + this.normal.y * r;
    p1.y = this.normal.y * this.offset - this.normal.x * r;
    p2.x = this.normal.x * this.offset - this.normal.y * r;
    p2.y = this.normal.y * this.offset + this.normal.x * r;
    var color = new b2Color(0, 0, 1);
    (() => {
        const __callInstance778 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    debugDraw.DrawSegment(p1, p2, color);
                }
            }
        });
        const __exports = __callInstance778.exports;
        return __exports.data();
    })();
};
b2BuoyancyController.prototype.normal = new b2Vec2(0, -1);
b2BuoyancyController.prototype.offset = 0;
b2BuoyancyController.prototype.density = 0;
b2BuoyancyController.prototype.velocity = new b2Vec2(0, 0);
b2BuoyancyController.prototype.linearDrag = 2;
b2BuoyancyController.prototype.angularDrag = 1;
b2BuoyancyController.prototype.useDensity = false;
b2BuoyancyController.prototype.useWorldGravity = true;
b2BuoyancyController.prototype.gravity = null;
var b2Body = function () {
    (() => {
        const __callInstance777 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance777.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance776 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance776.exports;
        return __exports.data();
    })();
};
b2Body.prototype.__constructor = function (bd, world) {
    this.m_flags = 0;
    (() => {
        const __ifInstance63 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_bulletFlag;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance63.exports;
        return __exports.data(bd.bullet ? 1 : 0);
    })();
    (() => {
        const __ifInstance64 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_fixedRotationFlag;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance64.exports;
        return __exports.data(bd.fixedRotation ? 1 : 0);
    })();
    (() => {
        const __ifInstance65 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_allowSleepFlag;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance65.exports;
        return __exports.data(bd.allowSleep ? 1 : 0);
    })();
    (() => {
        const __ifInstance66 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_awakeFlag;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance66.exports;
        return __exports.data(bd.awake ? 1 : 0);
    })();
    (() => {
        const __ifInstance67 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_activeFlag;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance67.exports;
        return __exports.data(bd.active ? 1 : 0);
    })();
    this.m_world = world;
    (() => {
        const __callInstance775 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_xf.position.SetV(bd.position);
                }
            }
        });
        const __exports = __callInstance775.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance774 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_xf.R.Set(bd.angle);
                }
            }
        });
        const __exports = __callInstance774.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance773 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.localCenter.SetZero();
                }
            }
        });
        const __exports = __callInstance773.exports;
        return __exports.data();
    })();
    this.m_sweep.t0 = 1;
    this.m_sweep.a0 = this.m_sweep.a = bd.angle;
    var tMat = this.m_xf.R;
    var tVec = this.m_sweep.localCenter;
    this.m_sweep.c.x = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
    this.m_sweep.c.y = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
    this.m_sweep.c.x += this.m_xf.position.x;
    this.m_sweep.c.y += this.m_xf.position.y;
    (() => {
        const __callInstance772 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.c0.SetV(this.m_sweep.c);
                }
            }
        });
        const __exports = __callInstance772.exports;
        return __exports.data();
    })();
    this.m_jointList = null;
    this.m_controllerList = null;
    this.m_contactList = null;
    this.m_controllerCount = 0;
    this.m_prev = null;
    this.m_next = null;
    (() => {
        const __callInstance771 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_linearVelocity.SetV(bd.linearVelocity);
                }
            }
        });
        const __exports = __callInstance771.exports;
        return __exports.data();
    })();
    this.m_angularVelocity = bd.angularVelocity;
    this.m_linearDamping = bd.linearDamping;
    this.m_angularDamping = bd.angularDamping;
    (() => {
        const __callInstance770 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_force.Set(0, 0);
                }
            }
        });
        const __exports = __callInstance770.exports;
        return __exports.data();
    })();
    this.m_torque = 0;
    this.m_sleepTime = 0;
    this.m_type = bd.type;
    (() => {
        const __ifInstance68 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_mass = 1;
                        this.m_invMass = 1;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_mass = 0;
                        this.m_invMass = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance68.exports;
        return __exports.data(this.m_type == b2Body.b2_dynamicBody ? 1 : 0);
    })();
    this.m_I = 0;
    this.m_invI = 0;
    this.m_inertiaScale = bd.inertiaScale;
    this.m_userData = bd.userData;
    this.m_fixtureList = null;
    this.m_fixtureCount = 0;
};
b2Body.prototype.__varz = function () {
    this.m_xf = new b2Transform();
    this.m_sweep = new b2Sweep();
    this.m_linearVelocity = new b2Vec2();
    this.m_force = new b2Vec2();
};
b2Body.b2_staticBody = 0;
b2Body.b2_kinematicBody = 1;
b2Body.b2_dynamicBody = 2;
b2Body.s_xf1 = new b2Transform();
b2Body.e_islandFlag = 1;
b2Body.e_awakeFlag = 2;
b2Body.e_allowSleepFlag = 4;
b2Body.e_bulletFlag = 8;
b2Body.e_fixedRotationFlag = 16;
b2Body.e_activeFlag = 32;
b2Body.prototype.connectEdges = function (s1, s2, angle1) {
    var angle2 = Math.atan2(s2.GetDirectionVector().y, s2.GetDirectionVector().x);
    var coreOffset = Math.tan((angle2 - angle1) * 0.5);
    var core = b2Math.MulFV(coreOffset, s2.GetDirectionVector());
    core = b2Math.SubtractVV(core, s2.GetNormalVector());
    core = b2Math.MulFV(b2Settings.b2_toiSlop, core);
    core = b2Math.AddVV(core, s2.GetVertex1());
    var cornerDir = b2Math.AddVV(s1.GetDirectionVector(), s2.GetDirectionVector());
    (() => {
        const __callInstance769 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    cornerDir.Normalize();
                }
            }
        });
        const __exports = __callInstance769.exports;
        return __exports.data();
    })();
    var convex = b2Math.Dot(s1.GetDirectionVector(), s2.GetNormalVector()) > 0;
    (() => {
        const __callInstance768 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    s1.SetNextEdge(s2, core, cornerDir, convex);
                }
            }
        });
        const __exports = __callInstance768.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance767 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    s2.SetPrevEdge(s1, core, cornerDir, convex);
                }
            }
        });
        const __exports = __callInstance767.exports;
        return __exports.data();
    })();
    return angle2;
};
b2Body.prototype.SynchronizeFixtures = function () {
    var xf1 = b2Body.s_xf1;
    (() => {
        const __callInstance766 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    xf1.R.Set(this.m_sweep.a0);
                }
            }
        });
        const __exports = __callInstance766.exports;
        return __exports.data();
    })();
    var tMat = xf1.R;
    var tVec = this.m_sweep.localCenter;
    xf1.position.x = this.m_sweep.c0.x - (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    xf1.position.y = this.m_sweep.c0.y - (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    var f;
    var broadPhase = this.m_world.m_contactManager.m_broadPhase;
    (() => {
        f = this.m_fixtureList;
        const __forInstance15 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return f ? 1 : 0;
                },
                update: () => {
                    f = f.m_next;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance765 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        f.Synchronize(broadPhase, xf1, this.m_xf);
                                    }
                                }
                            });
                            const __exports = __callInstance765.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance15.exports;
        return __exports.data();
    })();
};
b2Body.prototype.SynchronizeTransform = function () {
    (() => {
        const __callInstance764 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_xf.R.Set(this.m_sweep.a);
                }
            }
        });
        const __exports = __callInstance764.exports;
        return __exports.data();
    })();
    var tMat = this.m_xf.R;
    var tVec = this.m_sweep.localCenter;
    this.m_xf.position.x = this.m_sweep.c.x - (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    this.m_xf.position.y = this.m_sweep.c.y - (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
};
b2Body.prototype.ShouldCollide = function (other) {
    if (this.m_type != b2Body.b2_dynamicBody && other.m_type != b2Body.b2_dynamicBody) {
        return false;
    }
    for (var jn = this.m_jointList; jn; jn = jn.next) {
        if (jn.other == other) {
            if (jn.joint.m_collideConnected == false) {
                return false;
            }
        }
    }
    return true;
};
b2Body.prototype.Advance = function (t) {
    (() => {
        const __callInstance763 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.Advance(t);
                }
            }
        });
        const __exports = __callInstance763.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance762 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.c.SetV(this.m_sweep.c0);
                }
            }
        });
        const __exports = __callInstance762.exports;
        return __exports.data();
    })();
    this.m_sweep.a = this.m_sweep.a0;
    (() => {
        const __callInstance761 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance761.exports;
        return __exports.data();
    })();
};
b2Body.prototype.CreateFixture = function (def) {
    if (this.m_world.IsLocked() == true) {
        return null;
    }
    var fixture = new b2Fixture();
    (() => {
        const __callInstance760 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    fixture.Create(this, this.m_xf, def);
                }
            }
        });
        const __exports = __callInstance760.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance69 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var broadPhase = this.m_world.m_contactManager.m_broadPhase;
                        (() => {
                            const __callInstance759 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        fixture.CreateProxy(broadPhase, this.m_xf);
                                    }
                                }
                            });
                            const __exports = __callInstance759.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance69.exports;
        return __exports.data(this.m_flags & b2Body.e_activeFlag ? 1 : 0);
    })();
    fixture.m_next = this.m_fixtureList;
    this.m_fixtureList = fixture;
    ++this.m_fixtureCount;
    fixture.m_body = this;
    (() => {
        const __ifInstance70 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance758 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.ResetMassData();
                                    }
                                }
                            });
                            const __exports = __callInstance758.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance70.exports;
        return __exports.data(fixture.m_density > 0 ? 1 : 0);
    })();
    this.m_world.m_flags |= b2World.e_newFixture;
    return fixture;
};
b2Body.prototype.CreateFixture2 = function (shape, density) {
    var def = new b2FixtureDef();
    def.shape = shape;
    def.density = density;
    return this.CreateFixture(def);
};
b2Body.prototype.DestroyFixture = function (fixture) {
    if (this.m_world.IsLocked() == true) {
        return;
    }
    var node = this.m_fixtureList;
    var ppF = null;
    var found = false;
    while (node != null) {
        if (node == fixture) {
            (() => {
                const __ifInstance71 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                ppF.m_next = fixture.m_next;
                            }
                        },
                        impFunc2: () => {
                            {
                                this.m_fixtureList = fixture.m_next;
                            }
                        }
                    }
                });
                const __exports = __ifInstance71.exports;
                return __exports.data(ppF ? 1 : 0);
            })();
            found = true;
            break;
        }
        ppF = node;
        node = node.m_next;
    }
    var edge = this.m_contactList;
    (() => {
        const __forInstance115 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return edge ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        var c = edge.contact;
                        edge = edge.next;
                        var fixtureA = c.GetFixtureA();
                        var fixtureB = c.GetFixtureB();
                        (() => {
                            const __ifInstance72 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance757 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_world.m_contactManager.Destroy(c);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance757.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance72.exports;
                            return __exports.data(fixture == fixtureA || fixture == fixtureB ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance115.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance73 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var broadPhase = this.m_world.m_contactManager.m_broadPhase;
                        (() => {
                            const __callInstance756 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        fixture.DestroyProxy(broadPhase);
                                    }
                                }
                            });
                            const __exports = __callInstance756.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                    }
                }
            }
        });
        const __exports = __ifInstance73.exports;
        return __exports.data(this.m_flags & b2Body.e_activeFlag ? 1 : 0);
    })();
    (() => {
        const __callInstance755 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    fixture.Destroy();
                }
            }
        });
        const __exports = __callInstance755.exports;
        return __exports.data();
    })();
    fixture.m_body = null;
    fixture.m_next = null;
    --this.m_fixtureCount;
    (() => {
        const __callInstance754 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.ResetMassData();
                }
            }
        });
        const __exports = __callInstance754.exports;
        return __exports.data();
    })();
};
b2Body.prototype.SetPositionAndAngle = function (position, angle) {
    var f;
    if (this.m_world.IsLocked() == true) {
        return;
    }
    (() => {
        const __callInstance753 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_xf.R.Set(angle);
                }
            }
        });
        const __exports = __callInstance753.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance752 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_xf.position.SetV(position);
                }
            }
        });
        const __exports = __callInstance752.exports;
        return __exports.data();
    })();
    var tMat = this.m_xf.R;
    var tVec = this.m_sweep.localCenter;
    this.m_sweep.c.x = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
    this.m_sweep.c.y = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
    this.m_sweep.c.x += this.m_xf.position.x;
    this.m_sweep.c.y += this.m_xf.position.y;
    (() => {
        const __callInstance751 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.c0.SetV(this.m_sweep.c);
                }
            }
        });
        const __exports = __callInstance751.exports;
        return __exports.data();
    })();
    this.m_sweep.a0 = this.m_sweep.a = angle;
    var broadPhase = this.m_world.m_contactManager.m_broadPhase;
    (() => {
        f = this.m_fixtureList;
        const __forInstance16 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return f ? 1 : 0;
                },
                update: () => {
                    f = f.m_next;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance750 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        f.Synchronize(broadPhase, this.m_xf, this.m_xf);
                                    }
                                }
                            });
                            const __exports = __callInstance750.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance16.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance749 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_world.m_contactManager.FindNewContacts();
                }
            }
        });
        const __exports = __callInstance749.exports;
        return __exports.data();
    })();
};
b2Body.prototype.SetTransform = function (xf) {
    (() => {
        const __callInstance748 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.SetPositionAndAngle(xf.position, xf.GetAngle());
                }
            }
        });
        const __exports = __callInstance748.exports;
        return __exports.data();
    })();
};
b2Body.prototype.GetTransform = function () {
    return this.m_xf;
};
b2Body.prototype.GetPosition = function () {
    return this.m_xf.position;
};
b2Body.prototype.SetPosition = function (position) {
    (() => {
        const __callInstance747 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.SetPositionAndAngle(position, this.GetAngle());
                }
            }
        });
        const __exports = __callInstance747.exports;
        return __exports.data();
    })();
};
b2Body.prototype.GetAngle = function () {
    return this.m_sweep.a;
};
b2Body.prototype.SetAngle = function (angle) {
    (() => {
        const __callInstance746 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.SetPositionAndAngle(this.GetPosition(), angle);
                }
            }
        });
        const __exports = __callInstance746.exports;
        return __exports.data();
    })();
};
b2Body.prototype.GetWorldCenter = function () {
    return this.m_sweep.c;
};
b2Body.prototype.GetLocalCenter = function () {
    return this.m_sweep.localCenter;
};
b2Body.prototype.SetLinearVelocity = function (v) {
    if (this.m_type == b2Body.b2_staticBody) {
        return;
    }
    (() => {
        const __callInstance745 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_linearVelocity.SetV(v);
                }
            }
        });
        const __exports = __callInstance745.exports;
        return __exports.data();
    })();
};
b2Body.prototype.GetLinearVelocity = function () {
    return this.m_linearVelocity;
};
b2Body.prototype.SetAngularVelocity = function (omega) {
    if (this.m_type == b2Body.b2_staticBody) {
        return;
    }
    this.m_angularVelocity = omega;
};
b2Body.prototype.GetAngularVelocity = function () {
    return this.m_angularVelocity;
};
b2Body.prototype.GetDefinition = function () {
    var bd = new b2BodyDef();
    bd.type = this.GetType();
    bd.allowSleep = (this.m_flags & b2Body.e_allowSleepFlag) == b2Body.e_allowSleepFlag;
    bd.angle = this.GetAngle();
    bd.angularDamping = this.m_angularDamping;
    bd.angularVelocity = this.m_angularVelocity;
    bd.fixedRotation = (this.m_flags & b2Body.e_fixedRotationFlag) == b2Body.e_fixedRotationFlag;
    bd.bullet = (this.m_flags & b2Body.e_bulletFlag) == b2Body.e_bulletFlag;
    bd.awake = (this.m_flags & b2Body.e_awakeFlag) == b2Body.e_awakeFlag;
    bd.linearDamping = this.m_linearDamping;
    (() => {
        const __callInstance744 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bd.linearVelocity.SetV(this.GetLinearVelocity());
                }
            }
        });
        const __exports = __callInstance744.exports;
        return __exports.data();
    })();
    bd.position = this.GetPosition();
    bd.userData = this.GetUserData();
    return bd;
};
b2Body.prototype.ApplyForce = function (force, point) {
    if (this.m_type != b2Body.b2_dynamicBody) {
        return;
    }
    (() => {
        const __ifInstance74 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance743 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.SetAwake(true);
                                    }
                                }
                            });
                            const __exports = __callInstance743.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance74.exports;
        return __exports.data(this.IsAwake() == false ? 1 : 0);
    })();
    this.m_force.x += force.x;
    this.m_force.y += force.y;
    this.m_torque += (point.x - this.m_sweep.c.x) * force.y - (point.y - this.m_sweep.c.y) * force.x;
};
b2Body.prototype.ApplyTorque = function (torque) {
    if (this.m_type != b2Body.b2_dynamicBody) {
        return;
    }
    (() => {
        const __ifInstance75 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance742 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.SetAwake(true);
                                    }
                                }
                            });
                            const __exports = __callInstance742.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance75.exports;
        return __exports.data(this.IsAwake() == false ? 1 : 0);
    })();
    this.m_torque += torque;
};
b2Body.prototype.ApplyImpulse = function (impulse, point) {
    if (this.m_type != b2Body.b2_dynamicBody) {
        return;
    }
    (() => {
        const __ifInstance76 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance741 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.SetAwake(true);
                                    }
                                }
                            });
                            const __exports = __callInstance741.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance76.exports;
        return __exports.data(this.IsAwake() == false ? 1 : 0);
    })();
    this.m_linearVelocity.x += this.m_invMass * impulse.x;
    this.m_linearVelocity.y += this.m_invMass * impulse.y;
    this.m_angularVelocity += this.m_invI * ((point.x - this.m_sweep.c.x) * impulse.y - (point.y - this.m_sweep.c.y) * impulse.x);
};
b2Body.prototype.Split = function (callback) {
    var linearVelocity = this.GetLinearVelocity().Copy();
    var angularVelocity = this.GetAngularVelocity();
    var center = this.GetWorldCenter();
    var body1 = this;
    var body2 = this.m_world.CreateBody(this.GetDefinition());
    var prev;
    (() => {
        var f = body1.m_fixtureList;
        const __forInstance17 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return f ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        (() => {
                            const __ifInstance77 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            var next = f.m_next;
                                            (() => {
                                                const __ifInstance78 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                prev.m_next = next;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                body1.m_fixtureList = next;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance78.exports;
                                                return __exports.data(prev ? 1 : 0);
                                            })();
                                            body1.m_fixtureCount--;
                                            f.m_next = body2.m_fixtureList;
                                            body2.m_fixtureList = f;
                                            body2.m_fixtureCount++;
                                            f.m_body = body2;
                                            f = next;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            prev = f;
                                            f = f.m_next;
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance77.exports;
                            return __exports.data(callback(f) ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance17.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance740 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    body1.ResetMassData();
                }
            }
        });
        const __exports = __callInstance740.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance739 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    body2.ResetMassData();
                }
            }
        });
        const __exports = __callInstance739.exports;
        return __exports.data();
    })();
    var center1 = body1.GetWorldCenter();
    var center2 = body2.GetWorldCenter();
    var velocity1 = b2Math.AddVV(linearVelocity, b2Math.CrossFV(angularVelocity, b2Math.SubtractVV(center1, center)));
    var velocity2 = b2Math.AddVV(linearVelocity, b2Math.CrossFV(angularVelocity, b2Math.SubtractVV(center2, center)));
    (() => {
        const __callInstance738 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    body1.SetLinearVelocity(velocity1);
                }
            }
        });
        const __exports = __callInstance738.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance737 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    body2.SetLinearVelocity(velocity2);
                }
            }
        });
        const __exports = __callInstance737.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance736 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    body1.SetAngularVelocity(angularVelocity);
                }
            }
        });
        const __exports = __callInstance736.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance735 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    body2.SetAngularVelocity(angularVelocity);
                }
            }
        });
        const __exports = __callInstance735.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance734 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    body1.SynchronizeFixtures();
                }
            }
        });
        const __exports = __callInstance734.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance733 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    body2.SynchronizeFixtures();
                }
            }
        });
        const __exports = __callInstance733.exports;
        return __exports.data();
    })();
    return body2;
};
b2Body.prototype.Merge = function (other) {
    var f;
    (() => {
        f = other.m_fixtureList;
        const __forInstance18 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return f ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        var next = f.m_next;
                        other.m_fixtureCount--;
                        f.m_next = this.m_fixtureList;
                        this.m_fixtureList = f;
                        this.m_fixtureCount++;
                        f.m_body = body2;
                        f = next;
                    }
                }
            }
        });
        const __exports = __forInstance18.exports;
        return __exports.data();
    })();
    body1.m_fixtureCount = 0;
    var body1 = this;
    var body2 = other;
    var center1 = body1.GetWorldCenter();
    var center2 = body2.GetWorldCenter();
    var velocity1 = body1.GetLinearVelocity().Copy();
    var velocity2 = body2.GetLinearVelocity().Copy();
    var angular1 = body1.GetAngularVelocity();
    var angular = body2.GetAngularVelocity();
    (() => {
        const __callInstance732 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    body1.ResetMassData();
                }
            }
        });
        const __exports = __callInstance732.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance731 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.SynchronizeFixtures();
                }
            }
        });
        const __exports = __callInstance731.exports;
        return __exports.data();
    })();
};
b2Body.prototype.GetMass = function () {
    return this.m_mass;
};
b2Body.prototype.GetInertia = function () {
    return this.m_I;
};
b2Body.prototype.GetMassData = function (data) {
    data.mass = this.m_mass;
    data.I = this.m_I;
    (() => {
        const __callInstance730 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    data.center.SetV(this.m_sweep.localCenter);
                }
            }
        });
        const __exports = __callInstance730.exports;
        return __exports.data();
    })();
};
b2Body.prototype.SetMassData = function (massData) {
    (() => {
        const __callInstance729 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(this.m_world.IsLocked() == false);
                }
            }
        });
        const __exports = __callInstance729.exports;
        return __exports.data();
    })();
    if (this.m_world.IsLocked() == true) {
        return;
    }
    if (this.m_type != b2Body.b2_dynamicBody) {
        return;
    }
    this.m_invMass = 0;
    this.m_I = 0;
    this.m_invI = 0;
    this.m_mass = massData.mass;
    (() => {
        const __ifInstance79 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_mass = 1;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance79.exports;
        return __exports.data(this.m_mass <= 0 ? 1 : 0);
    })();
    this.m_invMass = 1 / this.m_mass;
    (() => {
        const __ifInstance80 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_I = massData.I - this.m_mass * (massData.center.x * massData.center.x + massData.center.y * massData.center.y);
                        this.m_invI = 1 / this.m_I;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance80.exports;
        return __exports.data(massData.I > 0 && (this.m_flags & b2Body.e_fixedRotationFlag) == 0 ? 1 : 0);
    })();
    var oldCenter = this.m_sweep.c.Copy();
    (() => {
        const __callInstance728 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.localCenter.SetV(massData.center);
                }
            }
        });
        const __exports = __callInstance728.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance727 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.c0.SetV(b2Math.MulX(this.m_xf, this.m_sweep.localCenter));
                }
            }
        });
        const __exports = __callInstance727.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance726 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.c.SetV(this.m_sweep.c0);
                }
            }
        });
        const __exports = __callInstance726.exports;
        return __exports.data();
    })();
    this.m_linearVelocity.x += this.m_angularVelocity * -(this.m_sweep.c.y - oldCenter.y);
    this.m_linearVelocity.y += this.m_angularVelocity * +(this.m_sweep.c.x - oldCenter.x);
};
b2Body.prototype.ResetMassData = function () {
    this.m_mass = 0;
    this.m_invMass = 0;
    this.m_I = 0;
    this.m_invI = 0;
    (() => {
        const __callInstance725 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.localCenter.SetZero();
                }
            }
        });
        const __exports = __callInstance725.exports;
        return __exports.data();
    })();
    if (this.m_type == b2Body.b2_staticBody || this.m_type == b2Body.b2_kinematicBody) {
        return;
    }
    var center = b2Vec2.Make(0, 0);
    for (var f = this.m_fixtureList; f; f = f.m_next) {
        if (f.m_density == 0) {
            continue;
        }
        var massData = f.GetMassData();
        this.m_mass += massData.mass;
        center.x += massData.center.x * massData.mass;
        center.y += massData.center.y * massData.mass;
        this.m_I += massData.I;
    }
    (() => {
        const __ifInstance81 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_invMass = 1 / this.m_mass;
                        center.x *= this.m_invMass;
                        center.y *= this.m_invMass;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_mass = 1;
                        this.m_invMass = 1;
                    }
                }
            }
        });
        const __exports = __ifInstance81.exports;
        return __exports.data(this.m_mass > 0 ? 1 : 0);
    })();
    (() => {
        const __ifInstance82 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_I -= this.m_mass * (center.x * center.x + center.y * center.y);
                        this.m_I *= this.m_inertiaScale;
                        (() => {
                            const __callInstance724 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        b2Settings.b2Assert(this.m_I > 0);
                                    }
                                }
                            });
                            const __exports = __callInstance724.exports;
                            return __exports.data();
                        })();
                        this.m_invI = 1 / this.m_I;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_I = 0;
                        this.m_invI = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance82.exports;
        return __exports.data(this.m_I > 0 && (this.m_flags & b2Body.e_fixedRotationFlag) == 0 ? 1 : 0);
    })();
    var oldCenter = this.m_sweep.c.Copy();
    (() => {
        const __callInstance723 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.localCenter.SetV(center);
                }
            }
        });
        const __exports = __callInstance723.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance722 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.c0.SetV(b2Math.MulX(this.m_xf, this.m_sweep.localCenter));
                }
            }
        });
        const __exports = __callInstance722.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance721 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_sweep.c.SetV(this.m_sweep.c0);
                }
            }
        });
        const __exports = __callInstance721.exports;
        return __exports.data();
    })();
    this.m_linearVelocity.x += this.m_angularVelocity * -(this.m_sweep.c.y - oldCenter.y);
    this.m_linearVelocity.y += this.m_angularVelocity * +(this.m_sweep.c.x - oldCenter.x);
};
b2Body.prototype.GetWorldPoint = function (localPoint) {
    var A = this.m_xf.R;
    var u = new b2Vec2(A.col1.x * localPoint.x + A.col2.x * localPoint.y, A.col1.y * localPoint.x + A.col2.y * localPoint.y);
    u.x += this.m_xf.position.x;
    u.y += this.m_xf.position.y;
    return u;
};
b2Body.prototype.GetWorldVector = function (localVector) {
    return b2Math.MulMV(this.m_xf.R, localVector);
};
b2Body.prototype.GetLocalPoint = function (worldPoint) {
    return b2Math.MulXT(this.m_xf, worldPoint);
};
b2Body.prototype.GetLocalVector = function (worldVector) {
    return b2Math.MulTMV(this.m_xf.R, worldVector);
};
b2Body.prototype.GetLinearVelocityFromWorldPoint = function (worldPoint) {
    return new b2Vec2(this.m_linearVelocity.x - this.m_angularVelocity * (worldPoint.y - this.m_sweep.c.y), this.m_linearVelocity.y + this.m_angularVelocity * (worldPoint.x - this.m_sweep.c.x));
};
b2Body.prototype.GetLinearVelocityFromLocalPoint = function (localPoint) {
    var A = this.m_xf.R;
    var worldPoint = new b2Vec2(A.col1.x * localPoint.x + A.col2.x * localPoint.y, A.col1.y * localPoint.x + A.col2.y * localPoint.y);
    worldPoint.x += this.m_xf.position.x;
    worldPoint.y += this.m_xf.position.y;
    return new b2Vec2(this.m_linearVelocity.x - this.m_angularVelocity * (worldPoint.y - this.m_sweep.c.y), this.m_linearVelocity.y + this.m_angularVelocity * (worldPoint.x - this.m_sweep.c.x));
};
b2Body.prototype.GetLinearDamping = function () {
    return this.m_linearDamping;
};
b2Body.prototype.SetLinearDamping = function (linearDamping) {
    this.m_linearDamping = linearDamping;
};
b2Body.prototype.GetAngularDamping = function () {
    return this.m_angularDamping;
};
b2Body.prototype.SetAngularDamping = function (angularDamping) {
    this.m_angularDamping = angularDamping;
};
b2Body.prototype.SetType = function (type) {
    if (this.m_type == type) {
        return;
    }
    this.m_type = type;
    (() => {
        const __callInstance720 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.ResetMassData();
                }
            }
        });
        const __exports = __callInstance720.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance83 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance719 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_linearVelocity.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance719.exports;
                            return __exports.data();
                        })();
                        this.m_angularVelocity = 0;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance83.exports;
        return __exports.data(this.m_type == b2Body.b2_staticBody ? 1 : 0);
    })();
    (() => {
        const __callInstance718 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance718.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance717 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_force.SetZero();
                }
            }
        });
        const __exports = __callInstance717.exports;
        return __exports.data();
    })();
    this.m_torque = 0;
    (() => {
        var ce = this.m_contactList;
        const __forInstance19 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return ce ? 1 : 0;
                },
                update: () => {
                    ce = ce.next;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance716 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        ce.contact.FlagForFiltering();
                                    }
                                }
                            });
                            const __exports = __callInstance716.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance19.exports;
        return __exports.data();
    })();
};
b2Body.prototype.GetType = function () {
    return this.m_type;
};
b2Body.prototype.SetBullet = function (flag) {
    (() => {
        const __ifInstance84 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_bulletFlag;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_flags &= ~b2Body.e_bulletFlag;
                    }
                }
            }
        });
        const __exports = __ifInstance84.exports;
        return __exports.data(flag ? 1 : 0);
    })();
};
b2Body.prototype.IsBullet = function () {
    return (this.m_flags & b2Body.e_bulletFlag) == b2Body.e_bulletFlag;
};
b2Body.prototype.SetSleepingAllowed = function (flag) {
    (() => {
        const __ifInstance85 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_allowSleepFlag;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_flags &= ~b2Body.e_allowSleepFlag;
                        (() => {
                            const __callInstance715 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.SetAwake(true);
                                    }
                                }
                            });
                            const __exports = __callInstance715.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __ifInstance85.exports;
        return __exports.data(flag ? 1 : 0);
    })();
};
b2Body.prototype.SetAwake = function (flag) {
    (() => {
        const __ifInstance86 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_awakeFlag;
                        this.m_sleepTime = 0;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_flags &= ~b2Body.e_awakeFlag;
                        this.m_sleepTime = 0;
                        (() => {
                            const __callInstance714 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_linearVelocity.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance714.exports;
                            return __exports.data();
                        })();
                        this.m_angularVelocity = 0;
                        (() => {
                            const __callInstance713 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_force.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance713.exports;
                            return __exports.data();
                        })();
                        this.m_torque = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance86.exports;
        return __exports.data(flag ? 1 : 0);
    })();
};
b2Body.prototype.IsAwake = function () {
    return (this.m_flags & b2Body.e_awakeFlag) == b2Body.e_awakeFlag;
};
b2Body.prototype.SetFixedRotation = function (fixed) {
    (() => {
        const __ifInstance87 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_fixedRotationFlag;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_flags &= ~b2Body.e_fixedRotationFlag;
                    }
                }
            }
        });
        const __exports = __ifInstance87.exports;
        return __exports.data(fixed ? 1 : 0);
    })();
    (() => {
        const __callInstance712 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.ResetMassData();
                }
            }
        });
        const __exports = __callInstance712.exports;
        return __exports.data();
    })();
};
b2Body.prototype.IsFixedRotation = function () {
    return (this.m_flags & b2Body.e_fixedRotationFlag) == b2Body.e_fixedRotationFlag;
};
b2Body.prototype.SetActive = function (flag) {
    if (flag == this.IsActive()) {
        return;
    }
    var broadPhase;
    var f;
    (() => {
        const __ifInstance88 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Body.e_activeFlag;
                        broadPhase = this.m_world.m_contactManager.m_broadPhase;
                        (() => {
                            f = this.m_fixtureList;
                            const __forInstance20 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return f ? 1 : 0;
                                    },
                                    update: () => {
                                        f = f.m_next;
                                    },
                                    body: () => {
                                        {
                                            (() => {
                                                const __callInstance711 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            f.CreateProxy(broadPhase, this.m_xf);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance711.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance20.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        this.m_flags &= ~b2Body.e_activeFlag;
                        broadPhase = this.m_world.m_contactManager.m_broadPhase;
                        (() => {
                            f = this.m_fixtureList;
                            const __forInstance21 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return f ? 1 : 0;
                                    },
                                    update: () => {
                                        f = f.m_next;
                                    },
                                    body: () => {
                                        {
                                            (() => {
                                                const __callInstance710 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            f.DestroyProxy(broadPhase);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance710.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance21.exports;
                            return __exports.data();
                        })();
                        var ce = this.m_contactList;
                        (() => {
                            const __forInstance116 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return ce ? 1 : 0;
                                    },
                                    update: () => {
                                    },
                                    body: () => {
                                        {
                                            var ce0 = ce;
                                            ce = ce.next;
                                            (() => {
                                                const __callInstance709 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_world.m_contactManager.Destroy(ce0.contact);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance709.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance116.exports;
                            return __exports.data();
                        })();
                        this.m_contactList = null;
                    }
                }
            }
        });
        const __exports = __ifInstance88.exports;
        return __exports.data(flag ? 1 : 0);
    })();
};
b2Body.prototype.IsActive = function () {
    return (this.m_flags & b2Body.e_activeFlag) == b2Body.e_activeFlag;
};
b2Body.prototype.IsSleepingAllowed = function () {
    return (this.m_flags & b2Body.e_allowSleepFlag) == b2Body.e_allowSleepFlag;
};
b2Body.prototype.GetFixtureList = function () {
    return this.m_fixtureList;
};
b2Body.prototype.GetJointList = function () {
    return this.m_jointList;
};
b2Body.prototype.GetControllerList = function () {
    return this.m_controllerList;
};
b2Body.prototype.GetContactList = function () {
    return this.m_contactList;
};
b2Body.prototype.GetNext = function () {
    return this.m_next;
};
b2Body.prototype.GetUserData = function () {
    return this.m_userData;
};
b2Body.prototype.SetUserData = function (data) {
    this.m_userData = data;
};
b2Body.prototype.GetWorld = function () {
    return this.m_world;
};
b2Body.prototype.m_flags = 0;
b2Body.prototype.m_type = 0;
b2Body.prototype.m_islandIndex = 0;
b2Body.prototype.m_xf = new b2Transform();
b2Body.prototype.m_sweep = new b2Sweep();
b2Body.prototype.m_linearVelocity = new b2Vec2();
b2Body.prototype.m_angularVelocity = null;
b2Body.prototype.m_force = new b2Vec2();
b2Body.prototype.m_torque = null;
b2Body.prototype.m_world = null;
b2Body.prototype.m_prev = null;
b2Body.prototype.m_next = null;
b2Body.prototype.m_fixtureList = null;
b2Body.prototype.m_fixtureCount = 0;
b2Body.prototype.m_controllerList = null;
b2Body.prototype.m_controllerCount = 0;
b2Body.prototype.m_jointList = null;
b2Body.prototype.m_contactList = null;
b2Body.prototype.m_mass = null;
b2Body.prototype.m_invMass = null;
b2Body.prototype.m_I = null;
b2Body.prototype.m_invI = null;
b2Body.prototype.m_inertiaScale = null;
b2Body.prototype.m_linearDamping = null;
b2Body.prototype.m_angularDamping = null;
b2Body.prototype.m_sleepTime = null;
b2Body.prototype.m_userData = null;
var b2ContactImpulse = function () {
    (() => {
        const __callInstance708 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance708.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance707 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance707.exports;
        return __exports.data();
    })();
};
b2ContactImpulse.prototype.__constructor = function () {
};
b2ContactImpulse.prototype.__varz = function () {
    this.normalImpulses = new Array(b2Settings.b2_maxManifoldPoints);
    this.tangentImpulses = new Array(b2Settings.b2_maxManifoldPoints);
};
b2ContactImpulse.prototype.normalImpulses = new Array(b2Settings.b2_maxManifoldPoints);
b2ContactImpulse.prototype.tangentImpulses = new Array(b2Settings.b2_maxManifoldPoints);
var b2TensorDampingController = function () {
    (() => {
        const __callInstance706 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Controller.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance706.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance705 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance705.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance704 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance704.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance703 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2TensorDampingController.prototype, b2Controller.prototype);
            }
        }
    });
    const __exports = __callInstance703.exports;
    return __exports.data();
})();
b2TensorDampingController.prototype._super = b2Controller.prototype;
b2TensorDampingController.prototype.__constructor = function () {
    (() => {
        const __callInstance702 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance702.exports;
        return __exports.data();
    })();
};
b2TensorDampingController.prototype.__varz = function () {
    this.T = new b2Mat22();
};
b2TensorDampingController.prototype.SetAxisAligned = function (xDamping, yDamping) {
    this.T.col1.x = -xDamping;
    this.T.col1.y = 0;
    this.T.col2.x = 0;
    this.T.col2.y = -yDamping;
    (() => {
        const __ifInstance89 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.maxTimestep = 1 / Math.max(xDamping, yDamping);
                    }
                },
                impFunc2: () => {
                    {
                        this.maxTimestep = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance89.exports;
        return __exports.data(xDamping > 0 || yDamping > 0 ? 1 : 0);
    })();
};
b2TensorDampingController.prototype.Step = function (step) {
    var timestep = step.dt;
    if (timestep <= Number.MIN_VALUE) {
        return;
    }
    (() => {
        const __ifInstance90 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        timestep = this.maxTimestep;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance90.exports;
        return __exports.data(timestep > this.maxTimestep && this.maxTimestep > 0 ? 1 : 0);
    })();
    for (var i = m_bodyList; i; i = i.nextBody) {
        var body = i.body;
        if (!body.IsAwake()) {
            continue;
        }
        var damping = body.GetWorldVector(b2Math.MulMV(this.T, body.GetLocalVector(body.GetLinearVelocity())));
        (() => {
            const __callInstance701 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        body.SetLinearVelocity(new b2Vec2(body.GetLinearVelocity().x + damping.x * timestep, body.GetLinearVelocity().y + damping.y * timestep));
                    }
                }
            });
            const __exports = __callInstance701.exports;
            return __exports.data();
        })();
    }
};
b2TensorDampingController.prototype.T = new b2Mat22();
b2TensorDampingController.prototype.maxTimestep = 0;
var b2ManifoldPoint = function () {
    (() => {
        const __callInstance700 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance700.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance699 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance699.exports;
        return __exports.data();
    })();
};
b2ManifoldPoint.prototype.__constructor = function () {
    (() => {
        const __callInstance698 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.Reset();
                }
            }
        });
        const __exports = __callInstance698.exports;
        return __exports.data();
    })();
};
b2ManifoldPoint.prototype.__varz = function () {
    this.m_localPoint = new b2Vec2();
    this.m_id = new b2ContactID();
};
b2ManifoldPoint.prototype.Reset = function () {
    (() => {
        const __callInstance697 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localPoint.SetZero();
                }
            }
        });
        const __exports = __callInstance697.exports;
        return __exports.data();
    })();
    this.m_normalImpulse = 0;
    this.m_tangentImpulse = 0;
    this.m_id.key = 0;
};
b2ManifoldPoint.prototype.Set = function (m) {
    (() => {
        const __callInstance696 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localPoint.SetV(m.m_localPoint);
                }
            }
        });
        const __exports = __callInstance696.exports;
        return __exports.data();
    })();
    this.m_normalImpulse = m.m_normalImpulse;
    this.m_tangentImpulse = m.m_tangentImpulse;
    (() => {
        const __callInstance695 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_id.Set(m.m_id);
                }
            }
        });
        const __exports = __callInstance695.exports;
        return __exports.data();
    })();
};
b2ManifoldPoint.prototype.m_localPoint = new b2Vec2();
b2ManifoldPoint.prototype.m_normalImpulse = null;
b2ManifoldPoint.prototype.m_tangentImpulse = null;
b2ManifoldPoint.prototype.m_id = new b2ContactID();
var b2PolygonShape = function () {
    (() => {
        const __callInstance694 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Shape.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance694.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance693 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance693.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance692 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance692.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance691 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2PolygonShape.prototype, b2Shape.prototype);
            }
        }
    });
    const __exports = __callInstance691.exports;
    return __exports.data();
})();
b2PolygonShape.prototype._super = b2Shape.prototype;
b2PolygonShape.prototype.__constructor = function () {
    (() => {
        const __callInstance690 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance690.exports;
        return __exports.data();
    })();
    this.m_type = b2Shape.e_polygonShape;
    this.m_centroid = new b2Vec2();
    this.m_vertices = new Array();
    this.m_normals = new Array();
};
b2PolygonShape.prototype.__varz = function () {
};
b2PolygonShape.AsArray = function (vertices, vertexCount) {
    var polygonShape = new b2PolygonShape();
    (() => {
        const __callInstance689 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    polygonShape.SetAsArray(vertices, vertexCount);
                }
            }
        });
        const __exports = __callInstance689.exports;
        return __exports.data();
    })();
    return polygonShape;
};
b2PolygonShape.AsVector = function (vertices, vertexCount) {
    var polygonShape = new b2PolygonShape();
    (() => {
        const __callInstance688 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    polygonShape.SetAsVector(vertices, vertexCount);
                }
            }
        });
        const __exports = __callInstance688.exports;
        return __exports.data();
    })();
    return polygonShape;
};
b2PolygonShape.AsBox = function (hx, hy) {
    var polygonShape = new b2PolygonShape();
    (() => {
        const __callInstance687 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    polygonShape.SetAsBox(hx, hy);
                }
            }
        });
        const __exports = __callInstance687.exports;
        return __exports.data();
    })();
    return polygonShape;
};
b2PolygonShape.AsOrientedBox = function (hx, hy, center, angle) {
    var polygonShape = new b2PolygonShape();
    (() => {
        const __callInstance686 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    polygonShape.SetAsOrientedBox(hx, hy, center, angle);
                }
            }
        });
        const __exports = __callInstance686.exports;
        return __exports.data();
    })();
    return polygonShape;
};
b2PolygonShape.AsEdge = function (v1, v2) {
    var polygonShape = new b2PolygonShape();
    (() => {
        const __callInstance685 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    polygonShape.SetAsEdge(v1, v2);
                }
            }
        });
        const __exports = __callInstance685.exports;
        return __exports.data();
    })();
    return polygonShape;
};
b2PolygonShape.ComputeCentroid = function (vs, count) {
    var c = new b2Vec2();
    var area = 0;
    var p1X = 0;
    var p1Y = 0;
    var inv3 = 1 / 3;
    (() => {
        var i = 0;
        const __forInstance22 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < count ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var p2 = vs[i];
                        var p3 = i + 1 < count ? vs[parseInt(i + 1)] : vs[0];
                        var e1X = p2.x - p1X;
                        var e1Y = p2.y - p1Y;
                        var e2X = p3.x - p1X;
                        var e2Y = p3.y - p1Y;
                        var D = e1X * e2Y - e1Y * e2X;
                        var triangleArea = 0.5 * D;
                        area += triangleArea;
                        c.x += triangleArea * inv3 * (p1X + p2.x + p3.x);
                        c.y += triangleArea * inv3 * (p1Y + p2.y + p3.y);
                    }
                }
            }
        });
        const __exports = __forInstance22.exports;
        return __exports.data();
    })();
    c.x *= 1 / area;
    c.y *= 1 / area;
    return c;
};
b2PolygonShape.ComputeOBB = function (obb, vs, count) {
    var i = 0;
    var p = new Array(count + 1);
    (() => {
        i = 0;
        const __forInstance23 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < count ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        p[i] = vs[i];
                    }
                }
            }
        });
        const __exports = __forInstance23.exports;
        return __exports.data();
    })();
    p[count] = p[0];
    var minArea = Number.MAX_VALUE;
    (() => {
        i = 1;
        const __forInstance24 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i <= count ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var root = p[parseInt(i - 1)];
                        var uxX = p[i].x - root.x;
                        var uxY = p[i].y - root.y;
                        var length = Math.sqrt(uxX * uxX + uxY * uxY);
                        uxX /= length;
                        uxY /= length;
                        var uyX = -uxY;
                        var uyY = uxX;
                        var lowerX = Number.MAX_VALUE;
                        var lowerY = Number.MAX_VALUE;
                        var upperX = -Number.MAX_VALUE;
                        var upperY = -Number.MAX_VALUE;
                        (() => {
                            var j = 0;
                            const __forInstance25 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return j < count ? 1 : 0;
                                    },
                                    update: () => {
                                        ++j;
                                    },
                                    body: () => {
                                        {
                                            var dX = p[j].x - root.x;
                                            var dY = p[j].y - root.y;
                                            var rX = uxX * dX + uxY * dY;
                                            var rY = uyX * dX + uyY * dY;
                                            (() => {
                                                const __ifInstance91 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                lowerX = rX;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance91.exports;
                                                return __exports.data(rX < lowerX ? 1 : 0);
                                            })();
                                            (() => {
                                                const __ifInstance92 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                lowerY = rY;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance92.exports;
                                                return __exports.data(rY < lowerY ? 1 : 0);
                                            })();
                                            (() => {
                                                const __ifInstance93 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                upperX = rX;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance93.exports;
                                                return __exports.data(rX > upperX ? 1 : 0);
                                            })();
                                            (() => {
                                                const __ifInstance94 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                upperY = rY;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance94.exports;
                                                return __exports.data(rY > upperY ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance25.exports;
                            return __exports.data();
                        })();
                        var area = (upperX - lowerX) * (upperY - lowerY);
                        (() => {
                            const __ifInstance95 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            minArea = area;
                                            obb.R.col1.x = uxX;
                                            obb.R.col1.y = uxY;
                                            obb.R.col2.x = uyX;
                                            obb.R.col2.y = uyY;
                                            var centerX = 0.5 * (lowerX + upperX);
                                            var centerY = 0.5 * (lowerY + upperY);
                                            var tMat = obb.R;
                                            obb.center.x = root.x + (tMat.col1.x * centerX + tMat.col2.x * centerY);
                                            obb.center.y = root.y + (tMat.col1.y * centerX + tMat.col2.y * centerY);
                                            obb.extents.x = 0.5 * (upperX - lowerX);
                                            obb.extents.y = 0.5 * (upperY - lowerY);
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance95.exports;
                            return __exports.data(area < 0.95 * minArea ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance24.exports;
        return __exports.data();
    })();
};
b2PolygonShape.s_mat = new b2Mat22();
b2PolygonShape.prototype.Validate = function () {
    return false;
};
b2PolygonShape.prototype.Reserve = function (count) {
    (() => {
        var i = this.m_vertices.length;
        const __forInstance26 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < count ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.m_vertices[i] = new b2Vec2();
                        this.m_normals[i] = new b2Vec2();
                    }
                }
            }
        });
        const __exports = __forInstance26.exports;
        return __exports.data();
    })();
};
b2PolygonShape.prototype.Copy = function () {
    var s = new b2PolygonShape();
    (() => {
        const __callInstance684 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    s.Set(this);
                }
            }
        });
        const __exports = __callInstance684.exports;
        return __exports.data();
    })();
    return s;
};
b2PolygonShape.prototype.Set = function (other) {
    (() => {
        const __callInstance683 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.Set.apply(this, [other]);
                }
            }
        });
        const __exports = __callInstance683.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance96 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var other2 = other;
                        (() => {
                            const __callInstance682 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_centroid.SetV(other2.m_centroid);
                                    }
                                }
                            });
                            const __exports = __callInstance682.exports;
                            return __exports.data();
                        })();
                        this.m_vertexCount = other2.m_vertexCount;
                        (() => {
                            const __callInstance681 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.Reserve(this.m_vertexCount);
                                    }
                                }
                            });
                            const __exports = __callInstance681.exports;
                            return __exports.data();
                        })();
                        (() => {
                            var i = 0;
                            const __forInstance27 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return i < this.m_vertexCount ? 1 : 0;
                                    },
                                    update: () => {
                                        i++;
                                    },
                                    body: () => {
                                        {
                                            (() => {
                                                const __callInstance680 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_vertices[i].SetV(other2.m_vertices[i]);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance680.exports;
                                                return __exports.data();
                                            })();
                                            (() => {
                                                const __callInstance679 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_normals[i].SetV(other2.m_normals[i]);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance679.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance27.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance96.exports;
        return __exports.data(isInstanceOf(other, b2PolygonShape) ? 1 : 0);
    })();
};
b2PolygonShape.prototype.SetAsArray = function (vertices, vertexCount) {
    var v = new Array();
    (() => {
        var i = 0, tVec = null;
        const __forInstance28 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return (i < vertices.length, tVec = vertices[i]) ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance678 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        v.push(tVec);
                                    }
                                }
                            });
                            const __exports = __callInstance678.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance28.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance677 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.SetAsVector(v, vertexCount);
                }
            }
        });
        const __exports = __callInstance677.exports;
        return __exports.data();
    })();
};
b2PolygonShape.prototype.SetAsVector = function (vertices, vertexCount) {
    (() => {
        const __ifInstance97 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        vertexCount = vertices.length;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance97.exports;
        return __exports.data(typeof vertexCount == lS(0, 18) ? 1 : 0);
    })();
    (() => {
        const __callInstance676 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(2 <= vertexCount);
                }
            }
        });
        const __exports = __callInstance676.exports;
        return __exports.data();
    })();
    this.m_vertexCount = vertexCount;
    (() => {
        const __callInstance675 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.Reserve(vertexCount);
                }
            }
        });
        const __exports = __callInstance675.exports;
        return __exports.data();
    })();
    var i = 0;
    (() => {
        i = 0;
        const __forInstance29 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_vertexCount ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance674 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_vertices[i].SetV(vertices[i]);
                                    }
                                }
                            });
                            const __exports = __callInstance674.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance29.exports;
        return __exports.data();
    })();
    (() => {
        i = 0;
        const __forInstance30 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_vertexCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var i1 = i;
                        var i2 = i + 1 < this.m_vertexCount ? i + 1 : 0;
                        var edge = b2Math.SubtractVV(this.m_vertices[i2], this.m_vertices[i1]);
                        (() => {
                            const __callInstance673 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        b2Settings.b2Assert(edge.LengthSquared() > Number.MIN_VALUE);
                                    }
                                }
                            });
                            const __exports = __callInstance673.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance672 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_normals[i].SetV(b2Math.CrossVF(edge, 1));
                                    }
                                }
                            });
                            const __exports = __callInstance672.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance671 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_normals[i].Normalize();
                                    }
                                }
                            });
                            const __exports = __callInstance671.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance30.exports;
        return __exports.data();
    })();
    this.m_centroid = b2PolygonShape.ComputeCentroid(this.m_vertices, this.m_vertexCount);
};
b2PolygonShape.prototype.SetAsBox = function (hx, hy) {
    this.m_vertexCount = 4;
    (() => {
        const __callInstance670 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.Reserve(4);
                }
            }
        });
        const __exports = __callInstance670.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance669 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[0].Set(-hx, -hy);
                }
            }
        });
        const __exports = __callInstance669.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance668 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[1].Set(hx, -hy);
                }
            }
        });
        const __exports = __callInstance668.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance667 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[2].Set(hx, hy);
                }
            }
        });
        const __exports = __callInstance667.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance666 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[3].Set(-hx, hy);
                }
            }
        });
        const __exports = __callInstance666.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance665 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normals[0].Set(0, -1);
                }
            }
        });
        const __exports = __callInstance665.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance664 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normals[1].Set(1, 0);
                }
            }
        });
        const __exports = __callInstance664.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance663 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normals[2].Set(0, 1);
                }
            }
        });
        const __exports = __callInstance663.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance662 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normals[3].Set(-1, 0);
                }
            }
        });
        const __exports = __callInstance662.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance661 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_centroid.SetZero();
                }
            }
        });
        const __exports = __callInstance661.exports;
        return __exports.data();
    })();
};
b2PolygonShape.prototype.SetAsOrientedBox = function (hx, hy, center, angle) {
    this.m_vertexCount = 4;
    (() => {
        const __callInstance660 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.Reserve(4);
                }
            }
        });
        const __exports = __callInstance660.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance659 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[0].Set(-hx, -hy);
                }
            }
        });
        const __exports = __callInstance659.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance658 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[1].Set(hx, -hy);
                }
            }
        });
        const __exports = __callInstance658.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance657 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[2].Set(hx, hy);
                }
            }
        });
        const __exports = __callInstance657.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance656 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[3].Set(-hx, hy);
                }
            }
        });
        const __exports = __callInstance656.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance655 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normals[0].Set(0, -1);
                }
            }
        });
        const __exports = __callInstance655.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance654 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normals[1].Set(1, 0);
                }
            }
        });
        const __exports = __callInstance654.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance653 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normals[2].Set(0, 1);
                }
            }
        });
        const __exports = __callInstance653.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance652 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normals[3].Set(-1, 0);
                }
            }
        });
        const __exports = __callInstance652.exports;
        return __exports.data();
    })();
    this.m_centroid = center;
    var xf = new b2Transform();
    xf.position = center;
    (() => {
        const __callInstance651 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    xf.R.Set(angle);
                }
            }
        });
        const __exports = __callInstance651.exports;
        return __exports.data();
    })();
    (() => {
        var i = 0;
        const __forInstance31 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_vertexCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        this.m_vertices[i] = b2Math.MulX(xf, this.m_vertices[i]);
                        this.m_normals[i] = b2Math.MulMV(xf.R, this.m_normals[i]);
                    }
                }
            }
        });
        const __exports = __forInstance31.exports;
        return __exports.data();
    })();
};
b2PolygonShape.prototype.SetAsEdge = function (v1, v2) {
    this.m_vertexCount = 2;
    (() => {
        const __callInstance650 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.Reserve(2);
                }
            }
        });
        const __exports = __callInstance650.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance649 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[0].SetV(v1);
                }
            }
        });
        const __exports = __callInstance649.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance648 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_vertices[1].SetV(v2);
                }
            }
        });
        const __exports = __callInstance648.exports;
        return __exports.data();
    })();
    this.m_centroid.x = 0.5 * (v1.x + v2.x);
    this.m_centroid.y = 0.5 * (v1.y + v2.y);
    this.m_normals[0] = b2Math.CrossVF(b2Math.SubtractVV(v2, v1), 1);
    (() => {
        const __callInstance647 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_normals[0].Normalize();
                }
            }
        });
        const __exports = __callInstance647.exports;
        return __exports.data();
    })();
    this.m_normals[1].x = -this.m_normals[0].x;
    this.m_normals[1].y = -this.m_normals[0].y;
};
b2PolygonShape.prototype.TestPoint = function (xf, p) {
    var tVec;
    var tMat = xf.R;
    var tX = p.x - xf.position.x;
    var tY = p.y - xf.position.y;
    var pLocalX = tX * tMat.col1.x + tY * tMat.col1.y;
    var pLocalY = tX * tMat.col2.x + tY * tMat.col2.y;
    for (var i = 0; i < this.m_vertexCount; ++i) {
        tVec = this.m_vertices[i];
        tX = pLocalX - tVec.x;
        tY = pLocalY - tVec.y;
        tVec = this.m_normals[i];
        var dot = tVec.x * tX + tVec.y * tY;
        if (dot > 0) {
            return false;
        }
    }
    return true;
};
b2PolygonShape.prototype.RayCast = function (output, input, transform) {
    var lower = 0;
    var upper = input.maxFraction;
    var tX;
    var tY;
    var tMat;
    var tVec;
    tX = input.p1.x - transform.position.x;
    tY = input.p1.y - transform.position.y;
    tMat = transform.R;
    var p1X = tX * tMat.col1.x + tY * tMat.col1.y;
    var p1Y = tX * tMat.col2.x + tY * tMat.col2.y;
    tX = input.p2.x - transform.position.x;
    tY = input.p2.y - transform.position.y;
    tMat = transform.R;
    var p2X = tX * tMat.col1.x + tY * tMat.col1.y;
    var p2Y = tX * tMat.col2.x + tY * tMat.col2.y;
    var dX = p2X - p1X;
    var dY = p2Y - p1Y;
    var index = -1;
    for (var i = 0; i < this.m_vertexCount; ++i) {
        tVec = this.m_vertices[i];
        tX = tVec.x - p1X;
        tY = tVec.y - p1Y;
        tVec = this.m_normals[i];
        var numerator = tVec.x * tX + tVec.y * tY;
        var denominator = tVec.x * dX + tVec.y * dY;
        if (denominator == 0) {
            if (numerator < 0) {
                return false;
            }
        } else {
            (() => {
                const __ifInstance98 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                lower = numerator / denominator;
                                index = i;
                            }
                        },
                        impFunc2: () => {
                            {
                                (() => {
                                    const __ifInstance99 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                {
                                                    upper = numerator / denominator;
                                                }
                                            },
                                            impFunc2: () => {
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance99.exports;
                                    return __exports.data(denominator > 0 && numerator < upper * denominator ? 1 : 0);
                                })();
                            }
                        }
                    }
                });
                const __exports = __ifInstance98.exports;
                return __exports.data(denominator < 0 && numerator < lower * denominator ? 1 : 0);
            })();
        }
        if (upper < lower - Number.MIN_VALUE) {
            return false;
        }
    }
    if (index >= 0) {
        output.fraction = lower;
        tMat = transform.R;
        tVec = this.m_normals[index];
        output.normal.x = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
        output.normal.y = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
        return true;
    }
    return false;
};
b2PolygonShape.prototype.ComputeAABB = function (aabb, xf) {
    var tMat = xf.R;
    var tVec = this.m_vertices[0];
    var lowerX = xf.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    var lowerY = xf.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    var upperX = lowerX;
    var upperY = lowerY;
    (() => {
        var i = 1;
        const __forInstance32 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_vertexCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        tVec = this.m_vertices[i];
                        var vX = xf.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
                        var vY = xf.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
                        lowerX = lowerX < vX ? lowerX : vX;
                        lowerY = lowerY < vY ? lowerY : vY;
                        upperX = upperX > vX ? upperX : vX;
                        upperY = upperY > vY ? upperY : vY;
                    }
                }
            }
        });
        const __exports = __forInstance32.exports;
        return __exports.data();
    })();
    aabb.lowerBound.x = lowerX - this.m_radius;
    aabb.lowerBound.y = lowerY - this.m_radius;
    aabb.upperBound.x = upperX + this.m_radius;
    aabb.upperBound.y = upperY + this.m_radius;
};
b2PolygonShape.prototype.ComputeMass = function (massData, density) {
    if (this.m_vertexCount == 2) {
        massData.center.x = 0.5 * (this.m_vertices[0].x + this.m_vertices[1].x);
        massData.center.y = 0.5 * (this.m_vertices[0].y + this.m_vertices[1].y);
        massData.mass = 0;
        massData.I = 0;
        return;
    }
    var centerX = 0;
    var centerY = 0;
    var area = 0;
    var I = 0;
    var p1X = 0;
    var p1Y = 0;
    var k_inv3 = 1 / 3;
    (() => {
        var i = 0;
        const __forInstance33 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_vertexCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var p2 = this.m_vertices[i];
                        var p3 = i + 1 < this.m_vertexCount ? this.m_vertices[parseInt(i + 1)] : this.m_vertices[0];
                        var e1X = p2.x - p1X;
                        var e1Y = p2.y - p1Y;
                        var e2X = p3.x - p1X;
                        var e2Y = p3.y - p1Y;
                        var D = e1X * e2Y - e1Y * e2X;
                        var triangleArea = 0.5 * D;
                        area += triangleArea;
                        centerX += triangleArea * k_inv3 * (p1X + p2.x + p3.x);
                        centerY += triangleArea * k_inv3 * (p1Y + p2.y + p3.y);
                        var px = p1X;
                        var py = p1Y;
                        var ex1 = e1X;
                        var ey1 = e1Y;
                        var ex2 = e2X;
                        var ey2 = e2Y;
                        var intx2 = k_inv3 * (0.25 * (ex1 * ex1 + ex2 * ex1 + ex2 * ex2) + (px * ex1 + px * ex2)) + 0.5 * px * px;
                        var inty2 = k_inv3 * (0.25 * (ey1 * ey1 + ey2 * ey1 + ey2 * ey2) + (py * ey1 + py * ey2)) + 0.5 * py * py;
                        I += D * (intx2 + inty2);
                    }
                }
            }
        });
        const __exports = __forInstance33.exports;
        return __exports.data();
    })();
    massData.mass = density * area;
    centerX *= 1 / area;
    centerY *= 1 / area;
    (() => {
        const __callInstance646 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    massData.center.Set(centerX, centerY);
                }
            }
        });
        const __exports = __callInstance646.exports;
        return __exports.data();
    })();
    massData.I = density * I;
};
b2PolygonShape.prototype.ComputeSubmergedArea = function (normal, offset, xf, c) {
    var normalL = b2Math.MulTMV(xf.R, normal);
    var offsetL = offset - b2Math.Dot(normal, xf.position);
    var depths = new Array();
    var diveCount = 0;
    var intoIndex = -1;
    var outoIndex = -1;
    var lastSubmerged = false;
    var i = 0;
    (() => {
        i = 0;
        const __forInstance34 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_vertexCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        depths[i] = b2Math.Dot(normalL, this.m_vertices[i]) - offsetL;
                        var isSubmerged = depths[i] < -Number.MIN_VALUE;
                        (() => {
                            const __ifInstance100 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __ifInstance101 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance102 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    intoIndex = i - 1;
                                                                                    diveCount++;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance102.exports;
                                                                    return __exports.data(!lastSubmerged ? 1 : 0);
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance103 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    outoIndex = i - 1;
                                                                                    diveCount++;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance103.exports;
                                                                    return __exports.data(lastSubmerged ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance101.exports;
                                                return __exports.data(isSubmerged ? 1 : 0);
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance100.exports;
                            return __exports.data(i > 0 ? 1 : 0);
                        })();
                        lastSubmerged = isSubmerged;
                    }
                }
            }
        });
        const __exports = __forInstance34.exports;
        return __exports.data();
    })();
    switch (diveCount) {
    case 0:
        if (lastSubmerged) {
            var md = new b2MassData();
            (() => {
                const __callInstance645 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.ComputeMass(md, 1);
                        }
                    }
                });
                const __exports = __callInstance645.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance644 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            c.SetV(b2Math.MulX(xf, md.center));
                        }
                    }
                });
                const __exports = __callInstance644.exports;
                return __exports.data();
            })();
            return md.mass;
        } else {
            return 0;
        }
        break;
    case 1:
        (() => {
            const __ifInstance104 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            intoIndex = this.m_vertexCount - 1;
                        }
                    },
                    impFunc2: () => {
                        {
                            outoIndex = this.m_vertexCount - 1;
                        }
                    }
                }
            });
            const __exports = __ifInstance104.exports;
            return __exports.data(intoIndex == -1 ? 1 : 0);
        })();
        break;
    }
    var intoIndex2 = (intoIndex + 1) % this.m_vertexCount;
    var outoIndex2 = (outoIndex + 1) % this.m_vertexCount;
    var intoLamdda = (0 - depths[intoIndex]) / (depths[intoIndex2] - depths[intoIndex]);
    var outoLamdda = (0 - depths[outoIndex]) / (depths[outoIndex2] - depths[outoIndex]);
    var intoVec = new b2Vec2(this.m_vertices[intoIndex].x * (1 - intoLamdda) + this.m_vertices[intoIndex2].x * intoLamdda, this.m_vertices[intoIndex].y * (1 - intoLamdda) + this.m_vertices[intoIndex2].y * intoLamdda);
    var outoVec = new b2Vec2(this.m_vertices[outoIndex].x * (1 - outoLamdda) + this.m_vertices[outoIndex2].x * outoLamdda, this.m_vertices[outoIndex].y * (1 - outoLamdda) + this.m_vertices[outoIndex2].y * outoLamdda);
    var area = 0;
    var center = new b2Vec2();
    var p2 = this.m_vertices[intoIndex2];
    var p3;
    i = intoIndex2;
    (() => {
        const __forInstance117 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i != outoIndex2 ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        i = (i + 1) % this.m_vertexCount;
                        (() => {
                            const __ifInstance105 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            p3 = outoVec;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            p3 = this.m_vertices[i];
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance105.exports;
                            return __exports.data(i == outoIndex2 ? 1 : 0);
                        })();
                        var triangleArea = 0.5 * ((p2.x - intoVec.x) * (p3.y - intoVec.y) - (p2.y - intoVec.y) * (p3.x - intoVec.x));
                        area += triangleArea;
                        center.x += triangleArea * (intoVec.x + p2.x + p3.x) / 3;
                        center.y += triangleArea * (intoVec.y + p2.y + p3.y) / 3;
                        p2 = p3;
                    }
                }
            }
        });
        const __exports = __forInstance117.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance643 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    center.Multiply(1 / area);
                }
            }
        });
        const __exports = __callInstance643.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance642 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    c.SetV(b2Math.MulX(xf, center));
                }
            }
        });
        const __exports = __callInstance642.exports;
        return __exports.data();
    })();
    return area;
};
b2PolygonShape.prototype.GetVertexCount = function () {
    return this.m_vertexCount;
};
b2PolygonShape.prototype.GetVertices = function () {
    return this.m_vertices;
};
b2PolygonShape.prototype.GetNormals = function () {
    return this.m_normals;
};
b2PolygonShape.prototype.GetSupport = function (d) {
    var bestIndex = 0;
    var bestValue = this.m_vertices[0].x * d.x + this.m_vertices[0].y * d.y;
    (() => {
        var i = 1;
        const __forInstance35 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_vertexCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var value = this.m_vertices[i].x * d.x + this.m_vertices[i].y * d.y;
                        (() => {
                            const __ifInstance106 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            bestIndex = i;
                                            bestValue = value;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance106.exports;
                            return __exports.data(value > bestValue ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance35.exports;
        return __exports.data();
    })();
    return bestIndex;
};
b2PolygonShape.prototype.GetSupportVertex = function (d) {
    var bestIndex = 0;
    var bestValue = this.m_vertices[0].x * d.x + this.m_vertices[0].y * d.y;
    (() => {
        var i = 1;
        const __forInstance36 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_vertexCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var value = this.m_vertices[i].x * d.x + this.m_vertices[i].y * d.y;
                        (() => {
                            const __ifInstance107 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            bestIndex = i;
                                            bestValue = value;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance107.exports;
                            return __exports.data(value > bestValue ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance36.exports;
        return __exports.data();
    })();
    return this.m_vertices[bestIndex];
};
b2PolygonShape.prototype.m_centroid = null;
b2PolygonShape.prototype.m_vertices = null;
b2PolygonShape.prototype.m_normals = null;
b2PolygonShape.prototype.m_vertexCount = 0;
var b2Fixture = function () {
    (() => {
        const __callInstance641 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance641.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance640 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance640.exports;
        return __exports.data();
    })();
};
b2Fixture.prototype.__constructor = function () {
    this.m_aabb = new b2AABB();
    this.m_userData = null;
    this.m_body = null;
    this.m_next = null;
    this.m_shape = null;
    this.m_density = 0;
    this.m_friction = 0;
    this.m_restitution = 0;
};
b2Fixture.prototype.__varz = function () {
    this.m_filter = new b2FilterData();
};
b2Fixture.prototype.Create = function (body, xf, def) {
    this.m_userData = def.userData;
    this.m_friction = def.friction;
    this.m_restitution = def.restitution;
    this.m_body = body;
    this.m_next = null;
    this.m_filter = def.filter.Copy();
    this.m_isSensor = def.isSensor;
    this.m_shape = def.shape.Copy();
    this.m_density = def.density;
};
b2Fixture.prototype.Destroy = function () {
    this.m_shape = null;
};
b2Fixture.prototype.CreateProxy = function (broadPhase, xf) {
    (() => {
        const __callInstance639 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_shape.ComputeAABB(this.m_aabb, xf);
                }
            }
        });
        const __exports = __callInstance639.exports;
        return __exports.data();
    })();
    this.m_proxy = broadPhase.CreateProxy(this.m_aabb, this);
};
b2Fixture.prototype.DestroyProxy = function (broadPhase) {
    if (this.m_proxy == null) {
        return;
    }
    (() => {
        const __callInstance638 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    broadPhase.DestroyProxy(this.m_proxy);
                }
            }
        });
        const __exports = __callInstance638.exports;
        return __exports.data();
    })();
    this.m_proxy = null;
};
b2Fixture.prototype.Synchronize = function (broadPhase, transform1, transform2) {
    if (!this.m_proxy) {
        return;
    }
    var aabb1 = new b2AABB();
    var aabb2 = new b2AABB();
    (() => {
        const __callInstance637 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_shape.ComputeAABB(aabb1, transform1);
                }
            }
        });
        const __exports = __callInstance637.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance636 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_shape.ComputeAABB(aabb2, transform2);
                }
            }
        });
        const __exports = __callInstance636.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance635 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_aabb.Combine(aabb1, aabb2);
                }
            }
        });
        const __exports = __callInstance635.exports;
        return __exports.data();
    })();
    var displacement = b2Math.SubtractVV(transform2.position, transform1.position);
    (() => {
        const __callInstance634 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    broadPhase.MoveProxy(this.m_proxy, this.m_aabb, displacement);
                }
            }
        });
        const __exports = __callInstance634.exports;
        return __exports.data();
    })();
};
b2Fixture.prototype.GetType = function () {
    return this.m_shape.GetType();
};
b2Fixture.prototype.GetShape = function () {
    return this.m_shape;
};
b2Fixture.prototype.SetSensor = function (sensor) {
    if (this.m_isSensor == sensor) {
        return;
    }
    this.m_isSensor = sensor;
    if (this.m_body == null) {
        return;
    }
    var edge = this.m_body.GetContactList();
    (() => {
        const __forInstance118 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return edge ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        var contact = edge.contact;
                        var fixtureA = contact.GetFixtureA();
                        var fixtureB = contact.GetFixtureB();
                        (() => {
                            const __ifInstance108 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance633 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            contact.SetSensor(fixtureA.IsSensor() || fixtureB.IsSensor());
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance633.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance108.exports;
                            return __exports.data(fixtureA == this || fixtureB == this ? 1 : 0);
                        })();
                        edge = edge.next;
                    }
                }
            }
        });
        const __exports = __forInstance118.exports;
        return __exports.data();
    })();
};
b2Fixture.prototype.IsSensor = function () {
    return this.m_isSensor;
};
b2Fixture.prototype.SetFilterData = function (filter) {
    this.m_filter = filter.Copy();
    if (this.m_body) {
        return;
    }
    var edge = this.m_body.GetContactList();
    (() => {
        const __forInstance119 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return edge ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        var contact = edge.contact;
                        var fixtureA = contact.GetFixtureA();
                        var fixtureB = contact.GetFixtureB();
                        (() => {
                            const __ifInstance109 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance632 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            contact.FlagForFiltering();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance632.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance109.exports;
                            return __exports.data(fixtureA == this || fixtureB == this ? 1 : 0);
                        })();
                        edge = edge.next;
                    }
                }
            }
        });
        const __exports = __forInstance119.exports;
        return __exports.data();
    })();
};
b2Fixture.prototype.GetFilterData = function () {
    return this.m_filter.Copy();
};
b2Fixture.prototype.GetBody = function () {
    return this.m_body;
};
b2Fixture.prototype.GetNext = function () {
    return this.m_next;
};
b2Fixture.prototype.GetUserData = function () {
    return this.m_userData;
};
b2Fixture.prototype.SetUserData = function (data) {
    this.m_userData = data;
};
b2Fixture.prototype.TestPoint = function (p) {
    return this.m_shape.TestPoint(this.m_body.GetTransform(), p);
};
b2Fixture.prototype.RayCast = function (output, input) {
    return this.m_shape.RayCast(output, input, this.m_body.GetTransform());
};
b2Fixture.prototype.GetMassData = function (massData) {
    (() => {
        const __ifInstance110 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        massData = new b2MassData();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance110.exports;
        return __exports.data(massData == null ? 1 : 0);
    })();
    (() => {
        const __callInstance631 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_shape.ComputeMass(massData, this.m_density);
                }
            }
        });
        const __exports = __callInstance631.exports;
        return __exports.data();
    })();
    return massData;
};
b2Fixture.prototype.SetDensity = function (density) {
    this.m_density = density;
};
b2Fixture.prototype.GetDensity = function () {
    return this.m_density;
};
b2Fixture.prototype.GetFriction = function () {
    return this.m_friction;
};
b2Fixture.prototype.SetFriction = function (friction) {
    this.m_friction = friction;
};
b2Fixture.prototype.GetRestitution = function () {
    return this.m_restitution;
};
b2Fixture.prototype.SetRestitution = function (restitution) {
    this.m_restitution = restitution;
};
b2Fixture.prototype.GetAABB = function () {
    return this.m_aabb;
};
b2Fixture.prototype.m_massData = null;
b2Fixture.prototype.m_aabb = null;
b2Fixture.prototype.m_density = null;
b2Fixture.prototype.m_next = null;
b2Fixture.prototype.m_body = null;
b2Fixture.prototype.m_shape = null;
b2Fixture.prototype.m_friction = null;
b2Fixture.prototype.m_restitution = null;
b2Fixture.prototype.m_proxy = null;
b2Fixture.prototype.m_filter = new b2FilterData();
b2Fixture.prototype.m_isSensor = null;
b2Fixture.prototype.m_userData = null;
var b2DynamicTreeNode = function () {
    (() => {
        const __callInstance630 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance630.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance629 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance629.exports;
        return __exports.data();
    })();
};
b2DynamicTreeNode.prototype.__constructor = function () {
};
b2DynamicTreeNode.prototype.__varz = function () {
    this.aabb = new b2AABB();
};
b2DynamicTreeNode.prototype.IsLeaf = function () {
    return this.child1 == null;
};
b2DynamicTreeNode.prototype.userData = null;
b2DynamicTreeNode.prototype.aabb = new b2AABB();
b2DynamicTreeNode.prototype.parent = null;
b2DynamicTreeNode.prototype.child1 = null;
b2DynamicTreeNode.prototype.child2 = null;
var b2BodyDef = function () {
    (() => {
        const __callInstance628 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance628.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance627 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance627.exports;
        return __exports.data();
    })();
};
b2BodyDef.prototype.__constructor = function () {
    this.userData = null;
    (() => {
        const __callInstance626 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.position.Set(0, 0);
                }
            }
        });
        const __exports = __callInstance626.exports;
        return __exports.data();
    })();
    this.angle = 0;
    (() => {
        const __callInstance625 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.linearVelocity.Set(0, 0);
                }
            }
        });
        const __exports = __callInstance625.exports;
        return __exports.data();
    })();
    this.angularVelocity = 0;
    this.linearDamping = 0;
    this.angularDamping = 0;
    this.allowSleep = true;
    this.awake = true;
    this.fixedRotation = false;
    this.bullet = false;
    this.type = b2Body.b2_staticBody;
    this.active = true;
    this.inertiaScale = 1;
};
b2BodyDef.prototype.__varz = function () {
    this.position = new b2Vec2();
    this.linearVelocity = new b2Vec2();
};
b2BodyDef.prototype.type = 0;
b2BodyDef.prototype.position = new b2Vec2();
b2BodyDef.prototype.angle = null;
b2BodyDef.prototype.linearVelocity = new b2Vec2();
b2BodyDef.prototype.angularVelocity = null;
b2BodyDef.prototype.linearDamping = null;
b2BodyDef.prototype.angularDamping = null;
b2BodyDef.prototype.allowSleep = null;
b2BodyDef.prototype.awake = null;
b2BodyDef.prototype.fixedRotation = null;
b2BodyDef.prototype.bullet = null;
b2BodyDef.prototype.active = null;
b2BodyDef.prototype.userData = null;
b2BodyDef.prototype.inertiaScale = null;
var b2DynamicTreeBroadPhase = function () {
    (() => {
        const __callInstance624 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance624.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance623 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance623.exports;
        return __exports.data();
    })();
};
b2DynamicTreeBroadPhase.prototype.__constructor = function () {
};
b2DynamicTreeBroadPhase.prototype.__varz = function () {
    this.m_tree = new b2DynamicTree();
    this.m_moveBuffer = new Array();
    this.m_pairBuffer = new Array();
};
b2DynamicTreeBroadPhase.prototype.BufferMove = function (proxy) {
    this.m_moveBuffer[this.m_moveBuffer.length] = proxy;
};
b2DynamicTreeBroadPhase.prototype.UnBufferMove = function (proxy) {
    var i = this.m_moveBuffer.indexOf(proxy);
    (() => {
        const __callInstance622 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_moveBuffer.splice(i, 1);
                }
            }
        });
        const __exports = __callInstance622.exports;
        return __exports.data();
    })();
};
b2DynamicTreeBroadPhase.prototype.ComparePairs = function (pair1, pair2) {
    return 0;
};
b2DynamicTreeBroadPhase.prototype.CreateProxy = function (aabb, userData) {
    var proxy = this.m_tree.CreateProxy(aabb, userData);
    ++this.m_proxyCount;
    (() => {
        const __callInstance621 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.BufferMove(proxy);
                }
            }
        });
        const __exports = __callInstance621.exports;
        return __exports.data();
    })();
    return proxy;
};
b2DynamicTreeBroadPhase.prototype.DestroyProxy = function (proxy) {
    (() => {
        const __callInstance620 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.UnBufferMove(proxy);
                }
            }
        });
        const __exports = __callInstance620.exports;
        return __exports.data();
    })();
    --this.m_proxyCount;
    (() => {
        const __callInstance619 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_tree.DestroyProxy(proxy);
                }
            }
        });
        const __exports = __callInstance619.exports;
        return __exports.data();
    })();
};
b2DynamicTreeBroadPhase.prototype.MoveProxy = function (proxy, aabb, displacement) {
    var buffer = this.m_tree.MoveProxy(proxy, aabb, displacement);
    (() => {
        const __ifInstance111 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance618 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.BufferMove(proxy);
                                    }
                                }
                            });
                            const __exports = __callInstance618.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance111.exports;
        return __exports.data(buffer ? 1 : 0);
    })();
};
b2DynamicTreeBroadPhase.prototype.TestOverlap = function (proxyA, proxyB) {
    var aabbA = this.m_tree.GetFatAABB(proxyA);
    var aabbB = this.m_tree.GetFatAABB(proxyB);
    return aabbA.TestOverlap(aabbB);
};
b2DynamicTreeBroadPhase.prototype.GetUserData = function (proxy) {
    return this.m_tree.GetUserData(proxy);
};
b2DynamicTreeBroadPhase.prototype.GetFatAABB = function (proxy) {
    return this.m_tree.GetFatAABB(proxy);
};
b2DynamicTreeBroadPhase.prototype.GetProxyCount = function () {
    return this.m_proxyCount;
};
b2DynamicTreeBroadPhase.prototype.UpdatePairs = function (callback) {
    this.m_pairCount = 0;
    for (var i = 0, queryProxy = null; i < this.m_moveBuffer.length, queryProxy = this.m_moveBuffer[i]; i++) {
        var that = this;
        function QueryCallback(proxy) {
            if (proxy == queryProxy) {
                return true;
            }
            (() => {
                const __ifInstance112 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                that.m_pairBuffer[that.m_pairCount] = new b2DynamicTreePair();
                            }
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance112.exports;
                return __exports.data(that.m_pairCount == that.m_pairBuffer.length ? 1 : 0);
            })();
            var pair = that.m_pairBuffer[that.m_pairCount];
            pair.proxyA = proxy < queryProxy ? proxy : queryProxy;
            pair.proxyB = proxy >= queryProxy ? proxy : queryProxy;
            ++that.m_pairCount;
            return true;
        }
        var fatAABB = this.m_tree.GetFatAABB(queryProxy);
        (() => {
            const __callInstance617 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_tree.Query(QueryCallback, fatAABB);
                    }
                }
            });
            const __exports = __callInstance617.exports;
            return __exports.data();
        })();
    }
    this.m_moveBuffer.length = 0;
    for (var i = 0; i < this.m_pairCount;) {
        var primaryPair = this.m_pairBuffer[i];
        var userDataA = this.m_tree.GetUserData(primaryPair.proxyA);
        var userDataB = this.m_tree.GetUserData(primaryPair.proxyB);
        (() => {
            const __callInstance616 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        callback(userDataA, userDataB);
                    }
                }
            });
            const __exports = __callInstance616.exports;
            return __exports.data();
        })();
        ++i;
        while (i < this.m_pairCount) {
            var pair = this.m_pairBuffer[i];
            if (pair.proxyA != primaryPair.proxyA || pair.proxyB != primaryPair.proxyB) {
                break;
            }
            ++i;
        }
    }
};
b2DynamicTreeBroadPhase.prototype.Query = function (callback, aabb) {
    (() => {
        const __callInstance615 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_tree.Query(callback, aabb);
                }
            }
        });
        const __exports = __callInstance615.exports;
        return __exports.data();
    })();
};
b2DynamicTreeBroadPhase.prototype.RayCast = function (callback, input) {
    (() => {
        const __callInstance614 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_tree.RayCast(callback, input);
                }
            }
        });
        const __exports = __callInstance614.exports;
        return __exports.data();
    })();
};
b2DynamicTreeBroadPhase.prototype.Validate = function () {
};
b2DynamicTreeBroadPhase.prototype.Rebalance = function (iterations) {
    (() => {
        const __callInstance613 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_tree.Rebalance(iterations);
                }
            }
        });
        const __exports = __callInstance613.exports;
        return __exports.data();
    })();
};
b2DynamicTreeBroadPhase.prototype.m_tree = new b2DynamicTree();
b2DynamicTreeBroadPhase.prototype.m_proxyCount = 0;
b2DynamicTreeBroadPhase.prototype.m_moveBuffer = new Array();
b2DynamicTreeBroadPhase.prototype.m_pairBuffer = new Array();
b2DynamicTreeBroadPhase.prototype.m_pairCount = 0;
var b2BroadPhase = function () {
    (() => {
        const __callInstance612 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance612.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance611 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance611.exports;
        return __exports.data();
    })();
};
b2BroadPhase.prototype.__constructor = function (worldAABB) {
    var i = 0;
    (() => {
        const __callInstance610 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_pairManager.Initialize(this);
                }
            }
        });
        const __exports = __callInstance610.exports;
        return __exports.data();
    })();
    this.m_worldAABB = worldAABB;
    this.m_proxyCount = 0;
    this.m_bounds = new Array();
    (() => {
        i = 0;
        const __forInstance37 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < 2 ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.m_bounds[i] = new Array();
                    }
                }
            }
        });
        const __exports = __forInstance37.exports;
        return __exports.data();
    })();
    var dX = worldAABB.upperBound.x - worldAABB.lowerBound.x;
    var dY = worldAABB.upperBound.y - worldAABB.lowerBound.y;
    this.m_quantizationFactor.x = b2Settings.USHRT_MAX / dX;
    this.m_quantizationFactor.y = b2Settings.USHRT_MAX / dY;
    this.m_timeStamp = 1;
    this.m_queryResultCount = 0;
};
b2BroadPhase.prototype.__varz = function () {
    this.m_pairManager = new b2PairManager();
    this.m_proxyPool = new Array();
    this.m_querySortKeys = new Array();
    this.m_queryResults = new Array();
    this.m_quantizationFactor = new b2Vec2();
};
b2BroadPhase.BinarySearch = function (bounds, count, value) {
    var low = 0;
    var high = count - 1;
    while (low <= high) {
        var mid = Math.round((low + high) / 2);
        var bound = bounds[mid];
        if (bound.value > value) {
            high = mid - 1;
        } else {
            if (bound.value < value) {
                low = mid + 1;
            } else {
                return parseInt(mid);
            }
        }
    }
    return parseInt(low);
};
b2BroadPhase.s_validate = false;
b2BroadPhase.b2_invalid = b2Settings.USHRT_MAX;
b2BroadPhase.b2_nullEdge = b2Settings.USHRT_MAX;
b2BroadPhase.prototype.ComputeBounds = function (lowerValues, upperValues, aabb) {
    var minVertexX = aabb.lowerBound.x;
    var minVertexY = aabb.lowerBound.y;
    minVertexX = b2Math.Min(minVertexX, this.m_worldAABB.upperBound.x);
    minVertexY = b2Math.Min(minVertexY, this.m_worldAABB.upperBound.y);
    minVertexX = b2Math.Max(minVertexX, this.m_worldAABB.lowerBound.x);
    minVertexY = b2Math.Max(minVertexY, this.m_worldAABB.lowerBound.y);
    var maxVertexX = aabb.upperBound.x;
    var maxVertexY = aabb.upperBound.y;
    maxVertexX = b2Math.Min(maxVertexX, this.m_worldAABB.upperBound.x);
    maxVertexY = b2Math.Min(maxVertexY, this.m_worldAABB.upperBound.y);
    maxVertexX = b2Math.Max(maxVertexX, this.m_worldAABB.lowerBound.x);
    maxVertexY = b2Math.Max(maxVertexY, this.m_worldAABB.lowerBound.y);
    lowerValues[0] = parseInt(this.m_quantizationFactor.x * (minVertexX - this.m_worldAABB.lowerBound.x)) & b2Settings.USHRT_MAX - 1;
    upperValues[0] = parseInt(this.m_quantizationFactor.x * (maxVertexX - this.m_worldAABB.lowerBound.x)) % 65535 | 1;
    lowerValues[1] = parseInt(this.m_quantizationFactor.y * (minVertexY - this.m_worldAABB.lowerBound.y)) & b2Settings.USHRT_MAX - 1;
    upperValues[1] = parseInt(this.m_quantizationFactor.y * (maxVertexY - this.m_worldAABB.lowerBound.y)) % 65535 | 1;
};
b2BroadPhase.prototype.TestOverlapValidate = function (p1, p2) {
    for (var axis = 0; axis < 2; ++axis) {
        var bounds = this.m_bounds[axis];
        var bound1 = bounds[p1.lowerBounds[axis]];
        var bound2 = bounds[p2.upperBounds[axis]];
        if (bound1.value > bound2.value) {
            return false;
        }
        bound1 = bounds[p1.upperBounds[axis]];
        bound2 = bounds[p2.lowerBounds[axis]];
        if (bound1.value < bound2.value) {
            return false;
        }
    }
    return true;
};
b2BroadPhase.prototype.QueryAxis = function (lowerQueryOut, upperQueryOut, lowerValue, upperValue, bounds, boundCount, axis) {
    var lowerQuery = b2BroadPhase.BinarySearch(bounds, boundCount, lowerValue);
    var upperQuery = b2BroadPhase.BinarySearch(bounds, boundCount, upperValue);
    var bound;
    (() => {
        var j = lowerQuery;
        const __forInstance38 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return j < upperQuery ? 1 : 0;
                },
                update: () => {
                    ++j;
                },
                body: () => {
                    {
                        bound = bounds[j];
                        (() => {
                            const __ifInstance113 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance609 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.IncrementOverlapCount(bound.proxy);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance609.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance113.exports;
                            return __exports.data(bound.IsLower() ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance38.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance114 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var i = lowerQuery - 1;
                        bound = bounds[i];
                        var s = bound.stabbingCount;
                        (() => {
                            const __forInstance120 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return s ? 1 : 0;
                                    },
                                    update: () => {
                                    },
                                    body: () => {
                                        {
                                            bound = bounds[i];
                                            (() => {
                                                const __ifInstance115 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                var proxy = bound.proxy;
                                                                (() => {
                                                                    const __ifInstance116 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __callInstance608 = new WebAssembly.Instance(__callWasmModule, {
                                                                                            env: {
                                                                                                impFunc: () => {
                                                                                                    this.IncrementOverlapCount(bound.proxy);
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __callInstance608.exports;
                                                                                        return __exports.data();
                                                                                    })();
                                                                                    --s;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance116.exports;
                                                                    return __exports.data(lowerQuery <= proxy.upperBounds[axis] ? 1 : 0);
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance115.exports;
                                                return __exports.data(bound.IsLower() ? 1 : 0);
                                            })();
                                            --i;
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance120.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance114.exports;
        return __exports.data(lowerQuery > 0 ? 1 : 0);
    })();
    lowerQueryOut[0] = lowerQuery;
    upperQueryOut[0] = upperQuery;
};
b2BroadPhase.prototype.IncrementOverlapCount = function (proxy) {
    (() => {
        const __ifInstance117 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        proxy.timeStamp = this.m_timeStamp;
                        proxy.overlapCount = 1;
                    }
                },
                impFunc2: () => {
                    {
                        proxy.overlapCount = 2;
                        this.m_queryResults[this.m_queryResultCount] = proxy;
                        ++this.m_queryResultCount;
                    }
                }
            }
        });
        const __exports = __ifInstance117.exports;
        return __exports.data(proxy.timeStamp < this.m_timeStamp ? 1 : 0);
    })();
};
b2BroadPhase.prototype.IncrementTimeStamp = function () {
    (() => {
        const __ifInstance118 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            var i = 0;
                            const __forInstance39 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return i < this.m_proxyPool.length ? 1 : 0;
                                    },
                                    update: () => {
                                        ++i;
                                    },
                                    body: () => {
                                        {
                                            this.m_proxyPool[i].timeStamp = 0;
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance39.exports;
                            return __exports.data();
                        })();
                        this.m_timeStamp = 1;
                    }
                },
                impFunc2: () => {
                    {
                        ++this.m_timeStamp;
                    }
                }
            }
        });
        const __exports = __ifInstance118.exports;
        return __exports.data(this.m_timeStamp == b2Settings.USHRT_MAX ? 1 : 0);
    })();
};
b2BroadPhase.prototype.InRange = function (aabb) {
    var dX;
    var dY;
    var d2X;
    var d2Y;
    dX = aabb.lowerBound.x;
    dY = aabb.lowerBound.y;
    dX -= this.m_worldAABB.upperBound.x;
    dY -= this.m_worldAABB.upperBound.y;
    d2X = this.m_worldAABB.lowerBound.x;
    d2Y = this.m_worldAABB.lowerBound.y;
    d2X -= aabb.upperBound.x;
    d2Y -= aabb.upperBound.y;
    dX = b2Math.Max(dX, d2X);
    dY = b2Math.Max(dY, d2Y);
    return b2Math.Max(dX, dY) < 0;
};
b2BroadPhase.prototype.CreateProxy = function (aabb, userData) {
    var index = 0;
    var proxy;
    var i = 0;
    var j = 0;
    (() => {
        const __ifInstance119 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_freeProxy = this.m_proxyPool[this.m_proxyCount] = new b2Proxy();
                        this.m_freeProxy.next = null;
                        this.m_freeProxy.timeStamp = 0;
                        this.m_freeProxy.overlapCount = b2BroadPhase.b2_invalid;
                        this.m_freeProxy.userData = null;
                        (() => {
                            i = 0;
                            const __forInstance40 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return i < 2 ? 1 : 0;
                                    },
                                    update: () => {
                                        i++;
                                    },
                                    body: () => {
                                        {
                                            j = this.m_proxyCount * 2;
                                            this.m_bounds[i][j++] = new b2Bound();
                                            this.m_bounds[i][j] = new b2Bound();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance40.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance119.exports;
        return __exports.data(!this.m_freeProxy ? 1 : 0);
    })();
    proxy = this.m_freeProxy;
    this.m_freeProxy = proxy.next;
    proxy.overlapCount = 0;
    proxy.userData = userData;
    var boundCount = 2 * this.m_proxyCount;
    var lowerValues = new Array();
    var upperValues = new Array();
    (() => {
        const __callInstance607 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.ComputeBounds(lowerValues, upperValues, aabb);
                }
            }
        });
        const __exports = __callInstance607.exports;
        return __exports.data();
    })();
    (() => {
        var axis = 0;
        const __forInstance41 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return axis < 2 ? 1 : 0;
                },
                update: () => {
                    ++axis;
                },
                body: () => {
                    {
                        var bounds = this.m_bounds[axis];
                        var lowerIndex = 0;
                        var upperIndex = 0;
                        var lowerIndexOut = new Array();
                        (() => {
                            const __callInstance606 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        lowerIndexOut.push(lowerIndex);
                                    }
                                }
                            });
                            const __exports = __callInstance606.exports;
                            return __exports.data();
                        })();
                        var upperIndexOut = new Array();
                        (() => {
                            const __callInstance605 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        upperIndexOut.push(upperIndex);
                                    }
                                }
                            });
                            const __exports = __callInstance605.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance604 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.QueryAxis(lowerIndexOut, upperIndexOut, lowerValues[axis], upperValues[axis], bounds, boundCount, axis);
                                    }
                                }
                            });
                            const __exports = __callInstance604.exports;
                            return __exports.data();
                        })();
                        lowerIndex = lowerIndexOut[0];
                        upperIndex = upperIndexOut[0];
                        (() => {
                            const __callInstance603 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bounds.splice(upperIndex, 0, bounds[bounds.length - 1]);
                                    }
                                }
                            });
                            const __exports = __callInstance603.exports;
                            return __exports.data();
                        })();
                        bounds.length--;
                        (() => {
                            const __callInstance602 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bounds.splice(lowerIndex, 0, bounds[bounds.length - 1]);
                                    }
                                }
                            });
                            const __exports = __callInstance602.exports;
                            return __exports.data();
                        })();
                        bounds.length--;
                        ++upperIndex;
                        var tBound1 = bounds[lowerIndex];
                        var tBound2 = bounds[upperIndex];
                        tBound1.value = lowerValues[axis];
                        tBound1.proxy = proxy;
                        tBound2.value = upperValues[axis];
                        tBound2.proxy = proxy;
                        var tBoundAS3 = bounds[parseInt(lowerIndex - 1)];
                        tBound1.stabbingCount = lowerIndex == 0 ? 0 : tBoundAS3.stabbingCount;
                        tBoundAS3 = bounds[parseInt(upperIndex - 1)];
                        tBound2.stabbingCount = tBoundAS3.stabbingCount;
                        (() => {
                            index = lowerIndex;
                            const __forInstance42 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return index < upperIndex ? 1 : 0;
                                    },
                                    update: () => {
                                        ++index;
                                    },
                                    body: () => {
                                        {
                                            tBoundAS3 = bounds[index];
                                            tBoundAS3.stabbingCount++;
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance42.exports;
                            return __exports.data();
                        })();
                        (() => {
                            index = lowerIndex;
                            const __forInstance43 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return index < boundCount + 2 ? 1 : 0;
                                    },
                                    update: () => {
                                        ++index;
                                    },
                                    body: () => {
                                        {
                                            tBound1 = bounds[index];
                                            var proxy2 = tBound1.proxy;
                                            (() => {
                                                const __ifInstance120 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                proxy2.lowerBounds[axis] = index;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                proxy2.upperBounds[axis] = index;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance120.exports;
                                                return __exports.data(tBound1.IsLower() ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance43.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance41.exports;
        return __exports.data();
    })();
    ++this.m_proxyCount;
    (() => {
        i = 0;
        const __forInstance44 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_queryResultCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance601 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_pairManager.AddBufferedPair(proxy, this.m_queryResults[i]);
                                    }
                                }
                            });
                            const __exports = __callInstance601.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance44.exports;
        return __exports.data();
    })();
    this.m_queryResultCount = 0;
    (() => {
        const __callInstance600 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.IncrementTimeStamp();
                }
            }
        });
        const __exports = __callInstance600.exports;
        return __exports.data();
    })();
    return proxy;
};
b2BroadPhase.prototype.DestroyProxy = function (proxy_) {
    var proxy = proxy_;
    var tBound1;
    var tBound2;
    var boundCount = 2 * this.m_proxyCount;
    (() => {
        var axis = 0;
        const __forInstance45 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return axis < 2 ? 1 : 0;
                },
                update: () => {
                    ++axis;
                },
                body: () => {
                    {
                        var bounds = this.m_bounds[axis];
                        var lowerIndex = proxy.lowerBounds[axis];
                        var upperIndex = proxy.upperBounds[axis];
                        tBound1 = bounds[lowerIndex];
                        var lowerValue = tBound1.value;
                        tBound2 = bounds[upperIndex];
                        var upperValue = tBound2.value;
                        (() => {
                            const __callInstance599 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bounds.splice(upperIndex, 1);
                                    }
                                }
                            });
                            const __exports = __callInstance599.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance598 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bounds.splice(lowerIndex, 1);
                                    }
                                }
                            });
                            const __exports = __callInstance598.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance597 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bounds.push(tBound1);
                                    }
                                }
                            });
                            const __exports = __callInstance597.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance596 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bounds.push(tBound2);
                                    }
                                }
                            });
                            const __exports = __callInstance596.exports;
                            return __exports.data();
                        })();
                        var tEnd = boundCount - 2;
                        (() => {
                            var index = lowerIndex;
                            const __forInstance46 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return index < tEnd ? 1 : 0;
                                    },
                                    update: () => {
                                        ++index;
                                    },
                                    body: () => {
                                        {
                                            tBound1 = bounds[index];
                                            var proxy2 = tBound1.proxy;
                                            (() => {
                                                const __ifInstance121 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                proxy2.lowerBounds[axis] = index;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                proxy2.upperBounds[axis] = index;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance121.exports;
                                                return __exports.data(tBound1.IsLower() ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance46.exports;
                            return __exports.data();
                        })();
                        tEnd = upperIndex - 1;
                        (() => {
                            var index2 = lowerIndex;
                            const __forInstance47 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return index2 < tEnd ? 1 : 0;
                                    },
                                    update: () => {
                                        ++index2;
                                    },
                                    body: () => {
                                        {
                                            tBound1 = bounds[index2];
                                            tBound1.stabbingCount--;
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance47.exports;
                            return __exports.data();
                        })();
                        var ignore = new Array();
                        (() => {
                            const __callInstance595 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.QueryAxis(ignore, ignore, lowerValue, upperValue, bounds, boundCount - 2, axis);
                                    }
                                }
                            });
                            const __exports = __callInstance595.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance45.exports;
        return __exports.data();
    })();
    (() => {
        var i = 0;
        const __forInstance48 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_queryResultCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance594 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_pairManager.RemoveBufferedPair(proxy, this.m_queryResults[i]);
                                    }
                                }
                            });
                            const __exports = __callInstance594.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance48.exports;
        return __exports.data();
    })();
    this.m_queryResultCount = 0;
    (() => {
        const __callInstance593 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.IncrementTimeStamp();
                }
            }
        });
        const __exports = __callInstance593.exports;
        return __exports.data();
    })();
    proxy.userData = null;
    proxy.overlapCount = b2BroadPhase.b2_invalid;
    proxy.lowerBounds[0] = b2BroadPhase.b2_invalid;
    proxy.lowerBounds[1] = b2BroadPhase.b2_invalid;
    proxy.upperBounds[0] = b2BroadPhase.b2_invalid;
    proxy.upperBounds[1] = b2BroadPhase.b2_invalid;
    proxy.next = this.m_freeProxy;
    this.m_freeProxy = proxy;
    --this.m_proxyCount;
};
b2BroadPhase.prototype.MoveProxy = function (proxy_, aabb, displacement) {
    var proxy = proxy_;
    var as3arr;
    var as3int = 0;
    var axis = 0;
    var index = 0;
    var bound;
    var prevBound;
    var nextBound;
    var nextProxyId = 0;
    var nextProxy;
    if (proxy == null) {
        return;
    }
    if (aabb.IsValid() == false) {
        return;
    }
    var boundCount = 2 * this.m_proxyCount;
    var newValues = new b2BoundValues();
    (() => {
        const __callInstance592 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.ComputeBounds(newValues.lowerValues, newValues.upperValues, aabb);
                }
            }
        });
        const __exports = __callInstance592.exports;
        return __exports.data();
    })();
    var oldValues = new b2BoundValues();
    (() => {
        axis = 0;
        const __forInstance49 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return axis < 2 ? 1 : 0;
                },
                update: () => {
                    ++axis;
                },
                body: () => {
                    {
                        bound = this.m_bounds[axis][proxy.lowerBounds[axis]];
                        oldValues.lowerValues[axis] = bound.value;
                        bound = this.m_bounds[axis][proxy.upperBounds[axis]];
                        oldValues.upperValues[axis] = bound.value;
                    }
                }
            }
        });
        const __exports = __forInstance49.exports;
        return __exports.data();
    })();
    (() => {
        axis = 0;
        const __forInstance50 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return axis < 2 ? 1 : 0;
                },
                update: () => {
                    ++axis;
                },
                body: () => {
                    {
                        var bounds = this.m_bounds[axis];
                        var lowerIndex = proxy.lowerBounds[axis];
                        var upperIndex = proxy.upperBounds[axis];
                        var lowerValue = newValues.lowerValues[axis];
                        var upperValue = newValues.upperValues[axis];
                        bound = bounds[lowerIndex];
                        var deltaLower = lowerValue - bound.value;
                        bound.value = lowerValue;
                        bound = bounds[upperIndex];
                        var deltaUpper = upperValue - bound.value;
                        bound.value = upperValue;
                        (() => {
                            const __ifInstance122 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            index = lowerIndex;
                                            (() => {
                                                const __forInstance121 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return index > 0 && lowerValue < bounds[parseInt(index - 1)].value ? 1 : 0;
                                                        },
                                                        update: () => {
                                                        },
                                                        body: () => {
                                                            {
                                                                bound = bounds[index];
                                                                prevBound = bounds[parseInt(index - 1)];
                                                                var prevProxy = prevBound.proxy;
                                                                prevBound.stabbingCount++;
                                                                (() => {
                                                                    const __ifInstance123 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __ifInstance124 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        (() => {
                                                                                                            const __callInstance591 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc: () => {
                                                                                                                        this.m_pairManager.AddBufferedPair(proxy, prevProxy);
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __callInstance591.exports;
                                                                                                            return __exports.data();
                                                                                                        })();
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance124.exports;
                                                                                        return __exports.data(this.TestOverlapBound(newValues, prevProxy) ? 1 : 0);
                                                                                    })();
                                                                                    as3arr = prevProxy.upperBounds;
                                                                                    as3int = as3arr[axis];
                                                                                    as3int++;
                                                                                    as3arr[axis] = as3int;
                                                                                    bound.stabbingCount++;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                                {
                                                                                    as3arr = prevProxy.lowerBounds;
                                                                                    as3int = as3arr[axis];
                                                                                    as3int++;
                                                                                    as3arr[axis] = as3int;
                                                                                    bound.stabbingCount--;
                                                                                }
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance123.exports;
                                                                    return __exports.data(prevBound.IsUpper() == true ? 1 : 0);
                                                                })();
                                                                as3arr = proxy.lowerBounds;
                                                                as3int = as3arr[axis];
                                                                as3int--;
                                                                as3arr[axis] = as3int;
                                                                (() => {
                                                                    const __callInstance590 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                bound.Swap(prevBound);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance590.exports;
                                                                    return __exports.data();
                                                                })();
                                                                --index;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance121.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance122.exports;
                            return __exports.data(deltaLower < 0 ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance125 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            index = upperIndex;
                                            (() => {
                                                const __forInstance122 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return index < boundCount - 1 && bounds[parseInt(index + 1)].value <= upperValue ? 1 : 0;
                                                        },
                                                        update: () => {
                                                        },
                                                        body: () => {
                                                            {
                                                                bound = bounds[index];
                                                                nextBound = bounds[parseInt(index + 1)];
                                                                nextProxy = nextBound.proxy;
                                                                nextBound.stabbingCount++;
                                                                (() => {
                                                                    const __ifInstance126 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __ifInstance127 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        (() => {
                                                                                                            const __callInstance589 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc: () => {
                                                                                                                        this.m_pairManager.AddBufferedPair(proxy, nextProxy);
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __callInstance589.exports;
                                                                                                            return __exports.data();
                                                                                                        })();
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance127.exports;
                                                                                        return __exports.data(this.TestOverlapBound(newValues, nextProxy) ? 1 : 0);
                                                                                    })();
                                                                                    as3arr = nextProxy.lowerBounds;
                                                                                    as3int = as3arr[axis];
                                                                                    as3int--;
                                                                                    as3arr[axis] = as3int;
                                                                                    bound.stabbingCount++;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                                {
                                                                                    as3arr = nextProxy.upperBounds;
                                                                                    as3int = as3arr[axis];
                                                                                    as3int--;
                                                                                    as3arr[axis] = as3int;
                                                                                    bound.stabbingCount--;
                                                                                }
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance126.exports;
                                                                    return __exports.data(nextBound.IsLower() == true ? 1 : 0);
                                                                })();
                                                                as3arr = proxy.upperBounds;
                                                                as3int = as3arr[axis];
                                                                as3int++;
                                                                as3arr[axis] = as3int;
                                                                (() => {
                                                                    const __callInstance588 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                bound.Swap(nextBound);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance588.exports;
                                                                    return __exports.data();
                                                                })();
                                                                index++;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance122.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance125.exports;
                            return __exports.data(deltaUpper > 0 ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance128 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            index = lowerIndex;
                                            (() => {
                                                const __forInstance123 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return index < boundCount - 1 && bounds[parseInt(index + 1)].value <= lowerValue ? 1 : 0;
                                                        },
                                                        update: () => {
                                                        },
                                                        body: () => {
                                                            {
                                                                bound = bounds[index];
                                                                nextBound = bounds[parseInt(index + 1)];
                                                                nextProxy = nextBound.proxy;
                                                                nextBound.stabbingCount--;
                                                                (() => {
                                                                    const __ifInstance129 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __ifInstance130 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        (() => {
                                                                                                            const __callInstance587 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc: () => {
                                                                                                                        this.m_pairManager.RemoveBufferedPair(proxy, nextProxy);
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __callInstance587.exports;
                                                                                                            return __exports.data();
                                                                                                        })();
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance130.exports;
                                                                                        return __exports.data(this.TestOverlapBound(oldValues, nextProxy) ? 1 : 0);
                                                                                    })();
                                                                                    as3arr = nextProxy.upperBounds;
                                                                                    as3int = as3arr[axis];
                                                                                    as3int--;
                                                                                    as3arr[axis] = as3int;
                                                                                    bound.stabbingCount--;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                                {
                                                                                    as3arr = nextProxy.lowerBounds;
                                                                                    as3int = as3arr[axis];
                                                                                    as3int--;
                                                                                    as3arr[axis] = as3int;
                                                                                    bound.stabbingCount++;
                                                                                }
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance129.exports;
                                                                    return __exports.data(nextBound.IsUpper() ? 1 : 0);
                                                                })();
                                                                as3arr = proxy.lowerBounds;
                                                                as3int = as3arr[axis];
                                                                as3int++;
                                                                as3arr[axis] = as3int;
                                                                (() => {
                                                                    const __callInstance586 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                bound.Swap(nextBound);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance586.exports;
                                                                    return __exports.data();
                                                                })();
                                                                index++;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance123.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance128.exports;
                            return __exports.data(deltaLower > 0 ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance131 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            index = upperIndex;
                                            (() => {
                                                const __forInstance124 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return index > 0 && upperValue < bounds[parseInt(index - 1)].value ? 1 : 0;
                                                        },
                                                        update: () => {
                                                        },
                                                        body: () => {
                                                            {
                                                                bound = bounds[index];
                                                                prevBound = bounds[parseInt(index - 1)];
                                                                prevProxy = prevBound.proxy;
                                                                prevBound.stabbingCount--;
                                                                (() => {
                                                                    const __ifInstance132 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __ifInstance133 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        (() => {
                                                                                                            const __callInstance585 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc: () => {
                                                                                                                        this.m_pairManager.RemoveBufferedPair(proxy, prevProxy);
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __callInstance585.exports;
                                                                                                            return __exports.data();
                                                                                                        })();
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance133.exports;
                                                                                        return __exports.data(this.TestOverlapBound(oldValues, prevProxy) ? 1 : 0);
                                                                                    })();
                                                                                    as3arr = prevProxy.lowerBounds;
                                                                                    as3int = as3arr[axis];
                                                                                    as3int++;
                                                                                    as3arr[axis] = as3int;
                                                                                    bound.stabbingCount--;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                                {
                                                                                    as3arr = prevProxy.upperBounds;
                                                                                    as3int = as3arr[axis];
                                                                                    as3int++;
                                                                                    as3arr[axis] = as3int;
                                                                                    bound.stabbingCount++;
                                                                                }
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance132.exports;
                                                                    return __exports.data(prevBound.IsLower() == true ? 1 : 0);
                                                                })();
                                                                as3arr = proxy.upperBounds;
                                                                as3int = as3arr[axis];
                                                                as3int--;
                                                                as3arr[axis] = as3int;
                                                                (() => {
                                                                    const __callInstance584 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                bound.Swap(prevBound);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance584.exports;
                                                                    return __exports.data();
                                                                })();
                                                                index--;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance124.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance131.exports;
                            return __exports.data(deltaUpper < 0 ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance50.exports;
        return __exports.data();
    })();
};
b2BroadPhase.prototype.UpdatePairs = function (callback) {
    (() => {
        const __callInstance583 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_pairManager.Commit(callback);
                }
            }
        });
        const __exports = __callInstance583.exports;
        return __exports.data();
    })();
};
b2BroadPhase.prototype.TestOverlap = function (proxyA, proxyB) {
    var proxyA_ = proxyA;
    var proxyB_ = proxyB;
    if (proxyA_.lowerBounds[0] > proxyB_.upperBounds[0]) {
        return false;
    }
    if (proxyB_.lowerBounds[0] > proxyA_.upperBounds[0]) {
        return false;
    }
    if (proxyA_.lowerBounds[1] > proxyB_.upperBounds[1]) {
        return false;
    }
    if (proxyB_.lowerBounds[1] > proxyA_.upperBounds[1]) {
        return false;
    }
    return true;
};
b2BroadPhase.prototype.GetUserData = function (proxy) {
    return proxy.userData;
};
b2BroadPhase.prototype.GetFatAABB = function (proxy_) {
    var aabb = new b2AABB();
    var proxy = proxy_;
    aabb.lowerBound.x = this.m_worldAABB.lowerBound.x + this.m_bounds[0][proxy.lowerBounds[0]].value / this.m_quantizationFactor.x;
    aabb.lowerBound.y = this.m_worldAABB.lowerBound.y + this.m_bounds[1][proxy.lowerBounds[1]].value / this.m_quantizationFactor.y;
    aabb.upperBound.x = this.m_worldAABB.lowerBound.x + this.m_bounds[0][proxy.upperBounds[0]].value / this.m_quantizationFactor.x;
    aabb.upperBound.y = this.m_worldAABB.lowerBound.y + this.m_bounds[1][proxy.upperBounds[1]].value / this.m_quantizationFactor.y;
    return aabb;
};
b2BroadPhase.prototype.GetProxyCount = function () {
    return this.m_proxyCount;
};
b2BroadPhase.prototype.Query = function (callback, aabb) {
    var lowerValues = new Array();
    var upperValues = new Array();
    (() => {
        const __callInstance582 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.ComputeBounds(lowerValues, upperValues, aabb);
                }
            }
        });
        const __exports = __callInstance582.exports;
        return __exports.data();
    })();
    var lowerIndex = 0;
    var upperIndex = 0;
    var lowerIndexOut = new Array();
    (() => {
        const __callInstance581 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    lowerIndexOut.push(lowerIndex);
                }
            }
        });
        const __exports = __callInstance581.exports;
        return __exports.data();
    })();
    var upperIndexOut = new Array();
    (() => {
        const __callInstance580 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    upperIndexOut.push(upperIndex);
                }
            }
        });
        const __exports = __callInstance580.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance579 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.QueryAxis(lowerIndexOut, upperIndexOut, lowerValues[0], upperValues[0], this.m_bounds[0], 2 * this.m_proxyCount, 0);
                }
            }
        });
        const __exports = __callInstance579.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance578 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.QueryAxis(lowerIndexOut, upperIndexOut, lowerValues[1], upperValues[1], this.m_bounds[1], 2 * this.m_proxyCount, 1);
                }
            }
        });
        const __exports = __callInstance578.exports;
        return __exports.data();
    })();
    for (var i = 0; i < this.m_queryResultCount; ++i) {
        var proxy = this.m_queryResults[i];
        if (!callback(proxy)) {
            break;
        }
    }
    this.m_queryResultCount = 0;
    (() => {
        const __callInstance577 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.IncrementTimeStamp();
                }
            }
        });
        const __exports = __callInstance577.exports;
        return __exports.data();
    })();
};
b2BroadPhase.prototype.Validate = function () {
    var pair;
    var proxy1;
    var proxy2;
    var overlap;
    (() => {
        var axis = 0;
        const __forInstance51 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return axis < 2 ? 1 : 0;
                },
                update: () => {
                    ++axis;
                },
                body: () => {
                    {
                        var bounds = this.m_bounds[axis];
                        var boundCount = 2 * this.m_proxyCount;
                        var stabbingCount = 0;
                        (() => {
                            var i = 0;
                            const __forInstance52 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return i < boundCount ? 1 : 0;
                                    },
                                    update: () => {
                                        ++i;
                                    },
                                    body: () => {
                                        {
                                            var bound = bounds[i];
                                            (() => {
                                                const __ifInstance134 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                stabbingCount++;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                stabbingCount--;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance134.exports;
                                                return __exports.data(bound.IsLower() == true ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance52.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance51.exports;
        return __exports.data();
    })();
};
b2BroadPhase.prototype.Rebalance = function (iterations) {
};
b2BroadPhase.prototype.RayCast = function (callback, input) {
    var subInput = new b2RayCastInput();
    (() => {
        const __callInstance576 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    subInput.p1.SetV(input.p1);
                }
            }
        });
        const __exports = __callInstance576.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance575 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    subInput.p2.SetV(input.p2);
                }
            }
        });
        const __exports = __callInstance575.exports;
        return __exports.data();
    })();
    subInput.maxFraction = input.maxFraction;
    var dx = (input.p2.x - input.p1.x) * this.m_quantizationFactor.x;
    var dy = (input.p2.y - input.p1.y) * this.m_quantizationFactor.y;
    var sx = dx < -Number.MIN_VALUE ? -1 : dx > Number.MIN_VALUE ? 1 : 0;
    var sy = dy < -Number.MIN_VALUE ? -1 : dy > Number.MIN_VALUE ? 1 : 0;
    var p1x = this.m_quantizationFactor.x * (input.p1.x - this.m_worldAABB.lowerBound.x);
    var p1y = this.m_quantizationFactor.y * (input.p1.y - this.m_worldAABB.lowerBound.y);
    var startValues = new Array();
    var startValues2 = new Array();
    startValues[0] = parseInt(p1x) & b2Settings.USHRT_MAX - 1;
    startValues[1] = parseInt(p1y) & b2Settings.USHRT_MAX - 1;
    startValues2[0] = startValues[0] + 1;
    startValues2[1] = startValues[1] + 1;
    var startIndices = new Array();
    var xIndex = 0;
    var yIndex = 0;
    var proxy;
    var lowerIndex = 0;
    var upperIndex = 0;
    var lowerIndexOut = new Array();
    (() => {
        const __callInstance574 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    lowerIndexOut.push(lowerIndex);
                }
            }
        });
        const __exports = __callInstance574.exports;
        return __exports.data();
    })();
    var upperIndexOut = new Array();
    (() => {
        const __callInstance573 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    upperIndexOut.push(upperIndex);
                }
            }
        });
        const __exports = __callInstance573.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance572 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.QueryAxis(lowerIndexOut, upperIndexOut, startValues[0], startValues2[0], this.m_bounds[0], 2 * this.m_proxyCount, 0);
                }
            }
        });
        const __exports = __callInstance572.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance135 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        xIndex = upperIndexOut[0] - 1;
                    }
                },
                impFunc2: () => {
                    {
                        xIndex = lowerIndexOut[0];
                    }
                }
            }
        });
        const __exports = __ifInstance135.exports;
        return __exports.data(sx >= 0 ? 1 : 0);
    })();
    (() => {
        const __callInstance571 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.QueryAxis(lowerIndexOut, upperIndexOut, startValues[1], startValues2[1], this.m_bounds[1], 2 * this.m_proxyCount, 1);
                }
            }
        });
        const __exports = __callInstance571.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance136 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        yIndex = upperIndexOut[0] - 1;
                    }
                },
                impFunc2: () => {
                    {
                        yIndex = lowerIndexOut[0];
                    }
                }
            }
        });
        const __exports = __ifInstance136.exports;
        return __exports.data(sy >= 0 ? 1 : 0);
    })();
    (() => {
        var i = 0;
        const __forInstance53 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_queryResultCount ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        subInput.maxFraction = callback(this.m_queryResults[i], subInput);
                    }
                }
            }
        });
        const __exports = __forInstance53.exports;
        return __exports.data();
    })();
    for (;;) {
        var xProgress = 0;
        var yProgress = 0;
        xIndex += sx >= 0 ? 1 : -1;
        if (xIndex < 0 || xIndex >= this.m_proxyCount * 2) {
            break;
        }
        (() => {
            const __ifInstance137 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            xProgress = (this.m_bounds[0][xIndex].value - p1x) / dx;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance137.exports;
            return __exports.data(sx != 0 ? 1 : 0);
        })();
        yIndex += sy >= 0 ? 1 : -1;
        if (yIndex < 0 || yIndex >= this.m_proxyCount * 2) {
            break;
        }
        (() => {
            const __ifInstance138 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            yProgress = (this.m_bounds[1][yIndex].value - p1y) / dy;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance138.exports;
            return __exports.data(sy != 0 ? 1 : 0);
        })();
        for (;;) {
            if (sy == 0 || sx != 0 && xProgress < yProgress) {
                if (xProgress > subInput.maxFraction) {
                    break;
                }
                (() => {
                    const __ifInstance139 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    proxy = this.m_bounds[0][xIndex].proxy;
                                    (() => {
                                        const __ifInstance140 = new WebAssembly.Instance(__ifWasmModule, {
                                            env: {
                                                impFunc1: () => {
                                                    {
                                                        (() => {
                                                            const __ifInstance141 = new WebAssembly.Instance(__ifWasmModule, {
                                                                env: {
                                                                    impFunc1: () => {
                                                                        {
                                                                            subInput.maxFraction = callback(proxy, subInput);
                                                                        }
                                                                    },
                                                                    impFunc2: () => {
                                                                    }
                                                                }
                                                            });
                                                            const __exports = __ifInstance141.exports;
                                                            return __exports.data(proxy.lowerBounds[1] <= yIndex - 1 && proxy.upperBounds[1] >= yIndex ? 1 : 0);
                                                        })();
                                                    }
                                                },
                                                impFunc2: () => {
                                                    {
                                                        (() => {
                                                            const __ifInstance142 = new WebAssembly.Instance(__ifWasmModule, {
                                                                env: {
                                                                    impFunc1: () => {
                                                                        {
                                                                            subInput.maxFraction = callback(proxy, subInput);
                                                                        }
                                                                    },
                                                                    impFunc2: () => {
                                                                    }
                                                                }
                                                            });
                                                            const __exports = __ifInstance142.exports;
                                                            return __exports.data(proxy.lowerBounds[1] <= yIndex && proxy.upperBounds[1] >= yIndex + 1 ? 1 : 0);
                                                        })();
                                                    }
                                                }
                                            }
                                        });
                                        const __exports = __ifInstance140.exports;
                                        return __exports.data(sy >= 0 ? 1 : 0);
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance139.exports;
                    return __exports.data((sx > 0 ? this.m_bounds[0][xIndex].IsLower() : this.m_bounds[0][xIndex].IsUpper()) ? 1 : 0);
                })();
                if (subInput.maxFraction == 0) {
                    break;
                }
                if (sx > 0) {
                    xIndex++;
                    if (xIndex == this.m_proxyCount * 2) {
                        break;
                    }
                } else {
                    xIndex--;
                    if (xIndex < 0) {
                        break;
                    }
                }
                xProgress = (this.m_bounds[0][xIndex].value - p1x) / dx;
            } else {
                if (yProgress > subInput.maxFraction) {
                    break;
                }
                (() => {
                    const __ifInstance143 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    proxy = this.m_bounds[1][yIndex].proxy;
                                    (() => {
                                        const __ifInstance144 = new WebAssembly.Instance(__ifWasmModule, {
                                            env: {
                                                impFunc1: () => {
                                                    {
                                                        (() => {
                                                            const __ifInstance145 = new WebAssembly.Instance(__ifWasmModule, {
                                                                env: {
                                                                    impFunc1: () => {
                                                                        {
                                                                            subInput.maxFraction = callback(proxy, subInput);
                                                                        }
                                                                    },
                                                                    impFunc2: () => {
                                                                    }
                                                                }
                                                            });
                                                            const __exports = __ifInstance145.exports;
                                                            return __exports.data(proxy.lowerBounds[0] <= xIndex - 1 && proxy.upperBounds[0] >= xIndex ? 1 : 0);
                                                        })();
                                                    }
                                                },
                                                impFunc2: () => {
                                                    {
                                                        (() => {
                                                            const __ifInstance146 = new WebAssembly.Instance(__ifWasmModule, {
                                                                env: {
                                                                    impFunc1: () => {
                                                                        {
                                                                            subInput.maxFraction = callback(proxy, subInput);
                                                                        }
                                                                    },
                                                                    impFunc2: () => {
                                                                    }
                                                                }
                                                            });
                                                            const __exports = __ifInstance146.exports;
                                                            return __exports.data(proxy.lowerBounds[0] <= xIndex && proxy.upperBounds[0] >= xIndex + 1 ? 1 : 0);
                                                        })();
                                                    }
                                                }
                                            }
                                        });
                                        const __exports = __ifInstance144.exports;
                                        return __exports.data(sx >= 0 ? 1 : 0);
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance143.exports;
                    return __exports.data((sy > 0 ? this.m_bounds[1][yIndex].IsLower() : this.m_bounds[1][yIndex].IsUpper()) ? 1 : 0);
                })();
                if (subInput.maxFraction == 0) {
                    break;
                }
                if (sy > 0) {
                    yIndex++;
                    if (yIndex == this.m_proxyCount * 2) {
                        break;
                    }
                } else {
                    yIndex--;
                    if (yIndex < 0) {
                        break;
                    }
                }
                yProgress = (this.m_bounds[1][yIndex].value - p1y) / dy;
            }
        }
        break;
    }
    this.m_queryResultCount = 0;
    (() => {
        const __callInstance570 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.IncrementTimeStamp();
                }
            }
        });
        const __exports = __callInstance570.exports;
        return __exports.data();
    })();
    return;
};
b2BroadPhase.prototype.TestOverlapBound = function (b, p) {
    for (var axis = 0; axis < 2; ++axis) {
        var bounds = this.m_bounds[axis];
        var bound = bounds[p.upperBounds[axis]];
        if (b.lowerValues[axis] > bound.value) {
            return false;
        }
        bound = bounds[p.lowerBounds[axis]];
        if (b.upperValues[axis] < bound.value) {
            return false;
        }
    }
    return true;
};
b2BroadPhase.prototype.m_pairManager = new b2PairManager();
b2BroadPhase.prototype.m_proxyPool = new Array();
b2BroadPhase.prototype.m_freeProxy = null;
b2BroadPhase.prototype.m_bounds = null;
b2BroadPhase.prototype.m_querySortKeys = new Array();
b2BroadPhase.prototype.m_queryResults = new Array();
b2BroadPhase.prototype.m_queryResultCount = 0;
b2BroadPhase.prototype.m_worldAABB = null;
b2BroadPhase.prototype.m_quantizationFactor = new b2Vec2();
b2BroadPhase.prototype.m_proxyCount = 0;
b2BroadPhase.prototype.m_timeStamp = 0;
var b2Manifold = function () {
    (() => {
        const __callInstance569 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance569.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance568 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance568.exports;
        return __exports.data();
    })();
};
b2Manifold.prototype.__constructor = function () {
    this.m_points = new Array(b2Settings.b2_maxManifoldPoints);
    (() => {
        var i = 0;
        const __forInstance54 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < b2Settings.b2_maxManifoldPoints ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.m_points[i] = new b2ManifoldPoint();
                    }
                }
            }
        });
        const __exports = __forInstance54.exports;
        return __exports.data();
    })();
    this.m_localPlaneNormal = new b2Vec2();
    this.m_localPoint = new b2Vec2();
};
b2Manifold.prototype.__varz = function () {
};
b2Manifold.e_circles = 1;
b2Manifold.e_faceA = 2;
b2Manifold.e_faceB = 4;
b2Manifold.prototype.Reset = function () {
    (() => {
        var i = 0;
        const __forInstance55 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < b2Settings.b2_maxManifoldPoints ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance567 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_points[i].Reset();
                                    }
                                }
                            });
                            const __exports = __callInstance567.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance55.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance566 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localPlaneNormal.SetZero();
                }
            }
        });
        const __exports = __callInstance566.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance565 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localPoint.SetZero();
                }
            }
        });
        const __exports = __callInstance565.exports;
        return __exports.data();
    })();
    this.m_type = 0;
    this.m_pointCount = 0;
};
b2Manifold.prototype.Set = function (m) {
    this.m_pointCount = m.m_pointCount;
    (() => {
        var i = 0;
        const __forInstance56 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < b2Settings.b2_maxManifoldPoints ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance564 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_points[i].Set(m.m_points[i]);
                                    }
                                }
                            });
                            const __exports = __callInstance564.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance56.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance563 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localPlaneNormal.SetV(m.m_localPlaneNormal);
                }
            }
        });
        const __exports = __callInstance563.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance562 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localPoint.SetV(m.m_localPoint);
                }
            }
        });
        const __exports = __callInstance562.exports;
        return __exports.data();
    })();
    this.m_type = m.m_type;
};
b2Manifold.prototype.Copy = function () {
    var copy = new b2Manifold();
    (() => {
        const __callInstance561 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    copy.Set(this);
                }
            }
        });
        const __exports = __callInstance561.exports;
        return __exports.data();
    })();
    return copy;
};
b2Manifold.prototype.m_points = null;
b2Manifold.prototype.m_localPlaneNormal = null;
b2Manifold.prototype.m_localPoint = null;
b2Manifold.prototype.m_type = 0;
b2Manifold.prototype.m_pointCount = 0;
var b2CircleShape = function () {
    (() => {
        const __callInstance560 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Shape.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance560.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance559 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance559.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance558 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance558.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance557 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2CircleShape.prototype, b2Shape.prototype);
            }
        }
    });
    const __exports = __callInstance557.exports;
    return __exports.data();
})();
b2CircleShape.prototype._super = b2Shape.prototype;
b2CircleShape.prototype.__constructor = function (radius) {
    (() => {
        const __callInstance556 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, []);
                }
            }
        });
        const __exports = __callInstance556.exports;
        return __exports.data();
    })();
    this.m_type = b2Shape.e_circleShape;
    this.m_radius = radius;
};
b2CircleShape.prototype.__varz = function () {
    this.m_p = new b2Vec2();
};
b2CircleShape.prototype.Copy = function () {
    var s = new b2CircleShape();
    (() => {
        const __callInstance555 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    s.Set(this);
                }
            }
        });
        const __exports = __callInstance555.exports;
        return __exports.data();
    })();
    return s;
};
b2CircleShape.prototype.Set = function (other) {
    (() => {
        const __callInstance554 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.Set.apply(this, [other]);
                }
            }
        });
        const __exports = __callInstance554.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance147 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var other2 = other;
                        (() => {
                            const __callInstance553 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_p.SetV(other2.m_p);
                                    }
                                }
                            });
                            const __exports = __callInstance553.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance147.exports;
        return __exports.data(isInstanceOf(other, b2CircleShape) ? 1 : 0);
    })();
};
b2CircleShape.prototype.TestPoint = function (transform, p) {
    var tMat = transform.R;
    var dX = transform.position.x + (tMat.col1.x * this.m_p.x + tMat.col2.x * this.m_p.y);
    var dY = transform.position.y + (tMat.col1.y * this.m_p.x + tMat.col2.y * this.m_p.y);
    dX = p.x - dX;
    dY = p.y - dY;
    return dX * dX + dY * dY <= this.m_radius * this.m_radius;
};
b2CircleShape.prototype.RayCast = function (output, input, transform) {
    var tMat = transform.R;
    var positionX = transform.position.x + (tMat.col1.x * this.m_p.x + tMat.col2.x * this.m_p.y);
    var positionY = transform.position.y + (tMat.col1.y * this.m_p.x + tMat.col2.y * this.m_p.y);
    var sX = input.p1.x - positionX;
    var sY = input.p1.y - positionY;
    var b = sX * sX + sY * sY - this.m_radius * this.m_radius;
    var rX = input.p2.x - input.p1.x;
    var rY = input.p2.y - input.p1.y;
    var c = sX * rX + sY * rY;
    var rr = rX * rX + rY * rY;
    var sigma = c * c - rr * b;
    if (sigma < 0 || rr < Number.MIN_VALUE) {
        return false;
    }
    var a = -(c + Math.sqrt(sigma));
    if (0 <= a && a <= input.maxFraction * rr) {
        a /= rr;
        output.fraction = a;
        output.normal.x = sX + a * rX;
        output.normal.y = sY + a * rY;
        (() => {
            const __callInstance552 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        output.normal.Normalize();
                    }
                }
            });
            const __exports = __callInstance552.exports;
            return __exports.data();
        })();
        return true;
    }
    return false;
};
b2CircleShape.prototype.ComputeAABB = function (aabb, transform) {
    var tMat = transform.R;
    var pX = transform.position.x + (tMat.col1.x * this.m_p.x + tMat.col2.x * this.m_p.y);
    var pY = transform.position.y + (tMat.col1.y * this.m_p.x + tMat.col2.y * this.m_p.y);
    (() => {
        const __callInstance551 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    aabb.lowerBound.Set(pX - this.m_radius, pY - this.m_radius);
                }
            }
        });
        const __exports = __callInstance551.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance550 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    aabb.upperBound.Set(pX + this.m_radius, pY + this.m_radius);
                }
            }
        });
        const __exports = __callInstance550.exports;
        return __exports.data();
    })();
};
b2CircleShape.prototype.ComputeMass = function (massData, density) {
    massData.mass = density * b2Settings.b2_pi * this.m_radius * this.m_radius;
    (() => {
        const __callInstance549 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    massData.center.SetV(this.m_p);
                }
            }
        });
        const __exports = __callInstance549.exports;
        return __exports.data();
    })();
    massData.I = massData.mass * (0.5 * this.m_radius * this.m_radius + (this.m_p.x * this.m_p.x + this.m_p.y * this.m_p.y));
};
b2CircleShape.prototype.ComputeSubmergedArea = function (normal, offset, xf, c) {
    var p = b2Math.MulX(xf, this.m_p);
    var l = -(b2Math.Dot(normal, p) - offset);
    if (l < -this.m_radius + Number.MIN_VALUE) {
        return 0;
    }
    if (l > this.m_radius) {
        (() => {
            const __callInstance548 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        c.SetV(p);
                    }
                }
            });
            const __exports = __callInstance548.exports;
            return __exports.data();
        })();
        return Math.PI * this.m_radius * this.m_radius;
    }
    var r2 = this.m_radius * this.m_radius;
    var l2 = l * l;
    var area = r2 * (Math.asin(l / this.m_radius) + Math.PI / 2) + l * Math.sqrt(r2 - l2);
    var com = -2 / 3 * Math.pow(r2 - l2, 1.5) / area;
    c.x = p.x + normal.x * com;
    c.y = p.y + normal.y * com;
    return area;
};
b2CircleShape.prototype.GetLocalPosition = function () {
    return this.m_p;
};
b2CircleShape.prototype.SetLocalPosition = function (position) {
    (() => {
        const __callInstance547 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_p.SetV(position);
                }
            }
        });
        const __exports = __callInstance547.exports;
        return __exports.data();
    })();
};
b2CircleShape.prototype.GetRadius = function () {
    return this.m_radius;
};
b2CircleShape.prototype.SetRadius = function (radius) {
    this.m_radius = radius;
};
b2CircleShape.prototype.m_p = new b2Vec2();
var b2Joint = function () {
    (() => {
        const __callInstance546 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance546.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance545 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance545.exports;
        return __exports.data();
    })();
};
b2Joint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance544 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(def.bodyA != def.bodyB);
                }
            }
        });
        const __exports = __callInstance544.exports;
        return __exports.data();
    })();
    this.m_type = def.type;
    this.m_prev = null;
    this.m_next = null;
    this.m_bodyA = def.bodyA;
    this.m_bodyB = def.bodyB;
    this.m_collideConnected = def.collideConnected;
    this.m_islandFlag = false;
    this.m_userData = def.userData;
};
b2Joint.prototype.__varz = function () {
    this.m_edgeA = new b2JointEdge();
    this.m_edgeB = new b2JointEdge();
    this.m_localCenterA = new b2Vec2();
    this.m_localCenterB = new b2Vec2();
};
b2Joint.Create = function (def, allocator) {
    var joint = null;
    switch (def.type) {
    case b2Joint.e_distanceJoint:
        joint = new b2DistanceJoint(def);
        break;
    case b2Joint.e_mouseJoint:
        joint = new b2MouseJoint(def);
        break;
    case b2Joint.e_prismaticJoint:
        joint = new b2PrismaticJoint(def);
        break;
    case b2Joint.e_revoluteJoint:
        joint = new b2RevoluteJoint(def);
        break;
    case b2Joint.e_pulleyJoint:
        joint = new b2PulleyJoint(def);
        break;
    case b2Joint.e_gearJoint:
        joint = new b2GearJoint(def);
        break;
    case b2Joint.e_lineJoint:
        joint = new b2LineJoint(def);
        break;
    case b2Joint.e_weldJoint:
        joint = new b2WeldJoint(def);
        break;
    case b2Joint.e_frictionJoint:
        joint = new b2FrictionJoint(def);
        break;
    default:
        break;
    }
    return joint;
};
b2Joint.Destroy = function (joint, allocator) {
};
b2Joint.e_unknownJoint = 0;
b2Joint.e_revoluteJoint = 1;
b2Joint.e_prismaticJoint = 2;
b2Joint.e_distanceJoint = 3;
b2Joint.e_pulleyJoint = 4;
b2Joint.e_mouseJoint = 5;
b2Joint.e_gearJoint = 6;
b2Joint.e_lineJoint = 7;
b2Joint.e_weldJoint = 8;
b2Joint.e_frictionJoint = 9;
b2Joint.e_inactiveLimit = 0;
b2Joint.e_atLowerLimit = 1;
b2Joint.e_atUpperLimit = 2;
b2Joint.e_equalLimits = 3;
b2Joint.prototype.InitVelocityConstraints = function (step) {
};
b2Joint.prototype.SolveVelocityConstraints = function (step) {
};
b2Joint.prototype.FinalizeVelocityConstraints = function () {
};
b2Joint.prototype.SolvePositionConstraints = function (baumgarte) {
    return false;
};
b2Joint.prototype.GetType = function () {
    return this.m_type;
};
b2Joint.prototype.GetAnchorA = function () {
    return null;
};
b2Joint.prototype.GetAnchorB = function () {
    return null;
};
b2Joint.prototype.GetReactionForce = function (inv_dt) {
    return null;
};
b2Joint.prototype.GetReactionTorque = function (inv_dt) {
    return 0;
};
b2Joint.prototype.GetBodyA = function () {
    return this.m_bodyA;
};
b2Joint.prototype.GetBodyB = function () {
    return this.m_bodyB;
};
b2Joint.prototype.GetNext = function () {
    return this.m_next;
};
b2Joint.prototype.GetUserData = function () {
    return this.m_userData;
};
b2Joint.prototype.SetUserData = function (data) {
    this.m_userData = data;
};
b2Joint.prototype.IsActive = function () {
    return this.m_bodyA.IsActive() && this.m_bodyB.IsActive();
};
b2Joint.prototype.m_type = 0;
b2Joint.prototype.m_prev = null;
b2Joint.prototype.m_next = null;
b2Joint.prototype.m_edgeA = new b2JointEdge();
b2Joint.prototype.m_edgeB = new b2JointEdge();
b2Joint.prototype.m_bodyA = null;
b2Joint.prototype.m_bodyB = null;
b2Joint.prototype.m_islandFlag = null;
b2Joint.prototype.m_collideConnected = null;
b2Joint.prototype.m_userData = null;
b2Joint.prototype.m_localCenterA = new b2Vec2();
b2Joint.prototype.m_localCenterB = new b2Vec2();
b2Joint.prototype.m_invMassA = null;
b2Joint.prototype.m_invMassB = null;
b2Joint.prototype.m_invIA = null;
b2Joint.prototype.m_invIB = null;
var b2LineJoint = function () {
    (() => {
        const __callInstance543 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance543.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance542 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance542.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance541 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance541.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance540 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2LineJoint.prototype, b2Joint.prototype);
            }
        }
    });
    const __exports = __callInstance540.exports;
    return __exports.data();
})();
b2LineJoint.prototype._super = b2Joint.prototype;
b2LineJoint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance539 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, [def]);
                }
            }
        });
        const __exports = __callInstance539.exports;
        return __exports.data();
    })();
    var tMat;
    var tX;
    var tY;
    (() => {
        const __callInstance538 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor1.SetV(def.localAnchorA);
                }
            }
        });
        const __exports = __callInstance538.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance537 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor2.SetV(def.localAnchorB);
                }
            }
        });
        const __exports = __callInstance537.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance536 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localXAxis1.SetV(def.localAxisA);
                }
            }
        });
        const __exports = __callInstance536.exports;
        return __exports.data();
    })();
    this.m_localYAxis1.x = -this.m_localXAxis1.y;
    this.m_localYAxis1.y = this.m_localXAxis1.x;
    (() => {
        const __callInstance535 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_impulse.SetZero();
                }
            }
        });
        const __exports = __callInstance535.exports;
        return __exports.data();
    })();
    this.m_motorMass = 0;
    this.m_motorImpulse = 0;
    this.m_lowerTranslation = def.lowerTranslation;
    this.m_upperTranslation = def.upperTranslation;
    this.m_maxMotorForce = def.maxMotorForce;
    this.m_motorSpeed = def.motorSpeed;
    this.m_enableLimit = def.enableLimit;
    this.m_enableMotor = def.enableMotor;
    this.m_limitState = b2Joint.e_inactiveLimit;
    (() => {
        const __callInstance534 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_axis.SetZero();
                }
            }
        });
        const __exports = __callInstance534.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance533 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_perp.SetZero();
                }
            }
        });
        const __exports = __callInstance533.exports;
        return __exports.data();
    })();
};
b2LineJoint.prototype.__varz = function () {
    this.m_localAnchor1 = new b2Vec2();
    this.m_localAnchor2 = new b2Vec2();
    this.m_localXAxis1 = new b2Vec2();
    this.m_localYAxis1 = new b2Vec2();
    this.m_axis = new b2Vec2();
    this.m_perp = new b2Vec2();
    this.m_K = new b2Mat22();
    this.m_impulse = new b2Vec2();
};
b2LineJoint.prototype.InitVelocityConstraints = function (step) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    var tX;
    (() => {
        const __callInstance532 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localCenterA.SetV(bA.GetLocalCenter());
                }
            }
        });
        const __exports = __callInstance532.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance531 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localCenterB.SetV(bB.GetLocalCenter());
                }
            }
        });
        const __exports = __callInstance531.exports;
        return __exports.data();
    })();
    var xf1 = bA.GetTransform();
    var xf2 = bB.GetTransform();
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - this.m_localCenterA.x;
    var r1Y = this.m_localAnchor1.y - this.m_localCenterA.y;
    tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - this.m_localCenterB.x;
    var r2Y = this.m_localAnchor2.y - this.m_localCenterB.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var dX = bB.m_sweep.c.x + r2X - bA.m_sweep.c.x - r1X;
    var dY = bB.m_sweep.c.y + r2Y - bA.m_sweep.c.y - r1Y;
    this.m_invMassA = bA.m_invMass;
    this.m_invMassB = bB.m_invMass;
    this.m_invIA = bA.m_invI;
    this.m_invIB = bB.m_invI;
    (() => {
        const __callInstance530 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_axis.SetV(b2Math.MulMV(xf1.R, this.m_localXAxis1));
                }
            }
        });
        const __exports = __callInstance530.exports;
        return __exports.data();
    })();
    this.m_a1 = (dX + r1X) * this.m_axis.y - (dY + r1Y) * this.m_axis.x;
    this.m_a2 = r2X * this.m_axis.y - r2Y * this.m_axis.x;
    this.m_motorMass = this.m_invMassA + this.m_invMassB + this.m_invIA * this.m_a1 * this.m_a1 + this.m_invIB * this.m_a2 * this.m_a2;
    this.m_motorMass = this.m_motorMass > Number.MIN_VALUE ? 1 / this.m_motorMass : 0;
    (() => {
        const __callInstance529 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_perp.SetV(b2Math.MulMV(xf1.R, this.m_localYAxis1));
                }
            }
        });
        const __exports = __callInstance529.exports;
        return __exports.data();
    })();
    this.m_s1 = (dX + r1X) * this.m_perp.y - (dY + r1Y) * this.m_perp.x;
    this.m_s2 = r2X * this.m_perp.y - r2Y * this.m_perp.x;
    var m1 = this.m_invMassA;
    var m2 = this.m_invMassB;
    var i1 = this.m_invIA;
    var i2 = this.m_invIB;
    this.m_K.col1.x = m1 + m2 + i1 * this.m_s1 * this.m_s1 + i2 * this.m_s2 * this.m_s2;
    this.m_K.col1.y = i1 * this.m_s1 * this.m_a1 + i2 * this.m_s2 * this.m_a2;
    this.m_K.col2.x = this.m_K.col1.y;
    this.m_K.col2.y = m1 + m2 + i1 * this.m_a1 * this.m_a1 + i2 * this.m_a2 * this.m_a2;
    (() => {
        const __ifInstance148 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var jointTransition = this.m_axis.x * dX + this.m_axis.y * dY;
                        (() => {
                            const __ifInstance149 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.m_limitState = b2Joint.e_equalLimits;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance150 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance151 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    this.m_limitState = b2Joint.e_atLowerLimit;
                                                                                    this.m_impulse.y = 0;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance151.exports;
                                                                    return __exports.data(this.m_limitState != b2Joint.e_atLowerLimit ? 1 : 0);
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance152 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __ifInstance153 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        this.m_limitState = b2Joint.e_atUpperLimit;
                                                                                                        this.m_impulse.y = 0;
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance153.exports;
                                                                                        return __exports.data(this.m_limitState != b2Joint.e_atUpperLimit ? 1 : 0);
                                                                                    })();
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                                {
                                                                                    this.m_limitState = b2Joint.e_inactiveLimit;
                                                                                    this.m_impulse.y = 0;
                                                                                }
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance152.exports;
                                                                    return __exports.data(jointTransition >= this.m_upperTranslation ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance150.exports;
                                                return __exports.data(jointTransition <= this.m_lowerTranslation ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance149.exports;
                            return __exports.data(b2Math.Abs(this.m_upperTranslation - this.m_lowerTranslation) < 2 * b2Settings.b2_linearSlop ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        this.m_limitState = b2Joint.e_inactiveLimit;
                    }
                }
            }
        });
        const __exports = __ifInstance148.exports;
        return __exports.data(this.m_enableLimit ? 1 : 0);
    })();
    (() => {
        const __ifInstance154 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_motorImpulse = 0;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance154.exports;
        return __exports.data(this.m_enableMotor == false ? 1 : 0);
    })();
    (() => {
        const __ifInstance155 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_impulse.x *= step.dtRatio;
                        this.m_impulse.y *= step.dtRatio;
                        this.m_motorImpulse *= step.dtRatio;
                        var PX = this.m_impulse.x * this.m_perp.x + (this.m_motorImpulse + this.m_impulse.y) * this.m_axis.x;
                        var PY = this.m_impulse.x * this.m_perp.y + (this.m_motorImpulse + this.m_impulse.y) * this.m_axis.y;
                        var L1 = this.m_impulse.x * this.m_s1 + (this.m_motorImpulse + this.m_impulse.y) * this.m_a1;
                        var L2 = this.m_impulse.x * this.m_s2 + (this.m_motorImpulse + this.m_impulse.y) * this.m_a2;
                        bA.m_linearVelocity.x -= this.m_invMassA * PX;
                        bA.m_linearVelocity.y -= this.m_invMassA * PY;
                        bA.m_angularVelocity -= this.m_invIA * L1;
                        bB.m_linearVelocity.x += this.m_invMassB * PX;
                        bB.m_linearVelocity.y += this.m_invMassB * PY;
                        bB.m_angularVelocity += this.m_invIB * L2;
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance528 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_impulse.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance528.exports;
                            return __exports.data();
                        })();
                        this.m_motorImpulse = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance155.exports;
        return __exports.data(step.warmStarting ? 1 : 0);
    })();
};
b2LineJoint.prototype.SolveVelocityConstraints = function (step) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var v1 = bA.m_linearVelocity;
    var w1 = bA.m_angularVelocity;
    var v2 = bB.m_linearVelocity;
    var w2 = bB.m_angularVelocity;
    var PX;
    var PY;
    var L1;
    var L2;
    (() => {
        const __ifInstance156 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var Cdot = this.m_axis.x * (v2.x - v1.x) + this.m_axis.y * (v2.y - v1.y) + this.m_a2 * w2 - this.m_a1 * w1;
                        var impulse = this.m_motorMass * (this.m_motorSpeed - Cdot);
                        var oldImpulse = this.m_motorImpulse;
                        var maxImpulse = step.dt * this.m_maxMotorForce;
                        this.m_motorImpulse = b2Math.Clamp(this.m_motorImpulse + impulse, -maxImpulse, maxImpulse);
                        impulse = this.m_motorImpulse - oldImpulse;
                        PX = impulse * this.m_axis.x;
                        PY = impulse * this.m_axis.y;
                        L1 = impulse * this.m_a1;
                        L2 = impulse * this.m_a2;
                        v1.x -= this.m_invMassA * PX;
                        v1.y -= this.m_invMassA * PY;
                        w1 -= this.m_invIA * L1;
                        v2.x += this.m_invMassB * PX;
                        v2.y += this.m_invMassB * PY;
                        w2 += this.m_invIB * L2;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance156.exports;
        return __exports.data(this.m_enableMotor && this.m_limitState != b2Joint.e_equalLimits ? 1 : 0);
    })();
    var Cdot1 = this.m_perp.x * (v2.x - v1.x) + this.m_perp.y * (v2.y - v1.y) + this.m_s2 * w2 - this.m_s1 * w1;
    (() => {
        const __ifInstance157 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var Cdot2 = this.m_axis.x * (v2.x - v1.x) + this.m_axis.y * (v2.y - v1.y) + this.m_a2 * w2 - this.m_a1 * w1;
                        var f1 = this.m_impulse.Copy();
                        var df = this.m_K.Solve(new b2Vec2(), -Cdot1, -Cdot2);
                        (() => {
                            const __callInstance527 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_impulse.Add(df);
                                    }
                                }
                            });
                            const __exports = __callInstance527.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __ifInstance158 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.m_impulse.y = b2Math.Max(this.m_impulse.y, 0);
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance159 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                this.m_impulse.y = b2Math.Min(this.m_impulse.y, 0);
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance159.exports;
                                                return __exports.data(this.m_limitState == b2Joint.e_atUpperLimit ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance158.exports;
                            return __exports.data(this.m_limitState == b2Joint.e_atLowerLimit ? 1 : 0);
                        })();
                        var b = -Cdot1 - (this.m_impulse.y - f1.y) * this.m_K.col2.x;
                        var f2r;
                        (() => {
                            const __ifInstance160 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            f2r = b / this.m_K.col1.x + f1.x;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            f2r = f1.x;
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance160.exports;
                            return __exports.data(this.m_K.col1.x != 0 ? 1 : 0);
                        })();
                        this.m_impulse.x = f2r;
                        df.x = this.m_impulse.x - f1.x;
                        df.y = this.m_impulse.y - f1.y;
                        PX = df.x * this.m_perp.x + df.y * this.m_axis.x;
                        PY = df.x * this.m_perp.y + df.y * this.m_axis.y;
                        L1 = df.x * this.m_s1 + df.y * this.m_a1;
                        L2 = df.x * this.m_s2 + df.y * this.m_a2;
                        v1.x -= this.m_invMassA * PX;
                        v1.y -= this.m_invMassA * PY;
                        w1 -= this.m_invIA * L1;
                        v2.x += this.m_invMassB * PX;
                        v2.y += this.m_invMassB * PY;
                        w2 += this.m_invIB * L2;
                    }
                },
                impFunc2: () => {
                    {
                        var df2;
                        (() => {
                            const __ifInstance161 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            df2 = -Cdot1 / this.m_K.col1.x;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            df2 = 0;
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance161.exports;
                            return __exports.data(this.m_K.col1.x != 0 ? 1 : 0);
                        })();
                        this.m_impulse.x += df2;
                        PX = df2 * this.m_perp.x;
                        PY = df2 * this.m_perp.y;
                        L1 = df2 * this.m_s1;
                        L2 = df2 * this.m_s2;
                        v1.x -= this.m_invMassA * PX;
                        v1.y -= this.m_invMassA * PY;
                        w1 -= this.m_invIA * L1;
                        v2.x += this.m_invMassB * PX;
                        v2.y += this.m_invMassB * PY;
                        w2 += this.m_invIB * L2;
                    }
                }
            }
        });
        const __exports = __ifInstance157.exports;
        return __exports.data(this.m_enableLimit && this.m_limitState != b2Joint.e_inactiveLimit ? 1 : 0);
    })();
    (() => {
        const __callInstance526 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bA.m_linearVelocity.SetV(v1);
                }
            }
        });
        const __exports = __callInstance526.exports;
        return __exports.data();
    })();
    bA.m_angularVelocity = w1;
    (() => {
        const __callInstance525 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bB.m_linearVelocity.SetV(v2);
                }
            }
        });
        const __exports = __callInstance525.exports;
        return __exports.data();
    })();
    bB.m_angularVelocity = w2;
};
b2LineJoint.prototype.SolvePositionConstraints = function (baumgarte) {
    var limitC;
    var oldLimitImpulse;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var c1 = bA.m_sweep.c;
    var a1 = bA.m_sweep.a;
    var c2 = bB.m_sweep.c;
    var a2 = bB.m_sweep.a;
    var tMat;
    var tX;
    var m1;
    var m2;
    var i1;
    var i2;
    var linearError = 0;
    var angularError = 0;
    var active = false;
    var C2 = 0;
    var R1 = b2Mat22.FromAngle(a1);
    var R2 = b2Mat22.FromAngle(a2);
    tMat = R1;
    var r1X = this.m_localAnchor1.x - this.m_localCenterA.x;
    var r1Y = this.m_localAnchor1.y - this.m_localCenterA.y;
    tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = R2;
    var r2X = this.m_localAnchor2.x - this.m_localCenterB.x;
    var r2Y = this.m_localAnchor2.y - this.m_localCenterB.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var dX = c2.x + r2X - c1.x - r1X;
    var dY = c2.y + r2Y - c1.y - r1Y;
    (() => {
        const __ifInstance162 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_axis = b2Math.MulMV(R1, this.m_localXAxis1);
                        this.m_a1 = (dX + r1X) * this.m_axis.y - (dY + r1Y) * this.m_axis.x;
                        this.m_a2 = r2X * this.m_axis.y - r2Y * this.m_axis.x;
                        var translation = this.m_axis.x * dX + this.m_axis.y * dY;
                        (() => {
                            const __ifInstance163 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            C2 = b2Math.Clamp(translation, -b2Settings.b2_maxLinearCorrection, b2Settings.b2_maxLinearCorrection);
                                            linearError = b2Math.Abs(translation);
                                            active = true;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance164 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                C2 = b2Math.Clamp(translation - this.m_lowerTranslation + b2Settings.b2_linearSlop, -b2Settings.b2_maxLinearCorrection, 0);
                                                                linearError = this.m_lowerTranslation - translation;
                                                                active = true;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance165 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    C2 = b2Math.Clamp(translation - this.m_upperTranslation + b2Settings.b2_linearSlop, 0, b2Settings.b2_maxLinearCorrection);
                                                                                    linearError = translation - this.m_upperTranslation;
                                                                                    active = true;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance165.exports;
                                                                    return __exports.data(translation >= this.m_upperTranslation ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance164.exports;
                                                return __exports.data(translation <= this.m_lowerTranslation ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance163.exports;
                            return __exports.data(b2Math.Abs(this.m_upperTranslation - this.m_lowerTranslation) < 2 * b2Settings.b2_linearSlop ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance162.exports;
        return __exports.data(this.m_enableLimit ? 1 : 0);
    })();
    this.m_perp = b2Math.MulMV(R1, this.m_localYAxis1);
    this.m_s1 = (dX + r1X) * this.m_perp.y - (dY + r1Y) * this.m_perp.x;
    this.m_s2 = r2X * this.m_perp.y - r2Y * this.m_perp.x;
    var impulse = new b2Vec2();
    var C1 = this.m_perp.x * dX + this.m_perp.y * dY;
    linearError = b2Math.Max(linearError, b2Math.Abs(C1));
    angularError = 0;
    (() => {
        const __ifInstance166 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        m1 = this.m_invMassA;
                        m2 = this.m_invMassB;
                        i1 = this.m_invIA;
                        i2 = this.m_invIB;
                        this.m_K.col1.x = m1 + m2 + i1 * this.m_s1 * this.m_s1 + i2 * this.m_s2 * this.m_s2;
                        this.m_K.col1.y = i1 * this.m_s1 * this.m_a1 + i2 * this.m_s2 * this.m_a2;
                        this.m_K.col2.x = this.m_K.col1.y;
                        this.m_K.col2.y = m1 + m2 + i1 * this.m_a1 * this.m_a1 + i2 * this.m_a2 * this.m_a2;
                        (() => {
                            const __callInstance524 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_K.Solve(impulse, -C1, -C2);
                                    }
                                }
                            });
                            const __exports = __callInstance524.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        m1 = this.m_invMassA;
                        m2 = this.m_invMassB;
                        i1 = this.m_invIA;
                        i2 = this.m_invIB;
                        var k11 = m1 + m2 + i1 * this.m_s1 * this.m_s1 + i2 * this.m_s2 * this.m_s2;
                        var impulse1;
                        (() => {
                            const __ifInstance167 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            impulse1 = -C1 / k11;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            impulse1 = 0;
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance167.exports;
                            return __exports.data(k11 != 0 ? 1 : 0);
                        })();
                        impulse.x = impulse1;
                        impulse.y = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance166.exports;
        return __exports.data(active ? 1 : 0);
    })();
    var PX = impulse.x * this.m_perp.x + impulse.y * this.m_axis.x;
    var PY = impulse.x * this.m_perp.y + impulse.y * this.m_axis.y;
    var L1 = impulse.x * this.m_s1 + impulse.y * this.m_a1;
    var L2 = impulse.x * this.m_s2 + impulse.y * this.m_a2;
    c1.x -= this.m_invMassA * PX;
    c1.y -= this.m_invMassA * PY;
    a1 -= this.m_invIA * L1;
    c2.x += this.m_invMassB * PX;
    c2.y += this.m_invMassB * PY;
    a2 += this.m_invIB * L2;
    bA.m_sweep.a = a1;
    bB.m_sweep.a = a2;
    (() => {
        const __callInstance523 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bA.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance523.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance522 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bB.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance522.exports;
        return __exports.data();
    })();
    return linearError <= b2Settings.b2_linearSlop && angularError <= b2Settings.b2_angularSlop;
};
b2LineJoint.prototype.GetAnchorA = function () {
    return this.m_bodyA.GetWorldPoint(this.m_localAnchor1);
};
b2LineJoint.prototype.GetAnchorB = function () {
    return this.m_bodyB.GetWorldPoint(this.m_localAnchor2);
};
b2LineJoint.prototype.GetReactionForce = function (inv_dt) {
    return new b2Vec2(inv_dt * (this.m_impulse.x * this.m_perp.x + (this.m_motorImpulse + this.m_impulse.y) * this.m_axis.x), inv_dt * (this.m_impulse.x * this.m_perp.y + (this.m_motorImpulse + this.m_impulse.y) * this.m_axis.y));
};
b2LineJoint.prototype.GetReactionTorque = function (inv_dt) {
    return inv_dt * this.m_impulse.y;
};
b2LineJoint.prototype.GetJointTranslation = function () {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    var p1 = bA.GetWorldPoint(this.m_localAnchor1);
    var p2 = bB.GetWorldPoint(this.m_localAnchor2);
    var dX = p2.x - p1.x;
    var dY = p2.y - p1.y;
    var axis = bA.GetWorldVector(this.m_localXAxis1);
    var translation = axis.x * dX + axis.y * dY;
    return translation;
};
b2LineJoint.prototype.GetJointSpeed = function () {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
    var r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
    var tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
    var r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var p1X = bA.m_sweep.c.x + r1X;
    var p1Y = bA.m_sweep.c.y + r1Y;
    var p2X = bB.m_sweep.c.x + r2X;
    var p2Y = bB.m_sweep.c.y + r2Y;
    var dX = p2X - p1X;
    var dY = p2Y - p1Y;
    var axis = bA.GetWorldVector(this.m_localXAxis1);
    var v1 = bA.m_linearVelocity;
    var v2 = bB.m_linearVelocity;
    var w1 = bA.m_angularVelocity;
    var w2 = bB.m_angularVelocity;
    var speed = dX * -w1 * axis.y + dY * w1 * axis.x + (axis.x * (v2.x + -w2 * r2Y - v1.x - -w1 * r1Y) + axis.y * (v2.y + w2 * r2X - v1.y - w1 * r1X));
    return speed;
};
b2LineJoint.prototype.IsLimitEnabled = function () {
    return this.m_enableLimit;
};
b2LineJoint.prototype.EnableLimit = function (flag) {
    (() => {
        const __callInstance521 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance521.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance520 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance520.exports;
        return __exports.data();
    })();
    this.m_enableLimit = flag;
};
b2LineJoint.prototype.GetLowerLimit = function () {
    return this.m_lowerTranslation;
};
b2LineJoint.prototype.GetUpperLimit = function () {
    return this.m_upperTranslation;
};
b2LineJoint.prototype.SetLimits = function (lower, upper) {
    (() => {
        const __callInstance519 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance519.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance518 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance518.exports;
        return __exports.data();
    })();
    this.m_lowerTranslation = lower;
    this.m_upperTranslation = upper;
};
b2LineJoint.prototype.IsMotorEnabled = function () {
    return this.m_enableMotor;
};
b2LineJoint.prototype.EnableMotor = function (flag) {
    (() => {
        const __callInstance517 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance517.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance516 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance516.exports;
        return __exports.data();
    })();
    this.m_enableMotor = flag;
};
b2LineJoint.prototype.SetMotorSpeed = function (speed) {
    (() => {
        const __callInstance515 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance515.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance514 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance514.exports;
        return __exports.data();
    })();
    this.m_motorSpeed = speed;
};
b2LineJoint.prototype.GetMotorSpeed = function () {
    return this.m_motorSpeed;
};
b2LineJoint.prototype.SetMaxMotorForce = function (force) {
    (() => {
        const __callInstance513 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance513.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance512 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance512.exports;
        return __exports.data();
    })();
    this.m_maxMotorForce = force;
};
b2LineJoint.prototype.GetMaxMotorForce = function () {
    return this.m_maxMotorForce;
};
b2LineJoint.prototype.GetMotorForce = function () {
    return this.m_motorImpulse;
};
b2LineJoint.prototype.m_localAnchor1 = new b2Vec2();
b2LineJoint.prototype.m_localAnchor2 = new b2Vec2();
b2LineJoint.prototype.m_localXAxis1 = new b2Vec2();
b2LineJoint.prototype.m_localYAxis1 = new b2Vec2();
b2LineJoint.prototype.m_axis = new b2Vec2();
b2LineJoint.prototype.m_perp = new b2Vec2();
b2LineJoint.prototype.m_s1 = null;
b2LineJoint.prototype.m_s2 = null;
b2LineJoint.prototype.m_a1 = null;
b2LineJoint.prototype.m_a2 = null;
b2LineJoint.prototype.m_K = new b2Mat22();
b2LineJoint.prototype.m_impulse = new b2Vec2();
b2LineJoint.prototype.m_motorMass = null;
b2LineJoint.prototype.m_motorImpulse = null;
b2LineJoint.prototype.m_lowerTranslation = null;
b2LineJoint.prototype.m_upperTranslation = null;
b2LineJoint.prototype.m_maxMotorForce = null;
b2LineJoint.prototype.m_motorSpeed = null;
b2LineJoint.prototype.m_enableLimit = null;
b2LineJoint.prototype.m_enableMotor = null;
b2LineJoint.prototype.m_limitState = 0;
var b2ContactSolver = function () {
    (() => {
        const __callInstance511 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance511.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance510 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance510.exports;
        return __exports.data();
    })();
};
b2ContactSolver.prototype.__constructor = function () {
};
b2ContactSolver.prototype.__varz = function () {
    this.m_step = new b2TimeStep();
    this.m_constraints = new Array();
};
b2ContactSolver.s_worldManifold = new b2WorldManifold();
b2ContactSolver.s_psm = new b2PositionSolverManifold();
b2ContactSolver.prototype.Initialize = function (step, contacts, contactCount, allocator) {
    var contact;
    (() => {
        const __callInstance509 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_step.Set(step);
                }
            }
        });
        const __exports = __callInstance509.exports;
        return __exports.data();
    })();
    this.m_allocator = allocator;
    var i = 0;
    var tVec;
    var tMat;
    this.m_constraintCount = contactCount;
    (() => {
        const __forInstance125 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return this.m_constraints.length < this.m_constraintCount ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        this.m_constraints[this.m_constraints.length] = new b2ContactConstraint();
                    }
                }
            }
        });
        const __exports = __forInstance125.exports;
        return __exports.data();
    })();
    (() => {
        i = 0;
        const __forInstance57 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < contactCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        contact = contacts[i];
                        var fixtureA = contact.m_fixtureA;
                        var fixtureB = contact.m_fixtureB;
                        var shapeA = fixtureA.m_shape;
                        var shapeB = fixtureB.m_shape;
                        var radiusA = shapeA.m_radius;
                        var radiusB = shapeB.m_radius;
                        var bodyA = fixtureA.m_body;
                        var bodyB = fixtureB.m_body;
                        var manifold = contact.GetManifold();
                        var friction = b2Settings.b2MixFriction(fixtureA.GetFriction(), fixtureB.GetFriction());
                        var restitution = b2Settings.b2MixRestitution(fixtureA.GetRestitution(), fixtureB.GetRestitution());
                        var vAX = bodyA.m_linearVelocity.x;
                        var vAY = bodyA.m_linearVelocity.y;
                        var vBX = bodyB.m_linearVelocity.x;
                        var vBY = bodyB.m_linearVelocity.y;
                        var wA = bodyA.m_angularVelocity;
                        var wB = bodyB.m_angularVelocity;
                        (() => {
                            const __callInstance508 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        b2Settings.b2Assert(manifold.m_pointCount > 0);
                                    }
                                }
                            });
                            const __exports = __callInstance508.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance507 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        b2ContactSolver.s_worldManifold.Initialize(manifold, bodyA.m_xf, radiusA, bodyB.m_xf, radiusB);
                                    }
                                }
                            });
                            const __exports = __callInstance507.exports;
                            return __exports.data();
                        })();
                        var normalX = b2ContactSolver.s_worldManifold.m_normal.x;
                        var normalY = b2ContactSolver.s_worldManifold.m_normal.y;
                        var cc = this.m_constraints[i];
                        cc.bodyA = bodyA;
                        cc.bodyB = bodyB;
                        cc.manifold = manifold;
                        cc.normal.x = normalX;
                        cc.normal.y = normalY;
                        cc.pointCount = manifold.m_pointCount;
                        cc.friction = friction;
                        cc.restitution = restitution;
                        cc.localPlaneNormal.x = manifold.m_localPlaneNormal.x;
                        cc.localPlaneNormal.y = manifold.m_localPlaneNormal.y;
                        cc.localPoint.x = manifold.m_localPoint.x;
                        cc.localPoint.y = manifold.m_localPoint.y;
                        cc.radius = radiusA + radiusB;
                        cc.type = manifold.m_type;
                        (() => {
                            var k = 0;
                            const __forInstance58 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return k < cc.pointCount ? 1 : 0;
                                    },
                                    update: () => {
                                        ++k;
                                    },
                                    body: () => {
                                        {
                                            var cp = manifold.m_points[k];
                                            var ccp = cc.points[k];
                                            ccp.normalImpulse = cp.m_normalImpulse;
                                            ccp.tangentImpulse = cp.m_tangentImpulse;
                                            (() => {
                                                const __callInstance506 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            ccp.localPoint.SetV(cp.m_localPoint);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance506.exports;
                                                return __exports.data();
                                            })();
                                            var rAX = ccp.rA.x = b2ContactSolver.s_worldManifold.m_points[k].x - bodyA.m_sweep.c.x;
                                            var rAY = ccp.rA.y = b2ContactSolver.s_worldManifold.m_points[k].y - bodyA.m_sweep.c.y;
                                            var rBX = ccp.rB.x = b2ContactSolver.s_worldManifold.m_points[k].x - bodyB.m_sweep.c.x;
                                            var rBY = ccp.rB.y = b2ContactSolver.s_worldManifold.m_points[k].y - bodyB.m_sweep.c.y;
                                            var rnA = rAX * normalY - rAY * normalX;
                                            var rnB = rBX * normalY - rBY * normalX;
                                            rnA *= rnA;
                                            rnB *= rnB;
                                            var kNormal = bodyA.m_invMass + bodyB.m_invMass + bodyA.m_invI * rnA + bodyB.m_invI * rnB;
                                            ccp.normalMass = 1 / kNormal;
                                            var kEqualized = bodyA.m_mass * bodyA.m_invMass + bodyB.m_mass * bodyB.m_invMass;
                                            kEqualized += bodyA.m_mass * bodyA.m_invI * rnA + bodyB.m_mass * bodyB.m_invI * rnB;
                                            ccp.equalizedMass = 1 / kEqualized;
                                            var tangentX = normalY;
                                            var tangentY = -normalX;
                                            var rtA = rAX * tangentY - rAY * tangentX;
                                            var rtB = rBX * tangentY - rBY * tangentX;
                                            rtA *= rtA;
                                            rtB *= rtB;
                                            var kTangent = bodyA.m_invMass + bodyB.m_invMass + bodyA.m_invI * rtA + bodyB.m_invI * rtB;
                                            ccp.tangentMass = 1 / kTangent;
                                            ccp.velocityBias = 0;
                                            var tX = vBX + -wB * rBY - vAX - -wA * rAY;
                                            var tY = vBY + wB * rBX - vAY - wA * rAX;
                                            var vRel = cc.normal.x * tX + cc.normal.y * tY;
                                            (() => {
                                                const __ifInstance168 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                ccp.velocityBias += -cc.restitution * vRel;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance168.exports;
                                                return __exports.data(vRel < -b2Settings.b2_velocityThreshold ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance58.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __ifInstance169 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            var ccp1 = cc.points[0];
                                            var ccp2 = cc.points[1];
                                            var invMassA = bodyA.m_invMass;
                                            var invIA = bodyA.m_invI;
                                            var invMassB = bodyB.m_invMass;
                                            var invIB = bodyB.m_invI;
                                            var rn1A = ccp1.rA.x * normalY - ccp1.rA.y * normalX;
                                            var rn1B = ccp1.rB.x * normalY - ccp1.rB.y * normalX;
                                            var rn2A = ccp2.rA.x * normalY - ccp2.rA.y * normalX;
                                            var rn2B = ccp2.rB.x * normalY - ccp2.rB.y * normalX;
                                            var k11 = invMassA + invMassB + invIA * rn1A * rn1A + invIB * rn1B * rn1B;
                                            var k22 = invMassA + invMassB + invIA * rn2A * rn2A + invIB * rn2B * rn2B;
                                            var k12 = invMassA + invMassB + invIA * rn1A * rn2A + invIB * rn1B * rn2B;
                                            var k_maxConditionNumber = 100;
                                            (() => {
                                                const __ifInstance170 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance505 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                cc.K.col1.Set(k11, k12);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance505.exports;
                                                                    return __exports.data();
                                                                })();
                                                                (() => {
                                                                    const __callInstance504 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                cc.K.col2.Set(k12, k22);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance504.exports;
                                                                    return __exports.data();
                                                                })();
                                                                (() => {
                                                                    const __callInstance503 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                cc.K.GetInverse(cc.normalMass);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance503.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                cc.pointCount = 1;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance170.exports;
                                                return __exports.data(k11 * k11 < k_maxConditionNumber * (k11 * k22 - k12 * k12) ? 1 : 0);
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance169.exports;
                            return __exports.data(cc.pointCount == 2 ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance57.exports;
        return __exports.data();
    })();
};
b2ContactSolver.prototype.InitVelocityConstraints = function (step) {
    var tVec;
    var tVec2;
    var tMat;
    (() => {
        var i = 0;
        const __forInstance59 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_constraintCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var c = this.m_constraints[i];
                        var bodyA = c.bodyA;
                        var bodyB = c.bodyB;
                        var invMassA = bodyA.m_invMass;
                        var invIA = bodyA.m_invI;
                        var invMassB = bodyB.m_invMass;
                        var invIB = bodyB.m_invI;
                        var normalX = c.normal.x;
                        var normalY = c.normal.y;
                        var tangentX = normalY;
                        var tangentY = -normalX;
                        var tX;
                        var j = 0;
                        var tCount = 0;
                        (() => {
                            const __ifInstance171 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            tCount = c.pointCount;
                                            (() => {
                                                j = 0;
                                                const __forInstance60 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return j < tCount ? 1 : 0;
                                                        },
                                                        update: () => {
                                                            ++j;
                                                        },
                                                        body: () => {
                                                            {
                                                                var ccp = c.points[j];
                                                                ccp.normalImpulse *= step.dtRatio;
                                                                ccp.tangentImpulse *= step.dtRatio;
                                                                var PX = ccp.normalImpulse * normalX + ccp.tangentImpulse * tangentX;
                                                                var PY = ccp.normalImpulse * normalY + ccp.tangentImpulse * tangentY;
                                                                bodyA.m_angularVelocity -= invIA * (ccp.rA.x * PY - ccp.rA.y * PX);
                                                                bodyA.m_linearVelocity.x -= invMassA * PX;
                                                                bodyA.m_linearVelocity.y -= invMassA * PY;
                                                                bodyB.m_angularVelocity += invIB * (ccp.rB.x * PY - ccp.rB.y * PX);
                                                                bodyB.m_linearVelocity.x += invMassB * PX;
                                                                bodyB.m_linearVelocity.y += invMassB * PY;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance60.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            tCount = c.pointCount;
                                            (() => {
                                                j = 0;
                                                const __forInstance61 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return j < tCount ? 1 : 0;
                                                        },
                                                        update: () => {
                                                            ++j;
                                                        },
                                                        body: () => {
                                                            {
                                                                var ccp2 = c.points[j];
                                                                ccp2.normalImpulse = 0;
                                                                ccp2.tangentImpulse = 0;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance61.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance171.exports;
                            return __exports.data(step.warmStarting ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance59.exports;
        return __exports.data();
    })();
};
b2ContactSolver.prototype.SolveVelocityConstraints = function () {
    var j = 0;
    var ccp;
    var rAX;
    var rAY;
    var rBX;
    var rBY;
    var dvX;
    var dvY;
    var vn;
    var vt;
    var lambda;
    var maxFriction;
    var newImpulse;
    var PX;
    var PY;
    var dX;
    var dY;
    var P1X;
    var P1Y;
    var P2X;
    var P2Y;
    var tMat;
    var tVec;
    for (var i = 0; i < this.m_constraintCount; ++i) {
        var c = this.m_constraints[i];
        var bodyA = c.bodyA;
        var bodyB = c.bodyB;
        var wA = bodyA.m_angularVelocity;
        var wB = bodyB.m_angularVelocity;
        var vA = bodyA.m_linearVelocity;
        var vB = bodyB.m_linearVelocity;
        var invMassA = bodyA.m_invMass;
        var invIA = bodyA.m_invI;
        var invMassB = bodyB.m_invMass;
        var invIB = bodyB.m_invI;
        var normalX = c.normal.x;
        var normalY = c.normal.y;
        var tangentX = normalY;
        var tangentY = -normalX;
        var friction = c.friction;
        var tX;
        (() => {
            j = 0;
            const __forInstance62 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return j < c.pointCount ? 1 : 0;
                    },
                    update: () => {
                        j++;
                    },
                    body: () => {
                        {
                            ccp = c.points[j];
                            dvX = vB.x - wB * ccp.rB.y - vA.x + wA * ccp.rA.y;
                            dvY = vB.y + wB * ccp.rB.x - vA.y - wA * ccp.rA.x;
                            vt = dvX * tangentX + dvY * tangentY;
                            lambda = ccp.tangentMass * -vt;
                            maxFriction = friction * ccp.normalImpulse;
                            newImpulse = b2Math.Clamp(ccp.tangentImpulse + lambda, -maxFriction, maxFriction);
                            lambda = newImpulse - ccp.tangentImpulse;
                            PX = lambda * tangentX;
                            PY = lambda * tangentY;
                            vA.x -= invMassA * PX;
                            vA.y -= invMassA * PY;
                            wA -= invIA * (ccp.rA.x * PY - ccp.rA.y * PX);
                            vB.x += invMassB * PX;
                            vB.y += invMassB * PY;
                            wB += invIB * (ccp.rB.x * PY - ccp.rB.y * PX);
                            ccp.tangentImpulse = newImpulse;
                        }
                    }
                }
            });
            const __exports = __forInstance62.exports;
            return __exports.data();
        })();
        var tCount = c.pointCount;
        if (c.pointCount == 1) {
            ccp = c.points[0];
            dvX = vB.x + -wB * ccp.rB.y - vA.x - -wA * ccp.rA.y;
            dvY = vB.y + wB * ccp.rB.x - vA.y - wA * ccp.rA.x;
            vn = dvX * normalX + dvY * normalY;
            lambda = -ccp.normalMass * (vn - ccp.velocityBias);
            newImpulse = ccp.normalImpulse + lambda;
            newImpulse = newImpulse > 0 ? newImpulse : 0;
            lambda = newImpulse - ccp.normalImpulse;
            PX = lambda * normalX;
            PY = lambda * normalY;
            vA.x -= invMassA * PX;
            vA.y -= invMassA * PY;
            wA -= invIA * (ccp.rA.x * PY - ccp.rA.y * PX);
            vB.x += invMassB * PX;
            vB.y += invMassB * PY;
            wB += invIB * (ccp.rB.x * PY - ccp.rB.y * PX);
            ccp.normalImpulse = newImpulse;
        } else {
            var cp1 = c.points[0];
            var cp2 = c.points[1];
            var aX = cp1.normalImpulse;
            var aY = cp2.normalImpulse;
            var dv1X = vB.x - wB * cp1.rB.y - vA.x + wA * cp1.rA.y;
            var dv1Y = vB.y + wB * cp1.rB.x - vA.y - wA * cp1.rA.x;
            var dv2X = vB.x - wB * cp2.rB.y - vA.x + wA * cp2.rA.y;
            var dv2Y = vB.y + wB * cp2.rB.x - vA.y - wA * cp2.rA.x;
            var vn1 = dv1X * normalX + dv1Y * normalY;
            var vn2 = dv2X * normalX + dv2Y * normalY;
            var bX = vn1 - cp1.velocityBias;
            var bY = vn2 - cp2.velocityBias;
            tMat = c.K;
            bX -= tMat.col1.x * aX + tMat.col2.x * aY;
            bY -= tMat.col1.y * aX + tMat.col2.y * aY;
            var k_errorTol = 0.001;
            for (;;) {
                tMat = c.normalMass;
                var xX = -(tMat.col1.x * bX + tMat.col2.x * bY);
                var xY = -(tMat.col1.y * bX + tMat.col2.y * bY);
                if (xX >= 0 && xY >= 0) {
                    dX = xX - aX;
                    dY = xY - aY;
                    P1X = dX * normalX;
                    P1Y = dX * normalY;
                    P2X = dY * normalX;
                    P2Y = dY * normalY;
                    vA.x -= invMassA * (P1X + P2X);
                    vA.y -= invMassA * (P1Y + P2Y);
                    wA -= invIA * (cp1.rA.x * P1Y - cp1.rA.y * P1X + cp2.rA.x * P2Y - cp2.rA.y * P2X);
                    vB.x += invMassB * (P1X + P2X);
                    vB.y += invMassB * (P1Y + P2Y);
                    wB += invIB * (cp1.rB.x * P1Y - cp1.rB.y * P1X + cp2.rB.x * P2Y - cp2.rB.y * P2X);
                    cp1.normalImpulse = xX;
                    cp2.normalImpulse = xY;
                    break;
                }
                xX = -cp1.normalMass * bX;
                xY = 0;
                vn1 = 0;
                vn2 = c.K.col1.y * xX + bY;
                if (xX >= 0 && vn2 >= 0) {
                    dX = xX - aX;
                    dY = xY - aY;
                    P1X = dX * normalX;
                    P1Y = dX * normalY;
                    P2X = dY * normalX;
                    P2Y = dY * normalY;
                    vA.x -= invMassA * (P1X + P2X);
                    vA.y -= invMassA * (P1Y + P2Y);
                    wA -= invIA * (cp1.rA.x * P1Y - cp1.rA.y * P1X + cp2.rA.x * P2Y - cp2.rA.y * P2X);
                    vB.x += invMassB * (P1X + P2X);
                    vB.y += invMassB * (P1Y + P2Y);
                    wB += invIB * (cp1.rB.x * P1Y - cp1.rB.y * P1X + cp2.rB.x * P2Y - cp2.rB.y * P2X);
                    cp1.normalImpulse = xX;
                    cp2.normalImpulse = xY;
                    break;
                }
                xX = 0;
                xY = -cp2.normalMass * bY;
                vn1 = c.K.col2.x * xY + bX;
                vn2 = 0;
                if (xY >= 0 && vn1 >= 0) {
                    dX = xX - aX;
                    dY = xY - aY;
                    P1X = dX * normalX;
                    P1Y = dX * normalY;
                    P2X = dY * normalX;
                    P2Y = dY * normalY;
                    vA.x -= invMassA * (P1X + P2X);
                    vA.y -= invMassA * (P1Y + P2Y);
                    wA -= invIA * (cp1.rA.x * P1Y - cp1.rA.y * P1X + cp2.rA.x * P2Y - cp2.rA.y * P2X);
                    vB.x += invMassB * (P1X + P2X);
                    vB.y += invMassB * (P1Y + P2Y);
                    wB += invIB * (cp1.rB.x * P1Y - cp1.rB.y * P1X + cp2.rB.x * P2Y - cp2.rB.y * P2X);
                    cp1.normalImpulse = xX;
                    cp2.normalImpulse = xY;
                    break;
                }
                xX = 0;
                xY = 0;
                vn1 = bX;
                vn2 = bY;
                if (vn1 >= 0 && vn2 >= 0) {
                    dX = xX - aX;
                    dY = xY - aY;
                    P1X = dX * normalX;
                    P1Y = dX * normalY;
                    P2X = dY * normalX;
                    P2Y = dY * normalY;
                    vA.x -= invMassA * (P1X + P2X);
                    vA.y -= invMassA * (P1Y + P2Y);
                    wA -= invIA * (cp1.rA.x * P1Y - cp1.rA.y * P1X + cp2.rA.x * P2Y - cp2.rA.y * P2X);
                    vB.x += invMassB * (P1X + P2X);
                    vB.y += invMassB * (P1Y + P2Y);
                    wB += invIB * (cp1.rB.x * P1Y - cp1.rB.y * P1X + cp2.rB.x * P2Y - cp2.rB.y * P2X);
                    cp1.normalImpulse = xX;
                    cp2.normalImpulse = xY;
                    break;
                }
                break;
            }
        }
        bodyA.m_angularVelocity = wA;
        bodyB.m_angularVelocity = wB;
    }
};
b2ContactSolver.prototype.FinalizeVelocityConstraints = function () {
    (() => {
        var i = 0;
        const __forInstance63 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_constraintCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var c = this.m_constraints[i];
                        var m = c.manifold;
                        (() => {
                            var j = 0;
                            const __forInstance64 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return j < c.pointCount ? 1 : 0;
                                    },
                                    update: () => {
                                        ++j;
                                    },
                                    body: () => {
                                        {
                                            var point1 = m.m_points[j];
                                            var point2 = c.points[j];
                                            point1.m_normalImpulse = point2.normalImpulse;
                                            point1.m_tangentImpulse = point2.tangentImpulse;
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance64.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance63.exports;
        return __exports.data();
    })();
};
b2ContactSolver.prototype.SolvePositionConstraints = function (baumgarte) {
    var minSeparation = 0;
    (() => {
        var i = 0;
        const __forInstance65 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_constraintCount ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        var c = this.m_constraints[i];
                        var bodyA = c.bodyA;
                        var bodyB = c.bodyB;
                        var invMassA = bodyA.m_mass * bodyA.m_invMass;
                        var invIA = bodyA.m_mass * bodyA.m_invI;
                        var invMassB = bodyB.m_mass * bodyB.m_invMass;
                        var invIB = bodyB.m_mass * bodyB.m_invI;
                        (() => {
                            const __callInstance502 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        b2ContactSolver.s_psm.Initialize(c);
                                    }
                                }
                            });
                            const __exports = __callInstance502.exports;
                            return __exports.data();
                        })();
                        var normal = b2ContactSolver.s_psm.m_normal;
                        (() => {
                            var j = 0;
                            const __forInstance66 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return j < c.pointCount ? 1 : 0;
                                    },
                                    update: () => {
                                        j++;
                                    },
                                    body: () => {
                                        {
                                            var ccp = c.points[j];
                                            var point = b2ContactSolver.s_psm.m_points[j];
                                            var separation = b2ContactSolver.s_psm.m_separations[j];
                                            var rAX = point.x - bodyA.m_sweep.c.x;
                                            var rAY = point.y - bodyA.m_sweep.c.y;
                                            var rBX = point.x - bodyB.m_sweep.c.x;
                                            var rBY = point.y - bodyB.m_sweep.c.y;
                                            minSeparation = minSeparation < separation ? minSeparation : separation;
                                            var C = b2Math.Clamp(baumgarte * (separation + b2Settings.b2_linearSlop), -b2Settings.b2_maxLinearCorrection, 0);
                                            var impulse = -ccp.equalizedMass * C;
                                            var PX = impulse * normal.x;
                                            var PY = impulse * normal.y;
                                            bodyA.m_sweep.c.x -= invMassA * PX;
                                            bodyA.m_sweep.c.y -= invMassA * PY;
                                            bodyA.m_sweep.a -= invIA * (rAX * PY - rAY * PX);
                                            (() => {
                                                const __callInstance501 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            bodyA.SynchronizeTransform();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance501.exports;
                                                return __exports.data();
                                            })();
                                            bodyB.m_sweep.c.x += invMassB * PX;
                                            bodyB.m_sweep.c.y += invMassB * PY;
                                            bodyB.m_sweep.a += invIB * (rBX * PY - rBY * PX);
                                            (() => {
                                                const __callInstance500 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            bodyB.SynchronizeTransform();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance500.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance66.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance65.exports;
        return __exports.data();
    })();
    return minSeparation > -1.5 * b2Settings.b2_linearSlop;
};
b2ContactSolver.prototype.m_step = new b2TimeStep();
b2ContactSolver.prototype.m_allocator = null;
b2ContactSolver.prototype.m_constraints = new Array();
b2ContactSolver.prototype.m_constraintCount = 0;
var b2Simplex = function () {
    (() => {
        const __callInstance499 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance499.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance498 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance498.exports;
        return __exports.data();
    })();
};
b2Simplex.prototype.__constructor = function () {
    this.m_vertices[0] = this.m_v1;
    this.m_vertices[1] = this.m_v2;
    this.m_vertices[2] = this.m_v3;
};
b2Simplex.prototype.__varz = function () {
    this.m_v1 = new b2SimplexVertex();
    this.m_v2 = new b2SimplexVertex();
    this.m_v3 = new b2SimplexVertex();
    this.m_vertices = new Array(3);
};
b2Simplex.prototype.ReadCache = function (cache, proxyA, transformA, proxyB, transformB) {
    (() => {
        const __callInstance497 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(0 <= cache.count && cache.count <= 3);
                }
            }
        });
        const __exports = __callInstance497.exports;
        return __exports.data();
    })();
    var wALocal;
    var wBLocal;
    this.m_count = cache.count;
    var vertices = this.m_vertices;
    (() => {
        var i = 0;
        const __forInstance67 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_count ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        var v = vertices[i];
                        v.indexA = cache.indexA[i];
                        v.indexB = cache.indexB[i];
                        wALocal = proxyA.GetVertex(v.indexA);
                        wBLocal = proxyB.GetVertex(v.indexB);
                        v.wA = b2Math.MulX(transformA, wALocal);
                        v.wB = b2Math.MulX(transformB, wBLocal);
                        v.w = b2Math.SubtractVV(v.wB, v.wA);
                        v.a = 0;
                    }
                }
            }
        });
        const __exports = __forInstance67.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance172 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var metric1 = cache.metric;
                        var metric2 = this.GetMetric();
                        (() => {
                            const __ifInstance173 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.m_count = 0;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance173.exports;
                            return __exports.data(metric2 < 0.5 * metric1 || 2 * metric1 < metric2 || metric2 < Number.MIN_VALUE ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance172.exports;
        return __exports.data(this.m_count > 1 ? 1 : 0);
    })();
    (() => {
        const __ifInstance174 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        v = vertices[0];
                        v.indexA = 0;
                        v.indexB = 0;
                        wALocal = proxyA.GetVertex(0);
                        wBLocal = proxyB.GetVertex(0);
                        v.wA = b2Math.MulX(transformA, wALocal);
                        v.wB = b2Math.MulX(transformB, wBLocal);
                        v.w = b2Math.SubtractVV(v.wB, v.wA);
                        this.m_count = 1;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance174.exports;
        return __exports.data(this.m_count == 0 ? 1 : 0);
    })();
};
b2Simplex.prototype.WriteCache = function (cache) {
    cache.metric = this.GetMetric();
    cache.count = parseInt(this.m_count);
    var vertices = this.m_vertices;
    (() => {
        var i = 0;
        const __forInstance68 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_count ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        cache.indexA[i] = parseInt(vertices[i].indexA);
                        cache.indexB[i] = parseInt(vertices[i].indexB);
                    }
                }
            }
        });
        const __exports = __forInstance68.exports;
        return __exports.data();
    })();
};
b2Simplex.prototype.GetSearchDirection = function () {
    switch (this.m_count) {
    case 1:
        return this.m_v1.w.GetNegative();
    case 2:
        var e12 = b2Math.SubtractVV(this.m_v2.w, this.m_v1.w);
        var sgn = b2Math.CrossVV(e12, this.m_v1.w.GetNegative());
        if (sgn > 0) {
            return b2Math.CrossFV(1, e12);
        } else {
            return b2Math.CrossVF(e12, 1);
        }
        ;
    default:
        (() => {
            const __callInstance496 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Settings.b2Assert(false);
                    }
                }
            });
            const __exports = __callInstance496.exports;
            return __exports.data();
        })();
        return new b2Vec2();
    }
};
b2Simplex.prototype.GetClosestPoint = function () {
    switch (this.m_count) {
    case 0:
        (() => {
            const __callInstance495 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Settings.b2Assert(false);
                    }
                }
            });
            const __exports = __callInstance495.exports;
            return __exports.data();
        })();
        return new b2Vec2();
    case 1:
        return this.m_v1.w;
    case 2:
        return new b2Vec2(this.m_v1.a * this.m_v1.w.x + this.m_v2.a * this.m_v2.w.x, this.m_v1.a * this.m_v1.w.y + this.m_v2.a * this.m_v2.w.y);
    default:
        (() => {
            const __callInstance494 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Settings.b2Assert(false);
                    }
                }
            });
            const __exports = __callInstance494.exports;
            return __exports.data();
        })();
        return new b2Vec2();
    }
};
b2Simplex.prototype.GetWitnessPoints = function (pA, pB) {
    switch (this.m_count) {
    case 0:
        (() => {
            const __callInstance493 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Settings.b2Assert(false);
                    }
                }
            });
            const __exports = __callInstance493.exports;
            return __exports.data();
        })();
        break;
    case 1:
        (() => {
            const __callInstance492 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        pA.SetV(this.m_v1.wA);
                    }
                }
            });
            const __exports = __callInstance492.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance491 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        pB.SetV(this.m_v1.wB);
                    }
                }
            });
            const __exports = __callInstance491.exports;
            return __exports.data();
        })();
        break;
    case 2:
        pA.x = this.m_v1.a * this.m_v1.wA.x + this.m_v2.a * this.m_v2.wA.x;
        pA.y = this.m_v1.a * this.m_v1.wA.y + this.m_v2.a * this.m_v2.wA.y;
        pB.x = this.m_v1.a * this.m_v1.wB.x + this.m_v2.a * this.m_v2.wB.x;
        pB.y = this.m_v1.a * this.m_v1.wB.y + this.m_v2.a * this.m_v2.wB.y;
        break;
    case 3:
        pB.x = pA.x = this.m_v1.a * this.m_v1.wA.x + this.m_v2.a * this.m_v2.wA.x + this.m_v3.a * this.m_v3.wA.x;
        pB.y = pA.y = this.m_v1.a * this.m_v1.wA.y + this.m_v2.a * this.m_v2.wA.y + this.m_v3.a * this.m_v3.wA.y;
        break;
    default:
        (() => {
            const __callInstance490 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Settings.b2Assert(false);
                    }
                }
            });
            const __exports = __callInstance490.exports;
            return __exports.data();
        })();
        break;
    }
};
b2Simplex.prototype.GetMetric = function () {
    switch (this.m_count) {
    case 0:
        (() => {
            const __callInstance489 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Settings.b2Assert(false);
                    }
                }
            });
            const __exports = __callInstance489.exports;
            return __exports.data();
        })();
        return 0;
    case 1:
        return 0;
    case 2:
        return b2Math.SubtractVV(this.m_v1.w, this.m_v2.w).Length();
    case 3:
        return b2Math.CrossVV(b2Math.SubtractVV(this.m_v2.w, this.m_v1.w), b2Math.SubtractVV(this.m_v3.w, this.m_v1.w));
    default:
        (() => {
            const __callInstance488 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Settings.b2Assert(false);
                    }
                }
            });
            const __exports = __callInstance488.exports;
            return __exports.data();
        })();
        return 0;
    }
};
b2Simplex.prototype.Solve2 = function () {
    var w1 = this.m_v1.w;
    var w2 = this.m_v2.w;
    var e12 = b2Math.SubtractVV(w2, w1);
    var d12_2 = -(w1.x * e12.x + w1.y * e12.y);
    if (d12_2 <= 0) {
        this.m_v1.a = 1;
        this.m_count = 1;
        return;
    }
    var d12_1 = w2.x * e12.x + w2.y * e12.y;
    if (d12_1 <= 0) {
        this.m_v2.a = 1;
        this.m_count = 1;
        (() => {
            const __callInstance487 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_v1.Set(this.m_v2);
                    }
                }
            });
            const __exports = __callInstance487.exports;
            return __exports.data();
        })();
        return;
    }
    var inv_d12 = 1 / (d12_1 + d12_2);
    this.m_v1.a = d12_1 * inv_d12;
    this.m_v2.a = d12_2 * inv_d12;
    this.m_count = 2;
};
b2Simplex.prototype.Solve3 = function () {
    var w1 = this.m_v1.w;
    var w2 = this.m_v2.w;
    var w3 = this.m_v3.w;
    var e12 = b2Math.SubtractVV(w2, w1);
    var w1e12 = b2Math.Dot(w1, e12);
    var w2e12 = b2Math.Dot(w2, e12);
    var d12_1 = w2e12;
    var d12_2 = -w1e12;
    var e13 = b2Math.SubtractVV(w3, w1);
    var w1e13 = b2Math.Dot(w1, e13);
    var w3e13 = b2Math.Dot(w3, e13);
    var d13_1 = w3e13;
    var d13_2 = -w1e13;
    var e23 = b2Math.SubtractVV(w3, w2);
    var w2e23 = b2Math.Dot(w2, e23);
    var w3e23 = b2Math.Dot(w3, e23);
    var d23_1 = w3e23;
    var d23_2 = -w2e23;
    var n123 = b2Math.CrossVV(e12, e13);
    var d123_1 = n123 * b2Math.CrossVV(w2, w3);
    var d123_2 = n123 * b2Math.CrossVV(w3, w1);
    var d123_3 = n123 * b2Math.CrossVV(w1, w2);
    if (d12_2 <= 0 && d13_2 <= 0) {
        this.m_v1.a = 1;
        this.m_count = 1;
        return;
    }
    if (d12_1 > 0 && d12_2 > 0 && d123_3 <= 0) {
        var inv_d12 = 1 / (d12_1 + d12_2);
        this.m_v1.a = d12_1 * inv_d12;
        this.m_v2.a = d12_2 * inv_d12;
        this.m_count = 2;
        return;
    }
    if (d13_1 > 0 && d13_2 > 0 && d123_2 <= 0) {
        var inv_d13 = 1 / (d13_1 + d13_2);
        this.m_v1.a = d13_1 * inv_d13;
        this.m_v3.a = d13_2 * inv_d13;
        this.m_count = 2;
        (() => {
            const __callInstance486 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_v2.Set(this.m_v3);
                    }
                }
            });
            const __exports = __callInstance486.exports;
            return __exports.data();
        })();
        return;
    }
    if (d12_1 <= 0 && d23_2 <= 0) {
        this.m_v2.a = 1;
        this.m_count = 1;
        (() => {
            const __callInstance485 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_v1.Set(this.m_v2);
                    }
                }
            });
            const __exports = __callInstance485.exports;
            return __exports.data();
        })();
        return;
    }
    if (d13_1 <= 0 && d23_1 <= 0) {
        this.m_v3.a = 1;
        this.m_count = 1;
        (() => {
            const __callInstance484 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_v1.Set(this.m_v3);
                    }
                }
            });
            const __exports = __callInstance484.exports;
            return __exports.data();
        })();
        return;
    }
    if (d23_1 > 0 && d23_2 > 0 && d123_1 <= 0) {
        var inv_d23 = 1 / (d23_1 + d23_2);
        this.m_v2.a = d23_1 * inv_d23;
        this.m_v3.a = d23_2 * inv_d23;
        this.m_count = 2;
        (() => {
            const __callInstance483 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_v1.Set(this.m_v3);
                    }
                }
            });
            const __exports = __callInstance483.exports;
            return __exports.data();
        })();
        return;
    }
    var inv_d123 = 1 / (d123_1 + d123_2 + d123_3);
    this.m_v1.a = d123_1 * inv_d123;
    this.m_v2.a = d123_2 * inv_d123;
    this.m_v3.a = d123_3 * inv_d123;
    this.m_count = 3;
};
b2Simplex.prototype.m_v1 = new b2SimplexVertex();
b2Simplex.prototype.m_v2 = new b2SimplexVertex();
b2Simplex.prototype.m_v3 = new b2SimplexVertex();
b2Simplex.prototype.m_vertices = new Array(3);
b2Simplex.prototype.m_count = 0;
var b2WeldJoint = function () {
    (() => {
        const __callInstance482 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance482.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance481 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance481.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance480 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance480.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance479 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2WeldJoint.prototype, b2Joint.prototype);
            }
        }
    });
    const __exports = __callInstance479.exports;
    return __exports.data();
})();
b2WeldJoint.prototype._super = b2Joint.prototype;
b2WeldJoint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance478 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, [def]);
                }
            }
        });
        const __exports = __callInstance478.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance477 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchorA.SetV(def.localAnchorA);
                }
            }
        });
        const __exports = __callInstance477.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance476 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchorB.SetV(def.localAnchorB);
                }
            }
        });
        const __exports = __callInstance476.exports;
        return __exports.data();
    })();
    this.m_referenceAngle = def.referenceAngle;
    (() => {
        const __callInstance475 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_impulse.SetZero();
                }
            }
        });
        const __exports = __callInstance475.exports;
        return __exports.data();
    })();
    this.m_mass = new b2Mat33();
};
b2WeldJoint.prototype.__varz = function () {
    this.m_localAnchorA = new b2Vec2();
    this.m_localAnchorB = new b2Vec2();
    this.m_impulse = new b2Vec3();
    this.m_mass = new b2Mat33();
};
b2WeldJoint.prototype.InitVelocityConstraints = function (step) {
    var tMat;
    var tX;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    tMat = bA.m_xf.R;
    var rAX = this.m_localAnchorA.x - bA.m_sweep.localCenter.x;
    var rAY = this.m_localAnchorA.y - bA.m_sweep.localCenter.y;
    tX = tMat.col1.x * rAX + tMat.col2.x * rAY;
    rAY = tMat.col1.y * rAX + tMat.col2.y * rAY;
    rAX = tX;
    tMat = bB.m_xf.R;
    var rBX = this.m_localAnchorB.x - bB.m_sweep.localCenter.x;
    var rBY = this.m_localAnchorB.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * rBX + tMat.col2.x * rBY;
    rBY = tMat.col1.y * rBX + tMat.col2.y * rBY;
    rBX = tX;
    var mA = bA.m_invMass;
    var mB = bB.m_invMass;
    var iA = bA.m_invI;
    var iB = bB.m_invI;
    this.m_mass.col1.x = mA + mB + rAY * rAY * iA + rBY * rBY * iB;
    this.m_mass.col2.x = -rAY * rAX * iA - rBY * rBX * iB;
    this.m_mass.col3.x = -rAY * iA - rBY * iB;
    this.m_mass.col1.y = this.m_mass.col2.x;
    this.m_mass.col2.y = mA + mB + rAX * rAX * iA + rBX * rBX * iB;
    this.m_mass.col3.y = rAX * iA + rBX * iB;
    this.m_mass.col1.z = this.m_mass.col3.x;
    this.m_mass.col2.z = this.m_mass.col3.y;
    this.m_mass.col3.z = iA + iB;
    (() => {
        const __ifInstance175 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_impulse.x *= step.dtRatio;
                        this.m_impulse.y *= step.dtRatio;
                        this.m_impulse.z *= step.dtRatio;
                        bA.m_linearVelocity.x -= mA * this.m_impulse.x;
                        bA.m_linearVelocity.y -= mA * this.m_impulse.y;
                        bA.m_angularVelocity -= iA * (rAX * this.m_impulse.y - rAY * this.m_impulse.x + this.m_impulse.z);
                        bB.m_linearVelocity.x += mB * this.m_impulse.x;
                        bB.m_linearVelocity.y += mB * this.m_impulse.y;
                        bB.m_angularVelocity += iB * (rBX * this.m_impulse.y - rBY * this.m_impulse.x + this.m_impulse.z);
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance474 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_impulse.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance474.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __ifInstance175.exports;
        return __exports.data(step.warmStarting ? 1 : 0);
    })();
};
b2WeldJoint.prototype.SolveVelocityConstraints = function (step) {
    var tMat;
    var tX;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var vA = bA.m_linearVelocity;
    var wA = bA.m_angularVelocity;
    var vB = bB.m_linearVelocity;
    var wB = bB.m_angularVelocity;
    var mA = bA.m_invMass;
    var mB = bB.m_invMass;
    var iA = bA.m_invI;
    var iB = bB.m_invI;
    tMat = bA.m_xf.R;
    var rAX = this.m_localAnchorA.x - bA.m_sweep.localCenter.x;
    var rAY = this.m_localAnchorA.y - bA.m_sweep.localCenter.y;
    tX = tMat.col1.x * rAX + tMat.col2.x * rAY;
    rAY = tMat.col1.y * rAX + tMat.col2.y * rAY;
    rAX = tX;
    tMat = bB.m_xf.R;
    var rBX = this.m_localAnchorB.x - bB.m_sweep.localCenter.x;
    var rBY = this.m_localAnchorB.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * rBX + tMat.col2.x * rBY;
    rBY = tMat.col1.y * rBX + tMat.col2.y * rBY;
    rBX = tX;
    var Cdot1X = vB.x - wB * rBY - vA.x + wA * rAY;
    var Cdot1Y = vB.y + wB * rBX - vA.y - wA * rAX;
    var Cdot2 = wB - wA;
    var impulse = new b2Vec3();
    (() => {
        const __callInstance473 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_mass.Solve33(impulse, -Cdot1X, -Cdot1Y, -Cdot2);
                }
            }
        });
        const __exports = __callInstance473.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance472 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_impulse.Add(impulse);
                }
            }
        });
        const __exports = __callInstance472.exports;
        return __exports.data();
    })();
    vA.x -= mA * impulse.x;
    vA.y -= mA * impulse.y;
    wA -= iA * (rAX * impulse.y - rAY * impulse.x + impulse.z);
    vB.x += mB * impulse.x;
    vB.y += mB * impulse.y;
    wB += iB * (rBX * impulse.y - rBY * impulse.x + impulse.z);
    bA.m_angularVelocity = wA;
    bB.m_angularVelocity = wB;
};
b2WeldJoint.prototype.SolvePositionConstraints = function (baumgarte) {
    var tMat;
    var tX;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    tMat = bA.m_xf.R;
    var rAX = this.m_localAnchorA.x - bA.m_sweep.localCenter.x;
    var rAY = this.m_localAnchorA.y - bA.m_sweep.localCenter.y;
    tX = tMat.col1.x * rAX + tMat.col2.x * rAY;
    rAY = tMat.col1.y * rAX + tMat.col2.y * rAY;
    rAX = tX;
    tMat = bB.m_xf.R;
    var rBX = this.m_localAnchorB.x - bB.m_sweep.localCenter.x;
    var rBY = this.m_localAnchorB.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * rBX + tMat.col2.x * rBY;
    rBY = tMat.col1.y * rBX + tMat.col2.y * rBY;
    rBX = tX;
    var mA = bA.m_invMass;
    var mB = bB.m_invMass;
    var iA = bA.m_invI;
    var iB = bB.m_invI;
    var C1X = bB.m_sweep.c.x + rBX - bA.m_sweep.c.x - rAX;
    var C1Y = bB.m_sweep.c.y + rBY - bA.m_sweep.c.y - rAY;
    var C2 = bB.m_sweep.a - bA.m_sweep.a - this.m_referenceAngle;
    var k_allowedStretch = 10 * b2Settings.b2_linearSlop;
    var positionError = Math.sqrt(C1X * C1X + C1Y * C1Y);
    var angularError = b2Math.Abs(C2);
    (() => {
        const __ifInstance176 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        iA *= 1;
                        iB *= 1;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance176.exports;
        return __exports.data(positionError > k_allowedStretch ? 1 : 0);
    })();
    this.m_mass.col1.x = mA + mB + rAY * rAY * iA + rBY * rBY * iB;
    this.m_mass.col2.x = -rAY * rAX * iA - rBY * rBX * iB;
    this.m_mass.col3.x = -rAY * iA - rBY * iB;
    this.m_mass.col1.y = this.m_mass.col2.x;
    this.m_mass.col2.y = mA + mB + rAX * rAX * iA + rBX * rBX * iB;
    this.m_mass.col3.y = rAX * iA + rBX * iB;
    this.m_mass.col1.z = this.m_mass.col3.x;
    this.m_mass.col2.z = this.m_mass.col3.y;
    this.m_mass.col3.z = iA + iB;
    var impulse = new b2Vec3();
    (() => {
        const __callInstance471 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_mass.Solve33(impulse, -C1X, -C1Y, -C2);
                }
            }
        });
        const __exports = __callInstance471.exports;
        return __exports.data();
    })();
    bA.m_sweep.c.x -= mA * impulse.x;
    bA.m_sweep.c.y -= mA * impulse.y;
    bA.m_sweep.a -= iA * (rAX * impulse.y - rAY * impulse.x + impulse.z);
    bB.m_sweep.c.x += mB * impulse.x;
    bB.m_sweep.c.y += mB * impulse.y;
    bB.m_sweep.a += iB * (rBX * impulse.y - rBY * impulse.x + impulse.z);
    (() => {
        const __callInstance470 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bA.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance470.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance469 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bB.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance469.exports;
        return __exports.data();
    })();
    return positionError <= b2Settings.b2_linearSlop && angularError <= b2Settings.b2_angularSlop;
};
b2WeldJoint.prototype.GetAnchorA = function () {
    return this.m_bodyA.GetWorldPoint(this.m_localAnchorA);
};
b2WeldJoint.prototype.GetAnchorB = function () {
    return this.m_bodyB.GetWorldPoint(this.m_localAnchorB);
};
b2WeldJoint.prototype.GetReactionForce = function (inv_dt) {
    return new b2Vec2(inv_dt * this.m_impulse.x, inv_dt * this.m_impulse.y);
};
b2WeldJoint.prototype.GetReactionTorque = function (inv_dt) {
    return inv_dt * this.m_impulse.z;
};
b2WeldJoint.prototype.m_localAnchorA = new b2Vec2();
b2WeldJoint.prototype.m_localAnchorB = new b2Vec2();
b2WeldJoint.prototype.m_referenceAngle = null;
b2WeldJoint.prototype.m_impulse = new b2Vec3();
b2WeldJoint.prototype.m_mass = new b2Mat33();
var b2Math = function () {
    (() => {
        const __callInstance468 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance468.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance467 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance467.exports;
        return __exports.data();
    })();
};
b2Math.prototype.__constructor = function () {
};
b2Math.prototype.__varz = function () {
};
b2Math.IsValid = function (x) {
    return isFinite(x);
};
b2Math.Dot = function (a, b) {
    return a.x * b.x + a.y * b.y;
};
b2Math.CrossVV = function (a, b) {
    return a.x * b.y - a.y * b.x;
};
b2Math.CrossVF = function (a, s) {
    var v = new b2Vec2(s * a.y, -s * a.x);
    return v;
};
b2Math.CrossFV = function (s, a) {
    var v = new b2Vec2(-s * a.y, s * a.x);
    return v;
};
b2Math.MulMV = function (A, v) {
    var u = new b2Vec2(A.col1.x * v.x + A.col2.x * v.y, A.col1.y * v.x + A.col2.y * v.y);
    return u;
};
b2Math.MulTMV = function (A, v) {
    var u = new b2Vec2(b2Math.Dot(v, A.col1), b2Math.Dot(v, A.col2));
    return u;
};
b2Math.MulX = function (T, v) {
    var a = b2Math.MulMV(T.R, v);
    a.x += T.position.x;
    a.y += T.position.y;
    return a;
};
b2Math.MulXT = function (T, v) {
    var a = b2Math.SubtractVV(v, T.position);
    var tX = a.x * T.R.col1.x + a.y * T.R.col1.y;
    a.y = a.x * T.R.col2.x + a.y * T.R.col2.y;
    a.x = tX;
    return a;
};
b2Math.AddVV = function (a, b) {
    var v = new b2Vec2(a.x + b.x, a.y + b.y);
    return v;
};
b2Math.SubtractVV = function (a, b) {
    var v = new b2Vec2(a.x - b.x, a.y - b.y);
    return v;
};
b2Math.Distance = function (a, b) {
    var cX = a.x - b.x;
    var cY = a.y - b.y;
    return Math.sqrt(cX * cX + cY * cY);
};
b2Math.DistanceSquared = function (a, b) {
    var cX = a.x - b.x;
    var cY = a.y - b.y;
    return cX * cX + cY * cY;
};
b2Math.MulFV = function (s, a) {
    var v = new b2Vec2(s * a.x, s * a.y);
    return v;
};
b2Math.AddMM = function (A, B) {
    var C = b2Mat22.FromVV(b2Math.AddVV(A.col1, B.col1), b2Math.AddVV(A.col2, B.col2));
    return C;
};
b2Math.MulMM = function (A, B) {
    var C = b2Mat22.FromVV(b2Math.MulMV(A, B.col1), b2Math.MulMV(A, B.col2));
    return C;
};
b2Math.MulTMM = function (A, B) {
    var c1 = new b2Vec2(b2Math.Dot(A.col1, B.col1), b2Math.Dot(A.col2, B.col1));
    var c2 = new b2Vec2(b2Math.Dot(A.col1, B.col2), b2Math.Dot(A.col2, B.col2));
    var C = b2Mat22.FromVV(c1, c2);
    return C;
};
b2Math.Abs = function (a) {
    return a > 0 ? a : -a;
};
b2Math.AbsV = function (a) {
    var b = new b2Vec2(b2Math.Abs(a.x), b2Math.Abs(a.y));
    return b;
};
b2Math.AbsM = function (A) {
    var B = b2Mat22.FromVV(b2Math.AbsV(A.col1), b2Math.AbsV(A.col2));
    return B;
};
b2Math.Min = function (a, b) {
    return a < b ? a : b;
};
b2Math.MinV = function (a, b) {
    var c = new b2Vec2(b2Math.Min(a.x, b.x), b2Math.Min(a.y, b.y));
    return c;
};
b2Math.Max = function (a, b) {
    return a > b ? a : b;
};
b2Math.MaxV = function (a, b) {
    var c = new b2Vec2(b2Math.Max(a.x, b.x), b2Math.Max(a.y, b.y));
    return c;
};
b2Math.Clamp = function (a, low, high) {
    return a < low ? low : a > high ? high : a;
};
b2Math.ClampV = function (a, low, high) {
    return b2Math.MaxV(low, b2Math.MinV(a, high));
};
b2Math.Swap = function (a, b) {
    var tmp = a[0];
    a[0] = b[0];
    b[0] = tmp;
};
b2Math.Random = function () {
    return Math.random() * 2 - 1;
};
b2Math.RandomRange = function (lo, hi) {
    var r = Math.random();
    r = (hi - lo) * r + lo;
    return r;
};
b2Math.NextPowerOfTwo = function (x) {
    x |= x >> 1 & 2147483647;
    x |= x >> 2 & 1073741823;
    x |= x >> 4 & 268435455;
    x |= x >> 8 & 16777215;
    x |= x >> 16 & 65535;
    return x + 1;
};
b2Math.IsPowerOfTwo = function (x) {
    var result = x > 0 && (x & x - 1) == 0;
    return result;
};
b2Math.b2Vec2_zero = new b2Vec2(0, 0);
b2Math.b2Mat22_identity = b2Mat22.FromVV(new b2Vec2(1, 0), new b2Vec2(0, 1));
b2Math.b2Transform_identity = new b2Transform(b2Math.b2Vec2_zero, b2Math.b2Mat22_identity);
var b2PulleyJoint = function () {
    (() => {
        const __callInstance466 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance466.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance465 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance465.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance464 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance464.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance463 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2PulleyJoint.prototype, b2Joint.prototype);
            }
        }
    });
    const __exports = __callInstance463.exports;
    return __exports.data();
})();
b2PulleyJoint.prototype._super = b2Joint.prototype;
b2PulleyJoint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance462 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, [def]);
                }
            }
        });
        const __exports = __callInstance462.exports;
        return __exports.data();
    })();
    var tMat;
    var tX;
    var tY;
    this.m_ground = this.m_bodyA.m_world.m_groundBody;
    this.m_groundAnchor1.x = def.groundAnchorA.x - this.m_ground.m_xf.position.x;
    this.m_groundAnchor1.y = def.groundAnchorA.y - this.m_ground.m_xf.position.y;
    this.m_groundAnchor2.x = def.groundAnchorB.x - this.m_ground.m_xf.position.x;
    this.m_groundAnchor2.y = def.groundAnchorB.y - this.m_ground.m_xf.position.y;
    (() => {
        const __callInstance461 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor1.SetV(def.localAnchorA);
                }
            }
        });
        const __exports = __callInstance461.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance460 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor2.SetV(def.localAnchorB);
                }
            }
        });
        const __exports = __callInstance460.exports;
        return __exports.data();
    })();
    this.m_ratio = def.ratio;
    this.m_constant = def.lengthA + this.m_ratio * def.lengthB;
    this.m_maxLength1 = b2Math.Min(def.maxLengthA, this.m_constant - this.m_ratio * b2PulleyJoint.b2_minPulleyLength);
    this.m_maxLength2 = b2Math.Min(def.maxLengthB, (this.m_constant - b2PulleyJoint.b2_minPulleyLength) / this.m_ratio);
    this.m_impulse = 0;
    this.m_limitImpulse1 = 0;
    this.m_limitImpulse2 = 0;
};
b2PulleyJoint.prototype.__varz = function () {
    this.m_groundAnchor1 = new b2Vec2();
    this.m_groundAnchor2 = new b2Vec2();
    this.m_localAnchor1 = new b2Vec2();
    this.m_localAnchor2 = new b2Vec2();
    this.m_u1 = new b2Vec2();
    this.m_u2 = new b2Vec2();
};
b2PulleyJoint.b2_minPulleyLength = 2;
b2PulleyJoint.prototype.InitVelocityConstraints = function (step) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
    var r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
    var tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
    var r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var p1X = bA.m_sweep.c.x + r1X;
    var p1Y = bA.m_sweep.c.y + r1Y;
    var p2X = bB.m_sweep.c.x + r2X;
    var p2Y = bB.m_sweep.c.y + r2Y;
    var s1X = this.m_ground.m_xf.position.x + this.m_groundAnchor1.x;
    var s1Y = this.m_ground.m_xf.position.y + this.m_groundAnchor1.y;
    var s2X = this.m_ground.m_xf.position.x + this.m_groundAnchor2.x;
    var s2Y = this.m_ground.m_xf.position.y + this.m_groundAnchor2.y;
    (() => {
        const __callInstance459 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_u1.Set(p1X - s1X, p1Y - s1Y);
                }
            }
        });
        const __exports = __callInstance459.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance458 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_u2.Set(p2X - s2X, p2Y - s2Y);
                }
            }
        });
        const __exports = __callInstance458.exports;
        return __exports.data();
    })();
    var length1 = this.m_u1.Length();
    var length2 = this.m_u2.Length();
    (() => {
        const __ifInstance177 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance457 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u1.Multiply(1 / length1);
                                    }
                                }
                            });
                            const __exports = __callInstance457.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance456 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u1.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance456.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __ifInstance177.exports;
        return __exports.data(length1 > b2Settings.b2_linearSlop ? 1 : 0);
    })();
    (() => {
        const __ifInstance178 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance455 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u2.Multiply(1 / length2);
                                    }
                                }
                            });
                            const __exports = __callInstance455.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance454 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u2.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance454.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __ifInstance178.exports;
        return __exports.data(length2 > b2Settings.b2_linearSlop ? 1 : 0);
    })();
    var C = this.m_constant - length1 - this.m_ratio * length2;
    (() => {
        const __ifInstance179 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_state = b2Joint.e_inactiveLimit;
                        this.m_impulse = 0;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_state = b2Joint.e_atUpperLimit;
                    }
                }
            }
        });
        const __exports = __ifInstance179.exports;
        return __exports.data(C > 0 ? 1 : 0);
    })();
    (() => {
        const __ifInstance180 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_limitState1 = b2Joint.e_inactiveLimit;
                        this.m_limitImpulse1 = 0;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_limitState1 = b2Joint.e_atUpperLimit;
                    }
                }
            }
        });
        const __exports = __ifInstance180.exports;
        return __exports.data(length1 < this.m_maxLength1 ? 1 : 0);
    })();
    (() => {
        const __ifInstance181 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_limitState2 = b2Joint.e_inactiveLimit;
                        this.m_limitImpulse2 = 0;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_limitState2 = b2Joint.e_atUpperLimit;
                    }
                }
            }
        });
        const __exports = __ifInstance181.exports;
        return __exports.data(length2 < this.m_maxLength2 ? 1 : 0);
    })();
    var cr1u1 = r1X * this.m_u1.y - r1Y * this.m_u1.x;
    var cr2u2 = r2X * this.m_u2.y - r2Y * this.m_u2.x;
    this.m_limitMass1 = bA.m_invMass + bA.m_invI * cr1u1 * cr1u1;
    this.m_limitMass2 = bB.m_invMass + bB.m_invI * cr2u2 * cr2u2;
    this.m_pulleyMass = this.m_limitMass1 + this.m_ratio * this.m_ratio * this.m_limitMass2;
    this.m_limitMass1 = 1 / this.m_limitMass1;
    this.m_limitMass2 = 1 / this.m_limitMass2;
    this.m_pulleyMass = 1 / this.m_pulleyMass;
    (() => {
        const __ifInstance182 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_impulse *= step.dtRatio;
                        this.m_limitImpulse1 *= step.dtRatio;
                        this.m_limitImpulse2 *= step.dtRatio;
                        var P1X = (-this.m_impulse - this.m_limitImpulse1) * this.m_u1.x;
                        var P1Y = (-this.m_impulse - this.m_limitImpulse1) * this.m_u1.y;
                        var P2X = (-this.m_ratio * this.m_impulse - this.m_limitImpulse2) * this.m_u2.x;
                        var P2Y = (-this.m_ratio * this.m_impulse - this.m_limitImpulse2) * this.m_u2.y;
                        bA.m_linearVelocity.x += bA.m_invMass * P1X;
                        bA.m_linearVelocity.y += bA.m_invMass * P1Y;
                        bA.m_angularVelocity += bA.m_invI * (r1X * P1Y - r1Y * P1X);
                        bB.m_linearVelocity.x += bB.m_invMass * P2X;
                        bB.m_linearVelocity.y += bB.m_invMass * P2Y;
                        bB.m_angularVelocity += bB.m_invI * (r2X * P2Y - r2Y * P2X);
                    }
                },
                impFunc2: () => {
                    {
                        this.m_impulse = 0;
                        this.m_limitImpulse1 = 0;
                        this.m_limitImpulse2 = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance182.exports;
        return __exports.data(step.warmStarting ? 1 : 0);
    })();
};
b2PulleyJoint.prototype.SolveVelocityConstraints = function (step) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
    var r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
    var tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
    var r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var v1X;
    var v1Y;
    var v2X;
    var v2Y;
    var P1X;
    var P1Y;
    var P2X;
    var P2Y;
    var Cdot;
    var impulse;
    var oldImpulse;
    (() => {
        const __ifInstance183 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        v1X = bA.m_linearVelocity.x + -bA.m_angularVelocity * r1Y;
                        v1Y = bA.m_linearVelocity.y + bA.m_angularVelocity * r1X;
                        v2X = bB.m_linearVelocity.x + -bB.m_angularVelocity * r2Y;
                        v2Y = bB.m_linearVelocity.y + bB.m_angularVelocity * r2X;
                        Cdot = -(this.m_u1.x * v1X + this.m_u1.y * v1Y) - this.m_ratio * (this.m_u2.x * v2X + this.m_u2.y * v2Y);
                        impulse = this.m_pulleyMass * -Cdot;
                        oldImpulse = this.m_impulse;
                        this.m_impulse = b2Math.Max(0, this.m_impulse + impulse);
                        impulse = this.m_impulse - oldImpulse;
                        P1X = -impulse * this.m_u1.x;
                        P1Y = -impulse * this.m_u1.y;
                        P2X = -this.m_ratio * impulse * this.m_u2.x;
                        P2Y = -this.m_ratio * impulse * this.m_u2.y;
                        bA.m_linearVelocity.x += bA.m_invMass * P1X;
                        bA.m_linearVelocity.y += bA.m_invMass * P1Y;
                        bA.m_angularVelocity += bA.m_invI * (r1X * P1Y - r1Y * P1X);
                        bB.m_linearVelocity.x += bB.m_invMass * P2X;
                        bB.m_linearVelocity.y += bB.m_invMass * P2Y;
                        bB.m_angularVelocity += bB.m_invI * (r2X * P2Y - r2Y * P2X);
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance183.exports;
        return __exports.data(this.m_state == b2Joint.e_atUpperLimit ? 1 : 0);
    })();
    (() => {
        const __ifInstance184 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        v1X = bA.m_linearVelocity.x + -bA.m_angularVelocity * r1Y;
                        v1Y = bA.m_linearVelocity.y + bA.m_angularVelocity * r1X;
                        Cdot = -(this.m_u1.x * v1X + this.m_u1.y * v1Y);
                        impulse = -this.m_limitMass1 * Cdot;
                        oldImpulse = this.m_limitImpulse1;
                        this.m_limitImpulse1 = b2Math.Max(0, this.m_limitImpulse1 + impulse);
                        impulse = this.m_limitImpulse1 - oldImpulse;
                        P1X = -impulse * this.m_u1.x;
                        P1Y = -impulse * this.m_u1.y;
                        bA.m_linearVelocity.x += bA.m_invMass * P1X;
                        bA.m_linearVelocity.y += bA.m_invMass * P1Y;
                        bA.m_angularVelocity += bA.m_invI * (r1X * P1Y - r1Y * P1X);
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance184.exports;
        return __exports.data(this.m_limitState1 == b2Joint.e_atUpperLimit ? 1 : 0);
    })();
    (() => {
        const __ifInstance185 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        v2X = bB.m_linearVelocity.x + -bB.m_angularVelocity * r2Y;
                        v2Y = bB.m_linearVelocity.y + bB.m_angularVelocity * r2X;
                        Cdot = -(this.m_u2.x * v2X + this.m_u2.y * v2Y);
                        impulse = -this.m_limitMass2 * Cdot;
                        oldImpulse = this.m_limitImpulse2;
                        this.m_limitImpulse2 = b2Math.Max(0, this.m_limitImpulse2 + impulse);
                        impulse = this.m_limitImpulse2 - oldImpulse;
                        P2X = -impulse * this.m_u2.x;
                        P2Y = -impulse * this.m_u2.y;
                        bB.m_linearVelocity.x += bB.m_invMass * P2X;
                        bB.m_linearVelocity.y += bB.m_invMass * P2Y;
                        bB.m_angularVelocity += bB.m_invI * (r2X * P2Y - r2Y * P2X);
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance185.exports;
        return __exports.data(this.m_limitState2 == b2Joint.e_atUpperLimit ? 1 : 0);
    })();
};
b2PulleyJoint.prototype.SolvePositionConstraints = function (baumgarte) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    var s1X = this.m_ground.m_xf.position.x + this.m_groundAnchor1.x;
    var s1Y = this.m_ground.m_xf.position.y + this.m_groundAnchor1.y;
    var s2X = this.m_ground.m_xf.position.x + this.m_groundAnchor2.x;
    var s2Y = this.m_ground.m_xf.position.y + this.m_groundAnchor2.y;
    var r1X;
    var r1Y;
    var r2X;
    var r2Y;
    var p1X;
    var p1Y;
    var p2X;
    var p2Y;
    var length1;
    var length2;
    var C;
    var impulse;
    var oldImpulse;
    var oldLimitPositionImpulse;
    var tX;
    var linearError = 0;
    (() => {
        const __ifInstance186 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        tMat = bA.m_xf.R;
                        r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
                        r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
                        tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
                        r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
                        r1X = tX;
                        tMat = bB.m_xf.R;
                        r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
                        r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
                        tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
                        r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
                        r2X = tX;
                        p1X = bA.m_sweep.c.x + r1X;
                        p1Y = bA.m_sweep.c.y + r1Y;
                        p2X = bB.m_sweep.c.x + r2X;
                        p2Y = bB.m_sweep.c.y + r2Y;
                        (() => {
                            const __callInstance453 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u1.Set(p1X - s1X, p1Y - s1Y);
                                    }
                                }
                            });
                            const __exports = __callInstance453.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance452 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u2.Set(p2X - s2X, p2Y - s2Y);
                                    }
                                }
                            });
                            const __exports = __callInstance452.exports;
                            return __exports.data();
                        })();
                        length1 = this.m_u1.Length();
                        length2 = this.m_u2.Length();
                        (() => {
                            const __ifInstance187 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance451 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_u1.Multiply(1 / length1);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance451.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __callInstance450 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_u1.SetZero();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance450.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance187.exports;
                            return __exports.data(length1 > b2Settings.b2_linearSlop ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance188 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance449 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_u2.Multiply(1 / length2);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance449.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __callInstance448 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_u2.SetZero();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance448.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance188.exports;
                            return __exports.data(length2 > b2Settings.b2_linearSlop ? 1 : 0);
                        })();
                        C = this.m_constant - length1 - this.m_ratio * length2;
                        linearError = b2Math.Max(linearError, -C);
                        C = b2Math.Clamp(C + b2Settings.b2_linearSlop, -b2Settings.b2_maxLinearCorrection, 0);
                        impulse = -this.m_pulleyMass * C;
                        p1X = -impulse * this.m_u1.x;
                        p1Y = -impulse * this.m_u1.y;
                        p2X = -this.m_ratio * impulse * this.m_u2.x;
                        p2Y = -this.m_ratio * impulse * this.m_u2.y;
                        bA.m_sweep.c.x += bA.m_invMass * p1X;
                        bA.m_sweep.c.y += bA.m_invMass * p1Y;
                        bA.m_sweep.a += bA.m_invI * (r1X * p1Y - r1Y * p1X);
                        bB.m_sweep.c.x += bB.m_invMass * p2X;
                        bB.m_sweep.c.y += bB.m_invMass * p2Y;
                        bB.m_sweep.a += bB.m_invI * (r2X * p2Y - r2Y * p2X);
                        (() => {
                            const __callInstance447 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bA.SynchronizeTransform();
                                    }
                                }
                            });
                            const __exports = __callInstance447.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance446 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bB.SynchronizeTransform();
                                    }
                                }
                            });
                            const __exports = __callInstance446.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance186.exports;
        return __exports.data(this.m_state == b2Joint.e_atUpperLimit ? 1 : 0);
    })();
    (() => {
        const __ifInstance189 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        tMat = bA.m_xf.R;
                        r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
                        r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
                        tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
                        r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
                        r1X = tX;
                        p1X = bA.m_sweep.c.x + r1X;
                        p1Y = bA.m_sweep.c.y + r1Y;
                        (() => {
                            const __callInstance445 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u1.Set(p1X - s1X, p1Y - s1Y);
                                    }
                                }
                            });
                            const __exports = __callInstance445.exports;
                            return __exports.data();
                        })();
                        length1 = this.m_u1.Length();
                        (() => {
                            const __ifInstance190 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.m_u1.x *= 1 / length1;
                                            this.m_u1.y *= 1 / length1;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __callInstance444 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_u1.SetZero();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance444.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance190.exports;
                            return __exports.data(length1 > b2Settings.b2_linearSlop ? 1 : 0);
                        })();
                        C = this.m_maxLength1 - length1;
                        linearError = b2Math.Max(linearError, -C);
                        C = b2Math.Clamp(C + b2Settings.b2_linearSlop, -b2Settings.b2_maxLinearCorrection, 0);
                        impulse = -this.m_limitMass1 * C;
                        p1X = -impulse * this.m_u1.x;
                        p1Y = -impulse * this.m_u1.y;
                        bA.m_sweep.c.x += bA.m_invMass * p1X;
                        bA.m_sweep.c.y += bA.m_invMass * p1Y;
                        bA.m_sweep.a += bA.m_invI * (r1X * p1Y - r1Y * p1X);
                        (() => {
                            const __callInstance443 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bA.SynchronizeTransform();
                                    }
                                }
                            });
                            const __exports = __callInstance443.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance189.exports;
        return __exports.data(this.m_limitState1 == b2Joint.e_atUpperLimit ? 1 : 0);
    })();
    (() => {
        const __ifInstance191 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        tMat = bB.m_xf.R;
                        r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
                        r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
                        tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
                        r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
                        r2X = tX;
                        p2X = bB.m_sweep.c.x + r2X;
                        p2Y = bB.m_sweep.c.y + r2Y;
                        (() => {
                            const __callInstance442 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u2.Set(p2X - s2X, p2Y - s2Y);
                                    }
                                }
                            });
                            const __exports = __callInstance442.exports;
                            return __exports.data();
                        })();
                        length2 = this.m_u2.Length();
                        (() => {
                            const __ifInstance192 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.m_u2.x *= 1 / length2;
                                            this.m_u2.y *= 1 / length2;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __callInstance441 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_u2.SetZero();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance441.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance192.exports;
                            return __exports.data(length2 > b2Settings.b2_linearSlop ? 1 : 0);
                        })();
                        C = this.m_maxLength2 - length2;
                        linearError = b2Math.Max(linearError, -C);
                        C = b2Math.Clamp(C + b2Settings.b2_linearSlop, -b2Settings.b2_maxLinearCorrection, 0);
                        impulse = -this.m_limitMass2 * C;
                        p2X = -impulse * this.m_u2.x;
                        p2Y = -impulse * this.m_u2.y;
                        bB.m_sweep.c.x += bB.m_invMass * p2X;
                        bB.m_sweep.c.y += bB.m_invMass * p2Y;
                        bB.m_sweep.a += bB.m_invI * (r2X * p2Y - r2Y * p2X);
                        (() => {
                            const __callInstance440 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bB.SynchronizeTransform();
                                    }
                                }
                            });
                            const __exports = __callInstance440.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance191.exports;
        return __exports.data(this.m_limitState2 == b2Joint.e_atUpperLimit ? 1 : 0);
    })();
    return linearError < b2Settings.b2_linearSlop;
};
b2PulleyJoint.prototype.GetAnchorA = function () {
    return this.m_bodyA.GetWorldPoint(this.m_localAnchor1);
};
b2PulleyJoint.prototype.GetAnchorB = function () {
    return this.m_bodyB.GetWorldPoint(this.m_localAnchor2);
};
b2PulleyJoint.prototype.GetReactionForce = function (inv_dt) {
    return new b2Vec2(inv_dt * this.m_impulse * this.m_u2.x, inv_dt * this.m_impulse * this.m_u2.y);
};
b2PulleyJoint.prototype.GetReactionTorque = function (inv_dt) {
    return 0;
};
b2PulleyJoint.prototype.GetGroundAnchorA = function () {
    var a = this.m_ground.m_xf.position.Copy();
    (() => {
        const __callInstance439 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    a.Add(this.m_groundAnchor1);
                }
            }
        });
        const __exports = __callInstance439.exports;
        return __exports.data();
    })();
    return a;
};
b2PulleyJoint.prototype.GetGroundAnchorB = function () {
    var a = this.m_ground.m_xf.position.Copy();
    (() => {
        const __callInstance438 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    a.Add(this.m_groundAnchor2);
                }
            }
        });
        const __exports = __callInstance438.exports;
        return __exports.data();
    })();
    return a;
};
b2PulleyJoint.prototype.GetLength1 = function () {
    var p = this.m_bodyA.GetWorldPoint(this.m_localAnchor1);
    var sX = this.m_ground.m_xf.position.x + this.m_groundAnchor1.x;
    var sY = this.m_ground.m_xf.position.y + this.m_groundAnchor1.y;
    var dX = p.x - sX;
    var dY = p.y - sY;
    return Math.sqrt(dX * dX + dY * dY);
};
b2PulleyJoint.prototype.GetLength2 = function () {
    var p = this.m_bodyB.GetWorldPoint(this.m_localAnchor2);
    var sX = this.m_ground.m_xf.position.x + this.m_groundAnchor2.x;
    var sY = this.m_ground.m_xf.position.y + this.m_groundAnchor2.y;
    var dX = p.x - sX;
    var dY = p.y - sY;
    return Math.sqrt(dX * dX + dY * dY);
};
b2PulleyJoint.prototype.GetRatio = function () {
    return this.m_ratio;
};
b2PulleyJoint.prototype.m_ground = null;
b2PulleyJoint.prototype.m_groundAnchor1 = new b2Vec2();
b2PulleyJoint.prototype.m_groundAnchor2 = new b2Vec2();
b2PulleyJoint.prototype.m_localAnchor1 = new b2Vec2();
b2PulleyJoint.prototype.m_localAnchor2 = new b2Vec2();
b2PulleyJoint.prototype.m_u1 = new b2Vec2();
b2PulleyJoint.prototype.m_u2 = new b2Vec2();
b2PulleyJoint.prototype.m_constant = null;
b2PulleyJoint.prototype.m_ratio = null;
b2PulleyJoint.prototype.m_maxLength1 = null;
b2PulleyJoint.prototype.m_maxLength2 = null;
b2PulleyJoint.prototype.m_pulleyMass = null;
b2PulleyJoint.prototype.m_limitMass1 = null;
b2PulleyJoint.prototype.m_limitMass2 = null;
b2PulleyJoint.prototype.m_impulse = null;
b2PulleyJoint.prototype.m_limitImpulse1 = null;
b2PulleyJoint.prototype.m_limitImpulse2 = null;
b2PulleyJoint.prototype.m_state = 0;
b2PulleyJoint.prototype.m_limitState1 = 0;
b2PulleyJoint.prototype.m_limitState2 = 0;
var b2PrismaticJoint = function () {
    (() => {
        const __callInstance437 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance437.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance436 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance436.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance435 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance435.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance434 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2PrismaticJoint.prototype, b2Joint.prototype);
            }
        }
    });
    const __exports = __callInstance434.exports;
    return __exports.data();
})();
b2PrismaticJoint.prototype._super = b2Joint.prototype;
b2PrismaticJoint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance433 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, [def]);
                }
            }
        });
        const __exports = __callInstance433.exports;
        return __exports.data();
    })();
    var tMat;
    var tX;
    var tY;
    (() => {
        const __callInstance432 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor1.SetV(def.localAnchorA);
                }
            }
        });
        const __exports = __callInstance432.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance431 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor2.SetV(def.localAnchorB);
                }
            }
        });
        const __exports = __callInstance431.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance430 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localXAxis1.SetV(def.localAxisA);
                }
            }
        });
        const __exports = __callInstance430.exports;
        return __exports.data();
    })();
    this.m_localYAxis1.x = -this.m_localXAxis1.y;
    this.m_localYAxis1.y = this.m_localXAxis1.x;
    this.m_refAngle = def.referenceAngle;
    (() => {
        const __callInstance429 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_impulse.SetZero();
                }
            }
        });
        const __exports = __callInstance429.exports;
        return __exports.data();
    })();
    this.m_motorMass = 0;
    this.m_motorImpulse = 0;
    this.m_lowerTranslation = def.lowerTranslation;
    this.m_upperTranslation = def.upperTranslation;
    this.m_maxMotorForce = def.maxMotorForce;
    this.m_motorSpeed = def.motorSpeed;
    this.m_enableLimit = def.enableLimit;
    this.m_enableMotor = def.enableMotor;
    this.m_limitState = b2Joint.e_inactiveLimit;
    (() => {
        const __callInstance428 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_axis.SetZero();
                }
            }
        });
        const __exports = __callInstance428.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance427 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_perp.SetZero();
                }
            }
        });
        const __exports = __callInstance427.exports;
        return __exports.data();
    })();
};
b2PrismaticJoint.prototype.__varz = function () {
    this.m_localAnchor1 = new b2Vec2();
    this.m_localAnchor2 = new b2Vec2();
    this.m_localXAxis1 = new b2Vec2();
    this.m_localYAxis1 = new b2Vec2();
    this.m_axis = new b2Vec2();
    this.m_perp = new b2Vec2();
    this.m_K = new b2Mat33();
    this.m_impulse = new b2Vec3();
};
b2PrismaticJoint.prototype.InitVelocityConstraints = function (step) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    var tX;
    (() => {
        const __callInstance426 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localCenterA.SetV(bA.GetLocalCenter());
                }
            }
        });
        const __exports = __callInstance426.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance425 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localCenterB.SetV(bB.GetLocalCenter());
                }
            }
        });
        const __exports = __callInstance425.exports;
        return __exports.data();
    })();
    var xf1 = bA.GetTransform();
    var xf2 = bB.GetTransform();
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - this.m_localCenterA.x;
    var r1Y = this.m_localAnchor1.y - this.m_localCenterA.y;
    tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - this.m_localCenterB.x;
    var r2Y = this.m_localAnchor2.y - this.m_localCenterB.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var dX = bB.m_sweep.c.x + r2X - bA.m_sweep.c.x - r1X;
    var dY = bB.m_sweep.c.y + r2Y - bA.m_sweep.c.y - r1Y;
    this.m_invMassA = bA.m_invMass;
    this.m_invMassB = bB.m_invMass;
    this.m_invIA = bA.m_invI;
    this.m_invIB = bB.m_invI;
    (() => {
        const __callInstance424 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_axis.SetV(b2Math.MulMV(xf1.R, this.m_localXAxis1));
                }
            }
        });
        const __exports = __callInstance424.exports;
        return __exports.data();
    })();
    this.m_a1 = (dX + r1X) * this.m_axis.y - (dY + r1Y) * this.m_axis.x;
    this.m_a2 = r2X * this.m_axis.y - r2Y * this.m_axis.x;
    this.m_motorMass = this.m_invMassA + this.m_invMassB + this.m_invIA * this.m_a1 * this.m_a1 + this.m_invIB * this.m_a2 * this.m_a2;
    (() => {
        const __ifInstance193 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_motorMass = 1 / this.m_motorMass;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance193.exports;
        return __exports.data(this.m_motorMass > Number.MIN_VALUE ? 1 : 0);
    })();
    (() => {
        const __callInstance423 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_perp.SetV(b2Math.MulMV(xf1.R, this.m_localYAxis1));
                }
            }
        });
        const __exports = __callInstance423.exports;
        return __exports.data();
    })();
    this.m_s1 = (dX + r1X) * this.m_perp.y - (dY + r1Y) * this.m_perp.x;
    this.m_s2 = r2X * this.m_perp.y - r2Y * this.m_perp.x;
    var m1 = this.m_invMassA;
    var m2 = this.m_invMassB;
    var i1 = this.m_invIA;
    var i2 = this.m_invIB;
    this.m_K.col1.x = m1 + m2 + i1 * this.m_s1 * this.m_s1 + i2 * this.m_s2 * this.m_s2;
    this.m_K.col1.y = i1 * this.m_s1 + i2 * this.m_s2;
    this.m_K.col1.z = i1 * this.m_s1 * this.m_a1 + i2 * this.m_s2 * this.m_a2;
    this.m_K.col2.x = this.m_K.col1.y;
    this.m_K.col2.y = i1 + i2;
    this.m_K.col2.z = i1 * this.m_a1 + i2 * this.m_a2;
    this.m_K.col3.x = this.m_K.col1.z;
    this.m_K.col3.y = this.m_K.col2.z;
    this.m_K.col3.z = m1 + m2 + i1 * this.m_a1 * this.m_a1 + i2 * this.m_a2 * this.m_a2;
    (() => {
        const __ifInstance194 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var jointTransition = this.m_axis.x * dX + this.m_axis.y * dY;
                        (() => {
                            const __ifInstance195 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.m_limitState = b2Joint.e_equalLimits;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance196 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance197 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    this.m_limitState = b2Joint.e_atLowerLimit;
                                                                                    this.m_impulse.z = 0;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance197.exports;
                                                                    return __exports.data(this.m_limitState != b2Joint.e_atLowerLimit ? 1 : 0);
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance198 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __ifInstance199 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        this.m_limitState = b2Joint.e_atUpperLimit;
                                                                                                        this.m_impulse.z = 0;
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance199.exports;
                                                                                        return __exports.data(this.m_limitState != b2Joint.e_atUpperLimit ? 1 : 0);
                                                                                    })();
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                                {
                                                                                    this.m_limitState = b2Joint.e_inactiveLimit;
                                                                                    this.m_impulse.z = 0;
                                                                                }
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance198.exports;
                                                                    return __exports.data(jointTransition >= this.m_upperTranslation ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance196.exports;
                                                return __exports.data(jointTransition <= this.m_lowerTranslation ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance195.exports;
                            return __exports.data(b2Math.Abs(this.m_upperTranslation - this.m_lowerTranslation) < 2 * b2Settings.b2_linearSlop ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        this.m_limitState = b2Joint.e_inactiveLimit;
                    }
                }
            }
        });
        const __exports = __ifInstance194.exports;
        return __exports.data(this.m_enableLimit ? 1 : 0);
    })();
    (() => {
        const __ifInstance200 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_motorImpulse = 0;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance200.exports;
        return __exports.data(this.m_enableMotor == false ? 1 : 0);
    })();
    (() => {
        const __ifInstance201 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_impulse.x *= step.dtRatio;
                        this.m_impulse.y *= step.dtRatio;
                        this.m_motorImpulse *= step.dtRatio;
                        var PX = this.m_impulse.x * this.m_perp.x + (this.m_motorImpulse + this.m_impulse.z) * this.m_axis.x;
                        var PY = this.m_impulse.x * this.m_perp.y + (this.m_motorImpulse + this.m_impulse.z) * this.m_axis.y;
                        var L1 = this.m_impulse.x * this.m_s1 + this.m_impulse.y + (this.m_motorImpulse + this.m_impulse.z) * this.m_a1;
                        var L2 = this.m_impulse.x * this.m_s2 + this.m_impulse.y + (this.m_motorImpulse + this.m_impulse.z) * this.m_a2;
                        bA.m_linearVelocity.x -= this.m_invMassA * PX;
                        bA.m_linearVelocity.y -= this.m_invMassA * PY;
                        bA.m_angularVelocity -= this.m_invIA * L1;
                        bB.m_linearVelocity.x += this.m_invMassB * PX;
                        bB.m_linearVelocity.y += this.m_invMassB * PY;
                        bB.m_angularVelocity += this.m_invIB * L2;
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance422 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_impulse.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance422.exports;
                            return __exports.data();
                        })();
                        this.m_motorImpulse = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance201.exports;
        return __exports.data(step.warmStarting ? 1 : 0);
    })();
};
b2PrismaticJoint.prototype.SolveVelocityConstraints = function (step) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var v1 = bA.m_linearVelocity;
    var w1 = bA.m_angularVelocity;
    var v2 = bB.m_linearVelocity;
    var w2 = bB.m_angularVelocity;
    var PX;
    var PY;
    var L1;
    var L2;
    (() => {
        const __ifInstance202 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var Cdot = this.m_axis.x * (v2.x - v1.x) + this.m_axis.y * (v2.y - v1.y) + this.m_a2 * w2 - this.m_a1 * w1;
                        var impulse = this.m_motorMass * (this.m_motorSpeed - Cdot);
                        var oldImpulse = this.m_motorImpulse;
                        var maxImpulse = step.dt * this.m_maxMotorForce;
                        this.m_motorImpulse = b2Math.Clamp(this.m_motorImpulse + impulse, -maxImpulse, maxImpulse);
                        impulse = this.m_motorImpulse - oldImpulse;
                        PX = impulse * this.m_axis.x;
                        PY = impulse * this.m_axis.y;
                        L1 = impulse * this.m_a1;
                        L2 = impulse * this.m_a2;
                        v1.x -= this.m_invMassA * PX;
                        v1.y -= this.m_invMassA * PY;
                        w1 -= this.m_invIA * L1;
                        v2.x += this.m_invMassB * PX;
                        v2.y += this.m_invMassB * PY;
                        w2 += this.m_invIB * L2;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance202.exports;
        return __exports.data(this.m_enableMotor && this.m_limitState != b2Joint.e_equalLimits ? 1 : 0);
    })();
    var Cdot1X = this.m_perp.x * (v2.x - v1.x) + this.m_perp.y * (v2.y - v1.y) + this.m_s2 * w2 - this.m_s1 * w1;
    var Cdot1Y = w2 - w1;
    (() => {
        const __ifInstance203 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var Cdot2 = this.m_axis.x * (v2.x - v1.x) + this.m_axis.y * (v2.y - v1.y) + this.m_a2 * w2 - this.m_a1 * w1;
                        var f1 = this.m_impulse.Copy();
                        var df = this.m_K.Solve33(new b2Vec3(), -Cdot1X, -Cdot1Y, -Cdot2);
                        (() => {
                            const __callInstance421 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_impulse.Add(df);
                                    }
                                }
                            });
                            const __exports = __callInstance421.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __ifInstance204 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.m_impulse.z = b2Math.Max(this.m_impulse.z, 0);
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance205 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                this.m_impulse.z = b2Math.Min(this.m_impulse.z, 0);
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance205.exports;
                                                return __exports.data(this.m_limitState == b2Joint.e_atUpperLimit ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance204.exports;
                            return __exports.data(this.m_limitState == b2Joint.e_atLowerLimit ? 1 : 0);
                        })();
                        var bX = -Cdot1X - (this.m_impulse.z - f1.z) * this.m_K.col3.x;
                        var bY = -Cdot1Y - (this.m_impulse.z - f1.z) * this.m_K.col3.y;
                        var f2r = this.m_K.Solve22(new b2Vec2(), bX, bY);
                        f2r.x += f1.x;
                        f2r.y += f1.y;
                        this.m_impulse.x = f2r.x;
                        this.m_impulse.y = f2r.y;
                        df.x = this.m_impulse.x - f1.x;
                        df.y = this.m_impulse.y - f1.y;
                        df.z = this.m_impulse.z - f1.z;
                        PX = df.x * this.m_perp.x + df.z * this.m_axis.x;
                        PY = df.x * this.m_perp.y + df.z * this.m_axis.y;
                        L1 = df.x * this.m_s1 + df.y + df.z * this.m_a1;
                        L2 = df.x * this.m_s2 + df.y + df.z * this.m_a2;
                        v1.x -= this.m_invMassA * PX;
                        v1.y -= this.m_invMassA * PY;
                        w1 -= this.m_invIA * L1;
                        v2.x += this.m_invMassB * PX;
                        v2.y += this.m_invMassB * PY;
                        w2 += this.m_invIB * L2;
                    }
                },
                impFunc2: () => {
                    {
                        var df2 = this.m_K.Solve22(new b2Vec2(), -Cdot1X, -Cdot1Y);
                        this.m_impulse.x += df2.x;
                        this.m_impulse.y += df2.y;
                        PX = df2.x * this.m_perp.x;
                        PY = df2.x * this.m_perp.y;
                        L1 = df2.x * this.m_s1 + df2.y;
                        L2 = df2.x * this.m_s2 + df2.y;
                        v1.x -= this.m_invMassA * PX;
                        v1.y -= this.m_invMassA * PY;
                        w1 -= this.m_invIA * L1;
                        v2.x += this.m_invMassB * PX;
                        v2.y += this.m_invMassB * PY;
                        w2 += this.m_invIB * L2;
                    }
                }
            }
        });
        const __exports = __ifInstance203.exports;
        return __exports.data(this.m_enableLimit && this.m_limitState != b2Joint.e_inactiveLimit ? 1 : 0);
    })();
    (() => {
        const __callInstance420 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bA.m_linearVelocity.SetV(v1);
                }
            }
        });
        const __exports = __callInstance420.exports;
        return __exports.data();
    })();
    bA.m_angularVelocity = w1;
    (() => {
        const __callInstance419 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bB.m_linearVelocity.SetV(v2);
                }
            }
        });
        const __exports = __callInstance419.exports;
        return __exports.data();
    })();
    bB.m_angularVelocity = w2;
};
b2PrismaticJoint.prototype.SolvePositionConstraints = function (baumgarte) {
    var limitC;
    var oldLimitImpulse;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var c1 = bA.m_sweep.c;
    var a1 = bA.m_sweep.a;
    var c2 = bB.m_sweep.c;
    var a2 = bB.m_sweep.a;
    var tMat;
    var tX;
    var m1;
    var m2;
    var i1;
    var i2;
    var linearError = 0;
    var angularError = 0;
    var active = false;
    var C2 = 0;
    var R1 = b2Mat22.FromAngle(a1);
    var R2 = b2Mat22.FromAngle(a2);
    tMat = R1;
    var r1X = this.m_localAnchor1.x - this.m_localCenterA.x;
    var r1Y = this.m_localAnchor1.y - this.m_localCenterA.y;
    tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = R2;
    var r2X = this.m_localAnchor2.x - this.m_localCenterB.x;
    var r2Y = this.m_localAnchor2.y - this.m_localCenterB.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var dX = c2.x + r2X - c1.x - r1X;
    var dY = c2.y + r2Y - c1.y - r1Y;
    (() => {
        const __ifInstance206 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_axis = b2Math.MulMV(R1, this.m_localXAxis1);
                        this.m_a1 = (dX + r1X) * this.m_axis.y - (dY + r1Y) * this.m_axis.x;
                        this.m_a2 = r2X * this.m_axis.y - r2Y * this.m_axis.x;
                        var translation = this.m_axis.x * dX + this.m_axis.y * dY;
                        (() => {
                            const __ifInstance207 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            C2 = b2Math.Clamp(translation, -b2Settings.b2_maxLinearCorrection, b2Settings.b2_maxLinearCorrection);
                                            linearError = b2Math.Abs(translation);
                                            active = true;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance208 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                C2 = b2Math.Clamp(translation - this.m_lowerTranslation + b2Settings.b2_linearSlop, -b2Settings.b2_maxLinearCorrection, 0);
                                                                linearError = this.m_lowerTranslation - translation;
                                                                active = true;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance209 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    C2 = b2Math.Clamp(translation - this.m_upperTranslation + b2Settings.b2_linearSlop, 0, b2Settings.b2_maxLinearCorrection);
                                                                                    linearError = translation - this.m_upperTranslation;
                                                                                    active = true;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance209.exports;
                                                                    return __exports.data(translation >= this.m_upperTranslation ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance208.exports;
                                                return __exports.data(translation <= this.m_lowerTranslation ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance207.exports;
                            return __exports.data(b2Math.Abs(this.m_upperTranslation - this.m_lowerTranslation) < 2 * b2Settings.b2_linearSlop ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance206.exports;
        return __exports.data(this.m_enableLimit ? 1 : 0);
    })();
    this.m_perp = b2Math.MulMV(R1, this.m_localYAxis1);
    this.m_s1 = (dX + r1X) * this.m_perp.y - (dY + r1Y) * this.m_perp.x;
    this.m_s2 = r2X * this.m_perp.y - r2Y * this.m_perp.x;
    var impulse = new b2Vec3();
    var C1X = this.m_perp.x * dX + this.m_perp.y * dY;
    var C1Y = a2 - a1 - this.m_refAngle;
    linearError = b2Math.Max(linearError, b2Math.Abs(C1X));
    angularError = b2Math.Abs(C1Y);
    (() => {
        const __ifInstance210 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        m1 = this.m_invMassA;
                        m2 = this.m_invMassB;
                        i1 = this.m_invIA;
                        i2 = this.m_invIB;
                        this.m_K.col1.x = m1 + m2 + i1 * this.m_s1 * this.m_s1 + i2 * this.m_s2 * this.m_s2;
                        this.m_K.col1.y = i1 * this.m_s1 + i2 * this.m_s2;
                        this.m_K.col1.z = i1 * this.m_s1 * this.m_a1 + i2 * this.m_s2 * this.m_a2;
                        this.m_K.col2.x = this.m_K.col1.y;
                        this.m_K.col2.y = i1 + i2;
                        this.m_K.col2.z = i1 * this.m_a1 + i2 * this.m_a2;
                        this.m_K.col3.x = this.m_K.col1.z;
                        this.m_K.col3.y = this.m_K.col2.z;
                        this.m_K.col3.z = m1 + m2 + i1 * this.m_a1 * this.m_a1 + i2 * this.m_a2 * this.m_a2;
                        (() => {
                            const __callInstance418 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_K.Solve33(impulse, -C1X, -C1Y, -C2);
                                    }
                                }
                            });
                            const __exports = __callInstance418.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        m1 = this.m_invMassA;
                        m2 = this.m_invMassB;
                        i1 = this.m_invIA;
                        i2 = this.m_invIB;
                        var k11 = m1 + m2 + i1 * this.m_s1 * this.m_s1 + i2 * this.m_s2 * this.m_s2;
                        var k12 = i1 * this.m_s1 + i2 * this.m_s2;
                        var k22 = i1 + i2;
                        (() => {
                            const __callInstance417 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_K.col1.Set(k11, k12, 0);
                                    }
                                }
                            });
                            const __exports = __callInstance417.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance416 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_K.col2.Set(k12, k22, 0);
                                    }
                                }
                            });
                            const __exports = __callInstance416.exports;
                            return __exports.data();
                        })();
                        var impulse1 = this.m_K.Solve22(new b2Vec2(), -C1X, -C1Y);
                        impulse.x = impulse1.x;
                        impulse.y = impulse1.y;
                        impulse.z = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance210.exports;
        return __exports.data(active ? 1 : 0);
    })();
    var PX = impulse.x * this.m_perp.x + impulse.z * this.m_axis.x;
    var PY = impulse.x * this.m_perp.y + impulse.z * this.m_axis.y;
    var L1 = impulse.x * this.m_s1 + impulse.y + impulse.z * this.m_a1;
    var L2 = impulse.x * this.m_s2 + impulse.y + impulse.z * this.m_a2;
    c1.x -= this.m_invMassA * PX;
    c1.y -= this.m_invMassA * PY;
    a1 -= this.m_invIA * L1;
    c2.x += this.m_invMassB * PX;
    c2.y += this.m_invMassB * PY;
    a2 += this.m_invIB * L2;
    bA.m_sweep.a = a1;
    bB.m_sweep.a = a2;
    (() => {
        const __callInstance415 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bA.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance415.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance414 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bB.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance414.exports;
        return __exports.data();
    })();
    return linearError <= b2Settings.b2_linearSlop && angularError <= b2Settings.b2_angularSlop;
};
b2PrismaticJoint.prototype.GetAnchorA = function () {
    return this.m_bodyA.GetWorldPoint(this.m_localAnchor1);
};
b2PrismaticJoint.prototype.GetAnchorB = function () {
    return this.m_bodyB.GetWorldPoint(this.m_localAnchor2);
};
b2PrismaticJoint.prototype.GetReactionForce = function (inv_dt) {
    return new b2Vec2(inv_dt * (this.m_impulse.x * this.m_perp.x + (this.m_motorImpulse + this.m_impulse.z) * this.m_axis.x), inv_dt * (this.m_impulse.x * this.m_perp.y + (this.m_motorImpulse + this.m_impulse.z) * this.m_axis.y));
};
b2PrismaticJoint.prototype.GetReactionTorque = function (inv_dt) {
    return inv_dt * this.m_impulse.y;
};
b2PrismaticJoint.prototype.GetJointTranslation = function () {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    var p1 = bA.GetWorldPoint(this.m_localAnchor1);
    var p2 = bB.GetWorldPoint(this.m_localAnchor2);
    var dX = p2.x - p1.x;
    var dY = p2.y - p1.y;
    var axis = bA.GetWorldVector(this.m_localXAxis1);
    var translation = axis.x * dX + axis.y * dY;
    return translation;
};
b2PrismaticJoint.prototype.GetJointSpeed = function () {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
    var r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
    var tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
    var r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var p1X = bA.m_sweep.c.x + r1X;
    var p1Y = bA.m_sweep.c.y + r1Y;
    var p2X = bB.m_sweep.c.x + r2X;
    var p2Y = bB.m_sweep.c.y + r2Y;
    var dX = p2X - p1X;
    var dY = p2Y - p1Y;
    var axis = bA.GetWorldVector(this.m_localXAxis1);
    var v1 = bA.m_linearVelocity;
    var v2 = bB.m_linearVelocity;
    var w1 = bA.m_angularVelocity;
    var w2 = bB.m_angularVelocity;
    var speed = dX * -w1 * axis.y + dY * w1 * axis.x + (axis.x * (v2.x + -w2 * r2Y - v1.x - -w1 * r1Y) + axis.y * (v2.y + w2 * r2X - v1.y - w1 * r1X));
    return speed;
};
b2PrismaticJoint.prototype.IsLimitEnabled = function () {
    return this.m_enableLimit;
};
b2PrismaticJoint.prototype.EnableLimit = function (flag) {
    (() => {
        const __callInstance413 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance413.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance412 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance412.exports;
        return __exports.data();
    })();
    this.m_enableLimit = flag;
};
b2PrismaticJoint.prototype.GetLowerLimit = function () {
    return this.m_lowerTranslation;
};
b2PrismaticJoint.prototype.GetUpperLimit = function () {
    return this.m_upperTranslation;
};
b2PrismaticJoint.prototype.SetLimits = function (lower, upper) {
    (() => {
        const __callInstance411 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance411.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance410 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance410.exports;
        return __exports.data();
    })();
    this.m_lowerTranslation = lower;
    this.m_upperTranslation = upper;
};
b2PrismaticJoint.prototype.IsMotorEnabled = function () {
    return this.m_enableMotor;
};
b2PrismaticJoint.prototype.EnableMotor = function (flag) {
    (() => {
        const __callInstance409 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance409.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance408 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance408.exports;
        return __exports.data();
    })();
    this.m_enableMotor = flag;
};
b2PrismaticJoint.prototype.SetMotorSpeed = function (speed) {
    (() => {
        const __callInstance407 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance407.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance406 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance406.exports;
        return __exports.data();
    })();
    this.m_motorSpeed = speed;
};
b2PrismaticJoint.prototype.GetMotorSpeed = function () {
    return this.m_motorSpeed;
};
b2PrismaticJoint.prototype.SetMaxMotorForce = function (force) {
    (() => {
        const __callInstance405 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance405.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance404 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance404.exports;
        return __exports.data();
    })();
    this.m_maxMotorForce = force;
};
b2PrismaticJoint.prototype.GetMotorForce = function () {
    return this.m_motorImpulse;
};
b2PrismaticJoint.prototype.m_localAnchor1 = new b2Vec2();
b2PrismaticJoint.prototype.m_localAnchor2 = new b2Vec2();
b2PrismaticJoint.prototype.m_localXAxis1 = new b2Vec2();
b2PrismaticJoint.prototype.m_localYAxis1 = new b2Vec2();
b2PrismaticJoint.prototype.m_refAngle = null;
b2PrismaticJoint.prototype.m_axis = new b2Vec2();
b2PrismaticJoint.prototype.m_perp = new b2Vec2();
b2PrismaticJoint.prototype.m_s1 = null;
b2PrismaticJoint.prototype.m_s2 = null;
b2PrismaticJoint.prototype.m_a1 = null;
b2PrismaticJoint.prototype.m_a2 = null;
b2PrismaticJoint.prototype.m_K = new b2Mat33();
b2PrismaticJoint.prototype.m_impulse = new b2Vec3();
b2PrismaticJoint.prototype.m_motorMass = null;
b2PrismaticJoint.prototype.m_motorImpulse = null;
b2PrismaticJoint.prototype.m_lowerTranslation = null;
b2PrismaticJoint.prototype.m_upperTranslation = null;
b2PrismaticJoint.prototype.m_maxMotorForce = null;
b2PrismaticJoint.prototype.m_motorSpeed = null;
b2PrismaticJoint.prototype.m_enableLimit = null;
b2PrismaticJoint.prototype.m_enableMotor = null;
b2PrismaticJoint.prototype.m_limitState = 0;
var b2RevoluteJoint = function () {
    (() => {
        const __callInstance403 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance403.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance402 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance402.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance401 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance401.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance400 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2RevoluteJoint.prototype, b2Joint.prototype);
            }
        }
    });
    const __exports = __callInstance400.exports;
    return __exports.data();
})();
b2RevoluteJoint.prototype._super = b2Joint.prototype;
b2RevoluteJoint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance399 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, [def]);
                }
            }
        });
        const __exports = __callInstance399.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance398 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor1.SetV(def.localAnchorA);
                }
            }
        });
        const __exports = __callInstance398.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance397 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor2.SetV(def.localAnchorB);
                }
            }
        });
        const __exports = __callInstance397.exports;
        return __exports.data();
    })();
    this.m_referenceAngle = def.referenceAngle;
    (() => {
        const __callInstance396 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_impulse.SetZero();
                }
            }
        });
        const __exports = __callInstance396.exports;
        return __exports.data();
    })();
    this.m_motorImpulse = 0;
    this.m_lowerAngle = def.lowerAngle;
    this.m_upperAngle = def.upperAngle;
    this.m_maxMotorTorque = def.maxMotorTorque;
    this.m_motorSpeed = def.motorSpeed;
    this.m_enableLimit = def.enableLimit;
    this.m_enableMotor = def.enableMotor;
    this.m_limitState = b2Joint.e_inactiveLimit;
};
b2RevoluteJoint.prototype.__varz = function () {
    this.K = new b2Mat22();
    this.K1 = new b2Mat22();
    this.K2 = new b2Mat22();
    this.K3 = new b2Mat22();
    this.impulse3 = new b2Vec3();
    this.impulse2 = new b2Vec2();
    this.reduced = new b2Vec2();
    this.m_localAnchor1 = new b2Vec2();
    this.m_localAnchor2 = new b2Vec2();
    this.m_impulse = new b2Vec3();
    this.m_mass = new b2Mat33();
};
b2RevoluteJoint.tImpulse = new b2Vec2();
b2RevoluteJoint.prototype.InitVelocityConstraints = function (step) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    var tX;
    (() => {
        const __ifInstance211 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance211.exports;
        return __exports.data(this.m_enableMotor || this.m_enableLimit ? 1 : 0);
    })();
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
    var r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
    tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
    var r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var m1 = bA.m_invMass;
    var m2 = bB.m_invMass;
    var i1 = bA.m_invI;
    var i2 = bB.m_invI;
    this.m_mass.col1.x = m1 + m2 + r1Y * r1Y * i1 + r2Y * r2Y * i2;
    this.m_mass.col2.x = -r1Y * r1X * i1 - r2Y * r2X * i2;
    this.m_mass.col3.x = -r1Y * i1 - r2Y * i2;
    this.m_mass.col1.y = this.m_mass.col2.x;
    this.m_mass.col2.y = m1 + m2 + r1X * r1X * i1 + r2X * r2X * i2;
    this.m_mass.col3.y = r1X * i1 + r2X * i2;
    this.m_mass.col1.z = this.m_mass.col3.x;
    this.m_mass.col2.z = this.m_mass.col3.y;
    this.m_mass.col3.z = i1 + i2;
    this.m_motorMass = 1 / (i1 + i2);
    (() => {
        const __ifInstance212 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_motorImpulse = 0;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance212.exports;
        return __exports.data(this.m_enableMotor == false ? 1 : 0);
    })();
    (() => {
        const __ifInstance213 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var jointAngle = bB.m_sweep.a - bA.m_sweep.a - this.m_referenceAngle;
                        (() => {
                            const __ifInstance214 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            this.m_limitState = b2Joint.e_equalLimits;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance215 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance216 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    this.m_impulse.z = 0;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance216.exports;
                                                                    return __exports.data(this.m_limitState != b2Joint.e_atLowerLimit ? 1 : 0);
                                                                })();
                                                                this.m_limitState = b2Joint.e_atLowerLimit;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance217 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __ifInstance218 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        this.m_impulse.z = 0;
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance218.exports;
                                                                                        return __exports.data(this.m_limitState != b2Joint.e_atUpperLimit ? 1 : 0);
                                                                                    })();
                                                                                    this.m_limitState = b2Joint.e_atUpperLimit;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                                {
                                                                                    this.m_limitState = b2Joint.e_inactiveLimit;
                                                                                    this.m_impulse.z = 0;
                                                                                }
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance217.exports;
                                                                    return __exports.data(jointAngle >= this.m_upperAngle ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance215.exports;
                                                return __exports.data(jointAngle <= this.m_lowerAngle ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance214.exports;
                            return __exports.data(b2Math.Abs(this.m_upperAngle - this.m_lowerAngle) < 2 * b2Settings.b2_angularSlop ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        this.m_limitState = b2Joint.e_inactiveLimit;
                    }
                }
            }
        });
        const __exports = __ifInstance213.exports;
        return __exports.data(this.m_enableLimit ? 1 : 0);
    })();
    (() => {
        const __ifInstance219 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_impulse.x *= step.dtRatio;
                        this.m_impulse.y *= step.dtRatio;
                        this.m_motorImpulse *= step.dtRatio;
                        var PX = this.m_impulse.x;
                        var PY = this.m_impulse.y;
                        bA.m_linearVelocity.x -= m1 * PX;
                        bA.m_linearVelocity.y -= m1 * PY;
                        bA.m_angularVelocity -= i1 * (r1X * PY - r1Y * PX + this.m_motorImpulse + this.m_impulse.z);
                        bB.m_linearVelocity.x += m2 * PX;
                        bB.m_linearVelocity.y += m2 * PY;
                        bB.m_angularVelocity += i2 * (r2X * PY - r2Y * PX + this.m_motorImpulse + this.m_impulse.z);
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance395 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_impulse.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance395.exports;
                            return __exports.data();
                        })();
                        this.m_motorImpulse = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance219.exports;
        return __exports.data(step.warmStarting ? 1 : 0);
    })();
};
b2RevoluteJoint.prototype.SolveVelocityConstraints = function (step) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var tMat;
    var tX;
    var newImpulse;
    var r1X;
    var r1Y;
    var r2X;
    var r2Y;
    var v1 = bA.m_linearVelocity;
    var w1 = bA.m_angularVelocity;
    var v2 = bB.m_linearVelocity;
    var w2 = bB.m_angularVelocity;
    var m1 = bA.m_invMass;
    var m2 = bB.m_invMass;
    var i1 = bA.m_invI;
    var i2 = bB.m_invI;
    (() => {
        const __ifInstance220 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var Cdot = w2 - w1 - this.m_motorSpeed;
                        var impulse = this.m_motorMass * -Cdot;
                        var oldImpulse = this.m_motorImpulse;
                        var maxImpulse = step.dt * this.m_maxMotorTorque;
                        this.m_motorImpulse = b2Math.Clamp(this.m_motorImpulse + impulse, -maxImpulse, maxImpulse);
                        impulse = this.m_motorImpulse - oldImpulse;
                        w1 -= i1 * impulse;
                        w2 += i2 * impulse;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance220.exports;
        return __exports.data(this.m_enableMotor && this.m_limitState != b2Joint.e_equalLimits ? 1 : 0);
    })();
    (() => {
        const __ifInstance221 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        tMat = bA.m_xf.R;
                        r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
                        r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
                        tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
                        r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
                        r1X = tX;
                        tMat = bB.m_xf.R;
                        r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
                        r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
                        tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
                        r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
                        r2X = tX;
                        var Cdot1X = v2.x + -w2 * r2Y - v1.x - -w1 * r1Y;
                        var Cdot1Y = v2.y + w2 * r2X - v1.y - w1 * r1X;
                        var Cdot2 = w2 - w1;
                        (() => {
                            const __callInstance394 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_mass.Solve33(this.impulse3, -Cdot1X, -Cdot1Y, -Cdot2);
                                    }
                                }
                            });
                            const __exports = __callInstance394.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __ifInstance222 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance393 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_impulse.Add(this.impulse3);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance393.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance223 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                newImpulse = this.m_impulse.z + this.impulse3.z;
                                                                (() => {
                                                                    const __ifInstance224 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __callInstance392 = new WebAssembly.Instance(__callWasmModule, {
                                                                                            env: {
                                                                                                impFunc: () => {
                                                                                                    this.m_mass.Solve22(this.reduced, -Cdot1X, -Cdot1Y);
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __callInstance392.exports;
                                                                                        return __exports.data();
                                                                                    })();
                                                                                    this.impulse3.x = this.reduced.x;
                                                                                    this.impulse3.y = this.reduced.y;
                                                                                    this.impulse3.z = -this.m_impulse.z;
                                                                                    this.m_impulse.x += this.reduced.x;
                                                                                    this.m_impulse.y += this.reduced.y;
                                                                                    this.m_impulse.z = 0;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance224.exports;
                                                                    return __exports.data(newImpulse < 0 ? 1 : 0);
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance225 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    newImpulse = this.m_impulse.z + this.impulse3.z;
                                                                                    (() => {
                                                                                        const __ifInstance226 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        (() => {
                                                                                                            const __callInstance391 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc: () => {
                                                                                                                        this.m_mass.Solve22(this.reduced, -Cdot1X, -Cdot1Y);
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __callInstance391.exports;
                                                                                                            return __exports.data();
                                                                                                        })();
                                                                                                        this.impulse3.x = this.reduced.x;
                                                                                                        this.impulse3.y = this.reduced.y;
                                                                                                        this.impulse3.z = -this.m_impulse.z;
                                                                                                        this.m_impulse.x += this.reduced.x;
                                                                                                        this.m_impulse.y += this.reduced.y;
                                                                                                        this.m_impulse.z = 0;
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance226.exports;
                                                                                        return __exports.data(newImpulse > 0 ? 1 : 0);
                                                                                    })();
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance225.exports;
                                                                    return __exports.data(this.m_limitState == b2Joint.e_atUpperLimit ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance223.exports;
                                                return __exports.data(this.m_limitState == b2Joint.e_atLowerLimit ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance222.exports;
                            return __exports.data(this.m_limitState == b2Joint.e_equalLimits ? 1 : 0);
                        })();
                        v1.x -= m1 * this.impulse3.x;
                        v1.y -= m1 * this.impulse3.y;
                        w1 -= i1 * (r1X * this.impulse3.y - r1Y * this.impulse3.x + this.impulse3.z);
                        v2.x += m2 * this.impulse3.x;
                        v2.y += m2 * this.impulse3.y;
                        w2 += i2 * (r2X * this.impulse3.y - r2Y * this.impulse3.x + this.impulse3.z);
                    }
                },
                impFunc2: () => {
                    {
                        tMat = bA.m_xf.R;
                        r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
                        r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
                        tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
                        r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
                        r1X = tX;
                        tMat = bB.m_xf.R;
                        r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
                        r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
                        tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
                        r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
                        r2X = tX;
                        var CdotX = v2.x + -w2 * r2Y - v1.x - -w1 * r1Y;
                        var CdotY = v2.y + w2 * r2X - v1.y - w1 * r1X;
                        (() => {
                            const __callInstance390 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_mass.Solve22(this.impulse2, -CdotX, -CdotY);
                                    }
                                }
                            });
                            const __exports = __callInstance390.exports;
                            return __exports.data();
                        })();
                        this.m_impulse.x += this.impulse2.x;
                        this.m_impulse.y += this.impulse2.y;
                        v1.x -= m1 * this.impulse2.x;
                        v1.y -= m1 * this.impulse2.y;
                        w1 -= i1 * (r1X * this.impulse2.y - r1Y * this.impulse2.x);
                        v2.x += m2 * this.impulse2.x;
                        v2.y += m2 * this.impulse2.y;
                        w2 += i2 * (r2X * this.impulse2.y - r2Y * this.impulse2.x);
                    }
                }
            }
        });
        const __exports = __ifInstance221.exports;
        return __exports.data(this.m_enableLimit && this.m_limitState != b2Joint.e_inactiveLimit ? 1 : 0);
    })();
    (() => {
        const __callInstance389 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bA.m_linearVelocity.SetV(v1);
                }
            }
        });
        const __exports = __callInstance389.exports;
        return __exports.data();
    })();
    bA.m_angularVelocity = w1;
    (() => {
        const __callInstance388 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bB.m_linearVelocity.SetV(v2);
                }
            }
        });
        const __exports = __callInstance388.exports;
        return __exports.data();
    })();
    bB.m_angularVelocity = w2;
};
b2RevoluteJoint.prototype.SolvePositionConstraints = function (baumgarte) {
    var oldLimitImpulse;
    var C;
    var tMat;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var angularError = 0;
    var positionError = 0;
    var tX;
    var impulseX;
    var impulseY;
    (() => {
        const __ifInstance227 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var angle = bB.m_sweep.a - bA.m_sweep.a - this.m_referenceAngle;
                        var limitImpulse = 0;
                        (() => {
                            const __ifInstance228 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            C = b2Math.Clamp(angle - this.m_lowerAngle, -b2Settings.b2_maxAngularCorrection, b2Settings.b2_maxAngularCorrection);
                                            limitImpulse = -this.m_motorMass * C;
                                            angularError = b2Math.Abs(C);
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance229 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                C = angle - this.m_lowerAngle;
                                                                angularError = -C;
                                                                C = b2Math.Clamp(C + b2Settings.b2_angularSlop, -b2Settings.b2_maxAngularCorrection, 0);
                                                                limitImpulse = -this.m_motorMass * C;
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            {
                                                                (() => {
                                                                    const __ifInstance230 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    C = angle - this.m_upperAngle;
                                                                                    angularError = C;
                                                                                    C = b2Math.Clamp(C - b2Settings.b2_angularSlop, 0, b2Settings.b2_maxAngularCorrection);
                                                                                    limitImpulse = -this.m_motorMass * C;
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance230.exports;
                                                                    return __exports.data(this.m_limitState == b2Joint.e_atUpperLimit ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance229.exports;
                                                return __exports.data(this.m_limitState == b2Joint.e_atLowerLimit ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance228.exports;
                            return __exports.data(this.m_limitState == b2Joint.e_equalLimits ? 1 : 0);
                        })();
                        bA.m_sweep.a -= bA.m_invI * limitImpulse;
                        bB.m_sweep.a += bB.m_invI * limitImpulse;
                        (() => {
                            const __callInstance387 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bA.SynchronizeTransform();
                                    }
                                }
                            });
                            const __exports = __callInstance387.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance386 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bB.SynchronizeTransform();
                                    }
                                }
                            });
                            const __exports = __callInstance386.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance227.exports;
        return __exports.data(this.m_enableLimit && this.m_limitState != b2Joint.e_inactiveLimit ? 1 : 0);
    })();
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
    var r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
    tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
    var r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var CX = bB.m_sweep.c.x + r2X - bA.m_sweep.c.x - r1X;
    var CY = bB.m_sweep.c.y + r2Y - bA.m_sweep.c.y - r1Y;
    var CLengthSquared = CX * CX + CY * CY;
    var CLength = Math.sqrt(CLengthSquared);
    positionError = CLength;
    var invMass1 = bA.m_invMass;
    var invMass2 = bB.m_invMass;
    var invI1 = bA.m_invI;
    var invI2 = bB.m_invI;
    var k_allowedStretch = 10 * b2Settings.b2_linearSlop;
    (() => {
        const __ifInstance231 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var uX = CX / CLength;
                        var uY = CY / CLength;
                        var k = invMass1 + invMass2;
                        var m = 1 / k;
                        impulseX = m * -CX;
                        impulseY = m * -CY;
                        var k_beta = 0.5;
                        bA.m_sweep.c.x -= k_beta * invMass1 * impulseX;
                        bA.m_sweep.c.y -= k_beta * invMass1 * impulseY;
                        bB.m_sweep.c.x += k_beta * invMass2 * impulseX;
                        bB.m_sweep.c.y += k_beta * invMass2 * impulseY;
                        CX = bB.m_sweep.c.x + r2X - bA.m_sweep.c.x - r1X;
                        CY = bB.m_sweep.c.y + r2Y - bA.m_sweep.c.y - r1Y;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance231.exports;
        return __exports.data(CLengthSquared > k_allowedStretch * k_allowedStretch ? 1 : 0);
    })();
    this.K1.col1.x = invMass1 + invMass2;
    this.K1.col2.x = 0;
    this.K1.col1.y = 0;
    this.K1.col2.y = invMass1 + invMass2;
    this.K2.col1.x = invI1 * r1Y * r1Y;
    this.K2.col2.x = -invI1 * r1X * r1Y;
    this.K2.col1.y = -invI1 * r1X * r1Y;
    this.K2.col2.y = invI1 * r1X * r1X;
    this.K3.col1.x = invI2 * r2Y * r2Y;
    this.K3.col2.x = -invI2 * r2X * r2Y;
    this.K3.col1.y = -invI2 * r2X * r2Y;
    this.K3.col2.y = invI2 * r2X * r2X;
    (() => {
        const __callInstance385 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.K.SetM(this.K1);
                }
            }
        });
        const __exports = __callInstance385.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance384 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.K.AddM(this.K2);
                }
            }
        });
        const __exports = __callInstance384.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance383 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.K.AddM(this.K3);
                }
            }
        });
        const __exports = __callInstance383.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance382 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.K.Solve(b2RevoluteJoint.tImpulse, -CX, -CY);
                }
            }
        });
        const __exports = __callInstance382.exports;
        return __exports.data();
    })();
    impulseX = b2RevoluteJoint.tImpulse.x;
    impulseY = b2RevoluteJoint.tImpulse.y;
    bA.m_sweep.c.x -= bA.m_invMass * impulseX;
    bA.m_sweep.c.y -= bA.m_invMass * impulseY;
    bA.m_sweep.a -= bA.m_invI * (r1X * impulseY - r1Y * impulseX);
    bB.m_sweep.c.x += bB.m_invMass * impulseX;
    bB.m_sweep.c.y += bB.m_invMass * impulseY;
    bB.m_sweep.a += bB.m_invI * (r2X * impulseY - r2Y * impulseX);
    (() => {
        const __callInstance381 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bA.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance381.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance380 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bB.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance380.exports;
        return __exports.data();
    })();
    return positionError <= b2Settings.b2_linearSlop && angularError <= b2Settings.b2_angularSlop;
};
b2RevoluteJoint.prototype.GetAnchorA = function () {
    return this.m_bodyA.GetWorldPoint(this.m_localAnchor1);
};
b2RevoluteJoint.prototype.GetAnchorB = function () {
    return this.m_bodyB.GetWorldPoint(this.m_localAnchor2);
};
b2RevoluteJoint.prototype.GetReactionForce = function (inv_dt) {
    return new b2Vec2(inv_dt * this.m_impulse.x, inv_dt * this.m_impulse.y);
};
b2RevoluteJoint.prototype.GetReactionTorque = function (inv_dt) {
    return inv_dt * this.m_impulse.z;
};
b2RevoluteJoint.prototype.GetJointAngle = function () {
    return this.m_bodyB.m_sweep.a - this.m_bodyA.m_sweep.a - this.m_referenceAngle;
};
b2RevoluteJoint.prototype.GetJointSpeed = function () {
    return this.m_bodyB.m_angularVelocity - this.m_bodyA.m_angularVelocity;
};
b2RevoluteJoint.prototype.IsLimitEnabled = function () {
    return this.m_enableLimit;
};
b2RevoluteJoint.prototype.EnableLimit = function (flag) {
    this.m_enableLimit = flag;
};
b2RevoluteJoint.prototype.GetLowerLimit = function () {
    return this.m_lowerAngle;
};
b2RevoluteJoint.prototype.GetUpperLimit = function () {
    return this.m_upperAngle;
};
b2RevoluteJoint.prototype.SetLimits = function (lower, upper) {
    this.m_lowerAngle = lower;
    this.m_upperAngle = upper;
};
b2RevoluteJoint.prototype.IsMotorEnabled = function () {
    (() => {
        const __callInstance379 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance379.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance378 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance378.exports;
        return __exports.data();
    })();
    return this.m_enableMotor;
};
b2RevoluteJoint.prototype.EnableMotor = function (flag) {
    this.m_enableMotor = flag;
};
b2RevoluteJoint.prototype.SetMotorSpeed = function (speed) {
    (() => {
        const __callInstance377 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance377.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance376 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance376.exports;
        return __exports.data();
    })();
    this.m_motorSpeed = speed;
};
b2RevoluteJoint.prototype.GetMotorSpeed = function () {
    return this.m_motorSpeed;
};
b2RevoluteJoint.prototype.SetMaxMotorTorque = function (torque) {
    this.m_maxMotorTorque = torque;
};
b2RevoluteJoint.prototype.GetMotorTorque = function () {
    return this.m_maxMotorTorque;
};
b2RevoluteJoint.prototype.K = new b2Mat22();
b2RevoluteJoint.prototype.K1 = new b2Mat22();
b2RevoluteJoint.prototype.K2 = new b2Mat22();
b2RevoluteJoint.prototype.K3 = new b2Mat22();
b2RevoluteJoint.prototype.impulse3 = new b2Vec3();
b2RevoluteJoint.prototype.impulse2 = new b2Vec2();
b2RevoluteJoint.prototype.reduced = new b2Vec2();
b2RevoluteJoint.prototype.m_localAnchor1 = new b2Vec2();
b2RevoluteJoint.prototype.m_localAnchor2 = new b2Vec2();
b2RevoluteJoint.prototype.m_impulse = new b2Vec3();
b2RevoluteJoint.prototype.m_motorImpulse = null;
b2RevoluteJoint.prototype.m_mass = new b2Mat33();
b2RevoluteJoint.prototype.m_motorMass = null;
b2RevoluteJoint.prototype.m_enableMotor = null;
b2RevoluteJoint.prototype.m_maxMotorTorque = null;
b2RevoluteJoint.prototype.m_motorSpeed = null;
b2RevoluteJoint.prototype.m_enableLimit = null;
b2RevoluteJoint.prototype.m_referenceAngle = null;
b2RevoluteJoint.prototype.m_lowerAngle = null;
b2RevoluteJoint.prototype.m_upperAngle = null;
b2RevoluteJoint.prototype.m_limitState = 0;
var b2JointDef = function () {
    (() => {
        const __callInstance375 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance375.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance374 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance374.exports;
        return __exports.data();
    })();
};
b2JointDef.prototype.__constructor = function () {
    this.type = b2Joint.e_unknownJoint;
    this.userData = null;
    this.bodyA = null;
    this.bodyB = null;
    this.collideConnected = false;
};
b2JointDef.prototype.__varz = function () {
};
b2JointDef.prototype.type = 0;
b2JointDef.prototype.userData = null;
b2JointDef.prototype.bodyA = null;
b2JointDef.prototype.bodyB = null;
b2JointDef.prototype.collideConnected = null;
var b2LineJointDef = function () {
    (() => {
        const __callInstance373 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2JointDef.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance373.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance372 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance372.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance371 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance371.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance370 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2LineJointDef.prototype, b2JointDef.prototype);
            }
        }
    });
    const __exports = __callInstance370.exports;
    return __exports.data();
})();
b2LineJointDef.prototype._super = b2JointDef.prototype;
b2LineJointDef.prototype.__constructor = function () {
    (() => {
        const __callInstance369 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance369.exports;
        return __exports.data();
    })();
    this.type = b2Joint.e_lineJoint;
    (() => {
        const __callInstance368 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAxisA.Set(1, 0);
                }
            }
        });
        const __exports = __callInstance368.exports;
        return __exports.data();
    })();
    this.enableLimit = false;
    this.lowerTranslation = 0;
    this.upperTranslation = 0;
    this.enableMotor = false;
    this.maxMotorForce = 0;
    this.motorSpeed = 0;
};
b2LineJointDef.prototype.__varz = function () {
    this.localAnchorA = new b2Vec2();
    this.localAnchorB = new b2Vec2();
    this.localAxisA = new b2Vec2();
};
b2LineJointDef.prototype.Initialize = function (bA, bB, anchor, axis) {
    this.bodyA = bA;
    this.bodyB = bB;
    this.localAnchorA = this.bodyA.GetLocalPoint(anchor);
    this.localAnchorB = this.bodyB.GetLocalPoint(anchor);
    this.localAxisA = this.bodyA.GetLocalVector(axis);
};
b2LineJointDef.prototype.localAnchorA = new b2Vec2();
b2LineJointDef.prototype.localAnchorB = new b2Vec2();
b2LineJointDef.prototype.localAxisA = new b2Vec2();
b2LineJointDef.prototype.enableLimit = null;
b2LineJointDef.prototype.lowerTranslation = null;
b2LineJointDef.prototype.upperTranslation = null;
b2LineJointDef.prototype.enableMotor = null;
b2LineJointDef.prototype.maxMotorForce = null;
b2LineJointDef.prototype.motorSpeed = null;
var b2DistanceJoint = function () {
    (() => {
        const __callInstance367 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance367.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance366 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance366.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance365 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance365.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance364 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2DistanceJoint.prototype, b2Joint.prototype);
            }
        }
    });
    const __exports = __callInstance364.exports;
    return __exports.data();
})();
b2DistanceJoint.prototype._super = b2Joint.prototype;
b2DistanceJoint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance363 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, [def]);
                }
            }
        });
        const __exports = __callInstance363.exports;
        return __exports.data();
    })();
    var tMat;
    var tX;
    var tY;
    (() => {
        const __callInstance362 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor1.SetV(def.localAnchorA);
                }
            }
        });
        const __exports = __callInstance362.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance361 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchor2.SetV(def.localAnchorB);
                }
            }
        });
        const __exports = __callInstance361.exports;
        return __exports.data();
    })();
    this.m_length = def.length;
    this.m_frequencyHz = def.frequencyHz;
    this.m_dampingRatio = def.dampingRatio;
    this.m_impulse = 0;
    this.m_gamma = 0;
    this.m_bias = 0;
};
b2DistanceJoint.prototype.__varz = function () {
    this.m_localAnchor1 = new b2Vec2();
    this.m_localAnchor2 = new b2Vec2();
    this.m_u = new b2Vec2();
};
b2DistanceJoint.prototype.InitVelocityConstraints = function (step) {
    var tMat;
    var tX;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
    var r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
    tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
    var r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    this.m_u.x = bB.m_sweep.c.x + r2X - bA.m_sweep.c.x - r1X;
    this.m_u.y = bB.m_sweep.c.y + r2Y - bA.m_sweep.c.y - r1Y;
    var length = Math.sqrt(this.m_u.x * this.m_u.x + this.m_u.y * this.m_u.y);
    (() => {
        const __ifInstance232 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance360 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u.Multiply(1 / length);
                                    }
                                }
                            });
                            const __exports = __callInstance360.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance359 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_u.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance359.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __ifInstance232.exports;
        return __exports.data(length > b2Settings.b2_linearSlop ? 1 : 0);
    })();
    var cr1u = r1X * this.m_u.y - r1Y * this.m_u.x;
    var cr2u = r2X * this.m_u.y - r2Y * this.m_u.x;
    var invMass = bA.m_invMass + bA.m_invI * cr1u * cr1u + bB.m_invMass + bB.m_invI * cr2u * cr2u;
    this.m_mass = invMass != 0 ? 1 / invMass : 0;
    (() => {
        const __ifInstance233 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var C = length - this.m_length;
                        var omega = 2 * Math.PI * this.m_frequencyHz;
                        var d = 2 * this.m_mass * this.m_dampingRatio * omega;
                        var k = this.m_mass * omega * omega;
                        this.m_gamma = step.dt * (d + step.dt * k);
                        this.m_gamma = this.m_gamma != 0 ? 1 / this.m_gamma : 0;
                        this.m_bias = C * step.dt * k * this.m_gamma;
                        this.m_mass = invMass + this.m_gamma;
                        this.m_mass = this.m_mass != 0 ? 1 / this.m_mass : 0;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance233.exports;
        return __exports.data(this.m_frequencyHz > 0 ? 1 : 0);
    })();
    (() => {
        const __ifInstance234 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_impulse *= step.dtRatio;
                        var PX = this.m_impulse * this.m_u.x;
                        var PY = this.m_impulse * this.m_u.y;
                        bA.m_linearVelocity.x -= bA.m_invMass * PX;
                        bA.m_linearVelocity.y -= bA.m_invMass * PY;
                        bA.m_angularVelocity -= bA.m_invI * (r1X * PY - r1Y * PX);
                        bB.m_linearVelocity.x += bB.m_invMass * PX;
                        bB.m_linearVelocity.y += bB.m_invMass * PY;
                        bB.m_angularVelocity += bB.m_invI * (r2X * PY - r2Y * PX);
                    }
                },
                impFunc2: () => {
                    {
                        this.m_impulse = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance234.exports;
        return __exports.data(step.warmStarting ? 1 : 0);
    })();
};
b2DistanceJoint.prototype.SolveVelocityConstraints = function (step) {
    var tMat;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
    var r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
    var tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
    var r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var v1X = bA.m_linearVelocity.x + -bA.m_angularVelocity * r1Y;
    var v1Y = bA.m_linearVelocity.y + bA.m_angularVelocity * r1X;
    var v2X = bB.m_linearVelocity.x + -bB.m_angularVelocity * r2Y;
    var v2Y = bB.m_linearVelocity.y + bB.m_angularVelocity * r2X;
    var Cdot = this.m_u.x * (v2X - v1X) + this.m_u.y * (v2Y - v1Y);
    var impulse = -this.m_mass * (Cdot + this.m_bias + this.m_gamma * this.m_impulse);
    this.m_impulse += impulse;
    var PX = impulse * this.m_u.x;
    var PY = impulse * this.m_u.y;
    bA.m_linearVelocity.x -= bA.m_invMass * PX;
    bA.m_linearVelocity.y -= bA.m_invMass * PY;
    bA.m_angularVelocity -= bA.m_invI * (r1X * PY - r1Y * PX);
    bB.m_linearVelocity.x += bB.m_invMass * PX;
    bB.m_linearVelocity.y += bB.m_invMass * PY;
    bB.m_angularVelocity += bB.m_invI * (r2X * PY - r2Y * PX);
};
b2DistanceJoint.prototype.SolvePositionConstraints = function (baumgarte) {
    var tMat;
    if (this.m_frequencyHz > 0) {
        return true;
    }
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    tMat = bA.m_xf.R;
    var r1X = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
    var r1Y = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
    var tX = tMat.col1.x * r1X + tMat.col2.x * r1Y;
    r1Y = tMat.col1.y * r1X + tMat.col2.y * r1Y;
    r1X = tX;
    tMat = bB.m_xf.R;
    var r2X = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
    var r2Y = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * r2X + tMat.col2.x * r2Y;
    r2Y = tMat.col1.y * r2X + tMat.col2.y * r2Y;
    r2X = tX;
    var dX = bB.m_sweep.c.x + r2X - bA.m_sweep.c.x - r1X;
    var dY = bB.m_sweep.c.y + r2Y - bA.m_sweep.c.y - r1Y;
    var length = Math.sqrt(dX * dX + dY * dY);
    dX /= length;
    dY /= length;
    var C = length - this.m_length;
    C = b2Math.Clamp(C, -b2Settings.b2_maxLinearCorrection, b2Settings.b2_maxLinearCorrection);
    var impulse = -this.m_mass * C;
    (() => {
        const __callInstance358 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_u.Set(dX, dY);
                }
            }
        });
        const __exports = __callInstance358.exports;
        return __exports.data();
    })();
    var PX = impulse * this.m_u.x;
    var PY = impulse * this.m_u.y;
    bA.m_sweep.c.x -= bA.m_invMass * PX;
    bA.m_sweep.c.y -= bA.m_invMass * PY;
    bA.m_sweep.a -= bA.m_invI * (r1X * PY - r1Y * PX);
    bB.m_sweep.c.x += bB.m_invMass * PX;
    bB.m_sweep.c.y += bB.m_invMass * PY;
    bB.m_sweep.a += bB.m_invI * (r2X * PY - r2Y * PX);
    (() => {
        const __callInstance357 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bA.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance357.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance356 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bB.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance356.exports;
        return __exports.data();
    })();
    return b2Math.Abs(C) < b2Settings.b2_linearSlop;
};
b2DistanceJoint.prototype.GetAnchorA = function () {
    return this.m_bodyA.GetWorldPoint(this.m_localAnchor1);
};
b2DistanceJoint.prototype.GetAnchorB = function () {
    return this.m_bodyB.GetWorldPoint(this.m_localAnchor2);
};
b2DistanceJoint.prototype.GetReactionForce = function (inv_dt) {
    return new b2Vec2(inv_dt * this.m_impulse * this.m_u.x, inv_dt * this.m_impulse * this.m_u.y);
};
b2DistanceJoint.prototype.GetReactionTorque = function (inv_dt) {
    return 0;
};
b2DistanceJoint.prototype.GetLength = function () {
    return this.m_length;
};
b2DistanceJoint.prototype.SetLength = function (length) {
    this.m_length = length;
};
b2DistanceJoint.prototype.GetFrequency = function () {
    return this.m_frequencyHz;
};
b2DistanceJoint.prototype.SetFrequency = function (hz) {
    this.m_frequencyHz = hz;
};
b2DistanceJoint.prototype.GetDampingRatio = function () {
    return this.m_dampingRatio;
};
b2DistanceJoint.prototype.SetDampingRatio = function (ratio) {
    this.m_dampingRatio = ratio;
};
b2DistanceJoint.prototype.m_localAnchor1 = new b2Vec2();
b2DistanceJoint.prototype.m_localAnchor2 = new b2Vec2();
b2DistanceJoint.prototype.m_u = new b2Vec2();
b2DistanceJoint.prototype.m_frequencyHz = null;
b2DistanceJoint.prototype.m_dampingRatio = null;
b2DistanceJoint.prototype.m_gamma = null;
b2DistanceJoint.prototype.m_bias = null;
b2DistanceJoint.prototype.m_impulse = null;
b2DistanceJoint.prototype.m_mass = null;
b2DistanceJoint.prototype.m_length = null;
var b2PulleyJointDef = function () {
    (() => {
        const __callInstance355 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2JointDef.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance355.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance354 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance354.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance353 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance353.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance352 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2PulleyJointDef.prototype, b2JointDef.prototype);
            }
        }
    });
    const __exports = __callInstance352.exports;
    return __exports.data();
})();
b2PulleyJointDef.prototype._super = b2JointDef.prototype;
b2PulleyJointDef.prototype.__constructor = function () {
    (() => {
        const __callInstance351 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance351.exports;
        return __exports.data();
    })();
    this.type = b2Joint.e_pulleyJoint;
    (() => {
        const __callInstance350 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.groundAnchorA.Set(-1, 1);
                }
            }
        });
        const __exports = __callInstance350.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance349 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.groundAnchorB.Set(1, 1);
                }
            }
        });
        const __exports = __callInstance349.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance348 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorA.Set(-1, 0);
                }
            }
        });
        const __exports = __callInstance348.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance347 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorB.Set(1, 0);
                }
            }
        });
        const __exports = __callInstance347.exports;
        return __exports.data();
    })();
    this.lengthA = 0;
    this.maxLengthA = 0;
    this.lengthB = 0;
    this.maxLengthB = 0;
    this.ratio = 1;
    this.collideConnected = true;
};
b2PulleyJointDef.prototype.__varz = function () {
    this.groundAnchorA = new b2Vec2();
    this.groundAnchorB = new b2Vec2();
    this.localAnchorA = new b2Vec2();
    this.localAnchorB = new b2Vec2();
};
b2PulleyJointDef.prototype.Initialize = function (bA, bB, gaA, gaB, anchorA, anchorB, r) {
    this.bodyA = bA;
    this.bodyB = bB;
    (() => {
        const __callInstance346 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.groundAnchorA.SetV(gaA);
                }
            }
        });
        const __exports = __callInstance346.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance345 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.groundAnchorB.SetV(gaB);
                }
            }
        });
        const __exports = __callInstance345.exports;
        return __exports.data();
    })();
    this.localAnchorA = this.bodyA.GetLocalPoint(anchorA);
    this.localAnchorB = this.bodyB.GetLocalPoint(anchorB);
    var d1X = anchorA.x - gaA.x;
    var d1Y = anchorA.y - gaA.y;
    this.lengthA = Math.sqrt(d1X * d1X + d1Y * d1Y);
    var d2X = anchorB.x - gaB.x;
    var d2Y = anchorB.y - gaB.y;
    this.lengthB = Math.sqrt(d2X * d2X + d2Y * d2Y);
    this.ratio = r;
    var C = this.lengthA + this.ratio * this.lengthB;
    this.maxLengthA = C - this.ratio * b2PulleyJoint.b2_minPulleyLength;
    this.maxLengthB = (C - b2PulleyJoint.b2_minPulleyLength) / this.ratio;
};
b2PulleyJointDef.prototype.groundAnchorA = new b2Vec2();
b2PulleyJointDef.prototype.groundAnchorB = new b2Vec2();
b2PulleyJointDef.prototype.localAnchorA = new b2Vec2();
b2PulleyJointDef.prototype.localAnchorB = new b2Vec2();
b2PulleyJointDef.prototype.lengthA = null;
b2PulleyJointDef.prototype.maxLengthA = null;
b2PulleyJointDef.prototype.lengthB = null;
b2PulleyJointDef.prototype.maxLengthB = null;
b2PulleyJointDef.prototype.ratio = null;
var b2DistanceJointDef = function () {
    (() => {
        const __callInstance344 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2JointDef.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance344.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance343 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance343.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance342 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance342.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance341 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2DistanceJointDef.prototype, b2JointDef.prototype);
            }
        }
    });
    const __exports = __callInstance341.exports;
    return __exports.data();
})();
b2DistanceJointDef.prototype._super = b2JointDef.prototype;
b2DistanceJointDef.prototype.__constructor = function () {
    (() => {
        const __callInstance340 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance340.exports;
        return __exports.data();
    })();
    this.type = b2Joint.e_distanceJoint;
    this.length = 1;
    this.frequencyHz = 0;
    this.dampingRatio = 0;
};
b2DistanceJointDef.prototype.__varz = function () {
    this.localAnchorA = new b2Vec2();
    this.localAnchorB = new b2Vec2();
};
b2DistanceJointDef.prototype.Initialize = function (bA, bB, anchorA, anchorB) {
    this.bodyA = bA;
    this.bodyB = bB;
    (() => {
        const __callInstance339 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorA.SetV(this.bodyA.GetLocalPoint(anchorA));
                }
            }
        });
        const __exports = __callInstance339.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance338 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorB.SetV(this.bodyB.GetLocalPoint(anchorB));
                }
            }
        });
        const __exports = __callInstance338.exports;
        return __exports.data();
    })();
    var dX = anchorB.x - anchorA.x;
    var dY = anchorB.y - anchorA.y;
    this.length = Math.sqrt(dX * dX + dY * dY);
    this.frequencyHz = 0;
    this.dampingRatio = 0;
};
b2DistanceJointDef.prototype.localAnchorA = new b2Vec2();
b2DistanceJointDef.prototype.localAnchorB = new b2Vec2();
b2DistanceJointDef.prototype.length = null;
b2DistanceJointDef.prototype.frequencyHz = null;
b2DistanceJointDef.prototype.dampingRatio = null;
var b2FrictionJointDef = function () {
    (() => {
        const __callInstance337 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2JointDef.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance337.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance336 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance336.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance335 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance335.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance334 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2FrictionJointDef.prototype, b2JointDef.prototype);
            }
        }
    });
    const __exports = __callInstance334.exports;
    return __exports.data();
})();
b2FrictionJointDef.prototype._super = b2JointDef.prototype;
b2FrictionJointDef.prototype.__constructor = function () {
    (() => {
        const __callInstance333 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance333.exports;
        return __exports.data();
    })();
    this.type = b2Joint.e_frictionJoint;
    this.maxForce = 0;
    this.maxTorque = 0;
};
b2FrictionJointDef.prototype.__varz = function () {
    this.localAnchorA = new b2Vec2();
    this.localAnchorB = new b2Vec2();
};
b2FrictionJointDef.prototype.Initialize = function (bA, bB, anchor) {
    this.bodyA = bA;
    this.bodyB = bB;
    (() => {
        const __callInstance332 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorA.SetV(this.bodyA.GetLocalPoint(anchor));
                }
            }
        });
        const __exports = __callInstance332.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance331 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorB.SetV(this.bodyB.GetLocalPoint(anchor));
                }
            }
        });
        const __exports = __callInstance331.exports;
        return __exports.data();
    })();
};
b2FrictionJointDef.prototype.localAnchorA = new b2Vec2();
b2FrictionJointDef.prototype.localAnchorB = new b2Vec2();
b2FrictionJointDef.prototype.maxForce = null;
b2FrictionJointDef.prototype.maxTorque = null;
var b2WeldJointDef = function () {
    (() => {
        const __callInstance330 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2JointDef.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance330.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance329 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance329.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance328 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance328.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance327 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2WeldJointDef.prototype, b2JointDef.prototype);
            }
        }
    });
    const __exports = __callInstance327.exports;
    return __exports.data();
})();
b2WeldJointDef.prototype._super = b2JointDef.prototype;
b2WeldJointDef.prototype.__constructor = function () {
    (() => {
        const __callInstance326 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance326.exports;
        return __exports.data();
    })();
    this.type = b2Joint.e_weldJoint;
    this.referenceAngle = 0;
};
b2WeldJointDef.prototype.__varz = function () {
    this.localAnchorA = new b2Vec2();
    this.localAnchorB = new b2Vec2();
};
b2WeldJointDef.prototype.Initialize = function (bA, bB, anchor) {
    this.bodyA = bA;
    this.bodyB = bB;
    (() => {
        const __callInstance325 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorA.SetV(this.bodyA.GetLocalPoint(anchor));
                }
            }
        });
        const __exports = __callInstance325.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance324 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorB.SetV(this.bodyB.GetLocalPoint(anchor));
                }
            }
        });
        const __exports = __callInstance324.exports;
        return __exports.data();
    })();
    this.referenceAngle = this.bodyB.GetAngle() - this.bodyA.GetAngle();
};
b2WeldJointDef.prototype.localAnchorA = new b2Vec2();
b2WeldJointDef.prototype.localAnchorB = new b2Vec2();
b2WeldJointDef.prototype.referenceAngle = null;
var b2GearJointDef = function () {
    (() => {
        const __callInstance323 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2JointDef.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance323.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance322 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance322.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance321 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance321.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance320 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2GearJointDef.prototype, b2JointDef.prototype);
            }
        }
    });
    const __exports = __callInstance320.exports;
    return __exports.data();
})();
b2GearJointDef.prototype._super = b2JointDef.prototype;
b2GearJointDef.prototype.__constructor = function () {
    (() => {
        const __callInstance319 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance319.exports;
        return __exports.data();
    })();
    this.type = b2Joint.e_gearJoint;
    this.joint1 = null;
    this.joint2 = null;
    this.ratio = 1;
};
b2GearJointDef.prototype.__varz = function () {
};
b2GearJointDef.prototype.joint1 = null;
b2GearJointDef.prototype.joint2 = null;
b2GearJointDef.prototype.ratio = null;
var b2Color = function () {
    (() => {
        const __callInstance318 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance318.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance317 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance317.exports;
        return __exports.data();
    })();
};
b2Color.prototype.__constructor = function (rr, gg, bb) {
    this._r = parseInt(255 * b2Math.Clamp(rr, 0, 1));
    this._g = parseInt(255 * b2Math.Clamp(gg, 0, 1));
    this._b = parseInt(255 * b2Math.Clamp(bb, 0, 1));
};
b2Color.prototype.__varz = function () {
};
b2Color.prototype.Set = function (rr, gg, bb) {
    this._r = parseInt(255 * b2Math.Clamp(rr, 0, 1));
    this._g = parseInt(255 * b2Math.Clamp(gg, 0, 1));
    this._b = parseInt(255 * b2Math.Clamp(bb, 0, 1));
};
(() => {
    const __callInstance316 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                b2Color.prototype.__defineGetter__(lS(0, 19), function () {
                    return this._r;
                });
            }
        }
    });
    const __exports = __callInstance316.exports;
    return __exports.data();
})();
(() => {
    const __callInstance315 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                b2Color.prototype.__defineSetter__(lS(0, 20), function (rr) {
                    this._r = parseInt(255 * b2Math.Clamp(rr, 0, 1));
                });
            }
        }
    });
    const __exports = __callInstance315.exports;
    return __exports.data();
})();
(() => {
    const __callInstance314 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                b2Color.prototype.__defineGetter__(lS(0, 21), function () {
                    return this._g;
                });
            }
        }
    });
    const __exports = __callInstance314.exports;
    return __exports.data();
})();
(() => {
    const __callInstance313 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                b2Color.prototype.__defineSetter__(lS(0, 22), function (gg) {
                    this._g = parseInt(255 * b2Math.Clamp(gg, 0, 1));
                });
            }
        }
    });
    const __exports = __callInstance313.exports;
    return __exports.data();
})();
(() => {
    const __callInstance312 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                b2Color.prototype.__defineGetter__(lS(0, 23), function () {
                    return this._g;
                });
            }
        }
    });
    const __exports = __callInstance312.exports;
    return __exports.data();
})();
(() => {
    const __callInstance311 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                b2Color.prototype.__defineSetter__(lS(0, 24), function (bb) {
                    this._b = parseInt(255 * b2Math.Clamp(bb, 0, 1));
                });
            }
        }
    });
    const __exports = __callInstance311.exports;
    return __exports.data();
})();
(() => {
    const __callInstance310 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                b2Color.prototype.__defineGetter__(lS(0, 25), function () {
                    return this._r << 16 | this._g << 8 | this._b;
                });
            }
        }
    });
    const __exports = __callInstance310.exports;
    return __exports.data();
})();
b2Color.prototype._r = 0;
b2Color.prototype._g = 0;
b2Color.prototype._b = 0;
var b2FrictionJoint = function () {
    (() => {
        const __callInstance309 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance309.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance308 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance308.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance307 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance307.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance306 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2FrictionJoint.prototype, b2Joint.prototype);
            }
        }
    });
    const __exports = __callInstance306.exports;
    return __exports.data();
})();
b2FrictionJoint.prototype._super = b2Joint.prototype;
b2FrictionJoint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance305 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, [def]);
                }
            }
        });
        const __exports = __callInstance305.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance304 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchorA.SetV(def.localAnchorA);
                }
            }
        });
        const __exports = __callInstance304.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance303 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_localAnchorB.SetV(def.localAnchorB);
                }
            }
        });
        const __exports = __callInstance303.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance302 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_linearMass.SetZero();
                }
            }
        });
        const __exports = __callInstance302.exports;
        return __exports.data();
    })();
    this.m_angularMass = 0;
    (() => {
        const __callInstance301 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_linearImpulse.SetZero();
                }
            }
        });
        const __exports = __callInstance301.exports;
        return __exports.data();
    })();
    this.m_angularImpulse = 0;
    this.m_maxForce = def.maxForce;
    this.m_maxTorque = def.maxTorque;
};
b2FrictionJoint.prototype.__varz = function () {
    this.m_localAnchorA = new b2Vec2();
    this.m_localAnchorB = new b2Vec2();
    this.m_linearImpulse = new b2Vec2();
    this.m_linearMass = new b2Mat22();
};
b2FrictionJoint.prototype.InitVelocityConstraints = function (step) {
    var tMat;
    var tX;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    tMat = bA.m_xf.R;
    var rAX = this.m_localAnchorA.x - bA.m_sweep.localCenter.x;
    var rAY = this.m_localAnchorA.y - bA.m_sweep.localCenter.y;
    tX = tMat.col1.x * rAX + tMat.col2.x * rAY;
    rAY = tMat.col1.y * rAX + tMat.col2.y * rAY;
    rAX = tX;
    tMat = bB.m_xf.R;
    var rBX = this.m_localAnchorB.x - bB.m_sweep.localCenter.x;
    var rBY = this.m_localAnchorB.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * rBX + tMat.col2.x * rBY;
    rBY = tMat.col1.y * rBX + tMat.col2.y * rBY;
    rBX = tX;
    var mA = bA.m_invMass;
    var mB = bB.m_invMass;
    var iA = bA.m_invI;
    var iB = bB.m_invI;
    var K = new b2Mat22();
    K.col1.x = mA + mB;
    K.col2.x = 0;
    K.col1.y = 0;
    K.col2.y = mA + mB;
    K.col1.x += iA * rAY * rAY;
    K.col2.x += -iA * rAX * rAY;
    K.col1.y += -iA * rAX * rAY;
    K.col2.y += iA * rAX * rAX;
    K.col1.x += iB * rBY * rBY;
    K.col2.x += -iB * rBX * rBY;
    K.col1.y += -iB * rBX * rBY;
    K.col2.y += iB * rBX * rBX;
    (() => {
        const __callInstance300 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    K.GetInverse(this.m_linearMass);
                }
            }
        });
        const __exports = __callInstance300.exports;
        return __exports.data();
    })();
    this.m_angularMass = iA + iB;
    (() => {
        const __ifInstance235 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_angularMass = 1 / this.m_angularMass;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance235.exports;
        return __exports.data(this.m_angularMass > 0 ? 1 : 0);
    })();
    (() => {
        const __ifInstance236 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_linearImpulse.x *= step.dtRatio;
                        this.m_linearImpulse.y *= step.dtRatio;
                        this.m_angularImpulse *= step.dtRatio;
                        var P = this.m_linearImpulse;
                        bA.m_linearVelocity.x -= mA * P.x;
                        bA.m_linearVelocity.y -= mA * P.y;
                        bA.m_angularVelocity -= iA * (rAX * P.y - rAY * P.x + this.m_angularImpulse);
                        bB.m_linearVelocity.x += mB * P.x;
                        bB.m_linearVelocity.y += mB * P.y;
                        bB.m_angularVelocity += iB * (rBX * P.y - rBY * P.x + this.m_angularImpulse);
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance299 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_linearImpulse.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance299.exports;
                            return __exports.data();
                        })();
                        this.m_angularImpulse = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance236.exports;
        return __exports.data(step.warmStarting ? 1 : 0);
    })();
};
b2FrictionJoint.prototype.SolveVelocityConstraints = function (step) {
    var tMat;
    var tX;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var vA = bA.m_linearVelocity;
    var wA = bA.m_angularVelocity;
    var vB = bB.m_linearVelocity;
    var wB = bB.m_angularVelocity;
    var mA = bA.m_invMass;
    var mB = bB.m_invMass;
    var iA = bA.m_invI;
    var iB = bB.m_invI;
    tMat = bA.m_xf.R;
    var rAX = this.m_localAnchorA.x - bA.m_sweep.localCenter.x;
    var rAY = this.m_localAnchorA.y - bA.m_sweep.localCenter.y;
    tX = tMat.col1.x * rAX + tMat.col2.x * rAY;
    rAY = tMat.col1.y * rAX + tMat.col2.y * rAY;
    rAX = tX;
    tMat = bB.m_xf.R;
    var rBX = this.m_localAnchorB.x - bB.m_sweep.localCenter.x;
    var rBY = this.m_localAnchorB.y - bB.m_sweep.localCenter.y;
    tX = tMat.col1.x * rBX + tMat.col2.x * rBY;
    rBY = tMat.col1.y * rBX + tMat.col2.y * rBY;
    rBX = tX;
    var maxImpulse;
    var Cdot = wB - wA;
    var impulse = -this.m_angularMass * Cdot;
    var oldImpulse = this.m_angularImpulse;
    maxImpulse = step.dt * this.m_maxTorque;
    this.m_angularImpulse = b2Math.Clamp(this.m_angularImpulse + impulse, -maxImpulse, maxImpulse);
    impulse = this.m_angularImpulse - oldImpulse;
    wA -= iA * impulse;
    wB += iB * impulse;
    var CdotX = vB.x - wB * rBY - vA.x + wA * rAY;
    var CdotY = vB.y + wB * rBX - vA.y - wA * rAX;
    var impulseV = b2Math.MulMV(this.m_linearMass, new b2Vec2(-CdotX, -CdotY));
    var oldImpulseV = this.m_linearImpulse.Copy();
    (() => {
        const __callInstance298 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_linearImpulse.Add(impulseV);
                }
            }
        });
        const __exports = __callInstance298.exports;
        return __exports.data();
    })();
    maxImpulse = step.dt * this.m_maxForce;
    (() => {
        const __ifInstance237 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance297 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_linearImpulse.Normalize();
                                    }
                                }
                            });
                            const __exports = __callInstance297.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance296 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_linearImpulse.Multiply(maxImpulse);
                                    }
                                }
                            });
                            const __exports = __callInstance296.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance237.exports;
        return __exports.data(this.m_linearImpulse.LengthSquared() > maxImpulse * maxImpulse ? 1 : 0);
    })();
    impulseV = b2Math.SubtractVV(this.m_linearImpulse, oldImpulseV);
    vA.x -= mA * impulseV.x;
    vA.y -= mA * impulseV.y;
    wA -= iA * (rAX * impulseV.y - rAY * impulseV.x);
    vB.x += mB * impulseV.x;
    vB.y += mB * impulseV.y;
    wB += iB * (rBX * impulseV.y - rBY * impulseV.x);
    bA.m_angularVelocity = wA;
    bB.m_angularVelocity = wB;
};
b2FrictionJoint.prototype.SolvePositionConstraints = function (baumgarte) {
    return true;
};
b2FrictionJoint.prototype.GetAnchorA = function () {
    return this.m_bodyA.GetWorldPoint(this.m_localAnchorA);
};
b2FrictionJoint.prototype.GetAnchorB = function () {
    return this.m_bodyB.GetWorldPoint(this.m_localAnchorB);
};
b2FrictionJoint.prototype.GetReactionForce = function (inv_dt) {
    return new b2Vec2(inv_dt * this.m_linearImpulse.x, inv_dt * this.m_linearImpulse.y);
};
b2FrictionJoint.prototype.GetReactionTorque = function (inv_dt) {
    return inv_dt * this.m_angularImpulse;
};
b2FrictionJoint.prototype.SetMaxForce = function (force) {
    this.m_maxForce = force;
};
b2FrictionJoint.prototype.GetMaxForce = function () {
    return this.m_maxForce;
};
b2FrictionJoint.prototype.SetMaxTorque = function (torque) {
    this.m_maxTorque = torque;
};
b2FrictionJoint.prototype.GetMaxTorque = function () {
    return this.m_maxTorque;
};
b2FrictionJoint.prototype.m_localAnchorA = new b2Vec2();
b2FrictionJoint.prototype.m_localAnchorB = new b2Vec2();
b2FrictionJoint.prototype.m_linearImpulse = new b2Vec2();
b2FrictionJoint.prototype.m_angularImpulse = null;
b2FrictionJoint.prototype.m_maxForce = null;
b2FrictionJoint.prototype.m_maxTorque = null;
b2FrictionJoint.prototype.m_linearMass = new b2Mat22();
b2FrictionJoint.prototype.m_angularMass = null;
var b2Distance = function () {
    (() => {
        const __callInstance295 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance295.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance294 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance294.exports;
        return __exports.data();
    })();
};
b2Distance.prototype.__constructor = function () {
};
b2Distance.prototype.__varz = function () {
};
b2Distance.Distance = function (output, cache, input) {
    ++b2Distance.b2_gjkCalls;
    var proxyA = input.proxyA;
    var proxyB = input.proxyB;
    var transformA = input.transformA;
    var transformB = input.transformB;
    var simplex = b2Distance.s_simplex;
    (() => {
        const __callInstance293 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    simplex.ReadCache(cache, proxyA, transformA, proxyB, transformB);
                }
            }
        });
        const __exports = __callInstance293.exports;
        return __exports.data();
    })();
    var vertices = simplex.m_vertices;
    var k_maxIters = 20;
    var saveA = b2Distance.s_saveA;
    var saveB = b2Distance.s_saveB;
    var saveCount = 0;
    var closestPoint = simplex.GetClosestPoint();
    var distanceSqr1 = closestPoint.LengthSquared();
    var distanceSqr2 = distanceSqr1;
    var i = 0;
    var p;
    var iter = 0;
    while (iter < k_maxIters) {
        saveCount = simplex.m_count;
        (() => {
            i = 0;
            const __forInstance69 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return i < saveCount ? 1 : 0;
                    },
                    update: () => {
                        i++;
                    },
                    body: () => {
                        {
                            saveA[i] = vertices[i].indexA;
                            saveB[i] = vertices[i].indexB;
                        }
                    }
                }
            });
            const __exports = __forInstance69.exports;
            return __exports.data();
        })();
        switch (simplex.m_count) {
        case 1:
            break;
        case 2:
            (() => {
                const __callInstance292 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            simplex.Solve2();
                        }
                    }
                });
                const __exports = __callInstance292.exports;
                return __exports.data();
            })();
            break;
        case 3:
            (() => {
                const __callInstance291 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            simplex.Solve3();
                        }
                    }
                });
                const __exports = __callInstance291.exports;
                return __exports.data();
            })();
            break;
        default:
            (() => {
                const __callInstance290 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            b2Settings.b2Assert(false);
                        }
                    }
                });
                const __exports = __callInstance290.exports;
                return __exports.data();
            })();
        }
        if (simplex.m_count == 3) {
            break;
        }
        p = simplex.GetClosestPoint();
        distanceSqr2 = p.LengthSquared();
        (() => {
            const __ifInstance238 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance238.exports;
            return __exports.data(distanceSqr2 > distanceSqr1 ? 1 : 0);
        })();
        distanceSqr1 = distanceSqr2;
        var d = simplex.GetSearchDirection();
        if (d.LengthSquared() < Number.MIN_VALUE * Number.MIN_VALUE) {
            break;
        }
        var vertex = vertices[simplex.m_count];
        vertex.indexA = proxyA.GetSupport(b2Math.MulTMV(transformA.R, d.GetNegative()));
        vertex.wA = b2Math.MulX(transformA, proxyA.GetVertex(vertex.indexA));
        vertex.indexB = proxyB.GetSupport(b2Math.MulTMV(transformB.R, d));
        vertex.wB = b2Math.MulX(transformB, proxyB.GetVertex(vertex.indexB));
        vertex.w = b2Math.SubtractVV(vertex.wB, vertex.wA);
        ++iter;
        ++b2Distance.b2_gjkIters;
        var duplicate = false;
        for (i = 0; i < saveCount; i++) {
            if (vertex.indexA == saveA[i] && vertex.indexB == saveB[i]) {
                duplicate = true;
                break;
            }
        }
        if (duplicate) {
            break;
        }
        ++simplex.m_count;
    }
    b2Distance.b2_gjkMaxIters = b2Math.Max(b2Distance.b2_gjkMaxIters, iter);
    (() => {
        const __callInstance289 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    simplex.GetWitnessPoints(output.pointA, output.pointB);
                }
            }
        });
        const __exports = __callInstance289.exports;
        return __exports.data();
    })();
    output.distance = b2Math.SubtractVV(output.pointA, output.pointB).Length();
    output.iterations = iter;
    (() => {
        const __callInstance288 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    simplex.WriteCache(cache);
                }
            }
        });
        const __exports = __callInstance288.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance239 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var rA = proxyA.m_radius;
                        var rB = proxyB.m_radius;
                        (() => {
                            const __ifInstance240 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            output.distance -= rA + rB;
                                            var normal = b2Math.SubtractVV(output.pointB, output.pointA);
                                            (() => {
                                                const __callInstance287 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            normal.Normalize();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance287.exports;
                                                return __exports.data();
                                            })();
                                            output.pointA.x += rA * normal.x;
                                            output.pointA.y += rA * normal.y;
                                            output.pointB.x -= rB * normal.x;
                                            output.pointB.y -= rB * normal.y;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            p = new b2Vec2();
                                            p.x = 0.5 * (output.pointA.x + output.pointB.x);
                                            p.y = 0.5 * (output.pointA.y + output.pointB.y);
                                            output.pointA.x = output.pointB.x = p.x;
                                            output.pointA.y = output.pointB.y = p.y;
                                            output.distance = 0;
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance240.exports;
                            return __exports.data(output.distance > rA + rB && output.distance > Number.MIN_VALUE ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance239.exports;
        return __exports.data(input.useRadii ? 1 : 0);
    })();
};
b2Distance.b2_gjkCalls = 0;
b2Distance.b2_gjkIters = 0;
b2Distance.b2_gjkMaxIters = 0;
b2Distance.s_simplex = new b2Simplex();
b2Distance.s_saveA = new Array(3);
b2Distance.s_saveB = new Array(3);
var b2MouseJoint = function () {
    (() => {
        const __callInstance286 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance286.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance285 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance285.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance284 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance284.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance283 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2MouseJoint.prototype, b2Joint.prototype);
            }
        }
    });
    const __exports = __callInstance283.exports;
    return __exports.data();
})();
b2MouseJoint.prototype._super = b2Joint.prototype;
b2MouseJoint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance282 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, [def]);
                }
            }
        });
        const __exports = __callInstance282.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance281 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_target.SetV(def.target);
                }
            }
        });
        const __exports = __callInstance281.exports;
        return __exports.data();
    })();
    var tX = this.m_target.x - this.m_bodyB.m_xf.position.x;
    var tY = this.m_target.y - this.m_bodyB.m_xf.position.y;
    var tMat = this.m_bodyB.m_xf.R;
    this.m_localAnchor.x = tX * tMat.col1.x + tY * tMat.col1.y;
    this.m_localAnchor.y = tX * tMat.col2.x + tY * tMat.col2.y;
    this.m_maxForce = def.maxForce;
    (() => {
        const __callInstance280 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_impulse.SetZero();
                }
            }
        });
        const __exports = __callInstance280.exports;
        return __exports.data();
    })();
    this.m_frequencyHz = def.frequencyHz;
    this.m_dampingRatio = def.dampingRatio;
    this.m_beta = 0;
    this.m_gamma = 0;
};
b2MouseJoint.prototype.__varz = function () {
    this.K = new b2Mat22();
    this.K1 = new b2Mat22();
    this.K2 = new b2Mat22();
    this.m_localAnchor = new b2Vec2();
    this.m_target = new b2Vec2();
    this.m_impulse = new b2Vec2();
    this.m_mass = new b2Mat22();
    this.m_C = new b2Vec2();
};
b2MouseJoint.prototype.InitVelocityConstraints = function (step) {
    var b = this.m_bodyB;
    var mass = b.GetMass();
    var omega = 2 * Math.PI * this.m_frequencyHz;
    var d = 2 * mass * this.m_dampingRatio * omega;
    var k = mass * omega * omega;
    this.m_gamma = step.dt * (d + step.dt * k);
    this.m_gamma = this.m_gamma != 0 ? 1 / this.m_gamma : 0;
    this.m_beta = step.dt * k * this.m_gamma;
    var tMat;
    tMat = b.m_xf.R;
    var rX = this.m_localAnchor.x - b.m_sweep.localCenter.x;
    var rY = this.m_localAnchor.y - b.m_sweep.localCenter.y;
    var tX = tMat.col1.x * rX + tMat.col2.x * rY;
    rY = tMat.col1.y * rX + tMat.col2.y * rY;
    rX = tX;
    var invMass = b.m_invMass;
    var invI = b.m_invI;
    this.K1.col1.x = invMass;
    this.K1.col2.x = 0;
    this.K1.col1.y = 0;
    this.K1.col2.y = invMass;
    this.K2.col1.x = invI * rY * rY;
    this.K2.col2.x = -invI * rX * rY;
    this.K2.col1.y = -invI * rX * rY;
    this.K2.col2.y = invI * rX * rX;
    (() => {
        const __callInstance279 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.K.SetM(this.K1);
                }
            }
        });
        const __exports = __callInstance279.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance278 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.K.AddM(this.K2);
                }
            }
        });
        const __exports = __callInstance278.exports;
        return __exports.data();
    })();
    this.K.col1.x += this.m_gamma;
    this.K.col2.y += this.m_gamma;
    (() => {
        const __callInstance277 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.K.GetInverse(this.m_mass);
                }
            }
        });
        const __exports = __callInstance277.exports;
        return __exports.data();
    })();
    this.m_C.x = b.m_sweep.c.x + rX - this.m_target.x;
    this.m_C.y = b.m_sweep.c.y + rY - this.m_target.y;
    b.m_angularVelocity *= 0.98;
    this.m_impulse.x *= step.dtRatio;
    this.m_impulse.y *= step.dtRatio;
    b.m_linearVelocity.x += invMass * this.m_impulse.x;
    b.m_linearVelocity.y += invMass * this.m_impulse.y;
    b.m_angularVelocity += invI * (rX * this.m_impulse.y - rY * this.m_impulse.x);
};
b2MouseJoint.prototype.SolveVelocityConstraints = function (step) {
    var b = this.m_bodyB;
    var tMat;
    var tX;
    var tY;
    tMat = b.m_xf.R;
    var rX = this.m_localAnchor.x - b.m_sweep.localCenter.x;
    var rY = this.m_localAnchor.y - b.m_sweep.localCenter.y;
    tX = tMat.col1.x * rX + tMat.col2.x * rY;
    rY = tMat.col1.y * rX + tMat.col2.y * rY;
    rX = tX;
    var CdotX = b.m_linearVelocity.x + -b.m_angularVelocity * rY;
    var CdotY = b.m_linearVelocity.y + b.m_angularVelocity * rX;
    tMat = this.m_mass;
    tX = CdotX + this.m_beta * this.m_C.x + this.m_gamma * this.m_impulse.x;
    tY = CdotY + this.m_beta * this.m_C.y + this.m_gamma * this.m_impulse.y;
    var impulseX = -(tMat.col1.x * tX + tMat.col2.x * tY);
    var impulseY = -(tMat.col1.y * tX + tMat.col2.y * tY);
    var oldImpulseX = this.m_impulse.x;
    var oldImpulseY = this.m_impulse.y;
    this.m_impulse.x += impulseX;
    this.m_impulse.y += impulseY;
    var maxImpulse = step.dt * this.m_maxForce;
    (() => {
        const __ifInstance241 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance276 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_impulse.Multiply(maxImpulse / this.m_impulse.Length());
                                    }
                                }
                            });
                            const __exports = __callInstance276.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance241.exports;
        return __exports.data(this.m_impulse.LengthSquared() > maxImpulse * maxImpulse ? 1 : 0);
    })();
    impulseX = this.m_impulse.x - oldImpulseX;
    impulseY = this.m_impulse.y - oldImpulseY;
    b.m_linearVelocity.x += b.m_invMass * impulseX;
    b.m_linearVelocity.y += b.m_invMass * impulseY;
    b.m_angularVelocity += b.m_invI * (rX * impulseY - rY * impulseX);
};
b2MouseJoint.prototype.SolvePositionConstraints = function (baumgarte) {
    return true;
};
b2MouseJoint.prototype.GetAnchorA = function () {
    return this.m_target;
};
b2MouseJoint.prototype.GetAnchorB = function () {
    return this.m_bodyB.GetWorldPoint(this.m_localAnchor);
};
b2MouseJoint.prototype.GetReactionForce = function (inv_dt) {
    return new b2Vec2(inv_dt * this.m_impulse.x, inv_dt * this.m_impulse.y);
};
b2MouseJoint.prototype.GetReactionTorque = function (inv_dt) {
    return 0;
};
b2MouseJoint.prototype.GetTarget = function () {
    return this.m_target;
};
b2MouseJoint.prototype.SetTarget = function (target) {
    (() => {
        const __ifInstance242 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance275 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_bodyB.SetAwake(true);
                                    }
                                }
                            });
                            const __exports = __callInstance275.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance242.exports;
        return __exports.data(this.m_bodyB.IsAwake() == false ? 1 : 0);
    })();
    this.m_target = target;
};
b2MouseJoint.prototype.GetMaxForce = function () {
    return this.m_maxForce;
};
b2MouseJoint.prototype.SetMaxForce = function (maxForce) {
    this.m_maxForce = maxForce;
};
b2MouseJoint.prototype.GetFrequency = function () {
    return this.m_frequencyHz;
};
b2MouseJoint.prototype.SetFrequency = function (hz) {
    this.m_frequencyHz = hz;
};
b2MouseJoint.prototype.GetDampingRatio = function () {
    return this.m_dampingRatio;
};
b2MouseJoint.prototype.SetDampingRatio = function (ratio) {
    this.m_dampingRatio = ratio;
};
b2MouseJoint.prototype.K = new b2Mat22();
b2MouseJoint.prototype.K1 = new b2Mat22();
b2MouseJoint.prototype.K2 = new b2Mat22();
b2MouseJoint.prototype.m_localAnchor = new b2Vec2();
b2MouseJoint.prototype.m_target = new b2Vec2();
b2MouseJoint.prototype.m_impulse = new b2Vec2();
b2MouseJoint.prototype.m_mass = new b2Mat22();
b2MouseJoint.prototype.m_C = new b2Vec2();
b2MouseJoint.prototype.m_maxForce = null;
b2MouseJoint.prototype.m_frequencyHz = null;
b2MouseJoint.prototype.m_dampingRatio = null;
b2MouseJoint.prototype.m_beta = null;
b2MouseJoint.prototype.m_gamma = null;
var b2PrismaticJointDef = function () {
    (() => {
        const __callInstance274 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2JointDef.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance274.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance273 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance273.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance272 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance272.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance271 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2PrismaticJointDef.prototype, b2JointDef.prototype);
            }
        }
    });
    const __exports = __callInstance271.exports;
    return __exports.data();
})();
b2PrismaticJointDef.prototype._super = b2JointDef.prototype;
b2PrismaticJointDef.prototype.__constructor = function () {
    (() => {
        const __callInstance270 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance270.exports;
        return __exports.data();
    })();
    this.type = b2Joint.e_prismaticJoint;
    (() => {
        const __callInstance269 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAxisA.Set(1, 0);
                }
            }
        });
        const __exports = __callInstance269.exports;
        return __exports.data();
    })();
    this.referenceAngle = 0;
    this.enableLimit = false;
    this.lowerTranslation = 0;
    this.upperTranslation = 0;
    this.enableMotor = false;
    this.maxMotorForce = 0;
    this.motorSpeed = 0;
};
b2PrismaticJointDef.prototype.__varz = function () {
    this.localAnchorA = new b2Vec2();
    this.localAnchorB = new b2Vec2();
    this.localAxisA = new b2Vec2();
};
b2PrismaticJointDef.prototype.Initialize = function (bA, bB, anchor, axis) {
    this.bodyA = bA;
    this.bodyB = bB;
    this.localAnchorA = this.bodyA.GetLocalPoint(anchor);
    this.localAnchorB = this.bodyB.GetLocalPoint(anchor);
    this.localAxisA = this.bodyA.GetLocalVector(axis);
    this.referenceAngle = this.bodyB.GetAngle() - this.bodyA.GetAngle();
};
b2PrismaticJointDef.prototype.localAnchorA = new b2Vec2();
b2PrismaticJointDef.prototype.localAnchorB = new b2Vec2();
b2PrismaticJointDef.prototype.localAxisA = new b2Vec2();
b2PrismaticJointDef.prototype.referenceAngle = null;
b2PrismaticJointDef.prototype.enableLimit = null;
b2PrismaticJointDef.prototype.lowerTranslation = null;
b2PrismaticJointDef.prototype.upperTranslation = null;
b2PrismaticJointDef.prototype.enableMotor = null;
b2PrismaticJointDef.prototype.maxMotorForce = null;
b2PrismaticJointDef.prototype.motorSpeed = null;
var b2TimeOfImpact = function () {
    (() => {
        const __callInstance268 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance268.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance267 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance267.exports;
        return __exports.data();
    })();
};
b2TimeOfImpact.prototype.__constructor = function () {
};
b2TimeOfImpact.prototype.__varz = function () {
};
b2TimeOfImpact.TimeOfImpact = function (input) {
    ++b2TimeOfImpact.b2_toiCalls;
    var proxyA = input.proxyA;
    var proxyB = input.proxyB;
    var sweepA = input.sweepA;
    var sweepB = input.sweepB;
    (() => {
        const __callInstance266 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(sweepA.t0 == sweepB.t0);
                }
            }
        });
        const __exports = __callInstance266.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance265 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(1 - sweepA.t0 > Number.MIN_VALUE);
                }
            }
        });
        const __exports = __callInstance265.exports;
        return __exports.data();
    })();
    var radius = proxyA.m_radius + proxyB.m_radius;
    var tolerance = input.tolerance;
    var alpha = 0;
    var k_maxIterations = 1000;
    var iter = 0;
    var target = 0;
    b2TimeOfImpact.s_cache.count = 0;
    b2TimeOfImpact.s_distanceInput.useRadii = false;
    for (;;) {
        (() => {
            const __callInstance264 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        sweepA.GetTransform(b2TimeOfImpact.s_xfA, alpha);
                    }
                }
            });
            const __exports = __callInstance264.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance263 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        sweepB.GetTransform(b2TimeOfImpact.s_xfB, alpha);
                    }
                }
            });
            const __exports = __callInstance263.exports;
            return __exports.data();
        })();
        b2TimeOfImpact.s_distanceInput.proxyA = proxyA;
        b2TimeOfImpact.s_distanceInput.proxyB = proxyB;
        b2TimeOfImpact.s_distanceInput.transformA = b2TimeOfImpact.s_xfA;
        b2TimeOfImpact.s_distanceInput.transformB = b2TimeOfImpact.s_xfB;
        (() => {
            const __callInstance262 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2Distance.Distance(b2TimeOfImpact.s_distanceOutput, b2TimeOfImpact.s_cache, b2TimeOfImpact.s_distanceInput);
                    }
                }
            });
            const __exports = __callInstance262.exports;
            return __exports.data();
        })();
        if (b2TimeOfImpact.s_distanceOutput.distance <= 0) {
            alpha = 1;
            break;
        }
        (() => {
            const __callInstance261 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2TimeOfImpact.s_fcn.Initialize(b2TimeOfImpact.s_cache, proxyA, b2TimeOfImpact.s_xfA, proxyB, b2TimeOfImpact.s_xfB);
                    }
                }
            });
            const __exports = __callInstance261.exports;
            return __exports.data();
        })();
        var separation = b2TimeOfImpact.s_fcn.Evaluate(b2TimeOfImpact.s_xfA, b2TimeOfImpact.s_xfB);
        if (separation <= 0) {
            alpha = 1;
            break;
        }
        (() => {
            const __ifInstance243 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __ifInstance244 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                target = b2Math.Max(radius - tolerance, 0.75 * radius);
                                            }
                                        },
                                        impFunc2: () => {
                                            {
                                                target = b2Math.Max(separation - tolerance, 0.02 * radius);
                                            }
                                        }
                                    }
                                });
                                const __exports = __ifInstance244.exports;
                                return __exports.data(separation > radius ? 1 : 0);
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance243.exports;
            return __exports.data(iter == 0 ? 1 : 0);
        })();
        if (separation - target < 0.5 * tolerance) {
            if (iter == 0) {
                alpha = 1;
                break;
            }
            break;
        }
        var newAlpha = alpha;
        var x1 = alpha;
        var x2 = 1;
        var f1 = separation;
        (() => {
            const __callInstance260 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        sweepA.GetTransform(b2TimeOfImpact.s_xfA, x2);
                    }
                }
            });
            const __exports = __callInstance260.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance259 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        sweepB.GetTransform(b2TimeOfImpact.s_xfB, x2);
                    }
                }
            });
            const __exports = __callInstance259.exports;
            return __exports.data();
        })();
        var f2 = b2TimeOfImpact.s_fcn.Evaluate(b2TimeOfImpact.s_xfA, b2TimeOfImpact.s_xfB);
        if (f2 >= target) {
            alpha = 1;
            break;
        }
        var rootIterCount = 0;
        for (;;) {
            var x;
            (() => {
                const __ifInstance245 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                x = x1 + (target - f1) * (x2 - x1) / (f2 - f1);
                            }
                        },
                        impFunc2: () => {
                            {
                                x = 0.5 * (x1 + x2);
                            }
                        }
                    }
                });
                const __exports = __ifInstance245.exports;
                return __exports.data(rootIterCount & 1 ? 1 : 0);
            })();
            (() => {
                const __callInstance258 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            sweepA.GetTransform(b2TimeOfImpact.s_xfA, x);
                        }
                    }
                });
                const __exports = __callInstance258.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance257 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            sweepB.GetTransform(b2TimeOfImpact.s_xfB, x);
                        }
                    }
                });
                const __exports = __callInstance257.exports;
                return __exports.data();
            })();
            var f = b2TimeOfImpact.s_fcn.Evaluate(b2TimeOfImpact.s_xfA, b2TimeOfImpact.s_xfB);
            if (b2Math.Abs(f - target) < 0.025 * tolerance) {
                newAlpha = x;
                break;
            }
            (() => {
                const __ifInstance246 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                x1 = x;
                                f1 = f;
                            }
                        },
                        impFunc2: () => {
                            {
                                x2 = x;
                                f2 = f;
                            }
                        }
                    }
                });
                const __exports = __ifInstance246.exports;
                return __exports.data(f > target ? 1 : 0);
            })();
            ++rootIterCount;
            ++b2TimeOfImpact.b2_toiRootIters;
            if (rootIterCount == 50) {
                break;
            }
        }
        b2TimeOfImpact.b2_toiMaxRootIters = b2Math.Max(b2TimeOfImpact.b2_toiMaxRootIters, rootIterCount);
        if (newAlpha < (1 + 100 * Number.MIN_VALUE) * alpha) {
            break;
        }
        alpha = newAlpha;
        iter++;
        ++b2TimeOfImpact.b2_toiIters;
        if (iter == k_maxIterations) {
            break;
        }
    }
    b2TimeOfImpact.b2_toiMaxIters = b2Math.Max(b2TimeOfImpact.b2_toiMaxIters, iter);
    return alpha;
};
b2TimeOfImpact.b2_toiCalls = 0;
b2TimeOfImpact.b2_toiIters = 0;
b2TimeOfImpact.b2_toiMaxIters = 0;
b2TimeOfImpact.b2_toiRootIters = 0;
b2TimeOfImpact.b2_toiMaxRootIters = 0;
b2TimeOfImpact.s_cache = new b2SimplexCache();
b2TimeOfImpact.s_distanceInput = new b2DistanceInput();
b2TimeOfImpact.s_xfA = new b2Transform();
b2TimeOfImpact.s_xfB = new b2Transform();
b2TimeOfImpact.s_fcn = new b2SeparationFunction();
b2TimeOfImpact.s_distanceOutput = new b2DistanceOutput();
var b2GearJoint = function () {
    (() => {
        const __callInstance256 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance256.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance255 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance255.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance254 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance254.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance253 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2GearJoint.prototype, b2Joint.prototype);
            }
        }
    });
    const __exports = __callInstance253.exports;
    return __exports.data();
})();
b2GearJoint.prototype._super = b2Joint.prototype;
b2GearJoint.prototype.__constructor = function (def) {
    (() => {
        const __callInstance252 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, [def]);
                }
            }
        });
        const __exports = __callInstance252.exports;
        return __exports.data();
    })();
    var type1 = def.joint1.m_type;
    var type2 = def.joint2.m_type;
    this.m_revolute1 = null;
    this.m_prismatic1 = null;
    this.m_revolute2 = null;
    this.m_prismatic2 = null;
    var coordinate1;
    var coordinate2;
    this.m_ground1 = def.joint1.GetBodyA();
    this.m_bodyA = def.joint1.GetBodyB();
    (() => {
        const __ifInstance247 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_revolute1 = def.joint1;
                        (() => {
                            const __callInstance251 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1);
                                    }
                                }
                            });
                            const __exports = __callInstance251.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance250 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2);
                                    }
                                }
                            });
                            const __exports = __callInstance250.exports;
                            return __exports.data();
                        })();
                        coordinate1 = this.m_revolute1.GetJointAngle();
                    }
                },
                impFunc2: () => {
                    {
                        this.m_prismatic1 = def.joint1;
                        (() => {
                            const __callInstance249 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1);
                                    }
                                }
                            });
                            const __exports = __callInstance249.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance248 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2);
                                    }
                                }
                            });
                            const __exports = __callInstance248.exports;
                            return __exports.data();
                        })();
                        coordinate1 = this.m_prismatic1.GetJointTranslation();
                    }
                }
            }
        });
        const __exports = __ifInstance247.exports;
        return __exports.data(type1 == b2Joint.e_revoluteJoint ? 1 : 0);
    })();
    this.m_ground2 = def.joint2.GetBodyA();
    this.m_bodyB = def.joint2.GetBodyB();
    (() => {
        const __ifInstance248 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_revolute2 = def.joint2;
                        (() => {
                            const __callInstance247 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1);
                                    }
                                }
                            });
                            const __exports = __callInstance247.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance246 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2);
                                    }
                                }
                            });
                            const __exports = __callInstance246.exports;
                            return __exports.data();
                        })();
                        coordinate2 = this.m_revolute2.GetJointAngle();
                    }
                },
                impFunc2: () => {
                    {
                        this.m_prismatic2 = def.joint2;
                        (() => {
                            const __callInstance245 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1);
                                    }
                                }
                            });
                            const __exports = __callInstance245.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance244 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2);
                                    }
                                }
                            });
                            const __exports = __callInstance244.exports;
                            return __exports.data();
                        })();
                        coordinate2 = this.m_prismatic2.GetJointTranslation();
                    }
                }
            }
        });
        const __exports = __ifInstance248.exports;
        return __exports.data(type2 == b2Joint.e_revoluteJoint ? 1 : 0);
    })();
    this.m_ratio = def.ratio;
    this.m_constant = coordinate1 + this.m_ratio * coordinate2;
    this.m_impulse = 0;
};
b2GearJoint.prototype.__varz = function () {
    this.m_groundAnchor1 = new b2Vec2();
    this.m_groundAnchor2 = new b2Vec2();
    this.m_localAnchor1 = new b2Vec2();
    this.m_localAnchor2 = new b2Vec2();
    this.m_J = new b2Jacobian();
};
b2GearJoint.prototype.InitVelocityConstraints = function (step) {
    var g1 = this.m_ground1;
    var g2 = this.m_ground2;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var ugX;
    var ugY;
    var rX;
    var rY;
    var tMat;
    var tVec;
    var crug;
    var tX;
    var K = 0;
    (() => {
        const __callInstance243 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_J.SetZero();
                }
            }
        });
        const __exports = __callInstance243.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance249 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_J.angularA = -1;
                        K += bA.m_invI;
                    }
                },
                impFunc2: () => {
                    {
                        tMat = g1.m_xf.R;
                        tVec = this.m_prismatic1.m_localXAxis1;
                        ugX = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
                        ugY = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
                        tMat = bA.m_xf.R;
                        rX = this.m_localAnchor1.x - bA.m_sweep.localCenter.x;
                        rY = this.m_localAnchor1.y - bA.m_sweep.localCenter.y;
                        tX = tMat.col1.x * rX + tMat.col2.x * rY;
                        rY = tMat.col1.y * rX + tMat.col2.y * rY;
                        rX = tX;
                        crug = rX * ugY - rY * ugX;
                        (() => {
                            const __callInstance242 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_J.linearA.Set(-ugX, -ugY);
                                    }
                                }
                            });
                            const __exports = __callInstance242.exports;
                            return __exports.data();
                        })();
                        this.m_J.angularA = -crug;
                        K += bA.m_invMass + bA.m_invI * crug * crug;
                    }
                }
            }
        });
        const __exports = __ifInstance249.exports;
        return __exports.data(this.m_revolute1 ? 1 : 0);
    })();
    (() => {
        const __ifInstance250 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_J.angularB = -this.m_ratio;
                        K += this.m_ratio * this.m_ratio * bB.m_invI;
                    }
                },
                impFunc2: () => {
                    {
                        tMat = g2.m_xf.R;
                        tVec = this.m_prismatic2.m_localXAxis1;
                        ugX = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
                        ugY = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
                        tMat = bB.m_xf.R;
                        rX = this.m_localAnchor2.x - bB.m_sweep.localCenter.x;
                        rY = this.m_localAnchor2.y - bB.m_sweep.localCenter.y;
                        tX = tMat.col1.x * rX + tMat.col2.x * rY;
                        rY = tMat.col1.y * rX + tMat.col2.y * rY;
                        rX = tX;
                        crug = rX * ugY - rY * ugX;
                        (() => {
                            const __callInstance241 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_J.linearB.Set(-this.m_ratio * ugX, -this.m_ratio * ugY);
                                    }
                                }
                            });
                            const __exports = __callInstance241.exports;
                            return __exports.data();
                        })();
                        this.m_J.angularB = -this.m_ratio * crug;
                        K += this.m_ratio * this.m_ratio * (bB.m_invMass + bB.m_invI * crug * crug);
                    }
                }
            }
        });
        const __exports = __ifInstance250.exports;
        return __exports.data(this.m_revolute2 ? 1 : 0);
    })();
    this.m_mass = K > 0 ? 1 / K : 0;
    (() => {
        const __ifInstance251 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        bA.m_linearVelocity.x += bA.m_invMass * this.m_impulse * this.m_J.linearA.x;
                        bA.m_linearVelocity.y += bA.m_invMass * this.m_impulse * this.m_J.linearA.y;
                        bA.m_angularVelocity += bA.m_invI * this.m_impulse * this.m_J.angularA;
                        bB.m_linearVelocity.x += bB.m_invMass * this.m_impulse * this.m_J.linearB.x;
                        bB.m_linearVelocity.y += bB.m_invMass * this.m_impulse * this.m_J.linearB.y;
                        bB.m_angularVelocity += bB.m_invI * this.m_impulse * this.m_J.angularB;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_impulse = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance251.exports;
        return __exports.data(step.warmStarting ? 1 : 0);
    })();
};
b2GearJoint.prototype.SolveVelocityConstraints = function (step) {
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var Cdot = this.m_J.Compute(bA.m_linearVelocity, bA.m_angularVelocity, bB.m_linearVelocity, bB.m_angularVelocity);
    var impulse = -this.m_mass * Cdot;
    this.m_impulse += impulse;
    bA.m_linearVelocity.x += bA.m_invMass * impulse * this.m_J.linearA.x;
    bA.m_linearVelocity.y += bA.m_invMass * impulse * this.m_J.linearA.y;
    bA.m_angularVelocity += bA.m_invI * impulse * this.m_J.angularA;
    bB.m_linearVelocity.x += bB.m_invMass * impulse * this.m_J.linearB.x;
    bB.m_linearVelocity.y += bB.m_invMass * impulse * this.m_J.linearB.y;
    bB.m_angularVelocity += bB.m_invI * impulse * this.m_J.angularB;
};
b2GearJoint.prototype.SolvePositionConstraints = function (baumgarte) {
    var linearError = 0;
    var bA = this.m_bodyA;
    var bB = this.m_bodyB;
    var coordinate1;
    var coordinate2;
    (() => {
        const __ifInstance252 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        coordinate1 = this.m_revolute1.GetJointAngle();
                    }
                },
                impFunc2: () => {
                    {
                        coordinate1 = this.m_prismatic1.GetJointTranslation();
                    }
                }
            }
        });
        const __exports = __ifInstance252.exports;
        return __exports.data(this.m_revolute1 ? 1 : 0);
    })();
    (() => {
        const __ifInstance253 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        coordinate2 = this.m_revolute2.GetJointAngle();
                    }
                },
                impFunc2: () => {
                    {
                        coordinate2 = this.m_prismatic2.GetJointTranslation();
                    }
                }
            }
        });
        const __exports = __ifInstance253.exports;
        return __exports.data(this.m_revolute2 ? 1 : 0);
    })();
    var C = this.m_constant - (coordinate1 + this.m_ratio * coordinate2);
    var impulse = -this.m_mass * C;
    bA.m_sweep.c.x += bA.m_invMass * impulse * this.m_J.linearA.x;
    bA.m_sweep.c.y += bA.m_invMass * impulse * this.m_J.linearA.y;
    bA.m_sweep.a += bA.m_invI * impulse * this.m_J.angularA;
    bB.m_sweep.c.x += bB.m_invMass * impulse * this.m_J.linearB.x;
    bB.m_sweep.c.y += bB.m_invMass * impulse * this.m_J.linearB.y;
    bB.m_sweep.a += bB.m_invI * impulse * this.m_J.angularB;
    (() => {
        const __callInstance240 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bA.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance240.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance239 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bB.SynchronizeTransform();
                }
            }
        });
        const __exports = __callInstance239.exports;
        return __exports.data();
    })();
    return linearError < b2Settings.b2_linearSlop;
};
b2GearJoint.prototype.GetAnchorA = function () {
    return this.m_bodyA.GetWorldPoint(this.m_localAnchor1);
};
b2GearJoint.prototype.GetAnchorB = function () {
    return this.m_bodyB.GetWorldPoint(this.m_localAnchor2);
};
b2GearJoint.prototype.GetReactionForce = function (inv_dt) {
    return new b2Vec2(inv_dt * this.m_impulse * this.m_J.linearB.x, inv_dt * this.m_impulse * this.m_J.linearB.y);
};
b2GearJoint.prototype.GetReactionTorque = function (inv_dt) {
    var tMat = this.m_bodyB.m_xf.R;
    var rX = this.m_localAnchor1.x - this.m_bodyB.m_sweep.localCenter.x;
    var rY = this.m_localAnchor1.y - this.m_bodyB.m_sweep.localCenter.y;
    var tX = tMat.col1.x * rX + tMat.col2.x * rY;
    rY = tMat.col1.y * rX + tMat.col2.y * rY;
    rX = tX;
    var PX = this.m_impulse * this.m_J.linearB.x;
    var PY = this.m_impulse * this.m_J.linearB.y;
    return inv_dt * (this.m_impulse * this.m_J.angularB - rX * PY + rY * PX);
};
b2GearJoint.prototype.GetRatio = function () {
    return this.m_ratio;
};
b2GearJoint.prototype.SetRatio = function (ratio) {
    this.m_ratio = ratio;
};
b2GearJoint.prototype.m_ground1 = null;
b2GearJoint.prototype.m_ground2 = null;
b2GearJoint.prototype.m_revolute1 = null;
b2GearJoint.prototype.m_prismatic1 = null;
b2GearJoint.prototype.m_revolute2 = null;
b2GearJoint.prototype.m_prismatic2 = null;
b2GearJoint.prototype.m_groundAnchor1 = new b2Vec2();
b2GearJoint.prototype.m_groundAnchor2 = new b2Vec2();
b2GearJoint.prototype.m_localAnchor1 = new b2Vec2();
b2GearJoint.prototype.m_localAnchor2 = new b2Vec2();
b2GearJoint.prototype.m_J = new b2Jacobian();
b2GearJoint.prototype.m_constant = null;
b2GearJoint.prototype.m_ratio = null;
b2GearJoint.prototype.m_mass = null;
b2GearJoint.prototype.m_impulse = null;
var b2TOIInput = function () {
    (() => {
        const __callInstance238 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance238.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance237 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance237.exports;
        return __exports.data();
    })();
};
b2TOIInput.prototype.__constructor = function () {
};
b2TOIInput.prototype.__varz = function () {
    this.proxyA = new b2DistanceProxy();
    this.proxyB = new b2DistanceProxy();
    this.sweepA = new b2Sweep();
    this.sweepB = new b2Sweep();
};
b2TOIInput.prototype.proxyA = new b2DistanceProxy();
b2TOIInput.prototype.proxyB = new b2DistanceProxy();
b2TOIInput.prototype.sweepA = new b2Sweep();
b2TOIInput.prototype.sweepB = new b2Sweep();
b2TOIInput.prototype.tolerance = null;
var b2RevoluteJointDef = function () {
    (() => {
        const __callInstance236 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2JointDef.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance236.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance235 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance235.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance234 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance234.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance233 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2RevoluteJointDef.prototype, b2JointDef.prototype);
            }
        }
    });
    const __exports = __callInstance233.exports;
    return __exports.data();
})();
b2RevoluteJointDef.prototype._super = b2JointDef.prototype;
b2RevoluteJointDef.prototype.__constructor = function () {
    (() => {
        const __callInstance232 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance232.exports;
        return __exports.data();
    })();
    this.type = b2Joint.e_revoluteJoint;
    (() => {
        const __callInstance231 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorA.Set(0, 0);
                }
            }
        });
        const __exports = __callInstance231.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance230 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.localAnchorB.Set(0, 0);
                }
            }
        });
        const __exports = __callInstance230.exports;
        return __exports.data();
    })();
    this.referenceAngle = 0;
    this.lowerAngle = 0;
    this.upperAngle = 0;
    this.maxMotorTorque = 0;
    this.motorSpeed = 0;
    this.enableLimit = false;
    this.enableMotor = false;
};
b2RevoluteJointDef.prototype.__varz = function () {
    this.localAnchorA = new b2Vec2();
    this.localAnchorB = new b2Vec2();
};
b2RevoluteJointDef.prototype.Initialize = function (bA, bB, anchor) {
    this.bodyA = bA;
    this.bodyB = bB;
    this.localAnchorA = this.bodyA.GetLocalPoint(anchor);
    this.localAnchorB = this.bodyB.GetLocalPoint(anchor);
    this.referenceAngle = this.bodyB.GetAngle() - this.bodyA.GetAngle();
};
b2RevoluteJointDef.prototype.localAnchorA = new b2Vec2();
b2RevoluteJointDef.prototype.localAnchorB = new b2Vec2();
b2RevoluteJointDef.prototype.referenceAngle = null;
b2RevoluteJointDef.prototype.enableLimit = null;
b2RevoluteJointDef.prototype.lowerAngle = null;
b2RevoluteJointDef.prototype.upperAngle = null;
b2RevoluteJointDef.prototype.enableMotor = null;
b2RevoluteJointDef.prototype.motorSpeed = null;
b2RevoluteJointDef.prototype.maxMotorTorque = null;
var b2MouseJointDef = function () {
    (() => {
        const __callInstance229 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2JointDef.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance229.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance228 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance228.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance227 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance227.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance226 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2MouseJointDef.prototype, b2JointDef.prototype);
            }
        }
    });
    const __exports = __callInstance226.exports;
    return __exports.data();
})();
b2MouseJointDef.prototype._super = b2JointDef.prototype;
b2MouseJointDef.prototype.__constructor = function () {
    (() => {
        const __callInstance225 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance225.exports;
        return __exports.data();
    })();
    this.type = b2Joint.e_mouseJoint;
    this.maxForce = 0;
    this.frequencyHz = 5;
    this.dampingRatio = 0.7;
};
b2MouseJointDef.prototype.__varz = function () {
    this.target = new b2Vec2();
};
b2MouseJointDef.prototype.target = new b2Vec2();
b2MouseJointDef.prototype.maxForce = null;
b2MouseJointDef.prototype.frequencyHz = null;
b2MouseJointDef.prototype.dampingRatio = null;
var b2Contact = function () {
    (() => {
        const __callInstance224 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance224.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance223 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance223.exports;
        return __exports.data();
    })();
};
b2Contact.prototype.__constructor = function () {
};
b2Contact.prototype.__varz = function () {
    this.m_nodeA = new b2ContactEdge();
    this.m_nodeB = new b2ContactEdge();
    this.m_manifold = new b2Manifold();
    this.m_oldManifold = new b2Manifold();
};
b2Contact.s_input = new b2TOIInput();
b2Contact.e_sensorFlag = 1;
b2Contact.e_continuousFlag = 2;
b2Contact.e_islandFlag = 4;
b2Contact.e_toiFlag = 8;
b2Contact.e_touchingFlag = 16;
b2Contact.e_enabledFlag = 32;
b2Contact.e_filterFlag = 64;
b2Contact.prototype.Reset = function (fixtureA, fixtureB) {
    this.m_flags = b2Contact.e_enabledFlag;
    if (!fixtureA || !fixtureB) {
        this.m_fixtureA = null;
        this.m_fixtureB = null;
        return;
    }
    (() => {
        const __ifInstance254 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Contact.e_sensorFlag;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance254.exports;
        return __exports.data(fixtureA.IsSensor() || fixtureB.IsSensor() ? 1 : 0);
    })();
    var bodyA = fixtureA.GetBody();
    var bodyB = fixtureB.GetBody();
    (() => {
        const __ifInstance255 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Contact.e_continuousFlag;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance255.exports;
        return __exports.data(bodyA.GetType() != b2Body.b2_dynamicBody || bodyA.IsBullet() || bodyB.GetType() != b2Body.b2_dynamicBody || bodyB.IsBullet() ? 1 : 0);
    })();
    this.m_fixtureA = fixtureA;
    this.m_fixtureB = fixtureB;
    this.m_manifold.m_pointCount = 0;
    this.m_prev = null;
    this.m_next = null;
    this.m_nodeA.contact = null;
    this.m_nodeA.prev = null;
    this.m_nodeA.next = null;
    this.m_nodeA.other = null;
    this.m_nodeB.contact = null;
    this.m_nodeB.prev = null;
    this.m_nodeB.next = null;
    this.m_nodeB.other = null;
};
b2Contact.prototype.Update = function (listener) {
    var tManifold = this.m_oldManifold;
    this.m_oldManifold = this.m_manifold;
    this.m_manifold = tManifold;
    this.m_flags |= b2Contact.e_enabledFlag;
    var touching = false;
    var wasTouching = (this.m_flags & b2Contact.e_touchingFlag) == b2Contact.e_touchingFlag;
    var bodyA = this.m_fixtureA.m_body;
    var bodyB = this.m_fixtureB.m_body;
    var aabbOverlap = this.m_fixtureA.m_aabb.TestOverlap(this.m_fixtureB.m_aabb);
    if (this.m_flags & b2Contact.e_sensorFlag) {
        (() => {
            const __ifInstance256 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            var shapeA = this.m_fixtureA.GetShape();
                            var shapeB = this.m_fixtureB.GetShape();
                            var xfA = bodyA.GetTransform();
                            var xfB = bodyB.GetTransform();
                            touching = b2Shape.TestOverlap(shapeA, xfA, shapeB, xfB);
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance256.exports;
            return __exports.data(aabbOverlap ? 1 : 0);
        })();
        this.m_manifold.m_pointCount = 0;
    } else {
        (() => {
            const __ifInstance257 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            this.m_flags |= b2Contact.e_continuousFlag;
                        }
                    },
                    impFunc2: () => {
                        {
                            this.m_flags &= ~b2Contact.e_continuousFlag;
                        }
                    }
                }
            });
            const __exports = __ifInstance257.exports;
            return __exports.data(bodyA.GetType() != b2Body.b2_dynamicBody || bodyA.IsBullet() || bodyB.GetType() != b2Body.b2_dynamicBody || bodyB.IsBullet() ? 1 : 0);
        })();
        if (aabbOverlap) {
            (() => {
                const __callInstance222 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.Evaluate();
                        }
                    }
                });
                const __exports = __callInstance222.exports;
                return __exports.data();
            })();
            touching = this.m_manifold.m_pointCount > 0;
            for (var i = 0; i < this.m_manifold.m_pointCount; ++i) {
                var mp2 = this.m_manifold.m_points[i];
                mp2.m_normalImpulse = 0;
                mp2.m_tangentImpulse = 0;
                var id2 = mp2.m_id;
                for (var j = 0; j < this.m_oldManifold.m_pointCount; ++j) {
                    var mp1 = this.m_oldManifold.m_points[j];
                    if (mp1.m_id.key == id2.key) {
                        mp2.m_normalImpulse = mp1.m_normalImpulse;
                        mp2.m_tangentImpulse = mp1.m_tangentImpulse;
                        break;
                    }
                }
            }
        } else {
            this.m_manifold.m_pointCount = 0;
        }
        (() => {
            const __ifInstance258 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance221 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            bodyA.SetAwake(true);
                                        }
                                    }
                                });
                                const __exports = __callInstance221.exports;
                                return __exports.data();
                            })();
                            (() => {
                                const __callInstance220 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            bodyB.SetAwake(true);
                                        }
                                    }
                                });
                                const __exports = __callInstance220.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance258.exports;
            return __exports.data(touching != wasTouching ? 1 : 0);
        })();
    }
    (() => {
        const __ifInstance259 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Contact.e_touchingFlag;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_flags &= ~b2Contact.e_touchingFlag;
                    }
                }
            }
        });
        const __exports = __ifInstance259.exports;
        return __exports.data(touching ? 1 : 0);
    })();
    (() => {
        const __ifInstance260 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance219 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        listener.BeginContact(this);
                                    }
                                }
                            });
                            const __exports = __callInstance219.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance260.exports;
        return __exports.data(wasTouching == false && touching == true ? 1 : 0);
    })();
    (() => {
        const __ifInstance261 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance218 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        listener.EndContact(this);
                                    }
                                }
                            });
                            const __exports = __callInstance218.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance261.exports;
        return __exports.data(wasTouching == true && touching == false ? 1 : 0);
    })();
    (() => {
        const __ifInstance262 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance217 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        listener.PreSolve(this, this.m_oldManifold);
                                    }
                                }
                            });
                            const __exports = __callInstance217.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance262.exports;
        return __exports.data((this.m_flags & b2Contact.e_sensorFlag) == 0 ? 1 : 0);
    })();
};
b2Contact.prototype.Evaluate = function () {
};
b2Contact.prototype.ComputeTOI = function (sweepA, sweepB) {
    (() => {
        const __callInstance216 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Contact.s_input.proxyA.Set(this.m_fixtureA.GetShape());
                }
            }
        });
        const __exports = __callInstance216.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance215 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Contact.s_input.proxyB.Set(this.m_fixtureB.GetShape());
                }
            }
        });
        const __exports = __callInstance215.exports;
        return __exports.data();
    })();
    b2Contact.s_input.sweepA = sweepA;
    b2Contact.s_input.sweepB = sweepB;
    b2Contact.s_input.tolerance = b2Settings.b2_linearSlop;
    return b2TimeOfImpact.TimeOfImpact(b2Contact.s_input);
};
b2Contact.prototype.GetManifold = function () {
    return this.m_manifold;
};
b2Contact.prototype.GetWorldManifold = function (worldManifold) {
    var bodyA = this.m_fixtureA.GetBody();
    var bodyB = this.m_fixtureB.GetBody();
    var shapeA = this.m_fixtureA.GetShape();
    var shapeB = this.m_fixtureB.GetShape();
    (() => {
        const __callInstance214 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    worldManifold.Initialize(this.m_manifold, bodyA.GetTransform(), shapeA.m_radius, bodyB.GetTransform(), shapeB.m_radius);
                }
            }
        });
        const __exports = __callInstance214.exports;
        return __exports.data();
    })();
};
b2Contact.prototype.IsTouching = function () {
    return (this.m_flags & b2Contact.e_touchingFlag) == b2Contact.e_touchingFlag;
};
b2Contact.prototype.IsContinuous = function () {
    return (this.m_flags & b2Contact.e_continuousFlag) == b2Contact.e_continuousFlag;
};
b2Contact.prototype.SetSensor = function (sensor) {
    (() => {
        const __ifInstance263 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Contact.e_sensorFlag;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_flags &= ~b2Contact.e_sensorFlag;
                    }
                }
            }
        });
        const __exports = __ifInstance263.exports;
        return __exports.data(sensor ? 1 : 0);
    })();
};
b2Contact.prototype.IsSensor = function () {
    return (this.m_flags & b2Contact.e_sensorFlag) == b2Contact.e_sensorFlag;
};
b2Contact.prototype.SetEnabled = function (flag) {
    (() => {
        const __ifInstance264 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_flags |= b2Contact.e_enabledFlag;
                    }
                },
                impFunc2: () => {
                    {
                        this.m_flags &= ~b2Contact.e_enabledFlag;
                    }
                }
            }
        });
        const __exports = __ifInstance264.exports;
        return __exports.data(flag ? 1 : 0);
    })();
};
b2Contact.prototype.IsEnabled = function () {
    return (this.m_flags & b2Contact.e_enabledFlag) == b2Contact.e_enabledFlag;
};
b2Contact.prototype.GetNext = function () {
    return this.m_next;
};
b2Contact.prototype.GetFixtureA = function () {
    return this.m_fixtureA;
};
b2Contact.prototype.GetFixtureB = function () {
    return this.m_fixtureB;
};
b2Contact.prototype.FlagForFiltering = function () {
    this.m_flags |= b2Contact.e_filterFlag;
};
b2Contact.prototype.m_flags = 0;
b2Contact.prototype.m_prev = null;
b2Contact.prototype.m_next = null;
b2Contact.prototype.m_nodeA = new b2ContactEdge();
b2Contact.prototype.m_nodeB = new b2ContactEdge();
b2Contact.prototype.m_fixtureA = null;
b2Contact.prototype.m_fixtureB = null;
b2Contact.prototype.m_manifold = new b2Manifold();
b2Contact.prototype.m_oldManifold = new b2Manifold();
b2Contact.prototype.m_toi = null;
var b2ContactConstraint = function () {
    (() => {
        const __callInstance213 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance213.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance212 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance212.exports;
        return __exports.data();
    })();
};
b2ContactConstraint.prototype.__constructor = function () {
    this.points = new Array(b2Settings.b2_maxManifoldPoints);
    (() => {
        var i = 0;
        const __forInstance70 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < b2Settings.b2_maxManifoldPoints ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.points[i] = new b2ContactConstraintPoint();
                    }
                }
            }
        });
        const __exports = __forInstance70.exports;
        return __exports.data();
    })();
};
b2ContactConstraint.prototype.__varz = function () {
    this.localPlaneNormal = new b2Vec2();
    this.localPoint = new b2Vec2();
    this.normal = new b2Vec2();
    this.normalMass = new b2Mat22();
    this.K = new b2Mat22();
};
b2ContactConstraint.prototype.points = null;
b2ContactConstraint.prototype.localPlaneNormal = new b2Vec2();
b2ContactConstraint.prototype.localPoint = new b2Vec2();
b2ContactConstraint.prototype.normal = new b2Vec2();
b2ContactConstraint.prototype.normalMass = new b2Mat22();
b2ContactConstraint.prototype.K = new b2Mat22();
b2ContactConstraint.prototype.bodyA = null;
b2ContactConstraint.prototype.bodyB = null;
b2ContactConstraint.prototype.type = 0;
b2ContactConstraint.prototype.radius = null;
b2ContactConstraint.prototype.friction = null;
b2ContactConstraint.prototype.restitution = null;
b2ContactConstraint.prototype.pointCount = 0;
b2ContactConstraint.prototype.manifold = null;
var b2ContactResult = function () {
    (() => {
        const __callInstance211 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance211.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance210 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance210.exports;
        return __exports.data();
    })();
};
b2ContactResult.prototype.__constructor = function () {
};
b2ContactResult.prototype.__varz = function () {
    this.position = new b2Vec2();
    this.normal = new b2Vec2();
    this.id = new b2ContactID();
};
b2ContactResult.prototype.shape1 = null;
b2ContactResult.prototype.shape2 = null;
b2ContactResult.prototype.position = new b2Vec2();
b2ContactResult.prototype.normal = new b2Vec2();
b2ContactResult.prototype.normalImpulse = null;
b2ContactResult.prototype.tangentImpulse = null;
b2ContactResult.prototype.id = new b2ContactID();
var b2PolygonContact = function () {
    (() => {
        const __callInstance209 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Contact.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance209.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance208 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance208.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance207 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance207.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance206 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2PolygonContact.prototype, b2Contact.prototype);
            }
        }
    });
    const __exports = __callInstance206.exports;
    return __exports.data();
})();
b2PolygonContact.prototype._super = b2Contact.prototype;
b2PolygonContact.prototype.__constructor = function () {
    (() => {
        const __callInstance205 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance205.exports;
        return __exports.data();
    })();
};
b2PolygonContact.prototype.__varz = function () {
};
b2PolygonContact.Create = function (allocator) {
    return new b2PolygonContact();
};
b2PolygonContact.Destroy = function (contact, allocator) {
};
b2PolygonContact.prototype.Evaluate = function () {
    var bA = this.m_fixtureA.GetBody();
    var bB = this.m_fixtureB.GetBody();
    (() => {
        const __callInstance204 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Collision.CollidePolygons(this.m_manifold, this.m_fixtureA.GetShape(), bA.m_xf, this.m_fixtureB.GetShape(), bB.m_xf);
                }
            }
        });
        const __exports = __callInstance204.exports;
        return __exports.data();
    })();
};
b2PolygonContact.prototype.Reset = function (fixtureA, fixtureB) {
    (() => {
        const __callInstance203 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.Reset.apply(this, [
                        fixtureA,
                        fixtureB
                    ]);
                }
            }
        });
        const __exports = __callInstance203.exports;
        return __exports.data();
    })();
};
var ClipVertex = function () {
    (() => {
        const __callInstance202 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance202.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance201 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance201.exports;
        return __exports.data();
    })();
};
ClipVertex.prototype.__constructor = function () {
};
ClipVertex.prototype.__varz = function () {
    this.v = new b2Vec2();
    this.id = new b2ContactID();
};
ClipVertex.prototype.Set = function (other) {
    (() => {
        const __callInstance200 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.v.SetV(other.v);
                }
            }
        });
        const __exports = __callInstance200.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance199 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.id.Set(other.id);
                }
            }
        });
        const __exports = __callInstance199.exports;
        return __exports.data();
    })();
};
ClipVertex.prototype.v = new b2Vec2();
ClipVertex.prototype.id = new b2ContactID();
var b2ContactFilter = function () {
    (() => {
        const __callInstance198 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance198.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance197 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance197.exports;
        return __exports.data();
    })();
};
b2ContactFilter.prototype.__constructor = function () {
};
b2ContactFilter.prototype.__varz = function () {
};
b2ContactFilter.b2_defaultFilter = new b2ContactFilter();
b2ContactFilter.prototype.ShouldCollide = function (fixtureA, fixtureB) {
    var filter1 = fixtureA.GetFilterData();
    var filter2 = fixtureB.GetFilterData();
    if (filter1.groupIndex == filter2.groupIndex && filter1.groupIndex != 0) {
        return filter1.groupIndex > 0;
    }
    var collide = (filter1.maskBits & filter2.categoryBits) != 0 && (filter1.categoryBits & filter2.maskBits) != 0;
    return collide;
};
b2ContactFilter.prototype.RayCollide = function (userData, fixture) {
    if (!userData) {
        return true;
    }
    return this.ShouldCollide(userData, fixture);
};
var b2NullContact = function () {
    (() => {
        const __callInstance196 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Contact.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance196.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance195 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance195.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance194 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance194.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance193 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2NullContact.prototype, b2Contact.prototype);
            }
        }
    });
    const __exports = __callInstance193.exports;
    return __exports.data();
})();
b2NullContact.prototype._super = b2Contact.prototype;
b2NullContact.prototype.__constructor = function () {
    (() => {
        const __callInstance192 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance192.exports;
        return __exports.data();
    })();
};
b2NullContact.prototype.__varz = function () {
};
b2NullContact.prototype.Evaluate = function () {
};
var b2ContactListener = function () {
    (() => {
        const __callInstance191 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance191.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance190 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance190.exports;
        return __exports.data();
    })();
};
b2ContactListener.prototype.__constructor = function () {
};
b2ContactListener.prototype.__varz = function () {
};
b2ContactListener.b2_defaultListener = new b2ContactListener();
b2ContactListener.prototype.BeginContact = function (contact) {
};
b2ContactListener.prototype.EndContact = function (contact) {
};
b2ContactListener.prototype.PreSolve = function (contact, oldManifold) {
};
b2ContactListener.prototype.PostSolve = function (contact, impulse) {
};
var b2Island = function () {
    (() => {
        const __callInstance189 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance189.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance188 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance188.exports;
        return __exports.data();
    })();
};
b2Island.prototype.__constructor = function () {
    this.m_bodies = new Array();
    this.m_contacts = new Array();
    this.m_joints = new Array();
};
b2Island.prototype.__varz = function () {
};
b2Island.s_impulse = new b2ContactImpulse();
b2Island.prototype.Initialize = function (bodyCapacity, contactCapacity, jointCapacity, allocator, listener, contactSolver) {
    var i = 0;
    this.m_bodyCapacity = bodyCapacity;
    this.m_contactCapacity = contactCapacity;
    this.m_jointCapacity = jointCapacity;
    this.m_bodyCount = 0;
    this.m_contactCount = 0;
    this.m_jointCount = 0;
    this.m_allocator = allocator;
    this.m_listener = listener;
    this.m_contactSolver = contactSolver;
    (() => {
        i = this.m_bodies.length;
        const __forInstance71 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < bodyCapacity ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.m_bodies[i] = null;
                    }
                }
            }
        });
        const __exports = __forInstance71.exports;
        return __exports.data();
    })();
    (() => {
        i = this.m_contacts.length;
        const __forInstance72 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < contactCapacity ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.m_contacts[i] = null;
                    }
                }
            }
        });
        const __exports = __forInstance72.exports;
        return __exports.data();
    })();
    (() => {
        i = this.m_joints.length;
        const __forInstance73 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < jointCapacity ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        this.m_joints[i] = null;
                    }
                }
            }
        });
        const __exports = __forInstance73.exports;
        return __exports.data();
    })();
};
b2Island.prototype.Clear = function () {
    this.m_bodyCount = 0;
    this.m_contactCount = 0;
    this.m_jointCount = 0;
};
b2Island.prototype.Solve = function (step, gravity, allowSleep) {
    var i = 0;
    var j = 0;
    var b;
    var joint;
    for (i = 0; i < this.m_bodyCount; ++i) {
        b = this.m_bodies[i];
        if (b.GetType() != b2Body.b2_dynamicBody) {
            continue;
        }
        b.m_linearVelocity.x += step.dt * (gravity.x + b.m_invMass * b.m_force.x);
        b.m_linearVelocity.y += step.dt * (gravity.y + b.m_invMass * b.m_force.y);
        b.m_angularVelocity += step.dt * b.m_invI * b.m_torque;
        (() => {
            const __callInstance187 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b.m_linearVelocity.Multiply(b2Math.Clamp(1 - step.dt * b.m_linearDamping, 0, 1));
                    }
                }
            });
            const __exports = __callInstance187.exports;
            return __exports.data();
        })();
        b.m_angularVelocity *= b2Math.Clamp(1 - step.dt * b.m_angularDamping, 0, 1);
    }
    (() => {
        const __callInstance186 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_contactSolver.Initialize(step, this.m_contacts, this.m_contactCount, this.m_allocator);
                }
            }
        });
        const __exports = __callInstance186.exports;
        return __exports.data();
    })();
    var contactSolver = this.m_contactSolver;
    (() => {
        const __callInstance185 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    contactSolver.InitVelocityConstraints(step);
                }
            }
        });
        const __exports = __callInstance185.exports;
        return __exports.data();
    })();
    (() => {
        i = 0;
        const __forInstance74 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_jointCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        joint = this.m_joints[i];
                        (() => {
                            const __callInstance184 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        joint.InitVelocityConstraints(step);
                                    }
                                }
                            });
                            const __exports = __callInstance184.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance74.exports;
        return __exports.data();
    })();
    (() => {
        i = 0;
        const __forInstance75 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < step.velocityIterations ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        (() => {
                            j = 0;
                            const __forInstance76 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return j < this.m_jointCount ? 1 : 0;
                                    },
                                    update: () => {
                                        ++j;
                                    },
                                    body: () => {
                                        {
                                            joint = this.m_joints[j];
                                            (() => {
                                                const __callInstance183 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            joint.SolveVelocityConstraints(step);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance183.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance76.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance182 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        contactSolver.SolveVelocityConstraints();
                                    }
                                }
                            });
                            const __exports = __callInstance182.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance75.exports;
        return __exports.data();
    })();
    (() => {
        i = 0;
        const __forInstance77 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_jointCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        joint = this.m_joints[i];
                        (() => {
                            const __callInstance181 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        joint.FinalizeVelocityConstraints();
                                    }
                                }
                            });
                            const __exports = __callInstance181.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance77.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance180 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    contactSolver.FinalizeVelocityConstraints();
                }
            }
        });
        const __exports = __callInstance180.exports;
        return __exports.data();
    })();
    for (i = 0; i < this.m_bodyCount; ++i) {
        b = this.m_bodies[i];
        if (b.GetType() == b2Body.b2_staticBody) {
            continue;
        }
        var translationX = step.dt * b.m_linearVelocity.x;
        var translationY = step.dt * b.m_linearVelocity.y;
        (() => {
            const __ifInstance265 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance179 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            b.m_linearVelocity.Normalize();
                                        }
                                    }
                                });
                                const __exports = __callInstance179.exports;
                                return __exports.data();
                            })();
                            b.m_linearVelocity.x *= b2Settings.b2_maxTranslation * step.inv_dt;
                            b.m_linearVelocity.y *= b2Settings.b2_maxTranslation * step.inv_dt;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance265.exports;
            return __exports.data(translationX * translationX + translationY * translationY > b2Settings.b2_maxTranslationSquared ? 1 : 0);
        })();
        var rotation = step.dt * b.m_angularVelocity;
        (() => {
            const __ifInstance266 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __ifInstance267 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                b.m_angularVelocity = -b2Settings.b2_maxRotation * step.inv_dt;
                                            }
                                        },
                                        impFunc2: () => {
                                            {
                                                b.m_angularVelocity = b2Settings.b2_maxRotation * step.inv_dt;
                                            }
                                        }
                                    }
                                });
                                const __exports = __ifInstance267.exports;
                                return __exports.data(b.m_angularVelocity < 0 ? 1 : 0);
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance266.exports;
            return __exports.data(rotation * rotation > b2Settings.b2_maxRotationSquared ? 1 : 0);
        })();
        (() => {
            const __callInstance178 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b.m_sweep.c0.SetV(b.m_sweep.c);
                    }
                }
            });
            const __exports = __callInstance178.exports;
            return __exports.data();
        })();
        b.m_sweep.a0 = b.m_sweep.a;
        b.m_sweep.c.x += step.dt * b.m_linearVelocity.x;
        b.m_sweep.c.y += step.dt * b.m_linearVelocity.y;
        b.m_sweep.a += step.dt * b.m_angularVelocity;
        (() => {
            const __callInstance177 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b.SynchronizeTransform();
                    }
                }
            });
            const __exports = __callInstance177.exports;
            return __exports.data();
        })();
    }
    for (i = 0; i < step.positionIterations; ++i) {
        var contactsOkay = contactSolver.SolvePositionConstraints(b2Settings.b2_contactBaumgarte);
        var jointsOkay = true;
        (() => {
            j = 0;
            const __forInstance78 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return j < this.m_jointCount ? 1 : 0;
                    },
                    update: () => {
                        ++j;
                    },
                    body: () => {
                        {
                            joint = this.m_joints[j];
                            var jointOkay = joint.SolvePositionConstraints(b2Settings.b2_contactBaumgarte);
                            jointsOkay = jointsOkay && jointOkay;
                        }
                    }
                }
            });
            const __exports = __forInstance78.exports;
            return __exports.data();
        })();
        if (contactsOkay && jointsOkay) {
            break;
        }
    }
    (() => {
        const __callInstance176 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.Report(contactSolver.m_constraints);
                }
            }
        });
        const __exports = __callInstance176.exports;
        return __exports.data();
    })();
    if (allowSleep) {
        var minSleepTime = Number.MAX_VALUE;
        var linTolSqr = b2Settings.b2_linearSleepTolerance * b2Settings.b2_linearSleepTolerance;
        var angTolSqr = b2Settings.b2_angularSleepTolerance * b2Settings.b2_angularSleepTolerance;
        for (i = 0; i < this.m_bodyCount; ++i) {
            b = this.m_bodies[i];
            if (b.GetType() == b2Body.b2_staticBody) {
                continue;
            }
            (() => {
                const __ifInstance268 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                b.m_sleepTime = 0;
                                minSleepTime = 0;
                            }
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance268.exports;
                return __exports.data((b.m_flags & b2Body.e_allowSleepFlag) == 0 ? 1 : 0);
            })();
            (() => {
                const __ifInstance269 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                b.m_sleepTime = 0;
                                minSleepTime = 0;
                            }
                        },
                        impFunc2: () => {
                            {
                                b.m_sleepTime += step.dt;
                                minSleepTime = b2Math.Min(minSleepTime, b.m_sleepTime);
                            }
                        }
                    }
                });
                const __exports = __ifInstance269.exports;
                return __exports.data((b.m_flags & b2Body.e_allowSleepFlag) == 0 || b.m_angularVelocity * b.m_angularVelocity > angTolSqr || b2Math.Dot(b.m_linearVelocity, b.m_linearVelocity) > linTolSqr ? 1 : 0);
            })();
        }
        (() => {
            const __ifInstance270 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                i = 0;
                                const __forInstance79 = new WebAssembly.Instance(__forWasmModule, {
                                    env: {
                                        test: () => {
                                            return i < this.m_bodyCount ? 1 : 0;
                                        },
                                        update: () => {
                                            ++i;
                                        },
                                        body: () => {
                                            {
                                                b = this.m_bodies[i];
                                                (() => {
                                                    const __callInstance175 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                b.SetAwake(false);
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance175.exports;
                                                    return __exports.data();
                                                })();
                                            }
                                        }
                                    }
                                });
                                const __exports = __forInstance79.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance270.exports;
            return __exports.data(minSleepTime >= b2Settings.b2_timeToSleep ? 1 : 0);
        })();
    }
};
b2Island.prototype.SolveTOI = function (subStep) {
    var i = 0;
    var j = 0;
    (() => {
        const __callInstance174 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_contactSolver.Initialize(subStep, this.m_contacts, this.m_contactCount, this.m_allocator);
                }
            }
        });
        const __exports = __callInstance174.exports;
        return __exports.data();
    })();
    var contactSolver = this.m_contactSolver;
    (() => {
        i = 0;
        const __forInstance80 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_jointCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance173 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_joints[i].InitVelocityConstraints(subStep);
                                    }
                                }
                            });
                            const __exports = __callInstance173.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance80.exports;
        return __exports.data();
    })();
    (() => {
        i = 0;
        const __forInstance81 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < subStep.velocityIterations ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance172 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        contactSolver.SolveVelocityConstraints();
                                    }
                                }
                            });
                            const __exports = __callInstance172.exports;
                            return __exports.data();
                        })();
                        (() => {
                            j = 0;
                            const __forInstance82 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return j < this.m_jointCount ? 1 : 0;
                                    },
                                    update: () => {
                                        ++j;
                                    },
                                    body: () => {
                                        {
                                            (() => {
                                                const __callInstance171 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_joints[j].SolveVelocityConstraints(subStep);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance171.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance82.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance81.exports;
        return __exports.data();
    })();
    for (i = 0; i < this.m_bodyCount; ++i) {
        var b = this.m_bodies[i];
        if (b.GetType() == b2Body.b2_staticBody) {
            continue;
        }
        var translationX = subStep.dt * b.m_linearVelocity.x;
        var translationY = subStep.dt * b.m_linearVelocity.y;
        (() => {
            const __ifInstance271 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance170 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            b.m_linearVelocity.Normalize();
                                        }
                                    }
                                });
                                const __exports = __callInstance170.exports;
                                return __exports.data();
                            })();
                            b.m_linearVelocity.x *= b2Settings.b2_maxTranslation * subStep.inv_dt;
                            b.m_linearVelocity.y *= b2Settings.b2_maxTranslation * subStep.inv_dt;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance271.exports;
            return __exports.data(translationX * translationX + translationY * translationY > b2Settings.b2_maxTranslationSquared ? 1 : 0);
        })();
        var rotation = subStep.dt * b.m_angularVelocity;
        (() => {
            const __ifInstance272 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __ifInstance273 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                b.m_angularVelocity = -b2Settings.b2_maxRotation * subStep.inv_dt;
                                            }
                                        },
                                        impFunc2: () => {
                                            {
                                                b.m_angularVelocity = b2Settings.b2_maxRotation * subStep.inv_dt;
                                            }
                                        }
                                    }
                                });
                                const __exports = __ifInstance273.exports;
                                return __exports.data(b.m_angularVelocity < 0 ? 1 : 0);
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance272.exports;
            return __exports.data(rotation * rotation > b2Settings.b2_maxRotationSquared ? 1 : 0);
        })();
        (() => {
            const __callInstance169 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b.m_sweep.c0.SetV(b.m_sweep.c);
                    }
                }
            });
            const __exports = __callInstance169.exports;
            return __exports.data();
        })();
        b.m_sweep.a0 = b.m_sweep.a;
        b.m_sweep.c.x += subStep.dt * b.m_linearVelocity.x;
        b.m_sweep.c.y += subStep.dt * b.m_linearVelocity.y;
        b.m_sweep.a += subStep.dt * b.m_angularVelocity;
        (() => {
            const __callInstance168 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b.SynchronizeTransform();
                    }
                }
            });
            const __exports = __callInstance168.exports;
            return __exports.data();
        })();
    }
    var k_toiBaumgarte = 0.75;
    for (i = 0; i < subStep.positionIterations; ++i) {
        var contactsOkay = contactSolver.SolvePositionConstraints(k_toiBaumgarte);
        var jointsOkay = true;
        (() => {
            j = 0;
            const __forInstance83 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return j < this.m_jointCount ? 1 : 0;
                    },
                    update: () => {
                        ++j;
                    },
                    body: () => {
                        {
                            var jointOkay = this.m_joints[j].SolvePositionConstraints(b2Settings.b2_contactBaumgarte);
                            jointsOkay = jointsOkay && jointOkay;
                        }
                    }
                }
            });
            const __exports = __forInstance83.exports;
            return __exports.data();
        })();
        if (contactsOkay && jointsOkay) {
            break;
        }
    }
    (() => {
        const __callInstance167 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.Report(contactSolver.m_constraints);
                }
            }
        });
        const __exports = __callInstance167.exports;
        return __exports.data();
    })();
};
b2Island.prototype.Report = function (constraints) {
    if (this.m_listener == null) {
        return;
    }
    (() => {
        var i = 0;
        const __forInstance84 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < this.m_contactCount ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        var c = this.m_contacts[i];
                        var cc = constraints[i];
                        (() => {
                            var j = 0;
                            const __forInstance85 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return j < cc.pointCount ? 1 : 0;
                                    },
                                    update: () => {
                                        ++j;
                                    },
                                    body: () => {
                                        {
                                            b2Island.s_impulse.normalImpulses[j] = cc.points[j].normalImpulse;
                                            b2Island.s_impulse.tangentImpulses[j] = cc.points[j].tangentImpulse;
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance85.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance166 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_listener.PostSolve(c, b2Island.s_impulse);
                                    }
                                }
                            });
                            const __exports = __callInstance166.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance84.exports;
        return __exports.data();
    })();
};
b2Island.prototype.AddBody = function (body) {
    body.m_islandIndex = this.m_bodyCount;
    this.m_bodies[this.m_bodyCount++] = body;
};
b2Island.prototype.AddContact = function (contact) {
    this.m_contacts[this.m_contactCount++] = contact;
};
b2Island.prototype.AddJoint = function (joint) {
    this.m_joints[this.m_jointCount++] = joint;
};
b2Island.prototype.m_allocator = null;
b2Island.prototype.m_listener = null;
b2Island.prototype.m_contactSolver = null;
b2Island.prototype.m_bodies = null;
b2Island.prototype.m_contacts = null;
b2Island.prototype.m_joints = null;
b2Island.prototype.m_bodyCount = 0;
b2Island.prototype.m_jointCount = 0;
b2Island.prototype.m_contactCount = 0;
b2Island.prototype.m_bodyCapacity = 0;
b2Island.prototype.m_contactCapacity = 0;
b2Island.prototype.m_jointCapacity = 0;
var b2PolyAndEdgeContact = function () {
    (() => {
        const __callInstance165 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Contact.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance165.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance164 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance164.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance163 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance163.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance162 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2PolyAndEdgeContact.prototype, b2Contact.prototype);
            }
        }
    });
    const __exports = __callInstance162.exports;
    return __exports.data();
})();
b2PolyAndEdgeContact.prototype._super = b2Contact.prototype;
b2PolyAndEdgeContact.prototype.__constructor = function () {
    (() => {
        const __callInstance161 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance161.exports;
        return __exports.data();
    })();
};
b2PolyAndEdgeContact.prototype.__varz = function () {
};
b2PolyAndEdgeContact.Create = function (allocator) {
    return new b2PolyAndEdgeContact();
};
b2PolyAndEdgeContact.Destroy = function (contact, allocator) {
};
b2PolyAndEdgeContact.prototype.Evaluate = function () {
    var bA = this.m_fixtureA.GetBody();
    var bB = this.m_fixtureB.GetBody();
    (() => {
        const __callInstance160 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.b2CollidePolyAndEdge(this.m_manifold, this.m_fixtureA.GetShape(), bA.m_xf, this.m_fixtureB.GetShape(), bB.m_xf);
                }
            }
        });
        const __exports = __callInstance160.exports;
        return __exports.data();
    })();
};
b2PolyAndEdgeContact.prototype.b2CollidePolyAndEdge = function (manifold, polygon, xf1, edge, xf2) {
};
b2PolyAndEdgeContact.prototype.Reset = function (fixtureA, fixtureB) {
    (() => {
        const __callInstance159 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.Reset.apply(this, [
                        fixtureA,
                        fixtureB
                    ]);
                }
            }
        });
        const __exports = __callInstance159.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance158 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(fixtureA.GetType() == b2Shape.e_polygonShape);
                }
            }
        });
        const __exports = __callInstance158.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance157 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(fixtureB.GetType() == b2Shape.e_edgeShape);
                }
            }
        });
        const __exports = __callInstance157.exports;
        return __exports.data();
    })();
};
var b2Collision = function () {
    (() => {
        const __callInstance156 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance156.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance155 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance155.exports;
        return __exports.data();
    })();
};
b2Collision.prototype.__constructor = function () {
};
b2Collision.prototype.__varz = function () {
};
b2Collision.MakeClipPointVector = function () {
    var r = new Array(2);
    r[0] = new ClipVertex();
    r[1] = new ClipVertex();
    return r;
};
b2Collision.ClipSegmentToLine = function (vOut, vIn, normal, offset) {
    var cv;
    var numOut = 0;
    cv = vIn[0];
    var vIn0 = cv.v;
    cv = vIn[1];
    var vIn1 = cv.v;
    var distance0 = normal.x * vIn0.x + normal.y * vIn0.y - offset;
    var distance1 = normal.x * vIn1.x + normal.y * vIn1.y - offset;
    (() => {
        const __ifInstance274 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance154 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        vOut[numOut++].Set(vIn[0]);
                                    }
                                }
                            });
                            const __exports = __callInstance154.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance274.exports;
        return __exports.data(distance0 <= 0 ? 1 : 0);
    })();
    (() => {
        const __ifInstance275 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance153 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        vOut[numOut++].Set(vIn[1]);
                                    }
                                }
                            });
                            const __exports = __callInstance153.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance275.exports;
        return __exports.data(distance1 <= 0 ? 1 : 0);
    })();
    (() => {
        const __ifInstance276 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var interp = distance0 / (distance0 - distance1);
                        cv = vOut[numOut];
                        var tVec = cv.v;
                        tVec.x = vIn0.x + interp * (vIn1.x - vIn0.x);
                        tVec.y = vIn0.y + interp * (vIn1.y - vIn0.y);
                        cv = vOut[numOut];
                        var cv2;
                        (() => {
                            const __ifInstance277 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            cv2 = vIn[0];
                                            cv.id = cv2.id;
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            cv2 = vIn[1];
                                            cv.id = cv2.id;
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance277.exports;
                            return __exports.data(distance0 > 0 ? 1 : 0);
                        })();
                        ++numOut;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance276.exports;
        return __exports.data(distance0 * distance1 < 0 ? 1 : 0);
    })();
    return numOut;
};
b2Collision.EdgeSeparation = function (poly1, xf1, edge1, poly2, xf2) {
    var count1 = poly1.m_vertexCount;
    var vertices1 = poly1.m_vertices;
    var normals1 = poly1.m_normals;
    var count2 = poly2.m_vertexCount;
    var vertices2 = poly2.m_vertices;
    var tMat;
    var tVec;
    tMat = xf1.R;
    tVec = normals1[edge1];
    var normal1WorldX = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
    var normal1WorldY = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
    tMat = xf2.R;
    var normal1X = tMat.col1.x * normal1WorldX + tMat.col1.y * normal1WorldY;
    var normal1Y = tMat.col2.x * normal1WorldX + tMat.col2.y * normal1WorldY;
    var index = 0;
    var minDot = Number.MAX_VALUE;
    (() => {
        var i = 0;
        const __forInstance86 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < count2 ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        tVec = vertices2[i];
                        var dot = tVec.x * normal1X + tVec.y * normal1Y;
                        (() => {
                            const __ifInstance278 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            minDot = dot;
                                            index = i;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance278.exports;
                            return __exports.data(dot < minDot ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance86.exports;
        return __exports.data();
    })();
    tVec = vertices1[edge1];
    tMat = xf1.R;
    var v1X = xf1.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    var v1Y = xf1.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    tVec = vertices2[index];
    tMat = xf2.R;
    var v2X = xf2.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    var v2Y = xf2.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    v2X -= v1X;
    v2Y -= v1Y;
    var separation = v2X * normal1WorldX + v2Y * normal1WorldY;
    return separation;
};
b2Collision.FindMaxSeparation = function (edgeIndex, poly1, xf1, poly2, xf2) {
    var count1 = poly1.m_vertexCount;
    var normals1 = poly1.m_normals;
    var tVec;
    var tMat;
    tMat = xf2.R;
    tVec = poly2.m_centroid;
    var dX = xf2.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    var dY = xf2.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    tMat = xf1.R;
    tVec = poly1.m_centroid;
    dX -= xf1.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    dY -= xf1.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    var dLocal1X = dX * xf1.R.col1.x + dY * xf1.R.col1.y;
    var dLocal1Y = dX * xf1.R.col2.x + dY * xf1.R.col2.y;
    var edge = 0;
    var maxDot = -Number.MAX_VALUE;
    (() => {
        var i = 0;
        const __forInstance87 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < count1 ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        tVec = normals1[i];
                        var dot = tVec.x * dLocal1X + tVec.y * dLocal1Y;
                        (() => {
                            const __ifInstance279 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            maxDot = dot;
                                            edge = i;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance279.exports;
                            return __exports.data(dot > maxDot ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance87.exports;
        return __exports.data();
    })();
    var s = b2Collision.EdgeSeparation(poly1, xf1, edge, poly2, xf2);
    var prevEdge = edge - 1 >= 0 ? edge - 1 : count1 - 1;
    var sPrev = b2Collision.EdgeSeparation(poly1, xf1, prevEdge, poly2, xf2);
    var nextEdge = edge + 1 < count1 ? edge + 1 : 0;
    var sNext = b2Collision.EdgeSeparation(poly1, xf1, nextEdge, poly2, xf2);
    var bestEdge = 0;
    var bestSeparation;
    var increment = 0;
    if (sPrev > s && sPrev > sNext) {
        increment = -1;
        bestEdge = prevEdge;
        bestSeparation = sPrev;
    } else {
        if (sNext > s) {
            increment = 1;
            bestEdge = nextEdge;
            bestSeparation = sNext;
        } else {
            edgeIndex[0] = edge;
            return s;
        }
    }
    while (true) {
        (() => {
            const __ifInstance280 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            edge = bestEdge - 1 >= 0 ? bestEdge - 1 : count1 - 1;
                        }
                    },
                    impFunc2: () => {
                        {
                            edge = bestEdge + 1 < count1 ? bestEdge + 1 : 0;
                        }
                    }
                }
            });
            const __exports = __ifInstance280.exports;
            return __exports.data(increment == -1 ? 1 : 0);
        })();
        s = b2Collision.EdgeSeparation(poly1, xf1, edge, poly2, xf2);
        if (s > bestSeparation) {
            bestEdge = edge;
            bestSeparation = s;
        } else {
            break;
        }
    }
    edgeIndex[0] = bestEdge;
    return bestSeparation;
};
b2Collision.FindIncidentEdge = function (c, poly1, xf1, edge1, poly2, xf2) {
    var count1 = poly1.m_vertexCount;
    var normals1 = poly1.m_normals;
    var count2 = poly2.m_vertexCount;
    var vertices2 = poly2.m_vertices;
    var normals2 = poly2.m_normals;
    var tMat;
    var tVec;
    tMat = xf1.R;
    tVec = normals1[edge1];
    var normal1X = tMat.col1.x * tVec.x + tMat.col2.x * tVec.y;
    var normal1Y = tMat.col1.y * tVec.x + tMat.col2.y * tVec.y;
    tMat = xf2.R;
    var tX = tMat.col1.x * normal1X + tMat.col1.y * normal1Y;
    normal1Y = tMat.col2.x * normal1X + tMat.col2.y * normal1Y;
    normal1X = tX;
    var index = 0;
    var minDot = Number.MAX_VALUE;
    (() => {
        var i = 0;
        const __forInstance88 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < count2 ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        tVec = normals2[i];
                        var dot = normal1X * tVec.x + normal1Y * tVec.y;
                        (() => {
                            const __ifInstance281 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            minDot = dot;
                                            index = i;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance281.exports;
                            return __exports.data(dot < minDot ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance88.exports;
        return __exports.data();
    })();
    var tClip;
    var i1 = index;
    var i2 = i1 + 1 < count2 ? i1 + 1 : 0;
    tClip = c[0];
    tVec = vertices2[i1];
    tMat = xf2.R;
    tClip.v.x = xf2.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    tClip.v.y = xf2.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    tClip.id.features.referenceEdge = edge1;
    tClip.id.features.incidentEdge = i1;
    tClip.id.features.incidentVertex = 0;
    tClip = c[1];
    tVec = vertices2[i2];
    tMat = xf2.R;
    tClip.v.x = xf2.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    tClip.v.y = xf2.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    tClip.id.features.referenceEdge = edge1;
    tClip.id.features.incidentEdge = i2;
    tClip.id.features.incidentVertex = 1;
};
b2Collision.CollidePolygons = function (manifold, polyA, xfA, polyB, xfB) {
    var cv;
    manifold.m_pointCount = 0;
    var totalRadius = polyA.m_radius + polyB.m_radius;
    var edgeA = 0;
    b2Collision.s_edgeAO[0] = edgeA;
    var separationA = b2Collision.FindMaxSeparation(b2Collision.s_edgeAO, polyA, xfA, polyB, xfB);
    edgeA = b2Collision.s_edgeAO[0];
    if (separationA > totalRadius) {
        return;
    }
    var edgeB = 0;
    b2Collision.s_edgeBO[0] = edgeB;
    var separationB = b2Collision.FindMaxSeparation(b2Collision.s_edgeBO, polyB, xfB, polyA, xfA);
    edgeB = b2Collision.s_edgeBO[0];
    if (separationB > totalRadius) {
        return;
    }
    var poly1;
    var poly2;
    var xf1;
    var xf2;
    var edge1 = 0;
    var flip = 0;
    var k_relativeTol = 0.98;
    var k_absoluteTol = 0.001;
    var tMat;
    (() => {
        const __ifInstance282 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        poly1 = polyB;
                        poly2 = polyA;
                        xf1 = xfB;
                        xf2 = xfA;
                        edge1 = edgeB;
                        manifold.m_type = b2Manifold.e_faceB;
                        flip = 1;
                    }
                },
                impFunc2: () => {
                    {
                        poly1 = polyA;
                        poly2 = polyB;
                        xf1 = xfA;
                        xf2 = xfB;
                        edge1 = edgeA;
                        manifold.m_type = b2Manifold.e_faceA;
                        flip = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance282.exports;
        return __exports.data(separationB > k_relativeTol * separationA + k_absoluteTol ? 1 : 0);
    })();
    var incidentEdge = b2Collision.s_incidentEdge;
    (() => {
        const __callInstance152 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Collision.FindIncidentEdge(incidentEdge, poly1, xf1, edge1, poly2, xf2);
                }
            }
        });
        const __exports = __callInstance152.exports;
        return __exports.data();
    })();
    var count1 = poly1.m_vertexCount;
    var vertices1 = poly1.m_vertices;
    var local_v11 = vertices1[edge1];
    var local_v12;
    (() => {
        const __ifInstance283 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        local_v12 = vertices1[parseInt(edge1 + 1)];
                    }
                },
                impFunc2: () => {
                    {
                        local_v12 = vertices1[0];
                    }
                }
            }
        });
        const __exports = __ifInstance283.exports;
        return __exports.data(edge1 + 1 < count1 ? 1 : 0);
    })();
    var localTangent = b2Collision.s_localTangent;
    (() => {
        const __callInstance151 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    localTangent.Set(local_v12.x - local_v11.x, local_v12.y - local_v11.y);
                }
            }
        });
        const __exports = __callInstance151.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance150 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    localTangent.Normalize();
                }
            }
        });
        const __exports = __callInstance150.exports;
        return __exports.data();
    })();
    var localNormal = b2Collision.s_localNormal;
    localNormal.x = localTangent.y;
    localNormal.y = -localTangent.x;
    var planePoint = b2Collision.s_planePoint;
    (() => {
        const __callInstance149 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    planePoint.Set(0.5 * (local_v11.x + local_v12.x), 0.5 * (local_v11.y + local_v12.y));
                }
            }
        });
        const __exports = __callInstance149.exports;
        return __exports.data();
    })();
    var tangent = b2Collision.s_tangent;
    tMat = xf1.R;
    tangent.x = tMat.col1.x * localTangent.x + tMat.col2.x * localTangent.y;
    tangent.y = tMat.col1.y * localTangent.x + tMat.col2.y * localTangent.y;
    var tangent2 = b2Collision.s_tangent2;
    tangent2.x = -tangent.x;
    tangent2.y = -tangent.y;
    var normal = b2Collision.s_normal;
    normal.x = tangent.y;
    normal.y = -tangent.x;
    var v11 = b2Collision.s_v11;
    var v12 = b2Collision.s_v12;
    v11.x = xf1.position.x + (tMat.col1.x * local_v11.x + tMat.col2.x * local_v11.y);
    v11.y = xf1.position.y + (tMat.col1.y * local_v11.x + tMat.col2.y * local_v11.y);
    v12.x = xf1.position.x + (tMat.col1.x * local_v12.x + tMat.col2.x * local_v12.y);
    v12.y = xf1.position.y + (tMat.col1.y * local_v12.x + tMat.col2.y * local_v12.y);
    var frontOffset = normal.x * v11.x + normal.y * v11.y;
    var sideOffset1 = -tangent.x * v11.x - tangent.y * v11.y + totalRadius;
    var sideOffset2 = tangent.x * v12.x + tangent.y * v12.y + totalRadius;
    var clipPoints1 = b2Collision.s_clipPoints1;
    var clipPoints2 = b2Collision.s_clipPoints2;
    var np = 0;
    np = b2Collision.ClipSegmentToLine(clipPoints1, incidentEdge, tangent2, sideOffset1);
    if (np < 2) {
        return;
    }
    np = b2Collision.ClipSegmentToLine(clipPoints2, clipPoints1, tangent, sideOffset2);
    if (np < 2) {
        return;
    }
    (() => {
        const __callInstance148 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    manifold.m_localPlaneNormal.SetV(localNormal);
                }
            }
        });
        const __exports = __callInstance148.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance147 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    manifold.m_localPoint.SetV(planePoint);
                }
            }
        });
        const __exports = __callInstance147.exports;
        return __exports.data();
    })();
    var pointCount = 0;
    (() => {
        var i = 0;
        const __forInstance89 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < b2Settings.b2_maxManifoldPoints ? 1 : 0;
                },
                update: () => {
                    ++i;
                },
                body: () => {
                    {
                        cv = clipPoints2[i];
                        var separation = normal.x * cv.v.x + normal.y * cv.v.y - frontOffset;
                        (() => {
                            const __ifInstance284 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            var cp = manifold.m_points[pointCount];
                                            tMat = xf2.R;
                                            var tX = cv.v.x - xf2.position.x;
                                            var tY = cv.v.y - xf2.position.y;
                                            cp.m_localPoint.x = tX * tMat.col1.x + tY * tMat.col1.y;
                                            cp.m_localPoint.y = tX * tMat.col2.x + tY * tMat.col2.y;
                                            (() => {
                                                const __callInstance146 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            cp.m_id.Set(cv.id);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance146.exports;
                                                return __exports.data();
                                            })();
                                            cp.m_id.features.flip = flip;
                                            ++pointCount;
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance284.exports;
                            return __exports.data(separation <= totalRadius ? 1 : 0);
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance89.exports;
        return __exports.data();
    })();
    manifold.m_pointCount = pointCount;
};
b2Collision.CollideCircles = function (manifold, circle1, xf1, circle2, xf2) {
    manifold.m_pointCount = 0;
    var tMat;
    var tVec;
    tMat = xf1.R;
    tVec = circle1.m_p;
    var p1X = xf1.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    var p1Y = xf1.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    tMat = xf2.R;
    tVec = circle2.m_p;
    var p2X = xf2.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    var p2Y = xf2.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    var dX = p2X - p1X;
    var dY = p2Y - p1Y;
    var distSqr = dX * dX + dY * dY;
    var radius = circle1.m_radius + circle2.m_radius;
    if (distSqr > radius * radius) {
        return;
    }
    manifold.m_type = b2Manifold.e_circles;
    (() => {
        const __callInstance145 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    manifold.m_localPoint.SetV(circle1.m_p);
                }
            }
        });
        const __exports = __callInstance145.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance144 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    manifold.m_localPlaneNormal.SetZero();
                }
            }
        });
        const __exports = __callInstance144.exports;
        return __exports.data();
    })();
    manifold.m_pointCount = 1;
    (() => {
        const __callInstance143 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    manifold.m_points[0].m_localPoint.SetV(circle2.m_p);
                }
            }
        });
        const __exports = __callInstance143.exports;
        return __exports.data();
    })();
    manifold.m_points[0].m_id.key = 0;
};
b2Collision.CollidePolygonAndCircle = function (manifold, polygon, xf1, circle, xf2) {
    manifold.m_pointCount = 0;
    var tPoint;
    var dX;
    var dY;
    var positionX;
    var positionY;
    var tVec;
    var tMat;
    tMat = xf2.R;
    tVec = circle.m_p;
    var cX = xf2.position.x + (tMat.col1.x * tVec.x + tMat.col2.x * tVec.y);
    var cY = xf2.position.y + (tMat.col1.y * tVec.x + tMat.col2.y * tVec.y);
    dX = cX - xf1.position.x;
    dY = cY - xf1.position.y;
    tMat = xf1.R;
    var cLocalX = dX * tMat.col1.x + dY * tMat.col1.y;
    var cLocalY = dX * tMat.col2.x + dY * tMat.col2.y;
    var dist;
    var normalIndex = 0;
    var separation = -Number.MAX_VALUE;
    var radius = polygon.m_radius + circle.m_radius;
    var vertexCount = polygon.m_vertexCount;
    var vertices = polygon.m_vertices;
    var normals = polygon.m_normals;
    for (var i = 0; i < vertexCount; ++i) {
        tVec = vertices[i];
        dX = cLocalX - tVec.x;
        dY = cLocalY - tVec.y;
        tVec = normals[i];
        var s = tVec.x * dX + tVec.y * dY;
        if (s > radius) {
            return;
        }
        (() => {
            const __ifInstance285 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            separation = s;
                            normalIndex = i;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance285.exports;
            return __exports.data(s > separation ? 1 : 0);
        })();
    }
    var vertIndex1 = normalIndex;
    var vertIndex2 = vertIndex1 + 1 < vertexCount ? vertIndex1 + 1 : 0;
    var v1 = vertices[vertIndex1];
    var v2 = vertices[vertIndex2];
    if (separation < Number.MIN_VALUE) {
        manifold.m_pointCount = 1;
        manifold.m_type = b2Manifold.e_faceA;
        (() => {
            const __callInstance142 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        manifold.m_localPlaneNormal.SetV(normals[normalIndex]);
                    }
                }
            });
            const __exports = __callInstance142.exports;
            return __exports.data();
        })();
        manifold.m_localPoint.x = 0.5 * (v1.x + v2.x);
        manifold.m_localPoint.y = 0.5 * (v1.y + v2.y);
        (() => {
            const __callInstance141 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        manifold.m_points[0].m_localPoint.SetV(circle.m_p);
                    }
                }
            });
            const __exports = __callInstance141.exports;
            return __exports.data();
        })();
        manifold.m_points[0].m_id.key = 0;
        return;
    }
    var u1 = (cLocalX - v1.x) * (v2.x - v1.x) + (cLocalY - v1.y) * (v2.y - v1.y);
    var u2 = (cLocalX - v2.x) * (v1.x - v2.x) + (cLocalY - v2.y) * (v1.y - v2.y);
    if (u1 <= 0) {
        if ((cLocalX - v1.x) * (cLocalX - v1.x) + (cLocalY - v1.y) * (cLocalY - v1.y) > radius * radius) {
            return;
        }
        manifold.m_pointCount = 1;
        manifold.m_type = b2Manifold.e_faceA;
        manifold.m_localPlaneNormal.x = cLocalX - v1.x;
        manifold.m_localPlaneNormal.y = cLocalY - v1.y;
        (() => {
            const __callInstance140 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        manifold.m_localPlaneNormal.Normalize();
                    }
                }
            });
            const __exports = __callInstance140.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance139 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        manifold.m_localPoint.SetV(v1);
                    }
                }
            });
            const __exports = __callInstance139.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance138 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        manifold.m_points[0].m_localPoint.SetV(circle.m_p);
                    }
                }
            });
            const __exports = __callInstance138.exports;
            return __exports.data();
        })();
        manifold.m_points[0].m_id.key = 0;
    } else {
        if (u2 <= 0) {
            if ((cLocalX - v2.x) * (cLocalX - v2.x) + (cLocalY - v2.y) * (cLocalY - v2.y) > radius * radius) {
                return;
            }
            manifold.m_pointCount = 1;
            manifold.m_type = b2Manifold.e_faceA;
            manifold.m_localPlaneNormal.x = cLocalX - v2.x;
            manifold.m_localPlaneNormal.y = cLocalY - v2.y;
            (() => {
                const __callInstance137 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            manifold.m_localPlaneNormal.Normalize();
                        }
                    }
                });
                const __exports = __callInstance137.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance136 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            manifold.m_localPoint.SetV(v2);
                        }
                    }
                });
                const __exports = __callInstance136.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance135 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            manifold.m_points[0].m_localPoint.SetV(circle.m_p);
                        }
                    }
                });
                const __exports = __callInstance135.exports;
                return __exports.data();
            })();
            manifold.m_points[0].m_id.key = 0;
        } else {
            var faceCenterX = 0.5 * (v1.x + v2.x);
            var faceCenterY = 0.5 * (v1.y + v2.y);
            separation = (cLocalX - faceCenterX) * normals[vertIndex1].x + (cLocalY - faceCenterY) * normals[vertIndex1].y;
            if (separation > radius) {
                return;
            }
            manifold.m_pointCount = 1;
            manifold.m_type = b2Manifold.e_faceA;
            manifold.m_localPlaneNormal.x = normals[vertIndex1].x;
            manifold.m_localPlaneNormal.y = normals[vertIndex1].y;
            (() => {
                const __callInstance134 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            manifold.m_localPlaneNormal.Normalize();
                        }
                    }
                });
                const __exports = __callInstance134.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance133 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            manifold.m_localPoint.Set(faceCenterX, faceCenterY);
                        }
                    }
                });
                const __exports = __callInstance133.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance132 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            manifold.m_points[0].m_localPoint.SetV(circle.m_p);
                        }
                    }
                });
                const __exports = __callInstance132.exports;
                return __exports.data();
            })();
            manifold.m_points[0].m_id.key = 0;
        }
    }
};
b2Collision.TestOverlap = function (a, b) {
    var t1 = b.lowerBound;
    var t2 = a.upperBound;
    var d1X = t1.x - t2.x;
    var d1Y = t1.y - t2.y;
    t1 = a.lowerBound;
    t2 = b.upperBound;
    var d2X = t1.x - t2.x;
    var d2Y = t1.y - t2.y;
    if (d1X > 0 || d1Y > 0) {
        return false;
    }
    if (d2X > 0 || d2Y > 0) {
        return false;
    }
    return true;
};
b2Collision.b2_nullFeature = 255;
b2Collision.s_incidentEdge = b2Collision.MakeClipPointVector();
b2Collision.s_clipPoints1 = b2Collision.MakeClipPointVector();
b2Collision.s_clipPoints2 = b2Collision.MakeClipPointVector();
b2Collision.s_edgeAO = new Array(1);
b2Collision.s_edgeBO = new Array(1);
b2Collision.s_localTangent = new b2Vec2();
b2Collision.s_localNormal = new b2Vec2();
b2Collision.s_planePoint = new b2Vec2();
b2Collision.s_normal = new b2Vec2();
b2Collision.s_tangent = new b2Vec2();
b2Collision.s_tangent2 = new b2Vec2();
b2Collision.s_v11 = new b2Vec2();
b2Collision.s_v12 = new b2Vec2();
b2Collision.b2CollidePolyTempVec = new b2Vec2();
var b2PolyAndCircleContact = function () {
    (() => {
        const __callInstance131 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Contact.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance131.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance130 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance130.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance129 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance129.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance128 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2PolyAndCircleContact.prototype, b2Contact.prototype);
            }
        }
    });
    const __exports = __callInstance128.exports;
    return __exports.data();
})();
b2PolyAndCircleContact.prototype._super = b2Contact.prototype;
b2PolyAndCircleContact.prototype.__constructor = function () {
    (() => {
        const __callInstance127 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance127.exports;
        return __exports.data();
    })();
};
b2PolyAndCircleContact.prototype.__varz = function () {
};
b2PolyAndCircleContact.Create = function (allocator) {
    return new b2PolyAndCircleContact();
};
b2PolyAndCircleContact.Destroy = function (contact, allocator) {
};
b2PolyAndCircleContact.prototype.Evaluate = function () {
    var bA = this.m_fixtureA.m_body;
    var bB = this.m_fixtureB.m_body;
    (() => {
        const __callInstance126 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Collision.CollidePolygonAndCircle(this.m_manifold, this.m_fixtureA.GetShape(), bA.m_xf, this.m_fixtureB.GetShape(), bB.m_xf);
                }
            }
        });
        const __exports = __callInstance126.exports;
        return __exports.data();
    })();
};
b2PolyAndCircleContact.prototype.Reset = function (fixtureA, fixtureB) {
    (() => {
        const __callInstance125 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.Reset.apply(this, [
                        fixtureA,
                        fixtureB
                    ]);
                }
            }
        });
        const __exports = __callInstance125.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance124 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(fixtureA.GetType() == b2Shape.e_polygonShape);
                }
            }
        });
        const __exports = __callInstance124.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance123 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Settings.b2Assert(fixtureB.GetType() == b2Shape.e_circleShape);
                }
            }
        });
        const __exports = __callInstance123.exports;
        return __exports.data();
    })();
};
var b2ContactPoint = function () {
    (() => {
        const __callInstance122 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance122.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance121 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance121.exports;
        return __exports.data();
    })();
};
b2ContactPoint.prototype.__constructor = function () {
};
b2ContactPoint.prototype.__varz = function () {
    this.position = new b2Vec2();
    this.velocity = new b2Vec2();
    this.normal = new b2Vec2();
    this.id = new b2ContactID();
};
b2ContactPoint.prototype.shape1 = null;
b2ContactPoint.prototype.shape2 = null;
b2ContactPoint.prototype.position = new b2Vec2();
b2ContactPoint.prototype.velocity = new b2Vec2();
b2ContactPoint.prototype.normal = new b2Vec2();
b2ContactPoint.prototype.separation = null;
b2ContactPoint.prototype.friction = null;
b2ContactPoint.prototype.restitution = null;
b2ContactPoint.prototype.id = new b2ContactID();
var b2CircleContact = function () {
    (() => {
        const __callInstance120 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Contact.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance120.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance119 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance119.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance118 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance118.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance117 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2CircleContact.prototype, b2Contact.prototype);
            }
        }
    });
    const __exports = __callInstance117.exports;
    return __exports.data();
})();
b2CircleContact.prototype._super = b2Contact.prototype;
b2CircleContact.prototype.__constructor = function () {
    (() => {
        const __callInstance116 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance116.exports;
        return __exports.data();
    })();
};
b2CircleContact.prototype.__varz = function () {
};
b2CircleContact.Create = function (allocator) {
    return new b2CircleContact();
};
b2CircleContact.Destroy = function (contact, allocator) {
};
b2CircleContact.prototype.Evaluate = function () {
    var bA = this.m_fixtureA.GetBody();
    var bB = this.m_fixtureB.GetBody();
    (() => {
        const __callInstance115 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Collision.CollideCircles(this.m_manifold, this.m_fixtureA.GetShape(), bA.m_xf, this.m_fixtureB.GetShape(), bB.m_xf);
                }
            }
        });
        const __exports = __callInstance115.exports;
        return __exports.data();
    })();
};
b2CircleContact.prototype.Reset = function (fixtureA, fixtureB) {
    (() => {
        const __callInstance114 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.Reset.apply(this, [
                        fixtureA,
                        fixtureB
                    ]);
                }
            }
        });
        const __exports = __callInstance114.exports;
        return __exports.data();
    })();
};
var b2EdgeAndCircleContact = function () {
    (() => {
        const __callInstance113 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Contact.prototype.__varz.call(this);
                }
            }
        });
        const __exports = __callInstance113.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance112 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance112.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance111 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance111.exports;
        return __exports.data();
    })();
};
(() => {
    const __callInstance110 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                extend(b2EdgeAndCircleContact.prototype, b2Contact.prototype);
            }
        }
    });
    const __exports = __callInstance110.exports;
    return __exports.data();
})();
b2EdgeAndCircleContact.prototype._super = b2Contact.prototype;
b2EdgeAndCircleContact.prototype.__constructor = function () {
    (() => {
        const __callInstance109 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance109.exports;
        return __exports.data();
    })();
};
b2EdgeAndCircleContact.prototype.__varz = function () {
};
b2EdgeAndCircleContact.Create = function (allocator) {
    return new b2EdgeAndCircleContact();
};
b2EdgeAndCircleContact.Destroy = function (contact, allocator) {
};
b2EdgeAndCircleContact.prototype.Evaluate = function () {
    var bA = this.m_fixtureA.GetBody();
    var bB = this.m_fixtureB.GetBody();
    (() => {
        const __callInstance108 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.b2CollideEdgeAndCircle(this.m_manifold, this.m_fixtureA.GetShape(), bA.m_xf, this.m_fixtureB.GetShape(), bB.m_xf);
                }
            }
        });
        const __exports = __callInstance108.exports;
        return __exports.data();
    })();
};
b2EdgeAndCircleContact.prototype.b2CollideEdgeAndCircle = function (manifold, edge, xf1, circle, xf2) {
};
b2EdgeAndCircleContact.prototype.Reset = function (fixtureA, fixtureB) {
    (() => {
        const __callInstance107 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this._super.Reset.apply(this, [
                        fixtureA,
                        fixtureB
                    ]);
                }
            }
        });
        const __exports = __callInstance107.exports;
        return __exports.data();
    })();
};
var b2ContactManager = function () {
    (() => {
        const __callInstance106 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance106.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance105 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance105.exports;
        return __exports.data();
    })();
};
b2ContactManager.prototype.__constructor = function () {
    this.m_world = null;
    this.m_contactCount = 0;
    this.m_contactFilter = b2ContactFilter.b2_defaultFilter;
    this.m_contactListener = b2ContactListener.b2_defaultListener;
    this.m_contactFactory = new b2ContactFactory(this.m_allocator);
    this.m_broadPhase = new b2DynamicTreeBroadPhase();
};
b2ContactManager.prototype.__varz = function () {
};
b2ContactManager.s_evalCP = new b2ContactPoint();
b2ContactManager.prototype.AddPair = function (proxyUserDataA, proxyUserDataB) {
    var fixtureA = proxyUserDataA;
    var fixtureB = proxyUserDataB;
    var bodyA = fixtureA.GetBody();
    var bodyB = fixtureB.GetBody();
    if (bodyA == bodyB) {
        return;
    }
    var edge = bodyB.GetContactList();
    while (edge) {
        if (edge.other == bodyA) {
            var fA = edge.contact.GetFixtureA();
            var fB = edge.contact.GetFixtureB();
            if (fA == fixtureA && fB == fixtureB) {
                return;
            }
            if (fA == fixtureB && fB == fixtureA) {
                return;
            }
        }
        edge = edge.next;
    }
    if (bodyB.ShouldCollide(bodyA) == false) {
        return;
    }
    if (this.m_contactFilter.ShouldCollide(fixtureA, fixtureB) == false) {
        return;
    }
    var c = this.m_contactFactory.Create(fixtureA, fixtureB);
    fixtureA = c.GetFixtureA();
    fixtureB = c.GetFixtureB();
    bodyA = fixtureA.m_body;
    bodyB = fixtureB.m_body;
    c.m_prev = null;
    c.m_next = this.m_world.m_contactList;
    (() => {
        const __ifInstance286 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_world.m_contactList.m_prev = c;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance286.exports;
        return __exports.data(this.m_world.m_contactList != null ? 1 : 0);
    })();
    this.m_world.m_contactList = c;
    c.m_nodeA.contact = c;
    c.m_nodeA.other = bodyB;
    c.m_nodeA.prev = null;
    c.m_nodeA.next = bodyA.m_contactList;
    (() => {
        const __ifInstance287 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        bodyA.m_contactList.prev = c.m_nodeA;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance287.exports;
        return __exports.data(bodyA.m_contactList != null ? 1 : 0);
    })();
    bodyA.m_contactList = c.m_nodeA;
    c.m_nodeB.contact = c;
    c.m_nodeB.other = bodyA;
    c.m_nodeB.prev = null;
    c.m_nodeB.next = bodyB.m_contactList;
    (() => {
        const __ifInstance288 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        bodyB.m_contactList.prev = c.m_nodeB;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance288.exports;
        return __exports.data(bodyB.m_contactList != null ? 1 : 0);
    })();
    bodyB.m_contactList = c.m_nodeB;
    ++this.m_world.m_contactCount;
    return;
};
b2ContactManager.prototype.FindNewContacts = function () {
    var that = this;
    (() => {
        const __callInstance104 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_broadPhase.UpdatePairs(function (a, b) {
                        return that.AddPair(a, b);
                    });
                }
            }
        });
        const __exports = __callInstance104.exports;
        return __exports.data();
    })();
};
b2ContactManager.prototype.Destroy = function (c) {
    var fixtureA = c.GetFixtureA();
    var fixtureB = c.GetFixtureB();
    var bodyA = fixtureA.GetBody();
    var bodyB = fixtureB.GetBody();
    (() => {
        const __ifInstance289 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance103 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_contactListener.EndContact(c);
                                    }
                                }
                            });
                            const __exports = __callInstance103.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance289.exports;
        return __exports.data(c.IsTouching() ? 1 : 0);
    })();
    (() => {
        const __ifInstance290 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        c.m_prev.m_next = c.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance290.exports;
        return __exports.data(c.m_prev ? 1 : 0);
    })();
    (() => {
        const __ifInstance291 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        c.m_next.m_prev = c.m_prev;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance291.exports;
        return __exports.data(c.m_next ? 1 : 0);
    })();
    (() => {
        const __ifInstance292 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_world.m_contactList = c.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance292.exports;
        return __exports.data(c == this.m_world.m_contactList ? 1 : 0);
    })();
    (() => {
        const __ifInstance293 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        c.m_nodeA.prev.next = c.m_nodeA.next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance293.exports;
        return __exports.data(c.m_nodeA.prev ? 1 : 0);
    })();
    (() => {
        const __ifInstance294 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        c.m_nodeA.next.prev = c.m_nodeA.prev;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance294.exports;
        return __exports.data(c.m_nodeA.next ? 1 : 0);
    })();
    (() => {
        const __ifInstance295 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        bodyA.m_contactList = c.m_nodeA.next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance295.exports;
        return __exports.data(c.m_nodeA == bodyA.m_contactList ? 1 : 0);
    })();
    (() => {
        const __ifInstance296 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        c.m_nodeB.prev.next = c.m_nodeB.next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance296.exports;
        return __exports.data(c.m_nodeB.prev ? 1 : 0);
    })();
    (() => {
        const __ifInstance297 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        c.m_nodeB.next.prev = c.m_nodeB.prev;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance297.exports;
        return __exports.data(c.m_nodeB.next ? 1 : 0);
    })();
    (() => {
        const __ifInstance298 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        bodyB.m_contactList = c.m_nodeB.next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance298.exports;
        return __exports.data(c.m_nodeB == bodyB.m_contactList ? 1 : 0);
    })();
    (() => {
        const __callInstance102 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_contactFactory.Destroy(c);
                }
            }
        });
        const __exports = __callInstance102.exports;
        return __exports.data();
    })();
    --this.m_contactCount;
};
b2ContactManager.prototype.Collide = function () {
    var c = this.m_world.m_contactList;
    while (c) {
        var fixtureA = c.GetFixtureA();
        var fixtureB = c.GetFixtureB();
        var bodyA = fixtureA.GetBody();
        var bodyB = fixtureB.GetBody();
        if (bodyA.IsAwake() == false && bodyB.IsAwake() == false) {
            c = c.GetNext();
            continue;
        }
        if (c.m_flags & b2Contact.e_filterFlag) {
            if (bodyB.ShouldCollide(bodyA) == false) {
                var cNuke = c;
                c = cNuke.GetNext();
                (() => {
                    const __callInstance101 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                this.Destroy(cNuke);
                            }
                        }
                    });
                    const __exports = __callInstance101.exports;
                    return __exports.data();
                })();
                continue;
            }
            if (this.m_contactFilter.ShouldCollide(fixtureA, fixtureB) == false) {
                cNuke = c;
                c = cNuke.GetNext();
                (() => {
                    const __callInstance100 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                this.Destroy(cNuke);
                            }
                        }
                    });
                    const __exports = __callInstance100.exports;
                    return __exports.data();
                })();
                continue;
            }
            c.m_flags &= ~b2Contact.e_filterFlag;
        }
        var proxyA = fixtureA.m_proxy;
        var proxyB = fixtureB.m_proxy;
        var overlap = this.m_broadPhase.TestOverlap(proxyA, proxyB);
        if (overlap == false) {
            cNuke = c;
            c = cNuke.GetNext();
            (() => {
                const __callInstance99 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.Destroy(cNuke);
                        }
                    }
                });
                const __exports = __callInstance99.exports;
                return __exports.data();
            })();
            continue;
        }
        (() => {
            const __callInstance98 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        c.Update(this.m_contactListener);
                    }
                }
            });
            const __exports = __callInstance98.exports;
            return __exports.data();
        })();
        c = c.GetNext();
    }
};
b2ContactManager.prototype.m_world = null;
b2ContactManager.prototype.m_broadPhase = null;
b2ContactManager.prototype.m_contactList = null;
b2ContactManager.prototype.m_contactCount = 0;
b2ContactManager.prototype.m_contactFilter = null;
b2ContactManager.prototype.m_contactListener = null;
b2ContactManager.prototype.m_contactFactory = null;
b2ContactManager.prototype.m_allocator = null;
var b2World = function () {
    (() => {
        const __callInstance97 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__varz();
                }
            }
        });
        const __exports = __callInstance97.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance96 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.__constructor.apply(this, arguments);
                }
            }
        });
        const __exports = __callInstance96.exports;
        return __exports.data();
    })();
};
b2World.prototype.__constructor = function (gravity, doSleep) {
    this.m_destructionListener = null;
    this.m_debugDraw = null;
    this.m_bodyList = null;
    this.m_contactList = null;
    this.m_jointList = null;
    this.m_controllerList = null;
    this.m_bodyCount = 0;
    this.m_contactCount = 0;
    this.m_jointCount = 0;
    this.m_controllerCount = 0;
    b2World.m_warmStarting = true;
    b2World.m_continuousPhysics = true;
    this.m_allowSleep = doSleep;
    this.m_gravity = gravity;
    this.m_inv_dt0 = 0;
    this.m_contactManager.m_world = this;
    var bd = new b2BodyDef();
    this.m_groundBody = this.CreateBody(bd);
};
b2World.prototype.__varz = function () {
    this.s_stack = new Array();
    this.m_contactManager = new b2ContactManager();
    this.m_contactSolver = new b2ContactSolver();
    this.m_island = new b2Island();
};
b2World.s_timestep2 = new b2TimeStep();
b2World.s_backupA = new b2Sweep();
b2World.s_backupB = new b2Sweep();
b2World.s_timestep = new b2TimeStep();
b2World.s_queue = new Array();
b2World.e_newFixture = 1;
b2World.e_locked = 2;
b2World.s_xf = new b2Transform();
b2World.s_jointColor = new b2Color(0.5, 0.8, 0.8);
b2World.m_warmStarting = null;
b2World.m_continuousPhysics = null;
b2World.prototype.Solve = function (step) {
    var b;
    (() => {
        var controller = this.m_controllerList;
        const __forInstance90 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return controller ? 1 : 0;
                },
                update: () => {
                    controller = controller.m_next;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance95 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        controller.Step(step);
                                    }
                                }
                            });
                            const __exports = __callInstance95.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance90.exports;
        return __exports.data();
    })();
    var island = this.m_island;
    (() => {
        const __callInstance94 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    island.Initialize(this.m_bodyCount, this.m_contactCount, this.m_jointCount, null, this.m_contactManager.m_contactListener, this.m_contactSolver);
                }
            }
        });
        const __exports = __callInstance94.exports;
        return __exports.data();
    })();
    (() => {
        b = this.m_bodyList;
        const __forInstance91 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return b ? 1 : 0;
                },
                update: () => {
                    b = b.m_next;
                },
                body: () => {
                    {
                        b.m_flags &= ~b2Body.e_islandFlag;
                    }
                }
            }
        });
        const __exports = __forInstance91.exports;
        return __exports.data();
    })();
    (() => {
        var c = this.m_contactList;
        const __forInstance92 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return c ? 1 : 0;
                },
                update: () => {
                    c = c.m_next;
                },
                body: () => {
                    {
                        c.m_flags &= ~b2Contact.e_islandFlag;
                    }
                }
            }
        });
        const __exports = __forInstance92.exports;
        return __exports.data();
    })();
    (() => {
        var j = this.m_jointList;
        const __forInstance93 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return j ? 1 : 0;
                },
                update: () => {
                    j = j.m_next;
                },
                body: () => {
                    {
                        j.m_islandFlag = false;
                    }
                }
            }
        });
        const __exports = __forInstance93.exports;
        return __exports.data();
    })();
    var stackSize = this.m_bodyCount;
    var stack = this.s_stack;
    for (var seed = this.m_bodyList; seed; seed = seed.m_next) {
        if (seed.m_flags & b2Body.e_islandFlag) {
            continue;
        }
        if (seed.IsAwake() == false || seed.IsActive() == false) {
            continue;
        }
        if (seed.GetType() == b2Body.b2_staticBody) {
            continue;
        }
        (() => {
            const __callInstance93 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        island.Clear();
                    }
                }
            });
            const __exports = __callInstance93.exports;
            return __exports.data();
        })();
        var stackCount = 0;
        stack[stackCount++] = seed;
        seed.m_flags |= b2Body.e_islandFlag;
        while (stackCount > 0) {
            b = stack[--stackCount];
            (() => {
                const __callInstance92 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            island.AddBody(b);
                        }
                    }
                });
                const __exports = __callInstance92.exports;
                return __exports.data();
            })();
            (() => {
                const __ifInstance299 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                (() => {
                                    const __callInstance91 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                b.SetAwake(true);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance91.exports;
                                    return __exports.data();
                                })();
                            }
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance299.exports;
                return __exports.data(b.IsAwake() == false ? 1 : 0);
            })();
            if (b.GetType() == b2Body.b2_staticBody) {
                continue;
            }
            var other;
            for (var ce = b.m_contactList; ce; ce = ce.next) {
                if (ce.contact.m_flags & b2Contact.e_islandFlag) {
                    continue;
                }
                if (ce.contact.IsSensor() == true || ce.contact.IsEnabled() == false || ce.contact.IsTouching() == false) {
                    continue;
                }
                (() => {
                    const __callInstance90 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                island.AddContact(ce.contact);
                            }
                        }
                    });
                    const __exports = __callInstance90.exports;
                    return __exports.data();
                })();
                ce.contact.m_flags |= b2Contact.e_islandFlag;
                other = ce.other;
                if (other.m_flags & b2Body.e_islandFlag) {
                    continue;
                }
                stack[stackCount++] = other;
                other.m_flags |= b2Body.e_islandFlag;
            }
            for (var jn = b.m_jointList; jn; jn = jn.next) {
                if (jn.joint.m_islandFlag == true) {
                    continue;
                }
                other = jn.other;
                if (other.IsActive() == false) {
                    continue;
                }
                (() => {
                    const __callInstance89 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                island.AddJoint(jn.joint);
                            }
                        }
                    });
                    const __exports = __callInstance89.exports;
                    return __exports.data();
                })();
                jn.joint.m_islandFlag = true;
                if (other.m_flags & b2Body.e_islandFlag) {
                    continue;
                }
                stack[stackCount++] = other;
                other.m_flags |= b2Body.e_islandFlag;
            }
        }
        (() => {
            const __callInstance88 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        island.Solve(step, this.m_gravity, this.m_allowSleep);
                    }
                }
            });
            const __exports = __callInstance88.exports;
            return __exports.data();
        })();
        (() => {
            var i = 0;
            const __forInstance94 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return i < island.m_bodyCount ? 1 : 0;
                    },
                    update: () => {
                        ++i;
                    },
                    body: () => {
                        {
                            b = island.m_bodies[i];
                            (() => {
                                const __ifInstance300 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                b.m_flags &= ~b2Body.e_islandFlag;
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance300.exports;
                                return __exports.data(b.GetType() == b2Body.b2_staticBody ? 1 : 0);
                            })();
                        }
                    }
                }
            });
            const __exports = __forInstance94.exports;
            return __exports.data();
        })();
    }
    for (i = 0; i < stack.length; ++i) {
        if (!stack[i]) {
            break;
        }
        stack[i] = null;
    }
    for (b = this.m_bodyList; b; b = b.m_next) {
        if (b.IsAwake() == false || b.IsActive() == false) {
            continue;
        }
        if (b.GetType() == b2Body.b2_staticBody) {
            continue;
        }
        (() => {
            const __callInstance87 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b.SynchronizeFixtures();
                    }
                }
            });
            const __exports = __callInstance87.exports;
            return __exports.data();
        })();
    }
    (() => {
        const __callInstance86 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_contactManager.FindNewContacts();
                }
            }
        });
        const __exports = __callInstance86.exports;
        return __exports.data();
    })();
};
b2World.prototype.SolveTOI = function (step) {
    var b;
    var fA;
    var fB;
    var bA;
    var bB;
    var cEdge;
    var j;
    var island = this.m_island;
    (() => {
        const __callInstance85 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    island.Initialize(this.m_bodyCount, b2Settings.b2_maxTOIContactsPerIsland, b2Settings.b2_maxTOIJointsPerIsland, null, this.m_contactManager.m_contactListener, this.m_contactSolver);
                }
            }
        });
        const __exports = __callInstance85.exports;
        return __exports.data();
    })();
    var queue = b2World.s_queue;
    (() => {
        b = this.m_bodyList;
        const __forInstance95 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return b ? 1 : 0;
                },
                update: () => {
                    b = b.m_next;
                },
                body: () => {
                    {
                        b.m_flags &= ~b2Body.e_islandFlag;
                        b.m_sweep.t0 = 0;
                    }
                }
            }
        });
        const __exports = __forInstance95.exports;
        return __exports.data();
    })();
    var c;
    (() => {
        c = this.m_contactList;
        const __forInstance96 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return c ? 1 : 0;
                },
                update: () => {
                    c = c.m_next;
                },
                body: () => {
                    {
                        c.m_flags &= ~(b2Contact.e_toiFlag | b2Contact.e_islandFlag);
                    }
                }
            }
        });
        const __exports = __forInstance96.exports;
        return __exports.data();
    })();
    (() => {
        j = this.m_jointList;
        const __forInstance97 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return j ? 1 : 0;
                },
                update: () => {
                    j = j.m_next;
                },
                body: () => {
                    {
                        j.m_islandFlag = false;
                    }
                }
            }
        });
        const __exports = __forInstance97.exports;
        return __exports.data();
    })();
    for (;;) {
        var minContact = null;
        var minTOI = 1;
        for (c = this.m_contactList; c; c = c.m_next) {
            if (c.IsSensor() == true || c.IsEnabled() == false || c.IsContinuous() == false) {
                continue;
            }
            var toi = 1;
            if (c.m_flags & b2Contact.e_toiFlag) {
                toi = c.m_toi;
            } else {
                fA = c.m_fixtureA;
                fB = c.m_fixtureB;
                bA = fA.m_body;
                bB = fB.m_body;
                if ((bA.GetType() != b2Body.b2_dynamicBody || bA.IsAwake() == false) && (bB.GetType() != b2Body.b2_dynamicBody || bB.IsAwake() == false)) {
                    continue;
                }
                var t0 = bA.m_sweep.t0;
                (() => {
                    const __ifInstance301 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    t0 = bB.m_sweep.t0;
                                    (() => {
                                        const __callInstance84 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    bA.m_sweep.Advance(t0);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance84.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                                {
                                    (() => {
                                        const __ifInstance302 = new WebAssembly.Instance(__ifWasmModule, {
                                            env: {
                                                impFunc1: () => {
                                                    {
                                                        t0 = bA.m_sweep.t0;
                                                        (() => {
                                                            const __callInstance83 = new WebAssembly.Instance(__callWasmModule, {
                                                                env: {
                                                                    impFunc: () => {
                                                                        bB.m_sweep.Advance(t0);
                                                                    }
                                                                }
                                                            });
                                                            const __exports = __callInstance83.exports;
                                                            return __exports.data();
                                                        })();
                                                    }
                                                },
                                                impFunc2: () => {
                                                }
                                            }
                                        });
                                        const __exports = __ifInstance302.exports;
                                        return __exports.data(bB.m_sweep.t0 < bA.m_sweep.t0 ? 1 : 0);
                                    })();
                                }
                            }
                        }
                    });
                    const __exports = __ifInstance301.exports;
                    return __exports.data(bA.m_sweep.t0 < bB.m_sweep.t0 ? 1 : 0);
                })();
                toi = c.ComputeTOI(bA.m_sweep, bB.m_sweep);
                (() => {
                    const __callInstance82 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                b2Settings.b2Assert(0 <= toi && toi <= 1);
                            }
                        }
                    });
                    const __exports = __callInstance82.exports;
                    return __exports.data();
                })();
                (() => {
                    const __ifInstance303 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    toi = (1 - toi) * t0 + toi;
                                    (() => {
                                        const __ifInstance304 = new WebAssembly.Instance(__ifWasmModule, {
                                            env: {
                                                impFunc1: () => {
                                                    {
                                                        toi = 1;
                                                    }
                                                },
                                                impFunc2: () => {
                                                }
                                            }
                                        });
                                        const __exports = __ifInstance304.exports;
                                        return __exports.data(toi > 1 ? 1 : 0);
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance303.exports;
                    return __exports.data(toi > 0 && toi < 1 ? 1 : 0);
                })();
                c.m_toi = toi;
                c.m_flags |= b2Contact.e_toiFlag;
            }
            (() => {
                const __ifInstance305 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                minContact = c;
                                minTOI = toi;
                            }
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance305.exports;
                return __exports.data(Number.MIN_VALUE < toi && toi < minTOI ? 1 : 0);
            })();
        }
        if (minContact == null || 1 - 100 * Number.MIN_VALUE < minTOI) {
            break;
        }
        fA = minContact.m_fixtureA;
        fB = minContact.m_fixtureB;
        bA = fA.m_body;
        bB = fB.m_body;
        (() => {
            const __callInstance81 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2World.s_backupA.Set(bA.m_sweep);
                    }
                }
            });
            const __exports = __callInstance81.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance80 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        b2World.s_backupB.Set(bB.m_sweep);
                    }
                }
            });
            const __exports = __callInstance80.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance79 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        bA.Advance(minTOI);
                    }
                }
            });
            const __exports = __callInstance79.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance78 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        bB.Advance(minTOI);
                    }
                }
            });
            const __exports = __callInstance78.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance77 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        minContact.Update(this.m_contactManager.m_contactListener);
                    }
                }
            });
            const __exports = __callInstance77.exports;
            return __exports.data();
        })();
        minContact.m_flags &= ~b2Contact.e_toiFlag;
        if (minContact.IsSensor() == true || minContact.IsEnabled() == false) {
            (() => {
                const __callInstance76 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            bA.m_sweep.Set(b2World.s_backupA);
                        }
                    }
                });
                const __exports = __callInstance76.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance75 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            bB.m_sweep.Set(b2World.s_backupB);
                        }
                    }
                });
                const __exports = __callInstance75.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance74 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            bA.SynchronizeTransform();
                        }
                    }
                });
                const __exports = __callInstance74.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance73 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            bB.SynchronizeTransform();
                        }
                    }
                });
                const __exports = __callInstance73.exports;
                return __exports.data();
            })();
            continue;
        }
        if (minContact.IsTouching() == false) {
            continue;
        }
        var seed = bA;
        (() => {
            const __ifInstance306 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            seed = bB;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance306.exports;
            return __exports.data(seed.GetType() != b2Body.b2_dynamicBody ? 1 : 0);
        })();
        (() => {
            const __callInstance72 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        island.Clear();
                    }
                }
            });
            const __exports = __callInstance72.exports;
            return __exports.data();
        })();
        var queueStart = 0;
        var queueSize = 0;
        queue[queueStart + queueSize++] = seed;
        seed.m_flags |= b2Body.e_islandFlag;
        while (queueSize > 0) {
            b = queue[queueStart++];
            --queueSize;
            (() => {
                const __callInstance71 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            island.AddBody(b);
                        }
                    }
                });
                const __exports = __callInstance71.exports;
                return __exports.data();
            })();
            (() => {
                const __ifInstance307 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                (() => {
                                    const __callInstance70 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                b.SetAwake(true);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance70.exports;
                                    return __exports.data();
                                })();
                            }
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance307.exports;
                return __exports.data(b.IsAwake() == false ? 1 : 0);
            })();
            if (b.GetType() != b2Body.b2_dynamicBody) {
                continue;
            }
            for (cEdge = b.m_contactList; cEdge; cEdge = cEdge.next) {
                if (island.m_contactCount == island.m_contactCapacity) {
                    break;
                }
                if (cEdge.contact.m_flags & b2Contact.e_islandFlag) {
                    continue;
                }
                if (cEdge.contact.IsSensor() == true || cEdge.contact.IsEnabled() == false || cEdge.contact.IsTouching() == false) {
                    continue;
                }
                (() => {
                    const __callInstance69 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                island.AddContact(cEdge.contact);
                            }
                        }
                    });
                    const __exports = __callInstance69.exports;
                    return __exports.data();
                })();
                cEdge.contact.m_flags |= b2Contact.e_islandFlag;
                var other = cEdge.other;
                if (other.m_flags & b2Body.e_islandFlag) {
                    continue;
                }
                (() => {
                    const __ifInstance308 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    (() => {
                                        const __callInstance68 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    other.Advance(minTOI);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance68.exports;
                                        return __exports.data();
                                    })();
                                    (() => {
                                        const __callInstance67 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    other.SetAwake(true);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance67.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance308.exports;
                    return __exports.data(other.GetType() != b2Body.b2_staticBody ? 1 : 0);
                })();
                queue[queueStart + queueSize] = other;
                ++queueSize;
                other.m_flags |= b2Body.e_islandFlag;
            }
            for (var jEdge = b.m_jointList; jEdge; jEdge = jEdge.next) {
                if (island.m_jointCount == island.m_jointCapacity) {
                    continue;
                }
                if (jEdge.joint.m_islandFlag == true) {
                    continue;
                }
                other = jEdge.other;
                if (other.IsActive() == false) {
                    continue;
                }
                (() => {
                    const __callInstance66 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                island.AddJoint(jEdge.joint);
                            }
                        }
                    });
                    const __exports = __callInstance66.exports;
                    return __exports.data();
                })();
                jEdge.joint.m_islandFlag = true;
                if (other.m_flags & b2Body.e_islandFlag) {
                    continue;
                }
                (() => {
                    const __ifInstance309 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    (() => {
                                        const __callInstance65 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    other.Advance(minTOI);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance65.exports;
                                        return __exports.data();
                                    })();
                                    (() => {
                                        const __callInstance64 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    other.SetAwake(true);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance64.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance309.exports;
                    return __exports.data(other.GetType() != b2Body.b2_staticBody ? 1 : 0);
                })();
                queue[queueStart + queueSize] = other;
                ++queueSize;
                other.m_flags |= b2Body.e_islandFlag;
            }
        }
        var subStep = b2World.s_timestep;
        subStep.warmStarting = false;
        subStep.dt = (1 - minTOI) * step.dt;
        subStep.inv_dt = 1 / subStep.dt;
        subStep.dtRatio = 0;
        subStep.velocityIterations = step.velocityIterations;
        subStep.positionIterations = step.positionIterations;
        (() => {
            const __callInstance63 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        island.SolveTOI(subStep);
                    }
                }
            });
            const __exports = __callInstance63.exports;
            return __exports.data();
        })();
        var i = 0;
        for (i = 0; i < island.m_bodyCount; ++i) {
            b = island.m_bodies[i];
            b.m_flags &= ~b2Body.e_islandFlag;
            if (b.IsAwake() == false) {
                continue;
            }
            if (b.GetType() != b2Body.b2_dynamicBody) {
                continue;
            }
            (() => {
                const __callInstance62 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            b.SynchronizeFixtures();
                        }
                    }
                });
                const __exports = __callInstance62.exports;
                return __exports.data();
            })();
            (() => {
                cEdge = b.m_contactList;
                const __forInstance98 = new WebAssembly.Instance(__forWasmModule, {
                    env: {
                        test: () => {
                            return cEdge ? 1 : 0;
                        },
                        update: () => {
                            cEdge = cEdge.next;
                        },
                        body: () => {
                            {
                                cEdge.contact.m_flags &= ~b2Contact.e_toiFlag;
                            }
                        }
                    }
                });
                const __exports = __forInstance98.exports;
                return __exports.data();
            })();
        }
        (() => {
            i = 0;
            const __forInstance99 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return i < island.m_contactCount ? 1 : 0;
                    },
                    update: () => {
                        ++i;
                    },
                    body: () => {
                        {
                            c = island.m_contacts[i];
                            c.m_flags &= ~(b2Contact.e_toiFlag | b2Contact.e_islandFlag);
                        }
                    }
                }
            });
            const __exports = __forInstance99.exports;
            return __exports.data();
        })();
        (() => {
            i = 0;
            const __forInstance100 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return i < island.m_jointCount ? 1 : 0;
                    },
                    update: () => {
                        ++i;
                    },
                    body: () => {
                        {
                            j = island.m_joints[i];
                            j.m_islandFlag = false;
                        }
                    }
                }
            });
            const __exports = __forInstance100.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance61 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_contactManager.FindNewContacts();
                    }
                }
            });
            const __exports = __callInstance61.exports;
            return __exports.data();
        })();
    }
};
b2World.prototype.DrawJoint = function (joint) {
    var b1 = joint.GetBodyA();
    var b2 = joint.GetBodyB();
    var xf1 = b1.m_xf;
    var xf2 = b2.m_xf;
    var x1 = xf1.position;
    var x2 = xf2.position;
    var p1 = joint.GetAnchorA();
    var p2 = joint.GetAnchorB();
    var color = b2World.s_jointColor;
    switch (joint.m_type) {
    case b2Joint.e_distanceJoint:
        (() => {
            const __callInstance60 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_debugDraw.DrawSegment(p1, p2, color);
                    }
                }
            });
            const __exports = __callInstance60.exports;
            return __exports.data();
        })();
        break;
    case b2Joint.e_pulleyJoint:
        var pulley = joint;
        var s1 = pulley.GetGroundAnchorA();
        var s2 = pulley.GetGroundAnchorB();
        (() => {
            const __callInstance59 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_debugDraw.DrawSegment(s1, p1, color);
                    }
                }
            });
            const __exports = __callInstance59.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance58 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_debugDraw.DrawSegment(s2, p2, color);
                    }
                }
            });
            const __exports = __callInstance58.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance57 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_debugDraw.DrawSegment(s1, s2, color);
                    }
                }
            });
            const __exports = __callInstance57.exports;
            return __exports.data();
        })();
        break;
    case b2Joint.e_mouseJoint:
        (() => {
            const __callInstance56 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_debugDraw.DrawSegment(p1, p2, color);
                    }
                }
            });
            const __exports = __callInstance56.exports;
            return __exports.data();
        })();
        break;
    default:
        (() => {
            const __ifInstance310 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance55 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.m_debugDraw.DrawSegment(x1, p1, color);
                                        }
                                    }
                                });
                                const __exports = __callInstance55.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance310.exports;
            return __exports.data(b1 != this.m_groundBody ? 1 : 0);
        })();
        (() => {
            const __callInstance54 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_debugDraw.DrawSegment(p1, p2, color);
                    }
                }
            });
            const __exports = __callInstance54.exports;
            return __exports.data();
        })();
        (() => {
            const __ifInstance311 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance53 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.m_debugDraw.DrawSegment(x2, p2, color);
                                        }
                                    }
                                });
                                const __exports = __callInstance53.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance311.exports;
            return __exports.data(b2 != this.m_groundBody ? 1 : 0);
        })();
    }
};
b2World.prototype.DrawShape = function (shape, xf, color) {
    switch (shape.m_type) {
    case b2Shape.e_circleShape:
        var circle = shape;
        var center = b2Math.MulX(xf, circle.m_p);
        var radius = circle.m_radius;
        var axis = xf.R.col1;
        (() => {
            const __callInstance52 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_debugDraw.DrawSolidCircle(center, radius, axis, color);
                    }
                }
            });
            const __exports = __callInstance52.exports;
            return __exports.data();
        })();
        break;
    case b2Shape.e_polygonShape:
        var i = 0;
        var poly = shape;
        var vertexCount = poly.GetVertexCount();
        var localVertices = poly.GetVertices();
        var vertices = new Array(vertexCount);
        (() => {
            i = 0;
            const __forInstance101 = new WebAssembly.Instance(__forWasmModule, {
                env: {
                    test: () => {
                        return i < vertexCount ? 1 : 0;
                    },
                    update: () => {
                        ++i;
                    },
                    body: () => {
                        {
                            vertices[i] = b2Math.MulX(xf, localVertices[i]);
                        }
                    }
                }
            });
            const __exports = __forInstance101.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance51 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_debugDraw.DrawSolidPolygon(vertices, vertexCount, color);
                    }
                }
            });
            const __exports = __callInstance51.exports;
            return __exports.data();
        })();
        break;
    case b2Shape.e_edgeShape:
        var edge = shape;
        (() => {
            const __callInstance50 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.m_debugDraw.DrawSegment(b2Math.MulX(xf, edge.GetVertex1()), b2Math.MulX(xf, edge.GetVertex2()), color);
                    }
                }
            });
            const __exports = __callInstance50.exports;
            return __exports.data();
        })();
        break;
    }
};
b2World.prototype.SetDestructionListener = function (listener) {
    this.m_destructionListener = listener;
};
b2World.prototype.SetContactFilter = function (filter) {
    this.m_contactManager.m_contactFilter = filter;
};
b2World.prototype.SetContactListener = function (listener) {
    this.m_contactManager.m_contactListener = listener;
};
b2World.prototype.SetDebugDraw = function (debugDraw) {
    this.m_debugDraw = debugDraw;
};
b2World.prototype.SetBroadPhase = function (broadPhase) {
    var oldBroadPhase = this.m_contactManager.m_broadPhase;
    this.m_contactManager.m_broadPhase = broadPhase;
    (() => {
        var b = this.m_bodyList;
        const __forInstance102 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return b ? 1 : 0;
                },
                update: () => {
                    b = b.m_next;
                },
                body: () => {
                    {
                        (() => {
                            var f = b.m_fixtureList;
                            const __forInstance103 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return f ? 1 : 0;
                                    },
                                    update: () => {
                                        f = f.m_next;
                                    },
                                    body: () => {
                                        {
                                            f.m_proxy = broadPhase.CreateProxy(oldBroadPhase.GetFatAABB(f.m_proxy), f);
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance103.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance102.exports;
        return __exports.data();
    })();
};
b2World.prototype.Validate = function () {
    (() => {
        const __callInstance49 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_contactManager.m_broadPhase.Validate();
                }
            }
        });
        const __exports = __callInstance49.exports;
        return __exports.data();
    })();
};
b2World.prototype.GetProxyCount = function () {
    return this.m_contactManager.m_broadPhase.GetProxyCount();
};
b2World.prototype.CreateBody = function (def) {
    if (this.IsLocked() == true) {
        return null;
    }
    var b = new b2Body(def, this);
    b.m_prev = null;
    b.m_next = this.m_bodyList;
    (() => {
        const __ifInstance312 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_bodyList.m_prev = b;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance312.exports;
        return __exports.data(this.m_bodyList ? 1 : 0);
    })();
    this.m_bodyList = b;
    ++this.m_bodyCount;
    return b;
};
b2World.prototype.DestroyBody = function (b) {
    if (this.IsLocked() == true) {
        return;
    }
    var jn = b.m_jointList;
    (() => {
        const __forInstance126 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return jn ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        var jn0 = jn;
                        jn = jn.next;
                        (() => {
                            const __ifInstance313 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance48 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_destructionListener.SayGoodbyeJoint(jn0.joint);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance48.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance313.exports;
                            return __exports.data(this.m_destructionListener ? 1 : 0);
                        })();
                        (() => {
                            const __callInstance47 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.DestroyJoint(jn0.joint);
                                    }
                                }
                            });
                            const __exports = __callInstance47.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance126.exports;
        return __exports.data();
    })();
    var coe = b.m_controllerList;
    (() => {
        const __forInstance127 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return coe ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        var coe0 = coe;
                        coe = coe.nextController;
                        (() => {
                            const __callInstance46 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        coe0.controller.RemoveBody(b);
                                    }
                                }
                            });
                            const __exports = __callInstance46.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance127.exports;
        return __exports.data();
    })();
    var ce = b.m_contactList;
    (() => {
        const __forInstance128 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return ce ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        var ce0 = ce;
                        ce = ce.next;
                        (() => {
                            const __callInstance45 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_contactManager.Destroy(ce0.contact);
                                    }
                                }
                            });
                            const __exports = __callInstance45.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance128.exports;
        return __exports.data();
    })();
    b.m_contactList = null;
    var f = b.m_fixtureList;
    (() => {
        const __forInstance129 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return f ? 1 : 0;
                },
                update: () => {
                },
                body: () => {
                    {
                        var f0 = f;
                        f = f.m_next;
                        (() => {
                            const __ifInstance314 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance44 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_destructionListener.SayGoodbyeFixture(f0);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance44.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance314.exports;
                            return __exports.data(this.m_destructionListener ? 1 : 0);
                        })();
                        (() => {
                            const __callInstance43 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        f0.DestroyProxy(this.m_contactManager.m_broadPhase);
                                    }
                                }
                            });
                            const __exports = __callInstance43.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance42 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        f0.Destroy();
                                    }
                                }
                            });
                            const __exports = __callInstance42.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance129.exports;
        return __exports.data();
    })();
    b.m_fixtureList = null;
    b.m_fixtureCount = 0;
    (() => {
        const __ifInstance315 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        b.m_prev.m_next = b.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance315.exports;
        return __exports.data(b.m_prev ? 1 : 0);
    })();
    (() => {
        const __ifInstance316 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        b.m_next.m_prev = b.m_prev;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance316.exports;
        return __exports.data(b.m_next ? 1 : 0);
    })();
    (() => {
        const __ifInstance317 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_bodyList = b.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance317.exports;
        return __exports.data(b == this.m_bodyList ? 1 : 0);
    })();
    --this.m_bodyCount;
};
b2World.prototype.CreateJoint = function (def) {
    var j = b2Joint.Create(def, null);
    j.m_prev = null;
    j.m_next = this.m_jointList;
    (() => {
        const __ifInstance318 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_jointList.m_prev = j;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance318.exports;
        return __exports.data(this.m_jointList ? 1 : 0);
    })();
    this.m_jointList = j;
    ++this.m_jointCount;
    j.m_edgeA.joint = j;
    j.m_edgeA.other = j.m_bodyB;
    j.m_edgeA.prev = null;
    j.m_edgeA.next = j.m_bodyA.m_jointList;
    (() => {
        const __ifInstance319 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        j.m_bodyA.m_jointList.prev = j.m_edgeA;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance319.exports;
        return __exports.data(j.m_bodyA.m_jointList ? 1 : 0);
    })();
    j.m_bodyA.m_jointList = j.m_edgeA;
    j.m_edgeB.joint = j;
    j.m_edgeB.other = j.m_bodyA;
    j.m_edgeB.prev = null;
    j.m_edgeB.next = j.m_bodyB.m_jointList;
    (() => {
        const __ifInstance320 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        j.m_bodyB.m_jointList.prev = j.m_edgeB;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance320.exports;
        return __exports.data(j.m_bodyB.m_jointList ? 1 : 0);
    })();
    j.m_bodyB.m_jointList = j.m_edgeB;
    var bodyA = def.bodyA;
    var bodyB = def.bodyB;
    (() => {
        const __ifInstance321 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var edge = bodyB.GetContactList();
                        (() => {
                            const __forInstance130 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return edge ? 1 : 0;
                                    },
                                    update: () => {
                                    },
                                    body: () => {
                                        {
                                            (() => {
                                                const __ifInstance322 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance41 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                edge.contact.FlagForFiltering();
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance41.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance322.exports;
                                                return __exports.data(edge.other == bodyA ? 1 : 0);
                                            })();
                                            edge = edge.next;
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance130.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance321.exports;
        return __exports.data(def.collideConnected == false ? 1 : 0);
    })();
    return j;
};
b2World.prototype.DestroyJoint = function (j) {
    var collideConnected = j.m_collideConnected;
    (() => {
        const __ifInstance323 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        j.m_prev.m_next = j.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance323.exports;
        return __exports.data(j.m_prev ? 1 : 0);
    })();
    (() => {
        const __ifInstance324 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        j.m_next.m_prev = j.m_prev;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance324.exports;
        return __exports.data(j.m_next ? 1 : 0);
    })();
    (() => {
        const __ifInstance325 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_jointList = j.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance325.exports;
        return __exports.data(j == this.m_jointList ? 1 : 0);
    })();
    var bodyA = j.m_bodyA;
    var bodyB = j.m_bodyB;
    (() => {
        const __callInstance40 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bodyA.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance40.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance39 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    bodyB.SetAwake(true);
                }
            }
        });
        const __exports = __callInstance39.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance326 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        j.m_edgeA.prev.next = j.m_edgeA.next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance326.exports;
        return __exports.data(j.m_edgeA.prev ? 1 : 0);
    })();
    (() => {
        const __ifInstance327 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        j.m_edgeA.next.prev = j.m_edgeA.prev;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance327.exports;
        return __exports.data(j.m_edgeA.next ? 1 : 0);
    })();
    (() => {
        const __ifInstance328 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        bodyA.m_jointList = j.m_edgeA.next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance328.exports;
        return __exports.data(j.m_edgeA == bodyA.m_jointList ? 1 : 0);
    })();
    j.m_edgeA.prev = null;
    j.m_edgeA.next = null;
    (() => {
        const __ifInstance329 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        j.m_edgeB.prev.next = j.m_edgeB.next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance329.exports;
        return __exports.data(j.m_edgeB.prev ? 1 : 0);
    })();
    (() => {
        const __ifInstance330 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        j.m_edgeB.next.prev = j.m_edgeB.prev;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance330.exports;
        return __exports.data(j.m_edgeB.next ? 1 : 0);
    })();
    (() => {
        const __ifInstance331 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        bodyB.m_jointList = j.m_edgeB.next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance331.exports;
        return __exports.data(j.m_edgeB == bodyB.m_jointList ? 1 : 0);
    })();
    j.m_edgeB.prev = null;
    j.m_edgeB.next = null;
    (() => {
        const __callInstance38 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    b2Joint.Destroy(j, null);
                }
            }
        });
        const __exports = __callInstance38.exports;
        return __exports.data();
    })();
    --this.m_jointCount;
    (() => {
        const __ifInstance332 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var edge = bodyB.GetContactList();
                        (() => {
                            const __forInstance131 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return edge ? 1 : 0;
                                    },
                                    update: () => {
                                    },
                                    body: () => {
                                        {
                                            (() => {
                                                const __ifInstance333 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance37 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                edge.contact.FlagForFiltering();
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance37.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance333.exports;
                                                return __exports.data(edge.other == bodyA ? 1 : 0);
                                            })();
                                            edge = edge.next;
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance131.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance332.exports;
        return __exports.data(collideConnected == false ? 1 : 0);
    })();
};
b2World.prototype.AddController = function (c) {
    c.m_next = this.m_controllerList;
    c.m_prev = null;
    this.m_controllerList = c;
    c.m_world = this;
    this.m_controllerCount++;
    return c;
};
b2World.prototype.RemoveController = function (c) {
    (() => {
        const __ifInstance334 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        c.m_prev.m_next = c.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance334.exports;
        return __exports.data(c.m_prev ? 1 : 0);
    })();
    (() => {
        const __ifInstance335 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        c.m_next.m_prev = c.m_prev;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance335.exports;
        return __exports.data(c.m_next ? 1 : 0);
    })();
    (() => {
        const __ifInstance336 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_controllerList = c.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance336.exports;
        return __exports.data(this.m_controllerList == c ? 1 : 0);
    })();
    this.m_controllerCount--;
};
b2World.prototype.CreateController = function (controller) {
    if (controller.m_world != this) {
        throw new Error(lS(0, 26));
    }
    controller.m_next = this.m_controllerList;
    controller.m_prev = null;
    (() => {
        const __ifInstance337 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_controllerList.m_prev = controller;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance337.exports;
        return __exports.data(this.m_controllerList ? 1 : 0);
    })();
    this.m_controllerList = controller;
    ++this.m_controllerCount;
    controller.m_world = this;
    return controller;
};
b2World.prototype.DestroyController = function (controller) {
    (() => {
        const __callInstance36 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    controller.Clear();
                }
            }
        });
        const __exports = __callInstance36.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance338 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        controller.m_next.m_prev = controller.m_prev;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance338.exports;
        return __exports.data(controller.m_next ? 1 : 0);
    })();
    (() => {
        const __ifInstance339 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        controller.m_prev.m_next = controller.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance339.exports;
        return __exports.data(controller.m_prev ? 1 : 0);
    })();
    (() => {
        const __ifInstance340 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_controllerList = controller.m_next;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance340.exports;
        return __exports.data(controller == this.m_controllerList ? 1 : 0);
    })();
    --this.m_controllerCount;
};
b2World.prototype.SetWarmStarting = function (flag) {
    b2World.m_warmStarting = flag;
};
b2World.prototype.SetContinuousPhysics = function (flag) {
    b2World.m_continuousPhysics = flag;
};
b2World.prototype.GetBodyCount = function () {
    return this.m_bodyCount;
};
b2World.prototype.GetJointCount = function () {
    return this.m_jointCount;
};
b2World.prototype.GetContactCount = function () {
    return this.m_contactCount;
};
b2World.prototype.SetGravity = function (gravity) {
    this.m_gravity = gravity;
};
b2World.prototype.GetGravity = function () {
    return this.m_gravity;
};
b2World.prototype.GetGroundBody = function () {
    return this.m_groundBody;
};
b2World.prototype.Step = function (dt, velocityIterations, positionIterations) {
    (() => {
        const __ifInstance341 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance35 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.m_contactManager.FindNewContacts();
                                    }
                                }
                            });
                            const __exports = __callInstance35.exports;
                            return __exports.data();
                        })();
                        this.m_flags &= ~b2World.e_newFixture;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance341.exports;
        return __exports.data(this.m_flags & b2World.e_newFixture ? 1 : 0);
    })();
    this.m_flags |= b2World.e_locked;
    var step = b2World.s_timestep2;
    step.dt = dt;
    step.velocityIterations = velocityIterations;
    step.positionIterations = positionIterations;
    (() => {
        const __ifInstance342 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        step.inv_dt = 1 / dt;
                    }
                },
                impFunc2: () => {
                    {
                        step.inv_dt = 0;
                    }
                }
            }
        });
        const __exports = __ifInstance342.exports;
        return __exports.data(dt > 0 ? 1 : 0);
    })();
    step.dtRatio = this.m_inv_dt0 * dt;
    step.warmStarting = b2World.m_warmStarting;
    (() => {
        const __callInstance34 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_contactManager.Collide();
                }
            }
        });
        const __exports = __callInstance34.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance343 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance33 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.Solve(step);
                                    }
                                }
                            });
                            const __exports = __callInstance33.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance343.exports;
        return __exports.data(step.dt > 0 ? 1 : 0);
    })();
    (() => {
        const __ifInstance344 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance32 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.SolveTOI(step);
                                    }
                                }
                            });
                            const __exports = __callInstance32.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance344.exports;
        return __exports.data(b2World.m_continuousPhysics && step.dt > 0 ? 1 : 0);
    })();
    (() => {
        const __ifInstance345 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        this.m_inv_dt0 = step.inv_dt;
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance345.exports;
        return __exports.data(step.dt > 0 ? 1 : 0);
    })();
    this.m_flags &= ~b2World.e_locked;
};
b2World.prototype.ClearForces = function () {
    (() => {
        var body = this.m_bodyList;
        const __forInstance104 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return body ? 1 : 0;
                },
                update: () => {
                    body = body.m_next;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance31 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        body.m_force.SetZero();
                                    }
                                }
                            });
                            const __exports = __callInstance31.exports;
                            return __exports.data();
                        })();
                        body.m_torque = 0;
                    }
                }
            }
        });
        const __exports = __forInstance104.exports;
        return __exports.data();
    })();
};
b2World.prototype.DrawDebugData = function () {
    if (this.m_debugDraw == null) {
        return;
    }
    (() => {
        const __callInstance30 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.m_debugDraw.Clear();
                }
            }
        });
        const __exports = __callInstance30.exports;
        return __exports.data();
    })();
    var flags = this.m_debugDraw.GetFlags();
    var i = 0;
    var b;
    var f;
    var s;
    var j;
    var bp;
    var invQ = new b2Vec2();
    var x1 = new b2Vec2();
    var x2 = new b2Vec2();
    var xf;
    var b1 = new b2AABB();
    var b2 = new b2AABB();
    var vs = [
        new b2Vec2(),
        new b2Vec2(),
        new b2Vec2(),
        new b2Vec2()
    ];
    var color = new b2Color(0, 0, 0);
    (() => {
        const __ifInstance346 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            b = this.m_bodyList;
                            const __forInstance105 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return b ? 1 : 0;
                                    },
                                    update: () => {
                                        b = b.m_next;
                                    },
                                    body: () => {
                                        {
                                            xf = b.m_xf;
                                            (() => {
                                                f = b.GetFixtureList();
                                                const __forInstance106 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return f ? 1 : 0;
                                                        },
                                                        update: () => {
                                                            f = f.m_next;
                                                        },
                                                        body: () => {
                                                            {
                                                                s = f.GetShape();
                                                                (() => {
                                                                    const __ifInstance347 = new WebAssembly.Instance(__ifWasmModule, {
                                                                        env: {
                                                                            impFunc1: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __callInstance29 = new WebAssembly.Instance(__callWasmModule, {
                                                                                            env: {
                                                                                                impFunc: () => {
                                                                                                    color.Set(0.5, 0.5, 0.3);
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __callInstance29.exports;
                                                                                        return __exports.data();
                                                                                    })();
                                                                                    (() => {
                                                                                        const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
                                                                                            env: {
                                                                                                impFunc: () => {
                                                                                                    this.DrawShape(s, xf, color);
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __callInstance28.exports;
                                                                                        return __exports.data();
                                                                                    })();
                                                                                }
                                                                            },
                                                                            impFunc2: () => {
                                                                                {
                                                                                    (() => {
                                                                                        const __ifInstance348 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                            env: {
                                                                                                impFunc1: () => {
                                                                                                    {
                                                                                                        (() => {
                                                                                                            const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc: () => {
                                                                                                                        color.Set(0.5, 0.9, 0.5);
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __callInstance27.exports;
                                                                                                            return __exports.data();
                                                                                                        })();
                                                                                                        (() => {
                                                                                                            const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc: () => {
                                                                                                                        this.DrawShape(s, xf, color);
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __callInstance26.exports;
                                                                                                            return __exports.data();
                                                                                                        })();
                                                                                                    }
                                                                                                },
                                                                                                impFunc2: () => {
                                                                                                    {
                                                                                                        (() => {
                                                                                                            const __ifInstance349 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                                                env: {
                                                                                                                    impFunc1: () => {
                                                                                                                        {
                                                                                                                            (() => {
                                                                                                                                const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                                    env: {
                                                                                                                                        impFunc: () => {
                                                                                                                                            color.Set(0.5, 0.5, 0.9);
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                });
                                                                                                                                const __exports = __callInstance25.exports;
                                                                                                                                return __exports.data();
                                                                                                                            })();
                                                                                                                            (() => {
                                                                                                                                const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                                    env: {
                                                                                                                                        impFunc: () => {
                                                                                                                                            this.DrawShape(s, xf, color);
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                });
                                                                                                                                const __exports = __callInstance24.exports;
                                                                                                                                return __exports.data();
                                                                                                                            })();
                                                                                                                        }
                                                                                                                    },
                                                                                                                    impFunc2: () => {
                                                                                                                        {
                                                                                                                            (() => {
                                                                                                                                const __ifInstance350 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                                                                    env: {
                                                                                                                                        impFunc1: () => {
                                                                                                                                            {
                                                                                                                                                (() => {
                                                                                                                                                    const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                                                        env: {
                                                                                                                                                            impFunc: () => {
                                                                                                                                                                color.Set(0.6, 0.6, 0.6);
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    });
                                                                                                                                                    const __exports = __callInstance23.exports;
                                                                                                                                                    return __exports.data();
                                                                                                                                                })();
                                                                                                                                                (() => {
                                                                                                                                                    const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                                                        env: {
                                                                                                                                                            impFunc: () => {
                                                                                                                                                                this.DrawShape(s, xf, color);
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    });
                                                                                                                                                    const __exports = __callInstance22.exports;
                                                                                                                                                    return __exports.data();
                                                                                                                                                })();
                                                                                                                                            }
                                                                                                                                        },
                                                                                                                                        impFunc2: () => {
                                                                                                                                            {
                                                                                                                                                (() => {
                                                                                                                                                    const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                                                        env: {
                                                                                                                                                            impFunc: () => {
                                                                                                                                                                color.Set(0.9, 0.7, 0.7);
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    });
                                                                                                                                                    const __exports = __callInstance21.exports;
                                                                                                                                                    return __exports.data();
                                                                                                                                                })();
                                                                                                                                                (() => {
                                                                                                                                                    const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                                                                        env: {
                                                                                                                                                            impFunc: () => {
                                                                                                                                                                this.DrawShape(s, xf, color);
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    });
                                                                                                                                                    const __exports = __callInstance20.exports;
                                                                                                                                                    return __exports.data();
                                                                                                                                                })();
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                });
                                                                                                                                const __exports = __ifInstance350.exports;
                                                                                                                                return __exports.data(b.IsAwake() == false ? 1 : 0);
                                                                                                                            })();
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            });
                                                                                                            const __exports = __ifInstance349.exports;
                                                                                                            return __exports.data(b.GetType() == b2Body.b2_kinematicBody ? 1 : 0);
                                                                                                        })();
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        });
                                                                                        const __exports = __ifInstance348.exports;
                                                                                        return __exports.data(b.GetType() == b2Body.b2_staticBody ? 1 : 0);
                                                                                    })();
                                                                                }
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __ifInstance347.exports;
                                                                    return __exports.data(b.IsActive() == false ? 1 : 0);
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance106.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance105.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance346.exports;
        return __exports.data(flags & b2DebugDraw.e_shapeBit ? 1 : 0);
    })();
    (() => {
        const __ifInstance351 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            j = this.m_jointList;
                            const __forInstance107 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return j ? 1 : 0;
                                    },
                                    update: () => {
                                        j = j.m_next;
                                    },
                                    body: () => {
                                        {
                                            (() => {
                                                const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.DrawJoint(j);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance19.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance107.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance351.exports;
        return __exports.data(flags & b2DebugDraw.e_jointBit ? 1 : 0);
    })();
    (() => {
        const __ifInstance352 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            var c = this.m_controllerList;
                            const __forInstance108 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return c ? 1 : 0;
                                    },
                                    update: () => {
                                        c = c.m_next;
                                    },
                                    body: () => {
                                        {
                                            (() => {
                                                const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            c.Draw(this.m_debugDraw);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance18.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance108.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance352.exports;
        return __exports.data(flags & b2DebugDraw.e_controllerBit ? 1 : 0);
    })();
    (() => {
        const __ifInstance353 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        color.Set(0.3, 0.9, 0.9);
                                    }
                                }
                            });
                            const __exports = __callInstance17.exports;
                            return __exports.data();
                        })();
                        (() => {
                            var contact = this.m_contactManager.m_contactList;
                            const __forInstance109 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return contact ? 1 : 0;
                                    },
                                    update: () => {
                                        contact = contact.GetNext();
                                    },
                                    body: () => {
                                        {
                                            var fixtureA = contact.GetFixtureA();
                                            var fixtureB = contact.GetFixtureB();
                                            var cA = fixtureA.GetAABB().GetCenter();
                                            var cB = fixtureB.GetAABB().GetCenter();
                                            (() => {
                                                const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_debugDraw.DrawSegment(cA, cB, color);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance16.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance109.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance353.exports;
        return __exports.data(flags & b2DebugDraw.e_pairBit ? 1 : 0);
    })();
    if (flags & b2DebugDraw.e_aabbBit) {
        bp = this.m_contactManager.m_broadPhase;
        vs = [
            new b2Vec2(),
            new b2Vec2(),
            new b2Vec2(),
            new b2Vec2()
        ];
        for (b = this.m_bodyList; b; b = b.GetNext()) {
            if (b.IsActive() == false) {
                continue;
            }
            (() => {
                f = b.GetFixtureList();
                const __forInstance110 = new WebAssembly.Instance(__forWasmModule, {
                    env: {
                        test: () => {
                            return f ? 1 : 0;
                        },
                        update: () => {
                            f = f.GetNext();
                        },
                        body: () => {
                            {
                                var aabb = bp.GetFatAABB(f.m_proxy);
                                (() => {
                                    const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                vs[0].Set(aabb.lowerBound.x, aabb.lowerBound.y);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance15.exports;
                                    return __exports.data();
                                })();
                                (() => {
                                    const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                vs[1].Set(aabb.upperBound.x, aabb.lowerBound.y);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance14.exports;
                                    return __exports.data();
                                })();
                                (() => {
                                    const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                vs[2].Set(aabb.upperBound.x, aabb.upperBound.y);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance13.exports;
                                    return __exports.data();
                                })();
                                (() => {
                                    const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                vs[3].Set(aabb.lowerBound.x, aabb.upperBound.y);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance12.exports;
                                    return __exports.data();
                                })();
                                (() => {
                                    const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                this.m_debugDraw.DrawPolygon(vs, 4, color);
                                            }
                                        }
                                    });
                                    const __exports = __callInstance11.exports;
                                    return __exports.data();
                                })();
                            }
                        }
                    }
                });
                const __exports = __forInstance110.exports;
                return __exports.data();
            })();
        }
    }
    (() => {
        const __ifInstance354 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            b = this.m_bodyList;
                            const __forInstance111 = new WebAssembly.Instance(__forWasmModule, {
                                env: {
                                    test: () => {
                                        return b ? 1 : 0;
                                    },
                                    update: () => {
                                        b = b.m_next;
                                    },
                                    body: () => {
                                        {
                                            xf = b2World.s_xf;
                                            xf.R = b.m_xf.R;
                                            xf.position = b.GetWorldCenter();
                                            (() => {
                                                const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            this.m_debugDraw.DrawTransform(xf);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance10.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __forInstance111.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance354.exports;
        return __exports.data(flags & b2DebugDraw.e_centerOfMassBit ? 1 : 0);
    })();
};
b2World.prototype.QueryAABB = function (callback, aabb) {
    var broadPhase = this.m_contactManager.m_broadPhase;
    function WorldQueryWrapper(proxy) {
        return callback(broadPhase.GetUserData(proxy));
    }
    (() => {
        const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    broadPhase.Query(WorldQueryWrapper, aabb);
                }
            }
        });
        const __exports = __callInstance9.exports;
        return __exports.data();
    })();
};
b2World.prototype.QueryShape = function (callback, shape, transform) {
    (() => {
        const __ifInstance355 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        transform = new b2Transform();
                        (() => {
                            const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        transform.SetIdentity();
                                    }
                                }
                            });
                            const __exports = __callInstance8.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance355.exports;
        return __exports.data(transform == null ? 1 : 0);
    })();
    var broadPhase = this.m_contactManager.m_broadPhase;
    function WorldQueryWrapper(proxy) {
        var fixture = broadPhase.GetUserData(proxy);
        if (b2Shape.TestOverlap(shape, transform, fixture.GetShape(), fixture.GetBody().GetTransform())) {
            return callback(fixture);
        }
        return true;
    }
    var aabb = new b2AABB();
    (() => {
        const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    shape.ComputeAABB(aabb, transform);
                }
            }
        });
        const __exports = __callInstance7.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    broadPhase.Query(WorldQueryWrapper, aabb);
                }
            }
        });
        const __exports = __callInstance6.exports;
        return __exports.data();
    })();
};
b2World.prototype.QueryPoint = function (callback, p) {
    var broadPhase = this.m_contactManager.m_broadPhase;
    function WorldQueryWrapper(proxy) {
        var fixture = broadPhase.GetUserData(proxy);
        if (fixture.TestPoint(p)) {
            return callback(fixture);
        }
        return true;
    }
    var aabb = new b2AABB();
    (() => {
        const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    aabb.lowerBound.Set(p.x - b2Settings.b2_linearSlop, p.y - b2Settings.b2_linearSlop);
                }
            }
        });
        const __exports = __callInstance5.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    aabb.upperBound.Set(p.x + b2Settings.b2_linearSlop, p.y + b2Settings.b2_linearSlop);
                }
            }
        });
        const __exports = __callInstance4.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    broadPhase.Query(WorldQueryWrapper, aabb);
                }
            }
        });
        const __exports = __callInstance3.exports;
        return __exports.data();
    })();
};
b2World.prototype.RayCast = function (callback, point1, point2) {
    var broadPhase = this.m_contactManager.m_broadPhase;
    var output = new b2RayCastOutput();
    function RayCastWrapper(input, proxy) {
        var userData = broadPhase.GetUserData(proxy);
        var fixture = userData;
        var hit = fixture.RayCast(output, input);
        if (hit) {
            var fraction = output.fraction;
            var point = new b2Vec2((1 - fraction) * point1.x + fraction * point2.x, (1 - fraction) * point1.y + fraction * point2.y);
            return callback(fixture, point, output.normal, fraction);
        }
        return input.maxFraction;
    }
    var input = new b2RayCastInput(point1, point2);
    (() => {
        const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    broadPhase.RayCast(RayCastWrapper, input);
                }
            }
        });
        const __exports = __callInstance2.exports;
        return __exports.data();
    })();
};
b2World.prototype.RayCastOne = function (point1, point2) {
    var result;
    function RayCastOneWrapper(fixture, point, normal, fraction) {
        result = fixture;
        return fraction;
    }
    (() => {
        const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.RayCast(RayCastOneWrapper, point1, point2);
                }
            }
        });
        const __exports = __callInstance1.exports;
        return __exports.data();
    })();
    return result;
};
b2World.prototype.RayCastAll = function (point1, point2) {
    var result = new Array();
    function RayCastAllWrapper(fixture, point, normal, fraction) {
        result[result.length] = fixture;
        return 1;
    }
    (() => {
        const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.RayCast(RayCastAllWrapper, point1, point2);
                }
            }
        });
        const __exports = __callInstance0.exports;
        return __exports.data();
    })();
    return result;
};
b2World.prototype.GetBodyList = function () {
    return this.m_bodyList;
};
b2World.prototype.GetJointList = function () {
    return this.m_jointList;
};
b2World.prototype.GetContactList = function () {
    return this.m_contactList;
};
b2World.prototype.IsLocked = function () {
    return (this.m_flags & b2World.e_locked) > 0;
};
b2World.prototype.s_stack = new Array();
b2World.prototype.m_flags = 0;
b2World.prototype.m_contactManager = new b2ContactManager();
b2World.prototype.m_contactSolver = new b2ContactSolver();
b2World.prototype.m_island = new b2Island();
b2World.prototype.m_bodyList = null;
b2World.prototype.m_jointList = null;
b2World.prototype.m_contactList = null;
b2World.prototype.m_bodyCount = 0;
b2World.prototype.m_contactCount = 0;
b2World.prototype.m_jointCount = 0;
b2World.prototype.m_controllerList = null;
b2World.prototype.m_controllerCount = 0;
b2World.prototype.m_gravity = null;
b2World.prototype.m_allowSleep = null;
b2World.prototype.m_groundBody = null;
b2World.prototype.m_destructionListener = null;
b2World.prototype.m_debugDraw = null;
b2World.prototype.m_inv_dt0 = null;
(() => {
    const __ifInstance356 = new WebAssembly.Instance(__ifWasmModule, {
        env: {
            impFunc1: () => {
                {
                    exports.b2BoundValues = b2BoundValues;
                    exports.b2Math = b2Math;
                    exports.b2DistanceOutput = b2DistanceOutput;
                    exports.b2Mat33 = b2Mat33;
                    exports.b2ContactPoint = b2ContactPoint;
                    exports.b2PairManager = b2PairManager;
                    exports.b2PositionSolverManifold = b2PositionSolverManifold;
                    exports.b2OBB = b2OBB;
                    exports.b2CircleContact = b2CircleContact;
                    exports.b2PulleyJoint = b2PulleyJoint;
                    exports.b2Pair = b2Pair;
                    exports.b2TimeStep = b2TimeStep;
                    exports.b2FixtureDef = b2FixtureDef;
                    exports.b2World = b2World;
                    exports.b2PrismaticJoint = b2PrismaticJoint;
                    exports.b2Controller = b2Controller;
                    exports.b2ContactID = b2ContactID;
                    exports.b2RevoluteJoint = b2RevoluteJoint;
                    exports.b2JointDef = b2JointDef;
                    exports.b2Transform = b2Transform;
                    exports.b2GravityController = b2GravityController;
                    exports.b2EdgeAndCircleContact = b2EdgeAndCircleContact;
                    exports.b2EdgeShape = b2EdgeShape;
                    exports.b2BuoyancyController = b2BuoyancyController;
                    exports.b2LineJointDef = b2LineJointDef;
                    exports.b2Contact = b2Contact;
                    exports.b2DistanceJoint = b2DistanceJoint;
                    exports.b2Body = b2Body;
                    exports.b2DestructionListener = b2DestructionListener;
                    exports.b2PulleyJointDef = b2PulleyJointDef;
                    exports.b2ContactEdge = b2ContactEdge;
                    exports.b2ContactConstraint = b2ContactConstraint;
                    exports.b2ContactImpulse = b2ContactImpulse;
                    exports.b2DistanceJointDef = b2DistanceJointDef;
                    exports.b2ContactResult = b2ContactResult;
                    exports.b2EdgeChainDef = b2EdgeChainDef;
                    exports.b2Vec2 = b2Vec2;
                    exports.b2Vec3 = b2Vec3;
                    exports.b2DistanceProxy = b2DistanceProxy;
                    exports.b2FrictionJointDef = b2FrictionJointDef;
                    exports.b2PolygonContact = b2PolygonContact;
                    exports.b2TensorDampingController = b2TensorDampingController;
                    exports.b2ContactFactory = b2ContactFactory;
                    exports.b2WeldJointDef = b2WeldJointDef;
                    exports.b2ConstantAccelController = b2ConstantAccelController;
                    exports.b2GearJointDef = b2GearJointDef;
                    exports.ClipVertex = ClipVertex;
                    exports.b2SeparationFunction = b2SeparationFunction;
                    exports.b2ManifoldPoint = b2ManifoldPoint;
                    exports.b2Color = b2Color;
                    exports.b2PolygonShape = b2PolygonShape;
                    exports.b2DynamicTreePair = b2DynamicTreePair;
                    exports.b2ContactConstraintPoint = b2ContactConstraintPoint;
                    exports.b2FrictionJoint = b2FrictionJoint;
                    exports.b2ContactFilter = b2ContactFilter;
                    exports.b2ControllerEdge = b2ControllerEdge;
                    exports.b2Distance = b2Distance;
                    exports.b2Fixture = b2Fixture;
                    exports.b2DynamicTreeNode = b2DynamicTreeNode;
                    exports.b2MouseJoint = b2MouseJoint;
                    exports.b2DistanceInput = b2DistanceInput;
                    exports.b2BodyDef = b2BodyDef;
                    exports.b2DynamicTreeBroadPhase = b2DynamicTreeBroadPhase;
                    exports.b2Settings = b2Settings;
                    exports.b2Proxy = b2Proxy;
                    exports.b2Point = b2Point;
                    exports.b2BroadPhase = b2BroadPhase;
                    exports.b2Manifold = b2Manifold;
                    exports.b2WorldManifold = b2WorldManifold;
                    exports.b2PrismaticJointDef = b2PrismaticJointDef;
                    exports.b2RayCastOutput = b2RayCastOutput;
                    exports.b2ConstantForceController = b2ConstantForceController;
                    exports.b2TimeOfImpact = b2TimeOfImpact;
                    exports.b2CircleShape = b2CircleShape;
                    exports.b2MassData = b2MassData;
                    exports.b2Joint = b2Joint;
                    exports.b2GearJoint = b2GearJoint;
                    exports.b2DynamicTree = b2DynamicTree;
                    exports.b2JointEdge = b2JointEdge;
                    exports.b2LineJoint = b2LineJoint;
                    exports.b2NullContact = b2NullContact;
                    exports.b2ContactListener = b2ContactListener;
                    exports.b2RayCastInput = b2RayCastInput;
                    exports.b2TOIInput = b2TOIInput;
                    exports.Features = Features;
                    exports.b2FilterData = b2FilterData;
                    exports.b2Island = b2Island;
                    exports.b2ContactManager = b2ContactManager;
                    exports.b2ContactSolver = b2ContactSolver;
                    exports.b2Simplex = b2Simplex;
                    exports.b2AABB = b2AABB;
                    exports.b2Jacobian = b2Jacobian;
                    exports.b2Bound = b2Bound;
                    exports.b2RevoluteJointDef = b2RevoluteJointDef;
                    exports.b2PolyAndEdgeContact = b2PolyAndEdgeContact;
                    exports.b2SimplexVertex = b2SimplexVertex;
                    exports.b2WeldJoint = b2WeldJoint;
                    exports.b2Collision = b2Collision;
                    exports.b2Mat22 = b2Mat22;
                    exports.b2SimplexCache = b2SimplexCache;
                    exports.b2PolyAndCircleContact = b2PolyAndCircleContact;
                    exports.b2MouseJointDef = b2MouseJointDef;
                    exports.b2Shape = b2Shape;
                    exports.b2Segment = b2Segment;
                    exports.b2ContactRegister = b2ContactRegister;
                    exports.b2DebugDraw = b2DebugDraw;
                    exports.b2Sweep = b2Sweep;
                }
            },
            impFunc2: () => {
            }
        }
    });
    const __exports = __ifInstance356.exports;
    return __exports.data(typeof exports !== lS(0, 27) ? 1 : 0);
})();
;</script>
</body>
</html>
