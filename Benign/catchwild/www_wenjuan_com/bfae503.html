<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bfae503.html</title>
</head>
<body>

<script>
(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{1360:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return d}));var n=r(2);function o(e){return n.c.post("/api/deployment/member/login/",e)}function c(e){return n.c.post("/app_api/common/api/answer_record/",e)}function l(e){return n.c.get("/api/deployment/member/role/",e)}function d(){return n.c.get("/common/api/get_license_expire/")}},1711:function(e,t,r){e.exports={}},2081:function(e,t,r){"use strict";r(1711)},2413:function(e,t,r){"use strict";r.r(t);r(14),r(17),r(22),r(5),r(37),r(9),r(31);var n=r(10),o=r(48),c=r(137),l=(r(178),r(75)),d=r.n(l),f=r(12),m=(r(52),r(13),r(33),r(43),r(49),r(78),r(180),r(165),r(1360)),v=r(105),h=["nexturl"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var O={name:"PrivateLogin",pageProps:{validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.route,r=e.store,o=e.redirect;e.req.headers;return Object(v.f)().then((function(data){var e=t.query;if(r.commit("setLoginStatus",{loggedIn:1}),r.commit("setUserInfo",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({_init:!0},data)),e.nexturl){var c=JSON.parse(JSON.stringify(e));delete c.nexturl,o({path:e.nexturl,query:c})}else o({path:"/list",query:t.query});return!0})).catch((function(e){return console.log("--- 获取用户登录信息失败 login --\x3e ",e),!0}))},head:function(){return{title:"".concat("问卷网"," - 登录")}}},data:function(){return{errorInfo:{account:"",password:""},ruleForm:{account:"",password:""},rules:{account:[{required:!0,message:"请输入用户名/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{keydownControl:function(e){13==e.keyCode&&this.handleLogin()},handleLogin:function(){var e=this;return Object(f.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.errorInfo={account:"",password:""},t.next=3,e.$refs.ruleForm.clearValidate();case 3:e.$refs.ruleForm.validate((function(t){t&&Object(m.c)({account:e.ruleForm.account,password:e.ruleForm.password}).then((function(t){var r=e.getNextUrl();console.log(r),e.jumpToUrl(r)})).catch((function(t){var r,n=(t||{}).data,data=void 0===n?{}:n;if(310002!=data.err_code)300004!=data.err_code?d()({message:t&&(null===(r=t.data)||void 0===r?void 0:r.err_msg)||"登录失败",type:"error"}):e.errorInfo={account:" ",password:"您的账号已被禁用，请联系企业管理员"};else{var o,c,l=(null==data?void 0:data.err_details)||"";window.location.href="/forbid/expiration?admin=".concat(encodeURIComponent((null==l||null===(o=l.superadmin)||void 0===o?void 0:o.nickname)||(null==l||null===(c=l.superadmin)||void 0===c?void 0:c.username)||""))}}))}));case 4:case"end":return t.stop()}}),t)})))()},getNextUrl:function(){var e,t;console.log(this.$route.query);var r=(null===(e=this.$route.query)||void 0===e?void 0:e.fission_id)||null,n=(null===(t=this.$route.query)||void 0===t?void 0:t.nexturl)||null,o="/list";return r&&/^[a-z0-9A-Z_\-=]+$/.test(r)?o="/list/?fission_id=".concat(r):n&&(o=n),o&&(o=o.replace(/&amp;/g,"&")),o},jumpToUrl:function(e){var t=this,r=this.guideTaskQuestion(),n=r.nexturl,o=void 0===n?e:n,c=r.pid,l=void 0===c?"":c,d=r.rid,f=void 0===d?"":d,m=r.projectId,data={project_id:l||(void 0===m?"":m),rid:f};({back:function(data){window.location.href=o},list:function(data){t.appendProjectRidSize(data,o)},default:function(r){window.location.href.includes("pay")?window.payClickHandler():window.location.href=t.changeUrlParams(e)}})[r.guide||r.default](data)},guideTaskQuestion:function(){var e=window.location.search,t={guide:"default"},r=this.getUrlParamsToObject(e);if(r.next){r.next=decodeURIComponent(r.next);var n=this.getUrlParamsToObject(r.next),o=(n.nexturl,Object(c.a)(n,h));r.nexturl=r.next.replace(/nexturl=.*?&/,""),Object.assign(r,{guide:"back"},o),Reflect.deleteProperty(r,"next")}else r.nexturl&&(r.nexturl=decodeURIComponent(r.nexturl));return Object.assign(t,r),t},getUrlParamsToObject:function(e){var t,r=e.includes("?")?null===(t=e.split("?"))||void 0===t?void 0:t[1]:e;return null==r?void 0:r.split("&").filter((function(e){return!!e})).reduce((function(p,e){var t=e.split("="),r=Object(o.a)(t,2),n=r[0],c=r[1];return p[n]=c,p}),{})},appendProjectRidSize:function(data,e){Object(m.d)(data).then((function(t){1===t.status_code||console.log("有错误数据交互",t),window.location.href=e})).catch((function(e){console.log("有错误数据交互",e)}))},changeUrlParams:function(e){var t=window.location.search;return["utm_source=fission&fission_copy=1","fission_id="].every((function(e){return t.includes(e)}))&&e.startsWith("/list")?(e||"").split("?")[0]+t:e}}},y=O,j=(r(2081),r(25)),P=Object(j.a)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"private-login",on:{keydown:e.keydownControl}},[t("div",{staticClass:"login-wapper"},[t("div",{staticClass:"left-box"}),e._v(" "),t("div",{staticClass:"right-box"},[t("div",{staticClass:"login-box"},[t("span",{staticClass:"title"},[e._v("账号登录")]),e._v(" "),t("wd-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[t("wd-form-item",{attrs:{prop:"account",error:e.errorInfo.account}},[t("wd-input",{attrs:{placeholder:"请输入用户名/手机号/邮箱"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),e._v(" "),t("wd-form-item",{attrs:{prop:"password",error:e.errorInfo.password}},[t("wd-input",{attrs:{type:"password",placeholder:"请输入密码",autocomplete:"new-password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1)],1),e._v(" "),t("wd-button",{staticClass:"login-btn",attrs:{size:"second",type:"primary"},on:{click:e.handleLogin}},[e._v("登录")])],1)])])])}),[],!1,null,"f2a332d4",null).exports,x=(r(2082),r(2083)),_=r.n(x),k=["nextUrl","nexturl"];function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={name:"SassLogin",components:{LoginScreen:_.a},pageProps:{validate:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.route,n=r.fullPath,o=r.path,l=t.store,d=t.redirect,f=t.req.headers,m=t.query,v=l.state.isMobile;l.state.loginStatus.host=f.host||"https://www.wenjuan.com/",v&&d("/m".concat(n)),null!=l&&null!==(e=l.state)&&void 0!==e&&null!==(e=e.loginStatus)&&void 0!==e&&e.loggedIn&&_.a.methods.jumpToUrl({fullPath:n}).then((function(e){d(e||"/list?form=login")}));var h=m||{},w=h.nextUrl,O=void 0===w?"":w,y=h.nexturl,j=void 0===y?"":y,P=Object(c.a)(h,k),x=O||j;return(x&&!x.startsWith("/")||["://","https","http","."].some((function(e){return x.includes(e)})))&&d({path:o,query:U(U({},P),{},{form:"login/validate"})}),!0},head:function(e){var t=e.$store.state.loginStatus.host,r="https://".concat(t,"/login/"),n="https://".concat(t,"/m/login/");return{title:"官网注册登录入口_问卷网-免费问卷调查平台",link:[{hid:"canonical",rel:"canonical",href:r},{hid:"alternate",rel:"alternate",href:n,media:'media="only screen and (max-width:640px)'},{rel:"manifest",href:"/pwa/manifests.json"}],meta:[{hid:"keywords",name:"keywords",content:"问卷,问卷网,问卷网注册,问卷网登录"},{name:"description",hid:"description",content:"免费问卷调查平台-问卷网，拥有创新的编辑界面和结果分析界面，海量的问卷和表单模板，提供20余万精品模板；支持微信，微博，QQ等多种发布模式。专注于为企业和个人提供问卷表单的创建，发布，管理，收集及分析服务。"},{name:"mobile-agent",hid:"mobile-agent",content:"format=html5;url=".concat(n)},{hid:"viewport",name:"viewport",content:"width=device-width, initial-scale=1.0"},{hid:"applicable-device"}]}}}},L=C,F=Object(j.a)(L,(function(){return(0,this._self._c)("LoginScreen")}),[],!1,null,null,null).exports;function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=I(I({},F.pageProps),{},{name:"RegisterLogin",components:{PrivateLogin:P,SassLogin:F},data:function(){return{isPrivateMode:!1}}}),$=Object(j.a)(R,(function(){var e=this._self._c;return this.isPrivateMode?e("PrivateLogin"):e("SassLogin",{ref:"SassLogin"})}),[],!1,null,null,null);t.default=$.exports}}]);
//# sourceMappingURL=bfae503.js.map
</script>

</body>
</html>
