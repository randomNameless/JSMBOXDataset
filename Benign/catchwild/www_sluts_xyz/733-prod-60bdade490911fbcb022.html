<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>733-prod-60bdade490911fbcb022.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_multimediallc_cb_ts=self.webpackChunk_multimediallc_cb_ts||[]).push([[733],{3360:(e,t,i)=>{i.d(t,{K:()=>p});var s=i(8861),a=i(5216),n=i(2709),r=i(9060),o=i(7407),l=i(4947),h=i(9461),c=i(1224),d=i(5411);class p extends n.u{constructor(){super(),this.element.style.position="relative",this.element.style.display="none",this.innerDiv=document.createElement("div"),this.innerDiv.className="top_alert",this.element.appendChild(this.innerDiv);const e=document.createElement("span");e.className="top_alert_close",e.innerText="Ã—",e.style.fontSize="2em",e.dataset.testid="mobile-site-notice-close",this.innerDiv.appendChild(e),e.onclick=()=>{(0,s.uC)("mobile_redirect_hide","true",{hours:18},"/",(0,r.DV)()),this.element.style.display="none"};const t=document.createElement("div"),i=document.createElement("span");i.textContent=l.R.improvedMobileSite(c.m.siteName),t.appendChild(i);const a=document.createElement("div"),n=document.createElement("ul");n.style.listStyleType="disc";const h=document.createElement("li");h.textContent=l.R.myCollectionText;const p=document.createElement("li");p.textContent=l.R.satisfactionVoting;const m=document.createElement("li");m.textContent=l.R.reportAbuse,n.appendChild(h),n.appendChild(p),n.appendChild(m),a.appendChild(n);const u=document.createElement("div"),g=document.createElement("span");g.innerHTML=l.R.visitMobileSiteOrFeedback(),this.mobileLink=g.querySelectorAll("a")[0],this.mobileLink.dataset.testid="mobile-site-notice-link";const T=g.querySelectorAll("a")[1];u.appendChild(g),this.mobileLink.onclick=()=>{(0,o.bT)("MobileAlertLinkClicked")},T.onclick=()=>{(0,o.bT)("MobileAlertSurveyClicked"),d.E.fire({source:"desktop_on_mobile"})},this.innerDiv.appendChild(t),this.innerDiv.appendChild(a),this.innerDiv.appendChild(u)}show(e){let t;t=h.Bm.current.removeMobileSubdomain?"?mobile_site=1":void 0!==e?`https://m.chaturbate.com/mobile/?b=${e}&source=desktop`:"https://m.chaturbate.com",this.mobileLink.href=(0,a._Y)(t),this.element.style.display="block"}}},6474:(e,t,i)=>{i.d(t,{$:()=>T});var s=i(8638),a=i(6624),n=i(4936),r=i(2939),o=i(8423),l=i(7882),h=i(4947),c=i(1372),d=i(9461),p=i(1224),m=i(9930);const u=`${STATIC_URL_ROOT}image/logo-square.png`,g="marker";class T{constructor(){this.listenerGroup=new o.gt,this.bindChangesOnListener()}bindChangesOnListener(){const e=()=>{this.replaceContentBetweenMarkers(g,this.createMetaDataFragment(this.props))};a.UrlState.current.listenGlobal(a.ALL_NO_PAGE,(t=>{void 0===t.room?(this.props={...this.props,gender:void 0!==t.genders&&t.genders.length>0?t.genders[0]:l.YT.All,premium:t.showType===a.ShowType.PRIVATE,hashtag:void 0!==t.tags&&t.tags.length>0?t.tags[0]:"",roomName:void 0,defaultImage:u,twitterImage:void 0},e()):document.title=this.getDocumentTitle(t.room)})),r.X0.listen((t=>{var i;this.listenerGroup.removeAll();const s="offline"!==t.dossier.roomStatus,n=t.dossier.room;this.props={...this.props,gender:null!==(i=l.IL.get(t.dossier.roomGender))&&void 0!==i?i:l.YT.All,roomName:n,roomSubject:t.dossier.roomTitle,roomOnline:s,defaultImage:this.getOGMetaImage(s,n),twitterImage:t.dossier.summaryCardImage},e(),t.chatConnection.event.titleChange.listen((i=>{a.UrlState.current.state.pageType===a.PageType.ROOM&&a.UrlState.current.state.room===t.dossier.room&&(this.props={...this.props,roomSubject:i},e())}),!1).addTo(this.listenerGroup)}))}getNewURLWithCurrentPathAndSearch(e){const t=new URL(e);return t.pathname=window.location.pathname,t.search=window.location.search,t.toString()}createLanguageLinks(){if(d.Bm.current.isMobile)return[];const e=new URLSearchParams(window.location.search),t=new URL(window.location.href);return[(0,c.tT)("link",{rel:"alternate",hrefLang:"x-default",href:t.toString()}),...window.siteLanguages.map((i=>(e.set("language",i),t.search=e.toString(),(0,c.tT)("link",{rel:"alternate",hrefLang:i,href:t.toString()}))))]}getRssLinkTitle(e,t){let i=h.R.featuredText;const s=(0,n.nx)(p.m.siteName);return t?i=h.R.premiumShowsCaps:e===l.YT.Female?i=h.R.femaleText:e===l.YT.Male?i=h.R.maleText:e===l.YT.Couple?i=h.R.coupleText:e===l.YT.Trans&&(i=h.R.transText),h.R.rssLinkTitle(i,s)}getRssLinkHref(e,t){const i=new URLSearchParams;return e!==l.YT.All&&i.set("gender",e),t&&i.set("premium","1"),`/feed/latest/?${i.toString()}`}createRssLinks(e,t,i){const s=[];if(!d.Bm.current.isMobile&&void 0===i){if(t||e===l.YT.All){const i=(0,c.tT)("link",{rel:"alternate",type:"application/rss+xml",href:this.getRssLinkHref(e,t),title:this.getRssLinkTitle(e,t)});s.push(i)}if(e!==l.YT.All){const t=(0,c.tT)("link",{rel:"alternate",type:"application/rss+xml",href:this.getRssLinkHref(e,!1),title:this.getRssLinkTitle(e,!1)});s.push(t)}}return s}roomlistMetaDescription(e,t){const i=[],s=(0,n.nx)(window.location.hostname);return e===l.YT.Female?i.push(h.R.metaDescriptionFemale(s)):e===l.YT.Male?i.push(h.R.metaDescriptionMale(s)):e===l.YT.Couple?i.push(h.R.metaDescriptionCouples(s)):e===l.YT.Trans||e===l.YT.OldTrans?i.push(h.R.metaDescriptionTrans(s)):i.push(h.R.metaDescriptionDefault),t&&i.push(h.R.metaDescriptionPremium),i.join("\n")}getMetaDescription(e,t,i){return void 0!==i?h.R.metaDescriptionSiteDefault:this.roomlistMetaDescription(e,t)}getMetaKeywords(e,t,i,s){if(void 0!==s)return h.R.metaKeywordsSiteDefault;const a=[];return""!==i&&a.push(h.R.metaKeywordsHashtag(i)),e===l.YT.Female?a.push(h.R.metaKeywordsFemale):e===l.YT.Male?a.push(h.R.metaKeywordsMale):e===l.YT.Couple?a.push(h.R.metaKeywordsCouple):e===l.YT.Trans||e===l.YT.OldTrans?a.push(h.R.metaKeywordsTrans):t||a.push(h.R.metaKeywordsDefault),t&&a.push(h.R.metaKeywordsPremium),a.join(" ")}getDocumentTitle(e){return void 0!==e?h.R.documentTitle(e,p.m.siteName):(0,m.v_)()}roomlistOGMetaTitle(e,t,i){let s="";const a=(0,n.nx)(p.m.siteName);return s=t?h.R.metaTitlePremium(a):""!==i?h.R.metaTitleHashtag(a,(0,n.nx)(i)):e===l.YT.Female?h.R.metaTitleFemale(a):e===l.YT.Male?h.R.metaTitleMale(a):e===l.YT.Couple?h.R.metaTitleCouples(a):e===l.YT.Trans||e===l.YT.OldTrans?h.R.metaTitleTrans(a):h.R.metaTitleDefault(a),s}getOGMetaTitle(e,t,i,a){if(void 0!==a){const e=(0,n.nx)(a),t=(0,n.nx)(p.m.siteName);return s.i._({id:"U6o7XV",message:"Watch {roomNameTitleCase} live on {siteNameTitleCase}!",values:{roomNameTitleCase:e,siteNameTitleCase:t}})}return this.roomlistOGMetaTitle(e,t,i)}roomlistOGMetaDescription(e,t,i){let s="";return s=t?h.R.metaContentCardDescriptionPremium:""!==i?h.R.metaContentCardDescriptionHashtag((0,n.nx)(i)):e===l.YT.Female?h.R.metaContentCardDescriptionFemale:e===l.YT.Male?h.R.metaContentCardDescriptionMale:e===l.YT.Couple?h.R.metaContentCardDescriptionCouples:e===l.YT.Trans||e===l.YT.OldTrans?h.R.metaContentCardDescriptionTrans:h.R.metaContentCardDescriptionDefault,s}getOGMetaDescription(e,t,i,s,a){return void 0!==s?null!=a?a:"":this.roomlistOGMetaDescription(e,t,i)}getOGMetaImage(e,t){return void 0!==t&&e?`${p.m.jpegRoomImgUrl}ri/${t}.jpg?${Math.floor((new Date).getTime()/3e4)}`:u}getTwitterImage(e,t){const i=void 0!==t&&""!==t,s=i?t:e;return(0,c.tT)(c.FK,null,(0,c.tT)("meta",{name:"twitter:card",content:i?"summary_large_image":"summary"}),(0,c.tT)("meta",{name:"twitter:image",content:s}))}createMetaDataFragment(e){const{gender:t,premium:i,hashtag:s,roomName:a,roomOnline:n,roomSubject:r,twitterImage:o,defaultImage:l}=e,h=this.getNewURLWithCurrentPathAndSearch(p.m.canonicalBaseUrl),m=!0!==n;return(0,c.tT)(c.FK,null,(0,c.tT)("link",{rel:"canonical",href:h}),this.createLanguageLinks(),!p.m.isWhiteLabel&&!d.Bm.current.removeMobileSubdomain&&(0,c.tT)("link",{rel:"alternate",media:"only screen and (max-width: 640px)",href:this.getNewURLWithCurrentPathAndSearch(`https://m.${p.c.CBAlias}/`)}),void 0===a&&this.createRssLinks(t,i),(0,c.tT)("meta",{name:"msvalidate.01",content:"7198395454E8014E0B82A087701FE16B"}),p.m.isWhiteLabel?Boolean(p.m.metaDescription)&&(0,c.tT)("meta",{name:"description",content:p.m.metaDescription}):(0,c.tT)(c.FK,null,(0,c.tT)("meta",{name:"description",content:this.getMetaDescription(t,i,a)}),(0,c.tT)("meta",{name:"keywords",content:this.getMetaKeywords(t,i,s,a)}),(0,c.tT)("meta",{name:"Rating",content:"mature"}),(0,c.tT)("meta",{name:"RATING",content:"RTA-5042-1996-1400-1577-RTA"})),(0,c.tT)("title",null,this.getDocumentTitle(a)),(0,c.tT)("meta",{property:"og:type",content:"website"}),(0,c.tT)("meta",{property:"og:title",content:this.getOGMetaTitle(t,i,s,a)}),(0,c.tT)("meta",{property:"og:description",content:this.getOGMetaDescription(t,i,s,a,r)}),(0,c.tT)("meta",{property:"og:image",content:m?u:this.getOGMetaImage(n,a)}),(0,c.tT)("meta",{property:"og:image:height",content:""+(m?1e3:270)}),(0,c.tT)("meta",{property:"og:image:width",content:""+(m?1e3:360)}),(0,c.tT)("meta",{property:"og:url",content:this.getNewURLWithCurrentPathAndSearch(`https://${p.c.CBAlias}/`)}),this.getTwitterImage(l,o),void 0!==a&&(0,c.tT)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}))}replaceContentBetweenMarkers(e,t){const i=(e,t)=>"META"===e.nodeName&&e.getAttribute(`data-${g}`)===t;let s,a=!1;const n=[];for(const e of document.head.children){if(i(e,"end")){a=!0;break}void 0!==s&&n.push(e),i(e,"start")&&(s=e)}void 0!==s&&a?((e=>{for(const t of e)document.head.removeChild(t)})(n),s.after(t)):error("Unable to update meta data due to malformed meta tags",{dataAttribute:e,startingElementFound:void 0!==s,endElementFound:a})}}},7415:(e,t,i)=>{i.d(t,{R:()=>u});var s=i(8638),a=i(6624),n=i(4936),r=i(82),o=i(3955),l=i(7882),h=i(4947),c=i(1372),d=i(4873),p=i(7404),m=i(6037);class u extends r.b{createElement(){return(0,c.tT)("ul",{className:"sub-nav genderTabs"},(0,c.tT)("li",{className:"gender-tab"},(0,c.tT)("a",{"data-paction":"TopTab",ref:e=>this.firstTab=e,onClick:e=>{this.onTabClick(e,l.YT.All)},bind:{text:()=>this.getFirstTabText(),href:()=>this.getLink(l.YT.All),className:()=>`gender-tab${this.isFirstTabActive()?" active":""}${a.UrlState.current.state.pageType===a.PageType.ROOM?" activeRoom":""}`,"data-TestId":()=>`top-section-tab-${this.getFirstTabText().toLowerCase()}`}}," ",s.i._({id:"7E6rF5",message:"FEATURED"}))),[[s.i._({id:"WDelzC",message:"WOMEN"}),"women",l.YT.Female],[s.i._({id:"OyyTfC",message:"MEN"}),"men",l.YT.Male],[s.i._({id:"uQLof0",message:"COUPLES"}),"couples",l.YT.Couple],[s.i._({id:"1yC3iy",message:"TRANS"}),"trans",l.YT.Trans]].map((e=>{let[t,i,s]=e;return(0,c.tT)("li",{className:"gender-tab"},(0,c.tT)("a",{"data-paction":"TopTab","data-testid":`top-section-tab-${i}`,onClick:e=>{this.onTabClick(e,s)},bind:{href:()=>this.getLink(s),display:()=>this.shouldShowGenders()?"inline-block":"none",className:()=>"gender-tab tabElement tabElementLink"+(this.isGenderTabActive(s)?" active":"")}},t))})))}isGenderTabActive(e){var t;return a.UrlState.current.state.pageType!==a.PageType.ROOM&&(null===(t=a.UrlState.current.state.genders)||void 0===t?void 0:t[0])===e}isFirstTabActive(){return void 0===a.UrlState.current.state.genders||a.UrlState.current.state.pageType===a.PageType.ROOM}onTabClick(e,t){(0,o.eH)(e,(()=>{a.UrlState.current.state.pageType===a.PageType.HOME?a.UrlState.current.setPartialState({genders:t!==l.YT.All?[t]:void 0}):t===l.YT.All&&a.UrlState.current.state.pageType===a.PageType.ROOM||a.UrlState.current.navigateTo(e.currentTarget.href)}))}shouldShowGenders(){return a.UrlState.current.state.pageType!==a.PageType.HOME||a.UrlState.current.state.showType!==a.ShowType.FOLLOW_OFFLINE}initUI(e){super.initUI(e),a.UrlState.current.listen(["pageType","genders","showType","room"],(()=>{this.updateState()}),this.element),window.setTimeout((()=>{this.makeGenderTabsResponsive(),this.tabsDropdown=this.makeExpandableDropDown(),this.addChild(this.tabsDropdown),this.updateState()}))}updateState(){super.updateState()}makeGenderTabsResponsive(){Array.from(this.element.children).filter((e=>e instanceof HTMLElement&&"none"!==e.style.display)).forEach((e=>{if(e instanceof HTMLElement){e.style.display="inline-block",e.style.position="relative",e.style.font=getComputedStyle(e).font;const t=new d.g2(e);t.onCollapseEvent.listen((e=>{t.element.style.margin=e?"5px 0":"",t.element.style.display=e?"block":"inline-block"})),e.firstElementChild instanceof HTMLAnchorElement&&(e.firstElementChild.classList.add("hover-event"),(0,o.JR)(e.firstElementChild,{ignoreTouch:!0}).listen((t=>{var i,s;t?null===(i=e.firstElementChild)||void 0===i||i.classList.add("hover"):null===(s=e.firstElementChild)||void 0===s||s.classList.remove("hover")}))),this.attachChild(t)}}))}makeExpandableDropDown(){const e=new d.Dw;return e.setSpacerWidth(12),e.element.classList.add("gender-tab"),e.dropDown.toggleEvent.listen((e=>{m.lc.fire(e.isShowing)})),p.W.listen((()=>{e.collapseIfNeeded(),window.setTimeout((()=>{e.collapseIfNeeded()}),250)})),(0,o.ZM)(e,{borderWidth:"1px",borderStyle:"solid",borderRadius:"4px 4px 0 0",height:"27px",lineHeight:"27px",marginRight:"2px",width:"41px"}),(0,o.ZM)(e.dropDown,{padding:"8px 20px 8px 0",width:"108px"}),e}get maxAvailableNonTabSpace(){var e,t;const i=this.firstTab.offsetWidth+(null!==(e=null===(t=this.tabsDropdown)||void 0===t?void 0:t.element.offsetWidth)&&void 0!==e?e:0);return this.element.offsetWidth-i}getFirstTabText(){return a.UrlState.current.state.pageType===a.PageType.ROOM&&void 0!==a.UrlState.current.state.room?`${(0,n.VE)(a.UrlState.current.state.room)}'s Cam`:a.UrlState.current.state.pageType===a.PageType.TAGS?h.R.allTagsCAPS:void 0!==a.UrlState.current.state.showType&&[a.ShowType.FOLLOW_OFFLINE,a.ShowType.FOLLOW,a.ShowType.PRIVATE].includes(a.UrlState.current.state.showType)?h.R.allGendersCAPS:h.R.featuredCAPS}getLink(e){const t=a.UrlState.current.state;return e===l.YT.All&&t.pageType===a.PageType.ROOM?`/${t.room}`:a.UrlState.current.convertStateToUrl({pageType:t.pageType===a.PageType.ROOM?a.PageType.HOME:t.pageType,showType:t.pageType===a.PageType.HOME?t.showType:void 0,genders:[e]})}}},4691:(e,t,i)=>{i.d(t,{p:()=>h});var s=i(6624),a=i(82),n=i(4947),r=i(1372),o=i(9461),l=i(1816);class h extends a.b{createElement(e){return(0,r.tT)("p",{className:"filters-info"})}alertLinks(e){return(0,r.tT)("span",{"data-testid":"not-visible-regions-filters-info"},(0,r.tT)("span",null,n.R.notShowingFromRegions," "),e.map(((t,i)=>(0,r.tT)("span",null,(0,r.tT)("a",{className:"advanced_search_region",href:"#"},t),(0,r.tT)("span",null,i===e.length-1?"":i<e.length-2?", ":` ${n.R.and} `)))))}initUI(e){super.initUI(e),this.selectedRegions=o.Bm.current.regions,this.advancedSearchOptions=e.advancedSearchOptions,this.regionChangeListener=this.advancedSearchOptions.regionsChanged.listen((e=>{this.selectedRegions=""!==e?e:s.AllRegionValues.join(","),this.updateAlertMessage()})),this.updateAlertMessage()}updateAlertMessage(){const e=(0,s.getRegionCategoryFilter)(),t=(i=void 0===e?this.selectedRegions:e,s.AllRegionValues.filter((e=>!i.includes(e))).map((e=>{var t;return null!==(t=l.gB.get(e))&&void 0!==t?t:""})));var i;if(this.element.textContent="",t.length>0&&!(0,s.shouldShowHomepageFilters)()){const e=this.alertLinks(t);this.element.appendChild(e)}window.setTimeout((()=>{this.advancedSearchOptions.bindAdvancedSearchRegion()}))}dispose(){this.regionChangeListener.removeListener()}}},1816:(e,t,i)=>{i.d(t,{Dy:()=>o,EU:()=>r,Nj:()=>c,bw:()=>h,gB:()=>n,kD:()=>l});var s=i(6624),a=i(4947);const n=new Map([[s.Region.NorthAmerica,a.R.northAmericaTitle],[s.Region.SouthAmerica,a.R.southAmericaTitle],[s.Region.Asia,a.R.asiaTitle],[s.Region.EuropeRussia,a.R.europeRussiaTitle],[s.Region.Other,a.R.otherTitle]]),r=new Map([[s.PrivatePrices.Value6,a.R.hmpgFilterOpt6TksAbbrev],[s.PrivatePrices.Range12to18,a.R.hmpgFilterOpt12To18TksAbbrev],[s.PrivatePrices.Range30to42,a.R.hmpgFilterOpt30TksAbbrev],[s.PrivatePrices.Range60to72,a.R.hmpgFilterOpt60TksAbbrev],[s.PrivatePrices.Range90Plus,a.R.hmpgFilterOpt90TksAbbrev]]),o=new Map([[s.RoomSize.SMALL,a.R.intimateRoomSizeCategory],[s.RoomSize.MEDIUM,a.R.midSizeRoomSizeCategory],[s.RoomSize.LARGE,a.R.hiTrafficRoomSizeCategory]]),l=[{name:a.R.northAmericaTitle,queryParamValue:s.Region.NorthAmerica},{name:a.R.southAmericaTitle,queryParamValue:s.Region.SouthAmerica},{name:a.R.asiaTitle,queryParamValue:s.Region.Asia},{name:a.R.europeRussiaTitle,queryParamValue:s.Region.EuropeRussia},{name:a.R.otherTitle,queryParamValue:s.Region.Other}],h=[{name:a.R.hmpgFilterOpt6TksAbbrev,queryParamValue:s.PrivatePrices.Value6},{name:a.R.hmpgFilterOpt12To18TksAbbrev,queryParamValue:s.PrivatePrices.Range12to18},{name:a.R.hmpgFilterOpt30TksAbbrev,queryParamValue:s.PrivatePrices.Range30to42},{name:a.R.hmpgFilterOpt60TksAbbrev,queryParamValue:s.PrivatePrices.Range60to72},{name:a.R.hmpgFilterOpt90TksAbbrev,queryParamValue:s.PrivatePrices.Range90Plus}],c=[{name:a.R.intimateRoomSizeCategory,labelText:a.R.intimateRoomsLabel,queryParamValue:s.RoomSize.SMALL},{name:a.R.midSizeRoomSizeCategory,labelText:a.R.midSizeRoomsLabel,queryParamValue:s.RoomSize.MEDIUM},{name:a.R.hiTrafficRoomSizeCategory,labelText:a.R.hiTrafficRoomsLabel,queryParamValue:s.RoomSize.LARGE}]},1469:(e,t,i)=>{i.d(t,{V:()=>p});var s=i(6624),a=i(82),n=i(8423),r=i(9060),o=i(7407),l=i(4947),h=i(1372),c=i(4801),d=i(878);class p extends a.b{createElement(){return this.filtersIconWrapper=new c.T({component:"HomepageFiltersIcon",componentProps:{hasSelectedFilters:this.state.hasSelectedFilters}}),(0,h.tT)("div",{onClick:()=>this.handleClick(),bind:{className:()=>"homepageFilterButton "+(this.state.isActive?"active":""),display:()=>(0,s.shouldShowHomepageFilters)()?"block":"none"},"data-testid":"filter-button"},(0,h.tT)("div",{className:"homepageFiltersIconRoot"},this.filtersIconWrapper.element),(0,h.tT)("div",{colorClass:"text","data-testid":"filter-button-text"},l.R.filters))}initData(e){super.initData(e),s.UrlState.current.listen(s.ALL_NO_PAGE,(()=>{this.setState({...this.state,hasSelectedFilters:(0,s.homepageFiltersCurrentlyApplied)()})}),this.element),this.filterPanel=e.filterPanel,this.setState({hasSelectedFilters:(0,s.homepageFiltersCurrentlyApplied)(),isActive:(0,s.getFilterPanelOpenCached)()})}initUI(e){super.initUI(e),(0,r.rT)()&&p.filterPanelOpen.listen((e=>{this.setState({...this.state,isActive:e})}))}setActive(e){var t;this.setState({...this.state,isActive:e}),null===(t=this.filterPanel)||void 0===t||t.setState({isOpen:this.state.isActive}),(0,d.xX)(e)}updateState(){super.updateState(),this.filtersIconWrapper.update({hasSelectedFilters:this.state.hasSelectedFilters}),(0,r.rT)()&&(0,d.xX)(this.state.isActive)}handleClick(){(0,r.rT)()?this.setState({...this.state,isActive:!this.state.isActive}):this.setActive(!this.state.isActive),p.filterPanelOpen.fire(this.state.isActive),(0,o.bT)("HmpgFilterPanelMovement",{open:this.state.isActive})}}p.filterPanelOpen=new n.c_("filterPanelOpen")},2890:(e,t,i)=>{i.d(t,{a8:()=>r,c_:()=>d,mZ:()=>g,rC:()=>c});var s=i(6624),a=i(1048),n=i(9060);function r(e){return{...l(),...g(),...o(e),...h()}}function o(e){const t={};var i;return void 0===e&&(e=null!==(i=new URLSearchParams(window.location.search).get("keywords"))&&void 0!==i?i:""),e.length>0&&(t.keywords=e.slice(0,s.KEYWORDS_LENGTH_LIMIT)),t}function l(){const e={},t=(0,a.Bg)();return t!==a.YT.All&&(e.genders=t),e}function h(){const e={},t=(0,s.getParamsMinMaxAgeFilter)();void 0!==t&&(e.from_age=t[0],e.to_age=t[1]);const i=(0,s.getParamsRegionFilters)();void 0!==i&&(e.regions=i);const a=function(){const e=window.location.search,t=new URLSearchParams(e).get(s.PRIVATE_PRICES_FILTER_KEY);if(null!==t){const e=t.split(",").filter((e=>Object.values(s.PrivatePrices).includes(e))).map((e=>e));if(e.length>0)return(0,s.getPrivateTokenPricepointsFromFilterValue)(e)}}();if(void 0!==a&&(e.private_prices=a),(0,n.vG)()){const t=function(){const e=window.location.search,t=new URLSearchParams(e).get(s.QueryParams.spy_prices);if(null!==t){const e=t.split(",").filter((e=>Object.values(s.SpyShowPrices).includes(e))).map((e=>e));if(e.length>0)return(0,s.getSpyTokenPricepointsFromFilterValue)(e)}}();void 0!==t&&(e.spy_show_prices=t)}if((0,s.isRoomSizeFilteringActive)()){const t=(0,s.getParamsRoomSizeFilter)();void 0!==t&&(e.room_size=t)}if((0,s.isLanguageFilterActive)()){const t=(0,s.getParamsSpokenLanguagesFilter)();void 0!==t&&(e.spoken_languages=t)}return e}function c(){const e={},t=(0,s.getRegionCategoryFilter)();void 0!==t&&(e.regions=t);const i=p();void 0!==i&&([e.from_age,e.to_age]=i);const a=m();void 0!==a&&(e.private_prices=(0,s.getPrivateTokenPricepointsFromFilterValue)([a]));const n=function(){const e="current_app_use/",t=(0,s.getCleanedPathname)();if(t.startsWith(e))return t.slice(16).split("/")[0]}();void 0!==n&&(e.apps=n);const r=function(){const e="app/",t=(0,s.getCleanedPathname)();if(t.startsWith(e))return t.slice(4).split("/")[0]}();void 0!==r&&(e.asp_app=r);const o=(0,s.getCamTypeFilter)();o===s.ShowType.FOLLOW&&(e.offline=(0,s.isOfflineFollowed)()),void 0!==o&&(e[o]=!0);const l=(0,s.getPageHashtag)(!0);return void 0!==l&&(e.hashtags=l),e}function d(){return[(0,s.getRegionCategoryFilter)(),p(),m(),u()].some((e=>void 0!==e))}function p(){var e;const t=(0,s.getCategorySlug)();return null!==(e=s.AgeCategoryToFilterRange.get(t))&&void 0!==e?e:s.LegacyAgeCategoryToFilterRange.get(t)}function m(){const e=(0,s.getCategorySlug)();return s.PrivatePriceCategoryToFilterValues.get(e)}function u(){const e=(0,s.getCategorySlug)();return s.CamTypeCategoryToFilterKey.get(e)}function g(){const e={},t=document.getElementById("filter_location_form");if(null!==t&&!(0,s.shouldShowHomepageFilters)()){const i=t.querySelectorAll("input[type=checkbox]"),s=t.querySelectorAll("input[type=checkbox]:checked");i.length!==s.length&&s.length>0&&(e.regions=Array.from(s).map((e=>e.value)).join(","))}return e}},5294:(e,t,i)=>{i.d(t,{M:()=>o});var s=i(6624),a=i(82),n=i(4947),r=i(1372);class o extends a.b{constructor(e){super(e)}createElement(e){return(0,r.tT)("p",{className:"no-rooms-available","data-testid":"no-rooms-available",bind:{text:()=>this.messageString(),display:()=>!0===this.state.filterPanelActive?"none":0===this.state.numRooms?"":"none"}})}messageString(){const e=this.searchString();return e.length>0?n.R.noSearchResultsMatch(e):n.R.noRoomsAvailableFiltered}searchString(){const e=(0,s.getPageHashtag)(),[t,i]=(0,s.extractKeywords)();return void 0!==e&&i.push(e),[...t,...i.map((e=>`#${e}`))].join(" ")}}},3097:(e,t,i)=>{i.d(t,{z:()=>g});var s=i(6624),a=i(6716),n=i(1372),r=i(2945),o=i(7596),l=i(4936),h=i(5216),c=i(9060),d=i(5079);class p{constructor(e){this.apiUrl=e.apiUrl,this.currentPage=e.currentPage,this.pageSize=e.pageSize}setFilters(e){this.filters=e}setPage(e){this.currentPage=e}getPage(){var e;return null!==(e=this.currentPage)&&void 0!==e?e:1}getCurrentFilters(e){var t;return e=null!==(t=e)&&void 0!==t?t:this.getPage(),{...this.filters,...(0,s.getPaginationAPIParams)(e,this.pageSize)}}fetchPage(e,t,i){var a;let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t=null!==(a=t)&&void 0!==a?a:this.currentPage;const r=new URLSearchParams({...(0,s.getNonReservedQueryParamValues)(),...(0,c.rT)()?this.filters:this.getCurrentFilters(t)});return r.sort(),(null!=i?i:(0,h.Aw)(`${this.apiUrl}?${r.toString()}`).then((e=>e.responseText))).then((t=>this.parseResponse(t,e))).catch((i=>{if(warn("SPA rooms fetch failed",{pageNum:t,attempt:n,reason:i}),n<5)return this.fetchPage(e,t,void 0,n+1);throw i}))}parseResponse(e,t){var i,s,a;const n=new l.N6(e);return{loadedRooms:null!==(i=null===(s=n.getList("rooms"))||void 0===s?void 0:s.map((e=>(0,d.ak)(e))))&&void 0!==i?i:[],matchedCount:n.getNumber("total_count"),totalCount:null!==(a=n.getNumberOrUndefined("all_rooms_count"))&&void 0!==a?a:0,roomListId:n.getStringOrUndefined("room_list_id"),fetchId:t}}}var m=i(8374),u=i(9930);class g extends m.y{constructor(e){var t,i;super({roomListSource:"un",animate:e.animate,showLocation:e.showLocation,rooms:()=>this.state.loadedRooms,hashtag:null!==(t=e.hashtag)&&void 0!==t?t:()=>(0,s.getPageHashtag)(!0),sourceInfo:null!==(i=e.sourceInfo)&&void 0!==i?i:e=>e.roomInfo.sourceInfo}),this.fetchId=0,this.setPage=e=>{this.roomsIterator.setPage(e)},(0,s.isRoomRoomlistSpaActive)()||this.listeners.add(a.VZ.listen((e=>{void 0!==(0,r.JO)(window.location.search).join_overlay&&(0,u.X9)()||window.location.assign(`/${e}/`)}),!1)),this.categoryFilters={},this.filters={},this.props=e;const n=(0,s.getCurrentPage)(this.props.pageParam);if(this.roomsIterator=new p({apiUrl:e.apiUrl,currentPage:(0,s.isFilterInPathActive)()?1:n,pageSize:e.pageSize}),(0,s.isFilterInPathActive)()){this.state.loadedRooms=[];const e=document.querySelector(".roomlist_container.placeholder ul");this.placeholderRooms=Array.from(e.cloneNode(!0).children)}else this.setState({loadedRooms:[],roomListId:void 0});this.roomClickEvent.listen((()=>{(0,s.isFilterInPathActive)()&&(0,s.saveStickyFilters)(s.UrlState.current.state)}))}addPlaceHolderLoadingRooms(e){if((0,s.isFilterInPathActive)())return void this.element.append(...e?this.placeholderRooms:this.placeholderRooms.slice(0,5));let t=90;this.rooms.length>0&&(t=this.rooms.length),this.removeAllChildren();for(let e=0;e<t;e++)this.addChild((0,d.Eh)())}createElement(){return(0,n.tT)("ul",{className:"list endless_page_template","data-href":"skip"})}createRoomCard(e){return new T(e)}getOptionalSourceInfo(e,t){const i=super.getOptionalSourceInfo(e,t);return void 0!==this.state.roomListId&&(i.roomListId=this.state.roomListId),i}updateFilters(e,t){this.filters=e;const i={...this.filters,...this.categoryFilters};this.roomsIterator.setFilters(i),void 0!==t&&this.setPage(t)}setCategoryFilters(e){this.categoryFilters=e}fetchRooms(e,t){return this.fetchId+=1,void 0!==t&&this.roomsIterator.setFilters(t),this.showLoading(void 0!==e),new Promise(((t,i)=>{this.roomsIterator.fetchPage(this.fetchId,void 0,e).then((e=>{let{loadedRooms:i,totalCount:a,matchedCount:n,roomListId:r,fetchId:o}=e;if(o!==this.fetchId)return;const l=(0,s.isFilterInPathActive)()?void 0:this.roomsIterator.getPage();this.setState({...this.state,loadedRooms:i,roomListId:r}),t({totalCount:a,matchedCount:n,page:l})})).catch((e=>{i(e)})).finally((()=>{this.hideLoading()}))}))}showLoading(e){0===this.state.loadedRooms.length?(0,s.isFilterInPathActive)()?(this.element.append(...this.placeholderRooms),e||(this.element.style.maxHeight=`${this.placeholderRooms[0].offsetHeight+1}px`)):this.addPlaceHolderLoadingRooms(e):this.element.classList.add("loading")}hideLoading(){this.element.classList.remove("loading"),(0,s.isFilterInPathActive)()&&this.placeholderRooms.forEach((e=>e.remove())),this.element.style.maxHeight=""}removeAllChildren(){super.removeAllChildren(),this.removeAllDOMChildren()}}class T extends d.kb{createFollowStar(e){return(0,n.tT)(o.d,{slug:e.roomInfo.room,isFollowing:e.roomInfo.isFollowing,classRef:e=>this.followStar=e,allowPropagation:!0})}createElement(e){const t=super.createElement(e),i=e.roomInfo.extendedInfo;if(void 0!==i){var s,a,r,o,l,h,c;let e;e=Boolean(i.manualPenalty)?(0,n.tT)(n.FK,null,(0,n.tT)("s",null,i.defaultPenalty)," ",(0,n.tT)("b",null,i.manualPenalty)):(0,n.tT)("b",null,i.defaultPenalty);const d=null!==(s=i.coloredRegs)&&void 0!==s?s:0,p=(null!==(a=i.numRegs)&&void 0!==a?a:0)-d;t.appendChild((0,n.tT)("div",{className:"extended-room-info"},(0,n.tT)("span",null,(0,n.tT)("b",null,"Default:")," #",null!==(r=i.scoreRank)&&void 0!==r?r:"X"),(0,n.tT)("br",null),(0,n.tT)("span",null,(0,n.tT)("b",null,"Base:")," #",null!==(o=i.baseRank)&&void 0!==o?o:"X"),(0,n.tT)("br",null),(0,n.tT)("span",null,(0,n.tT)("b",null,"Satisfaction:")," ",null!==(l=i.satPercent)&&void 0!==l?l:"X","%"),(0,n.tT)("br",null),(0,n.tT)("span",null,(0,n.tT)("b",null,"Penalty:")," ",e),(0,n.tT)("br",null),(0,n.tT)("span",null,(0,n.tT)("b",null,"Grey:")," ",p," | Color: ",d),(0,n.tT)("br",null),(0,n.tT)("span",null,(0,n.tT)("b",null,"Tip rate:")," ",(null!==(h=i.tipRate)&&void 0!==h?h:0).toFixed(2),"/hr"),(0,n.tT)("br",null),(null!==(c=i.smallRoomScore)&&void 0!==c?c:0)>0?(0,n.tT)("span",null,(0,n.tT)("b",null,"Small room score:")," ",i.smallRoomScore):""))}return t}}},1345:(e,t,i)=>{i.d(t,{q:()=>Oe});var s=i(6624),a=i(7623),n=i(6784),r=i(2709),o=i(82),l=i(3955),h=i(9060),c=i(7882),d=i(7407),p=i(1372),m=i(6262),u=i(9461),g=i(7321),T=i(369),v=i(1968),S=i(1452),f=i(4947),w=i(5216);function y(e,t){return t===c.YT.All||""===e?(0,w._Y)(`/tag/${e}/`):(0,w._Y)(`/tag/${e}/${c.hf.get(t)}/`)}function R(e){const t="/tags/"+(e!==c.YT.All?`${c.hf.get(e)}/`:"");return(0,w._Y)(t)}var b=i(9930);class A extends o.b{constructor(e){super(e),this.props=e,g.HA.getInstance().addOnLoadHandler((()=>{this.updateState()}))}createElement(e){return(0,p.tT)("div",{className:"hashtag-ticker-container"})}updateState(){super.updateState(),(0,b.tb)(this.state.genders).then((e=>this.updateElement(e))).catch(S.h5)}updateElement(e){var t;null===(t=this.element.querySelector("#hashtag_ticker"))||void 0===t||t.remove(),e.length>0&&this.element.appendChild((0,p.tT)("div",{id:"hashtag_ticker","data-paction":"HomepageHashtag","data-paction-send-position":"true","data-testid":"hashtag-ticker"},(0,p.tT)("a",{id:"more_hashtags_link",href:R(this.getGender()),"data-testid":"more-hashtags-link"},f.R.moreTags),this.tagsRow(e)))}tagsRow(e){return e.map((e=>this.bindTagsPageAction((0,p.tT)("a",{className:"tag-link",href:y(e,this.getGender()),onClick:this.props.onTagClick},"#",e))))}getGender(){return this.state.genders.length>0?this.state.genders[0]:c.YT.All}bindTagsPageAction(e){return(0,n.wu)("click",e,(()=>{var t;(0,d.bT)("RoomsFilterTagsClicked",{tagName:null!==(t=e.textContent)&&void 0!==t?t:void 0,source:"HashtagTicker"})})),e}}var C=i(7415),P=i(3360),L=i(1469),E=i(4936),F=i(1816),U=i(4801);class I extends o.b{initUI(e){super.initUI(e),(0,h.rT)()||this.addToLabelSection()||window.setTimeout((()=>{this.addToLabelSection()}),250)}createElement(e){return(0,p.tT)("div",{className:"filterLabel","data-testid":"filter-label-remove","data-ishashtag":e.title.startsWith("#")},e.title,(0,p.tT)("div",{onClick:()=>{this.removeFilter(e)},className:"filterLabelRemove"},(0,p.tT)(U.T,{component:"RemoveFilterIcon",componentProps:{}})))}initData(e){super.initData(e),this.props=e}removeFilter(e){this.element.remove(),(0,d.bT)("HmpgFilterLabelClicked",{title:this.props.title}),e.onRemoval()}addToLabelSection(){const e=document.body.querySelector("div[class=filterLabelSection]");if(null!==e){const t=e.firstElementChild;if(t instanceof HTMLDivElement&&"true"===t.dataset.ishashtag){const t=e.children[1];e.insertBefore(this.element,t)}else e.prepend(this.element);return!0}return!1}getTitle(){return this.props.title}}class k extends o.b{createElement(e){return(0,p.tT)("div",{onClick:()=>{this.clearAll(e)},className:"filtersClearButton","data-testid":"filter-clear-button"},(0,p.tT)("div",{colorClass:"text"},f.R.clear))}clearAll(e){e.onClearAll()}initData(e){super.initData(e),this.showOrHideElement((0,s.homepageFiltersCurrentlyApplied)(),"inline-block"),(0,h.rT)()||s.UrlState.current.listen(s.ALL,(()=>{this.showOrHideElement((0,s.homepageFiltersCurrentlyApplied)(),"inline-block")}),this.element)}}var O=i(8638),M=i(6440);class _ extends o.b{createElement(e){return(0,p.tT)("div",{className:"filterSection","data-testid":"filter-spy-show-tokens-per-minute-section",bind:{display:()=>s.UrlState.current.state.showType===s.ShowType.PRIVATE?"block":"none"}},(0,p.tT)("div",{className:"filterSectionHeader","data-testid":"filter-spy-show-tokens-per-minute-header"},O.i._({id:"fhE9Pz",message:"SPY ON CAM TOKENS PER MINUTE"})),(0,p.tT)("div",{className:"filterSectionOptions"},[...N().keys()].map((e=>(0,p.tT)("a",{bind:{className:()=>{var t;return"filterOption "+(!0===(null===(t=s.UrlState.current.state.spyShowPrices)||void 0===t?void 0:t.includes(e))?"active":"")},href:()=>s.UrlState.current.getURLForPartialState({spyShowPrices:[e]})},onClick:t=>(0,l.eH)(t,(()=>{var t,i;const a=null!==(t=null===(i=s.UrlState.current.state.spyShowPrices)||void 0===i?void 0:i.includes(e))&&void 0!==t&&t;if((0,h.Gy)()){var n;const t=null!==(n=s.UrlState.current.state.spyShowPrices)&&void 0!==n?n:[],i=a?null==t?void 0:t.filter((t=>t!==e)):[...t,e];null==i||i.sort(),s.UrlState.current.setPartialState({spyShowPrices:i})}else a?s.UrlState.current.clearStateKeys(["spyShowPrices"]):s.UrlState.current.setPartialState({spyShowPrices:[e]});(0,d.bT)("HmpgFilterOptionClicked",{category:"spy_prices",value:e,active:!a})})),"data-testid":"filter-spy-show-tokens-per-minute-item"},N().get(e))))))}}function N(){return new Map([[s.SpyShowPrices.Value6,(0,M.f)("LinguiBasic")?O.i._({id:"F9CDnr",message:"6 tks"}):f.R.hmpgFilterOpt6TksAbbrev],[s.SpyShowPrices.Range12to18,(0,M.f)("LinguiBasic")?O.i._({id:"Z1MUJR",message:"12 - 18 tks"}):f.R.hmpgFilterOpt12To18TksAbbrev],[s.SpyShowPrices.Range30to42,(0,M.f)("LinguiBasic")?O.i._({id:"ULpkCv",message:"30 - 42 tks"}):f.R.hmpgFilterOpt30TksAbbrev],[s.SpyShowPrices.Range54to66,O.i._({id:"C3LoM/",message:"54 - 66 tks"})],[s.SpyShowPrices.Range90Plus,O.i._({id:"9AtHI9",message:"90+ tks"})]])}class x extends o.b{constructor(){super(...arguments),this.labels=[]}createElement(e){return this.props=e,(0,p.tT)("div",{className:"filterLabelSection",bind:{display:()=>(0,s.shouldShowHomepageFilters)()?"block":"none",style:()=>({marginTop:(0,h.rT)()&&this.isFollowedPage()?"10px":""})}},(0,p.tT)(k,{classRef:e=>{this.clearButton=e},onClearAll:()=>{if((0,h.rT)()){(0,d.bT)("HmpgFiltersClearButtonClicked");const e=s.UrlState.current.state.showType===s.ShowType.PRIVATE&&(0,h.vG)(),t=[...e?s.FILTER_PANEL_KEYS:[...s.FILTER_PANEL_KEYS].filter((e=>"spyShowPrices"!==e)),"keywords","page","pageb"];e&&(0,s.clearStickyFilters)(),s.UrlState.current.clearStateKeys(t),this.updateState()}else{var t;null===(t=e.onClearAll)||void 0===t||t.call(e)}}}))}initData(e){super.initData(e),(0,h.rT)()?s.UrlState.current.listen([...s.FILTER_PANEL_KEYS],(()=>{this.updateState()}),this.element):(this.updateTagFilterLabel(),this.updateLanguageFilterLabel(),s.UrlState.current.listen(["tags"],(()=>{this.updateTagFilterLabel()}),this.element),s.UrlState.current.listen(["spokenLanguages"],(()=>{this.updateLanguageFilterLabel()}),this.element))}updateTagFilterLabel(){var e;const t=null===(e=s.UrlState.current.state.tags)||void 0===e?void 0:e[0];void 0!==t?void 0!==this.tagLabel?this.tagLabel.getTitle().slice(1)!==t&&this.replaceTagLabel(t):this.createTagLabel(t):void 0!==this.tagLabel&&(this.tagLabel.element.remove(),delete this.tagLabel)}refresh(e){var t,i,s;const a=[];var n,r;(null!==(t=e.regions)&&void 0!==t?t:[]).length>0&&F.gB.forEach(((t,i)=>{var s;(null!==(s=e.regions)&&void 0!==s?s:[]).includes(i)&&a.push(new I({title:t,onRemoval:()=>{var t;return this.removeFilter({regions:null===(t=e.regions)||void 0===t?void 0:t.filter((e=>e!==i))})}}))})),void 0!==e.roomSize&&a.push(new I({title:null!==(n=F.Dy.get(e.roomSize))&&void 0!==n?n:"",onRemoval:()=>this.removeFilter({roomSize:void 0})})),(null!==(i=e.tags)&&void 0!==i?i:[]).length>0&&a.push(new I({title:`#${(null!==(r=e.tags)&&void 0!==r?r:[])[0]}`,onRemoval:()=>this.removeFilter({tags:[]})})),void 0===e.ageMin&&void 0===e.ageMax||a.push(new I({title:this.getAgeLabelText(e),onRemoval:()=>this.removeFilter({ageMin:void 0,ageMax:void 0})})),a.push(...this.getPriceLabels(e)),null===(s=e.spokenLanguages)||void 0===s||s.forEach((e=>{var t;a.push(new I({title:null!==(t=E.YK.get(e))&&void 0!==t?t:"",onRemoval:()=>this.removeFilter({spokenLanguages:[]})}))})),this.labels.forEach((e=>e.element.remove())),this.labels=a,this.labels.reverse().forEach((e=>this.prependChild(e))),this.clearButton.showOrHideElement(this.labels.length>0,"inline-block")}getPriceLabels(e){const t=[];var i,a;return(0,h.vG)()&&s.UrlState.current.state.showType===s.ShowType.PRIVATE||null===(i=e.privatePrices)||void 0===i||i.forEach((i=>{var s;t.push(new I({title:null!==(s=F.EU.get(i))&&void 0!==s?s:"",onRemoval:()=>{var t;return this.removeFilter({privatePrices:null===(t=e.privatePrices)||void 0===t?void 0:t.filter((e=>e!==i))})}}))})),(0,h.vG)()&&s.UrlState.current.state.showType===s.ShowType.PRIVATE&&(null===(a=e.spyShowPrices)||void 0===a||a.forEach((i=>{var s;t.push(new I({title:null!==(s=N().get(i))&&void 0!==s?s:"",onRemoval:()=>{var t;return this.removeFilter({spyShowPrices:null===(t=e.spyShowPrices)||void 0===t?void 0:t.filter((e=>e!==i))})}}))}))),t}updateState(){super.updateState(),this.refresh(s.UrlState.current.state)}replaceTagLabel(e){var t;null===(t=this.tagLabel)||void 0===t||t.element.remove(),this.createTagLabel(e)}createTagLabel(e){this.tagLabel=new I({title:`#${e}`,onRemoval:()=>{var e,t;s.UrlState.current.clearStateKeys(["tags"],!1),null===(e=(t=this.props).onRemoval)||void 0===e||e.call(t)}})}createLanguageLabel(e){const t=E.YK.get(e);void 0!==t&&(this.languageLabel={code:e,label:new I({title:t,onRemoval:()=>{var e,t;s.UrlState.current.clearStateKeys(["spokenLanguages"],!1),null===(e=(t=this.props).onRemoval)||void 0===e||e.call(t)}})})}updateLanguageFilterLabel(){var e,t,i;const a=null===(e=s.UrlState.current.state.spokenLanguages)||void 0===e?void 0:e[0];(null===(t=this.languageLabel)||void 0===t?void 0:t.code)!==a&&(null===(i=this.languageLabel)||void 0===i||i.label.element.remove(),void 0!==a?this.createLanguageLabel(a):delete this.languageLabel)}removeFilter(e){s.UrlState.current.setPartialState({...e})}getAgeLabelText(e){var t,i,a,n;return e.ageMin===e.ageMax?(null!==(t=e.ageMin)&&void 0!==t?t:s.DEFAULT_MIN_AGE).toString():void 0!==e.ageMax&&e.ageMax<s.DEFAULT_MAX_AGE?`${null!==(i=e.ageMin)&&void 0!==i?i:s.DEFAULT_MIN_AGE} - ${null!==(a=e.ageMax-1)&&void 0!==a?a:s.DEFAULT_MAX_AGE}`:`${null!==(n=e.ageMin)&&void 0!==n?n:s.DEFAULT_MIN_AGE} +`}isFollowedPage(){return s.UrlState.current.state.showType===s.ShowType.FOLLOW||s.UrlState.current.state.showType===s.ShowType.FOLLOW_OFFLINE}}var D=i(2945);class H extends o.b{createElement(e){return(0,p.tT)("div",{className:"filterSection","data-testid":"filter-age-section"},(0,p.tT)("div",{className:"filterSectionHeader","data-testid":"filter-age-header"},f.R.agesCAPS),(0,p.tT)("a",{className:"clear",href:"#","data-testid":"filter-age-clear-button",onClick:()=>{this.resetAgeFilters(),(0,d.bT)("HmpgFilterAgeRangeReset")}},"(",f.R.reset,")"),(0,p.tT)("div",{className:"filterSectionOptions ageInputs"},(0,p.tT)("input",{type:"number",className:"min","data-testid":"filter-age-min-input",ref:e=>{this.minAgeInput=e},value:s.DEFAULT_MIN_AGE,onChange:()=>this.handleMinAgeChange(),onKeyDown:e=>{var t;"Enter"===(null!==(t=e.key)&&void 0!==t?t:"")&&(this.handleMinAgeChange(!1),this.handleSubmitClick(),this.minAgeInput.blur()),this.preventNonNumericChars(e)},onClick:e=>this.handleInputClick(e),onInput:()=>this.setApplyButtonActive()}),(0,p.tT)("p",null,f.R.ageRangeTo()),(0,p.tT)("input",{type:"number",className:"max","data-testid":"filter-age-max-input",ref:e=>{this.maxAgeInput=e},onChange:()=>this.handleMaxAgeChange(),onKeyDown:e=>{var t;"Enter"===(null!==(t=e.key)&&void 0!==t?t:"")&&(this.handleMaxAgeChange(!1),this.handleSubmitClick(),this.maxAgeInput.blur()),this.preventNonNumericChars(e)},onClick:e=>this.handleInputClick(e),onInput:()=>this.setApplyButtonActive()}),(0,p.tT)("a",{bind:{className:()=>"agesSubmit "+(this.state.inputIsActive?"active":"")},href:"#",onClick:()=>this.handleSubmitClick(),"data-testid":"filter-age-submit"},f.R.applyLower)))}initData(e){super.initData(e),this.props=e}initUI(e){super.initUI(e),(0,h.rT)()&&s.UrlState.current.listen(["ageMax","ageMin"],(()=>{this.updateStateFromUrl()}),this.element),this.updateStateFromUrl()}updateStateFromUrl(){if((0,h.rT)()){var e;this.setAges(null!==(e=s.UrlState.current.state.ageMin)&&void 0!==e?e:s.DEFAULT_MIN_AGE,void 0===s.UrlState.current.state.ageMax?s.DEFAULT_MAX_AGE:s.UrlState.current.state.ageMax-1)}else{var t;const e=(null!==(t=new URLSearchParams(window.location.search).get(s.AGE_FILTER_KEY))&&void 0!==t?t:"").match(s.AGE_URL_PARAM_REGEX);if(null!==e){const t=e[0].split("-");this.setAges(parseInt(t[0]),parseInt(t[1]))}else this.setAges(s.DEFAULT_MIN_AGE,s.DEFAULT_MAX_AGE);this.createOrRemoveLabel()}}setAges(e,t){this.minAgeInput.value=e.toString(),this.maxAgeInput.value=t===s.DEFAULT_MAX_AGE?"":t.toString(),this.setState({...this.state,minAge:e,maxAge:t}),(0,h.rT)()||this.setApplyButtonActive()}getInputMaxAsNumber(){const e=this.maxAgeInput.valueAsNumber;return isNaN(e)?s.DEFAULT_MAX_AGE:e}minIsInvalid(e,t){return isNaN(e)||e<s.DEFAULT_MIN_AGE||e>=s.DEFAULT_MAX_AGE}maxIsInvalid(e){return e<s.DEFAULT_MIN_AGE||e>s.DEFAULT_MAX_AGE}newInputsValid(e,t){return!this.minIsInvalid(e,t)&&!this.maxIsInvalid(t)}setApplyButtonActive(){const e=this.minAgeInput.valueAsNumber,t=this.getInputMaxAsNumber();let i=!1;if((0,h.rT)())i=this.areInputsChanged(e,t);else{var a;const n=(null!==(a=new URLSearchParams(window.location.search).get(s.AGE_FILTER_KEY))&&void 0!==a?a:"").match(s.AGE_URL_PARAM_REGEX);if(null!==n){const s=n[0].split("-");i=e!==parseInt(s[0])||t!==parseInt(s[1])}else i=e!==s.DEFAULT_MIN_AGE||t!==s.DEFAULT_MAX_AGE}this.setState({...this.state,inputIsActive:this.newInputsValid(e,t)&&i})}handleSubmitClick(){var e,t;this.state.inputIsActive&&((0,d.bT)("HmpgFilterAgeRangeSubmit",{minAge:this.state.minAge,maxAge:this.state.maxAge}),(0,h.rT)()?(s.UrlState.current.setPartialState({ageMin:this.state.minAge,ageMax:this.state.maxAge+1}),this.setApplyButtonActive()):(this.createOrRemoveLabel(),this.setApplyButtonActive(),this.updateAgeUrlParam(this.state.minAge,this.state.maxAge),null===(e=(t=this.props).onUpdate)||void 0===e||e.call(t)))}resetAgeFilters(){var e;if(this.setAges(s.DEFAULT_MIN_AGE,s.DEFAULT_MAX_AGE),(0,h.rT)())return s.UrlState.current.clearStateKeys(["ageMin","ageMax"]),void this.setApplyButtonActive();const t=(null!==(e=new URLSearchParams(window.location.search).get(s.AGE_FILTER_KEY))&&void 0!==e?e:"").match(s.AGE_URL_PARAM_REGEX);if(null!==t){const e=t[0].split("-");var i,a;parseInt(e[0])===s.DEFAULT_MIN_AGE&&parseInt(e[1])===s.DEFAULT_MAX_AGE||(this.updateAgeUrlParam(this.state.minAge,this.state.maxAge),null===(i=(a=this.props).onUpdate)||void 0===i||i.call(a))}}updateAgeUrlParam(e,t){const i=(0,D.JO)(window.location.search),a=`${e}-${t}`;"18-100"===a?delete i[s.AGE_FILTER_KEY]:i[s.AGE_FILTER_KEY]=a;const n=(0,D.Go)(i),r=new URL(window.location.href);r.search=n,s.UrlState.current.pushUrl(r)}preventNonNumericChars(e){var t;const i=null!==(t=e.key)&&void 0!==t?t:"";1===i.length&&isNaN(Number(i))&&e.preventDefault()}handleMinAgeChange(){let e,t,i,a,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e=i=this.minAgeInput.valueAsNumber,t=a=this.state.maxAge,this.minIsInvalid(e,t)&&(e=s.DEFAULT_MIN_AGE),e>t&&(t=s.DEFAULT_MAX_AGE),this.setAges(e,t),n&&(0,d.bT)("HmpgFilterAgeRangeUpdate",{minAge:e,maxAge:t,rawMin:i,rawMax:a,changed:"min"})}handleMaxAgeChange(){let e,t,i,a,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t=a=this.getInputMaxAsNumber(),e=i=this.state.minAge,this.maxIsInvalid(t)&&(t=s.DEFAULT_MAX_AGE),t<e&&(e=s.DEFAULT_MIN_AGE),this.setAges(e,t),n&&(0,d.bT)("HmpgFilterAgeRangeUpdate",{minAge:e,maxAge:t,rawMin:i,rawMax:a,changed:"max"})}createOrRemoveLabel(){this.state.minAge===s.DEFAULT_MIN_AGE&&this.state.maxAge===s.DEFAULT_MAX_AGE?this.removeLabelButton():void 0===this.filterLabel?this.createNewLabel():this.getLabelText()!==this.filterLabel.getTitle()&&(this.removeLabelButton(),this.createNewLabel())}getLabelText(){return this.state.minAge===this.state.maxAge?this.state.minAge.toString():this.state.maxAge<s.DEFAULT_MAX_AGE?`${this.state.minAge} - ${this.state.maxAge}`:`${this.state.minAge} +`}createNewLabel(){this.filterLabel=new I({title:this.getLabelText(),onRemoval:()=>{this.resetAgeFilters()}})}removeLabelButton(){void 0!==this.filterLabel&&(this.filterLabel.element.remove(),delete this.filterLabel)}handleInputClick(e){e.currentTarget.select()}areInputsChanged(e,t){var i;const a=void 0===s.UrlState.current.state.ageMax?s.DEFAULT_MAX_AGE:s.UrlState.current.state.ageMax-1;return e!==(null!==(i=s.UrlState.current.state.ageMin)&&void 0!==i?i:s.DEFAULT_MIN_AGE)||t!==a}}class G extends o.b{createElement(e){return(0,p.tT)("a",{bind:{className:()=>"filterOption "+(this.props.optionIsActive()?"active":""),href:()=>e.getHref()},onClick:e=>{(0,l.eH)(e,(()=>this.props.handleLeftClick()))},"data-testid":e.testid},e.name)}initData(e){super.initData(e),this.props=e}initUI(e){super.initUI(e),this.updateState()}createOrRemoveLabel(){var e;const t=null!==(e=this.props.labelText)&&void 0!==e?e:"";this.props.optionIsActive()&&!t.startsWith("#")?this.createFilterLabelButton():this.removeLabelButton()}createFilterLabelButton(){var e;void 0===this.filterLabel&&(this.filterLabel=new I({title:null!==(e=this.props.labelText)&&void 0!==e?e:this.props.name,onRemoval:()=>{this.props.handleLeftClick()}}))}removeLabelButton(){void 0!==this.filterLabel&&(this.filterLabel.element.remove(),delete this.filterLabel)}updateState(){super.updateState(),(0,h.rT)()||this.createOrRemoveLabel()}getValue(){return this.props.queryParamValue}}class Y extends o.b{createElement(e){this.props=e,this.optionsList=[];const t=this.createOptionsProps();return(0,p.tT)("div",{className:"filterSection","data-testid":`filter-${this.sectionTitle.toLowerCase().replace(/[ \/]/g,"-")}-section`},(0,p.tT)("div",{className:"filterSectionHeader","data-testid":`filter-${this.sectionTitle.toLowerCase().replace(/[ \/]/g,"-")}-header`},this.sectionTitle),(0,p.tT)("div",{className:"filterSectionOptions"},t.map((e=>(0,p.tT)(G,{testid:`filter-${this.sectionTitle.toLowerCase().replace(/[ \/]/g,"-")}-item`,name:e.name,labelText:e.labelText,getHref:e.getHref,queryParamValue:e.queryParamValue,classRef:e=>this.optionsList.push(e),optionIsActive:e.optionIsActive,handleLeftClick:e.handleLeftClick})))))}updateSectionFromUrl(){var e;null===(e=this.optionsList)||void 0===e||e.map((e=>{e.updateState()}))}createOptionsProps(){return this.sectionOptions.map((e=>({...e,getHref:()=>K(this.filterKey,e.queryParamValue,this.isSingleSelect).href,optionIsActive:()=>this.optionIsActive(e.queryParamValue),handleLeftClick:()=>this.handleLeftClick(e.queryParamValue)})))}handleLeftClick(e){const t=K(this.filterKey,e,this.isSingleSelect);s.UrlState.current.pushUrl(t),this.props.onFilterOptionClick(),(0,d.bT)("HmpgFilterOptionClicked",{category:this.filterKey,value:e,active:this.optionIsActive(e)})}}function K(e,t){const i=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=(0,D.JO)(window.location.search),a=s[e];let n=void 0!==a?a.split(","):[];return n.includes(t)?n.splice(n.indexOf(t),1):i?n=[t]:(n.push(t),n.sort()),n.length>0?s[e]=n.join(","):delete s[e],s}(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),s=(0,D.Go)(i),a=new URL(window.location.href);return a.search=s,a}class V extends o.b{createElement(e){const t=F.EU;return(0,p.tT)("div",{className:"filterSection","data-testid":"filter-private-show-tokens-per-minute-section",bind:{display:()=>s.UrlState.current.state.showType===s.ShowType.PRIVATE?"none":"block"}},(0,p.tT)("div",{className:"filterSectionHeader","data-testid":"filter-private-show-tokens-per-minute-header"},(0,h.nV)()?O.i._({id:"4cELX+",message:"PRIVATE SHOW TOKENS PER MINUTE"}):f.R.privateTksPerMinCAPS),(0,p.tT)("div",{className:"filterSectionOptions"},[...t.keys()].map((e=>(0,p.tT)("a",{bind:{className:()=>{var t,i;return"filterOption "+(null!==(t=null===(i=s.UrlState.current.state.privatePrices)||void 0===i?void 0:i.includes(e))&&void 0!==t&&t?"active":"")},href:()=>s.UrlState.current.getURLForPartialState({privatePrices:B(e)})},onClick:t=>(0,l.eH)(t,(()=>{const t=B(e);s.UrlState.current.setPartialState({privatePrices:t}),(0,d.bT)("HmpgFilterOptionClicked",{category:"private_prices",value:e,active:t.includes(e)})})),"data-testid":"filter-private-show-tokens-per-minute-item"},t.get(e))))))}}function B(e){var t;const i=null!==(t=s.UrlState.current.state.privatePrices)&&void 0!==t?t:[],a=i.includes(e);let n;return n=(0,h.Gy)()?a?i.filter((t=>t!==e)):[...i,e]:a?[]:[e],n.sort()}class z extends Y{createElement(e){return this.filterKey=s.PRIVATE_PRICES_FILTER_KEY,this.sectionOptions=F.bw,this.sectionTitle=(0,h.nV)()?O.i._({id:"4cELX+",message:"PRIVATE SHOW TOKENS PER MINUTE"}):f.R.privateTksPerMinCAPS,this.isSingleSelect=!(0,h.Gy)(),super.createElement(e)}optionIsActive(e){const t=s.UrlState.current.state.privatePrices;return void 0!==t&&t.includes(e)}}class W extends o.b{createElement(){const e=F.gB;return(0,p.tT)("div",{className:"filterSection","data-testid":"filter-regions-section"},(0,p.tT)("div",{className:"filterSectionHeader","data-testid":"filter-regions-header"},(0,h.nV)()?O.i._({id:"+sChav",message:"REGIONS"}):f.R.regionsCAPS),(0,p.tT)("div",{className:"filterSectionOptions"},[...e.keys()].map((t=>(0,p.tT)("a",{bind:{className:()=>{var e,i;return"filterOption "+(null!==(e=null===(i=s.UrlState.current.state.regions)||void 0===i?void 0:i.includes(t))&&void 0!==e&&e?"active":"")},href:()=>s.UrlState.current.getURLForPartialState({regions:$(t)})},onClick:e=>{(0,l.eH)(e,(()=>{const e=$(t);s.UrlState.current.setPartialState({regions:e}),(0,d.bT)("HmpgFilterOptionClicked",{category:"regions",value:t,active:e.includes(t)})}))},"data-testid":"filter-regions-item"},e.get(t))))))}}function $(e){var t;const i=null!==(t=s.UrlState.current.state.regions)&&void 0!==t?t:[];return(i.includes(e)?i.filter((t=>t!==e)):[...i,e]).sort()}class q extends Y{createElement(e){return this.filterKey=s.REGION_FILTER_KEY,this.sectionOptions=F.kD,this.sectionTitle=(0,h.nV)()?O.i._({id:"+sChav",message:"REGIONS"}):f.R.regionsCAPS,this.isSingleSelect=!1,super.createElement(e)}optionIsActive(e){const t=s.UrlState.current.state.regions;if(void 0===t)return!1;for(const i of t)if(i.toString()===e)return!0;return!1}}class X extends o.b{createElement(){const e=F.Dy;return(0,p.tT)("div",{className:"filterSection","data-testid":"filter-room-size-section"},(0,p.tT)("div",{className:"filterSectionHeader","data-testid":"filter-room-size-header"},(0,h.nV)()?O.i._({id:"jhYigd",message:"ROOM SIZE"}):f.R.roomSizeCAPS),(0,p.tT)("div",{className:"filterSectionOptions"},[...e.keys()].map((t=>(0,p.tT)("a",{bind:{className:()=>"filterOption "+(s.UrlState.current.state.roomSize===t?"active":""),href:()=>s.UrlState.current.getURLForPartialState({roomSize:j(t)})},onClick:e=>{(0,l.eH)(e,(()=>{const e=j(t);s.UrlState.current.setPartialState({roomSize:e}),(0,d.bT)("HmpgFilterOptionClicked",{category:"room_size",value:t,active:e===t})}))},"data-testid":"filter-room-size-item"},e.get(t))))))}}function j(e){return s.UrlState.current.state.roomSize===e?void 0:e}class Z extends Y{createElement(e){return this.filterKey=s.ROOM_SIZE_FILTER_KEY,this.sectionOptions=F.Nj,this.sectionTitle=(0,h.nV)()?O.i._({id:"jhYigd",message:"ROOM SIZE"}):f.R.roomSizeCAPS,this.isSingleSelect=!0,super.createElement(e)}optionIsActive(e){const t=s.UrlState.current.state.roomSize;return void 0!==t&&t===e}}var J=i(1048),Q=i(9757),ee=i(2890),te=i(878),ie=i(1519),se=i(8451),ae=i(9447);class ne extends o.b{createElement(){return(0,p.tT)("div",{className:"tagSuggestionsDiv"})}initData(e){this.props=e}clearList(){this.element.textContent="",this.currentTagsList=[],this.currentIndex=-1}addSuggestionItem(e){const t=this.element.children.length,i=(0,p.tT)("div",{className:"suggestion",title:e,"data-testid":"filter-hashtag-suggestion",onMouseDown:()=>{this.props.onTagClick(e)},onMouseEnter:()=>{this.singleHighlight(i,t)},onMouseLeave:()=>{(0,ae.SA)(i,"highlight"),this.currentIndex=-1}},this.generateTagText(e));this.element.appendChild(i)}generateTagText(e){if(""===this.keyword)return(0,p.tT)("div",{className:"tagText"},`#${e}`);const t=e.split(this.keyword),i=e.indexOf(this.keyword)+this.keyword.length;return(0,p.tT)("div",{className:"tagText"},(0,p.tT)("span",null,`#${t[0]}`),(0,p.tT)("span",{className:"keyword"},this.keyword),(0,p.tT)("span",null,e.slice(i)))}updateResults(e,t){if(this.clearList(),0===e.length)this.element.appendChild((0,p.tT)("div",{className:"notFoundText","data-testid":"search-not-found"},f.R.notFound));else{this.keyword=t.toLowerCase();const i=""===t?e.slice(-10):e;let s=0;i.reverse().forEach((e=>{s<10&&(this.addSuggestionItem(e),s+=1),this.currentTagsList.push(e)}))}}highlightViaKeyNav(e){if(0===this.element.children.length)return;const t=this.element.children.length-1;let i=-1;if((0,se.LV)(e)?i=this.currentIndex+1<=t?this.currentIndex+1:0:(0,se.IM)(e)&&(i=this.currentIndex-1>=0?this.currentIndex-1:t),i>-1){const e=this.element.children.item(i);null!==e&&this.singleHighlight(e,i)}}singleHighlight(e,t){this.unhighlightList(),(0,ae.fZ)(e,"highlight"),this.currentIndex=t}unhighlightList(){if(this.currentIndex>-1){const e=this.element.children.item(this.currentIndex);null!==e&&e.classList.remove("highlight")}this.currentIndex=-1}getHighlightedText(){if(this.currentIndex>-1)return this.currentTagsList[this.currentIndex]}isTagValid(e){return this.currentTagsList.includes(e)}}class re extends o.b{constructor(){super(...arguments),this.loading=!1}createElement(e){this.onlineTagsMatchingFilters=new Set;const t=Q.c.get("Search"),i=(0,p.tT)("div",{className:"searchIcon"});return new t({},i),(0,p.tT)("div",{className:"tagSearchDiv"},(0,p.tT)("input",{className:"tagSearchInput","data-testid":"filter-tag-search-input",placeholder:f.R.tagSearchPlaceholder,ref:e=>{this.searchInput=e},maxLength:50,onFocus:()=>{this.callAutocompleteDebouncer(),(0,d.bT)("TagSearchFocus")},onBlur:()=>{this.suggestionsList.hideElement()},onKeyDown:e=>{this.handleSpecialKey(e),this.cleanNewChar(e)},onInput:()=>{this.cleanSearchInput(),this.callAutocompleteDebouncer()}}),(0,p.tT)("div",{className:"searchButton","data-testid":"filter-tag-search-button",onClick:()=>{this.submitSearch("click")}},i),(0,p.tT)(ne,{classRef:e=>{this.suggestionsList=e},onTagClick:e=>{(0,d.bT)("TagAutocompleteClick",{tagClicked:e,searchText:this.getSearchWord()}),this.applySearchTag(e)}}))}initData(e){this.props=e,this.autocompleteDebouncer=new ie.a((()=>{this.updateAutocomplete()}),{bounceLimitMS:250,debounceType:1})}initUI(){(0,h.rT)()||this.loadKeywordResults("",!1)}updateOnlineTags(e){this.onlineTagsMatchingFilters=new Set(e)}loadKeywordResults(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getKeywordResults(e).then((i=>{this.suggestionsList.updateResults(i,e),t&&document.activeElement===this.searchInput&&this.suggestionsList.showElement()})).finally((()=>{this.loading=!1}))}getKeywordResults(e){return(0,w.Aw)(this.buildTagSearchApiUrl(e)).then((e=>{var t;return(null!==(t=new E.N6(e.responseText).getList("tags"))&&void 0!==t?t:[]).map((e=>e.getString("hashtag"))).filter((e=>this.onlineTagsMatchingFilters.has(e)))}))}cleanNewChar(e){"#"===e.key&&0===this.searchInput.selectionStart&&-1===this.searchInput.value.indexOf("#")||"-"!==e.key&&(1!==e.key.length||(0,se.$Z)(e)||e.preventDefault())}cleanSearchInput(){const e=this.searchInput.value.replace(/[^a-zA-Z0-9#-]+/g,""),t=e.replace(/#/g,"").substring(0,50),i=`${"#"===e[0]?"#":""}${t}`;i!==this.searchInput.value&&(this.searchInput.value=i)}getSearchWord(){return this.searchInput.value.replace(/#/g,"").toLowerCase()}buildTagSearchApiUrl(e){const t=new URLSearchParams([["field","room_count"],["search",e]]),i=(0,te.KM)();return i!==J.YT.All&&t.append("genders",i),`api/ts/hashtags/search_get_data/?${t.toString()}`}updateAutocomplete(){this.loadKeywordResults(this.getSearchWord())}callAutocompleteDebouncer(){this.loading=!0,this.autocompleteDebouncer.callFunc()}handleSpecialKey(e){if(this.loading||!(0,se.IM)(e)&&!(0,se.LV)(e))(0,se.Ci)(e)&&this.submitSearch("enter");else{e.preventDefault(),this.suggestionsList.highlightViaKeyNav(e);const t=this.suggestionsList.getHighlightedText();void 0!==t&&(this.searchInput.value=t)}}submitSearch(e){const t=this.getSearchWord();""!==t&&this.suggestionsList.isTagValid(t)?this.applySearchTag(t,e):(0,d.bT)("TagSearchAttempt",{searchText:t})}applySearchTag(e,t){void 0!==t&&(0,d.bT)("TagSearchSubmit",{tag:e,submitMethod:t}),""!==e&&(this.props.applyTagFilter(e),this.searchInput.value=""),this.searchInput.blur(),this.suggestionsList.unhighlightList()}}class oe extends o.b{createElement(){this.state.isLoading=!0,this.state.isVisible=(0,s.getFilterPanelOpenCached)(),this.pageMinIndices=[0];const e=Q.c.get("TagPagination");return this.tagPaginationRoot=(0,p.tT)("div",{className:"tagPaginationRoot"}),this.tagPagination=new e({isDisabled:this.state.isLoading,currentPage:1,maxPage:1,onNextPageClick:e=>{e instanceof MouseEvent&&(e.ctrlKey||e.metaKey||e.shiftKey)||this.state.isLoading||(this.updatePageNum(this.state.tagPageNum!==this.state.maxPageNum?this.state.tagPageNum+1:1),this.renderTagsPage())},onPrevPageClick:e=>{e instanceof MouseEvent&&(e.ctrlKey||e.metaKey||e.shiftKey)||this.state.isLoading||(this.updatePageNum(1!==this.state.tagPageNum?this.state.tagPageNum-1:this.state.maxPageNum),this.renderTagsPage())}},this.tagPaginationRoot),this.tagSearch=new re({applyTagFilter:e=>{(0,s.getPageHashtag)(!0)!==e&&((0,h.rT)()?s.UrlState.current.setPartialState({tags:[e]}):this.toggleTagInURL(e),this.props.onFilterOptionClick())}}),(0,p.tT)("div",{bind:{className:()=>(this.state.maxPageNum>1?"multiPage ":"")+"paginated tagSection filterSection"},"data-testid":"filter-tag-section"},(0,p.tT)("div",{className:"filterSectionHeader","data-testid":"filter-tag-header"},f.R.tagsCAPS),this.tagSearch.element,(0,p.tT)("div",{ref:e=>{this.optionsContainer=e},bind:{className:()=>"filterSectionOptions tagSectionOptions "+(this.state.isLoading&&this.state.maxPageNum>1?"loading":"")}}),this.tagPaginationRoot)}initUI(){T.oO.addListener((()=>{this.renderTagsPage(!0)}),this),L.V.filterPanelOpen.listen((e=>{this.setState({...this.state,isVisible:e}),e&&window.setTimeout((()=>this.renderTagsPage(!0)))}))}initData(e){super.initData(e),s.UrlState.current.listen(s.HOMEPAGE_KEYS_NO_PAGE,(()=>{this.updateTopTagsLists(!1).then((()=>this.renderTagsPage())).catch(S.h5)}),this.element),s.UrlState.current.listen(["genders","pageType","showType"],(()=>{(0,h.rT)()&&s.UrlState.current.state.pageType!==s.PageType.HOME||this.updateTopTagsLists(!0).then((()=>this.renderTagsPage())).catch(S.h5)}),this.element),s.UrlState.current.listen(["tags"],(()=>{this.renderTagsPage()}),this.element),this.props=e,this.topTagsList=[],this.onlineTopTagsFiltered=[],this.updateTopTagsLists(!0).then((()=>this.renderTagsPage()))}updateState(){super.updateState(),void 0!==this.tagPagination&&(this.state.maxPageNum<=1&&this.element.contains(this.tagPaginationRoot)?this.element.removeChild(this.tagPaginationRoot):this.state.maxPageNum>1&&this.element.appendChild(this.tagPaginationRoot),this.tagPagination.update({currentPage:this.state.tagPageNum,maxPage:this.state.maxPageNum,isDisabled:this.state.isLoading}))}updatePageNum(e){this.setState({...this.state,tagPageNum:e})}updateMaxPageNum(e){this.setPagingData(e),this.setState({...this.state,maxPageNum:this.state.maxPageNum})}async updateTopTagsLists(e){this.setState({...this.state,tagPageNum:1,isLoading:!0});const t=[this.loadOnlineTopTags()];e&&t.push(this.loadTopTagsList()),await Promise.all(t),this.onlineTopTagsFiltered=this.topTagsList.filter((e=>this.onlineTagsMatchingFilters.includes(e))),this.setState({...this.state,isLoading:!1})}renderTagsPage(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this.state.isLoading&&(0,s.getFilterPanelOpenCached)()&&(this.optionsContainer.textContent="",this.updateMaxPageNum(e),this.createTagOptionsForPage(),this.addCurrentTagToOptionsIfNotPresent((0,s.getPageHashtag)(!0)),this.updateTagSearch())}createTagOptionsForPage(){this.currentPageTagsList=[];const[e,t]=[this.pageMinIndices[this.state.tagPageNum-1],this.pageMinIndices[this.state.tagPageNum]];for(const i of this.onlineTopTagsFiltered.slice(e,t))this.optionsContainer.append(this.createTagOptionElement(i)),this.currentPageTagsList.push(i)}updateTagSearch(){const e=this.onlineTopTagsFiltered;this.state.maxPageNum<2?this.tagSearch.hideElement():(this.tagSearch.updateOnlineTags(e),this.tagSearch.showElement("inline-block"))}addCurrentTagToOptionsIfNotPresent(e){if(void 0===e||this.currentPageTagsList.includes(e))return;const t=this.optionsContainer.offsetHeight;this.optionsContainer.prepend(this.createTagOptionElement(e)),this.currentPageTagsList.push(e),this.adjustOptionsContainerHeight(t)}adjustOptionsContainerHeight(e){for(;this.optionsContainer.offsetHeight>e&&this.currentPageTagsList.length>1;){var t;null===(t=this.optionsContainer.lastElementChild)||void 0===t||t.remove()}}setPagingData(e){const t=document.createDocumentFragment();for(const e of this.onlineTopTagsFiltered)t.appendChild(this.createTagOptionElement(e));this.optionsContainer.appendChild(t);const i=new Set,s=this.optionsContainer.children;this.pageMinIndices=[0];for(let e=0;e<s.length;e++){const t=s[e];i.add(t.offsetTop),i.size>13&&(this.pageMinIndices.push(e),i.clear(),i.add(t.offsetTop))}const a=this.pageMinIndices.length;e&&void 0!==this.state.maxPageNum&&(this.state.tagPageNum=Math.min(1+Math.round(a*(this.state.tagPageNum-1)/this.state.maxPageNum),a)),this.pageMinIndices.push(s.length),this.state.maxPageNum=a,this.optionsContainer.textContent=""}async loadTopTagsList(){const e=new URLSearchParams([["count",String(1e3)]]),t=(0,te.KM)();t!==J.YT.All&&e.append("genders",t);const i=await(0,w.Aw)(`api/ts/hashtags/top_tags/?${e.toString()}`),s=new E.N6(i.responseText);this.topTagsList=s.getStringList("all_tags")}getCurrentFilters(){const e=(0,ee.rC)(),t={...(0,ee.a8)(),...e};return delete t.hashtags,delete t.offset,delete t.limit,t}async loadOnlineTopTags(){const e=(0,h.rT)()?(0,s.getAPIParamsFromURLState)(s.UrlState.current.state):this.getCurrentFilters(),t=new URLSearchParams(window.location.search).get("min_tags_count"),i=null!==t&&parseInt(t)>0?t:"1",a=new URLSearchParams({...(0,s.getNonReservedQueryParamValues)(),min_count:i,...e});a.delete("min_tags_count"),a.sort();const n=`api/ts/roomlist/all-tags/?${a.toString()}`,r=await(0,w.Aw)(n),o=new E.N6(r.responseText);this.onlineTagsMatchingFilters=o.getStringList("all_tags")}createTagOptionElement(e){return new G({testid:"filter-tag-item",name:e,labelText:`#${e}`,queryParamValue:e,getHref:()=>this.getToggledTagUrl(e).href,optionIsActive:()=>this.optionIsActive(e),handleLeftClick:()=>this.handleLeftClick(e)}).element}handleLeftClick(e){var t;(0,h.rT)()?(null!==(t=s.UrlState.current.state.tags)&&void 0!==t?t:[]).includes(e)?s.UrlState.current.clearStateKeys(["tags","page","pageb"]):s.UrlState.current.setPartialState({tags:[e]}):this.toggleTagInURL(e),this.props.onFilterOptionClick(),(0,d.bT)("HmpgFilterOptionClicked",{category:"tags",value:e,active:this.optionIsActive(e)})}optionIsActive(e){const t=s.UrlState.current.state.tags;return void 0!==t&&t.includes(e)}toggleTagInURL(e){const t=this.getToggledTagUrl(e);s.UrlState.current.pushUrl(t)}getToggledTagUrl(e){if(void 0===e||e===(0,s.getPageHashtag)(!0)){const e=new URL(`${window.location.origin}/${(0,c.tg)((0,c.Bg)())}`);return e.search=window.location.search,e}{const t=y(e,(0,c.Bg)()),i=new URL(window.location.origin+t);return i.search=window.location.search,i}}}class le extends o.b{createElement(e){var t;return(0,p.tT)("div",{className:"homepageFilterPanel",bind:{display:()=>(0,s.shouldShowHomepageFilters)()&&this.state.isOpen?"inline-block":"none"}},(0,p.tT)("div",{onClick:()=>this.handleCloseButtonClick(),className:"closeButton"},(0,p.tT)(U.T,{component:"CloseButton",componentProps:{}})),(0,h.vG)()&&!new URLSearchParams(window.location.search).has("spyLast")&&(0,p.tT)(_,null),(0,h.rT)()?(0,p.tT)(W,null):(0,p.tT)(q,{classRef:e=>{this.regionSection=e},onFilterOptionClick:e.onFilterOptionClick}),(0,s.isRoomSizeFilteringActive)()&&((0,h.rT)()?(0,p.tT)(X,null):(0,p.tT)(Z,{classRef:e=>{this.roomSizeSection=e},onFilterOptionClick:e.onFilterOptionClick})),(0,s.isLanguageFilterActive)()&&(0,p.tT)(U.T,{component:"LanguageFilterSection",componentProps:{onFilterOptionClick:t=>function(e,t){var i,a,n;((0,d.bT)("HmpgFilterOptionClicked",{category:s.SPOKEN_LANGUAGE_FILTER_KEY,value:t,active:(null===(i=s.UrlState.current.state.spokenLanguages)||void 0===i?void 0:i[0])!==t}),(0,h.rT)())?(null===(a=s.UrlState.current.state.spokenLanguages)||void 0===a?void 0:a[0])===t?s.UrlState.current.clearStateKeys(["spokenLanguages"]):s.UrlState.current.setPartialState({spokenLanguages:[t]}):(s.UrlState.current.pushUrl(he(t)),null===(n=e.onFilterOptionClick)||void 0===n||n.call(e))}(e,t),urlState:s.UrlState.current,getToggledHref:he}}),(0,p.tT)(oe,{onFilterOptionClick:null!==(t=e.onFilterOptionClick)&&void 0!==t?t:()=>{}}),(0,h.rT)()?(0,p.tT)(H,null):(0,p.tT)(H,{classRef:e=>{this.ageSection=e},onUpdate:e.onFilterOptionClick}),(0,h.rT)()?(0,p.tT)(V,null):(0,p.tT)(z,{classRef:e=>{this.priceSection=e},onFilterOptionClick:e.onFilterOptionClick}),(0,h.vG)()&&new URLSearchParams(window.location.search).has("spyLast")&&(0,p.tT)(_,null))}initData(e){super.initData(e),this.setState({isOpen:(0,s.getFilterPanelOpenCached)()}),this.props=e,(0,h.rT)()&&(s.UrlState.current.listen(s.HOMEPAGE_KEYS_NO_PAGE,(()=>{this.updateState()}),this.element),L.V.filterPanelOpen.listen((e=>{this.setState({...this.state,isOpen:e})})))}handleCloseButtonClick(){(0,h.rT)()?L.V.filterPanelOpen.fire(!1):void 0!==this.props.handleClose&&this.props.handleClose(),(0,d.bT)("HmpgFilterPanelMovement",{open:this.state.isOpen})}clearAll(){var e,t,i,a;s.UrlState.current.clearStateKeys([...s.FILTER_PANEL_KEYS],!1),null===(e=this.ageSection)||void 0===e||e.resetAgeFilters(),null===(t=this.regionSection)||void 0===t||t.updateSectionFromUrl(),null===(i=this.priceSection)||void 0===i||i.updateSectionFromUrl(),null===(a=this.roomSizeSection)||void 0===a||a.updateSectionFromUrl(),(0,te.AV)()}updateOptionsAndLabelsFromUrl(){var e,t,i,s;null===(e=this.ageSection)||void 0===e||e.updateStateFromUrl(),null===(t=this.regionSection)||void 0===t||t.updateSectionFromUrl(),null===(i=this.priceSection)||void 0===i||i.updateSectionFromUrl(),null===(s=this.roomSizeSection)||void 0===s||s.updateSectionFromUrl()}}function he(e){return K(s.SPOKEN_LANGUAGE_FILTER_KEY,e,!0).href}class ce extends o.b{createElement(e){var t,i;return(0,h.rT)()?(0,p.tT)("div",{bind:{display:()=>s.UrlState.current.state.showType===s.ShowType.FOLLOW||s.UrlState.current.state.showType===s.ShowType.FOLLOW_OFFLINE?"block":"none"},className:"followed_online_offline","data-testid":"followed-online-offline"},(0,p.tT)(de,{onlineFilter:!0}),(0,p.tT)(de,{onlineFilter:!1})):(0,p.tT)("div",{className:"followed_online_offline","data-testid":"followed-online-offline"},(0,p.tT)(de,{onlineFilter:!0,active:null===(t=e.online)||void 0===t||t,onFilterClick:e.onFilterClick}),(0,p.tT)(de,{onlineFilter:!1,active:!(null===(i=e.online)||void 0===i||i),onFilterClick:e.onFilterClick}))}initUI(e){super.initUI(e),s.UrlState.current.listen(["showType"],(()=>{this.updateState()}),this.element),this.updateState()}}class de extends o.b{createElement(e){var t;return(0,p.tT)("div",{className:"title"+(!(0,h.rT)()&&null!==(t=e.active)&&void 0!==t&&t?" bold":""),bind:(0,h.rT)()?{class:()=>"title"+(this.isActive(e)?" bold":"")}:{},"data-testid":e.onlineFilter?"online-filter-title":"offline-filter-title",onClick:t=>{(0,l.eH)(t,(()=>{if((0,h.rT)()){let t;t=e.onlineFilter?s.UrlState.current.getURLForPartialState({pageType:s.PageType.HOME,showType:s.ShowType.FOLLOW}):s.UrlState.current.convertStateToUrl({pageType:s.PageType.HOME,showType:s.ShowType.FOLLOW_OFFLINE}),s.UrlState.current.navigateTo(t,!e.onlineFilter)}}))}},(0,p.tT)("p",null,(0,p.tT)("a",{bind:{href:()=>this.getHref(e.onlineFilter)},onClick:e.onFilterClick,"data-testid":e.onlineFilter?"online-filter-link":"offline-filter-link"},e.onlineFilter?f.R.onlineRooms:f.R.offlineRooms)))}initUI(e){super.initUI(e),(0,h.rT)()&&s.UrlState.current.listen(["genders","showType"],(()=>this.updateState()),this.element)}getHref(e){const t=e?s.ShowType.FOLLOW:s.ShowType.FOLLOW_OFFLINE;if((0,h.rT)()){const i=(0,J.Bg)();return e&&i!==J.YT.All?s.UrlState.current.convertStateToUrl({pageType:s.PageType.HOME,showType:t,genders:[i]}):s.UrlState.current.convertStateToUrl({pageType:s.PageType.HOME,showType:t})}return s.UrlState.current.getURLForPartialState({pageType:s.PageType.HOME,showType:t})}isActive(e){return e.onlineFilter?s.UrlState.current.state.showType===s.ShowType.FOLLOW:s.UrlState.current.state.showType===s.ShowType.FOLLOW_OFFLINE}}var pe=i(8423),me=i(3097);class ue extends o.b{initUI(e){this.hideElement()}initData(e){this.listeners=new pe.gt,(0,h.rT)()?(s.UrlState.current.listen([...s.HOMEPAGE_KEYS_NO_PAGE,"pageType"],(e=>{this.updateOrHideElement()}),this.element),this.updateOrHideElement()):void 0!==e.advancedSearchOptions&&(this.listeners.add(e.advancedSearchOptions.regionsChanged.listen((()=>this.handleAdvancedSearchOptionChange()))),this.listeners.add(b.Xv.listen((()=>{this.updateContainerFilters(),this.updateRooms()}))))}isActive(){return(0,s.isFollowedCams)()&&(0,h.fv)()}updateOrHideElement(){s.UrlState.current.state.showType===s.ShowType.FOLLOW?this.updateRooms():this.hideElement()}possiblyShowElement(){this.isActive()&&this.roomlist.rooms.length>0?this.showElement():this.hideElement()}createElement(e){return(0,p.tT)("div",{className:"followRecommendations roomlist_container"},(0,p.tT)("h2",null,f.R.recommendedForYou),(0,p.tT)(me.z,{classRef:e=>{this.roomlist=e},apiUrl:s.FOLLOW_RECOMMENDATIONS_API_URL,pageSize:s.FOLLOW_RECOMMENDATIONS_PAGE_SIZE,animate:e.animate,showLocation:e.showLocation}))}handleAdvancedSearchOptionChange(){this.updateContainerFilters(),this.updateRooms()}updateContainerFilters(){const e=(0,ee.rC)(),t=(0,ee.a8)();!0===e[s.ShowType.FOLLOW_OFFLINE]&&delete t.genders,this.roomlist.setCategoryFilters(e),this.roomlist.updateFilters(t,1)}updateRooms(){const e=(0,h.rT)()?(0,s.getAPIParamsFromURLState)(s.UrlState.current.state):void 0;this.roomlist.fetchRooms(void 0,e).then((()=>{this.possiblyShowElement()})).catch((e=>{error("Failed to load roomlist page after retrying",e),this.hideElement()}))}dispose(){(0,h.rT)()||(this.roomlist.dispose(),this.listeners.removeAll())}}var ge=i(7995),Te=i(9118),ve=i(5294),Se=i(4691);class fe extends o.b{initData(e){super.initData(e)}createElement(e){return(0,p.tT)("div",{className:"num-of-rooms-msg","data-testid":"num-of-rooms-msg",bind:{display:()=>this.state.isLastPage&&this.state.hasFilter&&s.UrlState.current.state.showType!==s.ShowType.FOLLOW_OFFLINE?"flex":"none",text:()=>(0,h.rT)()?this.getMessage(e):this.state.matched>0?f.R.numberOfRoomsMatchesYourFilters(this.state.total,this.state.matched):f.R.noRoomsMatchesYourFilters(this.state.total)}})}getMessage(e){return e.isSecondary||s.UrlState.current.state.showType===s.ShowType.HIDDEN?this.state.matched>0?f.R.numberOfHiddenRoomsMatchesYourFilters(this.state.total,this.state.matched):f.R.noHiddenRoomsMatchesYourFilters(this.state.total):s.UrlState.current.state.showType===s.ShowType.PRIVATE?this.state.matched>0?f.R.numberOfPrivateRoomsMatchesYourFilters(this.state.total,this.state.matched):f.R.noPrivateRoomsMatchesYourFilters(this.state.total):s.UrlState.current.state.showType===s.ShowType.FOLLOW?this.state.matched>0?f.R.numberOfFollowedRoomsMatchesYourFilters(this.state.total,this.state.matched):f.R.noFollowedRoomsMatchesYourFilters(this.state.total):this.state.matched>0?f.R.numberOfRoomsMatchesYourFilters(this.state.total,this.state.matched):f.R.noRoomsMatchesYourFilters(this.state.total)}}var we=i(1224);class ye extends o.b{constructor(e){super(e)}initUI(e){(0,h.rT)()?s.UrlState.current.listen(["ageMax","ageMin","apps","aspApp","showType"],(()=>{this.updateState()}),this.element):this.updateMessage(e)}getMessageString(e){if((0,h.rT)())return this.getMessageFromUrlState(e);{var t;const a=null!==(t=e.categorySlug)&&void 0!==t?t:"";let n;return["app","current_app_use"].includes(a)&&void 0!==e.appName?n=f.R.usersRunningAppMessage(e.appName):(i=a,n=Object.keys(Re).includes(i)?Re[a]:""),(0,s.shouldShowHomepageFilters)()&&(n=""),n}var i}getMessageFromUrlState(e){if(void 0===s.UrlState.current.state.apps&&void 0===s.UrlState.current.state.aspApp||void 0===e.appName){var t;const a=(0,s.getCategorySlug)();return null!==(t=e.isSecondContainer)&&void 0!==t&&t?f.R.camCategoryHidden:null!==(i=be.get(a))&&void 0!==i?i:"";var i}return f.R.usersRunningAppMessage(e.appName)}getPremiumDescription(e){if(!(0,h.rT)()){var t;const i=null!==(t=e.categorySlug)&&void 0!==t?t:"";let s;const a="spy-on-cams"===i;return"hidden-cams"===i?s=f.R.categoryDescriptionHidden:a&&(s=f.R.categoryDescriptionPrivate(we.m.siteName)),s}return s.UrlState.current.state.showType===s.ShowType.HIDDEN||s.UrlState.current.state.showType===s.ShowType.PRIVATE&&!0===e.isSecondContainer?f.R.categoryDescriptionHidden:s.UrlState.current.state.showType===s.ShowType.PRIVATE?f.R.categoryDescriptionPrivate(we.m.siteName):void 0}updateMessage(e){const t=this.getMessageString(e),i=this.getPremiumDescription(e);this.removeAllDOMChildren(),this.element.appendChild((0,p.tT)("h2",{"data-testid":t.toLowerCase().replace(/[ \/]/g,"-").replace(/[()\/]/g,"").replace(/--/g,"")},t)),void 0!==i&&this.element.appendChild((0,p.tT)("p",{className:"premium-desc"},i))}createElement(e){return(0,p.tT)("div",{className:"roomlist-msg"},(0,h.rT)()&&(0,p.tT)("h2",{"data-testid":"roomlist-message",bind:{text:()=>this.getMessageString(e)}}),(0,h.rT)()&&(0,p.tT)("p",{bind:{text:()=>this.getPremiumDescription(e)},className:"premium-desc"}))}}const Re={"north-american-cams":f.R.camCategoryNorthAmerica,"south-american-cams":f.R.camCategorySouthAmerica,"asian-cams":f.R.camCategoryAsia,"euro-russian-cams":f.R.camCategoryEuroRussia,"other-region-cams":f.R.camCategoryOtherRegion,"teen-cams":f.R.camCategoryTeen,"18to20-cams":f.R.camCategory18to20,"18to21-cams":f.R.camCategory18to21,"20to30-cams":f.R.camCategory20to30,"30to50-cams":f.R.camCategory30to50,"21to35-cams":f.R.camCategory21to35,"mature-cams":f.R.camCategoryMature,"exhibitionist-cams":f.R.camCategoryExhib,"spy-on-cams":f.R.camCategoryPrivate,"hidden-cams":f.R.camCategoryHidden,"new-cams":f.R.camCategoryNewCams,"gaming-cams":f.R.camCategoryGaming,"6-tokens-per-minute-private-cams":f.R.camCategory6TkPerMin,"12-tokens-per-minute-private-cams":f.R.camCategory12TkPerMin,"18-tokens-per-minute-private-cams":f.R.camCategory18TkPerMin,"30-tokens-per-minute-private-cams":f.R.camCategory30TkPerMin,"60-tokens-per-minute-private-cams":f.R.camCategory60TkPerMin,"12-18-tokens-per-minute-private-cams":f.R.camCategory12to18TkPerMin,"30-42-tokens-per-minute-private-cams":f.R.camCategory30to42TkPerMin,"60-72-tokens-per-minute-private-cams":f.R.camCategory60to72TkPerMin,"90-tokens-per-minute-private-cams":f.R.camCategory90TkPerMin},be=new Map([["mature-cams",f.R.camCategoryMature],["exhibitionist-cams",f.R.camCategoryExhib],["spy-on-cams",f.R.camCategoryPrivate],["hidden-cams",f.R.camCategoryHidden],["new-cams",f.R.camCategoryNewCams],["gaming-cams",f.R.camCategoryGaming]]);class Ae extends o.b{createElement(){const e=(0,p.tT)("p",{className:"roomlist-reload-msg"});return e.innerHTML=f.R.unableToReloadErrorMessage,e.firstElementChild.onclick=()=>{window.location.reload()},e}showElement(){super.showElement("inline-block")}}var Ce=i(9232);class Pe extends o.b{constructor(e){super(e)}createElement(e){var t,i,a;return(0,h.rT)()?this.pageParam=!0===e.isSecondary?"pageb":"page":this.pageParam=null!==(a=e.pageParam)&&void 0!==a?a:"page",(0,p.tT)("div",{className:"roomlist_container endless_page_styles","data-testid":"room-list-container"},(0,h.rT)()?"":(0,p.tT)(Se.p,{classRef:e=>{this.notVisibleRegions=e},advancedSearchOptions:e.advancedSearchOptions}),(0,p.tT)(ye,{isSecondContainer:null!==(t=e.isSecondary)&&void 0!==t&&t,classRef:e=>{this.roomlistMsg=e},appName:e.appName}),(0,p.tT)(Ce.C,{classRef:e=>{this.searchMsg=e}}),(0,p.tT)(Ae,{classRef:e=>{this.roomReloadErrorNotification=e}}),(0,p.tT)(ve.M,{classRef:e=>{this.noRoomsAvailableNotification=e}}),(0,p.tT)(me.z,{classRef:e=>{this.roomlist=e},animate:e.animate,showLocation:e.showLocation,apiUrl:s.ROOMLIST_API_URL,pageSize:s.DEFAULT_PAGESIZE,pageParam:this.pageParam}),(0,p.tT)(fe,{isSecondary:null!==(i=e.isSecondary)&&void 0!==i&&i,classRef:e=>{this.numberOfRoomsMessage=e}}),(0,p.tT)("div",{id:"roomlist_pagination","data-testid":"room-list-pagination-component"},(0,p.tT)(Te.d,{classRef:e=>{this.pagination=e},itemsPerPage:s.DEFAULT_PAGESIZE,onPageChange:e=>this.onPageChange(e),reloadOnPageChange:!1,addLastPageAction:!0,pageParam:this.pageParam,makeResponsive:!0})))}initData(e){if(this.props=e,this.listeners=new pe.gt,this.appName=e.appName,(0,h.rT)())if(s.UrlState.current.listen([...s.HOMEPAGE_KEYS,"pageType"],(e=>{this.isActive()?(this.loadRooms(),this.showElement()):this.hideElement()}),this.element),this.isActive()){const t="prefetchPromise",i=window[t];this.loadRooms(!0===e.isSecondary?void 0:i),delete window[t],this.showElement()}else this.hideElement()}isActive(){return s.UrlState.current.state.pageType===s.PageType.HOME&&(!0!==this.props.isSecondary||s.UrlState.current.state.showType===s.ShowType.PRIVATE)}initUI(e){(0,h.rT)()||(void 0!==e.advancedSearchOptions&&this.listeners.add(e.advancedSearchOptions.regionsChanged.listen((()=>this.handleAdvancedSearchOptionChange()))),this.listeners.add(ge.D.onSubmit.listen((e=>this.handleSearch(e))))),this.roomReloadErrorNotification.hideElement(),(0,h.rT)()&&!0!==e.isSecondary&&(0,n.Vo)("pageshow",window,(()=>{(0,s.isFollowedCams)()&&this.loadRooms()}))}dispose(){var e,t;(0,h.rT)()||(null===(e=this.notVisibleRegions)||void 0===e||e.dispose(),null===(t=this.searchMsg)||void 0===t||t.dispose(),this.roomlist.dispose(),this.listeners.removeAll())}handleRoomRefresh(){this.loadRooms()}handleAdvancedSearchOptionChange(){this.roomlist.updateFilters((0,ee.a8)()),this.loadRooms()}handleSearch(e){const t=(0,ee.a8)(e);this.roomlist.updateFilters(t),this.roomlist.setPage(1),this.loadRooms()}updateContainerFromUrl(){var e,t,i;null===(e=this.notVisibleRegions)||void 0===e||e.updateAlertMessage();const a=(0,s.getCategorySlug)();this.roomlistMsg.updateMessage({categorySlug:a,appName:this.appName});const n=null!==(t=new URLSearchParams(window.location.search).get("keywords"))&&void 0!==t?t:"";null===(i=this.searchMsg)||void 0===i||i.updateMessage(n);const r=(0,s.getCurrentPage)(this.pageParam),o=(0,ee.rC)(),l=(0,ee.a8)();this.roomlist.setCategoryFilters(o),this.roomlist.updateFilters(l,r)}updateRooms(e){void 0!==e?this.loadRooms(e):this.loadRooms()}loadRooms(e){this.roomlist.fetchRooms(e,this.getAPIFilters()).then((e=>{var t;let{totalCount:i,matchedCount:a,page:n}=e;this.roomReloadErrorNotification.hideElement(),(0,h.rT)()&&(n=!0===this.props.isSecondary?s.UrlState.current.state.pageb:s.UrlState.current.state.page),this.onRoomsLoaded(null!==(t=n)&&void 0!==t?t:1,a,i)})).catch((e=>{error("Failed to load roomlist page after retrying",e),this.roomReloadErrorNotification.showElement()}))}onRoomsLoaded(e,t,i){var a;this.pagination.setState({currentPage:null!=e?e:1,totalItems:t}),this.numberOfRoomsMessage.setState({total:null!=i?i:0,matched:null!=t?t:0,isLastPage:this.pagination.isLastPage(),hasFilter:(0,s.homepageFiltersCurrentlyApplied)()}),this.noRoomsAvailableNotification.setState({numRooms:this.roomlist.rooms.length,filterPanelActive:(0,s.homepageFiltersCurrentlyApplied)()}),(0,h.rT)()||(null===(a=this.searchMsg)||void 0===a||a.setState({numRooms:this.roomlist.rooms.length,filterPanelActive:(0,s.homepageFiltersCurrentlyApplied)()}),t>0&&0===this.roomlist.rooms.length&&(this.resetPagination(),1!==e&&this.loadRooms())),(0,h.rT)()&&e>1&&t>0&&0===this.roomlist.rooms.length&&s.UrlState.current.setPartialState(!0===this.props.isSecondary?{pageb:1}:{page:1})}getAPIFilters(){if(!(0,h.rT)())return;const e=(0,s.getAPIParamsFromURLState)(s.UrlState.current.state);return(0,h.vG)()&&(s.UrlState.current.state.showType===s.ShowType.PRIVATE&&delete e.private_prices,!0===this.props.isSecondary&&delete e.spy_show_prices),!0!==this.props.isSecondary?e:{...e,[s.ShowType.PRIVATE]:!1,[s.ShowType.HIDDEN]:!0,...(0,s.getPaginationAPIParams)(s.UrlState.current.state.pageb)}}resetPagination(){s.UrlState.current.setPartialState({[this.pageParam]:1},!0),this.roomlist.setPage(1)}onPageChange(e){(0,h.rT)()?(s.UrlState.current.setPartialState(!0===this.props.isSecondary?{pageb:e}:{page:e}),!0!==this.props.isSecondary?window.scrollTo(0,0):this.element.scrollIntoView()):(this.roomlist.setPage(e),this.loadRooms(),s.UrlState.current.setPartialState({[this.pageParam]:e}),window.scrollTo(0,0))}}class Le extends Pe{initUI(e){super.initUI(e),this.roomlistMsg.updateMessage({categorySlug:"hidden-cams"}),this.roomlist.setCategoryFilters({hidden:!0})}updateContainerFromUrl(){var e,t,i;null===(e=this.notVisibleRegions)||void 0===e||e.updateAlertMessage();const a=null!==(t=new URLSearchParams(window.location.search).get("keywords"))&&void 0!==t?t:"";null===(i=this.searchMsg)||void 0===i||i.updateMessage(a);const n=(0,s.getCurrentPage)(this.pageParam),r=(0,ee.a8)();this.roomlist.updateFilters(r,n)}handlePageChange(e){this.element.scrollIntoView()}isSecondaryContainer(){return!0}}const Ee=g.yK*g.Qd,Fe="pageb";var Ue=i(4713),Ie=i(6037);const ke="#roomlist_content_wrapper";class Oe extends o.b{constructor(){super(...arguments),this.lastUserActivityTimestamp=0}createElement(e){if(this.props=e,(0,h.rT)()){const e=new m.ZB(!1,!0);return(0,p.tT)("div",{id:"roomlist_root","data-testid":"room-list"},(0,p.tT)(ce,null),(0,p.tT)(x,{classRef:e=>{this.filterLabelSection=e}}),(0,p.tT)(Pe,{advancedSearchOptions:e,classRef:e=>{this.roomlistContainer=e},animate:this.props.animateThumbnails,showLocation:this.props.showLocation,appName:this.props.appName}),(0,p.tT)(Pe,{advancedSearchOptions:e,classRef:e=>{this.secondaryContainer=e},animate:this.props.animateThumbnails,showLocation:this.props.showLocation,isSecondary:!0}),(0,h.fv)()&&(0,p.tT)(ue,{classRef:e=>{this.recommendations=e},animate:this.props.animateThumbnails,showLocation:this.props.showLocation}))}return document.querySelector("#roomlist_root")}initUI(e){super.initUI(e),(0,h.rT)()||(this._mainContentDiv=new r.u(document.querySelector(ke))),this.initTopSectionNav(),this.makeRoomListResponsive(),e.isTestbed||(this.bindRoomRefreshTimers(),this.bindRoomlistSpaHandlers(),(0,h.rT)()?((0,s.isRoomRoomlistSpaActive)()||document.querySelector(".advanced-search-button-container").appendChild((0,p.tT)(L.V,null)),document.querySelector(".homepageFilterPanel").replaceWith((0,p.tT)(le,{classRef:e=>this.filterPanel=e}))):(this.removePlaceholders(),s.UrlState.current.state.pageType===s.PageType.HOME&&(this.cleanUrlParams(),this.handleSpaRouting())),((0,s.isRoomRoomlistSpaActive)()||(0,h.rT)())&&(s.UrlState.current.listen(["pageType","showType"],(e=>{e.pageType!==s.PageType.HOME&&e.pageType!==s.PageType.ROOM||this.updateState()}),this.element),this.updateState()))}updateState(){if((0,h.rT)()){var e;const t=new r.u(document.querySelector(ke)),i=s.UrlState.current.state.pageType===s.PageType.HOME;t.showOrHideElement(i),null===(e=this.filterPanel)||void 0===e||e.updateState()}super.updateState()}initTopSectionNav(){if((0,s.isRoomRoomlistSpaActive)())return void((0,h.rT)()||this.initTopSectionNavSpa());const e=new r.u(document.querySelector(".top-section")),t=!this.props.isTestbed,i={enableGenderedLinkUpdates:t,skipJoinOverlaySetup:!0,...!(0,h.rT)()&&t&&{onTabClick:e=>{this.spaInterceptOnClick(e)}}},a=(0,h.rT)()?new C.R({}):new Ie.p3(i);if(e.addChild(a),!0===this.props.showMobileSiteBannerLink){var n;const t=new P.K;null===(n=e.element.parentElement)||void 0===n||n.prepend(t.element),t.show()}(0,h.rT)()||(this.advancedSearchOptions=new m.ZB(!1,!0),this._topSection=e,this.genderTabs=a)}initTopSectionNavSpa(){this._topSection=new r.u(document.querySelector(".top-section")),this.genderTabs=Ie.p3.getInstance(),this.advancedSearchOptions=new m.ZB(!1,!0)}makeRoomListResponsive(){(0,a.aq)()||(0,a.tJ)()||(document.body.style.minWidth=500-(0,l.XJ)()+"px");const e=(0,h.rT)()?document.querySelector(ke):this._mainContentDiv;(0,T.Rk)(e,500,600,[{name:"margin-left",min:4,max:15},{name:"margin-right",min:4,max:15}])}removePlaceholders(){document.querySelectorAll(".placeholder_roomlist_container").forEach((e=>{e.remove()}))}cleanUrlParams(){var e,t,i;const a=(0,s.getParamsMinMaxAgeFilter)(),n=s.UrlState.current.convertStateToUrl({pageType:s.PageType.HOME,page:(0,s.getCurrentPage)(),pageb:(0,s.getCurrentPage)(Fe),ageMin:null==a?void 0:a[0],ageMax:null==a?void 0:a[1],privatePrices:this.firstOrAllPrivatePrices(),regions:null!==(e=null===(t=(0,s.getParamsRegionFilters)())||void 0===t?void 0:t.split(","))&&void 0!==e?e:void 0,roomSize:(0,s.getParamsRoomSizeFilter)(),spokenLanguages:(0,s.getParamsSpokenLanguagesFilter)(),keywords:null!==(i=(0,s.getKeywordsFromCurrentURL)())&&void 0!==i?i:void 0}),r=new URL(window.location.href);r.search=new URL(n).search,s.UrlState.current.replaceUrl(r)}firstOrAllPrivatePrices(){var e;const t=null!==(e=(0,s.getParamsPrivatePriceFilters)())&&void 0!==e?e:[];return(0,h.Gy)()?t:t.slice(0,1)}bindRoomlistSpaHandlers(){(0,s.isRoomRoomlistSpaActive)()||(0,Ue.O)(),(0,h.rT)()||((0,s.isRoomRoomlistSpaActive)()||(0,n.wu)("click",document,(e=>{this.spaInterceptOnClick(e,!0)})),b.XS.listen((e=>{this.spaInterceptOnClick(e)})),(0,n.wu)("popstate",window,(()=>{const e=(0,s.isRoomRoomlistSpaActive)();(!e||e&&void 0===s.UrlState.current.state.room)&&((0,te.AV)(),this.handleSpaRouting()),this.setUserActivityTimestamp()}))),(0,h.rT)()||(0,n.Vo)("pageshow",window,(()=>{(0,s.isFollowedCams)()&&this.handleSpaRouting()}))}interceptNavigationApplyCachedFilters(e){const t=(0,s.homepageFiltersCurrentlyApplied)(s.UrlState.current.readStateFromURL(e));(0,s.shouldShowHomepageFilters)(e.pathname)&&!t&&(e=(0,s.getCachedHmpgFiltersUrl)(e)),s.UrlState.current.navigateTo(e)}spaInterceptOnClick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=(0,l.ss)(e.target);if(void 0===i)return;if(e.ctrlKey||e.metaKey||e.shiftKey)return;if(t&&!i.hasAttribute(b.jS))return;const s=new URL(i.href);this.interceptNavigationApplyCachedFilters(s),e.preventDefault(),(0,h.rT)()||this.handleSpaRouting()}getElementClassName(){const e=(0,s.isPremium)();return(0,ee.c_)()?"category_page":e?"private_shows":"main_roomlist"}handleSpaRouting(){this.handleSharedUIUpdates(),(0,s.isPremium)()?this.handlePrivateCamsPage():(0,s.isFollowedCams)()?this.handleFollowedCamsPage():this.handleMainRoomlistPage(),b.Xv.fire()}handleSharedUIUpdates(){var e;this.element.className=this.getElementClassName(),Oe.addMainClassnames(),this.genderTabs instanceof Ie.p3&&this.genderTabs.renderTabs();const t=null!==(e=new URLSearchParams(window.location.search).get("keywords"))&&void 0!==e?e:"";v.u.searchKeywordValueUpdate.fire(t),b.wd.fire((0,c.Bg)())}static addMainClassnames(){const e=document.querySelector("#main");if(null===e)return;const t=[null!=(0,s.getRegionCategoryFilter)()?"roomlist-category-region":"",(0,s.shouldShowHomepageFilters)()?"roomlist-filter-panel-enabled":""];e.className=t.filter(Boolean).join(" ")}handleMainRoomlistPage(){(0,s.shouldShowHomepageFilters)()?(this.hideHashtagTicker(),this.renderFilterPanel(),(0,te.AV)(!0)):(this.renderHashtagTicker(),this.disposeFilterPanel()),this.disposeFollowedCamsLinks(),this.renderMainRoomlist(),this.disposeSecondaryRoomlist(),this.disposeFollowRecommendations()}handlePrivateCamsPage(){this.hideHashtagTicker(),this.disposeFilterPanel(),this.disposeFollowedCamsLinks(),this.renderMainRoomlist(),this.renderSecondaryRoomlist(),this.disposeFollowRecommendations()}handleFollowedCamsPage(){this.hideHashtagTicker(),this.disposeFilterPanel(),this.renderMainRoomlist(),this.renderFollowedCamsLinks(),this.disposeSecondaryRoomlist(),this.renderFollowRecommendations()}renderHashtagTicker(){var e,t,i,a;const n=(0,c.Bg)(),r=null!==(e=(0,s.getPageHashtag)())&&void 0!==e?e:"";if(void 0===this.hashtagTicker){const e=e=>{this.spaInterceptOnClick(e)};this.element.prepend((0,p.tT)("div",null,(0,p.tT)(A,{onTagClick:e,classRef:e=>{this.hashtagTicker=e}})))}null===(t=this.hashtagTicker)||void 0===t||t.setState({genders:n===c.YT.All?[]:[n]}),null===(i=this.removeHashtagLink)||void 0===i||i.setState({gender:n,hashtag:r}),null===(a=this.hashtagTicker)||void 0===a||a.showElement()}hideHashtagTicker(){var e;void 0!==this.hashtagTicker&&(this.hashtagTicker.hideElement(),null===(e=this.removeHashtagLink)||void 0===e||e.hideElement())}renderFilterPanel(){if(void 0===this.hmpgFilterButton||void 0===this.filterPanel){const e=this._topSection.element.querySelector(".advanced-search-button-container");this.filterLabelSection=new x({onClearAll:this.clearHomepageFilters.bind(this),onRemoval:this.onFilterOptionClick.bind(this)}),this.element.prepend(this.filterLabelSection.element),this.filterPanel=new le({handleClose:()=>{var e;null===(e=this.hmpgFilterButton)||void 0===e||e.setActive(!1)},onFilterOptionClick:this.onFilterOptionClick.bind(this)}),this.hmpgFilterButton=new L.V({filterPanel:this.filterPanel}),this._mainContentDiv.element.before(this.filterPanel.element),e.appendChild(this.hmpgFilterButton.element)}this.filterPanel.updateOptionsAndLabelsFromUrl(),this.hmpgFilterButton.setActive((0,s.getFilterPanelOpenCached)())}onFilterOptionClick(){var e;null===(e=this.roomlistContainer)||void 0===e||e.resetPagination(),(0,te.AV)(),this.handleSpaRouting()}clearHomepageFilters(){var e;(0,d.bT)("HmpgFiltersClearButtonClicked"),null===(e=this.filterPanel)||void 0===e||e.clearAll(),s.UrlState.current.clearStateKeys(["keywords"],!0),this.handleSpaRouting()}disposeFilterPanel(){var e,t;void 0!==this.filterPanel&&(this.filterPanel.element.remove(),delete this.filterPanel,null===(e=this.hmpgFilterButton)||void 0===e||e.element.remove(),delete this.hmpgFilterButton,null===(t=this.filterLabelSection)||void 0===t||t.element.remove(),delete this.filterLabelSection)}renderFollowedCamsLinks(){var e;this.disposeFollowedCamsLinks(),this.followedOnlineOfflineTab=new ce({online:!(0,s.isOfflineFollowed)(),onFilterClick:e=>this.spaInterceptOnClick(e)}),null===(e=this.roomlistContainer)||void 0===e||e.element.before(this.followedOnlineOfflineTab.element)}disposeFollowedCamsLinks(){void 0!==this.followedOnlineOfflineTab&&(this.followedOnlineOfflineTab.element.remove(),delete this.followedOnlineOfflineTab)}renderMainRoomlist(){var e;if(void 0===this.roomlistContainer){const e={advancedSearchOptions:this.advancedSearchOptions,animate:this.props.animateThumbnails,showLocation:this.props.showLocation,appName:this.props.appName};this.roomlistContainer=new Pe(e),this.addChild(this.roomlistContainer)}this.roomlistContainer.updateContainerFromUrl();const t=window.prefetchPromise;null===(e=this.roomlistContainer)||void 0===e||e.updateRooms(t),delete window.prefetchPromise}renderSecondaryRoomlist(){if(void 0===this.secondaryContainer){const e={advancedSearchOptions:this.advancedSearchOptions,animate:(0,g.$r)(),showLocation:this.props.showLocation,pageParam:Fe};this.secondaryContainer=new Le(e),this.addChild(this.secondaryContainer)}this.secondaryContainer.updateContainerFromUrl(),this.secondaryContainer.updateRooms()}disposeSecondaryRoomlist(){void 0!==this.secondaryContainer&&(this.removeChild(this.secondaryContainer),this.secondaryContainer.dispose(),delete this.secondaryContainer)}renderFollowRecommendations(){if((0,h.fv)()&&void 0===this.recommendations){const e={animate:(0,g.$r)(),showLocation:this.props.showLocation,advancedSearchOptions:this.advancedSearchOptions};this.recommendations=new ue(e),this.addChild(this.recommendations)}}disposeFollowRecommendations(){if((0,h.fv)()){if(void 0===this.recommendations)return;this.recommendations.dispose(),this.removeChild(this.recommendations),delete this.recommendations}}bindRoomRefreshTimers(){var e;(0,s.isRoomRoomlistSpaActive)()||((0,s.isPremium)()?g.HA.scheduleImageRefresh(15):g.HA.scheduleImageRefresh(null!==(e=u.Db.getState().refreshFrequency)&&void 0!==e?e:this.props.refreshFrequency)),(0,n.Xq)(["click","focusin","keydown","pointerdown","pointermove","scroll","visibilitychange"],document,(()=>this.setUserActivityTimestamp())),window.setInterval((()=>this.inactiveRefreshCheck()),Ee)}inactiveRefreshCheck(){var e,t;(0,b.r)()&&void 0!==s.UrlState.current.state.room||0!==this.lastUserActivityTimestamp&&(Date.now()-this.lastUserActivityTimestamp>=6e4?window.location.reload():(null===(e=this.roomlistContainer)||void 0===e||e.handleRoomRefresh(),null===(t=this.secondaryContainer)||void 0===t||t.handleRoomRefresh()))}setUserActivityTimestamp(){this.lastUserActivityTimestamp=Date.now()}hideAllContent(){var e,t;null===(e=this.filterPanel)||void 0===e||e.hideElement(),null===(t=this.hmpgFilterButton)||void 0===t||t.hideElement(),this._mainContentDiv.hideElement()}showAllContent(){var e,t;null===(e=this.filterPanel)||void 0===e||e.showElement(),null===(t=this.hmpgFilterButton)||void 0===t||t.showElement(),this._mainContentDiv.showElement()}}},4713:(e,t,i)=>{i.d(t,{O:()=>p});var s=i(6624),a=i(6784),n=i(2326),r=i(3955),o=i(9268),l=i(2945),h=i(9930);class c extends o.fS{constructor(e){super({onHide:()=>{if((0,h.Cb)(),(0,h.r)()){const e=new URLSearchParams(window.location.search);e.delete("join_overlay");const t=e.toString(),i=""!==t?`?${t}`:window.location.pathname;s.UrlState.current.replaceUrl(i)}}}),this.initialLink=e}initWithoutAnchor(){const e=new o.QC(this.initialLink);e.initialHref=this.initialLink.href,this.initAndShow(e),this.registerLaterLink.onclick=e=>{e.preventDefault(),this.initialLink.click()}}}function d(e){const t=(0,r.ss)(e.target);if(void 0!==t&&(0,h.X9)(t)){const i=new c(t);window.scrollTo(0,0),i.initWithoutAnchor(),e.stopPropagation(),e.preventDefault(),(0,n.J)()}}function p(){void 0!==(0,l.JO)(window.location.search).join_overlay&&((0,a.wu)("mousedown",document,(e=>{2===e.button||d(e)})),(0,a.wu)("keydown",document,(e=>{"Enter"===e.key&&d(e)})))}},6037:(e,t,i)=>{i.d(t,{lc:()=>w,p3:()=>y});var s=i(8638),a=i(6624),n=i(4936),r=i(7623),o=i(5216),l=i(2709),h=i(82),c=i(3955),d=i(8423),p=i(7882),m=i(9268),u=i(1372),g=i(4873),T=i(7404),v=i(7995),S=i(2890),f=i(9930);const w=new d.c_("GenderDropdownToggle");class y extends h.b{createElement(e){return this.props=e,this.listeners=new d.gt,(0,u.tT)("ul",{className:"sub-nav genderTabs",style:{display:"block",top:"1px",marginTop:"2px"}})}renderTabs(){var e,t;this.listeners.removeAll(),null===(e=this.tabsDropdown)||void 0===e||e.dispose();const i=(0,p.Bg)(),s=null!==(t=this.props.enableGenderedLinkUpdates)&&void 0!==t&&t;this.removeAllDOMChildren(),this.firstTab=new R({text:this.getFirstTabText(),isActive:i===p.YT.All,gender:p.YT.All,enableGenderedLinkUpdates:s,onTabClick:this.props.onTabClick}),(0,f.r)()&&void 0!==a.UrlState.current.state.room&&this.firstTab.element.firstElementChild instanceof HTMLAnchorElement&&this.firstTab.element.firstElementChild.classList.add("activeRoom"),this.addChild(this.firstTab),(0,a.isOfflineFollowed)()||[p.YT.Female,p.YT.Male,p.YT.Couple,p.YT.Trans].forEach((e=>{this.element.appendChild((0,u.tT)(R,{isActive:i===e,gender:e,enableGenderedLinkUpdates:s,onTabClick:this.props.onTabClick}))})),this.makeComponentResponsive(),!Boolean(this.props.skipJoinOverlaySetup)&&this.element.isConnected&&(0,m.Nb)(this.element)}initUI(e){super.initUI(e),this.element.style.overflow="hidden",this.element.style.position="relative",this.element.style.display="block",this.element.style.top="1px",this.element.style.marginTop="2px",this.renderTabs(),window.setTimeout((()=>{(0,r.aq)()||(0,r.tJ)()||(document.body.style.minWidth=500-(0,c.XJ)()+"px")})),(0,f.r)()&&a.UrlState.current.listen(["room"],((e,t)=>{void 0!==t.room&&void 0!==e.room&&this.renderTabs()}),this.element)}initData(e){super.initData(e),v.D.onSubmit.addListener((()=>{this.renderTabs()}),this.element)}makeComponentResponsive(){if(null===this.element||!(this.element instanceof HTMLElement))return;const e=new l.u(this.element);this.makeGenderTabsResponsive(e),this.makeExpandableDropDownResponsive(e)}makeGenderTabsResponsive(e){Array.from(this.element.children).forEach((t=>{if(t instanceof HTMLElement){t.style.display="inline-block",t.style.position="relative",t.style.font=getComputedStyle(t).font;const i=new g.g2(t);this.listeners.add(i.onCollapseEvent.listen((e=>{i.element.style.margin=e?"5px 0":"",i.element.style.display=e?"block":"inline-block"}))),t.firstElementChild instanceof HTMLAnchorElement&&(t.firstElementChild.style.cursor=getComputedStyle(t.firstElementChild).cursor,t.firstElementChild.style.textDecoration="none",t.firstElementChild.classList.add("hover-event"),(0,c.JR)(t.firstElementChild,{ignoreTouch:!0}).listen((e=>{var i,s;e?null===(i=t.firstElementChild)||void 0===i||i.classList.add("hover"):null===(s=t.firstElementChild)||void 0===s||s.classList.remove("hover")})).addTo(this.listeners)),e.attachChild(i)}}))}makeExpandableDropDownResponsive(e){this.tabsDropdown=new g.Dw,this.tabsDropdown.element.classList.add("gender-tab"),e.addChild(this.tabsDropdown),this.tabsDropdown.dropDown.toggleEvent.listen((e=>{w.fire(e.isShowing)})),this.listeners.add(T.W.listen((e=>{this.tabsDropdown.collapseIfNeeded(),window.setTimeout((()=>{this.tabsDropdown.collapseIfNeeded()}),250)}))),(0,c.ZM)(this.tabsDropdown,{borderWidth:"1px",borderStyle:"solid",borderRadius:"4px 4px 0 0",height:"27px",lineHeight:"27px",marginRight:"2px",width:"41px"}),(0,c.ZM)(this.tabsDropdown.dropDown,{padding:"8px 20px 8px 0",width:"108px"})}get maxAvailableNonTabSpace(){const e=this.firstTab.element.offsetWidth+this.tabsDropdown.element.offsetWidth;return this.element.offsetWidth-e}getFirstTabText(){let e;const t=(0,a.shouldShowHomepageFilters)()||(0,a.isHomepageTab)()||(0,S.c_)()?s.i._({id:"7E6rF5",message:"FEATURED"}):s.i._({id:"Xn0YMF",message:"ALL GENDERS"});var i;return e=(0,f.r)()&&void 0!==a.UrlState.current.state.room?`${(0,n.VE)(a.UrlState.current.state.room)}'s Cam`:null!==(i=this.props.firstTabTitle)&&void 0!==i?i:t,e}static getInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y.instance||(y.instance=new y(e)),y.instance}dispose(){this.listeners.removeAll()}}class R extends h.b{getTranslatedGender(e){var t;return null!==(t=new Map([[p.YT.All,""],[p.YT.Male,s.i._({id:"OyyTfC",message:"MEN"})],[p.YT.Female,s.i._({id:"WDelzC",message:"WOMEN"})],[p.YT.Couple,s.i._({id:"uQLof0",message:"COUPLES"})],[p.YT.Trans,s.i._({id:"1yC3iy",message:"TRANS"})],[p.YT.OldTrans,s.i._({id:"1yC3iy",message:"TRANS"})]]).get(e))&&void 0!==t?t:""}createElement(e){var t,i,s;const a=null!==(t=null===(i=e.text)||void 0===i?void 0:i.toLowerCase())&&void 0!==t?t:this.getTranslatedGender(e.gender);return(0,u.tT)("li",{className:"gender-tab"},(0,u.tT)("a",{ref:e=>{this.anchorElement=e},className:"gender-tab tabElement tabElementLink"+(e.isActive?" active":""),"data-paction":"TopTab","data-testid":`top-section-tab-${a.toLowerCase()}`.replace(/ /g,"-"),href:b(e.gender),onClick:t=>{var i;null!==(i=this.state.isActive)&&void 0!==i&&i?t.preventDefault():t.ctrlKey||t.metaKey||t.shiftKey||(e.enableGenderedLinkUpdates&&(t.preventDefault(),f.wd.fire(e.gender)),void 0!==e.onTabClick&&e.onTabClick(t))},bind:{text:()=>this.state.text}},null!==(s=e.text)&&void 0!==s?s:this.getTranslatedGender(e.gender)))}initData(e){this.setState({text:this.anchorElement.innerText,isActive:e.isActive})}updateState(){super.updateState(),void 0!==this.state.isActive&&(this.state.isActive?this.anchorElement.classList.add("active"):this.anchorElement.classList.remove("active"))}}function b(e){const t=(0,p.P_)(e);let i;if((0,f.r)()&&void 0!==a.UrlState.current.state.room)i=a.UrlState.current.convertStateToUrl({genders:[t],pageType:a.PageType.HOME},!1);else{const e=function(){const e=new URLSearchParams(window.location.search);e.delete("g"),e.delete("page"),e.delete("pageb");const t=e.get("keywords");return null!==t&&""!==t?e.set("keywords",t):e.delete("keywords"),e.toString()}();i=`${function(e){return e===p.YT.All?A():(0,a.isHomepageTab)()?`/${(0,p.tg)(e)}/`:`${A()}${p.hf.get(e)}/`}(t)}${e?`?${e}`:""}`}return(0,o._Y)(i)}function A(){var e;let t=window.location.pathname;if(t.endsWith("/")||(t+="/"),(0,a.isHomepageTab)(t))return"/";const i=t.split("/"),s=null!==(e=i[i.length-2])&&void 0!==e?e:"";return!(4===i.length&&"tag"===i[1])&&(Boolean(s)&&p.IL.has(s)||(0,p.P_)(s)!==p.YT.All)&&i.splice(-2,1),i.join("/")}},1968:(e,t,i)=>{i.d(t,{n:()=>u,u:()=>g});var s=i(6624),a=i(7623),n=i(6784),r=i(8423),o=i(8451),l=i(9060),h=i(7407),c=i(9930),d=i(6037),p=i(7404),m=i(7995);function u(e){var t;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=document.getElementById(e);if(null===s)return;s.style.display="block";const a=new g({searchIcon:s,pushSearches:i});if(null===(t=s.parentElement)||void 0===t||t.insertBefore(a.element,s),!(0,l.rT)()){var n;const e=null!==(n=new URLSearchParams(window.location.search).get("keywords"))&&void 0!==n?n:"";g.searchKeywordValueUpdate.fire(e)}}class g extends m.D{constructor(){super(...arguments),this.MINIMIZED_CLASS="minimized",this.MAXIMIZED_CLASS="maximized"}initData(e){super.initData(e),this.searchIcon=e.searchIcon;const t=()=>{""!==this.input.value?this.onSubmitSearchInput():"none"===this.input.style.display?(this.showInputBar(),window.setTimeout((()=>{this.input.focus()})),(0,a.J0)()&&this.input.focus(),(0,h.bT)("SearchBarOpen")):(this.hideInputBar(),this.searchIcon.blur(),(0,h.bT)("SearchBarClose"))};this.searchIcon.onclick=t,this.searchIcon.onkeydown=e=>{(0,o.Ci)(e)&&(e.preventDefault(),t())},this.searchIcon.onblur=e=>{p.W.fire(e)},d.lc.listen((e=>{e&&this.onInputBlur()})),(0,l.rT)()?s.UrlState.current.listen(["keywords"],(e=>{var t;this.setInputKeywords(null!==(t=e.keywords)&&void 0!==t?t:"")}),this.element):g.searchKeywordValueUpdate.listen((e=>{this.setInputKeywords(e)})),(0,n.wu)("popstate",window,(()=>{this.input.blur()})),(0,n.wu)("pageshow",window,(()=>{window.setTimeout((()=>{var e,t;(0,l.rT)()?this.input.value=null!==(e=s.UrlState.current.state.keywords)&&void 0!==e?e:"":this.input.value=null!==(t=new URLSearchParams(window.location.search).get("keywords"))&&void 0!==t?t:"",this.minimizeInput()}),0)})),(0,l.rT)()?(s.UrlState.current.listen(["genders"],(()=>{this.input.blur()}),this.element),s.UrlState.current.listen(s.ALL,(()=>{var e;const t=null!==(e=new URLSearchParams(window.location.search).get("keywords"))&&void 0!==e?e:"";this.setInputKeywords(t)}),this.element)):c.wd.listen((()=>{this.input.blur()}))}setInputKeywords(e){this.input.value=e,""!==this.input.value&&this.showInputBar(),this.minimizeInput()}initUI(e){super.initUI(e),this.element.classList.add("RoomlistSearchInput"),this.input.className="search_input",this.input.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)",this.input.style["-webkit-focus-ring-color"]="rgba(255, 255, 255, 0)",""!==this.input.value&&this.showInputBar(),this.minimizeInput()}onSubmitSearchInput(){this.minimizeInput(),super.onSubmitSearchInput()}onInputBlur(){super.onInputBlur(),this.minimizeInput()}onInputFocus(){super.onInputFocus(),this.maximizeInput()}onInputDeleteClick(e){super.onInputDeleteClick(e),(0,a.J0)()&&this.maximizeInput()}maximizeInput(){this.input.classList.add(this.MAXIMIZED_CLASS),this.input.classList.remove(this.MINIMIZED_CLASS)}minimizeInput(){""===this.input.value?"none"!==this.input.style.display&&this.hideInputBar():(this.input.classList.add(this.MINIMIZED_CLASS),this.input.classList.remove(this.MAXIMIZED_CLASS))}}g.searchKeywordValueUpdate=new r.c_("searchKeywordValueUpdate")},5858:(e,t,i)=>{i.d(t,{iB:()=>o});var s=i(6624),a=i(7407);const n=5;let r;function o(e){(function(){const e=window.sessionStorage.getItem("pageaction_sample_id");if(null!==e)return parseInt(e);const t=Math.floor(100*Math.random())+1;return window.sessionStorage.setItem("pageaction_sample_id",t.toString()),t})()<=n&&(void 0!==r&&void 0!==r&&document.removeEventListener("click",r,!0),r=t=>{const i=t.target;"visible_genders"!==i.getAttribute("name")&&function(e,t){if(null!==t&&t.childNodes.length<=3){const i=function(e){const t=e.dataset.paction;if(void 0!==t)return t;for(;e.parentElement;){const t=(e=e.parentElement).dataset.paction;if(void 0!==t)return t}return""}(t);if(""!==(null!=i?i:"")){const s=function(e){var t;return function(e){const t=e.dataset.pactionName;if(void 0!==t)return t;for(;e.parentElement;){var i;const t=(e=e.parentElement).dataset.pactionName;if(void 0!==t)return t;if(""!==(null!==(i=e.title)&&void 0!==i?i:""))return e.title}return""}(e)||e.title||e.innerText||(null!==(t=e.getAttribute("value"))&&void 0!==t?t:"")||""}(t),n=t.parentElement;if(null!==n&&"true"===n.dataset.pactionSendPosition){const r=Array.prototype.indexOf.call(n.children,t),o=n.childElementCount;(0,a.bT)(e,{location:i,name:s,index:r,count:o})}else(0,a.bT)(e,{location:i,name:s})}}}(null!=e?e:function(){const e=s.UrlState.current.state.pageType;return"UIClick"+(e===s.PageType.ROOM?"Chatroom":e===s.PageType.DISCOVER?"Discovery":"Homepage")}(),i)},document.addEventListener("click",r,!0))}}}]);
//# sourceMappingURL=733-prod-60bdade490911fbcb022.js.map
</script>

</body>
</html>
