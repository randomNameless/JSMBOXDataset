<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>marketing-client.64b7ed.html</title>
</head>
<body>

<script>
parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"bZBa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConsentCookie=exports.Browsers=exports.OperatingSystems=exports.MarketingClientConstants=void 0;var e={placeholderClass:"mcBan",rootElement:"body",allowHarmonyTestingUrlParam:"enableHarmonyTest",allowHarmonyPreProductionUrlParam:"enableHarmonyPreProd",referrerParam:"referrer",refererParam:"referer",overwriteProfileUrlParam:"profileToOverwrite",dmParametersGlobalKey:"domain_marketing_params",dmBehavioralProfilesKey:"marketingDomainRequestParams",encodeHarmonyProfileHelperKey:"encodeHarmonyProfile",decodeHarmonyProfileHelperKey:"decodeHarmonyProfile",placeholderDataSetAttribute:"data-mc-placeholder-id",ddboxTemplateId:"17632443",plywakTemplateId:"17632437",hiddenClassName:"hidden",disabledClassName:"disabled",dHiddenClassName:"d-hidden",hasErrorClassName:"has-error",placeholderList:"domain_marketing",optanonAlertBoxClosed:"OptanonAlertBoxClosed=",stopScrolling:"stop-scrolling"};exports.MarketingClientConstants=e;var r={ANDROID:"ANDROID",IPHONE_OS:"IPHONE_OS"};exports.OperatingSystems=r;var a={CHROME:"Chrome",SAFARI:"Safari"};exports.Browsers=a;var o=["C0004","V2STACK42"];exports.ConsentCookie=o;
},{}],"kYNC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BannedEmailDomains=void 0;var a=["mailinator.com","sharklasers.com","guerillamail.info","grr.la","guerillamail.biz","guerillamail.com","guerillamail.de","guerillamail.net","guerillamail.org","guerillamailblock.com","pokemail.net","spam4.me","nwytg.net","armyspy.com","cuvox.de","dayrep.com","einrot.com","fleckens.hu","gustr.com","jourrapide.com","rhyta.com","superrito.com","teleworm.us","clrmail.com","eatlogs.com","dispostable.com","cd.mintemail.com","maildrop.cc","yopmail.com","spamgourmet.com","harakirimail.com","mailnesia.com","mt2015.com","33mail.com","tempr.email","discard.email","discardmail.com","discardmail.de","spambog.com","spambog.de","spambog.ru","0815.ru","hulapla.de","pfui.ru","0815.su","sweetxxx.de","zaktouni.fr","btcmail.pw","knol-power.nl","hartbot.de","freundin.ru","smashmail.de","s0ny.net","sohai.ml","wikidocuslava.ru","jumonji.tk","i6.cloudns.cc","i6.cloudns.cx","posta.store","milk.gage.ga","smap.4nmv.ru","spam.2012-2016.ru","pecinan.com","pecinan.org","budayationghoa.com","pecinan.net","budaya-tionghoa.com","meltedbrownies.com","larisia.com","starpower.space","thunderbolt.science","lajoska.pe.hu","hotmailproduct.com","yahooproduct.net","attnetwork.com","freelance-france.eu","webcontact-france.eu","fast-mail.fr","mail-easy.fr","instantmail.fr","cyber-phone.eu","premium-mail.fr","disign-concept.eu","ecolo-online.fr","photo-impact.eu","web-ideal.fr","wazabi.club","used-product.fr","cyber-innovation.club","reality-concept.club","last-chance.pro","disign-revelation.com","art-en-ligne.pro","solar-impact.pro","jet-renovation.fr","estate-invest.fr","klick-tipp.us","6-6-6.nut.cc","6-6-6.flu.cc","6-6-6.usa.cc","6-6-6.igg.biz","s-s.usa.cc","s-s.flu.cc","s-s.nut.cc","s-s.igg.biz","emailfake.usa.cc","ti.igg.biz","tx.igg.biz","txt.flu.cc","s0ny.usa.cc","s0ny.flu.cc","s0ny.nut.cc","s0ny.igg.biz","m5s.flu.cc","m5s.nut.cc","m5s.igg.biz","level3.usa.cc","level3.flu.cc","level3.nut.cc","level3.igg.biz","0x01.tk","0x01.gq","j7.cloudns.cx","pw.j7.cloudns.cx","txpwg.usa.cc","skypaluten.de","pw.mymy.cf","a.safe-mail.gq","x.0x01.tk","rr.0x01.gq","s.0x01.gq","ss.0x01.tk","tt.0x01.tk","mbox.0x01.tk","yop.0x01.gq","spam.0x01.tk","dm.j7.cloudns.cx","vw.0x01.tk","vw.0x01.gq","jj.0x01.tk","ths.mymy.cf","mbx.mysafe.ml","b.safe-mail.gq","c.safe-mail.gq","p-w.mysafe.ml","free.mysafe.ml","t4.0x01.tk","t4.0x01.gq","app.mymy.cf","ew.mysafe.ml","we.mysafe.ml","i.safe-mail.gq","j.safe-mail.gq","k.safe-mail.gq","l.safe-mail.gq","m.safe-mail.gq","n.safe-mail.gq","o.safe-mail.gq","p.safe-mail.gq","you.mymy.cf","i.mymy.cf","2.mymy.cf","msw.mymy.cf","yh.mysafe.ml","es.mysafe.ml","1.mysafe.ml","ap.mysafe.ml","m-x.mysafe.ml","on-off.cloudns.cx","3.mymy.cf","mail707.com","cano.cl","te.pecinan.org","te.budayationghoa.com","mail.ru","star.0x01.tk","star.0x01.gq","games4free.flu.cc","retkesbusz.nut.cc","asiarap.usa.cc","ay33rs.flu.cc","hunrap.usa.cc","44556677.igg.biz","my.safe-mail.gq"];exports.BannedEmailDomains=a;
},{}],"PsPp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validEmailRegexp=void 0;var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;exports.validEmailRegexp=e;
},{}],"oNv6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdObjectConstants=void 0;var t={dataCampaignId:"data-campaign-id",dataActionId:"data-action-id",dataTouchPointId:"data-touch-point-id"};exports.IdObjectConstants=t;
},{}],"FJxd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CtaObjectConstants=void 0;var t={dataCta:"data-cta",dataCtaCategory:"data-cta-category",dataCustomCtaCategory:"data-custom-cta-category"};exports.CtaObjectConstants=t;
},{}],"5OYG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DOMHelper=void 0;var e=function(){function e(){}return e.querySelector=function(e,r){return(r||document).querySelector(e)},e.querySelectorAsArray=function(e,r){var t=r||document;return t?Array.from(t.querySelectorAll(e)):[]},e.forEachQuerySelector=function(r,t,n){var o=e.querySelectorAsArray(r,n);o&&o.forEach(t)},e.mapQuerySelector=function(r,t,n){var o=e.querySelectorAsArray(r,n);return o?o.map(t):null},e.getElementById=function(e){return document.getElementById(e)},e.elementIsVisible=function(e){return"hidden"!==window.getComputedStyle(e).visibility},e}();exports.DOMHelper=e;
},{}],"4Lf/":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventType=void 0,exports.EventType=e,function(e){e.RESIZE="resize",e.SCROLL="scroll",e.SUBMIT="submit",e.CLICK="click",e.DISPLAY="display",e.CHANGE="change",e.INPUT="input",e.ORIENTATION_CHANGE="orientationchange",e.MOUSELEAVE="mouseleave",e.MOUSEWHEEL="mousewheel",e.MOUSEMOVE="mousemove",e.TOUCHMOVE="touchmove",e.FOCUS="focus",e.LOAD="load"}(e||(exports.EventType=e={}));
},{}],"ISz6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RwErrorMessage=exports.RwAccountErrorCode=exports.RwSelector=exports.RwObjectConstants=void 0;var e={dataArticleCounter:"data-rw-article-counter",dataStage:"data-rw-stage",dataStageEndDate:"data-rw-stage-end-date"};exports.RwObjectConstants=e;var o={rwFirstPromotionSelector:".rw-first-promotion",rwSecondPromotionSelector:".rw-second-promotion",rwOwnerSelector:".rw_owner"};exports.RwSelector=o;var r={accountExists:"konto istnieje",accountUnconfirmed:"konto do aktywacji"};exports.RwAccountErrorCode=r;var t={required:"Pole e-mail jest wymagane!",banned:"Podany e-mail jest błędny, wpisz poprawny adres",accountExists:"Masz już konto w Wyborczej",accountUnconfirmed:'Proces zakładania konta już rozpoczęty. Nie masz e-maila aktywacyjnego? <a style="text-decoration: underline;">Wyślij go ponownie.</a>',subscriptionError:"Błąd! Nie udało się zapisać na newsletter. Spróbuj ponownie za chwilę."};exports.RwErrorMessage=t;
},{}],"Ktwm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZcpClickIds=exports.DdboxConstants=void 0;var o={class:".mod_ddbox",delay:8e3,closeButton:".close",editorWrapper:"__editorTarget",visible:"is-visible",locked:"is-locked",coords:"coords",dataCoords:"data-coords",tooBig:"is-too-big",mobile:"mobile_client",desktop:"desktop_client",timerSelector:".ddbox-timer-countdown",articleVisited:"mc_onboarding_has_visited",wyborczaArticleBody:"#wyborcza_article_body",bdScrollPt:"bd-scroll-pt",mutationValue:{25:"[25,50,75,100]",50:"[50,75,100]",75:"[75,100]",100:"[100]"},defaultMutationValue:"25",defaultScrollUpDistance:50};exports.DdboxConstants=o;var e={acceptChangesAndConsent:"klik akceptuje zmiany i wyrazam zgode",acceptChanges:"klik akceptuje zmiany",back:"klik wroc",doNotConsent:"klik nie wyrazam zgody",inAnyCaseDoNotConsent:"klik mimo to nie wyrazam zgody",close:"klik x",helpLink:"klik w pomoc",closeInModal:"klik w zamknij",openModal:"klik w przejdz do zgody",displayedModal:"wyswietlono ddbox",closeSwimmer:"klik x na plywaku"};exports.ZcpClickIds=e;
},{}],"8wWJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utils=void 0;var t=require("../constants/marketing-client-constants"),e=require("../constants/banned-email-domains"),n=require("../constants/utils-constants"),a=require("../constants/id-object-constants"),r=require("../constants/cta-object-constants"),o=require("../helpers/dom-helper"),i=require("../constants/event-type-constants"),s=require("../constants/rw-object.constants"),u=require("../constants/ddbox-constants");function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=function(){function l(){}return l.isNullOrUndefined=function(t){return null==t},l.isObject=function(t){return!(l.isNullOrUndefined(t)||"object"!==c(t)||t instanceof Array)},l.isArray=function(t){return!l.isNullOrUndefined(t)&&t instanceof Array},l.stringNotEmpty=function(t){return!l.isNullOrUndefined(t)&&"string"==typeof t&&t.length>0},l.getURLParamsAsArray=function(){return window.location.search.substring(1).split("&").map(function(t){var e=t.split("="),n=e[0],a=e[1],r={key:n,value:null};switch(a){case"true":r.value=!0;break;case"false":r.value=!1;break;case"null":r.value=null;break;case"undefined":case"":r.value=void 0;break;default:if(isNaN(Number(a)))try{r.value=decodeURIComponent(a)}catch(o){r.value=a}else r.value=Number(a)}return r})},l.getURLParamsAsObject=function(){var t=l.getURLParamsAsArray(),e={};return t.forEach(function(t){e[t.key]=t.value}),e},l.getDMParams=function(){var e=window[t.MarketingClientConstants.dmParametersGlobalKey],n={};return l.isNullOrUndefined(e)?null:(Object.keys(e).forEach(function(t){l.isObject(e[t])||void 0===e[t]||(n[t]=e[t])}),n)},l.getURLParamFromEventTarget=function(t,e){if(t){var n=new URL(t),a=new URLSearchParams(n.search||"");if(a.has(e))return a.get(e)||""}return""},l.getBigDataVariable=function(t,e){var n=l.getCookie(t),a=window.DataOcean&&window.DataOcean.BluewhalePortal&&window.DataOcean.BluewhalePortal.bwTrck&&window.DataOcean.BluewhalePortal.bwTrck[e]?window.DataOcean.BluewhalePortal.bwTrck[e]:null;return null!==n||a?n||a:""},l.getCookie=function(t){for(var e=t+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return null},l.validateEmail=function(t){var a=t.trim(),r=a.split("@")[1];return!(!a.length||!n.validEmailRegexp.test(a.toLowerCase())||-1!==e.BannedEmailDomains.indexOf(r))},l.showContainer=function(e,n){void 0===n&&(n=t.MarketingClientConstants.hiddenClassName),e&&e.classList.remove(n)},l.hideContainer=function(e,n){void 0===n&&(n=t.MarketingClientConstants.hiddenClassName),e&&e.classList.add(n)},l.prepareCtaObject=function(t){var e={},n=o.DOMHelper.querySelector("["+r.CtaObjectConstants.dataCta+"], ["+r.CtaObjectConstants.dataCtaCategory+"]",t),a=(null==n?void 0:n.getAttribute(r.CtaObjectConstants.dataCta))||t.getAttribute(r.CtaObjectConstants.dataCta),i=(null==n?void 0:n.getAttribute(r.CtaObjectConstants.dataCtaCategory))||t.getAttribute(r.CtaObjectConstants.dataCtaCategory),s=(null==n?void 0:n.getAttribute(r.CtaObjectConstants.dataCustomCtaCategory))||t.getAttribute(r.CtaObjectConstants.dataCustomCtaCategory);return a&&l.stringNotEmpty(a)&&(e.cta=a),i&&l.stringNotEmpty(i)&&(e.ctaCategory=i),s&&l.stringNotEmpty(s)&&(e.customCtaCategory=s),e},l.prepareCollectionIdsObject=function(t){var e={},n=t.getAttribute(a.IdObjectConstants.dataCampaignId),r=t.getAttribute(a.IdObjectConstants.dataActionId),o=t.getAttribute(a.IdObjectConstants.dataTouchPointId);return n&&(e.campaignId=n),r&&(e.actionId=r),o&&(e.touchPointId=o),e},l.prepareRegistrationWallObject=function(t){var e={},n=o.DOMHelper.querySelector("["+s.RwObjectConstants.dataArticleCounter+"], ["+s.RwObjectConstants.dataStage+"], ["+s.RwObjectConstants.dataStageEndDate+"]",t),a=null==n?void 0:n.getAttribute(s.RwObjectConstants.dataArticleCounter),r=null==n?void 0:n.getAttribute(s.RwObjectConstants.dataStage),i=null==n?void 0:n.getAttribute(s.RwObjectConstants.dataStageEndDate);return a&&(e.articleCounter=a),r&&(e.stage=r),i&&(e.stageEndDate=i),e},l.smoothScrollTo=function(t){window.scrollTo({top:t,behavior:"smooth"})},l.attributeToNumber=function(t){if(t&&t.length){var e=parseInt(t,10);return Number.isNaN(e)?void 0:e}},l.showElementAfterTimeout=function(t,e){var n,a=!1,r=0;function o(){n=window.setTimeout(function(){a=!0,t(),document.removeEventListener(i.EventType.MOUSEWHEEL,s),document.removeEventListener(i.EventType.MOUSEMOVE,s),document.removeEventListener(i.EventType.TOUCHMOVE,s),document.removeEventListener(i.EventType.SCROLL,s)},r)}function s(){a||(window.clearTimeout(n),o())}e&&(r=1e3*e),document.addEventListener(i.EventType.MOUSEWHEEL,s),document.addEventListener(i.EventType.MOUSEMOVE,s),document.addEventListener(i.EventType.TOUCHMOVE,s),document.addEventListener(i.EventType.SCROLL,s),o()},l.showElementAfterMutation=function(t,e){return void 0===e&&(e=u.DdboxConstants.mutationValue[75]),function(n){for(var a=0,r=n;a<r.length;a++)if(r[a].oldValue===e)return void t()}},l.detectScrollUp=function(t,e){if(void 0===e&&(e=u.DdboxConstants.defaultScrollUpDistance),0!==e){var n=window.pageYOffset||document.documentElement.scrollTop;window.addEventListener("scroll",function a(){var r=window.pageYOffset||document.documentElement.scrollTop;n-r>e&&(window.removeEventListener("scroll",a),t()),r>n&&(n=r)})}else t()},l.changeFormatImg=function(t,e){if(t)return t.replace("X",""+e)},l.addReferrerAndLpParams=function(t){try{var e=window.location,n=""+e.origin+e.pathname,a=new URL(t);return a.searchParams.set("LP","false"),a.searchParams.set("articleReferer",n),a.href}catch(r){return console.warn(r),t}},l}();exports.Utils=l;
},{"../constants/marketing-client-constants":"bZBa","../constants/banned-email-domains":"kYNC","../constants/utils-constants":"PsPp","../constants/id-object-constants":"oNv6","../constants/cta-object-constants":"FJxd","../helpers/dom-helper":"5OYG","../constants/event-type-constants":"4Lf/","../constants/rw-object.constants":"ISz6","../constants/ddbox-constants":"Ktwm"}],"2Moq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.httpInstance=exports.Http=void 0;var e=require("../utils/utils"),t=function(){function t(){}return t.prototype.execute=function(t,r){var n=this;return new Promise(function(s,a){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&i.status>=200&&i.status<300?s(n.prepareResponse(i)):4===i.readyState&&i.status>=300&&i.status<=599&&a(n.prepareResponse(i))},i.onerror=function(){a(n.prepareResponse(i))},i.withCredentials=!!e.Utils.isNullOrUndefined(t.withCredentials)||t.withCredentials;var o=n.prepareDataToSend(t.data,r);if("GET"===r&&e.Utils.stringNotEmpty(o)?i.open(r,""+t.url+o,!0):i.open(r,t.url,!0),"GET"!==r){var p=!0;if(!e.Utils.isNullOrUndefined(t.headers)){var u=t.headers;e.Utils.isNullOrUndefined(u["Content-Type"])||(p=!1)}p&&i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.Utils.isNullOrUndefined(t.headers)||n.applyAllRequestHeaders(i,t.headers),i.send(o)}else e.Utils.isNullOrUndefined(t.headers)||n.applyAllRequestHeaders(i,t.headers),i.send()})},t.prototype.get=function(e){return this.execute(e,"GET")},t.prototype.post=function(e){return this.execute(e,"POST")},t.prototype.put=function(e){return this.execute(e,"PUT")},t.prototype.delete=function(e){return this.execute(e,"DELETE")},t.prototype.prepareDataToSend=function(t,r){var n;if("GET"!==r){if(t instanceof URLSearchParams)return t.toString();try{n=JSON.stringify(t)}catch(s){n=t.toString()}return n}if(e.Utils.isObject(t))return n="?",n+=Object.keys(t).map(function(r){var n;if(e.Utils.isObject(t[r])||e.Utils.isArray(t[r]))try{n=encodeURIComponent(JSON.stringify(t[r]))}catch(s){n=encodeURIComponent(t[r])}else n=encodeURIComponent(t[r]);return r+"="+n}).join("&")},t.prototype.applyAllRequestHeaders=function(e,t){Object.keys(t).forEach(function(r){e.setRequestHeader(r,t[r])})},t.prototype.prepareResponse=function(e){var t=this.tryParsingData(e.responseText),r=this.parseResponseHeaders(e);return{status:e.status,requestState:e.readyState,data:t,responseHeaders:r}},t.prototype.parseResponseHeaders=function(t){var r={};if(!t.HEADERS_RECEIVED)return console.warn("Request headers are not yet present, returning empty object"),r;var n=t.getAllResponseHeaders();return e.Utils.stringNotEmpty(n)?(n.trim().split(/[\r\n]+/).forEach(function(t){var n=t.split(": "),s=n.shift(),a=n.join(": ");e.Utils.stringNotEmpty(s)&&(r[s]=a)}),r):r},t.prototype.tryParsingData=function(t){if(e.Utils.stringNotEmpty(t))switch(t){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;default:var r=Number(t);if(!isNaN(r))return r;try{return JSON.parse(t)}catch(n){return t}}},t}();exports.Http=t;var r=new t;exports.httpInstance=r;
},{"../utils/utils":"8wWJ"}],"qlft":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeviceInformationHelper=exports.PageType=exports.DeviceType=void 0;var e,t,r=require("./dom-helper"),n=require("../constants/marketing-client-constants");exports.DeviceType=e,function(e){e.MOBILE="mobile",e.DESKTOP="desktop"}(e||(exports.DeviceType=e={})),exports.PageType=t,function(e){e.ARTICLE="article",e.HP="hp"}(t||(exports.PageType=t={}));var o=function(){function e(){}return e.getDeviceType=function(){var e;return null===(e=r.DOMHelper.querySelector(n.MarketingClientConstants.rootElement))||void 0===e?void 0:e.getAttribute("data-device")},e.getOS=function(){var e;return null===(e=r.DOMHelper.querySelector(n.MarketingClientConstants.rootElement))||void 0===e?void 0:e.getAttribute("data-os")},e.getXX=function(){var e;return null===(e=r.DOMHelper.querySelector(n.MarketingClientConstants.rootElement))||void 0===e?void 0:e.getAttribute("data-xx")},e.getPageType=function(){var e;return null===(e=r.DOMHelper.querySelector(n.MarketingClientConstants.rootElement))||void 0===e?void 0:e.getAttribute("data-pagetype")},e}();exports.DeviceInformationHelper=o;
},{"./dom-helper":"5OYG","../constants/marketing-client-constants":"bZBa"}],"G1ld":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserData=void 0;var e=require("../utils/utils"),r=require("../constants/marketing-client-constants"),t=require("../helpers/device-information-helper"),i=function(){function i(){this.profile={url:"",tags:[]}}return i.prototype.getProfile=function(){var i=e.Utils.getURLParamsAsObject(),o=i[r.MarketingClientConstants.refererParam],s=i[r.MarketingClientConstants.referrerParam],n=t.DeviceInformationHelper.getOS(),a=t.DeviceInformationHelper.getDeviceType(),l=e.Utils.getDMParams(),f={};if(!e.Utils.isNullOrUndefined(l)){l=l;try{var p=l[r.MarketingClientConstants.dmBehavioralProfilesKey];e.Utils.stringNotEmpty(p)&&(f=JSON.parse(p))}catch(c){console.warn("Could not convert behavioral profile. Possibly empty or wrongly formatted")}Object.assign(this.profile,f),Object.assign(this.profile,l),delete this.profile[r.MarketingClientConstants.dmBehavioralProfilesKey],this.profile.url=window.location.href,this.profile.referer=o||document.referrer,this.profile.referrer=s||document.referrer,this.profile.os=n,this.profile.device=a}},i}();exports.UserData=i;
},{"../utils/utils":"8wWJ","../constants/marketing-client-constants":"bZBa","../helpers/device-information-helper":"qlft"}],"Zms+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BigDataObjectConstants=void 0;var a={dataOceanKey:"DataOcean",bigDataGUIDCookieOld:"bwGuidv2",bigDataGUIDCookie:"bwGuidv3",bigDataBlueWhaleObject:"DataOcean.BluewhalePortal.bwTrck",bigDataGUID:"BLUEWHALE_GUID",bigDataSiteDetails:"site_details",pageViewBigData:"PAGE_VIEW_ID",pageViewCookie:"bwPageViewId",visitIdCookie:"bwVisitId",visitIdBigData:"VISIT_ID",artPvidParam:"art_pvid"};exports.BigDataObjectConstants=a;
},{}],"Rp9g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BigData=void 0;var e=require("./constants/big-data-object-constants"),t=require("./helpers/big-data-helper"),a=require("./helpers/device-information-helper"),n=require("./utils/utils"),i=function(e,t,a,n){return new(a||(a=Promise))(function(i,r){function o(e){try{c(n.next(e))}catch(t){r(t)}}function s(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})},r=function(e,t){var a,n,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(s){r=[6,s],n=0}finally{a=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},o=function(){function o(){}return o.sendDataOceanEvent=function(e,t){var a={e:e,a:t};window.DataOcean&&window.DataOcean.userEventCache&&window.DataOcean.userEventCache.push(a)},o.prepareDataOceanAttribute=function(a,n,i,r){void 0===i&&(i={}),void 0===r&&(r="");var s=t.BigDataHelper.getBigDataGUID(),c=t.BigDataHelper.getBigDataOrCookieValue(e.BigDataObjectConstants.pageViewCookie,e.BigDataObjectConstants.pageViewBigData),u=t.BigDataHelper.getBigDataOrCookieValue(e.BigDataObjectConstants.visitIdCookie,e.BigDataObjectConstants.visitIdBigData),l=o.getHashedEmail(),p=r.length?{clickID:r}:{};return Object.assign({visitId:u,pageViewId:c,guid:s},n,a,i,l,p)},o.getHashedEmail=function(){var e=window.domain_marketing_params;return e&&e.hashedEmail&&e.hashedEmail.length?{externalId:e.hashedEmail}:{}},o.prepareBlackList=function(){var e=n.Utils.attributeToNumber(a.DeviceInformationHelper.getXX()),t=[{definitionOuterId:0,objectId:"1001"}];return e&&t.push({definitionOuterId:e,objectId:"1001"}),t},o.prepareRequestDto=function(e,a){var n={blackList:o.prepareBlackList(),widgetId:e,userIds:{guid:t.BigDataHelper.getBigDataGUID(),gwemid:t.BigDataHelper.getBigDataGWEMID(),gwguid:t.BigDataHelper.getBigDataGWGUID()}};return a?Object.assign(n,{params:a}):n},o.getRecommendations=function(e,t){return i(this,void 0,Promise,function(){return r(this,function(a){switch(a.label){case 0:return[4,fetch("https://recommendation.wyborcza.pl/recommendations/v1/bigdata/widget?localTopicDayResponse",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o.prepareRequestDto(e,t))})];case 1:return[4,a.sent().json()];case 2:return[2,a.sent()]}})})},o}();exports.BigData=o;
},{"./constants/big-data-object-constants":"Zms+","./helpers/big-data-helper":"VizB","./helpers/device-information-helper":"qlft","./utils/utils":"8wWJ"}],"lX7C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CookieHelper=void 0;var e=function(){function e(){}return e.set=function(e,t,r){var n="";if(r){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),n="; expires="+o.toUTCString()}document.cookie=e+"="+t+n+"; path=/"},e.get=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},e.destroy=function(t){e.set(t,"",-1)},e}();exports.CookieHelper=e;
},{}],"VizB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BigDataHelper=void 0;var t=require("../constants/big-data-object-constants"),e=require("../marketing-client-bigdata"),a=require("../utils/utils"),i=require("./cookie-helper"),n=function(){function n(){}return n.getBigDataObject=function(){var e=t.BigDataObjectConstants.bigDataBlueWhaleObject.split("."),a=e[0],i=e[1],n=e[2];return window[a]&&window[a][i]&&window[a][i][n]?window[a][i][n]:null},n.getBigDataGUID=function(){var e=n.getBigDataObject();if(a.Utils.isNullOrUndefined(e))return null;var r=(e=e)[t.BigDataObjectConstants.bigDataGUID];return null!==i.CookieHelper.get(t.BigDataObjectConstants.bigDataGUIDCookie)||r?i.CookieHelper.get(t.BigDataObjectConstants.bigDataGUIDCookie)||r:null},n.getBigDataGWGUID=function(){return window[t.BigDataObjectConstants.bigDataSiteDetails]?window[t.BigDataObjectConstants.bigDataSiteDetails].gwguid:""},n.getBigDataGWEMID=function(){return window[t.BigDataObjectConstants.bigDataSiteDetails]?window[t.BigDataObjectConstants.bigDataSiteDetails].gwemid:""},n.getBigDataOrCookieValue=function(t,e){var r=i.CookieHelper.get(t),o=n.getBigDataObject(),l=null;return a.Utils.isNullOrUndefined(o)||(l=(o=o)[e]),a.Utils.isNullOrUndefined(r)&&a.Utils.isNullOrUndefined(l)?"":r||l},n.createAttribute=function(t,i,n,r){void 0===i&&(i=!1),void 0===n&&(n="");var o=i?t:t.parentElement,l=o&&a.Utils.prepareCollectionIdsObject(o)||{},s=o&&a.Utils.prepareCtaObject(o)||{},g=o&&a.Utils.prepareRegistrationWallObject(o)||{};return r&&s.ctaCategory&&(s.ctaCategory=r),e.BigData.prepareDataOceanAttribute(s,l,g,n)},n}();exports.BigDataHelper=n;
},{"../constants/big-data-object-constants":"Zms+","../marketing-client-bigdata":"Rp9g","../utils/utils":"8wWJ","./cookie-helper":"lX7C"}],"kUNX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SquidURLs=exports.RequestPaths=exports.URLBase=void 0;var t={TEST:"https://coreos05.wyborcza.pl:9092/",PROD:"/"};exports.URLBase=t;var e={TEMPLATE:"marketing-proxy/template/v2",AGREEMENT:"marketing-proxy/agreement"};exports.RequestPaths=e;var s={https:"https://squid.gazeta.pl",http:"http://squid.gazeta.pl"};exports.SquidURLs=s;
},{}],"gGic":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BigDataClickID=exports.BigDataEventConstants=void 0;var o={onDisplay:"470",onLoad:"471",onClick:"472",onAddingToNewsletter:"373",onLoadingHardClosing:"380"};exports.BigDataEventConstants=o;var i={createAccount:"klik załóż konto",purchaseSubscription:"klik kup prenumeratę",login:"klik zaloguj przez",logout:"klik wyloguj",unlockAndRead:"klik odblokuj i czytaj",resendEmail:"klik wyślij ponownie email",startProcessAgain:"klik rozpocznij proces jeszcze raz",helpContact:"klik kontakt pomoc",unlockArticle:"klik w odblokuj artykuł",signupAndContinue:"klik zapisz się i przejdź dalej",confirmationEmailAddress:"Potwierdzenie adersu email",checkMailbox:"Sprawdź skrzynkę"};exports.BigDataClickID=i;
},{}],"uZFC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CappingConstants=void 0;var e={displayPath:"events/display",registerPath:"events/register"};exports.CappingConstants=e;
},{}],"lTX2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Capping=void 0;var t=require("./constants/big-data-constants"),a=require("./constants/big-data-object-constants"),e=require("./constants/capping-constants"),i=require("./helpers/big-data-helper"),n=require("./marketing-client-bigdata"),s=require("./utils/utils"),o=function(){function o(t){this.http=t}return o.prototype.setGUID=function(t){this.guid=t},o.prototype.sendCapping=function(t,i){void 0===i&&(i=!1);var n=s.Utils.getBigDataVariable(a.BigDataObjectConstants.visitIdCookie,a.BigDataObjectConstants.visitIdBigData),o=s.Utils.getBigDataVariable(a.BigDataObjectConstants.pageViewCookie,a.BigDataObjectConstants.pageViewBigData),r=s.Utils.getURLParamsAsObject().enableHarmonyTest?"https://coreos09.wyborcza.pl:8097/":"/marketing-events/",p=i?e.CappingConstants.displayPath:e.CappingConstants.registerPath;return t.visitId=n,t.pageViewId=o,t.guid=this.guid,this.http.put({url:""+r+p,headers:{"Content-Type":"application/json"},data:t})},o.prototype.sendCappingEvent=function(a,e){void 0===e&&(e=!1);var s=e?t.BigDataEventConstants.onDisplay:t.BigDataEventConstants.onLoad,o=i.BigDataHelper.createAttribute(a),r={campaignId:o.campaignId,actionId:o.actionId,touchPointId:o.touchPointId}||{};this.sendCapping(r,e),n.BigData.sendDataOceanEvent(s,o)},o}();exports.Capping=o;
},{"./constants/big-data-constants":"gGic","./constants/big-data-object-constants":"Zms+","./constants/capping-constants":"uZFC","./helpers/big-data-helper":"VizB","./marketing-client-bigdata":"Rp9g","./utils/utils":"8wWJ"}],"S6Vu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.marketingClientDataLayer=exports.MarketingClientDataLayer=void 0;var t=require("./helpers/dom-helper"),e=require("./utils/utils"),a=require("./constants/event-type-constants"),i=function(){function i(){this.dataLayer="dataLayer",this.dataset="dataset",this.hrefAttribute="href",this.ctaAttribute="cta",this.ctaCategoryAttribute="ctaCategory",this.ctaContainerAttribute="[data-cta]",this.ctaCategoryContainerAttribute="[data-cta-category]",this.paywallEventName="paywallEvent"}return i.prototype.init=function(){this.bindClickEventToElementsWithDataCtaAttribute(),this.bindDisplayEventToElementsWithDataCtaAttribute()},i.prototype.bindClickEventToElementsWithDataCtaAttribute=function(){var e=this;t.DOMHelper.querySelectorAsArray(this.ctaContainerAttribute).forEach(function(t){t.removeEventListener(a.EventType.CLICK,function(t){e.onClick(t)}),t.addEventListener(a.EventType.CLICK,function(t){e.onClick(t)},!0)})},i.prototype.bindDisplayEventToElementsWithDataCtaAttribute=function(){var e=this;t.DOMHelper.querySelectorAsArray(this.ctaCategoryContainerAttribute).forEach(function(t){e.onDisplay(t)})},i.prototype.onClick=function(t){var e=t.target;this.pushEventToDataLayer(this.prepareOnClickEventDataToSend(e))},i.prototype.prepareOnClickEventDataToSend=function(t){var i="",r="";if(t){var n=t.getAttribute(this.hrefAttribute)||"",o=t.closest(this.ctaCategoryContainerAttribute);if(r=o?o[this.dataset][this.ctaCategoryAttribute]:"",i=e.Utils.getURLParamFromEventTarget(n,this.ctaAttribute),!e.Utils.stringNotEmpty(i)){var s=t.closest(this.ctaContainerAttribute);i=s&&s[this.dataset][this.ctaAttribute]||""}}return{gtmAction:a.EventType.CLICK,gtmLabel:i,gtmCategory:r}},i.prototype.onDisplay=function(t){this.pushEventToDataLayer({gtmAction:a.EventType.DISPLAY,gtmLabel:t.dataset.cta||"",gtmCategory:t.dataset.ctaCategory||""})},i.prototype.pushEventToDataLayer=function(t){window[this.dataLayer]=window[this.dataLayer]||[];var e=t,a=e.gtmCategory,i=e.gtmAction,r=e.gtmLabel;window[this.dataLayer].push({gtmAction:i,gtmLabel:r,gtmCategory:a,event:this.paywallEventName})},i}();exports.MarketingClientDataLayer=i;var r=new i;exports.marketingClientDataLayer=r;
},{"./helpers/dom-helper":"5OYG","./utils/utils":"8wWJ","./constants/event-type-constants":"4Lf/"}],"Bnvb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClientAttributesConstants=void 0;var a={placeholderId:"data-mc-placeholder-id",isSwimmer:"data-mc-placeholder-swimmer",isDDBox:"data-mc-placeholder-ddbox",campaignId:"data-campaign-id",cta:"data-cta",ctaCategory:"data-cta-category",actionId:"data-action-id",dataDm:"data-dm",touchPointId:"data-touch-point-id",initializedClass:"is-initialized",videoClassSelector:"#background-cfp"};exports.MarketingClientAttributesConstants=a;
},{}],"t4g5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClientCustomDataLayerConstants=void 0;var t={customDataLayer:"customDataLayer",displayAttribute:"Display"};exports.MarketingClientCustomDataLayerConstants=t;
},{}],"Kzad":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.marketingClientCustomDataLayer=exports.MarketingClientCustomDataLayer=void 0;var t=require("./helpers/dom-helper"),e=require("./marketing-client-datalayer"),n=require("./constants/marketing-client-constants"),i=require("./constants/marketing-client-attributes-constants"),r=require("./utils/utils"),o=require("./constants/marketing-client-custom-data-layer-constants"),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(e){function s(){var t=null!==e&&e.apply(this,arguments)||this;return t.windowHeight=0,t.dmElements=new Array,t}return a(s,e),s.prototype.init=function(){this.windowHeight=window.innerHeight,this.prepareDMElements(),this.onDisplay(),this.onScroll()},s.prototype.prepareDMElements=function(){var e=this;t.DOMHelper.querySelectorAsArray("["+n.MarketingClientConstants.placeholderDataSetAttribute+"]").forEach(function(t){var o=t,a=o.getAttribute(n.MarketingClientConstants.placeholderDataSetAttribute)||"",s=o.getAttribute(i.MarketingClientAttributesConstants.isSwimmer),l=o.getAttribute(i.MarketingClientAttributesConstants.isDDBox),c=r.Utils.stringNotEmpty(l)&&"true"===l,u=r.Utils.stringNotEmpty(s)&&"true"===s,p=r.Utils.prepareCtaObject(o),m=r.Utils.prepareCollectionIdsObject(o);c||e.dmElements.push({element:o,templateId:a,isSwimmer:u,ctaObject:p,collectionIdsObject:m,visible:!1})})},s.prototype.onDisplay=function(){var e=this;this.dmElements.forEach(function(n){var i=n.isSwimmer&&t.DOMHelper.elementIsVisible(n.element)&&""!==n.element.innerHTML,r=t.DOMHelper.elementIsVisible(n.element)&&n.element.offsetTop<=e.windowHeight,o=n.ctaObject,a=o.cta,l=void 0===a?"":a,c=o.ctaCategory,u=void 0===c?"":c;(i||r)&&(n.visible=!0,s.sendDMEvent(u,l))})},s.prototype.onScroll=function(){window.onscroll=this.sendEventOnScroll.bind(this)},s.prototype.sendEventOnScroll=function(){var t=this,e=window.scrollY||0;this.dmElements.forEach(function(n){if(n.element.offsetTop&&e+.7*t.windowHeight>=n.element.offsetTop&&!n.visible&&""!==n.element.innerHTML){var i=n.ctaObject,r=i.cta,o=void 0===r?"":r,a=i.ctaCategory,l=void 0===a?"":a;n.visible=!0,s.sendDMEvent(l,o)}})},s.sendDMEvent=function(t,e){var n=window[o.MarketingClientCustomDataLayerConstants.customDataLayer]||{};"function"==typeof n.zajawkaDMEvent&&n.zajawkaDMEvent({category:t,action:o.MarketingClientCustomDataLayerConstants.displayAttribute,message:e})},s}(e.MarketingClientDataLayer);exports.MarketingClientCustomDataLayer=s;var l=new s;exports.marketingClientCustomDataLayer=l,l.init();
},{"./helpers/dom-helper":"5OYG","./marketing-client-datalayer":"S6Vu","./constants/marketing-client-constants":"bZBa","./constants/marketing-client-attributes-constants":"Bnvb","./utils/utils":"8wWJ","./constants/marketing-client-custom-data-layer-constants":"t4g5"}],"KmOk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UtilizationConstants=void 0;var a={dataUtilizeRegistrationWall:"data-utilize-registration-wall",dataUtilizeChild:"data-utilize-child",dataUtilize:"data-utilize",dataCampaignId:"data-campaign-id",dataActionId:"data-action-id",dataTouchPointId:"data-touch-point-id",dataReferrer:"data-referrer",tagA:"a",tagArea:"area",classMcBan:".mcBan",classMod:".mod",visible:"is-visible"};exports.UtilizationConstants=a;
},{}],"1wI1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utilization=void 0;var t=require("./constants/event-type-constants"),i=require("./constants/big-data-object-constants"),e=require("./constants/marketing-client-utilization-constants"),n=require("./utils/utils"),a=require("./constants/marketing-client-attributes-constants"),o=require("./marketing-client-bigdata"),s=require("./constants/big-data-constants"),r=require("./helpers/big-data-helper"),l=function(){return(l=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var a in i=arguments[e])Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);return t}).apply(this,arguments)},c=function(){function c(t){this.http=t}return c.prototype.init=function(){this.searchLinksToUtilize(),this.bindUtilization()},c.prototype.setGUID=function(t){this.guid=t},c.prototype.searchLinksToUtilize=function(){this.links=document.querySelectorAll("["+e.UtilizationConstants.dataUtilize+"]")},c.prototype.bindUtilization=function(){var i=this;this.links.forEach(function(n){var a=n.querySelector("["+e.UtilizationConstants.dataUtilizeChild+"]")?n.querySelector(e.UtilizationConstants.tagA):n;a&&(a.removeEventListener(t.EventType.CLICK,function(t){i.utilizeLink(t)}),a.addEventListener(t.EventType.CLICK,function(t){i.utilizeLink(t)}))})},c.prototype.utilizeLink=function(t){var i,o=t.target,s=o.nodeName.toLocaleLowerCase(),r=[e.UtilizationConstants.tagA,e.UtilizationConstants.tagArea].includes(s)?o:o.closest(e.UtilizationConstants.tagA),l=r&&(r.closest("["+a.MarketingClientAttributesConstants.placeholderId+"]")||r.closest("["+a.MarketingClientAttributesConstants.dataDm+"]")),c=r&&r.getAttribute(e.UtilizationConstants.dataUtilize)||r&&(null===(i=r.closest("["+e.UtilizationConstants.dataUtilizeChild+"]"))||void 0===i?void 0:i.getAttribute(e.UtilizationConstants.dataUtilize)),u=""===(null==r?void 0:r.getAttribute(e.UtilizationConstants.dataReferrer)),p=null==r?void 0:r.getAttribute("href");if(p&&u&&(p=n.Utils.addReferrerAndLpParams(p)),c&&l){t.preventDefault(),this.sendBigDataEvent(l,c);var d=this.prepareDataToSend(l,c);this.utilize(d).then(function(){p&&window.location&&(window.location.href=p)})}},c.prototype.sendBigDataEvent=function(t,i){void 0===i&&(i="brak");var e=r.BigDataHelper.createAttribute(t,!0),n=this.prepareDataToSend(t,i);o.BigData.sendDataOceanEvent(s.BigDataEventConstants.onClick,l(l({},e),n))},c.prototype.prepareDataToSend=function(t,e){var a=n.Utils.getBigDataVariable(i.BigDataObjectConstants.visitIdCookie,i.BigDataObjectConstants.visitIdBigData),o=n.Utils.getBigDataVariable(i.BigDataObjectConstants.pageViewCookie,i.BigDataObjectConstants.pageViewBigData),s=n.Utils.prepareCollectionIdsObject(t);return l({guid:this.guid,visitId:a,pageViewId:o,condition:e},s)},c.prototype.utilize=function(t){var i=n.Utils.getURLParamsAsObject().enableHarmonyTest?"https://coreos09.wyborcza.pl:8097/":"/marketing-events/";return this.http.post({url:i+"events/utilize",headers:{"Content-Type":"application/json"},data:t})},c}();exports.Utilization=c;
},{"./constants/event-type-constants":"4Lf/","./constants/big-data-object-constants":"Zms+","./constants/marketing-client-utilization-constants":"KmOk","./utils/utils":"8wWJ","./constants/marketing-client-attributes-constants":"Bnvb","./marketing-client-bigdata":"Rp9g","./constants/big-data-constants":"gGic","./helpers/big-data-helper":"VizB"}],"f/XI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimerCountdown=void 0;var t={winterOffset:"01:00",summerOffset:"02:00"},e=function(){function e(t,e){this.element=null,this.endDate=t,this.selector=e}return e.prototype.init=function(){var t=this;this.initDomElement(),this.startTimer(),this.interval=setInterval(function(){t.startTimer()},1e3)},e.prototype.initDomElement=function(){this.element=document.querySelector(this.selector)},e.prototype.startTimer=function(){var t=this.getTimeUntil(this.endDate),e=t.hours,n=t.minutes,i=t.seconds;t.theEnd&&this.stopTimer(),this.element&&(this.element.innerHTML=e+":"+n+":"+i)},e.prototype.stopTimer=function(){clearInterval(this.interval)},e.prototype.isWinterTime=function(t){void 0===t&&(t=new Date);var e=t.getFullYear(),n=this.getLastSundayOfMonth(e,10),i=this.getLastSundayOfMonth(e,3),r=new Date(e,9,n,3),o=new Date(e,2,i,2);return t>=r||t<o},e.prototype.getLastSundayOfMonth=function(t,e){var n=new Date(t,e,0);return n.setDate(n.getDate()-n.getDay()),n.getDate()},e.prototype.getTimeUntil=function(e){var n=this.isWinterTime()?t.winterOffset:t.summerOffset,i=new Date(new Date(e+"+"+n).toUTCString()).getTime()-(new Date).getTime();return i<=0?{hours:"00",minutes:"00",seconds:"00",theEnd:!0}:{hours:Math.floor(i/36e5).toString().padStart(2,"0"),minutes:Math.floor(i%36e5/6e4).toString().padStart(2,"0"),seconds:Math.floor(i%6e4/1e3).toString().padStart(2,"0"),theEnd:!1}},e}();exports.TimerCountdown=e;
},{}],"aJ3M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SwimmerConstants=void 0;var a=require("./marketing-client-attributes-constants"),t={swimmerSelector:"["+a.MarketingClientAttributesConstants.isSwimmer+'="true"]',swimmerHPSelector:"PLDM_SWIM_HP",closeButtonSelector:".close",padlockSelector:"#p_lock_body",copSwimmerCarouselSelector:".cop_swimmer_carousel",visibleClass:"is-visible",closedManuallyClass:"closed-manually",animationClass:"hiding",hiddenClass:"hidden",promoboxDelay:8e3,dataPromoboxDelay:"data-promobox-delay",dataPromoboxDelayValue:"data-promobox-delay-value",dataOnExitPopUp:"data-on-exit-pop-up",dataOnExitPopUpValue:"data-on-exit-pop-up-value",dataUserInactivityTimeout:"data-user-inactivity-timeout",dataUserInactivityTimeoutValue:"data-user-inactivity-timeout-value",dataAutoRotation:"data-auto-rotate",dataRotationInterval:"data-rotation-interval",collapsButtonID:"collaps-button",arrowUpID:"arrow-up",arrowLeftID:"arrow-left",arrowRightID:"arrow-right",articleBoxesID:["box0","box1","box2"],timerDateSelector:"[data-timer-swimmer]",timerSelector:".swimmer-timer-countdown",placeholderPadlock:"[data-mc-placeholder-id='PLDM_ART_PADLOCK']",placeholderWidgetHp:"[data-mc-placeholder-id='PLDM_WIDGET_HP']",dataIsZcp:"data-is-zcp",dataArticleScroll:"data-article-scroll",dataArticleScrollValue:"data-article-scroll-value"};exports.SwimmerConstants=t;
},{"./marketing-client-attributes-constants":"Bnvb"}],"O+0P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubShareOnboardingErrorMessage=exports.SubShareOnboardingSelector=exports.SubShareOnboardingConst=exports.RecommendationOnboardingConst=exports.OnboardingConstants=exports.PREV_STEP=exports.NEXT_STEP=void 0;var e="nextStep";exports.NEXT_STEP=e;var o="prevStep";exports.PREV_STEP=o;var r={containerSelector:".ddbox-onboarding",nextStepEvent:"Przejdź dalej",prevStepEvent:"Wróć",closeEvent:"X",finishEvent:"Zakończ",shareSubEvent:"Podaruj prenumeratę",viewAbility:"1",viewAbilityId:"rekomendacje-onboarding-dm",prevCarouselEvent:"article-carousel-left",nextCarouselEvent:"article-carousel-right",downloadApp:"pobierz app",downloadAppIos:"pobierz app ios",downloadAppAndroid:"pobierz app android"};exports.OnboardingConstants=r;var t={dataRecommendation:"data-recommendation",sliderElements:"ddbox-onboarding__recommendation__slider__elements",desktopWrapper:"ddbox-onboarding__recommendation__slider__desktop-wrapper",sliderElement:"ddbox-onboarding__recommendation__slider__element",sliderTag:"ddbox-onboarding__recommendation__slider__element__tag",sliderTitle:"ddbox-onboarding__recommendation__slider__element__title",sliderPhoto:"ddbox-onboarding__recommendation__slider__element__photo",sliderPhotoWrapper:"ddbox-onboarding__recommendation__slider__element__photo-wrapper",arrowRight:"ddbox-onboarding__recommendation__slider__arrow--right",arrowLeft:"ddbox-onboarding__recommendation__slider__arrow--left",arrowDesktop:"arrow-desktop",arrowMobile:"arrow-mobile",activeDesktop:"active-desktop",activeElement:"active-element"};exports.RecommendationOnboardingConst=t;var n={visible:"visible",visibleDesktop:"visible_desktop",enterSecondEmail:"Wprowadź drugi adres e-mail",invitationSent:"✓ Zaproszenie wysłane"};exports.SubShareOnboardingConst=n;var a={sharesubSelector:".mc-sharesub",firstEmailSelector:".mc-sharesub-email-1",secondEmailSelector:".mc-sharesub-email-2",firstGiftButtonSelector:".mc-sharesub-gift-button-1",secondGiftButtonSelector:".mc-sharesub-gift-button-2",firstEmailContainerSelector:".mc-sharesub-input-container--1",secondEmailContainerSelector:".mc-sharesub-input-container--2",emailContainerSelectors:".mc-sharesub-input-container",addButtonSelector:".mc-sharesub-add-button",prevBtnSelector:".mc-sharesub-back-btn",nextBtnSelector:".mc-sharesub-forward-btn",finishButtonSelector:".mc-sharesub-save-btn",descriptionSelector:".mc-sharesub-description",sentTwoInvitesDescSelector:".mc-sharesub-sent-two-invites-desc"};exports.SubShareOnboardingSelector=a;var i={banned:"Podany e-mail jest błędny, wpisz poprawny adres",fillToShare:"Uzupełnij, aby podzielić się subskrypcją",required:"Pole e-mail jest wymagane!",shareToAdd:"Podziel się, aby dodać kolejną osobę"};exports.SubShareOnboardingErrorMessage=i;
},{}],"Hovf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ddbox=void 0;var t=require("./constants/big-data-constants"),e=require("./constants/ddbox-constants"),o=require("./constants/event-type-constants"),i=require("./helpers/dom-helper"),n=require("./marketing-client-bigdata"),s=require("./marketing-client-custom-datalayer"),a=require("./utils/utils"),r=require("./helpers/timer-countdown"),c=require("./helpers/device-information-helper"),l=require("./constants/swimmer-constants"),d=require("./constants/onboarding-constants"),u=function(){return(u=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},p=function(){function p(t,e){this.ddboxIsVisible=!1,this.mouseleave=!1,this.isZcp=!1,this.isMobile=t,this.capping=e}return p.prototype.init=function(){var t,o=i.DOMHelper.querySelector(e.DdboxConstants.class);o&&o.parentElement&&(this.collectionIdsObject=a.Utils.prepareCollectionIdsObject(o.parentElement),this.ctaObject=a.Utils.prepareCtaObject(o.parentElement),this.sendCapping(),this.prepareDdbox(o),this.initTimer(null===(t=null==o?void 0:o.dataset)||void 0===t?void 0:t.timerDdbox))},p.prototype.initTimer=function(t){t&&(this.timerCountdown=new r.TimerCountdown(t,e.DdboxConstants.timerSelector))},p.prototype.sendCapping=function(e){void 0===e&&(e=!1);var o=u({},this.ctaObject);o&&o.customCtaCategory&&(o.ctaCategory=o.customCtaCategory);var i=n.BigData.prepareDataOceanAttribute(o,this.collectionIdsObject),s=e?t.BigDataEventConstants.onDisplay:t.BigDataEventConstants.onLoad;this.capping.sendCapping(this.collectionIdsObject,e),n.BigData.sendDataOceanEvent(s,i)},p.prototype.prepareDdbox=function(t){var e=this,i=t.dataset.onExitPopUp,n=t.dataset.userInactivityTimeout,s=t.dataset.ddboxWithRw,a=t.dataset.ddboxWithZcp,r=t.dataset.articleScroll;this.isZcp=!!a,t.style.display="none",this.bindActions(t),this.ddboxIsVisible=!0,this.isMobile&&(o.EventType.ORIENTATION_CHANGE in window?window.addEventListener(o.EventType.ORIENTATION_CHANGE,function(){e.shrinkIfTooBig(t)}):window.addEventListener(o.EventType.RESIZE,function(){e.shrinkIfTooBig(t)})),s||a||(i&&!this.isMobile?this.onExitPopUp(t):n?this.onUserInactivityTimeout(t):r?this.onArticleScroll(t):this.onDelay(t))},p.prototype.onExitPopUp=function(t){var e=this;document.addEventListener(o.EventType.MOUSELEAVE,function(o){o.clientY<=0&&!e.mouseleave&&(e.showDdbox(t),e.mouseleave=!0)})},p.prototype.onUserInactivityTimeout=function(t){var e=this,o=t.dataset.userInactivityTimeoutValue,i=a.Utils.attributeToNumber(o);a.Utils.showElementAfterTimeout(function(){e.showDdbox(t)},i)},p.prototype.onArticleScroll=function(t){var o=c.DeviceInformationHelper.getPageType(),n=Number(t.dataset.articleScrollValue)||0,s=JSON.parse(localStorage.getItem(e.DdboxConstants.articleVisited)||"false"),a=!!i.DOMHelper.querySelector(d.OnboardingConstants.containerSelector);s||o!==c.PageType.ARTICLE?this.showDdboxAfterDelay(t,n):(a&&localStorage.setItem(e.DdboxConstants.articleVisited,JSON.stringify(!0)),this.observeArticleScroll(t,a))},p.prototype.showDdboxAfterDelay=function(t,e){var o=this;setTimeout(function(){return o.showDdbox(t)},e)},p.prototype.observeArticleScroll=function(t,o){var n=this,s=i.DOMHelper.querySelector("["+e.DdboxConstants.bdScrollPt+"]"),r=t.getAttribute(l.SwimmerConstants.dataArticleScrollValue)||e.DdboxConstants.defaultMutationValue,c=o?0:e.DdboxConstants.defaultScrollUpDistance;s&&new MutationObserver(a.Utils.showElementAfterMutation(function(){return a.Utils.detectScrollUp(n.showDdbox.bind(n,t),c)},e.DdboxConstants.mutationValue[r])).observe(s,{attributes:!0,attributeFilter:[e.DdboxConstants.bdScrollPt],attributeOldValue:!0})},p.prototype.onDelay=function(t){var o=this;setTimeout(function(){o.showDdbox(t)},e.DdboxConstants.delay)},p.prototype.showDdbox=function(t){var o,i,n=this,a=document.body,r=(null===(o=t.parentElement)||void 0===o?void 0:o.dataset.dynamicUtilization)||"",c=t.querySelectorAll('a:not([href="#"])'),l=this.collectionIdsObject||{},d=l.campaignId,u=void 0===d?"":d,p=l.actionId,h=void 0===p?"":p,b=l.touchPointId,v=void 0===b?"":b,y=this.ctaObject||{},f=y.cta,m=void 0===f?"":f,D=y.ctaCategory,g=void 0===D?"":D;t.dataset.campaignId=u,t.dataset.actionId=h,t.dataset.touchPointId=v,t.dataset.dm="true",a.append(t),r&&c.length>0&&c.forEach(function(t){n.setHref(t,u,h,v)}),this.isMobile&&(this.shrinkIfTooBig(t),this.lockBody()),null===(i=this.timerCountdown)||void 0===i||i.init(),t.style.display="block",t.classList.add(e.DdboxConstants.visible),s.MarketingClientCustomDataLayer.sendDMEvent(g,m),this.sendCapping(!0)},p.prototype.setHref=function(t,e,o,i){var n=t.getAttribute("href"),s=!!(n&&n.indexOf("?")>-1),a=n+(s?"&":"?")+"campaignId="+e+"&actionId="+o+"&touchPointId="+i;t.setAttribute("href",a)},p.prototype.bindActions=function(t){var n=this;this.isZcp||i.DOMHelper.querySelectorAsArray(e.DdboxConstants.closeButton,t).forEach(function(e){e.addEventListener(o.EventType.CLICK,function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,n.closeDdbox(t)})})},p.prototype.closeDdbox=function(t){t.classList.remove(e.DdboxConstants.visible),this.isMobile&&this.unLockBody(),setTimeout(function(){t.remove()},300)},p.prototype.lockBody=function(){document.body.classList.add(e.DdboxConstants.locked)},p.prototype.unLockBody=function(){document.body.classList.remove(e.DdboxConstants.locked)},p.prototype.shrinkIfTooBig=function(t){var e=this,o=t.querySelector("img");if(o)if(o.complete)this.resizeImage(o,t);else{var i=new Image;i.onload=function(){e.resizeImage(i,t)},i.src=o.src}},p.prototype.resizeImage=function(t,o){var i=t.height,n=window.innerHeight;i>n?(o.classList.add(e.DdboxConstants.tooBig),t.style.height=n+"px"):(o.classList.remove(e.DdboxConstants.tooBig),t.style.height="auto")},p}();exports.Ddbox=p;
},{"./constants/big-data-constants":"gGic","./constants/ddbox-constants":"Ktwm","./constants/event-type-constants":"4Lf/","./helpers/dom-helper":"5OYG","./marketing-client-bigdata":"Rp9g","./marketing-client-custom-datalayer":"Kzad","./utils/utils":"8wWJ","./helpers/timer-countdown":"f/XI","./helpers/device-information-helper":"qlft","./constants/swimmer-constants":"aJ3M","./constants/onboarding-constants":"O+0P"}],"EiqN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewsSwimmerConstants=void 0;var e={newsSwimmerClass:".news_swimmer",newsButtonCloseClass:".news_swimmer-close-wrapper",newsSwimmerWrapperClass:".news_swimmer-wrapper",newsSwimmerCollapsedClass:".news_swimmer-collapsed",newsSwimmerArrowSvg:".news_swimmer-collapsed svg",newsSwimmerStep2Close:".step-2-close-wrapper"};exports.NewsSwimmerConstants=e;
},{}],"Mgtd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Swimmer=void 0;var t=require("./constants/event-type-constants"),e=require("./constants/swimmer-constants"),i=require("./constants/marketing-client-attributes-constants"),o=require("./constants/marketing-client-constants"),s=require("./helpers/dom-helper"),n=require("./utils/utils"),r=require("./marketing-client-utilization"),l=require("./http/http"),a=require("./helpers/timer-countdown"),m=require("./constants/news-swimmer-constants"),c=require("./marketing-client-bigdata"),d=require("./constants/big-data-constants"),p=require("./helpers/big-data-helper"),w=require("./constants/ddbox-constants"),u=function(){function u(t,e){this.isMobile=t,this.capping=e,this.hiding=!1,this.rwSwimmerID="rw-swimmer",this.copSwimmerID="content-onexit-popup-swimmer",this.currentBoxToDisplay=0,this.utilizationObject=new r.Utilization(l.httpInstance),this.classSwimmerPromoBoxButton=".nw_2021_swimmer-button-wrapper"}return u.prototype.init=function(){var t,i,r,l,a,m,c,d,p,w,u=this,C=s.DOMHelper.querySelectorAsArray(e.SwimmerConstants.swimmerSelector),h=C.find(function(t){return u.placecholderIsSwimmerHP(t)}),S=!!h&&!!(null===(t=s.DOMHelper.querySelector("section",h))||void 0===t?void 0:t.innerHTML.length),v=this.ddboxIsVisible();this.initializePadlock(),this.initializeWidgetHp(),this.initializeSwimmerPromoBox();var b=null===(a=null===(l=null===(r=null===(i=window.wyborcza_pl)||void 0===i?void 0:i.MarketingClient)||void 0===r?void 0:r.userData)||void 0===l?void 0:l.profile)||void 0===a?void 0:a.fullContentVisibleForUser,g=null===(c=null===(m=this.swimmerPromoBox)||void 0===m?void 0:m.dataset)||void 0===c?void 0:c.linkPadlock,y=null===(p=null===(d=this.swimmerPromoBox)||void 0===d?void 0:d.dataset)||void 0===p?void 0:p.hideSwimmermobile,f=!("true"===g&&(!0===b||void 0===b));if(C.forEach(function(t){var i=s.DOMHelper.querySelector("section",t),r=!!h&&u.placecholderIsSwimmerHP(t);(S?r:!v)&&i&&f?(u.sendCapping(i),u.prepareSwimmer(i,r)):(null==i||i.classList.remove(e.SwimmerConstants.visibleClass),n.Utils.hideContainer(i,o.MarketingClientConstants.dHiddenClassName))}),this.initializeNewsSwimmer(),!v){var B=s.DOMHelper.querySelector(e.SwimmerConstants.timerDateSelector);"true"===g&&(this.bindEventsHideSwimmerAtHeightOfPlaceholderId(),this.bindEventsSwimmerPromoBoxScrollToPadlock()),"true"===y&&this.isMobile&&this.bindEventsHideSwimmerAtHeightOfPlaceholderId(),this.initializeTimer(null===(w=null==B?void 0:B.dataset)||void 0===w?void 0:w.timerSwimmer)}},u.prototype.initializeNewsSwimmer=function(){this.initializeNewsSwimmerElements(),this.bindNewsSwimmerEvents()},u.prototype.initializeNewsSwimmerElements=function(){this.newsSwimmer=s.DOMHelper.querySelector(m.NewsSwimmerConstants.newsSwimmerClass),this.newsButtonClose=s.DOMHelper.querySelector(m.NewsSwimmerConstants.newsButtonCloseClass),this.newsSwimmerWrapper=s.DOMHelper.querySelector(m.NewsSwimmerConstants.newsSwimmerWrapperClass),this.newsSwimmerCollapsed=s.DOMHelper.querySelector(m.NewsSwimmerConstants.newsSwimmerCollapsedClass),this.newsSwimmerArrowSvg=s.DOMHelper.querySelector(m.NewsSwimmerConstants.newsSwimmerArrowSvg),this.newsSwimmerStep2Close=s.DOMHelper.querySelector(m.NewsSwimmerConstants.newsSwimmerStep2Close)},u.prototype.bindNewsSwimmerEvents=function(){this.bindNewsSwimmerStep2CloseEvent(),this.bindNewsButtonCloseEvent(),this.bindNewsSwimmerArrowSvgEvent()},u.prototype.bindNewsSwimmerStep2CloseEvent=function(){var i=this;this.newsSwimmerStep2Close&&this.newsSwimmerStep2Close.addEventListener(t.EventType.CLICK,function(t){var o;null===(o=i.newsSwimmer)||void 0===o||o.classList.remove(e.SwimmerConstants.visibleClass)})},u.prototype.bindNewsButtonCloseEvent=function(){var i=this;this.newsButtonClose&&this.newsButtonClose.addEventListener(t.EventType.CLICK,function(t){var o,s,n;t.preventDefault(),null===(o=i.newsSwimmerWrapper)||void 0===o||o.classList.add(e.SwimmerConstants.hiddenClass),null===(s=i.newsSwimmer)||void 0===s||s.classList.add(e.SwimmerConstants.visibleClass),null===(n=i.newsSwimmerCollapsed)||void 0===n||n.classList.remove(e.SwimmerConstants.hiddenClass)})},u.prototype.bindNewsSwimmerArrowSvgEvent=function(){var i=this;this.newsSwimmerArrowSvg&&this.newsSwimmerArrowSvg.addEventListener(t.EventType.CLICK,function(t){var o,s;null===(o=i.newsSwimmerWrapper)||void 0===o||o.classList.remove(e.SwimmerConstants.hiddenClass),null===(s=i.newsSwimmerCollapsed)||void 0===s||s.classList.add(e.SwimmerConstants.hiddenClass)})},u.prototype.initializeSwimmerPromoBox=function(){this.swimmerPromoBox=s.DOMHelper.querySelector(e.SwimmerConstants.timerDateSelector),this.swimmerPromoBoxButton=s.DOMHelper.querySelector(this.classSwimmerPromoBoxButton,this.swimmerPromoBox)},u.prototype.initializePadlock=function(){this.padlockElement=s.DOMHelper.querySelector(e.SwimmerConstants.placeholderPadlock)},u.prototype.initializeWidgetHp=function(){this.widgetHpElement=s.DOMHelper.querySelector(e.SwimmerConstants.placeholderWidgetHp)},u.prototype.bindEventsSwimmerPromoBoxScrollToPadlock=function(){var e=this;this.swimmerPromoBoxButton&&this.swimmerPromoBoxButton.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),e.scrollToPadlockForSwimmerPromoBox()})},u.prototype.bindEventsHideSwimmerAtHeightOfPlaceholderId=function(){var e=this;this.swimmerPromoBox&&document.addEventListener(t.EventType.SCROLL,function(){e.toggleSwimmer()})},u.prototype.toggleSwimmer=function(){var t,e,i=this.padlockElement||this.widgetHpElement,o=null===(t=this.swimmerPromoBox)||void 0===t?void 0:t.offsetTop,s=null==i?void 0:i.getBoundingClientRect().top,n=(null===(e=this.swimmerPromoBox)||void 0===e?void 0:e.getBoundingClientRect().height)||250,r=this.getScreenHeight();s&&o&&s<=o?this.closeSwimmerPromoBox():s&&window.scrollY+(r-n)+20<s&&this.showSwimmerPromoBox()},u.prototype.getScreenHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},u.prototype.scrollToPadlockForSwimmerPromoBox=function(){var t=this;this.padlockElement&&requestAnimationFrame(function(){setTimeout(function(){t.scrollToElement(),t.closeSwimmerPromoBox()},100)})},u.prototype.scrollToElement=function(){if(this.padlockElement){var t=this.padlockElement.offsetTop-window.innerHeight/3;n.Utils.smoothScrollTo(t)}},u.prototype.closeSwimmerPromoBox=function(){var t;null===(t=this.swimmerPromoBox)||void 0===t||t.classList.remove(e.SwimmerConstants.visibleClass)},u.prototype.showSwimmerPromoBox=function(){var t,i;(null===(t=this.swimmerPromoBox)||void 0===t?void 0:t.classList.contains(e.SwimmerConstants.closedManuallyClass))||null===(i=this.swimmerPromoBox)||void 0===i||i.classList.add(e.SwimmerConstants.visibleClass)},u.prototype.sendCapping=function(t,e){void 0===e&&(e=!1),this.capping.sendCappingEvent(t,e)},u.prototype.ddboxIsVisible=function(){var t=window.wyborcza_pl;return t&&t.MarketingClient&&t.MarketingClient.bannersObject&&t.MarketingClient.bannersObject.ddbox&&t.MarketingClient.bannersObject.ddbox.ddboxIsVisible},u.prototype.placecholderIsSwimmerHP=function(t){return t.getAttribute(i.MarketingClientAttributesConstants.placeholderId)===e.SwimmerConstants.swimmerHPSelector},u.prototype.prepareSwimmer=function(t,i){var o=document.querySelector(e.SwimmerConstants.padlockSelector),n=!!t.getAttribute(e.SwimmerConstants.dataOnExitPopUp)&&this.isMobile,r=!!t.getAttribute(e.SwimmerConstants.dataUserInactivityTimeout)&&this.isMobile,l=!!t.getAttribute(e.SwimmerConstants.dataPromoboxDelay),a=!!t.getAttribute(e.SwimmerConstants.dataIsZcp),m=!!t.getAttribute(e.SwimmerConstants.dataArticleScroll);this.swimmerRW=s.DOMHelper.getElementById(this.rwSwimmerID),this.swimmerCOP=s.DOMHelper.getElementById(this.copSwimmerID),this.swimmerCOP&&(this.initializeCopSwimmerButtons(),this.initializeCopSwimmerBoxes()),this.bindActions(t,a),o&&this.bindAutoClosing(t),n?this.onExitPopUp(t,i):l?this.bindVisibilityForPromoboxDelay(t,i):r?this.onUserInactivityTimeout(t,i):m?this.onScrollActivity(t):i?this.bindAutoClosingForSwimmerHP(t):this.swimmerRW||a||this.sendCapping(t,!0)},u.prototype.initializeCopSwimmerButtons=function(){this.copButtonCollaps=s.DOMHelper.getElementById(e.SwimmerConstants.collapsButtonID),this.copButtonArrowUp=s.DOMHelper.getElementById(e.SwimmerConstants.arrowUpID),this.copButtonArrowLeft=s.DOMHelper.getElementById(e.SwimmerConstants.arrowLeftID),this.copButtonArrowRight=s.DOMHelper.getElementById(e.SwimmerConstants.arrowRightID)},u.prototype.initializeCopSwimmerBoxes=function(){this.copArticleBoxes=[];for(var t=0,i=e.SwimmerConstants.articleBoxesID;t<i.length;t++){var o=i[t],n=s.DOMHelper.getElementById(o);n&&this.copArticleBoxes.push(n)}},u.prototype.initializeTimer=function(t){var i;t&&(this.timerCountdown=new a.TimerCountdown(t,e.SwimmerConstants.timerSelector),null===(i=this.timerCountdown)||void 0===i||i.init())},u.prototype.bindActions=function(i,o){var s=this;void 0===o&&(o=!1);var n=i.querySelector(e.SwimmerConstants.closeButtonSelector);n&&n.addEventListener(t.EventType.CLICK,function(t){if(t.preventDefault(),s.closeSwimmerManually(i),o){var e=p.BigDataHelper.createAttribute(i,!1,w.ZcpClickIds.closeSwimmer);c.BigData.sendDataOceanEvent(d.BigDataEventConstants.onClick,e)}}),this.swimmerCOP&&this.bindCopSwimmerEvents(i)},u.prototype.bindCopSwimmerEvents=function(t){this.bindCopCollaps(),this.bindCopArrowUp(),this.bindCopArrowLeft(),this.bindCopArrowRight(),this.bindCopAutoRotation(t)},u.prototype.bindCopCollaps=function(){var e=this;this.copButtonCollaps&&this.copButtonCollaps.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),e.toggleCarousel()})},u.prototype.bindCopArrowUp=function(){var e=this;this.copButtonArrowUp&&this.copButtonArrowUp.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),e.toggleCarousel()})},u.prototype.bindCopArrowLeft=function(){var e=this;this.copButtonArrowLeft&&this.copButtonArrowLeft.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),clearInterval(e.copInterval),e.previousBox()})},u.prototype.bindCopArrowRight=function(){var e=this;this.copButtonArrowRight&&this.copButtonArrowRight.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),clearInterval(e.copInterval),e.nextBox()})},u.prototype.bindCopAutoRotation=function(t){var i=this,o=t.getAttribute(e.SwimmerConstants.dataAutoRotation),s=t.getAttribute(e.SwimmerConstants.dataRotationInterval),n=s&&+s>0?1e3*+s:4e3;"true"===o&&(this.copInterval=setInterval(function(){i.nextBox()},n))},u.prototype.closeSwimmerManually=function(t){t.classList.remove(e.SwimmerConstants.visibleClass),t.classList.add(e.SwimmerConstants.closedManuallyClass)},u.prototype.bindAutoClosing=function(i){var o=this;window.addEventListener(t.EventType.CLICK,function(){i.classList.contains(e.SwimmerConstants.closedManuallyClass)||o.checkSwimmerAutoVisibility(i)})},u.prototype.checkSwimmerAutoVisibility=function(t){var i,o=null===(i=document.querySelector(e.SwimmerConstants.padlockSelector))||void 0===i?void 0:i.getBoundingClientRect().top,s=t.getBoundingClientRect().top,n=window.innerHeight;o&&o<=s&&t.classList.remove(e.SwimmerConstants.visibleClass),o&&o>n&&t.classList.add(e.SwimmerConstants.visibleClass)},u.prototype.onExitPopUp=function(t,i){var o=t.getAttribute(e.SwimmerConstants.dataOnExitPopUpValue),s=n.Utils.attributeToNumber(o);this.bindAutoClosingForExitPopUp(t,i,s)},u.prototype.onUserInactivityTimeout=function(t,i){var o=this,s=t.getAttribute(e.SwimmerConstants.dataUserInactivityTimeoutValue),r=n.Utils.attributeToNumber(s);t.classList.remove(e.SwimmerConstants.visibleClass),n.Utils.showElementAfterTimeout(function(){t.classList.add(e.SwimmerConstants.visibleClass),o.sendCapping(t,!0),i&&o.bindAutoClosingForSwimmerHP(t)},r)},u.prototype.onScrollActivity=function(t){var i=this;t.classList.remove(e.SwimmerConstants.visibleClass);var o=s.DOMHelper.querySelector("["+w.DdboxConstants.bdScrollPt+"]"),r=t.getAttribute(e.SwimmerConstants.dataArticleScrollValue)||"25";o&&new MutationObserver(n.Utils.showElementAfterMutation(function(){return n.Utils.detectScrollUp(function(){t.classList.add(e.SwimmerConstants.visibleClass),i.sendCapping(t,!0)})},w.DdboxConstants.mutationValue[r])).observe(o,{attributes:!0,attributeFilter:[w.DdboxConstants.bdScrollPt],attributeOldValue:!0})},u.prototype.bindVisibilityForPromoboxDelay=function(t,i){var o=this,s=t.getAttribute(e.SwimmerConstants.dataPromoboxDelayValue),r=n.Utils.attributeToNumber(s),l=r&&r>0?1e3*r:e.SwimmerConstants.promoboxDelay;t.classList.remove(e.SwimmerConstants.visibleClass),setTimeout(function(){t.classList.add(e.SwimmerConstants.visibleClass),o.sendCapping(t,!0),i&&o.bindAutoClosingForSwimmerHP(t)},l)},u.prototype.bindAutoClosingForExitPopUp=function(i,o,s){var n=this;void 0===s&&(s=800);var r=window.innerHeight/3,l=0,a=0,m=!1,c=!1,d=!1;if((s-=r)<1&&(s=1),i.classList.remove(e.SwimmerConstants.visibleClass),window.addEventListener(t.EventType.SCROLL,function(){window.scrollY>s?(window.scrollY>a?(d=!1,l=window.scrollY):d=!0,a=window.scrollY):d=!1,c=Math.abs(l-window.scrollY)>r,d&&c&&!i.classList.contains(e.SwimmerConstants.visibleClass)&&!m&&(i.classList.add(e.SwimmerConstants.visibleClass),n.sendCapping(i,!0),m=!0)}),o){var p=s+r;this.bindAutoClosingForSwimmerHP(i,p)}},u.prototype.bindAutoClosingForSwimmerHP=function(i,o){var s=this;void 0===o&&(o=800);var n=0,r=!1,l=!1,a=0,m=!1;i.classList.remove(e.SwimmerConstants.visibleClass),window.addEventListener(t.EventType.SCROLL,function(){window.scrollY>o?(r=!(window.scrollY>n),n=window.scrollY):r=!1,l=!s.hiding&&Math.abs(a-window.scrollY)>40,r?l&&!i.classList.contains(e.SwimmerConstants.visibleClass)&&(s.hiding=!0,a=window.scrollY,i.classList.add(e.SwimmerConstants.visibleClass),i.classList.remove(e.SwimmerConstants.animationClass),m||(m=!0,s.sendCapping(i,!0)),setTimeout(function(){s.hiding=!1},1e3)):l&&i.classList.contains(e.SwimmerConstants.visibleClass)&&(s.hiding=!0,a=window.scrollY,i.classList.add(e.SwimmerConstants.animationClass),setTimeout(function(){i.classList.remove(e.SwimmerConstants.visibleClass),s.hiding=!1},1e3))})},u.prototype.toggleCarousel=function(){var t,i,o=s.DOMHelper.querySelector(e.SwimmerConstants.copSwimmerCarouselSelector);null==o||o.classList.toggle(e.SwimmerConstants.hiddenClass),null===(t=this.copButtonCollaps)||void 0===t||t.classList.toggle(e.SwimmerConstants.hiddenClass),null===(i=this.copButtonArrowUp)||void 0===i||i.classList.toggle(e.SwimmerConstants.hiddenClass)},u.prototype.nextBox=function(){this.copArticleBoxes[this.currentBoxToDisplay].classList.toggle(e.SwimmerConstants.hiddenClass),this.currentBoxToDisplay===this.copArticleBoxes.length-1?(this.copArticleBoxes[0].classList.toggle(e.SwimmerConstants.hiddenClass),this.currentBoxToDisplay=0):(this.copArticleBoxes[this.currentBoxToDisplay+1].classList.toggle(e.SwimmerConstants.hiddenClass),this.currentBoxToDisplay+=1)},u.prototype.previousBox=function(){this.copArticleBoxes[this.currentBoxToDisplay].classList.toggle(e.SwimmerConstants.hiddenClass),0===this.currentBoxToDisplay?(this.copArticleBoxes[2].classList.toggle(e.SwimmerConstants.hiddenClass),this.currentBoxToDisplay=2):(this.copArticleBoxes[this.currentBoxToDisplay-1].classList.toggle(e.SwimmerConstants.hiddenClass),this.currentBoxToDisplay-=1)},u}();exports.Swimmer=u;
},{"./constants/event-type-constants":"4Lf/","./constants/swimmer-constants":"aJ3M","./constants/marketing-client-attributes-constants":"Bnvb","./constants/marketing-client-constants":"bZBa","./helpers/dom-helper":"5OYG","./utils/utils":"8wWJ","./marketing-client-utilization":"1wI1","./http/http":"2Moq","./helpers/timer-countdown":"f/XI","./constants/news-swimmer-constants":"EiqN","./marketing-client-bigdata":"Rp9g","./constants/big-data-constants":"gGic","./helpers/big-data-helper":"VizB","./constants/ddbox-constants":"Ktwm"}],"2Ofb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PageInformationHelper=void 0;var e=require("./dom-helper"),t=require("../constants/marketing-client-constants"),r=function(){function r(){}return r.getArticleId=function(){var r;return null===(r=e.DOMHelper.querySelector(t.MarketingClientConstants.rootElement))||void 0===r?void 0:r.getAttribute("data-xx")},r}();exports.PageInformationHelper=r;
},{"./dom-helper":"5OYG","../constants/marketing-client-constants":"bZBa"}],"HMMv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Spinner=void 0;var e=require("./utils"),t=function(){function t(e){this.element=document.querySelector(e)}return t.prototype.show=function(){e.Utils.showContainer(this.element)},t.prototype.hide=function(){e.Utils.hideContainer(this.element)},t}();exports.Spinner=t;
},{"./utils":"8wWJ"}],"XhuC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WYBORCZA_PL=exports.LayerType=exports.ShareArticleErrorHandler=void 0;var e,r=require("../constants/marketing-client-constants"),t=require("../utils/utils"),s=require("./dom-helper"),i=function(){function e(e){this.errorMessageContainerClass=".share-article-error-message",this.dataEmailErrorSelector="[data-error=email]",this.email=e,this.element=s.DOMHelper.querySelector(this.dataEmailErrorSelector),this.shareArticleErrorMessageElement=this.element&&s.DOMHelper.querySelector(this.errorMessageContainerClass,this.element),this.shareArticleErrorMessageElement&&(this.defaultMessage=this.shareArticleErrorMessageElement.innerHTML)}return e.prototype.setMessage=function(e){this.shareArticleErrorMessageElement&&(this.shareArticleErrorMessageElement.innerHTML=e||this.defaultMessage)},e.prototype.show=function(e){var s;return void 0===e&&(e=""),this.setMessage(e),t.Utils.showContainer(this.element),null===(s=this.email)||void 0===s||s.classList.add(r.MarketingClientConstants.hasErrorClassName),!1},e.prototype.hide=function(){var e;return t.Utils.hideContainer(this.element),null===(e=this.email)||void 0===e||e.classList.remove(r.MarketingClientConstants.hasErrorClassName),!0},e}();exports.ShareArticleErrorHandler=i,exports.LayerType=e,function(e){e.DEFAULT="default",e.SUCCESS="success",e.BLOCKED="blocked",e.ERROR="error"}(e||(exports.LayerType=e={}));var a=window.wyborcza_pl||{};exports.WYBORCZA_PL=a;
},{"../constants/marketing-client-constants":"bZBa","../utils/utils":"8wWJ","./dom-helper":"5OYG"}],"CJcW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClientSWFBase=void 0;var e=require("./helpers/device-information-helper"),t=require("./constants/big-data-constants"),i=require("./constants/event-type-constants"),r=require("./constants/marketing-client-constants"),s=require("./helpers/dom-helper"),a=require("./helpers/page-information-helper"),n=require("./http/http"),l=require("./marketing-client-bigdata"),o=require("./utils/spinner"),h=require("./utils/utils"),d=require("./helpers/swf-helper"),p=function(){function p(t){this.utilizationObject=t,this.layers={},this.mkdmContainerClass=".mkdm-container",this.loggedHideClass=".logged-hide",this.shareArticleFormId="shareArticleForm",this.emailClass=".share-article-email",this.spinnerClass=".share-article-spinner",this.messages={required:"Pole e-mail jest wymagane"},this.manualUtilizeAttr="data-utilize-manual",this.baseURL="/share/sender/sendEmail",this.isMobile=e.DeviceInformationHelper.getDeviceType()===e.DeviceType.MOBILE}return p.prototype.initialize=function(){this.form=s.DOMHelper.getElementById(this.shareArticleFormId),this.form&&(this.email=this.form?s.DOMHelper.querySelector(this.emailClass,this.form):null,this.spinner=new o.Spinner(this.spinnerClass),this.errorHandler=new d.ShareArticleErrorHandler(this.email),this.initializeLayers(),this.hideContainersForLoggedInUser())},p.prototype.initializeLayers=function(){this.layers[d.LayerType.DEFAULT]=s.DOMHelper.getElementById("shareArticleDefaultLayer"),this.layers[d.LayerType.ERROR]=s.DOMHelper.getElementById("shareArticleErrorLayer"),this.layers[d.LayerType.SUCCESS]=s.DOMHelper.getElementById("shareArticleSuccessLayer"),this.layers[d.LayerType.BLOCKED]=s.DOMHelper.getElementById("shareArticleBlockedLayer")},p.prototype.hideContainersForLoggedInUser=function(){var e;if(null===(e=null===d.WYBORCZA_PL||void 0===d.WYBORCZA_PL?void 0:d.WYBORCZA_PL.userInfo)||void 0===e?void 0:e.loggedIn){var t=s.DOMHelper.querySelector(this.mkdmContainerClass),i=t&&s.DOMHelper.querySelector(this.loggedHideClass,t);t&&i&&i.classList.add(r.MarketingClientConstants.hiddenClassName)}},p.prototype.bindEventsToFormSubmit=function(){var e=this;this.form&&this.form.addEventListener(i.EventType.SUBMIT,function(t){t.preventDefault(),e.validateEmail()&&(e.utilizeShareArticle(),e.sendData())})},p.prototype.bindEventsToEmailInput=function(){var e=this;this.email&&(this.email.addEventListener(i.EventType.CHANGE,this.validateEmail.bind(this)),this.email.addEventListener(i.EventType.INPUT,function(){var t;return(null===(t=e.email)||void 0===t?void 0:t.value.length)?e.errorHandler.hide():e.errorHandler.show(e.messages.required)}))},p.prototype.validateEmail=function(){var e=this.email?this.email.value:"",t=h.Utils.validateEmail(e);return e.length?t?this.errorHandler.hide():this.errorHandler.show():this.errorHandler.show(this.messages.required)},p.prototype.utilizeShareArticle=function(){var e=s.DOMHelper.querySelector("["+this.manualUtilizeAttr+"]",this.form),i=e&&e.closest("["+r.MarketingClientConstants.placeholderDataSetAttribute+"]"),a=e&&e.getAttribute(this.manualUtilizeAttr);if(e&&i&&a){var n=this.utilizationObject.prepareDataToSend(i,a),o=h.Utils.prepareCtaObject(i),d=l.BigData.prepareDataOceanAttribute(o,n);l.BigData.sendDataOceanEvent(t.BigDataEventConstants.onClick,d),this.utilizationObject.utilize(n)}},p.prototype.sendData=function(){var e=this,t={senderEmail:d.WYBORCZA_PL.userInfo&&d.WYBORCZA_PL.userInfo.email?d.WYBORCZA_PL.userInfo.email:"",recipientEmail:this.email?this.email.value:"",articleId:Number(a.PageInformationHelper.getArticleId())};return this.spinner.show(),n.httpInstance.post({url:this.baseURL,data:t,withCredentials:!0}).then(this.successResponseHandler.bind(this),this.errorResponseHandler.bind(this)).then(function(){e.spinner.hide()})},p}();exports.MarketingClientSWFBase=p;
},{"./helpers/device-information-helper":"qlft","./constants/big-data-constants":"gGic","./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./helpers/dom-helper":"5OYG","./helpers/page-information-helper":"2Ofb","./http/http":"2Moq","./marketing-client-bigdata":"Rp9g","./utils/spinner":"HMMv","./utils/utils":"8wWJ","./helpers/swf-helper":"XhuC"}],"UEwG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClientShareArticleOld=void 0;var e=require("./marketing-client-swf-base"),t=require("./constants/marketing-client-constants"),r=require("./constants/event-type-constants"),o=require("./helpers/dom-helper"),n=require("./helpers/swf-helper"),s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),i=function(e){function i(t){var r=e.call(this,t)||this;return r.shareArticleInfoBtn=".share-article-info-btn",r.wyborczaHat="#wyborczaHat",r}return s(i,e),i.prototype.init=function(){this.initialize(),this.bindEvents()},i.prototype.bindEvents=function(){this.bindEventsToModals(),this.bindEventsToFormSubmit(),this.bindEventsToEmailInput()},i.prototype.bindEventsToModals=function(){var e,t=this;this.form&&(null===(e=o.DOMHelper.querySelector(this.shareArticleInfoBtn))||void 0===e||e.addEventListener(r.EventType.CLICK,function(){t.form&&t.form.reset(),t.errorHandler.hide(),t.showLayer(n.LayerType.DEFAULT)}))},i.prototype.showLayer=function(e,r){var o;void 0===e&&(e=n.LayerType.DEFAULT),void 0===r&&(r=!1),Object.values(this.layers).forEach(function(e){return e.classList.add(t.MarketingClientConstants.hiddenClassName)}),null===(o=this.layers[e])||void 0===o||o.classList.remove(t.MarketingClientConstants.hiddenClassName),r&&this.isMobile&&this.scrollToLayer(this.layers[e])},i.prototype.successResponseHandler=function(e){e.status?this.showLayer(n.LayerType.SUCCESS,!0):e.result===n.LayerType.BLOCKED.toUpperCase()?this.showLayer(n.LayerType.BLOCKED,!0):this.showLayer(n.LayerType.ERROR,!0)},i.prototype.errorResponseHandler=function(){this.showLayer(n.LayerType.ERROR,!0)},i.prototype.scrollToLayer=function(e){var t,r=(null==(t=o.DOMHelper.getElementById(this.wyborczaHat))?void 0:t.offsetHeight)||0,n=e.offsetTop;n<window.scrollY+r&&window.scrollTo({top:n-r-20,behavior:"smooth"})},i}(e.MarketingClientSWFBase);exports.MarketingClientShareArticleOld=i;
},{"./marketing-client-swf-base":"CJcW","./constants/marketing-client-constants":"bZBa","./constants/event-type-constants":"4Lf/","./helpers/dom-helper":"5OYG","./helpers/swf-helper":"XhuC"}],"6KDn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClientShareArticle=void 0;var e=require("./marketing-client-swf-base"),t=require("./constants/marketing-client-constants"),r=require("./constants/event-type-constants"),o=require("./helpers/dom-helper"),n=require("./helpers/swf-helper"),s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),a=function(e){function a(t){var r=e.call(this,t)||this;return r.utilizationObject=t,r.shareArticleLayersId="shareArticleLayers",r.modalBoxClass=".nw_2021_modal-box",r.modalButtonClass=".button-wrapper button",r}return s(a,e),a.prototype.init=function(){this.initialize(),this.appendLayersToBody(),this.bindEvents()},a.prototype.appendLayersToBody=function(){var e=o.DOMHelper.getElementById(this.shareArticleLayersId);e&&document.body.appendChild(e)},a.prototype.bindEvents=function(){this.bindEventsToModals(),this.bindEventsToFormSubmit(),this.bindEventsToEmailInput()},a.prototype.bindEventsToModals=function(){var e=this;this.form&&(o.DOMHelper.querySelectorAsArray(this.modalButtonClass).forEach(function(t){null==t||t.addEventListener(r.EventType.CLICK,function(){e.form&&e.form.reset(),e.errorHandler.hide(),e.showLayer(n.LayerType.DEFAULT)})}),window.addEventListener(r.EventType.CLICK,function(t){var r,o=t.target;Array.from(null===(r=o)||void 0===r?void 0:r.classList).includes(e.modalBoxClass.replace(".",""))&&e.hideLayers()}))},a.prototype.showLayer=function(e){var r;void 0===e&&(e=n.LayerType.DEFAULT),o.DOMHelper.querySelectorAsArray(this.modalBoxClass).forEach(function(e){e.classList.add(t.MarketingClientConstants.hiddenClassName)}),null===(r=this.layers[e])||void 0===r||r.classList.remove(t.MarketingClientConstants.hiddenClassName)},a.prototype.hideLayers=function(){o.DOMHelper.querySelectorAsArray(this.modalBoxClass).forEach(function(e){e.classList.add(t.MarketingClientConstants.hiddenClassName)})},a.prototype.successResponseHandler=function(e){e.data.status?this.showLayer(n.LayerType.SUCCESS):e.data.result===n.LayerType.BLOCKED.toUpperCase()&&this.showLayer(n.LayerType.BLOCKED)},a.prototype.errorResponseHandler=function(){this.showLayer(n.LayerType.ERROR)},a.prototype.scrollToLayer=function(e){var t=e.offsetTop,r=o.DOMHelper.querySelector(this.wyborczaCapClass),n=(null==r?void 0:r.offsetHeight)||0;t<window.scrollY+n&&window.scrollTo({top:t-n-20,behavior:"smooth"})},a}(e.MarketingClientSWFBase);exports.MarketingClientShareArticle=a;
},{"./marketing-client-swf-base":"CJcW","./constants/marketing-client-constants":"bZBa","./constants/event-type-constants":"4Lf/","./helpers/dom-helper":"5OYG","./helpers/swf-helper":"XhuC"}],"zCuy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HatConstants=void 0;var t={hatSelector:".nw_2021_hat",harWrapperSelector:".nw_2021_hat-wrapper",dataScrollDown:"data-scroll-down",dataScrollUp:"data-scroll-up",scrollDownClass:"scroll_down",top:"top",bottom:"bottom"};exports.HatConstants=t;
},{}],"v9Rm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Hat=void 0;var t=require("./constants/hat-constants"),o=require("./constants/event-type-constants"),s=require("./helpers/dom-helper"),n=function(){function n(t){this.isMobile=t,this.prevAnimationAPosY=window.scrollY,this.prevPosY=window.scrollY,this.marginOfError=9}return n.prototype.init=function(){if(this.isMobile){var o=s.DOMHelper.querySelector(t.HatConstants.hatSelector),n=s.DOMHelper.querySelector(t.HatConstants.harWrapperSelector),e=(null==o?void 0:o.getAttribute(t.HatConstants.dataScrollDown))||"0",r=(null==o?void 0:o.getAttribute(t.HatConstants.dataScrollUp))||"0";this.scrollAnimation(n,e,r)}},n.prototype.scrollAnimation=function(s,n,e){var r=this;window.addEventListener(o.EventType.SCROLL,function(){var o=r.prevPosY>=window.scrollY-r.marginOfError?t.HatConstants.top:t.HatConstants.bottom;o===t.HatConstants.bottom&&r.prevPosY>Number(n)?(null==s||s.classList.add(t.HatConstants.scrollDownClass),r.prevAnimationAPosY=window.scrollY):o===t.HatConstants.top&&r.prevPosY<r.prevAnimationAPosY-Number(e)&&(null==s||s.classList.remove(t.HatConstants.scrollDownClass)),r.prevPosY=window.scrollY},{passive:!0})},n}();exports.Hat=n;
},{"./constants/hat-constants":"zCuy","./constants/event-type-constants":"4Lf/","./helpers/dom-helper":"5OYG"}],"YdDL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ErrorHandler=void 0;var e=require("../constants/marketing-client-constants"),r=require("../helpers/dom-helper"),t=require("./utils"),s=function(){function s(e){this.dataErrorElementSelector="data-error-selector",this.defaultMessage="",this.element=e,this.errorElementSelector=null==e?void 0:e.getAttribute(this.dataErrorElementSelector),this.errorElement=this.errorElementSelector?r.DOMHelper.querySelector("."+this.errorElementSelector):null}return s.prototype.setMessage=function(e){this.errorElement&&(this.errorElement.innerHTML=e||this.defaultMessage)},s.prototype.show=function(r){var s;return void 0===r&&(r=""),this.setMessage(r),t.Utils.showContainer(this.errorElement),null===(s=this.element)||void 0===s||s.classList.add(e.MarketingClientConstants.hasErrorClassName),!1},s.prototype.hide=function(){var r;return t.Utils.hideContainer(this.errorElement),null===(r=this.element)||void 0===r||r.classList.remove(e.MarketingClientConstants.hasErrorClassName),!0},s}();exports.ErrorHandler=s;
},{"../constants/marketing-client-constants":"bZBa","../helpers/dom-helper":"5OYG","./utils":"8wWJ"}],"23f2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClientRWBase=void 0;var t=require("./constants/big-data-constants"),e=require("./constants/event-type-constants"),i=require("./constants/marketing-client-constants"),o=require("./constants/swimmer-constants"),n=require("./helpers/big-data-helper"),s=require("./helpers/device-information-helper"),r=require("./helpers/dom-helper"),l=require("./marketing-client-bigdata"),a=require("./utils/utils"),d=function(){return(d=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},c=function(){function c(t,e,i){this.capping=t,this.utilizationObject=e,this.classSection=i,this.swimmerWasVisible=!1,this.idSwimmer="rw-swimmer",this.classSwimmerButton=".rw_swimmer_button",this.ddboxSelector="[data-ddbox-with-rw=true]",this.classDdboxButton=".rw-ddbox-area",this.mobileCapHeight=250,this.desktopCapHeight=350,this.isHarmonyTest=a.Utils.getURLParamsAsObject().enableHarmonyTest,this.squidHomeUrl=this.isHarmonyTest?"https://coreos07.wyborcza.pl:8094/":"https://squid-api.wyborcza.pl/",this.isMobile=s.DeviceInformationHelper.getDeviceType()===s.DeviceType.MOBILE}return c.prototype.initialize=function(){this.initializeDdbox(),this.initializeSwimmer(),this.initializeSection()},c.prototype.initializeSection=function(){this.section=r.DOMHelper.querySelector("section"+this.classSection),this.hideSection()},c.prototype.initializeSwimmer=function(){this.swimmer=r.DOMHelper.getElementById(this.idSwimmer),this.swimmerButton=r.DOMHelper.querySelector(this.classSwimmerButton,this.swimmer),this.closeButton=r.DOMHelper.querySelector(o.SwimmerConstants.closeButtonSelector,this.swimmer),this.hideSwimmer()},c.prototype.initializeDdbox=function(){this.ddbox=r.DOMHelper.querySelector(this.ddboxSelector),this.ddboxButton=r.DOMHelper.querySelector(this.classDdboxButton,this.ddbox)},c.prototype.bindSwimmerEvents=function(){this.ddbox?this.bindEventsDdboxScrollToPadlock():(this.bindEventsScrollToPadlock(),this.bindEventsHideSwimmerAtHeightOfPadlock(),this.bindEventCloseSwimmerManually())},c.prototype.bindEventsDdboxScrollToPadlock=function(){var i=this;this.ddboxButton&&this.ddbox&&this.ddboxButton.addEventListener(e.EventType.CLICK,function(e){e.preventDefault(),i.utilizeElement(i.ddbox,t.BigDataClickID.createAccount,!1),i.scrollToPadlockForDdbox()})},c.prototype.bindEventsScrollToPadlock=function(){var i=this;this.swimmerButton&&this.swimmerButton.addEventListener(e.EventType.CLICK,function(e){e.preventDefault(),i.utilize(t.BigDataClickID.createAccount,!1,!0),i.scrollToElement()})},c.prototype.bindEventsHideSwimmerAtHeightOfPadlock=function(){var t=this;this.swimmer&&document.addEventListener(e.EventType.SCROLL,function(){t.toggleSwimmer()})},c.prototype.toggleSwimmer=function(){var t,e,i=null===(t=this.swimmer)||void 0===t?void 0:t.offsetTop,o=null===(e=this.section)||void 0===e?void 0:e.getBoundingClientRect().top,n=this.swimmerHeight||250,s=this.getScreenHeight();o&&i&&o<=i&&this.swimmerIsVisible?this.hideSwimmer():o&&window.scrollY+(s-n)+20<o&&!this.swimmerIsVisible&&this.showSwimmer()},c.prototype.bindEventCloseSwimmerManually=function(){var t=this;this.closeButton&&this.closeButton.addEventListener(e.EventType.CLICK,function(e){e.preventDefault(),t.closeSwimmerManually()})},c.prototype.closeSwimmerManually=function(){var t;null===(t=this.closeButton)||void 0===t||t.classList.add(o.SwimmerConstants.closedManuallyClass)},c.prototype.scrollToPadlockForDdbox=function(){this.scrollToElement(),this.closeDdbox()},c.prototype.scrollToElement=function(){if(this.section){var t=this.section.offsetTop-window.innerHeight/3;a.Utils.smoothScrollTo(t)}},c.prototype.getParentElement=function(t){void 0===t&&(t=!1);var e=t?this.swimmer:this.section;return e&&e.closest("["+i.MarketingClientConstants.placeholderDataSetAttribute+"]")},c.prototype.utilize=function(t,e,i){void 0===t&&(t=""),void 0===e&&(e=!1),void 0===i&&(i=!1);var o=this.getParentElement(i);o&&this.utilizeElement(o,t,e)},c.prototype.utilizeElement=function(e,i,o){var s=this.utilizationObject.prepareDataToSend(e,"brak"),r=n.BigDataHelper.createAttribute(e,!0,i);o||this.utilizationObject.utilize(s),l.BigData.sendDataOceanEvent(t.BigDataEventConstants.onClick,d(d({},s),r))},c.prototype.sendBigDataDisplay=function(e){var i=this.getParentElement();if(i){var o=this.utilizationObject.prepareDataToSend(i,"brak"),s=n.BigDataHelper.createAttribute(i);s.ctaCategory=s.ctaCategory+" "+e,l.BigData.sendDataOceanEvent(t.BigDataEventConstants.onDisplay,d(d({},o),s))}},c.prototype.sendCapping=function(t,e){void 0===e&&(e=!1),this.capping.sendCappingEvent(t,e)},c.prototype.showSection=function(){var t;null===(t=this.section)||void 0===t||t.classList.remove(i.MarketingClientConstants.hiddenClassName)},c.prototype.hideSection=function(){var t;null===(t=this.section)||void 0===t||t.classList.add(i.MarketingClientConstants.hiddenClassName)},c.prototype.hideSwimmer=function(){var t;this.swimmerIsVisible=!1,null===(t=this.swimmer)||void 0===t||t.classList.add(i.MarketingClientConstants.hiddenClassName)},c.prototype.showSwimmer=function(){var t,e;this.swimmerIsVisible=!0,null===(t=this.swimmer)||void 0===t||t.classList.remove(i.MarketingClientConstants.hiddenClassName),this.swimmerHeight=null===(e=this.swimmer)||void 0===e?void 0:e.getBoundingClientRect().height,this.sendDisplay()},c.prototype.showDdbox=function(){var t,e,i,o;this.ddbox&&(null===(o=null===(i=null===(e=null===(t=window.wyborcza_pl)||void 0===t?void 0:t.MarketingClient)||void 0===e?void 0:e.bannersObject)||void 0===i?void 0:i.ddbox)||void 0===o||o.showDdbox(this.ddbox))},c.prototype.closeDdbox=function(){var t,e,i,o;this.ddbox&&(null===(o=null===(i=null===(e=null===(t=window.wyborcza_pl)||void 0===t?void 0:t.MarketingClient)||void 0===e?void 0:e.bannersObject)||void 0===i?void 0:i.ddbox)||void 0===o||o.closeDdbox(this.ddbox))},c.prototype.sendDisplay=function(){this.swimmer&&!this.swimmerWasVisible&&(this.swimmerWasVisible=!0,this.sendCapping(this.swimmer,!0))},c.prototype.getScreenHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},c}();exports.MarketingClientRWBase=c;
},{"./constants/big-data-constants":"gGic","./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./constants/swimmer-constants":"aJ3M","./helpers/big-data-helper":"VizB","./helpers/device-information-helper":"qlft","./helpers/dom-helper":"5OYG","./marketing-client-bigdata":"Rp9g","./utils/utils":"8wWJ"}],"ful/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Checkbox=void 0;var t=require("../constants/event-type-constants"),e=require("../constants/marketing-client-constants"),r=require("../helpers/dom-helper"),i=require("./utils"),n=function(){function n(t,e){var i;void 0===e&&(e=null),this.input=r.DOMHelper.getElementById(t),this.required=void 0===(null===(i=this.input)||void 0===i?void 0:i.dataset.notRequired),this.text=r.DOMHelper.querySelector("#"+t+"-text"),this.checkmark=r.DOMHelper.querySelector("#"+t+" + span"),this.error=r.DOMHelper.querySelector("#"+t+"-error"),this.callback=e,this.bindEventToCallbackOnClick()}return n.prototype.setText=function(t){this.text&&(this.text.innerHTML=t)},n.prototype.isValidate=function(){var t;return!this.required||!!(null===(t=this.input)||void 0===t?void 0:t.checked)},n.prototype.getValue=function(){var t;return!!(null===(t=this.input)||void 0===t?void 0:t.checked)},n.prototype.toggle=function(){this.isValidate()?this.hideError():this.showError()},n.prototype.showError=function(){var t;i.Utils.showContainer(this.error),null===(t=this.checkmark)||void 0===t||t.classList.add(e.MarketingClientConstants.hasErrorClassName)},n.prototype.hideError=function(){var t;i.Utils.hideContainer(this.error),null===(t=this.checkmark)||void 0===t||t.classList.remove(e.MarketingClientConstants.hasErrorClassName)},n.prototype.reset=function(){this.hideError(),this.input&&(this.input.checked=!1)},n.prototype.bindEventToCallbackOnClick=function(){var e=this;this.input&&this.input.addEventListener(t.EventType.CLICK,function(){e.callback&&e.callback()})},n}();exports.Checkbox=n;
},{"../constants/event-type-constants":"4Lf/","../constants/marketing-client-constants":"bZBa","../helpers/dom-helper":"5OYG","./utils":"8wWJ"}],"w2x6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SDK_VERSION=void 0;const e=(e,...t)=>window.__ls(e,...t),t={init:(t,s)=>e("init",t,s),getSessionURL:t=>e("getSessionURL",t),identify:t=>e("identify",t),invalidateSession:()=>e("invalidateSession"),newPageView:t=>e("newPageView",t),setOptions:t=>e("setOptions",t),setCustomParams:t=>e("setCustomParams",t),off:()=>e("off"),optOut:()=>e("optOut",!0),debug:()=>e("debug",!0),track:(t,s)=>e("track",t,s),log:(t,...s)=>e("log",t,s)};exports.SDK_VERSION="1.1.0",exports.default=t;
},{}],"2d7g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultScriptURL=void 0;const e=require("./api");exports.defaultScriptURL="https://cdn.livesession.io/track.js";const s=(s=window,t=document,r="script",o=exports.defaultScriptURL)=>((s,t,r,o)=>{if(s.__ls)throw new Error("LiveSession script already added");const i=s.__ls=function(){i.push?i.push.apply(i,arguments):i.store.push(arguments)};s.__ls||(s.__ls=i),i.store=[],i.v=e.SDK_VERSION;const c=t.createElement(r);c.async=!0,c.src=o,c.charset="utf-8",c.crossOrigin="anonymous",t.getElementsByTagName("head")[0].appendChild(c)})(s,t,r,o);exports.default=s;
},{"./api":"w2x6"}],"7Z4U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./snippet"),t=require("./api"),i={devMode:!1,scriptURL:e.defaultScriptURL};let n=Object.assign({},i);const o=()=>window.__ls,s=e=>{if(!o())throw new Error("LiveSession is not loaded. Call init() before calling other API functions");const i=t.default;if(!i.hasOwnProperty(e))throw new Error(`method "${e}" doesn't exist`);if(n.devMode){const t=`Skipping method: ${e}, devMode enabled`;return console.warn(t),()=>t}return i[e]},r=e=>t=>{const i=s(e);if(i)return i(t)},a=e=>(...t)=>{const i=s(e);if(i)return i(...t)},d=(s,r,a=i)=>{if(n=Object.assign(Object.assign({},i),a),!o()){if(!s)throw new Error("trackID is required");return e.default(window,document,"script",a.scriptURL),t.default.init(s,r)}console.warn("LiveSession already inited (skipping init() call)")};exports.default={init:d,getSessionURL:r("getSessionURL"),identify:r("identify"),invalidateSession:r("invalidateSession"),newPageView:r("newPageView"),setOptions:r("setOptions"),setCustomParams:r("setCustomParams"),off:r("off"),optOut:r("optOut"),debug:r("debug"),track:function(e,t){a("track")(e,t)},log:function(e,...t){a("log")(e,...t)}};
},{"./snippet":"2d7g","./api":"w2x6"}],"c+Ah":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LiveSession=void 0;var e=t(require("@livesession/sdk"));function t(e){return e&&e.__esModule?e:{default:e}}var s=function(){function t(e){this.trackId="dfc1e974.a9a85769",this.intersectionObserverOptions={rootMargin:"0px",threshold:0},this.rootHostname=".wyborcza.pl",this.element=e}return t.prototype.init=function(){var e=this;this.element&&this.trackId&&(this.observer=new IntersectionObserver(function(t){return e.onIntersect(t)},this.intersectionObserverOptions),this.observer.observe(this.element))},t.prototype.onIntersect=function(e){var t=this;e.forEach(function(e){t.liveSessionInit(e)})},t.prototype.liveSessionInit=function(t){t.isIntersecting&&(e.default.init(this.trackId,{keystrokes:!1,rootHostname:this.rootHostname}),e.default.newPageView(),this.unobserve())},t.prototype.unobserve=function(){this.observer.unobserve(this.element)},t}();exports.LiveSession=s;
},{"@livesession/sdk":"7Z4U"}],"SGZ0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppleId=void 0;var t=require("../http/http"),e=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,a)}s((r=r.apply(t,e||[])).next())})},n=function(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},r=function(){function r(){}return r.prototype.appleSignIn=function(t){return e(this,void 0,void 0,function(){var e,r,i;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.signIn()];case 1:return e=n.sent(),[4,this.getEmailFromAppleId(e)];case 2:return(r=n.sent())?t(r):console.error("AppleId: brak emaila"),[3,4];case 3:return i=n.sent(),console.error("AppleID:",i),[3,4];case 4:return[2]}})})},r.prototype.signIn=function(){return e(this,void 0,Promise,function(){return n(this,function(t){switch(t.label){case 0:return[4,AppleID.auth.signIn()];case 1:return[2,t.sent()]}})})},r.prototype.getEmailFromAppleId=function(t){return e(this,void 0,Promise,function(){var e;return n(this,function(n){switch(n.label){case 0:return t.user&&t.user.email?(e=t.user.email,[3,3]):[3,1];case 1:return[4,this.getUserEmailFromAWS(t.authorization)];case 2:e=n.sent(),n.label=3;case 3:return[2,e]}})})},r.prototype.getUserEmailFromAWS=function(r){return e(this,void 0,Promise,function(){var e;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.httpInstance.get({url:"https://aws.squid.wyborcza.pl/services/pub/rest/appleId/getEmailByIdentityToken?identityToken="+r.id_token})];case 1:return[2,(e=n.sent())&&e.data&&e.data.email?e.data.email:null];case 2:return n.sent(),[2,null];case 3:return[2]}})})},r.prototype.initAuth=function(){try{AppleID.auth.init({clientId:"pl.wyborcza",scope:"email",redirectURI:window.location.origin,state:window.location.href,nonce:"[NONCE]",usePopup:!0})}catch(t){console.error("AppleID.auth.init",t)}},r.prototype.bindFunctionToWindow=function(){var t=this;window["social-media-apple"]={login:function(e){t.appleSignIn(e)},logout:function(){}}},r.prototype.init=function(){this.initAuth(),this.bindFunctionToWindow()},r}();exports.AppleId=r;
},{"../http/http":"2Moq"}],"Ziwz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SOCIAL=exports.MarketingClientRWFirstPromotion=exports.LayerType=void 0;var e,t=require("./constants/event-type-constants"),i=require("./constants/marketing-client-constants"),o=require("./utils/error-handler-first-rw"),n=require("./helpers/dom-helper"),s=require("./http/http"),r=require("./marketing-client-rw-base"),a=require("./utils/checkbox"),l=require("./utils/spinner"),c=require("./utils/utils"),h=require("./constants/big-data-constants"),d=require("./constants/rw-object.constants"),p=require("./utils/livesession"),u=require("./utils/appleid"),m=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),f=function(){return(f=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};exports.LayerType=e,function(e){e.MAIN="main",e.CONFIRMATION="confirmation",e.RESEND="resend"}(e||(exports.LayerType=e={}));var g,E=function(r){function E(e,t,i){void 0===i&&(i=d.RwSelector.rwFirstPromotionSelector);var o=r.call(this,e,t,i)||this;return o.capping=e,o.utilizationObject=t,o.classSection=i,o.socialList=[],o.socialType=null,o.apple=new u.AppleId,o.shouldInitializeAppleId=!0,o.path="/",o.idPrefixSelector="rwFirstPromotion-",o.idSuffixForm="form",o.idSuffixCheckboxA="form-checkbox-A",o.idSuffixCheckboxB="form-checkbox-B",o.classSuffix={email:"_form-email",agreement:"_form-agreement",registrationAccountButton:"_form-button",registrationAccountError:"_form-create-account-error",emailInLayer:"_user-email",spinnerRegistrationAccount:"_form-spinner",spinnerResendEmail:"_email-confirmation-screen-spinner",headerDesktop:" .header-content-desktop",headerMobile:" .header-content-mobile",socialListIcon:"_form-social-list-icon",socialWrapper:"_form-social-wrapper",emailWrapper:"_form-email-wrapper",socialLogout:"_form-social_account-logout",socialEmail:"_form-social_account-email",helpContact:"_email-resend-screen_description-link",googleDetectedIcon:".mc-browser-detected-google",appleDetectedIcon:".mc-browser-detected-apple",googleIcon:".mc-google-icon",appleIcon:".mc-apple-icon"},o.messages=d.RwErrorMessage,o.agreementFormId=91,o.locationLogin="https://login.wyborcza.pl/",o.loginChanel={"social-media-google":"GOOGLEPLUS","social-media-fb":"FACEBOOK","social-media-apple":"APPLEID",WYBORCZA:"WYBORCZA"},o.offerButtonSelector=".offer-button",o.bgColorClass="standard-background",o}return m(E,r),E.prototype.init=function(){this.initialize(),this.initializeForm(),this.section&&this.form&&this.email&&this.registrationAccountButton&&(this.initializeCheckbox(),this.showDdbox(),this.ddbox||this.showSwimmer(),this.showSection(),this.getAgreementForm(this.agreementFormId),this.initializeHeader(),this.initializeSpinner(),this.initializeLayers(),this.initializeResendEmail(),this.initializeReset(),this.initializeSocial(),this.initializeSocialIcons(),this.initializeOfferButton(),this.initializeHelpContact(),this.initializeLiveSession(),this.bindEvents(),this.bindSwimmerEvents(),this.getUserEmail(),this.detectBrowser(),this.setIconsBasedOnBrowser())},E.prototype.initializeForm=function(){this.form=n.DOMHelper.getElementById(""+this.idPrefixSelector+this.idSuffixForm),this.form&&(this.email=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.email,this.form),this.registrationAccountButton=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.registrationAccountButton,this.form),this.email&&(this.emailErrorHandler=new o.ErrorHandler(this.email),this.registrationAccountError=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.registrationAccountError,this.form)))},E.prototype.initializeHeader=function(){this.headerDesktop=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.headerDesktop),this.headerMobile=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.headerMobile)},E.prototype.initializeSpinner=function(){this.spinnerCreateAccount=new l.Spinner(""+this.classSection+this.classSuffix.spinnerRegistrationAccount),this.spinnerResendEmail=new l.Spinner(""+this.classSection+this.classSuffix.spinnerResendEmail)},E.prototype.initializeCheckbox=function(){this.checkboxA=new a.Checkbox(""+this.idPrefixSelector+this.idSuffixCheckboxA),this.checkboxB=new a.Checkbox(""+this.idPrefixSelector+this.idSuffixCheckboxB)},E.prototype.initializeLayers=function(){var t;this.layers=((t={})[e.MAIN]=n.DOMHelper.getElementById(""+this.idPrefixSelector+e.MAIN),t[e.CONFIRMATION]=n.DOMHelper.getElementById(""+this.idPrefixSelector+e.CONFIRMATION),t[e.RESEND]=n.DOMHelper.getElementById(""+this.idPrefixSelector+e.RESEND),t),this.showLayer()},E.prototype.initializeResendEmail=function(){this.resendEmailButton=n.DOMHelper.querySelector(".button",this.layers.confirmation),this.resendEmailError=n.DOMHelper.querySelector(".resend-email-error",this.layers.confirmation),this.resendEmailButtonInError=n.DOMHelper.querySelector(".resend-button",this.layers.confirmation)},E.prototype.initializeReset=function(){this.resetButton=n.DOMHelper.querySelector(".reset-button",this.layers.resend)},E.prototype.initializeSocial=function(){this.socialList=n.DOMHelper.querySelectorAsArray(""+this.classSection+this.classSuffix.socialListIcon),this.socialWrapper=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.socialWrapper),this.emailWrapper=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.emailWrapper),this.socialLogout=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.socialLogout),this.socialEmail=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.socialEmail)},E.prototype.initializeOfferButton=function(){this.section&&(this.offerButton=n.DOMHelper.querySelector(this.offerButtonSelector,this.section))},E.prototype.initializeHelpContact=function(){this.section&&(this.helpContact=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.helpContact))},E.prototype.initializeLiveSession=function(){this.form&&new p.LiveSession(this.form).init()},E.prototype.initializeSocialIcons=function(){this.googleDetectedIcon=n.DOMHelper.querySelector(this.classSuffix.googleDetectedIcon),this.appleDetectedIcon=n.DOMHelper.querySelector(this.classSuffix.appleDetectedIcon),this.googleIcon=n.DOMHelper.querySelector(this.classSuffix.googleIcon),this.appleIcon=n.DOMHelper.querySelector(this.classSuffix.appleIcon)},E.prototype.detectBrowser=function(){var e,t,i,o;this.browser=null===(o=null===(i=null===(t=null===(e=window.wyborcza_pl)||void 0===e?void 0:e.MarketingClient)||void 0===t?void 0:t.userData)||void 0===i?void 0:i.profile)||void 0===o?void 0:o.browser},E.prototype.setIconsBasedOnBrowser=function(){var e;(null===(e=this.browser)||void 0===e?void 0:e.includes(i.Browsers.SAFARI))?(this.hideGoogleDetectedIcon(),this.hideAppleIcon()):(this.hideAppleDetectedIcon(),this.hideGoogleIcon())},E.prototype.hideGoogleDetectedIcon=function(){var e;null===(e=this.googleDetectedIcon)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.hideAppleDetectedIcon=function(){var e;null===(e=this.appleDetectedIcon)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.hideGoogleIcon=function(){var e;null===(e=this.googleIcon)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.hideAppleIcon=function(){var e;null===(e=this.appleIcon)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.bindEvents=function(){this.bindEventsToRegistrationAccount(),this.bindEventsToEmailInput(),this.bindEventsToResendEmail(),this.bindEventsToResendEmailOnError(),this.bindEventsToReset(),this.bindEventsToSocialLogin(),this.bindEventsToSocialLogout(),this.bindEventsToBuyAnOffer(),this.bindEventsToHelpContact()},E.prototype.bindEventsToSocialLogin=function(){var e=this;this.socialList.length&&this.socialList.forEach(function(i){i.addEventListener(t.EventType.CLICK,function(){e.socialType=i.getAttribute("data-social"),e.utilize(e.createClickID(h.BigDataClickID.login),!0),e.login()})})},E.prototype.bindEventsToSocialLogout=function(){var e=this;this.socialLogout&&this.socialLogout.addEventListener(t.EventType.CLICK,function(){e.utilize(e.createClickID(h.BigDataClickID.logout),!0),e.logout()})},E.prototype.initializeAppleId=function(){this.shouldInitializeAppleId&&this.socialType===g.APPLEID&&(this.apple.init(),this.shouldInitializeAppleId=!1)},E.prototype.login=function(){var e=this;if(this.initializeAppleId(),this.socialType){var t=this.socialType;window[this.socialType].login(function(i){e.socialType=t,e.onSuccessLogin(i)}),this.clearSocialType()}},E.prototype.onSuccessLogin=function(e){var t;e&&this.socialType&&(null===(t=this.socialWrapper)||void 0===t||t.classList.add(this.socialType),this.setSocialEmail(e),this.hideEmailWrapper(),this.showSocialWrapper())},E.prototype.getUserEmail=function(){window[g.GOOGLEPLUS]&&(window[g.GOOGLEPLUS].getUserEmail=function(){return window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile().getEmail()})},E.prototype.userDisconnect=function(){var e,t,i;window[g.GOOGLEPLUS]&&(null===(i=null===(t=null===(e=window.gapi)||void 0===e?void 0:e.auth2)||void 0===t?void 0:t.getAuthInstance())||void 0===i||i.disconnect())},E.prototype.logout=function(){this.socialType&&(this.userDisconnect(),window[this.socialType].logout(),this.clearEmail(),this.hideSocialWrapper(),this.showEmailWrapper(),this.clearSocialType())},E.prototype.setSocialEmail=function(e){this.socialEmail&&(this.socialEmail.innerHTML=e),this.email&&(this.email.value=e)},E.prototype.clearSocialType=function(){var e;this.socialType&&(null===(e=this.socialWrapper)||void 0===e||e.classList.remove(this.socialType),this.socialType=null)},E.prototype.bindEventsToRegistrationAccount=function(){var e=this;this.registrationAccountButton&&this.registrationAccountButton.addEventListener(t.EventType.CLICK,function(t){t.preventDefault();var i=e.validateCheckboxes();e.validateEmail()&&i&&(e.hideRegistrationAccountError(),e.spinnerCreateAccount.show(),e.utilize(e.createClickID(h.BigDataClickID.createAccount)),e.registrationAccount())})},E.prototype.validateCheckboxes=function(){return this.checkboxA.toggle(),this.checkboxB.toggle(),this.checkboxA.isValidate()&&this.checkboxB.isValidate()},E.prototype.bindEventsToEmailInput=function(){var e=this;this.email&&(this.email.addEventListener(t.EventType.CHANGE,this.validateEmail.bind(this)),this.email.addEventListener(t.EventType.INPUT,function(){var t;return(null===(t=e.email)||void 0===t?void 0:t.value.length)?e.emailErrorHandler.hide():e.emailErrorHandler.show(e.messages.required)}))},E.prototype.bindEventsToResendEmail=function(){var e=this;this.resendEmailButton&&this.resendEmailButton.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),e.spinnerResendEmail.show(),e.utilize(h.BigDataClickID.resendEmail,!0),e.resendEmail()})},E.prototype.bindEventsToResendEmailOnError=function(){var e=this;this.resendEmailButtonInError&&this.resendEmailButtonInError.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),e.spinnerResendEmail.show(),e.utilize(h.BigDataClickID.resendEmail,!0),e.resendEmail()})},E.prototype.bindEventsToReset=function(){var e=this;this.resetButton&&this.resetButton.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),e.utilize(h.BigDataClickID.startProcessAgain,!0),e.reset()})},E.prototype.bindEventsToBuyAnOffer=function(){var e=this;this.offerButton&&this.offerButton.addEventListener(t.EventType.CLICK,function(){e.utilize(e.createClickID(h.BigDataClickID.purchaseSubscription),!0)})},E.prototype.bindEventsToHelpContact=function(){var e=this;this.helpContact&&this.helpContact.addEventListener(t.EventType.CLICK,function(){e.utilize(h.BigDataClickID.helpContact,!0)})},E.prototype.clearEmail=function(){this.email&&(this.email.value="")},E.prototype.reset=function(){var t,o;this.clearEmail(),this.hideSocialWrapper(),this.showEmailWrapper(),this.clearSocialType(),this.checkboxA.reset(),this.checkboxB.reset(),this.hideRegistrationAccountError(),null===(t=this.resendEmailError)||void 0===t||t.classList.add(i.MarketingClientConstants.hiddenClassName),null===(o=this.resendEmailButton)||void 0===o||o.classList.remove(i.MarketingClientConstants.hiddenClassName),this.showHeader(),this.showLayer(e.MAIN)},E.prototype.validateEmail=function(){var e=this.email?this.email.value:"",t=c.Utils.validateEmail(e);return e.length?t?this.emailErrorHandler.hide():this.emailErrorHandler.show(this.messages.banned):this.emailErrorHandler.show(this.messages.required)},E.prototype.prepareDataToRegistrationAccount=function(){var e,t={email:this.email?String(this.email.value).trim():"",articleUrl:window.location.href,fromUrl:window.location.href,testAB:"PASS",disableRedirects:"true",agreementA:this.agreementA.idAgreement.toString(),loginChanel:this.loginChanel[this.socialType||"WYBORCZA"]};return(null===(e=this.checkboxB.input)||void 0===e?void 0:e.checked)&&(t.agreementB=this.agreementB.idAgreement.toString()),new URLSearchParams(f({},t))},E.prototype.registrationAccount=function(){var e=this;return s.httpInstance.post({url:this.path+"regwall/account",data:this.prepareDataToRegistrationAccount(),withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"*/*"}}).then(this.successRegistrationAccount.bind(this),this.errorRegistrationAccount.bind(this)).then(function(){e.spinnerCreateAccount.hide()})},E.prototype.successRegistrationAccount=function(t){t.data&&!t.data.error&&(this.hideHeader(),this.setEmailInLayer(),this.sendBigDataDisplay(h.BigDataClickID.confirmationEmailAddress),this.setStandardBackground(),this.showLayer(e.CONFIRMATION),this.scrollToElement())},E.prototype.errorRegistrationAccount=function(e){var t=null==e?void 0:e.data,i=null==t?void 0:t.message,o=t&&i;o&&i===d.RwAccountErrorCode.accountExists?(this.emailErrorHandler.show(this.messages.accountExists),this.goToLogin()):o&&i===d.RwAccountErrorCode.accountUnconfirmed?this.bindEventsToResendEmailOnAccountUnconfirmed():this.showRegistrationAccountError()},E.prototype.bindEventsToResendEmailOnAccountUnconfirmed=function(){var e=this;if(this.emailErrorHandler.show(this.messages.accountUnconfirmed),this.emailErrorHandler.errorElement){var i=n.DOMHelper.querySelector("a",this.emailErrorHandler.errorElement);null==i||i.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),e.hideHeader(),e.setEmailInLayer(),e.resendEmail()})}},E.prototype.goToLogin=function(){window.location.href=this.locationLogin},E.prototype.resendEmail=function(){var e=this,t={email:this.email?String(this.email.value).trim():""};return s.httpInstance.post({url:this.path+"regwall/resendConfEmailForRegWall",data:new URLSearchParams(t),withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"*/*"}}).then(this.successResendEmail.bind(this),this.errorResendEmail.bind(this)).then(function(){e.spinnerResendEmail.hide()})},E.prototype.successResendEmail=function(){this.sendBigDataDisplay(h.BigDataClickID.checkMailbox),this.showLayer(e.RESEND)},E.prototype.errorResendEmail=function(){this.hideResendEmailButton(),this.showResendEmailError()},E.prototype.getAgreementForm=function(e){return s.httpInstance.get({url:this.squidHomeUrl+"squid-home/open/accounts/agreements?formId="+e}).then(this.successResponseAgreementForm.bind(this))},E.prototype.successResponseAgreementForm=function(e){e.data&&e.data.agreements&&2===e.data.agreements.length?(this.agreementA=e.data.agreements[0],this.agreementB=e.data.agreements[1],this.setAgreementText()):(console.warn("Incorrect number of agreements!"),this.closeDdbox(),this.hideSwimmer(),this.hideSection())},E.prototype.setEmailInLayer=function(){var e=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.emailInLayer,this.layers.confirmation),t=n.DOMHelper.querySelector(""+this.classSection+this.classSuffix.emailInLayer,this.layers.resend),i=this.email?this.email.value:"";e&&(e.innerHTML=i),t&&(t.innerHTML=i)},E.prototype.createClickID=function(e){var t;switch(this.socialType){case g.GOOGLEPLUS:t=" Google";break;case g.FACEBOOK:t=" FB";break;case g.APPLEID:t=" Apple";break;default:t=""}return e+t},E.prototype.setAgreementText=function(){this.checkboxA.setText(this.agreementA.agreementText),this.checkboxB.setText(this.agreementB.agreementText)},E.prototype.showLayer=function(t){void 0===t&&(t=e.MAIN),Object.values(this.layers).forEach(function(e){e.classList.add(i.MarketingClientConstants.hiddenClassName)}),this.layers[t].classList.remove(i.MarketingClientConstants.hiddenClassName)},E.prototype.hideHeader=function(){var e,t;null===(e=this.headerDesktop)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName),null===(t=this.headerMobile)||void 0===t||t.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.showHeader=function(){var e,t;null===(e=this.headerDesktop)||void 0===e||e.classList.remove(i.MarketingClientConstants.hiddenClassName),null===(t=this.headerMobile)||void 0===t||t.classList.remove(i.MarketingClientConstants.hiddenClassName)},E.prototype.showRegistrationAccountError=function(){var e;null===(e=this.registrationAccountError)||void 0===e||e.classList.remove(i.MarketingClientConstants.hiddenClassName)},E.prototype.hideRegistrationAccountError=function(){var e;null===(e=this.registrationAccountError)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.showResendEmailButton=function(){var e;null===(e=this.resendEmailButton)||void 0===e||e.classList.remove(i.MarketingClientConstants.hiddenClassName)},E.prototype.hideResendEmailButton=function(){var e;null===(e=this.resendEmailButton)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.showResendEmailError=function(){var e;null===(e=this.resendEmailError)||void 0===e||e.classList.remove(i.MarketingClientConstants.hiddenClassName)},E.prototype.hideResendEmailError=function(){var e;null===(e=this.resendEmailError)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.showEmailWrapper=function(){var e;null===(e=this.emailWrapper)||void 0===e||e.classList.remove(i.MarketingClientConstants.hiddenClassName)},E.prototype.hideEmailWrapper=function(){var e;null===(e=this.emailWrapper)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.showSocialWrapper=function(){var e;null===(e=this.socialWrapper)||void 0===e||e.classList.remove(i.MarketingClientConstants.hiddenClassName)},E.prototype.hideSocialWrapper=function(){var e;null===(e=this.socialWrapper)||void 0===e||e.classList.add(i.MarketingClientConstants.hiddenClassName)},E.prototype.setStandardBackground=function(){var e;null===(e=this.section)||void 0===e||e.classList.add(this.bgColorClass)},E}(r.MarketingClientRWBase);exports.MarketingClientRWFirstPromotion=E,exports.SOCIAL=g,function(e){e.GOOGLEPLUS="social-media-google",e.FACEBOOK="social-media-fb",e.APPLEID="social-media-apple"}(g||(exports.SOCIAL=g={}));
},{"./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./utils/error-handler-first-rw":"YdDL","./helpers/dom-helper":"5OYG","./http/http":"2Moq","./marketing-client-rw-base":"23f2","./utils/checkbox":"ful/","./utils/spinner":"HMMv","./utils/utils":"8wWJ","./constants/big-data-constants":"gGic","./constants/rw-object.constants":"ISz6","./utils/livesession":"c+Ah","./utils/appleid":"SGZ0"}],"3T1S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClientRWSecondPromotion=void 0;var t=require("./constants/event-type-constants"),e=require("./constants/marketing-client-constants"),i=require("./constants/rw-object.constants"),s=require("./helpers/dom-helper"),r=require("./http/http"),n=require("./marketing-client-rw-base"),o=require("./utils/checkbox"),c=require("./utils/spinner"),u=require("./constants/big-data-constants"),l=require("./utils/utils"),h=require("./utils/livesession"),a=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),b=function(n){function b(t,e,s){void 0===s&&(s=i.RwSelector.rwSecondPromotionSelector);var r=n.call(this,t,e,s)||this;return r.capping=t,r.utilizationObject=e,r.classSection=s,r.idPrefixSelector="rwSecondPromotion-",r.idSuffixCheckboxA="form-checkbox-A",r.classSuffix={subscribeNewsletterButton:"_form-button",subscribeNewsletterError:"_form-subscribe-newsletter-error",subscribeNewsletterAccount:"_form-spinner"},r}return a(b,n),b.prototype.init=function(){this.initialize(),this.initializeForm(),this.section&&this.subscribeNewsletterButton&&(this.initializeCheckbox(),this.initializeSpinner(),this.initializeLiveSession(),this.bindEvents(),this.showSection(),this.showDdbox(),this.ddbox||this.showSwimmer())},b.prototype.initializeForm=function(){this.section&&(this.subscribeNewsletterButton=s.DOMHelper.querySelector(""+this.classSection+this.classSuffix.subscribeNewsletterButton,this.section),this.subscribeNewsletterError=s.DOMHelper.querySelector(""+this.classSection+this.classSuffix.subscribeNewsletterError,this.section))},b.prototype.initializeSpinner=function(){this.spinner=new c.Spinner(""+this.classSection+this.classSuffix.subscribeNewsletterAccount)},b.prototype.initializeCheckbox=function(){this.checkbox=new o.Checkbox(""+this.idPrefixSelector+this.idSuffixCheckboxA)},b.prototype.initializeLiveSession=function(){this.section&&new h.LiveSession(this.section).init()},b.prototype.bindEvents=function(){this.bindEventsToSubscribeNewsletter(),this.bindSwimmerEvents()},b.prototype.bindEventsToSubscribeNewsletter=function(){var e=this;this.subscribeNewsletterButton&&this.subscribeNewsletterButton.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),e.validateBeforeSubscribing()})},b.prototype.validateBeforeSubscribing=function(){this.checkbox.isValidate()?(this.checkbox.hideError(),this.hideError(),this.spinner.show(),this.utilize(u.BigDataClickID.signupAndContinue),this.subscribeNewsletter()):this.checkbox.showError()},b.prototype.subscribeNewsletter=function(){var t=this;return r.httpInstance.post({url:this.squidHomeUrl+"squid-home/restricted/newsletters",withCredentials:!0}).then(this.goToMK.bind(this),this.showError.bind(this)).then(function(){t.spinner.hide()})},b.prototype.goToMK=function(){var t=window.location.href.toString().replace(/#.*/g,"");this.section&&(this.ctaObject=l.Utils.prepareCtaObject(this.section)),window.location.href='https://mojekonto.wyborcza.pl/account/subscriptions?articleLink="'+t+'"&registrationWall=true&cta='+this.ctaObject.cta+"#settings"},b.prototype.showError=function(){var t;null===(t=this.subscribeNewsletterError)||void 0===t||t.classList.remove(e.MarketingClientConstants.hiddenClassName)},b.prototype.hideError=function(){var t;null===(t=this.subscribeNewsletterError)||void 0===t||t.classList.add(e.MarketingClientConstants.hiddenClassName)},b}(n.MarketingClientRWBase);exports.MarketingClientRWSecondPromotion=b;
},{"./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./constants/rw-object.constants":"ISz6","./helpers/dom-helper":"5OYG","./http/http":"2Moq","./marketing-client-rw-base":"23f2","./utils/checkbox":"ful/","./utils/spinner":"HMMv","./constants/big-data-constants":"gGic","./utils/utils":"8wWJ","./utils/livesession":"c+Ah"}],"vZL9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClientRWOwner=void 0;var t=require("./constants/rw-object.constants"),i=require("./marketing-client-rw-base"),e=require("./constants/big-data-constants"),n=require("./constants/event-type-constants"),o=require("./constants/marketing-client-utilization-constants"),r=require("./helpers/device-information-helper"),s=require("./helpers/dom-helper"),a=require("./http/http"),c=function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(i,e)};return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l=function(i){function l(e,n,o){void 0===o&&(o=t.RwSelector.rwOwnerSelector);var r=i.call(this,e,n,o)||this;return r.capping=e,r.utilizationObject=n,r.classSection=o,r.purchaseSubscription=".button-purchase",r.isLoading=!1,r}return c(l,i),l.prototype.init=function(){this.initialize(),this.section&&(this.initializePurchaseButton(),this.initializeRwElement(),this.initializeButtonLoader(),this.bindSwimmerEvents(),this.bindClickIDEvents(),this.bindUtilization(),this.showSwimmer())},l.prototype.initializePurchaseButton=function(){this.purchaseButton=s.DOMHelper.querySelector(this.purchaseSubscription)},l.prototype.initializeRwElement=function(){this.section&&(this.rwElement=s.DOMHelper.querySelector("["+o.UtilizationConstants.dataUtilizeRegistrationWall+"]",this.section))},l.prototype.initializeButtonLoader=function(){this.rwElement&&(this.buttonLoader=s.DOMHelper.querySelector(".button-loader",this.rwElement))},l.prototype.bindClickIDEvents=function(){var t=this;this.purchaseButton&&this.purchaseButton.addEventListener(n.EventType.CLICK,function(){t.utilize(e.BigDataClickID.purchaseSubscription,!0)})},l.prototype.bindUtilization=function(){var t=this;this.rwElement&&this.rwElement.addEventListener(n.EventType.CLICK,function(i){i.preventDefault(),t.utilization()})},l.prototype.utilization=function(){this.isLoading||(this.isLoading=!0,this.utilize(e.BigDataClickID.unlockAndRead),this.openArticleAndreloadLocation())},l.prototype.openArticleAndreloadLocation=function(){var t,i=this,e=r.DeviceInformationHelper.getXX();null===(t=this.buttonLoader)||void 0===t||t.classList.add(o.UtilizationConstants.visible),e&&this.openArticle(e).then(function(){i.reloadLocation()},function(t){var e;null===(e=i.buttonLoader)||void 0===e||e.classList.remove(o.UtilizationConstants.visible),i.isLoading=!1,console.error(t)})},l.prototype.reloadLocation=function(){setTimeout(function(){window.location&&window.location.reload()},3e3)},l.prototype.openArticle=function(t){return a.httpInstance.put({url:"https://squid-api.wyborcza.pl/lead-catcher/leads/v2/article",headers:{"Content-Type":"application/json"},withCredentials:!0,data:{article:t}})},l}(i.MarketingClientRWBase);exports.MarketingClientRWOwner=l;
},{"./constants/rw-object.constants":"ISz6","./marketing-client-rw-base":"23f2","./constants/big-data-constants":"gGic","./constants/event-type-constants":"4Lf/","./constants/marketing-client-utilization-constants":"KmOk","./helpers/device-information-helper":"qlft","./helpers/dom-helper":"5OYG","./http/http":"2Moq"}],"9kKW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.requiredOrderConstants=void 0;var e={marketing:!1,businessParamsDto:{},accessToken:null,accountToRegister:!1,blikCode:null,brand:"WYBORCZA",cardId:null,dataOcean:{},familyEmails:[],firstName:"null",lastName:"null",marketingParams:{},openAccess:!0,registerCard:!1,terms:!0,totalPrice:0};exports.requiredOrderConstants=e;
},{}],"znSY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OneDayPass=void 0;var t=require("./constants/big-data-constants"),e=require("./constants/event-type-constants"),i=require("./constants/marketing-client-constants"),n=require("./constants/rw-object.constants"),r=require("./helpers/big-data-helper"),s=require("./helpers/device-information-helper"),o=require("./helpers/dom-helper"),a=require("./marketing-client-bigdata"),c=require("./utils/checkbox"),h=require("./utils/error-handler-first-rw"),u=require("./utils/spinner"),l=require("./utils/utils"),p=require("./constants/order-constants"),d=require("./http/http"),f=function(){return(f=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},m=function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function o(t){try{c(n.next(t))}catch(e){s(e)}}function a(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(o,a)}c((n=n.apply(t,e||[])).next())})},y=function(t,e){var i,n,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},v=function(){function v(t,e){this.capping=t,this.utilizationObject=e,this.oneDayPassID="nw_one_day_pass",this.formID="one-day-pass-form",this.oneDayPassClass=".nw_2022_odp",this.classSuffix={email:"-form-email",emailError:"-form-email-error",checkbox:"-checkbox",createAccountError:"-form-create-account-error",button:"-button",spinner:"-form-spinner"},this.messages=n.RwErrorMessage,this.isHarmonyTest=l.Utils.getURLParamsAsObject().enableHarmonyTest,this.path=this.isHarmonyTest?"https://coreos05.wyborcza.pl:9443/":"https://api-prenumerata.wyborcza.pl/",this.isMobile=s.DeviceInformationHelper.getDeviceType()===s.DeviceType.MOBILE}return v.prototype.init=function(){this.initializeOneDayPass(),this.initializeForm(),this.form&&(this.initializeSpinner(),this.initializeCheckbox(),this.initializePromocode(),this.initializeParent(),this.bindEvents())},v.prototype.initializeOneDayPass=function(){this.oneDayPass=o.DOMHelper.getElementById(this.oneDayPassID)},v.prototype.initializeForm=function(){this.form=o.DOMHelper.getElementById(this.formID),this.form&&(this.email=o.DOMHelper.querySelector(""+this.oneDayPassClass+this.classSuffix.email,this.form),this.createAccountButton=o.DOMHelper.getElementById(""+this.formID+this.classSuffix.button),this.email&&(this.emailErrorHandler=new h.ErrorHandler(this.email),this.createAccountError=o.DOMHelper.querySelector(""+this.oneDayPassClass+this.classSuffix.createAccountError,this.form)))},v.prototype.initializePromocode=function(){this.oneDayPass.dataset.promocode&&(this.promocode=this.oneDayPass.dataset.promocode)},v.prototype.initializeSpinner=function(){this.spinnerCreateAccount=new u.Spinner(""+this.oneDayPassClass+this.classSuffix.spinner)},v.prototype.initializeCheckbox=function(){this.checkbox=new c.Checkbox(""+this.formID+this.classSuffix.checkbox)},v.prototype.initializeParent=function(){this.parent=this.oneDayPass&&this.oneDayPass.closest("["+i.MarketingClientConstants.placeholderDataSetAttribute+"]")},v.prototype.bindEvents=function(){this.bindEventsToRegistrationAccount(),this.bindEventsToEmailInput()},v.prototype.bindEventsToRegistrationAccount=function(){var t=this;this.createAccountButton&&this.createAccountButton.addEventListener(e.EventType.CLICK,function(e){e.preventDefault();var i=t.validateCheckboxes();t.validateEmail()&&i&&(t.hideRegistrationAccountError(),t.spinnerCreateAccount.show(),t.utilize(),t.sendData())})},v.prototype.bindEventsToEmailInput=function(){var t=this;this.email&&(this.email.addEventListener(e.EventType.CHANGE,this.validateEmail.bind(this)),this.email.addEventListener(e.EventType.INPUT,function(){var e;return(null===(e=t.email)||void 0===e?void 0:e.value.length)?t.emailErrorHandler.hide():t.emailErrorHandler.show(t.messages.required)}))},v.prototype.validateCheckboxes=function(){return this.checkbox.toggle(),this.checkbox.isValidate()},v.prototype.validateEmail=function(){var t=this.email?this.email.value:"",e=l.Utils.validateEmail(t);return t.length?e?this.emailErrorHandler.hide():this.emailErrorHandler.show(this.messages.banned):this.emailErrorHandler.show(this.messages.required)},v.prototype.errorRegistrationAccount=function(t){400===t.status?this.emailErrorHandler.show(this.messages.accountExists):this.showRegistrationAccountError(),this.spinnerCreateAccount.hide()},v.prototype.hideRegistrationAccountError=function(){var t;null===(t=this.createAccountError)||void 0===t||t.classList.add(i.MarketingClientConstants.hiddenClassName)},v.prototype.showRegistrationAccountError=function(){var t;null===(t=this.createAccountError)||void 0===t||t.classList.remove(i.MarketingClientConstants.hiddenClassName),this.spinnerCreateAccount.hide()},v.prototype.utilize=function(e,i){void 0===e&&(e=""),void 0===i&&(i=!1);if(this.parent){var n=this.utilizationObject.prepareDataToSend(this.parent,"brak"),s=r.BigDataHelper.createAttribute(this.parent,!0,e);i||this.utilizationObject.utilize(n),a.BigData.sendDataOceanEvent(t.BigDataEventConstants.onClick,f(f({},n),s))}},v.prototype.buildOfferBody=function(t){var e;return f({offerId:this.offerID,email:String(null===(e=this.email)||void 0===e?void 0:e.value).trim(),promoCode:this.promocode,accountType:t},p.requiredOrderConstants)},v.prototype.sendData=function(){return m(this,void 0,void 0,function(){var t;return y(this,function(e){switch(e.label){case 0:return this.spinnerCreateAccount.show(),t={email:this.email?String(this.email.value).trim():""},[4,d.httpInstance.get({url:this.path+"accounts/validate?"+new URLSearchParams(t),withCredentials:!0,headers:{"Content-Type":"application/stream+json",Accept:"*/*"}}).then(this.successEmailIsValid.bind(this),this.errorRegistrationAccount.bind(this))];case 1:return e.sent(),[2]}})})},v.prototype.successEmailIsValid=function(){return m(this,void 0,void 0,function(){var t;return y(this,function(e){switch(e.label){case 0:return t={registrationEmail:this.email?String(this.email.value).trim():"",accountType:"WYBORCZA"},[4,d.httpInstance.post({url:this.path+"accounts/register-v2",data:t,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"*/*"}}).then(this.successRegistrationAccount.bind(this),this.showRegistrationAccountError.bind(this))];case 1:return e.sent(),[2]}})})},v.prototype.successRegistrationAccount=function(){return m(this,void 0,void 0,function(){var t=this;return y(this,function(e){switch(e.label){case 0:return[4,d.httpInstance.get({url:this.path+"promo-codes/"+this.promocode+"/offerId",withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"*/*"}}).then(function(e){t.checkIfDataOfferId(e)},this.showRegistrationAccountError.bind(this))];case 1:return e.sent(),[2]}})})},v.prototype.checkIfDataOfferId=function(t){t.data.offerId?(this.offerID=t.data.offerId,this.softLogin()):this.showRegistrationAccountError()},v.prototype.softLogin=function(){return m(this,void 0,void 0,function(){var t;return y(this,function(e){switch(e.label){case 0:return t={email:this.email?String(this.email.value).trim():""},[4,d.httpInstance.post({url:this.path+"softlogin",data:t,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"*/*"}}).then(this.getAccountData.bind(this),this.showRegistrationAccountError.bind(this))];case 1:return e.sent(),[2]}})})},v.prototype.getAccountData=function(){return m(this,void 0,void 0,function(){var t=this;return y(this,function(e){switch(e.label){case 0:return[4,d.httpInstance.get({url:this.path+"accounts",withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"*/*"}}).then(function(e){t.checkIfDataAccountType(e)},this.showRegistrationAccountError.bind(this))];case 1:return e.sent(),[2]}})})},v.prototype.checkIfDataAccountType=function(t){t.data.accountType?this.makeTheOrder(t.data.accountType):this.showRegistrationAccountError()},v.prototype.makeTheOrder=function(t){return m(this,void 0,void 0,function(){var e,i=this;return y(this,function(n){switch(n.label){case 0:return e=this.buildOfferBody(t),[4,d.httpInstance.post({url:this.path+"orders",data:e,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"*/*"}}).then(function(){i.spinnerCreateAccount.hide(),window.location.reload()},this.showRegistrationAccountError.bind(this))];case 1:return n.sent(),[2]}})})},v}();exports.OneDayPass=v;
},{"./constants/big-data-constants":"gGic","./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./constants/rw-object.constants":"ISz6","./helpers/big-data-helper":"VizB","./helpers/device-information-helper":"qlft","./helpers/dom-helper":"5OYG","./marketing-client-bigdata":"Rp9g","./utils/checkbox":"ful/","./utils/error-handler-first-rw":"YdDL","./utils/spinner":"HMMv","./utils/utils":"8wWJ","./constants/order-constants":"9kKW","./http/http":"2Moq"}],"0u8V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProhibitedDomains=exports.HtmlElements=exports.ErrorMessage=exports.Selector=exports.ObjectConstants=void 0;var e={dataRequired:"data-required",requiredSelector:"[data-required]",customerPropertiesSelector:"[data-customer-properties]",locationLogin:"https://login.wyborcza.pl/",awsBaseUrl:"https://login.wyborcza.pl",ssoSessionCookieName:"SsoSessionPermanent",tokenUrl:"https://prenumerata.wyborcza.pl/subscription/formActivation",visitedUrl:"https://wyborcza.pl/0,0.html",emailInput:"input[name='registrationEmail']",formc:"input[name='formc']",checkboxConditions:"input[type='checkbox'][id^='condition']",manualUtilizeAttr:"data-utilize-manual",cookieName:"wyborcza_pl_account",error:"error",utilizationLoader:"utilization-loader",isVisible:"is-visible"};exports.ObjectConstants=e;var o={rwFirstPromotionSelector:".rw-first-promotion",rwSecondPromotionSelector:".rw-second-promotion",rwOwnerSelector:".rw_owner",promoCodeError:".promo-code-error",closeActivation:".close-activation",isLogin:".isLogin",isLogout:".isLogout",footer:".footer",loggedHide:".logged_hide",loginChannel:".login-channel",userEmail:".user-email",loginAction:".loginAction",logoutAction:".logoutAction",errorMessage:".error-message",rootHostname:".wyborcza.pl",oneClickRequired:".one-click-required",error:".error"};exports.Selector=o;var a={used:"Ten adres email został już zarejestrowany. Wpisz inny adres email albo ",invalid:"Podaj prawidłowy email albo ",prohibitedDomain:"Ten adres email pochodzi z zablokowanej domeny. Wpisz inny adres email albo "};exports.ErrorMessage=a;var i={form:"form",iframe:"iframe"};exports.HtmlElements=i;var r=["mailinator.com","sharklasers.com","guerillamail.info","grr.la","guerillamail.biz","guerillamail.com","guerillamail.de","guerillamail.net","guerillamail.org","guerillamailblock.com","pokemail.net","spam4.me","nwytg.net","armyspy.com","cuvox.de","dayrep.com","einrot.com","fleckens.hu","gustr.com","jourrapide.com","rhyta.com","superrito.com","teleworm.us","clrmail.com","eatlogs.com","dispostable.com","cd.mintemail.com","maildrop.cc","yopmail.com","spamgourmet.com","harakirimail.com","mailnesia.com","mt2015.com","33mail.com","tempr.email","discard.email","discardmail.com","discardmail.de","spambog.com","spambog.de","spambog.ru","0815.ru","hulapla.de","pfui.ru","0815.su","sweetxxx.de","zaktouni.fr","btcmail.pw","knol-power.nl","hartbot.de","freundin.ru","smashmail.de","s0ny.net","sohai.ml","wikidocuslava.ru","jumonji.tk","i6.cloudns.cc","i6.cloudns.cx","posta.store","milk.gage.ga","smap.4nmv.ru","spam.2012-2016.ru","pecinan.com","pecinan.org","budayationghoa.com","pecinan.net","budaya-tionghoa.com","meltedbrownies.com","larisia.com","starpower.space","thunderbolt.science","lajoska.pe.hu","hotmailproduct.com","yahooproduct.net","attnetwork.com","freelance-france.eu","webcontact-france.eu","fast-mail.fr","mail-easy.fr","instantmail.fr","cyber-phone.eu","premium-mail.fr","disign-concept.eu","ecolo-online.fr","photo-impact.eu","web-ideal.fr","wazabi.club","used-product.fr","cyber-innovation.club","reality-concept.club","last-chance.pro","disign-revelation.com","art-en-ligne.pro","solar-impact.pro","jet-renovation.fr","estate-invest.fr","klick-tipp.us","6-6-6.nut.cc","6-6-6.flu.cc","6-6-6.usa.cc","6-6-6.igg.biz","s-s.usa.cc","s-s.flu.cc","s-s.nut.cc","s-s.igg.biz","emailfake.usa.cc","ti.igg.biz","tx.igg.biz","txt.flu.cc","s0ny.usa.cc","s0ny.flu.cc","s0ny.nut.cc","s0ny.igg.biz","m5s.flu.cc","m5s.nut.cc","m5s.igg.biz","level3.usa.cc","level3.flu.cc","level3.nut.cc","level3.igg.biz","0x01.tk","0x01.gq","j7.cloudns.cx","pw.j7.cloudns.cx","txpwg.usa.cc","skypaluten.de","pw.mymy.cf","a.safe-mail.gq","x.0x01.tk","rr.0x01.gq","s.0x01.gq","ss.0x01.tk","tt.0x01.tk","mbox.0x01.tk","yop.0x01.gq","spam.0x01.tk","dm.j7.cloudns.cx","vw.0x01.tk","vw.0x01.gq","jj.0x01.tk","ths.mymy.cf","mbx.mysafe.ml","b.safe-mail.gq","c.safe-mail.gq","p-w.mysafe.ml","free.mysafe.ml","t4.0x01.tk","t4.0x01.gq","app.mymy.cf","ew.mysafe.ml","we.mysafe.ml","i.safe-mail.gq","j.safe-mail.gq","k.safe-mail.gq","l.safe-mail.gq","m.safe-mail.gq","n.safe-mail.gq","o.safe-mail.gq","p.safe-mail.gq","you.mymy.cf","i.mymy.cf","2.mymy.cf","msw.mymy.cf","yh.mysafe.ml","es.mysafe.ml","1.mysafe.ml","ap.mysafe.ml","m-x.mysafe.ml","on-off.cloudns.cx","3.mymy.cf","mail707.com","cano.cl","te.pecinan.org","te.budayationghoa.com","mail.ru","star.0x01.tk","star.0x01.gq","games4free.flu.cc","retkesbusz.nut.cc","asiarap.usa.cc","ay33rs.flu.cc","hunrap.usa.cc","44556677.igg.biz","my.safe-mail.gq"];exports.ProhibitedDomains=r;
},{}],"Sus4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OneDayPassOld=void 0;var t=require("./constants/event-type-constants"),e=require("./helpers/dom-helper"),o=require("./marketing-client-bigdata"),n=require("./helpers/big-data-helper"),i=require("./helpers/device-information-helper"),r=require("./marketing-client"),a=require("./constants/big-data-constants"),l=require("./utils/utils"),s=require("./constants/marketing-client-constants"),c=require("./constants/one-day-pass-old-constants"),u=require("./constants/cta-object-constants"),d=require("./constants/marketing-client-utilization-constants"),p=function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function l(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,l)}s((n=n.apply(t,e||[])).next())})},m=function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(l){r=[6,l],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},h=function(){function h(t,e){this.capping=t,this.utilizationObject=e,this.isMobile=i.DeviceInformationHelper.getDeviceType()===i.DeviceType.MOBILE}return h.prototype.init=function(){this.module=e.DOMHelper.querySelector(c.Selector.closeActivation),this.form=e.DOMHelper.querySelector(c.Selector.closeActivation+" "+c.HtmlElements.form),this.tokenIframe=e.DOMHelper.querySelectorAsArray(c.HtmlElements.iframe)[0],this.ctaObject=l.Utils.prepareCtaObject(this.module),this.collectionIdsObject=l.Utils.prepareCollectionIdsObject(this.module),this.module&&(this.hideEmailField(),this.bindActionsForLoginAndLogout(),this.getTokenAndListenIframe(),this.bindSubmitForm())},h.prototype.hideEmailField=function(){var t;(null===(t=null===r.WYBORCZA_PL||void 0===r.WYBORCZA_PL?void 0:r.WYBORCZA_PL.userInfo)||void 0===t?void 0:t.loggedIn)?(this.hideLogoutElements(),this.showLoginElements(),this.setLoginChannel(),this.setUserEmail()):this.hideLoginElements()},h.prototype.hideLogoutElements=function(){(this.module?e.DOMHelper.querySelectorAsArray(c.Selector.isLogout):[]).forEach(function(t){return t.classList.add(s.MarketingClientConstants.hiddenClassName)}),e.DOMHelper.querySelectorAsArray(c.Selector.footer+" "+c.Selector.loggedHide).forEach(function(t){return t.classList.add(s.MarketingClientConstants.hiddenClassName)})},h.prototype.showLoginElements=function(){(this.module?e.DOMHelper.querySelectorAsArray(c.Selector.isLogin):[]).forEach(function(t){return t.classList.remove(s.MarketingClientConstants.hiddenClassName)})},h.prototype.setLoginChannel=function(){(this.module?e.DOMHelper.querySelectorAsArray(c.Selector.loginChannel):[]).forEach(function(t){var e;return t.classList.add(null===(e=null===r.WYBORCZA_PL||void 0===r.WYBORCZA_PL?void 0:r.WYBORCZA_PL.userInfo)||void 0===e?void 0:e.channel)})},h.prototype.setUserEmail=function(){(this.module?e.DOMHelper.querySelectorAsArray(c.Selector.userEmail):[]).forEach(function(t){var e;return t.textContent=null===(e=null===r.WYBORCZA_PL||void 0===r.WYBORCZA_PL?void 0:r.WYBORCZA_PL.userInfo)||void 0===e?void 0:e.email})},h.prototype.hideLoginElements=function(){(this.module?e.DOMHelper.querySelectorAsArray(c.Selector.isLogin):[]).forEach(function(t){return t.classList.add(s.MarketingClientConstants.hiddenClassName)})},h.prototype.bindActionsForLoginAndLogout=function(){var o=this,n=e.DOMHelper.querySelectorAsArray(c.Selector.closeActivation+" "+c.Selector.loginAction),i=e.DOMHelper.querySelector(c.Selector.closeActivation+" "+c.Selector.logoutAction);null==n||n.forEach(function(e){e.addEventListener(t.EventType.CLICK,function(){o.goToLogin()})}),i&&(null==i||i.addEventListener(t.EventType.CLICK,function(t){o.logout(t)}))},h.prototype.logout=function(t){t.preventDefault();var e=(document.cookie.match(c.ObjectConstants.ssoSessionCookieName+"=([^;]+)")||[])[1]||"",o=c.ObjectConstants.locationLogin+"/services/logout/jsonp";-1===location.host.indexOf(c.Selector.rootHostname)&&(o+="?SsoSessionPermanent="+e);var n=document.createElement("script");window.logoutCallback=this.logoutCallback.bind(this),n.src=o+"?callback=logoutCallback",document.body.appendChild(n)},h.prototype.logoutCallback=function(){document.cookie=c.ObjectConstants.cookieName+"=; expires="+new Date(0).toUTCString()+"; path=/;",document.location.href=c.ObjectConstants.visitedUrl},h.prototype.goToLogin=function(){window.location.href=c.ObjectConstants.locationLogin},h.prototype.getTokenAndListenIframe=function(){var t,e,o,n=this;(null===(t=this.tokenIframe)||void 0===t?void 0:t.contentDocument)?"complete"===(null===(e=this.tokenIframe)||void 0===e?void 0:e.contentDocument.readyState)&&this.getToken(c.ObjectConstants.tokenUrl):null===(o=this.tokenIframe)||void 0===o||o.addEventListener("load",function(t){n.getToken(c.ObjectConstants.tokenUrl)})},h.prototype.bindSubmitForm=function(){var e,o=this;null===(e=this.form)||void 0===e||e.addEventListener(t.EventType.SUBMIT,function(t){var e;o.token&&(o.validRequiredCondition(o.form),o.validOneClickCondition(o.form),(null===(e=null===r.WYBORCZA_PL||void 0===r.WYBORCZA_PL?void 0:r.WYBORCZA_PL.userInfo)||void 0===e?void 0:e.loggedIn)?o.formSubmit():o.validEmail(o.form)),t.preventDefault()})},h.prototype.validEmail=function(t){return p(this,void 0,void 0,function(){var e,o,n;return m(this,function(i){return e=t.querySelector(c.ObjectConstants.emailInput),o=null==e?void 0:e.value.trim(),n={emailUsed:c.ErrorMessage.used,invalidEmail:c.ErrorMessage.invalid,prohibitedDomain:c.ErrorMessage.prohibitedDomain},null==e||e.classList.remove(c.ObjectConstants.error),this.isValidEmail(o)?this.isProhibitedDomain(o)?(this.displayEmailError(e,n.prohibitedDomain),[2,!1]):(this.isEmailUsed(o,e,n),[2]):(this.displayEmailError(e,n.invalidEmail),[2,!1])})})},h.prototype.isValidEmail=function(t){return/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/gim.test(t)},h.prototype.isProhibitedDomain=function(t){var e=t.split("@")[1];return c.ProhibitedDomains.indexOf(e)>-1},h.prototype.isEmailUsed=function(t,e,o){var n=this;fetch("/kontowyborcza/services/check-if-email-used?email="+t+"&api=ajax2").then(function(t){return t.json()}).then(function(t){t.used||t.usedGazeta?n.displayEmailError(e,o.emailUsed):n.formSubmit()}).catch(function(t){console.error(t)})},h.prototype.displayEmailError=function(t,e){null==t||t.classList.add(c.ObjectConstants.error);var o=null==t?void 0:t.nextElementSibling,n=null==o?void 0:o.querySelector(c.Selector.errorMessage);n&&(n.textContent=e)},h.prototype.validOneClickCondition=function(t){var e=this;t.querySelectorAll(c.Selector.oneClickRequired).forEach(function(o){e.validCondition({form:t,type:c.Selector.oneClickRequired,unCheckCallback:function(t){t.removeAttribute(c.ObjectConstants.dataRequired)}})})},h.prototype.validRequiredCondition=function(t){this.validCondition({form:t,type:c.ObjectConstants.requiredSelector})},h.prototype.validCondition=function(t){var e=this;t.unCheckCallback=t.unCheckCallback||function(){},t.form.querySelectorAll(""+c.ObjectConstants.checkboxConditions+t.type).forEach(function(o){var n=o;e.removeInputError(n),!n.checked&&n.getAttribute(c.ObjectConstants.dataRequired)&&(e.addInputError(n),t.unCheckCallback&&t.unCheckCallback(n,n.nextElementSibling))})},h.prototype.addInputError=function(t){t.nextElementSibling.classList.add(c.ObjectConstants.error)},h.prototype.removeInputError=function(t){t.nextElementSibling.classList.remove(c.ObjectConstants.error)},h.prototype.formSubmit=function(){var t=document.querySelectorAll(c.Selector.closeActivation+" "+c.HtmlElements.form+" "+c.Selector.error+" "),e=this.collectUtilizationData();t.length<=0&&(e?(this.sendBigDataUtilization(),this.utilizationObject.utilize(e),this.sendFormData()):this.sendFormData())},h.prototype.addLazyLoader=function(t){var e=null==t?void 0:t.getBoundingClientRect(),o=document.body.scrollTop||document.documentElement.scrollTop,n=document.body.scrollLeft||document.documentElement.scrollLeft,i=(null==e?void 0:e.top)+o,r=(null==e?void 0:e.left)+n,a=null==e?void 0:e.width,l=null==e?void 0:e.height,s=document.createElement("div");return s.classList.add(c.ObjectConstants.utilizationLoader),s.style.cssText="width: "+a+"px; height: "+l+"px; top: "+i+"px; left: "+r+"px;",document.body.appendChild(s),{remove:function(){s&&document.body.removeChild(s)}}},h.prototype.sendFormData=function(){var t,e=this.getFormData(),o=this.appendDataToUrl(e);this.fetchJSONP(null===(t=e.form)||void 0===t?void 0:t.action,o)},h.prototype.getFormData=function(){var t,e=null===(t=this.module)||void 0===t?void 0:t.querySelector(c.HtmlElements.form),o=null==e?void 0:e.querySelectorAll(c.ObjectConstants.customerPropertiesSelector),n={form:e,customerProperties:{}};return this.loader=this.addLazyLoader(e),null==o||o.forEach(function(t){var e=t.getAttribute(c.ObjectConstants.customerPropertiesSelector);e&&(n.customerProperties[e]=t.value)}),n},h.prototype.appendDataToUrl=function(t){var e,o=new URLSearchParams;for(var n in t.customerProperties)o.append("customerProperties["+n+"]",t.customerProperties[n]);return Array.from((null===(e=t.form)||void 0===e?void 0:e.elements)||[]).forEach(function(t){(t instanceof HTMLInputElement||t instanceof HTMLSelectElement)&&t.name&&t.value&&o.append(t.name,t.value)}),o.toString()},h.prototype.fetchJSONP=function(t,e){var o=new URLSearchParams(e);window.jsonpCallback=this.jsonpCallback.bind(this);var n=document.createElement("script");n.src=t+"?callback=jsonpCallback&"+o,document.body.appendChild(n)},h.prototype.jsonpCallback=function(t){var e,o=null===(e=this.module)||void 0===e?void 0:e.querySelector(c.Selector.promoCodeError);"ok"===t.status?location.reload():o&&o.classList.add(c.ObjectConstants.isVisible),this.loader&&this.loader.remove()},h.prototype.sendBigDataUtilization=function(){var t,e=null===(t=this.module)||void 0===t?void 0:t.closest(d.UtilizationConstants.classMcBan);(null==e?void 0:e.querySelector("["+u.CtaObjectConstants.dataCtaCategory+"]"))&&o.BigData.sendDataOceanEvent(a.BigDataEventConstants.onClick,o.BigData.prepareDataOceanAttribute(this.ctaObject,this.collectionIdsObject))},h.prototype.collectUtilizationData=function(){var t,e,o,i=null===(t=this.module)||void 0===t?void 0:t.closest(d.UtilizationConstants.classMcBan),r=null===(e=this.module)||void 0===e?void 0:e.querySelector("["+c.ObjectConstants.manualUtilizeAttr+"]");if(i&&r)return(o={campaignId:i.getAttribute(d.UtilizationConstants.dataCampaignId),actionId:i.getAttribute(d.UtilizationConstants.dataActionId),guid:n.BigDataHelper.getBigDataGUID(),condition:r?r.getAttribute(c.ObjectConstants.manualUtilizeAttr):""}).campaignId&&o.actionId&&o.guid&&o.condition?o:null},h.prototype.getToken=function(t){if(void 0===window.squid){window.setTokenCallback=this.setToken.bind(this);var e=document.createElement("script");e.src=t+"?callback=setTokenCallback",e.async=!0,document.body.appendChild(e)}},h.prototype.setToken=function(t){var o=e.DOMHelper.querySelector(c.ObjectConstants.formc);o&&o&&(o.value=t.value,this.token=t.value)},h}();exports.OneDayPassOld=h;
},{"./constants/event-type-constants":"4Lf/","./helpers/dom-helper":"5OYG","./marketing-client-bigdata":"Rp9g","./helpers/big-data-helper":"VizB","./helpers/device-information-helper":"qlft","./marketing-client":"Fk3a","./constants/big-data-constants":"gGic","./utils/utils":"8wWJ","./constants/marketing-client-constants":"bZBa","./constants/one-day-pass-old-constants":"0u8V","./constants/cta-object-constants":"FJxd","./constants/marketing-client-utilization-constants":"KmOk"}],"ktFG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SwfSelector=void 0;var e={oldSwfSelector:".share-article-container"};exports.SwfSelector=e;
},{}],"OMta":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CopConstants=void 0;var e={cop:".cop_banners",dataDownloadArticle:"data-download-Article",dataKeyValue:"data-key-value",dataWidgetId:"data-widgetid",dataDomainKey:"data-domain-key",dataDmParameter:"data-dm-parameter",box:"#box",bookmark:"#bookmark",boxHeader:".recommendation-box-header",boxImg:".recommendation-box-image",boxDescription:".recommendation-box-description",boxButtonsWrap:".recommendation-box-buttons",boxRecommendationAnchor:".recommendation-box-anchor",swimmerArticleLoader:".cop_swimmer_carousel-button-loader",visible:"is-visible",hidden:"hidden",ddboxGraphicFormat:"II",swimmerDesktopGraphicFormat:"H",swimmerMobileGraphicFormat:"NWA",fetchFailedMessage:"Failed to Fetch recommended articles"};exports.CopConstants=e;
},{}],"LYYB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../constants/cop-constants"),t=require("../../helpers/dom-helper"),a=require("../utils"),o=function(){function o(e,t){this.articleParameters={articleId:0,pageUrl:""},this.imageFormat="",this.boxIndex=e,this.downloadRecommendation=t}return o.prototype.init=function(){this.initializeElements()},o.prototype.prepareBox=function(e,t,a,o,r){if(this.downloadRecommendation&&e&&this.checkIfAllElementsExist()&&this.checkIfRecoHasValuesInRequiredFields(e)){var n=this.buildRecommendationUrl(e.url,t,a,o,r);this.assignRecommendationData(e,n),this.getParameters(e)}else this.setParametersForPlanB(),this.setUrlForPlanB()},o.prototype.assignImageFormat=function(t,a){return t?e.CopConstants.ddboxGraphicFormat:a?e.CopConstants.swimmerMobileGraphicFormat:e.CopConstants.swimmerDesktopGraphicFormat},o.prototype.initializeElements=function(){this.elements={image:t.DOMHelper.querySelector(""+e.CopConstants.box+this.boxIndex+" "+e.CopConstants.boxImg),title:t.DOMHelper.querySelector(""+e.CopConstants.box+this.boxIndex+" "+e.CopConstants.boxHeader+" "),description:t.DOMHelper.querySelector(""+e.CopConstants.box+this.boxIndex+" "+e.CopConstants.boxDescription+" "),anchors:t.DOMHelper.querySelectorAsArray(""+e.CopConstants.box+this.boxIndex+" "+e.CopConstants.boxRecommendationAnchor),readLaterButton:t.DOMHelper.querySelector(""+e.CopConstants.bookmark+this.boxIndex)}},o.prototype.buildRecommendationUrl=function(e,t,a,o,r){var n=new URL(e);return n.searchParams.append("cta",""+t.cta),n.searchParams.append("actionId",""+a.actionId),n.searchParams.append("campaignId",""+a.campaignId),n.searchParams.append("touchPointId",""+a.touchPointId),n.searchParams.append("art_pvid",""+o),n.searchParams.append("tile",""+(this.boxIndex+1)),r&&n.searchParams.append("mapcampdm",r),n.href},o.prototype.assignRecommendationData=function(e,t){var o=e.title,r=e.lead,n=e.params,s=e.photoUrl;this.elements.image.src=a.Utils.changeFormatImg(s,this.imageFormat),this.elements.image.alt=n.tagName,this.elements.title.textContent=o,this.elements.description.textContent=r,this.elements.anchors.forEach(function(e){e.href=t})},o.prototype.checkIfAllElementsExist=function(){var e;return Boolean((null===(e=this.elements)||void 0===e?void 0:e.image)&&this.elements.title&&this.elements.description&&this.elements.anchors)},o.prototype.checkIfRecoHasValuesInRequiredFields=function(e){return Boolean(e.title&&e.lead&&e.photoUrl&&e.url)},o.prototype.getParameters=function(e){this.articleParameters.articleId=e.id,this.articleParameters.pageUrl=e.url},o.prototype.setParametersForPlanB=function(){var e;(null===(e=this.elements)||void 0===e?void 0:e.anchors[0].href)&&(this.articleParameters.articleId=Number(this.elements.anchors[0].href.split(",")[2]),this.articleParameters.pageUrl=this.elements.anchors[0].href)},o.prototype.setUrlForPlanB=function(){var e=this;this.elements.anchors.forEach(function(t){var a=new URL(t.href);a.searchParams.append("tile",""+(e.boxIndex+1)),t.href=a.href})},o}(),r=o;exports.default=r;
},{"../../constants/cop-constants":"OMta","../../helpers/dom-helper":"5OYG","../utils":"8wWJ"}],"0Mb9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function c(e){try{s(n.next(e))}catch(t){a(t)}}function i(e){try{s(n.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(c,i)}s((n=n.apply(e,t||[])).next())})},t=function(e,t){var r,n,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(i){a=[6,i],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},r=function(){function r(){}return r.add=function(r,n){return e(this,void 0,Promise,function(){return t(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch(this.apiUrl,{method:"PUT",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify([{pageId:r,pageUrl:n}])})];case 1:if(!e.sent().ok)throw new Error("Internal server error in ReadLater.add()");return[2,!0];case 2:return e.sent(),console.log("%cReadLater","color: #faa","error adding"),[3,3];case 3:return[2,!1]}})})},r.remove=function(r){return e(this,void 0,Promise,function(){return t(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch(this.apiUrl+r,{method:"DELETE",cache:"no-cache"})];case 1:if(!e.sent().ok)throw new Error("Internal server error in ReadLater.remove()");return[2,!0];case 2:return e.sent(),console.log("%cReadLater","color: #faa","error removing"),[3,3];case 3:return[2,!1]}})})},r.list=function(r){return e(this,void 0,Promise,function(){var e,n,o;return t(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,fetch(this.apiUrl+"?page=0&size=1000",{cache:"no-cache"})];case 1:if(!(e=t.sent()).ok)throw new Error("Internal server error in ReadLater.list()");return[4,e.json()];case 2:return n=t.sent(),o=n.content.length&&n.content[0].pageId!==r?n.content[0]:n.content.length>1?n.content[1]:null,[2,{list:n.content.map(function(e){return e.pageId}),suggested:o,total:n.totalElements}];case 3:return t.sent(),console.log("%cReadLater","color: #faa","error getting list"),[3,4];case 4:return[2,{list:[],suggested:null,total:0}]}})})},r.apiUrl="/api/read-later/v2/pages/",r}(),n=r;exports.default=n;
},{}],"2LA3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){function e(){}return e.doAnimation=function(e,t){var o=e.getBoundingClientRect(),n=t.getBoundingClientRect(),l=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","use");console.log("%cReadLater","color: #faa","animation"),r.setAttributeNS(null,"href","#sbook"),l.insertAdjacentElement("beforeend",r),l.classList.add("read-later--ghost"),l.style.top=o.top+o.height/2+window.scrollY+"px",l.style.left=o.left+o.width/2+"px",document.body.insertAdjacentElement("beforeend",l),l.style.top=n.top+n.height/2+window.scrollY+"px",l.style.left=n.left+n.width/2+"px",setTimeout(function(){return l.remove()},1100)},e}(),t=e;exports.default=t;
},{}],"nry/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){function e(){}return e.show=function(e,t){var n=document.createElement("div"),o=e.getBoundingClientRect();n.className="tooltip",n.textContent=t,n.style.zIndex="2000",n.style.top=o.top+o.height/2+window.scrollY+"px",o.left<window.innerWidth/2?n.style.left=o.left+o.width+"px":n.style.right=window.innerWidth-o.right+o.width+"px",document.body.insertAdjacentElement("beforeend",n),setTimeout(function(){return n.remove()},3e3)},e}(),t=e;exports.default=t;
},{}],"RNrF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReadLaterConstants=void 0;var e={buttonInListClass:"read-later--added",capUserSelector:".cap-account--icon",countArticleSelector:".cap-account--menu-level1-chip",localStorageKey:"read-later",displayNone:"none",emptyString:"",articleAddedToStorage:"Artykuł dodany do schowka",articleDeletedFromStorage:"Artykuł usunięty ze schowka"};exports.ReadLaterConstants=e;
},{}],"Jgo1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../constants/event-type-constants"),e=o(require("./service")),n=o(require("./view")),a=o(require("../../tooltip/module")),r=require("../../constants/read-later-constants"),i=require("../../helpers/dom-helper");function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t,e,n,a){return new(n||(n=Promise))(function(r,i){function o(t){try{l(a.next(t))}catch(e){i(e)}}function s(t){try{l(a.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}l((a=a.apply(t,e||[])).next())})},l=function(t,e){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=function(){function o(t){this.articleIdList=[],this.articleTotal=0,this.readLaterButtonsClass=t,this.isLoggedIn=Boolean(document.body.dataset.logged)}return o.prototype.init=function(){this.isLoggedIn&&(this.capUserElement=i.DOMHelper.querySelector(r.ReadLaterConstants.capUserSelector),this.countArticleElement=i.DOMHelper.querySelector(r.ReadLaterConstants.countArticleSelector))},o.prototype.initializeReadLaterButton=function(t,e){e&&this.isLoggedIn?this.handleButtonClick(e,t):this.hideButtons(e)},o.prototype.bindReadLaterEvents=function(t){var e=this;t.forEach(function(t){e.bindBox(t)})},o.prototype.bindBox=function(t){var e=t.elements.readLaterButton;this.initializeReadLaterButton(t.articleParameters,e),this.setButtonState(e),this.addDatasetXX(t.elements.anchors[0],e)},o.prototype.hideButtons=function(t){t&&(t.style.display=r.ReadLaterConstants.displayNone,t.innerHTML=r.ReadLaterConstants.emptyString)},o.prototype.handleButtonClick=function(e,n){var a=this;e.addEventListener(t.EventType.CLICK,function(t){t.preventDefault(),a.toggle(e,t,n.articleId,n.pageUrl)})},o.prototype.toggle=function(t,i,o,c){return s(this,void 0,Promise,function(){var s;return l(this,function(l){switch(l.label){case 0:return this.isLoggedIn&&t?(s=this.articleIdList.indexOf(o),i.preventDefault(),s>=0?[4,e.default.remove(o)]:[3,2]):[2];case 1:return l.sent()&&(this.articleIdList.splice(s,1),t.classList.remove(r.ReadLaterConstants.buttonInListClass),a.default.show(t,r.ReadLaterConstants.articleDeletedFromStorage),localStorage.setItem(r.ReadLaterConstants.localStorageKey,JSON.stringify(this.articleIdList)),this.countArticleElement.dataset.chip=this.articleIdList.length.toString()),[3,4];case 2:return[4,e.default.add(o,c)];case 3:l.sent()&&(this.articleIdList.push(o),t.classList.add(r.ReadLaterConstants.buttonInListClass),a.default.show(t,r.ReadLaterConstants.articleAddedToStorage),localStorage.setItem(r.ReadLaterConstants.localStorageKey,JSON.stringify(this.articleIdList)),this.countArticleElement.dataset.chip=this.articleIdList.length.toString(),n.default.doAnimation(t,this.capUserElement)),l.label=4;case 4:return[2]}})})},o.prototype.addDatasetXX=function(t,e){var n;t&&e&&(e.dataset.xx=null===(n=null==t?void 0:t.href)||void 0===n?void 0:n.split(",")[2])},o.prototype.setButtonState=function(t){return s(this,void 0,Promise,function(){return l(this,function(e){return this.isLoggedIn&&t?(this.getLocalStorageData(t),this.getServerData(t),[2]):[2]})})},o.prototype.getLocalStorageData=function(t){try{this.articleIdList=JSON.parse(localStorage.getItem(r.ReadLaterConstants.localStorageKey)),this.articleTotal=this.articleIdList.length,t.classList.toggle(r.ReadLaterConstants.buttonInListClass,this.articleIdList.indexOf(Number(t.dataset.xx))>=0),this.countArticleElement.dataset.chip=this.articleIdList.length.toString()}catch(e){console.log("%cReadLater","color: #faa","no local saved articles")}},o.prototype.getServerData=function(t){return s(this,void 0,Promise,function(){var n,a,i;return l(this,function(o){switch(o.label){case 0:return[4,e.default.list(Number(document.body.dataset.xx))];case 1:return n=o.sent(),a=n.list,i=n.total,this.articleIdList=a,this.articleTotal=i,t.classList.toggle(r.ReadLaterConstants.buttonInListClass,this.articleIdList.indexOf(Number(t.dataset.xx))>=0),this.countArticleElement.dataset.chip=this.articleTotal.toString(),[2]}})})},o}(),u=c;exports.default=u;
},{"../../constants/event-type-constants":"4Lf/","./service":"0Mb9","./view":"2LA3","../../tooltip/module":"nry/","../../constants/read-later-constants":"RNrF","../../helpers/dom-helper":"5OYG"}],"TdaV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../constants/big-data-object-constants"),e=require("../../constants/cop-constants"),i=require("../../helpers/big-data-helper"),o=require("../../helpers/dom-helper"),r=require("../../marketing-client-bigdata"),a=require("../utils"),n=l(require("./cop-box")),s=l(require("./read-later"));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t,e,i,o){return new(i||(i=Promise))(function(r,a){function n(t){try{l(o.next(t))}catch(e){a(e)}}function s(t){try{l(o.throw(t))}catch(e){a(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(n,s)}l((o=o.apply(t,e||[])).next())})},p=function(t,e){var i,o,r,a,n={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(r=(r=n.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){n=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){n.label=a[1];break}if(6===a[0]&&n.label<r[1]){n.label=r[1],r=a;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(a);break}r[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(s){a=[6,s],o=0}finally{i=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=function(t,e){for(var i=0,o=e.length,r=t.length;i<o;i++,r++)t[r]=e[i];return t},h=function(){function l(t){this.ddboxIsVisible=!1,this.boxes=[],this.scriptParameters={},this.isMobile=t,this.readLater=new s.default(e.CopConstants.boxButtonsWrap)}return l.prototype.init=function(t){this.cop=o.DOMHelper.querySelector(e.CopConstants.cop),this.ddboxIsVisible=t,this.cop&&(this.getAnalyticalParams(),this.hideFirstBox(),this.prepareDataToGetReco(),this.initializeScriptParameters(),this.addDomainKeyToParams(),this.pullRecommendations(),this.readLater.init())},l.prototype.getAnalyticalParams=function(){var e;(null===(e=this.cop)||void 0===e?void 0:e.parentElement)&&(this.collectionIdsObject=a.Utils.prepareCollectionIdsObject(this.cop.parentElement),this.ctaObject=a.Utils.prepareCtaObject(this.cop.parentElement),this.pageViewId=i.BigDataHelper.getBigDataOrCookieValue(t.BigDataObjectConstants.pageViewCookie,t.BigDataObjectConstants.pageViewBigData))},l.prototype.prepareDataToGetReco=function(){this.boxesToDownload=JSON.parse(this.cop.getAttribute(e.CopConstants.dataDownloadArticle)),this.widgetId=this.cop.getAttribute(e.CopConstants.dataWidgetId),this.domainKey=this.cop.getAttribute(e.CopConstants.dataDomainKey),this.dmParameter=this.cop.getAttribute(e.CopConstants.dataDmParameter)||""},l.prototype.initializeScriptParameters=function(){var t=JSON.parse(this.cop.getAttribute(e.CopConstants.dataKeyValue));t&&(this.scriptParameters=t.reduce(function(t,e){return t[e.key]=e.value,t},{}))},l.prototype.addDomainKeyToParams=function(){this.domainKey&&(this.scriptParameters[this.domainKey]=window.location.hostname)},l.prototype.pullRecommendations=function(){return c(this,void 0,void 0,function(){var t;return p(this,function(i){switch(i.label){case 0:if(!this.widgetId)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.BigData.getRecommendations(this.widgetId,this.scriptParameters)];case 2:return t=i.sent(),this.recommendations=u([],t),this.prepareBoxes(t),[3,4];case 3:return i.sent(),console.log(e.CopConstants.fetchFailedMessage),this.prepareBoxes(null),[3,4];case 4:return[2]}})})},l.prototype.prepareBoxes=function(t){for(var e=0,i=0;i<this.boxesToDownload.length;i++){var o=new n.default(i,this.boxesToDownload[i]),r=t?t[e]:null;this.createBox(o,r),e++}this.showFirstBox(),this.readLater.bindReadLaterEvents(this.boxes)},l.prototype.createBox=function(t,e){t.init(),t.imageFormat=t.assignImageFormat(this.ddboxIsVisible,this.isMobile),t.prepareBox(e,this.ctaObject,this.collectionIdsObject,this.pageViewId,this.dmParameter),this.boxes.push(t)},l.prototype.hideFirstBox=function(){var t;this.articleLoader=o.DOMHelper.querySelector(e.CopConstants.swimmerArticleLoader),null===(t=this.articleLoader)||void 0===t||t.classList.add(e.CopConstants.visible),this.toggleContentVisibility(""+e.CopConstants.box+0)},l.prototype.showFirstBox=function(){var t;null===(t=this.articleLoader)||void 0===t||t.classList.remove(e.CopConstants.visible),this.toggleContentVisibility(""+e.CopConstants.box+0)},l.prototype.toggleContentVisibility=function(t){var i=o.DOMHelper.querySelector(t);null==i||i.classList.toggle(e.CopConstants.hidden)},l}(),d=h;exports.default=d;
},{"../../constants/big-data-object-constants":"Zms+","../../constants/cop-constants":"OMta","../../helpers/big-data-helper":"VizB","../../helpers/dom-helper":"5OYG","../../marketing-client-bigdata":"Rp9g","../utils":"8wWJ","./cop-box":"LYYB","./read-later":"Jgo1"}],"cUGI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ThemeConstants=void 0;var e={selector:"[data-mc-theme-name]"};exports.ThemeConstants=e;
},{}],"ypbr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Theme=void 0;var e=require("./constants/color-theme-constants"),t=require("./helpers/dom-helper"),r=function(){function r(){}return r.prototype.init=function(){var r=t.DOMHelper.querySelector(e.ThemeConstants.selector),s=null==r?void 0:r.dataset.mcThemeName;s&&s.length>0&&this.setTheme(s)},r.prototype.setTheme=function(e){var r=t.DOMHelper.querySelector("html");r&&(r.className=r.className.replace(/theme_(\w*)/g,""),r.classList.add(e))},r}();exports.Theme=r;
},{"./constants/color-theme-constants":"cUGI","./helpers/dom-helper":"5OYG"}],"VEig":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Selector=exports.ObjectConstants=void 0;var o={active:"active"};exports.ObjectConstants=o;var n={accordionHeader:".nw_2023_closing_without_lp-content-accordion-header",accordionArrow:".nw_2023_closing_without_lp-content-accordion-header-arrow",hardClosingAccordionHeader:".nw_2023_hard_closing-content-accordion-header",hardClosingAccordionArrow:".nw_2023_hard_closing-content-accordion-header-arrow",hardClosing:".nw_2023_hard_closing",hardClosingDesktopScrollButton:".nw_2023_hard_closing-content-box-desktop-action-scroll",hardClosingMobileActionButton:".nw_2023_hard_closing-content-action-mobile-button-container",hardClosingMobileFixedButton:".mobile-fixed-button",hardClosingMobileScrollButton:".nw_2023_hard_closing-content-scroll-button",hardClosingConditionsOfPromotion:".nw_2023_hard_closing-content-conditions-promotion",hardClosingAccordionsContent:".nw_2023_hard_closing-content-scrollable",hardClosingHeader:".nw_2023_hard_closing-header",closer:"closer",sticky:"sticky",unvisible:"unvisible",hidden:"hidden",placeholder:'[data-mc-placeholder-id="PLDM_PAYWALL"]',marketingParams:"domain_marketing_params",padlock:".nw_2021_padlock",fixedScreening:"fixedScreening",fixedPadlock:"fixedPadlock"};exports.Selector=n;
},{}],"KHxl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClosingWithoutLp=void 0;var t=require("./helpers/dom-helper"),e=require("./constants/event-type-constants"),o=require("./constants/closing-without-lp"),n=function(){function n(t){this.accordionList=[],this.isMobile=t}return n.prototype.init=function(){this.prepareAccordionHeaders(o.Selector.accordionHeader),this.toggleAccordionEvents(o.Selector.accordionArrow)},n.prototype.prepareAccordionHeaders=function(e){this.accordionList=t.DOMHelper.querySelectorAsArray(e)},n.prototype.toggleAccordionEvents=function(t){var o=this;this.accordionList.forEach(function(n){n.addEventListener(e.EventType.CLICK,function(){o.toggleAccordion(n,t)})})},n.prototype.toggleAccordion=function(t,e){var n,r=t.nextElementSibling;null==r||r.classList.toggle(o.ObjectConstants.active),null===(n=t.querySelector(e))||void 0===n||n.classList.toggle(o.ObjectConstants.active)},n}();exports.ClosingWithoutLp=n;
},{"./helpers/dom-helper":"5OYG","./constants/event-type-constants":"4Lf/","./constants/closing-without-lp":"VEig"}],"Bn1r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdsRewarded=void 0;var e=function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function s(e){try{l(o.next(e))}catch(t){a(t)}}function i(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,i)}l((o=o.apply(e,t||[])).next())})},t=function(e,t){var n,o,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(i){a=[6,i],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},n=function(e,t){for(var n=0,o=t.length,r=e.length;n<o;n++,r++)e[r]=t[n];return e},o=function(){return function(){var o=this;this.apiUrl="https://access.wyborcza.pl/additionalAccess",this.nodeSelector="[data-rewarded-ads]",this.slotInstance=null,this.slotPosition="019-TOPLAYER",this.logger=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log.apply(console,n(["%cAdsRewarded","color: #fed049"],e))},this.init=function(){var e;o.nodeElements=document.querySelectorAll(o.nodeSelector),(null===(e=o.nodeElements)||void 0===e?void 0:e.length)&&o.initSlot()},this.initSlot=function(){window.googletag=window.googletag||{cmd:[]};var e=new URLSearchParams(location.search).get("adsRewardedSlot");googletag.cmd.push(function(){o.slotInstance=googletag.defineOutOfPageSlot(e||dfpParams.prefix+"/"+o.slotPosition,googletag.enums.OutOfPageFormat.REWARDED),o.logger("initSlot",o.slotInstance),o.slotInstance&&(o.slotInstance.setTargeting("kw",n(n([],AdviewAdsTag.kwTargeting),["rewarded"])).setTargeting("pos",[o.slotPosition]).setTargeting("yb_ab",AdviewAdsTag._YB.ab()).setTargeting("domena",location.hostname).setTargeting("dir",dfpParams.dir).setTargeting("dx",dfpParams.dx),o.slotInstance.addService(googletag.pubads()),googletag.pubads().addEventListener("rewardedSlotReady",o.onReady).addEventListener("rewardedSlotClosed",o.onClosed).addEventListener("rewardedSlotGranted",o.onGranted),googletag.pubads().refresh([o.slotInstance]))})},this.destroySlot=function(){googletag.destroySlots([o.slotInstance]),o.slotInstance=null},this.onReady=function(e){var t;o.logger("onReady",e),null===(t=o.nodeElements)||void 0===t||t.forEach(function(t){t.addEventListener("click",function(t){o.slotInstance&&(t.preventDefault(),t.stopPropagation(),e.makeRewardedVisible())})})},this.onClosed=function(e){o.logger("onClosed",e),o.destroySlot()},this.onGranted=function(n){return e(o,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return this.logger("onGranted",n),[4,fetch(this.apiUrl,{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:document.body.dataset.xx||""})];case 1:return 200===(null==(e=t.sent())?void 0:e.status)?this.onSuccess():this.onError(),[2]}})})},this.onSuccess=function(){o.logger("onSuccess"),location.reload()},this.onError=function(){o.logger("onError"),o.destroySlot()}}}();exports.AdsRewarded=o;
},{}],"5tGM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HardClosing=void 0;var t=require("./constants/big-data-constants"),e=require("./constants/closing-without-lp"),i=require("./constants/event-type-constants"),o=require("./helpers/big-data-helper"),n=require("./helpers/dom-helper"),l=require("./marketing-client-bigdata"),r=require("./marketing-client-closing-without-lp"),s=require("./utils/livesession"),c=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),a=function(r){function a(){return null!==r&&r.apply(this,arguments)||this}return c(a,r),a.prototype.init=function(){this.initializeHardClosing(),this.delayLoading(),this.prepareAccordionHeaders(e.Selector.hardClosingAccordionHeader),this.toggleAccordionEvents(e.Selector.hardClosingAccordionArrow),this.isMobile?(this.initializeMobileScrollButton(),this.initializeMobileActionButton(),this.initializeMobileFixedButton(),this.bindScrollOnClick(this.mobileScrollButton),this.bindScrollButtonInViewportEvent(this.mobileScrollButton)):(this.initializeDesktopScrollButton(),this.bindScrollOnClick(this.desktopScrollButton),this.bindScrollButtonInViewportEvent(this.desktopScrollButton))},a.prototype.initializeHardClosing=function(){this.initializeSection(),this.moveHardClosingOnTheScreen(),this.initializeHeader(),this.addDefaultClasses()},a.prototype.delayLoading=function(){var t,i=this,o=(null===(t=this.section)||void 0===t?void 0:t.dataset.loadingTime)?+this.section.dataset.loadingTime:1;setTimeout(function(){var t;null===(t=i.section)||void 0===t||t.classList.remove(e.Selector.hidden),i.initializeLiveSession(),i.sendEvent()},1e3*o)},a.prototype.moveHardClosingOnTheScreen=function(){var t=n.DOMHelper.querySelector(e.Selector.placeholder);if(t){var i=this.isMobile?440:370,o=window.innerHeight-t.offsetTop,l=(-Math.abs(i-o)).toString()+"px";this.section.style.marginTop=l}},a.prototype.initializeSection=function(){this.section=n.DOMHelper.querySelector(e.Selector.hardClosing)},a.prototype.initializeHeader=function(){this.header=n.DOMHelper.querySelector(e.Selector.hardClosingHeader)},a.prototype.initializeDesktopScrollButton=function(){this.desktopScrollButton=n.DOMHelper.querySelector(e.Selector.hardClosingDesktopScrollButton,this.section)},a.prototype.initializeMobileActionButton=function(){this.mobileActionButton=n.DOMHelper.querySelector(e.Selector.hardClosingMobileActionButton,this.section)},a.prototype.initializeMobileFixedButton=function(){this.mobileFixedActionButton=n.DOMHelper.querySelector(e.Selector.hardClosingMobileFixedButton)},a.prototype.initializeMobileScrollButton=function(){this.mobileScrollButton=n.DOMHelper.querySelector(e.Selector.hardClosingMobileScrollButton,this.section)},a.prototype.initializeLiveSession=function(){this.section&&new s.LiveSession(this.section).init()},a.prototype.addDefaultClasses=function(){var t,i;null===(t=this.section)||void 0===t||t.classList.add(e.Selector.closer),null===(i=this.header)||void 0===i||i.classList.add(e.Selector.sticky)},a.prototype.bindScrollOnClick=function(t){var o=this;null==t||t.addEventListener(i.EventType.CLICK,function(){var t=n.DOMHelper.querySelector(e.Selector.hardClosingConditionsOfPromotion,o.section);o.scrollToElement(t)})},a.prototype.bindScrollButtonInViewportEvent=function(t){var i=this,o=new IntersectionObserver(function(e,o){e[0].isIntersecting?i.hideScrollButton(t):i.showScrollButton(t),i.isMobile&&(e[0].isIntersecting||e[0].boundingClientRect.y<0?i.showFixedButton():i.showInlineButton())}),l=n.DOMHelper.querySelector(e.Selector.hardClosingAccordionsContent,this.section);l&&o.observe(l)},a.prototype.hideScrollButton=function(t){null==t||t.classList.add(e.Selector.unvisible)},a.prototype.showScrollButton=function(t){null==t||t.classList.remove(e.Selector.unvisible)},a.prototype.showFixedButton=function(){var t,i;null===(t=this.mobileActionButton)||void 0===t||t.classList.add(e.Selector.hidden),null===(i=this.mobileFixedActionButton)||void 0===i||i.classList.remove(e.Selector.hidden)},a.prototype.showInlineButton=function(){var t,i;null===(t=this.mobileActionButton)||void 0===t||t.classList.remove(e.Selector.hidden),null===(i=this.mobileFixedActionButton)||void 0===i||i.classList.add(e.Selector.hidden)},a.prototype.scrollToElement=function(t){null==t||t.scrollIntoView(!1)},a.prototype.sendEvent=function(){if(this.section){var i=o.BigDataHelper.createAttribute(this.section,!0),n={cta:i.cta,ctaCategory:i.ctaCategory,ruleId:window[e.Selector.marketingParams].adaptivePaywallRuleId};l.BigData.sendDataOceanEvent(t.BigDataEventConstants.onLoadingHardClosing,n)}},a}(r.ClosingWithoutLp);exports.HardClosing=a;
},{"./constants/big-data-constants":"gGic","./constants/closing-without-lp":"VEig","./constants/event-type-constants":"4Lf/","./helpers/big-data-helper":"VizB","./helpers/dom-helper":"5OYG","./marketing-client-bigdata":"Rp9g","./marketing-client-closing-without-lp":"KHxl","./utils/livesession":"c+Ah"}],"olfJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewsletterSaverConstants=void 0;var e={newsSaverClass:".mc_news_saver",emailClass:".mc_news_email",moreButtonClass:".mc_news_more-button",agreementTextClass:".mc_news_agreement",buttonWrapperClass:".mc_news_button",less:"Mniej",more:"Więcej",lineClamps:"moreLineClamps",step1Class:".mc_news_step-1",step2Class:".mc_news_step-2",step2EmailClass:".mc_news_step-2-email"};exports.NewsletterSaverConstants=e;
},{}],"aj7X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewsletterSaver=void 0;var e=require("./constants/big-data-constants"),t=require("./constants/event-type-constants"),n=require("./constants/marketing-client-constants"),r=require("./constants/news-swimmer-constants"),s=require("./constants/newsletter-saver-constants"),i=require("./constants/rw-object.constants"),a=require("./helpers/big-data-helper"),o=require("./helpers/device-information-helper"),l=require("./helpers/dom-helper"),u=require("./http/http"),c=require("./marketing-client"),p=require("./marketing-client-bigdata"),h=require("./utils/error-handler-first-rw"),d=require("./utils/utils"),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},w=function(e,t,n,r){return new(n||(n=Promise))(function(s,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function o(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})},m=function(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(o){i=[6,o],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},b=function(){function b(e,t){this.capping=e,this.utilizationObject=t,this.agreementsExtended=!1,this.messages=i.RwErrorMessage,this.isHarmonyTest=d.Utils.getURLParamsAsObject().enableHarmonyTest,this.path=this.isHarmonyTest?"https://coreos07.wyborcza.pl:8094/squid-news/profiles":"https://squid-api.wyborcza.pl/squid-news/profiles",this.isMobile=o.DeviceInformationHelper.getDeviceType()===o.DeviceType.MOBILE}return b.prototype.init=function(){this.initializeNewsletterSaver(),this.initializeNewsletterId(),this.initializeEmailInput(),this.initializeButtons(),this.initializeParent(),this.bindEvents()},b.prototype.initializeNewsletterSaver=function(){this.newsletterSaver=l.DOMHelper.querySelector(s.NewsletterSaverConstants.newsSaverClass)},b.prototype.initializeNewsletterId=function(){var e,t;(null===(t=null===(e=this.newsletterSaver)||void 0===e?void 0:e.dataset)||void 0===t?void 0:t.newsletterId)&&(this.newsletterId=this.newsletterSaver.dataset.newsletterId)},b.prototype.initializeEmailInput=function(){var e;this.emailInput=l.DOMHelper.querySelector(s.NewsletterSaverConstants.emailClass,this.newsletterSaver),this.emailErrorHandler=new h.ErrorHandler(this.emailInput),(null===(e=null===c.WYBORCZA_PL||void 0===c.WYBORCZA_PL?void 0:c.WYBORCZA_PL.userInfo)||void 0===e?void 0:e.loggedIn)&&this.emailInput&&(this.emailInput.value=c.WYBORCZA_PL.userInfo.email)},b.prototype.initializeButtons=function(){this.agreementsExtendButtons=l.DOMHelper.querySelectorAsArray(s.NewsletterSaverConstants.moreButtonClass,this.newsletterSaver),this.subscribeToNewsletterButton=l.DOMHelper.querySelector(s.NewsletterSaverConstants.buttonWrapperClass,this.newsletterSaver)},b.prototype.initializeParent=function(){this.parent=this.newsletterSaver&&this.newsletterSaver.closest("["+n.MarketingClientConstants.placeholderDataSetAttribute+"]")},b.prototype.bindEvents=function(){this.bindEventsToNewsletterSubscription(),this.bindEventsToEmailInput(),this.bindEventsToAgreementsExtendButton()},b.prototype.bindEventsToNewsletterSubscription=function(){var e=this;this.subscribeToNewsletterButton&&this.subscribeToNewsletterButton.addEventListener(t.EventType.CLICK,function(t){e.subscribeToNewsletterButton.setAttribute(n.MarketingClientConstants.disabledClassName,""),t.preventDefault(),e.emailErrorHandler.hide(),e.validateEmail()?(e.utilize(),e.subscribe()):e.subscribeToNewsletterButton.removeAttribute(n.MarketingClientConstants.disabledClassName)})},b.prototype.bindEventsToEmailInput=function(){var e=this;this.emailInput&&(this.emailInput.addEventListener(t.EventType.CHANGE,this.validateEmail.bind(this)),this.emailInput.addEventListener(t.EventType.INPUT,function(){var t;return(null===(t=e.emailInput)||void 0===t?void 0:t.value.length)?e.emailErrorHandler.hide():e.emailErrorHandler.show(e.messages.required)}))},b.prototype.bindEventsToAgreementsExtendButton=function(){var e=this;this.agreementsExtendButtons.forEach(function(n){n.addEventListener(t.EventType.CLICK,function(t){e.agreementsExtended=!e.agreementsExtended,e.toggleAgreements(n)})})},b.prototype.toggleAgreements=function(e){var t=this;e.textContent=this.agreementsExtended?s.NewsletterSaverConstants.less:s.NewsletterSaverConstants.more,l.DOMHelper.querySelectorAsArray(s.NewsletterSaverConstants.agreementTextClass,this.newsletterSaver).forEach(function(e){t.agreementsExtended?e.classList.add(s.NewsletterSaverConstants.lineClamps):e.classList.remove(s.NewsletterSaverConstants.lineClamps)})},b.prototype.validateEmail=function(){var e=this.emailInput?this.emailInput.value:"",t=d.Utils.validateEmail(e);return e.length?t?this.emailErrorHandler.hide():this.emailErrorHandler.show(this.messages.banned):this.emailErrorHandler.show(this.messages.required)},b.prototype.utilize=function(t,n){var r;return void 0===t&&(t=""),void 0===n&&(n=!1),w(this,void 0,void 0,function(){var s,i,o,l,u,c,h,d,w,b;return m(this,function(m){switch(m.label){case 0:return s=(null===(r=this.newsletterSaver)||void 0===r?void 0:r.dataset.utilization)||"brak",this.parent?(i=this.utilizationObject.prepareDataToSend(this.parent,s),o=a.BigDataHelper.createAttribute(this.parent,!0,t),this.newsletterSaver&&(l=a.BigDataHelper.createAttribute(this.newsletterSaver,!0),u=l.cta,c=l.ctaCategory,o.cta=u,o.ctaCategory=c),n||this.utilizationObject.utilize(i),p.BigData.sendDataOceanEvent(e.BigDataEventConstants.onClick,v(v({},i),o)),d=(h=p.BigData).sendDataOceanEvent,w=[e.BigDataEventConstants.onAddingToNewsletter],b={},[4,this.sha256(this.emailInput.value)]):[3,2];case 1:d.apply(h,w.concat([(b.hm=m.sent(),b.newsletter=[this.newsletterId],b)])),m.label=2;case 2:return[2]}})})},b.prototype.sha256=function(e){return w(this,void 0,void 0,function(){var t,n,r;return m(this,function(s){switch(s.label){case 0:return t=(new TextEncoder).encode(e),[4,crypto.subtle.digest("SHA-256",t)];case 1:return n=s.sent(),r=Array.from(new Uint8Array(n)),[2,r.map(function(e){return e.toString(16).padStart(2,"0")}).join("")]}})})},b.prototype.subscribe=function(){return w(this,void 0,void 0,function(){var e;return m(this,function(t){switch(t.label){case 0:return e={email:this.emailInput.value,newsletters:[this.newsletterId],confirmed:!1},[4,u.httpInstance.post({url:this.path,data:e,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"*/*"}}).then(this.successNewsletterSubscription.bind(this),this.errorNewsletterSubscription.bind(this))];case 1:return t.sent(),[2]}})})},b.prototype.successNewsletterSubscription=function(){var e=l.DOMHelper.querySelector(s.NewsletterSaverConstants.step1Class,this.newsletterSaver),t=l.DOMHelper.querySelector(s.NewsletterSaverConstants.step2Class,this.newsletterSaver);this.hideNewsSwimmerButtonCloseStep2(),e.classList.toggle(n.MarketingClientConstants.hiddenClassName),t.classList.toggle(n.MarketingClientConstants.hiddenClassName),this.appendUserEmail(t)},b.prototype.hideNewsSwimmerButtonCloseStep2=function(){var e=l.DOMHelper.querySelector(r.NewsSwimmerConstants.newsSwimmerWrapperClass);null==e||e.classList.add(n.MarketingClientConstants.hiddenClassName)},b.prototype.appendUserEmail=function(e){var t=e.querySelector(s.NewsletterSaverConstants.step2EmailClass);t&&(t.textContent=this.emailInput.value)},b.prototype.errorNewsletterSubscription=function(){this.emailErrorHandler.show(this.messages.subscriptionError),this.subscribeToNewsletterButton.removeAttribute(n.MarketingClientConstants.disabledClassName)},b}();exports.NewsletterSaver=b;
},{"./constants/big-data-constants":"gGic","./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./constants/news-swimmer-constants":"EiqN","./constants/newsletter-saver-constants":"olfJ","./constants/rw-object.constants":"ISz6","./helpers/big-data-helper":"VizB","./helpers/device-information-helper":"qlft","./helpers/dom-helper":"5OYG","./http/http":"2Moq","./marketing-client":"Fk3a","./marketing-client-bigdata":"Rp9g","./utils/error-handler-first-rw":"YdDL","./utils/utils":"8wWJ"}],"Eb3M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Padlock=void 0;var e=require("./constants/closing-without-lp"),i=require("./helpers/dom-helper"),t=function(){function t(){}return t.prototype.init=function(){this.initializeSection(),this.checkIfFixedScreening(),this.isFixedScreening&&this.section&&this.fixPadlock()},t.prototype.initializeSection=function(){this.section=i.DOMHelper.querySelector(e.Selector.padlock)},t.prototype.checkIfFixedScreening=function(){this.isFixedScreening=document.body.classList.contains(e.Selector.fixedScreening)},t.prototype.fixPadlock=function(){this.section.classList.add(e.Selector.fixedPadlock)},t}();exports.Padlock=t;
},{"./constants/closing-without-lp":"VEig","./helpers/dom-helper":"5OYG"}],"1g8T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZCPDdbox=void 0;var t=require("./constants/big-data-constants"),e=require("./constants/ddbox-constants"),i=require("./constants/event-type-constants"),o=require("./constants/marketing-client-constants"),n=require("./constants/marketing-client-utilization-constants"),s=require("./constants/url-constants"),a=require("./helpers/big-data-helper"),r=require("./helpers/dom-helper"),l=require("./http/http"),c=require("./marketing-client-bigdata"),h=require("./utils/checkbox"),d=require("./utils/livesession"),p=require("./utils/utils"),u=function(){return(u=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},b=function(){function b(t,e){this.agreementFormId=87,this.isHarmonyTest=p.Utils.getURLParamsAsObject().enableHarmonyTest,this.squidHomeHost=this.isHarmonyTest?"https://coreos07.wyborcza.pl:8094/":"https://squid-api.wyborcza.pl/",this.squidHomeUrl=this.squidHomeHost+"squid-home/open/accounts/agreements?formId="+this.agreementFormId,this.agreementUrl=""+(this.isHarmonyTest?s.URLBase.TEST:s.URLBase.PROD)+s.RequestPaths.AGREEMENT,this.classPrefix=".ddbox-zcp",this.classSuffix={modalOpen:"-modal-open-button",modalClose:"-modal-close",modal:"-modal",ddboxClose:"-ddbox-close",accept:"-accept-button",textarea:"-textarea",helpLink:"__right-box__help"},this.idCheckbox="ddbox-zcp-checkbox",this.Constants={acceptChangesAndConsent:"AKCEPTUJĘ ZMIANY I WYRAŻAM ZGODĘ",acceptChanges:"AKCEPTUJĘ ZMIANY",close:"zamknij",dontAgree:"Mimo to nie wyrażam zgody"},this.isZcp=!1,this.isLoop=!1,this.clickFromX=!1,this.ddbox=t,this.utilization=e}return b.prototype.init=function(){this.initializeDom(),this.isZcp&&(this.getAgreementForm(),this.bindEvents(),this.initializeLiveSession())},b.prototype.initializeDom=function(){this.initializeDdbox(),this.initializeTextArea(),this.initializeCheckbox(),this.initializeAcceptButton(),this.initializeCancelButton(),this.initializeModal(),this.initializeBackModalButton(),this.initializeCancelModalButton(),this.initializeHelpLink()},b.prototype.initializeDdbox=function(){var t,i;this.box=r.DOMHelper.querySelector(e.DdboxConstants.class),this.closeButton=this.box?r.DOMHelper.querySelector(e.DdboxConstants.closeButton,this.box):null,this.isZcp=!!(null===(t=this.box)||void 0===t?void 0:t.dataset.ddboxWithZcp),this.isLoop=!!(null===(i=this.box)||void 0===i?void 0:i.dataset.ddboxLoop)},b.prototype.initializeTextArea=function(){this.agreementTextArea=r.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.textarea)},b.prototype.initializeCheckbox=function(){this.checkbox=new h.Checkbox(this.idCheckbox,this.toggleAcceptButtonText.bind(this))},b.prototype.initializeAcceptButton=function(){this.acceptButton=r.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.accept)},b.prototype.initializeModal=function(){this.modal=r.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.modal)},b.prototype.initializeCancelButton=function(){this.cancelButton=r.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.modalOpen)},b.prototype.initializeBackModalButton=function(){this.backModalButton=r.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.modalClose)},b.prototype.initializeHelpLink=function(){this.helpLink=r.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.helpLink+" a")},b.prototype.initializeCancelModalButton=function(){this.cancelModalButton=r.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.ddboxClose)},b.prototype.initializeLiveSession=function(){this.box&&new d.LiveSession(this.box).init()},b.prototype.bindEvents=function(){this.bindEventToAcceptAgreements(),this.bindEventsToShowModal(),this.bindEventsToHideModal(),this.bindEventsToCloseDdbox(),this.bindEventsToCloseDdboxFromX(),this.bindEventsToHelpLink()},b.prototype.bindEventToAcceptAgreements=function(){var t=this;this.acceptButton&&this.acceptButton.addEventListener(i.EventType.CLICK,function(){t.setAgreement()})},b.prototype.bindEventsToShowModal=function(){var t=this;this.cancelButton&&this.cancelButton.addEventListener(i.EventType.CLICK,function(){t.clickFromX=!1,t.setCancelModalButtonText(t.Constants.dontAgree),t.showModal(),t.sendBigDataEvent(e.ZcpClickIds.doNotConsent)})},b.prototype.bindEventsToHideModal=function(){var t=this;this.backModalButton&&this.backModalButton.addEventListener(i.EventType.CLICK,function(){t.hideModal(),t.sendBigDataEvent(e.ZcpClickIds.back)})},b.prototype.bindEventsToCloseDdbox=function(){var t=this;this.cancelModalButton&&this.cancelModalButton.addEventListener(i.EventType.CLICK,function(){t.closeDdbox(),t.sendBigDataEvent(t.clickFromX?e.ZcpClickIds.closeInModal:e.ZcpClickIds.inAnyCaseDoNotConsent)})},b.prototype.bindEventsToCloseDdboxFromX=function(){var t=this;this.closeButton&&this.closeButton.addEventListener(i.EventType.CLICK,function(){t.clickFromX=!0,t.setCancelModalButtonText(t.Constants.close),t.isLoop?t.showModal():t.closeDdbox(),t.sendBigDataEvent(e.ZcpClickIds.close)})},b.prototype.bindEventsToHelpLink=function(){var t,o=this;if(this.helpLink){var n=null===(t=this.helpLink)||void 0===t?void 0:t.getAttribute("href");this.helpLink.addEventListener(i.EventType.CLICK,function(t){t.preventDefault(),o.sendBigDataEvent(e.ZcpClickIds.helpLink),n&&window.open(n,"_blank")})}},b.prototype.prepareDataToSetAgreement=function(){var t=[this.agreementRequire.idAgreement];return this.checkbox.getValue()&&t.push(this.agreementOptional.idAgreement),{agreements:t}},b.prototype.utilize=function(){if(this.box){var t=this.box.getAttribute(n.UtilizationConstants.dataUtilize)||"brak",e=this.utilization.prepareDataToSend(this.box,t);this.utilization.utilize(e)}},b.prototype.sendBigDataEvent=function(e){if(this.box){var i=this.box.getAttribute(n.UtilizationConstants.dataUtilize)||"brak",o=this.utilization.prepareDataToSend(this.box,i),s=a.BigDataHelper.createAttribute(this.box,!0,e);c.BigData.sendDataOceanEvent(t.BigDataEventConstants.onClick,u(u({},o),s))}},b.prototype.setAgreement=function(){return this.closeDdbox(),this.utilize(),this.sendBigDataEvent(this.checkbox.getValue()?e.ZcpClickIds.acceptChangesAndConsent:e.ZcpClickIds.acceptChanges),l.httpInstance.post({url:this.agreementUrl,data:this.prepareDataToSetAgreement()})},b.prototype.getAgreementForm=function(){return l.httpInstance.get({url:this.squidHomeUrl}).then(this.successResponseAgreementForm.bind(this))},b.prototype.successResponseAgreementForm=function(t){var e,i=t.data;if((null===(e=null==i?void 0:i.agreements)||void 0===e?void 0:e.length)>=2){var o=t.data.agreements;this.setAgreementsAndShowDdbox(o)}},b.prototype.setAgreementsAndShowDdbox=function(t){var e=t.find(function(t){return!1===t.optional}),i=t.find(function(t){return!0===t.optional});e&&i&&(this.agreementRequire=e,this.agreementOptional=i,this.setAgreementsText(),this.showDdbox())},b.prototype.setAgreementsText=function(){this.checkbox.setText(this.agreementOptional.agreementText),this.setRequireAgreementText()},b.prototype.showModal=function(){this.modal&&this.modal.classList.remove(o.MarketingClientConstants.hiddenClassName)},b.prototype.hideModal=function(){this.modal&&this.modal.classList.add(o.MarketingClientConstants.hiddenClassName)},b.prototype.closeDdbox=function(){this.hideModal(),this.box&&this.ddbox.closeDdbox(this.box),this.enableScroll()},b.prototype.showDdbox=function(){this.box&&(this.ddbox.showDdbox(this.box),this.disableScroll())},b.prototype.setRequireAgreementText=function(){this.agreementTextArea&&(this.agreementTextArea.innerHTML=this.agreementRequire.agreementText)},b.prototype.toggleAcceptButtonText=function(){this.acceptButton&&(this.acceptButton.innerHTML=this.checkbox.getValue()?this.Constants.acceptChangesAndConsent:this.Constants.acceptChanges)},b.prototype.setCancelModalButtonText=function(t){this.cancelModalButton&&(this.cancelModalButton.innerHTML=t)},b.prototype.disableScroll=function(){document.body.classList.add(o.MarketingClientConstants.stopScrolling)},b.prototype.enableScroll=function(){document.body.classList.remove(o.MarketingClientConstants.stopScrolling)},b}();exports.ZCPDdbox=b;
},{"./constants/big-data-constants":"gGic","./constants/ddbox-constants":"Ktwm","./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./constants/marketing-client-utilization-constants":"KmOk","./constants/url-constants":"kUNX","./helpers/big-data-helper":"VizB","./helpers/dom-helper":"5OYG","./http/http":"2Moq","./marketing-client-bigdata":"Rp9g","./utils/checkbox":"ful/","./utils/livesession":"c+Ah","./utils/utils":"8wWJ"}],"SL/8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Wizard=void 0;var t=require("./dom-helper"),e=require("../constants/onboarding-constants"),s=function(t,e){for(var s=0,n=e.length,i=t.length;s<n;s++,i++)t[i]=e[s];return t},n=function(){function n(s,n,i,r,o,p){void 0===o&&(o=e.NEXT_STEP),void 0===p&&(p=e.PREV_STEP),this.currentStepIndex=0,this.stepsSelector=s,this.activeStepClassName=n,this.dotsSelector=i,this.activeDotClassName=r,this.steps=t.DOMHelper.querySelectorAsArray(this.stepsSelector),this.dots=t.DOMHelper.querySelectorAsArray(this.dotsSelector),this.prevStepEvent=p,this.nextStepEvent=o}return n.prototype.init=function(){this.steps=this.sortElementsByIndex(),this.setFirstStep(),this.setFirstDot(),this.bindEvents()},n.prototype.setFirstStep=function(){var t=this.steps[0];null==t||t.classList.add(this.activeStepClassName),this.currentStepElement=t},n.prototype.setFirstDot=function(){var t=this.dots[0];null==t||t.classList.add(this.activeDotClassName),this.currentDotElement=t},n.prototype.bindEvents=function(){var t=this;window.addEventListener(this.nextStepEvent,function(){t.nextStep()}),window.addEventListener(this.prevStepEvent,function(){t.previousStep()})},n.prototype.nextStep=function(){this.currentStepIndex!==this.steps.length-1&&(this.toggleActiveClass(),this.currentStepIndex+=1,this.currentStepElement=this.steps[this.currentStepIndex],this.currentDotElement=this.dots[this.currentStepIndex],this.toggleActiveClass())},n.prototype.previousStep=function(){0!==this.currentStepIndex&&(this.toggleActiveClass(),this.currentStepIndex-=1,this.currentStepElement=this.steps[this.currentStepIndex],this.currentDotElement=this.dots[this.currentStepIndex],this.toggleActiveClass())},n.prototype.toggleActiveClass=function(){var t,e;null===(t=this.currentStepElement)||void 0===t||t.classList.toggle(this.activeStepClassName),null===(e=this.currentDotElement)||void 0===e||e.classList.toggle(this.activeDotClassName)},n.prototype.sortElementsByIndex=function(){var t,e=s([],this.steps);e.sort(function(t,e){return Number(t.dataset.stepIndex)-Number(e.dataset.stepIndex)});var n=null===(t=e[this.currentStepIndex])||void 0===t?void 0:t.parentNode;return e.forEach(function(t){null==n||n.appendChild(t)}),e},n}();exports.Wizard=n;
},{"./dom-helper":"5OYG","../constants/onboarding-constants":"O+0P"}],"cLtw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DefaultActiveSlideSelector=void 0;var e="is-active";exports.DefaultActiveSlideSelector=e;
},{}],"qa9s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Slider=void 0;var e=require("../constants/event-type-constants"),t=require("../constants/slider-constants"),i=require("../helpers/dom-helper"),s=function(){function s(e){this.currentSlide=0,this.activeSlideSelector=t.DefaultActiveSlideSelector,e.activeSlideSelector&&(this.activeSlideSelector=e.activeSlideSelector),this.slides=i.DOMHelper.querySelectorAsArray(e.slidesSelector),this.setCurrentSlide(),this.setSlide(this.currentSlide),this.bindButtons(e.nextButtonSelector,e.prevButtonSelector),this.nextCallback=e.nextCallback,this.prevCallback=e.prevCallback}return s.prototype.setCurrentSlide=function(){var e=this;this.currentSlide=Math.max(0,this.slides.findIndex(function(t){return t.classList.contains(e.activeSlideSelector)}))},s.prototype.bindButtons=function(t,s){var r,l;null===(r=i.DOMHelper.querySelector(t))||void 0===r||r.addEventListener(e.EventType.CLICK,this.slideNext.bind(this)),null===(l=i.DOMHelper.querySelector(s))||void 0===l||l.addEventListener(e.EventType.CLICK,this.slidePrev.bind(this))},s.prototype.slidePrev=function(){this.currentSlide--,this.currentSlide<0&&(this.currentSlide=this.slides.length-1),this.setSlide(this.currentSlide),this.prevCallback&&this.prevCallback()},s.prototype.slideNext=function(){this.currentSlide++,this.currentSlide>this.slides.length-1&&(this.currentSlide=0),this.setSlide(this.currentSlide),this.nextCallback&&this.nextCallback()},s.prototype.setSlide=function(e){var t,i=this;this.slides.forEach(function(e){e.classList.remove(i.activeSlideSelector)}),null===(t=this.slides[e])||void 0===t||t.classList.add(this.activeSlideSelector)},s}();exports.Slider=s;
},{"../constants/event-type-constants":"4Lf/","../constants/slider-constants":"cLtw","../helpers/dom-helper":"5OYG"}],"tKlk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateOnboardingCtaCategory=r,exports.sha256=o;var e=require("./device-information-helper"),n=function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(n){i(n)}}function u(e){try{c(r.throw(e))}catch(n){i(n)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,u)}c((r=r.apply(e,n||[])).next())})},t=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(u){i=[6,u],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function r(n,t,r){return n+"-"+t+"-"+(r?e.DeviceType.MOBILE:e.DeviceType.DESKTOP)}function o(e){var r;return n(this,void 0,void 0,function(){var n,o;return t(this,function(t){switch(t.label){case 0:return n=(new TextEncoder).encode(e),[4,null===(r=crypto.subtle)||void 0===r?void 0:r.digest("SHA-256",n)];case 1:return o=t.sent(),[2,Array.from(new Uint8Array(o)).map(function(e){return e.toString(16).padStart(2,"0")}).join("")]}})})}
},{"./device-information-helper":"qlft"}],"bE1g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OnboardingNewsletter=void 0;var e=require("./helpers/dom-helper"),t=require("./constants/onboarding-constants"),n=require("./utils/slider"),i=require("./constants/event-type-constants"),r=require("./http/http"),s=require("./marketing-client"),o=require("./helpers/onboarding-helper"),a=require("./marketing-client-bigdata"),l=require("./constants/big-data-constants"),c=function(e,t,n,i){return new(n||(n=Promise))(function(r,s){function o(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})},u=function(e,t){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},h=function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},d=function(){function d(i){var r;this.agreements=[],this.email=(null===(r=null===s.WYBORCZA_PL||void 0===s.WYBORCZA_PL?void 0:s.WYBORCZA_PL.userInfo)||void 0===r?void 0:r.email)||"",this.path="https://api-newsletter.wyborcza.pl/cors/profiles",this.checkboxSelector=".ddbox-onboarding__newsletters__checkbox",this.idPrefixSelector="ddboxOnboardingNewsletterCheckbox",this.prevBtnSelector=".mc-nlt-back-btn",this.nextBtnSelector=".mc-nlt-forward-btn",this.finishButtonSelector=".mc-nlt-save-btn",this.slideItemSelector=".ddbox-onboarding__newsletter-item",this.slidePrevBtn=".ddbox-onboarding__newsletter-slider-arrow-left",this.slideNextBtn=".ddbox-onboarding__newsletter-slider-arrow-right",this.isCheckedClassName="is-checked",this.prevButton=e.DOMHelper.querySelector(this.prevBtnSelector),this.nextButton=e.DOMHelper.querySelector(this.nextBtnSelector),this.finishButton=e.DOMHelper.querySelector(this.finishButtonSelector),this.prevStepEvent=new Event(t.PREV_STEP),this.nextStepEvent=new Event(t.NEXT_STEP),this.slider=new n.Slider({slidesSelector:this.slideItemSelector,prevButtonSelector:this.slidePrevBtn,nextButtonSelector:this.slideNextBtn}),this.onboarding=i}return d.prototype.init=function(){return c(this,void 0,Promise,function(){return u(this,function(e){switch(e.label){case 0:return this.initializeCheckboxes(),this.bindCheckboxEvents(),this.bindNavigationEvents(),this.bindFinishEvent(),[4,this.getAgreements()];case 1:return e.sent(),[2]}})})},d.prototype.initializeCheckboxes=function(){this.checkboxes=e.DOMHelper.querySelectorAsArray(this.checkboxSelector)},d.prototype.bindCheckboxEvents=function(){var t,n=this;null===(t=this.checkboxes)||void 0===t||t.forEach(function(t,r){null==t||t.addEventListener(i.EventType.CLICK,function(){var i;n.agreements=n.toggleAgreements(Number(t.value)),null===(i=e.DOMHelper.querySelectorAsArray(n.slideItemSelector)[r])||void 0===i||i.classList.toggle(n.isCheckedClassName)})})},d.prototype.bindNavigationEvents=function(){var e,n,r=this;null===(e=this.nextButton)||void 0===e||e.addEventListener(i.EventType.CLICK,function(){return c(r,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.onboarding.sendBigDataEvent(t.OnboardingConstants.nextStepEvent),window.dispatchEvent(this.nextStepEvent),[4,this.subscribe()];case 1:return e.sent(),[2]}})})}),null===(n=this.prevButton)||void 0===n||n.addEventListener(i.EventType.CLICK,function(){r.onboarding.sendBigDataEvent(t.OnboardingConstants.prevStepEvent),window.dispatchEvent(r.prevStepEvent)})},d.prototype.bindFinishEvent=function(){var e,t=this;null===(e=this.finishButton)||void 0===e||e.addEventListener(i.EventType.CLICK,function(){t.onboarding.finishOnboarding()})},d.prototype.toggleAgreements=function(e){return this.agreements.includes(e)?this.agreements.filter(function(t){return t!==e}):h(h([],this.agreements),[e])},d.prototype.getActiveAgreements=function(){return this.checkboxes.reduce(function(e,t){return t.checked?h(h([],e),[t.value]):e},[])},d.prototype.getAgreements=function(){return c(this,void 0,void 0,function(){var t=this;return u(this,function(n){switch(n.label){case 0:return this.email?[4,r.httpInstance.get({url:this.path+"/"+this.email,withCredentials:!1}).then(function(n){var i,r=n.data;t.agreements=r,null===(i=t.checkboxes)||void 0===i||i.forEach(function(n,i){var r;t.agreements.includes(Number(n.value))&&(n.checked=!0,null===(r=e.DOMHelper.querySelectorAsArray(t.slideItemSelector)[i])||void 0===r||r.classList.toggle(t.isCheckedClassName))})})]:[2];case 1:return n.sent(),[2]}})})},d.prototype.subscribe=function(){return c(this,void 0,Promise,function(){var e,t=this;return u(this,function(n){switch(n.label){case 0:return this.email?(e={email:this.email,newsletters:this.agreements,confirmed:!1},[4,r.httpInstance.post({url:this.path+"/override",data:e,withCredentials:!1}).then(function(){return c(t,void 0,void 0,function(){var e,t,n,i,r;return u(this,function(s){switch(s.label){case 0:return(null===(r=this.getActiveAgreements())||void 0===r?void 0:r.length)?(t=(e=a.BigData).sendDataOceanEvent,n=[l.BigDataEventConstants.onAddingToNewsletter],i={},[4,(0,o.sha256)(this.email)]):[2];case 1:return t.apply(e,n.concat([(i.hm=s.sent(),i.newsletter=this.getActiveAgreements(),i)])),[2]}})})})]):[2];case 1:return n.sent(),[2]}})})},d}();exports.OnboardingNewsletter=d;
},{"./helpers/dom-helper":"5OYG","./constants/onboarding-constants":"O+0P","./utils/slider":"qa9s","./constants/event-type-constants":"4Lf/","./http/http":"2Moq","./marketing-client":"Fk3a","./helpers/onboarding-helper":"tKlk","./marketing-client-bigdata":"Rp9g","./constants/big-data-constants":"gGic"}],"b29Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Welcome=void 0;var t=require("./constants/event-type-constants"),e=require("./constants/onboarding-constants"),n=require("./helpers/dom-helper"),i=function(){function i(t){this.prevBtnSelector=".mc-welcome-back-btn",this.nextBtnSelector=".mc-welcome-forward-btn",this.finishButtonSelector=".mc-welcome-save-btn",this.prevButton=n.DOMHelper.querySelector(this.prevBtnSelector),this.nextButton=n.DOMHelper.querySelector(this.nextBtnSelector),this.finishButton=n.DOMHelper.querySelector(this.finishButtonSelector),this.prevStepEvent=new Event(e.PREV_STEP),this.nextStepEvent=new Event(e.NEXT_STEP),this.onboarding=t}return i.prototype.init=function(){this.bindNavigationEvents(),this.bindFinishEvent()},i.prototype.bindNavigationEvents=function(){var n,i,o=this;null===(n=this.nextButton)||void 0===n||n.addEventListener(t.EventType.CLICK,function(){o.onboarding.sendBigDataEvent(e.OnboardingConstants.nextStepEvent),window.dispatchEvent(o.nextStepEvent)}),null===(i=this.prevButton)||void 0===i||i.addEventListener(t.EventType.CLICK,function(){o.onboarding.sendBigDataEvent(e.OnboardingConstants.prevStepEvent),window.dispatchEvent(o.prevStepEvent)})},i.prototype.bindFinishEvent=function(){var e,n=this;null===(e=this.finishButton)||void 0===e||e.addEventListener(t.EventType.CLICK,function(){n.onboarding.finishOnboarding()})},i}();exports.Welcome=i;
},{"./constants/event-type-constants":"4Lf/","./constants/onboarding-constants":"O+0P","./helpers/dom-helper":"5OYG"}],"6Qd2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppDownloadDdbox=void 0;var t=require("./constants/event-type-constants"),n=require("./constants/marketing-client-constants"),e=require("./constants/onboarding-constants"),o=require("./helpers/device-information-helper"),i=require("./helpers/dom-helper"),r=function(){function r(t){this.prevBtnSelector=".mc-app-download-back-btn",this.nextBtnSelector=".mc-app-download-forward-btn",this.finishButtonSelector=".mc-app-download-save-btn",this.downloadButtonSelector=".mc-download-button",this.androidButtonSelector=".mc-download-button-android",this.iosButtonSelector=".mc-download-button-ios",this.downloadLinkSelector=".ddbox-onboarding__app-download__qr-container-instruction__link",this.prevButton=i.DOMHelper.querySelector(this.prevBtnSelector),this.nextButton=i.DOMHelper.querySelector(this.nextBtnSelector),this.finishButton=i.DOMHelper.querySelector(this.finishButtonSelector),this.prevStepEvent=new Event(e.PREV_STEP),this.nextStepEvent=new Event(e.NEXT_STEP),this.onboarding=t}return r.prototype.init=function(){this.updateDownloadIcons(),this.bindNavigationEvents(),this.bindFinishEvent(),this.bindDownloadEvent()},r.prototype.updateDownloadIcons=function(){var t=o.DeviceInformationHelper.getOS();this.hideIcon(),t!==n.OperatingSystems.ANDROID?t===n.OperatingSystems.IPHONE_OS&&this.showIcon(this.iosButtonSelector):this.showIcon(this.androidButtonSelector)},r.prototype.hideIcon=function(){i.DOMHelper.querySelectorAsArray(this.downloadButtonSelector).forEach(function(t){t&&t.classList.add(n.MarketingClientConstants.hiddenClassName)})},r.prototype.showIcon=function(t){var e=i.DOMHelper.querySelector(t);e&&e.classList.remove(n.MarketingClientConstants.hiddenClassName)},r.prototype.bindNavigationEvents=function(){var n,o,i=this;null===(n=this.nextButton)||void 0===n||n.addEventListener(t.EventType.CLICK,function(){i.onboarding.sendBigDataEvent(e.OnboardingConstants.nextStepEvent),window.dispatchEvent(i.nextStepEvent)}),null===(o=this.prevButton)||void 0===o||o.addEventListener(t.EventType.CLICK,function(){i.onboarding.sendBigDataEvent(e.OnboardingConstants.prevStepEvent),window.dispatchEvent(i.prevStepEvent)})},r.prototype.bindFinishEvent=function(){var n,e=this;null===(n=this.finishButton)||void 0===n||n.addEventListener(t.EventType.CLICK,function(){e.onboarding.finishOnboarding()})},r.prototype.bindDownloadEvent=function(){var n=this,o=i.DOMHelper.querySelector(this.downloadLinkSelector),r=i.DOMHelper.querySelector(this.androidButtonSelector),s=i.DOMHelper.querySelector(this.iosButtonSelector);null==o||o.addEventListener(t.EventType.CLICK,function(){n.onboarding.sendBigDataEvent(e.OnboardingConstants.downloadApp)}),null==r||r.addEventListener(t.EventType.CLICK,function(){n.onboarding.sendBigDataEvent(e.OnboardingConstants.downloadAppAndroid)}),null==s||s.addEventListener(t.EventType.CLICK,function(){n.onboarding.sendBigDataEvent(e.OnboardingConstants.downloadAppIos)})},r}();exports.AppDownloadDdbox=r;
},{"./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./constants/onboarding-constants":"O+0P","./helpers/device-information-helper":"qlft","./helpers/dom-helper":"5OYG"}],"awQO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../constants/cop-constants"),e=require("../../constants/onboarding-constants"),a=require("../utils"),i=function(){function i(t,e,a,i,r){var n=t.id,s=t.lead,o=t.params,d=t.photoUrl,c=t.publicationDate,l=t.example,h=t.salesProductId,m=t.signature,p=t.title,u=t.url;this.id=n,this.lead=s,this.params=o,this.photoUrl=d,this.publicationDate=c,this.example=l,this.salesProductId=h,this.signature=m,this.title=p,this.url=u,this.pageViewId=r,this.tile=e,this.collectionIdsObject=a,this.ctaObject=i,this.recommendationUrl=this.addParamsToUrl(u)}return i.prototype.addParamsToUrl=function(t){try{var e=new URL(t),a=this.ctaObject.cta,i=void 0===a?"":a,r=this.collectionIdsObject,n=r.campaignId,s=void 0===n?"":n,o=r.actionId,d=void 0===o?"":o,c=r.touchPointId,l=void 0===c?"":c;return e.searchParams.append("cta",i),e.searchParams.append("actionId",d),e.searchParams.append("campaignId",s),e.searchParams.append("touchPointId",l),e.searchParams.append("art_pvid",this.pageViewId),e.searchParams.append("tile",this.tile.toString()),e.toString()}catch(h){return t}},i.prototype.createBoxElement=function(){var t=document.createElement("div");t.classList.add(e.RecommendationOnboardingConst.sliderElement);var a=document.createElement("a");this.params.link&&a.setAttribute("href",this.addParamsToUrl(this.params.link)),a.setAttribute("target","_blank"),a.classList.add(e.RecommendationOnboardingConst.sliderTag),a.innerHTML=this.params.tagName;var i=document.createElement("a");return i.setAttribute("href",this.recommendationUrl),i.setAttribute("target","_blank"),i.setAttribute("data-bd-viewability",e.OnboardingConstants.viewAbility),i.setAttribute("data-bd-viewability-id",e.OnboardingConstants.viewAbilityId),i.setAttribute("data-bd-viewability-href",this.recommendationUrl),i.classList.add(e.RecommendationOnboardingConst.sliderTitle),i.innerHTML=this.title,t.appendChild(this.createPhotoElement()),t.appendChild(a),t.appendChild(i),t},i.prototype.createPhotoElement=function(){var i=document.createElement("a");i.setAttribute("href",this.recommendationUrl),i.setAttribute("target","_blank"),i.classList.add(e.RecommendationOnboardingConst.sliderPhotoWrapper);var r=document.createElement("img");return r.setAttribute("src",a.Utils.changeFormatImg(this.photoUrl,t.CopConstants.ddboxGraphicFormat)),r.classList.add(e.RecommendationOnboardingConst.sliderPhoto),i.appendChild(r),i},i}(),r=i;exports.default=r;
},{"../../constants/cop-constants":"OMta","../../constants/onboarding-constants":"O+0P","../utils":"8wWJ"}],"Mpn/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../constants/big-data-object-constants"),t=require("../../constants/onboarding-constants"),n=require("../../helpers/big-data-helper"),o=require("../../helpers/dom-helper"),i=require("../../marketing-client-bigdata"),r=require("../slider"),a=c(require("./recommendation-box")),s=require("../../constants/event-type-constants");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((o=o.apply(e,t||[])).next())})},l=function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},u=function(e,t){for(var n=0,o=t.length,i=e.length;n<o;n++,i++)e[i]=t[n];return e},p=function(){function c(e,n){this.prevBtnSelector=".mc-reco-back-btn",this.nextBtnSelector=".mc-reco-forward-btn",this.finishButtonSelector=".mc-reco-save-btn",this.ddbox=n,this.prevButton=o.DOMHelper.querySelector(this.prevBtnSelector),this.nextButton=o.DOMHelper.querySelector(this.nextBtnSelector),this.finishButton=o.DOMHelper.querySelector(this.finishButtonSelector),this.prevStepEvent=new Event(t.PREV_STEP),this.nextStepEvent=new Event(t.NEXT_STEP),this.onboarding=e}return c.prototype.init=function(){this.bindNavigationEvents(),this.recommendation=o.DOMHelper.querySelector("["+t.RecommendationOnboardingConst.dataRecommendation+"]"),this.recommendation&&(this.setPageViewId(),this.prepareData(),this.addDomainKeyToParams(),this.pullRecommendations(),this.bindFinishEvent())},c.prototype.bindNavigationEvents=function(){var e,n,o=this;null===(e=this.nextButton)||void 0===e||e.addEventListener(s.EventType.CLICK,function(){return d(o,void 0,void 0,function(){return l(this,function(e){return this.onboarding.sendBigDataEvent(t.OnboardingConstants.nextStepEvent),window.dispatchEvent(this.nextStepEvent),[2]})})}),null===(n=this.prevButton)||void 0===n||n.addEventListener(s.EventType.CLICK,function(){o.onboarding.sendBigDataEvent(t.OnboardingConstants.prevStepEvent),window.dispatchEvent(o.prevStepEvent)})},c.prototype.setPageViewId=function(){this.pageViewId=n.BigDataHelper.getBigDataOrCookieValue(e.BigDataObjectConstants.pageViewCookie,e.BigDataObjectConstants.pageViewBigData)},c.prototype.prepareData=function(){this.dataRecommendation=JSON.parse(decodeURIComponent(this.recommendation.getAttribute(t.RecommendationOnboardingConst.dataRecommendation)))},c.prototype.addDomainKeyToParams=function(){this.dataRecommendation.shouldAttachDomainKey&&(this.dataRecommendation.keyValuePair[this.dataRecommendation.domainKey]=window.location.hostname)},c.prototype.pullRecommendations=function(){return d(this,void 0,void 0,function(){var e,t=this;return l(this,function(n){switch(n.label){case 0:if(!this.dataRecommendation.widgetID)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,i.BigData.getRecommendations(this.dataRecommendation.widgetID,this.dataRecommendation.keyValuePair)];case 2:return e=n.sent(),this.recommendations=e.slice(0,12).map(function(e,n){return new a.default(e,n+1,t.ddbox.collectionIdsObject,t.ddbox.ctaObject,t.pageViewId)}),this.createSlider(),[3,4];case 3:return n.sent(),console.warn("recommendations Error"),[3,4];case 4:return[2]}})})},c.prototype.createSlider=function(){var e=o.DOMHelper.querySelector("."+t.RecommendationOnboardingConst.sliderElements),n=u([],this.recommendations);if(e){for(var i=0;i<this.recommendations.length/3;i++)this.prepereElementWrapper(n.slice(0,3),e),n=n.slice(3);new r.Slider({slidesSelector:"."+t.RecommendationOnboardingConst.desktopWrapper,activeSlideSelector:t.RecommendationOnboardingConst.activeDesktop,nextButtonSelector:"."+t.RecommendationOnboardingConst.arrowRight+"."+t.RecommendationOnboardingConst.arrowDesktop,prevButtonSelector:"."+t.RecommendationOnboardingConst.arrowLeft+"."+t.RecommendationOnboardingConst.arrowDesktop,nextCallback:this.nextCarouselEvent.bind(this),prevCallback:this.prevCarouselEvent.bind(this)}),new r.Slider({slidesSelector:"."+t.RecommendationOnboardingConst.sliderElement,activeSlideSelector:t.RecommendationOnboardingConst.activeElement,nextButtonSelector:"."+t.RecommendationOnboardingConst.arrowRight+"."+t.RecommendationOnboardingConst.arrowMobile,prevButtonSelector:"."+t.RecommendationOnboardingConst.arrowLeft+"."+t.RecommendationOnboardingConst.arrowMobile,nextCallback:this.nextCarouselEvent.bind(this),prevCallback:this.prevCarouselEvent.bind(this)})}},c.prototype.prevCarouselEvent=function(){this.onboarding.sendBigDataEvent(t.OnboardingConstants.prevCarouselEvent)},c.prototype.nextCarouselEvent=function(){this.onboarding.sendBigDataEvent(t.OnboardingConstants.nextCarouselEvent)},c.prototype.prepereElementWrapper=function(e,n){var o=document.createElement("div");o.classList.add(t.RecommendationOnboardingConst.desktopWrapper),e.forEach(function(e){o.appendChild(e.createBoxElement())}),n.appendChild(o)},c.prototype.bindFinishEvent=function(){var e,t=this;null===(e=this.finishButton)||void 0===e||e.addEventListener(s.EventType.CLICK,function(){t.onboarding.finishOnboarding()})},c}(),h=p;exports.default=h;
},{"../../constants/big-data-object-constants":"Zms+","../../constants/onboarding-constants":"O+0P","../../helpers/big-data-helper":"VizB","../../helpers/dom-helper":"5OYG","../../marketing-client-bigdata":"Rp9g","../slider":"qa9s","./recommendation-box":"awQO","../../constants/event-type-constants":"4Lf/"}],"kEfS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubscriptionSharing=void 0;var t=require("./helpers/dom-helper"),e=require("./constants/marketing-client-constants"),n=require("./utils/error-handler-first-rw"),i=require("./utils/utils"),o=require("./constants/event-type-constants"),s=require("./http/http"),r=require("./constants/onboarding-constants"),a=function(t,e,n,i){return new(n||(n=Promise))(function(o,s){function r(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}l((i=i.apply(t,e||[])).next())})},l=function(t,e){var n,i,o,s,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,i=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(a){s=[6,a],i=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},d=function(){function d(e){this.messages=r.SubShareOnboardingErrorMessage,this.isHarmonyTest=i.Utils.getURLParamsAsObject().enableHarmonyTest,this.path=this.isHarmonyTest?"https://coreos05.wyborcza.pl:9094/squid-sales/account/customer/familyV2":"https://mojekonto.wyborcza.pl/account/customer/familyV2",this.orderId=null,this.giftSubscriptionURL=this.isHarmonyTest?"https://coreos07.wyborcza.pl:8094/squid-home/restricted/customers/family/add-member":"https://squid-api.wyborcza.pl/squid-home/restricted/customers/family/add-member",this.invitationSent=!1,this.prevButton=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.prevBtnSelector),this.nextButton=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.nextBtnSelector),this.finishButton=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.finishButtonSelector),this.prevStepEvent=new Event(r.PREV_STEP),this.nextStepEvent=new Event(r.NEXT_STEP),this.onboarding=e}return d.prototype.init=function(){this.initializeDom(),this.hideEmailContainers(),this.hideAddButton(),this.getFamilyData(),this.bindEvents(),this.bindFinishEvent()},d.prototype.initializeDom=function(){this.initializeSharesub(),this.initializeDescriptions(),this.initializeEmailInputs(),this.initializeGiftButtons(),this.initializeEmailContainers(),this.initializeAddButton()},d.prototype.initializeSharesub=function(){this.sharesub=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.sharesubSelector)},d.prototype.initializeDescriptions=function(){this.description=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.descriptionSelector),this.sentTwoInvitesDesc=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.sentTwoInvitesDescSelector)},d.prototype.initializeEmailInputs=function(){this.firstEmailInput=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.firstEmailSelector,this.sharesub),this.secondEmailInput=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.secondEmailSelector,this.sharesub),this.firstEmailErrorHandler=new n.ErrorHandler(this.firstEmailInput),this.secondEmailErrorHandler=new n.ErrorHandler(this.secondEmailInput)},d.prototype.initializeGiftButtons=function(){this.firstGiftButton=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.firstGiftButtonSelector,this.sharesub),this.secondGiftButton=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.secondGiftButtonSelector,this.sharesub)},d.prototype.initializeEmailContainers=function(){this.firstEmailContainer=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.firstEmailContainerSelector),this.secondEmailContainer=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.secondEmailContainerSelector),this.emailContainers=t.DOMHelper.querySelectorAsArray(r.SubShareOnboardingSelector.emailContainerSelectors)},d.prototype.initializeAddButton=function(){this.addButton=t.DOMHelper.querySelector(r.SubShareOnboardingSelector.addButtonSelector)},d.prototype.hideEmailContainers=function(){this.emailContainers.forEach(function(t){t&&t.classList.add(e.MarketingClientConstants.hiddenClassName)})},d.prototype.hideAddButton=function(){this.addButton&&this.addButton.classList.add(e.MarketingClientConstants.hiddenClassName)},d.prototype.getFamilyData=function(){return s.httpInstance.get({url:this.path,withCredentials:!0}).then(this.successResponseFamilyData.bind(this))},d.prototype.successResponseFamilyData=function(t){var e,n,i=t.data,o=null===(e=null==i?void 0:i.registered)||void 0===e?void 0:e.length,s=null===(n=null==i?void 0:i.invited)||void 0===n?void 0:n.length;if(this.orderId=null==i?void 0:i.orderId,o+s===0)return this.showFirstEmailContainer(),this.showSecondEmailContainer(),void this.showAddButton();o+s!==1?this.showDescription():this.showFirstEmailContainer()},d.prototype.showFirstEmailContainer=function(){this.firstEmailContainer&&this.firstEmailContainer.classList.remove(e.MarketingClientConstants.hiddenClassName)},d.prototype.showSecondEmailContainer=function(){this.secondEmailContainer&&this.secondEmailContainer.classList.add(r.SubShareOnboardingConst.visibleDesktop)},d.prototype.showAddButton=function(){this.addButton&&this.addButton.classList.remove(e.MarketingClientConstants.hiddenClassName)},d.prototype.showDescription=function(){this.description&&this.description.classList.add(e.MarketingClientConstants.hiddenClassName),this.sentTwoInvitesDesc&&this.sentTwoInvitesDesc.classList.remove(e.MarketingClientConstants.hiddenClassName)},d.prototype.bindEvents=function(){this.bindEventToAddButton(),this.bindEventsToGiftButtons(),this.bindEventsToEmailInputs(),this.bindNavigationEvents()},d.prototype.bindEventToAddButton=function(){this.addButton&&this.addButton.addEventListener(o.EventType.CLICK,this.showSecondInput.bind(this))},d.prototype.bindEventsToGiftButtons=function(){this.bindEventToElement(this.firstGiftButton,this.firstEmailInput,this.firstEmailErrorHandler),this.bindEventToElement(this.secondGiftButton,this.secondEmailInput,this.secondEmailErrorHandler)},d.prototype.bindEventsToEmailInputs=function(){this.bindEventToInput(this.firstEmailInput,this.firstEmailErrorHandler),this.bindEventToInput(this.secondEmailInput,this.secondEmailErrorHandler)},d.prototype.bindNavigationEvents=function(){var t,e,n=this;null===(t=this.nextButton)||void 0===t||t.addEventListener(o.EventType.CLICK,function(){n.onboarding.sendBigDataEvent(r.OnboardingConstants.nextStepEvent),window.dispatchEvent(n.nextStepEvent)}),null===(e=this.prevButton)||void 0===e||e.addEventListener(o.EventType.CLICK,function(){n.onboarding.sendBigDataEvent(r.OnboardingConstants.prevStepEvent),window.dispatchEvent(n.prevStepEvent)})},d.prototype.bindEventToElement=function(t,n,i){var s=this;t&&t.addEventListener(o.EventType.CLICK,function(o){s.onboarding.sendBigDataEvent(r.OnboardingConstants.shareSubEvent),t.setAttribute(e.MarketingClientConstants.disabledClassName,""),o.preventDefault(),i.hide(),s.validateEmail(n,i)?s.giftSubscription(t,n):t.removeAttribute(e.MarketingClientConstants.disabledClassName)})},d.prototype.bindEventToInput=function(t,e){var n=this;t&&(t.addEventListener(o.EventType.CHANGE,this.validateEmail.bind(this,t,e)),t.addEventListener(o.EventType.INPUT,function(){return(null==t?void 0:t.value.length)?e.hide():e.show(n.messages.fillToShare)}))},d.prototype.showSecondInput=function(){this.invitationSent?(this.hideFirstEmailInput(),this.showSecondEmailInput(),this.disableAddButton()):this.showInvitationNotSentError()},d.prototype.showInvitationNotSentError=function(){this.firstEmailErrorHandler.show(this.messages.shareToAdd)},d.prototype.hideFirstEmailInput=function(){this.firstEmailContainer&&this.firstEmailContainer.classList.add(e.MarketingClientConstants.hiddenClassName)},d.prototype.showSecondEmailInput=function(){this.secondEmailContainer&&(this.secondEmailContainer.classList.remove(e.MarketingClientConstants.hiddenClassName),this.secondEmailContainer.classList.add(r.SubShareOnboardingConst.visible),this.secondEmailInput.placeholder=r.SubShareOnboardingConst.enterSecondEmail)},d.prototype.disableAddButton=function(){this.addButton&&this.addButton.classList.add(e.MarketingClientConstants.disabledClassName)},d.prototype.validateEmail=function(t,e){var n=t?t.value:"",o=i.Utils.validateEmail(n);return n.length?o?e.hide():e.show(this.messages.banned):e.show(this.messages.fillToShare)},d.prototype.giftSubscription=function(t,e){return a(this,void 0,Promise,function(){var n,i,o;return l(this,function(r){return n=e.value,i={"Content-Type":"application/json"},o={email:n,orderId:this.orderId},[2,s.httpInstance.put({url:this.giftSubscriptionURL,data:o,headers:i,withCredentials:!0}).then(this.successGiftSubscription.bind(this,t,e))]})})},d.prototype.successGiftSubscription=function(t,e){t.textContent=r.SubShareOnboardingConst.invitationSent,e.disabled=!0,this.invitationSent=!0},d.prototype.bindFinishEvent=function(){var t,e=this;null===(t=this.finishButton)||void 0===t||t.addEventListener(o.EventType.CLICK,function(){e.onboarding.finishOnboarding()})},d}();exports.SubscriptionSharing=d;
},{"./helpers/dom-helper":"5OYG","./constants/marketing-client-constants":"bZBa","./utils/error-handler-first-rw":"YdDL","./utils/utils":"8wWJ","./constants/event-type-constants":"4Lf/","./http/http":"2Moq","./constants/onboarding-constants":"O+0P"}],"RI3A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Onboarding=void 0;var t=require("./helpers/wizard"),i=require("./marketing-client-onboarding-newsletter"),e=require("./constants/marketing-client-utilization-constants"),o=require("./helpers/big-data-helper"),n=require("./marketing-client-bigdata"),s=require("./constants/big-data-constants"),a=require("./helpers/dom-helper"),r=require("./constants/ddbox-constants"),d=require("./marketing-client-welcome"),l=require("./marketing-client-app-download"),c=require("./constants/event-type-constants"),h=require("./helpers/onboarding-helper"),b=g(require("./utils/recommendations-cop/onboarding")),u=require("./constants/onboarding-constants"),p=require("./marketing-client-subscription-sharing");function g(t){return t&&t.__esModule?t:{default:t}}var v=function(){return(v=Object.assign||function(t){for(var i,e=1,o=arguments.length;e<o;e++)for(var n in i=arguments[e])Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t}).apply(this,arguments)},x=function(){function g(e,o){this.stepsSelector=".ddbox-onboarding__step",this.activeStepClassName="ddbox-onboarding__step--active",this.dotsSelector=".ddbox-onboarding__dot",this.activeDotClassName="ddbox-onboarding__dot--active",this.closeDdboxSelector=".ddbox_onboarding__close-btn",this.ddbox=e,this.utilization=o,this.wizard=new t.Wizard(this.stepsSelector,this.activeStepClassName,this.dotsSelector,this.activeDotClassName),this.welcome=new d.Welcome(this),this.newsletter=new i.OnboardingNewsletter(this),this.appDownloadDdbox=new l.AppDownloadDdbox(this),this.recomendation=new b.default(this,this.ddbox),this.subscriptionSharing=new p.SubscriptionSharing(this)}return g.prototype.init=function(){this.wizard.init(),this.welcome.init(),this.newsletter.init(),this.appDownloadDdbox.init(),this.recomendation.init(),this.subscriptionSharing.init(),this.box=a.DOMHelper.querySelector(r.DdboxConstants.class),this.initializeCancelButton(),this.bindEventsToCloseDdbox()},g.prototype.initializeCancelButton=function(){this.cancelModalButton=a.DOMHelper.querySelector(this.closeDdboxSelector)},g.prototype.bindEventsToCloseDdbox=function(){var t=this;this.cancelModalButton&&this.cancelModalButton.addEventListener(c.EventType.CLICK,function(){t.closeDdbox()})},g.prototype.utilize=function(){if(this.box){var t=this.box.getAttribute(e.UtilizationConstants.dataUtilize)||"brak",i=this.utilization.prepareDataToSend(this.box,t);this.utilization.utilize(i)}},g.prototype.sendBigDataEvent=function(t){var i,a,r,d,l;if(this.box){this.ctaCategory=(0,h.generateOnboardingCtaCategory)((null===(a=null===(i=null==this?void 0:this.ddbox)||void 0===i?void 0:i.ctaObject)||void 0===a?void 0:a.ctaCategory)||"",(null===(d=null===(r=this.wizard.currentStepElement)||void 0===r?void 0:r.dataset)||void 0===d?void 0:d.viewName)||"",null===(l=this.ddbox)||void 0===l?void 0:l.isMobile);var c=this.box.getAttribute(e.UtilizationConstants.dataUtilize)||"brak",b=this.utilization.prepareDataToSend(this.box,c),u=o.BigDataHelper.createAttribute(this.box,!0,t,this.ctaCategory);n.BigData.sendDataOceanEvent(s.BigDataEventConstants.onClick,v(v({},b),u))}},g.prototype.closeDdbox=function(){this.box&&(this.ddbox.closeDdbox(this.box),this.sendBigDataEvent(u.OnboardingConstants.closeEvent))},g.prototype.finishOnboarding=function(){this.box&&(this.ddbox.closeDdbox(this.box),this.sendBigDataEvent(u.OnboardingConstants.finishEvent),this.utilize())},g}();exports.Onboarding=x;
},{"./helpers/wizard":"SL/8","./marketing-client-onboarding-newsletter":"bE1g","./constants/marketing-client-utilization-constants":"KmOk","./helpers/big-data-helper":"VizB","./marketing-client-bigdata":"Rp9g","./constants/big-data-constants":"gGic","./helpers/dom-helper":"5OYG","./constants/ddbox-constants":"Ktwm","./marketing-client-welcome":"b29Z","./marketing-client-app-download":"6Qd2","./constants/event-type-constants":"4Lf/","./helpers/onboarding-helper":"tKlk","./utils/recommendations-cop/onboarding":"Mpn/","./constants/onboarding-constants":"O+0P","./marketing-client-subscription-sharing":"kEfS"}],"2loK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZCPHat=void 0;var t=require("./constants/big-data-constants"),e=require("./constants/ddbox-constants"),i=require("./constants/event-type-constants"),o=require("./constants/marketing-client-constants"),n=require("./constants/marketing-client-utilization-constants"),s=require("./constants/url-constants"),a=require("./helpers/big-data-helper"),l=require("./helpers/dom-helper"),r=require("./http/http"),c=require("./marketing-client-bigdata"),h=require("./utils/checkbox"),d=require("./utils/livesession"),p=require("./utils/utils"),u=function(){return(u=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},g=function(){function g(t,e){this.agreementFormId=87,this.isHarmonyTest=p.Utils.getURLParamsAsObject().enableHarmonyTest,this.squidHomeHost=this.isHarmonyTest?"https://coreos07.wyborcza.pl:8094/":"https://squid-api.wyborcza.pl/",this.squidHomeUrl=this.squidHomeHost+"squid-home/open/accounts/agreements?formId="+this.agreementFormId,this.agreementUrl=""+(this.isHarmonyTest?s.URLBase.TEST:s.URLBase.PROD)+s.RequestPaths.AGREEMENT,this.classPrefix=".ddbox-zcp",this.classSuffix={modalOpen:"-modal-open-button",modalClose:"-modal-close",modal:"-modal",ddboxClose:"-ddbox-close",accept:"-accept-button",textarea:"-textarea",helpLink:"__right-box__help"},this.idCheckbox="ddbox-zcp-checkbox",this.Constants={acceptChangesAndConsent:"AKCEPTUJĘ ZMIANY I WYRAŻAM ZGODĘ",acceptChanges:"AKCEPTUJĘ ZMIANY",close:"zamknij",dontAgree:"Mimo to nie wyrażam zgody",thankYouMessage:"Dziękujemy, że jesteś z nami"},this.isZcp=!1,this.isLoop=!1,this.clickFromX=!1,this.localStorageKeyDate="MARKETING_CLIENT_HAT_ZCP_DATE",this.localStorageKeyCount="MARKETING_CLIENT_HAT_ZCP_COUNT",this.hatClass={modal:".mod_hat",button:".mod_hat-button",text:".nw_2021_hat-wrapper-text",section:"section"},this.ctaCategory="ddbox-zcp",this.ddbox=t,this.utilization=e}return g.prototype.init=function(){this.initializeDom(),this.hideHatWhenDdboxIsVisible(),this.box&&!this.ddbox.ddboxIsVisible&&(this.getAgreementForm(),this.bindEvents(),this.initializeLiveSession())},g.prototype.bindOpenModal=function(){var t=this;this.openModalButton&&this.openModalButton.addEventListener(i.EventType.CLICK,function(){t.sendBigDataEvent(e.ZcpClickIds.openModal),t.sendBigDataEvent(e.ZcpClickIds.displayedModal,!0),t.showDdbox()})},g.prototype.setThankYouMessage=function(){this.hatText&&(this.hatText.innerHTML=this.Constants.thankYouMessage)},g.prototype.hideHatWhenDdboxIsVisible=function(){var t,e;this.ddbox.ddboxIsVisible&&(null===(e=null===(t=this.section)||void 0===t?void 0:t.parentElement)||void 0===e||e.remove())},g.prototype.hideOpenModalButton=function(){var t;null===(t=this.openModalButton)||void 0===t||t.classList.add(o.MarketingClientConstants.hiddenClassName)},g.prototype.initializeDom=function(){this.initializeDdbox(),this.initializeHat(),this.initializeTextArea(),this.initializeCheckbox(),this.initializeAcceptButton(),this.initializeCancelButton(),this.initializeModal(),this.initializeBackModalButton(),this.initializeCancelModalButton(),this.initializeHelpLink()},g.prototype.initializeDdbox=function(){if(this.box=l.DOMHelper.querySelector(this.hatClass.modal),this.box){this.closeButton=l.DOMHelper.querySelector(e.DdboxConstants.closeButton,this.box),this.box.style.display="none";var t=document.createDocumentFragment();t.appendChild(this.box),document.body.appendChild(t)}},g.prototype.initializeHat=function(){var t;this.openModalButton=l.DOMHelper.querySelector(this.hatClass.button),this.hatText=l.DOMHelper.querySelector(this.hatClass.text),this.section=(null===(t=this.openModalButton)||void 0===t?void 0:t.closest(this.hatClass.section))||null},g.prototype.initializeTextArea=function(){this.agreementTextArea=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.textarea)},g.prototype.initializeCheckbox=function(){this.checkbox=new h.Checkbox(this.idCheckbox,this.toggleAcceptButtonText.bind(this))},g.prototype.initializeAcceptButton=function(){this.acceptButton=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.accept)},g.prototype.initializeModal=function(){this.modal=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.modal)},g.prototype.initializeCancelButton=function(){this.cancelButton=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.modalOpen)},g.prototype.initializeBackModalButton=function(){this.backModalButton=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.modalClose)},g.prototype.initializeHelpLink=function(){this.helpLink=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.helpLink+" a")},g.prototype.initializeCancelModalButton=function(){this.cancelModalButton=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.ddboxClose)},g.prototype.initializeLiveSession=function(){this.box&&new d.LiveSession(this.box).init()},g.prototype.bindEvents=function(){this.bindEventToAcceptAgreements(),this.bindEventsToShowModal(),this.bindEventsToHideModal(),this.bindEventsToCloseDdbox(),this.bindEventsToCloseDdboxFromX(),this.bindEventsToHelpLink(),this.bindOpenModal()},g.prototype.bindEventToAcceptAgreements=function(){var t=this;this.acceptButton&&this.acceptButton.addEventListener(i.EventType.CLICK,function(){t.setAgreement()})},g.prototype.bindEventsToShowModal=function(){var t=this;this.cancelButton&&this.cancelButton.addEventListener(i.EventType.CLICK,function(){t.clickFromX=!1,t.setCancelModalButtonText(t.Constants.dontAgree),t.showModal(),t.sendBigDataEvent(e.ZcpClickIds.doNotConsent)})},g.prototype.bindEventsToHideModal=function(){var t=this;this.backModalButton&&this.backModalButton.addEventListener(i.EventType.CLICK,function(){t.hideModal(),t.sendBigDataEvent(e.ZcpClickIds.back)})},g.prototype.bindEventsToCloseDdbox=function(){var t=this;this.cancelModalButton&&this.cancelModalButton.addEventListener(i.EventType.CLICK,function(){t.closeDdbox(),t.sendBigDataEvent(t.clickFromX?e.ZcpClickIds.closeInModal:e.ZcpClickIds.inAnyCaseDoNotConsent)})},g.prototype.bindEventsToCloseDdboxFromX=function(){var t=this;this.closeButton&&this.closeButton.addEventListener(i.EventType.CLICK,function(){t.clickFromX=!0,t.setCancelModalButtonText(t.Constants.close),t.isLoop?t.showModal():t.closeDdbox(),t.sendBigDataEvent(e.ZcpClickIds.close)})},g.prototype.bindEventsToHelpLink=function(){var t,o=this;if(this.helpLink){var n=null===(t=this.helpLink)||void 0===t?void 0:t.getAttribute("href");this.helpLink.addEventListener(i.EventType.CLICK,function(t){t.preventDefault(),o.sendBigDataEvent(e.ZcpClickIds.helpLink),n&&window.open(n,"_blank")})}},g.prototype.prepareDataToSetAgreement=function(){var t=[this.agreementRequire.idAgreement];return this.checkbox.getValue()&&t.push(this.agreementOptional.idAgreement),{agreements:t}},g.prototype.utilize=function(){if(this.section&&this.section.parentElement){var t=this.section.getAttribute(n.UtilizationConstants.dataUtilize)||"brak",e=this.utilization.prepareDataToSend(this.section.parentElement,t);this.utilization.utilize(e)}},g.prototype.sendBigDataEvent=function(e,i){if(void 0===i&&(i=!1),this.section&&this.section.parentElement){var o=this.section.getAttribute(n.UtilizationConstants.dataUtilize)||"brak",s=this.utilization.prepareDataToSend(this.section.parentElement,o),l=a.BigDataHelper.createAttribute(this.section.parentElement,!0,e),r=i?t.BigDataEventConstants.onDisplay:t.BigDataEventConstants.onClick;i&&(l.ctaCategory=this.ctaCategory),c.BigData.sendDataOceanEvent(r,u(u({},s),l))}},g.prototype.setAgreement=function(){var t=this.prepareDataToSetAgreement(),i=this.checkbox.getValue()?e.ZcpClickIds.acceptChangesAndConsent:e.ZcpClickIds.acceptChanges;return this.closeDdbox(),this.hideOpenModalButton(),this.setThankYouMessage(),this.utilize(),this.sendBigDataEvent(i),r.httpInstance.post({url:this.agreementUrl,data:t})},g.prototype.getAgreementForm=function(){return r.httpInstance.get({url:this.squidHomeUrl}).then(this.successResponseAgreementForm.bind(this))},g.prototype.successResponseAgreementForm=function(t){var e,i=t.data;if((null===(e=null==i?void 0:i.agreements)||void 0===e?void 0:e.length)>=2){var o=t.data.agreements;this.setAgreementsAndShowDdbox(o)}},g.prototype.setAgreementsAndShowDdbox=function(t){var e=t.find(function(t){return!1===t.optional}),i=t.find(function(t){return!0===t.optional});e&&i&&(this.agreementRequire=e,this.agreementOptional=i,this.setAgreementsText(),this.showDdboxEveryFiveDaysAndMaxThreeTime())},g.prototype.showDdboxEveryFiveDaysAndMaxThreeTime=function(){var t=localStorage.getItem(this.localStorageKeyDate),i=localStorage.getItem(this.localStorageKeyCount),o=i?Number(i):0;if(t){var n=new Date,s=new Date(n.setDate(n.getDate()-5));new Date(t)<s&&o<3&&(this.showDdbox(),this.sendBigDataEvent(e.ZcpClickIds.displayedModal,!0),localStorage.setItem(this.localStorageKeyDate,(new Date).toString()),localStorage.setItem(this.localStorageKeyCount,(o+1).toString()))}else this.showDdbox(),this.sendBigDataEvent(e.ZcpClickIds.displayedModal,!0),localStorage.setItem(this.localStorageKeyDate,(new Date).toString()),localStorage.setItem(this.localStorageKeyCount,(o+1).toString())},g.prototype.setAgreementsText=function(){this.checkbox.setText(this.agreementOptional.agreementText),this.setRequireAgreementText()},g.prototype.showModal=function(){this.modal&&this.modal.classList.remove(o.MarketingClientConstants.hiddenClassName)},g.prototype.hideModal=function(){this.modal&&this.modal.classList.add(o.MarketingClientConstants.hiddenClassName)},g.prototype.closeDdbox=function(){this.hideModal(),this.box&&(this.box.style.display="none"),this.checkbox.reset(),this.toggleAcceptButtonText(),this.enableScroll()},g.prototype.showDdbox=function(){this.box&&(this.box.style.display="block",this.box.classList.add(e.DdboxConstants.visible),this.disableScroll())},g.prototype.setRequireAgreementText=function(){this.agreementTextArea&&(this.agreementTextArea.innerHTML=this.agreementRequire.agreementText)},g.prototype.toggleAcceptButtonText=function(){this.acceptButton&&(this.acceptButton.innerHTML=this.checkbox.getValue()?this.Constants.acceptChangesAndConsent:this.Constants.acceptChanges)},g.prototype.setCancelModalButtonText=function(t){this.cancelModalButton&&(this.cancelModalButton.innerHTML=t)},g.prototype.disableScroll=function(){document.body.classList.add(o.MarketingClientConstants.stopScrolling)},g.prototype.enableScroll=function(){document.body.classList.remove(o.MarketingClientConstants.stopScrolling)},g}();exports.ZCPHat=g;
},{"./constants/big-data-constants":"gGic","./constants/ddbox-constants":"Ktwm","./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./constants/marketing-client-utilization-constants":"KmOk","./constants/url-constants":"kUNX","./helpers/big-data-helper":"VizB","./helpers/dom-helper":"5OYG","./http/http":"2Moq","./marketing-client-bigdata":"Rp9g","./utils/checkbox":"ful/","./utils/livesession":"c+Ah","./utils/utils":"8wWJ"}],"SJDK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZCPSwimmer=void 0;var t=require("./constants/big-data-constants"),e=require("./constants/ddbox-constants"),i=require("./constants/event-type-constants"),o=require("./constants/marketing-client-constants"),n=require("./constants/marketing-client-utilization-constants"),s=require("./constants/swimmer-constants"),a=require("./constants/url-constants"),r=require("./helpers/big-data-helper"),l=require("./helpers/dom-helper"),c=require("./http/http"),d=require("./marketing-client-bigdata"),h=require("./utils/livesession"),p=require("./utils/utils"),u=function(){return(u=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},m=function(){function m(t,e,i){this.capping=i,this.agreementFormId=95,this.isHarmonyTest=p.Utils.getURLParamsAsObject().enableHarmonyTest,this.squidHomeHost=this.isHarmonyTest?"https://coreos07.wyborcza.pl:8094/":"https://squid-api.wyborcza.pl/",this.squidHomeUrl=this.squidHomeHost+"squid-home/open/accounts/agreements?formId="+this.agreementFormId,this.agreementUrl=""+(this.isHarmonyTest?a.URLBase.TEST:a.URLBase.PROD)+a.RequestPaths.AGREEMENT,this.classPrefix=".ddbox-zcp",this.classSuffix={modalOpen:"-modal-open-button",modalClose:"-modal-close",modal:"-modal",ddboxClose:"-ddbox-close",accept:"-accept-button",textarea:"__right-box__information",helpLink:"__right-box__help"},this.idCheckbox="ddbox-zcp-checkbox",this.Constants={acceptChangesAndConsent:"AKCEPTUJĘ ZMIANY I WYRAŻAM ZGODĘ",acceptChanges:"AKCEPTUJĘ ZMIANY",close:"zamknij",dontAgree:"Mimo to nie wyrażam zgody",thankYouMessage:"Dziękujemy, że jesteś z nami"},this.withoutSwimmer=!1,this.isLoop=!1,this.clickFromX=!1,this.localStorageKeyDate="MARKETING_CLIENT_SWIMMER_ZCP_DATE",this.localStorageKeyCount="MARKETING_CLIENT_SWIMMER_ZCP_COUNT",this.swimmerClass={modal:".mod_swimmer_zcp",button:".mod_swimmer_zcp-button",swimmer:".nw_2021_swimmer-wrapper",section:"section"},this.ctaCategory="ddbox-zcp",this.firstView=!0,this.ddbox=t,this.utilization=e}return m.prototype.init=function(){this.initializeDom(),this.hideHatWhenDdboxIsVisible(),this.box&&!this.ddbox.ddboxIsVisible&&(this.getAgreementForm(),this.bindEvents(),this.initializeLiveSession())},m.prototype.bindOpenModal=function(){var t=this;this.openModalButton&&this.openModalButton.addEventListener(i.EventType.CLICK,function(){t.sendBigDataEvent(e.ZcpClickIds.openModal),t.showDdbox(),t.hideSwimmer()})},m.prototype.hideHatWhenDdboxIsVisible=function(){var t,e;this.ddbox.ddboxIsVisible&&(null===(e=null===(t=this.section)||void 0===t?void 0:t.parentElement)||void 0===e||e.remove())},m.prototype.hideOpenModalButton=function(){var t;null===(t=this.openModalButton)||void 0===t||t.classList.add(o.MarketingClientConstants.hiddenClassName)},m.prototype.initializeDom=function(){this.initializeDdbox(),this.initializeSwimmer(),this.initializeTextArea(),this.initializeAcceptButton(),this.initializeCancelButton(),this.initializeModal(),this.initializeBackModalButton(),this.initializeCancelModalButton(),this.initializeHelpLink()},m.prototype.initializeDdbox=function(){this.box=l.DOMHelper.querySelector(this.swimmerClass.modal),this.box&&(this.closeButton=l.DOMHelper.querySelector(e.DdboxConstants.closeButton,this.box),this.box.style.display="none")},m.prototype.initializeSwimmer=function(){var t,e,i;this.openModalButton=l.DOMHelper.querySelector(this.swimmerClass.button),this.swimmer=l.DOMHelper.querySelector(this.swimmerClass.swimmer),this.swimmerWrapper=l.DOMHelper.querySelector(s.SwimmerConstants.swimmerSelector),this.section=(null===(t=this.openModalButton)||void 0===t?void 0:t.closest(this.swimmerClass.section))||null,this.isLoop=!!(null===(e=this.section)||void 0===e?void 0:e.dataset.ddboxLoop),this.withoutSwimmer=!!(null===(i=this.section)||void 0===i?void 0:i.dataset.withoutSwimmer),this.hideSwimmer()},m.prototype.initializeTextArea=function(){this.agreementTextArea=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.textarea)},m.prototype.initializeAcceptButton=function(){this.acceptButton=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.accept)},m.prototype.initializeModal=function(){this.modal=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.modal)},m.prototype.initializeCancelButton=function(){this.cancelButton=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.modalOpen)},m.prototype.initializeBackModalButton=function(){this.backModalButton=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.modalClose)},m.prototype.initializeHelpLink=function(){this.helpLink=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.helpLink+" a")},m.prototype.initializeCancelModalButton=function(){this.cancelModalButton=l.DOMHelper.querySelector(""+this.classPrefix+this.classSuffix.ddboxClose)},m.prototype.initializeLiveSession=function(){this.box&&new h.LiveSession(this.box).init()},m.prototype.bindEvents=function(){this.bindEventToAcceptAgreements(),this.bindEventsToShowModal(),this.bindEventsToHideModal(),this.bindEventsToCloseDdbox(),this.bindEventsToCloseDdboxFromX(),this.bindEventsToHelpLink(),this.bindOpenModal()},m.prototype.bindEventToAcceptAgreements=function(){var t=this;this.acceptButton&&this.acceptButton.addEventListener(i.EventType.CLICK,function(){t.setAgreement()})},m.prototype.bindEventsToShowModal=function(){var t=this;this.cancelButton&&this.cancelButton.addEventListener(i.EventType.CLICK,function(){t.clickFromX=!1,t.setCancelModalButtonText(t.Constants.dontAgree),t.showModal(),t.sendBigDataEvent(e.ZcpClickIds.doNotConsent)})},m.prototype.bindEventsToHideModal=function(){var t=this;this.backModalButton&&this.backModalButton.addEventListener(i.EventType.CLICK,function(){t.hideModal(),t.box&&(t.box.style.display="flex"),t.sendBigDataEvent(e.ZcpClickIds.back)})},m.prototype.bindEventsToCloseDdbox=function(){var t=this;this.cancelModalButton&&this.cancelModalButton.addEventListener(i.EventType.CLICK,function(){t.closeDdbox(),t.sendBigDataEvent(t.clickFromX?e.ZcpClickIds.closeInModal:e.ZcpClickIds.inAnyCaseDoNotConsent),t.clickFromX||t.hideSwimmer()})},m.prototype.bindEventsToCloseDdboxFromX=function(){var t=this;this.closeButton&&this.closeButton.addEventListener(i.EventType.CLICK,function(){t.clickFromX=!0,t.setCancelModalButtonText(t.Constants.close),t.isLoop?t.showModal():(t.closeDdbox(),t.withoutSwimmer||t.showSwimmer()),t.sendBigDataEvent(e.ZcpClickIds.close)})},m.prototype.bindEventsToHelpLink=function(){var t,o=this;if(this.helpLink){var n=null===(t=this.helpLink)||void 0===t?void 0:t.getAttribute("href");this.helpLink.addEventListener(i.EventType.CLICK,function(t){t.preventDefault(),o.sendBigDataEvent(e.ZcpClickIds.helpLink),n&&window.open(n,"_blank")})}},m.prototype.prepareDataToSetAgreement=function(){return{agreements:[176]}},m.prototype.utilize=function(){if(this.section&&this.section.parentElement){var t=this.section.getAttribute(n.UtilizationConstants.dataUtilize)||"brak",e=this.utilization.prepareDataToSend(this.section.parentElement,t);this.utilization.utilize(e)}},m.prototype.sendBigDataEvent=function(e,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=!1),this.section&&this.section.parentElement){var s=this.section.getAttribute(n.UtilizationConstants.dataUtilize)||"brak",a=this.utilization.prepareDataToSend(this.section.parentElement,s),l=r.BigDataHelper.createAttribute(this.section.parentElement,!0,e),c=i?t.BigDataEventConstants.onDisplay:t.BigDataEventConstants.onClick,h={campaignId:l.campaignId,actionId:l.actionId,touchPointId:l.touchPointId}||{};i&&(l.ctaCategory=this.ctaCategory,this.firstView&&o&&(this.capping.sendCapping(h,!0),this.firstView=!1)),d.BigData.sendDataOceanEvent(c,u(u({},a),l))}},m.prototype.setAgreement=function(){var t=this.prepareDataToSetAgreement();return this.closeDdbox(),this.hideOpenModalButton(),this.hideSwimmer(),this.utilize(),this.sendBigDataEvent(e.ZcpClickIds.acceptChanges),c.httpInstance.post({url:this.agreementUrl,data:t})},m.prototype.getAgreementForm=function(){return c.httpInstance.get({url:this.squidHomeUrl}).then(this.successResponseAgreementForm.bind(this))},m.prototype.successResponseAgreementForm=function(t){var e,i=t.data;if((null===(e=null==i?void 0:i.agreements)||void 0===e?void 0:e.length)>=2){var o=t.data.agreements;this.setAgreementsAndShowDdbox(o)}},m.prototype.setAgreementsAndShowDdbox=function(t){var e=t.find(function(t){return!1===t.optional}),i=t.find(function(t){return!0===t.optional});e&&i&&(this.agreementRequire=e,this.agreementOptional=i,this.setRequireAgreementText(),this.showDdboxOrSwimmer())},m.prototype.showDdboxOrSwimmer=function(){this.withoutSwimmer?this.showDdbox(!0):this.showSwimmerEveryTwoDays()},m.prototype.showSwimmerEveryTwoDays=function(){var t=localStorage.getItem(this.localStorageKeyDate),e=localStorage.getItem(this.localStorageKeyCount),i=e?Number(e):0;if(!t||i<1)this.showSwimmerAndSendCapping(),localStorage.setItem(this.localStorageKeyDate,(new Date).toString()),localStorage.setItem(this.localStorageKeyCount,(i+1).toString());else{var o=new Date,n=new Date(o.setDate(o.getDate()-2));new Date(t)<n&&(this.showSwimmerAndSendCapping(),localStorage.setItem(this.localStorageKeyDate,(new Date).toString()),localStorage.setItem(this.localStorageKeyCount,(i+1).toString()))}},m.prototype.showSwimmerAndSendCapping=function(){this.showSwimmer(),this.section&&this.capping.sendCappingEvent(this.section,!0)},m.prototype.showSwimmer=function(){this.swimmer&&this.swimmer.classList.remove(o.MarketingClientConstants.hiddenClassName)},m.prototype.hideSwimmer=function(){this.swimmer&&this.swimmer.classList.add(o.MarketingClientConstants.hiddenClassName)},m.prototype.showModal=function(){this.modal&&this.modal.classList.remove(o.MarketingClientConstants.hiddenClassName),this.box&&(this.box.style.display="none")},m.prototype.hideModal=function(){this.modal&&this.modal.classList.add(o.MarketingClientConstants.hiddenClassName)},m.prototype.closeDdbox=function(){this.hideModal(),this.box&&(this.box.style.display="none"),this.enableScroll()},m.prototype.showDdbox=function(t){void 0===t&&(t=!1),this.box&&(this.sendBigDataEvent(e.ZcpClickIds.displayedModal,!0,t),this.box.style.display="flex",this.box.classList.add(e.DdboxConstants.visible),this.disableScroll())},m.prototype.setRequireAgreementText=function(){this.agreementTextArea&&(this.agreementTextArea.innerHTML=this.agreementRequire.agreementText)},m.prototype.setCancelModalButtonText=function(t){this.cancelModalButton&&(this.cancelModalButton.innerHTML=t)},m.prototype.disableScroll=function(){document.body.classList.add(o.MarketingClientConstants.stopScrolling)},m.prototype.enableScroll=function(){document.body.classList.remove(o.MarketingClientConstants.stopScrolling)},m}();exports.ZCPSwimmer=m;
},{"./constants/big-data-constants":"gGic","./constants/ddbox-constants":"Ktwm","./constants/event-type-constants":"4Lf/","./constants/marketing-client-constants":"bZBa","./constants/marketing-client-utilization-constants":"KmOk","./constants/swimmer-constants":"aJ3M","./constants/url-constants":"kUNX","./helpers/big-data-helper":"VizB","./helpers/dom-helper":"5OYG","./http/http":"2Moq","./marketing-client-bigdata":"Rp9g","./utils/livesession":"c+Ah","./utils/utils":"8wWJ"}],"nruQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HpNltSliderOptions=exports.HpNltrrorMessage=exports.HpNltClassName=exports.HpNltSelector=exports.HpNltObjectConstants=void 0;var e={newsletterId:"data-nltId"};exports.HpNltObjectConstants=e;var t={hpNewsletterInput:".saver-newsletter-hp__content__box__item__bottom__container__email-form--wrapper--input",hpNewsletterButton:".saver-newsletter-hp__content__box__item__bottom__container__email-form--button",hpNewsletterSlider:".saver-newsletter-hp__glide",hpNewsletterExpandBtn:".saver-newsletter-hp__content__agreements__form-expand--button",hpNewsletterAgreements:".saver-newsletter-hp__content__agreements-text"};exports.HpNltSelector=t;var r={hidden:"invisible",collapseAgreements:"collapse-text-agreements",expandButtonActive:"active"};exports.HpNltClassName=r;var o={required:"Pole e-mail jest wymagane!",banned:"Podany e-mail jest błędny, wpisz poprawny adres",accountExists:"Masz już konto w Wyborczej",accountUnconfirmed:'Proces zakładania konta już rozpoczęty. Nie masz e-maila aktywacyjnego? <a style="text-decoration: underline;">Wyślij go ponownie.</a>',subscriptionError:"Błąd! Nie udało się zapisać na newsletter. Spróbuj ponownie za chwilę."};exports.HpNltrrorMessage=o;var n={startAt:0,perView:2,gap:0,peek:{before:0,after:0},bound:!0,breakpoints:{680:{perView:1,peek:{before:0,after:40},focusAt:"center"}}};exports.HpNltSliderOptions=n;
},{}],"/fGv":[function(require,module,exports) {

"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function e(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}function h(t){var e=l();return function(){var n,i=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=v(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var m={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perSwipe:"",touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",waitForTransition:!0,throttle:10,direction:"ltr",peek:0,cloningRatio:1,breakpoints:{},classes:{swipeable:"glide--swipeable",dragging:"glide--dragging",direction:{ltr:"glide--ltr",rtl:"glide--rtl"},type:{slider:"glide--slider",carousel:"glide--carousel"},slide:{clone:"glide__slide--clone",active:"glide__slide--active"},arrow:{disabled:"glide__arrow--disabled"},nav:{active:"glide__bullet--active"}}};function g(t){console.error("[Glide warn]: ".concat(t))}function y(t){return parseInt(t)}function b(t){return parseFloat(t)}function w(t){return"string"==typeof t}function _(t){var e=n(t);return"function"===e||"object"===e&&!!t}function k(t){return"function"==typeof t}function S(t){return void 0===t}function O(t){return t.constructor===Array}function H(t,e,n){var i={};for(var r in e)k(e[r])?i[r]=e[r](t,i,n):g("Extension must be a function");for(var o in i)k(i[o].mount)&&i[o].mount();return i}function x(t,e,n){Object.defineProperty(t,e,n)}function T(t){return Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e[n],e},{})}function j(t,n){var i=Object.assign({},t,n);if(n.hasOwnProperty("classes")){i.classes=Object.assign({},t.classes,n.classes);["direction","type","slide","arrow","nav"].forEach(function(r){n.classes.hasOwnProperty(r)&&(i.classes[r]=e(e({},t.classes[r]),n.classes[r]))})}return n.hasOwnProperty("breakpoints")&&(i.breakpoints=Object.assign({},t.breakpoints,n.breakpoints)),i}var A=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.events=e,this.hop=e.hasOwnProperty}return o(t,[{key:"on",value:function(t,e){if(!O(t)){this.hop.call(this.events,t)||(this.events[t]=[]);var n=this.events[t].push(e)-1;return{remove:function(){delete this.events[t][n]}}}for(var i=0;i<t.length;i++)this.on(t[i],e)}},{key:"emit",value:function(t,e){if(O(t))for(var n=0;n<t.length;n++)this.emit(t[n],e);else this.hop.call(this.events,t)&&this.events[t].forEach(function(t){t(e||{})})}}]),t}(),P=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this._c={},this._t=[],this._e=new A,this.disabled=!1,this.selector=e,this.settings=j(m,n),this.index=this.settings.startAt}return o(t,[{key:"mount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._e.emit("mount.before"),_(t)?this._c=H(this,t,this._e):g("You need to provide a object on `mount()`"),this._e.emit("mount.after"),this}},{key:"mutate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return O(t)?this._t=t:g("You need to provide a array on `mutate()`"),this}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.settings=j(this.settings,t),t.hasOwnProperty("startAt")&&(this.index=t.startAt),this._e.emit("update"),this}},{key:"go",value:function(t){return this._c.Run.make(t),this}},{key:"move",value:function(t){return this._c.Transition.disable(),this._c.Move.make(t),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&(this.settings.autoplay=t),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(t,e){return this._e.on(t,e),this}},{key:"isType",value:function(t){return this.settings.type===t}},{key:"settings",get:function(){return this._o},set:function(t){_(t)?this._o=t:g("Options must be an `object` instance.")}},{key:"index",get:function(){return this._i},set:function(t){this._i=y(t)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(t){this._d=!!t}}]),t}();function R(t,e,n){var i={mount:function(){this._o=!1},make:function(i){var r=this;t.disabled||(!t.settings.waitForTransition||t.disable(),this.move=i,n.emit("run.before",this.move),this.calculate(),n.emit("run",this.move),e.Transition.after(function(){r.isStart()&&n.emit("run.start",r.move),r.isEnd()&&n.emit("run.end",r.move),r.isOffset()&&(r._o=!1,n.emit("run.offset",r.move)),n.emit("run.after",r.move),t.enable()}))},calculate:function(){var e=this.move,n=this.length,r=e.steps,o=e.direction,s=1;if("="===o)return t.settings.bound&&y(r)>n?void(t.index=n):void(t.index=r);if(">"!==o||">"!==r)if("<"!==o||"<"!==r){if("|"===o&&(s=t.settings.perView||1),">"===o||"|"===o&&">"===r){var u=function(e){var n=t.index;if(t.isType("carousel"))return n+e;return n+(e-n%e)}(s);return u>n&&(this._o=!0),void(t.index=function(e,n){var r=i.length;if(e<=r)return e;if(t.isType("carousel"))return e-(r+1);if(t.settings.rewind)return i.isBound()&&!i.isEnd()?r:0;if(i.isBound())return r;return Math.floor(r/n)*n}(u,s))}if("<"===o||"|"===o&&"<"===r){var a=function(e){var n=t.index;if(t.isType("carousel"))return n-e;return(Math.ceil(n/e)-1)*e}(s);return a<0&&(this._o=!0),void(t.index=function(e,n){var r=i.length;if(e>=0)return e;if(t.isType("carousel"))return e+(r+1);if(t.settings.rewind)return i.isBound()&&i.isStart()?r:Math.floor(r/n)*n;return 0}(a,s))}g("Invalid direction pattern [".concat(o).concat(r,"] has been used"))}else t.index=0;else t.index=n},isStart:function(){return t.index<=0},isEnd:function(){return t.index>=this.length},isOffset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t?!!this._o&&("|>"===t?"|"===this.move.direction&&">"===this.move.steps:"|<"===t?"|"===this.move.direction&&"<"===this.move.steps:this.move.direction===t):this._o},isBound:function(){return t.isType("slider")&&"center"!==t.settings.focusAt&&t.settings.bound}};return x(i,"move",{get:function(){return this._m},set:function(t){var e=t.substr(1);this._m={direction:t.substr(0,1),steps:e?y(e)?y(e):e:0}}}),x(i,"length",{get:function(){var n=t.settings,i=e.Html.slides.length;return this.isBound()?i-1-(y(n.perView)-1)+y(n.focusAt):i-1}}),x(i,"offset",{get:function(){return this._o}}),i}function E(){return(new Date).getTime()}function L(t,e){var n,i,r,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=0,a=function(){u=!1===s.leading?0:E(),n=null,o=t.apply(i,r),n||(i=r=null)},c=function(){var c=E();u||!1!==s.leading||(u=c);var l=e-(c-u);return i=this,r=arguments,l<=0||l>e?(n&&(clearTimeout(n),n=null),u=c,o=t.apply(i,r),n||(i=r=null)):n||!1===s.trailing||(n=setTimeout(a,l)),o};return c.cancel=function(){clearTimeout(n),u=0,n=i=r=null},c}var M={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]};function z(t,e,n){var i={apply:function(t){for(var n=0,i=t.length;n<i;n++){var r=t[n].style,o=e.Direction.value;r[M[o][0]]=0!==n?"".concat(this.value/2,"px"):"",n!==t.length-1?r[M[o][1]]="".concat(this.value/2,"px"):r[M[o][1]]=""}},remove:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].style;i.marginLeft="",i.marginRight=""}}};return x(i,"value",{get:function(){return y(t.settings.gap)}}),x(i,"grow",{get:function(){return i.value*e.Sizes.length}}),x(i,"reductor",{get:function(){var e=t.settings.perView;return i.value*(e-1)/e}}),n.on(["build.after","update"],L(function(){i.apply(e.Html.wrapper.children)},30)),n.on("destroy",function(){i.remove(e.Html.wrapper.children)}),i}function C(t){if(t&&t.parentNode){for(var e=t.parentNode.firstChild,n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}return[]}function D(t){return Array.prototype.slice.call(t)}var B='[data-glide-el="track"]';function W(t,e,n){var i={mount:function(){this.root=t.selector,this.track=this.root.querySelector(B),this.collectSlides()},collectSlides:function(){this.slides=D(this.wrapper.children).filter(function(e){return!e.classList.contains(t.settings.classes.slide.clone)})}};return x(i,"root",{get:function(){return i._r},set:function(t){w(t)&&(t=document.querySelector(t)),null!==t?i._r=t:g("Root element must be a existing Html node")}}),x(i,"track",{get:function(){return i._t},set:function(t){i._t=t}}),x(i,"wrapper",{get:function(){return i.track.children[0]}}),n.on("update",function(){i.collectSlides()}),i}function q(t,e,n){var i={mount:function(){this.value=t.settings.peek}};return x(i,"value",{get:function(){return i._v},set:function(t){_(t)?(t.before=y(t.before),t.after=y(t.after)):t=y(t),i._v=t}}),x(i,"reductor",{get:function(){var e=i.value,n=t.settings.perView;return _(e)?e.before/n+e.after/n:2*e/n}}),n.on(["resize","update"],function(){i.mount()}),i}function I(t,e,n){var i={mount:function(){this._o=0},make:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=i,n.emit("move",{movement:this.value}),e.Transition.after(function(){n.emit("move.after",{movement:t.value})})}};return x(i,"offset",{get:function(){return i._o},set:function(t){i._o=S(t)?0:y(t)}}),x(i,"translate",{get:function(){return e.Sizes.slideWidth*t.index}}),x(i,"value",{get:function(){var t=this.offset,n=this.translate;return e.Direction.is("rtl")?n+t:n-t}}),n.on(["build.before","run"],function(){i.make()}),i}function V(t,e,n){var i={setupSlides:function(){for(var t="".concat(this.slideWidth,"px"),n=e.Html.slides,i=0;i<n.length;i++)n[i].style.width=t},setupWrapper:function(){e.Html.wrapper.style.width="".concat(this.wrapperSize,"px")},remove:function(){for(var t=e.Html.slides,n=0;n<t.length;n++)t[n].style.width="";e.Html.wrapper.style.width=""}};return x(i,"length",{get:function(){return e.Html.slides.length}}),x(i,"width",{get:function(){return e.Html.track.offsetWidth}}),x(i,"wrapperSize",{get:function(){return i.slideWidth*i.length+e.Gaps.grow+e.Clones.grow}}),x(i,"slideWidth",{get:function(){return i.width/t.settings.perView-e.Peek.reductor-e.Gaps.reductor}}),n.on(["build.before","resize","update"],function(){i.setupSlides(),i.setupWrapper()}),n.on("destroy",function(){i.remove()}),i}function G(t,e,n){var i={mount:function(){n.emit("build.before"),this.typeClass(),this.activeClass(),n.emit("build.after")},typeClass:function(){e.Html.root.classList.add(t.settings.classes.type[t.settings.type])},activeClass:function(){var n=t.settings.classes,i=e.Html.slides[t.index];i&&(i.classList.add(n.slide.active),C(i).forEach(function(t){t.classList.remove(n.slide.active)}))},removeClasses:function(){var n=t.settings.classes,i=n.type,r=n.slide;e.Html.root.classList.remove(i[t.settings.type]),e.Html.slides.forEach(function(t){t.classList.remove(r.active)})}};return n.on(["destroy","update"],function(){i.removeClasses()}),n.on(["resize","update"],function(){i.mount()}),n.on("move.after",function(){i.activeClass()}),i}function F(t,e,n){var i={mount:function(){this.items=[],t.isType("carousel")&&(this.items=this.collect())},collect:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=e.Html.slides,r=t.settings,o=r.perView,s=r.classes,u=r.cloningRatio;if(i.length>0)for(var a=o+ +!!t.settings.peek+Math.round(o/2),c=i.slice(0,a).reverse(),l=i.slice(-1*a),f=0;f<Math.max(u,Math.floor(o/i.length));f++){for(var d=0;d<c.length;d++){var h=c[d].cloneNode(!0);h.classList.add(s.slide.clone),n.push(h)}for(var v=0;v<l.length;v++){var p=l[v].cloneNode(!0);p.classList.add(s.slide.clone),n.unshift(p)}}return n},append:function(){for(var t=this.items,n=e.Html,i=n.wrapper,r=n.slides,o=Math.floor(t.length/2),s=t.slice(0,o).reverse(),u=t.slice(-1*o).reverse(),a="".concat(e.Sizes.slideWidth,"px"),c=0;c<u.length;c++)i.appendChild(u[c]);for(var l=0;l<s.length;l++)i.insertBefore(s[l],r[0]);for(var f=0;f<t.length;f++)t[f].style.width=a},remove:function(){for(var t=this.items,n=0;n<t.length;n++)e.Html.wrapper.removeChild(t[n])}};return x(i,"grow",{get:function(){return(e.Sizes.slideWidth+e.Gaps.value)*i.items.length}}),n.on("update",function(){i.remove(),i.mount(),i.append()}),n.on("build.before",function(){t.isType("carousel")&&i.append()}),n.on("destroy",function(){i.remove()}),i}var N=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.listeners=e}return o(t,[{key:"on",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];w(t)&&(t=[t]);for(var r=0;r<t.length;r++)this.listeners[t[r]]=n,e.addEventListener(t[r],this.listeners[t[r]],i)}},{key:"off",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];w(t)&&(t=[t]);for(var i=0;i<t.length;i++)e.removeEventListener(t[i],this.listeners[t[i]],n)}},{key:"destroy",value:function(){delete this.listeners}}]),t}();function Y(t,e,n){var i=new N,r={mount:function(){this.bind()},bind:function(){i.on("resize",window,L(function(){n.emit("resize")},t.settings.throttle))},unbind:function(){i.off("resize",window)}};return n.on("destroy",function(){r.unbind(),i.destroy()}),r}var X=["ltr","rtl"],K={">":"<","<":">","=":"="};function J(t,e,n){var i={mount:function(){this.value=t.settings.direction},resolve:function(t){var e=t.slice(0,1);return this.is("rtl")?t.split(e).join(K[e]):t},is:function(t){return this.value===t},addClass:function(){e.Html.root.classList.add(t.settings.classes.direction[this.value])},removeClass:function(){e.Html.root.classList.remove(t.settings.classes.direction[this.value])}};return x(i,"value",{get:function(){return i._v},set:function(t){X.indexOf(t)>-1?i._v=t:g("Direction value must be `ltr` or `rtl`")}}),n.on(["destroy","update"],function(){i.removeClass()}),n.on("update",function(){i.mount()}),n.on(["build.before","update"],function(){i.addClass()}),i}function Q(t,e){return{modify:function(t){return e.Direction.is("rtl")?-t:t}}}function U(t,e){return{modify:function(t){var n=Math.floor(t/e.Sizes.slideWidth);return t+e.Gaps.value*n}}}function Z(t,e){return{modify:function(t){return t+e.Clones.grow/2}}}function $(t,e){return{modify:function(n){if(t.settings.focusAt>=0){var i=e.Peek.value;return _(i)?n-i.before:n-i}return n}}}function tt(t,e){return{modify:function(n){var i=e.Gaps.value,r=e.Sizes.width,o=t.settings.focusAt,s=e.Sizes.slideWidth;return"center"===o?n-(r/2-s/2):n-s*o-i*o}}}function et(t,e,n){var i=[U,Z,$,tt].concat(t._t,[Q]);return{mutate:function(r){for(var o=0;o<i.length;o++){var s=i[o];k(s)&&k(s().modify)?r=s(t,e,n).modify(r):g("Transformer should be a function that returns an object with `modify()` method")}return r}}}function nt(t,e,n){var i={set:function(n){var i=et(t,e).mutate(n),r="translate3d(".concat(-1*i,"px, 0px, 0px)");e.Html.wrapper.style.mozTransform=r,e.Html.wrapper.style.webkitTransform=r,e.Html.wrapper.style.transform=r},remove:function(){e.Html.wrapper.style.transform=""},getStartIndex:function(){var n=e.Sizes.length,i=t.index,r=t.settings.perView;return e.Run.isOffset(">")||e.Run.isOffset("|>")?n+(i-r):(i+r)%n},getTravelDistance:function(){var n=e.Sizes.slideWidth*t.settings.perView;return e.Run.isOffset(">")||e.Run.isOffset("|>")?-1*n:n}};return n.on("move",function(r){if(!t.isType("carousel")||!e.Run.isOffset())return i.set(r.movement);e.Transition.after(function(){n.emit("translate.jump"),i.set(e.Sizes.slideWidth*t.index)});var o=e.Sizes.slideWidth*e.Translate.getStartIndex();return i.set(o-e.Translate.getTravelDistance())}),n.on("destroy",function(){i.remove()}),i}function it(t,e,n){var i=!1,r={compose:function(e){var n=t.settings;return i?"".concat(e," 0ms ").concat(n.animationTimingFunc):"".concat(e," ").concat(this.duration,"ms ").concat(n.animationTimingFunc)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";e.Html.wrapper.style.transition=this.compose(t)},remove:function(){e.Html.wrapper.style.transition=""},after:function(t){setTimeout(function(){t()},this.duration)},enable:function(){i=!1,this.set()},disable:function(){i=!0,this.set()}};return x(r,"duration",{get:function(){var n=t.settings;return t.isType("slider")&&e.Run.offset?n.rewindDuration:n.animationDuration}}),n.on("move",function(){r.set()}),n.on(["build.before","resize","translate.jump"],function(){r.disable()}),n.on("run",function(){r.enable()}),n.on("destroy",function(){r.remove()}),r}var rt=!1;try{var ot=Object.defineProperty({},"passive",{get:function(){rt=!0}});window.addEventListener("testPassive",null,ot),window.removeEventListener("testPassive",null,ot)}catch(Ht){}var st=rt,ut=["touchstart","mousedown"],at=["touchmove","mousemove"],ct=["touchend","touchcancel","mouseup","mouseleave"],lt=["mousedown","mousemove","mouseup","mouseleave"];function ft(t,e,n){var i=new N,r=0,o=0,s=0,u=!1,a=!!st&&{passive:!0},c={mount:function(){this.bindSwipeStart()},start:function(e){if(!u&&!t.disabled){this.disable();var i=this.touches(e);r=null,o=y(i.pageX),s=y(i.pageY),this.bindSwipeMove(),this.bindSwipeEnd(),n.emit("swipe.start")}},move:function(i){if(!t.disabled){var u=t.settings,a=u.touchAngle,c=u.touchRatio,l=u.classes,f=this.touches(i),d=y(f.pageX)-o,h=y(f.pageY)-s,v=Math.abs(d<<2),p=Math.abs(h<<2),m=Math.sqrt(v+p),g=Math.sqrt(p);if(!(180*(r=Math.asin(g/m))/Math.PI<a))return!1;i.stopPropagation(),e.Move.make(d*b(c)),e.Html.root.classList.add(l.dragging),n.emit("swipe.move")}},end:function(i){if(!t.disabled){var s=t.settings,u=s.perSwipe,a=s.touchAngle,c=s.classes,l=this.touches(i),f=this.threshold(i),d=l.pageX-o,h=180*r/Math.PI;this.enable(),d>f&&h<a?e.Run.make(e.Direction.resolve("".concat(u,"<"))):d<-f&&h<a?e.Run.make(e.Direction.resolve("".concat(u,">"))):e.Move.make(),e.Html.root.classList.remove(c.dragging),this.unbindSwipeMove(),this.unbindSwipeEnd(),n.emit("swipe.end")}},bindSwipeStart:function(){var n=this,r=t.settings,o=r.swipeThreshold,s=r.dragThreshold;o&&i.on(ut[0],e.Html.wrapper,function(t){n.start(t)},a),s&&i.on(ut[1],e.Html.wrapper,function(t){n.start(t)},a)},unbindSwipeStart:function(){i.off(ut[0],e.Html.wrapper,a),i.off(ut[1],e.Html.wrapper,a)},bindSwipeMove:function(){var n=this;i.on(at,e.Html.wrapper,L(function(t){n.move(t)},t.settings.throttle),a)},unbindSwipeMove:function(){i.off(at,e.Html.wrapper,a)},bindSwipeEnd:function(){var t=this;i.on(ct,e.Html.wrapper,function(e){t.end(e)})},unbindSwipeEnd:function(){i.off(ct,e.Html.wrapper)},touches:function(t){return lt.indexOf(t.type)>-1?t:t.touches[0]||t.changedTouches[0]},threshold:function(e){var n=t.settings;return lt.indexOf(e.type)>-1?n.dragThreshold:n.swipeThreshold},enable:function(){return u=!1,e.Transition.enable(),this},disable:function(){return u=!0,e.Transition.disable(),this}};return n.on("build.after",function(){e.Html.root.classList.add(t.settings.classes.swipeable)}),n.on("destroy",function(){c.unbindSwipeStart(),c.unbindSwipeMove(),c.unbindSwipeEnd(),i.destroy()}),c}function dt(t,e,n){var i=new N,r={mount:function(){this.bind()},bind:function(){i.on("dragstart",e.Html.wrapper,this.dragstart)},unbind:function(){i.off("dragstart",e.Html.wrapper)},dragstart:function(t){t.preventDefault()}};return n.on("destroy",function(){r.unbind(),i.destroy()}),r}function ht(t,e,n){var i=new N,r=!1,o=!1,s={mount:function(){this._a=e.Html.wrapper.querySelectorAll("a"),this.bind()},bind:function(){i.on("click",e.Html.wrapper,this.click)},unbind:function(){i.off("click",e.Html.wrapper)},click:function(t){o&&(t.stopPropagation(),t.preventDefault())},detach:function(){if(o=!0,!r){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!1;r=!0}return this},attach:function(){if(o=!1,r){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!0;r=!1}return this}};return x(s,"items",{get:function(){return s._a}}),n.on("swipe.move",function(){s.detach()}),n.on("swipe.end",function(){e.Transition.after(function(){s.attach()})}),n.on("destroy",function(){s.attach(),s.unbind(),i.destroy()}),s}var vt='[data-glide-el="controls[nav]"]',pt='[data-glide-el^="controls"]',mt="".concat(pt,' [data-glide-dir*="<"]'),gt="".concat(pt,' [data-glide-dir*=">"]');function yt(t,e,n){var i=new N,r=!!st&&{passive:!0},o={mount:function(){this._n=e.Html.root.querySelectorAll(vt),this._c=e.Html.root.querySelectorAll(pt),this._arrowControls={previous:e.Html.root.querySelectorAll(mt),next:e.Html.root.querySelectorAll(gt)},this.addBindings()},setActive:function(){for(var t=0;t<this._n.length;t++)this.addClass(this._n[t].children)},removeActive:function(){for(var t=0;t<this._n.length;t++)this.removeClass(this._n[t].children)},addClass:function(e){var n=t.settings,i=e[t.index];i&&(i.classList.add(n.classes.nav.active),C(i).forEach(function(t){t.classList.remove(n.classes.nav.active)}))},removeClass:function(e){var n=e[t.index];null==n||n.classList.remove(t.settings.classes.nav.active)},setArrowState:function(){if(!t.settings.rewind){var n=o._arrowControls.next,i=o._arrowControls.previous;this.resetArrowState(n,i),0===t.index&&this.disableArrow(i),t.index===e.Run.length&&this.disableArrow(n)}},resetArrowState:function(){for(var e=t.settings,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i.forEach(function(t){D(t).forEach(function(t){t.classList.remove(e.classes.arrow.disabled)})})},disableArrow:function(){for(var e=t.settings,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i.forEach(function(t){D(t).forEach(function(t){t.classList.add(e.classes.arrow.disabled)})})},addBindings:function(){for(var t=0;t<this._c.length;t++)this.bind(this._c[t].children)},removeBindings:function(){for(var t=0;t<this._c.length;t++)this.unbind(this._c[t].children)},bind:function(t){for(var e=0;e<t.length;e++)i.on("click",t[e],this.click),i.on("touchstart",t[e],this.click,r)},unbind:function(t){for(var e=0;e<t.length;e++)i.off(["click","touchstart"],t[e])},click:function(t){st||"touchstart"!==t.type||t.preventDefault();var n=t.currentTarget.getAttribute("data-glide-dir");e.Run.make(e.Direction.resolve(n))}};return x(o,"items",{get:function(){return o._c}}),n.on(["mount.after","move.after"],function(){o.setActive()}),n.on(["mount.after","run"],function(){o.setArrowState()}),n.on("destroy",function(){o.removeBindings(),o.removeActive(),i.destroy()}),o}function bt(t,e,n){var i=new N,r={mount:function(){t.settings.keyboard&&this.bind()},bind:function(){i.on("keyup",document,this.press)},unbind:function(){i.off("keyup",document)},press:function(n){var i=t.settings.perSwipe;["ArrowRight","ArrowLeft"].includes(n.code)&&e.Run.make(e.Direction.resolve("".concat(i).concat({ArrowRight:">",ArrowLeft:"<"}[n.code])))}};return n.on(["destroy","update"],function(){r.unbind()}),n.on("update",function(){r.mount()}),n.on("destroy",function(){i.destroy()}),r}function wt(t,e,n){var i=new N,r={mount:function(){this.enable(),this.start(),t.settings.hoverpause&&this.bind()},enable:function(){this._e=!0},disable:function(){this._e=!1},start:function(){var i=this;this._e&&(this.enable(),t.settings.autoplay&&S(this._i)&&(this._i=setInterval(function(){i.stop(),e.Run.make(">"),i.start(),n.emit("autoplay")},this.time)))},stop:function(){this._i=clearInterval(this._i)},bind:function(){var t=this;i.on("mouseover",e.Html.root,function(){t._e&&t.stop()}),i.on("mouseout",e.Html.root,function(){t._e&&t.start()})},unbind:function(){i.off(["mouseover","mouseout"],e.Html.root)}};return x(r,"time",{get:function(){var n=e.Html.slides[t.index].getAttribute("data-glide-autoplay");return y(n||t.settings.autoplay)}}),n.on(["destroy","update"],function(){r.unbind()}),n.on(["run.before","swipe.start","update"],function(){r.stop()}),n.on(["pause","destroy"],function(){r.disable(),r.stop()}),n.on(["run.after","swipe.end"],function(){r.start()}),n.on(["play"],function(){r.enable(),r.start()}),n.on("update",function(){r.mount()}),n.on("destroy",function(){i.destroy()}),r}function _t(t){return _(t)?T(t):(g("Breakpoints option must be an object"),{})}function kt(t,e,n){var i=new N,r=t.settings,o=_t(r.breakpoints),s=Object.assign({},r),u={match:function(t){if(void 0!==window.matchMedia)for(var e in t)if(t.hasOwnProperty(e)&&window.matchMedia("(max-width: ".concat(e,"px)")).matches)return t[e];return s}};return Object.assign(r,u.match(o)),i.on("resize",window,L(function(){t.settings=j(r,u.match(o))},t.settings.throttle)),n.on("update",function(){o=_t(o),s=Object.assign({},r)}),n.on("destroy",function(){i.off("resize",window)}),u}var St={Html:W,Translate:nt,Transition:it,Direction:J,Peek:q,Sizes:V,Gaps:z,Move:I,Clones:F,Resize:Y,Build:G,Run:R,Swipe:ft,Images:dt,Anchors:ht,Controls:yt,Keyboard:bt,Autoplay:wt,Breakpoints:kt},Ot=function(t){u(n,P);var e=h(n);function n(){return i(this,n),e.apply(this,arguments)}return o(n,[{key:"mount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(a(n.prototype),"mount",this).call(this,Object.assign({},St,t))}}]),n}();exports.default=Ot;
},{}],"lI9u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewsletterSaverHp=void 0;var e=require("./http/http"),t=require("./marketing-client"),r=require("./utils/utils"),n=require("./utils/error-handler-first-rw"),i=require("./helpers/dom-helper"),l=require("./constants/newsletter-saver-hp-constants"),o=require("./constants/event-type-constants"),s=require("./marketing-client-bigdata"),a=require("./constants/big-data-constants"),u=require("./helpers/onboarding-helper"),c=p(require("@glidejs/glide"));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t,r,n){return new(r||(r=Promise))(function(i,l){function o(e){try{a(n.next(e))}catch(t){l(t)}}function s(e){try{a(n.throw(e))}catch(t){l(t)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}a((n=n.apply(e,t||[])).next())})},h=function(e,t){var r,n,i,l,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(s){l=[6,s],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},v=function(){function p(){var e;this.email=(null===(e=null===t.WYBORCZA_PL||void 0===t.WYBORCZA_PL?void 0:t.WYBORCZA_PL.userInfo)||void 0===e?void 0:e.email)||"",this.path="https://api-newsletter.wyborcza.pl/cors/profiles",this.emailErrorHandler=[],this.messages=l.HpNltrrorMessage,this.glideOptions=l.HpNltSliderOptions,this.intersectionObserverOptions={rootMargin:"0px",threshold:0}}return p.prototype.init=function(){i.DOMHelper.querySelector(l.HpNltSelector.hpNewsletterSlider)&&(this.initSlider(),this.pauseSliderOnFocus(),this.autoPlaySlider(),this.initializeEmailInput(),this.bindNewsletterEvents(),this.initializeExpandButtonEvents())},p.prototype.initSlider=function(){c.default&&(this.slider=new c.default(l.HpNltSelector.hpNewsletterSlider,this.glideOptions).mount())},p.prototype.pauseSliderOnFocus=function(){var e=this,t=i.DOMHelper.querySelectorAsArray(l.HpNltSelector.hpNewsletterInput);null==t||t.forEach(function(t,r){t.addEventListener(o.EventType.FOCUS,function(t){return d(e,void 0,void 0,function(){return h(this,function(e){return this.slider.update({autoplay:!1}),this.slider.pause(),[2]})})})})},p.prototype.autoPlaySlider=function(){var e,t=this;this.observer=new IntersectionObserver(function(e){return t.onIntersect(e)},this.intersectionObserverOptions),this.observer.observe(i.DOMHelper.querySelector(l.HpNltSelector.hpNewsletterSlider)),null===(e=this.slider)||void 0===e||e.on(["run"],function(){return t.slider.update({autoplay:5e3})})},p.prototype.onIntersect=function(e){var t=this;e.forEach(function(e){var r,n;e.isIntersecting&&(null===(r=t.slider)||void 0===r||r.update({autoplay:5e3}),null===(n=t.slider)||void 0===n||n.play())})},p.prototype.initializeEmailInput=function(){var e,t=this;this.emailInput=i.DOMHelper.querySelectorAsArray(l.HpNltSelector.hpNewsletterInput),null===(e=this.emailInput)||void 0===e||e.forEach(function(e){t.emailErrorHandler.push(new n.ErrorHandler(e))})},p.prototype.bindNewsletterEvents=function(){var e=this,t=i.DOMHelper.querySelectorAsArray(l.HpNltSelector.hpNewsletterButton);null==t||t.forEach(function(t,r){t.addEventListener(o.EventType.CLICK,function(t){return d(e,void 0,void 0,function(){var e,n,i,o,s,a;return h(this,function(u){switch(u.label){case 0:return e=null===(a=null===(s=null==t?void 0:t.target)||void 0===s?void 0:s.parentNode)||void 0===a?void 0:a.parentNode,this.validateEmail(r)?(n=e.querySelector(l.HpNltSelector.hpNewsletterInput),i=null==n?void 0:n.value,o=(null==n?void 0:n.getAttribute(l.HpNltObjectConstants.newsletterId))||"",[4,this.subscribe(i,o)]):[2];case 1:return u.sent()?(this.showThankYouContent(e),this.sendBigDataEvent(i,o),[2]):(this.emailErrorHandler[r].show(this.messages.subscriptionError),[2])}})})})})},p.prototype.showThankYouContent=function(e){var t,r;null===(t=null==e?void 0:e.classList)||void 0===t||t.toggle(l.HpNltClassName.hidden),null===(r=null==e?void 0:e.nextElementSibling)||void 0===r||r.classList.toggle(l.HpNltClassName.hidden)},p.prototype.sendBigDataEvent=function(e,t){return d(this,void 0,void 0,function(){var r,n,i,l;return h(this,function(o){switch(o.label){case 0:return n=(r=s.BigData).sendDataOceanEvent,i=[a.BigDataEventConstants.onAddingToNewsletter],l={},[4,(0,u.sha256)(e)];case 1:return n.apply(r,i.concat([(l.hm=o.sent(),l.newsletter=[t],l)])),[2]}})})},p.prototype.validateEmail=function(e){var t=this.emailInput[e]?this.emailInput[e].value:"",n=r.Utils.validateEmail(t);return t.length?n?this.emailErrorHandler[e].hide():this.emailErrorHandler[e].show(this.messages.banned):this.emailErrorHandler[e].show(this.messages.required)},p.prototype.subscribe=function(t,r){return d(this,void 0,void 0,function(){var n,i=this;return h(this,function(l){switch(l.label){case 0:return t&&r?(n={email:t,newsletters:[r],confirmed:!1},[4,e.httpInstance.post({url:this.path+"/override",data:n,withCredentials:!1}).then(function(e){return d(i,void 0,void 0,function(){return h(this,function(t){return[2,200===e.status]})})}).catch(function(){return!1})]):[2];case 1:return[2,l.sent()]}})})},p.prototype.initializeExpandButtonEvents=function(){var e=i.DOMHelper.querySelector(l.HpNltSelector.hpNewsletterExpandBtn);null==e||e.addEventListener(o.EventType.CLICK,function(){var t;e.classList.toggle(l.HpNltClassName.expandButtonActive),null===(t=i.DOMHelper.querySelector(l.HpNltSelector.hpNewsletterAgreements))||void 0===t||t.classList.toggle(l.HpNltClassName.collapseAgreements)})},p}();exports.NewsletterSaverHp=v;
},{"./http/http":"2Moq","./marketing-client":"Fk3a","./utils/utils":"8wWJ","./utils/error-handler-first-rw":"YdDL","./helpers/dom-helper":"5OYG","./constants/newsletter-saver-hp-constants":"nruQ","./constants/event-type-constants":"4Lf/","./marketing-client-bigdata":"Rp9g","./constants/big-data-constants":"gGic","./helpers/onboarding-helper":"tKlk","@glidejs/glide":"/fGv"}],"Y1Jp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WidgetHpPhotoConstans=exports.WidgetHpPhotoSelectors=void 0;var o={section:".nw-widget-photo",mobileImage:".nw-widget-photo__mobile img",mobileAreas:".nw-widget-photo__mobile area"};exports.WidgetHpPhotoSelectors=o;var e={sizeMobilePhoto:452,coordsAttribute:"coords",coordsSeparator:","};exports.WidgetHpPhotoConstans=e;
},{}],"lcv7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WidgetHpPhoto=void 0;var e=require("./constants/event-type-constants"),t=require("./constants/widget-hp-photo-constans"),o=require("./helpers/dom-helper"),i=function(){function i(){this.currentMobileImageSize=t.WidgetHpPhotoConstans.sizeMobilePhoto,this.mobileAreaElements=[]}return i.prototype.init=function(){o.DOMHelper.querySelector(t.WidgetHpPhotoSelectors.section)&&(this.getElements(),this.getCoords(),this.bindEventOnLoadPhoto(),this.bindEventOnResize())},i.prototype.getElements=function(){this.mobileImage=o.DOMHelper.querySelector(t.WidgetHpPhotoSelectors.mobileImage),this.mobileAreaElements=o.DOMHelper.querySelectorAsArray(t.WidgetHpPhotoSelectors.mobileAreas)},i.prototype.getCoords=function(){this.areasCoords=this.mobileAreaElements.map(function(e){var o=e.getAttribute(t.WidgetHpPhotoConstans.coordsAttribute);return(null==o?void 0:o.split(t.WidgetHpPhotoConstans.coordsSeparator).map(function(e){return Number(e)}))||[]})},i.prototype.setScalingCoords=function(){var e,o=this;null===(e=this.areasCoords)||void 0===e||e.forEach(function(e,i){var n=e.map(function(e){return e/t.WidgetHpPhotoConstans.sizeMobilePhoto*o.currentMobileImageSize}).join(t.WidgetHpPhotoConstans.coordsSeparator);n&&o.mobileAreaElements[i].setAttribute(t.WidgetHpPhotoConstans.coordsAttribute,n)})},i.prototype.bindEventOnLoadPhoto=function(){var t,o=this;null===(t=this.mobileImage)||void 0===t||t.addEventListener(e.EventType.LOAD,function(){o.setSizeAndUpdatePosition()})},i.prototype.bindEventOnResize=function(){var t=this;window.addEventListener(e.EventType.RESIZE,function(){t.setSizeAndUpdatePosition()})},i.prototype.setSizeAndUpdatePosition=function(){this.setCurrentMobileImageSize(),this.setScalingCoords()},i.prototype.setCurrentMobileImageSize=function(){var e;this.currentMobileImageSize=(null===(e=this.mobileImage)||void 0===e?void 0:e.clientWidth)||t.WidgetHpPhotoConstans.sizeMobilePhoto},i}();exports.WidgetHpPhoto=i;
},{"./constants/event-type-constants":"4Lf/","./constants/widget-hp-photo-constans":"Y1Jp","./helpers/dom-helper":"5OYG"}],"k3I2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClientBanners=void 0;var e=require("./ddbox"),i=require("./swimmer"),t=require("./marketing-client-share-article-old"),n=require("./marketing-client-share-article"),r=require("./marketing-client-hat"),o=require("./marketing-client-rw-first-promotion"),s=require("./marketing-client-rw-second-promotion"),a=require("./marketing-client-rw-owner"),l=require("./marketing-client-one-day-pass"),c=require("./marketing-client-one-day-pass-old"),h=require("./helpers/dom-helper"),d=require("./constants/rw-object.constants"),m=require("./constants/swf-constants"),w=R(require("./utils/recommendations-cop/recommendations-cop")),g=require("./marketing-client-theme"),p=require("./constants/one-day-pass-old-constants"),u=require("./marketing-client-closing-without-lp"),k=require("./utils/ads-rewarded"),S=require("./marketing-client-hard-closing"),q=require("./marketing-client-newsletter-saver"),C=require("./marketing-client-padlock"),P=require("./marketing-client-zcp"),y=require("./marketing-client-onboarding"),O=require("./marketing-client-zcp-hat"),b=require("./marketing-client-zcp-swimmer"),H=require("./marketing-client-newsletter-saver-hp"),f=require("./marketing-client-widget-hp-photo");function R(e){return e&&e.__esModule?e:{default:e}}var v=function(){function R(h,d,m){this.colotTheme=new g.Theme,this.ddbox=new e.Ddbox(m,h),this.hat=new r.Hat(m),this.swimmer=new i.Swimmer(m,h),this.marketingClientShareArticleOld=new t.MarketingClientShareArticleOld(d),this.marketingClientShareArticle=new n.MarketingClientShareArticle(d),this.marketingClientRWFirstPromotion=new o.MarketingClientRWFirstPromotion(h,d),this.marketingClientRWSecondPromotion=new s.MarketingClientRWSecondPromotion(h,d),this.marketingClientRWOwner=new a.MarketingClientRWOwner(h,d),this.oneDayPass=new l.OneDayPass(h,d),this.oneDayPassOld=new c.OneDayPassOld(h,d),this.recommendationsCop=new w.default(m),this.closingWithoutLp=new u.ClosingWithoutLp(m),this.hardClosing=new S.HardClosing(m),this.adsRewarded=new k.AdsRewarded,this.newsletterSaver=new q.NewsletterSaver(h,d),this.padlock=new C.Padlock,this.zcp=new P.ZCPDdbox(this.ddbox,d),this.zcpHat=new O.ZCPHat(this.ddbox,d),this.zcpSwimmer=new b.ZCPSwimmer(this.ddbox,d,h),this.onboarding=new y.Onboarding(this.ddbox,d),this.newsletterSaverHp=new H.NewsletterSaverHp,this.widgetHpPhoto=new f.WidgetHpPhoto}return R.prototype.init=function(){this.colotTheme.init(),this.ddbox.init(),this.swimmer.init(),this.recommendationsCop.init(this.ddbox.ddboxIsVisible),this.hat.init(),this.closingWithoutLp.init(),this.initSwf(),this.initRw(),this.initOneDayPass(),this.initHardClosing(),this.adsRewarded.init(),this.newsletterSaver.init(),this.padlock.init(),this.zcpSwimmer.init(),this.zcpHat.init(),this.zcp.init(),this.onboarding.init(),this.newsletterSaverHp.init(),this.widgetHpPhoto.init()},R.prototype.initRw=function(){var e=h.DOMHelper.querySelector(d.RwSelector.rwFirstPromotionSelector),i=h.DOMHelper.querySelector(d.RwSelector.rwSecondPromotionSelector);e?this.marketingClientRWFirstPromotion.init():i?this.marketingClientRWSecondPromotion.init():this.marketingClientRWOwner.init()},R.prototype.initSwf=function(){h.DOMHelper.querySelector(m.SwfSelector.oldSwfSelector)?this.marketingClientShareArticleOld.init():this.marketingClientShareArticle.init()},R.prototype.initOneDayPass=function(){h.DOMHelper.querySelector(p.Selector.closeActivation)?this.oneDayPassOld.init():this.oneDayPass.init()},R.prototype.initHardClosing=function(){var e=h.DOMHelper.querySelector(".nw_2023_hard_closing");null==e||e.classList.add("hidden"),this.hardClosing.init()},R}();exports.MarketingClientBanners=v;
},{"./ddbox":"Hovf","./swimmer":"Mgtd","./marketing-client-share-article-old":"UEwG","./marketing-client-share-article":"6KDn","./marketing-client-hat":"v9Rm","./marketing-client-rw-first-promotion":"Ziwz","./marketing-client-rw-second-promotion":"3T1S","./marketing-client-rw-owner":"vZL9","./marketing-client-one-day-pass":"znSY","./marketing-client-one-day-pass-old":"Sus4","./helpers/dom-helper":"5OYG","./constants/rw-object.constants":"ISz6","./constants/swf-constants":"ktFG","./utils/recommendations-cop/recommendations-cop":"TdaV","./marketing-client-theme":"ypbr","./constants/one-day-pass-old-constants":"0u8V","./marketing-client-closing-without-lp":"KHxl","./utils/ads-rewarded":"Bn1r","./marketing-client-hard-closing":"5tGM","./marketing-client-newsletter-saver":"aj7X","./marketing-client-padlock":"Eb3M","./marketing-client-zcp":"1g8T","./marketing-client-onboarding":"RI3A","./marketing-client-zcp-hat":"2loK","./marketing-client-zcp-swimmer":"SJDK","./marketing-client-newsletter-saver-hp":"lI9u","./marketing-client-widget-hp-photo":"lcv7"}],"gXwl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PredefinedIcons=void 0;var C={"#bell":{viewBox:"0 0 32 32",content:'<path d="M15.7,29.5c-2.8,0-4-1.9-4.2-2.9c-0.1-0.2,0.1-0.5,0.3-0.5c0.2-0.1,0.5,0.1,0.5,0.3\n        c0.2,0.8,1.1,2.2,3.4,2.2c2.3,0,3.2-1.4,3.4-2.2c0.1-0.2,0.3-0.4,0.5-0.3c0.2,0.1,0.4,0.3,0.3,0.5C19.7,27.6,18.5,29.5,15.7,29.5z"></path><path d="M26.2,22.8c-1.2-1-3.7-3.1-3.7-7.7c0-4.2-1.6-6.5-2.9-7.6c-1.2-1.1-2.6-1.5-3.4-1.6V3.8\n        c0-0.2-0.2-0.4-0.4-0.4c-0.2,0-0.4,0.2-0.4,0.4v2.1c-0.8,0.1-2.2,0.5-3.4,1.6C10.5,8.7,9,10.9,9,15.1c0,4.5-2.5,6.6-3.7,7.7\n        c-0.5,0.5-0.9,0.7-0.7,1.1c0.2,0.5,0.7,0.5,2.4,0.5h17.7c1.7,0,2.2,0,2.4-0.5C27,23.5,26.7,23.3,26.2,22.8z M24.5,23.6H6.8\n        c-0.3,0-0.8,0-1.2,0c0,0,0.1-0.1,0.1-0.1c1.2-1,4.1-3.4,4.1-8.3c0-3.1,0.9-5.5,2.6-7c1.4-1.2,2.8-1.4,3.3-1.4\n        c0.5,0,1.9,0.3,3.3,1.4c1.7,1.5,2.6,3.8,2.6,7c0,4.9,2.8,7.3,4.1,8.3c0,0,0.1,0.1,0.1,0.1C25.3,23.6,24.8,23.6,24.5,23.6z"></path>'},"#diamond":{viewBox:"0 0 32 32",content:'<path d="M16,29.2L0.9,14v-1.2l5.7-6.5h18.9l5.7,6.5V14L16,29.2z M1.9,13.6L16,27.8l14.1-14.1v-0.4L25,7.4H7l-5.1,5.8V13.6z" />\n        <rect x="1.4" y="12.6" width="29.3" height="1" />\n        <polygon points="16.5,28.7 15.5,28.3 22.4,13.1 19.4,7.1 20.3,6.7 23.5,13 "/>\n        <polygon points="15.5,28.7 8.5,13 11.7,6.7 12.6,7.1 9.6,13.1 16.5,28.3 "/>'},"#padlock":{viewBox:"0 0 41 60",content:'<path xmlns="http://www.w3.org/2000/svg" d="M19.9876457,-0.000504691359 C16.0651056,-0.0899993116 12.2768187,1.43822744 9.50245088,4.22931096 C6.72808302,7.02039447 5.20900873,10.8315059 5.29796738,\n        14.7776794 L5.29796738,27.7183406 C2.3052741,27.9405967 -0.0103843667,30.4474956 -0.0116087968,33.4664122 L-0.0116087968,54.2266708 C-0.0116087968,57.4128412 2.55582379,59.9957427 5.72291239,59.9957427 L34.25387,\n        59.9957427 C37.4209586,59.9957427 39.9883912,57.4128412 39.9883912,54.2266708 L39.9883912,33.4619122 C39.9871668,30.4429956 37.6715083,27.9360967 34.678815,27.7138406 L34.678815,14.7731793 C34.7665489,10.8275113 33.246725,\n        7.01734426 30.4721687,4.22720432 C27.6976123,1.43706438 23.9096474,-0.0903693191 19.9876457,-0.000504691359 Z M29.3811671,27.6973403 L10.5985973,27.6973403 L10.5985973,14.7731793 C10.4804278,12.2322695 11.4320954,\n        9.75890149 13.2199833,7.96024151 C15.0078712,6.16158152 17.4664264,5.20418009 19.9921188,5.32306163 C22.5178112,5.20418009 24.9763664,6.16158152 26.7642543,7.96024151 C28.5521422,9.75890149 29.5038098,12.2322695 29.3856402,\n        14.7731793 L29.3811671,27.6973403 Z" id="Path_14" fill="#000000" fill-rule="nonzero"/>'},"#star":{viewBox:"0 0 24 24",content:'<path xmlns="http://www.w3.org/2000/svg" d="M18.9394531,22.4707031 C19.1328125,22.327474 19.2491862,22.1359049 19.2885742,21.8959961 C19.3279622,21.6560872 19.2939453,21.3642578 19.1865234,21.0205078 L17.0380859,14.6181641 L22.5166016,10.6865234 C22.8102214,10.4716797 23.0143229,10.2550456 23.1289062,10.0366211 C23.2434896,9.81819661 23.2613932,9.59440104 23.1826172,9.36523438 C23.1110026,9.14322917 22.9641927,8.9749349 22.7421875,8.86035156 C22.5201823,8.74576823 22.2301432,8.69205729 21.8720703,8.69921875 L15.1367187,8.73144531 L13.0957031,2.30761719 C12.9811198,1.96386719 12.8378906,1.70426432 12.6660156,1.52880859 C12.4941406,1.35335286 12.2828776,1.265625 12.0322266,1.265625 C11.7958984,1.265625 11.5917969,1.35335286 11.4199219,1.52880859 C11.2480469,1.70426432 11.1048177,1.96386719 10.9902344,2.30761719 L8.94921875,8.73144531 L2.21386719,8.69921875 C1.84863281,8.69205729 1.55680339,8.74576823 1.33837891,8.86035156 C1.11995443,8.9749349 0.974934896,9.14322917 0.903320312,9.36523438 C0.824544271,9.59440104 0.842447917,9.81819661 0.95703125,10.0366211 C1.07161458,10.2550456 1.27571615,10.4716797 1.56933594,10.6865234 L7.04785156,14.6181641 L4.89941406,21.0205078 C4.79199219,21.3642578 4.75797526,21.6560872 4.79736328,21.8959961 C4.8367513,22.1359049 4.953125,22.327474 5.14648437,22.4707031 C5.33984375,22.6210938 5.55826823,22.6748047 5.80175781,22.6318359 C6.0452474,22.5888672 6.31380208,22.4599609 6.60742188,22.2451172 L12.0322266,18.2490234 L17.4785156,22.2451172 C17.7721354,22.4599609 18.0406901,22.5888672 18.2841797,22.6318359 C18.5276693,22.6748047 18.7460937,22.6210938 18.9394531,22.4707031 Z M17.5214844,20.6552734 L12.5263672,16.8525391 C12.3688151,16.7307943 12.2076823,16.6699219 12.0429688,16.6699219 C11.8782552,16.6699219 11.7171224,16.7307943 11.5595703,16.8525391 L6.56445312,20.6552734 C6.50716146,20.6839193 6.47135417,20.6910807 6.45703125,20.6767578 C6.44986979,20.6624349 6.44986979,20.6302083 6.45703125,20.5800781 L8.50878906,14.6289062 C8.55175781,14.5071615 8.57145182,14.3907878 8.56787109,14.2797852 C8.56429036,14.1687826 8.53385417,14.0685221 8.4765625,13.9790039 C8.41927083,13.8894857 8.33691406,13.8053385 8.22949219,13.7265625 L3.07324219,10.1386719 C3.02311198,10.110026 3.0016276,10.0849609 3.00878906,10.0634766 C3.01595052,10.0348307 3.05175781,10.0205078 3.11621094,10.0205078 L9.38964844,10.1171875 C9.59016927,10.124349 9.75309245,10.0849609 9.87841797,9.99902344 C10.0037435,9.91308594 10.0986328,9.7734375 10.1630859,9.58007812 L11.9785156,3.57519531 C11.9928385,3.51074219 12.0107422,3.47851562 12.0322266,3.47851562 C12.0680339,3.47851562 12.093099,3.51074219 12.1074219,3.57519531 L13.9228516,9.58007812 C13.9873047,9.7734375 14.082194,9.91308594 14.2075195,9.99902344 C14.3328451,10.0849609 14.4957682,10.124349 14.6962891,10.1171875 L20.9697266,10.0205078 C21.0341797,10.0205078 21.069987,10.0348307 21.0771484,10.0634766 C21.0843099,10.0849609 21.0628255,10.110026 21.0126953,10.1386719 L15.8564453,13.7265625 C15.741862,13.8053385 15.6577148,13.8894857 15.6040039,13.9790039 C15.550293,14.0685221 15.5216471,14.1687826 15.5180664,14.2797852 C15.5144857,14.3907878 15.5341797,14.5071615 15.5771484,14.6289062 L17.6181641,20.5800781 C17.632487,20.6302083 17.6360677,20.6624349 17.6289062,20.6767578 C17.6145833,20.6910807 17.578776,20.6839193 17.5214844,20.6552734 Z" id="􀋂" fill="#15181B" fill-rule="nonzero"/>'}};exports.PredefinedIcons=C;
},{}],"Fk3a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarketingClient=exports.GAZETA_PL=exports.WYBORCZA_PL=void 0;var t=require("./constants/marketing-client-constants"),e=require("./utils/utils"),n=require("./http/http"),i=require("./user-data/user-data"),a=require("./helpers/big-data-helper"),r=require("./constants/url-constants"),s=require("./marketing-client-bigdata"),o=require("./marketing-client-capping"),l=require("./marketing-client-custom-datalayer"),c=require("./marketing-client-utilization"),d=require("./marketing-client-banners"),p=require("./helpers/dom-helper"),u=require("./constants/marketing-client-attributes-constants"),h=require("./constants/big-data-object-constants"),g=require("./constants/predefined-icons-constants"),m=require("./helpers/device-information-helper"),f=require("./marketing-client-datalayer"),D=require("./constants/big-data-constants"),C=require("./constants/event-type-constants"),v=function(t,e){for(var n=0,i=e.length,a=t.length;n<i;n++,a++)t[a]=e[n];return t},b=window.wyborcza_pl||{};exports.WYBORCZA_PL=b;var y=window.gazeta_pl||{};exports.GAZETA_PL=y;var I=function(){function b(){this.bigDataObject=new s.BigData,this.dataLayerObject=new l.MarketingClientCustomDataLayer,this.utilizationObject=new c.Utilization(n.httpInstance),this.capping=new o.Capping(n.httpInstance),this.userData=new i.UserData,this.started=!1,this.placeholders=[],this.isMobile=!1,this.dmElements=[]}return b.prototype.init=function(){var e=this;setTimeout(function(){if(e.checkConsent(t.ConsentCookie))e.startIfGuidExists();else var n=setInterval(function(){e.checkOptanonAlertBoxClosedExist()&&(clearInterval(n),e.startIfGuidExists())},500)},200)},b.prototype.startIfGuidExists=function(){var t=this,e=a.BigDataHelper.getBigDataGUID();this.isMobile=m.DeviceInformationHelper.getDeviceType()===m.DeviceType.MOBILE,e?this.start():window.addEventListener("message",function(e){t.onMessageReceived(e)},!1)},b.prototype.checkOptanonAlertBoxClosedExist=function(){return!(document.cookie.indexOf(t.MarketingClientConstants.optanonAlertBoxClosed)<0)},b.prototype.checkConsent=function(t){var e=document.cookie.split("; ").find(function(t){return t.startsWith("OptanonConsent=")});if(!e)return!1;var n=decodeURIComponent(e.split("groups=")[1]);return t.every(function(t){return n.includes(t+":")})},b.prototype.start=function(){this.userData.getProfile(),this.bigDataGUID=a.BigDataHelper.getBigDataGUID(),this.pushPlaceholders(),!e.Utils.isNullOrUndefined(this.bigDataGUID)&&e.Utils.stringNotEmpty(this.bigDataGUID)||(this.bigDataGUID="NOGUID",this.userData.profile.anonimowy=!0),this.utilizationObject.setGUID(this.bigDataGUID),this.capping.setGUID(this.bigDataGUID),this.placeholders.length>0&&!this.userData.profile.disable?this.getActionsFromDomain().then(function(){console.info("Successfully downloaded actions from domain")},function(){console.warn("Failed to load actions from domain")}):this.initDefaultAdds(),f.marketingClientDataLayer.init()},b.prototype.pushPlaceholders=function(){var e=window[t.MarketingClientConstants.placeholderList].templateIds.slice(1,-1).split(",").map(function(t){return t.trim()});this.placeholders=e.map(function(t){return{element:null,templateId:t,isSwimmer:!1,isDDBox:!1}})},b.prototype.refreshPlaceholdersReferences=function(){var t=this;this.placeholders=this.placeholders.map(function(e){return t.refreshPlaceholderReference(e)})},b.prototype.refreshPlaceholderReference=function(t){var n=p.DOMHelper.querySelector("["+u.MarketingClientAttributesConstants.placeholderId+'="'+t.templateId+'"]'),i=null==n?void 0:n.getAttribute(u.MarketingClientAttributesConstants.isSwimmer),a=null==n?void 0:n.getAttribute(u.MarketingClientAttributesConstants.isDDBox),r=!1,s=!1;return e.Utils.stringNotEmpty(i)&&(r="true"===i),e.Utils.stringNotEmpty(a)&&(s="true"===a),t.element=n,t.isDDBox=s,t.isSwimmer=r,t},b.prototype.prepareDTOForMarketingProxy=function(n){var i,r=e.Utils.getURLParamsAsObject(),s=a.BigDataHelper.getBigDataOrCookieValue(h.BigDataObjectConstants.pageViewCookie,h.BigDataObjectConstants.pageViewBigData),o=a.BigDataHelper.getBigDataOrCookieValue(h.BigDataObjectConstants.visitIdCookie,h.BigDataObjectConstants.visitIdBigData),l=this.userData.profile;if(n){var c=r[t.MarketingClientConstants.overwriteProfileUrlParam];if(!e.Utils.isNullOrUndefined(c)&&(c=c,e.Utils.stringNotEmpty(c)))try{l=JSON.parse(atob(decodeURIComponent(c)))}catch(d){console.warn("URL profile is empty or cannot be converted -> cannot overwrite base profile")}window[t.MarketingClientConstants.encodeHarmonyProfileHelperKey]||(window[t.MarketingClientConstants.encodeHarmonyProfileHelperKey]=function(t){return encodeURIComponent(btoa(JSON.stringify(t)))}),window[t.MarketingClientConstants.decodeHarmonyProfileHelperKey]||(window[t.MarketingClientConstants.decodeHarmonyProfileHelperKey]=function(t){return JSON.parse(atob(decodeURIComponent(t)))})}return{guid:this.bigDataGUID,visitId:o,params:(i={},i[h.BigDataObjectConstants.artPvidParam]=s,i),profiles:l,templates:v([],this.getTemplateIdForPlaceholders())}},b.prototype.getTemplateIdForPlaceholders=function(){return this.placeholders.map(function(t){return t.templateId})},b.prototype.getActionsFromDomain=function(){var i,a=this,s=e.Utils.getURLParamsAsObject()[t.MarketingClientConstants.allowHarmonyTestingUrlParam],o=this.prepareDTOForMarketingProxy(s),l=!1;i=window.setTimeout(function(){l=!0,a.initDefaultAdds()},3e3);var c=n.httpInstance.post({url:""+(s?r.URLBase.TEST:r.URLBase.PROD)+r.RequestPaths.TEMPLATE,data:o});return c.then(function(t){if(clearTimeout(i),!e.Utils.isNullOrUndefined(t.data)){var n=t.data;a.initAdds(n)}},function(t){l||a.initDefaultAdds()}),c},b.prototype.initAdds=function(t){this.placeAdds(t.templates),this.utilizationObject.init(),this.bannersObject=new d.MarketingClientBanners(this.capping,this.utilizationObject,this.isMobile),this.bannersObject.init()},b.prototype.initDefaultAdds=function(){var t=this;this.refreshPlaceholdersReferences(),this.placeholders.forEach(function(e){e.element&&t.initDefaultAdd(e.element)})},b.prototype.initDefaultAdd=function(t){t.classList.add(u.MarketingClientAttributesConstants.initializedClass)},b.prototype.placeAdds=function(t){var e=this,n=null!==document.querySelector(u.MarketingClientAttributesConstants.videoClassSelector);this.placeholders.length===t.length&&(this.refreshPlaceholdersReferences(),this.placeholders.forEach(function(i,a){e.placeAdd(t[a],i,n)})),this.sendDisplayEventOnScroll(),this.dataLayerObject.init()},b.prototype.placeAdd=function(t,e,n){var i=t.campaignId,a=void 0===i?"":i,r=t.actionId,s=void 0===r?"":r,o=t.touchPointId,l=void 0===o?"":o,c=t.html,d=void 0===c?"":c,p=e.isSwimmer||e.isDDBox,u=!(p&&n),h={campaignId:a,actionId:s,touchPointId:l},g=h,m=null;e.element&&(d&&""!==d&&u?(this.addContent(e,d,a||"",s||"",l||""),this.addPredefinedIcon(e.element),p||(this.capping.sendCapping(g),m=this.prepareDmElement(e,!1,h))):(this.initDefaultAdd(e.element),m=this.createDmElementForPlanB(e)),m&&(this.sendBigDataEvent(D.BigDataEventConstants.onLoad,m),this.sendDisplayEventIfElementIsVisible(m,g)))},b.prototype.createDmElementForPlanB=function(t){var e;return(null===(e=t.element)||void 0===e?void 0:e.children.length)?this.prepareDmElement(t,!0,{}):null},b.prototype.sendDisplayEventIfElementIsVisible=function(t,e){p.DOMHelper.elementIsVisible(t.element)&&t.element.getBoundingClientRect().top<=window.innerHeight?(this.sendBigDataEvent(D.BigDataEventConstants.onDisplay,t),t.isPlanB||this.capping.sendCapping(e,!0)):this.dmElements.push(t)},b.prototype.sendDisplayEventOnScroll=function(){var t=this;this.dmElements.length&&window.addEventListener(C.EventType.SCROLL,function(){t.dmElements.forEach(function(e){var n=window.scrollY||0;!e.visible&&n+.7*window.innerHeight>=e.element.getBoundingClientRect().top+n&&(e.visible=!0,t.sendBigDataEvent(D.BigDataEventConstants.onDisplay,e),e.isPlanB||t.capping.sendCapping(e.dataId,!0))})})},b.prototype.addContent=function(t,e,n,i,a){t.element&&(t.element.innerHTML=e,t.element.setAttribute(u.MarketingClientAttributesConstants.campaignId,n),t.element.setAttribute(u.MarketingClientAttributesConstants.actionId,i),t.element.setAttribute(u.MarketingClientAttributesConstants.touchPointId,a),t.element.classList.add(u.MarketingClientAttributesConstants.initializedClass))},b.prototype.sendBigDataEvent=function(t,e){var n=s.BigData.prepareDataOceanAttribute(e.dataCta,e.dataId,e.dataRW);s.BigData.sendDataOceanEvent(t,n)},b.prototype.prepareDmElement=function(t,n,i){var a=t.element;return n&&(i={campaignId:"planB",actionId:"planB",touchPointId:"planB"}),{element:a,visible:!1,dataId:i,dataCta:e.Utils.prepareCtaObject(a),dataRW:e.Utils.prepareRegistrationWallObject(a),isPlanB:n}},b.prototype.addPredefinedIcon=function(t){var e=t.querySelectorAll("use"),n="",i=Array.from(e).find(function(t){return(n=t.getAttributeNS("http://www.w3.org/1999/xlink","href"))&&Object.keys(g.PredefinedIcons).includes(n)}),a=null==i?void 0:i.parentElement;n&&i&&a&&(a.setAttribute("viewBox",g.PredefinedIcons[n].viewBox),a.innerHTML=g.PredefinedIcons[n].content)},b.prototype.onMessageReceived=function(t){var e="https:"===document.location.protocol?r.SquidURLs.https:r.SquidURLs.http,n=t.origin,i=t.data;if(n&&n===e&&i&&i.includes("IFRAMELOADED"))try{JSON.parse(i),this.start()}catch(a){}},b}();exports.MarketingClient=I;var w=new I;w.init(),b.MarketingClient=w;
},{"./constants/marketing-client-constants":"bZBa","./utils/utils":"8wWJ","./http/http":"2Moq","./user-data/user-data":"G1ld","./helpers/big-data-helper":"VizB","./constants/url-constants":"kUNX","./marketing-client-bigdata":"Rp9g","./marketing-client-capping":"lTX2","./marketing-client-custom-datalayer":"Kzad","./marketing-client-utilization":"1wI1","./marketing-client-banners":"k3I2","./helpers/dom-helper":"5OYG","./constants/marketing-client-attributes-constants":"Bnvb","./constants/big-data-object-constants":"Zms+","./constants/predefined-icons-constants":"gXwl","./helpers/device-information-helper":"qlft","./marketing-client-datalayer":"S6Vu","./constants/big-data-constants":"gGic","./constants/event-type-constants":"4Lf/"}]},{},["Fk3a"], null)
//# sourceMappingURL=https://static.im-g.pl/wpc/frontend/harmony-marketing-client-295/dist/marketing-client.64b7ed.js.map
</script>

</body>
</html>
