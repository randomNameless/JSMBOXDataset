<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.b218c0a138adc3b3d2d6.html</title>
</head>
<body>

<script>
(window.wpSpeechstreamToolbar=window.wpSpeechstreamToolbar||[]).push([[2],{10:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var i={SPEECHSTREAMTOOLBAR:"SpeechstreamToolbar",SPEECH:"Speech",SPEECH_UTILS:"SpeechUtils",TRANSLATE:"Translate",DICTIONARY:"Dictionary",PICTURE_DICTIONARY:"Picture dictionary",HIGHLIGHT:"Highlight",CALCULATOR:"Calculator",VOCABULARY:"Vocabulary",STICKY_NOTES:"Sticky notes",PRONUNCIATION:"Pronunciation",SCREEN_MASKING:"Screen masking",PREDICTION:"Prediction",SPELLING:"Spelling",SPEECH_INPUT:"Speech input",MP3_MAKER:"MP3 maker",FACT_FINDER:"Fact finder",SIMPLIFY:"Simplify"},s={LOAD:"load",CLICKTOSPEAK:"clicktospeak",HOVER:"hover",CONTINUOUS_READING:"continuous reading",PLAY_BUTTON:"play",REWIND_BUTTON:"rewind",FORWARD_BUTTON:"forward",PAUSE_BUTTON:"pause",STOP_BUTTON:"stop",SPEAKBYID_BUTTON:"speak by ID",SPEAKFROMID_BUTTON:"speak from ID",SPEAKELEMENT_BUTTON:"speak Element",USER_SPEECH:"user",MATHML:"mathml",CLICK:"click",CLEAR:"clear",COLLECT:"collect",OPEN:"Open",ADD:"add",UPDATE:"update",DELETE:"delete",RETRIEVE:"retrieve",CREATE:"create",SIGNIN:"signin",SIGNEDIN:"successful signin",ARIA_MATH_ROLE_LABEL:"Aria math role label",SET_VOICE:"set voice via settings"}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(15),s=[{DEFAULT_WORD_STYLE:"color:#FFFFFF; background:#009; padding: 2px; margin: -2px; border-radius: 4px; position:relative; display: inline-block; text-indent: 0px;",DEFAULT_SENTENCE_STYLE:"color:#009; background:#FFFF00"},{DEFAULT_WORD_STYLE:"color:#000; background:#FFFF00; padding: 2px; margin: -2px; border-radius: 4px; position:relative; display: inline-block; text-indent: 0px;",DEFAULT_SENTENCE_STYLE:"color:#FFFF00; background:#000"},{DEFAULT_WORD_STYLE:"color:#6cf; background:#009; padding: 2px; margin: -2px; border-radius: 4px; position:relative; display: inline-block; text-indent: 0px;",DEFAULT_SENTENCE_STYLE:"color:#009; background:#6cf"},{DEFAULT_WORD_STYLE:"color:#cc9; background:#009; padding: 2px; margin: -2px; border-radius: 4px; position:relative; display: inline-block; text-indent: 0px;",DEFAULT_SENTENCE_STYLE:"color:#009; background:#cc9"}],a={currentVoice:"Ava",speed:40,saveSettings:!0,translateSource:"en-gb",translateDestination:"es-mx",wordHighlightStyle:s[0].DEFAULT_WORD_STYLE,sentenceHighlightStyle:s[0].DEFAULT_SENTENCE_STYLE,highlightStyleId:0,announceLinks:!1,announceLinksWord:"link",screenMaskType:"LetterBox",backgroundColor:"#000000",backgroundOpacity:50,readingLightHeight:100,readingLightColor:"#ffffff",readingLightOpacity:0,readingLightVisibility:!0,screenMaskingActive:!1,textMagnifierSize:0,clickToSpeak:!0,continuousSpeechEnabled:!0,toolbarTheme:0,pictureDictionaryLanguage:"en-gb",predictionFollowCursor:!0,settingsLoaded:!1,init:function(e){this.saveSettings=!1,this.setVoice(e.speechSettings.defaultVoice),this.setAnnounceLinksWord(e.speechSettings.announceLinksWord),this.setAnnounceLinks(e.speechSettings.announceLinks),this.setWordHighlightStyle(e.speechSettings.wordHighlightStyle||0),this.setSentenceHighlightStyle(e.speechSettings.sentenceHighlightStyle||0),this.setClickToSpeak(e.speechSettings.clickToSpeak),this.setContinuousSpeechEnabled(e.speechSettings.continuousSpeechEnabled),this.setPictureDictionaryLanguage(e.translate.translateSource),this.setTranslationSource(e.translate.translateSource),this.setTranslationDestination(e.translate.translateDestination),this.setScreenMaskType(e.screenMaskType),this.setScreenMaskSize(e.screenMaskSize),this.setScreenMaskColour(e.screenMaskColour),this.setScreenMaskOpacity(e.screenMaskOpacity),this.setBackgroundColour(e.backgroundColour),this.setBackgroundOpacity(e.backgroundOpacity),this.setReadingLightHeight(e.readingHeight),this.setReadingLightColour(e.readingColour),this.setReadingLightOpacity(e.readingOpacity),this.setReadingLightVisibility(e.readingLightVisibility),this.setToolbarTheme(e.toolbartheme),this.setTextMagnifierSize(e.textMagnifierSize),this.saveSettings=!!e.saveSettings,this.saveSettings&&(this.load(e),this.save()),this.settingsLoaded=!0},getSettingsLoaded:function(){return this.settingsLoaded},setTextMagnifierSize:function(e){this.textMagnifierSize=e,this.save()},getTextMagnifierSize:function(){return this.textMagnifierSize},setBackgroundColour:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#000000";this.backgroundColor=e,this.save()},getBackgroundColour:function(){return this.backgroundColor},setBackgroundOpacity:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50;this.backgroundOpacity=e,this.save()},getBackgroundOpacity:function(){return this.backgroundOpacity},setReadingLightHeight:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;this.readingLightHeight=e,this.save()},getReadingLightHeight:function(){return this.readingLightHeight},setReadingLightColour:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#ffffff";this.readingLightColor=e,this.save()},getReadingLightColour:function(){return this.readingLightColor},setReadingLightOpacity:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.readingLightOpacity=e,this.save()},getReadingLightOpacity:function(){return this.readingLightOpacity},setReadingLightVisibility:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.readingLightVisibility=e,this.save()},getReadingLightVisibility:function(){return this.readingLightVisibility},setScreenMaskOpacity:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.25;1<e&&(e/=100),this.screenMaskOpacity=e,this.save()},getScreenMaskOpacity:function(){return this.screenMaskOpacity},setScreenMaskColour:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"rgb(17, 17, 17)";this.screenMaskColour=e,this.save()},getScreenMaskColour:function(){return this.screenMaskColour},setScreenMaskSize:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"800px";this.screenMaskSize=e+"px",this.save()},getScreenMaskSize:function(){return this.screenMaskSize},setScreenMaskType:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"LetterBox";"LetterBox"!=e&&"Ruler"!=e&&(e="LetterBox"),this.screenMaskType=e,this.save()},getScreenMaskType:function(){return this.screenMaskType},setToolbarTheme:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.toolbarTheme=e,this.save()},getToolbarTheme:function(){return this.toolbarTheme},setPictureDictionaryLanguage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en-gb";void 0===i.default[e]&&(e="en-gb"),this.pictureDictionaryLanguage=e,this.save()},getPictureDictionaryLanguage:function(){return i.default[this.pictureDictionaryLanguage]},setPredictionFollowCursor:function(){this.predictionFollowCursor=!this.predictionFollowCursor,this.save()},getPredictionFollowCursor:function(){return this.predictionFollowCursor},setTranslationSource:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en-gb";void 0===i.default[e]&&(e="en-gb"),this.translateSource=e,this.save()},getTranslationSource:function(){return i.default[this.translateSource]},setTranslationDestination:function(e){void 0===i.default[e]&&(e="es-mx"),this.translateDestination=e,this.save()},getTranslationDestination:function(){return i.default[this.translateDestination]},getTranslationList:function(){return i.default},setAnnounceLinksWord:function(e){this.announceLinksWord=e,this.save()},getAnnounceLinksWord:function(){return this.announceLinksWord},setAnnounceLinks:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.announceLinks=e,this.save()},getAnnounceLinks:function(){return this.announceLinks},setSentenceHighlightStyle:function(e){this.sentenceHighlightStyle="number"==typeof e?s[e].DEFAULT_SENTENCE_STYLE:e,this.highlightStyleId=e,this.save()},getSentenceHighlightStyle:function(){return this.sentenceHighlightStyle||s[0].DEFAULT_SENTENCE_STYLE},setWordHighlightStyle:function(e){this.wordHighlightStyle="number"==typeof e?s[e].DEFAULT_WORD_STYLE:e,this.highlightStyleId=e,this.save()},getWordHighlightStyle:function(){return this.wordHighlightStyle||s[0].DEFAULT_WORD_STYLE},getHighlightId:function(){return this.highlightStyleId},setHighlightId:function(e){this.setSentenceHighlightStyle(e),this.setWordHighlightStyle(e)},setVoiceSpeed:function(e){this.speed=e,this.save()},getVoiceSpeed:function(){return this.speed},setVoice:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Ava";this.currentVoice=e,this.save()},getVoice:function(){return this.currentVoice},setClickToSpeak:function(e){this.clickToSpeak=e,this.save()},getClickToSpeak:function(){return this.clickToSpeak},setContinuousSpeechEnabled:function(e){this.continuousSpeechEnabled=e,this.save()},getContinuousSpeechEnabled:function(){return this.continuousSpeechEnabled},save:function(){try{this.saveSettings&&"undefined"!=typeof localStorage&&localStorage.setItem("API_SETTINGS_V2",JSON.stringify(this))}catch(e){console.log("local Storage is not available")}},load:function(e){var t=this;try{var n;if("undefined"!=typeof localStorage){var a=localStorage.getItem("API_SETTINGS_V2"),o=JSON.parse(a);for(var r in o)switch(r){case"currentVoice":if(void 0!==o[r]&&e.toolbarButtons.includes("translate"))!!(0<document.getElementsByClassName("thpdfviewer").length)||(this[r]=o[r]);break;case"announceLinksWord":case"speed":void 0!==o[r]&&(this[r]=o[r]);break;case"highlightStyleId":"number"==typeof o[r]&&(this[r]=o[r]);break;case"backgroundOpacity":case"readingLightHeight":void 0!==o[r]&&(this[r]=o[r]);break;case"readingLightOpacity":"stnumberring"==typeof o[r]&&(this[r]=o[r]);break;case"textMagnifierSize":case"toolbarTheme":case"announceLinks":case"saveSettings":case"readingLightVisibility":case"screenMaskingActive":case"clickToSpeak":void 0!==o[r]&&(this[r]=o[r]);break;case"continuousSpeechEnabled":break;case"translateSource":if(void 0!==o[r])!!(0<document.getElementsByClassName("thpdfviewer").length)||(this[r]=o[r]);break;case"translateDestination":if(void 0!==o[r])!!(0<document.getElementsByClassName("thpdfviewer").length)||(this[r]=o[r]);break;case"pictureDictionaryLanguage":if(void 0!==o[r])if(e.toolbarButtons.includes("translate")){var c=o[r];void 0===i.default[c]&&(c="en-gb"),this[r]=c}else this[r];break;case"predictionFollowCursor":void 0!==o[r]&&e.toolbarButtons.includes("prediction")&&(this[r]=o[r]);case"backgroundColor":void 0!==o[r]&&(this[r]=o[r]);break;case"readingLightColor":void 0!==o[r]&&null!=o[r].match(/#[a-z|0-9]{6}$/i)&&(this[r]=o[r]);break;case"wordHighlightStyle":for(var l=0;l<s.length;l++)if(o[r]==s[l].DEFAULT_WORD_STYLE){this[r]=o[r];break}break;case"sentenceHighlightStyle":for(var h=0;h<s.length;h++)if(o[r]==s[h].DEFAULT_SENTENCE_STYLE){this[r]=o[r];break}}}if(null!=e&&null!==(n=e.translate)&&void 0!==n&&n.removeList){var u=e.translate.removeList,g=function(n){Object.keys(i.default).forEach((function(s){s==u[n]&&s!=e.translate.translateDestination&&s!=t.translateDestination&&delete i.default[s]}))};for(var d in e.translate.removeList)g(d)}}catch(e){console.log("local Storage is not available")}},TurnOffSave:function(){try{this.saveSettings=!1,localStorage.removeItem("API_SETTINGS_V2")}catch(e){console.log("local Storage is not available")}},TurnOnSave:function(){this.saveSettings=!0},filterId:function(e){var t,n,i,s=e.length;if(100<s)return this.hex_md5(e);for(t=0;t<s;t++)!(47<(n=e.charCodeAt(t))&&58>n||63<n&&92>n||94<n&&124>n)&&(126<n||92==n||47==n||58==n||59==n||42==n||63==n||34==n||60==n||62==n||124==n||35==n||37==n||43==n||38==n||94==n||39==n||91==n||93==n||64==n||33==n||36==n||40==n||41==n||44==n||61==n)&&(i="^"+n.toString(16),s=(e=e.substr(0,t)+i+e.substr(t+1)).length,t+=i.length-1);return e},hex_md5:function(e){return this.binl2hex(this.core_md5(this.str2binl(e),e.length*this.chrsz))},core_md5:function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,s=-1732584194,a=271733878,o=0;o<e.length;o+=16){var r=n,c=i,l=s,h=a;n=this.md5_ff(n,i,s,a,e[o+0],7,-680876936),a=this.md5_ff(a,n,i,s,e[o+1],12,-389564586),s=this.md5_ff(s,a,n,i,e[o+2],17,606105819),i=this.md5_ff(i,s,a,n,e[o+3],22,-1044525330),n=this.md5_ff(n,i,s,a,e[o+4],7,-176418897),a=this.md5_ff(a,n,i,s,e[o+5],12,1200080426),s=this.md5_ff(s,a,n,i,e[o+6],17,-1473231341),i=this.md5_ff(i,s,a,n,e[o+7],22,-45705983),n=this.md5_ff(n,i,s,a,e[o+8],7,1770035416),a=this.md5_ff(a,n,i,s,e[o+9],12,-1958414417),s=this.md5_ff(s,a,n,i,e[o+10],17,-42063),i=this.md5_ff(i,s,a,n,e[o+11],22,-1990404162),n=this.md5_ff(n,i,s,a,e[o+12],7,1804603682),a=this.md5_ff(a,n,i,s,e[o+13],12,-40341101),s=this.md5_ff(s,a,n,i,e[o+14],17,-1502002290),i=this.md5_ff(i,s,a,n,e[o+15],22,1236535329),n=this.md5_gg(n,i,s,a,e[o+1],5,-165796510),a=this.md5_gg(a,n,i,s,e[o+6],9,-1069501632),s=this.md5_gg(s,a,n,i,e[o+11],14,643717713),i=this.md5_gg(i,s,a,n,e[o+0],20,-373897302),n=this.md5_gg(n,i,s,a,e[o+5],5,-701558691),a=this.md5_gg(a,n,i,s,e[o+10],9,38016083),s=this.md5_gg(s,a,n,i,e[o+15],14,-660478335),i=this.md5_gg(i,s,a,n,e[o+4],20,-405537848),n=this.md5_gg(n,i,s,a,e[o+9],5,568446438),a=this.md5_gg(a,n,i,s,e[o+14],9,-1019803690),s=this.md5_gg(s,a,n,i,e[o+3],14,-187363961),i=this.md5_gg(i,s,a,n,e[o+8],20,1163531501),n=this.md5_gg(n,i,s,a,e[o+13],5,-1444681467),a=this.md5_gg(a,n,i,s,e[o+2],9,-51403784),s=this.md5_gg(s,a,n,i,e[o+7],14,1735328473),i=this.md5_gg(i,s,a,n,e[o+12],20,-1926607734),n=this.md5_hh(n,i,s,a,e[o+5],4,-378558),a=this.md5_hh(a,n,i,s,e[o+8],11,-2022574463),s=this.md5_hh(s,a,n,i,e[o+11],16,1839030562),i=this.md5_hh(i,s,a,n,e[o+14],23,-35309556),n=this.md5_hh(n,i,s,a,e[o+1],4,-1530992060),a=this.md5_hh(a,n,i,s,e[o+4],11,1272893353),s=this.md5_hh(s,a,n,i,e[o+7],16,-155497632),i=this.md5_hh(i,s,a,n,e[o+10],23,-1094730640),n=this.md5_hh(n,i,s,a,e[o+13],4,681279174),a=this.md5_hh(a,n,i,s,e[o+0],11,-358537222),s=this.md5_hh(s,a,n,i,e[o+3],16,-722521979),i=this.md5_hh(i,s,a,n,e[o+6],23,76029189),n=this.md5_hh(n,i,s,a,e[o+9],4,-640364487),a=this.md5_hh(a,n,i,s,e[o+12],11,-421815835),s=this.md5_hh(s,a,n,i,e[o+15],16,530742520),i=this.md5_hh(i,s,a,n,e[o+2],23,-995338651),n=this.md5_ii(n,i,s,a,e[o+0],6,-198630844),a=this.md5_ii(a,n,i,s,e[o+7],10,1126891415),s=this.md5_ii(s,a,n,i,e[o+14],15,-1416354905),i=this.md5_ii(i,s,a,n,e[o+5],21,-57434055),n=this.md5_ii(n,i,s,a,e[o+12],6,1700485571),a=this.md5_ii(a,n,i,s,e[o+3],10,-1894986606),s=this.md5_ii(s,a,n,i,e[o+10],15,-1051523),i=this.md5_ii(i,s,a,n,e[o+1],21,-2054922799),n=this.md5_ii(n,i,s,a,e[o+8],6,1873313359),a=this.md5_ii(a,n,i,s,e[o+15],10,-30611744),s=this.md5_ii(s,a,n,i,e[o+6],15,-1560198380),i=this.md5_ii(i,s,a,n,e[o+13],21,1309151649),n=this.md5_ii(n,i,s,a,e[o+4],6,-145523070),a=this.md5_ii(a,n,i,s,e[o+11],10,-1120210379),s=this.md5_ii(s,a,n,i,e[o+2],15,718787259),i=this.md5_ii(i,s,a,n,e[o+9],21,-343485551),n=this.safe_add(n,r),i=this.safe_add(i,c),s=this.safe_add(s,l),a=this.safe_add(a,h)}return[n,i,s,a]},md5_cmn:function(e,t,n,i,s,a){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(i,a)),s),n)},md5_ff:function(e,t,n,i,s,a,o){return this.md5_cmn(t&n|~t&i,e,t,s,a,o)},md5_gg:function(e,t,n,i,s,a,o){return this.md5_cmn(t&i|n&~i,e,t,s,a,o)},md5_hh:function(e,t,n,i,s,a,o){return this.md5_cmn(t^n^i,e,t,s,a,o)},md5_ii:function(e,t,n,i,s,a,o){return this.md5_cmn(n^(t|~i),e,t,s,a,o)},safe_add:function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},bit_rol:function(e,t){return e<<t|e>>>32-t},str2binl:function(e){for(var t=[],n=(1<<this.chrsz)-1,i=0;i<e.length*this.chrsz;i+=this.chrsz)t[i>>5]|=(e.charCodeAt(i/this.chrsz)&n)<<i%32;return t},binl2hex:function(e){for(var t=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(15&e[i>>2]>>i%4*8+4)+t.charAt(15&e[i>>2]>>i%4*8);return n},$rw_hash:function(e){return this.hex_md5(e)}}},167:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="th_toolbar"},168:function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}n.d(t,"a",(function(){return o}));var o=function(){return function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}),[{key:"rw_decodeFromStorage",value:function(e){var t,n,i,s=decodeURIComponent(e),a="",o=s.length;for(t=0;t<o;t++){var r=s.charAt(t);if("/"==r){if(t<o-1)switch(s.charAt(t+1)){case"/":a+="/",t++;break;case"x":t<o-3&&(n=s.substr(t+2,2),i=this.h2d(n),a+=String.fromCharCode(i),t+=3);break;case"u":t<o-5&&(n=s.substr(t+2,4),i=this.h2d(n),a+=String.fromCharCode(i),t+=5)}}else"+"==r?a+=" ":10==r||13==r||("%"==r?t<o-2?"%2f"==(n=s.substr(t,3))?(a+="/",t+=2):"%2a"==n?(a+=":",t-=2):"%60"==n?(a+="`",t-=2):t<o-9?"%26quot%3b"==(n=s.substr(t,10))?(a+='"',t+=9):t<o-6?"%26quot"==(n=s.substr(t,7))?(a+='"',t+=6):a+=r:a+=r:a+=r:a+=r:"&"==r?t<o-5&&("&#x27"==(n=s.substr(t,6))?a+="'":"&quot;"==n&&(a+='"'),a+=String.fromCharCode(i),t+=5):a+=s.charAt(t))}return a}},{key:"h2d",value:function(e){return parseInt(e,16)}},{key:"d2h",value:function(e){return e.toString(16)}}])}()},3:function(e,t,n){"use strict";n.r(t),n.d(t,"SpeechType",(function(){return N})),n.d(t,"Api",(function(){return U}));var i=n(340),s=n(251),a=n(167),o=n(16),r=n(7);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?c(Object(t),!0).forEach((function(n){h(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,n,i,s,a,o){try{var r=e[a](o),c=r.value}catch(o){return void n(o)}r.done?t(c):Promise.resolve(c).then(i,s)}function d(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var p=function(){return function(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.settings=t}),[{key:"loadAPIs",value:(e=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){function a(e){g(r,i,s,a,o,"next",e)}function o(e){g(r,i,s,a,o,"throw",e)}var r=e.apply(t,n);a(void 0)}))}}((function*(e){var t;if(null!=e&&(this.clearSpeechstreamData=e.clearSpeechstreamData,this.isToolbarActive=e.isToolbarActive,this.toggleBar=e.toggleBar,this.toolbarFeatures=e.toolbarFeatures,this.positionData=e.positionData,this.uninstall=e.uninstall),null!=e&&void 0!==(null==e?void 0:e.settingsHandler)&&(this.toggleSettings=function(){e.settingsHandler({title:"settings",icon:"settings",response:{},getHoverState:o.a.getClickToSpeak})}),!0===(null===(t=this.settings.publicFunctions)||void 0===t?void 0:t.active)){var i,s,a,r,c;if(null!==(i=this.settings.publicFunctions)&&void 0!==i&&i.speech){var h=yield n.e(195).then(n.bind(null,380));h.speechTools.init(),this.speechTools=h.speechTools}if(null!==(s=this.settings.publicFunctions)&&void 0!==s&&s.text){var g=yield n.e(198).then(n.bind(null,381));g.textTools.init(e.dictionaryHandler,e.pictureDictionaryHandler,e.transHandler,e.predictionHandler),this.textTools=g.textTools}if(null!==(a=this.settings.publicFunctions)&&void 0!==a&&a.study){var d=yield n.e(197).then(n.bind(null,382));d.studyTools.init(e.collectHandler),this.studyTools=d.studyTools}if(null!==(r=this.settings.publicFunctions)&&void 0!==r&&r.dom){var f=yield n.e(185).then(n.bind(null,383));f.domControlTools.init(),this.domControlTools=f.domControlTools}if(null!==(c=this.settings.publicFunctions)&&void 0!==c&&c.math){var p=yield n.e(189).then(n.bind(null,384));p.mathTools.init(),this.mathTools=p.mathTools}if(null!=this.settings.windowsScope)if("object"===u(this.settings.windowsScope)){var v=l(l({},this),this.settings.windowsScope.speechstream);this.settings.windowsScope.speechstream=l(l({},this),v)}else{var y=window[this.settings.windowsScope];window[this.settings.windowsScope]=l(l({},this),y)}console.log("Public functions loaded")}})),function(){return e.apply(this,arguments)})},{key:"disableSaveSettings",value:function(e){e?(o.a.TurnOffSave(),r.a.TurnOffSave()):(o.a.TurnOnSave(),r.a.TurnOnSave())}}]);var e}(),v=n(15);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}function S(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}var m="First_use_only",k="Always_on",T=function(){return function(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}),[{key:"launch",value:function(e,t){var n=this;if(!(t.isMobile||this.isSafari||t.audioalert!=k&&t.audioalert!=m)){if(t.audioalert==m&&this.hasItRun())return;var i=setInterval((function(){o.a.getSettingsLoaded()&&(null!=t.audioalertcusttext&&""!=t.audioalertcusttext?e.speakWithOutHighlight([t.audioalertcusttext]):e.speakWithOutHighlight([t.locale.audioalert]),n.saveFirstRun(),clearInterval(i))}),100)}}},{key:"saveFirstRun",value:function(){"undefined"!=typeof localStorage&&localStorage.setItem("audioalert",JSON.stringify({audioalert:!0}))}},{key:"hasItRun",value:function(){if("undefined"!=typeof localStorage){var e=localStorage.getItem("audioalert");return null!=e&&JSON.parse(e).audioalert}}}])}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,n,i,s,a,o){try{var r=e[a](o),c=r.value}catch(o){return void n(o)}r.done?t(c):Promise.resolve(c).then(i,s)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){function a(e){L(r,i,s,a,o,"next",e)}function o(e){L(r,i,s,a,o,"throw",e)}var r=e.apply(t,n);a(void 0)}))}}function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}function R(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=O(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}function w(e,t,n){return t=I(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],I(e).constructor):t.apply(e,n))}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(C(this,t),(e=w(this,t)).server=i.speechSettings.pronunciationDns||"pronunciation.speechstream.net",e._custId=i.speechSettings.custId,e._username=i.speechSettings.username,e._bookId=i.speechSettings.bookId,e._pageId=i.speechSettings.pageId,e._data=[],e.paths=[],e.gobalResponse,e.pageProns=[],e.docket=i.toolbarConfig.docked,e.contractId=i.contractId||null,e.locale=null,n.e(216).then(n.t.bind(null,385,3)).then((function(t){e.gobalResponse=t.default,e.setData(t.default)})),null!=e.contractId){var s=U.getTranslateSource().spokenLang||null;null!=s&&(e.locale=-1==["en-au","de-de","nl-nl","nl-de","no-no","sv-se","sv","en-gb","en-us"].indexOf(s)?null:s,"en-au"==e.locale&&(e.locale="au"),"de-de"==e.locale&&(e.locale="de"),("nl-de"==e.locale||"nl-nl"==e.locale)&&(e.locale="nl"),"no-no"==e.locale&&(e.locale="no"),("sv-se"==e.locale||"sv"==e.locale)&&(e.locale="se"),("en-gb"==e.locale||"en-ie"==e.locale||"en-sc"==e.locale||"en-gb-wls"==e.locale||"en-in"==e.locale)&&(e.locale="uk"),"en-us"==e.locale&&(e.locale="us")),e.setPathsBA()}else e.setPathsSS();return e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(t,e),function(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"setPathsBA",value:function(){this.paths.push("js/prons/".concat(this.contractId,".json")),null!=this.locale&&this.paths.push("js/prons/".concat(this.locale,".json"))}},{key:"setPathsSS",value:function(){this.paths.push("".concat(this._username,"/").concat(this._custId,"/").concat(this._bookId,"/*/prons.json")),this.paths.push("".concat(this._username,"/").concat(this._custId,"/").concat(this._bookId,"/").concat(this._pageId,"/prons.json"));var e=document.querySelectorAll('[texthelpcmd^="pageid"]');if(null!=e)for(var t,n=0;n<e.length;n++)if(null!=(t=e[n].attributes.texthelpcmd.value)){var i=t.indexOf(":");-1<i&&this.paths.push("".concat(this._username,"/").concat(this._custId,"/").concat(this._bookId,"/").concat(t.substr(i+1),"/prons.json"))}}},{key:"changePageDynamically",value:function(){var e=this;this.paths=[],this.setPathsSS();var t,n=[],i=[],s=[],a=E(this.pageProns);try{var o=function(){var a,o=t.value,r=!1,c=E(e.paths);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(Object.values(o).includes(l)){r=!0,i.push(o);break}}}catch(e){c.e(e)}finally{c.f()}r?(s.push(o),e.paths=e.paths.filter((function(e){return e!=o.path}))):n.push(o)};for(a.s();!(t=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}return n}},{key:"getPronunciations",value:function(){return this._data}},{key:"setData",value:function(e){for(var t=0;t<e.length;t++)e[t].saythis=this.rw_decodeFromStorage(e[t].saythis),e[t].likethis=this.rw_decodeFromStorage(e[t].likethis),this._data.push(e[t])}},{key:"deleteFromData",value:function(e){this._data=this._data.filter((function(t){return t!=e}))}},{key:"get",value:function(){var e=A((function*(e){var t=this,n=this.paths;yield Promise.all(n.map(function(){var e=A((function*(e){var n="https://"+t.server+"/"+e;return t.send(n).then((function(n){t.pageProns.push({path:e,data:n}),t.setData(n)})).catch((function(e){}))}));return function(t){return e.apply(this,arguments)}}()))}));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e){return fetch(e,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"},mode:"cors",cache:"no-cache",credentials:"same-origin"}).then((function(e){return e.json()})).catch((function(e){}))}},{key:"custId",get:function(){return this._custId},set:function(e){this._custId=e}},{key:"username",get:function(){return this._username},set:function(e){this._username=e}},{key:"bookId",get:function(){return this._bookId},set:function(e){this._bookId=e}},{key:"pageId",get:function(){return this._pageId},set:function(e){this._pageId=e}}])}(n(168).a),M=n(10),F=n(0);function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw a}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function H(e,t,n,i,s,a,o){try{var r=e[a](o),c=r.value}catch(o){return void n(o)}r.done?t(c):Promise.resolve(c).then(i,s)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){function a(e){H(r,i,s,a,o,"next",e)}function o(e){H(r,i,s,a,o,"throw",e)}var r=e.apply(t,n);a(void 0)}))}}var N=Object.freeze({TOOLBAR:"toolbar",DIALOG:"dialog"}),U={user:"",speechDns:"",speeches:Object.fromEntries(Object.keys(N).map((function(e){return[[N[e]],{speech:null,htmlparser:null}]}))),highlightsApi:null,notesApi:null,screenMask:null,textMagnifier:null,translateApi:null,noahTextApi:null,simplify:null,globalFunctions:null,apiObject:null,pdfRedirect:null,pronunciationApi:null,pronunciationEditApi:null,locale:"uk",audioAlert:new T,playAudioAlertOnLoad:!1,translateFinishedCallback:null,updateLocale:null,analytics:null,initialized:!1,isBA:!0,speechRecognitionApi:null,init:function(e){var t=this,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],s=2<arguments.length?arguments[2]:void 0;if(!this.initialized){this.initialized=!0,this.config=e,this.apiObject=s;var o=this.config.toolbarButtons;if(this.config.isPAC){var r;this.loadExtension();var c=setInterval((function(){if(U.extension){try{r=U.extension.getAnalyticsId()}catch(e){}r&&(clearInterval(c),void 0!==t.config.disable_ga&&!t.config.disable_ga&&t.config.trackingCode&&t.isBA&&t.config.isPAC&&t.loadBrowsealoudPACAnalytics(r))}}),100)}void 0!==this.config.disable_ga&&!this.config.disable_ga&&this.config.trackingCode&&this.isBA&&!this.config.isPAC?this.loadBrowsealoudAnalytics(this.config.trackingCode):!this.isBA&&!this.config.disable_ga&&this.loadSpeechstreamAnalytics(this.config.trackingCode),(o.includes("translate")&&this.config.translate.translatePage||o.includes("highlights")||o.includes("stickynotes"))&&(this.config.htmlParser.tagPage=!0,this.config.htmlParser.tagClass="thsentence"),this.config.htmlParser.toolbarID=a.a,Object.keys(this.speeches).forEach((function(e){var n=!1;"dialog"==e&&(n=t.config.htmlParser.tagPage,t.config.htmlParser.tagPage=!1),t.speeches[e].htmlparser=new i.a(t.config.htmlParser),"dialog"==e&&n&&(t.config.htmlParser.tagPage=!0),t.speeches[e].htmlparser.hoverSpeak.setCallback((function(){t.speeches[e].speech.stop(),t.speeches[e].speech.play()})),t.speeches[e].htmlparser.clickToSpeak.setCallback((function(){t.speeches[e].speech.stop(),t.speeches[e].speech.play()}))})),this.speechDns=e.speechDns||"speech.speechstream.net",this.user=e.user||"",this.setupConfig(),void 0!==e.langId&&this.getLocale(e.langId),n||this.toolbarLoaded()}},uninstall:function(){var e=this;Object.keys(this.speeches).forEach((function(t){e.speeches[t].speech&&e.speeches[t].speech.stop(),e.speeches[t].htmlparser&&e.speeches[t].htmlparser.unload()})),this.speeches=null,this.prediction&&this.unloadPrediction(),this.speechRecognitionApi&&this.unLoadSpeechRecognition(),this.removeEventsFromWindow(),this.removeUI(),F.a.uninstallEventBus()},removeEventsFromWindow:function(){var e=new CustomEvent("uninstallToolbar");window.dispatchEvent(e)},removeUI:function(){var e=document.getElementById("__bs_entryDiv");e&&e.parentNode.removeChild(e);var t=document.querySelector("[data-speechstream-config]");t&&t.parentNode.removeChild(t);for(var n=document.getElementsByTagName("script"),i=null,s=n.length;s--;)n[s].src&&-1!==n[s].src.indexOf("toolbar.speechstream.net")&&(i=n[s]).parentNode.removeChild(i)},loadBrowsealoudAnalytics:function(e){var t=this;return V((function*(){var i=yield n.e(182).then(n.bind(null,346));t.analytics=new i.BrowsealoudAnalytics(e)}))()},loadBrowsealoudPACAnalytics:function(e){var t=this;return V((function*(){var i=yield n.e(183).then(n.bind(null,347));t.analytics=new i.BrowsealoudPACAnalytics(e)}))()},loadSpeechstreamAnalytics:function(e){var t=this;return V((function*(){var i=yield n.e(196).then(n.bind(null,348));t.analytics=new i.SpeechstreamAnalytics(t.config,e)}))()},loadSpeechFunc:function(e){var t=this;try{return Object.keys(this.speeches).forEach((function(n){var i;null==t.speeches[n].speech&&t.loadSpeechModule(n),e.includes("prons")||null!==(i=t.config.speechSettings)&&void 0!==i&&i.disablePronunciations||t.loadPronunciations(n)})),!0}catch(e){return!1}},toolbarLoaded:function(){var e=this;return V((function*(){o.a.init(e.config);for(var t=e.config.toolbarButtons,n=!1,i=0;i<t.length;i++)switch(t[i]){case"play":case"hover":case"clicktospeak":case"stop":case"pause":n||(n=e.loadSpeechFunc(t));break;case"translate":yield e.loadTranslate(),e.translateApi.init().then((function(){var t,n,i=(null===(t=o.a.getTranslationDestination())||void 0===t?void 0:t.spokenLang)||(null===(n=o.a.getTranslationDestination())||void 0===n?void 0:n.glang);"function"==typeof e.translateFinishedCallback&&e.setTransFinishedCallback(e.translateFinishedCallback),e.config.translate.translatePage&&i!=e.config.translate.translateDestination&&U.transPage()})),n||(n=e.loadSpeechFunc(t));break;case"dictionary":e.loadDictionary(),n||(n=e.loadSpeechFunc(t));break;case"picturedict":e.loadPictureDictionary(),n||(n=e.loadSpeechFunc(t));break;case"mp3":e.loadMp3();break;case"screenmask":e.screenMask||e.loadScreenMask();break;case"textticker":break;case"simplify":e.loadSimplify();break;case"stickynotes":e.loadNotes();break;case"highlights":yield e.loadHighlights();break;case"pdf":e.loadPDF();break;case"prons":e.loadPronunciationsEdit();break;case"prediction":e.loadPrediction(),n||(n=e.loadSpeechFunc(t));break;case"speechrecognition":e.loadSpeechRecognition();break;case"noahtext":e.loadNoahText()}yield e.globalFunctionsCall(),F.a.publish("toolbarLoaded",e.globalFunctions)}))()},globalFunctionsCall:function(){var e=this;return V((function*(){if(void 0!==e.config.globalFunctions&&(e.globalFunctions=new p(e.config.globalFunctions),e.apiObject.uninstall=e.uninstall.bind(e),yield e.globalFunctions.loadAPIs(e.apiObject)),void 0!==e.config.disable_cookies&&e.config.disable_cookies)var t=setInterval((function(){e.globalFunctions&&(e.globalFunctions.disableSaveSettings(!0),clearInterval(t))}),100)}))()},setupConfig:function(){var e=this;return V((function*(){var t=e.getVoiceFromSpeechRules(),n=v.default;if(void 0===e.config.speechSettings&&(void 0===e.config.speechSettings.bookId&&(e.config.speechSettings.bookId=o.a.filterId(e.config.speechSettings.bookId)),void 0===e.config.speechSettings.pageId&&(e.config.speechSettings.pageId=o.a.filterId(e.config.speechSettings.pageId))),null!=t)e.config.speechSettings.defaultVoice=void 0===t.voice?t.defaultVoice:t.voice;else if(null!==e.config.langId&&""!==e.config.langId)for(var i in n)if(n[i].id==e.config.langId){e.config.speechSettings.defaultVoice=void 0===n[i].voice?n[i].defaultVoice:n[i].voice,e.config.translate.translateSource=i,e.config.translate.translateDestination=i;break}if(null!=e.config.speechSettings.usePageLangTag&&void 0!==e.config.speechSettings.usePageLangTag&&e.config.speechSettings.usePageLangTag){var s=e.speeches[N.TOOLBAR].htmlparser.getDocumentLanguage();if(null!==s&&""!==s)if(null==n[s]||void 0===n[s]){for(var a in n)if(n[a].glang==s&&n[a].spokenLang){e.config.speechSettings.defaultVoice=void 0===n[a].voice?n[a].defaultVoice:n[a].voice;break}}else e.config.speechSettings.defaultVoice=void 0===n[s].voice?n[s].defaultVoice:n[s].voice,e.config.speechSettings.defaultVoice=void 0===s.voice?n[s].defaultVoice:n[s].voice}}))()},getLocale:function(e){for(var t in this.locale=null,v.default)if(v.default[t].id==e){var n=v.default[t].spokenLang.split("-");if(2==n.length){this.locale="gb"==n[1]?"uk":n[1],this.config.lang=this.locale;break}this.locale=n[0],this.config.lang=this.locale;break}},translateStatusUpdate:{},transPDF:function(){for(var e,t,n,i=this,s=window.location.hash.replace("#","").split("&"),a=0;a<s.length;a++)try{-1==s[a].indexOf("langidsrc=")?-1==s[a].indexOf("locale=")?-1!=s[a].indexOf("langiddest=")&&(n=s[a].split("=")[1]):t=s[a].split("=")[1]:e=s[a].split("=")[1]}catch(e){}"undefined"==typeof BrowseAloud&&(window.BrowseAloud={}),e=v.default[e],n=v.default[n],null!=e&&null!=t&&null!=n?(BrowseAloud.translate={sourceLangObj:e,targetLangObj:n,sourceLang:e.spokenLang||e.glang,targetLang:n.spokenLang||n.glang},this.config.translate.translateSource=e.spokenLang||e.glang,this.config.translate.translateDestination=n.spokenLang||n.glang,this.config.locale.id!=n.id&&"function"==typeof this.updateLocale&&this.updateLocale(n.id)):BrowseAloud.translate={sourceLangObj:this.getTranslateSource(),targetLangObj:this.getTranslateDestination(),sourceLang:this.getTranslateSource().spokenLang||this.getTranslateSource().glang,targetLang:this.getTranslateDestination().spokenLang||this.getTranslateDestination().glang},BrowseAloud.toolbar={translate:{setState:function(e){i.translateStatusUpdate(!("waiting"!==e))}},state:{waiting:"waiting",on:"on",off:"off"},settings:{settingsActive:!1,isHelpOpen:!1}},BrowseAloud.pdf={settings:{isPromptOpen:!1}},BrowseAloud.util={getPageLanguage:function(){return BrowseAloud.translate.targetLangObj},startsWith:function(e,t){return!(e.charAt(0)!=t)},endsWith:function(e,t){return!(e.charAt(e.length-1)!=t)}};var o=setInterval((function(){i.config.translate.translatePage?i.translateApi&&(i.transPage(),clearInterval(o)):clearInterval(o)}),1e3)},_registerNotesCallback:function(){this.notesApi.setCallbackFunctions(this.callbackOpen,this.callbackClose)},setNotesCallback:function(e,t){this.callbackOpen=e,this.callbackClose=t},loadPDF:function(){var e=this;return V((function*(){var t=yield n.e(192).then(n.bind(null,349));e.pdfRedirect=new t.PDFRedirect(e.config.pdf||{})}))()},loadSimplify:function(){var e=this;Promise.all([n.e(4),n.e(140),n.e(194)]).then(n.bind(null,350)).then((function(t){e.simplify=new t.SimplifyPage(e.config.simplifySettings)}))},loadScreenMask:function(){var e=this;return V((function*(){var t=yield n.e(142).then(n.bind(null,426));e.screenMask=new t.ScreenMask,e.screenMask.setBackgroundColour(o.a.getBackgroundColour()),e.screenMask.setBackgroundOpacity(o.a.getBackgroundOpacity()),e.screenMask.setReadingLightHeight(o.a.getReadingLightHeight()),e.screenMask.setReadingLightColour(o.a.getReadingLightColour()),e.screenMask.setReadingLightOpacity(o.a.getReadingLightOpacity()),e.screenMask.setReadingLightVisibility(o.a.getReadingLightVisibility());try{var i=parseInt(document.body.style.top)||0;0<i&&e.screenMask.setDocumentBodyTop(i)}catch(e){}}))()},loadSpeechModule:function(e){var t=this;return V((function*(){t.config.speechSettings.ignoreToolbarId=a.a,t.speeches[e].speech=new s.a(t.config.speechSettings,t.speeches[e].htmlparser,t.config.defaultTranslateVoices,e);var i=setInterval((function(){o.a.getSettingsLoaded()&&(t.speeches[e].speech.setVoice(o.a.getVoice()),t.speeches[e].speech.setVoiceSpeed(o.a.getVoiceSpeed()),t.speeches[e].htmlparser.setWordHighlightStyle(o.a.getWordHighlightStyle(0)),t.speeches[e].htmlparser.setSentenceHighlightStyle(o.a.getSentenceHighlightStyle(0)),t.speeches[e].speech.setContinuousSpeechEnabled(o.a.getContinuousSpeechEnabled()),t.speeches[e].htmlparser.setAnnounceLinksAsWords(o.a.getAnnounceLinksWord()),t.playAudioAlertOnLoad&&t.audioAlert.launch(t.speeches[N.TOOLBAR].speech,t.config),clearInterval(i))}),100);if(void 0!==t.config.censoredWords&&t.config.censoredWords.enabled){var r=yield n.e(184).then(n.bind(null,351));t.censoredWords=new r.CensoredWords(t.config.censoredWords);for(var c=t.censoredWords.getWords(),l=0;l<c.length;l++)t.speeches[e].speech.addPronunciations(c[l],"censored"),c[l]!=c[l].toLowerCase()&&t.speeches[e].speech.addPronunciations(c[l].toLowerCase(),"censored")}}))()},loadPronunciationsEdit:function(){var e=this;return V((function*(){var t=yield Promise.all([n.e(7),n.e(134),n.e(186)]).then(n.bind(null,352));e.pronunciationEditApi=new t.EditPronunciationApi(e.config),yield e.pronunciationEditApi.getFromDB();var i=e.pronunciationEditApi.getPronunciations();Object.keys(e.speeches).forEach((function(t){for(var n=0;n<i.length;n++)e.speeches[t].speech.addPronunciations(i[n].saythis,i[n].likethis)}))}))()},loadPronunciations:function(e){var t=this;return V((function*(){t.pronunciationApi=new D(t.config),yield t.pronunciationApi.get();var n=t.pronunciationApi.getPronunciations();if(e)for(var i=0;i<n.length;i++)t.speeches[e].speech.addPronunciations(n[i].saythis,n[i].likethis);else Object.keys(t.speeches).forEach((function(e){for(var i=0;i<n.length;i++)t.speeches[e].speech.addPronunciations(n[i].saythis,n[i].likethis)}))}))()},loadPictureDictionary:function(){var e=this;n.e(159).then(n.bind(null,353)).then((function(t){e.pictureDictionary=new t.PictureDictionary(e.speeches[N.TOOLBAR].htmlparser,e.config.pictureDictionary),e.pictureDictionary.setLanguage(o.a.getPictureDictionaryLanguage())}))},loadDictionary:function(){var e=this;n.e(158).then(n.bind(null,354)).then((function(t){e.dictionary=new t.Dictionary(e.speeches[N.TOOLBAR].htmlparser,e.config.dictionary)}))},loadExtension:function(){var e=this;n.e(187).then(n.bind(null,355)).then((function(t){e.extension=new t.Extension(e.config),e.extension.setAnalyticsId()}))},loadTranslate:function(){var e=this;return V((function*(){e.config.isPdf&&e.config.translate.translatePage&&(e.transPDF(),e.loadTranslateBatch());var t=Promise.all([n.e(4),n.e(181),n.e(199)]).then(n.bind(null,427)),i=yield t;if(e.translateApi=new i.Translate(e.speeches[N.TOOLBAR].htmlparser,e.config.translate),e.config.isPdf&&e.config.translate.translatePage){var s=v.default[e.config.translate.translateSource],a=v.default[e.config.translate.translateDestination];null!=s&&null!=a&&(e.setTranslationDestination(BrowseAloud.translate.targetLang),e.setTranslationSource(BrowseAloud.translate.sourceLang))}else e.translateApi.setFrom(o.a.getTranslationSource()),e.translateApi.setTo(o.a.getTranslationDestination());var r=setInterval((function(){e.pdfRedirect&&(e.pdfRedirect.setFromLanguage(o.a.getTranslationSource()),e.pdfRedirect.setToLanguage(o.a.getTranslationDestination()),clearInterval(r))}),100)}))()},loadTranslateBatch:function(){var e=this;return V((function*(){var t=n.e(200).then(n.bind(null,356)),i=yield t;BrowseAloud.translateBatch=new i.TranslateBatch(e.config.translate)}))()},loadSpeechRecognition:function(){var e=this;return V((function*(){Promise.all([n.e(7),n.e(132),n.e(137)]).then(n.bind(null,357)).then((function(t){e.speechRecognitionApi=new t.SpeechRecognition(e.speeches[N.TOOLBAR].htmlparser,e.config.speechRecognizer)}))}))()},loadNoahText:function(){var e=this;return V((function*(){Promise.all([n.e(180),n.e(190)]).then(n.bind(null,375)).then((function(t){e.noahTextApi=new t.NoahText(e.speeches[N.TOOLBAR].htmlparser,e.config.noahText)}))}))()},unLoadSpeechRecognition:function(){this.speechRecognitionApi.unload()},getVoiceFromSpeechRules:function(){if(null!=this.config.speechSettings.speechRules&&void 0!==this.config.speechSettings.speechRules)for(var e=this.config.speechSettings.speechRules,t="",n=0;n<e.length;n++){t=(t=(t=e[n].p.toLowerCase()).replace(/\*/g,"(.+)")).replace(/[\-\[\]\/\{}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp(t);if(document.URL.toLowerCase().match(i)){var s=v.default;for(var a in s)if(s[a].id==e[n].t)return s[a]}}return null},loadMp3:function(){var e=this;n.e(201).then(n.bind(null,376)).then((function(t){e.mp3Controls=new t.mp3Controls(e.speeches[N.TOOLBAR].htmlparser,e.config)}))},loadHighlights:function(){var e=this;return V((function*(){yield n.e(188).then(n.bind(null,377)).then((function(t){e.highlightsApi=new t.HighlightsApi(e.speeches[N.TOOLBAR].htmlparser,e.config),e.highlightsApi.getHighlights()})),n.e(210).then(n.t.bind(null,191,7)),n.e(207).then(n.t.bind(null,192,7)),n.e(209).then(n.t.bind(null,193,7)),n.e(211).then(n.t.bind(null,194,7)),n.e(208).then(n.t.bind(null,195,7)),n.e(206).then(n.t.bind(null,196,7)),n.e(128).then(n.t.bind(null,43,7))}))()},loadNotes:function(){var e=this;n.e(191).then(n.bind(null,378)).then((function(t){e.notesApi=new t.NotesApi(e.speeches[N.TOOLBAR].htmlparser,e.config),e.notesApi.getNotes(),e._registerNotesCallback()}))},resetTranslate:function(e){var t=this;try{if(this.config.speechSettings.useElementLangTag||this.config.speechSettings.usePageLangTag){var n=this.translateApi.to.spokenLang||this.translateApi.to.glang;document.documentElement.lang=n}}catch(e){}this.translateApi.resetToOriginalLang(e);var i=this.translateApi.getVoice();this.config.isPdf&&(BrowseAloud.translate={sourceLangObj:this.getTranslateSource(),targetLangObj:this.translateApi.to,sourceLang:this.getTranslateSource().glang,targetLang:this.translateApi.to.glang},TextHelpTranslation.reset()),""!=i&&(this.setVoice(i),Object.keys(this.speeches).forEach((function(e){t.speeches[e].speech.setTranslateVoice(i)}))),this.pdfRedirect&&this.pdfRedirect.pageIsTranslated(this.translateApi.isPageTranslated())},transPage:function(e){var t=this;try{if(this.config.speechSettings.useElementLangTag||this.config.speechSettings.usePageLangTag){var n=this.translateApi.to.spokenLang||this.translateApi.to.glang;document.documentElement.lang=n}}catch(e){}this.translateApi.transPage(e);var i=this.translateApi.getVoice();this.config.isPdf&&(BrowseAloud.translate={sourceLangObj:this.getTranslateSource(),targetLangObj:this.translateApi.to,sourceLang:this.getTranslateSource().glang,targetLang:this.translateApi.to.glang},TextHelpTranslation.reset(),this.translateApi.to.glang!=this.translateApi.from.glang&&TextHelpTranslation.translatePages(!1)),""!=i&&(this.setVoice(i),Object.keys(this.speeches).forEach((function(e){t.speeches[e].speech.setTranslateVoice(i)}))),this.pdfRedirect&&this.pdfRedirect.pageIsTranslated(this.translateApi.isPageTranslated())},translate:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.translateApi.translate(e,n);var i=this.translateApi.getVoice();""!=i&&null!=this.translateApi&&this.translateApi.pageTranslated&&Object.keys(this.speeches).forEach((function(e){t.speeches[e].speech.setVoice(i)}))},setTranslationSourceFromName:function(e,t){var i=this;return V((function*(){var s="en-us",a=yield Promise.resolve().then(n.bind(null,15));try{for(var o in t=t.toLowerCase(),a.default)a.default[o].englishDescription.toLowerCase()==t&&(s=o)}catch(e){s="en-us"}i.setTranslationSource(s,e)}))()},setTranslationSource:function(e,t){o.a.setTranslationSource(e);var n=o.a.getTranslationSource();this.translateApi&&this.translateApi.setFrom(n),this.pdfRedirect&&this.pdfRedirect.setFromLanguage(n),null!=t&&t(n)},getTranslateSource:function(){return o.a.getTranslationSource()},getTranslationList:function(){return o.a.getTranslationList()},setTranslationDestinationFromName:function(e,t){var i=this;return V((function*(){var s="es-mx",a=yield Promise.resolve().then(n.bind(null,15));try{for(var o in t=t.toLowerCase(),a.default)a.default[o].englishDescription.toLowerCase()==t&&(s=o)}catch(e){s="es-mx"}i.setTranslationDestination(s,e)}))()},setTranslationDestination:function(e,t){o.a.setTranslationDestination(e);var n=o.a.getTranslationDestination();this.translateApi.setTo(n),this.config.pictureDictionary.setLangFromTranslate&&this.config.translate.translatePage&&this.setPictureDictionaryLanguage(e),this.pdfRedirect&&this.pdfRedirect.setToLanguage(n),null!=t&&t(n)},storeUpdateLocale:function(e){this.updateLocale=e},storeTransFinishedCallback:function(e){this.translateFinishedCallback=e},setTransFinishedCallback:function(e){this.translateApi.setFinishedCallback(e)},getTranslateDestination:function(){return o.a.getTranslationDestination()},setPictureDictionaryLanguage:function(e){null!=this.pictureDictionary&&(o.a.setPictureDictionaryLanguage(e),this.pictureDictionary.setLanguage(o.a.getPictureDictionaryLanguage()))},getPictureDictionaryLanguage:function(){return o.a.getPictureDictionaryLanguage()},loadPrediction:function(){var e=this;return V((function*(){var t=yield Promise.all([n.e(156),n.e(193)]).then(n.bind(null,379));e.prediction=new t.Prediction(e.speeches[N.TOOLBAR].htmlparser,e.config.predictionSettings),e.prediction.enable(),e.prediction.createAPI()}))()},unloadPrediction:function(){this.prediction.unload()},getPrediction:function(e,t){this.prediction.getPredictions(e,t)},predictionKeyUpEvent:function(e,t,n){this.prediction.predictionKeyUpEvent(e,t,n)},onPredictionInsert:function(e){this.prediction.onPredictionInsert(e)},onPredictionSuggestions:function(e){this.prediction.onPredictionSuggestions(e)},setPredictionButtonCallback:function(e){this.prediction.setPredictionButtonCallback(e)},callPredictionButtonCallback:function(e){this.prediction.predictionButtonCallback&&this.prediction.predictionButtonCallback(e)},setPredictionFollowCursor:function(){null!=this.prediction&&o.a.setPredictionFollowCursor()},getPredictionFollowCursor:function(){return o.a.getPredictionFollowCursor()},playAudioAlert:function(){null!=this.audioAlert&&null!=this.speeches[N.TOOLBAR].speech?this.audioAlert.launch(this.speeches[N.TOOLBAR].speech,this.config):this.playAudioAlertOnLoad=!0},play:function(){var e=null;null!=this.translateApi&&this.translateApi.pageTranslated&&!this.config.speechSettings.usePageLangTag&&(e=this.translateApi.getVoice()),this.speeches[N.TOOLBAR].speech.play(e)},clickToSpeak:function(e){this.speeches[N.TOOLBAR].htmlparser.mouseClickEvent(e)},hoverSpeak:function(e){this.speeches[N.TOOLBAR].htmlparser.mouseOverEvent(e)},stop:function(e){var t=this;e?this.speeches[e].speech.stop():Object.keys(this.speeches).forEach((function(e){t.speeches[e].speech&&t.speeches[e].speech.stop()}))},pause:function(){this.speeches[N.TOOLBAR].speech.pause()},forward:function(){this.speeches[N.TOOLBAR].speech.forward()},rewind:function(){this.speeches[N.TOOLBAR].speech.rewind()},hoverSpeakOnOff:function(){var e=null;this.speeches[N.TOOLBAR].speech.hoverSpeakOnOff(),null!=this.translateApi&&this.translateApi.pageTranslated&&(e=this.translateApi.getVoice(),this.speeches[N.TOOLBAR].speech.setVoice(e))},clickToSpeakOnOff:function(){var e=null;this.speeches[N.TOOLBAR].speech.clickToSpeakOnOff(),null!=this.translateApi&&this.translateApi.pageTranslated&&(e=this.translateApi.getVoice(),this.speeches[N.TOOLBAR].speech.setVoice(e))},getHoverSpeakState:function(){return this.speeches[N.TOOLBAR].speech.hoverSpeakEnabled},getClickToSpeakState:function(){return this.speeches[N.TOOLBAR].speech.clickToSpeakEnabled},hoverSpeakOnOffOnLoad:function(){var e=this,t=setInterval((function(){if(e.speeches[N.TOOLBAR].speech){var n=null;e.speeches[N.TOOLBAR].speech.hoverSpeakOnOff(),clearInterval(t),null!=e.translateApi&&e.translateApi.pageTranslated&&(n=e.translateApi.getVoice(),e.speeches[N.TOOLBAR].speech.setVoice(n))}}),100)},clickToSpeakOnOffOnLoad:function(){var e=this,t=setInterval((function(){if(e.speeches[N.TOOLBAR].speech){var n=null;e.speeches[N.TOOLBAR].speech.clickToSpeakOnOff(),clearInterval(t),null!=e.translateApi&&e.translateApi.pageTranslated&&(n=e.translateApi.getVoice(),e.speeches[N.TOOLBAR].speech.setVoice(n))}}),100)},speakById:function(e,t){F.a.publish("analytics",{event:"Speech",action:M.a.SPEAKBYID_BUTTON}),this.speeches[N.DIALOG].speech.speakById(e,t)},speakElement:function(e,t,n){F.a.publish("analytics",{event:"Speech",action:M.a.SPEAKELEMENT_BUTTON}),this.speeches[N.TOOLBAR].speech.speakElement(e,t,n)},speakWithOutHighlight:function(e,t){this.speeches[N.TOOLBAR].speech.speakWithOutHighlight(e,t)},predictionSpeakWithOutHighlight:function(e,t){this.speeches[N.DIALOG].speech.speakWithOutHighlight(e,t)},setClickToSpeak:function(e){U.config.speechSettings.clickToSpeak=e,o.a.setClickToSpeak(e)},getClickToSpeak:function(){return o.a.getClickToSpeak()},setAnnounceLinksWord:function(e){var t=this;o.a.setAnnounceLinksWord(e),Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setAnnounceLinksAsWords(e)}))},getAnnounceLinksWord:function(){return o.a.getAnnounceLinksWord()},addPronunciation:function(e,t,n,i,s){var a=this;this.pronunciationEditApi.add(e,t,n,(function(){Object.keys(a.speeches).forEach((function(e){a.speeches[e].speech.addPronunciations(t,n)})),i()}),s)},updatePronunciation:function(e,t,n,i,s){var a=this;this.pronunciationEditApi.update(e,t,n,(function(){Object.keys(a.speeches).forEach((function(e){a.speeches[e].speech.updatePronunciations(t,n)})),i("Pronunciation updated")}),s)},deletePronunciation:function(e,t,n,i,s){var a=this;this.pronunciationEditApi.delete(e,t,n,(function(){Object.keys(a.speeches).forEach((function(e){a.speeches[e].speech.deletePronunciations(t,n)})),i("Pronunciation deleted")}),s)},setToolbarTheme:function(e){o.a.setToolbarTheme(e)},getToolbarTheme:function(){return o.a.getToolbarTheme()},getHighlightId:function(){return o.a.getHighlightId()},setHighlightId:function(e){this.setSentenceHighlightStyle(e),this.setWordHighlightStyle(e)},setSentenceHighlightStyle:function(e){var t=this;o.a.setSentenceHighlightStyle(e);var n=o.a.getSentenceHighlightStyle();Object.keys(this.speeches).forEach((function(e){t.speeches[e].htmlparser.setSentenceHighlightStyle(n)}))},getSentenceHighlightStyle:function(){return o.a.getSentenceHighlightStyle()},setSpeechBookID:function(e,t){var n=this;return V((function*(){n.config.speechSettings.bookId=o.a.filterId(e),Object.keys(n.speeches).map(function(){var e=V((function*(e){if(null!=n.speeches[e].speech&&n.speeches[e].speech.setBookId(n.config.speechSettings.bookId),null!=n.pronunciationApi){n.pronunciationApi.bookId=n.config.speechSettings.bookId;for(var i=n.pronunciationApi.changePageDynamically(),s=0;s<i.length;s++)if(null!=i[s].data&&0<i[s].data.length){var a,o=x(i[s].data);try{for(o.s();!(a=o.n()).done;){var r=a.value;n.speeches[e].speech.deletePronunciations(r.saythis,r.likethis),n.pronunciationApi.deleteFromData(r)}}catch(e){o.e(e)}finally{o.f()}}t&&(yield n.getPronsAfterChange())}}));return function(){return e.apply(this,arguments)}}())}))()},getSpeechBookID:function(){return this.config.speechSettings.bookId},getSpeechPageID:function(){return this.config.speechSettings.pageId},setSpeechPageID:function(e,t){var n=this;return V((function*(){n.config.speechSettings.pageId=o.a.filterId(e),Object.keys(n.speeches).map(function(){var e=V((function*(e){if(null!=n.speeches[e].speech&&n.speeches[e].speech.setPageId(n.config.speechSettings.pageId),null!=n.pronunciationApi){n.pronunciationApi.pageId=n.config.speechSettings.pageId;for(var i=n.pronunciationApi.changePageDynamically(),s=0;s<i.length;s++)if(null!=i[s].data&&0<i[s].data.length){var a,o=x(i[s].data);try{for(o.s();!(a=o.n()).done;){var r=a.value;n.speeches[e].speech.deletePronunciations(r.saythis,r.likethis),n.pronunciationApi.deleteFromData(r)}}catch(e){o.e(e)}finally{o.f()}}t&&(yield n.getPronsAfterChange())}}));return function(){return e.apply(this,arguments)}}())}))()},setSpeechBookAndPageID:function(e,t){var n=this;return V((function*(){yield n.setSpeechBookID(e,!1),yield n.setSpeechPageID(t,!0)}))()},getPronsAfterChange:function(){var e=this;return V((function*(){yield e.pronunciationApi.get();var t=e.pronunciationApi.getPronunciations();Object.keys(e.speeches).forEach((function(n){for(var i=0;i<t.length;i++)e.speeches[n].speech.addPronunciations(t[i].saythis,t[i].likethis)}))}))()},getUseNeural:function(){return this.config.speechSettings.enableNeural},setUseNeural:function(e){var t=this;return V((function*(){t.config.speechSettings.enableNeural=e,Object.keys(t.speeches).forEach((function(n){null!=t.speeches[n].speech&&t.speeches[n].speech.enableNeural(e)}))}))()},setWordHighlightStyle:function(e){var t=this;o.a.setWordHighlightStyle(e);var n=o.a.getWordHighlightStyle();Object.keys(this.speeches).forEach((function(e){t.speeches[e].htmlparser.setWordHighlightStyle(n)}))},getWordHighlightStyle:function(){return o.a.getWordHighlightStyle()},getVoice:function(){return o.a.getVoice()},setVoice:function(e){var t=this;o.a.setVoice(e),Object.keys(this.speeches).forEach((function(n){null!=t.speeches[n].speech&&t.speeches[n].speech.setVoice(e)})),null!=this.mp3Controls&&this.mp3Controls.setVoice(e),F.a.publish("analytics",{event:"Speech",action:M.a.SET_VOICE,voice:e})},setVoiceSpeed:function(e){var t=this;o.a.setVoiceSpeed(e),Object.keys(this.speeches).forEach((function(n){null!=t.speeches[n].speech&&t.speeches[n].speech.setVoiceSpeed(e)})),null!=this.mp3Controls&&this.mp3Controls.setSpeed(e)},getVoiceSpeed:function(){return o.a.getVoiceSpeed()},setAnnounceLinks:function(e){o.a.setAnnounceLinks(e)},getAnnounceLinks:function(){return o.a.getAnnounceLinks()},setContinuousSpeechEnabled:function(e){var t=this;o.a.setContinuousSpeechEnabled(e),Object.keys(this.speeches).forEach((function(n){var i;null===(i=t.speeches[n].speech)||void 0===i||i.setContinuousSpeechEnabled(e)}))},getContinuousSpeechEnabled:function(){return o.a.getContinuousSpeechEnabled()},setScreenMaskType:function(e){o.a.setScreenMaskType(e)},getScreenMaskType:function(){return o.a.getScreenMaskType()},setDocumentBodyTop:function(e){var t;null===(t=this.screenMask)||void 0===t||t.setDocumentBodyTop(e)},setBackgroundColour:function(e){var t;null===(t=this.screenMask)||void 0===t||t.setBackgroundColour(e),o.a.setBackgroundColour(e)},getBackgroundColour:function(){return o.a.getBackgroundColour()},setBackgroundOpacity:function(e){var t;null===(t=this.screenMask)||void 0===t||t.setBackgroundOpacity(e),o.a.setBackgroundOpacity(e)},getBackgroundOpacity:function(){return o.a.getBackgroundOpacity()},setReadingLightHeight:function(e){var t;null===(t=this.screenMask)||void 0===t||t.setReadingLightHeight(e),o.a.setReadingLightHeight(e)},getReadingLightHeight:function(){return o.a.getReadingLightHeight()},getReadingLightColour:function(){return o.a.getReadingLightColour()},setReadingLightColour:function(e){var t;null===(t=this.screenMask)||void 0===t||t.setReadingLightColour(e),o.a.setReadingLightColour(e)},setReadingLightOpacity:function(e){var t;null===(t=this.screenMask)||void 0===t||t.setReadingLightOpacity(e),o.a.setReadingLightOpacity(e)},getReadingLightOpacity:function(){return o.a.getReadingLightOpacity()},setReadingLightVisibility:function(e){var t;null===(t=this.screenMask)||void 0===t||t.setReadingLightVisibility(e),o.a.setReadingLightVisibility(e)},getReadingLightVisibility:function(){return o.a.getReadingLightVisibility()},setScreenMaskSize:function(e){o.a.setScreenMaskSize(e)},getScreenMaskSize:function(){return o.a.getScreenMaskSize()},getScreenMaskColour:function(){o.a.getScreenMaskColour()},setScreenMaskColour:function(e){o.a.setScreenMaskColour(e)},setScreenMaskOpacity:function(e){o.a.setScreenMaskOpacity(e)},getScreenMaskOpacity:function(){return o.a.getScreenMaskOpacity()},setScreenMaskOnLoad:function(){var e=this,t=setInterval((function(){e.screenMask&&!e.screenMask.enabled&&(e.screenMask.enable(),clearInterval(t))}),100)},setTextMagnifierSize:function(e){o.a.setTextMagnifierSize(e)},getTextMagnifierSize:function(){return o.a.getTextMagnifierSize()},logAnalytics:function(e){var t=this,n=setInterval((function(){null!=t.analytics&&(t.config.isPAC&&"Unload"!=e.action&&t.extension&&t.extension.sendActivityMessage(),t.analytics.log(e),clearInterval(n))}),100)},setSpeechStartPoint:function(e,t){this.speeches[t||N.TOOLBAR].htmlparser.setPlayStartPoint(e)},getSpeechStartPoint:function(e){return this.speeches[e||N.TOOLBAR].htmlparser.getPlayStartPoint()},setNoScroll:function(e,t){this.speeches[t||N.TOOLBAR].htmlparser.setNoScroll(e)},getNoScroll:function(e){return this.speeches[e||N.TOOLBAR].htmlparser.getNoScroll()},getNewDomControl:function(e){return this.speeches[N.TOOLBAR].htmlparser.getNewDomControl(e)},setWrapperTagClass:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setWrapperTagClass(e)}))},setWrapperTag:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setWrapperTag(e)}))},setHighlightTag:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setHighlightTag(e)}))},setBreakList:function(e,t){var n=this;Object.keys(this.speeches).forEach((function(i){n.speeches[i].htmlparser.setBreakList(e,t)}))},setStyleList:function(e,t){var n=this;Object.keys(this.speeches).forEach((function(i){n.speeches[i].htmlparser.setStyleList(e,t)}))},setMathSreSettings:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setMathSreSettings(e)}))},getMathSreSettings:function(){return this.speeches[N.TOOLBAR].htmlparser.getMathSreSettings()},setHTMLMathSymbolText:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.mathSymbolControl.setSymbolText(e)}))},setUsingHTMLMathSymbolMapping:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.mathSymbolControl.setUsingMath(e)}))},setReadAriaHidden:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setReadAriaHidden(e)}))},getReadAriaHidden:function(){return this.speeches[N.TOOLBAR].htmlparser.getReadAriaHidden()},setAriaLabelOnMathRoleEnabled:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setAriaLabelOnMathRoleEnabled(e)}))},getAriaLabelOnMathRoleEnabled:function(){return this.speeches[N.TOOLBAR].htmlparser.getAriaLabelOnMathRoleEnabled()},setAriaLabelOnMathJaxClassEnabled:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setAriaLabelOnMathJaxClassEnabled(e)}))},getAriaLabelOnMathJaxClassEnabled:function(){return this.speeches[N.TOOLBAR].htmlparser.getAriaLabelOnMathJaxClassEnabled()},setAltTextOnMathJaxEnabled:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setReadMathMLAltText(e)}))},getCustomReadingAttributeEnabled:function(){return this.speeches[N.TOOLBAR].htmlparser.getCustomReadingAttributeEnabled()},setCustomReadingAttributeEnabled:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setCustomReadingAttributeEnabled(e)}))},getCustomReadingRules:function(){return this.speeches[N.TOOLBAR].htmlparser.getCustomReadingRules()},setCustomReadingRules:function(e){var t=this;Object.keys(this.speeches).forEach((function(n){t.speeches[n].htmlparser.setCustomReadingRules(e)}))},getAltTextOnMathJaxEnabled:function(){return this.speeches[N.TOOLBAR].htmlparser.getReadMathMLAltText()},setLanguageVoiceMapping:function(e){var t=this;if(null!=this.config.defaultTranslateVoices&&void 0!==this.config.defaultTranslateVoices&&this.config.defaultTranslateVoices)for(var n in e)this.config.defaultTranslateVoices[n]=e[n];else this.config.defaultTranslateVoices=e;Object.keys(this.speeches).forEach((function(e){t.speeches[e].speech.setLangVoiceMapping(t.config.defaultTranslateVoices)}))},getLanguageVoiceMapping:function(){return this.config.defaultTranslateVoices==this.speeches[N.TOOLBAR].speech.getLangVoiceMapping()?this.speeches[N.TOOLBAR].speech.getLangVoiceMapping():(this.speeches[N.TOOLBAR].speech.setLangVoiceMapping(this.config.defaultTranslateVoices),this.config.defaultTranslateVoices)},setSimpleDictionaryEnabled:function(e){this.dictionary.setSimpleDictionaryEnabled(e)},getSimpleDictionaryEnabled:function(){return this.dictionary.getSimpleDictionaryEnabled()},setUseElementLangTags:function(e){var t=this;this.config.speechSettings.useElementLangTag=e,Object.keys(this.speeches).forEach((function(n){t.speeches[n].speech.setUseElementLangTags(e)}))},getUseElementLangTags:function(){return this.config.speechSettings.useElementLangTag==this.speeches[N.TOOLBAR].speech.getUseElementLangTags()?this.speeches[N.TOOLBAR].speech.getUseElementLangTags():(this.speeches[N.TOOLBAR].speech.setUseElementLangTags(this.config.speechSettings.useElementLangTag),this.config.speechSettings.useElementLangTag)},toggleSpeechRecognizer:function(e){var t=this;return V((function*(){t.speechRecognitionApi.toggle(e)}))()},onSpeechRecognizing:function(e){this.speechRecognitionApi.onSpeechRecognizing(e)},onSpeechRecognized:function(e){this.speechRecognitionApi.onSpeechRecognized(e)},onSpeechRecognizeEnded:function(e){this.speechRecognitionApi.onSpeechRecognizeEnded(e)},noahTextConvertPage:function(){this.noahTextApi.convertPage()},noahTextResetPageToOriginal:function(){this.noahTextApi.resetToOriginal()}}}}]);
</script>

</body>
</html>
