<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sri-v2-chartiq-vendor-f0f2e7e7-bundle-9aed6a4827cb14372c0a.html</title>
</head>
<body>

<script>
!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="61cac07e-1762-4234-a579-a533b7a70409",t._sentryDebugIdIdentifier="sentry-dbid-61cac07e-1762-4234-a579-a533b7a70409")}catch(t){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"ba066f127b86415f794ba7f3d720311ed9b41eb4"},(self.webpackChunkupbit_web=self.webpackChunkupbit_web||[]).push([[3983],{30544:function(t,e,i){var a,r,n,s=i(19755);r=[i(7249)],a=function(t){var e=t.CIQ;return e.Animation=function(t){if(!t)throw new Error("Invalid constructor arguments.");var i,a,r;if(t instanceof e.ChartEngine?(i=arguments[0],a=arguments[1],r=arguments[2]):(i=t.stx,a=t.animationParameters,r=t.easeMachine),!i)return console.warn("No CIQ.ChartEngine provided. Cannot properly create CIQ.Animation instance");var n={stayPut:!1,ticksFromEdgeOfScreen:5,granularity:1e6};a=e.extend(n,a),n.tension&&(i.chart.tension=a.tension),i.tickAnimator=r||new e.EaseMachine(Math.easeOutCubic,1e3);var s=new e.EaseMachine(Math.easeInOutCubic,1e3),o=["#0298d3","#19bcfc","#5dcffc","#9ee3ff"],l=0,c=20,h=0,u=!1,d=null;function p(){u=!1,d=null}i.addEventListener(["symbolChange","layout"],(function(t){p()})),i.prepend("updateCurrentMarketData",(function(t,e,i,a){e||(e=this.chart),a&&a.fromTrade&&(e.closePendingAnimation||0===e.closePendingAnimation)&&(a.finalClose=e.closePendingAnimation)})),i.prepend("updateChartData",(function(t,i,r){var n=this;if(i||(i=n.chart),i&&i.defaultChartStyleConfig&&"none"!=i.defaultChartStyleConfig&&(void 0===r||!r.animationEntry&&!r.secondarySeries)&&i.dataSegment){var s=n.tickAnimator,o=this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation;if(o){if(!s)return void console.warn("Animation plug-in can not run because the tickAnimator has not been declared. See instructions in animation.js");if(this.prevSymbol!=i.symbol&&(this.prevQuote=0,i.closePendingAnimation=null,this.prevSymbol=i.symbol),A(),s.stop(),t.length>2)return}var l=e.clone(r);l||(l={}),l.animationEntry=!0,l.bypassGovernor=!0,l.noCreateDataSet=!1,l.appending=!0,l.firstLoop=!0;var c=this.chart.symbol,h=this.layout.periodicity,p=this.layout.interval,g=this.layout.timeUnit;if(o){var f=t[t.length-1];this.prevQuote=this.currentQuote();var m=!1,v=!1;if(1==h&&2==t.length){this.prevQuote=t[0];var y=i.dataSet.length;T(this.prevQuote),y==i.dataSet.length&&(v=!0)}if(!(f&&f.Close&&this.prevQuote&&this.prevQuote.Close))return!1;if(this.extendedHours&&i.market.market_def){var b=f.DT;if(e.ChartEngine.isDailyInterval(p))u=!i.market.isMarketDate(b);else if(!d||d<=b){var x=i.market.getSession(b);u=!(""===x||this.layout.marketSessions&&this.layout.marketSessions[x]),d=i.market[u?"getNextOpen":"getNextClose"](b)}if(u)return this.draw(),!1}var S=h;"second"==p||"second"==g?S*=1e3:"minute"!=p&&"minute"!=g||(S*=6e4),isNaN(p)||(S*=p),m="day"==p||"day"==g?f.DT.getDate()!=this.prevQuote.DT.getDate():"week"==p||"week"==g?f.DT.getDate()>=this.prevQuote.DT.getDate()+7:"month"==p||"month"==g?f.DT.getMonth()!=this.prevQuote.DT.getMonth():f.DT.getTime()>=this.prevQuote.DT.getTime()+S;var k=!(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[this.layout.chartType]),C=0;if(m){if(!this.animations.zoom.hasCompleted)return!1;var w=this.layout.candleWidth;if(i.scroll<=i.maxTicks)for(;this.micropixels>0;)i.scroll++,this.micropixels-=w;i.scroll<=i.maxTicks?(this.previousMicroPixels=this.micropixels,this.nextMicroPixels=this.micropixels+w,C=-1*w,i.dataSegment.length<i.maxTicks-a.ticksFromEdgeOfScreen&&!a.stayPut&&(this.nextMicroPixels=this.micropixels,i.scroll++),i.animatingHorizontalScroll=k,i.previousDataSetLength=i.dataSet.length):v||i.scroll++}i.closePendingAnimation=f.Close;var D=m&&!k?f.Open:this.prevQuote.Close;return s.run(M(f,e.clone(this.prevQuote),m),{Close:D,micropixels:this.nextMicroPixels,lineOffset:C},{Close:f.Close,micropixels:this.micropixels,lineOffset:0}),!0}}function T(t){if(i.masterData)for(var e=i.masterData.length-1;e>=0;e--){var a=i.masterData[e];if(a.Close||0===a.Close)return a.Close=t.Close,t.LastSize&&(a.LastSize=t.LastSize),t.LastTime&&(a.LastTime=t.LastTime),n.updateCurrentMarketData({Close:a.Close,DT:a.DT,LastSize:a.LastSize,LastTime:a.LastTime}),void n.createDataSet(null,null,{appending:!0})}}function A(){if(i.animatingHorizontalScroll&&(i.animatingHorizontalScroll=!1,n.micropixels=n.nextMicroPixels=n.previousMicroPixels,i.lastTickOffset=0),null!==i.closePendingAnimation){var t=i.closePendingAnimation;i.closePendingAnimation=null,T({Close:t})}}function M(t,r,o){return function(u){var d=u.Close;if(!i.dataSet.length||c!=i.symbol||h!=n.layout.periodicity||p!=n.layout.interval||g!=n.layout.timeUnit)return s.stop(),void A();var f=e.clone(t);f.Adj_Close=null,f.Close=Math.round(d*a.granularity)/a.granularity,o?(f.Open||0===f.Open||(f.Open=f.Close),f.High||0===f.High||(f.High=Math.max(f.Open,f.Close)),f.Low||0===f.Low||(f.Low=Math.min(f.Open,f.Close))):(t.Close>r.High&&(f.High=f.Close),t.Close<r.Low&&(f.Low=f.Close)),i.animatingHorizontalScroll&&(n.micropixels=u.micropixels,i.lastTickOffset=u.lineOffset),l.updateDataSegmentInPlace=!s.hasCompleted;var m=[f];o&&"tick"!==n.layout.interval&&m.unshift(r),n.updateChartData(m,i,l),l.firstLoop=!1,s.hasCompleted&&A()}}})),i.prepend("renderYAxis",(function(t){if(!this.grabbingScreen&&this.isHome()&&this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation){var i=t.panel.yAxis;if(i.priceFormatter!=e.Comparison.priceFormat)if(t.prevLowValue||0===t.prevLowValue||(t.prevLowValue=t.animatedLow=t.lowValue),t.prevHighValue||0===t.prevHighValue||(t.prevHighValue=t.animatedHigh=t.highValue),s.running||(t.animatingVerticalScroll=!1),t.prevLowValue>=t.lowValue&&t.prevHighValue<=t.highValue)t.animatingVerticalScroll&&(i.highValue=t.animatedHigh,i.lowValue=t.animatedLow);else if(s.running&&s.stop(),t.lowValue||t.highValue){var a=t.prevLowValue,r=t.prevHighValue;t.prevLowValue=t.lowValue,t.prevHighValue=t.highValue,t.animatingVerticalScroll=!0,s.run(n(this),{low:a,high:r},{low:t.lowValue,high:t.highValue}),i.lowValue=t.animatedLow,i.highValue=t.animatedHigh}}function n(e){return function(i){t.animatedLow=i.low,t.animatedHigh=i.high,e.draw()}}})),i.append("draw",(function(){if(!u&&this.chart.dataSet&&this.chart.dataSet.length&&this.mainSeriesRenderer&&this.mainSeriesRenderer.supportsAnimation){h%c==0&&(l++,h=0),h++;var t=this.chart.context,e=this.chart.panel,i=this.currentQuote();if(!i)return;var a=i.Close,r=this.pixelFromTick(i.tick,this.chart);this.chart.lastTickOffset&&(r+=this.chart.lastTickOffset);var n=this.pixelFromPrice(a,e);this.chart.yAxis.left>r&&this.chart.yAxis.top<=n&&this.chart.yAxis.bottom>=n&&(l>=o.length&&(l=0),t.beginPath(),t.moveTo(r,n),t.arc(r,n,2+1.07*l,0,2*Math.PI,!1),t.fillStyle=o[l],t.fill())}}))},e.ContinuousZoom=function(t){this.update(t),this.stx.continuousZoom=this,this.addSmartZoomButton=function(){var t=this.stx.registerChartControl("stx-smart-zoom","SmartZoom",function(t){return function(e){t.smartZoomToggle(e),e.stopPropagation()}}(this));t&&(this.stx.addEventListener("layout",(function(i){!0===i.stx.layout.smartzoom?e.appendClassName(t,"active"):e.unappendClassName(t,"active")})),this.stx.addEventListener("symbolImport",(function(i){!1===i.stx.layout.smartzoom&&e.unappendClassName(t,"active")})))},this.smartZoomToggle=function(t){this.smartZoomEnable(!this.stx.layout.smartzoom)},this.smartZoomEnable=function(t){this.stx.layout.smartzoom=t,this.stx.changeOccurred("layout")},this.addSmartZoomButton(),this.smartZoomEnable(!0)},e.ContinuousZoom.prototype.update=function(t){t||(t={}),this.stx=t.stx,this.periodicities=t.periodicities,this.boundaries=t.boundaries},e.ContinuousZoom.prototype.execute=function(t){function e(t){var e=t.period||t.periodicity,i=t.interval,a=t.timeUnit||"minute";switch(isNaN(i)&&(a=i,i=1),a){case"month":i*=4.35;case"week":i*=7;case"day":i*=1440;case"minute":i*=60;case"second":break;case"millisecond":i/=1e3;break;default:return null}return e*i}if(this.stx&&this.stx.layout.smartzoom){var i=this.periodicities,a=this.boundaries,r=this.stx,n=r.layout,s=r.chart;if(i&&a&&(!t&&a.maxCandleWidth&&n.candleWidth>a.maxCandleWidth||t&&a.minCandleWidth&&n.candleWidth<a.minCandleWidth||!t&&a.minTicks&&s.maxTicks<a.minTicks||t&&a.maxTicks&&s.maxTicks>a.maxTicks)){for(var o={value:t?Number.MAX_VALUE:0},l=e(n),c=0;c<i.length;c++){var h=e(i[c]);(h>l&&h<o.value&&t||h<l&&h>o.value&&!t)&&(o={value:h,periodicity:i[c]})}var u=o.periodicity;u&&r.setRange({dtLeft:s.xaxis[0].DT,dtRight:s.xaxis[s.xaxis.length-1].DT,dontSaveRangeToLayout:!0,periodicity:u})}}},e.ExtendedHours=function(t){var i=t.stx;this.filter=t.filter,i||(i=t,this.filter=!1);var a={};this.stx=i,this.stx.extendedHours=this,i.addEventListener("theme",(function(t){for(var e in a={},i.layout.marketSessions)a.session||(a.session={}),a.session[e]=i.canvasStyle("stx_market_session "+e)})),i.addEventListener("symbolChange",(function(t){"master"!=t.action||!i.layout.extended||i.chart.market.market_def&&i.chart.market.sessions.length||e.alert("There are no Extended Hours for this instrument.")})),this.prepare=function(t,e){for(var r in i.layout.extended=t,i.layout.marketSessions)a.session={},i.chart.market.disableSession(r);if(i.layout.marketSessions={},t)if(e||(e=["pre","post"]),e.length)for(var n=0;n<e.length;n++)i.layout.marketSessions[e[n]]=!0;else i.layout.marketSessions=e;for(r in i.layout.marketSessions)a.session||(a.session={}),a.session[r]=i.canvasStyle("stx_market_session "+r),i.chart.market.disableSession(r,!0)},this.complete=function(t){i.changeOccurred("layout"),i.chart.market.market_def?this.filter?(i.createDataSet(),i.draw(),t&&t()):i.loadChart(i.chart.symbol,t):t&&t()},this.set=function(t,e,i){this.prepare(t,e),this.complete(i)},this.stx.append("drawYAxis",(function(t,r){if(this.layout.extended&&t.yAxis==r.yAxis&&!1!==t.shareChartXAxis&&!t.hidden){var n=t.chart;if(!e.ChartEngine.isDailyInterval(this.layout.interval)&&(a.divider=this.canvasStyle("stx_market_session divider"),a.session)){for(var s,o,l=n.market,c=[],h={},u=0;u<n.dataSegment.length;u++){var d=n.dataSegment[u];if(d&&d.DT){var p=null;l.market_def&&(!s||s<=d.DT)&&(o=l.getSession(d.DT),s=l[""===o||this.layout.marketSessions&&this.layout.marketSessions[o]?"getNextClose":"getNextOpen"](d.DT));var g=a.session[o];if(g&&(p=g.backgroundColor),h.color&&h.color!=p&&(c.push({start:h.start,end:h.end,color:h.color}),h={}),p){var f=this.layout.candleWidth;d.candleWidth&&(f=d.candleWidth),h.end=this.pixelFromBar(u,n)+f/2,h.start||0===h.start||(h.start=h.end-f+1),h.color=p}else h={}}}(h.start||0===h.start)&&c.push({start:h.start,end:h.end,color:h.color});var m=e.isTransparent(a.divider.backgroundColor),v=a.divider.width.replace(/px/g,""),y={y0:t.bottom,y1:t.top,color:a.divider.backgroundColor,type:"line",context:n.context,confineToPanel:t,pattern:"dashed",lineWidth:v,deferStroke:!0};for(this.startClip(t.name),n.context.beginPath(),i.highlightedDraggable&&(n.context.globalAlpha*=.3),u=0;u<c.length;u++)n.context.fillStyle=c[u].color,!m&&c[u].start>n.left&&this.plotLine(e.extend({x0:c[u].start,x1:c[u].start},y)),n.context.fillRect(c[u].start,t.top,c[u].end-c[u].start,t.bottom-t.top),!m&&c[u].end<n.right&&this.plotLine(e.extend({x0:c[u].end,x1:c[u].end},y));n.context.stroke(),this.endClip()}}}))},e.FullScreen=function(t){t||(t={}),t.stx?(this.stx=t.stx,this.stx.fullScreen=this,this.fullScreenButton=null,this.fullScreenState=!1,this.addFullScreenButton=function(){this.fullScreenButton=this.stx.registerChartControl("stx-full-screen","Full Screen",function(t){return function(e){t.fullScreenToggle(e),e.stopPropagation()}}(this))},this.fullScreenToggle=function(t){document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullscreen||document.documentElement.msRequestFullscreen?this.getFullScreenElement()?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullscreen?document.documentElement.mozRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen():(this.fullScreenState=!this.fullScreenState,this.fullScreenRender())},this.fullScreenRender=function(){var t=null;(t=e.findClosestParent(this.stx.container,"*[cq-context], cq-context, body"))&&(!0===this.fullScreenState?(e.appendClassName(this.fullScreenButton,"active"),e.appendClassName(t,"full-screen")):(e.unappendClassName(this.fullScreenButton,"active"),e.unappendClassName(t,"full-screen")),window.dispatchEvent(new Event("resize")))},this.onFullScreenChange=function(){this.getFullScreenElement()?this.fullScreenState=!0:this.fullScreenState=!1,this.fullScreenRender()},this.getFullScreenElement=function(){return document.fullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement},document.addEventListener("fullscreenchange",this.onFullScreenChange.bind(this),!1),document.addEventListener("webkitfullscreenchange",this.onFullScreenChange.bind(this),!1),document.addEventListener("mozfullscreenchange",this.onFullScreenChange.bind(this),!1),document.addEventListener("MSFullscreenChange",this.onFullScreenChange.bind(this),!1),this.addFullScreenButton()):console.warn("The Full Screen addon requires an stx parameter")},e.InactivityTimer=function(t){t.minutes&&((!t.interval||t.interval<0)&&(t.interval=60),this.stx=t.stx,this.timeout=t.minutes,this.interval=t.interval,this.wakeCB=t.wakeCB,this.sleepCB=t.sleepCB,this.sleepTimer=null,this.sleeping=!1,this.last=(new Date).getTime(),this.wakeChart=function(){clearTimeout(this.sleepTimer),this.last=(new Date).getTime(),this.sleeping&&(this.stx.quoteDriver&&this.stx.quoteDriver.updateChartLoop(),this.sleeping=!1,e.unappendClassName(document.body,"ciq-sleeping")),this.sleepTimer=setTimeout(this.sleepChart.bind(this),6e4*this.timeout),this.wakeCB&&this.wakeCB()},this.sleepChart=function(){this.sleeping||(this.stx.quoteDriver&&this.stx.quoteDriver.updateChartLoop(this.interval),this.sleeping=!0,e.appendClassName(document.body,"ciq-sleeping")),this.sleepCB&&this.sleepCB()},s(document).on("mousemove mousedown touchstart touchmove pointerdown pointermove keydown wheel",s("body"),function(t){return function(e){t.wakeChart()}}(this)),this.wakeChart())},e.Outliers=function(t){t||(t={}),t.stx?(this.stx=t.stx,this.stx.outliers=this,this.multiplier=t.multiplier||3,this.displayState="none",this.flippedAxis=this.stx.layout.flipped,this.markers={},this.markerAxisHigh=null,this.markerAxisLow=null,this.initMinMax=function(){this.minValue=null,this.maxValue=null,this.trendMin=null,this.trendMax=null,this.outlierMin=null,this.outlierMax=null},this.initMinMax(),this.stx.addEventListener("layout",(function(t){t.stx.layout.flipped!=t.stx.outliers.flippedAxis&&(t.stx.outliers.flippedAxis=t.stx.layout.flipped,t.stx.outliers.removeAllMarkers())})),this.find=function(t){if(t.length&&!(t.length<=0)){this.initMinMax();var e=function(t,e){var i=t.quote.DT.getTime().toString();this.markers[i]||(this.markers[i]={isFresh:!0,marker:this.markOutlier(t,e)}),this.markers[i].isFresh=!0}.bind(this),i=t.slice();i.sort((function(t,e){return t.value-e.value}));var a=i.length,r=i[Math.floor(a/4)].value,n=i[Math.floor(a*(3/4))].value,s=n-r;this.minValue=r-s*this.multiplier,this.maxValue=n+s*this.multiplier,this.deprecateMarkers();for(var o=0;o<a;o++){var l=i[o],c=i[a-(o+1)];if(l.value<=this.minValue&&e(l,"low"),c.value>=this.maxValue&&e(c,"high"),null===this.outlierMin&&l.value<=this.minValue&&(this.outlierMin=l.value),null===this.outlierMax&&c.value>=this.maxValue&&(this.outlierMax=c.value),null===this.trendMin&&l.value>this.minValue&&(this.trendMin=l.value),null===this.trendMax&&c.value<this.maxValue&&(this.trendMax=c.value),null!==this.trendMin&&null!==this.trendMax)break}this.markAxis(),this.updateMarkerVisibility()}},this.setDisplayState=function(t){"high"!=t&&"low"!=t&&"all"!=t&&(t="none");var e=t;"all"==this.displayState&&"high"==t?e="low":"all"==this.displayState&&"low"==t?e="high":"high"==this.displayState&&"low"==t||"low"==this.displayState&&"high"==t?e="all":this.displayState==t&&(e="none"),this.displayState=e,this.updateMarkerVisibility(),this.stx.draw()},this.deprecateMarkers=function(){var t=function(t){t.marker&&!t.isFresh?(t.marker.remove&&t.marker.remove(),t.marker=null):t.isFresh=!1};Object.keys(this.markers).forEach(function(e){t(this.markers[e]),this.markers[e].marker||delete this.markers[e]}.bind(this)),this.markerAxisHigh&&(t(this.markerAxisHigh),this.markerAxisHigh.marker||(this.markerAxisHigh=null)),this.markerAxisLow&&(t(this.markerAxisLow),this.markerAxisLow.marker||(this.markerAxisLow=null))},this.removeAllMarkers=function(){var t=function(t){t.marker&&(t.marker.remove&&t.marker.remove(),t.marker=null)};Object.keys(this.markers).forEach(function(e){t(this.markers[e]),this.markers[e].marker||delete this.markers[e]}.bind(this)),this.markerAxisHigh&&(t(this.markerAxisHigh),this.markerAxisHigh.marker||(this.markerAxisHigh=null)),this.markerAxisLow&&(t(this.markerAxisLow),this.markerAxisLow.marker||(this.markerAxisLow=null))},this.updateMarkerVisibility=function(){Object.keys(this.markers).forEach(function(t){"all"==this.displayState||this.markers[t].marker.node.classList.contains(this.displayState)?this.markers[t].marker.node.style.display="none":this.markers[t].marker.node.style.display="block"}.bind(this))},this.refreshAxisMarkers=function(t){var e=!1,i="low";t.classList.contains("high")&&(e=!0,i="high");var a=this.stx.chart.yAxis.top;(!this.flippedAxis&&!e||this.flippedAxis&&e)&&(a=this.stx.chart.yAxis.bottom-50),this.flippedAxis?t.classList.add("flipped"):t.classList.remove("flipped");var r=Math.floor(this.stx.chart.yAxis.left).toString()+"px",n=Math.floor(a).toString()+"px",s=e?this.outlierMax:this.outlierMin;t.style.transform="translate("+r+", "+n+")",t.querySelector(".outlier-value").innerText=this.stx.formatYAxisPrice(s),"0px"===r?t.classList.add("right"):t.classList.remove("right"),"all"==this.displayState||this.displayState===i?t.classList.add("compress"):t.classList.remove("compress")},this.markAxis=function(){var t=function(t){var i=document.createElement("div");return i.classList.add("outlier-sticker","axis",t),i.innerHTML='<div class="expansion"><div class="tick"></div><span class="outlier-value"></div><div class="compression"></div></span>',this.matchYAxisStyle(i),i.addEventListener("click",function(t){this.setDisplayState(t)}.bind(this,t)),{marker:new e.Marker({stx:this.stx,xPositioner:"none",yPositioner:"none",label:"expand",permanent:!0,chartContainer:!0,node:i})}};null!==this.outlierMax&&(this.markerAxisHigh||(this.markerAxisHigh=t.call(this,this.flippedAxis?"low":"high")),this.markerAxisHigh.isFresh=!0,this.refreshAxisMarkers(this.markerAxisHigh.marker.node)),null!==this.outlierMin&&(this.markerAxisLow||(this.markerAxisLow=t.call(this,this.flippedAxis?"high":"low")),this.markerAxisLow.isFresh=!0,this.refreshAxisMarkers(this.markerAxisLow.marker.node))},this.markOutlier=function(t,i){if(t){i=i||"high";var a="top";(!this.flippedAxis&&"low"==i||this.flippedAxis&&"high"==i)&&(a="bottom");var r=document.createElement("div");return r.classList.add("outlier-sticker","quote",i),this.flippedAxis&&r.classList.add("flipped"),r.innerHTML='<span class="outlier-value">'+this.stx.formatYAxisPrice(t.value,this.stx.panels.chart)+"</span>",this.matchYAxisStyle(r),r.addEventListener("click",function(t){this.setDisplayState(t)}.bind(this,i)),new e.Marker({stx:this.stx,xPositioner:"date",yPositioner:a,x:t.quote.DT,node:r})}},this.matchYAxisStyle=function(t){if(this.stx.styles.stx_yaxis){var e=this.stx.styles.stx_yaxis;t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.color=e.color,t.style.borderColor=e.color}},e.ChartEngine.prototype.determineMinMax=function(t,i,a,r,n,s,o){var l=-1*Number.MAX_VALUE,c=Number.MAX_VALUE,h=!1,u=t.length;n&&(u=n);var d=[],p=!1;o&&"chart"==o&&this.layout.outliers?p=!0:this.outliers&&(this.outliers.initMinMax(),this.outliers.deprecateMarkers());for(var g=0;g<=u+1;g++){var f;if(i.length&&(f=g==u?this.getPreviousBar(this.chart,i[0],0):g==u+1?this.getNextBar(this.chart,i[0],u-1):t[g]),f){if(!r)if(f.transform)h=!0,f=f.transform;else if(h)continue;for(var m=0,v=0;v<i.length;v++){var y=e.existsInObjectChain(f,i[v]);if(y){var b=y.obj[y.member];"number"==typeof b&&(b=[b]);for(var x=0;x<b.length;x++){var S=b[x];s&&S instanceof Array&&(S=S[0]),(S||0===S)&&(a?((m+=S)>l&&(l=m),m<c&&(c=m)):(S>l&&(l=S),S<c&&(c=S),p&&d.push({value:S,quote:f})))}}}a&&p&&d.push({value:m,quote:f})}}return p&&(d.length>0&&this.outliers.find(d),!this.outliers.trendMax||"low"!==this.outliers.displayState&&"none"!==this.outliers.displayState||(l=this.outliers.trendMax),!this.outliers.trendMin||"high"!==this.outliers.displayState&&"none"!==this.outliers.displayState||(c=this.outliers.trendMin)),l==-1*Number.MAX_VALUE&&(l=0),c==Number.MAX_VALUE&&(c=0),[c,l]}):console.warn("The Outliers addon requires an stx parameter")},e.PlotComplementer=function(t){var i=t.stx,a=e.uniqueID();t.decorator||(t.decorator={});var r=t.decorator.symbol||"_"+a,n=t.decorator.display||" (addl)";i.plotComplementers||(i.plotComplementers=[]),i.plotComplementers.push(this),this.id=t.id||a,this.defaultRenderingParameters={chartType:"line",width:1,opacity:.5},t.renderingParameters&&(this.defaultRenderingParameters=t.renderingParameters);var s=this;function o(i,a,o,l){function c(e){if(e.quoteDriver&&t.quoteFeed){for(var i=0;i<e.quoteDriver.quoteFeeds.length;i++)if(e.quoteDriver.quoteFeeds[i].engine==t.quoteFeed)return;return"err"}}if("err"!=c(i)&&(l||(l=a),!i.isEquationChart(a)&&(o||(o={}),!o.isComparison&&l&&-1==l.indexOf(r)))){var h=l+r,u=a+r,d=i.getRendererFromSeries(l),p=e.extend({display:a+n,name:h,symbol:u,symbolObject:{symbol:u,generator:s.id,masterSymbol:a},overChart:!1,gapDisplayStyle:!0,permanent:!0,panel:o.panel,yAxis:o.yAxis,shareYAxis:!0,loadData:!!s.quoteFeed,dependentOf:d?d.params.name:i.mainSeriesRenderer.params.name},s.renderingParameters);p.color||(p.color=o.color||"auto"),i.addSeries(h,p,(function(t,e){t&&i.removeSeries(h,i.chart),i.chart.seriesRenderers[h]&&(i.chart.seriesRenderers[h].params.display=p.display)}))}}function l(t,e,i){e&&-1==e.indexOf(r)&&t.removeSeries(e+r,i)}function c(t){"master"==t.action?(t.prevSymbol||(t.prevSymbol=t.symbol),l(t.stx,t.prevSymbol,t.stx.chart),o(t.stx,t.symbol)):"add-series"==t.action?(l(t.stx,t.id,t.stx.chart),o(t.stx,t.symbol,t.parameters,t.id)):"remove-series"==t.action&&l(t.stx,t.id,t.stx.chart)}i.addEventListener("symbolChange",c),i.addEventListener("symbolImport",c),this.resetRenderingParameters=function(){this.renderingParameters=this.defaultRenderingParameters},this.setQuoteFeed=function(t){if(t.quoteFeed&&t.behavior){var a=e.clone(t.behavior);a.generator=this.id;var r=t.filter,n=function(t){return!(r&&!r(t))&&t.symbolObject.generator==a.generator};i.attachQuoteFeed(t.quoteFeed,a,n),this.quoteFeed=t.quoteFeed}},this.setQuoteFeed(t),this.resetRenderingParameters()},e.RangeSlider=function(t){var i=t.stx;i.slider=this;var a=t.height?t.height:95,r=t.chartContainer?s(t.chartContainer):s(t.stx.container),n=s('<div class="ciq-chart"></div>'),o=s('<div class="chartContainer"></div>');n.insertAfter(r.parent()).append(o),n.css("height",a+"px").css("padding-top","5px").hide(),o.css("height","100%"),o.prop("dimensionlessCanvas",!0);var l=this.slider=new e.ChartEngine({container:o[0],preferences:{labels:!1,whitespace:0}});l.xaxisHeight=30,l.manageTouchAndMouse=!1,l.minimumCandleWidth=0,l.container.style.cursor="ew-resize";var c=l.chart.panel.yAxis;c.drawCurrentPriceLabel=!1,Object.defineProperty(c,"position",{get:function(){return i.slider.yAxisPosition||i.chart.panel.yAxis.position},set:function(t){i.slider.yAxisPosition=t}}),Object.defineProperty(c,"width",{get:function(){return 0===i.slider.yAxisWidth?0:i.slider.yAxisWidth||i.chart.panel.yAxis.width},set:function(t){i.slider.yAxisWidth=t}}),e.extend(c,t.yAxis),l.chart.baseline.userLevel=!1,l.controls.home&&(l.controls.home.style.width=0),l.initializeChart();var h=l.chart.panel.subholder,u=i.canvasStyle("stx_range_slider shading");this.display=function(t){if(i.layout.rangeSlider!==t)return i.layout.rangeSlider=t,void i.changeOccurred("layout");n[t?"show":"hide"](),i.resizeChart(),s(window).resize(),t&&(l.resizeChart(),l.initializeChart(),l.draw(),this.drawSlider())},this.setSymbol=function(t){l.chart.panel.display=l.chart.symbol=t,l.setMainSeriesRenderer(),l.resizeChart(),this.adjustRange(i.chart),l.draw(),this.drawSlider()},this.acceptLayoutChange=function(t){var a=!1;l.layout.rangeSlider!==t.rangeSlider&&i.slider.display(t.rangeSlider),["chartType","aggregationType","periodicity","interval","timeUnit","chartScale","rangeSlider","flipped","extended","marketSessions","kagi","rangebars","renko","priceLines","pandf"].forEach((function(i){e.equals(l.layout[i],t[i])||(l.layout[i]=t[i],a=!0)})),n.is(":visible")&&a&&(l.setMainSeriesRenderer(),l.draw(),this.drawSlider())},this.adjustRange=function(t){if(t.dataSet){var e=l.chart;if(e.width){var a=0,r=0;if(i.quoteDriver){var n={symbol:t.symbol,symbolObject:t.symbolObject,interval:i.layout.interval};"month"!=n.interval&&"week"!=n.interval||i.dontRoll||(n.interval="day");var s=i.quoteDriver.getQuoteFeed(n).behavior;s&&s.bufferSize&&(t.moreAvailable&&(a=s.bufferSize),i.isHistoricalMode()&&(r=s.bufferSize))}e.baseline.defaultLevel=t.baseline.actualLevel,e.scroll=Math.max(0,t.dataSet.length-i.tickFromDate(t.endPoints.begin)-a)+1,e.maxTicks=e.scroll-r+1,l.layout.candleWidth=e.width/e.maxTicks}}},this.copyData=function(t){if(t.dataSet){var e=l.chart;e.masterData=l.masterData=t.masterData,e.dataSet=t.dataSet,e.state=t.state,l.draw(),this.drawSlider()}},this.calculateYAxisPosition=function(){var t=l.chart.panel;l.getYAxisCurrentPosition(t.yAxis,t)!=t.yAxis.position&&l.calculateYAxisPositions()},this.drawSlider=function(){if(n.is(":visible")&&i.chart.dataSet&&i.chart.dataSet.length){var t=i.chart.panel,e=l.chart.context,a=l.chart.segmentImage||[],r=l.layout.candleWidth/2,s=l.tickLeft=Math.max(i.tickFromPixel(t.left+r),0),o=l.tickRight=Math.min(i.tickFromPixel(t.right-r),i.chart.dataSet.length-1),c=l.pixelLeft=l.pixelFromTick(s)-(a[s]?a[s].candleWidth/2:r),d=l.pixelRight=l.pixelFromTick(o)+(a[o]?a[o].candleWidth/2:r),p=h.offsetLeft,g=p+h.offsetWidth;e.save(),e.beginPath(),e.fillStyle=u.backgroundColor,e.fillRect(p,h.offsetTop,c-p,h.offsetHeight),e.fillRect(g,h.offsetTop,d-g,h.offsetHeight),e.strokeStyle=u.borderTopColor,e.lineWidth=parseInt(u.borderWidth,10),e.moveTo(c,h.offsetTop),e.lineTo(c,h.offsetTop+h.offsetHeight),e.moveTo(d,h.offsetTop),e.lineTo(d,h.offsetTop+h.offsetHeight),e.stroke(),e.beginPath(),e.lineWidth=parseInt(u.width,10),e.lineCap="round",e.moveTo(c,h.offsetTop+h.offsetHeight/4),e.lineTo(c,h.offsetTop+3*h.offsetHeight/4),e.moveTo(d,h.offsetTop+h.offsetHeight/4),e.lineTo(d,h.offsetTop+3*h.offsetHeight/4),e.stroke(),e.restore()}},i.addEventListener("layout",(function(t){t.stx.slider.acceptLayoutChange(t.stx.layout)})),i.addEventListener("preferences",(function(t){var i=t.stx.preferences.language;e.I18N&&l.preferences.language!=i&&e.I18N.localize(l,i),l.preferences.language=i,l.draw()})),i.addEventListener("symbolChange",(function(t){"master"==t.action&&t.stx.slider.setSymbol(t.symbol)})),i.addEventListener("symbolImport",(function(t){"master"==t.action&&t.stx.slider.setSymbol(t.symbol),t.stx.slider.acceptLayoutChange(t.stx.layout)})),i.addEventListener("theme",(function(t){l.clearPixelCache(),l.styles={},l.chart.container.style.backgroundColor="";var i=new e.ThemeHelper({stx:t.stx});i.params.stx=l,i.update()})),i.append("createDataSet",(function(){this.slider.adjustRange(this.chart),this.slider.copyData(this.chart)})),i.append("draw",(function(){n.is(":visible")&&l.chart.dataSet&&(this.slider.adjustRange(this.chart),this.slider.calculateYAxisPosition(),l.draw(),this.slider.drawSlider())})),i.prepend("resizeChart",(function(){var t=r.parent(),e=t.parent(),i=(t.height(),r.height(),e.height());e.find(".chartContainer").each((function(){this!==r[0]&&s(this).is(":visible")&&(i-=s(this).parent().outerHeight(!0))})),t.height(i),this.layout.rangeSlider?(n.show(),l.resizeChart(),l.initializeChart(),l.draw(),this.slider.drawSlider()):n.hide()})),s(h).on("mousedown touchstart pointerdown",(function(t){var i=t.offsetX;if(i||0===i||(i=t.originalEvent.layerX),i||0===i){var a=s(l);a.prop("startDrag",i).prop("startPixelLeft",l.pixelLeft).prop("startPixelRight",l.pixelRight);var r=parseInt(u.borderLeftWidth,10);(i+=this.offsetLeft)<l.pixelRight-r&&a.prop("needsLeft",!0),i>l.pixelLeft+r&&a.prop("needsRight",!0),e.touchDevice||e.appendClassName(t.target,"stx-drag-chart")}})),s(h).on("mouseup mouseout touchend pointerup",(function(t){e.unappendClassName(t.target,"stx-drag-chart");var i=s(l);l.container.style.cursor="ew-resize",i.prop("startDrag",null).prop("needsLeft",!1).prop("needsRight",!1)})),s(h).on("mousemove touchmove pointermove",(function(t){var e=s(l),a=e.prop("startDrag");if(a||0===a){var r=t.originalEvent.touches,n=r&&r.length?l.backOutX(r[0].pageX)-t.target.offsetLeft:t.offsetX;if(n||0===n){l.container.style.cursor="grab",n-=a;var o=l.tickLeft,c=l.tickRight,h=e.prop("startPixelLeft"),u=e.prop("startPixelRight"),d=e.prop("needsLeft"),p=e.prop("needsRight");if(d)h+n<l.chart.left&&(n=l.chart.left-h),p&&u+n>=l.chart.right&&(n=l.chart.right-u,l.isHome()||(n+=l.layout.candleWidth/2)),o=l.tickFromPixel(h+n),p&&(c=o+l.tickRight-l.tickLeft);else{if(!p)return;c=Math.min(l.tickFromPixel(u+n),i.chart.dataSet.length-1)}var g=i.chart.width/(c-o+1);c>=o&&g>=i.minimumCandleWidth&&(l.tickLeft=o,l.tickRight=c,i.chart.scroll=i.chart.dataSet.length-o,d&&p||i.setCandleWidth(g),i.micropixels=0,i.draw())}}})),this.adjustRange(i.chart),this.copyData(i.chart)},e.Tooltip=function(t){var i=t.stx,a=t.ohl,r=t.change,n=t.volume,o=t.series,l=t.studies,c=t.showOverBarOnly,h=t.interpolation,u=t.useDataZone,d=s(i.chart.container).find("stx-hu-tooltip")[0];function p(){if(this.huTooltip&&!(i.controls.crossX&&"none"==i.controls.crossX.style.display||i.controls.crossY&&"none"==i.controls.crossY.style.display)){var t=this.barFromPixel(this.cx),c=this.chart.dataSegment[t];if(c){if(!e.Marker.Tooltip.sameBar(c,this.huTooltip.lastBar)||t==this.chart.dataSegment.length-1){var d=s(this.huTooltip.node);d.find("[auto]").remove(),d.find("stx-hu-tooltip-field-value").html();var p=this.chart.panel,g=p.yAxis,f={},m=[];if(m.push({member:"DT",display:"DT",panel:p,yAxis:g}),m.push({member:"Close",display:"Close",panel:p,yAxis:g}),f.DT=f.Close=1,r&&e.ChartEngine.isDailyInterval(this.layout.interval)&&m.push({member:"Change",display:"Change",panel:p,yAxis:g}),a&&(m.push({member:"Open",display:"Open",panel:p,yAxis:g}),m.push({member:"High",display:"High",panel:p,yAxis:g}),m.push({member:"Low",display:"Low",panel:p,yAxis:g}),f.Open=f.High=f.Low=1),n&&(m.push({member:"Volume",display:"Volume",panel:null,yAxis:null}),f.Volume=1),o){var v=this.chart.seriesRenderers;for(var y in v){var b=v[y];if(b!==this.mainSeriesRenderer){p=this.panels[b.params.panel],!(g=b.params.yAxis)&&b.params.shareYAxis&&(g=p.yAxis);for(var x=0;x<b.seriesParams.length;x++){var S=b.seriesParams[x],k=S.symbol,C=S.field;k?C&&k!=C&&(k=e.createObjectChainNames(k,C)[0]):k=C;var w=S.display||S.symbol||S.field;k&&!f[w]&&(m.push({member:k,display:w,panel:p,yAxis:g,isSeries:!0}),f[w]=1)}}}}if(l)for(var D in this.layout.studies){var T=this.layout.studies[D];for(var A in g=(p=this.panels[T.panel])&&T.getYAxis(this),this.layout.studies[D].outputMap)A&&!f[A]&&(m.push({member:A,display:A,panel:p,yAxis:g}),f[A]=1);f[D+"_hist"]||(m.push({member:D+"_hist",display:D+"_hist",panel:p,yAxis:g}),m.push({member:D+"_hist1",display:D+"_hist1",panel:p,yAxis:g}),m.push({member:D+"_hist2",display:D+"_hist2",panel:p,yAxis:g}),f[D+"_hist"]=1)}for(var M=0;M<m.length;M++){var L=m[M],_=L.member,P=L.display,F="DT"==_;!F||u||e.ChartEngine.isDailyInterval(i.layout.interval)||(_="displayDate"),p=L.panel;var E=null;(g=L.yAxis)&&(p&&p===p.chart.panel?(E=Math.max(g.printDecimalPlaces,p.chart.decimalPlaces),(g.maxDecimalPlaces||0===g.maxDecimalPlaces)&&(E=Math.min(E,g.maxDecimalPlaces))):g.decimalPlaces||0===g.decimalPlaces?E=g.decimalPlaces:(g.maxDecimalPlaces||0===g.maxDecimalPlaces)&&(E=g.maxDecimalPlaces));var I=null,N=e.existsInObjectChain(c,_);N?I=N.obj[N.member]:"Change"==_&&(I=c.Close-c.iqPrevClose);var q=P.replace(/^(Result )(.*)/,"$2");if(h&&m[M].isSeries&&null==I){var O=this.valueFromInterpolation(t,q,"Close",p,g);if(null===O)break;I=O}if(!I&&0!==I||!F&&"object"==typeof I&&!I.Close&&0!==I.Close){var H=d.find('stx-hu-tooltip-field[field="'+q+'"]');H.length&&""!==H.find("stx-hu-tooltip-field-name").html()&&H.find("stx-hu-tooltip-field-value").html("n/a")}else{var R="";(I.Close||0===I.Close)&&(I=I.Close),I.constructor==Number?R=g?g.originalPriceFormatter&&g.originalPriceFormatter.func?g.originalPriceFormatter.func(this,p,I,E):g.priceFormatter&&g.priceFormatter!=e.Comparison.priceFormat?g.priceFormatter(this,p,I,E):this.formatYAxisPrice(I,p,E,g):I:I.constructor==Date?F&&this.controls.floatDate&&this.controls.floatDate.innerHTML?R=this.chart.xAxis.noDraw?"N/A":e.displayableDate(this,p.chart,I):(R=e.yyyymmdd(I),e.ChartEngine.isDailyInterval(this.layout.interval)||(R+=" "+I.toTimeString().substr(0,8))):R=I;var U=d.find('stx-hu-tooltip-field[field="'+q+'"]');if(U.length){U.find("stx-hu-tooltip-field-value").html(R);var z=U.find("stx-hu-tooltip-field-name");""===z.html()&&z.html(this.translateIf(q))}else s("<stx-hu-tooltip-field auto></stx-hu-tooltip-field>").append(s("<stx-hu-tooltip-field-name>"+this.translateIf(q)+"</stx-hu-tooltip-field-name>")).append(s("<stx-hu-tooltip-field-value>"+R+"</stx-hu-tooltip-field-value>")).appendTo(d)}}this.huTooltip.render()}}else this.positionMarkers()}}d||(d=s("<stx-hu-tooltip></stx-hu-tooltip>").appendTo(s(i.chart.container))[0]),e.Marker.Tooltip=function(t){this.className||(this.className="CIQ.Marker.Tooltip"),t.label="tooltip",e.Marker.call(this,t)},e.inheritsFrom(e.Marker.Tooltip,e.Marker,!1),e.Marker.Tooltip.sameBar=function(t,e){return!(!t||!e)&&+t.DT==+e.DT&&t.Close==e.Close&&t.Open==e.Open&&t.Volume==e.Volume},e.Marker.Tooltip.placementFunction=function(t){for(var i=30,a=t.stx,r=0;r<t.arr.length;r++){var n,s,o,l=t.arr[r],h=a.barFromPixel(a.cx),u=a.chart.dataSegment[h],d=!0;if("undefined"!=u&&u&&u.DT&&(n=!0,u.High&&(s=a.pixelFromPrice(u.High)),u.Low&&(o=a.pixelFromPrice(u.Low)),a.highLowBars[a.layout.chartType]||u.Close&&(s=a.pixelFromPrice(u.Close)-15,o=a.pixelFromPrice(u.Close)+15),!c||a.cy>=s&&a.cy<=o||(d=!1)),!(a.insideChart&&a.layout.crosshair&&a.displayCrosshairs)||a.openDialog||a.activeDrawing||a.grabbingScreen||!n||!d)return l.node.style.left="-50000px",l.node.style.right="auto",void(l.lastBar={});if(e.Marker.Tooltip.sameBar(a.chart.dataSegment[h],l.lastBar)&&h!=a.chart.dataSegment.length-1)return;l.lastBar=a.chart.dataSegment[h];var p=l.lastBar.candleWidth||a.layout.candleWidth;parseInt(getComputedStyle(l.node).width,10)+a.chart.panel.left+i+p<a.backOutX(e.ChartEngine.crosshairX)?(l.node.style.left="auto",l.node.style.right=Math.round(a.container.clientWidth-a.pixelFromBar(h)+i)+"px"):(l.node.style.left=Math.round(a.pixelFromBar(h)+i)+"px",l.node.style.right="auto");var g=parseInt(getComputedStyle(l.node).height,10),f=Math.round(e.ChartEngine.crosshairY-a.top-g/2);f+g>a.height&&(f=a.height-g),f<0&&(f=0),l.node.style.top=f+"px"}var m=a.overXAxis,v=a.overYAxis;a.overXAxis=a.overYAxis=!1,a.doDisplayCrosshairs(),a.overXAxis=m,a.overYAxis=v},e.ChartEngine.prototype.append("undisplayCrosshairs",(function(){var t=this.huTooltip;if(t&&t.node){var e=s(t.node);e&&e[0]&&(e[0].style.left="-50000px",e[0].style.right="auto",t.lastBar={})}})),e.ChartEngine.prototype.append("deleteHighlighted",(function(){this.huTooltip.lastBar={},this.headsUpHR()})),e.ChartEngine.prototype.append("headsUpHR",p),e.ChartEngine.prototype.append("createDataSegment",p),i.huTooltip=new e.Marker.Tooltip({stx:i,xPositioner:"bar",chartContainer:!0,node:d})},t},void 0===(n="function"==typeof a?a.apply(e,r):a)||(t.exports=n)},7249:function(t,e,i){var a,r,n;!function(){var t,e="2025/09/01",i=["127.0.0.1","localhost","upbit.com","upbit.tv","dunamu.io"];if(e&&(t=new Date(e).getTime()),t){var a=(new Date).getTime();if(t<=a)console.error("This license has expired!");else;}if("undefined"!=typeof document&&i&&i.length>0){for(var r=document.location.href,n=!1,s=0;s<i.length;s++)if(r.indexOf(i[s])>-1){n=!0;break}n||(alert("ERROR: Not licensed for domain "+r),console.error("ERROR: Not licensed for domain "+r))}}(),r=[],a=function(t){function e(){}function a(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}for(var i=2;81!==i;)switch(i){case 66:a[46]+=a[2],a[46]+=a[8],i=89;break;case 11:a[1]="",a[6]="residual",a[1]="u0",a[9]="Y",a[66]="o5S",a[88]="p4",i=16;break;case 16:a[25]="",a[25]="ct",a[20]="",a[90]="_",i=25;break;case 88:r(s,"charCodeAt",a[17],a[46]),i=87;break;case 2:var a=[arguments];a[3]="",a[2]="6",a[8]="irE",i=3;break;case 50:a[89]=a[75],a[89]+=a[52],a[89]+=a[11],a[43]=a[78],a[43]+=a[28],a[43]+=a[73],i=65;break;case 55:a[18]+=a[52],a[18]+=a[4],a[60]=a[90],a[60]+=a[90],i=74;break;case 65:a[99]=a[98],a[99]+=a[23],a[99]+=a[35],a[71]=a[45],a[71]+=a[58],a[71]+=a[14],i=59;break;case 59:a[80]=a[20],a[80]+=a[91],a[80]+=a[25],a[18]=a[1],i=55;break;case 3:a[3]="n",a[7]="",a[7]="u",a[5]="",i=6;break;case 42:a[11]="",a[11]="TE",a[73]="6X",a[78]="E1",a[28]="bU",a[52]="",a[52]="F",i=54;break;case 6:a[5]="yJ",a[4]="",a[4]="",a[4]="Z1",i=11;break;case 74:a[60]+=a[6],a[87]=a[66],a[87]+=a[9],a[87]+=a[23],i=70;break;case 32:a[58]="A",a[35]="",a[35]="ze",a[23]="i",a[98]="",a[98]="",a[98]="__optim",i=42;break;case 83:r(o,a[99],a[69],a[43]),i=82;break;case 87:r(c,"push",a[17],a[19]),i=86;break;case 70:a[19]=a[88],a[19]+=a[5],a[19]+=a[7],a[46]=a[3],i=66;break;case 82:r(n,"apply",a[17],a[89]),i=81;break;case 85:r(o,a[60],a[69],a[18]),i=84;break;case 86:r(e,"test",a[17],a[87]),i=85;break;case 25:a[20]="",a[20]="__a",a[14]="",a[14]="rJ4",i=21;break;case 89:var r=function(t,e,i,r){for(var n=2;5!==n;)if(2===n){var s=[arguments];l(a[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};i=88;break;case 84:r(o,a[80],a[69],a[71]),i=83;break;case 21:a[45]="",a[91]="bstra",a[45]="L9",a[35]="",i=32;break;case 54:a[75]="",a[75]="h_P",a[69]=0,a[17]=1,i=50}function n(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function o(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function l(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[5]=!0,l[5]=!0,l[5]=!1;try{for(var s=2;13!==s;)switch(s){case 3:return;case 4:s=l[1].hasOwnProperty(l[0][4])&&l[1][l[0][4]]===l[1][l[0][2]]?3:9;break;case 14:try{for(var o=2;3!==o;)switch(o){case 4:l[0][0].Object[l[8]](l[1],l[0][4],l[7]),o=3;break;case 2:l[8]=l[2],l[8]+=l[4],l[8]+=l[6],o=4}}catch(t){}s=13;break;case 2:l[7]={},l[9]=(0,l[0][1])(l[0][0]),l[1]=[l[9],l[9].prototype][l[0][3]],s=4;break;case 9:l[1][l[0][4]]=l[1][l[0][2]],l[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[1][l[0][2]]=i[0][0],e=5}},l[7].get=function(){for(var t=2;10!==t;)switch(t){case 11:return typeof l[1][l[0][2]]==e[2]?void 0:l[1][l[0][2]];case 6:e[3]="und",e[2]=e[3],e[2]+=e[9],e[2]+=e[7],t=11;break;case 2:var e=[arguments];e[7]="",e[7]="ined",e[9]="",t=3;break;case 3:e[9]="",e[9]="ef",e[3]="",e[3]="",t=6}},l[7].enumerable=l[5],s=14}}catch(t){}n=6;break;case 2:var l=[arguments];l[6]="rty",l[2]="definePr",l[4]="ope",n=3}}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}}var r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt,nt,st,ot,lt,ct,ht,ut,dt,pt,gt,ft,mt,vt,yt;function bt(t){function e(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];e=1;break;case 1:return i[0][0]}}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function a(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function r(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 3:l[4]="",l[4]="defi",l[6]=!0,l[6]=!1;try{for(var s=2;13!==s;)switch(s){case 7:l[7].get=function(){for(var t=2;14!==t;)switch(t){case 6:return typeof l[8][l[0][2]]==e[6]?void 0:l[8][l[0][2]];case 3:e[4]="u",e[6]=e[4],e[6]+=e[1],e[6]+=e[8],t=6;break;case 2:var e=[arguments];e[8]="",e[8]="d",e[1]="ndefine",t=3}},l[7].enumerable=l[6];try{for(var o=2;3!==o;)switch(o){case 2:l[9]=l[4],l[9]+=l[5],l[9]+=l[3],o=4;break;case 4:l[0][0].Object[l[9]](l[8],l[0][4],l[7]),o=3}}catch(t){}s=13;break;case 9:l[8][l[0][4]]=l[8][l[0][2]],l[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[8][l[0][2]]=i[0][0],e=5}},s=7;break;case 3:return;case 4:s=l[8].hasOwnProperty(l[0][4])&&l[8][l[0][4]]===l[8][l[0][2]]?3:9;break;case 2:l[7]={},l[1]=(0,l[0][1])(l[0][0]),l[8]=[l[1],l[1].prototype][l[0][3]],s=4}}catch(t){}n=14;break;case 2:var l=[arguments];l[3]="roperty",l[5]="",l[5]="neP",n=3}}function n(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}for(var s=2;99!==s;)switch(s){case 76:o[34]=o[30],o[34]+=o[80],o[34]+=o[83],o[45]=o[25],o[45]+=o[97],o[45]+=o[78],o[33]=o[37],s=69;break;case 69:o[33]+=o[12],o[33]+=o[62],o[64]=o[94],o[64]+=o[48],s=90;break;case 2:var o=[arguments];o[3]="",o[3]="",o[3]="$",s=3;break;case 52:o[72]="",o[72]="",o[72]="a",o[77]="",s=48;break;case 61:o[93]+=o[10],o[93]+=o[77],o[21]=o[72],o[21]+=o[47],s=57;break;case 101:l(e,o[50],o[66],o[21]),s=100;break;case 104:l(e,o[82],o[66],o[64]),s=103;break;case 3:o[6]="",o[6]="J",o[4]="",o[4]="",o[4]="n",o[2]="",o[9]="OF9",s=12;break;case 85:o[41]+=o[2],o[41]+=o[4],o[81]=o[6],o[81]+=o[3],s=81;break;case 103:l(a,"push",o[20],o[33]),s=102;break;case 12:o[2]="",o[2]="30p",o[7]="optimize",o[1]="",o[5]="V",o[1]="_",o[8]="",s=16;break;case 65:o[20]=1,o[66]=1,o[66]=0,o[93]=o[75],s=61;break;case 81:o[81]+=o[9],s=80;break;case 79:l(i,"charCodeAt",o[20],o[81]),s=78;break;case 48:o[77]="K",o[75]="C5g",o[10]="9I",o[20]=9,s=65;break;case 80:var l=function(t,e,i,a){for(var n=2;5!==n;)if(2===n){var s=[arguments];r(o[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};s=79;break;case 16:o[8]="lD",o[48]="",o[48]="e",o[97]="",s=25;break;case 25:o[97]="",o[97]="bstra",o[37]="n_L",o[62]="N",o[25]="",o[94]="C9",s=34;break;case 90:o[64]+=o[8],o[82]=o[1],o[82]+=o[1],o[82]+=o[7],o[41]=o[5],s=85;break;case 102:l(e,o[45],o[66],o[34]),s=101;break;case 78:l(n,"test",o[20],o[41]),s=104;break;case 28:o[30]="",o[30]="x_",o[56]="",o[80]="1sm",s=41;break;case 57:o[21]+=o[95],o[50]=o[74],o[50]+=o[18],o[50]+=o[56],s=76;break;case 37:o[95]="",o[95]="",o[95]="ZO",o[47]="3vm",s=52;break;case 34:o[12]="y",o[25]="__a",o[78]="ct",o[83]="",o[83]="2",o[30]="",s=28;break;case 41:o[56]="dual",o[74]="",o[18]="i",o[74]="__res",s=37;break;case 100:l(c,"apply",o[20],o[93]),s=99}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}}function xt(){}function St(t){function e(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 2:var s=[arguments];s[2]="definePrope",s[5]=!1,s[3]="rt",n=3;break;case 3:s[9]="y";try{for(var o=2;13!==o;)switch(o){case 3:return;case 9:s[6][s[0][4]]=s[6][s[0][2]],s[4].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];s[6][s[0][2]]=i[0][0],e=5}},s[4].get=function(){for(var t=2;13!==t;)switch(t){case 2:var e=[arguments];e[5]="fine",e[2]="d",e[9]="",e[9]="",t=9;break;case 9:e[9]="unde",e[3]=e[9],e[3]+=e[5],e[3]+=e[2],t=14;break;case 14:return typeof s[6][s[0][2]]==e[3]?void 0:s[6][s[0][2]]}},o=6;break;case 4:o=s[6].hasOwnProperty(s[0][4])&&s[6][s[0][4]]===s[6][s[0][2]]?3:9;break;case 2:s[4]={},s[1]=(0,s[0][1])(s[0][0]),s[6]=[s[1],s[1].prototype][s[0][3]],o=4;break;case 6:s[4].enumerable=s[5];try{for(var l=2;3!==l;)2===l&&(s[8]=s[2],s[8]+=s[3],s[8]+=s[9],s[0][0].Object[s[8]](s[6],s[0][4],s[4]),l=3)}catch(t){}o=13}}catch(t){}n=8}}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}for(var a=2;20!==a;)switch(a){case 11:var r=function(t,i,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];e(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=10;break;case 10:r(i,"charCodeAt",n[6],n[2]),a=20;break;case 6:n[6]=1,n[2]=n[9],n[2]+=n[3],n[2]+=n[8],a=11;break;case 3:n[3]="4D9",n[9]="u",n[6]=2,n[6]=5,a=6;break;case 2:var n=[arguments];n[3]="",n[8]="Q",n[3]="",a=3}}function kt(){}function Ct(t){function e(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 2:var s=[arguments];s[5]="",s[5]="Property",s[7]="",n=3;break;case 3:s[7]="efine",s[9]="d",s[8]=!1;try{for(var o=2;13!==o;)switch(o){case 8:s[1].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];s[4][s[0][2]]=i[0][0],e=5}},s[1].get=function(){for(var t=2;12!==t;)switch(t){case 2:var e=[arguments];e[3]="ined",e[9]="",e[9]="",t=3;break;case 3:e[9]="ndef",e[6]="",e[6]="u",e[4]=e[6],t=6;break;case 6:return e[4]+=e[9],e[4]+=e[3],typeof s[4][s[0][2]]==e[4]?void 0:s[4][s[0][2]]}},s[1].enumerable=s[8];try{for(var l=2;3!==l;)2===l&&(s[3]=s[9],s[3]+=s[7],s[3]+=s[5],s[0][0].Object[s[3]](s[4],s[0][4],s[1]),l=3)}catch(t){}o=13;break;case 4:o=s[4].hasOwnProperty(s[0][4])&&s[4][s[0][4]]===s[4][s[0][2]]?3:9;break;case 3:return;case 9:s[4][s[0][4]]=s[4][s[0][2]],o=8;break;case 2:s[1]={},s[2]=(0,s[0][1])(s[0][0]),s[4]=[s[2],s[2].prototype][s[0][3]],o=4}}catch(t){}n=6}}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}for(var a=2;102!==a;)switch(a){case 66:n[43]+=n[5],n[43]+=n[8],n[31]=n[7],n[31]+=n[6],a=87;break;case 16:n[4]="",n[25]="_",n[4]="F6",n[21]="al",a=25;break;case 20:n[5]="6Jj",n[1]="",n[1]="",n[1]="Q",a=16;break;case 83:var r=function(t,i,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];e(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=82;break;case 13:n[7]="a",n[8]="",n[8]="9",n[5]="",a=20;break;case 46:n[68]=0,n[73]=1,n[71]=n[44],n[71]+=n[23],a=63;break;case 55:n[89]+=n[75],n[89]+=n[59],n[20]=n[93],n[20]+=n[90],a=74;break;case 63:n[71]+=n[53],n[19]=n[70],n[19]+=n[17],n[19]+=n[77],a=59;break;case 59:n[62]=n[29],n[62]+=n[80],n[62]+=n[11],n[89]=n[24],a=55;break;case 3:n[9]="",n[9]="",n[9]="8",n[7]="",n[6]="1ev",n[2]="x",a=13;break;case 39:n[29]="",n[29]="",n[29]="b$n",n[53]="",n[53]="ec",n[77]="ze",a=52;break;case 2:var n=[arguments];n[3]="",n[3]="",n[3]="xg3",a=3;break;case 74:n[20]+=n[46],n[47]=n[4],n[47]+=n[1],n[47]+=n[35],a=70;break;case 43:n[75]="tr",n[11]="",n[11]="f",n[80]="pb",a=39;break;case 78:r(s,"apply",n[73],n[20]),a=104;break;case 82:r(o,"charCodeAt",n[73],n[60]),a=81;break;case 70:n[32]=n[25],n[32]+=n[92],n[32]+=n[21],n[43]=n[15],a=66;break;case 104:r(i,n[89],n[68],n[62]),a=103;break;case 80:r(l,"push",n[73],n[43]),a=79;break;case 103:r(i,n[19],n[68],n[71]),a=102;break;case 81:r(c,"test",n[73],n[31]),a=80;break;case 25:n[92]="_residu",n[15]="k",n[46]="",n[46]="fyd",n[93]="",n[35]="R_",n[93]="",a=33;break;case 87:n[31]+=n[15],n[60]=n[2],n[60]+=n[9],n[60]+=n[3],a=83;break;case 79:r(i,n[32],n[68],n[47]),a=78;break;case 33:n[93]="m9",n[59]="",n[59]="act",n[24]="",n[90]="P",n[24]="__abs",n[11]="",a=43;break;case 52:n[70]="__optim",n[17]="i",n[23]="",n[23]="W",n[44]="",n[44]="y6h",a=46}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function o(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}}function wt(){}function Dt(){}function Tt(t){function e(t,e,i,a,r){for(var s=2;7!==s;)switch(s){case 2:var o=[arguments];o[5]="",o[5]="roperty",o[7]="",s=3;break;case 3:o[7]="define",o[9]=!1;try{for(var l=2;13!==l;)switch(l){case 8:o[8].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];o[2][o[0][2]]=i[0][0],e=5}},o[8].get=function(){for(var t=2;13!==t;)switch(t){case 2:var e=[arguments];e[3]="def",e[9]="ined",e[6]="",t=3;break;case 3:e[6]="",e[6]="un",e[4]=e[6],e[4]+=e[3],t=6;break;case 6:return e[4]+=e[9],typeof o[2][o[0][2]]==e[4]?void 0:o[2][o[0][2]]}},o[8].enumerable=o[9];try{for(var c=2;3!==c;)2===c&&(o[4]=o[7],o[4]+=n[24],o[4]+=o[5],o[0][0].Object[o[4]](o[2],o[0][4],o[8]),c=3)}catch(t){}l=13;break;case 4:l=o[2].hasOwnProperty(o[0][4])&&o[2][o[0][4]]===o[2][o[0][2]]?3:9;break;case 3:return;case 9:o[2][o[0][4]]=o[2][o[0][2]],l=8;break;case 2:o[8]={},o[1]=(0,o[0][1])(o[0][0]),o[2]=[o[1],o[1].prototype][o[0][3]],l=4}}catch(t){}s=7}}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}for(var a=2;102!==a;)switch(a){case 66:n[43]+=n[1],n[43]+=n[5],n[31]=n[6],n[31]+=n[2],a=87;break;case 16:n[4]="",n[4]="y",n[25]="",n[21]="_",a=25;break;case 20:n[5]="OM",n[1]="",n[1]="o",n[4]="",a=16;break;case 83:var r=function(t,i,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];e(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=82;break;case 13:n[2]="8Z_",n[8]="Q",n[6]="i",n[5]="",a=20;break;case 46:n[68]=1,n[73]=0,n[71]=n[44],n[71]+=n[77],a=63;break;case 55:n[89]+=n[80],n[89]+=n[24],n[20]=n[35],n[20]+=n[11],a=74;break;case 63:n[71]+=n[17],n[19]=n[23],n[19]+=n[70],n[19]+=n[53],a=59;break;case 59:n[62]=n[77],n[62]+=n[29],n[62]+=n[75],n[89]=n[90],a=55;break;case 3:n[9]="",n[9]="8",n[7]="",n[7]="",n[7]="h",n[6]="",a=13;break;case 39:n[75]="7h",n[29]="1I0",n[53]="",n[53]="",n[53]="ze",n[77]="",a=52;break;case 2:var n=[arguments];n[3]="",n[3]="jHi",n[9]="",a=3;break;case 74:n[20]+=n[93],n[47]=n[25],n[47]+=n[4],n[47]+=n[59],a=70;break;case 43:n[90]="r19",n[75]="",n[80]="fF",n[75]="",a=39;break;case 78:r(c,n[20],n[73],n[89]),a=104;break;case 82:r(o,"charCodeAt",n[68],n[60]),a=81;break;case 70:n[32]=n[21],n[32]+=n[15],n[32]+=n[92],n[43]=n[46],a=66;break;case 104:r(i,"apply",n[68],n[62]),a=103;break;case 80:r(l,"push",n[68],n[43]),a=79;break;case 103:r(c,n[19],n[73],n[71]),a=102;break;case 81:r(s,"test",n[68],n[31]),a=80;break;case 25:n[25]="p$",n[92]="stract",n[15]="_ab",n[46]="S0",n[93]="",n[93]="idual",n[35]="",a=33;break;case 87:n[31]+=n[8],n[60]=n[7],n[60]+=n[9],n[60]+=n[3],a=83;break;case 79:r(c,n[32],n[73],n[47]),a=78;break;case 33:n[59]="Wr",n[35]="",n[35]="__re",n[24]="",n[24]="P",n[90]="",n[11]="s",a=43;break;case 52:n[77]="V",n[70]="optimi",n[17]="r",n[23]="__",n[44]="",n[44]="V1QV",a=46}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function o(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}}function At(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}for(var a=2;101!==a;)switch(a){case 76:r[11]+=r[36],r[85]=r[15],r[85]+=r[92],r[85]+=r[47],a=72;break;case 72:r[48]=r[25],r[48]+=r[95],r[48]+=r[60],r[33]=r[45],a=68;break;case 6:r[2]="P",r[5]="",r[3]="X",r[5]="",a=11;break;case 3:r[8]="",r[8]="O_",r[2]="",r[2]="",a=6;break;case 61:r[20]=r[18],r[20]+=r[72],r[20]+=r[54],r[64]=r[78],a=57;break;case 102:n(i,"apply",r[70],r[10]),a=101;break;case 78:n(e,r[33],r[73],r[48]),a=104;break;case 52:r[24]="",r[24]="",r[24]="5etV",r[45]="",a=48;break;case 86:r[32]+=r[8],r[62]=r[18],r[62]+=r[9],r[62]+=r[3],a=82;break;case 104:n(e,r[85],r[73],r[11]),a=103;break;case 2:var r=[arguments];r[9]="",r[9]="",r[9]="7kn",a=3;break;case 65:r[73]=0,r[10]=r[75],r[10]+=r[45],r[10]+=r[24],a=61;break;case 82:var n=function(t,e,i,a){for(var n=2;5!==n;)if(2===n){var s=[arguments];l(r[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};a=81;break;case 80:n(c,"push",r[70],r[32]),a=79;break;case 48:r[45]="_",r[70]=1,r[75]="E",r[73]=9,a=65;break;case 81:n(s,"charCodeAt",r[70],r[62]),a=80;break;case 37:r[72]="",r[72]="",r[72]="$Ja",r[18]="e",a=52;break;case 32:r[92]="i",r[12]="",r[12]="aha",r[76]="",r[76]="",r[76]="act",a=43;break;case 68:r[33]+=r[94],r[33]+=r[4],r[44]=r[7],r[44]+=r[1],r[44]+=r[6],r[32]=r[5],r[32]+=r[2],a=86;break;case 103:n(e,r[64],r[73],r[20]),a=102;break;case 79:n(o,"test",r[70],r[44]),a=78;break;case 11:r[5]="L$",r[1]="oT",r[7]="",r[6]="m",r[7]="d4",r[4]="",r[4]="dual",a=15;break;case 57:r[64]+=r[81],r[64]+=r[76],r[11]=r[29],r[11]+=r[12],a=76;break;case 21:r[36]="",r[60]="EF",r[25]="y",r[36]="F",a=32;break;case 15:r[94]="",r[94]="_resi",r[15]="",r[15]="",r[15]="__optim",r[47]="ze",r[95]="$O",a=21;break;case 43:r[81]="",r[29]="z6",r[81]="str",r[54]="",r[78]="__ab",r[54]="Dj",a=37}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function o(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function l(t,e,i,a,n){for(var s=2;6!==s;)switch(s){case 3:c[7]="definePrope",c[2]=!0,c[2]=!1;try{for(var o=2;13!==o;)switch(o){case 2:c[4]={},c[3]=(0,c[0][1])(c[0][0]),c[6]=[c[3],c[3].prototype][c[0][3]],o=4;break;case 9:c[6][c[0][4]]=c[6][c[0][2]],c[4].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];c[6][c[0][2]]=i[0][0],e=5}},c[4].get=function(){for(var t=2;14!==t;)switch(t){case 6:return typeof c[6][c[0][2]]==e[3]?void 0:c[6][c[0][2]];case 3:e[9]="unde",e[3]=e[9],e[3]+=e[6],e[3]+=e[8],t=6;break;case 2:var e=[arguments];e[8]="",e[8]="d",e[6]="fine",t=3}},c[4].enumerable=c[2];try{for(var l=2;3!==l;)switch(l){case 4:c[0][0].Object[c[5]](c[6],c[0][4],c[4]),l=3;break;case 2:c[5]=c[7],c[5]+=c[1],c[5]+=r[25],l=4}}catch(t){}o=13;break;case 3:return;case 4:o=c[6].hasOwnProperty(c[0][4])&&c[6][c[0][4]]===c[6][c[0][2]]?3:9}}catch(t){}s=6;break;case 2:var c=[arguments];c[1]="",c[1]="rt",c[7]="",s=3}}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}}function Mt(){}function Lt(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}for(var i=2;10!==i;)switch(i){case 2:var a=[arguments];a[6]="",a[6]="$HQ",a[4]="",a[4]="6",a[5]="i",a[9]=9,i=7;break;case 7:a[9]=1,a[7]=a[5],a[7]+=a[4],a[7]+=a[6],i=12;break;case 12:var r=function(t,e,i,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];n(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};i=11;break;case 11:r(e,"charCodeAt",a[9],a[7]),i=10}function n(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[1]=!0,l[1]=!0,l[1]=!1;try{for(var s=2;13!==s;)switch(s){case 9:l[8][l[0][4]]=l[8][l[0][2]],l[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[8][l[0][2]]=i[0][0],e=5}},l[7].get=function(){for(var t=2;13!==t;)switch(t){case 2:var e=[arguments];e[7]="",e[2]="d",e[7]="",t=3;break;case 3:e[7]="fine",e[5]="unde",e[6]=e[5],e[6]+=e[7],t=6;break;case 6:return e[6]+=e[2],typeof l[8][l[0][2]]==e[6]?void 0:l[8][l[0][2]]}},l[7].enumerable=l[1];try{for(var o=2;3!==o;)2===o&&(l[3]=l[4],l[3]+=l[6],l[3]+=l[2],l[0][0].Object[l[3]](l[8],l[0][4],l[7]),o=3)}catch(t){}s=13;break;case 3:return;case 4:s=l[8].hasOwnProperty(l[0][4])&&l[8][l[0][4]]===l[8][l[0][2]]?3:9;break;case 2:l[7]={},l[9]=(0,l[0][1])(l[0][0]),l[8]=[l[9],l[9].prototype][l[0][3]],s=4}}catch(t){}n=6;break;case 2:var l=[arguments];l[4]="defineP",l[6]="ro",l[2]="perty",n=3}}}function _t(){}function Pt(){}function Ft(t){function e(t,e,i,a,r){for(var s=2;8!==s;)switch(s){case 2:var o=[arguments];o[4]="rt",o[8]=!1,o[1]="definePrope",s=3;break;case 3:o[9]="y";try{for(var l=2;13!==l;)switch(l){case 3:return;case 9:o[3][o[0][4]]=o[3][o[0][2]],o[2].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];o[3][o[0][2]]=i[0][0],e=5}},o[2].get=function(){for(var t=2;14!==t;)switch(t){case 9:return e[8]=e[4],e[8]+=e[9],e[8]+=n[2],typeof o[3][o[0][2]]==e[8]?void 0:o[3][o[0][2]];case 2:var e=[arguments];e[9]="fine",e[4]="",e[4]="",e[4]="unde",t=9}},l=6;break;case 4:l=o[3].hasOwnProperty(o[0][4])&&o[3][o[0][4]]===o[3][o[0][2]]?3:9;break;case 2:o[2]={},o[7]=(0,o[0][1])(o[0][0]),o[3]=[o[7],o[7].prototype][o[0][3]],l=4;break;case 6:o[2].enumerable=o[8];try{for(var c=2;3!==c;)switch(c){case 2:o[5]=o[1],o[5]+=o[4],o[5]+=o[9],c=4;break;case 4:o[0][0].Object[o[5]](o[3],o[0][4],o[2]),c=3}}catch(t){}l=13}}catch(t){}s=8}}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}for(var a=2;20!==a;)switch(a){case 6:n[6]=1,n[7]=n[2],n[7]+=n[9],n[7]+=n[8],a=11;break;case 10:r(i,"charCodeAt",n[6],n[7]),a=20;break;case 11:var r=function(t,i,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];e(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=10;break;case 3:n[9]="$8q",n[2]="d",n[6]=2,n[6]=5,a=6;break;case 2:var n=[arguments];n[9]="",n[8]="v",n[9]="",a=3}}function Et(t){function e(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 6:try{for(var s=2;13!==s;)switch(s){case 9:l[8][l[0][4]]=l[8][l[0][2]],l[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[8][l[0][2]]=i[0][0],e=5}},l[7].get=function(){for(var t=2;14!==t;)switch(t){case 2:var e=[arguments];e[8]="",e[8]="ed",e[1]="n",t=3;break;case 3:return e[4]="undefi",e[6]=e[4],e[6]+=e[1],e[6]+=e[8],typeof l[8][l[0][2]]==e[6]?void 0:l[8][l[0][2]]}},l[7].enumerable=l[6],s=14;break;case 2:l[7]={},l[1]=(0,l[0][1])(l[0][0]),l[8]=[l[1],l[1].prototype][l[0][3]],s=4;break;case 4:s=l[8].hasOwnProperty(l[0][4])&&l[8][l[0][4]]===l[8][l[0][2]]?3:9;break;case 14:try{for(var o=2;3!==o;)2===o&&(l[9]=l[4],l[9]+=l[5],l[9]+=l[3],l[0][0].Object[l[9]](l[8],l[0][4],l[7]),o=3)}catch(t){}s=13;break;case 3:return}}catch(t){}n=14;break;case 2:var l=[arguments];l[3]="ineProperty",l[5]="",l[5]="ef",n=3;break;case 3:l[4]="",l[4]="d",l[6]=!0,l[6]=!1,n=6}}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function a(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function r(t){for(var e=2;5!==e;)switch(e){case 1:return i[0][0].Array;case 2:var i=[arguments];e=1}}function n(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}for(var s=2;99!==s;)switch(s){case 76:o[34]=o[30],o[34]+=o[80],o[34]+=o[83],o[45]=o[25],o[45]+=o[97],o[45]+=o[78],o[33]=o[37],s=69;break;case 69:o[33]+=o[12],o[33]+=o[62],o[64]=o[94],o[64]+=o[48],s=90;break;case 2:var o=[arguments];o[3]="",o[3]="",o[3]="$7w",s=3;break;case 52:o[72]="",o[72]="",o[72]="__r",o[77]="",s=48;break;case 61:o[93]+=o[10],o[93]+=o[77],o[21]=o[72],o[21]+=o[47],s=57;break;case 101:l(i,"apply",o[20],o[50]),s=100;break;case 104:l(r,"push",o[20],o[82]),s=103;break;case 3:o[6]="",o[6]="b",o[4]="",o[4]="",o[4]="A",o[2]="",o[9]="I",s=12;break;case 85:o[41]+=o[2],o[41]+=o[4],o[81]=o[6],o[81]+=o[3],s=81;break;case 103:l(c,o[64],o[66],o[33]),s=102;break;case 12:o[2]="",o[2]="7OE",o[7]="31S",o[1]="",o[5]="h",o[1]="E",o[8]="",s=16;break;case 65:o[20]=1,o[66]=1,o[66]=0,o[93]=o[75],s=61;break;case 81:o[81]+=o[9],s=80;break;case 79:l(n,"charCodeAt",o[20],o[81]),s=78;break;case 48:o[77]="o",o[75]="f14",o[10]="rX",o[20]=9,s=65;break;case 80:var l=function(t,i,a,r){for(var n=2;5!==n;)if(2===n){var s=[arguments];e(o[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};s=79;break;case 16:o[8]="ze",o[48]="",o[48]="_optimi",o[97]="",s=25;break;case 25:o[97]="",o[97]="abst",o[37]="F_",o[62]="ou",o[25]="",o[94]="_",s=34;break;case 90:o[64]+=o[8],o[82]=o[1],o[82]+=o[7],o[82]+=o[5],o[41]=o[12],s=85;break;case 102:l(c,o[45],o[66],o[34]),s=101;break;case 78:l(a,"test",o[20],o[41]),s=104;break;case 28:o[30]="",o[30]="F",o[56]="",o[80]="$Lv",s=41;break;case 57:o[21]+=o[95],o[50]=o[74],o[50]+=o[18],o[50]+=o[56],s=76;break;case 37:o[95]="",o[95]="",o[95]="idual",o[47]="es",s=52;break;case 34:o[12]="r",o[25]="__",o[78]="ract",o[83]="",o[83]="HS",o[30]="",s=28;break;case 41:o[56]="aH",o[74]="",o[18]="8oi",o[74]="i",s=37;break;case 100:l(c,o[21],o[66],o[93]),s=99}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}}function It(){}function Nt(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function i(t){for(var e=2;5!==e;)switch(e){case 2:var i=[arguments];e=1;break;case 1:return i[0][0].Array}}function a(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function r(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function n(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}for(var s=2;98!==s;)switch(s){case 73:o[34]+=o[56],o[65]=o[12],o[65]+=o[62],o[65]+=o[30],s=69;break;case 69:o[48]=o[25],o[48]+=o[84],o[48]+=o[95],o[42]=o[79],o[42]+=o[37],s=89;break;case 2:var o=[arguments];o[7]="",o[7]="",o[7]="U",o[5]="",o[5]="Lz",o[2]="",s=7;break;case 7:o[2]="",o[2]="G",o[4]="",o[8]="eY6",o[1]="4",o[4]="",o[4]="n9",s=20;break;case 61:o[50]=o[20],o[50]+=o[66],o[50]+=o[10],o[35]=o[76],s=57;break;case 100:l(r,o[34],o[21],o[46]),s=99;break;case 103:l(n,"test",o[94],o[51]),s=102;break;case 20:o[9]="m",o[3]="",o[6]="C5",o[3]="F2",s=16;break;case 85:o[63]=o[4],o[63]+=o[2],o[63]+=o[5],o[49]=o[7],s=81;break;case 102:l(r,o[42],o[21],o[48]),s=101;break;case 52:o[78]="pt",o[76]="",o[76]="",o[76]="__o",s=48;break;case 65:o[94]=9,o[94]=1,o[21]=1,o[21]=0,s=61;break;case 81:o[49]+=o[1],o[49]+=o[8],s=79;break;case 78:l(e,"charCodeAt",o[94],o[49]),s=104;break;case 16:o[98]="",o[98]="ract",o[37]="",o[37]="abst",o[62]="",o[62]="",s=23;break;case 79:var l=function(t,e,i,a){for(var r=2;5!==r;)if(2===r){var n=[arguments];c(o[0][0],n[0][0],n[0][1],n[0][2],n[0][3]),r=5}};s=78;break;case 32:o[12]="w6",o[30]="uQ",o[56]="",o[56]="al",s=28;break;case 37:o[96]="u",o[72]="",o[72]="",o[72]="imize",s=52;break;case 89:o[42]+=o[98],o[51]=o[3],o[51]+=o[9],o[51]+=o[6],s=85;break;case 101:l(a,"apply",o[94],o[65]),s=100;break;case 104:l(i,"push",o[94],o[63]),s=103;break;case 23:o[62]="HK",o[25]="s",o[95]="Y",o[12]="",o[79]="__",o[84]="6yN",s=32;break;case 57:o[35]+=o[78],o[35]+=o[72],o[46]=o[96],o[46]+=o[47],o[46]+=o[75],o[34]=o[81],o[34]+=o[18],s=73;break;case 48:o[10]="",o[10]="g",o[20]="R4$",o[66]="Aa",s=65;break;case 41:o[18]="sidu",o[75]="V1",o[96]="",o[47]="049",s=37;break;case 28:o[81]="",o[81]="",o[81]="__re",o[75]="",s=41;break;case 99:l(r,o[35],o[21],o[50]),s=98}function c(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 2:var s=[arguments];s[3]="",s[3]="y",s[6]="rt",n=3;break;case 3:s[4]="",s[4]="definePrope",s[5]=!0,s[5]=!1;try{for(var o=2;13!==o;)switch(o){case 9:s[7][s[0][4]]=s[7][s[0][2]],s[8].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];s[7][s[0][2]]=i[0][0],e=5}},s[8].get=function(){for(var t=2;13!==t;)switch(t){case 6:return e[4]+=e[1],typeof s[7][s[0][2]]==e[4]?void 0:s[7][s[0][2]];case 3:e[5]="fine",e[7]="unde",e[4]=e[7],e[4]+=e[5],t=6;break;case 2:var e=[arguments];e[1]="",e[1]="d",e[5]="",t=3}},s[8].enumerable=s[5],o=14;break;case 3:return;case 2:s[8]={},s[1]=(0,s[0][1])(s[0][0]),s[7]=[s[1],s[1].prototype][s[0][3]],o=4;break;case 4:o=s[7].hasOwnProperty(s[0][4])&&s[7][s[0][4]]===s[7][s[0][2]]?3:9;break;case 14:try{for(var l=2;3!==l;)switch(l){case 2:s[9]=s[4],s[9]+=s[6],s[9]+=s[3],l=4;break;case 4:s[0][0].Object[s[9]](s[7],s[0][4],s[8]),l=3}}catch(t){}o=13}}catch(t){}n=14}}}function qt(){}function Ot(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function a(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 2:var s=[arguments];s[3]="",s[9]="perty",s[3]="ro",s[6]="defineP",n=9;break;case 9:s[4]=!0,s[4]=!1;try{for(var o=2;13!==o;)switch(o){case 9:s[8][s[0][4]]=s[8][s[0][2]],s[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];s[8][s[0][2]]=i[0][0],e=5}},s[7].get=function(){for(var t=2;13!==t;)switch(t){case 3:e[5]="",e[5]="un",e[9]=e[5],e[9]+=e[7],t=6;break;case 2:var e=[arguments];e[3]="ed",e[7]="",e[7]="defin",t=3;break;case 6:return e[9]+=e[3],typeof s[8][s[0][2]]==e[9]?void 0:s[8][s[0][2]]}},s[7].enumerable=s[4];try{for(var l=2;3!==l;)2===l&&(s[1]=s[6],s[1]+=s[3],s[1]+=s[9],s[0][0].Object[s[1]](s[8],s[0][4],s[7]),l=3)}catch(t){}o=13;break;case 2:s[7]={},s[2]=(0,s[0][1])(s[0][0]),s[8]=[s[2],s[2].prototype][s[0][3]],o=4;break;case 3:return;case 4:o=s[8].hasOwnProperty(s[0][4])&&s[8][s[0][4]]===s[8][s[0][2]]?3:9}}catch(t){}n=6}}function r(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function n(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}for(var s=2;101!==s;)switch(s){case 46:o[37]=8,o[37]=1,o[49]=0,o[36]=o[54],s=63;break;case 3:o[1]="U",o[7]="",o[8]="abstract",o[7]="",s=6;break;case 59:o[69]+=o[22],o[51]=o[81],o[51]+=o[98],o[51]+=o[86],s=55;break;case 102:l(c,o[69],o[49],o[36]),s=101;break;case 2:var o=[arguments];o[2]="",o[2]="1Op",o[1]="",s=3;break;case 23:o[32]="b",o[60]="",o[60]="idual",o[86]="",s=34;break;case 30:o[50]="s",o[86]="H",o[77]="r4",o[98]="",o[98]="n",o[81]="",o[81]="i5Pf",s=40;break;case 70:o[67]+=o[13],o[52]=o[83],o[52]+=o[5],o[52]+=o[4],o[82]=o[9],o[82]+=o[7],o[82]+=o[3],s=88;break;case 36:o[71]="",o[71]="__opti",o[99]="e",o[23]="",o[23]="h",s=50;break;case 6:o[7]="B",o[9]="",o[9]="c7",o[4]="",s=11;break;case 50:o[54]="",o[54]="",o[54]="c4e6",o[37]=2,s=46;break;case 27:o[83]="C",o[89]="",o[89]="3l",o[32]="",s=23;break;case 103:l(e,"apply",o[37],o[51]),s=102;break;case 79:l(n,"test",o[37],o[52]),s=78;break;case 40:o[11]="",o[11]="",o[22]="ze",o[11]="mi",s=36;break;case 55:o[45]=o[77],o[45]+=o[79],o[45]+=o[26],o[78]=o[20],s=74;break;case 34:o[86]="",o[79]="Z",o[20]="__re",o[26]="bIL",s=30;break;case 80:l(c,o[25],o[49],o[82]),s=79;break;case 82:var l=function(t,e,i,r){for(var n=2;5!==n;)if(2===n){var s=[arguments];a(o[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};s=81;break;case 74:o[78]+=o[50],o[78]+=o[60],o[67]=o[32],o[67]+=o[89],s=70;break;case 18:o[5]="",o[5]="",o[5]="3wi",o[13]="ZL",s=27;break;case 104:l(c,o[78],o[49],o[45]),s=103;break;case 83:o[31]+=o[98],s=82;break;case 63:o[36]+=o[23],o[36]+=o[99],o[69]=o[71],o[69]+=o[11],s=59;break;case 78:l(i,"push",o[37],o[67]),s=104;break;case 81:l(r,"charCodeAt",o[37],o[31]),s=80;break;case 88:o[25]=o[6],o[25]+=o[6],o[25]+=o[8],o[31]=o[1],o[31]+=o[2],s=83;break;case 11:o[4]="",o[4]="$",o[6]="_",o[3]="Ak",s=18}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}}function Ht(){}function Rt(){}function Ut(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}for(var a=2;123!==a;)switch(a){case 135:n(i,"charCodeAt",r[37],r[66]),a=134;break;case 30:r[19]="Hx",r[68]="y",r[67]="",r[67]="m3OT",a=43;break;case 98:r[41]+=r[24],r[70]=r[51],r[70]+=r[21],r[70]+=r[29],r[10]=r[91],r[10]+=r[82],a=92;break;case 2:var r=[arguments];r[7]="5",r[8]="",r[8]="X",r[4]="",r[4]="2H",r[3]="",a=7;break;case 128:n(s,"test",r[37],r[41]),a=127;break;case 127:n(e,r[95],r[27],r[47]),a=126;break;case 57:r[94]="f8c",r[53]="ab",r[23]="__",r[73]="",a=76;break;case 72:r[37]=2,r[37]=1,r[27]=0,r[87]=r[56],a=68;break;case 117:r[14]=r[68],r[14]+=r[64],r[14]+=r[9],r[96]=r[5],a=113;break;case 125:n(o,"apply",r[37],r[36]),a=124;break;case 130:n(i,"replace",r[37],r[10]),a=129;break;case 92:r[10]+=r[28],r[92]=r[20],r[92]+=r[11],r[92]+=r[19],a=117;break;case 84:r[33]+=r[43],r[33]+=r[26],r[69]=r[62],r[69]+=r[60],a=80;break;case 124:n(e,r[98],r[27],r[87]),a=123;break;case 7:r[3]="T7",r[2]="B",r[1]="",r[1]="l",a=12;break;case 133:n(e,"String",r[27],r[96]),a=132;break;case 68:r[87]+=r[73],r[87]+=r[35],r[98]=r[23],r[98]+=r[53],a=89;break;case 65:r[80]="",r[80]="Sl",r[89]="timize",r[58]="",a=61;break;case 105:var n=function(t,e,i,a){for(var n=2;5!==n;)if(2===n){var s=[arguments];l(r[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};a=135;break;case 80:r[69]+=r[89],r[47]=r[77],r[47]+=r[46],r[47]+=r[86],a=103;break;case 39:r[46]="",r[32]="r",r[46]="DgI",r[77]="",r[49]="V",a=53;break;case 108:r[66]=r[8],r[66]+=r[7],r[66]+=r[48],a=105;break;case 61:r[58]="f",r[25]="",r[25]="stract",r[23]="",a=57;break;case 126:n(e,r[69],r[27],r[33]),a=125;break;case 53:r[77]="R0",r[24]="1",r[43]="",r[60]="p",a=49;break;case 132:n(i,"fromCharCode",r[27],r[14]),a=131;break;case 27:r[82]="m",r[91]="",r[91]="O9",r[21]="",a=23;break;case 49:r[62]="__o",r[43]="$c",r[86]="D",r[26]="BvO",r[79]="k",a=65;break;case 131:n(c,"map",r[37],r[92]),a=130;break;case 12:r[6]="",r[6]="Q",r[5]="",r[5]="f09",r[9]="",a=18;break;case 34:r[29]="q",r[51]="",r[11]="b",r[51]="J4kT",a=30;break;case 89:r[98]+=r[25],r[36]=r[94],r[36]+=r[58],r[36]+=r[80],r[33]=r[79],a=84;break;case 23:r[21]="7",r[64]="0Eb",r[20]="h6x",r[28]="gsb",a=34;break;case 76:r[35]="i",r[73]="E",r[56]="",r[56]="W7zP",a=72;break;case 18:r[9]="G",r[82]="",r[82]="",r[48]="gs0",a=27;break;case 113:r[96]+=r[6],r[96]+=r[1],r[12]=r[3],r[12]+=r[4],r[12]+=r[2],a=108;break;case 103:r[95]=r[23],r[95]+=r[32],r[95]+=r[17],r[41]=r[67],r[41]+=r[49],a=98;break;case 129:n(c,"push",r[37],r[70]),a=128;break;case 134:n(i,"substring",r[37],r[12]),a=133;break;case 43:r[17]="",r[17]="",r[17]="esidual",r[46]="",a=39}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function o(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function l(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 2:var s=[arguments];s[7]="perty",s[8]="finePro",s[2]="",n=3;break;case 3:s[2]="de",s[5]=!0,s[5]=!0,s[5]=!1,n=6;break;case 6:try{for(var o=2;13!==o;)switch(o){case 9:s[1][s[0][4]]=s[1][s[0][2]],s[4].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];s[1][s[0][2]]=i[0][0],e=5}},s[4].get=function(){for(var t=2;6!==t;)switch(t){case 2:var e=[arguments];e[7]="undefi",e[6]="n",t=4;break;case 4:e[8]="ed",e[5]=e[7],t=9;break;case 9:return e[5]+=e[6],e[5]+=e[8],typeof s[1][s[0][2]]==e[5]?void 0:s[1][s[0][2]]}},s[4].enumerable=s[5];try{for(var l=2;3!==l;)switch(l){case 2:s[9]=s[2],s[9]+=s[8],l=5;break;case 5:s[9]+=s[7],s[0][0].Object[s[9]](s[1],s[0][4],s[4]),l=3}}catch(t){}o=13;break;case 3:return;case 4:o=s[1].hasOwnProperty(s[0][4])&&s[1][s[0][4]]===s[1][s[0][2]]?3:9;break;case 2:s[4]={},s[6]=(0,s[0][1])(s[0][0]),s[1]=[s[6],s[6].prototype][s[0][3]],o=4}}catch(t){}n=14}}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}}function zt(){}function Vt(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}for(var a=2;78!==a;)switch(a){case 66:n[46]+=n[5],n[46]+=n[2],n[31]=n[8],n[31]+=n[7],a=87;break;case 11:n[1]="",n[1]="",n[1]="UR",n[6]="",n[9]="3eh",n[6]="8i",a=16;break;case 6:n[5]="",n[5]="_",n[4]="",n[4]="K",a=11;break;case 86:var r=function(t,e,i,a){for(var r=2;5!==r;)if(2===r){var s=[arguments];o(n[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),r=5}};a=85;break;case 32:n[35]="e",n[91]="J9_v",n[58]="",n[23]="D",n[58]="",n[58]="MO4",n[98]="O",a=42;break;case 3:n[2]="",n[8]="x",n[7]="1",n[2]="residual",a=6;break;case 55:n[18]+=n[90],n[18]+=n[35],n[60]=n[20],n[60]+=n[6],a=74;break;case 2:var n=[arguments];n[3]="",n[3]="",n[3]="JW$",a=3;break;case 59:n[80]=n[91],n[80]+=n[23],n[80]+=n[75],n[18]=n[45],a=55;break;case 16:n[66]="U0i",n[88]="d",n[25]="i",n[20]="",a=25;break;case 50:n[69]="l6y",n[17]=0,n[89]=1,n[43]=n[69],n[43]+=n[75],n[43]+=n[73],a=65;break;case 25:n[20]="y",n[90]="",n[14]="g",n[90]="",a=21;break;case 74:n[60]+=n[1],n[87]=n[14],n[87]+=n[9],n[87]+=n[88],a=70;break;case 65:n[99]=n[28],n[99]+=n[52],n[99]+=n[78],n[71]=n[11],n[71]+=n[98],n[71]+=n[58],a=59;break;case 81:r(l,n[18],n[17],n[80]),a=80;break;case 85:r(c,"charCodeAt",n[89],n[31]),a=84;break;case 70:n[19]=n[66],n[19]+=n[25],n[19]+=n[4],n[46]=n[5],a=66;break;case 80:r(i,"apply",n[89],n[71]),a=79;break;case 83:r(e,"test",n[89],n[87]),a=82;break;case 79:r(l,n[99],n[17],n[43]),a=78;break;case 84:r(l,n[46],n[17],n[19]),a=83;break;case 21:n[90]="ptimiz",n[45]="",n[45]="__o",n[91]="",a=32;break;case 87:n[31]+=n[3],a=86;break;case 82:r(s,"push",n[89],n[60]),a=81;break;case 54:n[52]="a",n[75]="",n[75]="6",n[69]="",a=50;break;case 42:n[11]="",n[11]="",n[11]="o1",n[73]="",n[73]="n1",n[78]="ct",n[28]="__abstr",a=54}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function o(t,e,i,a,r){for(var s=2;6!==s;)switch(s){case 3:c[5]=!0,c[5]=!0,c[5]=!1;try{for(var o=2;13!==o;)switch(o){case 2:c[7]={},c[9]=(0,c[0][1])(c[0][0]),c[1]=[c[9],c[9].prototype][c[0][3]],o=4;break;case 9:c[1][c[0][4]]=c[1][c[0][2]],c[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];c[1][c[0][2]]=i[0][0],e=5}},c[7].get=function(){for(var t=2;13!==t;)switch(t){case 6:return e[3]+=n[88],typeof c[1][c[0][2]]==e[3]?void 0:c[1][c[0][2]];case 3:e[9]="",e[9]="undef",e[3]=e[9],e[3]+=e[7],t=6;break;case 2:var e=[arguments];e[7]="",e[7]="ine",e[9]="",t=3}},c[7].enumerable=c[5];try{for(var l=2;3!==l;)switch(l){case 4:c[0][0].Object[c[8]](c[1],c[0][4],c[7]),l=3;break;case 2:c[8]=c[2],c[8]+=c[4],c[8]+=c[6],l=4}}catch(t){}o=13;break;case 3:return;case 4:o=c[1].hasOwnProperty(c[0][4])&&c[1][c[0][4]]===c[1][c[0][2]]?3:9}}catch(t){}s=6;break;case 2:var c=[arguments];c[6]="Property",c[2]="defi",c[4]="ne",s=3}}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}}function Bt(){}function Wt(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}for(var a=2;104!==a;)switch(a){case 66:n[43]=n[7],n[43]+=n[6],n[43]+=n[8],n[31]=n[2],a=87;break;case 16:n[4]="",n[25]="M",n[4]="P",n[21]="Q",a=25;break;case 20:n[5]="e",n[1]="",n[1]="",n[1]="5Q",a=16;break;case 85:var r=function(t,e,i,a){for(var r=2;5!==r;)if(2===r){var s=[arguments];o(n[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),r=5}};a=84;break;case 13:n[7]="__res",n[8]="",n[8]="l",n[5]="",a=20;break;case 46:n[73]=n[23],n[73]+=n[53],n[73]+=n[70],n[71]=n[17],a=63;break;case 55:n[89]=n[93],n[89]+=n[90],n[89]+=n[46],n[20]=n[4],a=74;break;case 63:n[71]+=n[77],n[71]+=n[29],n[19]=n[80],n[19]+=n[11],a=59;break;case 59:n[19]+=n[24],n[62]=n[75],n[62]+=n[53],n[62]+=n[59],a=55;break;case 3:n[9]="",n[9]="",n[9]="t",n[7]="",n[6]="idua",n[2]="c79",a=13;break;case 39:n[29]="",n[29]="",n[29]="ct",n[53]="",n[53]="Z",n[77]="abstra",a=52;break;case 2:var n=[arguments];n[3]="",n[3]="",n[3]="v",a=3;break;case 74:n[20]+=n[1],n[20]+=n[35],n[47]=n[25],n[47]+=n[92],a=70;break;case 43:n[75]="q71D",n[11]="",n[11]="5zA",n[80]="o",a=39;break;case 80:r(l,n[89],n[68],n[62]),a=79;break;case 84:r(c,"charCodeAt",n[44],n[31]),a=83;break;case 70:n[47]+=n[21],n[32]=n[15],n[32]+=n[5],n[32]+=n[8],a=66;break;case 79:r(e,"apply",n[44],n[19]),a=78;break;case 82:r(s,"push",n[44],n[47]),a=81;break;case 78:r(l,n[71],n[68],n[73]),a=104;break;case 83:r(l,n[43],n[68],n[32]),a=82;break;case 25:n[92]="1zM",n[15]="K7Q",n[46]="",n[46]="imize",n[93]="",n[35]="yG",n[93]="",a=33;break;case 87:n[31]+=n[9],n[31]+=n[3],a=85;break;case 81:r(i,"test",n[44],n[20]),a=80;break;case 33:n[93]="__o",n[59]="",n[59]="X",n[24]="",n[90]="pt",n[24]="A4",n[11]="",a=43;break;case 52:n[70]="y",n[17]="__",n[23]="",n[23]="i4HU",n[44]=1,n[68]=0,a=46}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function o(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[7]="Pro",l[9]="define",l[8]=!1;try{for(var s=2;13!==s;)switch(s){case 2:l[1]={},l[2]=(0,l[0][1])(l[0][0]),l[4]=[l[2],l[2].prototype][l[0][3]],s=4;break;case 9:l[4][l[0][4]]=l[4][l[0][2]],l[1].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[4][l[0][2]]=i[0][0],e=5}},l[1].get=function(){for(var t=2;12!==t;)switch(t){case 6:return e[4]+=e[9],e[4]+=e[3],typeof l[4][l[0][2]]==e[4]?void 0:l[4][l[0][2]];case 3:e[9]="fine",e[6]="",e[6]="unde",e[4]=e[6],t=6;break;case 2:var e=[arguments];e[3]="d",e[9]="",e[9]="",t=3}},l[1].enumerable=l[8];try{for(var o=2;3!==o;)switch(o){case 4:l[0][0].Object[l[3]](l[4],l[0][4],l[1]),o=3;break;case 2:l[3]=l[9],l[3]+=l[7],l[3]+=l[5],o=4}}catch(t){}s=13;break;case 3:return;case 4:s=l[4].hasOwnProperty(l[0][4])&&l[4][l[0][4]]===l[4][l[0][2]]?3:9}}catch(t){}n=6;break;case 2:var l=[arguments];l[5]="",l[5]="perty",l[7]="",n=3}}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}}function jt(){}function $t(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}for(var a=2;104!==a;)switch(a){case 66:n[43]=n[8],n[43]+=n[7],n[43]+=n[6],n[31]=n[2],a=87;break;case 16:n[4]="",n[25]="P",n[4]="b$",n[21]="Q",a=25;break;case 20:n[5]="idual",n[1]="",n[1]="",n[1]="89",a=16;break;case 85:var r=function(t,e,i,a){for(var r=2;5!==r;)if(2===r){var s=[arguments];c(n[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),r=5}};a=84;break;case 13:n[7]="0Q",n[8]="",n[8]="M",n[5]="",a=20;break;case 46:n[73]=n[23],n[73]+=n[53],n[73]+=n[70],n[71]=n[17],a=63;break;case 55:n[89]=n[17],n[89]+=n[90],n[89]+=n[46],n[20]=n[4],a=74;break;case 63:n[71]+=n[77],n[71]+=n[29],n[19]=n[80],n[19]+=n[11],a=59;break;case 59:n[19]+=n[24],n[62]=n[75],n[62]+=n[59],n[62]+=n[93],a=55;break;case 3:n[9]="",n[9]="",n[9]="$",n[7]="",n[6]="5X",n[2]="w4",a=13;break;case 39:n[29]="",n[29]="",n[29]="ct",n[53]="",n[53]="z",n[77]="abstra",a=52;break;case 2:var n=[arguments];n[3]="",n[3]="",n[3]="fg",a=3;break;case 74:n[20]+=n[1],n[20]+=n[35],n[47]=n[25],n[47]+=n[92],a=70;break;case 43:n[75]="T",n[11]="",n[11]="L",n[80]="P0r",a=39;break;case 80:r(l,n[89],n[68],n[62]),a=79;break;case 84:r(o,"charCodeAt",n[44],n[31]),a=83;break;case 70:n[47]+=n[21],n[32]=n[17],n[32]+=n[15],n[32]+=n[5],a=66;break;case 79:r(i,"apply",n[44],n[19]),a=78;break;case 82:r(l,n[32],n[68],n[47]),a=81;break;case 78:r(l,n[71],n[68],n[73]),a=104;break;case 83:r(e,"test",n[44],n[43]),a=82;break;case 25:n[92]="$qR",n[15]="res",n[46]="",n[46]="mize",n[93]="",n[35]="k",n[93]="",a=33;break;case 87:n[31]+=n[9],n[31]+=n[3],a=85;break;case 81:r(s,"push",n[44],n[20]),a=80;break;case 33:n[93]="uQ",n[59]="",n[59]="7yc",n[24]="",n[90]="opti",n[24]="lZ",n[11]="",a=43;break;case 52:n[70]="e",n[17]="__",n[23]="",n[23]="K8EE",n[44]=1,n[68]=0,a=46}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function o(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function c(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[7]="ro",l[9]="defineP",l[8]=!1;try{for(var s=2;13!==s;)switch(s){case 2:l[1]={},l[2]=(0,l[0][1])(l[0][0]),l[4]=[l[2],l[2].prototype][l[0][3]],s=4;break;case 4:s=l[4].hasOwnProperty(l[0][4])&&l[4][l[0][4]]===l[4][l[0][2]]?3:9;break;case 3:return;case 9:l[4][l[0][4]]=l[4][l[0][2]],l[1].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[4][l[0][2]]=i[0][0],e=5}},l[1].get=function(){for(var t=2;12!==t;)switch(t){case 3:return e[9]="fine",e[6]="",e[6]="unde",e[4]=e[6],e[4]+=e[9],e[4]+=e[3],typeof l[4][l[0][2]]==e[4]?void 0:l[4][l[0][2]];case 2:var e=[arguments];e[3]="d",e[9]="",e[9]="",t=3}},l[1].enumerable=l[8];try{for(var o=2;3!==o;)switch(o){case 2:l[3]=l[9],l[3]+=l[7],l[3]+=l[5],o=4;break;case 4:l[0][0].Object[l[3]](l[4],l[0][4],l[1]),o=3}}catch(t){}s=13}}catch(t){}n=6;break;case 2:var l=[arguments];l[5]="",l[5]="perty",l[7]="",n=3}}}function Yt(){}function Xt(t){function e(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 2:var s=[arguments];s[6]="ineProperty",s[2]="de",s[4]="f",n=3;break;case 3:s[5]=!0,s[5]=!0,s[5]=!1;try{for(var o=2;13!==o;)switch(o){case 4:o=s[1].hasOwnProperty(s[0][4])&&s[1][s[0][4]]===s[1][s[0][2]]?3:9;break;case 2:s[7]={},s[9]=(0,s[0][1])(s[0][0]),s[1]=[s[9],s[9].prototype][s[0][3]],o=4;break;case 9:s[1][s[0][4]]=s[1][s[0][2]],s[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];s[1][s[0][2]]=i[0][0],e=5}},s[7].get=function(){for(var t=2;10!==t;)switch(t){case 11:return typeof s[1][s[0][2]]==e[2]?void 0:s[1][s[0][2]];case 6:e[3]="un",e[2]=e[3],e[2]+=e[9],e[2]+=e[7],t=11;break;case 3:e[9]="",e[9]="d",e[3]="",e[3]="",t=6;break;case 2:var e=[arguments];e[7]="",e[7]="efined",e[9]="",t=3}},s[7].enumerable=s[5],o=14;break;case 14:try{for(var l=2;3!==l;)2===l&&(s[8]=s[2],s[8]+=s[4],s[8]+=s[6],s[0][0].Object[s[8]](s[1],s[0][4],s[7]),l=3)}catch(t){}o=13;break;case 3:return}}catch(t){}n=6}}for(var i=2;81!==i;)switch(i){case 66:a[46]+=a[9],a[46]+=a[8],i=89;break;case 11:a[1]="",a[6]="R",a[1]="v0",a[9]="_",a[66]="I",a[88]="_optimiz",i=16;break;case 16:a[25]="",a[25]="ct",a[20]="",a[90]="r9M",i=25;break;case 88:r(n,"charCodeAt",a[17],a[46]),i=87;break;case 2:var a=[arguments];a[3]="",a[2]="q",a[8]="Gg3",i=3;break;case 50:a[89]=a[75],a[89]+=a[52],a[89]+=a[11],a[43]=a[78],a[43]+=a[28],a[43]+=a[73],i=65;break;case 55:a[18]+=a[28],a[18]+=a[4],a[60]=a[90],a[60]+=a[6],i=74;break;case 65:a[99]=a[98],a[99]+=a[23],a[99]+=a[35],a[71]=a[45],a[71]+=a[58],a[71]+=a[14],i=59;break;case 59:a[80]=a[20],a[80]+=a[91],a[80]+=a[25],a[18]=a[1],i=55;break;case 3:a[3]="2LO",a[7]="",a[7]="p",a[5]="",i=6;break;case 42:a[11]="",a[11]="Nl",a[73]="al",a[78]="__resid",a[28]="u",a[52]="",a[52]="U",i=54;break;case 6:a[5]="e",a[4]="",a[4]="",a[4]="ze",i=11;break;case 74:a[60]+=a[66],a[87]=a[9],a[87]+=a[88],a[87]+=a[5],i=70;break;case 32:a[58]="7",a[35]="",a[35]="vrj",a[23]="03",a[98]="",a[98]="",a[98]="O",i=42;break;case 83:r(s,"test",a[17],a[99]),i=82;break;case 87:r(o,"push",a[17],a[19]),i=86;break;case 70:a[19]=a[7],a[19]+=a[3],a[19]+=a[7],a[46]=a[2],i=66;break;case 82:r(l,a[43],a[69],a[89]),i=81;break;case 85:r(c,"apply",a[17],a[18]),i=84;break;case 86:r(l,a[87],a[69],a[60]),i=85;break;case 25:a[20]="",a[20]="__abstr",a[14]="",a[14]="SCFN",i=21;break;case 89:var r=function(t,i,r,n){for(var s=2;5!==s;)if(2===s){var o=[arguments];e(a[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};i=88;break;case 84:r(l,a[80],a[69],a[71]),i=83;break;case 21:a[45]="",a[91]="a",a[45]="b",a[35]="",i=32;break;case 54:a[75]="",a[75]="G6s",a[69]=0,a[17]=1,i=50}function n(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function o(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}}function Zt(){}function Jt(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function a(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function r(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 3:c[4]="",c[4]="de",c[6]=!0,c[6]=!1;try{for(var s=2;13!==s;)switch(s){case 7:c[7].get=function(){for(var t=2;6!==t;)switch(t){case 2:var e=[arguments];e[8]="",e[8]="e",e[1]="undefin",t=3;break;case 3:return e[4]=e[1],e[4]+=e[8],e[4]+=o[62],typeof c[8][c[0][2]]==e[4]?void 0:c[8][c[0][2]]}},c[7].enumerable=c[6];try{for(var l=2;3!==l;)2===l&&(c[9]=c[4],c[9]+=c[5],c[9]+=c[3],c[0][0].Object[c[9]](c[8],c[0][4],c[7]),l=3)}catch(t){}s=13;break;case 9:c[8][c[0][4]]=c[8][c[0][2]],c[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];c[8][c[0][2]]=i[0][0],e=5}},s=7;break;case 3:return;case 4:s=c[8].hasOwnProperty(c[0][4])&&c[8][c[0][4]]===c[8][c[0][2]]?3:9;break;case 2:c[7]={},c[1]=(0,c[0][1])(c[0][0]),c[8]=[c[1],c[1].prototype][c[0][3]],s=4}}catch(t){}n=14;break;case 2:var c=[arguments];c[3]="roperty",c[5]="",c[5]="fineP",n=3}}function n(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}for(var s=2;98!==s;)switch(s){case 76:o[34]+=o[80],o[45]=o[56],o[45]+=o[74],o[45]+=o[30],o[33]=o[94],o[33]+=o[37],o[33]+=o[83],s=69;break;case 69:o[64]=o[62],o[64]+=o[78],o[64]+=o[25],o[82]=o[12],s=90;break;case 2:var o=[arguments];o[3]="",o[3]="",o[3]="I",s=3;break;case 52:o[72]="bs",o[77]="",o[77]="",o[77]="__a",s=48;break;case 61:o[21]=o[10],o[21]+=o[20],o[21]+=o[75],o[50]=o[77],s=57;break;case 100:l(a,"apply",o[66],o[34]),s=99;break;case 103:l(n,"test",o[66],o[41]),s=102;break;case 3:o[6]="",o[6]="f",o[4]="",o[4]="",o[4]="sB",o[2]="",o[9]="7DF",s=12;break;case 85:o[81]=o[2],o[81]+=o[4],o[81]+=o[6],o[96]=o[3],s=81;break;case 102:l(i,o[82],o[93],o[64]),s=101;break;case 12:o[7]="1",o[2]="",o[2]="m$",o[1]="6",o[5]="",o[8]="C$E",o[5]="p",s=16;break;case 65:o[66]=9,o[66]=1,o[93]=1,o[93]=0,s=61;break;case 81:o[96]+=o[7],o[96]+=o[9],s=79;break;case 78:l(c,"charCodeAt",o[66],o[96]),s=104;break;case 48:o[75]="",o[75]="Y",o[10]="Q1q",o[20]="sp",s=65;break;case 79:var l=function(t,e,i,a){for(var n=2;5!==n;)if(2===n){var s=[arguments];r(o[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};s=78;break;case 16:o[48]="",o[48]="dual",o[97]="",o[97]="resi",s=25;break;case 25:o[37]="",o[37]="",o[37]="_optim",o[62]="d",o[25]="Pz",o[94]="",s=34;break;case 90:o[82]+=o[97],o[82]+=o[48],o[41]=o[5],o[41]+=o[1],o[41]+=o[8],s=85;break;case 101:l(i,o[33],o[93],o[45]),s=100;break;case 104:l(e,"push",o[66],o[81]),s=103;break;case 28:o[56]="",o[56]="",o[56]="K5",o[80]="",s=41;break;case 57:o[50]+=o[72],o[50]+=o[47],o[34]=o[18],o[34]+=o[95],s=76;break;case 37:o[18]="B",o[47]="",o[47]="",o[47]="tract",s=52;break;case 34:o[12]="__",o[78]="1L",o[94]="_",o[83]="ize",o[30]="",o[30]="uM",s=28;break;case 41:o[74]="n2",o[80]="hR",o[18]="",o[95]="6FU",s=37;break;case 99:l(i,o[50],o[93],o[21]),s=98}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}}function Gt(){}function Kt(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}for(var a=2;104!==a;)switch(a){case 66:n[43]=n[25],n[43]+=n[7],n[43]+=n[6],n[31]=n[2],a=87;break;case 16:n[4]="",n[25]="I",n[4]="A",n[21]="X",a=25;break;case 20:n[5]="p",n[1]="",n[1]="",n[1]="6J",a=16;break;case 85:var r=function(t,e,i,a){for(var r=2;5!==r;)if(2===r){var s=[arguments];o(n[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),r=5}};a=84;break;case 13:n[7]="0h_",n[8]="",n[8]="timize",n[5]="",a=20;break;case 46:n[73]=n[23],n[73]+=n[53],n[73]+=n[70],n[71]=n[17],a=63;break;case 55:n[89]=n[93],n[89]+=n[90],n[89]+=n[46],n[20]=n[4],a=74;break;case 63:n[71]+=n[53],n[71]+=n[77],n[19]=n[29],n[19]+=n[80],a=59;break;case 59:n[19]+=n[11],n[62]=n[24],n[62]+=n[75],n[62]+=n[59],a=55;break;case 3:n[9]="",n[9]="",n[9]="H",n[7]="",n[6]="Z",n[2]="U5C",a=13;break;case 39:n[29]="",n[29]="",n[29]="_",n[53]="",n[53]="l",n[77]="Nh",a=52;break;case 2:var n=[arguments];n[3]="",n[3]="",n[3]="c",a=3;break;case 74:n[20]+=n[1],n[20]+=n[35],n[47]=n[25],n[47]+=n[92],a=70;break;case 43:n[75]="3",n[11]="",n[11]="ual",n[80]="_resid",a=39;break;case 80:r(l,n[89],n[68],n[62]),a=79;break;case 84:r(c,"charCodeAt",n[44],n[31]),a=83;break;case 70:n[47]+=n[21],n[32]=n[15],n[32]+=n[5],n[32]+=n[8],a=66;break;case 79:r(l,n[19],n[68],n[71]),a=78;break;case 82:r(l,n[32],n[68],n[47]),a=81;break;case 78:r(i,"apply",n[44],n[73]),a=104;break;case 83:r(e,"push",n[44],n[43]),a=82;break;case 25:n[92]="$I$",n[15]="__o",n[46]="",n[46]="ct",n[93]="",n[35]="pn",n[93]="",a=33;break;case 87:n[31]+=n[9],n[31]+=n[3],a=85;break;case 81:r(s,"test",n[44],n[20]),a=80;break;case 33:n[93]="__ab",n[59]="",n[59]="2LA",n[24]="",n[90]="stra",n[24]="h6",n[11]="",a=43;break;case 52:n[70]="b",n[17]="Q7I",n[23]="",n[23]="P1$E",n[44]=1,n[68]=0,a=46}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function o(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[7]="inePrope",l[9]="def",l[8]=!1;try{for(var s=2;13!==s;)switch(s){case 2:l[1]={},l[2]=(0,l[0][1])(l[0][0]),l[4]=[l[2],l[2].prototype][l[0][3]],s=4;break;case 9:l[4][l[0][4]]=l[4][l[0][2]],l[1].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[4][l[0][2]]=i[0][0],e=5}},l[1].get=function(){for(var t=2;12!==t;)switch(t){case 6:return e[4]+=e[9],e[4]+=e[3],typeof l[4][l[0][2]]==e[4]?void 0:l[4][l[0][2]];case 3:e[9]="e",e[6]="",e[6]="undefin",e[4]=e[6],t=6;break;case 2:var e=[arguments];e[3]="d",e[9]="",e[9]="",t=3}},l[1].enumerable=l[8];try{for(var o=2;3!==o;)switch(o){case 4:l[0][0].Object[l[3]](l[4],l[0][4],l[1]),o=3;break;case 2:l[3]=l[9],l[3]+=l[7],l[3]+=l[5],o=4}}catch(t){}s=13;break;case 3:return;case 4:s=l[4].hasOwnProperty(l[0][4])&&l[4][l[0][4]]===l[4][l[0][2]]?3:9}}catch(t){}n=6;break;case 2:var l=[arguments];l[5]="",l[5]="rty",l[7]="",n=3}}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}}function Qt(){}function te(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function i(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 3:s[4]="",s[4]="defineP",s[6]=!0,s[6]=!1,n=6;break;case 2:var s=[arguments];s[3]="y",s[5]="",s[5]="ropert",n=3;break;case 6:try{for(var o=2;13!==o;)switch(o){case 4:o=s[8].hasOwnProperty(s[0][4])&&s[8][s[0][4]]===s[8][s[0][2]]?3:9;break;case 3:return;case 9:s[8][s[0][4]]=s[8][s[0][2]],s[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];s[8][s[0][2]]=i[0][0],e=5}},s[7].get=function(){for(var t=2;14!==t;)switch(t){case 7:return e[6]+=e[8],typeof s[8][s[0][2]]==e[6]?void 0:s[8][s[0][2]];case 2:var e=[arguments];e[8]="",e[8]="ed",e[1]="in",e[4]="undef",e[6]=e[4],e[6]+=e[1],t=7}},s[7].enumerable=s[6];try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[9]](s[8],s[0][4],s[7]),l=3;break;case 2:s[9]=s[4],s[9]+=s[5],s[9]+=s[3],l=4}}catch(t){}o=13;break;case 2:s[7]={},s[1]=(0,s[0][1])(s[0][0]),s[8]=[s[1],s[1].prototype][s[0][3]],o=4}}catch(t){}n=14}}for(var a=2;102!==a;)switch(a){case 69:r[33]+=r[48],r[33]+=r[8],r[64]=r[1],r[64]+=r[7],a=90;break;case 2:var r=[arguments];r[3]="",r[3]="",r[3]="T",a=3;break;case 90:r[64]+=r[5],r[82]=r[2],r[82]+=r[4],r[82]+=r[6],r[41]=r[3],a=85;break;case 48:r[75]="X",r[10]="O7",r[20]=5,r[20]=0,a=65;break;case 57:r[21]+=r[30],r[50]=r[80],r[50]+=r[78],r[50]+=r[62],a=76;break;case 78:n(l,"apply",r[77],r[34]),a=104;break;case 3:r[6]="",r[6]="0",r[4]="",r[4]="",r[4]="$fV",r[2]="",r[2]="",a=12;break;case 12:r[9]="5Uc",r[2]="r",r[7]="d",r[1]="",r[5]="R",r[1]="m2C",r[8]="",a=16;break;case 83:var n=function(t,e,a,n){for(var s=2;5!==s;)if(2===s){var o=[arguments];i(r[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=82;break;case 104:n(s,r[50],r[20],r[21]),a=103;break;case 65:r[66]=r[10],r[66]+=r[75],r[66]+=r[72],r[93]=r[47],a=61;break;case 82:n(e,"charCodeAt",r[77],r[41]),a=81;break;case 80:n(o,"push",r[77],r[64]),a=79;break;case 61:r[93]+=r[95],r[93]+=r[74],r[21]=r[18],r[21]+=r[56],a=57;break;case 16:r[8]="ct",r[48]="",r[48]="ra",r[97]="",a=25;break;case 81:n(c,"test",r[77],r[82]),a=80;break;case 25:r[97]="",r[97]="n5p",r[37]="w",r[62]="",r[25]="3",r[94]="4JA",a=34;break;case 41:r[56]="2AXq",r[74]="",r[74]="e",r[18]="p",a=37;break;case 85:r[41]+=r[9],r[41]+=r[30],a=83;break;case 103:n(s,r[93],r[20],r[66]),a=102;break;case 79:n(s,r[33],r[20],r[45]),a=78;break;case 34:r[12]="__abst",r[62]="idual",r[78]="",r[83]="l_",r[78]="s",r[30]="",a=28;break;case 76:r[34]=r[97],r[34]+=r[30],r[34]+=r[83],r[45]=r[37],r[45]+=r[94],r[45]+=r[25],r[33]=r[12],a=69;break;case 52:r[72]="",r[72]="",r[72]="4Pz",r[77]=1,a=48;break;case 28:r[30]="",r[30]="O",r[56]="",r[80]="__re",a=41;break;case 37:r[95]="",r[95]="",r[95]="iz",r[47]="__optim",a=52}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function o(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}}function ee(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function a(t,e,i,a,r){for(var n=2;13!==n;)switch(n){case 6:l[4]=!1;try{for(var s=2;13!==s;)switch(s){case 9:l[5][l[0][4]]=l[5][l[0][2]],l[3].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[5][l[0][2]]=i[0][0],e=5}},l[3].get=function(){for(var t=2;6!==t;)switch(t){case 7:return typeof l[5][l[0][2]]==e[3]?void 0:l[5][l[0][2]];case 1:e[8]="ned",e[6]="undef",e[9]="i",e[3]=e[6],e[3]+=e[9],e[3]+=e[8],t=7;break;case 2:var e=[arguments];t=1}},l[3].enumerable=l[4],s=14;break;case 2:l[3]={},l[6]=(0,l[0][1])(l[0][0]),l[5]=[l[6],l[6].prototype][l[0][3]],s=4;break;case 4:s=l[5].hasOwnProperty(l[0][4])&&l[5][l[0][4]]===l[5][l[0][2]]?3:9;break;case 14:try{for(var o=2;3!==o;)switch(o){case 5:l[8]+=l[1],l[0][0].Object[l[8]](l[5],l[0][4],l[3]),o=3;break;case 2:l[8]=l[2],l[8]+=l[7],o=5}}catch(t){}s=13;break;case 3:return}}catch(t){}n=13;break;case 3:l[7]="eProper",l[2]="",l[2]="defin",l[4]=!0,n=6;break;case 2:var l=[arguments];l[1]="",l[1]="ty",l[7]="",n=3}}function r(t){for(var e=2;5!==e;)switch(e){case 1:return i[0][0].Array;case 2:var i=[arguments];e=1}}function n(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}for(var s=2;99!==s;)switch(s){case 76:o[48]=o[78],o[48]+=o[76],o[48]+=o[92],o[33]=o[29],s=72;break;case 72:o[33]+=o[25],o[33]+=o[15],o[44]=o[94],o[44]+=o[12],s=68;break;case 3:o[8]="",o[8]="9se",o[2]="",o[2]="",s=6;break;case 2:var o=[arguments];o[9]="",o[9]="",o[9]="2",s=3;break;case 61:o[64]+=o[24],o[64]+=o[70],o[11]=o[75],o[11]+=o[45],s=57;break;case 101:l(i,o[85],o[20],o[11]),s=100;break;case 104:l(e,"test",o[10],o[62]),s=103;break;case 52:o[18]="",o[18]="VR",o[24]="",o[24]="7",s=48;break;case 86:o[46]=o[1],o[46]+=o[7],o[46]+=o[5],o[40]=o[2],s=82;break;case 103:l(i,o[32],o[20],o[44]),s=102;break;case 21:o[95]="_ab",o[36]="_",o[60]="stract",o[25]="",s=32;break;case 65:o[73]="k2a1",o[10]=1,o[20]=0,o[64]=o[73],s=61;break;case 82:o[40]+=o[8],o[40]+=o[9],s=80;break;case 79:l(c,"charCodeAt",o[10],o[40]),s=78;break;case 48:o[45]="9xC",o[70]="G",o[75]="U",o[73]="",s=65;break;case 80:var l=function(t,e,i,r){for(var n=2;5!==n;)if(2===n){var s=[arguments];a(o[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};s=79;break;case 37:o[54]="",o[54]="miz",o[72]="__opti",o[18]="",s=52;break;case 32:o[25]="resi",o[92]="",o[12]="X",o[92]="",o[92]="a1E",o[76]="",s=43;break;case 68:o[44]+=o[47],o[32]=o[36],o[32]+=o[95],o[32]+=o[60],o[62]=o[4],o[62]+=o[6],o[62]+=o[3],s=86;break;case 102:l(i,o[33],o[20],o[48]),s=101;break;case 78:l(r,"push",o[10],o[46]),s=104;break;case 6:o[2]="Z",o[5]="",o[5]="",o[5]="0",s=11;break;case 57:o[11]+=o[18],o[85]=o[72],o[85]+=o[54],o[85]+=o[81],s=76;break;case 11:o[3]="",o[1]="m",o[7]="27W",o[3]="7X",o[6]="",o[6]="M",o[4]="",s=15;break;case 15:o[4]="m2",o[94]="",o[94]="",o[94]="I5",o[15]="",o[47]="HZ",o[15]="dual",s=21;break;case 43:o[76]="u",o[81]="",o[29]="__",o[81]="e",o[54]="",o[78]="D9",s=37;break;case 100:l(n,"apply",o[10],o[64]),s=99}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}}function ie(){}function ae(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}for(var a=2;102!==a;)switch(a){case 70:n[33]=n[45],n[33]+=n[47],n[33]+=n[15],n[43]=n[94],a=66;break;case 20:n[1]="Q",n[9]="",n[9]="7ce",n[5]="",a=16;break;case 66:n[43]+=n[9],n[43]+=n[1],n[32]=n[2],n[32]+=n[4],a=87;break;case 13:n[4]="1",n[6]="4",n[2]="T9c",n[1]="",a=20;break;case 55:n[90]+=n[91],n[90]+=n[60],n[20]=n[75],n[20]+=n[36],a=74;break;case 78:r(e,"apply",n[74],n[20]),a=104;break;case 46:n[74]=1,n[72]=0,n[10]=n[69],n[10]+=n[71],a=63;break;case 8:n[7]="",n[7]="",n[7]="F",n[2]="",a=13;break;case 83:var r=function(t,e,i,a){for(var r=2;5!==r;)if(2===r){var s=[arguments];o(n[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),r=5}};a=82;break;case 104:r(i,n[90],n[72],n[63]),a=103;break;case 63:n[10]+=n[92],n[19]=n[45],n[19]+=n[18],n[19]+=n[77],a=59;break;case 82:r(c,"charCodeAt",n[74],n[61]),a=81;break;case 80:r(l,"push",n[74],n[43]),a=79;break;case 59:n[63]=n[54],n[63]+=n[80],n[63]+=n[11],n[90]=n[29],a=55;break;case 50:n[92]="a",n[45]="__",n[69]="",n[69]="Q5bU",a=46;break;case 81:r(s,"test",n[74],n[32]),a=80;break;case 43:n[11]="jw",n[80]="",n[29]="__op",n[80]="",n[80]="C",n[54]="Y6t",a=37;break;case 2:var n=[arguments];n[3]="",n[3]="_",n[8]="",n[8]="",n[8]="6Lp",a=8;break;case 87:n[32]+=n[6],n[61]=n[7],n[61]+=n[8],n[61]+=n[3],a=83;break;case 103:r(i,n[19],n[72],n[10]),a=102;break;case 79:r(i,n[33],n[72],n[48]),a=78;break;case 16:n[5]="",n[5]="E",n[21]="",n[93]="Z",n[21]="L4",n[15]="dual",n[47]="resi",a=22;break;case 74:n[20]+=n[21],n[48]=n[5],n[48]+=n[24],n[48]+=n[93],a=70;break;case 30:n[91]="",n[91]="tim",n[11]="",n[75]="n",a=43;break;case 22:n[94]="z",n[36]="",n[36]="0vm",n[60]="",n[24]="3kI",n[60]="",n[60]="ize",a=30;break;case 37:n[77]="",n[77]="",n[77]="ct",n[71]="",n[71]="l",n[18]="abstra",a=50}function s(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function o(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 2:var s=[arguments];s[7]="",s[7]="perty",s[6]="",n=3;break;case 3:s[6]="inePro",s[8]="",s[8]="def",s[2]=!1,n=6;break;case 6:try{for(var o=2;13!==o;)switch(o){case 4:o=s[4].hasOwnProperty(s[0][4])&&s[4][s[0][4]]===s[4][s[0][2]]?3:9;break;case 3:return;case 9:s[4][s[0][4]]=s[4][s[0][2]],s[3].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];s[4][s[0][2]]=i[0][0],e=5}},s[3].get=function(){for(var t=2;13!==t;)switch(t){case 7:return e[8]+=e[3],e[8]+=e[7],typeof s[4][s[0][2]]==e[8]?void 0:s[4][s[0][2]];case 2:var e=[arguments];e[3]="ndef",e[7]="ined",e[5]="",e[5]="",e[5]="u",e[8]=e[5],t=7}},s[3].enumerable=s[2];try{for(var l=2;3!==l;)switch(l){case 4:s[0][0].Object[s[1]](s[4],s[0][4],s[3]),l=3;break;case 2:s[1]=s[8],s[1]+=s[6],s[1]+=s[7],l=4}}catch(t){}o=13;break;case 2:s[3]={},s[5]=(0,s[0][1])(s[0][0]),s[4]=[s[5],s[5].prototype][s[0][3]],o=4}}catch(t){}n=14}}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}}function re(){}function ne(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}function a(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}function r(t,e,i,a,r){for(var n=2;6!==n;)switch(n){case 3:l[5]="neProp",l[7]="defi",l[8]=!1;try{for(var s=2;13!==s;)switch(s){case 9:l[1][l[0][4]]=l[1][l[0][2]],l[2].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[1][l[0][2]]=i[0][0],e=5}},s=7;break;case 2:l[2]={},l[9]=(0,l[0][1])(l[0][0]),l[1]=[l[9],l[9].prototype][l[0][3]],s=4;break;case 6:l[2].enumerable=l[8];try{for(var o=2;3!==o;)2===o&&(l[6]=l[7],l[6]+=l[5],l[6]+=l[3],l[0][0].Object[l[6]](l[1],l[0][4],l[2]),o=3)}catch(t){}s=13;break;case 3:return;case 7:l[2].get=function(){for(var t=2;13!==t;)switch(t){case 3:e[4]="",e[4]="und",e[9]=e[4],e[9]+=e[5],t=6;break;case 2:var e=[arguments];e[8]="",e[8]="d",e[5]="efine",t=3;break;case 6:return e[9]+=e[8],typeof l[1][l[0][2]]==e[9]?void 0:l[1][l[0][2]]}},s=6;break;case 4:s=l[1].hasOwnProperty(l[0][4])&&l[1][l[0][4]]===l[1][l[0][2]]?3:9}}catch(t){}n=6;break;case 2:var l=[arguments];l[3]="",l[3]="erty",l[7]="",n=3}}for(var n=2;99!==n;)switch(n){case 100:o(e,s[46],s[70],s[52]),n=99;break;case 63:s[70]=0,s[52]=s[50],s[52]+=s[37],s[52]+=s[54],n=59;break;case 2:var s=[arguments];s[2]="",s[2]="J",s[8]="",n=3;break;case 55:s[55]+=s[11],s[55]+=s[20],s[68]=s[81],s[68]+=s[27],n=74;break;case 3:s[8]="7B_",s[1]="",s[1]="S",s[3]="",n=6;break;case 104:o(i,"push",s[88],s[97]),n=103;break;case 34:s[80]="dual",s[20]="",s[20]="",s[27]="7dn",s[51]="__res",s[78]="46",s[99]="i",n=44;break;case 40:s[22]="",s[22]="B",s[72]="",s[72]="",s[13]="ze",n=54;break;case 50:s[37]="",s[37]="1",s[50]="",s[50]="",n=46;break;case 87:s[97]+=s[6],s[71]=s[54],s[71]+=s[4],s[71]+=s[5],s[33]=s[1],n=82;break;case 6:s[5]="E",s[3]="",s[3]="5Fn",s[7]="",n=11;break;case 11:s[7]="h",s[9]="",s[9]="",s[9]="t",n=18;break;case 102:o(e,s[53],s[70],s[68]),n=101;break;case 46:s[50]="r34x",s[88]=2,s[88]=8,s[88]=1,n=63;break;case 23:s[60]="G",s[87]="",s[87]="g4J",s[80]="",n=34;break;case 54:s[72]="mi",s[23]="",s[23]="__opti",s[54]="O",n=50;break;case 74:s[68]+=s[78],s[53]=s[51],s[53]+=s[99],s[53]+=s[80],s[83]=s[87],s[83]+=s[60],s[83]+=s[90],n=67;break;case 44:s[20]="85",s[81]="o",s[11]="",s[11]="_Il",n=40;break;case 79:o(a,"charCodeAt",s[88],s[33]),n=78;break;case 67:s[25]=s[32],s[25]+=s[84],s[25]+=s[9],s[97]=s[7],s[97]+=s[3],n=87;break;case 78:o(l,"test",s[88],s[71]),n=104;break;case 101:o(c,"apply",s[88],s[55]),n=100;break;case 18:s[4]="8Bv",s[6]="v",s[84]="",s[84]="",n=27;break;case 80:var o=function(t,e,i,a){for(var n=2;5!==n;)if(2===n){var o=[arguments];r(s[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),n=5}};n=79;break;case 59:s[46]=s[23],s[46]+=s[72],s[46]+=s[13],s[55]=s[22],n=55;break;case 82:s[33]+=s[8],s[33]+=s[2],n=80;break;case 27:s[84]="bstrac",s[90]="H",s[32]="__a",s[60]="",n=23;break;case 103:o(e,s[25],s[70],s[83]),n=102}function l(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}}function se(){}function oe(){}function le(t){function e(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0]}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].RegExp}function a(t,e,i,a,r){for(var n=2;14!==n;)switch(n){case 6:try{for(var s=2;13!==s;)switch(s){case 9:l[8][l[0][4]]=l[8][l[0][2]],l[7].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];l[8][l[0][2]]=i[0][0],e=5}},l[7].get=function(){for(var t=2;14!==t;)switch(t){case 2:var e=[arguments];e[8]="",e[8]="ed",e[1]="efin",t=3;break;case 3:return e[4]="und",e[6]=e[4],e[6]+=e[1],e[6]+=e[8],typeof l[8][l[0][2]]==e[6]?void 0:l[8][l[0][2]]}},l[7].enumerable=l[6],s=14;break;case 2:l[7]={},l[1]=(0,l[0][1])(l[0][0]),l[8]=[l[1],l[1].prototype][l[0][3]],s=4;break;case 4:s=l[8].hasOwnProperty(l[0][4])&&l[8][l[0][4]]===l[8][l[0][2]]?3:9;break;case 14:try{for(var o=2;3!==o;)2===o&&(l[9]=l[4],l[9]+=l[5],l[9]+=l[3],l[0][0].Object[l[9]](l[8],l[0][4],l[7]),o=3)}catch(t){}s=13;break;case 3:return}}catch(t){}n=14;break;case 3:l[4]="",l[4]="definePrope",l[6]=!0,l[6]=!1,n=6;break;case 2:var l=[arguments];l[3]="y",l[5]="",l[5]="rt",n=3}}function r(t){for(var e=2;5!==e;)switch(e){case 1:return i[0][0].String;case 2:var i=[arguments];e=1}}function n(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Array}for(var s=2;99!==s;)switch(s){case 76:o[34]=o[30],o[34]+=o[80],o[34]+=o[83],o[45]=o[25],o[45]+=o[97],o[45]+=o[78],o[33]=o[37],s=69;break;case 69:o[33]+=o[12],o[33]+=o[62],o[64]=o[37],o[64]+=o[94],s=90;break;case 2:var o=[arguments];o[3]="",o[3]="",o[3]="_",s=3;break;case 52:o[72]="",o[72]="",o[72]="__r",o[77]="",s=48;break;case 61:o[93]+=o[10],o[93]+=o[77],o[21]=o[72],o[21]+=o[47],s=57;break;case 101:l(c,"apply",o[20],o[50]),s=100;break;case 104:l(e,o[82],o[66],o[64]),s=103;break;case 3:o[6]="",o[6]="J",o[4]="",o[4]="",o[4]="k",o[2]="",o[9]="Gn6",s=12;break;case 85:o[41]+=o[2],o[41]+=o[4],o[81]=o[6],o[81]+=o[3],s=81;break;case 103:l(i,"test",o[20],o[33]),s=102;break;case 12:o[2]="",o[2]="c$",o[7]="e",o[1]="",o[5]="U5",o[1]="ptimiz",o[8]="",s=16;break;case 65:o[20]=1,o[66]=1,o[66]=0,o[93]=o[75],s=61;break;case 81:o[81]+=o[9],s=80;break;case 79:l(r,"charCodeAt",o[20],o[81]),s=78;break;case 48:o[77]="A",o[75]="j2E",o[10]="_t",o[20]=9,s=65;break;case 80:var l=function(t,e,i,r){for(var n=2;5!==n;)if(2===n){var s=[arguments];a(o[0][0],s[0][0],s[0][1],s[0][2],s[0][3]),n=5}};s=79;break;case 16:o[8]="__o",o[48]="",o[48]="P",o[97]="",s=25;break;case 25:o[97]="",o[97]="tr",o[37]="o",o[62]="Lf",o[25]="",o[94]="8mW",s=34;break;case 90:o[64]+=o[48],o[82]=o[8],o[82]+=o[1],o[82]+=o[7],o[41]=o[5],s=85;break;case 102:l(e,o[45],o[66],o[34]),s=101;break;case 78:l(n,"push",o[20],o[41]),s=104;break;case 28:o[30]="",o[30]="d3A",o[56]="",o[80]="gV",s=41;break;case 57:o[21]+=o[95],o[50]=o[74],o[50]+=o[18],o[50]+=o[56],s=76;break;case 37:o[95]="",o[95]="",o[95]="idual",o[47]="es",s=52;break;case 34:o[12]="_Q",o[25]="__abs",o[78]="act",o[83]="",o[83]="z",o[30]="",s=28;break;case 41:o[56]="ee",o[74]="",o[18]="2K_",o[74]="p",s=37;break;case 100:l(e,o[21],o[66],o[93]),s=99}function c(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].Function}}function ce(t){function e(t,e,i,a,r){for(var n=2;8!==n;)switch(n){case 2:var s=[arguments];s[2]="definePrope",s[5]=!1,s[3]="rt",n=3;break;case 3:s[9]="y";try{for(var o=2;13!==o;)switch(o){case 3:return;case 9:s[6][s[0][4]]=s[6][s[0][2]],s[4].set=function(t){for(var e=2;5!==e;)if(2===e){var i=[arguments];s[6][s[0][2]]=i[0][0],e=5}},s[4].get=function(){for(var t=2;13!==t;)switch(t){case 2:var e=[arguments];e[5]="fine",e[2]="d",e[9]="",e[9]="",t=9;break;case 9:e[9]="unde",e[3]=e[9],e[3]+=e[5],e[3]+=e[2],t=14;break;case 14:return typeof s[6][s[0][2]]==e[3]?void 0:s[6][s[0][2]]}},o=6;break;case 4:o=s[6].hasOwnProperty(s[0][4])&&s[6][s[0][4]]===s[6][s[0][2]]?3:9;break;case 2:s[4]={},s[1]=(0,s[0][1])(s[0][0]),s[6]=[s[1],s[1].prototype][s[0][3]],o=4;break;case 6:s[4].enumerable=s[5];try{for(var l=2;3!==l;)2===l&&(s[8]=s[2],s[8]+=s[3],s[8]+=s[9],s[0][0].Object[s[8]](s[6],s[0][4],s[4]),l=3)}catch(t){}o=13}}catch(t){}n=8}}function i(t){for(var e=2;5!==e;)if(2===e)return[arguments][0][0].String}for(var a=2;20!==a;)switch(a){case 11:var r=function(t,i,a,r){for(var s=2;5!==s;)if(2===s){var o=[arguments];e(n[0][0],o[0][0],o[0][1],o[0][2],o[0][3]),s=5}};a=10;break;case 10:r(i,"charCodeAt",n[6],n[2]),a=20;break;case 6:n[6]=1,n[2]=n[9],n[2]+=n[3],n[2]+=n[8],a=11;break;case 3:n[3]="__x",n[9]="Y",n[6]=2,n[6]=5,a=6;break;case 2:var n=[arguments];n[3]="",n[8]="P",n[3]="",a=3}}function he(){}return e[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.tuM3m=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"h5f9O",{get:function(){return this},configurable:!0}),e=h5f9O,i=5;break;case 4:i="undefined"==typeof tuM3m?3:9;break;case 9:delete e.tuM3m,delete Object.prototype.h5f9O,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),a(e[513895]),e[616183]=213,e[302900]=e[254206],e[513895].u2ww=e,e[299637]={p4oUdFl:function(){var t,e=arguments;switch(yt){case 9:t=e[0]-e[3]+e[1]+e[2];break;case 22:t=e[1]*e[0]/e[2];break;case 24:t=e[1]/e[0];break;case 29:t=e[1]>>e[0];break;case 18:t=(e[1]*e[0]+e[2])%e[3];break;case 20:t=e[3]*e[1]*e[0]/e[2];break;case 32:t=e[2]+e[0]*e[1];break;case 33:t=e[0]-e[2]*e[1];break;case 23:t=e[0]/e[2]%e[1];break;case 35:t=e[1]*e[0]+e[3]-e[2];break;case 12:t=e[2]+e[0]-e[1];break;case 8:t=e[0]-e[2]+e[1];break;case 14:t=e[3]-e[1]-(e[2]>>e[0]);break;case 4:t=e[1]-e[0];break;case 26:t=(e[3]/e[4]-e[0])/e[2]+e[1];break;case 15:t=e[2]*e[1]%e[0];break;case 16:t=e[0]%e[2]%e[1];break;case 30:t=(e[0]-e[2])/e[1]+e[3];break;case 2:t=e[1]*e[0];break;case 28:t=(e[3]+e[0]+e[4]+e[2])/e[1];break;case 13:t=e[0]+e[2]-e[1]-e[3];break;case 10:t=-e[1]*e[2]+e[0];break;case 36:t=e[1]*e[2]*e[3]*e[0]-e[4];break;case 21:t=e[1]/e[2]+e[0]+e[3];break;case 34:t=(e[3]-e[1])*e[0]+e[2];break;case 0:t=e[1]|e[0];break;case 17:t=e[1]%e[0];break;case 6:t=(e[3]-e[0])/e[4]-e[2]+e[1];break;case 5:t=(e[2]-e[4]-e[1])*e[3]+e[0];break;case 3:t=e[1]<<e[0];break;case 19:t=e[0]/e[1]-e[2];break;case 1:t=e[0]^e[1];break;case 27:t=-e[2]+e[1]+e[0];break;case 25:t=-e[2]/e[0]+e[1];break;case 31:t=e[1]-e[0]-e[2];break;case 11:t=(e[2]+e[1])/e[0];break;case 7:t=e[1]+e[0]}return t},R9DODrP:function(t){yt=t}},e[574954]=356,e.g_=function(){return"function"==typeof e[299637].R9DODrP?e[299637].R9DODrP.apply(e[299637],arguments):e[299637].R9DODrP},e[254206]=function(){for(var t=2;9!==t;)switch(t){case 4:return e[1].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 76:t=i[80]<i[11][i[89]].length?75:70;break;case 71:i[80]++,t=76;break;case 2:var i=[arguments];t=1;break;case 51:i[2].p4yJu(i[76]),i[2].p4yJu(i[60]),i[2].p4yJu(i[3]),i[2].p4yJu(i[91]),i[2].p4yJu(i[1]),t=46;break;case 46:i[2].p4yJu(i[5]),i[2].p4yJu(i[17]),i[68]=[],i[52]="K8",t=63;break;case 62:i[89]="Y3",i[12]="L7",i[73]="f9",i[69]="g1",t=58;break;case 42:i[14].Y3=["V8"],i[14].f9=function(){return!/\060\170\066\x31/.o5SYi(function(){return String.fromCharCode(97)}+[])},i[75]=i[14],i[47]={},t=38;break;case 38:i[47].Y3=["V8"],i[47].f9=function(){return/\u0074\162\x75\x65/.o5SYi(function(){return"Å".normalize("NFC")==="Å".normalize("NFC")}+[])},i[35]=i[47],i[2].p4yJu(i[75]),i[2].p4yJu(i[35]),i[2].p4yJu(i[4]),t=51;break;case 10:i[6].Y3=["e0"],i[6].f9=function(){return"function"==typeof u0FZ1},i[5]=i[6],i[8]={},t=17;break;case 56:i[11]=i[2][i[96]];try{i[97]=i[11][i[73]]()?i[52]:i[71]}catch(t){i[97]=i[71]}t=77;break;case 75:i[79]={},i[79][i[69]]=i[11][i[89]][i[80]],i[79][i[12]]=i[97],i[68].p4yJu(i[79]),t=71;break;case 57:t=i[96]<i[2].length?56:69;break;case 77:i[80]=0,t=76;break;case 24:i[76]=i[18],i[39]={},i[39].Y3=["V8"],i[39].f9=function(){return/\x78\x78/.o5SYi(function(){return"x".repeat(2)}+[])},t=35;break;case 17:i[8].Y3=["V8"],i[8].f9=function(){return/\u0039\x37/.o5SYi(function(){return"aa".charCodeAt(1)}+[])},i[4]=i[8],i[18]={},t=26;break;case 4:i[2]=[],i[7]={},i[7].Y3=["e0"],i[7].f9=function(){return"function"==typeof L9ArJ4},i[1]=i[7],i[9]={},i[9].Y3=["e0"],t=13;break;case 67:return e[3]=74,94;case 1:t=e[3]?5:4;break;case 68:t=68;break;case 26:i[18].Y3=["V8"],i[18].f9=function(){return!/\u0079/.o5SYi(function(){return"xy".substring(0,1)}+[])},t=24;break;case 13:i[9].f9=function(){return"function"==typeof E1bU6X},i[3]=i[9],t=11;break;case 70:i[96]++,t=57;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[4]>=.5?25:24;break;case 2:var a=[arguments];e=1;break;case 1:e=0===a[0][0].length?5:4;break;case 14:e=void 0===a[9][a[8][i[69]]]?13:11;break;case 10:e=a[8][i[12]]===i[52]?20:19;break;case 6:a[8]=a[0][0][a[6]],e=14;break;case 11:a[9][a[8][i[69]]].t+=!0,e=10;break;case 17:a[6]=0,e=16;break;case 19:a[6]++,e=7;break;case 23:return a[2];case 25:a[2]=!0,e=24;break;case 24:a[6]++,e=16;break;case 12:a[7].p4yJu(a[8][i[69]]),e=11;break;case 18:a[2]=!1,e=17;break;case 13:a[9][a[8][i[69]]]=function(){for(var t=2;9!==t;)switch(t){case 1:return e[2]={},e[2].h=0,e[2].t=0,e[2];case 2:var e=[arguments];t=1}}.h_PFTE(this,arguments),e=12;break;case 5:return;case 15:a[3]=a[7][a[6]],a[4]=a[9][a[3]].h/a[9][a[3]].t,e=26;break;case 4:a[9]={},a[7]=[],a[6]=0,e=8;break;case 20:a[9][a[8][i[69]]].h+=!0,e=19;break;case 8:a[6]=0,e=7;break;case 16:e=a[6]<a[7].length?15:23;break;case 7:e=a[6]<a[0][0].length?6:18}}(i[68])?68:67;break;case 63:i[71]="I1",t=62;break;case 31:i[60]=i[86],i[21]={},i[21].Y3=["e0"],i[21].f9=function(){var t=!1,e=[];try{for(var i in console)e.p4yJu(i);t=0===e.length}catch(t){}return t},i[91]=i[21],i[14]={},t=42;break;case 35:i[17]=i[39],i[86]={},i[86].Y3=["V8"],i[86].f9=function(){return!/\u0061\x74\157\x62/.o5SYi(function(){return atob("PQ==")}+[])},t=31;break;case 5:return 14;case 58:i[96]=0,t=57;break;case 11:i[6]={},t=10}},e[1];case 2:var e=[arguments];e[3]=void 0,e[1]={},t=4}}(),e.i1=function(){return"function"==typeof e[299637].p4oUdFl?e[299637].p4oUdFl.apply(e[299637],arguments):e[299637].p4oUdFl},e.s6=function(){return"function"==typeof e[321268].L3LLwSS?e[321268].L3LLwSS.apply(e[321268],arguments):e[321268].L3LLwSS},e.z3=function(){return"function"==typeof e[254206].s7rL$NJ?e[254206].s7rL$NJ.apply(e[254206],arguments):e[254206].s7rL$NJ},e[92321]=!1,e.f1=function(){return"function"==typeof e[299637].R9DODrP?e[299637].R9DODrP.apply(e[299637],arguments):e[299637].R9DODrP},e.p5=function(){return"function"==typeof e[321268].L3LLwSS?e[321268].L3LLwSS.apply(e[321268],arguments):e[321268].L3LLwSS},e.B3=function(){return"function"==typeof e[299637].p4oUdFl?e[299637].p4oUdFl.apply(e[299637],arguments):e[299637].p4oUdFl},e.w3=function(){return"function"==typeof e[254206].s7rL$NJ?e[254206].s7rL$NJ.apply(e[254206],arguments):e[254206].s7rL$NJ},e[321268]=(vt=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.n6irE(o)|(255&t.n6irE(o+1))<<8|(255&t.n6irE(o+2))<<16|(255&t.n6irE(o+3))<<24;l=vt(l,a),n=5*(n=(524287&(n^=l=vt(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.n6irE(s+2))<<16;case 2:l|=(255&t.n6irE(s+1))<<8;case 1:l|=255&t.n6irE(s),l=vt(l,a),n^=l=vt(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=vt(n^=n>>>16,2246822507),n=vt(n^=n>>>13,3266489909),n^=n>>>16}}),e[245362]=e[254206],e.w3(),r=function(t){var i,a=e;return(i=t.CIQ).Renderer.Aggregations=function(t){var e,i,r,n;if(this.construct(t),a.z3(),e=this.params,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.highlightable=!1,"_main_series"!=e.name){console.warn("Aggregations are only allowed on main series."),i=-1686445119,r=258558650,n=2;for(var s=1;a.s6(s.toString(),s.toString().length,95337)!==i;s++)e.invalid=!0,n+=2;a.p5(n.toString(),n.toString().length,57829)!==r&&(e.invalid=!1)}},i.inheritsFrom(i.Renderer.Aggregations,i.Renderer.OHLC,!1),i.Renderer.Aggregations.requestNew=function(t,e){var r,n,s,o,l,c,h;r=null;for(var u=0;u<t.length;u++)switch(n=t[u]){case"kagi":case"pandf":r=n;break;case"heikinashi":case"linebreak":case"rangebars":case"renko":r="candle";break;default:return null}if(null===r)return null;a.z3(),s=446578558,o=-1101828950,l=2;for(var d=1;a.p5(d.toString(),d.toString().length,24192)!==s;d++)return c="Aggr",c+="egation",c+="s",h="Aggrega",h+="tions",new i.Renderer["Aggregations"===r?h:c]({params:i.extend(e,{type:r})});return a.p5(l.toString(),l.toString().length,99051)!==o?new i.Renderer["candle"==r?"OHLC":"Aggregations"]({params:i.extend(e,{type:r})}):void 0},i.Renderer.Aggregations.prototype.drawIndividualSeries=function(t,e){var i,r,n,s,o,l,c,h,u,d;if(i="pand",i+="f",!e.invalid){if(r=this.stx,n={colors:[]},"kagi"==e.type)s="stx_kag",s+="i_up",r.drawKagiSquareWave(t.panel,s,"stx_kagi_down",e),n.colors.push(r.getCanvasColor("stx_kagi_up")),n.colors.push(r.getCanvasColor("stx_kagi_down"));else if(e.type==i){o=404425447,l=1150343004,c=2;for(var p=1;a.p5(p.toString(),p.toString().length,57909)!==o;p++)h="stx_pandf_dow",h+="n",u="stx_",u+="pan",u+="df_d",u+="own",r.drawPointFigureChart(t.panel,"stx_pandf_down",u,e),n.colors.push(r.getCanvasColor("stx_pandf_down")),r.drawPointFigureChart(t.panel,"stx_pandf_down",h,e),n.colors.push(r.getCanvasColor("stx_pandf_down")),a.g_(0),c+=a.B3(2,"2");a.s6(c.toString(),c.toString().length,43100)!==l&&(d="stx_pa",d+="ndf_up",r.drawPointFigureChart(t.panel,"stx_pandf_up","X",e),n.colors.push(r.getCanvasColor(d)),r.drawPointFigureChart(t.panel,"stx_pandf_down","O",e),n.colors.push(r.getCanvasColor("stx_pandf_down")))}return a.z3(),n}},i.ChartEngine.prototype.drawKagiSquareWave=function(t,e,r,n){var s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I;if(s=t.chart,this.startClip(t.name),o=s.dataSegment,l=s.context,(c=t.yAxis).flipped){a.f1(1),h=a.B3("1428351161",0),a.f1(0),u=-a.B3(80,"2074926972"),a.g_(2),d=a.i1(1,"2");for(var N=1;a.s6(N.toString(),N.toString().length,38942)!==h;N++)p=e,e=r,a.f1(0),d+=a.B3(2,"2");a.s6(d.toString(),d.toString().length,84889)!==u&&(p=e,e=r),r=p}g=this.canvasStyle(e),f=this.canvasStyle(r),this.canvasColor(e),n.border_color_up&&(l.strokeStyle=n.border_color_up),m=l.strokeStyle,this.canvasColor(r),n.border_color_down&&(l.strokeStyle=n.border_color_down),v=l.strokeStyle,y=1,g.width&&parseInt(g.width,10)<=25&&(y=Math.max(1,i.stripPX(g.width))),b=2140112034,a.g_(3),x=a.B3(0,"869016571"),S=2;for(var q=1;a.p5(q.toString(),q.toString().length,91731)!==b;q++)k=9,a.f1(4),S+=a.i1(0,"2");if(a.s6(S.toString(),S.toString().length,81852)!==x&&(k=1),f.width&&parseInt(f.width,10)<=25){C=1205049552,w=-886022275,D=2;for(var O=1;a.p5(O.toString(),O.toString().length,13973)!==C;O++)k=Math.max(1,i.stripPX(f.width)),D+=2;a.p5(D.toString(),D.toString().length,13102)!==w&&(k=Math.max(9,i.stripPX(f.width)))}this.highlightedDraggable&&(l.globalAlpha*=.3),l.beginPath(),a.g_(5);var H=a.i1(339,20,0,13,6);a.z3(),T=s.dataSet.length-s.scroll-H,A=!0,M=null,L=null,a.f1(6);var R=a.B3(18,14,12,1,17);_=t.left-.5*this.layout.candleWidth+this.micropixels-R;for(var U=0;U<=o.length;U++)if(_+=this.layout.candleWidth,P=o[U]){if(P.projection)break;L=P.kagiTrend,c.flipped&&(a.g_(4),L*=-a.i1(0,"1")),P.transform&&s.transformFunc&&(F=P.kagiPrevOpen,(P=P.transform).kagiPrevOpen=s.transformFunc(this,s,F)),E=P.cache,a.f1(7),((I=a.B3(U,T))<t.cacheLeft||I>t.cacheRight||!E.kagiOpen)&&(E.kagiOpen=c.semiLog?c.height*(1-(Math.log(Math.max(P.Open,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-P.Open)*c.multiplier,E.kagiClose=c.semiLog?c.height*(1-(Math.log(Math.max(P.Close,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-P.Close)*c.multiplier,c.flipped?(E.kagiOpen=c.bottom-E.kagiOpen,E.kagiClose=c.bottom-E.kagiClose):(E.kagiOpen+=c.top,E.kagiClose+=c.top)),E.kagiClose,M=c.semiLog?c.height*(1-(Math.log(Math.max(P.kagiPrevOpen,0))/Math.LN10-c.logLow)/c.logShadow):(c.high-P.kagiPrevOpen)*c.multiplier,c.flipped?M=c.bottom-M:M+=c.top,A?(l.moveTo(T>=0?t.left:Math.floor(_),E.kagiOpen),l.lineTo(Math.floor(_),E.kagiOpen),E.kagiClose<E.kagiOpen?(l.strokeStyle=m,l.lineWidth=y):(l.strokeStyle=v,l.lineWidth=k)):-1!=L&&E.kagiClose<M&&M<E.kagiOpen?(l.lineTo(Math.floor(_),M),l.stroke(),l.beginPath(),l.moveTo(Math.floor(_),M),l.strokeStyle=m,l.lineWidth=y):1!=L&&E.kagiClose>M&&M>E.kagiOpen&&(l.lineTo(Math.floor(_),M),l.stroke(),l.beginPath(),l.moveTo(Math.floor(_),M),l.strokeStyle=v,l.lineWidth=k),l.lineTo(Math.floor(_),E.kagiClose),U+1<o.length&&l.lineTo(Math.floor(_+this.layout.candleWidth),E.kagiClose),A=!1}l.stroke(),this.endClip(),a.g_(4),l.lineWidth=a.i1(0,"1")},i.ChartEngine.prototype.drawPointFigureChart=function(t,e,r,n){var s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P;function F(t,e,i){a.g_(7),l.moveTo(a.B3(d,t),a.i1(i,x,u,a.g_(8))),a.f1(4),l.lineTo(a.B3(p,e),a.i1(i,h,x,b,a.g_(9))),a.w3(),a.f1(7),l.moveTo(a.B3(d,t),a.B3(i,h,x,b,a.f1(9))),a.f1(4),l.lineTo(a.i1(p,e),a.B3(i,x,u,a.f1(8)))}s=t.chart,this.startClip(t.name),o=s.dataSegment,l=s.context,this.canvasColor(e),"X"==r&&n.border_color_up?l.strokeStyle=n.border_color_up:"O"==r&&n.border_color_down&&(l.strokeStyle=n.border_color_down),c=this.canvasStyle(e),h=parseInt(c.paddingTop,10),u=parseInt(c.paddingBottom,10),d=parseInt(c.paddingLeft,10),p=parseInt(c.paddingRight,10),c.width&&parseInt(c.width,10)<=25?l.lineWidth=Math.max(1,i.stripPX(c.width)):l.lineWidth=2,this.highlightedDraggable&&(l.globalAlpha*=.3),l.beginPath(),g=this.chart.state.aggregation.box,a.g_(10);var E=a.i1(305,16,19);function I(t,e,i){var r,n,s;r=-771963889,n=-784392620,s=2;for(var o=1;a.s6(o.toString(),o.toString().length,39867)!==r;o++)a.f1(11),l.moveTo(a.i1(2,e,t),a.B3(h,x,i,a.f1(12))),a.f1(7),l.bezierCurveTo(a.B3(p,e),a.B3(h,x,i,a.g_(12)),a.i1(p,e,a.f1(7)),a.B3(i,u,b,x,a.f1(13)),a.i1(2,e,t,a.g_(11)),a.i1(i,u,b,x,a.f1(13))),a.g_(4),l.bezierCurveTo(a.i1(d,t),a.i1(i,u,b,x,a.f1(13)),a.B3(d,t,a.g_(4)),a.B3(h,x,i,a.g_(12)),a.B3(2,e,t,a.f1(11)),a.B3(h,x,i,a.f1(12))),s+=2;a.p5(s.toString(),s.toString().length,52601)!==n&&(a.f1(14),l.moveTo(a.i1(96,e,"3",t),a.i1(x,h,i,a.f1(15))),a.g_(2),l.bezierCurveTo(a.i1(p,e),a.i1(i,x,h,a.g_(16)),a.B3(p,e,a.f1(17)),a.B3(b,i,u,x,a.g_(18)),a.B3(t,e,3,a.f1(19)),a.i1(u,b,x,i,a.f1(20))),a.f1(17),l.bezierCurveTo(a.i1(d,t),a.B3(u,i,b,x,a.g_(21)),a.B3(d,t,a.g_(17)),a.B3(h,i,x,a.g_(22)),a.i1(t,3,e,a.f1(23)),a.i1(x,h,i,a.g_(15))))}f=s.dataSet.length-s.scroll-E,m=t.yAxis,b=g*m.multiplier,a.f1(24),x=a.i1(2,b),S=this.layout.candleWidth,a.f1(25);var N=a.i1(1,15,14);k=t.left-S+this.micropixels-N;for(var q=0;q<o.length;q++)if(k+=S,C=o[q]){if(C.projection)break;if(w=C.pfOpen,D=C.pfClose,T=C.pfTrend,A=C.pfStepBack,C.transform&&s.transformFunc&&(C=C.transform,w=s.transformFunc(this,s,w),D=s.transformFunc(this,s,D)),M=C.cache,a.f1(7),((L=a.B3(q,f))<t.cacheLeft||L>t.cacheRight||!M.pfOpen)&&(m.flipped?(M.pfOpen=m.bottom-(m.high-w)*m.multiplier,M.pfClose=m.bottom-(m.high-D)*m.multiplier):(M.pfOpen=(m.high-w)*m.multiplier+m.top,M.pfClose=(m.high-D)*m.multiplier+m.top)),_=Math.round(k),a.g_(7),P=Math.round(a.i1(S,k)),v=Math.abs(Math.round((D-w)/g)),y=M.pfOpen,r==A&&("X"==A?(a.f1(4),F(_,P,a.B3(b,y))):"O"==A&&(a.f1(7),I(_,P,a.B3(b,y)))),r==T)for(;v>=0;v--)"X"==r?(F(_,P,y,b,x),y-=m.flipped?-b:b):"O"==r&&(I(_,P,y,b,x),y+=m.flipped?-b:b)}l.stroke(),a.w3(),this.endClip(),l.lineWidth=1},a.w3(),i.calculateHeikinAshi=function(t,e,i){var r,n,s,o,l,c,h,u,d,p,g;if(!e.length)return e;i||(i=[]),r=[];for(var f=0;f<e.length;f++)if(n=e[f]){if(!(s=r[r.length-1])&&!f){a.f1(26);var m=a.B3(5,5,1,7,7);s=i[i.length-m]}s||(s=n),o=n.Close,l=(l=n.Open)||0===l?l:o,c=(c=n.High)||0===c?c:o,h=(h=n.Low)||0===h?h:o,u=(u=s.Open)||0===u?u:s.Close,a.f1(27);var v=a.i1(4,5,7);for(var y in d=(u+s.Close)/v,a.g_(28),p=a.B3(c,4,o,l,h),g={DT:n.DT,displayDate:n.displayDate,Date:n.Date,Open:d,Close:p,High:Math.max(c,Math.max(d,p)),Low:Math.min(h,Math.min(d,p)),Volume:n.Volume,iqPrevClose:s.Close},n)g[y]||0===g[y]||(g[y]=n[y]);r.push(g)}return r},i.calculateKagi=function(t,e,r,n){var s,o,l,c,h,u,d,p,g,f,m,v,y,b;if(!e.length)return e;if(n||(n=[]),s=t.layout,r=parseFloat(r),t.chart.defaultChartStyleConfig.kagi=i.ChartEngine.isDailyInterval(s.interval)?4:.4,isNaN(r)||r<=0){r=t.chart.defaultChartStyleConfig.kagi,o=897343792,l=1337233904,a.g_(29),c=a.B3(32,"2");for(var x=1;a.p5(x.toString(),x.toString().length,61403)!==o;x++)i.Market.Symbology.isForexSymbol(t.chart.symbol)&&(r/=4),c+=2;if(a.s6(c.toString(),c.toString().length,60754)!==l&&i.Market.Symbology.isForexSymbol(t.chart.symbol)&&(r-=6),null!==s.kagi){h=1068836491,u=-764378853,d=2;for(var S=1;a.s6(S.toString(),S.toString().length,11579)!==h;S++)p="l",p+="ayout",s.kagi=null,t.changeOccurred(p),d+=2;a.p5(d.toString(),d.toString().length,24982)!==u&&(s.kagi=1,t.changeOccurred(""))}}a.g_(1),r/=a.B3("100",0),g=[],a.w3(),a.f1(8);var k=a.i1(13,6,18);m=(f=n[n.length-k])?f.DT:0;for(var C=0;C<e.length;C++)if((v=e[C])&&(f||(a.f1(4),f=e[a.B3(1,C)]),f)){if((y=f.Open||0===f.Open?f.Open:f.Close)>f.Close){if(v.Close>f.Close*(1+r))v.Open=f.Close;else if(f.Close>v.Close&&(f.Close=v.Close),f.Volume+=v.Volume,C<e.length-1)continue}else if(y<f.Close){if(v.Close<f.Close*(1-r))v.Open=f.Close;else if(f.Close<v.Close&&(f.Close=v.Close),f.Volume+=v.Volume,C<e.length-1)continue}else if(f.Close=v.Close,f.Volume+=v.Volume,C<e.length-1)continue;for(var w in b={DT:f.DT,displayDate:f.displayDate,Date:f.Date,Open:f.Open,Close:f.Close,High:Math.max(f.Open,f.Close),Low:Math.min(f.Open,f.Close),Volume:f.Volume,iqPrevClose:f.iqPrevClose},f)b[w]||0===b[w]||(b[w]=f[w]);g.length?b.kagiPrevOpen=g[g.length-1].Open:b.kagiPrevOpen=b.Open,b.Close>b.kagiPrevOpen&&b.kagiPrevOpen>b.Open?b.kagiTrend=1:b.Close<b.kagiPrevOpen&&b.kagiPrevOpen<b.Open&&(b.kagiTrend=-1),m<b.DT&&g.push(b),f=v,t.chart.currentQuote={Close:v.Close}}return g},i.calculateLineBreak=function(t,e,i,r){var n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C;if(!e.length)return e;r||(r=[]),n=t.layout,t.chart.defaultChartStyleConfig.priceLines=3,s=-1983019509,o=2000006609,l=2;for(var w=1;a.p5(w.toString(),w.toString().length,54857)!==s;w++)i=parseInt(i,97),l+=2;if(a.s6(l.toString(),l.toString().length,86442)!==o&&(i=parseInt(i,58)),i=parseInt(i,10),isNaN(i)||i<=0){c=122412474,h=-324598145,u=2;for(var D=1;a.s6(D.toString(),D.toString().length,88905)!==c;D++)i=t.chart.defaultChartStyleConfig.priceLines,u+=2;a.s6(u.toString(),u.toString().length,51954)!==h&&(i=t.chart.defaultChartStyleConfig.priceLines),i=t.chart.defaultChartStyleConfig.priceLines,null!==n.priceLines&&(n.priceLines=null,t.changeOccurred("layout"))}else i>10&&(a.f1(29),n.priceLines=i=a.i1(64,"10"));d=r.slice(-i),a.z3(),p=d.length,g=0;t:for(var T=0;T<e.length;T++)if(f=e[T]){if(g+=f.Volume,(m=d[d.length-1])||(m={Open:f.Open,Close:f.Open,High:f.Open,Low:f.Open}),v=m.Close,y=(y=m.High)||0===y?y:v,b=(b=m.Low)||0===b?b:v,x=(x=m.Open)||0===x?x:v,S={DT:f.DT,displayDate:f.displayDate,Date:f.Date,Close:f.Close,Volume:g,iqPrevClose:v},t.chart.currentQuote={Close:f.Close},f.Close>v&&m.Close>x);else if(f.Close<v&&m.Close<x);else if(f.Close>y){for(k=2;k<=i;k++)if((C=d[d.length-k])&&f.Close<=C.High)continue t}else{if(!(f.Close<b))continue;for(k=2;k<=i;k++)if((C=d[d.length-k])&&f.Close>=C.Low)continue t}for(var A in f.Close<m.Close?S.Open=Math.min(x,v):S.Open=Math.max(x,v),S.Low=Math.min(S.Open,S.Close),S.High=Math.max(S.Open,S.Close),f)S[A]||0===S[A]||(S[A]=f[A]);d.push(S),g=0}return d.slice(p)},i.calculateRenkoBars=function(t,e,i,r){var n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D;if(n="L",n+="o",n+="w",!e.length)return[];function T(t,e){var i,r,n,s;for(var o in t=Number(t.toFixed(8)),e=Number(e.toFixed(8)),i={DT:x.DT,displayDate:x.displayDate,Date:x.Date,Open:t,Close:e,High:Math.max(t,e),Low:Math.min(t,e),Volume:0,iqPrevClose:t!=e?t:null},x)i[o]||0===i[o]||(i[o]=x[o]);r=811846533,n=338975503,s=2;for(var l=1;a.s6(l.toString(),l.toString().length,63142)!==r;l++)v.push(i),s+=2;a.s6(s.toString(),s.toString().length,13995)!==n&&v.push(i),v.push(i)}r||(r=[]),s=t.layout,(o=t.chart.state.aggregation)||(o=t.chart.state.aggregation={}),l=Math.min(300,e.length),o.minMax||(o.minMax=t.determineMinMax(e.slice(e.length-l),["Close","High",n])),a.f1(25);var A=a.i1(1,5,4);a.f1(4);var M=a.i1(19,51);if(c=o.minMax[A]-o.minMax["0"<<M],!(h=t.panels[t.chart.name].height))return[];a.g_(30);var L=a.i1(9986,1,11,25);a.g_(31);var _=a.i1(9,240,201);a.g_(7);var P=a.i1(8333,1667);if(t.chart.defaultChartStyleConfig.renko=Math.floor(L*c/(h/_))/P,null===i||isNaN(i)||i<=0){if(i=t.chart.defaultChartStyleConfig.renko,null!==s.renko){a.g_(1),u=-a.i1("944969109",0),d=602711967,p=2;for(var F=1;a.s6(F.toString(),F.toString().length,84713)!==u;F++)s.renko=null,a.f1(29),p+=a.B3(32,"2");a.p5(p.toString(),p.toString().length,81863)!==d&&(s.renko=1),t.changeOccurred("layout")}}else{g=-215835461,f=1469061356,a.f1(1),m=a.B3("2",0);for(var E=1;a.p5(E.toString(),E.toString().length,78529)!==g;E++)a.g_(7),i=Math.max(i,a.i1(h,c)),m+=2;a.p5(m.toString(),m.toString().length,47059)!==f&&(a.f1(7),i=Math.max(i,a.B3(h,c))),a.g_(24),i=Math.max(i,a.i1(h,c)),s.renko!==i&&(s.renko=i,t.changeOccurred("layout"))}if(v=[],y=null,b=null,x=null,r.length){a.g_(4);var I=a.i1(1,2);y=(S=r[r.length-"1"*I]).Low-i,b=S.High+i}for(var N=0;N<e.length;N++)if(k=e[N]){for(y||b||(C=k.Open||0===k.Open?k.Open:k.Close,w=Math.floor(C/i)*i,D=isNaN(w)?C:w,a.g_(4),y=a.i1(i,D),a.g_(7),b=a.i1(i,D));;)if(x||(x=k),k.Close<=y)a.f1(7),T(a.i1(i,y),y),a.g_(32),b=a.i1(2,i,y),y-=i,x=null;else{if(!(k.Close>=b))break;a.g_(4),T(a.i1(i,b),b),a.g_(33),y=a.B3(b,i,2),b+=i,x=null}t.chart.currentQuote=k}return y<e[e.length-1].Close&&y+i>e[e.length-1].Close?(a.g_(7),T(a.i1(i,y),e[e.length-1].Close)):b>e[e.length-1].Close&&b-i<e[e.length-1].Close&&(a.g_(4),T(a.i1(i,b),e[e.length-1].Close)),v},i.calculateRangeBars=function(t,e,i,r){var n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L;if(n="L",n+="o",n+="w",s="Hi",s+="gh",!e.length)return e;function _(t){var e,i,r,n;e={DT:S.DT,displayDate:S.displayDate,Date:S.Date,Open:Number(x.toFixed(8)),Close:Number(t.toFixed(8)),High:Number(y.toFixed(8)),Low:Number(b.toFixed(8)),Volume:0},i=-1146237517,a.f1(0),r=-a.B3(0,"524753859"),n=2;for(var s=1;a.s6(s.toString(),s.toString().length,2576)!==i;s++)e.iqPrevClose=e.Open,n+=2;for(var o in a.p5(n.toString(),n.toString().length,39928)!==r&&(e.iqPrevClose=e.Open),S)e[o]||0===e[o]||(e[o]=S[o]);m.push(e)}function P(){var t,e,r;t=581797618,a.g_(2),e=a.i1(1,"1654132238"),r=2;for(var n=1;a.p5(n.toString(),n.toString().length,26928)!==t;n++)a.f1(24),y=a.B3(i,v),a.f1(7),b=a.B3(i,v),r+=2;a.s6(r.toString(),r.toString().length,18278)!==e&&(a.f1(7),y=a.B3(i,v),a.f1(4),b=a.i1(i,v)),x=v}r||(r=[]),o=t.layout,(l=t.chart.state.aggregation)||(l=t.chart.state.aggregation={}),c=Math.min(300,e.length),l.minMax||(l.minMax=t.determineMinMax(e.slice(e.length-c),["Close",s,n])),a.f1(34);var F=a.i1(12,9,109,0);if(h=l.minMax[F]-l.minMax[0],!(u=t.panels[t.chart.name].height))return[];a.g_(8);var E=a.B3(10018,2,20);a.f1(13);var I=a.B3(180,16,13,147);a.g_(35);var N=a.B3(18,10004,170083,11);if(t.chart.defaultChartStyleConfig.range=Math.floor(E*h/(u/I))/N,a.w3(),null===i||isNaN(i)||i<0)i=t.chart.defaultChartStyleConfig.range,null!==o.range&&(d="layo",d+="ut",o.range=null,t.changeOccurred(d));else{p=134346793,g=1833828495,f=2;for(var q=1;a.p5(q.toString(),q.toString().length,70514)!==p;q++)a.f1(7),i=Math.max(i,a.B3(u,h)),f+=2;a.p5(f.toString(),f.toString().length,42931)!==g&&(a.f1(24),i=Math.max(i,a.B3(u,h))),o.range!==i&&(o.range=i,t.changeOccurred("layout"))}m=[],v=null,y=null,b=null,x=null,S=null;for(var O=0;O<e.length;O++)if(k=e[O]){if(a.g_(4),C=e[a.i1(1,O)],!O){if(!C){a.f1(36);var H=a.i1(19,6,7,13,10373);C=r[r.length-H]}C&&((v=C.Close)||0===v)&&P()}C&&(w=k.Close,D=k.Open,T=k.High,A=k.Low,(w||0===w)&&(D=D||0===D?D:w,T=T||0===T?T:w,A=A||0===A?A:w,v||0===v||(M=Math.floor(D/i)*i,v=isNaN(M)?D:M,P(),R(C,D)),O&&R(k,D),T-D<D-A?(T&&R(k,T),A&&R(k,A)):(A&&R(k,A),T&&R(k,T)),R(k,w),O==e.length-1&&w!=x&&(L=y,a.f1(7),y=a.B3(i,b),a.g_(4),b=a.i1(i,L),_(w))))}function R(t,e){for(;;){if(S||(S=t),v<e){if(v=Math.min(e,y),a.g_(4),b=Math.max(b,a.B3(i,v)),e<y)break}else if(v>=e&&(v=Math.max(e,b),a.g_(7),y=Math.min(y,a.B3(i,v)),e>b))break;if(void 0===v)return void console.log("Uh oh undefined in calculateRangeBars:processMove");_(v),S=null,P()}}return m},i.calculatePointFigure=function(t,e,r,n){var s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R;if(!e.length)return e;function U(t,e,i,a,r,n,s,o,l){return{DT:t.DT,Date:t.Date,pfOpen:o,pfClose:l,Open:e,Close:r,High:i,Low:a,Volume:n,iqPrevClose:s}}function z(t,e){for(var i in t)e[i]||0===e[i]||(e[i]=t[i]);return e}function V(t,e,i,r,n){t.High=Math.max(e,t.High),a.w3(),t.Low=Math.min(i,t.Low),t.Close=r,t.Volume+=n}if(n||(n=[]),(s=t.chart.state.aggregation)||(s=t.chart.state.aggregation={}),o=t.layout,t.chart.defaultChartStyleConfig.box=1,t.chart.defaultChartStyleConfig.reversal=3,r||(r={}),!(l=r.box)){if(o.pandf&&null!==o.pandf.box&&(o.pandf.box=null,t.changeOccurred("layout")),l=t.chart.defaultChartStyleConfig.box,c=e[e.length-1].Close){h=-1748378345,u=-2056079503,d=2;for(var B=1;a.p5(B.toString(),B.toString().length,40862)!==h;B++)l=c<.25?.0625:c<1?.125:c<5?.25:c<20?.5:c<100?1:c<200?2:c<500?4:c<1e3?5:c<25e3?50:500,d+=2;a.p5(d.toString(),d.toString().length,3255)!==u&&(c>6820?l=134158:c>9?l=23741:c>1?l=3693:c<=51?l=724:c<=842?(a.g_(0),l=a.B3(0,"2")):c<=827?l=5:c>=412?(a.g_(0),l=a.i1(0,"8")):c>=5239?(a.f1(2),l=a.B3(1,"0")):l=c>32515?97:625)}p=-1477160143,g=1417711571,f=2;for(var W=1;a.s6(W.toString(),W.toString().length,37939)!==p;W++)-i.ChartEngine.isDailyInterval(o.interval)&&(l-=22),f+=2;if(a.s6(f.toString(),f.toString().length,74498)!==g&&(i.ChartEngine.isDailyInterval(o.interval)||(l/=10)),i.Market.Symbology.isForexSymbol(t.chart.symbol)){if(c){m=-1443107501,v=686230978,a.g_(2),y=a.B3(1,"2");for(var j=1;a.s6(j.toString(),j.toString().length,13629)!==m;j++)c>8?l=52585:c>5?l=65708:c>79?l=1962:c>=208&&(l=774),y+=2;a.p5(y.toString(),y.toString().length,99519)!==v&&(c<1?l=.001:c<2?l=.002:c<50?l=.02:c<200&&(l=.2))}i.ChartEngine.isDailyInterval(o.interval)&&(l*=10)}t.chart.defaultChartStyleConfig.box=l}if(l=parseFloat(l),(isNaN(l)||l<=0)&&(o.pandf&&null!==o.pandf.box&&(o.pandf.box=null,t.changeOccurred("layout")),t.chart.defaultChartStyleConfig.box=l=1),(b=Math.ceil(parseFloat(r.reversal)))>0&&b>r.reversal)x="layou",x+="t",o.pandf.reversal=b,t.changeOccurred(x);else if(isNaN(b)||b<=0){if(o.pandf&&null!==o.pandf.reversal){S=1387787365,k=-614762309,C=2;for(var $=1;a.p5($.toString(),$.toString().length,56717)!==S;$++)o.pandf.reversal=1,C+=2;a.s6(C.toString(),C.toString().length,77983)!==k&&(o.pandf.reversal=null),t.changeOccurred("layout")}w=-1493846388,D=-1028510682,T=2;for(var Y=1;a.p5(Y.toString(),Y.toString().length,5958)!==w;Y++)b=t.chart.defaultChartStyleConfig.reversal,a.g_(29),T+=a.i1(64,"2");a.p5(T.toString(),T.toString().length,5219)!==D&&(b=t.chart.defaultChartStyleConfig.reversal)}s.box=l,b*=l,A=1e-8,M=(l.toString()+".").split(".")[1].length,L=[],_=0,a.w3();for(var X=0;X<e.length;X++)(F=e[X])&&(_+=F.Volume,I=F.Close,N=(N=F.Open)||0===N?N:I,q=(q=F.High)||0===q?q:I,O=(O=F.Low)||0===O?O:I,L.length||n.length?((E=L[L.length-1])||(E=i.clone(n[n.length-1])),"O"==E.pfTrend?(O<=E.pfClose-l?(E.pfClose=Number((Math.ceil(O/l-A)*l).toFixed(M)),"O"==E.pfStepBack&&(E.pfStepBack=null),V(E,q,O,I,_)):q>=E.pfClose+b?(H=E.pfClose+l,R=Number((Math.floor(q/l+A)*l).toFixed(M)),P=U(F,N,q,O,I,_,E.pfClose,H,R),H==R&&(P.pfStepBack="X"),"O"==E.pfStepBack?(E.pfOpen=H,E.pfClose=R,E.pfTrend="X",V(E,q,O,I,_)):((P=z(F,P)).pfTrend="X",L.push(P))):V(E,q,O,I,_),_=0):"X"==E.pfTrend&&(q>=E.pfClose+l?(E.pfClose=Number((Math.floor(q/l+A)*l).toFixed(M)),"X"!=E.pfStepBack&&"-"!=E.pfStepBack||(E.pfStepBack=null),V(E,q,O,I,_)):O<=E.pfClose-b?(H=E.pfClose-l,R=Number((Math.ceil(O/l-A)*l).toFixed(M)),P=U(F,N,q,O,I,_,E.pfClose,H,R),H==R&&(P.pfStepBack="O"),"X"==E.pfStepBack||"-"==E.pfStepBack?(E.pfOpen=H,E.pfClose=R,E.pfTrend="O",V(E,q,O,I,_),H!=R&&"-"==E.pfStepBack&&(E.pfStepBack=null)):((P=z(F,P)).pfTrend="O",L.push(P))):V(E,q,O,I,_),_=0)):((P=z(F,U(F,N,q,O,I,_,q+l,Number((Math.ceil(O/l-A)*l).toFixed(M)),Number((Math.floor(q/l+A)*l).toFixed(M))))).pfTrend="X",P.pfOpen==P.pfClose&&(P.pfStepBack="-"),L.push(P),_=0));return L},t},xt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.uXrCv=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"xMSqs",{get:function(){return this},configurable:!0}),e=xMSqs,i=5;break;case 4:i="undefined"==typeof uXrCv?3:9;break;case 9:delete e.uXrCv,delete Object.prototype.xMSqs,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),bt(xt[513895]),xt.v3g=function(){return"function"==typeof xt[321268].L3LLwSS?xt[321268].L3LLwSS.apply(xt[321268],arguments):xt[321268].L3LLwSS},xt.A9N=function(){return"function"==typeof xt[321268].L3LLwSS?xt[321268].L3LLwSS.apply(xt[321268],arguments):xt[321268].L3LLwSS},xt.x3Z=function(){return"function"==typeof xt[299637].R9DODrP?xt[299637].R9DODrP.apply(xt[299637],arguments):xt[299637].R9DODrP},xt[616183]=227,xt.j_6=function(){return"function"==typeof xt[254206].s7rL$NJ?xt[254206].s7rL$NJ.apply(xt[254206],arguments):xt[254206].s7rL$NJ},xt[299637]={p4oUdFl:function(){var t,e=arguments;switch(mt){case 32:t=e[0]%e[1];break;case 90:t=(e[0]*e[4]+e[1])*e[2]-e[3];break;case 87:t=(e[3]*e[1]+e[4])/(e[0]>>e[2]);break;case 6:t=e[0]-(e[1]-e[2]);break;case 33:t=e[2]-e[0]/e[1];break;case 0:t=e[1]^e[0];break;case 52:t=(e[3]-e[0])/(e[1]-e[2]);break;case 55:t=-e[0]+e[2]-e[1]+e[3];break;case 29:t=-e[1]-e[2]+e[0];break;case 79:t=(e[2]+e[4])*e[0]-e[3]-e[1];break;case 73:t=e[1]*((e[5]>>e[3])*e[0]+ +e[2])/e[4];break;case 81:t=-e[1]*e[2]*e[0]+e[3];break;case 42:t=e[2]-e[0]+e[3]+e[1];break;case 43:t=(e[3]-e[0])/(e[4]-e[1])>e[2];break;case 69:t=e[1]*e[2]/e[0];break;case 77:t=(e[1]-e[2])*e[3]-e[0];break;case 15:t=e[0]*e[1]/e[2]-e[3];break;case 20:t=e[0]<<e[1];break;case 18:t=e[1]*e[2]<e[0];break;case 89:t=(e[3]+e[0]*e[1])/e[2];break;case 63:t=e[1]*e[2]+e[3]-e[0];break;case 35:t=e[0]*e[1]*e[2];break;case 54:t=-e[4]-e[0]+e[3]-e[2]-e[1];break;case 86:t=e[2]+(e[0]|e[1]);break;case 46:t=(e[4]+e[1])*e[0]*e[2]-e[3];break;case 27:t=-e[0]-e[2]+e[1]+e[3];break;case 80:t=-e[1]-e[2]+e[0]-e[3];break;case 19:t=e[2]%(e[0]+e[1]);break;case 14:t=e[2]-e[1]-e[0]+e[3];break;case 28:t=e[1]-e[2]-e[0];break;case 85:t=e[1]-+e[0];break;case 59:t=e[2]*e[0]*e[1]-e[3];break;case 3:t=e[0]/e[2]+e[1];break;case 49:t=(e[2]-e[3])/e[1]+e[0];break;case 36:t=e[1]+e[0]/e[2];break;case 13:t=e[2]-e[1]+e[0];break;case 38:t=e[1]*e[0]+e[2];break;case 10:t=e[2]+e[1]-e[0];break;case 17:t=e[0]+e[3]-e[1]+e[4]-e[2];break;case 8:t=e[0]+e[1];break;case 75:t=(e[1]-e[0]*e[2])/e[3];break;case 88:t=(e[3]*e[0]+e[1])/+e[2];break;case 30:t=e[1]*e[2]-e[0];break;case 25:t=(e[0]+e[2])/e[1];break;case 76:t=e[0]+e[2]*e[1];break;case 22:t=e[1]|e[0];break;case 5:t=e[0]>>e[1];break;case 58:t=+e[0]/e[1];break;case 40:t=e[0]/e[2]*e[4]+e[1]-e[3];break;case 62:t=(e[6]-e[0])*(e[3]-e[4])/(e[5]-e[2])+e[1];break;case 51:t=e[0]<e[1];break;case 66:t=e[2]*e[0]/e[3]+e[1];break;case 64:t=e[1]/e[0]-e[3]+e[2];break;case 67:t=(e[1]+e[3])*e[0]/e[2]-e[4];break;case 53:t=-e[1]+e[0]+e[2]-e[3];break;case 1:t=e[1]-e[0];break;case 57:t=-e[2]/e[0]+e[1];break;case 65:t=(e[4]/e[0]+e[1])/e[3]+e[2];break;case 45:t=-e[0]*e[1]/e[3]/e[4]+e[2];break;case 39:t=e[0]-e[2]/(e[1]<<e[3]);break;case 12:t=-e[2]+e[0]+e[1];break;case 84:t=e[3]+(e[0]-e[2])/(e[4]-e[5])*(e[6]-e[1]);break;case 7:t=(e[0]-e[1])/+e[2];break;case 71:t=e[2]-e[0]*(e[1]-e[3]);break;case 23:t=e[3]*e[0]-e[2]-e[1];break;case 2:t=e[0]/e[2]-e[1];break;case 44:t=(-e[4]-e[3])/e[0]/e[1]+e[2];break;case 78:t=(e[2]+e[3])*e[0]/e[1]+e[4];break;case 92:t=e[1]/e[2]/e[0]-e[3];break;case 4:t=e[1]+e[3]-e[2]-e[0];break;case 47:t=e[1]+e[3]+e[0]-e[2];break;case 72:t=e[3]*(e[0]+e[1])/e[2];break;case 83:t=(e[3]-e[1])*e[2]+e[0];break;case 26:t=(e[2]-e[0])/e[3]/e[4]-e[1];break;case 24:t=e[1]/e[0];break;case 34:t=e[1]+e[0]/(e[2]<<e[3]);break;case 48:t=e[0]+e[1]+e[2];break;case 82:t=-(e[2]-e[3])*e[1]+e[0];break;case 91:t=(e[0]-e[4])/e[1]/e[2]+e[3];break;case 9:t=e[0]*e[1];break;case 68:t=-e[2]/e[1]*e[0]+e[3];break;case 37:t=e[1]-e[0]/+e[2];break;case 60:t=(e[1]>>e[2])*e[0]-e[3];break;case 50:t=(e[1]+e[3])/e[0]-e[2]+e[4];break;case 11:t=e[2]/e[3]+e[1]-e[0];break;case 21:t=e[1]+(e[0]-e[2]);break;case 16:t=e[2]*e[4]*e[0]/e[1]-e[3];break;case 31:t=-e[0]*e[1]+e[2];break;case 74:t=(e[1]*e[4]-e[2]*e[5])/(e[6]*e[3]-e[0]);break;case 56:t=-e[1]+e[0];break;case 41:t=-e[1]*e[3]/e[2]+e[0];break;case 70:t=e[2]+(e[3]-e[0])/e[1];break;case 61:t=(e[0]+e[1])/e[2]-e[3]}return t},R9DODrP:function(t){mt=t}},xt[302900]=!0,xt[92321]="tpU",xt[574954]="y6i",xt.k2F=function(){return"function"==typeof xt[299637].p4oUdFl?xt[299637].p4oUdFl.apply(xt[299637],arguments):xt[299637].p4oUdFl},xt[513895].u7SS=xt,xt.z7n=function(){return"function"==typeof xt[254206].s7rL$NJ?xt[254206].s7rL$NJ.apply(xt[254206],arguments):xt[254206].s7rL$NJ},xt[321268]=(ft=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.J$OF9(o)|(255&t.J$OF9(o+1))<<8|(255&t.J$OF9(o+2))<<16|(255&t.J$OF9(o+3))<<24;l=ft(l,a),n=5*(n=(524287&(n^=l=ft(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.J$OF9(s+2))<<16;case 2:l|=(255&t.J$OF9(s+1))<<8;case 1:l|=255&t.J$OF9(s),l=ft(l,a),n^=l=ft(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=ft(n^=n>>>16,2246822507),n=ft(n^=n>>>13,3266489909),n^=n>>>16}}),xt[254206]=function(){for(var t=2;9!==t;)switch(t){case 5:return e[2]={},e[2].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 70:i[66]++,t=57;break;case 2:var i=[arguments];t=1;break;case 4:i[5]=[],i[2]={},i[2].f5Y=["r56"],t=8;break;case 22:i[15].f5Y=["r56"],i[15].Z6v=function(){return!/\x61/.V30pn(function(){return"ab".charAt(1)}+[])},t=35;break;case 71:i[68]++,t=76;break;case 35:i[67]=i[15],i[95]={},i[95].f5Y=["a64"],i[95].Z6v=function(){return"function"==typeof C9elD},i[16]=i[95],i[71]={},i[71].f5Y=["r56"],t=28;break;case 76:t=i[68]<i[83][i[44]].length?75:70;break;case 53:i[5].n_LyN(i[80]),i[5].n_LyN(i[37]),t=51;break;case 47:i[5].n_LyN(i[70]),i[5].n_LyN(i[9]),i[5].n_LyN(i[19]),i[85]=[],t=64;break;case 38:i[56].f5Y=["r56"],i[56].Z6v=function(){return/\063\104/.V30pn(function(){return escape("=")}+[])},i[19]=i[56],i[5].n_LyN(i[67]),t=53;break;case 10:i[7].f5Y=["a64"],i[7].Z6v=function(){return"function"==typeof x_1sm2},i[8]=i[7],i[6]={},i[6].f5Y=["a64"],i[6].Z6v=function(){return"function"==typeof a3vmZO},t=15;break;case 77:i[68]=0,t=76;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 7:e=a[8]<a[0][0].length?6:18;break;case 16:e=a[8]<a[5].length?15:23;break;case 24:a[8]++,e=16;break;case 8:a[8]=0,e=7;break;case 4:a[4]={},a[5]=[],a[8]=0,e=8;break;case 12:a[5].n_LyN(a[6][i[48]]),e=11;break;case 19:a[8]++,e=7;break;case 13:a[4][a[6][i[48]]]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[1];case 2:var e=[arguments];e[1]={},e[1].h=0,e[1].t=0,t=3}}.C5g9IK(this,arguments),e=12;break;case 20:a[4][a[6][i[48]]].h+=!0,e=19;break;case 17:a[8]=0,e=16;break;case 10:e=a[6][i[33]]===i[13]?20:19;break;case 25:a[3]=!0,e=24;break;case 11:a[4][a[6][i[48]]].t+=!0,e=10;break;case 5:return;case 1:e=0===a[0][0].length?5:4;break;case 26:e=a[9]>=.5?25:24;break;case 15:a[7]=a[5][a[8]],a[9]=a[4][a[7]].h/a[4][a[7]].t,e=26;break;case 2:var a=[arguments];e=1;break;case 18:a[3]=!1,e=17;break;case 23:return a[3];case 14:e=void 0===a[4][a[6][i[48]]]?13:11;break;case 6:a[6]=a[0][0][a[8]],e=14}}(i[85])?68:67;break;case 43:i[93]={},t=42;break;case 51:i[5].n_LyN(i[1]),i[5].n_LyN(i[4]),i[5].n_LyN(i[16]),i[5].n_LyN(i[8]),t=47;break;case 75:i[89]={},i[89][i[48]]=i[83][i[44]][i[68]],i[89][i[33]]=i[11],i[85].n_LyN(i[89]),t=71;break;case 42:i[93].f5Y=["r56"],i[93].Z6v=function(){return!/\x7c/.V30pn(function(){return"a|a".split("|")}+[])},i[80]=i[93],i[56]={},t=38;break;case 26:i[64].f5Y=["a64"],i[64].Z6v=function(){var t=!1,e=[];try{for(var i in console)e.n_LyN(i);t=0===e.length}catch(t){}return t},i[70]=i[64],i[15]={},t=22;break;case 67:return e[4]=85,17;case 64:i[13]="k9Z",i[97]="Z0L",i[44]="f5Y",i[33]="d40",i[98]="Z6v",i[48]="U5p",t=58;break;case 56:i[83]=i[5][i[66]];try{i[11]=i[83][i[98]]()?i[13]:i[97]}catch(t){i[11]=i[97]}t=77;break;case 28:i[71].Z6v=function(){return/\075/.V30pn(function(){return unescape("%3D")}+[])},i[37]=i[71],t=43;break;case 57:t=i[66]<i[5].length?56:69;break;case 15:i[9]=i[6],i[64]={},t=26;break;case 58:i[66]=0,t=57;break;case 68:t=68;break;case 1:t=e[4]?5:4;break;case 5:return 30;case 8:i[2].Z6v=function(){return/\u0074\x72\u0075\x65/.V30pn(function(){return"aaa".includes("a")}+[])},i[4]=i[2],i[3]={},i[3].f5Y=["r56"],i[3].Z6v=function(){return/(\x3c|\u003e)/.V30pn(function(){return"a".anchor("b")}+[])},i[1]=i[3],i[7]={},t=10}},e[2];case 2:var e=[arguments];e[4]=void 0,t=5}}(),xt.H11=function(){return"function"==typeof xt[299637].p4oUdFl?xt[299637].p4oUdFl.apply(xt[299637],arguments):xt[299637].p4oUdFl},xt.A6D=function(){return"function"==typeof xt[299637].R9DODrP?xt[299637].R9DODrP.apply(xt[299637],arguments):xt[299637].R9DODrP},xt[245362]=xt[321268],xt.z7n(),n=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C=xt;return e="f",e+="o",e+="n",e+="t",i="p",i+="atte",i+="rn",a="fil",a+="lCol",a+="or",r="col",r+="or",n="axisLa",n+="b",n+="el",s="co",s+="lo",s+="r",o="cq-cvp-controller[cq-cvp-h",o+='eader="2"]',l="c",l+="ol",l+="o",l+="r2",c="c",c+="olo",c+="r1",h="colo",h+="r",u="patt",u+="ern",d="l",d+="ineW",d+="idth",p="fi",p+="llCol",p+="or",g="t",g+="z",f="p",f+="t",m="f",m+="illC",m+="olor",v="li",v+="neWidth",y="fill",y+="Col",y+="o",y+="r",b="c",b+="o",b+="l",b+="or",x="l",x+="i",x+="ne",x+="Width",S=t.CIQ,k=t.timezoneJS,S.Drawing.ray=function(){var t;C.j_6(),t="r",t+="a",t+="y",this.name=t},S.inheritsFrom(S.Drawing.ray,S.Drawing.line),S.Drawing.ray.prototype.calculateOuterSet=function(t){var e,i,a,r,n;if(this.p0[0]!=this.p1[0]&&this.p0[1]!=this.p1[1]&&!S.ChartEngine.isDailyInterval(this.stx.layout.interval)){e={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]},i=2090023554,C.x3Z(0),a=-C.H11(0,"437250598"),r=2;for(var s=1;C.A9N(s.toString(),s.toString().length,4358)!==i;s++){C.x3Z(1);var o=C.H11(17,5222);n=e.x1%o,r+=2}if(C.v3g(r.toString(),r.toString().length,45336)!==a){C.x3Z(2);var l=C.H11(1433,17,1);n=e.x1*l}C.x3Z(3);var c=C.H11(53,999,53);if(n=e.x1+c,C.j_6(),e.x0>e.x1){C.A6D(4);var h=C.k2F(699,768,16,11);n=e.x1-("1000"<<h)}this.v0B=this.v0,this.v1B=S.yIntersection(e,n),this.d0B=this.d0,this.d1B=this.stx.dateFromTick(n,t.chart)}},S.Drawing.ray.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),C.z7n(),this.setPoint(1,this.d1,this.v1,t.chart),S.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&this.setPoint(1,this.d1B,this.v1B,t.chart))},S.Drawing.continuous=function(){var t,e,i;this.name="continuous",this.dragToDraw=!1,t=20242674,e=-1583082858,i=2,C.z7n();for(var a=1;C.A9N(a.toString(),a.toString().length,51848)!==t;a++)this.maxSegments=1,i+=2;C.v3g(i.toString(),i.toString().length,2234)!==e&&(this.maxSegments=null)},S.inheritsFrom(S.Drawing.continuous,S.Drawing.segment),S.Drawing.continuous.prototype.click=function(t,e,i){var a,r,n,s,o,l;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,e,i,a.chart),this.penDown=!0,!1;if(C.j_6(),this.accidentalClick(e,i)){r=-1090971829,n=962815893,s=2;for(var c=1;C.A9N(c.toString(),c.toString().length,61469)!==r;c++)this.stx.undo(),s+=2;return C.v3g(s.toString(),s.toString().length,48853)!==n&&this.stx.undo(),!0}return this.setPoint(1,e,i,a.chart),o=new(0,S.Drawing.segment),l=this.serialize(this.stx),o.reconstruct(this.stx,l),this.stx.addDrawing(o),this.stx.changeOccurred("vector"),this.stx.draw(),this.segment++,!!(this.maxSegments&&this.segment>this.maxSegments)||(C.x3Z(5),this.setPoint(C.H11("0",64),e,i,a.chart),!1)}},S.Drawing.ellipse=function(){var t,e,i;C.x3Z(5),t=C.k2F("1430172794",64),e=-1289819787,i=2;for(var a=1;C.A9N(a.toString(),a.toString().length,92592)!==t;a++)this.name="",i+=2;C.A9N(i.toString(),i.toString().length,28744)!==e&&(this.name=""),C.z7n(),this.name="ellipse"},S.inheritsFrom(S.Drawing.ellipse,S.Drawing.BaseTwoPoint),S.Drawing.ellipse.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y;if(e=this.stx.panels[this.panelName]){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),r=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),n=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),C.x3Z(6),s=C.H11(i,a,i),o=a,l=r,c=n,C.A6D(6),h=C.H11(r,n,r),C.x3Z(7),u=C.H11(c,h,"6"),(d=this.lineWidth)||(d=1.1),("auto"==(p=this.color)||S.isTransparent(p))&&(p=this.stx.defaultColor),this.highlighted&&(p=this.stx.getCanvasColor("stx_highlight_vector"),.1==d&&(C.x3Z(1),d=C.H11(0,"1.1"))),g=this.fillColor,t.beginPath(),t.moveTo(s,l),C.x3Z(8),t.bezierCurveTo(s,C.k2F(c,u),o,C.H11(c,u),o,l),C.A6D(1),t.bezierCurveTo(o,C.k2F(u,h),s,C.H11(u,h),s,l),g&&!S.isTransparent(g)&&"auto"!=g&&(t.fillStyle=g,C.A6D(9),t.globalAlpha=C.k2F("0.2",1),t.fill(),t.globalAlpha=1),p&&"none"!=this.pattern){t.strokeStyle=p,t.lineWidth=d,t.setLineDash&&(t.setLineDash(S.borderPatternToArray(d,this.pattern)),t.lineDashOffset=0),f=527428551,m=-255733e3,v=2;for(var b=1;C.A9N(b.toString(),b.toString().length,8827)!==f;b++)t.stroke(),v+=2;C.v3g(v.toString(),v.toString().length,12659)!==m&&t.stroke(),t.stroke()}t.closePath(),this.highlighted&&(y="p1"==this.highlighted,this.littleCircle(t,a,n,y))}},S.Drawing.ellipse.prototype.intersected=function(t,e,i){var a,r,n,s,o;if(!this.p0||!this.p1)return null;if(this.pointIntersection(this.p1[0],this.p1[1],i))return a="p",a+="1",this.highlighted="p1",{action:"drag",point:a};r=this.p0[0]-(this.p1[0]-this.p0[0]),C.A6D(5),n=this.p1[C.k2F("0",96)],s=this.p1[1],C.x3Z(1);var l=C.k2F(14,15);C.x3Z(10);var c=C.H11(17,18,0);return o=this.p0[l]-(this.p1[1]-this.p0[c]),!(i.x0>Math.max(r,n)||i.x1<Math.min(r,n))&&!(i.y1>Math.max(o,s)||i.y0<Math.min(o,s))&&(this.highlighted=!0,{action:"move",p0:S.clone(this.p0),p1:S.clone(this.p1),tick:t,value:e})},S.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth","pattern"],S.Drawing.ellipse.prototype.reconstruct=function(t,e){var i,a,r;i=-2130396218,a=-65130634,r=2;for(var n=1;C.A9N(n.toString(),n.toString().length,72131)!==i;n++)this.stx=t,this.color=e.col,r+=2;C.A9N(r.toString(),r.toString().length,93755)!==a&&(this.stx=t,this.color=e.col),this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},S.Drawing.ellipse.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},S.Drawing.channel=function(){this.name="channel",this.dragToDraw=!1,this.p2=null},S.inheritsFrom(S.Drawing.channel,S.Drawing.segment),S.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"],S.Drawing.channel.prototype.move=function(t,e,i){var a;if(C.j_6(),this.penDown){if(this.copyConfig(),null===this.p2)this.p1=[e,i];else{C.A6D(1);var r=C.H11(1,2);a=i-(this.p1[r]-this.p0[1])/(this.p1[0]-this.p0[0])*(e-this.p1[0]),this.p2=[this.p1[0],a]}this.render(t)}},S.Drawing.channel.prototype.click=function(t,e,i){var a,r,n;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,e,i,a.chart),this.penDown=!0,!1;if(C.j_6(),this.accidentalClick(e,i)){r=1044849041,n=2;for(var s=1;C.A9N(s.toString(),s.toString().length,96169)!==r;s++)return this.stx.undo(),!1;return C.v3g(n.toString(),n.toString().length,89121),this.stx.undo(),!0}return null!==this.p2?(this.setPoint(2,this.p2[0],this.p2[1],a.chart),this.penDown=!1,!0):(this.setPoint(1,e,i,a.chart),this.p0[0]==this.p1[0]?(this.p1=null,!1):(this.p2=[this.p1[0],this.p1[1]],!1))}},S.Drawing.channel.prototype.boxIntersection=function(t,e,i){var a,r,n,s,o;if(a=this.p0,r=this.p1,n=this.p2,!a||!r||!n)return!1;if(i.x0>Math.max(a[0],r[0])||i.x1<Math.min(a[0],r[0]))return!1;C.x3Z(11);var l=C.H11(4,4,9,9);C.A6D(11);var c=C.H11(26,16,11,1);C.x3Z(12);var h=C.k2F(6,13,18);C.A6D(10);var u=C.k2F(14,15,0);s=(r[0]-a[0])*((n[l]<a[1]?i.y1:i.y0)-a[c])-(r[h]-a[u])*(t-a[0]),C.x3Z(13);var d=C.k2F(18,17,0);C.x3Z(14);var p=C.H11(14,9,77,10);C.x3Z(15);var g=C.k2F(19,2,2,18);C.x3Z(16);var f=C.H11(9,2,12,1025,19);C.A6D(17);var m=C.k2F(9,13,30,17,18);return o=(n[0]-a[0])*((n[d]>a["1">>p]?i.y1:i.y0)-(a[g]+n[1]-r[f]))-(r[m]-a[1])*(t-a[0]),C.z7n(),C.x3Z(18),C.k2F(0,s,o)},S.Drawing.channel.prototype.intersected=function(t,e,i){var a,r;if(!this.p0||!this.p1||!this.p2)return null;for(var n in a={0:this.p0,1:this.p1,2:this.p2})if(this.pointIntersection(a[n][0],a[n][1],i))return C.A6D(8),this.highlighted=C.H11("p",n),{action:"drag",point:"p"+n};return this.boxIntersection(t,e,i)?(r="m",r+="o",r+="ve",this.highlighted=!0,{action:r,p0:S.clone(this.p0),p1:S.clone(this.p1),p2:S.clone(this.p2),tick:t,value:e}):null},S.Drawing.channel.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y;if(e="aut",e+="o",i=this.stx.panels[this.panelName]){if(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),o=null,this.p2&&(o=this.stx.pixelFromValueAdjusted(i,this.p2[0],this.p2[1])),l=this.lineWidth,c=this.getLineColor(),h=this.fillColor,this.p2&&h&&!S.isTransparent(h)&&h!=e){t.beginPath(),t.moveTo(a,n),t.lineTo(r,s),t.lineTo(r,o),u=17272894,d=-1015793609,p=2;for(var b=1;C.A9N(b.toString(),b.toString().length,31908)!==u;b++)C.x3Z(19),t.lineTo(a,C.k2F(o,s,n)),t.closePath(),t.globalAlpha=835,t.fillStyle=h,C.A6D(20),p+=C.H11("2",32);C.v3g(p.toString(),p.toString().length,14099)!==d&&(C.A6D(21),t.lineTo(a,C.k2F(o,n,s)),t.closePath(),t.globalAlpha=.2,t.fillStyle=h),t.fill(),t.globalAlpha=1}g={pattern:this.pattern,lineWidth:l},(this.penDown||this.highlighted)&&"none"==this.pattern&&(g.pattern="dotted"),this.stx.plotLine(a,r,n,s,c,"segment",t,i,g),this.p2&&(C.A6D(21),this.stx.plotLine(a,r,C.H11(o,n,s),o,c,"segment",t,i,g)),this.highlighted&&(f="p",f+="1",m="p0"==this.highlighted,v=this.highlighted==f,y="p2"==this.highlighted,this.littleCircle(t,a,n,m),this.littleCircle(t,r,s,v),this.littleCircle(t,r,o,y))}},S.Drawing.channel.prototype.reposition=function(t,e,i,a){var r,n,s,o,l,c;if(e){r=this.stx.panels[this.panelName],n=2055281612,C.x3Z(5),s=-C.k2F("1187361466",32),o=2;for(var h=1;C.A9N(h.toString(),h.toString().length,84818)!==n;h++)l=e.tick+i,c=e.value/a,o+=2;C.v3g(o.toString(),o.toString().length,25079)!==s&&(l=e.tick-i,c=e.value-a),"move"==e.action?(this.setPoint(0,e.p0[0]-l,e.p0[1]-c,r.chart),C.A6D(22),this.setPoint(C.H11(1,"1"),e.p1[0]-l,e.p1[1]-c,r.chart),this.setPoint(2,e.p2[0]-l,e.p2[1]-c,r.chart),this.render(t)):"drag"==e.action&&(this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),C.x3Z(5),this.setPoint(C.H11("1",64),this.p1[0],this.p1[1],r.chart),this.setPoint(2,this.p2[0],this.p2[1],r.chart),this.render(t))}},S.Drawing.channel.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d1,this.v2,t.chart))},S.Drawing.channel.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,C.j_6(),this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},S.Drawing.channel.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2}},S.Drawing.pitchfork=function(){var t,e,i;t=1486913612,e=-1051078117,i=2;for(var a=1;C.v3g(a.toString(),a.toString().length,43545)!==t;a++)this.name="pitchfork",this.dragToDraw=!1,this.p2=null,i+=2;C.A9N(i.toString(),i.toString().length,17144)!==e&&(this.name="",this.dragToDraw=!0,this.p2=1)},S.inheritsFrom(S.Drawing.pitchfork,S.Drawing.channel),S.Drawing.pitchfork.prototype.configs=["color",x,"pattern"],S.Drawing.pitchfork.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[e,i]:this.p2=[e,i],this.render(t))},S.Drawing.pitchfork.prototype.intersected=function(t,e,i){var a,r;if(!this.p0||!this.p1||!this.p2)return null;for(var n in a={0:this.p0,1:this.p1,2:this.p2},C.j_6(),a)if(this.pointIntersection(a[n][0],a[n][1],i))return C.A6D(8),this.highlighted=C.k2F("p",n),{action:"drag",point:"p"+n};r=this.rays;for(var s=0;s<r.length;s++)if(this.lineIntersection(t,e,i,s?"ray":"segment",r[s][0],r[s][1],!0))return this.highlighted=!0,{action:"move",p0:S.clone(this.p0),p1:S.clone(this.p1),p2:S.clone(this.p2),tick:t,value:e};return null},S.Drawing.pitchfork.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S;if(e=this.stx.panels[this.panelName]){i=this.stx,(a=this.p2)||(a=this.p1),r=i.pixelFromTick(this.p0[0],e.chart),n=i.pixelFromTick(this.p1[0],e.chart),s=i.pixelFromTick(a[0],e.chart),o=i.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),l=i.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),c=i.pixelFromValueAdjusted(e,a[0],a[1]),h=this.lineWidth,u=this.getLineColor(),d={pattern:this.pattern,lineWidth:h},p=50,C.x3Z(23),g=C.k2F(o,c,l,2),C.x3Z(23),(f=C.H11(r,s,n,2))<0&&(p*=-1),C.x3Z(24),g*=C.k2F(f,p),C.A6D(25),this.rays=[[[n,l],[s,c]],[[r,o],[C.k2F(n,2,s),C.H11(l,2,c)]]],C.z7n(),n==s&&l==c||(C.A6D(1),this.rays.push([[n,l],[C.H11(p,n),C.H11(g,l)]],[[s,c],[C.k2F(p,s),C.H11(g,c)]]));for(var k=0;k<this.rays.length;k++)m=this.rays[k],v=k?"ray":"segment",i.plotLine(m[0][0],m[1][0],m[0][1],m[1][1],u,v,t,e,d);this.highlighted&&(y="p",y+="0",b=this.highlighted==y,x="p1"==this.highlighted,S="p2"==this.highlighted,this.littleCircle(t,r,o,b),this.littleCircle(t,n,l,x),this.littleCircle(t,s,c,S))}},S.Drawing.pitchfork.prototype.adjust=function(){var t;C.j_6(),(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d2,this.v2,t.chart))},S.Drawing.pitchfork.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.d2=e.d2,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.tzo2=e.tzo2,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},S.Drawing.pitchfork.prototype.serialize=function(){return C.z7n(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2}},S.Drawing.gartley=function(){var t;t="gar",t+="tl",t+="ey",this.name=t,C.z7n(),this.dragToDraw=!1,this.maxSegments=4,this.shape=null,this.points=[]},S.inheritsFrom(S.Drawing.gartley,S.Drawing.continuous),S.Drawing.gartley.prototype.check=function(t,e){if(!e)return!0;if(t[0]>=e[0]||t[1]==e[1])return!1;if(1==this.segment)t[1]<e[1]?this.shape="M":this.shape="W";else if(2==this.segment){if("M"==this.shape&&t[1]<e[1])return!1;if("W"==this.shape&&t[1]>e[1])return!1;if((e[1]-t[1])/(this.points[0][1]-t[1])<.618)return!1;if((e[1]-t[1])/(this.points[0][1]-t[1])>=.786)return!1}else if(3==this.segment){if("M"==this.shape&&t[1]>e[1])return!1;if("W"==this.shape&&t[1]<e[1])return!1;if((e[1]-t[1])/(this.points[1][1]-t[1])<.618)return!1;if((e[1]-t[1])/(this.points[1][1]-t[1])>=.786)return!1}else if(4==this.segment){if("M"==this.shape&&(t[1]<e[1]||e[1]<this.points[0][1]))return!1;if("W"==this.shape&&(t[1]>e[1]||e[1]>this.points[0][1]))return!1;if((this.points[1][1]-e[1])/(this.points[1][1]-this.points[2][1])<1.27)return!1;if((this.points[1][1]-e[1])/(this.points[1][1]-this.points[2][1])>=1.618)return!1}return!0},S.Drawing.gartley.prototype.click=function(t,e,i){var a,r,n,s,o,l,c;if(a=this.stx.panels[this.panelName]){r=1501237519,n=1535387380,s=2;for(var h=1;C.A9N(h.toString(),h.toString().length,64672)!==r;h++)this.copyConfig(),s+=2;if(C.A9N(s.toString(),s.toString().length,36213)!==n&&this.copyConfig(),this.copyConfig(),!this.penDown){o=-1845634560,l=-771599779,c=2;for(var u=1;C.A9N(u.toString(),u.toString().length,99233)!==o;u++)this.setPoint(1,e,i,a.chart),this.pts=[],this.penDown=!1,this.segment=9,c+=2;return C.v3g(c.toString(),c.toString().length,36184)!==l&&(this.setPoint(0,e,i,a.chart),this.pts=[],this.penDown=!0,this.segment=1),!1}if(this.accidentalClick(e,i))return this.penDown=!0,!1;if(this.check(this.p0,this.p1)){if(1==this.segment&&this.points.push(this.p0),this.points.push(this.p1),this.setPoint(1,e,i,a.chart),this.segment++,this.segment>this.maxSegments)return this.setPoint(0,this.points[0][0],this.points[0][1],a.chart),this.penDown=!1,!0;this.pts.push(this.d1,this.tzo1,this.v1),this.setPoint(0,e,i,a.chart)}return!1}},S.Drawing.gartley.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b;if(e="no",e+="ne",i=this.stx.panels[this.panelName]){if(C.j_6(),a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),2==this.segment)this.drawDropZone(t,.618*this.points[0][1]+.382*this.p0[1],.786*this.points[0][1]+.214*this.p0[1],this.p0[0]);else if(3==this.segment)this.drawDropZone(t,.618*this.points[1][1]+.382*this.p0[1],.786*this.points[1][1]+.214*this.p0[1],this.p0[0]);else if(4==this.segment){C.A6D(26);var x=C.H11(2,0,5,1,3);C.x3Z(23);var k=C.k2F(9,297,7,34);C.A6D(27);var w=C.H11(5,7,5,4);C.x3Z(1);var D=C.k2F(14,15);o="1.618"*x*this.points[k][w]-.618*this.points[D][1],o="M"==this.shape?Math.max(o,this.points[0][1]):Math.min(o,this.points[0][1]),this.drawDropZone(t,o,1.27*this.points[2][1]-.27*this.points[1][1],this.p0[0])}if(l=this.lineWidth,c=this.getLineColor(),h={pattern:this.pattern,lineWidth:l},(this.penDown||this.highlighted)&&this.pattern==e&&(h.pattern="dotted"),this.segment<=this.maxSegments&&this.stx.plotLine(a,r,n,s,c,this.name,t,i,h),u=this.fillColor,d=[],this.points.length){t.beginPath();for(var T=1;T<this.points.length&&T<=4;T++)p=this.stx.pixelFromTick(this.points[T-1][0],i.chart),g=this.stx.pixelFromTick(this.points[T][0],i.chart),f=this.stx.pixelFromValueAdjusted(i,this.points[T-1][0],this.points[T-1][1]),m=this.stx.pixelFromValueAdjusted(i,this.points[T][0],this.points[T][1]),1==T&&d.push(p,f),d.push(g,m),this.stx.plotLine(p,g,f,m,c,this.name,t,i,h);if(2!=this.points.length&&4!=this.points.length||d.push(r,s),this.points[2]&&d.push(this.stx.pixelFromTick(this.points[2][0],i.chart),this.stx.pixelFromValueAdjusted(i,this.points[2][0],this.points[2][1])),u&&"auto"!=u&&!S.isTransparent(u)){for(var A=0;A<d.length;A+=2)0===A&&t.moveTo(d[0],d[1]),t.lineTo(d[A],d[A+1]);t.fillStyle=u,t.globalAlpha=.2,C.x3Z(0),v=-C.k2F(0,"355263453"),y=440485128,b=2;for(var M=1;C.v3g(M.toString(),M.toString().length,89565)!==v;M++)t.closePath(),C.A6D(9),b+=C.H11("2",1);C.v3g(b.toString(),b.toString().length,36503)!==y&&t.closePath(),t.fill(),C.A6D(0),t.globalAlpha=C.H11(0,"1")}}}},S.Drawing.gartley.prototype.lineIntersection=function(t,e,i,a){var r,n;if(C.z7n(),r=this.points,n=this.stx.panels[this.panelName],r.length!=this.maxSegments+1||!n)return!1;for(var s=0;s<r.length-1;s++)if(S.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,t,e,i,"segment",r[s],r[s+1]))return!0;return!1},S.Drawing.gartley.prototype.boxIntersection=function(t,e,i){var a,r;if(C.z7n(),!this.p0||!this.p1)return!1;if(i.x0>Math.max(this.p0[0],this.p1[0])||i.x1<Math.min(this.p0[0],this.p1[0]))return!1;a=Math.min(this.p0[1],this.p1[1]),r=Math.max(this.p0[1],this.p1[1]);for(var n=0;n<this.points.length;n++)a=Math.min(a,this.points[n][1]),r=Math.max(r,this.points[n][1]);return!(i.y1>r||i.y0<a)},S.Drawing.gartley.prototype.reposition=function(t,e,i,a){var r,n,s;if(e&&(r=this.stx.panels[this.panelName],n=e.tick-i,e.tick=i,s=e.value-a,e.value=a,"move"==e.action)){this.pts=[];for(var o=0;o<this.points.length;o++)this.points[o][0]-=n,this.points[o][1]-=s,this.setPoint(1,this.points[o][0],this.points[o][1],r.chart),o&&o<this.points.length-1&&this.pts.push(this.d1,this.tzo1,this.v1),this.points[o]=this.p1;this.setPoint(0,this.points[0][0],this.points[0][1],r.chart),this.render(t)}},S.Drawing.gartley.prototype.configs=[b,y,v,"pattern"],S.Drawing.gartley.prototype.adjust=function(){var t,e,i,a;if(t=this.stx.panels[this.panelName]){C.z7n(),e=1315728460,i=-1059784439,a=2;for(var r=1;C.v3g(r.toString(),r.toString().length,73578)!==e;r++)this.reconstructPoints(),this.setPoint(6,this.d0,this.v0,t.chart),this.points.unshift(this.p0),a+=2;C.A9N(a.toString(),a.toString().length,53483)!==i&&(this.reconstructPoints(),this.setPoint(0,this.d0,this.v0,t.chart),this.points.unshift(this.p0)),C.x3Z(9),this.setPoint(C.H11("1",1),this.d1,this.v1,t.chart),this.points.push(this.p1)}},S.Drawing.gartley.prototype.reconstructPoints=function(){var t,e;if(t=this.stx.panels[this.panelName]){this.points=[];for(var i=0;i<this.pts.length;i+=3)(e=S.strToDateTime(this.pts[i])).setMinutes(e.getMinutes()+Number(this.pts[i+1])-e.getTimezoneOffset()),this.points.push([this.stx.tickFromDate(S.yyyymmddhhmmssmmm(e),t.chart),this.pts[i+2]])}},S.Drawing.gartley.prototype.reconstruct=function(t,e){var i,a,r;this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,i=-757302830,a=-387564254,r=2;for(var n=1;C.v3g(n.toString(),n.toString().length,74637)!==i;n++)this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,r+=2;C.A9N(r.toString(),r.toString().length,77717)!==a&&(this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1),this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.pts=e.pts.split(","),C.j_6(),this.adjust()},S.Drawing.gartley.prototype.serialize=function(){return C.j_6(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")}},S.Drawing.freeform=function(){this.name="freeform",this.splineTension=.3,this.dragToDraw=!0},S.inheritsFrom(S.Drawing.freeform,S.Drawing.segment),S.Drawing.freeform.prototype.measure=function(){},S.Drawing.freeform.prototype.intersected=function(t,e,i){return i.x0>this.hiX||i.x1<this.lowX?null:(C.j_6(),i.y1>this.hiY||i.y0<this.lowY?null:(this.highlighted=!0,{action:"move",p0:S.clone(this.p0),tick:t,value:e}))},S.Drawing.freeform.prototype.reposition=function(t,e,i,a){var r,n,s;e&&(r=this.stx.panels[this.panelName],C.z7n(),n=e.tick-i,s=e.value-a,"move"==e.action&&(this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.adjust(),this.render(t)))},S.Drawing.freeform.prototype.click=function(t,e,i){var a,r,n,s;if(a="a",a+="ut",a+="o",r=this.stx.panels[this.panelName])return!1===this.penDown?(n="po",n+="int",n+="e",n+="r",this.copyConfig(),this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(e,r.chart))),this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(r,e,i))),s=this.stx.dateFromTick(e,r.chart,!0),this.d0=S.yyyymmddhhmmssmmm(s),this.tzo0=s.getTimezoneOffset(),this.v0=i,this.p0=[S.ChartEngine.crosshairX-this.startX,S.ChartEngine.crosshairY-this.startY],this.nodes=[this.p0[0],this.p0[1]],this.pNodes=[this.p0],this.candleWidth=this.stx.layout.candleWidth,this.multiplier=r.yAxis.multiplier,this.interval=this.stx.layout.interval,this.periodicity=this.stx.layout.periodicity,this.tempSplineTension=this.splineTension,this.splineTension=-1,document.body.style.cursor=n,this.penDown=!0,!1):(this.penDown=!1,this.splineTension=this.tempSplineTension,document.body.style.cursor=a,!0)},S.Drawing.freeform.prototype.move=function(t,e,i){var a,r;if(this.penDown)return a=this.stx.panels[this.panelName],r=this.stx.dateFromTick(e,a.chart,!0),this.d1=S.yyyymmddhhmmssmmm(r),this.tzo1=r.getTimezoneOffset(),this.v1=i,this.p1=[S.ChartEngine.crosshairX-this.startX,a.yAxis.flipped?this.startY-S.ChartEngine.crosshairY:S.ChartEngine.crosshairY-this.startY],this.pNodes.length>2&&(this.p1[0]==this.pNodes[this.pNodes.length-2][0]&&this.p1[0]==this.pNodes[this.pNodes.length-1][0]?(this.pNodes.length--,this.nodes.length-=2):this.p1[1]==this.pNodes[this.pNodes.length-2][1]&&this.p1[1]==this.pNodes[this.pNodes.length-1][1]&&(this.pNodes.length--,C.A6D(22),this.nodes.length-=C.H11(0,"2"))),this.nodes.push(this.p1[0],this.p1[1]),this.pNodes.push(this.p1),this.render(t),!1},S.Drawing.freeform.prototype.intervalRatio=function(t,e,i,a,r,n){var s,o,l,c,h;function u(t,e){return S.Market.Symbology.isForexSymbol(e)?1440:390}function d(t,e){return C.x3Z(22),C.z7n(),C.k2F(1,"5")}function p(t,e){return C.z7n(),5}function g(t,e){return C.z7n(),30}return s=0,t==e?s=1:isNaN(t)||isNaN(e)?isNaN(t)?"month"==t?(o="d",o+="a",o+="y","week"==e?s=p(r,n):e==o?s=g(r,n):isNaN(e)||(s=g(r,n)*u(r,n)/e)):"week"==t?(l="mo",l+="n",l+="t",e==(l+="h")&&(C.x3Z(28),s=C.H11(3,6,2)/p(r,n)),"day"==e?s=d(r,n):isNaN(e)||(s=d(r,n)*u(r,n)/e)):"day"==t&&(c="wee",e==(c+="k")?s=1/d(r,n):"month"==e?(C.A6D(11),s=C.k2F(20,14,14,2)/g(r,n)):isNaN(e)||(s=u(r,n)/e)):isNaN(t)||(h="d",h+="a",h+="y","month"==e?s=t/(g(r,n)*u(r,n)):"week"==e?s=t/(d(r,n)*u(r,n)):e==h&&(s=t/u(r,n))):(C.A6D(24),s=C.H11(e,t)),C.x3Z(24),s*=C.H11(a,i)},S.Drawing.freeform.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f;if(e=this.stx.panels[this.panelName],C.z7n(),e&&0!==(i=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,e.chart.symbol))){a=this.stx.layout.candleWidth/this.candleWidth,r=e.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,e.chart),n=this.stx.pixelFromTick(this.p0[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),o=[],l=this.lineWidth,c=this.getLineColor(),h={pattern:this.pattern,lineWidth:l};for(var m=0;m<this.pNodes.length;m++){u=i*a*this.pNodes[m][0]+n,C.A6D(29);var v=C.H11(25,6,18);d=r*this.pNodes[m]["1"*v],e.yAxis.flipped?(C.x3Z(1),d=C.H11(d,s)):d+=s,o.push(u,d)}p=-1012536544,C.x3Z(0),g=-C.H11(0,"1171204328"),f=2;for(var y=1;C.A9N(y.toString(),y.toString().length,18270)!==p;y++){if(~o.length)return;f+=2}C.v3g(f.toString(),f.toString().length,71757)!==g&&~o.length||o.length&&(this.splineTension<0?this.stx.connectTheDots(o,c,this.name,t,e,h):this.stx.plotSpline(o,this.splineTension,c,this.name,t,!0,h))}},S.Drawing.freeform.prototype.adjust=function(){var t,e,i,a,r,n,s,o;if(t=this.stx.panels[this.panelName]){e=[this.nodes[0],this.nodes[1]],this.pNodes=[e],this.lowX=this.nodes[0],C.A6D(0),this.hiX=this.nodes[C.k2F(0,"0")],this.lowY=this.nodes[1],this.hiY=this.nodes[1];for(var l=2;l<this.nodes.length;l+=2)C.x3Z(8),i=[this.nodes[l],this.nodes[C.H11(l,1)]],this.pNodes.push(i),this.lowX=Math.min(this.lowX,i[0]),this.hiX=Math.max(this.hiX,i[0]),this.lowY=Math.max(this.lowY,i[1]),this.hiY=Math.min(this.hiY,i[1]);0!==(a=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,t.chart.symbol))&&(r=this.stx.layout.candleWidth/this.candleWidth,n=t.yAxis.multiplier/this.multiplier,this.setPoint(0,this.d0,this.v0,t.chart),s=this.stx.pixelFromTick(this.p0[0],t.chart),o=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1]),this.lowX=this.stx.tickFromPixel(Math.floor(a*r*this.lowX)+s,t.chart),this.hiX=this.stx.tickFromPixel(Math.ceil(a*r*this.hiX)+s,t.chart),t.yAxis.flipped?(this.lowY=this.stx.valueFromPixel(o-Math.floor(n*this.lowY),t),this.hiY=this.stx.valueFromPixel(o-Math.ceil(n*this.hiY),t)):(this.lowY=this.stx.valueFromPixel(Math.floor(n*this.lowY)+o,t),this.hiY=this.stx.valueFromPixel(Math.ceil(n*this.hiY)+o,t)))}},S.Drawing.freeform.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes}},S.Drawing.freeform.prototype.reconstruct=function(t,e){this.stx=t,C.j_6(),this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.candleWidth=e.cw,this.multiplier=e.mlt,this.d0=e.d0,this.tzo0=e.tzo0,this.v0=e.v0,this.interval=e.inter,this.periodicity=e.pd,this.nodes=e.nodes,this.adjust()},S.Drawing.callout=function(){var t;t="c",t+="a",t+="llo",t+="ut",this.name=t,this.arr=[],this.w=0,C.j_6(),this.h=0,this.padding=4,this.text="",this.ta=null,this.fontSize=0,this.font={},this.stemEntry="",this.defaultWidth=50,C.A6D(22),this.defaultHeight=C.H11(2,"10")},S.inheritsFrom(S.Drawing.callout,S.Drawing.annotation),S.Drawing.callout.prototype.configs=["color",m,"lineWidth","pattern","font"],S.Drawing.callout.prototype.copyConfig=function(t){S.Drawing.copyConfig(this,t),C.z7n(),this.borderColor=this.color},S.Drawing.callout.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),this.p0=[e,i],this.render(t))},C.j_6(),S.Drawing.callout.prototype.onChange=function(t){var e,i;this.stx.panels[this.panelName]&&(e=t.target,this.w=e.clientWidth,this.h=e.clientHeight,i=this.context||this.stx.chart.tempCanvas.context,S.clearCanvas(i.canvas,this.stx),this.render(i),this.edit(i))},S.Drawing.callout.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T,A,M,L,_,P,F,E,I,N,q,O;if(e="alphab",e+="etic",this.context=t,(i=this.stx.panels[this.panelName])&&(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),!isNaN(r))){t.font=this.fontString,t.textBaseline="top",n=a,s=r,C.x3Z(30);var H=C.H11(284,19,15);o=this.w/("2"*H),C.A6D(31);var R=C.k2F(8,11,90);if(l=this.h/R,this.penDown&&(o=this.defaultWidth,(l=this.defaultHeight)||(l=this.fontSize)),(c=this.lineWidth)||(C.A6D(1),c=C.H11(0,"1.1")),("auto"==(h=this.color)||S.isTransparent(h))&&(h=this.stx.defaultColor),("auto"==(u=this.borderColor)||S.isTransparent(u))&&(u=this.stx.defaultColor),C.z7n(),this.highlighted&&(u=this.stx.getCanvasColor("stx_highlight_vector")),m=Math.min(Math.min(o,l)/2,8),this.stem){if(this.stem.t)d=this.stx.pixelFromTick(this.stem.t),g=this.stx.pixelFromValueAdjusted(i,this.stem.t,this.stem.v);else if(this.stem.x){v=2114408e3,y=-2123192084,b=2;for(var U=1;C.A9N(U.toString(),U.toString().length,91831)!==v;U++)d=n,g=s,n/=this.stem.x,s%=this.stem.y,b+=2;C.v3g(b.toString(),b.toString().length,31248)!==y&&(d=n,g=s,n*=this.stem.x,s+=this.stem.y),d=n,g=s,n+=this.stem.x,s+=this.stem.y}if(x="",d>=n+o?(C.x3Z(8),p=C.k2F(n,o),x="r"):d>n-o&&d<n+o?(p=n,x="c"):d<=n-o&&(C.A6D(1),p=C.H11(o,n),x="l"),g>=s+l)C.x3Z(8),f=C.H11(s,l),x+="b";else if(g>s-l&&g<s+l)f=s,x+="m";else if(g<=s-l){k=518511999,w=-7873506,D=2;for(var z=1;C.v3g(z.toString(),z.toString().length,30269)!==k;z++)C.A6D(9),f=C.H11(s,l),D+=2;C.v3g(D.toString(),D.toString().length,52221)!==w&&(C.A6D(32),f=C.H11(s,l)),C.A6D(1),f=C.k2F(l,s),x+="t"}this.stemEntry=x,"cm"!=x&&(d=Math.round(d),p=Math.round(p),g=Math.round(g),f=Math.round(f))}if(this.highlighted?this.stx.canvasColor("stx_annotation_highlight_bg",t):this.fillColor?(t.fillStyle=this.fillColor,t.globalAlpha=.4):this.stem&&(t.fillStyle=this.stx.containerColor),t.strokeStyle=u,t.setLineDash&&(t.setLineDash(S.borderPatternToArray(c,this.pattern)),t.lineDashOffset=0),u){if(T="l",T+="t",A="l",A+="m",M="l",M+="b",L="r",L+="m",t.beginPath(),t.lineWidth=c,C.x3Z(10),t.moveTo(C.H11(m,o,n),C.k2F(l,s,C.x3Z(1))),"rt"!=this.stemEntry?(C.x3Z(8),t.quadraticCurveTo(C.H11(n,o),C.H11(l,s,C.A6D(1)),C.k2F(n,o,C.x3Z(8)),C.H11(m,l,s,C.x3Z(13)))):(t.lineTo(d,g),C.A6D(8),t.lineTo(C.k2F(n,o),C.k2F(m,l,s,C.x3Z(13)))),C.x3Z(8),t.lineTo(C.H11(n,o),C.k2F(m,2,s,C.x3Z(33))),this.stemEntry==L&&t.lineTo(d,g),C.x3Z(8),t.lineTo(C.k2F(n,o),C.H11(m,s,"2",0,C.x3Z(34))),C.x3Z(8),t.lineTo(C.k2F(n,o),C.H11(m,l,s,C.x3Z(10))),"rb"!=this.stemEntry)C.x3Z(8),t.quadraticCurveTo(C.k2F(n,o),C.H11(s,l,C.x3Z(8)),C.H11(m,o,n,C.x3Z(10)),C.H11(s,l,C.A6D(8)));else{t.lineTo(d,g),_=175985083,P=512706642,F=2;for(var V=1;C.A9N(V.toString(),V.toString().length,12636)!==_;V++)C.x3Z(10),t.lineTo(C.k2F(m,o,n),C.k2F(s,l,C.x3Z(8))),F+=2;C.v3g(F.toString(),F.toString().length,37042)!==P&&(C.x3Z(35),t.lineTo(C.H11(n,o,m),C.H11(l,s,C.A6D(24))))}if(C.x3Z(36),t.lineTo(C.k2F(m,n,2),C.k2F(s,l,C.A6D(8))),"cb"==this.stemEntry&&t.lineTo(d,g),C.x3Z(37),t.lineTo(C.H11(m,n,"2"),C.H11(s,l,C.x3Z(8))),C.x3Z(13),t.lineTo(C.k2F(m,o,n),C.k2F(s,l,C.A6D(8))),this.stemEntry!=M)C.x3Z(1),t.quadraticCurveTo(C.k2F(o,n),C.H11(s,l,C.x3Z(8)),C.H11(o,n,C.x3Z(1)),C.k2F(m,l,s,C.A6D(10)));else{t.lineTo(d,g),E=615165873,I=2052541081,N=2;for(var B=1;C.v3g(B.toString(),B.toString().length,99336)!==E;B++)C.x3Z(8),t.lineTo(C.H11(n,o),C.H11(l,s,m,C.x3Z(38))),N+=2;C.v3g(N.toString(),N.toString().length,20165)!==I&&(C.A6D(1),t.lineTo(C.H11(o,n),C.k2F(m,l,s,C.x3Z(10))))}C.x3Z(1),t.lineTo(C.k2F(o,n),C.H11(m,s,2,C.x3Z(36))),this.stemEntry==A&&t.lineTo(d,g),C.x3Z(1),t.lineTo(C.k2F(o,n),C.H11(m,s,"2",C.x3Z(37))),C.x3Z(1),t.lineTo(C.k2F(o,n),C.H11(m,l,s,C.x3Z(13))),this.stemEntry!=T?(C.A6D(1),t.quadraticCurveTo(C.H11(o,n),C.H11(l,s,C.A6D(1)),C.k2F(m,o,n,C.A6D(13)),C.H11(l,s,C.x3Z(1)))):(t.lineTo(d,g),C.A6D(13),t.lineTo(C.k2F(m,o,n),C.k2F(l,s,C.x3Z(1)))),C.x3Z(39),t.lineTo(C.k2F(n,"2",m,0),C.H11(l,s,C.A6D(1))),"ct"==this.stemEntry&&t.lineTo(d,g),C.x3Z(36),t.lineTo(C.H11(m,n,2),C.H11(l,s,C.A6D(1))),C.A6D(10),t.lineTo(C.k2F(m,o,n),C.k2F(l,s,C.x3Z(1))),t.fill(),t.globalAlpha=1,"none"!=this.pattern&&t.stroke()}if(this.highlighted?this.stx.canvasColor("stx_annotation_highlight",t):t.fillStyle=h,s+=this.padding,!this.ta)for(var W=0;W<this.arr.length;W++)t.fillText(this.arr[W],n-o+this.padding,s-l),s+=this.fontSize;t.textBaseline=e,this.highlighted&&!this.noHandles&&(q="p",q+="0",O=this.highlighted==q,this.littleCircle(t,d,g,O))}},S.Drawing.callout.prototype.click=function(t,e,i){var a;if(!this.stx.overXAxis&&!this.stx.overYAxis)return a=this.stx.panels[this.panelName],this.copyConfig(),this.setPoint(0,e,i,a.chart),this.penDown?(this.adjust(),this.edit(t),this.penDown=!1,!1):(this.stem={d:this.d0,v:this.v0},this.penDown=!0,this.adjust(),!1)},S.Drawing.callout.prototype.reposition=function(t,e,i,a){var r,n,s;C.j_6(),e&&(r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,e.stem?("drag"==e.action?this.stem={d:this.stx.dateFromTick(i,r.chart,!0),v:a}:"move"==e.action&&(this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(e.stem.d,r.chart)-n),v:e.stem.v-s}),this.adjust()):this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.render(t))},S.Drawing.callout.prototype.lineIntersection=function(t,e,i,a){var r,n,s,o,l,c,h,u,d,p,g,f,m;if(r="s",r+="tri",r+="ng",n=this.stx.panels[this.panelName],s=this.stem,o=this.p0,l=this.stx,!o||!s||!n)return!1;if(c=s.t||this.stx.tickFromDate(s.d,n.chart),h={x0:o[0],x1:c,y0:o[1],y1:s.v},d=(u=S.convertBoxToPixels(l,this.panelName,h)).x0,p=u.y0,g=u.x1,f=u.y1,typeof this.stemEntry==r){if(this.stemEntry.indexOf("l")>-1){C.A6D(10);var v=C.H11(8,10,0);d-=this.w/v}else if(this.stemEntry.indexOf("r")>-1){C.x3Z(13);var y=C.H11(3,2,1);d+=this.w/y}if(this.stemEntry.indexOf("t")>-1){C.A6D(23);var b=C.k2F(17,256,14,16);p-=this.h/b}else if(this.stemEntry.indexOf("b")>-1){C.A6D(40);var x=C.k2F(36,9,1,403,11);p+=this.h/x}}return m=S.convertBoxToPixels(l,this.panelName,i),S.boxIntersects(m.x0,m.y0,m.x1,m.y1,d,p,g,f,a)},S.Drawing.callout.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,c,h;if(a=this.stx.panels[this.panelName],!this.p0)return null;if(this.pointIntersection(this.stem.t,this.stem.v,i))return this.highlighted="p0",{action:"drag",stem:!0};C.A6D(41);var u=C.k2F(11,9,17,17);r=this.stx.pixelFromTick(this.p0[0],a.chart)-this.w/u,C.x3Z(42);var d=C.H11(10,1,0,11);return n=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1])-this.h/d,s=r+this.w,o=n+this.h,this.stem&&this.stem.x&&(r+=this.stem.x,s+=this.stem.x,n+=this.stem.y,o+=this.stem.y),l=this.stx.pixelFromTick(t,a.chart),c=this.stx.pixelFromValueAdjusted(a,t,e),l+i.r>=r&&l-i.r<=s&&c+i.r>=n&&c-i.r<=o?(this.highlighted=!0,{p0:S.clone(this.p0),tick:t,value:e}):(h=this.lineIntersection(t,e,i,"segment"),C.z7n(),h?(this.highlighted=!0,{action:"move",stem:S.clone(this.stem),p0:S.clone(this.p0),tick:t,value:e}):null)},S.Drawing.fibonacci=function(){var t,e,i;this.name="fibonacci",t=-1702544104,e=363945290,i=2;for(var a=1;C.v3g(a.toString(),a.toString().length,74863)!==t;a++)this.configurator="",i+=2;C.j_6(),C.A9N(i.toString(),i.toString().length,19388)!==e&&(this.configurator=""),this.configurator="fibonacci"},S.inheritsFrom(S.Drawing.fibonacci,S.Drawing.BaseTwoPoint),S.Drawing.fibonacci.mapping={trend:"t",color:"c",parameters:"p",pattern:f,opacity:"o",lineWidth:"lw",level:"l",extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:g,display:"d"},S.Drawing.fibonacci.prototype.recommendedLevels=[-.618,-.382,0,.382,.5,.618,1,1.382,1.618],S.Drawing.fibonacci.prototype.configs=["color",p,d,u,"parameters"],S.Drawing.fibonacci.prototype.initializeSettings=function(t){var e,i;if(e=this.recommendedLevels){i=t.currentVectorParameters.fibonacci.fibs;for(var a=0;a<i.length;a++){delete i[a].display;for(var r=0;r<e.length;r++)i[a].level==e[r]&&(i[a].display=!0)}}},S.Drawing.fibonacci.prototype.setOuter=function(){var t,e,i,a,r,n,s,o,l,c,h,u,d,p;if(e=(t=this.stx).panels[this.panelName]){i=Math.max(this.p0[1],this.p1[1]),a=Math.min(this.p0[1],this.p1[1]),C.A6D(1),r=C.k2F(a,i),this.outer={p0:S.clone(this.p0),p1:S.clone(this.p1)},n=t.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),s=t.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),o=t.pixelFromTick(this.p0[0],e.chart),l=t.pixelFromTick(this.p1[0],e.chart),c=0,h=1;for(var g=0;g<this.parameters.fibs.length;g++)(u=this.parameters.fibs[g]).level>=c&&u.level<=h||!u.display||(d=t.pixelFromValueAdjusted(e,this.p0[0],s<n?i-r*u.level:a+r*u.level),p=S.xIntersection({x0:o,x1:l,y0:n,y1:s},d),u.level<c?(c=u.level,this.outer.p1[1]=t.valueFromPixel(d,e),this.outer.p1[0]=t.tickFromPixel(p,e.chart)):u.level>h&&(h=u.level,this.outer.p0[1]=t.valueFromPixel(d,e),this.outer.p0[0]=t.tickFromPixel(p,e.chart)))}},S.Drawing.fibonacci.prototype.click=function(t,e,i){var a,r,n,s;if(a=this.stx.panels[this.panelName]){r=1885306553,n=982082744,s=2;for(var o=1;C.v3g(o.toString(),o.toString().length,73649)!==r;o++)this.copyConfig(),s+=2;return C.v3g(s.toString(),s.toString().length,7371)!==n&&this.copyConfig(),this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),this.setOuter(),this.parameters=S.clone(this.parameters),this.penDown=!1,!0):(this.setPoint(0,e,i,a.chart),this.penDown=!0,!1)}},S.Drawing.fibonacci.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H;if(e="midd",e+="l",e+="e",i=this.stx.panels[this.panelName],C.z7n(),i&&(a=i.yAxis,this.p1)){r=Math.max(this.p0[1],this.p1[1]),n=Math.min(this.p0[1],this.p1[1]),s=a.flipped?n-r:r-n,o=this.stx.pixelFromTick(this.p0[0],i.chart),l=this.stx.pixelFromTick(this.p1[0],i.chart),c=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),h=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),u=Math.min(h,c),d=Math.max(h,c),C.x3Z(1),p=C.k2F(u,d),C.x3Z(43),g=C.k2F(c,o,0,h,l),f={color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=f),m=this.getLineColor(this.parameters.trend.color),t.textBaseline=e,this.stx.canvasFont("stx_yaxis",t),C.x3Z(44);var R=C.H11(23,1,11,15,8);v=t.measureText("161.8%").width+R,y=Number.MAX_VALUE,b=Number.MAX_VALUE,C.A6D(45);var U=C.k2F(14,2,27,1,1);x=Number.MAX_VALUE*U,C.x3Z(8);var z=C.H11(13,19);k=Number.MAX_VALUE*-("1"<<z),("auto"==(w=this.color)||S.isTransparent(w))&&(w=this.stx.defaultColor),this.rays=[];for(var V=0;V<this.parameters.fibs.length;V++)if(t.textAlign="left",t.fillStyle=w,(D=this.parameters.fibs[V]).display){if(T=this.stx.pixelFromValueAdjusted(i,this.p0[0],h<c?r-s*D.level:n+s*D.level),A=S.xIntersection({x0:o,x1:l,y0:c,y1:h},T),M=this.parameters.extendLeft?0:A,L=i.left+i.width,this.parameters.printLevels){C.A6D(46);var B=C.H11(18,10,19,2738420,8e3);C.x3Z(8);var W=C.k2F(1,9);_=Math.round(D.level*B)/W+"%",L-=v,this.parameters.printValues&&(t.fillStyle=w,this.stx.canvasFont("stx_yaxis",t)),L<M&&(t.textAlign="right"),t.fillText(_,L,T),L<M?L+=5:L-=5}this.parameters.printValues&&A<i.width&&(P=this.stx.transformedPriceFromPixel(T,i),P=a.priceFormatter?a.priceFormatter(this.stx,i,P):this.stx.formatYAxisPrice(P,i),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(i,P,T,w,null,t),t==this.stx.chart.context&&this.stx.startClip(i.name)),("auto"==(F=D.color)||S.isTransparent(F))&&(F=this.color),("auto"==F||S.isTransparent(F))&&(F=this.stx.defaultColor),("auto"==(E=D.color)||S.isTransparent(E))&&(E=this.fillColor),("auto"==E||S.isTransparent(E))&&(E=this.stx.defaultColor),t.fillStyle=E,I=S.clone(D.parameters),this.highlighted&&(I.opacity=1),this.stx.plotLine(M,L,T,T,this.highlighted?m:F,"segment",t,i,I),this.rays.push([[M,T],[L,T]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(L,T),t.lineTo(M,T),M?t.lineTo(l,h):t.lineTo(M,h),t.lineTo(L,h),void 0!==E&&t.fill(),t.globalAlpha=1,T<b&&(y=A,b=T),T>k&&(x=A,k=T)}for(var j=0;j<=1;j++)N=g?d-p*j:u+p*j,(N=Math.round(N))<b&&(y=S.xIntersection({x0:o,x1:l,y0:c,y1:h},N),b=N),N>k&&(x=S.xIntersection({x0:o,x1:l,y0:c,y1:h},N),k=N);q=S.clone(this.parameters.trend.parameters),this.highlighted&&(q.opacity=1),this.stx.plotLine(y,x,b,k,m,"segment",t,i,q),this.highlighted&&(O="p0"==this.highlighted,H="p1"==this.highlighted,this.littleCircle(t,o,c,O),this.littleCircle(t,l,h,H))}},S.Drawing.fibonacci.prototype.reposition=function(t,e,i,a){C.z7n(),e&&(S.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments),this.adjust())},S.Drawing.fibonacci.prototype.intersected=function(t,e,i){var a,r,n,s,o,l;if(a=this.p0,r=this.p1,!a||!r)return null;for(var c in n={0:a,1:r})if(this.pointIntersection(n[c][0],n[c][1],i))return C.A6D(8),this.highlighted=C.H11("p",c),{action:"drag",point:"p"+c};if(s=this.outer,o=this.rays,!(l=s&&this.lineIntersection(t,e,i,"segment",s.p0,s.p1)))for(var h=0;h<o.length;h++)if(this.lineIntersection(t,e,i,"ray",o[h][0],o[h][1],!0)){l=!0;break}return l?(this.highlighted=!0,{action:"move",p0:S.clone(a),p1:S.clone(r),tick:t,value:e}):(C.z7n(),null)},S.Drawing.fibonacci.prototype.reconstruct=function(t,e){e=S.replaceFields(e,S.reverseObject(S.Drawing.fibonacci.mapping)),this.stx=t,this.parameters=e.parameters,this.parameters||(this.parameters=S.clone(this.stx.currentVectorParameters.fibonacci)),this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.d0=e.d0,this.d1=e.d1,this.d2=e.d2,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.tzo2=e.tzo2,this.v0=e.v0,this.v1=e.v1,this.v2=e.v2,this.adjust()},S.Drawing.fibonacci.prototype.adjust=function(){var t,e,i,a;C.x3Z(20),t=-C.k2F("1621140793",64),e=26430201,i=2;for(var r=1;C.v3g(r.toString(),r.toString().length,10851)!==t;r++)a=this.stx.panels[this.panelName],i+=2;C.v3g(i.toString(),i.toString().length,72204)!==e&&(a=this.stx.panels[this.panelName]),a&&(this.setPoint(0,this.d0,this.v0,a.chart),C.z7n(),this.setPoint(1,this.d1,this.v1,a.chart),this.setOuter())},S.Drawing.fibonacci.prototype.serialize=function(){var t;return C.j_6(),t={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2},S.replaceFields(t,S.Drawing.fibonacci.mapping)},S.Drawing.retracement=function(){this.name="retracement"},S.inheritsFrom(S.Drawing.retracement,S.Drawing.fibonacci),S.Drawing.fibprojection=function(){var t;t="fibpr",t+="o",t+="jection",this.name=t,this.dragToDraw=!1,this.p2=null},S.inheritsFrom(S.Drawing.fibprojection,S.Drawing.fibonacci),C.A6D(1),S.Drawing.fibprojection.prototype.recommendedLevels=[0,.618,1,1.272,C.H11(0,"1.618"),2.618,4.236],S.Drawing.fibprojection.prototype.click=function(t,e,i){var a;if(C.j_6(),a=this.stx.panels[this.panelName])return this.copyConfig(),this.penDown?this.accidentalClick(e,i)?(this.stx.undo(),!0):null!==this.p2?(this.setPoint(2,this.p2[0],this.p2[1],a.chart),this.parameters=S.clone(this.parameters),!0):(this.setPoint(1,e,i,a.chart),C.x3Z(5),this.p2=[this.p1[0],this.p1[C.k2F("1",0)]],!1):(this.setPoint(0,e,i,a.chart),this.penDown=!0,!1)},S.Drawing.fibprojection.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T,A,M,L,_,P,F,E,I,N;if(e="sol",e+="i",e+="d",(i=this.stx.panels[this.panelName])&&(a=i.yAxis,C.j_6(),this.p1)){C.x3Z(8);var q=C.k2F(0,1);C.A6D(47);var O=C.k2F(20,3,31,9);r=this.p1[q]-this.p0[O],n=this.stx.pixelFromTick(this.p0[0],i.chart),s=this.stx.pixelFromTick(this.p1[0],i.chart),o=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),l=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),c=null,h=null,this.p2&&(c=this.stx.pixelFromTick(this.p2[0],i.chart),h=this.stx.pixelFromValueAdjusted(i,this.p2[0],this.p2[1])),u={color:"auto",parameters:{pattern:e,opacity:.25,lineWidth:1}},this.parameters.trend||(this.parameters.trend=u),d=this.getLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),C.A6D(1);var H=C.H11(10,20);if(p=t.measureText("161.8%").width+H,("auto"==(g=this.color)||S.isTransparent(g))&&(g=this.stx.defaultColor),this.p2){this.rays=[];for(var R=0;R<this.parameters.fibs.length;R++)if(f="segmen",f+="t",m="a",m+="ut",m+="o",v="a",v+="u",v+="t",v+="o",y="l",y+="e",y+="ft",t.textAlign=y,t.fillStyle=g,(b=this.parameters.fibs[R]).display){if(x=this.stx.pixelFromValueAdjusted(i,this.p2[0],this.p2[1]+r*b.level),k=S.xIntersection({x0:n,x1:s,y0:o,y1:l},x),w=this.parameters.extendLeft?0:n,D=i.left+i.width,this.parameters.printLevels){C.A6D(23);var U=C.H11(12,11055,17,1006);C.A6D(30);var z=C.H11(36,23,2);C.A6D(48);var V=C.H11(488,12,7314);C.A6D(23);var B=C.H11(13,79371,3,6615);C.A6D(1),C.k2F(2,7313),C.x3Z(30);var W=C.H11(58590,5860,11);C.x3Z(49);var j=C.H11(2780,231,1393,7);C.A6D(50),C.k2F(5,8533,18,7,6847),C.A6D(38);var $=C.k2F(17,313,319);C.x3Z(13);var Y=C.k2F(5,11,2856);T=Math.round(b.level*U)/z+(617.66!=V?B>=W?"%":6440!=j?$:Y:"o"),D-=p,this.parameters.printValues&&(t.fillStyle=g,this.stx.canvasFont("stx_yaxis",t)),D<w&&(t.textAlign="right"),t.fillText(T,D,x),D<w?(C.A6D(1),D+=C.H11(0,"5")):D-=5}this.parameters.printValues&&k<i.width&&(A=this.stx.transformedPriceFromPixel(x,i),A=a.priceFormatter?a.priceFormatter(this.stx,i,A):this.stx.formatYAxisPrice(A,i),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(i,A,x,g,null,t),t==this.stx.chart.context&&this.stx.startClip(i.name)),("auto"==(M=b.color)||S.isTransparent(M))&&(M=this.color),("auto"==M||S.isTransparent(M))&&(M=this.stx.defaultColor),((L=b.color)==v||S.isTransparent(L))&&(L=this.fillColor),(L==m||S.isTransparent(L))&&(L=this.stx.defaultColor),t.fillStyle=L,_=S.clone(b.parameters),this.highlighted&&(_.opacity=1),this.stx.plotLine(w,D,x,x,this.highlighted?d:M,f,t,i,_),this.rays.push([[w,x],[D,x]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(D,x),t.lineTo(w,x),w?t.lineTo(n,h):t.lineTo(w,h),t.lineTo(D,h),void 0!==L&&t.fill(),t.globalAlpha=1}}P=S.clone(this.parameters.trend.parameters),this.highlighted&&(P.opacity=1),this.stx.plotLine(n,s,o,l,d,"segment",t,i,P),this.p2&&this.stx.plotLine(s,c,l,h,d,"segment",t,i,P),this.highlighted&&(F="p",F+="1",E="p0"==this.highlighted,I=this.highlighted==F,N="p2"==this.highlighted,this.littleCircle(t,n,o,E),this.littleCircle(t,s,l,I),this.littleCircle(t,c,h,N))}},S.Drawing.fibprojection.prototype.move=function(t,e,i){C.z7n(),this.penDown&&(this.copyConfig(),null===this.p2?this.p1=[e,i]:this.p2=[e,i],this.render(t))},S.Drawing.fibprojection.prototype.reposition=function(t,e,i,a){var r,n,s;e&&(r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,"move"==e.action?(this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.setPoint(1,e.p1[0]-n,e.p1[1]-s,r.chart),this.setPoint(2,e.p2[0]-n,e.p2[1]-s,r.chart),this.render(t)):"drag"==e.action&&(this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.setPoint(2,this.p2[0],this.p2[1],r.chart),this.render(t)))},S.Drawing.fibprojection.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,c;if(a=this.p0,r=this.p1,n=this.p2,!a||!r||!n)return null;for(var h in s={0:a,1:r,2:n})if(this.pointIntersection(s[h][0],s[h][1],i))return C.A6D(8),this.highlighted=C.H11("p",h),{action:"drag",point:"p"+h};if(C.z7n(),o=this.rays,!(l=this.lineIntersection(t,e,i,"segment",a,r)||this.lineIntersection(t,e,i,"segment",r,n)))for(var u=0;u<o.length;u++)if(c="r",c+="ay",this.lineIntersection(t,e,i,c,o[u][0],o[u][1],!0)){l=!0;break}return l?(this.highlighted=!0,{action:"move",p0:S.clone(a),p1:S.clone(r),p2:S.clone(n),tick:t,value:e}):null},S.Drawing.fibprojection.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart),this.setPoint(2,this.d2,this.v2,t.chart))},S.Drawing.fibarc=function(){C.j_6(),this.name="fibarc"},S.inheritsFrom(S.Drawing.fibarc,S.Drawing.fibonacci),S.Drawing.fibarc.prototype.recommendedLevels=[.382,.5,.618,1],S.Drawing.fibarc.prototype.setOuter=function(){var t,e,i,a,r,n,s;(t=this.stx.panels[this.panelName])&&(this.outer={p0:S.clone(this.p0),p1:S.clone(this.p1)},e=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[1]),i=this.stx.pixelFromValueAdjusted(t,this.p1[0],this.p1[1]),a=this.stx.pixelFromTick(this.p0[0],t.chart),r=this.stx.pixelFromTick(this.p1[0],t.chart),C.A6D(30),n=C.H11(i,2,e),s=S.xIntersection({x0:a,x1:r,y0:e,y1:i},n),C.z7n(),this.outer.p0[1]=this.stx.valueFromPixel(n,t),this.outer.p0[0]=this.stx.tickFromPixel(s,t.chart))},S.Drawing.fibarc.prototype.intersected=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f;if(a="m",a+="o",a+="v",a+="e",r="seg",r+="ment",n=this.stx.panels[this.panelName]){if(s=this.p0,o=this.p1,l=this.outer,!s||!o)return null;for(var m in c={0:s,1:o})if(this.pointIntersection(c[m][0],c[m][1],i))return C.x3Z(8),this.highlighted=C.H11("p",m),{action:"drag",point:"p"+m};return this.lineIntersection(t,e,i,r,l.p0,l.p1)?(h="mo",h+="ve",this.highlighted=!0,{action:h,p0:S.clone(s),p1:S.clone(o),tick:t,value:e}):(u={x0:s[0],x1:o[0],y0:s[1],y1:o[1]},d=S.convertBoxToPixels(this.stx,this.panelName,u),p={x:Math.abs(Math.sqrt(2)*(d.x1-d.x0)),y:Math.abs(Math.sqrt(2)*(d.y1-d.y0))},C.z7n(),g=this.stx.pixelFromTick(t,n.chart),f=this.stx.pixelFromValueAdjusted(n,t,e),g+i.r<d.x1-p.x||g-i.r>d.x1+p.x||f+i.r<d.y1-p.y||f-i.r>d.y1+p.y||d.y0<d.y1&&f-i.r>d.y1||d.y0>d.y1&&f+i.r<d.y1?null:(this.highlighted=!0,{action:a,p0:S.clone(this.p0),p1:S.clone(this.p1),tick:t,value:e}))}},S.Drawing.fibarc.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T,A,M,L,_;if(e="a",e+="uto",i="s",i+="tx_yaxis",(a=this.stx.panels[this.panelName])&&(r=a.yAxis,C.j_6(),this.p1)){n=this.stx.pixelFromTick(this.p0[0],a.chart),s=this.stx.pixelFromTick(this.p1[0],a.chart),o=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),l=this.stx.pixelFromValueAdjusted(a,this.p1[0],this.p1[1]),C.x3Z(51),c=C.k2F(l,o),C.x3Z(52),h=Math.abs(C.H11(o,s,n,l)),u=this.getLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont(i,t),((d=this.color)==e||S.isTransparent(d))&&(d=this.stx.defaultColor);for(var P=0;P<this.parameters.fibs.length;P++)if(p="a",p+="uto",g="lef",g+="t",t.fillStyle=d,!((f=this.parameters.fibs[P]).level<0)&&f.display){C.x3Z(53);var F=C.k2F(20,14,18,23);C.x3Z(8);var E=C.k2F(0,1);m=Math.abs(this.p1[F]-this.p0[E])*Math.sqrt(2)*f.level,C.A6D(54);var I=C.H11(6,0,7,15,1);C.A6D(1);var N=C.k2F(7,6);C.A6D(55);var q=C.H11(13,20,13,21);C.A6D(56);var O=C.k2F(10,11);C.x3Z(57);var H=C.H11(1,10,9);if(v=this.p1[I]+m*(c?N:q)*(r.flipped?O:H),y=this.stx.pixelFromValueAdjusted(a,this.p0[0],v),b=S.xIntersection({x0:n,x1:s,y0:o,y1:l},y),this.parameters.printLevels){t.textAlign="center",C.A6D(1);var R=C.k2F(19e3,2e4);C.A6D(1),C.H11(3705,4940),C.x3Z(30);var U=C.k2F(1571650,131580,12);C.x3Z(15);var z=C.k2F(1898,11,2,949);x=Math.round(f.level*R)/10+(U>694.9?"%":z),this.parameters.printValues&&(k="s",k+="tx_y",k+="axi",k+="s",t.fillStyle=d,this.stx.canvasFont(k,t)),t.fillText(x,s,Math.round(y-5))}t.textAlign=g,this.parameters.printValues&&b<a.width&&(w=v,w=r.priceFormatter?r.priceFormatter(this.stx,a,w):this.stx.formatYAxisPrice(w,a),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(a,w,y,d,null,t),t==this.stx.chart.context&&this.stx.startClip(a.name)),("auto"==(D=f.color)||S.isTransparent(D))&&(D=this.color),("auto"==D||S.isTransparent(D))&&(D=this.stx.defaultColor),t.strokeStyle=this.highlight?u:D,((T=f.color)==p||S.isTransparent(T))&&(T=this.fillColor),("auto"==T||S.isTransparent(T))&&(T=this.stx.defaultColor),t.fillStyle=T,t.globalAlpha=this.highlighted?1:f.parameters.opacity,t.lineWidth=f.parameters.lineWidth,t.setLineDash&&(t.setLineDash(S.borderPatternToArray(t.lineWidth,f.parameters.pattern)),t.lineDashOffset=0),t.save(),t.beginPath(),C.x3Z(58),t.scale(C.k2F("1",h),1),C.x3Z(9),t.arc(C.k2F(s,h),l,Math.abs(y-l),0,Math.PI,!c),"none"!=this.pattern&&t.stroke(),t.globalAlpha=.05,t.fill(),t.restore(),t.setLineDash&&t.setLineDash([]),C.A6D(1),t.globalAlpha=C.k2F(0,"1")}t.textAlign="left",A=S.clone(this.parameters.trend.parameters),this.highlighted&&(A.opacity=1),C.x3Z(59),this.stx.plotLine(s,C.k2F(1,n,"2",s),l,C.H11(o,"2",32,l,C.A6D(60)),u,"segment",t,a,A),this.highlighted&&(M="p",M+="1",L="p0"==this.highlighted,_=this.highlighted==M,this.littleCircle(t,n,o,L),this.littleCircle(t,s,l,_))}},S.Drawing.fibfan=function(){C.j_6(),this.name="fibfan"},S.inheritsFrom(S.Drawing.fibfan,S.Drawing.fibonacci),S.Drawing.fibfan.prototype.recommendedLevels=[0,.382,.5,.618,1],S.Drawing.fibfan.prototype.setOuter=function(){},S.Drawing.fibfan.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T,A,M,L,_,P;if(e="161.8",e+="%",(i=this.stx.panels[this.panelName])&&(a=i.yAxis,this.p1)){r=this.stx.pixelFromTick(this.p0[0],i.chart),n=this.stx.pixelFromTick(this.p1[0],i.chart),s=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),l=Math.min(o,s),c=Math.max(o,s),C.A6D(1),h=C.k2F(l,c),C.x3Z(43),u=C.H11(s,r,0,o,n),d=this.getLineColor(this.parameters.trend.color),t.textBaseline="middle",this.stx.canvasFont("stx_yaxis",t),C.A6D(30);var F=C.k2F(165,25,7);p=t.measureText(e).width+F,g=Number.MAX_VALUE,C.A6D(61);var E=C.H11(0,5,1,6);f=Number.MAX_VALUE*E,("auto"==(m=this.color)||S.isTransparent(m))&&(m=this.stx.defaultColor),this.rays=[];for(var I=0;I<this.parameters.fibs.length;I++)if(t.fillStyle=m,(v=this.parameters.fibs[I]).display&&(y=this.stx.pixelFromValueAdjusted(i,this.p0[0],(this.p0[1]-this.p1[1])*v.level+this.p1[1]),b=S.xIntersection({x0:n,x1:n,y0:s,y1:o},y),x=i.left,n>r&&(x+=i.width),C.A6D(62),k=C.k2F(r,s,r,y,s,b,x),!(r>x-(this.parameters.printLevels?p+5:0)&&n>r||r<x+(this.parameters.printLevels?p+5:0)&&n<r))){if(this.parameters.printLevels){C.A6D(8);var N=C.k2F(143,857);C.x3Z(63);var q=C.k2F(24,1,16,18);C.A6D(8),C.H11(79,1026),C.x3Z(64);var O=C.H11(1,20,1,20);w=Math.round(v.level*N)/q+(6886=="515.34"*O?"N":"%"),n>r?(x-=p,t.textAlign="left"):(x+=p,t.textAlign="right"),this.parameters.printValues&&(t.fillStyle=m,this.stx.canvasFont("stx_yaxis",t)),C.x3Z(62),k=C.H11(r,s,r,y,s,b,x),t.fillText(w,x,k),n>r?x-=5:x+=5}t.textAlign="left",this.parameters.printValues&&b<i.width&&(D=this.stx.transformedPriceFromPixel(y,i),D=a.priceFormatter?a.priceFormatter(this.stx,i,D):this.stx.formatYAxisPrice(D,i),t==this.stx.chart.context&&this.stx.endClip(),this.stx.createYAxisLabel(i,D,y,m,null,t),t==this.stx.chart.context&&this.stx.startClip(i.name)),("auto"==(T=v.color)||S.isTransparent(T))&&(T=this.color),("auto"==T||S.isTransparent(T))&&(T=this.stx.defaultColor),("auto"==(A=v.color)||S.isTransparent(A))&&(A=this.fillColor),("auto"==A||S.isTransparent(A))&&(A=this.stx.defaultColor),t.fillStyle=A,this.parameters.printLevels&&(C.x3Z(62),k=C.k2F(r,s,r,y,s,b,x)),M=S.clone(v.parameters),this.highlighted&&(M.opacity=1),this.stx.plotLine(r,x,s,k,this.highlighted?d:T,"segment",t,i,M),this.rays.push([[r,s],[x,k]]),t.globalAlpha=.05,t.beginPath(),t.moveTo(x,k),t.lineTo(r,s),t.lineTo(x,s),t.fill(),t.globalAlpha=1,y<g&&(g=y),y>f&&(f=y)}for(var H=0;H<=1;H++)L=u?c-h*H:l+h*H,(L=Math.round(L))<g&&(g=L),L>f&&(f=L);this.highlighted&&(_="p0"==this.highlighted,P="p1"==this.highlighted,this.littleCircle(t,r,s,_),this.littleCircle(t,n,o,P))}},S.Drawing.fibtimezone=function(){C.z7n(),this.name="fibtimezone"},S.inheritsFrom(S.Drawing.fibtimezone,S.Drawing.fibonacci),S.Drawing.fibtimezone.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T,A,M,L;if(e="segme",e+="nt",i="a",i+="ut",i+="o",a="m",a+="idd",a+="le",(r=this.stx.panels[this.panelName])&&this.p1){n=this.stx.pixelFromTick(this.p0[0],r.chart),s=this.stx.pixelFromTick(this.p1[0],r.chart),o=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[1]),l=this.stx.pixelFromValueAdjusted(r,this.p1[0],this.p1[1]),c=[1,0],h=this.getLineColor(this.parameters.trend.color),t.textBaseline=a,C.z7n(),this.stx.canvasFont("stx_yaxis",t),u=20,d=this.p1[0]-this.p0[0],("auto"==(p=this.color)||S.isTransparent(p))&&(p=this.stx.defaultColor),t.textAlign="center",g=n,f=r.yAxis.top,m=r.yAxis.bottom,v=0,((y=this.parameters.timezone.color)==i||S.isTransparent(y))&&(y=this.color),("auto"==y||S.isTransparent(y))&&(y=this.stx.defaultColor),("auto"==(b=this.parameters.timezone.color)||S.isTransparent(b))&&(b=this.fillColor),("auto"==b||S.isTransparent(b))&&(b=this.stx.defaultColor),this.parameters.printLevels&&(C.A6D(1),m-=C.H11(7,u)),x=S.clone(this.parameters.timezone.parameters),this.highlighted&&(x.opacity=1);do{if(g=this.stx.pixelFromTick(this.p0[0]+v*d,r.chart),n<s&&g>r.left+r.width)break;if(n>s&&g<r.left)break;this.parameters.printLevels&&(t.fillStyle=p,t.fillText(s>n?v:-1*v,g,m+7)),t.fillStyle=b,this.stx.plotLine(g,g,0,m,this.highlighted?h:y,"segment",t,r,x),t.globalAlpha=.05,t.beginPath(),t.moveTo(n,f),t.lineTo(g,f),t.lineTo(g,m),t.lineTo(n,m),t.fill(),t.globalAlpha=1,C.A6D(30);var _=C.H11(13,2,7);v=c[0]+c[_],c.unshift(v)}while(d);k=-652920491,w=1873462547,C.A6D(5),D=C.k2F("2",32);for(var P=1;C.A9N(P.toString(),P.toString().length,59585)!==k;P++)t.textAlign="left",C.x3Z(0),D+=C.k2F(0,"2");C.A9N(D.toString(),D.toString().length,75323)!==w&&(t.textAlign=""),this.stx.plotLine(n,s,o,l,h,e,t,r,x),this.highlighted?(T="p",T+="0",A=this.highlighted==T,M="p1"==this.highlighted,this.littleCircle(t,n,o,A),this.littleCircle(t,s,l,M)):(L=this.stx.valueFromPixel(r.height/2,r),this.setPoint(0,this.p0[0],L,r.chart),this.setPoint(1,this.p1[0],L,r.chart))}},S.Drawing.fibtimezone.prototype.intersected=function(t,e,i){var a,r,n,s,o,l;if(a=this.p0,r=this.p1,n=this.stx.panels[this.panelName],!a||!r||!n)return null;for(var c in s={0:a,1:r})if(this.pointIntersection(s[c][0],s[c][1],i))return C.x3Z(8),this.highlighted=C.k2F("p",c),{action:"drag",point:"p"+c};return o=this.lineIntersection(t,e,i,"segment"),C.z7n(),o||i.x0<=this.p0[0]&&i.x1>=a[0]?(l="m",l+="o",l+="v",l+="e",this.highlighted=!0,{action:l,p0:S.clone(a),p1:S.clone(r),tick:t,value:e}):null},S.Drawing.arrow_v0=function(){this.name="arrow",this.dimension=[11,11],C.x3Z(9),this.points=[["M",3,0,"L",7,0,"L",7,5,"L",10,5,"L",C.H11("5",1),C.k2F(0,"10",C.A6D(0)),"L",0,C.H11(0,"5",C.A6D(0)),"L",3,5,"L",3,0]]},S.inheritsFrom(S.Drawing.arrow_v0,S.Drawing.shape),S.Drawing.xcross=function(){C.z7n(),this.name="xcross",this.dimension=[7,7],C.A6D(9),this.points=[["M",1,0,"L",3,2,"L",5,0,"L",6,1,"L",C.k2F("4",1),3,"L",6,5,"L",5,6,"L",3,4,"L",1,6,"L",0,C.k2F(1,"5",C.x3Z(22)),"L",2,3,"L",0,1,"L",1,0]]},S.inheritsFrom(S.Drawing.xcross,S.Drawing.shape),S.Drawing.check=function(){var t;t="c",t+="heck",this.name=t,this.dimension=[8,9],C.A6D(9),C.j_6(),this.points=[["M",1,5,"L",0,6,"L",2,8,"L",7,1,"L",C.H11("6",1),0,"L",2,C.k2F("6",32,C.A6D(20)),"L",1,5]]},S.inheritsFrom(S.Drawing.check,S.Drawing.shape),S.Drawing.star=function(){var t;t="s",t+="t",t+="a",t+="r",this.name=t,C.j_6(),this.dimension=[12,12],C.A6D(1),this.points=[["M",0,4,"L",4,4,"L",5.5,0,"L",7,4,"L",11,4,"L",8,7,"L",9,11,"L",5.5,9,"L",2,11,"L",C.k2F(0,"3"),7,"L",0,4]]},S.inheritsFrom(S.Drawing.star,S.Drawing.shape),S.Drawing.heart=function(){var t;C.z7n(),t="h",t+="ea",t+="r",t+="t",this.name=t,C.x3Z(22),this.dimension=[23,C.k2F(4,"20")],C.x3Z(5),this.points=[["M",11,3,"B",11,2.4,10,0,6,C.k2F("0",0),"B",0,0,0,C.k2F(0,"7.5",C.A6D(1)),0,7.5,"B",0,11,4,15.4,11,19,"B",18,15.4,C.H11("22",0,C.A6D(20)),11,22,7.5,"B",22,7.5,C.H11(0,"22",C.x3Z(1)),0,16,0,"B",13,0,11,2.4,11,3]]},S.inheritsFrom(S.Drawing.heart,S.Drawing.shape),S.Drawing.focusarrow=function(){this.name="focusarrow",this.dimension=[7,5],C.j_6(),C.A6D(5),this.points=[["M",0,0,"L",2,2,"L",0,4,"L",0,C.k2F("0",32)],["M",6,0,"L",C.H11("4",1,C.x3Z(9)),2,"L",6,4,"L",6,0]]},S.inheritsFrom(S.Drawing.focusarrow,S.Drawing.shape),S.Drawing.crossline=function(){this.name="crossline"},S.inheritsFrom(S.Drawing.crossline,S.Drawing.horizontal),S.extend(S.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(t,e){return!1},adjust:function(){var t;(t=this.stx.panels[this.panelName])&&(C.z7n(),this.setPoint(0,this.d0,this.v0,t.chart),this.p1=S.clone(this.p0))},intersected:function(t,e,i){var a,r;return a="li",C.j_6(),a+="n",a+="e",this.p0&&this.p1?(this.p1[0]+=1,r=this.lineIntersection(t,e,i,a),this.p1=S.clone(this.p0),r||(this.p1[1]+=1,r=this.lineIntersection(t,e,i,"line"),this.p1=S.clone(this.p0),r)?(this.highlighted=!0,this.pointIntersection(this.p0[0],this.p0[1],i)&&(this.highlighted="p0"),{action:"move",p0:S.clone(this.p0),p1:S.clone(this.p1),tick:t,value:e}):null):null},render:function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y;if(e=this.stx.panels[this.panelName]){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),r=this.getLineColor(),n={pattern:this.pattern,lineWidth:this.lineWidth},C.x3Z(8),this.stx.plotLine(i,C.H11(i,100),a,a,r,"horizontal",t,e,n),C.x3Z(8),this.stx.plotLine(i,i,a,C.H11(a,100),r,"vertical",t,e,n),this.axisLabel&&!this.repositioner&&(this.stx.endClip(),s=this.p0[1],e.chart.transformFunc&&(s=e.chart.transformFunc(this.stx,e.chart,s)),s=e.yAxis.priceFormatter?e.yAxis.priceFormatter(this.stx,e,s):this.stx.formatYAxisPrice(s,e),this.stx.createYAxisLabel(e,s,a,r),this.stx.startClip(e.name),this.p0[0]>=0&&!this.stx.chart.xAxis.noDraw)){if(o=this.stx.dateFromTick(this.p0[0],e.chart,!0),S.ChartEngine.isDailyInterval(this.stx.layout.interval)?o.setHours(0,0,0,0):(c=1e3*o.getSeconds()+o.getMilliseconds(),this.stx.displayZone&&(l=new k.Date(o.getTime(),this.stx.displayZone),o=new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes()),o=new Date(o.getTime()+c))),h=S.mmddhhmm(S.yyyymmddhhmm(o)),e.chart.xAxis.formatter){C.x3Z(0),u=-C.H11(0,"1236614511"),d=1169414640,p=2;for(var b=1;C.A9N(b.toString(),b.toString().length,9812)!==u;b++)h=e.chart.xAxis.formatter(o,this.name,1,1,h),p+=2;C.v3g(p.toString(),p.toString().length,16196)!==d&&(h=e.chart.xAxis.formatter(o,this.name,1,1,h)),h=e.chart.xAxis.formatter(o,this.name,null,null,h)}else if(this.stx.internationalizer){if(0!==o.getHours()||0!==o.getMinutes())g=this.stx.internationalizer.monthDay.format(o),C.x3Z(65),C.k2F(2,3,5647,941,5640),C.A6D(66),C.k2F(11,2057,293,1),C.A6D(63),C.k2F(791383,133128,6,11),C.A6D(30),C.k2F(2,1,17),C.x3Z(8),C.H11(53,855),C.A6D(67),C.H11(16,1891,6,17,3188),g+=" "+this.stx.internationalizer.hourMinute.format(o);else{f=683433021,m=1733536085,v=2;for(var x=1;C.A9N(x.toString(),x.toString().length,89423)!==f;x++)g=this.stx.internationalizer.yearMonthDay.format(o),v+=2;C.v3g(v.toString(),v.toString().length,47105)!==m&&(g=this.stx.internationalizer.yearMonthDay.format(o)),g=this.stx.internationalizer.yearMonthDay.format(o)}h=g}this.stx.endClip(),this.stx.createXAxisLabel(e,h,i,r,null,!0),this.stx.startClip(e.name)}this.highlighted&&(y="p0"==this.highlighted,this.littleCircle(t,i,a,y))}}},!0),S.Drawing.speedarc=function(){var t;t="sp",t+="eeda",t+="rc",this.name=t,this.printLevels=!0},S.inheritsFrom(S.Drawing.speedarc,S.Drawing.segment),S.extend(S.Drawing.speedarc.prototype,{defaultOpacity:.25,configs:[h,"fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor,C.j_6(),this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth,this.pattern=this.stx.currentVectorParameters.pattern},intersected:function(t,e,i){var a,r,n,s,o;if(!this.p0||!this.p1)return null;for(var l in a={0:this.p0,1:this.p1})if(this.pointIntersection(a[l][0],a[l][1],i))return C.A6D(8),this.highlighted=C.k2F("p",l),{action:"drag",point:"p"+l};return this.lineIntersection(t,e,i,this.name)?(this.highlighted=!0,{action:"move",p0:S.clone(this.p0),p1:S.clone(this.p1),tick:t,value:e}):(r=this.p1[0]-(this.p0[0]-this.p1[0]),n=this.p0[0],s=this.p1[1],o=this.p0[1],t>Math.max(r,n)||t<Math.min(r,n)||e>Math.max(o,s)||e<Math.min(o,s)?null:(this.highlighted=!0,{action:"move",p0:S.clone(this.p0),p1:S.clone(this.p1),tick:t,value:e}))},render:function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k;if(e="st",e+="x",e+="_yaxi",e+="s",(i=this.stx.panels[this.panelName])&&this.p1){a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),C.A6D(51),o=C.H11(s,n),C.A6D(52),l=Math.abs(C.k2F(n,r,a,s)),c=this.getLineColor(),C.j_6(),t.strokeStyle=c,("auto"==(h=this.fillColor)||S.isTransparent(h))&&(h=this.stx.defaultColor),t.fillStyle=h,t.setLineDash&&(t.setLineDash(S.borderPatternToArray(this.lineWidth,this.pattern)),t.lineDashOffset=0),this.stx.canvasFont(e,t);for(var w=1;w<3;w++){u="n",u+="o",u+="ne",C.x3Z(2);var D=C.H11(16,3,4);C.A6D(8);var T=C.H11(0,2);C.x3Z(68);var A=C.H11(2,1,8,19);d=Math.abs(this.p1[D]-this.p0[1])*Math.sqrt(T)*w/A,C.x3Z(57);var M=C.k2F(1,4,3);C.A6D(56);var L=C.H11(16,17);C.x3Z(59);var _=C.k2F(9,12,14,1511);C.x3Z(47);var P=C.k2F(13,0,23,9);C.A6D(10);var F=C.k2F(6,7,0);p=this.p1[M]+d*(o?L:"1"|_)*(i.yAxis.flipped?P:F),g=this.stx.pixelFromValueAdjusted(i,this.p0[0],p),t.save(),t.beginPath(),C.x3Z(24),t.scale(C.H11(l,1),1),C.A6D(9),t.arc(C.H11(r,l),s,Math.abs(g-s),0,Math.PI,!o),t.globalAlpha=this.highlighted?1:this.defaultOpacity,this.pattern!=u&&t.stroke(),t.globalAlpha=.1,t.fill(),t.restore(),t.globalAlpha=1,this.printLevels&&(f="/",f+="3",m="c",m+="ente",m+="r",t.fillStyle=c,t.textAlign=m,C.x3Z(8),v=C.k2F(w,f),t.fillText(v,r,Math.round(g-5)),t.fillStyle=h)}t.textAlign="left",y={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},this.stx.plotLine(a,r,n,s,c,"segment",t,i,y),t.setLineDash&&t.setLineDash([]),this.highlighted&&(b="p",b+="1",x="p0"==this.highlighted,k=this.highlighted==b,this.littleCircle(t,a,n,x),this.littleCircle(t,r,s,k))}},reconstruct:function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,C.z7n(),this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},serialize:function(){return C.z7n(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}}},!0),S.Drawing.speedline=function(){this.name="speedline",this.printLevels=!0},S.inheritsFrom(S.Drawing.speedline,S.Drawing.speedarc),S.extend(S.Drawing.speedline.prototype,{intersected:function(t,e,i){var a,r,n,s,o,l,c;if(a=this.p0,r=this.p1,!a||!r)return null;for(var h in C.z7n(),n={0:a,1:r})if(this.pointIntersection(n[h][0],n[h][1],i))return C.A6D(8),this.highlighted=C.k2F("p",h),{action:"drag",point:"p"+h};s=this.rays;for(var u=0;u<s.length;u++)if(this.lineIntersection(t,e,i,"ray",s[u][0],s[u][1],!0))return this.highlighted=!0,{action:"move",p0:S.clone(a),p1:S.clone(r),tick:t,value:e};o=297731049,l=1961074357,c=2;for(var d=1;C.A9N(d.toString(),d.toString().length,83913)!==o;d++)return null;return C.A9N(c.toString(),c.toString().length,8929)!==l?1:void 0},render:function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T,A,M,L,_,P,F,E;if(e="a",e+="u",e+="t",e+="o",i="s",i+="t",i+="x_yax",i+="is",(a=this.stx.panels[this.panelName])&&this.p1){r=this.stx.pixelFromTick(this.p0[0],a.chart),n=this.stx.pixelFromTick(this.p1[0],a.chart),s=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),o=this.stx.pixelFromValueAdjusted(a,this.p1[0],this.p1[1]),this.stx.canvasFont(i,t),l=this.getLineColor(),("auto"==(c=this.color)||S.isTransparent(c))&&(c=this.stx.defaultColor),t.strokeStyle=c,((h=this.fillColor)==e||S.isTransparent(h))&&(h=this.stx.defaultColor),t.fillStyle=h,u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},g=["1","2/3","1/3","3/2","3"],C.A6D(24),f=[1,C.H11(3,2),C.H11(3,"1",1,C.x3Z(69)),C.H11(2,3,C.A6D(24)),3],m=[],this.rays=[];for(var I=0;I<f.length;I++)v="segmen",v+="t",(y=f[I])>1&&!this.extension||(b=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]-(this.p0[1]-this.p1[1])*y),y>1?(x=S.xIntersection({x0:r,x1:n,y0:s,y1:b},o),m.push(x)):(x=S.xIntersection({x0:n,x1:n,y0:s,y1:o},b),m.push(b)),k=y>1?x:n,w=y>1?o:b,this.confineToGrid||(k=a.left,n>r&&(k+=a.width),C.A6D(62),w=C.k2F(r,s,r,b,s,n,k)),this.printLevels&&(1!=y||this.extension)&&(t.fillStyle=c,D=0,T=0,s>o?(A="b",A+="o",A+="tt",A+="om",T=-5,t.textBaseline=A):(M="t",M+="o",M+="p",T=5,t.textBaseline=M),r>n?(D=5,t.textAlign="right"):(D=-5,t.textAlign="left"),y>1?t.fillText(g[I],x+(this.confineToGrid?0:D),o):t.fillText(g[I],n,b+(this.confineToGrid?0:T)),t.fillStyle=h),this.stx.plotLine(r,k,s,w,this.highlighted?l:c,v,t,a,u),1==y&&(d=k,p=w),this.rays.push([[r,s],[k,w]]),t.globalAlpha=.1,t.beginPath(),t.moveTo(k,w),t.lineTo(r,s),t.lineTo(d,p),t.fill(),t.globalAlpha=1);if(t.textAlign="left",t.textBaseline="middle",this.confineToGrid){if(C.x3Z(1),t.globalAlpha=C.k2F(0,"0.3"),t.beginPath(),C.A6D(1),t.strokeRect(r,s,C.H11(r,n),C.k2F(s,o)),t.moveTo(r,m[1]),t.lineTo(n,m[1]),t.moveTo(r,m[2]),t.lineTo(n,m[2]),this.extension){L=-463142105,_=-730476273,P=2;for(var N=1;C.A9N(N.toString(),N.toString().length,73964)!==L;N++)t.moveTo(m[7],s),t.lineTo(m[7],o),t.moveTo(m[0],s),P+=2;C.A9N(P.toString(),P.toString().length,86001)!==_&&(t.moveTo(m[3],s),t.lineTo(m[3],o),t.moveTo(m[4],s)),t.lineTo(m[4],o)}t.stroke(),t.globalAlpha=1}this.highlighted&&(F="p0"==this.highlighted,E="p1"==this.highlighted,this.littleCircle(t,r,s,F),this.littleCircle(t,n,o,E))}}},!0),S.Drawing.gannfan=function(){this.name="gannfan",this.printLevels=!0},S.inheritsFrom(S.Drawing.gannfan,S.Drawing.speedline),S.extend(S.Drawing.gannfan.prototype,{render:function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T;if(e="m",e+="i",e+="ddle",i="a",i+="u",i+="to",(a=this.stx.panels[this.panelName])&&this.p1){r=this.stx.pixelFromTick(this.p0[0],a.chart),n=this.stx.pixelFromTick(this.p1[0],a.chart),s=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),C.z7n(),o=this.stx.pixelFromValueAdjusted(a,this.p1[0],this.p1[1]),this.stx.canvasFont("stx_yaxis",t),l=this.getLineColor(),("auto"==(c=this.color)||S.isTransparent(c))&&(c=this.stx.defaultColor),t.strokeStyle=c,((h=this.fillColor)==i||S.isTransparent(h))&&(h=this.stx.defaultColor),t.fillStyle=h,u={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},C.x3Z(24),g=[1,2,3,4,8,C.k2F(2,1),C.H11("1",3,C.A6D(58)),C.k2F(4,1,C.x3Z(24)),C.k2F(8,1,C.x3Z(24))],this.rays=[];for(var A=0;A<g.length;A++)f="seg",f+="men",f+="t",m=g[A],C.A6D(70),v=C.k2F(r,m,r,n),C.x3Z(71),y=C.H11(m,s,s,o),b=a.left,n>r&&(b+=a.width),C.A6D(62),x=C.H11(r,s,r,y,s,n,b),this.printLevels&&(t.fillStyle=c,k=0,w=0,s>o?(w=5,t.textBaseline="top"):(w=-5,t.textBaseline="bottom"),r>n?(k=5,t.textAlign="left"):(k=-5,t.textAlign="right"),m>1?(C.x3Z(8),t.fillText(C.k2F(m,"x1"),C.H11(v,k),o)):(C.A6D(36),t.fillText(C.H11(1,"1x",m),n,C.k2F(y,w,C.A6D(8)))),t.fillStyle=h),this.stx.plotLine(r,b,s,x,this.highlighted?l:c,f,t,a,u),this.rays.push([[r,s],[b,x]]),1==m&&(d=b,p=x),t.globalAlpha=.1,t.beginPath(),t.moveTo(b,x),t.lineTo(r,s),t.lineTo(d,p),t.fill(),t.globalAlpha=1;t.textAlign="left",t.textBaseline=e,this.highlighted&&(D="p0"==this.highlighted,T="p1"==this.highlighted,this.littleCircle(t,r,s,D),this.littleCircle(t,n,o,T))}}},!0),S.Drawing.timecycle=function(){this.name="timecycle",this.printLevels=!0},S.inheritsFrom(S.Drawing.timecycle,S.Drawing.speedarc),S.extend(S.Drawing.timecycle.prototype,{intersected:function(t,e,i){var a,r,n,s,o,l;if(a="segmen",a+="t",r=this.p0,n=this.p1,s=this.stx.panels[this.panelName],!r||!n||!s)return null;for(var c in o={0:r,1:n})if(this.pointIntersection(o[c][0],o[c][1],i))return l="dr",l+="a",l+="g",C.x3Z(8),this.highlighted=C.k2F("p",c),{action:l,point:"p"+c};return this.lineIntersection(t,e,i,a)||i.x0<=this.p0[0]&&i.x1>=r[0]?(this.highlighted=!0,{action:"move",p0:S.clone(r),p1:S.clone(n),tick:t,value:e}):(C.z7n(),null)},render:function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T;if(e="s",e+="egmen",e+="t",i="l",i+="e",i+="f",i+="t",a="a",a+="ut",a+="o",r="mi",r+="d",r+="dl",r+="e",(n=this.stx.panels[this.panelName])&&this.p1){s=this.stx.pixelFromTick(this.p0[0],n.chart),o=this.stx.pixelFromTick(this.p1[0],n.chart),l=this.stx.pixelFromValueAdjusted(n,this.p0[0],this.p0[1]),c=this.stx.pixelFromValueAdjusted(n,this.p1[0],this.p1[1]),h=0,u=this.getLineColor(),t.textBaseline=r,this.stx.canvasFont("stx_yaxis",t),d=20,p=this.p1[0]-this.p0[0],t.textAlign="center",g=s,f=n.yAxis.top,m=n.yAxis.bottom,("auto"==(v=this.color)||S.isTransparent(v))&&(v=this.stx.defaultColor),((y=this.fillColor)==a||S.isTransparent(y))&&(y=this.stx.defaultColor),this.printLevels&&(C.A6D(1),m-=C.k2F(7,d)),b={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity},x=[],t.save(),t.fillStyle=y,t.globalAlpha=.05;do{if(g=this.stx.pixelFromTick(this.p0[0]+h*p,n.chart),h++,s<o&&g>n.left+n.width)break;if(s>o&&g<n.left)break;g<n.left||g>n.left+n.width||(t.beginPath(),t.moveTo(s,f),t.lineTo(g,f),t.lineTo(g,m),t.lineTo(s,m),t.fill(),x.push({c:h,x:g}))}while(p);t.globalAlpha=1,C.A6D(22),C.z7n(),k=C.k2F(0,"0");for(var A=0;A<x.length;A++)if(this.stx.plotLine(x[A].x,x[A].x,0,m,this.highlighted?u:v,"segment",t,n,b),this.printLevels){t.fillStyle=v,C.x3Z(29);var M=C.k2F(34,11,20);this.stx.chart.context.measureText(x[A].c).width+M<this.stx.layout.candleWidth+k?(t.fillText(x[A].c,x[A].x,m+7),C.A6D(0),k=C.H11(0,"0")):k+=this.stx.layout.candleWidth}t.restore(),t.textAlign=i,this.stx.plotLine(s,o,l,c,u,e,t,n,b),this.highlighted?(w="p0"==this.highlighted,D="p1"==this.highlighted,this.littleCircle(t,s,l,w),this.littleCircle(t,o,c,D)):(T=this.stx.valueFromPixel(n.height/2,n),this.setPoint(0,this.p0[0],T,n.chart),this.setPoint(1,this.p1[0],T,n.chart))}}},!0),S.Drawing.regression=function(){var t;t="reg",t+="re",t+="ssion",this.name=t},S.inheritsFrom(S.Drawing.regression,S.Drawing.segment),S.extend(S.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1",c,"lineWidth1","pattern1","active2",l,"lineWidth2","pattern2","active3","color3","lineWidth3","pattern3"],copyConfig:function(t){var e,i,a,r,n;e="au",C.z7n(),e+="to",S.Drawing.copyConfig(this,t),i=-765568748,a=1890981275,r=2;for(var s=1;C.A9N(s.toString(),s.toString().length,882)!==i;s++)n=this.stx.currentVectorParameters,r+=2;C.A9N(r.toString(),r.toString().length,68912)!==a&&(n=this.stx.currentVectorParameters),this.active1=!!n.active1,this.active2=!!n.active2,this.active3=!!n.active3,this.color1=n.color1||"auto",this.color2=n.color2||e,this.color3=n.color3||"auto",this.lineWidth1=n.lineWidth1,this.lineWidth2=n.lineWidth2,this.lineWidth3=n.lineWidth3,this.pattern1=n.pattern1,this.pattern2=n.pattern2,this.pattern3=n.pattern3},$controls:['cq-cvp-controller[cq-cvp-header="1"]',o,'cq-cvp-controller[cq-cvp-header="3"]'],click:function(t,e,i){var a,r,n,s;if(!(e<0)){if(this.copyConfig(),a=this.stx.panels[this.panelName],!this.penDown){if(C.x3Z(9),this.setPoint(C.H11("0",1),e,i,a.chart),this.penDown=!0,r=this.stx,this.field=r.highlightedDataSetField,!this.field&&a!=r.chart.panel){for(var o in r.chart.seriesRenderers)if((n=r.chart.seriesRenderers[o]).params.panel==a.name){this.field=n.seriesParams[0].field;break}for(var l in r.layout.studies)if((s=r.layout.studies[l]).panel==a.name){this.field=Object.keys(s.outputMap)[0];break}}return!1}return C.j_6(),this.accidentalClick(e,i)?this.dragToDraw:(C.x3Z(5),this.setPoint(C.k2F("1",0),e,i,a.chart),this.penDown=!1,!0)}},getYValue:function(t){var e,i,a,r,n,s,o;if(C.z7n(),e=this.stx.chart.dataSet[t],i=this.stx.chart.dataSet[t],!e)return null;if(a=this.stx.panels[this.panelName],r=this.stx.getYAxisByField(a,this.field)||a.yAxis,this.stx.charts[a.name]&&a.chart.transformFunc&&r==a.yAxis&&(i=e.transform),!i)return null;if(n=null,s=null,o=this.stx.defaultPlotField||"Close",this.field){if(!(s=S.existsInObjectChain(i,this.field)))return null;n=s=s.obj[s.member],e!=i&&(n=(n=S.existsInObjectChain(e,this.field)).obj[n.member]),"object"==typeof s&&(s=s[o],n=n[o])}else s=i[o],n=e[o];return{transformed:s,untransformed:n}},render:function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z;if(e="se",e+="gment",(i=this.stx.panels[this.panelName])&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),a<i.left&&r<i.left||a>i.right&&r>i.right))){n=this.stx.getYAxisByField(i,this.field),s=[],o=[],C.A6D(1),l=C.H11(0,"0"),c=0,h=0,u=0,d=Math.min(this.p1[0],this.p0[0]),C.x3Z(67);var V=C.k2F(11,10,99,17,2);p=Math.max(this.p1[0],this.p0[0])+V,C.x3Z(1),g=C.H11(d,p);for(var B=d;B<p;B++)(f=this.getYValue(B))&&(s.push(f.transformed),o.push(f.untransformed));for(m=s.length,C.A6D(72),v=C.k2F(m,1,2,m),y=Math.pow(v,2),C.x3Z(73),b=C.k2F(m,v,"1",0,3,"2"),B=0;B<m;B++)h+=m*s[B]-l,l+=s[B],u+=m*o[B]-c,c+=o[B];if(C.A6D(74),x=C.k2F(y,m,v,b,h,l,m),C.A6D(75),S=C.k2F(x,l,v,m),C.x3Z(74),k=C.H11(y,m,v,b,u,c,m),C.x3Z(75),w=C.k2F(x,c,v,m),this.p0[0]<this.p1[0]?(D=S,C.x3Z(38),T=C.H11(g,x,S),this.p0[1]=w,C.A6D(38),this.p1[1]=C.H11(g,k,w)):(C.A6D(38),D=C.H11(g,x,S),T=S,C.A6D(38),this.p0[1]=C.H11(g,k,w),this.p1[1]=w),A=this.stx.pixelFromTransformedValue(D,i,n),M=this.stx.pixelFromTransformedValue(T,i,n),L=this.getLineColor(),_={pattern:this.pattern,lineWidth:this.lineWidth},this.stx.plotLine(a,r,A,M,L,e,t,i,_),C.x3Z(1),this.stx.plotLine(a,a,C.H11(20,A),C.k2F(A,20,C.x3Z(8)),L,"segment",t,i,_),C.A6D(1),this.stx.plotLine(r,r,C.H11(20,M),C.k2F(M,20,C.A6D(8)),L,"segment",t,i,_),this.active1||this.active2||this.active3){P=587729375,F=1076823231,E=2;for(var W=1;C.A9N(W.toString(),W.toString().length,52384)!==P;W++)C.A6D(24),I=C.k2F(m,l),E+=2;for(C.v3g(E.toString(),E.toString().length,79024)!==F&&(C.A6D(8),I=C.k2F(l,m)),N=0,B=0;B<m;B++)N+=Math.pow(s[B]-I,2);if(C.x3Z(24),q={context:t,panel:i,points:{0:{x:a,v:D},1:{x:r,v:T}},stddev:Math.sqrt(C.k2F(m,N)),yAxis:n},this.lines={},this.active1&&(this.renderStddev("1","p",q),this.renderStddev("1","n",q)),this.active2&&(this.renderStddev("2","p",q),this.renderStddev("2","n",q)),this.active3){O=1311554722,H=122202768,R=2;for(var j=1;C.A9N(j.toString(),j.toString().length,10771)!==O;j++)this.renderStddev(!1,"3",q),R+=2;C.A9N(R.toString(),R.toString().length,38755)!==H&&this.renderStddev(!0,"3",q),this.renderStddev("3","p",q),this.renderStddev("3","n",q)}}this.highlighted?(U="p0"==this.highlighted,z="p1"==this.highlighted,this.littleCircle(t,a,A,U),this.littleCircle(t,r,M,z)):(this.pixelX=[a,r],this.pixelY=[A,M])}},renderStddev:function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,w,D;a="m",a+="i",a+="ddl",a+="e",r="c",r+="o",r+="lo",r+="r",C.x3Z(48),n=C.k2F("stddev",t,e),C.x3Z(8),s=C.k2F(r,t),C.x3Z(8),o=C.k2F("pattern",t),C.A6D(8),l=C.k2F("lineWidth",t),h=(c=i.points)[0].v,u=c[1].v,d=i.stddev,p="n"===e?-1*t:1*t,g=this.stx,f=i.panel,m=i.yAxis,v={name:n,color:this.getLineColor(this[s]),type:"segment",y0:g.pixelFromTransformedValue(h+d*p,f,m),y1:g.pixelFromTransformedValue(u+d*p,f,m),params:{pattern:this[o],lineWidth:this[l]}},this.lines&&(this.lines[n]=v),y=i.context,b=c[0].x,C.j_6(),x=c[1].x,g.plotLine(b,x,v.y0,v.y1,v.color,v.type,y,f,v.params),g.plotLine(b,b,v.y0-10,v.y0+10,v.color,v.type,y,f,v.params),g.plotLine(x,x,v.y1-10,v.y1+10,v.color,v.type,y,f,v.params),C.A6D(8),S=C.k2F(t,"σ"),C.A6D(56);var T=C.H11(17,12);k=Math.max(b,x)+T,w=b<x?v.y1:v.y0,y.fillStyle=v.color,y.save(),y.textBaseline=a,y.fillText(S,k,w),y.restore(),i.formatPrice&&this.axisLabel&&!this.highlighted&&!this.penDown&&(b>=f.chart.left&&b<=f.chart.right||x>=f.chart.left&&x<=f.chart.right)&&(C.A6D(76),D=C.H11(b<x?u:h,p,d),g.endClip(),g.createYAxisLabel(f,i.formatPrice(D,m),w,v.color,null,y,m),g.startClip(f.name))},intersected:function(t,e,i){var a,r,n,s,o,l,c;if(!this.pixelX||!this.pixelY)return null;if(a=this.repositionIntersection(t,e))return a;r={0:this.pixelX,1:this.pixelY};for(var h=0;h<2;h++)if(this.pointIntersection(r[0][h],r[1][h],i,!0))return C.x3Z(8),this.highlighted=C.H11("p",h),{action:"drag",point:"p"+h};if(n=this,s=this.pixelX[0],o=this.pixelX[1],!(c=(l=function(a){var r,l,c,h,u;r=[s,a.y0],C.x3Z(22),l=C.k2F(36,"1837908268"),c=-1981281426,h=2;for(var d=1;C.A9N(d.toString(),d.toString().length,3430)!==l;d++)u=[o,a.y1],h+=2;return C.A9N(h.toString(),h.toString().length,78993)!==c&&(u=[o,a.y1]),n.lineIntersection(t,e,i,n.name,r,u,!0)})({y0:this.pixelY[0],y1:this.pixelY[1]}))&&this.lines)for(var u in this.lines)if(l(this.lines[u])){c=!0;break}return c?(this.highlighted=!0,{action:"move",p0:S.clone(this.p0),p1:S.clone(this.p1),tick:t,value:e}):null},repositionIntersection:function(t,e){var i;return C.z7n(),!(!this.p0||!this.p1)&&!(this!=this.stx.repositioningDrawing||!this.highlighted)&&(!0===this.highlighted?(i="m",i+="o",i+="v",{action:i+="e",p0:S.clone(this.p0),p1:S.clone(this.p1),tick:t,value:e}):{action:"drag",point:this.highlighted})},lineIntersection:function(t,e,i,a,r,n,s){var o,l,c;return s?(r||(r=this.p0),n||(n=this.p1),C.z7n(),!(!r||!n)&&(o=this.stx,void 0!==(l=S.convertBoxToPixels(o,this.panelName,i)).x0&&(c={x0:r[0],x1:n[0],y0:r[1],y1:n[1]},S.boxIntersects(l.x0,l.y0,l.x1,l.y1,c.x0,c.y0,c.x1,c.y1)))):(C.A6D(8),console.log(C.k2F(a," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.")),!1)},boxIntersection:function(t,e,i){return C.j_6(),!(i.cx0>Math.max(this.pixelX[0],this.pixelX[1])||i.cx1<Math.min(this.pixelX[0],this.pixelX[1])||!this.stx.repositioningDrawing&&(i.cy1<this.pixelY[0]||i.cy0>this.pixelY[1]))},reconstruct:function(t,e){this.stx=t,this.color=e.col,this.color1=e.col1,this.color2=e.col2,this.color3=e.col3,this.active1=e.dev1,this.active2=e.dev2,this.active3=e.dev3,this.panelName=e.pnl,this.pattern=e.ptrn,this.pattern1=e.ptrn1,this.pattern2=e.ptrn2,this.pattern3=e.ptrn3,this.lineWidth=e.lw,this.lineWidth1=e.lw1,this.lineWidth2=e.lw2,this.lineWidth3=e.lw3,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.field=e.fld,this.adjust()},serialize:function(){return{name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field}}},!0),S.Drawing.trendline=function(){this.name="trendline"},S.inheritsFrom(S.Drawing.trendline,S.Drawing.segment),S.Drawing.trendline.prototype.configs=[s,"fillColor","lineWidth","pattern","font"],S.Drawing.trendline.prototype.measure=function(){},S.Drawing.trendline.prototype.reconstruct=function(t,e){S.Drawing.segment.prototype.reconstruct.call(this,t,e),this.callout=new S.Drawing.callout,C.z7n(),this.callout.reconstruct(t,e.callout)},S.Drawing.trendline.prototype.serialize=function(){var t;return C.z7n(),(t=S.Drawing.segment.prototype.serialize.call(this)).callout=this.callout.serialize(),t},S.Drawing.trendline.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T,A;if((e=this.stx.panels[this.panelName])&&(S.Drawing.segment.prototype.render.call(this,t),this.callout||(this.callout=new S.Drawing.callout,i=S.Drawing.segment.prototype.serialize.call(this),this.callout.reconstruct(this.stx,i)),this.callout.p0=S.clone(this.p0),a=this.stx.pixelFromTick(this.p0[0],e.chart),r=this.stx.pixelFromTick(this.p1[0],e.chart),n=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),isFinite(n)&&isFinite(s))){C.A6D(25),o=C.k2F(a,2,r),C.x3Z(25),l=C.k2F(n,2,s),this.fontSize=S.stripPX(this.font&&this.font.size||13),C.A6D(1);var M=C.k2F(12,826);C.x3Z(77),C.k2F(881131,126900,17,7),C.A6D(78);var L=C.H11(10,1745,335,14,4348);C.A6D(1);var _=C.H11(550,600);c=1.2*this.callout.w+(this.callout.stemEntry[0]==(M<=L?"c":258.34)?0:_),h=Math.sqrt(Math.pow(r-a,2)+Math.pow(s-n,2)),C.A6D(79);var P=C.H11(11,279,17,6,9);C.x3Z(80);var F=C.k2F(15,2,7,5);C.x3Z(81);var E=C.k2F(16,18,10,2879);u=c/(h||c)*(this.p1[1]<this.p0[P]?F:E),C.A6D(82),d=C.k2F(o,u,s,l),C.x3Z(83),p=C.H11(l,o,u,r),this.callout.p0[0]=this.stx.tickFromPixel(d,e.chart),this.callout.p0[1]=this.stx.priceFromPixel(p,e),this.callout.v0=this.callout.p0[1],this.callout.p1=S.clone(this.p0),this.callout.stx=this.stx,this.callout.fillColor=this.fillColor||this.callout.fillColor,this.callout.borderColor=this.color,this.callout.font=this.font||this.callout.font,this.callout.noHandles=!0,C.x3Z(13);var I=C.H11(7,6,0);C.A6D(10);var N=C.k2F(18,19,0);g=this.p1[I]-this.p0[N],C.A6D(1);var q=C.k2F(10,12);C.x3Z(83);var O=C.H11(86,8,12,1);if(this.callout.text=Number(g).toFixed(q)+(0===this.p0[1]?"":" ("+Number(100*g/this.p0[1]).toFixed(O)+"%) ")+Math.abs(this.p1[0]-this.p0[0])+" Bars",f=Math.floor((this.p0[0]+this.p1[0])/2),Math.abs(this.p0[0]-this.p1[0])>1&&Math.abs(this.p0[0]-this.p1[0])<20)v=this.stx.pixelFromTick(f,e.chart),C.A6D(84),y=C.H11(s,a,n,n,r,a,v),m=this.stx.priceFromPixel(y,e)||l;else{b=1701087635,x=-869040628,k=2;for(var H=1;C.v3g(H.toString(),H.toString().length,32217)!==b;H++)m=this.stx.priceFromPixel(l,e),k+=2;C.v3g(k.toString(),k.toString().length,53945)!==x&&(m=this.stx.priceFromPixel(l,e)),m=this.stx.priceFromPixel(l,e)}this.callout.stem={t:f,v:m},this.callout.renderText(),this.callout.render(t),this.highlighted&&(w="p",w+="1",D="p",D+="0",T=this.highlighted==D,A=this.highlighted==w,this.littleCircle(t,a,n,T),this.littleCircle(t,r,s,A))}},S.Drawing.trendline.prototype.lineIntersection=function(t,e,i,a){var r;return r="s",r+="e",r+="g",r+="ment",S.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,t,e,i,r)},S.Drawing.trendline.prototype.intersected=function(t,e,i){var a,r;return this.p0&&this.p1?(a=this.callout.intersected(t,e,i),r=S.Drawing.segment.prototype.intersected.call(this,t,e,i),this.callout.highlighted=!(!a&&!r),r||(a?{action:"move",p0:S.clone(this.p0),p1:S.clone(this.p1),tick:t,value:e}:null)):null},S.Drawing.average=function(){this.name="average"},S.inheritsFrom(S.Drawing.average,S.Drawing.regression),S.extend(S.Drawing.average.prototype,{configs:S.Drawing.regression.prototype.configs.concat(n),measure:function(){var t,e,i,a,r,n,s,o,l;C.j_6(),this.p0&&this.p1&&(t=" &si",t+="gm",t+="a",t+=";",e="&en",e+="sp",e+=";",this.stx.setMeasure(0,!1,this.p0[0],this.p1[0],!0,this.name),i=[],a="",this.active1&&i.push("1"),this.active2&&i.push("2"),this.active3&&i.push("3"),i.length&&(a=e+i.join(", ")+t),r=(this.stx.drawingContainer||document).querySelector(".mMeasure"),s=(n=this.stx.controls.mSticky)&&n.querySelector(".mStickyInterior"),r&&(r.innerHTML+=a),s&&(o="<br",o+=">",(l=[]).push(S.capitalize(this.name)),l.push(this.field||this.stx.defaultPlotField||"Close"),l.push(s.innerHTML+a),s.innerHTML=l.join(o)))},render:function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,w,D,T;function A(t,i){return t=i&&i.priceFormatter?i.priceFormatter(n,e,t):n.formatYAxisPrice(t,e,null,i),C.j_6(),t}if((e=this.stx.panels[this.panelName])&&this.p1&&!(this.p0[0]<0||this.p1[0]<0||(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromTick(this.p1[0],e.chart),i<e.left&&a<e.left||i>e.right&&a>e.right))){r=this.stx.getYAxisByField(e,this.field),n=this.stx,s=Math.min(this.p1[0],this.p0[0]),C.x3Z(13);var M=C.H11(75,15,4);C.x3Z(4);var L=C.k2F(7,14,12,6);for(o=Math.max(this.p1["0">>M],this.p0[0])+L,C.A6D(1),C.k2F(s,o),l=0,c=[],h=s;h<o;h++)null!==(u=this.getYValue(h))&&(l+=u.transformed,c.push(u));if(d=c.length){if(C.A6D(24),p=C.k2F(d,l),g=n.pixelFromTransformedValue(p,e,r),f=this.getLineColor(),m={pattern:this.pattern,lineWidth:this.lineWidth},n.plotLine(i,a,g,g,f,"segment",t,e,m),C.x3Z(1),n.plotLine(i,i,C.H11(20,g),C.k2F(g,20,C.x3Z(8)),f,"segment",t,e,m),C.A6D(85),n.plotLine(a,a,C.k2F("20",g),C.k2F("20",16,g,C.A6D(86)),f,"segment",t,e,m),!this.axisLabel||this.highlighted||this.penDown||(i>=e.chart.left&&i<=e.chart.right||a>=e.chart.left&&a<=e.chart.right)&&(n.endClip(),n.createYAxisLabel(e,A(p,r),g,f,null,t,r),n.startClip(e.name)),this.active1||this.active2||this.active3){for(v=0,h=0;h<d;h++)u=c[h],v+=Math.pow(u.transformed-p,2);if(C.A6D(24),y=Math.sqrt(C.H11(d,v)),b={context:t,formatPrice:A,panel:e,points:{0:{x:i,v:p},1:{x:a,v:p}},stddev:y,yAxis:r},this.lines={},this.active1&&(this.renderStddev("1","p",b),this.renderStddev("1","n",b)),this.active2){x=-705244310,S=1422143781,k=2;for(var _=1;C.A9N(_.toString(),_.toString().length,56784)!==x;_++)this.renderStddev("2","p",b),this.renderStddev(!1,"2",b),k+=2;C.v3g(k.toString(),k.toString().length,27831)!==S&&(this.renderStddev("2","p",b),this.renderStddev("2","n",b))}this.active3&&(this.renderStddev("3","p",b),this.renderStddev("3","n",b))}this.highlighted?(w="p",w+="0",D=this.highlighted==w,T="p1"==this.highlighted,this.littleCircle(t,i,g,D),this.littleCircle(t,a,g,T)):(this.pixelX=[i,a],this.pixelY=[g,g])}}},reconstruct:function(t,e){this.axisLabel=e.al,C.j_6(),S.Drawing.regression.prototype.reconstruct.call(this,t,e)},serialize:function(){var t;return(t=S.Drawing.regression.prototype.serialize.call(this)).al=this.axisLabel,t}},!0),S.Drawing.quadrant=function(){C.z7n(),this.name="quadrant"},S.inheritsFrom(S.Drawing.quadrant,S.Drawing.regression),S.extend(S.Drawing.quadrant.prototype,{configs:[r,a,"lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor,this.fillColor=this.stx.currentVectorParameters.fillColor,this.lineWidth=this.stx.currentVectorParameters.lineWidth,C.z7n(),this.pattern=this.stx.currentVectorParameters.pattern},$controls:[],render:function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D;if((i=(e=this.stx).panels[this.panelName])&&this.p1&&(a=e.pixelFromTick(this.p0[0],i.chart),r=e.pixelFromTick(this.p1[0],i.chart),!(a<i.left&&r<i.left||a>i.right&&r>i.right))){n=this.stx.getYAxisByField(i,this.field),s=null,o=null;for(var T=Math.min(this.p1[0],this.p0[0]);T<=Math.max(this.p1[0],this.p0[0]);T++)null!==(l=this.getYValue(T))&&((null===s||l.transformed>s)&&(s=l.transformed),(null===o||l.transformed<o)&&(o=l.transformed));c=e.pixelFromTransformedValue(s,i,n),C.A6D(87),h=e.pixelFromTransformedValue(C.H11("4",s,0,3,o),i,n),C.A6D(88),u=e.pixelFromTransformedValue(C.k2F(s,o,"3",2),i,n),C.A6D(25),d=e.pixelFromTransformedValue(C.H11(s,2,o),i,n),C.A6D(89),p=e.pixelFromTransformedValue(C.H11(2,o,3,s),i,n),C.A6D(89),g=e.pixelFromTransformedValue(C.H11(3,o,4,s),i,n),f=e.pixelFromTransformedValue(o,i,n),this.p0[1]=0,this.p1[1]=!1,m=this.getLineColor(),("auto"==(v=this.fillColor)||S.isTransparent(v))&&(v=e.defaultColor),t.fillStyle=v,y={pattern:this.pattern,lineWidth:this.lineWidth},e.plotLine(a,r,c,c,m,"segment",t,i,y),e.plotLine(a,r,f,f,m,"segment",t,i,y),"quadrant"==this.name?(b="s",b+="egm",b+="ent",x="s",x+="egm",x+="en",x+="t",e.plotLine(a,r,h,h,m,x,t,i,y),e.plotLine(a,r,g,g,m,b,t,i,y)):"tirone"==this.name&&(e.plotLine(a,r,u,u,m,"segment",t,i,y),e.plotLine(a,r,p,p,m,"segment",t,i,y)),e.plotLine(a,a,c,f,m,"segment",t,i,y),e.plotLine(r,r,c,f,m,"segment",t,i,y),e.plotLine(a,r,d,d,m,"segment",t,i,S.extend(y,{opacity:"tirone"==this.name?.2:1})),t.globalAlpha=.1,t.beginPath(),C.A6D(1),t.fillRect(a,c,C.H11(a,r),C.H11(c,f)),"quadrant"==this.name?(C.A6D(1),t.fillRect(a,h,C.H11(a,r),C.k2F(h,g))):"tirone"==this.name&&(C.A6D(1),t.fillRect(a,u,C.H11(a,r),C.k2F(u,p))),C.A6D(1),t.globalAlpha=C.k2F(0,"1"),this.highlighted?(k="p",k+="0",w=this.highlighted==k,D="p1"==this.highlighted,this.littleCircle(t,a,d,w),this.littleCircle(t,r,d,D)):(this.pixelX=[a,r],this.pixelY=[c,f],i.yAxis.flipped&&this.pixelY.reverse(),this.pixelY.push(d))}},intersected:function(t,e,i){var a,r;if(!this.pixelX||!this.pixelY)return null;if(a=this.repositionIntersection(t,e))return a;C.z7n();for(var n=0;n<2;n++)if(this.pointIntersection(this.pixelX[n],this.pixelY[2],i,!0))return r="dr",r+="ag",C.A6D(8),this.highlighted=C.H11("p",n),{action:r,point:"p"+n};return this.boxIntersection(null,null,i)?(this.highlighted=!0,{action:"move",p0:S.clone(this.p0),p1:S.clone(this.p1),tick:t,value:e}):null},reconstruct:function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.field=e.fld,this.adjust()},serialize:function(){return C.z7n(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field}}},!0),S.Drawing.tirone=function(){var t;t="t",t+="i",C.z7n(),t+="r",t+="one",this.name=t},S.inheritsFrom(S.Drawing.tirone,S.Drawing.quadrant),S.Drawing.elliottwave=function(){var t;t="ell",t+="io",t+="ttwave",this.name=t,this.lastPoint=0,this.points=[],this.pts=[],this.dx=0,this.dy=-20,this.dragToDraw=!1,this.annotationPoints=[],this.edit=null},S.inheritsFrom(S.Drawing.elliottwave,S.Drawing.annotation),S.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor",i,e,"waveParameters"],S.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"],S.Drawing.elliottwave.prototype.construct=function(t,e){var i;this.stx=t,this.panelName=e.name,i=t.currentVectorParameters,Object.assign(this,i.waveParameters)},S.Drawing.elliottwave.prototype.serialize=function(){var t,e;t="s",C.z7n(),t+="t",e={};for(var i=0;i<this.points.length;i++)C.A6D(8),e[C.H11("d",i)]=this[C.H11("d",i)],C.x3Z(8),e[C.k2F("tzo",i)]=this[C.H11("tzo",i)],C.A6D(8),e[C.H11("v",i)]=this[C.H11("v",i)];return e.annotations=this.annotationPoints.join(","),Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:S.removeNullValues(S.replaceFields(this.font,{style:t,size:"sz",weight:"wt",family:"fl"}))},e)},S.Drawing.elliottwave.prototype.reconstruct=function(t,e){var i;i="enclo",i+="se",i+="d",this.stx=t,this.color=e.col,C.z7n(),this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.font=S.replaceFields(e.fnt,{st:"style",sz:"size",wt:"weight",fl:"family"}),this.decoration=e.decor,this.showLines=e.show,this.dx=e.dx,this.dy=e.dy,this.trend=e.trend,this.annotationPoints=e.annotations.split(","),e.decor===i&&this.calculateRadius(t.chart.tempCanvas.context),this.maxSegments=e.mxSeg,this.reconstructPoints(e),this.adjust()},S.Drawing.elliottwave.prototype.reconstructPoints=function(t){var e,i,a;if(e=this.stx.panels[this.panelName])for(var r=0;r<this.annotationPoints.length;r++)C.x3Z(8),this[C.H11("d",r)]=t[C.H11("d",r)],C.A6D(8),this[C.H11("v",r)]=t[C.k2F("v",r)],C.x3Z(8),this[C.k2F("tzo",r)]=t[C.k2F("tzo",r)],i=S.strToDateTime(t["d"+r]),a=this.stx.tickFromDate(i,e.chart),this.points.push([a,t["v"+r]])},S.Drawing.elliottwave.prototype.calculateRadius=function(t){var e,i;this.getFontString(),t.font=this.fontString,e=0;for(var a=0;a<this.annotationPoints.length;a++)e<(i=t.measureText(this.annotationPoints[a]).width)&&(e=i);this.enclosedRadius=e},S.Drawing.elliottwave.prototype.check=function(t,e,i){var a,r;if(1===i&&2===this.points.length)return!0;function n(t){for(var e=2;e<t.length;e++)if(Math.sign(t[e][1]-t[e-1][1])==Math.sign(t[e-1][1]-t[e-2][1]))return!1;return!0}return C.A6D(1),C.j_6(),!((a=this.points[C.H11(1,i)])&&t<=a[0]||(C.A6D(8),(r=this.points[C.H11(i,1)])&&t>=r[0]||!n(this.points)))},S.Drawing.elliottwave.prototype.move=function(t,e,i){this.copyConfig(),this.points[this.lastPoint+1]=[e,i],C.j_6(),this.render(t)},S.Drawing.elliottwave.prototype.adjust=function(){var t,e;if(t=this.stx.panels[this.panelName],C.z7n(),t)for(var i=0;this.maxSegments+1>i;i++)C.A6D(8),e=this[C.k2F("d",i)],this.setPoint(i,e,this["v"+i],t.chart),this.points[i][0]=this.stx.tickFromDate(S.strToDateTime(e),t.chart),C.A6D(8),this.points[i][1]=this[C.H11("v",i)]},S.Drawing.elliottwave.prototype.click=function(t,e,i){var a;if(C.j_6(),a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown){this.setPoint(0,e,i,a.chart),this.points.push(this.p0),this.penDown=!0,this.segment=0,this.lastPoint=0,this.impulse&&(this.annotationPoints=this.annotationPoints.concat(this.impulse)),this.corrective&&(this.annotationPoints=this.annotationPoints.concat(this.corrective)),this.annotationPoints.unshift("0"),"enclosed"===this.decoration&&this.calculateRadius(t),C.A6D(1);var r=C.H11(7,8);return this.maxSegments=this.annotationPoints.length-r,this.trend=1,!1}return this.accidentalClick(e,i)?(this.penDown=!0,!1):!!(this.check(e,i,this.lastPoint+1)&&(this.lastPoint++,this.setPoint(this.lastPoint,e,i,a.chart),1===this.lastPoint&&(this.trend=Math.sign(this.v1-this.v0)),this.segment++,this.segment>=this.maxSegments))&&(this.penDown=!1,!0)}},S.Drawing.elliottwave.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,k,w,D,T,A,M,L,_,P,F;if(e="s",e+="t",e+="ring",i=this.stx.panels[this.panelName]){if(a=this.stx,r=this.annotationPoints,n=this.pattern?S.borderPatternToArray(this.lineWidth,this.pattern):[],this.getFontString(),t.font=this.fontString,t.textAlign="center",t.textBaseline="middle",t.lineWidth=this.lineWidth,this.fontString!==this.lastFontString&&this.calculateRadius(t),this.lastFontString=this.fontString,s=this.getLineColor(),t.fillStyle=t.strokeStyle=s,t.save(),t.setLineDash(n),o=this.dx,l=this.dy,c=this.points,h=this.pts,u=!this.showLines&&this.highlighted,d=c.length,this.penDown&&this.segment){C.x3Z(90);var E=C.k2F(32,11,8,4438,17);C.A6D(91);var I=C.H11(0,3,1,3,6);p=this.trend*(d%E-"0.5"*I)<0,i.yAxis.flipped&&(p=!p),this.drawDropZone(t,c[d-2][1],this.stx.priceFromPixel(i.yAxis[p?"top":"bottom"]),c[d-2][0])}else if(typeof this.highlighted===e&&this.stx.repositioningDrawing){g="bott",g+="om",f="t",f+="o",f+="p",m="m",m+="a",m+="x",v=parseInt(this.highlighted.substring(1,this.highlighted.length),10),C.x3Z(83);var N=C.k2F(65,9,7,0);p=this.trend*(v%N-.5)>0,C.x3Z(1),y=c[C.k2F(1,v)],C.x3Z(8),b=c[C.H11(v,1)],x=v>0?y[1]:b[1],b&&(x=Math[p?m:"min"](x,b[1])),i.yAxis.flipped&&(p=!p),this.drawDropZone(t,x,this.stx.priceFromPixel(i.yAxis[p?f:g]),y?y[0]:null,b?b[0]:null)}for(var q=0;q<d;q++)k=c[q],w=a.pixelFromTick(k[0],i.chart),D=a.pixelFromValueAdjusted(i,k[0],k[1]),h[q]=[w,D];if(q=0,this.showLines||u){for(t.beginPath(),u&&(t.globalAlpha=.3);q<h.length;q++)t.lineTo(h[q][0],h[q][1]);t.stroke(),q=0}for(t.restore();q<d;q++){T=q%2?o:-o,A=q%2?l:-l,T*=this.trend,A*=this.trend,i.yAxis.flipped&&(T*=-1,A*=-1),L=(M=h[q])[2]=M[0]+T,C.A6D(92);var O=C.H11(1,21,3,6);_=M[3]=M[O]+A,P=this.enclosedRadius||8,F=r[q],"parentheses"===this.decoration&&(C.x3Z(48),F=C.k2F("(",F,")")),t.fillText(F,L,_),"enclosed"===this.decoration&&(t.beginPath(),t.arc(L,_,P,0,2*Math.PI,!1),t.stroke()),this.highlighted&&(t.save(),this.littleCircle(t,this.pts[q][0],this.pts[q][1],this.highlighted==="p"+q),t.restore())}}},S.Drawing.elliottwave.prototype.reposition=function(t,e,i,a){var r,n,s,o,l;if(e){if(r=this.stx.panels[this.panelName],n=e.tick-i,s=e.value-a,"move"===e.action)for(var c=0;e.points.length>c;c++)o=e.points[c],this.setPoint(c,o[0]-n,o[1]-s,r.chart),this.points[c]=[o[0]-n,o[1]-s];"drag"===e.action&&(l=e.point,this.points[l]=[i,a],this.check(i,a,l)&&this.setPoint(l,i,a,r.chart)),this.render(t)}},S.Drawing.elliottwave.prototype.intersected=function(t,e,i){var a,r,n,s,o;if(C.z7n(),!this.p0||!this.p1)return null;for(var l=0;this.points.length>l;l++){if(r="se",r+="gment",n=this.points[l],this.pointIntersection(n[0],n[1],i))return s="dr",s+="ag",C.A6D(8),this.highlighted=C.k2F("p",l),{action:s,point:l,tick:t,value:e};this.points[l+1]&&this.lineIntersection(t,e,i,r,n,this.points[l+1])&&(o="mo",o+="ve",this.highlighted=!0,a={action:o,points:S.clone(this.points),tick:t,value:e})}return a},S.Drawing.elliottwave.prototype.measure=function(){var t,e,i,a;C.j_6(),this.points.length>=2&&(t=this.points,this.stx.setMeasure(t[0][1],t[t.length-1][1],t[0][0],t[t.length-1][0],!0),(i=(e=this.stx.controls.mSticky)&&e.querySelector(".mStickyInterior"))&&((a=[]).push(S.capitalize("Elliott Wave")),this.getYValue&&a.push(this.field||this.stx.defaultPlotField||"Close"),a.push(i.innerHTML),i.innerHTML=a.join("<br>")))},t},kt.q2=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.VUMoZ=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"gxiC$",{get:function(){return this},configurable:!0}),e=gxiC$,i=5;break;case 4:i="undefined"==typeof VUMoZ?3:9;break;case 9:delete e.VUMoZ,delete Object.prototype.gxiC$,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),St(kt.q2),kt.f6={p4oUdFl:function(){var t,e=arguments;switch(gt){case 4:t=e[1]<<e[0];break;case 5:t=e[0]>>e[1];break;case 2:t=e[2]%e[0]%e[1];break;case 3:t=e[0]-e[1];break;case 6:t=e[1]^e[0];break;case 0:t=e[1]+e[0]+e[2];break;case 1:t=e[1]*e[0]}return t},R9DODrP:function(t){gt=t}},kt.B0=function(){return"function"==typeof kt.f6.p4oUdFl?kt.f6.p4oUdFl.apply(kt.f6,arguments):kt.f6.p4oUdFl},kt.J2=function(){return"function"==typeof kt.w.L3LLwSS?kt.w.L3LLwSS.apply(kt.w,arguments):kt.w.L3LLwSS},kt.w=(pt=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.u4D9Q(o)|(255&t.u4D9Q(o+1))<<8|(255&t.u4D9Q(o+2))<<16|(255&t.u4D9Q(o+3))<<24;l=pt(l,a),n=5*(n=(524287&(n^=l=pt(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.u4D9Q(s+2))<<16;case 2:l|=(255&t.u4D9Q(s+1))<<8;case 1:l|=255&t.u4D9Q(s),l=pt(l,a),n^=l=pt(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=pt(n^=n>>>16,2246822507),n=pt(n^=n>>>13,3266489909),n^=n>>>16}}),kt.O=function(){return"function"==typeof kt.w.L3LLwSS?kt.w.L3LLwSS.apply(kt.w,arguments):kt.w.L3LLwSS},kt.g2=function(){return"function"==typeof kt.f6.R9DODrP?kt.f6.R9DODrP.apply(kt.f6,arguments):kt.f6.R9DODrP},kt.h6=function(){return"function"==typeof kt.f6.R9DODrP?kt.f6.R9DODrP.apply(kt.f6,arguments):kt.f6.R9DODrP},kt.n_=function(){return"function"==typeof kt.f6.p4oUdFl?kt.f6.p4oUdFl.apply(kt.f6,arguments):kt.f6.p4oUdFl},s=function(t){var e,i,a,r=kt;(e=t.CIQ).formatEquation=function(t){var e,i,a,n,s,o,l,c,h,u,d,p,g,f;e="",i=[],a="",n=!1;for(var m=1;m<t.length;m++)"["!=(s=t[m].toUpperCase())||n?"]"==s&&n?(n=!1,""!==a&&(i.push(a),r.g2(0),e+=r.n_(a,"[","]")),a=""):n?a+=s:"+"==s||"-"==s||"*"==s||"/"==s||":"==s||"%"==s||"("==s||")"==s?(""!==a&&isNaN(a)?(i.push(a),r.h6(0),e+=r.n_(a,"[","]")):e+=a,":"==s&&(s="/"),e+=s,a=""):" "!=s&&(a+=s):n=!0;if(""!==a&&isNaN(a)){o=-1724214950,r.g2(1),l=-r.B0(1,"1650729201"),c=2;for(var v=1;r.O(v.toString(),v.toString().length,60006)!==o;v++)i.push(a),r.g2(2),e%=r.n_(a,"H",8970689),c+=2;r.J2(c.toString(),c.toString().length,84545)!==l&&(i.push(a),r.g2(0),e+=r.B0(a,"[","]"))}else{h=-1793247506,u=357886008,d=2;for(var y=1;r.J2(y.toString(),y.toString().length,62919)!==h;y++)e%=a,d+=2;r.O(d.toString(),d.toString().length,6028)!==u&&(e%=a),e+=a}p=508906563,g=-1311291836,r.g2(3),f=r.n_("2",0);for(var b=1;r.J2(b.toString(),b.toString().length,93376)!==p;b++)return{equation:e,symbols:i};if(r.O(f.toString(),f.toString().length,7532)!==g)return{equation:e,symbols:i}},e.fetchEquationChart=function(t,i){var a,n,s,o,l,c,h,u;a=e.formatEquation(t.symbol),n=802344843,s=56255201,o=2;for(var d=1;r.J2(d.toString(),d.toString().length,60872)!==n;d++)l=a.symbols,c=[],h=t.stx,r.h6(4),o+=r.B0(64,"2");r.J2(o.toString(),o.toString().length,87691)!==s&&(l=a.symbols,c=[],h=t.stx),t.stx=null;for(var p=0;p<l.length;p++)(u=e.shallowClone(t)).stx=h,u.symbol=l[p],u.symbolObject={symbol:l[p]},c.push(u);t.stx=h,h.quoteDriver.multiFetch(c,(function(n){var s,o,l,h,u,d,p,g;s={},o=-2108634790,l=1309089880,r.h6(5),h=r.n_("2",64);for(var f=1;r.J2(f.toString(),f.toString().length,60023)!==o;f++)t.loadMoreReplace=!1,u={charge:2},r.g2(1),h+=r.n_(1,"2");r.J2(h.toString(),h.toString().length,84429)!==l&&(t.loadMoreReplace=!0,u={charge:0});for(var m=0;m<n.length;m++){if((d=n[m]).dataCallback.error)return void i({error:d.dataCallback.error});s[d.params.symbol]=d.dataCallback.quotes,t.loadMoreReplace=t.loadMoreReplace&&d.params.loadMoreReplace,t.moreToLoad=t.moreToLoad||d.dataCallback.moreAvailable,(p=d.dataCallback.attribution)&&(p.charge&&(u.charge+=p.charge),u.source=p.source,void 0===u.exchange?u.exchange=p.exchange:u.exchange!=p.exchange&&(u.exchange=""))}if(c.length||!t.loadMore&&!t.update)try{g=e.computeEquationChart(a.equation,s),i({quotes:g,moreAvailable:t.moreToLoad,attribution:u})}catch(t){var v,y,b,x,S;v={error:"Invalid equation: "+a.equation},y=-669273681,b=438707868,x=2;for(var k=1;r.J2(k.toString(),k.toString().length,22385)!==y;k++)(t.name||""!==t.name)&&(v.suppressAlert=!1),i(v),x+=2;r.J2(x.toString(),x.toString().length,6713)!==b&&(S="N",S+="o",S+="Exception",t.name&&t.name==S&&(v.suppressAlert=!0),i(v))}}))},r.h6(6),i=r.n_(0,"423720955"),a=2;for(var n=1;r.J2(n.toString(),n.toString().length,34318)!==i;n++)return t;return r.J2(a.toString(),a.toString().length,31842),t},wt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.NYSJ0=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"CCBQU",{get:function(){return this},configurable:!0}),e=CCBQU,i=5;break;case 4:i="undefined"==typeof NYSJ0?3:9;break;case 9:delete e.NYSJ0,delete Object.prototype.CCBQU,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Ct(wt[513895]),wt.h_=function(){return"function"==typeof wt[299637].p4oUdFl?wt[299637].p4oUdFl.apply(wt[299637],arguments):wt[299637].p4oUdFl},wt[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[3]=void 0,e[1]={},e[1].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 68:t=68;break;case 77:i[16]=0,t=76;break;case 75:i[10]={},i[10][i[73]]=i[70][i[66]][i[16]],i[10][i[50]]=i[92],t=72;break;case 2:var i=[arguments];t=1;break;case 40:i[20]=i[58],i[88]={},i[88].A5=["u1"],i[88].p0=function(){return/\164\162\x75\u0065/.a1evk(function(){return"aa".endsWith("a")}+[])},i[13]=i[88],i[5].k6Jj9(i[69]),t=53;break;case 53:i[5].k6Jj9(i[83]),i[5].k6Jj9(i[7]),i[5].k6Jj9(i[13]),i[5].k6Jj9(i[20]),t=49;break;case 64:i[45]="E8",i[34]="B2",i[66]="A5",i[50]="i2",i[97]="p0",t=59;break;case 31:i[38]=i[74],i[96]={},i[96].A5=["u1"],i[96].p0=function(){return/\061\x39\062/.a1evk(function(){!function(t){for(var e=0;e<20;e++)e}()}+[])},t=44;break;case 44:i[83]=i[96],i[58]={},i[58].A5=["l4"],i[58].p0=function(){return"function"==typeof F6QR_},t=40;break;case 26:i[15].A5=["u1"],i[15].p0=function(){return/\x39\x37/.a1evk(function(){return"a".codePointAt(0)}+[])},i[69]=i[15],i[98]={},t=22;break;case 57:t=i[11]<i[5].length?56:69;break;case 76:t=i[16]<i[70][i[66]].length?75:70;break;case 67:return e[3]=69,83;case 58:i[11]=0,t=57;break;case 56:i[70]=i[5][i[11]];try{i[92]=i[70][i[97]]()?i[45]:i[34]}catch(t){i[92]=i[34]}t=77;break;case 1:t=e[3]?5:4;break;case 14:i[8].A5=["u1"],i[8].p0=function(){return!/\u0028\x5b/.a1evk(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},t=12;break;case 27:i[15]={},t=26;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 20:a[8][a[6][i[73]]].h+=!0,e=19;break;case 15:a[3]=a[4][a[5]],a[7]=a[8][a[3]].h/a[8][a[3]].t,e=26;break;case 1:e=0===a[0][0].length?5:4;break;case 13:a[8][a[6][i[73]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];t=1;break;case 1:return e[8]={},e[8].h=0,e[8].t=0,e[8]}}.m9Pfyd(this,arguments),e=12;break;case 6:a[6]=a[0][0][a[5]],e=14;break;case 4:a[8]={},e=3;break;case 10:e=a[6][i[50]]===i[45]?20:19;break;case 8:a[5]=0,e=7;break;case 17:a[5]=0,e=16;break;case 19:a[5]++,e=7;break;case 18:a[9]=!1,e=17;break;case 25:a[9]=!0,e=24;break;case 16:e=a[5]<a[4].length?15:23;break;case 7:e=a[5]<a[0][0].length?6:18;break;case 2:var a=[arguments];e=1;break;case 26:e=a[7]>=.5?25:24;break;case 3:a[4]=[],e=9;break;case 24:a[5]++,e=16;break;case 12:a[4].k6Jj9(a[6][i[73]]),e=11;break;case 9:a[5]=0,e=8;break;case 23:return a[9];case 14:e=void 0===a[8][a[6][i[73]]]?13:11;break;case 11:a[8][a[6][i[73]]].t+=!0,e=10;break;case 5:return}}(i[72])?68:67;break;case 4:i[5]=[],i[1]={},t=9;break;case 70:i[11]++,t=57;break;case 12:i[4]=i[8],i[6]={},i[6].A5=["l4"],i[6].p0=function(){return"function"==typeof b$npbf},i[9]=i[6],i[3]={},i[3].A5=["u1"],t=16;break;case 16:i[3].p0=function(){return!/\u007c/.a1evk(function(){return"a|a".split("|")}+[])},i[2]=i[3],t=27;break;case 72:i[72].k6Jj9(i[10]),t=71;break;case 71:i[16]++,t=76;break;case 49:i[5].k6Jj9(i[9]),i[5].k6Jj9(i[2]),i[5].k6Jj9(i[17]),i[5].k6Jj9(i[38]),i[5].k6Jj9(i[4]),i[72]=[],t=64;break;case 33:i[74].A5=["u1"],i[74].p0=function(){return/\u0078\x78/.a1evk(function(){return"x".repeat(2)}+[])},t=31;break;case 22:i[98].A5=["l4"],i[98].p0=function(){var t=!1,e=[];try{for(var i in console)e.k6Jj9(i);t=0===e.length}catch(t){}return t},i[17]=i[98],i[74]={},t=33;break;case 5:return 11;case 59:i[73]="A6",t=58;break;case 9:i[1].A5=["l4"],i[1].p0=function(){return"function"==typeof y6hWec},i[7]=i[1],i[8]={},t=14}},t=3;break;case 3:return e[1]}}(),wt.Q_=function(){return"function"==typeof wt[299637].R9DODrP?wt[299637].R9DODrP.apply(wt[299637],arguments):wt[299637].R9DODrP},wt[616183]=wt[513895],wt[321268]=(dt=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.x8xg3(o)|(255&t.x8xg3(o+1))<<8|(255&t.x8xg3(o+2))<<16|(255&t.x8xg3(o+3))<<24;l=dt(l,a),n=5*(n=(524287&(n^=l=dt(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.x8xg3(s+2))<<16;case 2:l|=(255&t.x8xg3(s+1))<<8;case 1:l|=255&t.x8xg3(s),l=dt(l,a),n^=l=dt(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=dt(n^=n>>>16,2246822507),n=dt(n^=n>>>13,3266489909),n^=n>>>16}}),wt[513895].B7oo=wt,wt.m3=function(){return"function"==typeof wt[299637].R9DODrP?wt[299637].R9DODrP.apply(wt[299637],arguments):wt[299637].R9DODrP},wt[92321]=108,wt.a8=function(){return"function"==typeof wt[299637].p4oUdFl?wt[299637].p4oUdFl.apply(wt[299637],arguments):wt[299637].p4oUdFl},wt.r1=function(){return"function"==typeof wt[321268].L3LLwSS?wt[321268].L3LLwSS.apply(wt[321268],arguments):wt[321268].L3LLwSS},wt.D2=function(){return"function"==typeof wt[254206].s7rL$NJ?wt[254206].s7rL$NJ.apply(wt[254206],arguments):wt[254206].s7rL$NJ},wt[299637]={p4oUdFl:function(){var t,e=arguments;switch(ut){case 9:t=e[2]-e[0]-+e[1];break;case 0:t=e[0]*e[1];break;case 10:t=e[2]-e[1]-e[0];break;case 17:t=-e[1]+e[0];break;case 5:t=e[0]+e[2]+e[1];break;case 15:t=e[0]/e[1]-e[2];break;case 1:t=e[1]^e[0];break;case 18:t=e[3]*e[2]/e[1]+e[0];break;case 7:t=e[0]+e[1];break;case 19:t=e[1]>>e[0];break;case 4:t=e[0]-e[1];break;case 12:t=e[1]+e[0]+e[3]+e[2];break;case 3:t=e[0]<<e[1];break;case 16:t=(-e[2]-e[1])/e[4]/e[0]+e[3];break;case 14:t=e[0]-e[2]+e[1];break;case 11:t=(e[0]-(e[1]+e[3]))/e[2];break;case 6:t=e[0]|e[1];break;case 13:t=e[1]+e[0]-e[2];break;case 8:t=e[0]/e[1];break;case 2:t=e[3]+e[4]+e[6]+e[1]+e[7]+e[0]+e[5]+e[2]}return t},R9DODrP:function(t){ut=t}},wt.G1=function(){return"function"==typeof wt[321268].L3LLwSS?wt[321268].L3LLwSS.apply(wt[321268],arguments):wt[321268].L3LLwSS},wt[302900]=!1,wt[245362]=172,wt.i4=function(){return"function"==typeof wt[254206].s7rL$NJ?wt[254206].s7rL$NJ.apply(wt[254206],arguments):wt[254206].s7rL$NJ},wt[574954]=641,wt.D2(),o=function(t){var e,i=wt;return(e=t.CIQ).ChartEngine.prototype.removeDOMMarker=function(t){i.i4(),console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead."),e.Marker.Performance.prototype.removeDOMMarker.call(t.params.node,t)},e.ChartEngine.prototype.drawMarkers=function(){var t;i.D2(),t="CIQ.ChartEngine#drawMar",t+="kers is scheduled for deprecati",t+="on in a future release\n Please use CIQ.Marker.Performance.drawMarkers inst",t+="ead.",console.warn(t),e.Marker.Performance.drawMarkers(this)},e.ChartEngine.prototype.calculateMarkerStyles=function(t,a){var r,n,s,o;r=-1873458939,i.i4(),n=-1197136940,s=2;for(var l=1;i.r1(l.toString(),l.toString().length,85650)!==r;l++)o="CIQ.ChartEngine#calc",o+="ulateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.",console.warn(o),e.Marker.Performance.calculateMarkerStyles(this,t,a),s+=2;i.r1(s.toString(),s.toString().length,15364)!==n&&(console.warn(""),e.Marker.Performance.calculateMarkerStyles(this,t,a))},e.ChartEngine.prototype.drawCircleMarker=function(t,a,r){i.i4(),console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead."),e.Marker.Performance.drawCircleMarker(t,a,r)},e.ChartEngine.prototype.drawSquareMarker=function(t,a,r){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead."),i.i4(),e.Marker.Performance.drawSquareMarker(t,a,r)},e.ChartEngine.prototype.drawCalloutMarker=function(t,a,r){var n,s,o;i.D2(),console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead."),n=-807079085,i.m3(0),s=i.h_("39558826",1),o=2;for(var l=1;i.r1(l.toString(),l.toString().length,44934)!==n;l++)e.Marker.Performance.drawCalloutMarker(t,a,r),o+=2;i.G1(o.toString(),o.toString().length,82575)!==s&&e.Marker.Performance.drawCalloutMarker(t,a,r)},e.ChartEngine.prototype.drawMarkerStem=function(t,a,r){var n,s,o,l;n=971808211,s=1404552722,i.m3(1),o=i.h_(0,"2"),i.i4();for(var c=1;i.G1(c.toString(),c.toString().length,4420)!==n;c++)l="CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use C",l+="IQ.",l+="Marker.Performance.drawMarkerStem instead.",console.warn(l),o+=2;i.r1(o.toString(),o.toString().length,3261)!==s&&console.warn(""),e.Marker.Performance.drawMarkerStem(t,a,r)},e.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead."),i.i4(),e.Marker.Performance.drawMarkers(this)},e.Marker.Performance=function(t){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x;if(a="ca",a+="l",a+="lou",a+="t",r=".stx-mar",r+="ker",n="<",n+="div cla",n+='ss="stx-stem',n+='"></div>',s="</",s+="d",s+="iv>",o="<",o+='div class="stx-mark',o+="e",o+='r-content">',l="<div",l+=" clas",l+='s="stx-marker high',l+='light">',c="TE",c+="MPL",c+="A",c+="TE",this.params={displayCategory:!0,displayStem:!0,story:"",headline:""},e.extend(this.params,t),h=this.template=document.createElement(c),i.Q_(2),h.innerHTML=i.h_(s,'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',"</div>",l,'<div class="stx-visual">',n,o,"</div>"),(d=(u=this.template.content.cloneNode(!0)).querySelector(r,h)).classList.add(t.type),d.classList.add(t.category),p=u.querySelector(".stx-visual",h),g=u.querySelector(".stx-marker-expand"),f=u.querySelector("h4",h),m=u.querySelector("p",h),f.innerText=this.params.headline,m.innerText=this.params.story,this.hasText=!!t.headline||!!t.story,this.deferAttach=!0,this.node=u.firstChild,this.node.params=this.params,this.visual=p,this.expand=g,t.type===a){v=g.removeChild(f),y=-1594142278,b=-75942300,i.m3(3),x=i.h_("2",32);for(var S=1;i.G1(S.toString(),S.toString().length,2706)!==y;S++)u.querySelector("",h).insertBefore(v,g),x+=2;i.G1(x.toString(),x.toString().length,96670)!==b&&u.querySelector("",h).insertBefore(v,g),u.querySelector(".stx-marker-content",h).insertBefore(v,g)}},i.i4(),e.inheritsFrom(e.Marker.Performance,e.Marker.NodeCreator,!1),e.Marker.Performance.consolidateExpanded=function(t){var e,a,r,n,s;if((e=t.markerHelper.highlighted).length){i.Q_(4),i.D2();var o=i.a8(18,17);r=(a=e[e.length-o]).params.node,a.consolidated||(a.consolidated=[]);for(var l=e.length-2;l>=0;l--)n=c(e[l]),i.m3(5),s=i.a8("<consolidated>","</consolidated>",n),n.length&&(r.expand.innerHTML+=s);a.stxNodeCreator.quickCache(a)}function c(t){var e,a,r,n,s;e=-714627448,a=1700437158,r=2;for(var o=1;i.r1(o.toString(),o.toString().length,36256)!==e;o++)return n="n",n+="one",(s=t.params.node.expand).style.display===n?s.innerHTML:"";if(i.D2(),i.G1(r.toString(),r.toString().length,45798)!==a)return"none"!==(s=t.params.node.expand).style.display?s.innerHTML:""}},e.Marker.Performance.reconstituteExpanded=function(t){var e,i,a;if((e=t.markerHelper.highlighted).length&&t.activeMarker)for(var r=(e=[t.activeMarker]).length-1;r>=0;r--)for(i="CONSOL",i+="I",i+="DATED",a=e[r].params.node.expand;a.lastElementChild.nodeName===i;)a.removeChild(a.lastElementChild)},e.Marker.Performance.drawMarkers=function(t){var e,a,r,n,s,o,l;e="a",e+="l",e+="l",i.D2(),a=t.getMarkerArray(e),r=t.chart;for(var c=0;c<a.length;c++)s=(n=a[c]).stxNodeCreator,o=r.dataSegment[0].tick,l=r.dataSegment[r.dataSegment.length-1].tick,o<=n.tick<=l&&s&&s.drawMarker&&s.drawMarker(n)},e.Marker.Performance.calculateMarkerStyles=function(t,e,a){var r,n,s,o,l,c,h,u,d,p;if(!(r=document.querySelector(".stx-marker-templates"))){n=795063105,s=1959616934,o=2;for(var g=1;i.G1(g.toString(),g.toString().length,22602)!==n;g++)r=document.createElement(""),i.m3(6),o+=i.a8("2",2);i.r1(o.toString(),o.toString().length,63135)!==s&&(r=document.createElement("DIV")),r.style.visibility="hidden",r.style.left="-1000px",document.body.append(r)}l=1132620355,c=1249531651,h=2;for(var f=1;i.G1(f.toString(),f.toString().length,90280)!==l;f++)r.appendChild(e.node),u=getComputedStyle(e.stxNodeCreator.visual),h+=2;i.G1(h.toString(),h.toString().length,58118)!==c&&(r.appendChild(e.node),u=getComputedStyle(e.stxNodeCreator.visual)),i.i4(),t.styles.stx_marker_stem||(d=".st",d+="x",d+="-st",d+="em",p=getComputedStyle(document.querySelector(d,e.node)),t.styles.stx_marker_stem=t.cloneStyle(p)),t.styles[a]=t.cloneStyle(u),r.removeChild(e.node)},e.Marker.Performance.drawCircleMarker=function(t,a,r){var n,s,o,l,c,h,u;n=t.params.stx.chart.context,s=r.x,o=r.y,l=r.radius,c=r.label,h=r.color?r.color:a.backgroundColor,n.beginPath(),n.setLineDash([]),n.lineWidth=1,n.fillStyle=h,n.strokeStyle=h,n.font="normal bold 12px Roboto, Helvetica, sans-serif",n.arc(s,o,l,0,2*Math.PI,!1),n.fill(),n.stroke(),n.closePath(),c&&(u="wh",u+="it",u+="e",n.fillStyle=e.colorsEqual(u,n.fillStyle)?"black":"white",n.fillText(c.charAt(0).toUpperCase(),s-4,o+1)),(t.highlight||t.active)&&(n.beginPath(),i.Q_(7),n.arc(s,o,i.h_(l,4),0,2*Math.PI,!1),n.stroke(),n.closePath())},e.Marker.Performance.drawSquareMarker=function(t,a,r){var n,s,o,l,c,h,u,d,p,g,f,m,v,y,b;n="normal ",n+="bold 12px Roboto, Helvetica, sans-serif",s=t.params.stx.chart.context,o=r.x,l=r.y,c=r.half,h=r.label,u=r.color?r.color:a.backgroundColor,i.m3(6),d=-i.h_("2132369823",31),i.D2(),p=1315041596,g=2;for(var x=1;i.r1(x.toString(),x.toString().length,84400)!==d;x++)i.m3(8),f=i.h_(c,5),s.beginPath(),s.setLineDash([]),g+=2;if(i.G1(g.toString(),g.toString().length,32840)!==p&&(i.Q_(0),f=i.h_(c,2),s.beginPath(),s.setLineDash([])),s.lineWidth=1,s.fillStyle=u,s.strokeStyle=u,s.font=n,i.Q_(4),s.rect(i.h_(o,c),i.a8(l,c),f,f),s.fill(),(t.highlight||t.active)&&(i.Q_(9),s.rect(i.a8(c,"4",o),i.h_(4,c,l,i.Q_(10)),i.a8(f,8,i.m3(7)),i.a8(f,8,i.Q_(7)))),s.stroke(),s.closePath(),h){m="w",m+="hi",m+="t",m+="e",v=80878731,y=-1586846225,b=2;for(var S=1;i.r1(S.toString(),S.toString().length,38419)!==v;S++)s.fillStyle=(e.colorsEqual("white",s.fillStyle),"white"),s.fillText(h.charAt(2).toUpperCase(),o%1,l/2),b+=2;i.G1(b.toString(),b.toString().length,78109)!==y&&(s.fillStyle=(e.colorsEqual("white",s.fillStyle),"white"),s.fillText(h.charAt(3).toUpperCase(),o/6,l+0)),s.fillStyle=e.colorsEqual(m,s.fillStyle)?"black":"white",s.fillText(h.charAt(0).toUpperCase(),o-4,l+1)}},e.Marker.Performance.drawCalloutMarker=function(t,e,a){var r,n,s,o,l,c,h,u,d,p,g;r=t.params.stx.chart.context,n=t.params,a.x,s=a.y,o=a.half,l=a.midWidth,c=a.headline,h=a.color?a.color:e.backgroundColor,u=2*o||25,d=Math.round(r.measureText(c).width),p=l?2*l:d+8,r.beginPath(),r.setLineDash([]),r.lineWidth=1,r.fillStyle=h,r.strokeStyle=h,r.font="normal bold 12px Roboto, Helvetica, sans-serif",r.rect(n.box.x0,n.box.y0,p,u),r.fill(),r.stroke(),r.closePath(),r.beginPath(),r.fillStyle=t.highlight||t.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)",i.m3(11),g=i.a8(p,d,2,20),r.rect(n.box.x0+g,s-o,d+40,22),r.fill(),r.stroke(),r.closePath(),r.fillStyle="black",r.fillText(c,n.box.x0+g+10,s)},e.Marker.Performance.drawMarkerStem=function(t,i,a){var r,n;r=t.params.stx.chart.context,n=a.x,a.y,r.beginPath(),r.strokeStyle=i.borderLeftColor,r.setLineDash([1,1]),r.moveTo(n,t.params.box.y1),r.lineTo(n,t.params.box.y1+e.stripPX(i.height)),r.stroke(),r.closePath()},e.Marker.Performance.prototype.drawMarker=function(t){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L;if(a="callou",a+="t",r=t.params,(n=t.params.stx)&&n.chart.dataSegment.length){s=n.panels[t.params.panelName],l=(o=t.stxNodeCreator.params).type,c=o.category,h=o.headline,u=o.displayCategory,d=o.color,i.m3(12),p=i.a8(l,"stx_marker_",c,"_"),n.styles[p]||e.Marker.Performance.calculateMarkerStyles(n,t,p),g=t.style=n.styles[p],f=n.styles.stx_marker_stem,i.Q_(13);var _=i.a8(13,110,113);i.Q_(7);var P=i.h_(0,2);m=parseInt(g.height,_)/P,i.Q_(14);var F=i.a8(0,20,18);v=parseInt(g.width,10)/F,y=o.displayStem?parseInt(f.height,10)+parseInt(f.marginBottom,10):0,i.m3(4),i.i4();var E=i.h_(180,170);if(b=y+parseInt(g.height,E),x=y?y+m:0,S=n.pixelFromDate(r.x),k=r.node.calculateYPosition({marker:t,panel:s,height:b,half:m,offset:x}),r.box={x0:S-(v||m),y0:k-m,x1:S+(v||m),y1:k+m,midY:m,midX:v||m,stemHeight:y},u||(c=u),n.startClip(s.name),"circle"===l)e.Marker.Performance.drawCircleMarker(t,g,{x:S,y:k,radius:m,label:c,color:d});else if("square"===l)e.Marker.Performance.drawSquareMarker(t,g,{x:S,y:k,half:m,label:c,color:d});else if(l===a)e.Marker.Performance.drawCalloutMarker(t,g,{x:S,y:k,half:m,midWidth:v,headline:h,color:d});else{C=1132861371,w=1537771511,D=2;for(var I=1;i.G1(I.toString(),I.toString().length,63539)!==C;I++)T=" is unsupported with canvas ma",T+="rkers!\nSupported Styles are ",T+="Square, Circle, and Callout.",i.m3(15),console.warn(i.a8(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.",l,T)),D+=2;i.r1(D.toString(),D.toString().length,52412)!==w&&(i.m3(15),console.warn(i.h_(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.",l," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout."))),i.Q_(5),console.warn(i.a8("Marker type: "," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.",l))}o.displayStem&&e.Marker.Performance.drawMarkerStem(t,f,{x:S,y:k}),A=1747047966,i.Q_(0),M=-i.h_("1992446682",1),L=2;for(var N=1;i.r1(N.toString(),N.toString().length,62979)!==A;N++)n.endClip(),t.attached&&this.positionPopUpNode(t),L+=2;i.r1(L.toString(),L.toString().length,6358)!==M&&(n.endClip(),t.attached&&this.positionPopUpNode(t))}},e.Marker.Performance.prototype.positionPopUpNode=function(t){var e,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k;if(e="p",e+="x",e+=") translateZ(0",e+=")",a="px",a+=")",a+=" translateY",a+="(",r="D",r+="ate",n="Da",n+="t",n+="e",t.attached){o=(s=t.params).stx,l=s.box,c=t.params.node.expand,d=[(h=o.chart.dataSet)[(u=o.chart.dataSegment)[0]&&u[0].tick-1],h[u[0]&&u[0].tick-2]],p=o.getFirstLastDataRecord(d.concat(u),n),i.Q_(16);var C=i.h_(1,15,11,14,2);i.Q_(17);var w=i.a8(5,4);i.Q_(13);var D=i.h_(9,0,7);if(g=[h[u[u.length-1].tick+C],h[u[u.length-w].tick+D]],f=o.getFirstLastDataRecord(u.concat(g),r,!0),m=p.DT<=h[t.tick].DT&&h[t.tick].DT<=f.DT,t.highlight||t.active||(m=!1),c.style.visibility=m?"":"hidden",m){v=o.panels[s.panelName],y=c.rects,i.m3(17);var T=i.h_(14,12);b=y.height/T,x=l.x0+y.width>v.right?l.x0-y.width:l.x1,x-=o.chart.left,S=l.y0-b>=v.top?l.y0+l.midY-b:l.y0,l.y1+l.stemHeight===v.yAxis.bottom&&y.height>l.y1-l.y0+l.stemHeight&&(S=l.y1-y.height+l.stemHeight),k="translateX("+Math.floor(x)+a+Math.floor(S)+e,c.style.transform=k,c.transform={translateX:x,translateY:S}}}},e.Marker.Performance.prototype.quickCache=function(t){var i,a,r;i=t.params.node.expand,a=t.style,r=e.stripPX(a.marginLeft)+e.stripPX(a.marginRight)+e.stripPX(a.borderRight)+e.stripPX(a.borderLeft),i.rects=i.getBoundingClientRect(),i.scrollBarWidth=i.rects.width-i.clientWidth-r},e.Marker.Performance.prototype.calculateYPosition=function(t){var e,a,r,n,s,o,l,c,h,u,d,p,g,f;switch(e="t",e+="o",e+="p",a=t.marker,r=t.panel,n=t.height,s=t.half,o=t.offset,c=(l=a.params.stx).chart,h=l.highLowBars[l.layout.chartType],u=c.dataSet[a.tick],d=h?u.High:u.Close,a.params.yPositioner){case"value":p=a.params.y||0===a.params.y?l.pixelFromPrice(a.params.y,r)-.5*n+s:l.pixelFromPrice(d,r)-o;break;case"above_candle":p=l.pixelFromPrice(d,r)-o;break;case"below_candle":p=l.pixelFromPrice(u.Low||d,r)+s;break;case"on_candle":g=u.High||u.Close,f=u.Low||0===u.Low||u.Close,i.m3(18);var m=i.a8(1,374,17,22);p=l.pixelFromPrice((g+f)/m,r)-.5*n+s;break;case e:p=s;break;case"bottom":p=l.pixelFromPrice(r.yAxis.low,r)-(o||s)}return p},e.Marker.Performance.prototype.prepareForHolder=function(t){var e,i;return e=this.expand,i=t.params.stx,e.classList.add(this.params.type),i.markerHelper.domMarkers.push(t),e},e.Marker.Performance.prototype.addToHolder=function(t){var a,r,n,s,o;a=this.expand,r=t.params.stx,a.addEventListener("mousedown",c),i.i4(),n=953305498,s=-1177991474,o=2;for(var l=1;i.r1(l.toString(),l.toString().length,94070)!==n;l++)a.addEventListener("",c),o+=2;function c(e){var a,n,s;i.D2(),a=2017064137,n=-1164575728,i.m3(6),s=i.a8("2",2);for(var o=1;i.r1(o.toString(),o.toString().length,8854)!==a;o++)r.activeMarker=t,s+=2;i.r1(s.toString(),s.toString().length,21510)!==n&&(r.activeMarker=t),r.activeMarker=t,r.activeMarker.click(e.clientX,e.clientY,r.activeMarker,r.currentPanel),e.stopPropagation()}i.G1(o.toString(),o.toString().length,12552)!==s&&a.addEventListener("",c),a.addEventListener("touchstart",c),a.clickClosure=c,e.Marker.Performance.reconstituteExpanded(r),e.Marker.Performance.consolidateExpanded(r),this.quickCache(t)},e.Marker.Performance.prototype.remove=function(t){var e,a,r,n;e=t.params.stx,i.i4(),e&&e.markerHelper.domMarkers&&(-1!=(a=e.markerHelper.domMarkers.indexOf(t))&&e.markerHelper.domMarkers.splice(a,1),t.attached&&(r=e.panels[t.params.panelName],(n=t.params.node.expand).parentNode===r.subholder&&r.subholder.removeChild(n),n.removeEventListener("click",n.clickClosure)))},e.Marker.Performance.prototype.click=function(t,e,a,r){var n,s,o,l,c,h,u,d,p;if(this.hasText){if(n=a.params.stx,a.attached){o=this.expand,l=-1359317941,i.Q_(19),c=-i.a8(32,"2033371127"),h=2;for(var g=1;i.G1(g.toString(),g.toString().length,45112)!==l;g++){if(o.rects.width-o.scrollBarWidth+o.transform.translateX<n.backOutX(t)&&n.backOutX(t)<o.rects.width+o.transform.translateX)return;this.remove(a),h+=2}if(i.G1(h.toString(),h.toString().length,80824)!==c){if((o.rects.width+o.scrollBarWidth)%o.transform.translateX>n.backOutX(t)||n.backOutX(t)>=o.rects.width%o.transform.translateX)return;this.remove(a)}}else n.addToHolder(a),s=!0;a.attached=!a.attached,a.active=!a.active,u=-2114385135,d=1393073864,p=2;for(var f=1;i.G1(f.toString(),f.toString().length,74342)!==u;f++)s&&a.stxNodeCreator.positionPopUpNode(a),p+=2;i.G1(p.toString(),p.toString().length,79065)!==d&&s&&a.stxNodeCreator.positionPopUpNode(a)}},t},Dt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.o1uVd=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"_qLMW",{get:function(){return this},configurable:!0}),e=_qLMW,i=5;break;case 4:i="undefined"==typeof o1uVd?3:9;break;case 9:delete e.o1uVd,delete Object.prototype._qLMW,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Tt(Dt[513895]),Dt.m2=function(){return"function"==typeof Dt[299637].p4oUdFl?Dt[299637].p4oUdFl.apply(Dt[299637],arguments):Dt[299637].p4oUdFl},Dt[92321]=!0,Dt.m4=function(){return"function"==typeof Dt[254206].s7rL$NJ?Dt[254206].s7rL$NJ.apply(Dt[254206],arguments):Dt[254206].s7rL$NJ},Dt.v4=function(){return"function"==typeof Dt[299637].p4oUdFl?Dt[299637].p4oUdFl.apply(Dt[299637],arguments):Dt[299637].p4oUdFl},Dt[302900]=292,Dt[513895].O7FF=Dt,Dt.O7=function(){return"function"==typeof Dt[299637].R9DODrP?Dt[299637].R9DODrP.apply(Dt[299637],arguments):Dt[299637].R9DODrP},Dt.B2=function(){return"function"==typeof Dt[254206].s7rL$NJ?Dt[254206].s7rL$NJ.apply(Dt[254206],arguments):Dt[254206].s7rL$NJ},Dt.z$=function(){return"function"==typeof Dt[299637].R9DODrP?Dt[299637].R9DODrP.apply(Dt[299637],arguments):Dt[299637].R9DODrP},Dt[245362]=!0,Dt.o6=function(){return"function"==typeof Dt[321268].L3LLwSS?Dt[321268].L3LLwSS.apply(Dt[321268],arguments):Dt[321268].L3LLwSS},Dt[321268]=(ht=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.h8jHi(o)|(255&t.h8jHi(o+1))<<8|(255&t.h8jHi(o+2))<<16|(255&t.h8jHi(o+3))<<24;l=ht(l,a),n=5*(n=(524287&(n^=l=ht(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.h8jHi(s+2))<<16;case 2:l|=(255&t.h8jHi(s+1))<<8;case 1:l|=255&t.h8jHi(s),l=ht(l,a),n^=l=ht(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=ht(n^=n>>>16,2246822507),n=ht(n^=n>>>13,3266489909),n^=n>>>16}}),Dt[254206]=function(){for(var t=2;9!==t;)switch(t){case 5:return e[2]={},e[2].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 70:i[66]++,t=57;break;case 2:var i=[arguments];t=1;break;case 4:i[5]=[],i[2]={},i[2].s9=["k4"],t=8;break;case 22:i[15].s9=["k4"],i[15].a_=function(){return/\x39\067/.i8Z_Q(function(){return"a".codePointAt(0)}+[])},t=35;break;case 71:i[68]++,t=76;break;case 35:i[67]=i[15],i[95]={},i[95].s9=["o9"],i[95].a_=function(){var t=!1,e=[];try{for(var i in console)e.S0oOM(i);t=0===e.length}catch(t){}return t},i[16]=i[95],i[71]={},i[71].s9=["k4"],t=28;break;case 76:t=i[68]<i[83][i[44]].length?75:70;break;case 53:i[5].S0oOM(i[37]),i[5].S0oOM(i[70]),t=51;break;case 47:i[5].S0oOM(i[67]),i[5].S0oOM(i[19]),i[5].S0oOM(i[80]),i[85]=[],t=64;break;case 38:i[56].s9=["o9"],i[56].a_=function(){return"function"==typeof p$yWr},i[19]=i[56],i[5].S0oOM(i[4]),t=53;break;case 10:i[7].s9=["k4"],i[7].a_=function(){return/\x58/.i8Z_Q(function(){return"x".toLocaleUpperCase()}+[])},i[8]=i[7],i[6]={},i[6].s9=["o9"],i[6].a_=function(){return"function"==typeof r19fFP},t=15;break;case 77:i[68]=0,t=76;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 7:e=a[8]<a[0][0].length?6:18;break;case 16:e=a[8]<a[5].length?15:23;break;case 24:a[8]++,e=16;break;case 8:a[8]=0,e=7;break;case 4:a[4]={},a[5]=[],a[8]=0,e=8;break;case 12:a[5].S0oOM(a[6][i[48]]),e=11;break;case 19:a[8]++,e=7;break;case 13:a[4][a[6][i[48]]]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[1];case 2:var e=[arguments];e[1]={},e[1].h=0,e[1].t=0,t=3}}.V1I07h(this,arguments),e=12;break;case 20:a[4][a[6][i[48]]].h+=!0,e=19;break;case 17:a[8]=0,e=16;break;case 10:e=a[6][i[33]]===i[13]?20:19;break;case 25:a[3]=!0,e=24;break;case 11:a[4][a[6][i[48]]].t+=!0,e=10;break;case 5:return;case 1:e=0===a[0][0].length?5:4;break;case 26:e=a[9]>=.5?25:24;break;case 15:a[7]=a[5][a[8]],a[9]=a[4][a[7]].h/a[4][a[7]].t,e=26;break;case 2:var a=[arguments];e=1;break;case 18:a[3]=!1,e=17;break;case 23:return a[3];case 14:e=void 0===a[4][a[6][i[48]]]?13:11;break;case 6:a[6]=a[0][0][a[8]],e=14}}(i[85])?68:67;break;case 43:i[93]={},t=42;break;case 51:i[5].S0oOM(i[16]),i[5].S0oOM(i[1]),i[5].S0oOM(i[8]),i[5].S0oOM(i[9]),t=47;break;case 75:i[89]={},i[89][i[48]]=i[83][i[44]][i[68]],i[89][i[33]]=i[11],i[85].S0oOM(i[89]),t=71;break;case 42:i[93].s9=["o9"],i[93].a_=function(){return"function"==typeof V1QVVr},i[80]=i[93],i[56]={},t=38;break;case 26:i[64].s9=["k4"],i[64].a_=function(){var t=function(){return[]+"a".concat("a")};return!/\x5b\u005d/.i8Z_Q(t+[])&&/\x61\141/.i8Z_Q(t+[])},i[70]=i[64],i[15]={},t=22;break;case 67:return e[4]=49,79;case 64:i[13]="Y8",i[97]="Q5",i[44]="s9",i[33]="A_",i[98]="a_",i[48]="u6",t=58;break;case 56:i[83]=i[5][i[66]];try{i[11]=i[83][i[98]]()?i[13]:i[97]}catch(t){i[11]=i[97]}t=77;break;case 28:i[71].a_=function(){return!/\174/.i8Z_Q(function(){return"aaaa|a".substr(0,3)}+[])},i[37]=i[71],t=43;break;case 57:t=i[66]<i[5].length?56:69;break;case 15:i[9]=i[6],i[64]={},t=26;break;case 58:i[66]=0,t=57;break;case 68:t=68;break;case 1:t=e[4]?5:4;break;case 5:return 35;case 8:i[2].a_=function(){return!/\u0079/.i8Z_Q(function(){return"x y".slice(0,1)}+[])},i[4]=i[2],i[3]={},i[3].s9=["k4"],i[3].a_=function(){return!/\x32\u0035/.i8Z_Q(function(){return decodeURI("%25")}+[])},i[1]=i[3],i[7]={},t=10}},e[2];case 2:var e=[arguments];e[4]=void 0,t=5}}(),Dt[299637]={p4oUdFl:function(){var t,e=arguments;switch(ct){case 4:t=(e[4]+e[0]-e[1])*e[3]-e[2];break;case 3:t=e[0]+e[1];break;case 2:t=e[0]>>e[1];break;case 0:t=e[1]*e[0];break;case 1:t=e[1]-e[0]}return t},R9DODrP:function(t){ct=t}},Dt.F6=function(){return"function"==typeof Dt[321268].L3LLwSS?Dt[321268].L3LLwSS.apply(Dt[321268],arguments):Dt[321268].L3LLwSS},Dt[574954]=!1,Dt[616183]=!1,Dt.m4(),l=function(t){var e,i=Dt;return(e=t.CIQ).Renderer.OHLC.requestNew=function(t,a){var r,n,s,o,l,c,h,u,d,p,g,f;r=null,n=a.hlc,s=a.colored,o=a.hollow,i.B2(),l=a.volume,c=a.histogram;for(var m=0;m<t.length;m++)switch(h="c",h+="a",h+="ndle",u="b",u+="a",u+="r",d=t[m]){case u:case h:r=d;break;case"volume":l=!0;break;case"hollow":o=!0;break;case"colored":s=!0;break;case"histogram":c=!0,r="candle";break;case"hlc":n=!0,r="bar";break;default:return null}if(null===r)return null;p=-1934722319,g=2088832628,f=2;for(var v=1;i.F6(v.toString(),v.toString().length,31153)!==p;v++)return new e.Renderer.OHLC({params:e.extend(a,{type:r,hlc:n,colored:s,hollow:o,volume:l,histogram:c})});return i.F6(f.toString(),f.toString().length,28171)!==g?new e.Renderer.OHLC({params:e.extend(a,{type:r,hlc:n,colored:s,hollow:o,volume:l,histogram:c})}):void 0},e.Renderer.OHLC.getChartParts=function(t,e){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$;a="borde",a+="r_color",a+="_even",r="stx_hol",r+="low_cand",r+="le_d",r+="own",n="border_col",n+="or",n+="_up",s="stx_ho",s+="llow_c",s+="andle_up",o="ca",o+="ndl",o+="e",i.m4(),l="f",l+="ill_color_",l+="even",c="ca",c+="ndle",h="h",h+="ollow",u="stx_hollow_candle_",u+="up",d="stx_",d+="hollo",d+="w_candle_eve",d+="n",p="shado",p+="w",g="sha",g+="dow",f="ho",f+="l",f+="l",f+="ow",m="stx_",m+="hollow_candle_up",v="border",v+="_color_",v+="do",v+="wn",y="stx",y+="_cand",y+="le_up",b="stx_candle_shadow",b+="_even",x="shado",x+="w",S="s",S+="hado",S+="w",k="stx",k+="_ca",k+="ndle_shadow_",k+="up",C="shad",C+="ow",w="sh",w+="ad",w+="o",w+="w",D="border_col",D+="or_ev",D+="en",T="s",T+="tx_bar",T+="_even",A="border_c",A+="ol",A+="or",A+="_down",M="b",M+="a",M+="r",L="border_",L+="color_up",_="ba",_+="r",P="stx",P+="_bar_chart",F="border_color_ev",F+="en",E="stx",E+="_hi",E+="stogram",E+="_even",I="h",I+="isto",I+="gram",N="border_co",N+="l",N+="or_",N+="down",q="fill_",q+="colo",q+="r_dow",q+="n",O="f",O+="il",O+="l_color_up",H=1,R=2,U=4,i.O7(0),z=i.v4(1,"8"),V=1042032673,B=-1971825966,W=2;for(var Y=1;i.o6(Y.toString(),Y.toString().length,90109)!==V;Y++)j=16,$=32,W+=2;return i.o6(W.toString(),W.toString().length,30398)!==B&&(j=30,i.z$(1),$=i.v4(0,"56")),[{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:z,fill:O,border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:j,fill:q,border:N,useColorInMap:!0,useBorderStyleProp:!0},{type:I,drawType:"histogram",style:E,condition:$,fill:"fill_color_even",border:F,skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:"bar",drawType:"bar",style:t||P,border:"border_color",useColorInMap:!0},{type:_,drawType:"bar",style:"stx_bar_up",condition:e?z:H,border:L,useColorInMap:!0},{type:M,drawType:"bar",style:"stx_bar_down",condition:e?j:R,border:A,useColorInMap:!0},{type:"bar",drawType:"bar",style:T,condition:e?$:U,border:D,skipIfPass:!0,useColorInMap:!0},{type:"candle",drawType:w,style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:C,style:k,condition:z,border:"border_color_up"},{type:"candle",drawType:S,style:"stx_candle_shadow_down",condition:j,border:"border_color_down"},{type:"candle",drawType:x,style:b,condition:$,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:y,condition:z,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:j,fill:"fill_color_down",border:v,useColorInMap:!0,useBorderStyleProp:!0},{type:"hollow",drawType:"shadow",style:m,condition:H,border:"border_color_up"},{type:f,drawType:g,style:"stx_hollow_candle_down",condition:R,border:"border_color_down"},{type:"hollow",drawType:p,style:d,condition:U,border:"border_color_even",skipIfPass:!0},{type:"hollow",drawType:"candle",style:u,condition:H|j,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:R|j,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0},{type:h,drawType:c,style:"stx_hollow_candle_even",condition:U|j,fill:l,border:"border_color_even",skipIfPass:!0,useColorInMap:!0},{type:"hollow",drawType:o,style:s,condition:H|z,fill:"fill_color_up",border:n},{type:"hollow",drawType:"candle",style:r,condition:R|z,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:U|z,fill:"fill_color_even",border:a}]},e.Renderer.Bars=function(t){var e;i.B2(),this.construct(t),(e=this.params).type="bar",this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.hlc=e.volume=e.hollow=e.histogram=!1},e.inheritsFrom(e.Renderer.Bars,e.Renderer.OHLC,!1),e.Renderer.HLC=function(t){var e,a,r,n;this.construct(t),(e=this.params).type="bar",a=474787718,r=-1485534043,i.z$(1),n=i.v4(0,"2");for(var s=1;i.F6(s.toString(),s.toString().length,10254)!==a;s++)e.hlc=!1,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!1,n+=2;i.B2(),i.F6(n.toString(),n.toString().length,63474)!==r&&(e.hlc=!0,this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0),e.volume=e.hollow=e.histogram=!1},e.inheritsFrom(e.Renderer.HLC,e.Renderer.Bars,!1),e.Renderer.Shading=function(t){this.construct(t),this.beenSetup=!1,i.B2(),this.errTimeout=null,this.params.useChartLegend=!1,this.shading=[],"rangechannel"==this.params.type&&(this.highLowBars=!0)},e.inheritsFrom(e.Renderer.Shading,e.Renderer.Lines,!1),i.B2(),e.Renderer.Shading.requestNew=function(t,a){var r,n,s,o,l;r=-517673448,n=-1560255038,i.O7(2),s=i.v4("2",0);for(var c=1;i.o6(c.toString(),c.toString().length,21724)!==r;c++)o=null,s+=2;i.F6(s.toString(),s.toString().length,74373)!==n&&(o=1),i.m4();for(var h=0;h<t.length;h++)l="ran",l+="gechannel","rangechannel"==t[h]&&(o=l);return null===o?null:new e.Renderer.Shading({params:e.extend(a,{type:o})})},e.Renderer.Shading.prototype.setShading=function(t){var e,a,r,n,s,o;if(t.constructor!=Array){e=-492232430,a=36874855,r=2;for(var l=1;i.F6(l.toString(),l.toString().length,63836)!==e;l++)t=[t],r+=2;i.o6(r.toString(),r.toString().length,76125)!==a&&(t=[t]),t=[t]}n=-1688905219,s=-795439380,o=2;for(var c=1;i.F6(c.toString(),c.toString().length,16202)!==n;c++)this.shading=t,o+=2;i.F6(o.toString(),o.toString().length,60666)!==s&&(this.shading=t)},e.Renderer.Shading.prototype.draw=function(){var t,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A;t="range",t+="channe",t+="l",a=457426073,r=1684534499,n=2;for(var M=1;i.F6(M.toString(),M.toString().length,36762)!==a;M++)o=(s=this.stx).panels[this.params.panel].chart,n+=2;if(i.F6(n.toString(),n.toString().length,12238)!==r&&(o=(s=this.stx).panels[this.params.panel].chart),this.params.type==t)if(this.beenSetup)this.seriesParams.length>2&&this.removeSeries(this.seriesParams[2].id);else{l="stx_line",l+="_down",c="L",c+="o",c+="w",h="stx_li",h+="ne_up",this.beenSetup=!0,this.params.display=this.seriesParams[0].display,this.params.yAxis=this.seriesParams[0].yAxis,u=this.seriesParams[0].color||"auto",(d=this.seriesParams[0].symbol)&&(i.O7(3),i.m2(d,".")),p=729413605,g=-908480906,f=2;for(var L=1;i.F6(L.toString(),L.toString().length,79961)!==p;L++)this.removeAllSeries(!1),f+=2;i.F6(f.toString(),f.toString().length,58901)!==g&&this.removeAllSeries(!0),m=this.params.name,s.addSeries(null,{symbol:d,loadData:!!d,field:"High",renderer:"Shading",name:m,style:h,display:this.params.display}),s.addSeries(null,{symbol:d,loadData:!!d,field:c,renderer:"Shading",name:m,style:l,display:this.params.display}),this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:u})}function _(t){var e,a,r;return i.m4(),(e=y[t])?(a=e.parameters.field,r=e.parameters.subField,i.z$(3),i.v4(a,r?"."+r:"")):t}for(this.shading||this.errTimeout||(console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set."),v=this,this.errTimeout=setTimeout((function(){var t,e,a;t=1076160335,e=555668124,a=2;for(var r=1;i.o6(r.toString(),r.toString().length,18840)!==t;r++)v.errTimeout=1,a+=2;i.o6(a.toString(),a.toString().length,13152)!==e&&(v.errTimeout=null)}),1e4)),y={},b=0;b<this.seriesParams.length;b++)x={},o.series[this.seriesParams[b].id]&&(x=e.clone(o.series[this.seriesParams[b].id].parameters)),y[this.seriesParams[b].id]={parameters:e.extend(e.extend(x,this.params),this.seriesParams[b]),yValueCache:this.caches[this.seriesParams[b].id]};for(b in s.drawSeries(o,y,this.params.yAxis,this),o.legend&&"rangechannel"==this.params.type&&(o.legend.colorMap||(o.legend.colorMap={}),S=this.params.display,k=[s.getCanvasColor("stx_line_up"),s.getCanvasColor("stx_line_down")],o.legend.colorMap[S]={color:k,display:S,isBase:this==s.mainSeriesRenderer}),y)this.caches[b]=y[b].yValueCache;for(b=0;b<this.shading.length;b++)w=(C=this.shading[b]).color,"auto"==C.color&&(w=s.defaultColor),C.primary||(C.primary="Close"),!C.secondary&&this.seriesParams[0]&&(C.secondary=this.seriesParams[0].field),C.secondary&&(y[C.primary]||"Close"==C.primary)&&y[C.secondary]&&("Close"==C.primary&&this.params.yAxis&&this.params.yAxis!=o.yAxis||(D=_(C.primary).split("."),T=_(C.secondary).split("."),((A={topBand:D[0],topSubBand:D[1],topColor:C.greater||w||s.containerColor,topAxis:this.params.yAxis,bottomBand:T[0],bottomSubBand:T[1],bottomColor:C.lesser||w||s.containerColor,bottomAxis:"Close"==C.primary?null:this.params.yAxis,tension:this.params.tension||o.tension,opacity:.1}).topColor||A.bottomColor)&&(!this.params.highlight&&s.highlightedDraggable&&(A.opacity*=.3),e.fillIntersecting(s,this.params.panel,A))))},e.Renderer.Histogram=function(t){var e,a,r,n,s,o;e=1445168929,a=1299395730,i.z$(1),r=i.m2(0,"2");for(var l=1;i.o6(l.toString(),l.toString().length,96968)!==e;l++)this.construct(t),this.params.type="",r+=2;if(i.F6(r.toString(),r.toString().length,90840)!==a&&(this.construct(t),this.params.type=""),this.construct(t),this.params.type="histogram",this.barsHaveWidth=this.standaloneBars=!0,this.params.yAxis){n=1130250599,s=-1151393379,o=2;for(var c=1;i.o6(c.toString(),c.toString().length,6898)!==n;c++)this.params.bindToYAxis=!0,o+=2;i.o6(o.toString(),o.toString().length,71542)!==s&&(this.params.bindToYAxis=!1),"number"==typeof this.params.yAxis.baseline&&(this.params.yAxis.baseline={value:this.params.yAxis.baseline})}},e.inheritsFrom(e.Renderer.Histogram,e.Renderer,!1),e.Renderer.Histogram.prototype.adjustYAxis=function(){var t;(t=this.params.yAxis)&&!t.baseline&&(t.min=0,t.highValue/=this.params.heightPercentage||1)},e.Renderer.Histogram.prototype.draw=function(){var t,a,r,n,s,o,l,c;t="sta",t+="cke",t+="d",a=e.clone(this.params),i.m4(),a.type=a.subtype,this.useSum=a.subtype==t,this.stx.drawHistogram(a,this.seriesParams),r=-1713556060,n=2115453358,i.O7(1),s=i.v4(0,"2");for(var h=1;i.o6(h.toString(),h.toString().length,86354)!==r;h++)o=a.yAxis||a.yAxis.baseline,s+=2;if(i.F6(s.toString(),s.toString().length,27519)!==n&&(o=a.yAxis&&a.yAxis.baseline),(o=a.yAxis&&a.yAxis.baseline)&&o.color){l=this.stx.panels[this.params.panel],i.z$(4);var u=i.v4(3,15,89,15,18);c=this.stx.pixelFromPrice(o.value,l,this.params.yAxis)-"0.5"*u,this.stx.plotLine({x0:l.left,x1:l.right,y0:c,y1:c,color:o.color,type:"line",context:l.chart.context,confineToPanel:l,pattern:o.pattern||"solid",lineWidth:o.lineWidth||1,opacity:o.opacity||.8,globalCompositeOperation:"destination-over"})}},e.Renderer.Histogram.prototype.getBasis=function(t,e,i){var a,r,n,s;if(a=0,t&&this.useSum)for(var o=0;o<this.seriesParams.length&&(r="ob",r+="jec",r+="t",(n=this.seriesParams[o].field)!==e);o++)(s=t[n])&&typeof s===r&&(s=s[i||this.seriesParams[o].subField||this.stx.chart.defaultPlotField||"Close"]),s&&(a+=s);return a},e.Renderer.Heatmap=function(t){this.construct(t),this.params.type="heatmap",i.m4(),this.params.highlightable=!1,this.barsHaveWidth=this.standaloneBars=!0},e.inheritsFrom(e.Renderer.Heatmap,e.Renderer,!1),e.Renderer.Heatmap.requestNew=function(t,a){var r,n,s,o,l,c;r=null;for(var h=0;h<t.length;h++)n="he",n+="atma",n+="p",s="h",s+="eatm",s+="a",s+="p",t[h]==s&&(r=n);if(null===r)return null;i.O7(2),o=i.v4("2119235614",0),l=-332464187,c=2;for(var u=1;i.F6(u.toString(),u.toString().length,44584)!==o;u++)return new e.Renderer.Heatmap({params:e.extend(a,{type:r})});return i.B2(),i.F6(c.toString(),c.toString().length,99849)!==l?new e.Renderer.Heatmap({params:e.extend(a,{type:r})}):void 0},e.Renderer.Heatmap.prototype.draw=function(){i.m4(),this.stx.drawHeatmap(e.clone(this.params),this.seriesParams)},e.Renderer.Scatter=function(t){i.m4(),this.construct(t),this.standaloneBars=this.barsHaveWidth=!0,this.bounded=!0},e.inheritsFrom(e.Renderer.Scatter,e.Renderer.Lines,!1),e.Renderer.Scatter.requestNew=function(t,i){var a;a=null;for(var r=0;r<t.length;r++)"scatterplot"==t[r]&&(a="scatter");return null===a?null:new e.Renderer.Scatter({params:e.extend(i,{type:a})})},e.Renderer.Scatter.prototype.drawIndividualSeries=function(t,e){var a,r;return a=this.stx.panels[e.panel]||t.panel,r={colors:[]},i.m4(),this.stx.scatter?r=this.stx.scatter(a,e):console.warn("Error, Scatter renderer requires customChart.js"),r},t},Mt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.T96Zl=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"kg1N6",{get:function(){return this},configurable:!0}),e=kg1N6,i=5;break;case 4:i="undefined"==typeof T96Zl?3:9;break;case 9:delete e.T96Zl,delete Object.prototype.kg1N6,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),At(Mt[513895]),Mt.S2_=function(){return"function"==typeof Mt[299637].R9DODrP?Mt[299637].R9DODrP.apply(Mt[299637],arguments):Mt[299637].R9DODrP},Mt.J6w=function(){return"function"==typeof Mt[299637].p4oUdFl?Mt[299637].p4oUdFl.apply(Mt[299637],arguments):Mt[299637].p4oUdFl},Mt[92321]=668,Mt.x$i=function(){return"function"==typeof Mt[299637].R9DODrP?Mt[299637].R9DODrP.apply(Mt[299637],arguments):Mt[299637].R9DODrP},Mt.m91=function(){return"function"==typeof Mt[321268].L3LLwSS?Mt[321268].L3LLwSS.apply(Mt[321268],arguments):Mt[321268].L3LLwSS},Mt[302900]=752,Mt[616183]=640,Mt.S9A=function(){return"function"==typeof Mt[299637].p4oUdFl?Mt[299637].p4oUdFl.apply(Mt[299637],arguments):Mt[299637].p4oUdFl},Mt[321268]=(lt=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.e7knX(o)|(255&t.e7knX(o+1))<<8|(255&t.e7knX(o+2))<<16|(255&t.e7knX(o+3))<<24;l=lt(l,a),n=5*(n=(524287&(n^=l=lt(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.e7knX(s+2))<<16;case 2:l|=(255&t.e7knX(s+1))<<8;case 1:l|=255&t.e7knX(s),l=lt(l,a),n^=l=lt(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=lt(n^=n>>>16,2246822507),n=lt(n^=n>>>13,3266489909),n^=n>>>16}}),Mt[574954]=352,Mt[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[1]=void 0,e[2]={},t=4;break;case 4:return e[2].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 67:return e[1]=48,86;case 76:t=i[10]<i[93][i[51]].length?75:70;break;case 72:i[46].L$PO_(i[38]),t=71;break;case 2:var i=[arguments];t=1;break;case 36:i[73]=i[13],i[1].L$PO_(i[97]),i[1].L$PO_(i[73]),i[1].L$PO_(i[7]),t=51;break;case 51:i[1].L$PO_(i[3]),i[1].L$PO_(i[9]),i[1].L$PO_(i[59]),i[1].L$PO_(i[89]),i[1].L$PO_(i[99]),i[1].L$PO_(i[4]),t=45;break;case 61:i[98]="y6H",i[96]="j$w",i[11]="t0b",t=58;break;case 29:i[84].d37=["f0y"],i[84].j$w=function(){var t=!1,e=[];try{for(var i in console)e.L$PO_(i);t=0===e.length}catch(t){}return t},i[59]=i[84],i[20]={},t=42;break;case 42:i[20].d37=["H$I"],i[20].j$w=function(){return!/\171/.d4oTm(function(){return"x y".slice(0,1)}+[])},i[89]=i[20],i[13]={},i[13].d37=["f0y"],i[13].j$w=function(){return"function"==typeof y$OEF},t=36;break;case 24:i[99]=i[70],i[17]={},i[17].d37=["H$I"],i[17].j$w=function(){return/\x74\162\165\145/.d4oTm(function(){return"aa".endsWith("a")}+[])},t=35;break;case 56:i[93]=i[1][i[71]];try{i[94]=i[93][i[96]]()?i[35]:i[67]}catch(t){i[94]=i[67]}t=77;break;case 75:i[38]={},i[38][i[11]]=i[93][i[51]][i[10]],i[38][i[98]]=i[94],t=72;break;case 57:t=i[71]<i[1].length?56:69;break;case 77:i[10]=0,t=76;break;case 1:t=e[1]?5:4;break;case 14:i[5].d37=["f0y"],i[5].j$w=function(){return"function"==typeof z6ahaF},i[7]=i[5],i[6]={},i[6].d37=["f0y"],i[6].j$w=function(){return"function"==typeof e$JaDj},i[4]=i[6],t=18;break;case 15:i[3]=i[2],i[70]={},i[70].d37=["H$I"],i[70].j$w=function(){return/\x32\065/.d4oTm(function(){return encodeURI("%")}+[])},t=24;break;case 68:t=68;break;case 4:i[1]=[],i[8]={},i[8].d37=["H$I"],i[8].j$w=function(){return/\u0039\x37/.d4oTm(function(){return"a".codePointAt(0)}+[])},t=7;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 24:a[7]++,e=16;break;case 16:e=a[7]<a[6].length?15:23;break;case 23:return a[4];case 20:a[5][a[9][i[11]]].h+=!0,e=19;break;case 4:a[5]={},a[6]=[],a[7]=0,e=8;break;case 5:return;case 7:e=a[7]<a[0][0].length?6:18;break;case 17:a[7]=0,e=16;break;case 13:a[5][a[9][i[11]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[6]={},e[6].h=0,e[6].t=0,t=3;break;case 3:return e[6]}}.E_5etV(this,arguments),e=12;break;case 1:e=0===a[0][0].length?5:4;break;case 8:a[7]=0,e=7;break;case 11:a[5][a[9][i[11]]].t+=!0,e=10;break;case 12:a[6].L$PO_(a[9][i[11]]),e=11;break;case 14:e=void 0===a[5][a[9][i[11]]]?13:11;break;case 6:a[9]=a[0][0][a[7]],e=14;break;case 2:var a=[arguments];e=1;break;case 19:a[7]++,e=7;break;case 18:a[4]=!1,e=17;break;case 15:a[8]=a[6][a[7]],a[1]=a[5][a[8]].h/a[5][a[8]].t,e=26;break;case 25:a[4]=!0,e=24;break;case 26:e=a[1]>=.5?25:24;break;case 10:e=a[9][i[98]]===i[35]?20:19}}(i[46])?68:67;break;case 18:i[2]={},i[2].d37=["H$I"],t=16;break;case 16:i[2].j$w=function(){return!/[\x27\u0022]/.d4oTm(function(){return"c".indexOf("c")}+[])},t=15;break;case 71:i[10]++,t=76;break;case 70:i[71]++,t=57;break;case 45:i[1].L$PO_(i[74]),i[46]=[],i[35]="P4G",i[67]="E4X",i[51]="d37",t=61;break;case 33:i[39].d37=["H$I"],i[39].j$w=function(){return/\x33\u0044/.d4oTm(function(){return escape("=")}+[])},i[97]=i[39],i[84]={},t=29;break;case 35:i[74]=i[17],i[39]={},t=33;break;case 5:return 23;case 58:i[71]=0,t=57;break;case 7:i[9]=i[8],i[5]={},t=14}},e[2]}}(),Mt.N__=function(){return"function"==typeof Mt[254206].s7rL$NJ?Mt[254206].s7rL$NJ.apply(Mt[254206],arguments):Mt[254206].s7rL$NJ},Mt[245362]=810,Mt.a8F=function(){return"function"==typeof Mt[254206].s7rL$NJ?Mt[254206].s7rL$NJ.apply(Mt[254206],arguments):Mt[254206].s7rL$NJ},Mt[299637]={p4oUdFl:function(){var t,e=arguments;switch(ot){case 117:t=e[3]+e[2]-e[0]+e[1]-e[4];break;case 95:t=+e[2]-e[4]/(e[3]+e[1]/e[0]);break;case 85:t=e[0]*((e[4]-e[3])/e[2]+ +e[1]);break;case 39:t=e[2]/e[1]*e[0]+e[3];break;case 118:t=e[2]/e[4]-e[1]+e[3]+e[0];break;case 63:t=(e[2]+e[1]/e[0])*e[3];break;case 38:t=e[1]-e[3]+e[2]-e[0];break;case 121:t=e[0]-e[1]+e[2]-e[4]-e[3];break;case 64:t=e[3]/e[2]*e[1]/e[0]-e[4];break;case 13:t=e[1]+e[0]/e[2]+e[4]*e[3];break;case 17:t=e[0]*e[1];break;case 34:t=-e[3]+e[0]+e[1]-e[2];break;case 89:t=-e[2]+e[0]-e[3]+e[1];break;case 66:t=(e[1]-e[4]+e[0])*e[2]-e[3];break;case 108:t=-e[4]*e[0]/e[1]+e[2]+e[3];break;case 83:t=e[0]*e[2]/e[3]+e[4]-e[1];break;case 4:t=-e[0]+e[1]+e[2];break;case 50:t=(e[4]-e[3])/e[1]-e[0]+e[2];break;case 12:t=e[0]==e[1];break;case 59:t=e[2]-e[1]/(e[3]+e[0]/e[4]);break;case 25:t=e[2]+(e[0]<<e[1]);break;case 92:t=(-e[0]-e[2])*e[3]/e[4]+e[1];break;case 88:t=-e[1]-e[2]+e[0]+e[3];break;case 29:t=(e[0]-e[2]-e[3])*e[1]-e[4];break;case 43:t=e[2]-e[3]-e[1]+e[0]+e[4];break;case 104:t=e[2]+e[0]*e[1];break;case 102:t=e[0]-e[2]+ +e[1];break;case 3:t=-e[0]-e[1]+e[2];break;case 45:t=e[3]/e[1]*e[0]*e[2]-e[4];break;case 75:t=(e[3]-e[2])*e[0]-e[1]+e[4];break;case 124:t=e[1]+e[2]/e[0];break;case 41:t=e[1]-e[0]-e[2]+e[3];break;case 79:t=e[3]/e[2]+e[1]-e[0];break;case 116:t=(e[2]-e[1])*e[0]-e[3];break;case 55:t=e[4]*e[3]+e[2]-e[1]-e[0];break;case 69:t=(e[2]+e[1])/e[3]-e[0];break;case 32:t=(-e[3]+e[4])*e[2]-e[0]+e[1];break;case 28:t=-e[3]/e[2]/e[0]+e[1];break;case 91:t=e[1]*e[3]*e[2]-e[4]-e[0];break;case 5:t=e[2]-e[3]*e[1]-e[0];break;case 46:t=(e[2]-e[3])/e[4]+e[0]+e[1];break;case 100:t=e[2]+e[0]*(e[3]-e[1]);break;case 47:t=e[2]/e[1]-e[3]-e[0]+e[4];break;case 72:t=(e[3]-e[4])*e[2]/e[0]+e[1];break;case 80:t=(-e[2]+e[3]-e[4])/e[1]+e[0];break;case 96:t=e[1]-+e[0];break;case 8:t=e[1]-e[2]-e[0];break;case 27:t=e[2]*e[3]/(e[1]+e[0]);break;case 18:t=e[2]+e[0]-e[3]+e[1];break;case 6:t=e[1]+e[3]*e[0]+e[2];break;case 90:t=e[3]*e[2]*e[0]-e[1];break;case 14:t=(e[3]+e[4]+e[2])/e[1]+e[0];break;case 49:t=e[1]/e[0]-e[2];break;case 1:t=e[0]/e[1];break;case 52:t=e[0]*e[4]/e[3]/e[1]-e[2];break;case 11:t=-e[1]+e[0];break;case 20:t=e[4]/e[2]/e[3]/e[1]+e[0];break;case 57:t=e[1]-(e[0]>>e[2]);break;case 54:t=e[2]/e[4]*e[0]/e[1]+e[3];break;case 36:t=e[1]*e[2]/e[0]-e[3];break;case 87:t=-e[3]*e[1]+e[0]+e[2];break;case 37:t=e[1]|e[0];break;case 23:t=e[0]+e[1]-e[2];break;case 86:t=e[0]/e[3]/e[1]-e[2];break;case 110:t=(e[4]-e[3])/e[1]*e[0]+e[2];break;case 99:t=e[2]-e[1]+e[3]+e[0];break;case 77:t=(e[0]-e[4])*e[2]-e[3]-e[1];break;case 101:t=e[1]+(e[2]^e[0]);break;case 119:t=e[2]/e[1]/e[4]-e[0]+e[3];break;case 70:t=e[1]-e[4]+e[2]+e[0]-e[3];break;case 109:t=e[3]+e[1]+e[4]+e[0]-e[2];break;case 113:t=e[4]*e[3]/e[2]-e[0]-e[1];break;case 51:t=(e[0]+e[1])/e[3]+e[2];break;case 82:t=-e[0]*e[1]/e[3]/e[4]+e[2];break;case 0:t=e[0]-e[1];break;case 2:t=+e[1]-e[0]/(e[2]+e[3]);break;case 81:t=(e[0]-e[2]-e[4])/e[1]-e[3];break;case 56:t=(e[2]-e[1])*e[3]+e[0];break;case 97:t=e[1]/e[4]*e[0]-e[2]-e[3];break;case 71:t=(e[3]+e[1])*e[2]-e[0];break;case 68:t=e[3]/e[2]-e[0]+e[1];break;case 10:t=e[1]+e[0];break;case 48:t=-e[2]*e[0]-e[3]+e[1];break;case 65:t=(e[4]+e[0])/e[1]+e[3]-e[2];break;case 7:t=e[2]+e[3]*+e[1]+e[0];break;case 98:t=(e[1]-e[3])/e[0]+e[2];break;case 19:t=e[1]-e[2]+e[0];break;case 24:t=e[3]*e[0]+e[1]-e[2];break;case 58:t=e[0]+e[3]+e[4]+e[1]+e[2];break;case 53:t=e[1]*e[0]/e[3]/e[4]+e[2];break;case 125:t=e[5]+(e[2]/(e[3]^e[4])-e[1]/e[0]);break;case 21:t=e[2]/e[1]+e[0];break;case 35:t=e[3]-e[2]-e[1]+e[0]-e[4];break;case 9:t=e[1]+e[2]+e[0];break;case 62:t=(e[0]-e[3]/e[1])*e[2];break;case 123:t=e[1]-e[2]/e[0];break;case 84:t=-e[2]*e[1]+e[0];break;case 111:t=e[1]*e[2]-e[0]-e[3];break;case 103:t=e[0]<<e[1];break;case 120:t=(e[0]/e[2]+e[4])*e[3]+e[1];break;case 76:t=(e[1]+e[3])*e[4]+e[0]-e[2];break;case 15:t=e[2]+e[0]-e[3]+e[1]+e[4];break;case 105:t=e[1]/e[3]/e[2]+e[0];break;case 107:t=e[3]/e[2]+e[0]-e[4]-e[1];break;case 114:t=(e[0]/e[1]+e[4])*e[2]-e[3];break;case 115:t=e[0]+ +e[2]*e[1];break;case 74:t=+e[0]*e[1]/e[2];break;case 106:t=(-e[3]+e[0]+e[2])*e[1]-e[4];break;case 22:t=e[0]^e[1];break;case 60:t=e[1]*-+e[0];break;case 30:t=e[2]*e[0]+e[1];break;case 78:t=-e[2]/e[1]+e[0];break;case 44:t=e[2]*e[0]-e[1];break;case 122:t=e[3]-e[1]-e[2]-e[0];break;case 61:t=e[1]*-e[0];break;case 33:t=e[1]*e[4]*(e[2]<<e[3])*e[0];break;case 31:t=e[1]/e[3]/e[0]+e[4]+e[2];break;case 26:t=e[0]>>e[1];break;case 16:t=e[2]*e[0]+e[1]+e[3]-e[4];break;case 40:t=(e[0]-e[2])/e[1]-e[3];break;case 42:t=e[1]+e[0]-e[2]-e[3];break;case 112:t=e[3]+e[2]+e[0]-e[1];break;case 67:t=e[0]*e[2]+e[3]+e[1];break;case 94:t=(e[0]+e[1])/+e[2];break;case 73:t=e[0]*e[1]/e[2];break;case 93:t=-e[0]-e[1]}return t},R9DODrP:function(t){ot=t}},Mt.U42=function(){return"function"==typeof Mt[321268].L3LLwSS?Mt[321268].L3LLwSS.apply(Mt[321268],arguments):Mt[321268].L3LLwSS},Mt[513895].b133=Mt,Mt.a8F(),c=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt,nt,st,ot,lt,ct,ht,ut,dt,pt,gt,ft,mt,vt,yt,bt,xt,St,kt,Ct,wt,Dt,Tt,At,Lt,_t,Pt,Ft,Et,It,Nt,qt,Ot,Ht,Rt,Ut,zt,Vt,Bt,Wt,jt,$t,Yt,Xt,Zt,Jt,Gt,Kt,Qt,te,ee,ie,ae,re,ne,se,oe,le,ce=Mt;return e="a",e+="u",e+="to",i="0",i+=" t",i+="o 1",i+="00",a="Stoc",a+="hastic",a+="s",r="#5",r+="F7CB8",n="#E99B",n+="5",n+="4",s="Sh",s+="inohara Int",s+="ensity Ratio",o="Poi",o+="nt",o+="s",l="0.",l+="0",l+="1",c="aut",c+="o",h="#b",h+="82",h+="c0c",u="#6",u+="99",u+="1",u+="58",d="h",d+="i",d+="gh/l",d+="ow",p="da",p+="i",p+="l",p+="y",g="#00",g+="DD",g+="00",f="f",f+="ie",f+="ld",m="#",m+="0",m+="07FF",m+="F",v="#0",v+="0",v+="F",v+="F7F",y="#7FFF",y+="00",b="#F",b+="F",b+="FF",b+="00",x="#",x+="FF7",x+="F",x+="00",S="#",S+="FF0",S+="00",S+="0",k="fiel",k+="d",C="Rainbow Movi",C+="ng Average",w="m",w+="a",D="Disparity Ind",D+="ex",T="0",T+=".1",A="0",A+=".",A+="1",M="a",M+="u",M+="to",L="a",L+="u",L+="t",L+="o",_="f",_+="i",_+="eld",P="B",P+="al",P+="ance of Pow",P+="er",F="U",F+="lcer",F+=" I",F+="ndex",E="S",E+="PY",I="#0",I+="0FF00",N="#FF00",N+="00",q="#",q+="FF0000",O="#e3",O+="6460",H="#b82c0",H+="b",R="au",R+="t",R+="o",U="fib",U+="onacc",U+="i",z="#",z+="8BC",z+="1",z+="76",V="Donc",V+="hian Width",B="a",B+="uto",W="m",W+="a",j="STA",j+="RC ",j+="Bands",$="ATR B",$+="ands",Y="#ab6",Y+="11f",X="#8",X+="bc176",Z="a",Z+="u",Z+="t",Z+="o",J="0",J+=".",J+="05",G="a",G+="u",G+="t",G+="o",K="au",K+="to",Q="#b8",Q+="2c0",Q+="c",tt="#8cc",tt+="1",tt+="76",et="non",et+="e",it="0 to ma",it+="x",at="#",at+="fff69e",rt="#",rt+="85c99e",nt="med",nt+="i",nt+="a",nt+="n",st="m",st+="e",st+="a",st+="n",ot="Va",ot+="luatio",ot+="n Lin",ot+="es",lt="a",lt+="u",lt+="to",ce.a8F(),ct="Wil",ct+="lia",ct+="ms ",ct+="%R",ht="Weighted C",ht+="lose",ut="P",ut+="o",ut+="int",ut+="s",dt="Volume Oscil",dt+="lat",dt+="or",pt="au",pt+="t",pt+="o",gt="T",gt+="R",gt+="I",gt+="X",ft="Stochastic Momentum ",ft+="Index",mt="au",mt+="to",vt="-1",vt+=" ",vt+="to ",vt+="1",yt="Prime Number Oscilla",yt+="tor",bt="Po",bt+="in",bt+="ts",xt="f",xt+="i",xt+="el",xt+="d",St="a",St+="u",St+="t",St+="o",kt="#",kt+="FF000",kt+="0",Ct="m",Ct+="a",wt="On",wt+=" B",wt+="alance Volume",Dt="#F",Dt+="F0",Dt+="00",Dt+="0",Tt="a",Tt+="u",Tt+="to",At="m",At+="a",Lt="aut",Lt+="o",_t="Mass",_t+=" Ind",_t+="ex",Pt="a",Pt+="u",Pt+="to",Ft="m",Ft+="a",Et="Lowes",Et+="t Low Val",Et+="ue",It="a",It+="u",It+="t",It+="o",Nt="fi",Nt+="eld",qt="#00D",qt+="D",qt+="00",Ot="#FF0",Ot+="0",Ot+="00",Ht="a",Ht+="u",Ht+="to",Rt="His",Rt+="toric",Rt+="al Volatility",Ut="au",Ut+="t",Ut+="o",zt="Hi",zt+="gh ",zt+="Low B",zt+="ands",Vt="Highe",Vt+="st Hi",Vt+="gh Value",Bt="m",Bt+="a",Wt="El",Wt+="der Ray Inde",Wt+="x",jt="Eh",jt+="ler Fisher Transform",$t="m",$t+="a",Yt="f",Yt+="i",Yt+="e",Yt+="ld",Xt="Copp",Xt+="ock C",Xt+="u",Xt+="rve",Zt="fi",Zt+="eld",Jt="a",Jt+="u",Jt+="t",Jt+="o",Gt="Chaikin ",Gt+="Mone",Gt+="y Flow",Kt="Co",Kt+="mmodity Chan",Kt+="nel",Kt+=" Index",Qt="Aroon ",Qt+="Osci",Qt+="llato",Qt+="r",te="#",te+="FF000",te+="0",ee="#",ee+="00D",ee+="D",ee+="00",ie="#FF00",ie+="0",ie+="0",ae="#00FF0",ae+="0",re="Accum",re+="ulative",re+=" Swing In",re+="dex",ne="D",ne+="oubl",ne+="eExponential",se="Hu",se+="l",se+="l",oe="hul",oe+="l",(le=t.CIQ).Studies.calculateRSI=function(t,e){var i,a,r,n,s,o,l,c,h,u;if(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),ce.a8F(),i.length<e.days+1)e.error=!0;else{for(var d=e.startFrom;d<i.length;d++)r="_av",r+="gL",r+=" ",n="RSI",n+=" ",d&&(s=i[d],ce.x$i(0),o=i[ce.J6w(d,1)],l=s[a]-o[a],c=Math.min(d,e.days),(h=o["_avgG "+e.name])||(h=0),ce.x$i(1),h-=ce.S9A(h,c),(u=o["_avgL "+e.name])||(u=0),ce.S2_(1),u-=ce.J6w(u,c),l>0?(ce.x$i(1),h+=ce.J6w(l,c)):(ce.S2_(1),u-=ce.J6w(l,c)),d>=e.days&&(s[n+e.name]=p(h,u)),s["_avgG "+e.name]=h,s[r+e.name]=u);e.zoneOutput="RSI"}function p(t,e){var i;return 0===e?100:(ce.S2_(1),i=ce.S9A(t,e),ce.a8F(),ce.x$i(2),ce.J6w(100,"100",1,i))}},le.Studies.calculateValuationLines=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x;a="D",a+="is",a+="play 3 Standard Deviation (3σ)",r="Cl",r+="o",r+="s",r+="e",n="field"==e.inputs.Field?r:e.inputs.Field,s=e.inputs["Average Type"],o=e.inputs["Display Average"],ce.N__(),l=e.inputs["Display 1 Standard Deviation (1σ)"],c=e.inputs["Display 2 Standard Deviation (2σ)"],h=e.inputs[a],u=[];for(var S=0;S<i.length;++S)i[S]&&u.push(i[S][n]);if(d=function(t,e){var i,a,r,n,s,o,l;switch(i="me",i+="an",a=t.length,r=0,n=0,ce.a8F(),s=0,e){case i:for(n=a;s<a;++s)r+=t[s];break;case"harmonic":for(r=a;s<a;++s)ce.x$i(3),n+=ce.J6w(11,3,15)/t[s];break;case"median":if(ce.x$i(1),o=Math.floor(ce.S9A(a,2)),l=t.slice().sort((function(t,e){return t>e?1:t<e?-1:(ce.a8F(),0)})),a%2==0){ce.S2_(4);var c=ce.J6w(14,6,9);r=l[o]+l[o-c],n=2}else r=l[o],n=1}return ce.x$i(1),ce.S9A(r,n)}(u,s),p=!(l||c||h)||function(t,e){var i,a;i=t.length,ce.N__(),a=0;for(var r=0;r<i;++r)a+=Math.pow(t[r]-e,2);return ce.x$i(1),Math.sqrt(ce.S9A(a,i))}(u,d),e.data={Average:o?[d]:null,"1 Standard Deviation (1σ)":l?[d+p,d-p]:null,"2 Standard Deviation (2σ)":c?[d+2*p,d-2*p]:null,"3 Standard Deviation (3σ)":h?[d+3*p,d-3*p]:null},g=p,e.parameters||(e.parameters={}),h?(ce.S2_(5),e.parameters.range=[ce.S9A(g,3,d,p),ce.J6w(3,d,g,p,ce.x$i(6))]):c?(ce.x$i(5),e.parameters.range=[ce.S9A(g,2,d,p),ce.J6w(g,"2",d,p,ce.S2_(7))]):l?(ce.S2_(8),e.parameters.range=[ce.J6w(g,d,p),ce.S9A(g,d,p,ce.x$i(9))]):o&&(ce.S2_(0),e.parameters.range=[ce.J6w(d,g),ce.S9A(g,d,ce.S2_(10))]),e.panel&&(f=t.panels[e.panel],m=t.getYAxisByName(f,e.name))){m.decimalPlaces=f.chart.yAxis.printDecimalPlaces,v={yAxis:m},t.calculateYAxisRange(f,m,e.parameters.range[0],e.parameters.range[1]),y=-42505493,b=-378690237,x=2;for(var k=1;ce.m91(k.toString(),k.toString().length,67951)!==y;k++)t.createYAxis(f,v),x+=2;ce.m91(x.toString(),x.toString().length,3097)!==b&&t.createYAxis(f,v),t.drawYAxis(f,v)}},le.Studies.displayValuationLines=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M;i="s",i+="t",i+="x_ya",i+="xis",a="A",a+="V",a+="G",r=t.panels[e.panel],n=e.getYAxis(t),ce.N__(),s=e.getContext(t),o=e.data,l=e.parameters.labels,c=e.inputs["Average Type"],h={mean:a,median:"MED",harmonic:"HAVG"},u=t.canvasStyle("ciq-valuation-average-line"),d=t.canvasStyle("ciq-valuation-deviation-line"),p=3,ce.x$i(11);var L=ce.S9A(10,8);for(var _ in g=t.getCanvasFontSize(i)+p*L,o)if(w="Av",w+="era",w+="g",w+="e",o[_])for(ce.S2_(12),f=ce.J6w(_,w),m=le.Studies.determineColor(e.outputs[_]),v=o[_],y=0;y<v.length;++y)D="σ",D+=":",D+=" ",T="l",T+="ine",A="so",A+="l",A+="id",b=v[y],(x=t.pixelFromPrice(b,r,n))<=r.top||x>=r.yAxis.bottom||(C=f?{pattern:"none"!=u.borderStyle?u.borderStyle||A:"solid",lineWidth:parseFloat(u.borderWidth)||1,opacity:parseFloat(u.opacity)||1,yAxis:n}:{pattern:"none"!=d.borderStyle&&d.borderStyle||"dashed",lineWidth:parseFloat(d.borderWidth)||1,opacity:parseFloat(d.opacity)||1,yAxis:n},t.plotLine(r.left,r.right,x,x,m,T,s,r,C),"yaxis"!==l?(x+=Math.floor(C.lineWidth/2))+g>=r.yAxis.bottom||(S=(f?h[c]+": ":_[0]+D)+t.formatYAxisPrice(b,r),k=s.measureText(S).width,M=r.right-k-p,n&&"left"==n.position&&(M=r.left+p),ce.S2_(13),s.strokeText(S,M,ce.S9A(g,x,2,1,"0.5"))):t.createYAxisLabel(r,t.formatYAxisPrice(b,r),x,m,null,s,n))},le.Studies.calculateCorrelationCoefficient=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L;i="C",i+="o",i+="mpare To",a=-948182780,r=-639399946,n=2;for(var _=1;ce.U42(_.toString(),_.toString().length,23641)!==a;_++)s=e.chart.scrubbed,n+=2;if(ce.U42(n.toString(),n.toString().length,71529)!==r&&(s=e.chart.scrubbed),o=e.days,s.length<o+1)e.error=!0;else{if(e.compare=e.inputs[i],e.compare)e.compare=[e.compare];else for(var P in e.compare=[],e.outputs={},e.outputMap={},t.chart.series)if((l=t.chart.series[P]).parameters.color){e.compare.push(l.display),e.outputs["Result "+l.display]=l.parameters.color,ce.x$i(14);var F=ce.S9A(7971,2669,11,7993,3);ce.x$i(15),ce.J6w(9,20,347,20,6237),ce.S2_(10);var E=ce.J6w(8469,605);ce.S2_(16);var I=ce.J6w(12,11,354,16,3912);ce.x$i(10);var N=ce.S9A(9,2281);e.outputMap["Result "+l.display+(812==F?E<I?N:9460:" ")+e.name]="Result "+l.display}if(e.compare.length){ce.a8F();for(var q=0;q<e.compare.length;q++){d=0,p=0,g=0,f=0,ce.x$i(17),m=ce.J6w("0",1),v=e.compare[q],y=0;for(var O=e.startFrom-o;O<s.length;O++)if(b="_t",b+="e",b+="m",b+="ps ",x="_",x+="temp",x+="s ",S="_tem",S+="ps ",k="obj",k+="ec",k+="t",s[O]){if((C=s[O][v])&&"object"==typeof C&&(C=C.Close),C||0===C||(w="_temp",w+="s ",C=O>0&&s[O-1]&&s[O-1]["_temps "+e.name]&&s[O-1]["_temps "+e.name].c?s[O-1][w+e.name].c:0),C&&typeof C==k&&(C=C.Close),s[O]["_temps "+e.name]={},d+=s[O][S+e.name].b=s[O].Close,p+=s[O][x+e.name].c=C,g+=s[O]["_temps "+e.name].b2=Math.pow(s[O].Close,2),f+=s[O]["_temps "+e.name].c2=Math.pow(C,2),m+=s[O][b+e.name].bc=s[O].Close*C,y>=o){D="_",D+="temps ",T="_tem",T+="ps ",d-=s[O-o]["_temps "+e.name].b,p-=s[O-o]["_temps "+e.name].c,g-=s[O-o]["_temps "+e.name].b2,f-=s[O-o][T+e.name].c2,m-=s[O-o][D+e.name].bc,ce.x$i(18);var H=ce.S9A(7,13,0,18);A=g/o-Math.pow(d/o,H),ce.x$i(4);var R=ce.S9A(3,3,2);M=f/o-Math.pow(p/o,R),ce.S2_(19);var U=ce.J6w(17,5,20);L=(m/o-d*p/Math.pow(o,U))/Math.sqrt(A*M),ce.S2_(20);var z=ce.J6w(155,1,4,37,148);s[O]["Result "+v+(!(422>z)||" ")+e.name]=L}y++}}}else{c=1569619957,h=-1345745904,u=2;for(var V=1;ce.m91(V.toString(),V.toString().length,49692)!==c;V++)e.error="",u+=2;ce.U42(u.toString(),u.toString().length,15412)!==h&&(e.error="Correlation Coefficient requires at least one comparison symbol")}}},le.Studies.prettify=le.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},le.Studies.prettify),le.extend(le.Studies.movingAverage,{conversions:{hma:oe,dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:se,dema:ne,"2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}}),le.Studies.calculateMovingAverageHull=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p;for(i="_H",i+="MA",a="_W",a+="M",a+="A1",r="w",r+="m",r+="a",n="fi",n+="e",n+="l",n+="d",s=e.chart.scrubbed,(o=e.inputs.Field)&&o!=n||(o="Close"),le.Studies.MA(r,e.days,o,0,a,t,e),le.Studies.MA("wma",Math.ceil(e.days/2),o,0,"_WMA2",t,e),l=e.startFrom-1;l>=0&&((c=s[l][o])&&"object"==typeof c&&(c=c[e.subField]),!c&&0!==c);l--);for(l++;l<s.length;l++){h=s[l],ce.x$i(21);var g=ce.J6w(1,4,4);h["_MMA "+e.name]=g*h["_WMA2 "+e.name]-h["_WMA1 "+e.name]}for(var f in u=parseInt(e.inputs.Offset,10),isNaN(u)&&(u=0),d=Math.floor(Math.sqrt(e.days)),le.Studies.MA("wma",d,"_MMA "+e.name,u,i,t,e),p=e.name,e.outputs)ce.S2_(9),p=ce.J6w(p,f," ");for(ce.N__(),l=Math.max(e.days+d-1,e.startFrom);l<s.length;l++)s[l][p]=s[l]["_HMA "+e.name]},le.Studies.calculateMovingAverageDoubleExponential=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f;for(i="_EM",i+="A",i+="2",a="Cl",a+="o",a+="s",a+="e",r="fi",r+="eld",n=e.chart.scrubbed,(s=e.inputs.Field)&&s!=r||(s=a),le.Studies.MA("ema",e.days,s,0,"_EMA1",t,e),le.Studies.MA("ema",e.days,"_EMA1 "+e.name,0,i,t,e),o=parseInt(e.inputs.Offset,10),isNaN(o)&&(ce.x$i(22),o=ce.J6w("0",0)),h=o,l=e.startFrom-1;l>=0;l--)if((c=n[l][s])&&"object"==typeof c&&(c=c[e.subField]),c||0===c){if(!(h>0))break;h--}for(var m in u=e.name,e.outputs)ce.S2_(9),u=ce.J6w(u,m," ");for(d=[],l++;l<n.length;l++)l<2*(e.days-1)||(p=n[l],ce.S2_(23),g=ce.J6w(0,6,4)*p["_EMA1 "+e.name]-p["_EMA2 "+e.name],l+o>=0&&(l+o<n.length?(ce.x$i(10),n[ce.J6w(o,l)][u]=g):((f={})[u]=g,d.push(f))));e.appendFutureTicks(t,d)},le.Studies.calculateMovingAverageTripleExponential=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b;for(i="_E",i+="MA3",a="_",a+="EMA2",a+=" ",r="e",r+="m",r+="a",n="_E",n+="MA2",s="_",s+="E",s+="MA1 ",o="_EM",o+="A1",l=e.chart.scrubbed,(c=e.inputs.Field)&&"field"!=c||(c="Close"),le.Studies.MA("ema",e.days,c,0,o,t,e),le.Studies.MA("ema",e.days,s+e.name,0,n,t,e),le.Studies.MA(r,e.days,a+e.name,0,i,t,e),h=parseInt(e.inputs.Offset,10),isNaN(h)&&(h=0),p=h,u=e.startFrom-1;u>=0;u--)if((d=l[u][c])&&"object"==typeof d&&(d=d[e.subField]),d||0===d){if(!(p>0))break;p--}for(var x in g=e.name,e.outputs)ce.x$i(9),g=ce.J6w(g,x," ");for(f=[],u++;u<l.length;u++)if(m="_EMA3",m+=" ",!(u<3*(e.days-1))){v=l[u],ce.S2_(24);var S=ce.J6w(12,9,282,23);y=3*v["_EMA1 "+e.name]-S*v["_EMA2 "+e.name]+v[m+e.name],u+h>=0&&(u+h<l.length?(ce.S2_(10),l[ce.J6w(h,u)][g]=y):((b={})[g]=y,f.push(b)))}e.appendFutureTicks(t,f)},le.Studies.calculateATRBands=function(t,e){var i,a;i="f",i+="ield",le.Studies.calculateStudyATR(t,e),(a=e.inputs.Field)&&a!=i||(a="Close"),le.Studies.calculateGenericEnvelope(t,e,e.inputs.Shift,a,"ATR "+e.name)},le.Studies.calculateSTARCBands=function(t,e){var i,a,r;i="A",i+="T",i+="R",i+=" ",a="M",a+="A",a+=" Per",a+="iod",ce.a8F(),r="si",r+="mp",r+="le",le.Studies.calculateStudyATR(t,e),le.Studies.MA(r,e.inputs[a],"Close",0,"_MA",t,e),le.Studies.calculateGenericEnvelope(t,e,e.inputs.Multiplier,"_MA "+e.name,i+e.name)},le.Studies.calculateATRStops=function(t,e){var i,a,r,n,s,o,l,c,h,u;if(i=e.chart.scrubbed){le.Studies.calculateStudyATR(t,e),a=e.inputs.HighLow;for(var d=Math.max(e.startFrom-1,1);d<i.length-1;d++)r=i[d],ce.x$i(0),n=i[ce.S9A(d,1)],(s=r["Buy Stops "+e.name])||(s=r["Sell Stops "+e.name]),s||(s=0),r&&n&&(l=o=r.Close,c=r["ATR "+e.name]*e.inputs.Multiplier,r.Close>s&&n.Close>s?(a&&(o=r.High),ce.S2_(0),l=Math.max(s,ce.J6w(o,c))):r.Close<=s&&n.Close<=s?(a&&(o=r.Low),ce.x$i(10),l=Math.min(s,ce.J6w(c,o))):r.Close>s?(a&&(o=r.High),ce.S2_(0),l=ce.S9A(o,c)):r.Close<=s&&(a&&(o=r.Low),ce.x$i(10),l=ce.S9A(c,o)),o<=l?(ce.x$i(10),i[ce.S9A(1,d)]["Buy Stops "+e.name]=l,ce.x$i(10),delete i[ce.J6w(1,d)]["Sell Stops "+e.name]):o>l&&(h="Buy St",h+="ops ",u="S",u+="ell Stops ",ce.x$i(10),i[ce.S9A(1,d)][u+e.name]=l,ce.x$i(10),delete i[ce.J6w(1,d)][h+e.name]),ce.S2_(25),i[ce.S9A("1",64,d)]["All Stops "+e.name]=l);e.referenceOutput="All Stops",e.outputMap={},e.outputMap["All Stops "+e.name]=""}},le.Studies.calculateAwesomeOscillator=function(t,e){var i,a,r,n,s,o;if(i="_",i+="MA",i+="3",i+="4",a="hl",a+="/2",(r=e.chart.scrubbed).length<33){ce.S2_(26),n=-ce.S9A("1120036246",32),s=-273503505,o=2;for(var l=1;ce.m91(l.toString(),l.toString().length,12497)!==n;l++)return void(e.error=!1);if(ce.U42(o.toString(),o.toString().length,20841)!==s)return void(e.error=!0)}le.Studies.MA("simple",5,a,0,"_MA5",t,e),ce.S2_(0),ce.a8F(),le.Studies.MA("simple",ce.S9A("34",0),"hl/2",0,i,t,e);for(var c=Math.max(e.startFrom,33);c<r.length;c++)r[c]&&(r[c][e.name+"_hist"]=r[c]["_MA5 "+e.name]-r[c]["_MA34 "+e.name]);e.outputMap={},e.outputMap[e.name+"_hist"]=""},le.Studies.calculateRelativeVolatility=function(t,e){var i,a,r,n,s,o,l,c,h;function u(t,e){return t+e===0?100:(ce.S2_(27),ce.S9A(e,t,100,t))}if(i="m",i+="a",e.days=Number(e.inputs["Smoothing Period"]),a=Number(e.inputs["STD Period"]),(r=e.chart.scrubbed).length<e.days+a)e.error=!0;else{if((n=e.inputs.Field)&&"field"!=n||(n="Close"),e.std=new le.Studies.StudyDescriptor(e.name,"sdev",e.panel),e.std.chart=e.chart,e.std.days=a,e.std.startFrom=e.startFrom,e.std.inputs={Field:n,"Standard Deviations":1,Type:i},e.std.outputs={STD:null},le.Studies.calculateStandardDeviation(t,e.std),s=0,o=0,e.startFrom>1){l="_",l+="avgG ",ce.S2_(11);var d=ce.J6w(14,13);s=r[e.startFrom-d][l+e.name],ce.x$i(19);var p=ce.S9A(9,0,8);o=r[e.startFrom-p]["_avgL "+e.name]}for(var g=Math.max(e.startFrom,e.days);g<r.length;g++){if(c="_",c+="av",c+="gL ",(h=r[g])[n]>r[g-1][n]){ce.x$i(28);var f=ce.J6w(9,2,1,9);s=(s*(e.days-f)+h["STD "+e.name])/e.days,ce.x$i(10);var m=ce.S9A(1,0);o=o*(e.days-m)/e.days}else{o=(o*(e.days-1)+h["STD "+e.name])/e.days,ce.S2_(19);var v=ce.S9A(19,1,19);s=s*(e.days-v)/e.days}h["Rel Vol "+e.name]=u(s,o),h["_avgG "+e.name]=s,h[c+e.name]=o}e.zoneOutput="Rel Vol"}},le.Studies.calculatePMO=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m;if(i="P",i+="M",i+="O",i+=" ",a="_ROC",a+="x10 ",r="Cl",r+="ose",n="fi",n+="eld",s="Signa",s+="l",s+=" Peri",s+="od",o="S",o+="mo",o+="othing Period",l={Smooth:Number(e.inputs[o])-1,Double:Number(e.inputs["Double Smoothing Period"])-1,Signal:Number(e.inputs[s])},(c=e.chart.scrubbed).length<l.Smooth+l.Double){h=-1727094337,u=507810437,d=2;for(var v=1;ce.U42(v.toString(),v.toString().length,58229)!==h;v++)return void(e.error=!1);if(ce.m91(d.toString(),d.toString().length,53204)!==u)return void(e.error=!0)}for((p=e.inputs.Field)&&p!=n||(p=r),g=e.startFrom;g<c.length;g++)if(c[g]&&c[g-1]&&(ce.S2_(0),f=c[ce.S9A(g,1)][p])){m="_",m+="ROCx1",m+="0 ",ce.S2_(23);var y=ce.J6w(2e3,19,1019);ce.x$i(18);var b=ce.S9A(2,10,7,18);c[g][m+e.name]=y*(c[g][p]/f-b)}le.Studies.MA("exponential",l.Smooth,a+e.name,0,"_EMAx10",t,e),ce.a8F(),le.Studies.MA("exponential",l.Double,"_EMAx10 "+e.name,0,"PMO",t,e),le.Studies.MA("exponential",l.Signal,i+e.name,0,"PMOSignal",t,e),e.zoneOutput="PMO"},le.Studies.calculateElderImpulse=function(t,e){var i,a,r,n,s,o,l,c;i=e.chart.scrubbed,a=e.outputs.Bullish,r=e.outputs.Bearish,n=e.outputs.Neutral,le.Studies.MA("exponential",13,"Close",0,"_MA",t,e),ce.x$i(29),ce.S9A(5966,6,6,13,29722),ce.S2_(30),ce.S9A(5,7271,519),ce.x$i(31),ce.J6w(2,157e3,7839,39250,9),e.macd=new le.Studies.StudyDescriptor("_"+e.name,"macd",e.panel),e.macd.chart=e.chart,e.macd.days=e.days,e.macd.startFrom=e.startFrom,e.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},e.macd.outputs={_MACD:null,_Signal:null},le.Studies.calculateMACD(t,e.macd);for(var h=e.startFrom;h<i.length;h++)o="_",o+="hi",o+="s",o+="t",l="_",l+="MA",l+=" ",c="_",c+="M",c+="A",c+=" ",s=0===h?n:i[h][c+e.name]>i[h-1]["_MA "+e.name]&&i[h]["_"+e.name+"_hist"]>i[h-1]["_"+e.name+"_hist"]?a:i[h]["_MA "+e.name]<i[h-1][l+e.name]&&i[h]["_"+e.name+"_hist"]<i[h-1]["_"+e.name+o]?r:n,i[h]["Result "+e.name]=s},le.Studies.calculatePivotPoints=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S;function k(e){var i,a;return i=c?"America/New_York":t.chart.market.market_tz,a=new Date(e.getTime()+6e4*e.getTimezoneOffset()),i&&-1!=i.indexOf("UTC")||(a=le.convertTimeZone(a,"UTC",i)),new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()).getTime()-e.getTime()}function C(){ce.S2_(32);var t=ce.J6w(13,10,4,14,15);ce.S2_(0);var e=ce.S9A(51,48);d.pivotPoint=(d.high+d.low+s[w-t].Close)/e,d.prevHigh=d.high,ce.N__(),d.prevLow=d.low,d.hlSpread=d.high-d.low,d.high=d.low=0}i="mi",i+="l",i+="l",i+="isecond",a="m",a+="ill",a+="isecond",r="m",r+="onth",n="d",n+="a",n+="y",s=e.chart.scrubbed,o="day",t.layout.interval==n?o=r:le.ChartEngine.isDailyInterval(t.layout.interval)?o="year":"second"==t.layout.interval||t.layout.interval==a||"second"==t.layout.timeUnit||t.layout.timeUnit==i?o="15min":(l=t.layout.periodicity,"minute"!=t.layout.interval&&(l*=t.layout.interval),l>=30&&(o="week")),c=le.Market.Symbology.isForexSymbol(t.chart.symbol),h=le.Market.Symbology.isForexMetal(t.chart.symbol),ce.N__(),u=null,d={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0},e.startFrom>1&&s[e.startFrom-1]["_pointers "+e.name]&&(d=le.clone(s[e.startFrom-1]["_pointers "+e.name]));for(var w=Math.max(1,e.startFrom);w<s.length;w++)if(p="m",p+="o",p+="nth",s[w-1]){if(d.high=Math.max(d.high,s[w-1].High),d.low=Math.min(d.low>0?d.low:s[w-1].Low,s[w-1].Low),e.inputs.Continuous||"year"==o&&s[w].DT.getYear()!=s[w-1].DT.getYear()||o==p&&s[w].DT.getMonth()!=s[w-1].DT.getMonth()||"week"==o&&s[w].DT.getDay()<s[w-1].DT.getDay()?C():"day"==o?(null===u&&(u=k(s[w].DT),c&&(ce.S2_(33),u+=ce.S9A(1e3,h?6:7,"60",32,60))),g=new Date(new Date(+s[w].DT).setMilliseconds(s[w].DT.getMilliseconds()+u)),(f=new Date(new Date(+s[w-1].DT).setMilliseconds(s[w-1].DT.getMilliseconds()+u))).getDate()!==g.getDate()&&0!==f.getDay()&&t.chart.market.isMarketDate(g)&&(u=null,C())):"15min"!=o||s[w].DT.getHours()==s[w-1].DT.getHours()&&Math.floor(s[w].DT.getMinutes()/15)==Math.floor(s[w-1].DT.getMinutes()/15)||C(),s[w]["Pivot "+e.name]=d.pivotPoint,"fibonacci"==e.inputs.Type.toLowerCase())m="Support ",m+="3",m+=" ",v="Re",v+="sis",v+="tanc",v+="e 3 ",y="Resist",y+="ance 2 ",b="Res",b+="istance",b+=" 1",b+=" ",s[w][b+e.name]=d.pivotPoint+.382*d.hlSpread,s[w][y+e.name]=d.pivotPoint+.618*d.hlSpread,s[w][v+e.name]=d.pivotPoint+d.hlSpread,s[w]["Support 1 "+e.name]=d.pivotPoint-.382*d.hlSpread,s[w]["Support 2 "+e.name]=d.pivotPoint-.618*d.hlSpread,s[w][m+e.name]=d.pivotPoint-d.hlSpread;else{x="Suppo",x+="rt 1 ",S="Res",S+="istance 1 ",ce.x$i(34);var D=ce.S9A(13,12,18,5);s[w][S+e.name]=D*d.pivotPoint-d.prevLow,s[w]["Resistance 2 "+e.name]=d.pivotPoint+d.hlSpread,ce.x$i(19);var T=ce.S9A(3,1,2);s[w]["Resistance 3 "+e.name]=d.prevHigh+T*(d.pivotPoint-d.prevLow),ce.x$i(35);var A=ce.J6w(19,17,6,9,3);s[w][x+e.name]=A*d.pivotPoint-d.prevHigh,s[w]["Support 2 "+e.name]=d.pivotPoint-d.hlSpread,ce.S2_(19);var M=ce.J6w(5,0,3);s[w]["Support 3 "+e.name]=d.prevLow-M*(d.prevHigh-d.pivotPoint)}s[w]["_pointers "+e.name]=le.clone(d)}},le.Studies.calculateMFI=function(t,e){var i,a,r,n,s,o,l,c,h,u;if(i="_his",i+="t",a="Sca",a+="le F",a+="actor",r=e.chart.scrubbed,s=0,(o=e.inputs[a])||(o=e.study.inputs["Scale Factor"]),ce.x$i(22),l=Math.pow(ce.S9A("10",0),Number(o)),e.startFrom>1){ce.x$i(36);var d=ce.S9A(2,10,16,79);s=r[e.startFrom-d]["_high "+e.name]}for(c=e.startFrom;c<r.length;c++)r[c]&&r[c].Volume&&(h="_h",h+="i",h+="gh",h+=" ",u="_",u+="hist",r[c][e.name+u]=n=l*(r[c].High-r[c].Low)/r[c].Volume,r[c][h+e.name]=s=Math.max(s,n));e.outputMap={},e.outputMap[e.name+i]=""},le.Studies.calculateAlligator=function(t,e){var i,a,r,n,s,o,l,c,h;if(ce.N__(),i={J:Number(e.inputs["Jaw Period"]),T:Number(e.inputs["Teeth Period"]),L:Number(e.inputs["Lips Period"])},(a=e.chart.scrubbed).length<Math.max(i.J,i.T,i.L)+1)e.error=!0;else{("Gator"===e.type||e.inputs["Show Lines"])&&(r="Lips",r+=" O",r+="ffse",r+="t",le.Studies.MA("welles wilder",i.J,"hl/2",e.inputs["Jaw Offset"],"Jaw",t,e),le.Studies.MA("welles wilder",i.T,"hl/2",e.inputs["Teeth Offset"],"Teeth",t,e),le.Studies.MA("welles wilder",i.L,"hl/2",e.inputs[r],"Lips",t,e));for(var u=e.startFrom;u<a.length;u++)if(a[u]&&("Gator"==e.type&&(n="J",n+="a",n+="w",n+=" ",s=a[u][n+e.name],o=a[u]["Lips "+e.name],((l=a[u]["Teeth "+e.name])||0===l)&&(c="_h",c+="i",c+="s",c+="t2",(s||0===s)&&(ce.x$i(0),a[u][e.name+"_hist1"]=Math.abs(ce.J6w(s,l))),(o||0===o)&&(ce.x$i(0),a[u][e.name+c]=-Math.abs(ce.J6w(l,o)))),e.outputMap={},e.outputMap[e.name+"_hist1"]="",e.outputMap[e.name+"_hist2"]=""),e.inputs["Show Fractals"])){if(!(a[u-2]&&a[u-1]&&a[u]&&a[u+1]&&a[u+2]))continue;a[u-2].High&&a[u-1].High&&a[u].High&&a[u+1].High&&a[u+2].High&&a[u].High>a[u-1].High&&a[u].High>a[u-2].High&&a[u].High>a[u+1].High&&a[u].High>a[u+2].High&&(h="Fractal",h+=" H",h+="ig",h+="h ",a[u][h+e.name]=1),a[u-2].Low&&a[u-1].Low&&a[u].Low&&a[u+1].Low&&a[u+2].Low&&a[u].Low<a[u-1].Low&&a[u].Low<a[u-2].Low&&a[u].Low<a[u+1].Low&&a[u].Low<a[u+2].Low&&(a[u]["Fractal Low "+e.name]=1)}}},le.Studies.calculateRelativeVigor=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g;if(i="_",i+="h",i+="is",i+="t",a="RelVig",a+="S",a+="ig",a+="nal",r="triangul",r+="a",r+="r",n="_R",n+="a",n+="ng",n+="e ",s="_N",s+="ume",s+="r",(o=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(l=e.startFrom;l<o.length;l++)c="_",c+="Ch",c+="ange",c+=" ",o[l][c+e.name]=o[l].Close-o[l].Open,o[l]["_Range "+e.name]=o[l].High-o[l].Low;for(ce.S2_(0),le.Studies.MA("triangular",ce.J6w("4",0),"_Change "+e.name,0,s,t,e),le.Studies.MA("triangular",4,n+e.name,0,"_Denom",t,e),h=[],u=[],l=Math.max(e.startFrom-e.days,0);l<o.length;l++){for(h.push(o[l]["_Numer "+e.name]),u.push(o[l]["_Denom "+e.name]),h.length>e.days&&(h.shift(),u.shift()),d=0,p=0,g=0;g<h.length;g++)d+=h[g];for(g=0;g<u.length;g++)p+=u[g];0===p&&(p=1e-8),l<e.startFrom||(ce.S2_(1),o[l]["Rel Vig "+e.name]=ce.J6w(d,p))}for(le.Studies.MA(r,4,"Rel Vig "+e.name,0,a,t,e),l=e.startFrom;l<o.length;l++)o[l][e.name+"_hist"]=o[l]["Rel Vig "+e.name]-o[l]["RelVigSignal "+e.name];e.outputMap[e.name+i]=""}},le.Studies.calculateUlcerIndex=function(t,e){var i,a,r,n;if(i="sim",i+="p",i+="l",i+="e",(a=e.chart.scrubbed).length<2*e.days-1)e.error=!0;else{for((r=e.inputs.Field)&&"field"!=r||(r="Close"),n=Math.max(e.startFrom,e.days-1);n<a.length;n++)a[n]["_PD2 "+e.name]=Math.pow(100*(a[n][r]/s(e.days,n,r)-1),2);for(le.Studies.MA(i,e.days,"_PD2 "+e.name,0,"_MA",t,e),n=Math.max(e.startFrom,2*(e.days-1));n<a.length;n++)a[n]["Result "+e.name]=Math.sqrt(a[n]["_MA "+e.name])}function s(t,e,i){var r;r=null;for(var n=e-t+1;n<=e;n++)n<0||(r=null===r?a[n][i]:Math.max(r,a[n][i]));return ce.a8F(),r}},le.Studies.calculateChoppiness=function(t,e){var i,a,r,n,s,o;if(le.Studies.calculateStudyATR(t,e),(i=e.chart.scrubbed).length<e.days+1){a=850957562,r=-1055527085,n=2;for(var l=1;ce.m91(l.toString(),l.toString().length,22209)!==a;l++)e.error=!1,ce.S2_(37),n+=ce.S9A(2,"2");ce.U42(n.toString(),n.toString().length,9332)!==r&&(e.error=!0)}else for(var c=Math.max(e.startFrom,e.days);c<i.length;c++)if(i[c])if(s=d(e.days,c),i[c]["Sum True Range "+e.name]){ce.x$i(10);var h=ce.J6w(11,89);ce.S2_(23);var u=ce.J6w(0,7,6);i[c]["Result "+e.name]=h*Math.log(i[c]["Sum True Range "+e.name]/Math.max(1e-6,s[u]-s[0]))/Math.log(e.days)}else o="Res",o+="ul",o+="t ",i[c][o+e.name]=0;function d(t,e){var a,r;ce.x$i(38),ce.a8F();var n=ce.S9A(6,12,6,13);a=Number.MAX_VALUE*n,r=Number.MAX_VALUE;for(var s=e-t+1;s<=e;s++)s<0||(a=Math.max(a,i[s].High),r=Math.min(r,i[s].Low));return[r,a]}},le.Studies.calculateDisparity=function(t,e){var i,a,r,n,s;i=-1166894677,a=2041874515,r=2;for(var o=1;ce.m91(o.toString(),o.toString().length,76815)!==i;o++)n=e.chart.scrubbed,r+=2;if(ce.m91(r.toString(),r.toString().length,714)!==a&&(n=e.chart.scrubbed),(n=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(s=e.inputs.Field)&&"field"!=s||(s="Close"),le.Studies.MA(e.inputs["Moving Average Type"],e.days,s,0,"_MA",t,e);for(var l=Math.max(e.startFrom,e.days-1);l<n.length;l++)if(n[l]){ce.x$i(39);var c=ce.J6w(19,29,116,24);n[l]["Result "+e.name]=c*(n[l][s]/n[l]["_MA "+e.name]-1)}}},le.Studies.calculateRainbow=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g;if(i="Clo",i+="s",i+="e",(a=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(r=e.inputs.Field)&&"field"!=r||(r=i),n=r;for(var f=1;f<=10;f++)s="S",s+="MA",o="S",o+="M",o+="A",le.Studies.MA("simple",e.days,n,0,o+f,t,e),n=s+f+" "+e.name;for(var m=Math.max(e.startFrom,10);m<a.length;m++)if(a[m]){l=0,ce.x$i(40);var v=ce.J6w(10,3,7,2);for(c=Number.MAX_VALUE*v,h=Number.MAX_VALUE,f=1;f<=10;f++)ce.x$i(41),ce.S9A(5,609,12,12),ce.x$i(42),ce.S9A(3,76,15,0),ce.S2_(10),ce.J6w(265,24),l+=u=a[m]["SMA"+f+" "+e.name],c=Math.max(c,u),h=Math.min(h,u);if(e.name.indexOf("Osc")>-1){d="Und",d+="er ",p=k(e.inputs["HHV/LLV Lookback"],m),ce.S2_(19);var y=ce.S9A(99,17,16);ce.S2_(0);var b=ce.S9A(150,140);a[m][e.name+"_hist"]=y*(a[m][r]-l/b)/Math.max(1e-6,p[1]-p[0]),ce.x$i(43);var x=ce.S9A(19,10,6,18,103);ce.S2_(23);var S=ce.S9A(0,4,3);a[m]["Over "+e.name]=x*(c-h)/Math.max(1e-6,p[S]-p[0]),a[m][d+e.name]=-a[m]["Over "+e.name],a[m]["Zero "+e.name]=0}}e.name.indexOf("Osc")>-1&&(g="Un",g+="de",g+="r ",e.outputMap={},e.outputMap["Over "+e.name]="Positive Bar",e.outputMap[g+e.name]="Negative Bar",e.outputMap["Zero "+e.name]="",e.outputMap[e.name+"_hist"]="")}function k(t,e){var i,r;i=-1*Number.MAX_VALUE,ce.a8F(),r=Number.MAX_VALUE;for(var n=e-t+1;n<=e;n++)n<0||(i=Math.max(i,a[n].Close),r=Math.min(r,a[n].Close));return[r,i]}},le.Studies.calculateKST=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g;for(i="s",i+="im",i+="pl",i+="e",a="Light Rate of Change Per",a+="iod",r="Lightest R",r+="ate of Chan",r+="ge Per",r+="iod",n="fi",n+="e",n+="l",n+="d",s=e.chart.scrubbed,o=e.inputs.Field,ce.N__(),o&&o!=n||(o="Close"),c={},(l={})[1]=Number(e.inputs[r]),ce.x$i(22),l[ce.J6w("2",0)]=Number(e.inputs[a]),l[3]=Number(e.inputs["Heavy Rate of Change Period"]),l[4]=Number(e.inputs["Heaviest Rate of Change Period"]),c[1]=Number(e.inputs["Lightest SMA Period"]),c[2]=Number(e.inputs["Light SMA Period"]),c[3]=Number(e.inputs["Heavy SMA Period"]),c[4]=Number(e.inputs["Heaviest SMA Period"]),h=Number(e.inputs["Signal Period"]),u=e.startFrom;u<s.length;u++)if(s[u])for(d=1;d<=4;d++)if(u>=l[d]&&s[u-l[d]]&&s[u-l[d]][o]){ce.x$i(44),ce.J6w(20,167480,8815),ce.S2_(8);var f=ce.S9A(75459,79440,9);ce.x$i(16),ce.J6w(17,12,6632,15,106151),ce.x$i(21);var m=ce.J6w(1289,1283,1283);ce.S2_(21);var v=ce.S9A(7819,1,711);ce.S2_(45);var y=ce.S9A(13,1,8,6,524);s[u]["_ROC"+d+(f>=m?" ":v)+e.name]=y*(s[u][o]/s[u-l[d]][o]-1)}for(d=1;d<=4;d++)le.Studies.MA("simple",c[d],"_ROC"+d+" "+e.name,0,"_SMA"+d,t,e);for(u=e.startFrom;u<s.length;u++)for(p="_",p+="S",p+="M",p+="A",g="K",g+="ST",g+=" ",s[u][g+e.name]=0,d=1;d<=4;d++)s[u]["KST "+e.name]+=d*s[u][p+d+" "+e.name];le.Studies.MA(i,h,"KST "+e.name,0,"KSTSignal",t,e)},le.Studies.calculateSpecialK=function(t,e){var i,a,r,n,s,o,l,c,h,u;for(i=e.chart.scrubbed,(a=e.inputs.Field)&&"field"!=a||(a="Close"),(r=e.inputs.Interval)||(r="daily"),n={daily:[10,15,20,30,50,65,75,100,195,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]},s={daily:[10,10,10,15,50,65,75,100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,26,26,26,39]},ce.a8F(),o=e.startFrom;o<i.length;o++)if(i[o])for(l=0;l<n[r].length;l++)if(o>=n[r][l]&&i[o-n[r][l]]&&i[o-n[r][l]][a]){ce.x$i(38);var d=ce.J6w(59823,63360,3,20);ce.x$i(46),ce.J6w(9,6563,6578,13,6565),ce.S2_(47);var p=ce.J6w(8,9,9,10,18);ce.S2_(48);var g=ce.S9A(18,292,16,3);i[o]["_ROC"+l+(710.54>d?787.94=="8736"*p||"g":" ")+e.name]=100*(i[o][a]/i[o-n[r][l]][a]-g)}for(l=0;l<s[r].length;l++)c="exp",c+="o",c+="nent",c+="ial",le.Studies.MA("daily"==r?"simple":c,s[r][l],"_ROC"+l+" "+e.name,0,"_MA"+l,t,e);for(o=e.startFrom;o<i.length;o++)for(h="R",h+="esu",h+="lt ",i[o][h+e.name]=0,l=0;l<s[r].length;l++){u="_",u+="M",u+="A",ce.x$i(49);var f=ce.J6w(1,16,12);ce.x$i(50);var m=ce.J6w(9,1,6,13,17);i[o]["Result "+e.name]+=(l%f+m)*i[o][u+l+" "+e.name]}},le.Studies.calculateDarvas=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_;i="L",i+="oss",a="******",a+="***********",r=e.chart.scrubbed,n=0,s=parseInt(e.inputs["ATH Lookback Period"],10),e.inputs["Volume Spike"]&&le.Studies.MA("simple",s,"Volume",0,"ADV",t,e),ce.x$i(0);var P=ce.J6w(1600,1500);for(o=parseFloat(e.inputs["Volume % of Avg"])/P,l="none",c={},h=null,u=null,d=null,p=parseFloat(e.inputs["Level Offset"]),(g=!1)&&console.log(a),m={},["Darvas","Ghost","Profit",i,"ATH","ADV","Spike"].forEach((function(t){ce.x$i(51);var i=ce.S9A(51,5,506,28);ce.x$i(36);var a=ce.S9A(28,14,8,3);ce.a8F(),ce.x$i(52);var r=ce.S9A(49504,5,46592,4,20);ce.S2_(0);var n=ce.S9A(199600,189620);ce.S2_(53),ce.J6w(6,948,930,9,158),ce.x$i(54),ce.J6w(20,160,512,2552,8),ce.S2_(10);var s=ce.J6w(4437,739);ce.x$i(55),ce.J6w(42477,4,11,16,2830),m[t]=t+(461.14>=i?"1.28e+3"*a:r<=n?" ":s)+e.name})),f=e.startFrom-1;f>0;f--){if(!(v=r[f])[m.Darvas]&&!v[m.Ghost]){n=v[m.ATH]||0,u=v[m.Profit],d=v[m.Loss];break}for(var F in m)v[F]=null}for(;f<r.length;f++)if(y=r[f]){if(parseFloat(e.inputs["Price Minimum"])<=r[n].Close){if(b="d",b+="a",b+="r",b+="vas",!h||h.End&&f!=h.End+1||(r[f-1].Close>c.High?c={State:1,High:2*c.High-c.Low,Low:c.High,Start:f,End:2*c.End-c.Start+1}:h=null,h&&(y[m.Ghost]=le.clone(c),g&&console.log("Ghost begin:"+y.DT),c.State=0,r[c.End]&&(r[c.End][m.Ghost]=le.clone(c),g&&console.log("Ghost end:"+r[c.End].DT)),h={Start:c.Start,End:c.End},u=c.High+p,(!d||d<c.Low-p)&&(d=c.Low-p))),y[m.Profit]=u,y[m.Loss]=d,(y.Close>=u||"high/low"==e.inputs["Exit Field"]&&y.High>=u)&&(u=null),"none"==l&&f==n+3&&!r[n+2][m.Darvas]&&!r[n+1][m.Darvas]&&!r[n][m.Darvas]&&r[n].High>y.High&&(l="high"),"high"==l&&(y.High>r[n].High?(x="n",x+="o",l=x+="ne"):r[f-3].Low<r[f-2].Low&&r[f-3].Low<r[f-1].Low&&r[f-3].Low<y.Low&&(S="Dar",S+="vas begin:",c={State:1,High:r[n].High,Low:r[f-3].Low,Start:n},r[n][m.Darvas]=le.clone(c),l="darvas",g&&console.log(S+r[n].DT),g&&console.log("Darvas established:"+y.DT),h&&(k="Gh",k+="ost e",k+="n",k+="d:",h.End>f&&r[h.Start]&&(y[m.Ghost]=le.clone(r[h.Start][m.Ghost]),y[m.Ghost].End=f,r[h.End]&&(delete r[h.End][m.Ghost],g&&console.log("Ghost End removed:"+r[h.End].DT))),y[m.Ghost].State=0,r[h.Start][m.Ghost].End=f,g&&console.log(k+y.DT),h=null),u=c.High+p,(!d||d<c.Low-p)&&(d=c.Low-p))),l==b&&(C="no",C+="n",C+="e",w="no",w+="ne",D="h",D+="igh/lo",D+="w",T="hi",T+="gh",T+="/low",y.Close>c.High||e.inputs["Exit Field"]==T&&y.High>c.High?h={}:y.Close<c.Low?l="none":e.inputs["Exit Field"]==D&&y.Low<c.Low&&(l=w),h?l=C:"none"==l&&(u=null,d=null),e.inputs["Ghost Boxes"]||(h=null),"none"==l)){for(var E=c.Start+1;E<f;E++)r[E][m.Darvas]=le.clone(c);c.State=0,c.End=f,y[m.Darvas]=le.clone(c),g&&console.log("Darvas end:"+y.DT),y[m.ATH]=n;continue}d&&(A="hig",A+="h/",A+="lo",A+="w",(y.Close<c.Low||e.inputs["Exit Field"]==A&&y.Low<c.Low)&&(M="n",M+="on",M+="e","darvas"==l&&(l=M),(y.Close<d||"high/low"==e.inputs["Exit Field"]&&y.Low<d)&&(u=null,d=null),h&&(h.End>f&&r[h.Start]&&(y[m.Ghost]=le.clone(r[h.Start][m.Ghost]),y[m.Ghost].End=f,r[h.End]&&(delete r[h.End][m.Ghost],g&&console.log("Ghost End removed:"+r[h.End].DT))),y[m.Ghost].State=0,r[h.Start][m.Ghost].End=f,g&&console.log("Ghost end:"+y.DT),h=null)))}if(y.High>=r[n].High&&(L="A",L+="ll Time Hi",L+="gh:",n=f,g&&console.log(L+y.DT)),(f<3||y.High>=r[f-1].High&&y.High>=r[f-2].High&&y.High>=r[f-3].High)&&f-n>=s){_="All Time H",_+="igh:",n=f;for(var I=0;I<s&&!(f-I<0);I++)r[f-I].High>r[n].High&&(ce.S2_(0),n=ce.S9A(f,I));g&&console.log(_+y.DT)}e.inputs["Volume Spike"]&&f>s&&f==n&&y[m.ADV]*o<y.Volume&&(y[m.Spike]=1,g&&console.log("Volume Spike:"+y.DT)),y[m.ATH]=n}},le.Studies.calculateSupertrend=function(t,e){var i,a,r,n,s,o,l,c,h;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{ce.N__(),le.Studies.calculateStudyATR(t,e);for(var u=e.startFrom;u<i.length;u++)if(a="_",a+="Direc",a+="tion ",r="_D",r+="irec",r+="tio",r+="n ",n=i[u]){ce.S2_(56);var d=ce.S9A(97,5,0,19);s=(n.High+n.Low)/d,o=e.inputs.Multiplier*n["ATR "+e.name],ce.S2_(0),l=ce.J6w(s,o),ce.S2_(10),c=ce.S9A(o,s),u&&(i[u-1]&&i[u-1].Close&&i[u-1].Close>i[u-1]["_Uptrend "+e.name]&&i[u-1]["_Uptrend "+e.name]>l&&(ce.S2_(0),l=i[ce.S9A(u,1)]["_Uptrend "+e.name]),i[u-1]&&i[u-1].Close&&i[u-1].Close<i[u-1]["_Downtrend "+e.name]&&i[u-1]["_Downtrend "+e.name]<c&&(ce.x$i(0),c=i[ce.S9A(u,1)]["_Downtrend "+e.name])),ce.x$i(26),n[r+e.name]=ce.J6w("1",64),u&&(h="_D",h+="irection ",ce.x$i(57),n[h+e.name]=i[ce.S9A("1",u,0)]["_Direction "+e.name],n.Close>i[u-1]["_Downtrend "+e.name]?n["_Direction "+e.name]=1:n.Close<i[u-1]["_Uptrend "+e.name]&&(n["_Direction "+e.name]=-1)),n["_Uptrend "+e.name]=l,n["_Downtrend "+e.name]=c,n["Trend "+e.name]=n[a+e.name]>0?l:c}e.outputMap={},e.outputMap["Trend "+e.name]=""}},le.Studies.calculatePriceRelative=function(t,e){var i,a,r,n,s,o,l;if(i="]",i+="/",i+="[",a=e.chart.scrubbed,(r=e.inputs["Comparison Symbol"].toUpperCase())||(r=e.study.inputs["Comparison Symbol"]),(n={})[s=(s=t.chart.symbol||"").replace(/[=+\-*\\%]/g,"")]=a.slice(e.startFrom),n[s].length){s!=r&&(n[r]=null),ce.S2_(58),o=le.computeEquationChart(ce.S9A("[",r,"]",s,i),n),l=0;for(var c=e.startFrom;c<a.length&&l<o.length;c++){for(;l<o.length&&a[c].DT.getTime()>o[l].DT.getTime();)l++;a[c].DT.getTime()<o[l].DT.getTime()||(a[c]["Result "+e.name]=o[l].Close,l++)}}},le.Studies.calculatePerformance=function(t,e){var i,a,r,n,s,o;if(i="_MA C",i+="omp",a="m",ce.N__(),a+="a",r=e.chart.scrubbed,(n=e.inputs["Comparison Symbol"].toUpperCase())||(n=e.study.inputs["Comparison Symbol"]),e.days||(e.days=e.study.inputs.Period),r.length<e.days+1)e.error=!0;else{le.Studies.MA("ma",e.days,"Close",0,"_MA Base",t,e),le.Studies.MA(a,e.days,n,0,i,t,e);for(var l=e.startFrom;l<r.length;l++)s="_MA Com",s+="p ",(o=r[l][n])&&(o.Close||0===o.Close)&&(o=o.Close),r[l]["Result "+e.name]=r[l].Close/o*(r[l][s+e.name]/r[l]["_MA Base "+e.name])}},le.Studies.calculateBeta=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p;if(i="m",i+="a",ce.a8F(),a="_CO",a+="V",a+="A",a+="R",r="_MA C",r+="o",r+="m",r+="p",n="m",n+="a",s="_B",s+="aseChan",s+="ge ",o=e.chart.scrubbed,(l=e.inputs["Comparison Symbol"].toUpperCase())||(l=e.study.inputs["Comparison Symbol"]),e.days||(e.days=e.study.inputs.Period),o.length<e.days+1)e.error=!0;else{for(var g=Math.max(e.startFrom,1);g<o.length;g++){ce.x$i(23);var f=ce.S9A(4,13,16);o[g]["_BaseChange "+e.name]=o[g].Close/o[g-f].Close-1,(c=o[g][l])&&(c.Close||0===c.Close)&&(c=c.Close),ce.S2_(0),(h=o[ce.S9A(g,1)][l])&&(h.Close||0===h.Close)&&(h=h.Close),ce.x$i(49),o[g]["_CompChange "+e.name]=ce.J6w(h,c,1)}for(le.Studies.MA("ma",e.days,s+e.name,0,"_MA Base",t,e),le.Studies.MA(n,e.days,"_CompChange "+e.name,0,r,t,e),g=Math.max(e.startFrom,e.days);g<o.length;g++)u="_CompC",u+="hange ",d="_B",d+="a",d+="seChange ",o[g]["_COVARn "+e.name]=(o[g][d+e.name]-o[g]["_MA Base "+e.name])*(o[g]["_CompChange "+e.name]-o[g]["_MA Comp "+e.name]),o[g]["_VARn "+e.name]=Math.pow(o[g][u+e.name]-o[g]["_MA Comp "+e.name],2);for(le.Studies.MA("ma",e.days,"_COVARn "+e.name,0,a,t,e),le.Studies.MA(i,e.days,"_VARn "+e.name,0,"_VAR",t,e),g=Math.max(e.startFrom,2*e.days-1);g<o.length;g++)p="_V",p+="A",p+="R ",o[g]["Result "+e.name]=o[g]["_COVAR "+e.name]/o[g][p+e.name]}},le.Studies.calculateVortex=function(t,e){var i,a,r,n,s,o,l,c,h,u,d;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.error=!0;else{r={tr:0,vmPlus:0,vmMinus:0},ce.a8F(),e.startFrom>1&&(r=le.clone(i[e.startFrom-1]["_totals "+e.name]));for(var p=Math.max(e.startFrom,1);p<i.length;p++)n="_t",n+="ota",n+="ls ",s="_V",s+="MMinus",s+=" ",o=i[p],ce.x$i(0),l=i[ce.S9A(p,1)],c=Math.abs(o.High-l.Low),h=Math.abs(o.Low-l.High),u=Math.max(o.High,l.Close)-Math.min(o.Low,l.Close),r.tr+=u,r.vmPlus+=c,r.vmMinus+=h,p>a&&(d="_V",d+="M",d+="Mi",d+="nus ",ce.S2_(0),r.tr-=i[ce.S9A(p,a)]["_True Range "+e.name],ce.S2_(0),r.vmPlus-=i[ce.J6w(p,a)]["_VMPlus "+e.name],ce.x$i(0),r.vmMinus-=i[ce.J6w(p,a)][d+e.name]),o["_True Range "+e.name]=u,o["_VMPlus "+e.name]=c,o[s+e.name]=h,p>=a&&(o["+VI "+e.name]=r.vmPlus/r.tr,o["-VI "+e.name]=r.vmMinus/r.tr),o[n+e.name]=le.clone(r)}},le.Studies.calculateBalanceOfPower=function(t,e){var i,a,r,n;if(i="R",i+="e",i+="sult",(a=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(var s=e.startFrom;s<a.length;s++)r="_",r+="Ratio ",(n=a[s])[r+e.name]=n.Close-n.Open,n.High-n.Low!=0&&(n["_Ratio "+e.name]/=n.High-n.Low);le.Studies.MA(e.inputs["Moving Average Type"],e.days,"_Ratio "+e.name,0,i,t,e)}},le.Studies.calculateTrendIntensity=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p;function g(t,e){return Math.abs(e)<1e-8?100:(ce.x$i(59),ce.S9A(t,100,100,1,e))}if(i="T",i+="I",i+="I ",a="m",a+="a",(r=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for((n=e.inputs.Field)&&"field"!=n||(n="Close"),ce.a8F(),le.Studies.MA(a,e.days,n,0,"_SMA",t,e),s=0,o=0,h=[],u=Math.ceil(e.days/2),l=Math.max(0,e.startFrom-u);l<r.length;l++)d="T",d+="II ",p="_S",p+="MA ",(r[l][p+e.name]||0===r[l]["_SMA "+e.name])&&((c=r[l][n]-r[l]["_SMA "+e.name])<0?(ce.S2_(60),o+=ce.J6w("1",c)):s+=c,h.push(c),h.length>u&&((c=h.shift())<0?(ce.x$i(61),o-=ce.J6w(1,c)):s-=c),l<e.startFrom||(r[l][d+e.name]=g(s,o)));le.Studies.MA("ema",e.inputs["Signal Period"],i+e.name,0,"Signal",t,e)}},le.Studies.calculateZigZag=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k;if(i="L",i+="o",i+="w",ce.N__(),a="Distance(",a+="%",a+=")",(r=e.chart.scrubbed)&&r.length){n=e.highLowChart,s=null,o=null,l=e.inputs[a],c=0,ce.S2_(37),h=ce.S9A(0,"0"),u=0,d=null,p=null,g=0;for(var C=Math.min(r.length-1,e.startFrom);C>=0;C--)if(g=C,r[C]["_state "+e.name]){s=(f=r[C]["_state "+e.name])[0],o=f[1],c=f[2],h=f[3],u=f[4],d=f[5],p=f[6];break}for(var w=g;w<r.length;w++){if(m="Lo",m+="w",v=r[w][n?"High":"Close"],y=r[w][n?m:"Close"],null===o||o<v)if(o=v,c<0&&(s=y),ce.x$i(62),d=ce.S9A(1,100,o,l),c>-1){if(null!==p&&o>p){b="L",b+="ow",r[h]["Result "+e.name]=r[h][n?b:"Close"],T(u,h),c=-1,s=y,u=h,h=w;continue}}else h=w;if(null===s||s>y)if(s=y,c>0&&(o=v),ce.x$i(63),p=ce.S9A(100,l,1,s),c<1){if(null!==d&&s<d){x="Re",x+="su",x+="lt ",r[h][x+e.name]=r[h][n?"High":"Close"],T(u,h),c=1,o=v,u=h,h=w;continue}}else h=w}r[h]["Result "+e.name]=r[h][n?1==c?i:"High":"Close"],r[h]["_state "+e.name]=[s,o,c,h,u,d,p],T(u,h),ce.x$i(3);var D=ce.J6w(14,11,26);for(S=r.length-D;S>h;){if(r[S].Close||0===r[S].Close){k="L",k+="o",k+="w",r[S]["Result "+e.name]=r[S][n?1==c?"High":k:"Close"];break}S--}T(h,S)}function T(t,i){for(var a,n=t+1;n<i;n++)a="Result",a+=" ",r[n]["ShadowResult "+e.name]=(r[i]["Result "+e.name]-r[t]["Result "+e.name])*(n-t)/(i-t)+r[t]["Result "+e.name],delete r[n][a+e.name]}},le.Studies.calculatePsychologicalLine=function(t,e){var i,a,r,n,s;if(ce.N__(),(i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{a=[],r=100/e.days,n=0;for(var o=Math.max(e.startFrom-e.days,1);o<i.length;o++)(s=Number(i[o].Close>i[o-1].Close))&&(n+=r),a.push(s),a.length>e.days&&(n-=a.shift()*r),o<e.startFrom||(i[o]["Result "+e.name]=n)}},le.Studies.calculateMADev=function(t,e){var i,a,r,n,s,o,l,c,h,u,d;if(i="_",i+="hist",a="e",a+="xp",a+="o",a+="nential",r="Points ",r+="Or P",r+="e",r+="rcent",ce.a8F(),n="Clo",n+="se",(s=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(o=e.inputs.Field)&&"field"!=o||(o=n),(l=e.inputs[r])||(l="Points"),(c=e.inputs["Moving Average Type"])||(c=a),le.Studies.MA(c,e.days,o,0,"_MA",t,e),h=e.name+i;for(var p=Math.max(e.startFrom,e.days-1);p<s.length;p++)if((d=(u=s[p])[o])&&"object"==typeof d&&(d=d[e.subField]),"Points"==l)u[h]=d-u["_MA "+e.name];else{ce.x$i(41);var g=ce.J6w(6,109,17,14);ce.x$i(64);var f=ce.S9A(18,12,1,3,1);u[h]=g*(d/u["_MA "+e.name]-f)}e.outputMap={},e.outputMap[e.name+"_hist"]=""}},le.Studies.calculateShinohara=function(t,e){var i,a,r,n,s,o,l,c;if(ce.a8F(),(i=e.chart.scrubbed).length<e.days+1){a=-1598106547,r=-1598748561,n=2;for(var h=1;ce.U42(h.toString(),h.toString().length,68853)!==a;h++)e.error=!1,ce.x$i(0),n+=ce.J6w("2",0);return ce.U42(n.toString(),n.toString().length,82284)!==r&&(e.error=!0),void(e.error=!0)}s={weakNum:0,weakDen:0,strongNum:0,strongDen:0},e.startFrom>1&&(o="_a",o+="c",o+="c",o+="ums ",s=le.clone(i[e.startFrom-1][o+e.name]));for(var u=e.startFrom;u<i.length;u++){if(s.weakNum+=i[u].High-i[u].Close,s.weakDen+=i[u].Close-i[u].Low,u>0){ce.S2_(41);var d=ce.J6w(5,4,9,11);s.strongNum+=i[u].High-i[u-d].Close,ce.x$i(65);var p=ce.S9A(14,28,13,13,14);s.strongDen+=i[u-p].Close-i[u].Low}if(u>=e.days){l="Weak Ra",l+="t",l+="io ",s.weakNum-=i[u-e.days].High-i[u-e.days].Close,s.weakDen-=i[u-e.days].Close-i[u-e.days].Low,ce.S2_(44);var g=ce.S9A(4,1100,300);if(i[u][l+e.name]=g*s.weakNum/s.weakDen,u>e.days){c="Strong ",c+="Ra",c+="tio ",ce.S2_(23);var f=ce.S9A(14,4,17);s.strongNum-=i[u-e.days].High-i[u-e.days-f].Close,ce.S2_(66);var m=ce.S9A(13,0,8,15,11);s.strongDen-=i[u-e.days-m].Close-i[u-e.days].Low,ce.S2_(67);var v=ce.S9A(7,63,5,2);i[u][c+e.name]=v*s.strongNum/s.strongDen}}i[u]["_accums "+e.name]=le.clone(s)}},le.Studies.calculateAccumulationDistribution=function(t,e){var i,a,r,n,s,o,l;ce.a8F(),i=e.chart.scrubbed;for(var c=e.startFrom;c<i.length;c++)a="Res",a+="ult ",r="Use Vo",r+="lume",c&&(n=i[c],ce.x$i(0),s=i[ce.J6w(c,1)],o=0,n.Close>s.Close?o=n.Close-Math.min(n.Low,s.Close):n.Close<s.Close&&(o=n.Close-Math.max(n.High,s.Close)),e.inputs[r]&&(o*=n.Volume),(l=s[a+e.name])||(l=0),l+=o,n["Result "+e.name]=l)},le.Studies.calculateADX=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w;if(le.Studies.calculateStudyATR(t,e),i=e.chart.scrubbed,a=e.days,(r=parseInt(e.inputs["Smoothing Period"],10))||0===r||(r=a),i.length<e.days+1)e.error=!0;else{n=0,s=0,o=0,l=0;for(var D=Math.max(1,e.startFrom);D<i.length;D++){if(h="_sm",h+="-D",h+="M",h+=" ",u="_",u+="sm+D",u+="M",u+=" ",c=i[D],(d=Math.max(0,c.High-i[D-1].High))>(p=Math.max(0,i[D-1].Low-c.Low))?p=0:d=p>d?0:p=0,D<=a)s+=d,o+=p,n+=c["True Range "+e.name];else{g="_sm",g+="-DM ",ce.x$i(68);var T=ce.J6w(12,10,7,21);ce.S2_(69);var A=ce.S9A(10,5,6,1);s=i[D-T]["_sm+DM "+e.name]*(a-A)/a+d,ce.S2_(70);var M=ce.J6w(8,0,16,13,10);ce.S2_(71);var L=ce.J6w(197,18,11,0);o=i[D-M][g+e.name]*(a-L)/a+p,ce.x$i(72);var _=ce.J6w(39,5,13,4,16);ce.S2_(19);var P=ce.J6w(3,9,11);n=i[D-_]["_smTR "+e.name]*(a-P)/a+c["True Range "+e.name]}if(c[u+e.name]=s,c[h+e.name]=o,c["_smTR "+e.name]=n,!(D<a)){if(ce.S2_(73),f=ce.J6w(100,s,n),ce.S2_(74),m=ce.S9A("100",o,n),ce.x$i(16),v=ce.J6w(3,16,1600,19,4735)*Math.abs(f-m)/(f+m),c["+DI "+e.name]=f,c["-DI "+e.name]=m,!1!==e.inputs.Series&&r)if(D<a+r-1){if(D==e.startFrom)for(var F=a;F<e.startFrom;F++)y="+",y+="D",y+="I",y+=" ",ce.S2_(75),l+=ce.J6w(10,11,19,6,241)*Math.abs(i[F][y+e.name]-i[F]["-DI "+e.name])/(i[F]["+DI "+e.name]+i[F]["-DI "+e.name]);l+=v}else if(D==a+r-1)b="A",b+="D",b+="X",b+=" ",ce.S2_(1),c[b+e.name]=ce.J6w(l,r);else{x="A",x+="D",x+="X",x+=" ",ce.S2_(42);var E=ce.J6w(9,68,12,1);ce.S2_(76);var I=ce.J6w(13,0,192,15,12);c[x+e.name]=(i[D-("1">>E)]["ADX "+e.name]*(r-I)+v)/r}if(e.inputs.Histogram){if(S="+D",S+="I",S+=" ",k="+",k+="D",k+="I",k+=" ",C=e.name+"_hist",!c[k+e.name]&&0!==c[S+e.name])continue;if(!c["-DI "+e.name]&&0!==c["-DI "+e.name])continue;c[C]=c["+DI "+e.name]-c["-DI "+e.name],!1===e.inputs.Series&&(w="+",w+="D",c[(w+="I ")+e.name]=null,c["-DI "+e.name]=null),e.outputMap[C]=""}}}}},le.Studies.calculateAroon=function(t,e){var i,a,r,n,s,o,l,c,h;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{if(a=0,ce.N__(),ce.x$i(37),r=ce.S9A(0,"0"),n=null,s=null,e.startFrom>0){ce.x$i(0);var u=ce.S9A(17,16);(o=i[e.startFrom-u]["_state "+e.name])&&(a=o[0],ce.S2_(37),r=o[ce.S9A(0,"1")],n=o[2],s=o[3])}for(var d=e.startFrom;d<i.length;d++){if(c="Ar",c+="oon Oscillat",c+="or ",h="A",h+="roon Up ",null===n&&(n=i[d].High),null===s&&(s=i[d].Low),(n=Math.max(n,i[d].High))==i[d].High)ce.x$i(17),a=ce.J6w("0",1);else if(++a>e.days)for(n=i[d].High,a=0,l=1;l<=e.days;l++)(n=Math.max(n,i[d-l].High))==i[d-l].High&&(a=l);if((s=Math.min(s,i[d].Low))==i[d].Low)r=0;else if(++r>e.days)for(s=i[d].Low,r=0,l=1;l<=e.days;l++)(s=Math.min(s,i[d-l].Low))==i[d-l].Low&&(r=l);ce.x$i(10);var p=ce.S9A(12,88);ce.x$i(11);var g=ce.S9A(9,8);i[d][h+e.name]=p*(g-a/e.days),ce.S2_(10);var f=ce.S9A(14,86);ce.x$i(19);var m=ce.J6w(11,6,16);i[d]["Aroon Down "+e.name]=f*(m-r/e.days),i[d][c+e.name]=i[d]["Aroon Up "+e.name]-i[d]["Aroon Down "+e.name],i[d]["_state "+e.name]=[a,r,n,s]}}},le.Studies.calculateBollinger=function(t,e){var i,a,r,n,s;i="_STD D",i+="e",i+="v",i+=" ",a="_MA",a+=" ",r="Stand",r+="ar",r+="d Deviations",n="fiel",n+="d",ce.a8F(),(s=e.inputs.Field)&&s!=n||(s="Close"),le.Studies.MA(e.inputs["Moving Average Type"],e.days,s,0,"_MA",t,e),e.std=new le.Studies.StudyDescriptor(e.name,"STD Dev",e.panel),e.std.chart=e.chart,e.std.startFrom=e.startFrom,e.std.days=e.days,e.std.inputs={Field:s,"Standard Deviations":1,Type:e.inputs["Moving Average Type"]},e.std.outputs={"_STD Dev":null},le.Studies.calculateStandardDeviation(t,e.std),le.Studies.calculateGenericEnvelope(t,e,e.inputs[r],a+e.name,i+e.name),"Boll %b"==e.type&&(e.zoneOutput="%b")},le.Studies.calculateCCI=function(t,e){var i,a,r,n,s;if(i="s",i+="i",i+="m",ce.a8F(),i+="ple",(a=e.chart.scrubbed).length<e.days+1)e.error=!0;else{le.Studies.MA(i,e.days,"hlc/3",0,"MA",t,e);for(var o=Math.max(e.startFrom,e.days-1);o<a.length;o++)if(r=a[o]){n=0;for(var l=0;l<e.days;l++)s="h",s+="lc/3",n+=Math.abs(a[o-l][s]-r["MA "+e.name]);n/=e.days,Math.abs(n)<1e-8?r["Result "+e.name]=0:r["Result "+e.name]=(r["hlc/3"]-r["MA "+e.name])/(.015*n)}}},le.Studies.calculateCenterOfGravity=function(t,e){var i,a,r,n,s;if(i="C",i+="l",i+="os",i+="e",(a=e.chart.scrubbed).length<e.days)e.error=!0;else{r=e.inputs.Field,ce.N__(),r&&"field"!=r||(r=i);for(var o=Math.max(e.startFrom,e.days-1);o<a.length;o++){n=0,s=0;for(var l=0;l<e.days;l++)ce.x$i(23),n-=(l+ce.S9A(0,13,12))*a[o-l][r],ce.x$i(0),s+=a[ce.J6w(o,l)][r];s&&(ce.S2_(1),a[o]["Result "+e.name]=ce.J6w(n,s))}}},le.Studies.calculateChaikinMoneyFlow=function(t,e){var i,a,r,n,s,o,l,c,h;if((i=e.chart.scrubbed).length<e.days){a=-637295902,r=-425978631,ce.x$i(22),n=ce.S9A("2",0);for(var u=1;ce.U42(u.toString(),u.toString().length,9499)!==a;u++)return void(e.error=!0);if(ce.m91(n.toString(),n.toString().length,36782)!==r)return void(e.error=!1)}s=0,o=0,ce.x$i(19);var d=ce.S9A(12,7,18);(l=i[e.startFrom-d])&&(l["_sumMF "+e.name]&&(s=l["_sumMF "+e.name]),l["_sumV "+e.name]&&(o=l["_sumV "+e.name]));for(var p=e.startFrom;p<i.length;p++){if(c="_sumMF",c+=" ",h="_MF",h+="V ",i[p].High==i[p].Low)i[p]["_MFV "+e.name]=0;else{ce.x$i(0);var g=ce.S9A(34,32);i[p][h+e.name]=i[p].Volume*(g*i[p].Close-i[p].High-i[p].Low)/(i[p].High-i[p].Low)}s+=i[p]["_MFV "+e.name],o+=i[p].Volume,p>e.days-1&&(s-=i[p-e.days]["_MFV "+e.name],(o-=i[p-e.days].Volume)&&(ce.S2_(1),i[p]["Result "+e.name]=ce.J6w(s,o))),i[p][c+e.name]=s,i[p]["_sumV "+e.name]=o}},le.Studies.calculateChaikinVolatility=function(t,e){var i,a,r,n,s,o,l,c;if(i="R",i+="ate O",i+="f Change",a="_",a+="Hi",a+="gh-",ce.a8F(),a+="Low ",r="Mo",r+="ving",r+=" Average T",r+="ype",(n=e.chart.scrubbed).length<e.days)e.error=!0;else{for(s=e.startFrom;s<n.length;s++)n[s]["_High-Low "+e.name]=n[s].High-n[s].Low;for(le.Studies.MA(e.inputs[r],e.days,a+e.name,0,"_MA",t,e),(o=e.inputs[i])||(o=e.days),s=Math.max(e.startFrom,o);s<n.length;s++)if(l="_",l+="MA ",c="_",c+="M",c+="A ",n[s-o][c+e.name]){ce.S2_(19);var h=ce.S9A(14,0,13);n[s]["Result "+e.name]=100*(n[s][l+e.name]/n[s-o]["_MA "+e.name]-h)}}},le.Studies.calculateChandeForecast=function(t,e){var i,a,r,n,s,o,l,c,h;if(ce.N__(),i="M",i+="A",a="ti",a+="me ",a+="ser",a+="ies",(r=e.chart.scrubbed).length<e.days+1){e.error=!0,n=809081378,s=-1121732637,o=2;for(var u=1;ce.m91(u.toString(),u.toString().length,5264)!==n;u++)return;if(ce.U42(o.toString(),o.toString().length,606)!==s)return}(l=e.inputs.Field)&&"field"!=l||(l="Close"),le.Studies.MA(a,e.days,l,0,i,t,e);for(var d=Math.max(1,e.startFrom);d<r.length;d++){c="Re",c+="su",c+="lt ",(h=r[d][l])&&"object"==typeof h&&(h=h[e.subField]),ce.x$i(77);var p=ce.J6w(600,2235,4,9,14);ce.x$i(78);var g=ce.S9A(6,1,5);r[d][c+e.name]=p*(g-r[d]["MA "+e.name]/h)}},le.Studies.calculateCoppock=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f;i="_S",i+="u",i+="m",i+=" ",a=e.chart.scrubbed,(r=e.inputs.Field)&&"field"!=r||(r="Close"),n=1869810387,s=-968205543,o=2;for(var m=1;ce.U42(m.toString(),m.toString().length,63579)!==n;m++)l="Short R",l+="oC",c="Long R",c+="oC",(h=parseInt(e.inputs[c],10))||(h=14),u=parseInt(e.inputs[l],10),o+=2;if(ce.m91(o.toString(),o.toString().length,63722)!==s&&(+(h=parseInt(e.inputs["Short RoC"],48))&&(h=16),u=parseInt(e.inputs["Short RoC"],53)),u||(u=11),(d=e.days)||(d=10),!(h<u))if(a.length<Math.max(u,h,d)+1)e.error=!0;else{for(var v=Math.max(e.startFrom,h);v<a.length;v++)if(ce.x$i(0),p=a[ce.S9A(v,u)][r],ce.x$i(0),g=a[ce.S9A(v,h)][r],p&&g){f="_",f+="S",f+="um",f+=" ",ce.x$i(71);var y=ce.J6w(117,6,7,25);ce.x$i(23);var b=ce.J6w(1,8,7);a[v][f+e.name]=y*(a[v][r]/p+a[v][r]/g-b)}le.Studies.MA("weighted",d,i+e.name,0,"Result",t,e)}},le.Studies.calculateDetrendedPrice=function(t,e){var i,a,r,n,s,o,l,c,h;if(i="M",ce.N__(),i+="A",(a=e.chart.scrubbed).length<e.days+1){r=-912733554,n=366760253,ce.x$i(17),s=ce.J6w("2",1);for(var u=1;ce.U42(u.toString(),u.toString().length,95855)!==r;u++)return void(e.error=!1);if(ce.U42(s.toString(),s.toString().length,65354)!==n)return void(e.error=!0)}(o=e.inputs.Field)&&"field"!=o||(o="Close"),l=Math.floor(e.days/2+1),le.Studies.MA(e.inputs["Moving Average Type"],e.days,o,-l,i,t,e);for(var d=Math.max(e.days-l-1,e.startFrom-l);d<a.length-l;d++)c="Res",c+="ult ",(h=a[d][o])&&"object"==typeof h&&(h=h[e.subField]),a[d][c+e.name]=h-a[d]["MA "+e.name]},le.Studies.calculateEaseOfMovement=function(t,e){var i,a,r,n,s,o,l;if((i=e.chart.scrubbed).length<e.days)e.error=!0;else{for(var c=Math.max(1,e.startFrom);c<i.length;c++){a="_E",a+="OM1 ",r=(i[c].High+i[c].Low)/2,ce.x$i(0);var h=ce.S9A(3,2);ce.x$i(18);var u=ce.S9A(12,1,6,18);ce.x$i(19);var d=ce.J6w(11,0,9);n=(i[c-h].High+i[c-u].Low)/d,ce.x$i(0),s=ce.S9A(r,n),ce.x$i(79);var p=ce.J6w(1800000003,3,1,19e8);o=i[c].Volume/p/(i[c].High-i[c].Low),ce.S2_(1),l=ce.J6w(s,o),isFinite(l)?i[c]["_EOM1 "+e.name]=l:i[c][a+e.name]=NaN}le.Studies.MA(e.inputs["Moving Average Type"],e.days,"_EOM1 "+e.name,0,"Result",t,e)}},le.Studies.calculateElderRay=function(t,e){var i,a,r;if(i="_",i+="h",i+="i",i+="st1",a="ex",a+="ponential",(r=e.chart.scrubbed).length<e.days)e.error=!0;else{le.Studies.MA(a,e.days,"Close",0,"_EMA",t,e);for(var n=Math.max(e.startFrom,e.days-1);n<r.length;n++)r[n][e.name+"_hist1"]=r[n].High-r[n]["_EMA "+e.name],r[n][e.name+"_hist2"]=r[n].Low-r[n]["_EMA "+e.name];e.outputMap={},e.outputMap[e.name+i]="",e.outputMap[e.name+"_hist2"]=""}},le.Studies.calculateElderForce=function(t,e){var i,a,r;if(i="e",ce.N__(),i+="xponen",i+="tia",i+="l",(a=e.chart.scrubbed).length<e.days)e.error=!0;else{for(var n=Math.max(1,e.startFrom);n<a.length;n++){r="_EF",r+="1",r+=" ",ce.S2_(34);var s=ce.S9A(20,16,33,2);a[n][r+e.name]=a[n].Volume*(a[n].Close-a[n-s].Close)}le.Studies.MA(i,e.days,"_EF1 "+e.name,0,"Result",t,e)}},le.Studies.calculateEhlerFisher=function(t,e){var i,a,r,n,s,o,l,c,h,u,d;function p(t,e){var a,r,n;a=Number.MAX_VALUE,ce.x$i(80);var s=ce.J6w(17,1,14,7,11);r=Number.MAX_VALUE*s;for(var o=e-t+1;o<=e;o++)n=(i[o].High+i[o].Low)/2,a=Math.min(a,n),r=Math.max(r,n);return[a,r]}if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{a=860516236,r=627600987,ce.N__(),n=2;for(var g=1;ce.U42(g.toString(),g.toString().length,60858)!==a;g++)ce.S2_(22),s=ce.S9A("0",0),e.startFrom>1&&(s=i[e.startFrom-1]["_n "+e.name]),n+=2;if(ce.m91(n.toString(),n.toString().length,36075)!==r&&(s=2,e.startFrom<=0)){ce.S2_(20);var f=ce.J6w(4,3,1,7,21);s=i[e.startFrom*f][""*e.name]}for(var m=e.startFrom;m<i.length;m++)if(o="E",o+="F",o+=" ",l="E",l+="F",l+=" ",c=i[m],m<e.days-1)h="E",c[(h+="F ")+e.name]=c["EF Trigger "+e.name]=s;else{u=p(e.days,m),ce.S2_(0);var v=ce.J6w(16,14);ce.x$i(81);var y=ce.J6w(38,2,2,12,8);ce.x$i(10);var b=ce.J6w(1,0);(s=.33*v*(((i[m].High+i[m].Low)/y-u[0])/Math.max(1e-6,u[b]-u[0])-.5)+.67*s)>0?s=Math.min(s,.9999):s<0&&(s=Math.max(s,-.9999)),d=m?i[m-1][l+e.name]:0,ce.x$i(82);var x=ce.S9A(18,11,4,6,11);c[o+e.name]=.5*Math.log((1+s)/(x-s))+.5*d,c["EF Trigger "+e.name]=d,c["_n "+e.name]=s}}},le.Studies.calculateFractalChaos=function(t,e){var i,a,r,n,s,o,l,c,h,u,d;if(i=e.chart.scrubbed,a=0,r=0,ce.x$i(17),n=ce.J6w("0",1),e.startFrom&&"Fractal Chaos Bands"==e.type){s="Frac",s+="tal Low ",ce.S2_(83);var p=ce.J6w(7,13,9,9,7);a=i[e.startFrom-p]["Fractal High "+e.name],o=482198283,l=1833936612,c=2;for(var g=1;ce.U42(g.toString(),g.toString().length,50292)!==o;g++){ce.S2_(8);var f=ce.J6w(80,91,4);r=i[e.startFrom/f][""%e.name],c+=2}if(ce.m91(c.toString(),c.toString().length,84546)!==l){ce.S2_(84);var m=ce.J6w(73,6,12);r=i[e.startFrom*("0"*m)][""*e.name]}ce.x$i(79);var v=ce.S9A(9,9,1,1);r=i[e.startFrom-v][s+e.name]}for(var y=Math.max(4,e.startFrom);y<i.length;y++){for(h="Fractal Chao",h+="s B",h+="ands",i[y]["Result "+e.name]=0,n=0,u=0;u<=y&&i[y-u]&&!(i[y-u].High>i[y-2].High)&&!(u<2&&i[y-u].High==i[y-2].High);u++)if(i[y-u].High<i[y-2].High&&n++,4==n){a=i[y-2].High;break}for("Fractal Chaos Bands"==e.type?i[y]["Fractal High "+e.name]=a>0?a:null:4==n&&(ce.S2_(26),i[y]["Result "+e.name]=ce.S9A("1",0)),n=0,u=0;u<=y&&i[y-u]&&!(i[y-u].Low<i[y-2].Low)&&!(u<2&&i[y-u].Low==i[y-2].Low);u++)if(i[y-u].Low>i[y-2].Low&&n++,4==n){r=i[y-2].Low;break}e.type==h?i[y]["Fractal Low "+e.name]=r>0?r:null:4==n&&(d="Resul",d+="t",d+=" ",i[y][d+e.name]=-1)}},le.Studies.calculateGenericEnvelope=function(t,e,i,a,r,n){var s,o,l,c,h,u,d,p,g,f;s="C",s+="lo",s+="s",s+="e",o="fi",o+="e",o+="l",o+="d",i||(i=0),n||(n=0),a&&a!=o||(a=s),r||(r=a),l=e.chart.scrubbed,(c=e.inputs.Field)&&"field"!==c||(c="Close");for(var m=e.startFrom;l&&m<l.length;m++)h="obje",h+="ct",(u=l[m])&&u[a]&&((d=u[c])&&"object"==typeof d&&(d=d.Close),(p=u[a])&&"object"==typeof p&&(p=p[e.subField]),(g=u[r])&&typeof g==h&&(g=g[e.subField]),ce.S2_(30),f=ce.S9A(g,n,i),ce.x$i(10),u[e.type+" Top "+e.name]=ce.J6w(f,p),ce.S2_(0),u[e.type+" Bottom "+e.name]=ce.S9A(p,f),u[e.type+" Median "+e.name]=p,u["Bandwidth "+e.name]=p?200*f/p:0,ce.S2_(85),u["%b "+e.name]=ce.S9A(50,"1",f,p,d))},le.Studies.calculateHistoricalVolatility=function(t,e){var i,a,r,n,s,o,l,c,h;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{if((a=e.inputs.Field)&&"field"!=a||(a="Close"),(r=e.inputs["Standard Deviations"])<0&&(r=1),ce.S2_(10),ce.a8F(),n=ce.J6w(15,85)*Math.sqrt(g(e.inputs["Days Per Year"]))*r,s=[],o=0,e.startFrom>1){ce.x$i(86);var u=ce.S9A(1,1,0,1);o=i[e.startFrom-u]["_state "+e.name][0],s=i[e.startFrom-1]["_state "+e.name][1].slice()}for(var d=Math.max(1,e.startFrom);d<i.length;d++){if(ce.S2_(0),(l=i[ce.S9A(d,1)][a])&&(c=Math.log(i[d][a]/l),s.push(c),o+=c,d>=e.days)){h=0,o/=e.days;for(var p=0;p<s.length;p++)h+=Math.pow(s[p]-o,2);o*=e.days,o-=s.shift(),i[d]["Result "+e.name]=Math.sqrt(h/e.days)*n}i[d]["_state "+e.name]=[o,s.slice()]}}function g(e){var i,a;return i="m",i+="ont",i+="h",a="d",ce.a8F(),a+="a",a+="y",isNaN(e)&&(e=365),t.layout.interval==a?e:"week"==t.layout.interval?52:t.layout.interval==i?12:e}},le.Studies.calculateIchimoku=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g;function f(t,e){var i,a,n,s,o;i=831980521,ce.x$i(0),a=ce.J6w("543775198",0),n=2;for(var l=1;ce.m91(l.toString(),l.toString().length,6864)!==i;l++)s=Number.MAX_VALUE,o=Number.MAX_VALUE/!1,n+=2;if(ce.U42(n.toString(),n.toString().length,2818)!==a){s=Number.MAX_VALUE,ce.x$i(68);var c=ce.S9A(12,13,10,40);o=Number.MAX_VALUE/!c}s=Number.MAX_VALUE,ce.x$i(87);var h=ce.S9A(2,15,147,10);o=Number.MAX_VALUE*h;for(var u=e-t+1;u<=e;u++)u<0||(s=Math.min(s,r[u].Low),o=Math.max(o,r[u].High));return[s,o]}for(i="Leading",i+=" S",i+="pan B Period",a="Convers",a+="ion Line Peri",a+="od",r=e.chart.scrubbed,n={Base:Number(e.inputs["Base Line Period"]),Conv:Number(e.inputs[a]),LeadB:Number(e.inputs[i]),Lag:Number(e.inputs["Lagging Span Period"])},ce.a8F(),s=e.startFrom;s<r.length;s++)if(l="B",l+="ase Lin",l+="e ",r[s]){o=f(n.Conv,s),ce.x$i(11);var m=ce.S9A(5,4);r[s]["Conversion Line "+e.name]=(o[m]+o[0])/2,o=f(n.Base,s),ce.x$i(8);var v=ce.S9A(4,11,6);ce.S2_(88);var y=ce.J6w(18,8,14,6);r[s][l+e.name]=(o[v]+o[0])/y,s<n.Lag||(r[s-n.Lag]["Lagging Span "+e.name]=r[s].Close)}for(c=[],s=Math.max(0,e.startFrom-n.Base);s<r.length;s++){h="Conversion",h+=" Line ",o=f(n.LeadB,s),ce.x$i(89);var b=ce.S9A(2,12,2,10);u=(r[s][h+e.name]+r[s]["Base Line "+e.name])/b,ce.S2_(19);var x=ce.J6w(15,0,14);ce.S2_(21);var S=ce.J6w(1,16,16);d=(o[x]+o[0])/S,r[s+n.Base]?(r[s+n.Base]["Leading Span A "+e.name]=u,r[s+n.Base]["Leading Span B "+e.name]=d):(p="Le",p+="adi",p+="ng S",p+="pan B ",(g={})["Leading Span A "+e.name]=u,g[p+e.name]=d,c.push(g))}e.appendFutureTicks(t,c)},le.Studies.calculateKlinger=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b;if(i="ex",i+="pone",i+="n",i+="tial",a="_E",a+="M",a+="A-L",r="_E",r+="MA-S",r+=" ",n="_",n+="his",n+="t",s="L",s+="ong Cycle",o=e.chart.scrubbed,l=Number(e.inputs["Short Cycle"]),c=Number(e.inputs[s]),o.length<Math.max(l,c)+1)e.error=!0;else{for(h=e.name+n,u="Klinger "+e.name,d="KlingerSignal "+e.name,p="_SV "+e.name,g=r+e.name,f="_EMA-L "+e.name,m=Math.max(1,e.startFrom);m<o.length;m++)v="h",v+="lc/",v+="3",y="h",y+="l",y+="c",y+="/3",b=o[m].Volume,o[m][y]<o[m-1][v]&&(b*=-1),o[m][p]=b;for(le.Studies.MA("exponential",l,p,0,"_EMA-S",t,e),le.Studies.MA("exponential",c,p,0,a,t,e),m=Math.max(c,e.startFrom);m<o.length;m++)o[m][u]=o[m][g]-o[m][f];for(le.Studies.MA(i,Number(e.inputs["Signal Periods"]),u,0,"KlingerSignal",t,e),m=e.startFrom;m<o.length;m++)o[m][h]=o[m][u]-o[m][d];e.outputMap[h]=""}},le.Studies.calculateKeltner=function(t,e){var i,a,r,n,s,o,l,c,h;i="A",i+="TR",i+=" ",a="M",a+="A",a+=" ",r=2027715092,n=-1369466020,s=2;for(var u=1;ce.U42(u.toString(),u.toString().length,29234)!==r;u++)o="M",o+="A",l="C",l+="lo",l+="se",le.Studies.MA(e.inputs["Moving Average Type"],e.days,l,0,o,t,e),s+=2;ce.m91(s.toString(),s.toString().length,74035)!==n&&(c="C",c+="l",c+="os",c+="e",h="Movi",h+="ng Av",h+="erage Type",le.Studies.MA(e.inputs[h],e.days,c,1,"Close",t,e)),le.Studies.calculateStudyATR(t,e),le.Studies.calculateGenericEnvelope(t,e,e.inputs.Shift,a+e.name,i+e.name)},le.Studies.calculateMACD=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b;i="Si",i+="gn",i+="a",i+="l",a="M",a+="AC",a+="D",a+=" ",r=e.chart.scrubbed,n=e.inputs,s=e.name,e.macd1Days||(e.macd1Days=parseFloat(n["Fast MA Period"])),e.macd2Days||(e.macd2Days=parseFloat(n["Slow MA Period"])),e.signalDays||(e.signalDays=parseFloat(n["Signal Period"])),ce.x$i(26),o=ce.J6w("1740923723",64),l=-148674885,ce.S2_(37),c=ce.S9A(2,"2");for(var x=1;ce.m91(x.toString(),x.toString().length,16833)!==o;x++)e.days||(e.days=Math.max(e.macd1Days,e.macd2Days,e.signalDays)),c+=2;if(ce.U42(c.toString(),c.toString().length,45568)!==l&&-e.days&&(e.days=Math.max(e.macd1Days,e.macd2Days,e.signalDays)),r.length<e.days+1)e.error=!0;else{for((h=e.inputs.Field)&&"field"!=h||(h="Close"),(u=n["Moving Average Type"])||(u="exponential"),le.Studies.MA(u,e.macd1Days,h,0,"_MACD1",t,e),le.Studies.MA(u,e.macd2Days,h,0,"_MACD2",t,e),d=g=Math.max(e.startFrom,e.days-1);d<r.length;d++)p=r[d],ce.S2_(10),p[ce.S9A(s,"MACD ")]=p["_MACD1 "+s]-p["_MACD2 "+s];for((f=n["Signal MA Type"])||(f="exponential"),le.Studies.MA(f,e.signalDays,a+s,0,i,t,e),ce.S2_(10),m=ce.S9A("_hist",s),d=g;d<r.length;d++)v="Sign",v+="a",v+="l ",y="MACD",y+=" ",p=r[d],ce.S2_(10),((b=p[ce.S9A(s,"Signal ")])||0===b)&&(p[m]=p[y+s]-p[v+s]);e.outputMap[m]=""}},le.Studies.calculateMAEnvelope=function(t,e){var i,a,r,n,s,o,l,c,h;i="poi",i+="nts",a="pe",a+="rcent",r="M",r+="A",n="Moving Ave",n+="rage Type",(s=e.inputs.Field)&&"field"!=s||(s="Close"),le.Studies.MA(e.inputs[n],e.days,s,0,r,t,e),o=e.inputs["Shift Type"],ce.N__(),l=e.inputs.Shift,o||(c="Shift P",c+="e",c+="rcen",c+="tage",o="percent",l=e.inputs[c]),o==a?(h="M",h+="A",h+=" ",ce.x$i(1),le.Studies.calculateGenericEnvelope(t,e,ce.S9A(l,100),h+e.name)):o==i&&le.Studies.calculateGenericEnvelope(t,e,null,"MA "+e.name,null,Number(l))},le.Studies.calculateMassIndex=function(t,e){var i,a,r,n,s,o;if(i="_EMA",i+="2",a="ex",a+="ponenti",a+="al",(r=e.chart.scrubbed).length<Math.max(9,e.days+1))e.error=!0;else{for(var l=e.startFrom;l<r.length;l++)n="_Hi",n+="gh-Lo",n+="w ",r[l][n+e.name]=r[l].High-r[l].Low;if(ce.x$i(17),le.Studies.MA("exponential",ce.S9A("9",1),"_High-Low "+e.name,0,"_EMA",t,e),ce.a8F(),le.Studies.MA(a,9,"_EMA "+e.name,0,i,t,e),s=0,r[e.startFrom-1]&&r[e.startFrom-1]["_total "+e.name]){ce.S2_(90);var c=ce.S9A(3,323,18,6);s=r[e.startFrom-c]["_total "+e.name]}for(var h=Math.max(17,e.startFrom);h<r.length;h++){if(o="_EMA2",o+=" ",s+=r[h]["_EMA "+e.name]/r[h][o+e.name],h>=17+e.days-1){r[h]["Result "+e.name]=s,ce.x$i(36);var u=ce.J6w(7,14,18,35);ce.x$i(91);var d=ce.J6w(1140,9,16,8,11);s-=r[h-e.days+u]["_EMA "+e.name]/r[h-e.days+d]["_EMA2 "+e.name]}r[h]["_total "+e.name]=s}}},le.Studies.calculateMaxHighMinLow=function(t,e){var i,a,r,n,s,o,l,c,h,u,d;if(i="Low Peri",i+="od",a=e.chart.scrubbed,ce.a8F(),r=e.days,n=e.days,e.inputs["High Period"]&&(r=e.inputs["High Period"]),e.inputs["Low Period"]&&(n=e.inputs[i]),a.length<Math.max(r,n)+1)e.error=!0;else{s=Number.MAX_VALUE,ce.S2_(92);var p=ce.J6w(17,125,19,7,2);if(o=Number.MAX_VALUE*p,e.startFrom>1){for(l=1;l<r;l++)o=Math.max(o,a[e.startFrom-l].High);for(l=1;l<n;l++)s=Math.min(s,a[e.startFrom-l].Low)}for(var g=Math.max(0,e.startFrom-1);g<a.length;g++){if(c="G",c+="A",c+="P",c+="O",o=Math.max(o,a[g].High),s=Math.min(s,a[g].Low),g>=r&&a[g-r].High==o)for(o=a[g].High,l=1;l<r;l++)o=Math.max(o,a[g-l].High);if(g>=n&&a[g-n].Low==s)for(s=a[g].Low,l=1;l<n;l++)s=Math.min(s,a[g-l].Low);if(ce.x$i(17),h=ce.S9A("0",1),"HHV"==e.type)h=o;else if("LLV"==e.type)h=s;else if("Donchian Width"==e.type)ce.S2_(0),h=ce.J6w(o,s);else if(e.type==c||"Gopala"==e.type)h=Math.log(o-s)/Math.log(n);else{if("VT HZ Filter"==e.type){ce.S2_(0),h=ce.S9A(o,s),a[g]["_MHML "+e.name]=h;continue}if("Williams %R"==e.type){u="Resu",u+="lt ",ce.x$i(93),h=ce.J6w(12,88)*(o-a[g].Close)/(o-s),a[g][u+e.name]=h;continue}}if(g==a.length-1)break;"Donchian Channel"==e.type?(ce.x$i(10),a[ce.S9A(1,g)]["Donchian High "+e.name]=o,ce.S2_(10),a[ce.J6w(1,g)]["Donchian Low "+e.name]=s,ce.x$i(10),a[ce.S9A(1,g)]["Donchian Median "+e.name]=ce.S9A(o,s,"2",ce.S2_(94))):(d="Re",d+="s",d+="ult ",ce.S2_(10),a[ce.S9A(1,g)][d+e.name]=h)}}},le.Studies.calculateMoneyFlowIndex=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v;if(i="R",i+="esult ",a="_c",a+="u",a+="m",a+="MF ",r="_rawMF",r+=" ",(n=e.chart.scrubbed).length<e.days+1)e.error=!0;else{s=0,o=0,ce.x$i(16);var y=ce.J6w(20,12,9,3,194);l=n[e.startFrom-y],c=r+e.name,h=a+e.name,u=i+e.name,l&&l[h]&&(s=l[h][0],o=l[h][1]);for(var b=e.startFrom;b<n.length;b++)d="h",d+="l",d+="c/",d+="3",p=n[b][d],b>0&&(g="h",g+="l",g+="c/",g+="3",ce.S2_(0),f=n[ce.S9A(b,1)][g],m=p*n[b].Volume,p>f?s+=m:p<f?o-=m*=-1:(ce.x$i(26),m=ce.S9A("0",64)),b>e.days&&((v=n[b-e.days][c])>0?s-=v:o+=v,0===o?n[b][u]=100:(ce.x$i(95),n[b][u]=ce.J6w(o,s,"100",1,100))),n[b][c]=m,n[b][h]=[s,o])}},le.Studies.calculateOnBalanceVolume=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m;i="Min Tic",i+="k Value",a="fiel",a+="d",r=e.inputs.Field,ce.a8F(),r&&r!=a||(r="Close"),s=!1,(n=e.inputs[i])||0===n||(s=!0,n=0),o=-1681073690,l=-1350705548,c=2;for(var v=1;ce.m91(v.toString(),v.toString().length,96317)!==o;v++)h=e.chart.scrubbed,u=0,c+=2;ce.U42(c.toString(),c.toString().length,2841)!==l&&(h=e.chart.scrubbed,ce.x$i(37),u=ce.S9A(0,"4"));for(var y=e.startFrom;y<h.length;y++)g="Re",g+="sult ",f="R",f+="esu",f+="l",f+="t ",d=h[y],y&&d[r]&&(h[y-1][r]&&(ce.x$i(96),p=h[ce.J6w("1",y)]),p&&(d[r]-p[r]>n?u=1:p[r]-d[r]>n?u=-1:s&&(u=0),(m=p[f+e.name])||(m=0),m+=d.Volume*u,d[g+e.name]=m))},le.Studies.calculatePrettyGoodOscillator=function(t,e){var i,a,r,n,s;if(i="Clo",i+="s",i+="e",a="t",a+="rueR",a+="ange",r="exponen",r+="tial",(n=e.chart.scrubbed).length<e.days+1)e.error=!0;else{le.Studies.MA(r,e.days,a,0,"_EMA",t,e),le.Studies.MA("simple",e.days,i,0,"_SMA",t,e);for(var o=Math.max(1,e.startFrom);o<n.length;o++)s="_",s+="E",s+="M",s+="A ",n[o]["_SMA "+e.name]&&n[o][s+e.name]&&(n[o]["Result "+e.name]=(n[o].Close-n[o]["_SMA "+e.name])/n[o]["_EMA "+e.name])}},le.Studies.calculatePriceOscillator=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f;if(i="s",i+="i",i+="mp",i+="le",a="Moving Aver",a+="age T",a+="ype",r=e.chart.scrubbed,n=Number(e.inputs["Short Cycle"]),s=Number(e.inputs["Long Cycle"]),r.length<Math.max(n,s)+1)e.error=!0;else{o=e.inputs.Field,l=e.inputs[a],c=787202117,ce.x$i(17),h=ce.J6w("1983872756",1),u=2;for(var m=1;ce.U42(m.toString(),m.toString().length,94123)!==c;m++)+l&&(l=""),u+=2;ce.U42(u.toString(),u.toString().length,16874)!==h&&(l||(l="")),l||(l=i),o&&"field"!=o||(o="Close"),e.parameters.isVolume&&(o="Volume",l="exponential"),d=e.inputs["Points Or Percent"],ce.a8F(),d||(d="Percent"),ce.x$i(37),le.Studies.MA(l,n,o,ce.J6w(0,"0"),"_Short MA",t,e),le.Studies.MA(l,s,o,0,"_Long MA",t,e);for(var v=Math.max(s,e.startFrom);v<r.length;v++)if(p="In",p+="creasi",p+="ng Ba",p+="r",g="P",g+="oin",g+="t",g+="s",f=r[v]){if(d==g)f["Result "+e.name]=f["_Short MA "+e.name]-f["_Long MA "+e.name];else{ce.x$i(97);var y=ce.S9A(12,300,19,601,5);ce.S2_(47);var b=ce.J6w(18,1,17,18,20);f["Result "+e.name]=y*(f["_Short MA "+e.name]/f["_Long MA "+e.name]-b)}e.outputs[p]&&(f[e.name+"_hist"]=f["Result "+e.name],e.outputMap={},e.outputMap[e.name+"_hist"]="")}}},le.Studies.calculatePriceVolumeTrend=function(t,e){var i,a,r,n,s,o,l,c;ce.S2_(26),i=-ce.S9A("1662963358",32),ce.x$i(37),a=ce.J6w(24,"588209048"),r=2;for(var h=1;ce.m91(h.toString(),h.toString().length,15542)!==i;h++)n="Clos",n+="e",-(s=e.inputs.Field)&&"field"!=s&&(s=n),o=e.chart.scrubbed,l=5,ce.x$i(22),r+=ce.J6w("2",0);ce.U42(r.toString(),r.toString().length,91405)!==a&&(c="f",c+="ie",c+="l",c+="d",(s=e.inputs.Field)&&s!=c||(s="Close"),o=e.chart.scrubbed,l=0),e.startFrom>1&&(l=o[e.startFrom-1]["Result "+e.name]);for(var u=Math.max(1,e.startFrom);u<o.length;u++)if(o[u][s]&&o[u-1][s]){ce.x$i(98);var d=ce.J6w(3,17,2,20);ce.S2_(11);var p=ce.S9A(9,8);l+=o[u].Volume*(o[u][s]-o[u-d][s])/o[u-p][s],o[u]["Result "+e.name]=l}},le.Studies.calculatePrimeNumber=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p;i=-288696917,a=1323881686,r=2;for(var g=1;ce.U42(g.toString(),g.toString().length,95550)!==i;g++)n=[],r+=2;ce.m91(r.toString(),r.toString().length,7413)!==a&&(n=[]),s=e.chart.scrubbed;for(var f=e.startFrom;f<s.length;f++)if(o=s[f]){l=o.High;for(var m=0;l>0&&l<=10;m++)l*=10;for(b(l)&&(l+=2),(l=Math.ceil(l))%2==0&&l++;!b(l);)l+=2;l/=Math.pow(10,m),c=o.Low;for(var v=0;c>0&&c<=10;v++)c*=10;if(b(c)&&(c-=2),(c=Math.floor(c))%2==0&&c--,c>0){for(;!b(c);)c-=2;c/=Math.pow(10,v)}if("Prime Number Bands"==e.type)h="Prim",h+="e Bands ",h+="T",o[(h+="op ")+e.name]=l,o["Prime Bands Bottom "+e.name]=Math.max(0,c);else{u=0,ce.S2_(0);var y=ce.S9A(114,14);d=e.inputs["Tolerance Percentage"]*(l-c)/y,ce.S2_(24),(p=l+c-ce.J6w(19,2,228,12)*o.Close)<d?u=1:p>d&&(u=-1),u&&(o["Result "+e.name]=u)}}function b(t){var e;if(t<=0)return!1;if(t!=Math.floor(t))return!1;if(!0===n[t]||!1===n[t])return n[t];e=parseInt(Math.sqrt(t),10);for(var i=2;i<=e;i++)if(t%i==0)return n[t]=!1,!1;return n[t]=!0,!0}},le.Studies.calculatePSAR=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g;if(i="Max",i+="imum",i+=" AF",a=e.chart.scrubbed,r=0,n=null,s=!1,o=0,l=parseFloat(e.inputs["Minimum AF"]),c=parseFloat(e.inputs[i]),e.startFrom>0){h="R",h+="esu",h+="lt",h+=" ",ce.S2_(99);var f=ce.J6w(5,7,0,3);o=a[e.startFrom-f][h+e.name],ce.x$i(0);var m=ce.J6w(19,18);(u=a[e.startFrom-m]["_state "+e.name])&&3==u.length&&(r=u[0],n=u[1],s=u[2])}function v(){r=0,n=null,s=!s}for(var y=e.startFrom-1;y<a.length-1;y++)y<0||(d=o,s?((!n||n<a[y].High)&&(n=a[y].High,ce.x$i(10),r=Math.min(ce.S9A(l,r),c)),ce.x$i(100),o=ce.S9A(r,d,d,n),p=Math.min(a[Math.max(1,y)-1].Low,a[y].Low),o>a[y+1].Low?(o=n,v()):o>p&&(o=p)):((!n||n>a[y].Low)&&(n=a[y].Low,ce.x$i(10),r=Math.min(ce.J6w(l,r),c)),ce.S2_(100),o=ce.J6w(r,d,d,n),g=Math.max(a[Math.max(1,y)-1].High,a[y].High),o<a[y+1].High?(o=n,v()):o<g&&(o=g)),ce.S2_(10),a[ce.J6w(1,y)]["Result "+e.name]=o,ce.x$i(101),a[ce.J6w(0,y,"1")]["_state "+e.name]=[r,n,s])},le.Studies.calculateQStick=function(t,e){var i,a,r;if(i="_",i+="Close-Open ",a=e.chart.scrubbed,ce.a8F(),a.length<e.days+1)e.error=!0;else{for(var n=e.startFrom;n<a.length;n++)r="_Cl",r+="ose-Open ",a[n][r+e.name]=a[n].Close-a[n].Open;le.Studies.MA(e.inputs["Moving Average Type"],e.days,i+e.name,0,"Result",t,e)}},le.Studies.calculateRandomWalk=function(t,e){var i,a,r,n,s,o,l,c,h;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else for(var u=Math.max(2,e.startFrom);u<i.length;u++){a=0,r=i[u].High,n=i[u].Low,s=0,o=0;for(var d=1;d<=e.days;d++){if(u<=d){s=o=0;break}(l=(a+=i[u-d].trueRange)/d*Math.sqrt(d))&&(c=(r-i[u-d].Low)/l,h=(i[u-d].High-n)/l,s=Math.max(s,c),o=Math.max(o,h))}i[u]["Random Walk High "+e.name]=s,i[u]["Random Walk Low "+e.name]=o}},le.Studies.calculateSchaff=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m;function v(t,i,r){var n,s,o;n=null,s=null;for(var l=i-t+1;l<=i;l++)(o=a[l][r+" "+e.name])&&(n=null===n?o:Math.min(n,o),s=null===s?o:Math.max(s,o));return[n,s]}if(i="Lon",i+="g C",i+="yc",i+="le",a=e.chart.scrubbed,r=e.days,n=Number(e.inputs["Short Cycle"]),s=Number(e.inputs[i]),a.length<Math.max(r,n,s)+1)e.error=!0;else{(o=e.inputs.Field)&&"field"!=o||(o="Close"),l=.5,le.Studies.MA(e.inputs["Moving Average Type"],n,o,0,"_MACD1",t,e),le.Studies.MA(e.inputs["Moving Average Type"],s,o,0,"_MACD2",t,e),c=0,h=0;for(var y=e.startFrom;y<a.length;y++)u="_",u+="PF ",d="_",d+="PF",d+=" ",p="_",p+="P",p+="F ",g="_",g+="PF",g+=" ",(f=a[y])["Result "+e.name]=h,y<s-1||(f["_MACD "+e.name]=f["_MACD1 "+e.name]-f["_MACD2 "+e.name],y<s+(r-1)||(c=(m=v(r,y,"_MACD"))[1]>m[0]?100*(f["_MACD "+e.name]-m[0])/(m[1]-m[0]):c,f[g+e.name]=a[y-1][p+e.name]?a[y-1]["_PF "+e.name]+l*(c-a[y-1][d+e.name]):c,y<s+2*(r-1)||(h=(m=v(r,y,"_PF"))[1]>m[0]?100*(f[u+e.name]-m[0])/(m[1]-m[0]):h,f["Result "+e.name]=a[y-1]["Result "+e.name]?a[y-1]["Result "+e.name]+l*(h-a[y-1]["Result "+e.name]):h)))}},le.Studies.calculateStochastics=function(t,e){var i,a,r,n,s,o,l,c,h;function u(t,e,i){var a,r,n,s;ce.x$i(102),a=ce.S9A(t,"1",i),ce.a8F(),ce.S2_(8);var o=ce.J6w(12,18,7);r=Number.MAX_VALUE*o,n=Number.MAX_VALUE;for(var c=a;c<=t;c++)s="C",s+="los",s+="e",n=Math.min(n,"Close"==e?l[c].Low:l[c][e]),r=Math.max(r,e==s?l[c].High:l[c][e]);return r==n?0:(l[t][e]-n)/(r-n)*100}if(i="S",i+="low",a="%",a+="K Sm",a+="oothing Periods",r="%",r+="K Pe",r+="r",r+="iods",n="f",n+="ie",n+="ld",e.smooth||(e.smooth=e.inputs.Smooth),(s=e.inputs.Field)&&s!=n||(s="Close"),(o=e.inputs[r])||(o=e.days),(l=e.chart.scrubbed).length<Math.max(o,e.days)+1)e.error=!0;else{(c=e.inputs[a])?e.smooth=!0:e.smooth&&(c=3),(h=e.inputs["%D Periods"])||(h=3),e.outputMap={},e.outputMap["%K "+e.name]="Fast",e.outputMap["%D "+e.name]=i;for(var d=Math.max(o,e.startFrom);d<l.length;d++)l[d][e.name]=u(d,s,o);le.Studies.MA("simple",e.smooth?c:1,e.name,0,"%K",t,e),le.Studies.MA("simple",h,"%K "+e.name,0,"%D",t,e)}},le.Studies.calculateStochMomentum=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f;function m(t,e){var i,a;ce.N__(),i=null,a=null;for(var r=e-t+1;r<=e;r++)i=null===i?u[r].Low:Math.min(i,u[r].Low),a=null===a?u[r].High:Math.max(a,u[r].High);return[i,a]}if(i="%",i+="K",a="e",a+="xponent",a+="ial",r="_D",r+="HL",r+="1",n="e",n+="xp",n+="onen",n+="tial",s="expo",s+="nenti",s+="al",o=Number(e.inputs["%K Periods"]),l=Number(e.inputs["%K Smoothing Periods"]),c=Number(e.inputs["%K Double Smoothing Periods"]),h=Number(e.inputs["%D Periods"]),(u=e.chart.scrubbed).length<o+l+c-1||u.length<h)e.error=!0;else{for(d=Math.max(o,e.startFrom)-1;d<u.length;d++){p=u[d],g=m(o,d),ce.S2_(84);var v=ce.S9A(33,8,4);ce.x$i(8);var y=ce.J6w(24,32,6);p["_H "+e.name]=p.Close-(g[0]+g[v])/y,p["_DHL "+e.name]=g[1]-g[0]}for(le.Studies.MA(s,l,"_H "+e.name,0,"_HS1",t,e),le.Studies.MA("exponential",c,"_HS1 "+e.name,0,"_HS2",t,e),le.Studies.MA(n,l,"_DHL "+e.name,0,r,t,e),le.Studies.MA(a,c,"_DHL1 "+e.name,0,"_DHL2",t,e),d=o-1;d<u.length;d++){f="%",f+="K",f+=" ",ce.S2_(10);var b=ce.J6w(11,89);u[d][f+e.name]=u[d]["_HS2 "+e.name]/(.5*u[d]["_DHL2 "+e.name])*b}le.Studies.MA(e.inputs["%D Moving Average Type"],h,"%K "+e.name,0,"%D",t,e),e.zoneOutput=i}},le.Studies.calculateSwingIndex=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g;if(i="Result",i+=" ",a="Limit M",a+="ove Val",a+="u",a+="e",(null===(r=e.inputs[a])||isNaN(r))&&(ce.S2_(103),r=ce.J6w("99999",32)),ce.N__(),n=e.chart.scrubbed,s=0,e.startFrom>1){ce.x$i(10);var f=ce.S9A(1,0);s=n[e.startFrom-f][i+e.name]}for(var m=Math.max(1,e.startFrom);m<n.length;m++){o=Math.abs(n[m].High-n[m-1].Close),l=Math.abs(n[m].Low-n[m-1].Close),c=Math.abs(n[m].High-n[m].Low),h=Math.abs(n[m-1].Close-n[m-1].Open),u=Math.max(o,l),d=Math.max(c,u),ce.x$i(104),p=ce.S9A(.25,h,d),d==o?(ce.x$i(17),p-=ce.J6w(.5,l)):d==l&&(ce.S2_(17),p-=ce.J6w(.5,o)),ce.S2_(105);var v=ce.S9A(49,350,7,50);ce.S2_(29);var y=ce.J6w(15,5,7,7,4);ce.S2_(10);var b=ce.J6w(1,0);g=v*(n[m].Close-n[m-y].Close+.5*(n[m].Close-n[m].Open)+.25*(n[m-1].Close-n[m-b].Open))/p*(u/r),0!==p&&0!==r||(g=0),"Swing"==e.type&&(ce.x$i(22),s=ce.S9A("0",0)),s+=g,n[m]["Result "+e.name]=s}},le.Studies.calculateTRIX=function(t,e){var i,a,r,n,s,o,l,c;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{a=e.name,ce.S2_(10),r=["Close",ce.J6w(a,"_MA1 "),ce.S9A(a,"_MA2 "),ce.S9A(a,"_MA3 ")];for(var h=0;h<r.length-1;h++)n="_",n+="MA",s="ex",s+="po",s+="nential",le.Studies.MA(s,e.days,r[h],0,n+(h+1).toString(),t,e);o=r[3];for(var u=Math.max(1,e.startFrom);u<i.length;u++)if(l="R",l+="esult ",ce.x$i(0),c=i[ce.S9A(u,1)][o]){ce.x$i(0);var d=ce.J6w(900,800);ce.S2_(106);var p=ce.J6w(18,13,2,9,142);ce.x$i(10),i[u][ce.S9A(a,l)]=d*(i[u][o]/c-p)}}},le.Studies.calculateTwiggsMoneyFlow=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f;if((i=e.chart.scrubbed).length<e.days){e.error=!0,a=-891695412,r=260354618,n=2;for(var m=1;ce.U42(m.toString(),m.toString().length,24007)!==a;m++)return;if(ce.U42(n.toString(),n.toString().length,88209)!==r)return}ce.N__(),s=0,o=0,l=-206234023,c=-630545560,h=2;for(var v=1;ce.m91(v.toString(),v.toString().length,91344)!==l;v++){ce.S2_(107);var y=ce.S9A(20,15,15,15,5);u=i[e.startFrom-y],h+=2}if(ce.U42(h.toString(),h.toString().length,78380)!==c){ce.x$i(0);var b=ce.J6w(25,19);u=i[e.startFrom%b]}u&&(d="_sumM",u[(d+="F ")+e.name]&&(s=u["_sumMF "+e.name]),u["_sumV "+e.name]&&(o=u["_sumV "+e.name]));for(var x=Math.max(1,e.startFrom);x<i.length;x++){p="_",p+="MFV",p+=" ",g=Math.max(i[x-1].Close,i[x].High),f=Math.min(i[x-1].Close,i[x].Low),ce.S2_(108);var S=ce.J6w(7,1,18,103,17);ce.x$i(109);var k=ce.J6w(17,8,19,999987,6);if(i[x][p+e.name]=i[x].Volume*(S*i[x].Close-g-f)/(g-f==0?k:g-f),x>e.days-1){ce.x$i(110);var C=ce.J6w(5,1,66,13,0);s*=(e.days-C)/e.days,ce.S2_(98);var w=ce.S9A(4,0,2,4);o*=(e.days-w)/e.days}s+=i[x]["_MFV "+e.name],o+=i[x].Volume,x>e.days-1&&o&&(ce.S2_(1),i[x]["Result "+e.name]=ce.J6w(s,o>0?o:999999)),i[x]["_sumMF "+e.name]=s,i[x]["_sumV "+e.name]=o}},le.Studies.calculateUltimateOscillator=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y;if(i="C",i+="y",i+="cl",i+="e 1",a=e.chart.scrubbed,r=[e.inputs[i],e.inputs["Cycle 2"],e.inputs["Cycle 3"]],n=Math.max(r[0],r[1],r[2]),a.length<n+1)e.error=!0;else{ce.S2_(78);var b=ce.J6w(2,11,11);s=r[0]*r[b],ce.S2_(44);var x=ce.J6w(5,28,6);o=r[0]*r[x],ce.x$i(111);var S=ce.S9A(4,11,13,137);l=r[1]*r[S],c=[0,0,0],h=[0,0,0],e.startFrom&&(a[e.startFrom-1]["_accbp "+e.name]&&(c=a[e.startFrom-1]["_accbp "+e.name].slice()),a[e.startFrom-1]["_acctr "+e.name]&&(h=a[e.startFrom-1]["_acctr "+e.name].slice()));for(var k=Math.max(1,e.startFrom);k<a.length;k++){u=Math.min(a[k].Low,a[k-1].Close),d=a[k].Close-u,p=Math.max(a[k].High,a[k-1].Close)-u;for(var C=0;C<r.length;C++)if(c[C]+=d,h[C]+=p,k>r[C]){g=Math.min(a[k-r[C]].Low,a[k-r[C]-1].Close),f=a[k-r[C]].Close-g,ce.S2_(112);var w=ce.S9A(12,26,5,10);m=Math.max(a[k-r[C]].High,a[k-r[C]-w].Close)-g,c[C]-=f,h[C]-=m}if(a[k]["_accbp "+e.name]=c.slice(),a[k]["_acctr "+e.name]=h.slice(),!(k<n)){ce.S2_(113);var D=ce.J6w(2,2,32,16,10);ce.S2_(28);var T=ce.S9A(7,3,1,7);v=l*c[0]/h[0]+o*c[D]/h[1]+s*c[2]/h[T],ce.S2_(9),y=ce.J6w(s,l,o),ce.S2_(73),a[k]["Result "+e.name]=ce.S9A(100,v,y)}}}},le.Studies.calculateVerticalHorizontalFilter=function(t,e){var i,a,r,n,s;if(ce.a8F(),(i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{e.mhml=new le.Studies.StudyDescriptor(e.name,e.type,e.panel),e.mhml.chart=e.chart,e.mhml.days=e.days,e.mhml.startFrom=e.startFrom,e.mhml.inputs={},e.mhml.outputs={_MHML:null},le.Studies.calculateMaxHighMinLow(t,e.mhml),a=0,r=[];for(var o=Math.max(1,e.startFrom-e.days);o<i.length;o++)n=Math.abs(i[o].Close-i[o-1].Close),r.push(n),a+=n,r.length==e.days&&(s="Res",s+="u",s+="lt ",i[o][s+e.name]=i[o]["_MHML "+e.name]/a,a-=r.shift())}},le.Studies.calculateVolumeIndex=function(t,e){var i,a,r,n,s,o,l,c,h;if((i=e.inputs.Field)&&"field"!=i||(i="Close"),(a=e.chart.scrubbed).length<e.days+1)e.error=!0;else{if(r=100,e.startFrom>1){ce.x$i(11);var u=ce.J6w(2,1);r=a[e.startFrom-u]["Index "+e.name]}for(var d=Math.max(1,e.startFrom);d<a.length;d++)n="Ne",n+="g V",n+="o",n+="l",s="o",s+="bj",s+="ect",o=a[d][i],l=a[d].Volume,o&&"object"==typeof o&&(l=o.Volume,o=o[e.subField]),ce.x$i(0),c=a[ce.J6w(d,1)][i],h=a[d-1].Volume,c&&typeof c==s&&(h=c.Volume,c=c[e.subField]),o&&c&&(("Pos Vol"==e.type&&l>h||e.type==n&&l<h)&&(ce.x$i(1),r*=ce.J6w(o,c)),a[d]["Index "+e.name]=r);le.Studies.MA(e.inputs["Moving Average Type"],e.days,"Index "+e.name,0,"MA",t,e)}},le.Studies.displayIchimoku=function(t,e,i){var a,r,n,s,o,l,c,h,u;a="Lea",a+="ding Span B ",r="Le",r+="adi",n=(r+="ng Span A ")+e.name,s=a+e.name,o=le.Studies.determineColor(e.outputs[e.outputMap[n]]),l=le.Studies.determineColor(e.outputs[e.outputMap[s]]),c=t.panels[e.panel],h=e.getYAxis(t),u={topBand:n,bottomBand:s,topColor:o,bottomColor:l,skipTransform:c.name!=e.chart.name,topAxis:h,bottomAxis:h,opacity:.3},!e.highlight&&t.highlightedDraggable&&(u.opacity*=.3),le.fillIntersecting(t,e.panel,u),le.Studies.displaySeriesAsLine(t,e,i)},le.Studies.displayDarvas=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j;a="Sto",a+="p L",a+="evels",r="a",r+="u",r+="t",r+="o",n="au",n+="t",n+="o",(s=le.Studies.determineColor(e.outputs.Levels))&&s!=n&&!le.isTransparent(s)||(s=t.defaultColor),(o=le.Studies.determineColor(e.outputs.Darvas))&&o!=r&&!le.isTransparent(o)||(o=t.defaultColor),(l=le.Studies.determineColor(e.outputs.Ghost))&&"auto"!=l&&!le.isTransparent(l)||(l=t.defaultColor),c=t.panels[e.panel],h=e.getContext(t),ce.S2_(11);var $=ce.J6w(13,12);if((f=t.layout.candleWidth-"2"*$)<2&&(f=1),ce.N__(),t.startClip(e.panel),e.inputs[a]){for(h.setLineDash&&h.setLineDash([2,2]),h.lineWidth=2,h.strokeStyle=s,h.beginPath(),u=0;u<i.length;u++)m="Los",m+="s ",v="Lo",v+="s",v+="s",v+=" ",d=i[u],ce.x$i(0),y=i[ce.J6w(u,1)],d&&(g=d[v+e.name]?Math.floor(t.pixelFromPrice(d[m+e.name],c)):null,b=y&&y["Loss "+e.name]?Math.floor(t.pixelFromPrice(y["Loss "+e.name],c)):null,g&&(d.candleWidth&&(f=Math.floor(Math.max(1,d.candleWidth))),x=Math.floor(t.pixelFromBar(u,c.chart)+f/2),S=Math.floor(t.pixelFromBar(u,c.chart)-f/2),b&&b>=g?h.lineTo(S,g):0===u?h.moveTo(t.chart.left,g):h.moveTo(S,g),h.lineTo(x,g)));h.stroke(),h.setLineDash&&h.setLineDash([]),k=-642099656,ce.S2_(0),C=ce.J6w("488366258",0),w=2;for(var Y=1;ce.m91(Y.toString(),Y.toString().length,40698)!==k;Y++)h.lineWidth=7,w+=2;ce.U42(w.toString(),w.toString().length,64408)!==C&&(h.lineWidth=1)}D=-10,A=0,L=-10,ce.x$i(0),P=ce.J6w("0",0),E=!1,I=!1,ce.x$i(0);var X=ce.S9A(1470,5);ce.S2_(10);var Z=ce.J6w(9,3631);ce.S2_(10);var J=ce.J6w(2,0);for(N=h.measureText(X<=482.18?Z:"▲").width/J,u=0;u<i.length;u++)if(i[u]){if(i[u]["Spike "+e.name]&&(h.fillStyle=o,h.textBaseline="bottom",q=t.pixelFromPrice(i[u].High,t.chart.panel),h.fillText("▼",t.pixelFromBar(u)-N,q-5)),i[u].candleWidth&&(f=Math.floor(Math.max(1,i[u].candleWidth))),i[u]["Darvas "+e.name])if(1!=(d=i[u]["Darvas "+e.name]).State||E){if(0===d.State){ce.S2_(114);var G=ce.J6w(384,64,4,20,7);A=Math.floor(t.pixelFromBar(u,c.chart)+f/("2"<<G))-D,T=Math.floor(t.pixelFromPrice(d.High,c)),M=Math.floor(t.pixelFromPrice(d.Low,c))-T,h.strokeStyle=o,h.fillStyle=o,e.inputs["Stop Levels"]?h.globalAlpha=.3:(h.strokeRect(D,T,A,M),h.globalAlpha=.2),h.fillRect(D,T,A,M),h.globalAlpha=1,E=!1}}else D=Math.floor(t.pixelFromBar(u,c.chart)-f/2),T=Math.floor(t.pixelFromPrice(d.High,c)),M=Math.floor(t.pixelFromPrice(d.Low,c))-T,E=!0;if(i[u]["Ghost "+e.name]&&e.inputs["Ghost Boxes"])if(O="G",O+="host ",1!=(d=i[u][O+e.name]).State||I){if(0===d.State){H="Stop",H+=" Leve",H+="ls",d.Start==d.End&&(L=Math.floor(t.pixelFromBar(u,c.chart)-f/2)),ce.x$i(39);var K=ce.J6w(11,62,62,53);P=Math.floor(t.pixelFromBar(u,c.chart)+f/("2"<<K))-L,_=Math.floor(t.pixelFromPrice(d.High,c)),F=Math.floor(t.pixelFromPrice(d.Low,c))-_,h.strokeStyle=l,h.fillStyle=l,e.inputs[H]?h.globalAlpha=.3:(h.strokeRect(L,_,P,F),h.globalAlpha=.2),h.fillRect(L,_,P,F),h.globalAlpha=1,I=!1}}else L=Math.floor(t.pixelFromBar(u,c.chart)-f/2),_=Math.floor(t.pixelFromPrice(d.High,c)),P=Math.floor((d.End-d.Start+1)*t.layout.candleWidth+f/2),F=Math.floor(t.pixelFromPrice(d.Low,c))-_,I=!0}if(E){ce.S2_(45);var Q=ce.J6w(10,10,17,20,338);if(A=Math.floor(t.pixelFromBar(u,c.chart)+f/Q)-D,h.strokeStyle=o,h.fillStyle=o,e.inputs["Stop Levels"])h.globalAlpha=.3;else{h.beginPath(),ce.x$i(115),h.moveTo(ce.J6w(D,A,"2"),T),h.lineTo(D,T),ce.x$i(10),h.lineTo(D,ce.J6w(M,T)),ce.x$i(104),h.lineTo(ce.S9A(2,A,D),ce.J6w(M,T,ce.S2_(10))),h.stroke(),R=-1139405289,U=-1222894083,z=2;for(var tt=1;ce.m91(tt.toString(),tt.toString().length,28571)!==R;tt++)h.globalAlpha=.2,z+=2;ce.m91(z.toString(),z.toString().length,20131)!==U&&(h.globalAlpha=499)}ce.S2_(17),h.fillRect(D,T,ce.J6w(2,A),M),h.globalAlpha=1}if(I&&(h.strokeStyle=l,h.fillStyle=l,e.inputs["Stop Levels"]?h.globalAlpha=.3:(h.strokeRect(L,_,P,F),h.globalAlpha=.2),h.fillRect(L,_,P,F),h.globalAlpha=1),E||I){if(e.inputs["Stop Levels"]){if(h.setLineDash&&h.setLineDash([2,2]),h.lineWidth=2,h.strokeStyle=s,V=Math.floor(t.pixelFromBar(u-1,c.chart)+f/2),p){B=2131989335,ce.x$i(22),W=-ce.S9A("1609432019",0),j=2;for(var et=1;ce.m91(et.toString(),et.toString().length,88459)!==B;et++)h.beginPath(),h.moveTo(V,p),h.lineTo(E?D*(8/A):L%P,p),h.stroke(),j+=2;ce.U42(j.toString(),j.toString().length,33426)!==W&&(h.beginPath(),h.moveTo(V,p),h.lineTo(E?D-7%A:L+P,p),h.stroke()),h.beginPath(),h.moveTo(V,p),h.lineTo(E?D+2*A:L+P,p),h.stroke()}g&&(h.beginPath(),h.moveTo(V,g),h.lineTo(E?D+2*A:L+P,g),h.stroke()),h.setLineDash&&h.setLineDash([]),h.lineWidth=1}E=!1,I=!1}t.endClip()},le.Studies.displaySupertrend=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f;a=t.panels[e.panel],r=e.getContext(t),n=e.getYAxis(t),s={skipTransform:a.name!=e.chart.name,skipProjections:!0,label:t.preferences.labels,yAxis:n,highlight:e.highlight},r.strokeStyle=v(t,i[i.length-1]),r.lineWidth=2,e.highlight&&(r.lineWidth=1.5),o="Trend "+e.name,ce.a8F();for(var m=0;a.chart.transformFunc&&n!=a.chart.yAxis&&m<i.length;m++)(l=i[m])&&l.transform&&(l.transform[o]=a.chart.transformFunc(t,a.chart,l[o]));function v(t,i,a){return i&&i["_Direction "+e.name]<0?e.outputs.Downtrend:e.outputs.Uptrend}for(t.plotDataSegmentAsLine(o,a,s,v),r.lineWidth=1,r.globalAlpha=1,t.startClip(e.panel),!e.highlight&&t.highlightedDraggable&&(r.globalAlpha*=.3),c=r.measureText("▲").width/2,h=0;h<i.length;h++)if(u="_Dire",u+="cti",u+="o",u+="n ",i[h]&&i[h-1])if(i[h-1][u+e.name]>i[h]["_Direction "+e.name]){d="bott",d+="om",r.fillStyle=e.outputs.Downtrend,r.textBaseline=d,p=t.pixelFromPrice(i[h].High,a,n);for(var y=5;y<=45;y+=10)n.flipped?r.fillText("▲",t.pixelFromBar(h)-c,p+y):r.fillText("▼",t.pixelFromBar(h)-c,p-y)}else if(i[h-1]["_Direction "+e.name]<i[h]["_Direction "+e.name]){g="t",g+="o",g+="p",r.fillStyle=e.outputs.Uptrend,r.textBaseline=g,f=t.pixelFromPrice(i[h].Low,a,n);for(var b=5;b<=45;b+=10)n.flipped?r.fillText("▼",t.pixelFromBar(h)-c,f-b):r.fillText("▲",t.pixelFromBar(h)-c,f+b)}t.endClip()},le.Studies.displayMFI=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g;a=t.panels[e.panel],r=e.getContext(t),s=(n=e.getYAxis(t)).flipped?n.top:n.bottom,(o=t.layout.candleWidth-2)<2&&(o=1),l=le.Studies.determineColor(e.outputs.Green),c=le.Studies.determineColor(e.outputs.Fade),h=le.Studies.determineColor(e.outputs.Fake),u=le.Studies.determineColor(e.outputs.Squat),t.canvasColor("stx_histogram"),e.underlay||(r.globalAlpha=1),r.fillStyle="#CCCCCC",t.startClip(e.panel),!e.highlight&&t.highlightedDraggable&&(r.globalAlpha*=.3);for(var f=0;f<i.length;f++)d="_hi",d+="st",p=i[f],ce.S2_(0),(g=i[ce.J6w(f,1)])||(g=t.getPreviousBar(t.chart,e.name+d,f)),p&&(g&&(g[e.name+"_hist"]<p[e.name+"_hist"]?g.Volume<p.Volume?r.fillStyle=l:g.Volume>p.Volume&&(r.fillStyle=h):g[e.name+"_hist"]>p[e.name+"_hist"]&&(g.Volume<p.Volume?r.fillStyle=u:g.Volume>p.Volume&&(r.fillStyle=c))),p.candleWidth&&(o=Math.floor(Math.max(1,p.candleWidth-2))),r.fillRect(Math.floor(t.pixelFromBar(f,a.chart)-o/2),Math.floor(s),Math.floor(o),Math.floor(t.pixelFromPrice(p[e.name+"_hist"],a,n)-s)));t.endClip()},le.Studies.displayAwesomeOscillator=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m;a="Decre",a+="asing Bar",r="Incr",r+="eas",r+="ing",r+=" Bar",n=t.panels[e.panel],s=e.getContext(t),o=e.getYAxis(t),l=t.pixelFromPrice(0,n,o),ce.S2_(116);var v=ce.J6w(12,9,22,154);(c=t.layout.candleWidth-v)<2&&(c=1),h=le.Studies.determineColor(e.outputs[r]),u=le.Studies.determineColor(e.outputs[a]),t.canvasColor("stx_histogram"),ce.a8F(),e.underlay||(s.globalAlpha=1),s.fillStyle="#CCCCCC",t.startClip(e.panel),!e.highlight&&t.highlightedDraggable&&(s.globalAlpha*=.3);for(var y=0;y<i.length;y++)d="_",d+="h",d+="i",d+="st",p="_hi",p+="st",g="_h",g+="i",g+="s",g+="t",f=i[y],ce.x$i(0),(m=i[ce.S9A(y,1)])||(m=t.getPreviousBar(t.chart,e.name+"_hist",y)),f&&(m&&(m[e.name+"_hist"]<f[e.name+g]?s.fillStyle=h:m[e.name+p]>f[e.name+d]&&(s.fillStyle=u)),f.candleWidth&&(c=Math.floor(Math.max(1,f.candleWidth-2))),s.fillRect(Math.floor(t.pixelFromBar(y,n.chart)-c/2),Math.floor(l),Math.floor(c),Math.floor(t.pixelFromPrice(f[e.name+"_hist"],n,o)-l)));t.endClip()},le.Studies.displayGator=function(t,e,i){var a,r,n,s,o,l,c,h,u,d;a=t.panels[e.panel],r=e.getContext(t),n=e.getYAxis(t),s=t.pixelFromPrice(0,a,n),ce.S2_(23);var p=ce.S9A(20,7,25);ce.N__(),(o=t.layout.candleWidth-p)<2&&(ce.S2_(103),o=ce.S9A("1",64)),l=le.Studies.determineColor(e.outputs["Increasing Bar"]),c=le.Studies.determineColor(e.outputs["Decreasing Bar"]),t.canvasColor("stx_histogram"),e.underlay||(r.globalAlpha=1),r.fillStyle="#CCCCCC",t.startClip(e.panel),!e.highlight&&t.highlightedDraggable&&(r.globalAlpha*=.3);for(var g=0;g<i.length;g++)if(h=i[g],ce.x$i(0),u=i[ce.J6w(g,1)],h)for(var f=1;f<=2;f++)d="_",d+="hi",d+="s",d+="t",u||(u=t.getPreviousBar(t.chart,e.name+"_hist"+f,g)),u?Math.abs(u[e.name+d+f])<Math.abs(h[e.name+"_hist"+f])?r.fillStyle=l:Math.abs(u[e.name+"_hist"+f])>Math.abs(h[e.name+"_hist"+f])&&(r.fillStyle=c):r.fillStyle="#CCCCCC",h.candleWidth&&(o=Math.floor(Math.max(1,h.candleWidth-2))),r.fillRect(Math.floor(t.pixelFromBar(g,a.chart)-o/2),Math.floor(s),Math.floor(o),Math.floor(t.pixelFromPrice(h[e.name+"_hist"+f],a,n)-s));t.endClip()},le.Studies.initElderImpulse=function(t,e,i,a,r,n){var s,o;return s="col",s+="ored_b",s+="ar",o=le.Studies.initializeFN(t,e,i,a,r,n),r.calculateOnly||(t.chart.customChart={chartType:s,colorFunction:function(t,e,i){var a;return ce.N__(),(a=e["Result "+o.name])&&"object"==typeof a&&(a=a.color),a}},t.setMainSeriesRenderer()),o},le.Studies.displayPivotPoints=function(t,e,i){var a,r,n,s;e.noSlopes=!e.inputs.Continuous,le.Studies.displaySeriesAsLine(t,e,i),ce.a8F(),e.inputs.Shading&&(a="Piv",a+="ot",a+=" ",r="Resistan",r+="c",r+="e 3 ",n=t.panels[e.panel],s={noSlopes:e.noSlopes,opacity:e.parameters.opacity?e.parameters.opacity:.2,skipTransform:n.name!=e.chart.name,yAxis:e.getYAxis(t)},!e.highlight&&t.highlightedDraggable&&(s.opacity*=.3),le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:r+e.name,bottomBand:"Resistance 2 "+e.name,color:le.Studies.determineColor(e.outputs["Resistance 3"])},s)),le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:"Resistance 2 "+e.name,bottomBand:"Resistance 1 "+e.name,color:le.Studies.determineColor(e.outputs["Resistance 2"])},s)),le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:"Resistance 1 "+e.name,bottomBand:"Pivot "+e.name,color:le.Studies.determineColor(e.outputs["Resistance 1"])},s)),le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:"Support 1 "+e.name,bottomBand:a+e.name,color:le.Studies.determineColor(e.outputs["Support 1"])},s)),le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:"Support 2 "+e.name,bottomBand:"Support 1 "+e.name,color:le.Studies.determineColor(e.outputs["Support 2"])},s)),le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:"Support 3 "+e.name,bottomBand:"Support 2 "+e.name,color:le.Studies.determineColor(e.outputs["Support 3"])},s)))},le.Studies.displayVWAP=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y;a="Display 3 ",a+="Standard ",a+="Deviation (3σ)",ce.a8F(),r="Display 1 Standard Deviation ",r+="(1",r+="σ)",le.Studies.displaySeriesAsLine(t,e,i),n=e.inputs[r],s=e.inputs["Display 2 Standard Deviation (2σ)"],o=e.inputs[a],(n||s||o)&&e.inputs.Shading&&(l="VWA",l+="P ",c=t.panels[e.panel],h={opacity:e.parameters.opacity?e.parameters.opacity:.2,skipTransform:c.name!=e.chart.name,yAxis:e.getYAxis(t)},!e.highlight&&t.highlightedDraggable&&(h.opacity*=.3),u=l+e.name,d="VWAP "+e.name,n&&(le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:"SDVWAP1+ "+e.name,bottomBand:u,color:le.Studies.determineColor(e.outputs[e.outputMap["SDVWAP1+ "+e.name]])},h)),le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:"SDVWAP1- "+e.name,bottomBand:d,color:le.Studies.determineColor(e.outputs[e.outputMap["SDVWAP1- "+e.name]])},h)),u="SDVWAP1+ "+e.name,d="SDVWAP1- "+e.name),s&&(p="SDV",p+="W",p+="A",p+="P2+ ",g="SD",g+="VWAP2",g+="+ ",f="SD",f+="VWAP2",f+="+ ",le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:f+e.name,bottomBand:u,color:le.Studies.determineColor(e.outputs[e.outputMap[g+e.name]])},h)),le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:"SDVWAP2- "+e.name,bottomBand:d,color:le.Studies.determineColor(e.outputs[e.outputMap["SDVWAP2- "+e.name]])},h)),u=p+e.name,d="SDVWAP2- "+e.name),o&&(m="SD",m+="VWAP3- ",v="SDVWA",v+="P3",v+="-",v+=" ",y="SD",y+="VWAP3+ ",le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:"SDVWAP3+ "+e.name,bottomBand:u,color:le.Studies.determineColor(e.outputs[e.outputMap[y+e.name]])},h)),le.prepareChannelFill(t,le.extend({panelName:e.panel,topBand:v+e.name,bottomBand:d,color:le.Studies.determineColor(e.outputs[e.outputMap[m+e.name]])},h))))},le.Studies.displayADX=function(t,e,i){var a,r,n,s,o,l,c,h,u;a=e.underlay?.3:e.inputs.Series?.4:1,ce.a8F(),e.inputs.Series&&e.inputs.Shading&&(r="-",r+="DI",r+=" ",n="+DI",s=(n+=" ")+e.name,o=r+e.name,l=le.Studies.determineColor(e.outputs[e.outputMap[s]]),c=le.Studies.determineColor(e.outputs[e.outputMap[o]]),h=e.getYAxis(t),u={topBand:s,bottomBand:o,topColor:l,bottomColor:c,skipTransform:t.panels[e.panel].name!=e.chart.name,topAxis:h,bottomAxis:h,opacity:.3},!e.highlight&&t.highlightedDraggable&&(u.opacity*=.3),le.fillIntersecting(t,e.panel,u)),e.inputs.Histogram&&le.Studies.createHistogram(t,e,i,!1,a),!1!==e.inputs.Series?le.Studies.displaySeriesAsLine(t,e,i):e.inputs.Series||e.inputs.Histogram||t.displayErrorAsWatermark(e.panel,t.translateIf(e.name)+": "+t.translateIf("Nothing to display"))},le.Studies.displayAlligator=function(t,e,i){var a,r,n,s;if(a=e.getContext(t),e.inputs["Show Lines"]&&le.Studies.displaySeriesAsLine(t,e,i),e.inputs["Show Fractals"]){r=1960806153,n=1354419706,s=2;for(var o=1;ce.m91(o.toString(),o.toString().length,35529)!==r;o++)t.startClip(),a.globalAlpha=e.underlay?.3:1,ce.S2_(26),s+=ce.J6w("2",64);ce.m91(s.toString(),s.toString().length,90649)!==n&&(t.startClip(),a.globalAlpha=e.underlay?653:8),!e.highlight&&t.highlightedDraggable&&(a.globalAlpha*=.3);for(var l=2;l<i.length-2;l++)i[l]&&(i[l]["Fractal High "+e.name]&&c("high",l),i[l]["Fractal Low "+e.name]&&c("low",l));t.endClip()}function c(e,r){var n,s,o,c,h;n="h",n+="i",n+="g",n+="h",o=t.chart.panel.yAxis.flipped,e==n?(c="b",c+="ott",c+="om",a.fillStyle=t.defaultColor,a.textBaseline=o?"top":c,s=t.pixelFromPrice(i[r].High),a.fillText(o?"▼":"▲",t.pixelFromBar(l,t.chart)-a.measureText("▲").width/2+1,o?s+5:s-5)):"low"==e&&(h="botto",h+="m",a.fillStyle=t.defaultColor,a.textBaseline=o?h:"top",s=t.pixelFromPrice(i[r].Low),a.fillText(o?"▲":"▼",t.pixelFromBar(l,t.chart)-a.measureText("▼").width/2+1,o?s-5:s+5))}},le.Studies.displayChannel=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f;if(a="C",a+="h",a+="a",a+="nnel Fill",e.inputs[a]){r=1004714730,n=1932484536,s=2;for(var m=1;ce.U42(m.toString(),m.toString().length,35637)!==r;m++)o={panelName:e.panel},s+=2;for(var v in ce.m91(s.toString(),s.toString().length,68305)!==n&&(o={panelName:e.panel}),e.outputs)if(l="Cha",l+="nn",l+="el",c="Me",c+="dia",c+="n",h="Bo",h+="t",h+="tom","Top"==(u=v.split(" ").pop())||"High"==u)o.topBand=v+" "+e.name;else if(u==h||"Low"==u){ce.S2_(21),ce.S9A(59,1,5),ce.S2_(117),ce.J6w(2,3,13,7610,17),ce.x$i(10);var y=ce.J6w(18,2366);ce.x$i(23),ce.S9A(2501,16,7),ce.x$i(118);var b=ce.J6w(5076,9,267,12,267);ce.x$i(119);var x=ce.J6w(4,55,275,270,1);o.bottomBand=v+(y<189.34?294.06<=b||x:" ")+e.name}else u!=c&&u!=l||(o.color=le.Studies.determineColor(e.outputs[v]));e.parameters&&e.parameters.opacity?o.opacity=e.parameters.opacity:(ce.S2_(0),o.opacity=ce.J6w("0.2",0)),d=t.panels[e.panel],o.skipTransform=d.name!=e.chart.name,o.yAxis=e.getYAxis(t),!e.highlight&&t.highlightedDraggable&&(o.opacity*=.3),le.prepareChannelFill(t,o)}p=1597595297,g=-860607465,ce.N__(),f=2;for(var S=1;ce.U42(S.toString(),S.toString().length,41408)!==p;S++)le.Studies.displaySeriesAsLine(t,e,i),f+=2;ce.m91(f.toString(),f.toString().length,25706)!==g&&le.Studies.displaySeriesAsLine(t,e,i)},le.Studies.displayElderForce=function(t,e,i){var a,r,n,s;le.Studies.displaySeriesAsLine(t,e,i),a=le.Studies.determineColor(e.outputs.Result),r=t.panels[e.panel],n=e.getYAxis(t),s={skipTransform:r.name!=e.chart.name,panelName:e.panel,band:"Result "+e.name,threshold:0,color:a,yAxis:n},!e.highlight&&t.highlightedDraggable&&(s.opacity=.3),s.direction=1,le.preparePeakValleyFill(t,s),ce.a8F(),s.direction=-1,le.preparePeakValleyFill(t,s)},le.Studies.displayElderRay=function(t,e,i){var a,r,n,s,o,l,c,h,u;function d(i,l,c,h){r.fillStyle=le.Studies.determineColor(e.outputs[c]),ce.N__(),r.fillRect(Math.floor(t.pixelFromBar(i,a.chart)-o/2+o*l),Math.floor(s),Math.floor(o*(1-2*l)),Math.floor(t.pixelFromPrice(u[e.name+h],a,n)-s))}a=t.panels[e.panel],r=e.getContext(t),n=e.getYAxis(t),s=t.pixelFromPrice(0,a,n),ce.x$i(23);var p=ce.J6w(20,13,31);(o=t.layout.candleWidth-p)<2&&(o=1),t.canvasColor("stx_histogram"),l=r.fillStyle,e.underlay||(ce.x$i(17),r.globalAlpha=ce.J6w("1",1)),t.startClip(e.panel),!e.highlight&&t.highlightedDraggable&&(r.globalAlpha*=.3);for(var g=0;g<i.length;g++)c="Elder ",c+="Bear Power",h="_",h+="his",h+="t",h+="1",(u=i[g])&&(u.candleWidth&&(o=Math.floor(Math.max(1,u.candleWidth-2))),u[e.name+"_hist1"]>0&&d(g,0,"Elder Bull Power","_hist1"),u[e.name+"_hist2"]<0&&d(g,0,"Elder Bear Power","_hist2"),u[e.name+"_hist1"]<0&&d(g,.1,"Elder Bull Power",h),u[e.name+"_hist2"]>0&&d(g,.1,c,"_hist2"));t.endClip(),r.fillStyle=l},le.Studies.displayMassIndex=function(t,e,i){var a,r,n,s,o,l;ce.N__(),a="Result",a+=" ",r="Bu",r+="l",r+="ge ",r+="Threshold",le.Studies.displaySeriesAsLine(t,e,i),n=e.inputs[r],t.panels[e.panel],s=e.getYAxis(t),o=le.Studies.determineColor(e.outputs.Result),l={skipTransform:t.panels[e.panel].name!=e.chart.name,panelName:e.panel,band:a+e.name,threshold:n,direction:1,color:o,yAxis:s,opacity:.3},!e.highlight&&t.highlightedDraggable&&(l.opacity*=.3),le.preparePeakValleyFill(t,l),le.Studies.drawHorizontal(t,e,null,n,s,o)},le.Studies.displayPSAR2=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f;for(var m in a=t.panels[e.panel],n=(r=e.getYAxis(t))==t.chart.panel.yAxis,t.startClip(a.name),s=e.getContext(t),o="squarewave"==e.inputs["Plot Type"],ce.N__(),e.outputs){ce.x$i(120);var v=ce.J6w(291,3347,3,13,4);ce.S2_(121);var y=ce.S9A(72160,16,15,67637,12);ce.S2_(122);var b=ce.J6w(31223,3,14,34080);ce.x$i(0);var x=ce.S9A(426,7);ce.x$i(112);var S=ce.S9A(9,7,11,3517);l=m+(v<=y?b:x>S?"O":" ")+e.name,s.beginPath(),c=t.layout.candleWidth,h=Math.max(3,Math.floor(t.chart.tmpWidth/2));for(var k=0;k<i.length;k++)(u=i[k])&&(u[l]||0===u[l])&&(u.candleWidth&&(c=u.candleWidth),n&&u.transform&&(u=u.transform),d=t.pixelFromBar(k,a.chart),o&&(ce.S2_(1),d-=ce.J6w(c,2)),p=t.pixelFromTransformedValue(u[e.referenceOutput?e.referenceOutput+" "+e.name:l],a,r),0!==k&&i[k-1]&&(i[k-1][l]||0===i[k-1][l])||s.moveTo(d,p),o?(s.lineTo(d,p),ce.x$i(10),s.lineTo(ce.J6w(c,d),p),i[k+1]&&(ce.S2_(10),g=i[ce.S9A(1,k)],n&&g.transform&&(g=g.transform),g[l]||0===g[l]||(ce.x$i(10),s.lineTo(ce.J6w(c,d),t.pixelFromTransformedValue(g[e.referenceOutput?e.referenceOutput+" "+e.name:l],t.panels[e.panel],r))))):(ce.x$i(123),s.moveTo(ce.J6w(2,d,h),p),ce.x$i(124),s.lineTo(ce.J6w(2,d,h),p)));s.lineWidth=1,e.highlight&&(s.lineWidth=3),"auto"==(f=le.Studies.determineColor(e.outputs[m]))&&(f=t.defaultColor),s.strokeStyle=f,!e.highlight&&t.highlightedDraggable&&(s.globalAlpha*=.3),s.stroke(),s.closePath(),s.lineWidth=1}t.endClip()},le.Studies.displayRainbowMA=function(t,e,i){var a;a=t.panels[e.panel],ce.N__();for(var r=10;r>0;r--)le.Studies.displayIndividualSeriesAsLine(t,e,a,"SMA"+r+" "+e.name,i)},le.Studies.displayRainbowOsc=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f;a="Un",a+="d",a+="e",a+="r ",r="Zero",r+=" ",le.Studies.displaySeriesAsLine(t,e,i),n=t.panels[e.panel],s=e.getContext(t),o=e.getYAxis(t),t.startClip(e.panel),!e.highlight&&t.highlightedDraggable&&(s.globalAlpha*=.3),l=t.pixelFromPrice(0,n,o),c=n.name!=e.chart.name,h=le.Studies.determineColor(e.outputs["Positive Bar"]),s.strokeStyle=h,t.plotDataSegmentAsLine("Over "+e.name,n,{skipTransform:c,label:!1,yAxis:o}),(u=s.createLinearGradient(0,l,0,o.flipped?o.bottom:o.top)).addColorStop(0,t.containerColor),u.addColorStop(1,h),le.prepareChannelFill(t,{skipTransform:c,color:u,opacity:!e.highlight&&t.highlightedDraggable?.3:1,panelName:e.panel,topBand:"Over "+e.name,bottomBand:r+e.name,yAxis:o}),d=le.Studies.determineColor(e.outputs["Negative Bar"]),s.strokeStyle=d,t.plotDataSegmentAsLine("Under "+e.name,n,{skipTransform:c,label:!1,yAxis:o}),ce.x$i(103),(p=s.createLinearGradient(0,l,ce.J6w("0",32),o.flipped?o.top:o.bottom)).addColorStop(0,t.containerColor),p.addColorStop(1,d),le.prepareChannelFill(t,{skipTransform:c,color:p,opacity:!e.highlight&&t.highlightedDraggable?.3:1,panelName:e.panel,topBand:"Zero "+e.name,bottomBand:a+e.name,yAxis:o}),ce.x$i(111);var m=ce.S9A(13,1,18,3);(g=t.layout.candleWidth-m)<2&&(ce.x$i(22),g=ce.J6w("1",0)),t.canvasColor("stx_histogram"),e.underlay||(s.globalAlpha=1),!e.highlight&&t.highlightedDraggable&&(s.globalAlpha*=.3),s.fillStyle="#CCCCCC";for(var v=0;v<i.length;v++)(f=i[v])&&(f[e.name+"_hist"]>0?s.fillStyle=h:f[e.name+"_hist"]<0&&(s.fillStyle=d),f.candleWidth&&(g=Math.floor(Math.max(1,f.candleWidth-2))),s.fillRect(Math.floor(t.pixelFromBar(v,n.chart)-g/2),Math.floor(l),Math.floor(g),Math.floor(t.pixelFromPrice(f[e.name+"_hist"],n,o)-l)));t.endClip()},le.Studies.displayRAVI=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k;a=t.panels[e.panel],r=e.getContext(t),n=e.getYAxis(t),ce.S2_(22),s=t.pixelFromPrice(ce.S9A("0",0),a,n),ce.x$i(19);var C=ce.J6w(18,0,16);(o=t.layout.candleWidth-C)<2&&(o=1),l=le.Studies.determineColor(e.outputs["Increasing Bar"]),c=le.Studies.determineColor(e.outputs["Decreasing Bar"]),t.startClip(e.panel),h=-44844379,u=-2005178640,ce.S2_(22),d=ce.S9A("2",0),ce.a8F();for(var w=1;ce.m91(w.toString(),w.toString().length,91954)!==h;w++)t.canvasColor(""),+e.underlay&&(r.globalAlpha=6),d+=2;ce.m91(d.toString(),d.toString().length,5937)!==u&&(p="stx_his",p+="togram",t.canvasColor(p),e.underlay||(r.globalAlpha=1)),!e.highlight&&t.highlightedDraggable&&(r.globalAlpha*=.3);for(var D=0;D<i.length;D++)g="#",g+="CCCCCC",f="_",f+="h",f+="is",f+="t",m="_",m+="h",m+="ist",v="_",v+="h",v+="is",v+="t",y="_his",y+="t",b=i[D],ce.x$i(0),(x=i[ce.J6w(D,1)])||(x=t.getPreviousBar(t.chart,e.name+y,D)),b&&(S=0,ce.x$i(0),k=ce.J6w("0",0),e.parameters&&e.parameters.studyOverZonesEnabled&&(S=parseFloat(e.parameters.studyOverBoughtValue),k=parseFloat(e.parameters.studyOverSoldValue)),x?b[e.name+"_hist"]>S&&x[e.name+"_hist"]<b[e.name+v]?r.fillStyle=l:b[e.name+m]<k&&x[e.name+"_hist"]>b[e.name+f]?r.fillStyle=c:r.fillStyle=g:r.fillStyle="#CCCCCC",b.candleWidth&&(o=Math.floor(Math.max(1,b.candleWidth-2))),r.fillRect(Math.floor(t.pixelFromBar(D,a.chart)-o/2),Math.floor(s),Math.floor(o),Math.floor(t.pixelFromPrice(b[e.name+"_hist"],a,n)-s)));t.endClip()},le.Studies.displayZigZag=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g;a=t.chart.highLowBars||t.highLowBars[t.layout.chartType],e.highLowChart!=a&&(e.highLowChart=a,e.startFrom=0,e.study.calculateFN(t,e)),r=t.chart;for(var f=0;f<i.length;f++)(n=i[f])&&(s="Resu",s+="lt ",o="_shadowCo",n[(o+="py ")+e.name]&&(l="_sh",l+="adow",l+="Cop",l+="y ",c="Re",delete n[(c+="sult ")+e.name],delete n[l+e.name]),n[s+e.name]||(h="Re",h+="sult",h+=" ",n.transform&&delete n.transform[h+e.name]));ce.N__(),ce.S2_(26),u=i[ce.S9A("0",0)],ce.x$i(79);var m=ce.J6w(29,17,1,13);d=i[i.length-m],u&&u["ShadowResult "+e.name]&&(p="Res",p+="ult ",u["Result "+e.name]=u["ShadowResult "+e.name],u.transform&&(u.transform[p+e.name]=r.transformFunc(t,r,u["ShadowResult "+e.name])),u["_shadowCopy "+e.name]=1),d&&d["ShadowResult "+e.name]&&(g="S",g+="had",g+="o",g+="wResult ",d["Result "+e.name]=d["ShadowResult "+e.name],d.transform&&(d.transform["Result "+e.name]=r.transformFunc(t,r,d[g+e.name])),d["_shadowCopy "+e.name]=1),le.Studies.displaySeriesAsLine(t,e,i)},le.Studies.displayVolumeProfile=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M;if(a="stx",a+="_vo",a+="lume_pro",a+="file",r="c",r+="o",r+="l",r+="or",n="stx_v",n+="olume_profile",t&&t.chart.dataSet&&(s=t.chart,o=e.parameters.numberOfBars,l=e.parameters.widthPercentage,c=e.parameters.displayBorder,h=e.parameters.displayVolume,(!o||o<0)&&(o=30),o=Math.ceil(o),(!l||l<0)&&(ce.S2_(0),l=ce.S9A("0.25",0)),!1!==c&&(c=!0),!0!==h&&(h=!1),0!=(u=(s.highValue-s.lowValue)/o))){d=[];for(var L=s.lowValue;L<s.highValue+.1;L+=u)d.push([L,0]);if(d.length<2)return p="Not enough d",p+="ata to render the Volume Profile",void t.displayErrorAsWatermark("chart",t.translateIf(p));g=0;for(var _=0;_<i.length;_++)if(f=i[_]){m=f.Volume,e.panel==s.name&&f.transform&&(f=f.transform),v=d[0][0],y=0;for(var P=1;P<d.length;P++)y=d[P][0],(f.Low>=v&&f.Low<=y||f.Low<v&&f.High>y||f.High>=v&&f.High<=y)&&(ce.x$i(22),d[P][ce.J6w("1",0)]+=m,d[P][1]>g&&(g=d[P][1])),v=y}0!==g?(t.setStyle(n,r,le.Studies.determineColor(e.outputs["Bars Color"])),b=e.getContext(t),x="stx-float-date",t.canvasFont(x,b),S=t.getCanvasFontSize(x),ce.N__(),k=s.panel,C=k.yAxis.bottom,w=Math.round(s.right)-.5,D=s.width*l,T=t.canvasStyle("stx_volume_profile").borderTopColor,A=!le.isTransparent(t.canvasStyle(a).borderTopColor)&&c,M=t,F("stx_volume_profile",!1),A&&F("stx_volume_profile",!0),b.globalAlpha=1):t.displayErrorAsWatermark("chart",t.translateIf("Not enough data to render the Volume Profile"))}function F(i,a){var r,n,s,o,l,c,u,p,f,m;a||(w-=2),M.canvasColor(i),b.beginPath(),r=d[0][0],n=w;for(var v=1;v<d.length;v++){if(d[v][1]){ce.S2_(23);var y=ce.S9A(13,15,27);s=Math.round(w-d[v][y]*D/g)-.5,ce.S2_(44);var x=ce.S9A(3,38,13);if(o=Math.round(M.pixelFromTransformedValue(r,k))+"0.5"*x,l=Math.round(M.pixelFromTransformedValue(d[v][0],k))+.5,a||(o-=.5,l+=.5,s+=.5),o>C&&(o=C),l<C)if(b.moveTo(w,o),b.lineTo(w,l),b.lineTo(s,l),b.lineTo(s,o),a)(n>s||1==v)&&b.lineTo(n,o);else if(b.lineTo(w,o),h&&(c=le.condenseInt(d[v][1]),ce.x$i(0),u=ce.J6w(o,l),S<=u-2)){p="t",p+="o",p+="p";try{f=b.measureText(c).width}catch(t){f=0}b.textBaseline=p,m=b.fillStyle,b.fillStyle=T,ce.x$i(8),b.fillText(c,ce.S9A(3,s,f),ce.S9A(2,S,u,"2",0,l,ce.S2_(125))),b.fillStyle=m}n=s}else n=w;r=d[v][0]}!e.highlight&&t.highlightedDraggable&&(b.globalAlpha*=.3),a||b.fill(),b.strokeStyle=T,a&&b.stroke(),b.closePath()}},le.Studies.studyLibrary=le.extend(le.Studies.studyLibrary,{"Acc Swing":{name:re,calculateFN:le.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}},ADX:{name:"ADX/DMS",calculateFN:le.Studies.calculateADX,seriesFN:le.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:!1,Histogram:!1},outputs:{"+DI":ae,"-DI":ie,ADX:"auto","Positive Bar":ee,"Negative Bar":"#FF0000"}},Aroon:{name:"Aroon",range:"0 to 100",calculateFN:le.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":te}},"Aroon Osc":{name:Qt,calculateFN:le.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}},ATR:{name:"Average True Range",calculateFN:le.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"Bollinger Bands":{name:"Bollinger Bands",overlay:!0,calculateFN:le.Studies.calculateBollinger,seriesFN:le.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:.1,step:.1}}},CCI:{name:Kt,calculateFN:le.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}},"Chaikin MF":{name:Gt,calculateFN:le.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:le.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}},"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:le.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:le.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:Jt,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}},COG:{name:"Center Of Gravity",calculateFN:le.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:Zt}},Coppock:{name:Xt,calculateFN:le.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}},Detrended:{name:"Detrended Price Oscillator",calculateFN:le.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:Yt,"Moving Average Type":$t}},"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:le.Studies.calculateMaxHighMinLow,seriesFN:le.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!0},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Ehler Fisher":{name:jt,calculateFN:le.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}},"Elder Force":{name:"Elder Force Index",calculateFN:le.Studies.calculateElderForce,seriesFN:le.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:Wt,seriesFN:le.Studies.displayElderRay,calculateFN:le.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},EOM:{name:"Ease of Movement",calculateFN:le.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":Bt}},"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:le.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!0,calculateFN:le.Studies.calculateFractalChaos,seriesFN:le.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:le.Studies.calculateMaxHighMinLow},HHV:{name:Vt,calculateFN:le.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"High Low":{name:zt,overlay:!0,seriesFN:le.Studies.displayChannel,calculateFN:function(t,e){e.inputs["Moving Average Type"]="triangular",le.Studies.calculateMAEnvelope(t,e)},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":Ut},attributes:{"Shift Percentage":{min:.1,step:.1}}},"High-Low":{name:"High Minus Low",calculateFN:function(t,e){var i;ce.a8F(),i=e.chart.scrubbed;for(var a=e.startFrom;a<i.length;a++)i[a]["Result "+e.name]=i[a].High-i[a].Low},inputs:{}},"Hist Vol":{name:Rt,calculateFN:le.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:le.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:Ht}}},Keltner:{name:"Keltner Channel",overlay:!0,seriesFN:le.Studies.displayChannel,calculateFN:le.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!0},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}},Klinger:{name:"Klinger Volume Oscillator",seriesFN:le.Studies.displayHistogramWithSeries,calculateFN:le.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:Ot,"Increasing Bar":qt,"Decreasing Bar":"#FF0000"}},"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:le.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:le.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:le.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:Nt},outputs:{RSquared:It}},LLV:{name:Et,calculateFN:le.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"LR Slope":{name:"Linear Reg Slope",calculateFN:le.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},macd:{name:"MACD",calculateFN:le.Studies.calculateMACD,seriesFN:le.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:le.Studies.displayChannel,calculateFN:le.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":Ft,"Channel Fill":!0},outputs:{"MA Env Top":"auto","MA Env Median":Pt,"MA Env Bottom":"auto"},attributes:{Shift:{min:.1,step:.1}}},"Mass Idx":{name:_t,seriesFN:le.Studies.displayMassIndex,calculateFN:le.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:.1}}},"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:le.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:Lt,studyOverSoldValue:20,studyOverSoldColor:"auto"}}},"Neg Vol":{name:"Negative Volume Index",calculateFN:le.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":At},outputs:{Index:Tt,MA:Dt}},"On Bal Vol":{name:wt,calculateFN:le.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:le.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":Ct},outputs:{Index:"auto",MA:kt}},"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:le.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:St}}},"Price Osc":{name:"Price Oscillator",calculateFN:le.Studies.calculatePriceOscillator,inputs:{Field:xt,"Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":[bt,"Percent"]}},"Price Vol":{name:"Price Volume Trend",calculateFN:le.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Prime Number":{name:yt,range:vt,calculateFN:le.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:.1,step:.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:le.Studies.calculatePrimeNumber,seriesFN:le.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}},PSAR:{name:"Parabolic SAR",overlay:!0,calculateFN:le.Studies.calculatePSAR,seriesFN:le.Studies.displayPSAR2,inputs:{"Minimum AF":.02,"Maximum AF":.2}},QStick:{name:"QStick",calculateFN:le.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}},"Random Walk":{name:"Random Walk Index",calculateFN:le.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}},RAVI:{name:"RAVI",seriesFN:le.Studies.displayRAVI,calculateFN:le.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}},rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:le.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:mt,studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:le.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}},"Stch Mtm":{name:ft,calculateFN:le.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},Swing:{name:"Swing Index",calculateFN:le.Studies.calculateSwingIndex,inputs:{"Limit Move Value":.5}},"Time Fcst":{name:"Time Series Forecast",overlay:!0,calculateFN:le.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:le.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":.5}},TRIX:{name:gt,calculateFN:le.Studies.calculateTRIX},Twiggs:{name:"Twiggs Money Flow",calculateFN:le.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}},"Typical Price":{name:"Typical Price",calculateFN:le.Studies.calculateTypicalPrice,inputs:{Period:14}},Ultimate:{name:"Ultimate Oscillator",calculateFN:le.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:pt}}},"Vol Osc":{name:dt,calculateFN:le.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":[ut,"Percent"]},parameters:{init:{isVolume:!0}}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:le.Studies.calculateRateOfChange,parameters:{init:{isVolume:!0}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:le.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:le.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!1}},"Weighted Close":{name:ht,calculateFN:le.Studies.calculateTypicalPrice,inputs:{Period:14}},"Williams %R":{name:ct,calculateFN:le.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:lt,studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"val lines":{name:ot,calculateFN:function(){},seriesFN:function(t,e,i){le.Studies.calculateValuationLines(t,e,i),le.Studies.displayValuationLines(t,e)},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":[st,nt,"harmonic"],"Display Average":!0,"Display 1 Standard Deviation (1σ)":!1,"Display 2 Standard Deviation (2σ)":!1,"Display 3 Standard Deviation (3σ)":!1},outputs:{Average:"#00afed","1 Standard Deviation (1σ)":"#e1e1e1","2 Standard Deviation (2σ)":rt,"3 Standard Deviation (3σ)":at}},"vol undr":{name:"Volume Underlay",underlay:!0,range:it,yAxis:{ground:!0,initialMarginTop:0,position:et,zoom:0,heightFactor:.25},seriesFN:le.Studies.createVolumeChart,calculateFN:le.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":tt,"Down Volume":Q},customRemoval:!0,removeFN:function(t,e){var i;i="la",i+="yout",t.layout.volumeUnderlay=!1,t.changeOccurred(i)},attributes:{panelName:{hidden:!0}}},correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:le.Studies.calculateCorrelationCoefficient,outputs:{}},PMO:{name:"Price Momentum Oscillator",calculateFN:le.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:K,studyOverSoldValue:-2.5,studyOverSoldColor:G}},attributes:{studyOverBoughtValue:{min:0,step:J},studyOverSoldValue:{max:0,step:"0.05"}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:le.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:Z,studyOverSoldValue:30,studyOverSoldColor:"auto"}}},Awesome:{name:"Awesome Oscillator",seriesFN:le.Studies.displayAwesomeOscillator,calculateFN:le.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"W MFI":{name:"Market Facilitation Index",seriesFN:le.Studies.displayMFI,calculateFN:le.Studies.calculateMFI,yAxis:{ground:!0},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:X,Fade:Y,Fake:"#5f7cb8",Squat:"#ffd0cf"}},"ATR Bands":{name:$,overlay:!0,seriesFN:le.Studies.displayChannel,calculateFN:le.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":!0},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:.1,step:.1}}},"STARC Bands":{name:j,overlay:!0,seriesFN:le.Studies.displayChannel,calculateFN:le.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:.1,step:.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!0,seriesFN:le.Studies.displayPSAR2,calculateFN:le.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!1},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:.1,step:.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:le.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:le.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":W},outputs:{Bandwidth:B},attributes:{"Standard Deviations":{min:.1,step:.1}}},"Donchian Width":{name:V,calculateFN:le.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},"Rel Vig":{name:"Relative Vigor Index",seriesFN:le.Studies.displayHistogramWithSeries,calculateFN:le.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:le.Studies.calculateElderImpulse,initializeFN:le.Studies.initElderImpulse,seriesFN:null,customRemoval:!0,underlay:!0,inputs:{},outputs:{Bullish:z,Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(t,e){t.chart.customChart=null,t.setMainSeriesRenderer()}},"Pivot Points":{name:"Pivot Points",overlay:!0,seriesFN:le.Studies.displayPivotPoints,calculateFN:le.Studies.calculatePivotPoints,inputs:{Type:["standard",U],Continuous:!1,Shading:!1},outputs:{Pivot:R,"Resistance 1":H,"Support 1":"#699158","Resistance 2":O,"Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:.2}}},Alligator:{name:"Alligator",overlay:!0,seriesFN:le.Studies.displayAlligator,calculateFN:le.Studies.calculateAlligator,inputs:{"Show Lines":!0,"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:q,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:le.Studies.displayGator,calculateFN:le.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0},"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!0,calculateFN:le.Studies.calculateIchimoku,seriesFN:le.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":N,"Leading Span A":I,"Leading Span B":"#FF0000","Lagging Span":"#808000"}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:le.Studies.initPriceRelative,seriesFN:le.Studies.displayVsComparisonSymbol,calculateFN:le.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!0},Beta:{name:"Beta",centerline:1,initializeFN:le.Studies.initPriceRelative,seriesFN:le.Studies.displayVsComparisonSymbol,calculateFN:le.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":E},deferUpdate:!0},Ulcer:{name:F,calculateFN:le.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}},"Bal Pwr":{name:P,range:"-1 to 1",centerline:0,calculateFN:le.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}},"Trend Int":{name:"Trend Intensity Index",calculateFN:le.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:_,"Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:L,studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Choppiness:{name:"Choppiness Index",calculateFN:le.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:M}},attributes:{studyOverBoughtValue:{min:50,step:A},studyOverSoldValue:{max:50,step:T}}},Disparity:{name:D,calculateFN:le.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":w}},"Rainbow MA":{name:C,overlay:!0,calculateFN:le.Studies.calculateRainbow,seriesFN:le.Studies.displayRainbowMA,inputs:{Period:2,Field:k},outputs:{SMA1:S,SMA2:x,SMA3:b,SMA4:y,SMA5:v,SMA6:"#00FFFF",SMA7:m,SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:le.Studies.calculateRainbow,seriesFN:le.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}},"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:le.Studies.calculateKST,inputs:{Field:f,"Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:g,KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:le.Studies.calculateSpecialK,inputs:{Field:"field",Interval:[p,"weekly"]}},Darvas:{name:"Darvas Box",underlay:!0,calculateFN:le.Studies.calculateDarvas,seriesFN:le.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close",d],"Ghost Boxes":!0,"Stop Levels":!1,"Level Offset":.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:u,Levels:"auto"},customRemoval:!0,attributes:{"Price Minimum":{min:.01,step:.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}},Supertrend:{name:"Supertrend",overlay:!0,seriesFN:le.Studies.displaySupertrend,calculateFN:le.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:h},attributes:{Multiplier:{min:.1,step:.1}}},"vol profile":{name:"Volume Profile",underlay:!0,seriesFN:le.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:!0,parameters:{init:{displayBorder:!0,displayVolume:!1,numberOfBars:30,widthPercentage:.25}},attributes:{yaxisDisplayValue:{hidden:!0},panelName:{hidden:!0},flippedEnabled:{hidden:!0}}},Vortex:{name:"Vortex Indicator",calculateFN:le.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:1.1,studyOverBoughtColor:c,studyOverSoldValue:.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:l},studyOverSoldValue:{max:1,step:"0.01"}}},ZigZag:{name:"ZigZag",overlay:!0,seriesFN:le.Studies.displayZigZag,calculateFN:le.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!1}},attributes:{"Distance(%)":{min:.1,step:.1}}},PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:le.Studies.calculatePsychologicalLine,inputs:{Period:20}},"MA Dev":{name:"Moving Average Deviation",calculateFN:le.Studies.calculateMADev,seriesFN:le.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":[o,"Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Shinohara:{name:s,calculateFN:le.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":n,"Weak Ratio":r}},stochastics:{name:a,range:i,calculateFN:le.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:!0},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:e}}}}),t},_t.N4=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.eH6K4=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"OBNo$",{get:function(){return this},configurable:!0}),e=OBNo$,i=5;break;case 4:i="undefined"==typeof eH6K4?3:9;break;case 9:delete e.eH6K4,delete Object.prototype.OBNo$,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Lt(_t.N4),_t.W6=function(){return"function"==typeof _t.K4.p4oUdFl?_t.K4.p4oUdFl.apply(_t.K4,arguments):_t.K4.p4oUdFl},_t.C2=function(){return"function"==typeof _t.K4.R9DODrP?_t.K4.R9DODrP.apply(_t.K4,arguments):_t.K4.R9DODrP},_t.g3=function(){return"function"==typeof _t.K4.p4oUdFl?_t.K4.p4oUdFl.apply(_t.K4,arguments):_t.K4.p4oUdFl},_t.l=function(){return"function"==typeof _t.Z.L3LLwSS?_t.Z.L3LLwSS.apply(_t.Z,arguments):_t.Z.L3LLwSS},_t.K4={p4oUdFl:function(){var t,e=arguments;return 0===st&&(t=e[0]|e[1]),t},R9DODrP:function(t){st=t}},_t.f2=function(){return"function"==typeof _t.K4.R9DODrP?_t.K4.R9DODrP.apply(_t.K4,arguments):_t.K4.R9DODrP},_t.C=function(){return"function"==typeof _t.Z.L3LLwSS?_t.Z.L3LLwSS.apply(_t.Z,arguments):_t.Z.L3LLwSS},_t.Z=(nt=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.i6$HQ(o)|(255&t.i6$HQ(o+1))<<8|(255&t.i6$HQ(o+2))<<16|(255&t.i6$HQ(o+3))<<24;l=nt(l,a),n=5*(n=(524287&(n^=l=nt(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.i6$HQ(s+2))<<16;case 2:l|=(255&t.i6$HQ(s+1))<<8;case 1:l|=255&t.i6$HQ(s),l=nt(l,a),n^=l=nt(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=nt(n^=n>>>16,2246822507),n=nt(n^=n>>>13,3266489909),n^=n>>>16}}),h=function(t){var e,i,a,r,n,s,o=_t;function l(){}t.CIQ=l,e=-848453658,i=1176951977,a=2;for(var c=1;o.C(c.toString(),c.toString().length,36664)!==e;c++)t.STX=l,a+=2;if(o.l(a.toString(),a.toString().length,42149)!==i&&(t.STX=l),l.inheritsFrom=function(t,e,i){var a,r,n,s;a=e.prototype||Object.getPrototypeOf(e),r=897333496,n=-109907018,o.f2(0),s=o.g3("2",0);for(var l=1;o.l(l.toString(),l.toString().length,89748)!==r;l++)t.prototype=!1!==i&&"function"==typeof e?new e:Object.create(a),s+=2;o.C(s.toString(),s.toString().length,66002)!==n&&(t.prototype=1==i||""!==+e?new e:Object.create(a)),Object.defineProperties(t.prototype,{constructor:{configurable:!0,enumerable:!1,value:t,writable:!0},parent:{configurable:!0,enumerable:!1,value:a,writable:!0}})},l.extend=function(t,e,i){var a,r,n,s,c;a=955963411,r=2;for(var h=1;o.C(h.toString(),h.toString().length,13251)!==a;h++)r+=2;for(n in o.C(r.toString(),r.toString().length,94210),e)t!==(s=e[n])&&void 0!==s&&(null===s||!0===i?t[n]=s:s.constructor==Array?t[n]=s.slice():s.constructor==Object?(c="objec",c+="t",t[n]=l.extend(typeof t[n]===c&&null!==t[n]?t[n]:{},s)):t[n]=s);return t},!Function.prototype.ciqInheritsFrom){Function.prototype.ciqInheritsFrom=function(t,e){var i,a,r,n;i="Function.prototype.ciqInheritsFrom() has been deprecated.  Use CIQ.inhe",i+="ritsFrom(me, cto",i+="r, autosuper) instea",i+="d.",console.warn(i),a=47659475,r=-1231699618,n=2;for(var s=1;o.C(s.toString(),s.toString().length,4702)!==a;s++)l.inheritsFrom(this,t,e),n+=2;o.l(n.toString(),n.toString().length,33372)!==r&&l.inheritsFrom(this,t,e)},r=-1116869096,n=1111446001,s=2;for(var h=1;o.C(h.toString(),h.toString().length,41796)!==r;h++)Function.prototype.stxInheritsFrom=Function.prototype.ciqInheritsFrom,s+=2;o.C(s.toString(),s.toString().length,54791)!==n&&(Function.prototype.stxInheritsFrom=Function.prototype.ciqInheritsFrom)}return t},Pt.D6=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.qscEO=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"y_mMS",{get:function(){return this},configurable:!0}),e=y_mMS,i=5;break;case 4:i="undefined"==typeof qscEO?3:9;break;case 9:delete e.qscEO,delete Object.prototype.y_mMS,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Ft(Pt.D6),Pt.l=function(){return"function"==typeof Pt.K.L3LLwSS?Pt.K.L3LLwSS.apply(Pt.K,arguments):Pt.K.L3LLwSS},Pt.M_=function(){return"function"==typeof Pt.g5.R9DODrP?Pt.g5.R9DODrP.apply(Pt.g5,arguments):Pt.g5.R9DODrP},Pt.c0=function(){return"function"==typeof Pt.g5.p4oUdFl?Pt.g5.p4oUdFl.apply(Pt.g5,arguments):Pt.g5.p4oUdFl},Pt.Z=function(){return"function"==typeof Pt.K.L3LLwSS?Pt.K.L3LLwSS.apply(Pt.K,arguments):Pt.K.L3LLwSS},Pt.K=(rt=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.d$8qv(o)|(255&t.d$8qv(o+1))<<8|(255&t.d$8qv(o+2))<<16|(255&t.d$8qv(o+3))<<24;l=rt(l,a),n=5*(n=(524287&(n^=l=rt(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.d$8qv(s+2))<<16;case 2:l|=(255&t.d$8qv(s+1))<<8;case 1:l|=255&t.d$8qv(s),l=rt(l,a),n^=l=rt(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=rt(n^=n>>>16,2246822507),n=rt(n^=n>>>13,3266489909),n^=n>>>16}}),Pt.g5={p4oUdFl:function(){var t,e=arguments;switch(at){case 0:t=e[0]^e[1];break;case 2:t=e[0]|e[1];break;case 1:t=e[0]*e[1]}return t},R9DODrP:function(t){at=t}},Pt.n9=function(){return"function"==typeof Pt.g5.R9DODrP?Pt.g5.R9DODrP.apply(Pt.g5,arguments):Pt.g5.R9DODrP},Pt.F3=function(){return"function"==typeof Pt.g5.p4oUdFl?Pt.g5.p4oUdFl.apply(Pt.g5,arguments):Pt.g5.p4oUdFl},u=function(t){var e,a,r,n,s,o,l,c,h,u,d,p,g,f=Pt;function m(t,e){var i,a,r,n;i=609329952,a=873699557,r=2;for(var s=1;f.Z(s.toString(),s.toString().length,69466)!==i;s++)return(n=document.createEvent("")).initEvent(t,-~(e||e.bubbles),+~(e||e.cancelable)),n;return f.Z(r.toString(),r.toString().length,16656)!==a?((n=document.createEvent("")).initEvent(t,~+(e&&e.bubbles),-!(e&&e.cancelable)),n):((n=document.createEvent("Event")).initEvent(t,!(!e||!e.bubbles),!(!e||!e.cancelable)),n)}function v(t,e){var i,a,r,n,s;i="C",i+="ustomEvent",a=document.createEvent(i),f.M_(0),r=-f.c0("1678476211",0),n=1378948069,f.n9(1),s=f.c0("2",1);for(var o=1;f.l(o.toString(),o.toString().length,60729)!==r;o++)a.initCustomEvent(t,+ +(e||e.bubbles),+ +(e||e.cancelable),e||e.detail),s+=2;return f.Z(s.toString(),s.toString().length,19777)!==n&&a.initCustomEvent(t,!(!e||!e.bubbles),!(!e||!e.cancelable),e&&e.detail),a}e="fu",e+="nc",e+="tion",a="un",a+="def",a+="ined",r="u",r+="ndefined",n=-1432271163,s=445335084,o=2;for(var y=1;f.Z(y.toString(),y.toString().length,48037)!==n;y++)l=("undefined"!=-window?window:1)&&("undefined"===-i.g?i.g:self),o+=2;if(f.Z(o.toString(),o.toString().length,62170)!==s&&(l=("undefined"===!window?window:6)||("undefined"==!i.g?i.g:self)),(l=(typeof window!==r?window:null)||(typeof i.g!==a?i.g:self)).Event&&typeof l.Event!==e){m.prototype=l.Event.prototype,c=1983149703,h=-168727155,u=2;for(var b=1;f.l(b.toString(),b.toString().length,73899)!==c;b++)l.Event=m,u+=2;f.Z(u.toString(),u.toString().length,76574)!==h&&(l.Event=m)}if(l.CustomEvent&&"function"!=typeof l.CustomEvent){d=-1358251650,f.M_(2),p=-f.F3("914039503",11),g=2;for(var x=1;f.Z(x.toString(),x.toString().length,66862)!==d;x++)v.prototype=l.CustomEvent.prototype,g+=2;f.Z(g.toString(),g.toString().length,64712)!==p&&(v.prototype=l.CustomEvent.prototype),l.CustomEvent=v}},It[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.ies60=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"E2Ca5",{get:function(){return this},configurable:!0}),e=E2Ca5,i=5;break;case 4:i="undefined"==typeof ies60?3:9;break;case 9:delete e.ies60,delete Object.prototype.E2Ca5,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Et(It[513895]),It[299637]={p4oUdFl:function(){var t,e=arguments;switch(it){case 20:t=e[0]+e[1];break;case 35:t=(e[3]*e[1]-e[0])*e[2]-e[4];break;case 29:t=e[2]+e[1]/e[3]*e[0];break;case 66:t=e[0]/e[3]*e[2]*e[1]+e[4];break;case 78:t=e[0]*-e[1];break;case 53:t=e[4]+e[2]+e[0]+e[1]-e[3];break;case 43:t=(e[3]+e[4]-e[0])*e[2]-e[1];break;case 17:t=e[3]/e[0]*e[1]+e[4]+e[2];break;case 61:t=e[3]-e[2]-e[0]-e[1];break;case 71:t=(e[2]+e[0])/e[3]+e[1];break;case 36:t=e[1]-e[3]+e[2]+e[0];break;case 86:t=e[1]>>e[0];break;case 3:t=e[1]<<e[0];break;case 24:t=e[1]/e[3]-e[4]-e[2]+e[0];break;case 80:t=e[4]*e[3]+e[0]-e[2]-e[1];break;case 0:t=e[3]-e[2]-e[0]+e[1];break;case 75:t=(e[4]+e[3]+e[1])/e[2]+e[0];break;case 62:t=(e[0]+e[2])*e[4]*e[3]-e[1];break;case 46:t=(e[4]-e[2]-e[1])*e[3]+e[0];break;case 52:t=(e[1]-e[2])*e[3]+e[0];break;case 18:t=e[1]*e[3]+e[4]+e[0]-e[2];break;case 34:t=-e[1]-e[2]+e[0]+e[3];break;case 81:t=-e[0]/e[2]+e[1];break;case 19:t=e[1]-e[0]+e[2]+e[3]+e[4];break;case 79:t=(e[4]-e[3])*(e[5]-e[0])/(e[2]-e[1]);break;case 58:t=e[2]*e[0]/e[3]+e[1];break;case 42:t=e[3]+e[2]-e[0]+e[1]+e[4];break;case 26:t=-e[4]-e[0]-e[1]+e[2]+e[3];break;case 84:t=(e[2]+e[0])/e[1];break;case 28:t=e[1]+e[2]-e[0];break;case 85:t=e[1]|e[0];break;case 64:t=e[0]+e[4]+e[3]-e[1]-e[2];break;case 33:t=e[1]*e[0]+e[3]+e[2];break;case 47:t=e[5]+e[3]+e[6]+e[1]+e[4]+e[2]+e[0];break;case 21:t=e[0]-e[1]+e[2]-e[4]-e[3];break;case 74:t=e[0]+e[3]-e[2]+e[1];break;case 60:t=(e[4]/e[2]-e[0])*e[3]-e[1];break;case 23:t=e[2]+e[1]+e[4]-e[3]+e[0];break;case 6:t=e[1]==e[0];break;case 82:t=e[0]+e[3]+e[1]-e[2];break;case 12:t=(e[4]-e[2])*e[3]-e[1]-e[0];break;case 70:t=e[1]/e[0]+e[3]-e[2];break;case 39:t=e[0]-e[2]-e[4]+e[3]-e[1];break;case 15:t=e[2]/e[0]-e[1];break;case 4:t=(e[0]-e[1])*(e[4]-e[6])-(e[7]-e[5])*(e[2]-e[3]);break;case 11:t=e[1]*e[2]-e[0];break;case 32:t=(e[2]-e[0])/e[4]+e[1]+e[3];break;case 77:t=(e[4]+e[0])*e[1]-e[3]-e[2];break;case 56:t=e[0]/e[2]/e[1]+e[3];break;case 37:t=e[3]/e[4]/e[0]+e[2]-e[1];break;case 49:t=e[0]*e[1];break;case 63:t=(e[0]+e[2])/e[4]+e[1]-e[3];break;case 54:t=(e[1]+e[2]+e[4])*e[3]-e[0];break;case 41:t=e[0]/e[2]-e[1]+e[3];break;case 67:t=e[1]*e[3]/e[0]-e[4]+e[2];break;case 38:t=(e[2]+e[0])*e[1]-e[3];break;case 22:t=e[1]-e[0]+e[2];break;case 48:t=e[0]<e[1];break;case 76:t=(e[0]-e[4]+e[1])*e[2]-e[3];break;case 73:t=(e[1]+e[4])/e[2]*e[0]+e[3];break;case 5:t=(e[1]/e[0]-(e[6]+e[7]))/(e[3]%e[5]%(e[2]*e[4]));break;case 13:t=(e[0]-e[3])/e[2]+e[1];break;case 69:t=e[1]*e[0]-e[2]+e[3];break;case 55:t=-e[0]+e[1]-e[2];break;case 31:t=e[0]*e[1]*e[3]-e[2];break;case 10:t=e[1]-e[0];break;case 44:t=e[1]/e[0]+e[2]+e[3];break;case 14:t=e[1]/e[0]+e[2];break;case 2:t=e[0]-e[1]-e[2];break;case 50:t=(e[0]-e[1])*e[3]/e[2]-e[4];break;case 59:t=e[2]/e[1]*e[0]+e[3];break;case 65:t=e[0]*e[2]-e[1]+e[3]-e[4];break;case 25:t=(e[0]/e[1]+e[2])/e[3]+e[4];break;case 16:t=(e[4]*e[2]+e[3])*e[0]-e[1];break;case 27:t=e[1]-e[3]+e[0]-e[2];break;case 68:t=(e[2]-e[4]-e[3])*e[1]-e[0];break;case 7:t=e[0]/e[1];break;case 45:t=(e[4]-e[2]+e[1])/e[3]+e[0];break;case 9:t=e[2]+e[0]+e[1];break;case 51:t=(-e[1]-e[0])/e[3]+e[2];break;case 40:t=e[1]*e[3]-e[2]-e[0];break;case 57:t=e[4]-e[1]+e[3]+e[2]-e[0];break;case 30:t=e[2]+e[1]/e[0];break;case 83:t=e[1]+ +e[0];break;case 1:t=e[1]^e[0];break;case 8:t=e[1]+e[3]*(e[0]-e[2]);break;case 72:t=e[0]/e[1]*e[3]/e[2]+e[4]}return t},R9DODrP:function(t){it=t}},It[92321]=857,It.g4W=function(){return"function"==typeof It[299637].p4oUdFl?It[299637].p4oUdFl.apply(It[299637],arguments):It[299637].p4oUdFl},It.V5b=function(){return"function"==typeof It[254206].s7rL$NJ?It[254206].s7rL$NJ.apply(It[254206],arguments):It[254206].s7rL$NJ},It.R4w=function(){return"function"==typeof It[321268].L3LLwSS?It[321268].L3LLwSS.apply(It[321268],arguments):It[321268].L3LLwSS},It[302900]=592,It.b1h=function(){return"function"==typeof It[299637].p4oUdFl?It[299637].p4oUdFl.apply(It[299637],arguments):It[299637].p4oUdFl},It.V1D=function(){return"function"==typeof It[254206].s7rL$NJ?It[254206].s7rL$NJ.apply(It[254206],arguments):It[254206].s7rL$NJ},It[574954]="JlC",It[616183]=438,It.N9C=function(){return"function"==typeof It[321268].L3LLwSS?It[321268].L3LLwSS.apply(It[321268],arguments):It[321268].L3LLwSS},It[245362]=It[299637],It[513895].J499=It,It[321268]=(et=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.b$7wI(o)|(255&t.b$7wI(o+1))<<8|(255&t.b$7wI(o+2))<<16|(255&t.b$7wI(o+3))<<24;l=et(l,a),n=5*(n=(524287&(n^=l=et(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.b$7wI(s+2))<<16;case 2:l|=(255&t.b$7wI(s+1))<<8;case 1:l|=255&t.b$7wI(s),l=et(l,a),n^=l=et(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=et(n^=n>>>16,2246822507),n=et(n^=n>>>13,3266489909),n^=n>>>16}}),It.H1G=function(){return"function"==typeof It[299637].R9DODrP?It[299637].R9DODrP.apply(It[299637],arguments):It[299637].R9DODrP},It[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[3]=void 0,e[1]={},e[1].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 68:t=68;break;case 77:i[16]=0,t=76;break;case 75:i[10]={},i[10][i[73]]=i[70][i[66]][i[16]],i[10][i[50]]=i[92],t=72;break;case 2:var i=[arguments];t=1;break;case 40:i[20]=i[58],i[88]={},i[88].h_T=["n$m"],i[88].A6$=function(){return!/(\x5b|\u005d)/.r7OEA(function(){return["a","a"].join()}+[])},i[13]=i[88],i[5].E31Sh(i[2]),t=53;break;case 53:i[5].E31Sh(i[9]),i[5].E31Sh(i[13]),i[5].E31Sh(i[38]),i[5].E31Sh(i[20]),t=49;break;case 64:i[45]="s38",i[34]="y8u",i[66]="h_T",i[50]="t2G",i[97]="A6$",t=59;break;case 31:i[38]=i[74],i[96]={},i[96].h_T=["C6V"],i[96].A6$=function(){return"function"==typeof F_rou},t=44;break;case 44:i[83]=i[96],i[58]={},i[58].h_T=["n$m"],i[58].A6$=function(){return/\071\067/.r7OEA(function(){return"a".codePointAt(0)}+[])},t=40;break;case 26:i[15].h_T=["n$m"],i[15].A6$=function(){return/\x31\071\x32/.r7OEA(function(){!function(t){for(var e=0;e<20;e++)e}()}+[])},i[69]=i[15],i[98]={},t=22;break;case 57:t=i[11]<i[5].length?56:69;break;case 76:t=i[16]<i[70][i[66]].length?75:70;break;case 67:return e[3]=25,76;case 58:i[11]=0,t=57;break;case 56:i[70]=i[5][i[11]];try{i[92]=i[70][i[97]]()?i[45]:i[34]}catch(t){i[92]=i[34]}t=77;break;case 1:t=e[3]?5:4;break;case 14:i[8].h_T=["C6V"],i[8].A6$=function(){return"function"==typeof F$LvHS},t=12;break;case 27:i[15]={},t=26;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 20:a[8][a[6][i[73]]].h+=!0,e=19;break;case 15:a[3]=a[4][a[5]],a[7]=a[8][a[3]].h/a[8][a[3]].t,e=26;break;case 1:e=0===a[0][0].length?5:4;break;case 13:a[8][a[6][i[73]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];t=1;break;case 1:return e[8]={},e[8].h=0,e[8].t=0,e[8]}}.i8oiaH(this,arguments),e=12;break;case 6:a[6]=a[0][0][a[5]],e=14;break;case 4:a[8]={},e=3;break;case 10:e=a[6][i[50]]===i[45]?20:19;break;case 8:a[5]=0,e=7;break;case 17:a[5]=0,e=16;break;case 19:a[5]++,e=7;break;case 18:a[9]=!1,e=17;break;case 25:a[9]=!0,e=24;break;case 16:e=a[5]<a[4].length?15:23;break;case 7:e=a[5]<a[0][0].length?6:18;break;case 2:var a=[arguments];e=1;break;case 26:e=a[7]>=.5?25:24;break;case 3:a[4]=[],e=9;break;case 24:a[5]++,e=16;break;case 12:a[4].E31Sh(a[6][i[73]]),e=11;break;case 9:a[5]=0,e=8;break;case 23:return a[9];case 14:e=void 0===a[8][a[6][i[73]]]?13:11;break;case 11:a[8][a[6][i[73]]].t+=!0,e=10;break;case 5:return}}(i[72])?68:67;break;case 4:i[5]=[],i[1]={},t=9;break;case 70:i[11]++,t=57;break;case 12:i[4]=i[8],i[6]={},i[6].h_T=["n$m"],i[6].A6$=function(){return/\x39\u0037/.r7OEA(function(){return"aa".charCodeAt(1)}+[])},i[9]=i[6],i[3]={},i[3].h_T=["C6V"],t=16;break;case 16:i[3].A6$=function(){return"function"==typeof f14rXo},i[2]=i[3],t=27;break;case 72:i[72].E31Sh(i[10]),t=71;break;case 71:i[16]++,t=76;break;case 49:i[5].E31Sh(i[7]),i[5].E31Sh(i[69]),i[5].E31Sh(i[4]),i[5].E31Sh(i[17]),i[5].E31Sh(i[83]),i[72]=[],t=64;break;case 33:i[74].h_T=["C6V"],i[74].A6$=function(){var t=!1,e=[];try{for(var i in console)e.E31Sh(i);t=0===e.length}catch(t){}return t},t=31;break;case 22:i[98].h_T=["n$m"],i[98].A6$=function(){return/\061/.r7OEA(function(){return"aa".lastIndexOf("a")}+[])},i[17]=i[98],i[74]={},t=33;break;case 5:return 11;case 59:i[73]="O7v",t=58;break;case 9:i[1].h_T=["n$m"],i[1].A6$=function(){return!/\u0062\x74\u006f\x61/.r7OEA(function(){return btoa("=")}+[])},i[7]=i[1],i[8]={},t=14}},t=3;break;case 3:return e[1]}}(),It.e0y=function(){return"function"==typeof It[299637].R9DODrP?It[299637].R9DODrP.apply(It[299637],arguments):It[299637].R9DODrP},It.V1D(),d=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g=It;e="N",e+="o",e+="v",i="Oc",i+="t",a="S",a+="e",a+="p",r="A",r+="p",r+="r",n="M",n+="ar",s="F",s+="e",s+="b",o="cli",o+="en",o+="tX",t.SplinePlotter||(t.SplinePlotter={}),l=t.CIQ,c=t.SplinePlotter,h=function(t,e,i,a){var r,n,s;r="Warning: Can",r+="not find implem",r+="entation of splining.  Try loading splines.js",window.splineWarning||console.log(r),g.V1D(),window.splineWarning=1,n=0,i.moveTo(t[0],t[1]);for(var o=2;o<t.length;o+=2)a&&n<a.length&&(s=a[n]).coord[0]==t[o-2]&&s.coord[1]==t[o-1]&&(i.stroke(),i.strokeStyle=s.color,i.setLineDash(s.pattern),i.lineDashOffset=0,i.lineWidth=s.width,i.beginPath(),i.moveTo(t[o-2],t[o-1]),n++),i.lineTo(t[o],t[o+1])},t.SplinePlotter.plotSpline||(t.SplinePlotter.plotSpline=h),l.getETDateTime=function(){var t,e;return t="U",t+="TC",g.V5b(),e=new Date,l.convertTimeZone(new Date(e.getTime()+6e4*e.getTimezoneOffset()),t,"America/New_York")},l.fromET=function(t){var e,i,a;i=4,((e=new Date).getMonth()<2||2==e.getMonth()&&e.getDate()<11||e.getMonth()>10||10==e.getMonth()&&e.getDate()>=4)&&(i=5),g.H1G(0);var r=g.g4W(13,3240030,17,36e4);return a=t.getTime()+r*i,g.V1D(),new Date(a)},l.convertFutureMonth=function(t){var e,i,a,r,n,s;if(e="1",e+="1",(i=t.toString()).length<=0||i.length>2)return"";switch(i){case"1":return"F";case"2":return"G";case"3":return"H";case"4":return"J";case"5":return"K";case"6":return"M";case"7":return"N";case"8":return"Q";case"9":return"U";case"10":return"V";case e:return"X";case"12":return"Z";case"F":return"1";case"G":return"2";case"H":return"3";case"J":return"4";case"K":return"5";case"M":return"6";case"N":return"7";case"Q":return"8";case"U":return"9";case"V":return a="1",a+="0";case"X":return"11";case"Z":return r="1",r+="2"}g.V5b(),n=1390665746,g.e0y(1),s=g.b1h(0,"2");for(var o=1;g.N9C(o.toString(),o.toString().length,88183)!==n;o++)return i;return g.N9C(s.toString(),s.toString().length,69581),i},l.money=function(t,e,i){return i||(i="$"),g.V5b(),3==i.length&&(i+=" "),e||0===e||(e=2),i+l.commas((Math.round(1e4*t)/1e4).toFixed(e))},l.convertCurrencyCode=function(t){var e,i,a,r,n,s;return g.V5b(),e="N",e+="T",i="k",a="F",r="H",n="C",n+="N",s="C",s+="A",{JPY:"¥",USD:"$",AUD:"A$",BRL:"R$",CAD:s+="$",CNY:n+="¥",CZK:"Kč",DKK:"kr",EUR:"€",GBP:"£",HKD:r+="K$",HUF:a+="t",ILS:"₪",INR:"₹",KRW:"₩",MXN:"MX$",NOK:"kr",NZD:"NZ$",PLN:"zł",RUB:"руб",SAR:"﷼",SEK:i+="r",SGD:"S$",THB:"฿",TRY:"₺",TWD:e+="$",VND:"₫",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF",ZAR:"R"}[t]||t},l.commas=function(t){return g.V1D(),t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},l.alert=function(t){alert(t)},l.withinElement=function(t,e,i){var a;return!(e<=(a=t.getBoundingClientRect()).left||i<=a.top||e>=a.left+t.offsetWidth||i>=a.top+t.offsetHeight)},l.efficientDOMUpdate=function(t,e,i){g.V1D(),t[e]!==i&&(t[e]=i)},l.safeMouseOut=function(t,e){function i(t,e){return g.V5b(),function(i){var a;a="u",a+="ndef",a+="ined",typeof i.pageX==a&&(i.pageX=i.clientX,i.pageY=i.clientY),l.withinElement(t,i.pageX,i.pageY)||(t.stxMouseOver=!1,e(i))}}t.addEventListener("mouseout",i(t,e)),g.V1D()},l.safeMouseOver=function(t,e){var i;function a(t,e){return function(i){if(void 0===i.pageX&&(i.pageX=i.clientX,i.pageY=i.clientY),l.withinElement(t,i.pageX,i.pageY)){if(t.stxMouseOver)return;t.stxMouseOver=!0,e(i)}}}i="m",i+="ouse",i+="over",t.addEventListener(i,a(t,e))},l.installTapEvent=function(t,e){var i;i=function(t){var i;i=new Event("stxtap",{bubbles:!0,cancelable:!0}),void 0===t.pageX&&(t.pageX=t.clientX,t.pageY=t.clientY),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i),e&&e.stopPropagation&&t.stopPropagation()},l.safeClickTouch(t,i,e)},l.safeClickTouch=function(t,e,i){var a,r,n,s,o,c,h,u,d,p,f,m,v,y,b,x,S,k;function C(t,i,a){return function(r){var n,s,o,c;if(!l.safeClickTouchEvent){if(!a.t)return;if(n=a.t,a.t=null,n+1e3<(new Date).getTime())return}if(!(i.safety&&i.safety.recentlyDragged||(r||(r=event),r.which&&r.which>=2||r.button&&r.button>=2))){if(i.preventUnderlayClick){s=1308013821,o=179010444,c=2;for(var h=1;g.N9C(h.toString(),h.toString().length,37483)!==s;h++)"INPUT"!==r.target.tagName&&r.preventDefault(),c+=2;g.R4w(c.toString(),c.toString().length,17065)!==o&&""===r.target.tagName&&r.preventDefault()}else{if(i.lastType!=t&&Date.now()<i.allowAnotherDevice)return;i.lastType=t,g.H1G(2);var u=g.b1h(19e3,7,17993);i.allowAnotherDevice=Date.now()+u}e(r)}}}function w(t,e){return g.V1D(),function(i){var a,r;a=i.clientX?i.clientX:i.pageX,r=i.clientY?i.clientY:i.pageY,e?(t.t=(new Date).getTime(),t.x=a,t.y=r):t.x&&Math.pow(t.x-a,2)+Math.pow(t.y-r,2)>16&&(t.t=null)}}if(a="po",a+="interup",i||(i={}),g.V5b(),r={},i.allowMultiple||l.clearSafeClickTouches(t),!1!==i.preventUnderlayClick&&(i.preventUnderlayClick=!0),!1!==i.absorbDownEvent&&(i.absorbDownEvent=!0),i.allowAnotherDevice=0,i.registeredClick=!1,(n=t.safeClickTouchEvents)||(n=t.safeClickTouchEvents=[]),s=C("mouseup",i,r),o=C("touchend",i,r),c=C(a,i,r),h=function(t){t.stopPropagation()},u={},l.safeClickTouchEvent)d=C(l.safeClickTouchEvent,i),t.addEventListener(l.safeClickTouchEvent,d),u[l.safeClickTouchEvent]=d,n.push(u);else if("onpointerup"in document&&!l.noPointerEvents)p="po",p+="in",p+="ter",p+="move",f="p",f+="oin",f+="terdow",f+="n",t.addEventListener(f,w(r,!0)),t.addEventListener(p,w(r)),t.addEventListener("pointerup",c),u.pointerup=c,i.absorbDownEvent&&(m="point",m+="e",m+="rdown",t.addEventListener(m,h),u.pointerdown=h),n.push(u);else{if(v="mousem",v+="ove",y="mo",y+="usedown",t.addEventListener(y,w(r,!0)),t.addEventListener(v,w(r)),t.addEventListener("touchstart",w(r,!0)),t.addEventListener("touchmove",w(r)),t.addEventListener("mouseup",s),t.addEventListener("touchend",o),u.mouseup=s,u.touchend=o,i.absorbDownEvent){b=371966958,x=-355182035,S=2;for(var D=1;g.R4w(D.toString(),D.toString().length,80227)!==b;D++)k="mouse",k+="down",t.addEventListener(k,h),u.mousedown=h,t.addEventListener("touchstart",h),u.touchstart=h,S+=2;g.R4w(S.toString(),S.toString().length,67430)!==x&&(t.addEventListener("mousedown",h),u.mousedown=h,t.addEventListener("touchstart",h),u.touchstart=h)}n.push(u)}},l.clearSafeClickTouches=function(t){var e,i,a;if(e=t.safeClickTouchEvents,g.V1D(),e){for(var r=0;r<e.length;r++)for(var n in i=e[r])a=i[n],t.removeEventListener(n,a);t.safeClickTouchEvents=null}},d=(u=function(t,e){return function(i){if(i.touches){if(i.touches.length>0)return i.touches[0][t];if(i.changedTouches&&i.changedTouches.length>0)return i.changedTouches[0][t]}return g.V5b(),void 0!==i[t]?i[t]:i[e]}})("pageX",o),p=u("pageY","clientY"),l.safeDrag=function(t,e){var i,a,r,n,s,o,c,h,u,f,m,v;if(i="to",i+="uchst",i+="ar",i+="t","function"==typeof e){a=-1813183851,g.H1G(3),r=-g.g4W(32,"1455706271"),n=2;for(var y=1;g.R4w(y.toString(),y.toString().length,1121)!==a;y++)e={down:arguments[9],move:arguments[3],up:arguments[2]},n+=2;g.N9C(n.toString(),n.toString().length,42179)!==r&&(e={down:arguments[1],move:arguments[2],up:arguments[3]})}e=e||{},s=100,o=!1,c=0,h=0,u=1730078310,f=-230948182,m=2;for(var b=1;g.N9C(b.toString(),b.toString().length,297)!==u;b++)v={recentlyDragged:!0},m+=2;function x(t){return function(i){var a,r;o||(o=!0,l.ChartEngine.ignoreTouch=!0,a=function(t){t&&t.preventDefault&&t.preventDefault(),v.recentlyDragged=!0,g.V1D(),t.displacementX=d(t)-c,t.displacementY=p(t)-h,e.move(t)},e.move&&document.body.addEventListener(t.move,a),r=function(i){l.ChartEngine.ignoreTouch=!1,e.move&&document.body.removeEventListener(t.move,a),document.body.removeEventListener(t.up,r),i.displacementX=d(i)-c,g.V1D(),i.displacementY=p(i)-h,e.up&&e.up(i),setTimeout((function(){var t,e,i;t=-1734127687,e=68098244,i=2;for(var a=1;g.R4w(a.toString(),a.toString().length,67754)!==t;a++)v.recentlyDragged=!1,i+=2;g.V5b(),g.R4w(i.toString(),i.toString().length,58115)!==e&&(v.recentlyDragged=!0)}),50)},document.body.addEventListener(t.up,r),setTimeout((function(){o=!1}),s),c=d(i),h=p(i),e.down&&e.down(i))}}return g.N9C(m.toString(),m.toString().length,44129)!==f&&(v={recentlyDragged:!1}),t.addEventListener("mousedown",x({down:"mousedown",move:"mousemove",up:"mouseup"})),t.addEventListener("pointerdown",x({down:"pointerdown",move:"pointermove",up:"pointerup"})),t.addEventListener(i,x({down:"touchstart",move:"touchmove",up:"touchend"})),v},l.inputKeyEvents=function(t,e){t.addEventListener("keyup",(function(i){switch(g.V1D(),window.event?event.keyCode:i.keyCode){case 13:e();break;case 27:t.value=""}}),!1)},l.fixScreen=function(){g.V5b(),window.scrollTo(0,0)},l.setCaretPosition=function(t,e){var i;if(g.H1G(3),t.style.zIndex=g.b1h(0,"5000"),t.setSelectionRange){l.focus(t);try{t.setSelectionRange(e,e)}catch(t){}}else t.createTextRange&&((i=t.createTextRange()).collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select())},l.setValueIfNotActive=function(t,e){g.V5b(),document.activeElement!=t&&(t.value=e)},l.hideKeyboard=function(t){var e,i,a,r;e=-354862746,i=-1994336937,a=2;for(var n=1;g.R4w(n.toString(),n.toString().length,70560)!==e;n++)r=document.activeElement,a+=2;g.N9C(a.toString(),a.toString().length,34223)!==i&&(r=document.activeElement),"INPUT"!=r.tagName&&"TEXTAREA"!=r.tagName||(r.blur(),window.focus(),t&&(t===document.body||document.body.contains(t))&&t.focus())},l.smartHover=function(){var t,e,i;function a(t){g.V1D(),e||r("mouse")}function r(t){var e;g.V5b(),e="ciq-l",e+="ast-interaction",document.documentElement.setAttribute(e,t)}function n(t){var a,n,s;g.V5b(),a="to",a+="u",a+="ch",n="t",n+="ouc",n+="h",s="ci",s+="q-last-interaction",clearTimeout(i),e=!0,document.documentElement.getAttribute(s)!=n&&r(a),i=setTimeout((function(){g.V1D(),e=!1}),500)}t="to",t+="uchend",document&&!document.documentElement.hasAttribute("ciq-last-interaction")&&(e=!1,g.V1D(),document.addEventListener(t,n,!1),document.addEventListener("mouseover",a,!1),r(""))},l.boxIntersects=function(t,e,i,a,r,n,s,o,l){var c,h,u,d,p,f,m,v;function y(t,e){var i,a,l;i=360406574,a=-812382207,l=2;for(var c=1;g.R4w(c.toString(),c.toString().length,7699)!==i;c++)return g.e0y(4),g.b1h(e,n,o,n,s,r,r,t);if(g.N9C(l.toString(),l.toString().length,67436)!==a)return g.H1G(5),g.g4W(n,e,o,t,n,r,s,r)}if(c="l",c+="i",c+="n",c+="e",void 0!==arguments[9]&&(h="CIQ.boxIntersects() no longer supports isLog argument, please be sure arguments are passe",h+="d in as pixels.",console.warn(h)),u=Math.min(t,i),d=Math.max(t,i),p=Math.min(e,a),g.V1D(),f=Math.max(e,a),g.H1G(6),m=g.g4W("ray",l),isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o))return!1;if(l!=c){if(r<u&&s<u&&(!m||r>s))return!1;if(r>d&&s>d&&(!m||r<s))return!1;if(n<p&&o<p&&(!m||n>o))return!1;if(n>f&&o>f&&(!m||n<o))return!1}return!((v={a:y(t,e),b:y(t,a),c:y(i,e),d:y(i,a)}).a>0&&v.b>0&&v.c>0&&v.d>0||v.a<0&&v.b<0&&v.c<0&&v.d<0)},l.convertBoxToPixels=function(t,e,i){var a;return a=t.panels[e],{x0:t.pixelFromTick(i.x0,a.chart),x1:t.pixelFromTick(i.x1,a.chart),y0:i.cy0||0===i.cy0?i.cy0:t.pixelFromValueAdjusted(a,i.x0,i.y0),y1:i.cy1||0===i.cy1?i.cy1:t.pixelFromValueAdjusted(a,i.x1,i.y1)}},l.linesIntersect=function(t,e,i,a,r,n,s,o,l){var c,h,u,d,p,f,m,v;if(g.H1G(4),c=g.b1h(o,s,a,i,e,r,t,n),g.e0y(4),h=g.b1h(n,r,t,r,i,s,s,o),g.e0y(4),u=g.g4W(e,t,t,r,i,i,s,a),0===c)return 0===h&&0===u;if(g.H1G(7),d=g.b1h(h,c),g.V1D(),g.e0y(7),p=g.b1h(u,c),"segment"==l){if(d>=0&&d<=1&&p>=0&&p<=1)return!0}else if("line"==l||"horizontal"==l||"vertical"==l){if(d>=0&&d<=1)return!0}else if("ray"==l){f=-1849348841,m=701275703,v=2;for(var y=1;g.R4w(y.toString(),y.toString().length,85960)!==f;y++){if(d<6||d<2||p<9)return!1;v+=2}if(g.N9C(v.toString(),v.toString().length,7039)!==m&&d>=0&&d<=1&&p>=0)return!0}return!1},l.yIntersection=function(t,e){var i,a,r,n,s,o,l,c,h,u,d;if(i=t.x0,a=t.x1,r=e,n=e,s=t.y0,o=t.y1,l=0,c=1e4,g.H1G(4),h=g.g4W(c,l,o,s,a,r,i,n),g.H1G(4),u=g.g4W(n,r,i,r,s,l,l,c),g.e0y(7),d=g.g4W(u,h),0===h){if(0!==u)return null;d=1}return g.e0y(8),g.g4W(o,s,s,d)},l.xIntersection=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,f,m;if(i=t.x0,a=t.x1,r=0,n=1e4,s=t.y0,o=t.y1,l=e,c=e,g.e0y(4),h=g.b1h(c,l,o,s,a,r,i,n),g.H1G(4),u=g.b1h(n,r,i,r,s,l,l,c),g.H1G(7),d=g.g4W(u,h),0===h){g.H1G(3),p=g.g4W(64,"534711427"),f=1884717468,m=2;for(var v=1;g.R4w(v.toString(),v.toString().length,79339)!==p;v++){if(0!==u)return null;d=1,m+=2}if(g.N9C(m.toString(),m.toString().length,36805)!==f){if(1!=u)return 1;d=8}}return g.H1G(8),g.g4W(a,i,i,d)},l.intersectLineLineX=function(t,e,i,a,r,n,s,o){var l,c,h;return g.H1G(4),l=g.g4W(n,r,t,r,i,s,s,o),g.e0y(4),c=g.b1h(o,s,a,i,e,r,t,n),g.H1G(7),h=g.b1h(l,c),g.H1G(8),g.g4W(e,t,t,h)},l.intersectLineLineY=function(t,e,i,a,r,n,s,o){var l,c,h;return g.e0y(4),l=g.b1h(n,r,t,r,i,s,s,o),g.V5b(),g.H1G(4),c=g.b1h(o,s,a,i,e,r,t,n),g.e0y(7),h=g.b1h(l,c),g.e0y(8),g.g4W(a,i,i,h)},l.privateBrowsingAlert=!1,l.localStorage="undefined"!=typeof localStorage?localStorage:{},g.V1D(),l.localStorageSetItem=function(t,e){try{l.localStorage.setItem(t,e)}catch(t){l.privateBrowsingAlert||(l.alert("No storage space available.  Possible causes include browser being in Private Browsing mode, or maximum storage space has been reached."),l.privateBrowsingAlert=!0)}},l.loadUI=function(t,e,i){var a,r,n,s;if(g.V5b(),e&&"function"!=typeof e||(i=e,e=document.body),g.H1G(9),r=function(){var t,a,r,n;g.V5b(),t=null;try{t=this.contentDocument}catch(t){return i(t)}if(t&&!t.title){a=t.body.innerHTML,r=document.createElement("div"),l.innerHTML(r,a);for(var s=0;s<r.children.length;s++)n=r.children[s].cloneNode(!0),e.appendChild(n);i(null)}else i(new Error("iFrame not found or document has a title"))},a=document.querySelector(g.b1h(t,'"]','iframe[original-url="'))){n=null;try{n=a.contentDocument}catch(t){return i(t)}"complete"===n.readyState&&n.location&&"about:blank"!==n.location.href?r.call(a):(s="l",s+="oa",s+="d",a.addEventListener(s,r))}else{(a=document.createElement("iframe")).setAttribute("original-url",t),g.e0y(10);var o=g.g4W(3,2);g.H1G(11),g.g4W(44336,2956,16),g.e0y(11);var c=g.g4W(1997831,133826,15);g.e0y(12),g.b1h(162162,16,13,19,9023),g.e0y(13);var h=g.b1h(9914,9917,3301,11);g.e0y(14);var u=g.g4W(725,725,9419);g.H1G(15),g.b1h(1,1,2),g.H1G(14),g.b1h(4819,19276,4815),g.e0y(16);var d=g.g4W(18,100288,6,7,982);g.H1G(10);var p=g.g4W(224,256);g.e0y(2);var f=g.b1h(2863,15,2439);g.H1G(17);var m=g.g4W(137,20,1514,822,9);g.H1G(18),g.b1h(16,49188,487803,10,6),g.H1G(19),g.b1h(11,7270,7,3,11),g.e0y(20);var v=g.b1h(4310,20);a.src=t+(t.indexOf("?")===o?235.11<c?751.7!=h&&659.62!==u&&"?":298.35:d==="5"<<p?f<42.44?"V":443.88!=m&&v:"&")+l.uniqueID(),a.hidden=!0,a.addEventListener("load",r),document.body.appendChild(a)}},l.loadScript=function(t,e){var i,a,r,n;if(i="scr",i+="ip",i+="t",l.loadedScripts||(l.loadedScripts={}),l.loadedScripts[t])e&&e();else{if((a=document.createElement("SCRIPT")).async=!0,a.onload=function(){l.loadedScripts[t]=!0,e&&e()},"undefined"!=typeof isIE8&&(a.onreadystatechange=function(){var i;i="l",i+="o",i+="aded",a.readyState==i&&(l.loadedScripts[t]=!0,e&&setTimeout(e,0))}),-1==(r=t).indexOf("?"))r=r+"?"+Date.now();else{g.e0y(21);var s=g.b1h(4851,7,9,4148,12);g.e0y(10);var o=g.b1h(85680,90440);g.e0y(22);var c=g.g4W(17,6817,10);g.e0y(23);var h=g.b1h(4392,6,2200,15,17);g.e0y(20);var u=g.g4W(742,4449);r=r+(s>=o?"t":c==h?u:"&")+Date.now()}a.src=r,(n=document.getElementsByTagName(i)[0]).parentNode.insertBefore(a,n.nextSibling)}},l.loadStylesheet=function(t,e){var i,a,r,n;i="l",i+="i",i+="n",i+="k",(a=document.createElement("link")).rel="stylesheet",a.type="text/css",a.media="screen",g.H1G(24),g.g4W(3711,40568,6,20284,19),g.e0y(10),g.g4W(10,7777),g.e0y(25),g.g4W(7957,7957,3,2,7946),g.e0y(13),g.g4W(3463,3479,3457,6),g.e0y(2),g.b1h(18,5,7),g.e0y(9),g.g4W(10,10,51),g.H1G(26);var s=g.b1h(2,18,5,19,5);g.H1G(27),g.b1h(11,1110,26,5),g.H1G(10),g.g4W(38550,46260),g.e0y(14);var o=g.g4W(5,375,304);g.e0y(20),g.g4W(0,1),g.H1G(28);var l=g.b1h(31,5684,17);a.href=t+(t.indexOf("?")===s?"?":7686>o?"&":l)+Date.now(),a.onload=function(){g.V5b(),this.loaded||(this.loaded=!0,e&&e())},(n=(r=document.getElementsByTagName(i))[r.length-1]).parentNode.insertBefore(a,n.nextSibling)},l.loadWidget=function(t,e,i){var a,r,n;if(g.V1D(),!e||"function"==typeof e){a=-1636621408,r=1306080359,n=2;for(var s=1;g.R4w(s.toString(),s.toString().length,22841)!==a;s++)i=e,e=document.body,n+=2;g.N9C(n.toString(),n.toString().length,13140)!==r&&(i=e,e=document.body)}g.H1G(20),l.loadStylesheet(g.g4W(t,".css"),(function(){g.H1G(20),l.loadUI(g.g4W(t,".html"),e,(function(e){var a;a=".",a+="j",a+="s",e?i(e):(g.H1G(20),l.loadScript(g.g4W(t,a),i))}))}))},l.waitForPlugins=function(t,e){var i,a,r,n,s;if(i=0,a=t.length){for(var o=0;o<a;o++)r="c",r+="q",n=(r+="-")+t[o],(s=document.getElementsByTagName(n)[0])&&s.hasAttribute("loaded")&&i++;if(g.V5b(),a!==i)return setTimeout((function(){g.V1D(),l.waitForPlugins(t,e)}),0);e()}else e()},l.fillTransparentCanvas=function(t,e,i,a){var r;g.V5b(),r=t.globalCompositeOperation,t.globalCompositeOperation="destination-over",t.fillStyle=e,t.fillRect(0,0,i,a),t.globalCompositeOperation=r},l.tickedRect=function(t){var e;l.rect(t),g.H1G(15);var i=g.g4W(2,1,6);e=Math.round(t.top+t.height/i)+.5,t.ctx.beginPath(),g.V1D(),t.ctx.moveTo(t.x-2,e),t.ctx.lineTo(t.x,e),t.ctx.stroke(),t.ctx.closePath()},l.roundRect=function(t,e){var i,a,r,n,s,o,c,h,u,d,p,f,m,v,y,b,x,S,k;if(9===arguments.length&&(t={ctx:arguments[0],x:arguments[1],top:arguments[2],width:arguments[3],height:arguments[4],radius:arguments[5],fill:arguments[6],stroke:arguments[7],edge:arguments[8]}),i=t.stroke,a=t.x,r=t.top,n=t.width,s=t.height,o=t.radius,c=t.fill,h=t.ctx,void 0===i){u=-600183430,d=-1806207604,p=2;for(var C=1;g.N9C(C.toString(),C.toString().length,9598)!==u;C++)i=!1,p+=2;g.N9C(p.toString(),p.toString().length,72446)!==d&&(i=!1),i=!0}void 0===o&&(o=5,n<0&&(o=-5)),f=n<0?-1*o:o,o&&!e&&(g.H1G(10),a=g.g4W(1,a)),g.e0y(20),m=g.b1h(a,o),g.e0y(20),v=g.g4W(a,n),g.e0y(20),y=g.b1h(r,f),g.H1G(20),b=g.g4W(r,s),g.H1G(10),x=g.b1h(o,v),g.H1G(10),S=g.g4W(f,b),h.beginPath(),h.moveTo(m,r),h.lineTo(x,r),h.quadraticCurveTo(v,r,v,y),h.lineTo(v,S),h.quadraticCurveTo(v,b,x,b),h.lineTo(m,b),"flush"==e?(h.lineTo(a,b),h.lineTo(a,r)):"arrow"==e?(g.H1G(10),h.quadraticCurveTo(a,b,g.b1h(o,a),S),k=n<0?1:-1,g.H1G(29),h.lineTo(g.g4W(k,s,a,2),g.g4W(2,s,r,g.H1G(30))),g.H1G(10),h.lineTo(g.b1h(o,a),y),h.quadraticCurveTo(a,r,m,r)):(h.quadraticCurveTo(a,b,a,S),h.lineTo(a,y),h.quadraticCurveTo(a,r,m,r)),h.closePath(),t.backgroundColor&&(h.fillStyle=t.backgroundColor),i&&h.stroke(),c&&h.fill(),t.txt&&l.createLabel(t)},l.createLabel=function(t){t.ctx.textBaseline="middle",g.V5b(),t.ctx.fillStyle=t.color?t.color:l.chooseForegroundColor(t.backgroundColor),t.ctx.fillStyle===t.backgroundColor&&("#FFFFFF"==t.backgroundColor.toUpperCase()?t.ctx.fillStyle="#000000":t.ctx.fillStyle="#FFFFFF"),t.ctx.fillText(t.txt,t.x+t.margin.left,t.y+t.margin.top),t.ctx.textAlign="left"},l.roundRectArrow=function(t){var e;e="ar",g.V1D(),e+="ro",e+="w",l.roundRect(t,e)},l.semiRoundRect=function(t){var e,i,a;g.e0y(10),e=g.g4W(0,"710422623"),i=1035099492,a=2;for(var r=1;g.N9C(r.toString(),r.toString().length,1664)!==e;r++)l.roundRect(t,""),a+=2;g.V1D(),g.R4w(a.toString(),a.toString().length,7771)!==i&&l.roundRect(t,""),l.roundRect(t,"flush")},l.rect=function(t){g.V5b(),t.radius=0,l.roundRect(t)},l.noop=function(t){t.color=t.backgroundColor,g.V5b(),l.createLabel(t)},l.getLines=function(t,e,i){var a,r,n,s,o;a=e.split(" "),r=[],n="",g.V5b(),s=!1;for(var l=0;l<a.length;l++)if(o=a[l],t.measureText(n+o).width<i?(s&&(n+=" "),s=!0,n+=o):(r.push(n),n=o),l===a.length-1){r.push(n);break}return r},l.readablePeriodicity=function(t){var e,i,a,r,n;e="n",e+="umber",i=t.layout.periodicity,a=t.layout.interval,typeof t.layout.interval==e&&t.layout.timeUnit?(i=t.layout.interval*t.layout.periodicity,a=t.layout.timeUnit):"number"!=typeof t.layout.interval||t.layout.timeUnit||(r="m",r+="in",r+="ut",r+="e",i=t.layout.interval*t.layout.periodicity,a=r),g.V1D(),i%60==0&&"minute"==a&&(n="h",n+="ou",i/=60,a=n+="r"),g.H1G(31);var s=g.b1h(526,12,113079,18);g.H1G(32),g.b1h(18,8,3529,3511,3511),g.H1G(33);var o=g.g4W(5,204,2647,3);g.H1G(20);var c=g.b1h(2517,12);return g.H1G(34),g.g4W(4,19,12,28),i+(s<=141.34?!(7188>o)||c:" ")+t.translateIf(l.capitalize(a))},l.translatableTextNode=function(t,e,i){var a,r;return t.translationCallback?(a="t",a+="ranslat",a+="e",(r=document.createElement(a)).setAttribute("original",e),r.innerHTML=t.translationCallback(e,i),r):(g.V1D(),document.createTextNode(e))},l.clearCanvas=function(t,e){var i,a,r;t.isDirty=!1,i=t.context,g.H1G(10),i.clearRect(g.g4W(0,"0"),0,t.width,t.height),!l.isAndroid||l.is_chrome||l.isFF||(l.ChartEngine.useOldAndroidClear&&e&&(i.fillStyle=e.containerColor,i.fillRect(0,0,t.width,t.height),i.clearRect(0,0,t.width,t.height)),a=t.width,t.width=1,t.width=a),r=e.chart.canvasShim.childNodes.length>0,(e.useBackgroundCanvas||r)&&(e.useBackgroundCanvas=r,t==e.chart.canvas&&l.clearCanvas(e.chart.backgroundCanvas,e))},l.monthLetters=["J","F","M","A","M","J","J","A","S","O","N","D"],l.monthAbv=["Jan",s,n,r,"May","Jun","Jul","Aug",a,i,e,"Dec"],l.MILLISECOND=1,l.SECOND=1e3,g.e0y(14);var f=g.g4W(1,58,2);l.MINUTE=f*l.SECOND,g.e0y(35);var m=g.b1h(19,13,2,272,7018);l.HOUR=("60"|m)*l.MINUTE,g.e0y(36);var v=g.b1h(18,3,10,7);l.DAY=v*l.HOUR,g.H1G(13);var y=g.g4W(1,11,3,13);l.WEEK=y*l.DAY,g.H1G(37);var b=g.b1h(5,13,13,620,4);l.MONTH=b*l.DAY,g.e0y(20);var x=g.g4W(92,274);l.YEAR=x*l.DAY,g.H1G(10);var S=g.g4W(3,67);return l.DECADE=10*l.YEAR-("7"<<S)*l.DAY,l.monthAsDisplay=function(t,e,i){return e?i&&i.monthLetters?i.monthLetters[t]:l.monthLetters[t]:i&&i.monthAbv?i.monthAbv[t]:(g.V5b(),l.monthAbv[t])},l.timeAsDisplay=function(t,e,i){var a,r,n,s,o;if(a=e?e.internationalizer:null){if(i==l.SECOND)return a.hourMinuteSecond.format(t);if(i==l.MILLISECOND){g.e0y(38);var c=g.g4W(16,14,130,93);g.H1G(39);var h=g.b1h(918,4,19,17,6);g.H1G(40);var u=g.b1h(119675,10408,17,12);g.e0y(10);var d=g.g4W(66357,73730);g.e0y(20),g.b1h(533,7987),g.H1G(20);var p=g.b1h(7425,15);return a.hourMinuteSecond.format(t)+(c===h?u===d||977.27!==p:".")+t.getMilliseconds()}return a.hourMinute.format(t)}(r=t.getMinutes())<10&&(g.H1G(20),r=g.g4W("0",r)),g.e0y(10);var f=g.b1h(22,24);g.H1G(41),g.g4W(6557,10,6557,6582),g.e0y(28);var m=g.b1h(10,7,4);return g.H1G(42),g.b1h(20,6,5,7837,5),g.H1G(43),g.g4W(11,47,2,73,6),g.H1G(44),g.V5b(),g.g4W(49,196,6,1167),n=t.getHours()+(("4870"|f)<=753.23?3786<"487.02"*m?7398:"k":":")+r,s="",i<=l.SECOND&&((s=t.getSeconds())<10&&(g.H1G(20),s=g.g4W("0",s)),g.e0y(20),n+=g.g4W(":",s)),i==l.MILLISECOND&&((o=t.getMilliseconds())<10?(g.H1G(20),o=g.g4W("00",o)):o<100&&(g.e0y(20),o=g.b1h("0",o)),g.e0y(20),n+=g.b1h(".",o)),n},l.displayableDate=function(t,e,i){var a,r,n,s,o,c,h,u,d,p,f,m,v,y,b,x;if(a="",r=t.layout.interval,n=l.ChartEngine.isDailyInterval(r),e.xAxis.formatter)a=e.xAxis.formatter(i);else if(t.internationalizer)if(a=t.internationalizer.monthDay.format(i),n){s=1598057111,o=-2136533736,c=2;for(var S=1;g.R4w(S.toString(),S.toString().length,67156)!==s;S++)a="month"==r?t.internationalizer.yearMonth.format(i):t.internationalizer.yearMonthDay.format(i),c+=2;g.N9C(c.toString(),c.toString().length,61898)!==o&&(a=""===r?t.internationalizer.yearMonth.format(i):t.internationalizer.yearMonthDay.format(i))}else{g.e0y(20);var k=g.g4W(7642,7);g.H1G(15);var C=g.b1h(1,68049,75610);g.H1G(36),g.b1h(3663,915,9,10),g.e0y(45);var w=g.g4W(2979,14,19,2994,2999);g.H1G(46);var D=g.g4W(486,17,3,9,76);a+=(k<512.01?C:w!=D?" ":739.49)+t.internationalizer.hourMinute.format(i)}else h=T(i.getMonth()+1),u=T(i.getDate()),d=T(i.getHours()),p=T(i.getMinutes()),n?(f="mon",a=r==(f+="th")?h+"-":h+"-"+u+"-",a+=i.getFullYear()):(m="sec",m+="on",m+="d",g.e0y(47),a=g.g4W(p," ",":","/",d,h,u),v=e.xAxis.activeTimeUnit&&e.xAxis.activeTimeUnit<=l.SECOND||t.layout.timeUnit==m,y=e.xAxis.activeTimeUnit&&e.xAxis.activeTimeUnit<=l.MILLISECOND||"millisecond"==t.layout.timeUnit,(v||y)&&(b=T(i.getSeconds()),g.e0y(20),a+=g.g4W(":",b),y&&((x=T(i.getMilliseconds()))<100&&(g.H1G(20),x=g.g4W("0",x)),g.e0y(20),a+=g.b1h(":",x))));function T(t){return g.V5b(),t<10?(g.e0y(20),g.b1h("0",t)):t}return a},l.fixPrice=function(t){var e;if(!t&&0!==t)return null;for(var i=(e=t.toFixed(10)).length-1;i>1&&"0"==e.charAt(i);i--);return g.e0y(20),e=e.substring(0,g.b1h(i,1)),parseFloat(e)},l.condenseInt=function(t){var e,i,a,r,n;if(e="n/",e+="a",null==t)return"";if(t===1/0||t===-1/0)return e;if(g.H1G(48),i=g.b1h(t,0),isNaN(t))t=t.toString();else{t=Math.abs(t),g.e0y(49),a=g.b1h("151887325",1),r=-629847352,n=2;for(var s=1;g.N9C(s.toString(),s.toString().length,68492)!==a;s++){if(t>1e12)t=Math.round(t/1e11)/10+"t";else if(t>1e11){g.e0y(14);var o=g.g4W(1000000012,1000000012,999999999);g.e0y(41);var l=g.b1h(1307,9,1307,1333);g.e0y(10),g.b1h(7,79),g.H1G(10);var c=g.b1h(7300,14600);g.H1G(18),g.g4W(10,48400,481597,10,7),g.H1G(20);var h=g.b1h(8868,2);g.e0y(50);var u=g.b1h(4772,8,6,12,4748);t=Math.round(t/o)+(515.13<l?"b":730.76!==c?257!=h&&"B":u)}else if(t>1e10){g.H1G(51);var d=g.b1h(3,6,2,9);g.H1G(52),g.b1h(174,3,14,10),g.e0y(2),g.g4W(9044,6,0),g.H1G(53);var p=g.g4W(16,13,17,35,6371);g.H1G(20),g.g4W(4421,18),t=(Math.round(t/1e8)/10).toFixed(d)+(544.71===p?"A":"b")}else if(t>1e9){g.e0y(54);var f=g.b1h(453,15,10,13,10);g.e0y(14);var m=g.g4W(5,3755,2989);g.e0y(20),g.b1h(211,7),g.H1G(55);var v=g.g4W(6,12,5);t=(Math.round(t/1e7)/100).toFixed(f)+(m>="579.57"*v?"b":2220)}else if(t>1e8){g.H1G(56);var y=g.b1h(1000016,125002,4,999998);t=Math.round(t/y)+"m"}else if(t>1e7){g.H1G(10);var b=g.g4W(2,3);g.H1G(57);var x=g.g4W(10248,20,16,11,10780);g.e0y(58);var S=g.b1h(7,2288,704,4);t=(Math.round(t/1e5)/10).toFixed(b)+(!(2160<=x)&&!(4530<=S)&&"m")}else if(t>1e6){g.H1G(10);var k=g.g4W(22,24);g.H1G(20),g.g4W(3802,15),t=(Math.round(t/1e4)/100).toFixed(k)+"m"}else if(t>1e5){g.H1G(10);var C=g.g4W(3,1003);g.e0y(28);var w=g.b1h(2,3404,19);g.e0y(20),g.b1h(715,6435),g.e0y(11),g.b1h(422410,23910,18),g.e0y(22);var D=g.b1h(15,442,6643);g.H1G(59),g.g4W(3,5,1500,603),g.e0y(2);var T=g.g4W(193240,2,183576);g.e0y(60),g.b1h(5,51888,2,19,6114),g.H1G(61);var A=g.b1h(11,2,3,2646);g.e0y(10),g.b1h(13,1723),g.e0y(10);var M=g.b1h(17,9997);t=Math.round(t/C)+(w>2520?"k":!(D<=T)||(A>197.2?M:6440))}else if(t>1e4){g.H1G(22);var L=g.b1h(11,3,9);g.e0y(62);var _=g.b1h(40124,12274354,7,18,17);g.H1G(14);var P=g.b1h(462,462,478);g.H1G(20),g.g4W(147,2497),g.H1G(20);var F=g.g4W(8553,19);t=(Math.round(t/100)/10).toFixed(L)+(13.29!==_?"k":P==F&&7440)}else if(t>1e3){g.e0y(63);var E=g.b1h(0,8,4,10,1);t=(Math.round(t/10)/100).toFixed(E)+"k"}else t=t.toString();n+=2}if(g.R4w(n.toString(),n.toString().length,30684)!==r)if(t<2804701503366)t=Math.round(t-833749728277)+12-"m";else if(t<=303478370397){g.H1G(14);var I=g.g4W(4525302,9050604,754215);g.e0y(14);var N=g.g4W(1,5263,15);g.H1G(64),g.g4W(23276,17,17455,9,6),g.e0y(65);var q=g.b1h(17756,5,19,9,328490);g.H1G(44);var O=g.b1h(1,53,8,900);g.e0y(10),g.b1h(2,5179),g.e0y(22);var H=g.g4W(10,8966,21);g.e0y(10);var R=g.g4W(4,2063436);t=Math.round(t+2569336748)/(I>=N?"k":772872!=q?O===H||"b":R)}else if(t<=35616415382){g.e0y(32);var U=g.b1h(2,11,13,42,1);g.e0y(2),g.g4W(695,5,2),g.e0y(32);var z=g.b1h(14,7,96031,192053,96017);g.e0y(15),g.g4W(6,9352,104208),g.H1G(31);var V=g.g4W(26130,12,5321810,17);g.H1G(66),g.b1h(5454,18,18,1818,4480),g.e0y(20);var B=g.b1h(8838,10);g.e0y(44),g.g4W(431983,431983,20,431978),g.e0y(64);var W=g.b1h(2949025,9,2359235,16,8);g.H1G(31);var j=g.b1h(11461,12,1020035,9);g.H1G(22),g.b1h(7,854728,16),g.e0y(14);var $=g.b1h(2,290,2173);g.e0y(28),g.b1h(1597978,1864289,16),g.H1G(9);var Y=g.g4W(4,23762,1698);g.H1G(67),g.g4W(105435,49203,639651,15,15),g.H1G(15);var X=g.g4W(3,603666,2199069);t=(Math.round(410341268*t)-36).toFixed("2">>U)-(z===V?B!=W?"z":j<=$?"m":Y:X)}else if(t>=3294635918){g.e0y(43);var Z=g.g4W(2,50,3,17,3);g.e0y(68);var J=g.g4W(413572,7,60333,8,12);g.e0y(14),g.g4W(93,372,376),g.e0y(69);var G=g.b1h(3,33053,5,363593);g.e0y(70);var K=g.b1h(1,3334252,8,4);t=(Math.round(t+52560619)+259).toFixed(Z)*(J>G?"m":K)}else if(t<=620660355){g.H1G(2);var Q=g.b1h(119781408,7,112295063);t=Math.round(t*Q)-"k"}else if(t<95548734){g.H1G(26);var tt=g.b1h(17,13,17,22,3);g.H1G(41);var et=g.g4W(199,10,1,5);g.e0y(20);var it=g.b1h(7975,11);g.H1G(13);var at=g.b1h(6359,6358,634,19);g.H1G(44);var rt=g.g4W(1,317155,16,2);g.H1G(10);var nt=g.b1h(11,37450);t=(Math.round(t-241213)-88).toFixed(tt)%(9691<et||(it>=at?rt===nt||562013:"m"))}else if(t<=6820091){g.e0y(20);var st=g.g4W(3,3);g.e0y(71);var ot=g.g4W(17,639803,3199060,355453);g.H1G(22);var lt=g.g4W(18,5683,4);g.e0y(72);var ct=g.g4W(3542,1771,2,15,3533);t=(Math.round(t%95379)+414).toFixed(st)*(ot!==lt?ct:"c")}else if(t>=395579){g.e0y(73);var ht=g.b1h(11,4246,608,4182,10);g.H1G(10),g.g4W(9904538,10612005),g.H1G(9);var ut=g.b1h(5,3988,665);g.e0y(2),g.g4W(199680,16,189680),g.H1G(20);var dt=g.b1h(356,2133);g.H1G(74),g.b1h(867,7799,2,3),g.H1G(10);var pt=g.g4W(19,63);g.H1G(20),g.b1h(0,1),g.H1G(20);var gt=g.b1h(2856,18);g.H1G(75),g.b1h(6197,19,3,10,9340),g.H1G(11);var ft=g.b1h(59707,7461,9);g.H1G(71);var mt=g.b1h(14,98934,98922,49468);g.e0y(20),g.g4W(1473506,5894023),g.e0y(11);var vt=g.g4W(365254110,28408653,13);g.e0y(11);var yt=g.b1h(750273,250091,19);t=Math.round(t%ht)/(ut>=dt?"m":("7278"|pt)>=gt&&(ft>=mt?vt:yt))}else if(t<18565){g.e0y(76);var bt=g.g4W(5,5,19,48,7);g.e0y(77);var xt=g.b1h(5,16,30024,18,1997);g.H1G(2),g.b1h(723244,7,11),g.H1G(25);var St=g.g4W(347,347,6,7,353);g.e0y(20),g.b1h(245,2454),g.H1G(65);var kt=g.g4W(3242,13,5,19,12979);g.H1G(20);var Ct=g.b1h(1518508,3037016);t=(Math.round(t-132)+53).toFixed(bt)/(14724==xt?"c":St!==kt||Ct)}else t=t>=4089?(Math.round(t-16)%259).toFixed(0)%"m":t.toString()}return i&&(g.H1G(20),t=g.g4W("-",t)),t},l.calculateTradingDecimalPlaces=function(t){var e,i,a,r,n,s,o,l,c,h;if(e=t.chart,i=2,a=50,g.V5b(),(r=e.masterData)&&r.length>a)for(var u=2;u<a&&!((n=r.length-u)<0);u++)if((s=r[n]).Close&&"number"==typeof s.Close&&-1!=(l=(o=s.Close.toString()).indexOf("."))){g.H1G(10);var d=g.g4W(16,17);(c=o.length-l-d)>i&&(i=c)}return i>(h=e.yAxis.maxDecimalPlaces)&&null!==h&&(i=h),i},l.fillArea=function(t,e,i){var a,r,n,s,o,l,h,u,d,p,f,m,v,y,b,x,S,k;if(e.length){r=(a=t.chart.context).globalAlpha,n=357329092,s=-127486561,o=2;for(var C=1;g.N9C(C.toString(),C.toString().length,12177)!==n;C++)l=arguments[4],h=arguments[4],u=arguments[5],d=6,p=1,o+=2;if(g.N9C(o.toString(),o.toString().length,76939)!==s&&(l=arguments[2],h=arguments[3],g.e0y(49),u=arguments[g.g4W("4",1)],d=0,p=null),i&&"object"==typeof i&&(l=i.color,h=i.opacity,d=i.tension,u=i.panelName,p=i.yAxis),h||0===h||(h=.2),"auto"==l&&(l=t.defaultColor),a.globalAlpha=h,l&&(a.fillStyle=l),f=Number.MAX_VALUE,g.e0y(78),m=g.g4W(f,1),(v=t.panels[u])&&(m=(p||v.yAxis).top,f=(p||v.yAxis).bottom,a.save(),a.beginPath(),a.rect(v.left,m,v.width,f-m),a.clip()),a.beginPath(),d){for(b=[],y=0;y<e.length-2;y++)b.push(e[y][0],e[y][1]);for(c.plotSpline(b,d,a),y=e.length-2;y<e.length;y++)a.lineTo(Math.round(e[y][0]),Math.round(e[y][1]))}else{x=148885969,S=833705789,k=2;for(var w=1;g.N9C(w.toString(),w.toString().length,6116)!==x;w++)a.moveTo(e[1][3],e[9][3]),k+=2;for(g.N9C(k.toString(),k.toString().length,8587)!==S&&a.moveTo(e[0][0],e[0][1]),y=1;y<e.length;y++)a.lineTo(e[y][0],e[y][1])}a.closePath(),a.fill(),v&&a.restore(),a.globalAlpha=r}},l.prepareChannelFill=function(t,e){var i,a,r,n,s,o;(!e||e instanceof Array)&&(e=arguments[2]),e.gapDisplayStyle||!1===e.gapDisplayStyle||(e.gapDisplayStyle=e.gaps),i=t.panels[e.panelName],t.chart.context.strokeStyle,a={noDraw:e.noDraw,gapDisplayStyle:e.gapDisplayStyle},r=l.ensureDefaults(e,{noDraw:!0,gapDisplayStyle:{},yAxis:i.yAxis}),n=t.plotDataSegmentAsLine(e.topBand,i,r),s=t.plotDataSegmentAsLine(e.bottomBand,i,r),e.noDraw=a.noDraw,e.gapDisplayStyle=a.gapDisplayStyle,o=[];for(var c=0;c<n.points.length;c+=2)o.push([n.points[c],n.points[c+1]]);for(var h=s.points.length-1;h>=0;h-=2)o.push([s.points[h-1],s.points[h]]);l.fillArea(t,o,e)},l.preparePeakValleyFill=function(t,e){var i,a,r,n,s,o,c,h,u,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E;(!e||e instanceof Array)&&(e=arguments[2]),e.gapDisplayStyle||!1===e.gapDisplayStyle||(e.gapDisplayStyle=e.gaps),a=(i=t.panels[e.panelName]).yAxis,(r=t.chart.context).strokeStyle,n={noDraw:e.noDraw,gapDisplayStyle:e.gapDisplayStyle},s=t.plotDataSegmentAsLine(e.band,i,l.ensureDefaults(e,{noDraw:!0,gapDisplayStyle:{}})),e.noDraw=n.noDraw,e.gapDisplayStyle=n.gapDisplayStyle,o=e.threshold,c=e.direction,h=e.reverse,u=e.gapDisplayStyle,e.yAxis&&(a=e.yAxis),d=-Number.MAX_VALUE,p=Number.MAX_VALUE,f=h?d:p,(o||0===o)&&(f=t.pixelFromPrice(o,i,a)),m=[],v=s.points.length;for(var I=0;I<v;I+=2)y=s.points[I],g.e0y(20),b=s.points[g.b1h(I,1)],e.roundOffEdges&&(0===I?y=Math.floor(y):I+2==v&&(y=Math.ceil(y))),isNaN(b)||(b>f&&c>0||b<f&&c<0||(m.push([y,b]),d=Math.max(b,d),p=Math.min(b,p)),I<v-3&&(g.e0y(20),x=s.points[g.g4W(I,2)],g.H1G(20),S=s.points[g.g4W(I,3)],(b<f&&S>f||b>f&&S<f)&&(g.H1G(79),y+=g.g4W(y,b,S,b,f,x),m.push([y,f]))));if(v=m.length){if(k=e.edgeParameters,e.edgeHighlight){k.lineWidth>100&&(k.lineWidth=1),r.save(),r.beginPath();for(var N=0;N<v-1;N++)if(C=m[N],g.e0y(20),w=m[g.b1h(N,1)],C[1]!=f||w[1]!=f){if(C[0]==w[0]&&t.layout.candleWidth>=1){if(C[1]==f&&m[N-1]&&m[N-1][1]==f)continue;if(w[1]==f&&m[N+2]&&m[N+2][1]==f)continue}t.plotLine(l.extend({x0:C[0],x1:w[0],y0:C[1],y1:w[1],color:e.edgeHighlight,type:"segment",context:r,confineToPanel:i,deferStroke:!0},k))}r.stroke(),r.restore()}if(o||0===o||(a.flipped&&(h=!h),f=h?Math.min(p,a.top):Math.max(d,a.bottom)),m.push([m[v-1][0],f],[m[0][0],f]),(D=e.opacity)||0===D||(e.opacity=.3),l.fillArea(t,m,e),u&&u.color&&u.fillMountain&&!e.tension&&!l.isTransparent(u.color)&&!l.isTransparent(e.color)){for(r.save(),r.fillStyle instanceof CanvasGradient?((T=r.createLinearGradient(0,1===c?i.top:i.bottom,0,f)).addColorStop(0,l.hexToRgba(l.colorToHex(u.color),60)),T.addColorStop(1,l.hexToRgba(l.colorToHex(u.color),10)),r.fillStyle=T):r.fillStyle=u.color,A=[],M={opacity:e.opacity,panelName:e.panelName},r.beginPath(),I=0;I<s.gapAreas.length;I++)_=(L=s.gapAreas[I]).start,P=L.end,F=L.threshold,_?A=[[_[0],_[1]],[_[0],F]]:A.push([P[0],F],[P[0],e.step?A[0][1]:P[1]]),4==A.length&&(l.fillArea(t,A,M),E=l.extend({x1:A[3][0],y0:A[0][1],type:"segment",deferStroke:!0,context:r,confineToPanel:i},u),e.step?(t.plotLine(l.extend({x0:A[0][0],y1:A[0][1]},E)),t.plotLine(l.extend({x0:A[3][0],y1:A[3][1]},E))):t.plotLine(l.extend({x0:A[0][0],y1:A[3][1]},E)));r.stroke(),r.restore()}e.opacity=D}},l.fillIntersecting=function(t,e,i){var a,r,n,s,o,c,h,u,d,p,f,m,v;a="c",a+="o",a+="p",a+="y",(!i||i instanceof Array)&&(i=arguments[3]),r=i.topBand,n=i.bottomBand,s=i.topSubBand,o=i.bottomSubBand,g.V1D(),c=i.topColor,h=i.bottomColor,(u=e).panel&&(u.outputs&&u.outputMap&&(c||(c=u.outputs[u.outputMap[r]]),h||(h=u.outputs[u.outputMap[n]])),u=u.panel),u=t.panels[u],d=t.chart.context,(p=t.scratchContext)||(f=d.canvas.cloneNode(!0),p=t.scratchContext=f.getContext("2d")),p.canvas.height=d.canvas.height,p.canvas.width=d.canvas.width,p.drawImage(d.canvas,0,0),l.clearCanvas(d.canvas,t),m=.3,i.opacity&&(m=i.opacity),d.save(),d.globalCompositeOperation="xor",v={band:r,subField:s,color:c,opacity:1,panelName:u.name,yAxis:i.topAxis,skipTransform:i.skipTransform,tension:i.tension,roundOffEdges:!0},l.preparePeakValleyFill(t,v),l.extend(v,{band:n,subField:o,color:h,yAxis:i.bottomAxis}),l.preparePeakValleyFill(t,v),d.globalAlpha=m,d.globalCompositeOperation=a,d.scale(1/t.adjustedDisplayPixelRatio,1/t.adjustedDisplayPixelRatio),d.drawImage(d.canvas,0,0),d.globalAlpha=1,d.globalCompositeOperation="destination-over",d.drawImage(t.scratchContext.canvas,0,0),d.restore()},l.drawLegendItem=function(t,e,i,a,r){var n,s,o,l,c;r||(r=1),n=e[0],s=e[1],o=10,g.e0y(10),l=g.g4W(0,"10"),(c=t.chart.context).globalAlpha=r,c.fillStyle=a,c.fillRect(n,s,o,l),c.globalAlpha=1,g.H1G(20),n+=g.b1h(o,2),c.fillStyle=t.defaultColor,c.fillText(i,n,s),g.e0y(10);var h=g.g4W(5,11);return n+=c.measureText(i).width+h,g.V5b(),[n,s]},l.drawLegend=function(t,e){var i,a,r,n,s,o,c,h,u,d,p,f,m,v,y;i="t",i+="o",i+="p",a=e.coordinates,r=t.chart.context,n=-1305380097,s=-579335464,o=2;for(var b=1;g.N9C(b.toString(),b.toString().length,86682)!==n;b++)r.textBaseline="",o+=2;g.N9C(o.toString(),o.toString().length,5151)!==s&&(r.textBaseline=""),r.textBaseline=i,c=r.font,t.canvasFont("stx-legend",r),h=e.chart||t.chart,a||(a=h.legend),u=[a.x,a.y],d=t.defaultColor,g.V1D();for(var x=0;x<2;x++)for(var S in e.legendColorMap)if((!(p=e.legendColorMap[S]).isBase||!x&&!e.noBase)&&(p.isBase||x)){if(p.color instanceof Array){for(f=(m=p.color).length-1;f>=0;f--)l.isTransparent(m[f])&&m.splice(f,1);if(m.length>1){for(v=r.createLinearGradient(u[0],u[1],u[0]+10,u[1]),f=0;f<m.length;f++)v.addColorStop(f/(m.length-1),m[f]);d=v}else m.length>0?(g.e0y(3),d=m[g.g4W(0,"0")]):d=t.getCanvasColor("stx_line_chart")}else d=p.color?p.color:null;if(d){if(y=S,p.display&&(y=p.display),y||(y=h.symbolDisplay?h.symbolDisplay:h.symbol),u[0]+r.measureText(y).width>h.panel.right){g.e0y(80),g.b1h(19,106640,19,15,7616),g.H1G(15);var k=g.b1h(10,1173,50830);g.H1G(22);var C=g.b1h(19,1208,8477);g.H1G(28);var w=g.b1h(0,3,3);u=[a.x,a.y+r.measureText(559.25===k?C:"M").width+w]}u=l.drawLegendItem(t,u,y,d,p.opacity)}}r.font=c},l.minMax=function(t,e,i,a){var r,n,s,o,l,c,h,u;r="Cl",r+="o",r+="se",n=Number.MAX_VALUE,g.H1G(81);var d=g.b1h(18,1,9);s=Number.MAX_VALUE*d,i||(i=r),o=a?"High":i,l=a?"Low":i;for(var p=0;p<t.length;p++)(c=t[p])&&((h=c[e])||0===h)&&(u=h,"object"==typeof h&&(u=h[o]),isNaN(u)||!u&&0!==u||(s=Math.max(s,u)),"object"==typeof h&&(u=h[l]),isNaN(u)||!u&&0!==u||(n=Math.min(n,u)));return[n,s]},l.symbolEqual=function(t,e){var i,a,r;return i="obj",i+="e",!(!t||!e)&&(typeof t!=(i+="ct")&&(t={symbol:t}),"object"!=typeof e&&(e={symbol:e}),"function"==typeof t.equals?t.equals(e):(a=t.symbol,r=e.symbol,a&&(a=a.toUpperCase()),r&&(r=r.toUpperCase()),a==r&&t.source==e.source))},l.addMemberToMasterdata=function(t){var e,i,a,r,n,s,o,c,h,u,d,p,f,m,v,y,b,x,S;function k(t,e){var a,o,c,h,u,d;if(r&&r.length)if("*"==r[0])l.extend(t,e);else for(var g=0;g<r.length;g++)t[r[g]]=e[r[g]];else if(n){if(a="nu",a+="mber",void 0!==e.Value)return void(t[i]=e.Value);t[i]="aggregate"==n?A(t[i],e):e,"number"==typeof(o=t[i]).Close&&(c="n",c+="um",c+="be",c+="r",h="nu",h+="m",h+="ber",typeof o.Open!=h&&(o.Open=o.Close),u=Math.max(o.Open,o.Close),d=Math.min(o.Open,o.Close),("number"!=typeof o.High||o.High<u)&&(o.High=u),(typeof o.Low!=c||o.Low>d)&&(o.Low=d)),o.Volume&&typeof o.Volume!==a&&(o.Volume=parseInt(o.Volume,10))}else s?t[i]=e[s]:y&&v&&void 0!==e[v]?t[i]=e[v]:p.adj&&void 0!==e.Adj_Close?t[i]=e.Adj_Close:void 0!==e.Close?t[i]=e.Close:void 0!==e.Value?t[i]=e.Value:t[i]=e[i]}function C(t){var e,i,a,r;e=h,g.e0y(82);var n=g.g4W(13,20,43,11);if(i=d.length-("1"|n),d[i].DT<t)return g.e0y(83),void(h=g.g4W("1",i));if(+d[i].DT!=+t){for(h++,g.V5b(),a=0;++a<100;){switch(o()){case 0:return;case 1:e=h;break;case-1:i=h}g.H1G(84),h=Math.round(g.g4W(e,2,i))}if(a>=100){r="!!!War",r+="ning: addMemberToMasterdata() did not fin",r+="d insert",r+="ion point.",console.log(r),g.e0y(52);var s=g.b1h(115,0,19,6);h=d.length-s}}else h=i;function o(){return+d[h].DT==+t?0:d[h].DT<t?1:d[h-1].DT>t?(g.e0y(85),-g.b1h(1,"1")):(+d[h-1].DT==+t&&h--,0)}}if(t.constructor===l.ChartEngine&&(t={stx:arguments[0],label:arguments[1],data:arguments[2],fields:arguments[3],createObject:arguments[4],fieldForLabel:arguments[5]}),e=t.stx,i=t.label,a=t.data,r=t.fields,n=t.createObject,s=t.fieldForLabel,o=t.chart?t.chart:e.chart,t.noCleanupDates||e.doCleanupDates(a,e.layout.interval),c=e.getSeries({symbol:i,chart:o}),g.V1D(),a&&a.constructor==Object&&(a=[a]),a&&a.length){for(h=0,u=0,d=o.masterData,p=e.layout,d||(d=[]),v=e.chart&&e.chart.defaultPlotField?e.chart.defaultPlotField:null,y=!e.chart.highLowBars&&!e.highLowBars[e.layout.chartType];a&&h<d.length&&u<a.length;){if(m=a[u],f=d[h],m.DT&&void 0!==m.DT?("number"==typeof m.DT&&(m.DT=new Date(m.DT)),m.Date&&17==m.Date.length||(m.Date=l.yyyymmddhhmmssmmm(m.DT))):m.DT=l.strToDateTime(m.Date),0===u)for(var w=0;w<c.length;w++)(!c[w].endPoints.begin||c[w].endPoints.begin>m.DT)&&(c[w].endPoints.begin=m.DT);+m.DT!=+f.DT?m.DT<f.DT?d.splice(h,0,{DT:m.DT,Date:m.Date}):C(m.DT):(k(f,m),u++,h++)}if(h>=d.length)for(;a&&u<a.length;)(m=a[u]).DT&&void 0!==m.DT?("number"==typeof m.DT&&(m.DT=new Date(m.DT)),m.Date&&17==m.Date.length||(m.Date=l.yyyymmddhhmmssmmm(m.DT))):m.DT=l.strToDateTime(m.Date),k(f={DT:m.DT,Date:m.Date},m),d.push(f),u++;if(t.fillGaps&&d.length)if(b={noCleanupDates:!0,cleanupGaps:t.fillGaps},r)for(var D=0;D<r.length;D++)b.field=r[D],e.doCleanupGaps(d,o,b);else b.field=i,e.doCleanupGaps(d,o,b);for(var T=0;T<c.length;T++)(!(x=c[T].endPoints).end||x.end<=f[i].DT)&&(x.end=f[i].DT,S=i||c[T].parameters&&c[T].parameters.field||o.defaultPlotField,c[T].lastQuote=e.getFirstLastDataRecord(d,S,!0));e.setMasterData(d,o,{noCleanupDates:!0})}function A(t,e){var i,a,r,n;if(i="ob",g.V1D(),i+="ject",!t||typeof t!=i)return t=e;for(var s in a={Close:t.Close,High:t.High,Low:t.Low,Open:t.Open,Volume:t.Volume},t=e,a)r="n",r+="umb",r+="e",r+="r",null===t.Close?void 0!==t[s]&&(t[s]=null):typeof t[s]!==r?t[s]=a[s]:"number"==typeof a[s]&&(n="Vol",n+="um",n+="e","Open"==s?t.Open=a.Open:"Low"==s&&t.Low>a.Low?t.Low=a.Low:"High"==s&&t.High<a.High?t.High=a.High:s==n&&(t.Volume+=a.Volume));return t}},l.Visualization=function(t){var e,i,a,r,n,s;if(!t){g.e0y(86),e=-g.g4W(64,"281772417"),i=-1115386819,a=2;for(var o=1;g.R4w(o.toString(),o.toString().length,93273)!==e;o++)return r="CIQ.Visualizati",r+="on() missing attribute",r+="s argument.",void console.log(r);if(g.N9C(a.toString(),a.toString().length,10879)!==i)return void console.log("")}if("function"==typeof t.renderFunction)this.container=null,this.attributes=t,this.data=null,this.object=null;else{console.log("CIQ.Visualization() missing renderFunction property in attributes."),g.H1G(10),n=g.b1h(0,"374103626"),s=2;for(var l=1;g.N9C(l.toString(),l.toString().length,4871)!==n;l++)return;g.R4w(s.toString(),s.toString().length,35900)}},l.extend(l.Visualization.prototype,{destroy:function(t){var e;e=this.container,l.resizeObserver(e,null,e.resizeHandle),e.autoGenerated?(e.parentNode.removeChild(e),delete this.container):e.innerHTML="",t||(this.attributes=null,this.container=null,this.data=null,this.object=null,this.destroy=this.draw=this.setAttributes=function(){},this.updateData=function(){g.V5b()})},draw:function(t){var e,i,a,r,n,s,o,c,h,u,d,p,f,m;if(this.data&&"object"==typeof this.data){if("string"==typeof(i=(e=this.attributes).container||this.container)&&(i=document.querySelector(i)),!i){i=document.createElement("div"),a=1351373419,r=622143325,n=2;for(var v=1;g.N9C(v.toString(),v.toString().length,98164)!==a;v++)i.style.height=i.style.width="",document.body.appendChild(i),n+=2;g.N9C(n.toString(),n.toString().length,42856)!==r&&(i.style.height=i.style.width="300px",document.body.appendChild(i)),i.autoGenerated=!0}if(e.stx&&(s=e.stx.chart.canvasShim,e.useCanvasShim&&s&&s!==i&&s!==i.parentNode&&(i.autoGenerated||((i=i.cloneNode()).id="",i.autoGenerated=!0),s.appendChild(i))),this.container&&this.container!==i&&this.destroy(!0),!i.resizeHandle){o=function(t){return g.V5b(),function(){t.data&&t.draw.call(t,!0)}},c=590192643,h=-1097631951,u=2;for(var y=1;g.N9C(y.toString(),y.toString().length,65704)!==c;y++)i.resizeHandle=l.resizeObserver(i,o(this),1,270),u+=2;g.N9C(u.toString(),u.toString().length,2201)!==h&&(i.resizeHandle=l.resizeObserver(i,o(this),null,100))}if(this.container=i,this.attributes=e,d=(e=l.ensureDefaults({container:this.container},this.attributes)).renderFunction(Object.values(this.data).sort(x),e)){p=-2055891523,f=1901561855,m=2;for(var b=1;g.R4w(b.toString(),b.toString().length,70488)!==p;b++)e.id&&(d.id=e.id),m+=2;g.R4w(m.toString(),m.toString().length,51278)!==f&&e.id&&(d.id=e.id),(t||e.forceReplace)&&(this.container.innerHTML="",this.container.appendChild(d))}this.attributes=e,this.object=d}else console.log("CIQ.Visualization.draw() missing data.");function x(t,e){return t.index<e.index?-1:t.index>e.index?1:0}},setAttributes:function(t,e){var i,a,r,n,s,o,l,c,h,u;if(i="o",i+="b",i+="jec",i+="t",a="f",a+="orceRep",a+="lace",r="useCanva",r+="s",r+="S",r+="him",n="renderFunct",g.V1D(),s=[n+="ion","container","stx",r,"id",a],o=!1,l=t,"string"==typeof t){l={},c=817053904,h=14650160,u=2;for(var d=1;g.N9C(d.toString(),d.toString().length,88853)!==c;d++)l[t]=e,u+=2;g.R4w(u.toString(),u.toString().length,4284)!==h&&(l[t]=e)}if(typeof l==i)for(var p in l)this.attributes[p]!==l[p]&&-1!==s.indexOf(p)&&(o=!0),this.attributes[p]=l[p];this.draw(o)},updateData:function(t,e){var i,a,r,n,s,o;for(r in i="upd",i+="ate",a="repla",a+="ce",s=Array.isArray(t)?t.reduce((function(t,e){return t[e.name]=e,t}),{}):l.shallowClone(t))n=s[r],"[object Object]"!==Object.prototype.toString.call(n)&&(s[r]={value:n}),s[r].name||(s[r].name=r),s[r].value||(s[r].value=0);switch(e||(e=a),e.toLowerCase()){case"delete":for(r in s)delete this.data[r];break;case"replace":this.data={};case i:case"add":for(r in s)for(var c in this.data[r]||(this.data[r]={name:r}),n=s[r].value,"[object Number]"==Object.prototype.toString.call(n)?(this.data[r].value&&"update"!=e||(this.data[r].value=0),this.data[r].value+=n):this.data[r].value=n,s[r])"value"!==c&&(this.data[r][c]=s[r][c]);break;default:o="Invalid or m",o+="issing action.  Valid va",o+="lues are 'add', 'delete', 'replace', or 'updat",o+="e'.",console.log(o)}return this.draw(this.attributes.forceReplace),this}}),l.ThemeHelper=function(t){var e,i,a,r,n,s,o,c;e="st",e+="x_ca",e+="ndle_down",i="s",i+="t",i+="x_can",i+="dle_up",a="Can",a+="dle/Ba",a+="r",r="stx",r+="_candle_shad",r+="ow",r+="_even",n="Ca",n+="ndle/B",n+="ar",s="stx_x",s+="axis",this.params=t,c="#FFFFFF",(o=t.stx).chart.container&&(c=getComputedStyle(o.chart.container).backgroundColor,l.isTransparent(c)&&(c=o.containerColor)),this.settings.chart.Background.color=l.hexToRgba(c),this.settings.chart["Grid Lines"].color=l.hexToRgba(o.canvasStyle("stx_grid").color),this.settings.chart["Grid Dividers"].color=l.hexToRgba(o.canvasStyle("stx_grid_dark").color),this.settings.chart["Axis Text"].color=l.hexToRgba(o.canvasStyle(s).color),this.settings.chartTypes[n].up.color=l.hexToRgba(o.canvasStyle("stx_candle_up").color),this.settings.chartTypes["Candle/Bar"].down.color=l.hexToRgba(o.canvasStyle("stx_candle_down").color),this.settings.chartTypes["Candle/Bar"].up.wick=l.hexToRgba(o.canvasStyle("stx_candle_shadow_up").color),this.settings.chartTypes["Candle/Bar"].down.wick=l.hexToRgba(o.canvasStyle("stx_candle_shadow_down").color),this.settings.chartTypes["Candle/Bar"].even.wick=l.hexToRgba(o.canvasStyle(r).color),this.settings.chartTypes[a].up.border=l.hexToRgba(o.canvasStyle("stx_candle_up").borderLeftColor),this.settings.chartTypes["Candle/Bar"].down.border=l.hexToRgba(o.canvasStyle("stx_candle_down").borderLeftColor),l.isTransparent(o.canvasStyle(i).borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].up.border=null),l.isTransparent(o.canvasStyle(e).borderLeftColor)&&(this.settings.chartTypes["Candle/Bar"].down.border=null),this.settings.chartTypes.Line.color=l.hexToRgba(o.canvasStyle("stx_line_chart").color),this.settings.chartTypes.Mountain.color=l.hexToRgba(o.canvasStyle("stx_mountain_chart").backgroundColor),this.settings.chartTypes.Mountain.basecolor=l.hexToRgba(o.canvasStyle("stx_mountain_chart").color)},l.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}},l.ThemeHelper.prototype.update=function(t){var e,i,a,r,n,s,o,c;function h(e,i,a){for(var r in g.V1D(),o[e])t.setStyle(r,i,a)}e="borde",e+="rT",e+="op",e+="Color",i="borderLeftCo",i+="lo",i+="r",a="bord",a+="erLeftColor",r="stx_candle_u",r+="p",n="s",n+="tx_candle_d",n+="own",s="G",s+="rid ",g.V1D(),s+="Lines",t||(t=this.params.stx),o={stx_candle_up:{stx_candle_up:!0,stx_bar_up:!0,stx_hollow_candle_up:!0,stx_line_up:!0,stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!0,stx_bar_down:!0,stx_hollow_candle_down:!0,stx_line_down:!0,stx_baseline_down:!0},stx_candle_even:{stx_hollow_candle_even:!0,stx_bar_even:!0},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!0},stx_shadow_even:{stx_candle_shadow_even:!0},stx_line_chart:{stx_bar_chart:!0,stx_line_chart:!0},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!0},stx_xaxis:{stx_xaxis_dark:!0,stx_xaxis:!0,stx_yaxis:!0,stx_yaxis_dark:!0,stx_grid_border:!0},stx_mountain_chart:{stx_mountain_chart:!0},stx_market_session:{stx_market_session:!0}},t.chart.container.style.backgroundColor=this.settings.chart.Background.color,t.defaultColor="",h("stx_grid","color",this.settings.chart[s].color),h("stx_grid_dark","color",this.settings.chart["Grid Dividers"].color),h("stx_xaxis","color",this.settings.chart["Axis Text"].color),(c=this.settings.chartTypes["Candle/Bar"]).even||(c.even={color:null,wick:l.hexToRgba(t.canvasStyle("stx_candle_shadow_even").color),border:null}),h("stx_candle_up","color",c.up.color),h(n,"color",c.down.color),h("stx_candle_even","color",c.even.color),h("stx_shadow_up","color",c.up.wick),h("stx_shadow_down","color",c.down.wick),h("stx_shadow_even","color",c.even.wick),t.setStyle(r,a,c.up.border),t.setStyle("stx_candle_down",i,c.down.border),h("stx_line_chart","color",this.settings.chartTypes.Line.color),t.setStyle("stx_mountain_chart",e,l.hexToRgba(this.settings.chartTypes.Mountain.color,1)),t.setStyle("stx_mountain_chart","backgroundColor",l.hexToRgba(this.settings.chartTypes.Mountain.color,.5)),t.setStyle("stx_mountain_chart","color",l.hexToRgba(this.settings.chartTypes.Mountain.basecolor,.01)),t.draw()},l.NameValueStore=function(){},l.NameValueStore.prototype.toJSONIfNecessary=function(t){var e,i,a;e=775618563,i=53047369,a=2;for(var r=1;g.N9C(r.toString(),r.toString().length,98324)!==e;r++){if(t.constructor!=String)return t;a+=2}if(g.N9C(a.toString(),a.toString().length,79672)!==i&&t.constructor!=String)return t;if(t.constructor==String)return t;try{return JSON.stringify(t)}catch(e){return g.H1G(20),console.log(g.b1h("Cannot convert to JSON: ",t)),null}},l.NameValueStore.prototype.fromJSONIfNecessary=function(t){try{return JSON.parse(t)}catch(e){return t}},l.NameValueStore.prototype.get=function(t,e){var i,a,r,n;i=l.localStorage.getItem(t),g.H1G(49),a=g.b1h("1962559529",1),r=-853803083,n=2;for(var s=1;g.N9C(s.toString(),s.toString().length,26963)!==a;s++)e&&e(1,this.fromJSONIfNecessary(i)),n+=2;g.R4w(n.toString(),n.toString().length,96320)!==r&&e&&e(null,this.fromJSONIfNecessary(i))},l.NameValueStore.prototype.set=function(t,e,i){l.localStorageSetItem(t,this.toJSONIfNecessary(e)),i&&i(null)},l.NameValueStore.prototype.remove=function(t,e){l.localStorage.removeItem(t),e&&e(null)},l.Plotter=function(){this.seriesArray=[],g.V1D(),this.seriesMap={}},l.extend(l.Plotter.prototype,{Series:function(t,e,i,a,r,n){this.name=t,this.strokeOrFill=e,this.color=i,g.V5b(),this.moves=[],this.text=[],(!a||a>1||a<0)&&(g.H1G(10),a=g.b1h(0,"1")),this.opacity=a,(!r||r>25||r<1)&&(r=1),this.width=r,this.pattern=l.borderPatternToArray(r,n)},newSeries:function(t,e,i,a,r){var n;g.V1D(),n=i.constructor==String?new this.Series(t,e,i,a,r):new this.Series(t,e,i.color,i.opacity,r,i.borderTopStyle),this.seriesArray.push(n),this.seriesMap[t]=n},reset:function(t){var e;for(var i in g.V5b(),this.seriesMap)t&&t!=i||(e=this.seriesMap[i])&&(e.moves=[],e.text=[])},moveTo:function(t,e,i){var a,r,n,s,o;a="mo",a+="ve",a+="T",a+="o",r=-1708968118,n=1675878799,s=2;for(var l=1;g.R4w(l.toString(),l.toString().length,26405)!==r;l++)o=this.seriesMap[t],s+=2;g.R4w(s.toString(),s.toString().length,17627)!==n&&(o=this.seriesMap[t]),o.moves.push({action:a,x:e,y:i})},lineTo:function(t,e,i){var a,r,n;a="lin",a+="eTo",r=this.seriesMap[t],g.V1D(),n=r.pattern,r.moves.push({action:a,x:e,y:i,pattern:n})},dashedLineTo:function(t,e,i,a){var r;r="li",g.V5b(),r+="n",r+="eT",r+="o",this.seriesMap[t].moves.push({action:r,x:e,y:i,pattern:a})},quadraticCurveTo:function(t,e,i,a,r){var n,s;n=this.seriesMap[t],g.V5b(),s=n.pattern,n.moves.push({action:"quadraticCurveTo",x0:e,y0:i,x:a,y:r,pattern:s})},bezierCurveTo:function(t,e,i,a,r,n,s){var o,l;l=(o=this.seriesMap[t]).pattern,g.V5b(),o.moves.push({action:"bezierCurveTo",x0:e,y0:i,x1:a,y1:r,x:n,y:s,pattern:l})},addText:function(t,e,i,a,r,n,s){this.seriesMap[t].text.push({text:e,x:i,y:a,bg:r})},drawText:function(t,e){for(var i,a,r,n,s,o=0;o<e.text.length;o++)(i=e.text[o]).bg&&(a="r",a+="i",a+="g",a+="ht",r=i.width?i.width:t.measureText(i.text).width,n=i.height?i.height:12,s=t.fillStyle,t.fillStyle=i.bg,t.textAlign==a?t.fillRect(i.x,i.y-n/2,-r,-n):t.fillRect(i.x,i.y-n/2,r,n),t.fillStyle=s),t.fillText(i.text,i.x,i.y)},draw:function(t,e){var i,a,r,n,s,o;i=t.lineWidth,a=t.fillStyle,r=t.strokeStyle,n=t.globalAlpha;for(var l=0;l<this.seriesArray.length;l++)if(s=this.seriesArray[l],!e||s.name==e){t.beginPath(),t.lineWidth=s.width,t.globalAlpha=s.opacity,t.fillStyle=s.color,t.strokeStyle=s.color,t.save();for(var c=0;c<s.moves.length;c++)(o=s.moves[c]).pattern?(t.setLineDash(o.pattern),t.lineDashOffset=0):t.setLineDash([]),"quadraticCurveTo"==o.action?t[o.action](o.x0,o.y0,o.x,o.y):"bezierCurveTo"==o.action?t[o.action](o.x0,o.y0,o.x1,o.y1,o.x,o.y):t[o.action](o.x,o.y);"fill"==s.strokeOrFill?t.fill():t.stroke(),t.closePath(),t.restore(),this.drawText(t,s),t.lineWidth=1}t.lineWidth=i,t.fillStyle=a,t.strokeStyle=r,t.globalAlpha=n}},!0),l.EaseMachine=function(t,e,i,a){this.fc=t,this.ms=e,(i||0===i)&&this.reset(i,a)},l.EaseMachine.prototype.reset=function(t,e){var i;for(var a in i="obje",i+="c",i+="t",t||0===t||(t=this.currentValues),this.hasCompleted=!1,this.running=!1,this.okayToRun=!0,g.H1G(6),this.useNameValuePairs=g.b1h(i,typeof e),this.startTime=Date.now(),this.useNameValuePairs?(this.startValues=t,this.endValues=e):(this.startValues={default:t},this.endValues={default:e}),this.changeValues={},this.currentValues={},this.startValues)this.changeValues[a]=this.endValues[a]-this.startValues[a]},l.EaseMachine.prototype.next=function(){var t,e,i,a;if((t=Date.now())>=this.startTime+this.ms){e=-1759250958,i=-835879226,g.e0y(49),a=g.b1h("2",1);for(var r=1;g.R4w(r.toString(),r.toString().length,28040)!==e;r++)t=this.startTime%this.ms,a+=2;g.R4w(a.toString(),a.toString().length,91115)!==i&&(t=this.startTime+this.ms),this.hasCompleted=!0,this.running=!1}for(var n in this.currentValues={},this.changeValues)this.currentValues[n]=this.fc(t-this.startTime,this.startValues[n],this.changeValues[n],this.ms);return this.useNameValuePairs?this.currentValues:this.currentValues.default},l.EaseMachine.prototype.hasCompleted=!0,l.EaseMachine.prototype.run=function(t,e,i,a){var r;function n(){var e;r.afid=null,r.okayToRun&&(e=r.next(),t(e),r.hasCompleted||(r.afid=requestAnimationFrame(n)))}g.V1D(),this.afid&&cancelAnimationFrame(this.afid),e||0===e?this.reset(e,i):(i||0===i)&&this.reset(this.currentValues,i),r=this,this.running=!0,a?this.afid=requestAnimationFrame(n):n()},l.EaseMachine.prototype.stop=function(){var t,e,i;if(this.afid&&cancelAnimationFrame(this.afid),this.afid=null,this.okayToRun=!1,this.hasCompleted=!0,this.running=!1,void 0===this.useNameValuePairs)return{};t=-438806117,e=-1141695612,i=2;for(var a=1;g.R4w(a.toString(),a.toString().length,887)!==t;a++){if(!this.useNameValuePairs)return this.currentValues.default;i+=2}return g.N9C(i.toString(),i.toString().length,37486)!==e&&~this.useNameValuePairs?this.currentValues[""]:this.currentValues},l.Renderer=function(){},l.Renderer.produce=function(t,e){var i,a;if(i=null,t)for(var r in l.Renderer)if((a=l.Renderer[r]).requestNew&&(i=a.requestNew(t.split("_"),e)),i)return i;return e.type="line",new l.Renderer.Lines({params:e})},l.Renderer.colorFunctions={},l.Renderer.registerColorFunction=function(t,e){l.Renderer.colorFunctions[t]=e},l.Renderer.unregisterColorFunction=function(t){delete l.Renderer.colorFunctions[t]},l.Renderer.prototype.performCalculations=function(){},l.Renderer.prototype.adjustYAxis=function(){},l.Renderer.prototype.draw=function(){},l.Renderer.prototype.drawIndividualSeries=function(t,e){},l.Renderer.prototype.construct=function(t){var e;t||(t={}),(e=t.params?t.params:{}).name||(e.name=l.uniqueID()),e.heightPercentage||(e.heightPercentage=.7),e.opacity||(g.e0y(1),e.opacity=g.g4W(0,"1")),!1!==e.highlightable&&(e.highlightable=!0),e.panel||(e.panel="chart"),e.yAxis&&(e.yAxis=new l.ChartEngine.YAxis(e.yAxis),e.yAxis.name||(e.yAxis.name=e.name)),this.cb=t.callback,this.params=e,this.seriesParams=[],this.caches={},this.colors={}},l.Renderer.prototype.attachSeries=function(t,e){var i,a,r,n,s,o,c,h,u,d,p,f,m,v,y,b,x,S;if(i="obje",i+="ct",a="a",a+="ut",a+="o",r="a",r+="u",r+="to",!(n=this.stx))return this;if((s=n.chart.series[t])||(s={parameters:{}}),o=this.params,c=s.parameters,g.V5b(),h={id:t,chartType:o.type,display:c.display,border_color_up:o.defaultBorders?r:null,fill_color_up:c.color,opacity_up:o.opacity,border_color_down:o.defaultBorders?a:null,fill_color_down:c.color,opacity_down:o.opacity,color:c.color,symbol:c.symbol,symbolObject:l.clone(c.symbolObject)},"string"==typeof e)h.color=h.fill_color_down=h.fill_color_up=e;else if(typeof e==i){for(var k in e)h[k]=e[k];u=h.color,d=h.border_color,u&&(h.fill_color_up||(h.fill_color_up=u),h.fill_color_down||(h.fill_color_down=u),h.fill_color_even||(h.fill_color_even=u)),d&&(h.border_color_up||(h.border_color_up=d),h.border_color_down||(h.border_color_down=d),h.border_color_even||(h.border_color_even=d))}for(h.symbol&&h.field!=h.symbol&&(h.subField=h.field,h.field=h.symbol),h.id||(h.id=l.uniqueID()),p=0;p<this.seriesParams.length;++p)if(this.seriesParams[p].id===h.id){this.removeSeries(h.id,!0);break}return g.H1G(85),this.seriesParams.splice(p,g.g4W(0,"0"),h),h.fill_color_up!=h.fill_color_down?(f=" ",f+="do",f+="wn",m=" ",m+="d",m+="n",v=" u",v+="p",y=" ",y+="up",b=" ",b+="u",b+="p",g.e0y(20),this.colors[g.g4W(t,b)]={color:h.fill_color_up,opacity:h.opacity_up,display:h.display?h.display+y:t+v},g.H1G(20),this.colors[g.b1h(t,m)]={color:h.fill_color_down,opacity:h.opacity_down,display:h.display?h.display+" down":t+f}):this.colors[t]={color:h.fill_color_up,opacity:h.opacity_up,display:h.display?h.display:t},x=o.panel,n.panels[x]?o.yAxis?(o.yAxis=n.addYAxis(n.panels[x],o.yAxis),o.yAxis.needsInitialPadding=!0,c.yAxis=o.yAxis,n.resizeChart()):h.yAxis&&(o.yAxis=h.yAxis):((S=o.yAxis)||((S=new l.ChartEngine.YAxis).needsInitialPadding=!0),S.name=x,n.createPanel(x,x,null,null,S)),this},l.Renderer.prototype.removeSeries=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,f;for(var m in i="l",i+="ayo",i+="u",i+="t",a=" ",a+="u",a+="p",g.V1D(),r=null,n=!1,(o=(s=this.stx).chart).seriesRenderers){l=o.seriesRenderers[m];for(var v=0;v<l.seriesParams.length;v++)(c=l.seriesParams[v]).id==t&&this===l?r=v:!c.isComparison||c.panel!=o.panel.name||c.yAxis&&c.yAxis!=o.yAxis||(n=!0)}if(null!==r&&(o.forcePercentComparison&&!n&&this.seriesParams[r].isComparison&&"linear"!=s.layout.chartScale&&s.setChartScale(),this.seriesParams.splice(r,1)),g.e0y(20),delete this.colors[g.g4W(t,a)],g.e0y(20),delete this.colors[g.g4W(t," dn")],delete this.colors[t],!e){h=-1640526747,u=-1951840559,d=2;for(var y=1;g.N9C(y.toString(),y.toString().length,42911)!==h;y++)p=!1,d+=2;for(var b in g.N9C(d.toString(),d.toString().length,47895)!==u&&(p=!0),o.seriesRenderers){f=o.seriesRenderers[b];for(var x=0;x<f.seriesParams.length;x++)if(f.seriesParams[x].id==t){p=!0;break}if(p)break}p||s.deleteSeries(t,o)}return s.deleteYAxisIfUnused(s.panels[this.params.panel],this.params.yAxis),s.resizeChart(),s.layout.symbols=s.getSymbols({"include-parameters":!0,"exclude-studies":!0}),s.changeOccurred(i),this},l.Renderer.prototype.getDependents=function(t){var e,i;for(var a in g.V5b(),e=[],t.chart.seriesRenderers)(i=t.chart.seriesRenderers[a]).params.dependentOf==this.params.name&&e.push(i);return e},l.Renderer.prototype.undraggable=function(t){return this==t.mainSeriesRenderer||this.params.dependentOf==t.mainSeriesRenderer.params.name},l.Renderer.prototype.removeAllSeries=function(t){var e;if(t){e=[];for(var i=0;i<this.seriesParams.length;i++)e.push(this.seriesParams[i].id);for(var a=0;a<e.length;a++)this.removeSeries(e[a])}return this.seriesParams=[],this.colors={},this.stx.deleteYAxisIfUnused(this.stx.panels[this.params.panel],this.params.yAxis),g.V5b(),this.stx.resizeChart(),this},l.Renderer.prototype.getYAxis=function(t){var e,i;if(g.V5b(),this.params)if(this.params.yAxis)e=this.params.yAxis;else{if(!(i=t.panels[this.params.panel]))return!1;e=i.yAxis}else e=t.chart.panel.yAxis;return e},l.Renderer.prototype.ready=function(){return this.stx.createDataSet(),this.stx.draw(),this},l.Renderer.Lines=function(t){var e,i,a,r,n,s;e="st",e+="ep",i="channe",i+="l",a="w",a+="ave",r="l",r+="in",r+="e",this.construct(t),(n=this.params).type||(n.type=r),n.style||(s="moun",s+="tai",s+="n",n.type===s?n.baseline?n.style="stx_baseline_delta_mountain":n.colored?n.style="stx_colored_mountain_chart":n.style="stx_mountain_chart":n.style="stx_line_chart"),this.supportsAnimation=!0,n.type==a||n.type==i?(n.step=n.vertex=n.baseline=n.colored=!1,this.highLowBars=this.barsHaveWidth=!0,this.supportsAnimation=!1):n.type==e&&(n.step=!0)},l.inheritsFrom(l.Renderer.Lines,l.Renderer,!1),l.Renderer.Lines.requestNew=function(t,e){var i,a,r,n,s,o,c,h,u,d;i=null,a=e.step,r=e.colored,n=e.baseline,s=e.vertex;for(var p=0;p<t.length;p++)switch(o="v",o+="ert",o+="e",o+="x",c="st",c+="e",c+="p",h="ch",h+="annel",u="l",u+="i",u+="n",u+="e",d=t[p]){case u:case"mountain":case"wave":case h:i=d;break;case"baseline":n=!0;break;case"colored":r=!0;break;case c:a=!0;break;case o:s=!0;break;case"delta":break;default:return null}return null!==i||n||a?new l.Renderer.Lines({params:l.extend(e,{type:i,step:a,colored:r,baseline:n,vertex:s})}):null},l.Renderer.Lines.prototype.draw=function(){var t,e,i,a,r,n,s,o,c,h,u,d,p,f,m,v;for(t=this.stx,e=this.stx.panels[this.params.panel].chart,i={},r=this.seriesParams,n=this.params.colorFunction,a=0;a<r.length;a++){if(s=r[a],this.params.colored){o="_colo",o+="r",c=[o+="_up","_color_down","_color"];for(var y=0;y<c.length;y++)h="fi",h+="l",h+="l",u="aut",u+="o",(d=s["border"+c[y]])&&d!=u&&(s[h+c[y]]=d);n||(n=x(s)),this.params.colorFunction=n}p={},e.series[s.id]&&(p=l.clone(e.series[s.id].parameters)),i[s.id]={parameters:l.extend(l.extend(p,this.params),s),yValueCache:this.caches[s.id]},this==t.mainSeriesRenderer&&e.customChart&&e.customChart.colorFunction&&(i[s.id].parameters.colorFunction=e.customChart.colorFunction)}f=401253048,m=1527931004,v=2;for(var b=1;g.R4w(b.toString(),b.toString().length,15467)!==f;b++)t.drawSeries(e,i,this.params.yAxis,this),v+=2;function x(e){var i,a,r,n,s;return i="s",i+="tx_line_chart",a="st",a+="x_line_down",r=e.fill_color_up||t.getCanvasColor("stx_line_up"),n=e.fill_color_down||t.getCanvasColor(a),s=e.color||t.getCanvasColor(i),function(t,e,i){return e.iqPrevClose||0===e.iqPrevClose?(g.V1D(),e.Close>e.iqPrevClose?r:e.Close<e.iqPrevClose?n:s):s}}for(a in g.R4w(v.toString(),v.toString().length,3478)!==m&&t.drawSeries(e,i,this.params.yAxis,this),i)this.caches[a]=i[a].yValueCache},l.Renderer.Lines.prototype.drawIndividualSeries=function(t,e){var i,a,r,n,s,o,c;if(i="m",i+="ou",i+="ntain",!e.invalid&&(a=this.stx,r=t.context,n=null,s=e.colorFunction,o=a.panels[e.panel]||t.panel,"string"!=typeof s||(s=l.Renderer.colorFunctions[s])))return e.vertex&&(c="b",c+="evel",r.save(),r.lineJoin=c),"wave"==e.type?n=a.drawWaveChart(o,e):e.baseline?n=a.drawBaselineChart(o,e):e.type==i?(e.returnObject=!0,n=a.drawMountainChart(o,e,s)):"channel"==e.type?(e.returnObject=!0,n=a.drawChannelChart(o,s,e)):(e.returnObject=!0,n=a.drawLineChart(o,e.style,s,e)),e.vertex&&(a.scatter(o,{yAxis:e.yAxis,field:e.symbol||e.field,subField:e.subField,symbol:e.symbol,color:e.vertex_color,highlight:e.highlight}),r.restore()),n},l.Renderer.OHLC=function(t){var e,i;e="c",e+="andle",this.construct(t),g.V5b(),(i=this.params).type||(i.type=e),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,i.histogram&&(i.type="candle",this.highLowBars=!1,i.volume=i.hollow=!1),"bar"==i.type&&(i.volume=i.hollow=i.histogram=!1),"candle"==i.type&&(i.hlc=i.colored=!1),i.volume&&(i.hollow=!0)},l.inheritsFrom(l.Renderer.OHLC,l.Renderer,!1),l.Renderer.OHLC.requestNew=function(t,e){var i,a,r,n,s;g.V5b(),i=null,a=e.histogram;for(var o=0;o<t.length;o++)switch(r="hist",r+="o",r+="g",r+="ram",n="c",n+="andle",s=t[o]){case n:i=s;break;case r:a=!0,i="candle";break;default:return null}return null===i?null:new l.Renderer.OHLC({params:l.extend(e,{type:i,histogram:a})})},l.Renderer.OHLC.getChartParts=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,f,m,v,y,b,x,S;return i="b",i+="orde",i+="r_color_do",i+="wn",a="fill_color_do",a+="wn",r="border_c",r+="olor_u",r+="p",n="stx",n+="_can",n+="dle_up",s="c",s+="a",s+="nd",s+="le",o="c",o+="and",o+="l",o+="e",l="border_col",l+="or_down",c="bor",c+="der_",c+="colo",c+="r_up",h="s",h+="ha",h+="do",h+="w",u="can",u+="d",u+="le",d="c",d+="a",d+="ndle",p="fi",p+="ll_c",p+="olor_",p+="even",g.V1D(),f="histog",m="bord",m+="er_col",v="histo",y="histo",y+="gra",[{type:y+="m",drawType:"histogram",style:"stx_histogram_up",condition:b=8,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:v+="gram",style:"stx_histogram_down",condition:x=16,fill:"fill_color_down",border:m+="or_down",useColorInMap:!0,useBorderStyleProp:!0},{type:f+="ram",drawType:"histogram",style:"stx_histogram_even",condition:S=32,fill:p,border:"border_color_even",skipIfPass:!0,useColorInMap:!0,useBorderStyleProp:!0},{type:d,drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:u,drawType:h,style:"stx_candle_shadow_up",condition:b,border:c},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:x,border:l},{type:o,drawType:"shadow",style:"stx_candle_shadow_even",condition:S,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:s,style:n,condition:b,fill:"fill_color_up",border:r,useColorInMap:!0,useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:x,fill:a,border:i,useColorInMap:!0,useBorderStyleProp:!0}]},l.Renderer.OHLC.prototype.draw=function(){var t,e,i,a,r,n,s;for(t=this.stx,e=this.stx.panels[this.params.panel].chart,i={},r=this.seriesParams,a=0;a<r.length;a++)n=r[a],s={},e.series[n.id]&&(s=l.clone(e.series[n.id].parameters)),i[n.id]={parameters:l.extend(l.extend(s,this.params),n)},this==t.mainSeriesRenderer&&e.customChart&&e.customChart.colorFunction&&(i[n.id].parameters.colorFunction=e.customChart.colorFunction);for(a in g.V5b(),t.drawSeries(e,i,this.params.yAxis,this),i)i[a].yValueCache&&(this.caches[a]=i[a].yValueCache)},l.Renderer.OHLC.prototype.getColor=function(t,e,i,a,r,n){var s,o,c,h,u,d;return s=n||i.color,o=this.params.yAxis||e.yAxis,a&&!(s=n||i.borderLeftColor||i["border-left-color"])?null:r?(c=t.pixelFromTransformedValue(o.highValue,e),isNaN(c)&&(c=0),h=i.backgroundColor,s&&!l.isTransparent(s)?(u="bott",u+="o",u+="m",(d=t.chart.context.createLinearGradient(0,c,0,2*o[o.flipped?"top":u]-c)).addColorStop(0,s),d.addColorStop(1,h),d):h):s},l.Renderer.OHLC.prototype.drawIndividualSeries=function(t,e){var i,a,r,n,s,o,c,h,u,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H;if(i="op",i+="e",i+="n",a="strin",a+="g",!e.invalid&&(r=this.stx,n=t.context,s=e.colorFunction,o=r.panels[e.panel]||t.panel,typeof s!=a||(s=l.Renderer.colorFunctions[s]))){if(c=r.layout.candleWidth-t.tmpWidth<=2&&t.tmpWidth<=3,g.V1D(),g.H1G(1),g.g4W(0,"32"),t.state.chartType||(t.state.chartType={}),h=t.state.chartType.pass={},u=r.colorByCandleDirection,e.colorBasis&&(u=e.colorBasis==i),d=e.histogram,p=e.type,f=e.hollow,m=r.noWicksOnCandles[p],r.startClip(o.name),v=null,y={colors:[],cache:[]},b=[],s)x={isHistogram:d,field:e.field,yAxis:e.yAxis,volume:e.volume,highlight:e.highlight},d||"bar"!=p?("candle"!=p||m||r.drawShadows(o,s,x),y=r.drawCandles(o,s,x),x.isOutline=!0,!f&&c||r.drawCandles(o,s,x)):(S="stx_",S+="bar_chart",k="h",k+="l",k+="c",x.type=e.hlc?k:"bar",y=r.drawBarChart(o,S,s,x));else{C=d&&!1!==e.gradient,w=2075310532,D=-112224187,T=2;for(var R=1;g.R4w(R.toString(),R.toString().length,94402)!==w;R++)A=l.Renderer.OHLC.getChartParts(e.style,u),T+=2;g.N9C(T.toString(),T.toString().length,85945)!==D&&(A=l.Renderer.OHLC.getChartParts(e.style,u));for(var U=0;U<A.length;U++)if(!(M=A[U]).skipIfPass||h.even){if(d){if("histogram"!=M.type)continue}else if("bar"==p){if(L="b",L+="ar",M.type!=L)continue;if(e.colored&&!M.condition)continue;if(!e.colored&&M.condition)continue}else if(f){if("hollow"!=M.type)continue;if("shadow"==M.drawType&&m)continue}else{if("candle"!=p)continue;if("candle"!=M.type)continue;if("shadow"==M.drawType){if(m)continue;if(_=e.border_color_up||r.getCanvasColor("stx_candle_shadow_up"),P=e.border_color_down||r.getCanvasColor("stx_candle_shadow_down"),F=e.border_color_even||r.getCanvasColor("stx_candle_shadow_even"),l.colorsEqual(_,P)&&l.colorsEqual(_,F)&&l.colorsEqual(_,r.defaultColor)){if(M.condition)continue}else if(!M.condition)continue}}E=r.canvasStyle(M.style),I=this.getColor(r,o,E,!1,!1,e[M.fill]),N=this.getColor(r,o,E,!1,C,e[M.fill]),q=this.getColor(r,o,E,M.useBorderStyleProp&&!c,C,e[M.border]),"candle"==M.drawType&&(O="ho",O+="ll",O+="ow",M.type==O?(!l.isTransparent(N)&&l.colorsEqual(q,N)&&(q=M.useColorInMap?"transparent":N),M.useColorInMap||(N=r.containerColor)):"candle"==M.type&&c&&(l.isTransparent(N)?N=q:q=N)),n.globalAlpha=e.opacity,b.push(r.drawBarTypeChartInner({fillColor:N,borderColor:q,condition:M.condition,style:M.style,type:"bar"==p&&e.hlc?"hlc":M.drawType,panel:o,field:e.field,yAxis:e.yAxis,volume:e.volume&&e.hollow,highlight:e.highlight})),v||(v={}),M.useColorInMap&&(v[I]=1)}}for(var z in r.endClip(),v)e.hollow&&l.equals(z,r.containerColor)||y.colors.push(z);for(z=0;z<b.length;z++)for(var V=0;V<b[z].cache.length;V++)((H=b[z].cache[V])||0===H)&&(y.cache[V]=H);return y}},l.Renderer.Candles=function(t){var e;this.construct(t),(e=this.params).type="candle",g.V1D(),this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0,e.hlc=e.colored=e.histogram=!1,e.volume&&(e.hollow=!0)},l.inheritsFrom(l.Renderer.Candles,l.Renderer.OHLC,!1),l.Renderer.SimpleHistogram=function(t){var e;this.construct(t),(e=this.params).type="candle",e.histogram=!0,this.barsHaveWidth=this.standaloneBars=!0,g.V1D(),this.highLowBars=!1,e.hlc=e.colored=e.hollow=e.volume=!1},l.inheritsFrom(l.Renderer.SimpleHistogram,l.Renderer.Candles,!1),t},qt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.e_8ke=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"yvq$m",{get:function(){return this},configurable:!0}),e=yvq$m,i=5;break;case 4:i="undefined"==typeof e_8ke?3:9;break;case 9:delete e.e_8ke,delete Object.prototype.yvq$m,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Nt(qt[513895]),qt.T8I=function(){return"function"==typeof qt[321268].L3LLwSS?qt[321268].L3LLwSS.apply(qt[321268],arguments):qt[321268].L3LLwSS},qt.S$R=function(){return"function"==typeof qt[299637].R9DODrP?qt[299637].R9DODrP.apply(qt[299637],arguments):qt[299637].R9DODrP},qt[513895].Z044=qt,qt.X01=function(){return"function"==typeof qt[321268].L3LLwSS?qt[321268].L3LLwSS.apply(qt[321268],arguments):qt[321268].L3LLwSS},qt.p$K=function(){return"function"==typeof qt[254206].s7rL$NJ?qt[254206].s7rL$NJ.apply(qt[254206],arguments):qt[254206].s7rL$NJ},qt[254206]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[2];case 2:var e=[arguments];e[5]=void 0,e[2]={},e[2].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 76:t=i[43]<i[61][i[18]].length?75:70;break;case 71:i[43]++,t=76;break;case 1:t=e[5]?5:4;break;case 36:i[79]=i[75],i[5].n9GLz(i[2]),i[5].n9GLz(i[37]),i[5].n9GLz(i[62]),t=51;break;case 51:i[5].n9GLz(i[95]),i[5].n9GLz(i[78]),i[5].n9GLz(i[3]),i[5].n9GLz(i[79]),i[5].n9GLz(i[1]),t=46;break;case 60:i[41]="W_2",i[84]="h3B",t=58;break;case 41:i[72].W_2=function(){return/\061\x39\x32/.F2mC5(function(){!function(t){for(var e=0;e<20;e++)e}()}+[])},i[54]=i[72],i[75]={},i[75].g5h=["o0V"],t=37;break;case 37:i[75].W_2=function(){return!/[\u0022\047]/.F2mC5(function(){return"c".indexOf("c")}+[])},t=36;break;case 56:i[61]=i[5][i[83]];try{i[47]=i[61][i[41]]()?i[77]:i[90]}catch(t){i[47]=i[90]}t=77;break;case 4:i[5]=[],i[8]={},i[8].g5h=["Q1S"],i[8].W_2=function(){var t=!1,e=[];try{for(var i in console)e.n9GLz(i);t=0===e.length}catch(t){}return t},t=7;break;case 75:i[29]={},i[29][i[84]]=i[61][i[18]][i[43]],i[29][i[11]]=i[47],i[12].n9GLz(i[29]),t=71;break;case 57:t=i[83]<i[5].length?56:69;break;case 77:i[43]=0,t=76;break;case 24:i[62]=i[89],i[22]={},i[22].g5h=["o0V"],i[22].W_2=function(){return!/\141\164\x6f\u0062/.F2mC5(function(){return atob("PQ==")}+[])},t=35;break;case 10:i[9].g5h=["o0V"],i[9].W_2=function(){return/\x78/.F2mC5(function(){return"X".toLowerCase()}+[])},i[2]=i[9],i[7]={},t=17;break;case 67:return e[5]=77,25;case 14:i[4].g5h=["o0V"],i[4].W_2=function(){return/\u0074\x72\u0075\x65/.F2mC5(function(){return"aaa".includes("a")}+[])},i[3]=i[4],i[9]={},t=10;break;case 17:i[7].g5h=["o0V"],i[7].W_2=function(){return/\u0061\x61\141\x61\141/.F2mC5(function(){return"aaaa".padEnd(5,"a")}+[])},i[6]=i[7],i[89]={},i[89].g5h=["Q1S"],i[89].W_2=function(){return"function"==typeof s6yNY},t=24;break;case 68:t=68;break;case 2:var i=[arguments];t=1;break;case 70:i[83]++,t=57;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[9]>=.5?25:24;break;case 2:var a=[arguments];e=1;break;case 1:e=0===a[0][0].length?5:4;break;case 14:e=void 0===a[1][a[6][i[84]]]?13:11;break;case 10:e=a[6][i[11]]===i[77]?20:19;break;case 6:a[6]=a[0][0][a[7]],e=14;break;case 11:a[1][a[6][i[84]]].t+=!0,e=10;break;case 17:a[7]=0,e=16;break;case 19:a[7]++,e=7;break;case 23:return a[3];case 25:a[3]=!0,e=24;break;case 24:a[7]++,e=16;break;case 12:a[4].n9GLz(a[6][i[84]]),e=11;break;case 18:a[3]=!1,e=17;break;case 13:a[1][a[6][i[84]]]=function(){for(var t=2;9!==t;)switch(t){case 1:return e[1]={},e[1].h=0,e[1].t=0,e[1];case 2:var e=[arguments];t=1}}.w6HKuQ(this,arguments),e=12;break;case 5:return;case 15:a[8]=a[4][a[7]],a[9]=a[1][a[8]].h/a[1][a[8]].t,e=26;break;case 4:a[1]={},a[4]=[],a[7]=0,e=8;break;case 20:a[1][a[6][i[84]]].h+=!0,e=19;break;case 8:a[7]=0,e=7;break;case 16:e=a[7]<a[4].length?15:23;break;case 7:e=a[7]<a[0][0].length?6:18}}(i[12])?68:67;break;case 46:i[5].n9GLz(i[54]),i[5].n9GLz(i[6]),i[12]=[],i[77]="o8I",i[90]="w0k",i[18]="g5h",i[11]="s4q",t=60;break;case 35:i[95]=i[22],i[14]={},i[14].g5h=["Q1S"],i[14].W_2=function(){return"function"==typeof u049V1},i[78]=i[14],i[49]={},t=29;break;case 29:i[49].g5h=["Q1S"],i[49].W_2=function(){return"function"==typeof R4$Aag},i[37]=i[49],i[72]={},i[72].g5h=["o0V"],t=41;break;case 7:i[1]=i[8],i[4]={},t=14;break;case 58:i[83]=0,t=57;break;case 5:return 14}},t=3}}(),qt.s8b=function(){return"function"==typeof qt[299637].R9DODrP?qt[299637].R9DODrP.apply(qt[299637],arguments):qt[299637].R9DODrP},qt[302900]=591,qt[92321]=540,qt[574954]=!0,qt.e8n=function(){return"function"==typeof qt[299637].p4oUdFl?qt[299637].p4oUdFl.apply(qt[299637],arguments):qt[299637].p4oUdFl},qt[245362]=qt[299637],qt[299637]={p4oUdFl:function(){var t,e=arguments;switch(tt){case 51:t=e[3]*(e[0]-e[1])+e[2];break;case 71:t=e[2]-e[0]/e[1]+e[3];break;case 63:t=e[3]+e[1]-e[2]-e[4]+e[0];break;case 48:t=e[2]+(e[1]>>e[0]);break;case 12:t=e[0]*e[4]*e[3]+e[1]-e[2];break;case 78:t=e[0]*-e[1];break;case 3:t=e[1]*e[0];break;case 61:t=-e[1]+e[0]-e[2];break;case 26:t=e[2]+e[1]-e[0];break;case 39:t=e[2]-e[0]-e[3]+e[1];break;case 8:t=e[0]+e[2]+e[1];break;case 94:t=e[0]+e[4]+e[2]-e[3]-e[1];break;case 65:t=e[2]+e[1]-e[0]-e[3];break;case 64:t=e[0]+e[3]+e[1]-e[2];break;case 59:t=-e[2]-e[3]-e[0]+e[1];break;case 14:t=e[0]-(e[1]-e[2]);break;case 91:t=(e[2]-e[3])*e[4]-e[0]-e[1];break;case 47:t=e[1]-e[3]-e[0]-e[2]+e[4];break;case 44:t=e[0]+e[2]+e[1]+e[3];break;case 76:t=e[1]!==e[0];break;case 62:t=e[0]+e[2]/+e[1];break;case 69:t=e[1]/e[3]-e[0]-e[4]+e[2];break;case 37:t=(e[0]-e[1])/e[2];break;case 45:t=-e[0]-e[1]+e[2]+e[3];break;case 53:t=e[1]+ +e[0];break;case 20:t=-e[1]+e[2]+e[3]+e[0];break;case 28:t=(e[4]+e[1])/e[2]-e[0]+e[3];break;case 79:t=e[1]/e[3]-e[0]+e[2];break;case 10:t=e[4]*e[1]/e[3]-e[2]-e[0];break;case 18:t=(-e[0]+e[1])*e[3]-e[4]+e[2];break;case 43:t=e[1]/+e[0];break;case 9:t=(e[3]-e[1]-e[0])*e[4]-e[2];break;case 5:t=(e[3]-e[1])/e[4]-e[2]+e[0];break;case 7:t=e[0]+e[1];break;case 54:t=e[1]+e[0]*e[2];break;case 77:t=-e[2]/e[0]/e[1]+e[3];break;case 56:t=e[0]-e[1]-e[2];break;case 32:t=(e[1]+e[2])/e[4]-e[3]-e[0];break;case 42:t=e[0]*e[1]+e[2]-e[3];break;case 29:t=(e[1]-e[0])/e[2]+e[3];break;case 49:t=(e[2]+e[0])*e[1]-e[4]-e[3];break;case 41:t=(e[2]-e[0])/e[4]*e[1]+e[3];break;case 74:t=(e[4]-e[1]-e[2])/e[3]+e[0];break;case 70:t=e[2]/e[0]/e[1]+e[3];break;case 88:t=e[1]*e[2]/e[0];break;case 60:t=-e[2]*e[3]/e[1]+e[4]+e[0];break;case 92:t=e[1]*e[3]*e[4]*e[2]-e[0];break;case 30:t=e[0]-e[1]+e[2];break;case 58:t=e[2]-e[3]-e[0]+e[4]+e[1];break;case 57:t=(-e[2]+e[1])*e[0]+e[3];break;case 6:t=e[0]/e[1];break;case 33:t=e[2]*e[1]*e[0]-e[3]-e[4];break;case 40:t=(e[1]-e[3])*e[0]+e[2];break;case 38:t=e[1]*+e[0];break;case 66:t=e[1]*-+e[0];break;case 89:t=e[1]*(e[2]/e[0]);break;case 72:t=e[3]/e[1]*e[2]+e[0];break;case 68:t=-e[0]*e[2]+e[1];break;case 0:t=e[1]|e[0];break;case 81:t=e[0]-e[2]*e[1];break;case 4:t=e[1]>e[0];break;case 84:t=(e[1]+e[0])/e[2]+e[4]-e[3];break;case 24:t=(e[3]+e[1])/e[0]-e[2];break;case 46:t=e[4]+e[1]+e[2]+e[0]-e[3];break;case 15:t=e[0]*e[3]-e[1]-e[2];break;case 80:t=(e[3]*e[1]-e[2])*e[4]-e[0];break;case 85:t=e[1]/e[3]*e[2]-e[0]+e[4];break;case 35:t=-e[0]+e[1];break;case 90:t=(e[0]+e[3]-e[2])*e[4]-e[1];break;case 25:t=e[1]-+e[0];break;case 75:t=-e[2]-e[0]+e[1];break;case 82:t=e[1]-e[2]-(e[3]-e[0]);break;case 2:t=e[1]-e[0];break;case 19:t=-e[2]+e[1]+e[0];break;case 23:t=e[0]<e[1];break;case 86:t=(e[1]-e[4])*e[2]+e[3]-e[0];break;case 1:t=e[1]^e[0];break;case 52:t=e[1]%e[0];break;case 34:t=e[2]*e[0]-e[1];break;case 11:t=e[3]*e[1]/e[2]+e[0];break;case 16:t=e[2]*e[1]/e[3]-e[0];break;case 67:t=e[2]/e[1]-e[0];break;case 73:t=e[1]==e[0];break;case 21:t=(e[3]+e[1])/(e[2]-e[0]);break;case 31:t=e[0]/e[3]/e[2]-e[1]+e[4];break;case 13:t=e[0]<<e[1];break;case 27:t=(e[0]+e[3]+e[1])/e[4]+e[2];break;case 50:t=(e[3]-e[2])/(e[0]-e[1]);break;case 93:t=e[3]/e[4]*e[2]+e[0]+e[1];break;case 55:t=(e[3]-e[2])/e[0]/e[4]+e[1];break;case 17:t=-e[1]+e[2]+e[0]-e[3];break;case 87:t=e[2]*(e[0]+e[1]/e[3]);break;case 36:t=e[1]>>e[0];break;case 83:t=(e[0]/e[1]+e[4])/e[3]+e[2];break;case 22:t=e[0]-e[1]+e[2]+e[3]}return t},R9DODrP:function(t){tt=t}},qt.d0d=function(){return"function"==typeof qt[299637].p4oUdFl?qt[299637].p4oUdFl.apply(qt[299637],arguments):qt[299637].p4oUdFl},qt.h9y=function(){return"function"==typeof qt[254206].s7rL$NJ?qt[254206].s7rL$NJ.apply(qt[254206],arguments):qt[254206].s7rL$NJ},qt[321268]=(Q=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.U4eY6(o)|(255&t.U4eY6(o+1))<<8|(255&t.U4eY6(o+2))<<16|(255&t.U4eY6(o+3))<<24;l=Q(l,a),n=5*(n=(524287&(n^=l=Q(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.U4eY6(s+2))<<16;case 2:l|=(255&t.U4eY6(s+1))<<8;case 1:l|=255&t.U4eY6(s),l=Q(l,a),n^=l=Q(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=Q(n^=n>>>16,2246822507),n=Q(n^=n>>>13,3266489909),n^=n>>>16}}),qt[616183]="w8T",qt.p$K(),p=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g=qt;return e="contex",e+="tme",e+="nu",i='<div class="stx',i+='-ico-handle" style="display: none;"><span></span></div> ',a='<div class="stx_sticky">',a+=' <span class="mStickyInterior"></span> <span class="mStickyRightClick"><span class="overlayEd',a+='it stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="overlayTrashCan stx-btn" style="display:none"><span>&nbsp;</span></span> <span class="mouseDeleteInstructions"><span>(</span><span class="mouseDeleteText">right-click to delete</span><span class="mouseManageText">right-click to manage</span><span>)</span></span></span><span class="stickyLongPressText">(long-press to drag)</span></div>',r='<span class="stx-btn stx_annotation',r+='_save" style="display: none;">save</span>',n="au",n+="to",s="so",s+="li",s+="d",o="sol",o+="id",l="a",l+="u",l+="t",l+="o",c="a",c+="u",c+="t",c+="o",h="#",h+="7",h+="DA6F",h+="5",t.SplinePlotter||(t.SplinePlotter={}),t.timezoneJS||(t.timezoneJS={}),u=t.CIQ,d=t.SplinePlotter,p=t.timezoneJS,u.ChartEngine=function(t){var e,i,a,r,n,s,o,l;e="m",e+="onth",i="m",i+="in",i+="ut",i+="e",a="m",a+="in",a+="ute",r="wee",r+="k",n="line",n+="ar",s="ro",s+="undRe",s+="ctArrow",t?"undefined"!=typeof HTMLDivElement&&t.constructor==HTMLDivElement&&(t={container:t}):t={container:null},this.container=null,this.createChartPanel=!0,this.markers={},this.panels={},this.overlays={},this.charts={},this.eventListeners=[],this.animations={zoom:new u.EaseMachine(Math.easeOutCubic,400)},this.callbacks={studyOverlayEdit:null,studyPanelEdit:null,tap:null,rightClick:null,longhold:null,move:null,layout:null,drawing:null,drawingEdit:null,preferences:null,theme:null,symbolChange:null,symbolImport:null,calculateTradingDecimalPlaces:u.calculateTradingDecimalPlaces},this.controls={},this.goneVertical=!1,this.pinchingScreen=!1,this.grabbingScreen=!1,g.h9y(),this.grabStartX=0,this.grabStartY=0,g.S$R(0),this.grabStartScrollX=g.e8n(0,"0"),this.grabStartScrollY=0,this.swipe={},this.yTolerance=100,this.minimumLeftBars=1,this.grabStartCandleWidth=0,this.grabStartZoom=0,this.grabOverrideClick=!1,this.grabMode="",this.vectorsShowing=!1,this.mouseMode=!0,this.lineTravelSpacing=!1,this.reverseMouseWheel=!1,this.mouseWheelAcceleration=!0,this.minimumCandleWidth=1,this.maximumCandleWidth=200,this.minimumZoomTicks=9,this.allowZoom=!0,this.allowScroll=!0,this.allowSideswipe=!0,this.allowThreeFingerTouch=!1,this.bypassRightClick={series:!1,study:!1,drawing:!1},this.adjustHighlightedDataSetField=function(t){return g.h9y(),t},this.highlightedDataSetField=null,this.anyHighlighted=!1,this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),this.displayCrosshairs=!0,this.hrPanel=null,this.editingAnnotation=!1,this.openDialog="",this.displayIconsUpDown=!0,this.displayIconsSolo=!0,this.displayIconsClose=!0,this.displayPanelResize=!0,this.soloPanelToFullScreen=!1,this.markerDelay=null,this.useBackingStore=!0,this.disableBackingStoreDuringTouch=u.isMobile||u.isSurface&&u.isFF,this.manageTouchAndMouse=!0,this.captureTouchEvents=!0,this.captureMouseWheelEvents=!0,this.touches=[],this.changedTouches=[],this.crosshairTick=null,this.crosshairValue=null,this.yaxisLabelStyle=s,this.axisBorders=null,this.pt={x1:-1,x2:-1,y1:-1,y2:-1},this.moveA=-1,this.moveB=-1,this.touchStartTime=-1,this.touchPointerType="",this.gestureStartDistance=-1,this.grabStartPeriodicity=1,this.grabEndPeriodicity=-1,this.scrollEvent=null,this.cmd=!1,this.ctrl=!1,this.shift=!1,this.userPointerDown=!1,this.cloneDrawing=!1,this.singleDrawingHighlight=!0,this.crosshairXOffset=-40,this.crosshairYOffset=-40,this.insideChart=!1,this.overXAxis=!1,this.overYAxis=!1,this.displayInitialized=!1,this.cx=null,this.isHistoricalModeSet=null,this.cy=null,this.extendLastTick=!1,this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.cancelTouchSingleClick=!1,this.layout={interval:"day",periodicity:1,timeUnit:null,candleWidth:8,flipped:!1,volumeUnderlay:!1,adj:!0,crosshair:!1,chartType:"candle",extended:!1,marketSessions:{},aggregationType:"ohlc",chartScale:n,studies:{},panels:{},setSpan:{},outliers:!1},this.preferences={currentPriceLine:!1,dragging:{series:!0,study:!0,yaxis:!0},drawings:null,highlightsRadius:10,highlightsTapRadius:30,magnet:!1,horizontalCrosshairField:null,labels:!0,language:null,timeZone:null,whitespace:50,zoomInSpeed:null,zoomOutSpeed:null,zoomAtCurrentMousePosition:!1},this.streamParameters={count:0,maxWait:1e3,maxTicks:100,timeout:-1,fillGaps:!0},this.translationCallback=null,this.locale=null,this.dataZone=null,this.displayZone=null,this.timeZoneOffset=0,this.changeCallback=null,this.masterData=null,this.transformDataSetPre=null,this.transformDataSetPost=null,this.dataCallback=null,this.dontRoll=!1,this.allowEquations=!0,this.drawingObjects=[],this.undoStamps=[],this.cleanupGaps=!1,this.staticRange=!1,this.maxDataSetSize=2e4,g.S$R(0),this.maxMasterDataSize=g.e8n(0,"0"),this.resizeDetectMS=1e3,this.useBackgroundCanvas=!1,this.xAxisAsFooter=!0,this.xaxisHeight=30,this.displayGridLinesInStudies=!1,this.escapeOnSerialize=!0,this.chart=new u.ChartEngine.Chart,this.chart.name="chart",this.chart.yAxis.name="chart",this.chart.canvas=null,this.chart.tempCanvas=null,this.chart.container=t.container,this.chart.market=new u.Market,this.candleWidthPercent=.65,this.colorByCandleDirection=!1,this.noWicksOnCandles={renko:!0,linebreak:!0},this.fetchMaximumBars={rangebars:!0,kagi:!0,renko:!0,linebreak:!0,pandf:!0},this.mainSeriesRenderer=null,this.highLowBars={bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,wave:!0,rangechannel:!0,none:!0},this.standaloneBars={bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,histogram:!0,scatterplot:!0},this.barsHaveWidth={bar:!0,colored_bar:!0,candle:!0,hollow_candle:!0,volume_candle:!0,hlc:!0,colored_hlc:!0,hlc_box:!0,hlc_shaded_box:!0,histogram:!0,scatterplot:!0,wave:!0},this.startComparisonsAtFirstVisibleBar=!1,this.autoPickCandleWidth={turnOn:!1,candleWidth:5},this.staticRangePeriodicityMap=[{rangeInMS:u.WEEK,periodicity:1,interval:5,timeUnit:"minute"},{rangeInMS:u.MONTH,periodicity:1,interval:30,timeUnit:"minute"},{rangeInMS:u.YEAR,periodicity:1,interval:"day"},{rangeInMS:u.DECADE,periodicity:1,interval:r},{rangeInMS:10*u.DECADE,periodicity:1,interval:"month"},{rangeInMS:Number.MAX_VALUE,periodicity:12,interval:"month"}],this.dynamicRangePeriodicityMap=[{interval:1,timeUnit:a,rangeInMS:u.MINUTE},{interval:5,timeUnit:"minute",rangeInMS:5*u.MINUTE},{interval:30,timeUnit:"minute",rangeInMS:30*u.MINUTE},{interval:60,timeUnit:i,rangeInMS:60*u.MINUTE},{interval:"day",rangeInMS:u.DAY},{interval:e,rangeInMS:u.MONTH},{interval:"year",rangeInMS:u.YEAR}],this.charts.chart=this.chart,this.styles={},this.currentVectorParameters=u.clone(u.ChartEngine.currentVectorParameters),u.extend(this,t),t.container&&(this.registerHTMLElements(),this.chart.width=this.chart.container.clientWidth-this.chart.yAxis.width,this.setCandleWidth(this.layout.candleWidth,this.chart),this.chart.canvasHeight=this.chart.container.clientHeight,u.useOldWheelLogic&&!u.FireFoxWheelWorkaround&&(o="whee",o+="l",l=u.isIE?function(t){var e;if(g.p$K(),this.insideChart){t.preventDefault();for(var i=0;i<u.ChartEngine.registeredContainers.length;i++)e=u.ChartEngine.registeredContainers[i].stx,u.ChartEngine.crosshairX>=e.left&&u.ChartEngine.crosshairX<=e.right&&u.ChartEngine.crosshairY>=e.top&&u.ChartEngine.crosshairY<=e.bottom&&e.mouseWheel(t,"onmousewheel")}}.bind(this):function(t){g.p$K(),this.insideChart&&t.preventDefault()}.bind(this),this.addDomEventListener(document.body,o,l),u.FireFoxWheelWorkaround=!0)),this.construct()},u.ChartEngine.drawingLine=!1,u.ChartEngine.resizingPanel=null,u.ChartEngine.vectorType="",g.s8b(1),u.ChartEngine.crosshairX=g.d0d(0,"0"),u.ChartEngine.crosshairY=0,u.ChartEngine.currentColor="auto",u.ChartEngine.drawingTools={},u.ChartEngine.useAnimation=!0,u.ChartEngine.enableCaching=!1,u.ChartEngine.ignoreTouch=!1,u.ChartEngine.useOldAndroidClear=!0,u.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:h,currentColor:"auto",axisLabel:!0,fibonacci:{trend:{color:c,parameters:{pattern:"solid",opacity:.25,lineWidth:1}},fibs:[{level:-.786,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.5,color:l,parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:-.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:-.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:.382,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.5,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:.618,color:"auto",parameters:{pattern:o,opacity:.25,lineWidth:1},display:!0},{level:.786,color:"auto",parameters:{pattern:s,opacity:.25,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!0},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:1.382,color:n,parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1},display:!0},{level:2.618,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},{level:4.236,color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}],extendLeft:!1,printLevels:!0,printValues:!1,timezone:{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}}},annotation:{font:{style:null,size:null,weight:null,family:null}}},u.ChartEngine.defaultDisplayTimeZone=null,u.ChartEngine.Chart=function(){this.xAxis=new u.ChartEngine.XAxis,this.yAxis=new u.ChartEngine.YAxis,this.symbolObject={symbol:null},this.series={},this.seriesRenderers={},this.xaxis=[],g.h9y(),this.state={},this.endPoints={},this.defaultChartStyleConfig={},this.baseline=u.clone(this.baseline)},u.ChartEngine.YAxis=function(t){for(var e in t)this[e]=t[e];g.p$K(),this.name||(this.name=u.uniqueID()),"none"==this.position&&(this.width=0)},u.ChartEngine.XAxis=function(t){var e,i,a;e=-839642953,i=-945605912,a=2;for(var r=1;g.X01(r.toString(),r.toString().length,67496)!==e;r++){for(var n in t)this[n]=t[n];a+=2}if(g.X01(a.toString(),a.toString().length,39223)!==i)for(var n in t)this[n]=t[n]},u.ChartEngine.Panel=function(t,e){this.yAxis=e||new u.ChartEngine.YAxis,this.name=t,this.state={}},u.extend(u.ChartEngine.YAxis.prototype,{high:null,low:null,shadow:null,logHigh:null,logLow:null,logShadow:null,multiplier:null,bottom:null,top:null,height:null,left:null,width:null,renderers:[],studies:[]},!0),u.ChartEngine.YAxis.prototype.maxDecimalPlaces=null,u.ChartEngine.YAxis.prototype.max=null,u.ChartEngine.YAxis.prototype.min=null,u.ChartEngine.YAxis.prototype.decimalPlaces=null,u.ChartEngine.YAxis.prototype.idealTickSizePixels=null,u.ChartEngine.YAxis.prototype.minimumPriceTick=null,u.ChartEngine.YAxis.prototype.fractional=null,u.ChartEngine.YAxis.prototype.displayBorder=!0,u.ChartEngine.YAxis.prototype.displayGridLines=!0,u.ChartEngine.YAxis.prototype.noDraw=null,u.ChartEngine.YAxis.prototype.drawCurrentPriceLabel=!0,u.ChartEngine.YAxis.prototype.drawSeriesPriceLabels=!0,u.ChartEngine.YAxis.prototype.drawPriceLabels=!0,u.ChartEngine.YAxis.prototype.goldenRatioYAxis=!0,u.ChartEngine.YAxis.prototype.yaxisLabelStyle=null,u.ChartEngine.YAxis.prototype.justifyRight=null,u.ChartEngine.YAxis.prototype.flipped=!1,u.ChartEngine.YAxis.prototype.textBackground=!1,u.ChartEngine.YAxis.prototype.priceFormatter=null,u.ChartEngine.YAxis.prototype.bottomOffset=0,u.ChartEngine.YAxis.prototype.topOffset=0,u.ChartEngine.YAxis.prototype.initialMarginTop=10,u.ChartEngine.YAxis.prototype.initialMarginBottom=10,u.ChartEngine.YAxis.prototype.zoom=0,u.ChartEngine.YAxis.prototype.scroll=0,g.s8b(2),u.ChartEngine.YAxis.prototype.heightFactor=g.d0d(0,"1"),Object.defineProperty(u.ChartEngine.YAxis.prototype,"width",{configurable:!0,enumerable:!0,get:function(){return g.h9y(),this._dynamicWidth||this._width},set:function(t){this._width=t,g.h9y(),this._dynamicWidth<t&&(this._dynamicWidth=NaN)}}),u.ChartEngine.YAxis.prototype.width=50,u.ChartEngine.YAxis.prototype.textStyle=null,u.ChartEngine.YAxis.prototype.position=null,g.S$R(3),u.ChartEngine.YAxis.defaultShadowBreaks=[[1e3,2],[5,4],[g.d0d(1,"0.001"),8]],u.ChartEngine.YAxis.smallChartShadowBreaks=[[10,2],[1,4]],u.ChartEngine.YAxis.prototype.pretty=!0,u.ChartEngine.YAxis.prototype.increments=[1,2.5,5],u.ChartEngine.YAxis.prototype.prettySemiLog=!0,u.ChartEngine.YAxis.prototype.shadowBreaks=u.ChartEngine.YAxis.defaultShadowBreaks,u.ChartEngine.YAxis.prototype.getYAxis=function(t){return g.p$K(),this},u.ChartEngine.YAxis.prototype.isShared=function(t,e){var i,a;if(i=this.studies.length,a=this.renderers.length,i>1)return!0;if(a&&i)return!0;if(g.h9y(),!a)return!1;if(a>1&&e)return!0;for(var r=a-1;r>=0;r--)t.chart.seriesRenderers[this.renderers[r]].params.dependentOf&&a--;return g.S$R(4),g.e8n(1,a)},u.ChartEngine.YAxis.prototype.setBackground=function(t,e){var i;e||(e={}),e.color||(e.color="auto"),i=[[this.left,this.top],[this.left,this.bottom],[this.left+this.width,this.bottom],[this.left+this.width,this.top]],g.h9y(),u.fillArea(t,i,{color:e.color,opacity:e.opacity})},u.extend(u.ChartEngine.Panel.prototype,{name:null,display:null,chart:null,yAxis:null,shareChartXAxis:null,top:null,bottom:null,height:null,percent:null,displayEdgeIfPadded:!0,noDrag:!1},!0),u.extend(u.ChartEngine.XAxis.prototype,{formatter:null,adjustTimeZone:!0,idealTickSizePixels:null,timeUnit:null,timeUnitMultiplier:null,displayBorder:!0,displayGridLines:!0,noDraw:null,minimumLabelWidth:50,futureTicks:!0,futureTicksInterval:1},!0),u.extend(u.ChartEngine.Chart.prototype,{symbol:null,symbolObject:{symbol:null},symbolDisplay:null,series:{},seriesRenderers:{},scroll:0,isComparison:!1,forcePercentComparison:!0,maxTicks:0,tension:null,currentMarketData:{},masterData:null,dataSet:null,scrubbed:null,dataSegment:null,segmentImage:null,baseline:{includeInDataSegment:!1,defaultLevel:null,userLevel:null,actualLevel:null},xAxis:null,xaxis:[],xaxisFactor:30,decimalPlaces:2,dynamicYAxis:!1,roundit:100,legendRenderer:u.drawLegend,customChart:null,yaxisPaddingRight:null,yaxisPaddingLeft:null,tickCache:{},allowScrollPast:!0,allowScrollFuture:!0,whiteSpaceFutureTicks:0,hideDrawings:!1,defaultPlotField:"Close",defaultChartStyleConfig:{},lockScroll:!1,includeOverlaysInMinMax:!0,gaplines:null,lineStyle:null,lineApproximation:!0,highLowBars:!1,standaloneBars:!1,barsHaveWidth:!1},!0),u.ChartEngine.prototype.setDrawingContainer=function(t){this.drawingContainer=t},u.ChartEngine.prototype.isHistoricalMode=function(){var t,e,i,a,r,n;return g.p$K(),t=new Date,e=!0,i=this.masterData,!!this.isHistoricalModeSet&&(i.length&&(a=this.getFirstLastDataRecord(i,"DT",!0),(e=(r=this.standardMarketIterator(a.DT)).next()<=t)&&u.ChartEngine.isDailyInterval(r.interval)&&(n=this.chart.market.getOpen())&&t<n&&(g.S$R(0),t.setHours(0,0,0,g.e8n(0,"0")),+t==+r.begin&&(e=!1))),e)},u.ChartEngine.prototype.convertToDataZone=function(t){var e;return(t||0===t)&&this.dataZone&&(e=u.convertTimeZone(t,null,this.dataZone),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),g.p$K(),t},u.ChartEngine.isDailyInterval=function(t){var e;return g.p$K(),e="w",e+="e",e+="e",e+="k","day"==t||t==e||"month"==t},u.ChartEngine.prototype.needDifferentData=function(t){var e,i,a,r;return e=this.layout,i=u.ChartEngine.isDailyInterval(t.interval),a=u.ChartEngine.isDailyInterval(e.interval),r=!1,this.dontRoll||!a?e.interval!=t.interval&&(r=!0):i!=a&&(r=!0),i||t.timeUnit||(t.timeUnit="minute"),a||e.timeUnit||(e.timeUnit="minute"),t.timeUnit!=e.timeUnit&&(r=!0),this.masterData&&this.masterData.length||(r=!0),r},u.ChartEngine.chartShowsHighs=function(t){return g.h9y(),console.warn("CIQ.ChartEngine.chartShowsHighs() has been deprecated. Please check one of the appropriate renderer properties instead: stxx.chart.highLowBars, stxx.chart.standaloneBars, or stxx.chart.barsHaveWidth."),1!={line:1,colored_line:1,mountain:1,colored_mountain:1,baseline_delta:1,baseline_delta_mountain:1,histogram:1,scatterplot:1,step:1,colored_step:1}[t]},u.ChartEngine.prototype.debug=function(){},u.ChartEngine.prototype.fps=function(t,e){var i,a,r;function n(){var s,o,l;g.S$R(5);var c=g.d0d(1008,16,11,985,323);if((s=((new Date).getTime()-i)/c)>t)return o="F",o+="P",o+="S",o+="=",g.S$R(6),l=g.d0d(a,s),g.s8b(7),console.log(g.d0d(o,l)),void(e&&e(l));r.draw(),a++,u.ChartEngine.useAnimation?requestAnimationFrame(n):setTimeout(n,0)}t=t||5,g.p$K(),i=(new Date).getTime(),a=0,r=this,g.S$R(8),console.log(g.d0d("Running fps() for "," seconds",t)),n()},t.STXChart=u.ChartEngine,u.ChartEngine.DrawingDescriptor={name:"",render:null,intersected:null,click:null,abort:null},u.ChartEngine.prototype.prepend=function(t,e){var i,a;return g.s8b(7),i=g.e8n("prepend",t),this instanceof u.ChartEngine?(a=this.hasOwnProperty(i)?this[i]:[],this[i]=[e].concat(a)):(a=u.ChartEngine.prototype[i]||[],u.ChartEngine.prototype[i]=[e].concat(a)),{method:i,func:e}},u.ChartEngine.prototype.append=function(t,e){var i,a;return g.p$K(),g.S$R(7),i=g.e8n("append",t),this instanceof u.ChartEngine?(a=this.hasOwnProperty(i)?this[i]:[],this[i]=a.concat(e)):(a=u.ChartEngine.prototype[i]||[],u.ChartEngine.prototype[i]=a.concat(e)),{method:i,func:e}},u.ChartEngine.prototype.removeInjection=function(t){var e,i,a,r,n;e=-865259560,i=624107931,a=2,g.h9y();for(var s=1;g.T8I(s.toString(),s.toString().length,17920)!==e;s++)r=t.method,a+=2;if(g.T8I(a.toString(),a.toString().length,68641)!==i&&(r=t.method),this instanceof u.ChartEngine){if(!this[r])return;for(n=0;n<this[r].length;n++)if(this[r][n]==t.func)return void this[r].splice(n,1)}else{if(!u.ChartEngine.prototype[r])return;for(n=0;n<u.ChartEngine.prototype[r].length;n++)if(u.ChartEngine.prototype[r][n]==t.func)return void u.ChartEngine.prototype[r].splice(n,1)}},u.ChartEngine.prototype.remove=function(t){var e,i;g.h9y(),this instanceof u.ChartEngine?(e="prep",e+="e",e+="nd",g.s8b(7),delete this[g.d0d("append",t)],g.S$R(7),delete this[g.e8n(e,t)]):(i="p",i+="r",i+="e",i+="pend",g.S$R(7),delete u.ChartEngine.prototype[g.d0d("append",t)],g.S$R(7),delete u.ChartEngine.prototype[g.e8n(i,t)])},u.ChartEngine.registeredContainers=[],u.ChartEngine.handleContextMenu=function(t){var e;t||(t=event);for(var i=0;i<u.ChartEngine.registeredContainers.length;i++)if((e=u.ChartEngine.registeredContainers[i].stx)&&e.anyHighlighted)return t.preventDefault&&t.preventDefault(),!1},u.ChartEngine.prototype.positionMarkers=function(){},u.ChartEngine.prototype.plugins={},u.ChartEngine.htmlControls={annotationSave:r,annotationCancel:'<span class="stx-btn stx_annotation_cancel" style="display: none; margin-left:10px;">cancel</span>',mSticky:a,drawOk:'<div class="stx_draw_ok"><div class="icon"></div><div class="field"></div></div>',dragOk:'<div class="stx_drag_ok"><div class="icon"></div><div class="field"></div></div>',crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:i,iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>'},u.ChartEngine.prototype.registerHTMLElements=function(){var t,e,i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k;t=301168892,e=-1785496299,i=2;for(var C=1;g.T8I(C.toString(),C.toString().length,24285)!==t;C++)a=this.chart.container,i+=2;for(var w in g.T8I(i.toString(),i.toString().length,3870)!==e&&(a=this.chart.container),g.p$K(),u.ChartEngine.htmlControls)if(void 0===this.chart[w]&&void 0===this.controls[w]){if(r="chartContro",r+="ls",!this.allowZoom&&w==r)continue;if(g.S$R(7),n=a.querySelector(g.e8n(".",w)))this.chart[w]=n,this.controls[w]=n;else{if(s="D",s+="I",s+="V",!(o=u.ChartEngine.htmlControls[w]))continue;(l=document.createElement(s)).innerHTML=o,n=l.firstChild,a.appendChild(n),this.chart[w]=n,this.controls[w]=n,u.appendClassName(n,w)}}if(c=this.controls.chartControls,h=this.controls.home,c){d=-805115447,p=1723385745,f=2;for(var D=1;g.X01(D.toString(),D.toString().length,51643)!==d;D++)m=".st",m+="x-z",m+="oom-",m+="in",v=c.querySelector(m),y=c.querySelector(".stx-zoom-in"),f+=2;g.X01(f.toString(),f.toString().length,72835)!==p&&(b=".stx-zoo",b+="m-in",v=c.querySelector(b),y=c.querySelector(".stx-zoom-out")),u.safeClickTouch(v,(S=this,function(t){S.allowZoom&&S.zoomIn(t),g.p$K(),t.stopPropagation()})),u.safeClickTouch(y,(x=this,function(t){x.allowZoom&&x.zoomOut(t),t.stopPropagation()})),u.touchDevice||(this.makeModal(v),this.makeModal(y))}h&&(u.safeClickTouch(h,(k=this,g.p$K(),function(t){t.stopPropagation(),k.isHistoricalMode()?(delete k.layout.range,g.h9y(),k.loadChart(k.chart.symbol,(function(){g.p$K(),k.home({animate:!1})}))):k.home({animate:!0})})),u.touchDevice||this.makeModal(h))},u.ChartEngine.prototype.registerChartControl=function(t,e,i){var a,r,n,s,o,l,c;if(!this.controls.chartControls.querySelector("."+t)&&(a=null,r=this.controls.chartControls.querySelector(".stx-zoom-in"))){n="stx-chart-cont",n+="rol-button ",s="s",s+="pan",a=document.createElement(s),g.S$R(8),a.innerHTML=g.e8n('<span class="stx-tooltip">',"</span>",e),g.s8b(7),u.appendClassName(a,g.d0d(n,t)),r.parentNode.appendChild(a),i&&u.safeClickTouch(a,i),u.touchDevice||this.makeModal(a),o=97295073,l=89724852,c=2;for(var h=1;g.X01(h.toString(),h.toString().length,21317)!==o;h++)return a;if(g.X01(c.toString(),c.toString().length,91116)!==l)return a}},u.ChartEngine.prototype.makeModal=function(t){var e;e=this,t.onmouseover=function(t){e.modalBegin()},t.onmouseout=function(t){g.p$K(),e.modalEnd()}},u.ChartEngine.prototype.cloneStyle=function(t){var e,i,a,r,n,s,o;function l(t){return t[1].toUpperCase()}for(var c in e={},i=!1,g.h9y(),t)if(a=t[c],"backgroundAttachment"==c&&(i=!0),i)a&&a.constructor==String&&isNaN(c)&&(e[c]=a);else if(isNaN(c))e[c.replace(u.camelCaseRegExp,l)]=a;else if(r=t.getPropertyValue(a)){for(n=0,s=(a=a.split("-")).length,o=a[0];++n<s;){g.s8b(2);var h=g.e8n(10,11);o+=a[n].charAt(0).toUpperCase()+a[n].slice(h)}e[o]=r}return e},u.ChartEngine.prototype.canvasStyle=function(t){var e,i,a,r;return g.p$K(),(e=this.styles[t])||(i="d",i+="iv",(a=document.createElement(i)).className=t,this.container.appendChild(a),r=getComputedStyle(a),e=this.styles[t]=this.cloneStyle(r),this.container.removeChild(a),r||(this.styles[t]=null)),e},u.ChartEngine.prototype.colorOrStyle=function(t){var e;return e="transp",e+="arent",-1!=t.indexOf("#")||-1!=t.indexOf("(")||t==e?t:this.canvasStyle(t)},g.h9y(),u.ChartEngine.prototype.clearStyles=function(){this.styles={},g.h9y(),this.defaultColor=""},u.ChartEngine.prototype.setStyle=function(t,e,i){g.p$K(),this.styles[t]||this.canvasStyle(t),this.styles[t]||(this.styles[t]={}),this.styles[t][u.makeCamelCase(e)]=i},u.ChartEngine.prototype.setThemeSettings=function(t){var e;this.styles={},this.chart.container.style.backgroundColor="",this.defaultColor="",t&&((e=new u.ThemeHelper({stx:this})).settings=t,e.update()),this.updateListeners("theme"),g.h9y(),this.changeOccurred("theme"),this.displayInitialized&&(this.headsUpHR(),this.clearPixelCache(),this.updateListeners("theme"),this.draw())},u.ChartEngine.prototype.canvasFont=function(t,e){var i,a,r;if(i="undef",i+="ine",i+="d",e||(e=this.chart.context),a=this.canvasStyle(t)){g.S$R(9);var n=g.d0d(19,11,12260,1069,19);g.s8b(2),g.e8n(64710,71181),g.S$R(10),g.d0d(37298,14,16,2,6221),g.s8b(11);var s=g.e8n(287,13,3835,295);g.s8b(2),g.e8n(70510,76920),g.S$R(7);var o=g.e8n(3,9);g.S$R(12);var l=g.d0d(3409,15,337525,10,10);g.S$R(5),g.e8n(3754,17,5,3766,3749),-1==(r=a.fontStyle+(n<81||(307.99===s?921.97:" "))+a.fontWeight+(772.05>o?l>637.3?" ":"D":435.23)+a.fontSize+" "+a.fontFamily).indexOf(i)?e.font=r:(this.styles[t]=null,g.s8b(7),console.log(g.d0d("bad css style for class ",t)))}},u.ChartEngine.prototype.canvasColor=function(t,e){var i,a,r;e||(e=this.chart.context),(i=this.canvasStyle(t))&&((a=i.color)||(a=this.defaultColor),e.globalAlpha=1,e.fillStyle=a,e.strokeStyle=a,void 0!==(r=i.opacity)&&(e.globalAlpha=r))},u.ChartEngine.prototype.getCanvasFontSize=function(t){var e,i;return e="1",g.p$K(),e+="2",(i=this.canvasStyle(t).fontSize)||(i=e),parseInt(u.stripPX(i),10)},u.ChartEngine.prototype.getCanvasColor=function(t){return this.canvasStyle(t).color},u.ChartEngine.hideDates=function(){return g.h9y(),!1},u.ChartEngine.prototype.runPrepend=function(t,e,i){var a,r,n;if(g.s8b(7),a=g.d0d("prepend",t),!(r=(r=this.hasOwnProperty(a)?this[a]:[]).concat(u.ChartEngine.prototype[a]||[])).length)return!1;i||(i=this);for(var s=0;s<r.length;s++)if(n=r[s].apply(i,e))return n;return!1},u.ChartEngine.prototype.runAppend=function(t,e,i){var a,r,n;if(g.s8b(7),a=g.e8n("append",t),!(r=(r=this.hasOwnProperty(a)?this[a]:[]).concat(u.ChartEngine.prototype[a]||[])).length)return!1;i||(i=this);for(var s=0;s<r.length;s++)if(n=r[s].apply(i,e))return n;return!1},u.ChartEngine.registerDrawingTool=function(t,e){u.ChartEngine.drawingTools[t]=e},u.ChartEngine.prototype.createBlock=function(t,e,i,a,r,n){var s,o,l,c;s="u",s+="ndefi",s+="n",s+="ed",o=1225932275,l=2023592798,c=2;for(var h=1;g.T8I(h.toString(),h.toString().length,53006)!==o;h++)+n&&(n=this.chart.context),c+=2;g.T8I(c.toString(),c.toString().length,33242)!==l&&(n||(n=this.chart.context)),typeof a!=s&&(this.canvasColor(r,n),n.fillRect(t,i,e,a),g.s8b(13),n.globalAlpha=g.d0d("1",32))},u.ChartEngine.prototype.changeOccurred=function(t){var e,i,a;e="v",e+="ec",e+="t",e+="or",this.changeCallback&&(console.warn("CIQ.ChartEngine.changeCallback has been deprecated. Please use addEventListener()"),this.changeCallback(this,t)),i={stx:this,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,layout:this.layout,drawings:this.drawingObjects},"theme"==t&&this.dispatch("theme",i),this.currentlyImporting||("layout"==t?(a="l",a+="ay",a+="ou",a+="t",this.dispatch(a,i)):t==e?this.dispatch("drawing",i):"preferences"==t&&this.dispatch("preferences",i))},u.ChartEngine.prototype.setChartType=function(t){var e,i,a;e="la",e+="yout",i=this.layout,a=this.chart,"ohlc"!=i.aggregationType&&(i.aggregationType="ohlc",a.canvas&&this.createDataSet()),i.chartType=t,this.setMainSeriesRenderer(),a.defaultChartStyleConfig={type:t},this.displayInitialized&&this.draw(),this.changeOccurred(e)},u.ChartEngine.prototype.setAggregationType=function(t){var e,i;e="lay",e+="ou",e+="t",this.layout.chartType="candle",!1!==(i=this.chart).baseline.userLevel&&(i.baseline.userLevel=i.baseline.defaultLevel,i.panel.yAxis.scroll=u.ChartEngine.YAxis.prototype.scroll),this.layout.aggregationType=t,this.setMainSeriesRenderer(),i.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred(e)},u.ChartEngine.prototype.setChartScale=function(t){var e,i,a;e="l",e+="i",e+="nea",e+="r",i=this.chart,t||(t=e),(a={percent:!0,relative:!0})[t]?this.setComparison(t,i,u.Comparison.initialPrice):a[this.layout.chartScale]&&this.setComparison(!1,i),this.layout.chartScale=t,i.canvas&&this.draw(),g.p$K(),this.changeOccurred("layout")},u.ChartEngine.prototype.flipChart=function(t){g.p$K(),this.layout.flipped!=t&&(this.layout.flipped=t,this.chart.yAxis.flipped=t,this.changeOccurred("layout"),this.draw())},u.ChartEngine.prototype.setAdjusted=function(t){this.layout.adj=t,this.chart.canvas&&(this.createDataSet(),this.draw()),this.changeOccurred("layout")},u.ChartEngine.prototype.setVolumeUnderlay=function(t){this.layout.volumeUnderlay=t,this.chart.canvas&&this.draw(),g.h9y(),this.changeOccurred("layout")},u.ChartEngine.prototype.serializeDrawings=function(){var t;return t="CIQ.ChartEngine.serializeDrawings() has been ",t+="deprecated. Please use exp",t+="ortDrawings()",g.h9y(),console.warn(t),this.exportDrawings()},u.ChartEngine.prototype.exportDrawings=function(){var t;t=[],g.h9y();for(var e=0;e<this.drawingObjects.length;e++)t.push(this.drawingObjects[e].serialize());return t},u.ChartEngine.prototype.abortDrawings=function(t){var e;g.h9y(),!1!==t&&(t=!0);for(var i=this.drawingObjects.length-1;i>=0;i--)(e=this.drawingObjects[i]).abort(!0),!t&&e.permanent||this.drawingObjects.splice(i,1)},u.ChartEngine.prototype.reconstructDrawings=function(t){var e;e="CIQ.Ch",e+="artEngine.reconstructDrawings()",e+=" has been deprecate",e+="d. Please use importDrawings()",console.warn(e),this.importDrawings(t)},u.ChartEngine.prototype.importDrawings=function(t){var e,i,a,r,n;if(g.p$K(),u.Drawing)for(var s=0;s<t.length;s++)e="retra",e+="cement",i="fi",i+="b",i+="onacci",(a=t[s]).name==i&&(a.name=e),(r=u.ChartEngine.drawingTools[a.name])||u.Drawing[a.name]&&(r=u.Drawing[a.name],u.ChartEngine.registerDrawingTool(a.name,r)),r&&((n=new r).reconstruct(this,a),this.drawingObjects.push(n))},u.ChartEngine.prototype.clearDrawings=function(t,e){var i,a,r,n;i="vec",i+="t",i+="o",i+="r",!1!==e&&(e=!0),a=this.exportDrawings(),this.abortDrawings(e),t?this.undoStamps=[]:this.undoStamp(a,this.exportDrawings()),g.p$K(),this.changeOccurred(i),this.cancelTouchSingleClick=!0,u.clearCanvas(this.chart.tempCanvas,this),this.draw(),(r=this.controls.mSticky)&&(n="n",n+="o",n+="n",n+="e",r.style.display=n,r.children[0].innerHTML="")},u.ChartEngine.prototype.createDrawing=function(t,e){var i,a;if(u.Drawing){for(var r in(i=new u.Drawing[t]).reconstruct(this,e),(a=new u.Drawing[t]).stx=this,a.copyConfig(),a)i[r]=i[r]||a[r];return this.drawingObjects.push(i),this.draw(),i}},u.ChartEngine.prototype.removeDrawing=function(t){for(var e=0;e<this.drawingObjects.length;e++)if(this.drawingObjects[e]==t)return this.drawingObjects.splice(e,1),this.changeOccurred("vector"),void this.draw()},u.ChartEngine.prototype.dateFromTick=function(t,e,i){var a,r,n,s,o;return e||(e=this.chart),o=!1,0===(a=e.dataSet.length)&&(e.dataSet[0]={},e.dataSet[0].DT=new Date,a=e.dataSet.length,o=!0),t<0?r=(n=this.standardMarketIterator(e.dataSet[0].DT)).previous(Math.abs(t)):t>=a?(n=this.standardMarketIterator(e.dataSet[a-1].DT),g.S$R(14),r=n.next(g.d0d(t,a,1))):r=e.dataSet[t].DT,g.h9y(),s=i?new Date(r.getTime()):u.yyyymmddhhmm(r),o&&delete e.dataSet[0].DT,s},u.ChartEngine.prototype.calculateYAxisMargins=function(t){if(t.heightFactor){g.S$R(15);var e=g.d0d(15,11,228,16);t.zoom=t.height*(e-t.heightFactor)}t.zoom+=t.initialMarginTop+t.initialMarginBottom,g.S$R(16);var i=g.e8n(117,17,14,2);t.scroll=(t.initialMarginTop-t.initialMarginBottom)/i,t.zoom>t.height&&(t.zoom=0,t.scroll=0)},u.ChartEngine.prototype.getLabelOffsetInPixels=function(t,e){var i,a,r,n,s;if(i="roundRe",i+="ctArrow",a=!(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[e]),!(this.yaxisLabelStyle!=i||a&&this.extendLastTick&&0!==t.yaxisPaddingRight)){r="st",r+="x_yaxi",r+="s",n=3,g.S$R(17);var o=g.d0d(6,2,20,22);return s=this.getCanvasFontSize(r)+n*o,g.S$R(3),g.d0d(.66,s)}return 0},u.ChartEngine.prototype.home=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p;function f(t){var e;for(var i in g.p$K(),t.panels){e=t.panels[i].yaxisLHS.concat(t.panels[i].yaxisRHS);for(var a=0;a<e.length;a++)t.calculateYAxisMargins(e[a])}}function m(t,e,i){return function(){f(t),g.p$K(),e.scroll=i,t.draw()}}if(g.p$K(),this.swipe.amplitude=0,e=this.layout,"object"!=typeof t){i=2129932364,a=242352746,r=2;for(var v=1;g.T8I(v.toString(),v.toString().length,11190)!==i;v++)t={maintainWhitespace:t},r+=2;g.T8I(r.toString(),r.toString().length,17800)!==a&&(t={maintainWhitespace:t})}void 0===t.maintainWhitespace&&(t.maintainWhitespace=!0),n=-433562245,s=-1698665016,o=2;for(var y=1;g.X01(y.toString(),y.toString().length,69399)!==n;y++)this.cancelTouchSingleClick=!1,o+=2;if(g.X01(o.toString(),o.toString().length,83352)!==s&&(this.cancelTouchSingleClick=!0),this.cancelTouchSingleClick=!0,this.chart.dataSet&&this.chart.dataSet.length){for(var b in this.micropixels=0,l=Math.floor(this.chart.width/e.candleWidth),this.charts)if(c=this.charts[b],!t.chart||t.chart==c){for(h=0,t.maintainWhitespace&&this.preferences.whitespace>=0&&(h=this.preferences.whitespace),(t.whitespace||0===t.whitespace)&&(h=t.whitespace),(u=this.getLabelOffsetInPixels(c,e.chartType))>h&&(h=u),d=Math.min(l,c.dataSet.length),this.chart.allowScrollPast&&(d=l),this.micropixels=this.chart.width-d*e.candleWidth-h,this.preferences.whitespace=h;this.micropixels>e.candleWidth;)d++,this.micropixels-=e.candleWidth;for(;this.micropixels<0;)d--,this.micropixels+=e.candleWidth;if(this.micropixels-=e.candleWidth,d++,!(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[e.chartType])){g.S$R(18);var x=g.e8n(8,5,58,16,8);this.micropixels+=e.candleWidth/x}t.animate?(p=this,this.scrollTo(c,d,m(p,c,d))):(c.scroll=d,f(this))}this.draw()}else this.draw()},u.ChartEngine.prototype.isHome=function(){var t,e,i;e=(t=this.chart).dataSet,i=t.animatingHorizontalScroll,g.s8b(19);var a=g.e8n(7,13,18);g.S$R(20);var r=g.e8n(4,7,2,2);return this.pixelFromTick(e.length-(i?a:r),t)<t.width+t.panel.left},u.ChartEngine.prototype.tickFromDate=function(t,e,i,a){var r,n,s,o,l,c,h,d,p,f,m,v,y,b;if(e||(e=this.chart),!e.dataSet||!e.dataSet.length)return 0;if(i||(i=0),e||(e=this.chart),r=t.constructor==Date?t:u.strToDateTime(t),u.ChartEngine.isDailyInterval(this.layout.interval)||r.setMinutes(r.getMinutes()+i),n=r.getTime(),(s=e.tickCache[n])||0===s)return g.s8b(7),g.d0d(s,a?1:0);if(o=e.dataSet[0].DT,l=e.dataSet[e.dataSet.length-1].DT,r>=o&&r<=l){for(c=0,h=e.dataSet.length,d=0;++d<100;){if(g.s8b(21),p=Math.floor(g.e8n(0,c,"2",h)),+(f=e.dataSet[p].DT)==+r)return e.tickCache[n]=p,p;if(f<r&&(c=p),f>r){if(e.dataSet[p-1].DT<r){g.S$R(2),e.tickCache[n]=g.e8n(1,p),g.s8b(22);var x=g.e8n(0,16,16,1);return e.tickCache[n]+(a?x:0)}if(+e.dataSet[p-1].DT==+r)return g.s8b(2),e.tickCache[n]=g.d0d(1,p),g.S$R(2),g.e8n(1,p);h=p}}if(d>=100)return m="!!!",m+="Wa",m+="rning: tickFromDate",m+="() did not find match.",console.log(m),e.dataSet.length}return g.s8b(23),y=(v=g.d0d(r,o))?o:l,b=this.standardMarketIterator(y).futureTick({end:r}),s=v?-1*b:e.dataSet.length-1+b,e.tickCache[n]=s,s},u.ChartEngine.XAxisLabel=function(t,e,i){this.hz=t,this.grid=e,g.h9y(),this.text=i},u.ChartEngine.prototype.createXAxis=function(t){var e,i;return t.dataSegment.length<=0||t.xAxis.noDraw?null:(e=[t],(i=this.runPrepend("createXAxis",e))||(i=this.mainSeriesRenderer&&this.mainSeriesRenderer.createXAxis?this.mainSeriesRenderer.createXAxis(t):this.createTickXAxisWithDates(t),this.headsUpHR(),this.runAppend("createXAxis",e)),i)},u.ChartEngine.prototype.resetDynamicYAxis=function(t){var e,i,a,r;if(g.h9y(),e="res",e+="e",e+="tDynamicYAxi",e+="s",!this.runPrepend(e,arguments)){for(var n in i=!1,this.panels)if(a=this.panels[n],(!t||!t.chartName||a.chart.name===t.chartName)&&a.yaxisLHS&&a.yaxisRHS){r=a.yaxisLHS.concat(a.yaxisRHS);for(var s=0;s<r.length;s++)r[s]._dynamicWidth&&(r[s]._dynamicWidth=NaN,i=!0)}!i||t&&t.noRecalculate||this.calculateYAxisPositions(),this.runAppend("resetDynamicYAxis",arguments)}},u.ChartEngine.prototype.adjustYAxisHeightOffset=function(t,e){var i,a;if((i=e.topOffset)+(a=e.bottomOffset)>t.height&&(console.log("The sum of yAxis.topOffset and yAxis.bottomOffset cannot be greater than the panel height. Both values will be reset to 0."),e.bottomOffset=0,e.topOffset=0),!this.xaxisHeight&&0!==this.xaxisHeight){g.S$R(24);var r=g.d0d(2,18,39,68);this.xaxisHeight=this.getCanvasFontSize("stx_xaxis")+r,(this.chart.xAxis.displayBorder||this.axisBorders)&&(this.xaxisHeight+=3)}(this.xAxisAsFooter&&t.bottom>this.chart.canvasHeight-this.xaxisHeight||!this.xAxisAsFooter&&t==this.chart.panel)&&(a+=this.xaxisHeight),e.top=t.top+i,e.bottom=t.bottom-a},u.ChartEngine.prototype.plotYAxisGrid=function(t){var e,i,a;e="pl",e+="otYAx",e+="isGrid",this.runPrepend(e,arguments)||(i=this.getBackgroundCanvas().context,g.h9y(),(a=t.yAxis).yAxisPlotter&&a.yAxisPlotter.draw(i,"grid"),this.runAppend("plotYAxisGrid",arguments))},u.ChartEngine.prototype.plotYAxisText=function(t){var e,i,a,r,n;if(e="plotYAxisTe",e+="xt",!this.runPrepend(e,arguments)){for(i=this.getBackgroundCanvas().context,this.canvasFont("stx_yaxis",i),this.canvasColor("stx_yaxis",i),i.textBaseline="middle",a=t.yaxisLHS,g.p$K(),r=0;r<a.length;r++)i.textAlign="right",s(a[r]);for(a=t.yaxisRHS,r=0;r<a.length;r++)n="l",n+="ef",n+="t",i.textAlign=n,s(a[r]);i.textAlign="left",i.textBaseline="alphabetic",this.runAppend("plotYAxisText",arguments)}function s(t){t.yAxisPlotter&&(g.h9y(),!t.noDraw&&t.width&&(t.justifyRight?i.textAlign="right":!1===t.justifyRight&&(i.textAlign="left"),t.yAxisPlotter.draw(i,"text")))}},u.ChartEngine.prototype.decimalPlacesFromPriceTick=function(t){return t<1e-4?8:t<.01?4:t<.1?2:(g.h9y(),t<1?1:0)},u.ChartEngine.prototype.formatYAxisPrice=function(t,e,i,a,r){var n,s,o,l,c;return null==t||isNaN(t)?"":(e||(e=this.chart.panel),n=a||e.yAxis,(s=i)||0===s||(s=n.printDecimalPlaces),s||0===s||(s=this.decimalPlacesFromPriceTick(n.priceTick)),o=n==e.chart.yAxis?2e4:1e3,n.priceTick>=o?(t=t.toFixed(s),u.condenseInt(t)):((l=this.internationalizer)&&!1!==r?(s>=(c=l.priceFormatters.length)&&(g.s8b(25),s=g.e8n("1",c)),t=l.priceFormatters[s].format(t)):t=t.toFixed(s),t))},u.ChartEngine.prototype.padOutPrice=function(t,e){var i,a,r,n;if(0!==t&&(!t||"number"!=typeof t))return"";if(e||0===e||(e=t),g.S$R(7),i=g.e8n("",e),g.h9y(),a=0,i.indexOf(".")>-1){g.s8b(26);var s=g.d0d(3,11,9833);g.S$R(27),g.e8n(5370,14,4837,16,10),g.s8b(7),g.e8n(9296,13),g.s8b(7);var o=g.d0d(969,7);g.s8b(28);var l=g.d0d(2,10,4973,4961,4963);g.s8b(2),g.e8n(6,2456),g.s8b(2);var c=g.e8n(4,3867);g.s8b(29),g.d0d(15,1944,1929,1939),g.S$R(2),g.e8n(14,3264),g.S$R(30);var h=g.d0d(11,17,7);a=i.substring(i.indexOf(2161===s?"P":6953>o?l===c?4380:".":"H")).length-h}return a=e>=1e3?Math.max(a,0):e<2?Math.max(a,4):Math.max(a,2),(r=this.internationalizer)?(a>=(n=r.priceFormatters.length)&&(g.s8b(2),a=g.d0d(1,n)),t=r.priceFormatters[a].format(t)):t=t.toFixed(a),t},u.ChartEngine.prototype.formatPrice=function(t,e){var i,a,r,n,s,o,l;if(i="undefi",i+="ned",0!==t&&(!t||typeof t==i))return"";if(e||(e=this.currentPanel),e||(e=this.chart.panel),!e)return t.toString();if((a=e.decimalPlaces)||0===a||(a=e.chart.decimalPlaces),!a&&0!==a)return t.toString();(r=this.internationalizer)?(a>=(n=r.priceFormatters.length)&&(g.S$R(2),a=g.d0d(1,n)),t=r.priceFormatters[a].format(t)):t=t.toFixed(a),s=1635066454,g.h9y(),o=-1618617031,g.S$R(2),l=g.d0d(0,"2");for(var c=1;g.T8I(c.toString(),c.toString().length,32951)!==s;c++)return t;return g.X01(l.toString(),l.toString().length,18859)!==o?t:void 0},u.ChartEngine.prototype.createCrosshairs=function(){var t,e;this.runPrepend("createCrosshairs",arguments)||(g.p$K(),!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||(t=this.controls.crossX,e=this.controls.crossY,t&&(t.onmousedown||(t.onmousedown=function(t){return t||(t=event),t.preventDefault&&t.preventDefault(),!1})),e&&(e.onmousedown||(e.onmousedown=function(t){return t||(t=event),t.preventDefault&&t.preventDefault(),!1})),this.runAppend("createCrosshairs",arguments)))},u.ChartEngine.prototype.determineMinMax=function(t,e,i,a,r,n){var s,o,l,c,h,d,p,f,m;g.S$R(31);var v=g.e8n(9,3,9,1,3);s=Number.MAX_VALUE*(-1*v),o=Number.MAX_VALUE,g.h9y(),l=!1,c=t.length,r&&(c=r);for(var y=0;y<=c+1;y++)if(e.length&&(h=y==c?this.getPreviousBar(this.chart,e[0],0):y==c+1?this.getNextBar(this.chart,e[0],c-1):t[y]),h){if(!a)if(h.transform)l=!0,h=h.transform;else if(l)continue;g.s8b(2),d=g.e8n(0,"0");for(var b=0;b<e.length;b++)if(p=u.existsInObjectChain(h,e[b])){"number"==typeof(f=p.obj[p.member])&&(f=[f]);for(var x=0;x<f.length;x++)m=f[x],n&&m instanceof Array&&(m=m[0]),(m||0===m)&&(i?((d+=m)>s&&(s=d),d<o&&(o=d)):(m>s&&(s=m),m<o&&(o=m)))}}return s==-1*Number.MAX_VALUE&&(s=0),o==Number.MAX_VALUE&&(o=0),[o,s]},u.ChartEngine.prototype.calculateYAxisRange=function(t,e,i,a){var r,n,s,o,l,c,h,u,d,p,f,m;if(i==Number.MAX_VALUE&&(i=0,a=0),r=t.height,n=null,s=null,this.adjustYAxisHeightOffset(t,e),e.height=e.bottom-e.top,o=Math.round(Math.abs(r/5)),e.zoom>=0&&r-Math.abs(e.scroll)<o){g.s8b(32);var v=g.e8n(11,8,11,9,1);g.s8b(11);var y=g.e8n(22,5,2,4);e.scroll=(r-o)*(e.scroll<0?v:"1"<<y)}if(l=t.chart.name===t.name&&t.yAxis.name===e.name,c=i>0&&(this.layout.semiLog||"log"==this.layout.chartScale)&&!t.chart.isComparison&&"pandf"!=this.layout.aggregationType,i||0===i){if(a-i==0)1==(h=Math.pow(10,-(i.toString()+".").split(".")[1].length))&&(h=100),g.s8b(7),n=g.e8n(i,h),g.s8b(2),s=g.e8n(h,i);else if(l&&c&&(a||0===a))u=Math.log(i)/Math.LN10,d=Math.log(a)/Math.LN10,n=Math.pow(10,d),s=Math.pow(10,u);else{n=a,p=1453716891,f=-1054827712,m=2;for(var b=1;g.T8I(b.toString(),b.toString().length,14892)!==p;b++)s=i,m+=2;g.X01(m.toString(),m.toString().length,32367)!==f&&(s=i)}e.high=n,e.low=s}(e.max||0===e.max)&&(e.high=e.max),(e.min||0===e.min)&&(e.low=e.min),e.shadow=e.high-e.low,l&&(e.semiLog!=c&&(this.clearPixelCache(),e.semiLog=c),e.flipped=this.layout.flipped)},u.ChartEngine.prototype.renderYAxis=function(t){var e,i,a,r,n,s,o,l;if(!this.runPrepend("renderYAxis",arguments)){for(var c in this.rendererAction(t,"yAxis"),e=this.getBackgroundCanvas(t).context,this.panels)if((i=this.panels[c]).chart==t){for(a=i.yaxisRHS.concat(i.yaxisLHS),s={},r=0;r<a.length;r++)n=a[r],this.calculateYAxisRange(i,n,n.lowValue,n.highValue),u.Studies&&(s=u.Studies.getYAxisParameters(this,n)),s.yAxis=n,this.createYAxis(i,s),this.drawYAxis(i,s),u.Studies&&u.Studies.doPostDrawYAxis(this,n);for(r=0;r<a.length;r++)(n=a[r]).dropzone&&(o=this.canvasStyle("stx-subholder dropzone left"))&&(e.strokeStyle=o.borderLeftColor,e.lineWidth=parseFloat(o.borderLeftWidth),e.beginPath(),"all"==n.dropzone?e.strokeRect(n.left,n.top,n.width,n.height):(l=n.left+("left"==n.dropzone?0:n.width),e.moveTo(l,n.top),e.lineTo(l,n.top+n.height),e.stroke()));this.displayDragOK(!0)}this.runAppend("renderYAxis",arguments)}},u.ChartEngine.prototype.initializeDisplay=function(t){var e,i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C;if(e="Cl",e+="o",e+="se",i="H",i+="igh",a="C",a+="l",a+="os",a+="e",r="i",r+="niti",r+="alizeDisp",r+="lay",!this.runPrepend(r,arguments)){for(var w in n=[],s=!1,o=!1,l=this,c=[a,"Open",i,"Low"],h=[t.defaultPlotField||e],p=null,f=Math.floor((t.width-this.micropixels)/this.layout.candleWidth),g.h9y(),t.scroll>t.maxTicks&&t.maxTicks>f+1&&(p=t.dataSegment.length-1),m=[],this.panels){m=(v=this.panels[w]).yaxisLHS.concat(v.yaxisRHS);for(var D=0;D<m.length;D++)y=m[D],n=[],b=t.transformFunc&&y==t.panel.yAxis,A(y,v),this.currentlyImporting||y.renderers.length||y.studies.length?(d=this.mainSeriesRenderer&&this.mainSeriesRenderer.determineMax?this.mainSeriesRenderer.determineMax(t.dataSegment,n,s,!b,p,o,v.name):this.determineMinMax(t.dataSegment,n,s,!b,p,o,v.name),this.mainSeriesRenderer&&t.yAxis==y&&(this.mainSeriesRenderer.highLowBars&&this.highLowBars[this.layout.chartType]||(x=this.mainSeriesRenderer||{},t.panel==v&&x.params&&x.params.baseline&&"mountain"!=x.params.type&&((S=t.baseline.actualLevel)||0===S)&&(b&&(S=t.transformFunc(this,t,S)),k=Math.max(S-d[0],d[1]-S),this.repositioningBaseline?d=[t.lowValue,t.highValue]:(g.S$R(1),d[g.d0d(0,"0")]=g.d0d(k,S,g.s8b(2)),g.s8b(7),d[1]=g.d0d(S,k))))),y.lowValue=d[0],y.highValue=d[1],y==t.panel.yAxis&&(t.lowValue=y.lowValue,t.highValue=y.highValue)):this.deleteYAxisIfUnused(v,y)}if((C=t.state.aggregation)&&C.box){g.s8b(30);var T=g.e8n(4,19,17);t.lowValue-=C.box/T,t.highValue+=C.box/2}this.runAppend("initializeDisplay",arguments)}function A(e,i){var a,r,d,p,f,m,v,y,b,x,S;if(g.h9y(),a=!1,(r=l.layout&&l.layout.studies&&l.layout.studies[e.name])&&(!i||i.name==r.panel)){for(var k in r.outputMap)n.push(k);if(r.study)if(r.study.renderer)n=n.concat(u.createObjectChainNames(k,c));else if(!r.study.seriesFN){d=-140674738,g.S$R(1),p=g.e8n(0,"861026537"),f=2;for(var C=1;g.T8I(C.toString(),C.toString().length,94496)!==d;C++)n=n.concat(u.createObjectChainNames(k,h)),f+=2;g.X01(f.toString(),f.toString().length,35976)!==p&&(n=n.concat(u.createObjectChainNames(k,h)))}for(var w=0;w<=2;w++)n.push(r.name+"_hist"+(w||""));a=!0}if(i){for(var D in e.studies=[],e.renderers=[],a&&e.studies.push(e.name),t.seriesRenderers)if(y=(v=(m=t.seriesRenderers[D]).params).panel,(v.yAxis||!l.panels[y]||l.panels[y].yAxis)==e&&y==i.name){b=m.highLowBars?c:h,s=m.useSum,o=m.bounded;for(var T=0;T<m.seriesParams.length;T++)(x=m.seriesParams[T]).hidden||(x.subField?n=n.concat(u.createObjectChainNames(x.symbol,[x.subField])).concat(x.symbol):x.symbol?n=n.concat(u.createObjectChainNames(x.symbol,b)).concat(x.symbol):x.field?n.push(x.field):e==t.panel.yAxis&&(n=n.concat(b)));e.renderers.push(D)}for(var M in l.overlays)(S=l.overlays[M]).panel==i.name&&S.name!=e.name&&S.getYAxis(l)==e&&(e.studies.push(S.name),t.includeOverlaysInMinMax&&A({name:S.name}))}}},u.ChartEngine.prototype.computePosition=function(t,e){return void 0===e&&(e=0),g.h9y(),t*this.layout.candleWidth+e+this.micropixels},u.ChartEngine.prototype.computeColor=function(t,e){return g.h9y(),t<e?"stx_candle_up":t>e?"stx_candle_down":"stx_candle_shadow"},u.ChartEngine.prototype.computeLength=function(t,e){var i,a;return i=this.pixelFromPrice(t),a=this.pixelFromPrice(e),g.S$R(2),g.e8n(i,a)},u.ChartEngine.prototype.setSeriesRenderer=function(t){var e;return e=t.params,this.chart.seriesRenderers[e.name]?this.chart.seriesRenderers[e.name]:(e.yAxis&&(e.yAxis=this.addYAxis(this.panels[e.panel],e.yAxis),this.resizeChart()),t.stx=this,this.chart.seriesRenderers[e.name]=t,t)},u.ChartEngine.prototype.setMainSeriesRenderer=function(t){var e,i,a,r,n,s,o,l,c,h;e="barsHaveW",e+="idth",i="highLo",i+="wBars",a="o",a+="hlc",r=this.layout.chartType,n=this.layout.aggregationType,s=this.chart.customChart,o=this.mainSeriesRenderer,l=this.displayInitialized,o&&(t&&this.setMasterData(),this.displayInitialized=!1,o.removeAllSeries(t),this.removeSeriesRenderer(o),o=this.mainSeriesRenderer=null),c={panel:this.chart.panel.name,name:"_main_series",highlightable:!1,useChartLegend:!0},s&&s.chartType&&(r=s.chartType),"none"!=r&&(n&&n!=a&&(r=n),(h=u.Renderer.produce(r,c))&&(this.setSeriesRenderer(h).attachSeries(null,{display:this.chart.symbol}),this.mainSeriesRenderer=h),this.displayInitialized=l,[i,"standaloneBars",e].forEach(function(t){this.chart[t]=this.mainSeriesRenderer&&this.mainSeriesRenderer[t]}.bind(this)))},u.ChartEngine.prototype.setMarket=function(t,e){for(var i in e||(e=this.chart),e.market=new u.Market(t),this.layout.marketSessions)e.market.disableSession(i,this.layout.marketSessions[i])},u.ChartEngine.prototype.setMarketFactory=function(t){g.h9y(),this.marketFactory=t},u.ChartEngine.prototype.removeSeriesRenderer=function(t){var e;for(var i in g.p$K(),this.chart.seriesRenderers)if(t.params.name===this.chart.seriesRenderers[i].params.name){(e=this.chart.seriesRenderers[t.params.name]).params.yAxis,this.panels[e.params.panel],delete this.chart.seriesRenderers[t.params.name];break}},u.ChartEngine.prototype.getSeriesRenderer=function(t){return g.p$K(),this.chart.seriesRenderers[t]},u.ChartEngine.prototype.getRendererFromSeries=function(t){var e;for(var i in e=this.chart.seriesRenderers)for(var a in e[i].seriesParams)if(e[i].seriesParams[a].id==t)return e[i];return null},u.ChartEngine.prototype.startClip=function(t,e){var i,a,r,n,s,o,l,c;t||(t=this.chart.panel.name),a=(i=this.panels[t]).yAxis,(r=this.chart).context.save(),r.context.beginPath(),n=i.left,s=i.width,e?(g.S$R(0),n=g.e8n(0,"0"),s=this.width):i.yaxisLHS&&i.yaxisLHS.length&&(n++,s--),r.context.rect(n,a.top,s,a.height),o=-792596043,l=-543720307,c=2;for(var h=1;g.X01(h.toString(),h.toString().length,79411)!==o;h++)r.context.clip(),c+=2;g.X01(c.toString(),c.toString().length,90612)!==l&&r.context.clip()},u.ChartEngine.prototype.endClip=function(){this.chart.context.restore()},u.ChartEngine.prototype.setLineStyle=function(t,e){var i,a;i={},t&&"object"==typeof t?i=t:i.color=t,i.color||i.pattern||i.width||(i=null),e||(e=this.chart),a=1,i&&i.width&&(a=i.width),i&&i.pattern&&(i.pattern=u.borderPatternToArray(a,i.pattern)),e.lineStyle=i},u.ChartEngine.prototype.setGapLines=function(t,e){var i;if(e||(e=this.chart),i={},t&&"object"==typeof t)i=t;else{if("boolean"==typeof t)return e.gaplines=t;i.color=t}i.color||i.pattern||i.fillMountain||(i=null),i&&i.pattern&&(i.pattern=u.borderPatternToArray(i.pattern)),i&&i.width<=0&&(i.width=null),e.gaplines=i},u.ChartEngine.prototype.getGapColorFunction=function(t,e,i,a,r){var n;return n="obj",n+="e",typeof i!=(n+="ct")&&(i={color:i}),function(n,s,o){var l,c;return(l=r?r(n,s,o):i).color&&(l=l.color),(c=s[t])||0===c||(c=s[e]),o||!c&&0!==c?a?("object"!=typeof a&&(a="string"==typeof a?{color:a}:{}),{color:a.color||l,pattern:a.pattern||i.pattern,width:a.width||i.width}):null:{color:l,pattern:i.pattern,width:i.width}}},u.ChartEngine.prototype.drawLineChart=function(t,e,i,a){var r,n,s,o,l,c,h,d,p,f,m,v;return n=(r=this.chart).context,s=r.lineStyle||{},o=this.canvasStyle(e),a||(a={}),this.startClip(t.name),(l=a.width||s.width||o.width)&&parseInt(l,10)<=25?n.lineWidth=Math.max(1,u.stripPX(l)):n.lineWidth=1,g.h9y(),a.pattern=a.pattern||s.pattern||o.borderTopStyle,a.pattern=u.borderPatternToArray(n.lineWidth,a.pattern),this.canvasColor(e),(c=a.color||s.color)&&(h="a",c==(h+="uto")&&(c=this.defaultColor),a.opacity&&1!==a.opacity&&(c=u.hexToRgba(u.colorToHex(c),parseFloat(a.opacity))),n.strokeStyle=c),a.skipProjections=!0,d=a.field||r.defaultPlotField,p=a.subField||r.defaultPlotField||"Close",(f=a.gapDisplayStyle)||!1===f||(f=a.gaps),f||!1===f||(f=r.gaplines),f||(f="transparent"),a.gapDisplayStyle=f,m=this.getGapColorFunction(d,p,{color:n.strokeStyle,pattern:a.pattern,width:n.lineWidth},f,i),t.chart.tension&&(a.tension=t.chart.tension),(v=this.plotDataSegmentAsLine(d,t,a,m)).colors.length||v.colors.push(n.strokeStyle),n.lineWidth=1,this.endClip(),a.returnObject?v:v.colors},u.ChartEngine.prototype.drawChannelChart=function(t,e,i){var a,r,n,s,o,l,c,h,d,p,f,m,v,y;for(a="C",a+="l",a+="os",a+="e",r="f",r+="iel",r+="d",n="fi",n+="el",n+="d",s="stx_c",s+="hannel_up",(o=u.clone(i)).color=i.color,l=this.drawLineChart(t,o.style,e,o),c=o.border_color_up||this.getCanvasColor(s),h=o.border_color_down||this.getCanvasColor("stx_channel_down"),o[i.field?"subField":n]=o.field_high||"High",o.color=c,d=this.drawLineChart(t,o.style,e,o),o[i.field?"subField":"field"]=o.field_low||"Low",o.color=h,p=this.drawLineChart(t,o.style,e,o),o[i.field?"subField":r]=i.subField||this.chart.defaultPlotField||a,m=[],v=[],f=0;f<d.points.length;f+=2)m.push([d.points[f],d.points[f+1]]);for(f=0;f<p.points.length;f+=2)v.push([p.points[f],p.points[f+1]]);g.s8b(7);var b=g.e8n(0,2);for(y=this.chart.context.lineWidth/b,f=l.points.length-2;f>=0;f-=2)m.push([l.points[f],l.points[f+1]-y]),v.push([l.points[f],l.points[f+1]+y]);return this.startClip(t.name),o.color=c,u.fillArea(this,m,o),o.color=h,u.fillArea(this,v,o),this.endClip(),l.colors=l.colors.concat(d.colors).concat(p.colors),i.returnObject?l:l.colors},u.ChartEngine.prototype.getPreviousBar=function(t,e,i){return this.getNextBarInternal(t,e,i,-1)},u.ChartEngine.prototype.getNextBar=function(t,e,i){return g.h9y(),this.getNextBarInternal(t,e,i,1)},u.ChartEngine.prototype.getNextBarInternal=function(t,e,i,a){var r,n,s,o;if(r=t.dataSegment&&t.dataSegment[i])for(n=r.tick;n>0&&n<t.dataSet.length;)if(g.s8b(7),n=g.e8n(n,a),(s=t.dataSet[n])&&(o=u.existsInObjectChain(s,e))&&o.obj[o.member])return s;return null},u.ChartEngine.prototype.getFirstLastDataRecord=function(t,e,i){var a,r,n,s;if(t&&t.length){a=1311346659,r=1506257551,n=2;for(var o=1;g.X01(o.toString(),o.toString().length,47899)!==a;o++)s=i?9*t.length:1,n+=2;for(g.X01(n.toString(),n.toString().length,16517)!==r&&(s=i?t.length-1:0);s>=0&&s<t.length;){if(t[s]&&void 0!==t[s][e])return t[s];i?s--:s++}}return null},u.ChartEngine.prototype.updateFloatHRLabel=function(t){var e,i,a,r,n,s,o;if(this.floatCanvas&&(e=t.yaxisLHS.concat(t.yaxisRHS),i=this.crossYActualPos?this.crossYActualPos:this.cy,this.floatCanvas.isDirty&&u.clearCanvas(this.floatCanvas,this),!this.controls.crossX||"none"!=this.controls.crossX.style.display)){this.controls.crossY&&(a=t.width,"roundRectArrow"==this.yaxisLabelStyle&&(a-=7),this.controls.crossY.style.left=t.left+"px",g.s8b(7),this.controls.crossY.style.width=g.d0d(a,"px"));for(var l=0;l<e.length;l++)r=e[l],n=this.transformedPriceFromPixel(i,t,r),isNaN(n)||(r.min||0===r.min)&&n<r.min||(r.max||0===r.max)&&n>r.max||(s=null,r!==t.chart.yAxis&&(s=this.decimalPlacesFromPriceTick(r.priceTick),(r.decimalPlaces||0===r.decimalPlaces)&&(s=r.decimalPlaces)),n=r.priceFormatter?r.priceFormatter(this,t,n,s):this.formatYAxisPrice(n,t,s,r),o=this.canvasStyle("stx-float-price"),this.createYAxisLabel(t,n,i,o.backgroundColor,o.color,this.floatCanvas.context,r),this.floatCanvas.isDirty=!0)}},u.ChartEngine.prototype.headsUpHR=function(){var t,e,i,a,r;function n(t){var e;e="in",e+="nerHTML",u.efficientDOMUpdate(i,e,t)}this.runPrepend("headsUpHR",arguments)||(t=this.currentPanel)&&(e=t.chart,this.updateFloatHRLabel(t),(i=this.controls.floatDate)&&!e.xAxis.noDraw&&(a=this.barFromPixel(this.cx),(r=e.xaxis[a])&&r.DT?n(u.displayableDate(this,e,r.DT)):r&&r.index?n(r.index):n("")),g.p$K(),this.runAppend("headsUpHR",arguments))},u.ChartEngine.prototype.setCrosshairColors=function(){g.h9y(),console.warn("Warning: setCrosshairColors() has been deprecated. Use CSS to set the crosshair color")},u.ChartEngine.prototype.magnetize=function(){var t,e,i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k;if(t="#",t+="398",t+="dff",e="L",e+="o",e+="w",this.magnetizedPrice=null,this.preferences.magnet&&!this.runPrepend("magnetize",arguments)&&!this.repositioningDrawing&&(i=this.currentVectorParameters.vectorType)&&"projection"!=i&&"freeform"!=i&&("annotation"!=i&&"callout"!=i||!u.ChartEngine.drawingLine)&&(r=(a=this.currentPanel).chart,!((n=this.crosshairTick)>r.dataSet.length)&&(s=r.dataSet[n]))){(o=r.transformFunc&&a.yAxis===r.yAxis)&&s.transform&&(s=s.transform),c=this.getRenderedItems(),h=["Open","High",e,"Close"],this.magneticHold&&this.activeDrawing&&this.activeDrawing.penDown?c=-1!=h.indexOf(this.magneticHold)&&-1!=c.indexOf("High")?h:[this.magneticHold]:this.magneticHold=null,d=1e9,p=parseFloat(this.preferences.magnet);for(var C=0;C<c.length;C++)if(f=s[c[C]],m=this.getYAxisByField(a,c[C]),(v=u.existsInObjectChain(s,c[C]))&&(f=v.obj[v.member]),(f||0===f)&&(y=this.pixelFromTransformedValue(f,a,m),Math.abs(this.cy-y)<d)){if(d=Math.abs(this.cy-y),p&&p<=d)continue;this.magnetizedPrice=o?this.valueFromPixel(y,a):f,l=y,this.magneticHold=c[C]}b=this.pixelFromTick(n,r),x=l,u.clearCanvas(r.tempCanvas,this),(S=r.tempCanvas.context).beginPath(),S.lineWidth=1,g.s8b(7);var w=g.e8n(0,3);k=Math.max(this.layout.candleWidth,12)/w,S.arc(b,x,Math.min(k,8),0,2*Math.PI,!1),S.fillStyle="#398dff",S.strokeStyle=t,S.fill(),S.stroke(),S.closePath(),r.tempCanvas.style.display="block",this.anyHighlighted&&this.container.classList.remove("stx-draggable"),this.activeDrawing&&this.activeDrawing.move(S,this.crosshairTick,this.magnetizedPrice),this.runAppend("magnetize",arguments)}},u.ChartEngine.prototype.positionCrosshairsAtPointer=function(){var t,e,i,a,r,n,s,o,l,c,h;if(g.h9y(),t="p",t+="x",(e=this.currentPanel)&&!(!this.manageTouchAndMouse||this.mainSeriesRenderer&&this.mainSeriesRenderer.nonInteractive||this.runPrepend("positionCrosshairsAtPointer",arguments))){i=e.chart,a=this.container.getBoundingClientRect(),this.top=a.top,this.left=a.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cy=this.crossYActualPos=this.backOutY(u.ChartEngine.crosshairY),this.cx=this.backOutX(u.ChartEngine.crosshairX),r=this.crosshairTick=this.tickFromPixel(this.cx,i),g.s8b(30);var d=g.e8n(8,19,12);if(n=this.pixelFromTick(r,i)-d,this.controls.crossX&&(g.s8b(7),this.controls.crossX.style.left=g.d0d(n,"px")),n>=e.right||n<=e.left)this.undisplayCrosshairs();else{if(s="chart"==e.name?this.preferences.horizontalCrosshairField:e.horizontalCrosshairField,o=i.dataSet,s&&o&&r<o.length&&r>-1){l=-382330689,c=845106138,h=2;for(var p=1;g.T8I(p.toString(),p.toString().length,87869)!==l;p++)this.crossYActualPos=this.pixelFromPrice(o[r][s],e),h+=2;g.T8I(h.toString(),h.toString().length,81833)!==c&&(this.crossYActualPos=this.pixelFromPrice(o[r][s],e)),this.crossYActualPos=this.pixelFromPrice(o[r][s],e)}this.controls.crossY&&(this.controls.crossY.style.top=this.crossYActualPos+t),this.runAppend("positionCrosshairsAtPointer",arguments)}}},u.ChartEngine.prototype.doDisplayCrosshairs=function(){var t,e,i,a,r,n,s;t="doDis",t+="playC",t+="rosshairs",this.runPrepend("doDisplayCrosshairs",arguments)||(this.displayInitialized&&(e=this.floatCanvas,i=this.currentVectorParameters.vectorType,this.layout.crosshair||""!==i&&i?u.Drawing&&u.Drawing[i]&&(new u.Drawing[i]).dragToDraw||this.overXAxis||this.overYAxis||!this.insideChart&&!this.grabbingScreen||""!==this.openDialog?this.undisplayCrosshairs():(r=(a=this.controls).crossX,n=a.crossY,r&&""!==r.style.display&&(r.style.display="",n&&(n.style.display=""),this.magnetizedPrice&&i?(u.unappendClassName(this.container,"stx-crosshair-on"),this.chart.tempCanvas.style.display="block"):u.appendClassName(this.container,"stx-crosshair-on")),a.floatDate&&!this.chart.xAxis.noDraw&&(a.floatDate.style.visibility="",this.currentPanel&&this.updateFloatHRLabel(this.currentPanel)),e&&(s="bl",s+="o",s+="ck","none"==e.style.display&&u.clearCanvas(e,this),e.style.display=s)):this.undisplayCrosshairs()),this.runAppend(t,arguments))},u.ChartEngine.prototype.undisplayCrosshairs=function(){var t,e,i,a,r,n,s,o,l;t="undisplayCrossha",t+="irs",e="stx-cro",e+="s",e+="shair-",e+="on",this.runPrepend("undisplayCrosshairs",arguments)||(a=(i=this.controls).crossX,r=i.crossY,a&&"none"!=a.style.display&&(a.style.display="none",r&&(r.style.display="none")),this.displayInitialized&&i.floatDate&&(i.floatDate.style.visibility="hidden"),u.unappendClassName(this.container,e),(n=this.floatCanvas)&&n.isDirty&&"none"!=n.style.display&&(s="no",s+="n",s+="e",u.clearCanvas(n,this),"none"!=n.style.display&&(n.style.display=s)),this.activeDrawing||this.repositioningDrawing||this.editingAnnotation||(o="n",o+="o",o+="ne",(l=this.chart.tempCanvas)&&l.style.display!=o&&(l.style.display="none")),this.runAppend(t,arguments))},u.ChartEngine.prototype.modalBegin=function(){var t;t="m",t+="odal",g.p$K(),this.openDialog=t,this.undisplayCrosshairs()},u.ChartEngine.prototype.modalEnd=function(){this.cancelTouchSingleClick=!0,g.h9y(),this.openDialog="",this.doDisplayCrosshairs()},u.ChartEngine.prototype.updateChartAccessories=function(){var t,e,i,a,r,n,s,o,l,c;if(null!==this.accessoryTimer&&clearTimeout(this.accessoryTimer),!u.ChartEngine.drawingLine&&u.touchDevice&&(new Date).getTime()-this.lastAccessoryUpdate<100)this.accessoryTimer=setTimeout((c=this,g.h9y(),function(){g.h9y(),c.updateChartAccessories()}),10);else if(this.chart.dataSet&&!this.runPrepend("updateChartAccessories",arguments)){if(this.accessoryTimer=null,this.lastAccessoryUpdate=(new Date).getTime(),t=this.controls.floatDate){e=this.currentPanel,i=-1611769168,a=1846651837,g.S$R(13),r=g.e8n("2",0);for(var h=1;g.X01(h.toString(),h.toString().length,89980)!==i;h++)e||(e=this.chart.panel),g.S$R(0),r+=g.d0d(0,"2");if(g.T8I(r.toString(),r.toString().length,67896)!==a&&~e&&(e=this.chart.panel),e){n=e.chart,s=!0===this.xAxisAsFooter?0:this.chart.canvasHeight-e.chart.bottom,g.s8b(33);var d=g.e8n(9,6,12,3,643);g.S$R(34);var p=g.d0d(16,79,5);if(o=t.offsetWidth/d-"0.5"*p,(l=this.pixelFromTick(this.crosshairTick,n)-o)<0)l=0;else if(l>this.width-2*o-1){g.S$R(33);var f=g.e8n(3,14,7,12,280);g.S$R(35);var m=g.d0d(16,17);l=this.width-f*o-m}u.efficientDOMUpdate(t.style,"left",l+"px"),u.efficientDOMUpdate(t.style,"bottom",s+"px")}}this.positionCrosshairsAtPointer(),g.p$K(),this.headsUpHR(),this.runAppend("updateChartAccessories",arguments)}},u.ChartEngine.prototype.mousemove=function(t){var e,i,a,r;if(e=t||event,u.ChartEngine.crosshairX=e.clientX,u.ChartEngine.crosshairY=e.clientY,e.type.toLowerCase().indexOf("enter")>-1)this.positionCrosshairsAtPointer();else{i=638696988,a=1989884088,r=2;for(var n=1;g.X01(n.toString(),n.toString().length,99914)!==i;n++){if(this.runPrepend("mousemove",arguments))return;if(!this.displayInitialized)return;if(""!==this.openDialog)return;r+=2}if(g.T8I(r.toString(),r.toString().length,58284)!==a){if(this.runPrepend("mousemove",arguments))return;if(-this.displayInitialized)return;if("mousemove"==this.openDialog)return}this.grabbingScreen&&1!==e.buttons&&(this.cancelLongHold=!0,this.displayDragOK(),this.grabbingScreen=!1,this.findHighlights(!1,!0)),this.mousemoveinner(e.clientX,e.clientY),this.runAppend("mousemove",arguments)}},u.ChartEngine.prototype.setResizeTimer=function(t){function e(t,e){var i;return i=function(){t.chart.canvas&&(u.isAndroid||t.chart.canvas.height==Math.floor(t.devicePixelRatio*t.chart.container.clientHeight)&&t.chart.canvas.width==Math.floor(t.devicePixelRatio*t.chart.container.clientWidth)||t.resizeChart())},function(){g.h9y(),"undefined"!=typeof ResizeObserver?u.ChartEngine.useAnimation?requestAnimationFrame(i):setTimeout(i,0):i()}}this.resizeDetectMS=t,this.resizeHandle=u.resizeObserver(this.chart.container,e(this),this.resizeHandle,t),g.p$K()},u.ChartEngine.prototype.whichYAxis=function(t,e,i){var a,r,n,s;if(g.p$K(),a="unde",a+="fi",a+="ne",typeof e==(a+="d")&&(e=this.cx),void 0===i&&(i=this.cy),r=this.whichPanel(i),t&&t==r){n=t.yaxisLHS.concat(t.yaxisRHS);for(var o=0;o<n.length;o++)if((s=n[o]).left<=e&&s.left+s.width>=e)return s}return null},u.ChartEngine.prototype.yaxisMatches=function(t,e){return!!(t&&t.getYAxis&&e&&e instanceof u.ChartEngine.YAxis)&&t.getYAxis(this).name==e.name},u.ChartEngine.prototype.findHighlights=function(t,e){var i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$;if(i="drawi",i+="n",i+="g",a=this.preferences[t?"highlightsTapRadius":"highlightsRadius"],this.highlightViaTap=t,r=this.cy,n=this.cx,this.anyHighlighted=!1,this.currentPanel){if(this.activeDrawing&&(e=!0),s=!1,o=null,l=e?{}:{forceShow:!0,type:i},c=this.currentPanel.chart,h={x0:this.tickFromPixel(n-a,c),x1:this.tickFromPixel(n+a,c),y0:this.valueFromPixel(r-a,this.currentPanel),y1:this.valueFromPixel(r+a,this.currentPanel),cx0:n-a,cx1:n+a,cy0:r-a,cy1:r+a,r:a},this.repositioningDrawing&&h.x1-h.x0<2?(h.x1++,h.x0--):h.x1==h.x0&&(h.x0-=.5,h.x1+=.5),d=this.markerHelper&&this.markerHelper.chartMap[c.name]&&this.markerHelper.chartMap[c.name].markers,!c.hideDrawings)for(var Y=this.drawingObjects.length-1;Y>=0;Y--)p=this.drawingObjects[Y],this.panels[p.panelName]&&(this.repositioningDrawing&&this.repositioningDrawing!=p||(f=p.highlighted,m=p.panelName==this.currentPanel.name,p.repositioner=p.intersected(this.crosshairTick,this.crosshairValue,h),m=m&&p.repositioner,!e&&m?(f?(o=p,this.anyHighlighted&&this.singleDrawingHighlight&&(p.highlighted=!1),p.highlighted&&p.highlighted!=f&&(s=!0)):f!=p.highlight(!0)&&(o||(o=p),this.anyHighlighted&&this.singleDrawingHighlight&&(p.highlighted=!1),s=!0),this.anyHighlighted=!0):f!=p.highlight(!1)&&(s=!0),p.highlighted&&(l.noDelete=p.permanent,l.noEdit="function"!=typeof this.callbacks.drawingEdit&&!this.callbackListeners.drawingEdit.length)));for(v in this.layout.studies)(y=this.layout.studies[v]).prev=y.highlight,y.highlight=this.yaxisMatches(y,this.grabStartYAxis);for(v in c.seriesRenderers){(k=c.seriesRenderers[v]).params.highlight=this.yaxisMatches(k,this.grabStartYAxis);for(var X=0;X<k.seriesParams.length;X++)(S=k.seriesParams[X]).prev=S.highlight,S.highlight=k.params.highlight}for(b=0;d&&b<d.length;b++)(x=d[b]).params.box&&(this.activeMarker=null,x.prev=d[b].highlight,x.highlight=!1);if(this.markerHelper&&(this.markerHelper.highlighted=[]),this.highlightedDataSetField=null,this.highlightedDraggable=null,!e&&!this.anyHighlighted&&c.dataSegment&&(C=this.barFromPixel(n))>=0&&C<c.dataSegment.length){for(v in this.overlays)if(D="fu",D+="ncti",D+="o",D+="n",(y=this.overlays[v]).panel==this.currentPanel.name&&!1!==y.study.isHighlighted)if(typeof y.study.isHighlighted!=D){if(c.dataSegment[C]){for(var Z in y.outputMap)if(K.call(this,C,h,Z,y.getYAxis(this))){y.name!=y.panel&&(this.anyHighlighted=!0),y.highlight=Z;break}if(y.highlight){this.highlightedDataSetField=Z;break}}}else y.study.isHighlighted(this,n,r)&&(y.highlight=!0,this.anyHighlighted=!0);for(v in c.seriesRenderers){if(this.highlightedDataSetField)break;if(A=(T=c.seriesRenderers[v]).params.panel,T!=this.mainSeriesRenderer&&(T.params.highlightable||this.currentVectorParameters.vectorType)&&A==this.currentPanel.name)for(b=0;b<T.seriesParams.length;b++){if(M="C",M+="lo",M+="s",M+="e",(L=(S=T.seriesParams[b]).field)||T.highLowBars||(L=this.defaultPlotField||M),S.symbol&&S.subField&&(L+="--\x3e"+S.subField),!(_=T.params.yAxis)&&A&&(_=this.panels[A].yAxis),T.params.step&&C>0){if(!T.caches[S.id])continue;if(!(w=T.caches[S.id][C])&&0!==w)continue;g.s8b(2),(((P=T.caches[S.id][g.d0d(1,C)])||0===P)&&r+a>=w&&r-a<=P||r-a<=w&&r+a>=P)&&(S.highlight=!0,this.anyHighlighted=!0)}else K.call(this,C,h,L,_,T,S.id)&&(S.highlight=!0,this.anyHighlighted=!0);if(S.highlight){this.highlightedDataSetField=L;break}}}}for(v in E=this.preferences.dragging,this.overlays)(y=this.overlays[v]).highlight&&(this.anyHighlighted=!0,N=y.inputs.display||y.name,l={message:N=this.translateIf(N),noDelete:y.permanent,noEdit:!y.editFunction,type:"study"},o=null,(!0===E||E&&E.study)&&(F=y),I=y.getYAxis(this)),y.prev!=y.highlight&&(s=!0);for(v in c.seriesRenderers){O=(q=c.seriesRenderers[v]).params.yAxis?q.params.yAxis.textStyle:null;for(var J=0;J<q.seriesParams.length;J++)S=q.seriesParams[J],q.params.highlightable&&S.highlight&&(this.anyHighlighted=!0,"auto"==(H=S.color||O)&&(H=this.defaultColor),S.opacity&&1!==S.opacity&&(H=u.hexToRgba(u.colorToHex(H),parseFloat(S.opacity))),l={message:S.display||S.symbol,backgroundColor:H,noDelete:S.permanent,type:"series"},o=null,(!0===E||E&&E.series)&&(F=q,q.params.highlight=!0),I=q.getYAxis(this)),S.prev!=S.highlight&&(s=!0)}for(v in this.plugins)U={},(R=this.plugins[v]).findHighlights&&((U=R.findHighlights(this,t,e)).somethingChanged&&(s=!0),U.anyHighlighted&&(this.anyHighlighted=!0,l=U.stickyArgs||{}));for(var G in z=this.whichPanel(r),V=this.whichYAxis(z,n),I||(I=V),I&&(I.highlight||(s=!0),I.highlight=!0),B=[],this.panels)B=B.concat(this.panels[G].yaxisLHS).concat(this.panels[G].yaxisRHS);for(v=0;v<B.length;v++)(I!=B[v]||e)&&(B[v].highlight&&(s=!0),B[v].highlight=!1);for(b=0;d&&b<d.length;b++)(W=(x=d[b]).params.box)&&(j=u.convertBoxToPixels(this,this.currentPanel.name,h),u.boxIntersects(j.x0,j.y0,j.x1,j.y1,W.x0,W.y0,W.x1,W.y1)&&(this.activeMarker=x,x.highlight=!0,this.markerHelper.highlighted.push(x)),x.prev!=x.highlight&&(s=!0));if(s&&(this.draw(),l.panel=z,this.anyHighlighted&&!this.grabStartYAxis?l.panel=z:l={},this.displaySticky(l),this.clearMeasure(),o&&o.measure()),(!0===E||E&&E.yaxis)&&V&&!V.noDraw&&(this.anyHighlight=!0,F=V),this.anyHighlighted||this.setMeasure(),F&&!z.noDrag){if(this.longHoldTookEffect&&!this.cancelLongHold){if(F.params)for(v in F.params.dependentOf&&((F=c.seriesRenderers[F.params.dependentOf]).params.highlight=!0),c.seriesRenderers)c.seriesRenderers[v].params.dependentOf==F.params.name&&(c.seriesRenderers[v].params.highlight=!0);if(this.highlightedDraggable=F,F.getDependents)for(v in $=F.getDependents(this,!0),this.overlays)y=this.overlays[v],$.indexOf(y)>-1&&(y.highlight=!0)}u.appendClassName(this.container,"stx-draggable")}else u.unappendClassName(this.container,"stx-draggable");this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField),this.displayDrawOK()}function K(t,e,i,a,r,n){var s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,w,D,T,A,M,L,_,P,F,E,I,N,q;if(s="s",s+="e",s+="g",s+="ment",o="s",o+="eg",o+="m",o+="ent",l="--",l+=">",c=this.chart,h=this.currentPanel,a||(a=h.yAxis),d=i.split(l),p=d[0],(f=d[1])||(f="Close"),m=c.dataSegment[C],k=null,w=null,D=null,T=new Array(3),A=r&&r.caches[n],m&&A){for(b=A[C],k=m.tick,(b||0===b)&&(T[0]=1),M=C-1;M>=0;M--)if(A[M]||0===A[M]){x=A[M],g.s8b(14),w=g.d0d(k,C,M),g.S$R(13),T[g.d0d("1",32)]=1;break}for(M=C+1;M<c.dataSegment.length;M++)if(A[M]||0===A[M]){S=A[M],g.s8b(14),D=g.e8n(k,C,M),g.S$R(13),T[2]=g.e8n("1",32);break}}if(g.p$K(),null===w&&(v=this.getPreviousBar.call(this,c,i,C))&&(w=v.tick,x=H(v)),null===D&&(y=this.getNextBar.call(this,c,i,C))&&(D=y.tick,S=H(y)),null===w&&null===D)return!1;if(A||(b=H(m),x=H(v),S=H(y),k=m.tick,v&&(w=v.tick),y&&(D=y.tick)),x||0===x||(x=0,w=0),!S&&0!==S)if(b||0===b?(S=b,T[2]=T[0]):(S=x,T[2]=T[1]),n&&c.series[n].parameters.extendToEndOfDataSet){g.S$R(2);var O=g.e8n(20,21);D=c.dataSet.length-"1"*O}else D=w;function H(t){var e;return t?((e=t[p])&&(e[f]||0===e[f])&&(e=e[f]),r&&r.getBasis&&(e+=r.getBasis(t,p,f)),c.transformFunc&&a==c.yAxis?t.transform&&p in t.transform?((e=t.transform[p])&&(e[f]||0===e[f])&&(e=e[f]),e):c.transformFunc(this,c,e):e):null}if(b||0===b||(b=S,k=D,T[0]=T[2],0===x&&0===w&&(x=b,w=k,g.s8b(3),T[1]=T[g.e8n(1,"0")])),L=this.pixelFromTransformedValue.bind(this),b=(_=this.valueFromPixel.bind(this))(T[0]?b:L(b,h,a),h),x=_(T[1]?x:L(x,h,a),h),S=_(T[2]?S:L(S,h,a),h),P=u.convertBoxToPixels(this,h.name,e),F=u.convertBoxToPixels(this,h.name,{x0:w,y0:x,x1:k,y1:b}),E=u.convertBoxToPixels(this,h.name,{x0:k,y0:b,x1:D,y1:S}),u.boxIntersects(P.x0,P.y0,P.x1,P.y1,F.x0,F.y0,F.x1,F.y1,o)||u.boxIntersects(P.x0,P.y0,P.x1,P.y1,E.x0,E.y0,E.x1,E.y1,s)){I=-1292835992,N=-630631713,q=2;for(var R=1;g.X01(R.toString(),R.toString().length,94462)!==I;R++)return!0;if(g.T8I(q.toString(),q.toString().length,69997)!==N)return!1}return!1}},u.ChartEngine.prototype.getRenderedItems=function(){var t,e,i,a,r,n,s,o;if(t=this.chart,e=this.currentPanel){for(var l in i=["Open","High","Low","Close"],a=["Close"],r=[],this.overlays)this.overlays[l].panel===e.name&&(r=r.concat(Object.keys(this.overlays[l].outputMap)));for(var c in t.seriesRenderers)if((n=t.seriesRenderers[c]).params.panel==e.name)for(var h in n.seriesParams)s=n.seriesParams[h],o=n.highLowBars?i:a,s.subField?r=r.concat(u.createObjectChainNames(s.symbol,[s.subField])).concat(s.symbol):s.symbol?r=r.concat(u.createObjectChainNames(s.symbol,o)).concat(s.symbol):s.field?r.push(s.field):e==t.panel&&(r=r.concat(o));return r}},u.ChartEngine.prototype.displayDragOK=function(t){var e,i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b;if(g.p$K(),e=this.controls.dragOk){if(t||this.findHighlights(this.highlightViaTap),a=(i=this.highlightedDraggable)&&i.undraggable&&i.undraggable(this),r=this.cx,n=this.cy,!t){if(i&&!a&&this.longHoldTookEffect&&!this.cancelLongHold)s="stx-d",s+="rag-chart",o=i.inputs&&i.inputs.display||i.params&&(i.params.display||i.params.name)||i.name,e.querySelector(".field").setAttribute("text",o),k.call(this,e),e.style.display="inline-block",this.draw(),this.displaySticky(),this.grabStartYAxis?u.swapClassName(this.container,"stx-drag-axis",s):u.swapClassName(this.container,"stx-drag-series","stx-drag-chart");else for(var x in l="st",l+="x-drag-axis",e.style.display="none",this.draw(),u.unappendClassName(this.container,"stx-drag-series"),u.unappendClassName(this.container,l),this.panels){for(c="b",c+="otto",c+="m",h="r",h+="ight",(d=this.panels[x].subholder.classList).remove("dropzone"),d.remove("all"),d.remove("left"),d.remove(h),d.remove("top"),d.remove(c),p=0;p<this.panels[x].yaxisLHS.length;p++)this.panels[x].yaxisLHS[p].dropzone=null;for(p=0;p<this.panels[x].yaxisRHS.length;p++)this.panels[x].yaxisRHS[p].dropzone=null}this.draw()}if(i){f=n+e.offsetHeight,g.s8b(2),m=Math.max(g.e8n(0,"0"),r-e.offsetWidth),g.s8b(7),e.style.top=g.d0d(f,"px"),g.S$R(7),e.style.left=g.d0d(m,"px"),v=-1800620361,g.s8b(36),y=g.d0d(0,"869725316"),b=2;for(var S=1;g.X01(S.toString(),S.toString().length,6762)!==v;S++)k.call(this,e),b+=2;g.T8I(b.toString(),b.toString().length,17820)!==y&&k.call(this,e)}}function k(t){var e,i,a,r,n,s,o;e=".",e+="f",e+="ield",g.s8b(13),i=-g.d0d("1573270247",64),a=-1485395842,r=2,g.p$K();for(var l=1;g.X01(l.toString(),l.toString().length,64227)!==i;l++)n=".f",n+="ield",s=this.translateIf(t.querySelector(n).getAttribute("text")),o=this.whichYAxis(this.whichPanel(this.cy),this.cx,this.cy),r+=2;g.T8I(r.toString(),r.toString().length,23017)!==a&&(s=this.translateIf(t.querySelector("text").getAttribute("text")),o=this.whichYAxis(this.whichPanel(this.cy),this.cx,this.cy)),o&&"all"==o.dropzone&&(s+="--\x3e"+this.translateIf(o.name)),t.querySelector(e).innerHTML=s}},u.ChartEngine.prototype.displayDrawOK=function(){var t,e,i,a,r,n,s;g.h9y(),(t=this.controls.drawOk)&&u.Drawing&&(e="n",e+="o",e+="n",e+="e",(i=u.Drawing[this.currentVectorParameters.vectorType])&&(i=new i),this.highlightedDataSetField&&i&&i.getYValue?(a=".",a+="field",r="p",r+="x",t.style.display="inline-block",n=this.cy+t.offsetHeight,s=this.cx-t.offsetWidth,g.S$R(7),t.style.top=g.e8n(n,r),g.s8b(7),t.style.left=g.d0d(s,"px"),t.querySelector(a).innerHTML=this.translateIf(this.highlightedDataSetField)):t.style.display=e)},u.ChartEngine.prototype.positionSticky=function(t){var e,i;e=Math.max(this.cy-t.offsetHeight-60,0),g.h9y(),i=Math.min(this.chart.canvasWidth-(this.cx-50),this.chart.canvasWidth-t.offsetWidth),g.S$R(7),t.style.top=g.d0d(e,"px"),g.S$R(7),t.style.right=g.d0d(i,"px")},u.ChartEngine.prototype.displaySticky=function(t){var e,i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_;e="obje",e+="ct",i="no",i+="_e",i+="di",i+="t",(a=this.controls.mSticky)&&(r=a.querySelector(".mStickyInterior"))&&(n=a.querySelector(".overlayTrashCan"),s=a.querySelector(".overlayEdit"),o=a.querySelector(".mouseDeleteInstructions"),l=a.querySelector(".stickyLongPressText"),u.unappendClassName(o,i),t&&typeof t==e||(t={message:arguments[0],backgroundColor:arguments[1],forceShow:arguments[2],noDelete:arguments[3],type:arguments[4]}),c=t.message,h=t.backgroundColor,d=t.forceShow,p=t.noDelete,f=t.noEdit,m=t.type,d||c?(b="i",b+="nli",b+="ne-b",b+="lock",x="mSti",x+="c",x+="kyRightC",x+="lick",c||(c=""),"auto"==h&&(h=this.defaultColor),d&&!c?(S="no",S+="ne",r.style.backgroundColor="",r.style.color="",r.style.display=S):h?(k="inline-blo",k+="ck",r.style.backgroundColor=h,r.style.color=u.isTransparent(h)?this.defaultColor:u.chooseForegroundColor(h),r.style.display=k):(r.style.backgroundColor="",r.style.color="",r.style.display="inline-block"),r.innerHTML=c,(C=a.querySelector(".mStickyRightClick")).className=x,m&&(g.S$R(7),u.appendClassName(C,g.d0d("rightclick_",m))),C.style.display="",a.style.display=b,p||!0===this.bypassRightClick||this.bypassRightClick[m]?(w="n",w+="o",w+="ne",C.style.display=w):this.highlightViaTap||this.touches.length?(D="u",D+="n",T="inli",T+="ne",T+="-b",T+="lock",A="i",A+="nline-block",n&&(n.style.display=A),s&&!f&&(s.style.display=T),o&&(o.style.display="none"),l&&(l.style.display="none"),u[(""===c?"":D)+"appendClassName"](a,"hide")):(f&&u.appendClassName(o,"no_edit"),o&&(o.style.display="block"),l&&(M="n",M+="o",M+="n",M+="e",l.style.display=M,(L=this.preferences.dragging)&&t.panel&&!t.panel.noDrag&&((!0!==L&&!L.study||"study"!=m)&&(!0!==L&&!L.series||"series"!=m)||(l.style.display="block")))),_=m||"default",a.setAttribute("cq-sticky-type",_),(t.positioner||this.positionSticky).call(this,a)):(v="non",v+="e",y="no",y+="ne",r.innerHTML="",a.style.display=y,n&&(n.style.display="none"),s&&(s.style.display="none"),o&&(o.style.display="none"),l&&(l.style.display=v)))},u.ChartEngine.prototype.setMeasure=function(t,e,i,a,r){var n,s,o,l,c,h,d,p,f,m,v;if(!this.runPrepend("setMeasure",arguments)){if(n=(this.drawingContainer||document).querySelector(".mMeasure"),s="",t||0===t){if(!1!==e&&(o=(o=Math.round(Math.abs(t-e)*this.chart.roundit)/this.chart.roundit).toFixed(this.chart.yAxis.printDecimalPlaces),this.internationalizer?s+=this.internationalizer.numbers.format(o):s+=o,t>0&&e>0)){if(g.S$R(37),l=g.d0d(e,t,t),Math.abs(l)>.1)g.S$R(38),l=Math.round(g.e8n("100",l));else if(Math.abs(l)>.01){g.S$R(39);var y=g.e8n(5,873,143,11);g.s8b(40);var b=g.d0d(8,13,18,14);l=Math.round(l*y)/b}else{g.s8b(41);var x=g.e8n(15,11,1e5,9989,99985);g.S$R(42);var S=g.d0d(300,20,19,5919);l=Math.round(l*x)/S}this.internationalizer?(g.S$R(43),l=this.internationalizer.percent.format(g.e8n("100",l))):(g.S$R(7),l=g.d0d(l,"%")),g.S$R(8),s+=g.d0d(" (",")",l)}if(!1!==a){g.S$R(2),c=Math.abs(g.e8n(i,a)),g.s8b(26);var k=g.e8n(15,13,3);c=Math.round(c)+"1"*k,h=this.translateIf("Bars"),g.S$R(44),s+=g.e8n(" "," ",c,h)}n&&(n.innerHTML=s)}else this.anyHighlighted||""!==this.currentVectorParameters.vectorType||this.clearMeasure();if(!this.activeDrawing){if(n=this.controls.mSticky)if(d=n.querySelector(".mStickyInterior"),r){if(p="u",p+="n",n.style.display="inline-block",d.style.display="inline-block",t||0===t){f=1603652561,m=-665645953,v=2;for(var C=1;g.X01(C.toString(),C.toString().length,52954)!==f;C++)d.innerHTML=s,v+=2;g.X01(v.toString(),v.toString().length,12975)!==m&&(d.innerHTML=s)}u[(""===s?"":p)+"appendClassName"](n,"hide"),this.positionSticky(n)}else n.style.display="none",d.innerHTML="";this.runAppend("setMeasure",arguments)}}},u.ChartEngine.prototype.clearMeasure=function(){var t;(t=(this.drawingContainer||document).querySelector(".mMeasure"))&&(t.innerHTML="")},u.ChartEngine.prototype.pixelFromBar=function(t,e){var i,a;g.h9y(),e||(e=this.chart),i=0,i=(a=this.chart.segmentImage)&&a[t]&&a[t].leftOffset?a[t].leftOffset:(t+.5)*this.layout.candleWidth,g.S$R(45);var r=g.d0d(2,18,8,13);return i=e.panel.left+Math.floor(i+this.micropixels)-r},u.ChartEngine.prototype.barFromPixel=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,f;if(e||(e=this.chart),i=this.chart.segmentImage,a=this.micropixels,r=this.layout.candleWidth,i){n=t-e.panel.left-a,s=2,l=i.length,g.S$R(6),c=Math.round(g.e8n(l,s)),g.s8b(26);var m=g.e8n(454,6,480);g.s8b(46);var v=g.e8n(14,6,7,28,2);g.S$R(47);var y=g.e8n(7,0,12,14,35);if(n>(d=i[l-("1"<<m)].leftOffset+i[l-v].candleWidth/y))return l+Math.floor((t-d-e.panel.left-a)/r);for(var b=1;b<l&&(s*=2,o=i[c]);b++){h=o.leftOffset,g.S$R(47);var x=g.d0d(12,0,6,3,23);if(u=o.candleWidth/x,g.S$R(2),p=g.e8n(u,h),g.S$R(7),f=g.d0d(h,u),0===c||n>=p&&n<f)break;n<p?c-=Math.max(1,Math.round(l/s)):c+=Math.max(1,Math.round(l/s)),c=Math.max(0,Math.min(l-1,c))}if(!i[c])for(b=0;b<l;b++)if(o=i[b]){h=o.leftOffset,g.s8b(2);var S=g.e8n(32,34);if(n<h-(u=o.candleWidth/S))return g.s8b(2),Math.max(0,g.e8n(1,b));if(n<h+u)return b;if(n>=h+u)return g.s8b(48),g.d0d(64,"1",b)}return c}return Math.floor((t-e.panel.left-a)/r)},u.ChartEngine.prototype.tickFromPixel=function(t,e){var i;return e||(e=this.chart),g.h9y(),i=e.dataSet.length-e.scroll,e.segmentImage?i+=this.barFromPixel(t,e):i+=Math.floor((t-e.panel.left-this.micropixels)/this.layout.candleWidth),i},u.ChartEngine.prototype.pixelFromTick=function(t,e){var i,a,r,n,s,o,l,c,h,u,d;if(g.h9y(),e||(e=this.chart),i=e.dataSegment,a=e.dataSet,r=e.segmentImage,n=this.micropixels,s=i?i.length:0,o=e.panel,l=e.scroll,c=t-a.length+l,h=s?i[c]:null,r&&(h=r[c]),h&&h.leftOffset)return o.left+Math.floor(h.leftOffset+n);if(u=0,d=0,h=s?i[s-1]:null,r&&(g.S$R(2),h=r[g.d0d(1,s)]),h&&h.leftOffset&&s<t-a.length+l){g.S$R(49);var p=g.d0d(3,20,0,43,15);u=h.leftOffset-h.candleWidth/p,d=s}return u+o.left+Math.floor((t-d-a.length+l+.5)*this.layout.candleWidth+n)},u.ChartEngine.prototype.pixelFromDate=function(t,e,i,a){return this.pixelFromTick(this.tickFromDate(t,e,i,a),e)},u.ChartEngine.prototype.transformedPriceFromPixel=function(t,e,i){var a,r,n;if(e||(e=this.chart.panel),t=(a=i||e.yAxis).bottom-t,a.semiLog)n=t*a.logShadow/a.height,a.flipped?n=a.logHigh-n:n+=a.logLow,r=Math.pow(10,n);else{if(!a.multiplier)return null;r=t/a.multiplier,a.flipped?r=a.high-r:r+=a.low}return r},u.ChartEngine.prototype.priceFromPixel=function(t,e,i){var a,r,n,s;if(e||(e=this.chart.panel),a=this.transformedPriceFromPixel(t,e,i),this.charts[e.name]&&e.chart.untransformFunc&&(!i||i==e.yAxis)){r=-536697378,n=2123932474,s=2;for(var o=1;g.X01(o.toString(),o.toString().length,700)!==r;o++)a=e.chart.untransformFunc(this,e.chart,a,i),s+=2;g.X01(s.toString(),s.toString().length,77709)!==n&&(a=e.chart.untransformFunc(this,e.chart,a,i))}return a},u.ChartEngine.prototype.valueFromPixel=function(t,e,i){return e||(e=this.whichPanel(t)),e||(e=t<=0?this.panels[u.first(this.panels)]:this.panels[u.last(this.panels)]),this.priceFromPixel(t,e,i)},u.ChartEngine.prototype.valueFromPixelUntransform=function(t,e,i){return this.valueFromPixel(t,e,i)},u.ChartEngine.prototype.valueFromInterpolation=function(t,e,i,a,r){var n,s,o,l,c,h,d,p,f,m,v,y,b;return null===t||t<0||!e?null:(a||(a=this.chart.panel),r||(r=a.yAxis),i||(i=this.chart.defaultPlotField),(n=this.getPreviousBar(this.chart,e,t))?((o=u.existsInObjectChain(n,e))&&(s=o.obj[o.member]),"object"==typeof s&&(s=s[i]),(l=this.getRendererFromSeries(e))&&l.params.step||"step"===this.layout.chartType?s:(c=this.getNextBar(this.chart,e,t),(o=u.existsInObjectChain(c,e))&&(h=o.obj[o.member]),"object"==typeof h&&(h=h[i]),c?null==s||null==h?null:(d=this.pixelFromPrice(s,a,r),p=this.pixelFromPrice(h,a,r),f=n.tick,m=c.tick,g.S$R(50),v=g.d0d(m,f,d,p),y=this.chart.dataSegment[t].tick,g.s8b(51),b=g.d0d(y,f,d,v),this.priceFromPixel(b,a,r)):null)):null)},u.ChartEngine.prototype.pixelFromPriceTransform=function(t,e,i){return g.h9y(),this.pixelFromPrice(t,e,i)},u.ChartEngine.prototype.pixelFromTransformedValue=function(t,e,i){var a,r,n,s,o;return e||(e=this.chart.panel),r=((a=i||e.yAxis).high-t)*a.multiplier,a.semiLog&&(n=Math.max(t,0),s=Math.log(n)/Math.LN10,r=(o=a.height)-o*(s-a.logLow)/a.logShadow),r=a.flipped?a.bottom-r:a.top+r},u.ChartEngine.prototype.pixelFromPrice=function(t,e,i){return e||(e=this.chart.panel),this.charts[e.name]&&e.chart.transformFunc&&(i&&i!=e.yAxis||(t=e.chart.transformFunc(this,e.chart,t,i))),g.h9y(),this.pixelFromTransformedValue(t,e,i)},u.ChartEngine.prototype.pixelFromValueAdjusted=function(t,e,i,a){var r,n;return this.layout.adj||!this.charts[t.name]?this.pixelFromPrice(i,t,a):(r=Math.round(e))>0&&r<t.chart.dataSet.length&&(n=t.chart.dataSet[r].ratio)?(g.s8b(3),this.pixelFromPrice(g.e8n(n,i),t,a)):this.pixelFromPrice(i,t,a)},u.ChartEngine.prototype.adjustIfNecessary=function(t,e,i){var a,r,n,s,o;if(g.p$K(),this.layout.adj)return i;if(!t||!this.charts[t.name])return i;if((a=Math.round(e))>0&&a<t.chart.dataSet.length&&(r=t.chart.dataSet[a].ratio)){n=1899054438,s=1754823541,o=2;for(var l=1;g.T8I(l.toString(),l.toString().length,36773)!==n;l++)return g.s8b(52),g.e8n(r,i);return g.X01(o.toString(),o.toString().length,55527)!==s?(g.s8b(52),g.e8n(r,i)):(g.S$R(6),g.e8n(i,r))}return i},u.ChartEngine.prototype.setTransform=function(t,e,i){t.transformFunc=e,g.h9y(),t.untransformFunc=i},u.ChartEngine.prototype.unsetTransform=function(t){delete t.transformFunc,delete t.untransformFunc;for(var e=0;t.dataSet&&e<t.dataSet.length;e++)t.dataSet[e].transform=null},u.ChartEngine.prototype.undo=function(){var t,e,i,a;t="u",t+="nd",t+="o",this.runPrepend("undo",arguments)||(this.activeDrawing&&(e="s",e+="tx_crosshai",e+="r_draw",e+="ing",i="stx_cr",i+="ossh",i+="air_dra",i+="wing",a="st",a+="x_cros",a+="s",a+="hair",this.activeDrawing.abort(),this.activeDrawing.hidden=!1,this.drawingSnapshot=null,this.activateDrawing(null),u.clearCanvas(this.chart.tempCanvas,this),this.draw(),u.swapClassName(this.controls.crossX,a,i),u.swapClassName(this.controls.crossY,"stx_crosshair",e),u.ChartEngine.drawingLine=!1),this.runAppend(t,arguments))},u.ChartEngine.prototype.undoStamp=function(t,e){g.h9y(),this.undoStamps.push(t),this.dispatch("undoStamp",{before:t,after:e,stx:this})},u.ChartEngine.prototype.undoLast=function(){this.activeDrawing?this.undo():this.undoStamps.length&&(this.drawingObjects=[],this.importDrawings(this.undoStamps.pop()),this.changeOccurred("vector"),this.draw())},u.ChartEngine.prototype.addDrawing=function(t){var e;e=this.exportDrawings(),g.h9y(),this.drawingObjects.push(t),this.undoStamp(e,this.exportDrawings())},u.ChartEngine.prototype.connectTheDots=function(t,e,i,a,r,n){var s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_;if(s="obj",s+="ect",o="u",o+="n",o+="define",o+="d",n||(n={}),"none"!=n.pattern&&(!0===r&&(r=this.chart.panel),null!==a&&typeof a!=o||(a=this.chart.context),!(t.length<4))){l=0,g.p$K(),c=this.chart.canvasHeight,h=0,d=this.chart.width,r&&(c=r.yAxis.bottom,l=r.yAxis.top),a.lineWidth=1.1,typeof e==s?(a.strokeStyle=e.color,e.opacity?a.globalAlpha=e.opacity:a.globalAlpha=1,a.lineWidth=parseInt(u.stripPX(e.width),10)):(p="a",p+="u",p+="t",p+="o",!e||e==p||u.isTransparent(e)?a.strokeStyle=this.defaultColor:a.strokeStyle=e),n.opacity&&(a.globalAlpha=n.opacity),n.lineWidth&&(a.lineWidth=n.lineWidth),f=u.borderPatternToArray(a.lineWidth,n.pattern),a.beginPath();for(var P=0;P<t.length-2;P+=2){if(m=t[P],g.S$R(7),v=t[g.d0d(P,1)],g.s8b(53),y=t[g.e8n("2",P)],g.S$R(7),b=t[g.d0d(P,3)],isNaN(m)||isNaN(y)||isNaN(v)||isNaN(b))return;x=0,S=1,g.s8b(2),k=g.e8n(m,y),g.S$R(2),C=g.e8n(v,b);for(var F=0;F<4;F++){if(0===F&&(w=-k,g.S$R(2),D=-g.e8n(m,h)),1==F&&(w=k,g.S$R(2),D=g.d0d(m,d)),2==F&&(w=-C,g.s8b(2),D=-g.d0d(v,l)),3==F&&(w=C,g.s8b(2),D=g.d0d(v,c)),g.s8b(6),T=g.d0d(D,w),(b||0===b)&&0===w&&D<0)return!1;if(w<0){if(T>S)return!1;T>x&&(x=T)}else if(w>0){if(T<x)return!1;T<S&&(S=T)}}g.s8b(54),A=g.d0d(x,m,k),g.s8b(54),M=g.e8n(x,v,C),g.S$R(54),L=g.e8n(S,m,k),g.S$R(54),_=g.e8n(S,v,C);try{a.setLineDash(f&&f.length?f:[]),a.moveTo(A,M),a.lineTo(L,_)}catch(t){}}a.stroke(),a.closePath(),a.globalAlpha=1,a.lineWidth=1}},u.ChartEngine.prototype.plotSpline=function(t,e,i,a,r,n,s){var o,l;o="o",o+="bjec",o+="t",s||(s={}),g.h9y(),"none"!=s.pattern&&(!0===n&&(n=this.chart.panel),null==r&&(r=this.chart.context),r.save(),r.lineWidth=1.1,typeof i==o?(r.strokeStyle=i.color,i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,r.lineWidth=parseInt(u.stripPX(i.width),10)):!i||"auto"==i||u.isTransparent(i)?r.strokeStyle=this.defaultColor:r.strokeStyle=i,s.opacity&&(r.globalAlpha=s.opacity),s.lineWidth&&(r.lineWidth=s.lineWidth),l=u.borderPatternToArray(r.lineWidth,s.pattern),s.pattern&&r.setLineDash&&(r.setLineDash(l),r.lineDashOffset=0),r.beginPath(),d.plotSpline(t,e,r),r.stroke(),r.closePath(),r.restore())},u.ChartEngine.prototype.repositionDrawing=function(t,e){var i,a,r;i=this.panels[t.panelName],a=this.adjustIfNecessary(i,this.crosshairTick,this.valueFromPixel(this.backOutY(u.ChartEngine.crosshairY),i)),r=this.chart.tempCanvas,u.clearCanvas(r,this),e?(this.drawingSnapshot=this.exportDrawings(),t.render(r.context)):(t.reposition(r.context,t.repositioner,this.crosshairTick,a),this.drawingSnapshot&&this.undoStamp(u.shallowClone(this.drawingSnapshot),this.exportDrawings()),this.drawingSnapshot=null),t.measure&&t.measure()},u.ChartEngine.prototype.activateRepositioning=function(t){this.repositioningDrawing=t,t&&(this.draw(),this.repositionDrawing(t,!0)),this.chart.tempCanvas.style.display=t?"block":"none"},u.ChartEngine.prototype.activateDrawing=function(t,e){var i,a;if(i="no",i+="ne",e||(e=this.currentPanel),!t)return this.activeDrawing=null,this.chart.tempCanvas.style.display="none",r(this),!1;if((a=u.ChartEngine.drawingTools[t])||u.Drawing[t]&&(a=u.Drawing[t],u.ChartEngine.registerDrawingTool(t,a)),a&&(this.activeDrawing=new a,this.activeDrawing.construct(this,e),!this.charts[e.name]&&this.activeDrawing.chartsOnly))return this.activeDrawing=null,r(this),!1;function r(t){var i;t.layout.studies&&(i=t.layout.studies[e.name],g.h9y(),i&&!i.overlay&&delete t.overlays[i.name])}return g.p$K(),this.chart.tempCanvas.style.display="block",this.controls.drawOk&&(this.controls.drawOk.style.display=i),r(this),!0},u.ChartEngine.prototype.drawingClick=function(t,e,i){var a,r,n,s,o,l,c,h,d,p,f,m;if(g.h9y(),u.Drawing&&t&&""===this.openDialog&&(this.activeDrawing||this.activateDrawing(this.currentVectorParameters.vectorType,t))){if(this.activeDrawing){if(this.userPointerDown&&!this.activeDrawing.dragToDraw)return void(u.ChartEngine.drawingLine||this.activateDrawing(null));if(a=this.tickFromPixel(e,t.chart),r=this.panels[this.activeDrawing.panelName],n=this.adjustIfNecessary(r,a,this.valueFromPixel(i,r)),this.magnetizedPrice&&(n=this.adjustIfNecessary(r,a,this.magnetizedPrice)),this.activeDrawing.click(this.chart.tempCanvas.context,a,n))this.activeDrawing&&(s="stx_",s+="crosshair",o="vecto",o+="r",u.ChartEngine.drawingLine=!1,u.clearCanvas(this.chart.tempCanvas,this),this.addDrawing(this.activeDrawing),this.activateDrawing(null),this.adjustDrawings(),this.draw(),this.changeOccurred(o),u.swapClassName(this.controls.crossX,s,"stx_crosshair_drawing"),u.swapClassName(this.controls.crossY,"stx_crosshair","stx_crosshair_drawing"));else{l="stx",l+="_cro",l+="sshair",c="stx_cros",c+="shair_",c+="dr",c+="awing",this.changeOccurred("drawing"),u.ChartEngine.drawingLine=!0,h=1926155826,d=2135577202,p=2;for(var v=1;g.X01(v.toString(),v.toString().length,87519)!==h;v++)u.swapClassName(this.controls.crossX,"stx_crosshair_drawing","stx_crosshair_drawing"),u.swapClassName(this.controls.crossY,"stx_crosshair_drawing","stx_crosshair"),g.S$R(0),p+=g.d0d(0,"2");g.X01(p.toString(),p.toString().length,16849)!==d&&(f="s",f+="tx_",f+="crossh",f+="air",m="stx_",m+="cro",m+="sshair_dra",m+="wing",u.swapClassName(this.controls.crossX,"stx_crosshair_drawing","stx_crosshair_drawing"),u.swapClassName(this.controls.crossY,m,f)),u.swapClassName(this.controls.crossX,"stx_crosshair_drawing","stx_crosshair"),u.swapClassName(this.controls.crossY,c,l)}return!0}return!1}},u.ChartEngine.prototype.whichPanel=function(t){var e;for(var i in g.h9y(),this.panels)if(!(e=this.panels[i]).hidden&&t>=e.top&&t<e.bottom)return e;return null},u.ChartEngine.prototype.mouseup=function(t){var e,i,a,r,n,s;if(e="mo",e+="u",e+="seu",e+="p",i="stx-drag",i+="-char",i+="t",!this.runPrepend("mouseup",arguments)){if(this.swipe.end=!0,this.cancelLongHold=!0,this.repositioningDrawing){if(!this.currentVectorParameters.vectorType||Date.now()-this.mouseTimer>250)return this.changeOccurred("vector"),u.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.adjustDrawings(),void this.draw();this.activateRepositioning(null)}if(this.repositioningBaseline)return this.repositioningBaseline=null,u.unappendClassName(this.controls.baselineHandle,"stx-grab"),(a=this.mainSeriesRenderer||{}).params&&a.params.baseline&&a.params.type,void this.draw();if(r=this.userPointerDown,this.userPointerDown=!1,this.displayInitialized)if(n=this.backOutY(t.clientY),s=this.backOutX(t.clientX),this.grabbingScreen=!1,this.highlightedDraggable&&(this.dragPlotOrAxis(s,n),this.currentPanel=this.whichPanel(n)),this.grabStartYAxis=null,this.displayDragOK(),""===this.openDialog){if(this.grabOverrideClick)return this.overXAxis||this.overYAxis||this.swipeRelease(),u.unappendClassName(this.container,"stx-drag-chart"),this.grabOverrideClick=!1,this.doDisplayCrosshairs(),void this.updateChartAccessories();if(this.insideChart&&u.unappendClassName(this.container,i),g.h9y(),!u.ChartEngine.resizingPanel)return t.which&&t.which>=2||t.button&&t.button>=2||t.ctrlKey?this.anyHighlighted&&!0!==this.bypassRightClick?(this.rightClickHighlighted(),t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),t.stopPropagation(),!1):(this.dispatch("rightClick",{stx:this,panel:this.currentPanel,x:s,y:n}),!0):void(t.clientX<this.left||t.clientX>this.right||t.clientY<this.top||t.clientY>this.bottom||(!r||this.currentPanel.subholder!==t.target||this.longHoldTookEffect&&!this.activeDrawing||this.drawingClick(this.currentPanel,s,n),r&&this.currentPanel.subholder===t.target&&!this.longHoldTookEffect&&this.activeMarker&&this.activeMarker&&this.activeMarker.click(s,n,this.activeMarker,this.currentPanel),this.activeDrawing||this.longHoldTookEffect||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:s,y:n}),this.runAppend(e,arguments)));this.releaseHandle()}else this.insideChart&&u.unappendClassName(this.container,"stx-drag-chart")}},u.ChartEngine.prototype.grabbingHand=function(){this.allowScroll&&this.grabbingScreen&&(g.h9y(),u.touchDevice||u.appendClassName(this.container,"stx-drag-chart"))},u.ChartEngine.prototype.mousedown=function(t){var e,i,a,r,n,s,o,l,c;if(!this.runPrepend("mousedown",arguments)&&(this.grabOverrideClick=!1,this.displayInitialized&&this.displayCrosshairs&&!this.repositioningDrawing&&!(this.editingAnnotation||(t||(t=event),t.which&&t.which>=2||t.button&&t.button>=2))))if(e=this.container.getBoundingClientRect(),this.top=e.top,this.left=e.left,this.right=this.left+this.width,this.bottom=this.top+this.height,t.clientX>=this.left&&t.clientX<=this.right&&t.clientY>=this.top&&t.clientY<=this.bottom){if(this.insideChart=!0,g.h9y(),this.currentPanel){this.manageTouchAndMouse&&t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,this.hasDragged=!1,this.userPointerDown=!0,i=this.currentPanel.chart;for(var h=0;h<this.drawingObjects.length;h++)if((a=this.drawingObjects[h]).highlighted&&!a.permanent){if(this.cloneDrawing)return(r=new(0,u.ChartEngine.drawingTools[a.name])).reconstruct(this,a.serialize()),this.drawingObjects.push(r),this.activateRepositioning(r),void(r.repositioner=a.repositioner);if(n=this.currentVectorParameters.vectorType,!(u.Drawing&&n&&u.Drawing[n]&&(new u.Drawing[n]).dragToDraw))return void this.activateRepositioning(a)}if((s=this.mainSeriesRenderer||{}).params&&s.params.baseline&&!1!==i.baseline.userLevel&&this.controls.baselineHandle&&(o=this.valueFromPixel(this.cy-5,this.currentPanel),l=this.valueFromPixel(this.cy+5,this.currentPanel),c=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10),i.baseline.actualLevel<Math.max(o,l)&&i.baseline.actualLevel>Math.min(o,l)&&this.cx>c))return this.repositioningBaseline={lastDraw:Date.now()},void u.appendClassName(this.controls.baselineHandle,"stx-grab");var d;this.currentPanel.subholder===t.target&&this.drawingClick(this.currentPanel,this.cx,this.cy),this.activeDrawing&&this.activeDrawing.dragToDraw||(this.grabbingScreen=!0,i.spanLock=!1,this.yToleranceBroken=!1,t||(t=event),this.grabStartX=t.clientX,this.grabStartY=t.clientY,this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=i.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartCandleWidth=this.layout.candleWidth,this.grabStartYAxis=this.whichYAxis(this.currentPanel),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPanel=this.currentPanel,setTimeout((d=this,g.h9y(),function(){d.grabbingHand()}),100),this.swipeStart(i),(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer(),this.runAppend("mousedown",arguments))}}else this.insideChart=!1},u.ChartEngine.prototype.startLongHoldTimer=function(){var t,e;t=this,this.cancelLongHold=!1,this.longHoldTimeout&&clearTimeout(this.longHoldTimeout),e=function(){t.cancelLongHold||(t.longHoldTookEffect=!0,t.dispatch("longhold",{stx:t,panel:t.currentPanel,x:t.cx,y:t.cy}),t.displayDragOK())},this.longHoldTime?this.longHoldTimeout=setTimeout(e,this.longHoldTime):0===this.longHoldTime&&e()},u.ChartEngine.prototype.changeVectorType=function(t){this.currentVectorParameters.vectorType=t,g.h9y(),u.Drawing.initializeSettings(this,t),u.ChartEngine.drawingLine&&this.undo(),this.insideChart&&this.doDisplayCrosshairs()},u.ChartEngine.prototype.changeVectorParameter=function(t,e){var i,a,r,n;if(i="fontS",i+="ize","axisLabel"==t)e="true"===e.toString()||Number(e);else if("lineWidth"==t)e=Number(e);else if(t==i){g.S$R(7);var s=g.e8n(0,8);e=parseInt(e,"10"|s)+"px"}return void 0!==(a=this.currentVectorParameters)[t]||"font"==t.substr(0,4)&&(r="de",r+="fau",r+="lt",n="f",n+="amily",(t=t.substr(4).toLowerCase())==n&&e.toLowerCase()==r&&(e=null),void 0!==(a=a.annotation.font)[t])?(a[t]=e,!0):(g.h9y(),!1)},u.ChartEngine.prototype.rightClickDrawing=function(t,e){var i,a;i="f",i+="unction",this.runPrepend("rightClickDrawing",arguments)||t.permanent||(typeof this.callbacks.drawingEdit===i||this.callbackListeners.drawingEdit.length?this.dispatch("drawingEdit",{stx:this,drawing:t,forceEdit:e}):(t.abort()||(a=this.exportDrawings(),this.removeDrawing(t),this.undoStamp(a,this.exportDrawings())),this.changeOccurred("vector")),this.runAppend("rightClickDrawing",arguments))},u.ChartEngine.prototype.rightClickOverlay=function(t,e){var i;this.runPrepend("rightClickOverlay",arguments)||((i=this.overlays[t]).editFunction?i.editFunction(e):this.removeOverlay(t),this.runAppend("rightClickOverlay",arguments))},u.ChartEngine.prototype.addOverlay=function(t){this.runPrepend("addOverlay",arguments)||(this.overlays[t.name]=t,this.runAppend("addOverlay",arguments))},u.ChartEngine.prototype.removeOverlay=function(t){var e,i,a,r,n,s;if(!this.runPrepend("removeOverlay",arguments)){for(var o in e=this.overlays[t],this.overlays){i=this.overlays[o],a=["Field"],u.Studies&&(a=u.Studies.getFieldInputs(i));for(var l=0;l<a.length;l++)e.outputMap[i.inputs[a[l]]]&&this.removeOverlay(i.name)}if(e&&(this.cleanupRemovedStudy(e),this.panels[e.panel],delete this.overlays[t],this.checkForEmptyPanel(e.panel)),!this.currentlyImporting){this.displaySticky(),r=938541270,n=1366150083,g.S$R(2),s=g.e8n(0,"2");for(var c=1;g.T8I(c.toString(),c.toString().length,525)!==r;c++)this.createDataSet(),g.s8b(1),s+=g.e8n(0,"2");g.T8I(s.toString(),s.toString().length,27492)!==n&&this.createDataSet(),this.changeOccurred("layout")}this.resetDynamicYAxis(),this.runAppend("removeOverlay",arguments)}},u.ChartEngine.prototype.addSeries=function(t,e,i){var a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w;if(a="pe",a+="rc",a+="ent",r=this.runPrepend("addSeries",arguments))return r;n=t||null,s=1779790230,o=-350274898,l=2;for(var D=1;g.X01(D.toString(),D.toString().length,37542)!==s;D++)c=t,~t&&(t=u.uniqueID()),l+=2;function T(i,a){var r,n,s,o,l,c,h,d;if(r="L",r+="i",r+="n",r+="es",n=e.renderer||r,s=e.name||t,g.h9y(),!e.yAxis||e.yAxis instanceof u.ChartEngine.YAxis||b||(e.yAxis.name=s),e.renderer||e.name||e.color||e.chartType){if(!(o=i.getSeriesRenderer(s))){if(l={name:s,overChart:!1!==e.overChart,useChartLegend:!0,highlightable:e.highlightable,dependentOf:e.dependentOf},e.chartType)l=u.extend({panel:e.panel,yAxis:e.yAxis},l),o=u.Renderer.produce(e.chartType,l);else{u.ensureDefaults(e,{name:l.name,overChart:!1!==e.overChart,useChartLegend:!0}),c=-1558005327,h=345527055,d=2;for(var p=1;g.T8I(p.toString(),p.toString().length,56389)!==c;p++)o=new u.Renderer[n]({params:e}),g.S$R(3),d+=g.e8n(1,"2");g.X01(d.toString(),d.toString().length,43640)!==h&&(o=new u.Renderer[n]({params:e})),o=new u.Renderer[n]({params:e})}if(!o)return;i.setSeriesRenderer(o)}o.attachSeries(t,e),!1!==e.loadData&&o.ready(),i.layout.symbols=i.getSymbols({"include-parameters":!0,"exclude-studies":!0}),i.changeOccurred("layout")}}function A(t){return function(a){var r,n;a.error||(r=a.quotes,n=e.fillGaps,y.cleanupGaps||(n=!1),r=y.doCleanupGaps(r,y.chart,{cleanupGaps:n}),y.updateChartData(r,y.chart,{secondarySeries:c,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),h.loading=!1,h.moreAvailable=a.moreAvailable,T(y,h)),null===e.action||f.length||y.dispatch(b?"symbolImport":"symbolChange",{stx:y,symbol:t.symbol,symbolObject:t.symbolObject,action:e.action,id:h.id,parameters:e}),i&&i.call(y,a.error,h)}}return g.T8I(l.toString(),l.toString().length,17650)!==o&&(c=t,t||(t=u.uniqueID())),e&&!0===e.panel&&(e.panel=t),(h={parameters:e?u.clone(e):{},yValueCache:[],display:n,id:t,loading:!e||!1!==e.loadData}).parameters.yAxis=e&&e.yAxis,(e=h.parameters).symbol&&(c=e.symbol),e.isComparison&&(e.shareYAxis=!0),!e.yAxis||e.yAxis instanceof u.ChartEngine.YAxis||(e.yAxis=new u.ChartEngine.YAxis(e.yAxis)),u.ensureDefaults(e,{chartName:this.chart.name,symbolObject:{symbol:c},panel:this.chart.panel.name,fillGaps:!1,action:"add-series"}),"display"in e&&(h.display=e.display),d=this.charts[e.chartName],p=e.symbolObject,c=e.symbol=p.symbol,h.display||(h.display=c||e.field),h.endPoints={},e.gapDisplayStyle||!1===e.gapDisplayStyle||(e.gapDisplayStyle=e.gaps),e.isComparison&&void 0===e.gapDisplayStyle&&(e.gapDisplayStyle="transparent"),f=this.getSeries({symbolObject:p,chart:d,includeMaster:!0}),m=e.panel,this.panels[m]?e.yAxis||e.shareYAxis||(e.yAxis=new u.ChartEngine.YAxis({name:t,position:"none"})):((v=e.yAxis||new u.ChartEngine.YAxis).name=t,this.createPanel(t,m,null,null,v),this.preferences.dragging&&this.preferences.dragging.series||(e.highlightable=!1)),d.series[t]=h,y=this,b=this.currentlyImporting,g.p$K(),!e.isComparison||!d.forcePercentComparison||e.panel!=d.panel.name||e.yAxis&&e.yAxis!=d.yAxis||this.setChartScale(a),(x=d.masterData)||(x=d.masterData=this.masterData=[]),S=x.length,e.data&&!e.data.useDefaultQuoteFeed?A({symbol:c,symbolObject:p,action:e.action})({quotes:e.data}):f.length?(h.endPoints=f[0].endPoints,T(this,h),i&&setTimeout((function(){g.p$K(),i.call(y,null,h)}),0)):this.quoteDriver&&!1!==e.loadData?(C=(k=this.quoteDriver).makeParams(c,p,d),S&&(C.startDate=x[0].DT,C.endDate=this.isHistoricalMode()?x[x.length-1].DT:new Date),C.stx.isEquationChart(C.symbol)?u.fetchEquationChart(C,A(C)):(w=k.getQuoteFeed(C))&&u.ChartEngine.Driver.fetchData(u.QuoteFeed.SERIES,w.engine,C,A(C))):(T(this,h),i&&i.call(this,null,h)),this.runAppend("addSeries",arguments),h},u.ChartEngine.prototype.getSeries=function(t){var e,i,a,r,n;for(var s in g.p$K(),i=(e=t.chart?t.chart:this.chart).series,(a=t.symbolObject)||(a={symbol:t.symbol}),r=[],i)n=i[s],u.symbolEqual(a,n.parameters.symbolObject)&&r.push(n);return t.includeMaster&&u.symbolEqual(a,e.symbolObject)&&r.push({}),r},u.ChartEngine.prototype.modifySeries=function(t,e,i){var a,r,n,s,o,l,c,h,d,p,g,f,m,v,y,b,x;if(a="m",a+="odify",a+="Ser",a+="ies",!this.runPrepend("modifySeries",arguments)&&e&&("string"==typeof t?(n=t,r=(s=e.chartName?this.charts[e.chartName]:this.chart).series[n]):(n=(r=t).id,s=this.charts[r.parameters.chartName]),r)){for(var S in u.extend(r.parameters,e),o=r.parameters,s.seriesRenderers){h=(c=s.seriesRenderers[S]).params,d=c.seriesParams;for(var k=0;k<d.length;++k)if(p=d[k],f=(g=this.panels[p.panel])&&g.yAxis.name,p.id===r.id){m="p",m+="erce",m+="nt",!0===o.panel&&(o.panel=o.dependentOf||o.name),h.panel=o.panel,e.yAxis&&(h.yAxis=e.yAxis),o.panel!=p.panel&&h.name==f?this.electNewPanelOwner(p.panel):(v=this.getYAxisByName(o.panel,h.name))&&o.yAxis&&v.name!==o.yAxis.name&&(v.name=this.electNewYAxisOwner(v)),o.field||(o.field=null),c.attachSeries(n,u.ensureDefaults(o,p)),o.field||(o.field=o.subField),delete o.subField,!o.isComparison||!s.forcePercentComparison||o.panel!=s.panel.name||r.parameters.yAxis&&o.yAxis.name!=s.yAxis.name||this.setChartScale(m),l=c;break}}if(this.changeOccurred("layout"),u.Drawing&&(y=r.parameters.symbol||n,u.Drawing.updateSource(this,y,null,r.parameters.panel)),this.runAppend(a,arguments),!0!==i){b=l.getDependents(this);for(var C=0;C<b.length;C++)this.modifySeries(b[C].params.name,{panel:l.params.panel,yAxis:r.parameters.yAxis},!0);(x=s.seriesRenderers[l.params.dependentOf])&&(x.params.yAxis==r.parameters.yAxis&&x.params.panel==l.params.panel||this.modifySeries(l.params.dependentOf,{panel:l.params.panel,yAxis:r.parameters.yAxis},!0))}return this.draw(),r}},u.ChartEngine.prototype.isEquationChart=function(t){return t&&"="==t[0]?!(!this.allowEquations||!u.fetchEquationChart)||(console.warn("Error, equation chart option requires equationsAdvanced.js"),!1):(g.h9y(),!1)},u.ChartEngine.prototype.getDataFields=function(t){var e,i,a;for(var r in t||(t=this.chart),e=t.defaultPlotField||"Close",(i=["Open","High","Low"]).push(e),t.series)a=t.series[r].parameters,i.push(a.symbol);return i},u.ChartEngine.prototype.cleanMasterData=function(t,e){var i,a,r,n,s;if(i=t.symbol,(a=e.masterData)&&a.length){r=this.getDataFields(e),n=0;do{delete(s=a[n])[i],o.call(this,s,r)?a.splice(n,1):n++}while(n<a.length);a=this.doCleanupGaps(a,e,{noCleanupDates:!0}),this.setMasterData(a,e,{noCleanupDates:!0}),this.clearCurrentMarketData(e,i)}function o(t,e){for(var i,a=0;a<e.length;a++)if(i="un",i+="def",i+="i",i+="ned",typeof t[e[a]]!=i)return!1;return!0}},u.ChartEngine.prototype.deleteSeries=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p;if(a="sym",g.h9y(),a+="bolChange",!this.runPrepend("deleteSeries",arguments)&&(r=(i=i||{}).action?i.action:"remove-series","object"==typeof t?(n=t.id,e=e||this.charts[t.parameters.chartName]):(n=t,e=e||this.chart),s=e.series[n])){o=s.parameters.loadData,l=s.parameters.symbolObject,delete e.series[n],c=this.getSeries({symbolObject:l,includeMaster:!0}),!1===o&&c.push(n),c.length||this.cleanMasterData(l,e),(h=this.panels[s.parameters.panel])&&this.checkForEmptyPanel(h),this.createDataSet(),c.length||this.dispatch(this.currentlyImporting?"symbolImport":a,{stx:this,symbol:l.symbol,symbolObject:l,id:n,action:r}),u=1763530279,d=1780409972,p=2;for(var f=1;g.X01(f.toString(),f.toString().length,10069)!==u;f++)this.quoteDriver&&this.quoteDriver.updateSubscriptions(),this.runAppend("",arguments),p+=2;g.T8I(p.toString(),p.toString().length,39772)!==d&&(this.quoteDriver&&this.quoteDriver.updateSubscriptions(),this.runAppend("deleteSeries",arguments))}},u.ChartEngine.prototype.removeSeries=function(t,e){var i,a,r,n,s,o,l;if(i="re",i+="move",i+="Series",!this.runPrepend(i,arguments)){for(var c in r=!1,"object"==typeof t?(a=t.id,e=e||this.charts[t.parameters.chartName]):(a=t,e=e||this.chart),e.seriesRenderers){n=e.seriesRenderers[c],o=(s=this.panels[n.params.panel])&&s.yAxis.name;for(var h=n.seriesParams.length-1;h>=0;h--)n.seriesParams[h].id===a&&(n.removeSeries(a),n.seriesParams.length<1&&(this.removeSeriesRenderer(n),n.params.name==o?this.electNewPanelOwner(n.params.panel):this.checkForEmptyPanel(n.params.panel)||(l=this.getYAxisByName(s,n.params.name))&&(l.name=l.studies[0]||l.renderers[1])),r=!0)}r||this.deleteSeries(a,e),g.h9y(),this.resetDynamicYAxis(),this.draw(),this.resizeChart(),this.runAppend("removeSeries",arguments)}},u.ChartEngine.prototype.isDailyInterval=function(t){var e;return e="CIQ.ChartEngine.prototype.isDailyInterval has been deprecated",e+=". Use ",e+="use static version insted",console.warn(e),u.ChartEngine.isDailyInterval(t)},u.ChartEngine.prototype.setPeriodicity=function(t,e){var i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w;if(!this.runPrepend("setPeriodicity",arguments)){if(r=null,t&&"object"==typeof t)i=t.period,a=t.interval,r=t.timeUnit;else{i=t,a=e,g.S$R(55);var D=g.e8n(13,2,19,6,1);e=arguments[arguments.length-D],arguments.length>3&&(r=arguments[2])}if("function"!=typeof e&&(e=null),i=(n=u.cleanPeriodicity(i,a,r)).period,a=n.interval,r=n.timeUnit,o=(s=this.layout).candleWidth,s.setSpan={},s.range={},this.chart.inflectionPoint=null,l=!1,this.chart.symbol&&(l=this.needDifferentData({period:i,interval:a,timeUnit:r})),g.h9y(),s.periodicity=i,s.interval=a,s.timeUnit=r,l){if(this.changeOccurred("layout"),this.clearCurrentMarketData(),this.quoteDriver)for(var T in this.charts)(c=this.charts[T]).symbol&&(this.displayInitialized?this.quoteDriver.newChart({symbol:c.symbol,symbolObject:c.symbolObject,chart:c},e):this.loadChart(c.symbol,{chart:c},e));else this.dataCallback?(this.dataCallback(),e&&e(null)):console.log("cannot change periodicity because neither dataCallback or quoteDriver are set");this.home()}else{for(h in this.charts)if(p=(d=this.charts[h]).dataSegment,f=d.dataSet,m=d.maxTicks,v=d.scroll,y=p?p.length:0,b=f?f.length:0,S=Math.round(d.maxTicks/2),this.setCandleWidth(o,d),k=!0,C=!1,v<=m?k=!1:p&&!p[S]&&(k=!1,g.s8b(2),C=g.e8n(b,v)),k&&y>0&&(m<(Math.round(this.chart.width/o-.499)-1)/2&&(g.s8b(2),S=g.d0d(1,y)),S>=y?(x=p[y-1].DT,g.S$R(25),S=g.d0d("1",y)):x=p[S].DT),this.createDataSet(),k){if(y>0)for(var A=b-1;A>=0;A--)if(f[A].DT.getTime()<x.getTime()){g.s8b(39),d.scroll=g.d0d(1,S,b,A);break}}else C?d.scroll=f.length+C:(w=Math.round(this.preferences.whitespace/o),g.S$R(56),d.scroll=g.e8n(m,w,1));if(this.displayInitialized&&this.draw(),this.changeOccurred("layout"),this.quoteDriver)for(h in this.charts)(d=this.charts[h]).symbol&&d.moreAvailable&&this.quoteDriver.checkLoadMore(d);e&&e(null),this.runAppend("setPeriodicity",arguments)}}},u.ChartEngine.prototype.getPeriodicity=function(){var t,e,i;return g.h9y(),e=(t=this.layout).interval,(i=t.timeUnit)||(i=e,e=1),{period:t.periodicity,interval:e,timeUnit:i}},u.ChartEngine.prototype.setPeriodicityV2=function(t,e,i,a){"function"==typeof i&&(a=i,i=null),this.runPrepend("setPeriodicityV2",arguments)||(this.setPeriodicity(t,e,i,a),this.runAppend("setPeriodicityV2",arguments))},u.ChartEngine.prototype.drawVectors=function(){var t,e,i,a,r;if(!this.vectorsShowing&&(g.h9y(),!this.runPrepend("drawVectors",arguments))){if(this.vectorsShowing=!0,!this.chart.hideDrawings&&!this.highlightedDraggable){for(t={},i=0;i<this.drawingObjects.length;i++)(a=this.drawingObjects[i]).hidden||this.repositioningDrawing!==a&&(e=a.panelName,this.panels[a.panelName]&&!this.panels[a.panelName].hidden&&(t[e]||(t[e]=[]),t[e].push(a)));for(e in t){for(this.startClip(e),r=t[e],i=0;i<r.length;i++)r[i].render(this.chart.context);this.endClip()}}this.runAppend("drawVectors",arguments)}},u.ChartEngine.NONE=0,u.ChartEngine.CLOSEUP=1,u.ChartEngine.CLOSEDOWN=2,u.ChartEngine.CLOSEEVEN=4,u.ChartEngine.CANDLEUP=8,u.ChartEngine.CANDLEDOWN=16,u.ChartEngine.CANDLEEVEN=32,u.ChartEngine.prototype.displayChart=function(t){var e;e="m",e+="ai",e+="n",this.runPrepend("displayChart",arguments)||(this.rendererAction(t,e),this.runAppend("displayChart",arguments))},u.ChartEngine.prototype.calculateATR=function(t,e,i){var a,r,n,s,o,l;i||(i=t.dataSet),(a=t.state.calculations.atr)||(a=t.state.calculations.atr={}),e||(e=20),r=[],a.accum&&(r=a.accum);for(var c=0;c<i.length;c++)if(s=i[c],n=c?i[c-1]:a.q1){if(o=Math.max(s.High-s.Low,Math.abs(s.High-n.Close),Math.abs(s.Low-n.Close)),r.length<e){if(r.push(o)==e){l=0;for(var h=0;h<r.length;h++)l+=r[h];g.s8b(6),s.atr=g.e8n(l,e)}}else{g.s8b(57);var u=g.d0d(14,9,11,29);s.atr=(n.atr*(e-u)+o)/e}s.trueRange=o}t.state.calculations.atr={accum:r,q1:n}},u.ChartEngine.prototype.calculateMedianPrice=function(t,e){var i;e||(e=t.dataSet);for(var a=0;a<e.length;++a){i=e[a],g.s8b(35);var r=g.d0d(2,4);i["hl/2"]=(i.High+i.Low)/r}},u.ChartEngine.prototype.calculateTypicalPrice=function(t,e){var i,a;g.p$K(),e||(e=t.dataSet);for(var r=0;r<e.length;++r){a="hl",a+="c",a+="/",a+="3",i=e[r],g.s8b(58);var n=g.d0d(9,9,5,5,3);i[a]=(i.High+i.Low+i.Close)/n}},u.ChartEngine.prototype.calculateWeightedClose=function(t,e){var i;e||(e=t.dataSet);for(var a=0;a<e.length;++a){i=e[a],g.S$R(26);var r=g.e8n(16,4,16);i["hlcc/4"]=(i.High+i.Low+2*i.Close)/r}},u.ChartEngine.prototype.calculateOHLC4=function(t,e){var i;e||(e=t.dataSet),g.p$K();for(var a=0;a<e.length;++a){i=e[a],g.S$R(59);var r=g.e8n(2,16,4,6);i["ohlc/4"]=(i.Open+i.High+i.Low+i.Close)/r}},u.ChartEngine.prototype.currentQuote=function(t){var e;if(!this.chart.dataSet)return null;for(var i=this.chart.dataSet.length-1;i>=0;i--)if(this.chart.dataSet[i]){if(!t)return this.chart.dataSet[i];if((e=this.chart.dataSet[i][t])||0===e)return this.chart.dataSet[i]}return null},u.ChartEngine.prototype.mostRecentClose=function(t){var e,i,a,r,n;if(!this.chart.dataSet)return null;for(var s=this.chart.dataSet.length-1;s>=0;s--)if(e="nu",e+="m",e+="ber",i="n",i+="umber",a="o",a+="bje",a+="ct",(r=this.chart.dataSet[s])&&(!t||(r=r[t])||0===r)){if(n=r.iqPrevClose,typeof r==a&&(r=r.Close),typeof r==i)return r;if(typeof n==e)return n}return null},u.ChartEngine.prototype.correctIfOffEdge=function(t){var e,i,a,r,n,s,o,l,c;if(g.p$K(),!this.runPrepend("correctIfOffEdge",arguments)){for(var h in this.charts){if(i=(e=this.charts[h]).dataSet,a=e.maxTicks,r=this.layout,n=this.minimumLeftBars,s=Math.min(n,a),e.allowScrollPast){if(g.S$R(2),o=g.e8n(s,a),s>i.length&&(o=a-i.length),e.scroll-o>=i.length){g.s8b(60);var u=g.d0d(47,1,7,7,3);e.scroll=i.length+o-u,this.micropixels=0}e.scroll<=s&&(e.scroll=s,this.micropixels=0)}else e.scroll<s&&(e.scroll=s),e.scroll>i.length&&(e.scroll=i.length);!1===e.allowScrollFuture&&(l=this.getLabelOffsetInPixels(e,r.chartType)+r.candleWidth*e.whiteSpaceFutureTicks,c=a-Math.round(l/r.candleWidth)-1,(this.micropixels<0?e.scroll-1:e.scroll)<c&&(e.scroll=c,this.micropixels=0))}this.runAppend("correctIfOffEdge",arguments)}},u.ChartEngine.prototype.createDataSegment=function(t){var e,i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C;if(e="create",e+="DataSegment",i="cre",i+="ateDataSeg",i+="m",i+="ent",!this.runPrepend(i,arguments)){for(var w in this.charts){a=this.charts[w],t&&(a=t),a.isComparison&&u.Comparison.createComparisonSegmentInner(this,a),r=a.dataSet,n=a.baseline,s=a.scroll,o=a.maxTicks,c=(l=this.layout).candleWidth,n.actualLevel=n.userLevel?n.userLevel:n.defaultLevel,h=n.includeInDataSegment&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.standaloneBars)&&!this.standaloneBars[l.chartType],p=a.dataSegment=[],g.s8b(2);var D=g.d0d(14,15);g.S$R(61);var T=g.e8n(12,5,6);f=r.length-D-s-T,m=a.defaultPlotField;for(var A=-1;A<s&&A<o;A++)f++,(-1!=A||h)&&(f<r.length&&f>=0?((d=r[f]).candleWidth=null,p.push(d),null===n.actualLevel&&A>=0&&(v="C",v+="lose",m&&m!=v?(g.s8b(2),(y=r[g.e8n(1,f)])&&(y[m]||0===y[m])&&(n.actualLevel=y[m])):(d.iqPrevClose||0===d.iqPrevClose)&&(n.actualLevel=d.iqPrevClose))):f<0&&p.push(null));if(a.segmentImage=null,(b=this.mainSeriesRenderer||{}).params&&b.params.volume){x=0,g.S$R(17);var M=g.e8n(2,1,16,16);S=a.width-(o-p.length-("1"|M))*l.candleWidth;for(var L=0;L<p.length;L++)(d=p[L])&&(x+=d.Volume||1);k=0,a.segmentImage=[];for(var _=0;_<p.length;_++)d=p[_],a.segmentImage[_]={},C=null,d?(d.Volume?(d.candleWidth=S*d.Volume/x,C=k+d.candleWidth/2,k+=d.candleWidth):(d.candleWidth=c,g.S$R(62),C=g.e8n(k,"2",c),k+=c),a.segmentImage[_]={tick:d.tick,candleWidth:d.candleWidth,leftOffset:C}):k+=c}if(t)break}a&&a.isComparison&&this.clearPixelCache(),this.positionCrosshairsAtPointer(),this.runAppend(e,arguments)}},u.ChartEngine.prototype.getDataSegment=function(t){var e,i,a;return t||(t=this.chart),(e=t.dataSegment)&&e.length?(i=0,a=e.length,this.pixelFromBar(i,t)<t.panel.left&&i++,this.pixelFromBar(a-1,t)>t.panel.right&&a--,e.slice(i,a)):[]},u.ChartEngine.prototype.leftTick=function(){return this.chart.dataSet.length-this.chart.scroll},u.ChartEngine.prototype.getStartDateOffset=function(){g.h9y();for(var t=0;t<this.chart.dataSegment.length;t++)if(this.chart.dataSegment[t])return t;return 0},u.ChartEngine.prototype.setStartDate=function(t){for(var e=0;e<this.chart.dataSet.length;e++)if(this.chart.dataSet[e].DT.getTime()==t.getTime())return this.chart.scroll=this.chart.dataSet.length-e,void this.draw()},u.ChartEngine.prototype.updateListeners=function(t){var e;for(var i in this.plugins)(e=this.plugins[i]).display&&e.listener&&e.listener(this,t)},u.ChartEngine.prototype.clearPixelCache=function(){var t,e;for(var i in this.panels)(t=this.panels[i]).cacheHigh=null,t.cacheLow=null,t.cacheLeft=1e6,t.cacheRight=-1;for(var a in this.charts)if((e=this.charts[a]).dataSet)for(var r=0;r<e.dataSet.length;r++)e.dataSet[r].cache={}},u.ChartEngine.prototype.createYAxisLabel=function(t,e,i,a,r,n,s){var o,l,c,h,d,p,f,m,v,y,b,x;if(!1!==t.yAxis.drawPriceLabels&&!t.yAxis.noDraw&&!(o=s||t.yAxis).noDraw&&o.width){l=n||this.chart.context,c=3,g.S$R(63);var S=g.e8n(10,14,18,0,4);h=this.getCanvasFontSize("stx_yaxis")+c*S,this.canvasFont("stx_yaxis",l),o.displayBorder,d=this.drawBorders?3:0;try{g.s8b(26);var k=g.e8n(18,20,0);p=l.measureText(e).width+d+c*k}catch(t){p=o.width}g.s8b(64);var C=g.e8n(1,6,18,14);if(f=o.left-c+C,o.width<0&&(f+=o.width-p),g.S$R(8),m=g.d0d(f,d,c),v=3,"left"===(null===o.position?t.chart.yAxis.position:o.position)){y="r",y+="i",y+="g",y+="ht",g.s8b(65);var w=g.d0d(6,9,0,0);f=o.left+o.width+c-w,g.s8b(66),p=g.d0d("1",p),o.width<0&&(f-=o.width+p),g.S$R(56),m=g.d0d(f,c,d),v=-3,l.textAlign=y}if(i+h/2>o.bottom){g.S$R(67);var D=g.d0d(7,2,18);i=o.bottom-h/D}if(i-h/2<o.top){g.s8b(68);var T=g.e8n(6,92,15);i=o.top+h/T}void 0===u[this.yaxisLabelStyle]&&(this.yaxisLabelStyle="roundRectArrow"),b=this.yaxisLabelStyle,o.yaxisLabelStyle&&(b=o.yaxisLabelStyle),x={ctx:l,x:f,y:i,top:i-h/2,width:p,height:h,radius:v,backgroundColor:a,fill:!0,stroke:!1,margin:{left:m-f,top:1},txt:e,color:r},u[b](x)}},u.ChartEngine.prototype.createXAxisLabel=function(t,e,i,a,r,n){var s,o,l,c,h,d,p,f,m,v;s=this.chart.context,o=2,l="stx-float-date",g.S$R(69);var y=g.e8n(3,20,7,4,7);c=this.getCanvasFontSize(l)+o*y,g.p$K(),this.canvasFont(l,s);try{g.s8b(26);var b=g.d0d(14,16,0);h=s.measureText(e).width+o*b}catch(t){h=0}if(d=t.top+t.height-c,!(i+h/2<t.left||i-h/2>t.right)){if(!n){if(i+h/2>t.right){g.S$R(70);var x=g.e8n(4,1,4,1);i=t.right-h/x}if(i-h/2<t.left){g.S$R(15);var S=g.d0d(4,16,62,20);i=t.left+h/S}}s.fillStyle=a,u.roundRect({ctx:s,x:i-h/2,top:d,width:h,height:c,radius:3,fill:!0}),p=t.bottom-t.yAxis.bottom-c,s.beginPath(),n?(g.S$R(2),s.moveTo(g.d0d(p,i),d),g.s8b(56),s.lineTo(i,g.d0d(d,p,1)),g.S$R(7),s.lineTo(g.d0d(i,p),d),s.closePath(),s.fill()):(s.moveTo(i,d),g.s8b(2),s.lineTo(i,g.e8n(p,d)),s.strokeStyle=a,s.stroke()),s.textBaseline="top",s.fillStyle=r||u.chooseForegroundColor(a),s.fillStyle==a&&(f="#",f+="FFFFFF",m="#",m+="00",m+="000",m+="0",v="#FF",v+="F",v+="FF",v+="F",a.toUpperCase()==v?s.fillStyle=m:s.fillStyle=f),g.s8b(71),s.fillText(e,g.d0d(h,2,i,o),g.d0d(d,o,g.s8b(7)))}},u.ChartEngine.prototype.drawCurrentHR=function(){var t,e,i,a,r,n,s,o,l,c,h,u,d,p,f,m,v,y,b,x,S,k,C,w,D;if(t="dr",t+="awCu",t+="rrentHR",!this.runPrepend("drawCurrentHR",arguments)&&(a=this.mainSeriesRenderer||{},g.p$K(),!a.noCurrentHR)){for(var T in r=a.highLowBars||this.highLowBars[this.layout.chartType],this.charts)if(n="dat",n+="aSegment",s="d",s+="ataSet",c=(l=(o=this.charts[T]).panel).yAxis,!l.hidden&&!1!==c.drawCurrentPriceLabel&&!c.noDraw&&a.params&&((h=c.whichSet)||(h=s),!this.isHistoricalModeSet||"dataSegment"===h)){if(u=o[h].length,d=this.layout.candleWidth,h==n)for(;u>(o.width-this.micropixels+d/2+1)/d;)u--;if(u&&o[h][u-1]){p="C",p+="lose",(f=o.defaultPlotField)&&!r||(f=p);do{if(v=m=o[h][--u][f],0===u)break}while(null==v);"dataSet"==h&&o.currentQuote?v=o.currentQuote[f]:o[h].length>=2&&(g.S$R(2),(y=o[h][g.d0d(1,u)])&&(m=y[f])),v<m?(b="stx",b+="_curre",b+="nt_hr_d",b+="own",e=this.canvasStyle("stx_current_hr_down").backgroundColor,i=this.canvasStyle(b).color):(x="stx_curr",x+="ent_hr_up",e=this.canvasStyle(x).backgroundColor,i=this.canvasStyle("stx_current_hr_up").color),o.transformFunc&&(v=o.transformFunc(this,o,v)),k=Math.max(l.yAxis.printDecimalPlaces,l.chart.decimalPlaces),(c.maxDecimalPlaces||0===c.maxDecimalPlaces)&&(k=Math.min(k,c.maxDecimalPlaces)),S=c.priceFormatter?c.priceFormatter(this,l,v,k):this.formatYAxisPrice(v,l,k),C=this.pixelFromTransformedValue(v,l),this.createYAxisLabel(l,S,C,e,i),!0===this.preferences.currentPriceLine&&this.isHome()&&(w="da",w+="shed",D="l",D+="ine",this.plotLine(l.left,l.right,C,C,e,D,l.chart.context,l,{pattern:w,lineWidth:1,opacity:.8,globalCompositeOperation:"destination-over"}))}}this.runAppend(t,arguments)}},u.ChartEngine.prototype.getDefaultColor=function(){var t,e,i,a,r;for(this.defaultColor="#000000",g.p$K(),t=null,e=this.chart.container;!t||u.isTransparent(t);){if(!(i=getComputedStyle(e)))return;if(t=i.backgroundColor,u.isTransparent(t)&&(t="transparent"),!(e=e.parentNode)||!e.tagName)break}t?(a="#F",a+="F",a+="FFFF","transparent"==t&&(t=a),this.containerColor=t,u.isTransparent(t)?this.defaultColor="#000000":(r=u.hsv(t)[2],this.defaultColor=r>.65?"#000000":"#FFFFFF")):this.containerColor="#FFFFFF"},u.ChartEngine.prototype.startAsyncAction=function(){var t,e,i;this.pendingAsyncs||(this.pendingAsyncs=[]),t=-935837448,g.p$K(),e=-504876826,i=2;for(var a=1;g.T8I(a.toString(),a.toString().length,91382)!==t;a++)this.pendingAsyncs.push(!1),i+=2;g.X01(i.toString(),i.toString().length,92732)!==e&&this.pendingAsyncs.push(!0),this.pendingAsyncs.push(!0)},u.ChartEngine.prototype.registerChartDrawnCallback=function(t){return this.asyncCallbacks||(this.asyncCallbacks=[]),this.asyncCallbacks.push(t),{fc:t}},u.ChartEngine.prototype.unregisterChartDrawnCallback=function(t){for(var e=0;e<this.asyncCallbacks.length;e++)if(this.asyncCallbacks[e]==t.fc)return void this.asyncCallbacks.splice(e,1)},u.ChartEngine.prototype.makeAsyncCallbacks=function(){if(this.asyncCallbacks&&(!this.pendingAsyncs||!this.pendingAsyncs.length))for(var t=0;t<this.asyncCallbacks.length;t++)this.asyncCallbacks[t]()},u.ChartEngine.prototype.completeAsyncAction=function(){this.pendingAsyncs.pop(),this.makeAsyncCallbacks()},u.ChartEngine.prototype.draw=function(){var t,e,i,a,r,n,s;if(this.debug(),this.chart.canvas&&this.chart.dataSet&&this.chart.canvasHeight){g.S$R(59);var o=g.d0d(2,38,15,19);if(this.offset=this.layout.candleWidth*this.candleWidthPercent/o,u.clearCanvas(this.chart.canvas,this),this.masterData&&!this.runPrepend("draw",arguments)){for(i in this.defaultColor||this.getDefaultColor(),this.vectorsShowing=!1,this.drawPanels(),this.yAxisLabels=[],this.charts){e=this.charts[i],this.correctIfOffEdge(),this.createDataSegment(),r=this.createXAxis(e),this.initializeDisplay(e),this.drawXAxis(e,r);try{this.renderYAxis(e)}catch(t){if(t&&"reboot draw"===t.message)return this.draw();throw t}for(t in e.tmpWidth=Math.floor(this.layout.candleWidth*this.candleWidthPercent),e.tmpWidth%2==0&&(e.tmpWidth+=1,e.tmpWidth>this.layout.candleWidth&&(e.tmpWidth-=2)),e.tmpWidth<.5&&(e.tmpWidth=.5),this.plugins)(a=this.plugins[t]).display&&a.drawUnder&&a.drawUnder(this,e);this.chart.legend&&(this.chart.legend.colorMap=null),this.controls.baselineHandle&&(this.controls.baselineHandle.style.display="none"),this.rendererAction(e,"underlay"),u.Studies&&u.Studies.displayStudies(this,e,!0),this.displayChart(e),u.Studies&&u.Studies.displayStudies(this,e,!1),this.rendererAction(e,"overlay"),e.legend&&e.legend.colorMap&&e.legendRenderer&&e.legendRenderer(this,{chart:e,legendColorMap:e.legend.colorMap,coordinates:{x:e.legend.x,y:e.legend.y+e.panel.yAxis.top}})}for(i in this.charts)for(t in e=this.charts[i],this.plugins)(a=this.plugins[t]).display&&a.drawOver&&a.drawOver(this,e);for(var l in this.panels)this.panels[l].hidden||this.plotYAxisText(this.panels[l]);for(var c=0;c<this.yAxisLabels.length;c++)"series"==(n=this.yAxisLabels[c]).src&&n.args[6]&&!1===n.args[6].drawSeriesPriceLabels||this.createYAxisLabel.apply(this,n.args);for(i in this.createCrosshairs(),this.drawVectors(),this.drawCurrentHR(),g.p$K(),this.displayInitialized=!0,this.controls&&(s=this.manageTouchAndMouse&&(!this.mainSeriesRenderer||!this.mainSeriesRenderer.nonInteractive),this.controls.home&&(this.controls.home.style.display=s&&!this.isHome()?"block":"none"),this.controls.chartControls&&(this.controls.chartControls.style.display=s?"block":"none")),this.positionMarkers(),this.charts)e=this.charts[i],this.quoteDriver&&!this.animations.zoom.running&&this.quoteDriver.checkLoadMore(e);this.runAppend("draw",arguments),this.makeAsyncCallbacks()}}},u.ChartEngine.prototype.adjustBackingStore=function(t,e){var i,a,r,n,s,o;g.h9y(),this.devicePixelRatio=window.devicePixelRatio||1,this.devicePixelRatio<1&&(this.devicePixelRatio=1),i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,a=this.devicePixelRatio/i,this.useBackingStore?(!u.isAndroid||u.is_chrome||u.isFF)&&(r="p",r+="x",n="p",n+="x",s=t.width,o=t.height,g.s8b(3),t.width=g.e8n(a,s),g.s8b(3),t.height=g.e8n(a,o),g.S$R(7),t.style.width=g.e8n(s,n),g.S$R(7),t.style.height=g.d0d(o,r),e.scale(a,a),this.adjustedDisplayPixelRatio=a,this.backing={ratio:a,width:t.width,height:t.height,styleWidth:s,styleHeight:o}):this.devicePixelRatio=this.adjustedDisplayPixelRatio=1},u.ChartEngine.prototype.reconstituteBackingStore=function(){var t,e;this.useBackingStore&&(t=[this.chart.canvas],this.useBackgroundCanvas&&t.push(this.chart.backgroundCanvas),e=this.backing,t.forEach((function(t){g.h9y(),t.width!=e.width&&(t.width=e.width,t.height=e.height,t.context.scale(e.ratio,e.ratio))})),this.adjustedDisplayPixelRatio=e.ratio,g.h9y(),this.draw())},u.ChartEngine.prototype.disableBackingStore=function(){var t,e;this.useBackingStore&&(g.h9y(),t=[this.chart.canvas],this.useBackgroundCanvas&&t.push(this.chart.backgroundCanvas),e=this.backing,t.forEach((function(t){t.width!=e.styleWidth&&(t.width=e.styleWidth,g.p$K(),t.height=e.styleHeight,t.context.scale(1,1))})),this.adjustedDisplayPixelRatio=1,this.draw())},u.ChartEngine.prototype.getBackgroundCanvas=function(t){return t||(t=this.chart),g.h9y(),this.useBackgroundCanvas?t.backgroundCanvas:t.canvas},u.ChartEngine.prototype.resizeCanvas=function(){var t,e,i,a,r,n,s,o,l,c,h,u;if(g.h9y(),t=this.chart.canvas,e=this.chart.context,t&&e){this.floatCanvas.height=this.chart.tempCanvas.height=this.chart.backgroundCanvas.height=t.height=this.chart.container.clientHeight,i=-215727592,a=-227475158,r=2;for(var d=1;g.T8I(d.toString(),d.toString().length,65447)!==i;d++)this.floatCanvas.width=this.chart.tempCanvas.width=this.chart.backgroundCanvas.width=t.width=this.chart.container.clientWidth,this.adjustBackingStore(t,e),r+=2;g.X01(r.toString(),r.toString().length,115)!==a&&(this.floatCanvas.width=this.chart.tempCanvas.width=this.chart.backgroundCanvas.width=t.width=this.chart.container.clientWidth,this.adjustBackingStore(t,e)),this.adjustBackingStore(this.chart.tempCanvas,this.chart.tempCanvas.context),this.adjustBackingStore(this.floatCanvas,this.floatCanvas.context),this.adjustBackingStore(this.chart.backgroundCanvas,this.chart.backgroundCanvas.context)}for(var p in n=this.container.getBoundingClientRect(),this.top=n.top,this.left=n.left,this.canvasWidth=this.chart.canvasWidth=this.chart.container.clientWidth,this.right=this.left+this.canvasWidth,this.height=this.chart.container.clientHeight,this.width=this.right-this.left,0!==this.width||this.container.dimensionlessCanvas||(s="warning: zero width chart. Che",s+="ck CSS for chart container.",console.log(s)),this.bottom=this.top+this.height,this.calculateYAxisPositions(),this.chart.canvasRight=this.right,this.chart.canvasHeight=this.height,void 0===(o=this.layout.candleWidth)&&(o=8),this.charts){l=this.charts[p],this.setCandleWidth(o,l),l.scroll<l.width/o&&(l.scroll=Math.floor(l.width/o),c=Math.round(this.preferences.whitespace/this.layout.candleWidth),l.scroll-=c),h=10;try{g.S$R(34);var f=g.d0d(5,98,20);u=e.measureText("10:00").width*f}catch(t){u=100}for(;h>1&&!(this.chart.width/u>h);)h/=1.5;l.xAxis.autoComputedTickSizePixels=Math.round(this.chart.width/h),l.xAxis.autoComputedTickSizePixels<1&&(l.xAxis.autoComputedTickSizePixels=1)}},u.ChartEngine.prototype.setCandleWidth=function(t,e){e||(e=this.chart),t=this.constrainCandleWidth(t),this.layout.candleWidth=t,g.s8b(56);var i=g.d0d(12,5,6);e.maxTicks=Math.round(e.width/t)+i},u.ChartEngine.prototype.constrainCandleWidth=function(t){var e,i,a;return e=this.minimumCandleWidth,g.h9y(),i=this.maximumCandleWidth,a=this.animations.zoom,e&&t<e&&(t=e,a&&a.running&&a.stop()),i&&t>i&&(t=i,a&&a.running&&a.stop()),t},u.ChartEngine.prototype.resizeChart=function(t){var e;this.runPrepend("resizeChart",arguments)||(!1!==t&&(t=!0),t&&this.preAdjustScroll(),e=this.chart.canvasHeight,this.resizeCanvas(),t&&this.postAdjustScroll(),(this.displayInitialized||0!==this.chart.canvasHeight&&0===e)&&(this.adjustPanelPositions(),this.draw()),this.doDisplayCrosshairs(),this.updateChartAccessories(),this.runAppend("resizeChart",arguments))},u.ChartEngine.prototype.newChart=function(t,e,i,a,r){var n;return n={masterData:e,chart:i},u.extend(n,r,!0),this.loadChart(t,n,a)},u.ChartEngine.prototype.loadChart=function(t,e,i){var a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N;if(a="o",a+="bje",a+="c",a+="t",i||"function"!=typeof e){if(Array.isArray(e)){r=-2138033982,n=-1550967898,s=2;for(var q=1;g.X01(q.toString(),q.toString().length,80128)!==r;q++)e={masterData:e},s+=2;g.T8I(s.toString(),s.toString().length,44102)!==n&&(e={masterData:e}),e={masterData:e}}}else i=e,e={};if(e||(e={}),o=e.chart||this.chart,l=this.layout,(c=e.periodicity)&&(h=u.cleanPeriodicity(c.period?c.period:c.periodicity,c.interval,c.timeUnit),l.interval=h.interval,l.periodicity=h.period,l.timeUnit=h.timeUnit),d=o.symbol,p=u.clone(o.symbolObject),f=o.market,m=o.masterData,v=o.dataSet,y=o.moreAvailable,o.dataSet=[],o.masterData=[],o.moreAvailable=null,t?typeof t==a?(o.symbol=t.symbol,o.symbolObject=t):(o.symbol=t,o.symbolObject.symbol=t):(o.symbol=null,o.symbolObject={symbol:null}),o.inflectionPoint=null,this.marketFactory&&(b=this.marketFactory(o.symbolObject),this.setMarket(b,o)),g.p$K(),this.setMainSeriesRenderer(!0),x=e.span,(S=e.range)||x||!l){if(S&&x){k=546610038,C=-154261811,w=2;for(var O=1;g.X01(O.toString(),O.toString().length,49791)!==k;O++)x={},w+=2;g.X01(w.toString(),w.toString().length,83353)!==C&&(x={})}}else x=l.range?{}:l.setSpan,S=l.range||{};if(this.clearCurrentMarketData(o),D=this,!e.masterData&&this.quoteDriver)T=function(t){var e,a,r,n,s;if(e="m",e+="as",e+="te",e+="r",a="orphan",a+="e",a+="d",g.h9y(),t&&t!=a){o.symbol=d,o.symbolObject=p,o.market=f,g.s8b(1),r=g.e8n(0,"600265653"),n=596832007,s=2;for(var l=1;g.X01(l.toString(),l.toString().length,91251)!==r;l++)D.masterData=o.masterData=m,s+=2;g.X01(s.toString(),s.toString().length,66930)!==n&&(D.masterData=o.masterData=m),o.dataSet=v,o.moreAvailable=y}D.dispatch(D.currentlyImporting?"symbolImport":"symbolChange",{stx:D,symbol:o.symbol,symbolObject:o.symbolObject,prevSymbol:d,prevSymbolObject:p,action:e}),i&&i.call(D,t)},S&&Object.keys(S).length&&this.setRange?(delete e.span,delete l.setSpan,this.chart.masterData=null,this.displayInitialized=!1,c&&(S.periodicity=c),S.forceLoad=!0,this.setRange(S,T)):x&&x.base&&this.setSpan?(x.multiplier=x.multiplier||1,this.chart.masterData=null,this.displayInitialized=!1,c&&(x.maintainPeriodicity=!0),x.forceLoad=!0,this.setSpan(x,T)):this.quoteDriver.newChart({symbol:o.symbol,symbolObject:o.symbolObject,chart:o,initializeChart:!0},(function(t){t||(D.adjustPanelPositions(),D.quoteDriver.updateSubscriptions(),e.stretchToFillScreen&&D.fillScreen()),T.apply(D,arguments)}));else{if(A="sy",A+="mbolChang",A+="e",!e.masterData){M=-2132312675,L=-820101697,_=2;for(var H=1;g.X01(H.toString(),H.toString().length,4261)!==M;H++)P="Warning: No ma",P+="sterData spec",P+="ified and no QuoteFeed configured",console.log(P),_+=2;g.X01(_.toString(),_.toString().length,74347)!==L&&console.log("")}if(o.symbol||(o.symbol=""),this.initializeChart(),F=this.doCleanupGaps(e.masterData,o),this.setMasterData(F,o,{noCleanupDates:!0}),o.endPoints={},F&&F.length&&(o.endPoints={begin:F[0].DT,end:F[F.length-1].DT}),this.createDataSet(),S&&Object.keys(S).length&&this.setRange)this.setRange(S);else if(x&&x.multiplier&&x.base&&this.setSpan){E=-649546495,I=-64255099,N=2;for(var R=1;g.X01(R.toString(),R.toString().length,83729)!==E;R++)this.setSpan({maintainPeriodicity:!1,multiplier:x.multiplier,base:x.base}),g.s8b(0),N+=g.d0d(2,"2");g.X01(N.toString(),N.toString().length,58116)!==I&&this.setSpan({maintainPeriodicity:!1,multiplier:x.multiplier,base:x.base}),this.setSpan({maintainPeriodicity:!0,multiplier:x.multiplier,base:x.base})}else e.stretchToFillScreen?this.fillScreen():F&&F.length?this.home():this.clear();this.adjustPanelPositions(),D.dispatch(D.currentlyImporting?"symbolImport":A,{stx:D,symbol:o.symbol,symbolObject:o.symbolObject,prevSymbol:d,prevSymbolObject:p,action:"master"}),i&&i.call(D)}},u.ChartEngine.prototype.loadBlankChart=function(){this.loadChart(null,[])},u.ChartEngine.prototype.clear=function(){var t;for(var e in this.displayInitialized=!1,this.layout.studies)t=this.layout.studies[e],u.Studies.removeStudy(this,t);this.controls.chartControls&&(this.controls.chartControls.style.display="none"),this.chart.panel.title.innerHTML="",this.chart.panel.title.appendChild(document.createTextNode(this.chart.panel.display))},u.ChartEngine.prototype.fillScreen=function(){var t,e,i,a,r;t=this.chart,e=this.layout.candleWidth,i=t.width-this.preferences.whitespace,g.h9y(),(a=t.dataSet.length)*e>=i?this.draw():(this.mainSeriesRenderer&&this.mainSeriesRenderer.standaloneBars||this.standaloneBars[this.layout.chartType]||a--,g.S$R(6),r=g.d0d(i,a),this.setCandleWidth(r,t),this.home({maintainWhitespace:!0}))},u.ChartEngine.prototype.setMasterData=function(t,e,i){var a,r,n,s,o,l,c,h;for(a="ch",a+="a",a+="r",a+="t",e||(e=this.chart),this.marketFactory&&(r=this.marketFactory(e.symbolObject),this.setMarket(r,e)),i||(i={}),i.noCleanupDates||this.doCleanupDates(t,this.layout.interval),e.masterData=t,e.name==a&&(this.masterData=t),s=null,n=0;t&&n<t.length;n++)o=t[n],null===s&&(l="n",l+="umb",l+="e",l+="r","number"==typeof o.Close?(c="C",c+="lo",s=c+="se"):typeof o.Value===l&&(s="Value")),"Value"===s&&"number"==typeof o.Value&&(o.Close=o.Value),o.DT?("[object Date]"!=Object.prototype.toString.call(o.DT)&&(o.DT=new Date(o.DT)),o.Date&&17==o.Date.length||(o.Date=u.yyyymmddhhmmssmmm(o.DT))):o.Date?o.DT=u.strToDateTime(o.Date):console.log("setMasterData : Missing DT and Date on masterData object"),o.Volume&&"number"!=typeof o.Volume&&(o.Volume=parseInt(o.Volume,10)),t.length-n<50&&this.updateCurrentMarketData(o,e,null,{fromTrade:!0});for(n in g.h9y(),e.decimalPlaces=this.callbacks.calculateTradingDecimalPlaces({stx:this,chart:e,symbol:e.symbolObject.symbol,symbolObject:e.symbolObject}),this.setDisplayDates(t),e.roundit=Math.pow(10,e.decimalPlaces),this.plugins)(h=this.plugins[n]).display&&h.setMasterData&&h.setMasterData(this,e)},u.ChartEngine.prototype.setMasterDataRender=function(t,e,i){i||(i=this.chart),i.symbol||(i.symbol=""),this.setMasterData(e,i),e&&(i.endPoints={},e.length&&(i.endPoints={begin:e[0].DT,end:e[e.length-1].DT},i.symbol=t)),this.createDataSet(),this.initializeChart(),this.draw(),e&&e.length||(i.symbol=null,this.clear()),this.adjustPanelPositions()},u.ChartEngine.prototype.getSymbols=function(t){var e,i,a,r,n,s,o,l,c,h,d,p;for(var f in t||(t={}),e=[],a=this.layout,this.charts)for(var m in(s=this.charts[f]).symbolObject&&s.symbolObject.symbol&&e.push(v(s.symbol,s.symbolObject,a)),s.series)o="exclu",o+="de-ge",o+="nerated",l="in",l+="clude-paramete",l+="rs",(c=s.series[m].parameters).data&&!c.data.useDefaultQuoteFeed||(n=c.symbolObject,(i=v(r=c.symbol,n,a)).id=m,t[l]&&(i.parameters=c),t["exclude-studies"]&&"study"==c.bucket||t[o]&&n.generator||e.push(i));function v(t,e,i){return g.p$K(),{symbol:t,symbolObject:e,periodicity:i.periodicity,interval:i.interval,timeUnit:i.timeUnit,setSpan:i.setSpan}}if(t["breakout-equations"]){h={};for(var y=0;y<e.length;y++)if(r=e[y].symbol,this.isEquationChart(r)){if(d=u.formatEquation(r)){p=d.symbols;for(var b=0;b<p.length;b++)h[p[b]]=v(p[b],e[y].symbolObject,e[y])}}else h[r]=v(r,e[y].symbolObject,e[y]);for(var x in e=[],h)e.push(h[x])}return e},u.ChartEngine.prototype.setDisplayDate=function(t){var e,i,a;if(!u.ChartEngine.isDailyInterval(this.layout.interval)){e=t.DT,g.s8b(72);var r=g.d0d(890,1800,11,18e3);i=e.getSeconds()*r+e.getMilliseconds(),this.displayZone&&(a=new p.Date(e.getTime(),this.displayZone),e=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes()),e=new Date(e.getTime()+i)),t.displayDate=e}},u.ChartEngine.prototype.setDisplayDates=function(t){var e;if(t&&!u.ChartEngine.isDailyInterval(this.layout.interval))for(var i=0;i<t.length;i++)(e=t[i]).DT&&this.setDisplayDate(e)},u.ChartEngine.prototype.streamTrade=function(t,e,i,a){var r,n,s,o,l,c,h;r=this.chart,a||(a={}),a.chart&&(r=a.chart),g.h9y(),a.fillGaps=this.streamParameters.fillGaps,g.S$R(73),s=(n=g.d0d("object",typeof t))?t.last:arguments[0],o=n?t.volume:arguments[1],l=n?t.bid:null,c=n?t.ask:null,n||(g.S$R(13),e=arguments[g.d0d("2",32)],i=arguments[3]),i&&(a.secondarySeries=i),h={DT:e,Last:s,Volume:o,Bid:l,Ask:c},this.updateChartData(h,r,a)},u.ChartEngine.prototype.appendMasterData=function(t,e,i){this.updateChartData(t,e,i)},u.ChartEngine.prototype.updateChartData=function(t,e,i){var a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F;function E(t,a){var r,l,c,f;if(g.h9y(),r=o[t],h&&(r=r[h]||{}),null===a.Close)void 0!==r.Open&&(a.Open=null),void 0!==r.High&&(a.High=null),void 0!==r.Low&&(a.Low=null),void 0!==r.Volume&&(a.Volume=null);else{if(n){a.Volume&&(a.Volume=parseInt(a.Volume,10)),l=-646582426,c=1224179880,f=2;for(var m=1;g.X01(m.toString(),m.toString().length,90418)!==l;m++)s||(a.Volume+=r.Volume),f+=2;g.X01(f.toString(),f.toString().length,38884)!==c&&~s&&(a.Volume/=r.Volume)}else!u.isValidNumber(a.Volume)&&r.Volume&&(a.Volume=r.Volume);for(d in i.allowReplaceOHL||(u.isValidNumber(r.Open)&&(a.Open=r.Open),u.isValidNumber(r.High)&&u.isValidNumber(a.High)&&r.High>a.High&&(a.High=r.High),u.isValidNumber(r.Low)&&u.isValidNumber(a.Low)&&r.Low<a.Low&&(a.Low=r.Low)),u.isValidNumber(a.Close)||(a.Close=r.Close),u.isValidNumber(a.Open)||(a.Open=r.Open),u.isValidNumber(a.High)||(a.High=r.High),u.isValidNumber(a.Low)||(a.Low=r.Low),u.isValidNumber(a.Bid)||(a.Bid=r.Bid),u.isValidNumber(a.Ask)||(a.Ask=r.Ask),e.series)void 0===a[p=e.series[d].parameters.symbolObject.symbol]&&void 0!==r[p]&&(a[p]=r[p])}}function I(){var e,a,r;if(e="t",e+="ick",a="[object Dat",a+="e]",n=!0,i.useAsLastSale&&i.useAsLastSale.aggregatedVolume&&(s=!0),t.constructor===Array){g.S$R(74);var o=g.e8n(13,3,18,1,9);r=t[t.length-o],(t={}).DT=r.DT,t.Close=r.Close,t.Volume=r.Volume}else t.Last&&(t.Close=t.Last,delete t.Last);t.DT&&Object.prototype.toString.call(t.DT)!=a&&(t.DT=new Date(t.DT)),g.p$K(),t.DT&&"Invalid Date"!=t.DT||(t.DT=new Date),l.interval!=e&&N(),t.Open=t.Close,t.High=t.Close,t.Low=t.Close}function N(){var a,r,n,s,h,d,p,g,f,m;if(a="w",a+="e",a+="ek",r={market_tz:e.market.market_def.market_tz||null},"month"!=(n=l.interval)&&n!=a||(c.dontRoll||(n="day"),r=c.chart.market.market_def),s=new u.Market(r),h={begin:o&&o.length?o[o.length-1].DT:t.DT,interval:n,periodicity:1,timeUnit:l.timeUnit},p=(d=s.newIterator(h)).next(),o){if(t.DT<p){for(g=0,m=d.previous(),f=t.DT,i.appending=!0;f<m&&g<1e3;)i.appending=!1,m=d.previous(),g++;t.DT=m,i.updating=!i.appending}else if(t.DT>=p){for(g=0,f=t.DT;f>p&&g<1e3;)t.DT=p,p=d.next(),g++;i.appending=!0}}else t.DT=new Date(+d.previous())}if(a="updateC",a+="hartData",r="app",r+="end",r+="MasterData",i||(i={}),e||(e=this.chart),n=!1,s=!1,o=e.masterData,l=this.layout,this.dataZone,c=this,h=i.secondarySeries,i.noCleanupDates||this.doCleanupDates(t,l.interval),(i.useAsLastSale||t.constructor==Object&&(t.Last||0===t.Last))&&I(),t&&t.constructor==Object&&(t=[t]),t&&t.length&&!this.runPrepend("appendMasterData",[t,e,i])&&!this.runPrepend("updateChartData",[t,e,i])){o||(o=[]),g.s8b(75);var q=g.e8n(16,26,9);if(f=o.length-q,m=!1,i.fillGaps&&z(),t.length){for(var O=0;O<t.length;O++){for(y=(v=t[O]).DT,b=v.Date,y&&"[object Date]"!=Object.prototype.toString.call(y)&&(v.DT=y=new Date(y)),y&&(b&&17==b.length||(v.Date=u.yyyymmddhhmmssmmm(v.DT))),y||(y=v.DT=u.strToDateTime(b)),!u.isValidNumber(v.Close)&&u.isValidNumber(v.Value)&&(v.Close=v.Value);f>=0&&f<o.length;){if((x=o[f].DT)||(x=u.strToDateTime(o[f].Date)),x.getTime()<=y.getTime()){if(m=!0,g.s8b(3),S=g.d0d(1,"0"),x.getTime()<y.getTime()){if(f<o.length-1&&(o[f+1].DT||u.strToDateTime(o[f+1].Date)).getTime()<=y.getTime()){f++;continue}S=1}if(i.deleteItems){S||U(f,y);break}"tick"==l.interval&&!1!==i.firstLoop&&(S=1),S||E(f,v),u.isValidNumber(v.Close)&&(u.isValidNumber(v.Open)||(v.Open=v.Close),k=Math.max(v.Open,v.Close),C=Math.min(v.Open,v.Close),(!u.isValidNumber(v.High)||v.High<k)&&(v.High=k),(!u.isValidNumber(v.Low)||v.Low>C)&&(v.Low=C)),v.Volume&&!u.isValidNumber(v.Volume)&&(v.Volume=parseInt(v.Volume,10)),f+=S,h?(w="t",w+="i",w+="c",w+="k",t.length-O<50&&this.updateCurrentMarketData(v,e,h,{fromTrade:!0}),l.interval==w&&void 0===v.Close||(S&&(o.splice(f,0,{DT:v.DT}),this.setDisplayDate(o[f])),o[f][h]=v)):(t.length-O<50&&this.updateCurrentMarketData(v,e,null,{fromTrade:!0}),"tick"==l.interval&&void 0===v.Close||(o.splice(f,S?0:1,v),this.setDisplayDate(v)));break}f+=m?1:-1}f<0&&(h?(D="ti",D+="c",D+="k",this.updateCurrentMarketData(v,e,h,{fromTrade:!0}),l.interval==D&&void 0===v.Close||(o.splice(0,0,{DT:v.DT}),this.setDisplayDate(o[0]),o[0][h]=v)):(T="t",T+="ick",this.updateCurrentMarketData(v,e,null,{fromTrade:!0}),l.interval==T&&void 0===v.Close||(o.splice(0,0,v),this.setDisplayDate(v))),m=!0,f=0)}o.length&&(this.masterData=e.masterData=o),this.maxMasterDataSize&&(o=e.masterData=this.masterData=o.slice(-this.maxMasterDataSize)),A=h?this.getSeries({symbol:h,chart:e}):[e];for(var H=0;H<A.length;H++)(!(M=A[H]).endPoints.begin||M.endPoints.begin>t[0].DT)&&(M.endPoints.begin=t[0].DT),(!M.endPoints.end||M.endPoints.end<t[t.length-1].DT)&&(M.endPoints.end=t[t.length-1].DT),L=M.parameters&&M.parameters.field||e.defaultPlotField,(_=this.getFirstLastDataRecord(t,L,!0))&&(!M.lastQuote||M.lastQuote.DT<=_.DT)&&(M.lastQuote=_),h&&i.deleteItems&&(M.lastQuote=this.getFirstLastDataRecord(o,h,!0)[h]);for(var R in this.plugins)(P=this.plugins[R]).display&&P.appendMasterData&&P.appendMasterData(this,t,e);this.masterData&&this.masterData.length||(this.masterData=o),g.h9y(),i.noCreateDataSet||(++(F=this.streamParameters).count>F.maxTicks||i.bypassGovernor?(clearTimeout(F.timeout),this.createDataSet(null,null,i),this.draw(),this.updateChartAccessories(),F.count=0,F.timeout=-1):-1==F.timeout&&(F.timeout=setTimeout((function(){c.createDataSet(null,null,i),c.draw(),c.updateChartAccessories(),g.s8b(0),c.streamParameters.count=g.d0d(0,"0"),g.p$K(),c.streamParameters.timeout=-1}),F.maxWait))),this.runAppend(r,arguments),this.runAppend(a,arguments)}}function U(t,i){var a,r,n,s,l,u,f,m,v;if(g.p$K(),h){r=579721563,n=627600987,s=2;for(var y=1;g.X01(y.toString(),y.toString().length,25511)!==r;y++)delete o[t][h],s+=2;if(g.T8I(s.toString(),s.toString().length,36075)!==n&&o[t][h],c.cleanupGaps){if(l="g",l+="a",l+="p",a={DT:i,Close:null},c.cleanupGaps!=l&&o[t-1]&&o[t-1][h]){a.Close=o[t-1][h].Close,a.High=a.Low=a.Open=a.Close,u=-1961949045,f=385156900,m=2;for(var b=1;g.X01(b.toString(),b.toString().length,84466)!==u;b++)a.Volume=0,m+=2;g.T8I(m.toString(),m.toString().length,3753)!==f&&(a.Volume=8)}o[t][h]=a}}else{for(d in a={DT:(v=o.splice(t,1)[g.d0d(96,"0",g.S$R(36))]).DT,Close:null,needed:!1},e.series)void 0!==v[p=e.series[d].parameters.symbolObject.symbol]&&(a[p]=v[p],delete a.needed);c.cleanupGaps&&"gap"!=c.cleanupGaps&&(delete a.needed,"gap"!=c.cleanupGaps&&o[t-1]&&(a.Close=o[t-1].Close,a.High=a.Low=a.Open=a.Close,a.Volume=0)),!1!==a.needed&&(o.splice(t,0,a),c.setDisplayDate(a))}}function z(){var i,a,r;if(i=null,g.s8b(1),a=g.e8n(0,"0"),o.length&&(i=c.getFirstLastDataRecord(o,h||e.defaultPlotField,!0))){if(t[t.length-1].DT<=i.DT)return;for(;a<t.length;a++){if(+t[a].DT==+i.DT){c.getFirstLastDataRecord([t[a]],h||e.defaultPlotField)&&(i=null);break}if(t[a].DT>i.DT)break}}r=t.slice(a),i&&r.unshift(h?i[h]:i),r=c.doCleanupGaps(r,e),i&&r.shift(),t=t.slice(0,a).concat(r)}},u.ChartEngine.prototype.updateCurrentMarketData=function(t,e,i,a){var r,n,s,o,l,c,h,d,p,f,m;if(r="B",r+="i",r+="d",r+="L2",n="B",n+="id",s="upd",s+="ateCurrentMa",s+="r",s+="ketData",t&&t.DT){if(e||(e=this.chart),o=a&&a.fromTrade,l=t.DT,!o&&"tick"!=this.layout.interval){if(e.market.market_def){if(!e.market.isMarketDate(t.DT))return;if(!u.ChartEngine.isDailyInterval(this.layout.interval)&&null===e.market.getSession(t.DT))return}c={begin:t.DT,interval:this.layout.interval,periodicity:this.layout.periodicity,timeUnit:this.layout.timeUnit},h=new u.Market(e.market.market_def),this.extendedHours&&this.extendedHours.filter&&h.enableAllAvailableSessions(),(d=h.newIterator(c)).next(),t.DT=d.previous()}this.runPrepend(s,arguments)||(p=e.currentMarketData,i&&(p[i]||(p[i]={}),p=p[i]),["Last",n,"Ask"].forEach((function(e){var i;i="n",i+="u",i+="mb",i+="er",t[e]&&typeof t[e]==i&&(!p[e]||!p[e].DT||p[e].DT<=t.DT)&&(p[e]={DT:t.DT,Price:t[e],Size:t[e+"Size"],Timestamp:l})})),[r,"AskL2"].forEach((function(e){g.h9y(),t[e]&&t[e]instanceof Array&&(!p[e]||!p[e].DT||p[e].DT<=t.DT)&&(p[e]={DT:t.DT,Price_Size:t[e],Timestamp:l})})),t.Close&&(!p.Last||p.Last.DT<=t.DT)&&(f=t.Close,((m=a&&a.finalClose)||0===m)&&(f=m),p.Last={DT:t.DT,Price:f,Size:void 0===t.LastSize&&"tick"==this.layout.interval?t.Volume:t.LastSize,Timestamp:t.LastTime||l}),p.touched=new Date,o||delete t.Last,this.runAppend("updateCurrentMarketData",arguments))}},u.ChartEngine.prototype.clearCurrentMarketData=function(t,e){var i,a,r;if(!this.runPrepend("clearCurrentMarketData",arguments)){if(a=[],t)a.push(t);else for(i in this.charts)a.push(this.charts[i]);for(i=0;i<a.length;i++)if(r=a[i].currentMarketData,e)delete r[e];else for(var n in r)r[n]=void 0;this.runAppend("clearCurrentMarketData",arguments)}},u.ChartEngine.prototype.setMaxTicks=function(t,e){var i;e||(e={}),(t=Math.round(t))<2&&(t=2),i=e.padding?e.padding:0,this.layout.candleWidth=(this.chart.width-i)/t,this.layout.candleWidth||(this.layout.candleWidth=8),this.chart.maxTicks=Math.round(this.chart.width/this.layout.candleWidth-.499),(e.padding||0===e.padding)&&(g.s8b(7),this.chart.scroll=g.d0d(t,1))},u.ChartEngine.prototype.construct=function(){var t,e;this.createChartPanel&&(t="ch",t+="a",t+="rt",e="c",e+="h",e+="art",this.stackPanel(e,t,1),this.adjustPanelPositions(),this.chart.panel=this.panels[this.chart.name]),g.S$R(0),this.cx=g.e8n(0,"0"),this.cy=0,this.micropixels=0,this.callbackListeners={doubleTap:[],drawing:[],drawingEdit:[],layout:[],longhold:[],move:[],newChart:[],preferences:[],rightClick:[],scroll:[],studyOverlayEdit:[],studyPanelEdit:[],symbolChange:[],symbolImport:[],tap:[],theme:[],undoStamp:[]},this.longHoldTime=700},u.ChartEngine.prototype.addDomEventListener=function(t,e,i,a){g.p$K(),t.addEventListener(e,i,a),this.eventListeners.push({element:t,event:e,function:i,options:a})},u.ChartEngine.prototype.addEventListener=function(t,e){var i;if("*"===t)for(var a in this.callbackListeners)this.callbackListeners[a].push(e);else if(t instanceof Array)for(var r=0;r<t.length;r++)this.callbackListeners[t[r]].push(e);else{if(!(i=this.callbackListeners[t]))throw new Error("Attempted to add an invalid listener.");i.push(e)}return{type:t,cb:e}},u.ChartEngine.prototype.removeEventListener=function(t,e){var i,a;if(t&&"object"==typeof t||(t={type:t,cb:e}),i=function(t,e){g.h9y();for(var i=0;i<t.length;i++)if(t[i]===e)return g.S$R(13),void t.splice(i,g.d0d("1",0))},a=this.callbackListeners,"*"!==t.type){if(!a[t.type])throw new Error("Attempted to remove an invalid listener.");i(a[t.type],t.cb)}else for(var r in a)i(a[r],t.cb)},u.ChartEngine.prototype.dispatch=function(t,e){var i;if(this.callbacks[t]&&this.callbacks[t].call(this,e),i=this.callbackListeners[t])for(var a=0;a<i.length;a++)if(!0===i[a].call(this,e))return!0;if(i=this.callbackListeners["*"])for(var r=0;r<i.length;r++)if(!0===i[r].call(this,e))return!0;return!1},u.ChartEngine.prototype.getYAxisByName=function(t,e){var i;if("string"==typeof t&&(t=this.panels[t]),t){if(e===t.yAxis.name)return t.yAxis;for(i=0;t.yaxisLHS&&i<t.yaxisLHS.length;i++)if(t.yaxisLHS[i].name===e)return t.yaxisLHS[i];for(i=0;t.yaxisRHS&&i<t.yaxisRHS.length;i++)if(t.yaxisRHS[i].name===e)return t.yaxisRHS[i];g.p$K()}},u.ChartEngine.prototype.getYAxisByField=function(t,e){var i,a,r,n,s,o,l;if(g.p$K(),e){for(i in this.layout.studies)if((a=this.layout.studies[i]).panel==t.name&&a.outputMap.hasOwnProperty(e))return a.getYAxis(this);for(i in this.chart.seriesRenderers){n=this.chart.seriesRenderers[i];for(var c=0;c<n.seriesParams.length;c++)if(s="-",s+="-",s+=">",n.params.panel==t.name){if((l=(o=n.seriesParams[c]).field)||n.highLowBars||(l=this.defaultPlotField||"Close"),o.symbol&&o.subField&&(l+=s+o.subField),e==l)return n.params.yAxis||t.yAxis;o.field&&o.field==e.split("--\x3e")[0]&&(r=n.params.yAxis||t.yAxis)}}if(r)return r}},u.ChartEngine.prototype.deleteYAxisIfUnused=function(t,e){var i,a,r;if("string"==typeof t&&(t=this.panels[t]),e&&t){for(var n=0;n<e.renderers.length;n++)if((i=this.chart.seriesRenderers[e.renderers[n]])&&i.params.panel==t.name)return;if(g.p$K(),e.name!==t.yAxis.name||t.yaxisRHS.length+t.yaxisLHS.length!==1){for(a=0;t.yaxisRHS&&a<t.yaxisRHS.length;a++)t.yaxisRHS[a]===e?t.yaxisRHS[a]=null:r||(r=t.yaxisRHS[a]);for(a=0;t.yaxisLHS&&a<t.yaxisLHS.length;a++)t.yaxisLHS[a]===e?t.yaxisLHS[a]=null:r||(r=t.yaxisLHS[a]);t.yaxisRHS=t.yaxisRHS.filter(s),t.yaxisLHS=t.yaxisLHS.filter(s),r&&e.name===t.yAxis.name&&(t.yAxis=r),this.calculateYAxisPositions()}}function s(t){return g.s8b(76),g.d0d(null,t)}},u.ChartEngine.prototype.addYAxis=function(t,e){var i,a,r,n,s,o,l;if(i="l",i+="e",i+="f",i+="t",a="s",a+="tri",a+="n",typeof t==(a+="g")&&(t=this.panels[t]),e&&t){for(t.yaxisLHS||(r="l",r+="e",r+="f",r+="t",n="le",n+="f",n+="t",t.yaxisLHS=[],t.yaxisRHS=[],t.yAxis.position==n||"right"!=t.yAxis.position&&t.chart.panel.yAxis.position==r?t.yaxisLHS.push(t.yAxis):t.yaxisRHS.push(t.yAxis)),o=[],s=(l=t.yaxisLHS).length-1;s>=0;s--)if(l[s].name===e.name){if("right"!=e.position)return l[s];o=l.splice(s,1)}for(s=(l=t.yaxisRHS).length-1;s>=0;s--)if(l[s].name===e.name){if("left"!=e.position)return l[s];o=l.splice(s,1)}return e.position===i||"right"!=e.position&&"left"==t.chart.panel.yAxis.position?t.yaxisLHS.unshift(e):t.yaxisRHS.push(e),e.height=t.yAxis.height,e.idealTickSizePixels=null,o[0]==t.yAxis&&(t.yAxis=e),this.calculateYAxisMargins(e),e}},u.ChartEngine.prototype.calculateYAxisPositions=function(){var t,e,i,a,r,n,s,o,l,c,h,u,d,p,f,m,v,y,b;for(var x in t=[],this.charts)this.charts[x].hidden||this.charts[x].panel.hidden||t.push(x);for(var S in this.panels)(e=this.panels[S]).name===e.chart.name||e.hidden||t.push(S);for(this.drawBorders,i=0,a=0,n=0;n<t.length;n++)if(l="rig",l+="ht",s=this.panels[t[n]]){for(s.yaxisLHS||(s.yaxisLHS=[],s.yaxisRHS=[]),c=s.yaxisLHS,h=s.yaxisRHS,(u=s.yAxis.position)&&"none"!=u||(u=s.chart.yAxis.position||l),c.length||h.length||("left"==u?c.push(s.yAxis):h.push(s.yAxis)),d=[],p=[],r=c.length-1;r>=0;r--)("right"==c[r].position||"left"!=c[r].position&&"right"==u)&&(d=d.concat(c.splice(r,1)));for(r=h.length-1;r>=0;r--)f="le",f+="f",f+="t",("left"==h[r].position||"right"!=h[r].position&&u==f)&&(p=p.concat(h.splice(r,1)));for(s.yaxisLHS=p.concat(c),s.yaxisRHS=h.concat(d),s.yAxis.width||0===s.yAxis.width||(s.yAxis.width=this.yaxisWidth),g.S$R(13),s.yaxisTotalWidthRight=g.d0d("0",0),g.S$R(3),s.yaxisTotalWidthLeft=g.d0d(1,"0"),m=s.yaxisLHS.concat(s.yaxisRHS),r=0;r<m.length;r++)v="l",v+="e",v+="f",v+="t",!(o=m[r]).noDraw&&o.width&&("left"==o.position||u==v&&!o.position?s.yaxisTotalWidthLeft+=o.width:s.yaxisTotalWidthRight+=o.width);s.yaxisTotalWidthLeft>i&&(i=s.yaxisTotalWidthLeft),s.yaxisTotalWidthRight>a&&(a=s.yaxisTotalWidthRight)}for(n=0;n<t.length;n++)if(s=this.panels[t[n]]){for(y=s.name===s.chart.name,b=i,r=s.yaxisLHS.length-1;r>=0;r--)(o=s.yaxisLHS[r]).noDraw||(b-=o.width,o.left=b);for(b=this.width-a,r=0;r<s.yaxisRHS.length;r++)(o=s.yaxisRHS[r]).noDraw||(o.left=b,b+=o.width);void 0!==this.yaxisLeft&&(s.chart.yaxisPaddingRight=this.yaxisLeft),s.yaxisCalculatedPaddingRight=a,(s.chart.yaxisPaddingRight||0===s.chart.yaxisPaddingRight)&&(s.yaxisCalculatedPaddingRight=s.chart.yaxisPaddingRight),s.yaxisCalculatedPaddingLeft=i,(s.chart.yaxisPaddingLeft||0===s.chart.yaxisPaddingLeft)&&(s.yaxisCalculatedPaddingLeft=s.chart.yaxisPaddingLeft),y||s.chart.panel.hidden?(s.left=s.yaxisCalculatedPaddingLeft,s.right=this.width-s.yaxisCalculatedPaddingRight):(s.left=s.chart.panel.left,s.right=s.chart.panel.right),s.width=s.right-s.left,s.handle&&(s.handle.style.left=s.left+"px",s.handle.style.width=s.width+"px"),(y||s.chart.panel.hidden)&&(s.chart.panel.left=s.chart.left=s.left,s.chart.panel.right=s.chart.right=s.right,s.chart.panel.width=s.chart.width=Math.max(s.right-s.left,0))}this.setCandleWidth(this.layout.candleWidth),this.adjustPanelPositions()},u.ChartEngine.prototype.getYAxisCurrentPosition=function(t,e){var i,a,r;if(g.p$K(),i="n",i+="on",i+="e",!t.width)return i;a=e.yaxisLHS;for(var n=0;n<a.length;n++)if(r="l",r+="e",r+="f",r+="t",a[n].name==t.name)return r;return"right"},u.ChartEngine.prototype.setYAxisPosition=function(t,e){t.position=e,t.width="none"==e?0:u.ChartEngine.YAxis.prototype.width,g.h9y(),this.calculateYAxisPositions(),this.draw()},u.ChartEngine.prototype.initializeChart=function(t){var e,i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A;if(e="2",e+="d",i="c",i+="an",i+="va",i+="s",g.h9y(),a="n",a+="o",a+="n",a+="e",r="0",r+="p",r+="x",n="stx-canvas-sh",n+="im",s="0p",s+="x",o="ca",o+="nva",o+="s",l="i",l+="nitializeCha",l+="rt",!this.runPrepend(l,arguments)){for(var M in this.chart.symbolObject.symbol||(this.chart.symbolObject.symbol=this.chart.symbol),this.locale&&this.setLocale(this.locale),!this.displayZone&&u.ChartEngine.defaultDisplayTimeZone&&this.setTimeZone(null,u.ChartEngine.defaultDisplayTimeZone),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.micropixels=0,t?this.chart.container=t:t=this.chart.container,t.stx=this,t.CIQRegistered||(t.CIQRegistered=!0,u.ChartEngine.registeredContainers.push(t)),this.registerHTMLElements(),c=this.chart.canvas,h=this.chart.backgroundCanvas,d=this.chart.tempCanvas,p=this.floatCanvas,f=this.chart.canvasShim,c&&document.createElement("canvas").getContext?(c.id||(t.removeChild(c),this.chart.canvas=null),d&&!d.id&&(t.removeChild(d),this.chart.tempCanvas=null),p&&!p.id&&(t.removeChild(p),this.floatCanvas=null),h&&!h.id&&(t.removeChild(h),this.chart.backgroundCanvas=null)):this.setCandleWidth(this.layout.candleWidth),this.chart.backgroundCanvas||(h=this.chart.backgroundCanvas=document.createElement(o)),t.appendChild(h),h.style.position="absolute",h.style.left=s,h.context=h.getContext("2d"),h.context.lineWidth=1,this.chart.canvasShim||(f=this.chart.canvasShim=document.createElement("div")),f.className=n,t.appendChild(f),this.chart.canvas||(c=this.chart.canvas=document.createElement("canvas")),t.appendChild(c),c.style.position="absolute",c.style.left=r,c.context=this.chart.context=c.getContext("2d"),c.context.lineWidth=1,this.chart.tempCanvas||(d=this.chart.tempCanvas=document.createElement("canvas")),t.appendChild(d),d.style.position="absolute",d.style.left="0px",d.context=this.chart.tempCanvas.getContext("2d"),d.context.lineWidth=1,d.style.display=a,this.floatCanvas||(p=this.floatCanvas=document.createElement(i)),t.appendChild(p),p.style.position="absolute",p.style.left="0px",p.context=p.getContext(e),p.context.lineWidth=1,p.style.display="none",this.resizeCanvas(),u.isAndroid&&(this.chart.tempCanvas.ontouchstart=function(t){t.preventDefault&&t.preventDefault()},this.floatCanvas.ontouchstart=function(t){g.h9y(),t.preventDefault&&t.preventDefault()}),m=this.chart,v=this.panels,m.panel.display=m.symbol,m.symbolDisplay&&(m.panel.display=m.symbolDisplay),this.adjustPanelPositions(),this.chart.panel=v[m.name],v){y=v[M].yaxisLHS.concat(v[M].yaxisRHS);for(var L=0;L<y.length;L++)y[L].height=v[M].yAxis.height,this.calculateYAxisMargins(y[L])}var _,P,F,E,I;for(var N in this.initialWhitespace=this.preferences.whitespace,m.dataSet&&m.dataSet.length>0&&(m.scroll=Math.floor(m.width/this.layout.candleWidth),b=Math.round(this.preferences.whitespace/this.layout.candleWidth),m.scroll-=b),u.touchDevice&&(x=".vecto",x+="rTrash",x+="Can",S=t.querySelector(".overlayEdit"),k=t.querySelector(".overlayTrashCan"),C=t.querySelector(x),S?(u.safeClickTouch(S,(E=this,g.p$K(),function(t){g.p$K(),E.deleteHighlighted(!0,!0)})),k&&u.safeClickTouch(k,(F=this,function(t){var e,i,a;e=39397720,i=-503712262,a=2;for(var r=1;g.X01(r.toString(),r.toString().length,85820)!==e;r++)F.deleteHighlighted(!0),a+=2;g.T8I(a.toString(),a.toString().length,70873)!==i&&F.deleteHighlighted(!1)}))):k&&u.safeClickTouch(k,(P=this,function(t){var e,i,a;g.h9y(),g.S$R(36),e=g.e8n(32,"1286064983"),i=-1750765773,a=2;for(var r=1;g.X01(r.toString(),r.toString().length,25270)!==e;r++)P.deleteHighlighted(!1),a+=2;g.X01(a.toString(),a.toString().length,63839)!==i&&P.deleteHighlighted(!1),P.deleteHighlighted(!0)})),C&&u.safeClickTouch(C,(_=this,g.p$K(),function(t){g.h9y(),_.deleteHighlighted(!0)}))),this.manageTouchAndMouse&&this.registerTouchAndMouseEvents(),t.onmouseout=(I=this,g.p$K(),function(t){g.p$K(),I.handleMouseOut(t)}),u.smartHover(),this.abortDrawings(),this.undoStamps=[],v)(w=v[N]).markerHolder&&(t.removeChild(w.markerHolder),w.markerHolder=null);for(var q in this.plugins)(D=this.plugins[q]).display&&D.initializeChart&&D.initializeChart(this);this.resizeListenerInitialized||(T=this,this.resizeListenerInitialized=!0,A=function(){return g.h9y(),function(t){T.resizeChart()}},this.addDomEventListener(window,"resize",A(),!0)),m.baseline.userLevel&&(m.baseline.userLevel=null),this.setResizeTimer(this.resizeDetectMS),this.runAppend("initializeChart",arguments)}},u.ChartEngine.prototype.destroy=function(){var t,e,i,a,r;this.setResizeTimer(0),this.quoteDriver&&this.quoteDriver.die(),this.styles={};for(var n=0;n<this.eventListeners.length;n++)t="f",t+="unc",t+="tion",(e=this.eventListeners[n]).element.removeEventListener(e.event,e[t],e.options);this.touchAndMouseEventsRegistered=!1,this.eventListeners=[],this.streamParameters.timeout&&clearTimeout(this.streamParameters.timeout),(a=(i=u.ChartEngine.registeredContainers).indexOf(this.chart.container))>-1&&i.splice(a,1),this.slider&&(r=i.indexOf(this.slider.slider.chart.container))>-1&&i.splice(r,1)},u.ChartEngine.prototype.handleMouseOut=function(t){var e,i,a;if(t=t||window.event,!u.withinElement(this.chart.container,t.pageX,t.pageY)){if(e="h",e+="an",e+="dleMouseOu",e+="t",this.runPrepend(e,arguments))return;this.grabbingScreen||this.findHighlights(null,!0),this.undisplayCrosshairs(),this.touches=[],this.touching=!1,this.activeDrawing&&this.userPointerDown&&(this.userPointerDown=!1,this.drawingLine=!1,i=this.backOutY(t.pageY),a=this.backOutX(t.pageX),this.drawingClick(this.currentPanel,a,i)),this.insideChart=!1,this.overYAxis=!1,this.overXAxis=!1,this.displaySticky(),this.runAppend("handleMouseOut",arguments)}},u.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var t,e,i,a,r,n,s,o,l,c,h,d,p,f,m;t=".stx-z",t+="oom-out",e=".stx-zo",e+="om-i",e+="n",this.touchAndMouseEventsRegistered||(this.touchAndMouseEventsRegistered=!0,a=(i=this.controls.chartControls||document).querySelector(e),r=i.querySelector(t),n=this.chart.container,s=this,o=function(t,e,i){function a(t){s.mainSeriesRenderer&&s.mainSeriesRenderer.nonInteractive||(g.h9y(),e(t))}s.addDomEventListener(n,t,a,i)},u.touchDevice?u.isSurface?(l="poi",l+="nter",l+="enter",c="pointermo",c+="v",c+="e",o("mousemove",(function(t){g.p$K(),s.msMouseMoveProxy(t)})),o("mouseenter",(function(t){g.h9y(),s.msMouseMoveProxy(t)})),o("mousedown",(function(t){s.msMouseDownProxy(t)})),o("mouseup",(function(t){g.p$K(),s.msMouseUpProxy(t)})),o("pointerdown",(function(t){return s.startProxy(t)})),o(c,(function(t){s.moveProxy(t)})),o(l,(function(t){return g.p$K(),s.moveProxy(t)})),o("pointerup",(function(t){return g.h9y(),s.endProxy(t)}))):(h="touchst",h+="ar",h+="t",u.isMobile||(d="mouseente",d+="r",o("mousemove",(function(t){s.iosMouseMoveProxy(t)})),o(d,(function(t){s.iosMouseMoveProxy(t)})),o("mousedown",(function(t){s.iosMouseDownProxy(t)})),o("mouseup",(function(t){g.h9y(),s.iosMouseUpProxy(t)}))),o(h,(function(t){s.touchstart(t)})),o("touchmove",(function(t){g.h9y(),s.touchmove(t)})),o("touchend",(function(t){g.p$K(),s.touchend(t)})),o("pointerdown",(function(t){var e,i,a;g.p$K(),e=1479660399,i=-654582979,a=2;for(var r=1;g.X01(r.toString(),r.toString().length,60912)!==e;r++)s.touchPointerType=t.pointerType,g.S$R(3),a+=g.d0d(1,"2");g.T8I(a.toString(),a.toString().length,98780)!==i&&(s.touchPointerType=t.pointerType)})),a&&(p="on",p+="Mouse",p+="Out",a.removeAttribute("onMouseOver"),a.removeAttribute(p)),r&&(f="on",f+="M",f+="ouseO",f+="ver",r.removeAttribute(f),r.removeAttribute("onMouseOut"))):(o("mousemove",(function(t){g.p$K(),s.mousemove(t)})),o("mouseenter",(function(t){g.p$K(),s.mousemove(t)})),o("mousedown",(function(t){s.mousedown(t)})),o("mouseup",(function(t){s.mouseup(t)}))),m=u.wheelEvent,g.p$K(),this.captureMouseWheelEvents&&o(m,(function(t){s.mouseWheel(t)}),{passive:!1}))},u.ChartEngine.prototype.rightClickHighlighted=function(){this.runPrepend("rightClickHighlighted",arguments)||(g.p$K(),this.deleteHighlighted(!0),this.runAppend("rightClickHighlighted",arguments))},u.ChartEngine.prototype.deleteHighlighted=function(t,e){var i,a,r,n,s,o,l,c,h,d,p,g;if(!this.runPrepend("deleteHighlighted",arguments)){if(this.cancelTouchSingleClick=!0,u.clearCanvas(this.chart.tempCanvas,this),(i=!1===this.bypassRightClick)||!this.bypassRightClick.drawing)for(var f=this.drawingObjects.length-1;f>=0;f--)(a=this.drawingObjects[f]).highlighted&&(t?this.rightClickDrawing(a,e):a.permanent||(a.abort()||(r=this.exportDrawings(),this.drawingObjects.splice(f,1),this.undoStamp(r,this.exportDrawings())),this.changeOccurred("vector")));if(i||!this.bypassRightClick.study)for(var m in this.overlays)((n=this.overlays[m]).overlay||n.underlay)&&n.highlight&&!n.permanent&&(t||e?this.rightClickOverlay(m,e):this.removeOverlay(m));if(s=this.currentPanel.chart,i||!this.bypassRightClick.series)for(var v in s.seriesRenderers)if((o=s.seriesRenderers[v]).params.highlightable){c=(l=this.panels[o.params.panel])&&l.yAxis.name;for(var y=o.seriesParams.length-1;y>=0;y--)h=o.seriesParams[y],!o.params.highlight&&!h.highlight||h.permanent||(o.removeSeries(h.id),o.seriesParams.length<1&&(this.removeSeriesRenderer(o),o.params.name==c?this.electNewPanelOwner(o.params.panel):(this.checkForEmptyPanel(o.params.panel),(d=this.getYAxisByName(l,o.params.name))&&(d.name=d.studies[0]||d.renderers[1]))))}this.draw(),this.resizeChart(),this.clearMeasure(),(p=this.controls.mSticky)&&(g="non",g+="e",p.style.display=g,p.children[0].innerHTML=""),this.runAppend("deleteHighlighted",arguments)}},u.ChartEngine.prototype.panelExists=function(t){var e,i,a;for(var r in this.panels)if(this.panels[r].name==t)return!0;g.s8b(1),e=g.d0d(0,"1071162089"),i=1471539511,g.h9y(),a=2;for(var n=1;g.X01(n.toString(),n.toString().length,41690)!==e;n++)return!0;if(g.X01(a.toString(),a.toString().length,39588)!==i)return!1},u.ChartEngine.prototype.hideCrosshairs=function(){this.displayCrosshairs=!1},u.ChartEngine.prototype.showCrosshairs=function(){g.p$K(),this.displayCrosshairs=!0},u.ChartEngine.prototype.grabHandle=function(t){var e,i;e="grab",e+="Handle",g.p$K(),i="stx-g",i+="r",i+="a",i+="b",this.runPrepend("grabHandle",arguments)||t&&(u.ChartEngine.crosshairY=t.top+this.top,u.ChartEngine.resizingPanel=t,u.appendClassName(t.handle,i),this.runAppend(e,arguments))},u.ChartEngine.prototype.releaseHandle=function(){var t;if(t="releas",t+="eHan",t+="dle",this.runPrepend("releaseHandle",arguments))return!0;u.clearCanvas(this.chart.tempCanvas,this),this.resizePanels(),u.ChartEngine.resizingPanel&&u.unappendClassName(u.ChartEngine.resizingPanel.handle,"stx-grab"),u.ChartEngine.resizingPanel=null,this.runAppend(t,arguments)},u.ChartEngine.prototype.storePanels=function(){var t,e;for(var i in this.layout||(this.layout={}),t=this.layout,g.p$K(),t.panels={},this.panels)e=this.panels[i],t.panels[e.name]={percent:e.percent,display:e.display,yAxis:e.yAxis}},u.ChartEngine.prototype.savePanels=function(t){this.storePanels(),!1!==t&&this.changeOccurred("layout")},u.ChartEngine.prototype.resolveY=function(t){return g.p$K(),this.top+t},u.ChartEngine.prototype.resolveX=function(t){return g.p$K(),this.left+t},u.ChartEngine.prototype.backOutY=function(t){return t-this.top},u.ChartEngine.prototype.backOutX=function(t){return t-this.left},u.ChartEngine.prototype.cleanupRemovedStudy=function(t){if(t){for(var e in t.study.removeFN&&t.study.removeFN(this,t),this.plugins)e.indexOf("{"+t.id+"}")>-1&&delete this.plugins[e];this.layout.studies&&delete this.layout.studies[t.name],delete this.overlays[t.name],u.Studies&&u.Studies.removeStudySymbols(t,this),this.quoteDriver&&this.quoteDriver.updateSubscriptions()}},u.ChartEngine.prototype.privateDeletePanel=function(t){var e,i,a;for(var r in this.layout.studies)(e=this.layout.studies[r]).panel==t.name&&this.cleanupRemovedStudy(e);for(var n in delete this.panels[t.name],this.overlays)this.overlays[n].panel==t.name&&(this.layout.studies&&this.cleanupRemovedStudy(this.layout.studies[n]),delete this.overlays[n]);for(var s in this.chart.series)this.chart.series[s].parameters.panel==t.name&&this.removeSeries(this.chart.series[s],this.chart);if(t.holder&&(this.chart.container.removeChild(t.holder),this.getMarkerArray)){i="pa",i+="nelName",a=this.getMarkerArray(i,t.name);for(var o=0;o<a.length;o++)this.removeFromHolder(a[o])}g.p$K(),t.handle&&t.handle.parentNode.removeChild(t.handle),this.currentPanel=null},u.ChartEngine.prototype.plotsInPanel=function(t){var e,i,a,r;for(var n in g.h9y(),e=[],i=t,"object"==typeof t&&(i=t.name),this.layout.studies)i===(a=this.layout.studies[n]).panel&&e.push(a);for(var s in this.chart.seriesRenderers)i===(r=this.chart.seriesRenderers[s]).params.panel&&e.push(r);return e},u.ChartEngine.prototype.checkForEmptyPanel=function(t,e,i){var a,r,n;if(a="obje",a+="c",!t)return!1;if(r=t,typeof t==(a+="t")&&(r=t.name),r===this.chart.name)return!1;i?i instanceof Array||(i=[i]):i=[],n=this.plotsInPanel(t);for(var s=0;s<n.length;s++)if(-1==i.indexOf(n[s]))return!1;return e||this.panelClose(this.panels[r]),!0},u.ChartEngine.prototype.panelClose=function(t){var e,i;if(e="p",e+="anelCl",e+="o",e+="se",t&&!this.runPrepend("panelClose",arguments)){if(this.cancelTouchSingleClick=!0,u.ChartEngine.drawingLine=!1,t.soloing&&this.panelSolo(t),this.charts[t.name]){for(var a in this.panels)(i=this.panels[a]).chart.name==t.name&&this.privateDeletePanel(i);delete this.charts[t.name]}else this.privateDeletePanel(t);this.currentlyImporting||(this.showCrosshairs(),this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()),g.p$K(),this.userPointerDown=this.grabbingScreen=!1,this.openDialog&&(this.openDialog=""),this.runAppend(e,arguments)}},u.ChartEngine.prototype.deleteAllPanels=function(){var t;for(var e in this.panels)t=this.panels[e],this.privateDeletePanel(t);g.p$K(),this.layout.panels={},this.panels={}},u.ChartEngine.prototype.panelUp=function(t){var e,i,a,r;for(a in this.cancelTouchSingleClick=!0,u.ChartEngine.drawingLine=!1,this.showCrosshairs(),e={},i=0,this.panels){if(a==t.name)break;i++}if(i){for(a in r=0,this.panels)r==i-1&&(e[t.name]=t),a!=t.name&&(e[a]=this.panels[a],r++);this.panels=e,this.adjustPanelPositions(),this.draw(),this.savePanels()}},u.ChartEngine.prototype.panelDown=function(t){var e,i,a,r,n;for(a in this.cancelTouchSingleClick=!0,u.ChartEngine.drawingLine=!1,this.showCrosshairs(),e={},g.S$R(0),i=g.d0d(0,"0"),this.panels){if(a==t.name)break;i++}for(a in r=0,this.panels)r++;if(i!=r-1){for(a in n=0,this.panels)a!=t.name?(e[a]=this.panels[a],n==i+1&&(e[t.name]=t),n++):n++;this.panels=e,this.adjustPanelPositions(),this.draw(),this.savePanels()}},u.ChartEngine.prototype.panelSolo=function(t){var e,i,a,r;if(this.cancelTouchSingleClick=!0,u.ChartEngine.drawingLine=!1,this.showCrosshairs(),e=!0,t.soloing){if(e=!1,t.soloing=!1,u.unappendClassName(t.solo,"stx_solo_lit"),t.percent=t.oldPercent,"chart"!=t.name)if(this.soloPanelToFullScreen){if(1==t.percent)for(i in this.panels)(a=this.panels[i])!=t&&(t.percent-=a.percent)}else this.chart.panel.percent=this.chart.panel.oldPercent;this.soloPanelToFullScreen&&(this.xAxisAsFooter=this.chart.panel.oldXAxisAsFooter)}else if(r="stx",r+="_solo_li",r+="t",t.soloing=!0,u.appendClassName(t.solo,r),t.oldPercent=t.percent,this.chart.panel.oldXAxisAsFooter=this.xAxisAsFooter,"chart"!=t.name)if(this.soloPanelToFullScreen)this.xAxisAsFooter=!0;else{this.chart.panel.oldPercent=this.chart.panel.percent,g.s8b(35);var n=g.d0d(3,4);t.percent=n-this.chart.panel.percent}for(i in this.panels)this.panels[i].hidden=e;this.soloPanelToFullScreen||(this.chart.panel.hidden=!1),t.hidden=!1,this.resetDynamicYAxis({noRecalculate:!0}),this.calculateYAxisPositions(),this.draw(),this.savePanels()},u.ChartEngine.prototype.calculatePanelPercent=function(t){var e;g.h9y(),e=t.bottom-t.top,t.percent=e/this.chart.canvasHeight},u.ChartEngine.prototype.resizePanels=function(){var t,e,i,a,r,n;if(u.ChartEngine.resizingPanel){for(var s in r=u.ChartEngine.crosshairY>this.resolveY(u.ChartEngine.resizingPanel.top),this.panels){if(this.panels[s]==u.ChartEngine.resizingPanel)break;this.panels[s].hidden||(t=this.panels[s])}if(n=this.backOutY(u.ChartEngine.crosshairY),r)for(i=u.ChartEngine.resizingPanel.yaxisLHS.concat(u.ChartEngine.resizingPanel.yaxisRHS),a=0;a<i.length;a++){g.s8b(34);var o=g.d0d(3,201,99);e=i[a].initialMarginTop+i[a].initialMarginBottom+("10">>o),n>i[a].bottom-e&&(n=i[a].bottom-e)}else for(i=t.yaxisLHS.concat(t.yaxisRHS),a=0;a<i.length;a++)e=i[a].initialMarginTop+i[a].initialMarginBottom+10,n<i[a].top+e&&(n=i[a].top+e);u.ChartEngine.crosshairY=this.resolveY(n),t.bottom=n,u.ChartEngine.resizingPanel.top=n,this.calculatePanelPercent(t),this.calculatePanelPercent(u.ChartEngine.resizingPanel),this.adjustPanelPositions(),this.draw(),this.savePanels()}},u.ChartEngine.prototype.adjustPanelPositions=function(){var t,e,i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w,D;if(t="stx",t+="-",t+="sho",t+="w",this.chart.tempCanvas&&u.clearCanvas(this.chart.tempCanvas,this),!this.runPrepend("adjustPanelPositions",arguments)){for(o in e=0,i=this.chart.canvasHeight,a=!1,r=0,n=0,s=!1,this.panels)l=this.panels[o],(isNaN(l.percent)||l.percent<=0)&&(l.percent=.05),l.hidden||(r+=l.percent,n++,l.soloing&&(s=!0));for(o in this.panels)if(c=0,(l=this.panels[o]).hidden)l.markerHolder&&(h="n",h+="on",h+="e",l.markerHolder.style.display=h);else{if(this.manageTouchAndMouse&&(l.up&&(a?(p="st",p+="x-sho",p+="w",this.displayIconsUpDown&&u.appendClassName(l.up,p)):(d="s",d+="tx-show",a=!0,u.unappendClassName(l.up,d))),l.solo&&(s?l.soloing&&this.displayIconsSolo?u.appendClassName(l.solo,"stx-show"):u.unappendClassName(l.solo,"stx-show"):1==n?(f="stx-",f+="s",f+="h",f+="ow",u.unappendClassName(l.solo,f)):2!=n||this.soloPanelToFullScreen?this.displayIconsSolo&&u.appendClassName(l.solo,"stx-show"):u.unappendClassName(l.solo,"stx-show")),l.down&&(1==n?u.unappendClassName(l.down,"stx-show"):(m="stx-s",m+="h",m+="ow",this.displayIconsUpDown&&u.appendClassName(l.down,m))),l.edit&&(l.editFunction?u.appendClassName(l.edit,"stx-show"):u.unappendClassName(l.edit,"stx-show")),l.close&&(this.displayIconsClose?u.appendClassName(l.close,"stx-show"):u.unappendClassName(l.close,"stx-show"))),l.percent=l.percent/r,l.top=e,l.bottom=l.top+i*l.percent,l.height=l.bottom-l.top,l.chart.name==l.name&&(l.chart.top=l.top,l.chart.bottom=l.bottom,l.chart.height=l.height),e=l.bottom,l.yaxisLHS){v=l.yaxisLHS.concat(l.yaxisRHS);for(var T=0;T<v.length;T++)(y=v[T]).zoom&&y.height>0&&(c=y.zoom/y.height),this.adjustYAxisHeightOffset(l,y),y.height=y.bottom-y.top,c&&(y.scroll*=c*y.height/y.zoom,y.zoom=c*y.height,y.zoom>y.height&&(y.zoom=0,y.scroll=0)),y.high||0===y.high||(y.high=100,g.S$R(2),y.low=g.e8n(0,"0"),y.shadow=100),y.multiplier=y.height/y.shadow}l.holder&&(b="0",b+="p",b+="x",x="p",x+="x",S="p",S+="x",l.holder.style.right="0px",l.holder.style.top=l.top+S,l.holder.style.left="0px",l.holder.style.height=l.height+x,l.subholder.style.left=l.left+"px",l.subholder.style.width=l.width+"px",l.subholder.style.top=b,l.yAxis.height>=0&&(l.subholder.style.height=l.yAxis.height+"px"))}if(o&&this.panels[o].down&&u.unappendClassName(this.panels[o].down,t),this.manageTouchAndMouse&&2==n&&!s&&this.chart.panel.solo){k=-1648892589,C=83410582,w=2;for(var A=1;g.X01(A.toString(),A.toString().length,44376)!==k;A++)u.appendClassName(this.chart.panel.solo,""),g.S$R(36),w+=g.e8n(0,"2");g.T8I(w.toString(),w.toString().length,655)!==C&&u.appendClassName(this.chart.panel.solo,"stx-show")}if(this.chart.panel){if(s&&this.soloPanelToFullScreen){g.S$R(56);var M=g.e8n(204,17,175);D=this.chart.canvasHeight-l.yAxis.bottom+M}else{g.s8b(46);var L=g.d0d(20,16,5,31,2);D=this.chart.canvasHeight-this.chart.panel.yAxis.bottom+L}this.controls.chartControls&&(g.s8b(7),this.controls.chartControls.style.bottom=g.d0d(D,"px")),this.controls.home&&(g.s8b(7),this.controls.home.style.bottom=g.d0d(D,"px"),this.controls.home.style.marginRight=this.width-this.chart.panel.right+"px")}this.clearPixelCache(),g.h9y(),this.adjustDrawings(),this.runAppend("adjustPanelPositions",arguments)}},u.ChartEngine.prototype.addChart=function(t,e){e.name=t,this.charts[t]=e},u.ChartEngine.prototype.createPanel=function(t,e,i,a,r){var n,s,o,l,c,h;if(g.h9y(),n="crea",n+="te",n+="P",n+="anel",!this.runPrepend(n,arguments)){for(var u in a||(a="chart"),s=this.chart.canvasHeight,i||(g.S$R(3),i=g.e8n(.2,s)),g.S$R(6),o=g.e8n(i,s),g.S$R(2),l=g.d0d(o,1),c=!1,this.panels)(h=this.panels[u]).percent*=l,h.soloing&&(c=!0);return this.stackPanel(t,e,o,a,r),this.panels[e].hidden=c,this.adjustPanelPositions(),this.savePanels(!1),this.runAppend("createPanel",arguments),this.panels[e]}},u.ChartEngine.prototype.modifyPanel=function(t,e){var i,a,r,n,s,o,l,c,h,d,p,g,f,m,v,y;for(var b in i="vect",i+="or",a="lay",a+="out",e||(e={}),(r=e.name)||(r=u.uniqueID()),(n=e.display)||(n=r),(s=e.yAxis)||((s=t.yAxis).name=r),o=t.name,l={},this.panels)b==t.name?((c=this.panels[b]).name=r,c.display=n,c.yAxis=s,t=l[r]=c,this.moveMarkers&&this.moveMarkers(o,r)):l[b]=this.panels[b];for(h in this.panels=l,d=this.layout.studies,p=this.chart.series,g=!1,d)(f=d[h]).panel==o&&(f.panel=r,f.parameters&&f.parameters.panelName&&(g=!0,f.parameters.panelName=r));for(h in p)p[h].parameters.panel==o&&(g=!0,m={panel:r},p[h].parameters.yAxis&&p[h].parameters.yAxis.name==o&&(m.yAxis=s),this.modifySeries(h,m,!0));g&&this.changeOccurred(a),v=!1;for(var x=0;x<this.drawingObjects.length;x++)o==(y=this.drawingObjects[x]).panelName&&(y.panelName=r,v=!0);v&&this.changeOccurred(i),this.calculateYAxisPositions()},u.ChartEngine.prototype.electNewPanelOwner=function(t,e){var i,a,r,n,s,o,l,c;function h(t){return t.name!=a.name}if("string"==typeof t&&(t=this.panels[t]),a=t.yAxis,t&&t!=this.chart.panel){if((n=(r=t.yAxis).studies[0])&&n!=a.name||(g.s8b(36),n=r.renderers[g.e8n(64,"0")]),n&&n!=a.name||(n=r.studies[1]),n||(n=r.renderers[1]),e)r=t.yAxis=e,i=e.name;else if(n)(r=this.addYAxis(t,new u.ChartEngine.YAxis({name:n,position:r.position}))).renderers=t.yAxis.renderers,r.studies=t.yAxis.studies,i=n;else if(t.yaxisLHS){o=(s=t.yaxisRHS.concat(t.yaxisLHS).filter(h))[0];for(var d=0;d<s.length;d++)if(!s[d].position){o=s[d];break}o&&(r=t.yAxis=o,i=o.studies[0]||o.renderers[0])}i?(n=i,a.name!=t.name&&(n=t.name),(c=this.layout.studies)&&c[i]&&(l=c[i].inputs.display),this.modifyPanel(t,{name:n,display:l||i,yAxis:r}),this.deleteYAxisIfUnused(t,a),this.calculateYAxisMargins(this.panels[n].yAxis)):this.checkForEmptyPanel(t)}return i},u.ChartEngine.prototype.electNewYAxisOwner=function(t){var e,i;g.p$K(),(e=t.studies[0])&&e!=t.name||(g.s8b(3),e=t.renderers[g.e8n(1,"0")]),e&&e!=t.name||(e=t.studies[1]),e||(e=t.renderers[1]);for(var a=0;a<t.studies.length;a++)(i=this.layout.studies[t.studies[a]]).parameters&&i.parameters.yaxisDisplayValue==t.name&&(i.parameters.yaxisDisplayValue=e);return e},u.ChartEngine.prototype.configurePanelControls=function(t){var e,i,a,r,n,s,o,l,c,h,d;if(e=t.icons){i=t.name==t.chart.name,u.appendClassName(e,"stx-show"),t.title=e.querySelector(".stx-panel-title"),t.up=e.querySelector(".stx-ico-up"),a=792299537,r=601048281,g.s8b(2),n=g.d0d(0,"2");for(var p=1;g.T8I(p.toString(),p.toString().length,68397)!==a;p++)t.up&&(t.up=t.up.parentNode),t.solo=e.querySelector(".stx-ico-focus"),t.solo&&(t.solo=t.solo.parentNode),t.down=e.querySelector(".stx-ico-down"),n+=2;if(g.T8I(n.toString(),n.toString().length,16025)!==r&&(s=".stx-i",s+="co",s+="-down",t.up&&(t.up=t.up.parentNode),t.solo=e.querySelector(s),t.solo&&(t.solo=t.solo.parentNode),t.down=e.querySelector(".stx-ico-down")),t.up&&(t.up=t.up.parentNode),t.solo=e.querySelector(".stx-ico-focus"),t.solo&&(t.solo=t.solo.parentNode),t.down=e.querySelector(".stx-ico-down"),t.down&&(t.down=t.down.parentNode),t.edit=e.querySelector(".stx-ico-edit"),t.edit&&(t.edit=t.edit.parentNode),t.close=e.querySelector(".stx-ico-close"),t.close&&(t.close=t.close.parentNode),t.title&&(t.title.innerHTML="",t.display&&t.title.appendChild(document.createTextNode(t.display)),i&&(o="chart-t",o+="it",o+="le",u.appendClassName(t.title,o),u.appendClassName(e,"stx-chart-panel"))),u.touchDevice&&!u.isSurface||this.makeModal(e),t.handle){u.touchDevice&&!u.isSurface||(t.handle.onmouseover=(v=this,function(){g.h9y(),v.hideCrosshairs()})),u.touchDevice&&!u.isSurface||(t.handle.onmouseout=(m=this,function(){m.showCrosshairs()})),l=function(t,e){return g.p$K(),function(i){g.h9y(),u.ChartEngine.resizingPanel||""!==t.openDialog||t.grabHandle(e)}},u.isSurface?t.handle.onpointerdown=l(this,t):t.handle.onmousedown=l(this,t),c=-701870817,h=1572599990,d=2;for(var f=1;g.T8I(f.toString(),f.toString().length,83865)!==c;f++)u.touchDevice&&(t.handle.ontouchstart=l(this,t)),d+=2;g.T8I(d.toString(),d.toString().length,57384)!==h&&u.touchDevice&&(t.handle.ontouchstart=l(this,t)),u.touchDevice&&(t.handle.ontouchstart=l(this,t))}var m,v,y,b,x,S,k,C,w,D;t.up&&u.safeClickTouch(t.up,(y=this,b=t,g.h9y(),function(){g.p$K(),y.panelUp(b)})),t.down&&u.safeClickTouch(t.down,(x=this,S=t,function(){x.panelDown(S)})),t.solo&&u.safeClickTouch(t.solo,(k=this,C=t,function(){g.h9y(),k.panelSolo(C)})),t.close&&("chart"==t.name?t.close.style.display="none":u.safeClickTouch(t.close,(w=this,D=t,g.p$K(),function(){w.panelClose(D)})))}},u.ChartEngine.prototype.stackPanel=function(t,e,i,a,r){var n,s,o,l;this.runPrepend("stackPanel",arguments)||(a||(a="chart"),n=this.charts[a],g.S$R(73),(s=g.e8n(a,e))&&(t=n.symbol,n.symbolDisplay&&(t=n.symbolDisplay),r||(r=n.yAxis)),o=this.panels[e]=new u.ChartEngine.Panel(e,r),!s&&n.yAxis&&o.yAxis.position==n.yAxis.position&&(o.yAxis.width=n.yAxis.width),s&&!n.panel&&(n.panel=o),o.percent=i,o.chart=n,o.display=t,o.holder=u.newChild(this.container,"div","stx-holder"),o.subholder=u.newChild(o.holder,"div","stx-subholder"),o.subholder.style.zIndex=1,o.holder.panel=o,l=s?"stx-panel-chart":"stx-panel-study",u.appendClassName(o.holder,l),this.controls.handleTemplate&&this.manageTouchAndMouse&&(o.handle=this.controls.handleTemplate.cloneNode(!0),this.container.appendChild(o.handle),o.handle.panel=o),this.controls.iconsTemplate&&(o.icons=this.controls.iconsTemplate.cloneNode(!0),o.subholder.appendChild(o.icons),this.configurePanelControls(o)),this.currentlyImporting||this.resizeCanvas(),this.runAppend("stackPanel",arguments))},u.ChartEngine.prototype.setPanelEdit=function(t,e){t.editFunction=e,t.edit&&u.safeClickTouch(t.edit,e),this.adjustPanelPositions()},u.ChartEngine.prototype.drawPanels=function(){var t,e,i,a,r,n,s,o,l,c,h,d,p,f,m;if(!this.runPrepend("drawPanels",arguments)){for(var v in t=!1,this.panels)if((e=this.panels[v]).state={},i=this.translateIf(e.display),e.title&&e.title.textContent!=i&&(e.title.innerHTML="",e.title.appendChild(document.createTextNode(i))),u.appendClassName(e.icons,"stx-show"),e.hidden)u.unappendClassName(e.icons,"stx-show"),e.handle&&(e.handle.style.display="none"),e.holder.style.display="none";else if(a="b",a+="lo",a+="c",a+="k",r="char",r+="t",e.name!=r&&(n="n",n+="o",n+="n",n+="e",s="n",s+="o",s+="n",s+="e",o="non",o+="e",l=this.manageTouchAndMouse,e.up&&(e.up.style.display=this.displayIconsUpDown&&l?"":"none"),e.down&&(e.down.style.display=this.displayIconsUpDown&&l?"":"none"),e.solo&&(e.solo.style.display=this.displayIconsSolo&&l?"":o),e.close&&(e.close.style.display=this.displayIconsClose&&l?"":s),e.edit&&(e.edit.style.display=e.editFunction&&l?"":n)),e.holder.style.display=a,e.displayEdgeIfPadded&&(c="stx_grid_",c+="bo",c+="rd",c+="er",h=Math.round(e.left)+.5,d=e.yAxis.top-.5,p=e.yAxis.bottom+.5,e.yaxisCalculatedPaddingLeft&&!e.yaxisTotalWidthLeft&&this.plotLine(h,h,d,p,this.canvasStyle("stx_grid_border"),"segment",this.chart.context,!1,{lineWidth:1}),h=Math.round(e.right)+.5,e.yaxisCalculatedPaddingRight&&!e.yaxisTotalWidthRight&&this.plotLine(h,h,d,p,this.canvasStyle(c),"segment",this.chart.context,!1,{lineWidth:1})),t){if(f=e.top,f=Math.round(f)+.5,this.plotLine(e.left-.5,e.right+.5,f,f,this.canvasStyle("stx_panel_border"),"segment",this.chart.context,!1,{}),e.handle){m="p",m+="x",this.displayPanelResize?e.handle.style.display="":e.handle.style.display="none",g.S$R(56);var y=g.e8n(21,15,4);e.handle.style.top=f-e.handle.offsetHeight/y+m}}else e.handle&&(e.handle.style.display="none"),t=!0;this.runAppend("drawPanels",arguments)}},u.ChartEngine.prototype.touchSingleClick=function(t,e,i){var a,r;return a=this,g.p$K(),r=arguments,function(){g.h9y(),function(){var t,n,s,o,l;if(!this.cancelTouchSingleClick){if(t="touchSingleClic",t+="k",this.runPrepend(t,r))return;if(this.editingAnnotation)return;if(this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},!this.displayCrosshairs)return;if(!this.displayInitialized)return;if(""!==this.openDialog)return;if(e<this.left||e>this.right||i<this.top||i>this.bottom)return;n=this.backOutY(u.ChartEngine.crosshairY),s=this.backOutX(u.ChartEngine.crosshairX),this.currentPanel=this.whichPanel(n),o=this.currentVectorParameters.vectorType,u.Drawing&&o&&u.Drawing[o]&&(new u.Drawing[o]).dragToDraw||(this.drawingClick(this.currentPanel,s,n)||this.layout.crosshair||(u.ChartEngine.crosshairY=0,u.ChartEngine.crosshairX=0,this.cx=this.backOutX(u.ChartEngine.crosshairX),this.cy=this.backOutY(u.ChartEngine.crosshairY),this.findHighlights(null,!0),u.ChartEngine.crosshairY=i,u.ChartEngine.crosshairX=e,l=this.container.getBoundingClientRect(),this.top=l.top,this.left=l.left,this.right=this.left+this.width,this.bottom=this.top+this.height,this.cx=this.backOutX(u.ChartEngine.crosshairX),this.cy=this.backOutY(u.ChartEngine.crosshairY),this.currentPanel&&this.currentPanel.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.cx,this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel))),this.headsUpHR(),this.findHighlights(!0)),this.currentVectorParameters.vectorType||this.dispatch("tap",{stx:this,panel:this.currentPanel,x:s,y:n}))}g.h9y(),a.cancelTouchSingleClick=!1,this.runAppend("touchSingleClick",r)}.apply(a,r)}},u.ChartEngine.prototype.touchDoubleClick=function(t,e,i){var a;this.runPrepend("touchDoubleClick",arguments)||this.dispatch("doubleTap",{stx:this,finger:t,x:e,y:i})||e<this.left||e>this.right||i<this.chart.panel.top||i>this.chart.panel.bottom||this.editingAnnotation||(u.ChartEngine.drawingLine?this.undo():this.anyHighlighted?this.deleteHighlighted():((a=this.currentPanel.yAxis).scroll==(a.initialMarginTop-a.initialMarginBottom)/2&&a.zoom==a.initialMarginTop+a.initialMarginBottom?this.home():this.calculateYAxisMargins(this.currentPanel.yAxis),this.draw()),this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1},this.runAppend("touchDoubleClick",arguments))},u.ChartEngine.prototype.startProxy=function(t){this.touchPointerType=t.pointerType,"touch"==this.touchPointerType?(this.mouseMode=!1,this.touches[this.touches.length]={pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY},this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY}],1==this.touches.length&&(this.gesturePointerId=t.pointerId),this.touchstart(t)):this.mouseMode=!0},u.ChartEngine.prototype.moveProxy=function(t){var e,i,a;if(t.pointerType&&"touch"!=t.pointerType)this.mouseMode=!0;else{this.mouseMode=!1,g.p$K(),e=1804175599,i=-629047999,a=2;for(var r=1;g.T8I(r.toString(),r.toString().length,38047)!==e;r++)this.touchmove(t),a+=2;g.T8I(a.toString(),a.toString().length,81103)!==i&&this.touchmove(t)}},u.ChartEngine.prototype.endProxy=function(t){var e,i;if(e="t",e+="o",e+="uc",e+="h",this.touchPointerType==e){this.mouseMode=!1,i=this.touches.length;for(var a=0;a<this.touches.length;a++)if(this.touches[a].pointerId==t.pointerId){this.touches.splice(a,1);break}if(g.h9y(),a==i)return this.touches=[],this.grabbingScreen=!1,void(this.touching=!1);this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY}],this.touchend(t)}else this.mouseMode=!0},u.ChartEngine.prototype.msMouseMoveProxy=function(t){!this.touches.length&&this.mouseMode&&this.mousemove(t)},u.ChartEngine.prototype.msMouseDownProxy=function(t){this.mouseMode&&(g.p$K(),this.mousedown(t))},u.ChartEngine.prototype.msMouseUpProxy=function(t){this.mouseMode&&this.mouseup(t)},u.ChartEngine.prototype.iosMouseMoveProxy=function(t){this.touching||this.mousemove(t)},u.ChartEngine.prototype.iosMouseDownProxy=function(t){this.touching?this.mouseMode=!1:(this.mouseMode=!0,g.h9y(),this.mousedown(t))},u.ChartEngine.prototype.iosMouseUpProxy=function(t){this.touching||this.mouseup(t)},u.ChartEngine.prototype.rawWatermark=function(t,e,i,a){var r;r="s",r+="tx_w",r+="at",r+="ermark",this.canvasFont(r,t),t.fillStyle=this.defaultColor,t.globalAlpha=.5,this.chart.context.textBaseline="alphabetic",t.fillText(a,e,i),t.globalAlpha=1},u.ChartEngine.prototype.watermark=function(t,e){var i,a,r,n,s,o,l;if(i="c",i+="ente",i+="r",a="middl",a+="e",r="bo",r+="tt",r+="o",r+="m",e&&"object"!=typeof e&&(e={h:arguments[1],v:arguments[2],text:arguments[3]}),(n=(e={h:e.h||"left",v:e.v||r,text:e.text||"",hOffset:e.hOffset||10,vOffset:e.vOffset||20,context:e.context||this.chart.context}).context)&&(s=this.panels[t])&&!s.hidden){if(o=s.yAxis.bottom-e.vOffset,"top"==e.v)o=s.top+e.vOffset;else if(e.v==a){g.s8b(77);var c=g.d0d(4,1,12,5);o=(s.top+s.yAxis.bottom)/c}if(n.save(),this.canvasFont("stx_watermark",n),this.canvasColor("stx_watermark",n),n.textBaseline="alphabetic",l=s.left+e.hOffset,"right"==e.h)l=s.right-e.hOffset;else if(e.h==i){g.S$R(49);var h=g.e8n(9,4,10,66,8);l=(s.right+s.left-n.measureText(e.text).width)/h}n.globalAlpha=.5,this.highlightedDraggable&&(n.globalAlpha*=.3),n.fillText(e.text,l,o),n.restore()}},u.ChartEngine.prototype.embedVisualization=function(t){return t||(t={}),t.stx=this,t.useCanvasShim=!0,t.translator=function(e){return g.p$K(),t.stx.translateIf(e)},new u.Visualization(t)},u.ChartEngine.prototype.displayErrorAsWatermark=function(t,e){var i,a,r,n,s,o,l,c,h,u;if(e&&(t||(t="chart"),(i=this.panels[t])&&!i.hidden&&((a=i.state)||(i.state=a={}),(r=a.studyErrors)||(a.studyErrors=r=new Set),!r.has(e)))){if(n=0,"chart"===t&&this.chart&&this.chart.chartControls){s=871536304,o=-759009613,l=2;for(var d=1;g.X01(d.toString(),d.toString().length,3863)!==s;d++){g.S$R(29);var p=g.d0d(14,0,14,3);n+=this.chart.chartControls.offsetHeight*p,l+=2}if(g.T8I(l.toString(),l.toString().length,53066)!==o){g.s8b(26);var f=g.d0d(14,18,1);n*=this.chart.chartControls.offsetHeight/f}}c=this.getCanvasFontSize("stx_watermark"),h=10,n+=r.size*(c+h),r.add(e),u={h:"center",v:"bottom",text:e,vOffset:n},this.watermark(t,u)}},u.ChartEngine.prototype.preAdjustScroll=function(t){t||(t=this.chart),this.previousAdjust={chart:t,scroll:t.scroll,maxTicks:t.maxTicks}},u.ChartEngine.prototype.postAdjustScroll=function(){var t;this.previousAdjust&&(t=this.previousAdjust.chart,g.p$K(),t.scroll=this.previousAdjust.scroll+(t.maxTicks-this.previousAdjust.maxTicks),this.displayInitialized&&this.draw())},u.ChartEngine.prototype.adjustDrawings=function(){var t;g.p$K();for(var e=0;e<this.drawingObjects.length;e++)t=this.drawingObjects[e],this.panels[t.panelName]&&t.adjust()},u.ChartEngine.prototype.getNextInterval=function(t,e,i){var a;return e||(e=1),!1!==i&&(i=!0),a=this.standardMarketIterator(t,i?this.dataZone:this.displayZone),e<1?(g.S$R(78),a.previous(g.d0d(e,1))):a.next(e)},u.ChartEngine.prototype.standardMarketIterator=function(t,e,i){var a,r;return a=i||this.chart,r={begin:t,interval:this.layout.interval,periodicity:"tick"==this.layout.interval?this.chart.xAxis.futureTicksInterval:this.layout.periodicity,timeUnit:this.layout.timeUnit,outZone:e},a.market.newIterator(r)},u.ChartEngine.prototype.zoomSet=function(t,e){var i,a,r,n,s;if(g.h9y(),t=this.constrainCandleWidth(t),"none"!=this.chart.tempCanvas.style.display&&u.clearCanvas(this.chart.tempCanvas,this),!(i=this.mainSeriesRenderer||{}).params||!i.params.volume){if(a="zo",a+="om",a+="-",a+="x",this.preferences.zoomAtCurrentMousePosition&&this.zoomInitiatedByMouseWheel&&this.crosshairTick<e.dataSet.length)r=this.crosshairTick||this.tickFromPixel(this.cx,e);else if(this.isHome()){g.S$R(79);var o=g.e8n(13,18,12,9);r=e.dataSet.length-"1"*o}else r=this.chart.scroll>this.chart.dataSet.length?0:this.grabMode==a?this.tickFromPixel(this.chart.width,e):this.tickFromPixel(this.chart.width/2,e);this.animations.zoom.hasCompleted&&(this.zoomInitiatedByMouseWheel=!1),g.S$R(67);var l=g.e8n(1,1,2);n=e.dataSet.length-l-r,s=e.scroll,g.S$R(16);var c=g.e8n(0,12,13,156);e.scroll=Math.floor((this.pixelFromTick(r,e)-e.left)/t)+c+n,this.micropixels+=(s-n)*this.layout.candleWidth-(e.scroll-n)*t}this.setCandleWidth(t),e.spanLock=!1,this.draw(),this.doDisplayCrosshairs(),this.updateChartAccessories()},u.ChartEngine.prototype.zoomOut=function(t,e){var i,a,r,n;function s(t){return function(e){if(i.zoomSet(e,t),g.p$K(),i.animations.zoom.hasCompleted){if(i.runAppend("zoomOut",arguments))return;i.changeOccurred("layout"),i.continuousZoom&&i.continuousZoom.execute(!0)}}}if(!this.runPrepend("zoomOut",arguments))for(var o in this.preferences.zoomOutSpeed?e=this.preferences.zoomOutSpeed:e||(e=1.3),t&&t.preventDefault&&t.preventDefault(),this.cancelTouchSingleClick=!0,i=this,this.charts)a=this.charts[o],r=Math.floor(a.maxTicks*e),!1===a.allowScrollFuture&&!1===a.allowScrollPast&&r>a.dataSet.length&&(r=a.dataSet.length),n=this.chart.width/r,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(s(a),this.layout.candleWidth,n)},u.ChartEngine.prototype.mouseWheel=function(t){var e,i,a,r,n,s,o,l,c,h;if(e="mou",e+="seWh",e+="ee",e+="l",i="unde",i+="fined",a="mou",a+="s",a+="eWheel",!this.runPrepend(a,arguments)&&(t||(t=event),t.preventDefault&&t.preventDefault(),r=t.deltaX,g.p$K(),n=t.deltaY,Math.abs(n)>Math.abs(r)?r=0:n=0,this.lastMouseWheelEvent=Date.now(),0!==Math.abs(r)||0!==Math.abs(n))){if(this.allowSideswipe&&0!==r)return this.lastMove="horizontal",(s=r)>50&&(g.s8b(13),s=g.e8n("50",0)),s<-50&&(s=-50),this.grabbingScreen=!0,this.currentPanel||(this.currentPanel=this.chart.panel),this.grabStartX=u.ChartEngine.crosshairX,this.grabStartY=u.ChartEngine.crosshairY,this.grabStartScrollX=this.chart.scroll,this.grabStartScrollY=this.currentPanel.yAxis.scroll,this.grabStartMicropixels=this.micropixels,this.grabStartPanel=this.currentPanel,this.mousemoveinner(u.ChartEngine.crosshairX-s,u.ChartEngine.crosshairY),this.updateChartAccessories(),void(this.grabbingScreen=!1);if(this.lastMove="vertical",this.allowZoom&&this.displayInitialized){if(!n)if("onmousewheel"==u.wheelEvent){g.S$R(2);var d=g.e8n(1,0);if(g.S$R(80),n=d/g.d0d(6692,14,18,45,11)*t.wheelDelta,t.wheelDeltaX){g.S$R(59);var p=g.e8n(10,18,5,4);g.S$R(34),r=p/g.d0d(13,38,6)*t.wheelDeltaX}}else n=t.detail;if(typeof t.deltaMode==i&&(t.deltaMode="MozMousePixelScroll"==t.type?0:1),o=-n,1==t.deltaMode&&(o*=33),l=null,c=null,this.mouseWheelAcceleration&&(h=Math.max(Math.pow(Math.abs(o),.3),1),g.S$R(81),l=g.e8n(1,h,.1),g.S$R(54),c=g.e8n(.2,1,h)),this.zoomInitiatedByMouseWheel=!0,o>0?this.reverseMouseWheel?this.zoomOut(null,c):this.zoomIn(null,l):o<0&&(this.reverseMouseWheel?this.zoomIn(null,l):this.zoomOut(null,c)),!this.runAppend(e,arguments))return!1}}},u.ChartEngine.prototype.zoomIn=function(t,e){var i,a,r,n;if(!this.runPrepend("zoomIn",arguments))for(var s in this.preferences.zoomInSpeed?e=this.preferences.zoomInSpeed:e||(e=.7),t&&t.preventDefault&&t.preventDefault(),this.cancelTouchSingleClick=!0,i=this,this.charts){if(a=this.charts[s],r=Math.floor(a.maxTicks*e),a.maxTicks-r<1){g.s8b(2);var o=g.e8n(7,8);r=a.maxTicks-o}r<this.minimumZoomTicks&&(r=this.minimumZoomTicks),n=this.chart.width/r,this.layout.setSpan=null,this.layout.range=null,this.animations.zoom.run(l(a),this.layout.candleWidth,n)}function l(t){return g.p$K(),function(e){if(g.p$K(),i.zoomSet(e,t),i.animations.zoom.hasCompleted){if(i.runAppend("zoomIn",arguments))return;i.changeOccurred("layout"),i.continuousZoom&&i.continuousZoom.execute()}}}},u.ChartEngine.prototype.translateIf=function(t){return g.h9y(),this.translationCallback?this.translationCallback(t):t},u.ChartEngine.prototype.setTimeZone=function(t,e){var i,a,r,n,s,o;if(i="u",i+="nd",i+="e",typeof p!=(i+="fined")){for(var l in n=r=(a=new Date).getTimezoneOffset(),s=r,t&&(this.dataZone=t),this.dataZone&&(n=new p.Date(a,this.dataZone).getTimezoneOffset()),e&&(this.displayZone=e),this.displayZone&&(s=new p.Date(a,this.displayZone).getTimezoneOffset()),g.s8b(82),this.timeZoneOffset=g.e8n(r,n,r,s),this.charts)o=this.charts[l],this.setDisplayDates(o.masterData);this.preferences.timeZone=e,this.changeOccurred("preferences"),this.createDataSet()}else this.timeZoneOffset=0},u.ChartEngine.prototype.setLocale=function(t,e){var i,a,r,n,s,o,l;if(i="nu",i+="m",i+="eric",g.h9y(),a="nu",a+="meric",r="n",r+="umeri",r+="c","undefined"!=typeof Intl&&this.locale!=t){for(this.locale=t,(s=this.internationalizer={}).hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:r,hour12:!1}),s.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}),s.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),s.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:a}),s.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:i}),s.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"}),s.month=new Intl.DateTimeFormat(this.locale,{month:"short"}),s.numbers=new Intl.NumberFormat(this.locale),s.priceFormatters=[],e||(e=8),n=0;n<e+1;n++)s.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:n,minimumFractionDigits:n}));for(n=0;n<5;n++)o=n,l=n,n||(o="",l=2),g.s8b(7),s[g.d0d("percent",o)]=new Intl.NumberFormat(this.locale,{style:"percent",minimumFractionDigits:l,maximumFractionDigits:l});u.I18N.createMonthArrays&&u.I18N.createMonthArrays(this,s.month,this.locale)}},u.ChartEngine.prototype.importLayout=function(t,e){var i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O;if(i="un",i+="defined",t){if(a=this,r=[],"object"!=typeof e&&(e={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]}),n=this.layout,s=u.shallowClone(n),o=e.managePeriodicity,l=e.cb,c=e.seriesCB,h=e.noDataLoad,d=e.preserveTicksAndCandleWidth,p=this.exportDrawings(),g.p$K(),this.abortDrawings(),this.currentlyImporting=!0,u.Studies)for(var H in n.studies)f=n.studies[H],u.Studies.removeStudy(this,f);for(b in this.overlays={},m=u.shallowClone(this.panels),this.panels={},v=u.clone(t),n.periodicity=s.periodicity,n.interval=s.interval,n.timeUnit=s.timeUnit,n.setSpan=s.setSpan,n.range=s.range,d?n.candleWidth=s.candleWidth:n.candleWidth||(n.candleWidth=8),this.setCandleWidth(n.candleWidth),n.flipped&&this.flipChart(n.flipped),k=function(t,e){return g.h9y(),t.index<e.index?-1:1},y=v.panels)C="inde",(C+="x")in y[b]||(k=null),(x=y[b]).name=b,r.push(x);if(n.panels={},w=null,r.length>0){k&&r.sort(k);for(var R=0;R<r.length;++R)S=(x=r[R]).yAxis?new u.ChartEngine.YAxis(x.yAxis):null,this.stackPanel(x.display,x.name,x.percent,x.chartName,S),x.soloing&&(w=this.panels[x.name])}for(var U in u.isEmpty(y)&&this.stackPanel("chart","chart",1,"chart"),this.resizeCanvas(),m)if(D=m[U],T=this.panels[U]){for(var z in this.container.removeChild(T.holder),D.handle&&this.container.removeChild(D.handle),{holder:!0,subholder:!0,display:!0,icons:!0})T[z]=D[z];this.configurePanelControls(T),D.chart.panel==D&&(D.chart.panel=T)}else this.privateDeletePanel(D);if(this.chart.panel=this.panels.chart,W(this.panels),u.dataBindSafeAssignment(n,u.clone(v)),u.Studies)for(var V in A=u.clone(n.studies),delete n.studies,A)M=A[V],u.Studies.addStudy(this,M.type,M.inputs,M.outputs,M.parameters,M.panel);if(this.extendedHours&&this.extendedHours.prepare(n.extended,n.marketSessions),typeof n.chartType==i&&(n.chartType="line"),this.setMainSeriesRenderer(),w&&this.panelSolo(w),this.adjustPanelPositions(),W(this.panels),this.storePanels(),!h){if(v.symbols&&v.symbols.length)return L={chart:this.chart},!d&&o&&v.range&&Object.keys(v.range).length?L.range=v.range:!d&&o&&v.setSpan&&Object.keys(v.setSpan).length?L.span=v.setSpan:o&&v.interval?L.periodicity={interval:v.interval,period:v.periodicity,timeUnit:v.timeUnit}:L.periodicity={interval:s.interval,period:s.periodicity,timeUnit:s.timeUnit},_=v.symbols[0].symbolObject||v.symbols[0].symbol,void this.loadChart(_,L,(function(t){var e;if(!t){for(var i,r=1;r<v.symbols.length;++r)(i=v.symbols[r]).parameters||(i.parameters={}),e=u.clone(i.parameters),this.panels[e.panel]?a.addSeries(i.id,e,$):console.warn('Warning: Series "'+i.id+'" could not be imported due to a missing corresponding panel "'+e.panel+'"');v.chartScale&&a.setChartScale(v.chartScale)}j(),l&&l.apply(null,arguments)}));if(o){if(!d&&this.setRange){P=252437157,F=-2081241308,E=2;for(var B=1;g.T8I(B.toString(),B.toString().length,91948)!==P;B++)I=v.range,E+=2;if(g.T8I(E.toString(),E.toString().length,23026)!==F&&(I=v.range),I&&Object.keys(I).length&&this.chart.symbol)return void this.setRange(I,(function(){j(),g.p$K(),l&&l()}));if(v.setSpan&&Object.keys(v.setSpan).length&&this.chart.symbol)return void this.setSpan(v.setSpan,(function(){j(),l&&l()}))}return N=v.interval,q=v.periodicity,O=v.timeUnit,isNaN(q)&&(q=1),N||(N="day"),void this.setPeriodicity({period:q,interval:N,timeUnit:O},(function(){j(),g.p$K(),l&&l()}))}}o&&(n.periodicity=v.periodicity,n.interval=v.interval,n.timeUnit=v.timeUnit,n.setSpan=v.setSpan),this.createDataSet(),d||this.home(),j(),l&&l()}else e.cb&&e.cb();function W(t){for(var e,i=0;i<r.length;i++)s(e=r[i],"yaxisLHS"),s(e,"yaxisRHS");function n(t){return g.p$K(),!!t}function s(e,i){var a,r,s,o;if(g.h9y(),e[i]&&e[i].length&&(a=t[e.name])){r=a[i],s=new Array(r.length);for(var l=0;l<r.length;l++)(o=e[i].indexOf(r[l].name))>-1?s[o]=r[l]:s.push(r[l]);s.length&&(a[i]=s.filter(n))}}a.chart.yAxis=a.chart.panel.yAxis}function j(){var t,e,i,r;function n(){g.p$K(),a.createDataSet(),W(a.panels),a.calculateYAxisPositions(),a.draw()}for(var s in t="l",t+="ayout",a.importDrawings(p),a.currentlyImporting=!1,r=[],a.chart.series)"study"==(i=a.chart.series[s]).parameters.bucket&&(e=!0,a.removeSeries(i),r.push(i));for(var o=0;o<r.length;o++)i=r[o],a.addSeries(i.id,i.parameters,n);e||a.draw(),a.updateListeners("layout"),a.changeOccurred(t)}function $(){a.calculateYAxisPositions(),W(a.panels),c&&c()}},u.ChartEngine.prototype.exportLayout=function(t){var e,i,a,r,n,s,o,l,c,h,d,p;function f(t){var e;e=[];for(var i=0;i<t.length;i++)e.push(t[i].name);return e}for(var m in e={},this.layout)i="p",i+="anels",a="drawi",a+="n",a+="g",r="pa",r+="nel",r+="s","studies"!=m&&m!=r&&m!=a?e[m]=u.clone(this.layout[m]):"studies"==m?e.studies={}:m==i&&(e.panels={});for(var v in n=0,this.panels)s=e.panels[v]={},o=this.panels[v],s.percent=o.percent,s.display=o.display,s.chartName=o.chart.name,s.soloing=o.soloing,s.index=n++,s.yAxis={name:o.yAxis.name,position:o.yAxis.position},o.yaxisLHS&&(s.yaxisLHS=f(o.yaxisLHS)),o.yaxisRHS&&(s.yaxisRHS=f(o.yaxisRHS));for(var y in this.layout.studies)l=e.studies[y]={},c=this.layout.studies[y],l.type=c.type,l.inputs=u.clone(c.inputs),l.outputs=u.clone(c.outputs),l.panel=c.panel,l.parameters=u.clone(c.parameters);if(t){h=-754850557,d=1023165726,p=2;for(var b=1;g.T8I(b.toString(),b.toString().length,70521)!==h;b++)e.symbols=this.getSymbols({"include-parameters":!0,"exclude-studies":!0,"exclude-generated":!0}),p+=2;g.T8I(p.toString(),p.toString().length,93197)!==d&&(e.symbols=this.getSymbols({"include-parameters":!1,"exclude-studies":!1,"exclude-generated":!1}))}else delete e.symbols;return e},u.ChartEngine.prototype.doCleanupDates=function(t,e){var i,a,r,n,s,o;if(t&&t.length){g.p$K();for(var l=0;l<t.length;l++)if(i="[o",i+="bject String]",(r=(a=t[l]).DT)||a.Date){if(a.DT&&Object.prototype.toString.call(r)==i&&r.length<=10)(r=new Date(r)).setMinutes(r.getMinutes()+r.getTimezoneOffset());else{if(n=!0,a.DT||(r=u.strToDateTime(a.Date),a.Date.length<=10&&(n=!1)),"[object Date]"!=Object.prototype.toString.call(r)&&(r=new Date(r)),this.dataZone&&n){s=new p.Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),this.dataZone),g.s8b(83);var c=g.d0d(997,997,994,1,5);o=r.getSeconds()*c+r.getMilliseconds(),r=new Date(s.getTime()+o)}u.ChartEngine.isDailyInterval(e)&&r.setHours(0,0,0,0)}a.DT||(a.Date=u.yyyymmddhhmmssmmm(r)),a.DT=r}}},u.ChartEngine.prototype.doCleanupGaps=function(t,e,i){var a,r,n,s,o,l,c,h,d,p,f,m,v,y;if(a="we",a+="ek",!t||!t.length)return t;if(r=this.layout.interval,i=i||{},e||(e=this.chart),i.noCleanupDates||this.doCleanupDates(t,r),!1===(n=i.cleanupGaps))return t;function b(t,e){var a,r,n,o,h;for(r=(a=i.field)?c[a]:c,g.p$K(),void 0===r&&(r={}),n=s?null:r[f],o=s?null:r.Adj_Close;+t<+e;)h={DT:t},a||(l.push(h),u.extend(h,{Open:n,High:n,Low:n,Close:n,Volume:0,Adj_Close:o})),t=p.next()}if(n&&!0!==n||(n=this.cleanupGaps||n),g.s8b(73),s=g.e8n("gap",n),!n)return t;if("tick"==r)return t;if("month"==r||r==a){if(this.dontRoll)return t;r="day"}function x(t,e){var a,r,n,o,l,c,h,d;if(a="und",a+="ef",a+="ined",r=i.field)return n="u",n+="n",n+="defined",void(typeof t[r]!=n&&void 0===e[r]&&(e[r]=s?null:t[r]));if(!s&&(o=t[f],l=e[f],void 0!==o&&typeof l==a)){c=-723075071,h=264308369,d=2;for(var p=1;g.T8I(p.toString(),p.toString().length,99095)!==c;p++)u.ensureDefaults(e,{Close:o,Open:o,High:o,Low:o,Volume:3,Adj_Close:t.Adj_Close}),d+=2;g.T8I(d.toString(),d.toString().length,21069)!==h&&u.ensureDefaults(e,{Close:o,Open:o,High:o,Low:o,Volume:0,Adj_Close:t.Adj_Close})}}o=function(t){return t.DT?"[object Date]"!=Object.prototype.toString.call(t.DT)?new Date(t.DT):new Date(+t.DT):(g.h9y(),u.strToDateTime(t.Date))},l=[],c=t[0],l.push(c),h={begin:o(c),interval:r,periodicity:1,timeUnit:this.layout.timeUnit},d=new u.Market(e.market.market_def),p=d.newIterator(h),this.extendedHours&&this.extendedHours.filter&&p.market.enableAllAvailableSessions(),f=e.defaultPlotField;for(var S=0;S<t.length&&void 0===t[S][f];S++)if(void 0!==t[S].Value){f="Value";break}for(var k=1;k<t.length;k++){for(v=t[k],b(m=p.next(),y=o(v)),m=p.begin;y<m;){if(++k==t.length)return l;x(c,v),l.push(v),c=v,y=o(v=t[k])}m<y?(k--,m=p.previous()):(x(c,v),l.push(v),c=v)}return l},u.Comparison=function(){},g.s8b(3),u.Comparison.initialPrice=g.d0d(1,"100"),u.Comparison.getInitialPrice=function(t){var e,i,a,r,n,s,o;if(e="s",e+="tri",e+="n",e+="g",t.initialComparisonPrice)return t.initialComparisonPrice;if(t.initialComparisonPrice=100,"number"==typeof(i=u.Comparison.initialPrice)&&(t.initialComparisonPrice=i),typeof i==e&&(t.series[i]||""===i)){a=1783478833,g.s8b(3),r=-g.d0d(1,"1825587456"),n=2;for(var l=1;g.T8I(l.toString(),l.toString().length,63669)!==a;l++)s="",n+=2;g.T8I(n.toString(),n.toString().length,53737)!==r&&(s="C",s+="l",s+="ose"),t.defaultPlotField&&(t.highLowBars||(s=t.defaultPlotField));for(var c=t.dataSet.length-t.scroll;c<t.dataSet.length;c++)if(o=t.dataSet[c]){if(o[i]&&o[i][s]){t.initialComparisonPrice=o[i][s];break}if(""===i&&o[s]){t.initialComparisonPrice=o[s];break}}}return t.initialComparisonPrice},u.Comparison.priceToPercent=function(t,e,i){var a;a=u.Comparison.baseline||i,g.S$R(84);var r=g.d0d(17,900,7,39,8);g.s8b(85);var n=g.d0d(6,9990,8,3330,9982);g.S$R(86);var s=g.e8n(80048,10007,9,3,2);return Math.round((i-a)/a*r*n)/s},u.Comparison.percentToPrice=function(t,e,i){var a;return a=u.Comparison.baseline||1,g.s8b(87),g.h9y(),g.d0d(1,i,a,100)},u.Comparison.priceToRelative=function(t,e,i){var a,r;return a=u.Comparison.baseline||i,r=u.Comparison.getInitialPrice(e),g.S$R(88),g.e8n(a,r,i)},u.Comparison.relativeToPrice=function(t,e,i){var a,r;return a=u.Comparison.baseline||1,r=u.Comparison.getInitialPrice(e),g.p$K(),g.S$R(88),g.e8n(r,a,i)},u.Comparison.createComparisonSegmentInner=function(t,e){var i,a,r,n,s,o,l,c,h,d,p,f,m,v,y,b,x,S,k,C,w,D,T,A,M;for(r in i="H",i+="i",i+="g",i+="h",a=[],e.series)(o=e.series[r].parameters).isComparison&&a.push(o.symbol);if(l=["Close","Open",i,"Low","iqPrevClose"],c=t.chart.highLowBars||t.highLowBars[t.layout.chartType],e.defaultPlotField&&!c&&l.unshift(e.defaultPlotField),h=l[0],d=t.layout.studies)for(var L in d)if(p=d[L],n=t.panels[p.panel],s=p.getYAxis(t),n&&n.yAxis==s){for(r in p.outputMap)l.push(r);for(var _=0;_<=2;_++)l.push(p.name+"_hist"+(_||""));p.referenceOutput&&l.push(p.referenceOutput+" "+p.name)}for(var P in t.plugins)if((f=t.plugins[P]).transformOutputs)for(r in f.transformOutputs)l.push(r);e.initialComparisonPrice=null,e.dataSegment=[],m=null,v=e.dataSet.length-e.scroll-1,t.startComparisonsAtFirstVisibleBar&&(g.s8b(2),v+=g.e8n(0,"1")),g.s8b(30);var F=g.e8n(8,9,2);y=e.maxTicks+"3"*F;for(var E=0;E<=y;E++){if(E==y&&(E=-1),g.s8b(7),(b=g.e8n(v,E))<e.dataSet.length&&b>=0){if(S=(x=e.dataSet[b])[h],!m){if(0===S||null===S){if(E<0)break;continue}m=u.clone(x)}for(x.transform||(x.transform={cache:{},DT:x.DT,Date:x.Date}),!u.Comparison.baseline&&S&&(m=u.clone(x)),u.Comparison.baseline=m[h],k=0;k<l.length;k++)(x[r=l[k]]||0===x[r])&&(x.transform[r]=e.transformFunc(t,e,x[r]));for(k=0;k<a.length;k++)if(r=a[k],C=e.series[r],-1==E&&C&&C.parameters.isComparison)delete x.transform[r];else{w=x[r];for(var I=0;w&&I<l.length;I++)((D=w[l[I]])||0===D)&&((T=m[r]&&m[r][l[0]])||0===T||(m[r]||(m[r]={}),m[r][l[I]]=T=D*u.Comparison.baseline/x[h]),0!==T&&(A=u.Comparison.baseline||1,g.s8b(89),M=g.d0d(T,D,A),x.transform[r]||(x.transform[r]={}),x.transform[r][l[I]]=e.transformFunc(t,e,M)))}e.dataSegment.push(x)}else b<0&&e.dataSegment.push(null);if(E<0)break}},u.Comparison.priceFormat=function(t,e,i){var a,r,n;if(a="un",a+="defi",a+="n",a+="ed",null===i||typeof i==a||isNaN(i))return"";if(r=e.yAxis.priceTick,n=t.internationalizer)r>=5?(g.s8b(6),i=n.percent.format(g.d0d(i,100))):r>=.5?(g.s8b(6),i=n.percent1.format(g.d0d(i,100))):r>=.05?(g.s8b(6),i=n.percent2.format(g.d0d(i,100))):r>=.005?(g.s8b(6),i=n.percent3.format(g.d0d(i,100))):(g.s8b(6),i=n.percent4.format(g.e8n(i,100)));else if(r>=5)i=i.toFixed(0)+"%";else if(r>=.5)i=i.toFixed(1)+"%";else if(r>=.05){g.S$R(90);var s=g.e8n(10,119,8,9,11);g.S$R(91);var o=g.e8n(14,28088,3532,15,9);i=i.toFixed(s)+(o>272.04?"%":"S")}else if(r>=.005){g.s8b(92);var l=g.e8n(23037,24,10,16,6);g.S$R(2);var c=g.e8n(91658,98205);g.S$R(93);var h=g.e8n(7,78,19,4400,440);g.S$R(7);var u=g.e8n(816,8975);i=i.toFixed(l)+(c===h?u:"%")}else{g.s8b(94);var d=g.e8n(1,2,7,8,6);g.s8b(30);var p=g.e8n(9725,6,1);g.S$R(26);var f=g.e8n(2,5,2233);i=i.toFixed(d)+(p===f?1910:"%")}return 0===parseFloat(i)&&"-"==i.charAt(0)&&(i=i.substring(1)),i},u.ChartEngine.prototype.setComparison=function(t,e,i){var a,r,n;if(a="re",a+="lat",a+="ive",e||(e=this.chart),"string"==typeof e&&(e=this.charts[e]),(i||""===i)&&(u.Comparison.initialPrice=i),!0===t){if(e.isComparison)return;t="percent"}switch(g.h9y(),this.resetDynamicYAxis(),n=(r=e.panel.yAxis).priceFormatter==u.Comparison.priceFormat,t){case a:this.setTransform(e,u.Comparison.priceToRelative,u.Comparison.relativeToPrice),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet="dataSegment",e.isComparison=!0;break;case"percent":this.setTransform(e,u.Comparison.priceToPercent,u.Comparison.percentToPrice),n||(r.originalPriceFormatter={func:r.priceFormatter},r.priceFormatter=u.Comparison.priceFormat),r.whichSet="dataSegment",e.isComparison=!0;break;default:this.unsetTransform(e),n&&(r.priceFormatter=r.originalPriceFormatter?r.originalPriceFormatter.func:null,r.originalPriceFormatter=null),r.whichSet="dataSet",e.isComparison=!1}},u.ChartEngine.prototype.importPreferences=function(t){u.extend(this.preferences,t),t.timeZone&&this.setTimeZone(this.dataZone,t.timeZone),g.p$K(),t.language&&u.I18N&&u.I18N.localize(this,t.language),this.changeOccurred("preferences")},u.ChartEngine.prototype.exportPreferences=function(){return g.p$K(),this.preferences},"undefined"!=typeof document&&document.addEventListener(e,u.ChartEngine.handleContextMenu),t},Ht[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.xOom8=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"MjCMk",{get:function(){return this},configurable:!0}),e=MjCMk,i=5;break;case 4:i="undefined"==typeof xOom8?3:9;break;case 9:delete e.xOom8,delete Object.prototype.MjCMk,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Ot(Ht[513895]),Ht[574954]=Ht[254206],Ht[245362]="CQ0",Ht[321268]=(K=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.U1Opn(o)|(255&t.U1Opn(o+1))<<8|(255&t.U1Opn(o+2))<<16|(255&t.U1Opn(o+3))<<24;l=K(l,a),n=5*(n=(524287&(n^=l=K(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.U1Opn(s+2))<<16;case 2:l|=(255&t.U1Opn(s+1))<<8;case 1:l|=255&t.U1Opn(s),l=K(l,a),n^=l=K(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=K(n^=n>>>16,2246822507),n=K(n^=n>>>13,3266489909),n^=n>>>16}}),Ht[254206]=function(){for(var t=2;9!==t;)switch(t){case 5:return e[2]={},e[2].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 70:i[66]++,t=57;break;case 2:var i=[arguments];t=1;break;case 4:i[5]=[],i[2]={},i[2].j7=["j4"],t=8;break;case 22:i[15].j7=["j4"],i[15].Q$=function(){return"function"==typeof c7BAk},t=35;break;case 71:i[68]++,t=76;break;case 35:i[67]=i[15],i[95]={},i[95].j7=["F8"],i[95].Q$=function(){return/\x3d/.C3wi$(function(){return unescape("%3D")}+[])},i[16]=i[95],i[71]={},i[71].j7=["j4"],t=28;break;case 76:t=i[68]<i[83][i[44]].length?75:70;break;case 53:i[5].b3lZL(i[1]),i[5].b3lZL(i[80]),t=51;break;case 47:i[5].b3lZL(i[37]),i[5].b3lZL(i[8]),i[5].b3lZL(i[19]),i[85]=[],t=64;break;case 38:i[56].j7=["j4"],i[56].Q$=function(){return"function"==typeof r4ZbIL},i[19]=i[56],i[5].b3lZL(i[9]),t=53;break;case 10:i[7].j7=["F8"],i[7].Q$=function(){return/\u0074\x72\x75\u0065/.C3wi$(function(){return"aaa".includes("a")}+[])},i[8]=i[7],i[6]={},i[6].j7=["F8"],i[6].Q$=function(){return/\x31/.C3wi$(function(){return"aa".lastIndexOf("a")}+[])},t=15;break;case 77:i[68]=0,t=76;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 7:e=a[8]<a[0][0].length?6:18;break;case 16:e=a[8]<a[5].length?15:23;break;case 24:a[8]++,e=16;break;case 8:a[8]=0,e=7;break;case 4:a[4]={},a[5]=[],a[8]=0,e=8;break;case 12:a[5].b3lZL(a[6][i[48]]),e=11;break;case 19:a[8]++,e=7;break;case 13:a[4][a[6][i[48]]]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[1];case 2:var e=[arguments];e[1]={},e[1].h=0,e[1].t=0,t=3}}.i5PfnH(this,arguments),e=12;break;case 20:a[4][a[6][i[48]]].h+=!0,e=19;break;case 17:a[8]=0,e=16;break;case 10:e=a[6][i[33]]===i[13]?20:19;break;case 25:a[3]=!0,e=24;break;case 11:a[4][a[6][i[48]]].t+=!0,e=10;break;case 5:return;case 1:e=0===a[0][0].length?5:4;break;case 26:e=a[9]>=.5?25:24;break;case 15:a[7]=a[5][a[8]],a[9]=a[4][a[7]].h/a[4][a[7]].t,e=26;break;case 2:var a=[arguments];e=1;break;case 18:a[3]=!1,e=17;break;case 23:return a[3];case 14:e=void 0===a[4][a[6][i[48]]]?13:11;break;case 6:a[6]=a[0][0][a[8]],e=14}}(i[85])?68:67;break;case 43:i[93]={},t=42;break;case 51:i[5].b3lZL(i[16]),i[5].b3lZL(i[4]),i[5].b3lZL(i[67]),i[5].b3lZL(i[70]),t=47;break;case 75:i[89]={},i[89][i[48]]=i[83][i[44]][i[68]],i[89][i[33]]=i[11],i[85].b3lZL(i[89]),t=71;break;case 42:i[93].j7=["F8"],i[93].Q$=function(){return/\062\065/.C3wi$(function(){return encodeURI("%")}+[])},i[80]=i[93],i[56]={},t=38;break;case 26:i[64].j7=["F8"],i[64].Q$=function(){return!/\174/.C3wi$(function(){return"aaaa|a".substr(0,3)}+[])},i[70]=i[64],i[15]={},t=22;break;case 67:return e[4]=26,82;case 64:i[13]="v2",i[97]="A1",i[44]="j7",i[33]="v1",i[98]="Q$",i[48]="b3",t=58;break;case 56:i[83]=i[5][i[66]];try{i[11]=i[83][i[98]]()?i[13]:i[97]}catch(t){i[11]=i[97]}t=77;break;case 28:i[71].Q$=function(){var t=!1,e=[];try{for(var i in console)e.b3lZL(i);t=0===e.length}catch(t){}return t},i[37]=i[71],t=43;break;case 57:t=i[66]<i[5].length?56:69;break;case 15:i[9]=i[6],i[64]={},t=26;break;case 58:i[66]=0,t=57;break;case 68:t=68;break;case 1:t=e[4]?5:4;break;case 5:return 20;case 8:i[2].Q$=function(){return"function"==typeof c4e6he},i[4]=i[2],i[3]={},i[3].j7=["F8"],i[3].Q$=function(){return/\u0033\x44/.C3wi$(function(){return escape("=")}+[])},i[1]=i[3],i[7]={},t=10}},e[2];case 2:var e=[arguments];e[4]=void 0,t=5}}(),Ht.M3=function(){return"function"==typeof Ht[321268].L3LLwSS?Ht[321268].L3LLwSS.apply(Ht[321268],arguments):Ht[321268].L3LLwSS},Ht.V1=function(){return"function"==typeof Ht[299637].R9DODrP?Ht[299637].R9DODrP.apply(Ht[299637],arguments):Ht[299637].R9DODrP},Ht[299637]={p4oUdFl:function(){var t,e=arguments;switch(G){case 18:t=e[1]/+e[0];break;case 2:t=e[0]*e[1];break;case 5:t=e[0]<<e[1];break;case 12:t=e[0]+e[1];break;case 16:t=e[3]/+e[0]/e[1]-e[2];break;case 21:t=(e[4]-e[2])*e[0]-e[3]+e[1];break;case 14:t=e[3]*e[2]*+e[4]+e[1]*e[0];break;case 20:t=e[1]+e[2]+e[0];break;case 22:t=e[2]*e[3]/e[1]+e[0];break;case 7:t=e[1]>>e[0];break;case 4:t=e[1]%e[0];break;case 24:t=e[1]*e[2]+e[0];break;case 27:t=-e[1]+e[0];break;case 26:t=(e[4]-e[0]-e[1])*e[3]+e[2];break;case 19:t=e[2]*(e[0]*e[1]);break;case 25:t=e[0]-e[1]+e[2];break;case 10:t=e[1]*e[2]*e[0];break;case 1:t=e[1]*(e[0]^e[2]);break;case 15:t=e[2]*e[0]*e[3]+e[1];break;case 3:t=e[1]-+e[0];break;case 6:t=e[0]|e[1];break;case 13:t=(e[2]<<e[0])-e[1]+e[3];break;case 17:t=(e[1]-e[0])/e[2];break;case 9:t=e[0]-e[1];break;case 8:t=e[0]^e[1];break;case 23:t=e[2]+e[0]-e[1]-e[4]+e[3];break;case 11:t=e[5]*e[0]*e[3]+e[4]*e[2]+e[1];break;case 0:t=+e[0]*e[1]}return t},R9DODrP:function(t){G=t}},Ht.V2=function(){return"function"==typeof Ht[299637].p4oUdFl?Ht[299637].p4oUdFl.apply(Ht[299637],arguments):Ht[299637].p4oUdFl},Ht[302900]=!1,Ht.e1=function(){return"function"==typeof Ht[299637].p4oUdFl?Ht[299637].p4oUdFl.apply(Ht[299637],arguments):Ht[299637].p4oUdFl},Ht.y2=function(){return"function"==typeof Ht[321268].L3LLwSS?Ht[321268].L3LLwSS.apply(Ht[321268],arguments):Ht[321268].L3LLwSS},Ht.R2=function(){return"function"==typeof Ht[254206].s7rL$NJ?Ht[254206].s7rL$NJ.apply(Ht[254206],arguments):Ht[254206].s7rL$NJ},Ht.I9=function(){return"function"==typeof Ht[254206].s7rL$NJ?Ht[254206].s7rL$NJ.apply(Ht[254206],arguments):Ht[254206].s7rL$NJ},Ht.q$=function(){return"function"==typeof Ht[299637].R9DODrP?Ht[299637].R9DODrP.apply(Ht[299637],arguments):Ht[299637].R9DODrP},Ht[513895].A6VV=Ht,Ht[92321]=Ht[513895],Ht[616183]=271,Ht.R2(),g=function(t){var e,i,a,r,n,s,o=Ht;return t||(t={}),e=t.CIQ,i=t.timezoneJS,e||(e=function(){},t.CIQ=e),o.q$(0),a=o.e1("60000",60),o.V1(1),r=o.e1("24",a,0),e.Market=function(t){var a;a="und",a+="e",a+="fi",a+="ned",this.market_def=!1,this.rules=!1,this.normalHours=[],this.extraHours=[],this.class_name="Market",o.R2(),this.tz_lib=void 0===i?Date:i.Date,this.market_tz="",this.hour_aligned=!1,this.convertOnDaily=!1,this.enabled_by_default=!1,typeof t!=a&&t&&!e.isEmpty(t)&&(t.market_definition&&(t=t.market_definition),t.rules&&(this.rules=t.rules),t.market_tz&&(this.market_tz=t.market_tz),t.convertOnDaily&&(this.convertOnDaily=t.convertOnDaily),t.hour_aligned,this.hour_aligned=t.hour_aligned,void 0!==t.enabled_by_default&&t.enabled_by_default instanceof Array&&(this.enabled_by_default=t.enabled_by_default),this.market_def=t,void 0===this.market_def.name&&(this.market_def.name="no market name specified"),e.Market._createTimeSegments(this),this.getSessionNames())},e.Market.prototype.sessions=null,e.Market.Symbology=function(){},e.Market.Symbology.isForeignSymbol=function(t){var e,i,a;e=394616633,i=-1543242540,a=2;for(var r=1;o.M3(r.toString(),r.toString().length,71308)!==e;r++)return!0;if(o.R2(),o.y2(a.toString(),a.toString().length,13962)!==i)return!1},e.Market.Symbology.isFuturesSymbol=function(t){var e,i,a;e=-418136585,o.R2(),i=-720802097,a=2;for(var r=1;o.M3(r.toString(),r.toString().length,33709)!==e;r++)return!0;if(o.y2(a.toString(),a.toString().length,47531)!==i)return!1},o.R2(),e.Market.Symbology.isRateSymbol=function(t){return o.I9(),!1},e.Market.Symbology.isForexSymbol=function(t){return o.I9(),!1},e.Market.Symbology.isForexMetal=function(t,e){return o.R2(),!1},e.Market.Symbology.isForexFuturesSymbol=function(t){return o.I9(),!!e.Market.Symbology.isForexSymbol(t)||!!e.Market.Symbology.isFuturesSymbol(t)},e.Market.Symbology.factory=function(t){return o.R2(),null},e.Market.Symbology.encodeTermStructureInstrumentSymbol=function(t,e){var i;i="You are trying to call `CIQ.Market.Symbology.encodeTermStructureI",i+="n",o.R2(),i+="strumentSymbol` but have not implemented it.",console.warn(i)},e.Market.prototype.getSessionNames=function(){var t,e;return o.R2(),this.rules?this.sessions||(t=[],e=[],this.rules.map((function(i){o.R2(),i.name&&-1===t.indexOf(i.name)&&(t.push(i.name),e.push({name:i.name,enabled:!!i.enabled&&i.enabled}))})),this.sessions=e):this.sessions=[],this.sessions.slice()},e.Market.prototype._find_next_segment=function(t,e){var i,a,r,n,s,l,c;if(o.R2(),!this.market_def)return null;if(!this.rules)return null;if(i=new Date(+t),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),this._wasOpenIntraDay(i)){r=-1483592929,o.q$(2),n=o.V2("522030805",1),s=2;for(var h=1;o.M3(h.toString(),h.toString().length,2011)!==r;h++)l=this.zseg_match.close_parts.hours,s+=2;o.M3(s.toString(),s.toString().length,61186)!==n&&(l=this.zseg_match.close_parts.hours),c=this.zseg_match.close_parts.minutes,i.setHours(l),i.setMinutes(c),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})}return a.next()},e.Market.prototype._find_prev_segment=function(t,e){var i,a,r,n,s,l,c,h,u,d,p;if(!this.market_def)return null;if(!this.rules)return null;if(o.I9(),i=new Date(+t),a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz}),null===(r=this._wasOpenIntraDay(i))){n=511039630,s=1520547508,l=2;for(var g=1;o.M3(g.toString(),g.toString().length,40700)!==n;g++)o.q$(3),i=new Date(o.V2("60000",i)),l+=2;o.y2(l.toString(),l.toString().length,39600)!==s&&(o.V1(4),i=new Date(o.e1(38259,i))),r=this._wasOpenIntraDay(i)}else(e&&i.getHours()===this.zseg_match.open_parts.hours&&i.getMinutes()===this.zseg_match.open_parts.minutes||!e&&i.getHours()===this.zseg_match.close_parts.hours&&i.getMinutes()===this.zseg_match.close_parts.minutes)&&(i=a.previous());if(r){c=this.zseg_match.open_parts.hours,h=this.zseg_match.open_parts.minutes,i.setHours(c),i.setMinutes(h),u=-1787980774,d=-2082243320,p=2;for(var f=1;o.M3(f.toString(),f.toString().length,33922)!==u;f++)a=this.newIterator({begin:i,interval:9,inZone:this.market_tz,outZone:this.market_tz}),p+=2;return o.y2(p.toString(),p.toString().length,50355)!==d&&(a=this.newIterator({begin:i,interval:4,inZone:this.market_tz,outZone:this.market_tz})),i=(a=this.newIterator({begin:i,interval:1,inZone:this.market_tz,outZone:this.market_tz})).previous(),this.zseg_match.close_parts.hours===c&&this.zseg_match.close_parts.minutes===h?e?a.next():i:this.zseg_match.adjacent_child?i:e?a.next():i}return a.previous()},e.Market.prototype.disableSession=function(t,e){var i,a,r,n;if(o.I9(),i=!1,void 0!==e&&e){a=-1189357091,r=340310769,n=2;for(var s=1;o.y2(s.toString(),s.toString().length,15517)!==a;s++)i=!0,n+=2;o.M3(n.toString(),n.toString().length,91309)!==r&&(i=!1)}if(t){for(var l=0;l<this.normalHours.length;l++)this.normalHours[l].name===t&&(this.normalHours[l].enabled=i);for(l=0;l<this.extraHours.length;l++)this.extraHours[l].name===t&&(this.extraHours[l].enabled=i)}},e.Market.prototype.enableSession=function(t){o.I9(),this.disableSession(t,"enable_instead")},e.Market.prototype.enableAllAvailableSessions=function(){var t;t=this.getSessionNames();for(var e=0;e<t.length;e++)this.enableSession(t[e].name)},e.Market.prototype.getClose=function(t,e,i,a){var r,n,s,l,c;if(!this.market_def)return null;if(o.I9(),!this.rules)return null;if(r=t,t||(r=new Date,i=null),r=this._convertToMarketTZ(r,i),void 0!==e){if(this._wasOpenIntraDay(r)&&this.zseg_match.name===e)return r.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}else if(this._wasOpenDaily(r)){for(n=this.zseg_match;n.child_;)n=n.child_;for(;!n.enabled;)n=n.parent_;r.setHours(n.close_parts.hours,n.close_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a),o.V1(5),s=-o.e1("1499910831",32),l=736713570,c=2;for(var h=1;o.M3(h.toString(),h.toString().length,62819)!==s;h++)return r;if(o.y2(c.toString(),c.toString().length,2968)!==l)return r}return null},e.Market.prototype.getNextClose=function(t,e,i){var a,r,n,s,l,c;if(!this.market_def)return null;if(!this.rules)return null;a=t,t||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),this._wasOpenIntraDay(a)||(a=this.newIterator({begin:a,interval:1,inZone:this.market_tz,outZone:this.market_tz}).next()),r=2013410167,o.R2(),o.V1(2),n=o.e1("1212667480",1),s=2;for(var h=1;o.y2(h.toString(),h.toString().length,99754)!==r;h++)l=a.getDate(),o.V1(2),s+=o.e1("2",1);for(o.M3(s.toString(),s.toString().length,4550)!==n&&(l=a.getDate()),c=this.zseg_match;c.adjacent_child;)c=c.adjacent_child,l+=1;return a.setDate(l),a.setHours(c.close_parts.hours,c.close_parts.minutes,0,0),a=this._convertFromMarketTZ(a,i)},e.Market.prototype.getNextOpen=function(t,e,i){var a,r,n,s,l,c,h;if(!this.market_def)return null;if(!this.rules)return null;if(a=t,t||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),a=this._find_next_segment(a),this.zseg_match.adjacent_parent){r=-1529658041,n=599835694,s=2;for(var u=1;o.M3(u.toString(),u.toString().length,76406)!==r;u++)a=this.getNextOpen(a,this.market_tz,this.market_tz),a=this._convertFromMarketTZ(a,i),s+=2;return o.M3(s.toString(),s.toString().length,87873)!==n&&(a=this.getNextOpen(a,this.market_tz,this.market_tz),a=this._convertFromMarketTZ(a,i)),a}a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i),l=-1153139654,c=-1621188570,h=2;for(var d=1;o.M3(d.toString(),d.toString().length,86238)!==l;d++)return a;return o.M3(h.toString(),h.toString().length,90058)!==c?a:void 0},e.Market.prototype.getOpen=function(t,e,i,a){var r,n,s,l,c;if(!this.market_def)return null;if(o.R2(),!this.rules)return null;if(r=t,t||(r=new Date,i=null),r=this._convertToMarketTZ(r,i),void 0!==e){if(this._wasOpenIntraDay(r)&&this.zseg_match.name==e)return r.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}else if(this._wasOpenDaily(r)){for(n=this.zseg_match;n.parent_;)n=n.parent_;for(;!n.enabled;)n=n.child_;return r.setHours(n.open_parts.hours,n.open_parts.minutes,0,0),r=this._convertFromMarketTZ(r,a)}s=720051367,o.V1(6),l=o.V2("1557973623",21),o.V1(7),c=o.e1(64,"2");for(var h=1;o.y2(h.toString(),h.toString().length,24907)!==s;h++)return null;return o.y2(c.toString(),c.toString().length,33966)!==l?1:void 0},e.Market.prototype.getPreviousClose=function(t,e,i){var a;return this.market_def&&this.rules?(a=t,t||(a=new Date,e=null),a=this._convertToMarketTZ(a,e),a=this._find_prev_segment(a,!1),this.zseg_match.adjacent_child?this.getPreviousClose(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.close_parts.hours),a.setMinutes(this.zseg_match.close_parts.minutes),a=this._convertFromMarketTZ(a,i),o.I9(),a)):null},e.Market.prototype.getPreviousOpen=function(t,e,i){var a,r,n,s,l,c,h;if(!this.market_def)return null;if(!this.rules)return null;if(a=t,!t){a=new Date,r=1894866661,n=-286288796,s=2;for(var u=1;o.y2(u.toString(),u.toString().length,7307)!==r;u++)e=1,s+=2;o.y2(s.toString(),s.toString().length,24993)!==n&&(e=null)}a=this._convertToMarketTZ(a,e),l=-1044978202,o.q$(7),c=o.V2(96,"1367740363"),h=2;for(var d=1;o.y2(d.toString(),d.toString().length,69512)!==l;d++)a=this._find_prev_segment(a,!0),h+=2;return o.I9(),o.y2(h.toString(),h.toString().length,57120)!==c&&(a=this._find_prev_segment(a,!1)),this.zseg_match.adjacent_parent?this.getPreviousOpen(a,this.market_tz,this.market_tz):(a.setHours(this.zseg_match.open_parts.hours),a.setMinutes(this.zseg_match.open_parts.minutes),a=this._convertFromMarketTZ(a,i))},e.Market.prototype.getSession=function(t,e){var i,a,r;i=1162567786,a=1679505928,r=2;for(var n=1;o.y2(n.toString(),n.toString().length,48361)!==i;n++)t=this._convertToMarketTZ(t,e),r+=2;return o.M3(r.toString(),r.toString().length,90835)!==a&&(t=this._convertToMarketTZ(t,e)),o.R2(),this._wasOpenIntraDay(t)&&this.zseg_match?this.zseg_match.name:null},e.Market.prototype.marketZoneNow=function(){return this._convertToMarketTZ(new Date)},e.Market.prototype.isHourAligned=function(){return o.I9(),this.hour_aligned},e.Market.prototype.isOpen=function(){var t;return t=new Date,this.market_tz&&(t=new this.tz_lib(t.getTime(),this.market_tz)),this._wasOpenIntraDay(t)},e.Market.prototype.isMarketDay=function(){var t;return t=new Date,this.market_tz&&(t=new this.tz_lib(t.getTime(),this.market_tz)),this._wasOpenDaily(t)},e.Market.prototype.isMarketDate=function(t){return o.I9(),this._wasOpenDaily(t)},e.Market.prototype.newIterator=function(t){var i,a,r,n,s,l,c,h,u,d,p,g,f,m,v,y,b,x,S;if(i="ti",i+="c",i+="k",a=!1,t.periodicity){r=2113038112,o.q$(8),n=-o.V2("937044081",0),s=2;for(var k=1;o.y2(k.toString(),k.toString().length,10303)!==r;k++)a=t.periodicity,s+=2;o.M3(s.toString(),s.toString().length,10649)!==n&&(a=t.periodicity)}else if(t.multiple){o.V1(9),l=-o.e1("1652734945",0),c=1932648281,h=2;for(var C=1;o.y2(C.toString(),C.toString().length,59270)!==l;C++)a=t.multiple,h+=2;o.M3(h.toString(),h.toString().length,97574)!==c&&(a=t.multiple)}if((u=t.interval)||(u="minute"),"hour"==u&&(u=60),!a){d=1358279081,o.q$(9),p=-o.V2("1840289051",0),g=2;for(var w=1;o.y2(w.toString(),w.toString().length,71888)!==d;w++)a=4,g+=2;o.y2(g.toString(),g.toString().length,26945)!==p&&(a=4),a=1}if(t.begin||(t.begin=new Date,t.inZone=null),u==parseInt(u,10)){f=819385074,m=1189599887,v=2;for(var D=1;o.y2(D.toString(),D.toString().length,291)!==f;D++)u=parseInt(u,10),v+=2;o.y2(v.toString(),v.toString().length,89888)!==m&&(u=parseInt(u,82)),t.periodicity<1/60?(o.V1(10),a=o.e1(6e4,a,u),u="millisecond"):t.periodicity<1?(y="s",y+="e",y+="con",y+="d",o.V1(10),a=o.V2(60,a,u),u=y):(b="m",b+="inu",b+="t",b+="e",o.q$(2),a=o.V2(a,u),u=b)}return t.timeUnit&&(x="millisec",x+="ond",t.timeUnit===x||"second"===t.timeUnit?u=t.timeUnit:"tick"===t.timeUnit&&(S="sec",u=S+="ond")),u==i&&(u="second"),t.interval=u,t.multiple=a,t.market=this,new e.Market.Iterator(t)},e.Market.prototype._wasOpenDaily=function(t){return this._was_open(t,!1)},e.Market.prototype._wasOpenIntraDay=function(t){return o.R2(),this._was_open(t,!0)},e.Market.prototype._was_open=function(t,e){var i,a,r,n,s,l,c,h,u,d,p,g,f;if(i=this.zseg_match,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null,!this.market_def||!this.rules)return this.zclose_hour=24,!0;a=!1,r=!1,n=t.getFullYear(),o.V1(9);var m=o.V2(13,12);for(s=t.getMonth()+m,l=t.getDay(),c=t.getDate(),h=t.getHours(),u=t.getMinutes(),d=t.getSeconds(),o.q$(11),g=o.e1(60,d,60,60,u,h),void 0===e&&(e=!0),f=0;f<this.normalHours.length;f++)if((p=this.normalHours[f]).enabled&&((a=p.dayofweek===l)&&e&&(a=g>=p.open&&g<p.close),a)){if(!e&&this.zseg_match&&(p.open_parts.hours>this.zopen_hour||p.open_parts.hours==this.zopen_hour&&p.open_parts.minutes>this.zopen_minute))continue;if(p===i||p.adjacent_parent||p.adjacent_child||(this.shouldResetToBeginningOfSegment=!0),this.zopen_hour=p.open_parts.hours,this.zopen_minute=p.open_parts.minutes,this.zclose_hour=p.close_parts.hours,this.zclose_minute=p.close_parts.minutes,this.zmatch_open=g===p.open,this.zseg_match=p,e)break}for(f=0;f<this.extraHours.length;f++)if((p=this.extraHours[f]).enabled&&("*"===p.year||n===p.year)&&s===p.month&&c===p.day&&(!(r=!e&&p.open||g>=p.open&&g<p.close)&&this.zseg_match&&(a=!1,this.zopen_hour=0,this.zopen_minute=0,this.zclose_hour=0,this.zclose_minute=0,this.zmatch_open=!1,this.zseg_match=null),r)){if(!e&&this.zseg_match&&(p.open_parts.hours>this.zopen_hour||p.open_parts.hours==this.zopen_hour&&p.open_parts.minutes>this.zopen_minute))continue;if(this.zopen_hour=p.open_parts.hours,this.zopen_minute=p.open_parts.minutes,this.zclose_hour=p.close_parts.hours,this.zclose_minute=p.close_parts.minutes,this.zmatch_open=g===p.open,this.zseg_match=p,e)break}return this.zseg_match},e.Market.prototype._wasClosed=function(t){var e,i,a;e=-1581532461,i=2036801980,a=2;for(var r=1;o.M3(r.toString(),r.toString().length,7093)!==e;r++)return-this._was_open(t,!1);return o.R2(),o.M3(a.toString(),a.toString().length,34393)!==i?-this._was_open(t,!1):!this._was_open(t,!0)},e.Market.prototype._wasOpen=function(t){return o.I9(),this._was_open(t,!0)},e.Market.prototype._tzDifferenceMillis=function(t,e,i){var a,r;return a=t,r=t.getTimezoneOffset()-a.getTimezoneOffset(),o.V1(10),o.V2(1e3,r,60)},e.Market._createTimeSegments=function(t){var e,i,a,r,s,l,c,h,u,d;e=function(t,e){if(24===t.close_parts.hours&&0===e.open_parts.hours&&0===e.open_parts.minutes){if(i.dayofweek===h.dayofweek-1)return!0;if(6===i.dayofweek&&0===h.dayofweek)return!0}return o.R2(),!1};for(var p=0;p<t.rules.length;p++){a="u",a+="ndefined",typeof(r=JSON.parse(JSON.stringify(t.rules[p]))).open===a&&void 0===r.close&&(s="00",s+=":",s+="00",l="00:",l+="00",r.open=l,r.close=s),r.hasOwnProperty("name")||(r.name="");try{if(c="undefin",c+="e",c+="d",void 0!==r.dayofweek?(r.year="*",h=n._createDayOfWeekSegment(t,r),i&&(i.dayofweek===h.dayofweek?(i.child_=h,h.parent_=i):e(i,h)&&(i.adjacent_child=h,h.adjacent_parent=i)),i=h):typeof r.date!==c?(r.isDayOfWeek=!1,o.V1(2),r.dayofweek=-o.e1("1",1),h=n._createDateTimeSegment(t,r)):(u="Err",u+="or, unknown rule type ",o.q$(12),console.log(o.V2(u,r))),t.enabled_by_default)for(var g=0;g<t.enabled_by_default.length;g++)if(d=t.enabled_by_default[g],h.name===d){h.enabled=!0;break}}catch(t){var f;f="Error,",f+=" creating market rules ",o.V1(12),console.log(o.e1(f,t))}}},e.Market._timeSegment={},(n=e.Market._timeSegment).re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/,n.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n.re_split_hours_minutes=/^(\d\d):(\d\d)$/,n.re_split_hour_minutes=/^(\d):(\d\d)$/,n._hashCode=function(t){var e,i,a,r;if(e=0,0===t.length)return e;for(i=0,r=t.length;i<r;i++)a=t.charCodeAt(i),o.V1(13),e=o.e1(5,e,e,a),e|=0;return o.R2(),e},n._splitHoursMinutes=function(t){var e,i;return e=n.re_split_hour_minutes.exec(t),o.I9(),i={hours:NaN,minutes:NaN},null===e&&null===(e=n.re_split_hours_minutes.exec(t))||(i.hours=parseInt(e[1],10),i.minutes=parseInt(e[2],10)),i},n._createDayOfWeekSegment=function(t,e){var i,a,r,s;""===(i={name:e.name,isDayOfWeek:!0,dayofweek:e.dayofweek,date_str:"*",open_parts:n._splitHoursMinutes(e.open),close_parts:n._splitHoursMinutes(e.close),open:n._secSinceMidnight(t,e.open,!0),close:n._secSinceMidnight(t,e.close,!1),child_:!1,parent_:!1,adjacent_child:!1,adjacent_parent:!1,enabled:!1}).name&&(i.enabled=!0),i.hash_code=this._hashCode((i.open+i.close).toString()),o.I9(),a=1765399976,r=950312743,s=2;for(var l=1;o.M3(l.toString(),l.toString().length,45647)!==a;l++)t.normalHours.push(i),s+=2;return o.M3(s.toString(),s.toString().length,69724)!==r&&t.normalHours.push(i),t.normalHours.push(i),i},n._createDateTimeSegment=function(t,e){var i,a,r,s,l,c;i=this.re_regular_iso.exec(e.date),a=522172864,o.R2(),r=2;for(var h=1;o.y2(h.toString(),h.toString().length,94261)!==a;h++)r+=2;if(o.y2(r.toString(),r.toString().length,51911),null===i){if(null===(i=this.re_wild_card_iso.exec(e.date)))return l="Warning: invalid da",l+="te f",l+="ormat on rule -> ",void console.log(l+e.date);s="*"}else s=parseInt(i[1],10);return""===(c={name:e.name,isDayOfWeek:!1,dayofweek:-1,year:s,month:parseInt(i[2],10),day:parseInt(i[3],10),date_str:e.date,open_parts:n._splitHoursMinutes(e.open),close_parts:n._splitHoursMinutes(e.close),open:n._secSinceMidnight(t,e.open,!0),close:n._secSinceMidnight(t,e.close,!1),enabled:!1}).name&&(c.enabled=!0),c.hash_key=this._hashCode(c.date_str+c.open+c.close),t.extraHours.push(c),c},n._secSinceMidnight=function(t,e,i){var a,r,n,s,l,c,h,u,d,p;if(a=e.split(":"),r=parseInt(a[0],10),n=parseInt(a[1],10),o.V1(14),s=o.V2(60,n,60,r,"60"),!i&&24===r){l=-76576902,c=-1648286750,h=2;for(var g=1;o.M3(g.toString(),g.toString().length,7484)!==l;g++)o.q$(15),s=o.V2(60,1,r,60),h+=2;o.M3(h.toString(),h.toString().length,31116)!==c&&(o.q$(16),s=o.e1("72",46,6,r))}u=1378914565,o.q$(6),d=-o.e1("821740850",2),p=2;for(var f=1;o.M3(f.toString(),f.toString().length,6161)!==u;f++)return s;if(o.M3(p.toString(),p.toString().length,3893)!==d)return s},e.Market.prototype._convertToMarketTZ=function(t,e){var i;return(i=e?new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),e):new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())).setTimezone&&i.setTimezone(this.market_tz),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())},e.Market.prototype._convertFromMarketTZ=function(t,e){var i;return o.R2(),i=new this.tz_lib(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),this.market_tz),e?(i.setTimezone&&i.setTimezone(e),new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):new Date(i.getTime())},e.Market.Iterator=function(t){this.market=t.market,this.begin=t.begin,this.interval=t.interval,this.multiple=t.multiple,this.inZone=t.inZone,this.outZone=t.outZone,this.clock=new e.Market.Iterator._Clock(t.market,t.interval,t.multiple),this.intraDay=this.clock.intra_day,this.intraDay&&(this.begin=this.market._convertToMarketTZ(this.begin,t.inZone)),o.R2(),this.clock._setStart(this.begin),this.clock.minutes_aligned=!1},e.Market.Iterator.prototype.date=function(){return o.R2(),this.clock._date()},e.Market.Iterator.prototype.futureTick=function(t){var e,i,a,r,n,s,l,c,h,u,d;if(this.clock.skip=1,o.I9(),e=0,(i=this.intraDay?this.market._convertToMarketTZ(t.end,this.inZone).getTime():t.end.getTime())===(a=this.clock.ctime))return e;if(o.q$(2),r=o.e1("2",1),n=1e3,s=0,t.sample_size&&(r=t.sample_size),l=(new Date).getTime(),i>a){h=-282852291,u=1430958192,d=2;for(var p=1;o.M3(p.toString(),p.toString().length,13880)!==h;p++)this.clock.forward=!1,d+=2;for(o.M3(d.toString(),d.toString().length,92366)!==u&&(this.clock.forward=!0);this.clock.ctime<i;)if(o.q$(5),e+=o.e1("1",0),o.q$(9),s+=o.e1("1",0),this.clock._findNext(),s===n&&(s=0,(new Date).getTime()-l>=r)){c=(this.clock.ctime-a)/e,o.q$(17),e=Math.floor(o.V2(a,i,c));break}this.clock.ctime>i&&e--}else for(this.clock.forward=!1;this.clock.ctime>i;)if(e+=1,s+=1,this.clock._findPrevious(),s===n&&(o.V1(8),s=o.V2("0",0),(new Date).getTime()-l>=r)){c=(a-this.clock.ctime)/e,o.q$(17),e=Math.floor(o.V2(i,a,c));break}return e},e.Market.Iterator.prototype.isHourAligned=function(){var t,e,i;t=2029878388,e=2121076878,i=2;for(var a=1;o.y2(a.toString(),a.toString().length,63101)!==t;a++)return!this.intraDay||this.market.isHourAligned();if(o.M3(i.toString(),i.toString().length,88039)!==e)return-this.intraDay&&this.market.isHourAligned()},e.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen()},e.Market.Iterator.prototype.next=function(t){var e,i,a;if(o.q$(2),this.clock.skip=o.e1("1",1),t){e=-1028445844,i=1133148971,a=2;for(var r=1;o.M3(r.toString(),r.toString().length,71702)!==e;r++)this.clock.skip=t,a+=2;o.y2(a.toString(),a.toString().length,10356)!==i&&(this.clock.skip=t)}this.clock.forward=!0;for(var n=0;n<this.clock.skip;n++)this.begin=this.clock._findNext();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},e.Market.Iterator.prototype.peek=function(){return this.clock._peek()},e.Market.Iterator.prototype.previous=function(t){this.clock.skip=1,t&&(this.clock.skip=t),this.clock.forward=!1;for(var e=0;e<this.clock.skip;e++)this.begin=this.clock._findPrevious();return this.intraDay||this.market.convertOnDaily?this.market._convertFromMarketTZ(this.clock.display_date,this.outZone):this.clock.display_date},e.Market.Iterator._Clock=function(t,e,i){var n,s,l,c,h,u,d,p,g,f,m,v,y,b;if(n="m",n+="i",n+="nut",n+="e",s="sec",s+="on",s+="d",l="seco",l+="nd",i%60==0&&e===l&&(e="minute",o.q$(18),i=o.e1("60",i)),this.market=t,this.interval=e,this.multiple=i,this.intra_day=!1,this.intervals=[],this.max_iters=10080,c=r,h=this._dayImpl,"millisecond"===e){u=-1626774916,d=-611640796,p=2;for(var x=1;o.M3(x.toString(),x.toString().length,69308)!==u;x++)h=this._millisImpl,p+=2;o.y2(p.toString(),p.toString().length,71455)!==d&&(h=this._millisImpl),h=this._millisImpl,o.q$(8),c=o.V2("1",0)}else if(e===s)h=this._secondImpl,c=1e3;else if(e===n)h=this._minuteImpl,c=6e4;else if("hour"===e){o.V1(2),g=-o.e1("330135160",1),f=-1147248923,m=2;for(var S=1;o.y2(S.toString(),S.toString().length,3614)!==g;S++)h=this._hourImpl,m+=2;o.y2(m.toString(),m.toString().length,94331)!==f&&(h=this._hourImpl),c=a}else if("day"===e){h=this._dayImpl,v=-1717173025,y=195288414,b=2;for(var k=1;o.M3(k.toString(),k.toString().length,78139)!==v;k++)c=r,b+=2;o.M3(b.toString(),b.toString().length,82707)!==y&&(c=r)}else"week"===e?(h=this._weekImpl,o.V1(19),c=o.e1("7",1,r)):"month"===e?(h=this._monthImpl,o.q$(2),c=o.e1(r,30)):(o.q$(20),console.log(o.e1('" is not a valid interval. Please see setPeriodicity() for details.','Periodicity ERROR: "',e)));o.q$(2),this.tick_time=o.e1(c,i),this.intra_day=this.tick_time<r,this._findPrevious=this._findNext=h},(s=e.Market.Iterator._Clock.prototype)._total_minutes=function(t,e,i,a){return o.I9(),o.V1(21),o.V2(60,a,t,e,i)},s._alignMinutes=function(){var t,e,i,a,r,n,s,l,c,h,u;if(o.R2(),!this.market.market_def||void 0===this.market.zopen_minute)return[];if(t=this.market.zopen_minute,(e=this.market.zseg_match)&&e.adjacent_parent){i=859929731,a=-1798008248,r=2;for(var d=1;o.M3(d.toString(),d.toString().length,26901)!==i;d++){o.q$(22);var p=o.V2(5853,1540,308,20);t=(e.adjacent_parent.open+81)%p,r+=2}if(o.y2(r.toString(),r.toString().length,51794)!==a){o.V1(21);var g=o.e1(8,123,11,7,4);o.V1(23);var f=o.V2(11,18,111,1349,13);t=e.adjacent_parent.open/g-f}}else this.market.isHourAligned()&&this.multiple%60==0&&(t=0);n=this._total_minutes(this.market.zopen_hour,t,this.market.zclose_hour,this.market.zclose_minute),s=-2093061649,l=281072332,c=2;for(var m=1;o.y2(m.toString(),m.toString().length,47316)!==s;m++)h=[],c+=2;for(o.M3(c.toString(),c.toString().length,24359)!==l&&(h=[]),u=0;u<n;)o.q$(12),h.push(o.V2(t,u)),u+=this.multiple;return h},s._alignBaseZero=function(t){var e,i;for(i=[e=0];!((e+=this.multiple)>=t);)i.push(e);return i},s._date=function(){var t,e,i,a,r,n,s,l;if(t=Math.round(this.ctime),e=new Date(t),this.intra_day){o.q$(8),i=o.e1("1395510585",0),a=257947568,r=2;for(var c=1;o.M3(c.toString(),c.toString().length,44188)!==i;c++)this.display_date=new Date(t*this.shift_millis),o.V1(6),r+=o.V2("2",0);o.y2(r.toString(),r.toString().length,2991)!==a&&(this.display_date=new Date(t+this.shift_millis))}else this.display_date=e;n=911680721,s=-1963207031,o.q$(2),l=o.e1("2",1);for(var h=1;o.y2(h.toString(),h.toString().length,91352)!==n;h++)return e;if(o.y2(l.toString(),l.toString().length,69186)!==s)return e},s._alignToBoundary=function(t,e){var i,a,r;o.R2(),i=0,a=0,r=e;for(var n=0;n<t.length-1&&(i=t[n],o.q$(12),a=t[o.e1(n,1)],e!==i&&e!==a);n++){if(e>i&&e<a){r=i;break}n+1===t.length-1&&(r=a)}return r},s._peek=function(){return o.I9(),this._date().toString()},s._seekHr=function(){this.forward?this.ctime-=a:this.ctime+=a},s._setStart=function(t){var e,i;e=this.market._tzDifferenceMillis(t),i=new Date(t.getTime()+e),this.shift_millis=e,this.ctime=i.getTime(),this.shift_millis=0,this.ctime=t.getTime()},s._tickTock=function(){o.R2(),this.forward?this.ctime+=this.tick_time:this.ctime-=this.tick_time},s._tockTick=function(){this.forward?this.ctime-=this.tick_time:this.ctime+=this.tick_time},s._tickTock24=function(){this.ctime+=r},s._tockTick24=function(){var t,e,i;o.I9(),t=854680381,e=-1096441293,i=2;for(var a=1;o.y2(a.toString(),a.toString().length,9209)!==t;a++)this.ctime*=r,i+=2;o.y2(i.toString(),i.toString().length,50469)!==e&&(this.ctime-=r)},s._windMaybe=function(t,e){var i,a,r,n,s;for(i=0,a=new Date(this.ctime),r=!1;!t.call(this.market,a);)if(e.call(this),r=!0,a=new Date(this.ctime),(i+=1)>this.max_iters){n=") reached with no",n+=" rul",n+="e match.",s="Warning! max iterations ("+this.max_iters,s+=n,console.log(s);break}return r},s._millisImpl=function(){var t,e,i,a,r,n,s,l,c,h;return t=!1,this.mperiods_aligned||(e=this._alignBaseZero(1e3),a=(i=new Date(this.ctime)).getMilliseconds(),a=this._alignToBoundary(e,a),i.setMilliseconds(0),this.ctime=i.getTime()+a,this.mperiods_aligned=!0,t=!0),o.R2(),r=this._date().getMinutes(),this._tickTock(),n=this._date().getMinutes(),!t&&r==n||this.market._wasOpenIntraDay(this._date())||(s=this._date().getSeconds(),l=this._date().getMilliseconds(),c=this.tick_time,this.tick_time=6e4,h=this.multiple,this.multiple=1,this._minuteImpl(),this.tick_time=c,this.multiple=h,o.V1(24),this.ctime+=o.V2(l,1e3,s)),this._date()},s._secondImpl=function(){var t,e,i,a,r,n,s,l,c,h,u,d,p,g;if(t=!1,this.speriod_aligned||(e=this._alignBaseZero(60),a=(i=new Date(this.ctime)).getSeconds(),a=this._alignToBoundary(e,a),i.setSeconds(a),i.setMilliseconds(0),this.ctime=i.getTime(),this.speriod_aligned=!0,t=!0),r=this._date().getMinutes(),o.I9(),this._tickTock(),n=this._date().getMinutes(),(t||r!=n)&&!this.market._wasOpenIntraDay(this._date())){s=this._date().getSeconds(),l=this.tick_time,this.tick_time=6e4,c=this.multiple,o.q$(7),h=o.e1(0,"918415748"),u=-825539396,d=2;for(var f=1;o.M3(f.toString(),f.toString().length,10850)!==h;f++)this.multiple=6,this._minuteImpl(),d+=2;o.y2(d.toString(),d.toString().length,9761)!==u&&(this.multiple=7,this._minuteImpl()),this.multiple=1,this._minuteImpl(),this.tick_time=l,this.multiple=c,o.V1(2),this.ctime+=o.V2(1e3,s)}p=-1358807985,g=2;for(var m=1;o.M3(m.toString(),m.toString().length,41085)!==p;m++)return this._date();return o.y2(g.toString(),g.toString().length,12280),this._date()},s._minuteImpl=function(){var t,e,i,a,r,n,s,l,c,h;t=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),i=(e=new Date(this.ctime)).getTimezoneOffset(),a=e.getMinutes(),r=e.getHours(),n=this._alignMinutes(),s=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,r,a)+this.market.zopen_minute,s=t?this.forward?n[n.length-1]:n[0]:this._alignToBoundary(n,s),o.q$(25);var u=o.V2(9,7,58);if(r=Math.floor(s/u)+this.market.zopen_hour,o.q$(4),e.setHours(r,o.e1(60,s),0,0),l=e.getTimezoneOffset()-i,(this.forward&&l<0||!this.forward&&l>0)&&e.setTime(e.getTime()-6e4*l),this.ctime=e.getTime(),this._tickTock(),c=this.market.hour_aligned&&this.multiple%60==0,this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!c&&this.shouldResetToBeginningOfSegment){if(e=new Date(this.ctime),this.forward)e.setMinutes(this.market.zopen_minute),e.setHours(this.market.zopen_hour);else{n=this._alignMinutes(),o.q$(26);var d=o.e1(16,12,281,10,0);h=n[n.length-d],o.q$(4),e.setMinutes(o.e1(60,h)),e.setHours(Math.floor(h/60)+this.market.zopen_hour)}this.ctime=e.getTime()}return this._date()},s._hourImpl=function(){var t,e,i,a,r;if(this._windMaybe(this.market._wasOpenIntraDay,this._tockTick),t=new Date(this.ctime),this.market.isHourAligned()?t.setMinutes(0):t.setMinutes(this.market.zopen_minute),t.setSeconds(0),t.setMilliseconds(0),this.ctime=t.getTime(),this._tickTock(),e=this.market.zseg_match,this._windMaybe(this.market._wasOpenIntraDay,this._tickTock)||!this.market.hour_aligned&&e!=this.market.zseg_match){if(i=new Date(this.ctime),this.forward)i.setMinutes(this.market.zopen_minute),i.setHours(this.market.zopen_hour);else{a=this._alignMinutes(),o.q$(27);var n=o.e1(13,12);r=a[a.length-n],o.V1(4),i.setMinutes(o.V2(60,r)),i.setHours(Math.floor(r/60)+this.market.zopen_hour)}this.ctime=i.getTime()}return this._date()},s._dayImpl=function(){var t,e;for(this._windMaybe(this.market._wasOpenDaily,this._seekHr),t=new Date(this.ctime),o.V1(9),t.setHours(12,o.e1("0",0),0,0),this.ctime=t.getTime(),e=0;e<this.multiple;)this.forward?this._tickTock24():this._tockTick24(),this.market._wasOpenDaily(this._date())&&(e+=1);return t=new Date(this.ctime),o.V1(6),o.I9(),t.setHours(o.V2("0",0)),this.ctime=t.getTime(),this._date()},s._weekImpl=function(){var t;for((t=new Date(this.ctime)).setHours(12),this.ctime=t.getTime(),this._tickTock(),t=new Date(this.ctime);0!==t.getDay();)this._tockTick24(),t=new Date(this.ctime);return this._windMaybe(this.market._wasOpenDaily,this._tickTock24),o.I9(),(t=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=t.getTime(),this._date()},s._monthImpl=function(){var t;return o.I9(),(t=new Date(this.ctime)).setDate(15),this.ctime=t.getTime(),this._tickTock(),(t=new Date(this.ctime)).setDate(1),t.setHours(12),this.ctime=t.getTime(),this._windMaybe(this.market._wasOpenDaily,this._tickTock24),(t=new Date(this.ctime)).setHours(0,0,0,0),this.ctime=t.getTime(),this._date()},s._findNext=null,s._findPrevious=null,t},Rt[321268]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.k1S6e=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"xHnGG",{get:function(){return this},configurable:!0}),e=xHnGG,i=5;break;case 4:i="undefined"==typeof k1S6e?3:9;break;case 9:delete e.k1S6e,delete Object.prototype.xHnGG,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Ut(Rt[321268]),Rt.b6=function(){return"function"==typeof Rt[254206].a33NVxA?Rt[254206].a33NVxA.apply(Rt[254206],arguments):Rt[254206].a33NVxA},Rt.z$L=function(){return"function"==typeof Rt[574954].p4oUdFl?Rt[574954].p4oUdFl.apply(Rt[574954],arguments):Rt[574954].p4oUdFl},Rt[302900]="Yol",Rt.S=function(){return"function"==typeof Rt[299637].L3LLwSS?Rt[299637].L3LLwSS.apply(Rt[299637],arguments):Rt[299637].L3LLwSS},Rt[321268].s4JJ=Rt,Rt.c2=function(){return"function"==typeof Rt[254206].r3wEIzO?Rt[254206].r3wEIzO.apply(Rt[254206],arguments):Rt[254206].r3wEIzO},Rt.Z3=function(){return"function"==typeof Rt[254206].a33NVxA?Rt[254206].a33NVxA.apply(Rt[254206],arguments):Rt[254206].a33NVxA},Rt.T8B=function(){return"function"==typeof Rt[574954].R9DODrP?Rt[574954].R9DODrP.apply(Rt[574954],arguments):Rt[574954].R9DODrP},Rt.e3=function(){return"function"==typeof Rt[513895].o6xazHp?Rt[513895].o6xazHp.apply(Rt[513895],arguments):Rt[513895].o6xazHp},Rt[245362]="F0n",Rt.C9=function(){return"function"==typeof Rt[513895].o6xazHp?Rt[513895].o6xazHp.apply(Rt[513895],arguments):Rt[513895].o6xazHp},Rt[616183]=function(){for(var t=2;9!==t;)if(2===t){var e=[arguments];return e[3]=void 0,e[4]={},e[4].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 71:i[11]++,t=76;break;case 44:i[71]=i[16],i[37]={},t=42;break;case 2:var i=[arguments];t=1;break;case 52:i[5].J4kT7q(i[14]),t=51;break;case 75:i[67]={},i[67][i[97]]=i[93][i[96]][i[11]],i[67][i[43]]=i[82],i[19].J4kT7q(i[67]),t=71;break;case 47:i[5].J4kT7q(i[2]),i[5].J4kT7q(i[71]),i[5].J4kT7q(i[92]),i[19]=[],t=64;break;case 77:i[11]=0,t=76;break;case 4:i[5]=[],i[9]={},i[9].Q1Z=["Y4q"],i[9].M7q=function(){return/\u003d/.m3OTV1(function(){return unescape("%3D")}+[])},t=7;break;case 51:i[5].J4kT7q(i[94]),i[5].J4kT7q(i[55]),i[5].J4kT7q(i[7]),i[5].J4kT7q(i[6]),t=47;break;case 64:i[84]="a7F",i[13]="y7d",t=62;break;case 58:i[48]=0,t=57;break;case 56:i[93]=i[5][i[48]];try{i[82]=i[93][i[32]]()?i[84]:i[13]}catch(t){i[82]=i[13]}t=77;break;case 70:i[48]++,t=57;break;case 10:i[8].Q1Z=["n2O"],i[8].M7q=function(){var t=!1,e=[];try{for(var i in console)e.J4kT7q(i);t=0===e.length}catch(t){}return t},i[4]=i[8],t=18;break;case 62:i[96]="Q1Z",i[43]="d4p",i[32]="M7q",i[97]="A7F",t=58;break;case 76:t=i[11]<i[93][i[96]].length?75:70;break;case 67:return e[3]=45,45;case 33:i[66].Q1Z=["Y4q"],i[66].M7q=function(){return/\170/.m3OTV1(function(){return"X".toLocaleLowerCase()}+[])},t=31;break;case 7:i[2]=i[9],i[3]={},i[3].Q1Z=["Y4q"],t=13;break;case 68:t=68;break;case 1:t=e[3]?5:4;break;case 5:return 97;case 18:i[1]={},i[1].Q1Z=["n2O"],i[1].M7q=function(){return"function"==typeof R0DgID},i[7]=i[1],i[36]={},i[36].Q1Z=["n2O"],i[36].M7q=function(){return"function"==typeof k$cBvO},t=24;break;case 54:i[5].J4kT7q(i[63]),i[5].J4kT7q(i[4]),t=52;break;case 31:i[94]=i[66],i[16]={},i[16].Q1Z=["Y4q"],i[16].M7q=function(){return!/\x61/.m3OTV1(function(){return"ab".charAt(1)}+[])},t=44;break;case 57:t=i[48]<i[5].length?56:69;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[6]>=.5?25:24;break;case 2:var a=[arguments];e=1;break;case 1:e=0===a[0][0].length?5:4;break;case 14:e=void 0===a[5][a[8][i[97]]]?13:11;break;case 10:e=a[8][i[43]]===i[84]?20:19;break;case 6:a[8]=a[0][0][a[9]],e=14;break;case 11:a[5][a[8][i[97]]].t+=!0,e=10;break;case 17:a[9]=0,e=16;break;case 19:a[9]++,e=7;break;case 23:return a[7];case 25:a[7]=!0,e=24;break;case 24:a[9]++,e=16;break;case 12:a[4].J4kT7q(a[8][i[97]]),e=11;break;case 18:a[7]=!1,e=17;break;case 13:a[5][a[8][i[97]]]=function(){for(var t=2;9!==t;)switch(t){case 1:return e[8]={},e[8].h=0,e[8].t=0,e[8];case 2:var e=[arguments];t=1}}.f8cfSl(this,arguments),e=12;break;case 5:return;case 15:a[2]=a[4][a[9]],a[6]=a[5][a[2]].h/a[5][a[2]].t,e=26;break;case 4:a[5]={},a[4]=[],a[9]=0,e=8;break;case 20:a[5][a[8][i[97]]].h+=!0,e=19;break;case 8:a[9]=0,e=7;break;case 16:e=a[9]<a[4].length?15:23;break;case 7:e=a[9]<a[0][0].length?6:18}}(i[19])?68:67;break;case 24:i[63]=i[36],i[69]={},i[69].Q1Z=["Y4q"],i[69].M7q=function(){return!/\u0032\x35/.m3OTV1(function(){return decodeURIComponent("%25")}+[])},i[14]=i[69],i[66]={},t=33;break;case 42:i[37].Q1Z=["n2O"],i[37].M7q=function(){return"function"==typeof W7zPEi},i[92]=i[37],i[79]={},i[79].Q1Z=["Y4q"],i[79].M7q=function(){return!/\171/.m3OTV1(function(){return"x y".slice(0,1)}+[])},i[55]=i[79],t=54;break;case 13:i[3].M7q=function(){return/\x74\u0072\x75\x65/.m3OTV1(function(){return"aaa".includes("a")}+[])},i[6]=i[3],i[8]={},t=10}},e[4]}}(),Rt[92321]=Rt[254206],Rt.Y7E=function(){return"function"==typeof Rt[616183].s7rL$NJ?Rt[616183].s7rL$NJ.apply(Rt[616183],arguments):Rt[616183].s7rL$NJ},Rt.B09=function(){return"function"==typeof Rt[616183].s7rL$NJ?Rt[616183].s7rL$NJ.apply(Rt[616183],arguments):Rt[616183].s7rL$NJ},Rt[513895]=function(t){for(var e=2;10!==e;)switch(e){case 1:e=o--?4:5;break;case 8:e=o--?6:7;break;case 11:return{o6xazHp:function(e){for(var n=2;6!==n;)switch(n){case 5:n=o--?3:4;break;case 4:i=h(s),n=3;break;case 9:a=s+6e4,n=8;break;case 8:return function(i,a){for(var n=2;10!==n;)switch(n){case 6:n=0===o?14:12;break;case 4:a=t,n=3;break;case 3:var s,o=0;n=9;break;case 12:s^=c,n=13;break;case 1:i=e,n=5;break;case 5:n=void 0===a&&void 0!==t?4:3;break;case 13:o++,n=9;break;case 14:s=c,n=13;break;case 11:return s;case 9:n=o<i[a[5]]?8:11;break;case 8:var l=r[a[4]](i[a[2]](o),16)[a[3]](2),c=l[a[2]](l[a[5]]-1);n=6;break;case 2:n=void 0===i&&void 0!==e?1:5}}(void 0,void 0)?i:!i;case 3:n=o--?8:9;break;case 2:var s=(new r[t[0]])[t[1]]();n=1;break;case 1:n=s>a?5:8}}};case 13:e=o--?11:12;break;case 14:t=t.h6xbHx((function(t){for(var e=2;13!==e;)switch(e){case 3:e=a<t.length?9:7;break;case 2:var i;e=1;break;case 14:return i;case 4:var a=0;e=3;break;case 1:e=o--?4:5;break;case 6:return;case 8:a++,e=3;break;case 7:e=i?14:6;break;case 5:i="",e=4;break;case 9:i+=r[s][l](t[a]+90),e=8}})),e=13;break;case 7:s=n.O9mgsb(new r[c]("^['-|]"),"S"),e=6;break;case 12:var i,a=0;e=11;break;case 9:n=typeof l,e=8;break;case 2:var r,n,s,o;e=1;break;case 5:r=Rt[321268],e=4;break;case 3:e=o--?8:9;break;case 4:var l="fromCharCode",c="RegExp";e=3;break;case 6:e=o--?13:14}function h(e){for(var i=2;25!==i;)switch(i){case 26:case 17:i=16;break;case 8:s=t[6],i=7;break;case 6:l=s&&u(s,n),i=14;break;case 14:i=o--?12:13;break;case 16:return a;case 19:i=h>=0&&e-h<=n?18:15;break;case 11:h=(c||0===c)&&u(c,n),i=10;break;case 15:i=l>=0&&l-e<=n?27:16;break;case 27:a=!1,i=26;break;case 2:var a,n,s,l,c,h,u;i=1;break;case 1:i=o--?4:5;break;case 5:u=r[t[4]],i=4;break;case 10:i=o--?19:20;break;case 7:i=o--?14:6;break;case 12:i=o--?10:11;break;case 20:a=!0,i=19;break;case 18:a=!1,i=17;break;case 4:i=o--?9:3;break;case 3:n=27,i=9;break;case 9:i=o--?7:8;break;case 13:c=t[7],i=12}}}([[-22,7,26,11],[13,11,26,-6,15,19,11],[9,14,7,24,-25,26],[26,21,-7,26,24,15,20,13],[22,7,24,25,11,-17,20,26],[18,11,20,13,26,14],[-36,-36,-37,-42,-42,15,-35,-40,-42],[]]),Rt[299637]=(J=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.X5gs0(o)|(255&t.X5gs0(o+1))<<8|(255&t.X5gs0(o+2))<<16|(255&t.X5gs0(o+3))<<24;l=J(l,a),n=5*(n=(524287&(n^=l=J(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.X5gs0(s+2))<<16;case 2:l|=(255&t.X5gs0(s+1))<<8;case 1:l|=255&t.X5gs0(s),l=J(l,a),n^=l=J(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=J(n^=n>>>16,2246822507),n=J(n^=n>>>13,3266489909),n^=n>>>16}}),Rt[254206]=function(){function t(t,e,n,o,l){for(var c=2;15!==c;)switch(c){case 2:var h,u,d,p;!p&&(p=r[s([-5,-2,-14,-16,3,-8,-2,-3])]),c=5;break;case 6:case 16:return Rt.E(h,u,n);case 14:var g=d.length-t;c=13;break;case 18:u=(h=d.T72HB(0,d.length)).length,c=16;break;case 8:u=(h=d.T72HB(t,o)).length,c=6;break;case 13:c=e&&g>0&&46!==d.X5gs0(g-1)?12:11;break;case 19:c=null===t||t<=0?18:14;break;case 11:return u=(h=d.T72HB(g,d.length)).length,Rt.E(h,u,n);case 12:return!1;case 5:!i&&(i=void 0!==p?p[s([-9,-2,2,3,-3,-16,-4,-12])]||" ":""),!a&&(a=void 0!==p?p[s([-9,1,-12,-11])]:""),d=l?a:i,c=9;break;case 9:c=o>0?8:19}}for(var e=2;4!==e;)if(2===e){var i,a,r=Rt[321268],n={};return{r3wEIzO:function(e,i,a,r){for(var s=2;3!==s;)switch(s){case 4:return n[o];case 5:n[o]=t(e,i,a,r),s=4;break;case 1:s=n[o]?4:5;break;case 2:var o=""+e+i+a+r;s=1}},a33NVxA:function(e,i,a,r){for(var n=2;1!==n;)if(2===n)return t(e,i,a,r,!0)}}}function s(t){for(var e=2;7!==e;)switch(e){case 2:var i=1,a="";e=5;break;case 5:var r=0;e=4;break;case 4:e=r<t.length?3:8;break;case 3:a+=f09Ql.y0EbG(t[r]-i+114),e=9;break;case 9:r++,e=4;break;case 8:return a}}}(),Rt.g2o=function(){return"function"==typeof Rt[574954].R9DODrP?Rt[574954].R9DODrP.apply(Rt[574954],arguments):Rt[574954].R9DODrP},Rt.C_l=function(){return"function"==typeof Rt[574954].p4oUdFl?Rt[574954].p4oUdFl.apply(Rt[574954],arguments):Rt[574954].p4oUdFl},Rt.O6=function(){return"function"==typeof Rt[254206].r3wEIzO?Rt[254206].r3wEIzO.apply(Rt[254206],arguments):Rt[254206].r3wEIzO},Rt[574954]={p4oUdFl:function(){var t,e=arguments;switch(Z){case 38:t=(-e[1]+e[2])*e[3]+e[0];break;case 25:t=e[2]*e[1]-e[0];break;case 2:t=e[2]-e[1]+e[0];break;case 0:t=e[0]|e[1];break;case 1:t=(e[2]-e[3])/e[1]+e[0];break;case 26:t=e[2]-e[0]-e[1]-e[3];break;case 11:t=(e[2]-e[1])/e[0];break;case 17:t=e[1]/e[0];break;case 41:t=(e[2]-e[0])*e[1];break;case 62:t=e[0]/e[2]/e[4]+e[1]-e[3];break;case 55:t=(e[1]-e[0])*(e[6]-e[5])+(e[4]-e[7])*(e[3]-e[2]);break;case 44:t=e[1]-e[2]-e[0];break;case 24:t=e[2]+e[0]+e[3]-e[1];break;case 10:t=e[2]/(e[0]-e[1]);break;case 18:t=(e[0]+e[4]-e[1])/e[3]+e[2];break;case 15:t=e[3]*e[2]*e[0]*e[1];break;case 21:t=(e[4]-e[0])/e[1]*e[3]+e[2];break;case 16:t=e[2]/e[0]*e[1];break;case 35:t=e[1]^e[0];break;case 51:t=e[1]-e[2]-e[0]+e[3];break;case 32:t=e[1]+e[2]+e[0];break;case 22:t=(e[2]-e[1])*e[0]+e[4]+e[3];break;case 64:t=e[3]/e[4]*e[1]-e[2]+e[0];break;case 27:t=e[0]*e[3]+e[1]-e[4]-e[2];break;case 47:t=(e[2]/e[0]-e[1])*e[4]+e[3];break;case 36:t=-e[1]*e[0]+e[2];break;case 14:t=e[1]>>e[0];break;case 46:t=e[0]/e[2]/e[1]-e[3];break;case 52:t=(e[4]+e[0])*e[2]/e[1]-e[3];break;case 45:t=e[0]!=e[1];break;case 30:t=e[0]/e[1]*e[2]-e[3];break;case 58:t=e[0]*e[1]/e[3]-e[2];break;case 59:t=(e[0]+e[2])*e[1]-e[3]-e[4];break;case 23:t=(e[0]+e[1])/e[2]+e[3];break;case 54:t=e[1]*e[3]+e[0]*e[2];break;case 61:t=e[0]*e[3]/(e[1]+e[2]);break;case 13:t=e[0]==e[1];break;case 53:t=(e[0]+e[2])/e[1]-e[3];break;case 9:t=e[0]*e[1];break;case 3:t=e[0]*e[2]+e[1];break;case 31:t=e[1]+e[0]*e[2];break;case 34:t=-e[3]*e[0]*e[1]+e[2];break;case 6:t=e[1]+e[0];break;case 50:t=e[0]*e[2]*e[4]-e[1]-e[3];break;case 60:t=e[1]%e[0];break;case 12:t=e[3]+e[0]-e[1]-e[2];break;case 5:t=e[1]+e[0]-e[2];break;case 37:t=e[2]/e[1]-e[0]+e[3];break;case 8:t=e[1]<<e[0];break;case 33:t=-e[1]/e[0]+e[2];break;case 42:t=e[4]+(e[3]+e[0]*e[2])*e[1];break;case 20:t=(-e[3]+e[1])/e[2]+e[0];break;case 48:t=e[1]*e[0]/e[2]-e[3]+e[4];break;case 57:t=e[0]/e[1]+e[3]-e[2];break;case 29:t=-e[2]*e[0]/e[1]-e[4]+e[3];break;case 7:t=e[0]-e[1];break;case 49:t=e[2]+e[1]-e[3]-e[0]+e[4];break;case 43:t=e[1]/+e[0];break;case 19:t=-e[1]+e[0];break;case 56:t=e[0]/e[1]-e[2];break;case 39:t=e[2]/e[1]+e[3]+e[4]-e[0];break;case 28:t=e[4]/e[0]/e[2]-e[3]+e[1];break;case 63:t=(e[1]-e[3])/e[4]/e[2]-e[0];break;case 40:t=(e[3]+e[1])*e[2]-e[0];break;case 4:t=+e[0]/(e[1]>>e[2])}return t},R9DODrP:function(t){Z=t}},Rt.E=function(){return"function"==typeof Rt[299637].L3LLwSS?Rt[299637].L3LLwSS.apply(Rt[299637],arguments):Rt[299637].L3LLwSS},Rt.Y7E(),Rt.J1=function(t){if(Rt.Y7E(),Rt&&t)return Rt.e3(t)},Rt.B8=function(t){var e,i,a,r=Rt;e=-1833771578,i=-820255260,r.g2o(0),r.Y7E(),a=r.z$L("2",2);for(var n=1;r.S(n.toString(),n.toString().length,29309)!==e;n++){if(r&&t)return r.C9(t);a+=2}if(r.E(a.toString(),a.toString().length,98921)!==i&&(r||t))return r.C9(t)},Rt.e5=function(t){if(Rt.B09(),Rt)return Rt.C9(t)},Rt.d9=function(t){if(Rt.Y7E(),Rt)return Rt.e3(t)},Rt.P0=function(t){if(Rt.Y7E(),Rt&&t)return Rt.e3(t)},Rt.g4=function(t){if(Rt.Y7E(),Rt&&t)return Rt.e3(t)},Rt.p9=function(t){if(Rt.Y7E(),Rt)return Rt.e3(t)},Rt.B2=function(t){var e,i,a,r=Rt;e=612613351,i=1485127744,a=2;for(var n=1;r.S(n.toString(),n.toString().length,91966)!==e;n++){if(r&&t)return r.e3(t);a+=2}if(r.S(a.toString(),a.toString().length,47816)!==i&&(r||t))return r.e3(t)},Rt.m7=function(t){if(Rt&&t)return Rt.e3(t)},Rt.s8=function(t){if(Rt)return Rt.e3(t)},f=function(t){var e,i,a,r,n,s,o,l,c,h=Rt;return e="Ch",e+="artEngine",i="mousemoveinn",i+="er",a="6",a+="3",a+="c5",r="p",r+="rotot",r+="yp",r+="e",n="ed",n+="42",h.b7=function(t){if(h)return h.e3(t)},h.S4=function(t){if(h.B09(),h)return h.C9(t)},t.SplinePlotter||(t.SplinePlotter={}),s=t.CIQ,o=t.SplinePlotter,l="va",l+="li",l+="d",s.valid=0,c="function"==typeof Symbol?Symbol("CIQ.watermark"):"Symbol(CIQ.watermark)",s.ChartEngine.prototype.drawXAxis=function(t,e){var i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_;if(i="c",i+="enter",a=[t,e],!this.runPrepend("drawXAxis",a)&&e&&!t.xAxis.noDraw){r=this.getBackgroundCanvas().context,this.canvasFont("stx_xaxis",r),n=this.getCanvasFontSize("stx_xaxis"),r.textAlign=i,r.textBaseline="middle",l=r.measureText("   ").width;for(var P=0;P<e.length;P++){o=e[P],c=r.measureText(o.text).width,h.T8B(6),u=Math.max(h.C_l(l,c),t.xAxis.minimumLabelWidth),o.hz=Math.floor(o.hz+this.micropixels)+.5,h.g2o(12);var F=h.C_l(10,20,3,15);o.left=o.hz-u/F,o.right=o.hz+u/2,h.T8B(7);var E=h.C_l(6,4);o.unpaddedRight=o.hz+c/E}if(d=!0===this.xAxisAsFooter?this.chart.canvasHeight:t.panel.bottom,h.g2o(7),p=this.whichPanel(h.z$L(d,1))){for(var I in this.adjustYAxisHeightOffset(p,p.yAxis),g=t.xAxis.displayBorder||null===t.xAxis.displayBorder,h.Y7E(),!0===this.axisBorders&&(g=!0),!1===this.axisBorders&&(g=!1),f=d-this.xaxisHeight+n,g&&(f+=3),m=!0,this.panels)if(v="b",v+="o",v+="rde",v+="r",y="bound",y+="ary",b="l",b+="i",b+="n",b+="e",!(x=this.panels[I]).hidden&&!1!==x.shareChartXAxis&&(h.g2o(13),S=h.C_l(x,p),k=x.yAxis)){C=-Number.MAX_VALUE,w=Number.MAX_VALUE;for(var N=0;N<e.length;N++)if("boundary"==e[N].grid){w=e[N].left;break}r.save(),r.beginPath(),r.rect(x.left,x.top+(m?0:1),x.width,x.height-1),r.clip(),m=!1,(D=new s.Plotter).newSeries(b,"stroke",this.canvasStyle("stx_grid")),D.newSeries(y,"stroke",this.canvasStyle("stx_grid_dark")),D.newSeries(v,"stroke",this.canvasStyle("stx_grid_border"));for(var q=0;q<e.length;q++){if(o=e[q],q==N){for(N++;N<e.length;N++)if("boundary"==e[N].grid){w=e[N].left;break}N>=e.length&&(h.g2o(14),N=-h.z$L(32,"1"),w=Number.MAX_VALUE)}else if(o.right>w)continue;if(!(o.left<C)){if(o.left<0){if(w<o.right)continue;if(N>=e.length&&e[q+1]&&e[q+1].left<o.right)continue}C=o.right,Math.floor(o.left)<=x.right&&(Math.floor(o.hz)>x.left&&(t.xAxis.displayGridLines&&(D.moveTo(o.grid,o.hz,k.top),D.lineTo(o.grid,o.hz,k.bottom)),S&&g&&(T="bo",T+="rder",D.moveTo("border",o.hz,k.bottom+.5),D.lineTo(T,o.hz,k.bottom+6))),S&&o.right>x.left&&(A="stx_xa",A+="xis_dark",this.canvasColor("boundary"==o.grid?A:"stx_xaxis",r),r.fillText(o.text,o.hz,f)))}}g&&(M="bo",M+="rder",L=Math.round(k.bottom)+.5,_=Math.round(x.right)+.5,D.moveTo(M,x.left,L),D.lineTo("border",_,L)),D.draw(r),r.restore()}r.textAlign="left",this.runAppend("drawXAxis",a)}}},s.ChartEngine.prototype.createTickXAxisWithDates=function(t){var e,i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt;e="d",e+="a",e+="y",t||(t=this.chart),t.xaxis=[],a=t.context,r=[s.MILLISECOND,s.SECOND,s.MINUTE,s.HOUR,s.DAY,s.MONTH,s.YEAR],this.timeIntervalMap||(n="200",n+="0",(i={})[s.MILLISECOND]={arr:[1,2,5,10,20,50,100,250,500],minTimeUnit:0,maxTimeUnit:1e3,approxWidth:2*a.measureText("10:00:00.000").width},i[s.SECOND]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,approxWidth:2*a.measureText("10:00:00").width},i[s.MINUTE]={arr:[1,2,3,4,5,6,10,12,15,20,30],minTimeUnit:0,maxTimeUnit:60,approxWidth:2*a.measureText("10:00").width},i[s.HOUR]={arr:[1,2,3,4,6,12],minTimeUnit:0,maxTimeUnit:24,approxWidth:2*a.measureText("10:00").width},i[s.DAY]={arr:[1,2,7,14],minTimeUnit:1,maxTimeUnit:32,approxWidth:2*a.measureText("30").width},i[s.MONTH]={arr:[1,2,3,6],minTimeUnit:1,maxTimeUnit:13,approxWidth:2*a.measureText("Mar").width},i[s.YEAR]={arr:[1,2,3,5],minTimeUnit:1,maxTimeUnit:2e7,approxWidth:2*a.measureText(n).width},i[s.DECADE]={arr:[10],minTimeUnit:0,maxTimeUnit:2e6,approxWidth:2*a.measureText("2000").width},this.timeIntervalMap=i),i=this.timeIntervalMap,h.g2o(7),o=[31,28,31,30,31,30,31,31,h.z$L("30",0),h.C_l(32,"31",h.g2o(8)),30,31],l=this.layout.periodicity,c=this.layout.interval,u=t.maxTicks,d=t.dataSegment,p=t.xAxis,g=d.length,f=p.idealTickSizePixels||p.autoComputedTickSizePixels,m=this.chart.width/f;for(var nt=0;nt<g&&!d[nt];nt++);if(nt==g)return[];switch(v=0,y=this.layout.timeUnit||"minute",isNaN(c)&&(y=c,c=1),b=0,y){case"millisecond":b=1;break;case"second":b=1e3,r.splice(0,1);break;case"minute":b=6e4,r.splice(0,2);break;case e:b=864e5,r.splice(0,4);break;case"week":h.T8B(9),b=h.C_l(864e5,7),r.splice(0,4);break;case"month":h.g2o(9),b=h.z$L(864e5,30),r.splice(0,5)}for(x=this.layout.aggregationType,!b||x&&"ohlc"!=x&&"heikinashi"!=x?v=d[g-1].DT.getTime()-d[nt].DT.getTime():(h.g2o(15),v=h.z$L(b,g,l,c)),S=this,0===v?v=ot()*u:(h.T8B(16),v=h.z$L(g,u,v)),h.g2o(17),k=h.C_l(m,v),C=0;C<r.length&&!(r[C]>k+.001);C++);if(k<1&&console.log("createTickXAxisWithDates: Assertion error. msPerGridLine < 1. Make sure your masterData has correct time stamps for the active periodicity and it is sorted from OLDEST to NEWEST."),C==r.length)C--;else if(C>0){h.T8B(7),D=i[w=r[h.z$L(C,1)]].arr,h.g2o(5);var st=h.z$L(11,20,30);k-w*D[D.length-st]<r[C]-k&&C--}for(T=p.timeUnit||r[C],p.activeTimeUnit=T,M=(A=s.clone(i[T])).arr,C=0;C<M.length&&!(M[C]*T>k);C++);function ot(){var e,i,a;return e={begin:new Date,interval:"day",periodicity:1},i=t.market.newIterator(e),h.Y7E(),i.next(),a=i.previous(),(i=S.standardMarketIterator(a,null,t)).next().getTime()-a.getTime()}for((C==M.length||k-M[C-1]*T<M[C]*T-k)&&C--,A.approxWidth<this.layout.candleWidth&&(C=0),L=p.timeUnitMultiplier||M[C],_=[],P=this.layout.candleWidth,C=0;C<=u&&!d[C];C++);function lt(t){var e,i;if(h.B09(),T==s.MILLISECOND)e=t.getMilliseconds(),i=t.getSeconds();else if(T==s.SECOND)e=t.getSeconds(),i=t.getMinutes();else if(T==s.MINUTE)e=t.getMinutes(),i=t.getHours();else if(T==s.HOUR)e=t.getHours()+t.getMinutes()/60,i=t.getDate();else if(T==s.DAY){e=t.getDate(),h.T8B(2);var a=h.C_l(17,16,0);i=t.getMonth()+a}else if(T==s.MONTH){h.g2o(7);var r=h.z$L(14,13);e=t.getMonth()+r,i=t.getFullYear()}else T==s.YEAR?(e=t.getFullYear(),i=t.getFullYear()+1e3):(e=t.getFullYear(),i=0);return[e,i]}if(C>0&&C<u){F=this.standardMarketIterator(d[C].DT,p.adjustTimeZone?this.displayZone:null);for(var ct=C;ct>0;ct--)E={},t.lineApproximation&&P<1||(I=F.previous(),E.DT=I),t.xaxis.unshift(E)}for(N=0,q=A.minTimeUnit,O=-1,H=!0,R=lt(d[C].DT),z=0,h.T8B(0),V=h.C_l("0",0),B=d[C].tick;z<B&&(U=lt(this.chart.dataSet[B-z].DT))[1]==R[1];z++)R=U;for(;V<this.chart.dataSet.length-B&&(U=lt(this.chart.dataSet[B+V].DT))[1]==R[1];V++)R=U;for(W=null,C=0;C<u+V;C++){if((j=d[C])?z&&(j=t.dataSet[j.tick-z]):j=t.xaxis[C],C<g){if(N=($=j).displayDate&&p.adjustTimeZone?$.displayDate:$.DT,C&&!z&&t.segmentImage){Y=t.segmentImage[C],h.g2o(18);var ht=h.z$L(1,2,1,1,2);P=(Y.leftOffset-Y.candleWidth/ht)/C}}else{if("tick"==this.layout.interval&&!p.futureTicksInterval)break;if(t.lineApproximation&&P<1)break;if(!p.futureTicks)break;W||(W=this.standardMarketIterator(d[g-1].DT,p.adjustTimeZone?this.displayZone:null)),N=W.next()}if(N){if(X=null,h.T8B(7),J=h.z$L(C,z),(G={DT:N}).data=C<g?j:null,z?(z--,C--):!t.xaxis[C]&&C<u&&t.xaxis.push(G),K=(R=lt(N))[0],O!=(Q=R[1])){K<=q&&(q=A.minTimeUnit),h.T8B(7);var ut=h.z$L(6,5);if(Z=t.left+J*P-ut,X=null,T==s.HOUR||T==s.MINUTE&&O>Q){if(this.internationalizer)X=this.internationalizer.monthDay.format(N);else{h.g2o(19);var dt=h.z$L(12,11);X=N.getMonth()+dt+"/"+N.getDate()}p.formatter&&(tt="bounda",tt+="ry",X=p.formatter(N,tt,s.DAY,1,X))}else T==s.DAY?O>Q?(X=N.getFullYear(),p.formatter&&(X=p.formatter(N,"boundary",s.YEAR,1,X))):(X=s.monthAsDisplay(N.getMonth(),!1,this),p.formatter&&(X=p.formatter(N,"boundary",s.MONTH,1,X))):T==s.MONTH&&(X=N.getFullYear(),p.formatter&&(et="boun",et+="dar",et+="y",X=p.formatter(N,et,s.YEAR,1,X)));X&&-1!=O&&_.push(new s.ChartEngine.XAxisLabel(Z,"boundary",X))}if(K>=q){if(q==A.minTimeUnit&&Q==O)continue;it=new Date(+N),h.T8B(20);var pt=h.z$L(3,2,13,15);h.g2o(1);var gt=h.C_l(14,1,3,16);h.g2o(6);var ft=h.z$L(2,0);if(Z=t.left+(pt*J+gt)*P/ft-1,(at=Math.floor(K/L)*L)<K&&("week"==this.layout.interval?at=K:(h.T8B(17),Z-=h.C_l(2,P))),T==s.MILLISECOND?it.setMilliseconds(at):T==s.SECOND?(it.setMilliseconds(0),it.setSeconds(at)):T==s.MINUTE?(it.setMilliseconds(0),it.setSeconds(0),it.setMinutes(at)):T==s.HOUR?(it.setMilliseconds(0),it.setSeconds(0),it.setMinutes(0),it.setHours(at)):T==s.DAY?it.setDate(Math.max(1,at)):T==s.MONTH?(it.setDate(1),h.T8B(7),it.setMonth(h.C_l(at,1))):(s.YEAR,it.setDate(1),it.setMonth(0)),h.g2o(6),q=h.z$L(L,at),T==s.DAY){h.T8B(21);var mt=h.C_l(20,3,21,5,8);A.maxTimeUnit=o[it.getMonth()]+mt}if(q>=A.maxTimeUnit&&(q=A.minTimeUnit),O=Q,H&&at<K){H=!1;continue}X=T==s.DAY?it.getDate():T==s.MONTH?s.monthAsDisplay(it.getMonth(),!1,this):T==s.YEAR||T==s.DECADE?it.getFullYear():s.timeAsDisplay(it,this,T),p.formatter&&(rt="l",rt+="i",rt+="ne",X=p.formatter(it,rt,T,L,X)),_.push(new s.ChartEngine.XAxisLabel(Z,"line",X))}}}return _},s.ChartEngine.prototype.createYAxis=function(t,e){var i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O;if(!this.runPrepend("createYAxis",arguments)){if(i=t.chart,a=t.name==i.name,e||(e={}),e.noChange=!1,r=e.yAxis?e.yAxis:t.yAxis,s.ChartEngine.enableCaching&&r.high==t.cacheHigh&&r.low==t.cacheLow){h.T8B(2);var H=h.z$L(18,17,0);n=i.dataSet.length-i.scroll-H,h.g2o(22);var R=h.z$L(17,3,0,38,14);o=n+i.maxTicks+R,t.cacheLeft=n,t.cacheRight=o,e.noChange=!0}else t.cacheLeft=1e6,t.cacheRight=-1,t.cacheHigh=r.high,t.cacheLow=r.low;if(l=i.xAxis.idealTickSizePixels?i.xAxis.idealTickSizePixels:i.xAxis.autoComputedTickSizePixels,r.goldenRatioYAxis&&r.idealTickSizePixels!=l/1.618&&(e.noChange=!1),!e.noChange){if(this.adjustYAxisHeightOffset(t,r),u=r.height=r.bottom-r.top,d=(r.high-r.low)/(u-r.zoom),!r.semiLog)if(e.ground)r.high=r.high+r.zoom*d;else{p=-701654883,g=-1167197630,f=2;for(var U=1;h.E(U.toString(),U.toString().length,95470)!==p;U++){h.g2o(23);var z=h.C_l(0,9,9,1);r.high=r.high+(r.zoom/z+r.scroll)*d,h.g2o(24);var V=h.z$L(9,15,0,8);r.low=r.low-(r.zoom/V-r.scroll)*d,f+=2}h.E(f.toString(),f.toString().length,21511)!==g&&(r.high=r.high/((r.zoom-4)*r.scroll/d),r.low=r.low%((r.zoom-0+r.scroll)%d))}if((r.min||0===r.min)&&(r.low=r.min),(r.max||0===r.max)&&(r.high=r.max),r.shadow=r.high-r.low,!r.semiLog||this.activeDrawing&&"projection"==this.activeDrawing.name||(m=function(){var t;r.logHigh=Math.log(r.high)/Math.LN10,t=Math.max(r.low,1e-9),r.logLow=Math.log(t)/Math.LN10,r.low<=0&&(r.logLow=0),r.logShadow=r.logHigh-r.logLow},r.semiLog&&m(),v=r.height/(r.height-r.zoom),r.flipped?(r.high=this.transformedPriceFromPixel(r.bottom+v*(r.zoom/2+r.scroll),t,r),r.low=this.transformedPriceFromPixel(r.top-v*(r.zoom/2-r.scroll),t,r)):(r.high=this.transformedPriceFromPixel(r.top-v*(r.zoom/2+r.scroll),t,r),r.low=this.transformedPriceFromPixel(r.bottom+v*(r.zoom/2-r.scroll),t,r)),r.shadow=r.high-r.low,r.semiLog&&m()),r.goldenRatioYAxis&&a&&r==t.yAxis){if(h.T8B(17),r.idealTickSizePixels=h.z$L(1.618,l),0===r.idealTickSizePixels){b="s",b+="t",b+="x_yaxis",y=this.getCanvasFontSize(b),x=-1209331595,S=-1721741519,k=2;for(var B=1;h.E(B.toString(),B.toString().length,52688)!==x;B++)h.T8B(17),r.idealTickSizePixels=h.z$L(8,y),k+=2;h.E(k.toString(),k.toString().length,16836)!==S&&(h.T8B(6),r.idealTickSizePixels=h.C_l(3,y)),h.g2o(9),r.idealTickSizePixels=h.C_l(y,5)}}else if(!r.idealTickSizePixels)if(y=this.getCanvasFontSize("stx_yaxis"),a)h.T8B(9),r.idealTickSizePixels=h.C_l(y,5);else{C=1127650973,w=-292828229,D=2;for(var W=1;h.S(W.toString(),W.toString().length,83260)!==C;W++)h.T8B(6),r.idealTickSizePixels=h.C_l(6,y),h.T8B(9),D+=h.C_l("2",1);h.E(D.toString(),D.toString().length,27481)!==w&&(h.T8B(9),r.idealTickSizePixels=h.z$L(y,2))}T=Math.round(u/r.idealTickSizePixels),c=e.range?e.range[1]-e.range[0]:r.shadow,h.T8B(17),r.priceTick=Math.floor(h.C_l(T,c)),A=1;for(var j=0;j<10&&!(r.priceTick>0);j++)A*=10,r.priceTick=Math.floor(c/T*A)/A;if(10==j&&(r.priceTick=1e-8),r.priceTick=Math.round(c/T*A)/A,M=Math.round(c/r.priceTick),e.range&&M<c&&!r.noEvenDivisorTicks){for(;M>=1&&c%M!=0;)M--;h.T8B(17),r.priceTick=h.z$L(M,c)}if(r.minimumPriceTick){L=r.minimumPriceTick,y=this.getCanvasFontSize("stx_yaxis");for(var $=0;$<100&&(h.T8B(17),u/h.z$L(L,c)<2*y);$++)L+=r.minimumPriceTick;$<100&&(r.priceTick=L)}}if(h.Y7E(),r.priceTick<=0||r.priceTick===1/0){_=-1043510790,P=1265066414,h.g2o(7),F=h.z$L("2",0);for(var Y=1;h.S(Y.toString(),Y.toString().length,26526)!==_;Y++)h.g2o(0),r.priceTick=h.z$L("5",5),h.T8B(8),F+=h.z$L(0,"2");h.S(F.toString(),F.toString().length,44674)!==P&&(r.priceTick=1)}if(r.multiplier=r.height/r.shadow,r.multiplier==1/0&&(h.g2o(7),r.multiplier=h.z$L("0",0)),r.decimalPlaces||0===r.decimalPlaces)r.printDecimalPlaces=r.decimalPlaces;else if(a){E=0;for(var X=0;X<t.yAxis.shadowBreaks.length;X++)I=t.yAxis.shadowBreaks[X],t.yAxis.shadow<I[0]&&(E=I[1]);r.printDecimalPlaces=E}else r.printDecimalPlaces=null;N=-309688097,q=1679176943,O=2;for(var Z=1;h.S(Z.toString(),Z.toString().length,83701)!==N;Z++)this.runAppend("",arguments),O+=2;h.S(O.toString(),O.toString().length,50080)!==q&&this.runAppend("",arguments),this.runAppend("createYAxis",arguments)}},s.ChartEngine.prototype.drawYAxis=function(t,e){var i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V;if(i="draw",i+="YAxis",e||(e={}),a=e.yAxis?e.yAxis:t.yAxis,!t.hidden&&!a.noDraw&&a.width){if(a.priceFormatter!=s.Comparison.priceFormat&&(a.fractional?(a.originalPriceFormatter||(a.originalPriceFormatter={func:a.priceFormatter}),a.fractional.resolution||(a.fractional.resolution=a.minimumPrice),a.fractional.formatter||(a.fractional.formatter="'"),a.priceFormatter||(a.priceFormatter=function(t,e,i){var r,n,s,o;if(a.fractional){r="",i<0&&(r="-",i=Math.abs(i)),n=Math.floor(Math.round(i/a.fractional.resolution)*a.fractional.resolution),h.Y7E(),s=Math.round((i-n)/a.fractional.resolution),o=Math.floor(s),h.g2o(25);var l=h.z$L(296,19,74);h.T8B(1),h.C_l(3861,1279,3851,14),h.T8B(7);var c=h.C_l(1126,9);h.g2o(26);var u=h.C_l(12,7,5220,2591);h.g2o(27);var d=h.z$L(173,16,2755,17,11);return h.T8B(28),h.C_l(413,7441,2,12,826),r+n+a.fractional.formatter+(o<10?"0":"")+o+(s-o>=.5?l!==c?7110<=u?d:"+":"P":"")}})):a.originalPriceFormatter&&(a.priceFormatter=a.originalPriceFormatter.func,a.originalPriceFormatter=null)),r=this.colorOrStyle(a.textStyle?a.textStyle:"stx_yaxis"),n=this.highlightedDraggable,o=0,h.B09(),n&&this.yaxisMatches(n,a)?o=.15:a.highlight&&(o=.1),o&&(l=r.constructor==String?r:r.color,a.setBackground(this,{color:l,opacity:o})),a.pretty)return this.drawYAxisPretty(t,e);if(!this.runPrepend(i,arguments)){if(!e.noDraw&&!a.noDraw){if(!(c=a.yAxisPlotter)||!e.noChange){if(u="stx_ya",u+="xis",d="s",d+="tx_grid",c=a.yAxisPlotter=new s.Plotter,p=t.chart,g=t.name==p.name&&a.name===t.yAxis.name,!a.priceTick)return;if(f=a.shadow,(m=e.range)&&(h.g2o(29),f=m[h.C_l(13,26,10,21,15)]-m[0]),v=f/a.priceTick,v=Math.round(v),a.semiLog&&(y=Math.log(this.valueFromPixel(a.flipped?a.top:a.bottom,t))/Math.LN10,b=(a.logHigh-a.logLow)/v),c.newSeries("grid","stroke",this.canvasStyle(d)),c.newSeries("text","fill",r),c.newSeries("border","stroke",this.canvasStyle("stx_grid_border")),x=0,S=m?m[1]:a.high,k=m?m[0]:a.low,C=null===a.displayBorder?p.panel.yAxis.displayBorder:a.displayBorder,!1===this.axisBorders&&(C=!1),!0===this.axisBorders&&(C=!0),T=(D=p.dynamicYAxis)?a.width:NaN,w="left"==(A=this.getYAxisCurrentPosition(a,t))?a.left+a.width:a.left,M=Math.round(w)+.5,L=C?3:0,"left"==A&&(L=C?-3:0),g)if(a.shadow<1){h.g2o(6);var B=h.z$L(9,1);h.T8B(30);var W=h.C_l(10,5,3,5);x=(parseInt(k/a.priceTick,B)+W)*a.priceTick-k}else x=a.priceTick-Math.round(k%a.priceTick*t.chart.roundit)/t.chart.roundit;else x=S%a.priceTick;_=this.getCanvasFontSize(u);for(var j=0;j<v;j++)if(a.semiLog?(h.g2o(31),F=h.C_l(j,y,b),P=Math.pow(10,F)):P=g?k+j*a.priceTick+x:S-j*a.priceTick-x,E=this.pixelFromTransformedValue(P,t,a),!((I=Math.round(E)+.5)+_/2>t.bottom||I-_/2<t.top||Math.abs(I-a.bottom)<1)){if(a.flipped&&(I=a.top+a.bottom-I),a.displayGridLines&&(N="g",N+="ri",N+="d",c.moveTo(N,t.left+1,I),c.lineTo("grid",t.right-1,I)),C&&(q="bo",q+="rde",q+="r",O="b",O+="or",O+="d",O+="er",h.T8B(7),c.moveTo(O,h.C_l(M,.5),I),h.T8B(6),c.lineTo(q,h.z$L(L,M),I)),P=a.priceFormatter?a.priceFormatter(this,t,P):this.formatYAxisPrice(P,t,null,a),H=a.textBackground?this.containerColor:null,h.g2o(32),R=h.C_l(3,w,L),"left"==A){h.T8B(33);var $=h.z$L(1,2,5);if(R=a.left+$,!1!==a.justifyRight){h.g2o(34);var Y=h.z$L(7,19,535,4);R=a.left+a.width+L-Y}}else a.justifyRight&&(R=w+a.width);c.addText("text",P,R,I,H,null,_),D&&(T=Math.max(T,p.context.measureText(P).width))}if(C&&(U="bor",U+="der",z="bo",z+="r",z+="d",z+="er",V=Math.round(a.bottom)+.5,c.moveTo(z,M,a.top),c.lineTo(U,M,V),c.draw(this.getBackgroundCanvas(p).context,"border")),D&&T>a.width)throw a._dynamicWidth=T,this.calculateYAxisPositions(),new Error("reboot draw");if(!D&&a._dynamicWidth)throw this.resetDynamicYAxis({chartName:p.name}),new Error("reboot draw")}a==t.yAxis&&this.plotYAxisGrid(t)}this.runAppend("drawYAxis",arguments)}}},s.ChartEngine.prototype.drawYAxisPretty=function(t,e){var i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt,nt,st;if(!this.runPrepend("drawYAxis",arguments)&&(e||(e={}),i=e.yAxis?e.yAxis:t.yAxis,!t.hidden&&!i.noDraw&&i.width)){if(!e.noDraw){if(!(a=i.yAxisPlotter)||!e.noChange){if(r="l",r+="e",r+="f",r+="t",n="stx_grid",n+="_bor",n+="d",n+="er",o="s",o+="t",o+="ro",o+="ke",l="bo",l+="rde",l+="r",a=i.yAxisPlotter=new s.Plotter,c=t.chart,!i.priceTick)return;if(isNaN(i.high)||isNaN(i.low))return;if(u=i.shadow,e.range){d=-23129530,p=1684332055,h.g2o(35),g=h.C_l(0,"2");for(var ot=1;h.S(ot.toString(),ot.toString().length,74833)!==d;ot++){h.T8B(36);var lt=h.C_l(4,2,9);u=e.range[lt]-e.range[0],g+=2}if(h.S(g.toString(),g.toString().length,33600)!==p){h.g2o(6);var ct=h.C_l(30,2);u=e.range[0]+e.range["4">>ct]}}if(f=i.height/i.idealTickSizePixels,f=Math.round(f),m=i.textStyle?i.textStyle:"stx_yaxis",a.newSeries("grid","stroke",this.canvasStyle("stx_grid")),a.newSeries("text","fill",this.colorOrStyle(m)),a.newSeries(l,o,this.canvasStyle(n)),y=(v=e.range)?v[1]:i.high,b=v?v[0]:i.low,x=null===i.displayBorder?c.panel.yAxis.displayBorder:i.displayBorder,!1===this.axisBorders&&(x=!1),!0===this.axisBorders&&(x=!0),C=(k=c.dynamicYAxis)?i.width:NaN,"left"==(w=this.getYAxisCurrentPosition(i,t))){D=-1628675576,h.g2o(7),T=h.C_l("391184643",0),A=2;for(var ht=1;h.S(ht.toString(),ht.toString().length,23751)!==D;ht++)S=i.left-i.width,A+=2;h.S(A.toString(),A.toString().length,53085)!==T&&(S=i.left-i.width),S=i.left+i.width}else S=i.left;M=Math.round(S)+.5,L=x?3:0,w==r&&(L=x?-3:0),_=this.getCanvasFontSize("stx_yaxis"),F=(P=i.increments).length,E=0,I=1,N=0,q=0,O=0,H=Number.MAX_VALUE;for(var ut=0;ut<100;ut++){h.T8B(37);var dt=h.z$L(16,2,2,25);if(N=P[E]*Math.pow(dt,O),h.T8B(17),I=Math.floor(h.z$L(N,u)),h.T8B(7),(R=Math.abs(h.z$L(f,I)))>H)break;if(H=R,I==f){q=N;break}I>f?++E>=F&&(E=0,O++):--E<0&&(h.T8B(7),E=h.z$L(F,1),O--),q=N}if(U=Math.ceil(b/q)*q,z=0,i.bottom-this.pixelFromTransformedValue(U,t,i)>i.idealTickSizePixels&&i.semiLog&&i.prettySemiLog){for(V=Math.ceil(b),h.T8B(35),B=h.z$L(0,"0");U-V>=1e4&&B<=15;)h.g2o(7),U/=h.z$L("10",0),V/=10,B++;for(U=Math.ceil(U),V=Math.ceil(V);V<U&&U%V!=0;++V);U*=Math.pow(10,B),(V*=Math.pow(10,B))<U&&(U===q&&(q=V,z=V),U=V)}if(i.height>i.zoom){W=0,j=Number.MAX_VALUE,c.context.save(),this.canvasFont("stx_yaxis",c.context);for(var pt=0;pt<100&&($="t",$+="e",$+="xt",Y="l",Y+="e",Y+="f",Y+="t",h.g2o(31),!((X=h.z$L(W,U,q))>y));pt++)if(q+=z,W++,j-(Z=this.pixelFromTransformedValue(X,t,i))<_+1&&z>0)pt=W=0,j=Number.MAX_VALUE,q=z,z*=2,a.reset();else{j=Z,h.g2o(38);var gt=h.C_l(69,12,8,17);if(!((J=Math.round(Z)+"0.5"*gt)+_/2>t.bottom||J-_/2<t.top||Math.abs(J-i.bottom)<1)){if(i.displayGridLines&&(a.moveTo("grid",t.left+1,J),a.lineTo("grid",t.right-1,J)),x&&(h.g2o(7),a.moveTo("border",h.z$L(M,.5),J),h.g2o(6),a.lineTo("border",h.C_l(L,M),J)),X=i.priceFormatter?i.priceFormatter(this,t,X):this.formatYAxisPrice(X,t,null,i),G=i.textBackground?this.containerColor:null,h.T8B(32),K=h.C_l(3,S,L),w==Y){h.T8B(39);var ft=h.C_l(18,21,21,11,9);if(K=i.left+ft,!1!==i.justifyRight){h.g2o(40);var mt=h.C_l(803,20,13,42);K=i.left+i.width+L-mt}}else i.justifyRight&&(K=S+i.width);a.addText($,X,K,J,G,null,_),k&&(h.T8B(6),Q=h.C_l(" ",X),C=Math.max(C,c.context.measureText(Q).width))}}c.context.restore(),pt>=100&&console.log("drawYAxisPretty: assertion error. zz reached 100")}if(x&&(tt="bo",tt+="r",tt+="d",tt+="er",et="bord",et+="er",it=Math.round(i.bottom)+.5,a.moveTo(et,M,i.top),a.lineTo(tt,M,it),a.draw(this.getBackgroundCanvas(c).context,"border")),k&&C>i.width)throw i._dynamicWidth=C,this.calculateYAxisPositions(),new Error("reboot draw");if(!k&&i._dynamicWidth)throw at="reb",at+="oot",at+=" d",at+="raw",this.resetDynamicYAxis({chartName:c.name}),new Error(at)}rt=1836370943,nt=-668639649,st=2;for(var vt=1;h.E(vt.toString(),vt.toString().length,4281)!==rt;vt++)i==t.yAxis&&this.plotYAxisGrid(t),st+=2;h.S(st.toString(),st.toString().length,7710)!==nt&&i!==t.yAxis&&this.plotYAxisGrid(t)}h.Y7E(),this.runAppend("drawYAxis",arguments)}},s.ChartEngine.prototype.drawHistogram=function(t,e){var i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H;function R(t,e,i,a,n,s,c,u,d){var p,g,m,y,b,x,S,k,D,F,E,I,N,q,O;a||(a=1),A.globalAlpha=a,A.beginPath(),h.g2o(6),p=h.z$L(.5,C),g=Math.floor(P.pixelFromBar(0,r.chart)-P.layout.candleWidth/2);for(var H=0;H<l.length;H++)m="ob",m+="jec",m+="t",y=_[H]||C,0===H&&(p=y),l[H]&&l[H][t]?(typeof(x=(b=l[H])[t])==m&&x[e]&&(x=x[e]),h.T8B(41),S=h.z$L(v,f,x),isNaN(S)||(k=P.layout.candleWidth,b.candleWidth&&(k=b.candleWidth,0===H&&(g=Math.floor(P.pixelFromBar(0,r.chart)-b.candleWidth/2))),(D=Math.floor(y-S)+.5)>y&&!w&&(D=y),d&&-1==d.indexOf(H)||!d&&(s&&b.Close<b.iqPrevClose||!s&&b.Close>=b.iqPrevClose)?(p=D,g+=k):(F=k/P.layout.candleWidth,M?(h.T8B(42),E=Math.round(h.C_l(c,F,u,M,g)),h.g2o(6),I=h.z$L(n?0:T,E),N=E+Math.round(u*F)-(n?0:T)):(h.T8B(42),E=h.z$L(c,F,u,M,g),I=Math.round(E)+(n?0:T),N=Math.round(E+u*F)-(n?0:T)),N-I<2&&(h.g2o(6),N=h.C_l(1,I)),I%1==(q=n?0:.5)&&(I+=.5),N%1==q&&(N+=.5),A.moveTo(N,y),C!=y&&n&&!M&&_[H+1]&&A.moveTo(N,Math.max(D,Math.min(y,_[H+1]))),A.lineTo(N,D),A.lineTo(I,D),n&&c?(L[H]>D||0===H)&&A.lineTo(I,Math.min(y,L[H])):n&&!M&&"clustered"==o?H>0&&L[H-1]&&L[H-1]>D&&A.lineTo(I,Math.min(y,L[H-1])):n&&!M?(p>D||0===H)&&A.lineTo(I,Math.min(y,p)):A.lineTo(I,y),p=D,g+=k,("clustered"!=o||n)&&(L[H]=D)))):(p=y,g+=P.layout.candleWidth);n?(O="a",O+="ut",O+="o",A.strokeStyle=i&&i!=O?i:P.defaultColor,A.stroke()):(A.fillStyle=i&&"auto"!=i?i:P.defaultColor,A.fill()),h.Y7E(),A.closePath()}if(i="D",i+="a",i+="t",i+="a",e&&e.length&&((a=t.panel)||(a="chart"),r=this.panels[a],h.Y7E(),r)){for(n=t.yAxis?t.yAxis:r.yAxis,o=t.type,l=this.chart.dataSegment,c=!1,u=1,d=1,g=0;g<e.length;g++)c|=e[g].border_color_up&&!s.isTransparent(e[g].border_color_up),c|=e[g].border_color_down&&!s.isTransparent(e[g].border_color_down),u=e[g].opacity_up,d=e[g].opacity_down,!t.highlight&&this.highlightedDraggable&&(h.g2o(7),u*=h.C_l("0.3",0),d*=.3);!1===t.borders&&(c=!1),t.name||(t.name=i),f=n.multiplier,t.heightPercentage||(h.T8B(9),t.heightPercentage=h.C_l("0.7",1)),t.widthFactor||(t.widthFactor=.8),m=0,v=0;for(var U=0;U<this.chart.maxTicks;U++)if(y=l[U])for(b=0,g=0;g<e.length;g++)((x=y[e[g].field])||0===x)&&(S="stac",S+="ked",k="ob",k+="j",k+="e",k+="ct",p=e[g].subField||this.chart.defaultPlotField||"Close",typeof x==k&&x[p]&&(x=x[p]),o==S?b+=x:b=x,b>m&&(m=b),b<v&&(v=b));if(0!==m||0!==v){for(w=!1,t.bindToYAxis?(n.baseline&&(v=n.baseline.value,w=!0),C=Math.floor(this.pixelFromPrice(v,r,n))+(n.flipped?-.5:.5)):(n.flipped?(C=Math.floor(n.top)-.5,D=Math.floor(n.bottom)-.5):(C=Math.floor(n.bottom)+.5,D=Math.floor(n.top)+.5),f=Math.abs(C-D)*t.heightPercentage/(m-v)),this.startClip(a),T=this.layout.candleWidth<=1||!c?0:.5,A=this.chart.context,n.flipped&&(A.translate(0,2*n.top),A.scale(1,-1)),h.T8B(7),M=Math.max(h.z$L("0",0),(1-t.widthFactor)*this.layout.candleWidth/2),L=new Array(l.length),_=[],P=this,F=1,g=0;g<e.length;g++){if(E="cl",E+="us",E+="te",E+="red",I=e[g],F=this.layout.candleWidth*t.widthFactor,M&&this.layout.candleWidth-F<=2&&(c=!1),N=0,o==E&&(N=g,F/=e.length),p=I.subField||this.chart.defaultPlotField||"Close","function"==typeof I.color_function){O={};for(var z=0;z<l.length;z++)l[z]&&("string"==typeof(q=I.color_function(l[z]))&&(q={fill_color:q,border_color:q}),(H=q.fill_color+","+q.border_color)in O?O[H].positions.push(z):(q.positions=[z],O[H]=q));for(H in O)q=O[H],R(I.field,p,q.fill_color,q.opacity,null,null,N,F,q.positions),R(I.field,p,q.border_color,q.opacity,!0,null,N,F,q.positions)}else R(I.field,p,I.fill_color_up,u,null,!0,N,F),R(I.field,p,I.fill_color_down,d,null,null,N,F),this.layout.candleWidth>=2&&c&&(R(I.field,p,I.border_color_up,u,!0,!0,N,F),R(I.field,p,I.border_color_down,d,!0,null,N,F));"stacked"==o&&(_=s.shallowClone(L))}A.globalAlpha=1,this.endClip()}else this.displayErrorAsWatermark(a,this.translateIf(t.name+" Not Available"))}},s.ChartEngine.prototype.drawBarTypeChartInner=function(t){var e,i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it;e="h",e+="l",e+="c",i=t.type,a=t.panel,r=t.field,n=t.fillColor,o=t.borderColor,l=t.condition,h.B09(),c=t.style,u=t.yAxis,h.T8B(13),p=(d=h.C_l(i,"histogram"))||"candle"==i,h.T8B(13),g=h.z$L(i,"shadow"),h.T8B(13),f=h.C_l(i,e),m="bar"==i||f,y=(v=a.chart).dataSegment,b=this.chart.context,x=new Array(y.length),S=0,o&&!s.isTransparent(o)&&(S=.5),k=b.globalAlpha,!t.highlight&&this.highlightedDraggable&&(b.globalAlpha*=.3),h.g2o(7);var at=h.C_l(8,7);C=v.dataSet.length-v.scroll-at,b.beginPath(),u||(u=a.yAxis),w=u.top,D=u.bottom,T=this.layout.candleWidth,h.g2o(7);var rt=h.C_l(10,9);A=a.left-.5*T+this.micropixels-rt,h.g2o(7);var nt=h.C_l(5,3);M=v.tmpWidth/nt,L=b.lineWidth/2,p&&(s.isTransparent(n)&&(n=this.containerColor),b.fillStyle=n),g&&(b.lineWidth=1),m&&((_=this.canvasStyle(c)).width&&parseInt(_.width,10)<=25?b.lineWidth=Math.max(1,s.stripPX(_.width)):b.lineWidth=1),P=v.state.chartType.pass;for(var st=0;st<=y.length;st++)if(F=M,h.T8B(17),A+=h.z$L(2,T),T=this.layout.candleWidth,h.g2o(43),A+=h.z$L("2",T),(E=y[st])&&!E.projection){if(E.candleWidth){h.g2o(5);var ot=h.z$L(17,0,15);A+=(E.candleWidth-T)/ot,T=E.candleWidth,(t.volume||T<v.tmpWidth)&&(h.g2o(17),F=h.z$L(2,T))}if(v.transformFunc&&u==v.panel.yAxis&&E.transform&&(E=E.transform),E&&r&&"Close"!=r&&(E=E[r]),(E||0===E)&&(I=E.Close,N=void 0===E.Open?I:E.Open,d&&v.defaultPlotField&&(I=E[v.defaultPlotField]),(I||0===I)&&(!p||d||N!=I&&null!==N))){if(l){if(l&s.ChartEngine.CLOSEDOWN?P.even|=I==E.iqPrevClose:l&s.ChartEngine.CANDLEDOWN&&(h.g2o(13),P.even|=h.C_l(I,N)),l&s.ChartEngine.CANDLEUP&&N>=I)continue;if(l&s.ChartEngine.CANDLEDOWN&&N<=I)continue;if(l&s.ChartEngine.CANDLEEVEN&&N!=I)continue;if(l&s.ChartEngine.CLOSEUP&&I<=E.iqPrevClose)continue;if(l&s.ChartEngine.CLOSEDOWN&&I>=E.iqPrevClose)continue;if(l&s.ChartEngine.CLOSEEVEN&&I!=E.iqPrevClose)continue}if(h.T8B(6),h.C_l(st,C),q=N,O=I,(g||m)&&(q=void 0===E.High?Math.max(I,N):E.High,O=void 0===E.Low?Math.min(I,N):E.Low),H=u.semiLog?u.height*(1-(Math.log(Math.max(q,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-q)*u.multiplier,R=u.semiLog?u.height*(1-(Math.log(Math.max(O,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-O)*u.multiplier,u.flipped?(h.T8B(7),H=h.C_l(D,H),h.g2o(7),R=h.C_l(D,R)):(H+=w,R+=w),V=Math.floor(d?u.flipped?u.top:R:Math.min(H,R))+S,B=d?u.flipped?H:u.bottom:Math.max(H,R),h.T8B(7),W=Math.floor(h.C_l(B,V)),j=R,(m||g)&&(U=u.semiLog?u.height*(1-(Math.log(Math.max(N,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-N)*u.multiplier,z=u.semiLog?u.height*(1-(Math.log(Math.max(I,0))/Math.LN10-u.logLow)/u.logShadow):(u.high-I)*u.multiplier,u.flipped?(h.g2o(7),U=h.C_l(D,U),h.T8B(7),z=h.C_l(D,z)):(U+=w,z+=w),j=z),x[st]=j,V<w){if(V+W<w)continue;h.T8B(7),W-=h.z$L(w,V),V=w}V+W>D&&(h.T8B(5),W-=h.C_l(W,V,D)),h.T8B(6),B=h.z$L(W,V),V>=D||B<=w||($=Math.floor(A)+.5,Z=(Y=Math.floor($-F)+S)==(X=Math.round($+F)-S)?F:0,W<2&&(W=2),p?(d||I!=N)&&b.rect(Y,V,Math.max(1,X-Y),W):g?(I==N&&z<=D&&z>=w&&(J=Math.floor(z)+.5,h.T8B(7),b.moveTo(h.z$L(Y,Z),J),h.T8B(6),b.lineTo(h.C_l(Z,X),J)),q!=O&&(b.moveTo($,V),b.lineTo($,B))):m&&(V<D&&B>w&&E.High!=E.Low&&(h.g2o(7),b.moveTo($,h.C_l(V,L)),h.g2o(6),b.lineTo($,h.C_l(L,B))),U>w&&U<D&&!f&&(G=Math.floor(U)+.5,b.moveTo($,G),h.T8B(44),b.lineTo(h.C_l(Z,$,F),G)),z>w&&z<D&&(K=Math.floor(z)+.5,b.moveTo($,K),h.g2o(32),b.lineTo(h.C_l(Z,$,F),K))))}}if(Q=b.globalAlpha,p)Q<1&&(b.save(),b.globalAlpha=1,b.fillStyle=this.containerColor,b.fill(),b.restore()),b.fill(),S&&(b.lineWidth=t.highlight?2:1,b.strokeStyle=o,b.stroke());else if(g||m){tt=530929824,et=1836945299,it=2;for(var lt=1;h.S(lt.toString(),lt.toString().length,420)!==tt;lt++)this.canvasColor(c),b.globalAlpha=Q,o&&(b.strokeStyle=o),it+=2;h.E(it.toString(),it.toString().length,40431)!==et&&(this.canvasColor(c),b.globalAlpha=Q,o&&(b.strokeStyle=o)),this.canvasColor(c),b.globalAlpha=Q,o&&(b.strokeStyle=o),t.highlight&&(b.lineWidth*=2),b.stroke(),b.closePath(),h.g2o(7),b.lineWidth=h.z$L("1",0)}return b.globalAlpha=k,{cache:x}},s.ChartEngine.prototype.plotDataSegmentAsLine=function(t,e,i,a){var r,n,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt,nt,st,ot,lt,ct,ht,ut,dt,pt,gt,ft,mt,vt,yt,bt,xt,St,kt,Ct,wt,Dt,Tt,At,Mt,Lt,_t,Pt,Ft,Et,It,Nt,qt,Ot,Ht,Rt,Ut;function zt(t){var e,i,a,r,n,o,l,c,u;if(e=d,"object"==typeof(i=t)&&(d=s.borderPatternToArray(T.lineWidth,i.pattern),i=i.color),y[i]=1,!f){h.g2o(0),a=b.slice(-h.C_l("2",0)),h.B09(),r=d instanceof Array&&d.join(),n=e instanceof Array&&e.join(),h.g2o(45),o=h.C_l(r,n),l=!s.colorsEqual(M,i),h.T8B(46);var p=h.z$L(38,1,2,17);return c=t.width*(v?p:1),u=T.lineWidth!=c,(l||o||u)&&(g?x.push({coord:a,color:i,pattern:d||[],width:c}):(T.stroke(),T.lineWidth=c,o&&T.setLineDash(r?d:[]),T.beginPath(),T.moveTo(a[0],a[1]))),M=i,g||(T.strokeStyle=i&&"auto"!=i?i:C.defaultColor),a}}function Vt(t,e,i){var a,r,n,s,o,l;if(T.setLineDash([]),a=p.semiLog?p.height*(1-(Math.log(Math.max(i.CollatedOpen,0))/Math.LN10-p.logLow)/p.logShadow):(p.high-i.CollatedOpen)*p.multiplier,r=p.semiLog?p.height*(1-(Math.log(Math.max(i.CollatedHigh,0))/Math.LN10-p.logLow)/p.logShadow):(p.high-i.CollatedHigh)*p.multiplier,n=p.semiLog?p.height*(1-(Math.log(Math.max(i.CollatedLow,0))/Math.LN10-p.logLow)/p.logShadow):(p.high-i.CollatedLow)*p.multiplier,p.flipped){a=p.bottom-a,s=1617974163,o=-1196578737,l=2;for(var c=1;h.E(c.toString(),c.toString().length,84276)!==s;c++)r=p.bottom*r,n=p.bottom+n,l+=2;h.S(l.toString(),l.toString().length,6688)!==o&&(r=p.bottom-r,n=p.bottom%n),r=p.bottom-r,n=p.bottom-n}else a+=p.top,r+=p.top,n+=p.top;T.lineTo(t,a),T.moveTo(t,r),T.lineTo(t,n),T.moveTo(t,e),b.push(t,a)}if(r=!1,n=!1,l=!1,c=!0,u=null,d=null,p=null,g=0,f=!1,m=!1,v=!1,y={},b=[],x=[],S=[],k=[],C=this,D=(w=e.chart).dataSegment,T=w.context,A=new Array(D.length),M=T.strokeStyle,L=T.globalAlpha,w.dataSet.length){_="C",_+="lo",_+="se",P="tr",P+="anspare",P+="nt",this.startClip(e.name),i&&(r=i.skipProjections,i.skipTransform,n=i.noSlopes,g=i.tension,l=i.step,d=i.pattern,c=i.extendOffChart,p=i.yAxis,u=i.gapDisplayStyle,f=i.noDraw,m=i.reverse,v=i.highlight,i.width&&(T.lineWidth=i.width)),u||!1===u||(u=i.gaps),u||(u={color:P,fillMountain:!0}),T.setLineDash(d instanceof Array?d:[]),v&&(h.T8B(35),T.lineWidth*=h.C_l(0,"2")),!v&&this.highlightedDraggable&&(T.globalAlpha*=.3),!1!==c&&(c=!0),F=i.subField||w.defaultPlotField||_,p||(p=e.yAxis),E=w.transformFunc&&p==w.panel.yAxis,h.g2o(2);var Bt=h.z$L(5,3,0);I=T.lineWidth*Bt,N=m?w.top-I:w.bottom+I,(i.threshold||0===i.threshold)&&(N=this.pixelFromPrice(i.threshold,e,p)),q=!g&&f&&u&&u.fillMountain,O=t,H=t;for(var Wt=0;Wt<D.length;Wt++)if((R=D[Wt])&&"object"==typeof R&&(R[t]||0===R[t])){"object"==typeof R[t]&&(H=s.createObjectChainNames(t,[F])[h.C_l(0,"0",h.T8B(35))]);break}U={left:null,right:null},h.T8B(47);var jt=h.C_l(17,10,17,28,3);z=w.dataSet.length-w.scroll-jt,c&&(U.left=this.getPreviousBar(w,H,0),U.right=this.getNextBar(w,H,D.length-1)),V=!0,B=!1,T.beginPath(),Y=null,($=U.left)&&(Y=$.transform),$&&((j=E?Y?Y[t]:null:$[t])||0===j)&&((j[F]||0===j[F])&&(j=j[F]),X=this.pixelFromTick($.tick,w),Z=this.pixelFromTransformedValue(j,e,p),T.moveTo(X,Z),b.push(X,Z),D[0].tick-$.tick>1&&(S.push({start:b.slice(-2),threshold:N,tick:$}),B=!0),V=!1),h.g2o(7);var $t=h.z$L(8,7);J=e.left+this.micropixels-$t,i.shiftRight&&(J+=i.shiftRight),Q=this.currentQuote(),tt=0,et=0,it=!1,at={reset:!0};for(var Yt=0;Yt<D.length;Yt++){if(W=this.layout.candleWidth,rt=D[Yt],nt=D[Yt],rt||(rt={}),r&&rt.projection){U.right=null;break}if(rt.candleWidth&&(W=rt.candleWidth),i.lineTravelSpacing&&(W=0),E&&rt.transform&&(rt=rt.transform),(st=rt[t])&&"object"==typeof st&&(st=st[F],h.T8B(32),O=h.C_l(F,t,".")),w.lineApproximation&&this.layout.candleWidth<1&&!i.lineTravelSpacing){if(at.reset&&(at={CollatedHigh:-Number.MAX_VALUE,CollatedLow:Number.MAX_VALUE,CollatedOpen:null,CollatedClose:null},it=!1),((ot=st)||0===ot)&&(at.CollatedHigh=Math.max(at.CollatedHigh,ot),at.CollatedLow=Math.min(at.CollatedLow,ot),at.CollatedClose=ot,null===at.CollatedOpen?at.CollatedOpen=ot:it=!0),!((tt+=W)-et>=1||Yt==D.length-1)){J+=W;continue}et=Math.floor(tt),at.reset=!0,at[t]=at.CollatedClose,(rt=at).cache={}}if(n||(h.T8B(17),J+=h.z$L(2,W)),st||0===st){if(G=rt,ct=rt.cache,h.T8B(6),((ht=h.C_l(Yt,z))<e.cacheLeft||ht>e.cacheRight||!ct[t])&&(ct[O]=p.semiLog?p.height*(1-(Math.log(Math.max(st,0))/Math.LN10-p.logLow)/p.logShadow):(p.high-st)*p.multiplier,p.flipped?ct[O]=p.bottom-ct[O]:ct[O]+=p.top),ut=A[Yt]=ct[O],nt.tick==Q.tick&&w.lastTickOffset&&(J+=w.lastTickOffset),b.slice(-2),!V&&a){if(nt[t]&&nt[t][F]&&(nt=nt[t]),!(dt=a(this,nt,B))){J+=n?W:W/2;continue}zt(dt)}V?(T.moveTo(J,ut),g&&x.push({coord:[J,ut],color:T.strokeStyle,pattern:d||[],width:T.lineWidth})):(pt="m",pt+="oveTo",(l||n)&&(gt=b.slice(-1)[0],it?Vt(J,gt,rt):T.lineTo(J,gt),b.push(J,gt)),it&&!n?Vt(J,ut,rt):T[n?pt:"lineTo"](J,ut)),B&&(S.push({end:[J,ut],threshold:N}),K=nt,!q||l||n||b.push(J,N)),b.push(J,ut),V=!1,B=!1,J+=n?W:W/2,nt.lineTravel&&(J+=nt.lineTravel)}else lt=b.slice(-2),q&&!B&&b.length&&b.push(lt[0],N),B||S.push({start:lt,threshold:N,tick:K}),B=!0,J+=n?W:W/2,(l||n)&&b.length&&(A[Yt]=b.slice(-h.z$L(0,"1",h.T8B(8)))[0])}if(mt=null,(ft=U.right)&&(mt=ft.transform),!V&&ft){if((j=E?mt?mt[t]:null:ft[t])&&(j[F]||0===j[F])&&(j=j[F]),vt=this.pixelFromTick(ft.tick,w),yt=this.pixelFromTransformedValue(j,e,p),ft.tick-D[D.length-1].tick>1){B||(bt=b.slice(-2),q&&b.length&&b.push(bt[0],N),S.push({start:bt,threshold:N,tick:D[D.length-1]})),xt=-1792403996,St=-623897854,kt=2;for(var Xt=1;h.S(Xt.toString(),Xt.toString().length,49626)!==xt;Xt++)B=!1,kt+=2;h.E(kt.toString(),kt.toString().length,30778)!==St&&(B=!0)}!V&&a&&(Ct=a(this,ft,B))&&zt(Ct),wt=b.slice(-2),d&&d.length||(Dt="m",Dt+="ov",Dt+="e",Dt+="To",(l||n)&&(T.lineTo(vt,wt[1]),b.push(vt,wt[1])),T[n?Dt:"lineTo"](vt,yt)),B&&(S.push({end:[vt,yt],threshold:N}),!q||l||n||b.push(vt,N)),b.push(vt,yt)}for(var Zt in y)k.push(Zt);if((l||n||this.extendLastTick||i.extendToEndOfDataSet)&&(Tt=b.slice(-2),b.length&&(At=Tt[0],Mt=Tt[1],i.extendToEndOfDataSet||l&&!1!==i.extendToEndOfDataSet?(At=this.pixelFromTick(w.dataSet.length-1,w),(n||this.extendLastTick)&&(h.T8B(17),At+=h.C_l(2,W))):n?At+=W:this.extendLastTick&&(h.T8B(17),At+=h.z$L(2,W)),At>Tt[0]&&(Lt=null,a&&(Lt=a(this,{},!0)),Lt&&zt(Lt),T.lineTo(At,Mt),B&&q||b.push(At,Mt)))),f||(g&&b.length&&(T.beginPath(),T.setLineDash(i.pattern||[]),T.lineDashOffset=0,o.plotSpline(b,g,T,x)),T.stroke()),this.endClip(),!f&&i.label&&G&&(_t="n",_t+="o",_t+="o",_t+="p",(Ft=G[t])&&"object"==typeof Ft&&(Ft=Ft[F]),Pt=p.priceFormatter?p.priceFormatter(this,e,Ft,i.labelDecimalPlaces):this.formatYAxisPrice(Ft,e,i.labelDecimalPlaces),Et=this.yaxisLabelStyle,p.yaxisLabelStyle&&(Et=p.yaxisLabelStyle),It=Et==_t?T.strokeStyle:null,Nt="noop"==Et?"#FFFFFF":T.strokeStyle,this.yAxisLabels.push({src:"plot",args:[e,Pt,G.cache[O],Nt,It,T,p]})),qt="object"==typeof u?u.color:u,s.isTransparent(qt))for(var Jt=0;Jt<S.length;Jt+=2)if(Ot=S[Jt].start,Jt&&(Ht=S[Jt-1].end),Ht&&Ot[0]==Ht[0]&&Ot[1]==Ht[1]){if(T.beginPath(),Rt=T.lineWidth,a){if("object"==typeof(Ut=a(this,S[Jt].tick||{},!1))){h.g2o(48);var Gt=h.C_l(16,12,96,3,3);h.g2o(49);var Kt=h.C_l(3,10,0,14,8);Rt=Ut.width*(v?Gt:Kt),Ut=Ut.color}T.strokeStyle=T.fillStyle=Ut}T.lineWidth=Rt,T.arc(Ot[0],Ot[1],1,0,2*Math.PI),T.stroke(),T.fill()}}return T.globalAlpha=L,{colors:k,points:b,cache:A,gapAreas:S}},s.ChartEngine.prototype.drawMountainChart=function(t,e,i){var a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V;a="tran",a+="sp",a+="are",a+="nt",r="stx",r+="_",r+="mountain_chart",n=this.chart.context,o=e,l=!1,c=!1,u=null,d=null,p=null,g=null,f=0,m=null,v=!1,y=null,b=null,x=!1,S=null,k=null,C=!1,w=!1,D=!1,(T=t.chart).dataSegment,A=T.lineStyle||{},e&&"object"==typeof e||(e={style:e}),o=e.style||r,u=e.field||T.defaultPlotField||"Close",d=e.subField||T.defaultPlotField||"Close",(m=e.gapDisplayStyle)||!1===m||(m=e.gaps),m||!1===m||(m=T.gaplines),m||(m=a),p=e.yAxis||t.yAxis,l=e.reverse||!1,g=e.tension,y=e.fillStyle,f=e.width||A.width,v=e.step,b=e.pattern||A.pattern,x=e.highlight,k=e.color,S=e.baseColor,c=e.colored,C=e.extendToEndOfDataSet,w=e.isComparison,D=e.returnObject,M=this.canvasStyle(o),L=p.top,(isNaN(L)||isNaN(L/L))&&(L=0),_=k||(o&&M.backgroundColor?M.backgroundColor:this.defaultColor),P=S||(o&&M.color?M.color:this.containerColor),y?n.fillStyle=y:S||M.color?((F=n.createLinearGradient(0,L,0,p.bottom)).addColorStop(p.flipped?1:0,_),F.addColorStop(p.flipped?0:1,P),n.fillStyle=F):n.fillStyle=_,this.startClip(t.name),E=n.lineWidth,e.symbol||(d=null),e={skipProjections:!0,reverse:l,yAxis:p,gapDisplayStyle:m,step:v,highlight:x,extendToEndOfDataSet:C,isComparison:w},T.tension&&(e.tension=T.tension),(g||0===g)&&(e.tension=g),I=parseInt(M.paddingTop,10),N=k||M.borderTopColor,q=null,(c||N&&!s.isTransparent(N))&&I&&!s.isIE8&&((O=this.scratchContext)||(H=n.canvas.cloneNode(!0),O=this.scratchContext=H.getContext("2d")),O.canvas.height=n.canvas.height,O.canvas.width=n.canvas.width,O.drawImage(n.canvas,0,0),s.clearCanvas(n.canvas,this)),s.extend(e,{panelName:t.name,direction:e.reverse?-1:1,band:u,subField:d,opacity:1}),!e.highlight&&this.highlightedDraggable&&(h.g2o(9),e.opacity*=h.z$L("0.3",1)),s.preparePeakValleyFill(this,e),(c||N&&!s.isTransparent(N))&&I&&!s.isIE8&&(n.save(),h.T8B(9),n.lineWidth+=h.z$L(2,I),n.globalCompositeOperation="destination-out",n.globalAlpha=1,this.plotDataSegmentAsLine(u,t,e),n.globalCompositeOperation="destination-over",n.scale(1/this.adjustedDisplayPixelRatio,1/this.adjustedDisplayPixelRatio),n.drawImage(this.scratchContext.canvas,0,0),n.restore()),n.strokeStyle=N,f?n.lineWidth=f:M.width&&parseInt(M.width,10)<=25?n.lineWidth=Math.max(1,s.stripPX(M.width)):n.lineWidth=1,b||(b=M.borderTopStyle),e.pattern=s.borderPatternToArray(n.lineWidth,b),R=i,U=1408330516,z=1354354750,V=2;for(var B=1;h.E(B.toString(),B.toString().length,56328)!==U;B++)m&&(R=this.getGapColorFunction(u,d,{color:N,pattern:e.pattern,width:n.lineWidth},m,i)),q=this.plotDataSegmentAsLine(u,t,e,R),n.lineWidth=E,V+=2;return h.S(V.toString(),V.toString().length,81878)!==z&&(m&&(R=this.getGapColorFunction(u,d,{color:N,pattern:e.pattern,width:n.lineWidth},m,i)),q=this.plotDataSegmentAsLine(u,t,e,R),n.lineWidth=E),this.endClip(),q.colors.length||q.colors.push(N),D?q:q.colors},s.ChartEngine.prototype.drawBaselineChart=function(t,e){var i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U;if(a=(i=t.chart).gaplines,r=i.baseline.actualLevel,n=[],o=e.field||i.defaultPlotField,l=i.lineStyle||{},t.name!=i.panel.name&&(r=null,c=e.subField||i.defaultPlotField||"Close",(r=i.dataSegment[0]?i.dataSegment[0][e.field]:this.getNextBar(i,c,0))&&"object"==typeof r&&(r=r[c])),(u=e.gapDisplayStyle)||!1===u||(u=e.gaps),null!==r&&!isNaN(r)){if(d="do",d+="tt",d+="ed",p="l",p+="i",p+="n",p+="e",g="1",g+=".",g+="1",f="stx_baselin",f+="e_up",m="m",m+="ount",m+="ai",m+="n",(v=e.type==m)&&(n=this.drawMountainChart(t,{style:e.style,field:e.field,yAxis:e.yAxis,gapDisplayStyle:u,colored:!0,tension:0})),y=this.pixelFromPrice(r,t),isNaN(y))return;for(var z in this.startClip(t.name),b=e.pattern||l.pattern,x=e.fill_color_up||this.getCanvasColor("stx_baseline_up"),S=e.fill_color_down||this.getCanvasColor("stx_baseline_down"),k=e.border_color_up||this.getCanvasColor("stx_baseline_up"),C=e.border_color_down||this.getCanvasColor("stx_baseline_down"),w={fill:x,edge:k,width:e.width||l.width||this.canvasStyle(f).width},D={fill:S,edge:C,width:e.width||l.width||this.canvasStyle("stx_baseline_down").width},A={over:(T=e.yAxis.flipped)?D:w,under:T?w:D},M=!1,u||!1===u||(u=a),L=1,!e.highlight&&this.highlightedDraggable&&(L*=.3),A)_="tra",_+="nsparen",_+="t",P=parseInt(Math.max(1,s.stripPX(A[z].width)),10),e.highlight&&(P*=2),b=s.borderPatternToArray(P,b),(F={panelName:t.name,band:o,threshold:r,color:v?"transparent":A[z].fill,direction:"over"==z?1:-1,edgeHighlight:A[z].edge,edgeParameters:{pattern:b,lineWidth:P+.1,opacity:L},gapDisplayStyle:u,yAxis:e.yAxis}).yAxis&&(F.threshold=this.priceFromPixel(this.pixelFromPrice(F.threshold,t),t,F.yAxis)),n.push(A[z].edge),E=F.color,!v&&E&&"transparent"!=E&&(I="ov",I+="e",I+="r",N=t.top,q=t.bottom,(O=i.context.createLinearGradient(0,z==I?N:q,0,y)).addColorStop(0,s.hexToRgba(s.colorToHex(E),60)),O.addColorStop(1,s.hexToRgba(s.colorToHex(E),10)),F.color=O,F.opacity=L),s.preparePeakValleyFill(this,i.dataSegment,F),a&&(a.fillMountain||this.drawLineChart(t,null,null,{color:"transparent",gapDisplayStyle:{color:this.containerColor,pattern:"solid",width:F.edgeParameters.lineWidth}}),a.color||(M=!0,a.color=this.defaultColor)),this.drawLineChart(t,null,null,{color:_,width:F.edgeParameters.lineWidth}),M&&(a.color=null);if(this.plotLine(0,1,y,y,this.containerColor,"line",i.context,t,{lineWidth:g}),h.g2o(7),this.plotLine(0,h.C_l("1",0),y,y,this.getCanvasColor("stx_baseline"),p,i.context,t,{pattern:d,lineWidth:"2.1",opacity:.5*L}),this.controls.baselineHandle&&this.manageTouchAndMouse&&this.getSeriesRenderer(e.name)==this.mainSeriesRenderer&&!1!==i.baseline.userLevel){h.g2o(50);var V=h.C_l(1,6,9,110,14);h.g2o(51);var B=h.C_l(17,0,2,21);this.controls.baselineHandle.style.top=y-parseInt(getComputedStyle(this.controls.baselineHandle).height,V)/B+"px",this.controls.baselineHandle.style.left=i.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10)+"px",this.controls.baselineHandle.style.display="block"}H=907258618,R=-150601040,U=2;for(var W=1;h.E(W.toString(),W.toString().length,67100)!==H;W++)this.endClip(),U+=2;h.E(U.toString(),U.toString().length,36736)!==R&&this.endClip(),this.endClip()}return{colors:n}},s[h.s8(n)?"ChartEngine":""][h.m7("a985")?"":r][h.B2(a)?"":i]=function(t,e){var i,a,r,n,o,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt,nt,st,ot,lt,ct,ht,ut,dt,pt,gt,ft,mt,vt,yt,bt,xt,St,kt,Ct,wt,Dt,Tt,At,Mt,Lt,_t,Pt,Ft,Et,It,Nt,qt,Ot,Ht,Rt,Ut,zt,Vt,Bt,Wt,jt,$t,Yt,Xt,Zt,Jt,Gt,Kt,Qt,te,ee,ie,ae,re,ne,se,oe,le,ce,he,ue,de,pe,ge,fe,me,ve,ye,be,xe,Se,ke,Ce,we,De,Te,Ae,Me,Le,_e,Pe,Fe,Ee,Ie,Ne,qe,Oe,He,Re,Ue,ze,Ve,Be,We,je,$e;if(i="f",i+="9",i+="69",a="9",a+="6",a+="5",a+="d",r="54b",r+="e",h.C1=function(t){if(h)return h.e3(t)},h.M$=function(t){if(h.Y7E(),h)return h.C9(t)},h.E7=function(t){if(h.B09(),h)return h.C9(t)},n=-(h.p9(r)?579491205:811334236),o=h.g4("677c")?6435781861:2124059506,c=h.E7("f715")?7493605754:1429031096,u=h.P0(a)?188325063:413921371,d=879085363,h.O6(h.d9("3bb1")?1:0,!1,h.e5("2637")?562412:487538)===n||h.c2(h.M$("f9dd")?9:0,!!h.B8("f79f"),243785)===o||h.c2(9,!!h.S4(i),537347)===c||h.c2(h.J1("b7bd")?5:8,!!h.C1("d3b4"),890093)===u||h.O6(9,!h.b7("2cf1"),115207)===d){let i=function(t){var e,i,a,r,n,s;e=-1816234873,i=1061396168,a=-1729180144,h.Y7E(),r=1897481111,n=882319399,h.O6(0,!1,612198)!==e&&h.c2(0,!1,784361)!==i&&h.O6(9,!0,697246)!==a&&h.c2(8,!0,725805)!==r&&h.O6(9,!0,684414)!==n||(s="runAp",s+="pen",t[s+="d"]("mousemoveinner",$))};if(p="C",p+="hartEngine",g="t",g+="o",g+="p",f="c",f+="ros",f+="sY",m="p",m+="x",v="cro",v+="sshairT",v+="i",v+="ck",y="s",y+="t",y+="y",y+="le",b="c",b+="ontr",b+="ols",x="cr",x+="os",x+="s",x+="X",S="resizingPa",S+="nel",k="o",k+="verX",k+="A",k+="xis",C="c",C+="u",C+="rrentPan",C+="el",w="r",w+="ig",w+="h",w+="t",D="currentP",D+="anel",T="c",T+="x",A="over",A+="YAxis",M="t",M+="o",M+="p",L="xaxisHeigh",L+="t",_="overXA",_+="xis",P="char",P+="t",F="xAxi",F+="sAsFoot",F+="er",E="t",E+="o",E+="p",I="ChartEngin",I+="e",N="c",N+="urrentPa",N+="n",N+="el",q="b",q+="a",q+="ckO",q+="utX",O="c",O+="y",H="he",H+="ight",R="w",R+="id",R+="t",R+="h",U="getBo",U+="und",U+="ingClientRec",U+="t",!this.chart.canvas)return;if(!s.isAndroid&&!s.isIOS7or8&&(z="fl",z+="oo",z+="r",V="c",V+="hart",B="floo",B+="r",W="heig",W+="h",W+="t",this.chart.canvas[W]!=Math[B](this.devicePixelRatio*this.chart.container.clientHeight)||this[V].canvas.width!=Math[z](this.devicePixelRatio*this.chart.container.clientWidth)))return void this.resizeChart();if(this.runPrepend("mousemoveinner",arguments))return;if($=arguments,Y=this.container[U](),this.top=Y.top,this.left=Y.left,this.right=this.left+this[R],this.bottom=this.top+this[H],this.hasDragged=!0,s.ChartEngine.crosshairX=t,s.ChartEngine.crosshairY=e,X=this[O]=this.crossYActualPos=this.backOutY(s.ChartEngine.crosshairY),Z=this.cx=this.crossXActualPos=this[q](s.ChartEngine.crosshairX),this.grabbingScreen&&this.anyHighlighted){J="grab",J+="St",J+="artY",h.T8B(23);var Ye=h.z$L(16,17,33,1);h.T8B(52);var Xe=h.z$L(10,3,8,94,26);if(Math.pow(this.grabStartX-t,Ye)+Math.pow(this[J]-e,Xe)<36)return}if(this.cancelLongHold=!0,G=function(t,e){var i,a,r,n,o,c,u,d;if(h.Y7E(),i=1867405715,a=1512643009,r=-1019292108,n=-302916853,o=-254037638,h.O6(0,!1,930768)===i||h.O6(0,!1,363190)===a||h.O6(9,!0,678306)===r||h.O6(8,!0,903307)===n||h.c2(9,!0,817412)===o){if(c="dr",c+="a",c+="w",0===s[l])return u="ch",u+="a",u+="rt",t.whichPanel(e)||t[u].panel;t[c][l]||(d="dra",d+="w",t.draw=function(){var t,e,i,a,r,n;t=1198212268,h.T8B(9),e=-h.z$L("1200925195",1),i=1891593550,a=93065519,r=1401721397,h.O6(0,!1,381788)!==t&&h.c2(0,!1,993733)!==e&&h.O6(9,!0,483307)!==i&&h.c2(8,!0,337965)!==a&&h.O6(9,!0,552283)!==r||(n="c",n+="anvas",s.clearCanvas(this.chart[n],this))},t[d][l]=!0)}},this[N]=G(this,X),!this.currentPanel)return;if((K=this.currentPanel.chart).dataSet&&(Q="d",Q+="ata",Q+="Set",tt="crossh",tt+="ai",tt+="r",tt+="Tick",et="cur",et+="rentPanel",it="cross",it+="hairTi",it+="ck",this.crosshairTick=this.tickFromPixel(Z,K),j=this.valueFromPixel(X,this.currentPanel),this.crosshairValue=this.adjustIfNecessary(this.currentPanel,this[it],j),(at="chart"==this.currentPanel.name?this.preferences.horizontalCrosshairField:this[et].horizontalCrosshairField)&&this[tt]<K[Q].length&&this.crosshairTick>-1&&(j=K.dataSet[this.crosshairTick][at],this.crossYActualPos=this.pixelFromPrice(j,this.currentPanel))),s[I].crosshairX>=this.left&&s.ChartEngine.crosshairX<=this.right&&s.ChartEngine.crosshairY>=this[E]&&s.ChartEngine.crosshairY<=this.bottom)rt="i",rt+="nsideCha",rt+="r",this[rt+="t"]=!0;else{nt=-863663067,st=2113040942,ot=2;for(var Ze=1;h.S(Ze.toString(),Ze.toString().length,3809)!==nt;Ze++)this[""]=!0,ot+=2;h.S(ot.toString(),ot.toString().length,80962)!==st&&(lt="insi",lt+="deC",this[lt+="hart"]=!1)}if(ct=!0===this[F]?this[P].canvasHeight:this.chart.panel.bottom,this[_]=this.insideChart&&s.ChartEngine.crosshairY<=ct+this.top&&s.ChartEngine.crosshairY>ct-this[L]+this[M],this[A]=(this[T]>=this[D][w]||this.cx<=this[C].left)&&this.insideChart,(this[k]||this.overYAxis||!this.insideChart&&!this.grabbingScreen)&&(this.undisplayCrosshairs(),!this.overXAxis&&!this.overYAxis))return;if(!this.displayCrosshairs&&!s.ChartEngine.resizingPanel)return ht="u",ht+="ndisp",ht+="layCross",void this[ht+="hairs"]();if(this.repositioningBaseline)return ut="C",ut+="ha",ut+="rtEng",ut+="ine",dt="cross",dt+="hairTick",pt="ba",pt+="seline",gt="pa",gt+="nel",Ie=this[gt+="s"][this.chart.panel.name],this.chart[pt].userLevel=this.adjustIfNecessary(Ie,this[dt],this.valueFromPixel(this.backOutY(s[ut].crosshairY),Ie)),Date.now()-this.repositioningBaseline.lastDraw>100&&(ft="n",ft+="o",ft+="w",this.draw(),this.repositioningBaseline.lastDraw=Date[ft]()),i(this);if(this.grabbingScreen&&!s.ChartEngine[S]){if(mt="ac",mt+="tive",mt+="Dr",mt+="awing",vt="Char",vt+="tEn",vt+="g",vt+="ine",yt="g",yt+="ra",yt+="bMo",yt+="de",bt="allowZ",bt+="o",bt+="om",xt="can",xt+="dleW",xt+="idth",St="a",St+="bs",kt="g",kt+="rabSt",kt+="ar",kt+="tY",Ct="cr",Ct+="osshairX",wt="g",wt+="rabStartY",Dt="grab",Dt+="Sta",Dt+="rt",Dt+="X",this.highlightedDraggable)return this.displayDragOK(!0),this.dragPlotOrAxis(Z,X),i(this);if(this.anyHighlighted){for(At in Tt="ch",Tt+="a",Tt+="r",Tt+="t",s.clearCanvas(this[Tt].tempCanvas,this),this.anyHighlighted=!1,this.overlays)this.overlays[At].highlight=!1;for(At in K.series)Mt="seri",Mt+="e",K[Mt+="s"][At].highlight=!1;this.displaySticky()}if(-1==this[Dt]&&(this.grabStartX=s.ChartEngine.crosshairX,this.grabStartScrollX=K.scroll),-1==this[wt]&&(Lt="s",Lt+="crol",Lt+="l",_t="grab",_t+="StartScrollY",Pt="crossh",Pt+="air",Pt+="Y",Ft="g",Ft+="rabSta",this[Ft+="rtY"]=s.ChartEngine[Pt],this[_t]=this.currentPanel.yAxis[Lt]),Et=s.ChartEngine[Ct]-this.grabStartX,It=s.ChartEngine.crosshairY-this[kt],0===Et&&0===It)return;if(Math.abs(Et)+Math[St](It)>5&&(this.grabOverrideClick=!0),qt=this.layout[xt],this[bt]&&"pan"!=this.grabMode&&(0===this[yt].indexOf("zoom")||this.overXAxis||this.grabStartYAxis)){if(Ot="zoo",Ot+="m",Ot+="-x",""===this.grabMode&&(Ht="z",Ht+="oom",Ht+="-y",Rt="grabStartYAx",Rt+="i",Rt+="s",this.overXAxis?this.grabMode="zoom-x":this[Rt]&&(this.grabMode=Ht)),this.grabMode==Ot?It=0:"zoom-y"==this.grabMode&&(Et=0),Et&&(Ut="max",Ut+="T",Ut+="ic",Ut+="ks",zt="c",zt+="hart",Vt="c",Vt+="rossh",Vt+="air",Vt+="X",Bt="Cha",Bt+="rtEn",Bt+="g",Bt+="ine",Wt="grab",Wt+="St",this[Wt+="artX"]=s[Bt][Vt],jt=qt-Et/this[zt][Ut],this.zoomSet(jt,this.chart)),this.layout.setSpan&&($t="lay",$t+="o",$t+="ut",Yt="chan",Yt+="geO",Yt+="ccurre",Yt+="d",this.layout.setSpan=null,this[Yt]($t)),Nt=this.grabStartYAxis)if(Nt.flipped&&(It*=-1),Nt.zoom=Math.round(this.grabStartZoom+It),this.grabStartZoom<Nt.height){if(Xt="hei",Xt+="ght",Nt.zoom>=Nt[Xt]){h.T8B(53);var Je=h.C_l(17,5,13,5);Nt.zoom=Nt.height-Je}}else Zt="heig",Zt+="ht",Jt="z",Jt+="o",Jt+="o",Jt+="m",Gt="he",Gt+="igh",Gt+="t",Nt.zoom<=Nt[Gt]&&(Nt[Jt]=Nt[Zt]+1)}else if(!this.overYAxis&&(Kt="cu",Kt+="rrent",Kt+="P",Kt+="anel",this.dispatch("move",{stx:this,panel:this[Kt],x:this.cx,y:this.cy,grab:!0}),this.allowScroll)){if(Qt="curre",Qt+="nt",Qt+="P",Qt+="anel",te="d",te+="isp",te+="a",te+="tch",ee="grabStartPan",ee+="el",ie="maxTick",ie+="s",ae="lineTr",ae+="a",ae+="velSpacing",re="s",re+="hif",re+="t",ne="g",ne+="rabStart",ne+="Micropixels",se="pa",se+="n",oe="g",oe+="rabSt",oe+="artMicropi",oe+="xels",Math.abs(It)<this.yTolerance){if(le="y",le+="Toler",le+="anceBro",!this[le+="ken"]){ce=866751392,he=430623148,ue=2;for(var Ge=1;h.S(Ge.toString(),Ge.toString().length,19331)!==ce;Ge++)It=1,ue+=2;if(h.S(ue.toString(),ue.toString().length,33231)!==he&&(It=6),It=0,0===Et)return}}else this.yToleranceBroken=!0;this[oe]||(this.grabStartMicropixels=0),this.grabMode=se,K.scroll=this.grabStartScrollX,h.g2o(19);var Ke=h.C_l(19,14);h.T8B(2);var Qe=h.z$L(1,3,3);if(this.micropixels=this[ne]+Et*(this[re]?Ke:Qe),!this[ae]){for(de="micro",de+="pi",de+="x",de+="els";this.micropixels>0;)this.micropixels-=qt,K.scroll++;for(;this[de]<-qt;)this.micropixels+=qt,K.scroll--}if(K.scroll>=K[ie]?(pe="in",pe+="itialWh",pe+="itespace",this.preferences.whitespace=this[pe]):(ge="maxT",ge+="i",ge+="ck",ge+="s",this.preferences.whitespace=(K[ge]-K.scroll)*qt),this.currentPanel==this[ee]){fe="current",(Nt=this[fe+="Panel"].yAxis).flipped&&(h.g2o(8),It*=-h.z$L(0,"1")),me=1804820412,ve=-1451245760,ye=2;for(var ti=1;h.E(ti.toString(),ti.toString().length,95678)!==me;ti++)Nt.scroll=this.scroll-It,ye+=2;h.S(ye.toString(),ye.toString().length,16315)!==ve&&(Nt.scroll=this.grabStartScrollY+It)}this[te]("scroll",{stx:this,panel:this[Qt],x:this.cx,y:this.cy})}return be=function(t){var e,i,a,r,n,s,o,l;e=820088109,i=-1133070791,h.g2o(8),a=h.C_l(64,"2");for(var c=1;h.E(c.toString(),c.toString().length,15726)!==e;c++)r=1252408948,h.T8B(0),n=~h.z$L("936293099",0),s=!1,o=!1,h.T8B(7),l=!h.C_l("968360179",0),a+=2;if(h.E(a.toString(),a.toString().length,96510)!==i&&(r=1833859703,h.g2o(35),n=-h.z$L(0,"642377558"),h.T8B(14),s=-h.z$L(32,"2105453279"),o=-1595082040,l=-698151727),h.O6(0,!1,333540)===r||h.O6(0,!1,198829)===n||h.O6(9,!0,695389)===s||h.c2(8,!0,765769)===o||h.O6(9,!0,370818)===l)return function(){var e,i,a,r,n,s,o,l;if(e=-813124712,i=1578430672,a=1603914647,r=1004127153,n=1103166077,h.O6(0,!1,186470)===e||h.O6(0,!1,897352)===i||h.c2(9,!0,791695)===a||h.c2(8,!0,932160)===r||h.c2(9,!0,748857)===n){t.draw(),s=1641882803,o=863741948,l=2;for(var c=1;h.E(c.toString(),c.toString().length,38769)!==s;c++)t.updateChartAccessories(),l+=2;h.E(l.toString(),l.toString().length,98645)!==o&&t[""]()}}},s[vt].useAnimation?(xe="request",xe+="AnimationFrame",window[xe](be(this))):(Se="dra",this[Se+="w"](),this.updateChartAccessories()),this[mt]&&(ke="tem",ke+="pC",ke+="anvas",Ce="cle",Ce+="arCanva",s[Ce+="s"](this.chart[ke],this),this.activeDrawing.render(this.chart.tempCanvas.context),this.activeDrawing.measure()),void this.undisplayCrosshairs()}return this.grabMode="",this.overXAxis||this.overYAxis?(this.updateChartAccessories(),this.findHighlights(),i(this)):(this.controls[x]&&(this[b].crossX[y].left=this.pixelFromTick(this[v],K)-.5+m),this.controls.crossY&&(this.controls[f].style[g]=this.crossYActualPos+"px"),this.insideChart&&!s.ChartEngine.resizingPanel?(we="Dr",we+="aw",we+="i",we+="ng",De="st",De+="udi",De+="e",De+="s",Te="curren",Ae=this[Te+="tVectorParameters"].vectorType,this.layout[De]&&(Me=this.layout.studies[this.currentPanel.name])&&(Le="over",Le+="la",Le+="ys",_e="dragg",_e+="ing",Pe="pref",this[Pe+="erences"].dragging&&this.preferences[_e].study||delete this[Le][Me.name],Ae&&(this.overlays[Me.name]=Me)),s.Drawing&&Ae&&s[we][Ae]&&(new s.Drawing[Ae]).dragToDraw||(Fe="d",Fe+="oDisplayCr",this[Fe+="osshairs"]()),this.updateChartAccessories()):(Ee="undisplayCross",this[Ee+="hairs"]()),this.magnetize(),this.repositioningDrawing?(Ne="repo",this[Ne+="sitionDrawing"](this.repositioningDrawing)):s[p].drawingLine?(qe="ac",qe+="ti",qe+="veDraw",this[qe+="ing"]&&(Oe="active",Oe+="Dr",Oe+="awin",Oe+="g",He="crossha",He+="irTick",Re="ch",Re+="a",Re+="r",Re+="t",Ue="acti",Ue+="veDrawin",Ue+="g",ze="clear",ze+="Canvas",Ve="current",Ve+="Panel",Be="back",Be+="OutY",We="adjustIfNe",We+="cessa",We+="ry",je="act",je+="iveDrawing",Ie=this.panels[this[je].panelName],j=this[We](Ie,this.crosshairTick,this.valueFromPixel(this[Be](s.ChartEngine.crosshairY),Ie)),this.magnetizedPrice&&Ie.name==this[Ve].name&&(j=this.adjustIfNecessary(Ie,this.crosshairTick,this.magnetizedPrice)),null===this.magnetizedPrice&&s[ze](this.chart.tempCanvas,this),this[Ue].move(this[Re].tempCanvas.context,this[He],j),this[Oe].measure&&this.activeDrawing.measure())):s.ChartEngine.resizingPanel&&this.resizePanels(),this.insideChart&&($e="currentPane",$e+="l",this.dispatch("move",{stx:this,panel:this[$e],x:this.cx,y:this.cy,grab:!1}),this.findHighlights(this.highlightViaTap)),i(this))}},s.ChartEngine.prototype.plotLine=function(t){var e,i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F;if(e="l",e+="i",e+="n",e+="e","number"==typeof arguments[0])for(var E in t={x0:arguments[0],x1:arguments[1],y0:arguments[2],y1:arguments[3],color:arguments[4],type:arguments[5],context:arguments[6],confineToPanel:arguments[7]},arguments[8])t[E]=arguments[8][E];if(t||(t={}),"none"!=t.pattern&&(i=t.x0,a=t.x1,r=t.y0,n=t.y1,o=t.color,l=t.type,c=t.context,u=t.confineToPanel,d=t.deferStroke,!0===u&&(u=this.chart.panel),null==c&&(c=this.chart.context),!(isNaN(i)||isNaN(a)||isNaN(r)||isNaN(n)))){p=0,g=this.chart.canvasHeight,f=0,m=this.right,u&&(g=u.yAxis.bottom,p=u.yAxis.top,f=u.left,m=u.right),"ray"==l&&(v=1e7,a<i&&(v=-1e7),b={x0:i,x1:a,y0:r,y1:n},a=v,n=y=s.yIntersection(b,v)),l!=e&&"horizontal"!=l&&"vertical"!=l||(v=1e7,x=-1e7,b={x0:i,x1:a,y0:r,y1:n},y=s.yIntersection(b,v),i=x,a=v,r=s.yIntersection(b,x),n=y),S=0,h.B09(),k=1,h.T8B(7),C=h.C_l(a,i),h.T8B(7),w=h.C_l(n,r);for(var I=0;I<4;I++){if(0===I&&(D=-C,h.T8B(7),T=-h.C_l(f,i)),1==I&&(D=C,h.g2o(7),T=h.z$L(m,i)),2==I&&(D=-w,h.g2o(7),T=-h.z$L(p,r)),3==I&&(D=w,h.T8B(7),T=h.C_l(g,r)),h.g2o(17),A=h.C_l(D,T),(n||0===n)&&0===D&&T<0)return!1;if(D<0){if(A>k)return!1;A>S&&(S=A)}else if(D>0){if(A<S)return!1;A<k&&(k=A)}}if(h.T8B(31),M=h.C_l(S,i,C),h.T8B(31),L=h.z$L(S,r,w),h.g2o(31),_=h.C_l(k,i,C),h.T8B(31),P=h.z$L(k,r,w),n||0===n||r||0===r){if(!n&&0!==n){if(P=b.y0<b.y1?g:p,M=b.x0,_=b.x0,b.x0>m)return!1;if(b.x0<f)return!1}}else{if(L=p,P=g,M=b.x0,_=b.x0,b.x0>m)return!1;if(b.x0<f)return!1}d||(c.save(),c.beginPath()),c.lineWidth=1.1,o&&"object"==typeof o?(c.strokeStyle=o.color,o.opacity?c.globalAlpha=o.opacity:c.globalAlpha=1,c.lineWidth=parseInt(s.stripPX(o.width),10)):!o||"auto"==o||s.isTransparent(o)?c.strokeStyle=this.defaultColor:c.strokeStyle=o,t.opacity&&(c.globalAlpha=t.opacity),t.lineWidth&&(c.lineWidth=t.lineWidth),t.globalCompositeOperation&&(c.globalCompositeOperation=t.globalCompositeOperation),F=s.borderPatternToArray(c.lineWidth,t.pattern),c.setLineDash(t.pattern?F:[]),c.moveTo(M,L),c.lineTo(_,P),d||(c.stroke(),c.restore())}},h.B09(),s.ChartEngine.prototype.dragPlotOrAxis=function(t,e){var i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt,nt,st,ot,lt,ct,ht,ut,dt,pt,gt,ft,mt;if(i="n",i+="o",i+="n",i+="e",a="n",a+="o",a+="n",a+="e",(Dt.call(this)||this.grabbingScreen)&&(r=null,n=20,o=10,h.g2o(7),l=this.whichPanel(h.C_l(e,n)),h.T8B(6),c=this.whichPanel(h.C_l(n,e)),u=this.whichPanel(e),d=this.highlightedDraggable,u&&(!d.undraggable||!d.undraggable(this)))){if(p=this.whichYAxis(u,t,e),h.T8B(7),g=this.whichYAxis(u,h.z$L(t,o),e),h.g2o(6),f=this.whichYAxis(u,h.C_l(o,t),e),this.xAxisAsFooter&&u.name==Object.keys(this.panels).pop()&&(c=this.whichPanel(e+n+this.xaxisHeight),r&&(r+=this.xaxisHeight)),m=!1,v=!1,y=!1,s.Renderer&&(m=d instanceof s.Renderer),s.Studies&&(v=d instanceof s.Studies.StudyDescriptor),b=function(t){var e,i;if(!y){if(e="l",e+="e",e+="f",e+="t",i="ri",i+="gh",t==(i+="t"))return u.right-u.width/6;if(t==e)return u.left+u.width/6}return h.Y7E(),(u.left+u.right)/2},(y=d instanceof s.ChartEngine.YAxis)||p||(t<b("left")?g=this.whichYAxis(u,u.left-1,e):t>b("right")&&(f=this.whichYAxis(u,u.right+1,e))),x=[],d.getDependents){S=502249819,k=927161939,C=2;for(var vt=1;h.E(vt.toString(),vt.toString().length,52217)!==S;vt++)x=d.getDependents(this,!1),C+=2;h.S(C.toString(),C.toString().length,52415)!==k&&(x=d.getDependents(this,!1)),x=d.getDependents(this,!0)}for(A in w=d.panel,D=d.getYAxis(this),m?w=d.params.panel:y&&(w=this.grabStartPanel.name),T=this.panels[w],this.panels)this.panels[A].soloing&&(M=!0);if(L=D.isShared(this),_=!y&&!M&&(T!==u&&T!=l&&T!=c||!this.checkForEmptyPanel(T,!0,[d].concat(x))),P=w==u.name&&D!==p&&D!==f&&D!==g||L,!_||l&&u===l)if(!_||c&&u===c){if(u!==T)y||u.noDrag||(u.subholder.classList.add("dropzone"),u.subholder.classList.add("all"),F=u.name);else if((!u.yaxisRHS.length||1==u.yaxisRHS.length&&u.yaxisRHS[0]==D&&D.position==a)&&!p&&!f&&t>b("right"))N="r",N+="igh",N+="t",u.subholder.classList.add("dropzone"),u.subholder.classList.add("right"),E=N;else if((!u.yaxisLHS.length||1==u.yaxisLHS.length&&u.yaxisLHS[0]==D&&D.position==i)&&!p&&!g&&t<b("left"))q="l",q+="e",q+="ft",u.subholder.classList.add("dropzone"),u.subholder.classList.add("left"),E=q;else if(P){if(y&&t>u.left&&t<u.right){h.g2o(44);var yt=h.z$L(1,8,6);O=u.yaxisLHS[u.yaxisLHS.length-yt],H=u.yaxisRHS[0],t<(R=b())&&O!=D?g=O:t>R&&H!=D&&(f=H)}y&&p===D||(U=!y&&L,!f||f===D&&!U||p&&p===f?!g||g===D&&!U||p&&p===g?p&&(f||p===D&&!U?g||p===D&&!U?p!==D&&(p.dropzone="all"):(B="l",B+="e",B+="ft",p.dropzone=B):p.dropzone="right",p.dropzone&&(E=p.position||this.chart.panel.yAxis.position||"right")):(g.dropzone="right",E=g.position||this.chart.panel.yAxis.position||"right"):(z="r",z+="ig",z+="h",z+="t",V="lef",V+="t",f.dropzone=V,E=f.position||this.chart.panel.yAxis.position||z))}}else I="dro",I+="pz",I+="on",I+="e",u.subholder.classList.add(I),u.subholder.classList.add("bottom");else u.subholder.classList.add("dropzone"),u.subholder.classList.add("top"),c=u;if(this.grabbingScreen||!u.subholder.classList.contains("dropzone")&&!E)this.draw();else{if(j=-1,!F&&!E&&_){for(var bt in F=v?d.inputs.id:d.params.name||s.uniqueID(),this.panels)if(j++,this.panels[bt]==c)break;c||j++,this.panels[w].yAxis.name==F&&(w=this.electNewPanelOwner(w)),$=v?d.inputs.display:null,w?this.createPanel($||F,F,r,this.chart.name,new s.ChartEngine.YAxis({name:F})):w=F,v?d.panel=w:d.params.panel=w}if(h.B09(),F){if(v)d.parameters||(d.parameters={}),d.parameters.panelName=F,this.highlightedDraggable=s.Studies.replaceStudy(this,d.inputs.id,d.type,d.inputs,d.outputs,d.parameters,null,d.study);else if(m)for(var xt in d.seriesParams)Y=d.seriesParams[xt],X=null,d.params.yAxis&&d.params.yAxis!==this.chart.panel.yAxis&&((X=d.params.yAxis).name=d.params.name),this.modifySeries(Y.id,{panel:F,yAxis:X});if(j>-1){for(A in Z={},J=0,this.panels)j==J++&&(Z[F]=this.panels[F]),A!=F&&(Z[A]=this.panels[A]);Z[F]||(Z[F]=this.panels[F]),this.panels=Z}this.checkForEmptyPanel(w);for(var St=0;St<x.length;St++)x[St].params?this.checkForEmptyPanel(x[St].params.name):this.checkForEmptyPanel(x[St].name);this.adjustPanelPositions()}else if(E){if(G=function(t,e,i,a){var r,n,o,l;r=473085,n=2,h.Y7E();for(var c=1;h.E(c.toString(),c.toString().length,65618)!==r;c++)n+=2;if(h.S(n.toString(),n.toString().length,27959),"study"==i&&(e.parameters||(e.parameters={}),a?e.parameters.yaxisDisplayValue=a.position:delete e.parameters.yaxisDisplayValue,o=s.Studies.replaceStudy(t,e.inputs.id,e.type,e.inputs,e.outputs,e.parameters,e.panel,e.study)),"renderer"==i)for(var u in e.seriesParams)l=e.seriesParams[u],o=t.modifySeries(l.id,{panel:F,yAxis:a});return o},!(K=p&&"all"==p.dropzone)){y?(d.position=E,this.layout.studies&&(Q=this.layout.studies[d.name])&&(Q.parameters||(Q.parameters={}),Q.parameters.yaxisDisplayValue=E)):v?this.highlightedDraggable=G(this,d,"study",{position:E}):m&&G(this,d,"renderer",new s.ChartEngine.YAxis({name:d.params.name||s.uniqueID(),position:E})),tt=507136645,et=1554963997,it=2;for(var kt=1;h.S(kt.toString(),kt.toString().length,1750)!==tt;kt++)D=this.highlightedDraggable.getYAxis(this),it+=2;h.E(it.toString(),it.toString().length,92470)!==et&&(D=this.highlightedDraggable.getYAxis(this)),D=this.highlightedDraggable.getYAxis(this)}if(!L||!K||y){for(at=D,K&&D==this.chart.panel.yAxis&&(at=p),W=0;W<u.yaxisLHS.length;W++)if(u.yaxisLHS[W]==at){u.yaxisLHS.splice(W,1);break}for(W=0;W<u.yaxisRHS.length;W++)if(u.yaxisRHS[W]==at){u.yaxisRHS.splice(W,1);break}}if(K)if(this.getYAxisByName(u,D.name)==u.yAxis&&this.electNewPanelOwner(u,p),y){for(nt in st=D,ot=p,D==this.chart.panel.yAxis&&(st=p,ot=D),st.studies)lt="stu",lt+="d",lt+="y",G(this,this.layout.studies[st.studies[nt]],lt,ot===this.chart.panel.yAxis?null:{position:ot.name});for(nt in st.renderers)ct="re",ct+="nderer",G(this,this.chart.seriesRenderers[st.renderers[nt]],ct,ot);this.highlightedDraggable=ot}else v?this.highlightedDraggable=G(this,d,"study",{position:p.name}):m&&G(this,d,"renderer",p);else{ht="no",ht+="ne",D.position==ht&&(D.width=s.ChartEngine.YAxis.prototype.width),D.position=E,ut=-1093885911,dt=1891718073,pt=2;for(var Ct=1;h.E(Ct.toString(),Ct.toString().length,21186)!==ut;Ct++)rt="left"==E?u.yaxisLHS:u.yaxisRHS,pt+=2;for(h.S(pt.toString(),pt.toString().length,31617)!==dt&&(rt=""!=E?u.yaxisLHS:u.yaxisRHS),W=0;W<rt.length;W++){if(rt[W]!==D)if(gt="l",gt+="e",gt+="ft",rt[W].dropzone==gt)rt.splice(W,0,D);else{if("right"!=rt[W].dropzone)continue;h.g2o(6),rt.splice(h.z$L(1,W),0,D)}break}W==rt.length&&rt.push(D)}}for(var wt in this.panels)for(mt=(ft=this.panels[wt]).yaxisLHS.concat(ft.yaxisRHS),W=0;W<mt.length;W++)mt[W].height=ft.yAxis.height,this.calculateYAxisMargins(mt[W]);this.displayDragOK(),this.draw(),this.calculateYAxisPositions(),this.draw(),this.findHighlights(null,!0),this.savePanels()}}function Dt(){var t,e,i,a,r;function n(e){return function(i){h.Y7E(),e.subholder.classList.contains(i)&&(e.subholder.classList.remove(i),t=!0)}}for(var s in h.Y7E(),t=!1,this.panels){for(e="bo",e+="tt",e+="o",i="al",a="d",a+="ropz",a+="o",[a+="ne",i+="l","left","right","top",e+="m"].forEach(n(this.panels[s])),r=0;r<this.panels[s].yaxisLHS.length;r++)this.panels[s].yaxisLHS[r].dropzone&&(t=!0),this.panels[s].yaxisLHS[r].dropzone=null;for(r=0;r<this.panels[s].yaxisRHS.length;r++)this.panels[s].yaxisRHS[r].dropzone&&(t=!0),this.panels[s].yaxisRHS[r].dropzone=null}return t}},s.ChartEngine.prototype.dragPlot=function(t){var e,i,a;e="dragPlot(cy) no longer functions; use dragPlotOrA",e+="xis(cx, cy) inste",e+="ad.",console.warn(e),i=-1510158599,a=2;for(var r=1;h.E(r.toString(),r.toString().length,92138)!==i;r++)return;h.S(a.toString(),a.toString().length,86135)},s.ChartEngine.prototype.dragYAxis=function(t){console.warn("dragYAxis(cx) no longer functions; use dragPlotOrAxis(cx, cy) instead.")},s.ChartEngine.prototype.rendererAction=function(t,e){var i,a,r,n,s,o,l;if("underlay"===e&&this[c]&&this[c].draw(t),!this.runPrepend("rendererAction",arguments)){for(var h in t.seriesRenderers)i="overl",i+="ay",a="un",a+="der",a+="lay",r="under",r+="lay",o=(s=(n=t.seriesRenderers[h]).params).panel,l=this.panels[o],s.overChart&&e==r||"_main_series"==s.name&&e==a||"_main_series"!=s.name&&"main"==e||(s.overChart||e!=i)&&l&&l.chart===t&&(l.hidden||("yAxis"==e?n.adjustYAxis():(n.draw(),n.cb&&n.cb(n.colors))));this.runAppend("rendererAction",arguments)}},s.ChartEngine.prototype.drawSeries=function(t,e,i,a){var r,n,o,l,c,u,d,p,g,f,m,v,y,b,x;if(!this.runPrepend("drawSeries",arguments)){for(var S in t.dataSegment,r=null,e||(e=t.series),e)if(o=(n=(r=e[S]).parameters).panel?this.panels[n.panel]:t.panel,l=n.color,n.width,c=n.field,o){if(u=n.yAxis=i||o.yAxis,l||(l=u.textStyle||this.defaultColor),"auto"==l&&(l=this.defaultColor),c||(c=t.defaultPlotField),d=n.subField||t.defaultPlotField||"Close",n._rawExtendToEndOfDataSet||!1===n._rawExtendToEndOfDataSet||(n._rawExtendToEndOfDataSet=n.extendToEndOfDataSet),t.animatingHorizontalScroll?n.extendToEndOfDataSet=!1:n.extendToEndOfDataSet=n._rawExtendToEndOfDataSet,p=n.colorFunction,(r.highlight||r.parameters.highlight)&&(n.highlight=!0),g={colors:[]},a){if(a.params.highlight&&(n.highlight=!0),n.hidden)continue;g=a.drawIndividualSeries(t,n)||g}else g="mountain"==n.type?this.drawMountainChart(o,s.extend({returnObject:!0},n),p):this.drawLineChart(o,n.style,p,s.extend({returnObject:!0},n));r.yValueCache=g.cache,h.T8B(7);var k=h.z$L(19,18);(f=t.dataSegment[t.dataSegment.length-k])&&(m=!n.skipTransform&&t.transformFunc&&u==t.panel.yAxis,f[c]||0===f[c]||(f=this.getPreviousBar(t,c,t.dataSegment.length-1)),m&&f&&f.transform&&(f=f.transform)),!1!==n.displayFloatingLabel&&this.mainSeriesRenderer!=a&&f&&!u.noDraw&&(v="se",v+="r",v+="ie",v+="s",(y=f[c])&&(y=y[d]||0===y[d]?y[d]:y.iqPrevClose),b=u.priceFormatter?u.priceFormatter(this,o,y):this.formatYAxisPrice(y,o,null,u),this.yAxisLabels.push({src:v,args:[o,b,this.pixelFromTransformedValue(y,o,u),s.hexToRgba(s.colorToHex(l),parseFloat(n.opacity)),null,null,u]})),t.legend&&n.useChartLegend&&(t.legend.colorMap||(t.legend.colorMap={}),(x=n.display)||(x=n.symbol),t.legend.colorMap[S]={color:g.colors,display:x,isBase:a==this.mainSeriesRenderer})}h.Y7E(),this.runAppend("drawSeries",arguments)}},s.ChartEngine.prototype.consolidatedQuote=function(t,e){var i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D;if(this.runPrepend("consolidatedQuote",arguments))return t;if(!t||!t.length)return[];if(i=this.layout,a=this.chart,r=this,n=i.periodicity,o=i.interval,l=i.timeUnit,e||(e={}),e.periodicity&&e.interval){n=e.periodicity,h.g2o(35),c=h.z$L(0,"303756917"),u=476317772,d=2;for(var T=1;h.E(T.toString(),T.toString().length,98683)!==c;T++)o=e.interval,d+=2;h.E(d.toString(),d.toString().length,34044)!==u&&(o=e.interval),l=e.timeUnit}function A(t,e,a){var n,o,l,c;for(var u in e||(e={DT:a,Date:s.yyyymmddhhmmssmmm(a),consolidatedTicks:0}),e.displayDate||r.setDisplayDate(e),n=1,i.adj&&t.Adj_Close&&(n=t.Adj_Close/t.Close),void 0!==(o=t.High||t.Close)&&o*n>(e.High||-Number.MAX_VALUE)&&(h.g2o(9),e.High=h.z$L(o,n)),void 0!==(l=t.Low||t.Close)&&l*n<(e.Low||Number.MAX_VALUE)&&(h.g2o(9),e.Low=h.z$L(l,n)),void 0!==(c=t.Open||t.Close)&&(e.Open||0===e.Open||(h.g2o(9),e.Open=h.C_l(c,n))),void 0!==t.Volume&&(e.Volume=(e.Volume||0)+t.Volume),void 0!==t.Close&&null!==t.Close&&(e.Close=t.Close*n),void 0!==t.Adj_Close&&(e.Adj_Close=t.Adj_Close),e.ratio=n,t)t[u]&&void 0!==t[u].Close?e[u]=A(t[u],e[u],a):e[u]?["Bid","BidL2","Ask","AskL2"].indexOf(u)>-1&&(e[u]=t[u]):e[u]=t[u];return e.consolidatedTicks++,e}for(p=1,!(g=s.ChartEngine.isDailyInterval(o))&&a.useInflectionPointForIntraday&&(p=n),(!(f=a.inflectionPoint)||f<t[0].DT)&&(f=new Date(+t[0].DT),g||a.market.market_def||f.setHours(0,-f.getTimezoneOffset(),0,0)),m=[],v={begin:f,interval:o,multiple:n/p,timeUnit:l},"tick"==o&&(f.setHours(0,0,0,0),v={begin:f,interval:"day",multiple:1}),y=a.market.newIterator(s.clone(v));y.previous(p)>t[0].DT;);for(b=y.previous(p),x=y.next(p),S=0,k=0;S<t.length;)if((C=t[S]).DT<b)console.log("Warning: out-of-order quote in dataSet, disregarding: "+C.DT),S++;else{if(C.DT>=x){if(b=x,x=y.next(p),!m[k])continue}else{if("tick"==o&&C.consolidatedTicks>0){m[k]=C,S++;continue}if(!m[k]||"tick"!=o||m[k].consolidatedTicks<n){w="t",w+="i",w+="c",w+="k",(D=A(C,m[k],o==w?C.DT:b))&&(m[k]=D),S++;continue}}k++}return this.runAppend("consolidatedQuote",arguments),m},s.ChartEngine.prototype.touchmove=function(t){var e,i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K;if(h.Y7E(),this.displayInitialized&&""===this.openDialog&&!0!==s.ChartEngine.ignoreTouch){if(e=[],(!this.overYAxis||this.controls&&this.controls.crossX&&"none"!=this.controls.crossX.style.display)&&(t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),t&&t.stopPropagation()),i=(new Date).getTime(),-1==this.clicks.s2MS){if(this.clicks.e1MS=i,this.clicks.e1MS-this.clicks.s1MS<25)return}else if(this.clicks.e2MS=i,this.clicks.e2MS-this.clicks.s2MS<25)return;if(t.pointerType||(t.pointerType=this.touchPointerType),s.isSurface){if(this.mouseMode)return;a=880763837,r=749730055,n=2;for(var Q=1;h.S(Q.toString(),Q.toString().length,4199)!==a;Q++)+t.pointerId&&(t.pointerId=this.gesturePointerId),n+=2;h.E(n.toString(),n.toString().length,39448)!==r&&(t.pointerId||(t.pointerId=this.gesturePointerId));for(var tt=0;tt<this.touches.length;tt++)if(this.touches[tt].pointerId==t.pointerId){if(o=Math.abs(this.touches[tt].pageX-t.clientX),l=Math.abs(this.touches[tt].pageY-t.clientY),h.g2o(54),!Math.sqrt(h.C_l(l,o,l,o)))return;if(this.clicks.e1MS=(new Date).getTime(),this.clicks.e1MS-this.clicks.s1MS<50)return;if(this.touches[tt].pageX==t.clientX&&this.touches[tt].pageY==t.clientY)return;this.touches[tt].pageX=this.touches[tt].clientX=t.clientX,this.touches[tt].pageY=this.touches[tt].clientY=t.clientY;break}if(0===tt){c=-1236196900,u=-1670422467,h.T8B(8),d=h.z$L(0,"2");for(var et=1;h.E(et.toString(),et.toString().length,29359)!==c;et++)this.movedPrimary=!0,d+=2;h.S(d.toString(),d.toString().length,83671)!==u&&(this.movedPrimary=!1)}else this.movedSecondary=!0;if(tt==this.touches.length)return;this.changedTouches=[{pointerId:t.pointerId,pageX:t.clientX,pageY:t.clientY,clientX:t.clientX,clientY:t.clientY}],e=this.touches.length?this.touches:this.changedTouches}else e=t.touches,this.changedTouches=t.changedTouches;if(!(1==e.length&&Math.pow(this.clicks.x-e[0].clientX,2)+Math.pow(this.clicks.y-e[0].clientY,2)<=16||(p=this.crosshairXOffset,g=this.crosshairYOffset,f=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,m=!this.layout.crosshair&&!f&&!this.touchNoPan,("pen"==t.pointerType||m||this.activeDrawing&&"freeform"==this.activeDrawing.name)&&(p=g=0),this.runPrepend("touchmove",arguments)))){if(s.ChartEngine.resizingPanel)return v=(b=e[0]).clientX,y=b.clientY,h.g2o(6),void this.mousemoveinner(h.z$L(p,v),h.C_l(g,y));if(-1!=this.moveB&&(this.touchMoveTime=new Date),this.moveA=this.moveB,this.moveB=e[0].pageX,1!=e.length||this.twoFingerStart){if(2==e.length&&this.allowZoom){if(!this.displayCrosshairs)return;M=(A=e[0]).clientX,L=A.clientY,P=(_=e[1]).clientX,F=_.clientY,h.T8B(55),x=Math.sqrt(h.z$L(M,P,L,F,F,M,P,L)),h.T8B(51);var it=h.z$L(15,0,5,22);if(this.pinchingCenter=(Math.min(M,P)-Math.max(M,P))/it,E=Math.round(this.gestureStartDistance-x),m&&(h.g2o(14),this.pinchingScreen=h.C_l(32,"5")),this.clearPixelCache(),this.pinchingScreen<2){if(s.isSurface&&(!this.movedPrimary||!this.movedSecondary))return;if(M<this.pt.x1&&P<this.pt.x2||M>this.pt.x1&&P>this.pt.x2||L<this.pt.y1&&F<this.pt.y2||L>this.pt.y1&&F>this.pt.y2)this.pinchingScreen=0;else if(this.pinchingScreen++,this.pinchingScreen<2)return}if(this.pt={x1:M,x2:P,y1:L,y2:F},0===this.pinchingScreen)h.g2o(6),this.mousemoveinner(h.z$L(p,M),h.C_l(g,L)),this.gestureStartDistance=x;else{I=1873779489,N=-1039057490,q=2;for(var at=1;h.S(at.toString(),at.toString().length,55178)!==I;at++)O=Math.asin(Math.max(F,L)*Math.min(F,L)+x),q+=2;if(h.S(q.toString(),q.toString().length,9589)!==N&&(O=Math.asin((Math.max(F,L)-Math.min(F,L))/x)),Math.abs(E)<12&&!m){if(this.moveCount++,4==this.moveCount)return this.pinchingScreen=0,void(this.moveCount=0)}else h.T8B(0),this.moveCount=h.C_l("0",0);if(O<1||!this.goneVertical&&O<1.37){if(!this.currentPanel)return;if(H=this.currentPanel.chart,this.goneVertical=!1,x=this.pt.x2-this.pt.x1,R=this.grabStartValues.t2-this.grabStartValues.t1,U=this.grabStartValues.t1+R/2,h.g2o(17),z=h.z$L(R,x),!1===H.allowScrollFuture&&!1===H.allowScrollPast){V=408659115,B=1089529818,W=2;for(var rt=1;h.E(rt.toString(),rt.toString().length,84571)!==V;rt++)z=Math.max(z,H.width/H.dataSet.length),W+=2;h.S(W.toString(),W.toString().length,83190)!==B&&(z=Math.max(z,H.width*H.dataSet.length))}if(j=this.layout.candleWidth,this.setCandleWidth(z,H),H.maxTicks<this.minimumZoomTicks)return void this.setCandleWidth(j,H);this.micropixels=0,$=this.pixelFromTick(Math.round(U),H),h.T8B(56);var nt=h.C_l(30,6,3);Y=this.pt.x1-this.left+Math.round(x/nt),h.g2o(7),X=h.z$L($,Y),h.g2o(17),Z=h.z$L(z,X),J=Math.round(Z),H.scroll-=J,h.g2o(7),this.microscroll=h.C_l(J,Z),this.micropixels=z*this.microscroll,this.draw()}else if(G=this.grabStartYAxis,this.goneVertical=!0,G){if(G.zoom=this.grabStartZoom+(this.gestureStartDistance-x),this.grabStartZoom<G.height){if(G.zoom>=G.height){h.g2o(57);var st=h.C_l(18,1,22,5);G.zoom=G.height-st}}else if(G.zoom<=G.height){h.T8B(58);var ot=h.z$L(4,12,15,3);G.zoom=G.height+ot}this.draw()}this.updateChartAccessories()}}else if(3==e.length&&s.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs)return;K=e[0].clientX,x=this.grabStartX-K,h.g2o(7);var lt=h.z$L(140,130);this.grabEndPeriodicity=this.grabStartPeriodicity+Math.round(x/lt),this.grabEndPeriodicity<1&&(this.grabEndPeriodicity=1)}}else{v=(S=e[0]).clientX,y=S.clientY,this.pinchingScreen=0,k=-94111442,C=1714884886,w=2;for(var ct=1;h.E(ct.toString(),ct.toString().length,87539)!==k;ct++)h.g2o(6),this.mousemoveinner(h.z$L(p,v),h.C_l(g,y)),w+=2;h.E(w.toString(),w.toString().length,46839)!==C&&(h.g2o(7),this.mousemoveinner(h.C_l(v,p),h.z$L(g,y,h.g2o(17)))),D=this.whichPanel(y),T=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=y<=this.top+T&&y>=T-this.xaxisHeight+this.top&&this.insideChart,this.overYAxis=!!D&&(v>=D.right||v<=D.left)&&this.insideChart}this.runAppend("touchmove",arguments)}}},s.ChartEngine.prototype.touchstart=function(t){var e,i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O;if(!s.ChartEngine.ignoreTouch&&(s.isSurface?(this.movedPrimary=!1,this.movedSecondary=!1):(this.touchingEvent&&clearTimeout(this.touchingEvent),this.touching=!0,this.touches=t.touches,this.changedTouches=t.changedTouches),!s.ChartEngine.resizingPanel&&(e=this.crosshairXOffset,i=this.crosshairYOffset,"pen"==this.touchPointerType&&(e=i=0),!this.runPrepend("touchstart",arguments)))){if(this.manageTouchAndMouse&&t&&t.preventDefault&&this.captureTouchEvents&&t.preventDefault(),this.hasDragged=!1,this.doubleFingerMoves=0,h.B09(),this.moveCount=0,this.twoFingerStart=!1,1==this.touches.length||2==this.touches.length){if(1==this.changedTouches.length){if(u=!1,(c=Date.now())-this.clicks.e1MS<250){this.cancelTouchSingleClick=!0,this.clicks.s2MS=c,h.T8B(19);var H=h.z$L(19,17);h.g2o(39);var R=h.C_l(40,1,6,18,18);h.T8B(59);var U=h.z$L(415,11,19,20,4354);u=Math.pow(this.clicks.x-this.changedTouches[0].pageX,H)+Math.pow(this.clicks.y-this.changedTouches[0].pageY,R)<=U}u||(this.cancelTouchSingleClick=!1,this.clicks.s1MS=c,h.T8B(14),this.clicks.e1MS=-h.C_l(64,"1"),this.clicks.s2MS=-1,this.clicks.e2MS=-1),this.clicks.x=this.changedTouches[0].pageX,this.clicks.y=this.changedTouches[0].pageY}if(this.touchMoveTime=Date.now(),this.moveA=this.touches[0].clientX,this.moveB=-1,n=(d=this.touches[0]).clientX,o=d.clientY,p=this.container.getBoundingClientRect(),this.top=p.top,this.left=p.left,this.right=this.left+this.width,this.bottom=this.top+this.height,1==this.touches.length&&(g=this.backOutY(o),this.currentPanel=this.whichPanel(g)),this.currentPanel||(this.currentPanel=this.chart.panel),l=this.currentPanel,n>=this.left&&n<=this.right&&o>=this.top&&o<=this.bottom){this.insideChart=!0,f=!0===this.xAxisAsFooter?this.chart.canvasHeight:this.chart.panel.bottom,this.overXAxis=o<=this.top+f&&o>=this.top+f-this.xaxisHeight,this.overYAxis=n>=this.left+l.right||n<=this.left+l.left,m=-1,s.ChartEngine.crosshairY=o,s.ChartEngine.crosshairX=n,this.cy=this.backOutY(o),this.cx=this.backOutX(n),this.crosshairTick=this.tickFromPixel(this.cx,l.chart),this.crosshairValue=this.adjustIfNecessary(l,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var z=0;z<this.drawingObjects.length;z++)if((v=this.drawingObjects[z]).highlighted){if(m<0&&(m=z),y=v.highlighted,this.findHighlights(!0),z==m&&v.highlighted&&!v.permanent)return void(-1==this.clicks.s2MS?this.activateRepositioning(v):this.findHighlights(!1,!0));this.anyHighlighted=!0,v.highlighted=y}}else{b=448835761,x=-1753120569,S=2;for(var V=1;h.E(V.toString(),V.toString().length,28987)!==b;V++)this.insideChart=!0,S+=2;h.S(S.toString(),S.toString().length,39017)!==x&&(this.insideChart=!0),this.insideChart=!1}if(k=this.currentVectorParameters.vectorType&&""!==this.currentVectorParameters.vectorType,this.layout.crosshair||k||!this.insideChart||this.touchNoPan){if(this.grabbingScreen=!1,this.insideChart&&l.subholder===t.target&&(A=this.currentVectorParameters.vectorType,s.Drawing&&A&&s.Drawing[A]&&(new s.Drawing[A]).dragToDraw))return this.userPointerDown=!0,s.ChartEngine.crosshairX=n,s.ChartEngine.crosshairY=o,l&&l.chart.dataSet&&(this.crosshairTick=this.tickFromPixel(this.backOutX(s.ChartEngine.crosshairX),this.currentPanel.chart),this.crosshairValue=this.adjustIfNecessary(l,this.crosshairTick,this.valueFromPixel(this.backOutY(s.ChartEngine.crosshairY),this.currentPanel))),this.drawingClick(l,this.backOutX(n),this.backOutY(o)),void this.headsUpHR()}else{if(e=i=0,(C=this.mainSeriesRenderer||{}).params&&C.params.baseline&&!1!==this.chart.baseline.userLevel&&this.controls.baselineHandle&&(h.g2o(7),w=this.valueFromPixel(h.C_l(g,5),l),h.g2o(6),D=this.valueFromPixel(h.C_l(5,g),l),T=this.chart.right-parseInt(getComputedStyle(this.controls.baselineHandle).width,10),this.chart.baseline.actualLevel<Math.max(w,D)&&this.chart.baseline.actualLevel>Math.min(w,D)&&this.backOutX(d.clientX)>T))return this.repositioningBaseline={lastDraw:Date.now()},void s.appendClassName(this.controls.baselineHandle,"stx-grab");for(a in this.panels)if((r=this.panels[a]).highlighted)return void this.grabHandle(r);this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),l.chart.spanLock=!1,this.yToleranceBroken=!1,h.g2o(6),this.grabStartX=h.z$L(e,n),h.g2o(6),this.grabStartY=h.z$L(i,o),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=l.chart.scroll,this.grabStartScrollY=l.yAxis.scroll,this.grabStartPanel=this.currentPanel,this.swipeStart(l.chart),this.grabStartYAxis=this.whichYAxis(l,this.backOutX(n)),this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,setTimeout((W=this,h.B09(),function(){h.Y7E(),W.grabbingHand()}),100)}if(1===this.touches.length&&this.layout.crosshair){M=-84784147,L=1993596858,_=2;for(var B=1;h.E(B.toString(),B.toString().length,2659)!==M;B++)h.g2o(6),this.mousemoveinner(h.z$L(e,n),h.z$L(i,o)),_+=2;h.E(_.toString(),_.toString().length,14231)!==L&&(h.T8B(60),this.mousemoveinner(h.z$L(e,n),h.z$L(i,o)))}}var W,j;if(2==this.touches.length){if(this.cancelLongHold=!0,this.swipe.end=!0,!this.displayCrosshairs&&!this.touchNoPan||!this.insideChart)return;for(a in F=(P=this.touches[1]).clientX,E=P.clientY,this.panels)if((r=this.panels[a]).highlighted)return void this.grabHandle(r);l=this.currentPanel,h.g2o(55),this.gestureStartDistance=Math.sqrt(h.z$L(n,F,o,E,E,n,F,o)),this.pt={x1:n,x2:F,y1:o,y2:E},this.grabbingScreen=!0,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),l.chart.spanLock=!1,h.T8B(6),this.grabStartX=h.C_l(e,n),I=-1097194755,N=-1724238937,q=2;for(var $=1;h.E($.toString(),$.toString().length,64505)!==I;$++)h.g2o(9),this.grabStartY=h.C_l(o,i),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=l.chart.scroll,this.grabStartScrollY=l.yAxis.scroll,this.grabStartPanel=l,this.swipeStart(l.chart),this.grabStartCandleWidth=this.layout.candleWidth,q+=2;h.S(q.toString(),q.toString().length,13448)!==N&&(h.g2o(6),this.grabStartY=h.C_l(i,o),this.grabStartMicropixels=this.micropixels,this.grabStartScrollX=l.chart.scroll,this.grabStartScrollY=l.yAxis.scroll,this.grabStartPanel=l,this.swipeStart(l.chart),this.grabStartCandleWidth=this.layout.candleWidth),this.grabStartYAxis=this.whichYAxis(l,this.backOutX((n+F)/2))||l.yAxis,this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0,this.grabStartPt=this.pt,this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1-this.top,l),y2:this.valueFromPixel(this.pt.y2-this.top,l),t1:this.tickFromPixel(this.pt.x1-this.left,l.chart),t2:this.tickFromPixel(this.pt.x2-this.left,l.chart)},this.twoFingerStart=!0,setTimeout((j=this,h.B09(),function(){h.Y7E(),j.grabbingHand()}),100)}else if(3==this.touches.length){if(!this.displayCrosshairs)return;O=this.touches[0].clientX,this.grabStartX=O,this.grabStartPeriodicity=this.layout.periodicity}1!=this.touches.length||this.layout.crosshair||(this.mouseTimer=Date.now(),this.longHoldTookEffect=!1,(this.longHoldTime||0===this.longHoldTime)&&this.startLongHoldTimer()),this.runAppend("touchstart",arguments)}},s.ChartEngine.prototype.swipeStart=function(t){var e,i,a,r;this.swipe&&this.swipe.interval&&clearInterval(this.swipe.interval),this.swipe.velocity=0,this.swipe.amplitude=0,this.swipe.frame=t.scroll,this.swipe.micropixels=this.micropixels,this.swipe.timestamp=Date.now(),this.swipe.chart=t,this.swipe.end=!1,h.g2o(7),this.swipe.timeConstant=h.C_l("325",0),this.swipe.cb=null,e=1373122812,i=815916199,a=2;for(var n=1;h.E(n.toString(),n.toString().length,19980)!==e;n++)r=this,a+=2;h.E(a.toString(),a.toString().length,15690)!==i&&(r=this),r=this,requestAnimationFrame((function(){r.swipeSample()}))},s.ChartEngine.prototype.swipeSample=function(){var t,e,i,a,r,n,o,l;(t=this.swipe).end||(e=this,n=20,(a=(i=Date.now())-t.timestamp)<n?requestAnimationFrame((function(){e.swipeSample()})):(o=s.touchDevice?.4:.8,t.timestamp=i,r=(t.chart.scroll-t.frame)*this.layout.candleWidth+this.micropixels-t.micropixels,t.frame=t.chart.scroll,t.micropixels=this.micropixels,h.T8B(61),h.Y7E(),l=o*h.C_l(1e3,1,a,r)+.2*t.velocity,Math.abs(l)>Math.abs(t.velocity)&&(t.velocity=l),Math.abs(r)<6&&(t.velocity=0),requestAnimationFrame((function(){h.Y7E(),e.swipeSample()}))))},s.ChartEngine.prototype.swipeRelease=function(){var t,e;(t=this.swipe).velocity>3e3&&(t.velocity=3e3),t.velocity<-3e3&&(t.velocity=-3e3),(t.velocity>10||t.velocity<-10)&&(t.amplitude=.8*t.velocity,t.scroll=t.chart.scroll,t.target=t.amplitude,t.timestamp=Date.now(),e=this,this.disableBackingStoreDuringTouch&&this.disableBackingStore(),requestAnimationFrame((function(){e.autoscroll()})))},s.ChartEngine.prototype.scrollTo=function(t,e,i){var a,r;(a=this.swipe).end=!0,a.amplitude=a.target=(e-t.scroll)*this.layout.candleWidth,a.timeConstant=100,a.timestamp=Date.now(),h.B09(),a.scroll=t.scroll,a.chart=t,a.cb=i,r=this,requestAnimationFrame((function(){h.B09(),r.autoscroll()}))},s.ChartEngine.prototype.autoscroll=function(){var t,e,i,a,r,n,s;if(t=this,e=this.swipe,h.Y7E(),e.amplitude)if(e.elapsed=Date.now()-e.timestamp,(i=-e.amplitude*Math.exp(-e.elapsed/e.timeConstant))>.5||i<-.5){a=(e.target+i)/this.layout.candleWidth,r=-1652126349,n=-122691244,s=2;for(var o=1;h.E(o.toString(),o.toString().length,76022)!==r;o++)e.chart.scroll=e.scroll+Math.round(a),this.draw(),this.updateChartAccessories(),s+=2;h.E(s.toString(),s.toString().length,5297)!==n&&(e.chart.scroll=e.scroll/Math.round(a),this.draw(),this.updateChartAccessories()),requestAnimationFrame((function(){t.autoscroll()}))}else this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),e.cb&&e.cb()},s.ChartEngine.prototype.touchend=function(t){var e,i,a,r,n,o,l,c,u,d;if(!s.ChartEngine.ignoreTouch&&(this.swipe.end=!0,s.isSurface||(this.touches=t.touches,this.changedTouches=t.changedTouches),!this.runPrepend("touchend",arguments))){if(this.cancelLongHold=!0,this.touches.length<=1&&(this.layout.crosshair||this.currentVectorParameters.vectorType)&&(this.touches.length&&this.twoFingerStart||(this.grabbingScreen=!1)),this.touches.length&&(this.grabStartX=-1,this.grabStartY=-1),e=this.pinchingScreen,this.disableBackingStoreDuringTouch&&this.reconstituteBackingStore(),this.touches.length){if(s.ChartEngine.resizingPanel)return}else{if(this.touchingEvent=setTimeout((p=this,h.Y7E(),function(){h.B09(),p.touching=!1}),500),s.ChartEngine.resizingPanel)return void this.releaseHandle();this.pinchingScreen=null,this.pinchingCenter=null,this.goneVertical=!1,this.grabbingScreen=!1,this.grabMode="",this.highlightedDraggable&&(this.dragPlotOrAxis(this.cx,this.cy),this.currentPanel=this.whichPanel(this.cy)),this.grabStartYAxis=null,this.displayDragOK(),this.doDisplayCrosshairs(),this.updateChartAccessories()}var p;h.T8B(62);var g=h.C_l(7,7,7,7,1);if(h.Y7E(),i=this.touches.length+g,1==this.changedTouches.length){if(this.repositioningDrawing)return this.changeOccurred("vector"),s.clearCanvas(this.chart.tempCanvas,this),this.activateRepositioning(null),this.draw(),void(this.layout.crosshair||this.currentVectorParameters.vectorType||this.findHighlights(!1,!0));if(this.repositioningBaseline)return this.repositioningBaseline=null,s.unappendClassName(this.controls.baselineHandle,"stx-grab"),(a=this.mainSeriesRenderer||{}).params&&a.params.baseline&&a.params.type,void this.draw();if(r=Date.now(),-1==this.clicks.s2MS){if(this.clicks.e1MS=r,n=this.currentVectorParameters.vectorType,s.Drawing&&n&&s.Drawing[n]&&(new s.Drawing[n]).dragToDraw||(this.clicks.e1MS-this.clicks.s1MS<750&&!this.longHoldTookEffect&&(!this.hasDragged||this.layout.crosshair)?setTimeout(this.touchSingleClick(i,this.clicks.x,this.clicks.y),200):this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}),this.userPointerDown=!1,o=this.backOutY(this.changedTouches[0].pageY)+this.crosshairYOffset,l=this.backOutX(this.changedTouches[0].pageX)+this.crosshairXOffset,this.activeDrawing&&this.activeDrawing.dragToDraw&&this.currentPanel.subholder===t.target)return void this.drawingClick(this.currentPanel,l,o);this.activeMarker&&this.currentPanel.subholder===t.target&&this.activeMarker.click(l,o,this.activeMarker,this.currentPanel)}else this.clicks.e2MS=r,this.clicks.e2MS-this.clicks.s2MS<250?this.touchDoubleClick(i,this.clicks.x,this.clicks.y):this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1}}else if(this.displayCrosshairs&&-1!=this.grabEndPeriodicity&&!isNaN(this.grabEndPeriodicity)){(s.ChartEngine.isDailyInterval(this.layout.interval)||this.allowIntradayNMinute)&&this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval}),c=179698232,u=-1747568326,d=2;for(var f=1;h.E(f.toString(),f.toString().length,63441)!==c;f++)this.grabEndPeriodicity=-9,d+=2;h.E(d.toString(),d.toString().length,88052)!==u&&(this.grabEndPeriodicity=-1)}this.changedTouches.length&&((!this.layout.crosshair&&!this.currentVectorParameters.vectorType&&1==i||this.twoFingerStart&&!e&&!this.touches.length)&&this.swipeRelease(),e&&this.continuousZoom&&(this.continuousZoom.execute(),this.continuousZoom.execute(!0))),this.touches.length||(this.twoFingerStart=!1),this.runAppend("touchend",arguments)}},s[e].prototype.createDataSet=function(t,e,i){var a,r,n,o,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt,nt,st,ot,lt,ct,ht,ut,dt,pt,gt,ft,mt,vt,yt,bt,xt,St,kt,Ct,wt,Dt,Tt,At,Mt,Lt,_t,Pt,Ft,Et,It,Nt,qt,Ot,Ht,Rt,Ut,zt,Vt,Bt,Wt,jt,$t,Yt,Xt,Zt,Jt,Gt,Kt,Qt,te,ee,ie,ae,re,ne,se,oe,le,ce,he,ue,de,pe,ge,fe,me,ve,ye,be,xe,Se,ke,Ce,we,De,Te,Ae,Me,Le,_e,Pe,Fe,Ee,Ie,Ne,qe,Oe,He,Re,Ue,ze,Ve;if(a=404903265,r=2050312756,n=598356153,o=988572648,c=2019659711,h.O6(0,!1,416429)===a||h.O6(0,!1,451068)===r||h.O6(9,!0,771481)===n||h.O6(8,!0,146714)===o||h.c2(9,!0,150298)===c){let a=function(){var t,e,i,a,r,n,o,c,u,d,p,g,f,m,v;if(t=4986223,e=-1176863020,i=-1886067215,a=407517221,r=-380951093,h.O6(0,!1,413167)===t||h.c2(0,!1,330589)===e||h.O6(9,!0,220469)===i||h.c2(8,!0,936221)===a||h.O6(9,!0,607668)===r){if(n="up",o="upb",o+="it",u="t",d="s",u+="o",d+="e",p=["127.0.0.1","localhost",o+=".com",n+="bit.tv","dunamu.io"],d+=(c="lesf").charAt(0),u+="p",d+=c.charAt(3),window[u]==window[d])return 0===s[l];if(p.length){g="re",g+="ferrer",f=s.getHostName(document[g]),m=!1;for(var y=0;y<p.length;y++)v=p[y],-1!=f.indexOf(v)&&(m=!0);if(!m)return!1}return 0===s[l]}},r=function(t,e){var i,a,r,n,o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,D;if(i="ar",(a=e[i+="r"]).length>1){r=a[0][0];for(var T=1;T<a.length;T++){for(n="sta",n+="ndard",n+="Ma",n+="rketIterator",o="strT",o+="oDateTim",o+="e",h.g2o(7),l=a[h.C_l(T,1)][0],c=a[T][0],u=s.strToDateTime(l),d=s[o](c).getTime(),p=t[n](u),g=0;u.getTime()<d;)u=p.next(),g+=1;if((f=s.strToDateTime(l).getTime())>s.strToDateTime(w[w.length-1].Date).getTime())v="l",v+="e",v+="ngt",m=w[v+="h"]-1,g+=1;else for(m=w.length-1;m>=0&&!(f<=s.strToDateTime(w[m].Date).getTime());m--);y={x0:0,x1:g,y0:w[m].Close,y1:a[T][1]},r=s.strToDateTime(l),p=t.standardMarketIterator(r),b=!1;for(var A=0;A<=g;A++)if(x="l",x+="a",x+="yo",x+="ut",S="getTim",S+="e",b?r=p.next():b=!0,!(r[S]()<=w[w.length-1].DT.getTime())){(k=s.yIntersection(y,A))||(k=0),h.T8B(7);var M=h.z$L(2e4,1e4);h.T8B(25);var L=h.z$L(89e4,15,6e4);if(0==(C=Math.round(k*M)/L)&&(C=a[T][1]),D={Date:s.yyyymmddhhmmssmmm(r),DT:r,Open:C,Close:C,High:C,Low:C,Volume:0,Adj_Close:C,Split_Close:C,projection:!0},"minute"==t[x].interval&&G--<0)break;w[w.length]=D}}}};if(u="e",u+="st",u+="ablishMark",u+="erTicks",d="leng",d+="th",p="stud",p+="ies",g="l",g+="ayou",g+="t",f="pl",f+="u",f+="gi",f+="ns",m="ru",m+="n",m+="Prepen",m+="d",i||(i={}),v=[t,e,{appending:i.appending,appendToDate:i.appendToDate}],this[m]("createDataSet",v))return;x=1135368478,S=-500208310,k=2;for(var Be=1;h.S(Be.toString(),Be.toString().length,57491)!==x;Be++)C="appendi",D=[],T=[],A=i[C+="ng"],k+=2;for(y in h.S(k.toString(),k.toString().length,313)!==S&&(D=[],T=[],A=i[""]),this.charts)if(M="calculateMedianPric",M+="e",L="s",L+="tat",L+="e",_="conca",_+="t",P="l",P+="e",P+="ngth",F="m",F+="axDataSetSize",E="tr",E+="an",E+="sformDataSe",E+="tPost",I="ch",I+="a",I+="r",I+="tType",N="aggregati",N+="o",N+="nType",q="lock",q+="Scrol",q+="l",O="dont",O+="Roll",H="MAX_",H+="V",H+="ALUE",R="mast",R+="erData",U="t",U+="ickCache",z="leng",z+="th",V="n",V+="a",V+="m",V+="e",!e||e[V]==y){if((b=this.charts[y]).dataSet||(b.dataSet=[]),B=b.dataSet[z],A&&(D=b.dataSet),b.currentQuote=null,b.dataSet=[],A||(b[U]={}),(W=b[R])||(W=this.masterData),!W||!W.length)return void this.runAppend("createDataSet",v);if(D.length){for(j="s",j+="lic",j+="e",$="D",$+="T",Y=D.pop();Y.futureTick&&D.length;)Y=D.pop(),B--;for((!(X=i.appendToDate)||X>Y.DT)&&(X=Y[$]);D.length&&(Z="len",!(D[D[Z+="gth"]-1].DT<X));)D.pop();h.T8B(63);var We=h.z$L(1,20,1,18,1);for(J=W.length-We;J>=0&&W[J].DT>=X;)J--;h.g2o(6),w=W[j](h.z$L(1,J))}else w=[].concat(W);if(!a())return;if(this.transformDataSetPre&&this.transformDataSetPre(this,w),G=Math.round(.75*b.maxTicks),!this.chart.hideDrawings){for(Q="n",Q+="am",Q+="e",tt="act",tt+="ive",tt+="D",tt+="rawing",K=0;K<this.drawingObjects.length;K++)et="n",et+="a",et+="m",et+="e","projection"==this.drawingObjects[K][et]&&r(this,this.drawingObjects[K]);this.activeDrawing&&"projection"==this[tt][Q]&&r(this,this.activeDrawing)}for(K=0,it=-Number[H],at=Number.MAX_VALUE,h.g2o(9),nt=h.z$L("0",1),st=t||this[O],ot=this.layout,lt=s.ChartEngine.isDailyInterval(ot.interval);ut="Ad",ut+="j_Cl",ut+="o",ut+="se",dt="ad",dt+="j",pt="ra",pt+="t",pt+="io",gt="ma",gt+="rk",gt+="e",gt+="t",ft="extende",ft+="d",ft+="Hour",ft+="s",mt="l",mt+="engt",!(nt>=w[mt+="h"]);)if((!this.dontRoll||"week"!=ot.interval&&"month"!=ot.interval)&&this.extendedHours&&this[ft].filter&&b[gt].market_def&&(vt=w[nt],lt?(yt="D",yt+="T",bt="marke",ht=!b[bt+="t"].isMarketDate(vt[yt])):(!ct||ct<=vt.DT)&&(ht=!(""===(xt=b.market.getSession(vt.DT))||ot.marketSessions&&ot.marketSessions[xt]),ct=b.market[ht?"getNextOpen":"getNextClose"](vt.DT)),ht))nt++;else{for(var je in rt={},w[nt])rt[je]=w[nt][je];w[nt]=rt,rt[pt]=1,ot[dt]&&rt[ut]&&(St="r",St+="at",St+="i",rt[St+="o"]=rt.Adj_Close/rt.Close),1!=rt.ratio&&(kt="rat",kt+="io",Ct="H",Ct+="i",Ct+="g",Ct+="h",wt="H",wt+="igh",Dt="C",Dt+="l",Dt+="o",Dt+="se",Tt="O",Tt+="p",Tt+="e",Tt+="n",At="O",At+="p",At+="en",rt.Open&&(rt[At]=Number((rt[Tt]*rt.ratio).toFixed(8))),rt[Dt]&&(rt.Close=Number((rt.Close*rt.ratio).toFixed(8))),rt.High&&(rt[wt]=Number((rt[Ct]*rt[kt]).toFixed(8))),rt.Low&&(rt.Low=Number((rt.Low*rt.ratio).toFixed(8)))),T[K++]=w[nt++]}for((ot.periodicity>1||!st&&("week"==ot.interval||"month"==ot.interval))&&(Mt="u",Mt+="ns",Mt+="hi",Mt+="ft",D.length&&T[Mt](D.pop()),T=this.consolidatedQuote(T)),Lt={},K=0;K<T.length;K++){if(_t="l",_t+="en",_t+="gt",_t+="h",rt=T[K],K>0)Pt="iqPrevClos",Pt+="e",Ft="iq",Ft+="P",Ft+="revClose",h.g2o(7),rt[Ft]=T[h.z$L(K,1)].Close,rt[Pt]||0===rt.iqPrevClose||(h.g2o(7),rt.iqPrevClose=T[h.C_l(K,1)].iqPrevClose);else if(D[_t]){Et="iq",Et+="P",Et+="revClo",Et+="se",It="iqP",It+="rev",It+="Close",h.g2o(6);var $e=h.C_l(1,0);rt.iqPrevClose=D[D.length-$e].Close,rt[It]||0===rt.iqPrevClose||(rt[Et]=D[D.length-1].iqPrevClose)}else Nt="Clo",Nt+="s",Nt+="e",rt.iqPrevClose=rt[Nt];for(var Ye in"High"in rt&&rt.High>it&&(it=rt.High),"Low"in rt&&rt.Low<at&&(at=rt.Low),b.series)if(qt="s",qt+="e",(Ht=rt[Ot=b[qt+="ries"][Ye].parameters.symbol])&&"object"==typeof Ht){if(Rt="Adj_Clos",Rt+="e",Ut="r",Ut+="a",Ut+="t",Ut+="io",zt="Cl",zt+="o",zt+="se",Vt="iqP",Vt+="re",Vt+="vClo",Vt+="se",K>0)Ht[Vt]=Lt[Ye];else if(D.length){for(var Xe=D.length-1;Xe>=0;Xe--)if((Bt=D[Xe][Ot])&&(Bt.Close||0===Bt.Close)){Wt="C",Wt+="l",Wt+="o",Wt+="se",jt="iqPrevClo",Ht[jt+="se"]=Bt[Wt];break}}else Ht.iqPrevClose=Ht[zt];(Ht.Close||0===Ht.Close)&&(Lt[Ye]=Ht.Close),Ht[Ut]=1,ot.adj&&Ht[Rt]&&($t="Adj",$t+="_Cl",$t+="o",$t+="se",Ht.ratio=Ht[$t]/Ht.Close),1!=Ht.ratio&&(Yt="toFix",Yt+="ed",Xt="t",Xt+="oFi",Xt+="x",Xt+="ed",Zt="r",Zt+="at",Zt+="io",Jt="H",Jt+="ig",Jt+="h",Gt="toFi",Gt+="xe",Gt+="d",Kt="rat",Kt+="i",Kt+="o",Qt="toF",Qt+="ixed",Ht.Open&&(Ht.Open=Number((Ht.Open*Ht.ratio)[Qt](8))),Ht.Close&&(Ht.Close=Number((Ht.Close*Ht[Kt])[Gt](8))),Ht[Jt]&&(Ht.High=Number((Ht.High*Ht[Zt])[Xt](8))),Ht.Low&&(Ht.Low=Number((Ht.Low*Ht.ratio)[Yt](8))))}}if((te=b.scroll>=b.maxTicks)&&(ee="sp",b[ee+="anLock"]=!1),ie=te||b[q]||b.spanLock||this.isHistoricalModeSet,ae=ot[N],b.defaultChartStyleConfig={type:ot[I]},ae&&"ohlc"!=ae&&(re="drawKagiSqu",re+="a",re+="reWav",re+="e",b.defaultChartStyleConfig.type=ae,s.ChartEngine.prototype[re]?(se="s",se+="tat",se+="e",A&&b[se].aggregation||(b.state.aggregation={}),"heikenashi"==ae||"heikinashi"==ot.aggregationType?(oe="calculat",oe+="eHeiki",oe+="nA",T=s[oe+="shi"](this,T,D)):"rangebars"==ae?T=s.calculateRangeBars(this,T,ot.rangebars,D):"kagi"==ae?(le="c",le+="alculat",T=s[le+="eKagi"](this,T,ot.kagi,D)):"linebreak"==ae?(ce="calculateLin",T=s[ce+="eBreak"](this,T,ot.priceLines,D)):"renko"==ae?(he="calculateRenkoBa",T=s[he+="rs"](this,T,ot.renko,D)):"pandf"==ae&&(ue="p",ue+="a",ue+="n",ue+="df",T=s.calculatePointFigure(this,T,ot[ue],D))):(ne="l",ne+="o",ne+="g",console[ne]("advanced/aggregation.js not loaded!"))),de=T.length-(B-D.length),A||(de=0),ie&&de&&(b.spanLock&&b.scroll>=b.maxTicks?b.spanLock=!1:(pe="s",pe+="w",pe+="ipe",b.scroll+=de,this.grabStartScrollX+=de,this[pe]&&(this.swipe.scroll+=de))),this.transformDataSetPost&&this[E](this,T,at,it),(ge=this[F])&&D.length+T.length>ge&&(fe="s",fe+="lice",T.length<ge?(me="sli",D=D[me+="ce"](T.length-ge)):D=[],T=T[fe](-ge)),b.scrubbed||(b.scrubbed=[]),D.length){ve="l",ve+="ength",h.g2o(64);var Ze=h.z$L(7,3,15,9,3);for(ye=D[D.length-Ze].DT;b.scrubbed[ve]&&b.scrubbed[b.scrubbed.length-1].DT>ye;)b.scrubbed.pop()}else be="scrub",b[be+="bed"]=[];for(b.state.studies={},b.state.studies.startFrom=b.scrubbed.length,xe=[],K=0;K<T[P];K++)Se="n",Se+="o",Se+="w",ke="C",ke+="lo",ke+="s",ke+="e",Ce="Cl",Ce+="ose",((we=T[K])[Ce]||0===we[ke]||we.DT>Date[Se]())&&xe.push(we);b.scrubbed=b.scrubbed[_](xe),A&&b[L].calculations||(b.state.calculations={}),this.calculateATR(b,20,xe),this[M](b,xe),this.calculateTypicalPrice(b,xe),this.calculateWeightedClose(b,xe),this.calculateOHLC4(b,xe)}for(De in this[f])Te="createDataSe",Te+="t",Ae="plug",(Me=this[Ae+="ins"][De]).createDataSet&&Me[Te](this,e,T,D.length);for(y in this.charts)if(Le="l",Le+="en",Le+="gth",_e="dataSe",_e+="t",!e||e.name==y)for((b=this.charts[y]).dataSet=D.concat(T),De=0;De<b[_e][Le];De++)Pe="t",Pe+="i",Pe+="ck",b.dataSet[De].cache={},b.dataSet[De][Pe]=De;for(var Je in h.g2o(35),b.whiteSpaceFutureTicks=h.C_l(0,"0"),Fe=this[g][p],Ee=b.scrubbed.length,Fe)Ie="c",Ie+="alcu",Ie+="lateFN",Ne="s",Ne+="t",Ne+="ud",Ne+="y","function"!=typeof(qe=Fe[Je])&&(e&&(Oe="char",Oe+="t",this.panels[qe.panel][Oe].name!=e.name)||(qe.startFrom=b.state.studies.startFrom,qe.error=null,qe.study.calculateFN&&qe[Ne][Ie](this,qe)));for(De=Ee;De<b.scrubbed[d];De++)He="pus",He+="h",Re="data",Re+="Se",Re+="t",Ue="c",Ue+="ac",Ue+="he",ze="scr",ze+="ub",ze+="be",(Ve=b[ze+="d"][De])[Ue]={},Ve.tick=b[Re].length,b.dataSet[He](Ve);this.adjustDrawings(),this[u]&&this.establishMarkerTicks(),this.runAppend("createDataSet",v)}},t},zt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.zKnnP=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"_x7jx",{get:function(){return this},configurable:!0}),e=_x7jx,i=5;break;case 4:i="undefined"==typeof zKnnP?3:9;break;case 9:delete e.zKnnP,delete Object.prototype._x7jx,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Vt(zt[513895]),zt.T0M=function(){return"function"==typeof zt[254206].s7rL$NJ?zt[254206].s7rL$NJ.apply(zt[254206],arguments):zt[254206].s7rL$NJ},zt[299637]={p4oUdFl:function(){var t,e=arguments;switch(X){case 24:t=(-e[4]/e[0]-e[2])/e[3]+e[1];break;case 19:t=e[3]*e[2]+e[0]-e[4]-e[1];break;case 21:t=e[0]/e[2]/e[1];break;case 23:t=e[0]*e[2]-e[1];break;case 8:t=(e[0]*e[4]+e[3])*e[1]-e[2];break;case 30:t=e[2]/e[4]*e[0]-e[1]-e[3];break;case 11:t=e[1]+e[2]-e[0];break;case 20:t=e[1]+e[2]+e[0]+e[3];break;case 10:t=(e[4]-e[1])*e[2]-e[0]-e[3];break;case 6:t=e[1]*e[0];break;case 13:t=e[0]-e[2]-e[1];break;case 18:t=e[1]+e[3]-e[2]-e[0];break;case 3:t=e[0]+e[1];break;case 17:t=(e[1]*e[3]-e[0])/e[2]-e[4];break;case 28:t=e[2]+e[3]-e[0]+e[1];break;case 25:t=(e[3]+e[2])/e[0]+e[1];break;case 14:t=e[0]/e[1];break;case 16:t=-e[0]-e[2]+e[1];break;case 29:t=(e[1]-e[3])/e[0]+e[2];break;case 0:t=e[0]-e[1];break;case 5:t=e[0]<<e[1];break;case 7:t=e[2]+e[1]+e[3]-e[0];break;case 12:t=(e[0]+e[2])*e[3]-e[1];break;case 9:t=e[1]>>e[0];break;case 15:t=e[0]%e[1];break;case 27:t=e[1]-e[2]+e[0];break;case 22:t=e[2]+e[0]+e[1];break;case 26:t=-e[1]+e[0];break;case 2:t=e[0]^e[1];break;case 1:t=e[0]|e[1];break;case 4:t=e[1]>e[0]}return t},R9DODrP:function(t){X=t}},zt.F0=function(){return"function"==typeof zt[299637].p4oUdFl?zt[299637].p4oUdFl.apply(zt[299637],arguments):zt[299637].p4oUdFl},zt.E_=function(){return"function"==typeof zt[299637].R9DODrP?zt[299637].R9DODrP.apply(zt[299637],arguments):zt[299637].R9DODrP},zt[616183]="r1N",zt.U6S=function(){return"function"==typeof zt[254206].s7rL$NJ?zt[254206].s7rL$NJ.apply(zt[254206],arguments):zt[254206].s7rL$NJ},zt[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[7]=void 0,e[3]={},e[3].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 1:t=e[7]?5:4;break;case 17:i[8].j8T=["C7s"],i[8].r2i=function(){return"function"==typeof U0iiK},i[2]=i[8],i[71]={},i[71].j8T=["E9W"],i[71].r2i=function(){return/(\x3c|\x3e)/.g3ehd(function(){return"a".anchor("b")}+[])},i[15]=i[71],t=23;break;case 67:return e[7]=80,28;case 76:t=i[66]<i[11][i[34]].length?75:70;break;case 2:var i=[arguments];t=1;break;case 23:i[68]={},i[68].j8T=["E9W"],t=21;break;case 55:try{i[70]=i[11][i[49]]()?i[72]:i[45]}catch(t){i[70]=i[45]}t=77;break;case 71:i[66]++,t=76;break;case 68:t=68;break;case 53:i[5].y8iUR(i[15]),i[5].y8iUR(i[7]),i[5].y8iUR(i[97]),i[5].y8iUR(i[73]),i[5].y8iUR(i[95]),i[5].y8iUR(i[2]),t=47;break;case 42:i[82].j8T=["C7s"],i[82].r2i=function(){var t=!1,e=[];try{for(var i in console)e.y8iUR(i);t=0===e.length}catch(t){}return t},i[57]=i[82],i[20]={},t=38;break;case 44:i[95]=i[38],i[82]={},t=42;break;case 4:i[5]=[],i[4]={},i[4].j8T=["E9W"],i[4].r2i=function(){return/\u0033\x44/.g3ehd(function(){return escape("=")}+[])},i[1]=i[4],i[6]={},t=14;break;case 56:i[11]=i[5][i[85]],t=55;break;case 31:i[73]=i[17],i[38]={},i[38].j8T=["C7s"],i[38].r2i=function(){return"function"==typeof J9_vD6},t=44;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[9]>=.5?25:24;break;case 18:a[5]=!1,e=17;break;case 2:var a=[arguments];e=1;break;case 14:e=void 0===a[6][a[8][i[96]]]?13:11;break;case 10:e=a[8][i[65]]===i[72]?20:19;break;case 6:a[8]=a[0][0][a[4]],e=14;break;case 15:a[3]=a[7][a[4]],a[9]=a[6][a[3]].h/a[6][a[3]].t,e=26;break;case 1:e=0===a[0][0].length?5:4;break;case 11:a[6][a[8][i[96]]].t+=!0,e=10;break;case 7:e=a[4]<a[0][0].length?6:18;break;case 20:a[6][a[8][i[96]]].h+=!0,e=19;break;case 5:return;case 13:a[6][a[8][i[96]]]=function(){for(var t=2;9!==t;)if(2===t){var e=[arguments];return e[9]={},e[9].h=0,e[9].t=0,e[9]}}.o1OMO4(this,arguments),e=12;break;case 12:a[7].y8iUR(a[8][i[96]]),e=11;break;case 4:a[6]={},a[7]=[],a[4]=0,e=8;break;case 17:a[4]=0,e=16;break;case 16:e=a[4]<a[7].length?15:23;break;case 8:a[4]=0,e=7;break;case 25:a[5]=!0,e=24;break;case 23:return a[5];case 24:a[4]++,e=16;break;case 19:a[4]++,e=7}}(i[13])?68:67;break;case 70:i[85]++,t=57;break;case 38:i[20].j8T=["E9W"],i[20].r2i=function(){return/\164\162\165\x65/.g3ehd(function(){return"aa".endsWith("a")}+[])},i[87]=i[20],i[5].y8iUR(i[87]),t=53;break;case 75:i[16]={},i[16][i[96]]=i[11][i[34]][i[66]],i[16][i[65]]=i[70],i[13].y8iUR(i[16]),t=71;break;case 77:i[66]=0,t=76;break;case 35:i[97]=i[68],i[17]={},i[17].j8T=["E9W"],i[17].r2i=function(){return/\170\x78/.g3ehd(function(){return"x".repeat(2)}+[])},t=31;break;case 47:i[5].y8iUR(i[1]),i[5].y8iUR(i[57]),i[5].y8iUR(i[9]),i[13]=[],t=64;break;case 57:t=i[85]<i[5].length?56:69;break;case 21:i[68].r2i=function(){return/\u0039\x37/.g3ehd(function(){return"aa".charCodeAt(1)}+[])},t=35;break;case 19:i[9]=i[3],i[8]={},t=17;break;case 58:i[85]=0,t=57;break;case 64:i[72]="B$",i[45]="z6",i[34]="j8T",i[65]="d4q",i[49]="r2i",i[96]="c2",t=58;break;case 14:i[6].j8T=["E9W"],i[6].r2i=function(){return/\u0031/.g3ehd(function(){return"aa".lastIndexOf("a")}+[])},t=12;break;case 5:return 39;case 12:i[7]=i[6],i[3]={},i[3].j8T=["C7s"],i[3].r2i=function(){return"function"==typeof l6y6n1},t=19}},t=3;break;case 3:return e[3]}}(),zt[245362]=zt[321268],zt.V_=function(){return"function"==typeof zt[299637].p4oUdFl?zt[299637].p4oUdFl.apply(zt[299637],arguments):zt[299637].p4oUdFl},zt[302900]=!1,zt[92321]="LbZ",zt.I_=function(){return"function"==typeof zt[321268].L3LLwSS?zt[321268].L3LLwSS.apply(zt[321268],arguments):zt[321268].L3LLwSS},zt[513895].G2aa=zt,zt.b1=function(){return"function"==typeof zt[321268].L3LLwSS?zt[321268].L3LLwSS.apply(zt[321268],arguments):zt[321268].L3LLwSS},zt[574954]="cOn",zt[321268]=(Y=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.x1JW$(o)|(255&t.x1JW$(o+1))<<8|(255&t.x1JW$(o+2))<<16|(255&t.x1JW$(o+3))<<24;l=Y(l,a),n=5*(n=(524287&(n^=l=Y(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.x1JW$(s+2))<<16;case 2:l|=(255&t.x1JW$(s+1))<<8;case 1:l|=255&t.x1JW$(s),l=Y(l,a),n^=l=Y(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=Y(n^=n>>>16,2246822507),n=Y(n^=n>>>13,3266489909),n^=n>>>16}}),zt.m6=function(){return"function"==typeof zt[299637].R9DODrP?zt[299637].R9DODrP.apply(zt[299637],arguments):zt[299637].R9DODrP},zt.T0M(),m=function(t){var e,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt,nt,st,ot,lt,ct,ht,ut,dt,pt,gt,ft,mt,vt,yt,bt,xt,St,kt,Ct,wt,Dt,Tt,At,Mt,Lt,_t,Pt,Ft,Et,It,Nt,qt,Ot,Ht,Rt,Ut,Vt,Bt,Wt,jt,$t,Yt,Xt,Zt,Jt,Gt,Kt,Qt,te,ee,ie,ae,re,ne,se,oe,le,ce,he,ue,de,pe,ge,fe,me,ve,ye,be,xe,Se,ke,Ce,we,De,Te,Ae,Me,Le,_e,Pe,Fe,Ee,Ie,Ne,qe,Oe,He,Re,Ue,ze,Ve=zt;return e="S",e+="un",e+=">=",e+="8",a="Su",a+="n>",a+="=",a+="22",r="S",r+="u",r+="n>=",r+="1",n="ma",n+="x",s="Se",s+="p",o="on",o+="ly",l="F",l+="e",l+="b",c="Sun>",c+="=22",h="Su",h+="n>",h+="=1",u="m",u+="a",u+="x",d="Su",d+="n>=",d+="8",p="Su",p+="n>=",p+="1",g="S",g+="un",g+=">=8",f="O",f+="c",f+="t",m="m",m+="ax",v="Su",v+="n",v+=">=",v+="8",y="Sun",y+=">=8",b="l",b+="as",b+="tSun",x="ma",x+="x",S="Oc",S+="t",k="ma",k+="x",C="M",C+="ar",w="o",w+="n",w+="l",w+="y",D="Sun",D+=">",D+="=1",T="las",T+="tSun",A="m",A+="ax",M="Se",M+="p",L="S",L+="un>",L+="=1",_="ma",_+="x",P="S",P+="un>",P+="=",P+="1",F="A",F+="p",F+="r",E="Sun",E+=">",E+="=",E+="1",I="A",I+="p",I+="r",N="M",N+="a",N+="r",q="l",q+="ast",q+="Sa",q+="t",O="l",O+="ast",O+="S",O+="at",H="Oc",H+="t",R="m",R+="ax",U="S",U+="e",U+="p",z="2",z+="2",V="2",V+="1",B="S",B+="e",B+="p",W="2",W+="1",j="2",j+="2",$="2",$+="1",Y="M",Y+="a",Y+="r",X="o",X+="n",X+="l",X+="y",Z="S",Z+="ep",J="m",J+="a",J+="x",G="ma",G+="x",K="o",K+="nly",Q="M",Q+="ay",tt="o",tt+="n",tt+="l",tt+="y",et="A",et+="pr",it="o",it+="n",it+="l",it+="y",at="1",at+="9",rt="A",rt+="p",rt+="r",nt="J",nt+="u",nt+="n",st="M",st+="ay",ot="on",ot+="ly",lt="o",lt+="nly",ct="M",ct+="a",ct+="y",ht="J",ht+="ul",ut="J",ut+="ul",dt="o",dt+="n",dt+="ly",pt="l",pt+="as",pt+="tSun",gt="M",gt+="a",gt+="r",ft="Asia",ft+="/Riy",ft+="ad",ft+="h",mt="-",mt+="03/-",mt+="0",mt+="2",vt="U",vt+="ru",vt+="g",vt+="uay",yt="-",yt+="0",yt+="2",bt="P",bt+="a",bt+="ra",xt="C",xt+="h",xt+="i",xt+="le",St="-03",St+="/-0",St+="2",kt="E%",kt+="sT",Ct="Ha",Ct+="it",Ct+="i",wt="Me",wt+="xico",Dt="C",Dt+="S",Dt+="T",Tt="A",Tt+="%s",Tt+="T",At="Cana",At+="d",At+="a",Mt="M",Mt+="S",Mt+="T",Lt="M",Lt+="%s",Lt+="T",_t="U",_t+="S",Pt="+",Pt+="03",Ft="E",Ft+="U",Et="E",Et+="E",Et+="S",Et+="T",It="EE",It+="%sT",Nt="Europ",Nt+="e/Be",Nt+="lgra",Nt+="de",qt="C",qt+="E",qt+="%s",qt+="T",Ot="E",Ot+="U",Ht="+",Ht+="1",Ht+="2",Rt="+1",Rt+="1",Ut="+0",Ut+="7",Vt="-0",Vt+="1/+00",Bt="EE%",Bt+="sT",Wt="E",Wt+="E%sT",jt="E",jt+="U",$t="WE%s",$t+="T",Yt="IS",Yt+="T",Yt+="/",Yt+="GMT",Xt="E",Xt+="tc/UTC",Zt="+13",Zt+="/+1",Zt+="4",Jt="+",Jt+="1",Jt+="3",Jt+="/+14",Gt="Ch",Gt+="atha",Gt+="m",Kt="N",Kt+="C",Qt="+1",Qt+="4",te="F",te+="i",te+="ji",ee="A",ee+="N",ie="A",ie+="u",ie+="s",ae="Leba",ae+="non",re="KS",re+="T",ne="RO",ne+="K",se="J",se+="%sT",oe="Z",oe+="i",oe+="o",oe+="n",le="EE%",le+="s",le+="T",ce="C",ce+="%",ce+="sT",he="+01",he+="/+",he+="00",ue="M",ue+="o",ue+="roc",ue+="co",de="+0",de+="0",de+="/+0",de+="1",pe="Pacific/A",pe+="u",pe+="ck",pe+="land",ge="Asia/Ka",ge+="mchatka",fe="Pac",fe+="ific/Guam",me="Aust",me+="ralia/Brisbane",ve="Asia/Yakut",ve+="sk",ye="Asia/Se",ye+="oul",be="Aus",be+="tralia/Pe",be+="rt",be+="h",xe="Asia/Ulaan",xe+="b",xe+="aatar",Se="Asia/",Se+="I",Se+="rkutsk",ke="Asia/No",ke+="vosibirsk",Ce="A",Ce+="sia/Alma",Ce+="ty",we="Asia/Kathman",we+="du",De="Asi",De+="a/K",De+="abul",Te="Eu",Te+="rope/Istan",Te+="b",Te+="ul",Ae="Asia",Ae+="/Jerusalem",Me="Afr",Me+="ica/Jo",Me+="han",Me+="nesburg",Le="Afr",Le+="ica/C",Le+="ai",Le+="ro",_e="Europe/Kalinin",_e+="gra",_e+="d",Pe="Europe/B",Pe+="e",Pe+="lgrad",Ve.U6S(),Pe+="e",Fe="Euro",Fe+="pe/Dubl",Fe+="in",Ee="U",Ee+="TC",Ie="Atlantic/Sou",Ie+="th",Ie+="_Georgia",Ne="America/",Ne+="P",Ne+="a",Ne+="nama",qe="America",qe+="/Hali",qe+="fax",Oe="America/Asun",Oe+="ci",Oe+="on",He="Ame",He+="rica/Port-au-Prince",Re="Pacific/Pago",Re+="_P",Re+="a",Re+="go",(Ue=t.CIQ).timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":Re,"(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":"America/Juneau","(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":"America/Chihuahua","(UTC-07:00) Mountain Time (US and Canada)":"America/Denver","(UTC-06:00) Central America":"America/Costa_Rica","(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(UTC-06:00) Saskatchewan":"America/Regina","(UTC-05:00) Bogota, Lima, Quito, Rio Branco":"America/Bogota","(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":He,"(UTC-04:00) Asuncion":Oe,"(UTC-04:00) Santiago":"America/Santiago","(UTC-04:00) Caracas":"America/Caracas","(UTC-04:00) Atlantic Time (Canada)":qe,"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Cancun, Jamaica, Panama":Ne,"(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":"America/Sao_Paulo","(UTC-02:00) Mid-Atlantic":Ie,"(UTC-01:00) Azores":"Atlantic/Azores","(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC) Greenwich Mean Time, Reykjavik":Ee,"(UTC) Dublin":Fe,"(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Casablanca":"Africa/Casablanca","(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":Pe,"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":_e,"(UTC+02:00) Athens, Bucharest":"Europe/Bucharest","(UTC+02:00) Cairo":Le,"(UTC+02:00) Harare, Johannesburg":Me,"(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":"Europe/Helsinki","(UTC+02:00) Cyprus":"Asia/Nicosia","(UTC+02:00) Beirut":"Asia/Beirut","(UTC+02:00) Damascus":"Asia/Damascus","(UTC+02:00) Jerusalem":Ae,"(UTC+02:00) Amman":"Asia/Amman","(UTC+03:00) Istanbul":Te,"(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":"Asia/Riyadh","(UTC+03:00) Minsk, Moscow, Kirov, Volgograd":"Europe/Moscow","(UTC+03:00) Simferopol":"Europe/Simferopol","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":"Asia/Tehran","(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":"Asia/Dubai","(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":"Europe/Samara","(UTC+04:30) Kabul":De,"(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":we,"(UTC+06:00) Almaty":Ce,"(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":"Asia/Novokuznetsk","(UTC+07:00) Barnaul, Novosibirsk, Tomsk":ke,"(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(UTC+08:00) Irkutsk":Se,"(UTC+08:00) Choibalsan, Ulaanbaatar":xe,"(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":be,"(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":"Asia/Pyongyang","(UTC+09:00) Seoul":ye,"(UTC+09:00) Chita, Khandyga, Yakutsk":ve,"(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":"Australia/Darwin","(UTC+10:00) Brisbane":me,"(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":fe,"(UTC+10:00) Ust-Nera, Vladivostok":"Asia/Vladivostok","(UTC+11:00) Noumea, Solomon Islands":"Pacific/Noumea","(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":"Asia/Srednekolymsk","(UTC+12:00) Anadyr, Kamchatka":ge,"(UTC+12:00) Auckland, Wellington":pe,"(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":"Pacific/Chatham","(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":"Pacific/Kiritimati"},function(){var e,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v;e="Oc",e+="tob",e+="er",a="Ja",a+="n",a+="uar",a+="y",r="Fri",r+="da",r+="y",n="u",n+="ndefin",n+="ed",s="undef",s+="ined",o=(typeof window!==s?window:null)||(typeof i.g!==n?i.g:self),l=t.timezoneJS||{},t.timezoneJS=l,l.VERSION="0.4.11",c=o.$||o.jQuery||o.Zepto,h=o.fleegix,u=l.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday",r,"Saturday"],d=l.Months=[a,"February","March","April","May","June","July","August","September",e,"November","December"],p={},g={},f={};for(var y=0;y<d.length;y++)p[d[y].substr(Ve.F0("0",0,Ve.m6(0)),3)]=y;for(y=0;y<u.length;y++)g[u[y].substr(0,3)]=y;Array.prototype.indexOf,Ve.T0M(),m=function(t,e){var i,a,r;if("number"!=typeof t)throw Ve.m6(3),Ve.F0("not a number: ",t);if(Ve.T0M(),Ve.m6(4),i=Ve.F0(1e3,t),r=(a=t.toString()).length,i&&r>e)return Ve.m6(0),a.substr(Ve.F0(r,e),r);for(a=[a];r<e;)a.unshift("0"),r++;return a.join("")},v=function(t){var e,i,a;if(e="t",Ve.T0M(),e+="ext",i="u",i+="n",i+="defined",t){if(!t.url)throw new Error("URL must be specified");if("async"in t||(t.async=!0),!(h&&typeof h.xhr!==i||c&&void 0!==c.ajax))throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");return t.async?h&&h.xhr?h.xhr.send({url:t.url,method:"get",handleSuccess:t.success,handleErr:t.error}):c.ajax({url:t.url,dataType:e,method:"GET",error:t.error,success:t.success}):(a="t",a+="e",a+="x",a+="t",h&&h.xhr?h.xhr.doReq({url:t.url,async:!1}):c.ajax({url:t.url,async:!1,dataType:a}).responseText)}},l.ruleCache={},l.Date=function(){var t,e,i,a,r,n,s,o,c,h,u,d,p;if(t="stri",t+="n",t+="g",e="st",Ve.U6S(),e+="ring",i="[object ",i+="Arra",i+="y]",this===l)throw a="timezoneJS.Date object must be constructed with 'new",a+="'";if(r=Array.prototype.slice.apply(arguments),n=null,s=null,o=[],c=!1,Object.prototype.toString.call(r[0])===i){h=-1984568676,u=-158786487,d=2;for(var g=1;Ve.b1(g.toString(),g.toString().length,5056)!==h;g++)Ve.E_(0),r=r[Ve.V_("6",0)],d+=2;Ve.I_(d.toString(),d.toString().length,81790)!==u&&(r=r[0])}switch(typeof r[r.length-1]===e&&(c=Date.parse(r[r.length-1].replace(/GMT[+-]\d+/,"")),(isNaN(c)||null===c)&&(s=r.pop())),p=!1,r.length){case 0:n=new Date;break;case 1:Ve.E_(5),n=new Date(r[Ve.F0("0",0)]),typeof r[0]==t&&-1==r[0].search(/[+-][0-9]{4}/)&&-1==r[0].search(/Z/)&&-1==r[0].search(/T/)&&(p=!0);break;case 2:n=new Date(r[0],r[1]),p=!0;break;default:for(var f=0;f<7;f++)o[f]=r[f]||0;n=new Date(o[0],o[1],o[2],o[3],o[4],o[5],o[6]),p=!0}if(isNaN(n.getTime()))throw new Error("Invalid date");this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,Ve.E_(6),this.date=Ve.F0(1,"0"),this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=s||null,p?this.setFromDateObjProxy(n):this.setFromTimeProxy(n.getTime(),s)},Ue.extend(l.Date.prototype,{getDate:function(){return Ve.U6S(),this.date},getDay:function(){return this._day},getFullYear:function(){return this.year},getMonth:function(){return Ve.U6S(),this.month},getYear:function(){Ve.m6(3);var t=Ve.F0(1886,14);return this.year-t},getHours:function(){return this.hours},getMilliseconds:function(){return Ve.U6S(),this.milliseconds},getMinutes:function(){return Ve.T0M(),this.minutes},getSeconds:function(){return Ve.U6S(),this.seconds},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return Ve.U6S(),this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return Ve.T0M(),this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){Ve.m6(7);var t=Ve.F0(211,14,240,17);Ve.m6(8);var e=Ve.V_(981,14,40300,7,3);return Ve.U6S(),this._timeProxy+this.getTimezoneOffset()*t*e},getTimezone:function(){return this.timezone},getTimezoneOffset:function(){return Ve.U6S(),this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return Ve.T0M(),this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){var t,e,i,a,r;if(this._useCache)return this._tzInfo;this.timezone?(e="U",e+="TC",t="Etc/UTC"===this.timezone||"Etc/GMT"===this.timezone?{tzOffset:0,tzAbbr:e}:l.timezone.getTzInfo(this._timeProxy,this.timezone)):t={tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=t,Ve.E_(9),i=-Ve.F0(64,"608622112"),a=1008081661,r=2;for(var n=1;Ve.b1(n.toString(),n.toString().length,45340)!==i;n++)this._useCache=!0,r+=2;return Ve.I_(r.toString(),r.toString().length,22041)!==a&&(this._useCache=!1),t},getUTCDateProxy:function(){var t;return Ve.T0M(),(t=new Date(this._timeProxy)).setUTCMinutes(t.getUTCMinutes()+this.getTimezoneOffset()),t},setDate:function(t){var e;return e="da",e+="t",e+="e",this.setAttribute(e,t),this.getTime()},setFullYear:function(t,e,i){var a,r;return a="yea",a+="r",void 0!==i&&(r="da",r+="te",Ve.m6(9),this.setAttribute(r,Ve.V_(32,"1"))),this.setAttribute(a,t),void 0!==e&&this.setAttribute("month",e),void 0!==i&&this.setAttribute("date",i),this.getTime()},setMonth:function(t,e){var i,a,r,n;if(this.setAttribute("month",t),void 0!==e){i=86916813,a=-486941249,r=2;for(var s=1;Ve.I_(s.toString(),s.toString().length,76272)!==i;s++)this.setAttribute("",e),r+=2;Ve.I_(r.toString(),r.toString().length,77032)!==a&&(n="d",n+="a",n+="t",n+="e",this.setAttribute(n,e))}return this.getTime()},setYear:function(t){var e,i,a,r;0<=(t=Number(t))&&t<=99&&(t+=1900),Ve.T0M(),e=-610754756,i=557122521,a=2;for(var n=1;Ve.I_(n.toString(),n.toString().length,77555)!==e;n++)return this.setUTCAttribute("",t),this.getTime();if(Ve.b1(a.toString(),a.toString().length,81456)!==i)return r="ye",r+="a",r+="r",this.setUTCAttribute(r,t),this.getTime()},setHours:function(t,e,i,a){var r,n,s,o;if(Ve.U6S(),this.setAttribute("hours",t),void 0!==e&&this.setAttribute("minutes",e),void 0!==i&&(r="s",r+="ec",r+="o",r+="nds",this.setAttribute(r,i)),void 0!==a){n=-1901266619,s=1902766939,o=2;for(var l=1;Ve.b1(l.toString(),l.toString().length,93354)!==n;l++)this.setAttribute("milliseconds",a),o+=2;Ve.I_(o.toString(),o.toString().length,24531)!==s&&this.setAttribute("",a)}return this.getTime()},setMinutes:function(t,e,i){var a,r;this.setAttribute("minutes",t),void 0!==e&&this.setAttribute("seconds",e),Ve.U6S(),void 0!==i&&this.setAttribute("milliseconds",i),a=-1272554235,r=2;for(var n=1;Ve.I_(n.toString(),n.toString().length,28635)!==a;n++)return this.getTime();return Ve.b1(r.toString(),r.toString().length,72635),this.getTime()},setSeconds:function(t,e){var i,a,r;if(this.setAttribute("seconds",t),void 0!==e){i=-1384984998,a=-1574943713,r=2;for(var n=1;Ve.I_(n.toString(),n.toString().length,43679)!==i;n++)this.setAttribute("",e),r+=2;Ve.I_(r.toString(),r.toString().length,69194)!==a&&this.setAttribute("",e),this.setAttribute("milliseconds",e)}return Ve.U6S(),this.getTime()},setMilliseconds:function(t){return this.setAttribute("milliseconds",t),this.getTime()},setTime:function(t){var e,i,a;if(Ve.T0M(),isNaN(t)){e=628279103,i=-827633894,a=2;for(var r=1;Ve.I_(r.toString(),r.toString().length,90396)!==e;r++)throw new Error("");if(Ve.I_(a.toString(),a.toString().length,43078)!==i)throw new Error("Units must be a number.")}return this.setFromTimeProxy(t,this.timezone),this.getTime()},setUTCFullYear:function(t,e,i){var a,r,n;return a="y",a+="ea",a+="r",void 0!==i&&(Ve.E_(1),this.setUTCAttribute("date",Ve.V_("1",0))),this.setUTCAttribute(a,t),void 0!==e&&(r="m",r+="onth",this.setUTCAttribute(r,e)),void 0!==i&&(n="d",n+="a",n+="te",this.setUTCAttribute(n,i)),this.getTime()},setUTCMonth:function(t,e){return this.setUTCAttribute("month",t),void 0!==e&&this.setUTCAttribute("date",e),this.getTime()},setUTCDate:function(t){return this.setUTCAttribute("date",t),Ve.T0M(),this.getTime()},setUTCHours:function(t,e,i,a){var r,n,s,o,l;if(this.setUTCAttribute("hours",t),void 0!==e&&(r="m",r+="inu",r+="te",r+="s",this.setUTCAttribute(r,e)),void 0!==i){n=1934623138,s=-734880233,o=2;for(var c=1;Ve.b1(c.toString(),c.toString().length,23195)!==n;c++)l="se",l+="conds",this.setUTCAttribute(l,i),o+=2;Ve.b1(o.toString(),o.toString().length,62458)!==s&&this.setUTCAttribute("",i)}return void 0!==a&&this.setUTCAttribute("milliseconds",a),this.getTime()},setUTCMinutes:function(t,e,i){return this.setUTCAttribute("minutes",t),void 0!==e&&this.setUTCAttribute("seconds",e),Ve.U6S(),void 0!==i&&this.setUTCAttribute("milliseconds",i),this.getTime()},setUTCSeconds:function(t,e){var i,a,r;if(this.setUTCAttribute("seconds",t),void 0!==e){i=-1500195065,a=170210093,r=2;for(var n=1;Ve.I_(n.toString(),n.toString().length,67350)!==i;n++)this.setUTCAttribute("milliseconds",e),r+=2;Ve.I_(r.toString(),r.toString().length,8159)!==a&&this.setUTCAttribute("",e)}return this.getTime()},setUTCMilliseconds:function(t){return Ve.T0M(),this.setUTCAttribute("milliseconds",t),this.getTime()},setFromDateObjProxy:function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.date=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this._day=t.getDay(),this._dateProxy=t,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(t,e){var i,a;i=new Date(t),a=e?l.timezone.getTzInfo(t,e,!0).tzOffset:i.getTimezoneOffset(),i.setTime(t+6e4*(i.getTimezoneOffset()-a)),this.setFromDateObjProxy(i)},setAttribute:function(t,e){var i,a;if(i="se",i+="t",isNaN(e))throw new Error("Units must be a number.");Ve.U6S(),(a=this._dateProxy)[i+("year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1))](e),this.setFromDateObjProxy(a)},setUTCAttribute:function(t,e){var i,a,r;if(i="s",i+="e",i+="tUTC",isNaN(e))throw new Error("Units must be a number.");a="year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1),(r=this.getUTCDateProxy())[i+a](e),r.setUTCMinutes(r.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(r.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(t){var e;e=this.getTimezoneInfo().tzOffset,this.timezone=t,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+e)},removeTimezone:function(){this.timezone=null,this._useCache=!1},valueOf:function(){return Ve.U6S(),this.getTime()},clone:function(){return this.timezone?new l.Date(this.getTime(),this.timezone):new l.Date(this.getTime())},toGMTString:function(){var t;return t="EEE, dd MMM yyyy HH:m",t+="m:ss Z",this.toString(t,"Etc/GMT")},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){Ve.m6(3);var t=Ve.F0(8533,20);Ve.E_(10),Ve.F0(14,16,12,295544,25350),Ve.E_(11);var e=Ve.V_(498,512,18);Ve.E_(12);var i=Ve.F0(3088,34142,13,12);Ve.E_(3);var a=Ve.F0(2050,20);Ve.E_(13);var r=Ve.F0(35652,32665,16);return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+(t>8130?"5590">>e>=i?"Z":a:r)},toJSON:function(){return Ve.T0M(),this.toISOString()},toDateString:function(){return this.toString("EEE MMM dd yyyy")},toTimeString:function(){var t,e,i;t=-1898392600,e=-1871792857,Ve.m6(5),i=Ve.F0("2",64);for(var a=1;Ve.b1(a.toString(),a.toString().length,36779)!==t;a++)return this.toString("");if(Ve.b1(i.toString(),i.toString().length,61780)!==e)return this.toString("H:mm k")},toString:function(t,e){var i,a,r,n,s,o,c,h,d,p;if(t||(t="yyyy-MM-ddTHH:mm:ss.SSS"),i=t,Ve.U6S(),a=e?l.timezone.getTzInfo(this.getTime(),e):this.getTimezoneInfo(),r=this,e){r=this.clone(),n=575808366,Ve.E_(6),s=-Ve.V_(1,"231168893"),o=2;for(var g=1;Ve.b1(g.toString(),g.toString().length,47091)!==n;g++)r.setTimezone(e),o+=2;Ve.I_(o.toString(),o.toString().length,33894)!==s&&r.setTimezone(e)}c=329849342,h=1514712049,Ve.E_(2),d=Ve.F0("2",0);for(var f=1;Ve.I_(f.toString(),f.toString().length,56495)!==c;f++)p=r.getHours(),d+=2;return Ve.b1(d.toString(),d.toString().length,22542)!==h&&(p=r.getHours()),i.replace(/a+/g,(function(){var t,e,i;Ve.U6S(),t=134128533,e=2015309085,i=2;for(var a=1;Ve.b1(a.toString(),a.toString().length,38676)!==t;a++)return"k";if(Ve.b1(i.toString(),i.toString().length,90483)!==e)return"F"})).replace(/y+/g,(function(t){return Ve.T0M(),m(r.getFullYear(),t.length)})).replace(/d+/g,(function(t){return Ve.T0M(),m(r.getDate(),t.length)})).replace(/m+/g,(function(t){return Ve.T0M(),m(r.getMinutes(),t.length)})).replace(/s+/g,(function(t){return m(r.getSeconds(),t.length)})).replace(/S+/g,(function(t){return Ve.T0M(),m(r.getMilliseconds(),t.length)})).replace(/h+/g,(function(t){return m(p%12==0?12:p%12,t.length)})).replace(/M+/g,(function(t){var e,i,a,n,s;if(e=r.getMonth(),(i=t.length)>3)return l.Months[e];if(i>2){a=1488354491,n=-1489102856,s=2;for(var o=1;Ve.b1(o.toString(),o.toString().length,94207)!==a;o++)return l.Months[e].substring(1,i);if(Ve.b1(s.toString(),s.toString().length,89495)!==n)return l.Months[e].substring(0,i)}return Ve.E_(3),m(Ve.V_(e,1),i)})).replace(/k+/g,(function(){return p>=12?(p>12&&(p-=12),"PM"):"AM"})).replace(/H+/g,(function(t){return Ve.T0M(),m(p,t.length)})).replace(/E+/g,(function(t){return u[r.getDay()].substring(0,t.length)})).replace(/Z+/gi,(function(){return Ve.U6S(),a.tzAbbr}))},toUTCString:function(){return this.toGMTString()},civilToJulianDayNumber:function(t,e,i){var a,r;++e>12&&(Ve.E_(14),a=parseInt(Ve.V_(e,12),10),Ve.m6(15),e=Ve.F0(e,12),t+=a),e<=2&&(t-=1,e+=12),Ve.E_(14),a=Math.floor(Ve.V_(t,100)),Ve.E_(16);var n=Ve.V_(16,24,6);Ve.m6(17);var s=Ve.V_(18,18,1,8,122);r=n-a+Math.floor(a/s),Ve.m6(18);var o=Ve.F0(17,4733,20,20);Ve.E_(19);var l=Ve.V_(19,157,8,19,13);Ve.m6(3);var c=Ve.V_(191,1333);return Math.floor(365.25*(t+o))+Math.floor(30.6001*(e+l))+i+r-c},getLocalOffset:function(){return Ve.T0M(),this._dateProxy.getTimezoneOffset()}},!0),l.timezone=new function(){var t,e,i,a,r,n,s,o,c,h,u,d,m,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N;function q(t,e){var i,a,r,n,s,o,l,c,h;for(i="number"==typeof t?t:new Date(+t).getTime(),a=e,r=E.zones[a];"string"==typeof r;)a=r,r=E.zones[a];if(!r){if(!E.loadedZones.backward)return n="backw",n+="ard",E.loadZoneFile(n),q(t,e);if(a&&a!==e)return E.lazyLoadZoneFiles(a),q(t,a);O(a)}if(0===r.length)throw s="'",s+=" on ",Ve.E_(20),new Error(Ve.V_(s,"No Zone found for '",e,t));for(var u=r.length-1;u>=0&&!((o=r[u])[3]&&i>o[3]);u--);l=1602654732,c=615007461,h=2,Ve.T0M();for(var d=1;Ve.b1(d.toString(),d.toString().length,17933)!==l;d++)return Ve.E_(14),r[Ve.V_(u,4)];return Ve.b1(h.toString(),h.toString().length,59607)!==c?(Ve.E_(14),r[Ve.F0(u,4)]):(Ve.E_(3),r[Ve.V_(u,1)])}function O(t){var e,i,a;Ve.U6S(),e=-214484019,i=1005607302,a=2;for(var r=1;Ve.b1(r.toString(),r.toString().length,75414)!==e;r++)throw Ve.E_(21),new Error(Ve.F0("Timezone '","Timezone '",t));if(Ve.b1(a.toString(),a.toString().length,5079)!==i)throw Ve.m6(22),new Error(Ve.F0(t,"' is either incorrect, or not loaded in the timezone registry.","Timezone '"))}function H(t,e){var i,a,r,n;i=1575452018,a=-609017986,r=2;for(var s=1;Ve.I_(s.toString(),s.toString().length,84253)!==i;s++)n=E.zoneFileBasePath+"/"+t,r+=2;return Ve.T0M(),Ve.b1(r.toString(),r.toString().length,96118)!==a&&(n=(E.zoneFileBasePath-"")/t),e&&e.async?E.transport({async:!0,url:n,success:function(t){return Ve.T0M(),E.parseZones(t)&&"function"==typeof e.callback&&e.callback()},error:function(){var t;throw t="' z",Ve.U6S(),t+="oneinfo files",Ve.E_(22),new Error(Ve.V_(n,t,"Error retrieving '"))}}):E.parseZones(E.transport({url:n,async:!1}))}function R(t){var e,i,a,r,n,s,o,l;if(e="strin",e+="g",i=N[t])return i;if(a=t.split("/")[Ve.F0("0",0,Ve.m6(1))],Ve.T0M(),r=I[a])return r;if(typeof(n=E.zones[t])===e)return R(n);if(!E.loadedZones.backward)return E.loadZoneFile("backward"),R(t);s=766037584,o=-925973801,l=2;for(var c=1;Ve.I_(c.toString(),c.toString().length,29108)!==s;c++)O(t),l+=2;Ve.b1(l.toString(),l.toString().length,29525)!==o&&O(t)}function U(t,e){return Ve.E_(0),-Math.ceil(Ve.V_(e,t))}function z(t,e){var i,a,r,n,s,o,l;if((i=t[2]).indexOf("%s")>-1){if(e)a="-"===e[7]?"":e[7];else{r=-748954652,n=1813444526,s=2;for(var c=1;Ve.b1(c.toString(),c.toString().length,91934)!==r;c++)a=5668869,s+=2;Ve.b1(s.toString(),s.toString().length,19270)!==n&&(a=5668869),a="S"}return i.replace("%s",a)}if(i.indexOf("/")>-1)return i.split("/",2)[e&&e[6]?1:0];Ve.m6(9),o=-Ve.V_(64,"1892874808"),l=2;for(var h=1;Ve.I_(h.toString(),h.toString().length,97157)!==o;h++)return i;return Ve.U6S(),Ve.I_(l.toString(),l.toString().length,88653),i}function V(t){var e,i;return e=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/,(i=t.match(e))[1]=parseInt(i[1],10),i[2]=i[2]?parseInt(i[2],10):0,i[3]=i[3]?parseInt(i[3],10):0,i.slice(1,5)}function B(t){var e,i,a,r,n,s,o;if(t[3]){e=parseInt(t[3],10),i=11,a=31,t[4]&&(i=p[t[4].substr(0,3)],a=parseInt(t[5],10)||1),r=70786838,n=1483805489,s=2;for(var l=1;Ve.I_(l.toString(),l.toString().length,63413)!==r;l++)o=t[5]?V(t[0]):[8,8,8],s+=2;return Ve.b1(s.toString(),s.toString().length,56496)!==n&&(o=t[3]?V(t[6]):[5,5,6]),o=t[6]?V(t[6]):[0,0,0],Ve.U6S(),[e,i,a,o[0],o[1],o[2]]}}function W(t){var e,i;Ve.T0M(),e=V(t),i="-"===t.charAt(0)?-1:1,Ve.m6(23);var a=Ve.F0(40,20,2);Ve.m6(24);var r=Ve.F0(3,12,7,1,12);Ve.m6(25);var n=Ve.V_(23,1,13,10);Ve.m6(8);var s=Ve.F0(981,17,115875,8,7);return e=i*((60*(e[0]*a+e[r])+e[n])*s),Ve.m6(21),Ve.V_(e,1e3,60)}function j(t,e,i,a){var r,n,s,o,c,h,u,d,m,v,y,b,x,S;if(r="number"==typeof t?new Date(t):t,n=e[1],s=e[0],o=n.match(/^([0-9]):([0-9][0-9])$/)){c="ma",c+="x",Ve.m6(26);var k=Ve.V_(4,3);Ve.m6(27);var C=Ve.F0(17,8,15);Ve.E_(28);var w=Ve.F0(6,43,4,19);Ve.E_(0);var D=Ve.V_(19,17);Ve.E_(29);var T=Ve.F0(4,1,13,13);return[-1e6,c,"-","Jan",1,[0,0,0],parseInt(o[k],C)*w+parseInt(o[D],T),"-"]}if(h=function(t,e,i){var a,r,n,o;if(Ve.m6(6),Ve.U6S(),a=Ve.F0(1,"0"),"u"===e||"g"===e||"z"===e)a=0;else if("s"===e){r=2048955385,n=208407019,o=2;for(var l=1;Ve.b1(l.toString(),l.toString().length,1945)!==r;l++)a=s,Ve.m6(9),o+=Ve.F0(64,"2");Ve.b1(o.toString(),o.toString().length,27419)!==n&&(a=s)}else{if("w"!==e&&e)throw Ve.m6(3),new Error(Ve.F0("unknown type ",e));a=U(s,i[6])}return Ve.m6(6),a*=Ve.V_(1e3,60),new Date(t.getTime()+a)},u=function(t,e){var i,a,r,n,s,o,l,c;return i=t[0],Ve.E_(5),r=(a=t[Ve.V_("1",0)])[5],f[i]||(f[i]={}),f[i][a]?n=f[i][a]:(isNaN(a[4])?(s=">",s+="=","last"===a[4].substr(0,4)?(n=new Date(Date.UTC(i,p[a[3]]+1,1,r[0]-24,r[1],r[2],0)),o=g[a[4].substr(4,3)],l="<="):(n=new Date(Date.UTC(i,p[a[3]],a[4].substr(5),r[0],r[1],r[2],0)),o=g[a[4].substr(0,3)],l=a[4].substr(3,2)),c=n.getUTCDay(),l===s?n.setUTCDate(n.getUTCDate()+(o-c+(o<c?7:0))):n.setUTCDate(n.getUTCDate()+(o-c-(o>c?7:0)))):n=new Date(Date.UTC(i,p[a[3]],a[4],r[0],r[1],r[2],0)),f[i][a]=n),Ve.U6S(),e&&(n=h(n,r[3],e)),n},d=function(t,e){var i,a,r;i=[];for(var n=0;e&&n<e.length;n++)a="ma",a+="x",r="onl",r+="y",e[n][0]<=t&&(e[n][1]>=t||e[n][0]===t&&e[n][1]===r||e[n][1]===a)&&i.push([t,e[n]]);return Ve.U6S(),i},m=function(t,e,a){var r,n;return t instanceof Date?a&&(t=h(t,i?"u":"w",a)):(Ve.m6(6),r=t[Ve.V_(1,"0")],n=t[1],t=!a&&f[r]&&f[r][n]?f[r][n]:u(t,a)),Ve.T0M(),e instanceof Date?a&&(e=h(e,i?"u":"w",a)):(r=e[0],n=e[1],e=!a&&f[r]&&f[r][n]?f[r][n]:u(e,a)),t=Number(t),e=Number(e),Ve.E_(0),Ve.V_(t,e)},v=r.getUTCFullYear(),(b=l.ruleCache[a])||(b=l.ruleCache[a]={}),(y=b[v])||(Ve.E_(0),(y=(y=d(Ve.F0(v,1),E.rules[n])).concat(d(v,E.rules[n]))).sort(m),b[v]=y),!y||!y.length)return null;for(var A=y.length-1;A>=0;A--)if(A>0?(Ve.m6(0),x=y[Ve.V_(A,1)][1]):x=null,(S=y[A])[2]||(S[2]=u(S,x)),m(r,S,x)>=0)return S[1];return null}t="l",t+="a",t+="zyLoad",e="pa",e+="ci",e+="ficnew",i="euro",i+="pe",a="et",a+="c",a+="e",a+="tera",r="a",r+="s",r+="i",r+="a",n="eu",s="e",s+="u",o="europ",c="eu",c+="r",c+="op",h="e",h+="u",u="euro",d="e",d+="urop",m="australas",m+="i",y="a",y+="ustral",y+="asi",b="antarc",b+="tic",x="northam",x+="er",x+="ic",S="eu",k="e",k+="u",k+="rop",C="as",C+="i",w="a",D="afr",D+="i",T="austr",T+="alas",A="n",A+="ortha",M="nort",M+="ha",M+="m",L="northa",_="nort",_+="hame",P="nort",F="etcet",F+="e",E=this,I={Etc:F+="ra",EST:"northamerica",MST:"northamerica",HST:P+="hamerica",EST5EDT:"northamerica",CST6CDT:_+="rica",MST7MDT:L+="merica",PST8PDT:M+="erica",America:[A+="merica","southamerica"],Pacific:T+="ia",Atlantic:"europe",Africa:D+="ca",Indian:"africa",Antarctica:w+="ntarctica",Asia:C+="a",Australia:"australasia",Europe:"europe",WET:k+="e",CET:"europe",MET:S+="rope",EET:"europe"},N={"Pacific/Honolulu":x+="a","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":b+="a","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":y+="a","Indian/Cocos":m+="a","America/Danmarkshavn":"europe","America/Scoresbysund":d+="e","America/Godthab":"europe","America/Thule":u+="pe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":h+="rope","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":c+="e","Asia/Yakutsk":"europe","Asia/Vladivostok":o+="e","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":s+="rope","Africa/Ceuta":n+="rope",GMT:"etcetera","Europe/Nicosia":"asia"},this.zoneFileBasePath=null,this.zoneFiles=["africa","antarctica",r,"australasia","backward",a,i,"northamerica",e,"southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:t,MANUAL_LOAD:"manualLoad"},this.getRegionForTimezone=R,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(t){var e,i;for(var a in Ve.U6S(),e={async:!0},i=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica",t)e[a]=t[a];return this.loadZoneFiles(i,e)},this.loadZoneFiles=function(t,e){var i,a,r,n,s;i=162930577,a=754709943,r=2;for(var o=1;Ve.b1(o.toString(),o.toString().length,63872)!==i;o++)s=1,r+=2;if(Ve.b1(r.toString(),r.toString().length,58728)!==a&&(s=1),s=0,"string"==typeof t)return this.loadZoneFile(t,e);n=(e=e||{}).callback,e.callback=function(){++s===t.length&&"function"==typeof n&&n()};for(var l=0;l<t.length;l++)this.loadZoneFile(t[l],e)},this.loadZoneFile=function(t,e){var i;if(Ve.U6S(),void 0===this.zoneFileBasePath)throw i="Please define a base path t",i+="o your zone file directory -- timezoneJS.timezone.zo",i+="neFileBasePath.",new Error(i);if(!this.loadedZones[t])return this.loadedZones[t]=!0,H(t,e)},this.loadZoneJSONData=function(t,e){var i;return Ve.U6S(),i=function(t){for(var e in(t=JSON.parse(t)).zones)E.zones[e]=t.zones[e];for(var i in t.rules)E.rules[i]=t.rules[i]},e?i(E.transport({url:t,async:!1})):E.transport({url:t,success:i})},this.loadZoneDataFromObject=function(t){if(t){for(var e in t.zones)E.zones[e]=t.zones[e];for(var i in t.rules)E.rules[i]=t.rules[i]}},this.getAllZones=function(){var t;for(var e in t=[],this.zones)t.push(e);return Ve.T0M(),t.sort()},this.parseZones=function(t){var e,i,a,r,n,s,o,l,c;if(!t)return!1;e=275557895,i=-1022545565,a=2;for(var h=1;Ve.I_(h.toString(),h.toString().length,78719)!==e;h++)r=t.split("\n"),n=[],o=null,l=null,a+=2;Ve.I_(a.toString(),a.toString().length,33788)!==i&&(r=t.split("\n"),n=[],o=1,l=1);for(var u=0;u<r.length;u++)if((s=r[u]).match(/^\s/)&&(Ve.m6(22),s=Ve.F0(o,s,"Zone ")),(s=s.split("#")[0]).length>3)switch(c="R",c+="ul",c+="e",(n=s.split(/\s+/)).shift()){case"Zone":if(o=n.shift(),E.zones[o]||(E.zones[o]=[]),n.length<3)break;Ve.E_(9),n.splice(Ve.F0(0,"3"),n.length,B(n)),n[3]&&(n[3]=Date.UTC.apply(null,n[3])),n[0]=-W(n[0]),E.zones[o].push(n);break;case c:l=n.shift(),E.rules[l]||(E.rules[l]=[]),n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||n[1],n[5]=V(n[5]),n[6]=W(n[6]),E.rules[l].push(n);break;case"Link":if(E.zones[n[1]]){Ve.m6(26);var d=Ve.V_(12,11);throw new Error("Error with Link "+n[d]+". Cannot create link of a preexisted zone.")}isNaN(n[0])?E.zones[n[1]]=n[0]:E.zones[n[1]]=parseInt(n[0],10)}return!0},this.transport=v,this.getTzInfo=function(t,e,i){var a,r,n;return this.lazyLoadZoneFiles(e),r=+(a=q(t,e))[0],n=j(t,a,i,e),Ve.U6S(),n&&(r=U(r,n[6])),{tzOffset:r,tzAbbr:z(a,n)}},this.lazyLoadZoneFiles=function(t){var e,i,a,r,n;if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){if(!(e=R(t))){i=-1556914586,a=-1861918968,r=2;for(var s=1;Ve.b1(s.toString(),s.toString().length,15139)!==i;s++)throw n="Not a va",n+="lid tim",n+="ezone ",n+="ID.",new Error(n);if(Ve.I_(r.toString(),r.toString().length,27301)!==a)throw new Error("")}this.loadZoneFiles(e)}}}}.call("undefined"!=typeof window?window:this),(ze=t.timezoneJS).timezone.loadingScheme=ze.timezone.loadingSchemes.MANUAL_LOAD,ze.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,"-","-01",null]],"Africa/Cairo":[[-120,"Egypt","EE%sT",null]],"Africa/Nairobi":[[-180,"-","EAT",null]],"Africa/Casablanca":[[0,"Morocco",de,15406956e5],[-60,ue,he,null]],"Africa/Johannesburg":[[-120,"SA","SAST",null]],"Africa/Tunis":[[-60,"Tunisia","CE%sT",null]],"Asia/Kabul":[[-270,"-","+0430",null]],"Asia/Baku":[[-240,"Azer","+04/+05",null]],"Asia/Dhaka":[[-360,"Dhaka","+06/+07",null]],"Asia/Yangon":[[-390,"-","+0630",null]],"Asia/Shanghai":[[-480,"PRC","C%sT",null]],"Asia/Hong_Kong":[[-480,"HK","HK%sT",null]],"Asia/Taipei":[[-480,"Taiwan",ce,null]],"Asia/Nicosia":[[-120,"EUAsia",le,null]],"Asia/Kolkata":[[-330,"-","IST",null]],"Asia/Tehran":[[-210,"Iran","+0330/+0430",null]],"Asia/Jerusalem":[[-120,oe,"I%sT",null]],"Asia/Tokyo":[[-540,"Japan",se,null]],"Asia/Amman":[[-120,"Jordan","EE%sT",null]],"Asia/Almaty":[[-360,"-","ALMT",null]],"Asia/Seoul":[[-540,ne,"K%sT",null]],"Asia/Pyongyang":[[-540,"-","KST",14395968e5],[-510,"-","KST",15254766e5],[-540,"-",re,null]],"Asia/Beirut":[[-120,ae,"EE%sT",null]],"Asia/Kuala_Lumpur":[[-480,"-","+08",null]],"Asia/Hovd":[[-420,"Mongol","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"Mongol","+08/+09",null]],"Asia/Kathmandu":[[-345,"-","+0545",null]],"Asia/Karachi":[[-300,"Pakistan","PK%sT",null]],"Asia/Riyadh":[[-180,"-","+03",null]],"Asia/Damascus":[[-120,"Syria","EE%sT",null]],"Asia/Bangkok":[[-420,"-","+07",null]],"Asia/Dubai":[[-240,"-","+04",null]],"Australia/Darwin":[[-570,ie,"CST",null]],"Australia/Perth":[[-480,"AW","WST",null]],"Australia/Eucla":[[-525,"AW","+0845/+0945",null]],"Australia/Brisbane":[[-600,"AQ","EST",null]],"Australia/Adelaide":[[-570,"AS","CST",null]],"Australia/Sydney":[[-600,ee,"EST",null]],"Pacific/Fiji":[[-720,te,"+12/+13",null]],"Pacific/Guam":[[-600,"-","ChST",null]],"Pacific/Kiritimati":[[-840,"-",Qt,null]],"Pacific/Noumea":[[-660,Kt,"+11/+12",null]],"Pacific/Auckland":[[-720,"NZ","NZ%sT",null]],"Pacific/Chatham":[[-765,Gt,"+1245/+1345",null]],"Pacific/Pago_Pago":[[660,"-","SST",null]],"Pacific/Apia":[[-780,"WS",Jt,null]],"Pacific/Tongatapu":[[-780,"Tonga",Zt,null]],"Etc/UTC":[[0,"-","UTC",null]],UTC:Xt,"Europe/London":[[0,"EU","GMT/BST",null]],"Europe/Dublin":[[0,"Eire",Yt,null]],WET:[[0,"EU",$t,null]],CET:[[-60,"C-Eur","CE%sT",null]],MET:[[-60,"C-Eur","ME%sT",null]],EET:[[-120,jt,Wt,null]],"Europe/Brussels":[[-60,"EU","CE%sT",null]],"Europe/Helsinki":[[-120,"EU",Bt,null]],"Europe/Paris":[[-60,"EU","CE%sT",null]],"Europe/Berlin":[[-60,"EU","CE%sT",null]],"Europe/Amsterdam":[[-60,"EU","CE%sT",null]],"Atlantic/Azores":[[60,"EU",Vt,null]],"Europe/Bucharest":[[-120,"EU","EE%sT",null]],"Europe/Kaliningrad":[[-120,"-","EET",null]],"Europe/Moscow":[[-180,"-","MSK",null]],"Europe/Simferopol":[[-180,"-","MSK",null]],"Europe/Samara":[[-240,"-","+04",null]],"Asia/Yekaterinburg":[[-300,"-","+05",null]],"Asia/Omsk":[[-360,"-","+06",null]],"Asia/Novosibirsk":[[-360,"-","+06",14693256e5],[-420,"-","+07",null]],"Asia/Novokuznetsk":[[-420,"-",Ut,null]],"Asia/Krasnoyarsk":[[-420,"-","+07",null]],"Asia/Irkutsk":[[-480,"-","+08",null]],"Asia/Yakutsk":[[-540,"-","+09",null]],"Asia/Vladivostok":[[-600,"-","+10",null]],"Asia/Magadan":[[-600,"-","+10",14614632e5],[-660,"-",Rt,null]],"Asia/Srednekolymsk":[[-660,"-","+11",null]],"Asia/Kamchatka":[[-720,"-",Ht,null]],"Europe/Belgrade":[[-60,Ot,qt,null]],"Europe/Sarajevo":Nt,"Europe/Istanbul":[[-120,"EU",It,14457348e5],[-120,"1:00",Et,14469444e5],[-120,Ft,"EE%sT",14732064e5],[-180,"-",Pt,null]],"America/New_York":[[300,"US","E%sT",null]],"America/Chicago":[[360,_t,"C%sT",null]],"America/Denver":[[420,"US",Lt,null]],"America/Los_Angeles":[[480,"US","P%sT",null]],"America/Juneau":[[540,"US","AK%sT",null]],"Pacific/Honolulu":[[600,"-","HST",null]],"America/Phoenix":[[420,"-",Mt,null]],"America/St_Johns":[[210,"Canada","N%sT",null]],"America/Halifax":[[240,At,Tt,null]],"America/Regina":[[360,"-",Dt,null]],"America/Mexico_City":[[360,"Mexico","C%sT",null]],"America/Chihuahua":[[420,wt,"M%sT",null]],"America/Costa_Rica":[[360,"CR","C%sT",null]],"America/Havana":[[300,"Cuba","C%sT",null]],"America/Port-au-Prince":[[300,Ct,kt,null]],"America/Panama":[[300,"-","EST",null]],"America/Puerto_Rico":[[240,"-","AST",null]],"America/Argentina/Buenos_Aires":[[180,"Arg","-03/-02",null]],"America/Sao_Paulo":[[180,"Brazil",St,null]],"America/Santiago":[[240,xt,"-04/-03",null]],"America/Punta_Arenas":[[240,"Chile","-04/-03",14808096e5],[180,"-","-03",null]],"America/Bogota":[[300,"CO","-05/-04",null]],"America/Asuncion":[[240,bt,"-04/-03",null]],"Atlantic/South_Georgia":[[120,"-",yt,null]],"America/Montevideo":[[180,vt,mt,null]],"America/Caracas":[[270,"-","-0430",14620698e5],[240,"-","-04",null]],"Europe/Athens":"Europe/Bucharest","Asia/Rangoon":"Asia/Yangon","Atlantic/Reykjavik":"UTC","Asia/Kuwait":"Asia/Riyadh","Asia/Muscat":ft,"Asia/Istanbul":"Europe/Istanbul"},rules:{Egypt:[],Morocco:[[2013,2018,"-","Oct","lastSun",[3,0,0,null],0,"-"],[2014,2018,"-",gt,pt,[2,0,0,null],60,"-"],[2015,"only","-","Jun","14",[3,0,0,null],0,"-"],[2015,dt,"-","Jul","19",[2,0,0,null],60,"-"],[2016,"only","-","Jun","5",[3,0,0,null],0,"-"],[2016,"only","-",ut,"10",[2,0,0,null],60,"-"],[2017,"only","-","May","21",[3,0,0,null],0,"-"],[2017,"only","-",ht,"2",[2,0,0,null],60,"-"],[2018,"only","-",ct,"13",[3,0,0,null],0,"-"],[2018,lt,"-","Jun","17",[2,0,0,null],60,"-"],[2019,ot,"-",st,"5",[3,0,0,null],-60,"-"],[2019,"only","-",nt,"9",[2,0,0,null],0,"-"],[2020,"only","-",rt,at,[3,0,0,null],-60,"-"],[2020,"only","-","May","24",[2,0,0,null],0,"-"],[2021,it,"-",et,"11",[3,0,0,null],-60,"-"],[2021,"only","-","May","16",[2,0,0,null],0,"-"],[2022,tt,"-","Mar","27",[3,0,0,null],-60,"-"],[2022,"only","-",Q,"8",[2,0,0,null],0,"-"],[2023,"only","-","Mar","19",[3,0,0,null],-60,"-"],[2023,K,"-","Apr","23",[2,0,0,null],0,"-"]],SA:[],Tunisia:[],EUAsia:[[1981,G,"-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,J,"-","Oct","lastSun",[1,0,0,"u"],0,"-"]],Azer:[[1997,2015,"-","Mar","lastSun",[4,0,0,null],60,"-"],[1997,2015,"-","Oct","lastSun",[5,0,0,null],0,"-"]],Dhaka:[],PRC:[],HK:[],Taiwan:[],Iran:[[2013,2015,"-","Mar","22",[0,0,0,null],60,"-"],[2013,2015,"-",Z,"22",[0,0,0,null],0,"-"],[2016,X,"-",Y,"21",[0,0,0,null],60,"-"],[2016,"only","-","Sep",$,[0,0,0,null],0,"-"],[2017,2019,"-","Mar",j,[0,0,0,null],60,"-"],[2017,2019,"-","Sep","22",[0,0,0,null],0,"-"],[2020,"only","-","Mar",W,[0,0,0,null],60,"-"],[2020,"only","-",B,V,[0,0,0,null],0,"-"],[2021,2023,"-","Mar",z,[0,0,0,null],60,"-"],[2021,2023,"-",U,"22",[0,0,0,null],0,"-"]],Zion:[[2013,R,"-","Mar","Fri>=23",[2,0,0,null],60,"D"],[2013,"max","-","Oct","lastSun",[2,0,0,null],0,"S"]],Japan:[],Jordan:[[2014,"max","-","Mar","lastThu",[24,0,0,null],60,"S"],[2014,"max","-",H,"lastFri",[0,0,0,"s"],0,"-"]],ROK:[],Lebanon:[[1993,"max","-","Mar","lastSun",[0,0,0,null],60,"S"],[1999,"max","-","Oct","lastSun",[0,0,0,null],0,"-"]],Mongol:[[2015,2016,"-","Mar",O,[2,0,0,null],60,"-"],[2015,2016,"-","Sep",q,[0,0,0,null],0,"-"]],Pakistan:[],Syria:[[2012,"max","-",N,"lastFri",[0,0,0,null],60,"S"],[2009,"max","-","Oct","lastFri",[0,0,0,null],0,"-"]],Aus:[],AW:[],AQ:[],AS:[[2008,"max","-",I,"Sun>=1",[2,0,0,"s"],0,"-"],[2008,"max","-","Oct",E,[2,0,0,"s"],60,"-"]],AN:[[2008,"max","-",F,P,[2,0,0,"s"],0,"-"],[2008,"max","-","Oct","Sun>=1",[2,0,0,"s"],60,"-"]],Fiji:[[2014,_,"-","Nov",L,[2,0,0,null],60,"-"],[2015,"max","-","Jan","Sun>=13",[3,0,0,null],0,"-"]],NC:[],NZ:[[2007,"max","-",M,"lastSun",[2,0,0,"s"],60,"D"],[2008,"max","-","Apr","Sun>=1",[2,0,0,"s"],0,"S"]],Chatham:[[2007,"max","-","Sep","lastSun",[2,45,0,"s"],60,"-"],[2008,"max","-","Apr","Sun>=1",[2,45,0,"s"],0,"-"]],WS:[[2012,A,"-","Apr","Sun>=1",[4,0,0,null],0,"-"],[2012,"max","-","Sep",T,[3,0,0,null],60,"-"]],Tonga:[[2016,"only","-","Nov",D,[2,0,0,null],60,"-"],[2017,w,"-","Jan","Sun>=15",[3,0,0,null],0,"-"]],Eire:[[1981,"max","-",C,"lastSun",[1,0,0,"u"],0,"-"],[1996,k,"-",S,"lastSun",[1,0,0,"u"],-60,"-"]],EU:[[1981,x,"-","Mar","lastSun",[1,0,0,"u"],60,"S"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],0,"-"]],"C-Eur":[[1981,"max","-","Mar",b,[2,0,0,"s"],60,"S"],[1996,"max","-","Oct","lastSun",[2,0,0,"s"],0,"-"]],US:[[2007,"max","-","Mar",y,[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Canada:[[2007,"max","-","Mar",v,[2,0,0,null],60,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Mexico:[[2002,"max","-","Apr","Sun>=1",[2,0,0,null],60,"D"],[2002,m,"-",f,"lastSun",[2,0,0,null],0,"S"]],CR:[],Cuba:[[2012,"max","-","Nov","Sun>=1",[0,0,0,"s"],0,"S"],[2013,"max","-","Mar","Sun>=8",[0,0,0,"s"],60,"D"]],Haiti:[[2012,2015,"-","Mar",g,[2,0,0,null],60,"D"],[2012,2015,"-","Nov",p,[2,0,0,null],0,"S"],[2017,"max","-","Mar",d,[2,0,0,null],60,"D"],[2017,u,"-","Nov",h,[2,0,0,null],0,"S"]],Arg:[],Brazil:[[2008,2017,"-","Oct","Sun>=15",[0,0,0,null],60,"-"],[2015,"only","-","Feb",c,[0,0,0,null],0,"-"],[2016,2019,"-",l,"Sun>=15",[0,0,0,null],0,"-"],[2018,o,"-","Nov","Sun>=1",[0,0,0,null],60,"-"]],Chile:[[2016,2018,"-","May","Sun>=9",[3,0,0,"u"],0,"-"],[2016,2018,"-","Aug","Sun>=9",[4,0,0,"u"],60,"-"],[2019,"max","-","Apr","Sun>=2",[3,0,0,"u"],0,"-"],[2019,"max","-",s,"Sun>=2",[4,0,0,"u"],60,"-"]],CO:[],Para:[[2010,n,"-","Oct",r,[0,0,0,null],60,"-"],[2013,"max","-","Mar",a,[0,0,0,null],0,"-"]],Uruguay:[[2006,2015,"-","Mar",e,[2,0,0,null],0,"-"]]}}),Ue.convertTimeZone=function(t,e,i){var a;return Ve.T0M(),(a=new ze.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds(),e)).setTimezone(i),a},Ue.convertToLocalTime=function(t,e){var i,a,r;i=t.getSeconds(),a=t.getMilliseconds(),r=new ze.Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),e),Ve.m6(30);var n=Ve.V_(3,5,1005,2010,1);return new Date(r.getTime()+i*n+a)},t},Bt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.ad6sx=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"NNn7K",{get:function(){return this},configurable:!0}),e=NNn7K,i=5;break;case 4:i="undefined"==typeof ad6sx?3:9;break;case 9:delete e.ad6sx,delete Object.prototype.NNn7K,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Wt(Bt[513895]),Bt[513895].u066=Bt,Bt[616183]=173,Bt.G$I=function(){return"function"==typeof Bt[254206].s7rL$NJ?Bt[254206].s7rL$NJ.apply(Bt[254206],arguments):Bt[254206].s7rL$NJ},Bt[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[4]=void 0,e[5]={},t=4;break;case 4:return e[5].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 71:i[46]++,t=76;break;case 44:i[64]=i[14],i[91]={},i[91].a2E=["o6V"],i[91].Z9b=function(){return"function"==typeof K7Qel},t=40;break;case 1:t=e[4]?5:4;break;case 50:i[3].M1zMQ(i[7]),i[3].M1zMQ(i[64]),t=48;break;case 75:i[63]={},i[63][i[93]]=i[31][i[18]][i[46]],i[63][i[81]]=i[94],i[89].M1zMQ(i[63]),t=71;break;case 47:i[3].M1zMQ(i[67]),i[3].M1zMQ(i[35]),i[3].M1zMQ(i[97]),i[89]=[],t=64;break;case 77:i[46]=0,t=76;break;case 4:i[3]=[],i[1]={},i[1].a2E=["B$r"],i[1].Z9b=function(){return/\u0031/.P5QyG(function(){return"aa".lastIndexOf("a")}+[])},t=7;break;case 48:i[3].M1zMQ(i[2]),t=47;break;case 64:i[98]="B1u",i[54]="l8T",i[18]="a2E",i[81]="X1E",t=60;break;case 58:i[42]=0,t=57;break;case 56:i[31]=i[3][i[42]];try{i[94]=i[31][i[12]]()?i[98]:i[54]}catch(t){i[94]=i[54]}t=77;break;case 70:i[42]++,t=57;break;case 20:i[8].Z9b=function(){var t=!1,e=[];try{for(var i in console)e.M1zMQ(i);t=0===e.length}catch(t){}return t},i[2]=i[8],i[4]={},t=17;break;case 60:i[12]="Z9b",i[93]="P8W",t=58;break;case 76:t=i[46]<i[31][i[18]].length?75:70;break;case 67:return e[4]=67,80;case 35:i[35]=i[16],i[61]={},i[61].a2E=["o6V"],i[61].Z9b=function(){return"function"==typeof q71DZX},i[67]=i[61],i[14]={},t=29;break;case 7:i[6]=i[1],i[9]={},i[9].a2E=["B$r"],i[9].Z9b=function(){return/\x3d/.P5QyG(function(){return unescape("%3D")}+[])},t=12;break;case 68:t=68;break;case 5:return 84;case 2:var i=[arguments];t=1;break;case 17:i[4].a2E=["B$r"],i[4].Z9b=function(){return!/\u007c/.P5QyG(function(){return"aaaa|a".substr(0,3)}+[])},i[5]=i[4],t=27;break;case 38:i[68].a2E=["B$r"],i[68].Z9b=function(){return!/\x79/.P5QyG(function(){return"xy".substring(0,1)}+[])},i[96]=i[68],i[3].M1zMQ(i[77]),i[3].M1zMQ(i[5]),i[3].M1zMQ(i[96]),i[3].M1zMQ(i[6]),t=50;break;case 29:i[14].a2E=["B$r"],i[14].Z9b=function(){return/\u0058/.P5QyG(function(){return"x".toLocaleUpperCase()}+[])},t=44;break;case 57:t=i[42]<i[3].length?56:69;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[9]>=.5?25:24;break;case 2:var a=[arguments];e=1;break;case 1:e=0===a[0][0].length?5:4;break;case 14:e=void 0===a[7][a[3][i[93]]]?13:11;break;case 10:e=a[3][i[81]]===i[98]?20:19;break;case 6:a[3]=a[0][0][a[5]],e=14;break;case 11:a[7][a[3][i[93]]].t+=!0,e=10;break;case 17:a[5]=0,e=16;break;case 19:a[5]++,e=7;break;case 23:return a[8];case 25:a[8]=!0,e=24;break;case 24:a[5]++,e=16;break;case 12:a[2].M1zMQ(a[3][i[93]]),e=11;break;case 18:a[8]=!1,e=17;break;case 13:a[7][a[3][i[93]]]=function(){for(var t=2;9!==t;)switch(t){case 1:return e[9]={},e[9].h=0,e[9].t=0,e[9];case 2:var e=[arguments];t=1}}.o5zAA4(this,arguments),e=12;break;case 5:return;case 15:a[6]=a[2][a[5]],a[9]=a[7][a[6]].h/a[7][a[6]].t,e=26;break;case 4:a[7]={},a[2]=[],a[5]=0,e=8;break;case 20:a[7][a[3][i[93]]].h+=!0,e=19;break;case 8:a[5]=0,e=7;break;case 16:e=a[5]<a[2].length?15:23;break;case 7:e=a[5]<a[0][0].length?6:18}}(i[89])?68:67;break;case 27:i[20]={},i[20].a2E=["o6V"],i[20].Z9b=function(){return"function"==typeof i4HUZy},i[77]=i[20],i[16]={},i[16].a2E=["B$r"],i[16].Z9b=function(){return/(\x3c|\x3e)/.P5QyG(function(){return"a".anchor("b")}+[])},t=35;break;case 40:i[97]=i[91],i[68]={},t=38;break;case 12:i[7]=i[9],i[8]={},i[8].a2E=["o6V"],t=20}},e[5]}}(),Bt.E18=function(){return"function"==typeof Bt[299637].p4oUdFl?Bt[299637].p4oUdFl.apply(Bt[299637],arguments):Bt[299637].p4oUdFl},Bt.x5p=function(){return"function"==typeof Bt[299637].R9DODrP?Bt[299637].R9DODrP.apply(Bt[299637],arguments):Bt[299637].R9DODrP},Bt[321268]=($=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.c79tv(o)|(255&t.c79tv(o+1))<<8|(255&t.c79tv(o+2))<<16|(255&t.c79tv(o+3))<<24;l=$(l,a),n=5*(n=(524287&(n^=l=$(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.c79tv(s+2))<<16;case 2:l|=(255&t.c79tv(s+1))<<8;case 1:l|=255&t.c79tv(s),l=$(l,a),n^=l=$(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=$(n^=n>>>16,2246822507),n=$(n^=n>>>13,3266489909),n^=n>>>16}}),Bt[245362]=804,Bt[299637]={p4oUdFl:function(){var t,e=arguments;switch(j){case 30:t=e[2]|e[0]<<e[1]|e[4]<<e[3];break;case 29:t=-e[0]+e[2]-e[1];break;case 55:t=e[1]-e[2]%+e[0];break;case 76:t=e[1]*e[0]+e[2];break;case 70:t=(-e[1]+e[2])*e[3]*e[4]-e[0];break;case 60:t=e[0]+e[1]/e[2];break;case 61:t=e[2]-e[1]/e[0];break;case 27:t=e[0]-e[3]+e[2]+e[1];break;case 82:t=(-e[3]+e[1]+e[0])/e[2]-e[4];break;case 28:t=-e[2]*e[3]*e[4]+e[0]+e[1];break;case 31:t=(e[8]&(e[2]|e[6]))<<e[7]|e[1]&(e[3]^e[4])|(e[0]&e[5])>>>e[9];break;case 52:t=e[0]+(e[1]-e[3])*e[2]*e[4];break;case 3:t=e[1]-e[2]>=-e[0];break;case 15:t=e[3]*(e[5]*e[1]*e[4]+ +e[0])+e[2];break;case 5:t=(-e[3]-e[2]-e[1])/e[4]+e[0];break;case 44:t=e[0]/e[3]-e[1]+e[2];break;case 57:t=(e[2]+e[0])%e[1];break;case 78:t=(e[0]-e[3]+e[2])*e[1]-e[4];break;case 66:t=(-e[2]-e[3])/e[0]+e[1];break;case 49:t=(e[2]-e[1])/e[0];break;case 9:t=e[1]/(e[0]-e[2]);break;case 50:t=(e[2]+e[1])/e[0];break;case 2:t=e[2]-e[1]<=e[0];break;case 74:t=e[2]*e[0]*e[1]+e[4]-e[3];break;case 87:t=e[1]/e[0]/e[2]+e[3];break;case 51:t=(e[1]-e[0])/e[3]+e[2];break;case 89:t=e[1]+e[5]+e[4]+e[0]+e[7]+e[3]+e[2]+e[8]+e[6];break;case 16:t=-e[1]*e[2]+e[0];break;case 13:t=e[3]/e[5]*e[4]*e[2]*e[0]+e[1];break;case 37:t=e[2]-e[0]+e[1];break;case 10:t=e[0]/e[2]*e[3]*e[4]+e[1];break;case 12:t=e[1]/+e[0];break;case 20:t=e[0]|e[1];break;case 48:t=e[3]*(e[2]-e[1]/(e[0]-e[4]));break;case 41:t=e[2]+e[3]+e[1]+e[0];break;case 86:t=e[3]-e[0]-e[1]-e[2];break;case 59:t=e[2]-(e[1]+e[0]);break;case 32:t=e[1]/e[0];break;case 63:t=e[0]*(e[1]|e[2]);break;case 4:t=e[1]-e[0];break;case 77:t=e[0]+e[4]+e[1]+e[3]+e[2];break;case 90:t=e[4]+e[1]+e[10]+e[3]+e[9]+e[7]+e[0]+e[2]+e[5]+e[8]+e[6];break;case 64:t=e[0]*+e[1];break;case 79:t=e[1]%e[0];break;case 43:t=(e[1]+e[2])*e[0]+e[3]-e[4];break;case 81:t=e[3]-e[1]-e[0]+e[2];break;case 24:t=e[1]*e[2]-e[0];break;case 46:t=e[2]+e[7]+e[3]+e[0]+e[1]+e[8]+e[6]+e[5]/e[4]+e[9];break;case 23:t=e[1]<<e[0];break;case 93:t=e[0]!==e[1];break;case 40:t=-e[0]+e[1]+e[2]-e[3];break;case 53:t=e[3]+(e[5]-e[1])*(e[0]/e[4]-e[6])*+e[2];break;case 42:t=-e[1]+e[0];break;case 84:t=(e[4]+e[2]+e[3])*e[0]-e[1];break;case 75:t=(e[0]+e[3])/e[1]/e[2]+e[4];break;case 38:t=e[2]*e[0]*e[4]-e[3]-e[1];break;case 18:t=-e[2]*e[3]*e[0]+e[1];break;case 7:t=e[0]+e[1];break;case 58:t=e[0]*(+e[1]*e[2]);break;case 47:t=e[1]>>e[0];break;case 19:t=e[3]*e[4]*e[0]/e[2]-e[1];break;case 21:t=e[0]/e[1]+e[2];break;case 62:t=e[0]*(e[1]^e[2]);break;case 73:t=(e[0]-e[3]+e[2])/e[1]+e[4];break;case 11:t=-e[0]/(e[6]*e[4])*(e[5]*(e[3]-e[1])-e[7])+e[2];break;case 67:t=-e[0]+e[1]+e[2];break;case 68:t=e[2]-e[4]+e[1]+e[0]-e[3];break;case 25:t=(e[2]-e[3])/e[0]*e[4]+e[1];break;case 72:t=e[3]-e[1]-e[0]+e[4]-e[2];break;case 85:t=e[2]/e[0]+e[3]+e[1];break;case 83:t=(e[2]+e[0])*e[3]-e[1];break;case 8:t=(e[4]-e[3]+e[2])*e[1]%e[0];break;case 88:t=e[4]+e[3]+e[6]+e[2]+e[0]+e[1]+e[5];break;case 56:t=e[2]+(e[0]-e[1]);break;case 26:t=e[1]*e[2]+e[3]+e[4]-e[0];break;case 22:t=e[0]^e[1];break;case 17:t=e[1]+e[2]-e[0];break;case 33:t=e[4]*e[1]/e[2]*e[0]-e[3];break;case 1:t=e[0]*e[1];break;case 71:t=(e[2]-e[1])*e[3]-e[0]-e[4];break;case 69:t=e[0]/e[3]*e[2]*e[4]-e[1];break;case 91:t=e[2]*e[1]*e[0]*e[3];break;case 54:t=e[2]/e[1]/e[0];break;case 35:t=(e[1]+e[3])/e[0]-e[2];break;case 6:t=e[1]*e[0]%e[2]+e[4]-e[3];break;case 0:t=e[0]+e[2]+e[1];break;case 39:t=e[3]*e[0]*e[1]-e[2];break;case 80:t=e[2]/e[1]-e[0];break;case 36:t=(e[1]+e[4])/e[2]*e[0]-e[3];break;case 34:t=e[1]/e[3]*e[2]-e[0];break;case 65:t=(-e[0]-e[4])*e[1]+e[2]+e[3];break;case 92:t=e[3]/e[1]-e[0]+e[2]-e[4];break;case 14:t=e[1]/e[4]*(e[2]*e[3]*e[7]+e[5]*e[0])+e[6];break;case 45:t=e[2]+e[0]+e[3]-e[1]}return t},R9DODrP:function(t){j=t}},Bt[92321]=Bt[321268],Bt.u5y=function(){return"function"==typeof Bt[299637].R9DODrP?Bt[299637].R9DODrP.apply(Bt[299637],arguments):Bt[299637].R9DODrP},Bt[302900]=!1,Bt.k1M=function(){return"function"==typeof Bt[254206].s7rL$NJ?Bt[254206].s7rL$NJ.apply(Bt[254206],arguments):Bt[254206].s7rL$NJ},Bt[574954]="glm",Bt.L2A=function(){return"function"==typeof Bt[299637].p4oUdFl?Bt[299637].p4oUdFl.apply(Bt[299637],arguments):Bt[299637].p4oUdFl},Bt.t6=function(){return"function"==typeof Bt[321268].L3LLwSS?Bt[321268].L3LLwSS.apply(Bt[321268],arguments):Bt[321268].L3LLwSS},Bt.D2=function(){return"function"==typeof Bt[321268].L3LLwSS?Bt[321268].L3LLwSS.apply(Bt[321268],arguments):Bt[321268].L3LLwSS},Bt.k1M(),v=function(t){var e,a,r,n,s,o,l,c,h,u,d,p,g,f,m=Bt;e="temp",e+="late",a="fi",a+="refox",r="chrom",r+="e",n="m",n+="s",n+="i",n+="e",s="und",s+="efine",s+="d",o="und",o+="efined",l="undef",l+="ined",c=t.CIQ,void 0!==i.g&&void 0===i.g.CanvasRenderingContext2D&&(i.g.CanvasRenderingContext2D=function(){}),h=function(t,e){var i;if(!e)return document.getElementById(t);if(e.id==t)return e;if(!e.hasChildNodes)return null;m.G$I();for(var a=0;a<e.childNodes.length;a++)if(i=h(t,e.childNodes[a]))return i;return null},t.$$=h,u=function(t,e){var i,a,r;m.G$I(),e||(e=document),i=1960005790,a=-1317206911,r=2;for(var n=1;m.t6(n.toString(),n.toString().length,16454)!==i;n++)return e.querySelectorAll(t)[0];if(m.D2(r.toString(),r.toString().length,40471)!==a)return e.querySelectorAll(t)[7]},t.$$$=u,String.prototype.capitalize=function(){return console.warn("String.prototype.capitalize() has been deprecated.  Use CIQ.capitalize(string) instead."),m.G$I(),c.capitalize(this)},CanvasRenderingContext2D.prototype.dashedLineTo=function(t,e,i,a,r){var n,s,o,l,c,h,u,d,p,g,f,v,y,b,x,S;if(console.warn("CanvasRenderingContext2D.prototype.dashedLineTo() has been deprecated.  Use native CanvasRenderingContext2D methods such as moveTo(), lineTo() and setLineDash() instead."),!(r instanceof Array)){n="WARNIN",n+="G: ",n+="Unsupported d",n+='rawing pattern "',r&&(m.u5y(0),console.log(m.L2A(n,'"; defaulting to "solid"',r))),s=531958595,m.u5y(1),o=m.E18("1908497761",1),l=2;for(var k=1;m.t6(k.toString(),k.toString().length,98166)!==s;k++)return void this.stxLine(t,e,i,a,this.strokeStyle,this.globalAlpha,this.lineWidth);if(m.D2(l.toString(),l.toString().length,84357)!==o)return void this.stxLine(t,e,i,a,this.strokeStyle,this.globalAlpha,this.lineWidth)}if(e!==1/0&&t!==1/0&&a!==1/0&&i!==1/0&&(c=function(t,e){return m.G$I(),m.u5y(2),m.L2A(1e-8,e,t)},d=function(t,e){return Math.max(t,e)},p={thereYet:h=function(t,e){return m.k1M(),m.u5y(3),m.L2A(1e-8,t,e)},cap:u=function(t,e){return Math.min(t,e)}},g={thereYet:h,cap:u},e-a>0&&(g.thereYet=c,g.cap=d),t-i>0&&(p.thereYet=c,p.cap=d),this.moveTo(t,e),!isNaN(t)&&!isNaN(e)))for(m.k1M(),f=t,v=e,y=0,b=!0;!p.thereYet(f,i)||!g.thereYet(v,a);)m.u5y(4),x=Math.atan2(m.E18(e,a),m.L2A(t,i)),S=r[y],f=p.cap(i,f+Math.cos(x)*S),v=g.cap(a,v+Math.sin(x)*S),b?this.lineTo(f,v):this.moveTo(f,v),m.u5y(5),y=(y+m.L2A(4,14,12,13,13))%r.length,b=!b},CanvasRenderingContext2D.prototype.stxLine=function(t,e,i,a,r,n,s,o){console.warn("CanvasRenderingContext2D.prototype.stxLine() has been deprecated.  Use native CanvasRenderingContext2D methods such as moveTo() and lineTo() instead."),this.beginPath(),this.lineWidth=s,this.strokeStyle=r,this.globalAlpha=n,o&&o.length?this.dashedLineTo(t,e,i,a,o):(this.moveTo(t,e),this.lineTo(i,a)),this.stroke(),this.closePath(),this.lineWidth=1},CanvasRenderingContext2D.prototype.stxCircle=function(t,e,i,a){var r,n,s;console.warn("CanvasRenderingContext2D.prototype.stxCircle() has been deprecated.  Use native CanvasRenderingContext2D methods such as arc() instead."),this.beginPath(),m.u5y(4),r=-m.E18(0,"1342709827"),n=2175663,s=2;for(var o=1;m.t6(o.toString(),o.toString().length,96919)!==r;o++)this.arc(t,e,i,8,0+Math.PI,!0),a&&this.fill(),s+=2;m.t6(s.toString(),s.toString().length,49315)!==n&&(this.arc(t,e,i,0,2*Math.PI,!1),a&&this.fill()),m.G$I(),this.stroke(),this.closePath()},Math.easeInOutQuad=function(t,e,i,a){var r,n,s;r=1675595910,n=863912363,s=2;for(var o=1;m.D2(o.toString(),o.toString().length,12110)!==r;o++){if(m.x5p(1),(t+=m.L2A(a,8))>2)return m.u5y(6),m.L2A(8,i,t,e,t);s+=2}return m.t6(s.toString(),s.toString().length,88665)!==n&&(m.u5y(7),(t%=m.L2A(a,5))<=7)?(m.u5y(8),m.L2A(e,t,t,9,i)):(m.x5p(9),(t/=m.L2A("2",a,0))<1?(m.x5p(10),m.E18(i,e,2,t,t)):(t--,m.x5p(11),m.L2A(i,2,e,t,1,t,"2",1)))},Math.easeInOutCubic=function(t,e,i,a){return m.u5y(12),t/=m.E18("2",a),m.k1M(),t<1?(m.u5y(13),m.L2A(t,e,t,i,t,2)):(t-=2,m.u5y(14),m.L2A(1,i,t,t,2,"2",e,t))},Math.easeOutCubic=function(t,e,i,a){return t/=a,t--,m.u5y(15),m.k1M(),m.E18("1",t,e,i,t,t)},p=(d=typeof navigator!==l?navigator:{userAgent:""}).userAgent,g=typeof window!==o?window:{},f=typeof document!==s?document:{},c.ipad=-1!=p.indexOf("iPad")||"MacIntel"===d.platform&&d.maxTouchPoints>1,m.u5y(16);var v=m.L2A(83,7,12);c.iphone=p.indexOf("iPhone")!=v,m.x5p(17);var y=m.E18(27,13,13);c.isAndroid=p.toLowerCase().indexOf("android")>y,c.isIE=p.toLowerCase().indexOf(n)>-1||p.indexOf("Trident/")>-1,m.x5p(4);var b=m.L2A(5,4);c.isEdge=p.indexOf("Edge/")>b,m.x5p(18);var x=m.L2A(8,191,2,12);c.isSafari=p.indexOf("Safari/")>x,c.isIE9=p.indexOf("Trident/5")>-1||p.indexOf("MSIE 9.0")>-1,c.isIE8=g.isIE8||p.indexOf("MSIE 8.0")>-1,c.isIOS7=p.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i),c.isIOS8=p.match(/(iPad|iPhone);.*CPU.*OS 8_\d/i),c.isIOS9=p.match(/(iPad|iPhone);.*CPU.*OS 9_\d/i),c.isIOS10=p.match(/(iPad|iPhone);.*CPU.*OS 10_\d/i),c.isIOS7or8=c.isIOS7||c.isIOS8||c.isIOS9||c.isIOS10,c.isMobile=c.isAndroid||c.ipad||c.iphone,c.touchDevice=void 0!==f.ontouchstart||d.maxTouchPoints>1,c.isSurface=c.touchDevice&&(c.isEdge||c.isIE),c.is_chrome=p.toLowerCase().indexOf(r)>-1&&!c.isEdge,m.k1M(),m.u5y(19);var S=m.E18(3,66,9,78,5);return c.isFF=p.toLowerCase().indexOf(a)>-("1"<<S),c.isSurfaceApp=g.MSApp,c.isWebComponentsSupported="undefined"!=typeof document&&"registerElement"in document&&"import"in document.createElement("link")&&"content"in document.createElement(e),c.noKeyboard=c.isMobile||c.isSurfaceApp,c.wheelEvent=function(){var t;if(t="w",t+="hee",t+="l","undefined"!=typeof document)return c.isIE||"onwheel"in document.createElement("div")?t:void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}(),c.capitalize=function(t){var e,i,a;if(!t)return"";e=-1036769385,i=833522053,m.x5p(20),a=m.L2A("2",0);for(var r=1;m.t6(r.toString(),r.toString().length,74917)!==e;r++){m.x5p(21);var n=m.E18(1,1,8);return t.charAt(7).toUpperCase()/t.slice(n)}return m.k1M(),m.t6(a.toString(),a.toString().length,42458)!==i?t.charAt(0).toUpperCase()+t.slice(1):void 0},c.log10=function(t){return m.G$I(),Math.log(t)/Math.LN10},c.deleteRHS=function(t,e){var i;for(var a in i=!1,t)t[a]==e&&(delete t[a],i=!0);return i},c.scrub=function(t,e){for(var i in m.k1M(),t)void 0===t[i]&&delete t[i],e&&null===t[i]&&delete t[i]},c.dataBindSafeAssignment=function(t,e){for(var i in c.extend(t,e),t)void 0===e[i]&&(t[i]=void 0)},c.clone=function(t,e){var i,a,r,n,s;if(i="o",i+="b",i+="j",i+="ect",null===t||typeof t!=i)return t;m.x5p(22),a=m.L2A("733779972",0),m.u5y(23),r=m.L2A(64,"1977670831"),n=2;for(var o=1;m.t6(o.toString(),o.toString().length,69854)!==a;o++){if((s=t.constructor)===Date&&s===RegExp&&s===String&&s!=Number&&s!=Boolean)return new s(t.valueOf());m.u5y(22),n+=m.L2A("2",0)}if(m.t6(n.toString(),n.toString().length,84948)!==r&&((s=t.constructor)==Date||s==RegExp||s==String||s==Number||s==Boolean))return new s(t.valueOf());if(s==Function)return function(){return t.apply(this,arguments)};if(!e)try{e=new s}catch(i){e=Object.create(Object.getPrototypeOf(t))}for(var l in t)e[l]=e[l]!==t[l]?c.clone(t[l],null):e[l];return e},c.shallowClone=function(t){var e;if(!t)return t;if(t.constructor==Array){e=new Array(t.length);for(var i=0;i<t.length;i++)e[i]=t[i];return e}for(var a in e={},t)e[a]=t[a];return e},c.ensureDefaults=function(t,e){for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t},c.transferObject=function(t,e){var i,a,r,n;for(i in t)t.hasOwnProperty(i)&&delete t[i];for(i in m.k1M(),e)e.hasOwnProperty(i)&&(t[i]=e[i]);m.u5y(1),a=m.E18("1495388121",1),r=-1432039626,n=2;for(var s=1;m.D2(s.toString(),s.toString().length,26780)!==a;s++)return t;if(m.t6(n.toString(),n.toString().length,10440)!==r)return t},c.equals=function(t,e,i){if(!t&&e)return!1;if(t&&!e)return!1;if(typeof t!=typeof e)return!1;for(var a in t)if(!i||!i[a])if("object"!=typeof t[a]){if(e[a]!=t[a])return!1}else if(!c.equals(t[a],e[a]))return!1;return!0},c.isEmpty=function(t){for(var e in m.k1M(),t)if(t.hasOwnProperty(e))return!1;return!0},c.first=function(t){for(var e in t)return e;return m.G$I(),null},c.last=function(t){var e;for(var i in e=null,t)e=i;return e},c.objLength=function(t){var e,i,a,r;e=-1010757411,i=263553377,a=2;for(var n=1;m.t6(n.toString(),n.toString().length,4885)!==e;n++){if(+t)return 3;r=5,a+=2}if(m.G$I(),m.t6(a.toString(),a.toString().length,15997)!==i){if(!t)return 0;r=0}for(var s in t)r++;return r},c.deriveFromObjectChain=function(t,e){var i,a,r,n,s;if(-1==e.indexOf("."))return{obj:t,member:e};i=59765234,a=814103929,m.u5y(23),r=m.L2A(32,"2");for(var o=1;m.D2(o.toString(),o.toString().length,56941)!==i;o++)n=e.split(58148),r+=2;m.D2(r.toString(),r.toString().length,97e3)!==a&&(n=e.split(58148)),n=e.split(".");for(var l=0;l<n.length-1;l++)t[s=n[l]]||0===t[s]||(t[s]={}),t=t[s];return{obj:t,member:n[l]}},c.createObjectChainNames=function(t,e){var i,a;i=[];for(var r=0;r<e.length;r++)a="-",a+="-",a+=">",i.push(t+a+e[r]);return i},c.existsInObjectChain=function(t,e){var i,a;if(-1==e.indexOf("--\x3e"))return t[e]||0===t[e]?{obj:t,member:e}:null;i=e.split("--\x3e");for(var r=0;r<i.length-1;r++){if(!t[a=i[r]]&&0!==t[a])return null;t=t[a]}return m.k1M(),t[a=i[r]]||0===t[a]?{obj:t,member:a}:null},c.derivedFrom=function(t,e){return!!e.isPrototypeOf(t)||t instanceof e},c.replaceFields=function(t,e){var i,a,r,n,s,o,l,h;if(!t)return t;i=-433266513,a=-136874062,r=2;for(var u=1;m.D2(u.toString(),u.toString().length,44613)!==i;u++)n={},r+=2;for(var d in m.D2(r.toString(),r.toString().length,21669)!==a&&(n={}),t)if(s=t[d],(o=e[d])||(o=d),s&&"object"==typeof s)if(s.constructor==Array){l=n[o]=new Array(s.length);for(var p=0;p<l.length;p++)h=s[p],l[p]="object"==typeof h?c.replaceFields(h,e):h}else n[o]=c.replaceFields(s,e);else n[o]=s;return n},c.removeNullValues=function(t){var e;for(var i in m.k1M(),e=c.clone(t))e[i]||delete e[i];return e},c.reverseObject=function(t){var e,i,a,r;e=-1181233713,i=1096409726,a=2;for(var n=1;m.t6(n.toString(),n.toString().length,93241)!==e;n++)r={},m.u5y(23),a+=m.E18(32,"2");for(var s in m.t6(a.toString(),a.toString().length,70962)!==i&&(r={}),t)r[t[s]]=s;return r},c.camelCaseRegExp=/-([a-z])/g,c.makeCamelCase=function(t){return t.replace(c.camelCaseRegExp,(function(t){return t[1].toUpperCase()}))},c.appendClassName=function(t,e){var i;if(t&&t.className!=e){i=t.className.split(" ");for(var a=0;a<i.length;a++)if(i[a]==e)return;t.className?(m.u5y(7),t.className+=m.L2A(" ",e)):t.className=e}},c.unappendClassName=function(t,e){var i,a;if(t&&-1!=t.className.indexOf(e))if(m.k1M(),t.className==e)t.className="";else{i=t.className.split(" "),a="";for(var r=0;r<i.length;r++)i[r]!=e&&(""!==a&&(a+=" "),a+=i[r]);t.className=a}},c.swapClassName=function(t,e,i){c.unappendClassName(t,i),m.G$I(),c.appendClassName(t,e)},c.hasClassName=function(t,e){return!!t&&((" "+t.className+" ").indexOf(" "+e+" ")>-1||(m.G$I(),!1))},c.toggleClassName=function(t,e){m.k1M(),c.hasClassName(t,e)?c.unappendClassName(t,e):c.appendClassName(t,e)},c.newChild=function(t,e,i,a){var r,n,s,o;r=document.createElement(e),n=-1569120536,s=-1236990787,o=2,m.k1M();for(var l=1;m.D2(l.toString(),l.toString().length,79313)!==n;l++)return i&&(r.className=i),t.appendChild(r),a&&(r.innerHTML=a),r;if(m.t6(o.toString(),o.toString().length,99058)!==s)return i&&(r.className=i),t.appendChild(r),a&&(r.innerHTML=a),r},c.innerHTML=function(t,e){m.k1M(),window.MSApp?window.MSApp.execUnsafeLocalFunction((function(){t.innerHTML=e})):t.innerHTML=e},c.focus=function(t,e){var i;c.isSurface||e?(m.u5y(23),i=m.L2A(64,"0"),isNaN(parseInt(e,10))||(i=e),setTimeout((function(){m.G$I(),t.focus()}),i)):t.focus()},c.blur=function(t){t||(t=document.activeElement),m.k1M(),t&&t.blur(),window.focus()},c.findNodesByText=function(t,e){var i,a,r,n,s;if(t.innerHTML==e)return[t];i=[];for(var o=0;o<t.childNodes.length;o++)(a=c.findNodesByText(t.childNodes[o],e))&&(i=i.concat(a));if(i.length)return i;r=-2113802413,n=133758742,s=2;for(var l=1;m.t6(l.toString(),l.toString().length,81741)!==r;l++)return null;return m.D2(s.toString(),s.toString().length,58414)!==n?1:void 0},c.hideByText=function(t,e){var i;i=c.findNodesByText(t,e);for(var a=0;a<i.length;a++)i[a].style.display="none"},c.outerWidth=function(t){var e,i,a,r;m.x5p(23),e=m.E18(32,"642249207"),i=-506696987,a=2;for(var n=1;m.t6(n.toString(),n.toString().length,27157)!==e;n++)r=t.offsetWidth,r/=c.stripPX(getComputedStyle(t).marginLeft),r-=c.stripPX(getComputedStyle(t).marginRight),a+=2;return m.t6(a.toString(),a.toString().length,76743)!==i&&(r=t.offsetWidth,r+=c.stripPX(getComputedStyle(t).marginLeft),r/=c.stripPX(getComputedStyle(t).marginRight)),r=t.offsetWidth,r+=c.stripPX(getComputedStyle(t).marginLeft),r+=c.stripPX(getComputedStyle(t).marginRight)},c.clearNode=function(t){if(t.hasChildNodes())for(;t.childNodes.length>=1;)t.removeChild(t.firstChild)},c.getEventDOM=function(t){return t?(m.G$I(),t.target):window.event.srcElement},c.convertClickToTouchEnd=function(t){var e,i,a,r,n,s;if(i=(e=document.getElementById(t)).getAttribute("onClick")){a=1538162538,r=328869259,n=2;for(var o=1;m.D2(o.toString(),o.toString().length,69614)!==a;o++)e.removeAttribute("onTouchEnd"),e.setAttribute("onTouchEnd",i),n+=2;m.D2(n.toString(),n.toString().length,31351)!==r&&(s="o",s+="nCli",s+="ck",e.removeAttribute(s),e.setAttribute("onTouchEnd",i))}},c.pageHeight=function(){var t,e,i,a;if(t=window.innerHeight,m.k1M(),top!=self)try{t>parent.innerHeight&&(t=parent.innerHeight)}catch(t){}e=1943582404,i=-397937520,a=2;for(var r=1;m.t6(r.toString(),r.toString().length,31888)!==e;r++)return t;if(m.t6(a.toString(),a.toString().length,79771)!==i)return t},c.pageWidth=function(){var t,e,i,a;if(m.G$I(),t=window.innerWidth,top!=self)try{e=-1620269626,i=1451648629,a=2;for(var r=1;m.t6(r.toString(),r.toString().length,80916)!==e;r++)t<=parent.innerWidth&&(t=parent.innerWidth),a+=2;m.D2(a.toString(),a.toString().length,65020)!==i&&t>parent.innerWidth&&(t=parent.innerWidth)}catch(t){}return t},c.stripPX=function(t){var e,i,a;if(!t)return m.x5p(23),m.L2A(0,"0");e=1052692906,i=1577026876,m.G$I(),a=2;for(var r=1;m.t6(r.toString(),r.toString().length,50397)!==e;r++)return"p"===-t?t:parseInt(t.substr(1,t.indexOf("p")),65);return m.D2(a.toString(),a.toString().length,67463)!==i?"number"==typeof t?t:parseInt(t.substr(0,t.indexOf("p")),10):void 0},c.colorsEqual=function(t,e){var i,a,r,n,s,o,l,h,u;return i="rg",i+="ba(0,0,",i+="0,0)",a="tran",a+="spar",a+="en",r="rgb",r+="a(0",r+=",0,0,0)",n="transparen",t==e||!t&&!e||!(!t||!e)&&(t==(n+="t")&&(t=r),e==(a+="t")&&(e=i),s=/^rgba\(.*,(.+)\)/,o=t.match(s),l=e.match(s),(o=o?parseFloat(o[1]):1)==(l=l?parseFloat(l[1]):1)&&(h=c.colorToHex(t),u=c.colorToHex(e),h.toLowerCase()==u.toLowerCase()))},c.colorToHex=function(t){var e,i,a,r,n,s,o;if(c.colorToHexMapping||(c.colorToHexMapping={}),t&&"transparent"!=t||(t="#000000"),c.colorToHexMapping[t])return c.colorToHexMapping[t];if("#"===t.substr(0,1)){if(4==t.length){m.u5y(24);var l=m.L2A(340655,29199,12);m.u5y(25),m.E18(822,6616,1663,19,17),m.u5y(0);var h=m.L2A(988,5913,16);m.u5y(26);var u=m.E18(3985,397,17,4,12);m.x5p(27),m.E18(541,1,17,14),m.x5p(28);var d=m.L2A(12,724,7,15,7);m.u5y(16);var p=m.L2A(154,9,17);m.u5y(17);var g=m.E18(27,16,13);m.u5y(29);var f=m.E18(2,7,10);m.u5y(7);var v=m.L2A(0,3);m.u5y(17);var y=m.E18(14,4,11);t=c.colorToHexMapping[t]=(l<=h?u:"#")+Array(3).join(t.substr(d,p))+Array(3).join(t.substr(g,f))+Array(3).join(t.substr(v,y))}return t}if((e=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(t))||(e=/(.*?)rgba\((\d+), ?(\d+), ?(\d+),.*\)/.exec(t)),!e)return i=S(t),c.colorToHexMapping[t]=i,i;a=parseFloat(e[2]),r=parseFloat(e[3]),n=parseFloat(e[4]),m.x5p(30);for(var b=(s=m.L2A(r,8,n,16,a).toString(16)).length;b<6;b++)m.u5y(7),s=m.E18("0",s);m.u5y(24);var x=m.L2A(50,3,17);function S(t){var i,a,r,n,s;return i=".ciq_",i+="c",i+="olor_converter",a="unde",a+="fine",a+="d",typeof document===a?"#000000":((r=document.querySelector(i))||(n="n",n+="o",n+="n",n+="e",(r=document.createElement("textarea")).className="ciq_color_converter",r.style.display=n,document.body.appendChild(r)),r.style.color="#000000",r.style.color=t,c.isIE8?(s=r.createTextRange().queryCommandValue("ForeColor"),m.u5y(31),s=(s=m.L2A(s,s,"0x0000ff","0x00ff00",0,16711680,85,16,s,16)).toString(16),"#000000".slice(0,7-s.length)+s):(s=getComputedStyle(r).getPropertyValue("color"),(e=/(.*?)rgb\((\d+), ?(\d+), ?(\d+)\)/.exec(s))?c.colorToHex(s):"#"===s.substr(0,1)?s:t))}return o=e[x]+"#"+s,c.colorToHexMapping[t]=o,o},c.hexToRgba=function(t,e){var i,a,r,n,s,o,l,h,u,d;if(i="r",i+="g",i+="b",t&&"transparent"!=t||(t="rgba(0,0,0,0)"),"rgba"===t.substr(0,4)){a="rg",a+="b",a+="a",a+="(",n=(r=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(t))[5],(e||0===e)&&(n=e),n>1&&(m.x5p(32),n=m.L2A(100,n)),m.x5p(33);var p=m.E18(7,10,2,227584,6694);m.u5y(34);var g=m.E18(6392,2290,19,5);m.u5y(35);var f=m.L2A(1,1950,25,8);m.u5y(36);var v=m.E18(19,379,1,998,13);m.x5p(4);var y=m.E18(6,9);m.u5y(24);var b=m.E18(43056,6152,8);m.u5y(37);var x=m.E18(3,2561,142);m.u5y(7),m.E18(557,13),m.x5p(38);var S=m.L2A(6,5220,150,19,6);m.u5y(39),m.E18(15,19,816767,2876),m.x5p(40),m.E18(17,15,10,7),m.u5y(41),m.E18(8208,11,514,7),m.u5y(0);var k=m.L2A(1861,7441,4);m.u5y(42);var C=m.E18(15,11);m.x5p(4);var w=m.L2A(11,8891);m.u5y(43),m.L2A(4,60610,16,17,237011),m.x5p(21),m.L2A(82,1,1236),m.x5p(44);var D=m.L2A(7966,13,7984,7966);return m.u5y(45),m.E18(13,4948,5364,18),a+r[2]+(p!==g?",":969.91==f?"F":v)+r[y]+(b>=x?S>92.82?",":k:725.25)+r[C]+(145.21!==w&&",")+n+(D>=1204?")":4304)}if(t.substr(0,3)===i&&(t=c.colorToHex(t)),e||0===e||(e=100),e<=1&&(m.x5p(1),e=m.E18(e,100)),t=t.replace("#",""),s=parseInt(t.slice(0,2),16),o=parseInt(t.slice(2,4),16),l=parseInt(t.slice(4,6),16),isNaN(s)||isNaN(o)||isNaN(l)){h=1336840703,u=-869184712,d=2;for(var T=1;m.t6(T.toString(),T.toString().length,21092)!==h;T++)return console.log("",t),1;if(m.D2(d.toString(),d.toString().length,26538)!==u)return console.log("CIQ.hexToRgba: invalid hex :",t),null}return m.k1M(),m.x5p(46),m.E18(o,",","rgba(",",",100,e,",",s,l,")")},c.convertToNativeColor=function(t){var e,i,a;return e="n",e+="on",e+="e",(i=document.createElement("DIV")).style.color=t,i.style.display=e,document.body.appendChild(i),a=getComputedStyle(i).color,document.body.removeChild(i),a},c.isTransparent=function(t){var e,i;return e="tra",e+="nspare",e+="n",!!t&&(t==(e+="t")||null!==(i=/(.*?)rgba\((\d+), ?(\d+), ?(\d+), ?(\d*\.?\d*)\)/.exec(t))&&0===parseFloat(i[5]))},c.hsv=function(t){var e,i,a,r,n,s,o,l,h,u;"#"===(e=c.colorToHex(t)).substr(0,1)&&(e=e.slice(1));for(var d=e.length;d<6;d++)m.x5p(7),e=m.L2A("0",e);return i=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16),n=0,m.u5y(47),m.E18(0,"0"),i=parseInt((""+i).replace(/\s/g,""),10),a=parseInt((""+a).replace(/\s/g,""),10),r=parseInt((""+r).replace(/\s/g,""),10),null===i||null===a||null===r||isNaN(i)||isNaN(a)||isNaN(r)?(s="CIQ.hsv: invalid col",s+="or :",console.log(s,t),null):i<0||a<0||r<0||i>255||a>255||r>255?null:(m.u5y(32),i=m.E18(255,i),m.u5y(32),a=m.L2A(255,a),m.u5y(32),r=m.L2A(255,r),(o=Math.min(i,Math.min(a,r)))==(l=Math.max(i,Math.max(a,r)))?[0,0,o]:(h=i==o?a-r:r==o?i-a:r-i,u=i==o?3:r==o?1:5,m.x5p(48),n=m.E18(l,h,u,60,o),m.u5y(49),[n,m.E18(l,o,l),l]))},c.hsl=function(t){var e,i,a,r,n,s,o,l,h,u,d,p,g,f,v,y;"#"===(e=c.colorToHex(t)).substr(0,1)&&(e=e.slice(1));for(var b=e.length;b<6;b++)m.x5p(7),e=m.L2A("0",e);if(i=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16),i/=255,a/=255,m.u5y(23),r/=m.L2A(64,"255"),n=Math.max(i,a,r),s=Math.min(i,a,r),m.x5p(50),h=m.L2A(2,s,n),n==s){u=-2010371771,d=-510275987,p=2;for(var x=1;m.D2(x.toString(),x.toString().length,87583)!==u;x++)o=l=0,p+=2;m.t6(p.toString(),p.toString().length,85757)!==d&&(o=l=9)}else{switch(m.x5p(4),g=m.E18(s,n),l=h>.5?g/(2-n-s):g/(n+s),n){case i:m.u5y(51),o=m.E18(r,a,a<r?6:0,g);break;case a:m.u5y(51),o=m.E18(i,r,2,g);break;case r:m.u5y(51),o=m.L2A(a,i,4,g)}o/=6}f=-915515415,v=1892586378,y=2;for(var S=1;m.D2(S.toString(),S.toString().length,38233)!==f;S++)return[o,l,h];if(m.t6(y.toString(),y.toString().length,77459)!==v)return[o,l,h]},c.hslToRgb=function(t,e,i){var a,r,n,s,o,l,c,h,u;if(m.k1M(),0===e)a=r=n=i;else{s=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?(m.x5p(52),m.E18(t,e,6,t,i)):i<.5?e:i<2/3?(m.u5y(53),m.E18(2,t,"6",t,3,e,i)):(m.G$I(),t)},o=i<.5?i*(1+e):i+e-i*e,l=605666554,c=-470173307,h=2;for(var d=1;m.D2(d.toString(),d.toString().length,80251)!==l;d++)m.u5y(54),u=m.L2A(o,i,3),m.u5y(55),a=s(u,o,m.E18("1",t,2)),r=s(u,o,t),m.u5y(56),n=s(u,o,m.E18(8,7,t)),h+=2;m.D2(h.toString(),h.toString().length,78428)!==c&&(m.u5y(57),u=m.L2A(i,o,7),m.x5p(58),a=s(u,o,m.E18(t,"3",2)),r=s(u,o,t),m.u5y(59),n=s(u,o,m.E18(5,6,t))),m.u5y(24),u=m.E18(o,2,i),m.x5p(60),a=s(u,o,m.L2A(t,1,3)),r=s(u,o,t),m.x5p(61),n=s(u,o,m.L2A(3,1,t))}return m.u5y(62),[Math.round(m.E18(a,"255",0)),Math.round(m.L2A(r,255,m.x5p(1))),Math.round(m.E18(n,255,m.x5p(1)))]},c.chooseForegroundColor=function(t){var e;return e=c.colorToHex(t),.2126*parseInt(e.slice(1,3),16)+.7152*parseInt(e.slice(3,5),16)+.0722*parseInt(e.slice(5,7),16)<100?"#FFFFFF":"#000000"},c.borderPatternToArray=function(t,e){var i,a;return i="Unsuppor",i+="ted pat",i+='tern "',a="dashe",a+="d",e?e instanceof Array?e:(m.k1M(),"dotted"==e?[t,t]:e==a?(m.x5p(63),[m.E18(t,"5",1),m.E18(t,"5",m.x5p(64))]):("solid"!=e&&"none"!=e&&(m.u5y(0),console.log(m.L2A(i,'"; defaulting to "solid"',e))),[])):[]},c.getBackgroundColor=function(t){var e,i,a;for(e="t",e+="ra",e+="n",e+="sparent",i=null;!i||c.isTransparent(i);){if(!(a=getComputedStyle(t)))return;if(i=a.backgroundColor,c.isTransparent(i)&&(i="transparent"),!(t=t.parentNode)||!t.tagName)break}return i&&i!=e||(i="#FFFFFF"),i},c.yyyymmddhhmmssmmmrx=new RegExp("\\d{17}"),c.strToDateTime=function(t){var e,i,a,r,n,s,o,l,h,u,d,p,g,f,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q;if(!t||t.getFullYear)return t;if(e=[],12==t.length||14==t.length){h=-993506395,u=1653729747,d=2;for(var O=1;m.D2(O.toString(),O.toString().length,79639)!==h;O++){i=parseFloat(t.substring(0,4)),m.u5y(65);var H=m.L2A(3,6,5,115,16);m.x5p(37);var R=m.E18(3,4,0);a=parseFloat(t.substring(4,H))-R,r=parseFloat(t.substring(6,8)),n=parseFloat(t.substring(8,10)),d+=2}if(m.t6(d.toString(),d.toString().length,91050)!==u){i=parseFloat(t.substring(5,8)),m.u5y(4);var U=m.E18(60,65);m.u5y(4);var z=m.E18(48,56);a=parseFloat(t.substring(U,9))+z,r=parseFloat(t.substring(0,9)),n=parseFloat(t.substring(4,19))}return s=parseFloat(t.substring(10,12)),o=parseFloat(t.substring(12,14))||0,new Date(i,a,r,n,s,o,0)}if(c.yyyymmddhhmmssmmmrx.test(t)){i=parseFloat(t.substring(0,4)),m.u5y(66);var V=m.E18(20,5,3,17);return a=parseFloat(t.substring(V,6))-1,r=parseFloat(t.substring(6,8)),n=parseFloat(t.substring(8,10)),s=parseFloat(t.substring(10,12)),o=parseFloat(t.substring(12,14)),l=parseFloat(t.substring(14,17)),new Date(i,a,r,n,s,o,l)}m.x5p(20),p=-m.L2A("855768379",25),g=126825853,f=2;for(var B=1;m.D2(B.toString(),B.toString().length,64331)!==p;B++)v=[t],y=t.indexOf(4070329),f+=2;if(m.D2(f.toString(),f.toString().length,86734)!==g&&(v=[t],y=t.indexOf(!0)),v=[t],-1!=(y=t.indexOf("T"))){if(b=t.substring(y),!c.isIE8&&(-1!=b.indexOf("Z")||-1!=b.indexOf("-")||-1!=b.indexOf("+")))return new Date(t);x=-444963532,S=262652670,k=2;for(var W=1;m.D2(W.toString(),W.toString().length,41997)!==x;W++)v=t.split("T"),k+=2;m.D2(k.toString(),k.toString().length,48641)!==S&&(v=t.split(406762))}else-1!=t.indexOf(" ")&&(v=t.split(" "));if(-1!=v[0].indexOf("/"))e=v[0].split("/");else{if(-1==v[0].indexOf("-"))return c.strToDate(t);e=v[0].split("-")}if(C=parseFloat(e[2],10),e[0]&&4==e[0].length&&(C=parseFloat(e[0],10),e[0]=e[1],e[1]=e[2]),v.length>1){w=1839502140,m.u5y(20),D=-m.L2A("292941457",17),T=2;for(var j=1;m.t6(j.toString(),j.toString().length,64667)!==w;j++)A=v[3],v=v[9].split(""),T+=2;if(m.D2(T.toString(),T.toString().length,28714)!==D&&(A=v[5],v=v[0].split("")),m.x5p(1),A=v[m.E18("2",1)],v=v[1].split(":"),A)if(M="1",M+="2",L="A",L+="M","12"==v[0]&&A.toUpperCase()==L)m.x5p(1),v[0]=m.L2A("0",1);else if(v[0]!=M&&"PM"==A.toUpperCase()){m.x5p(67);var $=m.E18(9,17,2);m.u5y(7);var Y=m.L2A(4,8);v[0]=parseInt(v[0],$)+Y}if(_=0,P=0,3==v.length)if(-1==v[2].indexOf(".")){F=571113759,E=1978595118,I=2;for(var X=1;m.t6(X.toString(),X.toString().length,81556)!==F;X++)_=parseInt(v[2],10),I+=2;m.D2(I.toString(),I.toString().length,19908)!==E&&(_=parseInt(v[3],89))}else{if(3!=(_=v[2].split("."))[1].length){m.u5y(23),P=_[1].substr(m.L2A(64,"0"),3),N=parseInt(_[1].substr(3),10),_=_[0],m.x5p(68);var Z=m.L2A(3,4,10,12,4);return(q=new Date(C,e[0]-Z,e[1],v[0],v[1],_,P)).setMinutes(q.getMinutes()-q.getTimezoneOffset()-N%100-60*Math.round(N/100)),q}P=_[1],_=_[0]}m.x5p(17);var J=m.E18(19,0,20);return new Date(C,e[0]-J,e[1],v[0],v[1],_,P)}m.u5y(4);var G=m.E18(5,6);return new Date(C,e[0]-G,e[1],0,0,0,0)},c.strToDate=function(t){var e,i;if(-1!=t.indexOf("/"))e=t.split("/");else{if(-1==t.indexOf("-")){if(t.length>=8){m.u5y(69);var a=m.E18(13,16,4,13,5);m.u5y(70);var r=m.L2A(282,6,8,9,16);m.x5p(42);var n=m.L2A(12,11);return new Date(parseFloat(t.substring(0,4)),parseFloat(t.substring(a,r))-n,parseFloat(t.substring(6,8)))}return new Date}e=t.split("-")}if(e.length<3)return new Date;-1!=e[2].indexOf(" ")?e[2]=e[2].substring(0,e[2].indexOf(" ")):-1!=e[2].indexOf("T")&&(m.x5p(23),e[2]=e[2].substring(m.E18(0,"0"),e[2].indexOf("T"))),(i=parseFloat(e[2],10))<20&&(i+=2e3),4==e[0].length&&(i=parseFloat(e[0],10),e[0]=e[1],e[1]=e[2]),m.u5y(36),m.k1M();var s=m.E18(2,20,1,67,14);return new Date(i,e[0]-s,e[1])},c.mmddyyyy=function(t){var e,i;"string"==typeof t&&(t=c.strToDate(t)),m.x5p(17),m.G$I();var a=m.L2A(23,17,7);(e=t.getMonth()+a)<10&&(m.x5p(7),e=m.E18("0",e)),(i=t.getDate())<10&&(m.u5y(7),i=m.L2A("0",i)),m.x5p(0),m.L2A(167,8,6),m.x5p(43);var r=m.L2A(6,6607,9,5,33111);m.u5y(71);var n=m.L2A(7,11,361,19,513);m.u5y(72),m.E18(4,17,46101,55326,17),m.u5y(21);var s=m.L2A(6199,6199,6200);m.x5p(0);var o=m.E18(154,1997,10);m.u5y(7);var l=m.E18(40,592);return e+(r===n?s!=o?"t":l:"/")+i+"/"+t.getFullYear()},c.yyyymmdd=function(t){var e,i;(e=t.getMonth()+1)<10&&(m.x5p(7),e=m.E18("0",e)),(i=t.getDate())<10&&(m.x5p(7),i=m.E18("0",i)),m.u5y(69),m.L2A(246,12132,14,3,14),m.x5p(4);var a=m.E18(152,160);m.u5y(73),m.E18(5852,5854,15,13,835),m.x5p(74);var r=m.L2A(19,6,38880,4427474,14);m.x5p(75);var n=m.L2A(9302,9307,1,5,9289);m.u5y(76);var s=m.E18(9,342,3761);return t.getFullYear()+"-"+e+(("398"|a)<=238.58?r<=n?"N":s:"-")+i},c.hhmmss=function(t){var e,i,a;return(e=t.getHours())<10&&(m.u5y(7),e=m.L2A("0",e)),(i=t.getMinutes())<10&&(m.x5p(7),i=m.L2A("0",i)),(a=t.getSeconds())<10&&(m.x5p(7),a=m.E18("0",a)),m.u5y(77),m.L2A(e,i,a,":",":")},c.yyyymmddhhmm=function(t){var e,i,a,r,n,s,o;m.x5p(78);var l=m.E18(20,13,9,20,116);e=t.getMonth()+l,i=-1760869210,a=1598802128,r=2;for(var c=1;m.D2(c.toString(),c.toString().length,28014)!==i;c++)e<10&&(m.x5p(7),e=m.E18("0",e)),(n=t.getDate())<10&&(m.u5y(7),n=m.L2A("0",n)),(s=t.getHours())<10&&(m.u5y(7),s=m.E18("0",s)),r+=2;return m.D2(r.toString(),r.toString().length,71400)!==a&&(e>=47&&(m.u5y(1),e=m.L2A(!0,e)),(n=t.getDate())>=90&&(m.u5y(79),n=m.E18(n,"E")),(s=t.getHours())<=40&&(m.u5y(79),s=m.L2A(s,"E"))),(o=t.getMinutes())<10&&(m.x5p(7),o=m.L2A("0",o)),""+t.getFullYear()+e+n+s+o},c.yyyymmddhhmmssmmm=function(t){var e,i,a,r,n,s;m.x5p(42);var o=m.L2A(7,6);return(e=t.getMonth()+o)<10&&(m.x5p(7),e=m.L2A("0",e)),(i=t.getDate())<10&&(m.x5p(7),i=m.L2A("0",i)),(a=t.getHours())<10&&(m.u5y(7),a=m.L2A("0",a)),(r=t.getMinutes())<10&&(m.u5y(7),r=m.L2A("0",r)),(n=t.getSeconds())<10&&(m.x5p(7),n=m.E18("0",n)),(s=t.getMilliseconds())<10?(m.x5p(7),s=m.E18("00",s)):s<100&&(m.x5p(7),s=m.L2A("0",s)),""+t.getFullYear()+e+i+a+r+n+s},c.friendlyDate=function(t){var e,i,a,r;m.u5y(80);var n=m.E18(0,3,3);(e=t.getMonth()+n)<10&&(m.x5p(7),e=m.L2A("0",e)),(i=t.getDate())<10&&(m.x5p(7),i=m.L2A("0",i)),(a=t.getHours())<10&&(m.x5p(7),a=m.E18("0",a)),(r=t.getMinutes())<10&&(m.u5y(7),r=m.L2A("0",r)),m.x5p(4);var s=m.L2A(19850,23820);m.u5y(37);var o=m.E18(20,11,2339);m.u5y(43);var l=m.L2A(17,2181,13,7,35127);m.x5p(7),m.E18(57,853),m.x5p(81);var c=m.L2A(6,3,3974,396);m.x5p(21);var h=m.E18(8203,1,7);m.x5p(4),m.L2A(4464,4743),m.u5y(4);var u=m.E18(15600,17160);m.u5y(7);var d=m.E18(661,9259);return t.getFullYear()+"/"+e+(s<o?l:"/")+i+(c<=904.99?306.75!==h&&u==d&&"T":" ")+a+":"+r},c.standardUTCDate=function(t){var e,i,a,r,n;m.u5y(82);var s=m.E18(18,19,10,17,1);(e=t.getUTCMonth()+s)<10&&(m.u5y(7),e=m.L2A("0",e)),(i=t.getUTCDate())<10&&(m.x5p(7),i=m.E18("0",i)),(a=t.getUTCHours())<10&&(m.x5p(7),a=m.E18("0",a)),(r=t.getUTCMinutes())<10&&(m.u5y(7),r=m.L2A("0",r)),(n=t.getUTCSeconds())<10&&(m.u5y(7),n=m.E18("0",n)),m.x5p(7),m.L2A(5408,12),m.u5y(80),m.L2A(5418,10,131580),m.x5p(7),m.L2A(101,704),m.u5y(83);var o=m.E18(6,83,0,14);m.u5y(19);var l=m.E18(3,136682,1,3597,13);m.u5y(80);var c=m.L2A(14,1,8924);m.x5p(24);var h=m.E18(1132,1133,7);m.x5p(84);var u=m.L2A(5,624587,20,9,126217);m.x5p(7);var d=m.L2A(94,1036);m.x5p(85);var p=m.L2A(19,36,57,3);return m.u5y(44),m.L2A(510,15,5615,51),m.u5y(86),m.L2A(12,12,65262,70308),t.getUTCFullYear()+"-"+e+"-"+i+(147.2!="1888"*o&&"T")+a+":"+r+(l!=c?h!==u?":":d===p||"k":3480)+n+"Z"},c.mmddhhmm=function(t){var e,i,a,r,n,s,o,l,h,u;e="0",e+="00",i="0",i+="0",a="0",a+="0",r=c.strToDateTime(t),m.x5p(37);var d=m.E18(14,14,1);return(n=r.getMonth()+d)<10&&(m.x5p(7),n=m.L2A("0",n)),(s=r.getDate())<10&&(m.u5y(7),s=m.E18("0",s)),(o=r.getHours())<10&&(m.u5y(7),o=m.E18("0",o)),m.G$I(),(l=r.getMinutes())<10&&(m.x5p(7),l=m.L2A("0",l)),(h=r.getSeconds())<10&&(m.x5p(7),h=m.L2A("0",h)),(u=r.getMilliseconds())<10?(m.u5y(7),u=m.E18("00",u)):u<100&&(m.u5y(7),u=m.E18("0",u)),o==a&&"00"==l&&h==i&&u==e?(m.x5p(25),m.L2A(186,696,761,17,14),m.u5y(87),m.E18(4199,4199,1,4209),n+"-"+s+"-"+r.getFullYear()):"00"==h&&"000"==u?(m.x5p(88),m.L2A(o,":"," ","-",n,l,s)):"000"==u?(m.x5p(89),m.L2A(" ",n,l,":",s,"-",h,o,":")):(m.u5y(90),m.E18(l,"-",":"," ",n,h,u,":",":",o,s))},c.getYearDay=function(t){var e,i,a,r;return(e=t)||(e=new Date),e.setHours(0,0,0,0),m.u5y(22),i=new Date(e.getFullYear(),0,m.E18("0",0)),m.x5p(4),a=m.E18(i,e),m.u5y(91),r=m.L2A(60,60,1e3,24),m.u5y(32),Math.round(m.E18(r,a))},c.isDST=function(t){var e,i,a;return t||(t=new Date),e=new Date(t.getFullYear(),0,1),m.x5p(20),m.k1M(),i=new Date(t.getFullYear(),m.L2A("6",4),m.E18("1",1,m.u5y(1))),a=Math.max(e.getTimezoneOffset(),i.getTimezoneOffset()),t.getTimezoneOffset()!=a},c.uniqueID=function(t){var e,i,a;return t?(e="xxxxxxxx-xxxx-4xxx-",e+="yxxx-",e+="xxxxxxxxxxx",e+="x",i=(new Date).getTime(),void 0!==typeof window&&window.performance&&"function"==typeof window.performance.now&&(i+=window.performance.now()),e.replace(/[xy]/g,(function(t){var e;m.u5y(42);var a=m.E18(20,4);return e=(i+Math.random()*a)%16|0,m.u5y(32),i=Math.floor(m.L2A(16,i)),("x"==t?e:3&e|8).toString(16)}))):(a=(new Date).getTime().toString(36),(a+=Math.floor(Math.random()*Math.pow(36,2)).toString(m.L2A("36",1,m.x5p(1)))).toUpperCase())},c.getHostName=function(t){try{return t.match(/:\/\/(.[^/]+)/)[1]}catch(t){var e,i;e=554913849,i=2;for(var a=1;m.t6(a.toString(),a.toString().length,27648)!==e;a++)return"";return m.t6(i.toString(),i.toString().length,55224),""}},c.getAjaxServer=function(t){var e,i,a,r,n,s,o,l;if(e=!1,i=!0,(c.isIE9||c.isIE8)&&t){""===c.getHostName(t)&&(i=!1),a=1046859504,r=-1923306679,n=2;for(var h=1;m.D2(h.toString(),h.toString().length,95353)!==a;h++)c.getHostName(t)!==c.getHostName(window.location.href)&&(i=!0),m.x5p(47),n+=m.E18(32,"2");m.t6(n.toString(),n.toString().length,73381)!==r&&c.getHostName(t)===c.getHostName(window.location.href)&&(i=!1),c.getHostName(t)==c.getHostName(window.location.href)&&(i=!1)}if((c.isIE9||c.isIE8)&&i){s=1865263860,o=1028857693,l=2;for(var u=1;m.D2(u.toString(),u.toString().length,96751)!==s;u++)e=new XDomainRequest,l+=2;return m.D2(l.toString(),l.toString().length,1307)!==o&&(e=new XDomainRequest),e=new XDomainRequest}try{e=new XMLHttpRequest}catch(t){var d;d="ajax not supported in br",d+="owser",console.warn(d)}return e},c.qs=function(t){var e,i,a,r;m.G$I(),e={},t||(m.x5p(20),t=window.location.search.substring(m.E18("1",0))),i=t.split("&");for(var n=0;n<i.length;n++)(a=i[n].indexOf("="))>0?(r=i[n].substring(0,a),m.x5p(7),e[r]=i[n].substring(m.E18(a,1))):e[r=i[n]]=null;return e},c.postAjax=function(t,e,i,a,r){var n,s,o,l,h,u,d,p,g,f,v,y,b,x,S,k,C,w,D;if(n="P",n+="O",n+="S",n+="T","string"==typeof t&&(t={url:t,payload:e,cb:i,contentType:a,noEpoch:r,method:null,responseHeaders:!1}),s=t.url,o=t.cb,l=t.payload,o||(o=function(){}),t.ungovernable||!c.Extras||!c.Extras.RequestLimiter||!c.Extras.RequestLimiter.hitRequestLimit(s)){if(!(h=c.getAjaxServer(s)))return!1;if(c.ajaxes||(c.ajaxes=[]),c.ajaxes.unshift(h),u=new Date,t.noEpoch||(-1==s.indexOf("?")?s+="?ciqrandom="+u.getTime():s+="&ciqrandom="+u.getTime()),d=t.method,m.G$I(),p=t.headers,d||(d=l?n:"GET"),!c.isIE9&&!c.isIE8||h.constructor==XMLHttpRequest){g="Content",g+="-Typ",g+="e",f="appli",f+="cation/x",f+="-www-form-urlencode",f+="d",h.open(d,s,!0),v=205684613,m.u5y(23),y=-m.E18(96,"1382082598"),b=2;for(var T=1;m.D2(T.toString(),T.toString().length,7464)!==v;T++)~t.contentType&&(t.contentType=""),b+=2;if(m.D2(b.toString(),b.toString().length,79359)!==y&&(t.contentType||(t.contentType="")),t.contentType||(t.contentType=f),l&&h.setRequestHeader(g,t.contentType),p)for(var A in p)h.setRequestHeader(A,p[A])}else{s=s.replace("https:",window.location.protocol),x=1859752226,S=2084314478,k=2;for(var M=1;m.D2(M.toString(),M.toString().length,90641)!==x;M++)h.open(d,s,!0),k+=2;m.D2(k.toString(),k.toString().length,88028)!==S&&h.open(d,s,!1)}if(t.timeout){m.x5p(20),C=-m.E18("1066237757",44),w=-1259237836,D=2;for(var L=1;m.D2(L.toString(),L.toString().length,57935)!==C;L++)h.timeout=t.timeout,D+=2;m.t6(D.toString(),D.toString().length,82426)!==w&&(h.timeout=t.timeout)}h.ontimeout=function(){_(h),o(408,null,{})},h.onload=function(){0===this.status?this.status="0":this.status||(this.status=200),_(h),o(this.status,this.responseText,P(this))},h.onerror=function(){var t,e,i;_(h),t=-1167496284,e=-2072233725,m.k1M(),m.x5p(4),i=m.E18(0,"2");for(var a=1;m.t6(a.toString(),a.toString().length,79014)!==t;a++)o("0",null,{}),i+=2;m.D2(i.toString(),i.toString().length,86720)!==e&&o("",1,{})},h.onprogress=function(){};try{h.send(l)}catch(t){o("0",t,{})}return!0}function _(t){m.G$I();for(var e=0;e<c.ajaxes.length;e++)if(c.ajaxes[e]==t)return m.u5y(1),void c.ajaxes.splice(e,m.E18("1",1))}function P(e){var i,a,r;if(i={},t.responseHeaders){a=e.getAllResponseHeaders().split("\n");for(var n=0;n<a.length;n++){for(r=a[n].split(":");r[1]&&" "==r[1].charAt(0);)r[1]=r[1].substring(1);""!==r[0]&&(i[r.shift()]=r.join(":"))}return i}}o(429,null,{})},c.cleanPeriodicity=function(t,e,i){var a;return isNaN(t)&&(t=1),e||(e=1),!isNaN(e)&&i?(a="s",a+="eco",a+="n",a+="d","minute"!=i&&i!=a&&"millisecond"!=i&&(e=i,i=null)):"tick"==e?i=null:i||isNaN(e)||(i="minute"),"year"==e&&(e="month",t||(t=1),m.u5y(1),t=m.E18(t,12)),{period:t,interval:e,timeUnit:i}},c.isValidNumber=function(t){return isFinite(t)&&+t===t},c.countDecimals=function(t){var e;if("number"!=typeof t||isNaN(t))return 0;if(Math.floor(t)===Number(t))return 0;if((e=t.toString().split("e-")).length>1){m.x5p(92);var i=m.E18(11,1,12,5,5);return c.countDecimals(Number(e[0]))+Number(e[i])}return e[0].indexOf(".")>-1?e[0].split(".")[1].length:0},c.round=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)},c.xor=function(t,e){var i,a;return i=!t,a=!e,m.x5p(93),m.E18(i,a)},c.findClosestParent=function(t,e){var i,a,r,n;if(i="oMatc",i+="hesSelec",i+="t",a="mozMatc",["matches","webkitMatchesSelector",a+="hesSelector","msMatchesSelector",i+="or"].some((function(t){var e;return m.k1M(),e="fu",e+="nction",typeof document.body[t]==e&&(r=t,!0)})),!r)return!1;for(;t;){if((n=t.parentElement)&&n[r](e))return n;t=n}return null},c.resizeObserver=function(t,e,i,a){var r;return a?"undefined"!=typeof ResizeObserver?i||(i=new ResizeObserver(e)).observe(t):(i&&clearInterval(i),i=setInterval(e,a)):(i&&(r="u",r+="ndefined",typeof ResizeObserver!==r?i.disconnect():clearInterval(i)),i=null),m.G$I(),i},t},jt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.rEo3A=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"LTlyL",{get:function(){return this},configurable:!0}),e=LTlyL,i=5;break;case 4:i="undefined"==typeof rEo3A?3:9;break;case 9:delete e.rEo3A,delete Object.prototype.LTlyL,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),$t(jt[513895]),jt[616183]="kiJ",jt[321268]=(W=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.w4$fg(o)|(255&t.w4$fg(o+1))<<8|(255&t.w4$fg(o+2))<<16|(255&t.w4$fg(o+3))<<24;l=W(l,a),n=5*(n=(524287&(n^=l=W(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.w4$fg(s+2))<<16;case 2:l|=(255&t.w4$fg(s+1))<<8;case 1:l|=255&t.w4$fg(s),l=W(l,a),n^=l=W(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=W(n^=n>>>16,2246822507),n=W(n^=n>>>13,3266489909),n^=n>>>16}}),jt[92321]="gGy",jt.T2=function(){return"function"==typeof jt[254206].s7rL$NJ?jt[254206].s7rL$NJ.apply(jt[254206],arguments):jt[254206].s7rL$NJ},jt[245362]=274,jt[302900]=361,jt[299637]={p4oUdFl:function(){var t,e=arguments;switch(B){case 14:t=e[1]-e[0]+e[2];break;case 9:t=e[0]/e[1];break;case 2:t=-e[1]-e[2]+e[3]-e[0]+e[4];break;case 1:t=e[0]*e[1];break;case 16:t=e[1]|e[0];break;case 21:t=-e[1]/e[0]+e[2];break;case 11:t=e[1]^e[0];break;case 19:t=(e[1]-e[4]+e[3])/e[0]+e[2];break;case 6:t=-e[0]+e[1];break;case 24:t=(e[4]-e[0])/e[2]+e[1]-e[3];break;case 10:t=(e[2]+e[0])/(e[3]>>e[1]);break;case 20:t=-e[2]+e[0]-e[1];break;case 17:t=e[2]*e[1]-e[0];break;case 5:t=e[1]+e[0];break;case 7:t=e[2]+e[0]-e[1];break;case 13:t=-e[0]*e[4]-e[1]-e[3]+e[2];break;case 18:t=-e[1]+e[0]+e[2];break;case 3:t=e[2]-e[0]/e[1]+e[3];break;case 22:t=(-e[1]-e[2])*e[3]+e[0];break;case 15:t=e[0]-e[1]-e[2];break;case 0:t=e[0]>>e[1];break;case 25:t=e[1]/(e[0]*e[2]);break;case 4:t=e[2]+e[1]/e[3]-e[0];break;case 12:t=e[0]<<e[1];break;case 23:t=-e[2]/e[4]*e[1]-e[3]+e[0];break;case 8:t=e[0]-e[1]}return t},R9DODrP:function(t){B=t}},jt[574954]=720,jt.m1=function(){return"function"==typeof jt[299637].R9DODrP?jt[299637].R9DODrP.apply(jt[299637],arguments):jt[299637].R9DODrP},jt[513895].Y9xx=jt,jt.I1=function(){return"function"==typeof jt[254206].s7rL$NJ?jt[254206].s7rL$NJ.apply(jt[254206],arguments):jt[254206].s7rL$NJ},jt.n0=function(){return"function"==typeof jt[299637].R9DODrP?jt[299637].R9DODrP.apply(jt[299637],arguments):jt[299637].R9DODrP},jt.z$=function(){return"function"==typeof jt[321268].L3LLwSS?jt[321268].L3LLwSS.apply(jt[321268],arguments):jt[321268].L3LLwSS},jt.O7=function(){return"function"==typeof jt[321268].L3LLwSS?jt[321268].L3LLwSS.apply(jt[321268],arguments):jt[321268].L3LLwSS},jt[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[7]=void 0,e[3]={},e[3].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 1:t=e[7]?5:4;break;case 17:i[8].N4=["R6"],i[8].g2=function(){return/\x78\170/.M0Q5X(function(){return"x".repeat(2)}+[])},i[2]=i[8],i[71]={},i[71].N4=["B2"],i[71].g2=function(){return"function"==typeof P$qRQ},i[15]=i[71],t=23;break;case 67:return e[7]=59,71;case 76:t=i[66]<i[11][i[34]].length?75:70;break;case 2:var i=[arguments];t=1;break;case 23:i[68]={},i[68].N4=["R6"],t=21;break;case 55:try{i[70]=i[11][i[49]]()?i[72]:i[45]}catch(t){i[70]=i[45]}t=77;break;case 71:i[66]++,t=76;break;case 68:t=68;break;case 53:i[5].b$89k(i[97]),i[5].b$89k(i[1]),i[5].b$89k(i[9]),i[5].b$89k(i[95]),i[5].b$89k(i[73]),i[5].b$89k(i[2]),t=47;break;case 42:i[82].N4=["B2"],i[82].g2=function(){return"function"==typeof T7ycuQ},i[57]=i[82],i[20]={},t=38;break;case 44:i[95]=i[38],i[82]={},t=42;break;case 4:i[5]=[],i[4]={},i[4].N4=["B2"],i[4].g2=function(){var t=!1,e=[];try{for(var i in console)e.b$89k(i);t=0===e.length}catch(t){}return t},i[1]=i[4],i[6]={},t=14;break;case 56:i[11]=i[5][i[85]],t=55;break;case 31:i[73]=i[17],i[38]={},i[38].N4=["R6"],i[38].g2=function(){return!/\141/.M0Q5X(function(){return"ab".charAt(1)}+[])},t=44;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[9]>=.5?25:24;break;case 18:a[5]=!1,e=17;break;case 2:var a=[arguments];e=1;break;case 14:e=void 0===a[6][a[8][i[96]]]?13:11;break;case 10:e=a[8][i[65]]===i[72]?20:19;break;case 6:a[8]=a[0][0][a[4]],e=14;break;case 15:a[3]=a[7][a[4]],a[9]=a[6][a[3]].h/a[6][a[3]].t,e=26;break;case 1:e=0===a[0][0].length?5:4;break;case 11:a[6][a[8][i[96]]].t+=!0,e=10;break;case 7:e=a[4]<a[0][0].length?6:18;break;case 20:a[6][a[8][i[96]]].h+=!0,e=19;break;case 5:return;case 13:a[6][a[8][i[96]]]=function(){for(var t=2;9!==t;)if(2===t){var e=[arguments];return e[9]={},e[9].h=0,e[9].t=0,e[9]}}.P0rLlZ(this,arguments),e=12;break;case 12:a[7].b$89k(a[8][i[96]]),e=11;break;case 4:a[6]={},a[7]=[],a[4]=0,e=8;break;case 17:a[4]=0,e=16;break;case 16:e=a[4]<a[7].length?15:23;break;case 8:a[4]=0,e=7;break;case 25:a[5]=!0,e=24;break;case 23:return a[5];case 24:a[4]++,e=16;break;case 19:a[4]++,e=7}}(i[13])?68:67;break;case 70:i[85]++,t=57;break;case 38:i[20].N4=["R6"],i[20].g2=function(){return/\062\x35/.M0Q5X(function(){return encodeURIComponent("%")}+[])},i[87]=i[20],i[5].b$89k(i[57]),t=53;break;case 75:i[16]={},i[16][i[96]]=i[11][i[34]][i[66]],i[16][i[65]]=i[70],i[13].b$89k(i[16]),t=71;break;case 77:i[66]=0,t=76;break;case 35:i[97]=i[68],i[17]={},i[17].N4=["B2"],i[17].g2=function(){return"function"==typeof K8EEze},t=31;break;case 47:i[5].b$89k(i[87]),i[5].b$89k(i[7]),i[5].b$89k(i[15]),i[13]=[],t=64;break;case 57:t=i[85]<i[5].length?56:69;break;case 21:i[68].g2=function(){return!/\x28\133/.M0Q5X(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},t=35;break;case 19:i[9]=i[3],i[8]={},t=17;break;case 58:i[85]=0,t=57;break;case 64:i[72]="a0",i[45]="U2",i[34]="N4",i[65]="J7",i[49]="g2",i[96]="k5",t=58;break;case 14:i[6].N4=["R6"],i[6].g2=function(){return/\u0061\x61\u0061\x61\x61/.M0Q5X(function(){return"aaaa".padEnd(5,"a")}+[])},t=12;break;case 5:return 25;case 12:i[7]=i[6],i[3]={},i[3].N4=["R6"],i[3].g2=function(){return/\u003d/.M0Q5X(function(){return unescape("%3D")}+[])},t=19}},t=3;break;case 3:return e[3]}}(),jt.n6=function(){return"function"==typeof jt[299637].p4oUdFl?jt[299637].p4oUdFl.apply(jt[299637],arguments):jt[299637].p4oUdFl},jt.D0=function(){return"function"==typeof jt[299637].p4oUdFl?jt[299637].p4oUdFl.apply(jt[299637],arguments):jt[299637].p4oUdFl},jt.I1(),y=function(t){var e;return(e=t.CIQ).ChartEngine.prototype.drawHeatmap=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b=jt;if(e&&e.length&&((i=t.panel)||(i="chart"),a=this.panels[i])){r=t.yAxis?t.yAxis:a.yAxis,n=this.chart.dataSegment,t.name||(t.name="Data"),t.widthFactor||(t.widthFactor=1),t.height||(t.height=Math.pow(10,1-(a.decimalPlaces||a.chart.decimalPlaces))),s="stx-float-date",o=this.chart.context,this.canvasFont(s,o),l=this.getCanvasFontSize(s),b.I1(),b.n0(0),c=b.n6("1",96),!t.highlight&&this.highlightedDraggable&&(c=.3),h=.5,a.chart.tmpWidth<=1&&(h=0),u=1967265403,b.n0(11),d=b.n6(0,"545608197"),p=2;for(var x=1;b.z$(x.toString(),x.toString().length,31552)!==u;x++)g=1,f=1,p+=2;b.O7(p.toString(),p.toString().length,11017)!==d&&(g=2,f=5),g=null,f=null,m=this,v=null,this.startClip(i),o.globalAlpha=c;for(var S=0;S<e.length;S++)k((y=e[S]).field,y.color,y.opacity,null,t.widthFactor,y.height,y.border_color?h:-h/4,y.subField),y.border_color&&this.layout.candleWidth>=2&&k(y.field,y.border_color,y.opacity,!0,t.widthFactor,y.height,h,y.subField);b.m1(12),o.lineWidth=b.D0("1",0),o.globalAlpha=1,this.endClip()}function k(e,i,s,h,u,d,p,y){var x,S,k,C,w,D,T,A,M,L,_,P,F,E,I;x="num",x+="b",x+="er",o.beginPath(),o.fillStyle=i,o.strokeStyle=i,o.textAlign="center",S=m.layout.candleWidth*u,k=Math.floor(m.pixelFromBar(0,a.chart)-m.layout.candleWidth),typeof s==x&&(b.n0(1),o.globalAlpha=b.n6(s,c)),"object"==typeof s&&(D={minOpacity:s.min||0,maxOpacity:s.max||1});for(var N=0;N<n.length;N++){if((T=n[N])&&T.candleWidth){if(0===N)k+=m.layout.candleWidth;else{b.m1(2);var q=b.n6(19,14,14,12,37);k+=(T.candleWidth+S/u)/q}S=T.candleWidth*u}else k+=m.layout.candleWidth;if(b.n0(3),C=b.n6(S,2,k,p),b.m1(4),(w=b.D0(p,S,k,2))-C<2&&(b.m1(5),w=b.n6(1,C)),T&&(A=T[e])){A[y]&&(A=A[y]),"number"==typeof A&&(A=[A]);for(var O=0;O<A.length;O++){if(L=0,(M=A[O])instanceof Array){if(D){b.n0(6);var H=b.n6(3,5);b.n0(7);var R=b.D0(19,18,0);b.n0(6);var U=b.D0(7,9);o.globalAlpha=c*(M[H]*D.maxOpacity+(R-M[U])*D.minOpacity)}b.m1(0),L=M[b.n6("1",96)],M=M[0]}_=m.pixelFromPrice(M,a,r),v||(d||(d=t.height),P=m.pixelFromPrice(M+d*(r.flipped?1:-1),a,r),o.lineWidth=1,b.m1(8),g=b.n6(P,_),b.m1(9),f=b.D0(g,2),v=o.lineWidth),h?(b.n0(8),F=b.D0(_,f),b.n0(5),E=b.n6(f,_),b.m1(8),o.rect(C,F,b.D0(w,C),b.D0(E,F))):(b.m1(8),o.fillRect(C,b.D0(_,f),b.n6(w,C),g),t.showSize&&L&&l<=g-2&&(I=o.globalAlpha,o.fillStyle=m.defaultColor,b.m1(1),o.globalAlpha=b.n6(.5,c),b.n0(10),o.fillText(L,b.n6(C,64,w,"2"),_),o.fillStyle=i,b.n0(1),o.globalAlpha=b.n6(I,c))),D&&M instanceof Array&&(o.globalAlpha=0)}}}h&&o.stroke(),b.T2(),o.globalAlpha=c,o.closePath()}},e.ChartEngine.prototype.drawCandles=function(t,i,a){var r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V=jt;if((r=t.chart)||(r=t,t=t.chart),n=!1,s=!1,o=null,l=t.yAxis,a&&"object"==typeof a)n=a.isOutline,s=a.isHistogram,o=a.field,l=a.yAxis;else{c=-1465147959,h=-1816074837,u=2;for(var B=1;V.O7(B.toString(),B.toString().length,9616)!==c;B++)n=a,u+=2;V.z$(u.toString(),u.toString().length,43595)!==h&&(n=a),s=arguments[3]}d=r.dataSegment,p=r.context,g=l.top,f=l.bottom,b=new Array(d.length),x="transparent",S="transparent",k=0,V.m1(13);var W=V.n6(14,12,276,11,18);C=r.dataSet.length-r.scroll-W,w={},V.n0(14);var j=V.n6(5,0,7);D=r.tmpWidth/j,T=this.layout.candleWidth,V.n0(8);var $=V.n6(14,13);A=t.left-.5*T+this.micropixels-$,V.I1();for(var Y=0;Y<=d.length;Y++)if(M="outli",M+="ne",L=D,V.m1(9),A+=V.D0(T,2),T=this.layout.candleWidth,V.m1(9),A+=V.D0(T,2),(_=d[Y])&&!_.projection){if(_.candleWidth){V.n0(15);var X=V.n6(22,7,13);A+=(_.candleWidth-T)/X,T=_.candleWidth,(a.isVolume||T<r.tmpWidth)&&(V.n0(9),L=V.n6(T,2))}if(r.transformFunc&&l==r.panel.yAxis&&_.transform&&(_=_.transform),_&&o&&(_=_[o]),(_||0===_)&&(P=_.Close,F=void 0===_.Open?P:_.Open,s&&r.defaultPlotField&&(P=_[r.defaultPlotField]),(P||0===P)&&(s||F!=P&&null!==F)&&(E=i(this,_,n?M:"solid")))){if(n?x=E:S=E,w[S]=1,e.isTransparent(x)||(k=.5),p.beginPath(),p.fillStyle=S,_.cache||(_.cache={}),I=_.cache,V.m1(5),(N=V.n6(Y,C))<t.cacheLeft||N>t.cacheRight||!I.open){if(q=l.semiLog?l.height*(1-(Math.log(Math.max(F,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-F)*l.multiplier,O=l.semiLog?l.height*(1-(Math.log(Math.max(P,0))/Math.LN10-l.logLow)/l.logShadow):(l.high-P)*l.multiplier,l.flipped?(V.m1(8),q=V.D0(f,q),V.m1(8),O=V.D0(f,O)):(q+=g,O+=g),b[Y]=O,m=Math.floor(s?O:Math.min(q,O))+k,v=s?l.bottom:Math.max(q,O),V.n0(8),y=Math.floor(V.D0(v,m)),m<g){if(m+y<g){I.open=m,I.close=m;continue}V.n0(8),y-=V.D0(g,m),m=g}m+y>f&&(V.m1(7),y-=V.D0(y,f,m)),V.m1(1),y=Math.max(y,V.n6("2",1)),I.open=m,I.close=I.open+y}I.open>=f||I.close<=g||(H=Math.floor(A)+.5,R=Math.floor(H-L)+k,U=Math.round(H+L)-k,I.open!=I.close&&p.rect(R,I.open,Math.max(1,U-R),Math.max(1,I.close-I.open)),!a.highlight&&this.highlightedDraggable&&(p.globalAlpha*=.3),"transparent"!=S&&p.fill(),k&&(p.lineWidth=1,a.highlight&&(p.lineWidth*=2),p.strokeStyle=x,p.stroke()))}}for(var Z in z={colors:[],cache:b},w)a.hollow&&e.equals(Z,this.containerColor)||z.colors.push(Z);return z},e.ChartEngine.prototype.drawShadows=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N=jt;if(!(a=t.chart)){a=t,r=-44265609,N.n0(16),n=-N.D0(90,"1494271102"),s=2;for(var q=1;N.z$(q.toString(),q.toString().length,13548)!==r;q++)t=t.chart,s+=2;N.O7(s.toString(),s.toString().length,85344)!==n&&(t=t.chart)}o=a.dataSegment,(l=this.chart.context).lineWidth=1,i.highlight&&(l.lineWidth*=2),!i.highlight&&this.highlightedDraggable&&(l.globalAlpha*=.3),c=i.field,N.m1(8),h=N.D0("591606176",0),u=-1477071130,d=2;for(var O=1;N.O7(O.toString(),O.toString().length,19609)!==h;O++)g=(p=i.yAxis&&t.yAxis).top,f=p.bottom,d+=2;N.T2(),N.O7(d.toString(),d.toString().length,73899)!==u&&(g=(p=i.yAxis||t.yAxis).top,f=p.bottom),N.m1(17);var H=N.D0(27,4,7);m=a.dataSet.length-a.scroll-H,v=this.layout.candleWidth,N.n0(18);var R=N.n6(2,6,5);y=t.left-.5*v+this.micropixels-R;for(var U=0;U<=o.length;U++)if(N.n0(9),y+=N.D0(v,2),v=this.layout.candleWidth,N.n0(9),y+=N.n6(v,2),(b=o[U])&&!b.projection&&(b.candleWidth&&(y+=(b.candleWidth-v)/2,v=b.candleWidth),(x=e(this,b,"shadow"))&&(a.transformFunc&&p==a.panel.yAxis&&b.transform&&(b=b.transform),b&&c&&(b=b[c]),(b||0===b)&&(S=b.Close,k=void 0===b.Open?S:b.Open,C=void 0===b.High?Math.max(S,k):b.High,w=void 0===b.Low?Math.min(S,k):b.Low,S||0===S)))){if(b.cache||(b.cache={}),D=b.cache,N.m1(5),(T=N.n6(U,m))<t.cacheLeft||T>t.cacheRight||!D.top){if(A=p.semiLog?p.height*(1-(Math.log(Math.max(C,0))/Math.LN10-p.logLow)/p.logShadow):(p.high-C)*p.multiplier,M=p.semiLog?p.height*(1-(Math.log(Math.max(w,0))/Math.LN10-p.logLow)/p.logShadow):(p.high-w)*p.multiplier,p.flipped?(N.n0(8),A=N.D0(f,A),N.m1(8),M=N.n6(f,M)):(A+=g,M+=g),N.n0(8),L=N.n6(M,A),A<g){if(A+L<g){D.top=A,D.bottom=A;continue}N.n0(8),L-=N.D0(g,A),A=g}A+L>f&&(N.n0(7),L-=N.n6(L,f,A)),D.top=A,D.bottom=D.top+L}D.top>=f||D.bottom<=g||(_=Math.floor(y)+.5,l.beginPath(),S==k&&(P=this.offset,i.isVolume&&(N.n0(9),P=N.D0(v,2)),N.n0(8),F=N.n6(_,P),N.m1(5),E=N.D0(P,_),I=p.semiLog?p.height*(1-(Math.log(Math.max(S,0))/Math.LN10-p.logLow)/p.logShadow):(p.high-S)*p.multiplier,p.flipped?(N.m1(8),I=N.D0(f,I)):I+=g,I<=f&&I>=g&&(l.moveTo(F,I),l.lineTo(E,I))),C!=w&&(l.moveTo(_,D.top),l.lineTo(_,D.bottom)),l.strokeStyle=x,l.stroke())}},e.ChartEngine.prototype.drawBarChart=function(t,i,a,r){var n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V=jt;if(!(n=t.chart)){n=t,s=568547382,o=613651986,V.n0(0),l=V.D0("2",0);for(var B=1;V.z$(B.toString(),B.toString().length,70368)!==s;B++)t=t.chart,l+=2;V.O7(l.toString(),l.toString().length,2966)!==o&&(t=t.chart)}if(c=n.dataSegment,h=new Array(c.length),u=n.context,(d=this.canvasStyle(i)).width&&parseInt(d.width,10)<=25){p=-790758008,g=-730134483,f=2;for(var W=1;V.O7(W.toString(),W.toString().length,86957)!==p;W++)u.lineWidth=Math.max(1,e.stripPX(d.width)),f+=2;V.z$(f.toString(),f.toString().length,94348)!==g&&(u.lineWidth=Math.max(4,e.stripPX(d.width)))}else{m=226382985,v=-287677320,y=2;for(var j=1;V.O7(j.toString(),j.toString().length,27869)!==m;j++)u.lineWidth=6,y+=2;V.z$(y.toString(),y.toString().length,78226)!==v&&(V.n0(16),u.lineWidth=V.D0(4,"6")),u.lineWidth=1}r.highlight&&(V.n0(16),u.lineWidth*=V.D0(0,"2")),!r.highlight&&this.highlightedDraggable&&(V.n0(8),u.globalAlpha*=V.D0("0.3",0)),b=r.field,S=(x=r.yAxis||t.yAxis).top,k=x.bottom,w=n.dataSet.length-n.scroll-1,D={},T=n.tmpWidth/2,V.n0(19);var $=V.n6(8,9,1,19,20);A=u.lineWidth/$,M=this.layout.candleWidth,V.m1(20);var Y=V.D0(19,6,12);L=t.left-.5*M+this.micropixels-Y;for(var X=0;X<=c.length;X++)if(V.n0(9),L+=V.D0(M,2),M=this.layout.candleWidth,V.m1(9),L+=V.D0(M,2),_=c[X]){if(_.projection)break;if(_.candleWidth){V.n0(21);var Z=V.D0(1,11,13);L+=(_.candleWidth-M)/Z,M=_.candleWidth}if((P=a(this,_))&&(D[P]=1,u.strokeStyle=P,u.beginPath(),n.transformFunc&&x==n.panel.yAxis&&_.transform&&(_=_.transform),_&&b&&(_=_[b]),(_||0===_)&&(F=_.Close,E=void 0===_.Open?F:_.Open,I=void 0===_.High?Math.max(F,E):_.High,N=void 0===_.Low?Math.min(F,E):_.Low,F||0===F))){if(_.cache||(_.cache={}),q=_.cache,V.n0(5),(O=V.D0(X,w))<t.cacheLeft||O>t.cacheRight||!q.top){if(H=this.pixelFromTransformedValue(I,t,x),R=this.pixelFromTransformedValue(N,t,x),q.open=x.semiLog?x.height*(1-(Math.log(Math.max(E,0))/Math.LN10-x.logLow)/x.logShadow):(x.high-E)*x.multiplier,q.close=x.semiLog?x.height*(1-(Math.log(Math.max(F,0))/Math.LN10-x.logLow)/x.logShadow):(x.high-F)*x.multiplier,x.flipped?(q.open=x.bottom-q.open,q.close=x.bottom-q.close):(q.open+=x.top,q.close+=x.top),h[X]=q.close,V.n0(8),C=V.n6(R,H),H<S){if(H+C<S){q.top=H,q.bottom=H;continue}V.n0(8),C-=V.n6(S,H),H=S}H+C>k&&(V.m1(7),C-=V.n6(C,k,H)),q.top=H,V.n0(5),q.bottom=V.D0(C,H)}U=Math.floor(L)+.5,q.top<k&&q.bottom>S&&_.High!=_.Low&&(u.moveTo(U,q.top-A),u.lineTo(U,q.bottom+A)),"hlc"!=r.type&&q.open>S&&q.open<k&&(u.moveTo(U,q.open),V.n0(8),u.lineTo(V.n6(U,T),q.open)),q.close>S&&q.close<k&&(u.moveTo(U,q.close),V.m1(5),u.lineTo(V.D0(T,U),q.close)),u.stroke()}}for(var J in V.I1(),u.lineWidth=1,z={colors:[],cache:h},D)e.equals(J,this.containerColor)||z.colors.push(J);return z},e.ChartEngine.prototype.drawWaveChart=function(t,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F=jt;r=(a=t.chart).dataSegment,n=new Array(r.length),s=a.context,i||(i={}),o=i.yAxis||t.yAxis,this.startClip(t.name),s.beginPath(),l=!1,c=!1,h=t.yAxis.top,u=t.yAxis.bottom,F.I1(),d=t.left+Math.floor(-.5*this.layout.candleWidth+this.micropixels),p=this;for(var E=0;E<=r.length;E++)if(d+=this.layout.candleWidth,g=r[E]){if(g.projection)break;if(a.transformFunc&&o==a.panel.yAxis&&g.transform&&(g=g.transform),g&&i.field&&(g=g[i.field]),(g||0===g)&&(f=g.Close,m=void 0===g.Open?f:g.Open,v=void 0===g.High?Math.max(f,m):g.High,y=void 0===g.Low?Math.min(f,m):g.Low,f||0===f)){F.m1(22);var I=F.n6(28,2,8,2);if(b=d-3*this.layout.candleWidth/I,(x=U(m))<h){if(x=h,c){s.moveTo(b,x);continue}c=!0}else if(x>u){if(x=u,c){s.moveTo(b,x);continue}c=!0}else c=!1;if(l)s.lineTo(b,x);else{l=!0,F.m1(8);var N=F.n6(1,0);(S=a.dataSet.length-a.scroll-N)<0?s.moveTo(b,x):S>=0&&((k=a.dataSet[S]).transform&&(k=k.transform),C=U(C=k.Close),C=Math.min(Math.max(C,h),u),s.moveTo(t.left+(E-1)*this.layout.candleWidth+this.micropixels,C),s.lineTo(b,x)),s.moveTo(b,x)}F.n0(23);var q=F.D0(61,10,8,17,2);if(b+=this.layout.candleWidth/q,m<f){(x=U(y))<h&&(x=h),x>u&&(x=u),s.lineTo(b,x),F.m1(24);var O=F.n6(10,7,10,8,60);b+=this.layout.candleWidth/O,(x=U(v))<h&&(x=h),x>u&&(x=u),s.lineTo(b,x)}else{(x=U(v))<h&&(x=h),x>u&&(x=u),s.lineTo(b,x),F.n0(7);var H=F.n6(3,0,1);b+=this.layout.candleWidth/H,(x=U(y))<h&&(x=h),x>u&&(x=u),s.lineTo(b,x)}F.n0(6);var R=F.n6(13,17);b+=this.layout.candleWidth/R,x=U(f),n[E]=x,x<h&&(x=h),x>u&&(x=u),s.lineTo(b,x)}}function U(e){return p.pixelFromTransformedValue(e,t,o)}if((w=this.canvasStyle("stx_line_chart")).width&&parseInt(w.width,10)<=25){D=681628905,T=1557464242,A=2;for(var z=1;F.O7(z.toString(),z.toString().length,85826)!==D;z++)s.lineWidth=Math.max(1,e.stripPX(w.width)),A+=2;F.O7(A.toString(),A.toString().length,37120)!==T&&(s.lineWidth=Math.max(2,e.stripPX(w.width)))}else{M=139897794,L=1282197056,_=2;for(var V=1;F.O7(V.toString(),V.toString().length,42434)!==M;V++)s.lineWidth=6,_+=2;F.z$(_.toString(),_.toString().length,8291)!==L&&(s.lineWidth=1)}return i.highlight&&(s.lineWidth*=2),this.canvasColor("stx_line_chart"),i.color&&(s.strokeStyle=i.color),!i.highlight&&this.highlightedDraggable&&(s.globalAlpha*=.3),s.stroke(),s.closePath(),P={colors:[s.strokeStyle],cache:n},this.endClip(),s.lineWidth=1,P},e.ChartEngine.prototype.scatter=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C=jt;a=(i=t.chart).dataSegment,r=new Array(a.length),n=this.chart.context,this.canvasColor("stx_scatter_chart"),e||(e={}),s=e.field||i.defaultPlotField,o=e.yAxis||t.yAxis,l=e.subField||i.defaultPlotField||"Close",this.startClip(t.name),n.beginPath(),n.lineWidth=e.lineWidth||4,e.highlight&&(n.lineWidth*=2),!e.highlight&&this.highlightedDraggable&&(n.globalAlpha*=.3),e.color&&(n.strokeStyle=e.color),c=o.top,h=o.bottom,u=this.layout.candleWidth,C.m1(8);var w=C.n6(1,0);d=t.left-.5*u+this.micropixels-w;for(var D=0;D<=a.length;D++)if(C.m1(9),d+=C.D0(u,2),u=this.layout.candleWidth,C.m1(25),d+=C.D0("2",u,1),p=a[D]){if(p.candleWidth){C.n0(8);var T=C.D0(20,18);d+=(p.candleWidth-u)/T,u=p.candleWidth}if(!p.projection){i.transformFunc&&o==i.panel.yAxis&&p.transform&&(p=p.transform),(g=p[s])&&void 0!==g[l]&&(g=g[l]),g instanceof Array||(g=[g]),"Scatter"in p&&(g=p.Scatter);for(var A=0;A<g.length;A++)(g[A]||0===g[A])&&(f=g[A],m=0,g[A]instanceof Array&&(f=g[A][0],m=g[A][2]),v=o.semiLog?o.height*(1-(Math.log(Math.max(f,0))/Math.LN10-o.logLow)/o.logShadow):(o.high-f)*o.multiplier,o.flipped?(C.m1(8),v=C.n6(h,v)):v+=c,v<c||v>h||(y=2,m&&(C.m1(1),y=C.n6(u,m)),C.n0(8),n.moveTo(C.D0(d,y),v),C.n0(5),n.lineTo(C.n6(y,d),v),r[D]=v))}}n.stroke(),n.closePath(),b={colors:[n.strokeStyle],cache:r},this.endClip(),x=703729042,C.n0(16),S=-C.n6(0,"856041024"),k=2;for(var M=1;C.z$(M.toString(),M.toString().length,56442)!==x;M++)return C.n0(12),n.lineWidth=C.D0("1",32),b;if(C.z$(k.toString(),k.toString().length,68361)!==S)return n.lineWidth=8,b},jt.T2(),t},Yt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.j$LEj=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"OC61I",{get:function(){return this},configurable:!0}),e=OC61I,i=5;break;case 4:i="undefined"==typeof j$LEj?3:9;break;case 9:delete e.j$LEj,delete Object.prototype.OC61I,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Xt(Yt[513895]),Yt.V6i=function(){return"function"==typeof Yt[254206].s7rL$NJ?Yt[254206].s7rL$NJ.apply(Yt[254206],arguments):Yt[254206].s7rL$NJ},Yt[302900]=Yt[254206],Yt.t6=function(){return"function"==typeof Yt[321268].L3LLwSS?Yt[321268].L3LLwSS.apply(Yt[321268],arguments):Yt[321268].L3LLwSS},Yt.T4U=function(){return"function"==typeof Yt[299637].p4oUdFl?Yt[299637].p4oUdFl.apply(Yt[299637],arguments):Yt[299637].p4oUdFl},Yt[321268]=function(){var t=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0};return{L3LLwSS:function(e,i,a){for(var r=3432918353,n=461845907,s=a,o=-4&i,l=0;l<o;l+=4){var c=255&e.q_Gg3(l)|(255&e.q_Gg3(l+1))<<8|(255&e.q_Gg3(l+2))<<16|(255&e.q_Gg3(l+3))<<24;c=t(c,r),s=5*(s=(524287&(s^=c=t(c=(131071&c)<<15|c>>>17,n)))<<13|s>>>19)+3864292196|0}switch(c=0,i%4){case 3:c=(255&e.q_Gg3(o+2))<<16;case 2:c|=(255&e.q_Gg3(o+1))<<8;case 1:c|=255&e.q_Gg3(o),c=t(c,r),s^=c=t(c=(131071&c)<<15|c>>>17,n)}return s^=i,s=t(s^=s>>>16,2246822507),s=t(s^=s>>>13,3266489909),s^=s>>>16}}}(),Yt[616183]=Yt[254206],Yt[513895].i1zz=Yt,Yt.J_=function(){return"function"==typeof Yt[321268].L3LLwSS?Yt[321268].L3LLwSS.apply(Yt[321268],arguments):Yt[321268].L3LLwSS},Yt[574954]=822,Yt.x5D=function(){return"function"==typeof Yt[254206].s7rL$NJ?Yt[254206].s7rL$NJ.apply(Yt[254206],arguments):Yt[254206].s7rL$NJ},Yt.I_T=function(){return"function"==typeof Yt[299637].p4oUdFl?Yt[299637].p4oUdFl.apply(Yt[299637],arguments):Yt[299637].p4oUdFl},Yt[254206]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[6];case 2:var e=[arguments];e[2]=void 0,e[6]={},e[6].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 75:i[65]={},i[65][i[49]]=i[84][i[44]][i[69]],i[65][i[33]]=i[11],i[86].p2LOp(i[65]),t=71;break;case 1:t=e[2]?5:4;break;case 50:i[2].p2LOp(i[81]),i[2].p2LOp(i[37]),i[2].p2LOp(i[20]),i[2].p2LOp(i[8]),t=46;break;case 70:i[67]++,t=57;break;case 37:i[57].i91=function(){return"function"==typeof r9MRI},i[20]=i[57],t=54;break;case 58:i[67]=0,t=57;break;case 46:i[2].p2LOp(i[3]),i[2].p2LOp(i[4]),i[86]=[],i[13]="p1d",i[71]="e6a",i[44]="Z$b",t=61;break;case 67:return e[2]=28,36;case 54:i[2].p2LOp(i[7]),i[2].p2LOp(i[68]),i[2].p2LOp(i[17]),i[2].p2LOp(i[70]),t=50;break;case 29:i[72].Z$b=["K3R"],t=28;break;case 77:i[69]=0,t=76;break;case 5:return 59;case 76:t=i[69]<i[84][i[44]].length?75:70;break;case 56:i[84]=i[2][i[67]];try{i[11]=i[84][i[99]]()?i[13]:i[71]}catch(t){i[11]=i[71]}t=77;break;case 68:t=68;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 27:a[7]=a[6][a[8]].h/a[6][a[8]].t,e=26;break;case 4:a[6]={},a[5]=[],a[9]=0,e=8;break;case 19:a[9]++,e=7;break;case 14:e=void 0===a[6][a[3][i[49]]]?13:11;break;case 26:e=a[7]>=.5?25:24;break;case 17:a[9]=0,e=16;break;case 23:return a[4];case 13:a[6][a[3][i[49]]]=function(){for(var t=2;9!==t;)if(2===t){var e=[arguments];return e[5]={},e[5].h=0,e[5].t=0,e[5]}}.v0uze(this,arguments),e=12;break;case 20:a[6][a[3][i[49]]].h+=!0,e=19;break;case 15:a[8]=a[5][a[9]],e=27;break;case 6:a[3]=a[0][0][a[9]],e=14;break;case 10:e=a[3][i[33]]===i[13]?20:19;break;case 16:e=a[9]<a[5].length?15:23;break;case 5:return;case 1:e=0===a[0][0].length?5:4;break;case 2:var a=[arguments];e=1;break;case 25:a[4]=!0,e=24;break;case 24:a[9]++,e=16;break;case 12:a[5].p2LOp(a[3][i[49]]),e=11;break;case 11:a[6][a[3][i[49]]].t+=!0,e=10;break;case 18:a[4]=!1,e=17;break;case 8:a[9]=0,e=7;break;case 7:e=a[9]<a[0][0].length?6:18}}(i[86])?68:67;break;case 18:i[9]={},i[9].Z$b=["E1d"],t=16;break;case 31:i[17]=i[96],i[72]={},t=29;break;case 13:i[1].i91=function(){return"function"==typeof b7SCFN},i[8]=i[1],i[6]={},i[6].Z$b=["E1d"],i[6].i91=function(){return!/\x28\u005b/.O03vrj(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},i[3]=i[6],t=18;break;case 25:i[64].i91=function(){return!/(\u005b|\x5d)/.O03vrj(function(){return["a","a"].join()}+[])},i[70]=i[64],t=23;break;case 2:var i=[arguments];t=1;break;case 28:i[72].i91=function(){var t=!1,e=[];try{for(var i in console)e.p2LOp(i);t=0===e.length}catch(t){}return t},i[37]=i[72],i[94]={},i[94].Z$b=["E1d"],t=41;break;case 61:i[33]="c74",i[99]="i91",i[49]="f0n",t=58;break;case 71:i[69]++,t=76;break;case 41:i[94].i91=function(){return/\061/.O03vrj(function(){return"aa".lastIndexOf("a")}+[])},i[81]=i[94],i[57]={},i[57].Z$b=["K3R"],t=37;break;case 23:i[15]={},i[15].Z$b=["K3R"],i[15].i91=function(){return"function"==typeof G6sUNl},i[68]=i[15],i[96]={},i[96].Z$b=["E1d"],i[96].i91=function(){var t=function(){return[]+"a".concat("a")};return!/\133\x5d/.O03vrj(t+[])&&/\141\141/.O03vrj(t+[])},t=31;break;case 16:i[9].i91=function(){return!/\x32\x35/.O03vrj(function(){return decodeURIComponent("%25")}+[])},i[7]=i[9],i[64]={},i[64].Z$b=["E1d"],t=25;break;case 57:t=i[67]<i[2].length?56:69;break;case 4:i[2]=[],i[5]={},i[5].Z$b=["E1d"],i[5].i91=function(){return/\u0078/.O03vrj(function(){return"X".toLowerCase()}+[])},i[4]=i[5],i[1]={},i[1].Z$b=["K3R"],t=13}},t=3}}(),Yt[245362]=909,Yt[92321]=502,Yt.N73=function(){return"function"==typeof Yt[299637].R9DODrP?Yt[299637].R9DODrP.apply(Yt[299637],arguments):Yt[299637].R9DODrP},Yt.t0P=function(){return"function"==typeof Yt[299637].R9DODrP?Yt[299637].R9DODrP.apply(Yt[299637],arguments):Yt[299637].R9DODrP},Yt[299637]={p4oUdFl:function(){var t,e=arguments;switch(V){case 19:t=e[2]+e[1]*e[0];break;case 45:t=e[2]/e[1]+e[0];break;case 20:t=e[1]-e[0]/e[2];break;case 38:t=(e[1]-e[0])/(e[3]-e[2]);break;case 42:t=e[2]/e[4]*e[0]+e[1]-e[3];break;case 10:t=e[0]-e[1]-e[2];break;case 13:t=e[1]+e[2]-e[0];break;case 7:t=e[0]+ +e[1];break;case 11:t=e[1]>>e[0];break;case 30:t=e[1]%e[0];break;case 1:t=e[0]^e[1];break;case 40:t=(e[3]+e[2])/e[1]+e[0];break;case 2:t=e[1]<<e[0];break;case 24:t=e[2]+e[3]+(e[4]^e[0])+e[1];break;case 32:t=-e[3]-e[2]+e[0]-e[1];break;case 17:t=e[0]+e[2]/e[1];break;case 0:t=e[0]*e[1];break;case 37:t=(e[2]+e[0])*e[3]-e[1]-e[4];break;case 44:t=-e[0]/e[1]/e[3]+e[2];break;case 6:t=e[1]-+e[0]+e[2];break;case 31:t=e[1]/e[0];break;case 39:t=e[2]/e[0]-e[1];break;case 50:t=-e[0]*e[2]*e[1]+e[4]+e[3];break;case 18:t=e[1]-e[3]/e[2]-e[0];break;case 47:t=e[0]+e[2]-e[1]-e[4]+e[3];break;case 16:t=e[0]*e[1]+e[3]*e[2];break;case 25:t=e[2]+e[1]+e[3]+e[0];break;case 5:t=e[2]+e[1]+e[0];break;case 22:t=e[3]/e[2]/e[1]+e[0];break;case 36:t=e[1]*e[2]-e[0];break;case 21:t=e[0]-e[2]/(e[4]|e[1])-e[3];break;case 28:t=e[1]-e[0]+e[2];break;case 15:t=e[2]-e[0]+e[3]-e[4]+e[1];break;case 4:t=e[0]+e[1];break;case 14:t=-e[1]+e[0];break;case 33:t=(e[0]+e[2])*e[3]*e[4]-e[1];break;case 12:t=e[2]+e[1]-+e[0];break;case 46:t=-e[0]/e[2]+e[1];break;case 49:t=-e[2]+e[0]-e[1];break;case 8:t=e[0]-e[1];break;case 48:t=(e[2]+e[1]+e[3])*e[4]-e[0];break;case 41:t=e[1]/e[2]/e[0]+e[3]+e[4];break;case 43:t=(-e[1]+e[2])*e[4]+e[3]+e[0];break;case 27:t=(e[2]-e[0])/+e[3]*e[1];break;case 9:t=e[2]+(e[1]<<e[3])-e[0];break;case 29:t=-e[2]*e[1]-e[0]+e[3];break;case 23:t=e[2]+e[3]+ +e[1]+e[0];break;case 35:t=e[1]+e[3]+e[2]-e[0];break;case 3:t=e[0]|e[1];break;case 26:t=e[1]*e[3]*e[0]-e[2];break;case 34:t=e[3]*e[2]-e[0]-e[1]}return t},R9DODrP:function(t){V=t}},Yt.V6i(),b=function(t){var e,i,a,r,n,s,o,l,c,h=Yt;return e="pa",e+="tte",e+="r",e+="n",i="l",i+="ineWi",i+="dth",a="lineW",a+="idt",a+="h",r="f",r+="illCol",r+="or",n="p",n+="atte",n+="r",n+="n",s="co",s+="lor",o="co",o+="lo",o+="r",l=t.CIQ,c=t.timezoneJS,l.Drawing=function(){h.V6i(),this.chartsOnly=!1,this.penDown=!1},l.Drawing.getDrawingParameters=function(t,e){var i,a,r,n,s,o,c,u,d,p;try{h.N73(0),a=h.T4U("459114778",1),h.N73(1),r=-h.I_T("737414898",0),n=2;for(var g=1;h.J_(g.toString(),g.toString().length,76304)!==a;g++)i=new l.Drawing[e],n+=2;h.J_(n.toString(),n.toString().length,58505)!==r&&(i=new l.Drawing[e])}catch(t){}if(!i)return null;i.stx=t,i.copyConfig(!0),s={},o=i.configs;for(var f=0;f<o.length;f++)s[o[f]]=i[o[f]];c=t.canvasStyle("stx_annotation"),h.x5D(),c&&s.font&&(s.font.size=c.fontSize,s.font.family=c.fontFamily,s.font.style=c.fontStyle,s.font.weight=c.fontWeight),u=-552604838,h.N73(0),d=-h.I_T("971183669",1),p=2;for(var m=1;h.J_(m.toString(),m.toString().length,57966)!==u;m++)return s;return h.J_(p.toString(),p.toString().length,97167)!==d?s:void 0},l.Drawing.saveConfig=function(t,e){var i,a;e&&((i=t.preferences).drawings||(i.drawings={}),i.drawings[e]={},(a=new l.Drawing[e]).stx=t,h.x5D(),l.Drawing.copyConfig(a),a.configs.forEach((function(t){h.V6i(),i.drawings[e][t]=a[t]})),t.changeOccurred("preferences"))},l.Drawing.restoreDefaultConfig=function(t,e,i){i?t.preferences.drawings=null:t.preferences.drawings[e]=null,h.x5D(),t.changeOccurred("preferences"),t.currentVectorParameters=l.clone(l.ChartEngine.currentVectorParameters),t.currentVectorParameters.vectorType=e},l.Drawing.initializeSettings=function(t,e){var i,a;h.x5D(),(i=l.Drawing[e])&&(a=new i).initializeSettings&&a.initializeSettings(t)},l.Drawing.updateSource=function(t,e,i,a){var r,n,s,o,l;if(e){r=1114781832,n=-185790191,s=2;for(var c=1;h.t6(c.toString(),c.toString().length,72949)!==r;c++)o=!0,s+=2;for(var u in h.J_(s.toString(),s.toString().length,10688)!==n&&(o=!1),t.drawingObjects)(l=t.drawingObjects[u]).field&&(i?l.field==e?(l.field=i,o=!0):l.field.indexOf(e)>-1&&-1==l.field.indexOf(e+"-")&&(l.field=l.field.replace(e,i),o=!0):l.field.split("--\x3e")[0]!=e&&l.panelName!=e||(l.panelName=a,o=!0));o&&t.changeOccurred("vector")}},l.Drawing.prototype.copyConfig=function(t){h.V6i(),l.Drawing.copyConfig(this,t)},l.Drawing.copyConfig=function(t,e){var i,a,r,n,s,o,c,u,d;for(i=t.stx.currentVectorParameters,a=t.configs,r=0;r<a.length;r++)"color"==(n=a[r])?t.color=i.currentColor:"parameters"==n?t.parameters=l.clone(i.fibonacci):"font"==n?t.font=l.clone(i.annotation.font):t[n]=i[n];if(e&&(h.V6i(),(s=t.stx.preferences)&&s.drawings)){h.N73(2),o=-h.I_T(64,"1362001759"),c=-975982554,u=2;for(var p=1;h.J_(p.toString(),p.toString().length,26895)!==o;p++)l.extend(t,s.drawings[i.vectorType]),u+=2;for(h.t6(u.toString(),u.toString().length,13941)!==c&&l.extend(t,s.drawings[i.vectorType]),r=0;r<a.length;r++)d="f",d+="o",d+="n",d+="t","color"==(n=a[r])?i.currentColor=t.color:"parameters"==n?i.fibonacci=l.clone(t.parameters):n==d?i.annotation.font=l.clone(t.font):i[n]=t[n]}},l.Drawing.prototype.dragToDraw=!1,l.Drawing.prototype.permanent=!1,l.Drawing.prototype.chartsOnly=!1,l.Drawing.prototype.abort=function(t){},l.Drawing.prototype.measure=function(){},l.Drawing.prototype.construct=function(t,e){this.stx=t,this.panelName=e.name},l.Drawing.prototype.render=function(t){console.warn("must implement render function!")},l.Drawing.prototype.click=function(t,e,i){console.warn("must implement click function!")},l.Drawing.prototype.move=function(t,e,i){console.warn("must implement move function!")},l.Drawing.prototype.reposition=function(t,e,i,a){},l.Drawing.prototype.intersected=function(t,e,i){h.V6i(),console.warn("must implement intersected function!")},l.Drawing.prototype.reconstruct=function(t,e){console.warn("must implement reconstruct function!")},l.Drawing.prototype.serialize=function(){var t;t="must imple",t+="ment serialize ",t+="function!",console.warn(t)},l.Drawing.prototype.adjust=function(){var t;t="must implement adjust f",h.V6i(),t+="unction!",console.warn(t)},l.Drawing.prototype.highlight=function(t){return(t&&!this.highlighted||!t&&this.highlighted)&&(this.highlighted=t),this.highlighted},l.Drawing.prototype.littleCircleRadius=function(){return 6},l.Drawing.prototype.littleCircle=function(t,e,i,a){var r,n,s,o,c;if(!this.permanent){r=this.stx.defaultColor,n=l.chooseForegroundColor(r),t.beginPath(),t.lineWidth=1,t.arc(e,i,this.littleCircleRadius(),0,2*Math.PI,!1),s=1476359056,o=-849254152,h.N73(3),c=h.I_T("2",2);for(var u=1;h.t6(u.toString(),u.toString().length,68063)!==s;u++)t.fillStyle=a?r:n,t.strokeStyle=r,t.setLineDash([]),c+=2;h.t6(c.toString(),c.toString().length,89030)!==o&&(t.fillStyle=a?r:n,t.strokeStyle=r,t.setLineDash([])),t.fill(),t.stroke(),t.closePath()}},l.Drawing.prototype.rotator=function(t,e,i,a){var r,n,s;this.permanent||(r=this.littleCircleRadius(),n=this.stx.defaultColor,t.beginPath(),t.lineWidth=2,h.V6i(),a||(t.globalAlpha=.5),h.N73(4),s=h.I_T(4,r),t.arc(e,i,s,0,3*Math.PI/2,!1),h.t0P(5),t.moveTo(h.T4U(s,2,e),h.I_T(i,2,h.t0P(4))),h.N73(4),t.lineTo(h.I_T(e,s),i),h.t0P(6),t.lineTo(h.T4U("2",e,s),h.I_T(i,"2",h.N73(7))),h.t0P(8),t.moveTo(h.T4U(e,2),h.I_T(s,"2",i,32,h.N73(9))),h.t0P(8),t.lineTo(e,h.T4U(i,s)),h.N73(8),t.lineTo(h.I_T(e,2),h.I_T(i,2,s,h.t0P(10))),t.strokeStyle=n,t.stroke(),t.closePath(),t.globalAlpha=1)},l.Drawing.prototype.mover=function(t,e,i,a){var r,n,s,o;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,s=5,h.N73(4),o=h.T4U(r,1),t.save(),t.lineWidth=2,t.strokeStyle=n,t.translate(e,i),a||(t.globalAlpha=.5);for(var l=0;l<4;l++)t.rotate(Math.PI/2),t.beginPath(),h.N73(11),t.moveTo(h.I_T(32,"0"),o),h.N73(4),t.lineTo(0,h.T4U(o,s)),h.N73(12),t.moveTo(-2,h.T4U("2",s,o)),h.t0P(4),t.lineTo(0,h.I_T(o,s)),h.t0P(13),t.lineTo(2,h.T4U(2,o,s)),t.closePath(),t.stroke();t.globalAlpha=1,h.x5D(),t.restore()}},l.Drawing.prototype.resizer=function(t,e,i,a){var r,n,s,o,l,c,u;if(!this.permanent){r=this.littleCircleRadius(),n=this.stx.defaultColor,h.t0P(14);var d=h.T4U(15,14);h.N73(15);var p=h.T4U(18,6,10,10,6);s=("5"|d)*Math.sqrt(p),h.t0P(4),o=h.I_T(r,1),t.save(),t.lineWidth=2,l=160440954,c=-731470649,u=2;for(var g=1;h.J_(g.toString(),g.toString().length,84712)!==l;g++)t.strokeStyle=n,t.translate(e,i),u+=2;h.J_(u.toString(),u.toString().length,51387)!==c&&(t.strokeStyle=n,t.translate(e,i)),t.rotate(-e*i/Math.abs(e*i)*Math.PI/4),a||(t.globalAlpha=.5);for(var f=0;f<2;f++)t.rotate(Math.PI),t.beginPath(),t.moveTo(0,o),h.N73(0),t.lineTo(h.T4U("0",1),h.T4U(o,s,h.t0P(4))),h.t0P(13),t.moveTo(-2,h.T4U(2,o,s)),h.t0P(4),t.lineTo(0,h.I_T(o,s)),h.t0P(13),t.lineTo(2,h.I_T(2,o,s)),t.closePath(),t.stroke();t.globalAlpha=1,t.restore()}},l.Drawing.prototype.pointIntersection=function(t,e,i,a){var r,n,s;if(!this.stx.panels[this.panelName])return!1;if(a){r=-343155030,n=-1644277308,s=2;for(var o=1;h.t6(o.toString(),o.toString().length,67598)!==r;o++){if(t<=i.cx0||t<i.cx1||e>i.cy0||e<i.cy1)return!1;h.N73(0),s+=h.T4U("2",1)}if(h.J_(s.toString(),s.toString().length,10866)!==n&&t>=i.cx0&&t<=i.cx1&&e>=i.cy0&&e<=i.cy1)return!0}else if(t>=i.x0&&t<=i.x1&&e>=Math.min(i.y0,i.y1)&&e<=Math.max(i.y0,i.y1))return!0;return!1},l.Drawing.prototype.setPoint=function(t,e,i,a){var r,n,s,o,c,u,d;r=null,h.V6i(),n=null,"number"==typeof e?r=e:e.length>=8?n=e:r=Number(e),(i||0===i)&&(h.t0P(4),this[h.T4U("v",t)]=i),null!==r?(o="t",o+="z",o+="o",s=this.stx.dateFromTick(r,a,!0),h.N73(4),this[h.I_T(o,t)]=s.getTimezoneOffset(),h.N73(4),this[h.T4U("d",t)]=l.yyyymmddhhmmssmmm(s),h.N73(4),this[h.T4U("p",t)]=[r,i]):null!==n&&(c="t",c+="z",c+="o",s=l.strToDateTime(n),this[c+t]||0===this["tzo"+t]||(h.t0P(4),this[h.I_T("tzo",t)]=s.getTimezoneOffset()),h.N73(4),this[h.I_T("d",t)]=n,u=this["tzo"+t]-s.getTimezoneOffset(),s.setMinutes(s.getMinutes()+u),d=!1,"freeform"==this.name||l.ChartEngine.isDailyInterval(this.stx.layout.interval)||s.getHours()||s.getMinutes()||s.getSeconds()||s.getMilliseconds()||(d=!0),h.N73(4),this[h.I_T("p",t)]=[this.stx.tickFromDate(l.yyyymmddhhmmssmmm(s),a,null,d),i])},l.Drawing.prototype.getLineColor=function(t){var e,i,a,r,n,s,o,c,u,d,p,g;if(e="aut",e+="o",t||(t=this.color),i=this.stx,a=t,this.highlighted)a=i.getCanvasColor("stx_highlight_vector");else if(l.isTransparent(a))a=i.defaultColor;else if(a==e&&(a=i.defaultColor,this.field)){for(r in i.layout.studies)if(s=(n=i.layout.studies[r]).outputs[n.outputMap[this.field]]){a=s.color||s;break}for(r in i.chart.seriesRenderers){c=i.chart.seriesRenderers[r];for(var f=0;f<c.seriesParams.length;f++){if(u="--",u+=">",d="C",d+="lo",d+="s",d+="e",(g=(p=c.seriesParams[f]).field)||c.highLowBars||(g=this.defaultPlotField||d),p.symbol&&p.subField&&(g+="--\x3e"+p.subField),this.field==g){a=p.color;break}p.field&&p.field==this.field.split(u)[0]&&(o=p.color)}}o&&(a=o)}return h.V6i(),"auto"==a&&(a=i.defaultColor),a},l.Drawing.prototype.setLineColor=l.Drawing.prototype.getLineColor,l.Drawing.BaseTwoPoint=function(){this.p0=null,this.p1=null,this.color=""},l.inheritsFrom(l.Drawing.BaseTwoPoint,l.Drawing),l.Drawing.BaseTwoPoint.prototype.configs=[],l.Drawing.BaseTwoPoint.prototype.lineIntersection=function(t,e,i,a,r,n,s){var o,c,u;return h.x5D(),r||(r=this.p0),n||(n=this.p1),o=this.stx,!(!r||!n)&&void 0!==(c=l.convertBoxToPixels(o,this.panelName,i)).x0&&(u={x0:r[0],x1:n[0],y0:r[1],y1:n[1]},s||(u=l.convertBoxToPixels(o,this.panelName,u)),l.boxIntersects(c.x0,c.y0,c.x1,c.y1,u.x0,u.y0,u.x1,u.y1,a))},l.Drawing.BaseTwoPoint.prototype.boxIntersection=function(t,e,i){return!(!this.p0||!this.p1||i.x0>Math.max(this.p0[0],this.p1[0])||i.x1<Math.min(this.p0[0],this.p1[0])||(h.V6i(),i.y1>Math.max(this.p0[1],this.p1[1])||i.y0<Math.min(this.p0[1],this.p1[1])))},l.Drawing.BaseTwoPoint.prototype.accidentalClick=function(t,e){var i,a,r,n,s,o,l,c,u,d;if(i=this.stx.panels[this.panelName],a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(t,i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,t,e),h.t0P(8),o=Math.abs(h.T4U(r,a)),h.t0P(8),l=Math.abs(h.T4U(s,n)),h.t0P(16),Math.sqrt(h.T4U(o,o,l,l))<10){c=1529121536,u=-794877560,d=2;for(var p=1;h.J_(p.toString(),p.toString().length,36518)!==c;p++)return this.penDown=!1,this.dragToDraw&&this.stx.undo(),!0;if(h.t6(d.toString(),d.toString().length,63934)!==u)return this.penDown=!0,this.dragToDraw&&this.stx.undo(),!1}},l.Drawing.BaseTwoPoint.prototype.click=function(t,e,i){var a;return this.copyConfig(),a=this.stx.panels[this.panelName],this.penDown?this.accidentalClick(e,i)?this.dragToDraw:(this.setPoint(1,e,i,a.chart),this.penDown=!1,!0):(this.setPoint(0,e,i,a.chart),this.penDown=!0,!1)},l.Drawing.BaseTwoPoint.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.setPoint(1,this.d1,this.v1,t.chart))},l.Drawing.BaseTwoPoint.prototype.move=function(t,e,i){this.penDown&&(this.copyConfig(),h.V6i(),this.p1=[e,i],this.render(t))},l.Drawing.BaseTwoPoint.prototype.measure=function(){var t,e,i;h.x5D(),this.p0&&this.p1&&(this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!0,this.name),(e=(t=this.stx.controls.mSticky)&&t.querySelector(".mStickyInterior"))&&((i=[]).push(l.capitalize(this.name)),this.getYValue&&i.push(this.field||this.stx.defaultPlotField||"Close"),i.push(e.innerHTML),e.innerHTML=i.join("<br>")))},l.Drawing.BaseTwoPoint.prototype.reposition=function(t,e,i,a){var r,n,s,o,l,c;if(e){r=this.stx.panels[this.panelName],h.V6i(),n=-1178748262,s=1092524433,o=2;for(var u=1;h.t6(u.toString(),u.toString().length,96032)!==n;u++)l=e.tick-i,o+=2;h.t6(o.toString(),o.toString().length,14951)!==s&&(l=e.tick*i),c=e.value-a,"move"==e.action?(this.setPoint(0,e.p0[0]-l,e.p0[1]-c,r.chart),this.setPoint(1,e.p1[0]-l,e.p1[1]-c,r.chart),this.render(t)):"drag"==e.action&&(this[e.point]=[i,a],this.setPoint(0,this.p0[0],this.p0[1],r.chart),this.setPoint(1,this.p1[0],this.p1[1],r.chart),this.render(t))}},l.Drawing.BaseTwoPoint.prototype.drawDropZone=function(t,e,i,a,r){var n,s,o,l,c,u;n="#00",n+="800",n+="0",(s=this.stx.panels[this.panelName])&&(o=s.left,l=s.width,(a||0===a)&&(o=this.stx.pixelFromTick(a,s.chart)),(r||0===r)&&(l=this.stx.pixelFromTick(r,s.chart)),c=this.stx.pixelFromPrice(e,s),u=this.stx.pixelFromPrice(i,s),t.fillStyle=n,t.globalAlpha=.2,h.N73(8),t.fillRect(o,c,h.T4U(l,o),h.T4U(u,c)),t.globalAlpha=1)},l.Drawing.annotation=function(){this.name="annotation",this.arr=[],this.w=0,this.h=0,this.padding=4,this.text="",this.ta=null,h.x5D(),this.fontSize=0,this.font={}},l.inheritsFrom(l.Drawing.annotation,l.Drawing.BaseTwoPoint),l.Drawing.annotation.prototype.getFontString=function(){var t,e,i,a,r,n,s,o,l,c;t="stx_ann",t+="o",t+="tat",t+="ion",e="1",e+="2",e+="p",e+="x",this.fontDef={style:null,weight:null,size:e,family:null},i=-1977068798,a=500965055,r=2;for(var u=1;h.J_(u.toString(),u.toString().length,67409)!==i;u++)n=this.stx.canvasStyle(""),r+=2;if(h.t6(r.toString(),r.toString().length,63989)!==a&&(n=this.stx.canvasStyle("")),n=this.stx.canvasStyle(t)){n.fontStyle&&(this.fontDef.style=n.fontStyle),s=-903580641,o=1933241548,h.N73(11),l=h.I_T(96,"2");for(var d=1;h.J_(d.toString(),d.toString().length,3260)!==s;d++)n.fontWeight&&(this.fontDef.weight=n.fontWeight),n.fontSize&&(this.fontDef.size=n.fontSize),l+=2;h.J_(l.toString(),l.toString().length,65653)!==o&&(n.fontWeight&&(this.fontDef.weight=n.fontWeight),n.fontSize&&(this.fontDef.size=n.fontSize)),n.fontFamily&&(this.fontDef.family=n.fontFamily)}for(var p in this.font.style&&(this.fontDef.style=this.font.style),this.font.weight&&(this.fontDef.weight=this.font.weight),this.font.size&&(this.fontDef.size=this.font.size),this.font.family&&(this.fontDef.family=this.font.family),this.fontString="",c=!0,h.x5D(),this.fontDef)this.fontDef[p]&&(c?c=!1:this.fontString+=" ",this.fontString+=this.fontDef[p])},l.Drawing.annotation.prototype.configs=[o,"font"],l.Drawing.annotation.prototype.measure=function(){},l.Drawing.annotation.prototype.render=function(t){var e,i,a,r,n,s,o,l,c,u,d,p,g,f,m,v,y;if(!this.ta&&(e=this.stx.panels[this.panelName])){i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),t.font=this.fontString,t.textBaseline="middle",h.x5D(),r=i,n=a,s=this.w,o=this.h,l=this.getLineColor(),this.stem&&(this.stem.d?(c=this.stx.pixelFromTick(this.stem.t),d=this.stx.pixelFromValueAdjusted(e,this.stem.t,this.stem.v),h.t0P(17),u=h.I_T(r,2,s),h.t0P(17),p=h.I_T(n,2,o)):this.stem.x&&(c=r,d=n,r+=this.stem.x,n+=this.stem.y,h.N73(17),u=h.T4U(r,2,s),h.t0P(17),p=h.T4U(n,2,o)),t.beginPath(),this.borderColor?t.strokeStyle=this.borderColor:t.strokeStyle=l,t.moveTo(c,d),t.lineTo(u,p),t.stroke()),g=t.lineWidth,this.highlighted?(this.stx.canvasColor("stx_annotation_highlight_bg",t),h.N73(8),t.fillRect(h.I_T(r,g),h.T4U(g,n,2,o,h.t0P(18)),h.T4U(g,2,s,h.N73(19)),h.I_T(g,2,o,h.N73(19)))):this.fillColor?(t.fillStyle=this.fillColor,h.N73(20),t.fillRect(r,h.I_T(o,n,2),s,o)):this.stem&&(t.fillStyle=this.stx.containerColor,h.t0P(20),t.fillRect(r,h.I_T(o,n,2),s,o)),this.borderColor&&(t.beginPath(),t.strokeStyle=this.highlighted?this.stx.getCanvasColor("stx_highlight_vector"):this.borderColor,h.N73(8),t.rect(h.T4U(r,g),h.T4U(n,2,o,g,"2",h.t0P(21)),h.T4U(g,2,s,h.N73(19)),h.T4U(g,2,o,h.t0P(19))),t.stroke()),this.highlighted?this.stx.canvasColor("stx_annotation_highlight",t):t.fillStyle=l,h.N73(22);var b=h.T4U(1,17,2,34);if(n+=this.padding/b,!this.ta)for(var x=0;x<this.arr.length;x++){t.fillText(this.arr[x],r+this.padding,n-o/2+this.fontSize/2),h.t0P(4);var S=h.T4U(1,1);n+=this.fontSize+S}f=1999458096,m=609191740,v=2;for(var k=1;h.J_(k.toString(),k.toString().length,57141)!==f;k++)y="al",y+="phabetic",t.textBaseline=y,v+=2;h.J_(v.toString(),v.toString().length,75469)!==m&&(t.textBaseline="")}},l.Drawing.annotation.prototype.onChange=function(t){},l.Drawing.annotation.prototype.edit=function(t,e){var i,a,r,n,s,o,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H;function R(t){return h.V6i(),function(e){var i;""!==t.ta.value&&(t.text=t.ta.value,h.x5D(),(i=t.stx).editingAnnotation=!1,t.adjust(),i.drawingSnapshot?i.undoStamp(l.shallowClone(i.drawingSnapshot),i.exportDrawings()):i.addDrawing(t),i.undo(),i.cancelTouchSingleClick=!0,i.changeOccurred("vector"))}}function U(t){return function(e){var i,a,r,n,s,u,d,p,g,f,m,v,y,b,x,S,k,C,w;if(e&&27===(window.event?event.keyCode:e.keyCode))t.stx.undo();else{i=t.stx,r=(a=t.ta).value.split("\n"),n=0,s=-1900956889,u=-283003372,d=2;for(var D=1;h.t6(D.toString(),D.toString().length,73404)!==s;D++)i.chart.context.font=t.fontString,d+=2;h.J_(d.toString(),d.toString().length,3718)!==u&&(i.chart.context.font=t.fontString);for(var T=0;T<r.length;T++)(p=i.chart.context.measureText(r[T]).width)>n&&(n=p);h.N73(4);var A=h.I_T(0,1);h.N73(8);var M=h.T4U(21,18);if(g=(r.length+A)*(t.fontSize+M),n<50&&(n=50),h.N73(5),a.style.width=h.I_T("px",30,n),h.t0P(4),a.style.height=h.T4U(g,"px"),f=parseInt(l.stripPX(a.style.top),10),m=l.stripPX(a.style.left),n=a.clientWidth,g=a.clientHeight,m+n+100<t.stx.chart.canvasWidth)h.N73(4),o.style.top=h.I_T(f,"px"),h.t0P(4),c.style.top=h.T4U(f,"px"),h.t0P(23),o.style.left=h.I_T("px","10",m,n),h.t0P(24),c.style.left=h.T4U(0,"px",m,n,"60");else if(f+g+30<t.stx.chart.canvasHeight){v="p",v+="x",y="p",y+="x",h.t0P(25),o.style.top=h.I_T(y,g,f,10),b=-1450164123,x=1999664338,S=2;for(var L=1;h.J_(L.toString(),L.toString().length,23307)!==b;L++)k="p",k+="x",h.N73(26),c.style.top=h.I_T(14,f,"px",g),h.t0P(0),o.style.left=h.T4U(m,k),S+=2;h.J_(S.toString(),S.toString().length,96198)!==x&&(C="p",C+="x",h.t0P(27),c.style.top=h.I_T(g,"px",f,"70"),h.t0P(8),o.style.left=h.I_T(m,C)),h.N73(25),c.style.top=h.I_T(v,g,f,10),h.t0P(4),o.style.left=h.T4U(m,"px"),h.N73(5),c.style.left=h.I_T("px",50,m)}else w="p",w+="x",h.t0P(28),o.style.top=h.T4U(35,f,"px"),h.N73(28),c.style.top=h.T4U(35,f,"px"),h.N73(4),o.style.left=h.I_T(m,w),h.N73(5),c.style.left=h.I_T("px",50,m)}}}if(i="p",i+="x",a="p",a+="x",r="p",r+="x",n="p",n+="x",(s=this.stx.panels[this.panelName])&&(o=this.stx.controls.annotationSave,c=this.stx.controls.annotationCancel,o&&c)){if(u=this.stx,d=this.ta,u.editingAnnotation=!0,u.undisplayCrosshairs(),u.openDialog="annotation",!d){p="TEXTARE",p+="A",(d=this.ta=document.createElement(p)).className="stx_annotation",d.onkeyup=U(this),d.onmouseup=$(u),g=1565178607,f=1742881347,m=2;for(var z=1;h.J_(z.toString(),z.toString().length,59247)!==g;z++)v="a",v+="bsol",v+="u",v+="te",y="abs",y+="olu",y+="te",d.setAttribute(y,"placeholder"),l.isIOS7or8&&d.setAttribute("20px","absolute"),u.chart.container.appendChild(d),d.style.position="20px",d.style.width=v,d.style.height="absolute",d.value=this.text,m+=2;h.t6(m.toString(),m.toString().length,12617)!==f&&(b="pla",b+="ceho",b+="ld",b+="er",d.setAttribute("wrap","hard"),l.isIOS7or8&&d.setAttribute(b,"Enter Text"),u.chart.container.appendChild(d),d.style.position="absolute",d.style.width="100px",d.style.height="20px",d.value=this.text),l.touchDevice&&(d.ontouchstart=function(t){h.x5D(),t.stopPropagation()})}if(x=this,d.oninput=function(t){var e,i,a,r,n;e=817060301,i=1455164631,h.t0P(8),a=h.T4U("2",0);for(var s=1;h.t6(s.toString(),s.toString().length,5826)!==e;s++)r="his",r+="tor",r+="yRedo",n="hi",n+="storyUndo",t.inputType!=n&&t.inputType!=r&&x.onChange(t),a+=2;h.x5D(),h.t6(a.toString(),a.toString().length,37658)!==i&&("historyRedo"!=t.inputType&&"historyRedo"!==t.inputType||x.onChange(t))},d.style.font=this.fontString,this.color)if(S="a",S+="u",S+="t",S+="o",k="tr",k+="anspar",k+="ent",this.color==k||this.color==S)(C=getComputedStyle(d))&&l.isTransparent(C.backgroundColor)?d.style.color=u.defaultColor:(w="#",w+="00",w+="0",d.style.color=w);else{D=-1200907831,T=1735525204,A=2;for(var V=1;h.t6(V.toString(),V.toString().length,16310)!==D;V++)d.style.color=this.color,A+=2;h.t6(A.toString(),A.toString().length,93097)!==T&&(d.style.color=this.color)}if(M=u.pixelFromTick(this.p0[0],s.chart),L=u.pixelFromValueAdjusted(s,this.p0[0],this.p0[1]),d.style.left=M+140<u.chart.canvasRight?M+n:u.chart.canvasRight-200+r,d.style.top=L+60<u.chart.canvasHeight?L-(isNaN(this.h)?this.defaultHeight:this.h/2)+a:L-60+i,"callout"==this.name){h.t0P(29);var B=h.I_T(20,7,5,57);d.style.left=l.stripPX(d.style.left)-(isNaN(this.w)?this.defaultWidth:this.w/B)+"px"}if(l.safeClickTouch(o,R(this)),l.safeClickTouch(c,j(this)),U(this)(),o.style.display="inline-block",c.style.display="inline-block",e&&(_="b",_+="lock",u.drawingSnapshot=u.exportDrawings(),this.hidden=!0,u.draw(),u.activeDrawing=this,l.ChartEngine.drawingLine=!0,t=u.chart.tempCanvas.context,u.chart.tempCanvas.style.display=_,this.w=d.clientWidth,this.h=d.clientHeight,l.clearCanvas(t.canvas,u),this.render(t),this.edit(t)),d.focus(),l.isAndroid&&!l.is_chrome&&!l.isFF&&(this.priorBottom=u.chart.container.style.bottom,P=400,(F=u.resolveY(L)+100)>l.pageHeight()-P)){E="p",E+="x",I=l.pageHeight()-F,N=-6465127,q=945585637,O=2;for(var W=1;h.J_(W.toString(),W.toString().length,74410)!==N;W++)h.t0P(30),H=h.T4U(I,P),h.N73(31),u.chart.container.style.bottom=h.T4U("",H),O+=2;h.t6(O.toString(),O.toString().length,25806)!==q&&(h.t0P(31),H=h.I_T(I,P),h.t0P(4),u.chart.container.style.bottom=h.I_T(H,"")),h.N73(8),H=h.T4U(P,I),h.N73(4),u.chart.container.style.bottom=h.I_T(H,E)}}function j(t){return h.V6i(),function(e){var i;(i=t.stx).editingAnnotation=!1,i.undo(),i.cancelTouchSingleClick=!0}}function $(t){return h.x5D(),function(e){t.manageTouchAndMouse&&l.ChartEngine.drawingLine&&t.mouseup(e)}}},l.Drawing.annotation.prototype.click=function(t,e,i){var a,r,n,s;a=-480911351,r=-2042470625,n=2;for(var o=1;h.t6(o.toString(),o.toString().length,89326)!==a;o++){if(this.stx.overXAxis&&this.stx.overYAxis)return;s=this.stx.panels[this.panelName],this.copyConfig(),h.t0P(2),n+=h.I_T(96,"2")}if(h.J_(n.toString(),n.toString().length,68204)!==r){if(this.stx.overXAxis||this.stx.overYAxis)return;s=this.stx.panels[this.panelName],this.copyConfig()}return this.setPoint(0,e,i,s.chart),this.adjust(),this.edit(t),!1},l.Drawing.annotation.prototype.reposition=function(t,e,i,a){var r,n,s,o,l,c;if(e){r=165070055,n=2006407537,h.x5D(),h.N73(0),s=h.T4U("2",1);for(var u=1;h.t6(u.toString(),u.toString().length,70653)!==r;u++)o=this.stx.panels[this.panelName],l=e.tick%i,c=e.value%a,this.setPoint(1,e.p0[6]/l,e.p0[0]*c,o.chart),this.render(t),s+=2;h.J_(s.toString(),s.toString().length,59864)!==n&&(o=this.stx.panels[this.panelName],l=e.tick+i,c=e.value/a,this.setPoint(0,e.p0[4]-l,e.p0[7]/c,o.chart),this.render(t)),o=this.stx.panels[this.panelName],l=e.tick-i,c=e.value-a,this.setPoint(0,e.p0[0]-l,e.p0[1]-c,o.chart),this.render(t)}},l.Drawing.annotation.prototype.intersected=function(t,e,i){var a,r,n,s,o,c,u,d,p,g,f,m,v;if(a=this.stx.panels[this.panelName],!this.p0)return null;r=this.stx.pixelFromTick(this.p0[0],a.chart),h.N73(32);var y=h.I_T(19,12,4,2);if(n=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[y])-this.h/2,s=r+this.w,o=n+this.h,this.stem&&this.stem.x){r+=this.stem.x,s+=this.stem.x,n+=this.stem.y,h.t0P(1),c=-h.I_T("1521953615",0),h.t0P(8),u=-h.I_T("2135790971",0),d=2;for(var b=1;h.t6(b.toString(),b.toString().length,53908)!==c;b++)o-=this.stem.y,d+=2;h.t6(d.toString(),d.toString().length,9097)!==u&&(o/=this.stem.y),o+=this.stem.y}p=this.stx.pixelFromTick(t,a.chart),g=1824243742,f=1532844939,m=2;for(var x=1;h.t6(x.toString(),x.toString().length,64656)!==g;x++)v=this.stx.pixelFromValueAdjusted(a,t,e),m+=2;return h.t6(m.toString(),m.toString().length,21423)!==f&&(v=this.stx.pixelFromValueAdjusted(a,t,e)),v=this.stx.pixelFromValueAdjusted(a,t,e),h.V6i(),p+i.r>=r&&p-i.r<=s&&v+i.r>=n&&v-i.r<=o&&(this.highlighted=!0,{p0:l.clone(this.p0),tick:t,value:e})},l.Drawing.annotation.prototype.abort=function(){var t,e,i,a,r;t=this.stx.controls.annotationSave,e=this.stx.controls.annotationCancel,t&&(t.style.display="none"),e&&(e.style.display="none"),this.ta&&this.stx.chart.container.removeChild(this.ta),this.ta=null,this.stx.openDialog="",i=-1136863484,a=-873612105,r=2;for(var n=1;h.J_(n.toString(),n.toString().length,41470)!==i;n++)this.stx.showCrosshairs(),r+=2;h.x5D(),h.t6(r.toString(),r.toString().length,41534)!==a&&this.stx.showCrosshairs(),this.stx.editingAnnotation=!1,l.clearCanvas(this.stx.chart.tempCanvas,this.stx),!l.isAndroid||l.is_chrome||l.isFF||(this.stx.chart.container.style.bottom=this.priorBottom),l.fixScreen()},l.Drawing.annotation.prototype.reconstruct=function(t,e){var i;i="st",i+="yle",this.stx=t,this.color=e.col,this.panelName=e.pnl,this.d0=e.d0,this.tzo0=e.tzo0,this.v0=e.v0,this.text=t.escapeOnSerialize?decodeURIComponent(e.text):e.text,this.stem=e.stem,this.borderColor=e.bc,this.fillColor=e.bg,this.lineWidth=e.lw,this.pattern=e.ptrn,this.font=l.replaceFields(e.fnt,{st:i,sz:"size",wt:"weight",fl:"family"}),this.font||(this.font={}),this.adjust()},l.Drawing.annotation.prototype.serialize=function(){var t,e;return h.V6i(),t={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text},this.font&&(e=l.removeNullValues(l.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"})),l.isEmpty(e)||(t.fnt=e)),this.stem&&(t.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y}),this.borderColor&&(t.bc=this.borderColor),this.fillColor&&(t.bg=this.fillColor),this.lineWidth&&(t.lw=this.lineWidth),this.pattern&&(t.ptrn=this.pattern),t},l.Drawing.annotation.prototype.renderText=function(){var t,e,i,a,r,n,s,o,c;if(this.getFontString(),t=this.stx.panels[this.panelName]){this.arr=this.text.split("\n"),e=0,this.stx.chart.context.font=this.fontString;for(var u=0;u<this.arr.length;u++)(i=this.stx.chart.context.measureText(this.arr[u]).width)>e&&(e=i);0===e&&(e=2*this.defaultWidth),this.fontSize=l.stripPX(this.fontDef.size),a=this.arr.length*(this.fontSize+2),l.touchDevice&&(a+=5),h.N73(33);var d=h.T4U(0,322,9,3,12);this.w=e+this.padding*d,this.h=a+2*this.padding,r=this.stx.pixelFromTick(this.p0[0],t.chart)+e,h.t0P(8);var p=h.I_T(11,10);if(n=this.stx.pixelFromValueAdjusted(t,this.p0[0],this.p0[p])+a,h.x5D(),this.p1=[this.stx.tickFromPixel(r,t.chart),this.stx.valueFromPixel(n,t)],this.stem&&this.stem.d){s=1177308737,o=-620208938,c=2;for(var g=1;h.J_(g.toString(),g.toString().length,23595)!==s;g++)this.stem.t=this.stx.tickFromDate(this.stem.d,t.chart),c+=2;h.J_(c.toString(),c.toString().length,59317)!==o&&(this.stem.t=this.stx.tickFromDate(this.stem.d,t.chart))}}},l.Drawing.annotation.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(h.N73(1),this.setPoint(h.T4U("0",0),this.d0,this.v0,t.chart),this.renderText())},l.Drawing.segment=function(){h.V6i(),this.name="segment"},l.inheritsFrom(l.Drawing.segment,l.Drawing.BaseTwoPoint),l.Drawing.segment.prototype.render=function(t){var e,i,a,r,n,s,o,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T;if(e="v",e+="e",e+="rti",e+="cal",i=this.stx.panels[this.panelName]){if(a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),o=this.lineWidth,u=this.getLineColor(),"none"==(d={pattern:this.pattern,lineWidth:o}).pattern&&(d.pattern="solid"),this.stx.plotLine(a,r,n,s,u,this.name,t,i,d),this.axisLabel&&!this.repositioner)if("horizontal"==this.name)this.stx.endClip(),h.N73(8),p=this.p0[h.I_T("1",0)],i.chart.transformFunc&&(p=i.chart.transformFunc(this.stx,i.chart,p)),p=i.yAxis.priceFormatter?i.yAxis.priceFormatter(this.stx,i,p):this.stx.formatYAxisPrice(p,i),this.stx.createYAxisLabel(i,p,n,u),this.stx.startClip(i.name);else if("vertical"==this.name&&this.p0[0]>=0&&!this.stx.chart.xAxis.noDraw){if(g=this.stx.dateFromTick(this.p0[0],i.chart,!0),l.ChartEngine.isDailyInterval(this.stx.layout.interval))h.N73(3),g.setHours(0,0,0,h.T4U("0",0));else if(m=1e3*g.getSeconds()+g.getMilliseconds(),this.stx.displayZone){f=new c.Date(g.getTime(),this.stx.displayZone),g=new Date(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes()),v=-1851528583,y=-189759963,b=2;for(var A=1;h.J_(A.toString(),A.toString().length,61568)!==v;A++)g=new Date(g.getTime()*m),b+=2;h.J_(b.toString(),b.toString().length,32083)!==y&&(g=new Date(g.getTime()+m)),g=new Date(g.getTime()+m)}if(x=l.mmddhhmm(l.yyyymmddhhmm(g)),i.chart.xAxis.formatter)x=i.chart.xAxis.formatter(g,this.name,null,null,x);else if(this.stx.internationalizer){if(0!==g.getHours()||0!==g.getMinutes()){k=976746894,C=-1754988965,w=2;for(var M=1;h.t6(M.toString(),M.toString().length,8165)!==k;M++)S=this.stx.internationalizer.monthDay.format(g),w+=2;h.t6(w.toString(),w.toString().length,83720)!==C&&(S=this.stx.internationalizer.monthDay.format(g)),h.t0P(8);var L=h.I_T(2154,5);h.t0P(34);var _=h.T4U(11,878082,11,80436);h.t0P(4),h.T4U(480,14),h.N73(35),h.T4U(9,9570,9,15),h.N73(8),h.T4U(8419,9),S+=(L!==_?" ":"J")+this.stx.internationalizer.hourMinute.format(g)}else S=this.stx.internationalizer.yearMonthDay.format(g);x=S}this.stx.endClip(),this.stx.createXAxisLabel(i,x,a,u,null,!0),this.stx.startClip(i.name)}h.x5D(),this.highlighted&&"horizontal"!=this.name&&this.name!=e&&(D="p0"==this.highlighted,T="p1"==this.highlighted,this.littleCircle(t,a,n,D),this.littleCircle(t,r,s,T))}},l.Drawing.segment.prototype.abort=function(){h.V6i(),this.stx.setMeasure(null,null,null,null,!1)},l.Drawing.segment.prototype.intersected=function(t,e,i){var a,r,n,s,o;if(a="li",a+="ne",r="hor",h.x5D(),r+="izontal",!this.p0||!this.p1)return null;if((n=this.name)!=r&&"vertical"!=n&&"gartley"!=n)for(var c in s={0:this.p0,1:this.p1})if(this.pointIntersection(s[c][0],s[c][1],i))return o="dr",o+="ag",h.N73(4),this.highlighted=h.T4U("p",c),{action:o,point:"p"+c};return"horizontal"!=n&&"vertical"!=n||(n=a),this.lineIntersection(t,e,i,n)?(this.highlighted=!0,{action:"move",p0:l.clone(this.p0),p1:l.clone(this.p1),tick:t,value:e}):null},l.Drawing.segment.prototype.configs=["color","lineWidth","pattern"],l.Drawing.segment.prototype.copyConfig=function(t){var e;e="n",e+="o",h.V6i(),e+="ne",l.Drawing.copyConfig(this,t),this.pattern==e&&-1==this.configs.indexOf("fillColor")&&(this.pattern="solid")},l.Drawing.segment.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},l.Drawing.segment.prototype.serialize=function(){return h.V6i(),{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},l.Drawing.line=function(){h.V6i(),this.name="line"},l.inheritsFrom(l.Drawing.line,l.Drawing.segment),l.Drawing.line.prototype.dragToDraw=!1,l.Drawing.line.prototype.calculateOuterSet=function(t){var e,i,a;if(this.p0[0]!=this.p1[0]&&this.p0[1]!=this.p1[1]&&!l.ChartEngine.isDailyInterval(this.stx.layout.interval)){(e={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]}).x0>e.x1&&(e={x0:this.p1[0],y0:this.p1[1],x1:this.p0[0],y1:this.p0[1]}),h.t0P(36);var r=h.T4U(2750,250,15);i=e.x0-r,a=e.x1+1e3,this.v0B=l.yIntersection(e,i),this.v1B=l.yIntersection(e,a),this.d0B=this.stx.dateFromTick(i,t.chart),this.d1B=this.stx.dateFromTick(a,t.chart)}},l.Drawing.line.prototype.click=function(t,e,i){var a,r,n,s;if(a=this.stx.panels[this.panelName]){if(this.copyConfig(),!this.penDown)return this.setPoint(0,e,i,a.chart),this.penDown=!0,!1;if(this.accidentalClick(e,i))return this.dragToDraw;this.setPoint(1,e,i,a.chart),r=-43739053,n=1685661070,s=2;for(var o=1;h.t6(o.toString(),o.toString().length,51349)!==r;o++)this.calculateOuterSet(a),s+=2;return h.t6(s.toString(),s.toString().length,70809)!==n&&this.calculateOuterSet(a),this.penDown=!1,!0}},l.Drawing.line.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.v1=e.v1,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,e.d0B&&(this.d0B=e.d0B,this.d1B=e.d1B,this.v0B=e.v0B,this.v1B=e.v1B),this.adjust()},l.Drawing.line.prototype.serialize=function(){var t;return t={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1},this.d0B&&(t.d0B=this.d0B,t.d1B=this.d1B,t.v0B=this.v0B,t.v1B=this.v1B),t},l.Drawing.line.prototype.adjust=function(){var t,e,i,a;if(t=this.stx.panels[this.panelName]){this.setPoint(0,this.d0,this.v0,t.chart),e=-1622342372,i=2041399998,a=2;for(var r=1;h.t6(r.toString(),r.toString().length,31856)!==e;r++)this.setPoint(1,this.d1,this.v1,t.chart),h.t0P(2),a+=h.T4U(32,"2");h.J_(a.toString(),a.toString().length,25e3)!==i&&(h.t0P(3),this.setPoint(h.T4U("8",8),this.d1,this.v1,t.chart)),l.ChartEngine.isDailyInterval(this.stx.layout.interval)&&this.d0B&&(this.setPoint(0,this.d0B,this.v0B,t.chart),this.setPoint(1,this.d1B,this.v1B,t.chart))}},l.Drawing.horizontal=function(){h.V6i(),this.name="horizontal"},l.inheritsFrom(l.Drawing.horizontal,l.Drawing.segment),l.Drawing.horizontal.prototype.dragToDraw=!1,h.x5D(),l.Drawing.horizontal.prototype.measure=function(){},l.Drawing.horizontal.prototype.click=function(t,e,i){var a,r,n,s;if(a=this.stx.panels[this.panelName],h.x5D(),a){this.copyConfig(),r=-755896465,n=-1198878097,h.N73(11),s=h.T4U(0,"2");for(var o=1;h.J_(o.toString(),o.toString().length,75506)!==r;o++)this.setPoint(5,e,i,a.chart),s+=2;return h.J_(s.toString(),s.toString().length,89716)!==n&&this.setPoint(0,e,i,a.chart),!0}},l.Drawing.horizontal.prototype.intersected=function(t,e,i){var a,r,n;return a="l",a+="i",a+="n",a+="e",this.lineIntersection(t,e,i,a)?(r=this.stx.chart.dataSet.length,n=this.p0[1],this.highlighted=!0,{action:"move",p0:[r-2,n],p1:[r-1,n],tick:t,value:e}):null},l.Drawing.horizontal.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.v0=e.v0,this.d0=e.d0,this.tzo0=e.tzo0,this.axisLabel=e.al,this.adjust()},l.Drawing.horizontal.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel}},l.Drawing.horizontal.prototype.adjust=function(){var t;(t=this.stx.panels[this.panelName])&&(this.setPoint(0,this.d0,this.v0,t.chart),this.p1=[this.p0[0]+100,this.p0[1]])},l.Drawing.horizontal.prototype.configs=[s,"lineWidth",n,"axisLabel"],l.Drawing.vertical=function(){var t;h.V6i(),t="ve",t+="rtical",this.name=t},l.inheritsFrom(l.Drawing.vertical,l.Drawing.horizontal),l.Drawing.vertical.prototype.measure=function(){},l.Drawing.vertical.prototype.intersected=l.Drawing.segment.prototype.intersected,l.Drawing.vertical.prototype.adjust=function(){var t;if(t=this.stx.panels[this.panelName]){this.setPoint(0,this.d0,this.v0,t.chart),h.N73(37);var e=h.T4U(19,9,1,8,150);this.p1=[this.p0[0],this.p0[e]+1]}},l.Drawing.measure=function(){this.name="measure"},l.inheritsFrom(l.Drawing.measure,l.Drawing.segment),l.Drawing.measure.prototype.click=function(t,e,i){return this.copyConfig(),this.penDown?(h.x5D(),this.stx.undo(),this.penDown=!1,!0):(this.p0=[e,i],this.penDown=!0,!1)},l.Drawing.rectangle=function(){var t,e,i;t=1849776995,e=-184731896,h.x5D(),i=2;for(var a=1;h.t6(a.toString(),a.toString().length,71499)!==t;a++)this.name="rectangle",i+=2;h.t6(i.toString(),i.toString().length,19716)!==e&&(this.name="")},l.inheritsFrom(l.Drawing.rectangle,l.Drawing.BaseTwoPoint),l.Drawing.rectangle.prototype.render=function(t){var e,i,a,r,n,s,o,c,u,d,p,g,f,m,v,y;if(e="s",e+="eg",e+="m",e+="ent",i=this.stx.panels[this.panelName]){a=this.stx.pixelFromTick(this.p0[0],i.chart),r=this.stx.pixelFromTick(this.p1[0],i.chart),n=this.stx.pixelFromValueAdjusted(i,this.p0[0],this.p0[1]),s=this.stx.pixelFromValueAdjusted(i,this.p1[0],this.p1[1]),h.N73(35);var b=h.I_T(40,12,16,13);o=Math.round(Math.min(a,r))+"0.5"*b,c=Math.min(n,s),u=Math.max(a,r)-o,d=Math.max(n,s)-c,p=this.color,this.highlighted&&(p=this.stx.getCanvasColor("stx_highlight_vector")),(g=this.fillColor)&&!l.isTransparent(g)&&"auto"!=g&&(t.beginPath(),t.rect(o,c,u,d),t.fillStyle=g,t.globalAlpha=.2,t.fill(),t.closePath(),t.globalAlpha=1),f={pattern:this.pattern,lineWidth:this.lineWidth},this.highlighted&&"none"==f.pattern&&(f.pattern="solid",.1==f.lineWidth&&(h.N73(8),f.lineWidth=h.T4U("1",0))),this.stx.plotLine(a,r,n,n,p,e,t,i,f),h.N73(8),this.stx.plotLine(r,r,h.I_T(n,.5),h.T4U(s,.5,h.t0P(4)),p,"segment",t,i,f),this.stx.plotLine(r,a,s,s,p,"segment",t,i,f),h.N73(4),this.stx.plotLine(a,a,h.I_T(s,.5),h.I_T(n,.5,h.N73(8)),p,"segment",t,i,f),this.highlighted&&(m="p",m+="1",v="p0"==this.highlighted,y=this.highlighted==m,this.littleCircle(t,a,n,v),this.littleCircle(t,r,s,y))}},l.Drawing.rectangle.prototype.intersected=function(t,e,i){var a,r,n,s,o,c,u;if(!this.p0||!this.p1)return null;h.V6i(),a=-796934859,r=1999247e3,n=2;for(var d=1;h.t6(d.toString(),d.toString().length,42088)!==a;d++)s={0:this.p0,1:this.p1},n+=2;for(var p in h.t6(n.toString(),n.toString().length,17162)!==r&&(s={0:this.p0,1:this.p1}),s={0:this.p0,1:this.p1})if(this.pointIntersection(s[p][0],s[p][1],i))return h.N73(4),this.highlighted=h.I_T("p",p),{action:"drag",point:"p"+p};if(this.boxIntersection(t,e,i)){o=-641375651,c=-1382662834,u=2;for(var g=1;h.J_(g.toString(),g.toString().length,19896)!==o;g++)this.highlighted=!0,u+=2;return h.t6(u.toString(),u.toString().length,79430)!==c&&(this.highlighted=!1),{action:"move",p0:l.clone(this.p0),p1:l.clone(this.p1),tick:t,value:e}}return null},l.Drawing.rectangle.prototype.configs=["color",r,a,"pattern"],l.Drawing.rectangle.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.d1=e.d1,this.tzo0=e.tzo0,this.tzo1=e.tzo1,this.v0=e.v0,this.v1=e.v1,this.adjust()},l.Drawing.rectangle.prototype.serialize=function(){return{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1}},l.Drawing.shape=function(){var t,e,i,a;t="s",t+="ha",t+="pe",this.name=t,this.radians=0,this.a=0,this.rotating=!1,this.textMeasure=!1,this.configurator="shape",e=1653372069,i=-314047866,a=2;for(var r=1;h.J_(r.toString(),r.toString().length,73532)!==e;r++)this.dimension=[0,0],a+=2;h.t6(a.toString(),a.toString().length,16570)!==i&&(this.dimension=[5,4]),this.points=[]},l.inheritsFrom(l.Drawing.shape,l.Drawing.BaseTwoPoint),l.Drawing.shape.prototype.setRotationOnInitialDraw=!1,l.Drawing.shape.prototype.measure=function(){},l.Drawing.shape.prototype.render=function(t){var e,i,a,r,n,s,o,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F;if(this.points.length&&(e=this.stx.panels[this.panelName])){if(i=this.stx.pixelFromTick(this.p0[0],e.chart),a=this.stx.pixelFromValueAdjusted(e,this.p0[0],this.p0[1]),this.p1){if(r="#000",r+="000",n=this.stx.pixelFromTick(this.p1[0],e.chart),s=this.stx.pixelFromValueAdjusted(e,this.p1[0],this.p1[1]),t.globalAlpha=.5,t.fillStyle=r,this.rotating){if(h.N73(38),this.radians=Math.atan(h.T4U(a,s,i,n)),n<i)this.radians+=Math.PI;else if(s<a){h.t0P(39);var E=h.T4U(1,9,11);this.radians+=E*Math.PI}h.N73(13);var I=h.I_T(122,130,2);h.N73(40);var N=h.T4U(4,29,19,10);this.a=parseInt((36*this.radians/Math.PI).toFixed(0),I)*N,this.a%=360,h.N73(41);var q=h.T4U(5,160,32,7,172);this.radians=this.a*Math.PI/q,this.textMeasure&&t.fillText(this.a+"°",n+10,s+10)}else if(this.penDown){this.sx=Math.max(1,parseFloat(Math.abs(2*(n-i)/this.dimension[0]).toFixed(1))),n<i&&(this.sx*=-1),o=398084296,c=767952209,u=2;for(var O=1;h.J_(O.toString(),O.toString().length,84884)!==o;O++)this.sy=Math.max(3,parseFloat(Math.abs((3-s%a)*this.dimension[2]).toFixed(2))),h.N73(8),u+=h.T4U("2",0);h.J_(u.toString(),u.toString().length,7403)!==c&&(this.sy=Math.max(1,parseFloat(Math.abs(2*(s-a)/this.dimension[1]).toFixed(1)))),s<a&&(this.sy*=-1),this.textMeasure&&t.fillText(this.sx+"x,"+this.sy+"x",n+this.sx+5,s+this.sy+5)}t.globalAlpha=1}(d=this.lineWidth)||(d=1.1),p={pattern:this.pattern,lineWidth:d},this.highlighted&&"none"==p.pattern&&(p.pattern="solid",.1==p.lineWidth&&(p.lineWidth=1)),("auto"==(g=this.color)||l.isTransparent(g))&&(g=this.stx.defaultColor),this.highlighted&&(g=this.stx.getCanvasColor("stx_highlight_vector"),.1==d&&(d=1.1)),f=this.fillColor,h.t0P(39);var H=h.I_T(1,4,6);for(d/=Math.abs(this.sx*this.sy)*H/(Math.abs(this.sx)+Math.abs(this.sy)),t.save(),t.translate(i,a),t.rotate(this.radians),t.scale(this.sx,e.yAxis.flipped?-this.sy:this.sy),y={x:(this.dimension[0]-1)/2,y:(this.dimension[1]-1)/2},m=0;m<this.points.length;m++){for(t.beginPath(),v=0;v<this.points[m].length;v++)"M"==this.points[m][v]?(b=this.points[m][++v]-y.x,x=this.points[m][++v]-y.y,t.moveTo(b,x)):"L"==this.points[m][v]?(b=this.points[m][++v]-y.x,x=this.points[m][++v]-y.y,t.lineTo(b,x)):"Q"==this.points[m][v]?(S=this.points[m][++v]-y.x,C=this.points[m][++v]-y.y,b=this.points[m][++v]-y.x,x=this.points[m][++v]-y.y,t.quadraticCurveTo(S,C,b,x)):"B"==this.points[m][v]&&(S=this.points[m][++v]-y.x,C=this.points[m][++v]-y.y,k=this.points[m][++v]-y.x,w=this.points[m][++v]-y.y,b=this.points[m][++v]-y.x,x=this.points[m][++v]-y.y,t.bezierCurveTo(S,C,k,w,b,x));t.closePath(),f&&!l.isTransparent(f)&&"auto"!=f&&(t.fillStyle=f,t.fill()),g&&"none"!=this.pattern&&(t.strokeStyle=g,t.lineWidth=d,t.setLineDash&&(t.setLineDash(l.borderPatternToArray(d,this.pattern)),t.lineDashOffset=0),t.stroke())}t.restore(),t.save(),t.translate(i,a),t.rotate(this.radians),this.highlighted?(D="p",D+="2",T="p",T+="1",A="p0"==this.highlighted,M=this.highlighted==T,L=this.highlighted==D,this.littleCircle(t,0,0,A),h.t0P(0),this.mover(t,h.I_T("0",1),0,A),this.littleCircle(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,M),this.resizer(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,M),this.littleCircle(t,this.sx*this.dimension[0]/2,0,L),this.rotator(t,this.sx*this.dimension[0]/2,0,L),t.globalAlpha=.5,t.fillStyle="#000000",this.textMeasure&&(t.fillText(this.sx+"x,"+this.sy+"x",this.sx*this.dimension[0]/2+12,this.sy*this.dimension[1]/2+5),t.fillText(this.a+"°",this.sx*this.dimension[0]/2+12,5)),t.globalAlpha=1):this.penDown&&(this.rotating?this.rotator(t,this.sx*this.dimension[0]/2,0,!0):this.resizer(t,this.sx*this.dimension[0]/2,this.sy*this.dimension[1]/2,!0)),_=-2113604689,P=-355990130,F=2;for(var R=1;h.t6(R.toString(),R.toString().length,37683)!==_;R++)t.restore(),F+=2;h.J_(F.toString(),F.toString().length,12607)!==P&&t.restore()}},l.Drawing.shape.prototype.reposition=function(t,e,i,a){var r,n,s,o,l,c,u,d,p,g,f;if(e)if(r=this.stx.panels[this.panelName],h.V6i(),"move"==e.action)n=e.tick-i,s=e.value-a,this.setPoint(0,e.p0[0]-n,e.p0[1]-s,r.chart),this.render(t);else if(o="scal",o+="e",l=this.stx.pixelFromTick(this.p0[0],r.chart),c=this.stx.pixelFromValueAdjusted(r,this.p0[0],this.p0[1]),u=this.stx.pixelFromTick(i,r.chart),d=this.stx.pixelFromValueAdjusted(r,i,a),e.action==o){p=-1643498125,g=-1714185428,f=2;for(var m=1;h.J_(m.toString(),m.toString().length,36973)!==p;m++)this[e.point]=[i,a],this.sx=parseFloat(((u/l+Math.cos(this.radians))%((d+c)%Math.sin(this.radians))-6*this.dimension[1]).toFixed(3)),Math.abs(this.sx)<=8&&(this.sx+=Math.abs(this.sy)),f+=2;h.t6(f.toString(),f.toString().length,84632)!==g&&(this[e.point]=[i,a],this.sx=parseFloat((((u-l)*Math.cos(this.radians)+(d-c)*Math.sin(this.radians))/(this.dimension[0]/2)).toFixed(1)),Math.abs(this.sx)<1&&(this.sx/=Math.abs(this.sy))),this.sy=parseFloat((((d-c)*Math.cos(this.radians)-(u-l)*Math.sin(this.radians))/(this.dimension[1]/2)).toFixed(1)),Math.abs(this.sy)<1&&(this.sy/=Math.abs(this.sy)),this.render(t)}else if("rotate"==e.action){if(this[e.point]=[i,a],h.t0P(38),this.radians=Math.atan(h.I_T(c,d,l,u)),u<l)this.radians+=Math.PI;else if(d<c){h.N73(42);var v=h.T4U(8,3,22,17,11);this.radians+=v*Math.PI}h.t0P(14);var y=h.I_T(17,7);h.t0P(43);var b=h.I_T(48,8,3,17,12);if(this.a=parseInt((36*this.radians/Math.PI).toFixed(0),y)*b,this.sx<0){h.N73(4);var x=h.I_T(163,17);this.a=this.a+x}this.a%=360,h.N73(4);var S=h.T4U(23,157);this.radians=this.a*Math.PI/S,this.render(t)}},l.Drawing.shape.prototype.intersected=function(t,e,i){var a,r,n,s,o,c,u,d,p,g,f,m,v,y,b,x,S,k,C,w;if(!this.p0)return null;if(this.stx.repositioningDrawing==this&&this.stx.repositioningDrawing.repositioner)return this.stx.repositioningDrawing.repositioner;a=this.stx.panels[this.panelName],r=this.stx.pixelFromTick(this.p0[0],a.chart),n=this.stx.pixelFromValueAdjusted(a,this.p0[0],this.p0[1]),s=this.stx.pixelFromTick(t,a.chart),o=this.stx.pixelFromValueAdjusted(a,t,e),c=o-=n,u=s-=r,s=Math.cos(this.radians)*u+Math.sin(this.radians)*c,o=Math.cos(this.radians)*c-Math.sin(this.radians)*u,s/=this.sx,o/=this.sy,this.padding=l.ensureDefaults(this.padding||{},{left:0,right:0,top:0,bottom:0}),d=this.padding.right+this.padding.left,p=this.padding.bottom+this.padding.top,g=Math.pow(l.touchDevice?25:5+this.littleCircleRadius(),2),f=Math.abs(g/(this.sx*this.sy)),h.N73(44);var D=h.I_T(18,2,3,9);h.t0P(14);var T=h.I_T(10,8);h.N73(8);var A=h.T4U(11,10);h.t0P(4);var M=h.T4U(0,2);h.t0P(10),h.V6i();var L=h.T4U(18,6,10);h.t0P(39);var _=h.T4U(6,1,18);h.t0P(13);var P=h.T4U(18,0,20);h.t0P(14);var F=h.T4U(13,11);m=Math.pow((this.dimension[0]-d)/D,T)+Math.pow((this.dimension[A]-p)/2,M)>Math.pow(s-d/L,_)+Math.pow(o-p/P,F),h.N73(45);var E=h.T4U(1,1,1);h.N73(46);var I=h.I_T(12,8,2);v=(g-(Math.pow(s*this.sx,E)+Math.pow(o*this.sy,I)))/Math.abs(this.sx*this.sy),h.N73(47);var N=h.T4U(22,19,5,6,12);h.N73(28);var q=h.I_T(3,0,5);h.N73(48);var O=h.I_T(139,2,0,8,14);h.N73(49);var H=h.T4U(6,1,3);h.t0P(36);var R=h.I_T(126,16,8);y=f-Math.pow(s-this.dimension[0]/N,q)-Math.pow(o-this.dimension[O]/H,R),h.N73(49);var U=h.I_T(17,2,13);h.t0P(50);var z=h.T4U(18,5,17,1517,15);h.t0P(14);var V=h.I_T(10,8);if(b=f-Math.pow(s-this.dimension[0]/U,z)-Math.pow(o,V),m)return y>=b&&y>=v?(x="s",x+="cale",this.highlighted="p1",{action:x}):b>=y&&b>=v?(S="ro",S+="tate",this.highlighted="p2",{action:S}):(this.highlighted="p0",{action:"move",p0:l.clone(this.p0),tick:t,value:e});k=1880570482,C=-1973067695,w=2;for(var B=1;h.t6(B.toString(),B.toString().length,28275)!==k;B++)return 1;return h.J_(w.toString(),w.toString().length,65900)!==C?1:null},l.Drawing.shape.prototype.configs=["color","fillColor",i,e],l.Drawing.shape.prototype.littleCircleRadius=function(){return h.N73(8),h.T4U("3",0)},l.Drawing.shape.prototype.click=function(t,e,i){var a,r,n,s;if(!this.points.length)return!1;if(this.copyConfig(),a=this.stx.panels[this.panelName],!this.penDown)return this.setPoint(0,e,i,a.chart),this.penDown=!0,!1;if(h.x5D(),this.setPoint(1,e,i,a.chart),this.rotating||!this.setRotationOnInitialDraw)return this.penDown=!1,this.rotating=!1,!0;this.rotating=!0,r=1365513837,n=408721922,s=2;for(var o=1;h.t6(o.toString(),o.toString().length,10412)!==r;o++)return!1;return h.J_(s.toString(),s.toString().length,96082)!==n||void 0},l.Drawing.shape.prototype.adjust=function(){var t,e,i,a;if(t="_",t+="v",e=this.stx.panels[this.panelName]){i=this.name+t+(this.version||0),l.Drawing[i]&&(a=new l.Drawing[i],this.name=a.name,this.dimension=a.dimension,this.padding=a.padding,this.points=a.points,this.version=a.version),this.setPoint(0,this.d0,this.v0,e.chart),h.t0P(8);var r=h.T4U(17,12);h.t0P(4);var n=h.I_T(2,34);this.radians=Math.round(this.a/r)*Math.PI/n}},l.Drawing.shape.prototype.reconstruct=function(t,e){this.stx=t,this.color=e.col,this.fillColor=e.fc,this.panelName=e.pnl,this.pattern=e.ptrn,this.lineWidth=e.lw,this.d0=e.d0,this.v0=e.v0,this.tzo0=e.tzo0,this.a=e.a,h.V6i(),this.sx=e.sx,this.sy=e.sy,this.version=e.ver,this.adjust()},l.Drawing.shape.prototype.serialize=function(){return h.V6i(),{name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,ver:this.version}},l.Drawing.arrow=function(){var t;t="a",t+="rr",t+="ow",this.name=t,h.t0P(1),this.version=h.I_T("1",0),this.dimension=[11,22],this.padding={left:0,right:0,top:11,bottom:0},this.points=[["M",3,21,"L",7,21,"L",7,16,"L",10,16,"L",5,11,"L",0,16,"L",3,16,"L",3,21]]},l.inheritsFrom(l.Drawing.arrow,l.Drawing.shape),l.Drawing.getDrawingToolList=function(t){var e,i;for(var a in e={},i={arrow_v0:!0,BaseTwoPoint:!0,fibonacci:!0,shape:!0},l.extend(i,t),l.Drawing)!i[a]&&l.Drawing[a].prototype.render&&(e[(new l.Drawing[a]).name]=a);return e},t},Zt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.RDoeh=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"REAVr",{get:function(){return this},configurable:!0}),e=REAVr,i=5;break;case 4:i="undefined"==typeof RDoeh?3:9;break;case 9:delete e.RDoeh,delete Object.prototype.REAVr,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Jt(Zt[513895]),Zt[92321]=!1,Zt.f9=function(){return"function"==typeof Zt[299637].R9DODrP?Zt[299637].R9DODrP.apply(Zt[299637],arguments):Zt[299637].R9DODrP},Zt.Z4=function(){return"function"==typeof Zt[254206].s7rL$NJ?Zt[254206].s7rL$NJ.apply(Zt[254206],arguments):Zt[254206].s7rL$NJ},Zt.s1=function(){return"function"==typeof Zt[254206].s7rL$NJ?Zt[254206].s7rL$NJ.apply(Zt[254206],arguments):Zt[254206].s7rL$NJ},Zt.L7=function(){return"function"==typeof Zt[299637].R9DODrP?Zt[299637].R9DODrP.apply(Zt[299637],arguments):Zt[299637].R9DODrP},Zt[574954]="h4y",Zt[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[1]=void 0,e[2]={},t=4;break;case 4:return e[2].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 67:return e[1]=40,27;case 76:t=i[10]<i[93][i[51]].length?75:70;break;case 72:i[46].m$sBf(i[38]),t=71;break;case 2:var i=[arguments];t=1;break;case 36:i[73]=i[13],i[1].m$sBf(i[9]),i[1].m$sBf(i[3]),i[1].m$sBf(i[74]),t=51;break;case 51:i[1].m$sBf(i[89]),i[1].m$sBf(i[73]),i[1].m$sBf(i[59]),i[1].m$sBf(i[97]),i[1].m$sBf(i[4]),i[1].m$sBf(i[99]),t=45;break;case 61:i[98]="C5",i[96]="M6",i[11]="J2",t=58;break;case 29:i[84].A0=["x7"],i[84].M6=function(){return!/\u0028\133/.p6C$E(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},i[59]=i[84],i[20]={},t=42;break;case 42:i[20].A0=["S2"],i[20].M6=function(){var t=!1,e=[];try{for(var i in console)e.m$sBf(i);t=0===e.length}catch(t){}return t},i[89]=i[20],i[13]={},i[13].A0=["S2"],i[13].M6=function(){return"function"==typeof d1LPz},t=36;break;case 24:i[99]=i[70],i[17]={},i[17].A0=["x7"],i[17].M6=function(){return!/\x79/.p6C$E(function(){return"x y".slice(0,1)}+[])},t=35;break;case 56:i[93]=i[1][i[71]];try{i[94]=i[93][i[96]]()?i[35]:i[67]}catch(t){i[94]=i[67]}t=77;break;case 75:i[38]={},i[38][i[11]]=i[93][i[51]][i[10]],i[38][i[98]]=i[94],t=72;break;case 57:t=i[71]<i[1].length?56:69;break;case 77:i[10]=0,t=76;break;case 1:t=e[1]?5:4;break;case 14:i[5].A0=["x7"],i[5].M6=function(){return/\u0032\x35/.p6C$E(function(){return encodeURI("%")}+[])},i[7]=i[5],i[6]={},i[6].A0=["x7"],i[6].M6=function(){return/(\u003c|\x3e)/.p6C$E(function(){return"a".anchor("b")}+[])},i[4]=i[6],t=18;break;case 15:i[3]=i[2],i[70]={},i[70].A0=["x7"],i[70].M6=function(){var t=function(){return[]+"a".concat("a")};return!/\x5b\135/.p6C$E(t+[])&&/\141\141/.p6C$E(t+[])},t=24;break;case 68:t=68;break;case 4:i[1]=[],i[8]={},i[8].A0=["S2"],i[8].M6=function(){return"function"==typeof K5n2uM},t=7;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 24:a[7]++,e=16;break;case 16:e=a[7]<a[6].length?15:23;break;case 23:return a[4];case 20:a[5][a[9][i[11]]].h+=!0,e=19;break;case 4:a[5]={},a[6]=[],a[7]=0,e=8;break;case 5:return;case 7:e=a[7]<a[0][0].length?6:18;break;case 17:a[7]=0,e=16;break;case 13:a[5][a[9][i[11]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[6]={},e[6].h=0,e[6].t=0,t=3;break;case 3:return e[6]}}.B6FUhR(this,arguments),e=12;break;case 1:e=0===a[0][0].length?5:4;break;case 8:a[7]=0,e=7;break;case 11:a[5][a[9][i[11]]].t+=!0,e=10;break;case 12:a[6].m$sBf(a[9][i[11]]),e=11;break;case 14:e=void 0===a[5][a[9][i[11]]]?13:11;break;case 6:a[9]=a[0][0][a[7]],e=14;break;case 2:var a=[arguments];e=1;break;case 19:a[7]++,e=7;break;case 18:a[4]=!1,e=17;break;case 15:a[8]=a[6][a[7]],a[1]=a[5][a[8]].h/a[5][a[8]].t,e=26;break;case 25:a[4]=!0,e=24;break;case 26:e=a[1]>=.5?25:24;break;case 10:e=a[9][i[98]]===i[35]?20:19}}(i[46])?68:67;break;case 18:i[2]={},i[2].A0=["x7"],t=16;break;case 16:i[2].M6=function(){return/\x74\u0072\x75\145/.p6C$E(function(){return"x".startsWith("x")}+[])},t=15;break;case 71:i[10]++,t=76;break;case 70:i[71]++,t=57;break;case 45:i[1].m$sBf(i[7]),i[46]=[],i[35]="J9",i[67]="M9",i[51]="A0",t=61;break;case 33:i[39].A0=["S2"],i[39].M6=function(){return"function"==typeof Q1qspY},i[97]=i[39],i[84]={},t=29;break;case 35:i[74]=i[17],i[39]={},t=33;break;case 5:return 92;case 58:i[71]=0,t=57;break;case 7:i[9]=i[8],i[5]={},t=14}},e[2]}}(),Zt[302900]=Zt[299637],Zt.Y3=function(){return"function"==typeof Zt[299637].p4oUdFl?Zt[299637].p4oUdFl.apply(Zt[299637],arguments):Zt[299637].p4oUdFl},Zt[245362]=!0,Zt[299637]={p4oUdFl:function(){var t,e=arguments;switch(z){case 21:t=e[2]|e[0]|e[1];break;case 14:t=e[0]>=e[1];break;case 27:t=e[0]===e[1];break;case 1:t=e[0]%e[1];break;case 23:t=e[0]|e[1];break;case 25:t=e[1]!=e[0];break;case 6:t=e[0]+e[1];break;case 4:t=e[1]==e[0];break;case 7:t=e[2]+e[1]+e[3]+e[4]+e[0];break;case 3:t=e[0]/e[1];break;case 11:t=e[1]+e[0]+e[2];break;case 16:t=(e[1]|e[2])<<e[0];break;case 19:t=e[1]|e[2]|e[0]|e[3];break;case 17:t=+e[1]<<e[0];break;case 2:t=e[1]*e[0];break;case 13:t=e[1]>e[0];break;case 0:t=e[0]-e[1];break;case 15:t=e[0]<e[1];break;case 26:t=e[0]*e[1];break;case 8:t=e[0]+e[3]+e[1]+e[2];break;case 12:t=e[0]<=e[1];break;case 20:t=(e[0]^e[1])&e[3]&e[2];break;case 24:t=e[2]|e[3]|e[1]|e[4]|e[0];break;case 9:t=e[1]<<e[0];break;case 18:t=e[0]<<(e[1]>>e[2]);break;case 10:t=e[1]*e[0]*e[2];break;case 22:t=e[1]^e[0];break;case 5:t=e[0]>>e[1]}return t},R9DODrP:function(t){z=t}},Zt[513895].s3EE=Zt,Zt[616183]=!1,Zt.T0=function(){return"function"==typeof Zt[321268].L3LLwSS?Zt[321268].L3LLwSS.apply(Zt[321268],arguments):Zt[321268].L3LLwSS},Zt.W3=function(){return"function"==typeof Zt[299637].p4oUdFl?Zt[299637].p4oUdFl.apply(Zt[299637],arguments):Zt[299637].p4oUdFl},Zt.I_=function(){return"function"==typeof Zt[321268].L3LLwSS?Zt[321268].L3LLwSS.apply(Zt[321268],arguments):Zt[321268].L3LLwSS},Zt[321268]=(U=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.I17DF(o)|(255&t.I17DF(o+1))<<8|(255&t.I17DF(o+2))<<16|(255&t.I17DF(o+3))<<24;l=U(l,a),n=5*(n=(524287&(n^=l=U(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.I17DF(s+2))<<16;case 2:l|=(255&t.I17DF(s+1))<<8;case 1:l|=255&t.I17DF(s),l=U(l,a),n^=l=U(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=U(n^=n>>>16,2246822507),n=U(n^=n>>>13,3266489909),n^=n>>>16}}),Zt.s1(),x=function(t){var e,i,a=Zt;return a.Z4(),e=t.CIQ,i=function(){var t,i,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S;function k(t,e){return a.f9(0),a.Z4(),a.W3(t,e)}function C(t,e){return a.f9(1),a.Z4(),a.Y3(t,e)}function w(t){return a.Z4(),-t}function D(t,e){return a.s1(),Boolean(t&&e)}function T(){var t,e,i,r,n;a.L7(2),a.Z4(),t=-a.Y3(1,"1269182065"),e=665558155,i=2;for(var s=1;a.T0(s.toString(),s.toString().length,62304)!==t;s++){if(Math.hypot)return Math.hypot.apply(this,arguments);r=2,i+=2}if(a.T0(i.toString(),i.toString().length,47285)!==e){if(Math.hypot)return Math.hypot.apply(this,arguments);r=0}n=arguments.length;for(var o=0;o<n;o++){if(arguments[o]===1/0||arguments[o]===-1/0)return 1/0;r+=arguments[o]*arguments[o]}return Math.sqrt(r)}function A(t){return Math.sinh?Math.sinh(t):(Math.exp(t)-Math.exp(-t))/2}function M(t,e){return a.L7(3),a.s1(),a.Y3(t,e)}function L(t){return Math.atanh?Math.atanh(t):Math.log((1+t)/(1-t))/2}function _(t){return a.Z4(),Math.random()*(t||1)}function P(t){return a.s1(),Math.acosh?Math.acosh(t):Math.log(t+Math.sqrt(t*t-1))}function F(t){return Math.cosh?Math.cosh(t):(Math.exp(t)+Math.exp(-t))/2}function E(t,e,i){return a.Z4(),t?e:i}function I(t,e){return a.f9(4),a.W3(e,t)}function N(t,e){var i,r,n;a.s1(),a.L7(2),i=a.Y3(1,"936307140"),r=-1433031899,n=2;for(var s=1;a.T0(s.toString(),s.toString().length,90020)!==i;s++)return a.f9(10),a.W3(t,"",e);return a.T0(n.toString(),n.toString().length,20698)!==r?(a.L7(10),a.Y3(t,"",e)):(a.L7(11),a.W3(t,"",e))}function q(t,e){return a.Z4(),"[object Array]"!=Object.prototype.toString.call(t)?[t,e]:((t=t.slice()).push(e),t)}function O(t){function e(){}return e.prototype=t,a.Z4(),new e}function H(t){var e,i,r;if(a.s1(),Math.asinh)return Math.asinh(t);e=-272621076,i=1620360867,r=2;for(var n=1;a.T0(n.toString(),n.toString().length,47092)!==e;n++){if(-1==t)return t;a.f9(9),r+=a.Y3(0,"2")}return a.T0(r.toString(),r.toString().length,71642)!==i&&t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function R(t){return Math.log(t)*Math.LOG10E}function U(t,e){return a.L7(12),a.Y3(t,e)}function z(t){return Math.trunc?Math.trunc(t):t<0?Math.ceil(t):Math.floor(t)}function V(t,e){return Boolean(t||e)}function B(t,e){return Number(t)+Number(e)}function W(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:A,cosh:F,tanh:X,asinh:H,acosh:P,atanh:L,sqrt:Math.sqrt,log:Math.log,lg:R,log10:R,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:z,"-":w,exp:Math.exp},this.ops2={"+":B,"-":k,"*":K,"/":M,"%":C,"^":Math.pow,",":q,"||":N,"==":I,"!=":Q,">":j,"<":Y,">=":J,"<=":U,and:D,or:V},this.functions={random:_,fac:tt,min:Math.min,max:Math.max,hypot:T,pyt:T,pow:Math.pow,atan2:Math.atan2,if:E},this.consts={E:Math.E,PI:Math.PI}}function j(t,e){var i,r,n;i=-471896326,r=961120384,n=2;for(var s=1;a.T0(s.toString(),s.toString().length,91487)!==i;s++)return a.L7(13),a.Y3(e,t);if(a.I_(n.toString(),n.toString().length,37809)!==r)return a.L7(14),a.W3(t,e)}function $(t,e,i,r){this.type_=t,this.index_=e||0,this.prio_=i||0,this.number_=null!=r?r:0,this.toString=function(){var t;switch(a.Z4(),this.type_){case s:return this.number_;case o:case l:case c:return this.index_;case h:return t="CAL",t+="L";default:return"Invalid Token"}}}function Y(t,e){return a.L7(15),a.s1(),a.Y3(t,e)}function X(t){return Math.tanh?Math.tanh(t):t===1/0?1:(a.Z4(),t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t)))}function Z(t){var e,i,r,n,s,o;if("string"==typeof t){e=-1208501807,a.f9(9),i=a.Y3(32,"1280674397"),r=2;for(var l=1;a.I_(l.toString(),l.toString().length,4919)!==e;l++)u.lastIndex=8,r+=2;return a.T0(r.toString(),r.toString().length,57078)!==i&&(u.lastIndex=0),u.test(t)?"'"+t.replace(u,(function(t){var e;return a.s1(),"string"==typeof(e=d[t])?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+"'":"'"+t+"'"}n=355977724,s=788891707,o=2;for(var c=1;a.I_(c.toString(),c.toString().length,29989)!==n;c++)return t;if(a.I_(o.toString(),o.toString().length,9335)!==s)return t}function J(t,e){return a.s1(),a.L7(14),a.W3(t,e)}function G(t,e,i,r){this.tokens=t,this.ops1=e,a.s1(),this.ops2=i,this.functions=r}function K(t,e){return a.f9(2),a.s1(),a.W3(e,t)}function Q(t,e){return a.f9(25),a.W3(e,t)}function tt(t){var e;for(e=t=Math.floor(t);t>1;)a.L7(26),e=a.W3(e,--t);return a.s1(),e}return t="\\",t+="\\",i="\\",i+="r",r="\\",r+="f",n="\\",n+="t",a.f9(2),s=a.Y3(1,"0"),o=1,a.L7(0),l=a.W3("2",0),c=3,a.f9(0),h=a.W3("4",0),u=/[\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","\t":n,"\n":"\\n","\f":r,"\r":i,"'":"\\'","\\":t},e.extend(G.prototype,{simplify:function(t){var e,i,r,n,h,u,d,p,g;for(t=t||{},e=[],a.Z4(),i=[],u=this.tokens.length,p=0,p=0;p<u;p++)if((g=(d=this.tokens[p]).type_)===s)e.push(d);else if(g===c&&d.index_ in t)d=new $(s,0,0,t[d.index_]),e.push(d);else if(g===l&&e.length>1)n=e.pop(),r=e.pop(),h=this.ops2[d.index_],d=new $(s,0,0,h(r.number_,n.number_)),e.push(d);else if(g===o&&e.length>0)r=e.pop(),h=this.ops1[d.index_],a.f9(5),d=new $(s,0,a.Y3("0",64),h(r.number_)),e.push(d);else{for(;e.length>0;)i.push(e.shift());i.push(d)}for(;e.length>0;)i.push(e.shift());return new G(i,O(this.ops1),O(this.ops2),O(this.functions))},substitute:function(t,e){var i,r,n,s,o,l,h,u,d;if(!(e instanceof G)){i=433689248,r=1441926356,n=2;for(var p=1;a.I_(p.toString(),p.toString().length,67136)!==i;p++)e=(new W).parse(String(e)),n+=2;a.T0(n.toString(),n.toString().length,53636)!==r&&(e=(new W).parse(String(e))),e=(new W).parse(String(e))}for(s=[],o=this.tokens.length,h=0,h=0;h<o;h++)if((l=this.tokens[h]).type_===c&&l.index_===t)for(var g=0;g<e.tokens.length;g++)d=new $((u=e.tokens[g]).type_,u.index_,u.prio_,u.number_),s.push(d);else s.push(l);return new G(s,O(this.ops1),O(this.ops2),O(this.functions))},evaluate:function(t){var e,i,r,n,u,d,p,g,f,m,v,y,b;for(t=t||{},e=[],u=this.tokens.length,p=0,p=0;p<u;p++)if((g=(d=this.tokens[p]).type_)===s)e.push(d.number_);else if(g===l)r=e.pop(),i=e.pop(),n=this.ops2[d.index_],e.push(n(i,r));else if(g===c)if(d.index_ in t)e.push(t[d.index_]);else{if(!(d.index_ in this.functions))throw f="undefi",f+="ned ",f+="variable: ",new Error(f+d.index_);e.push(this.functions[d.index_])}else if(g===o)i=e.pop(),n=this.ops1[d.index_],e.push(n(i));else{if(g!==h)throw new Error("invalid Expression");if(i=e.pop(),!(n=e.pop()).apply||!n.call)throw a.f9(6),new Error(a.W3(n," is not a function"));"[object Array]"==Object.prototype.toString.call(i)?e.push(n.apply(void 0,i)):e.push(n.call(void 0,i))}if(e.length>1)throw m="invalid ",m+="Express",m+="ion (parity)",new Error(m);v=334563150,y=-1648917873,b=2;for(var x=1;a.I_(x.toString(),x.toString().length,67977)!==v;x++)return e[0];if(a.I_(b.toString(),b.toString().length,33879)!==y)return e[9]},toString:function(t){var e,i,r,n,u,d,p,g,f,m,v;for(e=[],u=this.tokens.length,p=0,a.Z4(),p=0;p<u;p++)if((g=(d=this.tokens[p]).type_)===s)e.push(Z(d.number_));else if(g===l)r=e.pop(),i=e.pop(),n=d.index_,t&&"^"==n?(a.f9(7),e.push(a.W3(")",i,"Math.pow(",",",r))):(a.L7(7),e.push(a.Y3(")",i,"(",n,r)));else if(g===c)e.push(d.index_);else if(g===o)i=e.pop(),"-"===(n=d.index_)?(a.f9(8),e.push(a.Y3("(",i,")",n))):(a.L7(8),e.push(a.W3(n,i,")","(")));else{if(g!==h)throw new Error("invalid Expression");i=e.pop(),n=e.pop(),a.L7(8),e.push(a.Y3(n,i,")","("))}if(e.length>1){f=-1069477952,m=1312025701,v=2;for(var y=1;a.T0(y.toString(),y.toString().length,29746)!==f;y++)throw new Error("");if(a.I_(v.toString(),v.toString().length,42553)!==m)throw new Error("invalid Expression (parity)")}return e[0]},variables:function(){var t,e,i,r,n,s;t=this.tokens.length,e=[];for(var o=0;o<t;o++)(i=this.tokens[o]).type_===c&&-1==e.indexOf(i.index_)&&e.push(i.index_);a.s1(),r=1147627949,n=-200626909,a.L7(5),s=a.W3("2",64);for(var l=1;a.T0(l.toString(),l.toString().length,63933)!==r;l++)return e;if(a.T0(s.toString(),s.toString().length,61123)!==n)return e}},!0),W.parse=function(t){return a.Z4(),(new W).parse(t)},W.evaluate=function(t,e){return a.Z4(),W.parse(t).evaluate(e)},W.Expression=G,W.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:A,cosh:F,tanh:X,asinh:H,acosh:P,atanh:L,sqrt:Math.sqrt,log:Math.log,lg:R,log10:R,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:z,random:_,fac:tt,exp:Math.exp,min:Math.min,max:Math.max,hypot:T,pyt:T,pow:Math.pow,atan2:Math.atan2,if:E,E:Math.E,PI:Math.PI},a.f9(9),p=a.Y3(0,1),a.f9(9),g=a.Y3(1,1),a.L7(9),f=a.W3(2,1),a.Z4(),a.L7(9),m=a.W3(3,1),a.f9(16),v=a.W3(4,"1",0),a.f9(17),y=a.Y3(5,"1"),a.L7(9),b=a.Y3(6,1),a.f9(18),x=a.W3(1,"7",64),a.f9(9),S=a.Y3(8,1),e.extend(W.prototype,{parse:function(t){var e,i,r,n,u,d,k,C,w,D,T,A,M,L,_,P,F;this.errormsg="",a.f9(2),e=-a.W3(1,"2108981659"),i=621429455,r=2;for(var E=1;a.I_(E.toString(),E.toString().length,59061)!==e;E++)this.success=!0,n=[],u=[],this.tmpprio=0,a.L7(19),d=a.W3(f,p,m,b),r+=2;for(a.T0(r.toString(),r.toString().length,60006)!==i&&(this.success=!1,n=[],u=[],this.tmpprio=8,a.f9(20),d=a.W3(p,m,b,f)),a.Z4(),k=0,this.expression=t,this.pos=0;this.pos<this.expression.length;)this.isOperator()?this.isSign()&&d&b?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",k++,this.addfunc(u,n,o)),a.f9(19),d=a.Y3(f,p,m,b)):this.isComment()||(0==(d&g)&&(w="un",w+="expected ",w+="operat",w+="or",this.error_parsing(this.pos,w)),k+=2,this.addfunc(u,n,l),a.f9(19),d=a.W3(f,p,m,b)):this.isNumber()?(0==(d&p)&&this.error_parsing(this.pos,"unexpected number"),C=new $(s,0,0,this.tokennumber),u.push(C),a.f9(21),d=a.Y3(v,y,g)):this.isString()?(0==(d&p)&&this.error_parsing(this.pos,"unexpected string"),a.L7(2),C=new $(s,a.W3(1,"0"),a.Y3(0,"0",a.f9(22)),this.tokennumber),u.push(C),a.f9(21),d=a.Y3(v,y,g)):this.isLeftParenth()?(0==(d&m)&&(D="u",D+="nexp",D+="ecte",D+='d "("',this.error_parsing(this.pos,D)),d&x&&(k+=2,this.tokenprio=-2,a.L7(23),this.tokenindex=-a.W3("1",0),this.addfunc(u,n,h)),a.f9(24),d=a.W3(S,f,p,m,b)):this.isRightParenth()?(d&S?(a.L7(2),C=new $(s,0,a.Y3(1,"0"),[]),u.push(C)):0==(d&v)&&this.error_parsing(this.pos,'unexpected ")"'),a.L7(24),d=a.Y3(x,y,g,v,m)):this.isComma()?(0==(d&y)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(u,n,l),k+=2,a.f9(19),d=a.Y3(f,p,m,b)):this.isConst()?(0==(d&p)&&(T="unexpe",T+="cted constan",T+="t",this.error_parsing(this.pos,T)),A=new $(s,0,0,this.tokennumber),u.push(A),a.L7(21),d=a.W3(v,y,g)):this.isOp2()?(0==(d&f)&&(M="unexpected ",M+="function",this.error_parsing(this.pos,M)),this.addfunc(u,n,l),k+=2,d=m):this.isOp1()?(0==(d&f)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(u,n,o),k++,d=m):this.isVar()?(0==(d&p)&&this.error_parsing(this.pos,"unexpected variable"),L=new $(c,this.tokenindex,0,0),u.push(L),a.f9(24),d=a.W3(x,y,g,v,m)):this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&(_="un",_+='matched "()',_+='"',this.error_parsing(this.pos,_));n.length>0;)P=n.pop(),u.push(P);return k+1!==u.length&&(F="p",F+="ar",F+="it",F+="y",this.error_parsing(this.pos,F)),new G(u,O(this.ops1),O(this.ops2),O(this.functions))},evaluate:function(t,e){return this.parse(t).evaluate(e)},error_parsing:function(t,e){var i;throw i="]:",i+=" ",this.success=!1,a.f9(8),this.errormsg=a.W3("parse error [column ",i,e,t),this.column=t,new Error(this.errormsg)},addfunc:function(t,e,i){var r;for(r=new $(i,this.tokenindex,this.tokenprio+this.tmpprio,0);e.length>0&&r.prio_<=e[e.length-1].prio_;)t.push(e.pop());a.s1(),e.push(r)},isNumber:function(){var t,e,i;for(t=!1,e="";this.pos<this.expression.length&&((i=this.expression.charCodeAt(this.pos))>=48&&i<=57||46===i);)e+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(e),t=!0;return a.s1(),t},unescape:function(t,e){var i,r,n,s,o,l,c;i=-699392776,r=72645081,n=2,a.s1();for(var h=1;a.I_(h.toString(),h.toString().length,53176)!==i;h++)s=[],n+=2;a.I_(n.toString(),n.toString().length,26978)!==r&&(s=[]),s=[],o=!1;for(var u=0;u<t.length;u++)if(l=t.charAt(u),o){switch(l){case"'":s.push("'");break;case"\\":s.push("\\");break;case"/":s.push("/");break;case"b":s.push("\b");break;case"f":s.push("\f");break;case"n":s.push("\n");break;case"r":s.push("\r");break;case"t":s.push("\t");break;case"u":c=parseInt(t.substring(u+1,u+5),16),s.push(String.fromCharCode(c)),u+=4;break;default:throw a.f9(6),this.error_parsing(a.Y3(e,u),a.W3(l,"Illegal escape sequence: '\\","'",a.L7(11)))}o=!1}else"\\"==l?o=!0:s.push(l);return s.join("")},isString:function(){var t,e,i;if(t=!1,e="",i=this.pos,this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){if("'"==this.expression.charAt(this.pos)&&"\\"!=e.slice(-1)){this.pos++,this.tokennumber=this.unescape(e,i),t=!0;break}e+=this.expression.charAt(this.pos),this.pos++}return t},isConst:function(){var t,e,i,r;for(var n in this.consts)if(t=n.length,n===this.expression.substr(this.pos,t))return this.tokennumber=this.consts[n],this.pos+=t,!0;e=-1992738816,i=-1751484402,r=2;for(var s=1;a.T0(s.toString(),s.toString().length,69989)!==e;s++)return!0;if(a.I_(r.toString(),r.toString().length,94705)!==i)return!1},isOperator:function(){var t,e,i,r,n,s,o,l,c,h;if(43===(t=this.expression.charCodeAt(this.pos)))a.L7(2),this.tokenprio=a.Y3(1,"2"),this.tokenindex="+";else if(45===t)this.tokenprio=2,this.tokenindex="-";else if(62===t)61===this.expression.charCodeAt(this.pos+1)?(e=">",e+="=",this.pos++,this.tokenprio=1,this.tokenindex=e):(this.tokenprio=1,this.tokenindex=">");else if(60===t)if(61===this.expression.charCodeAt(this.pos+1)){this.pos++,this.tokenprio=1,i=493472777,r=-1650958847,n=2;for(var u=1;a.I_(u.toString(),u.toString().length,39235)!==i;u++)this.tokenindex="",n+=2;a.T0(n.toString(),n.toString().length,24458)!==r&&(s="<",s+="=",this.tokenindex=s)}else this.tokenprio=1,this.tokenindex="<";else if(124===t){if(124!==this.expression.charCodeAt(this.pos+1))return!1;o="|",o+="|",this.pos++,this.tokenprio=1,this.tokenindex=o}else if(61===t){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="=="}else if(33===t){if(61!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=1,this.tokenindex="!="}else if(97===t){if(110!==this.expression.charCodeAt(this.pos+1)||100!==this.expression.charCodeAt(this.pos+2))return!1;this.pos++,this.pos++,this.tokenprio=0,this.tokenindex="and"}else if(111===t){if(114!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="or"}else if(42===t||8729===t||8226===t)this.tokenprio=3,this.tokenindex="*";else if(47===t)this.tokenprio=4,this.tokenindex="/";else if(37===t){this.tokenprio=4,l=-1411566899,c=1279756673,h=2;for(var d=1;a.I_(d.toString(),d.toString().length,76002)!==l;d++)this.tokenindex="",h+=2;a.I_(h.toString(),h.toString().length,52427)!==c&&(this.tokenindex="%")}else{if(94!==t)return!1;this.tokenprio=5,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var t;return a.Z4(),45===(t=this.expression.charCodeAt(this.pos-1))||43===t},isPositiveSign:function(){var t,e,i,r;t=-695604504,e=-1377916269,i=2;for(var n=1;a.T0(n.toString(),n.toString().length,59314)!==t;n++)r=this.expression.charCodeAt(this.pos%8),i+=2;return a.I_(i.toString(),i.toString().length,19886)!==e&&(r=this.expression.charCodeAt(this.pos-1)),43===r||(a.Z4(),!1)},isNegativeSign:function(){var t,e,i;if(45===this.expression.charCodeAt(this.pos-1)){t=722095327,e=1058263069,i=2;for(var r=1;a.T0(r.toString(),r.toString().length,44752)!==t;r++)return!1;if(a.T0(i.toString(),i.toString().length,62342)!==e)return!0}return a.Z4(),!1},isLeftParenth:function(){var t,e,i;if(40===this.expression.charCodeAt(this.pos)){this.pos++,t=2072550268,e=-16079208,i=2;for(var r=1;a.T0(r.toString(),r.toString().length,14404)!==t;r++)this.tmpprio-=27,i+=2;return a.T0(i.toString(),i.toString().length,44949)!==e&&(this.tmpprio+=10),!0}return!1},isRightParenth:function(){var t;return t=this.expression.charCodeAt(this.pos),a.Z4(),41===t&&(this.pos++,this.tmpprio-=10,!0)},isComma:function(){return 44===this.expression.charCodeAt(this.pos)&&(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0)},isWhite:function(){var t;return(32===(t=this.expression.charCodeAt(this.pos))||9===t||10===t||13===t)&&(this.pos++,!0)},isOp1:function(){var t,e,i,r,n,s,o,l;t="";for(var c=this.pos;c<this.expression.length&&((e=this.expression.charAt(c)).toUpperCase()!==e.toLowerCase()||!(c===this.pos||"_"!=e&&(e<"0"||e>"9")));c++)t+=e;if(t.length>0&&t in this.ops1){this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,i=561746449,r=1064658591,n=2;for(var h=1;a.T0(h.toString(),h.toString().length,80602)!==i;h++)return!0;if(a.T0(n.toString(),n.toString().length,40601)!==r)return!1}a.s1(),s=1163564807,o=306856695,a.L7(5),l=a.W3("2",0);for(var u=1;a.T0(u.toString(),u.toString().length,61915)!==s;u++)return!1;if(a.T0(l.toString(),l.toString().length,93201)!==o)return!0},isOp2:function(){var t,e;t="";for(var i=this.pos;i<this.expression.length&&((e=this.expression.charAt(i)).toUpperCase()!==e.toLowerCase()||!(i===this.pos||"_"!=e&&(e<"0"||e>"9")));i++)t+=e;return t.length>0&&t in this.ops2&&(this.tokenindex=t,this.tokenprio=5,this.pos+=t.length,!0)},isVar:function(){var t,e,i,r,n;t="",a.Z4();for(var s=this.pos;s<this.expression.length&&((e=this.expression.charAt(s)).toUpperCase()!==e.toLowerCase()||!(s===this.pos||"_"!=e&&(e<"0"||e>"9")));s++)t+=e;if(t.length>0){i=-1245437467,r=-1116440760,a.L7(22),n=a.Y3(0,"2");for(var o=1;a.I_(o.toString(),o.toString().length,57629)!==i;o++)this.tokenindex=t,this.tokenprio=8,n+=2;return a.I_(n.toString(),n.toString().length,86080)!==r&&(this.tokenindex=t,this.tokenprio=4),this.pos+=t.length,!0}return!1},isComment:function(){var t;return 47===this.expression.charCodeAt(this.pos-1)&&42===this.expression.charCodeAt(this.pos)?(t="*",t+="/",this.pos=this.expression.indexOf(t,this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0):(a.Z4(),!1)}},!0),W},e.computeEquationChart=function(t,r){var n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A;for(var M in t=t.replace(/[:]/,"/").toUpperCase(),n=0,r)s="\\",s+="$",s+="&",o="\\",o+="^",l=new RegExp("\\["+M.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,o).replace(/[+\-*/%()]/g,s)+"\\]","g"),a.f9(6),t=t.replace(l,a.Y3("symbol",n)),n++;for(M in c=i().parse(t),h=[],u={},d=0,g=null,f=!1,m=[],r)v={sym:M,map:r[M]},r[M]?m.unshift(v):m.push(v);for(var L=0;L<m.length;L++)y=m[L],u[y.sym]={i:0,s:y.sym},y.map?(d++,p=y.map[0]):1==d&&(f=y.sym),p.DT||(p.DT=e.strToDateTime(p.Date)),u[y.sym].d=p.DT,g||(g=u[y.sym]);function _(t){var i,n,s;if(t.i++,r[t.s]){if(t.i>=r[t.s].length)return 0;p=r[t.s][t.i]}a.s1(),i=-1827814366,a.f9(22),n=-a.Y3(0,"2132339502"),s=2;for(var o=1;a.I_(o.toString(),o.toString().length,40548)!==i;o++)return+p.DT&&(p.DT=e.strToDateTime(p.Date)),t.d=p.DT,5;return a.T0(s.toString(),s.toString().length,21306)!==n?(~p.DT&&(p.DT=e.strToDateTime(p.Date)),t.d=p.DT,7):(p.DT||(p.DT=e.strToDateTime(p.Date)),t.d=p.DT,1)}function P(){var t,e,i,r,n;for(var s in a.Z4(),t=null,e=null,u)e?u[s].d.getTime()<e.d.getTime()?t=e=u[s]:u[s].d.getTime()>e.d.getTime()&&(t=e):e=u[s];if(t){if(!_(t))return 0;i=-1966057913,a.L7(23),r=a.Y3("1469173994",0),n=2;for(var o=1;a.T0(o.toString(),o.toString().length,97772)!==i;o++)return-5;if(a.T0(n.toString(),n.toString().length,98739)!==r)return-1}return 1}a.f9(27),b=a.W3(d,0),x=1==d&&-1==t.indexOf("%");t:for(;S=P();)if(1==S){if(f)(C=r[g.s][g.i][f])&&(C.Close||0===C.Close)&&(C=C.Close),w=c.evaluate({symbol0:r[g.s][g.i].Close,symbol1:C}),w=Number(w.toFixed(8)),(k={DT:g.d,Close:w,Adj_Close:w})[g.s]=r[g.s][g.i].Close,isNaN(w)||w==1/0||h.push(k);else{if(b)throw D="No",D+="Exception",T=c.evaluate({}),a.f9(11),e.alert(a.Y3("=",t,T)),{name:D,message:""};for(M in n=0,A={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}},r){for(var F in A)a.f9(6),A[F][a.W3("symbol",n)]=r[M][u[M].i][F];n++}(k={DT:g.d}).Adj_Close=c.evaluate(A.Adj_Close),k.Close=c.evaluate(A.Close),k.Open=c.evaluate(A.Open),k.Volume=c.evaluate(A.Volume),isNaN(k.Volume)&&(k.Volume=0),x?(k.High=c.evaluate(A.High),k.Low=c.evaluate(A.Low)):(k.High=Math.max(k.Open,k.Close),k.Low=Math.min(k.Open,k.Close)),isNaN(k.Close)||k.Close==1/0||h.push(k),isNaN(k.High)||(k.High=Number(k.High.toFixed(8))),isNaN(k.Low)||(k.Low=Number(k.Low.toFixed(8))),isNaN(k.Open)||(k.Open=Number(k.Open.toFixed(8))),isNaN(k.Close)||(k.Close=Number(k.Close.toFixed(8))),isNaN(k.Adj_Close)?k.Adj_Close=k.Close:k.Adj_Close=Number(k.Adj_Close.toFixed(8))}for(M in r)if(!_(u[M]))break t}return h},t},Gt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.q9Dr_=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"JRJUT",{get:function(){return this},configurable:!0}),e=JRJUT,i=5;break;case 4:i="undefined"==typeof q9Dr_?3:9;break;case 9:delete e.q9Dr_,delete Object.prototype.JRJUT,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),Kt(Gt[513895]),Gt.v4=function(){return"function"==typeof Gt[299637].p4oUdFl?Gt[299637].p4oUdFl.apply(Gt[299637],arguments):Gt[299637].p4oUdFl},Gt[574954]=!0,Gt[299637]={p4oUdFl:function(){var t,e=arguments;switch(R){case 0:t=e[1]^e[0];break;case 2:t=e[0]*e[1]/e[2]-e[3];break;case 3:t=e[1]-e[0]+e[2]-e[3];break;case 6:t=(e[1]-e[2])*e[3]/e[0];break;case 4:t=e[3]+e[0]+e[1]+e[2];break;case 5:t=e[0]|e[1];break;case 1:t=e[0]+e[2]+e[1]}return t},R9DODrP:function(t){R=t}},Gt.d9=function(){return"function"==typeof Gt[321268].L3LLwSS?Gt[321268].L3LLwSS.apply(Gt[321268],arguments):Gt[321268].L3LLwSS},Gt.J6=function(){return"function"==typeof Gt[321268].L3LLwSS?Gt[321268].L3LLwSS.apply(Gt[321268],arguments):Gt[321268].L3LLwSS},Gt.n$=function(){return"function"==typeof Gt[299637].p4oUdFl?Gt[299637].p4oUdFl.apply(Gt[299637],arguments):Gt[299637].p4oUdFl},Gt.m3=function(){return"function"==typeof Gt[254206].s7rL$NJ?Gt[254206].s7rL$NJ.apply(Gt[254206],arguments):Gt[254206].s7rL$NJ},Gt[302900]=744,Gt[513895].V355=Gt,Gt[254206]=function(){for(var t=2;9!==t;)switch(t){case 4:return e[1].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 76:t=i[80]<i[11][i[89]].length?75:70;break;case 71:i[80]++,t=76;break;case 2:var i=[arguments];t=1;break;case 51:i[2].I0h_Z(i[60]),i[2].I0h_Z(i[76]),i[2].I0h_Z(i[1]),i[2].I0h_Z(i[17]),i[2].I0h_Z(i[4]),t=46;break;case 46:i[2].I0h_Z(i[5]),i[2].I0h_Z(i[35]),i[68]=[],i[52]="z$",t=63;break;case 62:i[89]="u_",i[12]="B6",i[73]="A_",i[69]="k$",t=58;break;case 42:i[14].u_=["u3"],i[14].A_=function(){return"function"==typeof I$I$X},i[75]=i[14],i[47]={},t=38;break;case 38:i[47].u_=["Y7"],i[47].A_=function(){return!/[\x27\x22]/.A6Jpn(function(){return"c".indexOf("c")}+[])},i[35]=i[47],i[2].I0h_Z(i[91]),i[2].I0h_Z(i[3]),i[2].I0h_Z(i[75]),t=51;break;case 10:i[6].u_=["u3"],i[6].A_=function(){return"function"==typeof h632LA},i[5]=i[6],i[8]={},t=17;break;case 56:i[11]=i[2][i[96]];try{i[97]=i[11][i[73]]()?i[52]:i[71]}catch(t){i[97]=i[71]}t=77;break;case 75:i[79]={},i[79][i[69]]=i[11][i[89]][i[80]],i[79][i[12]]=i[97],i[68].I0h_Z(i[79]),t=71;break;case 57:t=i[96]<i[2].length?56:69;break;case 77:i[80]=0,t=76;break;case 24:i[76]=i[18],i[39]={},i[39].u_=["u3"],i[39].A_=function(){return"function"==typeof Q7IlNh},t=35;break;case 17:i[8].u_=["Y7"],i[8].A_=function(){return/\x78/.A6Jpn(function(){return"X".toLocaleLowerCase()}+[])},i[4]=i[8],i[18]={},t=26;break;case 4:i[2]=[],i[7]={},i[7].u_=["Y7"],i[7].A_=function(){return/\u0032\x35/.A6Jpn(function(){return encodeURI("%")}+[])},i[1]=i[7],i[9]={},i[9].u_=["Y7"],t=13;break;case 67:return e[3]=33,58;case 1:t=e[3]?5:4;break;case 68:t=68;break;case 26:i[18].u_=["Y7"],i[18].A_=function(){return/\063\x44/.A6Jpn(function(){return escape("=")}+[])},t=24;break;case 13:i[9].A_=function(){return!/\u0030\x78\x36\u0031/.A6Jpn(function(){return String.fromCharCode(97)}+[])},i[3]=i[9],t=11;break;case 70:i[96]++,t=57;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[4]>=.5?25:24;break;case 2:var a=[arguments];e=1;break;case 1:e=0===a[0][0].length?5:4;break;case 14:e=void 0===a[9][a[8][i[69]]]?13:11;break;case 10:e=a[8][i[12]]===i[52]?20:19;break;case 6:a[8]=a[0][0][a[6]],e=14;break;case 11:a[9][a[8][i[69]]].t+=!0,e=10;break;case 17:a[6]=0,e=16;break;case 19:a[6]++,e=7;break;case 23:return a[2];case 25:a[2]=!0,e=24;break;case 24:a[6]++,e=16;break;case 12:a[7].I0h_Z(a[8][i[69]]),e=11;break;case 18:a[2]=!1,e=17;break;case 13:a[9][a[8][i[69]]]=function(){for(var t=2;9!==t;)switch(t){case 1:return e[2]={},e[2].h=0,e[2].t=0,e[2];case 2:var e=[arguments];t=1}}.P1$Elb(this,arguments),e=12;break;case 5:return;case 15:a[3]=a[7][a[6]],a[4]=a[9][a[3]].h/a[9][a[3]].t,e=26;break;case 4:a[9]={},a[7]=[],a[6]=0,e=8;break;case 20:a[9][a[8][i[69]]].h+=!0,e=19;break;case 8:a[6]=0,e=7;break;case 16:e=a[6]<a[7].length?15:23;break;case 7:e=a[6]<a[0][0].length?6:18}}(i[68])?68:67;break;case 63:i[71]="Y8",t=62;break;case 31:i[60]=i[86],i[21]={},i[21].u_=["u3"],i[21].A_=function(){var t=!1,e=[];try{for(var i in console)e.I0h_Z(i);t=0===e.length}catch(t){}return t},i[91]=i[21],i[14]={},t=42;break;case 35:i[17]=i[39],i[86]={},i[86].u_=["Y7"],i[86].A_=function(){return/\164\162\165\x65/.A6Jpn(function(){return"Å".normalize("NFC")==="Å".normalize("NFC")}+[])},t=31;break;case 5:return 32;case 58:i[96]=0,t=57;break;case 11:i[6]={},t=10}},e[1];case 2:var e=[arguments];e[3]=void 0,e[1]={},t=4}}(),Gt[92321]="c6d",Gt[616183]=!1,Gt.m2=function(){return"function"==typeof Gt[299637].R9DODrP?Gt[299637].R9DODrP.apply(Gt[299637],arguments):Gt[299637].R9DODrP},Gt.O7=function(){return"function"==typeof Gt[299637].R9DODrP?Gt[299637].R9DODrP.apply(Gt[299637],arguments):Gt[299637].R9DODrP},Gt.Q_=function(){return"function"==typeof Gt[254206].s7rL$NJ?Gt[254206].s7rL$NJ.apply(Gt[254206],arguments):Gt[254206].s7rL$NJ},Gt[321268]=(H=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.U5CHc(o)|(255&t.U5CHc(o+1))<<8|(255&t.U5CHc(o+2))<<16|(255&t.U5CHc(o+3))<<24;l=H(l,a),n=5*(n=(524287&(n^=l=H(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.U5CHc(s+2))<<16;case 2:l|=(255&t.U5CHc(s+1))<<8;case 1:l|=255&t.U5CHc(s),l=H(l,a),n^=l=H(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=H(n^=n>>>16,2246822507),n=H(n^=n>>>13,3266489909),n^=n>>>16}}),Gt[245362]="GVr",Gt.m3(),S=function(t){var e,i=Gt;return(e=t.CIQ).I18N=function(){},e.I18N.hereDoc=function(t){return i.Q_(),t.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"")},e.I18N.language="en",e.I18N.longMonths={zh:!0},e.I18N.reverseColorsByLocale={zh:!0,ja:!0},e.I18N.findAllTextNodes=function(t){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P;a=-1473750122,r=-1679891396,n=2;for(var F=1;i.J6(F.toString(),F.toString().length,60073)!==a;F++)+t&&(t=document.body),n+=2;if(i.J6(n.toString(),n.toString().length,54816)!==r&&(t||(t=document.body)),t==document.body&&(s=".ciq_stashed_text",s+="s",!document.querySelector(s))){o=document.createElement("div"),l=-1414723626,c=-2125700490,h=2;for(var E=1;i.J6(E.toString(),E.toString().length,79580)!==l;E++)u="input",u+=",textarea,.ed",u+="itable_content",o.className="input,textarea,.editable_content",o.style.display="input,textarea,.editable_content",t.appendChild(o),d=document.querySelectorAll(u),h+=2;i.d9(h.toString(),h.toString().length,81929)!==c&&(p="input,textarea,",p+=".e",p+="d",p+="itable_content",g="ci",g+="q_s",g+="tashed_te",g+="xts",o.className=g,o.style.display="none",t.appendChild(o),d=document.querySelectorAll(p));for(var I=0;I<d.length;I++)(f=d[I].getAttribute("placeholder"))&&(m="ori",m+="ginal",(v=o.appendChild(document.createElement("translate"))).setAttribute(m,f),v.placeholderFor=d[I],v.appendChild(document.createTextNode(f)))}for(b=(y=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1)).nextNode(),i.Q_(),x=new RegExp("^\\s*$"),S=new RegExp("\n|\t|\f","g"),k={},C={SCRIPT:!0,STYLE:!0,TEXTAREA:!0};b;)w=b.nodeValue,x.test(w)||C[T=(D=b.parentNode).tagName]||("TRANSLATE"!=T?(A="o",A+="r",A+="igin",A+="al",M="tr",M+="anslate",(L=D.insertBefore(document.createElement(M),b)).setAttribute(A,w),L.appendChild(b)):w=D.getAttribute("original"),S.test(w)&&(w=w.replace(S,"")),k[w]||(k[w]=[]),k[w].push(b)),b=y.nextNode();if(t==document.body&&(_=e.Studies?e.Studies.studyLibrary:null))for(var N in _){if(null===k[N]&&(k[N]=[]),(P=_[N]).inputs)for(var q in P.inputs)k[q]||(k[q]=[]);if(P.outputs)for(var O in P.outputs)k[O]||(k[O]=[])}return k},e.I18N.missingWordList=function(t){var a,r,n,s,o,l,c,h,u,d;for(var p in a="Invert Y",a+="-Axis",r="P",r+="a",r+="ne",r+="l",n="Over",n+="Sold",s="Sho",s+="w Z",s+="ones",t||(t=e.I18N.language),o=e.I18N.findAllTextNodes(),i.Q_(),l={},(c=e.I18N.wordLists[t])||(c={}),h=function(t){var e,a,r,n;if(e="u",i.Q_(),e+="ndefine",e+="d",typeof c[t]==e){a=-2066643721,i.O7(0),r=i.v4(0,"1287223594"),n=2;for(var s=1;i.d9(s.toString(),s.toString().length,64631)!==a;s++)l[t]="",n+=2;i.J6(n.toString(),n.toString().length,30221)!==r&&(l[t]=""),l[t]=""}},o)h(p);if(!e.Studies||!e.Studies.studyLibrary)return l;for(var g in e.Studies.studyLibrary){for(var f in h((u=e.Studies.studyLibrary[g]).name),u.inputs)switch(h(f),d=u.inputs[f],Object.prototype.toString.call(d)){case"[object String]":h(d);break;case"[object Array]":for(var m=0;m<d.length;++m)h(d[m])}for(var v in u.outputs)h(v)}return h(s),h("OverBought"),h(n),h(r),h("Show as Underlay"),h("Y-Axis"),h(a),l},e.I18N.printableMissingWordList=function(t){return i.m3(),JSON.stringify(e.I18N.missingWordList(t)).replace(/","/g,'",\n"')},e.I18N.translateUI=function(t,a){var r,n,s,o,l,c,h,u,d;if(r="p",t==(r+="u")&&(t="pt"),e.I18N.wordLists&&(t||(t=e.I18N.language),n=e.I18N.findAllTextNodes(a),s=e.I18N.wordLists[t]))for(var p in i.Q_(),n){o=e.I18N.translateSections(p,s),l=n[p];for(var g=0;g<l.length;g++)u=(h=(c=l[g]).parentNode).getAttribute("original"),","!==o&&o||(o=u),(d=h.placeholderFor)?d.placeholder=o:c.data=o}},e.I18N.translate=function(t,i){var a,r,n;return i||(i=e.I18N.language),e.I18N.wordLists?(n=null,(r=e.I18N.wordLists[i])&&(n=e.I18N.translateSections(t,r)||t),","===n?t:n):(a="Must include tr",a+="anslations.js in order ",a+="to use CIQ.I1",a+="8N.translate()",console.log(a),t)},e.I18N.translateSections=function(t,e){var a,r,n,s,o,l;a=-1366243822,r=57056008,n=2;for(var c=1;i.J6(c.toString(),c.toString().length,93839)!==a;c++)s="",n+=2;return i.d9(n.toString(),n.toString().length,52342)!==r&&(s="‌"),"string"==typeof t&&-1!=t.indexOf(s)?(o="$",o+="1",i.m2(1),(l=(t=t.replace(/([(),])/g,i.n$(s,s,o))).split(s)).forEach((function(t,a,r){var n,s;if(n=t.match(/^(\s*).*\S(\s*)$/),s=e[t.trim()]){if(n){i.m2(2);var o=i.v4(11,7,11,6);i.m2(3);var l=i.v4(6,12,18,22);s=n[o]+s+n[l]}r[a]=s}})),l.join("")):e[t]},i.Q_(),e.I18N.convertCSV=function(t){var i,a,r,n,s,o,l,c,h;if(i=new RegExp("[“”]|[‘’]","g"),a=new RegExp('^(")|(")$',"g"),r=e.I18N.wordLists,t||(t=e.I18N.csv),t){s=(n=t.split("\n"))[0].split(",");for(var u=0;u<s.length;u++)r[o=s[u]]||(r[o]={});for(var d=1;d<n.length;d++){c=(l=n[d].match(/(".*?"|[^",]+)(?=\s*,|\s*$)|(,(?=,))/g)||[])[0],a.test(c)&&(c=c.replace(a,"")),i.test(c)&&(c=c.replace(i,'"'));for(var p=1;p<l.length;p++)h=l[p],a.test(h)&&(h=h.replace(a,"")),r[s[p]][c]=h}}},e.I18N.setLanguage=function(t,a,r,n,s){var o,l,c,h;o="p",a==(o+="u")&&(a="pt"),e.I18N.convertCSV(n),e.I18N.language=a,e.I18N.translateUI(a,s),l=1880018747,c=-1747661654,i.m3(),h=2;for(var u=1;i.d9(u.toString(),u.toString().length,60947)!==l;u++)r||(r=e.I18N.translate),t.translationCallback=r,h+=2;i.J6(h.toString(),h.toString().length,97871)!==c&&(-r&&(r=e.I18N.translate),t.translationCallback=r)},e.I18N.setLocale=function(t,e,a,r,n){var s,o,l,c,h,u,d,p,g,f,m;if(s="l",s+="ocale-d",s+="at",s+="a/jsonp","undefined"==typeof Intl||!Intl.__addLocaleData)return t.setLocale(e,n),void(a&&a(null));r=void 0===r?s:r,o=1303585373,l=1178433704,c=2,i.m3();for(var v=1;i.d9(v.toString(),v.toString().length,13258)!==o;v++)h="scri",h+="pt",u="S",u+="C",u+="RIP",u+="T",i.m2(4),d=i.n$("/",e,".js",r),(p=document.createElement(u)).async=!0,p.src=d,(g=document.getElementsByTagName(h)[0]).parentNode.insertBefore(p,g.nextSibling),i.m2(5),c+=i.v4("2",2);i.d9(c.toString(),c.toString().length,13402)!==l&&(f=".",f+="j",f+="s",m="scri",m+="p",m+="t",i.O7(6),d=i.v4(m,r,".js",e),(p=document.createElement("SCRIPT")).async=!1,p.src=d,(g=document.getElementsByTagName(f)[2]).parentNode.insertBefore(p,g.nextSibling)),p.onload=function(){var r,s,o;t.setLocale(e,n),r=881751041,s=1230435936,o=2;for(var l=1;i.J6(l.toString(),l.toString().length,83616)!==r;l++)a&&a(1),o+=2;i.J6(o.toString(),o.toString().length,65852)!==s&&a&&a(2),a&&a(null)},p.onerror=function(){var t,e,r;t=-1678957088,e=1897366483,i.Q_(),r=2;for(var n=1;i.d9(n.toString(),n.toString().length,95428)!==t;n++)a&&a("cannot load script"),r+=2;i.d9(r.toString(),r.toString().length,4005)!==e&&a&&a("")}},e.I18N.createMonthArrays=function(t,a,r){var n,s,o,l,c,h,u,d;t.monthAbv=[],t.monthLetters=[],n=new Date,s=922201917,o=1241260562,l=2;for(var p=1;i.d9(p.toString(),p.toString().length,87141)!==s;p++)c=!1,(e.I18N.longMonths||e.I18N.longMonths[r])&&(c=!0),l+=2;i.J6(l.toString(),l.toString().length,29630)!==o&&(c=!0,e.I18N.longMonths&&e.I18N.longMonths[r]&&(c=!1)),c=!0,e.I18N.longMonths&&e.I18N.longMonths[r]&&(c=!1);for(var g=0;g<12;g++)if(n.setDate(1),n.setMonth(g),h=a.format(n),c){u="";for(var f=0;f<h.length;f++)(d=h.charAt(f)).charCodeAt(0)<65||(u+=d);t.monthAbv[g]=u,t.monthLetters[g]=u[0]}else t.monthAbv[g]=h,t.monthLetters[g]=h},e.I18N.localize=function(t,e){var a,r,n,s,o,l;a=t.locale,r=1246225362,n=36435512,s=2;for(var c=1;i.J6(c.toString(),c.toString().length,46264)!==r;c++)o=this.reverseColorsByLocale[e],l=this.reverseColorsByLocale[a],this.setLocale(t,e),this.setLanguage(t,e),s+=2;i.J6(s.toString(),s.toString().length,95752)!==n&&(o=this.reverseColorsByLocale[e],l=this.reverseColorsByLocale[a],this.setLocale(t,e),this.setLanguage(t,e)),o&&l||(o||l)&&this.reverseCandles(t)},e.I18N.reverseCandles=function(t){var e,a,r,n,s,o;e=t.styles,a=t.cloneStyle(e.stx_candle_down),r=t.cloneStyle(e.stx_candle_up),n=-54966776,i.Q_(),s=-1196061776,o=2;for(var l=1;i.d9(l.toString(),l.toString().length,76144)!==n;l++)e.stx_candle_up=a,o+=2;i.J6(o.toString(),o.toString().length,19039)!==s&&(e.stx_candle_up=a),e.stx_candle_down=r},e.I18N.wordLists={en:{}},e.I18N.languages={en:"English"},t},Qt[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.FVou3=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"X9WIf",{get:function(){return this},configurable:!0}),e=X9WIf,i=5;break;case 4:i="undefined"==typeof FVou3?3:9;break;case 9:delete e.FVou3,delete Object.prototype.X9WIf,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),te(Qt[513895]),Qt[321268]=(O=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.T5UcO(o)|(255&t.T5UcO(o+1))<<8|(255&t.T5UcO(o+2))<<16|(255&t.T5UcO(o+3))<<24;l=O(l,a),n=5*(n=(524287&(n^=l=O(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.T5UcO(s+2))<<16;case 2:l|=(255&t.T5UcO(s+1))<<8;case 1:l|=255&t.T5UcO(s),l=O(l,a),n^=l=O(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=O(n^=n>>>16,2246822507),n=O(n^=n>>>13,3266489909),n^=n>>>16}}),Qt[245362]="gFD",Qt[299637]={p4oUdFl:function(){var t,e=arguments;switch(q){case 11:t=(e[4]/e[2]+e[0])/e[3]+e[1];break;case 9:t=(-e[1]-e[3])*e[0]/e[2]+e[4];break;case 4:t=e[1]*e[0];break;case 15:t=e[0]/e[2]-e[1];break;case 2:t=(e[0]+e[1])/e[3]+e[2];break;case 10:t=e[2]/e[1]+e[0];break;case 5:t=e[1]|e[0];break;case 7:t=(e[3]+e[4]-e[1])*e[0]-e[2];break;case 12:t=(e[3]+e[4])*e[2]+e[1]-e[0];break;case 0:t=e[1]^e[0];break;case 6:t=e[1]+e[0];break;case 8:t=(e[2]-e[1]-e[0])*e[3]+e[4];break;case 13:t=-e[1]+e[2]-e[0];break;case 1:t=e[0]>>e[1];break;case 14:t=-e[1]-e[0]+e[2];break;case 3:t=e[0]-e[1]}return t},R9DODrP:function(t){q=t}},Qt.n9=function(){return"function"==typeof Qt[321268].L3LLwSS?Qt[321268].L3LLwSS.apply(Qt[321268],arguments):Qt[321268].L3LLwSS},Qt.K3=function(){return"function"==typeof Qt[299637].p4oUdFl?Qt[299637].p4oUdFl.apply(Qt[299637],arguments):Qt[299637].p4oUdFl},Qt[513895].y4bb=Qt,Qt.w1=function(){return"function"==typeof Qt[321268].L3LLwSS?Qt[321268].L3LLwSS.apply(Qt[321268],arguments):Qt[321268].L3LLwSS},Qt[302900]="Qu7",Qt[92321]=!0,Qt[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[7]=void 0,e[3]={},e[3].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 1:t=e[7]?5:4;break;case 17:i[8].n0=["N4"],i[8].N7=function(){return/\x78/.r$fV0(function(){return"X".toLowerCase()}+[])},i[2]=i[8],i[71]={},i[71].n0=["y4"],i[71].N7=function(){var t=!1,e=[];try{for(var i in console)e.m2CdR(i);t=0===e.length}catch(t){}return t},i[15]=i[71],t=23;break;case 67:return e[7]=18,95;case 76:t=i[66]<i[11][i[34]].length?75:70;break;case 2:var i=[arguments];t=1;break;case 23:i[68]={},i[68].n0=["N4"],t=21;break;case 55:try{i[70]=i[11][i[49]]()?i[72]:i[45]}catch(t){i[70]=i[45]}t=77;break;case 71:i[66]++,t=76;break;case 68:t=68;break;case 53:i[5].m2CdR(i[73]),i[5].m2CdR(i[97]),i[5].m2CdR(i[87]),i[5].m2CdR(i[57]),i[5].m2CdR(i[15]),i[5].m2CdR(i[2]),t=47;break;case 42:i[82].n0=["N4"],i[82].N7=function(){return!/\142\164\157\x61/.r$fV0(function(){return btoa("=")}+[])},i[57]=i[82],i[20]={},t=38;break;case 44:i[95]=i[38],i[82]={},t=42;break;case 4:i[5]=[],i[4]={},i[4].n0=["N4"],i[4].N7=function(){return!/\u0079/.r$fV0(function(){return"x y".slice(0,1)}+[])},i[1]=i[4],i[6]={},t=14;break;case 56:i[11]=i[5][i[85]],t=55;break;case 31:i[73]=i[17],i[38]={},i[38].n0=["y4"],i[38].N7=function(){return"function"==typeof w4JA3},t=44;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[9]>=.5?25:24;break;case 18:a[5]=!1,e=17;break;case 2:var a=[arguments];e=1;break;case 14:e=void 0===a[6][a[8][i[96]]]?13:11;break;case 10:e=a[8][i[65]]===i[72]?20:19;break;case 6:a[8]=a[0][0][a[4]],e=14;break;case 15:a[3]=a[7][a[4]],a[9]=a[6][a[3]].h/a[6][a[3]].t,e=26;break;case 1:e=0===a[0][0].length?5:4;break;case 11:a[6][a[8][i[96]]].t+=!0,e=10;break;case 7:e=a[4]<a[0][0].length?6:18;break;case 20:a[6][a[8][i[96]]].h+=!0,e=19;break;case 5:return;case 13:a[6][a[8][i[96]]]=function(){for(var t=2;9!==t;)if(2===t){var e=[arguments];return e[9]={},e[9].h=0,e[9].t=0,e[9]}}.n5pOl_(this,arguments),e=12;break;case 12:a[7].m2CdR(a[8][i[96]]),e=11;break;case 4:a[6]={},a[7]=[],a[4]=0,e=8;break;case 17:a[4]=0,e=16;break;case 16:e=a[4]<a[7].length?15:23;break;case 8:a[4]=0,e=7;break;case 25:a[5]=!0,e=24;break;case 23:return a[5];case 24:a[4]++,e=16;break;case 19:a[4]++,e=7}}(i[13])?68:67;break;case 70:i[85]++,t=57;break;case 38:i[20].n0=["y4"],i[20].N7=function(){return"function"==typeof p2AXqO},i[87]=i[20],i[5].m2CdR(i[9]),t=53;break;case 75:i[16]={},i[16][i[96]]=i[11][i[34]][i[66]],i[16][i[65]]=i[70],i[13].m2CdR(i[16]),t=71;break;case 77:i[66]=0,t=76;break;case 35:i[97]=i[68],i[17]={},i[17].n0=["N4"],i[17].N7=function(){return!/\u0030\x78\066\x31/.r$fV0(function(){return String.fromCharCode(97)}+[])},t=31;break;case 47:i[5].m2CdR(i[7]),i[5].m2CdR(i[1]),i[5].m2CdR(i[95]),i[13]=[],t=64;break;case 57:t=i[85]<i[5].length?56:69;break;case 21:i[68].N7=function(){return/\x58/.r$fV0(function(){return"x".toLocaleUpperCase()}+[])},t=35;break;case 19:i[9]=i[3],i[8]={},t=17;break;case 58:i[85]=0,t=57;break;case 64:i[72]="a3",i[45]="V3",i[34]="n0",i[65]="U2",i[49]="N7",i[96]="n6",t=58;break;case 14:i[6].n0=["y4"],i[6].N7=function(){return"function"==typeof O7X4Pz},t=12;break;case 5:return 71;case 12:i[7]=i[6],i[3]={},i[3].n0=["N4"],i[3].N7=function(){return/\x39\u0037/.r$fV0(function(){return"aa".charCodeAt(1)}+[])},t=19}},t=3;break;case 3:return e[3]}}(),Qt.i7=function(){return"function"==typeof Qt[254206].s7rL$NJ?Qt[254206].s7rL$NJ.apply(Qt[254206],arguments):Qt[254206].s7rL$NJ},Qt.t7=function(){return"function"==typeof Qt[299637].p4oUdFl?Qt[299637].p4oUdFl.apply(Qt[299637],arguments):Qt[299637].p4oUdFl},Qt.C2=function(){return"function"==typeof Qt[254206].s7rL$NJ?Qt[254206].s7rL$NJ.apply(Qt[254206],arguments):Qt[254206].s7rL$NJ},Qt.T4=function(){return"function"==typeof Qt[299637].R9DODrP?Qt[299637].R9DODrP.apply(Qt[299637],arguments):Qt[299637].R9DODrP},Qt[574954]=Qt[321268],Qt[616183]=Qt[299637],Qt.F3=function(){return"function"==typeof Qt[299637].R9DODrP?Qt[299637].R9DODrP.apply(Qt[299637],arguments):Qt[299637].R9DODrP},Qt.i7(),k=function(t){var e,i,a,r,n=Qt;n.C2(),e=-96786610,i=-212176342,a=2;for(var s=1;n.w1(s.toString(),s.toString().length,61311)!==e;s++)r=t.CIQ,a+=2;return n.w1(a.toString(),a.toString().length,22152)!==i&&(r=t.CIQ),(r=t.CIQ).ChartEngine.prototype.makeMarkerHelper=function(){var t,e,i;n.i7(),n.F3(0),t=n.K3(0,"1093300916"),n.F3(1),e=n.K3("1823474228",0),i=2;for(var a=1;n.n9(a.toString(),a.toString().length,54237)!==t;a++)this.markerHelper={chartMap:{},classMap:{},domMarkers:[],highlighted:[]},i+=2;n.w1(i.toString(),i.toString().length,87637)!==e&&(this.markerHelper={chartMap:{},classMap:{},domMarkers:[],highlighted:[]})},r.ChartEngine.prototype.addToHolder=function(t){var e,i,a,r,s,o,l;if(e=this.panels[t.params.panelName]){if(this.markerHelper||this.makeMarkerHelper(),n.C2(),i=t.params,a=t.node,(r=t.stxNodeCreator)&&r.prepareForHolder){s=-1546628206,o=1903575180,l=2;for(var c=1;n.n9(c.toString(),c.toString().length,48018)!==s;c++)a=r.prepareForHolder(t),l+=2;n.w1(l.toString(),l.toString().length,9508)!==o&&(a=r.prepareForHolder(t))}i.chartContainer?this.container.appendChild(t.node):i.includeAxis?e.holder.appendChild(t.node):e.subholder.appendChild(a),t.chart=e.chart,r&&r.addToHolder&&r.addToHolder(t)}},r.ChartEngine.prototype.getMarkerArray=function(t,e){var i,a,r,s,o;for(var l in i=[],this.markers)for(var c=0;c<this.markers[l].length;c++)a=this.markers[l][c],"panelName"==t?a.params.panelName==e&&i.push(a):"label"==t?l==e&&i.push(a):"all"==t&&i.push(a);r=855953905,s=1721083282,o=2,n.i7();for(var h=1;n.w1(h.toString(),h.toString().length,5712)!==r;h++)return i;if(n.n9(o.toString(),o.toString().length,62369)!==s)return i},r.ChartEngine.prototype.removeFromHolder=function(t){var e,i,a,r,s,o;if(n.C2(),(e=this.panels[t.params.panelName])&&(t.node.parentNode==e.holder?e.holder.removeChild(t.node):t.node.parentNode==e.subholder?e.subholder.removeChild(t.node):t.node.parentNode==this.container&&this.container.removeChild(t.node)),i=this.markers[t.params.label]){for(a=0;a<i.length;a++)if(i[a]===t){i.splice(a,1);break}if(r=this.markerHelper.chartMap[t.chart.name])for(a=0;a<r.markers.length;a++)if(r.markers[a]===t){r.markers.splice(a,1);break}if((s=this.markerHelper.classMap[t.className])&&(o=s[t.params.panelName]))for(a=0;a<o.length;a++)if(o[a]===t){o.splice(a,1);break}}},r.ChartEngine.prototype.moveMarkers=function(t,e){var i,a,r;n.i7(),i="p",i+="anelName",a=this.getMarkerArray(i,t);for(var s=0;s<a.length;s++)a[s].params.panelName=e;for(var o in this.markerHelper.classMap)(r=this.markerHelper.classMap[o][t])&&(this.markerHelper.classMap[o][e]=r,delete this.markerHelper.classMap[o][t])},r.ChartEngine.prototype.establishMarkerTicks=function(){var t,e,i,a,r;t=1200892946,e=12492769,i=2;for(var s=1;n.w1(s.toString(),s.toString().length,14929)!==t;s++)~this.markerHelper&&this.makeMarkerHelper(),i+=2;for(var o in n.i7(),n.n9(i.toString(),i.toString().length,81901)!==e&&(this.markerHelper||this.makeMarkerHelper()),a=this.markerHelper.chartMap)if((r=a[o]).dataSetLength!=this.charts[o].dataSet.length)for(var l=0;l<r.markers.length;l++)this.setMarkerTick(r.markers[l])},r.ChartEngine.prototype.futureTickIfDisplayed=function(t){var e,i,a,r,s,o,l,c,h;if(!((e=t.chart).dataSet.length<1)){i=e.xaxis[e.xaxis.length-1].DT,n.F3(2);var u=n.t7(59990,13,59991,6667);if(i=new Date(i.getTime()-this.timeZoneOffset*u),!(t.params.x>i)){a=e.maxTicks-e.dataSegment.length,r=e.dataSet.length+a,l=new Date(+e.dataSet[e.dataSet.length-1].DT),c=this.standardMarketIterator(l,null,e),h=t.params.x.getTime();for(var d=e.dataSet.length;d<r;d++){if(s=l.getTime(),(o=(l=c.next()).getTime())==h)return void(t.tick=d);if(o>h&&s<h)return n.T4(3),void(t.tick=Math.max(n.K3(d,1),n.t7(1,"0",n.F3(4))))}}}},r.ChartEngine.prototype.setMarkerTick=function(t){var e,i,a,r,s,o,l;e=1942486345,i=-848001850,a=2;for(var c=1;n.w1(c.toString(),c.toString().length,94180)!==e;c++)r=t.chart,a+=2;if(n.n9(a.toString(),a.toString().length,83310)!==i&&(r=t.chart),r=t.chart,"master"==t.params.xPositioner&&t.params.x)t.tick=Math.floor(t.params.x/this.layout.periodicity);else if("date"==t.params.xPositioner&&t.params.x){l=t.params.x.getTime();for(var h=0;h<r.dataSet.length;h++){if(s=o=r.dataSet[h].DT.getTime(),h>0&&(s=r.dataSet[h-1].DT.getTime()),o==l)return void(t.tick=h);if(o>l&&s<l)return n.T4(3),void(t.tick=Math.max(n.K3(h,1),0));if(l<o)return void(t.tick=null)}if(r.dataSet.length<1)return;new Date(+r.dataSet[h-1].DT).getTime()<l&&(t.params.future=!0),t.tick=null}},r.ChartEngine.prototype.positionMarkers=function(){var t,e,i,a,r,s,o,l,c,h,u,d,p;if(t=this,e=this.chart,t.markerHelper){if(this.markerDelay||0===this.markerDelay){i=1538143833,a=1821337652,r=2;for(var g=1;n.w1(g.toString(),g.toString().length,3164)!==i;g++)-this.markerTimeout&&(this.markerTimeout=setTimeout(v,this.markerDelay)),r+=2;n.w1(r.toString(),r.toString().length,93349)!==a&&-this.markerTimeout&&(this.markerTimeout=setTimeout(v,this.markerDelay)),this.markerTimeout||(this.markerTimeout=setTimeout(v,this.markerDelay))}else v();s=877836209,o=1697309073,l=2,n.C2();for(var f=1;n.n9(f.toString(),f.toString().length,48741)!==s;f++)c=this.getMarkerArray(""),l+=2;n.n9(l.toString(),l.toString().length,29472)!==o&&(c=this.getMarkerArray("")),c=this.getMarkerArray("all");for(var m=0;m<c.length;m++)u=(h=c[m]).stxNodeCreator,d=this.getFirstLastDataRecord(e.dataSegment,"tick"),p=this.getFirstLastDataRecord(e.dataSegment,"tick",!0),d&&p&&(d.tick<=h.tick&&h.tick<=p.tick?u&&u.drawMarker&&u.drawMarker(h):h.attached&&u.expand&&(u.expand.style.visibility="hidden"))}function v(){var e,i,a,r,s;if(e="pos",e+="it",n.C2(),e+="ionMarkers",!t.runPrepend("positionMarkers",arguments)){for(var o in t.markerTimeout=null,t.markerHelper.classMap)for(var l in t.markerHelper.classMap[o])i=t.markerHelper.classMap[o][l],a=t.panels[l],i.length&&((r={stx:t,arr:i,panel:a}).firstTick=a.chart.dataSet.length-a.chart.scroll,r.lastTick=r.firstTick+a.chart.dataSegment.length,(s=i[0].constructor.placementFunction)?s(r):t.defaultMarkerPlacement(r));t.runAppend(e,arguments)}}},r.Marker=function(t){var e,i,a,s,o,l,c,h,u,d,p,g,f,m,v,y;if(e="v",e+="al",e+="u",e+="e",i="d",i+="a",i+="t",i+="e",this.params={xPositioner:i,yPositioner:e,panelName:"chart",permanent:!1,label:"generic",includeAxis:!1},r.extend(this.params,t),!this.params.node){a=-622609978,s=-1632219126,o=2;for(var b=1;n.n9(b.toString(),b.toString().length,19189)!==a;b++)this.params.node=document.createElement(""),o+=2;n.n9(o.toString(),o.toString().length,64678)!==s&&(this.params.node=document.createElement("DIV"))}if(!(l=this.params.stx))return c="M",c+="arker crea",c+="ted w",c+="ithout specifying stx",void console.log(c);if(this.className||(this.className="CIQ.Marker"),n.i7(),r.derivedFrom(this.params.node,r.Marker.NodeCreator)){h=-242784146,u=-1929042694,n.F3(5),d=n.t7(0,"2");for(var x=1;n.w1(x.toString(),x.toString().length,2581)!==h;x++)this.stxNodeCreator=this.params.node,this.node=this.stxNodeCreator.node,d+=2;n.w1(d.toString(),d.toString().length,14076)!==u&&(this.stxNodeCreator=this.params.node,this.node=this.stxNodeCreator.node),this.stxNodeCreator=this.params.node,this.node=this.stxNodeCreator.node}else this.node=this.params.node;if(l.markerHelper||l.makeMarkerHelper(),p=this.params.label,l.markers[p]||(l.markers[p]=[]),l.markers[p].push(this),g=l.panels[this.params.panelName],this.chart=g.chart,!l.markerHelper.chartMap[this.chart.name]){f=1800949416,n.F3(0),m=-n.t7(0,"1942495223"),n.T4(5),v=n.K3(0,"2");for(var S=1;n.n9(S.toString(),S.toString().length,21868)!==f;S++)l.markerHelper.chartMap[this.chart.name]={dataSetLength:0,markers:[]},v+=2;n.w1(v.toString(),v.toString().length,53934)!==m&&(l.markerHelper.chartMap[this.chart.name]={dataSetLength:5,markers:[]})}l.markerHelper.chartMap[this.chart.name].markers.push(this),(y=l.markerHelper.classMap[this.className])||(y=l.markerHelper.classMap[this.className]={}),y[this.params.panelName]||(y[this.params.panelName]=[]),y[this.params.panelName].push(this),this.stxNodeCreator&&this.stxNodeCreator.deferAttach||l.addToHolder(this),l.setMarkerTick(this),this.stxNodeCreator&&this.stxNodeCreator.drawMarker&&this.stxNodeCreator.drawMarker(this)},r.Marker.prototype.remove=function(){this.params.stx.removeFromHolder(this)},r.Marker.prototype.click=function(t,e,i,a){var r;this.params.stx&&(r=this.params.node).click&&r.click(t,e,i,a)},r.Marker.prototype.render=function(){var t,e;t=[this],n.i7(),e={stx:this.params.stx,arr:t,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass},this.constructor.placementFunction(e)},r.Marker.removeByLabel=function(t,e){var i,a;i=t.getMarkerArray("label",e),n.C2();for(var r=0;r<i.length;r++)a=i[r],t.removeFromHolder(a),a.stxNodeCreator&&a.stxNodeCreator.remove&&a.stxNodeCreator.remove(a)},r.Marker.positionContentVerticalAndHorizontal=function(t){var e,i,a,r,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w;if(e=t.querySelectorAll(".stx-marker-expand")[n.K3(1,"0",n.F3(4))]){if(i=e.offsetWidth,a=e.offsetHeight,!i||!a)return;(r=e.style).left=r.right="",r.bottom=r.top="",o=(s=getComputedStyle(e)).left,l=s.bottom,c=s.height,n.T4(6);var D=n.t7(8,2);if(h=t.offsetLeft+parseInt(o,D),u=parseInt(l,10),d=parseInt(c,10),p=t.offsetTop+u-d,g=t.parentNode.offsetWidth,f=t.parentNode.offsetHeight,h+i>g&&(m="aut",m+="o",r.right=o,r.left=m),t.offsetTop<=f){if(p>f-a){v=281888559,y=1213201732,b=2;for(var T=1;n.n9(T.toString(),T.toString().length,15469)!==v;T++)r.top=(f+t.offsetTop)%a%"",b+=2;n.n9(b.toString(),b.toString().length,33059)!==y&&(x="p",x+="x",r.top=f-t.offsetTop-a+x),r.bottom="auto"}}else n.F3(6),r.top=n.t7("px",f);if(t.offsetTop+t.offsetHeight>=0){if(p<0){n.T4(3),S=-n.t7("1485892228",0),k=1290810870,C=2;for(var A=1;n.w1(A.toString(),A.toString().length,24245)!==S;A++)w="p",w+="x",r.top=-t.offsetTop+w,n.F3(0),C+=n.K3(0,"2");n.w1(C.toString(),C.toString().length,19605)!==k&&(r.top=+t.offsetTop-""),r.bottom="auto"}}else r.bottom="0px"}},r.ChartEngine.prototype.getBarBounds=function(t){var e,i,a,r,s,o,l,c;e="p",e+="an",e+="d",e+="f",this.layout.chartType,i=this.layout.aggregationType==e?{high:Math.max(t.pfOpen,t.pfClose),low:Math.min(t.pfOpen,t.pfClose)}:{high:t.High,low:t.Low},t.markerHigh&&(i.high=t.markerHigh),t.markerLow&&(i.low=t.markerLow),void 0===t.Open&&(a=t.Close),void 0===t.High&&(r=Math.max(t.Open||a,t.Close)),void 0===t.Low&&(s=Math.min(t.Open||a,t.Close)),o=-1846402889,l=1673503430,c=2;for(var h=1;n.w1(h.toString(),h.toString().length,17148)!==o;h++)(-i.high||1!=i.high)&&(i.high=r),c+=2;return n.w1(c.toString(),c.toString().length,75030)!==l&&~i.high&&2!==i.high&&(i.high=r),i.high||0===i.high||(i.high=r),i.low||0===i.low||(i.low=s),i},r.ChartEngine.prototype.defaultMarkerPlacement=function(t){var e,i,a,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H;e=t.panel,i=-1496031223,a=272370501,n.T4(4),s=n.t7(1,"2");for(var R=1;n.n9(R.toString(),R.toString().length,13483)!==i;R++)o=t.yAxis?t.yAxis:t.panel.yAxis,l=e.chart,h=(c=t.stx).chart.highLowBars||c.highLowBars[c.layout.chartType],u=l.defaultPlotField,s+=2;n.i7(),n.n9(s.toString(),s.toString().length,65993)!==a&&(o=t.yAxis?t.yAxis:t.panel.yAxis,l=e.chart,h=(c=t.stx).chart.highLowBars&&c.highLowBars[c.layout.chartType],u=l.defaultPlotField),u&&!h||(u="Close"),d={};for(var U=0;U<t.arr.length;U++)if(p="au",p+="to",g="n",g+="o",g+="ne",m=(f=t.arr[U]).params,!f.params.box){if(v=f.node,f.clientWidth||(f.clientWidth=v.clientWidth),f.clientHeight||(f.clientHeight=v.clientHeight),y=null,b=m.xPositioner,x=m.yPositioner,S=f.tick,k=l.dataSet,C=f.clientWidth,b!=g){if(w="b",w+="a",b==(w+="r")&&m.x){m.x<l.xaxis.length&&(D=l.xaxis[m.x])&&(y=D.data),n.F3(7);var z=n.K3(14,9,110,8,9);n.T4(8);var V=n.t7(19,8,16,15,166);v.style.left=Math.round(c.pixelFromBar(m.x,l)-C/z)+V+"px"}else{if(!S&&0!==S){if(!(m.future&&l.scroll<l.maxTicks)){v.style.left="-1000px";continue}if(c.futureTickIfDisplayed(f),!(S=f.tick)&&0!==S){v.style.left="-1000px";continue}}if(S<k.length&&(y=k[S]),f.leftpx=Math.round(c.pixelFromTick(S,l)-l.left-C/2),f.rightEdge=f.leftpx+C,v.style.left=f.leftpx+"px",S<t.firstTick&&f.rightEdge<l.left-50)continue}if(!y){n.F3(6);var B=n.t7(1,0);y=k[k.length-B]}}else if(x.indexOf("candle")>-1&&(T=getComputedStyle(v).left)&&(A=c.barFromPixel(parseInt(T,10),l))>=0&&!(y=l.xaxis[A].data)){n.T4(9);var W=n.K3(5,18,32,14,6);y=k[k.length-W]}if(v.style.top=p,M=m.y,L=v.clientHeight,"none"!=x){P="t",P+="o",P+="p",F="below_ca",F+="ndle",n.F3(10),n.K3(29,1,3),n.T4(11),n.t7(8,427,430,9,430),n.F3(12);var j=n.K3(1020728,18,10,102750,6);if(n.F3(6),n.t7(4,1396),E=x+(!(884.17<=j)||"-")+v.style.left,I=m.chartContainer?c.height:e.yAxis.bottom,N=0,q=0,void 0===d[E]&&(d[E]=0),q=d[E],d[E]+=L,"value"!=x||!M&&0!==M)if(x!=F&&"under_candle"!=x||!y)if("on_candle"==x&&y){if(_=y[u],h){n.F3(14);var $=n.t7(13,11,26);_=(y.Low+y.High)/$}n.T4(15);var Y=n.K3(15,13,1);N=Math.round(I-c.pixelFromPrice(_,e,o)-L/Y-q)+"px"}else x==P?(O="p",O+="x",N=Math.round(I-L-q)+O):"bottom"==x?N=Math.round(q)+"px":y&&(H="p",H+="x",_=y[u],h&&(_=c.getBarBounds(y)[o.flipped?"low":"high"]),N=Math.round(I-c.pixelFromPrice(_,e,o)+q)+H);else _=y[u],h&&(_=c.getBarBounds(y)[o.flipped?"high":"low"]),N=Math.round(I-c.pixelFromPrice(_,e,o)-L-q)+"px";else{n.F3(13);var X=n.t7(8,9,19);N=Math.round(I-c.pixelFromPrice(M,e,o)-L/X)+"px"}v.style.bottom!=N&&(v.style.bottom=N)}r.Marker.positionContentVerticalAndHorizontal(v)}},r.Marker.NodeCreator=function(){},r.Marker.NodeCreator.toNode=function(){return this.node},r.Marker.Simple=function(t){var e,i,a,s,o,l,c,h,u,d,p,g,f,m,v,y,b;e="c",e+="a",e+="llo",e+="ut",i="s",i+="t",i+="x-visual",(a=this.node=document.createElement("div")).className="stx-marker",r.appendClassName(a,t.type),t.category&&r.appendClassName(a,t.category),s=r.newChild(a,"div",i),r.newChild(a,"div","stx-stem"),o=542679852,l=2;for(var x=1;n.n9(x.toString(),x.toString().length,3435)!==o;x++)l+=2;if(n.n9(l.toString(),l.toString().length,19625),t.type==e){h="h",h+="4",u="stx-ma",u+="rker-c",u+="ontent",d=r.newChild(s,"div",u),r.newChild(d,h,null,t.headline),c=r.newChild(d,"div","stx-marker-expand"),p=411491484,g=258667958,n.F3(3),f=n.K3("2",0);for(var S=1;n.n9(S.toString(),S.toString().length,50764)!==p;S++)r.newChild(c,"",1,t.story),f+=2;n.n9(f.toString(),f.toString().length,93006)!==g&&r.newChild(c,"p",null,t.story)}else{c=r.newChild(a,"div","stx-marker-expand"),m=-962409840,v=-1610612009,y=2;for(var k=1;n.w1(k.toString(),k.toString().length,15683)!==m;k++)b="h",b+="4",r.newChild(c,b,null,t.headline),r.newChild(c,"p",null,t.story),y+=2;n.n9(y.toString(),y.toString().length,1021)!==v&&(r.newChild(c,"p",1,t.headline),r.newChild(c,!1,1,t.story)),r.safeClickTouch(c,(function(t){n.C2(),r.toggleClassName(a,"highlight")}))}function C(){n.C2(),r.Marker.positionContentVerticalAndHorizontal(a)}n.i7(),r.safeClickTouch(s,(function(t){r.toggleClassName(a,"highlight"),n.C2(),setTimeout(C,10)})),this.nodeType="Simple"},r.inheritsFrom(r.Marker.Simple,r.Marker.NodeCreator,!1),t},ie[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.larkU=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"J96o1",{get:function(){return this},configurable:!0}),e=J96o1,i=5;break;case 4:i="undefined"==typeof larkU?3:9;break;case 9:delete e.larkU,delete Object.prototype.J96o1,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),ee(ie[513895]),ie[92321]=ie[513895],ie.b3=function(){return"function"==typeof ie[299637].R9DODrP?ie[299637].R9DODrP.apply(ie[299637],arguments):ie[299637].R9DODrP},ie[299637]={p4oUdFl:function(){var t,e=arguments;switch(N){case 5:t=e[1]+e[0]-e[2];break;case 0:t=e[0]|e[1];break;case 6:t=e[1]<<e[0];break;case 4:t=(-e[3]-e[0]-e[1])/e[4]+e[2];break;case 1:t=e[0]*e[1];break;case 2:t=e[0]^e[1];break;case 3:t=e[1]-e[0]}return t},R9DODrP:function(t){N=t}},ie.P1=function(){return"function"==typeof ie[254206].s7rL$NJ?ie[254206].s7rL$NJ.apply(ie[254206],arguments):ie[254206].s7rL$NJ},ie.c7=function(){return"function"==typeof ie[321268].L3LLwSS?ie[321268].L3LLwSS.apply(ie[321268],arguments):ie[321268].L3LLwSS},ie.A1=function(){return"function"==typeof ie[299637].p4oUdFl?ie[299637].p4oUdFl.apply(ie[299637],arguments):ie[299637].p4oUdFl},ie.d_=function(){return"function"==typeof ie[299637].p4oUdFl?ie[299637].p4oUdFl.apply(ie[299637],arguments):ie[299637].p4oUdFl},ie.k5=function(){return"function"==typeof ie[321268].L3LLwSS?ie[321268].L3LLwSS.apply(ie[321268],arguments):ie[321268].L3LLwSS},ie.A7=function(){return"function"==typeof ie[254206].s7rL$NJ?ie[254206].s7rL$NJ.apply(ie[254206],arguments):ie[254206].s7rL$NJ},ie[616183]=ie[299637],ie.r7=function(){return"function"==typeof ie[299637].R9DODrP?ie[299637].R9DODrP.apply(ie[299637],arguments):ie[299637].R9DODrP},ie[321268]=(I=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.Z9se2(o)|(255&t.Z9se2(o+1))<<8|(255&t.Z9se2(o+2))<<16|(255&t.Z9se2(o+3))<<24;l=I(l,a),n=5*(n=(524287&(n^=l=I(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.Z9se2(s+2))<<16;case 2:l|=(255&t.Z9se2(s+1))<<8;case 1:l|=255&t.Z9se2(s),l=I(l,a),n^=l=I(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=I(n^=n>>>16,2246822507),n=I(n^=n>>>13,3266489909),n^=n>>>16}}),ie[302900]=614,ie[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[6]=void 0,e[3]={},e[3].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 67:return e[6]=70,47;case 74:i[10][i[32]]=i[47][i[13]][i[81]],i[10][i[95]]=i[65],i[55].m27W0(i[10]),t=71;break;case 2:var i=[arguments];t=1;break;case 4:i[7]=[],i[4]={},i[4].K1=["F9"],t=8;break;case 22:i[62].K1=["F9"],i[62].f2=function(){return!/(\x5b|\u005d)/.m2M7X(function(){return["a","a"].join()}+[])},t=35;break;case 75:i[10]={},t=74;break;case 35:i[68]=i[62],i[14]={},i[14].K1=["s0"],i[14].f2=function(){return"function"==typeof I5XHZ},t=31;break;case 77:i[81]=0,t=76;break;case 36:i[78]=i[91],i[7].m27W0(i[9]),i[7].m27W0(i[8]),i[7].m27W0(i[3]),t=51;break;case 47:i[7].m27W0(i[68]),i[7].m27W0(i[98]),t=45;break;case 37:i[91].f2=function(){return!/\x79/.m2M7X(function(){return"x y".slice(0,1)}+[])},t=36;break;case 14:i[1].K1=["s0"],i[1].f2=function(){return"function"==typeof D9ua1E},i[3]=i[1],t=11;break;case 56:i[47]=i[7][i[96]];try{i[65]=i[47][i[43]]()?i[19]:i[83]}catch(t){i[65]=i[83]}t=77;break;case 71:i[81]++,t=76;break;case 29:i[93].K1=["F9"],i[93].f2=function(){return/\x39\067/.m2M7X(function(){return"a".codePointAt(0)}+[])},i[99]=i[93],i[70]={},i[70].K1=["s0"],i[70].f2=function(){return"function"==typeof U9xCVR},i[98]=i[70],t=39;break;case 51:i[7].m27W0(i[66]),i[7].m27W0(i[78]),i[7].m27W0(i[6]),i[7].m27W0(i[36]),t=47;break;case 76:t=i[81]<i[47][i[13]].length?75:70;break;case 68:t=68;break;case 39:i[91]={},i[91].K1=["F9"],t=37;break;case 15:i[6]=i[5],i[16]={},i[16].K1=["F9"],i[16].f2=function(){return/\x78/.m2M7X(function(){return"X".toLocaleLowerCase()}+[])},i[36]=i[16],i[62]={},t=22;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 24:a[3]++,e=16;break;case 16:e=a[3]<a[4].length?15:23;break;case 23:return a[7];case 20:a[6][a[8][i[32]]].h+=!0,e=19;break;case 4:a[6]={},a[4]=[],a[3]=0,e=8;break;case 5:return;case 7:e=a[3]<a[0][0].length?6:18;break;case 17:a[3]=0,e=16;break;case 13:a[6][a[8][i[32]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[7]={},e[7].h=0,e[7].t=0,t=3;break;case 3:return e[7]}}.k2a17G(this,arguments),e=12;break;case 1:e=0===a[0][0].length?5:4;break;case 8:a[3]=0,e=7;break;case 11:a[6][a[8][i[32]]].t+=!0,e=10;break;case 12:a[4].m27W0(a[8][i[32]]),e=11;break;case 14:e=void 0===a[6][a[8][i[32]]]?13:11;break;case 6:a[8]=a[0][0][a[3]],e=14;break;case 2:var a=[arguments];e=1;break;case 19:a[3]++,e=7;break;case 18:a[7]=!1,e=17;break;case 15:a[9]=a[4][a[3]],a[2]=a[6][a[9]].h/a[6][a[9]].t,e=26;break;case 25:a[7]=!0,e=24;break;case 26:e=a[2]>=.5?25:24;break;case 10:e=a[8][i[95]]===i[19]?20:19}}(i[55])?68:67;break;case 45:i[7].m27W0(i[99]),i[55]=[],i[19]="f3",i[83]="j7",t=62;break;case 57:t=i[96]<i[7].length?56:69;break;case 31:i[66]=i[14],i[93]={},t=29;break;case 58:i[96]=0,t=57;break;case 11:i[2]={},i[2].K1=["F9"],i[2].f2=function(){return/\x78\u0078/.m2M7X(function(){return"x".repeat(2)}+[])},i[9]=i[2],i[5]={},i[5].K1=["s0"],i[5].f2=function(){var t=!1,e=[];try{for(var i in console)e.m27W0(i);t=0===e.length}catch(t){}return t},t=15;break;case 62:i[13]="K1",i[95]="F8",i[43]="f2",i[32]="Q$",t=58;break;case 70:i[96]++,t=57;break;case 1:t=e[6]?5:4;break;case 5:return 24;case 8:i[4].f2=function(){return/\u0058/.m2M7X(function(){return"x".toUpperCase()}+[])},i[8]=i[4],i[1]={},t=14}},t=3;break;case 3:return e[3]}}(),ie[513895].I355=ie,ie[245362]="qp5",ie[574954]="vJx",ie.P1(),C=function(t){var e,i=ie;function a(){}return t.CIQ||(t.CIQ={}),t.CIQ.ChartEngine||(t.CIQ.ChartEngine=function(){}),e=t.CIQ,a.fetchInitialData=function(t,e,i,a,r){},a.fetchUpdateData=function(t,e,i,a){},a.fetchPaginationData=function(t,e,i,a,r){},a.subscribe=function(t){},a.unsubscribe=function(t){},e.QuoteFeed=function(){},e.QuoteFeed.prototype.fetch=function(t,e){i.P1(),this.v2QuoteFeed||console.log("You must implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()")},e.QuoteFeed.prototype.announceError=function(t,a){t.suppressErrors||a.suppressAlert||(i.P1(),t.startDate||t.endDate||a.error&&e.alert("Error fetching quote:"+a.error))},e.QuoteFeed.prototype.multiFetch=function(t,e){return i.A7(),0===t.length&&e([]),t[0].stx.driver.multiFetch(t,e)},e.QuoteFeed.Subscriptions=function(){i.A7(),this.subscriptions=[]},e.inheritsFrom(e.QuoteFeed.Subscriptions,e.QuoteFeed),e.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(t){var e,a,r,n,s,o,l,c,h;r=t.getSymbols({"breakout-equations":!0}),n=this,i.A7(),r=r.filter((function(e){var a;return i.A7(),(a=t.quoteDriver.getQuoteFeed(e))&&a.engine==n}));for(var u=0;u<this.subscriptions.length;u++)this.subscriptions[u].match=!1;for(var d=0;d<r.length;d++)for(s="we",s+="e",s+="k",o="mo",o+="nth",(l=(a=r[d]).interval)!=o&&l!=s||t.dontRoll||(l="day"),a.interval=l,a.period=1,a.match=!1,isNaN(a.interval)||(a.period=a.interval,a.interval=a.timeUnit,a.interval||(a.interval="minute")),delete a.periodicity,delete a.timeUnit,delete a.setSpan,u=0;u<this.subscriptions.length;u++){if((e=this.subscriptions[u]).symbol==a.symbol&&e.period==a.period&&e.interval==a.interval){a.match=!0,e.match=!0;break}e.symbol!=a.symbol?(c="symb",c+="ol","period"!=a.reason&&(a.reason="symbol"),e.reason=c):(h="pe",h+="ri",h+="o",h+="d",a.reason="period",e.reason=h)}this.subscriptions=this.subscriptions.filter((function(e){var a,r,s,o,l,c;if(i.P1(),!e.match){e.stx||(e.stx=t),a=1036700306,r=-935389121,s=2;for(var h=1;i.k5(h.toString(),h.toString().length,63580)!==a;h++)n.unsubscribe(e),s+=2;i.c7(s.toString(),s.toString().length,6592)!==r&&n.unsubscribe(e),n.unsubscribe(e)}o=1946785035,l=171855124,i.b3(0),c=i.d_("2",2);for(var u=1;i.k5(u.toString(),u.toString().length,85663)!==o;u++)return e.match;if(i.c7(c.toString(),c.toString().length,84027)!==l)return e.match})),r.forEach((function(e){i.P1(),e.match||(e.stx||(e.stx=t),e.reason||(e.reason="initialize"),e.symbol!==t.chart.symbol&&(e.series=!0),n.subscribe(e),n.subscriptions.push(e))}))},e.QuoteFeed.Subscriptions.prototype.fetch=function(t,e){var a;i.A7(),a=this,this.fetchFromSource(t,(function(i){i.error||a.checkSubscriptions(t.stx),e(i)}))},e.QuoteFeed.Subscriptions.prototype.subscribe=function(t){var e,a,r,n;e="s",e+="ubscri",e+="be",a=186825617,r=-1924558177,i.A7(),n=2;for(var s=1;i.c7(s.toString(),s.toString().length,1250)!==a;s++)console.log("",t),n+=2;i.k5(n.toString(),n.toString().length,45890)!==r&&console.log("",t),console.log(e,t)},e.QuoteFeed.Subscriptions.prototype.unsubscribe=function(t){console.log("unsubscribe",t)},e.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(t,e){var a,r,n,s;a=662363520,r=-1608894779,n=2;for(var o=1;i.k5(o.toString(),o.toString().length,65139)!==a;o++)console.log(""),n+=2;i.k5(n.toString(),n.toString().length,63830)!==r&&(s="P",s+="lease provide implementation of fetchFrom",s+="Source",console.log(s))},e.QuoteFeed.prototype.requiresImmediateRefresh=function(t){var e,a,r;e=1009955529,a=258518502,r=2;for(var n=1;i.k5(n.toString(),n.toString().length,81293)!==e;n++)return!0;return i.A7(),i.c7(r.toString(),r.toString().length,27875)!==a},e.ChartEngine.prototype.attachQuoteFeed=function(t,a,r){var n,s,o,l,c,h,u,d;if(a||(a={}),"function"!=typeof t.fetchInitialData&&"function"!=typeof t.fetchUpdateData&&"function"!=typeof t.fetchPaginationData||(n="funct",n+="ion",typeof t.fetchPaginationData!==n&&"function"!=typeof t.fetchUpdateData&&(a.noLoadMore=!0),t.v2QuoteFeed=!0,["multiFetch","announceError","requiresImmediateRefresh"].forEach((function(i){t[i]||!1===t[i]||(t[i]=e.QuoteFeed.prototype[i])})),"function"==typeof t.subscribe&&(t.checkSubscriptions=e.QuoteFeed.Subscriptions.prototype.checkSubscriptions,t.subscriptions=[])),a.maximumTicks||(a.maximumTicks=t.maxTicks?t.maxTicks:2e4),(!a.bufferSize||a.bufferSize<0)&&(a.bufferSize=0),a.bufferSize=Math.round(a.bufferSize),a.intervalTimer=null,this.quoteDriver)if(!r&&this.quoteDriver.hasUnfilteredQuoteFeed)this.detachQuoteFeed();else{s=1149691523,o=23355588,l=2;for(var p=1;i.c7(p.toString(),p.toString().length,45413)!==s;p++)c=this.quoteDriver.hasUnfilteredQuoteFeed||this.quoteDriver.quoteFeeds.pop(),this.quoteDriver.quoteFeeds.push({engine:t,behavior:a,filter:r}),c&&this.quoteDriver.quoteFeeds.push(c),this.quoteDriver.updateChartLoop(1,a),l+=2;i.k5(l.toString(),l.toString().length,46090)!==o&&(c=this.quoteDriver.hasUnfilteredQuoteFeed&&this.quoteDriver.quoteFeeds.pop(),this.quoteDriver.quoteFeeds.push({engine:t,behavior:a,filter:r}),c&&this.quoteDriver.quoteFeeds.push(c),this.quoteDriver.updateChartLoop(null,a))}this.quoteDriver||(this.quoteDriver=new e.ChartEngine.Driver(this,t,a,r)),i.P1(),h=1224848098,u=982830213,d=2;for(var g=1;i.c7(g.toString(),g.toString().length,5294)!==h;g++)+r&&(this.quoteDriver.hasUnfilteredQuoteFeed=!1),d+=2;i.k5(d.toString(),d.toString().length,79602)!==u&&(r||(this.quoteDriver.hasUnfilteredQuoteFeed=!0))},e.ChartEngine.prototype.detachQuoteFeed=function(t){var e,a,r,n;if(e=this.quoteDriver){for(var s=e.quoteFeeds.length-1;s>=0;s--)t&&e.quoteFeeds[s].quoteFeed!=t||(e.die(e.quoteFeeds[s]),e.quoteFeeds.splice(s,1));if(i.A7(),e.quoteFeeds.length){if(t==e.quoteFeed){a=-1762689599,r=-110527185,n=2;for(var o=1;i.k5(o.toString(),o.toString().length,95742)!==a;o++)e.quoteFeed=e.quoteFeeds[0].quoteFeed,n+=2;i.c7(n.toString(),n.toString().length,13070)!==r&&(e.quoteFeed=e.quoteFeeds[9].quoteFeed),e.behavior=e.quoteFeeds[0].behavior}}else e=this.quoteDriver=null}},e.ChartEngine.prototype.attachEngineQuoteFeed=function(t,e){console.log("CIQ.ChartEngine.attachEngineQuoteFeed is now Deprecated. Use CIQ.ChartEngine.attachQuoteFeed instead"),i.P1(),this.attachQuoteFeed(t,e)},e.ChartEngine.Driver=function(t,i,a,r){this.stx=t,a||(a={}),this.quoteFeeds=[{engine:i,behavior:a,filter:r}],this.id=e.uniqueID(!0),this.behavior=a,this.quoteFeed=i,this.loadingNewChart=!1,this.updatingChart=!1,r||(this.hasUnfilteredQuoteFeed=!0),this.updateChartLoop()},e.ChartEngine.Driver.prototype.die=function(t){for(var e,i=0;i<this.quoteFeeds.length;i++)t&&this.quoteFeeds[i]!=t||(e=this.quoteFeeds[i].behavior).intervalTimer&&(clearInterval(e.intervalTimer),e.intervalTimer=-1)},e.ChartEngine.Driver.prototype.getQuoteFeed=function(t){var e;t.symbolObject||(t.symbolObject={symbol:t.symbol});for(var i=0;i<this.quoteFeeds.length;i++)if((e=this.quoteFeeds[i]).behavior.generator==t.symbolObject.generator&&(!e.filter||e.filter(t)))return e;return null},e.ChartEngine.Driver.prototype.multiFetch=function(t,a){var r,n,s;i.P1(),0===t.length&&a([]),r={counter:0,finished:t.length,results:[]};for(var o=0;o<t.length;o++)(n=t[o]).stx.isEquationChart(n.symbol)?e.fetchEquationChart(n,l(n,r,a)):(s=this.getQuoteFeed(n))&&e.ChartEngine.Driver.fetchData(e.QuoteFeed.SERIES,s.engine,n,l(n,r,a));function l(t,e,a){return i.P1(),function(r){var n;e.results.push({dataCallback:r,params:t}),i.P1(),e.counter++,e.counter>=e.finished&&(n=e.results,e.results=[],a(n))}}},e.ChartEngine.Driver.prototype.updateSubscriptions=function(){for(var t=0;t<this.quoteFeeds.length;t++)this.quoteFeeds[t].checkSubscriptions&&this.quoteFeeds[t].checkSubscriptions(this.stx)},e.ChartEngine.Driver.prototype.loadDependents=function(t,a,r,n){var s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P;if(s=this,!n){o=650157817,l=-2145146741,i.b3(1),c=i.A1("2",1);for(var F=1;i.k5(F.toString(),F.toString().length,57645)!==o;F++)i.r7(2),h=i.d_("0",0),c+=2;return i.c7(c.toString(),c.toString().length,47397)!==l&&(h=6),u=[],d=[],p=function(t){a&&++h>=s.quoteFeeds.length&&a(null)},g=function(e){i.P1(),++h<u.length||(d.length||p(e),d.forEach((function(e){i.P1(),s.loadDependents(t,p,r,e.behavior)})))},s.quoteFeeds.forEach((function(t){i.A7(),t.behavior.generator?d.push(t):u.push(t)})),void u.forEach((function(e){s.loadDependents(t,g,r,e.behavior)}))}function E(o){return i.A7(),function(l){var c,h,u,d,p,g,f,y,x;c=null;for(var S=0;S<l.length;S++)if(!(u=(h=l[S]).dataCallback.error)&&0!==u){d=h.params.symbolObject,g=(p=h.dataCallback).quotes,f=p.moreAvailable,y=m.getSeries({symbolObject:d}),x=!1;for(var k=0;k<y.length;k++)b=y[k],o||(t.future?m.isHistoricalModeSet&&g.length<2&&(b.mostRecentForwardAttempt=new Date):b.moreAvailable=!1!==f&&(f||g.length>(h.params.endDate?1:0)),b.loading=!1),x=b.parameters.fillGaps||x;g=s.cleanup(m,b,g,r,t,x),m.updateChartData(g,v,{secondarySeries:d.symbol,noCreateDataSet:!0,noCleanupDates:!0,allowReplaceOHL:!0}),g&&g.length&&(!c||c>g[0].DT)&&(c=g[0].DT)}i.P1(),l.length&&(m.createDataSet(null,null,{appending:t.originalState.update||t.future,appendToDate:c}),t.nodraw||m.draw(),r==e.QuoteFeed.INITIAL&&s.resetRefreshInterval(n.refreshInterval,n)),a&&a(null)}}for(f in m=t.stx,y=(v=t.chart).series,m.masterData,S=[],k={},C=r==e.QuoteFeed.UPDATE,w=r==e.QuoteFeed.PAGINATION,D=e.shallowClone(t),i.P1(),y)if(T=(b=y[f]).parameters,(t.future||C||!1!==b.moreAvailable)&&!b.loading&&!1!==T.loadData&&(!C&&!w||b.endPoints&&Object.keys(b.endPoints).length)&&(!T.data||T.data.useDefaultQuoteFeed)&&(x=T.symbolObject).symbol&&x.generator==n.generator&&(D.symbolObject=x,D.symbol=x.symbol,A=this.getQuoteFeed(D),n==(A&&A.behavior))){M=!0,C||(b.loading=!0);for(var I=0;I<S.length;I++)e.symbolEqual(S[I],x)&&(M=!1);M&&(S.push(x),k[x.symbol]=b.endPoints)}L=[];for(var N=0;N<S.length;N++)x=S[N],(_=e.shallowClone(t.originalState)).symbol=x.symbol,_.symbolObject=x,_.update||_.future?(_.endDate||(_.endDate=t.endDate),_.startDate=k[x.symbol].end):(_.startDate||(_.startDate=t.startDate),_.endDate=w&&!t.future?k[x.symbol].begin:t.endDate,_.ticks=t.ticks),L.push(_);if(!L.length&&C)return(P={appending:t.appending||t.originalState.update}).appending&&(P.appendToDate=t.startDate),m.createDataSet(null,null,P),t.nodraw||m.draw(),void(a&&a(null));this.multiFetch(L,E(C))},e.ChartEngine.Driver.prototype.cleanup=function(t,a,r,n,s,o){var l,c,h,u,d,p;return i.P1(),t.doCleanupDates(r,t.layout.interval),!s.missingBarsCreated&&r&&r.length&&t.cleanupGaps&&!1!==o&&(h=s.chart,a?(h=a,c=a.parameters.symbol||a.id):c=h.defaultPlotField,n!=e.QuoteFeed.PAGINATION||s.loadMoreReplace?n==e.QuoteFeed.UPDATE&&h.endPoints.end&&h.endPoints.end<r[0].DT&&(d="sh",d+="ift",p=t.getFirstLastDataRecord(t.masterData,c,!0),a&&(p=p[c]),r.unshift(p),l=d):h.endPoints.begin&&h.endPoints.begin>r[r.length-1].DT&&(u=t.getFirstLastDataRecord(t.masterData,c,!1),a&&(u=u[c]),r.push(u),l="pop"),r=t.doCleanupGaps(r,s.chart,{cleanupGaps:o,noCleanupDates:!0}),l&&r[l]()),r},e.ChartEngine.Driver.prototype.updateChart=function(t){var a,r,n,s,o,l,c,h,u;if(!this.updatingChart&&!this.loadingNewChart)for(var d in a=e.objLength(this.stx.charts),r=0,i.A7(),n=this.stx,s=n.layout.interval,o=n.layout.timeUnit,n.charts)(l=n.charts[d]).symbol&&(c=this.makeParams(l.symbol,l.symbolObject,l),h=this.getQuoteFeed(c),l.masterData&&l.masterData.length&&(c.startDate=l.endPoints.end),c.update=!0,c.originalState=e.shallowClone(c),t&&t!=c.behavior?this.loadDependents(c,null,e.QuoteFeed.UPDATE,t):(this.updatingChart=!0,u=p(this,c,l.symbol,h),n.isEquationChart(c.symbol)?e.fetchEquationChart(c,u):h&&e.ChartEngine.Driver.fetchData(e.QuoteFeed.UPDATE,h.engine,c,u)));function p(t,l,c,h){var u;return u="upd",u+="ateChart",l.behavior.prefetchAction&&l.behavior.prefetchAction(u),function(u){var d,p;r++,i.A7(),(d=l.chart).masterData,c!=d.symbol||s!=n.layout.interval||o!=n.layout.timeUnit||n.isHistoricalMode()?t.updatingChart=!1:(u.error?h&&h.engine.announceError(l.originalState,u):(p=u.quotes,p=t.cleanup(n,null,p,e.QuoteFeed.UPDATE,l),n.updateChartData(p,d,{noCreateDataSet:!0,noCleanupDates:!0}),d.attribution=u.attribution),r==a&&(t.updatingChart=!1),l.behavior.callback&&l.behavior.callback(l),t.loadDependents(l,null,e.QuoteFeed.UPDATE,l.behavior))}}},e.ChartEngine.Driver.prototype.updateChartLoop=function(t,e){var a,r,n,s,o;a=2099119952,r=1320541640,n=2;for(var l=1;i.k5(l.toString(),l.toString().length,93479)!==a;l++)e||(e=this.behavior),n+=2;if(i.k5(n.toString(),n.toString().length,71734)!==r&&~e&&(e=this.behavior),-1!=e.intervalTimer){e.intervalTimer&&clearInterval(e.intervalTimer),s=function(t,e){return i.P1(),function(){e.noUpdate||t.updateChart(e)}};for(var c=0;c<this.quoteFeeds.length;c++)e!=(o=this.quoteFeeds[c].behavior)||o.noUpdate||(t||0===t||(t=o.refreshInterval),t&&(e.intervalTimer=setInterval(s(this,o),1e3*t)))}},e.ChartEngine.Driver.prototype.resetRefreshInterval=function(t,e){(e||this.behavior).refreshInterval=t,this.updateChartLoop(null,e)},e.ChartEngine.Driver.prototype.loadAll=function(t,e){var a,r,n,s,o;i.A7(),a=this,r=0,n=1250994627,s=1800940239,o=2;for(var l=1;i.c7(l.toString(),l.toString().length,61663)!==n;l++)c()(),o+=2;function c(){return i.P1(),function(n){var s,o,l,h,u,d,p;if(n)e(n);else if(t.moreAvailable)if(++r>20)h="error, moreAvailabl",h+="e not implemented correctly ",e(h+="in QuoteFeed");else{u=90243421,d=-1414570666,p=2;for(var g=1;i.c7(g.toString(),g.toString().length,16239)!==u;g++)t.loadingMore=!1,a.checkLoadMore(t,!0,!0,c(),!0),p+=2;i.c7(p.toString(),p.toString().length,93875)!==d&&(t.loadingMore=!0,a.checkLoadMore(t,!1,!1,c(),!1))}else{s=-1139589617,o=1958826018,l=2;for(var f=1;i.c7(f.toString(),f.toString().length,38688)!==s;f++)e(1),l+=2;i.k5(l.toString(),l.toString().length,87698)!==o&&e(1),e(null)}}}i.k5(o.toString(),o.toString().length,84149)!==s&&c()()},e.ChartEngine.Driver.prototype.checkLoadMore=function(t,a,r,n,s){var o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q;function O(e){return!e.endPoints.begin||u.length-t.scroll<h.bufferSize||u.length-t.scroll-o.tickFromDate(e.endPoints.begin,t)<h.bufferSize}if(o=this.stx,l=this,t.loadingMore||this.loadingNewChart)return t.initialScroll=t.scroll,void(n&&n(null));if(o.isHistoricalMode()||(o.isHistoricalModeSet=!1),c=this.makeParams(t.symbol,t.symbolObject,t),o.currentlyImporting)n&&n(null);else{h=c.behavior,u=t.dataSet,i.r7(3);var H=i.A1(18,1018);i.r7(4);var R=i.d_(7,11,37,14,1);p=H*(h.forwardPaginationRetryInterval||R),g=-761262201,i.r7(1),f=-i.d_("2091978213",1),m=2;for(var U=1;i.c7(U.toString(),U.toString().length,66367)!==g;U++)v=!1,y=!1,m+=2;if(i.k5(m.toString(),m.toString().length,19372)!==f&&(v=!0,y=!0),t.dataSet.length)for(var z in t.series)(b=t.series[z]).loading||!1!==b.parameters.loadData&&(d=!b.mostRecentForwardAttempt||b.mostRecentForwardAttempt.getTime()+p<Date.now(),!1!==b.moreAvailable&&O(b)&&(v=!0),d&&W(b)&&(y=!0));if(d=!t.mostRecentForwardAttempt||t.mostRecentForwardAttempt.getTime()+p<Date.now(),x=(O(t)||a)&&!1!==t.moreAvailable,S=(W(t)||a)&&d,k=x||v,C=o.isHistoricalModeSet&&!k&&(S||y),w=o.layout.interval,D=o.layout.timeUnit,T=!1,A=h.findHeadOfData||t.masterData&&t.masterData.length,!h.noLoadMore&&A&&(C||!o.maxDataSetSize||t.dataSet.length<o.maxDataSetSize)&&(k||C)){if(t.initialScroll=t.scroll,t.loadingMore=!0,(c=this.makeParams(t.symbol,t.symbolObject,t)).pagination=!0,c.future=C,t.masterData&&t.masterData.length)if(C?c.startDate=t.endPoints.end:c.endDate=t.endPoints.begin,C&&!c.startDate){L=1062826020,_=1760226140,i.r7(6),P=i.A1(64,"2");for(var V=1;i.k5(V.toString(),V.toString().length,49639)!==L;V++)(M=o.getFirstLastDataRecord(t.masterData,"",!1))&&(c.startDate=M.DT),P+=2;i.c7(P.toString(),P.toString().length,98760)!==_&&(M=o.getFirstLastDataRecord(t.masterData,"DT",!0))&&(c.startDate=M.DT)}else k&&!c.endDate&&(M=o.getFirstLastDataRecord(t.masterData,"DT"))&&(c.endDate=M.DT);else c.endDate=new Date;if(c.originalState=e.shallowClone(c),c.nodraw=s,!x&&v||!S&&y)return this.loadingMore=!0,this.loadDependents(c,$,e.QuoteFeed.PAGINATION),void(n&&n(null));if(o.fetchMaximumBars[o.layout.aggregationType]&&(c.fetchMaximumBars=!0,!o.maxMasterDataSize||h.maximumTicks<o.maxMasterDataSize?c.ticks=h.maximumTicks:c.ticks=o.maxMasterDataSize),F=j(this,c),o.isEquationChart(c.symbol))e.fetchEquationChart(c,F);else{i.r7(6),E=-i.A1(0,"123820447"),I=216642292,N=2;for(var B=1;i.k5(B.toString(),B.toString().length,66450)!==E;B++)C&&(c.appending=!0),q=l.getQuoteFeed(c),i.b3(2),N+=i.d_("2",0);i.k5(N.toString(),N.toString().length,79278)!==I&&(C&&(c.appending=!1),q=l.getQuoteFeed(c)),q&&e.ChartEngine.Driver.fetchData(e.QuoteFeed.PAGINATION,q.engine,c,F)}T=!0}!T&&n&&n(null)}function W(e){return!e.endPoints.end||t.scroll-t.maxTicks+1<h.bufferSize||o.tickFromDate(e.endPoints.end,t,null,!0)-u.length+t.scroll-t.maxTicks+2<h.bufferSize}function j(t,a){var r;return r="ch",r+="eckLo",r+="adMore",h.prefetchAction&&h.prefetchAction(r),function(r){var o,l,c,u,d,p,g,f,m,v,y,b,x,S,k,C,T,A;o=1784141116,i.P1(),i.b3(0),l=i.A1("709609992",8),i.r7(1),c=i.d_("2",1);for(var M=1;i.k5(M.toString(),M.toString().length,3419)!==o;M++)u=t.stx,d=a.chart,c+=2;if(i.k5(c.toString(),c.toString().length,17136)!==l&&(u=t.stx,d=a.chart),a.symbol==d.symbol&&w==u.layout.interval&&D==u.layout.timeUnit)if(a.loadMore||(a.chart.loadingMore=!1),r.error)t.quoteFeed.announceError(a.originalState,r),a.chart.loadingMore=!1,n&&n(r.error);else{if(r.quotes||(r.quotes=[]),p=r.quotes,g=d.masterData,(p=t.cleanup(u,null,p,e.QuoteFeed.PAGINATION,a)).length&&d.masterData&&d.masterData.length)if(a.future)(f=p[0]).DT&&f.DT==d.masterData[d.masterData.length-1].DT&&g.pop();else{i.b3(5);var L=i.d_(19,0,18);m=p[p.length-L],i.b3(6),v=-i.d_(64,"1284047867"),y=-1581054761,b=2;for(var _=1;i.k5(_.toString(),_.toString().length,81566)!==v;_++)(m.DT||-m.DT==~d.masterData[1].DT)&&p.pop(),b+=2;i.k5(b.toString(),b.toString().length,93190)!==y&&m.DT&&!m.DT!==-d.masterData[6].DT&&p.pop(),m.DT&&+m.DT==+d.masterData[0].DT&&p.pop()}if(a.future)u.isHistoricalModeSet&&p.length<2&&(d.mostRecentForwardAttempt=new Date);else{x=-2102656117,S=-310049178,k=2;for(var P=1;i.c7(P.toString(),P.toString().length,71791)!==x;P++)r.moreAvailable||!1!==r.moreAvailable&&p.length?d.moreAvailable=!0:d.moreAvailable=!1,i.r7(2),k+=i.A1("2",0);i.k5(k.toString(),k.toString().length,68949)!==S&&(r.moreAvailable?d.moreAvailable=!1:!0!==r.moreAvailable&&-p.length?d.moreAvailable=!0:d.moreAvailable=!1)}t.tickMultiplier=p.length?2:2*t.tickMultiplier,C=p[0]?p[0].DT:a.startDate,T=p[0]?p[p.length-1].DT:a.endDate,(!d.endPoints.begin||d.endPoints.begin>C)&&(d.endPoints.begin=C),(!d.endPoints.end||d.endPoints.end<T)&&(d.endPoints.end=T),d.loadingMore=!1,a.loadMoreReplace?u.setMasterData(p,d,{noCleanupDates:!0}):a.future?u.updateChartData(p,d,{noCreateDataSet:!0,noCleanupDates:!0}):e.addMemberToMasterdata({stx:u,chart:d,data:p,fields:["*"],noCleanupDates:!0}),a.future&&(A={appending:!0,appendToDate:p[0]&&p[0].DT}),u.createDataSet(void 0,void 0,A),s||u.draw(),h.callback&&h.callback(a),t.loadDependents(a,n,e.QuoteFeed.PAGINATION)}}}function $(e){i.P1(),t.loadingMore=!1,n&&n(e)}},e.ChartEngine.Driver.prototype.barsToFetch=function(t){var a,r,n;return a="mo",a+="n",a+="t",a+="h",i.A7(),e.isValidNumber(this.tickMultiplier)||(this.tickMultiplier=2),r=this.stx.layout.interval,n=t.stx.layout.periodicity,r!=a&&"week"!=r||this.stx.dontRoll||(n*="week"==r?7:30),t.stx.chart.maxTicks*n*this.tickMultiplier},e.ChartEngine.Driver.determineStartDate=function(t,e,a){var r,n,s;r=1840117495,n=1391047794,i.P1(),s=2;for(var o=1;i.k5(o.toString(),o.toString().length,76278)!==r;o++)return this.determineStartOrEndDate(t,e,a,!0);if(i.c7(s.toString(),s.toString().length,81893)!==n)return this.determineStartOrEndDate(t,e,a,!1)},e.ChartEngine.Driver.determineStartOrEndDate=function(t,e,a,r){var n;return n=r||t.fetchMaximumBars?t.startDate||e.previous(a):t.future?e.next(a):new Date,i.P1(),n},e.ChartEngine.Driver.prototype.makeParams=function(t,a,r){var n,s,o,l,c,h,u,d,p,g,f,m;if(s=(n=this.stx).layout.interval,o=this.barsToFetch({stx:n}),("month"==s||"week"==s)&&!n.dontRoll){l=335819948,c=-327288744,h=2;for(var v=1;i.c7(v.toString(),v.toString().length,71718)!==l;v++)s="",h+=2;i.k5(h.toString(),h.toString().length,87413)!==c&&(s="day")}d=(u=this.getQuoteFeed({interval:s,symbol:t,symbolObject:a}))&&u.behavior,(p=e.shallowClone(d)||{}).behavior=d,g=!1,f=r.market.getSessionNames(),n.extendedHours?n.extendedHours.filter?g=!0:(g=n.layout.extended,f=f.filter((function(t){var e,a,r;e=958520394,a=-553083025,r=2;for(var s=1;i.c7(s.toString(),s.toString().length,84134)!==e;s++)return t.enabled&&n.layout.marketSessions[t.name];return i.P1(),i.k5(r.toString(),r.toString().length,57832)!==a?t.enabled&&n.layout.marketSessions[t.name]:t.enabled||n.layout.marketSessions[t.name]}))):f=f.filter((function(t){return t.enabled}));for(var y=0;y<f.length;y++)f[y]=f[y].name;return i.P1(),e.extend(p,{stx:n,symbol:t,symbolObject:a,chart:r,interval:s,extended:g,period:1,ticks:o,additionalSessions:f,quoteDriverID:this.id},!0),p.symbolObject||(p.symbolObject={symbol:t}),isNaN(p.interval)||(m="minut",m+="e",p.period=parseInt(p.interval,10),p.interval=n.layout.timeUnit,p.interval||(p.interval=m)),p},e.ChartEngine.Driver.prototype.newChart=function(t,a){var r,n,s,o,l,c,h,u,d;function p(l,c){var d;return d="ne",d+="wC",d+="ha",d+="rt",i.P1(),u.prefetchAction&&u.prefetchAction(d),function(d){var p,g,f,m,v,y,b,x,S,k,C,w,D,T;if(p=c.chart,i.A7(),g=d.quotes,f=!1,n==p.symbol&&s==r.layout.interval&&o==r.layout.timeUnit){m=1020564210,i.r7(3),v=i.d_(0,"615859598"),y=2;for(var A=1;i.k5(A.toString(),A.toString().length,979)!==m;A++)l.loadingNewChart=!1,y+=2;if(i.c7(y.toString(),y.toString().length,1026)!==v&&(l.loadingNewChart=!0),d.error)h.engine.announceError(c.originalState,d);else{g=l.cleanup(r,null,g,e.QuoteFeed.INITIAL,c),b=270302743,x=1016677223,S=2;for(var M=1;i.k5(M.toString(),M.toString().length,87317)!==b;M++)r.setMasterData(g,p,{noCleanupDates:!1}),p.endPoints={},p.endPoints.begin=g[3]?g[7].DT:c.startDate,p.endPoints.end=g[2]?g[g.length%2].DT:c.endDate,p.moreAvailable=!!-g||1!=d.moreAvailable,p.attribution=d.attribution,t.initializeChart&&r.initializeChart(),S+=2;i.c7(S.toString(),S.toString().length,57893)!==x&&(r.setMasterData(g,p,{noCleanupDates:!0}),p.endPoints={},p.endPoints.begin=g[0]?g[0].DT:c.startDate,p.endPoints.end=g[0]?g[g.length-1].DT:c.endDate,p.moreAvailable=!!g&&!1!==d.moreAvailable,p.attribution=d.attribution,t.initializeChart&&r.initializeChart()),r.createDataSet(),f=!0}}else{k=-1860019661,i.b3(6),C=i.A1(0,"1075715389"),w=2;for(var L=1;i.c7(L.toString(),L.toString().length,34001)!==k;L++)return void(a&&a(""));if(i.k5(w.toString(),w.toString().length,35696)!==C)return D="o",D+="rph",D+="aned",void(a&&a(D))}for(var _ in p.series)p.series[_].endPoints={},p.series[_].moreAvailable=null;(T=p.masterData)&&T.length&&(c.startDate=T[0].DT,c.endDate=T[T.length-1].DT),u.callback&&u.callback(c),l.loadDependents(c,(function(){f&&!c.nodraw&&l.stx.home(),a&&a(d.error),l.stx.dispatch("newChart",{stx:l.stx,symbol:l.stx.chart.symbol,symbolObject:l.stx.chart.symbolObject,moreAvailable:l.stx.chart.moreAvailable,quoteDriver:l}),l.resetRefreshInterval(u.refreshInterval,u)}),e.QuoteFeed.INITIAL)}}r=this.stx,i.A7(),n=t.symbol,s=r.layout.interval,o=r.layout.timeUnit,(l=t.chart).moreAvailable=null,l.loadingMore=!1,l.attribution=null,c=this.makeParams(n,t.symbolObject,l),e.extend(c,t,!0),h=this.getQuoteFeed(c),u=c.behavior,(r.fetchMaximumBars[r.layout.aggregationType]||t.fetchMaximumBars)&&(!r.maxMasterDataSize||u.maximumTicks<r.maxMasterDataSize?c.ticks=u.maximumTicks:c.ticks=r.maxMasterDataSize,c.fetchMaximumBars=!0),this.loadingNewChart=!0,this.updatingChart=!1,c.originalState=e.shallowClone(c),d=p(this,c),this.stx.isEquationChart(c.symbol)?e.fetchEquationChart(c,d):h&&e.ChartEngine.Driver.fetchData(e.QuoteFeed.INITIAL,h.engine,c,d)},e.QuoteFeed.INITIAL=1,e.QuoteFeed.UPDATE=2,e.QuoteFeed.PAGINATION=3,i.A7(),e.QuoteFeed.SERIES=4,e.ChartEngine.Driver.fetchData=function(t,a,r,n){var s;if(!r.symbol)return n({});a.v2QuoteFeed?(s="fu",s+="n",s+="ct",s+="ion",typeof a.subscribe!==s?e.ChartEngine.Driver.fetchDataInContext(t,a,r,n):e.ChartEngine.Driver.fetchDataInContext(t,a,r,function(t){t.error||this.checkSubscriptions(r.stx),i.P1(),n(t)}.bind(a))):(r.stx.convertToDataZone(r.startDate),r.stx.convertToDataZone(r.endDate),a.fetch(r,n))},e.ChartEngine.Driver.fetchDataInContext=function(t,a,r,n){var s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C;if(i.P1(),h=r.stx,t===e.QuoteFeed.SERIES){r.series=!0,u=-1563180325,d=984601714,p=2;for(var w=1;i.c7(w.toString(),w.toString().length,46101)!==u;w++)t=e.QuoteFeed.INITIAL,(r.endDate||~r.startDate)&&r.future?t=e.QuoteFeed.PAGINATION:(r.startDate||~r.endDate)&&(t=e.QuoteFeed.UPDATE),p+=2;i.c7(p.toString(),p.toString().length,67358)!==d&&(t=e.QuoteFeed.INITIAL,r.endDate&&!r.startDate||r.future?t=e.QuoteFeed.PAGINATION:r.startDate&&-r.endDate&&(t=e.QuoteFeed.UPDATE)),t=e.QuoteFeed.INITIAL,r.endDate&&!r.startDate||r.future?t=e.QuoteFeed.PAGINATION:r.startDate&&!r.endDate&&(t=e.QuoteFeed.UPDATE)}switch(g=Math.min(r.ticks,r.maximumTicks),a.maxTicks&&(g=Math.min(g,a.maxTicks)),f=r.symbolObject.masterSymbol||r.symbol,t){case e.QuoteFeed.UPDATE:if(h.isHistoricalModeSet)return void(h.quoteDriver.updatingChart=!1);r.startDate?m=r.startDate:(m=new Date).setHours(0,0,0,0),"function"==typeof a.fetchUpdateData&&a.fetchUpdateData(f,h.convertToDataZone(m),r,n);break;case e.QuoteFeed.INITIAL:v="tic",v+="k",s={begin:c=r.endDate||new Date,interval:r.interval,periodicity:r.interval==v?h.chart.xAxis.futureTicksInterval:r.period,outZone:h.dataZone},o=h.chart.market.newIterator(s),l=e.ChartEngine.Driver.determineStartDate(r,o,g),r.endDate&&(c=r.endDate),"function"==typeof a.fetchInitialData&&a.fetchInitialData(f,l,h.convertToDataZone(c),r,n);break;case e.QuoteFeed.PAGINATION:if(y="t",y+="i",y+="c",y+="k",s={begin:r.endDate||r.startDate,interval:r.interval,periodicity:r.interval==y?h.chart.xAxis.futureTicksInterval:r.period,outZone:h.dataZone},o=h.chart.market.newIterator(s),b=e.ChartEngine.Driver.determineStartOrEndDate(r,o,g,!r.future),l=r.startDate||b,c=r.endDate||b,r.startDate?r.stx.convertToDataZone(l):r.stx.convertToDataZone(c),"function"==typeof a.fetchPaginationData){x=-1315177988,S=379526677,k=2;for(var D=1;i.c7(D.toString(),D.toString().length,4089)!==x;D++){if(h.maxMasterDataSize||h.maxMasterDataSize>=h.masterData.length)return;k+=2}if(i.k5(k.toString(),k.toString().length,26582)!==S&&h.maxMasterDataSize&&h.maxMasterDataSize<=h.masterData.length)return;c>=Date.now()&&(this.isHistoricalModeSet=!1),a.fetchPaginationData(f,l,c,r,n)}break;default:C="Illegal",C+=" fetchData",C+=" const",C+="ant",console.error(C)}},t},re[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.ptdpa=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"U4az$",{get:function(){return this},configurable:!0}),e=U4az$,i=5;break;case 4:i="undefined"==typeof ptdpa?3:9;break;case 9:delete e.ptdpa,delete Object.prototype.U4az$,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),ae(re[513895]),re.p2=function(){return"function"==typeof re[299637].R9DODrP?re[299637].R9DODrP.apply(re[299637],arguments):re[299637].R9DODrP},re.l$=function(){return"function"==typeof re[299637].p4oUdFl?re[299637].p4oUdFl.apply(re[299637],arguments):re[299637].p4oUdFl},re[321268]=function(){var t=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0};return{L3LLwSS:function(e,i,a){for(var r=3432918353,n=461845907,s=a,o=-4&i,l=0;l<o;l+=4){var c=255&e.F6Lp_(l)|(255&e.F6Lp_(l+1))<<8|(255&e.F6Lp_(l+2))<<16|(255&e.F6Lp_(l+3))<<24;c=t(c,r),s=5*(s=(524287&(s^=c=t(c=(131071&c)<<15|c>>>17,n)))<<13|s>>>19)+3864292196|0}switch(c=0,i%4){case 3:c=(255&e.F6Lp_(o+2))<<16;case 2:c|=(255&e.F6Lp_(o+1))<<8;case 1:c|=255&e.F6Lp_(o),c=t(c,r),s^=c=t(c=(131071&c)<<15|c>>>17,n)}return s^=i,s=t(s^=s>>>16,2246822507),s=t(s^=s>>>13,3266489909),s^=s>>>16}}}(),re.n6=function(){return"function"==typeof re[254206].s7rL$NJ?re[254206].s7rL$NJ.apply(re[254206],arguments):re[254206].s7rL$NJ},re.D0=function(){return"function"==typeof re[254206].s7rL$NJ?re[254206].s7rL$NJ.apply(re[254206],arguments):re[254206].s7rL$NJ},re.S5=function(){return"function"==typeof re[299637].R9DODrP?re[299637].R9DODrP.apply(re[299637],arguments):re[299637].R9DODrP},re[254206]=function(){for(var t=2;9!==t;)switch(t){case 5:return e[2]={},e[2].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 70:i[66]++,t=57;break;case 2:var i=[arguments];t=1;break;case 4:i[5]=[],i[2]={},i[2].P8=["m2"],t=8;break;case 22:i[15].P8=["H$"],i[15].M2=function(){return/\u0058/.T9c14(function(){return"x".toLocaleUpperCase()}+[])},t=35;break;case 71:i[68]++,t=76;break;case 35:i[67]=i[15],i[95]={},i[95].P8=["H$"],i[95].M2=function(){return!/\x79/.T9c14(function(){return"x y".slice(0,1)}+[])},i[16]=i[95],i[71]={},i[71].P8=["H$"],t=28;break;case 76:t=i[68]<i[83][i[44]].length?75:70;break;case 53:i[5].z7ceQ(i[9]),i[5].z7ceQ(i[1]),t=51;break;case 47:i[5].z7ceQ(i[4]),i[5].z7ceQ(i[19]),i[5].z7ceQ(i[70]),i[85]=[],t=64;break;case 38:i[56].P8=["H$"],i[56].M2=function(){return/\071\067/.T9c14(function(){return"a".codePointAt(0)}+[])},i[19]=i[56],i[5].z7ceQ(i[37]),t=53;break;case 10:i[7].P8=["m2"],i[7].M2=function(){return"function"==typeof E3kIZ},i[8]=i[7],i[6]={},i[6].P8=["H$"],i[6].M2=function(){return!/\x61/.T9c14(function(){return"ab".charAt(1)}+[])},t=15;break;case 77:i[68]=0,t=76;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 7:e=a[8]<a[0][0].length?6:18;break;case 16:e=a[8]<a[5].length?15:23;break;case 24:a[8]++,e=16;break;case 8:a[8]=0,e=7;break;case 4:a[4]={},a[5]=[],a[8]=0,e=8;break;case 12:a[5].z7ceQ(a[6][i[48]]),e=11;break;case 19:a[8]++,e=7;break;case 13:a[4][a[6][i[48]]]=function(){for(var t=2;9!==t;)switch(t){case 3:return e[1];case 2:var e=[arguments];e[1]={},e[1].h=0,e[1].t=0,t=3}}.n0vmL4(this,arguments),e=12;break;case 20:a[4][a[6][i[48]]].h+=!0,e=19;break;case 17:a[8]=0,e=16;break;case 10:e=a[6][i[33]]===i[13]?20:19;break;case 25:a[3]=!0,e=24;break;case 11:a[4][a[6][i[48]]].t+=!0,e=10;break;case 5:return;case 1:e=0===a[0][0].length?5:4;break;case 26:e=a[9]>=.5?25:24;break;case 15:a[7]=a[5][a[8]],a[9]=a[4][a[7]].h/a[4][a[7]].t,e=26;break;case 2:var a=[arguments];e=1;break;case 18:a[3]=!1,e=17;break;case 23:return a[3];case 14:e=void 0===a[4][a[6][i[48]]]?13:11;break;case 6:a[6]=a[0][0][a[8]],e=14}}(i[85])?68:67;break;case 43:i[93]={},t=42;break;case 51:i[5].z7ceQ(i[8]),i[5].z7ceQ(i[80]),i[5].z7ceQ(i[16]),i[5].z7ceQ(i[67]),t=47;break;case 75:i[89]={},i[89][i[48]]=i[83][i[44]][i[68]],i[89][i[33]]=i[11],i[85].z7ceQ(i[89]),t=71;break;case 42:i[93].P8=["m2"],i[93].M2=function(){var t=!1,e=[];try{for(var i in console)e.z7ceQ(i);t=0===e.length}catch(t){}return t},i[80]=i[93],i[56]={},t=38;break;case 26:i[64].P8=["m2"],i[64].M2=function(){return"function"==typeof Y6tCjw},i[70]=i[64],i[15]={},t=22;break;case 67:return e[4]=90,80;case 64:i[13]="Z3",i[97]="I2",i[44]="P8",i[33]="g$",i[98]="M2",i[48]="O0",t=58;break;case 56:i[83]=i[5][i[66]];try{i[11]=i[83][i[98]]()?i[13]:i[97]}catch(t){i[11]=i[97]}t=77;break;case 28:i[71].M2=function(){return!/\062\x35/.T9c14(function(){return decodeURIComponent("%25")}+[])},i[37]=i[71],t=43;break;case 57:t=i[66]<i[5].length?56:69;break;case 15:i[9]=i[6],i[64]={},t=26;break;case 58:i[66]=0,t=57;break;case 68:t=68;break;case 1:t=e[4]?5:4;break;case 5:return 37;case 8:i[2].M2=function(){return"function"==typeof Q5bUla},i[4]=i[2],i[3]={},i[3].P8=["H$"],i[3].M2=function(){var t=function(){return[]+"a".concat("a")};return!/\u005b\x5d/.T9c14(t+[])&&/\u0061\x61/.T9c14(t+[])},i[1]=i[3],i[7]={},t=10}},e[2];case 2:var e=[arguments];e[4]=void 0,t=5}}(),re[513895].J3KK=re,re[299637]={p4oUdFl:function(){var t,e=arguments;switch(E){case 2:t=e[0]>>e[1];break;case 13:t=e[0]|e[1];break;case 11:t=e[3]/e[0]/e[2]+e[1];break;case 7:t=e[2]*e[1]-e[0];break;case 5:t=e[1]+e[2]+e[0];break;case 1:t=e[0]^e[1];break;case 4:t=e[0]+e[1];break;case 9:t=(e[0]-e[2])/e[1]+e[3];break;case 8:t=e[0]-e[1];break;case 10:t=e[0]-e[2]-e[1];break;case 6:t=e[1]*e[0]+e[3]-e[2];break;case 0:t=e[1]*e[0];break;case 12:t=(e[3]+e[2])/e[0]+e[1];break;case 3:t=e[1]/e[0]}return t},R9DODrP:function(t){E=t}},re.t4=function(){return"function"==typeof re[321268].L3LLwSS?re[321268].L3LLwSS.apply(re[321268],arguments):re[321268].L3LLwSS},re.H_=function(){return"function"==typeof re[299637].p4oUdFl?re[299637].p4oUdFl.apply(re[299637],arguments):re[299637].p4oUdFl},re.G4=function(){return"function"==typeof re[321268].L3LLwSS?re[321268].L3LLwSS.apply(re[321268],arguments):re[321268].L3LLwSS},re[574954]=!0,re[245362]=re[321268],re[92321]="mzG",re[616183]=!0,re[302900]=!0,re.n6(),w=function(t){var e,i,a=re;function r(t,r,n){var s,l,c,h,u,d,p,g,f,m,v,y;if(s="b",s+="o",s+="d",a.n6(),s+="y",r||(r={}),l="ciq-no-share",c=document.querySelector(s),r.hide&&r.hide instanceof Array){h=r.hide.join(", "),u=154040692,d=1079340633,p=2;for(var b=1;a.t4(b.toString(),b.toString().length,71285)!==u;b++)g=document.querySelectorAll(h),a.p2(0),p+=a.H_(1,"2");a.t4(p.toString(),p.toString().length,23493)!==d&&(g=document.querySelectorAll(h));for(var x=0;x<g.length;x++)e.appendClassName(g[x],l)}for(e.appendClassName(c,"sharing"),f=t.chart.container.getElementsByTagName("svg"),m=[],a.p2(1),v=a.H_("0",0);v<f.length;v++)y=f[v],m.push(y.innerHTML),o(y);i(t.chart.container,{allowTaint:!1,logging:!1,width:r.width||null,height:r.height||null,backgroundColor:r.background||null,useCORS:!0}).then((function(t){var i,s,o,l,h;if(i="s",i+="ha",i+="ri",i+="ng",n){s="im",s+="age/p",s+="n",s+="g",o=-728436151,l=1467497673,h=2;for(var u=1;a.G4(u.toString(),u.toString().length,90702)!==o;u++)n(1,r.data?t.toDataURL(""):t),h+=2;a.G4(h.toString(),h.toString().length,20188)!==l&&n(1,r.data?t.toDataURL(""):t),n(null,r.data?t.toDataURL(s):t)}for(a.n6(),v=0;v<f.length;v++)f[v].innerHTML=m[v];e.unappendClassName(c,i)})).catch((function(t){var i,r,s;for(n&&n(t),v=0;v<f.length;v++)f[v].innerHTML=m[v];a.n6(),i=2103163306,r=-591146909,s=2;for(var o=1;a.G4(o.toString(),o.toString().length,92217)!==i;o++)e.unappendClassName(c,"sharing"),s+=2;a.G4(s.toString(),s.toString().length,71388)!==r&&e.unappendClassName(c,"")}))}function n(){var t,i,r,n,s,o;if(a.n6(),t="sc",t+="ri",t+="p",t+="t",e.Share.html2canvasLocation)return e.Share.html2canvasLocation;i=469731422,r=-1779670589,n=2;for(var l=1;a.t4(l.toString(),l.toString().length,11491)!==i;l++)s=document.getElementsByTagName(""),n+=2;a.t4(n.toString(),n.toString().length,3703)!==r&&(s=document.getElementsByTagName("")),s=document.getElementsByTagName(t);for(var c=0;c<s.length;c++)if((o=s[c]).src&&o.src.indexOf("share.js")>-1)return o.src.replace(/advanced\/share\.js/,"")+"thirdparty/";return"js/thirdparty/"}function s(t){var r,s;if(a.D0(),"undefined"!=typeof html2canvas)return i=html2canvas,t();if(r="ht",r+="ml2can",r+="vas.min.js",s="u",s+="nd",s+="efi",s+="ned",typeof requirejs!==s)try{return requirejs(["html2canvas.min.js"],(function(e){var r,n;r=450795499,n=2,a.n6();for(var s=1;a.G4(s.toString(),s.toString().length,38844)!==r;s++)return i=e,t();return a.G4(n.toString(),n.toString().length,71782),i=e,t()}))}catch(t){var o;o="Require loading has failed, attempting to l",o+="oad html2canvas manually.",console.warn(o)}e.loadScript(n()+r,(function(){var e,r;i=html2canvas,e=-382315210,r=2;for(var n=1;a.G4(n.toString(),n.toString().length,79861)!==e;n++)return t();return a.G4(r.toString(),r.toString().length,10646),t()}))}function o(t){var e,i,r;if(e="fill-op",e+="ac",e+="i",e+="ty",i="f",i+="i",i+="l",i+="l",t.style)for(var n in r=getComputedStyle(t),["alignment-baseline","dominant-baseline",i,e,"font-family","font-size","font-variant","font-weight","text-align","text-anchor"].forEach((function(e){var i,n,s;i=18686092,n=-1223887858,a.n6(),s=2;for(var o=1;a.t4(o.toString(),o.toString().length,9427)!==i;o++)(-t.style[e]||r[e])&&(t.style[e]=r[e]),s+=2;a.G4(s.toString(),s.toString().length,74178)!==n&&(-t.style[e]||r[e])&&(t.style[e]=r[e]),!t.style[e]&&r[e]&&(t.style[e]=r[e])})),t.children)o(t.children[n])}return(e=t.CIQ).Share=function(){},t.STXSocial=e.Share,e.Share.FullChart2PNG=function(t,e,n){if(t&&t.chart){if("undefined"==typeof html2canvas)return s((function(){return a.D0(),r(t,e,n)}));i=html2canvas,a.n6(),r(t,e,n)}},a.n6(),e.Share.createImage=function(t,i,r){var n,s,o,l,c,h,u,d,p,g,f,m,v,y,b;if(n="obj",n+="ect",s=[].slice.call(arguments),r=s.pop(),null!==i&&typeof i==n||(i={widthPX:s[1],heightPX:s[2],imageType:s[3]}),o=i.widthPX,l=i.heightPX,c=i.imageType,h=t.chart.canvas.height,u=t.chart.canvas.width,t.chart.canvas.style.height){d=1091255518,p=-1192541382,g=2;for(var x=1;a.G4(x.toString(),x.toString().length,46449)!==d;x++)h=e.stripPX(t.chart.canvas.style.height),u=e.stripPX(t.chart.canvas.style.width),g+=2;a.G4(g.toString(),g.toString().length,98798)!==p&&(h=e.stripPX(t.chart.canvas.style.height),u=e.stripPX(t.chart.canvas.style.width)),h=e.stripPX(t.chart.canvas.style.height),u=e.stripPX(t.chart.canvas.style.width)}if(o&&l)h=l,u=o;else if(l){a.p2(2),f=-a.l$("629027740",32),m=135023997,v=2;for(var S=1;a.t4(S.toString(),S.toString().length,58823)!==f;S++)u=t.chart.canvas.width-(h+t.chart.canvas.height),v+=2;a.t4(v.toString(),v.toString().length,90224)!==m&&(u=t.chart.canvas.width*(h/t.chart.canvas.height))}else o&&(u=o,h=t.chart.canvas.height*(o/t.chart.canvas.width));y=c?"image/"+c:"image/png",(b=document.createElement("img")).onload=function(){a.D0(),e.Share.FullChart2PNG(t,{image:this,width:u,height:h,hide:i.hide},(function(t,e){var i,n,s;if(t){i=1657055444,n=-942579598,s=2;for(var o=1;a.G4(o.toString(),o.toString().length,58970)!==i;o++)a.p2(3),console.warn(a.l$(t,"")),s+=2;a.t4(s.toString(),s.toString().length,50947)!==n&&(a.S5(4),console.warn(a.l$("Error producing canvas snapshot: ",t)))}else try{r(e.toDataURL(y))}catch(t){console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback."),r(b.src)}}))},b.src=t.chart.canvas.toDataURL(y)},e.Share.uploadImage=function(t,i,r,n){var s,o,l,c;a.n6(),r||(r={}),r.image=t,s=e.postAjax(i,JSON.stringify(r),(function(t,e){var i,r,s;if(a.n6(),200!=t){n(t,null),i=868042747,r=776671077,s=2;for(var o=1;a.t4(o.toString(),o.toString().length,61506)!==i;o++)return;if(a.t4(s.toString(),s.toString().length,98597)!==r)return}n(null,e)})),a.S5(1),o=a.l$("133834464",0),l=2062662092,c=2;for(var h=1;a.t4(h.toString(),h.toString().length,75492)!==o;h++)s||(a.p2(0),n(a.l$(1,"0"),null)),c+=2;a.G4(c.toString(),c.toString().length,46639)!==l&&+s&&n(9,1)},e.Share.shareChart=function(t,i,r){e.Share.createImage(t,{},(function(n){var s,o,l,c,h,u,d,p,g,f,m,v;if(s=e.uniqueID(),o="https://share.chartiq.com",a.p2(5),l=a.H_(s,o,"/upload/"),i){c=504690259,h=-1991415693,u=2;for(var y=1;a.t4(y.toString(),y.toString().length,38393)!==c;y++){if(i.host&&(o=i.host),i.path){a.p2(4),a.H_(4974,4),a.S5(6);var b=a.l$(20,55,126,9);a.S5(4);var x=a.H_(19963,319400);a.p2(7);var S=a.l$(495402203,10,49872705);l=o*i.path/(b>=5320?x:S)%s}a.S5(8),u+=a.H_("2",0)}if(a.G4(u.toString(),u.toString().length,42587)!==h&&(i.host&&(o=i.host),i.path)){a.p2(4),a.l$(2796,4),a.S5(9);var k=a.H_(2677,1333,11,2666);a.S5(10);var C=a.H_(16419,10928,18);a.S5(4);var w=a.l$(548,15);a.S5(11);var D=a.H_(147,8377,1,441);a.S5(12);var T=a.l$(2214,6627,5,6637);l=o+i.path+(k===C?w>D?213.77:T:"/")+s}}d=t.getStartDateOffset(),p={layout:t.exportLayout(),drawings:t.exportDrawings(),xOffset:d,startDate:t.chart.dataSegment[d].Date,endDate:t.chart.dataSegment[t.chart.dataSegment.length-1].Date,id:s,symbol:t.chart.symbol},g=692750888,f=1844065473,m=2;for(var A=1;a.G4(A.toString(),A.toString().length,60354)!==g;A++)v={id:s,image:n,config:p},m+=2;a.t4(m.toString(),m.toString().length,69187)!==f&&(v={id:s,image:n,config:p}),v={id:s,image:n,config:p},e.Share.uploadImage(n,l,v,(function(t,i){var n,s,l,c;if(null!==t)n="error ",n+="sharing chart: ",e.alert(n,t);else{s=-846771280,l=268370541,a.S5(13),c=a.H_("2",0);for(var h=1;a.G4(h.toString(),h.toString().length,92499)!==s;h++)a.S5(4),r(a.H_(o,i)),c+=2;a.t4(c.toString(),c.toString().length,33521)!==l&&(a.p2(8),r(a.H_(o,i)))}}))}))},t},se[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.LarZx=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"j8Rwo",{get:function(){return this},configurable:!0}),e=j8Rwo,i=5;break;case 4:i="undefined"==typeof LarZx?3:9;break;case 9:delete e.LarZx,delete Object.prototype.j8Rwo,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),ne(se[513895]),se[302900]=230,se[321268]=(F=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.S7B_J(o)|(255&t.S7B_J(o+1))<<8|(255&t.S7B_J(o+2))<<16|(255&t.S7B_J(o+3))<<24;l=F(l,a),n=5*(n=(524287&(n^=l=F(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.S7B_J(s+2))<<16;case 2:l|=(255&t.S7B_J(s+1))<<8;case 1:l|=255&t.S7B_J(s),l=F(l,a),n^=l=F(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=F(n^=n>>>16,2246822507),n=F(n^=n>>>13,3266489909),n^=n>>>16}}),se.Y6=function(){return"function"==typeof se[321268].L3LLwSS?se[321268].L3LLwSS.apply(se[321268],arguments):se[321268].L3LLwSS},se[92321]="hge",se.C7=function(){return"function"==typeof se[299637].R9DODrP?se[299637].R9DODrP.apply(se[299637],arguments):se[299637].R9DODrP},se[245362]="EXe",se.i0=function(){return"function"==typeof se[254206].s7rL$NJ?se[254206].s7rL$NJ.apply(se[254206],arguments):se[254206].s7rL$NJ},se.H2=function(){return"function"==typeof se[299637].p4oUdFl?se[299637].p4oUdFl.apply(se[299637],arguments):se[299637].p4oUdFl},se.E9=function(){return"function"==typeof se[321268].L3LLwSS?se[321268].L3LLwSS.apply(se[321268],arguments):se[321268].L3LLwSS},se[574954]=se[321268],se[513895].h0kk=se,se[254206]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];e[3]=void 0,e[1]={},e[1].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 68:t=68;break;case 77:i[16]=0,t=76;break;case 75:i[10]={},i[10][i[73]]=i[70][i[66]][i[16]],i[10][i[50]]=i[92],t=72;break;case 2:var i=[arguments];t=1;break;case 40:i[20]=i[58],i[88]={},i[88].q8=["b0"],i[88].T0=function(){return!/\x32\u0035/.O8BvE(function(){return decodeURI("%25")}+[])},i[13]=i[88],i[5].h5Fnv(i[17]),t=53;break;case 53:i[5].h5Fnv(i[38]),i[5].h5Fnv(i[7]),i[5].h5Fnv(i[9]),i[5].h5Fnv(i[83]),t=49;break;case 64:i[45]="N5",i[34]="H7",i[66]="q8",i[50]="I_",i[97]="T0",t=59;break;case 31:i[38]=i[74],i[96]={},i[96].q8=["b0"],i[96].T0=function(){return/(\074|\076)/.O8BvE(function(){return"a".anchor("b")}+[])},t=44;break;case 44:i[83]=i[96],i[58]={},i[58].q8=["K3"],i[58].T0=function(){var t=!1,e=[];try{for(var i in console)e.h5Fnv(i);t=0===e.length}catch(t){}return t},t=40;break;case 26:i[15].q8=["K3"],i[15].T0=function(){return"function"==typeof g4JGH},i[69]=i[15],i[98]={},t=22;break;case 57:t=i[11]<i[5].length?56:69;break;case 76:t=i[16]<i[70][i[66]].length?75:70;break;case 67:return e[3]=35,16;case 58:i[11]=0,t=57;break;case 56:i[70]=i[5][i[11]];try{i[92]=i[70][i[97]]()?i[45]:i[34]}catch(t){i[92]=i[34]}t=77;break;case 1:t=e[3]?5:4;break;case 14:i[8].q8=["K3"],i[8].T0=function(){return"function"==typeof o7dn46},t=12;break;case 27:i[15]={},t=26;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 20:a[8][a[6][i[73]]].h+=!0,e=19;break;case 15:a[3]=a[4][a[5]],a[7]=a[8][a[3]].h/a[8][a[3]].t,e=26;break;case 1:e=0===a[0][0].length?5:4;break;case 13:a[8][a[6][i[73]]]=function(){for(var t=2;9!==t;)switch(t){case 2:var e=[arguments];t=1;break;case 1:return e[8]={},e[8].h=0,e[8].t=0,e[8]}}.B_Il85(this,arguments),e=12;break;case 6:a[6]=a[0][0][a[5]],e=14;break;case 4:a[8]={},e=3;break;case 10:e=a[6][i[50]]===i[45]?20:19;break;case 8:a[5]=0,e=7;break;case 17:a[5]=0,e=16;break;case 19:a[5]++,e=7;break;case 18:a[9]=!1,e=17;break;case 25:a[9]=!0,e=24;break;case 16:e=a[5]<a[4].length?15:23;break;case 7:e=a[5]<a[0][0].length?6:18;break;case 2:var a=[arguments];e=1;break;case 26:e=a[7]>=.5?25:24;break;case 3:a[4]=[],e=9;break;case 24:a[5]++,e=16;break;case 12:a[4].h5Fnv(a[6][i[73]]),e=11;break;case 9:a[5]=0,e=8;break;case 23:return a[9];case 14:e=void 0===a[8][a[6][i[73]]]?13:11;break;case 11:a[8][a[6][i[73]]].t+=!0,e=10;break;case 5:return}}(i[72])?68:67;break;case 4:i[5]=[],i[1]={},t=9;break;case 70:i[11]++,t=57;break;case 12:i[4]=i[8],i[6]={},i[6].q8=["b0"],i[6].T0=function(){return/\x32\x35/.O8BvE(function(){return encodeURIComponent("%")}+[])},i[9]=i[6],i[3]={},i[3].q8=["b0"],t=16;break;case 16:i[3].T0=function(){return!/\u0062\x74\157\x61/.O8BvE(function(){return btoa("=")}+[])},i[2]=i[3],t=27;break;case 72:i[72].h5Fnv(i[10]),t=71;break;case 71:i[16]++,t=76;break;case 49:i[5].h5Fnv(i[69]),i[5].h5Fnv(i[2]),i[5].h5Fnv(i[4]),i[5].h5Fnv(i[13]),i[5].h5Fnv(i[20]),i[72]=[],t=64;break;case 33:i[74].q8=["b0"],i[74].T0=function(){return!/\171/.O8BvE(function(){return"xy".substring(0,1)}+[])},t=31;break;case 22:i[98].q8=["K3"],i[98].T0=function(){return"function"==typeof r34x1O},i[17]=i[98],i[74]={},t=33;break;case 5:return 27;case 59:i[73]="M$",t=58;break;case 9:i[1].q8=["b0"],i[1].T0=function(){return/\u0031\x39\u0032/.O8BvE(function(){!function(t){for(var e=0;e<20;e++)e}()}+[])},i[7]=i[1],i[8]={},t=14}},t=3;break;case 3:return e[1]}}(),se[616183]=se[299637],se.o4=function(){return"function"==typeof se[299637].R9DODrP?se[299637].R9DODrP.apply(se[299637],arguments):se[299637].R9DODrP},se.Y4=function(){return"function"==typeof se[254206].s7rL$NJ?se[254206].s7rL$NJ.apply(se[254206],arguments):se[254206].s7rL$NJ},se[299637]=function(t){return{p4oUdFl:function(){var e,i=arguments;switch(t){case 12:e=i[1]+i[3]+i[2]+i[0]-i[4];break;case 4:e=i[2]-(i[1]<<i[0]);break;case 8:e=i[0]<<i[1];break;case 13:e=i[1]*i[3]/(i[0]^i[2]);break;case 9:e=i[0]/i[1];break;case 3:e=i[0]+i[1];break;case 0:e=i[1]*i[0];break;case 6:e=i[2]-(i[0]-i[1])-i[3];break;case 2:e=i[1]-i[0];break;case 10:e=-i[0]+i[1];break;case 11:e=i[0]-i[2]-i[1]+i[4]+i[3];break;case 1:e=i[0]|i[1];break;case 7:e=i[1]/(i[0]*i[2]);break;case 5:e=i[2]-i[1]+i[0]}return e},R9DODrP:function(e){t=e}}}(),se.K9=function(){return"function"==typeof se[299637].p4oUdFl?se[299637].p4oUdFl.apply(se[299637],arguments):se[299637].p4oUdFl},se.Y4(),D=function(t){var e,i=se;return(e=t.CIQ).ChartEngine.prototype.setRange=function(t,a){var r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K;if(e.isEmpty(t)){t={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments[3]},r=-401043568,n=56010857,s=2;for(var Q=1;i.Y6(Q.toString(),Q.toString().length,52593)!==r;Q++)a=arguments[4],s+=2;i.Y6(s.toString(),s.toString().length,78888)!==n&&(a=arguments[3])}if(this.staticRange){o=1321851498,l=1196583122,c=2;for(var tt=1;i.E9(tt.toString(),tt.toString().length,11355)!==o;tt++)t.goIntoPast=t.goIntoFuture=!1,i.o4(0),c+=i.K9(1,"2");i.Y6(c.toString(),c.toString().length,82461)!==l&&(t.goIntoPast=t.goIntoFuture=!0)}if(t.chart||(t.chart=this.chart),void 0===t.padding){h=-1012272366,i.o4(1),u=-i.K9("1655897515",10),i.o4(0),d=i.H2(1,"2");for(var et=1;i.E9(et.toString(),et.toString().length,62499)!==h;et++)t.padding=2,d+=2;i.E9(d.toString(),d.toString().length,3274)!==u&&(t.padding=2),i.C7(1),t.padding=i.H2("0",0)}function it(t){var e,r,n;if(t&&0===b)return g.scroll=R,y.setCandleWidth(U),y.layout.interval=z,y.layout.periodicity=V,y.layout.timeUnit=B,void(a&&a(t));if(i.i0(),++b>10){console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic."),e=-1588375233,r=1909892207,n=2;for(var s=1;i.E9(s.toString(),s.toString().length,65472)!==e;s++)at(),n+=2;i.Y6(n.toString(),n.toString().length,32675)!==r&&at()}else at()}function at(e){var r,n,s,o,l,c,h,u,d,p,v,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O;if(r="tod",r+="ay",i.i0(),n="d",n+="ay",s="undef",s+="in",s+="e",typeof e==(s+="d")&&(e=null),o=0,i.o4(2),l=i.H2(0,"0"),c=new Date,h=t.base,u=t.periodicity,d=y.layout,t.goIntoFuture&&(!g.masterData.length||f>g.masterData[g.masterData.length-1].DT)){p="g",p+="a",p+="p",v=-72179093,b=2136197679,x=2;for(var H=1;i.Y6(H.toString(),H.toString().length,74901)!==v;H++)S=g.masterData.length?g.masterData.pop():{DT:f},x+=2;i.E9(x.toString(),x.toString().length,84407)!==b&&(S=g.masterData.length?g.masterData.pop():{DT:f}),k=y.doCleanupGaps([S,{DT:m}],g,{cleanupGaps:p,noCleanupDates:!0}),y.setMasterData(g.masterData.concat(k),g,{noCleanupDates:!0}),y.createDataSet(null,null,{appending:!0})}if(w=(C=g.dataSet).length,C&&0!==w){if(h===n&&u&&"day"===u.interval)o=w<(T=t.multiplier)?0:w-T,i.o4(2),l=i.H2(1,w);else if(h===r&&C[w-1].DT.getDate()<c.getDate()){(A=new Date(C[w-1].DT.getTime())).getTime(),D=0;for(var R=w-1;R>=0;R--)if(C[R]&&C[R].DT.getDate()!=A.getDate()){A=new Date(+C[R+1].DT),i.o4(3),D=i.K9(R,1);break}M=-741043961,L=-1312299794,_=2;for(var U=1;i.E9(U.toString(),U.toString().length,83139)!==M;U++)o=D,_+=2;i.E9(_.toString(),_.toString().length,53528)!==L&&(o=D),i.o4(2),l=i.H2(1,w)}else{if(P="al",P+="l",t.base!=P&&(f.getTime()>=C[0].DT.getTime()||t.goIntoPast))o=y.tickFromDate(f,g,null,!0);else{F=-1577725637,E=-832530138,I=2;for(var z=1;i.E9(z.toString(),z.toString().length,78512)!==F;z++)o=0,I+=2;i.E9(I.toString(),I.toString().length,27765)!==E&&(o=9)}"all"!=t.base&&(m.getTime()<=C[w-1].DT.getTime()||t.goIntoFuture)?(l=y.tickFromDate(m,g))>w-1&&l--:(i.C7(4),l=i.H2(96,"1",w))}if(i.o4(5),(N=i.H2(1,o,l))<1)a&&a(e);else{for(var V in q=t.padding||0,l<w-1&&(q=0),O=(g.width-q)/N,y.setCandleWidth(O,g),i.o4(6),g.scroll=i.K9(l,w,N,1),y.micropixels=1,y.panels)y.calculateYAxisMargins(y.panels[V].yAxis);t.dontSaveRangeToLayout?delete d.range:(delete t.chart,delete d.setSpan,d.range=t),y.draw(),y.changeOccurred("layout"),a&&a(e)}}else a&&a(e)}function rt(t,a,r,n,s,o){var l,c,h,u,d,p,g,f;if(l=0,i.o4(2),i.Y4(),c=i.K9(a,t),e.ChartEngine.isDailyInterval(r))if(h="we",h+="e",h+="k",u="mon",r==(u+="th"))l=c/e.MONTH/n;else if(r==h){d=1574286025,p=1034397469,g=2;for(var m=1;i.E9(m.toString(),m.toString().length,24953)!==d;m++)l=c/e.WEEK/n,g+=2;i.Y6(g.toString(),g.toString().length,8831)!==p&&(l=c%e.WEEK-n)}else l=c/e.DAY/n;else isNaN(r)||(f="m",f+="illis",s==(f+="econd")?(i.o4(7),l=i.K9(n,c,r)):l="second"==s?c/e.SECOND/(n*r):c/e.MINUTE/(n*r));return Math.round(l)}if(p=!1,g=t.chart,f="string"==typeof t.dtLeft?new Date(t.dtLeft):t.dtLeft,m=new Date,t.dtRight&&(m="string"==typeof t.dtRight?new Date(t.dtRight):t.dtRight),f||(v=this.standardMarketIterator(m,null,g),f=v.previous(g.maxTicks),t.periodicity||(p=!0)),g.inflectionPoint=f,this.layout.range={dtLeft:f,dtRight:m},y=this,i.i0(),b=0,this.quoteDriver){if(p)x=this.layout.interval,k=this.layout.timeUnit,S=this.layout.periodicity;else if(t.periodicity)x=(C=e.cleanPeriodicity(t.periodicity.period,t.periodicity.interval,t.periodicity.timeUnit)).interval,k=C.timeUnit,S=C.period;else if(w=m.getTime()-f.getTime(),this.autoPickCandleWidth.turnOn){if(P=0,this.autoPickCandleWidth.candleWidth)P=this.autoPickCandleWidth.candleWidth;else{F=1107636264,E=-300696188,I=2;for(var nt=1;i.E9(nt.toString(),nt.toString().length,60487)!==F;nt++)P=this.barsHaveWidth[this.layout.chartType]?0:6,i.o4(0),I+=i.H2(1,"2");i.E9(I.toString(),I.toString().length,35802)!==E&&(P=this.barsHaveWidth[this.layout.chartType]?0:6),P=this.barsHaveWidth[this.layout.chartType]?5:2}N=g.width/P,x=(q=this.dynamicRangePeriodicityMap)[0].interval,i.o4(8),S=i.H2("1",0);for(var st=0;st<q.length;st++){if((H=w/q[st].rangeInMS)<N){q[st-1]?(x=q[st-1].interval,k=q[st-1].timeUnit,i.C7(9),S=Math.ceil(i.K9(O,N))):(x=q[st].interval,k=q[st].timeUnit,S=1);break}O=H}}else{D=this.staticRangePeriodicityMap,T=null;for(var ot=0;ot<D.length;ot++)if(w/(A=D[ot]).rangeInMS<1.001){T=A;break}x=T.interval,M=2131696210,L=-1279893567,_=2;for(var lt=1;i.Y6(lt.toString(),lt.toString().length,73235)!==M;lt++)S=T.periodicity,_+=2;i.Y6(_.toString(),_.toString().length,36040)!==L&&(S=T.periodicity),k=T.timeUnit}R=this.chart.scroll,U=this.layout.candleWidth,z=this.layout.interval,V=this.layout.periodicity,B=this.layout.timeUnit,this.chart.scroll=this.chart.maxTicks=rt(m.getTime(),f.getTime(),x,S,k,this.dontRoll),this.layout.candleWidth=this.chart.width/this.chart.maxTicks,W=this.needDifferentData({period:S,interval:x,timeUnit:k}),Object.keys(this.chart.endPoints).length&&(this.chart.endPoints.begin>f||this.chart.endPoints.end<m)&&(W=!0),!this.chart.masterData||!this.chart.masterData.length||W||t.forceLoad?(j="mo",j+="nt",j+="h",this.layout.interval=x,this.layout.periodicity=S,this.layout.timeUnit=k,this.layout.timeUnit||($="mi",$+="nute",Y="t",Y+="i",Y+="c",Y+="k",X="se",X+="co",X+="n",X+="d",e.ChartEngine.isDailyInterval(this.layout.interval)?this.layout.timeUnit=null:this.layout.interval==X?this.layout.timeUnit="second":this.layout.interval!=Y&&(this.layout.timeUnit=$)),Z={symbol:g.symbol,symbolObject:g.symbolObject,chart:g,nodraw:!0},"tick"==this.layout.interval&&(Z.startDate=f,Z.endDate=m),this.displayInitialized||(Z.initializeChart=!0),(J={symbol:g.symbol,symbolObject:g.symbolObject,interval:this.layout.interval}).interval!=j&&"week"!=J.interval||this.dontRoll||(G="d",G+="a",G+="y",J.interval=G),K=Math.max(this.quoteDriver.getQuoteFeed(J).behavior.bufferSize+50,200),v=this.standardMarketIterator(f,null,g),Z.startDate=new Date(v.previous(K).getTime()),v=this.standardMarketIterator(m,null,g),Z.endDate=new Date(v.next(K).getTime()),Z.endDate<Date.now()?this.isHistoricalModeSet=!0:Z.endDate=m,this.clearCurrentMarketData(this.chart),clearTimeout(this.streamParameters.timeout),this.quoteDriver.newChart(Z,it)):(this.layout.interval==x&&this.layout.periodicity==S&&this.layout.timeUnit==k&&this.chart.dataSegment&&this.chart.dataSegment[0]&&this.chart.dataSegment[0].DT==g.inflectionPoint||(this.layout.interval=x,this.layout.periodicity=S,this.layout.timeUnit=k,this.createDataSet()),it())}else at()},i.Y4(),e.ChartEngine.prototype.setSpan=function(t,a){var r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R;if(r="to",r+="d",r+="a",r+="y",n="w",n+="e",n+="ek",s="y",s+="ear",o=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3],"object"==typeof t)o=t.period?t.period:t.multiplier?t.multiplier:1,l=t.interval?t.interval:t.base?t.base:t.span?t.span:t.period,c=t.padding,h=t.chart;else{u=1358378238,d=584959039,p=2;for(var U=1;i.E9(U.toString(),U.toString().length,742)!==u;U++)t={period:o,interval:l,padding:c,chart:h},a=arguments[5],p+=2;i.E9(p.toString(),p.toString().length,78688)!==d&&(t={period:o,interval:l,padding:c,chart:h},a=arguments[6])}if(h||(h=this.chart),g=h.market,"all"==(l=l.toLowerCase()))return t.dontSaveRangeToLayout=!0,void this.displayAll(t,a);function z(t){var e,a,r;i.Y4(),t.setHours(0),i.o4(2),e=i.K9(0,"1932917475"),a=-270072130,r=2;for(var n=1;i.E9(n.toString(),n.toString().length,22157)!==e;n++)t.setMinutes(7),r+=2;return i.E9(r.toString(),r.toString().length,61171)!==a&&t.setMinutes(5),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}if(m=l,v=1,i.Y4(),"today"==l){y=1509867694,b=58876072,i.o4(0),x=i.K9(1,"2");for(var V=1;i.Y6(V.toString(),V.toString().length,89562)!==y;V++)m="",x+=2;i.E9(x.toString(),x.toString().length,32498)!==b&&(m=""),m="day"}else"year"==l&&(S="mo",m=S+="nth",v=12);function B(t,e){var a,r,n,s;if(!D)return t;if(a=7,e)t.setHours(t.getHours()+a);else{r=-1299307395,n=455424361,s=2;for(var o=1;i.E9(o.toString(),o.toString().length,22958)!==r;o++)t.setHours(t.getHours()%a),s+=2;i.Y6(s.toString(),s.toString().length,4712)!==n&&t.setHours(t.getHours()+a),t.setHours(t.getHours()-a),g.isMarketDate(t)||t.setDate(t.getDate()-2)}return t}if(k=e.shallowClone(t),w=(C={begin:g.marketZoneNow(),interval:m,period:v}).begin,D=e.Market.Symbology.isForexSymbol(h.symbol),"ytd"===l)(w=z(w)).setMonth(0),w.setDate(1);else if("month"===l){T=849200702,A=-36829234,M=2;for(var W=1;i.E9(W.toString(),W.toString().length,99542)!==T;W++)w=z(new Date),M+=2;i.E9(M.toString(),M.toString().length,69692)!==A&&(w=z(new Date)),w.setMonth(w.getMonth()-o)}else if(l===s)(w=z(new Date)).setFullYear(w.getFullYear()-o);else if(l===n){L=-1342619297,_=-2093102015,i.o4(8),P=i.K9("2",0);for(var j=1;i.E9(j.toString(),j.toString().length,41846)!==L;j++)w=z(new Date),P+=2;i.E9(P.toString(),P.toString().length,85462)!==_&&(w=z(new Date)),w.setDate(w.getDate()-7*o)}else if("day"===l&&1==o&&g.isMarketDay())F=w.getHours(),E=w.getMinutes(),I=w.getSeconds(),N=w.getMilliseconds(),(w=(f=g.newIterator(C)).previous()).setHours(F,E,I,N),w=g._convertFromMarketTZ(w);else if(l===r){C.begin=B(w,!0),f=g.newIterator(C),(g.isOpen()||g.getPreviousOpen().getDate()==w.getDate())&&f.next(),B(w=f.previous()),k.goIntoFuture=!0,k.dtRight=new Date(+w),k.dtRight.setDate(w.getDate()+1),k.dtRight=g._convertFromMarketTZ(k.dtRight),D||(w.setHours(f.market.zopen_hour),w.setMinutes(f.market.zopen_minute),w.setSeconds(0)),q=-1947209997,i.o4(8),O=-i.K9("781858609",0),H=2;for(var $=1;i.E9($.toString(),$.toString().length,46302)!==q;$++)w=g._convertFromMarketTZ(w),H+=2;i.Y6(H.toString(),H.toString().length,12117)!==O&&(w=g._convertFromMarketTZ(w))}else"day"==l&&(C.begin=B(w,!0)),f=g.newIterator(C),1==o&&o++,i.C7(2),w=f.previous(i.H2(1,o)),"day"==l&&(w=g._convertFromMarketTZ(B(w)));k.dtLeft=w,k.maintainPeriodicity&&(k.periodicity={},k.periodicity.interval=this.layout.interval,k.periodicity.period=this.layout.periodicity),h.spanLock=!1,k.dontSaveRangeToLayout=!0,R=this,this.setRange(k,(function(e){R.layout.setSpan=t,R.changeOccurred("layout"),"today"==l&&(h.spanLock=!0),a&&a(e)}))},e.ChartEngine.prototype.getSpanCandleWidth=function(t){var e,a,r,n,s,o,l,c,h,u,d;e=1374460080,i.o4(0),a=-i.K9(1,"1181573820"),i.Y4(),r=2;for(var p=1;i.Y6(p.toString(),p.toString().length,91506)!==e;p++){if(-t&&~t.base&&~t.multiplier)return;n=parseFloat(t.multiplier),s=t.base,o=new Date,l=new Date,r+=2}if(i.Y6(r.toString(),r.toString().length,75451)!==a){if(!t||!t.base||!t.multiplier)return;n=parseFloat(t.multiplier),s=t.base,o=new Date,l=new Date}if("year"==s){c=-2145819555,h=215760224,u=2;for(var g=1;i.E9(g.toString(),g.toString().length,10496)!==c;g++)l.setFullYear(l.getFullYear()-n),u+=2;i.Y6(u.toString(),u.toString().length,45963)!==h&&l.setFullYear(l.getFullYear()*n)}else"month"==s?l.setMonth(l.getMonth()-n):"day"==s?l.setDate(l.getDate()-n):"week"==s?l.setDate(l.getDate()-7*n):"YTD"==s&&(l.setMonth(0),l.setDate(1));i.o4(10);var f=i.H2(10,11);i.C7(11);var m=i.K9(41,3,19,26,15);i.C7(2);var v=i.K9(480,540);i.C7(12);var y=i.K9(12,16,16,13,33);return d=(o.getTime()-l.getTime())/("1000"*f)/m/v/y,i.o4(13),d=i.H2("7",d,0,5),this.chart.width/d},e.ChartEngine.prototype.displayAll=function(t,a){var r,n,s,o;function l(){var s,o,l,c;if(r.masterData&&r.masterData.length){i.Y4(),(s=e.clone(t)).dtLeft=r.masterData[0].DT,s.dtRight=r.masterData[r.masterData.length-1].DT,o=-2085031712,l=808093804,c=2;for(var h=1;i.Y6(h.toString(),h.toString().length,28460)!==o;h++)s.periodicity={},c+=2;i.E9(c.toString(),c.toString().length,62427)!==l&&(s.periodicity={}),s.periodicity={},s.periodicity.interval=n.layout.interval,s.periodicity.period=n.layout.periodicity,s.periodicity.timeUnit=n.layout.timeUnit,n.setRange(s,(function(e){for(var i in n.layout.setSpan={base:t.base,multiplier:t.multiplier},n.changeOccurred("layout"),n.panels)n.calculateYAxisMargins(n.panels[i].yAxis);n.draw(),a&&a(e)}))}}function c(t){i.i0(),t||n.quoteDriver.loadAll(r,l)}r=this.chart,t&&t.chart&&(r=t.chart),n=this,this.quoteDriver?(s=t.maintainPeriodicity?{period:this.layout.periodicity,interval:this.layout.interval,timeUnit:this.layout.timeUnit}:{period:1,interval:"month",timeUnit:null},s=t.periodicity?t.periodicity:s,s=e.cleanPeriodicity(s.period,s.interval,s.timeUnit),o=this.needDifferentData(s),this.layout.periodicity=s.period,this.layout.interval=s.interval,this.layout.timeUnit=s.timeUnit,t.forceLoad||o?(this.clearCurrentMarketData(this.chart),this.quoteDriver.newChart({noDraw:!0,symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!0,fetchMaximumBars:!0},c)):r.moreAvailable?c():(this.createDataSet(),l())):l()},t},oe[513895]=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e._J3gG=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"bj_e4",{get:function(){return this},configurable:!0}),e=bj_e4,i=5;break;case 4:i="undefined"==typeof _J3gG?3:9;break;case 9:delete e._J3gG,delete Object.prototype.bj_e4,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),le(oe[513895]),oe[616183]="YtJ",oe[574954]="DAQ",oe[299637]={p4oUdFl:function(){var t,e=arguments;switch(P){case 13:t=e[1]/e[0];break;case 2:t=e[2]*e[1]-e[0];break;case 31:t=e[4]*(e[3]/e[1]-e[0])+e[2];break;case 22:t=-e[3]*e[0]/e[1]+e[2];break;case 39:t=e[3]+e[4]+e[2]-e[0]+e[1];break;case 9:t=e[1]==e[0];break;case 18:t=e[0]>>e[1];break;case 20:t=e[2]/(e[0]+e[1]);break;case 6:t=e[1]-e[0];break;case 15:t=e[1]*(e[2]/e[0]);break;case 43:t=e[0]+e[3]+e[2]+e[1];break;case 29:t=e[1]*e[2]/(e[3]+e[0]);break;case 24:t=e[2]+e[3]-e[1]+e[0];break;case 0:t=e[2]+e[1]+e[0];break;case 4:t=e[2]/e[0]+e[3]+e[1];break;case 5:t=e[1]|e[0];break;case 25:t=e[2]*e[6]*e[3]+(e[7]-e[0]-e[4]*e[1])*e[5];break;case 10:t=e[2]/e[0]-e[1];break;case 17:t=e[0]^e[1];break;case 21:t=(e[0]-e[2])*e[1]+e[3];break;case 23:t=(-e[2]+e[3])*e[0]-e[1];break;case 34:t=(e[4]+e[1])*e[0]/e[3]-e[2];break;case 30:t=e[1]-e[0]+e[2];break;case 16:t=e[0]+e[2]-e[1];break;case 40:t=e[1]*+e[3]*+e[0]*+e[2];break;case 1:t=e[1]+e[0];break;case 11:t=-e[4]-e[2]+e[3]+e[1]-e[0];break;case 7:t=e[1]<<e[0];break;case 35:t=e[2]-e[0]-e[3]+e[1]-e[4];break;case 36:t=e[3]/e[4]/e[0]+e[2]-e[1];break;case 12:t=-e[1]+e[0];break;case 3:t=e[0]/e[1]+e[2];break;case 38:t=e[1]+e[2]+e[0]+e[4]+e[3];break;case 33:t=e[1]*e[0]/e[2];break;case 37:t=e[0]*e[1]*e[2];break;case 19:t=-e[1]*e[3]*e[0]+e[2];break;case 27:t=e[6]*e[2]*e[5]+(e[3]-e[1]*e[4])*e[0];break;case 26:t=(e[2]+e[4])*e[0]-e[1]-e[3];break;case 41:t=e[1]+e[2]*e[0];break;case 42:t=e[0]-e[1]*e[2];break;case 28:t=(e[2]-e[0])/e[1]-e[3];break;case 8:t=e[1]*e[0];break;case 14:t=e[1]/(e[2]>>e[0]);break;case 32:t=(e[0]-e[1])/e[3]+e[4]-e[2]}return t},R9DODrP:function(t){P=t}},oe[513895].k9HH=oe,oe[245362]=714,oe[254206]=function(){for(var t=2;9!==t;)switch(t){case 4:return e[1].s7rL$NJ=function(){for(var t=2;90!==t;)switch(t){case 76:t=i[80]<i[11][i[89]].length?75:70;break;case 71:i[80]++,t=76;break;case 2:var i=[arguments];t=1;break;case 51:i[2].U5c$k(i[91]),i[2].U5c$k(i[60]),i[2].U5c$k(i[4]),i[2].U5c$k(i[3]),i[2].U5c$k(i[75]),t=46;break;case 46:i[2].U5c$k(i[5]),i[2].U5c$k(i[76]),i[68]=[],i[52]="s1f",t=63;break;case 62:i[89]="l76",i[12]="u$F",i[73]="Y7L",i[69]="O9D",t=58;break;case 42:i[14].l76=["z4y"],i[14].Y7L=function(){return"function"==typeof o8mWP},i[75]=i[14],i[47]={},t=38;break;case 38:i[47].l76=["v_0"],i[47].Y7L=function(){return/\x61\u0061\141\x61\x61/.o_QLf(function(){return"aaaa".padEnd(5,"a")}+[])},i[35]=i[47],i[2].U5c$k(i[35]),i[2].U5c$k(i[17]),i[2].U5c$k(i[1]),t=51;break;case 10:i[6].l76=["v_0"],i[6].Y7L=function(){return/\u0031\x39\x32/.o_QLf(function(){!function(t){for(var e=0;e<20;e++)e}()}+[])},i[5]=i[6],i[8]={},t=17;break;case 56:i[11]=i[2][i[96]];try{i[97]=i[11][i[73]]()?i[52]:i[71]}catch(t){i[97]=i[71]}t=77;break;case 75:i[79]={},i[79][i[69]]=i[11][i[89]][i[80]],i[79][i[12]]=i[97],i[68].U5c$k(i[79]),t=71;break;case 57:t=i[96]<i[2].length?56:69;break;case 77:i[80]=0,t=76;break;case 24:i[76]=i[18],i[39]={},i[39].l76=["z4y"],i[39].Y7L=function(){var t=!1,e=[];try{for(var i in console)e.U5c$k(i);t=0===e.length}catch(t){}return t},t=35;break;case 17:i[8].l76=["v_0"],i[8].Y7L=function(){return!/\u0028\x5b/.o_QLf(function(){return[1,2,3,4,5].concat([5,6,7,8])}+[])},i[4]=i[8],i[18]={},t=26;break;case 4:i[2]=[],i[7]={},i[7].l76=["v_0"],i[7].Y7L=function(){return!/(\u005b|\x5d)/.o_QLf(function(){return["a","a"].join()}+[])},i[1]=i[7],i[9]={},i[9].l76=["z4y"],t=13;break;case 67:return e[3]=81,24;case 1:t=e[3]?5:4;break;case 68:t=68;break;case 26:i[18].l76=["v_0"],i[18].Y7L=function(){return/\075/.o_QLf(function(){return unescape("%3D")}+[])},t=24;break;case 13:i[9].Y7L=function(){return"function"==typeof d3AgVz},i[3]=i[9],t=11;break;case 70:i[96]++,t=57;break;case 69:t=function(t){for(var e=2;22!==e;)switch(e){case 26:e=a[4]>=.5?25:24;break;case 2:var a=[arguments];e=1;break;case 1:e=0===a[0][0].length?5:4;break;case 14:e=void 0===a[9][a[8][i[69]]]?13:11;break;case 10:e=a[8][i[12]]===i[52]?20:19;break;case 6:a[8]=a[0][0][a[6]],e=14;break;case 11:a[9][a[8][i[69]]].t+=!0,e=10;break;case 17:a[6]=0,e=16;break;case 19:a[6]++,e=7;break;case 23:return a[2];case 25:a[2]=!0,e=24;break;case 24:a[6]++,e=16;break;case 12:a[7].U5c$k(a[8][i[69]]),e=11;break;case 18:a[2]=!1,e=17;break;case 13:a[9][a[8][i[69]]]=function(){for(var t=2;9!==t;)switch(t){case 1:return e[2]={},e[2].h=0,e[2].t=0,e[2];case 2:var e=[arguments];t=1}}.p2K_ee(this,arguments),e=12;break;case 5:return;case 15:a[3]=a[7][a[6]],a[4]=a[9][a[3]].h/a[9][a[3]].t,e=26;break;case 4:a[9]={},a[7]=[],a[6]=0,e=8;break;case 20:a[9][a[8][i[69]]].h+=!0,e=19;break;case 8:a[6]=0,e=7;break;case 16:e=a[6]<a[7].length?15:23;break;case 7:e=a[6]<a[0][0].length?6:18}}(i[68])?68:67;break;case 63:i[71]="w3V",t=62;break;case 31:i[60]=i[86],i[21]={},i[21].l76=["v_0"],i[21].Y7L=function(){return/\x74\162\165\145/.o_QLf(function(){return"Å".normalize("NFC")==="Å".normalize("NFC")}+[])},i[91]=i[21],i[14]={},t=42;break;case 35:i[17]=i[39],i[86]={},i[86].l76=["z4y"],i[86].Y7L=function(){return"function"==typeof j2E_tA},t=31;break;case 5:return 38;case 58:i[96]=0,t=57;break;case 11:i[6]={},t=10}},e[1];case 2:var e=[arguments];e[3]=void 0,e[1]={},t=4}}(),oe.n4K=function(){return"function"==typeof oe[321268].L3LLwSS?oe[321268].L3LLwSS.apply(oe[321268],arguments):oe[321268].L3LLwSS},oe.B4c=function(){return"function"==typeof oe[254206].s7rL$NJ?oe[254206].s7rL$NJ.apply(oe[254206],arguments):oe[254206].s7rL$NJ},oe[321268]=(_=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.J_Gn6(o)|(255&t.J_Gn6(o+1))<<8|(255&t.J_Gn6(o+2))<<16|(255&t.J_Gn6(o+3))<<24;l=_(l,a),n=5*(n=(524287&(n^=l=_(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.J_Gn6(s+2))<<16;case 2:l|=(255&t.J_Gn6(s+1))<<8;case 1:l|=255&t.J_Gn6(s),l=_(l,a),n^=l=_(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=_(n^=n>>>16,2246822507),n=_(n^=n>>>13,3266489909),n^=n>>>16}}),oe.b0V=function(){return"function"==typeof oe[299637].R9DODrP?oe[299637].R9DODrP.apply(oe[299637],arguments):oe[299637].R9DODrP},oe.Z9r=function(){return"function"==typeof oe[254206].s7rL$NJ?oe[254206].s7rL$NJ.apply(oe[254206],arguments):oe[254206].s7rL$NJ},oe.B2P=function(){return"function"==typeof oe[321268].L3LLwSS?oe[321268].L3LLwSS.apply(oe[321268],arguments):oe[321268].L3LLwSS},oe.L6A=function(){return"function"==typeof oe[299637].R9DODrP?oe[299637].R9DODrP.apply(oe[299637],arguments):oe[299637].R9DODrP},oe.l9D=function(){return"function"==typeof oe[299637].p4oUdFl?oe[299637].p4oUdFl.apply(oe[299637],arguments):oe[299637].p4oUdFl},oe[302900]=oe[513895],oe.u2V=function(){return"function"==typeof oe[299637].p4oUdFl?oe[299637].p4oUdFl.apply(oe[299637],arguments):oe[299637].p4oUdFl},oe[92321]=753,oe.Z9r(),T=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,k,C=oe;return e="0 to m",e+="ax",i="True R",i+="ange",a="f",a+="ie",a+="ld",r="hh:m",r+="m",r+=":s",r+="s",n="#fff69",n+="e",s="fi",s+="eld",o="m",o+="a",l="fie",l+="ld",c="Wei",c+="gh",c+="ted",h="Wei",h+="ght",h+="e",h+="d",u="VIDY",u+="A",d="Tim",d+="eSeries",p="T",p+="riangular",g="we",g+="igh",g+="te",g+="d",f="v",f+="ar",f+="iabl",f+="e",m="ex",m+="pon",m+="entia",m+="l",v="simpl",v+="e",y="s",y+="m",y+="m",y+="a",b="w",b+="m",b+="a",x="t",x+="s",x+="ma",S="e",S+="m",S+="a",t.CIQ||(t.CIQ={}),k=t.CIQ,C.B4c(),k.Studies=function(){},k.Studies.DEFAULT_INPUTS={Period:14},k.Studies.DEFAULT_OUTPUTS={Result:"auto"},k.Studies.StudyDescriptor=function(t,e,i,a,r,n){var s,o,l,c,h;this.name=t,this.type=e,this.panel=i,this.inputs=a,this.outputs=r,this.parameters=n,this.outputMap={},s=2110530589,o=2006914565,l=2;for(var u=1;C.B2P(u.toString(),u.toString().length,35342)!==s;u++)this.min=1,l+=2;C.n4K(l.toString(),l.toString().length,92089)!==o&&(this.min=null),this.max=null,this.startFrom=0,C.Z9r(),this.subField="Close",(c=k.Studies.studyLibrary[e])||(h="ch",h+="art",c={},("chart"==i||!i&&n&&n.chartName==h)&&(this.overlay=!0)),void 0===c.inputs&&(c.inputs=k.clone(k.Studies.DEFAULT_INPUTS)),void 0===c.outputs&&(c.outputs=k.clone(k.Studies.DEFAULT_OUTPUTS)),this.study=c,this.libraryEntry=c},k.Studies.StudyDescriptor.prototype.getYAxis=function(t){var e,i,a;return e=this.yAxis,this.parameters&&(i=this.parameters.yaxisDisplayValue),e||(a=t.panels[this.panel])&&(e=t.getYAxisByName(a,i)||t.getYAxisByName(a,this.name)||a.yAxis),C.Z9r(),e||(e=t.getYAxisByName(t.chart.panel,i)||t.chart.panel.yAxis),e},k.Studies.StudyDescriptor.prototype.getContext=function(t){return C.Z9r(),t.chart.context},k.Studies.StudyDescriptor.prototype.getDependents=function(t,e){var i,a,r,n;if(C.B4c(),i=[],(a=Object.keys(this.outputMap)).length)for(var s in t.layout.studies)if((r=t.layout.studies[s])!=this){n=k.Studies.getFieldInputs(r);for(var o=0;o<n.length;o++)if(a.indexOf(r.inputs[n[o]])>-1){if(e&&r.parameters&&r.parameters.panelName)continue;i.push(r),i=i.concat(r.getDependents(t,e));break}}return i},k.Studies.StudyDescriptor.prototype.undraggable=function(t){var e,i,a,r;e=-1877679661,C.B4c(),i=-1194740759,a=2;for(var n=1;C.n4K(n.toString(),n.toString().length,32718)!==e;n++)r=this.study.attributes,a+=2;if(C.n4K(a.toString(),a.toString().length,22265)!==i&&(r=this.study.attributes),r){if(r.panelName&&r.panelName.hidden)return!0;if(r.yaxisDisplayValue&&r.yaxisDisplayValue.hidden)return!0}return!1},k.Studies.StudyDescriptor.prototype.appendFutureTicks=function(t,e){var i,a,r,n;if((i=t.chart.scrubbed).length){for(a=t.standardMarketIterator(i[i.length-1].DT),r=e.length-1;r>=0;r--){for(var s in n=e[r])if(n[s]||0===n[s]){r=-1;break}if(-1==r)break;e.pop()}for(C.Z9r(),r=0;r<e.length;r++)(n=e[r]).DT||(n.DT=a.next()),n.displayDate||t.setDisplayDate(n),n.futureTick=!0,i.push(n)}},k.Studies.generateID=function(t,e,i,a,r){var n,s,o,l,c,h;if(n=k.Studies.studyLibrary[e],C.b0V(0),s=C.l9D("‌",r||e,"‌"),n&&n.customRemoval)return s;if(!k.isEmpty(i)){for(var u in o=!0,i)l="i",u!=(l+="d")&&"display"!=u&&"Shading"!=u&&"field"!=(c=i[u])&&(c=c.toString(),void 0!==k.Studies.prettify[c]&&(c=k.Studies.prettify[c]),o?(o=!1,s+=" ("):c&&(s+=","),s+=c);o||(s+=")")}if(a&&0===a.indexOf(s))return a;if(t.layout.studies&&t.layout.studies[s])for(var d=2;d<50;d++)if(C.b0V(0),h=C.l9D(d,"-",s),!t.layout.studies[h]){s=h;break}return s},k.Studies.DialogHelper=function(t){var e,i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G,K,Q,tt,et,it,at,rt,nt;function st(t){var e,a;function r(t,e){var i;return C.Z9r(),i="Pan",i+="e",(i+="l ")+e.toString()}if(e="a",e+="l",e+="ia",C.B4c(),X==(e+="s"))for(var n in a=1,i.panels){if(n==t)return r(n,a);a++}return t}function ot(t,e){var i,a,r;i=-1445204612,a=499615199,r=2;for(var n=1;C.n4K(n.toString(),n.toString().length,66683)!==i;n++)-this.attributes[t]&&(this.attributes[t]={}),r+=2;C.B2P(r.toString(),r.toString().length,95407)!==a&&(this.attributes[t]||(this.attributes[t]={})),e&&(this.attributes[t].hidden=!0)}function lt(t){var e,a,r,n,s,o,l;e="selec",e+="t",a={},r=t.defaults,n={name:t.name,heading:i.translateIf(t.label),defaultValue:r[0],value:t.value,options:a,type:e};for(var c=0;c<r.length;c++)a[r[c]]=i.translateIf(r[c]);if(void 0!==t.color){s=499605575,o=1174669189,l=2;for(var h=1;C.n4K(h.toString(),h.toString().length,60175)!==s;h++)n.defaultColor=i.defaultColor,l+=2;C.n4K(l.toString(),l.toString().length,82108)!==o&&(n.defaultColor=i.defaultColor),n.defaultColor=i.defaultColor,n.color=t.color}return n}for(var ct in e="un",e+="defined",i=this.stx=t.stx,a=this.sd=t.sd,this.name=a?a.type:t.name,this.signal=1,this.inputs=[],C.Z9r(),this.outputs=[],this.parameters=[],void 0===(r=this.libraryEntry=a?a.study:k.Studies.studyLibrary[t.name]).inputs&&(r.inputs=k.clone(k.Studies.DEFAULT_INPUTS)),typeof r.outputs==e&&(r.outputs=k.clone(k.Studies.DEFAULT_OUTPUTS)),s=(n=a&&i.panels[a.panel]?i.panels[a.panel]:i.chart.panel).chart,this.title=i.translateIf(r.name),this.attributes=r.attributes,this.attributes||(this.attributes={}),o=[],l=i.layout.studies,c=[],a&&(c=Array.prototype.concat(a,a.getDependents(i))),l)if(!(c.indexOf(l[ct])>-1))for(var ht in l[ct].outputMap)o.push(ht);for(var ut in r.inputs)if(h="unde",h+="f",h+="in",h+="ed",u={},this.inputs.push(u),u.name=ut,u.heading=i.translateIf(ut),d=r.inputs[ut],a&&a.inputs&&typeof a.inputs[ut]!=h&&null!==a.inputs[ut]?u.value=a.inputs[ut]:u.value=r.inputs[ut],u.defaultInput=r.inputs[ut],this.attributes[ut]||(this.attributes[ut]=k.Studies.inputAttributeDefaultGenerator(u.defaultInput)),d.constructor==Number)u.type="number";else if(d.constructor==String)if(p=k.Studies.movingAverageHelper(i,u.defaultInput))u.type="select",u.defaultInput=p,(g=k.Studies.movingAverageHelper(i,u.value))||(g=u.value),u.value=g,u.options=k.Studies.movingAverageHelper(i,"options");else if("field"==d){f="f",f+="i",f+="el",f+="d",m="ohlc/",m+="4",v="h",v+="l",v+="/",v+="2",y="C",y+="lo",y+="s",y+="e",b="O",b+="p",b+="en",u.type="select",u.options={},x=[b,"High","Low",y,"Adj_Close",v,"hlc/3","hlcc/4",m,s.defaultPlotField].concat(o);for(var dt=0;dt<x.length;dt++)S=x[dt],u.options[S]=i.translateIf(S);"field"==u.value&&(w="Clo",w+="se",u.value=w),u.defaultInput==f&&(u.defaultInput="Close")}else D="t",D+="im",D+="e",T="hh:mm:",T+="ss",u.type="text","yyyy-mm-dd"==this.attributes[ut].placeholder?u.type="date":this.attributes[ut].placeholder==T&&(u.type=D);else if(d.constructor==Boolean)A="che",A+="ckbo",A+="x",u.type=A,!0!==u.value&&"true"!=u.value&&"on"!=u.value||(u.value=!0);else if(d.constructor==Array){u.type="select",u.options={};for(var pt=0;pt<d.length;pt++)u.options[d[pt]]=i.translateIf(d[pt]);u.value.constructor==Array&&(u.value=u.value[0]),u.defaultInput=d[0]}this.dateTimeInputs=[];for(var gt=0;gt<this.inputs.length;gt++)if("date"==(M=this.inputs[gt]).type){L=M.name.substring(0,M.name.indexOf(" Date"));for(var ft=0;ft<this.inputs.length;ft++)if(_="t",_+="i",_+="m",_+="e",(P=this.inputs[ft]).type==_&&(F=" Ti",F+="me",P.name==L+F)){this.dateTimeInputs.push(L);break}}function mt(t){return C.Z9r(),{name:t.name,heading:i.translateIf(t.label),defaultValue:t.defaults,value:t.value,type:"checkbox"}}for(ut in this.adjustInputTimesForDisplayZone(),r.outputs)(E={name:ut,heading:i.translateIf(ut)}).color=E.defaultOutput=r.outputs[ut],a&&a.outputs&&a.outputs[ut]&&(E.color=a.outputs[ut]),"auto"==E.color&&(E.color=i.defaultColor),this.outputs.push(E);if(I=a?a.parameters:null,r.parameters){N=2037423496,q=-1806919209,O=2;for(var vt=1;C.n4K(vt.toString(),vt.toString().length,21887)!==N;vt++)H=r.parameters.init,O+=2;if(C.n4K(O.toString(),O.toString().length,44952)!==q&&(H=r.parameters.init),H){void 0!==H.studyOverZonesEnabled&&(U="check",U+="b",U+="ox",z="Show Zon",z+="es",V="studyOv",R={name:V+="erZones",heading:i.translateIf(z),defaultValue:H.studyOverZonesEnabled,value:H.studyOverZonesEnabled},I&&(I.studyOverZonesEnabled||!1===I.studyOverZonesEnabled)&&(R.value=I.studyOverZonesEnabled),R.type=U,this.parameters.push(R)),void 0!==H.studyOverBoughtValue&&(R={name:"studyOverBought",heading:i.translateIf("OverBought"),defaultValue:H.studyOverBoughtValue,value:H.studyOverBoughtValue,defaultColor:H.studyOverBoughtColor,color:H.studyOverBoughtColor},I&&I.studyOverBoughtValue&&(R.value=I.studyOverBoughtValue),I&&I.studyOverBoughtColor&&(R.color=I.studyOverBoughtColor),"auto"==R.color&&(R.color=i.defaultColor),R.type="text",this.parameters.push(R)),void 0!==H.studyOverSoldValue&&(B="t",B+="e",B+="x",B+="t",W="s",W+="tudyOver",W+="Sol",R={name:W+="d",heading:i.translateIf("OverSold"),defaultValue:H.studyOverSoldValue,value:H.studyOverSoldValue,defaultColor:H.studyOverSoldColor,color:H.studyOverSoldColor},I&&I.studyOverSoldValue&&(R.value=I.studyOverSoldValue),I&&I.studyOverSoldColor&&(R.color=I.studyOverSoldColor),"auto"==R.color&&(R.color=i.defaultColor),R.type=B,this.parameters.push(R)),this.attributes.studyOverBoughtValue||(this.attributes.studyOverBoughtValue={}),j=1146055194,$=-953471532,Y=2;for(var yt=1;C.n4K(yt.toString(),yt.toString().length,44981)!==j;yt++)+this.attributes.studyOverSoldValue&&(this.attributes.studyOverSoldValue={}),Y+=2;C.n4K(Y.toString(),Y.toString().length,34020)!==$&&~this.attributes.studyOverSoldValue&&(this.attributes.studyOverSoldValue={}),this.attributes.studyOverSoldValue||(this.attributes.studyOverSoldValue={})}}if(X=this.panelSelect=t.panelSelect,(Z=this.axisSelect=t.axisSelect)||X){if(!a){a=k.Studies.addStudy(i,t.name,null,null,{calculateOnly:!0}),J=2029720730,G=-555632488,K=2;for(var bt=1;C.n4K(bt.toString(),bt.toString().length,37451)!==J;bt++)k.Studies.removeStudy(i,a),K+=2;C.n4K(K.toString(),K.toString().length,85180)!==G&&k.Studies.removeStudy(i,a),k.Studies.removeStudy(i,a)}X&&(Q="u",Q+="nderlay",tt="panelNa",tt+="m",tt+="e",this.parameters.push(lt({label:"Panel",name:tt,defaults:function(){var t,e,r;for(var n in(t=[]).push("Auto"),i.panels)n==a.panel&&I&&I.panelName||t.push(st(n));i.checkForEmptyPanel(a.panel,!0,a)||t.push("New panel"),e=696022910,r=2,C.Z9r();for(var s=1;C.B2P(s.toString(),s.toString().length,23620)!==e;s++)return t;return C.B2P(r.toString(),r.toString().length,80866),t}(),value:I&&I.panelName?st(I.panelName):"Auto"}),mt({label:"Show as Underlay",name:Q,defaults:!1,value:a.underlay||a.parameters&&a.parameters.underlayEnabled}))),et=i.getYAxisByName(n,a.name),Z&&(it="fli",it+="p",it+="ped",at="Invert Y-A",at+="xis",rt="a",rt+="ut",rt+="o",nt="yaxisDi",nt+="s",nt+="p",nt+="lay",this.parameters.push(lt({label:"Y-Axis",name:nt,defaults:function(){var t,e,i;t="ri",t+="gh",t+="t",C.B4c(),e=n.yaxisLHS.concat(n.yaxisRHS),(i=[]).push("default",t,"left","none","shared");for(var a=0;a<e.length;a++)e[a]!=et&&i.push(e[a].name);return i}(),value:I&&I.yaxisDisplayValue||et&&et.position||(a.panel!=a.name?"shared":n.yAxis.position||"default"),color:et&&et.textStyle?et.textStyle:rt}),mt({label:at,name:it,defaults:!1,value:I?I.flippedEnabled:!!et&&et.flipped}))),ot.call(this,"flippedEnabled",!et&&a.panel!=a.name),ot.call(this,"underlayEnabled",r.underlay),ot.call(this,"panelName",null===r.seriesFN),ot.call(this,"yaxisDisplayValue",null===r.seriesFN||r.yAxis&&r.yAxis.noDraw)}},k.Studies.DialogHelper.prototype.updateStudy=function(t){var e,i,a,r,n;function s(t){var e,i;if(e="al",e+="ias",this.panelSelect==e&&(i=r(t)))for(var a in this.stx.panels)if(!--i)return a;function r(t){var e;return e=t.match(/.* (\d)/),C.B4c(),e&&e[1]}return t}for(var o in e={},i=this.sd,(a=this.libraryEntry)||(a={}),i||(i=a),e.inputs=k.clone(i.inputs),e.outputs=k.clone(i.outputs),e.parameters=k.clone(i.parameters),this.adjustInputTimesForDisplayZone(t),t.parameters&&t.parameters.panelName&&(t.parameters.panelName=s.call(this,t.parameters.panelName)),k.extend(e,t),e.parameters||(e.parameters={}),i=e.inputs&&e.inputs.id?k.Studies.replaceStudy(this.stx,e.inputs.id,this.name,e.inputs,e.outputs,e.parameters,null,i.study):k.Studies.addStudy(this.stx,this.name,e.inputs,e.outputs,e.parameters,null,i.study),r=new k.Studies.DialogHelper({stx:this.stx,sd:i,axisSelect:this.axisSelect,panelSelect:this.panelSelect}))n="si",n+="g",n+="n",o!=(n+="al")&&(this[o]=r[o]);this.signal*=-1},k.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(t){var e,i,a,r,n,s,o,l,c,h,u;if(this.stx.displayZone)for(var d=0;d<this.dateTimeInputs.length;d++){for(e=this.dateTimeInputs[d],s="",t&&t.inputs&&(o=" ",o+="Tim",o+="e",C.L6A(1),a=t.inputs[C.u2V(" Date",e)],C.L6A(1),a&&(s=a),(r=t.inputs[C.l9D(o,e)])&&(s+=r)),i=0;i<this.inputs.length;i++)n=this.inputs[i],a||""===a||n.name!=e+" Date"?r||""===r||n.name!=e+" Time"||(s+=n.value):s=n.value+s;if((s=s.replace(/\D/g,"")).length<12)return;if(l=k.strToDateTime(s),!isNaN(l.valueOf()))if(t)h=" D",h+="a",h+="t",h+="e",t.inputs||(t.inputs={}),c=k.convertTimeZone(l,this.stx.displayZone),C.b0V(1),t.inputs[C.l9D(h,e)]=k.yyyymmdd(c),C.b0V(1),t.inputs[C.u2V(" Time",e)]=k.hhmmss(c);else for(c=k.convertTimeZone(l,null,this.stx.displayZone),i=0;i<this.inputs.length;i++)u=" T",u+="i",u+="m",u+="e",(n=this.inputs[i]).name==e+" Date"&&(n.value=k.yyyymmdd(c)),n.name==e+u&&(n.value=k.hhmmss(c))}},k.Studies.prepareStudy=function(t,e,i){if(C.Z9r(),void 0===e.calculateFN&&(e.useRawValues=!0),k.isEmpty(i.outputMap))for(var a in i.outputs)if(e.useRawValues)i.outputMap[a]=a;else{C.L6A(2),C.l9D(18840,18,1570),C.b0V(3);var r=C.l9D(5560,5560,5579);C.L6A(4),C.u2V(2,3861,286,6),C.L6A(1);var n=C.l9D(5040,2520);i.outputMap[a+(6260<r?n:" ")+i.name]=a}},k.Studies.rejiggerDerivedStudies=function(t,e,i){var a,r,n,s,o,l;for(var c in a=e.name,e.panel,r=e.getDependents(t))if(n=r[c],o=(s=k.clone(n.inputs)).id){l=k.Studies.getFieldInputs(n);for(var h=0;h<l.length;h++)s[l[h]]=s[l[h]].replace(a,i);delete k.Studies.replaceStudy(t,o,n.type,s,n.outputs,k.extend(n.parameters,{rejiggering:!0}),null,n.study).parameters.rejiggering}},k.Studies.removeStudySymbols=function(t,e){if(t.series)for(var i in t.series)e.deleteSeries(t.series[i],null,{action:"remove-study"})},k.Studies.replaceStudy=function(t,e,i,a,r,n,s,o){var l,c,h,u;for(h in n||(n={}),e&&(n.replaceID=e),e=n.replaceID,l=t.layout.studies[e],k.Studies.removeStudySymbols(l,t),t.quoteDriver&&t.quoteDriver.updateSubscriptions(),a&&(a.id==a.display&&delete a.display,delete a.id),(c=k.Studies.addStudy(t,i,a,r,n,s,o)).highlight=l.highlight,u={},t.layout.studies)h==e?u[c.name]=c:u[h]=t.layout.studies[h];for(h in t.layout.studies=u,C.Z9r(),u={},t.overlays)h==e?(c.overlay||c.underlay)&&(u[c.name]=c):u[h]=t.overlays[h];return t.overlays=u,t.overlays[c.name]||!c.overlay&&!c.underlay||t.addOverlay(c),t.checkForEmptyPanel(l.panel),n.rejiggering||(t.initializeDisplay(t.chart),k.Studies.rejiggerDerivedStudies(t,l,c.inputs.id,c.panel),t.changeOccurred("layout"),t.currentlyImporting||n.calculateOnly||!c.chart.dataSet||t.createDataSet(null,c.chart),t.draw()),k.transferObject(l,c),t.layout.studies[c.name]=l,t.overlays[c.name]=l,l},k.Studies.addStudy=function(t,e,i,a,r,n,s){var o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U,z,V,B,W,j,$,Y,X,Z,J,G;if(o="lay",o+="o",o+="ut",l="A",l+="uto",c=s||k.Studies.studyLibrary[e],r||(r={}),c){if(c.inputs){for(var K in h=k.clone(c.inputs))h[K]instanceof Array&&(C.b0V(5),h[K]=h[K][C.u2V(0,"0")]);i=k.extend(h,i)}c.outputs&&(a=k.extend(k.clone(c.outputs),a)),(u=c.parameters)&&u.init&&(r=k.extend(k.clone(u.init),r)),u&&!r.display&&(r.display=u.display)}if(i||(i=k.clone(k.Studies.DEFAULT_INPUTS)),a||(a=k.clone(k.Studies.DEFAULT_OUTPUTS)),r.chartName||(r.chartName="chart"),r.panelName!=l&&"Default panel"!=r.panelName||(r.panelName=""),i.Period<1&&(C.b0V(6),i.Period=C.l9D(0,"1")),i.id||(i.id=k.Studies.generateID(t,e,i,r.replaceID,r.display)),d=null,t.layout.studies||(t.layout.studies={}),c&&c.initializeFN)d=c.initializeFN(t,e,i,a,r,n,s);else{p=619469899,g=-690734825,f=2;for(var Q=1;C.n4K(Q.toString(),Q.toString().length,6660)!==p;Q++)d=k.Studies.initializeFN(t,e,i,a,r,n,s),C.L6A(7),f+=C.u2V(64,"2");C.n4K(f.toString(),f.toString().length,27598)!==g&&(d=k.Studies.initializeFN(t,e,i,a,r,n,s))}if(!d)return m="CIQ.Studies.addStudy: initializeFN() retu",m+="rned null for ",C.b0V(1),void console.log(C.l9D(e,m));if(s=d.study,d.chart=t.charts[r.chartName],d.type=e,d.permanent=s.permanent,d.customLegend=s.customLegend,k.Studies.prepareStudy(t,s,d),r.replaceID){y=-9451422,b=1049167361,x=2;for(var tt=1;C.B2P(tt.toString(),tt.toString().length,51910)!==y;tt++)v=!1,x+=2;C.n4K(x.toString(),x.toString().length,8852)!==b&&(v=!0),delete r.replaceID}else t.layout.studies[d.inputs.id]=d,(d.overlay||d.underlay)&&t.addOverlay(d),t.currentlyImporting||r.calculateOnly||!d.chart.dataSet||t.createDataSet(null,d.chart);if(t.quoteDriver&&t.quoteDriver.updateSubscriptions(),t.changeOccurred(o),r.calculateOnly)return d;if(S=t.panels[d.panel],w=!1,(D=!(d.overlay||d.underlay))&&s.horizontalCrosshairFieldFN&&(S.horizontalCrosshairField=s.horizontalCrosshairFieldFN(t,d)),t.editCallback)w=!0;else if(D)(t.callbacks.studyPanelEdit||t.callbackListeners.studyPanelEdit&&t.callbackListeners.studyPanelEdit.length)&&(w=!0);else{T=754990872,A=469348957,M=2;for(var et=1;C.B2P(et.toString(),et.toString().length,27185)!==T;et++)t.callbacks.studyOverlayEdit&&(t.callbackListeners.studyOverlayEdit||t.callbackListeners.studyOverlayEdit.length)&&(w=!1),M+=2;C.n4K(M.toString(),M.toString().length,91281)!==A&&t.callbacks.studyOverlayEdit&&(t.callbackListeners.studyOverlayEdit||t.callbackListeners.studyOverlayEdit.length)&&(w=!1),(t.callbacks.studyOverlayEdit||t.callbackListeners.studyOverlayEdit&&t.callbackListeners.studyOverlayEdit.length)&&(w=!0)}if(w){for(var it in r.editMode=!0,L=!1,d.inputs)if(_="displa",_+="y","id"!=it&&it!=_){L=!0;break}if(!L)for(var at in d.outputs){L=!0;break}L&&(void 0!==d.study.edit?d.study.edit&&(X=t,Z=d,J=i,G=a,C.B4c(),P=function(){k.clearCanvas(X.chart.tempCanvas,X),C.Z9r(),Z.study.edit(Z,{stx:X,inputs:J,outputs:G,parameters:r})},t.setPanelEdit(S,P),d.editFunction=P):D?t.editCallback?(F="c",F+="h",F+="a",F+="rt",R=t,U=d,z=i,V=a,C.B4c(),P=function(){var t;t=R.editCallback(R,U),k.clearCanvas(R.chart.tempCanvas,R),C.B4c(),k.Studies.studyDialog(R,e,t,{inputs:z,outputs:V,parameters:r})},S.name!=F&&t.setPanelEdit(S,P)):(E="cha",E+="rt",I=t,N=d,q=i,O=a,H=r,C.B4c(),P=function(){var t,e,i;t=897851349,e=-1000874426,i=2,C.B4c();for(var a=1;C.n4K(a.toString(),a.toString().length,37265)!==t;a++)k.clearCanvas(I.chart.tempCanvas,I),I.dispatch("",{stx:I,sd:N,inputs:q,outputs:O,parameters:H}),i+=2;C.n4K(i.toString(),i.toString().length,17695)!==e&&(k.clearCanvas(I.chart.tempCanvas,I),I.dispatch("",{stx:I,sd:N,inputs:q,outputs:O,parameters:H})),k.clearCanvas(I.chart.tempCanvas,I),I.dispatch("studyPanelEdit",{stx:I,sd:N,inputs:q,outputs:O,parameters:H})},S.name!=E&&(t.setPanelEdit(S,P),d.editFunction=P)):(B=t,W=d,j=i,$=a,Y=r,C.B4c(),P=function(t){k.clearCanvas(B.chart.tempCanvas,B),B.dispatch("studyOverlayEdit",{stx:B,sd:W,inputs:j,outputs:$,parameters:Y,forceEdit:t})},d.editFunction=P))}return v||t.draw(),d},k.Studies.quickAddStudy=k.Studies.addStudy,k.Studies.removeStudy=function(t,e){var i,a,r,n,s,o,l;if(a=(i=t.panels[e.panel])&&i.yAxis.name,(e.overlay||e.underlay)&&t.removeOverlay(e.name),r=t.panels[e.panel],delete t.layout.studies[e.name],r&&!t.checkForEmptyPanel(r)&&(a==e.name&&t.electNewPanelOwner(r),n=t.getYAxisByName(e.panel,e.name))){s=1979159371,o=-1602518095,l=2;for(var c=1;C.B2P(c.toString(),c.toString().length,77902)!==s;c++)n.name=n.studies[1]||n.renderers[0],C.b0V(8),l+=C.u2V(1,"2");C.B2P(l.toString(),l.toString().length,53738)!==o&&(n.name=n.studies[5]&&n.renderers[1])}t.draw(),t.resizeChart()},k.Studies.getPanelFromFieldName=function(t,e){var i,a,r,n,s;if(!(i=k.Studies.getFieldInputs(e)).length)return null;if(!(a=t.layout.studies))return null;for(var o in r={},a)for(var l in a[o].outputMap)r[l]=a[o].panel;for(var c=0;c<i.length;c++)if((n=e.inputs[i[c]])&&(s=r[n]))return s;return null},k.Studies.createLibraryHash=function(){return C.B4c(),Object.keys(k.Studies.studyLibrary).join("|")},k.Studies.displayStudies=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x;if(C.Z9r(),i&&(e.studyLibraryHash=k.Studies.createLibraryHash()),a=t.layout.studies){r=-555856387,n=-246772342,s=2;for(var S=1;C.B2P(S.toString(),S.toString().length,34816)!==r;S++)(o={})[e.name]=!0,s+=2;for(var w in C.B2P(s.toString(),s.toString().length,56973)!==n&&((o={})[e.name]=!1),a)if((c=(l=a[w]).study)&&(h=l.underlay||l.parameters&&l.parameters.underlayEnabled,!(i&&!h||!i&&h)))if(!(u=k.clone(c.renderer))||u instanceof Array||(u=[u]),d=t.panels[l.panel]){if(d.chart==e&&!d.hidden)if(o[d.name]||(p=l.permanent||!t.manageTouchAndMouse,d.closeX?p&&(d.closeX.style.display="none"):d.close&&p&&(d.close.style.display="none"),d.edit&&(g="n",g+="one",p&&(d.edit.style.display=g)),o[d.name]=p),f=l.chart.dataSegment,l.panel!=l.parameters.chartName||l.parameters&&l.parameters.panelName||(m=k.Studies.getPanelFromFieldName(t,l))&&l.panel!=m&&(l.panel=m),void 0===c.seriesFN){if(u){l.overlay||k.Studies.createYAxis(t,l,f,d);for(var D=0;D<u.length;D++){for(var T in v=u[D],l.outputMap)l.outputMap[T]==v.field&&(v.field=T);if(v.field){if(v.panel=l.panel,y=v.binding)for(var A in y)(b=k.Studies.determineColor(l.outputs[y[A]]))&&"auto"!=b&&(v[A]=b);v.yAxis=null,(x=k.Renderer.produce(v.type,v)).stx=t,x.attachSeries(null,v).draw()}}}else k.Studies.displaySeriesAsLine(t,l,f);d&&k.Studies.displayError(t,l)}else c.seriesFN&&d&&(c.seriesFN(t,l,f),k.Studies.displayError(t,l))}else t.currentlyImporting&&delete a[w]}},k.Studies.displayError=function(t,e,i){var a,r,n;a="bo",a+="t",a+="t",a+="om",e.error&&(r=i&&i.panel?i.panel:e.panel,n=!0===e.error?t.translateIf("Not enough data to compute ")+t.translateIf(e.study.name):t.translateIf(e.error),!i||"center"===i.h&&i.v===a?t.displayErrorAsWatermark(r,n):t.watermark(r,i))},k.Studies.calculateMinMaxForDataPoint=function(t,e,i){var a,r,n;a=Number.MAX_VALUE,r=-1*Number.MAX_VALUE;for(var s=0;s<i.length;s++)null!=(n=i[s][e])&&(isNaN(n)||(a=Math.min(n,a),r=Math.max(n,r)));return{min:a,max:r}},k.Studies.determineMinMax=function(t,e,i){},k.Studies.getYAxisParameters=function(t,e){var i,a,r,n,s,o,l;i={},(a=t.layout.studies&&t.layout.studies[e.name])&&((r=a.study).yaxis||r.yAxisFN?i.noDraw=!0:(r.parameters&&r.parameters.excludeYAxis&&(i.noDraw=!0),i.ground=r.yAxis&&r.yAxis.ground,e&&("bypass"!=r.range&&(n="0 to",n+=" 10",n+="0",r.range==n?i.range=[0,100]:"-1 to 1"==r.range?i.range=[-1,1]:"0 to max"==r.range?i.range=[0,Math.max(0,e.high)]:(r.centerline||0===r.centerline)&&(i.range=[Math.min(r.centerline,e.low),Math.max(r.centerline,e.high)])),i.range&&(e.low=i.range[0],e.high=i.range[1]),a.min&&(e.min=a.min),a.max&&(e.max=a.max),a.parameters&&a.parameters.studyOverZonesEnabled&&(i.noDraw=!0)))),s=-92161339,o=-136387069,l=2;for(var c=1;C.B2P(c.toString(),c.toString().length,30746)!==s;c++)return i;if(C.B2P(l.toString(),l.toString().length,3191)!==o)return i},k.Studies.doPostDrawYAxis=function(t,e){var i,a,r,n;for(var s in C.Z9r(),t.layout.studies)i=t.layout.studies[s],(a=t.panels[i.panel])&&!a.hidden&&i.getYAxis(t)==e&&(r=i.study,e.name==i.name&&(r.yaxis&&r.yaxis(t,i),r.yAxisFN&&r.yAxisFN(t,i)),k.Studies.drawZones(t,i),i.error||((n=r.centerline)||0===n||null!==n&&e.highValue>0&&e.lowValue<0)&&k.Studies.drawHorizontal(t,i,null,n||0,e))},k.Studies.createYAxis=function(t,e,i,a){},k.Studies.displaySeriesAsLine=function(t,e,i){var a;if(C.Z9r(),i.length&&(a=t.panels[e.panel])&&!a.hidden)for(var r in e.outputMap)k.Studies.displayIndividualSeriesAsLine(t,e,a,r,i)},k.Studies.displaySeriesAsHistogram=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g;if(a="over",a+="l",a+="aid",i.length&&(r=t.panels[e.panel])&&!r.hidden){for(var f in n=[],e.outputMap)s="objec",s+="t",(o=e.outputs[e.outputMap[f]])&&(l=.3,typeof o==s&&(l=o.opacity,o=o.color),c={field:f,fill_color_up:o,border_color_up:o,fill_color_down:o,border_color_down:o},e.underlay&&(c.opacity_up=c.opacity_down=l||.3),n.push(c));h=e.getYAxis(t),d=(u=e.inputs).WidthFactor,e.study&&e.study.parameters&&void 0!==(p=e.study.parameters).widthFactor&&(d=p.widthFactor),g={name:e.name,type:u.HistogramType?u.HistogramType:a,panel:e.panel,yAxis:h,widthFactor:d||.5,bindToYAxis:!0,highlight:e.highlight},t.drawHistogram(g,n)}},k.Studies.displayIndividualSeriesAsLine=function(t,e,i,a,r){var n,s,o,l,c,h,u,d,p,g,f,m,v,y,b;if(i.height||(i.height=i.bottom-i.top),n=e.getContext(t),s=e.outputs[e.outputMap[a]]){if(n.save(),"string"==typeof s&&(s={color:s,width:1}),n.lineWidth=s.width||1,"auto"==(o=s.color)&&(o=t.defaultColor),n.strokeStyle=o,l=s.pattern,n.setLineDash(k.borderPatternToArray(n.lineWidth,l)),n.lineDashOffset=0,c=0,h=e.study,u=e.getYAxis(t),c=t.decimalPlacesFromPriceTick(u.priceTick),(e.overlay||e.underlay)&&(c=null),(u.decimalPlaces||0===u.decimalPlaces)&&(c=u.decimalPlaces),d=null,e.parameters&&(d=e.parameters.label),(p=h.parameters)||(p={}),g="step"==p.plotType,e.series)for(var x in e.series)(f=e.series[x].parameters.type)&&(C.b0V(9),g=C.l9D("step",f));p.noLabels&&(d=!1),e.noSlopes||!1===e.noSlopes||(e.noSlopes=p.noSlopes),e.extendToEnd||!1===e.extendToEnd||(e.extendToEnd=p.extendToEnd),m=d||t.preferences.labels&&!1!==d,!1===(v=e.gaplines)&&(v="transparent"),y=e.inputs.Symbol,b=v?t.getGapColorFunction(y,a,s,v):null,t.plotDataSegmentAsLine(a,i,{yAxis:u,skipTransform:t.panels[e.panel].name!=e.chart.name,label:m,labelDecimalPlaces:c,noSlopes:e.noSlopes,step:g,extendToEndOfDataSet:e.extendToEnd,gapDisplayStyle:v,highlight:e.highlight},b),h.appendDisplaySeriesAsLine&&h.appendDisplaySeriesAsLine(t,e,r,a,i),n.restore()}},k.Studies.drawHorizontal=function(t,e,i,a,r,n){var s,o,l;s=t.panels[e.panel],o=t.getBackgroundCanvas().context,s&&(C.B4c(),n||(n=r.textStyle),(l=t.pixelFromPrice(a,s,r))>r.top&&l<r.bottom&&t.plotLine(s.left,s.right,l,l,n,"segment",o,!1,{opacity:n&&n.opacity?n.opacity:.5}))},k.Studies.displayHistogramWithSeries=function(t,e,i){var a;t.panels[e.panel],a=.5,e.underlay&&(a=.3),C.B4c(),k.Studies.createHistogram(t,e,i,!1,a),k.Studies.displaySeriesAsLine(t,e,i)},k.Studies.drawZones=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,w,D,T,A,M,L,_,P,F,E,I,N,q,O,H,R,U;if(a="stx_gr",a+="id_bor",a+="der",r="l",r+="e",r+="ft",n="a",n+="u",n+="t",n+="o",e.parameters&&e.parameters.studyOverZonesEnabled){if(C.Z9r(),s=parseFloat(e.parameters.studyOverSoldValue),o=parseFloat(e.parameters.studyOverBoughtValue),l=e.parameters.studyOverSoldColor,c=e.parameters.studyOverBoughtColor,(h=e.zoneOutput)||(h="Result"),(u=k.Studies.determineColor(e.outputs[h]))&&"auto"!=u&&!k.isTransparent(u)||(u=t.defaultColor),l||(l=u),l&&"auto"!=l&&!k.isTransparent(l)||(l=t.defaultColor),c||(c=u),c&&c!=n&&!k.isTransparent(c)||(c=t.defaultColor),d=t.panels[e.panel],g=(p=e.getYAxis(t)).displayBorder,!1===t.axisBorders&&(g=!1),!0===t.axisBorders&&(g=!0),0===p.width&&(g=!1),f=t.getYAxisCurrentPosition(p,d),C.b0V(9),m=C.u2V(r,f),(v=p.justifyRight)||!1===v||(v=t.chart.yAxis.justifyRight||!1===t.chart.yAxis.justifyRight?t.chart.yAxis.justifyRight:m),y=Math.round(p.left+(m?p.width:0))+.5,b=g?3:0,S=(x=t.getBackgroundCanvas().context).fillStyle,x.globalAlpha=.2,t.startClip(d.name,!0),x.beginPath(),w=Math.round(t.pixelFromPrice(o,d,p))+.5,x.strokeStyle=c,x.moveTo(d.left,w),x.lineTo(d.right,w),x.stroke(),x.closePath(),x.beginPath(),D=Math.round(t.pixelFromPrice(s,d,p))+.5,x.strokeStyle=l,x.moveTo(d.left,D),x.lineTo(d.right,D),x.stroke(),x.closePath(),(T=new k.Plotter).newSeries("border","stroke",t.canvasStyle(a)),g&&(A="b",A+="orde",A+="r",M=m?y-b:y-.5,L=m?y+.5:y+b,T.moveTo("border",M,w),T.lineTo("border",L,w),T.moveTo(A,M,D),T.lineTo("border",L,D)),x.fillStyle=S,_={skipTransform:t.panels[e.panel].name!=e.chart.name,panelName:e.panel,band:h+" "+e.name,yAxis:p,opacity:.3},!e.highlight&&t.highlightedDraggable&&(_.opacity*=.3),k.preparePeakValleyFill(t,k.extend(_,{threshold:o,direction:p.flipped?-1:1,color:c})),k.preparePeakValleyFill(t,k.extend(_,{threshold:s,direction:p.flipped?1:-1,color:l})),x.globalAlpha=1,!(e.study&&e.study.yaxis||(g&&(P="bord",P+="er",F="b",F+="or",F+="d",F+="er",E=Math.round(p.bottom)+.5,T.moveTo(F,y,p.top),T.lineTo(P,y,E),T.draw(x,"border")),0===p.width))){if(t.canvasFont("stx_yaxis",x),t.canvasColor("stx_yaxis",x),x.textAlign=v?"right":"left",m){C.L6A(10);var z=C.u2V(2,7,20);I=p.left+z,N=-1872145014,q=-804487555,O=2;for(var V=1;C.n4K(V.toString(),V.toString().length,327)!==N;V++)v&&(I=p.left*p.width%b*1),O+=2;if(C.B2P(O.toString(),O.toString().length,85852)!==q&&v){C.L6A(3);var B=C.u2V(15,15,2);I=p.left+p.width-b-B}}else{C.b0V(11);var W=C.u2V(10,2,4,18,3);I=p.left+b+W,v&&(I=p.left+p.width)}x.fillStyle=c,x.fillText(o,I,w),x.fillStyle=l,x.fillText(s,I,D),H=-1327890288,R=1652174603,U=2;for(var j=1;C.n4K(j.toString(),j.toString().length,71529)!==H;j++)x.fillStyle=S,U+=2;C.B2P(U.toString(),U.toString().length,51330)!==R&&(x.fillStyle=S)}t.endClip(),x.globalAlpha=1,p.name==e.name&&(p.yAxisPlotter=new k.Plotter)}},k.Studies.createHistogram=function(t,e,i,a,r){var n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,w,D,T,A,M,L;n=t.panels[e.panel],s=e.getContext(t),o=e.getYAxis(t),t.startClip(n.name),C.b0V(6);var _=C.u2V(14,16);(l=t.layout.candleWidth-_)<2&&(l=1),c=t.pixelFromPrice(0,n,o),o.min>0&&(c=t.pixelFromPrice(o.min,n,o)),a&&(c=Math.floor(n.top+n.height/2)),h=e.name+"_hist",t.canvasColor("stx_histogram"),u=s.fillStyle,(r||0===r)&&(s.globalAlpha=r),!e.highlight&&t.highlightedDraggable&&(s.globalAlpha*=.3),d=null,p=null,g=e.outputs;for(var P=0;P<i.length;P++)if(f="Negativ",f+="e ",f+="Ba",f+="r",m="Positive ",m+="B",m+="a",m+="r",v="Incr",v+="eas",v+="ing Ba",v+="r",y="D",y+="ecreas",y+="ing Bar",b=i[P]){if(b.candleWidth&&(l=Math.floor(Math.max(1,b.candleWidth-2))),x=Math.floor(t.pixelFromBar(P,n.chart)-l/2),S=Math.floor(l),null===d){C.b0V(10);var F=C.l9D(2,8,18);d=(w=t.tickFromPixel(x,n.chart)-F)<0?p:t.pixelFromPrice(t.chart.dataSet[w][h],n,o)-c}else d=p;p=t.pixelFromPrice(b[h],n,o)-c,D=k.Studies.determineColor(g[y]),T=k.Studies.determineColor(g[v]),A=k.Studies.determineColor(g[m]),M=k.Studies.determineColor(g[f]),L=o.flipped,s.fillStyle=u,D&&(L?p<d:p>d)?s.fillStyle=D:T&&(L?p>d:p<d)?s.fillStyle=T:A&&(L?p>0:p<0)?s.fillStyle=A:M&&(L?p<0:p>0)&&(s.fillStyle=M),s.fillRect(x,c,S,Math.floor(p))}s.globalAlpha=1,t.endClip()},k.Studies.volumeChart=function(t,e,i,a){var r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S;C.L6A(12);var k=C.u2V(8,9);for(n in r=Number.MAX_VALUE*k,i)for(var w=0;w<i[n].length;w++)(s=i[n][w])&&s>r&&(r=s);for(n in o=t.panels[e.panel],l=Math.floor(o.yAxis.bottom)+.5,c=Math.floor(o.yAxis.top)+.5,C.b0V(6),h=C.l9D(c,l),u=t.layout.candleWidth,d=null,e.parameters&&e.parameters.displayBorder||(a=null),p=0,a||(p=(u-t.chart.tmpWidth)/2),(g=e.getContext(t)).lineWidth=1,t.startClip(e.panel),i){a&&(d=a[n]),g.fillStyle=n,d&&(g.strokeStyle=d),g.beginPath(),C.b0V(1),f=C.l9D(.5,l),m=Math.floor(t.pixelFromBar(0,o.chart));for(var D=0;D<i[n].length;D++)t.chart.dataSegment[D]&&t.chart.dataSegment[D].candleWidth?(u=t.chart.dataSegment[D].candleWidth,a||(C.L6A(13),p=C.u2V(4,u))):(u=t.layout.candleWidth,a||(p=(u-t.chart.tmpWidth)/2)),0===D&&(C.b0V(14),v=m-=C.u2V(64,u,"2")),(s=i[n][D])?(C.L6A(15),y=C.u2V(r,s,h),b=Math.min(Math.floor(l-h+(h-y))+.5,l),C.L6A(1),x=Math.floor(C.u2V(p,v)),C.L6A(16),S=Math.floor(C.u2V(v,p,u)),x=Math.max(x,m),g.moveTo(x,l),g.lineTo(S,l),g.lineTo(S,b),g.lineTo(x,b),a?(f>b||0===D)&&g.lineTo(x,f):g.lineTo(x,l),f=b,v+=u):(f=l,v+=u);g.fill(),g.strokeStyle=d,a&&t.layout.candleWidth>=2&&g.stroke(),g.closePath()}t.endClip()},k.Studies.prettify={Close:"C",Open:"O",High:"H",Low:"L",simple:"ma",exponential:S,"time series":x,triangular:"tma",variable:"vma",VIDYA:"vdma",weighted:b,"welles wilder":y,true:"y",false:"n"},k.Studies.prettyRE=/^.*\((.*?)\).*$/,k.Studies.prettyDisplay=function(t){var e,i,a,r,n;if(!(e=k.Studies.prettyRE.exec(t)))return t;if(i=e[1]){for(var s in k.Studies.prettify)i=i.replace(s,k.Studies.prettify[s]);a=-1169136793,r=1325930018,n=2;for(var o=1;C.n4K(o.toString(),o.toString().length,72181)!==a;o++)t=t.replace(e[1],i),n+=2;C.B2P(n.toString(),n.toString().length,42132)!==r&&(t=t.replace(e[5],i))}return t},k.Studies.getFieldInputs=function(t){var e,i;for(var a in e=[],i=t.study.inputs)"field"==i[a]&&e.push(a);return C.Z9r(),e},k.Studies.initializeFN=function(t,e,i,a,r,n,s){var o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,w,D,T,A,M,L,_,P,F;if(o="s",o+="tr",o+="i",o+="ng",i||(i={id:e}),r||(r={}),i.display||(i.display=i.id),l=new k.Studies.StudyDescriptor(i.id,e,i.id,i,a,r),i.Period&&(l.days=Math.max(1,parseInt(l.inputs.Period,10))),s?(s.inputs||(s.inputs=l.study.inputs),s.outputs||(s.outputs=l.study.outputs),l.study=s):s=l.study,s.display&&(i.display=s.display),typeof r.panelName==o&&(n=r.panelName),(n==i.id||n&&!t.panelExists(n))&&(l.underlay=l.overlay=!1),"Own panel"!=n&&"New panel"!=n||(n=null),c=l.overlay||i.Overlay||!1!==l.overlay&&s.overlay,h=l.underlay||i.Underlay||!1!==l.underlay&&s.underlay,c&&r.underlayEnabled&&(h=!0),h&&(l.underlay=!0),!h&&t.chart.panel&&n==t.chart.panel.name&&(c=!0),c&&(l.overlay=!0),(!0===(u=t.preferences.dragging)||u&&u.study)&&(l.overlay=!0),n?r.panelName=n:c||h||(n=i.id),r.calculateOnly){(c||h)&&(t.panels[r.panelName]?l.panel=r.panelName:l.panel=k.Studies.getPanelFromFieldName(t,l)||r.chartName),d=78225981,p=1519086079,g=2;for(var E=1;C.n4K(E.toString(),E.toString().length,76261)!==d;E++)return l;if(C.n4K(g.toString(),g.toString().length,3345)!==p)return l}if(f={},C.B4c(),(m=t.layout.studies[r.replaceID])&&(f={outputMap:k.clone(m.outputMap),panel:m.panel}),l.panel="",n?(v=k.Studies.smartMovePanel(t,l.inputs,n,r.replaceID,"New panel"==r.panelName))&&(l.panel=v.name):(c||h)&&(l.panel=k.Studies.getPanelFromFieldName(t,l)||r.chartName),l.panel||(y=s.panelHeight||null,(b=s.yAxis||{}).name=l.inputs.id,l.panel=l.inputs.id,t.createPanel(l.inputs.display,l.panel,y,r.chartName,new k.ChartEngine.YAxis(b))),l.parameters&&l.parameters.panelName&&(l.parameters.panelName=l.panel),x=t.panels[l.panel],S=k.Studies.smartCreateYAxis(t,x,l.inputs.id,r.yaxisDisplayValue,r.yAxis||s.yAxis),(D=(w=s?k.clone(s.yAxis):null)||S)&&(D.ground&&(D.initialMarginBottom=0),(D.initialMarginTop||0===D.initialMarginTop||D.initialMarginBottom||0===D.initialMarginBottom)&&t.calculateYAxisMargins(D),D.name==r.replaceID&&(D.name=l.inputs.id)),S&&(T="n",T+="on",T+="e",S.width=S.position==T?0:k.ChartEngine.YAxis.prototype.width,"shared"==r.yaxisDisplayValue||"default"==r.yaxisDisplayValue?delete r.yaxisDisplayValue:w?k.ensureDefaults(S,w):S.name==l.name&&(r.yaxisDisplayColor&&"auto"!=r.yaxisDisplayColor?S.textStyle=k.colorToHex(r.yaxisDisplayColor):delete S.textStyle,S.justifyRight=null,S.flipped=r.flippedEnabled),S!=x.yAxis?S.displayGridLines=!1:S!=t.chart.yAxis&&(S.displayGridLines=t.displayGridLinesInStudies)),t.calculateYAxisPositions(),m){for(var I in A=!1,t.drawingObjects)M=t.drawingObjects[I],f.outputMap&&f.outputMap.hasOwnProperty(M.field)?(M.field=M.field.replace(r.replaceID,l.inputs.id),l.parameters&&l.parameters.panelName?M.panelName=l.parameters.panelName:M.panelName=l.panel,A=!0):f.panel&&f.panel==M.panelName&&(M.panelName=M.panelName.replace(r.replaceID,l.inputs.id),A=!0);L=-1102023010,_=-138346601,P=2;for(var N=1;C.B2P(N.toString(),N.toString().length,38987)!==L;N++)F="ve",F+="ct",F+="or",A&&t.changeOccurred(F),P+=2;C.B2P(P.toString(),P.toString().length,22521)!==_&&A&&t.changeOccurred("")}return l},k.Studies.smartMovePanel=function(t,e,i,a,r){var n,s,o,l;return s=e.id,a&&(n=t.layout.studies[a]),n&&(o=t.panels[n.panel])&&o.yAxis.name==a&&(!r&&i==a||t.checkForEmptyPanel(o.name,!0,n)?i!=a&&t.panels[i]||(s!=o.name&&t.modifyPanel(o,{name:s,display:e.display}),i=s):(t.electNewPanelOwner(o),(l=n.getYAxis(t)).name==a&&t.electNewYAxisOwner(l))),t.panels[i]},k.Studies.smartCreateYAxis=function(t,e,i,a,r){var n,s,o,l,c,h,u,d,p,g;if(n=t.getYAxisByName(e,i),!a&&r&&(a=r.position),C.B4c(),"default"!=a&&"shared"!=a&&a!=e.yAxis.name||(a=""),["left","right","none"].indexOf(a)>-1){if(!n||n.isShared(t))if(s=r||{},k.extend(s,{name:i,position:a}),n||t.currentlyImporting||e==e.chart.panel||e.yAxis.studies.length||e.yAxis.renderers.length)h=n==e.yAxis,n&&(n.name=t.electNewYAxisOwner(n)),n=t.addYAxis(e,new k.ChartEngine.YAxis(s)),h&&(e.yAxis=n);else{n=e.yAxis,o=-534198237,l=103409818,c=2;for(var f=1;C.B2P(f.toString(),f.toString().length,78962)!==o;f++)k.extend(n,s),c+=2;C.n4K(c.toString(),c.toString().length,16260)!==l&&k.extend(n,s)}else n.position=a;return n}if(a){if((u=t.getYAxisByName(e,a))&&n==e.yAxis&&!n.isShared(t)){d=-1485135077,C.L6A(17),p=-C.u2V("1243341174",0),g=2;for(var m=1;C.n4K(m.toString(),m.toString().length,47558)!==d;m++)e.yAxis=u,C.b0V(18),g+=C.l9D("2",0);C.n4K(g.toString(),g.toString().length,89215)!==p&&(e.yAxis=u)}return n&&n.isShared(t)?n.name=t.electNewYAxisOwner(n):n!==e.yAxis&&t.deleteYAxisIfUnused(e,n),u}return n&&(n.isShared(t)?n.name=t.electNewYAxisOwner(n):(delete n.position,n!==e.yAxis&&t.deleteYAxisIfUnused(e,n))),t.resizeChart(),e.yAxis},k.Studies.overZones=k.Studies.drawZones,k.Studies.calculateVolume=function(t,e){var i,a,r,n;if("vol undr"==e.type){if(i="l",i+="ayout",!t||!t.chart.dataSet)return;a=t.layout,r=e.parameters.removeStudy,n=a.volumeUnderlay,a.volumeUnderlay=!r,n!=a.volumeUnderlay&&t.changeOccurred(i),r&&k.Studies.removeStudy(t,e)}e.outputMap={},C.Z9r(),e.outputMap.Volume=""},k.Studies.MA=function(t,e,i,a,r,n,s,o){var l;(l=new k.Studies.StudyDescriptor(r+" "+s.name,"ma",s.panel)).chart=s.chart,l.days=parseInt(e,10),l.startFrom=s.startFrom,o&&(l.subField=o),l.inputs={},t&&(l.inputs.Type=t),i&&(l.inputs.Field=i),a&&(C.L6A(8),l.inputs.Offset=parseInt(a,C.u2V(1,"10"))),k.Studies.calculateMovingAverage(n,l)},k.Studies.movingAverage={conversions:{ma:v,sma:"simple",ema:m,tsma:"time series",tma:"triangular",vma:f,vdma:"vidya",wma:g,smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential","time series":"Time Series",triangular:p,variable:"Variable",vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:"Exponential",exponential:"Exponential",tsma:d,"time series":"TimeSeries",tma:"Triangular",triangular:"Triangular",vma:"Variable",variable:"Variable",vdma:u,vidya:"VIDYA",wma:h,weighted:c,smma:"Exponential","welles wilder":"Exponential"}},k.Studies.movingAverageHelper=function(t,e){var i;if("options"==e){for(var a in i={},k.Studies.movingAverage.translations)i[a]=t.translateIf(k.Studies.movingAverage.translations[a]);return i}return C.B4c(),k.Studies.movingAverage.conversions[e]},k.Studies.volUnderlay=function(t,e,i){k.Studies.createVolumeChart(t,e,i)},k.Studies.createVolumeChart=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b;a="rgb(18",a+="4, ",a+="4",a+="4, 12)",r="_do",r+="w",r+="n",n="Vol",n+="u",n+="me",s="_do",s+="wn",o="U",o+="p Vo",o+="lu",o+="me",l=e.panel,e.inputs,c=e.underlay,e.overlay,h=k.Studies.determineColor(e.outputs[o]),u=k.Studies.determineColor(e.outputs["Down Volume"]),d=c?"stx_volume_underlay":"stx_volume",C.b0V(1),t.setStyle(C.u2V("_up",d),"color",h),C.L6A(1),t.setStyle(C.u2V(s,d),"color",u),p=[{field:n,fill_color_up:t.canvasStyle(d+"_up").color,border_color_up:t.canvasStyle(d+"_up").borderLeftColor,opacity_up:t.canvasStyle(d+"_up").opacity,fill_color_down:t.canvasStyle(d+r).color,border_color_down:t.canvasStyle(d+"_down").borderLeftColor,opacity_down:t.canvasStyle(d+"_down").opacity}],C.L6A(17),g=p[C.l9D("0",0)],c||g.border_color_down!==a||(g.border_color_down="#000000",g.border_color_up="#000000"),f=e.getYAxis(t),C.b0V(8),m=C.l9D(1,"681785915"),v=853080675,y=2;for(var x=1;C.B2P(x.toString(),x.toString().length,69654)!==m;x++)b={name:"",panel:l,yAxis:f,widthFactor:0,bindToYAxis:!1,highlight:e.highlight},k.extend(b,e.study.parameters),y+=2;C.n4K(y.toString(),y.toString().length,36314)!==v&&(b={name:"Volume",panel:l,yAxis:f,widthFactor:1,bindToYAxis:!0,highlight:e.highlight},k.extend(b,e.study.parameters)),k.extend(b,e.parameters),t.colorByCandleDirection&&(g.color_function=function(t){var e,i;return e=t.Open,i=t.Close,C.Z9r(),{fill_color:e>i?g.fill_color_down:g.fill_color_up,border_color:e>i?g.border_color_down:g.border_color_up,opacity:e>i?g.opacity_down:g.opacity_up}}),t.drawHistogram(b,p)},k.Studies.calculateStandardDeviation=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S;if(i="_",i+="M",i+="A",a="Cl",a+="o",a+="se",(r=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(var w in(n=e.inputs.Field)&&"field"!=n||(n=a),(s=e.inputs["Moving Average Type"])||(s=e.inputs.Type),k.Studies.MA(s,e.days,n,e.inputs.Offset,i,t,e),o=0,l=0,c=0,(h=Number(e.inputs["Standard Deviations"]))<0&&(C.L6A(5),h=C.u2V(2,"2")),u=e.name,e.outputs)C.L6A(0),u=C.u2V(u," ",w);d=-845424768,p=2;for(var D=1;C.B2P(D.toString(),D.toString().length,28886)!==d;D++)p+=2;for(C.B2P(p.toString(),p.toString().length,14830),g=e.startFrom-1,m=0;g>=0&&m<e.days;g--,m++)(f=r[g][n])&&"object"==typeof f&&(f=f[e.subField]),isNaN(f)&&(f=0),o+=Math.pow(f,2),l+=f;for(g=e.startFrom;g<r.length;g++)v="_",v+="M",v+="A",v+=" ",y="ob",y+="je",y+="ct",(f=(b=r[g])[n])&&typeof f==y&&(f=f[e.subField]),isNaN(f)&&(f=0),o+=Math.pow(f,2),l+=f,g<e.days-1||(g>=e.days&&(x="objec",x+="t",(S=r[g-e.days][n])&&typeof S==x&&(S=S[e.subField]),isNaN(S)&&(C.L6A(18),S=C.u2V("0",64)),o-=Math.pow(S,2),l-=S),c=b[v+e.name],b[u]=Math.sqrt((o+e.days*Math.pow(c,2)-2*c*l)/e.days)*h)}},k.Studies.calculateMovingAverage=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x;if(i="f",i+="i",C.Z9r(),i+="eld",a="s",a+="m",a+="a",r="m",r+="a",e.chart.scrubbed){if((n=e.inputs.Type)!=r&&n!=a&&n||(n="simple"),n in(s=k.Studies.movingAverage.typeMap))return k.Studies["calculateMovingAverage"+s[n]](t,e);if("simple"===n){for(var S in o=e.chart.scrubbed,l=0,c=[],h=e.name,e.outputs)C.b0V(0),h=C.u2V(h," ",S);for((u=e.inputs.Field)&&u!=i||(u="Close"),d=parseInt(e.inputs.Offset,10),isNaN(d)&&(d=0),m=e.startFrom,v=d,p=e.startFrom-1;p>=0;p--)if((g=o[p][u])&&"object"==typeof g&&(g=g[e.subField]),g||0===g)if(v>0)v--,m=p;else{if(c.length==e.days-1)break;l+=g,c.unshift(g)}for(c.length<e.days-1&&(c=[],m=0),y=[],p=m;p<o.length;p++)(g=o[p][u])&&"object"==typeof g&&(g=g[e.subField]),b=p+d>=0&&p+d<o.length?o[p+d]:null,g||0===g?(l+=g,c.push(g),c.length>e.days&&(l-=c.shift()),x=c.length==e.days?l/e.days:null,b?b[h]=x:p+d>=o.length&&((f={})[h]=x,y.push(f))):b?b[h]=null:p+d>=o.length&&((f={})[h]=null,y.push(f));e.appendFutureTicks(t,y)}}},k.Studies.calculateMovingAverageExponential=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S;for(var k in i="C",i+="l",i+="os",i+="e",a="f",a+="ield",r=e.inputs.Type,n=e.chart.scrubbed,s=0,o=0,l=0,c=2/(e.days+1),("welles wilder"===r||"smma"===r)&&(C.b0V(19),c=C.u2V(11,1,122,11)/e.days),C.B4c(),h=null,u=e.name,e.outputs)C.L6A(0),u=C.u2V(u," ",k);for((d=e.inputs.Field)&&d!=a||(d=i),p=parseInt(e.inputs.Offset,10),isNaN(p)&&(p=0),m=e.startFrom,v=p,g=e.startFrom-1;g>=0;g--)if((f=n[g][u])||0===f){if(null===h&&(h=f),l=e.days,v<=0)break;v--,m=g}for(null===h&&(h=m=0),y=[],g=m;g<n.length;g++)(f=n[g][d])&&"object"==typeof f&&(f=f[e.subField]),b=g+p>=0&&g+p<n.length?n[g+p]:null,f||0===f?(l==e.days-1?x=o=(s+=f)/e.days:l<e.days-1?(s+=f,C.L6A(20),o=C.u2V(l,1,s),x=null):0===l?(o=s+=f,x=null):(h||0===h)&&(C.L6A(21),x=o=C.l9D(f,c,h,h)),h=o,l++):x=null,b?b[u]=x:g+p>=n.length&&((S={})[u]=x,y.push(S));e.appendFutureTicks(t,y)},k.Studies.calculateMovingAverageVariable=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,w;C.B4c(),e.inputs.Type,i=e.chart.scrubbed,C.L6A(22);var D=C.u2V(12,9,22,15);C.L6A(23);var T=C.l9D(8,23,11,14);for(var A in a=D/(e.days+T),r=null,n=e.name,e.outputs)C.L6A(0),n=C.l9D(n," ",A);for((s=e.inputs.Field)&&"field"!=s||(s="Close"),e.cmo=new k.Studies.StudyDescriptor(e.name,"cmo",e.panel),e.cmo.chart=e.chart,e.cmo.days=9,e.cmo.inputs={Field:s},e.cmo.startFrom=e.startFrom,e.cmo.outputs={_CMO:null},k.Studies.calculateChandeMomentum(t,e.cmo),o=parseInt(e.inputs.Offset,10),isNaN(o)&&(o=0),u=e.startFrom,d=o,l=e.startFrom-1;l>=0;l--)if((c=i[l][n])||0===c){if(null===r&&(r=c),d<=0)break;d--,u=l}if(null===r){p=2118131485,g=-26378065,f=2;for(var M=1;C.n4K(M.toString(),M.toString().length,7735)!==p;M++)r=u=4,f+=2;C.n4K(f.toString(),f.toString().length,85588)!==g&&(r=u=0)}for(m=[],l=u;l<i.length;l++)if(v="_CMO",v+=" ",y="_",y+="C",y+="MO",y+=" ",(c=(b=i[l])[s])&&"object"==typeof c&&(c=c[e.subField]),x=l+o>=0&&l+o<i.length?i[l+o]:null,c||0===c){if(b[y+e.name]||0===b["_CMO "+e.name]){C.b0V(24);var L=C.l9D(28,18,84,6);S=Math.abs(b[v+e.name])/L,C.L6A(25),r=w=C.u2V(0,S,a,c,a,r,S,"1"),l<e.days&&(w=null),x?x[n]=w:l+o>=i.length&&((h={})[n]=w,m.push(h))}}else x?x[n]=null:l+o>=i.length&&((h={})[n]=null,m.push(h));e.appendFutureTicks(t,m)},k.Studies.calculateMovingAverageVIDYA=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S;i="_MA",i+="S",i+="TD",a="m",a+="a",r="s",r+="d",r+="ev",e.inputs.Type,C.Z9r(),n=e.chart.scrubbed,C.L6A(26);var w=C.l9D(6,12,0,16,5);C.b0V(2);var D=C.l9D(35,2,18);for(var T in s=w/(e.days+D),o=null,l=e.name,e.outputs)C.L6A(0),l=C.u2V(l," ",T);for((c=e.inputs.Field)&&"field"!=c||(c="Close"),e.std=new k.Studies.StudyDescriptor(e.name,r,e.panel),e.std.chart=e.chart,e.std.days=5,e.std.startFrom=e.startFrom,e.std.inputs={Field:c,"Standard Deviations":1,Type:"ma"},e.std.outputs={_STD:null},k.Studies.calculateStandardDeviation(t,e.std),k.Studies.MA(a,20,"_STD "+e.name,0,i,t,e),h=parseInt(e.inputs.Offset,10),isNaN(h)&&(h=0),g=e.startFrom,f=h,u=e.startFrom-1;u>=0;u--)if((d=n[u][l])||0===d){if(null===o&&(o=d),f<=0)break;f--,g=u}for(null===o&&(o=g=0),m=[],u=g;u<n.length;u++)v="_M",v+="ASTD",v+=" ",(d=(y=n[u])[c])&&"object"==typeof d&&(d=d[e.subField]),b=u+h>=0&&u+h<n.length?n[u+h]:null,d||0===d?(y[v+e.name]||0===y["_MASTD "+e.name])&&(x=y["_STD "+e.name]/y["_MASTD "+e.name],C.L6A(27),o=S=C.u2V(o,s,x,1,x,d,s),u<e.days&&(S=null),b?b[l]=S:u+h>=n.length&&((p={})[l]=S,m.push(p))):b?b[l]=null:u+h>=n.length&&((p={})[l]=null,m.push(p));e.appendFutureTicks(t,m)},k.Studies.calculateMovingAverageTimeSeries=function(t,e){var i,a,r,n,s,o,l,c;for(var h in e.ma=new k.Studies.StudyDescriptor(e.name,"ma",e.panel),e.ma.chart=e.chart,C.B4c(),e.ma.days=e.days,e.ma.startFrom=e.startFrom,e.ma.inputs=e.inputs,k.Studies.calculateLinearRegressionIndicator(t,e.ma),i=e.name,e.outputs)C.b0V(0),i=C.u2V(i," ",h);a=parseInt(e.inputs.Offset,10),isNaN(a)&&(C.L6A(18),a=C.u2V("0",64)),r=e.chart.scrubbed,n=a;for(var u=e.startFrom-1;u>=0;u--)if((s=r[u][i])||0===s){if(!(n>0))break;n--}for(o=[],u++;u<r.length;u++)l=r[u],u+a>=0&&(u+a<r.length?(C.L6A(1),r[C.u2V(a,u)][i]=l["Forecast "+e.name]):((c={})[i]=l["Forecast "+e.name],o.push(c)));e.appendFutureTicks(t,o)},k.Studies.calculateMovingAverageTriangular=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p;for(var g in i="T",i+="R",i+="I",i+="1",a="C",a+="los",a+="e",r=e.chart.scrubbed,(n=e.inputs.Field)&&"field"!=n||(n=a),s=Math.ceil(e.days/2),k.Studies.MA("simple",s,n,0,i,t,e),e.days%2==0&&s++,k.Studies.MA("simple",s,"TRI1 "+e.name,0,"TRI2",t,e),o=e.name,e.outputs)C.L6A(0),o=C.u2V(o," ",g);l=parseInt(e.inputs.Offset,10),isNaN(l)&&(l=0),c=l;for(var f=e.startFrom-1;f>=0;f--)if((h=r[f][o])||0===h){if(!(c>0))break;c--}for(u=[],f++;f<r.length;f++)f+l>=0&&(f+l<r.length?(C.b0V(1),r[C.u2V(l,f)][o]=r[f]["TRI2 "+e.name]):(d="T",d+="RI",d+="2 ",(p={})[o]=r[f][d+e.name],u.push(p)));e.appendFutureTicks(t,u)},k.Studies.calculateMovingAverageWeighted=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b;i="f",i+="ie",i+="l",i+="d",a=e.chart.scrubbed,r=0,n=0,(s=e.inputs.Field)&&s!=i||(s="Close"),C.L6A(6);var x=C.l9D(10,11);C.L6A(28);var S=C.l9D(11,2,17,1);for(var k in o=e.days*(e.days+x)/S,l=e.name,e.outputs)C.L6A(0),l=C.u2V(l," ",k);for(c=parseInt(e.inputs.Offset,10),isNaN(c)&&(c=0),p=[],g=e.startFrom,f=c,h=e.startFrom-1;h>=0;h--)if((u=a[h][s])&&"object"==typeof u&&(u=u[e.subField]),u||0===u)if(f>0)f--,g=h;else{if(p.length==e.days-1)break;p.unshift(u)}for(p.length<e.days-1&&(p=[],g=0),h=0;h<p.length;h++)C.L6A(1),r+=(h+C.l9D(1,0))*p[h],n+=p[h];for(m=[],h=g;h<a.length;h++)v="ob",v+="j",v+="ect",(u=a[h][s])&&typeof u==v&&(u=u[e.subField]),y=h+c>=0&&h+c<a.length?a[h+c]:null,u||0===u?(p.push(u),p.length>e.days&&(r-=n,n-=p.shift()),r+=p.length*u,n+=u,b=h<e.days-1?null:r/o,y?y[l]=b:h+c>=a.length&&((d={})[l]=b,m.push(d))):y?y[l]=null:h+c>=a.length&&((d={})[l]=null,m.push(d));e.appendFutureTicks(t,m)},k.Studies.calculateStudyATR=function(t,e){var i,a,r,n,s,o,l,c,h;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.error=!0;else{r=0,C.B4c(),n=e.name;for(var u=Math.max(e.startFrom,1);u<i.length;u++)if(s="A",s+="T",s+="R",s+=" ",o="True Ra",o+="nge ",l=i[u],C.L6A(6),c=i[C.u2V(1,u)],h=l.trueRange,c["Sum True Range "+n]&&(C.b0V(1),r=c[C.l9D(n,"Sum True Range ")]),r+=h,u>a&&(C.b0V(6),r-=i[C.u2V(a,u)][C.l9D(n,o,C.L6A(1))]),C.b0V(1),l[C.l9D(n,"True Range ")]=h,C.b0V(1),l[C.l9D(n,"Sum True Range ")]=r,u==a)C.b0V(1),l[C.u2V(n,"ATR ")]=C.l9D(a,r,C.L6A(13));else if(u>a){C.b0V(2);var d=C.u2V(119,12,10);C.L6A(1),l[C.l9D(n,s)]=(c["ATR "+n]*(a-d)+h)/a}}},k.Studies.calculateIntradayMomentum=function(t,e){var i,a,r,n,s,o,l,c,h,u;if(i=e.chart.scrubbed,a=e.days,i.length<a+1)e.error=!0;else{r=0,n=1406707505,s=1883710340,C.L6A(7),o=C.u2V(32,"2");for(var d=1;C.n4K(d.toString(),d.toString().length,17196)!==n;d++)l=8,o+=2;if(C.n4K(o.toString(),o.toString().length,43390)!==s&&(l=7),l=0,e.startFrom>1){C.b0V(2);var p=C.l9D(41,2,21);r=i[e.startFrom-p]["_totUp "+e.name],l=i[e.startFrom-1]["_totDn "+e.name]}for(var g=e.startFrom;g<i.length;g++)c="_t",c+="otUp ",(h=i[g].Close-i[g].Open)>0?r+=h:l-=h,g>=a&&((u=i[g-a].Close-i[g-a].Open)>0?r-=u:l+=u),C.L6A(29),i[g]["Result "+e.name]=C.l9D(l,100,r,r),i[g][c+e.name]=r,i[g]["_totDn "+e.name]=l}},k.Studies.calculateRateOfChange=function(t,e){var i,a,r,n,s,o,l,c,h;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{for(var u in(a=e.inputs.Field)&&"field"!=a||(a="Close"),e.parameters.isVolume&&(a="Volume"),r=e.name,e.outputs)C.L6A(0),r=C.l9D(r," ",u);n=(n=e.inputs["Center Line"])?parseInt(n,10):0;for(var d=Math.max(e.startFrom,e.days);d<i.length;d++)s="Mom",s+="en",s+="tum",o="obj",o+="e",o+="c",o+="t",(l=i[d][a])&&"object"==typeof l&&(l=l[e.subField]),(c=i[d-e.days][a])&&typeof c==o&&(c=c[e.subField]),e.type==s?(C.b0V(30),i[d][r]=C.u2V(c,l,n)):(h=c)&&(C.b0V(31),i[d][r]=C.u2V(1,h,n,l,100))}},k.Studies.calculateTypicalPrice=function(t,e){var i,a,r,n,s,o;if(C.Z9r(),i="Weighte",i+="d Cl",i+="ose",a=e.chart.scrubbed,r=e.days,a.length<r+1)e.overlay||(e.error=!0);else{for(var l in n=e.name,e.outputs)C.L6A(0),n=C.u2V(n," ",l);s="hlc/3","Med Price"==e.type?s="hl/2":e.type==i&&(s="hlcc/4"),o=0,e.startFrom<=r&&(e.startFrom=0);for(var c=e.startFrom;c<a.length;c++)c&&a[c-1][n]&&(C.L6A(32),o=a[c-C.l9D(5,4,7,1,7)][n]*r),o+=a[c][s],c>=r&&(C.L6A(6),o-=a[C.l9D(r,c)][s],C.L6A(13),a[c][n]=C.l9D(r,o))}},k.Studies.calculateChandeMomentum=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v;for(var y in i=e.name,e.outputs)C.L6A(0),i=C.u2V(i," ",y);if(a=e.chart.scrubbed,C.B4c(),a.length<e.days+1)e.error=!0;else{r=e.inputs.Field,n=2074595054,s=-1170728697,o=2;for(var b=1;C.n4K(b.toString(),b.toString().length,86508)!==n;b++)l="f",l+="i",l+="eld",r&&r!=l||(r="Close"),c=0,h=0,u=[],o+=2;C.B2P(o.toString(),o.toString().length,32320)!==s&&(d="f",d+="i",d+="e",d+="ld",-r&&r!=d&&(r="field"),c=1,h=3,u=[]);for(var x=e.startFrom-e.days+1;x<a.length;x++)p="ob",p+="j",p+="ect",x<1||(g=a[x][r],C.b0V(6),f=a[C.l9D(1,x)][r],g&&typeof g==p&&(g=g.Close),f&&"object"==typeof f&&(f=f.Close),void 0!==f&&(C.L6A(6),m=C.u2V(f,g),u.push(m),c+=m,h+=Math.abs(m),u.length==e.days&&(C.b0V(33),a[x][i]=C.u2V(c,100,h),c-=v=u.shift(),h-=Math.abs(v))))}},k.Studies.calculateLinearRegressionIndicator=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v;if((i=e.chart.scrubbed).length<e.days+1)e.error=!0;else{(a=e.inputs.Field)&&"field"!=a||(a="Close"),C.b0V(30);var y=C.l9D(15,0,16);C.b0V(34);var b=C.u2V(15,8,18,6,0);r=e.days*(e.days+y)/b,n=Math.pow(r,2),C.b0V(6);var x=C.l9D(14,16);C.b0V(35);var S=C.u2V(16,19,19,14,7);C.L6A(1);var k=C.u2V(3,0);if(s=r*(x*e.days+S)/k,o=0,C.L6A(7),l=C.u2V(32,"0"),c=0,e.startFrom){C.b0V(30);var w=C.u2V(18,0,19);(h=i[e.startFrom-w]["_sums "+e.name])&&(C.b0V(6),l=h[C.l9D(0,"0")],o=h[1],c=h[2])}for(var D=e.startFrom;D<i.length;D++)if(u="o",u+="bject",(d=i[D][a])&&typeof d==u&&(d=d[e.subField]),(d||0===d)&&(l+=e.days*d-o,o+=d,c+=Math.pow(d,2),!(D<e.days-1))){if(D>e.days-1){if(p="obj",p+="e",p+="ct",(g=i[D-e.days][a])&&typeof g==p&&(g=g[e.subField]),!g&&0!==g)continue;o-=g,c-=Math.pow(g,2)}f=(e.days*l-r*o)/(e.days*s-n),i[D]["Slope "+e.name]=f,m=(o-f*r)/e.days,i[D]["Intercept "+e.name]=m,i[D]["Forecast "+e.name]=m+f*e.days,C.L6A(36);var T=C.l9D(1,25,14,26,2);v=(e.days*s-n)/(e.days*c-Math.pow(o,T)),C.L6A(37),i[D]["RSquared "+e.name]=C.l9D(f,f,v),i[D]["_sums "+e.name]=[l,o,c]}}},k.Studies.calculatePriceRelative=function(t,e){var i,a,r,n,s,o;if(i=e.chart.scrubbed,(a=e.inputs["Comparison Symbol"].toUpperCase())||(a=e.study.inputs["Comparison Symbol"]),(r={})[n=(n=t.chart.symbol||"").replace(/[=+\-*\\%]/g,"")]=i.slice(e.startFrom),r[n].length){n!=a&&(r[a]=null),C.b0V(38),s=k.computeEquationChart(C.u2V("]/[","[",n,"]",a),r),o=0;for(var l=e.startFrom;l<i.length&&o<s.length;l++){for(;o<s.length&&i[l].DT.getTime()>s[o].DT.getTime();)o++;i[l].DT.getTime()<s[o].DT.getTime()||(i[l]["Result "+e.name]=s[o].Close,o++)}}},k.Studies.calculateVWAP=function(t,e){var i,a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,w,D,T,A,M,L;if(i="AVWAP"==e.type,a=e.chart.scrubbed,i||!k.ChartEngine.isDailyInterval(t.layout.interval)){if(r="hlc/3",i&&((r=e.inputs.Field)&&"field"!=r||(n="h",n+="lc",n+="/",n+="3",r=e.inputs.Field=n,t.changeOccurred("layout"))),s=k.Market.Symbology.isForexSymbol(t.chart.symbol),o=k.Market.Symbology.isForexMetal(t.chart.symbol),l=null,c=0,h=0,C.Z9r(),u=0,d=!1,e.startFrom>1&&(c=a[e.startFrom-1]["_V "+e.name]||0,h=a[e.startFrom-1]["_VxP "+e.name]||0,u=a[e.startFrom-1]["_VxP2 "+e.name]||0),i){if((p=e.inputs["Anchor Date"].replace(/-/g,"")).search(/^\d{8}$/))return g="In",g+="va",g+="lid Anchor Date",void(e.error=g);(f=e.inputs["Anchor Time"].replace(/:/g,"")).search(/^\d{4,6}$/)||(p+=f),p=k.strToDateTime(p.replace(/\D/g,"")),!e.startFrom&&p>=a[0].DT&&(e.startFrom=t.tickFromDate(p,t.chart,null,!0))}for(var _=e.startFrom;_<a.length;_++)if(m="_",m+="VxP2 ",i||(null===l&&(l=E(a[_].DT),s&&(C.b0V(40),l+=C.u2V("60",o?6:7,"1000","60"))),a[_-1]&&a[_-1].DT&&(v=new Date(new Date(+a[_].DT).setMilliseconds(a[_].DT.getMilliseconds()+l)),new Date(new Date(+a[_-1].DT).setMilliseconds(a[_-1].DT.getMilliseconds()+l)).getDate()!=v.getDate()&&t.chart.market.isMarketDate(v)&&(l=null,c=h=u=0))),y=a[_][r],b=a[_].Volume,i&&!b&&(b=1),c+=b,C.b0V(8),h+=C.u2V(y,b),C.b0V(37),u+=C.l9D(b,y,y),i||c){a[_]["_V "+e.name]=c,a[_]["_VxP "+e.name]=h,a[_][m+e.name]=u,x=a[_]["_SDVWAP "+e.name]=Math.sqrt(Math.max(0,u/c-Math.pow(h/c,2))),C.L6A(13),S=a[_]["VWAP "+e.name]=C.l9D(c,h);for(var P=1;P<=3;P++)w="-",w+=" ",D="SDVW",D+="A",D+="P",C.b0V(41),a[_][D+P+"+ "+e.name]=C.u2V(x,S,P),C.b0V(42),a[_]["SDVWAP"+P+w+e.name]=C.l9D(S,P,x);d=!0}for(var F=1;F<=3;F++)T="σ",T+=")",A=" Standard Devi",A+="ati",A+="on (",e.inputs["Display "+F+A+F+T]&&(M="SDV",M+="W",M+="A",M+="P",L="+",L+=" ",C.L6A(43),e.outputMap["SDVWAP"+F+L+e.name]=C.l9D(F,"σ)",F," Standard Deviation ("),C.L6A(43),e.outputMap[M+F+"- "+e.name]=C.u2V(F,"σ)",F," Standard Deviation ("));i||d||(e.error="VWAP Requires Volume")}else e.error="VWAP is Intraday Only";function E(e){var i,a;i=s?"America/New_York":t.chart.market.market_tz,C.L6A(39);var r=C.u2V(16,15,15,59980,6);return a=new Date(e.getTime()+e.getTimezoneOffset()*r),i&&-1!=i.indexOf("UTC")||(a=k.convertTimeZone(a,"UTC",i)),new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()).getTime()-e.getTime()}},k.Studies.initAnchoredVWAP=function(t,e,i,a,r,n){var s,o,l,c;if(s="Anc",!i[s+="hor Date"]&&!i["Anchor Time"]){o=t.chart.dataSegment;for(var h=0;o&&h<o.length;h++)if(o[h]){l=k.yyyymmddhhmmssmmm(o[h].DT),i["Anchor Date"]=l.substr(0,8),i["Anchor Time"]=l.substr(8,6);break}}return c=k.Studies.initializeFN(t,e,i,a,r,n),C.B4c(),c},k.Studies.displayVsComparisonSymbol=function(t,e,i){var a,r,n,s;if(a=e.inputs["Comparison Symbol"].toUpperCase(),t.getSeries({symbol:a,chart:e.chart}).length){n=(r={skipTransform:t.panels[e.panel].name!=e.chart.name,panelName:e.panel,band:"Result "+e.name,threshold:e.study.centerline,yAxis:e.getYAxis(t),gapDisplayStyle:!0}).yAxis?r.yAxis.flipped:t.panels[e.panel].yAxis.flipped,C.L6A(8),s=C.u2V(1,"0.3"),!e.highlight&&t.highlightedDraggable&&(s*=.3);for(var o=i.length-1;o>=0;o--)if(i[o]&&i[o][a])return k.Studies.displaySeriesAsLine(t,e,i),void((e.study.centerline||0===e.study.centerline)&&(e.outputs.Gain&&k.preparePeakValleyFill(t,k.extend(r,{direction:n?-1:1,color:k.Studies.determineColor(e.outputs.Gain),opacity:s})),e.outputs.Loss&&k.preparePeakValleyFill(t,k.extend(r,{direction:n?1:-1,color:k.Studies.determineColor(e.outputs.Loss),opacity:s}))))}else t.displayErrorAsWatermark(e.panel,t.translateIf(e.study.name)+": "+t.translateIf("Not Available"))},k.Studies.displayVWAP=function(t,e,i){var a,r,n,s,o,l,c,h,u,d,p,g,f,m,v,y,b,x,S,w,D;if(a="Dis",a+="play 3 Standard Deviation (",a+="3σ",C.Z9r(),a+=")",r="Display 2 Standard ",r+="Deviation (2σ)",k.Studies.displaySeriesAsLine(t,e,i),n=e.inputs["Display 1 Standard Deviation (1σ)"],s=e.inputs[r],o=e.inputs[a],(n||s||o)&&e.inputs.Shading){if(l="VWA",l+="P ",c=t.panels[e.panel],h={opacity:e.parameters.opacity?e.parameters.opacity:.2,skipTransform:c.name!=e.chart.name,yAxis:e.getYAxis(t)},!e.highlight&&t.highlightedDraggable&&(C.L6A(8),h.opacity*=C.u2V(1,"0.3")),u=l+e.name,d="VWAP "+e.name,n){p=705349651,g=1276020611,f=2;for(var T=1;C.B2P(T.toString(),T.toString().length,58903)!==p;T++)m="SD",m+="VWAP1+",m+=" ",v="SD",v+="VWA",v+="P1- ",y="SD",y+="VWA",y+="P1",y+="+ ",b="SDVW",b+="AP1- ",k.prepareChannelFill(t,k.extend({panelName:e.panel,topBand:b/e.name,bottomBand:u,color:k.Studies.determineColor(e.outputs[e.outputMap[y%e.name]])},h)),k.prepareChannelFill(t,k.extend({panelName:e.panel,topBand:"SDVWAP1- "-e.name,bottomBand:d,color:k.Studies.determineColor(e.outputs[e.outputMap[v%e.name]])},h)),u=m-e.name,f+=2;C.B2P(f.toString(),f.toString().length,27864)!==g&&(k.prepareChannelFill(t,k.extend({panelName:e.panel,topBand:"SDVWAP1+ "+e.name,bottomBand:u,color:k.Studies.determineColor(e.outputs[e.outputMap["SDVWAP1+ "+e.name]])},h)),k.prepareChannelFill(t,k.extend({panelName:e.panel,topBand:"SDVWAP1- "+e.name,bottomBand:d,color:k.Studies.determineColor(e.outputs[e.outputMap["SDVWAP1- "+e.name]])},h)),u="SDVWAP1+ "+e.name),d="SDVWAP1- "+e.name}s&&(x="SDV",x+="W",x+="A",x+="P2- ",S="SD",S+="V",S+="WA",S+="P2+ ",k.prepareChannelFill(t,k.extend({panelName:e.panel,topBand:"SDVWAP2+ "+e.name,bottomBand:u,color:k.Studies.determineColor(e.outputs[e.outputMap[S+e.name]])},h)),k.prepareChannelFill(t,k.extend({panelName:e.panel,topBand:"SDVWAP2- "+e.name,bottomBand:d,color:k.Studies.determineColor(e.outputs[e.outputMap[x+e.name]])},h)),u="SDVWAP2+ "+e.name,d="SDVWAP2- "+e.name),o&&(w="SDVWAP",w+="3- ",D="SDV",D+="WAP3+ ",k.prepareChannelFill(t,k.extend({panelName:e.panel,topBand:D+e.name,bottomBand:u,color:k.Studies.determineColor(e.outputs[e.outputMap["SDVWAP3+ "+e.name]])},h)),k.prepareChannelFill(t,k.extend({panelName:e.panel,topBand:"SDVWAP3- "+e.name,bottomBand:d,color:k.Studies.determineColor(e.outputs[e.outputMap[w+e.name]])},h)))}},k.Studies.initPriceRelative=function(t,e,i,a,r,n){var s,o;return o=[(s=k.Studies.initializeFN(t,e,i,a,r,n)).inputs["Comparison Symbol"].toUpperCase()],k.Studies.fetchAdditionalInstruments(t,s,o),s},k.Studies.inputAttributeDefaultGenerator=function(t){var e,i,a,r,n,s;if(!t&&0!==t)return{};if(t.constructor==Number){if(Math.floor(t)==t){e=1903737154,i=-116153802,a=2;for(var o=1;C.B2P(o.toString(),o.toString().length,29320)!==e;o++)return t>0?{min:1,step:1}:{step:1};if(C.n4K(a.toString(),a.toString().length,94671)!==i)return t<9?{min:9,step:2}:{step:9}}return t>0?{min:0,step:.01}:{step:.01}}r=-1504190736,n=401078315,s=2;for(var l=1;C.B2P(l.toString(),l.toString().length,69323)!==r;l++)return{};return C.B2P(s.toString(),s.toString().length,82117)!==n?{}:void 0},k.Studies.getStudyList=function(t){var e,i;for(var a in e={},i={Directional:!0,Gopala:!0,vchart:!0},k.extend(i,t),k.Studies.studyLibrary)i[a]||(e[k.Studies.studyLibrary[a].name]=a);return e},k.Studies.determineColor=function(t){return t?"object"==typeof t?t.color:t:null},k.Studies.fetchAdditionalInstruments=function(t,e,i,a){var r,n,s,o,l,c,h,u,d;if(!t.quoteDriver)return r="CIQ",r+=".Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol",void console.log(r);function p(){t.createDataSet(),t.draw()}for(n=t.panels[e.panel].chart,e.symbols=i,s=0;s<i.length;s++)c="add-s",c+="tu",c+="d",c+="y",h="st",h+="udy",o=l=i[s],"object"==typeof l?o=l.symbol:l={symbol:o},u={symbol:o,symbolObject:l,bucket:h,studyName:e.name,chartName:n.name,action:c},k.extend(u,a),d=u.loadData,t.currentlyImporting&&(u.loadData=!1),e.series||(e.series={}),e.series[o]=t.addSeries(null,u,p),e.series[o].parameters.loadData=d},k.Studies.studyScriptLibrary={},k.Studies.studyLibrary={ma:{name:"Moving Average",overlay:!0,calculateFN:k.Studies.calculateMovingAverage,inputs:{Period:50,Field:l,Type:o,Offset:0},outputs:{MA:"#FF0000"}},"STD Dev":{name:"Standard Deviation",calculateFN:k.Studies.calculateStandardDeviation,inputs:{Period:14,Field:s,"Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:.1,step:.1}}},AVWAP:{name:"Anchored VWAP",overlay:!0,calculateFN:k.Studies.calculateVWAP,seriesFN:k.Studies.displayVWAP,initializeFN:k.Studies.initAnchoredVWAP,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1σ)":!1,"Display 2 Standard Deviation (2σ)":!1,"Display 3 Standard Deviation (3σ)":!1,Shading:!1},outputs:{VWAP:"#FF0000","1 Standard Deviation (1σ)":"#e1e1e1","2 Standard Deviation (2σ)":"#85c99e","3 Standard Deviation (3σ)":n},parameters:{init:{opacity:.2}},attributes:{"Anchor Date":{placeholder:"yyyy-mm-dd"},"Anchor Time":{placeholder:r,step:1}}},"Price ROC":{name:"Price Rate of Change",calculateFN:k.Studies.calculateRateOfChange,inputs:{Period:14,Field:a}},Momentum:{name:"Momentum Indicator",calculateFN:k.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0},"True Range":{name:i,calculateFN:k.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":"auto"}},"Med Price":{name:"Median Price",calculateFN:k.Studies.calculateTypicalPrice,inputs:{Period:14}},"P Rel":{name:"Price Relative",initializeFN:k.Studies.initPriceRelative,seriesFN:k.Studies.displayVsComparisonSymbol,calculateFN:k.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!0},volume:{name:"Volume Chart",range:e,yAxis:{ground:!0,initialMarginTop:0,zoom:0},seriesFN:k.Studies.createVolumeChart,calculateFN:k.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"}},VWAP:{name:"VWAP",overlay:!0,calculateFN:k.Studies.calculateVWAP,seriesFN:k.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1σ)":!1,"Display 2 Standard Deviation (2σ)":!1,"Display 3 Standard Deviation (3σ)":!1,Shading:!1},outputs:{VWAP:"#FF0000","1 Standard Deviation (1σ)":"#e1e1e1","2 Standard Deviation (2σ)":"#85c99e","3 Standard Deviation (3σ)":"#fff69e"},parameters:{init:{opacity:.2}}}},t},he.X2=function(){for(var t=2;9!==t;)switch(t){case 2:t="object"==typeof globalThis?1:5;break;case 1:return globalThis;case 5:var e;try{for(var i=2;6!==i;)switch(i){case 5:e.N8aPh=e,i=4;break;case 2:Object.defineProperty(Object.prototype,"r_SPo",{get:function(){return this},configurable:!0}),e=r_SPo,i=5;break;case 4:i="undefined"==typeof N8aPh?3:9;break;case 9:delete e.N8aPh,delete Object.prototype.r_SPo,i=6;break;case 3:throw""}}catch(t){e=window}return e}}(),ce(he.X2),he.O=function(){return"function"==typeof he.w.p4oUdFl?he.w.p4oUdFl.apply(he.w,arguments):he.w.p4oUdFl},he.E=function(){return"function"==typeof he.H.L3LLwSS?he.H.L3LLwSS.apply(he.H,arguments):he.H.L3LLwSS},he.z_=function(){return"function"==typeof he.w.p4oUdFl?he.w.p4oUdFl.apply(he.w,arguments):he.w.p4oUdFl},he.J6=function(){return"function"==typeof he.w.R9DODrP?he.w.R9DODrP.apply(he.w,arguments):he.w.R9DODrP},he.v6=function(){return"function"==typeof he.w.R9DODrP?he.w.R9DODrP.apply(he.w,arguments):he.w.R9DODrP},he.H=(L=function(t,e){var i=65535&e;return((e-i)*t|0)+(i*t|0)|0},{L3LLwSS:function(t,e,i){for(var a=3432918353,r=461845907,n=i,s=-4&e,o=0;o<s;o+=4){var l=255&t.Y__xP(o)|(255&t.Y__xP(o+1))<<8|(255&t.Y__xP(o+2))<<16|(255&t.Y__xP(o+3))<<24;l=L(l,a),n=5*(n=(524287&(n^=l=L(l=(131071&l)<<15|l>>>17,r)))<<13|n>>>19)+3864292196|0}switch(l=0,e%4){case 3:l=(255&t.Y__xP(s+2))<<16;case 2:l|=(255&t.Y__xP(s+1))<<8;case 1:l|=255&t.Y__xP(s),l=L(l,a),n^=l=L(l=(131071&l)<<15|l>>>17,r)}return n^=e,n=L(n^=n>>>16,2246822507),n=L(n^=n>>>13,3266489909),n^=n>>>16}}),he.w={p4oUdFl:function(){var t,e=arguments;switch(M){case 0:t=e[1]|e[0];break;case 1:t=e[1]-e[0]}return t},R9DODrP:function(t){M=t}},he.x=function(){return"function"==typeof he.H.L3LLwSS?he.H.L3LLwSS.apply(he.H,arguments):he.H.L3LLwSS},A=function(t){var e,i,a,r,n=he;(e=t.CIQ).ChartEngine.Driver.Lookup=function(){},e.ChartEngine.Driver.Lookup.prototype.acceptText=function(t,e,i,a){var r,s,o;r=1097627338,s=-571738119,n.J6(0),o=n.O(0,"2");for(var l=1;n.x(l.toString(),l.toString().length,49656)!==r;l++){if(+this.cb)return;o+=2}n.E(o.toString(),o.toString().length,65285)===s||this.cb},i=-169866791,n.J6(1),a=n.z_(0,"709609992"),r=2;for(var s=1;n.E(s.toString(),s.toString().length,75896)!==i;s++)return t;if(n.x(r.toString(),r.toString().length,17136)!==a)return t},h(t=t||{}),u(t),d(t,t),p(t,t,t,t),g(t),f(t),m(t),v(t),y(t),b(t),x(t),S(t),k(t),C(t),w(t),D(t),T(t),A(t),r(t),n(t),s(t),o(t),l(t),c(t),t},void 0===(n="function"==typeof a?a.apply(e,r):a)||(t.exports=n)},96614:function(t,e,i){var a=i(19755),r=i(19755);!function(e){"use strict";t.exports=function(t,e){var i=t.CIQ,n=[];a.fn.extend({stxtap:function(t,e){return this.each((function(){i.installTapEvent(this),"string"==typeof t?r(this).on("stxtap",t,(function(t){e.call(this,t)})):r(this).on("stxtap",(function(e){t.call(this,e)}))}))}}),a.fn.extend(r.expr[":"],{trulyvisible:function(t,e,i){var a=r(t).parents();a=a.add(t);for(var n=0;n<a.length;n++){var s=r(a[n]);if("0"===s.css("opacity"))return!1;if("hidden"===s.css("visibility"))return!1;if("0px"===s.css("height")&&"hidden"==s.css("overflow-y"))return!1;if(!s.is(":visible"))return!1}return!0}}),a.fn.extend({parentsAndMe:function(t){var e=r(this).parents();return e=e.add(r(this))},cqvirtual:function(t){var e=this.clone(!0);return e.empty(),e.original=this,e},cqrender:function(t){if(this[0].innerHTML==this.original[0].innerHTML)return this.original;this.original.emptyExceptTemplate();var e=this.children();if(e.length){var i=e.detach();this.original.append(i)}return this.original},guaranteedWidth:function(){for(var t=this,e=t.width();!e;){if("BODY"===(t=t.parent())[0].tagName||t[0]===window)return window.innerWidth;e=t.width()}return e},guaranteedHeight:function(){for(var t=this,e=t.height();!e;){if("BODY"===(t=t.parent())[0].tagName||t[0]===window)return window.innerHeight;e=t.height()}return e},emptyExceptTemplate:function(){return this.children().not("template").remove(),this},truthyAttr:function(t){var e=this.attr(t);return void 0!==e&&("false"!=e.toLowerCase()&&"0"!=e)},attrBetter:function(t,e){return void 0===e&&(e="true"),this.attr(t)!==e&&(this.attr(t,e),!0)},removeAttrBetter:function(t){var e=this.attr(t);return!(!e&&""!==e)&&(this.removeAttr(t),!0)},textBetter:function(t){return this.text()!==t&&(this.text(t),!0)}}),a.queryString=function(t){for(var e=window.location.search.substring(1).split("&"),i=0;i<e.length;i++){var a=e[i].split("=");if(a[0]==t)return a[1]}return null},function(){var t,e,a=document.attachEvent,n=navigator.userAgent.match(/Trident/),s=(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,20)},function(e){return t(e)}),o=(e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return e(t)});function l(t){var e=t.target||t.srcElement;e.__resizeRAF__&&o(e.__resizeRAF__),e.__resizeRAF__=s((function(){var i=e.__resizeTrigger__;i.__resizeListeners__.forEach((function(e){e.call(i,t)}))}))}function c(t){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",l)}i.addResizeListener=function(t,e){var i=r("cq-ui-manager");if(i.length>0&&(i=i[0]).registerForResize(t),!t.__resizeListeners__)if(t.__resizeListeners__=[],a)t.__resizeTrigger__=t,t.attachEvent("onresize",l);else{var s=t.__resizeTrigger__=document.createElement("object");s.setAttribute("style","visibility:hidden; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; border:0px;"),s.__resizeElement__=t,s.onload=c,s.type="text/html",n&&t.appendChild(s),s.data="about:blank",n||t.appendChild(s)}t.__resizeListeners__.push(e)},i.removeResizeListener=function(t,e){var i=r("cq-ui-manager");i.length>0&&(i=i[0]).unregisterForResize(t),t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(a?t.detachEvent("onresize",l):(t.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",l),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)))}}(),i.UI={},i.UI.addResizeListener=function(t,e){i.UI.getUIManager().registerForResize(t),t.resizeHandle=i.resizeObserver(t,e,null,250)},i.UI.removeResizeListener=function(t){i.UI.getUIManager().unregisterForResize(t),i.resizeObserver(t,null,t.resizeHandle)},i.UI.containerExecute=function(t,e,i){var a=i;i&&a.constructor!==Array&&(a=Array.prototype.slice.call(arguments,2));for(var r=t.node.parents(),n=0;n<r.length;n++){var s=r[n];if(s[e]&&s[e].constructor==Function)return s[e].apply(s,a)}return null},i.UI.animatePrice=function(t,e,i,a){t.timeoutHandle&&(clearTimeout(t.timeoutHandle),t.timeoutHandle=null),t.removeClass("cq-stable cq-up cq-down"),e>i?t.addClass("cq-up"):e<i&&t.addClass("cq-down"),a&&(t.timeoutHandle=setTimeout((function(){t.addClass("cq-stable").removeClass("cq-up cq-down")}),0))},i.UI.makeFromTemplate=function(t,e){var i,a=r(t),n=a[0].content;function s(t){return function(){t.appendChild(this.cloneNode(!0))}}function o(t){return function(){!0===t?a.parent().append(this):r(t).append(this)}}n&&n.childNodes.length?i=document.importNode(n,!0):(n=document.createElement("DIV"),a.children().each(s(n)),i=n.cloneNode(!0));var l=r(i).children();return e&&l.each(o(e)),l},i.UI.splitMethod=function(t){if(!t)return null;var e=t.indexOf("("),i=t.lastIndexOf(")");if(-1==e||-1==i)return console.log("malformed stxtap attribute: "+t),null;var a,r=null,n=t.substring(0,e),s=n.indexOf(".");-1==s?a=n:(r=n.substring(0,s),a=t.substring(s+1,e));var o=t.substring(e+1,i).match(/('[^']+'|[^,]+)/g),l=new RegExp("^[0-9]+([,.][0-9]+)?$","g"),c=new RegExp("^\\d+$"),h=[];if(o)for(var u=0;u<o.length;u++){for(var d=o[u];" "==d.charAt(0);)d=d.substring(1);if(-1!=d.indexOf('"')||-1!=d.indexOf("'"))h.push(d.substring(1,d.length-1));else if("true"==d)h.push(!0);else if("false"==d)h.push(!1);else if("null"==d)h.push(null);else if(c.test(d))h.push(parseInt(d,10));else if(l.test(d))h.push(parseFloat(d));else{for(var p=d.split("."),g=window,f=0;f<p.length;f++)g=g[p[f]];h.push(g)}}return{helperName:r,functionName:a,args:h}},i.UI.observe=function(t){if(!Object.observe)return console.warn("CIQ.UI.observe is deprecated. You must include thirdparty/object-observe.js in your project to use the feature, or use CIQ.UI.observeProperty.");var e=this;function i(i){var a=!1;if(t.member){if(i.name===t.member)a=!0;else if(t.member.constructor==Array)for(var n=0;n<t.member.length;n++)i.name===t.member[n]&&(a=!0)}else a=!0;if(a){var s=r(t.selector);if(!s.length&&"callback"===t.action)return void t.value.call(e,t);"class"===t.action&&s.removeClass(t.value),s.each((function(){var i=!1;t.member&&(t.condition?t.obj[t.member]===t.condition&&(i=!0):i=t.obj[t.member]),"class"===t.action&&i&&s.addClass(t.value),"callback"===t.action&&t.value.call(e,t,this),"value"===t.action&&(t.value?this.value=t.value:t.obj[t.member]?this.value=t.obj[t.member]:this.value="")}))}}var a=function(t){t.forEach(i)};return Object.observe(t.obj,a,["update","add","delete"]),i({name:t.member}),a},i.UI.unobserve=function(t){Object.observe&&Object.unobserve(t.obj,t.handler)},i.UI.observeProperty=function(t,e,a){if(e&&t&&a){t in e||(e[t]=void 0),i.UI.observables||(i.UI.observables={});var r,n=i.UI.observables;n[t]||(n[t]=[]);for(var s=0;s<n[t].length;s++){var o=n[t][s];o.obj==e&&(r=o)}r||(r={obj:e,value:e[t],listeners:[]},n[t].push(r)),r.listeners.push(a),a({obj:e,property:t,value:r.value}),Object.defineProperty(e,t,{enumerable:!0,get:function(){return r.value},set:function(i){if(r.value!==i){r.value=i;for(var a={obj:e,property:t,value:i},n=0;n<r.listeners.length;n++)r.listeners[n](a)}}})}},i.UI.unobserveProperty=function(t,e,a){if(t&&e&&i.UI.observables){var r=i.UI.observables[t];if(r){for(var n=r.length-1;n>=0;n--){var s=r[n];if(s.obj==e){if(a)for(var o=s.listeners,l=o.length;l>=0;l--)o[l]===a&&o.splice(l,1);a&&s.listeners.length||(Object.defineProperty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s.value}),r.splice(n,1))}}r.length||delete i.UI.observables[t]}}},i.UI.allContexts=function(){return r("cq-context,*[cq-context]")},i.UI.getMyContext=function(t){for(var e=r(t).parentsAndMe(),i=0;i<e.length;i++){var a=e[i];if(a.context)return a.context;if(a.CIQ&&a.CIQ.UI)return a.CIQ.UI.context}return null},i.UI.contextsForEach=function(t){i.UI.allContexts().each((function(){t.apply(this.CIQ.UI.context)}))},i.UI.release=!1,i.UI.bypassBindings=!1,i.UI.begin=function(t){i.UI.release=!0,setTimeout((function(){l.nextTick(),t&&t()}),0)},i.UI.addComponentDefinition=function(t,e){const a=!!i.UI.registerComponentsImmediately;i.UI._webcomponents||(i.UI._webcomponents={list:{},registered:a}),i.UI._webcomponents.list[t]={tag:t,classDefinition:e,registered:a},a&&customElements.define(t,e)},i.UI.registerComponents=function({except:t=[]}={}){if(!i.UI._webcomponents)return;const{list:e}=i.UI._webcomponents;Object.keys(e).filter((e=>!t.includes[e])).forEach((t=>{const i=e[t];i&&!i.registered&&(customElements.define(t,i.classDefinition),i.registered=!0)})),i.UI._webcomponents.registered=!0},i.UI.ensureComponentsRegistered=function(){i.UI._webcomponents&&!i.UI._webcomponents.registered&&i.UI.registerComponents()},i.UI.componentMarkup=function(t,e){const a=Object.values(i.UI._webcomponents.list).filter((({tag:e,classDefinition:i})=>!t||t===e||t===i.name||t===i));if(void 0===e){if(!a.length)return;const e=a.map(n);return t?e[0]:e}const[r]=a;if(r&&r.classDefinition.markup)return r.classDefinition.markup=e,n(r);function n(t){const{tag:e,registered:i,classDefinition:{markup:a,name:r}}=t;return{tag:e,name:r,registered:i,markup:a}}},i.UI.addInheritance=function(t,e){for(var i in e.prototype)try{t.prototype[i]=e.prototype[i]}catch(t){}};var s={};i.UI.supportedInputType=function(t){if(!s[t]){var e=document.createElement("input");e.setAttribute("type",t),s[t]=e.type}return s[t]};var o=i.UI.Context=function(t,e,a){this.params=a||{},this.stx=t,t&&(t.uiContext=this),e=this.topNode=r(e)[0],this.node=r(this.topNode),i.isMobile&&e.setAttribute("ciq-mobile","");var n=i.UI.Context.assembleContext(e);this.advertised={};for(var s=e.CIQ.UI.context=this,o=[],l=0;l<n.Components.length;l++)o.push(n.Components[l].tagName.toLowerCase());o.length&&this.topNode.querySelectorAll(o.join(",")).forEach((function(t){t.setContextPrivate(s)}))};o.assembleContext=function(t){return t.CIQ||(t.CIQ={}),t.CIQ.UI||(t.CIQ.UI={}),t.CIQ.UI.Components||(t.CIQ.UI.Components=[]),t.CIQ.UI},o.prototype.changeSymbol=function(t){console.log("Please implement CIQ.UI.Context.prototype.changeSymbol")},o.prototype.setLookupDriver=function(t){this.lookupDriver=t,t.deprecated&&console.warn("Using deprecated Lookup Driver, please see documentation: CIQ.ChartEngine.Driver.Lookup")},o.prototype.advertiseAs=function(t,e){this.advertised[e]=t},o.prototype.getAdvertised=function(t){return this.advertised[t]},o.prototype.setLoader=function(t){this.loader=t},o.prototype.isModal=function(){return""!==this.stx.openDialog};class l extends HTMLElement{constructor(){super(),this.node=r(this),this.eventListeners=[]}connectedCallback(){this.attached||(l.buildReverseBindings(this),this.attached=!0)}disconnectedCallback(){if(this.attached=!1,this.context)for(var t=0;t<this.eventListeners.length;t++)this.context.stx.removeEventListener(this.eventListeners[t])}addDefaultMarkup(t,e){const a=t||this;if((t=>0===t.children.length)(a)&&(a.constructor.markup||e)){const t=+new Date;if(a.innerHTML=e||a.constructor.markup,l.buildReverseBindings(a),i.debug){const e=+new Date-t;l.createMarkupTime=e+(l.createMarkupTime||0),console.log("Building markup "+this.constructor.name+" "+(this.getAttribute("cq-name")||"")+" built in="+e,"total="+l.createMarkupTime)}}}channelWrite(t,e,a){const{obj:r,prop:n}=i.UI.BaseComponent.getChannel(t,a,this);r&&(r[n]=e)}channelMergeObject(t,e,a){const{obj:r,prop:n}=i.UI.BaseComponent.getChannel(t,a,this);r&&(r[n]=Object.assign({},r[n],e))}channelRead(t,e){const{obj:a,prop:r}=i.UI.BaseComponent.getChannel(t,e,this);if(a)return a&&a[r]}channelSubscribe(t,e,a){const{obj:r,prop:n}=i.UI.BaseComponent.getChannel(t,a,this);if(r)return i.UI.observeProperty(n,r,s),()=>{i.UI.unobserveProperty(n,r,s)};function s({value:t}){e(t)}}qs(t,e){return"thisChart"===e&&(e=this.getContextContainer()),(e||document).querySelector(t)}qsa(t,e){return"thisChart"===e&&(e=this.getContextContainer()),Array.prototype.slice.call((e||document).querySelectorAll(t)||[])}getContextContainer(t){return t?l.selfOrParentElement(t,"cq-context"):(this.contextContainer||(this.contextContainer=l.selfOrParentElement(this,"cq-context")),this.contextContainer)}getChartContainer(t){return l.selfOrParentElement(t||this,"ciq-chart")}static getHelper(t,e,a){if(t){if(t=r(t)[0],!e&&!(e=t.getAttribute(a)))return null;var n,s=e.indexOf("("),o=e.substring(0,s),l=e.indexOf(".");if(-1==s||-1!=o.indexOf(".")){var c=-1===l?e:e.substring(0,l),h=t.context;if(h||(t.context||(t.context=i.UI.getMyContext(t)),h=t.context),!h)return console.log("No context attached to "+t.tagName+". A context is required when binding to a helper."),null;n=h.getAdvertised(c)}else for(var u=e.substring(0,s),d=r(t).parents(),p=0;p<d.length;p++){var g=d[p];if("function"==typeof g[u])return g}return n}}static activate(t,e,a,n){var s=n?"stxsetget":"stxtap",o=i.UI.splitMethod(t.getAttribute(s));if(o){var c=o.helperName,h=o.functionName;n&&(h="set"+h);var u=[{node:t,e:e,params:a}].concat(o.args);if(c){var d=l.getHelper(t,null,s);if(!d[h])return void console.log("Method '"+h+"' not found in helper",d);d[h].apply(d,u)}else for(var p=r(t).parents(),g=0;g<p.length;g++){var f=p[g];"function"==typeof f[h]&&f[h].apply(f,u)}}}makeTap(t,e){l.makeTap(t,e)}static makeTap(t,e){t.selectFC=e,r(t).stxtap(e)}static bind(t,e){console.warn("CIQ.UI.BaseComponent#bind will deprecated in a future release.\n If you to to bind anything use CIQ.UI.BaseComponent.bindNode() instead"),this.bindNode(t,e)}static bindNode(t,e){var a=(t=r(t)[0]).getAttribute("stxbind"),n=t.getAttribute("stxtap"),s=t.getAttribute("stxsetget");function o(e){var i,r=a.indexOf("(");i=a.substring(a.indexOf(".")+1),-1!==r&&(i=a.substring(0,r)),e&&e[i](t)}function c(t){return function(i){l.activate(t,i,e,!1)}}function h(a){function r(){return function(i){l.activate(t,i,e,!0)}}var n=i.UI.splitMethod(s);if(n){var o=[t].concat(n.args).concat(e),c="get"+n.functionName;a&&a[c]&&a[c].apply(a,o),"text"===t.type||"number"===t.type?l.inputEntry(t,r()):l.makeTap(t,r())}else console.log("Syntax error "+s)}a&&""!==a&&o(l.getHelper(t,a,"stxbind")),n&&""!==n&&("INPUT"!=t.tagName||"text"!==t.type&&"number"!==t.type?l.makeTap(t,c(t)):l.inputEntry(t,c(t))),s&&h(l.getHelper(t,s,"stxsetget"))}static scheduleForBinding(t,e){l.scheduledBindings.push({node:t,parentTag:e}),l.timeout&&clearTimeout(l.timeout),l.timeout=setTimeout(l.nextTick,0)}inputEntry(t,e){l.inputEntry(t,e)}static inputEntry(t,e){r(t).on("keypress",(function(t){switch(t.which){case 13:case 9:e()}}))}addClaim(t){n.push({helper:t})}removeClaim(t){for(var e=0;e<n.length;e++)if(n[e].helper===t)return void n.splice(e,1)}static buildReverseBindings(t){if(!i.UI.bypassBindings){var e,a=function(t){if(t.hasAttribute("stxbind")||t.hasAttribute("stxtap")||t.hasAttribute("stxsetget"))return NodeFilter.FILTER_ACCEPT},r=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT,i.isIE?a:{acceptNode:a},!1);for(e=r.nextNode();e;)l.scheduleForBinding(e,t),e=r.nextNode()}}static nextTick(){if(i.UI.release){clearTimeout(l.timeout);for(var t=l.scheduledBindings,e=t.length-1;e>=0;e--){var a=t[e];a.node.ciqAlreadyBound||(l.bindNode(a.node,{parent:a.parentTag}),a.node.ciqAlreadyBound=!0)}}}static selfOrParentElement(t,e){let i=t;for(;i;){if(i.classList.contains(e)||null!==i.getAttribute(e)||i.nodeName.toLowerCase()===e)return i;i=i.parentElement}}static toPropAndObject(t,e){const i=t.split(".");return{prop:i.pop(),obj:i.reduce(((t,e)=>void 0!==t[e]?t[e]:t[e]={}),e)}}static getChannel(t,e,a){if(!t)return console.warn("Missing channel path"),{};if(!e&&!a)return console.warn("Chart engine not provided while retrieving ",t),{};e||a.stx||(a.container||(a.container=i.UI.getMyContext(a)),a.stx=a.container.stx);const{obj:r,prop:n}=l.toPropAndObject(t,e||a.stx);return{obj:r,prop:n}}}l.scheduledBindings=[],i.UI.BaseComponent=l;class c extends l{constructor(){super(),this.injections=[]}connectedCallback(){this.attached||(this.setContextHolder(),super.connectedCallback())}disconnectedCallback(){if(this.context){var t;for(t=0;t<this.injections.length;t++)this.context.stx.removeInjection(this.injections[t]);for(this.injections=[],t=0;t<this.eventListeners.length;t++)this.context.stx.removeEventListener(this.eventListeners[t]);this.eventListeners=[]}}setContextHolder(){var t=this.node.parents("cq-context,*[cq-context]");if(t.length){var e=t[0],i=o.assembleContext(e);i.Components.push(this),i.context&&this.setContextPrivate(i.context)}else console.log("No cq-context found for "+this.tagName)}setContext(t){}setContextPrivate(t){var e,a;this.context=t,this.uiManager=i.UI.getUIManager(),this.hasAttribute("cq-marker")&&!this.convertedToMarker&&(this.convertedToMarker=!0,this.marker=new i.Marker({stx:t.stx,node:this,xPositioner:"none",yPositioner:"none",label:"component",permanent:!0})),setTimeout((e=this,a=t,function(){e.setContext(a)}))}addInjection(t,e,i){this.injections.push(this.context.stx[t](e,i))}}i.UI.ContextTag=c;class h extends c{constructor(){super()}connectedCallback(){if(!this.attached){r(this);this.onpointerover=function(){this.modalBegin()},this.onpointerout=function(){this.modalEnd()},super.connectedCallback()}}modalBegin(){this.context&&this.context.stx.modalBegin()}modalEnd(){this.context&&(this.uiManager.activeMenuStack.length||this.context.stx.modalEnd())}}i.UI.ModalTag=h;class u extends l{constructor(){super()}close(){this.node.parents("cq-dialog")[0].close(),this.node.find("cq-swatch").each((function(){this.colorPicker&&this.colorPicker.close()}))}open(t){t&&t.context&&this.setContext(t.context);var e=this.tagName.toLowerCase();this.node.closest("cq-dialog,cq-menu").each((function(){this.addActiveAttribute(e),this.open(t)}))}setContext(t){this.node.find("[stxtap],[stxbind],[stxsetget]").each((function(){this.context=t})),this.context=t}}i.UI.DialogContentTag=u,i.UI.Helper=function(t,e){this.node=t,this.context=e,this.injections=[]},i.UI.Helper.prototype.addInjection=function(t,e,i){this.injections.push(this.context.stx[t](e,i))},i.UI.Helper.prototype.destroy=function(){for(var t=0;t<this.injections.length;t++)this.context.stx.removeInjection(this.injections[t]);this.injections=[]},i.UI.Lookup=function(){},i.UI.Lookup.Driver=function(){this.deprecated=!0},i.UI.Lookup.Driver.prototype.acceptText=function(t,e,i,a){this.cb},i.UI.Lookup.Driver.ChartIQ=function(t){this.exchanges=t,this.exchanges||(this.exchanges=["XNYS","XASE","XNAS","XASX","INDCBSX","INDXASE","INDXNAS","IND_DJI","ARCX","INDARCX","forex"]),this.url="https://symbols.chartiq.com/chiq.symbolserver.SymbolLookup.service",this.requestCounter=0},i.inheritsFrom(i.UI.Lookup.Driver.ChartIQ,i.UI.Lookup.Driver),i.UI.Lookup.Driver.ChartIQ.prototype.acceptText=function(t,e,a,r){"FX"==e&&(e="FOREX"),isNaN(parseInt(a,10))&&(a=100);var n=this.url+"?t="+encodeURIComponent(t)+"&m="+a+"&x=[";this.exchanges&&(n+=this.exchanges.join(",")),n+="]",e&&"ALL"!=e.toUpperCase()&&(n+="&e="+e);var s=++this.requestCounter,o=this;function l(t,e){if(!(s<o.requestCounter)&&200==t)try{for(var i=(e=JSON.parse(e)).payload.symbols,a=[],n=0;n<i.length;n++){var l=i[n].split("|"),c={symbol:l[0],name:l[1],exchDisp:l[2]};a.push({display:[c.symbol,c.name,c.exchDisp],data:c})}r(a)}catch(t){}}i.postAjax({url:n,cb:l})},i.Marker&&(i.Marker.HeadsUp=function(t,e){this.className||(this.className="CIQ.Marker.HeadsUp"),i.Marker.call(this,t),this.prevTick=null,this.showClass=e},i.inheritsFrom(i.Marker.HeadsUp,i.Marker,!1),i.Marker.HeadsUp.placementFunction=function(t){function e(t,e,i,a){return Math.round(i-t.pixelFromPrice(a,e))}var i=t.panel,a=i.chart,n=t.stx,s=n.chart.highLowBars||n.highLowBars[n.layout.chartType];t.showClass||(t.showClass="stx-show");for(var o=0;o<t.arr.length;++o){var l=t.arr[o],c=r(l.node);if(i.hidden||!n.insideChart)return void c.removeClass(t.showClass);if(l.params.x<0||l.params.x>=a.dataSet.length)return void c.removeClass(t.showClass);if(n.layout.crosshair||n.currentVectorParameters.vectorType)return void c.removeClass(t.showClass);var h,u=a.dataSet[l.params.x],d=n.pixelFromTick(l.params.x);if(!u||d<a.left||d>a.right)return void c.removeClass(t.showClass);if(!u[n.chart.defaultPlotField]&&0!==u[n.chart.defaultPlotField])return void c.removeClass(t.showClass);c.addClass(t.showClass),l.clientWidth||(l.clientWidth=c.width()),l.clientHeight||(l.clientHeight=c.height()),l.clientWidth>d?(c.removeClass("stx-left"),c.addClass("stx-right"),c.css({left:d+"px",right:"auto"})):(c.addClass("stx-left"),c.removeClass("stx-right"),c.css({right:n.chart.canvasWidth-d+"px",left:"auto"}));var p=l.params.chartContainer?n.chart.canvasHeight:i.bottom;p-(h=e(n,i,p,s?n.getBarBounds(u)[i.yAxis.flipped?"low":"high"]:u[n.chart.defaultPlotField]))-l.clientHeight+n.top<0?(c.addClass("stx-below"),h=(s?e(n,i,p,n.getBarBounds(u).low):h)-l.clientHeight):c.removeClass("stx-below");var g=h+"px";l.node.style.bottom!=g&&(l.node.style.bottom=g)}});function d(t,e){var i=e.stx,a=r(t||e.topNode);this.node=a[0],this.context=e,this.editing=null,this.drawingContext=r("cq-drawing-context"),this.cvpController=a.find("cq-cvp-controller"),this.toolbar=a.find("cq-toolbar"),this.toolbar.length||(this.toolbar=a.find("cq-drawing-settings")),this.toolbar.on("change",p(i,this)),this.count=i.drawingObjects.length,e.advertiseAs(this,"DrawingEdit"),i.addEventListener("drawing",g(this)),i.addEventListener("drawingEdit",f(this)),a.find("cq-toolbar .ciq-drawing-edit-only:has(.ciq-btn)").hover(m(i,this))}function p(t,e){return function(){e.editing&&(e.editing.name===t.currentVectorParameters.vectorType?(e.editing.copyConfig(),t.draw(),t.changeOccurred("vector")):e.endEdit(null,"tool"))}}function g(t){return function(e){var i=e.drawings.length;t.count!==i&&(t.endEdit(null,"count"),t.count=i)}}function f(t){return function(e){!0===e.forceEdit?(t.endEdit(null,"edit"),t.showToolbar(e.drawing),t.beginEdit(e.drawing)):t.showContext(e)}}function m(t,e){return function(i){var a="mouseenter"===i.type;e.editing&&e.editing.highlighted!==a&&(e.editing.highlighted=a,t.draw())}}i.UI.HeadsUp=function(t,e,i){this.params=i||{},void 0===this.params.autoStart&&(this.params.autoStart=!0),this.node=r(t),this.node.detach(),this.context=e,this.injections=[],this.maxVolume={lastCheckDate:null,value:0},this.params.autoStart&&this.begin()},i.inheritsFrom(i.UI.HeadsUp,i.UI.Helper),i.UI.HeadsUp.prototype.begin=function(){var t,e;this.injections.length||(this.params.followMouse?(this.node.css({top:"auto"}),t={stx:this.context.stx,label:"headsup",xPositioner:"bar",chartContainer:!0,x:0,node:this.node[0]},this.marker=new i.Marker.HeadsUp(t,this.params.showClass),this.addInjection("append","handleMouseOut",(e=this,function(){e.followMouse(-1)}))):this.params.staticNode||(this.node.css({top:"",left:""}),t={stx:this.context.stx,label:"headsup",xPositioner:"none",chartContainer:!1,node:this.node[0]},r.extend(t,this.params),this.marker=new i.Marker(t)),i.isMobile&&(this.context.stx.layout.crosshair=!0),this.calculateMaxVolume(),this.addInjection("prepend","headsUpHR",function(t){return function(){t.position()}}(this)),this.addInjection("append","createXAxis",function(t){return function(){t.position()}}(this)),this.addInjection("append","createDataSet",function(t){return function(e,i,a){t.calculateMaxVolume(a.appending)}}(this)))},i.UI.HeadsUp.prototype.end=function(){i.isMobile&&(this.context.stx.layout.crosshair=!1),this.marker&&this.marker.remove(),this.destroy(),this.marker=null},i.UI.HeadsUp.prototype.calculateMaxVolume=function(t){t||(this.maxVolume={lastCheckDate:null,value:0});var e=this.context.stx.chart.dataSet;if(e&&e.length){for(var i=e.length-1;i>=0;i--){var a=e[i];if(a.DT<this.maxVolume.lastCheckDate)break;a.Volume>this.maxVolume.value&&(this.maxVolume.value=a.Volume)}this.maxVolume.lastCheckDate=e[e.length-1].DT}},i.UI.HeadsUp.prototype.position=function(){var t=this.context.stx,e=t.barFromPixel(t.cx);this.tick=t.tickFromPixel(t.cx);var a=t.chart.xaxis[e],r=t.chart.defaultPlotField,n=t.chart.highLowBars||t.highLowBars[t.layout.chartType];r&&!n||(r="Close");var s=this.node,o=this;function l(e){var i=t.layout.chartScale,a=t.chart.panel,r=t.chart.yAxis;return(r.originalPriceFormatter&&r.originalPriceFormatter.func?r.originalPriceFormatter.func(t,a,e):r.priceFormatter&&"percent"!=i&&"relative"!=i?r.priceFormatter(t,a,e):t.formatYAxisPrice(e,a)).replace(/(\.[0-9]*[1-9])0+$|\.0*$/,"$1")}function c(){function e(t){return i.isValidNumber(parseFloat(t))?t:"N/A"}if(o.timeout=null,s.find("cq-hu-price").text("N/A"),s.find("cq-hu-open").text("N/A"),s.find("cq-hu-close").text("N/A"),s.find("cq-hu-high").text("N/A"),s.find("cq-hu-low").text("N/A"),s.find("cq-hu-date").text("N/A"),s.find("cq-hu-volume").text("N/A"),s.find("cq-volume-rollup").text(""),a&&a.data){var n=i.clone(a.data);void 0===n.Open&&(n.Open=n.Close),void 0===n.High&&(n.High=Math.max(n.Open,n.Close)),void 0===n.Low&&(n.Low=Math.min(n.Open,n.Close)),s.find("cq-hu-open").text(e(l(n.Open))),s.find("cq-hu-price").text(e(l(n[r]))),s.find("cq-hu-close").text(e(l(n.Close))),s.find("cq-hu-high").text(e(l(n.High))),s.find("cq-hu-low").text(e(l(n.Low)));var c=i.condenseInt(n.Volume),h=c.charAt(c.length-1);h>"9"&&(c=c.substring(0,c.length-1),s.find("cq-volume-rollup").text(h.toUpperCase())),s.find("cq-hu-volume").text(c);var u=n.displayDate;u||(u=n.DT),t.internationalizer?i.ChartEngine.isDailyInterval(t.layout.interval)?s.find("cq-hu-date").text(t.internationalizer.yearMonthDay.format(u)):s.find("cq-hu-date").text(t.internationalizer.yearMonthDay.format(u)+" "+t.internationalizer.hourMinute.format(u)):i.ChartEngine.isDailyInterval(t.layout.interval)?s.find("cq-hu-date").text(i.mmddyyyy(i.yyyymmddhhmm(u))):s.find("cq-hu-date").text(i.mmddhhmm(i.yyyymmddhhmmssmmm(u)));var d=s.find("cq-volume-visual");if(d.length){var p=o.maxVolume.value?n.Volume/o.maxVolume.value:0;d.css({width:Math.round(100*p)+"%"})}}}if(this.tick!=this.prevTick||a&&+a.DT==+t.chart.endPoints.end){this.timeout&&clearTimeout(this.timeout);var h=(this.params.followMouse,0);this.timeout=setTimeout(c,h)}this.prevTick=this.tick,this.params.followMouse&&(t.openDialog&&(this.tick=-1),this.followMouse(this.tick))},i.UI.HeadsUp.prototype.followMouse=function(t){this.marker.params.x=t,this.marker.render()},i.UI.DrawingEdit=d,i.inheritsFrom(d,i.UI.Helper),d.prototype.showContext=function(t){t.context=this.context,t.x=i.ChartEngine.crosshairX,t.y=i.ChartEngine.crosshairY,this.count=this.context.stx.drawingObjects.length,this.drawingContext.each((function(){this.open(t)}))},d.prototype.getToolActivator=function(t){var e=this.toolbar.find('cq-item[cq-tool="'+t+'"]');return e.length||(e=this.toolbar.find("cq-item[stxtap=\"tool('"+t+"')\"]")),{node:e[0]}},d.prototype.showToolbar=function(t){var e=this,a=e.getToolActivator(t.name);e.node;this.toolbar.each((function(){var r=t.lineWidth,n=t.pattern,s=t.parameters&&t instanceof i.Drawing.fibonacci;s&&(r=t.parameters.fibs[0].parameters.lineWidth,n=t.parameters.fibs[0].parameters.pattern),this.tool(a,t.name),this.sync({lineWidth:r,pattern:n,annotation:{font:t.font?i.clone(t.font):{}},fillColor:t.fillColor,currentColor:t.color,axisLabel:t.axisLabel}),e.cvpController.each((function(){this.sync(t)})),s&&(this.context.stx.currentVectorParameters.fibonacci=i.clone(t.parameters))}))},d.prototype.beginEdit=function(t){this.editing=t,this.beforeEdit=t.serialize(),this.toolbar.attr("cq-drawing-edit",t.name);var e=new CustomEvent("drawing-edit-begin",{bubbles:!0,cancelable:!0,detail:{drawing:t,tool:t.name}});this.node.dispatchEvent(e)},d.prototype.endEdit=function(t,e){var i=this.context.stx,a=null,r=null;if(this.editing){r=this.editing.name,a=new CustomEvent("drawing-edit-end",{bubbles:!0,cancelable:!0,detail:{action:e,drawing:this.editing,tool:r}});var n=i.drawingObjects.indexOf(this.editing),s=i.exportDrawings();n>-1&&this.beforeEdit&&(s[n]=this.beforeEdit,i.undoStamp(s,i.exportDrawings())),"close"===e&&this.editing.highlighted&&(this.editing.highlighted=!1,i.draw())}this.editing=null,this.beforeEdit=null,this.toolbar.attr("cq-drawing-edit","none"),r&&"close"===e&&(t=this.getToolActivator(r),this.toolbar.each((function(){this.tool(t,r)}))),a&&this.node.dispatchEvent(a)},d.prototype.edit=function(){var t=this;this.drawingContext.each((function(){var e=i.UI.getMyContext(this.drawing.stx.container).topNode,a=document.querySelector("cq-drawing-context").parentNode,r=e.querySelector("cq-drawing-settings"),n={left:a.offsetLeft,top:a.offsetTop};this.close(),t.endEdit(null,"edit"),t.showToolbar(this.drawing,n),t.beginEdit(this.drawing),r&&r.detach(n.left,n.top)}))},d.prototype.text=function(){var t=this;this.drawingContext.each((function(){this.close(),t.endEdit(null,"text"),this.drawing.edit&&this.drawing.edit(null,!0)}))},d.prototype.clone=function(){var t=this,e=this.context.stx;this.endEdit(null,"clone"),this.drawingContext.each((function(){this.close();var a=new i.Drawing[this.drawing.name],r=this.drawing.serialize();a.reconstruct(e,r),a.repositioner=this.drawing.repositioner,a.highlighted=!0,this.drawing.highlighted=!1,t.count+=1,e.addDrawing(a),e.activateRepositioning(a)}))},d.prototype.reorderLayer=function(t,e){var i=this.context.stx;this.endEdit(null,"reorderLayer"),this.drawingContext.each((function(){this.close();var t=i.drawingObjects.length-1,a=i.drawingObjects.indexOf(this.drawing),r=NaN;if(-1!==a){switch(e){case"up":a<t&&(r=a+1);break;case"down":a>0&&(r=a-1);break;case"top":a<t&&(r=t);break;case"bottom":a>0&&(r=0)}if(r==r){var n=i.exportDrawings();i.drawingObjects.splice(a,1),i.drawingObjects.splice(r,0,this.drawing),i.undoStamp(n,i.exportDrawings()),i.draw(),i.changeOccurred("vector")}}}))},d.prototype.remove=function(){var t=this,e=this.context.stx;this.endEdit(null,"remove"),this.drawingContext.each((function(){if(!this.drawing.permanent){var i=e.exportDrawings();t.count-=1,e.removeDrawing(this.drawing),e.undoStamp(i,e.exportDrawings()),this.close()}}))},i.UI.StudyEdit=function(t,e){this.context=e,this.node=t||e.topNode,this.contextDialog=[];for(var i=document.querySelectorAll("cq-study-context"),a=0;a<i.length;a++)this.contextDialog.push(i[a]);e.advertiseAs(this,"StudyEdit"),this.initialize()},i.inheritsFrom(i.UI.StudyEdit,i.UI.Helper),i.UI.StudyEdit.prototype.remove=function(){i.Studies.removeStudy(this.params.stx,this.params.sd),this.contextDialog.forEach((function(t){t.close()}))},i.UI.StudyEdit.prototype.edit=function(){this.contextDialog.forEach((function(t){t.close()})),this.editPanel(this.params)},i.UI.StudyEdit.prototype.editPanel=function(t){t.context=this.context,t.x=null,t.y=null;const{channelWrite:e}=i.UI.BaseComponent.prototype;this.context.config?e(this.context.config.channels.dialog,{type:"study",params:t},this.context.stx):document.querySelector("cq-study-dialog").open(t)},i.UI.StudyEdit.prototype.editOverlay=function(t){this.params=t,t.context=this.context,t.forceEdit?this.editPanel(t):this.contextDialog.forEach((function(e){t.x=i.ChartEngine.crosshairX,t.y=i.ChartEngine.crosshairY,e.open(t)}))},i.UI.StudyEdit.prototype.initialize=function(){var t=this.context.stx,e=this;function i(t){return function(){t.apply(e,arguments)}}t.addEventListener("studyOverlayEdit",i(e.editOverlay)),t.addEventListener("studyPanelEdit",i(e.editPanel))},i.UI.Layout=function(t,e){this.params=e||{},this.params.activeClassName||(this.params.activeClassName="ciq-active"),this.context=t,t.advertiseAs(this,"Layout")},i.inheritsFrom(i.UI.Layout,i.UI.Helper),i.UI.Layout.prototype.getChartType=function(t,e){var a=this.context.stx,r=this.params.activeClassName,n=function(i){var a=i.obj;a.aggregationType&&"ohlc"!=a.aggregationType?e!==a.aggregationType?t.classList.remove(r):t.classList.add(r):e!==a.chartType?t.classList.remove(r):t.classList.add(r)};i.UI.observeProperty("chartType",a.layout,n),i.UI.observeProperty("aggregationType",a.layout,n)},i.UI.Layout.prototype.setChartType=function(t,e){({heikinashi:!0,kagi:!0,linebreak:!0,pandf:!0,rangebars:!0,renko:!0})[e]?this.context.stx.setAggregationType(e):this.context.stx.setChartType(e)},i.UI.Layout.prototype.getChartScale=function(t,e){var a=this.context.stx,r=this.params.activeClassName,n=function(i){i.value==e?t.classList.add(r):t.classList.remove(r)};i.UI.observeProperty("chartScale",a.layout,n)},i.UI.Layout.prototype.setChartScale=function(t,e){var i=this.context.stx,a=i.layout.chartScale;a==e?i.setChartScale(null):a&&"linear"!=a||i.setChartScale(e)},i.UI.Layout.prototype.getFlippedChart=function(t){var e=this.context.stx,a=this.params.activeClassName,r=function(e){e.value?t.classList.add(a):t.classList.remove(a)};i.UI.observeProperty("flipped",e.layout,r)},i.UI.Layout.prototype.setFlippedChart=function(t){var e=this.context.stx;e.flipChart(!e.layout.flipped)},i.UI.Layout.prototype.getExtendedHours=function(t){var e=this.context.stx,a=this.params.activeClassName,r=function(e){e.value?t.classList.add(a):t.classList.remove(a)};i.UI.observeProperty("extended",e.layout,r)},i.UI.Layout.prototype.setExtendedHours=function(t){var e=this.context.stx;if(e.layout.extended=!e.layout.extended,e.changeOccurred("layout"),!e.layout.extended||e.chart.market.market_def&&e.chart.market.sessions.length||i.alert("There are no Extended Hours for this instrument."),e.extendedHours){var a=this.context.loader;a&&a.show(),e.extendedHours.set(e.layout.extended,null,(function(){a&&a.hide()}))}},i.UI.Layout.prototype.getRangeSlider=function(t){var e=this.context.stx,a=this.params.activeClassName,r=function(e){e.value?t.classList.add(a):t.classList.remove(a)};i.UI.observeProperty("rangeSlider",e.layout,r)},i.UI.Layout.prototype.setRangeSlider=function(t){var e=this.context.stx;e.layout.rangeSlider=!e.layout.rangeSlider,e.slider&&e.slider.display(e.layout.rangeSlider),e.changeOccurred("layout")},i.UI.Layout.prototype.getOutliers=function(t){var e=this.context.stx,a=this.params.activeClassName,r=function(e){e.value?t.classList.add(a):t.classList.remove(a)};i.UI.observeProperty("outliers",e.layout,r)},i.UI.Layout.prototype.setOutliers=function(t){var e=this.context.stx;e.layout.outliers=!e.layout.outliers,e.draw(),e.changeOccurred("layout")},i.UI.Layout.prototype.getAggregationType=function(t,e){var a=this.context.stx,r=this.params.activeClassName,n=function(i){i.value==e?t.classList.add(r):t.classList.remove(r)};i.UI.observeProperty("aggregationType",a.layout,n)},i.UI.Layout.prototype.setAggregationType=function(t,e){this.context.stx.layout.aggregationType==e?this.context.stx.setAggregationType(null):this.context.stx.setAggregationType(e)},i.UI.Layout.prototype.getAggregationEdit=function(t,e){var a=this.context.stx,r=i.deriveFromObjectChain(a.layout,e),n=function(e){var i=e.value;!i&&a.chart.defaultChartStyleConfig[t.name]?t.value=a.chart.defaultChartStyleConfig[t.name]:t.value=i};i.UI.observeProperty(r.member,r.obj,n)},i.UI.Layout.prototype.setAggregationEdit=function(t,e){var a=this.context.stx;function n(){a.changeOccurred("layout"),a.createDataSet(),a.draw()}if("auto"===e){"kagi"===a.layout.aggregationType?a.layout.kagi=null:"renko"===a.layout.aggregationType?a.layout.renko=null:"linebreak"===a.layout.aggregationType?a.layout.priceLines=null:"rangebars"===a.layout.aggregationType?a.layout.rangebars=null:"pandf"===a.layout.aggregationType&&(a.layout.pandf||(a.layout.pandf={box:null,reversal:null}),a.layout.pandf.box=null,a.layout.pandf.reversal=null),n();var s=r(t).offsetParent();r(s).find(".ciq"+a.layout.aggregationType+" input").each((function(){var t=this.name;"box"!=t&&"reversal"!=t||(t="pandf."+t);var e=i.deriveFromObjectChain(a.layout,t);e&&!e.obj[e.member]&&a.chart.defaultChartStyleConfig[this.name]&&r(this).val(a.chart.defaultChartStyleConfig[this.name])}))}else{var o=i.deriveFromObjectChain(a.layout,e);o.obj[o.member]=r(t.node).val(),n()}},i.UI.Layout.prototype.showAggregationEdit=function(t,e){const{context:a}=this;if(a.config){const{channelWrite:t}=i.UI.BaseComponent.prototype;t(a.config.channels.dialog,{type:"aggregation",params:{context:a,aggregationType:e}},a.stx)}else{document.querySelector("cq-aggregation-dialog").open({context:this.context,aggregationType:e})}},i.UI.Layout.prototype.clearStudies=function(t){var e=this.context.stx;for(var a in e.layout.studies){var r=e.layout.studies[a];r.customLegend||r.permanent||i.Studies.removeStudy(e,r)}e.draw()},i.UI.Layout.prototype.setPeriodicity=function(t,e,i,a){var r=this;r.context.loader&&r.context.loader.show(),r.context.stx.setPeriodicity({period:e,interval:i,timeUnit:a},(function(){r.context.loader&&r.context.loader.hide()}))},i.UI.Layout.prototype.showPeriodicity=function(t,e){var a="",{period:n,interval:s,timeUnit:o}=t.getPeriodicity();a=n*=s,"day"==o?a+="D":"week"==o?a+="W":"month"==o?a+="M":"second"==o?a+="s":"millisecond"==o?a+="ms":n>=60&&n%15==0?a=n/60+"H":"tick"==o?a=(n>1?n:"")+"T":a+="m",r(e.selector).empty().append(i.translatableTextNode(t,a))},i.UI.Layout.prototype.periodicity=function(t){var e=this,a=this.context.stx,r=function(i){e.showPeriodicity(a,{selector:t})};i.UI.observeProperty("interval",a.layout,r),i.UI.observeProperty("periodicity",a.layout,r),i.UI.observeProperty("timeUnit",a.layout,r)},i.UI.Layout.prototype.setLanguage=function(){const{config:t,stx:e}=this.context;if(t){const{channelWrite:a}=i.UI.BaseComponent.prototype;a(t.channels.dialog,{type:"language"},e)}else document.querySelector("cq-language-dialog").open()},i.UI.Layout.prototype.getLanguage=function(t){this.context.stx;var e=function(e){i.I18N.languages||(i.I18N.languages={en:"English"}),r(t).find("cq-language-name").text(i.I18N.languages[i.I18N.language]),r(t).find("cq-flag").attr("cq-lang",i.I18N.language)};i.UI.observeProperty("language",i.I18N,e)},i.UI.Markers=function(t,e){this.context=t,e||(e={}),this.menuItemSelector=e.menuItemSelector,this.activeClassName=e.activeClassName||"ciq-active",this.implementation=e.implementation,t.advertiseAs(this,"Markers")},i.inheritsFrom(i.UI.Markers,i.UI.Helper),i.UI.Markers.prototype.showMarkers=function(t,e,i){var a=this.activeClassName,n=this.topNode,s=this.implementation;s&&(s.showMarkers(),e&&s.showMarkers(e,i),r(this.menuItemSelector,n).each((function(){var e=r(this).find(".ciq-checkbox");t.node==this?r(this).addClass(a):e.length<1&&r(this).removeClass(a)})))},i.UI.Keystroke=function(t){this.cb=t,this.shift=!1,this.ctrl=!1,this.cmd=!1,this.capsLock=!1,this.downValue="",this.initialize()},i.UI.Keystroke.noKeyCapture=!1,i.UI.Keystroke.prototype.androidWorkaroundKeyup=function(t){var e,i=t.target.value;i.length>this.downValue.length?(e=i.charAt(i.length-1),t.which=e.charCodeAt(0)):e="Delete",this.key=e,this.cb({key:e,e:t,keystroke:this})},i.UI.Keystroke.prototype.keyup=function(t){if(this.implementAndroidWorkaround)return this.androidWorkaroundKeyup(t),void(this.implementAndroidWorkaround=!1);switch(t.key){case"Shift":return this.shift=!1,void this.cb({key:t.key,e:t,keystroke:this});case"Control":case"Alt":return this.ctrl=!1,void this.cb({key:t.key,e:t,keystroke:this});case"Meta":case"Win":return this.cmd=!1,void this.cb({key:t.key,e:t,keystroke:this})}this.key&&this.cb({key:this.key,e:t,keystroke:this})},i.UI.Keystroke.prototype.keydown=function(t){if(!this.noKeyCapture)if(229==t.which&&i.isAndroid)this.implementAndroidWorkaround=!0;else switch(this.key=t.key,t.key){case"Meta":case"Win":this.cmd=!0;break;case"Shift":this.shift=!0;break;case"Control":case"Alt":this.ctrl=!0;break;case"CapsLock":this.capsLock=!this.capsLock;break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Up":case"Down":case"Left":case"Right":this.key=null,this.cb({key:t.key,e:t,keystroke:this})}},i.UI.Keystroke.prototype.keypress=function(t){if(!this.noKeyCapture){var e=t.which;e<32||e>222||(this.key=t.key)}},i.UI.Keystroke.prototype.initialize=function(){var t=this;r(document).on("keyup",(function(e){t.keyup(e)})),r(document).on("keydown",(function(e){t.downValue=e.target.value,t.keydown(e)})),r(document).on("keypress",(function(e){t.keypress(e)})),r(window).on("blur",(function(e){t.ctrl=!1,t.cb({key:"Control",e:e,keystroke:t})}))},i.UI.KeystrokeHub=function(t,e,a){t=r(t||"document"),this.infocus=!1;var n=this;function s(){return function(){n.handler.apply(n,arguments)}}t[0]===document||t[0]===document.body||t[0]===window?this.infocus=!0:(t.on("mouseout",(function(){n.infocus=!1})),t.on("mouseover",(function(){n.infocus=!0}))),this.node=t,this.context=e,this.params=a||{},this.uiManager=i.UI.getUIManager(),this.uiManager.keystrokeHub=this,this.keystroke=new i.UI.Keystroke(s())},i.inheritsFrom(i.UI.KeystrokeHub,i.UI.Helper),i.UI.KeystrokeHub.defaultHotKeys=function(t,e){var a=e.context.stx,r=1;switch(t){case"ArrowUp":case"Up":a.allowZoom&&a.zoomIn();break;case"ArrowDown":case"Down":a.allowZoom&&a.zoomOut();break;case"Home":a.home(),a.headsUpHR();break;case"End":a.chart.scroll=a.chart.dataSet.length,a.draw(),a.headsUpHR();break;case"ArrowLeft":case"Left":a.ctrl?a.allowZoom&&a.zoomOut():a.allowScroll&&(r=1,(a.shift||e.capsLock)&&(r=Math.max(5,5*(8-Math.round(a.layout.candleWidth)))),a.chart.scroll+r>=a.chart.dataSet.length&&(r=a.chart.dataSet.length-a.chart.scroll),a.chart.scroll+=r,a.draw(),a.headsUpHR());break;case"ArrowRight":case"Right":a.ctrl?a.allowZoom&&a.zoomIn():a.allowScroll&&(r=1,(a.shift||e.capsLock)&&(r=Math.max(5,5*(8-Math.round(a.layout.candleWidth)))),a.chart.scroll-=r,a.draw(),a.headsUpHR());break;case"Delete":case"Backspace":case"Del":if(i.ChartEngine.drawingLine)a.undo();else{if(!a.anyHighlighted)return!1;a.deleteHighlighted()}break;case"Escape":case"Esc":i.ChartEngine.drawingLine?a.undo():e.uiManager&&e.uiManager.closeMenu();break;default:return!1}return!0},i.UI.KeystrokeHub.prototype.setActiveContext=function(t){this.context=t},i.UI.KeystrokeHub.prototype.processKeyStrokeClaims=function(t,e,i,a){for(var r=n.length-1;r>-1;r--){var s=n[r].helper.keyStroke(t,e,i,a);if(s)return s.allowDefault||i.preventDefault(),!0}return!1},i.UI.KeystrokeHub.prototype.handler=function(t){var e=this.context.stx;if(!e.editingAnnotation&&this.infocus){var a=t.e,r=t.key,n=t.keystroke,s=t.e.target.tagName;switch(r){case"Shift":e.shift=n.shift;break;case"Control":case"Alt":e.ctrl=n.ctrl;break;case"Meta":case"Win":e.cmd=n.cmd;break;case"CapsLock":this.capsLock=!this.capsLock}!i.ChartEngine.drawingLine&&this.processKeyStrokeClaims(this,r,a,n)||"Escape"!=a.key&&"Esc"!=a.key&&this.context.isModal()||"INPUT"!=s&&"TEXTAREA"!=s&&this.params.cb&&this.params.cb(r,this)&&a.preventDefault()}};class v extends HTMLElement{constructor(){super(),this.activeMenuStack=[],this.registeredForResize=[],this.keystrokehub=null,i.installTapEvent(r("body")[0],{preventUnderlayClick:!1});var t=this;function e(){t.closeTopMenu()}r("body").on("stxtap",e)}connectedCallback(){var t=this;this.resize=function(){for(var e=t.registeredForResize,i=0;i<e.length;i++)"function"==typeof e[i].resize&&e[i].resize()},window.addEventListener("resize",this.resize),document.body.contains(this)&&(i.UI.registerComponentsImmediately=!0,i.UI.ensureComponentsRegistered())}disconnectedCallback(){window.removeEventListener("resize",this.resize)}closeMenu(t){var e=this.activeMenuStack,i=r(t).parents("cq-menu"),a=[];if(t){a.push(t);for(var n=0;n<i.length;n++){var s=i[n];s.active&&a.push(s)}}else a=e;for(var o=0;o<a.length;o++)a[o].hide();this.activeMenuStack=e.filter((function(t){return t.active})),this.ifAllClosed()}closeTopMenu(){var t=this.activeMenuStack;if(t.length){var e=t[t.length-1],i=this;e.isDialog&&!e.active||(t.pop(),e.hide(),e.onClose&&e.onClose(),setTimeout((function(){i.ifAllClosed()}),0));var a=e.getAttribute("cq-close-top");a&&r(e).parents(a).each((function(){i.closeMenu(this)}))}}findLifts(t){return r(t).find("*[cq-lift]").filter((function(){var e=r(this).closest("cq-menu,cq-dialog");return e.length&&e[0]==t}))}ifAllClosed(){this.activeMenuStack.length||r("cq-context,*[cq-context]").each((function(){this.CIQ&&this.CIQ.UI&&this.CIQ.UI.context&&this.CIQ.UI.context.stx&&this.CIQ.UI.context.stx.modalEnd()}))}lift(t){var e=r(t);if(e.length){var i=r(e)[0];i.remember={parentNode:i.parentNode,css:{position:i.style.position,display:i.style.display,left:i.style.left,top:i.style.top,height:i.style.height,width:i.style.width,opacity:i.style.opacity}};var a=i.getBoundingClientRect(),n=e.prop("scrollHeight");e.detach(),e.prop("reduceMenuHeight",5),e.css({position:"absolute",display:"block",left:a.left+"px",top:a.top+"px",height:n+"px",opacity:1}),r("body").append(e),void 0!==i.resize&&i.resize(),e.find("cq-scroll").each((function(){this.resize()}))}}openMenu(t,e){setTimeout((function(){r(t).find("input[cq-focus]:first-child").focus()}),0),this.activeMenuStack.push(t),t.show(e),r("cq-context,*[cq-context]").each((function(){this.CIQ&&this.CIQ.UI&&this.CIQ.UI.context&&this.CIQ.UI.context.stx&&this.CIQ.UI.context.stx.modalBegin()}))}registerForResize(t){this.registeredForResize.push(t)}restoreLift(t){var e=r(t);if(e.length){var i=e[0].remember;e.detach(),e.css(i.css),r(i.parentNode).append(e)}}topMenu(){var t=this.activeMenuStack;return t.length?t[t.length-1]:null}unregisterForResize(t){for(var e=this.registeredForResize,i=0;i<e.length;i++)if(e[i]===t)return void e.splice(i,1)}}i.UI.UIManager=v,i.UI.getUIManager=function(){if(i.UI._uiManager)return i.UI._uiManager;let t=document.querySelector("cq-ui-manager");return t||(t=new i.UI.UIManager,t.connectedCallback()),i.UI._uiManager=t,t},customElements.define("cq-ui-manager",v);const{qs:y,qsa:b,channelWrite:x,channelRead:S,channelSubscribe:k}=i.UI.BaseComponent.prototype;class C{createChart(t,e=null){e=e||i.getDefaultConfig();const a=Object.assign({container:t},e.chartEngineParams),r=new i.ChartEngine(a),{quoteFeeds:n,marketFactory:s,simulateL2:o}=e;return n&&n.forEach((({quoteFeed:t,behavior:e,filter:i})=>{r.attachQuoteFeed(t,e,i)})),s&&r.setMarketFactory(s),this.initExtensions({stx:r,config:e,type:"addOns"}),this.initStorage(r,e),o&&o(r),r}createChartAndUI({container:t,config:e}){const a=s(t),r=this.createChart(y(".chartContainer",a),e);i.UI.ensureComponentsRegistered();const n=new i.UI.Context(r,a);return n.config=e,t.context=n,new i.UI.Layout(n),new i.UI.StudyEdit(null,n),this.initLookup(n),this.initContainerListeners(n),this.initEventMarkers(n),this.initDrawingTools(n),this.initDrawingEditListeners(n),this.initDialogHandler(n),this.initColorPicker(),this.initExtensions({stx:r,uiContext:n,config:e,type:"plugins"}),this.loadChart(n),e.language&&i.I18N.setLanguage(r,e.language),i.UI.BaseComponent.buildReverseBindings(a),i.UI.begin(),n;function s(t){return t.nodeName.match(/cq-context/i)||t.getAttribute("cq-container")?t:t.querySelector("cq-context, [cq-context]")}}initContainerListeners(t){const{config:{channels:{breakpoint:e,sidenavSize:a,sidepanelSize:r,drawingPalettes:n,pluginPanelHeight:s}},stx:o,topNode:l}=t;i.UI.addResizeListener(l,(()=>this.notifySizeChanges(t))),this.notifySizeChanges(t),k(e,this.breakpointSetter(t),o),k(a,this.sidenavSizeSetter(t),o),k(r,this.sidepanelSizeSetter(t),o),k(n,this.chartPositionSetter(t),o),k(s,this.chartAreaTopSetter(t),o);const c=this.initKeystrokeHub(t),h=this.getKeystrokeHubSetter(t,c);l.addEventListener("mouseover",h)}initLookup(t){const{config:e,topNode:i}=t,{restoreDrawings:a,initKeystrokeHub:r}=this;r(t),t.changeSymbol=function(i){const{stx:r,loader:n}=this;n&&n.show(),i.symbol==i.symbol.toLowerCase()&&(i.symbol=i.symbol.toUpperCase());const{removeSeries:s,loadError:o}=e.onNewSymbolLoad||{};s&&Object.values(r.chart.series).filter(s).forEach((t=>r.removeSeries(t.id))),r.loadChart(i,(function(i){n&&n.hide(),i?o&&o(i,t):e.restore&&a(r,r.chart.symbol,e.chartId)}))};const n=b(e.selector.lookupComponent,i);e.LookupDriver&&n.length&&(t.setLookupDriver(new e.LookupDriver),n.forEach((t=>t.setCallback(((t,e)=>t.changeSymbol(e))))),t.UISymbolLookup=n)}initKeystrokeHub(t){return document.body.keystrokeHub||(document.body.keystrokeHub=new i.UI.KeystrokeHub(document.body,t,{cb:i.UI.KeystrokeHub.defaultHotKeys})),document.body.keystrokeHub}getKeystrokeHubSetter(t,e){return function(){e.context!==t&&(e.setActiveContext(t),b("cq-lookup").forEach((t=>t.removeAttribute("cq-keystroke-default"))),y("cq-menu.ciq-search cq-lookup",t.topNode).setAttribute("cq-keystroke-default",""))}}initDialogHandler(t){const{config:{channels:e,dialogs:a},stx:r}=t;function n({type:t=null,params:e={}}={}){if(!t)return;const r=a[t]||a[i.makeCamelCase(t)];if(!r)return;let n=y(r.tag);if(!n){const t=s(),e=document.createElement("cq-dialog");n=document.createElement(r.tag),Object.entries(r.attributes||{}).forEach((([t,e])=>n.setAttribute(t,e))),e.append(n),t.append(e)}function s(){let t=y(".cq-dialogs");return t||(t=document.createElement("div"),t.classList.add("cq-dialogs"),document.body.append(t),t)}n&&n.open&&n.open(e)}k(e.dialog,n,r)}initDrawingTools(t){const{stx:e,config:i,topNode:a}=t;function r(t){a.classList[t?"add":"remove"]("toolbar-on"),e.resizeChart()}k(i.channels.drawing,r,e)}initDrawingEditListeners(t){const{config:e,stx:a}=t,r=new i.UI.DrawingEdit(null,t);let n=!0;const s=e.channels.drawing;r.node.addEventListener("drawing-edit-begin",(function(t){S(s,a)||(n=!1,x(s,!0,a))}),!1),r.node.addEventListener("drawing-edit-end",(function({detail:t}){n||("edit"!==t.action&&(n=!0),"close"===t.action&&x(s,!1,a))}),!1)}initColorPicker(){document.querySelector("cq-color-picker")||document.body.append(document.createElement("cq-color-picker"))}loadChart(t){const{stx:e,topNode:i,config:a,loader:r}=t;r&&r.show(),a.restore&&(this.restorePreferences(e,i.id),this.restoreLayout(e,(function(){r&&r.hide()}),a.chartId));const{initialSymbol:n}=a;n&&!e.chart.symbol&&t.UISymbolLookup[0].selectItem("string"==typeof n?{symbol:n}:n),e.termStructure&&e.setChartType("termstructure")}notifySizeChanges(t){const{stx:e,topNode:{clientWidth:i,clientHeight:a},config:{channels:r}}=t,n=S(r.containerSize,e);if(n&&n.width===i&&n.height===a)return;const s=this.getBreakpoint(i);x(r.breakpoint,s,e),x(r.containerSize,{width:i,height:a},e),e.resizeChart()}getBreakpoint(t){return t>700?"break-lg":t>584?"break-md":"break-sm"}initEventMarkers(t){if(i.UI.Markers&&i.Marker.Implementation){const e=new i.Marker.Implementation(t.stx),a=t.config.selector.markersMenuItem;new i.UI.Markers(t,{menuItemSelector:a,implementation:e})}}initExtensions({stx:t,uiContext:e,config:a,type:r}){const n=a[r];Object.entries(n).filter((([,t])=>!!t)).forEach((([a,n])=>{const s=n.moduleName||i.capitalize(a);try{if(!i[s])return void(i.debug&&console.log(`${s} not available for ${r} with params:`,n));const a=Object.assign({stx:t,context:e},n),o=new i[s](a);n.postInstall&&n.postInstall({uiContext:e,extension:o})}catch(t){i.debug&&console.error("Error configuring "+r+" using params ",n,"error",t)}}))}initStorage(t,e){if(!e.restore)return;const a=i.ensureDefaults(e.callbacks||{},{layout:this.getSaveLayout(e),symbolChange:this.getSaveLayout(e),drawing:this.getSaveDrawings(e),newChart:this.retoggleEvents,preferences:this.savePreferences});for(var r in a)t.addEventListener(r,a[r])}getSaveLayout(t){return function({stx:e}){var a=JSON.stringify(e.exportLayout(!0));i.localStorageSetItem("myChartLayout"+(t.chartId||""),a)}}restoreLayout(t,e,a){const{restoreDrawings:r}=this;a||(a="");var n=i.localStorage.getItem("myChartLayout"+a);function s(){r(t,t.chart.symbol,a),e&&e()}t.importLayout(JSON.parse(n),{managePeriodicity:!0,cb:s}),t.termStructure&&t.setCandleWidth(1)}getSaveDrawings(t){return function({stx:e,symbol:a}){var r=e.exportDrawings(),n=t.chartId?t.chartId+"~"+a:a;0===r.length?i.localStorage.removeItem(n):i.localStorageSetItem(n,JSON.stringify(r))}}restoreDrawings(t,e,a){const r=a?a+"~"+e:e,n=i.localStorage.getItem(r);if(null!==n){var s=JSON.parse(n);s&&(t.importDrawings(s),t.draw())}}savePreferences({stx:t}){i.localStorageSetItem("myChartPreferences",JSON.stringify(t.exportPreferences()))}restorePreferences(t,e){e||(e="");var a=i.localStorage.getItem("myChartPreferences"+e);a&&t.importPreferences(JSON.parse(a))}retoggleEvents({stx:t}){r(t.container).find(".stx-markers .ciq-active").triggerHandler("stxtap")}chartPositionSetter(t){const e=y(".chartContainer",t.topNode);return function(t){if(!t)return;const{top:i,left:a}=t;e.style.marginTop=i+"px",e.style.marginLeft=a+"px"}}sidenavSizeSetter(t){const e=y(".ciq-chart-area",t.topNode);return function(t){e.style.left=t+"px"}}chartAreaTopSetter(t){const e=y(".ciq-chart-area",t.topNode);return function(i){const a=Object.values(i||{}).reduce(((t,e)=>t+e),0);e.style.marginTop=a+"px",t.stx.resizeChart()}}sidepanelSizeSetter(t){const e=y(".ciq-chart-area",t.topNode),i=y("cq-tradingcentral",t.topNode);return function(t){e.style.right=t+"px",i&&(i.style.marginRight=t+"px")}}breakpointSetter(t){return function(e){t.topNode.classList.remove("break-lg","break-md","break-sm"),t.topNode.classList.add(e)}}}return i.UI.Chart=C,t}(i(7249),i(9106))}()},93588:function(t,e,i){var a,r,n,s=i(19755);r=[i(96614)],a=function(t){var e=t.CIQ;class i extends e.UI.BaseComponent{connectedCallback(){this.type=this.getAttribute("cq-type")||"helicopter",this.init()}init(){if(this.attached)return;const{markups:t}=this.constructor;this.addDefaultMarkup(this,t[this.type])}}e.UI.AbstractMarker=i,i.markups={helicopter:'\n\t\t<div class="stx-marker-templates" style="left: -1000px; visibility:hidden;">\n\t\t\t\x3c!-- Abstract Markers. You can remove this unless you actually need a helicopter. Seriously though, markers can be anything you want them to be! --\x3e\n\t\t\t<div class="abstract">\n\t\t\t\t<div class="stx-marker abstract">\n\t\t\t\t\t<div class="stx-marker-content">\n\t\t\t\t\t\t<div class="sample">\n\t\t\t\t\t\t\t<div stage>\n\t\t\t\t\t\t\t\t<div helicopter>\n\t\t\t\t\t\t\t\t\t<div propeller style="height: 160px;">\n\t\t\t\t\t\t\t\t\t\t<div spinner style="-webkit-transform-origin: 40px 0 0; transform-origin: 40px 0 0;">\n\t\t\t\t\t\t\t\t\t\t\t<div style="-webkit-transform: rotateY(0deg) translateX(40px); transform: rotateY(0deg) translateX(40px);"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div style="-webkit-transform: rotateY(-90deg) translateX(40px); transform: rotateY(-90deg) translateX(40px);"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div style="-webkit-transform: rotateY(-180deg) translateX(40px); transform: rotateY(-180deg) translateX(40px);"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div style="-webkit-transform: rotateY(-270deg) translateX(40px); transform: rotateY(-270deg) translateX(40px);"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div heli-body></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="text">This is an example of a complex marker which can contain html, video, images, css, and animations.</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'},e.UI.addComponentDefinition("cq-abstract-marker",i);class a extends e.UI.ModalTag{constructor(){super(),this.nameValueStore=new e.NameValueStore}close(){this.node.css({display:"none"});var t=this;this.nameValueStore.get("cq-advertisement",(function(e,i){if(!e){var a=new Date;t.sleepAmount||(t.sleepAmount={units:1,unitType:"day"});var r=t.sleepAmount.units,n=t.sleepAmount.unitType;"minute"==n?a.setMinutes(a.getMinutes()+r):"hour"==n?a.setHours(a.getHours()+r):"day"==n?a.setDate(a.getDate()+r):"week"==n?a.setDate(a.getDate()+7*r):"month"==n&&a.setMonth(a.getMonth()+r);var s=a.getTime();i&&"object"==typeof i||(i={}),i[t.selector]=s,t.nameValueStore.set("cq-advertisement",i)}}))}makeMarker(){this.markerExists||(new e.Marker({stx:this.context.stx,xPositioner:"none",label:"advertisement",permanent:!0,node:this.node[0]}),this.markerExists=!0)}setNameValueStore(t){this.nameValueStore=t}setSleepAmount(t,e){this.sleepAmount={units:t,unitType:e}}show(t,e){if(this.selector&&this.node.find(this.selector).removeClass("ciq-show"),this.selector=t,!this.selector){var i=this.node.find("div:first-of-type");this.selector="."+i.attr("class")}this.ignoreSleep=e;var a=this;function r(){a.makeMarker(),a.node.css({display:"block"}),a.node.find(a.selector).addClass("ciq-show"),a.node.css({height:"0px"}),setTimeout((function(){a.node.css({height:a.node[0].scrollHeight+"px"})}),0)}e?r():this.nameValueStore.get("cq-advertisement",(function(t,e){if(!t){e&&"object"==typeof e||(e={});var i=e[a.selector];i&&i>Date.now()||r()}}))}watchForRemoteClose(t){t||(t=1e3);var e=this;setInterval((function(){"none"!=e.node.css("display")&&e.nameValueStore.get("cq-advertisement",(function(t,i){if(!t){i&&"object"==typeof i||(i={});var a=i[e.selector];a&&a>Date.now()&&e.close()}}))}),t)}}e.UI.Advertisement=a,e.UI.addComponentDefinition("cq-advertisement",a);class r extends e.UI.DialogContentTag{constructor(){super()}open(t){this.addDefaultMarkup(),super.open(t);var i=this.context.stx,a=t.aggregationType,r={kagi:{title:"Set Reversal Percentage"},renko:{title:"Set Brick Size"},linebreak:{title:"Set Price Lines"},rangebars:{title:"Set Range"},pandf:{title:"Set Point & Figure Parameters"}};i.layout.aggregationType!=a&&i.setAggregationType(a);var n=r[a],o=this.node;for(var l in o.find(".title").text(i.translateIf(n.title)),r)o.find(".ciq"+l).css(a===l?{display:""}:{display:"none"});o.find(".ciq"+a+" input").each((function(){var t=this.name;"box"!=t&&"reversal"!=t||(t="pandf."+t);var a=e.deriveFromObjectChain(i.layout,t);a&&!a.obj[a.member]&&i.chart.defaultChartStyleConfig[this.name]&&s(this).val(i.chart.defaultChartStyleConfig[this.name])}))}}e.UI.AggregationDialog=r,r.markup='\n\t\t<h4 class="title"></h4>\n\t\t<div stxtap="hide()" class="ciq-icon ciq-close"></div>\n\t\t<div style="text-align:center;margin-top:10px;">\n\t\t\t<div class="ciqkagi">\n\t\t\t\t<i>Enter value and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="kagi" stxtap="Layout.setAggregationEdit(\'kagi\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class="ciqrenko">\n\t\t\t\t<i>Enter value and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="renko" stxtap="Layout.setAggregationEdit(\'renko\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class="ciqlinebreak">\n\t\t\t\t<i>Enter value and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="priceLines" stxtap="Layout.setAggregationEdit(\'priceLines\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class="ciqrangebars">\n\t\t\t\t<i>Enter value and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="range" stxtap="Layout.setAggregationEdit(\'rangebars\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class="ciqpandf">\n\t\t\t\t<i>Enter box size and hit "Enter"</i>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="box" stxtap="Layout.setAggregationEdit(\'pandf.box\')">\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<i>Enter reversal and hit "Enter"</i>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<input name="reversal" stxtap="Layout.setAggregationEdit(\'pandf.reversal\')">\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<p>or</p>\n\t\t\t<p>\n\t\t\t\t<div class="ciq-btn" stxtap="Layout.setAggregationEdit(\'auto\')">Auto Select</div>\n\t\t\t</p>\n\t\t</div>\n\n\t',e.UI.addComponentDefinition("cq-aggregation-dialog",r);class n extends e.UI.ModalTag{constructor(){super(),this.messages={sources:{simulator:"Simulated data.",demo:"Demo data.",xignite:'<a target="_blank" href="https://www.xignite.com">Market Data</a> by Xignite.',fis_mm:'<a target="_blank" href="https://www.fisglobal.com/">Market Data</a> by FIS MarketMap.',Twiggs:'Formula courtesy <a target="_blank" href="https://www.incrediblecharts.com/indicators/twiggs_money_flow.php">IncredibleCharts</a>.'},exchanges:{RANDOM:"Data is randomized.","REAL-TIME":"Data is real-time.",DELAYED:"Data delayed 15 min.",RATES:"Yield data latest from source, bid/ask simulated.",BATS:"BATS BZX real-time.",EOD:"End of day data."}}}insert(t,i){var a=e.UI.makeFromTemplate(this.template);return new e.Marker({stx:t,node:a[0],xPositioner:"none",yPositioner:"none",label:"component",panelName:i,permanent:!0}),a}setContext(t){this.addDefaultMarkup(),this.template=this.node.find("template");var i=this.insert(t.stx,"chart"),a=this;this.addInjection("append","createDataSet",(function(){var t,r;this.chart.attribution&&((t=a.messages.sources[this.chart.attribution.source])||(t=""),(r=a.messages.exchanges[this.chart.attribution.exchange])||(r=""),t+r!=i.attr("lastAttrib")&&(i.find("cq-attrib-source").html(t),i.find("cq-attrib-quote-type").html(r),e.I18N.translateUI(null,i[0]),i.attr("lastAttrib",t+r)));t:for(var n in this.layout.studies){var s=this.layout.studies[n].type;if(a.messages.sources[s]){for(var o=0;o<this.markers.attribution.length;o++)if(this.markers.attribution[o].params.panelName==this.layout.studies[n].panel)continue t;if(!this.panels[n])continue;(t=a.messages.sources[s])||(t=""),(r=a.messages.exchanges[s])||(r="");var l=a.insert(this,n);l.find("cq-attrib-source").html(t),l.find("cq-attrib-quote-type").html(r),e.I18N.translateUI(null,l[0])}}}))}}e.UI.Attribution=n,n.markup="\n\t\t<template>\n\t\t\t<cq-attrib-container>\n\t\t\t\t<cq-attrib-source></cq-attrib-source>&nbsp;\n\t\t\t\t<cq-attrib-quote-type></cq-attrib-quote-type>\n\t\t\t</cq-attrib-container>\n\t\t</template>\n\t",e.UI.addComponentDefinition("cq-attribution",n),t.$$$;var o=t.quoteFeedSimulator;class l extends HTMLElement{get config(){return JSON.parse(this.getAttribute("chart-constructor"))}get defer(){return JSON.parse(this.getAttribute("defer-start"))}get drawingToolbar(){return JSON.parse(this.getAttribute("toolbar-active"))}constructor(){super()}connectedCallback(){if(this.defer)return;let t=Object.assign({container:document.querySelector(".chartContainer")},this.config);this.preferences&&(t.preferences=this.preferences),this.stx=new e.ChartEngine(t),this.startChart()}disconnectedCallback(){this.stx.destroy()}startChart(t,e,i){if(this.stx||(this.stx=t),!this.stx)throw new Error("no CIQ.ChartEngine created!\nDouble check that you have passed an engine into this function.");this.configureDataSource(e,i),this.configureMarkets(),this.configureAddOns(),this.startUI()}configureDataSource(t,e){t?this.stx.attachQuoteFeed(t,e):this.stx.attachQuoteFeed(o,{refreshInterval:1})}startUI(){this.setHeight(),this.startComponentUI()}configureMarkets(){this.stx.setMarketFactory(e.Market.Symbology.factory)}configureAddOns(){e.RangeSlider&&new e.RangeSlider({stx:this.stx}),e.Animation&&new e.Animation(this.stx,{tension:.3}),e.ExtendedHours&&new e.ExtendedHours({stx:this.stx,filter:!0}),e.InactivityTimer&&(this.inactivityTimer=new e.InactivityTimer({stx:this.stx,minutes:30})),e.Tooltip&&new e.Tooltip({stx:this.stx,ohl:!0,volume:!0,series:!0,studies:!0}),e.FullScreen&&new e.FullScreen({stx:this.stx})}startComponentUI(){var t=this.stx,i=e.UI.getMyContext(t.container);i||(i=new e.UI.Context(this.stx,document.querySelector("cq-context, [cq-context]"))),i.stx=this.stx,new e.UI.StudyEdit(null,i),new e.UI.KeystrokeHub(document.querySelector("body"),i,{cb:e.UI.KeystrokeHub.defaultHotKeys}),i.loader&&i.loader.show(),e.I18N.wordlists&&e.I18N.localize(t,t.preferences.language),this.restoreLayout(t,(function(){i.loader&&i.loader.hide()})),this.restorePreferences(t),t.addEventListener("layout",this.saveLayout),t.addEventListener("symbolChange",this.saveLayout),t.addEventListener("preferences",this.savePreferences),t.addEventListener("newChart",this.retoggleEvents),t.addEventListener("drawing",this.saveDrawings)}restoreLayout(t,i){var a=e.localStorage.getItem("myChartLayout"),r=this;function n(){r.restoreDrawings(t,t.chart.symbol),i&&i()}t.importLayout(JSON.parse(a),{managePeriodicity:!0,cb:n})}saveLayout(t){var i=JSON.stringify(t.stx.exportLayout(!0));e.localStorageSetItem("myChartLayout",i)}restorePreferences(t){var i=e.localStorage.getItem("myChartPreferences");i&&t.importPreferences(JSON.parse(i))}savePreferences(t){e.localStorageSetItem("myChartPreferences",JSON.stringify(t.stx.exportPreferences()))}retoggleEvents(t){var i=document.querySelector(".stx-markers .ciq-radio.ciq-active");i&&e.UI.BaseComponent.activate(i.parentElement)}saveDrawings(t){var i=t.stx.exportDrawings();0===i.length?e.localStorage.removeItem(t.symbol):e.localStorageSetItem(t.symbol,JSON.stringify(i))}restoreDrawings(t,i){var a=e.localStorage.getItem(i);if(null!==a){var r=JSON.parse(a);r&&(t.importDrawings(r),t.draw())}}showMarkers(t){this.hideMarkers(),this.createSampleEvents(t),this.stx.draw()}hideMarkers(){e.Marker.removeByLabel(this.stx,"circle"),e.Marker.removeByLabel(this.stx,"square"),e.Marker.removeByLabel(this.stx,"callout"),e.Marker.removeByLabel(this.stx,"helicopter")}createSampleEvents(t){let i=this.stx;var a=i.masterData.length,r=[];a>=5&&r.push({x:i.masterData[a-5].DT,type:t,category:"news",headline:"This is a Marker for a News Item"}),a>=15&&r.push({x:i.masterData[a-15].DT,type:t,category:"earningsUp",headline:"This is a Marker for Earnings (+)"}),a>=25&&r.push({x:i.masterData[a-25].DT,type:t,category:"earningsDown",headline:"This is a Marker for Earnings (-)"}),a>=35&&r.push({x:i.masterData[a-35].DT,type:t,category:"dividend",headline:"This is a Marker for Dividends"}),a>=45&&r.push({x:i.masterData[a-45].DT,type:t,category:"filing",headline:"This is a Marker for a Filing"}),a>=55&&r.push({x:i.masterData[a-55].DT,type:t,category:"split",headline:"This is a Marker for a Split"});for(var n="Like all ChartIQ markers, the object itself is managed by the chart, so when you scroll the chart the object moves with you. It is also destroyed automatically for you when the symbol is changed.",s=0;s<r.length;s++){var o=r[s];o.story=n;var l={stx:i,label:t,xPositioner:"date",x:o.x,node:new e.Marker.Simple(o)};new e.Marker(l)}}setHeight(){var t=this.parentElement.clientHeight;this.drawingToolbar?this.style.height=t-45+"px":this.style.height=t+"px"}}e.UI.ChartIQChart=l,e.UI.addComponentDefinition("chartiq-chart",l);class c extends e.UI.ContextTag{setContext(){this.contextSet||(this.contextSet=!0,this.addDefaultMarkup())}}e.UI.ChartLegend=c,c.markup='\n\t\t<cq-study-legend cq-marker-label="Plots" cq-clone-to-panels="Plots" cq-panel-only cq-marker cq-hovershow cq-content-keys="cq-label,cq-comparison-label">\n\t\t\t<cq-comparison>\n\t\t\t\t<cq-comparison-key cq-panel-only cq-all-series>\n\t\t\t\t\t<template cq-comparison-item>\n\t\t\t\t\t\t<cq-comparison-item>\n\t\t\t\t\t\t\t<cq-swatch cq-overrides="auto"></cq-swatch>\n\t\t\t\t\t\t\t<cq-comparison-label>AAPL</cq-comparison-label>\n\t\t\t\t\t\t\t\x3c!-- cq-comparison-price displays the current price with color animation --\x3e\n\t\t\t\t\t\t\t<cq-comparison-price cq-animate></cq-comparison-price>\n\t\t\t\t\t\t\t\x3c!-- cq-comparison-tick-price displays the price for the active crosshair item --\x3e\n\t\t\t\t\t\t\t\x3c!-- <cq-comparison-tick-price></cq-comparison-tick-price>\t--\x3e\n\t\t\t\t\t\t\t<cq-comparison-loader></cq-comparison-loader>\n\t\t\t\t\t\t\t<div class="stx-btn-ico ciq-close"></div>\n\t\t\t\t\t\t</cq-comparison-item>\n\t\t\t\t\t</template>\n\t\t\t\t</cq-comparison-key>\n\t\t\t</cq-comparison>\n\t\t\t<template cq-study-legend>\n\t\t\t\t<cq-item>\n\t\t\t\t\t<cq-label></cq-label>\n\t\t\t\t\t<span class="ciq-edit"></span>\n\t\t\t\t\t<div class="ciq-icon ciq-close"></div>\n\t\t\t\t</cq-item>\n\t\t\t</template>\n\t</cq-study-legend>\n\t',e.UI.addComponentDefinition("cq-chart-legend",c);class h extends e.UI.ModalTag{constructor(){super(),this.previousClose=null}begin(){var t=this;this.addDefaultMarkup(),this.addInjection("append","createDataSet",(function(){t.update()})),this.update()}disconnectedCallback(){this.context&&e.UI.unobserveProperty("symbolObject",this.context.stx.chart,this.listener),super.disconnectedCallback()}initialize(t){this.params=t||{},void 0===this.params.autoStart&&(this.params.autoStart=!0),this.marker=null,this.params.autoStart&&this.begin()}setContext(t){var i=this,a=this.context.stx;this.listener=function(t){i.previousClose=a.mostRecentClose("iqPrevClose")},e.UI.observeProperty("symbolObject",a.chart,this.listener),this.initialize()}update(){var t=this.context.stx,i=s(this),a=i.find("cq-symbol"),r=i.find("cq-symbol-description"),n=i.find("cq-current-price"),o=i.find("cq-todays-change"),l=i.find("cq-todays-change-pct"),c=i.find("cq-chart-price"),h=i.find("cq-change"),u=this.node.truthyAttr("cq-browser-tab"),d=c.length,p=t.chart.symbol,g=t.chart.symbolDisplay,f=t.internationalizer,m=!1;p?i.addClass("stx-show"):i.removeClass("stx-show");var v=a.textBetter(p);if(t.isHistoricalModeSet)return n.textBetter(""),void h.css({display:"none"});var y="",b=0,x="",S=t.getFirstLastDataRecord(t.chart.dataSet,"Close",!0),k="",C="";if(S&&(k=S.Close),d){""!==k&&(C=t.formatYAxisPrice(k,t.chart.panel,t.chart.decimalPlaces));var w=parseFloat(n.text());if(n.textBetter(C)){m=!0;var D=n.attr("cq-animate");void 0!==D&&e.UI.animatePrice(n,k,w,"fade"==D)}}if(r.textBetter(g||p),(d||u)&&p&&(v||m)){var T=S&&S.iqPrevClose;T||0===T||(T=this.previousClose),k||0===k?(b=(y=e.fixPrice(k-T))/T*100,x=T<=0||k<0?"N/A":f?f.percent2.format(b/100):b.toFixed(2)+"%",h.css({display:"block"})):h.css({display:"none"});var A=Math.abs(y),M=t.formatYAxisPrice(A,t.chart.panel,t.chart.decimalPlaces);A&&o.textBetter(M),l.length&&l.textBetter(x),""!==x&&y>0?c.removeClass("stx-down").addClass("stx-up"):""!==x&&y<0?c.removeClass("stx-up").addClass("stx-down"):c.removeClass("stx-down").removeClass("stx-up"),k=void 0!==k?k:"",y=void 0!==y?y:"",this.title=p+" ​ ​ "+C+" ​ ​ ​ ",y>0?this.title+="▲ "+M:y<0&&(this.title+="▼ "+M),u&&(document.title=this.title)}}}e.UI.ChartTitle=h,h.markup='\n\t\t<cq-symbol></cq-symbol>\n\t\t<cq-chart-price>\n\t\t\t<cq-current-price cq-animate></cq-current-price>\n\t\t\t<cq-change>\n\t\t\t\t<div class="ico"></div>\n\t\t\t\t<cq-todays-change></cq-todays-change> (\n\t\t\t\t<cq-todays-change-pct></cq-todays-change-pct>)\n\t\t\t</cq-change>\n\t\t</cq-chart-price>\n\t',e.UI.addComponentDefinition("cq-chart-title",h);class u extends e.UI.ModalTag{constructor(){super()}connectedCallback(){this.attached||super.connectedCallback()}setContext(t){this.addDefaultMarkup();var e=this.node;e[0].addEventListener("touchstart",(function(t){t.stopPropagation()})),e[0].addEventListener("mousedown",(function(t){t.stopPropagation()})),e.find("input").stxtap((function(){this.focus()}))}}e.UI.ChartcontrolGroup=u,u.markup='\n\t\t<cq-menu class="ciq-search">\n\t\t\t<cq-lookup cq-keystroke-claim cq-uppercase></cq-lookup>\n\t\t</cq-menu>\n\t\t<cq-toggle class="ciq-draw" cq-member="drawing"><span></span><cq-tooltip>Draw</cq-tooltip></cq-toggle>\n\t\t<cq-toggle class="ciq-CH" cq-member="crosshair"><span></span><cq-tooltip>Crosshair</cq-tooltip></cq-toggle>\n\t\t<cq-menu class="ciq-menu ciq-period">\n\t\t\t<span><cq-clickable stxbind="Layout.periodicity">1D</cq-clickable></span>\n\t\t\t<cq-menu-dropdown>\n\t\t\t\t<cq-menu-container cq-name="menuPeriodicity"></cq-menu-container>\n\t\t\t</cq-menu-dropdown>\n\t\t</cq-menu>\n\t',e.UI.addComponentDefinition("cq-chartcontrol-group",u);class d extends e.UI.ContextTag{constructor(){super()}connectedCallback(){if(!this.attached){super.connectedCallback();var t=this;s(this).stxtap((function(){t.runMethod()}))}}runMethod(){var t=this.node.attr("cq-selector"),e=this.node.attr("cq-method");const{context:i}=this;if(/-dialog/.test(t)&&"open"===e&&i.config)this.channelWrite(i.config.channels.dialog,{type:t.replace(/cq-|-dialog/g,""),params:{context:i,caller:this}},i.stx);else{var a=this;s(t).each((function(){this[e]&&this[e].call(this,{context:a.context,caller:a})}))}}}e.UI.Clickable=d,e.UI.addComponentDefinition("cq-clickable",d);class p extends e.UI.BaseComponent{constructor(){super()}connectedCallback(){if(!this.attached){var t=this;s(this).stxtap(e),super.connectedCallback()}function e(){t.tap()}}tap(){e.UI.containerExecute(this,"close")}}e.UI.Close=p,e.UI.addComponentDefinition("cq-close",p);class g extends e.UI.ContextTag{setContext(){this.contextSet||(this.contextSet=!0,this.addDefaultMarkup())}}e.UI.ComparisonLookup=g,e.UI.addComponentDefinition("cq-comparison-lookup",g),g.markup='\n\t\t<cq-comparison cq-marker>\n\t\t\t<cq-menu class="cq-comparison-new" cq-focus="input">\n\t\t\t\t<cq-comparison-add-label class="ciq-no-share">\n\t\t\t\t\t<cq-comparison-plus></cq-comparison-plus><span>Compare</span><span>...</span>\n\t\t\t\t</cq-comparison-add-label>\n\t\t\t\t<cq-comparison-add>\n\t\t\t\t\t<cq-comparison-lookup-frame>\n\t\t\t\t\t\t<cq-lookup cq-keystroke-claim cq-uppercase></cq-lookup>\n\t\t\t\t\t</cq-comparison-lookup-frame>\n\t\t\t\t\t<cq-swatch cq-no-close></cq-swatch>\n\t\t\t\t\t<span><cq-accept-btn class="stx-btn">ADD</cq-accept-btn></span>\n\t\t\t\t</cq-comparison-add>\n\t\t\t</cq-menu>\n\t\t</cq-comparison>\n\t';class f extends e.UI.ModalTag{constructor(){super(),this.swatchColors=[],this.loading=[]}connectedCallback(){this.attached||(super.connectedCallback(),this.swatchColors=["#8ec648","#00afed","#ee652e","#912a8e","#fff126","#e9088c","#ea1d2c","#00a553","#00a99c","#0056a4","#f4932f","#0073ba","#66308f","#323390"])}configureUI(){var t=this.node,i=t.find("cq-accept-btn");this.template=t.find("*[cq-comparison-item]");var a=t.find("cq-swatch").attr("cq-colors");a&&(this.swatchColors=a.split(","));for(var r=0;r<this.swatchColors.length;r++)this.swatchColors[r]=e.convertToNativeColor(this.swatchColors[r]);var n=t.find("cq-lookup");n.length&&n[0].setCallback(function(t){return function(){t.selectItem.apply(t,arguments)}}(this)),i.stxtap((function(t){n[0].forceInput(),t.stopPropagation()}))}pickSwatchColor(){var t=s(this),e=this.context.stx,i=t.find("cq-swatch");if(i.length){var a=i[0].style.backgroundColor,r={};for(var n in e.chart.series){var o=e.chart.series[n];o.parameters.isComparison&&(r[o.parameters.color]=!0)}if(""===a||r[a])for(var l=0;l<this.swatchColors.length;l++)if(!r[this.swatchColors[l]])return void(i[0].style.backgroundColor=this.swatchColors[l])}}position(){var t=this.context.stx,e=t.barFromPixel(t.cx);this.tick=t.tickFromPixel(t.cx);var i=t.chart.xaxis[e],a=this;function r(){var e;for(var r in a.timeout=null,t.chart.series){e||(e=a.node.find("cq-comparison-key"));var n=e.find('cq-comparison-item[cq-symbol="'+r+'"] cq-comparison-tick-price');if(n.textBetter(""),n.length&&i&&i.data){var s=t.chart.series[r].parameters.symbol;n.textBetter(t.padOutPrice(i.data[s]));var o=i.data[s];null!==o&&("object"==typeof o&&(o=o.Close),n.textBetter(t.padOutPrice(o)))}}}if(this.tick!=this.prevTick){this.timeout&&clearTimeout(this.timeout);var n=0;this.timeout=setTimeout(r,n)}this.prevTick=this.tick}removeSeries(t,e){this.context.stx.removeSeries(t)}renderLegend(){function t(t,e,i){return function(){t.nomore=!0,i.parameters.permanent||t.removeSeries(e,i),t.modalEnd()}}this.pickSwatchColor();var i=s(this),a=i.parents(".stx-holder")[0],r=i.find("cq-comparison-key").cqvirtual();if(r.length){var n=this.context.stx;n.getDefaultColor();var o=void 0!==r.attr("cq-panel-only"),l=void 0===r.attr("cq-all-series");for(var c in n.chart.seriesRenderers){var h=n.chart.seriesRenderers[c];if(h!=n.mainSeriesRenderer&&(!l||h.params.isComparison)&&(!o||a&&h.params.panel==a.panel.name))for(var u=0;u<h.seriesParams.length;u++){var d=h.seriesParams[u],p=e.UI.makeFromTemplate(this.template),g=p.find("cq-comparison-swatch"),f=p.find("cq-swatch"),m=p.find("cq-comparison-label"),v=p.find("cq-comparison-description"),y=p.find("cq-comparison-loader"),b=p.find(".ciq-close"),x=n.chart.series[d.id],S=x.parameters,k=S.color||h.colors[x.id].color,C="auto"==k;C&&(k=n.defaultColor),g.css({background:k}),f.length&&(f[0].seriesId=d.id,f[0].setColor(k,!1,C)),S.opacity&&(g.css({opacity:S.opacity}),f.css({opacity:S.opacity})),m.text(n.translateIf(x.display)),v.text(n.translateIf(x.description)),p.attr("cq-symbol",x.id);var w=S.symbol,D=n.mostRecentClose(w);if(D||0===D){var T=p.find("cq-comparison-price");T.length&&T.text(n.padOutPrice(D))}this.loading[S.symbolObject.symbol]?y.addClass("stx-show"):y.removeClass("stx-show"),S.error&&p.attr("cq-error",!0),!S.color||S.permanent?b.hide():b.stxtap(t(this,x.id,x)),r.append(p)}}r.cqrender().parents("cq-study-legend").each((function(){this.displayLegendTitle()}))}}setColor(t,e){e.seriesId&&this.context.stx.modifySeries(e.seriesId,{color:t})}startPriceTracker(t){var e=this;this.addInjection("append","createDataSet",(function(){t&&e.updatePrices(),this.chart.dataSet&&this.chart.dataSet.length?e.node.attrBetter("cq-show"):e.node.removeAttrBetter("cq-show")}))}startTickPriceTracker(){this.prevTick=null,this.addInjection("prepend","headsUpHR",function(t){return function(){t.position()}}(this))}selectItem(t,e){var i=this;function a(t,e){t&&(e.parameters.error=!0),i.loading[e.parameters.symbolObject.symbol]=!1,i.renderLegend()}var r=this.node.find("cq-swatch"),n="auto",s=null,o=1;if(r[0]){var l=r[0].style;n=l.backgroundColor,s=l.borderTopStyle,o=l.width||1}var c=t.stx;this.loading[e.symbol]=!0;for(var h={name:"comparison "+e.symbol,symbolObject:e,isComparison:!0,color:n,pattern:s,width:o||1,data:{useDefaultQuoteFeed:!0},forceData:!0},u=c.getSeries({symbolObject:e}),d=0;d<u.length;d++)if(u[d].parameters.isComparison)return void(this.loading[e.symbol]=!1);e.symbol&&e.symbol.trim().length>0&&(!t.stx.chart.symbol||t.stx.chart.symbol.toLowerCase()!==e.symbol.toLowerCase())?c.addSeries(e.symbol,h,a):this.loading[e.symbol]=!1}setContext(t){this.node.attr("cq-show","true"),this.configureUI();var i=this;function a(t){i.renderLegend()}if(this.context.stx.chart,this.eventListeners.push(this.context.stx.addEventListener("layout",a)),this.eventListeners.push(this.context.stx.addEventListener("theme",a)),this.context.stx.append("modifySeries",(function(){i.renderLegend()})),this.renderLegend(),this.template.length){var r=e.UI.makeFromTemplate(this.template);this.startPriceTracker(r.find("cq-comparison-price").length),r.find("cq-comparison-tick-price")&&this.startTickPriceTracker()}}updatePrices(){var t,i=this.context.stx,a=i.isHistoricalModeSet,r=e.ChartEngine.isDailyInterval(i.layout.interval);for(var n in i.chart.series){t||(t=this.node.find("cq-comparison-key"));var s=t.find('cq-comparison-item[cq-symbol="'+n+'"] cq-comparison-price');if(s.length){i.chart.series[n].parameters.symbol;var o=i.chart.series[n].lastQuote;if(!o||!o.DT||!o.Close&&0!==o.Close)continue;if(!r&&i.chart.market&&null===i.chart.market.getSession(o.DT))continue;var l=o.Close,c=i.chart.series[n].parameters.subField||"Close",h=parseFloat(s.text());if(l&&(l[c]||0===l[c])&&(l=l[c]),!l&&0!==l&&i.chart.series[n].lastQuote&&(l=i.chart.series[n].lastQuote[c]),s.textBetter(i.padOutPrice(a?"":l)),a)return;void 0!==s.attr("cq-animate")&&e.UI.animatePrice(s,l,h)}}}}e.UI.Comparison=f,e.UI.addComponentDefinition("cq-comparison",f);class m extends e.UI.ContextTag{constructor(){super()}get active(){return this.context.stx.currentVectorParameters["active"+this._scope]}set active(t){this.context.stx.currentVectorParameters["active"+this._scope]=t}get color(){return this.context.stx.currentVectorParameters["color"+this._scope]}set color(t){this.context.stx.currentVectorParameters["color"+this._scope]=t}get lineWidth(){return this.context.stx.currentVectorParameters["lineWidth"+this._scope]}set lineWidth(t){this.context.stx.currentVectorParameters["lineWidth"+this._scope]=t}get pattern(){return this.context.stx.currentVectorParameters["pattern"+this._scope]}set pattern(t){this.context.stx.currentVectorParameters["pattern"+this._scope]=t}connectedCallback(){if(!this.attached){Object.defineProperty(this,"_scope",{configurable:!0,enumerable:!1,value:this.getAttribute("cq-cvp-header")||"",writable:!1});var t=s('template[cq-cvp-controller], template[cvp-controller="true"]');if(0===this.children.length&&t.length){e.UI.makeFromTemplate(t,this);var i=this.querySelector(".ciq-heading");i&&(i.innerHTML=this._scope)}super.connectedCallback()}}emit(t,e){this.toolbar?this.toolbar.emit(t,e):this.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:e}))}getColor(t){var i=s(t.node||s(this).find("cq-line-color")),a=this.color;"transparent"!=a&&"auto"!=a||(a=""),s(i).css({background:a});var r=e.getBackgroundColor(this.parentNode);if(!a||Math.abs(e.hsl(r)[2]-e.hsl(a)[2])<.2){var n=e.chooseForegroundColor(r);i.css({border:"solid "+n+" 1px"}),a||i.css({background:"linear-gradient(to bottom right, "+n+","+n+" 49%, "+r+" 50%, "+r+")"})}else i.css({border:""})}pickColor(t){var e=s("cq-color-picker")[0],i=this,a=s(t.node).attr("cq-overrides");if(!e)return console.error("CVPController.prototype.pickColor: no <cq-color-picker> available");a&&(t.overrides=a.split(",")),e.callback=function(e){i.color=e,i.getColor(t),i.emit("change",{color:e})},t.context=this.context,e.display(t)}setContext(){this.setStyle()}setStyle(t,e,i){e=e||"1",i=i||"dotted",this.lineWidth=parseInt(e,10),this.pattern=i;var a=s(this).find("*[cq-cvp-line-style]");this.lineStyleClassName&&a.removeClass(this.lineStyleClassName),i&&"none"!==i?(this.lineStyleClassName="ciq-"+i+"-"+this.lineWidth,a.addClass(this.lineStyleClassName)):this.lineStyleClassName=null,this.emit("change",{lineWidth:e,pattern:i})}sync(t){var e=t["active"+this._scope],i=t["color"+this._scope],a=t["lineWidth"+this._scope],r=t["pattern"+this._scope],n="ciq-active",o=s(this).find(".ciq-checkbox");e?o.addClass(n):o.removeClass(n),this.active=!!e,this.color=i||"",this.getColor({}),this.setStyle(null,a,r)}toggleActive(t){var e=s(t.node),i="ciq-active";this.active?(this.active=!1,e.removeClass(i)):(this.active=!0,e.addClass(i)),this.emit("change",{active:this.active})}}e.UI.CVPController=m,e.UI.addComponentDefinition("cq-cvp-controller",m);class v extends e.UI.BaseComponent{constructor(){super(),this.activeAttributes={}}connectedCallback(){if(!this.attached){this.isDialog=!0,super.connectedCallback();var t=this;this.node.stxtap(a);var i=e.UI.getUIManager();i.registerForResize(this),this.uiManager=i}function a(e){t.tap(e)}}disconnectedCallback(){this.uiManager.unregisterForResize(this),super.disconnectedCallback()}addActiveAttribute(t){this.activeAttributes[t]=!0}center(){var t=this.node.parent();"BODY"==t[0].tagName&&(t=s(window));var e=t.guaranteedWidth(),i=t.guaranteedHeight(),a=this.node.outerWidth(),r=this.node.outerHeight(),n=e/2-a/2,o=i/2-r/2;n<0&&(n=0),i>2*r&&o+r/2>i/3&&(o=i/3-r/2),o<0&&(o=0),this.node.css({top:o+"px",left:n+"px"})}close(){this.uiManager.closeMenu(this),this.onClose&&this.onClose()}hide(){if(!s(this).find(":invalid").length){for(var t in this.node.children().each((function(){"function"==typeof this.hide&&this.hide()})),this.active=!1,this.uiManager.overlay&&this.uiManager.overlay.removeAttrBetter("cq-active"),this.activeAttributes)this.node.removeAttrBetter(t);this.activeAttributes={},s(this).find("input").each((function(){this==document.activeElement&&this.blur()}))}}open(t){this.uiManager.openMenu(this,t);const{context:e}=t||{};if(!e||!e.config)return void(this.onClose=null);const{config:{channels:i},stx:a}=e;this.onClose=()=>{this.channelWrite(i.dialog,{},a),this.onClose=null}}resize(){this.params&&this.params.x?this.stxContextMenu():this.center(),s(this.node).find("cq-scroll").each((function(){this.resize()}))}show(t){this.params=t,t||(t=this.params={});var i=this;if(!this.uiManager.overlay&&!t.bypassOverlay){this.uiManager.overlay=s("<cq-dialog-overlay></cq-dialog-overlay>");var a=t.context||e.UI.getMyContext(this);a&&a.node.append(this.uiManager.overlay)}i.active=!0,setTimeout((function(){for(var e in i.uiManager.overlay&&!t.bypassOverlay&&i.uiManager.overlay.attrBetter("cq-active"),i.activeAttributes["cq-active"]=!0,i.activeAttributes)i.node.attrBetter(e);i.resize()}))}stxContextMenu(){var t=this.node.parent();"BODY"==t[0].tagName&&(t=s(window));var e=t.guaranteedWidth(),i=t.guaranteedHeight(),a=this.node.outerWidth(),r=this.node.outerHeight(),n=this.params.x,o=this.params.y,l=!1;this.node.find("cq-menu.stxMenuActive:has(.context-menu-right)").each((function(){var t=s(this),e=t.find(".context-menu-right"),i=t.nextAll().length+1;a+=e.outerWidth(),r+=e.outerHeight()-t.outerHeight()*i,l=!0})),n+a>e&&(n=e-a),o+r>i&&(o=i-r),o<0&&(o=0),l&&(this.params.x=n,this.params.y=o),this.node.css({top:o+"px",left:n+"px"})}tap(t){this.uiManager.topMenu()!==this&&t.currentTarget.active||t.stopPropagation()}}e.UI.Dialog=v,e.UI.addComponentDefinition("cq-dialog",v);class y extends e.UI.DialogContentTag{constructor(){super()}open(t){this.addDefaultMarkup(),this.drawing=t.drawing;var e=s(this).find("[cq-edit-text]");return this.drawing.edit?e.show():e.hide(),super.open(t)}}e.UI.DrawingContext=y,y.markup='\n\t\t<div stxtap="DrawingEdit.text()" cq-edit-text>Edit Text</div>\n\t\t<div stxtap="DrawingEdit.edit()">Edit Settings</div>\n\t\t<div stxtap="DrawingEdit.clone()">Clone Drawing</div>\n\t\t<cq-menu stxtap="resize()" cq-close-top="cq-dialog[cq-drawing-context]">\n\t\t\t<cq-menu-dropdown cq-no-scroll="true" class="context-menu-right">\n\t\t\t\t<cq-item stxtap="DrawingEdit.reorderLayer(\'top\')">Bring to Top</cq-item>\n\t\t\t\t<cq-item stxtap="DrawingEdit.reorderLayer(\'up\')">Bring Forward</cq-item>\n\t\t\t\t<cq-item stxtap="DrawingEdit.reorderLayer(\'down\')">Send Backward</cq-item>\n\t\t\t\t<cq-item stxtap="DrawingEdit.reorderLayer(\'bottom\')">Send to Bottom</cq-item>\n\t\t\t</cq-menu-dropdown>\n\t\t\t\x3c!-- element here so that <cq-menu-dropdown> can keep "top: auto;" --\x3e\n\t\t\t<div>Layer Management<div class="context-button-right-arrow"></div></div>\n\t\t</cq-menu>\n\t\t<div stxtap="DrawingEdit.remove()">Delete Drawing</div>\n\t',e.UI.addComponentDefinition("cq-drawing-context",y);class b extends e.UI.DialogContentTag{constructor(){super()}add(){var t=s(this).find("[cq-custom-fibonacci-setting] input").val();if(t&&(t=parseFloat(t)/100,!isNaN(t))){for(var i,a,r=this.context.stx.currentVectorParameters.fibonacci.fibs||[],n=0;n<r.length;n++)if((i=r[n]).level>t){(a=e.clone(i)).level=t,a.display=!0,r.splice(n,0,a);break}a||(i=r.length?e.clone(r[0]):{color:"auto",parameters:{pattern:"solid",opacity:.25,lineWidth:1}},(a=e.clone(i)).level=t,a.display=!0,r.push(a)),this.open()}}close(){if(this.opener){var t=new Event("change",{bubbles:!0,cancelable:!0});this.opener.dispatchEvent(t)}super.close()}open(t){this.addDefaultMarkup(),super.open(t),t&&(this.opener=t.caller);var i,a=this.context.stx.currentVectorParameters,r=a.vectorType,n=s(this);if(a.fibonacci&&"fibtimezone"!=r){n.find(".title").text("Fibonacci Settings");var o=a.fibonacci.fibs||[];(i=n.find("cq-fibonacci-settings")).emptyExceptTemplate();for(var l=0;l<o.length;l++){var c=o[l];if(!("fibarc"===r&&c.level<0)){var h=e.UI.makeFromTemplate(this.node.find("template"),i),u=100*c.level;h.find(".ciq-heading").text(u.toFixed(1)+"%");var d=h.find("input");c.display&&d.prop("checked",!0),this.setChangeEvent(d,"fib",c.level),h.find(".stx-data").append(d)}}}else n.find(".title").text("Settings"),(i=n.find("cq-fibonacci-settings")).emptyExceptTemplate();s(this).find("[cq-custom-fibonacci-setting] input").val("")}setChangeEvent(t,e,i){var a=this;function r(){return function(){var t=a.context.stx.currentVectorParameters,e=t.vectorType;if(t.fibonacci&&"fibtimezone"!=e){var r=t.fibonacci.fibs||[];if("checkbox"==this.type)for(var n=0;n<r.length;n++){var s=r[n];s.level===i&&(s.display=!!this.checked)}}}}t.change(r())}}e.UI.FibSettingsDialog=b,b.markup='\n\t\t<h4 class="title">Settings</h4>\n\t\t<cq-scroll cq-no-maximize>\n\t\t\t<cq-fibonacci-settings>\n\t\t\t\t<template cq-fibonacci-setting>\n\t\t\t\t\t<cq-fibonacci-setting>\n\t\t\t\t\t\t<div class="ciq-heading"></div>\n\t\t\t\t\t\t<div class="stx-data">\n\t\t\t\t\t\t\t<input type="checkbox">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</cq-fibonacci-setting>\n\t\t\t\t</template>\n\t\t\t</cq-fibonacci-settings>\n\t\t\t<div cq-custom-fibonacci-setting>\n\t\t\t\t<input class="ciq-heading" type="text">%\n\t\t\t\t<div class="ciq-btn stx-data" stxtap="add()">Add</div>\n\t\t\t</div>\n\t\t</cq-scroll>\n\t\t<div class="ciq-dialog-cntrls">\n\t\t\t<div class="ciq-btn" stxtap="close()">Done</div>\n\t\t</div>\n\t',e.UI.addComponentDefinition("cq-fib-settings-dialog",b);class x extends e.UI.BaseComponent{constructor(){super()}connectedCallback(){this.attached||(this.innerHTML=this.render(),this.generateTable(2,2),this.highlightTable(1,1))}get maxcols(){return this.getAttribute("maxcols")||4}set maxcols(t){this.setAttribute("maxcols",t)}get maxrows(){return this.getAttribute("maxrows")||4}set maxrows(t){this.setAttribute("maxrows",t)}generateTable(t,e){var i=this;function a(t){let e=parseInt(t.target.dataset.column)+1;e>i.maxcols&&(e=i.maxcols);let a=parseInt(t.target.dataset.row)+1;a>i.maxrows&&(a=i.maxrows),i.generateTable(e,a),i.highlightTable(parseInt(t.target.dataset.column),parseInt(t.target.dataset.row))}let r=this.querySelector("table");if(r){this.cleanTable(t,e),t=t||1,e=e||1;for(let i=1;i<=e;i++){let n;r.childNodes[i-1]?n=r.childNodes[i-1]:(n=document.createElement("tr"),r.appendChild(n));for(let r=1;r<=t;r++)if(!n.childNodes[r-1]){let s=document.createElement("td");s.dataset.row=i,s.dataset.column=r,s.dataset.rows=e,s.dataset.columns=t,s.addEventListener("mouseenter",a),s.addEventListener("click",function(t){this.triggerUpdateGridEvent(t.target.dataset.column,t.target.dataset.row)}.bind(this)),s.appendChild(document.createElement("div")),n.appendChild(s)}}}}triggerUpdateGridEvent(t,e){document.querySelector("body").dispatchEvent(new CustomEvent("update-grid",{detail:{columns:t,rows:e},bubbles:!0,composed:!0}))}highlightTable(t,e){for(let i of this.querySelectorAll("td"))i.dataset.column<=t&&i.dataset.row<=e?i.classList.add("highlight"):i.classList.remove("highlight");this.querySelector(".row.count").innerHTML=e,this.querySelector(".column.count").innerHTML=t}cleanTable(t,e){let i=this.querySelector("table");for(;i.childNodes.length>e;)i.removeChild(i.lastChild);for(let e of i.childNodes)for(;e.childNodes.length>t;)e.removeChild(e.lastChild)}render(){return'\n\t\t\t\t<style>\n\t\t\t\t\tcq-grid-size-picker, cq-grid-size-picker tr, cq-grid-size-picker td{\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker tr{\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\tline-height: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker td{\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\theight: 19px;\n\t\t\t\t\t\twidth: 19px;\n\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker td div{\n\t\t\t\t\t\tpointer-events: none;\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\theight: 15px;\n\t\t\t\t\t\twidth: 15px;\n\t\t\t\t\t\tmargin: 2px;\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\tborder: solid 1px #ccc;\n\t\t\t\t\t\tborder-color: var(--grid-size-border-color, #ccc);\n\t\t\t\t\t\tbackground: #eee; /* keep a hard coded style in case the var function is unavailable */\n\t\t\t\t\t\tbackground-color: var(--grid-size-background-color, #eee);\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker td:hover div, cq-grid-size-picker td.highlight div{\n\t\t\t\t\t\tborder-color: #666;\n\t\t\t\t\t\tborder-color: var(--grid-size-border-hl-color, #666);\n\t\t\t\t\t\tbackground: #ccc;\n\t\t\t\t\t\tbackground-color: var(--grid-size-background-hl-color, #ccc);\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker p{\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tline-height: 1em;\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\tmargin: 5px 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tcq-grid-size-picker .multiply{\n\t\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t}\n\t\t\t\t</style>\n\n\t\t\t\t<table class="grid-size-picker"></table>\n\t\t\t\t<p><span class="row count">1</span> <span class="multiply">+</span> <span class="column count">1</span></p>\n\t\t\t'}}e.UI.GridSizePicker=x,e.UI.addComponentDefinition("cq-grid-size-picker",x);class S extends e.UI.ContextTag{setContext(){if(!this.hasAttribute("cq-filter"))return;const t=this.getAttribute("cq-filter")||"Search";this.createFilter(t)}createFilter(t){const e=document.createElement("div");e.classList.add("searchFilter"),this.appendChild(e);const i=document.createElement("input");i.type="search",i.placeholder=t,e.appendChild(i),this.searchWrapper=e;const a=this.nextElementSibling,r=({target:{value:t}})=>{const e=new RegExp(t,"i");this.qsa("cq-item",a).forEach((i=>{const a=t&&!e.test(i.textContent)?"add":"remove";i.classList[a]("item-hidden")}))};i.addEventListener("input",r),i.addEventListener("keyup",r);const n=this.getAttribute("cq-filter-min")||15,s=()=>{const t=this.qsa("cq-item",a).length;e.classList[t>n?"add":"remove"]("active")};void 0!==typeof MutationObserver?(new MutationObserver(s).observe(this.parentElement,{childList:!0,subtree:!0}),s()):e.classList.add("active")}}e.UI.Heading=S,e.UI.addComponentDefinition("cq-heading",S);class k extends e.UI.ContextTag{setContext(t){this.addDefaultMarkup();const i=new e.UI.HeadsUp(this,t,{followMouse:!0,autoStart:!1});let a=t.config?t.config.channels.headsUp:"layout.headsUp";this.channelSubscribe(a,(t=>i["dynamic"===t?"begin":"end"]()))}}k.markup='\n\t\t<svg version="1.1" x="0px" y="0px" viewBox="0 0 215 140" enableBackground="new 0 0 215 140">\n\t\t\t<defs>\n\t\t\t\t<filter id="ciq-hu-shadow" height="130%">\n\t\t\t\t\t<feGaussianBlur in="SourceAlpha" stdDeviation="1"></feGaussianBlur>\n\t\t\t\t\t<feOffset dx="0" dy="1" result="offsetblur"></feOffset>\n\t\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t\t<feFuncA type="linear" slope="0.2"></feFuncA>\n\t\t\t\t\t</feComponentTransfer>\n\t\t\t\t\t<feMerge>\n\t\t\t\t\t\t<feMergeNode></feMergeNode>\n\t\t\t\t\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t\t\t\t\t</feMerge>\n\t\t\t\t</filter>\n\t\t\t</defs>\n\t\t\t<polygon\n\t\t\t\tclass="ciq-hu-bg" style="stroke-width: 1;"\n\t\t\t\tpoints="198.4,124.4 1,124.4 1,1 214,1 214,137.8"\n\t\t\t\tfilter="url(#ciq-hu-shadow)"\n\t\t\t\t/>\n\t\t\t<path class="ciq-hu-stroke"\n\t\t\t\tfill="#398DFF"\n\t\t\t\td="M213,2v133.6l-13.7-11.8l-0.6-0.5H198H2V2H213 M215,0H0v125.4h198l17,14.6V0L215,0z">\n\t\t\t</path>\n\t\t</svg>\n\t\t<div>\n\t\t\t<cq-hu-col1>\n\t\t\t\t<cq-hu-date></cq-hu-date>\n\t\t\t\t<cq-hu-price></cq-hu-price>\n\t\t\t\t<cq-volume-grouping>\n\t\t\t\t\t<div>Volume</div>\n\t\t\t\t\t<div><cq-volume-visual></cq-volume-visual></div>\n\t\t\t\t\t<div><cq-hu-volume></cq-hu-volume><cq-volume-rollup></cq-volume-rollup></div>\n\t\t\t\t</cq-volume-grouping>\n\t\t\t</cq-hu-col1>\n\t\t\t<cq-hu-col2>\n\t\t\t\t<div>Open</div><cq-hu-open></cq-hu-open>\n\t\t\t\t<div>Close</div><cq-hu-close></cq-hu-close>\n\t\t\t\t<div>High</div><cq-hu-high></cq-hu-high>\n\t\t\t\t<div>Low</div><cq-hu-low></cq-hu-low>\n\t\t\t</cq-hu-col2>\n\t\t</div>\n\t',e.UI.HeadsUpDynamic=k,e.UI.addComponentDefinition("cq-hu-dynamic",k);class C extends e.UI.ContextTag{setContext(t){this.addDefaultMarkup();const i=new e.UI.HeadsUp(this,t,{autoStart:!0});let a=t.config?t.config.channels.headsUp:"layout.headsUp";this.channelSubscribe(a,(t=>i["static"===t?"begin":"end"]()))}}C.markup="\n\t\t<div>\n\t\t\t<div>Price</div><cq-hu-price></cq-hu-price>\n\t\t\t<div>Open</div><cq-hu-open></cq-hu-open>\n\t\t\t<div>Close</div><cq-hu-close></cq-hu-close>\n\t\t</div>\n\t\t<div>\n\t\t\t<div>Vol</div>\n\t\t\t<cq-volume-section>\n\t\t\t\t<cq-hu-volume></cq-hu-volume>\n\t\t\t\t<cq-volume-rollup></cq-volume-rollup>\n\t\t\t</cq-volume-section>\n\t\t\t<div>High</div><cq-hu-high></cq-hu-high>\n\t\t\t<div>Low</div><cq-hu-low></cq-hu-low>\n\t\t</div>\n\t",e.UI.HeadsUpStatic=C,e.UI.addComponentDefinition("cq-hu-static",C);class w extends e.UI.ContextTag{setContext(t){let i=this.constructor.markup;const a=this.getAttribute("cq-toggles");a&&(i=i.replace(/dynamic,static,null/,a)),this.addDefaultMarkup(this,i),this.tooltip=this.querySelector("cq-tooltip");let r=t.config?t.config.channels:{headsUp:"layout.headsUp",crosshair:"layout.crosshair"};this.channelSubscribe(r.headsUp,(()=>this.applyValues(r))),this.channelSubscribe(r.crosshair,(t=>{(e.isMobile||t)&&"dynamic"===this.channelRead(r.headsUp)&&setTimeout((()=>this.channelWrite(r.headsUp,"static")))})),this.initInfoComponents(t)}setTooltip(t){const{context:{stx:e},tooltip:i}=this;i.innerText=e.translateIf(`Info ${t||"off"}`)}initInfoComponents(t){const e=this.querySelector("cq-toggle").getAttribute("cq-toggles");["dynamic","static"].forEach((function(i){if(new RegExp(i).test(e)&&!t.topNode.querySelector(`cq-hu-${i}`)){const e=document.createElement(`cq-hu-${i}`);t.topNode.append(e)}}))}applyValues(t){const i=this.channelRead(t.crosshair),a=this.channelRead(t.headsUp);"dynamic"===a&&(i||e.isMobile)&&setTimeout((()=>this.channelWrite(t.headsUp,"static"))),e.isMobile&&"static"===a&&setTimeout((()=>this.channelWrite(t.crosshair,!0))),this.setTooltip(a)}}w.markup='\n\t\t<cq-toggle\n\t\t\tclass="ciq-HU"\n\t\t\tcq-member="headsUp"\n\t\t\tcq-toggles="dynamic,static,null">\n\t\t\t<span></span>\n\t\t\t<cq-tooltip>Info</cq-tooltip>\n\t\t</cq-toggle>\n\t',e.UI.InfoToggle=w,e.UI.addComponentDefinition("cq-info-toggle",w);let D=!1;class T extends HTMLElement{connectedCallback(){if(this.hasAttribute("attached"))return;this.setAttribute("attached","");var t=this;function i(i){e.localStorageSetItem("myChartPreferences"+t.id,JSON.stringify(i.stx.exportPreferences()))}function a(i){var a=JSON.stringify(i.stx.exportLayout(!0));e.localStorageSetItem("myChartLayout"+t.id,a)}function r(i){var a=i.stx.exportDrawings();0===a.length?e.localStorage.removeItem(t.id+"~"+i.symbol):e.localStorageSetItem(t.id+"~"+i.symbol,JSON.stringify(a))}const n=this.getAttribute("env-container")||"body",s=this.getAttribute("tmpl-src");var o=this.querySelector("cq-context");o||(o=this.appendChild(document.createElement("cq-context")));const l=this.hasAttribute("no-save");this.style.visibility="hidden",e.loadUI(s,o,(function(e){if(e)return;var s=t.querySelector("cq-chart-title");s&&s.removeAttribute("cq-browser-tab");for(var o=t.querySelectorAll("cq-ui-manager, cq-dialog, cq-color-picker"),c=0;c<o.length;c++){var h=o[c];h.parentNode.removeChild(h),D||document.querySelector(n).appendChild(h)}D=!0;const u={extendedHours:!0,rangeSlider:!0,inactivityTimer:!0,initialSymbol:t.getAttribute("symbol"),storage:!l},d={layout:a,symbolChange:a,drawing:r,preferences:i};t.signalEvent=new CustomEvent("signal-chart-ready",{detail:{node:t,params:u,callbacks:d}}),t.setAttribute("cq-event-flag",""),t.style.visibility="",document.body.dispatchEvent(t.signalEvent)}))}disconnectedCallback(){this.stx.destroy()}}e.UI.InstantChart=T,customElements.define("cq-instant-chart",T);class A extends e.UI.DialogContentTag{constructor(){super()}close(){s("cq-language-dialog").closest("cq-dialog,cq-menu").each((function(){this.close()}))}open(t){this.addDefaultMarkup(),super.open(t);var i=this.node.find("cq-languages");i.emptyExceptTemplate();var a=this.node.find("template"),r=e.I18N.languages;if(r)for(var n in r){var s=e.UI.makeFromTemplate(a,i);s.find("cq-language-name").text(r[n]),s.find("cq-flag").attr("cq-lang",n),s.stxtap(o(n))}function o(t){return function(){e.UI.contextsForEach((function(){var i=this.stx;i.preferences.language=t,i.changeOccurred("preferences"),e.I18N.localize(i,t),i.draw()}))}}}}e.UI.LanguageDialog=A,A.markup='\n\t\t<h4 class="title">Choose language</h4>\n\t\t<cq-close></cq-close>\n\t\t<cq-languages>\n\t\t\t<template><div><cq-flag></cq-flag><cq-language-name></cq-language-name></div></template>\n\t\t</cq-languages>\n\t',e.UI.addComponentDefinition("cq-language-dialog",A);class M extends e.UI.ContextTag{constructor(){super()}setContext(t){this.context.setLoader(this)}show(){s(this).addClass("stx-show")}hide(){s(this).removeClass("stx-show")}}e.UI.Loader=M,e.UI.addComponentDefinition("cq-loader",M);class L extends e.UI.ContextTag{constructor(){super(),this.usingEmptyDriver=!1,this.currentFilter=null,this.params={}}acceptText(t,i){var a=this;this.params.driver||(this.context.lookupDriver?this.setDriver(this.context.lookupDriver):(this.setDriver(new e.ChartEngine.Driver.Lookup),this.usingEmptyDriver=!0));var r=this.params.driver.exchanges;function n(t){a.params.driver.exchanges=r,a.results(t)}var s=this.getAttribute("cq-exchanges");s&&(this.params.driver.exchanges=s.split(",")),this.params.driver.acceptText(t,i,null,n)}attachDriver(t){this.driver=t}close(){this.node.closest("cq-dialog,cq-menu").each((function(){this.close()}))}forceInput(){var t=this.input[0];this.selectItem({symbol:t.value}),e.blur(this.input),this.close(),t.value=""}initialize(){this.addDefaultMarkup();var t=s(this);this.resultList=t.find("cq-scroll"),this.input=t.find("input"),this.input.length||(this.input=t.append(s("<input type='hidden'>")),this.input[0].value=""),this.input.stxtap((function(){this.focus()}));var e=this;this.input.on("paste",(function(t){var i=t.target;setTimeout((function(){e.acceptText(i.value,e.currentFilter)}),0)}));var i=t.find("cq-lookup-filters");i&&i.find("cq-filter").stxtap((function(){i.find("cq-filter").removeClass("true");var t=s(this);t.addClass("true");var a=t.find("translate");a.length?e.currentFilter=a.attr("original"):e.currentFilter=this.innerHTML,e.acceptText(e.input[0].value,e.currentFilter)})),void 0!==t.attr("cq-keystroke-claim")&&this.addClaim(this)}isActive(){return""!==this.input[0].value}keyStroke(t,i,a,r){if(r.ctrl||"Meta"==i||"Win"==i)return!1;var n=s(this).parents().addBack(),o=this.input[0],l=!1,c=document.activeElement===o;if(!c&&(a.altKey||document.activeElement&&("INPUT"==document.activeElement.tagName||"TEXTAREA"==document.activeElement.tagName)))return!1;var h=!1,u=!1;if(n.hasClass("stxMenuActive")&&(u=!0),(c||u)&&(h=!0),!h){if(void 0===this.node.attr("cq-keystroke-default"))return;if(!u&&this.uiManager.topMenu())return}if((" "===i||"Spacebar"===i)&&""===o.value)return!1;var d=this;if(r.key&&1==r.key.length&&a.which>=32&&a.which<=222&&(c||(o.value=o.value+r.key),d.acceptText(o.value,d.currentFilter),l=!0),"Delete"==i||"Backspace"==i||"Del"==i){if(this.context.stx.anyHighlighted)return!1;o.value.length&&(window.getSelection().toString()?o.value="":(c||(o.value=o.value.substring(0,o.value.length-1)),o.value.length&&d.acceptText(o.value,d.currentFilter)),l=!0),"Backspace"==i&&(l=!0)}if("Escape"!==i&&"Esc"!==i||!u||(o.value="",this.close(),e.blur(o),l=!0),"Enter"===i&&""!==o.value&&this.isActive()){var p=this.node.find("cq-scroll");if((c=p.length&&p[0].focused())&&c.selectFC)c.selectFC.apply(c,{});else{var g=o.value;this.node.truthyAttr("cq-uppercase")&&(g=g.toUpperCase()),this.selectItem({symbol:g})}e.blur(this.input),this.close(),o.value="",l=!0}return l?(!this.usingEmptyDriver&&(o.value.length||"Escape"!=i&&"Esc"!=i&&"Enter"!=i&&c)?this.open():this.close(),!c||{allowDefault:!0}):void 0}open(){this.node.closest("cq-dialog,cq-menu").each((function(){this.open()}))}results(t){function i(t,i){return function(a){e.blur(t.input),t.selectItem(i),t.input[0].value=""}}this.resultList.empty();for(var a=0;a<t.length;a++){for(var r=t[a],n="<cq-item>",o=0;o<r.display.length;o++)n+="<SPAN>"+r.display[o]+"</SPAN>";var l=s(n+="</cq-item>");this.resultList.append(l),l[0].selectFC=i(this,r.data),l.stxtap(l[0].selectFC)}var c=this.node.find("cq-scroll");c.length&&c[0].top()}selectItem(t,e){this.params.cb&&this.params.cb(this.context,t,e)}setCallback(t){this.params.cb=t}setContext(t){this.initialize();const e=this.querySelector("cq-lookup-input input"),{config:i,stx:a}=t;i&&this.channelSubscribe(i.channels.breakpoint,(t=>{var i=a.termStructure?"Entity":"Symbol";"break-lg"===t&&(i="Enter "+i),e.setAttribute("placeholder","break-sm"===t?"":i)}))}setDriver(t){this.params.driver=t}}e.UI.SymbolLookup=L,L.markup='\n\t\t<cq-lookup-input cq-no-close>\n\t\t\t<input type="text" spellcheck="off" autocomplete="off" autocorrect="off" autocapitalize="off" name="symbol" placeholder="">\n\t\t\t<cq-lookup-icon></cq-lookup-icon>\n\t\t</cq-lookup-input>\n\t\t<cq-lookup-results>\n\t\t\t<cq-lookup-filters cq-no-close>\n\t\t\t\t<cq-filter class="true">ALL</cq-filter>\n\t\t\t\t<cq-filter>STOCKS</cq-filter>\n\t\t\t\t<cq-filter>FX</cq-filter>\n\t\t\t\t<cq-filter>INDEXES</cq-filter>\n\t\t\t\t<cq-filter>FUNDS</cq-filter>\n\t\t\t\t<cq-filter>FUTURES</cq-filter>\n\t\t\t</cq-lookup-filters>\n\t\t\t<cq-scroll></cq-scroll>\n\t\t</cq-lookup-results>\n\t',e.UI.addComponentDefinition("cq-lookup",L);class _ extends e.UI.ContextTag{setContext(t){const e=this.getAttribute("cq-name");if(e&&t.config){const i=t.config.getMenu(e);this.addDefaultMarkup(this,i.join(""))}}}e.UI.MenuContainer=_,e.UI.addComponentDefinition("cq-menu-container",_);class P extends HTMLElement{constructor(){super(),this.node=s(this),this.activeClassName="stxMenuActive",this.active=!1}get focusElement(){return this.getAttribute("cq-focus")}connectedCallback(){if(!this.attached&&(this.uiManager=e.UI.getUIManager(),this.attached=!0,!this.node.attr("readonly"))){var t=this,i=this.node[0];this.node.stxtap(a),i.addEventListener("stxtap",r,!0)}function a(e){t.tap(e)}function r(e){t.captureTap(e)}}captureTap(t){var e=s(t.target).parents().addBack();this.noClose=e.filter((function(){var t=s(this).attr("cq-no-close");return void 0!==t&&!1!==t})).length,this.noClose||(this.noClose=e.filter((function(){return s(this).is("cq-separator,cq-heading")})).length)}close(){this.uiManager.closeMenu(this)}hide(){this.active&&(this.unlift(),this.node.removeClass(this.activeClassName),this.active=!1,s(this).find("input").each((function(){this==document.activeElement&&this.blur()})))}lift(){for(var t=this.lifts=this.uiManager.findLifts(this),e=0;e<t.length;e++)this.uiManager.lift(t[e])}open(t){for(var e=this.uiManager.activeMenuStack,i=0;i<e.length;i++)if(e[i]===this)return;this.uiManager.openMenu(this,t)}show(t){this.active||(this.active=!0,this.node.addClass(this.activeClassName),this.lift(),this.node.find("cq-scroll").each((function(){this.resize()})))}tap(t){var e=this.uiManager;if(this.active)t.stopPropagation(),this.noClose||e.closeMenu(this);else if(!this.active){if(t.stopPropagation(),s(t.target).parents("cq-menu-dropdown").length)return;for(var i=!1,a=this.node.parents("cq-menu,cq-dialog"),r=0;r<a.length;r++)a[r].active&&(i=!0);if(i||e.closeMenu(),this.open(),this.focusElement){const t=this.querySelector(this.focusElement);t&&t.focus()}}}unlift(){var t=this.lifts;if(t){for(var e=0;e<t.length;e++)this.uiManager.restoreLift(t[e]);this.lifts=null}}}e.UI.Menu=P,e.UI.addComponentDefinition("cq-menu",P);class F extends e.UI.ContextTag{constructor(){super(),this.dragging=!1,this.paletteRegistry=[],this.mouseOutCk=!1}connectedCallback(){this.attached||super.connectedCallback()}initListeners(){this.node=s(this);const{stx:t,config:e}=this.context,i=this,a=i.handleResize.bind(this);function r(){i.context.stx.showCrosshairs(),i.mouseOutCk=setTimeout((()=>i.stopDrag()),500)}function n(){i.context.stx.undisplayCrosshairs(),i.dragging&&(1!==event.buttons?i.stopDrag():clearTimeout(i.mouseOutCk))}function o(t){i.dragging&&(t.stopPropagation(),i.dragging.classList.contains("dragging")&&i.dragging.setTransformPosition(t.clientX,t.clientY),i.dragging.classList.contains("resizing")&&i.dragging.setHeightToPosition(t.clientY))}function l(e){i.setChartDimensions(),t.resizeChart()}this.setVerticalPaletteHeight(),this.addEventListener("mouseup",this.stopDrag.bind(this)),this.addEventListener("mouseleave",r),this.addEventListener("mouseenter",n),this.addEventListener("mousemove",o),this.addEventListener("mousedown",this.stopContext.bind(this)),t.append("resizeChart",(()=>a({resizeChart:!1}))),e&&e.channels.drawing&&this.channelSubscribe(e.channels.drawing,l)}setContext(){this.initListeners()}palettePublish(t,e){for(var i=0;i<this.paletteRegistry.length;i++)this.paletteRegistry[i](t,e)}paletteSubscribe(t){return this.paletteRegistry.push(t),this.palettePublish.bind(this)}getBounds(){return this.parentNode.getBoundingClientRect()}getChartBounds(){let t=this.parentNode.getBoundingClientRect(),e={top:0,left:0,height:t.height,width:t.width};for(var i=this.querySelectorAll('[docked="true"]'),a=0;a<i.length;a++){var r=i[a];"vertical"===r.orientation?(e.width-=r.getWidth(),e.left+=r.getWidth()):"horizontal"===r.orientation&&(e.height-=r.getHeight(),e.top+=r.getHeight())}return e}getChartBoundsOffset(){let t=this.parentNode.getBoundingClientRect(),e=this.getChartBounds();return e.top+=t.top,e.left+=t.left,e}startContext(){this.classList.add("context")}stopContext(){this.classList.remove("context"),this.palettePublish("context","stop")}startDrag(t,e){for(var i=this.querySelectorAll('[docked="false"]'),a=0;a<i.length;a++)i[a].style.zIndex=1;e=e||"dragging",this.dragging=t,this.classList.add("dragging"),this.dragging.classList.add(e),this.dragging.style.zIndex=10}stopDrag(){this.classList.remove("dragging"),this.dragging=!1,this.resizing=!1,s(this.node).find('[docked="false"]').each((function(){this.node.removeClass("dragging resizing")}))}startResize(t){this.resizing=t,this.classList.add("dragging"),this.dragging.classList.add("dragging")}handleResize({resizeChart:t=!0}={}){this.palettePublish("dockWillResize"),this.setChartDimensions(),this.setVerticalPaletteHeight();let e=document.body.classList.contains("break-sm");for(var i=this.querySelectorAll('[docked="false"]'),a=0;a<i.length;a++){var r=i[a];e?r.dock():r.checkPosition()}this.palettePublish("dockDidResize"),t&&this.context.stx.resizeChart()}setVerticalPaletteHeight(){s(this.node).find("[orientation=vertical]").each(function(t,e){"true"===s(e).attr("docked")&&s(e).css("height",this.parentNode.clientHeight+"px")}.bind(this))}setChartDimensions(){const t=this.context.stx.chart.container,{top:e,left:i,width:a,height:r}=this.getChartBounds(),{config:n}=this.context;n?this.channelWrite(n.channels.drawingPalettes,{top:e,left:i,width:a,height:r}):(t.style.width=a+"px",t.style.height=r+"px",t.style.top=e+"px",t.style.left=i+"px");for(var s=this.querySelectorAll('[orientation="horizontal"]'),o=0;o<s.length;o++){var l=s[o];l.style.left=i+1+"px",l.style.width=a+"px"}for(var c=this.querySelectorAll('[orientation="vertical"]'),h=0;h<c.length;h++){var u=c[h];"false"===u.docked?u.style.top=e+"px":u.style.top=0}}dockAllPalettes(){for(var t=this.querySelectorAll('[docked="false"]'),e=0;e<t.length;e++)t[e].dock()}}e.UI.PaletteDock=F,e.UI.addComponentDefinition("cq-palette-dock",F);class E extends e.UI.ContextTag{constructor(){super(),this.dragMargin=10}connectedCallback(){this.attached||super.connectedCallback()}init(){this.node=s(this),this.isDragging=!1,this.minHeight=parseInt(this.getAttribute("min-height"),10),isNaN(this.minHeight)&&(this.minHeight=25),this.paletteDock=this.parentElement.parentElement,this.dragStrip=this.querySelector(".drag-strip"),this.resizeStrip=this.querySelector(".resize-strip"),this.dragStrip&&this.dragStrip.addEventListener("mousedown",function(t){this.paletteDock.hasOwnProperty("dragging")&&this.paletteDock.startDrag(this)}.bind(this)),this.resizeStrip&&this.resizeStrip.addEventListener("mousedown",function(t){this.paletteDock.hasOwnProperty("dragging")&&this.paletteDock.startDrag(this,"resizing")}.bind(this)),this.paletteDock.paletteSubscribe&&(this.sendMessage=this.paletteDock.paletteSubscribe(this.handleMessage.bind(this)))}get hide(){return this.getAttribute("hide")}set hide(t){this.setAttribute("hide",t)}get docked(){return this.getAttribute("docked")}set docked(t){this.setAttribute("docked",t)}get orientation(){return this.getAttribute("orientation")}set orientation(t){this.setAttribute("orientation",t)}static get observedAttributes(){return["docked","hide"]}attributeChangedCallback(t,e,i){"docked"===t&&("false"===i?(this.setTransform(100,70),this.setHeightByScale(.8)):this.style.transform="")}handleMessage(t,e){return{id:t,message:e}}detach(t,e){let i=document.body.classList.contains("break-sm");if("true"===this.docked&&!i){this.docked="false",t=t||10,e=e||10;let i={top:0,left:0,width:0,height:0};this.paletteDock.getBounds&&(i=this.paletteDock.getChartBoundsOffset()),t>i.left+i.width-this.clientWidth&&(t=i.left+i.width-this.clientWidth),this.setTransformPosition(t,e),this.paletteDock.setChartDimensions(),this.paletteDock.setVerticalPaletteHeight()}}dock(){"false"===this.docked&&(this.docked="true",this.paletteDock.setChartDimensions(),this.paletteDock.setVerticalPaletteHeight())}getHeight(){return this.clientHeight}getWidth(){return this.clientWidth}checkPosition(){let t={top:0,left:0,width:0,height:0};this.paletteDock.getBounds&&(t=this.paletteDock.getChartBoundsOffset());const e=this.style.transform.split(/\w+\(|\);?/)[1].split(/,\s?/g).map((function(t){return parseInt(t)}));e[0]+=t.left+.5*this.dragStrip.clientWidth,e[1]+=t.top+.5*this.dragStrip.clientHeight,this.setTransformPosition(e[0],e[1])}setTransformPosition(t,e){let i={top:0,left:0,width:0,height:0};this.paletteDock.getBounds&&(i=this.paletteDock.getChartBoundsOffset());let a=Math.floor(e-i.top-.5*this.dragStrip.clientHeight),r=Math.floor(t-i.left-.5*this.dragStrip.clientWidth);a=Math.min(Math.max(a,this.dragMargin),i.height-(this.dragStrip.clientHeight+this.dragMargin)),r=Math.min(Math.max(r,this.dragMargin),i.width-(this.dragStrip.clientWidth+this.dragMargin)),this.setTransform(r,a)}setTransform(t,e){this.style.transform="translate3d("+t+"px,"+e+"px, 0px)"}setHeightToPosition(t){let e={top:0,left:0,width:0,height:0};this.paletteDock.getBounds&&(e=this.paletteDock.getBounds());let i=this.getBoundingClientRect(),a=t-i.top;"vertical"===this.orientation&&a>this.minHeight&&a+(i.top-e.top)<e.height&&this.setHeight(a)}setHeightByScale(t){this.style.height=Math.floor(parseInt(this.style.height,10)*t)+"px"}setHeight(t){this.style.height=t+"px"}}e.UI.Palette=E,e.UI.addComponentDefinition("cq-palette",E);class I extends e.UI.ContextTag{constructor(){super()}pairUp(t){this.undo=s(t)[0],this.undo.redoButton=this;var e=this;s(this).stxtap((function(){e.undo.redo()}))}}e.UI.Redo=I,e.UI.addComponentDefinition("cq-redo",I);class N extends e.UI.BaseComponent{constructor(){super(),this.node=s(this)}connectedCallback(){if(!this.attached&&(super.connectedCallback(),void 0===this.node.attr("cq-no-scroll"))){this.node.css({"overflow-y":"auto"}),this.uiManager=e.UI.getUIManager(),this.uiManager.length>0&&(this.uiManager=this.uiManager[0]);var t=this.node;t.perfectScrollbar&&t.perfectScrollbar({suppressScrollX:!0}),void 0===t.attr("cq-no-claim")&&this.addClaim(this),this.addEventListener(e.wheelEvent,(function(t){t.stopPropagation()}),{passive:!0});var i=this;e.UI.addResizeListener(this,(function(){i.resize()})),this.resize()}}disconnectedCallback(){e.UI.removeResizeListener(this),super.disconnectedCallback()}focused(){var t=this.node.find("cq-item[cq-focused]");return t.length?t[0]:null}keyStroke(t,e,i){var a=this.node;if(!a.is(":trulyvisible"))return!1;switch(e){case"ArrowUp":case"ArrowDown":case"Enter":case" ":case"Up":case"Down":case"Spacebar":break;default:return!1}var r=a.find("cq-item");if(r.length){var n=a.find("cq-item[cq-focused]");if(" "==e||"Spacebar"==e||"Enter"==e)return!(!n.length||!n[0].selectFC||(n[0].selectFC.call(n,i),0));if(!n.length)return s(r[0]).attr("cq-focused","true"),this.scrollToElement(r[0]),!0;r.removeAttr("cq-focused");for(var o=0;o<r.length&&r[o]!==n[0];o++);return"ArrowUp"!=e&&"Up"!=e||--o<0&&(o=0),"ArrowDown"!=e&&"Down"!=e||++o>=r.length&&(o=r.length-1),s(r[o]).attr("cq-focused","true"),this.scrollToElement(r[o]),!0}}resize(){var t=this.node,i=e.UI.getMyContext(this);if(!t.parents(".sharing").length&&void 0===t.attr("cq-no-resize")){void 0!==t.attr("cq-no-maximize")&&(this.noMaximize=!0);var a,r=t[0].getBoundingClientRect(),n=t.prop("reduceMenuHeight")||45;if(a=i&&i.topNode?i.topNode.offsetHeight:window.innerHeight){var o=a-r.top-n,l=t.parents(".stx-holder,.stx-subholder,.chartContainer");l.length&&l.each((function(){var t=s(this),e=t[0].getBoundingClientRect().top+t.height();o=Math.min(o,e-r.top-5)}));for(var c=t.nextAll(),h=0;h<c.length;h++){var u=s(c[h]);u.is(":visible")&&(o-=u.outerHeight())}this.noMaximize||t.css({height:o+"px"}),t.css({"max-height":o+"px"}),t.perfectScrollbar&&t.perfectScrollbar("update")}}}scrollToElement(t){var e=this.clientHeight,i=this.scrollTop,a=t.offsetTop+t.clientHeight;t.offsetTop>i&&a<e+i||(this.scrollTop=Math.max(a-e,0),this.node.perfectScrollbar&&this.node.perfectScrollbar("update"))}top(){this.scrollTop=0,this.node.perfectScrollbar&&this.node.perfectScrollbar("update")}refresh(){this.node.perfectScrollbar&&this.node.perfectScrollbar("update")}}e.UI.Scroll=N,e.UI.addComponentDefinition("cq-scroll",N);class q extends e.UI.ContextTag{setContext(){this.addDefaultMarkup()}tap(t){const{context:e}=this;e.config?this.channelWrite(e.config.channels.dialog,{type:"share",params:{context:e}},e.stx):document.querySelector("cq-share-dialog").open({context:e})}}q.markup='<div stxtap="tap();">Share</div>',e.UI.ShareButton=q,e.UI.addComponentDefinition("cq-share-button",q);class O extends e.UI.DialogContentTag{constructor(){super()}open(t){this.addDefaultMarkup(),this.setState("share-create"),super.open(t)}close(){this.setState("share-create"),super.close()}setState(t){this.addDefaultMarkup(),this.node.find("div[cq-share-dialog-div]")[0].className=t}share(){var t=this.context.stx,i=this;i.setState("share-generate"),s("cq-share-dialog .share-link-div").html(""),e.UI.bypassBindings=!0,e.Share.createImage(t,{hide:[".stx_chart_controls",".stx-btn-panel",".stx_jump_today",".stx-baseline-handle",".ciq-edit",".ciq-close","cq-marker-label"]},(function(a){e.UI.bypassBindings=!1;var r=e.uniqueID(),n="https://share.chartiq.com",o=t.getStartDateOffset(),l={layout:t.exportLayout(),drawings:t.exportDrawings(),xOffset:o,startDate:t.chart.dataSegment[o].Date,endDate:t.chart.dataSegment[t.chart.dataSegment.length-1].Date,id:r,symbol:t.chart.symbol},c=n+"/upload/"+r,h={id:r,image:a,config:l};i.setState("share-upload"),e.Share.uploadImage(a,c,h,(function(t,a){i.setState("share-copy"),null!==t?e.alert("error: "+t):s("cq-share-dialog .share-link-div").html(n+a)}))}))}copy(){var t=s("cq-share-dialog .share-link-div")[0].innerText,i=document.createElement("input");if(i.type="text",i.value=t,i.contentEditable=!0,i.readOnly=!0,document.body.appendChild(i),i.focus(),i.select(),!e.isIE){var a=document.createRange();a.selectNodeContents(i);var r=window.getSelection();r.removeAllRanges(),r.addRange(a),i.setSelectionRange(0,t.length)}document.execCommand("copy"),document.body.removeChild(i),this.setState("share-copied")}}e.UI.ShareDialog=O,O.markup='\n\t\t<h4 class="title">Share Your Chart</h4>\n\t\t<cq-close></cq-close>\n\t\t<div cq-share-dialog-div>\n\t\t\t<cq-separator></cq-separator>\n\t\t\t<cq-share-create class="ciq-btn" stxtap="share()">Create Image</cq-share-create>\n\t\t\t<cq-share-generating>Generating Image</cq-share-generating>\n\t\t\t<cq-share-uploading>Uploading Image</cq-share-uploading>\n\t\t\t<div class="share-link-div"></div>\n\t\t\t<cq-share-copy class="ciq-btn" stxtap="copy()">Copy Link to Clipboard</cq-share-copy>\n\t\t\t<cq-share-copied>Link Copied!</cq-share-copied>\n\t',e.UI.addComponentDefinition("cq-share-dialog",O);class H extends e.UI.ContextTag{set(t,e,i,a,r,n){var s=this;s.context.loader&&s.context.loader.show();var o={multiplier:e,base:i};a&&(o.periodicity={interval:a,period:r||1,timeUnit:n}),s.context.stx.setSpan(o,(function(){s.context.loader&&s.context.loader.hide()}))}setContext(t){const e=t.config&&t.config.getMenu("rangeMenu");this.addDefaultMarkup(this,e&&e.join(""))}}H.markup='\n\t\t<div stxtap="set(1,\'today\');">1D</div>\n\t\t<div stxtap="set(5,\'day\',30,2,\'minute\');">5D</div>\n\t\t<div stxtap="set(1,\'month\',30,8,\'minute\');">1M</div>\n\t\t<div class="hide-sm" stxtap="set(3,\'month\');">3M</div>\n\t\t<div class="hide-sm" stxtap="set(6,\'month\');">6M</div>\n\t\t<div class="hide-sm" stxtap="set(1,\'YTD\');">YTD</div>\n\t\t<div stxtap="set(1,\'year\');">1Y</div>\n\t\t<div class="hide-sm" stxtap="set(5,\'year\',1,1,\'week\');">5Y</div>\n\t\t<div class="hide-sm" stxtap="set(1,\'all\');">All</div>\n\t',e.UI.ShowRange=H,e.UI.addComponentDefinition("cq-show-range",H);class R extends e.UI.ContextTag{setContext({config:{channels:t},stx:e}){const i=this.querySelector("div"),a=this.getAttribute("cq-on")||"sidenavOn",r=this.getAttribute("cq-off")||"sidenavOff",n=()=>{const e="break-sm"===this.channelRead(t.breakpoint),r=e&&this.channelRead(t.sidenav)===a;i.classList.remove("sidenav","ciq-toggles"),i.classList.add(e?"sidenav":"ciq-toggles"),i.classList[r?"add":"remove"]("active"),this.channelWrite(t.sidenavSize,r?i.offsetWidth:0)};this.channelSubscribe(t.sidenav,n),this.channelSubscribe(t.breakpoint,n),this.channelSubscribe(t.tfc,(e=>{e&&this.channelWrite(t.sidenav,r)}))}}e.UI.SideNav=R,e.UI.addComponentDefinition("cq-side-nav",R);class U extends e.UI.ContextTag{constructor(){super(),this.callbacks=[]}setContext(t){const{config:e,stx:i}=t;if(!e)return;const a=this.resizeMyself.bind(this),{node:r}=this;function n(){setTimeout(a)}function s(t){t?r.attr("cq-active",!0):r.removeAttr("cq-active"),n()}this.channelSubscribe(e.channels.breakpoint,n),this.channelSubscribe(e.channels.tfc,s,i)}close(){this.node.removeAttr("cq-active"),this.node.children().each((function(){this.sidePanelActiveClass?s(this).removeClass(this.sidePanelActiveClass):s(this).removeAttr(this.sidePanelActiveAttribute)}));var t=this;setTimeout((function(){t.resizeMyself()}),0)}nonAnimatedWidth(){var t=0;return this.node.children().width((function(e,i){t+=i})),t}open(t){this.close();var e=this.node.find(t.selector);t.className?(e.addClass(t.className),e.each((function(){this.sidePanelActiveClass=t.className}))):(e.attr(t.attribute,"true"),e.each((function(){this.sidePanelActiveAttribute=t.attribute}))),this.node.attr("cq-active","true");var i=this;setTimeout((function(){i.resizeMyself()}),0)}registerCallback(t){this.callbacks.push(t)}resizeMyself(){var t=0;this.node.children().width((function(e,i){t+=i})),this.node.css({width:t+"px"});for(var e=0;e<this.callbacks.length;e++)this.callbacks[e].call(this,t);const{config:i,stx:a}=this.context||{};i&&this.channelWrite(i.channels.sidepanelSize,t,a)}}e.UI.SidePanel=U,e.UI.addComponentDefinition("cq-side-panel",U);class z extends e.UI.ContextTag{constructor(){super()}disconnectedCallback(){this.context&&e.UI.unobserveProperty("studyLibraryHash",this.context.stx.chart,this.listener),super.disconnectedCallback()}initialize(t){this.addDefaultMarkup(),this.params=t||{},this.alwaysDisplayDialog=this.params.alwaysDisplayDialog||!1,this.excludedStudies=this.params.excludedStudies||[],this.params.template||(this.params.template="template"),this.params.template=this.node.find(this.params.template),this.renderMenu();var i=this,a=this.context.stx;this.listener=function(t){i.renderMenu()},e.UI.observeProperty("studyLibraryHash",a.chart,this.listener)}setContext({config:t}){t&&t.menuStudiesConfig&&this.initialize(Object.assign({},t.menuStudiesConfig))}renderMenu(){var t,i=this.context.stx,a=[];for(var r in e.Studies.studyLibrary)!(t=e.Studies.studyLibrary[r])||this.excludedStudies[r]||this.excludedStudies[t.name]||void 0!==t.siqList||(t.name||(t.name=r),a.push(r));a.sort((function(t,i){var a=e.Studies.studyLibrary[t],r=e.Studies.studyLibrary[i];return a.name<r.name?-1:a.name>r.name?1:0}));for(var n=s(this.node),o=this,l=function(t,e){return function(e){p(e.target,t),n.resize()}},c=n.find("cq-studies-content");c.length>0&&c[0].firstChild;)c[0].removeChild(c[0].firstChild);for(var h=0;h<a.length;h++){var u=e.UI.makeFromTemplate(this.params.template);t=e.Studies.studyLibrary[a[h]],u.append(e.translatableTextNode(i,t.name)),this.makeTap(u[0],l(a[h],this.context)),n.find("cq-studies-content").append(u)}function d(t,e){const{context:i}=o;if(i.config)o.channelWrite(i.config.channels.dialog,{type:"study",params:Object.assign({},t,{context:i,addWhenDone:e})},i.stx);else{t.context=o.context;const i=document.querySelector("cq-study-dialog");i.addWhenDone=e,i.open(t)}}function p(t,i){var a=o.context.stx;function r(t,e,a){if(!0===t)return d(e,a),!0;if("object"==typeof t)for(var r in t)if(r==i&&t[r])return d(e,a),!0}if(!r(o.params.dialogBeforeAddingStudy,{stx:a,name:i},!0)){var n=e.Studies.addStudy(a,i);r(o.alwaysDisplayDialog,{sd:n,stx:a})}}}}e.UI.StudiesComponent=z,z.markup="\n\t\t<template>\n\t\t\t<cq-item><cq-label></cq-label></cq-item>\n\t\t</template>\n\t\t<cq-studies-content></cq-studies-content>\n\t",e.UI.addComponentDefinition("cq-studies",z);class V extends e.UI.DialogContentTag{setContext(t){this.addDefaultMarkup(),super.setContext(t)}}e.UI.StudyContext=V,V.markup='\n\t\t<div stxtap="StudyEdit.edit()">Edit Settings...</div>\n\t\t<div stxtap="StudyEdit.remove()">Delete Study</div>\n\t',e.UI.addComponentDefinition("cq-study-context",V);class B extends e.UI.DialogContentTag{constructor(){super()}connectedCallback(){this.attached||(super.connectedCallback(),this.queuedUpdates={})}close(){if(this.addWhenDone){var t=this.helper,i=e.Studies.addStudy(t.stx,t.name);e.isEmpty(this.queuedUpdates)||(t.sd=i,t.updateStudy(this.queuedUpdates),this.queuedUpdates={})}}disconnectedCallback(){e.UI.unobserveProperty("signal",this.helper),super.disconnectedCallback()}hide(){e.isEmpty(this.queuedUpdates)||(this.helper.updateStudy(this.queuedUpdates),this.queuedUpdates={}),this.node.find("cq-menu").each((function(){this.unlift&&this.unlift()})),this.node.find("cq-swatch").each((function(){this.colorPicker&&this.colorPicker.close()}))}makeMenu(t,i,a,r){var n=e.UI.makeFromTemplate(this.menuTemplate),o=n.find("cq-menu-dropdown");for(var l in a){var c=s("<cq-item></cq-item>");c.text(a[l]),c.attr("stxtap","StudyDialog.setSelectOption('"+r+"')"),o.append(c),c[0].cqMenuWrapper=o.parents("cq-menu")[0],c.attr("name",t),c.attr("value",l),c[0].context=this.context}return n.find("cq-selected").text(this.helper.stx.translateIf(i)),n}open(t){this.addDefaultMarkup(),this.selectTemplates(),super.open(t),t.axisSelect=this.getAttribute("cq-study-axis"),""===t.axisSelect&&(t.axisSelect=!0),t.panelSelect=this.getAttribute("cq-study-panel"),""===t.panelSelect&&(t.panelSelect=!0),void 0!==t.addWhenDone&&(this.addWhenDone=t.addWhenDone);var i=this;this.context.stx,e.UI.unobserveProperty("signal",this.helper),this.helper=new e.Studies.DialogHelper(t),e.UI.observeProperty("signal",this.helper,(function(e){i.refreshParameters(t)}));var a=s(this);a.find(".title").text(this.helper.title);var r=a.find("cq-study-inputs");function n(t){return(t=t.replace(/-/g,"")).search(/^\d{8}$/)||(t=t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8)),t}function o(t){return(t=t.replace(/:/g,"")).search(/^\d{4,6}$/)||(t=t.substring(0,2)+":"+t.substring(2,4)+(4==t.length?"":":"+t.substring(4,6))),t}r.empty();for(var l=0;l<this.helper.inputs.length;l++){var c=this.helper.inputs[l],h=e.UI.makeFromTemplate(this.inputTemplate,r);this.menuTemplate=h.find("template[cq-menu]"),h.find(".ciq-heading").text(c.heading),h[0].fieldName=c.name;var u,d=null,p=this.helper.attributes[c.name];if("number"==c.type)for(u in(d=s("<input>")).attr("type","number"),d.val(c.value),this.setChangeEvent(d,"inputs",c.name),p){var g=p[u];(e.isIE||e.isEdge)&&"step"==u&&Math.floor(g)!=g&&(g="any"),d.attr(u,g)}else if("text"==c.type||"date"==c.type||"time"==c.type)for(u in(d=s("<input>")).attr("type",e.UI.supportedInputType(c.type)),"date"==c.type?d.val(n(c.value)):"time"==c.type?d.val(o(c.value)):d.val(c.value),this.setChangeEvent(d,"inputs",c.name),p)d.attr(u,p[u]);else if("select"==c.type)d=this.makeMenu(c.name,c.value,c.options,"inputs"),p&&p.readonly&&d.attr("readonly",p.readonly);else if("checkbox"==c.type)for(u in(d=s("<input>")).attr("type","checkbox"),c.value&&d.prop("checked",!0),this.setChangeEvent(d,"inputs",c.name),p)d.attr(u,p[u]);p&&p.hidden&&h.hide(),d&&h.find(".stx-data").append(d)}var f=a.find("cq-study-outputs");for(f.empty(),l=0;l<this.helper.outputs.length;l++){var m=this.helper.outputs[l],v=e.UI.makeFromTemplate(this.outputTemplate,f);v[0].initialize({studyDialog:this,output:m.name,params:t}),v.find(".ciq-heading").text(m.heading),v.find(".ciq-heading")[0].fieldName=m.name;var y=v.find("cq-swatch"),b=m.color;"object"==typeof b&&(b=b.color),y[0].setColor(b,!1)}this.refreshParameters(t)}refreshParameters(t){var i=s(this).find("cq-study-parameters");i.empty();for(var a=0;a<this.helper.parameters.length;a++){var r=this.helper.parameters[a],n=e.UI.makeFromTemplate(this.parameterTemplate,i);if(this.menuTemplate=n.find("template[cq-menu]"),this.menuTemplate.length||!r.options){n.find(".ciq-heading").text(r.heading);var o,l=n.find("cq-swatch"),c=s("<input>"),h={};if(r.defaultValue.constructor==Boolean)for(o in c.attr("type","checkbox"),r.value&&c.prop("checked",!0),this.setChangeEvent(c,"parameters",r.name+"Enabled"),l.remove(),h=this.helper.attributes[r.name+"Enabled"])c.attr(o,h[o]);else if(r.defaultValue.constructor==String){var u=r.name;for(o in r.defaultColor?(n[0].initialize({studyDialog:this,parameter:r.name+"Color",params:t}),l[0].setColor(r.color,!1),u+="Value"):l.remove(),r.options?c=this.makeMenu(u,r.value,r.options,"parameters"):c.val(r.value),h=this.helper.attributes[u])c.attr(o,h[o])}else{if(r.defaultValue.constructor!=Number)continue;for(o in c.attr("type","number"),c.val(r.value),this.setChangeEvent(c,"parameters",r.name+"Value"),n[0].initialize({studyDialog:this,parameter:r.name+"Color",params:t}),l[0].setColor(r.color,!1),h=this.helper.attributes[r.name+"Value"]){var d=h[o];(e.isIE||e.isEdge)&&"step"==o&&Math.floor(d)!=d&&(d="any"),c.attr(o,d)}}h&&h.hidden&&n.not("hr").hide(),n.find(".stx-data").append(c)}else n.remove()}}setChangeEvent(t,e,i){var a=this;function r(){return function(){var t={};t[e]={},t[e][i]=this.value,"checkbox"!=this.type&&"radio"!=this.type||(t[e][i]=this.checked),a.updateStudy(t)}}t.change(r())}setContext(t){this.context=t,t.advertiseAs(this,"StudyDialog")}setSelectOption(t,e){var i=s(t.node),a=i.attr("name"),r=i.attr("value"),n=s(i[0].cqMenuWrapper);n.find("cq-selected").text(this.helper.stx.translateIf(r)),n[0].fieldValue=r,e||(e="inputs");var o={};o[e]={},o[e][a]=r,this.updateStudy(o)}updateStudy(t){s(this).find(":invalid").length||(this.addWhenDone?e.extend(this.queuedUpdates,t):this.helper.libraryEntry.deferUpdate?(e.extend(this.queuedUpdates,{inputs:t.inputs}),this.helper.updateStudy({outputs:t.outputs,parameters:t.parameters})):this.helper.updateStudy(t))}selectTemplates(){this.inputTemplate||(this.inputTemplate=this.querySelector("template[cq-study-input]"),this.outputTemplate=this.querySelector("template[cq-study-output]"),this.parameterTemplate=this.querySelector("template[cq-study-parameters]"))}}e.UI.StudyDialog=B,B.markup='\n\t\t<h4 class="title">Study here</h4>\n\t\t<cq-scroll cq-no-maximize>\n\t\t\t<cq-study-inputs>\n\t\t\t\t<template cq-study-input>\n\t\t\t\t\t<cq-study-input>\n\t\t\t\t\t\t<div class="ciq-heading"></div>\n\t\t\t\t\t\t<div class="stx-data">\n\t\t\t\t\t\t\t<template cq-menu>\n\t\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t\t<cq-selected></cq-selected>\n\t\t\t\t\t\t\t\t\t<cq-menu-dropdown cq-lift></cq-menu-dropdown>\n\t\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</cq-study-input>\n\t\t\t\t\t<hr>\n\t\t\t\t</template>\n\t\t\t</cq-study-inputs>\n\t\t\t<cq-study-outputs>\n\t\t\t\t<template cq-study-output>\n\t\t\t\t\t<cq-study-output>\n\t\t\t\t\t\t<div class="ciq-heading"></div>\n\t\t\t\t\t\t<cq-swatch cq-overrides="auto"></cq-swatch>\n\t\t\t\t\t</cq-study-output>\n\t\t\t\t\t<hr>\n\t\t\t\t</template>\n\t\t\t</cq-study-outputs>\n\t\t\t<cq-study-parameters>\n\t\t\t\t<template cq-study-parameters>\n\t\t\t\t\t<cq-study-parameter>\n\t\t\t\t\t\t<div class="ciq-heading"></div>\n\t\t\t\t\t\t<div class="stx-data"><cq-swatch cq-overrides="auto"></cq-swatch>\n\t\t\t\t\t\t\t<template cq-menu>\n\t\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t\t<cq-selected></cq-selected>\n\t\t\t\t\t\t\t\t\t<cq-menu-dropdown cq-lift></cq-menu-dropdown>\n\t\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</cq-study-parameter>\n\t\t\t\t\t<hr>\n\t\t\t\t</template>\n\t\t\t</cq-study-parameters>\n\t\t</cq-scroll>\n\t\t<div class="ciq-dialog-cntrls">\n\t\t\t<div class="ciq-btn" stxtap="close()">Done</div>\n\t\t</div>\n\t',e.UI.addComponentDefinition("cq-study-dialog",B);class W extends e.UI.DialogContentTag{constructor(){super()}}e.UI.StudyInput=W,e.UI.addComponentDefinition("cq-study-input",W);class j extends e.UI.ModalTag{constructor(){super()}connectedCallback(){this.attached||(super.connectedCallback(),void 0!==this.node.attr("cq-clone-to-panels")&&s("body").addClass("stx-panel-legend"))}begin(){if(!this.init){var t=this.context.stx,e=this.node;this.template=e.find("template[cq-study-legend]"),this.template.length||(this.template=e.find("template")),this.contentKeys=e.attr("cq-content-keys")||"cq-label",this.eventListeners.push(t.addEventListener("layout",this.renderLegend.bind(this))),e[0].hasAttribute("cq-marker")&&e.stxtap((function(){e.toggleClass("ciq-active")})),this.renderLegend(),this.init=!0}}launchColorPicker(){this.node.addClass("ciq-active")}renderLegend(){var t=this.context.stx;function i(t,i){return function(a){setTimeout((function(){i.permanent||e.Studies.removeStudy(t.context.stx,i),t.node[0].hasAttribute("cq-marker")&&t.context.stx.modalEnd(),t.renderLegend()}),0)}}function a(e,i){return function(a){var r=t.layout.studies[i];if(!r.permanent&&r.editFunction){a.stopPropagation(),e.uiManager.closeMenu();var n=e.context.getAdvertised("StudyEdit"),s={stx:t,sd:r,inputs:r.inputs,outputs:r.outputs,parameters:r.parameters};n.editPanel(s)}}}s(this.template).nextAll().remove();var r=void 0!==this.node.attr("cq-overlays-only"),n=void 0!==this.node.attr("cq-panel-only"),o=void 0!==this.node.attr("cq-custom-removal-only"),l=this.node.attr("cq-marker-label"),c=null,h=this.node.parents(".stx-holder")[0];for(var u in h&&(c=h.panel.name),t.layout.studies){var d=t.layout.studies[u];if(!d.customLegend&&(!o||d.study.customRemoval)&&(!n||d.panel==c)&&(!r||d.overlay||d.underlay)){var p=e.UI.makeFromTemplate(this.template,!0);p.find("cq-label").html(d.inputs.display);var g=p.find(".ciq-close");d.permanent?g.hide():g.stxtap(i(this,d));var f=p.find(".ciq-edit");f.length||(f=p.find("cq-label")),f.stxtap(a(this,u))}}void 0!==l&&(this.node.find("cq-marker-label").length||this.node.prepend("<cq-marker-label>"+l+"</cq-marker-label>")),this.displayLegendTitle()}displayLegendTitle(){function t(t,e){return Array.from(t.querySelectorAll(e)).some(i)}function i(t){for(;t;){if("template"===t.nodeName.toLowerCase())return!1;t=t.parentElement}return!0}t(this,this.contentKeys)?(this.node.css("display",""),this.node.parents("div.stx-panel-legend").css("width","")):(this.node.css("display","none"),this.node.parents("div.stx-panel-legend").css("width","0px")),e.I18N.translateUI(null,this.node[0])}setContext(t){var e=this;void 0!==e.node.attr("cq-clone-to-panels")&&(e.spawnPanelLegend(),t.stx.append("stackPanel",(function(t,i){e.spawnPanelLegend()}))),this.init||this.begin()}spawnPanelLegend(){var t=this.context.stx;function e(t){return function(e){t.toggleClass("ciq-active")}}for(var i in t.panels)if(i!=t.chart.panel.name){var a=s(t.panels[i].icons).find(".stx-panel-legend");if(a.length){var r=a.find(this.node[0].nodeName);if(!r.length){(r=this.node.clone()).attr("cq-marker-label",this.node.attr("cq-clone-to-panels")).removeAttr("cq-clone-to-panels").removeAttr("cq-overlays-only").removeAttr("cq-marker").stxtap(e(r)).find("cq-marker-label").remove();var n=s("<cq-study-legend-fixed-wrapper></cq-study-legend-fixed-wrapper>");n.append(r),a.append(n),r[0].begin()}}}}}e.UI.StudyLegend=j,e.UI.addComponentDefinition("cq-study-legend",j);class $ extends e.UI.BaseComponent{constructor(){super()}initialize(t){this.params=t}setColor(t){if(this.params){var e={outputs:{}};e.outputs[this.params.output]={},e.outputs[this.params.output].color=t,this.params.studyDialog.updateStudy(e)}}}e.UI.StudyOutput=$,e.UI.addComponentDefinition("cq-study-output",$);class Y extends e.UI.DialogContentTag{constructor(){super()}initialize(t){this.params=t}setColor(t){if(this.params){var e={parameters:{}};e.parameters[this.params.parameter]=t,this.params.studyDialog.updateStudy(e)}}}e.UI.StudyParameter=Y,e.UI.addComponentDefinition("cq-study-parameter",Y);class X extends HTMLElement{constructor(){super(),this.defaultColor=null}connectedCallback(){this.attached||(this.attached=!0,this.node=s(this),this.getAttribute("cq-static")?this.style.cursor="default":this.node.stxtap(function(t){return function(e){t.launchColorPicker(),e.stopPropagation()}}(this)))}getDefaultColor(){if(this.defaultColor)return this.defaultColor;var t=e.UI.getMyContext(this);return t?t.stx.defaultColor:"transparent"}setColor(t,i,a){var r=s(this),n=e.getBackgroundColor(this.parentNode),o=e.chooseForegroundColor(n),l=e.hsl(n);"auto"==t&&(a=!0),t||(t="transparent");var c=t;"auto"==t?c=this.getDefaultColor():0===t.indexOf("rgba(")&&(c=(c.split(",").slice(0,3).join(",")+")").replace(/rgba/,"rgb"));var h=e.hsl(c),u=e.isTransparent(t);r.css({background:c}),a||Math.abs(l[2]-h[2])<.2||u?(r.css({border:"solid "+o+" 1px"}),u&&r.css({background:"linear-gradient(to bottom right, transparent, transparent 49%, "+o+" 50%, transparent 51%, transparent)"})):r.css({border:""}),a&&(n=e.chooseForegroundColor(c),r.css({background:"linear-gradient(to bottom right, "+c+", "+c+" 49%, "+n+" 50%, "+n+")"})),!1!==i&&e.UI.containerExecute(this,"setColor",t,this)}launchColorPicker(){var t=s(this);e.UI.containerExecute(this,"launchColorPicker");var i=s("cq-color-picker")[0];i.callback=function(t){return function(e){t.setColor(e,null)}}(this);var a=this.node.attr("cq-overrides");a&&(a=a.split(",")),i.display({node:t,context:e.UI.getMyContext(this),overrides:a}),this.colorPicker=i}}e.UI.Swatch=X,e.UI.addComponentDefinition("cq-swatch",X);class Z extends e.UI.DialogContentTag{constructor(){super()}applyChanges(){var t=this.context.stx;this.helper.update(t),t.changeOccurred("theme")}close(){this.helper.settings=this.revert,this.applyChanges(),super.close()}open(t){this.addDefaultMarkup(),super.open(t);var i=t.themeName;this.initiatingMenu=t.initiatingMenu,this.context=t.context,this.helper=new e.ThemeHelper({stx:this.context.stx}),this.revert=e.clone(this.helper.settings);var a=this;function r(t,e,i,r){var n=a.node.find('cq-theme-piece[cq-piece="'+t+'"]');n.length&&(n[0].piece={obj:e,field:i},"color"==r&&n.find("cq-swatch")[0].setColor(e[i],!1))}var n=this.helper.settings;r("cu",n.chartTypes["Candle/Bar"].up,"color","color"),r("cd",n.chartTypes["Candle/Bar"].down,"color","color"),r("wu",n.chartTypes["Candle/Bar"].up,"wick","color"),r("wd",n.chartTypes["Candle/Bar"].down,"wick","color"),r("bu",n.chartTypes["Candle/Bar"].up,"border","color"),r("bd",n.chartTypes["Candle/Bar"].down,"border","color"),r("lc",n.chartTypes.Line,"color","color"),r("mb",n.chartTypes.Mountain,"basecolor","color"),r("mc",n.chartTypes.Mountain,"color","color"),r("bg",n.chart.Background,"color","color"),r("gl",n.chart["Grid Lines"],"color","color"),r("dd",n.chart["Grid Dividers"],"color","color"),r("at",n.chart["Axis Text"],"color","color"),i||(i="My Theme"),this.node.find("cq-action input").val(i)}save(){var t=this.node.find("cq-action input").val(),i={settings:e.clone(this.helper.settings),name:t,builtIn:null};e.UI.contextsForEach((function(){this.stx.updateListeners("theme")}));var a=this;s("cq-themes").each((function(){i.builtIn=this.currentLoadedBuiltIn,this.addCustom(i,a.initiatingMenu)})),super.close()}setValue(t,e,i){t[e]=i,this.applyChanges()}}e.UI.ThemeDialog=Z,Z.markup='\n\t\t<h4 class="title">Create Custom Theme</h4>\n\t\t<cq-close></cq-close>\n\t\t<cq-scroll cq-no-maximize>\n\t\t\t<cq-section>\n\t\t\t\t<cq-placeholder>Candle Color\n\t\t\t\t\t<cq-theme-piece cq-piece="cu"><cq-swatch cq-overrides="Hollow"></cq-swatch></cq-theme-piece>\n\t\t\t\t\t<cq-theme-piece cq-piece="cd"><cq-swatch cq-overrides="Hollow"></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Candle Wick\n\t\t\t\t\t<cq-theme-piece cq-piece="wu"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t\t<cq-theme-piece cq-piece="wd"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Candle Border\n\t\t\t\t\t<cq-theme-piece cq-piece="bu"><cq-swatch cq-overrides="No Border"></cq-swatch></cq-theme-piece>\n\t\t\t\t\t<cq-theme-piece cq-piece="bd"><cq-swatch cq-overrides="No Border"></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-separator></cq-separator>\n\t\t\t\t<cq-placeholder>Line/Bar Chart\n\t\t\t\t\t<cq-theme-piece cq-piece="lc"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-separator></cq-separator>\n\t\t\t\t<cq-placeholder>Mountain Base\n\t\t\t\t\t<cq-theme-piece cq-piece="mb"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Mountain Peak\n\t\t\t\t\t<cq-theme-piece cq-piece="mc"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t</cq-section>\n\t\t\t<cq-section>\n\t\t\t\t<cq-placeholder>Background\n\t\t\t\t\t<cq-theme-piece cq-piece="bg"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Grid Lines\n\t\t\t\t\t<cq-theme-piece cq-piece="gl"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Date Dividers\n\t\t\t\t\t<cq-theme-piece cq-piece="dd"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t\t<cq-placeholder>Axis Text<cq-theme-piece cq-piece="at"><cq-swatch></cq-swatch></cq-theme-piece>\n\t\t\t\t</cq-placeholder>\n\t\t\t</cq-section>\n\t\t\t<cq-action>\n\t\t\t\t<input><div stxtap="save()" class="ciq-btn">Save</div>\n\t\t\t</cq-action>\n\t\t</cq-scroll>\n\t',e.UI.addComponentDefinition("cq-theme-dialog",Z);class J extends e.UI.BaseComponent{constructor(){super()}setBoolean(t){e.UI.containerExecute(this,"setValue",this.piece.obj,this.piece.field,t)}setColor(t){"Hollow"!=t&&"No Border"!=t||(t="transparent",this.node.find("cq-swatch")[0].setColor("transparent",!1)),e.UI.containerExecute(this,"setValue",this.piece.obj,this.piece.field,t)}}e.UI.ThemePiece=J,e.UI.addComponentDefinition("cq-theme-piece",J);class G extends e.UI.ContextTag{constructor(){super()}connectedCallback(){this.attached||super.connectedCallback()}setContext({config:t}){if(!t)return;const{chartId:e,themes:{builtInThemes:i,defaultTheme:a},nameValueStore:r}=t;this.initialize({builtInThemes:i,defaultTheme:a,nameValueStore:r,id:e})}addCustom(t,e){this.params.customThemes[t.name]=t,e===this&&(this.currentTheme=t.name),this.configureMenu(),this.persist()}configureMenu(){function t(t,e){return function(i){t.loadBuiltIn(e),t.params.callback&&t.params.callback({theme:t.currentTheme}),t.persist("current")}}function i(t,e){return function(i){t.loadCustom(e),t.params.callback&&t.params.callback({theme:t.currentTheme}),t.persist("current")}}var a,r;this.builtInMenu.emptyExceptTemplate(),this.customMenu.emptyExceptTemplate();var n=this.params.builtInThemes;for(var s in n)a=n[s],(r=e.UI.makeFromTemplate(this.builtInTemplate)).text(a),this.makeTap(r[0],t(this,s)),this.builtInMenu.append(r);e.I18N.translateUI(null,this.builtInMenu[0]);var o=this.params.customThemes;for(var l in o)a=l,(r=e.UI.makeFromTemplate(this.customTemplate)).find("cq-label").text(a),this.makeTap(r.find("cq-item")[0],i(this,l)),r[0].close=function(t,e){return function(){t.removeTheme(e)}}(this,l),this.customMenu.append(r)}initialize(t){if(!this.initialized){this.initialized=!0,this.addDefaultMarkup(),this.selectTemplates(this),this.params={},t&&(this.params=t),this.params.customThemes||(this.params.customThemes={}),this.params.builtInThemes||(this.params.builtInThemes={}),this.params.nameValueStore||(this.params.nameValueStore=new e.NameValueStore),this.params.id&&(this.id="themes_"+this.params.id);var i=this;this.params.nameValueStore?this.params.nameValueStore.get("CIQ.Themes.prototype.custom",(function(t,e){!t&&e&&(i.params.customThemes=e),i.params.nameValueStore.get(i.id+"CIQ.Themes.prototype.current",(function(t,e){!t&&e&&e.theme?i.loadTheme(e.theme):i.loadTheme(i.params.defaultTheme),i.configureMenu()}))})):this.loadTheme(i.params.defaultTheme)}}loadBuiltIn(t){this.currentLoadedBuiltIn&&s(this.context.topNode).removeClass(this.currentLoadedBuiltIn),s(this.context.topNode).addClass(t),this.currentLoadedBuiltIn=this.currentTheme=t,this.reinitializeChart()}loadCustom(t){this.currentLoadedBuiltIn&&s(this.context.topNode).removeClass(this.currentLoadedBuiltIn);var e=this.params.customThemes[t];e.builtIn&&s(this.context.topNode).addClass(e.builtIn),this.currentLoadedBuiltIn=e.builtIn,this.currentTheme=e.name,this.reinitializeChart(e)}loadTheme(t){this.params.customThemes[t]?this.loadCustom(t):this.params.builtInThemes[t]?this.loadBuiltIn(t):this.loadBuiltIn(this.params.defaultTheme)}newTheme(){const{context:t}=this;t.config?this.channelWrite(t.config.channels.dialog,{type:"theme",params:{context:t,initiatingMenu:this}},t.stx):document.querySelector("cq-theme-dialog").open({context:this.context,initiatingMenu:this})}persist(t){this.params.nameValueStore&&(t&&"current"!=t||this.params.nameValueStore.set(this.id+"CIQ.Themes.prototype.current",{theme:this.currentTheme}),t&&"custom"!=t||this.params.nameValueStore.set("CIQ.Themes.prototype.custom",this.params.customThemes))}removeTheme(t){var e=!1;s("cq-themes").each((function(){delete this.params.customThemes[t],this.configureMenu(),e||(this.persist(),e=!0)}))}selectTemplates(){this.builtInMenu||(this.builtInMenu=s(this).find("cq-themes-builtin"),this.builtInTemplate=this.builtInMenu.find("template"),this.customMenu=s(this).find("cq-themes-custom"),this.customTemplate=this.customMenu.find("template"))}reinitializeChart(t){this.context.stx.setThemeSettings(t?t.settings:null)}}e.UI.Themes=G,G.markup='\n\t\t<cq-themes-builtin cq-no-close>\n\t\t\t<template>\n\t\t\t\t<cq-item></cq-item>\n\t\t\t</template>\n\t\t</cq-themes-builtin>\n\t\t<cq-themes-custom cq-no-close>\n\t\t\t<template>\n\t\t\t\t<cq-theme-custom>\n\t\t\t\t\t<cq-item>\n\t\t\t\t\t\t<cq-label></cq-label>\n\t\t\t\t\t\t<cq-close></cq-close>\n\t\t\t\t\t</cq-item>\n\t\t\t\t</cq-theme-custom>\n\t\t\t</template>\n\t\t</cq-themes-custom>\n\t\t<cq-separator cq-partial></cq-separator>\n\t\t<cq-item stxtap="newTheme()"><cq-plus></cq-plus>New Theme</cq-item>\n\t',e.UI.addComponentDefinition("cq-themes",G);class K extends e.UI.DialogContentTag{constructor(){super()}open(t){this.addDefaultMarkup(),super.open(t);var i=this.node,a=this;this.context=t.context;var r=this.context.stx;function n(t){return function(i){a.close();var n=e.timeZoneMap[t];e.ChartEngine.defaultDisplayTimeZone=n,r.setTimeZone(r.dataZone,n),r.chart.symbol&&r.draw()}}var s=i.find("ul"),o=i.find(".ciq-btn");for(var l in this.template||(this.template=s.find("li.timezoneTemplate")[0].cloneNode(!0)),s.empty(),e.timeZoneMap){var c=l,h=r.translateIf(c),u=this.template.cloneNode(!0);u.style.display="block",u.innerHTML=h,e.safeClickTouch(u,n(c)),s.append(u)}var d=i.find(".currentUserTimeZone");if(r.displayZone){var p=r.displayZone;for(var g in e.timeZoneMap)e.timeZoneMap[g]===r.displayZone&&(p=g);d.text(r.translateIf("Current Timezone is")+" "+r.translateIf(p)),o.show()}else d.text(r.translateIf("Your timezone is your current location")),o.hide()}removeTimezone(){e.ChartEngine.defaultDisplayTimeZone=null;var t=this.context.stx;t.displayZone=null,t.setTimeZone(),t.displayInitialized&&t.draw(),this.close()}}e.UI.TimezoneDialog=K,K.markup='\n\t\t<h4 class="title">Choose Timezone</h4>\n\t\t<cq-close></cq-close>\n\n\t\t<p>To set your timezone use the location button below, or scroll through the following list...</p>\n\t\t<p class="currentUserTimeZone"></p>\n\t\t<div class="detect">\n\t\t<div class="ciq-btn" stxtap="removeTimezone()">Use My Current Location</div>\n\t\t</div>\n\t\t<div class="timezoneDialogWrapper" style="max-height:360px; overflow: auto;">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li class="timezoneTemplate" style="display:none;cursor:pointer;"></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t<div class="instruct">(Scroll for more options)</div>\n\t',e.UI.addComponentDefinition("cq-timezone-dialog",K);class Q extends e.UI.ContextTag{constructor(){super()}connectedCallback(){this.attached||(this.params={member:null,obj:null,action:"class",value:"active",toggles:[],classes:{},callbacks:[]},super.connectedCallback())}disconnectedCallback(){e.UI.unobserveProperty(this.params.member,this.params.obj,this.listener),super.disconnectedCallback()}begin(){var t=this,i=this.context.stx;this.params.member&&(this.listener=function(e){t.updateFromBinding(t.params)},e.UI.observeProperty(t.params.member,t.params.obj,this.listener)),this.node.stxtap((function(){var e=t.params.toggles,a=t.params.obj;if(e.length>1){for(var r=0;r<e.length;r++){var n=e[r];if(t.currentValue==n){r<e.length-1?t.set(e[r+1]):t.set(e[0]);break}}r==e.length&&t.set(e[0])}else t.currentValue?t.set(!1):t.set(!0);i.draw(),a===i.layout&&i.changeOccurred("layout"),a===i.preferences&&i.changeOccurred("preferences")}))}registerCallback(t,e){!1!==e&&(e=!0),this.params.callbacks.push(t),e&&t.call(this,this.currentValue)}set(t){if(this.params.member)this.params.obj[this.params.member]=t;else{this.currentValue=t;for(var e=0;e<this.params.callbacks.length;e++)this.params.callbacks[e].call(this,this.currentValue)}this.updateClass()}setContext({config:t}){this.currentValue|=!1,this.params.obj=this.context.stx.layout;var e=this.node.attr("cq-member");if("headsUp"==e&&this.wrapInInfoToggle(),t&&t.channels&&t.channels[e]&&(e=t.channels[e]),e&&-1!==e.indexOf(".")){var i=e.split(".");this.params.obj=this.context.stx[i[0]],void 0===this.params.obj&&(this.context.stx[i[0]]=this.params.obj={}),e=i[1]}e&&(this.params.member=e);var a=this.node.attr("cq-action");a&&(this.params.action=a);var r=this.node.attr("cq-value");r&&(this.params.value=r);var n=this.node.attr("cq-toggles");n&&(this.params.toggles=n.split(","));for(var s=0;s<this.params.toggles.length;s++){var o=(n=this.params.toggles)[s];"null"===o?n[s]=null:"true"===o||"false"===o?n[s]="true"===o:isNaN(Number(o))||(n[s]=Number(o))}var l=this.node.attr("cq-toggle-classes");if(l){var c=l.split(/, |,/);this.params.removeClasses=l.split(/, | |,/).filter((t=>t)),this.params.classes=this.params.toggles.reduce((function(t,e,i){return t[e]=c[i].split(/ /),t}),{})}if(e&&void 0===this.params.obj[e]){const t=!(!n||!n.length)&&n[n.length-1];this.params.obj[e]=t}this.begin()}updateFromBinding(t){if(this.currentValue=t.obj[t.member],this.params.callbacks.length)for(var e=0;e<this.params.callbacks.length;e++)this.params.callbacks[e].call(this,this.currentValue);else"class"==this.params.action&&(this.currentValue?this.node.addClass(this.params.value):this.node.removeClass(this.params.value));this.updateClass(),"crosshair"==t.member&&!1===this.currentValue&&this.context.stx.doDisplayCrosshairs()}updateClass(){const{removeClasses:t,classes:e}=this.params;if(t&&void 0!==this.currentValue&&(this.classList.remove(...t),e[this.currentValue][0])){let t=e[this.currentValue];this.classList.add(...t)}}wrapInInfoToggle(){if(!e.findClosestParent(this,"cq-info-toggle")){var t=document.createElement("cq-info-toggle");this.parentNode.replaceChild(t,this),t.appendChild(this)}}}e.UI.Toggle=Q,e.UI.addComponentDefinition("cq-toggle",Q);class tt extends e.UI.ContextTag{constructor(){super()}connectedCallback(){this.attached||(super.connectedCallback(),this.node=s(this),this.params={toolSelection:this.node.find("*[cq-current-tool]"),lineSelection:this.node.find("*[cq-line-style]"),fontSizeSelection:this.node.find("*[cq-font-size]"),fontFamilySelection:this.node.find("*[cq-font-family]"),fontStyleToggle:this.node.find("cq-annotation-italic"),fontWeightToggle:this.node.find("cq-annotation-bold"),axisLabelToggle:this.node.find("cq-axis-label .ciq-checkbox"),fillColor:this.node.find("cq-fill-color").not("cq-cvp-controller"),lineColor:this.node.find("cq-line-color").not("cq-cvp-controller"),cvpControllers:this.node.find("cq-cvp-controller")},this.params.cvpControllers.prop("toolbar",this),this.noToolSelectedText="")}clearDrawings(){this.context.stx.clearDrawings(null,!1)}crosshairs(t){var e=this.context.stx;s(this.params.toolSelection).html(s(t.node).html()),e.changeVectorType(null),e.layout.crosshair=!0,e.doDisplayCrosshairs(),e.findHighlights(!1,!0),e.changeOccurred("layout"),e.draw(),e.updateChartAccessories(),this.node.find("*[cq-section]").removeClass("ciq-active"),this.emit()}defaultElements(t){var e=[];for(var i in t)"color"==i?e.push("cq-line-color"):"fillColor"==i?e.push("cq-fill-color"):"pattern"==i||"lineWidth"==i?e.push("cq-line-style"):"axisLabel"==i?e.push("cq-axis-label"):"font"==i?e.push("cq-annotation"):"parameters"==i&&e.push("cq-clickable");return e}emit(){var t=new Event("change",{bubbles:!0,cancelable:!0});this.node.find("*[cq-toolbar-dirty]").addClass("ciq-active"),this.dispatchEvent(t)}getFillColor(t){var i=s(t.node),a=this.context.stx.currentVectorParameters.fillColor;"transparent"!=a&&"auto"!=a||(a=""),i.css({background:a});var r=e.getBackgroundColor(this.parentNode);if(a&&Math.abs(e.hsl(r)[2]-e.hsl(a)[2])<.2){var n=e.chooseForegroundColor(r);i.css({border:"solid "+n+" 1px"})}else i.css({border:""})}getLineColor(t){var i=s(t.node),a=this.context.stx.currentVectorParameters.currentColor;"transparent"!=a&&"auto"!=a||(a=""),i.css({background:a});var r=e.getBackgroundColor(this.parentNode);if(!a||Math.abs(e.hsl(r)[2]-e.hsl(a)[2])<.2){var n=e.chooseForegroundColor(r);i.css({border:"solid "+n+" 1px"}),a||i.css({background:"linear-gradient(to bottom right, "+n+", "+n+" 49%, "+r+" 50%, "+r+")"})}else i.css({border:""})}noTool(){var t=this.context.stx;t.changeVectorType(null),t.layout.crosshair&&(t.layout.crosshair=!1,t.changeOccurred("layout"),t.doDisplayCrosshairs()),t.preferences.magnet&&this.toggleMagnet(this),s(this.params.toolSelection).text(this.noToolSelectedText),s(this.params.toolSelection).attr("cq-current-tool",""),this.node.find("*[cq-section]").removeClass("ciq-active"),this.emit()}pickFillColor(t){var e=t.node,i=s("cq-color-picker");if(i.length){var a=i[0],r=this;a.callback=function(t){r.context.stx.currentVectorParameters.fillColor=t,r.getFillColor({node:e}),r.emit()},a.display({node:e,context:this.context})}else console.log("DrawingToolbar.prototype.pickFillColor: no ColorPicker available")}pickLineColor(t){var e=t.node,i=s("cq-color-picker");if(i.length){var a=i[0],r=this;a.callback=function(t){r.context.stx.currentVectorParameters.currentColor=t,r.getLineColor({node:e}),r.emit()};var n=s(e).attr("cq-overrides");n&&(n=n.split(",")),a.display({node:e,context:this.context,overrides:n})}else console.log("DrawingToolbar.prototype.pickLineColor: no ColorPicker available")}restoreDefaultConfig(t,i){var a=this.context.stx;e.Drawing.restoreDefaultConfig(a,a.currentVectorParameters.vectorType,i),this.node.find("*[cq-toolbar-action='restore']").removeClass("ciq-active"),this.sync()}saveConfig(){var t=this.context.stx;e.Drawing.saveConfig(t,t.currentVectorParameters.vectorType),this.node.find("*[cq-toolbar-action='restore']").addClass("ciq-active"),this.sync()}setFibs(t,e){var i=this.context.stx.currentVectorParameters.fibonacci;if(i){for(var a=0;a<i.fibs.length;a++)i.fibs[a].parameters.lineWidth=t,i.fibs[a].parameters.pattern=e;i.timezone.parameters.lineWidth=t,i.timezone.parameters.pattern=e}}setFontFamily(t,e){var i=this.context.stx;i.currentVectorParameters.annotation.font.family="Default"==e?null:e,s(this.params.fontFamilySelection).text(e),this.emit()}setFontSize(t,e){this.context.stx.currentVectorParameters.annotation.font.size=e,s(this.params.fontSizeSelection).text(e),this.emit()}setContext(t){this.noToolSelectedText=s(this.params.toolSelection).text(),this.sync();var e=this;this.eventListeners.push(t.stx.addEventListener("theme",(function(t){e.sync()})))}setLine(t,e,i){var a=this.context.stx;a.currentVectorParameters.lineWidth=e,a.currentVectorParameters.pattern=i,this.setFibs(e,i),this.currentLineSelectedClass&&s(this.params.lineSelection).removeClass(this.currentLineSelectedClass),this.currentLineSelectedClass="ciq-"+i+"-"+parseInt(e,10),"none"==i?this.currentLineSelectedClass=null:s(this.params.lineSelection).addClass(this.currentLineSelectedClass),this.emit()}sync(t){var i=this.context.stx;t?i.currentVectorParameters=e.extend(i.currentVectorParameters||{},t):t=i.currentVectorParameters,this.setLine(null,t.lineWidth,t.pattern);var a=i.canvasStyle("stx_annotation"),r=t.annotation.font.size||a.fontSize;this.setFontSize(null,r);var n=t.annotation.font.family||a.fontFamily;this.setFontFamily(null,n);var o=t.annotation.font.style||a.fontStyle;s(this.params.fontStyleToggle)["italic"===o?"addClass":"removeClass"]("ciq-active");var l=t.annotation.font.weight||a.fontWeight;s(this.params.fontWeightToggle)["bold"===l||l>=700?"addClass":"removeClass"]("ciq-active"),s(this.params.axisLabelToggle)[t.axisLabel?"addClass":"removeClass"]("ciq-active"),this.getFillColor({node:s(this.params.fillColor)}),this.getLineColor({node:s(this.params.lineColor)}),s(this.params.cvpControllers).each((function(){this.sync(t)})),this.node.find("*[cq-toolbar-dirty]").removeClass("ciq-active")}toggleAxisLabel(t){var e=this.context.stx;!0===e.currentVectorParameters.axisLabel?(e.currentVectorParameters.axisLabel=!1,s(t.node).removeClass("ciq-active")):(e.currentVectorParameters.axisLabel=!0,s(t.node).addClass("ciq-active")),this.emit()}toggleFontStyle(t,e){var i=this.context.stx;"italic"==e?"italic"==i.currentVectorParameters.annotation.font.style?(i.currentVectorParameters.annotation.font.style=null,s(t.node).removeClass("ciq-active")):(i.currentVectorParameters.annotation.font.style="italic",s(t.node).addClass("ciq-active")):"bold"==e&&("bold"==i.currentVectorParameters.annotation.font.weight?(i.currentVectorParameters.annotation.font.weight=null,s(t.node).removeClass("ciq-active")):(i.currentVectorParameters.annotation.font.weight="bold",s(t.node).addClass("ciq-active"))),this.emit()}toggleMagnet(t){var i=s(t.node),a=this.context.stx;a.preferences.magnet?(i.removeClass("active"),a.preferences.magnet=!1):(i.addClass("active"),a.preferences.magnet=!0),e.clearCanvas(a.chart.tempCanvas,a)}tool(t,i){if(i||(i=t.node.getAttribute("cq-tool")),i){var a=this.context.stx;a.clearMeasure(),a.changeVectorType(i),s(this.params.toolSelection).html(s(t.node).html()),s(this.params.toolSelection).attr("cq-current-tool",i),this.node.find("*[cq-section]").removeClass("ciq-active");var r=e.Drawing.getDrawingParameters(a,i);if(r){this.node.find("*[cq-toolbar-action='save']").addClass("ciq-active");var n=a.preferences.drawings;n&&n[i]&&this.node.find("*[cq-toolbar-action='restore']").addClass("ciq-active"),"fibtimezone"===i&&delete r.parameters;var o=s(this.params.lineSelection).parent().find(".ciq-none");o.hide();for(var l=this.defaultElements(r),c=0;c<l.length;c++)s(this.node).find(l[c]).addClass("ciq-active"),"cq-fill-color"==l[c]&&o.show();for(l=e.Drawing[i].prototype.$controls,c=0;l&&c<l.length;c++)s(this.node).find(l[c]).addClass("ciq-active")}this.sync()}}}e.UI.DrawingToolbar=tt,e.UI.addComponentDefinition("cq-toolbar",tt);class et extends e.UI.ContextTag{constructor(){super(),this.redoButton=null,this.undostack=[],this.redostack=[],this.contexts=[]}connectedCallback(){if(!this.attached){super.connectedCallback();var t=this;s(this).stxtap((function(){t.undo()}))}}clear(t){this.setButtonStyle()}handleEvent(t,e,i){this.undostack.push({context:t,drawings:i.before}),this.redostack=[],this.setButtonStyle()}keyStroke(t,e,i,a){return"z"==e&&(a.ctrl||a.cmd)?(a.shift?this.redo():this.undo(),!0):"y"==e&&(a.ctrl||a.cmd)?(this.redo(),!0):void 0}manageContext(t){this.addClaim(this);var e=this;this.eventListeners.push(t.stx.addEventListener("undoStamp",(function(i){e.handleEvent(t,"undoStamp",i)}))),this.contexts.push(t)}redo(){var t=this.redostack.pop();if(t){var e=t.context;this.undostack.push({context:e,drawings:e.stx.exportDrawings()});var i=t.drawings;e.stx.abortDrawings(!0),e.stx.importDrawings(i),e.stx.changeOccurred("vector"),e.stx.draw()}this.setButtonStyle()}setButtonStyle(){this.undostack.length?s(this).attr("cq-active","true"):s(this).removeAttr("cq-active"),this.redoButton&&(this.redostack.length?s(this.redoButton).attr("cq-active","true"):s(this.redoButton).removeAttr("cq-active"))}setContext(t){this.manageContext(this.context);var e=this;this.addInjection("append","initializeChart",(function(){e.undostack=[],e.redostack=[],e.clear()}))}undo(){for(var t=!1,e=0;e<this.contexts.length;e++)this.contexts[e].stx.activeDrawing&&(this.contexts[e].stx.undo(),t=!0);if(!t){var i=this.undostack.pop();if(i){var a=i.context;this.redostack.push({context:a,drawings:a.stx.exportDrawings()});var r=i.drawings;a.stx.abortDrawings(!0),a.stx.importDrawings(r),a.stx.changeOccurred("vector"),a.stx.draw()}this.setButtonStyle()}}}e.UI.Undo=et,e.UI.addComponentDefinition("cq-undo",et);class it extends e.UI.DialogContentTag{constructor(){super()}open(t){this.addDefaultMarkup(),this.querySelector("input").value="",super.open(t)}save(){var t=this.node.find("input").val();if(t){var i=!1,a=this.context.stx.exportLayout();s("cq-views").each((function(){for(var r,n=this.params.viewObj,s=0;s<n.views.length&&(r=n.views[s],t!=e.first(r));s++);s==n.views.length&&((r={})[t]={},n.views.push(r)),r[t]=a,delete r[t].candleWidth,this.renderMenu(),i||(i=!0,this.params.nameValueStore.set("stx-views",n.views))})),this.close()}}}e.UI.ViewDialog=it,it.markup='\n\t\t<h4>Save View</h4>\n\t\t<div stxtap="close()" class="ciq-icon ciq-close"></div>\n\t\t<div style="text-align:center;margin-top:10px;">\n\t\t\t<i>Enter name of view:</i>\n\t\t\t<p>\n\t\t\t\t<input spellcheck="false" autocapitalize="off" autocorrect="off" autocomplete="off" maxlength="40" placeholder="Name"><br>\n\t\t\t</p>\n\t\t\t<span class="ciq-btn" stxtap="save()">Save</span>\n\t\t</div>\n\t',e.UI.addComponentDefinition("cq-view-dialog",it);class at extends e.UI.ContextTag{constructor(){super()}connectedCallback(){super.connectedCallback(),this.addDefaultMarkup()}initialize(t){this.params=Object.assign({},t),this.params.viewObj||(this.params.viewObj={views:[]}),this.params.nameValueStore||(this.params.nameValueStore=new e.NameValueStore),this.params.template||(this.params.template="template[cq-view]"),this.params.template=this.node.find(this.params.template),this.params.template.detach();var i=this;this.params.nameValueStore.get("stx-views",(function(t,e){!t&&e&&(i.params.viewObj.views=e),i.params.cb&&i.params.cb.call(i),i.renderMenu()}))}setContext({config:t}){t&&t.menuViewConfig&&this.initialize(t.menuViewConfig)}renderMenu(){var t=s(this.node),i=this,a=i.context.stx;function r(t){return function(e){e.stopPropagation();var a=!1;s("cq-views").each((function(){this.params.viewObj.views.splice(t,1),a||(this.params.nameValueStore.set("stx-views",i.params.viewObj.views),a=!0),this.renderMenu()}))}}function n(t){return function(r){r.stopPropagation(),i.uiManager.closeMenu(),i.context.loader&&i.context.loader.show();var n=e.first(i.params.viewObj.views[t]);function s(){var e=function(){a.changeOccurred("layout"),i.context.loader&&i.context.loader.hide()};a.importLayout(i.params.viewObj.views[t][n],{managePeriodicity:!0,preserveTicksAndCandleWidth:!0,cb:e})}setTimeout(s,10)}}t.find("cq-views-content cq-item").remove();for(var o=0;o<this.params.viewObj.views.length;o++){var l=e.first(i.params.viewObj.views[o]);if("recent"!=l){var c=e.UI.makeFromTemplate(this.params.template),h=c.find("cq-label"),u=c.find("div");h.length&&(h.addClass("view-name-"+l),h.text(l)),u.length&&u.stxtap(r(o)),this.makeTap(c[0],n(o)),t.find("cq-views-content").append(c)}}var d=t.find("cq-view-save");if(d){const{context:t}=this,e=this;this.makeTap(d.find("cq-item")[0],(function(i){t.config?e.channelWrite(t.config.channels.dialog,{type:"view",params:{context:t}}):document.querySelector("cq-view-dialog").open({context:t})}))}this.params.renderCB&&this.params.renderCB(t)}}e.UI.Views=at,at.markup='\n\t\t<cq-heading>Saved Views</cq-heading>\n\t\t<cq-views-content>\n\t\t\t<template cq-view>\n\t\t\t\t<cq-item>\n\t\t\t\t\t<cq-label></cq-label>\n\t\t\t\t\t<div class="ciq-icon ciq-close"></div>\n\t\t\t\t</cq-item>\n\t\t\t</template>\n\t\t</cq-views-content>\n\t\t<cq-separator cq-partial></cq-separator>\n\t\t<cq-view-save>\n\t\t\t<cq-item><cq-plus></cq-plus>Save View</cq-item>\n\t\t</cq-view-save>\n\t',e.UI.addComponentDefinition("cq-views",at);class rt extends e.UI.ContextTag{static get observedAttributes(){return["corrective","decoration","impulse","show-lines"]}get corrective(){return this.getAttribute("corrective")}set corrective(t){t?this.setAttribute("corrective",t.join(" ")):this.removeAttribute("corrective")}get decoration(){return this.getAttribute("decoration")}set decoration(t){t?this.setAttribute("decoration",t):this.removeAttribute("decoration")}get impulse(){return this.getAttribute("impulse")}set impulse(t){t?this.setAttribute("impulse",t.join(" ")):this.removeAttribute("impulse")}get showLines(){return this.hasAttribute("show-lines")}set showLines(t){t?(this.setAttribute("show-lines",""),this.lineToggleCheckbox.classList.add("ciq-active")):this.removeAttribute("show-lines")}get template(){return this.getAttribute("template")}set template(t){return this.setAttribute("template",t)}static templates(){return{"Grand Supercycle":{impulse:["I","II","III","IV","V"],corrective:["a","b","c"],decoration:"enclosed"},Supercycle:{impulse:["I","II","III","IV","V"],corrective:["a","b","c"],decoration:"parentheses"},Cycle:{impulse:["I","II","III","IV","V"],corrective:["a","b","c"],decoration:null},Primary:{impulse:["1","2","3","4","5"],corrective:["A","B","C"],decoration:"enclosed"},Intermediate:{impulse:["1","2","3","4","5"],corrective:["A","B","C"],decoration:"parentheses"},Minor:{impulse:["1","2","3","4","5"],corrective:["A","B","C"],decoration:null},Minute:{impulse:["i","ii","iii","iv","v"],corrective:["a","b","c"],decoration:"enclosed"},Minuette:{impulse:["i","ii","iii","iv","v"],corrective:["a","b","c"],decoration:"parentheses"},"Sub-Minuette":{impulse:["i","ii","iii","iv","v"],corrective:["a","b","c"],decoration:null}}}attributeChangedCallback(t,e,i){if(!this.stx)return;let a,r=this.stx.currentVectorParameters,n=r.waveParameters||{};switch(t){case"template":let t=this.templates[i];t&&(a={decoration:t.decoration});break;case"impulse":a={impulse:i?i.split(" "):i};break;case"corrective":a={corrective:i?i.split(" "):i};break;case"decoration":a={decoration:i};break;case"show-lines":a={showLines:this.showLines}}r.waveParameters=Object.assign(n,a)}constructor(){super(),this.templates=rt.templates()}connectedCallback(){if(!this.attached){this.template="Grand Supercycle";var t=document.querySelector('template[cq-wave-parameters], template[cq-wave-parameters="true"]');e.UI.makeFromTemplate(t,this),this.templateHeader=this.querySelector(".ciq-active-template"),this.impulseHeader=this.querySelector(".ciq-active-impulse"),this.correctiveHeader=this.querySelector(".ciq-active-corrective"),this.decorators={blank:this.querySelector(".ciq-btn:nth-of-type(1n)"),parentheses:this.querySelector(".ciq-btn:nth-of-type(2n)"),enclosed:this.querySelector(".ciq-btn:nth-of-type(3n)")},this.lineToggleCheckbox=this.querySelector("span.ciq-checkbox"),super.connectedCallback()}}disconnectedCallback(){super.disconnectedCallback()}activate(){this.stx&&(this.cvp=this.stx.currentVectorParameters,this.update(null,"template",this.template),this.showLines=!0)}setContext(){this.stx=this.context.stx}toggleLines(){let t=this.lineToggleCheckbox,e=t.classList.contains("ciq-active");this.showLines=!e,e?t.classList.remove("ciq-active"):t.classList.add("ciq-active")}update(t,e,i){if("template"===e){this.template=i,this.templateHeader.innerHTML=i;let t=this.templates[this.template];if(t){this.impulse=t.impulse,this.impulseHeader.innerHTML=t.impulse.join(" "),this.corrective=t.corrective,this.correctiveHeader.innerHTML=t.corrective.join(" ");for(let t in this.decorators)this.decorators[t].classList.remove("ciq-active");let e=t.decoration||"blank";this.decorators[e].classList.add("ciq-active"),this.decoration=e}else this.cvp.waveParameters={corrective:this.corrective.split(" "),impulse:this.impulse.split(" "),decoration:this.decoration}}else{if("decoration"===e){for(let t in this.decorators)this.decorators[t].classList.remove("ciq-active");t.node.classList.add("ciq-active"),this.decoration=t.node.getAttribute("decoration")}else if("showLines"===e);else{let t=i?i.split(","):i;this[e]=t,this[e+"Header"].innerHTML=t?t.join(" "):"- - -"}this.templateHeader.innerHTML=this.template="Custom"}}}e.UI.WaveParameters=rt,e.UI.addComponentDefinition("cq-wave-parameters",rt);class nt extends e.UI.Dialog{constructor(){super(),this.params={colorMap:[["#ffffff","#e1e1e1","#cccccc","#b7b7b7","#a0a0a5","#898989","#707070","#626262","#555555","#464646","#363636","#262626","#1d1d1d","#000000"],["#f4977c","#f7ac84","#fbc58d","#fff69e","#c4de9e","#85c99e","#7fcdc7","#75d0f4","#81a8d7","#8594c8","#8983bc","#a187bd","#bb8dbe","#f29bc1"],["#ef6c53","#f38d5b","#f8ae63","#fff371","#acd277","#43b77a","#2ebbb3","#00bff0","#4a8dc8","#5875b7","#625da6","#8561a7","#a665a7","#ee6fa9"],["#ea1d2c","#ee652e","#f4932f","#fff126","#8ec648","#00a553","#00a99c","#00afed","#0073ba","#0056a4","#323390","#66308f","#912a8e","#e9088c"],["#9b0b16","#9e4117","#a16118","#c6b920","#5a852d","#007238","#00746a","#0077a1","#004c7f","#003570","#1d1762","#441261","#62095f","#9c005d"],["#770001","#792e03","#7b4906","#817a0b","#41661e","#005827","#005951","#003b5c","#001d40","#000e35","#04002c","#19002b","#2c002a","#580028"]]}}connectedCallback(){this.attached||(super.connectedCallback(),this.build())}build(){this.addDefaultMarkup();var t=s(this),e=t.attr("cq-colors");if(e){e=e.split(",");var i=Math.ceil(Math.sqrt(e.length));this.params.colorMap=[];for(var a=0,r=[],n=0;n<e.length;n++)a>=i&&(a=0,this.params.colorMap.push(r),r=[]),r.push(e[n]),a++;this.params.colorMap.push(r)}this.cqOverrides=t.find("cq-overrides"),this.template=this.cqOverrides.find("template"),this.initialize()}display(t){var i=s(t.node),a=i[0].getBoundingClientRect();this.picker.css({top:"0px",left:"0px"});var r=this.parentNode.getBoundingClientRect(),n=a.left-r.left+i.width()+10,o=a.top-r.top+5,l=s(document).width(),c=this.picker.width();n+c>l&&(n=l-c-20);var h=s(document).height(),u=this.picker.height();o+u>h&&(o=h-u-20),this.picker.css({left:n+"px",top:o+"px"}),this.cqOverrides.emptyExceptTemplate();var d=t.context||this.context||e.UI.getMyContext(this);if(t.overrides&&this.template.length)for(var p=0;p<t.overrides.length;p++){var g=t.overrides[p],f=e.UI.makeFromTemplate(this.template,!0);d.stx&&(g=d.stx.translateIf(g)),f.text(g),f.stxtap(function(t,e){return function(){t.pickColor(e)}}(this,g))}this.picker.hasClass("stxMenuActive")?d.e&&d.e.stopPropagation():this.picker[0].open({context:d})}initialize(){var t=this;function e(t,e){return function(){t.pickColor(e)}}this.picker=s(this),this.colors=this.picker.find("cq-colors"),this.colors.length||(this.colors=this.picker),this.colors.empty();for(var i=0;i<this.params.colorMap.length;i++)for(var a=this.params.colorMap[i],r=s("<UL></UL>").appendTo(this.colors),n=0;n<a.length;n++){var o=s("<LI></LI>").appendTo(r),l=s("<SPAN></SPAN>").appendTo(o);l.css({"background-color":a[n]}),l.stxtap(e(t,a[n]))}}pickColor(t){this.callback&&this.callback(t),this.close()}resize(){}setColors(t){this.params.colorMap=t,this.initialize()}}nt.markup='\n\t\t<cq-colors></cq-colors>\n\t\t<cq-overrides>\n\t\t\t<template>\n\t\t\t\t<div class="ciq-btn"></div>\n\t\t\t</template>\n\t\t</cq-overrides>\n\t',e.UI.ColorPicker=nt,e.UI.addComponentDefinition("cq-color-picker",nt);class st extends e.UI.Palette{constructor(){super(),this.mode="",this.callbacks=[],this.toolSettings={favList:[],toolGroup:""},this.toolShortcuts={},this.loadToolSettings()}setupKeyboardActivation(t){if(void 0!==this.getAttribute("cq-keystroke-claim")){let t=this.context.topNode.querySelectorAll("*[cq-tool][cq-tool-shortcut]");for(let e=0;e<t.length;e++){let i=t[e].getAttribute("cq-tool-shortcut");if(/^[A-Za-z]{1}$/g.test(i)){this.toolShortcuts[i.toUpperCase()]={toolName:t[e].getAttribute("cq-tool"),node:t[e]};let a=t[e].querySelector("label"),r=document.createElement("span");r.classList.add("shortcut"),r.innerHTML=" (Alt+"+i.toUpperCase()+")",a.appendChild(r)}else console.warn("cq-tool-shortcut attribute must be a single letter: "+i+" ignored.")}this.addClaim(this)}}keyStroke(t,e,i,a){if(i.altKey){let t=String.fromCharCode(i.which).toUpperCase(),e=this.toolShortcuts[t];e&&(this.channels&&this.channelWrite(this.channels.drawing,!0),this.tool({node:e.node},e.toolName))}else if("Escape"===i.key){let t=this.context.topNode.querySelector('*[cq-tool="notool"]');t&&this.noTool({node:t})}}handleMessage(t,e){switch(t){case"changeToolSettings":this.activateTool(e.activator,e.toolName);break;case"toggleDrawingPalette":this.togglePalette();break;case"hideDrawingPalette":case"dockWillResize":this.hidePalette();break;case"dockDidResize":this.resetScroller();break;case"context":"stop"===e&&(this.toolContextMenu.style.display="none")}}loadToolSettings(){if(window.localStorage){const t=JSON.parse(window.localStorage.getItem("CIQ.DrawingToolSettings"));t&&t.favList&&(this.toolSettings=Object.assign(this.toolSettings,t))}}storeToolSettings(){window.localStorage&&window.localStorage.setItem("CIQ.DrawingToolSettings",JSON.stringify(this.toolSettings))}setContext(t){const{config:e,stx:i}=t;e&&(this.addDefaultMarkup(this,this.getMarkup(e)),this.channels={drawing:e.channels.drawing}),this.init(),this.params={toolGroupSelection:this.querySelector("*[cq-tool-group-selection]")},this.setFavorites(),this.setMode("grid"),this.setEvenOdd(),this.toolContextMenu=this.createContextMenu(),this.addEventListener("contextmenu",function(t){if(t.preventDefault(),null!==t.target.getAttribute("cq-tool-group")){let e=t.target.getBoundingClientRect(),i=this.getBoundingClientRect();this.showToolContextMenu(t.target.getAttribute("cq-tool"),e.top+e.height-i.top,e.left-i.left)}}.bind(this)),this.setupKeyboardActivation(),this.pairUndoRedo(),this.toolSettings.toolGroup&&this.setToolGroup({node:this.querySelector('cq-item[cq-tool-group="'+this.toolSettings.toolGroup+'"]')},this.toolSettings.toolGroup),this.channels&&this.channelSubscribe(this.channels.drawing,(t=>{t?(this.resetScroller(),this.priorVectorType&&!i.currentVectorParameters.vectorType&&i.changeVectorType(this.priorVectorType)):(this.priorVectorType=i.currentVectorParameters.vectorType,i.changeVectorType(""))}))}pairUndoRedo(){const t=this.qs("cq-redo",this),e=this.qs("cq-undo",this);t.pairUp(e)}changeView(t,e){this.setMode(e);for(var i=0;i<this.callbacks.length;i++)this.callbacks[i].call(this,this.mode)}createContextMenu(){let t=document.createElement("div");t.className="menu-item",t.innerHTML="Add/Remove Favorite",t.addEventListener("mousedown",function(t){t.stopPropagation(),1===t.which&&(this.toggleFavorite(t.currentTarget.parentElement.getAttribute("context-tool")),this.paletteDock.stopContext(this))}.bind(this));let e=document.createElement("div");return e.appendChild(t),e.className="tool-context-menu",this.node.append(e),e}registerCallback(t){this.callbacks.push(t)}resetScroller(){const t=this.querySelector(".tool-group cq-scroll");if(!t)return!1;this.setEvenOdd(),t.refresh()}setActiveButton(t){s(this).find(".ciq-tool.active").removeClass("active"),s(t).find("label").html(),t.getAttribute("stxtap"),t.classList.add("active"),s(".ciq-mobile-palette-toggle").is(":visible")||this.togglePalette()}setMode(t){t="list"===t?t:"grid",this.mode=t,this.classList.remove("list"),this.classList.remove("grid"),this.classList.add(this.mode),this.resetScroller(),this.paletteDock.handleResize({resizeChart:!0})}setEvenOdd(t){s(this.node).find(".tool-group cq-scroll cq-item").filter(":visible").each((function(t){t%2?this.classList.add("odd"):this.classList.remove("odd")}))}setFavorites(){for(var t=this.querySelectorAll(".tool-group [cq-tool]"),e=0;e<t.length;e++){var i=t[e];if(null===i.querySelector(".fav-marker")){let t=document.createElement("div");t.className="fav-marker",t.addEventListener("click",this.handleFavoriteClick.bind(this)),t.addEventListener("touchstart",this.handleFavoriteClick.bind(this),!0),i.appendChild(t)}i.getAttribute("cq-tool-group").indexOf("favorite")>=0&&i.setAttribute("cq-tool-group",i.getAttribute("cq-tool-group").replace("favorite","")),this.toolSettings.favList.indexOf(i.getAttribute("cq-tool"))>=0&&i.setAttribute("cq-tool-group",i.getAttribute("cq-tool-group")+" favorite")}}handleFavoriteClick(t){t.stopPropagation(),t.preventDefault(),this.toggleFavorite(t.target.parentElement.getAttribute("cq-tool")),this.hidePalette()}addFavorite(t){this.toolSettings.favList.indexOf(t)<0&&(this.toolSettings.favList.push(t),this.storeToolSettings(),this.setFavorites())}showToolContextMenu(t,e,i){this.toolContextMenu.style.display="block",this.toolContextMenu.style.top=e+"px",this.toolContextMenu.style.left=i+"px",this.toolContextMenu.setAttribute("context-tool",t),this.paletteDock.startContext(this)}toggleFavorite(t){let e=this.toolSettings.favList.indexOf(t);e>=0?this.toolSettings.favList.splice(e,1):this.toolSettings.favList.push(t),this.storeToolSettings(),this.setFavorites()}setToolGroup(t,e){this.toolSettings.toolGroup=e,this.querySelector(".tool-group").setAttribute("tool-group-filter",this.toolSettings.toolGroup),this.querySelector(".tool-group cq-scroll").top(),this.setEvenOdd(e);for(var i=0;i<this.callbacks.length;i++)this.callbacks[i].call(this,this.mode);this.showPalette(),s(this.params.toolGroupSelection).html(t.node.innerHTML),this.storeToolSettings()}togglePalette(){this.classList.toggle("palette-hide")}hidePalette(){this.classList.add("palette-hide")}showPalette(){this.classList.remove("palette-hide")}activateTool(t,e){let i=null;i=!t.node&&e?this.querySelector("[cq-tool="+e+"]"):t.node,this.setActiveButton(i);var a=this.context.stx;a.clearMeasure(),a.changeVectorType(e)}noTool(t,e){this.tool(t,"notool")}tool(t,e){if(e||(e=t.node.getAttribute("cq-tool")),e){var i=t.node.querySelector("label").innerHTML;this.activateTool(t,e),this.sendMessage&&this.sendMessage("changeTool",{activator:t,toolName:e,toolLabel:i})}}clearDrawings(){this.sendMessage&&this.sendMessage("clearDrawings")}restoreDefaultConfig(t,e){this.sendMessage&&this.sendMessage("restoreDefaultConfig",{activator:t,all:e})}getMarkup(t){const e=t.getMenu("drawingTools",!0).join(""),i=t.drawingToolGrouping.map((t=>`<cq-item \n\t\t\t\t\tstxtap="setToolGroup('${t.toLowerCase()}')" \n\t\t\t\t\tcq-tool-group="${t.toLowerCase()}">${t}\n\t\t\t\t</cq-item>`)).join("");return this.constructor.markup.replace("{{tools}}",e).replace("{{toolGrouping}}",i)}}st.markup='\n\t<div class="palette-container">\n\t\t<div class="drag-strip"></div>\n\t\t\t<div class="mini-widget-group">\n\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="list" stxtap="changeView(\'list\')"><span class="icon"></span><label>List View</label></cq-item>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="grid" stxtap="changeView(\'grid\')"><span class="icon"></span><label>Grid View</label></cq-item>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="detach" stxtap="detach()"><span class="icon"></span><label>Detach</label></cq-item>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="attach" stxtap="dock()"><span class="icon"></span><label>Attach</label></cq-item>\n\t\t\t</div>\n\t\t\t<cq-separator></cq-separator>\n\t\t\t<div class="primary-tool-group">\n\t\t\t\t<cq-item class="ciq-tool active" cq-tool="notool" stxtap="tool()"><span class="icon pointer"></span><label>No Tool</label></cq-item>\n\t\t\t\t<cq-item class="ciq-tool" cq-tool="measure" stxtap="tool()"><span class="icon measure"></span><label>Measure</label></cq-item>\n\t\t\t\t<cq-undo class="ciq-tool"><span class="icon undo"></span><label>Undo</label></cq-undo>\n\t\t\t\t<cq-redo class="ciq-tool"><span class="icon redo"></span><label>Redo</label></cq-redo>\n\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t<span cq-tool-group-selection>All</span>\n\t\t\t\t\t<cq-menu-dropdown class="ciq-tool-group-selection">\n\t\t\t\t\t\t{{toolGrouping}}\n\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t</cq-menu>\n\t\t\t</div>\n\t\t\t<cq-separator></cq-separator>\n\t\t\t<div class="tool-group" tool-group-filter="all">\n\t\t\t\t<cq-scroll cq-no-resize>\n\t\t\t\t\t{{tools}}\n\t\t\t\t</cq-scroll>\n\t\t\t\t<cq-separator></cq-separator>\n\t\t\t\t<div class="mini-widget-group mini-widget-foot">\n\t\t\t\t\t<cq-toggle class="ciq-mini-widget ciq-magnet" cq-member="preferences.magnet" cq-toggles="true,75,false" cq-toggle-classes="active strong,active,"><span class="icon magnet"></span><label>Magnet</label></cq-toggle>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" stxtap="clearDrawings()"><span class="icon clear"></span><label>Clear Drawings</label></cq-item>\n\t\t\t\t\t<cq-item class="ciq-mini-widget" stxtap="restoreDefaultConfig(true)"><span class="icon restore"></span><label>Restore Default Parameters</label></cq-item>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<div class="resize-strip"></div>\n\t</div>\n\t',e.UI.DrawingPalette=st,e.UI.addComponentDefinition("cq-drawing-palette",st);class ot extends e.UI.Palette{constructor(){super()}setContext(t){this.addDefaultMarkup(),this.init(),this.node=s(this),this.params={lineSelection:this.node.find("*[cq-line-style]"),fontSizeSelection:this.node.find("*[cq-font-size]"),fontFamilySelection:this.node.find("*[cq-font-family]"),fontStyleToggle:this.node.find("cq-annotation-italic"),fontWeightToggle:this.node.find("cq-annotation-bold"),axisLabelToggle:this.node.find("cq-axis-label .ciq-checkbox"),fillColor:this.node.find("cq-fill-color").not("cq-cvp-controller"),lineColor:this.node.find("cq-line-color").not("cq-cvp-controller"),cvpControllers:this.node.find("cq-cvp-controller"),waveParameters:this.node.find("cq-wave-parameters")},this.params.cvpControllers.prop("toolbar",this),this.noToolSelectedText="",this.noToolSelectedText=s(this.params.toolSelection).text(),this.sync(),t.stx.setDrawingContainer(this);var e=this;t.stx.addEventListener("theme",(function(t){e.sync()}))}handleMessage(t,e){switch(t){case"changeTool":this.setActiveToolLabel(e.toolLabel),this.toolSettings(e.activator,e.toolName);break;case"clearDrawings":this.clearDrawings();break;case"restoreDefaultConfig":this.restoreDefaultConfig(e.activator,e.all)}}clearDrawings(){this.context.stx.clearDrawings(null,!1)}crosshairs(t){var e=this.context.stx;s(this.params.toolSelection).html(s(t.node).html()),e.changeVectorType(null),e.layout.crosshair=!0,e.doDisplayCrosshairs(),e.findHighlights(!1,!0),e.changeOccurred("layout"),e.draw(),e.updateChartAccessories(),this.node.find("*[cq-section]").removeClass("ciq-active"),this.emit()}tool(t,e){this.toolSettings(t,e),this.setActiveToolLabel(e),this.sendMessage("changeToolSettings",{activator:t,toolName:e})}toolSettings(t,i){var a=this.context.stx;this.node.find("*[cq-section]").removeClass("ciq-active");var r=e.Drawing.getDrawingParameters(a,i);if(r){this.node.find("*[cq-toolbar-action='save']").addClass("ciq-active");var n=a.preferences.drawings;n&&n[i]&&this.node.find("*[cq-toolbar-action='restore']").addClass("ciq-active"),"fibtimezone"===i&&delete r.parameters;var o=s(this.params.lineSelection).parent().find(".ciq-none");o.hide();for(var l=this.defaultElements(r),c=0;c<l.length;c++)s(this.node).find(l[c]).addClass("ciq-active"),"cq-fill-color"==l[c]&&o.show();for(l=e.Drawing[i].prototype.$controls,c=0;l&&c<l.length;c++)s(this.node).find(l[c]).addClass("ciq-active")}a.layout.crosshair&&(a.layout.crosshair=!1,a.changeOccurred("layout"),a.doDisplayCrosshairs()),"notool"===i?(a.changeVectorType(null),a.preferences.magnet&&this.toggleMagnet(this),this.hide="true"):this.hide="false",this.paletteDock.handleResize(),this.sync()}defaultElements(t){var e=[];for(var i in t)"color"==i?e.push("cq-line-color"):"fillColor"==i?e.push("cq-fill-color"):"pattern"==i||"lineWidth"==i?e.push("cq-line-style"):"axisLabel"==i?e.push("cq-axis-label"):"font"==i?e.push("cq-annotation"):"parameters"==i&&e.push("cq-clickable");return e}emit(){var t=new Event("change",{bubbles:!0,cancelable:!0});this.node.find("*[cq-toolbar-dirty]").addClass("ciq-active"),this.dispatchEvent(t)}getFillColor(t){var i=s(t.node),a=this.context.stx.currentVectorParameters.fillColor;"transparent"!=a&&"auto"!=a||(a=""),i.css({background:a});var r=e.getBackgroundColor(this.parentNode);if(a&&Math.abs(e.hsl(r)[2]-e.hsl(a)[2])<.2){var n=e.chooseForegroundColor(r);i.css({border:"solid "+n+" 1px"})}else i.css({border:""})}getLineColor(t){var i=s(t.node),a=this.context.stx.currentVectorParameters.currentColor;"transparent"!=a&&"auto"!=a||(a=""),i.css({background:a});var r=e.getBackgroundColor(this.parentNode);if(!a||Math.abs(e.hsl(r)[2]-e.hsl(a)[2])<.2){var n=e.chooseForegroundColor(r);i.css({border:"solid "+n+" 1px"}),a||i.css({background:"linear-gradient(to bottom right, "+n+", "+n+" 49%, "+r+" 50%, "+r+")"})}else i.css({border:""})}pickFillColor(t){var e=t.node,i=s("cq-color-picker");if(i.length){var a=i[0],r=this;a.callback=function(t){r.context.stx.currentVectorParameters.fillColor=t,r.getFillColor({node:e}),r.emit()},a.display({node:e,context:r.context})}else console.log("DrawingToolbar.prototype.pickFillColor: no ColorPicker available")}pickLineColor(t){var e=t.node,i=s("cq-color-picker");if(i.length){var a=i[0],r=this;a.callback=function(t){r.context.stx.currentVectorParameters.currentColor=t,r.getLineColor({node:e}),r.emit()};var n=s(e).attr("cq-overrides");n&&(n=n.split(",")),a.display({node:e,overrides:n,context:r.context})}else console.log("DrawingToolbar.prototype.pickLineColor: no ColorPicker available")}restoreDefaultConfig(t,i){var a=this.context.stx;e.Drawing.restoreDefaultConfig(a,a.currentVectorParameters.vectorType,i),this.node.find("*[cq-toolbar-action='restore']").removeClass("ciq-active"),this.sync()}saveConfig(){var t=this.context.stx;e.Drawing.saveConfig(t,t.currentVectorParameters.vectorType),this.node.find("*[cq-toolbar-action='restore']").addClass("ciq-active"),this.sync()}setFibs(t,e){var i=this.context.stx.currentVectorParameters.fibonacci;if(i){for(var a=0;a<i.fibs.length;a++)i.fibs[a].parameters.lineWidth=t,i.fibs[a].parameters.pattern=e;i.timezone.parameters.lineWidth=t,i.timezone.parameters.pattern=e}}setFontFamily(t,e){var i=this.context.stx;i.currentVectorParameters.annotation.font.family="Default"==e?null:e,s(this.params.fontFamilySelection).text(e),this.emit()}setFontSize(t,e){this.context.stx.currentVectorParameters.annotation.font.size=e,s(this.params.fontSizeSelection).text(e),this.emit()}setLine(t,e,i){var a=this.context.stx;a.currentVectorParameters.lineWidth=e,a.currentVectorParameters.pattern=i,this.setFibs(e,i),this.currentLineSelectedClass&&s(this.params.lineSelection).removeClass(this.currentLineSelectedClass),this.currentLineSelectedClass="ciq-"+i+"-"+parseInt(e,10),"none"==i?this.currentLineSelectedClass=null:s(this.params.lineSelection).addClass(this.currentLineSelectedClass),this.emit()}setActiveToolLabel(t){"No Tool"===t?t="":"freeform"===t?t="Doodle":t+=":",this.querySelector(".ciq-active-tool-label").innerHTML=t,this.querySelector(".ciq-mobile-palette-toggle span").innerHTML=t||"Select Tool"}sync(t){var i=this.context.stx;t?i.currentVectorParameters=e.extend(i.currentVectorParameters||{},t):t=i.currentVectorParameters;var a=this.params;this.setLine(null,t.lineWidth,t.pattern);var r=i.canvasStyle("stx_annotation"),n=t.annotation.font.size||r.fontSize;this.setFontSize(null,n);var o=t.annotation.font.family||r.fontFamily;this.setFontFamily(null,o);var l=t.annotation.font.style||r.fontStyle;s(a.fontStyleToggle)["italic"===l?"addClass":"removeClass"]("ciq-active");var c=t.annotation.font.weight||r.fontWeight;s(a.fontWeightToggle)["bold"===c||c>=700?"addClass":"removeClass"]("ciq-active"),s(a.axisLabelToggle)[t.axisLabel?"addClass":"removeClass"]("ciq-active"),this.getFillColor({node:s(a.fillColor)}),this.getLineColor({node:s(a.lineColor)}),s(a.cvpControllers).each((function(){this.sync(t)}));var h=a.waveParameters;h&&h[0]&&h[0].activate(),this.node.find("*[cq-toolbar-dirty]").removeClass("ciq-active")}toggleAxisLabel(t){var e=this.context.stx;!0===e.currentVectorParameters.axisLabel?(e.currentVectorParameters.axisLabel=!1,s(t.node).removeClass("ciq-active")):(e.currentVectorParameters.axisLabel=!0,s(t.node).addClass("ciq-active")),this.emit()}toggleFontStyle(t,e){var i=this.context.stx;"italic"==e?"italic"==i.currentVectorParameters.annotation.font.style?(i.currentVectorParameters.annotation.font.style=null,s(t.node).removeClass("ciq-active")):(i.currentVectorParameters.annotation.font.style="italic",s(t.node).addClass("ciq-active")):"bold"==e&&("bold"==i.currentVectorParameters.annotation.font.weight?(i.currentVectorParameters.annotation.font.weight=null,s(t.node).removeClass("ciq-active")):(i.currentVectorParameters.annotation.font.weight="bold",s(t.node).addClass("ciq-active"))),this.emit()}toggleMagnet(t){var i=s(t.node),a=this.context.stx;a.preferences.magnet?(i.removeClass("active"),a.preferences.magnet=!1):(i.addClass("active"),a.preferences.magnet=!0),e.clearCanvas(a.chart.tempCanvas,a)}togglePalette(){this.sendMessage("toggleDrawingPalette")}}ot.markup='\n\t<div class="palette-container">\n\t\t<div class="drag-strip"></div>\n\t\t\t<div class="drawing-settings-wrapper">\n\t\t\t\t\t<div class="mini-widget-group">\n\t\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="detach" stxtap="detach()"><span class="icon"></span><label>Detach</label></cq-item>\n\t\t\t\t\t\t<cq-item class="ciq-mini-widget" cq-view="attach" stxtap="dock()"><span class="icon"></span><label>Attach</label></cq-item>\n\t\t\t\t\t</div>\n\t\t\t\t<cq-clickable class="ciq-select ciq-mobile-palette-toggle" stxtap="togglePalette()"><span>Select Tool</span></cq-clickable>\n\t\t\t\t<cq-toolbar-settings>\n\t\t\t\t\t<div class="ciq-active-tool-label ciq-heading"></div>\n\t\t\t\t\t<cq-fill-color cq-section class="ciq-color" stxbind="getFillColor()" stxtap="pickFillColor()">\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</cq-fill-color>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<cq-line-color cq-section cq-overrides="auto" class="ciq-color" stxbind="getLineColor()" stxtap="pickLineColor()"><span></span></cq-line-color>\n\t\t\t\t\t\t<cq-line-style cq-section>\n\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t<span cq-line-style class="ciq-line ciq-selected"></span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown class="ciq-line-style-menu">\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(1,\'solid\')"><span class="ciq-line-style-option ciq-solid-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(3,\'solid\')"><span class="ciq-line-style-option ciq-solid-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(5,\'solid\')"><span class="ciq-line-style-option ciq-solid-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(1,\'dotted\')"><span class="ciq-line-style-option ciq-dotted-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(3,\'dotted\')"><span class="ciq-line-style-option ciq-dotted-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(5,\'dotted\')"><span class="ciq-line-style-option ciq-dotted-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(1,\'dashed\')"><span class="ciq-line-style-option ciq-dashed-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(3,\'dashed\')"><span class="ciq-line-style-option ciq-dashed-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(5,\'dashed\')"><span class="ciq-line-style-option ciq-dashed-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setLine(0,\'none\')" class="ciq-none">None</cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</cq-line-style>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<cq-cvp-controller cq-section cq-cvp-header="1"></cq-cvp-controller>\n\t\t\t\t\t<cq-cvp-controller cq-section cq-cvp-header="2"></cq-cvp-controller>\n\t\t\t\t\t<cq-cvp-controller cq-section cq-cvp-header="3"></cq-cvp-controller>\n\n\t\t\t\t\t<template cq-cvp-controller>\n\t\t\t\t\t\t<div cq-section>\n\t\t\t\t\t\t\t<div class="ciq-heading">Dev 1</div>\n\t\t\t\t\t\t\t<span stxtap="toggleActive()" class="ciq-checkbox">\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<cq-line-color cq-section cq-overrides="auto" class="ciq-color" stxbind="getColor()" stxtap="pickColor()">\n\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t</cq-line-color>\n\t\t\t\t\t\t<cq-line-style cq-section>\n\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t<span cq-cvp-line-style class="ciq-line ciq-selected"></span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown class="ciq-line-style-menu">\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(1, \'solid\')"><span class="ciq-line-style-option ciq-solid-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(3, \'solid\')"><span class="ciq-line-style-option ciq-solid-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(5, \'solid\')"><span class="ciq-line-style-option ciq-solid-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(1, \'dotted\')"><span class="ciq-line-style-option ciq-dotted-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(3, \'dotted\')"><span class="ciq-line-style-option ciq-dotted-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(5, \'dotted\')"><span class="ciq-line-style-option ciq-dotted-5"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(1, \'dashed\')"><span class="ciq-line-style-option ciq-dashed-1"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(3, \'dashed\')"><span class="ciq-line-style-option ciq-dashed-3"></span></cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="setStyle(5, \'dashed\')"><span class="ciq-line-style-option ciq-dashed-5"></span></cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</cq-line-style>\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<cq-axis-label cq-section>\n\t\t\t\t\t\t<div class="ciq-heading">Axis Label:</div>\n\t\t\t\t\t\t<span stxtap="toggleAxisLabel()" class="ciq-checkbox ciq-active"><span></span></span>\n\t\t\t\t\t</cq-axis-label>\n\t\t\t\t\t<cq-annotation cq-section>\n\t\t\t\t\t\t<cq-annotation-italic stxtap="toggleFontStyle(\'italic\')" class="ciq-btn" style="font-style:italic;">I</cq-annotation-italic>\n\t\t\t\t\t\t<cq-annotation-bold stxtap="toggleFontStyle(\'bold\')" class="ciq-btn" style="font-weight:bold;">B</cq-annotation-bold>\n\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t<span cq-font-size>12px</span>\n\t\t\t\t\t\t\t<cq-menu-dropdown class="ciq-font-size">\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'8px\')">8</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'10px\')">10</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'12px\')">12</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'13px\')">13</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'14px\')">14</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'16px\')">16</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'20px\')">20</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'28px\')">28</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'36px\')">36</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'48px\')">48</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontSize(\'64px\')">64</cq-item>\n\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t<span cq-font-family>Default</span>\n\t\t\t\t\t\t\t<cq-menu-dropdown class="ciq-font-family">\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Default\')">Default</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Helvetica\')">Helvetica</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Courier\')">Courier</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Garamond\')">Garamond</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Palatino\')">Palatino</cq-item>\n\t\t\t\t\t\t\t\t<cq-item stxtap="setFontFamily(\'Times New Roman\')">Times New Roman</cq-item>\n\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t</cq-annotation>\n\t\t\t\t\t<cq-clickable cq-fib-settings cq-selector="cq-fib-settings-dialog" cq-method="open" cq-section><span class="ciq-icon-btn cq-icon-gear"><cq-tooltip>Settings</cq-tooltip></span></cq-clickable>\n\t\t\t\t\t<div class="ciq-drawing-edit-only" cq-section>\n\t\t\t\t\t\t<div cq-toolbar-action="done_edit" stxtap="DrawingEdit.endEdit(\'close\')" cq-section><cq-tooltip>Done Editing</cq-tooltip></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br cq-section cq-wave-parameters>\x3c!-- This break is not displayed by default but uses  the .ciq-active class to be displayed and push cq-wave-parameters onto a new line in the toolbar --\x3e\n\t\t\t\t\t<cq-wave-parameters cq-section></cq-wave-parameters>\n\t\t\t\t\t<template cq-wave-parameters>\n\t\t\t\t\t\t<div class="ciq-wave-template" cq-section>\n\t\t\t\t\t\t\t<div class="ciq-heading">WAVE TEMPLATE</div>\n\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t<span class="ciq-active-template">WAVE TEMPLATE</span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Grand Supercycle\')">Grand Supercycle</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Supercycle\')">Supercycle</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Cycle\')">Cycle</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Primary\')">Primary</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Intermediate\')">Intermediate</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Minor\')">Minor</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Minute\')">Minute</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Minuette\')">Minuette</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Sub-Minuette\')">Sub-Minuette</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'template\',\'Custom\')">Custom</cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="ciq-wave-impulse" cq-section>\n\t\t\t\t\t\t\t<div class="ciq-heading">IMPULSE</div>\n\t\t\t\t\t\t\t<cq-menu  class="ciq-select">\n\t\t\t\t\t\t\t\t<span class="ciq-active-impulse">IMPULSE</span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown>\n\t\t\t\t\t\t\t\t\t<cq-item stxTap="update(\'impulse\',null)">- - -</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'I,II,III,IV,V\')">I II III IV V</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'i,ii,iii,iv,v\')">i ii iii iv v</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'1,2,3,4,5\')">1 2 3 4 5</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'A,B,C,D,E\')">A B C D E</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'a,b,c,d,e\')">a b c d e</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'W,X,Y,X,Z\')">W X Y X Z</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'impulse\',\'w,x,y,x,z\')">w x y x z</cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="ciq-wave-corrective" cq-section>\n\t\t\t\t\t\t\t<div class="ciq-heading">CORRECTIVE</div>\n\t\t\t\t\t\t\t<cq-menu class="ciq-select">\n\t\t\t\t\t\t\t\t<span class="ciq-active-corrective">CORRECTIVE</span>\n\t\t\t\t\t\t\t\t<cq-menu-dropdown>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',null)">- - -</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',\'A,B,C\')">A B C</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',\'a,b,c\')">a b c</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',\'W,X,Y\')">W X Y</cq-item>\n\t\t\t\t\t\t\t\t\t<cq-item stxtap="update(\'corrective\',\'w,x,y\')">w x y</cq-item>\n\t\t\t\t\t\t\t\t</cq-menu-dropdown>\n\t\t\t\t\t\t\t</cq-menu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="ciq-icon-btn ciq-btn" decoration="none" stxtap="update(\'decoration\',null)" cq-section>\n\t\t\t\t\t\t\t<cq-tooltip>None</cq-tooltip>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="ciq-icon-btn ciq-btn" decoration="parentheses" stxtap="update(\'decoration\',\'parentheses\')" cq-section>\n\t\t\t\t\t\t\t<cq-tooltip>Parentheses</cq-tooltip>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="ciq-icon-btn ciq-btn" decoration="enclosed" stxtap="update(\'decoration\',\'enclosed\')" cq-section>\n\t\t\t\t\t\t\t<cq-tooltip>Enclosed</cq-tooltip>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<div class="ciq-heading ciq-show-lines"  cq-section>\n\t\t\t\t\t\t\tShow Lines: <span stxtap="toggleLines()" class="ciq-checkbox ciq-active"><span></span></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<div class="ciq-drawing-edit-hidden" cq-section>\n\t\t\t\t\t\t<div cq-toolbar-action="save" stxtap="saveConfig()" cq-section><div cq-toolbar-dirty></div><cq-tooltip>Save Config</cq-tooltip></div>\n\t\t\t\t\t\t<div cq-toolbar-action="restore" stxtap="restoreDefaultConfig()" cq-section><cq-tooltip>Restore Config</cq-tooltip></div>\n\t\t\t\t\t</div>\n\t\t\t\t</cq-toolbar-settings>\n\t\t\t\t<cq-measure><span class="mMeasure"></span></cq-measure>\n\t\t\t</div>\n\t\t<div class="resize-strip"></div>\n\t</div>\n\t',e.UI.DrawingSettings=ot,e.UI.addComponentDefinition("cq-drawing-settings",ot);class lt extends e.UI.Scroll{constructor(){super(),this.noMaximize=!0}}return e.UI.MenuDropDown=lt,e.UI.addComponentDefinition("cq-menu-dropdown",lt),t},void 0===(n="function"==typeof a?a.apply(e,r):a)||(t.exports=n)},9106:function(){(function(){"use strict";var t=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function e(e){var i=t.has(e);return e=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(e),!i&&e}function i(t){var e=t.isConnected;if(void 0!==e)return e;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function a(t,e){for(;e&&e!==t&&!e.nextSibling;)e=e.parentNode;return e&&e!==t?e.nextSibling:null}function r(t,e,i){i=void 0===i?new Set:i;for(var n=t;n;){if(n.nodeType===Node.ELEMENT_NODE){var s=n;e(s);var o=s.localName;if("link"===o&&"import"===s.getAttribute("rel")){if((n=s.import)instanceof Node&&!i.has(n))for(i.add(n),n=n.firstChild;n;n=n.nextSibling)r(n,e,i);n=a(t,s);continue}if("template"===o){n=a(t,s);continue}if(s=s.__CE_shadowRoot)for(s=s.firstChild;s;s=s.nextSibling)r(s,e,i)}n=n.firstChild?n.firstChild:a(t,n)}}function n(t,e,i){t[e]=i}function s(){this.a=new Map,this.f=new Map,this.c=[],this.b=!1}function o(t,e){t.b=!0,t.c.push(e)}function l(t,e){t.b&&r(e,(function(e){return c(t,e)}))}function c(t,e){if(t.b&&!e.__CE_patched){e.__CE_patched=!0;for(var i=0;i<t.c.length;i++)t.c[i](e)}}function h(t,e){var i=[];for(r(e,(function(t){return i.push(t)})),e=0;e<i.length;e++){var a=i[e];1===a.__CE_state?t.connectedCallback(a):p(t,a)}}function u(t,e){var i=[];for(r(e,(function(t){return i.push(t)})),e=0;e<i.length;e++){var a=i[e];1===a.__CE_state&&t.disconnectedCallback(a)}}function d(t,e,i){var a=(i=void 0===i?{}:i).u||new Set,n=i.h||function(e){return p(t,e)},s=[];if(r(e,(function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var i=e.import;i instanceof Node&&(i.__CE_isImportDocument=!0,i.__CE_hasRegistry=!0),i&&"complete"===i.readyState?i.__CE_documentLoadHandled=!0:e.addEventListener("load",(function(){var i=e.import;if(!i.__CE_documentLoadHandled){i.__CE_documentLoadHandled=!0;var r=new Set(a);r.delete(i),d(t,i,{u:r,h:n})}}))}else s.push(e)}),a),t.b)for(e=0;e<s.length;e++)c(t,s[e]);for(e=0;e<s.length;e++)n(s[e])}function p(t,e){if(void 0===e.__CE_state){var a=e.ownerDocument;if((a.defaultView||a.__CE_isImportDocument&&a.__CE_hasRegistry)&&(a=t.a.get(e.localName))){a.constructionStack.push(e);var r=a.constructorFunction;try{try{if(new r!==e)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{a.constructionStack.pop()}}catch(t){throw e.__CE_state=2,t}if(e.__CE_state=1,e.__CE_definition=a,a.attributeChangedCallback)for(a=a.observedAttributes,r=0;r<a.length;r++){var n=a[r],s=e.getAttribute(n);null!==s&&t.attributeChangedCallback(e,n,null,s,null)}i(e)&&t.connectedCallback(e)}}}function g(t){var e=document;this.c=t,this.a=e,this.b=void 0,d(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function f(t){t.b&&t.b.disconnect()}function m(){var t=this;this.b=this.a=void 0,this.c=new Promise((function(e){t.b=e,t.a&&e(t.a)}))}function v(t){if(t.a)throw Error("Already resolved.");t.a=void 0,t.b&&t.b(void 0)}function y(t){this.c=!1,this.a=t,this.j=new Map,this.f=function(t){return t()},this.b=!1,this.i=[],this.o=new g(t)}s.prototype.connectedCallback=function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t)},s.prototype.disconnectedCallback=function(t){var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t)},s.prototype.attributeChangedCallback=function(t,e,i,a,r){var n=t.__CE_definition;n.attributeChangedCallback&&-1<n.observedAttributes.indexOf(e)&&n.attributeChangedCallback.call(t,e,i,a,r)},g.prototype.f=function(t){var e=this.a.readyState;for("interactive"!==e&&"complete"!==e||f(this),e=0;e<t.length;e++)for(var i=t[e].addedNodes,a=0;a<i.length;a++)d(this.c,i[a])},y.prototype.l=function(t,i){var a=this;if(!(i instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!e(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.a.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");if(this.c)throw Error("A custom element is already being defined.");this.c=!0;try{var r=function(t){var e=n[t];if(void 0!==e&&!(e instanceof Function))throw Error("The '"+t+"' callback must be a function.");return e},n=i.prototype;if(!(n instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var s=r("connectedCallback"),o=r("disconnectedCallback"),l=r("adoptedCallback"),c=r("attributeChangedCallback"),h=i.observedAttributes||[]}catch(t){return}finally{this.c=!1}i={localName:t,constructorFunction:i,connectedCallback:s,disconnectedCallback:o,adoptedCallback:l,attributeChangedCallback:c,observedAttributes:h,constructionStack:[]},function(t,e,i){t.a.set(e,i),t.f.set(i.constructorFunction,i)}(this.a,t,i),this.i.push(i),this.b||(this.b=!0,this.f((function(){return function(t){if(!1!==t.b){t.b=!1;for(var e=t.i,i=[],a=new Map,r=0;r<e.length;r++)a.set(e[r].localName,[]);for(d(t.a,document,{h:function(e){if(void 0===e.__CE_state){var r=e.localName,n=a.get(r);n?n.push(e):t.a.a.get(r)&&i.push(e)}}}),r=0;r<i.length;r++)p(t.a,i[r]);for(;0<e.length;){var n=e.shift();r=n.localName,n=a.get(n.localName);for(var s=0;s<n.length;s++)p(t.a,n[s]);(r=t.j.get(r))&&v(r)}}}(a)})))},y.prototype.h=function(t){d(this.a,t)},y.prototype.get=function(t){if(t=this.a.a.get(t))return t.constructorFunction},y.prototype.m=function(t){if(!e(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var i=this.j.get(t);return i||(i=new m,this.j.set(t,i),this.a.a.get(t)&&!this.i.some((function(e){return e.localName===t}))&&v(i)),i.c},y.prototype.s=function(t){f(this.o);var e=this.f;this.f=function(i){return t((function(){return e(i)}))}},window.CustomElementRegistry=y,y.prototype.define=y.prototype.l,y.prototype.upgrade=y.prototype.h,y.prototype.get=y.prototype.get,y.prototype.whenDefined=y.prototype.m,y.prototype.polyfillWrapFlushCallback=y.prototype.s;var b=window.Document.prototype.createElement,x=window.Document.prototype.createElementNS,S=window.Document.prototype.importNode,k=window.Document.prototype.prepend,C=window.Document.prototype.append,w=window.DocumentFragment.prototype.prepend,D=window.DocumentFragment.prototype.append,T=window.Node.prototype.cloneNode,A=window.Node.prototype.appendChild,M=window.Node.prototype.insertBefore,L=window.Node.prototype.removeChild,_=window.Node.prototype.replaceChild,P=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),F=window.Element.prototype.attachShadow,E=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),I=window.Element.prototype.getAttribute,N=window.Element.prototype.setAttribute,q=window.Element.prototype.removeAttribute,O=window.Element.prototype.getAttributeNS,H=window.Element.prototype.setAttributeNS,R=window.Element.prototype.removeAttributeNS,U=window.Element.prototype.insertAdjacentElement,z=window.Element.prototype.insertAdjacentHTML,V=window.Element.prototype.prepend,B=window.Element.prototype.append,W=window.Element.prototype.before,j=window.Element.prototype.after,$=window.Element.prototype.replaceWith,Y=window.Element.prototype.remove,X=window.HTMLElement,Z=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),J=window.HTMLElement.prototype.insertAdjacentElement,G=window.HTMLElement.prototype.insertAdjacentHTML,K=new function(){};function Q(t,e,a){function r(e){return function(a){for(var r=[],n=0;n<arguments.length;++n)r[n]=arguments[n];n=[];for(var s=[],o=0;o<r.length;o++){var l=r[o];if(l instanceof Element&&i(l)&&s.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)n.push(l);else n.push(l)}for(e.apply(this,r),r=0;r<s.length;r++)u(t,s[r]);if(i(this))for(r=0;r<n.length;r++)(s=n[r])instanceof Element&&h(t,s)}}void 0!==a.g&&(e.prepend=r(a.g)),void 0!==a.append&&(e.append=r(a.append))}var tt,et=window.customElements;if(!et||et.forcePolyfill||"function"!=typeof et.define||"function"!=typeof et.get){var it=new s;tt=it,window.HTMLElement=function(){function t(){var t=this.constructor,e=tt.f.get(t);if(!e)throw Error("The custom element being constructed was not registered with `customElements`.");var i=e.constructionStack;if(0===i.length)return i=b.call(document,e.localName),Object.setPrototypeOf(i,t.prototype),i.__CE_state=1,i.__CE_definition=e,c(tt,i),i;var a=i[e=i.length-1];if(a===K)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return i[e]=K,Object.setPrototypeOf(a,t.prototype),c(tt,a),a}return t.prototype=X.prototype,Object.defineProperty(t.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:t}),t}(),function(){var t=it;n(Document.prototype,"createElement",(function(e){if(this.__CE_hasRegistry){var i=t.a.get(e);if(i)return new i.constructorFunction}return e=b.call(this,e),c(t,e),e})),n(Document.prototype,"importNode",(function(e,i){return e=S.call(this,e,!!i),this.__CE_hasRegistry?d(t,e):l(t,e),e})),n(Document.prototype,"createElementNS",(function(e,i){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var a=t.a.get(i);if(a)return new a.constructorFunction}return e=x.call(this,e,i),c(t,e),e})),Q(t,Document.prototype,{g:k,append:C})}(),Q(it,DocumentFragment.prototype,{g:w,append:D}),function(){function t(t,a){Object.defineProperty(t,"textContent",{enumerable:a.enumerable,configurable:!0,get:a.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)a.set.call(this,t);else{var r=void 0;if(this.firstChild){var n=this.childNodes,s=n.length;if(0<s&&i(this)){r=Array(s);for(var o=0;o<s;o++)r[o]=n[o]}}if(a.set.call(this,t),r)for(t=0;t<r.length;t++)u(e,r[t])}}})}var e=it;n(Node.prototype,"insertBefore",(function(t,a){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes);if(t=M.call(this,t,a),i(this))for(a=0;a<r.length;a++)h(e,r[a]);return t}return r=i(t),a=M.call(this,t,a),r&&u(e,t),i(this)&&h(e,t),a})),n(Node.prototype,"appendChild",(function(t){if(t instanceof DocumentFragment){var a=Array.prototype.slice.apply(t.childNodes);if(t=A.call(this,t),i(this))for(var r=0;r<a.length;r++)h(e,a[r]);return t}return a=i(t),r=A.call(this,t),a&&u(e,t),i(this)&&h(e,t),r})),n(Node.prototype,"cloneNode",(function(t){return t=T.call(this,!!t),this.ownerDocument.__CE_hasRegistry?d(e,t):l(e,t),t})),n(Node.prototype,"removeChild",(function(t){var a=i(t),r=L.call(this,t);return a&&u(e,t),r})),n(Node.prototype,"replaceChild",(function(t,a){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes);if(t=_.call(this,t,a),i(this))for(u(e,a),a=0;a<r.length;a++)h(e,r[a]);return t}r=i(t);var n=_.call(this,t,a),s=i(this);return s&&u(e,a),r&&u(e,t),s&&h(e,t),n})),P&&P.get?t(Node.prototype,P):o(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){for(;this.firstChild;)L.call(this,this.firstChild);A.call(this,document.createTextNode(t))}})}))}(),function(){function t(t,e){Object.defineProperty(t,"innerHTML",{enumerable:e.enumerable,configurable:!0,get:e.get,set:function(t){var a=this,n=void 0;if(i(this)&&(n=[],r(this,(function(t){t!==a&&n.push(t)}))),e.set.call(this,t),n)for(var o=0;o<n.length;o++){var c=n[o];1===c.__CE_state&&s.disconnectedCallback(c)}return this.ownerDocument.__CE_hasRegistry?d(s,this):l(s,this),t}})}function e(t,e){n(t,"insertAdjacentElement",(function(t,a){var r=i(a);return t=e.call(this,t,a),r&&u(s,a),i(t)&&h(s,a),t}))}function a(t,e){function i(t,e){for(var i=[];t!==e;t=t.nextSibling)i.push(t);for(e=0;e<i.length;e++)d(s,i[e])}n(t,"insertAdjacentHTML",(function(t,a){if("beforebegin"===(t=t.toLowerCase())){var r=this.previousSibling;e.call(this,t,a),i(r||this.parentNode.firstChild,this)}else if("afterbegin"===t)r=this.firstChild,e.call(this,t,a),i(this.firstChild,r);else if("beforeend"===t)r=this.lastChild,e.call(this,t,a),i(r||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");r=this.nextSibling,e.call(this,t,a),i(this.nextSibling,r)}}))}var s=it;F&&n(Element.prototype,"attachShadow",(function(t){return this.__CE_shadowRoot=F.call(this,t)})),E&&E.get?t(Element.prototype,E):Z&&Z.get?t(HTMLElement.prototype,Z):o(s,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){return T.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName,i=e?this.content:this,a=x.call(document,this.namespaceURI,this.localName);for(a.innerHTML=t;0<i.childNodes.length;)L.call(i,i.childNodes[0]);for(t=e?a.content:a;0<t.childNodes.length;)A.call(i,t.childNodes[0])}})})),n(Element.prototype,"setAttribute",(function(t,e){if(1!==this.__CE_state)return N.call(this,t,e);var i=I.call(this,t);N.call(this,t,e),e=I.call(this,t),s.attributeChangedCallback(this,t,i,e,null)})),n(Element.prototype,"setAttributeNS",(function(t,e,i){if(1!==this.__CE_state)return H.call(this,t,e,i);var a=O.call(this,t,e);H.call(this,t,e,i),i=O.call(this,t,e),s.attributeChangedCallback(this,e,a,i,t)})),n(Element.prototype,"removeAttribute",(function(t){if(1!==this.__CE_state)return q.call(this,t);var e=I.call(this,t);q.call(this,t),null!==e&&s.attributeChangedCallback(this,t,e,null,null)})),n(Element.prototype,"removeAttributeNS",(function(t,e){if(1!==this.__CE_state)return R.call(this,t,e);var i=O.call(this,t,e);R.call(this,t,e);var a=O.call(this,t,e);i!==a&&s.attributeChangedCallback(this,e,i,a,t)})),J?e(HTMLElement.prototype,J):U?e(Element.prototype,U):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),G?a(HTMLElement.prototype,G):z?a(Element.prototype,z):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),Q(s,Element.prototype,{g:V,append:B}),function(t){function e(e){return function(a){for(var r=[],n=0;n<arguments.length;++n)r[n]=arguments[n];n=[];for(var s=[],o=0;o<r.length;o++){var l=r[o];if(l instanceof Element&&i(l)&&s.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)n.push(l);else n.push(l)}for(e.apply(this,r),r=0;r<s.length;r++)u(t,s[r]);if(i(this))for(r=0;r<n.length;r++)(s=n[r])instanceof Element&&h(t,s)}}var a=Element.prototype;void 0!==W&&(a.before=e(W)),void 0!==W&&(a.after=e(j)),void 0!==$&&n(a,"replaceWith",(function(e){for(var a=[],r=0;r<arguments.length;++r)a[r]=arguments[r];r=[];for(var n=[],s=0;s<a.length;s++){var o=a[s];if(o instanceof Element&&i(o)&&n.push(o),o instanceof DocumentFragment)for(o=o.firstChild;o;o=o.nextSibling)r.push(o);else r.push(o)}for(s=i(this),$.apply(this,a),a=0;a<n.length;a++)u(t,n[a]);if(s)for(u(t,this),a=0;a<r.length;a++)(n=r[a])instanceof Element&&h(t,n)})),void 0!==Y&&n(a,"remove",(function(){var e=i(this);Y.call(this),e&&u(t,this)}))}(s)}(),document.__CE_hasRegistry=!0;var at=new y(it);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:at})}}).call(self)},24475:function(t,e,i){var a,r,n;!function t(e,i,a){function r(s,o){if(!i[s]){if(!e[s]){if(n)return n(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};e[s][0].call(c.exports,(function(t){var i=e[s][1][t];return r(i||t)}),c,c.exports,t,e,i,a)}return i[s].exports}for(var n=void 0,s=0;s<a.length;s++)r(a[s]);return r}({1:[function(t,e,s){"use strict";var o=t("../main"),l=t("../plugin/instances");function c(t){t.fn.perfectScrollbar=function(t){return this.each((function(){if("object"==typeof t||void 0===t){var e=t;l.get(this)||o.initialize(this,e)}else{var i=t;"update"===i?o.update(this):"destroy"===i&&o.destroy(this)}}))}}r=[i(19755)],void 0===(n="function"==typeof(a=c)?a.apply(s,r):a)||(e.exports=n),e.exports=c},{"../main":7,"../plugin/instances":18}],2:[function(t,e,i){"use strict";i.add=function(t,e){t.classList?t.classList.add(e):function(t,e){var i=t.className.split(" ");i.indexOf(e)<0&&i.push(e),t.className=i.join(" ")}(t,e)},i.remove=function(t,e){t.classList?t.classList.remove(e):function(t,e){var i=t.className.split(" "),a=i.indexOf(e);a>=0&&i.splice(a,1),t.className=i.join(" ")}(t,e)},i.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},{}],3:[function(t,e,i){"use strict";var a={};a.e=function(t,e){var i=document.createElement(t);return i.className=e,i},a.appendTo=function(t,e){return e.appendChild(t),t},a.css=function(t,e,i){return"object"==typeof e?function(t,e){for(var i in e){var a=e[i];"number"==typeof a&&(a=a.toString()+"px"),t.style[i]=a}return t}(t,e):void 0===i?function(t,e){return window.getComputedStyle(t)[e]}(t,e):function(t,e,i){return"number"==typeof i&&(i=i.toString()+"px"),t.style[e]=i,t}(t,e,i)},a.matches=function(t,e){return void 0!==t.matches?t.matches(e):void 0!==t.matchesSelector?t.matchesSelector(e):void 0!==t.webkitMatchesSelector?t.webkitMatchesSelector(e):void 0!==t.mozMatchesSelector?t.mozMatchesSelector(e):void 0!==t.msMatchesSelector?t.msMatchesSelector(e):void 0},a.remove=function(t){void 0!==t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},a.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,(function(t){return a.matches(t,e)}))},e.exports=a},{}],4:[function(t,e,i){"use strict";var a=function(t){this.element=t,this.events={}};a.prototype.bind=function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},a.prototype.unbind=function(t,e){var i=void 0!==e;this.events[t]=this.events[t].filter((function(a){return!(!i||a===e)||(this.element.removeEventListener(t,a,!1),!1)}),this)},a.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var r=function(){this.eventElements=[]};r.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return void 0===e&&(e=new a(t),this.eventElements.push(e)),e},r.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},r.prototype.unbind=function(t,e,i){this.eventElement(t).unbind(e,i)},r.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},r.prototype.once=function(t,e,i){var a=this.eventElement(t),r=function(t){a.unbind(e,r),i(t)};a.bind(e,r)},e.exports=r},{}],5:[function(t,e,i){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,i){"use strict";var a=t("./class"),r=t("./dom"),n=i.toInt=function(t){return parseInt(t,10)||0},s=i.clone=function(t){if(null===t)return null;if(t.constructor===Array)return t.map(s);if("object"==typeof t){var e={};for(var i in t)e[i]=s(t[i]);return e}return t};i.extend=function(t,e){var i=s(t);for(var a in e)i[a]=s(e[a]);return i},i.isEditable=function(t){return r.matches(t,"input,[contenteditable]")||r.matches(t,"select,[contenteditable]")||r.matches(t,"textarea,[contenteditable]")||r.matches(t,"button,[contenteditable]")},i.removePsClasses=function(t){for(var e=a.list(t),i=0;i<e.length;i++){var r=e[i];0===r.indexOf("ps-")&&a.remove(t,r)}},i.outerWidth=function(t){return n(r.css(t,"width"))+n(r.css(t,"paddingLeft"))+n(r.css(t,"paddingRight"))+n(r.css(t,"borderLeftWidth"))+n(r.css(t,"borderRightWidth"))},i.startScrolling=function(t,e){a.add(t,"ps-in-scrolling"),void 0!==e?a.add(t,"ps-"+e):(a.add(t,"ps-x"),a.add(t,"ps-y"))},i.stopScrolling=function(t,e){a.remove(t,"ps-in-scrolling"),void 0!==e?a.remove(t,"ps-"+e):(a.remove(t,"ps-x"),a.remove(t,"ps-y"))},i.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e,i){"use strict";var a=t("./plugin/destroy"),r=t("./plugin/initialize"),n=t("./plugin/update");e.exports={initialize:r,update:n,destroy:a}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(t,e,i){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(t,e,i){"use strict";var a=t("../lib/helper"),r=t("../lib/dom"),n=t("./instances");e.exports=function(t){var e=n.get(t);e&&(e.event.unbindAll(),r.remove(e.scrollbarX),r.remove(e.scrollbarY),r.remove(e.scrollbarXRail),r.remove(e.scrollbarYRail),a.removePsClasses(t),n.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e,i){"use strict";var a=t("../../lib/helper"),r=t("../instances"),n=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){!function(t,e){function i(t){return t.getBoundingClientRect()}var r=function(t){t.stopPropagation()};e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarY,"click",r),e.event.bind(e.scrollbarYRail,"click",(function(r){var o=a.toInt(e.scrollbarYHeight/2),l=e.railYRatio*(r.pageY-window.pageYOffset-i(e.scrollbarYRail).top-o)/(e.railYRatio*(e.railYHeight-e.scrollbarYHeight));l<0?l=0:l>1&&(l=1),s(t,"top",(e.contentHeight-e.containerHeight)*l),n(t),r.stopPropagation()})),e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarX,"click",r),e.event.bind(e.scrollbarXRail,"click",(function(r){var o=a.toInt(e.scrollbarXWidth/2),l=e.railXRatio*(r.pageX-window.pageXOffset-i(e.scrollbarXRail).left-o)/(e.railXRatio*(e.railXWidth-e.scrollbarXWidth));l<0?l=0:l>1&&(l=1),s(t,"left",(e.contentWidth-e.containerWidth)*l-e.negativeScrollAdjustment),n(t),r.stopPropagation()}))}(t,r.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(t,e,i){"use strict";var a=t("../../lib/helper"),r=t("../../lib/dom"),n=t("../instances"),s=t("../update-geometry"),o=t("../update-scroll");function l(t,e){var i=null,n=null;var l=function(r){!function(r){var n=i+r*e.railXRatio,s=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);e.scrollbarXLeft=n<0?0:n>s?s:n;var l=a.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;o(t,"left",l)}(r.pageX-n),s(t),r.stopPropagation(),r.preventDefault()},c=function(){a.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",l)};e.event.bind(e.scrollbarX,"mousedown",(function(s){n=s.pageX,i=a.toInt(r.css(e.scrollbarX,"left"))*e.railXRatio,a.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",l),e.event.once(e.ownerDocument,"mouseup",c),s.stopPropagation(),s.preventDefault()}))}function c(t,e){var i=null,n=null;var l=function(r){!function(r){var n=i+r*e.railYRatio,s=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);e.scrollbarYTop=n<0?0:n>s?s:n;var l=a.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));o(t,"top",l)}(r.pageY-n),s(t),r.stopPropagation(),r.preventDefault()},c=function(){a.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",l)};e.event.bind(e.scrollbarY,"mousedown",(function(s){n=s.pageY,i=a.toInt(r.css(e.scrollbarY,"top"))*e.railYRatio,a.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",l),e.event.once(e.ownerDocument,"mouseup",c),s.stopPropagation(),s.preventDefault()}))}e.exports=function(t){var e=n.get(t);l(t,e),c(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(t,e,i){"use strict";var a=t("../../lib/helper"),r=t("../../lib/dom"),n=t("../instances"),s=t("../update-geometry"),o=t("../update-scroll");function l(t,e){var i=!1;e.event.bind(t,"mouseenter",(function(){i=!0})),e.event.bind(t,"mouseleave",(function(){i=!1}));var n=!1;e.event.bind(e.ownerDocument,"keydown",(function(l){if(!(l.isDefaultPrevented&&l.isDefaultPrevented()||l.defaultPrevented)){var c=r.matches(e.scrollbarX,":focus")||r.matches(e.scrollbarY,":focus");if(i||c){var h=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(h){if("IFRAME"===h.tagName)h=h.contentDocument.activeElement;else for(;h.shadowRoot;)h=h.shadowRoot.activeElement;if(a.isEditable(h))return}var u=0,d=0;switch(l.which){case 37:u=-30;break;case 38:d=30;break;case 39:u=30;break;case 40:d=-30;break;case 33:d=90;break;case 32:d=l.shiftKey?90:-90;break;case 34:d=-90;break;case 35:d=l.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:d=l.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}o(t,"top",t.scrollTop-d),o(t,"left",t.scrollLeft+u),s(t),n=function(i,a){var r=t.scrollTop;if(0===i){if(!e.scrollbarYActive)return!1;if(0===r&&a>0||r>=e.contentHeight-e.containerHeight&&a<0)return!e.settings.wheelPropagation}var n=t.scrollLeft;if(0===a){if(!e.scrollbarXActive)return!1;if(0===n&&i<0||n>=e.contentWidth-e.containerWidth&&i>0)return!e.settings.wheelPropagation}return!0}(u,d),n&&l.preventDefault()}}}))}e.exports=function(t){l(t,n.get(t))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(t,e,i){"use strict";var a=t("../instances"),r=t("../update-geometry"),n=t("../update-scroll");function s(t,e){var i=!1;function a(a){var s=function(t){var e=t.deltaX,i=-1*t.deltaY;return void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!=e&&i!=i&&(e=0,i=t.wheelDelta),[e,i]}(a),o=s[0],l=s[1];(function(e,i){var a=t.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(a){if("TEXTAREA"!==a.tagName&&!window.getComputedStyle(a).overflow.match(/(scroll|auto)/))return!1;var r=a.scrollHeight-a.clientHeight;if(r>0&&!(0===a.scrollTop&&i>0||a.scrollTop===r&&i<0))return!0;var n=a.scrollLeft-a.clientWidth;if(n>0&&!(0===a.scrollLeft&&e<0||a.scrollLeft===n&&e>0))return!0}return!1})(o,l)||(i=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(n(t,"top",l?t.scrollTop-l*e.settings.wheelSpeed:t.scrollTop+o*e.settings.wheelSpeed),i=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(n(t,"left",o?t.scrollLeft+o*e.settings.wheelSpeed:t.scrollLeft-l*e.settings.wheelSpeed),i=!0):(n(t,"top",t.scrollTop-l*e.settings.wheelSpeed),n(t,"left",t.scrollLeft+o*e.settings.wheelSpeed)),r(t),i=i||function(i,a){var r=t.scrollTop;if(0===i){if(!e.scrollbarYActive)return!1;if(0===r&&a>0||r>=e.contentHeight-e.containerHeight&&a<0)return!e.settings.wheelPropagation}var n=t.scrollLeft;if(0===a){if(!e.scrollbarXActive)return!1;if(0===n&&i<0||n>=e.contentWidth-e.containerWidth&&i>0)return!e.settings.wheelPropagation}return!0}(o,l),i&&(a.stopPropagation(),a.preventDefault()))}void 0!==window.onwheel?e.event.bind(t,"wheel",a):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",a)}e.exports=function(t){s(t,a.get(t))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(t,e,i){"use strict";var a=t("../instances"),r=t("../update-geometry");e.exports=function(t){!function(t,e){e.event.bind(t,"scroll",(function(){r(t)}))}(t,a.get(t))}},{"../instances":18,"../update-geometry":19}],15:[function(t,e,i){"use strict";var a=t("../../lib/helper"),r=t("../instances"),n=t("../update-geometry"),s=t("../update-scroll");function o(t,e){var i=null,o={top:0,left:0};function l(){i&&(clearInterval(i),i=null),a.stopScrolling(t)}var c=!1;e.event.bind(e.ownerDocument,"selectionchange",(function(){var e;t.contains(0===(e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"").toString().length?null:e.getRangeAt(0).commonAncestorContainer)?c=!0:(c=!1,l())})),e.event.bind(window,"mouseup",(function(){c&&(c=!1,l())})),e.event.bind(window,"mousemove",(function(e){if(c){var h={x:e.pageX,y:e.pageY},u={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};h.x<u.left+3?(o.left=-5,a.startScrolling(t,"x")):h.x>u.right-3?(o.left=5,a.startScrolling(t,"x")):o.left=0,h.y<u.top+3?(o.top=u.top+3-h.y<5?-5:-20,a.startScrolling(t,"y")):h.y>u.bottom-3?(o.top=h.y-u.bottom+3<5?5:20,a.startScrolling(t,"y")):o.top=0,0===o.top&&0===o.left?l():i||(i=setInterval((function(){r.get(t)?(s(t,"top",t.scrollTop+o.top),s(t,"left",t.scrollLeft+o.left),n(t)):clearInterval(i)}),50))}}))}e.exports=function(t){o(t,r.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(t,e,i){"use strict";var a=t("../../lib/helper"),r=t("../instances"),n=t("../update-geometry"),s=t("../update-scroll");function o(t,e,i,a){function o(e,i){s(t,"top",t.scrollTop-i),s(t,"left",t.scrollLeft-e),n(t)}var l={},c=0,h={},u=null,d=!1,p=!1;function g(){d=!0}function f(){d=!1}function m(t){return t.targetTouches?t.targetTouches[0]:t}function v(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function y(t){if(v(t)){p=!0;var e=m(t);l.pageX=e.pageX,l.pageY=e.pageY,c=(new Date).getTime(),null!==u&&clearInterval(u),t.stopPropagation()}}function b(i){if(!p&&e.settings.swipePropagation&&y(i),!d&&p&&v(i)){var a=m(i),r={pageX:a.pageX,pageY:a.pageY},n=r.pageX-l.pageX,s=r.pageY-l.pageY;o(n,s),l=r;var u=(new Date).getTime(),g=u-c;g>0&&(h.x=n/g,h.y=s/g,c=u),function(i,a){var r=t.scrollTop,n=t.scrollLeft,s=Math.abs(i),o=Math.abs(a);if(o>s){if(a<0&&r===e.contentHeight-e.containerHeight||a>0&&0===r)return!e.settings.swipePropagation}else if(s>o&&(i<0&&n===e.contentWidth-e.containerWidth||i>0&&0===n))return!e.settings.swipePropagation;return!0}(n,s)&&(i.stopPropagation(),i.preventDefault())}}function x(){!d&&p&&(p=!1,clearInterval(u),u=setInterval((function(){r.get(t)?Math.abs(h.x)<.01&&Math.abs(h.y)<.01?clearInterval(u):(o(30*h.x,30*h.y),h.x*=.8,h.y*=.8):clearInterval(u)}),10))}i&&(e.event.bind(window,"touchstart",g),e.event.bind(window,"touchend",f),e.event.bind(t,"touchstart",y),e.event.bind(t,"touchmove",b),e.event.bind(t,"touchend",x)),a&&(window.PointerEvent?(e.event.bind(window,"pointerdown",g),e.event.bind(window,"pointerup",f),e.event.bind(t,"pointerdown",y),e.event.bind(t,"pointermove",b),e.event.bind(t,"pointerup",x)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",g),e.event.bind(window,"MSPointerUp",f),e.event.bind(t,"MSPointerDown",y),e.event.bind(t,"MSPointerMove",b),e.event.bind(t,"MSPointerUp",x)))}e.exports=function(t){(a.env.supportsTouch||a.env.supportsIePointer)&&o(t,r.get(t),a.env.supportsTouch,a.env.supportsIePointer)}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(t,e,i){"use strict";var a=t("../lib/helper"),r=t("../lib/class"),n=t("./instances"),s=t("./update-geometry"),o={"click-rail":t("./handler/click-rail"),"drag-scrollbar":t("./handler/drag-scrollbar"),keyboard:t("./handler/keyboard"),wheel:t("./handler/mouse-wheel"),touch:t("./handler/touch"),selection:t("./handler/selection")},l=t("./handler/native-scroll");e.exports=function(t,e){e="object"==typeof e?e:{},r.add(t,"ps-container");var i=n.add(t);i.settings=a.extend(i.settings,e),r.add(t,"ps-theme-"+i.settings.theme),i.settings.handlers.forEach((function(e){o[e](t)})),l(t),s(t)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,i){"use strict";var a=t("../lib/helper"),r=t("../lib/class"),n=t("./default-setting"),s=t("../lib/dom"),o=t("../lib/event-manager"),l=t("../lib/guid"),c={};function h(t){var e,i,l=this;function c(){r.add(t,"ps-focus")}function h(){r.remove(t,"ps-focus")}l.settings=a.clone(n),l.containerWidth=null,l.containerHeight=null,l.contentWidth=null,l.contentHeight=null,l.isRtl="rtl"===s.css(t,"direction"),l.isNegativeScroll=(i=t.scrollLeft,t.scrollLeft=-1,e=t.scrollLeft<0,t.scrollLeft=i,e),l.negativeScrollAdjustment=l.isNegativeScroll?t.scrollWidth-t.clientWidth:0,l.event=new o,l.ownerDocument=t.ownerDocument||document,l.scrollbarXRail=s.appendTo(s.e("div","ps-scrollbar-x-rail"),t),l.scrollbarX=s.appendTo(s.e("div","ps-scrollbar-x"),l.scrollbarXRail),l.scrollbarX.setAttribute("tabindex",0),l.event.bind(l.scrollbarX,"focus",c),l.event.bind(l.scrollbarX,"blur",h),l.scrollbarXActive=null,l.scrollbarXWidth=null,l.scrollbarXLeft=null,l.scrollbarXBottom=a.toInt(s.css(l.scrollbarXRail,"bottom")),l.isScrollbarXUsingBottom=l.scrollbarXBottom==l.scrollbarXBottom,l.scrollbarXTop=l.isScrollbarXUsingBottom?null:a.toInt(s.css(l.scrollbarXRail,"top")),l.railBorderXWidth=a.toInt(s.css(l.scrollbarXRail,"borderLeftWidth"))+a.toInt(s.css(l.scrollbarXRail,"borderRightWidth")),s.css(l.scrollbarXRail,"display","block"),l.railXMarginWidth=a.toInt(s.css(l.scrollbarXRail,"marginLeft"))+a.toInt(s.css(l.scrollbarXRail,"marginRight")),s.css(l.scrollbarXRail,"display",""),l.railXWidth=null,l.railXRatio=null,l.scrollbarYRail=s.appendTo(s.e("div","ps-scrollbar-y-rail"),t),l.scrollbarY=s.appendTo(s.e("div","ps-scrollbar-y"),l.scrollbarYRail),l.scrollbarY.setAttribute("tabindex",0),l.event.bind(l.scrollbarY,"focus",c),l.event.bind(l.scrollbarY,"blur",h),l.scrollbarYActive=null,l.scrollbarYHeight=null,l.scrollbarYTop=null,l.scrollbarYRight=a.toInt(s.css(l.scrollbarYRail,"right")),l.isScrollbarYUsingRight=l.scrollbarYRight==l.scrollbarYRight,l.scrollbarYLeft=l.isScrollbarYUsingRight?null:a.toInt(s.css(l.scrollbarYRail,"left")),l.scrollbarYOuterWidth=l.isRtl?a.outerWidth(l.scrollbarY):null,l.railBorderYWidth=a.toInt(s.css(l.scrollbarYRail,"borderTopWidth"))+a.toInt(s.css(l.scrollbarYRail,"borderBottomWidth")),s.css(l.scrollbarYRail,"display","block"),l.railYMarginHeight=a.toInt(s.css(l.scrollbarYRail,"marginTop"))+a.toInt(s.css(l.scrollbarYRail,"marginBottom")),s.css(l.scrollbarYRail,"display",""),l.railYHeight=null,l.railYRatio=null}function u(t){return t.getAttribute("data-ps-id")}i.add=function(t){var e=l();return function(t,e){t.setAttribute("data-ps-id",e)}(t,e),c[e]=new h(t),c[e]},i.remove=function(t){delete c[u(t)],function(t){t.removeAttribute("data-ps-id")}(t)},i.get=function(t){return c[u(t)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e,i){"use strict";var a=t("../lib/helper"),r=t("../lib/class"),n=t("../lib/dom"),s=t("./instances"),o=t("./update-scroll");function l(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}e.exports=function(t){var e,i=s.get(t);i.containerWidth=t.clientWidth,i.containerHeight=t.clientHeight,i.contentWidth=t.scrollWidth,i.contentHeight=t.scrollHeight,t.contains(i.scrollbarXRail)||((e=n.queryChildren(t,".ps-scrollbar-x-rail")).length>0&&e.forEach((function(t){n.remove(t)})),n.appendTo(i.scrollbarXRail,t)),t.contains(i.scrollbarYRail)||((e=n.queryChildren(t,".ps-scrollbar-y-rail")).length>0&&e.forEach((function(t){n.remove(t)})),n.appendTo(i.scrollbarYRail,t)),!i.settings.suppressScrollX&&i.containerWidth+i.settings.scrollXMarginOffset<i.contentWidth?(i.scrollbarXActive=!0,i.railXWidth=i.containerWidth-i.railXMarginWidth,i.railXRatio=i.containerWidth/i.railXWidth,i.scrollbarXWidth=l(i,a.toInt(i.railXWidth*i.containerWidth/i.contentWidth)),i.scrollbarXLeft=a.toInt((i.negativeScrollAdjustment+t.scrollLeft)*(i.railXWidth-i.scrollbarXWidth)/(i.contentWidth-i.containerWidth))):i.scrollbarXActive=!1,!i.settings.suppressScrollY&&i.containerHeight+i.settings.scrollYMarginOffset<i.contentHeight?(i.scrollbarYActive=!0,i.railYHeight=i.containerHeight-i.railYMarginHeight,i.railYRatio=i.containerHeight/i.railYHeight,i.scrollbarYHeight=l(i,a.toInt(i.railYHeight*i.containerHeight/i.contentHeight)),i.scrollbarYTop=a.toInt(t.scrollTop*(i.railYHeight-i.scrollbarYHeight)/(i.contentHeight-i.containerHeight))):i.scrollbarYActive=!1,i.scrollbarXLeft>=i.railXWidth-i.scrollbarXWidth&&(i.scrollbarXLeft=i.railXWidth-i.scrollbarXWidth),i.scrollbarYTop>=i.railYHeight-i.scrollbarYHeight&&(i.scrollbarYTop=i.railYHeight-i.scrollbarYHeight),function(t,e){var i={width:e.railXWidth};e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-t.scrollTop:i.top=e.scrollbarXTop+t.scrollTop,n.css(e.scrollbarXRail,i);var a={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?a.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:a.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?a.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:a.left=e.scrollbarYLeft+t.scrollLeft,n.css(e.scrollbarYRail,a),n.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),n.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(t,i),i.scrollbarXActive?r.add(t,"ps-active-x"):(r.remove(t,"ps-active-x"),i.scrollbarXWidth=0,i.scrollbarXLeft=0,o(t,"left",0)),i.scrollbarYActive?r.add(t,"ps-active-y"):(r.remove(t,"ps-active-y"),i.scrollbarYHeight=0,i.scrollbarYTop=0,o(t,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(t,e,i){"use strict";var a,r,n=t("./instances"),s=document.createEvent("Event"),o=document.createEvent("Event"),l=document.createEvent("Event"),c=document.createEvent("Event"),h=document.createEvent("Event"),u=document.createEvent("Event"),d=document.createEvent("Event"),p=document.createEvent("Event"),g=document.createEvent("Event"),f=document.createEvent("Event");s.initEvent("ps-scroll-up",!0,!0),o.initEvent("ps-scroll-down",!0,!0),l.initEvent("ps-scroll-left",!0,!0),c.initEvent("ps-scroll-right",!0,!0),h.initEvent("ps-scroll-y",!0,!0),u.initEvent("ps-scroll-x",!0,!0),d.initEvent("ps-x-reach-start",!0,!0),p.initEvent("ps-x-reach-end",!0,!0),g.initEvent("ps-y-reach-start",!0,!0),f.initEvent("ps-y-reach-end",!0,!0),e.exports=function(t,e,i){if(void 0===t)throw"You must provide an element to the update-scroll function";if(void 0===e)throw"You must provide an axis to the update-scroll function";if(void 0===i)throw"You must provide a value to the update-scroll function";"top"===e&&i<=0&&(t.scrollTop=i=0,t.dispatchEvent(g)),"left"===e&&i<=0&&(t.scrollLeft=i=0,t.dispatchEvent(d));var m=n.get(t);"top"===e&&i>=m.contentHeight-m.containerHeight&&((i=m.contentHeight-m.containerHeight)-t.scrollTop<=1?i=t.scrollTop:t.scrollTop=i,t.dispatchEvent(f)),"left"===e&&i>=m.contentWidth-m.containerWidth&&((i=m.contentWidth-m.containerWidth)-t.scrollLeft<=1?i=t.scrollLeft:t.scrollLeft=i,t.dispatchEvent(p)),a||(a=t.scrollTop),r||(r=t.scrollLeft),"top"===e&&i<a&&t.dispatchEvent(s),"top"===e&&i>a&&t.dispatchEvent(o),"left"===e&&i<r&&t.dispatchEvent(l),"left"===e&&i>r&&t.dispatchEvent(c),"top"===e&&(t.scrollTop=a=i,t.dispatchEvent(h)),"left"===e&&(t.scrollLeft=r=i,t.dispatchEvent(u))}},{"./instances":18}],21:[function(t,e,i){"use strict";var a=t("../lib/helper"),r=t("../lib/dom"),n=t("./instances"),s=t("./update-geometry"),o=t("./update-scroll");e.exports=function(t){var e=n.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,r.css(e.scrollbarXRail,"display","block"),r.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=a.toInt(r.css(e.scrollbarXRail,"marginLeft"))+a.toInt(r.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=a.toInt(r.css(e.scrollbarYRail,"marginTop"))+a.toInt(r.css(e.scrollbarYRail,"marginBottom")),r.css(e.scrollbarXRail,"display","none"),r.css(e.scrollbarYRail,"display","none"),s(t),o(t,"top",t.scrollTop),o(t,"left",t.scrollLeft),r.css(e.scrollbarXRail,"display",""),r.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1])}}]);
//# sourceMappingURL=sri-v2-chartiq-vendor-f0f2e7e7-bundle-9aed6a4827cb14372c0a.js.map
</script>

</body>
</html>
