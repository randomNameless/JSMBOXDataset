<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>p-e5e52bdb.html</title>
</head>
<body>

<script>
import{c as e,f as t}from"./p-5925f187.js";import{i as n}from"./p-4fb8ce4b.js";const s=(e,t,n)=>{const s=e.get(t);if(!s){e.set(t,[n])}else if(!s.includes(n)){s.push(n)}};const o=(e,t)=>{let n;return(...s)=>{if(n){clearTimeout(n)}n=setTimeout((()=>{n=0;e(...s)}),t)}};const r=e=>!("isConnected"in e)||e.isConnected;const i=o((e=>{for(let t of e.keys()){e.set(t,e.get(t).filter(r))}}),2e3);const c=()=>{if(typeof e!=="function"){return{}}const n=new Map;return{dispose:()=>n.clear(),get:t=>{const o=e();if(o){s(n,t,o)}},set:e=>{const s=n.get(e);if(s){n.set(e,s.filter(t))}i(n)},reset:()=>{n.forEach((e=>e.forEach(t)));i(n)}}};const a=e=>typeof e==="function"?e():e;const l=(e,t=((e,t)=>e!==t))=>{const n=a(e);let s=new Map(Object.entries(n!==null&&n!==void 0?n:{}));const o={dispose:[],get:[],set:[],reset:[]};const r=()=>{var t;s=new Map(Object.entries((t=a(e))!==null&&t!==void 0?t:{}));o.reset.forEach((e=>e()))};const i=()=>{o.dispose.forEach((e=>e()));r()};const c=e=>{o.get.forEach((t=>t(e)));return s.get(e)};const l=(e,n)=>{const r=s.get(e);if(t(n,r,e)){s.set(e,n);o.set.forEach((t=>t(e,n,r)))}};const f=typeof Proxy==="undefined"?{}:new Proxy(n,{get(e,t){return c(t)},ownKeys(e){return Array.from(s.keys())},getOwnPropertyDescriptor(){return{enumerable:true,configurable:true}},has(e,t){return s.has(t)},set(e,t,n){l(t,n);return true}});const g=(e,t)=>{o[e].push(t);return()=>{u(o[e],t)}};const d=(t,n)=>{const s=g("set",((e,s)=>{if(e===t){n(s)}}));const o=g("reset",(()=>n(a(e)[t])));return()=>{s();o()}};const p=(...e)=>{const t=e.reduce(((e,t)=>{if(t.set){e.push(g("set",t.set))}if(t.get){e.push(g("get",t.get))}if(t.reset){e.push(g("reset",t.reset))}if(t.dispose){e.push(g("dispose",t.dispose))}return e}),[]);return()=>t.forEach((e=>e()))};const m=e=>{const t=s.get(e);o.set.forEach((n=>n(e,t,t)))};return{state:f,get:c,set:l,on:g,onChange:d,use:p,dispose:i,reset:r,forceUpdate:m}};const u=(e,t)=>{const n=e.indexOf(t);if(n>=0){e[n]=e[e.length-1];e.length--}};const f=(e,t)=>{const n=l(e,t);n.use(c());return n};const g="is-refine-modal";function d(e){const t=f(e);const s=(e,n)=>{if(t.state[e][n]){t.state.facetElements=t.state.facetElements.filter((e=>e.getAttribute("facet-id")!==n))}};return{...t,registerFacet(e,n){if(n.element.getAttribute(g)!==null){return}s(e,n.facetId);t.state.facetElements.push(n.element);t.state[e][n.facetId]=n},getIconAssetsPath(){return t.get("iconAssetsPath")},setLoadingFlag(e){const n=t.get("loadingFlags");t.set("loadingFlags",n.concat(e))},unsetLoadingFlag(e){const n=t.get("loadingFlags");t.set("loadingFlags",n.filter((t=>t!==e)))},hasLoadingFlag(e){return t.get("loadingFlags").indexOf(e)!==-1},registerResultList(e){t.set("resultList",e)},addFieldsToInclude(e){t.set("fieldsToInclude",[...t.get("fieldsToInclude"),...e])},waitUntilAppLoaded(e){if(!t.get("loadingFlags").length){e()}else{t.onChange("loadingFlags",(t=>{if(!t.length){e()}}))}},isAppLoaded(){return!t.get("loadingFlags").length},getUniqueIDFromEngine(e){throw new Error("getUniqueIDFromEngine not implemented at the common store level.")},getFacetElements(){return t.get("facetElements").filter((e=>n(e)))}}}export{d as c,g as i};
//# sourceMappingURL=p-e5e52bdb.js.map
</script>

</body>
</html>
