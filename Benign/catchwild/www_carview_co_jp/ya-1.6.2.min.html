<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ya-1.6.2.min.html</title>
</head>
<body>

<script>
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ya=t():e.ya=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e,t){return null!=t&&o(t)===e}function u(e){return i("Object",e)}function a(e){return i("Array",e)}function l(e){return i("String",e)}function c(e){return Math.abs(e)===1/0}function s(e){return i("Number",e)&&!y(e)&&!c(e)}function f(e){return i("Boolean",e)}function d(e){return i("Map",e)}function p(e){return null===e}function g(e){return void 0===e}function y(e){return!("object"!==r(e)||!i("Number",e)||!isNaN(e))||i("Number",e)&&e!=e}function h(e){return""+e}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e=Number(e))?e:t}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=m(e,t))===t?e:parseInt(e)}function b(e){var t=e.split("#")[0].split("?");return 1===t.length?null:t.slice(1).join("?")}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getType:o,is:i,isObject:u,isArray:a,isString:l,isNumber:s,isBoolean:f,isMap:d,isPrimitive:function(e){return s(e)||l(e)||f(e)},isFunction:function(e){return i("Function",e)},isNull:p,isNaN:y,isUndefined:g,findKey:function(e,t){return i("Object",e)&&Object.prototype.hasOwnProperty.call(e,t)},isUUID:function(e){return null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments,t=arguments.length,n={},r=function(t){var r=t<0||e.length<=t?void 0:e[t];Object.keys(r).forEach((function(e){n[e]=r[e]}))},o=0;o<t;o++)r(o);return n},getTime:function(){return(new Date).getTime()},normalizeToString:h,normalizeToNumber:m,normalizeToInt:v,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=v(e,t))===t||e>=0?e:t},isEmpty:function(e){return!!(p(e)||g(e)||y(e))||(l(e)?""===e:s(e)||c(e)?0===e:u(e)?0===Object.keys(e).length:a(e)?0===e.length:!!d(e)&&0===e.size)},snakeToLCC:function(e){return(e=h(e).replace(/_+([a-z])/g,(function(e,t){return t.toUpperCase()}))).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){return Object.keys(e).map((function(t){return[t,e[t]].map(h).map(encodeURIComponent).join("=")})).join("&")},urlQueryString:b,urlQueryParse:function(e){return b("?".concat(e)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e}),{})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2));t.CLog=o.default;var i=r(n(0));t.Util=i.default;var u=r(n(3));t.Browser=u.default},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0));function u(){return["Object","Console"].indexOf(i.default.getType(console))>=0?console:{}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"debug",value:function(){var t=u();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i.default.isFunction(t.debug)?this.printLog(t.debug,r):i.default.isFunction(t.log)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=u();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i.default.isFunction(t.info)?this.printLog(t.info,r):i.default.isFunction(t.log)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=u();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i.default.isFunction(t.warn)?this.printLog(t.warn,r):i.default.isFunction(t.log)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=u();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i.default.isFunction(t.error)?this.printLog(t.error,r):i.default.isFunction(t.log)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],u=new Date;o.unshift("[".concat(u.toLocaleTimeString(),".").concat(u.getUTCMilliseconds(),"]")),i.default.isEmpty(this._prefix)||o.unshift(this._prefix),r.apply(console,o)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return i.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){i.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}])&&r(t,n),e}();t.default=a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0));t.default={generateMetrics:function(e,t){if("object"!==r(e))return null;var n={},o=e.line||e.lineNumber,u=e.column||e.columnNumber;n.ts=i.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),o&&(n.line=o),u&&(n.col=u);var a="undefined"!=typeof window?window:{};return"object"===r(a.performance)&&"object"===r(a.performance.timing)&&i.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),i.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){if("undefined"!=typeof document){var n=document.createElement("img");i.default.isFunction(t)&&(n.onload=t),n.src=e}}}}])},function(e,t,n){var r,o;"undefined"!=typeof self&&self,e.exports=(r={514:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return l}});var r,o=n(398),i=function(){function e(e){this.settings=e}return e.prototype.setAccessToken=function(e){this.settings.accessToken=e},e.prototype.setHost=function(e){this.settings.host=e},e.prototype.dispatch=function(e){var t=this.settings,n={tk:t.userId,p:t.project,d:t.dataset};t.accessToken&&(n.access_token=t.accessToken);var r=o.Util.merge(n,e),i=this.buildUrl(t.host,r);o.Browser.createImageTag(i,null)},e.prototype.buildUrl=function(e,t){return"https://"+e+"/api/v1/clear.gif?"+o.Util.urlQueryBuild(t)},e}(),u=function(){function e(){}return e.getDefaultHost=function(e){var t="dsb.yahoo.co.jp",n=void 0!==e?e.document:{},r=o.Util.getType(n);return/^(HTML)?Document$/.test(r)?new RegExp("yahoo.co.jp$").test(n.location.hostname)?t:"dsb.yahooapis.jp":t},e}().getDefaultHost(window);!function(e){e.DEBUG="debug",e.EXCEPTION="exception"}(r||(r={}));var a=function(){function e(e){var t,n,r,o,i;this.pageSession=null!==(t=null==e?void 0:e.pageSession)&&void 0!==t?t:"",this.sdkName=null!==(n=null==e?void 0:e.coreName)&&void 0!==n?n:"",this.sdkVersion=null!==(r=null==e?void 0:e.coreVersion)&&void 0!==r?r:"",this.extensionName=null!==(o=null==e?void 0:e.targetName)&&void 0!==o?o:"",this.extensionVersion=null!==(i=null==e?void 0:e.targetVersion)&&void 0!==i?i:""}return e.prototype.build=function(e){var t,n,r,o,i,u,a,l,c,s,f;return{log_type:null!==(t=null==e?void 0:e.type)&&void 0!==t?t:"",label:null!==(n=null==e?void 0:e.label)&&void 0!==n?n:"",ts:this.time(),name:null!==(o=null===(r=null==e?void 0:e.error)||void 0===r?void 0:r.name)&&void 0!==o?o:"",message:null!==(u=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.message)&&void 0!==u?u:"",stack:null!==(l=null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.stack)&&void 0!==l?l:"",elapsed_time:this.elapsedTime(),url:this.url(),referrer:this.referrer(),page_session:this.pageSession,sdk:this.sdkName,sdk_ver:this.sdkVersion,extension:this.extensionName,extension_ver:this.extensionVersion,custom_1:null!==(c=null==e?void 0:e.custom1)&&void 0!==c?c:"",custom_2:null!==(s=null==e?void 0:e.custom2)&&void 0!==s?s:"",custom_3:null!==(f=null==e?void 0:e.custom3)&&void 0!==f?f:""}},e.prototype.time=function(){return o.Util.getTime()},e.prototype.elapsedTime=function(){return"undefined"==typeof performance?0:Math.floor(performance.now())},e.prototype.url=function(){return"undefined"==typeof document?"":document.URL},e.prototype.referrer=function(){return"undefined"==typeof document?"":document.referrer},e}(),l=function(){function e(e){var t,n={userId:"9225bd01-1ff0-4e57-9c92-6e831c45253a",project:"ds_logger",dataset:"ual_web_error",host:u},r={};n.host=null!==(t=null==e?void 0:e.host)&&void 0!==t?t:n.host,n.accessToken=null==e?void 0:e.accessToken,r.targetName=null==e?void 0:e.targetName,r.targetVersion=null==e?void 0:e.targetVersion,r.coreName=null==e?void 0:e.coreName,r.coreVersion=null==e?void 0:e.coreVersion,r.pageSession=null==e?void 0:e.pageSession,this.dispatcher=new i(n),this.builder=new a(r)}return e.prototype.setAccessToken=function(e){this.dispatcher.setAccessToken(e)},e.prototype.setHost=function(e){this.dispatcher.setHost(e)},e.prototype.debug=function(e){this.log(r.DEBUG,e)},e.prototype.exception=function(e,t){this.log(r.EXCEPTION,t,e)},e.prototype.log=function(e,t,n){var r={};r.type=e,r.label=null==t?void 0:t.label,r.custom1=null==t?void 0:t.custom1,r.custom2=null==t?void 0:t.custom2,r.custom3=null==t?void 0:t.custom3,r.error=n;var o=this.builder.build(r);this.dispatcher.dispatch(o)},e}();return t.default}()},398:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e,t){return null!=t&&o(t)===e}function u(e){return i("Object",e)}function a(e){return i("Array",e)}function l(e){return i("String",e)}function c(e){return Math.abs(e)===1/0}function s(e){return i("Number",e)&&!y(e)&&!c(e)}function f(e){return i("Boolean",e)}function d(e){return i("Map",e)}function p(e){return null===e}function g(e){return void 0===e}function y(e){return!("object"!==r(e)||!i("Number",e)||!isNaN(e))||i("Number",e)&&e!=e}function h(e){return""+e}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s(e=Number(e))?e:t}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=m(e,t))===t?e:parseInt(e)}function b(e){var t=e.split("#")[0].split("?");return 1===t.length?null:t.slice(1).join("?")}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getType:o,is:i,isObject:u,isArray:a,isString:l,isNumber:s,isBoolean:f,isMap:d,isPrimitive:function(e){return s(e)||l(e)||f(e)},isFunction:function(e){return i("Function",e)},isNull:p,isNaN:y,isUndefined:g,findKey:function(e,t){return i("Object",e)&&Object.prototype.hasOwnProperty.call(e,t)},isUUID:function(e){return null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments,t=arguments.length,n={},r=function(t){var r=t<0||e.length<=t?void 0:e[t];Object.keys(r).forEach((function(e){n[e]=r[e]}))},o=0;o<t;o++)r(o);return n},getTime:function(){return(new Date).getTime()},normalizeToString:h,normalizeToNumber:m,normalizeToInt:v,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=v(e,t))===t||e>=0?e:t},isEmpty:function(e){return!!(p(e)||g(e)||y(e))||(l(e)?""===e:s(e)||c(e)?0===e:u(e)?0===Object.keys(e).length:a(e)?0===e.length:!!d(e)&&0===e.size)},snakeToLCC:function(e){return(e=h(e).replace(/_+([a-z])/g,(function(e,t){return t.toUpperCase()}))).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){return Object.keys(e).map((function(t){return[t,e[t]].map(h).map(encodeURIComponent).join("=")})).join("&")},urlQueryString:b,urlQueryParse:function(e){return b("?".concat(e)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e}),{})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=t.Util=t.CLog=void 0;var o=r(n(2));t.CLog=o.default;var i=r(n(0));t.Util=i.default;var u=r(n(3));t.Browser=u.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));function i(){return["Object","Console"].indexOf(o.default.getType(console))>=0?console:{}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"debug",value:function(){var t=i();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.debug)?this.printLog(t.debug,r):o.default.isFunction(t.log)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=i();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.info)?this.printLog(t.info,r):o.default.isFunction(t.log)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=i();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.warn)?this.printLog(t.warn,r):o.default.isFunction(t.log)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=i();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.error)?this.printLog(t.error,r):o.default.isFunction(t.log)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],u=new Date;i.unshift("[".concat(u.toLocaleTimeString(),".").concat(u.getUTCMilliseconds(),"]")),o.default.isEmpty(this._prefix)||i.unshift(this._prefix),r.apply(console,i)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return o.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){o.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0));t.default={generateMetrics:function(e,t){if("object"!==r(e))return null;var n={},o=e.line||e.lineNumber,u=e.column||e.columnNumber;n.ts=i.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),o&&(n.line=o),u&&(n.col=u);var a="undefined"!=typeof window?window:{};return"object"===r(a.performance)&&"object"===r(a.performance.timing)&&i.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),i.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){if("undefined"!=typeof document){var n=document.createElement("img");i.default.isFunction(t)&&(n.onload=t),n.src=e}}}}])},751:function(e){"undefined"!=typeof self&&self,e.exports=function(){"use strict";var e={825:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=t.Util=t.CLog=void 0;var o=r(n(148));t.CLog=o.default;var i=r(n(109));t.Util=i.default;var u=r(n(387));t.Browser=u.default},387:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(109));t.default={generateMetrics:function(e,t){if("object"!==r(e))return null;var n={},o=e.line||e.lineNumber,u=e.column||e.columnNumber;n.ts=i.default.getTime(),e.name&&(n.name=e.name),e.message&&(n.message=e.message),e.stack&&(n.stack=e.stack),o&&(n.line=o),u&&(n.col=u);var a="undefined"!=typeof window?window:{};return"object"===r(a.performance)&&"object"===r(a.performance.timing)&&i.default.isNumber(a.performance.timing.navigationStart)&&(n.progress_time=n.ts-a.performance.timing.navigationStart),n.ex_base="",void 0!==a.location&&void 0!==a.location.href&&(n.url=a.location.href),i.default.isString(t)&&(n.label=t),n},createImageTag:function(e,t){if("undefined"!=typeof document){var n=document.createElement("img");i.default.isFunction(t)&&(n.onload=t),n.src=e}}}},148:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(109));function i(){return["Object","Console","console"].indexOf(o.default.getType(console))>=0?console:{}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"debug",value:function(){var t=i();if(this.logLevel>=e.DEBUG){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.debug)?this.printLog(t.debug,r):o.default.isFunction(t.log)&&(r.unshift("[DEBUG]"),this.printLog(t.log,r))}}},{key:"info",value:function(){var t=i();if(this.logLevel>=e.INFO){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.info)?this.printLog(t.info,r):o.default.isFunction(t.log)&&(r.unshift("[INFO]"),this.printLog(t.log,r))}}},{key:"warning",value:function(){var t=i();if(this.logLevel>=e.WARNING){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.warn)?this.printLog(t.warn,r):o.default.isFunction(t.log)&&(r.unshift("[WARN]"),this.printLog(t.log,r))}}},{key:"error",value:function(){var t=i();if(this.logLevel>=e.CRITICAL){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];o.default.isFunction(t.error)?this.printLog(t.error,r):o.default.isFunction(t.log)&&(r.unshift("[ERROR]"),this.printLog(t.log,r))}}},{key:"printLog",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],u=new Date;i.unshift("[".concat(u.toLocaleTimeString(),".").concat(u.getUTCMilliseconds(),"]")),o.default.isEmpty(this._prefix)||i.unshift(this._prefix),r.apply(console,i)}},{key:"NONE",get:function(){return 0}},{key:"CRITICAL",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"prefix",set:function(e){this._prefix=e}},{key:"defaultLogLevel",get:function(){return this.CRITICAL}},{key:"logLevel",get:function(){return o.default.isNumber(this._logLevel)?this._logLevel:this.defaultLogLevel},set:function(e){o.default.isNumber(e)&&[0,1,2,3,4].indexOf(e)>=0&&(this._logLevel=e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=u},109:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return Object.prototype.toString.call(e).slice(8,-1)}function o(e,t){return null!=t&&r(t)===e}function i(e){return o("Object",e)}function u(e){return o("Array",e)}function a(e){return o("String",e)}function l(e){return Math.abs(e)===1/0}function c(e){return o("Number",e)&&!g(e)&&!l(e)}function s(e){return o("Boolean",e)}function f(e){return o("Map",e)}function d(e){return null===e}function p(e){return void 0===e}function g(e){return!("object"!==n(e)||!o("Number",e)||!isNaN(e))||o("Number",e)&&e!=e}function y(e){return""+e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return c(e=Number(e))?e:t}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=h(e,t))===t?e:parseInt(e)}function v(e){var t=e.split("#")[0].split("?");return 1===t.length?null:t.slice(1).join("?")}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getType:r,is:o,isObject:i,isArray:u,isString:a,isNumber:c,isBoolean:s,isMap:f,isPrimitive:function(e){return c(e)||a(e)||s(e)},isFunction:function(e){return o("Function",e)},isNull:d,isNaN:g,isUndefined:p,findKey:function(e,t){return o("Object",e)&&Object.prototype.hasOwnProperty.call(e,t)},isUUID:function(e){return null!==e.match(/^[\da-fA-F]{8}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{4}-[\da-fA-F]{12}$/)},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},merge:function(){for(var e=arguments,t=arguments.length,n={},r=function(t){var r=t<0||e.length<=t?void 0:e[t];Object.keys(r).forEach((function(e){n[e]=r[e]}))},o=0;o<t;o++)r(o);return n},getTime:function(){return(new Date).getTime()},normalizeToString:y,normalizeToNumber:h,normalizeToInt:m,normalizeToUnsignedInt:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=m(e,t))===t||e>=0?e:t},isEmpty:function(e){return!!(d(e)||p(e)||g(e))||(a(e)?""===e:c(e)||l(e)?0===e:i(e)?0===Object.keys(e).length:u(e)?0===e.length:!!f(e)&&0===e.size)},snakeToLCC:function(e){return(e=y(e).replace(/_+([a-z])/g,(function(e,t){return t.toUpperCase()}))).charAt(0).toLowerCase()+e.slice(1)},urlQueryBuild:function(e){return Object.keys(e).map((function(t){return[t,e[t]].map(y).map(encodeURIComponent).join("=")})).join("&")},urlQueryString:v,urlQueryParse:function(e){return v("?".concat(e)).split("&").reduce((function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e}),{})}}}},t={};return function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(825)}()},778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(751),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"recordBuild",value:function(e,t,n,o){if(!r.Util.isString(e)||!r.Util.isUUID(e))return r.CLog.error("tokenが不正な値:",e),null;if(!r.Util.isString(t)||t.length<1)return r.CLog.error("projectが不正な値:",t),null;if(!r.Util.isString(n)||n.length<1)return r.CLog.error("datasetが不正な値:",n),null;if(!r.Util.isObject(o))return r.CLog.error("dataが不正な値:",o),null;var i=r.Util.deepCopy(o);Object.keys(i).forEach((function(e){0===e.indexOf("cex_")&&(r.CLog.warning("パラメータ ".concat(e,": cex_で始まるキーは予約済みキーのため使用できません.")),delete i[e])})),i.cex_cqt=r.Util.getTime();var u={tk:e,p:t,d:n,data:i};return r.CLog.info("[レコード生成]",u),u}},{key:"recordsBuild",value:function(e,t,n,o){var i=this,u=[],a=function(o){var a=i.recordBuild(e,t,n,o);r.Util.isNull(a)||u.push(a)};return r.Util.isObject(o)?a(o):r.Util.isArray(o)&&o.forEach(a),u}},{key:"requestBodyBuild",value:function(e){var t={},n=r.Util.deepCopy(e);return t.cex_cst=r.Util.getTime(),JSON.stringify({r:n,bp:t})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=o},888:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(751),i=r(n(284)),u=r(n(778)),a=r(n(13)),l=n(646),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset(),this.online=!0}var t;return(t=[{key:"push",value:function(e,t,n,r){var i=u.default.recordsBuild(e,t,n,r),l=i.map((function(e){return JSON.stringify(e).length})),c=l.reduce((function(e,t){return e+t}),0),s=i.length,f=Math.max(0,a.default.get("maxRequestCharCount")),d=Math.max(0,a.default.get("maxRequestMessageCount"));if(!(s<1))if(c>f)o.CLog.error("データのサイズが大きすぎます。データを破棄します  ".concat(c,"/").concat(f),i);else if(s>d&&o.CLog.warning("規定値を超えた件数のログが送信されます ".concat(s,"/").concat(d),i),this.charCount+c<=f&&this.queue.length+s<=d)this.queue=this.queue.concat(i),this.charCount+=c,this.charCountArray=this.charCountArray.concat(l);else if(this.online)this.send(),this.queue=this.queue.concat(i),this.charCount+=c,this.charCountArray=this.charCountArray.concat(l);else for(this.queue=this.queue.concat(i),this.charCount+=c,this.charCountArray=this.charCountArray.concat(l);this.charCount>f||this.queue.length>d;)o.CLog.warning("データ容量超過のため削除",this.queue[0]),this.queue.shift(),this.charCount-=this.charCountArray[0],this.charCountArray.shift()}},{key:"send",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(l.sendDebug("Buffer.send#start"),this.queue.length>0&&this.online){var t=u.default.requestBodyBuild(this.queue);i.default.send(t,e),this.reset()}l.sendDebug("Buffer.send#end")}},{key:"reset",value:function(){this.queue=[],this.charCount=0,this.charCountArray=[]}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();t.default=c},13:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(751),i=r(n(909)),u=r(n(624)),a={},l={get:function(e){return void 0!==a[e]?a[e]:null},set:function(e,t){a[e]=t,"apiHost"===e&&"https://"===a.apiScheme&&i.default("".concat(a.apiScheme).concat(a.apiHost))}};l.set("apiScheme","https://"),l.set("apiHost",u.default.getDefaultHost()),l.set("apiPath","/api/v1/stream"),l.set("sendBeaconEnabled",!0),l.set("targetProtocols",["http:","https:"]),l.set("ajaxTimeout",5e3),l.set("maxRequestCharCount",65497),l.set("maxRequestMessageCount",50),l.set("shortTimerInterval",1e3),l.set("longTimerInterval",5e3),l.set("errorLoggingEnabled",!1),o.CLog.debug("[config]",l),t.default=l},309:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(751),i=r(n(888)),u=r(n(305)),a=r(n(13)),l=r(n(641)),c=n(646),s=r(n(539));c.sendDebug("core#start");var f=new i.default,d=new u.default(f);o.CLog.prefix="[CoreLogger]";var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"setConsoleLogLevel",value:function(e){o.CLog.logLevel=e}},{key:"getConsoleLogLevel",value:function(){return o.CLog.logLevel}},{key:"setBeaconServer",value:function(e,t){o.Util.isString(e)?(a.default.set("apiHost",e),c.setErrorLoggerHost(e),o.CLog.info("送信先ホスト変更成功",e)):o.Util.isNull(e)||o.Util.isUndefined(e)||o.CLog.warning("送信先ホスト変更失敗",e),o.Util.isString(t)?(a.default.set("apiPath",t),o.CLog.info("送信先パス変更成功",t)):o.Util.isNull(t)||o.Util.isUndefined(t)||o.CLog.warning("送信先パス変更失敗",t)}},{key:"setAccessToken",value:function(e){o.Util.isString(e)&&(a.default.set("apiAccessToken",e),c.setErrorLoggerAccessToken(e),o.CLog.info("[アクセストークン変更]",e))}},{key:"enableSecureTransport",value:function(e){!0===e?a.default.set("apiScheme","https://"):!1===e&&(a.default.set("apiScheme","http://"),o.CLog.warning("通信にHTTPを利用します"))}},{key:"enableSendBeacon",value:function(e){!0===e?(a.default.set("sendBeaconEnabled",!0),o.CLog.info("通信にsendBeaconまたはXHRを利用します")):!1===e?(a.default.set("sendBeaconEnabled",!1),o.CLog.info("通信にsendBeaconを利用せずXHRのみ利用します")):o.CLog.warning("boolean型の値を指定してください")}},{key:"enableErrorLogging",value:function(e){!0===e?(a.default.set("errorLoggingEnabled",!0),o.CLog.info("コアロガー内のエラーメトリクスロギングを有効化します")):!1===e?(a.default.set("errorLoggingEnabled",!1),o.CLog.info("コアロガー内のエラーメトリクスロギングを無効化します")):o.CLog.warning("boolean型の値を指定してください")}},{key:"setTargetProtocols",value:function(e){if(o.Util.isArray(e))if(e.length>0)if((e=e.filter((function(e){return o.Util.isString(e)}))).length>0){var t=e.map((function(e){return(e.endsWith(":")?e:e.concat(":")).toLocaleLowerCase()}));a.default.set("targetProtocols",t),o.CLog.info("ロギング対象プロトコル変更",t)}else o.CLog.error("プロトコル名はstring型の値にしてください. プロトコル設定を行いませんでした");else a.default.set("targetProtocols",["http:","https:"]),o.CLog.info("ロギング対象プロトコルをデフォルトにリセット",a.default.get("targetProtocols"));else o.CLog.error("引数には配列を指定してください. プロトコル設定を行いませんでした")}},{key:"send",value:function(e){c.sendDebug("core.send#start"),o.Util.isObject(e)?-1!==a.default.get("targetProtocols").indexOf(window.location.protocol)?(f.push(e.token,e.project,e.dataset,e.data),o.Util.isUndefined(e.flush)||o.Util.isBoolean(e.flush)||o.CLog.warning("flushオプションが期待するのはboolean型です"),!0===e.flush?this.flush(e.callback):d.setTimer(),c.sendDebug("core.send#end")):o.CLog.error("現在開いているページの "+window.location.protocol+" プロトコルはロギング対象外です。"):o.CLog.error("引数の型が不正")}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c.sendDebug("core.flush#start"),o.Util.isFunction(e)?f.send(e):(o.Util.isNull(e)||o.CLog.warning("callbackには関数を指定してください"),f.send()),c.sendDebug("core.flush#end")}},{key:"getSdkName",value:function(){return l.default.name}},{key:"getSdkVersion",value:function(){return l.default.version}},{key:"getPageSession",value:function(){return s.default()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();c.sendDebug("core#end"),t.default=p},624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(751),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"getDefaultHost",value:function(){var e="dsb.yahoo.co.jp",t="undefined"!=typeof window?window.document:{},n=r.Util.getType(t);return/^(HTML)?Document$/.test(n)?new RegExp("".concat("yahoo.co.jp","$")).test(t.location.hostname)?e:"dsb.yahooapis.jp":e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=o},646:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(514)),i=r(n(539)),u=r(n(13)),a={targetName:"YASCoreLogger-web",targetVersion:"3.3.0",coreName:"YASCoreLogger-web",coreVersion:"3.3.0",pageSession:i.default()},l=new o.default(a);t.sendDebug=function(e){!0===u.default.get("errorLoggingEnabled")&&l.debug({label:e})},t.setErrorLoggerAccessToken=function(e){l.setAccessToken(e)},t.setErrorLoggerHost=function(e){l.setHost(e)}},284:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(751),u=o(n(13)),a=n(646),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.sendDebug("HttpClient.send#start");var n="undefined"!=typeof window?window:{};u.default.get("sendBeaconEnabled")&&i.Util.isNull(t)&&"object"===r(n.navigator)&&i.Util.isFunction(n.navigator.sendBeacon)?this.sendBeacon(e):this.sendAjax(e,t),a.sendDebug("HttpClient.send#end")}},{key:"sendAjax",value:function(e,t){a.sendDebug("HttpClient.sendAjax#start");var n=function(){var e=null;if("undefined"==typeof XMLHttpRequest)return null;try{if(!("withCredentials"in(e=new XMLHttpRequest)))return null;if("undefined"!=typeof XDomainRequest)return null}catch(e){return i.CLog.error("XMLHttpRequestオブジェクトの作成に失敗",e),null}return e}(),r=this.buildUrl(),o=function(){i.Util.isFunction(t)&&t()};if(!i.Util.isNull(n)){n.open("POST",r),n.withCredentials=!0,n.setRequestHeader("Content-Type","application/json;charset=UTF-8");var l=u.default.get("apiAccessToken");null!==l&&n.setRequestHeader("Authorization","Bearer ".concat(l)),!("timeout"in n)&&u.default.get("ajaxTimeout")?setTimeout((function(){n.abort(),o()}),u.default.get("ajaxTimeout")):n.timeout=u.default.get("ajaxTimeout"),n.onload=n.ontimeout=n.onerror=n.onabort=o,n.send(e),i.CLog.info("[送信]",r,e),a.sendDebug("HttpClient.sendAjax#end")}}},{key:"sendBeacon",value:function(e){a.sendDebug("HttpClient.sendBeacon#start");var t=this.buildUrl(!0);navigator.sendBeacon(t,e),i.CLog.info("[送信]",t,e),a.sendDebug("HttpClient.sendBeacon#end")}},{key:"buildUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";t+=u.default.get("apiScheme"),t+=u.default.get("apiHost"),t+=u.default.get("apiPath");var n=u.default.get("apiAccessToken");return null!==n&&e&&(t+="?access_token=".concat(n)),t}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();t.default=l},539:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(834));t.default=function(){return"undefined"==typeof window?"":(window.YAS=window.YAS||{},window.YAS.psid=window.YAS.psid||o.default(),window.YAS.psid)}},909:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("undefined"==typeof window||void 0===window.document)return!1;var t=document.createElement("link");return t.setAttribute("rel","preconnect"),t.setAttribute("href",e),document.head.appendChild(t),!0}},305:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(751),l=u(n(13)),c=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,e),this.buffer=t,this.shortInterval=i||l.default.get("shortTimerInterval"),this.longInterval=r||l.default.get("longTimerInterval"),this.shortTimer=null,this.longTimer=null,this.leaveCallback=function(e){a.CLog.debug("fire inactive event. type = ".concat(e.type)),n.buffer.queue.length>0&&(n.buffer.send(),n.clearAllTimer())};var u="undefined"!=typeof window?window:{};a.Util.is("Window",u)&&a.Util.isFunction(u.addEventListener)?e.INACTIVE_EVENTS.forEach((function(e){u.addEventListener(e,n.leaveCallback,!1)})):a.CLog.warning("not hook a leave event."),this.createNetWorkStateHandler(),this.setInitialNetWork(),this.setNetWorkWatcher()}var t,n,u;return t=e,u=[{key:"INACTIVE_EVENTS",get:function(){return["blur","pagehide","visibilitychange-hidden","beforeunload","unload"]}}],(n=[{key:"createNetWorkStateHandler",value:function(){var e=this;this.onlineHandler=function(){e.buffer.online=!0,e.buffer.queue.length>0&&e.buffer.send()},this.offlineHandler=function(){e.buffer.online=!1}}},{key:"setInitialNetWork",value:function(){var e="undefined"!=typeof window?window:{};a.Util.is("Window",e)&&"object"===r(e.navigator)&&a.Util.isBoolean(e.navigator.onLine)?this.buffer.online=e.navigator.onLine:this.buffer.online=!0}},{key:"setNetWorkWatcher",value:function(){var e="undefined"!=typeof window?window:{};a.Util.isFunction(e.addEventListener)&&(e.addEventListener("online",this.onlineHandler,!1),e.addEventListener("offline",this.offlineHandler,!1))}},{key:"setTimer",value:function(){var e=this;a.Util.isNull(this.shortTimer)||(clearTimeout(this.shortTimer),this.shortTimer=null),this.shortTimer=setTimeout((function(){e.buffer.send(),e.clearAllTimer(),a.CLog.debug("Called: short timer fire.")}),this.shortInterval),a.Util.isNull(this.longTimer)&&(this.longTimer=setTimeout((function(){e.buffer.send(),e.clearAllTimer(),a.CLog.debug("Called: long timer fire.")}),this.longInterval))}},{key:"clearAllTimer",value:function(){clearTimeout(this.shortTimer),clearTimeout(this.longTimer),this.shortTimer=null,this.longTimer=null}}])&&i(t.prototype,n),u&&i(t,u),e}();t.default=c},834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},641:function(e){"use strict";e.exports=JSON.parse('{"name":"YASCoreLogger-web","version":"3.3.0"}')}},o={},function e(t){var n=o[t];if(void 0!==n)return n.exports;var i=o[t]={exports:{}};return r[t].call(i.exports,i,i.exports,e),i.exports}(309).default)},function(e){e.exports={internalHost:"dsb.yahoo.co.jp",externalHost:"dsb.yahooapis.jp",errMetrics:{tk:"9225bd01-1ff0-4e57-9c92-6e831c45253a",pj:"ds_logger",ds:"ya_web_error"}}},function(e){e.exports={a:"1.6.2"}},function(e,t,n){"use strict";n.r(t);var r=n(0);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=r.Util.isString(t)?t:"",this.group=r.Util.isString(n)?n:"",this.parameters={},this.hitSequence=0}var t,n,i;return t=e,(n=[{key:"setParameter",value:function(e,t){var n,o=(n=e,r.Util.isPrimitive(n)?r.Util.normalizeToString(n):"");""!==o&&(this.parameters[o]=function(e){return r.Util.isUndefined(e)?"":e}(t))}},{key:"getParameters",value:function(){var e={hitSequence:++this.hitSequence};return r.Util.merge(this.parameters,e)}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u=n(1),a=n.n(u);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return r.Util.isUndefined(e)||r.Util.isNull(e)?"":r.Util.isPrimitive(e)?r.Util.normalizeToString(e):""}function s(e){if(r.Util.isUndefined(e)||r.Util.isNull(e))return"default";if(r.Util.isPrimitive(e)){var t=r.Util.normalizeToString(e);return""!==t?t:"default"}return""}function f(e){return""!==e}function d(e,t,n){if(!r.Util.isUndefined(n[t]))return n;var o=function(e,t){return!r.Util.isUndefined(e[t])&&e[t]instanceof i?e[t].getParameters():null}(e,t);return r.Util.isNull(o)||(n[t]=o),n}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackers={},this.tokens={},this.groups={default:[]},this.baseParameters={},this.pvid=a.a.getPageSession(),r.CLog.debug("[YAConfigurator#constructor] pvid = ".concat(this.pvid))}var t,n,o;return t=e,o=[{key:"getInstance",value:function(){return g}}],(n=[{key:"registerTracker",value:function(e,t,n){var o=c(e);if(""===o)return r.CLog.error("[YAConfigurator#registerTracker] 不正なロギングID",e),null;if(r.Util.isUndefined(t))return r.CLog.error("[YAConfigurator#registerTracker] TOKENが見つからない"),null;var u=s(n);if(""===u)return r.CLog.error("[YAConfigurator#registerTracker] 不正なグループ名"),null;if(!r.Util.isUndefined(this.trackers[o]))return r.CLog.debug("[YAConfigurator#registerTracker] Already created tracker, [".concat(o,"]")),this.trackers[o];var a=new i(o,u);return this.trackers[o]=a,this.tokens[o]=t,r.Util.isUndefined(this.groups[u])?(r.CLog.debug("[YAConfigurator#registerTracker] new group, [".concat(u,"]")),this.groups[u]=[o]):this.groups[u].push(o),r.CLog.info("[YAConfigurator#registerTracker] トラッカーを作成しました\n"+"LoggingID=".concat(o,", Group=").concat(u,", Token=").concat(t)),a}},{key:"updateTracker",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",o=c(n);if(""===o)return r.CLog.error("[YAConfigurator#updateTracker] 不正なロギングID",n),!1;if(!r.Util.isObject(e))return r.CLog.error("[YAConfigurator#updateTracker] 期待しないデータ型",e),!1;var i=[];if(r.Util.isUndefined(this.trackers[o])){if(!r.Util.isArray(this.groups[o]))return r.CLog.error("[YAConfigurator#updateTracker] トラッカー未作成のロギングIDまたはグループ",n),!1;this.groups[o].forEach((function(e){i.push(t.trackers[e])}))}else i.push(this.trackers[o]);return i.forEach((function(t){Object.keys(e).forEach((function(n){t.setParameter(n,e[n])}))})),r.CLog.info("[YAConfigurator#updateTracker] トラッカーに値を設定完了",i),!0}},{key:"setBaseParameters",value:function(e){return r.Util.isObject(e)?(this.baseParameters=r.Util.merge(this.baseParameters,e),r.CLog.info("[YAConfigurator#baseParameters] ベースパラメータ設定完了",this.baseParameters),!0):(r.CLog.error("[YAConfigurator#setBaseParameters] オブジェクト形式ではありません",e),!1)}},{key:"getBaseParameters",value:function(){return r.Util.merge(this.baseParameters,{pvid:this.pvid})}},{key:"getTrackerParameters",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],o={};if(!r.Util.isString(t)&&r.Util.isPrimitive(t)||!r.Util.isEmpty(t))if(r.Util.isArray(t))n=r.Util.deepCopy(t);else{if(!r.Util.isPrimitive(t))return r.CLog.error("[YAConfigurator#getTrackerParameters] 不正なターゲット指定"),o;n=[t]}else n=["default"];var i=n.map(c).filter(f);i.forEach((function(t){o=d(e.trackers,t,o)}));var u=n.map(s).filter(f).filter((function(t){return r.Util.isArray(e.groups[t])}));return u.forEach((function(t){e.groups[t].map(c).filter(f).forEach((function(t){o=d(e.trackers,t,o)}))})),r.Util.deepCopy(o)}}])&&l(t.prototype,n),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),g=new p,y=p;function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"run",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="undefined"!=typeof window?window:{},i=y.getInstance();if(r.Util.isPrimitive(e)){n=r.Util.isObject(n)?n:{},r.Util.findKey(n,"groups")?(r.CLog.debug("[ConfigCommander#run] found options.groups",n.groups),i.registerTracker(e,t,n.groups)):(r.CLog.debug("[ConfigCommander#run] not found options.groups"),i.registerTracker(e,t));var u=n.savekey||"_aui",l=o.localStorage.getItem(u);r.Util.findKey(n,"savekey")&&r.CLog.debug("[ConfigCommander#run] set savekey",n.savekey),r.Util.isNull(l)&&(l=a.a.getPageSession(),o.localStorage.setItem(u,l)),i.updateTracker({aui:l},e)}else r.CLog.error("[ConfigCommander#run] ロギングIDは文字列を期待します",e)}}],(n=null)&&h(t.prototype,n),o&&h(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"run",value:function(){var e,t;if(1===arguments.length&&r.Util.isObject(arguments.length<=0?void 0:arguments[0]))t=arguments.length<=0?void 0:arguments[0];else{if(2!==arguments.length||!r.Util.isString(arguments.length<=0?void 0:arguments[0])||!r.Util.isObject(arguments.length<=1?void 0:arguments[1]))return void r.CLog.error("[ParamCommander#run] 不正な引数の指定");e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1]}var n=y.getInstance();r.Util.isString(e)?"*"===e.trim()?Object.keys(n.trackers).forEach((function(e){n.updateTracker(t,e)})):n.updateTracker(t,e):n.updateTracker(t)}}],(n=null)&&v(t.prototype,n),o&&v(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=new RegExp("^(.+?)([0-9]+)$");var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"run",value:function(e,t){if(!r.Util.isObject(e))return r.CLog.error("[YAValidator#run] 不正なルールセット",e),null;if(!r.Util.isObject(t))return r.CLog.error("[YAValidator#run] 不正な形式のデータ",t),null;var n=["view_item_list","view_item","select_item","conversion_item"].indexOf(t.action)>=0,o=Object.keys(t).filter((function(t){n&&"category"===t&&r.CLog.warning("[YAValidator#run] \n                イベントアクションにアイテム分析用の文字列を設定している場合、イベントカテゴリは集計時に固定の値に上書きされます。");var o=e[t]?e[t].short:"";return!n&&["itms","inm","iln","cn","cv"].indexOf(o)>=0?(r.CLog.warning("[YAValidator#run] \n                イベントアクションにアイテム分析用の文字列を設定していない場合、アイテム情報のログは送信されません。",t),!1):function(e,t){var n=Object.keys(e).filter((function(t){return!e[t].numbered})),o=Object.keys(e).filter((function(t){return!!e[t].numbered}));if(-1!==n.indexOf(t))return!0;var i=C.exec(t);if(null!==i&&-1!==o.indexOf(i[1])){var u=e[i[1]],a=r.Util.normalizeToNumber(i[2]);return!(r.Util.findKey(u,"min")&&a<u.min||r.Util.findKey(u,"max")&&a>u.max||(e[t]={short:"".concat(u.short).concat(a),type:u.type},0))}return!1}(e,t)})),i={};return o.forEach((function(n){var o=e[n],u=o.short,a=o.type,l=function(e,t,n){var o=e[n].type,i=t[n];if(r.Util.isUndefined(i)||r.Util.isNull(i))return null;if("string"===o)return r.Util.normalizeToString(i);if("number"===o)return r.Util.normalizeToNumber(i,null);if("array"===o){var u=e[n].childRule;if(!Array.isArray(i))return null;var a=[];return i.forEach((function(e){var t={};if(r.Util.isObject(e)){Object.keys(e).forEach((function(n){var o=r.Util.snakeToLCC(n);t[o]=e[n]}));var n=O.run(u,t);a.push(n)}})),a}if("object"===o){if(!r.Util.isObject(i))try{return JSON.parse(i)}catch(e){return null}return i}return Boolean(i)}(e,t,n);null!==l?i[u]=l:r.CLog.warning("[YAValidator#run] ".concat(n,"に").concat(a,"型以外の値(").concat(t[n],")が指定されています"))})),i}}],(n=null)&&w(t.prototype,n),o&&w(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),k=O,S=n(3);function j(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],i=t.slice(1),u=o,a=!0;return r.Util.isArray(i)&&i.length>0?i.forEach((function(e){u&&!r.Util.isUndefined(u[e])?u=u[e]:a=!1})):a=!1,a?u:null}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"document",set:function(e){this._document=e}},{key:"pageUrl",get:function(){return _(this._document,"location","href")}},{key:"pageHost",get:function(){return _(this._document,"location","hostname")}},{key:"pageQueryParameter",get:function(){if(null===this.pageUrl)return null;var e=j(this.pageUrl.split("#")[0].split("?")).slice(1);return 1!==e.length?null:e[0].split("&").reduce((function(e,t){var n=j(t.split("=")),r=n[0],o=n.slice(1);return 1===o.length&&(e[r]=o[0]),e}),{})}},{key:"pageReferrer",get:function(){var e=_(this._document,"referrer");return r.Util.isString(e)&&!r.Util.isEmpty(e)?e:null}},{key:"pageTitle",get:function(){return _(this._document,"title")}},{key:"userLanguage",get:function(){return _(this._document,"defaultView","navigator","language")||_(this._document,"defaultView","navigator","browserLanguage")}},{key:"dataSource",get:function(){return"web"}},{key:"loggerSdkName",get:function(){return"YASYahooAnalyticsLogger-web"}},{key:"loggerSdkVersion",get:function(){return r.Util.isString(S.a)?S.a:""}},{key:"screenWidth",get:function(){return _(this._document,"defaultView","screen","width")}},{key:"screenHeight",get:function(){return _(this._document,"defaultView","screen","height")}},{key:"viewportWidth",get:function(){var e=_(this._document,"documentElement","clientWidth"),t=_(this._document,"body","clientWidth"),n=_(this._document,"compatMode");return!e||"CSS1Compat"!==n&&t?t||null:e}},{key:"viewportHeight",get:function(){var e=_(this._document,"documentElement","clientHeight"),t=_(this._document,"body","clientHeight"),n=_(this._document,"compatMode");return!e||"CSS1Compat"!==n&&t?t||null:e}},{key:"screenColorDepth",get:function(){return _(this._document,"defaultView","screen","colorDepth")}},{key:"deviceOrientation",get:function(){var e=_(this._document,"defaultView","screen","orientation","type")||_(this._document,"defaultView","screen","mozOrientation","type")||_(this._document,"defaultView","screen","msOrientation","type"),t=_(this._document,"defaultView","orientation");if(r.Util.isString(e)){var n=e.match(/^(landscape|portrait)-(primary|secondary)$/);if(r.Util.isArray(n))return n[1]}else if(r.Util.isNumber(t))return 90===Math.abs(t)?"landscape":"portrait";return null}},{key:"getVal",value:function(){return _.apply(void 0,arguments)}}],(n=null)&&L(t.prototype,n),o&&L(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),P=n(2),E=function(){var e="undefined"!=typeof window?window:{},t=r.Util.normalizeToString(e.location.hostname);return/^(.+\.)?yahoo\.co\.jp\/?$/.test(t)?P.internalHost:P.externalHost};function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(e){return/^https?:\/\//.test(e)},x=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"formatParameters",value:function(e){var t={};return r.Util.isObject(e)?(Object.keys(e).forEach((function(n){var o=r.Util.snakeToLCC(n);t[o]=e[n]})),t):t}},{key:"campaign",get:function(){var e=this,t="undefined"!=typeof window?window:{};T.document=t.document;var n=T.pageQueryParameter,o={};return null===n||["cpt_s","cpt_n","cpt_m","cpt_k","cpt_c"].forEach((function(t){r.Util.isUndefined(n[t])||(o[t]=e.decodeCampaignParameter(n[t]))})),o}},{key:"decodeCampaignParameter",value:function(e){return decodeURIComponent(e.replace(/\+/g,"%20"))}},{key:"buildWritableCommonData",value:function(){var e="undefined"!=typeof window?window:{};T.document=e.document;var t={isNonInteraction:!this.defaultInteraction,dataSource:T.dataSource,pageTitle:T.pageTitle,userLanguage:T.userLanguage,screenColorDepth:T.screenColorDepth,viewportWidth:T.viewportWidth,viewportHeight:T.viewportHeight,deviceOrientation:T.deviceOrientation,screenWidth:T.screenWidth,screenHeight:T.screenHeight,useAnalyticsUid:E()!==P.internalHost};return Object.keys(t).forEach((function(e){r.Util.isNull(t[e])&&delete t[e]})),t}},{key:"buildNonWritableCommonData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{loggingId:e,loggerSdkName:T.loggerSdkName,loggerSdkVersion:T.loggerSdkVersion,hitType:this.hitType||null,clientHitTimestamp:r.Util.getTime()}}},{key:"buildRepairableCommonData",value:function(e){var t,n=e.pageUrl;r.Util.isUndefined(n)?t=T.pageUrl:r.Util.isString(n)&&!r.Util.isEmpty(n)&&N(n)?t=n:(r.CLog.warning("[BaseBuilder#run] pageUrlの値がURLとして不正です. ","http(s)://で始まる文字列を指定してください.",n),t=T.pageUrl,r.CLog.warning("[BaseBuilder#run] pageUrlの値を次の値に自動設定しました. ","必要に応じて適切な値を指定してください.",t));var o,i=e.pageReferrer;return r.Util.isUndefined(i)?o=T.pageReferrer:r.Util.isString(i)&&(r.Util.isEmpty(i)||N(i))?o=i:r.Util.isNull(i)?(r.CLog.warning("[BaseBuilder#run] pageReferrerの値がNULLになっています. 期待している値かどうか確認してください.",i),o=i):(r.CLog.warning("[BaseBuilder#run] pageReferrerの値がURLとして不正です. ","http(s)://で始まる文字列を指定してください.",i),o=T.pageReferrer,r.CLog.warning("[BaseBuilder#run] pageReferrerの値を次の値に自動設定しました. ","必要に応じて適切な値を指定してください.",o)),{pageUrl:t,pageReferrer:o}}},{key:"run",value:function(e,t,n,o,i){if(!r.Util.isString(e)||r.Util.isEmpty(e))return null;r.CLog.debug("[BaseBuilder#run] hit schema = ".concat(this.hitType,", rule ="),this.rule);var u=this.buildWritableCommonData(),a=this.formatParameters(this.campaign),l=this.formatParameters(t),c=this.formatParameters(n),s=this.formatParameters(o),f=this.formatParameters(i),d=this.buildNonWritableCommonData(e);d.hitSequence=s.hitSequence,d.pvid=c.pvid,r.CLog.debug("[BaseBuilder#run] common =",u,"campaign = ",a,"builder =",l,"base =",c,"tracker =",s,"hit =",f,"non_writable =",d);var p=r.Util.merge(u,a,l,c,s,f,d),g=this.buildRepairableCommonData(p);return r.CLog.debug("[BaseBuilder#run] repaired = ",g),k.run(this.rule,r.Util.merge(p,g))}}],(n=null)&&A(t.prototype,n),o&&A(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),I={hitType:{short:"ht",type:"string"},loggingId:{short:"lid",type:"string"},clientHitTimestamp:{short:"cht",type:"number"},loggerSdkName:{short:"lsn",type:"string"},loggerSdkVersion:{short:"lsv",type:"string"},isNonInteraction:{short:"ini",type:"boolean"},pageUrl:{short:"pu",type:"string"},pageReferrer:{short:"pr",type:"string"},pageTitle:{short:"pt",type:"string"},userLanguage:{short:"ul",type:"string"},dataSource:{short:"ds",type:"string"},screenWidth:{short:"sw",type:"number"},screenHeight:{short:"sh",type:"number"},viewportWidth:{short:"vw",type:"number"},viewportHeight:{short:"vh",type:"number"},screenColorDepth:{short:"scd",type:"number"},deviceOrientation:{short:"do",type:"string"},hitSequence:{short:"hs",type:"number"},pvid:{short:"pvid",type:"string"},dim:{short:"cud",type:"string",numbered:!0},aui:{short:"aui",type:"string"},useAnalyticsUid:{short:"uaui",type:"boolean"},mtestid:{short:"mti",type:"string"},cptS:{short:"cps",type:"string"},cptN:{short:"cpn",type:"string"},cptM:{short:"cpm",type:"string"},cptK:{short:"cpk",type:"string"},cptC:{short:"cpc",type:"string"}};function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=F(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function F(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}function H(e,t){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=r.Util.deepCopy(I),z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(i,e);var t,n,r,o=q(i);function i(){return D(this,i),o.apply(this,arguments)}return t=i,r=[{key:"hitType",get:function(){return"pageview"}},{key:"rule",get:function(){return Y}},{key:"defaultInteraction",get:function(){return!0}},{key:"run",value:function(e,t,n,r){return M(W(i),"run",this).call(this,e,{},t,n,r)}}],(n=null)&&B(t.prototype,n),r&&B(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(x),Z={navigationStart:{short:"ns",type:"number",env:"new",defaultZero:!1},unloadEventStart:{short:"ues",type:"number",env:"old",defaultZero:!0},unloadEventEnd:{short:"uee",type:"number",env:"old",defaultZero:!0},redirectStart:{short:"rds",type:"number",env:"old",defaultZero:!0},redirectEnd:{short:"rde",type:"number",env:"old",defaultZero:!0},fetchStart:{short:"fs",type:"number",env:"old",defaultZero:!1},domainLookupStart:{short:"dls",type:"number",env:"old",defaultZero:!1},domainLookupEnd:{short:"dle",type:"number",env:"old",defaultZero:!1},connectStart:{short:"cs",type:"number",env:"old",defaultZero:!1},connectEnd:{short:"ce",type:"number",env:"old",defaultZero:!1},secureConnectionStart:{short:"scs",type:"number",env:"old",defaultZero:!1},requestStart:{short:"rqs",type:"number",env:"new",defaultZero:!1},responseStart:{short:"rs",type:"number",env:"new",defaultZero:!1},responseEnd:{short:"re",type:"number",env:"old"},domLoading:{short:"dl",type:"number",env:"old",defaultZero:!1},domInteractive:{short:"di",type:"number",env:"new",defaultZero:!1},domContentLoadedEventStart:{short:"dcles",type:"number",env:"new",defaultZero:!1},domContentLoadedEventEnd:{short:"dclee",type:"number",env:"new",defaultZero:!1},domComplete:{short:"dc",type:"number",env:"new",defaultZero:!1},loadEventStart:{short:"les",type:"number",env:"new",defaultZero:!0},loadEventEnd:{short:"lee",type:"number",env:"new",defaultZero:!0}};function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(){return(X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ee(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function ee(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}function te(e,t){return(te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var o=oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=r.Util.merge(I,Z),ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(u,e);var t,n,o,i=ne(u);function u(){return $(this,u),i.apply(this,arguments)}return t=u,o=[{key:"hitType",get:function(){return"timing"}},{key:"rule",get:function(){return ie}},{key:"defaultInteraction",get:function(){return!1}},{key:"buildNonWritableCommonData",value:function(e){return r.Util.merge(X(oe(u),"buildNonWritableCommonData",this).call(this,e),{isNonInteraction:!this.defaultInteraction})}},{key:"run",value:function(e,t,n,o){var i=this.timing;return r.Util.isNull(i)?null:X(oe(u),"run",this).call(this,e,i,t,n,o)}},{key:"timing",get:function(){var e=this,t="undefined"!=typeof window?window:{};if("object"!==Q(t)||r.Util.isNull(t))return null;var n=t.performance||t.webkitPerformance,o={};return r.Util.isEmpty(n)||r.Util.isEmpty(n.timing)?null:(Object.keys(this.rule).forEach((function(t){if(r.Util.isEmpty(n.timeOrigin))r.Util.isUndefined(n.timing[t])||(o[t]=n.timing[t]);else if("navigationStart"!==t){if("new"===e.rule[t].env){if(r.Util.isUndefined(n.getEntriesByType)&&!r.Util.isFunction(n.getEntriesByType))return;var i=G(n.getEntriesByType("navigation"),1)[0];if(!r.Util.isEmpty(i)&&!r.Util.isUndefined(i[t]))return e.rule[t].defaultZero&&0===i[t]?void(o[t]=0):void(o[t]=Math.round(i[t]+n.timeOrigin))}"old"!==e.rule[t].env||r.Util.isUndefined(n.timing[t])||(o[t]=n.timing[t])}else o[t]=Math.round(n.timeOrigin)})),o)}}],(n=null)&&J(t.prototype,n),o&&J(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(x),ae={name:{short:"tn",type:"string"},action:{short:"ta",type:"string"},category:{short:"tc",type:"string"},value:{short:"tv",type:"number"}};function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(){return(fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=de(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function de(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}function pe(e,t){return(pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=r.Util.merge(I,ae),ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(i,e);var t,n,r,o=ge(i);function i(){return ce(this,i),o.apply(this,arguments)}return t=i,r=[{key:"hitType",get:function(){return"timing"}},{key:"rule",get:function(){return me}},{key:"defaultInteraction",get:function(){return!1}},{key:"run",value:function(e,t,n,r){return fe(he(i),"run",this).call(this,e,{},t,n,r)}}],(n=null)&&se(t.prototype,n),r&&se(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(x),be={name:{short:"en",type:"string"},action:{short:"ea",type:"string"},category:{short:"ec",type:"string"},value:{short:"ev",type:"number"},items:{short:"itms",type:"array",childRule:{itemId:{short:"id",type:"string"},itemName:{short:"name",type:"string"},itemType:{short:"type",type:"string"},itemBrand:{short:"brand",type:"string"},itemCategory1:{short:"cat1",type:"string"},itemCategory2:{short:"cat2",type:"string"},itemCategory3:{short:"cat3",type:"string"},itemCategory4:{short:"cat4",type:"string"},itemCategory5:{short:"cat5",type:"string"},itemPrice:{short:"price",type:"number"},itemDiscount:{short:"disc",type:"number"},itemQuantity:{short:"qty",type:"number"},itemVariant:{short:"var",type:"string"},itemPosition:{short:"pos",type:"number"},itemProvider:{short:"prov",type:"string"},itemState:{short:"state",type:"string"},itemExtraInfo:{short:"exinfo",type:"object"}}},itemName:{short:"inm",type:"string"},itemListName:{short:"iln",type:"string"},conversionName:{short:"cn",type:"string"},conversionValue:{short:"cv",type:"number"}};function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(){return(ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Se(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Se(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_e(e)););return e}function je(e,t){return(je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Le(this,n)}}function Le(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te=r.Util.merge(I,be),Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}(i,e);var t,n,r,o=Ue(i);function i(){return Ce(this,i),o.apply(this,arguments)}return t=i,r=[{key:"hitType",get:function(){return"event"}},{key:"rule",get:function(){return Te}},{key:"defaultInteraction",get:function(){return!0}},{key:"run",value:function(e,t,n,r){return ke(_e(i),"run",this).call(this,e,{},t,n,r)}}],(n=null)&&Oe(t.prototype,n),r&&Oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(x);function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ae=y.getInstance(),Ne={pageview:z,timing:ve,webPerformance:ue,event:Pe},xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"getHitBuilder",value:function(e){var t=r.Util.snakeToLCC(e);return!r.Util.isString(t)||r.Util.isUndefined(Ne[t])?(r.CLog.error("[HitCommander#getHitBuilder] 不正なイベント名",t),null):(r.CLog.debug("[HitCommander#getHitBuilder] ".concat(t," builder is finded.")),Ne[t])}},{key:"run",value:function(){var e,t,n,o=this,i=arguments.length;if(this.isFlush=!1,r.Util.isString(arguments.length<=0?void 0:arguments[0])&&r.Util.isString(arguments.length<=1?void 0:arguments[1])&&(2===i||3===i&&r.Util.isObject(arguments.length<=2?void 0:arguments[2])))e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=r.Util.isObject(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:{};else{if(!r.Util.isString(arguments.length<=0?void 0:arguments[0])||!(1===i||2===i&&r.Util.isObject(arguments.length<=1?void 0:arguments[1])))return void r.CLog.error("[HitCommander#run] 不正な引数の指定");t=arguments.length<=0?void 0:arguments[0],n=r.Util.isObject(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:{}}var u=this.formatConfig(n);t.split(",").forEach((function(t){var i=o.getHitBuilder(t.trim());if(null!==i){if(i===ue){var l=ue.timing;return r.Util.isNull(l)?void r.CLog.debug("[HitCommander#run] timing object not exist."):(r.CLog.debug("[HitCommander#run] window onload is not over yet, wait a moment"),void function t(o){var l=ue.timing;if(r.Util.isUndefined(l.loadEventEnd)||l.loadEventEnd>0)return r.CLog.debug("[HitCommander#run] window onload was over."),o.generate(i,e,n),void a.a.flush(u.eventCallback);setTimeout(t,100,o)}(o))}o.generate(i,e,n)}})),this.isFlush&&!0!==u.nonFlush&&(a.a.flush(u.eventCallback),r.CLog.info("[HitCommander#run] フラッシュ完了"))}},{key:"generate",value:function(e,t,n){var o=this,i=Ae.getBaseParameters(),u=Ae.getTrackerParameters(t);r.CLog.debug("[HitCommander#generate] Fire ".concat(e.schemaName,", ")+"LoggingIDs are [".concat(Object.keys(u),"]")),Object.keys(u).forEach((function(t){var l=e.run(t,i,u[t],n);r.Util.isNull(l)?r.CLog.error("[HitCommander#generate] ログ生成失敗\nLoggingID=".concat(t,", ")+"EventName=".concat(e.schemaName,", options=").concat(n)):(a.a.send({token:Ae.tokens[t],project:"ya",dataset:t,data:l}),o.isFlush=!0,r.CLog.info("[HitCommander#generate] ログ登録完了",l))}))}},{key:"formatConfig",value:function(e){var t=["nonFlush","eventCallback"],n={};return Object.keys(e).forEach((function(o){t.indexOf(r.Util.snakeToLCC(o))>-1&&(n[r.Util.snakeToLCC(o)]=e[o])})),n}}],(n=null)&&Ee(t.prototype,n),o&&Ee(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Re=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"run",value:function(e){r.Util.isObject(e)?y.getInstance().setBaseParameters(e):r.CLog.error("[GlobalCommander#run] 不正な引数の指定")}}],(n=null)&&Ie(t.prototype,n),o&&Ie(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Be=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n="undefined"!=typeof document?document:{};this.isStart=!1,this.targets=[],this.title=n.title||null,this.url=n.URL||null,this.referrer=n.referrer||null,this.options=this.optionsFormater(t)}var t,n,o;return t=e,(n=[{key:"addTarget",value:function(e){if("undefined"!=typeof document){var t=document.URL,n=r.Util.isString(e)?e:"default";r.CLog.debug("[BaseObserver#addTarget] ".concat(n," added. spa tracking.")),-1===this.targets.indexOf(n)&&(this.targets.push(n),this.options.initPageview&&(b.run(n,{pageReferrer:this.referrer}),xe.run(n,"pageview,webPerformance"),this.referrer=t))}else r.CLog.warning("[BaseObserver#fire] Document object not found.")}},{key:"fire",value:function(){var e=this;if("undefined"!=typeof document){var t=document,n=t.URL,o=t.title,i=t.URL;this.options.requireUrlChange&&this.url===n?r.CLog.debug("[BaseObserver#fire] not url changed."):this.options.requireTitleChange&&this.title===o?r.CLog.debug("[BaseObserver#fire] not title changed."):this.options.requireNonEmptyTitle&&r.Util.isEmpty(o)?r.CLog.debug("[BaseObserver#fire] title is empty."):(this.targets.forEach((function(t){b.run(t,{pageReferrer:e.referrer}),xe.run(t,"pageview"),r.CLog.info("[BaseObserver#fire] ".concat(t," へ自動PVを送信しました."))})),this.title=o,this.url=n,this.referrer=i,r.Util.isFunction(this.options.pvCallback)&&this.options.pvCallback())}else r.CLog.warning("[BaseObserver#fire] Document object not found.")}},{key:"optionsFormater",value:function(e){var t=r.Util.isObject(e)?e:{},n={};return Object.keys(t).forEach((function(e){var o=r.Util.snakeToLCC(e);n[o]=t[e]})),n.initPageview=!r.Util.isBoolean(n.initPageview)||n.initPageview,n.requireUrlChange=!!r.Util.isBoolean(n.requireUrlChange)&&n.requireUrlChange,n.requireTitleChange=!!r.Util.isBoolean(n.requireTitleChange)&&n.requireTitleChange,n.requireNonEmptyTitle=!r.Util.isBoolean(n.requireNonEmptyTitle)||n.requireNonEmptyTitle,n.minElapsedTime=r.Util.isNumber(n.minElapsedTime)?n.minElapsedTime:0,n.interval=r.Util.isNumber(n.interval)?n.interval:200,n}}])&&De(t.prototype,n),o&&De(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(){return(He="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qe(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function qe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ze(e)););return e}function Ve(e,t){return(Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var o=ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}(u,e);var t,n,o,i=We(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return t=u,(n=[{key:"start",value:function(e){if(this.addTarget(e),this.isStart)r.CLog.warning("[TitleObserver#start] already started.");else if("undefined"!=typeof document){var t=document.querySelector("title");null!==t?("undefined"!=typeof MutationObserver?(this.observer=new MutationObserver(this.fire.bind(this)),this.observer.observe(t,{childList:!0,characterData:!0,subtree:!0}),r.CLog.debug("[TitleObserver#start] use MutationObserver.")):(t.addEventListener("DOMSubtreeModified",this.fire.bind(this)),r.CLog.debug("[TitleObserver#start] use dom event listener.")),this.isStart=!0):r.CLog.warning("[TitleObserver#start] title element not found.")}else r.CLog.warning("[TitleObserver#start] document object not found.")}},{key:"fire",value:function(){var e=this;r.CLog.debug("[TitleObserver#fire] run processing."),this.options.minElapsedTime>0?setTimeout((function(){He(ze(u.prototype),"fire",e).call(e)}),this.options.minElapsedTime):He(ze(u.prototype),"fire",this).call(this)}}])&&Fe(t.prototype,n),o&&Fe(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(Be);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(){return(Qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=$e(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function $e(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tt(e)););return e}function Je(e,t){return(Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}(u,e);var t,n,o,i=Xe(u);function u(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,e)}return t=u,(n=[{key:"start",value:function(e){this.addTarget(e),this.isStart||(this.isStart=!0,this.fire(),r.CLog.debug("[Polling#start] start success."))}},{key:"fire",value:function(){var e=this;r.CLog.debug("[Polling#fire] run processing."),Qe(tt(u.prototype),"fire",this).call(this),this.isStart&&setTimeout((function(){e.fire()}),this.options.interval)}}])&&Ke(t.prototype,n),o&&Ke(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(Be);function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ot=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"run",value:function(){var e,t,n;if(2===arguments.length&&r.Util.isString(arguments.length<=0?void 0:arguments[0]))e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];else{if(1!==arguments.length)return void r.CLog.error("[SpaCommander#run] 不正な引数の指定");t=arguments.length<=0?void 0:arguments[0]}if(r.Util.isObject(t)&&r.Util.isString(t.method)){if("titleObserver"===t.method)n=new Ze(t);else{if("polling"!==t.method)return void r.CLog.error("[SpaCommander#run] 予期しないSPAメソッドの指定",t.method);n=new nt(t)}n.start(e),r.Util.isArray(this.observers)||(this.observers=[]),this.observers.push(n),r.CLog.info("[SpaCommander#run] 自動PVモードを適用しました, "+"target = [".concat(e,"]. method = ").concat(t.method))}else r.CLog.error("[SpaCommander#run] SPAメソッドの指定がありません")}}],(n=null)&&rt(t.prototype,n),o&&rt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var at=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"run",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!r.Util.isString(e)||r.Util.isEmpty(e)?(r.CLog.error("[ConfigCommander#run] サブコマンドの型または値が不正",e,"type: ".concat(it(e))),!1):r.Util.isFunction(this[e])?(this[e](t),!0):(r.CLog.error("[ConfigCommander#run] 未定義のサブコマンド",e),!1)}},{key:"accessToken",value:function(e){a.a.setAccessToken(e),r.CLog.info("[ConfigCommander#run] set access token.",e)}}],(n=null)&&ut(t.prototype,n),o&&ut(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ct=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"run",value:function(e){r.Util.isFunction(e)?e(a.a):r.CLog.error("[CoreLoggerCommander#run] 引数がfunctionではありません")}}],(n=null)&&lt(t.prototype,n),o&&lt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ft=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"run",value:function(){for(var e={},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(r.Util.isObject(n[0])?e=n[0]:n.length>=2&&r.Util.isString(n[0])&&(e[n[0]]=n[1]),r.Util.findKey(e,"log_level")){var i=e.log_level;"debug"===i||4===i?r.CLog.logLevel=4:"info"===i||3===i?r.CLog.logLevel=3:"warning"===i||2===i?r.CLog.logLevel=2:"critical"===i||1===i?r.CLog.logLevel=1:"none"!==i&&0!==i||(r.CLog.logLevel=0)}}}],(n=null)&&st(t.prototype,n),o&&st(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(pt(this,e),t&&"object"===dt(t)&&t.nodeName){this.element=t;var o=this.extractItemData(t);r.Util.isObject(n)?this.itemData=r.Util.merge(o,n):(r.CLog.warning("[ItemSection#constructor] params が不正な値"),this.itemData=o)}else r.CLog.warning("[ItemSection#constructor] element が不正な値")}var t,n,o;return t=e,(n=[{key:"extractItemData",value:function(e){var t={};if(!e||"object"!==dt(e)||!e.dataset||!e.dataset.yaItemSec)return r.CLog.warning("[ItemSection#extractItemData] セクションのデータ属性が未定義 または不正な値"),t;try{if(e.dataset.yaItemSec){var n=JSON.parse(e.dataset.yaItemSec);(t=r.Util.merge(t,n)).action="view_item_list",t.items=this.extractItemDetailsData(e)}}catch(e){r.CLog.error("[ItemSection#extractItemData] セクションのデータ属性が不正な値",e)}return t}},{key:"extractItemDetailsData",value:function(e){var t=[];return"object"!==dt(e)||"function"!=typeof e.getElementsByTagName?(r.CLog.warning("[ItemSection#extractItemDetailsData] element が不正な値"),t):(["a","button","input"].forEach((function(n){var o=e.getElementsByTagName(n);Array.prototype.slice.call(o).forEach((function(e){if(e.dataset&&e.dataset.yaItemDetail)try{var n={};if(e.dataset.yaItemDetail){var o=JSON.parse(e.dataset.yaItemDetail);n=r.Util.merge(n,o)}t.push(n)}catch(e){r.CLog.error("[ItemSection#extractItemDetailsData] アイテムのデータ属性が不正な値",e)}else r.CLog.warning("[ItemSection#extractItemDetailsData] セクションのデータ属性が未定義")}))})),t)}},{key:"sendEventLog",value:function(e,t){r.Util.isObject(e)?xe.run(t,"event",e):r.CLog.warning("[ItemSection#sendEventLog] 不正な引数（itemData）の指定",e)}}])&&gt(t.prototype,n),o&&gt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bt={init:m,param:b,hit:xe,debug:ft,spa:ot,config:at,item:function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"run",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=this.filterArgs(t),i=o.target,u=o.subCommand,a=o.trackingKey;r.Util.isFunction(this[u])?this[u](a,i):r.CLog.error("[ItemCommander#run] 未定義のサブコマンド",u)}},{key:"trackSections",value:function(e,t){e&&Array.isArray(e)?e.forEach((function(e){if(r.Util.isString(e)){var n=document.getElementById(e);if(n){var o=new yt(n);o.sendEventLog(o.itemData,t)}else r.CLog.info("[ItemCommander#trackSections] 指定された id の要素を発見できません",e)}else r.Util.isObject(e)?Object.keys(e).forEach((function(n){var o=document.getElementById(n);if(o){var i=new yt(o,e[n]);i.sendEventLog(i.itemData,t)}else r.CLog.info("[ItemCommander#trackSections] 指定された id の要素を発見できません",n)})):r.CLog.error("[ItemCommander#trackSections] section が不正な値",e)})):r.CLog.error("[ItemCommander#trackSections] sections が不正な値",e)}},{key:"trackSectionsClass",value:function(e,t){e||(e="ya_item_track");var n=document.getElementsByClassName(e);n?Array.prototype.slice.call(n).forEach((function(e){var n=new yt(e);n.sendEventLog(n.itemData,t)})):r.CLog.info("[ItemCommander#trackSections] 指定された class の要素を発見できません",e)}},{key:"filterArgs",value:function(e){var t={target:"",subCommand:"",trackingKey:""};return!e||0===e.length||3<e.length?(r.CLog.error("[ItemCommander#filterArgs] 不正な引数の指定"),t):1===e.length?r.Util.isString(e[0])?(t.subCommand=e[0],t):(r.CLog.error("[ItemCommander#filterArgs] 不正な引数の指定"),t):2===e.length?r.Util.isString(e[0])&&(r.Util.isString(e[1])||r.Util.isArray(e[1]))?(r.Util.isFunction(this[e[0]])?(t.subCommand=e[0],t.trackingKey=e[1]):(t.target=e[0],t.subCommand=e[1]),t):(r.CLog.error("[ItemCommander#filterArgs] 不正な引数の指定"),t):3===e.length?r.Util.isString(e[0])&&(r.Util.isString(e[1])||r.Util.isArray(e[1]))&&(r.Util.isString(e[2])||r.Util.isArray(e[2]))?(t.target=e[0],t.subCommand=e[1],t.trackingKey=e[2],t):(r.CLog.error("[ItemCommander#filterArgs] 不正な引数の指定"),t):t}}],(n=null)&&ht(t.prototype,n),o&&ht(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),global:Re,"core-logger":ct},wt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0!==t.length){var o=t[0],i=t.slice(1);if(r.Util.findKey(bt,o)&&r.Util.isFunction(bt[o].run))try{var u;(u=bt[o]).run.apply(u,mt(i))}catch(e){var a=r.Util.merge(r.Browser.generateMetrics(e,o),{tk:P.errMetrics.tk,p:P.errMetrics.pj,d:P.errMetrics.ds}),l=r.Util.urlQueryBuild(a);r.Browser.createImageTag("https://".concat(E(),"/api/v1/clear.gif?").concat(l))}else r.CLog.warning("[ya] 指定されたコマンドが見つかりません",o)}else r.CLog.warning("[ya] コマンドが指定されてません")};function Ct(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=wt;r.CLog.prefix="[YA]";var kt="undefined"!=typeof window?window:{};if(r.Util.is("Window",kt)&&r.Util.isString(kt.location.href)){var St=location.href.match(/yadebug=(\d)/);r.Util.isNull(St)||(r.CLog.logLevel=r.Util.normalizeToNumber(St[1]))}a.a.setBeaconServer(E()),r.Util.isArray(kt.yacmds)&&kt.yacmds.forEach((function(e){e=Array.prototype.slice.call(e),r.CLog.debug("ya() called from command queue.",e),wt.apply(void 0,Ct(e))}))}]).default}));
</script>

</body>
</html>
