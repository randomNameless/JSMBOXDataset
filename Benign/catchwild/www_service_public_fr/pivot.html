<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pivot.html</title>
</head>
<body>

<script>
define(["jquery","entreprendre/persogeo/components/constants","entreprendre/persogeo/components/markup"],function(e,t,s){"use strict";function n(e){var t=e.clone();return t.attr("data-persogeo","pivot-cloned"),e.next().is('[data-persogeo="pivot-cloned"]')?t.insertAfter(e.nextAll('[data-persogeo="pivot-cloned"]').last()):t.insertAfter(e),t}function a(e,t,a,d,r){return e.is('[data-persogeo="pivot-selected"]')?e=n(e):e.attr("data-persogeo","pivot-selected"),t+=s.build(a,d,e),e.data("defaultContent",e.html()),r.desc=e.children("[data-persogeo=desc-organisme]").text(),r.title=e.children("[data-persogeo=where-section-title]").first().text(),e.html(t),r}function d(s,n,d){var r=e.fn.a11y.uniqueId("ui-collapse"),i={title:"",desc:""};return s.is("[data-type-organisme='"+t.KEYWORD.LOCAL_PERSONNALISE_SUR_SP+"'][data-for="+n+"]")&&(i=a(s,"",r,d,i)),i}function r(e,t,s){var n=e.find(".Message").attr("id");e.find(".fr-input").removeAttr("aria-describedby"),e.find(".fr-input").attr("aria-describedby",n);var a=e.find("[data-pivot="+t+"]"),d=!1;"listeOuSAdresser"===a.parent().attr("data-liste-ousadresser-id")&&(d=!0),a.parent().removeClass("sp-vhidden"),a.parent().parent().removeClass("sp-vhidden"),e.find(".fr-mb-1w").removeClass("sp-vhidden"),e.find(".sp-geo-search-result").removeClass("sp-vhidden"),e.find(".sp-geo").removeClass("sp-vhidden"),a.wrapAll("<li  data-persogeo='pivot-content' id='id-li-"+t+"' />"),a.wrapAll("<ul id='id-ul-"+t+"' "+(d?"data-liste-ousadresser-id='listeOuSAdresser'":"")+"/>"),s.desc&&(a.parent("ul").parent("li").prepend("<p class='desc-organisme' data-persogeo='description'>"+s.desc+"</p>"),a.parent("ul").parent("li").find("[data-persogeo=pivot-selected]").attr("role","presentation")),s.title&&a.parent("ul").parent("li").prepend("<h3 data-persogeo='title' class='where-section-title'>"+s.title+"</h3>")}function i(e){e.find("div.sp-panel").addClass("sp-panel-open"),e.find("button.sp-btn-collapse").attr("aria-expanded","true"),e.find("button.sp-btn-collapse").addClass("sp-vhidden"),e.find("button.sp-btn-collapse").removeClass("collapsed"),e.find("span.fr-text--bold[data-titre-sans-collapse]").removeClass("sp-vhidden"),e.find("div.sp-panel-content").addClass("show"),e.find("div.sp-panel-content").attr("aria-hidden","false")}function o(e){e.find("[data-ousadresser-div=listeOuSAdresser] div.sp-panel").removeClass("sp-panel-open"),e.find("button.sp-btn-collapse").attr("aria-expanded","false"),e.find("button.sp-btn-collapse").removeClass("sp-vhidden"),e.find("button.sp-btn-collapse").addClass("collapsed"),e.find("span.fr-text--bold[data-titre-sans-collapse]").addClass("sp-vhidden"),e.find("div.sp-panel-content").removeClass("show"),e.find("div.sp-panel-content").attr("aria-hidden","true")}function p(e){1===e.find(".sp-link-geo").length?i(e):o(e)}return{render:d,expandOrCollapseResults:p,wrapAndDescribePivotsInContainer:r}});
</script>

</body>
</html>
