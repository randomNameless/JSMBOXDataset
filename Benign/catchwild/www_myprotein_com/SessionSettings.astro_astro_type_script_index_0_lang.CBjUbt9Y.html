<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SessionSettings.astro_astro_type_script_index_0_lang.CBjUbt9Y.html</title>
</head>
<body>

<script>
import{k as ys,s as Es,g as Gt,a as An,l as Ss,m as Pn,r as Ts,f as Is,h as ks,i as Ls,j as xs}from"./GlobalDispatchAndDateCountdownWidget.astro_astro_type_script_index_0_lang.DJu3yDdL.js";import{g as lt,u as ne,f as pe,d as Os,t as gt}from"./index.CT4hP_Fn.js";function le(e,t){return typeof e===t}function vt(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function di(e,t){try{return e instanceof t}catch{return!1}}const Ge=e=>le(e,"null"),li=e=>le(e,"string"),_s=e=>le(e,"number")&&!isNaN(e)||le(e,"bigint"),he=e=>!Ge(e)&&le(e,"object"),ui=e=>le(e,"function"),qe=e=>vt(e,"Array"),As=e=>!he(e)&&!ui(e),Ps=typeof Event<"u",Ns=e=>Ps&&di(e,Event),Ms=typeof Error<"u",fi=e=>Ms&&di(e,Error),Cs=e=>vt(e,"ErrorEvent"),Bs=e=>vt(e,"DOMError"),Rs=e=>vt(e,"DOMException");function Le(e,t){if(e===t)return!0;if(le(e,"number")&&isNaN(e))return le(t,"number")&&isNaN(t);const n=qe(e),i=qe(t);if(n!==i)return!1;if(n&&i){const a=e.length;if(a!==t.length)return!1;for(let r=a;r--!==0;)if(!Le(e[r],t[r]))return!1;return!0}const s=he(e),o=he(t);if(s!==o)return!1;if(e&&t&&s&&o){const a=Object.keys(e),r=Object.keys(t),c=a.length,p=r.length;if(c!==p)return!1;for(let u of a)if(!r.includes(u))return!1;for(let u of a)if(!Le(e[u],t[u]))return!1;return!0}return!1}function bt(){return Date.now()}function wt(){return new Date().toISOString()}function yt(e){return new Date(e).toISOString()}var F;(function(e){e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.LOG="log",e.WARN="warn",e.ERROR="error"})(F||(F={}));const Ds=F.LOG,Fs=[F.TRACE,F.DEBUG,F.INFO,F.LOG,F.WARN,F.ERROR];function ee(){}function js(e){const{size:t,concurrency:n}=e,i=[];let s=0;const o=()=>{if(s<n&&i.length){const{producer:r,resolve:c,reject:p}=i.shift();s++,r().then(u=>{s--,o(),c(u)},u=>{s--,o(),p(u)})}};return{add:r=>{if(i.length+s>=t)throw new Error("Task buffer full");return new Promise((c,p)=>{i.push({producer:r,resolve:c,reject:p}),o()})}}}const Nn="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789";function Et(e=10){return Array.from(Array(e)).map(()=>Nn[Math.floor(Math.random()*Nn.length)]).join("")}const fe=typeof globalThis<"u"?globalThis:typeof global<"u"?global:typeof self<"u"?self:void 0;function Us(e){return fe?.[`__faroBundleId_${e}`]}const $s=250,zs=50;class qs{constructor(t,n){var i,s;this.signalBuffer=[],this.itemLimit=(i=n?.itemLimit)!==null&&i!==void 0?i:zs,this.sendTimeout=(s=n?.sendTimeout)!==null&&s!==void 0?s:$s,this.paused=n?.paused||!1,this.sendFn=t,this.flushInterval=-1,this.paused||this.start(),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this.flush()})}addItem(t){this.paused||(this.signalBuffer.push(t),this.signalBuffer.length>=this.itemLimit&&this.flush())}start(){this.paused=!1,this.sendTimeout>0&&(this.flushInterval=window.setInterval(()=>this.flush(),this.sendTimeout))}pause(){this.paused=!0,clearInterval(this.flushInterval)}groupItems(t){const n=new Map;return t.forEach(i=>{const s=JSON.stringify(i.meta);let o=n.get(s);o===void 0?o=[i]:o=[...o,i],n.set(s,o)}),Array.from(n.values())}flush(){if(this.paused||this.signalBuffer.length===0)return;this.groupItems(this.signalBuffer).forEach(this.sendFn),this.signalBuffer=[]}}var P;(function(e){e.EXCEPTION="exception",e.LOG="log",e.MEASUREMENT="measurement",e.TRACE="trace",e.EVENT="event"})(P||(P={}));const Vs={[P.EXCEPTION]:"exceptions",[P.LOG]:"logs",[P.MEASUREMENT]:"measurements",[P.TRACE]:"traces",[P.EVENT]:"events"};function Ws(e,t){return e.some(n=>li(n)?t.includes(n):!!t.match(n))}function Hs(e){return t=>{if(t.type===P.EXCEPTION&&t.payload){const n=t.payload,i=`${n.type}: ${n.value}`;if(Ws(e,i))return null}return t}}function Gs(e,t,n,i){var s;t.debug("Initializing transports");const o=[];let a=n.paused,r=[];const c=(...k)=>{t.debug("Adding transports"),k.forEach(v=>{if(t.debug(`Adding "${v.name}" transport`),o.some(B=>B===v)){t.warn(`Transport ${v.name} is already added`);return}v.unpatchedConsole=e,v.internalLogger=t,v.config=n,v.metas=i,o.push(v)})},p=(...k)=>{t.debug(`Adding beforeSendHooks
`,r),k.forEach(v=>{v&&r.push(v)})},u=(...k)=>{t.debug(`Adding ignoreErrorsPatterns
`,k),k.forEach(v=>{v&&r.push(Hs(v))})},f=k=>{let v=k;for(const M of r){const B=v.map(M).filter(Boolean);if(B.length===0)return[];v=B}return v},d=k=>{const v=f(k);if(v.length!==0)for(const M of o)t.debug(`Transporting item using ${M.name}
`,v),M.isBatched()&&M.send(v)},m=k=>{var v,M;if(!((v=n.batching)===null||v===void 0)&&v.enabled&&o.every(j=>j.isBatched()))return;const[B]=f([k]);if(B!==void 0)for(const j of o)t.debug(`Transporting item using ${j.name}
`,B),j.isBatched()?!((M=n.batching)===null||M===void 0)&&M.enabled||j.send([B]):j.send(B)};let l;return!((s=n.batching)===null||s===void 0)&&s.enabled&&(l=new qs(d,{sendTimeout:n.batching.sendTimeout,itemLimit:n.batching.itemLimit,paused:a})),{add:c,addBeforeSendHooks:p,addIgnoreErrorsPatterns:u,getBeforeSendHooks:()=>[...r],execute:k=>{var v;a||(!((v=n.batching)===null||v===void 0)&&v.enabled&&l?.addItem(k),m(k))},isPaused:()=>a,pause:()=>{t.debug("Pausing transports"),l?.pause(),a=!0},remove:(...k)=>{t.debug("Removing transports"),k.forEach(v=>{t.debug(`Removing "${v.name}" transport`);const M=o.indexOf(v);if(M===-1){t.warn(`Transport "${v.name}" is not added`);return}o.splice(M,1)})},removeBeforeSendHooks:(...k)=>{r.filter(v=>!k.includes(v))},get transports(){return[...o]},unpause:()=>{t.debug("Unpausing transports"),l?.start(),a=!1}}}var ae;(function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.VERBOSE=4]="VERBOSE"})(ae||(ae={}));const Ks="Faro",nn={debug:ee,error:ee,info:ee,prefix:Ks,warn:ee},mi=ae.ERROR,St=Object.assign({},console);let Ft=St;function Js(e){var t;return Ft=(t=e.unpatchedConsole)!==null&&t!==void 0?t:Ft,Ft}function pi(e=St,t=mi){const n=nn;return t>ae.OFF&&(n.error=t>=ae.ERROR?function(...i){e.error(`${n.prefix}
`,...i)}:ee,n.warn=t>=ae.WARN?function(...i){e.warn(`${n.prefix}
`,...i)}:ee,n.info=t>=ae.INFO?function(...i){e.info(`${n.prefix}
`,...i)}:ee,n.debug=t>=ae.VERBOSE?function(...i){e.debug(`${n.prefix}
`,...i)}:ee),n}let Mn=nn;function Xs(e,t){return Mn=pi(e,t.internalLoggerLevel),Mn}class hi{constructor(){this.unpatchedConsole=St,this.internalLogger=nn,this.config={},this.metas={}}logDebug(...t){this.internalLogger.debug(`${this.name}
`,...t)}logInfo(...t){this.internalLogger.info(`${this.name}
`,...t)}logWarn(...t){this.internalLogger.warn(`${this.name}
`,...t)}logError(...t){this.internalLogger.error(`${this.name}
`,...t)}}class Ys extends hi{isBatched(){return!1}getIgnoreUrls(){return[]}}function Zs(e){e.transports.add(...e.config.transports),e.transports.addBeforeSendHooks(e.config.beforeSend),e.transports.addIgnoreErrorsPatterns(e.config.ignoreErrors)}function Qs(e,t){var n,i;if(t===void 0)return e;if(e===void 0)return{resourceSpans:t};const s=(n=e.resourceSpans)===null||n===void 0?void 0:n[0];if(s===void 0)return e;const o=s?.scopeSpans||[],a=((i=t?.[0])===null||i===void 0?void 0:i.scopeSpans)||[];return Object.assign(Object.assign({},e),{resourceSpans:[Object.assign(Object.assign({},s),{scopeSpans:[...o,...a]})]})}function eo(e){let t={meta:{}};return e[0]!==void 0&&(t.meta=e[0].meta),e.forEach(n=>{switch(n.type){case P.LOG:case P.EVENT:case P.EXCEPTION:case P.MEASUREMENT:const i=Vs[n.type],s=t[i];t=Object.assign(Object.assign({},t),{[i]:s===void 0?[n.payload]:[...s,n.payload]});break;case P.TRACE:t=Object.assign(Object.assign({},t),{traces:Qs(t.traces,n.payload.resourceSpans)});break}}),t}function to(e,t,n,i,s,o){let a=null;return{pushEvent:(c,p,u,{skipDedupe:f,spanContext:d,timestampOverwriteMs:m}={})=>{try{const l={meta:i.value,payload:{name:c,domain:u??n.eventDomain,attributes:p,timestamp:m?yt(m):wt(),trace:d?{trace_id:d.traceId,span_id:d.spanId}:o.getTraceContext()},type:P.EVENT},h={name:l.payload.name,attributes:l.payload.attributes,domain:l.payload.domain};if(!f&&n.dedupe&&!Ge(a)&&Le(h,a)){t.debug(`Skipping event push because it is the same as the last one
`,l.payload);return}a=h,t.debug(`Pushing event
`,l),s.execute(l)}catch(l){t.error("Error pushing event",l)}}}}const gi="Error";let se;function no(e,t,n,i,s,o){var a;t.debug("Initializing exceptions API");let r=null;se=(a=n.parseStacktrace)!==null&&a!==void 0?a:se;const c=f=>{t.debug("Changing stacktrace parser"),se=f??se},p=()=>se,u=(f,{skipDedupe:d,stackFrames:m,type:l,context:h,spanContext:g,timestampOverwriteMs:x}={})=>{l=l||f.name||gi;const A={meta:i.value,payload:{type:l,value:f.message,timestamp:x?yt(x):wt(),trace:g?{trace_id:g.traceId,span_id:g.spanId}:o.getTraceContext(),context:Object.assign(Object.assign({},io(f)),h??{})},type:P.EXCEPTION};m=m??(f.stack?se?.(f).frames:void 0),m?.length&&(A.payload.stacktrace={frames:m});const w={type:A.payload.type,value:A.payload.value,stackTrace:A.payload.stacktrace,context:A.payload.context};if(!d&&n.dedupe&&!Ge(r)&&Le(w,r)){t.debug(`Skipping error push because it is the same as the last one
`,A.payload);return}r=w,t.debug(`Pushing exception
`,A),s.execute(A)};return c(n.parseStacktrace),{changeStacktraceParser:c,getStacktraceParser:p,pushError:u}}function io(e){let t=e.cause;return fi(t)?t=e.cause.toString():t!==null&&(he(e.cause)||qe(e.cause))?t=JSON.stringify(e.cause):t!=null&&(t=e.cause.toString()),t==null?{}:{cause:t}}const vi=e=>e.map(t=>{try{return String(t)}catch{return""}}).join(" ");function so(e,t,n,i,s,o){var a;t.debug("Initializing logs API");let r=null;const c=(a=n.logArgsSerializer)!==null&&a!==void 0?a:vi;return{pushLog:(u,{context:f,level:d,skipDedupe:m,spanContext:l,timestampOverwriteMs:h}={})=>{try{const g={type:P.LOG,payload:{message:c(u),level:d??Ds,context:f??{},timestamp:h?yt(h):wt(),trace:l?{trace_id:l.traceId,span_id:l.spanId}:o.getTraceContext()},meta:i.value},x={message:g.payload.message,level:g.payload.level,context:g.payload.context};if(!m&&n.dedupe&&!Ge(r)&&Le(x,r)){t.debug(`Skipping log push because it is the same as the last one
`,g.payload);return}r=x,t.debug(`Pushing log
`,g),s.execute(g)}catch(g){t.error(`Error pushing log
`,g)}}}}function oo(e,t,n,i,s,o){t.debug("Initializing measurements API");let a=null;return{pushMeasurement:(c,{skipDedupe:p,context:u,spanContext:f,timestampOverwriteMs:d}={})=>{try{const m={type:P.MEASUREMENT,payload:Object.assign(Object.assign({},c),{trace:f?{trace_id:f.traceId,span_id:f.spanId}:o.getTraceContext(),timestamp:d?yt(d):wt(),context:u??{}}),meta:i.value},l={type:m.payload.type,values:m.payload.values,context:m.payload.context};if(!p&&n.dedupe&&!Ge(a)&&Le(l,a)){t.debug(`Skipping measurement push because it is the same as the last one
`,m.payload);return}a=l,t.debug(`Pushing measurement
`,m),s.execute(m)}catch(m){t.error(`Error pushing measurement
`,m)}}}}function ao(e,t,n,i,s){t.debug("Initializing meta API");let o,a,r;const c=m=>{a&&i.remove(a),a={user:m},i.add(a)},p=m=>{o&&i.remove(o),o={session:m},i.add(o)};return{setUser:c,resetUser:c,setSession:p,resetSession:p,getSession:()=>i.value.session,setView:m=>{var l;if(((l=r?.view)===null||l===void 0?void 0:l.name)===m?.name)return;const h=r;r={view:m},i.add(r),h&&i.remove(h)},getView:()=>i.value.view}}function ro(e,t,n,i,s){t.debug("Initializing traces API");let o;return{getOTEL:()=>o,getTraceContext:()=>{const f=o?.trace.getSpanContext(o.context.active());return f?{trace_id:f.traceId,span_id:f.spanId}:void 0},initOTEL:(f,d)=>{t.debug("Initializing OpenTelemetry"),o={trace:f,context:d}},isOTELInitialized:()=>!!o,pushTraces:f=>{try{const d={type:P.TRACE,payload:f,meta:i.value};t.debug(`Pushing trace
`,d),s.execute(d)}catch(d){t.error(`Error pushing trace
`,d)}}}}function co(e,t,n,i,s){t.debug("Initializing API");const o=ro(e,t,n,i,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),no(e,t,n,i,s,o)),ao(e,t,n,i)),so(e,t,n,i,s,o)),oo(e,t,n,i,s,o)),to(e,t,n,i,s,o))}class xe extends hi{constructor(){super(...arguments),this.api={},this.transports={}}}function lo(e,t,n,i,s,o){t.debug("Initializing instrumentations");const a=[];return{add:(...p)=>{t.debug("Adding instrumentations"),p.forEach(u=>{if(t.debug(`Adding "${u.name}" instrumentation`),a.some(d=>d.name===u.name)){t.warn(`Instrumentation ${u.name} is already added`);return}u.unpatchedConsole=e,u.internalLogger=t,u.config=n,u.metas=i,u.transports=s,u.api=o,a.push(u),u.initialize()})},get instrumentations(){return[...a]},remove:(...p)=>{t.debug("Removing instrumentations"),p.forEach(u=>{var f,d;t.debug(`Removing "${u.name}" instrumentation`);const m=a.reduce((l,h,g)=>l===null&&h.name===u.name?g:null,null);if(!m){t.warn(`Instrumentation "${u.name}" is not added`);return}(d=(f=a[m]).destroy)===null||d===void 0||d.call(f),a.splice(m,1)})}}}function uo(e){e.instrumentations.add(...e.config.instrumentations)}function fo(e,t,n){let i=[],s=[];const o=()=>i.reduce((f,d)=>Object.assign(f,ui(d)?d():d),{}),a=()=>{if(s.length){const f=o();s.forEach(d=>d(f))}};return{add:(...f)=>{t.debug(`Adding metas
`,f),i.push(...f),a()},remove:(...f)=>{t.debug(`Removing metas
`,f),i=i.filter(d=>!f.includes(d)),a()},addListener:f=>{t.debug(`Adding metas listener
`,f),s.push(f)},removeListener:f=>{t.debug(`Removing metas listener
`,f),s=s.filter(d=>d!==f)},get value(){return o()}}}const ue="1.11.0";function mo(e){var t,n;const i={sdk:{version:ue},app:{bundleId:e.config.app.name&&Us(e.config.app.name)}},s=(t=e.config.sessionTracking)===null||t===void 0?void 0:t.session;s&&e.api.setSession(s),e.config.app&&(i.app=Object.assign(Object.assign({},e.config.app),i.app)),e.config.user&&(i.user=e.config.user),e.config.view&&(i.view=e.config.view),e.metas.add(i,...(n=e.config.metas)!==null&&n!==void 0?n:[])}const bi="_faroInternal";function po(e){if(e.config.preventGlobalExposure)e.internalLogger.debug("Skipping registering public Faro instance in the global scope");else{if(e.internalLogger.debug(`Registering public faro reference in the global scope using "${e.config.globalObjectKey}" key`),e.config.globalObjectKey in fe){e.internalLogger.warn(`Skipping global registration due to key "${e.config.globalObjectKey}" being used already. Please set "globalObjectKey" to something else or set "preventGlobalExposure" to "true"`);return}Object.defineProperty(fe,e.config.globalObjectKey,{configurable:!1,writable:!1,value:e})}}function ho(e){e.config.isolate?e.internalLogger.debug("Skipping registering internal Faro instance on global object"):(e.internalLogger.debug("Registering internal Faro instance on global object"),Object.defineProperty(fe,bi,{configurable:!1,enumerable:!1,writable:!1,value:e}))}function go(){return bi in fe}let N={};function vo(e,t,n,i,s,o,a){return t.debug("Initializing Faro"),N={api:o,config:n,instrumentations:a,internalLogger:t,metas:i,pause:s.pause,transports:s,unpatchedConsole:e,unpause:s.unpause},ho(N),po(N),N}function bo(e){const t=Js(e),n=Xs(t,e);if(go()&&!e.isolate){n.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the "isolate" property');return}n.debug("Initializing");const i=fo(t,n),s=Gs(t,n,e,i),o=co(t,n,e,i,s),a=lo(t,n,e,i,s,o),r=vo(t,n,e,i,s,o,a);return mo(r),Zs(r),uo(r),r}const wo="faro",yo={enabled:!0,sendTimeout:250,itemLimit:50},Eo="view_changed",ot="session_start",jt="session_resume",So="session_extend",U="unknown";var To=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kt={exports:{}};(function(e,t){(function(n,i){var s="1.0.39",o="",a="?",r="function",c="undefined",p="object",u="string",f="major",d="model",m="name",l="type",h="vendor",g="version",x="architecture",A="console",w="mobile",y="tablet",C="smarttv",k="wearable",v="embedded",M=500,B="Amazon",j="Apple",vn="ASUS",bn="BlackBerry",Pe="Browser",Ze="Chrome",gs="Edge",Qe="Firefox",et="Google",wn="Huawei",Nt="LG",Mt="Microsoft",yn="Motorola",Ne="Opera",Me="Samsung",En="Sharp",tt="Sony",Ct="Xiaomi",Bt="Zebra",Sn="Facebook",Tn="Chromium OS",In="Mac OS",kn=" Browser",vs=function(S,T){var E={};for(var L in S)T[L]&&T[L].length%2===0?E[L]=T[L].concat(S[L]):E[L]=S[L];return E},nt=function(S){for(var T={},E=0;E<S.length;E++)T[S[E].toUpperCase()]=S[E];return T},Ln=function(S,T){return typeof S===u?we(T).indexOf(we(S))!==-1:!1},we=function(S){return S.toLowerCase()},bs=function(S){return typeof S===u?S.replace(/[^\d\.]/g,o).split(".")[0]:i},Rt=function(S,T){if(typeof S===u)return S=S.replace(/^\s\s*/,o),typeof T===c?S:S.substring(0,M)},Ce=function(S,T){for(var E=0,L,Q,J,I,b,X;E<T.length&&!b;){var Dt=T[E],_n=T[E+1];for(L=Q=0;L<Dt.length&&!b&&Dt[L];)if(b=Dt[L++].exec(S),b)for(J=0;J<_n.length;J++)X=b[++Q],I=_n[J],typeof I===p&&I.length>0?I.length===2?typeof I[1]==r?this[I[0]]=I[1].call(this,X):this[I[0]]=I[1]:I.length===3?typeof I[1]===r&&!(I[1].exec&&I[1].test)?this[I[0]]=X?I[1].call(this,X,I[2]):i:this[I[0]]=X?X.replace(I[1],I[2]):i:I.length===4&&(this[I[0]]=X?I[3].call(this,X.replace(I[1],I[2])):i):this[I]=X||i;E+=2}},it=function(S,T){for(var E in T)if(typeof T[E]===p&&T[E].length>0){for(var L=0;L<T[E].length;L++)if(Ln(T[E][L],S))return E===a?i:E}else if(Ln(T[E],S))return E===a?i:E;return T.hasOwnProperty("*")?T["*"]:S},ws={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},xn={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},On={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,g],[/opios[\/ ]+([\w\.]+)/i],[g,[m,Ne+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[m,Ne+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[m,Ne]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[m,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[m,"UC"+Pe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[m,"Smart Lenovo "+Pe]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+Pe],g],[/\bfocus\/([\w\.]+)/i],[g,[m,Qe+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[m,Ne+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[m,Ne+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[m,"MIUI "+Pe]],[/fxios\/([-\w\.]+)/i],[g,[m,Qe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360"+kn]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+kn],g],[/samsungbrowser\/([\w\.]+)/i],[g,[m,Me+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[m,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Sn],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[m,Ze+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,Ze+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[m,"Android "+Pe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[g,it,ws]],[/(webkit|khtml)\/([\w\.]+)/i],[m,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],g],[/(wolvic)\/([\w\.]+)/i],[m,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[m,Qe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[m,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[x,"amd64"]],[/(ia32(?=;))/i],[[x,we]],[/((?:i[346]|x)86)[;\)]/i],[[x,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[x,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[x,"armhf"]],[/windows (ce|mobile); ppc;/i],[[x,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[x,/ower/,o,we]],[/(sun4\w)[;\)]/i],[[x,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[x,we]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,Me],[l,y]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[h,Me],[l,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[h,j],[l,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[h,j],[l,y]],[/(macintosh);/i],[d,[h,j]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[h,En],[l,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[h,wn],[l,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[h,wn],[l,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[h,Ct],[l,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[h,Ct],[l,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[h,"OPPO"],[l,w]],[/\b(opd2\d{3}a?) bui/i],[d,[h,"OPPO"],[l,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[h,"Vivo"],[l,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[h,"Realme"],[l,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[h,yn],[l,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[h,yn],[l,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,Nt],[l,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[h,Nt],[l,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[h,"Lenovo"],[l,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[h,"Nokia"],[l,w]],[/(pixel c)\b/i],[d,[h,et],[l,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[h,et],[l,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[h,tt],[l,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[h,tt],[l,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[h,"OnePlus"],[l,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[h,B],[l,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[h,B],[l,w]],[/(playbook);[-\w\),; ]+(rim)/i],[d,h,[l,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[h,bn],[l,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[h,vn],[l,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[h,vn],[l,w]],[/(nexus 9)/i],[d,[h,"HTC"],[l,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[d,/_/g," "],[l,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[h,"TCL"],[l,y]],[/(itel) ((\w+))/i],[[h,we],d,[l,it,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[h,"Acer"],[l,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[h,"Meizu"],[l,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[h,"Ulefone"],[l,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[h,"Nothing"],[l,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,d,[l,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,d,[l,y]],[/(surface duo)/i],[d,[h,Mt],[l,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[h,"Fairphone"],[l,w]],[/(u304aa)/i],[d,[h,"AT&T"],[l,w]],[/\bsie-(\w*)/i],[d,[h,"Siemens"],[l,w]],[/\b(rct\w+) b/i],[d,[h,"RCA"],[l,y]],[/\b(venue[\d ]{2,7}) b/i],[d,[h,"Dell"],[l,y]],[/\b(q(?:mv|ta)\w+) b/i],[d,[h,"Verizon"],[l,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[h,"Barnes & Noble"],[l,y]],[/\b(tm\d{3}\w+) b/i],[d,[h,"NuVision"],[l,y]],[/\b(k88) b/i],[d,[h,"ZTE"],[l,y]],[/\b(nx\d{3}j) b/i],[d,[h,"ZTE"],[l,w]],[/\b(gen\d{3}) b.+49h/i],[d,[h,"Swiss"],[l,w]],[/\b(zur\d{3}) b/i],[d,[h,"Swiss"],[l,y]],[/\b((zeki)?tb.*\b) b/i],[d,[h,"Zeki"],[l,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],d,[l,y]],[/\b(ns-?\w{0,9}) b/i],[d,[h,"Insignia"],[l,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[h,"NextBook"],[l,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],d,[l,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],d,[l,w]],[/\b(ph-1) /i],[d,[h,"Essential"],[l,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[h,"Envizen"],[l,y]],[/\b(trio[-\w\. ]+) b/i],[d,[h,"MachSpeed"],[l,y]],[/\btu_(1491) b/i],[d,[h,"Rotor"],[l,y]],[/(shield[\w ]+) b/i],[d,[h,"Nvidia"],[l,y]],[/(sprint) (\w+)/i],[h,d,[l,w]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,Mt],[l,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[h,Bt],[l,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[h,Bt],[l,w]],[/smart-tv.+(samsung)/i],[h,[l,C]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[h,Me],[l,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,Nt],[l,C]],[/(apple) ?tv/i],[h,[d,j+" TV"],[l,C]],[/crkey/i],[[d,Ze+"cast"],[h,et],[l,C]],[/droid.+aft(\w+)( bui|\))/i],[d,[h,B],[l,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[h,En],[l,C]],[/(bravia[\w ]+)( bui|\))/i],[d,[h,tt],[l,C]],[/(mitv-\w{5}) bui/i],[d,[h,Ct],[l,C]],[/Hbbtv.*(technisat) (.*);/i],[h,d,[l,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,Rt],[d,Rt],[l,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[l,A]],[/droid.+; (shield) bui/i],[d,[h,"Nvidia"],[l,A]],[/(playstation [345portablevi]+)/i],[d,[h,tt],[l,A]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[h,Mt],[l,A]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[h,Me],[l,k]],[/((pebble))app/i],[h,d,[l,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[h,j],[l,k]],[/droid.+; (glass) \d/i],[d,[h,et],[l,k]],[/droid.+; (wt63?0{2,3})\)/i],[d,[h,Bt],[l,k]],[/(quest( \d| pro)?)/i],[d,[h,Sn],[l,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[l,v]],[/(aeobc)\b/i],[d,[h,B],[l,v]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[l,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[l,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,w]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[m,gs+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[m,[g,it,xn]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,it,xn],[m,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,In],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,g],[/\(bb(10);/i],[g,[m,bn]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[m,Qe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[m,Ze+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,Tn],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,g],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,g]]},W=function(S,T){if(typeof S===p&&(T=S,S=i),!(this instanceof W))return new W(S,T).getResult();var E=typeof n!==c&&n.navigator?n.navigator:i,L=S||(E&&E.userAgent?E.userAgent:o),Q=E&&E.userAgentData?E.userAgentData:i,J=T?vs(On,T):On,I=E&&E.userAgent==L;return this.getBrowser=function(){var b={};return b[m]=i,b[g]=i,Ce.call(b,L,J.browser),b[f]=bs(b[g]),I&&E&&E.brave&&typeof E.brave.isBrave==r&&(b[m]="Brave"),b},this.getCPU=function(){var b={};return b[x]=i,Ce.call(b,L,J.cpu),b},this.getDevice=function(){var b={};return b[h]=i,b[d]=i,b[l]=i,Ce.call(b,L,J.device),I&&!b[l]&&Q&&Q.mobile&&(b[l]=w),I&&b[d]=="Macintosh"&&E&&typeof E.standalone!==c&&E.maxTouchPoints&&E.maxTouchPoints>2&&(b[d]="iPad",b[l]=y),b},this.getEngine=function(){var b={};return b[m]=i,b[g]=i,Ce.call(b,L,J.engine),b},this.getOS=function(){var b={};return b[m]=i,b[g]=i,Ce.call(b,L,J.os),I&&!b[m]&&Q&&Q.platform&&Q.platform!="Unknown"&&(b[m]=Q.platform.replace(/chrome os/i,Tn).replace(/macos/i,In)),b},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return L},this.setUA=function(b){return L=typeof b===u&&b.length>M?Rt(b,M):b,this},this.setUA(L),this};W.VERSION=s,W.BROWSER=nt([m,g,f]),W.CPU=nt([x]),W.DEVICE=nt([d,h,l,A,w,C,y,k,v]),W.ENGINE=W.OS=nt([m,g]),e.exports&&(t=e.exports=W),t.UAParser=W;var ye=typeof n!==c&&(n.jQuery||n.Zepto);if(ye&&!ye.ua){var st=new W;ye.ua=st.getResult(),ye.ua.get=function(){return st.getUA()},ye.ua.set=function(S){st.setUA(S);var T=st.getResult();for(var E in T)ye.ua[E]=T[E]}}})(typeof window=="object"?window:To)})(Kt,Kt.exports);var Io=Kt.exports;const ko=()=>{const e=new Io.UAParser,{name:t,version:n}=e.getBrowser(),{name:i,version:s}=e.getOS(),o=e.getUA(),a=navigator.language,r=navigator.userAgent.includes("Mobi"),c=p();return{browser:{name:t??U,version:n??U,os:`${i??U} ${s??U}`,userAgent:o??U,language:a??U,mobile:r,brands:c??U,viewportWidth:`${window.innerWidth}`,viewportHeight:`${window.innerHeight}`}};function p(){if(!(!t||!n)&&"userAgentData"in navigator&&navigator.userAgentData)return navigator.userAgentData.brands}},Lo=()=>({page:{url:location.href}}),xo=[ko,Lo];function Oo(e){var t,n,i,s;return{id:(s=(i=(n=(t=N.config)===null||t===void 0?void 0:t.sessionTracking)===null||n===void 0?void 0:n.generateSessionId)===null||i===void 0?void 0:i.call(n))!==null&&s!==void 0?s:Et(),attributes:e}}const ie={session:"sessionStorage",local:"localStorage"};function wi(e){var t;try{let n;n=window[e];const i="__faro_storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(n){return(t=N.internalLogger)===null||t===void 0||t.info(`Web storage of type ${e} is not available. Reason: ${n}`),!1}}function Tt(e,t){return on(t)?window[t].getItem(e):null}function sn(e,t,n){if(on(n))try{window[n].setItem(e,t)}catch{}}function yi(e,t){on(t)&&window[t].removeItem(e)}const Ei=wi(ie.local),Si=wi(ie.session);function on(e){return e===ie.local?Ei:e===ie.session?Si:!1}function Ti(e,t){let n=!1,i;const s=()=>{if(i==null){n=!1;return}e(...i),i=null,setTimeout(s,t)};return(...o)=>{if(n){i=o;return}e(...o),n=!0,setTimeout(s,t)}}function It(){var e,t,n;const s=N.config.sessionTracking;let o=(n=(t=(e=s?.sampler)===null||e===void 0?void 0:e.call(s,{metas:N.metas.value}))!==null&&t!==void 0?t:s?.samplingRate)!==null&&n!==void 0?n:1;return typeof o!="number"&&(o=0),Math.random()<o}const Te="com.grafana.faro.session",_o=4*60*60*1e3,Ii=15*60*1e3,ki=1*1e3,Ao=Ii,Po={enabled:!0,persistent:!1,maxSessionPersistenceTime:Ao};function Ve({sessionId:e,started:t,lastActivity:n,isSampled:i=!0}={}){var s,o;const a=bt(),r=(o=(s=N.config)===null||s===void 0?void 0:s.sessionTracking)===null||o===void 0?void 0:o.generateSessionId;return e==null&&(e=typeof r=="function"?r():Et()),{sessionId:e,lastActivity:n??a,started:t??a,isSampled:i}}function Li(e){if(e==null)return!1;const t=bt();return t-e.started<_o?t-e.lastActivity<Ii:!1}function an({fetchUserSession:e,storeUserSession:t}){return function({forceSessionExtend:i}={forceSessionExtend:!1}){var s,o,a;if(!e||!t)return;const r=N.config.sessionTracking,c=r?.persistent;if(c&&!Ei||!c&&!Si)return;const p=e();if(i===!1&&Li(p))t(Object.assign(Object.assign({},p),{lastActivity:bt()}));else{let u=rn(Ve({isSampled:It()}),p);t(u),(s=N.api)===null||s===void 0||s.setSession(u.sessionMeta),(o=r?.onSessionChange)===null||o===void 0||o.call(r,(a=p?.sessionMeta)!==null&&a!==void 0?a:null,u.sessionMeta)}}}function rn(e,t){var n,i,s,o;return Object.assign(Object.assign({},e),{sessionMeta:{id:e.sessionId,attributes:Object.assign(Object.assign(Object.assign(Object.assign({},(i=(n=N.config.sessionTracking)===null||n===void 0?void 0:n.session)===null||i===void 0?void 0:i.attributes),(o=(s=N.metas.value.session)===null||s===void 0?void 0:s.attributes)!==null&&o!==void 0?o:{}),t!=null?{previousSession:t.sessionId}:{}),{isSampled:e.isSampled.toString()})}})}class G{constructor(){this.updateSession=Ti(()=>this.updateUserSession(),ki),this.updateUserSession=an({fetchUserSession:G.fetchUserSession,storeUserSession:G.storeUserSession}),this.init()}static removeUserSession(){yi(Te,G.storageTypeLocal)}static storeUserSession(t){sn(Te,JSON.stringify(t),G.storageTypeLocal)}static fetchUserSession(){const t=Tt(Te,G.storageTypeLocal);return t?JSON.parse(t):null}init(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.updateSession()}),N.metas.addListener(function(n){const i=n.session,s=G.fetchUserSession();if(i&&i.id!==s?.sessionId){const o=rn(Ve({sessionId:i.id,isSampled:It()}),s);G.storeUserSession(o),N.api.setSession(o.sessionMeta)}})}}G.storageTypeLocal=ie.local;class Y{constructor(){this.updateSession=Ti(()=>this.updateUserSession(),ki),this.updateUserSession=an({fetchUserSession:Y.fetchUserSession,storeUserSession:Y.storeUserSession}),this.init()}static removeUserSession(){yi(Te,Y.storageTypeSession)}static storeUserSession(t){sn(Te,JSON.stringify(t),Y.storageTypeSession)}static fetchUserSession(){const t=Tt(Te,Y.storageTypeSession);return t?JSON.parse(t):null}init(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.updateSession()}),N.metas.addListener(function(n){const i=n.session,s=Y.fetchUserSession();if(i&&i.id!==s?.sessionId){const o=rn(Ve({sessionId:i.id,isSampled:It()}),s);Y.storeUserSession(o),N.api.setSession(o.sessionMeta)}})}}Y.storageTypeSession=ie.session;function xi(e){return e?.persistent?G:Y}class No extends xe{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-session",this.version=ue}sendSessionStartEvent(t){var n,i;const s=t.session;if(s&&s.id!==((n=this.notifiedSession)===null||n===void 0?void 0:n.id)){if(this.notifiedSession&&this.notifiedSession.id===((i=s.attributes)===null||i===void 0?void 0:i.previousSession)){this.api.pushEvent(So,{},void 0,{skipDedupe:!0}),this.notifiedSession=s;return}this.notifiedSession=s,this.api.pushEvent(ot,{},void 0,{skipDedupe:!0})}}createInitialSession(t,n){var i,s,o,a,r;let c=t.fetchUserSession();if(n.persistent&&n.maxSessionPersistenceTime&&c){const f=bt();c.lastActivity<f-n.maxSessionPersistenceTime&&(G.removeUserSession(),c=null)}let p,u;if(Li(c)){const f=c?.sessionId;u=Ve({sessionId:f,isSampled:c.isSampled||!1,started:c?.started}),u.sessionMeta={id:f,attributes:Object.assign(Object.assign(Object.assign({},(i=n.session)===null||i===void 0?void 0:i.attributes),(s=c?.sessionMeta)===null||s===void 0?void 0:s.attributes),{isSampled:u.isSampled.toString()})},p=jt}else{const f=(a=(o=n.session)===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:Oo().id;u=Ve({sessionId:f,isSampled:It()}),u.sessionMeta={id:f,attributes:Object.assign({isSampled:u.isSampled.toString()},(r=n.session)===null||r===void 0?void 0:r.attributes)},p=ot}return{initialSession:u,lifecycleType:p}}registerBeforeSendHook(t){var n;const{updateSession:i}=new t;(n=this.transports)===null||n===void 0||n.addBeforeSendHooks(s=>{var o,a,r;i();const c=(o=s.meta.session)===null||o===void 0?void 0:o.attributes;if(c&&c?.isSampled==="true"){let p=JSON.parse(JSON.stringify(s));const u=(a=p.meta.session)===null||a===void 0?void 0:a.attributes;return u==null||delete u.isSampled,Object.keys(u??{}).length===0&&((r=p.meta.session)===null||r===void 0||delete r.attributes),p}return null})}initialize(){this.logDebug("init session instrumentation");const t=this.config.sessionTracking;if(t?.enabled){const n=xi(t);this.registerBeforeSendHook(n);const{initialSession:i,lifecycleType:s}=this.createInitialSession(n,t);n.storeUserSession(i);const o=i.sessionMeta;this.notifiedSession=o,this.api.setSession(o),s===ot&&this.api.pushEvent(ot,{},void 0,{skipDedupe:!0}),s===jt&&this.api.pushEvent(jt,{},void 0,{skipDedupe:!0})}this.metas.addListener(this.sendSessionStartEvent.bind(this))}}class kt extends xe{constructor(t={}){super(),this.options=t,this.name="@grafana/faro-web-sdk:instrumentation-console",this.version=ue}initialize(){this.logDebug(`Initializing
`,this.options),Fs.filter(t=>{var n;return!((n=this.options.disabledLevels)!==null&&n!==void 0?n:kt.defaultDisabledLevels).includes(t)}).forEach(t=>{console[t]=(...n)=>{try{t===F.ERROR?this.api.pushError(new Error(n.map(i=>he(i)||qe(i)?JSON.stringify(i):i).join(" "))):this.api.pushLog(n,{level:t})}catch(i){this.logError(i)}finally{this.unpatchedConsole[t](...n)}}})}}kt.defaultDisabledLevels=[F.DEBUG,F.TRACE,F.LOG];const Mo="Non-Error promise rejection captured with value:",Co="UnhandledRejection",Bo="DOMError",Ro="DOMException",Do="Non-Error exception captured with keys:",Fo="?",jo=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,Cn=`
`,Uo="eval",$o="?",Bn="@",zo=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qo=/\((\S*)(?::(\d+))(?::(\d+))\)/,Vo="eval",Oi="address at ",Wo=Oi.length,Ho=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Go=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ko=" > eval",Rn="safari-extension",Dn="safari-web-extension",Jo=/Minified React error #\d+;/i;function _i(e,t,n,i){const s={filename:e||document.location.href,function:t||$o};return n!==void 0&&(s.lineno=n),i!==void 0&&(s.colno=i),s}function Fn(e,t){const n=e?.includes(Rn),i=!n&&e?.includes(Dn);return!n&&!i?[e,t]:[e?.includes(Bn)?e.split(Bn)[0]:e,n?`${Rn}:${t}`:`${Dn}:${t}`]}function Jt(e){let t=[];e.stacktrace?t=e.stacktrace.split(Cn).filter((i,s)=>s%2===0):e.stack&&(t=e.stack.split(Cn));const n=t.reduce((i,s,o)=>{let a,r,c,p,u;if(a=zo.exec(s)){if(r=a[1],c=a[2],p=a[3],u=a[4],c?.startsWith(Vo)){const f=qo.exec(c);f&&(c=f[1],p=f[2],u=f[3])}c=c?.startsWith(Oi)?c.substring(Wo):c,[r,c]=Fn(r,c)}else if(a=Ho.exec(s)){if(r=a[1],c=a[3],p=a[4],u=a[5],c&&c.includes(Ko)){const f=Go.exec(c);f&&(r=r||Uo,c=f[1],p=f[2])}else o===0&&!u&&_s(e.columnNumber)&&(u=String(e.columnNumber+1));[r,c]=Fn(r,c)}return(c||r)&&i.push(_i(c,r,p?Number(p):void 0,u?Number(u):void 0)),i},[]);return Jo.test(e.message)?n.slice(1):n}function Xo(e){return{frames:Jt(e)}}function Ai(e){let t,n,i=[],s,o;if(Cs(e)&&e.error)t=e.error.message,n=e.error.name,i=Jt(e.error);else if((s=Bs(e))||Rs(e)){const{name:a,message:r}=e;n=a??(s?Bo:Ro),t=r?`${n}: ${r}`:n}else fi(e)?(t=e.message,i=Jt(e)):(he(e)||(o=Ns(e)))&&(n=o?e.constructor.name:void 0,t=`${Do} ${Object.keys(e)}`);return[t,n,i]}function Yo(e){var t,n;const i=e.match(jo),s=(t=i?.[1])!==null&&t!==void 0?t:gi;return[(n=i?.[2])!==null&&n!==void 0?n:e,s]}function Zo(e){const t=window.onerror;window.onerror=(...n)=>{try{const[i,s,o,a,r]=n;let c,p,u=[];const f=li(i),d=_i(s,Fo,o,a);r||!f?([c,p,u]=Ai(r??i),u.length===0&&(u=[d])):f&&([c,p]=Yo(i),u=[d]),c&&e.pushError(new Error(c),{type:p,stackFrames:u})}finally{t?.apply(window,n)}}}function Qo(e){window.addEventListener("unhandledrejection",t=>{var n,i;let s=t;s.reason?s=t.reason:!((n=t.detail)===null||n===void 0)&&n.reason&&(s=(i=t.detail)===null||i===void 0?void 0:i.reason);let o,a,r=[];As(s)?(o=`${Mo} ${String(s)}`,a=Co):[o,a,r]=Ai(s),o&&e.pushError(new Error(o),{type:a,stackFrames:r})})}class ea extends xe{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-errors",this.version=ue}initialize(){this.logDebug("Initializing"),Zo(this.api),Qo(this.api)}}class ta extends xe{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-view",this.version=ue}sendViewChangedEvent(t){var n,i,s,o;const a=t.view;a&&a.name!==((n=this.notifiedView)===null||n===void 0?void 0:n.name)&&(this.api.pushEvent(Eo,{fromView:(s=(i=this.notifiedView)===null||i===void 0?void 0:i.name)!==null&&s!==void 0?s:U,toView:(o=a.name)!==null&&o!==void 0?o:U},void 0,{skipDedupe:!0}),this.notifiedView=a)}initialize(){this.metas.addListener(this.sendViewChangedEvent.bind(this))}}var Xt,re,je,Pi,ut,Ni=-1,ge=function(e){addEventListener("pageshow",function(t){t.persisted&&(Ni=t.timeStamp,e(t))},!0)},cn=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},Lt=function(){var e=cn();return e&&e.activationStart||0},$=function(e,t){var n=cn(),i="navigate";return Ni>=0?i="back-forward-cache":n&&(document.prerendering||Lt()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Oe=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver(function(s){Promise.resolve().then(function(){t(s.getEntries())})});return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch{}},z=function(e,t,n,i){var s,o;return function(a){t.value>=0&&(a||i)&&((o=t.value-(s||0))||s===void 0)&&(s=t.value,t.delta=o,t.rating=function(r,c){return r>c[1]?"poor":r>c[0]?"needs-improvement":"good"}(t.value,n),e(t))}},dn=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},Ke=function(e){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&e()})},xt=function(e){var t=!1;return function(){t||(e(),t=!0)}},Ee=-1,jn=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},ft=function(e){document.visibilityState==="hidden"&&Ee>-1&&(Ee=e.type==="visibilitychange"?e.timeStamp:0,na())},Un=function(){addEventListener("visibilitychange",ft,!0),addEventListener("prerenderingchange",ft,!0)},na=function(){removeEventListener("visibilitychange",ft,!0),removeEventListener("prerenderingchange",ft,!0)},ln=function(){return Ee<0&&(Ee=jn(),Un(),ge(function(){setTimeout(function(){Ee=jn(),Un()},0)})),{get firstHiddenTime(){return Ee}}},Je=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},$n=[1800,3e3],un=function(e,t){t=t||{},Je(function(){var n,i=ln(),s=$("FCP"),o=Oe("paint",function(a){a.forEach(function(r){r.name==="first-contentful-paint"&&(o.disconnect(),r.startTime<i.firstHiddenTime&&(s.value=Math.max(r.startTime-Lt(),0),s.entries.push(r),n(!0)))})});o&&(n=z(e,s,$n,t.reportAllChanges),ge(function(a){s=$("FCP"),n=z(e,s,$n,t.reportAllChanges),dn(function(){s.value=performance.now()-a.timeStamp,n(!0)})}))})},zn=[.1,.25],Mi=function(e,t){t=t||{},un(xt(function(){var n,i=$("CLS",0),s=0,o=[],a=function(c){c.forEach(function(p){if(!p.hadRecentInput){var u=o[0],f=o[o.length-1];s&&p.startTime-f.startTime<1e3&&p.startTime-u.startTime<5e3?(s+=p.value,o.push(p)):(s=p.value,o=[p])}}),s>i.value&&(i.value=s,i.entries=o,n())},r=Oe("layout-shift",a);r&&(n=z(e,i,zn,t.reportAllChanges),Ke(function(){a(r.takeRecords()),n(!0)}),ge(function(){s=0,i=$("CLS",0),n=z(e,i,zn,t.reportAllChanges),dn(function(){return n()})}),setTimeout(n,0))}))},Ci=0,Ut=1/0,at=0,ia=function(e){e.forEach(function(t){t.interactionId&&(Ut=Math.min(Ut,t.interactionId),at=Math.max(at,t.interactionId),Ci=at?(at-Ut)/7+1:0)})},Bi=function(){return Xt?Ci:performance.interactionCount||0},sa=function(){"interactionCount"in performance||Xt||(Xt=Oe("event",ia,{type:"event",buffered:!0,durationThreshold:0}))},Z=[],dt=new Map,Ri=0,oa=function(){var e=Math.min(Z.length-1,Math.floor((Bi()-Ri)/50));return Z[e]},aa=[],ra=function(e){if(aa.forEach(function(s){return s(e)}),e.interactionId||e.entryType==="first-input"){var t=Z[Z.length-1],n=dt.get(e.interactionId);if(n||Z.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};dt.set(i.id,i),Z.push(i)}Z.sort(function(s,o){return o.latency-s.latency}),Z.length>10&&Z.splice(10).forEach(function(s){return dt.delete(s.id)})}}},Di=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=xt(e),document.visibilityState==="hidden"?e():(n=t(e),Ke(e)),n},qn=[200,500],ca=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},Je(function(){var n;sa();var i,s=$("INP"),o=function(r){Di(function(){r.forEach(ra);var c=oa();c&&c.latency!==s.value&&(s.value=c.latency,s.entries=c.entries,i())})},a=Oe("event",o,{durationThreshold:(n=t.durationThreshold)!==null&&n!==void 0?n:40});i=z(e,s,qn,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),Ke(function(){o(a.takeRecords()),i(!0)}),ge(function(){Ri=Bi(),Z.length=0,dt.clear(),s=$("INP"),i=z(e,s,qn,t.reportAllChanges)}))}))},Vn=[2500,4e3],$t={},Fi=function(e,t){t=t||{},Je(function(){var n,i=ln(),s=$("LCP"),o=function(c){t.reportAllChanges||(c=c.slice(-1)),c.forEach(function(p){p.startTime<i.firstHiddenTime&&(s.value=Math.max(p.startTime-Lt(),0),s.entries=[p],n())})},a=Oe("largest-contentful-paint",o);if(a){n=z(e,s,Vn,t.reportAllChanges);var r=xt(function(){$t[s.id]||(o(a.takeRecords()),a.disconnect(),$t[s.id]=!0,n(!0))});["keydown","click"].forEach(function(c){addEventListener(c,function(){return Di(r)},!0)}),Ke(r),ge(function(c){s=$("LCP"),n=z(e,s,Vn,t.reportAllChanges),dn(function(){s.value=performance.now()-c.timeStamp,$t[s.id]=!0,n(!0)})})}})},Wn=[800,1800],da=function e(t){document.prerendering?Je(function(){return e(t)}):document.readyState!=="complete"?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},ji=function(e,t){t=t||{};var n=$("TTFB"),i=z(e,n,Wn,t.reportAllChanges);da(function(){var s=cn();s&&(n.value=Math.max(s.responseStart-Lt(),0),n.entries=[s],i(!0),ge(function(){n=$("TTFB",0),(i=z(e,n,Wn,t.reportAllChanges))(!0)}))})},De={passive:!0,capture:!0},la=new Date,Hn=function(e,t){re||(re=t,je=e,Pi=new Date,$i(removeEventListener),Ui())},Ui=function(){if(je>=0&&je<Pi-la){var e={entryType:"first-input",name:re.type,target:re.target,cancelable:re.cancelable,startTime:re.timeStamp,processingStart:re.timeStamp+je};ut.forEach(function(t){t(e)}),ut=[]}},ua=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;e.type=="pointerdown"?function(n,i){var s=function(){Hn(n,i),a()},o=function(){a()},a=function(){removeEventListener("pointerup",s,De),removeEventListener("pointercancel",o,De)};addEventListener("pointerup",s,De),addEventListener("pointercancel",o,De)}(t,e):Hn(t,e)}},$i=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,ua,De)})},Gn=[100,300],zi=function(e,t){t=t||{},Je(function(){var n,i=ln(),s=$("FID"),o=function(c){c.startTime<i.firstHiddenTime&&(s.value=c.processingStart-c.startTime,s.entries.push(c),n(!0))},a=function(c){c.forEach(o)},r=Oe("first-input",a);n=z(e,s,Gn,t.reportAllChanges),r&&(Ke(xt(function(){a(r.takeRecords()),r.disconnect()})),ge(function(){var c;s=$("FID"),n=z(e,s,Gn,t.reportAllChanges),ut=[],je=-1,re=null,$i(addEventListener),c=o,ut.push(c),Ui()}))})};class Ot{constructor(t){this.pushMeasurement=t}initialize(){Object.entries(Ot.mapping).forEach(([t,n])=>{n(i=>{this.pushMeasurement({type:"web-vitals",values:{[t]:i.value}})})})}}Ot.mapping={cls:Mi,fcp:un,fid:zi,inp:ca,lcp:Fi,ttfb:ji};var Yt,Kn,_e=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},We=function(e){if(document.readyState==="loading")return"loading";var t=_e();if(t){if(e<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||e<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||e<t.domComplete)return"dom-content-loaded"}return"complete"},fa=function(e){var t=e.nodeName;return e.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},_t=function(e,t){var n="";try{for(;e&&e.nodeType!==9;){var i=e,s=i.id?"#"+i.id:fa(i)+(i.classList&&i.classList.value&&i.classList.value.trim()&&i.classList.value.trim().length?"."+i.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+s.length>(t||100)-1)return n||s;if(n=n?s+">"+n:s,i.id)break;e=i.parentNode}}catch{}return n},qi=-1,Vi=function(){return qi},ve=function(e){addEventListener("pageshow",function(t){t.persisted&&(qi=t.timeStamp,e(t))},!0)},At=function(){var e=_e();return e&&e.activationStart||0},q=function(e,t){var n=_e(),i="navigate";return Vi()>=0?i="back-forward-cache":n&&(document.prerendering||At()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},be=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver(function(s){Promise.resolve().then(function(){t(s.getEntries())})});return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch{}},V=function(e,t,n,i){var s,o;return function(a){t.value>=0&&(a||i)&&((o=t.value-(s||0))||s===void 0)&&(s=t.value,t.delta=o,t.rating=function(r,c){return r>c[1]?"poor":r>c[0]?"needs-improvement":"good"}(t.value,n),e(t))}},fn=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},Xe=function(e){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&e()})},Pt=function(e){var t=!1;return function(){t||(e(),t=!0)}},Se=-1,Jn=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},mt=function(e){document.visibilityState==="hidden"&&Se>-1&&(Se=e.type==="visibilitychange"?e.timeStamp:0,ma())},Xn=function(){addEventListener("visibilitychange",mt,!0),addEventListener("prerenderingchange",mt,!0)},ma=function(){removeEventListener("visibilitychange",mt,!0),removeEventListener("prerenderingchange",mt,!0)},mn=function(){return Se<0&&(Se=Jn(),Xn(),ve(function(){setTimeout(function(){Se=Jn(),Xn()},0)})),{get firstHiddenTime(){return Se}}},Ye=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},Yn=[1800,3e3],Wi=function(e,t){t=t||{},Ye(function(){var n,i=mn(),s=q("FCP"),o=be("paint",function(a){a.forEach(function(r){r.name==="first-contentful-paint"&&(o.disconnect(),r.startTime<i.firstHiddenTime&&(s.value=Math.max(r.startTime-At(),0),s.entries.push(r),n(!0)))})});o&&(n=V(e,s,Yn,t.reportAllChanges),ve(function(a){s=q("FCP"),n=V(e,s,Yn,t.reportAllChanges),fn(function(){s.value=performance.now()-a.timeStamp,n(!0)})}))})},Zn=[.1,.25],pa=function(e,t){(function(n,i){i=i||{},Wi(Pt(function(){var s,o=q("CLS",0),a=0,r=[],c=function(u){u.forEach(function(f){if(!f.hadRecentInput){var d=r[0],m=r[r.length-1];a&&f.startTime-m.startTime<1e3&&f.startTime-d.startTime<5e3?(a+=f.value,r.push(f)):(a=f.value,r=[f])}}),a>o.value&&(o.value=a,o.entries=r,s())},p=be("layout-shift",c);p&&(s=V(n,o,Zn,i.reportAllChanges),Xe(function(){c(p.takeRecords()),s(!0)}),ve(function(){a=0,o=q("CLS",0),s=V(n,o,Zn,i.reportAllChanges),fn(function(){return s()})}),setTimeout(s,0))}))})(function(n){var i=function(s){var o,a={};if(s.entries.length){var r=s.entries.reduce(function(p,u){return p&&p.value>u.value?p:u});if(r&&r.sources&&r.sources.length){var c=(o=r.sources).find(function(p){return p.node&&p.node.nodeType===1})||o[0];c&&(a={largestShiftTarget:_t(c.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:c,largestShiftEntry:r,loadState:We(r.startTime)})}}return Object.assign(s,{attribution:a})}(n);e(i)},t)},ha=function(e,t){Wi(function(n){var i=function(s){var o={timeToFirstByte:0,firstByteToFCP:s.value,loadState:We(Vi())};if(s.entries.length){var a=_e(),r=s.entries[s.entries.length-1];if(a){var c=a.activationStart||0,p=Math.max(0,a.responseStart-c);o={timeToFirstByte:p,firstByteToFCP:s.value-p,loadState:We(s.entries[0].startTime),navigationEntry:a,fcpEntry:r}}}return Object.assign(s,{attribution:o})}(n);e(i)},t)},Hi=0,zt=1/0,rt=0,ga=function(e){e.forEach(function(t){t.interactionId&&(zt=Math.min(zt,t.interactionId),rt=Math.max(rt,t.interactionId),Hi=rt?(rt-zt)/7+1:0)})},Gi=function(){return Yt?Hi:performance.interactionCount||0},va=function(){"interactionCount"in performance||Yt||(Yt=be("event",ga,{type:"event",buffered:!0,durationThreshold:0}))},K=[],Ue=new Map,Ki=0,ba=function(){var e=Math.min(K.length-1,Math.floor((Gi()-Ki)/50));return K[e]},Ji=[],wa=function(e){if(Ji.forEach(function(s){return s(e)}),e.interactionId||e.entryType==="first-input"){var t=K[K.length-1],n=Ue.get(e.interactionId);if(n||K.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};Ue.set(i.id,i),K.push(i)}K.sort(function(s,o){return o.latency-s.latency}),K.length>10&&K.splice(10).forEach(function(s){return Ue.delete(s.id)})}}},pn=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Pt(e),document.visibilityState==="hidden"?e():(n=t(e),Xe(e)),n},Qn=[200,500],ya=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},Ye(function(){var n;va();var i,s=q("INP"),o=function(r){pn(function(){r.forEach(wa);var c=ba();c&&c.latency!==s.value&&(s.value=c.latency,s.entries=c.entries,i())})},a=be("event",o,{durationThreshold:(n=t.durationThreshold)!==null&&n!==void 0?n:40});i=V(e,s,Qn,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),Xe(function(){o(a.takeRecords()),i(!0)}),ve(function(){Ki=Gi(),K.length=0,Ue.clear(),s=q("INP"),i=V(e,s,Qn,t.reportAllChanges)}))}))},Ie=[],ce=[],Zt=0,hn=new WeakMap,ke=new Map,Qt=-1,Ea=function(e){Ie=Ie.concat(e),Xi()},Xi=function(){Qt<0&&(Qt=pn(Sa))},Sa=function(){ke.size>10&&ke.forEach(function(a,r){Ue.has(r)||ke.delete(r)});var e=K.map(function(a){return hn.get(a.entries[0])}),t=ce.length-50;ce=ce.filter(function(a,r){return r>=t||e.includes(a)});for(var n=new Set,i=0;i<ce.length;i++){var s=ce[i];Zi(s.startTime,s.processingEnd).forEach(function(a){n.add(a)})}var o=Ie.length-1-50;Ie=Ie.filter(function(a,r){return a.startTime>Zt&&r>o||n.has(a)}),Qt=-1};Ji.push(function(e){e.interactionId&&e.target&&!ke.has(e.interactionId)&&ke.set(e.interactionId,e.target)},function(e){var t,n=e.startTime+e.duration;Zt=Math.max(Zt,e.processingEnd);for(var i=ce.length-1;i>=0;i--){var s=ce[i];if(Math.abs(n-s.renderTime)<=8){(t=s).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},ce.push(t)),(e.interactionId||e.entryType==="first-input")&&hn.set(e,t),Xi()});var de,$e,Yi,pt,Zi=function(e,t){for(var n,i=[],s=0;n=Ie[s];s++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;i.push(n)}return i},Ta=function(e,t){Kn||(Kn=be("long-animation-frame",Ea)),ya(function(n){var i=function(s){var o=s.entries[0],a=hn.get(o),r=o.processingStart,c=a.processingEnd,p=a.entries.sort(function(g,x){return g.processingStart-x.processingStart}),u=Zi(o.startTime,c),f=s.entries.find(function(g){return g.target}),d=f&&f.target||ke.get(o.interactionId),m=[o.startTime+o.duration,c].concat(u.map(function(g){return g.startTime+g.duration})),l=Math.max.apply(Math,m),h={interactionTarget:_t(d),interactionTargetElement:d,interactionType:o.name.startsWith("key")?"keyboard":"pointer",interactionTime:o.startTime,nextPaintTime:l,processedEventEntries:p,longAnimationFrameEntries:u,inputDelay:r-o.startTime,processingDuration:c-r,presentationDelay:Math.max(l-c,0),loadState:We(o.startTime)};return Object.assign(s,{attribution:h})}(n);e(i)},t)},ei=[2500,4e3],qt={},Ia=function(e,t){(function(n,i){i=i||{},Ye(function(){var s,o=mn(),a=q("LCP"),r=function(u){i.reportAllChanges||(u=u.slice(-1)),u.forEach(function(f){f.startTime<o.firstHiddenTime&&(a.value=Math.max(f.startTime-At(),0),a.entries=[f],s())})},c=be("largest-contentful-paint",r);if(c){s=V(n,a,ei,i.reportAllChanges);var p=Pt(function(){qt[a.id]||(r(c.takeRecords()),c.disconnect(),qt[a.id]=!0,s(!0))});["keydown","click"].forEach(function(u){addEventListener(u,function(){return pn(p)},!0)}),Xe(p),ve(function(u){a=q("LCP"),s=V(n,a,ei,i.reportAllChanges),fn(function(){a.value=performance.now()-u.timeStamp,qt[a.id]=!0,s(!0)})})}})})(function(n){var i=function(s){var o={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:s.value};if(s.entries.length){var a=_e();if(a){var r=a.activationStart||0,c=s.entries[s.entries.length-1],p=c.url&&performance.getEntriesByType("resource").filter(function(l){return l.name===c.url})[0],u=Math.max(0,a.responseStart-r),f=Math.max(u,p?(p.requestStart||p.startTime)-r:0),d=Math.max(f,p?p.responseEnd-r:0),m=Math.max(d,c.startTime-r);o={element:_t(c.element),timeToFirstByte:u,resourceLoadDelay:f-u,resourceLoadDuration:d-f,elementRenderDelay:m-d,navigationEntry:a,lcpEntry:c},c.url&&(o.url=c.url),p&&(o.lcpResourceEntry=p)}}return Object.assign(s,{attribution:o})}(n);e(i)},t)},ti=[800,1800],ka=function e(t){document.prerendering?Ye(function(){return e(t)}):document.readyState!=="complete"?addEventListener("load",function(){return e(t)},!0):setTimeout(t,0)},La=function(e,t){t=t||{};var n=q("TTFB"),i=V(e,n,ti,t.reportAllChanges);ka(function(){var s=_e();s&&(n.value=Math.max(s.responseStart-At(),0),n.entries=[s],i(!0),ve(function(){n=q("TTFB",0),(i=V(e,n,ti,t.reportAllChanges))(!0)}))})},xa=function(e,t){La(function(n){var i=function(s){var o={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(s.entries.length){var a=s.entries[0],r=a.activationStart||0,c=Math.max((a.workerStart||a.fetchStart)-r,0),p=Math.max(a.domainLookupStart-r,0),u=Math.max(a.connectStart-r,0),f=Math.max(a.connectEnd-r,0);o={waitingDuration:c,cacheDuration:p-c,dnsDuration:u-p,connectionDuration:f-u,requestDuration:s.value-f,navigationEntry:a}}return Object.assign(s,{attribution:o})}(n);e(i)},t)},Fe={passive:!0,capture:!0},Oa=new Date,ni=function(e,t){de||(de=t,$e=e,Yi=new Date,es(removeEventListener),Qi())},Qi=function(){if($e>=0&&$e<Yi-Oa){var e={entryType:"first-input",name:de.type,target:de.target,cancelable:de.cancelable,startTime:de.timeStamp,processingStart:de.timeStamp+$e};pt.forEach(function(t){t(e)}),pt=[]}},_a=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;e.type=="pointerdown"?function(n,i){var s=function(){ni(n,i),a()},o=function(){a()},a=function(){removeEventListener("pointerup",s,Fe),removeEventListener("pointercancel",o,Fe)};addEventListener("pointerup",s,Fe),addEventListener("pointercancel",o,Fe)}(t,e):ni(t,e)}},es=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,_a,Fe)})},ii=[100,300],Aa=function(e,t){t=t||{},Ye(function(){var n,i=mn(),s=q("FID"),o=function(c){c.startTime<i.firstHiddenTime&&(s.value=c.processingStart-c.startTime,s.entries.push(c),n(!0))},a=function(c){c.forEach(o)},r=be("first-input",a);n=V(e,s,ii,t.reportAllChanges),r&&(Xe(Pt(function(){a(r.takeRecords()),r.disconnect()})),ve(function(){var c;s=q("FID"),n=V(e,s,ii,t.reportAllChanges),pt=[],$e=-1,de=null,es(addEventListener),c=o,pt.push(c),Qi()}))})},Pa=function(e,t){Aa(function(n){var i=function(s){var o=s.entries[0],a={eventTarget:_t(o.target),eventType:o.name,eventTime:o.startTime,eventEntry:o,loadState:We(o.startTime)};return Object.assign(s,{attribution:a})}(n);e(i)},t)};const en="com.grafana.faro.lastNavigationId",ct="load_state",si="time_to_first_byte";class Na{constructor(t){this.corePushMeasurement=t}initialize(){this.measureCLS(),this.measureFCP(),this.measureFID(),this.measureINP(),this.measureLCP(),this.measureTTFB()}measureCLS(){pa(t=>{const{loadState:n,largestShiftValue:i,largestShiftTime:s,largestShiftTarget:o}=t.attribution,a=this.buildInitialValues(t);this.addIfPresent(a,"largest_shift_value",i),this.addIfPresent(a,"largest_shift_time",s);const r=this.buildInitialContext(t);this.addIfPresent(r,ct,n),this.addIfPresent(r,"largest_shift_target",o),this.pushMeasurement(a,r)})}measureFCP(){ha(t=>{const{firstByteToFCP:n,timeToFirstByte:i,loadState:s}=t.attribution,o=this.buildInitialValues(t);this.addIfPresent(o,"first_byte_to_fcp",n),this.addIfPresent(o,si,i);const a=this.buildInitialContext(t);this.addIfPresent(a,ct,s),this.pushMeasurement(o,a)})}measureFID(){Pa(t=>{const{eventTime:n,eventTarget:i,eventType:s,loadState:o}=t.attribution,a=this.buildInitialValues(t);this.addIfPresent(a,"event_time",n);const r=this.buildInitialContext(t);this.addIfPresent(r,"event_target",i),this.addIfPresent(r,"event_type",s),this.addIfPresent(r,ct,o),this.pushMeasurement(a,r)})}measureINP(){Ta(t=>{const{interactionTime:n,presentationDelay:i,inputDelay:s,processingDuration:o,nextPaintTime:a,loadState:r,interactionTarget:c,interactionType:p}=t.attribution,u=this.buildInitialValues(t);this.addIfPresent(u,"interaction_time",n),this.addIfPresent(u,"presentation_delay",i),this.addIfPresent(u,"input_delay",s),this.addIfPresent(u,"processing_duration",o),this.addIfPresent(u,"next_paint_time",a);const f=this.buildInitialContext(t);this.addIfPresent(f,ct,r),this.addIfPresent(f,"interaction_target",c),this.addIfPresent(f,"interaction_type",p),this.pushMeasurement(u,f)})}measureLCP(){Ia(t=>{const{elementRenderDelay:n,resourceLoadDelay:i,resourceLoadDuration:s,timeToFirstByte:o,element:a}=t.attribution,r=this.buildInitialValues(t);this.addIfPresent(r,"element_render_delay",n),this.addIfPresent(r,"resource_load_delay",i),this.addIfPresent(r,"resource_load_duration",s),this.addIfPresent(r,si,o);const c=this.buildInitialContext(t);this.addIfPresent(c,"element",a),this.pushMeasurement(r,c)})}measureTTFB(){xa(t=>{const{dnsDuration:n,connectionDuration:i,requestDuration:s,waitingDuration:o,cacheDuration:a}=t.attribution,r=this.buildInitialValues(t);this.addIfPresent(r,"dns_duration",n),this.addIfPresent(r,"connection_duration",i),this.addIfPresent(r,"request_duration",s),this.addIfPresent(r,"waiting_duration",o),this.addIfPresent(r,"cache_duration",a);const c=this.buildInitialContext(t);this.pushMeasurement(r,c)})}buildInitialValues(t){return{[t.name.toLowerCase()]:t.value,delta:t.delta}}buildInitialContext(t){var n;const i=(n=Tt(en,ie.session))!==null&&n!==void 0?n:U;return{id:t.id,rating:t.rating,navigation_type:t.navigationType,navigation_entry_id:i}}pushMeasurement(t,n){this.corePushMeasurement({type:"web-vitals",values:t},{context:n})}addIfPresent(t,n,i){i&&(t[n]=i)}}class Ma extends xe{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-web-vitals",this.version=ue}initialize(){this.logDebug("Initializing"),this.intializeWebVitalsInstrumentation().initialize()}intializeWebVitalsInstrumentation(){return this.config.trackWebVitalsAttribution?new Na(this.api.pushMeasurement):new Ot(this.api.pushMeasurement)}}const Ca="navigation",Ba="resource",Ra=/^00-[a-f0-9]{32}-[a-f0-9]{16}-[0-9]{1,2}$/;function ts(e=[]){for(const t of e)if(t.name==="traceparent"){if(!Ra.test(t.description))continue;const[,n,i]=t.description.split("-");if(n!=null&&i!=null)return{traceId:n,spanId:i};break}}function Da(){return"PerformanceObserver"in window}function ns(e=[],t){return e.some(n=>n&&t.match(n)!=null)}function Fa(e){if(document.readyState==="complete")e();else{const t=()=>{document.readyState==="complete"&&(e(),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)}}function ja(e,t={}){for(const[n,i]of Object.entries(t)){const s=e[n];return s==null?!1:qe(i)?i.includes(s):s===i}return!0}function is(e){const{connectEnd:t,connectStart:n,decodedBodySize:i,domainLookupEnd:s,domainLookupStart:o,duration:a,encodedBodySize:r,fetchStart:c,initiatorType:p,name:u,nextHopProtocol:f,redirectEnd:d,redirectStart:m,renderBlockingStatus:l,requestStart:h,responseEnd:g,responseStart:x,responseStatus:A,secureConnectionStart:w,transferSize:y,workerStart:C}=e;return{name:u,duration:_(a),tcpHandshakeTime:_(t-n),dnsLookupTime:_(s-o),tlsNegotiationTime:_(h-w),responseStatus:_(A),redirectTime:_(d-m),requestTime:_(x-h),responseTime:_(g-x),fetchTime:_(g-c),serviceWorkerTime:_(c-C),decodedBodySize:_(i),encodedBodySize:_(r),cacheHitStatus:k(),renderBlockingStatus:_(l),protocol:f,initiatorType:p,visibilityState:document.visibilityState,ttfb:_(x-h)};function k(){let v="fullLoad";return y===0?i>0&&(v="cache"):A!=null?A===304&&(v="conditionalFetch"):r>0&&y<r&&(v="conditionalFetch"),v}}function Ua(e){const{activationStart:t,domComplete:n,domContentLoadedEventEnd:i,domContentLoadedEventStart:s,domInteractive:o,fetchStart:a,loadEventEnd:r,loadEventStart:c,responseStart:p,type:u}=e,f=$a();return Object.assign(Object.assign({},is(e)),{pageLoadTime:_(n-a),documentParsingTime:_(f?o-f:null),domProcessingTime:_(n-o),domContentLoadHandlerTime:_(i-s),onLoadTime:_(r-c),ttfb:_(Math.max(p-(t??0),0)),type:u})}function $a(){var e;return((e=performance.timing)===null||e===void 0?void 0:e.domLoading)!=null?performance.timing.domLoading-performance.timeOrigin:null}function _(e){return e==null?U:typeof e=="number"?Math.round(e).toString():e.toString()}function za(e,t){let n;const i=new Promise(o=>{n=o});return new PerformanceObserver(o=>{var a;const[r]=o.getEntries();if(r==null||ns(t,r.name))return;const c=r.toJSON();let p=ts(c?.serverTiming);const u=(a=Tt(en,ie.session))!==null&&a!==void 0?a:U,f=Object.assign(Object.assign({},Ua(c)),{faroNavigationId:Et(),faroPreviousNavigationId:u});sn(en,f.faroNavigationId,ie.session),e("faro.performance.navigation",f,void 0,{spanContext:p,timestampOverwriteMs:performance.timeOrigin+c.startTime}),n(f)}).observe({type:Ca,buffered:!0}),i}const qa={initiatorType:["xmlhttprequest","fetch"]};function Va(e,t,n){const i=N.config.trackResources;new PerformanceObserver(o=>{const a=o.getEntries();for(const r of a){if(ns(n,r.name))return;const c=r.toJSON();let p=ts(c?.serverTiming);if(i==null&&ja(c,qa)||i){const u=Object.assign(Object.assign({},is(c)),{faroNavigationId:e,faroResourceId:Et()});t("faro.performance.resource",u,void 0,{spanContext:p,timestampOverwriteMs:performance.timeOrigin+c.startTime})}}}).observe({type:Ba,buffered:!0})}var Wa=function(e,t,n,i){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function r(u){try{p(i.next(u))}catch(f){a(f)}}function c(u){try{p(i.throw(u))}catch(f){a(f)}}function p(u){u.done?o(u.value):s(u.value).then(r,c)}p((i=i.apply(e,t||[])).next())})};class Ha extends xe{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-performance",this.version=ue}initialize(){if(!Da()){this.logDebug("performance observer not supported. Disable performance instrumentation.");return}Fa(()=>Wa(this,void 0,void 0,function*(){const t=this.api.pushEvent,n=this.getIgnoreUrls(),{faroNavigationId:i}=yield za(t,n);i!=null&&Va(i,t,n)}))}getIgnoreUrls(){var t;return(t=this.transports.transports)===null||t===void 0?void 0:t.flatMap(n=>n.getIgnoreUrls())}}function ss(e={}){const t=[new ea,new Ma,new No,new ta];return e.enablePerformanceInstrumentation!==!1&&t.unshift(new Ha),e.captureConsole!==!1&&t.push(new kt({disabledLevels:e.captureConsoleDisabledLevels})),t}const Ga="browser",Ka=()=>{const e=window.k6;return{k6:Object.assign({isK6Browser:!0},e?.testRunId&&{testRunId:e?.testRunId})}};var oi=function(e,t,n,i){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function r(u){try{p(i.next(u))}catch(f){a(f)}}function c(u){try{p(i.throw(u))}catch(f){a(f)}}function p(u){u.done?o(u.value):s(u.value).then(r,c)}p((i=i.apply(e,t||[])).next())})},Ja=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};const Xa=30,Ya=5,Za=5e3,Qa=6e4,er=429,tr=202;class nr extends Ys{constructor(t){var n,i,s,o;super(),this.options=t,this.name="@grafana/faro-web-sdk:transport-fetch",this.version=ue,this.disabledUntil=new Date,this.rateLimitBackoffMs=(n=t.defaultRateLimitBackoffMs)!==null&&n!==void 0?n:Za,this.getNow=(i=t.getNow)!==null&&i!==void 0?i:()=>Date.now(),this.promiseBuffer=js({size:(s=t.bufferSize)!==null&&s!==void 0?s:Xa,concurrency:(o=t.concurrency)!==null&&o!==void 0?o:Ya})}send(t){return oi(this,void 0,void 0,function*(){try{if(this.disabledUntil>new Date(this.getNow()))return this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`),Promise.resolve();yield this.promiseBuffer.add(()=>{const n=JSON.stringify(eo(t)),{url:i,requestOptions:s,apiKey:o}=this.options,a=s??{},{headers:r}=a,c=Ja(a,["headers"]);let p;const u=this.metas.value.session;return u!=null&&(p=u.id),fetch(i,Object.assign({method:"POST",headers:Object.assign(Object.assign(Object.assign({"Content-Type":"application/json"},r??{}),o?{"x-api-key":o}:{}),p?{"x-faro-session-id":p}:{}),body:n,keepalive:n.length<=Qa},c??{})).then(f=>oi(this,void 0,void 0,function*(){return f.status===tr&&f.headers.get("X-Faro-Session-Status")==="invalid"&&this.extendFaroSession(this.config,this.logDebug),f.status===er&&(this.disabledUntil=this.getRetryAfterDate(f),this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`)),f.text().catch(ee),f})).catch(f=>{this.logError(`Failed sending payload to the receiver
`,JSON.parse(n),f)})})}catch(n){this.logError(n)}})}getIgnoreUrls(){var t;return[this.options.url].concat((t=this.config.ignoreUrls)!==null&&t!==void 0?t:[])}isBatched(){return!0}getRetryAfterDate(t){const n=this.getNow(),i=t.headers.get("Retry-After");if(i){const s=Number(i);if(!isNaN(s))return new Date(s*1e3+n);const o=Date.parse(i);if(!isNaN(o))return new Date(o)}return new Date(n+this.rateLimitBackoffMs)}extendFaroSession(t,n){const i="Session expired",s=t.sessionTracking;if(s?.enabled){const{fetchUserSession:o,storeUserSession:a}=xi(s);an({fetchUserSession:o,storeUserSession:a})({forceSessionExtend:!0}),n(`${i} created new session.`)}else n(`${i}.`)}}function ir(e){var t,n,i,s,o,a,r,c,p,u;const f=[],d=pi(e.unpatchedConsole,e.internalLoggerLevel);e.transports?((e.url||e.apiKey)&&d.error('if "transports" is defined, "url" and "apiKey" should not be defined'),f.push(...e.transports)):e.url?f.push(new nr({url:e.url,apiKey:e.apiKey})):d.error('either "url" or "transports" must be defined');function m(){const h=xo;return e.metas&&h.push(...e.metas),he(window.k6)?[...h,Ka]:h}return{app:e.app,batching:Object.assign(Object.assign({},yo),e.batching),dedupe:(t=e.dedupe)!==null&&t!==void 0?t:!0,globalObjectKey:e.globalObjectKey||wo,instrumentations:(n=e.instrumentations)!==null&&n!==void 0?n:ss(),internalLoggerLevel:(i=e.internalLoggerLevel)!==null&&i!==void 0?i:mi,isolate:(s=e.isolate)!==null&&s!==void 0?s:!1,logArgsSerializer:(o=e.logArgsSerializer)!==null&&o!==void 0?o:vi,metas:m(),parseStacktrace:Xo,paused:(a=e.paused)!==null&&a!==void 0?a:!1,preventGlobalExposure:(r=e.preventGlobalExposure)!==null&&r!==void 0?r:!1,transports:f,unpatchedConsole:(c=e.unpatchedConsole)!==null&&c!==void 0?c:St,beforeSend:e.beforeSend,eventDomain:(p=e.eventDomain)!==null&&p!==void 0?p:Ga,ignoreErrors:e.ignoreErrors,ignoreUrls:((u=e.ignoreUrls)!==null&&u!==void 0?u:[]).concat([/\/collect(?:\/[\w]*)?$/]),sessionTracking:Object.assign(Object.assign({},Po),e.sessionTracking),user:e.user,view:e.view,trackResources:e.trackResources,trackWebVitalsAttribution:e.trackWebVitalsAttribution}}function sr(e){const t=ir(e);if(t)return bo(t)}function or({appName:e,tenant:t}){sr({url:"/log/collect",app:{name:e,version:"1.0.0",environment:"production"},user:{attributes:{tenant:t}},instrumentations:[...ss()]})}(window.tenantConfig?.features?.faro?.enabled||new URLSearchParams(window.location.search).get("enableFaro")==="true")&&or({appName:"Nutrition Storefront",tenant:window.tenantConfig?.application?.livedomain});class ar extends HTMLElement{constructor(){super(),this.bindEventListeners(),new MutationObserver(n=>{this.bindEventListeners()}).observe(this,{childList:!0,subtree:!0})}bindEventListeners=()=>{const t=this.querySelector("dialog"),n=t?.querySelectorAll(".closeBtn"),i=document.getElementById("modal-content");this.querySelector("#emailReEngagementModal")&&(n.forEach(o=>{o.addEventListener("click",this.addCookie)}),t?.addEventListener("keydown",({key:o})=>{o==="Escape"&&this.addCookie()})),t?.addEventListener("keydown",({key:o})=>{o==="Escape"&&(i.innerHTML="",t?.classList.remove("modal"),t?.setAttribute("aria-hidden","true"),t.close())}),n?.forEach(o=>{o?.addEventListener("click",()=>{i.innerHTML="",t?.classList.remove("modal"),t?.setAttribute("aria-hidden","true"),t.close()})})};addCookie(){document.cookie="emailReEngagementCookie=newsletter-showed; path=/; secure;"}}class rr extends HTMLElement{constructor(){super(),this.bindEventListeners(),new MutationObserver(n=>{this.bindEventListeners()}).observe(this,{childList:!0,subtree:!0})}bindEventListeners=()=>{const t=this.querySelector("dialog"),n=t?.querySelectorAll(".closeBtn"),i=document.getElementById("drawer-content");n?.forEach(s=>{s?.addEventListener("click",()=>{t?.classList.remove("modal"),t?.setAttribute("aria-hidden","true"),i.innerHTML="",t.close()})})}}ys();if(lt(`ElysiumBasket${window.tenantConfig?.application?.basketCookieName}_V6`))try{const e=lt(`ElysiumBasket${window.tenantConfig?.application?.basketCookieName}_V6`);let t=e;btoa(atob(e))==e&&(t=atob(e)),Es(t)}catch{}Gt()?await ne({operation:"BasketCount",variables:{currency:window.siteObj.currency,shippingDestination:window.siteObj.country,id:Gt()||null}}).then(e=>{An(e?.data?.basket?.totalQuantity)}):An(0);const Be=new URLSearchParams(window.location.search);Be.get("registrationSuccess")?(window.Tracker.store.set("account_registration_method",Be.get("registrationMethod")),window.Tracker.store.set("user_id",Be.get("userId"))):Be.get("loginSuccess")&&window.Tracker.store.set("login_method",Be.get("loginMethod"));customElements.get("shared-modal")||customElements.define("shared-modal",ar);customElements.define("shared-drawer",rr);const H=document.getElementById("customer-account"),oe=document.getElementById("account-options"),Re=document.getElementById("customer-button"),O=document.getElementById("basket-info-wrapper"),D=document.getElementById("basket-info"),R=document.getElementById("basket-count"),cr=window.innerWidth<=640;cr?(H&&(oe?.addEventListener("click",e=>{e.stopPropagation()}),H?.addEventListener("click",()=>{oe?.classList.contains("hidden")?(oe?.classList.remove("hidden"),H?.classList.add("bg-gray-100"),Re?.classList.remove("text-white")):(oe?.classList.add("hidden"),H?.classList.remove("bg-gray-100"),Re?.classList.add("text-white"))}),document?.addEventListener("click",e=>{!H?.contains(e.target)&&!oe?.contains(e.target)&&(oe?.classList.add("hidden"),H?.classList.remove("bg-gray-100"),Re?.classList.add("text-white"))})),O&&(D?.addEventListener("click",e=>{e.stopPropagation()}),O?.addEventListener("click",()=>{Vt(),D?.classList.contains("hidden")?(D?.classList.remove("hidden"),O?.classList.add("bg-gray-100"),O?.classList.remove("text-white"),R?.classList.remove("bg-white","text-primary"),R?.classList.add("bg-black","text-white")):(D?.classList.add("hidden"),O?.classList.remove("bg-gray-100"),O?.classList.add("text-white"),R?.classList.remove("bg-black","text-white"),R?.classList.add("bg-white","text-primary"))}),document?.addEventListener("click",e=>{!O?.contains(e.target)&&!D?.contains(e.target)&&(D?.classList.add("hidden"),O?.classList.remove("bg-gray-100"),O?.classList.add("text-white"),R?.classList.remove("bg-black","text-white"),R?.classList.add("bg-white","text-primary"))}))):(H&&(H?.addEventListener("mouseover",()=>{oe?.classList.remove("hidden"),H?.classList.add("bg-gray-100"),Re?.classList.remove("text-white")}),H?.addEventListener("mouseout",()=>{oe?.classList.add("hidden"),H?.classList.remove("bg-gray-100"),Re?.classList.add("text-white")})),O&&(window.ontouchstart!==void 0?(O?.addEventListener("touchstart",()=>{Vt(),D?.classList.remove("hidden"),O?.classList.add("bg-gray-100"),O?.classList.remove("text-white"),R?.classList.remove("bg-white","text-primary"),R?.classList.add("bg-black","text-white")}),document?.addEventListener("touchend",e=>{O?.contains(e.target)||(D?.classList.add("hidden"),O?.classList.remove("bg-gray-100"),O?.classList.add("text-white"),R?.classList.remove("bg-black","text-white"),R?.classList.add("bg-white","text-primary"))})):(O?.addEventListener("mouseover",e=>{e.target===e.currentTarget&&D?.classList.contains("hidden")&&Vt(),D?.classList.remove("hidden"),O?.classList.add("bg-gray-100"),O?.classList.remove("text-white"),R?.classList.remove("bg-white","text-primary"),R?.classList.add("bg-black","text-white")}),O?.addEventListener("mouseout",()=>{D?.classList.add("hidden"),O?.classList.remove("bg-gray-100"),O?.classList.add("text-white"),R?.classList.remove("bg-black","text-white"),R?.classList.add("bg-white","text-primary")}))));const dr=document.querySelectorAll(".logout-btn");dr.forEach(e=>{e.addEventListener("click",lr)});async function Vt(){let e=localStorage.getItem("miniBasketData");if(e)pe("/fragments/minibasket",D,{basketData:JSON.parse(e)});else try{const t=await ne({operation:"MiniBasket",variables:{id:Gt(),currency:window.siteObj.currency,shippingDestination:window.siteObj.country}});t?.data?.basket&&(localStorage.setItem("miniBasketData",JSON.stringify(t?.data?.basket)),pe("/fragments/minibasket",D,{basketData:t?.data?.basket}))}catch(t){console.log(t.message)}}async function lr(){try{const{data:e}=await ne({operation:"Logout"});window.Tracker.handlers.logout(),e.logout===null&&window.location.reload()}catch(e){console.error(e.message)}}function ur(e){const n=performance.getEntriesByType("navigation")[0]?.toJSON(),i=performance.getEntriesByType("paint")[0],s=navigator.userAgent;function o(){return{backendLoadTime:Math.round(n?.responseEnd-n?.responseStart)||null,cacheTime:Math.round(n?.domainLookupStart-n?.fetchStart)||null,connectionTime:Math.round(n?.connectEnd-n?.connectStart)||null,dnsTime:Math.round(n?.domainLookupEnd-n?.domainLookupStart)||null,domInteractiveTime:Math.round(n?.domInteractive-n?.startTime)||null,domParsingTime:Math.round(n?.domInteractive-n?.responseEnd)||null,domReadyTime:Math.round(n?.domComplete-n?.domInteractive)||null,firstPaintTime:Math.round(i?.startTime-n?.startTime)||null,frontendLoadTime:Math.round(n?.domComplete-n?.domInteractive)||null,loadEventTime:Math.round(n?.duration)||null,navigationTime:Math.round(n?.loadEventEnd-n?.startTime)||null,redirectTime:Math.round(n?.redirectEnd-n?.redirectStart)||null}}function a(){return s.includes("Firefox")?"Firefox":s?.includes("Opera")||s?.includes("OPR")?"Opera":s?.includes("Edg")?"Microsoft Edge":s?.includes("Chrome")?"Chrome":s?.includes("Safari")?"Safari":"unknown"}function r(){let m="unknown";return s?.indexOf("Win")!=-1&&(m="Windows"),s?.indexOf("Mac")!=-1&&(m="Mac"),s?.indexOf("Linux")!=-1&&(m="Linux"),s?.indexOf("Android")!=-1&&(m="Android"),s?.indexOf("like Mac")!=-1&&(m="iOS"),m}function c(){return s?/android/i.test(s)?"Android":/iPad|iPhone|iPod/.test(s)?"iOS":/Windows/.test(s)?"Windows PC":/Macintosh/.test(s)?"Mac PC":"unknown":"unknown"}function p(){if(s)return/iPad/i.test(s)?"Tablet":/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(s)?"Mobile":"Desktop"}function u(){return{type:c(),group:p(),browser:a(),os:r()}}function f(){const m=navigator?.connection?.type||null,l=navigator?.connection?.effectiveType||null;return{type:m,effective_type:l}}function d(){return{type:e,theme:""}}return{navigationTiming:o(),device:u(),network:f(),page:d()}}const{lang:fr}=window,mr=!lt("emailReEngagementCookie"),pr=["basket","privacy","refunds","returns","emailSignUp","security"];function os(){let e=!1;return pr.forEach(t=>{if(window.location.pathname.includes(t))return e=!0}),e}let as;await ne({operation:"ClientInit",variables:{name:"global",showReEngagement:mr&&!os(),currency:window.siteObj.currency||""}}).then(e=>{window?.Tracker?.handlers?.pageVisit();const t=e?.data?.customer;if(as=e?.data?.componentWidgets,Os(t?.creditAccounts),t){window.loginStatus=!0;const n=document.getElementById("logged-out-wrapper");document.getElementById("logged-in-wrapper").classList.remove("hidden"),n.classList.add("hidden");let s=t?.fullName?.split(" ")[0]??"";document.getElementById("customer-info").innerText=window.altitude.i18n(()=>fr.altitude.header.account.dropdown.message,s),Ss(t?.fullName),Pn(!0),window.Tracker.store.pageInfo?(window.Tracker.store.pageInfo.visitorLoginState="LOGGED_IN",window.Tracker.store.pageInfo.visitorId=t?.hashedEmail,window.Tracker.store.pageInfo.visitorEmailAddress=t?.hashedEmail,window.Tracker.store.set("user_id",t?.hashedEmail)):window.__LOGIN__="LOGGED_IN"}else window.loginStatus=!1,Pn(!1),window.Tracker.store.pageInfo?(window.Tracker.store.pageInfo.visitorLoginState="LOGGED_OUT",window.Tracker.store.pageInfo.visitorId="unknown"):window.__LOGIN__="LOGGED_OUT"});const hr=window.location.search,gr=new URLSearchParams(hr),vr=!lt("emailReEngagementCookie")&&!gr.get("disableReEngagement")&&!os(),br=2e4;vr&&document.addEventListener("scroll",rs);function rs(){window.requestIdleCallback||(window.requestIdleCallback=(e,t)=>{const n=t||{},i=1,s=n.timeout||i,o=performance.now();return setTimeout(()=>{e(null,{get didTimeout(){return t.timeout?!1:performance.now()-o-i>s},timeRemaining:()=>Math.max(0,i+(performance.now()-o))})},i)}),setTimeout(()=>{window.requestIdleCallback(()=>{gt("/fragments/emailReEngagementModal",{widget:as?.find(e=>e.__typename==="EmailReEngagementModal")},!0,!0),window.Tracker.handlers.reEngOpen()})},br),document.removeEventListener("scroll",rs)}window.sharedFunctions||(window.sharedFunctions={});window.sharedFunctions.useFetchApi=ne;window.sharedFunctions.recaptchaResponse=Ts;window.sharedFunctions.setRecaptchaResponse=Is;window.sharedFunctions.reCaptchaTriggered=ks;window.sharedFunctions.setRecaptchaId=Ls;window.sharedFunctions.recaptchaIds=xs;window.sharedFunctions.triggerModal=gt;window.sharedFunctions.fetchFragment=pe;let Ae={};ji(e=>{Ae.ttfb=Math.round(e.value)});un(e=>{Ae.fcp=Math.round(e.value)});Fi(e=>{Ae.lcp=Math.round(e.value)});zi(e=>{Ae.fid=Math.round(e.value)});Mi(e=>{Ae.cls=e.value});let ai=!1;addEventListener("visibilitychange",()=>{if(!ai&&document.visibilityState==="hidden"){const t=document.querySelector("#layout-body")?.getAttribute("data-page")||null;window.Tracker.handlers.performanceData(Ae,ur(t)),ai=!0}});const wr=document.getElementById("search-icon"),te=document.getElementById("mobile-search-overlay"),cs=document.getElementById("mobile-search-form"),ds=document.getElementById("close-mobile-search"),ht=document.getElementById("mobile-search-input");function yr(){te?.addEventListener("keydown",ls),te?.classList.remove("hidden"),document.body?.classList.add("scrollBlock"),ht?.focus(),te?.addEventListener("click",e=>e.stopPropagation()),cs?.addEventListener("click",e=>e.stopPropagation()),te?.addEventListener("click",He),ds?.addEventListener("click",He)}function He(){te?.removeEventListener("keydown",ls),te?.classList.add("hidden"),document.body?.classList.remove("scrollBlock"),ht.value="",te?.removeEventListener("click",e=>e.stopPropagation()),cs?.removeEventListener("click",e=>e.stopPropagation()),te?.removeEventListener("click",He),ds?.removeEventListener("click",He)}function ls(e){e.key==="Escape"&&He();const t=te?.querySelectorAll("[tabindex]");t&&tabTrap(e,t[0],t,t[t.length-1])}wr?.addEventListener("click",yr);class Er extends HTMLElement{constructor(){super(),this.debounceTimeout=null,this.wrapper=this.querySelector("#mobile-instant-search"),ht?.addEventListener("input",t=>this.debouncedSearch(t)),ht?.addEventListener("focus",()=>this.showSearchComponent())}async showSearchComponent(){ne({operation:"InstantSearchWidget",variables:{name:"global"}}).then(t=>{let n=t?.data?.componentWidgets.filter(i=>i.__typename=="InstantSearchWidget")[0]||null;n!=null&&pe("/fragments/InstantSearchWidget",this.wrapper,{widgetData:n}).then(()=>this.wrapper?.classList.remove("hidden"))}).catch(t=>console.log(t))}debounce(t,n){return(...i)=>{clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>t.apply(this,i),n)}}debouncedSearch=this.debounce(async t=>{const n=t?.target?.value?.trim();if(!n){await this.showSearchComponent();return}n.length>=3&&await this.performSearch(n)},500);async performSearch(t){try{const n=await ne({operation:"InstantSearch",variables:{query:t,currency:window?.siteObj?.currency,shippingDestination:window.siteObj.country}});n.data.instantSearch.suggestedSearchQueries.length||n.data.instantSearch.products.length?(await pe("/fragments/InstantSearch",this.wrapper,{searchData:n.data.instantSearch}),this.wrapper?.classList.remove("hidden"),n.data.instantSearch.products.forEach(i=>{window.Tracker.store.set("suggestedProducts",{[i?.sku]:{product_id:i?.sku,product_name:i?.title,url:i?.url}})})):await this.showSearchComponent()}catch(n){console.error("Search error:",n),await this.showSearchComponent()}}}customElements.define("mobile-instant-search",Er);const Sr=document.querySelectorAll(".a11y-with-flyout"),Tr=document.querySelectorAll(".nav-controls"),Ir=document.querySelectorAll("button.a11y-flyout-toggle"),us=document.querySelector(".navigation-container");function fs(){Sr.forEach(e=>{e.setAttribute("aria-expanded","false"),e.parentNode.querySelector("button").setAttribute("aria-expanded","false")}),us.querySelectorAll("[data-nav-index]").forEach(e=>e.classList.add("hidden"))}function kr(e){fs();let t=e.getAttribute("data-nav-index");e.querySelector(".a11y-with-flyout")?.setAttribute("aria-expanded","true"),e.querySelector("button")?.setAttribute("aria-expanded","true"),us.querySelector(`[data-nav-index="${t}"]`)?.classList.remove("hidden")}Tr.forEach(e=>{e.addEventListener("mouseenter",()=>{kr(e)})});document.querySelector(".desktop-nav")?.addEventListener("mouseleave",()=>{fs()});Ir.forEach(e=>{e.addEventListener("click",t=>{const n=e.getAttribute("aria-expanded"),{target:i}=t;if(i instanceof HTMLElement)if(n==="true")i.setAttribute("aria-expanded","false"),i.parentNode?.parentNode.querySelector(".a11y-with-flyout").setAttribute("aria-expanded","false"),i.parentNode?.parentNode?.classList.remove("open");else{i.setAttribute("aria-expanded","true"),i?.parentNode?.parentNode?.querySelector(".a11y-with-flyout").setAttribute("aria-expanded","true"),i.parentNode?.parentNode?.classList.add("open");const s=i.parentNode?.parentNode?.nextElementSibling?.querySelector("div.navigation-container > .navigation-container > a"),o=i.parentNode?.parentNode?.nextElementSibling?.querySelector("div.navigation-container>div>div>a");(s||o).focus()}})});const{lang:Lr}=window,ms=document.getElementById("menu-btn"),xr=document.getElementById("close-btn"),gn=document.getElementById("nav-overlay"),ze=document.getElementById("mobile-main-nav"),Or=document.querySelectorAll(".m-nav-title"),me=document.getElementById("back-btn");ms?.addEventListener("click",_r);xr?.addEventListener("click",ps);gn?.addEventListener("click",ps);function _r(){ze?.addEventListener("click",e=>e.stopPropagation()),gn?.classList.remove("hidden"),document.body.classList.add("scrollBlock"),ze?.classList.add("m-nav-active"),ze?.classList.remove("mobile-navigation-inactive")}function ps(){ze?.classList.remove("m-nav-active"),ze?.classList.add("mobile-navigation-inactive"),gn?.classList.add("hidden"),document.body.classList.remove("scrollBlock"),ms?.focus(),hs()}Or?.forEach((e,t)=>{e?.addEventListener("click",()=>{const n=document.getElementById(`subNav-${t}`);me?.classList.add("m-back"),me.innerText=`${window.altitude.i18n(()=>Lr.altitude.navigation.mobile.back.text)}`||"Back",me.dataset.index=t,n?.classList.remove("hidden")})});me?.addEventListener("click",hs);function hs(){me.classList.remove("m-back"),me.innerText="",document.getElementById(`subNav-${Number(me.dataset.index)}`)?.classList.add("hidden")}function Ar(){class e extends HTMLElement{constructor(){super();const n=window?.tenantConfig?.features?.recaptcha?.enabled,i=document.getElementById("newsletter-signup-form"),s=document.getElementById("email-newsletter"),o=document.getElementById("newsletter-content");document.getElementById("recaptcha-component").setAttribute("data-recaptcha-enabled","true"),i?.addEventListener("submit",r);function r(p){p.preventDefault(),n&&window.sharedFunctions.recaptchaResponse.get()?c({"X-Captcha-Type":"V2_VISIBLE","X-Captcha-Response":window.sharedFunctions.recaptchaResponse.get()}):c()}async function c(p={}){if(!s.value)return;const u=s.value;document.getElementById("email-signup-error").classList.add("hidden");try{const f=await window.sharedFunctions.useFetchApi({operation:"NewsletterSignup",variables:{email:u,auditData:{messageShown:"Sign-up to our newsletter",formIdentifier:"newsletter",formLocation:window.location.href}},customHeaders:p});if(f?.data?.signUpForMarketing||f?.data?.signUpForMarketing===null)if(f?.data?.signUpForMarketing==="OK"){o?.classList.add("hidden");const d=document.getElementById("newsletter-content-success");d?.classList.remove("hidden"),d.querySelector("button")?.classList.remove("hidden")}else o?.classList.add("hidden"),document.getElementById("newsletter-content-duplicate")?.classList.remove("hidden");else{const d=document.getElementById("email-signup-error");d?.classList.remove("hidden"),d.querySelector("button")?.classList.remove("hidden")}}catch(f){console.error(f.message);const d=document.getElementById("email-signup-error");d?.classList.remove("hidden"),d.querySelector("button")?.classList.remove("hidden")}}this.hasRecaptcha&&document.getElementById("email-newsletter")?.addEventListener("input",window.sharedFunctions.loadRecaptcha)}}customElements.get("email-newsletter-modal")||customElements.define("email-newsletter-modal",e)}const Pr=document.getElementById("footer-newsletter-signup"),Nr=window.location.href.includes("emailSignUp");Pr?.addEventListener("click",()=>{Nr?window.scrollTo({top:0,behavior:"smooth"}):gt("/fragments/newsletterModalFragment",{data:null},!0,!0).then(()=>Ar())});const Wt=document.getElementById("search-input");class Mr extends HTMLElement{constructor(){super(),this.debounceTimeout=null,this.wrapper=this.querySelector("#instant-search"),Wt?.addEventListener("input",t=>this.debouncedSearch(t)),Wt?.addEventListener("focus",()=>this.showSearchComponent()),"ontouchstart"in window||document.addEventListener("click",t=>{t.composedPath().includes(Wt)||this.wrapper?.classList.add("hidden")})}async showSearchComponent(){ne({operation:"InstantSearchWidget",variables:{name:"global"}}).then(t=>{let n=t?.data?.componentWidgets.filter(i=>i.__typename=="InstantSearchWidget")[0]||null;n!=null&&pe("/fragments/InstantSearchWidget",this.wrapper,{widgetData:n}).then(()=>this.wrapper?.classList.remove("hidden"))}).catch(t=>console.log(t))}debounce(t,n){return(...i)=>{clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>t.apply(this,i),n)}}debouncedSearch=this.debounce(async t=>{const n=t?.target?.value?.trim();if(!n){await this.showSearchComponent();return}n.length>=3&&await this.performSearch(n)},500);async performSearch(t){try{const n=await ne({operation:"InstantSearch",variables:{query:t,currency:window?.siteObj?.currency,shippingDestination:window.siteObj.country}});(n.data.instantSearch.suggestedSearchQueries.length||n.data.instantSearch.products.length)&&(await pe("/fragments/InstantSearch",this.wrapper,{searchData:n.data.instantSearch}),this.wrapper?.classList.remove("hidden"),n.data.instantSearch.products.forEach(i=>{window.Tracker.store.set("suggestedProducts",{[i?.sku]:{product_id:i?.sku,product_name:i?.title,url:i?.url}})}))}catch(n){console.error("Search error:",n),await this.showSearchComponent()}}}customElements.define("instant-search",Mr);class Cr extends HTMLElement{containerName;uspContainer;uspItems;uspIndex;resize=!1;intervalId;intersectObserver;constructor(){super(),this.containerName=this.getAttribute("id"),this.uspContainer=document.getElementById(this.containerName),this.uspItems=[...this.uspContainer.children],window.innerWidth<768&&this.toggleUSP(),window.addEventListener("resize",()=>this.debounce(this.toggleUSP))}observe(){this.intersectObserver=new IntersectionObserver(t=>{const n=t.find(i=>i.isIntersecting);if(n){const{target:i}=n,s=this.uspItems.findIndex(o=>o.isSameNode(i));this.uspIndex=s+1}},{threshold:1,root:null});for(const t of this.uspItems)this.intersectObserver.observe(t)}toggleUSP(){const t=window.innerHeight*.01;if(document.documentElement.style.setProperty("--vh",`${t}px`),window.innerWidth<768)this.resize||(this.resize=!0,this.observe(),this.intervalId=setInterval(()=>{this.uspContainer.scrollTo({top:0,left:window.innerWidth*(this.uspIndex<this.uspItems.length?this.uspIndex:0)})},4e3));else if(clearInterval(this.intervalId),this.resize=!1,this.intersectObserver)for(const n of this.uspItems)this.intersectObserver.unobserve(n)}debounce(t){let n;return function(){n&&clearTimeout(n),n=setTimeout(t,100)}}}customElements.get("banner-callouts")||customElements.define("banner-callouts",Cr);const tn=document.querySelectorAll(".footer-accordionTitle"),ri=document.querySelectorAll(".footer-accordionContent"),Ht=document.querySelectorAll(".footer-iconPlus");function Br(e){Object.values(Ht[e].classList).indexOf("-rotate-180")==-1?(Ht[e].classList.add("-rotate-180"),ri[e].classList.toggle("hidden"),tn[e].querySelector("button").setAttribute("aria-expanded","true")):(Ht[e].classList.remove("-rotate-180"),ri[e].classList.toggle("hidden"),tn[e].querySelector("button").setAttribute("aria-expanded","false"))}tn.forEach((e,t)=>{e.addEventListener("click",()=>Br(t))});const Rr=document.querySelectorAll(".session-settings"),ci=document.getElementById("locale-selection"),Dr=document.getElementById("nav-container"),Fr=document.getElementById("navigation");ci&&(ci.innerHTML=`${window.tenantConfig?.application?.siteAttributes?.subsite?.toUpperCase()} |`);Rr?.forEach(e=>e.addEventListener("click",()=>{gt("/fragments/sessionSettingsFragment"),Fr?.classList.remove("mobile-navigation-active"),Dr?.classList.remove("mobile-nav-container-active")}));export{Ar as i};

</script>

</body>
</html>
