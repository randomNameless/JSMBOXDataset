<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>233.635fffeb.chunk.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[233],{13233:(e,t,n)=>{n.r(t),n.d(t,{default:()=>No});var o=n(91976),r=n(67591),a=n(77447),i=n(77554),s=n(9584),l=n(27782),c=n(68094),d=n(88876),u=n(70049),p=n(93050),h=n(63489),g=n(19094),m=n(22546),f=n(91527),v=s.default.div.withConfig({displayName:"HeaderLayout__Root",componentId:"sc-1czu6h4-0"})(["box-sizing:border-box;background:",";box-shadow:0 1px 4px 0 rgba(0,0,0,0.2);min-height:","px;position:fixed;width:100%;z-index:2;display:flex;align-items:center;padding:0 14px 0 16px;flex:0 0 auto;"],(function(e){return e.theme.palette.primaryColor}),f.MT),y=s.default.div.withConfig({displayName:"HeaderLayout__Content",componentId:"sc-1czu6h4-1"})(["flex:1 auto;color:",";margin-left:",";line-height:1.5;min-width:0;> *{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"],(function(e){return e.theme.palette.whiteTextConstant}),(function(e){return e.hasLeftAction?"4px":"12px"})),C=s.default.div.withConfig({displayName:"HeaderLayout__Name",componentId:"sc-1czu6h4-2"})(["font-size:",";font-weight:600;"],(function(e){return e.isRouteHome?"18px":"16px"})),x=s.default.div.withConfig({displayName:"HeaderLayout__Status",componentId:"sc-1czu6h4-3"})(["font-size:14px;"]),w=s.default.div.withConfig({displayName:"HeaderLayout__Action",componentId:"sc-1czu6h4-4"})(["flex:0 0 auto;"]),I=(0,s.default)(h.default).withConfig({displayName:"HeaderLayout__LeftActionButton",componentId:"sc-1czu6h4-5"})(["width:24px;height:24px;padding:10px;"]),b=(0,s.default)(h.default).withConfig({displayName:"HeaderLayout__RightActionButton",componentId:"sc-1czu6h4-6"})(["padding:0;border-radius:50%;margin-left:8px;background-color:",";box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 0 2px 0 rgba(0,0,0,0.12);"],(function(e){return e.theme.palette.primaryLightColor})),A=function(e){var t=e.companyName,n=e.status,o=e.isRouteHome,r=e.hasLeftAction;return a.createElement(y,{hasLeftAction:r},a.createElement(C,{isRouteHome:o},t),n&&a.createElement(x,null,n))},E=function(e){var t=e.companyName,n=e.hasLeftAction,o=e.hasRightAction,r=e.isRouteHome,i=e.onClose,s=e.onLeftAction,l=e.onRightAction,c=e.showClose,d=e.status,u=e.theme,p=e.unreadMessagesCount,f=function(e){return{leftActionIconColor:e.palette.whiteTextConstant,rightActionIcon:{marginLeft:5,marginTop:3},rightActionIconColor:e.palette.whiteTextConstant,badge:{position:"absolute",top:0,right:0}}}(u);return a.createElement(v,null,n&&a.createElement(w,null,a.createElement(g.Z,{counter:p,badgeStyle:f.badge},a.createElement(I,{onClick:s},a.createElement(m.xC,{fill:f.leftActionIconColor})))),a.createElement(A,{companyName:t,status:d,hasLeftAction:n,isRouteHome:r}),o&&a.createElement(w,null,a.createElement(g.Z,{counter:p},a.createElement(b,{width:44,height:44,onClick:l},a.createElement(m.ZI,{fill:f.rightActionIconColor,style:f.rightActionIcon})))),c&&a.createElement(h.default,{onClick:i},a.createElement(m.Tw,{fill:u.palette.whiteTextConstant})))};E.defaultProps={status:""};const T=(0,s.withTheme)(E);var M=n(80065),D=n(37999),N=s.default.div.withConfig({displayName:"AlertError__Root",componentId:"sc-1q48zsn-0"})(["position:absolute;z-index:99998;top:0;left:0;width:100%;height:100%;"]),S=s.default.div.withConfig({displayName:"AlertError__Modal",componentId:"sc-1q48zsn-1"})(["z-index:99999;position:absolute;bottom:16px;width:328px;left:calc(50% - 164px);min-height:178px;border-radius:",";background-color:",";padding:16px;box-sizing:border-box;text-align:center;box-shadow:0 5px 15px 0 rgba(0,0,0,0.15),0 0 5px 0 rgba(0,0,0,0.05);"],(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.palette.foregroundColor})),B=s.default.div.withConfig({displayName:"AlertError__SubTitle",componentId:"sc-1q48zsn-2"})(["font-size:14px;line-height:1.43;text-align:center;color:",";margin:0 0 16px 0;"],(function(e){return e.theme.palette.primaryTextColor})),R=(0,s.default)(B).withConfig({displayName:"AlertError__Title",componentId:"sc-1q48zsn-3"})(["font-weight:600;margin:5px 0 "," 0;"],(function(e){return e.withSubtitle?0:"16px"})),F=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).handleAcceptClick=function(){t.props.dispatch((0,D.$4)())},t}return(0,r.Z)(t,e),t.prototype.render=function(){var e={warningIconColor:this.props.theme.palette.errorColor,warningIcon:{width:36,height:36},warningButton:{width:"100%",height:44}},t=this.props,n=t.alertErrorTitle,o=t.alertErrorSubtitle,r=t.t;return this.props.open&&a.createElement(N,null,a.createElement(S,null,a.createElement(m.aN,{style:e.warningIcon,fill:e.warningIconColor}),a.createElement(R,{withSubtitle:Boolean(o)},r(n.key,n.values)),o&&a.createElement(B,null,r(o.key,o.values)),a.createElement(M.default,{primaryInversion:!0,style:e.warningButton,onClick:this.handleAcceptClick},r("alertErrorButtonLabel"))))},(0,o.Z)(t)}(a.Component);F.defaultProps={alertErrorSubtitle:null,alertErrorTitle:null};const k=(0,s.withTheme)((0,i.$j)((function(e){return{open:e.widget.alertErrorOpen,alertErrorTitle:e.widget.alertErrorTitle,alertErrorSubtitle:e.widget.alertErrorSubtitle}}))((0,p.Zh)()(F)));var L=n(11026);function z(e,t,n){if(t&&!Array.isArray(t)&&"number"===typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var H=s.default.div.withConfig({displayName:"ConnectionNotification__Root",componentId:"sc-mhr6rj-0"})(["flex-grow:0;flex-shrink:0;flex-basis:",";overflow:hidden;transition:background-color 0.2s linear,opacity 0.2s linear ",",flex-basis 0.2s linear ",";display:flex;justify-content:center;align-items:center;margin-top:","px;z-index:3;font-size:13px;font-weight:normal;color:",";background-color:",";opacity:",";"],(function(e){return e.isOnline?"0":"34px"}),(function(e){return e.isOnline&&"1s"}),(function(e){return e.isOnline&&"1s"}),f.MT,(function(e){return e.theme.palette.whiteTextConstant}),(function(e){return e.isOnline?e.theme.palette.primaryColor:e.theme.palette.errorColor}),(function(e){return e.isOnline?"0":"1"}));const Z=function(e){var t=e.isOnline,n=(0,p.$G)(),o=z(L.Z,n,1)[0];return a.createElement(H,{isOnline:t},a.createElement("span",null,o(t?"connectionSuccess":"connectionError")))};var Q=n(81088),G=n(51410),O=n(76023),U=s.default.div.withConfig({displayName:"ComposerInput__Root",componentId:"sc-vr5qwd-0"})(["position:relative;width:100%;padding:","px;background:",";box-sizing:border-box;box-shadow:0 -0.5px 0 0 rgba(0,0,0,0.13),0 -3px 5px 0 rgba(0,0,0,0.02);border-radius:",";border:",";z-index:100;display:flex;align-items:flex-start;"],f.CS,(function(e){var t=e.hasFocus,n=e.theme.palette;return t?n.foregroundColor:n.backgroundCardColor}),(function(e){return e.hasBorder?"0 0 15px 15px":0}),(function(e){var t=e.hasBorder,n=e.theme.palette;return t?"1px solid "+n.dividerColor:"none"})),j=(0,s.default)(G.Z).withConfig({displayName:"ComposerInput__Textarea",componentId:"sc-vr5qwd-1"})(["width:100%;font-size:14px;max-height:","px;min-height:","px;border:none;resize:none;outline:none;background:none;line-height:20px;padding:0;margin:","px 2px ","px 12px;flex:1 1 auto;-ms-overflow-style:none;::-webkit-scrollbar{width:0;}color:",";caret-color:",";::placeholder{font-size:14px;line-height:20px;color:",";}@supports (-webkit-overflow-scrolling:touch){font-size:16px;::placeholder{font-size:16px;}}"],f.xO-f.MT-2*f.u9-2*f.CS,f.K2,f.u9,f.u9,(function(e){return e.theme.palette.primaryTextColor}),(function(e){return e.theme.palette.primaryColor}),(function(e){return e.theme.palette.hintTextColor})),P=s.default.div.withConfig({displayName:"ComposerInput__Action",componentId:"sc-vr5qwd-2"})(["flex:0 0 auto;padding:14px 8px;"]),_=s.default.input.withConfig({displayName:"ComposerInput__HiddenInputFile",componentId:"sc-vr5qwd-3"})(["display:none;"]),K=(0,s.default)(m.jE).withConfig({displayName:"ComposerInput__StyledIconSend",componentId:"sc-vr5qwd-4"})(["fill:",";"],(function(e){return e.theme.palette.primaryColor})),Y=(0,s.default)(m.o8).withConfig({displayName:"ComposerInput__StyledIconAttach",componentId:"sc-vr5qwd-5"})(["fill:",";:hover{fill:",";}"],(function(e){return e.theme.palette.hintTextColor}),(function(e){return e.theme.palette.accentColor})),W=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={autoFocus:t.props.autoFocus,hasFocus:!0},t.textarea=a.createRef(),t.handleKeyPress=function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),e.stopPropagation(),t.props.onSubmit())},t.handleChange=function(e){t.props.onChange(e.target.value)},t.handleSendClick=function(e){e.preventDefault(),e.stopPropagation(),t.props.onSubmit(),t.setFocus()},t.handleFileChange=function(e){t.props.onFileSelect(e.target.files),t.resetFileInput()},t.handleUploadClick=function(){t.file.click()},t}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return{autoFocus:e.autoFocus,hasFocus:t.autoFocus!==e.autoFocus?e.autoFocus:t.hasFocus}};var n=t.prototype;return n.componentDidMount=function(){this.props.autoFocus&&this.setDelayedFocus()},n.componentDidUpdate=function(e){!e.autoFocus&&this.props.autoFocus&&this.setDelayedFocus()},n.componentWillUnmount=function(){this.focusTimer&&clearTimeout(this.focusTimer)},n.setDelayedFocus=function(){var e=this;this.focusTimer=setTimeout((function(){e.setFocus()}),f.Z3)},n.setFocus=function(){this.textarea.current&&this.textarea.current.textarea.focus()},n.resetFileInput=function(){this.file&&(this.file.value="")},n.render=function(){var e=this,t=this.props,n=t.value,o=t.t,r=t.hasBorder,i=n?"":o("enterMessage"),s=n?K:Y,l=Boolean(n);return a.createElement(U,{hasFocus:this.state.hasFocus,hasBorder:r},a.createElement(j,{ref:this.textarea,onResize:function(t){return e.props.onResize(t.target.clientHeight)},placeholder:i,value:this.props.value,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onFocus:function(){return e.setState({hasFocus:!0})},onBlur:function(){return e.setState({hasFocus:!1})}}),a.createElement(P,{hasPadding:l},a.createElement(h.default,{onClick:n?this.handleSendClick:this.handleUploadClick,style:{idleIconFx:{opacity:.8}}},a.createElement(s,null))),a.createElement(_,{ref:function(t){e.file=t},type:"file",onChange:this.handleFileChange,multiple:!0}))},(0,o.Z)(t)}(a.Component);const q=(0,i.$j)((function(e){return{hasBorder:(0,O.W6)(e)||(0,O.tq)()}}))((0,p.Zh)()(W));var V=n(60061),X=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state=t.getNextAutoFocus(),t.handleChange=function(e){t.props.dispatchSetDraftText({text:e,channelId:t.props.channelId}),t.props.dispatchFetchChannelTyping(t.props.channelId)},t.handleSubmit=function(){t.props.draftText&&t.props.dispatchFetchSendMessage(t.props.draftText,t.props.channelId)},t.handleFileSelect=function(e){e&&t.props.dispatchFetchMsgFile(e)},t}(0,r.Z)(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){e.route===this.props.route&&e.open===this.props.open||this.setState(this.getNextAutoFocus(e))},n.getNextAutoFocus=function(e){return void 0===e&&(e=this.props),{autoFocus:e.open&&"conversation"===e.route}},n.render=function(){return a.createElement(q,{autoFocus:this.state.autoFocus,onChange:this.handleChange,onSubmit:this.handleSubmit,value:this.props.draftText,onFileSelect:this.handleFileSelect,onResize:this.props.onResize})},(0,o.Z)(t)}(a.Component);X.defaultProps={channelId:null,draftText:""};const J=(0,i.$j)((function(e){return{channelId:e.activeChannel.channelId,draftText:e.composer.draftText[e.activeChannel.channelId],route:e.widget.route,open:e.widget.open}}),(function(e){return(0,u.DE)({dispatchFetchChannelTyping:Q.zP,dispatchFetchSendMessage:Q.y0,dispatchFetchMsgFile:V.Am,dispatchSetDraftText:Q.yP},e)}))(X);var $=n(57441),ee=n(45919),te=s.default.div.withConfig({displayName:"FileDragAndDropDialog__Root",componentId:"sc-qx5du5-0"})(["position:absolute;padding:24px;top:","px;left:0;right:0;bottom:0;"],f.MT),ne=s.default.div.withConfig({displayName:"FileDragAndDropDialog__DragAndDropDialogLayer",componentId:"sc-qx5du5-1"})(["position:absolute;top:0;left:0;background:transparent;height:100%;width:100%;cursor:move !important;"]),oe=s.default.div.withConfig({displayName:"FileDragAndDropDialog__DragAndDropDialog",componentId:"sc-qx5du5-2"})(["position:relative;display:flex;flex-direction:column;height:calc( 100% - (","px) );justify-content:center;align-items:center;border-radius:5px;border:",";opacity:",";"],f.K2+2*f.CS+2*f.u9,(function(e){return"1px dashed "+e.theme.palette.secondaryColor}),(function(e){return e.hovered?1:.5})),re=s.default.p.withConfig({displayName:"FileDragAndDropDialog__DragAndDropDialogTitle",componentId:"sc-qx5du5-3"})(["margin:4px;font-size:16px;text-align:center;color:",";"],(function(e){return e.theme.palette.secondaryColor})),ae=s.default.p.withConfig({displayName:"FileDragAndDropDialog__DragAndDropDialogSubtitle",componentId:"sc-qx5du5-4"})(["margin:4px;font-size:14px;text-align:center;color:",";"],(function(e){return e.theme.palette.secondaryTextColor})),ie=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={hovered:!1},t.handleFileDropEvent=function(e){t.preventDefaultDraggingActions(e);var n=e.dataTransfer.files;t.props.dispatch((0,V.Am)(n)),t.props.dispatch((0,D.xd)())},t.preventDefaultDraggingActions=function(e){e.preventDefault(),e.stopPropagation()},t.handleDrag=function(e){t.setState((function(e){return{hovered:!e.hovered}})),t.preventDefaultDraggingActions(e)},t}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.t,n=e.isAlertErrorOpen,o=this.state.hovered;return n?null:a.createElement(te,{onDrop:this.handleFileDropEvent,onDragOver:this.preventDefaultDraggingActions},a.createElement(oe,{hovered:o},a.createElement(ne,{onDragEnter:this.handleDrag,onDragLeave:this.handleDrag}),a.createElement(re,null,t("dragAndDropDialogTitle")),a.createElement(ae,null,t("dragAndDropDialogSubtitle",{maxFileSize:(0,$.Z)(this.props.maxUploadFileSize,this.props.locale)}))))},(0,o.Z)(t)}(a.Component);ie.defaultProps={isAlertErrorOpen:!1};const se=(0,i.$j)((function(e){return{isAlertErrorOpen:(0,ee.Rj)(e),maxUploadFileSize:e.network.maxUploadFileSize,locale:e.widget.language}}))((0,p.Zh)()((0,s.withTheme)(ie)));var le=s.default.div.withConfig({displayName:"MessengerLayout__Root",componentId:"sc-zhglie-0"})(["display:flex;flex-direction:column;height:100vh;"]),ce=s.default.div.withConfig({displayName:"MessengerLayout__Content",componentId:"sc-zhglie-1"})(["flex:1 1 auto;position:absolute;top:","px;bottom:0;left:0;right:0;border-radius:",";border:",";filter:",";"],f.MT,(function(e){return e.embedMode?"0 0 15px 15px":"none"}),(function(e){var t=e.embedMode,n=e.theme.palette;return t?"1px solid "+n.dividerColor:"none"}),(function(e){return e.isDndDialogOpen?"blur(5px)":"none"})),de=s.default.div.withConfig({displayName:"MessengerLayout__ComposerStyled",componentId:"sc-zhglie-2"})(["position:absolute;bottom:0;transform:translateY(",");transition:all ","ms linear;opacity:",";width:100%;"],(function(e){return e.composerHidden?"100%":0}),f.Z3,(function(e){return e.composerHidden?0:1})),ue=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).content=a.createRef(),t.state={showComposer:!1},t.handleNavigateToChannelsList=function(){t.props.dispatchNavigateToChannelsList()},t.handleNavigateToConversation=function(){t.props.dispatchNavigateToConversation({channelId:t.props.channels[0].channelId})},t.handleNavigateToHome=function(){t.props.dispatchNavigateToHome()},t.handleAction=function(e){var n={conversation:t.handleNavigateToConversation,channels:t.handleNavigateToChannelsList,home:t.handleNavigateToHome};n[e]&&n[e]()},t.handleClose=function(){t.props.dispatchToggleWidget()},t.handleTextareaResize=function(e){setTimeout((function(){t.props.dispatchSetComposerHeight(e+36)}),0)},t}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e){return{showComposer:"conversation"===e.route}};var n=t.prototype;return n.componentDidMount=function(){this.forceUpdate()},n.getActiveChannel=function(){var e=this;return this.props.channels.find((function(t){return t.channelId===e.props.channelId}))},n.getActiveChannelType=function(){var e=this.getActiveChannel();return e&&e.type||""},n.getActiveChannelName=function(){var e=this.getActiveChannel();return e&&e.name||""},n.render=function(){var e=this,t="",n="",o="",r=this.props,i=r.channels,s=r.children,l=r.company,c=r.route,u=r.showClose,p=r.t,h=r.unreadMessagesCount,g=r.viewCard,m=r.embedMode,f=r.hiddenComposer,v=r.isDndDialogOpen,y="home"===c,C="channels"===c,x="conversation"===c,w=1===i.length;return x&&(o=this.getActiveChannelName(),w&&g&&(n="home"),w||(n="channels")),C&&(o=p("yourDialogs"),g&&(n="home")),y&&i.length&&(t=w?"conversation":"channels"),a.createElement(le,null,a.createElement(T,{companyName:l.name,hasLeftAction:!!n,hasRightAction:!!t,isRouteHome:y,onClose:this.handleClose,onLeftAction:function(){return e.handleAction(n)},onRightAction:function(){return e.handleAction(t)},showClose:u,status:o,unreadMessagesCount:h}),a.createElement(Z,{isOnline:this.props.isOnline}),a.createElement(ce,{ref:this.content,embedMode:m,isDndDialogOpen:v},a.createElement(d.wu.Provider,{value:this.content.current},s)),v&&a.createElement(se,null),a.createElement(k,null),(!x||!f)&&a.createElement(de,{composerHidden:!this.state.showComposer},a.createElement(J,{onResize:this.handleTextareaResize})))},(0,o.Z)(t)}(a.Component);ue.defaultProps={viewCard:"",channelId:null};const pe=(0,i.$j)((function(e){return{channelId:e.activeChannel.channelId,channels:e.channels.list,isOnline:e.network.isOnline,showClose:(0,O.bs)(e),unreadMessagesCount:e.badges.total,viewCard:e.company.viewCard.view,composerHeight:e.widget.composerHeight,hiddenComposer:(0,O.tw)(e),isDndDialogOpen:(0,O.Q3)(e)}}),(function(e){return(0,u.DE)({dispatchNavigateToConversation:D.RQ,dispatchNavigateToChannelsList:D.ro,dispatchNavigateToHome:D.gJ,dispatchSetComposerHeight:D.DC,dispatchToggleWidget:function(){return(0,D.Qd)(!1)}},e)}))((0,p.Zh)()(ue));var he=n(38497),ge=function(e,t){return{from:{left:"translate3d(100%,0,0)",right:"translate3d(-100%,0,0)",up:"translate3d(0,100%,0)",down:"translate3d(0,-100%,0)"},leave:{left:"translate3d(-100%,0,0)",right:"translate3d(100%,0,0)",up:"translate3d(0,-100%,0)",down:"translate3d(0,100%,0)"}}[e][t]},me=function(e){var t=e.items,n=e.direction,o=e.children,r=e.initial;return a.createElement(l.uT,{initial:r,native:!0,reset:!0,unique:!0,items:t,from:{opacity:0,transform:ge("from",n)},enter:{opacity:1,transform:"translate3d(0%,0,0)"},leave:{opacity:0,transform:ge("leave",n)}},o)};me.defaultProps={direction:"left",initial:null};const fe=me;var ve=n(55469),ye=s.default.div.withConfig({displayName:"Home__Root",componentId:"sc-66nr6n-0"})(["margin:16px auto;max-width:328px;"]);const Ce=(0,i.$j)((function(e){return{viewCard:JSON.parse(e.company.viewCard.view)||{}}}))((function(e){e.viewCard;return a.createElement(ye,null,!1)}));var xe=n(28683),we=n.n(xe),Ie=n(57495),be=n(24348),Ae=n(30401),Ee=s.default.div.withConfig({displayName:"ChannelUserTyping__Root",componentId:"sc-v4brbe-0"})(["margin-top:8px;position:relative;float:left;clear:both;"]),Te=s.default.div.withConfig({displayName:"ChannelUserTyping__TypingName",componentId:"sc-v4brbe-1"})(["font-size:12px;color:",";margin-left:44px;"],(function(e){return e.theme.palette.secondaryTextColor})),Me=s.default.div.withConfig({displayName:"ChannelUserTyping__TypingAvatar",componentId:"sc-v4brbe-2"})(["width:36px;height:36px;border-radius:50%;float:left;bottom:0;position:absolute;"]),De=s.default.div.withConfig({displayName:"ChannelUserTyping__TypingText",componentId:"sc-v4brbe-3"})(["width:48px;height:36px;color:",";line-height:21px;font-size:28px;text-align:center;border-radius:",";margin-left:44px;overflow:hidden;background-color:",";"],(function(e){return e.theme.palette.accentColor}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.palette.backgroundCardColor})),Ne=s.default.div.withConfig({displayName:"ChannelUserTyping__AnimationContent",componentId:"sc-v4brbe-4"})(["width:24px;height:8px;margin:14px auto;"]),Se=s.default.div.withConfig({displayName:"ChannelUserTyping__Animation",componentId:"sc-v4brbe-5"})(["width:8px;height:8px;float:left;position:relative;"]),Be=(0,s.keyframes)(["0%{width:8px;height:8px;opacity:1;}50%{width:6px;height:6px;opacity:0.4;}"]),Re=s.default.div.withConfig({displayName:"ChannelUserTyping__AnimationCommon",componentId:"sc-v4brbe-6"})(["position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;width:6px;height:6px;border-radius:100%;opacity:0.4;background-color:",";animation:"," 1.2s infinite;"],(function(e){return e.theme.palette.accentColor}),Be),Fe=(0,s.default)(Re).withConfig({displayName:"ChannelUserTyping__DotOne",componentId:"sc-v4brbe-7"})(["animation-delay:0s;"]),ke=(0,s.default)(Re).withConfig({displayName:"ChannelUserTyping__DotTwo",componentId:"sc-v4brbe-8"})(["animation-delay:0.4s;"]),Le=(0,s.default)(Re).withConfig({displayName:"ChannelUserTyping__DotThree",componentId:"sc-v4brbe-9"})(["animation-delay:0.8s;"]),ze=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.createTimer()},n.componentWillReceiveProps=function(){this.timer&&clearTimeout(this.timer),this.createTimer()},n.componentWillUnmount=function(){this.timer&&(clearTimeout(this.timer),this.props.deleteUserTyping(this.props.userTyping.id))},n.createTimer=function(){var e=this;this.timer=setTimeout((function(){e.props.deleteUserTyping(e.props.userTyping.id)}),5e3)},n.render=function(){var e=this.props.t,t=this.props.userTyping.photo||"",n=this.props.userTyping.name||e("userTypingName");return a.createElement(Ee,null,a.createElement("div",null,a.createElement(Me,null,a.createElement(Ae.Z,{url:t})),a.createElement(Te,null,n),a.createElement(De,null,a.createElement(Ne,null,a.createElement(Se,null,a.createElement(Fe,null)),a.createElement(Se,null,a.createElement(ke,null)),a.createElement(Se,null,a.createElement(Le,null))))))},(0,o.Z)(t)}(a.Component);const He=(0,p.Zh)()(ze);var Ze=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.getUserTypings=function(){var e=this.props,t=e.userTypings,n=e.selfUserId,o=e.deleteUserTyping;return Object.keys(t).filter((function(e){return n!==e})).map((function(e){return a.createElement(He,{key:e,userTyping:t[e],deleteUserTyping:o})}))},n.render=function(){return a.createElement("div",null,this.getUserTypings())},(0,o.Z)(t)}(a.Component);const Qe=(0,i.$j)((function(e){return{selfUserId:e.user.id,userTypings:e.channelTypings[e.activeChannel.channelId]||{}}}))(Ze);function Ge(e,t,n){if(t&&!Array.isArray(t)&&"number"===typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var Oe=s.default.div.withConfig({displayName:"DateDivider__Root",componentId:"sc-17qklf6-0"})(["text-align:center;clear:both;"]),Ue=s.default.div.withConfig({displayName:"DateDivider__Time",componentId:"sc-17qklf6-1"})(["font-size:12px;text-align:center;color:",";display:inline-block;margin:16px 0 8px 0;line-height:1;"],(function(e){return e.theme.palette.secondaryTextColor})),je=function(e){return e<10?"0"+e:e};const Pe=(0,i.$j)((function(e){return{lang:e.widget.language}}))((function(e){var t=e.date,n=e.lang,o=(0,p.$G)(),r=Ge(L.Z,o,1)[0],i=new Date,s=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),l=new Date(t),c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),d=s===c.getTime(),u=s-864e5===c.getTime(),h="";return h=d?r("today"):u?r("yesterday"):function(e,t,n){return"en"===e?n+"/"+t:t+"."+n}(n,je(c.getDate()),je(c.getMonth()+1)),a.createElement(Oe,null,a.createElement(Ue,null,h))}));var _e=n(33118),Ke=n(67376),Ye=n(32182),We=s.default.div.withConfig({displayName:"ChannelNotification__Notification",componentId:"sc-6vmrtu-0"})(["padding:16px 0;clear:both;"]),qe=s.default.div.withConfig({displayName:"ChannelNotification__NotificationName",componentId:"sc-6vmrtu-1"})(["font-size:12px;text-align:center;color:",";"],(function(e){return e.theme.palette.secondaryTextColor})),Ve={channelJoin:_e.Z,channelLeave:Ke.Z,channelInvite:Ye.Z};const Xe=function(e){var t=e.message,n=Ve[t.action];return a.createElement(We,null,a.createElement(qe,null,a.createElement(n,{message:t})))};var Je=n(35857);const $e=(0,s.keyframes)(["0%{transform:translateY(50%);opacity:0;}25%{transform:translateY(36%);opacity:0.2;}50%{transform:translateY(24%);opacity:0.35;}75%{transform:translateY(12%);opacity:0.55;}100%{transform:translateY(0%);opacity:0.7;}"]);var et=n(91402),tt=n(40545),nt=s.default.div.withConfig({displayName:"MessageContextMenuItem__MenuItemText",componentId:"sc-1i6j672-0"})(["margin-left:10px;"]),ot=(0,s.default)(tt.Z).withConfig({displayName:"MessageContextMenuItem__MenuItemStyled",componentId:"sc-1i6j672-1"})(["background:"," !important;cursor:"," !important;box-sizing:border-box;width:100%;border-radius:0 !important;white-space:nowrap;"],(function(e){var t=e.disabled,n=e.theme.actionHover;return t?"transparent":n}),(function(e){return e.disabled?"default":"pointer"})),rt=s.default.div.withConfig({displayName:"MessageContextMenuItem__WrapperMenuItemContent",componentId:"sc-1i6j672-2"})(["display:flex;color:"," !important;"],(function(e){var t=e.disabled,n=e.activeColor,o=e.theme.palette.disabledTextColor;return t?o:n})),at=function(e){var t=e.text,n=e.icon,o=e.disabled,r=void 0!==o&&o,i=e.onClick,s=e.activeColor,l=(0,p.$G)().t,c=a.useCallback((function(){return r?function(){}:i()}),[i,r]);return a.createElement(ot,{onClick:c,disabled:r},a.createElement(rt,{disabled:r,activeColor:s},n,a.createElement(nt,null,l(t))))};at.defaultProps={disabled:!1};const it=at;var st=n(84543);const lt=(0,s.withTheme)((function(e){var t=e.message,n=e.messageType,o=e.theme,r=(0,i.I0)(),s=o.palette.errorColor,l=t.action,c=t.channelType,d=t.created,u=l===st.Q9,p=(0,i.v9)((function(){return(0,O.wG)({messageType:n,channelType:c,createdDate:d,validTime:12e4})})),h=u?"deleteForm":"deleteMessage";return a.createElement(it,{text:h,icon:a.createElement(m.pJ,{viewBox:"0 0 24 24",width:24,height:24}),onClick:function(){return r((0,V.Gd)(t))},disabled:p,activeColor:s})}));var ct;function dt(e,t,n){if(t&&!Array.isArray(t)&&"number"===typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var ut=s.default.div.withConfig({displayName:"MessageContextMenu__MessageContentWrapper",componentId:"sc-1pl207v-0"})(["border-radius:inherit;"]),pt=s.default.div.withConfig({displayName:"MessageContextMenu__ContextMenuWrapper",componentId:"sc-1pl207v-1"})(["position:absolute;bottom:",";top:",";left:",";right:",";padding:8px;width:auto;"],(function(e){var t=e.menuPosition;return"info"===e.channelType||"bottom"===t?"unset":"calc(100% - 8px)"}),(function(e){var t=e.menuPosition;return"info"===e.channelType?"1px":"bottom"===t?"calc(100% - 8px)":"unset"}),(function(e){var t=e.messageType;return"info"===e.channelType?"unset":"incoming"===t?"-8px":" unset"}),(function(e){return"info"===e.channelType?"-4px":"-8px"})),ht=s.default.div.withConfig({displayName:"MessageContextMenu__MessageContextActionWrapper",componentId:"sc-1pl207v-2"})(["padding:8px 0;"]),gt="delete",mt=((ct={})[gt]=lt,ct),ft=function(e){var t=e.children,n=e.message,o=e.messageType,r=e.active,s=e.chatRef,l=(0,a.useState)("bottom"),c=dt(L.Z,l,2),d=c[0],u=c[1],p=(0,a.useRef)(),h=(0,a.useRef)(),g=n.channelType,m=function(e){var t=e.channelType,n=e.messageType,o=[];return(0,i.v9)((function(){return(0,O.LK)({messageType:n,channelType:t})}))&&o.push(gt),o}({channelType:g,messageType:o});return a.useEffect((function(){if(p&&h&&s&&r){var e,t,n,o=null==(e=p.current)?void 0:e.clientHeight,a=null==(t=h.current)?void 0:t.clientHeight,i=null==s?void 0:s.offsetHeight,l=(null==(n=p.current)?void 0:n.getBoundingClientRect().top)-f.MT;if(i-l-o>a)return void u("bottom");l>a&&u("top")}}),[r]),a.createElement(a.Fragment,null,r&&!!m.length&&a.createElement(pt,{messageType:o,menuPosition:d,channelType:g,ref:h},a.createElement(et.default,null,a.createElement(ht,null,m.map((function(e){var t=mt[e];return a.createElement(t,{key:e,message:n,messageType:o})}))))),a.createElement(ut,{ref:p},t))};ft.defaultProps={active:!1};const vt=ft;function yt(e,t,n){if(t&&!Array.isArray(t)&&"number"===typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var Ct=function(e){var t=e.children,n=e.className,o=(0,a.useState)(!1),r=yt(L.Z,o,2),i=r[0],s=r[1],l=a.useRef(null),c=(0,a.cloneElement)(t,{active:i});return a.createElement(d.dy,{onClickAway:function(){s(!1)},node:l},a.createElement("div",{ref:l,className:n,onContextMenu:function(e){e.preventDefault(),s(!0)}},c))};function xt(e,t,n){if(t&&!Array.isArray(t)&&"number"===typeof t.length){var o=t.length;return function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}(t,void 0!==n&&n<o?n:o)}return e(t,n)}var wt=s.default.div.withConfig({displayName:"MessageGroupOutgoing__Root",componentId:"sc-abw9uk-0"})(["margin:8px 0 0 0;float:right;max-width:100%;clear:both;position:relative;"]),It=(0,s.default)(Ct).withConfig({displayName:"MessageGroupOutgoing__MessageWrapper",componentId:"sc-abw9uk-1"})(["text-align:right;margin-top:2px;overflow:hidden;margin-left:36px;opacity:",";border-radius:"," "," "," ",";"],(function(e){return e.isFake&&.7}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusSmall}),(function(e){return e.theme.borderRadiusSmall}),(function(e){return e.theme.borderRadiusLarge})),bt=s.default.div.withConfig({displayName:"MessageGroupOutgoing__MessageOutgoing",componentId:"sc-abw9uk-2"})(["float:right;max-width:100%;clear:both;&:first-child ","{border-radius:"," "," "," ",";}&:last-child ","{animation:",";animation-duration:0.1s;animation-timing-function:ease;border-radius:"," "," "," ",";}&:only-child ","{border-radius:",";}"],It,(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusSmall}),(function(e){return e.theme.borderRadiusLarge}),It,(function(e){return e.animate&&$e}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusSmall}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusLarge}),It,(function(e){return e.theme.borderRadiusLarge})),At=s.default.div.withConfig({displayName:"MessageGroupOutgoing__MessageOutgoingName",componentId:"sc-abw9uk-3"})(["font-size:12px;text-align:right;color:",";margin:0 36px 2px 0px;"],(function(e){return e.theme.palette.secondaryTextColor})),Et=s.default.div.withConfig({displayName:"MessageGroupOutgoing__MessageOutgoingGroup",componentId:"sc-abw9uk-4"})(["margin-right:",";"],(function(e){return e.fullScreen?"0":"36px"})),Tt=s.default.div.withConfig({displayName:"MessageGroupOutgoing__MessageOutgoingAvatar",componentId:"sc-abw9uk-5"})(["width:32px;height:32px;border-radius:50%;float:right;right:0;bottom:0;position:absolute;"]);function Mt(e){var t=e.messages,n=e.messageComponents,o=e.animateLastMessage,r=e.lastReadIdRef,s=e.statusMsgIds,l=e.chatRef,c=e.fullScreen,d=(0,p.$G)(),u=xt(L.Z,d,1)[0],h=(0,i.v9)((function(e){return e.user})),g=h.name,m=h.photo,v=h.authPhoto,y=h.type,C=null!=v&&v.content?"data:image/png;base64,"+(null==v?void 0:v.content):m,x="g"===y?u("defaultClientName"):g||u("defaultClientName");return a.createElement(wt,{ref:r},!c&&a.createElement("div",null,a.createElement(Tt,null,a.createElement(Ae.Z,{url:C})),a.createElement(At,null,x)),a.createElement(Et,{fullScreen:c},t.map((function(e){var t=n[e.action],r=function(e,t){var n=e.msgId;if(e.isFake)return f.M5;if(!t)return"";var o=t.ackReadMsgId,r=t.ackMsgId;return o&&n&&Je.v1(o)>=Je.v1(n)?f.MY:r&&n&&Je.v1(r)>=Je.v1(n)?f.EU:f.nu}(e,s);return a.createElement(bt,{key:e.fakeMsgId||e.msgId,animate:o},a.createElement(It,{isFake:e.isFake},a.createElement(vt,{message:e,messageType:"outgoing",chatRef:l},a.createElement(t,{message:e,status:r,time:e.created,type:"outgoing"}))))}))))}Mt.defaultProps={lastReadIdRef:null};const Dt=Mt;var Nt=s.default.div.withConfig({displayName:"MessageGroupIncoming__MessageGroup",componentId:"sc-1s1hi2a-0"})(["position:relative;margin-top:8px;float:left;clear:both;max-width:100%;",";"],(function(e){return e.fullScreen&&"min-width: 100%"})),St=(0,s.default)(Ct).withConfig({displayName:"MessageGroupIncoming__MessageWrapper",componentId:"sc-1s1hi2a-1"})(["margin-top:2px;border-radius:"," "," "," ",";"],(function(e){return e.theme.borderRadiusSmall}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusSmall})),Bt=s.default.div.withConfig({displayName:"MessageGroupIncoming__MessageIncomingName",componentId:"sc-1s1hi2a-2"})(["font-size:12px;color:",";margin:0 0 2px 36px;"],(function(e){return e.theme.palette.secondaryTextColor})),Rt=s.default.div.withConfig({displayName:"MessageGroupIncoming__MessageIncomingGroup",componentId:"sc-1s1hi2a-3"})(["margin-left:",";"],(function(e){return e.fullScreen?"0":"36px"})),Ft=s.default.div.withConfig({displayName:"MessageGroupIncoming__MessageIncomingAvatar",componentId:"sc-1s1hi2a-4"})(["width:32px;height:32px;border-radius:50%;float:left;bottom:0;position:absolute;"]),kt=s.default.div.withConfig({displayName:"MessageGroupIncoming__MessageIncoming",componentId:"sc-1s1hi2a-5"})(["float:left;clear:both;text-align:left;max-width:100%;",";&:first-child ","{border-radius:"," "," "," ",";}&:last-child ","{animation:",";animation-duration:0.1s;animation-timing-function:ease;border-radius:"," "," "," ",";}&:only-child ","{border-radius:",";}"],(function(e){return e.fullScreen&&"min-width: 100%"}),St,(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusSmall}),St,(function(e){return e.animateLastMessage&&$e}),(function(e){return e.theme.borderRadiusSmall}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.borderRadiusLarge}),St,(function(e){return e.theme.borderRadiusLarge})),Lt=function(e){var t=e.messages,n=e.messageComponents,o=e.animateLastMessage,r=e.fullScreen,i=e.lastReadIdRef,s=e.chatRef,l=t[0].user,c=l.name,d=l.photo,u=void 0===d?null:d;return a.createElement(Nt,{fullScreen:r,ref:i},!r&&a.createElement("div",null,a.createElement(Ft,null,a.createElement(Ae.Z,{url:u})),a.createElement(Bt,null,c)),a.createElement(Rt,{fullScreen:r},t.map((function(e){var t=n[e.action];return a.createElement(kt,{key:e.msgId,animateLastMessage:o,fullScreen:r},a.createElement(St,null,a.createElement(vt,{message:e,messageType:"incoming",chatRef:s},a.createElement(t,{message:e,type:"incoming",time:e.created}))))}))))};Lt.defaultProps={lastReadIdRef:null};const zt=Lt;var Ht=n(25773),Zt=n(98541),Qt=n.n(Zt),Gt=n(58842),Ot=n(21724),Ut=n(64624);function jt(e){var t=new Date(e),n=t.getHours(),o=t.getMinutes();return(0,Ut.Z)(n,2,0)+":"+(0,Ut.Z)(o,2,0)}const Pt=function(e){var t=e.time;return a.createElement(a.Fragment,null,jt(t))};var _t=s.default.div.withConfig({displayName:"MessageStatus__IconStatusWrapper",componentId:"sc-4ojvq0-0"})(["color:",";width:16px;height:16px;padding-left:4px;"],(function(e){var t=e.theme.palette;return e.status===f.MY?t.secondaryColor:t.secondaryTextColor})),Kt=function(e){var t,n=e.status;switch(n){case f.nu:t=a.createElement(m.nQ,{viewBox:"0 0 16 16"});break;case f.M5:t=a.createElement(m.T3,{viewBox:"0 0 16 16"});break;case f.EU:case f.MY:t=a.createElement(m.yz,{viewBox:"0 0 16 16"});break;default:t=null}return a.createElement(_t,{status:n},t)};Kt.defaultProps={status:""};const Yt=Kt;var Wt=(0,s.css)(["font-size:10px;line-height:18px;max-height:18px;padding:",";display:flex;align-self:flex-end;margin-left:auto;color:",";"],(function(e){return e.px||"0 4px"}),(function(e){return e.theme.palette.secondaryTextColor})),qt=(0,s.css)(["position:absolute;bottom:4px;right:2px;background-color:",";border-radius:16px;color:",";"],(function(e){return e.theme.palette.iconsColor}),(function(e){return e.theme.palette.whiteTextConstant})),Vt=s.default.div.withConfig({displayName:"MessageMeta__Root",componentId:"sc-1tlc2y9-0"})([""," ",";"],Wt,(function(e){return e.isImage&&qt}));const Xt=function(e){var t=e.type,n=e.time,o=e.status,r=e.isImage,i=void 0!==r&&r,s=e.px,l="outgoing"===t;return a.createElement(Vt,{isImage:i,px:s},a.createElement(Pt,{time:n}),l&&a.createElement(Yt,{status:o}))};var Jt=s.default.div.withConfig({displayName:"MessageTypeForm__FormWrapper",componentId:"sc-1axr9na-0"})(["display:flex;flex-direction:column;"]),$t=s.default.div.withConfig({displayName:"MessageTypeForm__Form",componentId:"sc-1axr9na-1"})(["position:relative;border:1px solid ",";border-radius:",";max-width:328px;box-sizing:border-box;background:",";"],(function(e){return e.theme.palette.dividerColor}),(function(e){return e.theme.borderRadiusLarge}),(function(e){return e.theme.palette.foregroundColor})),en=function(e){function t(){var t;return(t=e.call(this)||this).handleRenderError=function(e,n){var o=t.props.message,r=o.msgId,a=o.viewId,i=o.channelId,s=o.companyId;Qt().captureException(e,{extra:{info:n,message:{msgId:r,viewId:a,channelId:i,companyId:s}}}),t.props.dispatch((0,V.wK)({baseMsgId:r,channelId:i,companyId:s,viewId:a}))},t.handleSubmit=function(e,n,o){var r=t.props.message,a=r.viewId,i=r.msgId;return setTimeout((function(){return t.setState({formSubmitted:!0})}),0),t.props.dispatch((0,V.Yb)({baseMsgId:i,viewId:a,dsComponentId:e,dsAction:n,dsModel:o}))},t.handleAction=function(e,n){var o=n.type,r=t.actionHandlers[o];return r?r(e,n):Promise.reject()},t.handleRedirect=function(e,n){var o=n.id,r=n.payload;o&&o.startsWith("channels_")?t.props.dispatch((0,Gt.rY)(n)):t.props.dispatch((0,Ot.$)({event:"redirect",eventPayload:{id:o,payload:r}}))},t.handleSend=function(e,n){var o=n.action,r=n.payload;return o?t.handleSubmit(e,o,r):Promise.reject()},t.handleFileUpload=function(e,n){return t.props.dispatch((0,Ie.br)(e,n))},t.handleRequestAPI=function(e,n,o,r){var a=t.props.message,i=a.msgId,s=a.channelId;(0,Ie.hC)((0,Ht.Z)({action:e,dsComponentId:o,channelId:s,baseMsgId:i},n)).then((function(e){r&&"function"===typeof r&&r(e)})).catch((function(e){r&&"function"===typeof r&&r(e)}))},t.state={formSubmitted:!1},t.actionHandlers={send:t.handleSend,redirect:t.handleRedirect},t}(0,r.Z)(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(){this.setState({formSubmitted:!1})},n.render=function(){var e=this.props.message.created;return a.createElement(Jt,null,a.createElement($t,null,this.state.formSubmitted&&a.createElement(he.HM,null),a.createElement(c.un,{onAction:this.handleAction,onSubmit:this.handleSubmit,model:this.props.message.viewModel,view:this.props.message.view,i18n:this.props.message.viewLocale,errors:this.props.message.errors||[],onRenderError:this.handleRenderError,uploadFile:this.handleFileUpload,timeOffset:this.props.timeOffset,onRequestAPI:this.handleRequestAPI})),a.createElement(Xt,{time:e}))},(0,o.Z)(t)}(a.Component);en.defaultProps={timeOffset:0};const tn=(0,i.$j)((function(e){return{timeOffset:e.network.timeDiff}}))((0,p.Zh)()(en));var nn=n(35140),on=s.default.div.withConfig({displayName:"UploadProgress__Root",componentId:"sc-1ex7jnf-0"})(["display:flex;flex-grow:1;z-index:3;"]),rn=(0,s.default)(on).withConfig({displayName:"UploadProgress__FileUploadProgress",componentId:"sc-1ex7jnf-1"})(["align-items:start;justify-content:start;"]),an=(0,s.default)(on).withConfig({displayName:"UploadProgress__ImageUploadProgress",componentId:"sc-1ex7jnf-2"})(["width:100%;height:100%;position:absolute;left:0;top:0;align-items:center;justify-content:center;"]),sn=s.default.div.withConfig({displayName:"UploadProgress__ActionButton",componentId:"sc-1ex7jnf-3"})(["display:flex;justify-content:center;align-items:center;width:40px;min-width:40px;height:40px;min-height:40px;border-radius:100%;background:",";fill:",";cursor:pointer;margin-right:8px;"],(function(e){return e.theme.palette.primaryTextColor}),(function(e){return e.theme.palette.whiteTextConstant})),ln=(0,s.default)(sn).withConfig({displayName:"UploadProgress__CloseActionButton",componentId:"sc-1ex7jnf-4"})(["margin-left:","px;"],(function(e){return e.fileError?4:0})),cn=(0,s.keyframes)(["from{transform:rotate(0deg);}to{transform:rotate(359deg);}"]),dn=s.default.div.withConfig({displayName:"UploadProgress__Loader",componentId:"sc-1ex7jnf-5"})(["width:100%;height:100%;max-width:36px;max-height:36px;border:2px solid ",";border-right-color:",";border-radius:100%;position:absolute;animation:"," 800ms infinite linear;"],(function(e){return e.theme.palette.primaryTextColor}),(function(e){return e.theme.palette.whiteTextConstant}),cn),un=function(e){var t=e.msgId,n=e.fileError,o=e.isFileImage,r=(0,i.I0)(),s=o?an:rn,l=(0,a.useCallback)((function(){r((0,nn.C6)(t)),r((0,V.uA)(t))}),[t]),c=(0,a.useCallback)((function(){r((0,V.Dh)(t))}),[t]);return a.createElement(s,null,n&&a.createElement(sn,{onClick:c},a.createElement(m.BG,{width:24,height:24,viewBox:"0 0 24 24"})),a.createElement(ln,{onClick:l,fileError:n},!n&&a.createElement(dn,null),a.createElement(m.Tw,{width:24,height:24,viewBox:"0 0 24 24"})))},pn=n(94769),hn=s.default.div.withConfig({displayName:"MessageTypeFile__Root",componentId:"sc-avjmxg-0"})(["display:flex;flex-direction:column;position:relative;z-index:1;align-items:",";border-radius:inherit;"],(function(e){return"incoming"===e.type?"start":"end"})),gn=s.default.div.withConfig({displayName:"MessageTypeFile__MessageImg",componentId:"sc-avjmxg-1"})(["min-width:104px;min-height:104px;width:max-content;background-color:",";text-align:center;display:flex;justify-content:center;position:relative;border-radius:inherit;"],(function(e){return e.theme.palette.backgroundCardColor})),mn=s.default.img.withConfig({displayName:"MessageTypeFile__Image",componentId:"sc-avjmxg-2"})(["align-self:center;max-width:","px;max-height:","px;height:","px;width:","px;border-radius:inherit;"],(function(e){return e.portrait?195:260}),(function(e){return e.portrait?260:195}),(function(e){return e.previewSize.height}),(function(e){return e.previewSize.width})),fn=s.default.a.withConfig({displayName:"MessageTypeFile__LinkFile",componentId:"sc-avjmxg-3"})(["display:flex;text-decoration:none;padding-bottom:2px;border-radius:inherit;"]),vn=s.default.div.withConfig({displayName:"MessageTypeFile__MessageBinary",componentId:"sc-avjmxg-4"})(["text-align:left;display:flex;max-width:260px;word-wrap:break-word;padding:8px;font-size:14px;line-height:1.25;color:",";background-color:",";border-radius:inherit;"],(function(e){return e.theme.palette.primaryTextColor}),(function(e){var t=e.theme.palette,n=e.fileError,o=e.isOutgoing;return n&&t.errorColor||(o?t.secondaryBackgroundLightColor:t.backgroundCardColor)})),yn=s.default.div.withConfig({displayName:"MessageTypeFile__MessageBinaryLogo",componentId:"sc-avjmxg-5"})(["display:flex;border-radius:8px;width:56px;min-width:56px;height:56px;min-height:56px;background:",";float:left;fill:",";margin-right:8px;border:1px solid ",";"],(function(e){var t=e.isOutgoing,n=e.theme.palette;return t?n.secondaryBackgroundLightColor:n.backgroundCardColor}),(function(e){var t=e.isOutgoing,n=e.theme.palette;return t?n.secondaryLightColor:n.primaryColor}),(function(e){var t=e.isOutgoing,n=e.theme.palette;return t?n.secondaryLightColor:n.primaryColor})),Cn=s.default.div.withConfig({displayName:"MessageTypeFile__MessageBinaryMetaWrapper",componentId:"sc-avjmxg-6"})(["display:flex;flex-direction:column;"]),xn=s.default.div.withConfig({displayName:"MessageTypeFile__MessageBinaryName",componentId:"sc-avjmxg-7"})(["font-size:14px;line-height:22px;word-break:break-all;"]),wn=s.default.div.withConfig({displayName:"MessageTypeFile__MessageBinarySize",componentId:"sc-avjmxg-8"})(["font-size:12px;line-height:20px;color:",";"],(function(e){return e.theme.palette.secondaryTextColor})),In=s.default.div.withConfig({displayName:"MessageTypeFile__ImageErrorBackground",componentId:"sc-avjmxg-9"})(["width:100%;height:100%;background-color:rgba(255,99,95,0.5);position:absolute;z-index:2;border-radius:15px;"]),bn={file:{width:24,height:24,margin:"auto"}};const An=function(e){var t=e.message,n=e.type,o=e.time,r=e.status,i="outgoing"===n;return a.createElement(hn,{type:n},t.files.map((function(e,s){var l=t.isFake?t.isImage:(0,V.pi)(e.type);return a.createElement(fn,{href:e.url,target:"_blank",key:s},l?a.createElement(gn,null,t.isFake&&t.fileError&&a.createElement(In,null),t.isFake&&a.createElement(un,{isFileImage:!0,fileError:t.fileError,msgId:t.msgId}),a.createElement(mn,{portrait:e.meta.preview.width<=e.meta.preview.height,previewSize:(0,pn.Z)({height:e.meta.height,width:e.meta.width}),src:e.meta.preview.url}),a.createElement(Xt,{status:r,type:n,time:o,isImage:!0})):a.createElement(vn,{fileError:t.fileError,isOutgoing:i},t.isFake?a.createElement(un,{fileError:t.fileError,msgId:t.msgId}):a.createElement(yn,{isOutgoing:i},a.createElement(m.aA,{style:bn.file})),a.createElement(Cn,null,a.createElement(xn,null,e.name),a.createElement(wn,null," ",(0,$.Z)(e.size)),a.createElement(Xt,{type:n,status:r,time:o,px:"0"}))))})))};var En=n(20125),Tn=s.default.div.withConfig({displayName:"MessageTypeText__Root",componentId:"sc-1ernn6a-0"})(["display:flex;align-items:center;flex-wrap:wrap;padding:4px 8px;padding-right:",";max-width:100%;box-sizing:border-box;font-size:14px;line-height:22px;text-align:left;word-break:break-word;color:",";background:",";border-radius:inherit;"],(function(e){return"outgoing"===e.type&&0}),(function(e){return e.theme.palette.primaryTextColor}),(function(e){var t=e.type,n=e.theme.palette;return"outgoing"===t?n.secondaryBackgroundLightColor:n.backgroundCardColor}));const Mn=(0,s.withTheme)((function(e){var t=e.message,n=e.type,o=e.theme.palette,r=e.time,i=e.status;return a.createElement(Tn,{type:n},a.createElement(En.ZP,{properties:{target:"_blank",rel:"nofollow noopener noreferrer",style:{color:"outgoing"===n?o.whiteTextConstant:o.secondaryColor}}},t.text),a.createElement(Xt,{type:n,time:r,status:i}))}));var Dn={msgView:tn,msgFile:An,msg:Mn},Nn=function(e){var t=e.isLastGroup,n=e.messages,o=e.selfUserId,r=e.statusMsgIds,i=e.componentMountTime,s=e.fullScreen,l=e.chatRef,c=n[0],d=i<n[n.length-1].created;return a.createElement("div",null,c.user.id===o?a.createElement(Dt,{isLastGroup:t,messages:n,statusMsgIds:r,messageComponents:Dn,animateLastMessage:d,chatRef:l,fullScreen:s}):a.createElement(zt,{messages:n,messageComponents:Dn,animateLastMessage:d,fullScreen:s,chatRef:l}))};Nn.defaultProps={isLastGroup:!1,fullScreen:!1};const Sn=Nn;var Bn=s.default.div.withConfig({displayName:"NewMessagesDivider__Root",componentId:"sc-1ddp9dw-0"})(["width:calc(100% + 32px);height:28px;min-height:28px;border-bottom:1px solid ",";position:relative;clear:both;margin-left:-16px;"],(function(e){return e.theme.palette.secondaryColor})),Rn=s.default.div.withConfig({displayName:"NewMessagesDivider__TextWrapper",componentId:"sc-1ddp9dw-1"})(["position:absolute;right:16px;bottom:2px;color:",";font-size:12px;line-height:1.33;"],(function(e){return e.theme.palette.secondaryColor})),Fn=function(e){var t=e.t,n=e.dividerRef;return a.createElement(Bn,{ref:n},a.createElement(Rn,null,t("newMessages")))};Fn.defaultProps={dividerRef:null};const kn=(0,p.Zh)()(Fn);var Ln={badgeContainer:{display:"block",height:"42px",width:"42px",boxSizing:"border-box",position:"absolute",bottom:8,right:8,cursor:"pointer",zIndex:1e4},badgeStyle:{position:"absolute",top:0,right:0}};const zn=function(e){var t=e.counter,n=e.onClick;return a.createElement(g.Z,{counter:t,style:Ln.badgeContainer,badgeStyle:Ln.badgeStyle},a.createElement(m.lt,{onClick:n,viewBox:"0 0 42 42"}))};var Hn=[st.xk,st._d],Zn=[st.Kp,st.cu,st.BM],Qn=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())},Gn=function(e){return e===st.Q9},On=function(e){return Zn.includes(e)},Un=function(e,t){return void 0===t&&(t=!1),{type:"MessageGroup",data:{messages:e,isFullScreen:t}}};const jn=function(e,t,n,o){void 0===t&&(t=[]);var r=[],a=[];return e.forEach((function(i,s){var l,c=e[s-1],d=c&&Qn(c.created).getTime()===Qn(i.created).getTime(),u=c&&c.user.id===i.user.id,p=t.find((function(e){return e.begin===i.msgId||e.end===i.msgId})),h=i.msgId===n;(p||h||On(i.action)||Gn(i.action)||!d||!u)&&(a.length&&(r.push(Un(a)),a=[]),p&&r.push({type:"HistoryGap",data:{historyGap:p}}),h&&o&&r.push({type:"NewMessagesDivider"})),c&&d||r.push({type:"DateDivider",data:{message:i}}),On(i.action)?r.push(function(e){return{type:"ChannelNotification",data:{message:e}}}(i)):Gn(i.action)?r.push(Un([i],!0)):(l=i.action,Hn.includes(l)&&a.push(i))})),a.length&&r.push(Un(a)),r},Pn=n.p+"static/media/conversation-pattern@2x.00db7e34.png";var _n=n(89019),Kn=n(92378),Yn=s.default.div.withConfig({displayName:"HistoryGap__Root",componentId:"sc-1wxcq5j-0"})(["margin:8px 0 0 0;float:right;text-align:center;width:100%;clear:both;"]),Wn=function(e){var t=e.onIntersectionChange,n=e.root,o=e.historyGap;return a.createElement(_n.Z,{onChange:function(e){return t(e,o)},root:n},a.createElement(Yn,null,a.createElement(Kn.Z,{xSmall:!0,style:{circleColor:"#a5a5a5"}})))};Wn.defaultProps={root:null};const qn=Wn;var Vn=n(32933),Xn="bottom",Jn=[st.xk,st._d,st.Q9],$n=s.default.div.withConfig({displayName:"ConversationRegular__Root",componentId:"sc-1804d12-0"})(["height:calc(100% - ","px);display:flex;flex-direction:column;position:relative;"],(function(e){return!e.composerHidden&&e.composerHeight||0})),eo=s.default.div.withConfig({displayName:"ConversationRegular__Chat",componentId:"sc-1804d12-1"})(["background-image:url(",");@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min-resolution:192dpi),only screen and (min-resolution:2dppx){background-image:url(",");background-size:208px 208px;}display:flex;flex-direction:column;height:100%;overflow-y:auto;overflow-x:hidden;padding:",";"],"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAADQCAYAAAB2pO90AAAAAXNSR0IArs4c6QAAHmpJREFUeAHtnQmYFEWWx2nohr5oUEDQQcFBFEVcvFZRxEEEvE8UD3Q9GNfBc7x1ZMYPvxnRUVZXV13dcdT1RgVkUJFhPcAZBxkRwQsVFRUBUbm6mz7Z37/Maqq7q6qruiuzMrNeft+riIyIinjvH+9FREZGRrRr59G1efPmXbZs2bKtR8VZMYaAJwi096QUCqmpqRmxcePGlzGiMq/KtHKChUBlZWVfdGQSOuKZXrYVIS8Z3QNm99+0adOLAFTSVsbt/8FAYMOGDddgFLu3xC060bm2tnYm7kR05MaW0udcPCDOAcwtIvxzAaow50DIMYGp5zFOna/DKEYnEh9daE+6WY5ufMB9l0RpczYcML92AKp3QJ0FUB1zFpAcEJz6Labepzr1Xov/4nhiEz/F0Ym1PCv3i5cmp8MAsswBSL3PaVClA+rzxOXnNDgZEL68vHwHMP0t9Bz0CnR3RUXFkAxk3eYsqN88+Lk5pv7vja1zwsc7ulBNumFtLjCMGVCZBzogfSf5qPCjAKvKCXscQL18FgsVxOA4IYql8IwSYerpp4CtL3p5hnBnwtNmp87nwFdX7n8BVSsMnTgvVBWTSWEA71wHuDei+QLcSVCNwqE/AWheNM7c1BAAv185+K3FfzGzWDvRWPXGfwrhHykO/1Op5eZ+KjWk8LPK4flj3O8d/x/dLz3AJQDSHwUU4N0fKwaGdQZhdU7cPbFx5k+OAC329uC2EVrHc8OuTVPTIBUTt0DYgvOopvHZupeRU+eLxZdDmnkL7AjEK8aj05gfxFZcaWnpE4B3QV5eHs6WiwD0tth48ydGALxOJ7YUuq2wsHBZ05RgWtGhQ4eLFC6Mm8Zn676oqGgF9X4w5c+ExyWdO3c+Hbc+W/wEolwMY7laG1rCw+MxTIt0sdMaKc3IeGksrDEC4PWIMGNYdEDjmMZ3pNkAvh82Ds3+HUatqevu2eekbRy43gMBVBEtTF+x2b59+7gVSSuk4dsmpeFa/ZNjv8kQANONigffpK036TaTrFuyvLIRp16nrKxsbTbKzmSZrhsQLeQAKlkTBBuKi4u/ice8xsWElwrUkpKSZsOReP+xsHaR4TDYajgU96Ln2Z34HkQ2GjrHTWyBrULAdQOiArWER1eNHnx/8jb+raurizwjkXa502I2TpDFO3gq0xqtLLIQt2ieb14gYlN9fb2WvvRqmgi+O0C3KxxMH2kab/eZQcB1A6Ki51OBK2C3G5U9l1ZRLWLTK2pkvmkppYDw+nuUcxULYcc2ZTjb9/TmXzMkvgk+toXXd+B1DG5XKI+Gah/4fom4o8B+Hr36w/jtCioC+pSBCl6ph17cd6nkbWJlIewBxVHpk2PDs+mHp0nw9PdEvWY2eYuWDY56EL8WXiMvI3HrocgqDwdrrTlshHX0v+YGDAEqdg9ojSoWWkDFNnzWQPh8hWNAZ/tBLHgrhZ+NDN129gM/LfGAke8Nhg9Ci6D3oGfh/wQZWEv/tfgAIYCBDKZif5CxUMnzqODIZw3cR95Iowj7+UEc+PwXePrED7wYD/5GwNMWihdo7+bn5x8BJBsxnqEo6gznAX1bxupbGNd/5Ae44EVr9raDR1vo6ocKaQMP1KEWs2r0cyH0OA3jMijhzGW6RXlqQGIOI1mAczRKWoFwI3hAf8Vh+ivCou+CnKDsODx0r4SXJQB+VXY4sFLbigBGMpT6mwZ9h569D90KaUuBh3jvuKSt+Uf/n7CFpTAZVz6KVB1NnCmXF2jz6H2OJz+tg+qvfHF9MwMnfugpx/GF5JtUwD5gMIve06aCBUxALmYo+6FTdbg3U3/zaLgX49Z5xj6K8yBKfq6bBfLMczTlRGaQaDGmuFlWa/KmAvQd03Xw+HRr/m//yWEEUJqLoKluQ0AZJ0O1KOp4t8uy/A2BTCPQ0jNQ0nVWmWCG8ehzdK3/xpBpaSbyszwMAU8RYJjWi6FKo5dt3OfRI7wJ/dJTZqwwQyBoCGBAf8BQFvA8sq94Z1q5D0OqJ6F/Yki2c07QKtT49R4BjOU3GNF63DpImzvoQzfbWsj7qrASg4oABlPApwc7Wq8T1Bo0vg0BQ8AQMAQMAUPAEDAEDAFDwBAwBAwBQ8AQMAQMAUPAEDAEDAFDwBAwBAwBfyPAu8gyXuY/BQ3zN6fsdeh3Bo2/3EOAZWU3YETaCekQv0uf53cGE/EHwF1YxzeWD92eZTX3D4nSWbh/EcBQjmNPwJPgcDvq8GPcT6nXfXDPg8oJ25nV+vq83rdXYA1IiNLFa6tgfXn4MmA/jjFpw/IK36JtjDUgQN3dRb1d2hAQ46EOteXvGIzn9ZhgX3oDbUD0QLdQCaMAfDabNuq0gu7QdD7jfQxjmu1LxI2pdtTbKOprNvX2DXU1gV5oGRtw7kpdir6k7uYQt86gchkBFr/+Ky1ZOaAXQXncH8T9PVCdPstwufg2Zw/PBQxjdoD2gfeftTnDgGRA/UT2AUTuIwPCckI2A90DyWhozb7CvYiNSmZEpdTHgLRsz9CS3RUNy5YrQ3a2Bu5Jq6o9rHtCUbebZBBvxK2gFT6IzS/ibsCvNEG9kLGYeiqhPjbjXsH9TciykDrbP6gyRflOuCtPNIGfXZROGzTKcE6AGgwI45lGJZ1IWNYNiMOvvmJ3n/3hR3tXb4TnxfClZ7fXoFXQavitZEhzD0OZl0lzCGlCNXyhjuYip453xIlc6/iEP+7zTzSBuR4hQIs2kh5nLTQgWqSzF7c2KtEzUdYvjKITyvN/UBX8jojHEHGHQpuhN0gfqi+BkUkHqC3AXQrdR/1EtjKLh4OFeYwAylZA5fyFiqmB3kFBr9LzhCoL/7kes5OwOPjUy8FF8LpBzzzxEhJ/MqSvgtWDdoiXxsIMAVcQQC+7o3g68n0+pN5HB/A2DOtcKTTNTDHoXvC0HP5W0wr3i/d34iInb+M+EC/ewgwB1xHQgzuKeh2kUyAiG9i7XmiKBWj4gnHolIpPMShNKDRc8JqvWTninyFez3eTGiLN40sEAj0LlwqiKCXP5HlbUknrVRqMZD8mDF6lvG/hbQVudGauYVYuygvxE3iheF/03lx/IRB6A/IX3Fu5offRy8S7MZA1hOpg5ciMHAa/iunsVYSvhlYxiye3aus/zWcIGAKGgCFgCBgChoAhYAgYAoaAIWAIGAKGgCFgCBgChoAhYAgYAoZAdhHgfUZHVgTszNv03bPLiZVuCAQIAb35x2i0Jk3LVbY49BmuPjmwyxAIFQIZ/x4Iw7kGhCYLJd6gr8TJx6h+jv80/NMVbpd/ENCnH9XV1YOonx5w9Qkfvb2Nf5N/OAwhJxiEvjDUV5WNLj4jGIIB6bOCeuLPUSRp22v5Pm7nRontJqsIyHCop5djRgnR0cIPhE+kvjLeuGZVYJcKT2stHEYxGmBvh/YUP7RUOhj4KdZuzWVd126ET4ZkWFP4XPdKpbHLfwhoHR719ALUiTrUKEELW7UTziBoOOHSi5ksYj2V+M347UqAQMoGRC+iPbwi39cAahUg15Jns08FiJvPMOAw3JoEZVpwFhHAeHpSd4shrQCfgpFMpK4atgLTaIHGcAbxvfnU/Dbq8tosshuOogEzn67+e6e7v437TpB2lDmG7v4xaDE0B7qAcPuS0sfVTh3+SfVIXT2ViE3iBxCvs3IrGZb3TpTOwlNEQEYBmHMA9mH8KfdaKWZvyTxEgDpcJwPSM1CyYqnvx5UOd0KydEGOEwZQf3S6OMhyGO8eIYAxbOcYhb49Snox1LvaSXtn0oQBjkS+P0tGaB3YTMKQStMVxzaXTxexAKfneUbPrZoZLU11JEG6ugCL3BLrVzMBtg/PgHcg5yU0Gs/jFrT0J4vPYQRoab9Wq4uy7JUMBtK85KQ7N1m6sMTxPL8v8m5STxQWmUwOFxBAQW6WYeDOprWNO+GDMh2rNNAG0mzjAhu+zJJGZTIif+5L5owpfyCAQXTGeL6VbeBOZ5ZtxyhnxLUn7ELi1isehTozGpcLLrIPl9zpzDzajFouaEYTGVEUvQh/BYPZXu/rcBfjridsT/zawxtny528DL+iyV9DfUuDMZp3YC/zbqyrg0eL8tpyDQcirRznRfHBKM5QgoYA4CM8dE9pEcEAJkBBltLK7o+8N8D++dB+yB2RBLkX4b8M45kXQNHaxDJyH4P8X5PJhjZllCt/psUZSWs8FVrpDGnq8X8IPchzwN65gANKo327B2JQB+Hvkgsyx5MRDIZD2pv8onjxicJyvQcaDjC9aHUeZdnKmxwt8jf83ycCK4zhyKs9594Po2ypyITB6Hu1Cx2azqjjwVT+Z2kMAUMABBiFXMHo4yPcq+mBbU7AtMIQSAcBDWHTSW9pDQFDwBAwBAwBQ8AQMAQMAUPAEDAEDAFDwBAwBAwBQ8AQMAQMAUPAEDAEDAFDwBAwBAwBQ8AQMAQMgRxBQOvRYj/y87vYtnjO7zUUYv5YwKnNHfVx3yA+ZNOuqPIPZIV4J1ZFlzorxQny72UG5N+6CTVnrIAegIAfSkgMRbsFLYOW0AOV457H5yWDsaHF+MN1IWChKFxSmTReI4AO5dMDnQHthb9jtHy+z4nsXUf4uGhYqFwEfBaaFiqhTBhfIYB+rcaAJvuKqQTMpLWxotPzHExe6mbtMgTcQmCp80zkVv4Zy7fFT7oxmgJaAxnNIFqG0xivanf/+zPGgWVkCDRHYAl6dmLz4ICFsFNNH4xmsTbcEOH/ChobMDGM3YAhgK6NR8/qaKjT3qvaV6IiyIvQjwhzMqQjAO0yBFxHAMMpFrlekJsFIEA+RlPD8O0PbpZjeRsCQUYg4SRCVVXVTjIihPsoyAIa74aAmwjENSAZTk1NzfU8yNXjX+gmA5a3IRAqBBi23QSVa9KA4dstoRLOhDEEMoxAs2lsehwtn7ifpRSzWUrxSobLy1h2GPdgMtPOovUckvRCUVGRr46l0PGB9OKvw9tJ7Hj6j4wJbhkZAm1FAOOZ7PSSM3F1uHEl9Ku25pvJ/9ODd4cn9eRv0Sh1Vd64JYTZbGYmgba80kMAhTwBWksLv1v0n9wfIiPCsLSi1zcX/Pwa3vT+TJuWr5Hfobfgf1ffMJqDjFAPJ0LXUQ/92yJ+4FZjo4hPI/DHHNHx21jBCX+MSY+vGHZeHxuebT9GdAQ9z1nwUQJpmKmJm/FQObz2g+eN+O3yGAEZD9hr1LIddCT69JrHLGSnOASfgVJe3rR0DOg/oHubhvvx3mn9NElzpR/5yxWeaNh0It/z1MdbrZU57jR2azPz4n+0GgtYaDgW4RvO99SzBXQccfO94KGtZdDaTYfXD+H5KhvKtRXN1v+fOqiHpkGDqItWjcZa9afWs9z2fyJoKS332+T0DXQvwnfCoK7ArWBINAI3cpR720tyNwdkGIUs0ylF31athargvz/8b3a3ZPdyR55O8K/zhgJz0QPpWEstXj2Vhm1quowHzoAkIAJ3RfCJCH0UtxXQTJTvVu4rFR+UCyPSUfNnauk+vC9Eht/h/nTWYhaFgC/x0xecu0BlIl5rNPhhrQvxZbiKi/p1ut1UlDBwBxOjS3fB+yXI8hnuMmS9i7pI6RVOIA0IIe1yCQGGlP14f/UeypTWYk4MajVKp/0MAnnCH0b0C2Q+AP6HAK0eB0Yiz9yWYDYDagmhHIpHgfLofV7DHYYCbcZdjbseCDbg39DEr4N4hxE+0oHoRA4m1pA08BeTCi8iawW96ZjAC2MCeIcArfClKI/eW+mw5eHJSuYQ5u1J+4OT/olkaYMWh+ynIVcoT2gPWl0Ehl8N3VCcyBpI3BZfB6BgLzjGs4peqFtgBDVGDYFMI4AB5GE0r8sgoM+5T/olKMO8s5y0Sh/8T68zDajll1sIYDyXyCBwNXQ7LJn0TYZuTyZLa3GGQOgRaMPQbbUN3UKvHiZgMgScodtrznAslaHbuOjQjZ7qpGR5W5whEHoEYoduPNeMSCYwG773xniis242dHPAsvdAybQmxHEM3X5eXV39HiKW8M5jJe40eqQy/FphoFUFkRUI3Ef9nQjTPtZrSDeQdz5afpTzlxlQDqqAhm70OK/iHpqu+BjQGF4wPpfu/8Kavtkn3WEV1OTaigAzaWdztzPGsBQj0oqC9fjlNqw4iLmPxLE+bAP0Y2Fh4SdbczKfIWAIGAKGgCFgCBgChoAhYAgYAoaAIWAIGAKGgCFgCBgChoAhYAiECQGWf2j7qL/y/iBwO/qEqR5MlgAiwNvry5xl719jQJGlHQEUw1g2BDKGQForETCaC52Sz+RNdaC2L8oYYpZRaBBAn8voFA5Hl/sh1JKSkpJX8Ne7IiCFlTi9z3euFGCZGgIeIsBypqN4FFkNVaHXn+LW4X4GDUiHjZSfY7BMHW2vLYu2wWp7pVOIpTUE/IQAxjKQvfi0ieIMtq7qxsryXTiGpg86/jmkXYk6u8IvBT/g9EK2GtcVhC1TLxBAj++D/omhNPoagftS9FuHal+aKh8p90DKEGu9Bgv9loJOoiDbTCJVlC2drxBAf/dGj2dDjXaB5X4TjL4B7Zkqw2kZEAWsg65V5rinpFqIpTME/IQAuluBEcXdiou4beC1JlV+0zIgZUoBS+XCQB+5Xl6UWUbPdzzPYOfgHsx9gZflq6zKysq+PIDu7XW5Vl5GEXgW3TldX+XG5opOHcL9UHTcvR1WGR9OoiBtgfSfsYW77cdozqDMyMZ/Kt+hTwg/wu2yY/OXAcFHPeU/on0CYuPMHwwEMJ4i6nAe9C36c7UzIye93gj9r2tSUNAxFFoHVeHf17WCmmSMUDdAMloJPRahB0NnE7ZMvOCq5fDkAvwOTpma+qyAfk+YO7M2nkiUm4VQZ8Xo0K3U3ypIDeJy7q8k3J1RDS1vHwrRpZPVzvEKdlr5nyGgzhid3lQ47rvBzyfEfYm/0YyKm/xR5sdgMI5G5GjKfh9aA02Ah7ReTLvJo+WdGgLSG8j9VTUozOUyHuih1FjLTCrKi/Q+jFd3iZcj8eeLLwztwHjxboRR3osYzO+UN+CrR7oAWgVG/+NGeZanfxFIucVEUQZKDDaWmOOlODzQ9aS8Sjaz+DReufCzkJdi7SA9EL4VL02mw+DpU/CIGDT+OvJ/AAMqhIfTM12W5edvBFKehUNhlksUXM9aepWHgmoFREcUtIfum17ERx/ktUrCk4syP6MgrZ9quDDkzwiP20s2JDJP6BBI2YA6duw4FQXREYoX8Ty0k1dIoJh69ulAeZc1LZPw9rT6V8LXWhYCvtk03q17ylNvuCdGPTxaBktB1Ct1h7QxoV2GQHMEGOOfi9K8gZLoZZNnF2U+qecc3JsoOzLjxTNRf8JmKRy+fu0ZMxQED6Xwou+iNAM4E3d3wtRL1jGxYO+IvKwMK6tlBFDOQpRzumNEmnJc7/irCZ/Qcg7upMCI+1H+VKgGuh+e1uLaCg134PZlrilPImSTe4ZMOvr9BJRTW9GOgnoT9iXu02wz+z5uVi4mNvQsdAozgENqa2vvwN8NY2/0bJQVxqxQQyCICGDgY+iFrgsi78azIWAIGAKGgCFgCBgChoAhYAgYAoaAIWAIGAKGgIsIeLaC2UUZLOs4COhlLy91f4l7LNGDIK2QWA29wyuAZ1i58TSu1vHZlQICzLDqM+8p0DhenayJ/sUMKIpEyFwq/HWMZ1gisTCeD1gmNQ5DWpQojYVvRQAs81nx8gju/gUFBaOKioq+UKwZ0FaMQuXj5e5BvNx9FCO5F4qsUmfdYAlCjkUJzoQK8ZdjSMfSor4aKuFdEgbMdLbsnWQ/BhoNbpHtDVwqzrLNNgKq8Hg8oAQ96aEWazmUlh9hbNEV7fGSuxYGD3dC78BnIFbERIGA5xvB7QfclHfvif7X3JAgQOX3gD5wjMjTjySjEFL236BAHloMdqewFnLXqCzm5iACKO9QGRDKUEMv4OkKe8prT9mbKPuZIEOf8vdAQRbSeI+PAFvazidG3zHpAfmw+KncCa2qqupPziWU/a47JXiTqxmQNzj7uZSPxByTCX3lenXV1NQMVll8iGgG5BXoVk7mEcBwOipXZujc35kmhn3KjRgQQYGeRrceKKZSc9S7veRmqvsrL+XHYGVA5bjbMIzTJ/uBvOJOcwZSEmM6bQSYvj6Ad0WRd0S8HOzDy8EVaWfSyj8webAKw9GOSxo+VuJfgqvh3LsM6xbByyLufX+IW6Dm31tZV/a3OAio1UeJf6soFPVVL43HYWcver3BTk+k0xLUI42Hr/YYdTuWIe3F/RInrTmGgH8QQEnzMZ7oRi21KOv+fuAOvorVK8LbheLRDzwZD4ZAMwS0oxFKqh2F9A7o0mYJLMAQMASSI4DxXE/Pc17yVBZrCBgChoAhYAgYAoZAqxDgYXLbVv3R/mQI5DoCrM86i4fcerm5joXJ708EfLsSgZ6nlHcEdwLbFt4R2IdL/tQf48qvCPA+4EBnmnW6X3k0vgwB3/ZA9D6lTvVoX2y7DAFDIB0E9Faa5x+djcrrCjsyJB3sLK13CPi2B+K5pwK6QYZEbzRD3/F7B4uVZAiEBAGegx7SsxD0aEhEMjEMAe8QoAcqcYZya/Db5xfeQW8lpYCAb4dwMbxXYDja9KKAId2WmHBfejH2v0JjfcmcMZVxBHxvQCjj+UhdivEE4tNf+NQWUQ/Dt07Ts8sQyB4CzL5tz7PPOpRR36zsmz1O0isZnq+BfoTvgen901IbAhlEgJm3W1FETSDclsFsPckK47kHWoHh7+BJgVZIVhDw9RCO6etIC8438k9mBZ02FFpaWqoP1d5GhuvbkI391ecI+P2zWR3HoS2XtIVqIJ6BovXNs1A9/pM1+RENMzd8CPi6B6LnmeZAfhfDuO5BhB9Dqgki38ZzaggkNKBs7dgfyzZn1/wFBbybsB7QbrFx5jcEMokAI4XMjsZ4AL6XVv+6TDLZ2ryC2vu0Vl77n/cIoO9PQ0/QceyYkdLJ7A0UV7u2TMhIhpaJIeBTBPScip5Pc/S9Av8kwnQYWesvMtMBQpWQfRHaehjtnwFCAF0/DIocPIb7tb6ExpDSXz6mdxeyRjK4nIxmQ7XcnxggLIxVQ6BVCGAw2rH136E1sgHoHwzrhqSVGYYzSn8mk2FkqO9y5kFVCk8rI0ucMwigZAeESVj0vgs6/5hjB3MTyZZoFi5y9iMvA5cyC1aBewwZLCVTjROHJsrMwnMTARRtYl1d3X1hkh69X488vXDroSvSkg0jeQhQVsb+ibDuhOlMzfVsDdsvNs78uYsAo5Locqu1YUIBPT8e0ijsv5PJlawHarQTDscBrsUSbyGzMk4X8/QwpmQCWFx2EGA0kody/ReuWuc/Q93wt23mKjuiNCsVOXTo2O3QBmhiswQxAc0MSMAQvwe0PCZdxEvcAIyomiHdsqZxdp87CKAHetDWZxvnc0TJyejEHZKe3minMKDAJJrWMe6CbDd37tx5TVoyAY6OvpgPadJgZOyf6dJmEP5ebJj5cwsB9EPvTJ6ByqP6QVhnDXe4Hx10NJCrB7Ksg3T4snqipFezHojWpJYe5mj+9T4ZTCejg2Ny0ORCo6FdTJx5cwABjORG9OJI6Aj0ZI5ERmc24qwjrE/QIUCWI6HOyHEVbnVL8jQzIP2BP2oGQq3JCmgWXdregFNC+M64ZkCAkqsX9V+J7Kt5Jp4XiwG68SX3gR/C0Sg8iowDkS+lDT3jGpCAYez3HauhD8f7A58TzMaItDQ/j7CcNiC6+D3olV9s0jMLspy4eC5YgbH0li5EBcavTzbycANvQJIJ4/koKltLbkID0h+Li4u/6dixo4xIm3popqVdrhsQEGjDkCOh8VDOXTSmX6ILnWhQe0p4/IU0KtNw+3L7gMJy6UpqQAKisLBwOc5IAPoRt7xTp06fKzxXL1rf5x3Z01veERLA8vPzNaxvR0/UB50o4ZloFrdDaFhH0HLPD4mYKYvRogEpJ4ZzHwDQaJTn79CWlHMPYUK+UYo0IODQLYTitSgSp3mvRHYO0q7di55HkwgDuT8UXBa2+OdcT0CL0zXXMWAVxi48/2iR4Re5ioVkx3iqoBU6sDhXcZDc+ekIT0uzLp30YUxbXV19qOQCi3fDKF8qMiH7ChrT2oKCghEM8TX7lrNXSkO4sKNDi6p1fjehFKXJZCVes02/cdI8lSxtmOPA4SWG9IcwnMtp4wlzHaclGwY0C9Kw7AWUI26jQngRRvac0uG+y31avXdaDFliQyBICGAU3aHPHONYioGMwUAKJQNuKfenQgsVD30BDQiSfMarewg0vAxzr4hg5CyjYGyv9xmxxrGJsALCoqvPFzB9exxvqyP71QVDMuPSTQTMgGLQlaHwXuM83HEEa1fULlA5pAW0DzGd/xgGZUdOAoZdhkCLCGBISScVWszAEoQegf8HGHGZRk4NhNIAAAAASUVORK5CYII=",Pn,(function(e){return e.composerHidden?"16px":"0 16px 10px"})),to=function(e){function t(){var t;return(t=e.call(this)||this).state={lastReadId:null,showNewMessagesButton:!1,scrolledToBottom:!0},t.handleScroll=function(){var e=t.isScrolledToBottom();e!==t.state.scrolledToBottom&&t.setState({scrolledToBottom:e}),t.scrollable&&(t.setScrollPosition(t.scrollable.scrollTop),t.resetScrollState(),t.scrollable.scrollTop<100&&"top"===t.scrollDirection?t.props.onLoadHistory({dir:"prev",channelId:t.props.channelId}):t.scrollable.scrollHeight-t.scrollable.offsetHeight-t.scrollable.scrollTop<100&&t.scrollDirection===Xn&&(t.markChannelAsRead(),t.props.onLoadHistory({dir:"next",channelId:t.props.channelId})),t.setShowNewMessagesButton())},t.handleIntersectionChange=function(e,n){e.isIntersecting&&t.props.dispatch((0,Vn.yv)(n))},t.handleNewMessagesButtonClick=function(){t.setScrollToBottom()},t.getMessageGroups=function(){var e=t.getLocalUnreadMessages(),n=e.length&&e[0].msgId,o=jn(t.props.messages,t.props.historyGaps,n,Boolean(e.length)).map((function(e){return t.methodsByType[e.type]?t.methodsByType[e.type](e.data):null}));return o.length&&(o[o.length-1]=a.cloneElement(o[o.length-1],{isLastGroup:!0})),o},t.getMessageId=function(e){return e.msgId||e.fakeMsgId},t.getLastReadId=function(){return t.props.activeChannel.lastReadId},t.setLastReadId=function(e,n){return t.setState({lastReadId:e},n)},t.setShowNewMessagesButton=function(){var e=t.state.showNewMessagesButton,n=!t.isScrolledToBottom();e!==n&&t.setState({showNewMessagesButton:n})},t.createMessageGroup=function(e){var n,o=e.messages,r=e.isFullScreen,i=t.getMessageId(o[o.length-1]),s=Object.keys(t.messagesGroupCache).find((function(e){return o.find((function(n){return t.getMessageId(n)===e}))}));return s?n=s:(n=i,t.messagesGroupCache.push(i)),a.createElement(Sn,{messages:o,key:n,selfUserId:t.props.selfUserId,statusMsgIds:t.props.statusMsgIds,componentMountTime:t.componentMountTime,fullScreen:r,chatRef:t.chat})},t.createChannelNotification=function(e){var t=e.message;return a.createElement(Xe,{key:t.msgId,message:t})},t.createDateDivider=function(e){var t=e.message;return a.createElement(Pe,{key:t.created,date:t.created})},t.createHistoryGap=function(e){var n=e.historyGap;return a.createElement(qn,{key:n.id,root:t.scrollable,onIntersectionChange:t.handleIntersectionChange,historyGap:n})},t.createNewMessagesDivider=function(){return a.createElement(kn,{dividerRef:t.newMessagesDivider})},t.createNewMessagesButton=function(){var e=t.state.showNewMessagesButton,n=(t.getUnreadMessages()||[]).filter((function(e){return Jn.includes(e.action)}));return e&&a.createElement(zn,{onClick:t.handleNewMessagesButtonClick,counter:n.length})},t.deleteUserTyping=function(e){t.props.dispatch((0,be.N)({userId:e,channelId:t.props.channelId}))},t.resetLastReadId=function(){t.state.lastReadId&&t.setState({lastReadId:null})},t.componentMountTime=Number(new Date),t.messagesGroupCache=[],t.throttledHandleScroll=we()(t.handleScroll,50),t.newMessagesDivider=a.createRef(),t.chat=a.createRef(),t.methodsByType={DateDivider:t.createDateDivider,ChannelNotification:t.createChannelNotification,MessageGroup:t.createMessageGroup,HistoryGap:t.createHistoryGap,NewMessagesDivider:t.createNewMessagesDivider},t.lastScrollHeight=null,t.scrollDirection=null,t.scrollTop=0,t}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.messages,t=this.getLastReadId();e.length&&this.markChannelAsRead(),this.props.dispatch((0,Gt.B_)(this.props.channelId)),t&&this.setLastReadId(t,this.handleOpenChannelScroll),this.lastScrollHeight=this.scrollable.scrollHeight,this.handleScrollState(),this.scrollToLastReadMessage(this.props),this.setShowNewMessagesButton(),this.setState({scrolledToBottom:this.isScrolledToBottom()})},n.componentDidUpdate=function(e,t){var n=this.getUnreadMessages();if(!this.isMessagesEqual(e)&&!this.props.windowFocused&&!this.state.lastReadId){var o=this.getLocalUnreadMessages(),r=o.length&&o[0].msgId;r&&this.setLastReadId(r)}if((!this.isMessagesEqual(e)||e.widgetOpen!==this.props.widgetOpen||e.windowFocused!==this.props.windowFocused||t.scrolledToBottom!==this.state.scrolledToBottom&&n.length)&&this.isScrolledToBottom()&&this.markChannelAsRead(),this.handleScrollState(),this.isMessagesEqual(e)||this.handleMessagesChange(e),this.lastScrollHeight!==this.scrollable.scrollHeight){var a=this.lastScrollHeight-this.scrollable.scrollHeight,i=this.scrollTop-a;this.setScrollPosition(i),this.lastScrollHeight=this.scrollable.scrollHeight}},n.componentWillUnmount=function(){this.resetLastReadId()},n.handleMessagesChange=function(e){var t=e.messages,n=this.props,o=n.messages,r=n.activeChannel.lastMsgId,a=t.find((function(e){return e.msgId===r})),i=o.find((function(e){return e.msgId===r}));!a&&i&&this.handleOpenChannelScroll()},n.handleScrollState=function(){if(this.scrollable)switch(this.props.scrollState){case f.J_:this.handleOpenChannelScroll();break;case f.Lf:this.handleOwnMessageScroll();break;case f.Ij:this.handleNotOwnMessageScroll();break;case f.kg:this.handleAfterHistoryFetchScroll()}},n.handleOpenChannelScroll=function(){this.getUnreadMessages().length?this.scrollToLastReadMessage():this.setScrollToBottom()},n.handleOwnMessageScroll=function(){this.setScrollToBottom()},n.handleNotOwnMessageScroll=function(){this.state.scrolledToBottom&&this.setScrollToBottom()},n.handleAfterHistoryFetchScroll=function(){if(this.scrollable&&this.lastScrollHeight){if(this.scrollable.scrollHeight-this.lastScrollHeight===0&&0===this.scrollTop)this.setScrollToBottom();else{var e=this.scrollable.scrollHeight-this.lastScrollHeight+this.scrollTop;this.setScrollPosition(e)}this.resetScrollState(),this.lastScrollHeight=this.scrollable.scrollHeight}},n.getLocalUnreadMessages=function(){var e=this.state.lastReadId;return!!e&&this.getSlicedMessages(e)},n.getUnreadMessages=function(){var e=this.props.statusMsgIds.sentAckReadMsgId;return this.getSlicedMessages(e)},n.getSlicedMessages=function(e){var t=this,n=this.props.messages,o=n.findIndex((function(t){return t.msgId===e}));return-1!==o?n.slice(o+1).filter((function(e){return!t.isOwnMessage(e)})):[]},n.setScrollToBottom=function(){this.setScrollPosition(this.scrollable.scrollHeight),this.markChannelAsRead()},n.setScrollPosition=function(e){this.scrollable&&(this.scrollable.scrollTop=e),this.setScrollDirection(e),this.saveScrollPosition(e)},n.setScrollDirection=function(e){e>this.scrollTop?this.scrollDirection=Xn:this.scrollDirection="top"},n.resetScrollState=function(){var e=this.props,t=e.channelId;(0,e.dispatch)((0,Vn.RE)(t))},n.saveScrollPosition=function(e){this.scrollTop=e},n.markChannelAsRead=function(){var e=this.props,t=e.dispatch,n=e.channelId;t((0,Ie.Eo)(n,{doNotCheckFocus:!0}))},n.isScrolledToBottom=function(){return!!this.scrollable&&this.scrollable.scrollHeight-this.scrollable.scrollTop-this.scrollable.offsetHeight<=52},n.scrollToLastReadMessage=function(){if(this.scrollable){var e=this.newMessagesDivider.current;e&&(this.setScrollPosition(e.offsetTop),this.resetScrollState())}},n.isMessagesEqual=function(e){return e.messages.length===this.props.messages.length},n.isOwnMessage=function(e){return e.user.id===this.props.selfUserId},n.render=function(){var e=this;return a.createElement($n,{composerHeight:this.props.composerHeight,composerHidden:this.props.composerHidden},a.createElement(eo,{composerHidden:this.props.composerHidden,host:this.props.host,ref:function(t){e.chat=t,e.scrollable=t},onScroll:this.throttledHandleScroll},this.getMessageGroups(),this.createNewMessagesButton(),a.createElement(Qe,{deleteUserTyping:this.deleteUserTyping})))},(0,o.Z)(t)}(a.Component);const no=(0,i.$j)((function(e){return{channelId:e.activeChannel.channelId,composerHeight:e.widget.composerHeight,composerHidden:(0,O.tw)(e),host:e.widget.host,messages:(0,O.My)(e),historyGaps:(0,O.UO)(e),scrollState:(0,O.yc)(e),activeChannel:(0,O.Gm)(e),selfUserId:e.user.id,statusMsgIds:e.channelStatuses[e.activeChannel.channelId]||{},widgetOpen:e.widget.open,windowFocused:e.widget.windowFocused}}))(to);var oo=s.default.div.withConfig({displayName:"ConversationStandalone__Root",componentId:"sc-1plzyzo-0"})(["height:100%;display:flex;flex-direction:column;"]),ro=s.default.div.withConfig({displayName:"ConversationStandalone__Chat",componentId:"sc-1plzyzo-1"})(["background-color:",";flex:1 1 auto;overflow-y:auto;padding:0 16px;padding-bottom:10px;"],(function(e){return e.theme.palette.foregroundColor})),ao=function(e){function t(){return e.apply(this,arguments)||this}(0,r.Z)(t,e);var n=t.prototype;return n.getLastMessageView=function(){return this.props.messages.filter((function(e){return e.action===st.Q9})).pop()},n.render=function(){var e=this.getLastMessageView();return a.createElement(oo,null,a.createElement(ro,null,e&&a.createElement(tn,{key:e.msgId,message:e})))},(0,o.Z)(t)}(a.Component);const io=(0,i.$j)((function(e){return{messages:e.channelMessages[e.activeChannel.channelId]||[]}}))(ao);var so=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).handleLoadHistory=function(e){t.props.dispatch((0,Vn.Ml)(e))},t}(0,r.Z)(t,e);var n=t.prototype;return n.getActiveChannelType=function(){var e=this,t=this.props.channels.find((function(t){return t.channelId===e.props.activeChannelId}));return t&&t.type},n.render=function(){return"standalone"===this.getActiveChannelType()?a.createElement(io,null):a.createElement(no,{onLoadHistory:this.handleLoadHistory})},(0,o.Z)(t)}(a.Component);const lo=(0,i.$j)((function(e){return{activeChannelId:e.activeChannel.channelId,channels:e.channels.list}}))((function(e){return a.createElement(so,Object.assign({},e,{key:e.activeChannelId}))}));var co=n(50672),uo=n(6134),po=s.default.div.withConfig({displayName:"ChannelListRow__Root",componentId:"sc-qczdie-0"})(["width:100%;height:83px;border-bottom:1px solid ",";cursor:pointer;padding:20px 16px;box-sizing:border-box;position:relative;&:hover{background-color:",";}"],(function(e){return e.theme.palette.dividerColor}),(function(e){return e.theme.palette.backgroundCardColor})),ho=s.default.div.withConfig({displayName:"ChannelListRow__Title",componentId:"sc-qczdie-1"})(["font-size:16px;font-weight:",";color:",";"],(function(e){return e.unread?600:400}),(function(e){return e.theme.palette.primaryTextColor})),go=s.default.div.withConfig({displayName:"ChannelListRow__ChannelLastActionWrapper",componentId:"sc-qczdie-2"})(["font-size:12px;text-align:left;color:",";max-width:304px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-top:4px;height:17px;line-height:17px;"],(function(e){var t=e.unread,n=e.theme.palette;return t?n.primaryTextColor:n.secondaryTextColor})),mo=s.default.span.withConfig({displayName:"ChannelListRow__ChannelLastActionAuthorName",componentId:"sc-qczdie-3"})(["margin-right:5px;font-weight:600;"]),fo=s.default.div.withConfig({displayName:"ChannelListRow__Time",componentId:"sc-qczdie-4"})(["float:right;font-size:12px;text-align:right;color:",";"],(function(e){var t=e.unread,n=e.theme.palette;return t?n.primaryTextColor:n.hintTextColor})),vo=s.default.div.withConfig({displayName:"ChannelListRow__NoMessages",componentId:"sc-qczdie-5"})(["font-size:12px;text-align:left;color:",";overflow:hidden;margin-top:4px;height:17px;line-height:17px;"],(function(e){return e.theme.palette.secondaryTextColor})),yo={badgeRoot:{display:"flex",justifyContent:"space-between",alignItems:"center"}},Co=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={time:""},t}(0,r.Z)(t,e);var n=t.prototype;return n.componentWillMount=function(){this.setupUpdateLastMessageTimer()},n.componentWillReceiveProps=function(e){this.props.channel.lastDate!==e.channel.lastDate&&this.setupUpdateLastMessageTimer(e)},n.componentWillUnmount=function(){clearInterval(this.updateLastMessageTimer)},n.getMessageAuthorName=function(e){return this.props.selfUserId===e.id?this.props.t("ownName"):"b"===e.type?this.props.companyName:e.name},n.setupUpdateLastMessageTimer=function(e){var t=this;void 0===e&&(e=this.props),this.updateLastMessageTime(e),this.updateLastMessageTimer&&clearInterval(this.updateLastMessageTimer),this.updateLastMessageTimer=setInterval((function(){return t.updateLastMessageTime(t.props)}),3e4)},n.updateLastMessageTime=function(e){var t=e.channel.lastDate;t&&this.setState({time:(0,co.Z)(t,e.t)})},n.render=function(){var e=this.props,t=e.channel,n=e.selfUserId,o=e.onSelectChannel,r=e.messages,i=e.t,s=e.companyName,l=e.unreadMessagesCount,c=r[r.length-1],d=c&&uo.Z[c.action],u=Boolean(l&&d);return a.createElement(po,{onClick:function(){return o(t.channelId,t.type)}},c&&a.createElement(fo,{unread:u},this.state.time),a.createElement(ho,{unread:u},t.name),d?a.createElement(g.Z,{style:yo.badgeRoot,counter:this.props.unreadMessagesCount},a.createElement(go,{unread:u},a.createElement(mo,null,this.getMessageAuthorName(c.user,n,i,s),":"),a.createElement("span",null,a.createElement(d,{message:c})))):a.createElement(vo,null,i("noMessages")))},(0,o.Z)(t)}(a.Component);const xo=(0,p.Zh)()(Co);var wo=s.default.div.withConfig({displayName:"ChannelList__Root",componentId:"sc-17hgvao-0"})(["height:100%;overflow-y:auto;background:",";z-index:1;"],(function(e){return e.theme.palette.foregroundColor}));const Io=function(e){var t=e.channels,n=e.onSelectChannel,o=e.selfUserId,r=e.channelMessages,i=e.companyName,s=e.badgesByChannelId;return a.createElement(wo,null,t.map((function(e){return a.createElement(xo,{key:e.channelId,channel:e,onSelectChannel:n,selfUserId:o,companyName:i,messages:r[e.channelId]||[],unreadMessagesCount:s[e.channelId]})})))};var bo=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).handleSelectChannel=function(e){t.props.dispatchNavigateToConversation({channelId:e})},t}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.channels,n=e.selfUserId,o=e.channelMessages,r=e.companyName,i=e.badgesByChannelId;return a.createElement(Io,{channels:t,channelMessages:o,companyName:r,selfUserId:n,onSelectChannel:this.handleSelectChannel,badgesByChannelId:i})},(0,o.Z)(t)}(a.Component);const Ao=(0,i.$j)((function(e){return{channels:e.channels.list,channelMessages:e.channelMessages||{},channelId:e.activeChannel.channelId,companyName:e.company.name,selfUserId:e.user.id,badgesByChannelId:e.badges.byChannelId}}),(function(e){return(0,u.DE)({dispatchNavigateToConversation:D.RQ},e)}))(bo);var Eo=(0,s.default)(l.q.div).withConfig({displayName:"Messenger__AnimatedWrapper",componentId:"sc-zd64zt-0"})(["position:absolute;width:100%;height:100%;will-change:transform,opacity;"]),To=function(e){return function(t){return a.createElement(Eo,{style:t},a.createElement(e,null))}},Mo={home:To(Ce),channels:To(Ao),conversation:To(lo)},Do=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state={direction:"right"},t}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.open,n=e.isEntitiesFetched;t&&!n&&this.props.dispatch((0,D.mC)())},n.componentWillReceiveProps=function(e){e&&e.open&&!e.isEntitiesFetched&&this.props.dispatch((0,D.mC)()),"channels"===this.props.route&&"home"===e.route||"conversation"===this.props.route&&"channels"===e.route||"conversation"===this.props.route&&"home"===e.route?this.setState({direction:"right"}):this.setState({direction:"left"})},n.render=function(){var e=this.props,t=e.isReady,n=e.route,o=e.company,r=e.window,i=e.locale,s=e.embedMode;return t?a.createElement(d.f6,{theme:{}},a.createElement(c.yu,Object.assign({locale:i},d.XJ),a.createElement(ve.Z,{window:r},a.createElement(pe,{route:n,company:o,embedMode:s},a.createElement(fe,{direction:this.state.direction,items:n},(function(e){return Mo[e]})))))):a.createElement(he.yd,null)},(0,o.Z)(t)}(a.Component);const No=(0,s.withTheme)((0,i.$j)((function(e){return{company:e.company,isEntitiesFetched:(0,O.Co)(e),isReady:e.widget.ready,open:e.widget.open,route:e.widget.route,embedMode:(0,O.W6)(e),locale:e.widget.language}}))(Do))}}]);
//# sourceMappingURL=233.635fffeb.chunk.js.map
</script>

</body>
</html>
