<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bay-utils.min.html</title>
</head>
<body>

<script>
var bayUtils=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(2);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(3);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var i=n(4);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var c=n(5);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var s=n(6);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.parseDate=function(e){var t=/^(\d{4})\-(\d{2})\-(\d{2})T(\d{2}):(\d{2}):(\d{2})(\+|\-)(\d{4})$/,n=/^(\d{4})\-(\d{2})\-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/;return t.test(e)?new Date([e.slice(0,22),":",e.slice(22)].join("")):n.test(e)?new Date(e.replace("T"," ")):new Date(e)},r=t.pad=function(e,t,n){return e.length>=t?e:new Array(t-e.length+1).join(n)+e},o=(t.formatDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-DD",o="日_一_二_三_四_五_六".split("_"),a=n(e),i={Y:a.getFullYear(),y:a.getFullYear(),M:a.getMonth()+1,D:a.getDate(),d:a.getDay(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),S:a.getMilliseconds()},c=t.replace(/([YyMDdhmsS])+/g,function(e,t){var n=i[t],a=e.length;return void 0===n?e:(n=n.toString(),"d"===e?o[n]:a>n.length?r(n,a,0):"y"===t||"Y"===t?n.substr(n.length-a):n)});return c},t.trimString=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.length<=t?e:e.slice(0,t)+n},t.formatSafetyStr=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*",o=arguments[4];e=e.toString();var a=e.length,i=a-t-n;if("number"==typeof o&&o>0&&(i=o),i<0)return e;var c=new Array(i+1).join(r);return[e.slice(0,t),c,n<=0?"":e.slice(-n)].join("")});t.formatSafetyEmail=function(e,t,n,r,a){var i=e.toString();return t=Number(t)||Math.floor(1*i.length/4),n=Number(n)||Math.floor(1*i.length/4),o(i,t,n,r,a)},t.formatSafetyMobilephone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments[3];return o(e,t,n,r)},t.formatNumToCn=function(e){var t=+e,n=["","一","二","三","四","五","六","七","八","九"],r=t%10,o=Math.floor(t/10),a=n[r],i=1===o?"":n[o];return t>=100?t:t>=10?i+"十"+a:t>0?a:"零"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=arguments,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t.assertString=function(e){if("string"!=typeof e)throw new TypeError("This library (validator.js) validates strings only")},a=t.toString=function(e){return"object"===("undefined"==typeof e?"undefined":r(e))&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null===e||"undefined"==typeof e||isNaN(e)&&!e.length)&&(e=""),String(e)};t.merge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return Object.keys(t).forEach(function(n){"undefined"==typeof e[n]&&(e[n]=t[n])}),e},t.isStandardBrowserEnv=function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement},t.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.isWechatUA=function(e){return/micromessenger/i.test(e)},t.isMobileUA=function(e){return/Mobile|iP(hone|od|ad)|iOS|Android|BlackBerry/i.test(e)},t.isAndroidUA=function(e){return/(android)/i.test(e)},t.isIOSUA=function(e){return/iPad|iOS|iPhone|iPod/i.test(e)},t.isShanbayAppUA=function(e){return/com\.shanbay|com\.beeblio/.test(e.toLowerCase())},t.isMobilePhone=function(e){var t=a(e),n={"zh-CN":/^(\+?0?86\-?)?1[3456789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};return n["zh-CN"].test(t)||n["zh-TW"].test(t)},t.isEmail=function(e){o(e);var t=/^(([^<>()\[\]\\.,;:\s@']+(\.[^<>()\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},t.isUrl=function(e){o(e);var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return t.test(e)},t.escapeStr=function(e){return o(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")},t.unescapeStr=function(e){return o(e),e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#96;/g,"`")},t.isStrLength=function(e,t){o(e);var a=void 0,i=void 0;"object"===("undefined"==typeof t?"undefined":r(t))?(a=t.min||0,i=t.max):(a=n[1],i=n[2]);var c=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],s=e.length-c.length;return s>=a&&("undefined"==typeof i||s<=i)},t.isJSON=function(e){o(e);try{var t=JSON.parse(e);return!!t&&"object"===("undefined"==typeof t?"undefined":r(t))}catch(e){}return!1},t.isNumeric=function(e){var t=/^[-+]?[0-9]+$/;return o(e),t.test(e)},t.isEmptyStr=function(e){return o(e),0===e.length},t.isEmptyObj=function(e){return!Object.keys(e).length},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePasteDataToMarkdown=t.countDownBtn=t.lazyloadImage=t.copyToClipboard=t.selectElement=t.clearFormData=t.getFormData=t.removeClass=t.addClass=t.hasClass=void 0;var r=n(2),o=t.hasClass=function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},a=t.addClass=function(e,t){e.classList?e.classList.add(t):o(e,t)||(e.className+=" "+t)},i=t.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else if(o(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}},c=(t.getFormData=function(e){var t={},n=e.querySelectorAll("input, textarea"),r=Array.prototype.slice.call(n);return r.forEach(function(e){var n=e.getAttribute("name"),r=e.getAttribute("type"),o=e.value;return!n||"radio"===r&&!e.checked?null:("radio"===r&&(o="true"===o||o,o="false"!==o&&o),"checkbox"===r&&(o=e.checked),"number"===r&&(o=~~o),t[n]=o,null)}),t},t.clearFormData=function(e){var t=e.querySelectorAll("input, textarea"),n=Array.prototype.slice.call(t);n.forEach(function(e){e.value=null})},t.selectElement=function(e){if(document.selection){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var n=document.createRange();n.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}),s=(t.copyToClipboard=function(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t),c(t),document.execCommand("copy"),t.remove()},t.lazyloadImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=window.requestAnimationFrame||window.webkitRequestAnimationFrame,n=document.querySelectorAll("img[data-src]"),r=function(e){if(!e.getAttribute("loaded")){var t=e.getAttribute("data-src");e.setAttribute("src",t),e.setAttribute("loaded",!0)}},o=function(){var o=Array.prototype.slice.call(n);o.forEach(function(n){t(function(){var t=n.getBoundingClientRect().top,o=window.innerHeight;t-e<o&&r(n)})})};window.addEventListener("scroll",o,!1),window.addEventListener("load",o,!1)},function(e,t){t?(i(e,"disable"),e.setAttribute("disabled",!1)):(a(e,"disable"),e.setAttribute("disabled",!0))});t.countDownBtn=function(e,t){var n={time:60,getProcessText:function(e){return e+"s后重发"},endText:"重新获取验证码"};t=(0,r.merge)(t,n),e.innerText=t.getProcessText(t.time),s(e,!1);var o=t.time,a=window.setInterval(function(){o>0?(o-=1,e.innerText=t.getProcessText(o)):(window.clearInterval(a),e.innerText=t.endText,s(e,!0))},1e3);return a},t.parsePasteDataToMarkdown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"google-docs",e.clipboardData.getData("text/html")),r=$(n),o=r.filter(function(e,t){return["META"].indexOf(t.tagName.toUpperCase())===-1}),a=function e(t,n){t.children().length?t.children().each(function(t,r){return e($(r),n)}):n(t)},i=[];return a(o,function(e){var n=e.html(),r=e.css("color"),o=t.indexOf("bold")>-1,a=t.indexOf("italic")>-1,c=t.indexOf("color")>-1,s=e.css("font-weight")>400&&!o,u="italic"===e.css("font-style")&&!a,l="rgb(0, 0, 0)"!==e.css("color")&&!c;s&&u?n="**_"+n+"_**":s?n="**"+n+"**":u&&(n="*"+n+"*"),l&&(n='<span style="color:'+r+'">'+n+"</span>"),"BR"===e[0].tagName.toUpperCase()?i.push("\n\r"):i.push(n)}),i.join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppNameFromAgent=t.transformUrlToAnchor=t.uniqArr=t.getUrlsFromStr=t.getFrontendVersion=t.getDayDiff=t.ajax=t.getCookie=t.getSearchValue=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),a=n(2),i=(t.getSearchValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=e.replace(/[[\]]/g,"\\$&"),r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),o=r.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g,"")):"":null},t.getCookie=function(e,t){var n=t+"=",r=decodeURIComponent(document.cookie),o=r.split(";"),a=o.filter(function(e){return e.indexOf(n)>-1})[0];return a&&a.substring(n.length+a.indexOf(n))}),c=(t.ajax=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];$.support.cors=!0,e.type=e.type||e.method||"GET",e.method&&console.warn("Ajax does't support 'method' parameter! Please replace it by 'type'!");var o=/\/api\/v3\/|apiv3/.test(e.url),a=$.extend({},{LOGIN_URL:"/web/account/login"},n),c={crossDomain:!0,xhrFields:{withCredentials:!0},headers:{Accept:"application/json"}};"GET"!==e.type&&(c.contentType="application/json",c.headers["X-CSRFToken"]=i(document.cookie,"csrftoken"));var s=function(e){401===e&&(window.location.href=a.LOGIN_URL+"/?next="+encodeURIComponent(window.location.href))},u={success:function(t){return o?void(e.success&&e.success(t)):(s(t.status_code),void(0===t.status_code?e.success&&e.success(t.data):(422===t.status_code&&(t.msg=function(e){if(!e)return t.msg;var n=[];return $.each(e,function(e,t){var r=t.map(function(t){return"("+e+"): "+t});n=n.concat(r)}),n.join("\n")}(t.errors)),e.error&&e.error(t.status_code,t.msg||"请求失败，请稍后重试"))))},error:function(t,n){s(t.status),e.error&&e.error(t.status,n+"("+t.status+")")}};e.data&&"object"===r(e.data)&&"GET"!==e.type&&(e.data=JSON.stringify(e.data)),t?$.ajax($.extend({},c,e)):$.ajax($.extend({},c,e,u))},t.getDayDiff=function(e,t){var n=new Date((0,o.formatDate)(e)),r=new Date((0,o.formatDate)(t));return Math.floor((new Date(r)-new Date(n))/864e5)},t.getFrontendVersion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,t=e.match(/Frontend\/(\d+).(\d+)/gi);return t&&t.length?parseFloat(t[0].replace(/Frontend\//gi,"")):null},t.getUrlsFromStr=function(e){var t=new RegExp("https?:\\/\\/[-A-Za-z0-9+&@#\\/%?=~_|!:,.;]+[-A-Za-z0-9+&@#\\/%=~_|]","ig");return e.match(t)}),s=t.uniqArr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return(0,a.isArray)(e)?(e.forEach(function(n,r){var o=e.indexOf(n);o===r&&e[o]===n&&t.push(n)}),t):t};t.transformUrlToAnchor=function(e){var t=e,n=s(c(e));return n.forEach(function(e){var n="<a href='"+e+"' target='_blank'>"+e+"</a>";t=t.replace(new RegExp(""+e,"gi"),n)}),t},t.getAppNameFromAgent=function(e){var t=void 0,n={"com.shanbay.words":"bdc","com.shanbay.news":"news","com.shanbay.listen":"listen","com.shanbay.speak":"speak","com.shanbay.reader":"read","com.shanbay.book":"read","com.shanbay.sentence":"sentence","com.beeblio.sentence":"sentence"};return Object.keys(n).forEach(function(r){e.indexOf(r)!==-1&&(t=n[r])}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wxSdkConfig=void 0;var r=n(2),o=n(4),a="https://www.shanbay.com",i=["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone"],c=function(e,t){var n=e.shareData,r=e.jsApiList,c=void 0===r?i:r,s=e.onReady,u=e.onError,l=e.hostUrl,d=void 0===l?a:l,f=e.isDebug,p=void 0!==f&&f,g=n.codename,m=function(e,t){return e.replace(/:\/\/(.*?)\//,"://"+t+"/")};(0,o.ajax)({url:d+"/api/v1/wechat/jsconfig/?url="+encodeURIComponent(window.location.href)+(g?"&codename="+g:""),success:function(e){n.link=m(t||n.link,e.host);var r=c.concat(),o={debug:p,appId:e.appid,timestamp:e.timestamp,nonceStr:e.noncestr,signature:e.signature,jsApiList:r};wx.config(o),wx.ready(function(){["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone"].forEach(function(e){if(n&&c.indexOf(e)!==-1){var t=$.extend({},n,{success:function(){n.success&&n.success(e)}});wx[e](t)}}),s&&s({appId:e.appid,timestamp:e.timestamp,nonceStr:e.noncestr,signature:e.signature})}),wx.error(function(e){u&&u(e)})}})};t.wxSdkConfig=function(e){var t=e.onReady,n=e.trackObject,i=void 0===n?null:n,s=e.hostUrl,u=void 0===s?a:s;(0,r.isWechatUA)(window.navigator.userAgent)?i?(0,o.ajax)({url:u+"/api/v2/track/short_urls/",type:"POST",data:i,success:function(t){var n=t.wechat;c(e,n)}}):c(e):t&&t()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.studyroomShare=void 0;var r=n(4),o=n(2);t.studyroomShare=function(e){var t="https://www.shanbay.com/api/v2",n="http://local.daydayup.me/api/v2",a="https://static.baydn.com/baydn/public/images/logo-s.png",i=e.data,c=e.isDev,s=void 0!==c&&c,u=e.onSuccess,l=e.onError,d={title:document.title,image_url:a,redirect_url:window.location.href};(0,o.merge)(i.share_content,d),(0,r.ajax)({url:(s?n:t)+"/studyroom/posts/share/",type:"POST",data:i,success:u,error:l})}}]);
</script>

</body>
</html>
