<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>launch-f4f04970da45.min.html</title>
</head>
<body>

<script>
// For license information, see `https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current//a086326e8d0e/74a65f9f5676/launch-f4f04970da45.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2024-11-17T22:16:21Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN1c1f1dbcdaf44a21a8aee63f091651b7",stage:"production"},dataElements:{"digitalData.bookingflow.ffLoginSuccess.FFnumber":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return dataLayer.getEvents("ffLoginSuccess")[dataLayer.getEvents("ffLoginSuccess").length-1].attributes.frequentFlyerNumber||null}}},"XDM | RemoveFromCart":{cleanText:!0,modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{commerce:{productListRemovals:{value:1}},productListItems:"%DL | JS | Products Object%"},sandbox:{name:"prod"}}},"digitalData.basket.departureDates":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.basket&&digitalData.basket.line_Items){var e="";return digitalData.basket.line_Items.forEach((function(t,a){t.product&&t.product.flights&&(a>0&&(e+=","),t.product.flights.forEach((function(t,a){void 0!==t.departureDate&&0===a&&(e+=t.departureDate)})))})),e}}}},"XDM | SeatMap - DownButtons":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_qantas:{Event:{eventType:"interaction",eventLabel:"Down Buttons",eventAction:"CTA Click",eventCategory:"New Flight Booking - Seat Map"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"New Flight Booking - Seat Map",eVar18:"Down Buttons",eVar19:"interaction",eVar33:"New Flight Booking - Seat Map"}}}}},sandbox:{name:"prod"}}},"DL | Journey | flightsCarbonOffsetAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.flightsCarbonOffsetAvailable%"}},purchaseProductId:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(QStats&&void 0!==QStats.recordLocator)return productPurchasID="Flight;"+sessionStorage.getItem("FullItinerary")}catch(e){}}}},M_select_citypair:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e,t){return decodeURIComponent((new RegExp(e+"[#:=]([^&|@#;]+)(&|||#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null}try{var t=e("B_LOCATION_1",SiteCatalystUtility.INSTANCE._defaultSiteCatalystInstance._sPostURL),a=e("E_LOCATION_1",SiteCatalystUtility.INSTANCE._defaultSiteCatalystInstance._sPostURL),n=e("B_LOCATION_2",SiteCatalystUtility.INSTANCE._defaultSiteCatalystInstance._sPostURL),r=e("E_LOCATION_2",SiteCatalystUtility.INSTANCE._defaultSiteCatalystInstance._sPostURL);return null!=n||null!=r?t+"-"+a+","+n+"-"+r:t+"-"+a}catch(e){}}}},"DL | Booking Engine":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"Booking Engine"}},usercontext:{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"usercontext"}},"Data Layer | Action":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.eventAction%"}},flight_deals_listing:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=digitalData.listing[digitalData.listing.length-1].items,t="";for(var a in e)t+=";"+e[a].saleName+"|"+e[a].departureAirportCode+"-"+e[a].arrivalAirportCode+"|"+e[a].travelClassName+"|"+e[a].currencyPrice+"|"+e[a].position+",";return t=t.substring(0,t.length-1)}}},"DL | Web | subCategory1 with Condition":{cleanText:!0,modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | cleanURL%",rightOperand:"book.qantas.com",fallbackValue:"%DL | Web | subCategory1 (q.com)%",conditionalValue:"%digitalData.bookingFlow.page.category.subCategory1%"}},"DL | Journey | journeyFrom":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.journeyFrom%"}},"XDM |  Flight Widget Tab":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%XDM | FlightWidgetTab%",type:"other",linkClicks:{value:1}}},_qantas:{Event:{eventType:"interaction",eventLabel:"%XDM | FlightWidgetTab%",eventAction:"CTA Click",eventCategory:"Homepage"}},_experience:{analytics:{event1to100:{event10:{value:1},event50:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"Homepage",eVar18:"%XDM | FlightWidgetTab%",eVar19:"interaction"}}}}},sandbox:{name:"prod"}}},"dataLayer.ffLoginSuccess.FFnumber":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return dataLayer.getEvents("ffLoginSuccess")[dataLayer.getEvents("ffLoginSuccess").length-1].attributes.frequentFlyerNumber}}},"digitalData.bookingFlow.page.category.subCategory1":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.subCategory1"}},digitalData_credits_to_next_tier:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.user.creditsToNextTier)return digitalData.user.creditsToNextTier}}},"dataLayer.bookingFlow.CONF.baseFare":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=digitalData.transaction.line_Items[0].product.flights[0].adults,t=digitalData.transaction.line_Items[0].product.flights[0].children,a=digitalData.transaction.line_Items[0].product.flights[0].infants,n=$("air-transportation-tax span.tax-details-label+span"),r=$("air-transportation-tax h4"),i=0;return n.each((function(n){"Adult"==r.eq(n).html()&&(i+=parseFloat($(this).html().substr(1).replace(",",""))*e),"Child"==r.eq(n).html()&&(i+=parseFloat($(this).html().substr(1).replace(",",""))*t),"Infant"==r.eq(n).html()&&(i+=parseFloat($(this).html().substr(1).replace(",",""))*a)})),i}}},uuid:{defaultValue:"",cleanText:!0,storageDuration:"visitor",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"aam_uuid"}},"DL | Journey | journeyName":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.journeyName%"}},"dataLayer.ffLoginSuccess.FFtier":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return dataLayer.getEvents("ffLoginSuccess")[dataLayer.getEvents("ffLoginSuccess").length-1].attributes.frequentFlyerTier}}},"XDM | Merge | FlightWidgetTab + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM |  Flight Widget Tab%"]}},"digitalData.event.attributes.operatingSystem":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("addToWallet"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.operatingSystem}}},digitalData_fflyer_myRewards:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){try{for(var t=(e=digitalData.event[digitalData.event.length-1]).attributes.rewards||e.attributes.basket||e.attributes.transaction,a=[].concat(t),n="",r=0;r<a.length;r++){var i=a[r].type,o=a[r].provider,s=a[r].deal,l=a[r].amount;0==r&&(n+="My Rewards"),n+=";"+i+"|"+o+"|"+s+";1;"+l,a.length>1&&r!==a.length-1&&(n+=",")}return n}catch(e){}}}},"DL | User | qbrTier":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.user.qbrTier%"}},"DL | Transaction | flightsPassengerComposition":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=e.detail.analyticsData.transaction.flightsPassengerComposition.adults+"|"+e.detail.analyticsData.transaction.flightsPassengerComposition.youths+"|"+e.detail.analyticsData.transaction.flightsPassengerComposition.children+"|"+e.detail.analyticsData.transaction.flightsPassengerComposition.infants;return"|||"==t?null:t}}},"digitalData.bookingFlow.ffLoginSuccess.FFtier":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return dataLayer.getEvents("ffLoginSuccess")[dataLayer.getEvents("ffLoginSuccess").length-1].attributes.frequentFlyerTier||null}}},"digitalData.Pagename":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageName"}},"digitalData.bookingFlow.ALPI.seatSelection":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e=digitalData.event[digitalData.event.length-1].line_items,t="",a=0;a<e.length;a++){var n=e[a].product.seats[0];a>0&&(t+=","),t+=";Seats:New:"+n.seatType+"|"+n.departureAirportCode+"-"+n.arrivalAirportCode+"|"+n.seatPrice+";1;;;"}return t}catch(e){return""}}}},"DL | Transaction | flightsCabinClasses":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsCabinClasses%"}},digitalData_flights_transaction:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("dataLayer.bookingFlow.transaction.productTypes"),t=digitalData.transaction.line_Items,a={},n=0;if(-1!=e.indexOf("cars")){for(var r,i=t.length-1;i>=0;i--)-1!=Object.keys(t[i].product).indexOf("cars")&&(r=t[i].cash);n=parseFloat(n)+parseFloat(r)}if(-1!=e.indexOf("carbon")){var o;for(i=t.length-1;i>=0;i--)-1!=Object.keys(t[i].product).indexOf("carbon")&&(o=t[i].cash);null==o&&(o=0),n=parseFloat(n)+parseFloat(o)}if(-1!=e.indexOf("travelInsurance")){var s;for(i=t.length-1;i>=0;i--)-1!=Object.keys(t[i].product).indexOf("travelInsurance")&&(s=t[i].cash);n=parseFloat(n)+parseFloat(s)}if(-1!=e.indexOf("baggage")){var l=e.substr(e.indexOf("baggage")+7,1),c=digitalData.transaction.line_Items[l].product.baggage.length;digitalData.transaction.line_Items[l].product.baggage,c>0&&(n=parseFloat(n)+parseFloat(digitalData.transaction.line_Items[l].subTotal))}if(-1!=e.indexOf("seats")){var u=e.substr(e.indexOf("seats")+5,1),d=digitalData.transaction.line_Items[u].product.seats.length,g=digitalData.transaction.line_Items[u].product.seats,p={},m=0;if(d>0){for(i=0;i<d;i++)if(0==Object.keys(p).length)(f={}).key=g[i].seatType+"|"+g[i].departureAirportCode+"-"+g[i].arrivalAirportCode,f.cost=void 0!==g[i].cash&&""!==g[i].cash?g[i].cash:0,p[m]=f,m++;else{var f,v=0,h=!1;for(var b in p)(y=p[b]).key===g[i].seatType+"|"+g[i].departureAirportCode+"-"+g[i].arrivalAirportCode&&(y.cost=y.cost+(void 0!==g[i].cash&&""!==g[i].cash?g[i].cash:0),p[v]=y,h=!0),v++;h||((f={}).key=g[i].seatType+"|"+g[i].departureAirportCode+"-"+g[i].arrivalAirportCode,f.cost=void 0!==g[i].cash&&""!==g[i].cash?g[i].cash:0,p[m]=f,m++)}for(var b in p){var y=p[b];n=parseFloat(n)+parseFloat(y.cost)}}}if(-1!=e.indexOf("flights")){var D=0,_=0,C=0;return _=void 0!==digitalData.transaction.flightTax?parseFloat(digitalData.transaction.flightTax):0,(D=(D=parseFloat(digitalData.transaction.cash)-parseFloat(n)).toFixed(2))<0&&(D=0),C=(D-(_=_.toFixed(2))).toFixed(2),parseFloat(C)<=parseFloat(0)&&(C=0),a.baseCost=C,a.flightsOnlyCash=D,a}}}},Q_ecid:{defaultValue:"",cleanText:!0,modulePath:"adobe-mcid/src/lib/dataElements/ecid.js",settings:{}},"Data Layer | Number of Cards":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.numCards%"}},digitalData_listing_ecoFares:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";try{void 0!==digitalData.listing.line_Items[0].product.flights[0]&&("Return Trip"==digitalData.listing.line_Items[0].product.flights[0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0].lowestRestricEco?e=digitalData.listing.line_Items[0].product.flights[0].lowestRestricEco+"-"+digitalData.listing.line_Items[0].product.flights[0].highestRestricEco+"|"+digitalData.listing.line_Items[0].product.flights[1].lowestRestricEco+"-"+digitalData.listing.line_Items[0].product.flights[1].highestRestricEco:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"Return Trip"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricEco?e=digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricEco+"-"+digitalData.listing.line_Items[0].product.flights[0][0].highestRestricEco+"|"+digitalData.listing.line_Items[0].product.flights[0][1].lowestRestricEco+"-"+digitalData.listing.line_Items[0].product.flights[0][1].highestRestricEco:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"Multicity"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricEco?e=digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricEco+"-"+digitalData.listing.line_Items[0].product.flights[0][0].highestRestricEco:"One Way"==digitalData.listing.line_Items[0].product.flights[0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0].lowestRestricEco?e=digitalData.listing.line_Items[0].product.flights[0].lowestRestricEco+"-"+digitalData.listing.line_Items[0].product.flights[0].highestRestricEco:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"One Way"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricEco&&(e=digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricEco+"-"+digitalData.listing.line_Items[0].product.flights[0][0].highestRestricEco))}catch(t){e=""}return e}}},"XDM | Merge | GlobalNavDropdownClick + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | GlobalNavDropdownClick%"]}},"dataLayer.bookingFlow.CONF.timeToBook":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==_satellite.cookie.get("bookingTime")){var e=1e3,t=new Date(_satellite.cookie.get("bookingTime")),a=new Date,n=Math.round(Math.abs((t.getTime()-a.getTime())/e));return parseInt(n/60)+":"+n%60}}}},"DL | Journey | flightsTravelInsuranceAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.flightsTravelInsuranceAvailable%"}},digitalData_page_category_subCategory3:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalData&&digitalData.page&&digitalData.page.category&&digitalData.page.category.subCategory2?_satellite.getVar("digitalData_page_category_subCategory2")+":"+digitalData.page.category.subCategory2:null}}},"XDM | Error":{cleanText:!0,modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_experience:{analytics:{event1to100:{event19:{value:1}}}}},sandbox:{name:"prod"}}},mid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"mid",caseInsensitive:!0}},"DL | Transaction | bookingDurationDays":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.bookingDurationDays%"}},"XDM | SeatMap - SeatConfirmationButton":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_qantas:{Event:{eventType:"interaction",eventLabel:"Flight Level Seat Confirmation",eventAction:"CTA Click",eventCategory:"New Flight Booking - Seat Map"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"New Flight Booking - Seat Map",eVar18:"Flight Level Seat Confirmation",eVar19:"interaction",eVar33:"New Flight Booking - Seat Map"}}}}},sandbox:{name:"prod"}}},"digitalData.bookingFlow.basket.fareFamily":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.basket)if(void 0!==digitalData.basket.line_Items[0].product.flights[0].travelTripType&&digitalData.basket.line_Items[0].product.flights[0].travelTripType.toUpperCase()!=="Multicity".toUpperCase()){if(void 0!==digitalData.basket.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].fareFamily+","+digitalData.basket.line_Items[1].product.flights[0].fareFamily;if("One Way"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].fareFamily}}else if(window.digitalData&&digitalData.basket&&digitalData.basket.line_Items){var e="";return digitalData.basket.line_Items.forEach((function(t,a){t.product&&t.product.flights&&(a>0&&(e+=","),t.product.flights.forEach((function(t,a){void 0!==t.fareFamily&&0===a&&(e+=t.fareFamily)})))})),e}}}},cruise_formData:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"destination:"+document.getElementById("cruise-destination-input").value+"|month:"+document.getElementById("cruise-month-input").value+"|year:"+document.getElementById("cruise-year-input").value+"|cruise-line:"+document.getElementById("cruise-line-input").value}}},"JS | TransactionCashPaid&Currency":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return e.detail.analyticsData.transaction.transactionCashPaid+e.detail.analyticsData.transaction.currency}}},"digitalData.bookingFlow..page.pageInfo.geoRegion":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.geoRegion"}},"digitalData.bookingFlow.CONF.passengers":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.transaction.line_Items[0].product.flights[0].adults+"|"+digitalData.transaction.line_Items[0].product.flights[0].children+"|"+digitalData.transaction.line_Items[0].product.flights[0].infants}}},QF_Tier:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=digitalData.user.frequentFlyerTier||localStorage.getItem("fireLoginData")||"";if(e){e=e.trim();var t="",a="";if(4==e.length||5==e.length){switch(e.charAt(0)+e.charAt(1)){case"FF":break;case"CL":t="Chairmans Lounge ";break;case"QC":t="Qantas Club ";break;default:return t=null,e}switch(e.charAt(2)+e.charAt(3)){case"BR":a="Bronze";break;case"SL":a="Silver";break;case"GD":a="Gold";break;case"PL":a="Platinum";break;case"PO":a="Platinum One";break;case"LS":a="Lifetime Silver";break;case"LG":a="Lifetime Gold";break;case"LP":a="Lifetime Platinum";break;default:return a=null,e}return e=t+a}switch(e){case"QanClubBronze":return e="Qantas Club Bronze";case"QanClubSilver":return e="Qantas Club Silver";case"ChairLoungePartner":return e="Chairmans Lounge Partner"}return e}return e}catch(e){return""}}}},"digitalData.bookingFlow.FDRF.PPPInitialPrice":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("pointsPlusPayInteraction"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes[0].initialPrice}}},"DL | Web | subCategory2 with Condition":{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | cleanURL%",rightOperand:"book.qantas.com",fallbackValue:"%DL | Web | subCategory2 (q.com)%",conditionalValue:"%digitalData.bookingFlow.page.category.subCategory2%"}},"Data Layer | Error Location Step":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.errorLocationStep%"}},linkExternalFilters:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"www.border.gov.au,www.claritymv.com,www.covidtraveltest.com.au,www.dfat.gov.au,www.iatatravelcentre.com,www.vanmedlabs.com,apply.joinsherpa.com,apps.apple.com,booking.spicehealth.com,canberra.thaiembassy.org,carefiji.digitalfiji.gov.fj,cliniq.health,consular.mfa.go.th,consumer.healius.com.au,coronavirus.nt.gov.au,coronavirus.tas.gov.au,covid19.govt.nz,covid19.homeaffairs.gov.au,eservices.ica.gov.sg,findus.servicesaustralia.gov.au,forms.nt.gov.au,go.gov.sg,gov.wales,lab-locator.iata.org,my.gov.au,nextbio.co.za,play.google.com,safetravel.ica.gov.sg,safeworklaboratories.com.au,tp.consular.go.th,travel.gc.ca,visalink.com.au,www.4cyte.com.au,www.aarogyasetu.gov.in,www.airports.co.za,www.australia.gov.au,www.caas.gov.sg,www.canada.ca,www.cdc.gov,www.clearme.ca,www.collinsongroup.com,www.coronavirus.tas.gov.au,www.coronavirus.vic.gov.au,www.covid19.act.gov.au,www.covid19.qld.gov.au,www.covid-19.sa.gov.au,www.dhhs.vic.gov.au,www.expresstest.co.uk,www.fiji.travel,www.g2gpass.com.au,www.gov.scot,www.gov.uk,www.gov.za,www.health.gov.au,www.health.gov.fj,www.health.gov.ws,www.histopath.com.au,www.ica.gov.sg,www.immigration.govt.nz,www.japan.travel,www.lhib.nsw.gov.au,www.mcttt.gov.fj,www.miq.govt.nz,www.mofa.go.jp,www.mohfw.gov.in,www.newdelhiairport.in,www.nidirect.gov.uk,www.norfolkisland.com.au,www.nsw.gov.au,www.parkwayshenton.com,www.passports.gov.au,www.qantasnewsroom.com.au,www.qld.gov.au,www.rakoscience.com,www.sameday-testing.com,www.samoagovt.ws,www.service.nsw.gov.au,www.service.vic.gov.au,www.servicesaustralia.gov.au,www.smartraveller.gov.au,www.sonictraveltesting.com.au,www.tga.gov.au,www.wa.gov.au,www.who.int,www.woolworths.com.au,www.bp.com,start.zip.co,www.anz.com,www.kogan.com,www.booktopia.com.au,www.digidirect.com.au,www.redenergy.com.au,binge.com.au,kayosports.com.au,www.tripadeal.com.au,www.journeybeyondrail.com.au,www.bridgeclimb.com,sydneyharbourboattours.com,letsgosurfing.com.au,www.sydneycricketground.com.au,www.allianzstadium.com.au,dreamtimesouthernx.com.au,page.skydive.com.au,albathermalsprings.com.au,www.globalballooning.com.au,www.wavelength.com.au,qfom.com.au,www.australiazoo.com.au,page.dreamtimedive.com,page.reefmagic.com.au,www.crocosauruscove.com,www.emurun.com.au,www.outbackballooning.com.au,puresa.com.au,rottnestcruises.com,www.penguinisland.com.au,bridestowelavender.com.au,www.paravion.com.au,page.wildbushluxury.com,www.platypusshoes.com.au,www.skechers.com.au, www.hypedc.com,www.stylerunner.com, au.ugg.com,www.merrellaustralia.com.au,www.vans.com.au,www.drmartens.com.au, www.catworkwear.com.au, www.timberland.com.au, www.subtypestore.com,www.thetrybe.com.au,www.hoka.com, www.saucony.com.au,www.theathletesfoot.com.au"}}},"XDM | Merge | Error + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | Error%"]}},localStore_altcams:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return localStorage.getItem("target_alt_cam")}catch(e){return!1}}}},"digitalData.bookingFlow.page.category.subCategory2":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.subCategory2"}},"XDM | GlobalNavNonDropdownClick":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%XDM | GlobalNavNonDropdownElement%",type:"other",linkClicks:{value:1}}},_qantas:{Event:{eventType:"interaction",eventLabel:"%XDM | GlobalNavNonDropdownElement%",eventAction:"CTA Click",eventCategory:"Homepage"}},_experience:{analytics:{event1to100:{event10:{value:1},event21:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"Homepage",eVar18:"%XDM | GlobalNavNonDropdownElement%",eVar19:"interaction"}}}}},sandbox:{name:"prod"}}},"Data Layer | Airline Name":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.airlineName%"}},"DL | Web | subCategory3 with Condition":{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | cleanURL%",rightOperand:"book.qantas.com",fallbackValue:"%DL | Web | subCategory3 (q.com)%",conditionalValue:"%digitalData.bookingFlow.page.category.subCategory3%"}},"XDM | SeatMap - PreferredSeating":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_qantas:{Event:{eventType:"interaction",eventLabel:"Preferred Seating",eventAction:"CTA Click",eventCategory:"New Flight Booking - Seat Map"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"New Flight Booking - Seat Map",eVar18:"Preferred Seating",eVar19:"interaction",eVar33:"New Flight Booking - Seat Map"}}}}},sandbox:{name:"prod"}}},"Data Layer | QFFtier":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.user.qffTier%"}},"XDM | Merge | AddSeat + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | AddSeatSelection%"]}},"DL | Journey | urgencyToBook":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.urgencyToBook%"}},sg_new_urls:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{"www.qantas.com/sg/en/book-a-trip/flights.html":"flights","www.qantas.com/sg/en/book-a-trip/flights/multi-city.html":"multi-city","www.qantas.com/sg/en/promotions/autumns-best.html":"autumns-best","www.qantas.com/sg/en/destinations/where-to-go.html":"where-to-go","www.qantas.com/sg/en/flight-deals.html/sin/au/economy/all/lowest":"flight-deals","www.qantas.com/sg/en/destinations/australia/nt/uluru-kata-tjuta-national-park-ayers-rock.html":"uluru-kata-tjuta","www.qantas.com/sg/en/destinations/australia/vic/melbourne.html":"melbourne","www.qantas.com/sg/en/destinations/australia/nsw/sydney.html":"sydney","www.qantas.com/sg/en/destinations/australia/qld/cairns-and-port-douglas.html":"cairns-and-port-douglas","www.qantas.com/sg/en/destinations/australia/qld/brisbane.html":"brisbane","www.qantas.com/sg/en/destinations/australia/qld/rockhampton-and-great-keppel-island.html":"rockhampton-and-great-keppel-island","www.qantas.com/sg/en/destinations/australia/qld/sunshine-coast.html":"sunshine-coast","www.qantas.com/sg/en/destinations/australia/qld/hamilton-and-hayman-island.html":"hamilton-and-hayman-island","www.qantas.com/sg/en/destinations/australia/nsw/tamworth.html":"tamworth","www.qantas.com/sg/en/destinations/australia/nt/darwin.html":"darwin","www.qantas.com/sg/en/destinations/australia/nt/alice-springs-and-red-centre.html":"alice-springs-and-red-centre","www.qantas.com/sg/en/destinations/australia/wa/perth.html":"perth","www.qantas.com/sg/en/destinations/australia/wa/exmouth-and-ningaloo-reef.html":"exmouth-and-ningaloo-reef","www.qantas.com/sg/en/destinations/australia/qld/gold-coast.html":"gold-coast","www.qantas.com/sg/en/destinations/australia/vic.html":"vic","www.qantas.com/sg/en/destinations/australia/tas.html":"tas","www.qantas.com/sg/en/destinations/australia/tas/hobart.html":"hobart","www.qantas.com/sg/en/destinations/australia/nsw/coffs-harbour.html":"coffs-harbour","www.qantas.com/sg/en/destinations/australia/nsw/port-macquarie.html":"port-macquarie","www.qantas.com/sg/en/destinations/australia/act/canberra.html":"canberra","www.qantas.com/sg/en/destinations/australia/sa/adelaide.html":"adelaide","www.qantas.com/sg/en/destinations/australia/qld/mackay.html":"mackay","www.qantas.com/sg/en/destinations/australia/wa/broome.html":"broome","www.qantas.com/sg/en/destinations/australia/qld/hamilton-and-hayman-island.html":"hamilton-and-hayman-island"}}}},"XDM | Custom Clicks":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{type:"other",linkClicks:{value:1}}},_qantas:{Journey:{tripType:"%DL | Journey | tripType (Loyalty)%",categoryNum:"%DL | Journey | CategoryNum%",cardPosition:"%DL | Journey | cardPosition%",flightsCityPair:"%JS | JourneyFromAndTo%",pointsTransferred:"%Data Layer | Journey pointsTransfer%",numberOfCardsSaved:"%Data Layer | Number of Cards%"}},_experience:{analytics:{event1to100:{event10:{value:1},event16:{value:"%Data Layer | Journey pointsTransfer%"},event17:{value:"%Data Layer | Number of Cards%"}},customDimensions:{eVars:{eVar87:"%DL | Web | tripType with Condition%",eVar108:"%Data Layer | Airline Name%"},lists:{list1:{list:"%DL | Journey | MACPointsMembership%"}},props:{prop1:"%DL | Journey | CategoryNum%",prop2:"%DL | Journey | cardPosition%",prop3:"%Data Layer | Card Impression%",prop4:"%Data Layer | Card Selection%"}}}}},sandbox:{name:"prod"}}},digitalData_transaction_fareFamily:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.transaction&&void 0!==digitalData.transaction.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return digitalData.transaction.line_Items[0].product.flights[0].fareFamily+","+digitalData.transaction.line_Items[1].product.flights[0].fareFamily;if("One Way"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return digitalData.transaction.line_Items[0].product.flights[0].fareFamily}}}},"XDM | SeatMap - UpButtons":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_qantas:{Event:{eventType:"interaction",eventLabel:"Up Buttons",eventAction:"CTA Click",eventCategory:"New Flight Booking - Seat Map"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"New Flight Booking - Seat Map",eVar18:"Up Buttons",eVar19:"interaction",eVar33:"New Flight Booking - Seat Map"}}}}},sandbox:{name:"prod"}}},"DL | Transaction | flightsNumberOfPassengers":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsNumberOfPassengers%"}},"Navigation URL":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof digitalData&&void 0!==digitalData.event&&"object"==typeof digitalData&&void 0!==digitalData.event){var e=digitalData.event[digitalData.event.length-1];if("navigation"==e.eventInfo.eventAction&&"string"==typeof e.eventInfo.eventValue)return e.eventInfo.eventValue}}}},"DL | Transaction | abnEntered":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.abnEntered%"}},"Data Layer | Transaction ID":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.transactionId%"}},"digitalData.bookingflow.ffLoginFail.errorMessage":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return e?digitalData.event.filter(t(e)):digitalData.event}function t(e){return function(t){return t.eventInfo.eventName===e}}return"FFError|Latelogin error|"+e("ffLoginFail")[e("ffLoginFail").length-1].attributes.URL}}},"DL | Journey | emailSubscriptionLocation":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.emailSubscriptionLocation%"}},"DL | Journey | journeyTo":{modulePath:"core/src/lib/dataElements/constant.js",settings:{
value:"%event.detail.analyticsData.journey.journeyTo%"}},digitalData_es_viewIn:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=$QantasTag.getCustomEvents("viewInPoints");if(void 0!==e&&e.length>0)return e[e.length-1].viewIn}}},activities_form_data:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="Activities";return void 0!==document.getElementById("activities-form__location")&&(e=e+"|location:"+document.getElementById("activities-form__location").value),void 0!==document.getElementById("activities-form__from-date")&&(e=e+"|dateFrom:"+document.getElementById("activities-form__from-date").value),void 0!==document.getElementById("activities-form__to-date")&&(e=e+"|dateTo:"+document.getElementById("activities-form__to-date").value),e}}},"Data Layer | Product Category":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.product[i].productCategory%"}},"DL | Journey | tripType (Loyalty)":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.tripType%"}},"XDM | TimeToBook (minute)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==_satellite.cookie.get("TimeToBook")&&"Order Confirmation"==analyticsData.journey.journeyStep){var e=6e4,t=new Date(_satellite.cookie.get("TimeToBook")),a=new Date;return Math.ceil(Math.abs((t.getTime()-a.getTime())/e))}}}},OneTrustFlag:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.cookie.get("OptanonConsent")||"",t="";return-1!==e.indexOf("C0001:1")&&(t+="1,"),-1!==e.indexOf("C0002:1")&&(t+="2,"),-1!==e.indexOf("C0003:1")&&(t+="3,"),-1!==e.indexOf("C0004:1")&&(t+="4,"),""!=t&&(t=","+t),"undefined"!=typeof OnetrustActiveGroups&&(t="",-1!==(e=OnetrustActiveGroups).indexOf("C0001")&&(t+="1,"),-1!==e.indexOf("C0002")&&(t+="2,"),-1!==e.indexOf("C0003")&&(t+="3,"),-1!==e.indexOf("C0004")&&(t+="4,"),""!=t&&(t=","+t)),t}}},"shoppingCart-Notifications":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].attributes.notifcation}}},"payment-afterpromo":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.transaction.cash}}},city_pair_flight_deals:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.location.pathname.indexOf("/flight-deals/")>0){var e,t,a=window.location.pathname.split("/");for(e=0;e<a.length;e++)-1!=a[e].indexOf(".html")&&(t=e);return a[t+1]+"-"+a[t+2]}}}},"DL | Transaction | CancellationType":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.cancellationType%"}},"digitalData.bookingFlow.CONF.bookingLeadTime":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.transaction.line_Items[0].product.flights){var e=864e5,t=digitalData.transaction.line_Items[0].product.flights[0].departureDate,a=null;a=t.split(" ").length>1&&-1==t.indexOf("T")&&-1==t.indexOf("Z")?new Date(t.replace(" ","T")+":00.000Z"):new Date(t+"T00:00:00.000Z");var n=new Date,r=Math.round(Math.abs((a.getTime()-n.getTime())/e));return r<=0?"0":r}}}},"dataLayer.bookingFlow.siteCode":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return $QantasTag.getValueFromKey("SITE",document.URL)}}},digitalData_listing_item_flights_noOfInfants:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items){var e="0";return digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&(e=t.product.flights[0].infants)})),e}}}},"DL | Event | eventCategory":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.eventCategory%"}},"XDM | SeatMap - ExtraLegroom":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_qantas:{Event:{eventType:"interaction",eventLabel:"Extra Legroom Seat",eventAction:"CTA Click",eventCategory:"New Flight Booking - Seat Map"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"New Flight Booking - Seat Map",eVar18:"Extra Legroom Seat",eVar19:"interaction",eVar33:"New Flight Booking - Seat Map"}}}}},sandbox:{name:"prod"}}},"DL | Transaction | flightsCityPairs":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsCityPairs%"}},"DL | Journey | flightsAdditionalBaggageAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.flightsAdditionalBaggageAvailable%"}},pageName:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return s.getPageName()}}},"DL | Transaction | paymentType":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.paymentType%"}},"DL | Transaction | pppFlightPoints":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.pppFlightPoints%"}},"Query param:ffid":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"ffid",caseInsensitive:!0}},"Data Layer | Journey Name":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.journeyName%"}},"Data Layer | Transaction | currencyAmountPaid":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.currencyAmountPaid%"}},digitalData_airbnb_ffNumber:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"QF_VALUE"}},digitalData_basket_item_flights_travelTripType:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.basket.line_Items[0].product.flights[0].travelTripType}}},"URL | altcam":{cleanText:!0,modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"alt_cam",caseInsensitive:!0}},siteSearchString:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"w",caseInsensitive:!0}},"digitalData.transaction.baseCurrency":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.transaction&&void 0!==digitalData.transaction.line_Items[0].product.flights[0])return digitalData.transaction.baseCurrency}}},"digitalData.event.attributes.voucherValue":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("creditVoucher"==digitalData.event[digitalData.event.length-1].eventInfo.module)return digitalData.event[digitalData.event.length-1].attributes.voucherValue}}},"DL | Transaction | flightsDomesticSectors":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsDomesticSectors%"}},digitalData_myb_listing_bags:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.listing&&digitalData.listing.line_Items[0].product.baggage&&0==digitalData.listing.line_Items[0].product.baggage.length?digitalData.page.pageInfo.pageName:digitalData.page.pageInfo.pageName+" - "+("RoundTrip"!=digitalData.listing.line_Items[0].product.baggage[0].travelTripType?digitalData.listing.line_Items[0].product.baggage[0].travelTripType:"Return Trip")+" - "+digitalData.listing.line_Items[0].product.baggage[0].travelType}}},"digitalData.basket.flightCarrier":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.basket.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].flightCarrier+","+digitalData.basket.line_Items[1].product.flights[0].flightCarrier;if("One Way"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].flightCarrier}}}},"Data Layer | Payment Method":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.paymentMethod%"}},"Data Layer | Cabin Class":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsCabinClasses%"}},"Data Layer | Datadog Session ID":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return DD_RUM.getInternalContext()?DD_RUM.getInternalContext().session_id:""}}},"DL | Web | tripType with Condition":{modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | cleanURL%",rightOperand:"book.qantas.com",fallbackValue:"%DL | Journey | tripType (Loyalty)%",conditionalValue:"%DL | Transaction | flightsTripType%"}},"digitalData.bookingFlow.listing.searchLeadTime":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0&&void 0!==digitalData.listing.line_Items[0].product.flights){var e=864e5,t=null;if(void 0!==digitalData.listing.line_Items[0].product.flights[0].departureDate?t=digitalData.listing.line_Items[0].product.flights[0].departureDate:void 0!==digitalData.listing.line_Items[0].product.flights[0][0].departureDate&&(t=digitalData.listing.line_Items[0].product.flights[0][0].departureDate),null!=t){var a=new Date(t),n=new Date;return Math.round(Math.abs((a.getTime()-n.getTime())/e))}}}}},"DL | Web | primaryCategory":{cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.primaryCategory%"}},"digitalData.bookingReference":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalData&&digitalData.basket&&digitalData.basket.bookingReference?digitalData.basket.bookingReference:window.digitalData&&digitalData.transaction&&digitalData.transaction.bookingReference?digitalData.transaction.bookingReference:window.QStats&&QStats.recordLocator?QStats.recordLocator:window.SiteCatalystUtility&&SiteCatalystUtility.INSTANCE&&SiteCatalystUtility.INSTANCE._defaultSiteCatalystInstance._fields.purchaseID?SiteCatalystUtility.INSTANCE._defaultSiteCatalystInstance._fields.purchaseID:null}}},"JS | pageName":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return"QA:Web:Airways:BookingEngine:"+e.detail.analyticsData.journey.pageName}}},"DL | Web | subCategory1 (q.com)":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.subCategory1%"}},"creditVoucher.digitalData.event.attributes":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=digitalData.event[digitalData.event.length-1].attributes;return"Flights|Voucher redemption|"+e.departureAirportCode+"|"+e.arrivalAirportCode+"|"+e.travelType+"|"+e.travelClass+"|"+e.travelTripType+"|"+e.departureDate+"|n"}catch(e){}}}},HelpSupportPageURL:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.label"}},alt_cam_booking:{defaultValue:"",cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"alt_cam_param",caseInsensitive:!0}},"XDM | OrderConfirmation":{cleanText:!0,modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{commerce:{order:{_qantas:{pppToggle:"%DL | Transaction | pppToggle%",promoCode:"%DL | Transaction | promoCode%",abnEntered:"%DL | Transaction | abnEntered%",siteOfficeId:"%DL | Transaction | siteOfficeId%",pppFlightCash:"%DL | Transaction | pppFlightCash%",bookingEndDate:"%DL | Transaction | bookingEndDate%",carHireDetails:"%DL | Transaction | carHireDetails%",flightsNetwork:"%DL | Transaction | flightsNetwork%",travelArranger:"%DL | Transaction | travelArranger%",ffNumberEntered:"%DL | Transaction | ffNumberEntered%",flightsTripType:"%DL | Transaction | flightsTripType%",pppFlightPoints:"%DL | Transaction | pppFlightPoints%",transactionDate:"%DL | Transaction | transactionDate%",bookingStartDate:"%DL | Transaction | bookingStartDate%",carLoyaltyMember:"%DL | Transaction | carLoyaltyMember%",flightsCityPairs:"%DL | Transaction | flightsCityPairs%",currencyAmountPaid:"%Data Layer | Transaction | currencyAmountPaid%",flightsBookingType:"%DL | Transaction | flightsBookingType%",bookingDurationDays:"%DL | Transaction | bookingDurationDays%",flightsCabinClasses:"%DL | Transaction | flightsCabinClasses%",avisPreferredEntered:"%DL | Transaction | avisPreferredEntered%",frequentFlyerProgram:"%DL | Transaction | frequentFlyerProgram%",transactionPointsUsed:"%DL | Transaction | transactionPointsUsed%",flightsDomesticSectors:"%DL | Transaction | flightsDomesticSectors%",flightsNumberOfSectors:"%DL | Transaction | flightsNumberOfSectors%",flightsQbrDealAvailable:"%DL | Transaction | flightsQbrDealAvailable%",flightsCountryOfDeparture:"%DL | Transaction | flightsCountryOfDeparture%",flightsNumberOfPassengers:"%DL | Transaction | flightsNumberOfPassengers%",flightsPassengerComposition:"%DL | Transaction | flightsPassengerComposition%",flightsExpressCheckoutAvailable:"%DL | Transaction | flightsExpressCheckoutAvailable%"},payments:[{_qantas:{paymentMethod:"%DL | Transaction | paymentMethod%",paymentCardUsed:"%DL | Transaction | paymentCardUsed%"},paymentType:"%DL | Transaction | paymentType%",currencyCode:"%DL | Transaction | Currency w Backup%",paymentAmount:"%DL | Transaction | transactionCashPaid%",transactionID:"%DL | Transaction | transactionId%"}],priceTotal:"%DL | Transaction | transactionCashPaid%",purchaseID:"%DL | Transaction | transactionId%",currencyCode:"%DL | Transaction | Currency w Backup%"},purchases:{id:"%DL | Transaction | transactionId%",value:1}},_experience:{analytics:{event1to100:{event7:{id:"%DL | Transaction | transactionId%",value:"%DL | Transaction | transactionPointsUsed%"},event8:{id:"%DL | Transaction | transactionId%",value:"%DL | Transaction | transactionCashPaid%"},event9:{id:"%DL | Transaction | transactionId%",value:"%DL | Transaction | flightsNumberOfPassengers%"},event18:{value:"%Data Layer | Transaction | currencyAmountPaid%"},event55:{value:"%XDM | TimeToBook (second)%"},event56:{value:"%XDM | TimeToBook (minute)%"},event57:{value:"%XDM | DaysToDeparture%"}},customDimensions:{eVars:{eVar91:"%DL | Transaction | paymentType%",eVar95:"%DL | Transaction | promoCode%",eVar97:"%DL | Transaction | Currency w Backup%",eVar98:"%DL | Transaction | transactionDate%",eVar100:"%DL | Transaction | transactionPointsUsed%",eVar151:"%XDM | DaysToDeparture%",eVar152:"%XDM | TimeToBook (minute)%"}}}},productListItems:"%DL | JS | Products Object%"},sandbox:{name:"prod"}}},"QStats.postURL":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"QStats.postURL"}},"dataLayerFF.ffLoginFail.errorMessage":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"FFError|"+dataLayerFF.getEvents("ffLoginFail")[dataLayerFF.getEvents("ffLoginFail").length-1].attributes.errorMessage+"|"+dataLayerFF.getEvents("ffLoginFail")[dataLayerFF.getEvents("ffLoginFail").length-1].attributes.URL}}},userAction:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof digitalData&&void 0!==digitalData.event&&"object"==typeof digitalData&&void 0!==digitalData.event){var e=digitalData.event[digitalData.event.length-1];if("userAction"==e.action&&"string"==typeof e.name)return e.name}}}},"QStats.officeID":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return window.s?_satellite.getVar("QStats.postURL")?s.Util.getQueryParam("SO_SITE_OFFICE_ID",_satellite.getVar("QStats.postURL")):_satellite.getVar("QStats.M.postURL")?s.Util.getQueryParam("SO_SITE_OFFICE_ID",_satellite.getVar("QStats.M.postURL")):"Undefined":"Undefined"}catch(e){return"Undefined"}}}},"XDM | BEPageView ":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{pageViews:{value:1}}},productListItems:"%DL | JS | Products Object%"},sandbox:{name:"prod"}}},"DL | Transaction | proposedFlightDetails":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[e.detail.analyticsData.transaction.proposedFlightDate,e.detail.analyticsData.transaction.proposedFlightDepartureTime,e.detail.analyticsData.transaction.proposedFlightArrivalTime].map((e=>void 0!==e?e:"")).join("|");return"||"==t?null:t}}},"DL | Transaction | flightsQbrDealAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsQbrDealAvailable%"}},digitalData_page_category_subCategory1:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalData&&digitalData.page&&digitalData.page.category&&digitalData.page.category.primaryCategory?_satellite.getVar("digitalData_page_category_primaryCategory")+":"+digitalData.page.category.primaryCategory:null}}},"DL | Journey | flightsCabinUpsellAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.flightsCabinUpsellAvailable%"}},"DL | Web | hostname":{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},"digitalData.bookingFlow.transaction.flights.travelType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==digitalData.transaction?digitalData.transaction.line_Items[0].product.flights[0].travelType:void 0}}},"URL | Server":{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},transfer_form_data:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="Transfers";return void 0!==document.getElementById("transfer-form__location")&&(e=e+"|location:"+document.getElementById("transfer-form__location").value),void 0!==document.getElementById("transfer-form__date")&&(e=e+"|date:"+document.getElementById("transfer-form__date").value),e}}},"DL | Transaction | transactionCashPaid":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.transactionCashPaid%"}},"digitalData.event.attributes.targetActivity":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("targetActivity"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.targetActivity}}},"Data Layer | Error Message":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.errorMessage%"}},"DL | Journey | nonImpactedFLight":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return"N"==e.detail.analyticsData.journey.flightImpacted?1:0}}},"digitalData.transaction.flightCarrierflightNumber":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.transaction&&void 0!==digitalData.transaction.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return digitalData.transaction.line_Items[0].product.flights[0].flightCarrier+digitalData.transaction.line_Items[0].product.flights[0].flightNumber+","+digitalData.transaction.line_Items[1].product.flights[0].flightCarrier+digitalData.transaction.line_Items[1].product.flights[0].flightNumber;if("One Way"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return digitalData.transaction.line_Items[0].product.flights[0].flightCarrier+digitalData.transaction.line_Items[0].product.flights[0].flightNumber}}}},cookieDomain:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;if(window.location.hostname.indexOf("com.au")>-1){var t=window.location.hostname.split(".");3==t.length?e=window.location.hostname:t.length>3&&(sp=t.length-3,domainArray=[t[sp],t[sp+1],t[sp+2]],e=domainArray.join("."))}else e=/(\.|^)qantas\.com$/.test(window.location.hostname)?"qantas.com":window.location.hostname;return e}}},"Declared ID":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Query param:ffid")||_satellite.getVar("Query param:QF_Value")||_satellite.getVar("Cookie value:QF_VALUE")||null}}},"dataLayer.ffLoginStart.FFnumber":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return dataLayer.getEvents("ffLoginStart")[dataLayer.getEvents("ffLoginStart").length-1].attributes.frequentFlyerNumber}}},"QStats.bookingEntryPoint":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(window.s){if(_satellite.getVar("QStats.postURL"))return s.Util.getQueryParam("BOOKING_ENTRY_POINT",_satellite.getVar("QStats.postURL"));if(_satellite.getVar("QStats.M.postURL"))return s.Util.getQueryParam("BOOKING_ENTRY_POINT",_satellite.getVar("QStats.M.postURL"))}return null}catch(e){return null}}}},digitalData_closed_userGroups:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return digitalData&&digitalData.exposedBaseFacts&&(e+=digitalData.exposedBaseFacts.officeId?digitalData.exposedBaseFacts.officeId+"|":"n|",e+=digitalData.exposedBaseFacts.DWM_XSITECODE?digitalData.exposedBaseFacts.DWM_XSITECODE+"|":"n|",e+=digitalData.exposedBaseFacts.tripType?digitalData.exposedBaseFacts.tripType+"|":"n|",e+=digitalData.exposedBaseFacts.language?digitalData.exposedBaseFacts.language+"|":"n|",e+=digitalData.exposedBaseFacts.skinCode?digitalData.exposedBaseFacts.skinCode+"|":"n|",e+=digitalData.exposedBaseFacts.PFS_ID?digitalData.exposedBaseFacts.PFS_ID:"n"),e}}},domestic_airports_list:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"ADL,ABX,ASP,ARM,AYQ,BNK,BCI,BKQ,BNE,BME,BDB,CNS,CBR,CTL,CNJ,CFS,DRW,DPO,DBO,EMD,LEA,HVB,GET,GLT,OOL,GOV,HTI,HIS,HBA,HID,KGI,KGC,KTA,KNX,LST,LRE,LDH,MKY,MEL,AVV,MQL,MOV,MRZ,ISA,NTL,ZNE,PBO,PER,PHE,PLO,PQQ,PPP,ROK,RMA,MCY,SYD,TMW,WTB,TSV,WGA,WEI,WYA"}}},"DL | Transaction | flightsExpressCheckoutSelected":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsExpressCheckoutSelected%"}},"Data Layer | Journey Revenue":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.revenue%"}},"digitalData.bookingFlow.CONF.bookingReference":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=new Date;return e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2)+"|"+digitalData.transaction.bookingReference.toUpperCase()}}},"DL | Transaction | travelArranger":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.travelArranger%"}},"DL | Web | primaryCategory w Backup":{cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"contains",caseInsensitive:!0},leftOperand:"%DL | Web | cleanURL%",rightOperand:"book.qantas.com",fallbackValue:"%DL | Web | primaryCategory%",conditionalValue:"%DL | Booking Engine%"}},takeTimeoutMetrics:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0}}},"XDM | Merge | OrderConfirmation + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Merge | GlobalEvent + PageView%","%XDM | OrderConfirmation%"]}},digitalData_page_pageInfo_geoRegion:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.geoRegion"}},digitalData_fflyer_joinStart:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){try{var t=(e=digitalData.event[digitalData.event.length-1]).attributes.basket||e.attributes.listing||e.attributes.transaction,a=t.line_items[0].product.frequentFlyer[0];return";"+a.membershipType+"|"+a.type+"|"+(a.deal||"na")+";1;"+t.subtotal+";;"}catch(e){return console.error(e),""}}}},"QStats.tripType":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(window.s){if(_satellite.getVar("QStats.postURL"))return s.Util.getQueryParam("TRIP_TYPE",_satellite.getVar("QStats.postURL"));if(_satellite.getVar("QStats.M.postURL"))return s.Util.getQueryParam("TRIP_TYPE",_satellite.getVar("QStats.M.postURL"))}return null}catch(e){return null}}}},digitalData_listing_cabinUpSells:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return digitalData.listing.line_Items[0].product.cabinUpsell.upsells.forEach((function(t,a){a>0&&(e+=","),e+=";Cabin Upsell:New:",e+=t.upsellType,e+="#"+t.cabinUpsell+"#",t.segments.forEach((function(t,a){a>0&&(e+="|"),e+=t.departingSegment+"-"+t.arrivingSegment})),e+=";"+(parseInt(t.adults)+parseInt(t.children))+";;;"})),e}}},"DL | Transaction | CancellationAmount":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.cancellationAmount%"}},"PartnerLinking Error":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].attributes.errorCode+"|"+digitalData.event[digitalData.event.length-1].attributes.errorMessage+"|"+digitalData.event[digitalData.event.length-1].attributes.errorType}}},"digitalData.bookingFlow.basket.flightNumber":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.basket)if(void 0!==digitalData.basket.line_Items[0].product.flights[0].travelTripType&&digitalData.basket.line_Items[0].product.flights[0].travelTripType.toUpperCase()!=="Multicity".toUpperCase()){if(void 0!==digitalData.basket.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].flightCarrier+digitalData.basket.line_Items[0].product.flights[0].flightNumber+","+digitalData.basket.line_Items[1].product.flights[0].flightCarrier+digitalData.basket.line_Items[1].product.flights[0].flightNumber;if("One Way"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].flightCarrier+digitalData.basket.line_Items[0].product.flights[0].flightNumber}}else if(window.digitalData&&digitalData.basket&&digitalData.basket.line_Items){var e="";return digitalData.basket.line_Items.forEach((function(t,a){t.product&&t.product.flights&&(a>0&&(e+=","),t.product.flights.forEach((function(t,a){void 0!==t.flightCarrier&&0===a&&(e+=t.flightCarrier+t.flightNumber)})))})),e}}}},"digitalData.transaction.changeType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.transaction.changeType"}},"Data Layer | Journey pointsTransfer":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.pointsTransfer%"}},"digitalData.bookingFlow.basket.flights.bookingType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.basket.line_Items[0].product.flights[0].travelTripType&&digitalData.basket.line_Items[0].product.flights[0].travelTripType.toUpperCase()!=="Multicity".toUpperCase()){if(void 0!==digitalData.basket.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].bookingType+","+digitalData.basket.line_Items[1].product.flights[0].bookingType;if("One Way"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].bookingType}}else if(window.digitalData&&digitalData.basket&&digitalData.basket.line_Items){var e="";return digitalData.basket.line_Items.forEach((function(t,a){t.product&&t.product.flights&&(a>0&&(e+=","),t.product.flights.forEach((function(t,a){void 0!==t.bookingType&&0===a&&(e+=t.bookingType)})))})),e}}}},"digitalData.event.attributes.autoSeatSelection":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].eventInfo.eventName,digitalData.event[digitalData.event.length-1].attributes.autoSelectOption+"|"+digitalData.event[digitalData.event.length-1].attributes.autoSelectActivated}}},"Custom | s.product":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){s.products="";for(var t=0;t<e.detail.analyticsData.product.length;t++)s.products+=e.detail.analyticsData.product[t].productCategory+";"+e.detail.analyticsData.product[t].productName+";"+e.detail.analyticsData.product[t].productQuantity+";"+e.detail.analyticsData.product[t].productPriceCash+";;eVar191="+e.detail.analyticsData.product[t].productName||"|eVar193="+e.detail.analyticsData.product[t].productQuantity||"|eVar192="+e.detail.analyticsData.product[t].productCategory||"|eVar194="+e.detail.analyticsData.product[t].productPriceCash||"",t!=e.detail.analyticsData.product.length-1&&(s.products+=",");return s.products}}},"Data Layer | Flight Booking Type":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsBookingType%"}},"digitalData.event.attributes.flightFiltersApplied":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("applyFilters"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.flightFiltersApplied}}},digitalData_myb_listing_pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){
return digitalData.listing&&digitalData.listing.line_Items[0].product.seats&&0==digitalData.listing.line_Items[0].product.seats.length?digitalData.page.pageInfo.pageName:digitalData.page.pageInfo.pageName+" - "+("RoundTrip"!=digitalData.listing.line_Items[0].product.seats[0].travelTripType?digitalData.listing.line_Items[0].product.seats[0].travelTripType:"Return Trip")+" - "+digitalData.listing.line_Items[0].product.seats[0].travelType}}},latest_error_tabs:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t;if("object"==typeof digitalData){var a=void 0!==(t=digitalData.event[digitalData.event.length-1]).attributes.url?t.attributes.url.split("//")[1]:"undefined",n=document.querySelector(".container__control--active a");-1!=t.eventInfo.eventName.indexOf("Fail")&&(e=n.innerHTML.trim()+"-"+t.eventInfo.eventName+"|"+t.attributes.errorMessage+"|"+a)}return e}}},digitalData_basket_flightCarrier:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.basket.line_Items[0].product.flights[0].travelTripType&&digitalData.basket.line_Items[0].product.flights[0].travelTripType.toUpperCase()!=="Multicity".toUpperCase()){if(void 0!==digitalData.basket.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].flightCarrier+","+digitalData.basket.line_Items[1].product.flights[0].flightCarrier;if("One Way"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].flightCarrier}}else if(window.digitalData&&digitalData.basket&&digitalData.basket.line_Items){var e="";return digitalData.basket.line_Items.forEach((function(t,a){t.product&&t.product.flights&&(a>0&&(e+=","),t.product.flights.forEach((function(t,a){void 0!==t.flightCarrier&&0===a&&(e+=t.flightCarrier)})))})),e}}}},digitalData_listing_item_flights_departureAirport:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items){var e="";return digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&(void 0!==t.product.flights[0].departureAirportCode?e=t.product.flights[0].departureAirportCode:void 0!==t.product.flights[0][0].departureAirportCode&&(e=t.product.flights[0][0].departureAirportCode))})),e}}}},"digitalData.bookingFlow.transaction.flights.bookingType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.transaction&&void 0!==digitalData.transaction.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return digitalData.transaction.line_Items[0].product.flights[0].bookingType+","+digitalData.transaction.line_Items[1].product.flights[0].bookingType;if("One Way"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return digitalData.transaction.line_Items[0].product.flights[0].bookingType}}}},digitalData_transaction_noOfChildren:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.transaction&&digitalData.transaction.line_Items){var e="0";return digitalData.transaction.line_Items.forEach((function(t){t.product&&t.product.flights&&(e=t.product.flights[0].children)})),0==e.length&&(e="0"),e}}}},"XDM | Cancel Flight Confirmation":{cleanText:!0,modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{commerce:{order:{_qantas:{pppToggle:"%DL | Transaction | pppToggle%",promoCode:"%DL | Transaction | promoCode%",abnEntered:"%DL | Transaction | abnEntered%",siteOfficeId:"%DL | Transaction | siteOfficeId%",pppFlightCash:"%DL | Transaction | pppFlightCash%",bookingEndDate:"%DL | Transaction | bookingEndDate%",carHireDetails:"%DL | Transaction | carHireDetails%",flightsNetwork:"%DL | Transaction | flightsNetwork%",travelArranger:"%DL | Transaction | travelArranger%",ffNumberEntered:"%DL | Transaction | ffNumberEntered%",flightsTripType:"%DL | Transaction | flightsTripType%",pppFlightPoints:"%DL | Transaction | pppFlightPoints%",bookingStartDate:"%DL | Transaction | bookingStartDate%",cancellationType:"%DL | Journey | CancellationType%",carLoyaltyMember:"%DL | Transaction | carLoyaltyMember%",flightsCityPairs:"%DL | Transaction | flightsCityPairs%",cancellationAmount:"%DL | Transaction | CancellationAmount%",flightsBookingType:"%DL | Transaction | flightsBookingType%",bookingDurationDays:"%DL | Transaction | bookingDurationDays%",flightsCabinClasses:"%DL | Transaction | flightsCabinClasses%",avisPreferredEntered:"%DL | Transaction | avisPreferredEntered%",frequentFlyerProgram:"%DL | Transaction | frequentFlyerProgram%",transactionPointsUsed:"%DL | Transaction | transactionPointsUsed%",flightsDomesticSectors:"%DL | Transaction | flightsDomesticSectors%",flightsNumberOfSectors:"%DL | Transaction | flightsNumberOfSectors%",flightsQbrDealAvailable:"%DL | Transaction | flightsQbrDealAvailable%",flightsCountryOfDeparture:"%DL | Transaction | flightsCountryOfDeparture%",flightsNumberOfPassengers:"%DL | Transaction | flightsNumberOfPassengers%",flightsPassengerComposition:"%DL | Transaction | flightsPassengerComposition%",flightsExpressCheckoutAvailable:"%DL | Transaction | flightsExpressCheckoutAvailable%"},payments:[{_qantas:{paymentMethod:"%DL | Transaction | paymentMethod%",paymentCardUsed:"%DL | Transaction | paymentCardUsed%"},paymentType:"%DL | Transaction | paymentType%",currencyCode:"%DL | Transaction | Currency w Backup%",paymentAmount:"%DL | Transaction | transactionCashPaid%",transactionID:"%DL | Transaction | transactionId%"}],priceTotal:"%DL | Transaction | transactionCashPaid%",purchaseID:"%DL | Transaction | transactionId%",currencyCode:"%DL | Transaction | Currency w Backup%"}},_experience:{analytics:{event1to100:{event13:{value:"%DL | Transaction | CancellationAmount%"},event14:{value:1},event20:{value:"%DL | Transaction | CancellationAmount%"}},customDimensions:{eVars:{eVar97:"%DL | Transaction | Currency w Backup%",eVar109:"%DL | Journey | CancellationType%"}}}}},sandbox:{name:"prod"}}},digitalData_basket_redEmailSub:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return $QantasTag.getCustomEvents("redEmailSubscription")[0].attributes}}},"XDM | Insurance Warning Message":{forceLowerCase:!0,storageDuration:"pageview",modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_experience:{analytics:{event1to100:{event25:{value:1}}}}},sandbox:{name:"prod"}}},PartnerSignUpNow:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=digitalData.event[digitalData.event.length-1].attributes.OfferName,t=digitalData.event[digitalData.event.length-1].attributes.CTAName;return digitalData.event[digitalData.event.length-1].attributes.PartnerName+"|"+e+"|"+t}}},"Data Layer | Trip Type":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.tripType%"}},"DL | Journey | flightsHotelOfferAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.flightsHotelOfferAvailable%"}},"Data Layer | Promo Code":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.promoCode%"}},"DL | Web | flightsCityPairs with Condition":{cleanText:!0,modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%DL | Journey | journeyFrom%",rightOperand:".+",fallbackValue:"%DL | Transaction | flightsCityPairs%",conditionalValue:"%JS | JourneyFromAndTo%"}},"Data Layer | Product Quantity":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.product[i].productQuantity%"}},"DL | Transaction | paymentCardUsed":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.paymentCardUsed%"}},"digitalData.bookingFlow.CONF.DatesBooked":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t;if(void 0===digitalData.transaction.line_Items[0].product.flights[0].travelTripType||digitalData.transaction.line_Items[0].product.flights[0].travelTripType.toUpperCase()==="Multicity".toUpperCase()){var a="";return digitalData.transaction.line_Items.forEach((function(e,t){e.product&&e.product.flights&&(t>0&&(a+="|"),e.product.flights.length,e.product.flights.forEach((function(e,t){void 0!==e.departureDate&&0===t&&(a+=$QantasTag.getFormattedDate(e.departureDate))})))})),a}if(void 0!==digitalData.transaction&&void 0!==digitalData.transaction.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return e=digitalData.transaction.line_Items[0].product.flights[0].departureDate,t=digitalData.transaction.line_Items[1].product.flights[0].departureDate,$QantasTag.getFormattedDate(e)+"|"+$QantasTag.getFormattedDate(t);if("One Way"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return e=digitalData.transaction.line_Items[0].product.flights[0].departureDate,$QantasTag.getFormattedDate(e)}}}},"DL | User | qffTier":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.user.qffTier%"}},digitalData_points_earned:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return Object.keys(void 0!==digitalData.user&&void 0!==digitalData.user.pointsEarned?digitalData.user.pointsEarned:"").forEach((function(t){e=void 0!==digitalData.user.pointsEarned[t]&&null!==digitalData.user.pointsEarned[t]?e+t+"-"+digitalData.user.pointsEarned[t]+"|":e+t+"-0|"})),e.substring(0,e.length-1)}}},"XDM | Merge | 2ndNavClickWeb + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | 2ndNavClickWeb%"]}},"dataLayer.bookingFlow.basket.productTypes":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){var t="";for(var a in e)e.hasOwnProperty(a)&&(t+="|"+a);return t}for(var t="",a=digitalData.basket.line_Items,n=a.length-1;n>=0;n--)t=t+e(a[n].product)+n;return t}}},"digitalData.bookingFlow.select.listing.flights[0].travelTripType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0&&void 0!==digitalData.listing.line_Items[0].product.flights[0].travelTripType?digitalData.listing.line_Items[0].product.flights[0].travelTripType:window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType?digitalData.listing.line_Items[0].product.flights[0][0].travelTripType:void 0}}},"Data Layer | Page Name":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"%event.detail.analyticsData.journey.pageName%"}},sg_campaign_urls:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"www.qantas.com/sg/en.html,www.qantas.com/sg/en/destinations/nz-and-south-pacific.html,www.qantas.com/sg/en/destinations/nz-and-south-pacific/new-zealand.html,www.qantas.com/sg/en/destinations/nz-and-south-pacific/new-zealand/auckland.html,www.qantas.com/sg/en/destinations/nz-and-south-pacific/new-zealand/wellington.html,www.qantas.com/sg/en/destinations/nz-and-south-pacific/new-zealand/queenstown.html,www.qantas.com/sg/en/destinations/nz-and-south-pacific/new-zealand/christchurch.html,www.qantas.com/sg/en/flight-deals.html/sin/sp/economy/all/lowest,www.qantas.com/sg/en/book-a-trip/hotels.html,www.qantas.com/sg/en/book-a-trip/activities.html,www.qantas.com/sg/en/book-a-trip/transfers.html,www.qantas.com/sg/en/book-a-trip/travel-insurance.html,www.qantas.com/sg/en/book-a-trip/cars.html,www.qantas.com/sg/en/book-a-trip/hotels.html,www.qantas.com/sg/en/manage-booking.html,www.qantas.com/sg/en/travel-info/flight-status.html,www.qantas.com/sg/en/promotions/different-journey-new-zealand.html,www.qantas.com/travel/airlines/timetable/global/en,www.qantas.com/travel/airlines/travel-advice/global/en,www.qantas.com/travel/airlines/flight-search/global/en,www.qantas.com/travel/airlines/disruptions/global/en,www.qantas.com/travel/airlines/airport-lounges/global/en,www.qantas.com/travel/airlines/at-the-airport/global/en,www.qantas.com/travel/airlines/travel-classes/global/en,www.qantas.com/travel/airlines/in-the-air/global/en,www.qantas.com/travel/airlines/family-travel/global/en,www.qantas.com/sg/en/flight-deals.html/sin/all/economy/all/lowest,www.qantas.com/sg/en/book-a-trip/flights/qantas-explorer.html,www.qantas.com/sg/en/destinations/australia.html,www.qantas.com/sg/en/book-a-trip/flights.html,www.qantas.com/sg/en/book-a-trip/flights/multi-city.html,www.qantas.com/sg/en/promotions/autumns-best.html,www.qantas.com/sg/en/destinations/where-to-go.html,www.qantas.com/sg/en/flight-deals.html/sin/au/economy/all/lowest,www.qantas.com/sg/en/destinations/australia/nt/uluru-kata-tjuta-national-park-ayers-rock.html,www.qantas.com/sg/en/destinations/australia/vic/melbourne.html,www.qantas.com/sg/en/destinations/australia/nsw/sydney.html,www.qantas.com/sg/en/destinations/australia/qld/cairns-and-port-douglas.html,www.qantas.com/sg/en/destinations/australia/qld/brisbane.html,www.qantas.com/sg/en/destinations/australia/qld/rockhampton-and-great-keppel-island.html,www.qantas.com/sg/en/destinations/australia/qld/hamilton-and-hayman-island.html,www.qantas.com/sg/en/destinations/australia/wa/broome.html,www.qantas.com/sg/en/destinations/australia/qld/mackay.html,www.qantas.com/sg/en/destinations/australia/qld/gold-coast.html,www.qantas.com/sg/en/destinations/australia/wa/exmouth-and-ningaloo-reef.html,www.qantas.com/sg/en/destinations/australia/sa/adelaide.html,www.qantas.com/sg/en/destinations/australia/act/canberra.html,www.qantas.com/sg/en/destinations/australia/qld/sunshine-coast.html,www.qantas.com/sg/en/destinations/australia/nsw/port-macquarie.html,www.qantas.com/sg/en/destinations/australia/nsw/coffs-harbour.html,www.qantas.com/sg/en/destinations/australia/tas/hobart.html,www.qantas.com/sg/en/destinations/australia/tas.html,www.qantas.com/sg/en/destinations/australia/vic.html,www.qantas.com/sg/en/destinations/australia/nsw/sydney.html,www.qantas.com/sg/en/destinations/australia/qld/brisbane.html,www.qantas.com/sg/en/destinations/australia/vic/melbourne.html,www.qantas.com/sg/en/destinations/australia/qld/gold-coast.html,www.qantas.com/sg/en/destinations/australia/wa/exmouth-and-ningaloo-reef.html,www.qantas.com/sg/en/destinations/australia/wa/perth.html,www.qantas.com/sg/en/destinations/australia/nt/alice-springs-and-red-centre.html,www.qantas.com/sg/en/destinations/australia/nt/darwin.html,www.qantas.com/sg/en/destinations/australia/nsw/tamworth.html,www.qantas.com/sg/en/destinations/australia/qld/cairns-and-port-douglas.html,www.qantas.com/sg/en/destinations/australia/qld/hamilton-and-hayman-island.html,www.qantas.com/sg/en/destinations/australia/qld/sunshine-coast.html"}}},myb_basket_flight_products:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";try{var t="Flights";t+=":Manage:";var a=0,n=void 0!==digitalData.basket?digitalData.basket:null;if(null!==n){var r=void 0!==n.line_Items?n.line_Items:null;if(null!==r&&r.length>0){var i,o="";void 0!==digitalData.basket.line_Items[0].product.flights[0]&&("Return Trip"==digitalData.basket.line_Items[0].product.flights[0].travelTripType?(i=digitalData.basket.line_Items[0].product.flights.length>1?digitalData.basket.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[0].product.flights[digitalData.basket.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.basket.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[0].product.flights[0].arrivalAirportCode,o=digitalData.basket.line_Items.length>1?i+"|"+(digitalData.basket.line_Items[1].product.flights.length>1?digitalData.basket.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[1].product.flights[digitalData.basket.line_Items[1].product.flights.length-1].arrivalAirportCode:digitalData.basket.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[1].product.flights[0].arrivalAirportCode):i):"One Way"==digitalData.basket.line_Items[0].product.flights[0].travelTripType&&(o=i=digitalData.basket.line_Items[0].product.flights.length>1?i=digitalData.basket.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[0].product.flights[digitalData.basket.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.basket.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[0].product.flights[0].arrivalAirportCode));for(var s=_satellite.getVar("digitalData_basket_noOfPassengers").split("|"),l=0;l<s.length-1;l++)a=parseInt(a)+parseInt(s[l]);e+=";",e+=t,-1!==(e=(e+=o)+";"+a+";;;").indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL"))}}return e}catch(t){return e}}}},"Data Layer | Dangerous Goods":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.dangerousGoods%"}},"digitalData.bookingFlow.Select.listing.flightSearch":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.listing.flightSearch"}},"DL | Journey | emailSubscriptionListName":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.emailSubscriptionListName%"}},digitalData_userType:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="Non-Frequent Flyer",t=void 0!==digitalData.event[digitalData.event.length-1]&&digitalData.event[digitalData.event.length-1].attributes;return t&&"Yes"===t.isMember&&(e="Frequent Flyer|Not Logged In"),"undefined"!=typeof digitalData&&void 0!==digitalData.user&&void 0!==digitalData.user.frequentFlyerNumber&&(e="Frequent Flyer|Logged In"),e}}},"digitalData_fflyer_joinStart.methodOfPay":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].attributes.transaction.methodofPay}}},"DL | Journey | cardPosition":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.cardPosition%"}},siteSearchResults:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==document.getElementById("mainContent")&&null!==document.getElementById("mainContent")&&void 0!==document.getElementById("mainContent").getElementsByTagName("H1")[0]&&null!==document.getElementById("mainContent").getElementsByTagName("H1")[0]){var e=document.getElementById("mainContent").getElementsByTagName("H1")[0].innerHTML;if(null!=e)return e.substring(e.indexOf("(")+1,e.indexOf("Results")-1)}}}},"digitalData.event.attributes.voucherCurrency":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("creditVoucher"==digitalData.event[digitalData.event.length-1].eventInfo.module)return digitalData.event[digitalData.event.length-1].attributes.voucherCurrency}}},"DL | Transaction | frequentFlyerProgram":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.frequentFlyerProgram%"}},digitalData_listing_flexibleWithFlights_myb:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.listing.flexibleWithFlights"}},"digitalData.bookingFlow.basket.pagename":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.page.pageInfo.pageName+" - "+digitalData.basket.line_Items[0].product.flights[0].travelTripType+" - "+digitalData.basket.line_Items[0].product.flights[0].travelType}}},"digitalData.bookingFlowpage.pageInfo.language":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof digitalData&&digitalData&&digitalData.page.pageInfo.language?-1!=location.href.indexOf("/zhtw/")||-1!=location.href.indexOf("/zhcn/")?"zh":-1!=digitalData.page.pageInfo.language.indexOf("-")||-1!=digitalData.page.pageInfo.language.indexOf("_")?digitalData.page.pageInfo.language.split("-")[0].toLowerCase():digitalData.page.pageInfo.language.toLowerCase()||"en":-1!=location.href.indexOf("book.qantas.com")?"en":void 0}}},"digitalData.bookingFlow.flight.arrivalRegion":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.transaction.line_Items[0].product.flights[0].arrivalRegion)return digitalData.transaction.line_Items[0].product.flights[0].arrivalRegion}}},"DL | Journey | expressCheckoutAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.expressCheckoutAvailable%"}},"JS | assetType":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"Web"}},"XDM | Merge | GlobalEvent + Custom Clicks":{cleanText:!0,modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | Custom Clicks%"]}},"digitalData.Error.Event.Book.LocationURL":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.event){var e=digitalData.event[digitalData.event.length-2];if(void 0!==e&&void 0!==e.eventInfo)return e.eventInfo.eventName.match(/.*(bookingEngineFail).*/g)?e.eventInfo.errorLocationUrl:"Success"}}}},"p2f-evar43":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=digitalData.event[digitalData.event.length-1];return e.eventInfo.eventName+"|"+e.attributes.departureAirportCode+"-"+e.attributes.arrivalAirportCode+"|"+e.attributes.bookingReference}}},"DL | Event | eventLabel":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.eventLabel%"}},"digitalData.bookingFlow.listing.pagename":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0&&void 0!==digitalData.listing.line_Items[0].product.flights[0].travelTripType?digitalData.page.pageInfo.pageName+" - "+digitalData.listing.line_Items[0].product.flights[0].travelTripType+" - "+digitalData.listing.line_Items[0].product.flights[0].travelType:window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType?digitalData.page.pageInfo.pageName+" - "+digitalData.listing.line_Items[0].product.flights[0][0].travelTripType+" - "+digitalData.listing.line_Items[0].product.flights[0][0].travelType:""!==digitalData.page.pageInfo.pageName?digitalData.page.pageInfo.pageName:document.title}}},flights_search_form_data:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){if(window.dataLayer&&(e=dataLayer.getEvents("flightSearch")[dataLayer.getEvents("flightSearch").length-1])&&void 0!==e&&void 0!==e.attributes)return e.attributes.depAirports+"|"+e.attributes.destAirports+"|"+e.attributes.travelDates+"|"+e.attributes.tripType+"|"+e.attributes.ffIsInitialised+"|"+e.attributes.language+"|"+e.attributes.locale+"|"+e.attributes.accelerateFlight+"|"+e.attributes.accelerateFlightInt}}},"DL | Transaction | transactionId":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.transactionId%"}},"DL | Web | Entry cleanURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("DL | Web | hostname")+_satellite.getVar("DL | Web | pathname")}}},"Query param:PAGE_FROM":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"PAGE_FROM",caseInsensitive:!0}},"DL | Event | errorLocationDetails":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[e.detail.analyticsData.event.errorLocationStep,e.detail.analyticsData.event.errorLocationUrl].map((e=>void 0!==e?e:"")).join("|");return"|"==t?null:t}}},"DOM | TransactionCurrency":{cleanText:!0,modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"innerHTML",elementSelector:".grand-total-currency,.currency-code"}},"DL | Transaction | pppFlightCash":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.pppFlightCash%"}},"URL | int_cam":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"int_cam",caseInsensitive:!0}},"XDM | AddSeatSelection":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{type:"other",linkClicks:{value:1}}},_experience:{analytics:{event1to100:{event15:{value:1}}}}},sandbox:{name:"prod"}}},myb_purchase_confirmation_products:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";try{var t="Flights";t+=":Manage:";var a=0,n=0,r=0,i=void 0!==digitalData.transaction?digitalData.transaction:null;if(null!=i){n=i.differencePrice,r=i.differencePoints;for(var o=void 0!==i.line_Items?i.line_Items:null,s=_satellite.getVar("digitalData_transaction_noOfPassengers").split("|"),l=0;l<s.length-1;l++)a=parseInt(a)+parseInt(s[l]);if(null!=o&&o.length>0){var c;e+=";",e+=t;var u="";void 0!==digitalData.transaction.line_Items[0].product.flights[0]&&("Return Trip"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType?(c=digitalData.transaction.line_Items[0].product.flights.length>1?digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[digitalData.transaction.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[0].arrivalAirportCode,u=digitalData.transaction.line_Items.length>1?c+"|"+(digitalData.transaction.line_Items[1].product.flights.length>1?digitalData.transaction.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[1].product.flights[digitalData.transaction.line_Items[1].product.flights.length-1].arrivalAirportCode:digitalData.transaction.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[1].product.flights[0].arrivalAirportCode):c):"One Way"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType&&(u=c=digitalData.transaction.line_Items[0].product.flights.length>1?c=digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[digitalData.transaction.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[0].arrivalAirportCode)),-1!=(e=(e+=u)+";"+a+";"+n+";event106="+r+";event124=0").indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL"))}}return e}catch(t){return e}}}},"XDM | TimeToBook (second)":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==_satellite.cookie.get("TimeToBook")&&"Order Confirmation"==analyticsData.journey.journeyStep){var e=1e3,t=new Date(_satellite.cookie.get("TimeToBook")),a=new Date;return Math.round(Math.abs((t.getTime()-a.getTime())/e))}}}},digitalData_page_pageInfo_language:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof digitalData&&digitalData&&digitalData.page.pageInfo.language?-1!=location.href.indexOf("/zhtw/")||-1!=location.href.indexOf("/zhcn/")?"zh":-1!=digitalData.page.pageInfo.language.indexOf("-")||-1!=digitalData.page.pageInfo.language.indexOf("_")?digitalData.page.pageInfo.language.split("-")[0].toLowerCase():digitalData.page.pageInfo.language.toLowerCase()||"en":-1!=location.href.indexOf("book.qantas.com")?"en":void 0}}},"QStats.M.postURL":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"SiteCatalystUtility.INSTANCE._defaultSiteCatalystInstance._sPostURL"}},isItalianCountry:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){for(var t=e.split("?")[1].split("&"),a={},n=0;n<t.length;n++){var r=t[n].split("=");a[r[0]]=r[1]}return a}try{if("undefined"!=typeof theFDRFForm||"undefined"!=typeof theALPIForm||"undefined"!=typeof thePURFForm||"undefined"!=typeof theMDRFForm){var t=null;if("undefined"!=typeof theFDRFForm?t=theFDRFForm.model:"undefined"!=typeof thePURFForm?t=thePURFForm._model:"undefined"!=typeof theALPIForm?t=theALPIForm.model:"undefined"!=typeof theMDRFForm&&(t=theMDRFForm.model),null!=t){var a=("undefined"!=typeof theMDRFForm?t.flightRecapBean.listItineraryBean.itinerariesAsMap:t.pnrRecapBean.flightRecap.listItineraryBean.itinerariesAsMap)[0].beginLocationCode;return a=a.substring(0,a.length-1),-1!=_satellite.getVar("italian_countries_list").indexOf(a)}}else if("function"==typeof COFDForm){var n=void 0!==theCOFDForm._model.beforeTravelingPromo.hotelTeaserURL?e(theCOFDForm._model.beforeTravelingPromo.hotelTeaserURL):null;if(null!=n){var r=n.depCity.split(",");return-1!=_satellite.getVar("italian_countries_list").indexOf(r[0])}}else if(-1!=window.location.href.indexOf("pl/QFMobile/wds/OverrideServlet")&&"Confirmation"==document.title&&"undefined"!=typeof theMONFForm){if("function"==typeof MONFForm){var i=theMONFForm.model.flightRecap.listItineraryBean.itinerariesAsMap[0].segments[0].beginLocationCode.substring(0,3);return-1!=_satellite.getVar("italian_countries_list").indexOf(i)}}else{if(null!=_satellite.getVar("myb_basket_flight_products")){var o=_satellite.getVar("myb_basket_flight_products"),s=!1;return _satellite.getVar("italian_countries_list").split(",").forEach((function(e){-1!=o.indexOf(e)&&(s=!0)})),s}if(/.*(country#IT).*/i.test(_satellite.cookie.get("usercontext")))return!0}}catch(e){return _satellite.notify("Error in determining italian city search. Return false as default:"+e,1),!!/.*(country#IT).*/i.test(_satellite.cookie.get("usercontext"))}return!1}}},digitalData_login_ffnumber:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){return e?digitalData.event.filter((function(t){return t.eventInfo.eventName===e})):digitalData.event}return"Frequent Flyer|"+e("ffLoginSuccess")[e("ffLoginSuccess").length-1].attributes.frequentFlyerNumber}}},"JS | journeyNameAndStep":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){
return e.detail.analyticsData.journey.journeyName+"|"+e.detail.analyticsData.journey.journeyStep}}},"DL | Transaction | transactionDate":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.transactionDate%"}},flightObjectLocalStorage:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return localStorage.getItem("flight")}catch(e){return!1}}}},"DL | Web | subCategory2 (q.com)":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.subCategory2%"}},myb_flight_products:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";try{var t="Flights";t+=":Manage:";var a=0,n=void 0!==digitalData.listing?digitalData.listing:null;if(null!==n){var r=void 0!==n.line_Items?n.line_Items:null;if(null!=r&&r.length>0){for(var i=_satellite.getVar("digitalData_listing_noOfPassengers").split("|"),o=0;o<i.length-1;o++)a=parseInt(a)+parseInt(i[o]);var s=_satellite.getVar("digitalData_listing_cityPairs_myb");e+=";",e+=t,-1!==(e=(e+=s)+";"+a+";;;").indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL"))}}return e}catch(t){return e}}}},"XDM | Merge | GlobalEvent + BEPageView":{cleanText:!0,modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | BEPageView %"]}},"Data Layer | Card Impression":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.cardImpression%"}},"digitalData.bookingFlow.transaction.pagename":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.page.pageInfo.pageName+" - "+digitalData.transaction.line_Items[0].product.flights[0].travelTripType+" - "+digitalData.transaction.line_Items[0].product.flights[0].travelType}}},"DL | Transaction | carHireDetails":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[e.detail.analyticsData.transaction.carHireAuxiliariesOffered,e.detail.analyticsData.transaction.carHireTripType].map((e=>void 0!==e?e:"")).join("|");return"|"==t?null:t}}},"Data Layer | Payment Type":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.paymentType%"}},"DL | Transaction | flightsExpressCheckoutAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsExpressCheckoutAvailable%"}},"XDM | AddToCart":{cleanText:!0,modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{commerce:{productListAdds:{value:1}},productListItems:"%DL | JS | Products Object%"},sandbox:{name:"prod"}}},cleanPageURL:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.hostname+window.location.pathname.split(/;| |,|#|\?/)[0]}}},OneTrustAdobe_preOptInApprovalsConfig_Launch:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={aam:!0,adcloud:!0,aa:!0,ecid:!0,target:!0,mediaaa:!0};return JSON.stringify(e)}}},"DL | Event | errorCode":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.errorCode%"}},"XDM | 2ndNavClickMobile":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%XDM | 2ndNavElementMobile%",type:"other",linkClicks:{value:1}}},_qantas:{Event:{eventType:"interaction",eventLabel:"%XDM | 2ndNavElementMobile%",eventAction:"CTA Click",eventCategory:"Homepage"}},_experience:{analytics:{event1to100:{event10:{value:1},event21:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"Homepage",eVar18:"%XDM | 2ndNavElementMobile%",eVar19:"interaction"}}}}},sandbox:{name:"prod"}}},"DL | JS | Products Object":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=e.detail.analyticsData.product,a=[];return t.forEach((function(e){var t=0;for(let a in e.hotelGuests)t+=e.hotelGuests[a];var n=[e.carDropOffLocation,e.carPickUpLocation,e.carVendor].map((e=>void 0!==e?e:"")).join("|");"||"==n&&(n=null);var r=[t,e.hotelLocationCity,e.hotelLocationCountry].map((e=>void 0!==e?e:"")).join("|");"||"==r&&(r=null),a.push({SKU:e.productId,name:e.productName,quantity:e.productQuantity,priceTotal:e.productPriceCash,productCategories:[{categoryID:e.productCategory,categoryName:e.productCategory}],_qantas:{productStartDate:e.productStartDate,productEndDate:e.productEndDate,productEndTime:e.productEndTime,productStartTime:e.productStartTime,productCategory:e.productCategory,flightsCityPair:e.flightsCityPair,productRewardType:e.productRewardType,productPriceDenomination:e.productPriceDenomination,productPricePoints:e.productPricePoints,productRoomType:e.productRoomType,productType:e.productType,flightsNumberOfPassengers:e.flightsNumberOfPassengers,productDurationDays:e.productDurationDays,insurancePassengersOver69:e.insurancePassengersOver69,isSeatAutoSelectionOn:e.isSeatAutoSelectionOn,hotelLocationDetails:r,carLocationDetails:n,flightsBookingClass:e.flightsBookingClass,flightsFareType:e.flightsFareType,flightsOperatingAirline:e.flightsOperatingAirline,flightsFareBasisCode:e.flightsFareBasisCode,flightsTransitStops:e.flightsTransitStops,flightsMarketingAirline:e.flightsMarketingAirline,flightsCountryOfArrival:e.flightsCountryOfArrival,flightsCountryOfDeparture:e.flightsCountryOfDeparture,flightsDeal:e.flightsDeal},_experience:{analytics:{customDimensions:{eVars:{eVar42:e.flightsCityPair,eVar45:e.flightsBookingClass,eVar46:e.flightsCabinClass,eVar47:e.flightsCountryOfArrival,eVar48:e.flightsCountryOfDeparture,eVar49:e.flightsDeal,eVar50:e.flightsFareBasisCode,eVar51:e.flightsFareFamilies,eVar52:e.flightsFareType,eVar53:e.flightsFlightValue,eVar54:e.flightsMarketingAirline,eVar55:e.flightsOperatingAirline,eVar56:e.flightsSortCriteria,eVar57:e.flightsTransitStops,eVar61:e.productDurationDays,eVar62:e.productEndDate,eVar63:e.productEndTime,eVar64:e.productPriceDenomination,eVar65:e.productPricePoints,eVar66:e.productRewardType,eVar68:e.productStartDate,eVar69:e.productStartTime,eVar70:e.productType,eVar95:e.promoCode,eVar103:e.productName}}}}})})),a}}},"DL | Journey | Journey From":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.journeyFrom%"}},"Cookie value:QF_VALUE":{defaultValue:"",forceLowerCase:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"QF_VALUE"}},Navigation:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof digitalData&&void 0!==digitalData.event&&"object"==typeof digitalData&&void 0!==digitalData.event){var e=digitalData.event[digitalData.event.length-1];if("navigation"==e.eventInfo.eventAction&&"string"==typeof e.eventInfo.eventName)return e.eventInfo.eventName}}}},digitalData_poll_score:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(dataLayer&&dataLayer.getEvents("pollSubmit"))return parseInt(dataLayer.getEvents("pollSubmit")[0].attributes.pollAnswers[0].answer)}}},"QStats.siteCode":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return window.s?-1!=window.location.href.indexOf("SITE=")?s.Util.getQueryParam("SITE",window.location.href):_satellite.getVar("QStats.postURL")?s.Util.getQueryParam("SITE",_satellite.getVar("QStats.postURL")):_satellite.getVar("QStats.M.postURL")?s.Util.getQueryParam("SITE",_satellite.getVar("QStats.M.postURL")):"Undefined":"Undefined"}catch(e){return"Undefined"}}}},digitalData_bonus_ffpoints:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=$QantasTag.getCustomEvents("specialOfferSelect");if(void 0!==e&&void 0!==e.attributes)return e.frequentFlyerPoints}catch(e){_satellite.notify("Error thrown while getting bonus ff points",1)}}}},digitalData_thirdparty_tags_data:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};try{var t={},a=!1,n=!1;return"undefined"!=typeof digitalData&&void 0!==digitalData.transaction?(t=digitalData.transaction,a=!0):"undefined"!=typeof digitalData&&void 0!==digitalData.basket?t=digitalData.basket:"undefined"!=typeof digitalData&&void 0!==digitalData.listing&&(t=digitalData.listing,n=!0),Object.keys(t).length>0&&!n?(e.departureLocation=t.line_Items[0].product.flights[0].departureAirportCode,e.arrivalLocation=t.line_Items[0].product.flights[0].arrivalAirportCode,e.originCountry=t.line_Items[0].product.flights[0].departureRegion,e.destCountry=t.line_Items[0].product.flights[0].arrivalRegion,e.newArrivalLocation="",e.newDepartureLocation="","Return Trip"==t.line_Items[0].product.flights[0].travelTripType?(e.newDepartureLocation=t.line_Items[1].product.flights[t.line_Items[1].product.flights.length-1].departureAirportCode,e.newArrivalLocation=t.line_Items[1].product.flights[t.line_Items[1].product.flights.length-1].arrivalAirportCode,e.departureDate=t.line_Items[0].product.flights[0].departureDate,e.returnDate=t.line_Items[1].product.flights[t.line_Items[1].product.flights.length-1].arrivalDate):"One Way"==t.line_Items[0].product.flights[0].travelTripType?(e.departureDate=t.line_Items[0].product.flights[0].departureDate,e.returnDate=t.line_Items[0].product.flights[t.line_Items[0].product.flights.length-1].arrivalDate):"Multicity"==t.line_Items[0].product.flights[0].travelTripType&&(e.departureDate=t.line_Items[0].product.flights[0].departureDate,e.returnDate=t.line_Items[1].product.flights[t.line_Items[1].product.flights.length-1].arrivalDate),e.travelClass=t.line_Items[0].product.flights[0].travelClassName,e.travellers=parseInt(t.line_Items[0].product.flights[0].adults)+parseInt(t.line_Items[0].product.flights[0].children)+parseInt(t.line_Items[0].product.flights[0].infants),e.adults=t.line_Items[0].product.flights[0].adults,e.children=t.line_Items[0].product.flights[0].children,e.infants=t.line_Items[0].product.flights[0].infants,e.transactionAmount=a?_satellite.getVar("digitalData_flights_transaction").flightsOnlyCash:t.cash,e.orderID=t.bookingReference):(e.newArrivalLocation="",e.newDepartureLocation="",e.departureLocation=t.line_Items[0].product.flights[0][0].departureAirportCode,e.arrivalLocation=t.line_Items[0].product.flights[0][0].arrivalAirportCode,e.originCountry=t.line_Items[0].product.flights[0][0].departureRegion,e.destCountry=t.line_Items[0].product.flights[0][0].arrivalRegion,"Return Trip"==t.line_Items[0].product.flights[0][0].travelTripType?(e.newDepartureLocation=t.line_Items[0].product.flights[0][t.line_Items[0].product.flights[0].length-1].departureAirportCode,e.newArrivalLocation=t.line_Items[0].product.flights[0][t.line_Items[0].product.flights[0].length-1].arrivalAirportCode,e.departureDate=t.line_Items[0].product.flights[0][0].departureDate,e.returnDate=t.line_Items[0].product.flights[0][t.line_Items[0].product.flights[0].length-1].arrivalDate):"One Way"==t.line_Items[0].product.flights[0][0].travelTripType&&(e.departureDate=t.line_Items[0].product.flights[0][0].departureDate,e.returnDate=t.line_Items[0].product.flights[0][t.line_Items[0].product.flights[0].length-1].arrivalDate),e.travelClass=t.line_Items[0].product.flights[0][0].travelClassName,e.travellers=parseInt(t.line_Items[0].product.flights[0][0].adults)+parseInt(t.line_Items[0].product.flights[0][0].children)+parseInt(t.line_Items[0].product.flights[0][0].infants),e.adults=t.line_Items[0].product.flights[0][0].adults,e.children=t.line_Items[0].product.flights[0][0].children,e.infants=t.line_Items[0].product.flights[0][0].infants,e.transactionAmount=a?_satellite.getVar("digitalData_flights_transaction").flightsOnlyCash:0,e.orderID=t.bookingReference),e}catch(t){return _satellite.notify("Error while retrieving the data needed for thirdpaty tag:"+t,1),e}}}},"Data Layer | Flight Options Presented":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightOptionsPresented%"}},"DL | Journey | pageName":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.pageName%"}},"digitalData.bookingFlow.FDRF.PPPNewPoints":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("pointsPlusPaySelection"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes[0].newPoints}}},"digitalData.transaction.exchangeRate":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.transaction&&void 0!==digitalData.transaction.line_Items[0].product.flights[0])return digitalData.transaction.exchangeRate}}},"digitalData.bookingFlow.CONF.currency":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.transaction.currency"}},"digitalData.bookingFlow.basket.cityPair":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.basket.line_Items[0].product.flights[0]){if(void 0===digitalData.basket.line_Items[0].product.flights[0].travelTripType||digitalData.basket.line_Items[0].product.flights[0].travelTripType.toUpperCase()==="Multicity".toUpperCase()){var e="";return digitalData.basket.line_Items.forEach((function(t,a){if(t.product&&t.product.flights){a>0&&(e+=",");var n=t.product.flights.length;t.product.flights.forEach((function(t,a){void 0!==t.departureAirportCode&&(0===a&&(e+=t.departureAirportCode+"-"),a===n-1&&(e+=t.arrivalAirportCode))})),-1!=e.indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL"))}})),e}if("Return Trip"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return(digitalData.basket.line_Items[0].product.flights.length>1?digitalData.basket.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[0].product.flights[digitalData.basket.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.basket.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[0].product.flights[0].arrivalAirportCode)+","+(digitalData.basket.line_Items[1].product.flights.length>1?digitalData.basket.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[1].product.flights[digitalData.basket.line_Items[1].product.flights.length-1].arrivalAirportCode:digitalData.basket.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[1].product.flights[0].arrivalAirportCode);if("One Way"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights.length>1?digitalData.basket.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[0].product.flights[digitalData.basket.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.basket.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[0].product.flights[0].arrivalAirportCode}}}},"DL | Journey | flightsCabinUpsellSelected":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.flightsCabinUpsellSelected%"}},ttd_book_urls:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"/sg/en/book-a-trip/flights/qantas-explorer.html|/ph/en/book-a-trip/flights/qantas-explorer.html|/th/en/book-a-trip/flights/qantas-explorer.html|/id/en/book-a-trip/flights/qantas-explorer.html"}}},"DL | Journey | MACPointsMembership":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.membership%"}},"digitalData.bookingFlow.select.listing.product.flights.travelType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0&&void 0!==digitalData.listing.line_Items[0].product.flights[0].travelType?digitalData.listing.line_Items[0].product.flights[0].travelType:window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].travelType?digitalData.listing.line_Items[0].product.flights[0][0].travelType:void 0}}},"digitalData.bookingFlow.CONF.cash":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.transaction.cash}}},"QStats.language":{defaultValue:"EN",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"QStats.language"}},"DL | Journey | flightsSeatSelectionAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.flightsSeatSelectionAvailable%"}},digitalData_page_pageInfo_pageName:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.pageInfo.pageName"}},"digitalData.bookingFlow.transaction.flights[0].travelTripType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==digitalData.transaction?digitalData.transaction.line_Items[0].product.flights[0].travelTripType:void 0}}},"DL | Transaction | avisPreferredEntered":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.avisPreferredEntered%"}},"DL | Web | Dangerous Goods Indication 'N'":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"N"==_satellite.getVar("Data Layer | Dangerous Goods")?1:0}}},digitalData_page_category_subCategory4:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalData&&digitalData.page&&digitalData.page.category&&digitalData.page.category.subCategory3?_satellite.getVar("digitalData_page_category_subCategory3")+":"+digitalData.page.category.subCategory3:null}}},"Query param:ext_cam":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"ext_cam",caseInsensitive:!0}},"DL | Transaction | transactionPointsUsed":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.transactionPointsUsed%"}},digitalData_transaction_upsell_products:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return digitalData.transaction.line_Items.forEach((function(t){-1!=Object.keys(t.product).indexOf("cabinUpsell")&&t.product.cabinUpsell.upsells.forEach((function(t,a){a>0&&(e+=","),e+=";Cabin Upsell:New:",e+=t.upsellType,e+="#"+t.cabinUpsell+"#",t.segments.forEach((function(t,a){a>0&&(e+="|"),e+=t.departingSegment+"-"+t.arrivingSegment}));var n=parseFloat(parseInt(t.adults)*parseFloat(t.cashPerAdult)),r=parseFloat(parseInt(t.children)*parseFloat(t.cashPerChild)),i=parseInt(t.adults)*parseInt(t.pointsPerAdult),o=parseInt(t.children)*parseInt(t.pointsPerChild);e+=";"+(parseInt(t.adults)+parseInt(t.children))+";0;event165="+(n+r).toFixed(2)+",event166="+(i+o)+";"}))})),e}}},"DL | Journey | impactedFlight":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return"Y"==e.detail.analyticsData.journey.flightImpacted?1:0}}},digitalData_page_category_subCategory2:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalData&&digitalData.page&&digitalData.page.category&&digitalData.page.category.subCategory1?_satellite.getVar("digitalData_page_category_subCategory1")+":"+digitalData.page.category.subCategory1:null}}},"satellite.buildDate":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if("string"==typeof _satellite.buildDate)e="dtm|"+_satellite.buildDate;else{if("object"!=typeof _satellite.buildInfo)return!1;e="launch|"+_satellite.buildInfo.buildDate}return(e=void 0!==_satellite.settings&&1==_satellite.settings.isStaging?"staging|"+e:"object"==typeof _satellite.buildInfo&&"string"==typeof _satellite.buildInfo.environment?_satellite.buildInfo.environment+"|"+e:"production|"+e).toLowerCase()}}},"JS | division":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.href.includes("/frequent-flyer")||window.location.href.includes("/my-account")?"QL":"QA"}}},"DL | Transaction | Currency w Backup":{cleanText:!0,modulePath:"core/src/lib/dataElements/conditionalValue.js",settings:{comparison:{operator:"doesNotMatchRegex"},leftOperand:"%DL | Transaction | currency%",rightOperand:"\\b[A-Za-z]{3}\\b",fallbackValue:"%DL | Transaction | currency%",conditionalValue:"%DOM | TransactionCurrency%"}},"DL | Journey | purchaseFlowType":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.purchaseFlowType%"}},"digitalData.event.ffnumber":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=digitalData.event[digitalData.event.length-1].attributes.frequentFlyerNumber;return null==e&&"object"==typeof document.getElementById("form-member-id-login-menu-frequent-flyer")&&(e=document.getElementById("form-member-id-login-menu-frequent-flyer").value),e}}},"digitalData_fflyer_joinStart.abn":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].attributes.transaction.abnSelected}}},digitalData_checkinPageLoaded_checkingInCustomerInfo:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.getEvents("checkinPageLoaded")[digitalData.getEvents("checkinPageLoaded").length-1].attributes.checkingInCustomerInfo}}},"Data Layer | eVar153":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return e.detail.analyticsData.journey.referringUrl}}},"DL | Journey | receiptsUploaded":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.receiptsUploaded%"}},"JS | site":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"Airways"}},"DL | Transaction | flightOptionsPresented":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightOptionsPresented%"}},"XDM | PageView":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{pageViews:{value:1}}}},sandbox:{name:"prod"}}},orderID:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(QStats&&null!=QStats.recordLocator&&null!=QStats.purchaseDate){var e=QStats.purchaseDate.toString().split("/"),t=e[0]+e[1]+e[2];return orderID=QStats.recordLocator+t}return orderID=QStats.recordLocator}}},"DL | Web | Dangerous Goods Indication 'Y'":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"Y"==_satellite.getVar("Data Layer | Dangerous Goods")?1:0}}},"DL | Journey | qbrDealAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.qbrDealAvailable%"}},"digitalData.event.attributes.errorMessage":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("bookingEngineFail"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].eventInfo.module+";"+digitalData.event[digitalData.event.length-1].attributes.errorMessage+";"+digitalData.exposedBaseFacts.creditCardCodeUsedForPayment}}},"XDM | Merge | Checkout + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | Merge | GlobalEvent + PageView%","%XDM | Checkout%"]}},"DL | Journey | reasonCode":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.reasonCode%"}},"DL | Transaction | flightsBookingType":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsBookingType%"}},"DL | Transaction | originalFlightDetails":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[e.detail.analyticsData.transaction.originalFlightDate,e.detail.analyticsData.transaction.originalFlightDepartureTime,e.detail.analyticsData.transaction.originalFlightArrivalTime].map((e=>void 0!==e?e:"")).join("|");return"||"==t?null:t}}},"Data Layer | Hotel Filter Details":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=e.detail.analyticsData.journey.hotelFilterRatings,a=e.detail.analyticsData.journey.hotelFilterAmenities,n=e.detail.analyticsData.journey.hotelFilterRatings+" | "+e.detail.analyticsData.journey.hotelFilterAmenities;return void 0!==t&&void 0!==a&&n}}},"digitalData.bookingFlow.transaction.flights.travelClassName":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.transaction&&void 0!==digitalData.transaction.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return digitalData.transaction.line_Items[0].product.flights[0].travelClassName+","+digitalData.transaction.line_Items[1].product.flights[0].travelClassName;if("One Way"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return digitalData.transaction.line_Items[0].product.flights[0].travelClassName}}}},"DL | Web | pathname":{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"pathname"}},"Query param:QF_Value":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"QF_Value",caseInsensitive:!0}},"Data Layer | Product Price Cash":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.product[i].productPriceCash%"}},"digitalData.event.attributes.buttonText":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("click"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.buttonText}}},OneTrustAdobe_isOptInStorageEnabled:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!1}}},"DL | Transaction | siteOfficeId":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.siteOfficeId%"}},digitalData_baggage_products:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.remove"}},digitalData_listing_item_flights_departureDates:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items){var e="";return digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&t.product.flights.forEach((function(t,a){a>0&&(e+=","),void 0!==t.departureDate?e+=t.departureDate:t.forEach((function(t,a){a>0&&(e+=","),e+=t.departureDate}))}))})),e}}}},"DL | Event | errorMessage":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.errorMessage%"}},QF_VALUE:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"QF_VALUE"}},Q_gbid:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window._detector?_detector.sessionId():""}}},oq_language:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"value",elementSelector:"input#currentLanguageCode"}},"DL | Journey | referringUrl":{cleanText:!0,modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"referrer"}},"Data Layer | Network":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsNetwork%"}},digitalData_listing_cityPairs_myb:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.listing.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.listing.line_Items[0].product.flights[0].travelTripType){var e="";return-1!=(e=(t=digitalData.listing.line_Items[0].product.flights).length>1?t[0].departureAirportCode+"-"+t[0].arrivalAirportCode+"|"+t[t.length-1].departureAirportCode+"-"+t[t.length-1].arrivalAirportCode:digitalData.listing.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[0].arrivalAirportCode).indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL")),e}if("One Way"==digitalData.listing.line_Items[0].product.flights[0].travelTripType)return-1!=(e=digitalData.listing.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[0].arrivalAirportCode).indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL")),e;if(void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"Return Trip"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType){var t,e="";return-1!=(e=(t=digitalData.listing.line_Items[0].product.flights)[0].length>1?t[0][0].departureAirportCode+"-"+t[0][0].arrivalAirportCode+"|"+t[0][t.length-1].departureAirportCode+"-"+t[0][t.length-1].arrivalAirportCode:digitalData.listing.line_Items[0].product.flights[0][0].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[0][0].arrivalAirportCode).indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL")),e}if(void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"One Way"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType)return-1!=(e=digitalData.listing.line_Items[0].product.flights[0][0].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[0][0].arrivalAirportCode).indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL")),e}}}},digital_data_expresscheckout_products:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items&&-1!=_satellite.getVar("dataLayer.bookingFlow.listing.productTypes").indexOf("flights")){var t=_satellite.getVar("digitalData.bookingFlow.listing.cityPair").replace(new RegExp(",","g"),"|");t&&(e=";Flights:New:"+t+";"+(_satellite.getVar("digitalData_listing_item_flights_noOfAdults")+_satellite.getVar("digitalData_listing_item_flights_noOfChildren"))+";;;")}return e}}},"DL | Web | pageURL":{
modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"url"}},"DL | Journey | flightsCarHireOfferAvailable":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.flightsCarHireOfferAvailable%"}},"digitalData.basket.line_Items[0].product.flights[0].travelTripType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&window.digitalData.basket.line_Items)return digitalData.basket.line_Items[0].product.flights[0].travelTripType}}},digitalData_poll_id:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(dataLayer&&dataLayer.getEvents("pollSubmit"))return dataLayer.getEvents("pollSubmit")[0].attributes.pollID}}},"digitalData.bookingFlow.CONF.cityPair":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0===digitalData.transaction.line_Items[0].product.flights[0].travelTripType||digitalData.transaction.line_Items[0].product.flights[0].travelTripType.toUpperCase()==="Multicity".toUpperCase()){var e="";return digitalData.transaction.line_Items.forEach((function(t,a){if(t.product&&t.product.flights){a>0&&(e+=",");var n=t.product.flights.length;t.product.flights.forEach((function(t,a){void 0!==t.departureAirportCode&&(0===a&&(e+=t.departureAirportCode+"-"),a===n-1&&(e+=t.arrivalAirportCode))})),-1!=e.indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL"))}})),e}if(void 0!==digitalData.transaction.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return(digitalData.transaction.line_Items[0].product.flights.length>1?digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[digitalData.transaction.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[0].arrivalAirportCode)+","+(digitalData.transaction.line_Items[1].product.flights.length>1?digitalData.transaction.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[1].product.flights[digitalData.transaction.line_Items[1].product.flights.length-1].arrivalAirportCode:digitalData.transaction.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[1].product.flights[0].arrivalAirportCode);if("One Way"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return digitalData.transaction.line_Items[0].product.flights.length>1?digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[digitalData.transaction.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[0].arrivalAirportCode}}}},"QStats.frequentFlyerNumber":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(window.s){if(_satellite.getVar("QStats.postURL"))return"default"!=QStats.frequentFlyerNumber.toLowerCase().trim()?QStats.frequentFlyerNumber:null;if(_satellite.getVar("QStats.M.postURL"))return"default"!=SiteCatalystUtility.INSTANCE._instances.mobile._fields.eVar18.toLowerCase().trim()?SiteCatalystUtility.INSTANCE._instances.mobile._fields.eVar18:null}return null}catch(e){return null}}}},"Data Layer | Membership":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.membership%"}},digitalData_listing_noOfPassengers:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items){var e="0";digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&(void 0!==t.product.flights[0].adults?e=t.product.flights[0].adults:void 0!==t.product.flights[0][0].adults&&(e=t.product.flights[0][0].adults))})),0==e.length&&(e="0");var t="0";digitalData.listing.line_Items.forEach((function(e){e.product&&e.product.flights&&(void 0!==e.product.flights[0].children?t=e.product.flights[0].children:void 0!==e.product.flights[0][0].children&&(t=e.product.flights[0][0].children))})),0==t.length&&(t="0");var a="0";return digitalData.listing.line_Items.forEach((function(e){e.product&&e.product.flights&&(void 0!==e.product.flights[0].infants?a=e.product.flights[0].infants:void 0!==e.product.flights[0][0].infants&&(a=e.product.flights[0][0].infants))})),0==a.length&&(a="0"),e+"|"+t+"|"+a}}}},OneTrustAdobe_previousPermissions_Launch:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={aam:!0,adcloud:!0,aa:!0,ecid:!0,target:!0,mediaaa:!0},t=_satellite.getVar("OneTrustFlag");return"string"==typeof t&&""!==t&&(-1==t.indexOf(",2,")&&(e.aa=!1,e.mediaaa=!1),-1==t.indexOf(",3,")&&(e.target=!1),-1==t.indexOf(",4,")&&(e.aam=!1,e.adcloud=!1),-1==t.indexOf(",2,")&&-1==t.indexOf(",3,")&&-1==t.indexOf(",4,")&&(e.ecid=!1)),JSON.stringify(e)}}},digitalData_transaction_flight_cityPairs:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;if(void 0!==digitalData.transaction.line_Items[0].product.flights[0]){var t;if("Return Trip"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return e=digitalData.transaction.line_Items[0].product.flights.length>1?digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[digitalData.transaction.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[0].arrivalAirportCode,digitalData.transaction.line_Items.length>1?(-1!=(t=e+"|"+(digitalData.transaction.line_Items[1].product.flights.length>1?digitalData.transaction.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[1].product.flights[digitalData.transaction.line_Items[1].product.flights.length-1].arrivalAirportCode:digitalData.transaction.line_Items[1].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[1].product.flights[0].arrivalAirportCode)).indexOf("AVV|MEL")&&(t=t.replace(/AVV\|MEL/g,"MEL")),t):(-1!=(t=e).indexOf("AVV|MEL")&&(t=t.replace(/AVV\|MEL/g,"MEL")),t);if("One Way"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return-1!=(t=e=digitalData.transaction.line_Items[0].product.flights.length>1?e=digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[digitalData.transaction.line_Items[0].product.flights.length-1].arrivalAirportCode:digitalData.transaction.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[0].product.flights[0].arrivalAirportCode).indexOf("AVV|MEL")&&(t=t.replace(/AVV\|MEL/g,"MEL")),t}}}},digitalData_myb_transaction_pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.transaction&&digitalData.transaction.line_Items[0].product.seats&&0==digitalData.transaction.line_Items[0].product.seats.length||digitalData.transaction&&digitalData.transaction.line_Items[0].product.baggage&&0==digitalData.transaction.line_Items[0].product.baggage.length?digitalData.page.pageInfo.pageName:digitalData.transaction&&digitalData.transaction.line_Items[0].product.baggage&&digitalData.transaction.line_Items[0].product.baggage.length>0?digitalData.page.pageInfo.pageName+" - "+("RoundTrip"!=digitalData.transaction.line_Items[0].product.baggage[0].travelTripType?digitalData.transaction.line_Items[0].product.baggage[0].travelTripType:"Return Trip")+" - "+digitalData.transaction.line_Items[0].product.baggage[0].travelType:digitalData.page.pageInfo.pageName+" - "+("RoundTrip"!=digitalData.transaction.line_Items[0].product.seats[0].travelTripType?digitalData.transaction.line_Items[0].product.seats[0].travelTripType:"Return Trip")+" - "+digitalData.transaction.line_Items[0].product.seats[0].travelType}}},isTACampaignLive:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=new Date,t=new Date("2018-02-04T00:00:00.000Z"),a=new Date("2018-06-10T00:00:00.000Z"),n=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2);return(e=new Date(n)).getTime()>=t.getTime()&&e.getTime()<=a.getTime()||"true"===localStorage.getItem("sdsat_stagingLibrary")}}},"digitalData.bookingFlow.CONF.loginType":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return s.eVar18.split("|")[0]}}},"dataLayer.mybLoginStart":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==dataLayer.getEvents("mybLoginStart")[dataLayer.getEvents("mybLoginStart").length-1].attributes.type&&(e=dataLayer.getEvents("mybLoginStart")[dataLayer.getEvents("mybLoginStart").length-1].attributes.type),e+"|BookingRef="+dataLayer.getEvents("mybLoginStart")[dataLayer.getEvents("mybLoginStart").length-1].attributes.bookingReference}}},"Data Layer | Transaction City Pairs":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsCityPairs%"}},"XDM | SeatTogetherEnablement":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_qantas:{Event:{eventType:"interaction",eventLabel:"Enable/ Disable Sitting Together",eventAction:"CTA Click",eventCategory:"New Flight Booking - Seat Map"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"New Flight Booking - Seat Map",eVar18:"Enable/ Disable Sitting Together",eVar19:"interaction",eVar33:"New Flight Booking - Seat Map"}}}}},sandbox:{name:"prod"}}},digitalData_listing_changeType:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.listing.changeType"}},"digitalData.Error.Event.Book.Message":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.event){var e=digitalData.event[digitalData.event.length-2];if(void 0!==e&&void 0!==e.eventInfo)return e.eventInfo.eventName.match(/.*(bookingEngineFail).*/g)?e.eventInfo.errorMessage:"Success"}}}},"digitalData.event.attributes.voucherReference":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("creditVoucher"==digitalData.event[digitalData.event.length-1].eventInfo.module)return digitalData.event[digitalData.event.length-1].attributes.voucherReference}}},digitalData_visitor_version:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.s)return s.visitor.version}}},"DL | Transaction | bookingEndDate":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.bookingEndDate%"}},"digitalData.bookingFlow.page.category.subCategory3":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.bookingFlow.page.category.subCategory3"}},digitalData_transaction_departureDates:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t;if(void 0!==digitalData.transaction&&void 0!==digitalData.transaction.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return e=digitalData.transaction.line_Items[0].product.flights[0].departureDate,t=digitalData.transaction.line_Items[1].product.flights[0].departureDate,$QantasTag.getFormattedDate(e)+"|"+$QantasTag.getFormattedDate(t);if("One Way"==digitalData.transaction.line_Items[0].product.flights[0].travelTripType)return e=digitalData.transaction.line_Items[0].product.flights[0].departureDate,$QantasTag.getFormattedDate(e)}}}},"DL | Journey | flexibleWithDates":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.flexibleWithDates%"}},"DL | Transaction | promoCode":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.promoCode%"}},"digitalData.basket.flightCarrierflightNumber":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.basket.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].flightCarrier+digitalData.basket.line_Items[0].product.flights[0].flightNumber+","+digitalData.basket.line_Items[1].product.flights[0].flightCarrier+digitalData.basket.line_Items[1].product.flights[0].flightNumber;if("One Way"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].flightCarrier+digitalData.basket.line_Items[0].product.flights[0].flightNumber}}}},"DL | User | businessYesNo":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.user.businessYesNo%"}},"DL | Transaction | flightsCountryOfDeparture":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsCountryOfDeparture%"}},"DL | Journey | Journey To":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.journeyTo%"}},"DL | Event | errorLocationStep":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.errorLocationStep%"}},myb_booking_flow_pruchaseid:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(void 0!==digitalData.transaction){var e,t=new Date;return e=t.getFullYear()+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2),digitalData.transaction.bookingReference+e}return}catch(e){return}}}},"XDM | SeatMap - DoneButton":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_qantas:{Event:{eventType:"interaction",eventLabel:"Booking Level Seat Confirmation",eventAction:"CTA Click",eventCategory:"New Flight Booking - Seat Map"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"New Flight Booking - Seat Map",eVar18:"Booking Level Seat Confirmation",eVar19:"interaction",eVar33:"New Flight Booking - Seat Map"}}}}},sandbox:{name:"prod"}}},digitalData_transaction_noOfInfants:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.transaction&&digitalData.transaction.line_Items){var e="0";return digitalData.transaction.line_Items.forEach((function(t){t.product&&t.product.flights&&(e=t.product.flights[0].infants)})),0==e.length&&(e="0"),e}}}},"extendedSearch.refineSearch..attributes.zoomLevel":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=$QantasTag.getCustomEvents("selectPin");return zoomLevel=e[e.length-1].attributes.zoomLevel,zoomLevel}}},incmplt_cookie:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),a=(" "+document.cookie).match(t);return e&&a?unescape(a[1]):null}function t(e,t){return decodeURIComponent((new RegExp(e+"[#:=]([^&|@#;]+)(&|||#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null}var a=e("incmplt");if(null!=a){t("pnr",a);var n=t("arrcity",a),r=parseInt(t("pnrTime",a).toString()),i=parseInt(t("depDate",a).toString()),o=t("pnrAmnt",a);r=new Date(parseInt(r));var s=Math.abs(new Date-r),l=Math.abs(new Date-i);return null!=n&&Math.floor(s/1e3/60)>30&&Math.floor(l/1e3/60/60/24)>7&&r.getDate()==(new Date).getDate()?o:0}return 0}}},"digitalData.event.attributes.usePoints":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("flightSearchStart"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.usePoints}}},"Data Layer | Flight City Pair":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.product[0].flightsCityPair%"}},"digitalData.event.attributes.totalNumberOfFlights":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("addToCart"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.totalNumberOfFlights}}},"digitalData.Error.Event.Book.LocationStep":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.event){var e=digitalData.event[digitalData.event.length-2];if(void 0!==e&&void 0!==e.eventInfo)return e.eventInfo.eventName.match(/.*(bookingEngineFail).*/g)?e.eventInfo.errorLocationStep:"Success"}}}},"DL | Transaction | ffNumberEntered":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.ffNumberEntered%"}},"Data Layer | eVar152":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return e.detail.analyticsData.event.eventAction+"|"+e.detail.analyticsData.journey.journeyName+"|"+e.detail.analyticsData.event.eventLabel}}},digitalData_listing_item_flights_noOfAdults:{defaultValue:"",cleanText:!0,storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items){var e="0";return digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&(void 0!==t.product.flights[0].adults?e=t.product.flights[0].adults:void 0!==t.product.flights[0][0].adults&&(e=t.product.flights[0][0].adults))})),e}}}},digitalData_page_category_primaryCategory:{defaultValue:"qantas",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"qantas"}}},credit_card_selector_bank_name:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].attributes.provider}}},"digitalData.bookingFlow.page.category.primaryCategory":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.page.category.primaryCategory"}},"XDM | Merge | AddBag+ GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | AddBagSelection%"]}},globalFFnumber:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return-1!=document.location.host.indexOf("book")?"object"==typeof digitalData&&digitalData.user&&digitalData.user.frequentFlyerNumber&&(e=digitalData.user.frequentFlyerNumber):void 0!==_satellite.cookie.get("fflogin")&&(e=_satellite.cookie.get("fflogin").split("#")[0]),e}}},"digitalData.bookingFlow.select.sortOrderBy":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=digitalData.event[digitalData.event.length-1],t="";switch(void 0!==e.attributes.sortOrderBy?e.attributes.sortOrderBy:""){case"NDE":t="Direct Flights";break;case"P":t="Price";break;case"E":t="Duration";break;case"D":t="Departure Time";break;case"A":t="Arrival Time";break;case"CR":t="Reward Seats";break;case"CPD":t="Recommend"}return t}}},"digitalData.event.attributes.wcigError":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("selectFlights"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.wcigError}}},"DL | Event | eventAction":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.eventAction%"}},"Query param:rgn_cam":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"rgn_cam",caseInsensitive:!0}},latest_error:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t;if("object"==typeof digitalData){var a=void 0!==(t=digitalData.event[digitalData.event.length-1]).attributes.url?t.attributes.url.split("//")[1]:"undefined";-1!=t.eventInfo.eventName.indexOf("Fail")&&(e=t.eventInfo.eventName+"|"+t.attributes.errorMessage+"|"+a)}return e}}},"digitalData.transaction.abnSelected":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.transaction.abnSelected"}},digitalData_event_error:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.event){var e=digitalData.event[digitalData.event.length-1];if(void 0!==e&&void 0!==e.eventInfo){if(e.eventInfo.eventName.match(/.*(Fail|Error).*/g)&&"flightservicefail"!==e.eventInfo.eventName.toLowerCase()){var t=e.eventInfo.eventName;return t+";"+(void 0!==e.attributes.errorMessage?e.attributes.errorMessage:t)+";"+window.location.href}return"Success"}}}}},siteSearchPageDepth:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==document.getElementsByClassName("page_number")[0]&&document.getElementsByClassName("page_number")[0].innerText}}},digitalData_event_cabinUpSells:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return void 0!==digitalData.event[digitalData.event.length-1]&&void 0!==digitalData.event[digitalData.event.length-1].attributes.upsells&&digitalData.event[digitalData.event.length-1].attributes.upsells.forEach((function(t,a){a>0&&(e+=","),e+=";Cabin Upsell:New:",e+=t.upsellType,e+="#"+t.cabinUpsell+"#",t.segments.forEach((function(t,a){a>0&&(e+="|"),e+=t.departingSegment+"-"+t.arrivingSegment})),e+=";"+(parseInt(t.adults)+parseInt(t.children))+";;;"})),e}}},alt_cam_session:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"alt_cam",caseInsensitive:!0}},"digitalData.bookingFlow.basket.flights.travelClassName":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.basket.line_Items[0].product.flights[0].travelTripType&&digitalData.basket.line_Items[0].product.flights[0].travelTripType.toUpperCase()!=="Multicity".toUpperCase()){if(void 0!==digitalData.basket.line_Items[0].product.flights[0]){if("Return Trip"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].travelClassName+","+digitalData.basket.line_Items[1].product.flights[0].travelClassName;if("One Way"==digitalData.basket.line_Items[0].product.flights[0].travelTripType)return digitalData.basket.line_Items[0].product.flights[0].travelClassName}}else if(window.digitalData&&digitalData.basket&&digitalData.basket.line_Items){var e="";return digitalData.basket.line_Items.forEach((function(t,a){t.product&&t.product.flights&&(a>0&&(e+=","),t.product.flights.forEach((function(t,a){void 0!==t.travelClassName&&0===a&&(e+=t.travelClassName)})))})),e}}}},cars_formData:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="pickUpLocation:"+document.getElementById("typeahead-input-pickupLocation").value+"|differentDropoffLocation:"+document.getElementById("differentDropoffLocation").checked;return e+=document.getElementById("differentDropoffLocation").checked?"|dropoffLocation:"+document.getElementById("typeahead-input-dropoffLocation").value:"",e+="|pickupDate:"+document.getElementById("datepicker-input-pickupDate").value+"|pickupTime:"+document.getElementById("select-input-pickupTime").value+"|dropoffDate:"+document.getElementById("datepicker-input-dropoffDate").value+"|dropoffTime:"+document.getElementById("select-input-dropoffTime").value}}},"DL | Journey | FlightDeparturePort":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.departurePort%"}},"DL | Journey | journeyNameAndStep":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.journeyName%:%event.detail.analyticsData.journey.journeyStep%"}},hotels_search_form_data:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){if((e=dataLayer.getEvents("hotelBookingSearch")[dataLayer.getEvents("hotelBookingSearch").length-1])&&void 0!==e&&void 0!==e.attributes)return{location:e.attributes.location,checkin:e.attributes.checkIn,checkout:e.attributes.checkOut,guests:e.attributes.adults+","+e.attributes.children+","+e.attributes.infants,getReturnVal:function(){var t=e.eventInfo.module;return void 0!==document.getElementsByClassName("qfa1-hotel__button-link")[0]&&(document.getElementsByClassName("qfa1-hotel__button-link")[0].getElementsByClassName("qfa1-submit-button__button")[0],1)&&-1!=document.getElementsByClassName("qfa1-hotel__button-link")[0].getElementsByClassName("qfa1-submit-button__button")[0].innerText.indexOf("AIRBNB")&&(t="AirBnb"),t=t+"|location:"+this.location+"|checkin:"+this.checkin+"|checkout:"+this.checkout+"|guests:"+this.guests}}.getReturnVal()}}},"Data Layer | Card Selection":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.cardSelection%"}},"XDM | Merge | AddToCart + GlobalEvent":{cleanText:!0,modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | AddToCart%"]}},"URL | testCase":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"TAB_ID",caseInsensitive:!0}},digitalData_checkin_forwardingMethod:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){if(void 0!==(e=$QantasTag.getCustomEvents("forwardBoardingPassMethod")[$QantasTag.getCustomEvents("forwardBoardingPassMethod").length-1])&&void 0!==e.attributes&&void 0!==e.attributes.forwardingMethod)return e.attributes.forwardingMethod}}},"digitalData.Error.Event.Book.Name":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.event){var e=digitalData.event[digitalData.event.length-2];if(void 0!==e&&void 0!==e.eventInfo)return e.eventInfo.eventName.match(/.*(bookingEngineFail).*/g)?e.eventInfo.eventName:"Success"}}}},digitalData_basket_noOfPassengers:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.basket&&digitalData.basket.line_Items){var e="0";digitalData.basket.line_Items.forEach((function(t){t.product&&t.product.flights&&(e=t.product.flights[0].adults)})),0==e.length&&(e="0");var t="0";digitalData.basket.line_Items.forEach((function(e){e.product&&e.product.flights&&(t=e.product.flights[0].children)})),0==t.length&&(t="0");var a="0";return digitalData.basket.line_Items.forEach((function(e){e.product&&e.product.flights&&(a=e.product.flights[0].infants)})),0==a.length&&(a="0"),e+"|"+t+"|"+a}}}},"DL | Transaction | bookingStartDate":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.bookingStartDate%"}},"digitalData.bookingFlow.CONF.Points":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.transaction.points}}},"DL | Journey | qantasBookingReference":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.QantasBookingReference%"}},"promo-code":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.transaction.promoCode}}},CTAName:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].attributes.CTAName}}},digitalData_myb_basket_pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.basket&&digitalData.basket.line_Items[0].product.seats&&0==digitalData.basket.line_Items[0].product.seats.length||digitalData.basket&&digitalData.basket.line_Items[0].product.baggage&&0==digitalData.basket.line_Items[0].product.baggage.length?digitalData.page.pageInfo.pageName:digitalData.basket&&digitalData.basket.line_Items[0].product.baggage&&digitalData.basket.line_Items[0].product.baggage.length>0?digitalData.page.pageInfo.pageName+" - "+("RoundTrip"!=digitalData.basket.line_Items[0].product.baggage[0].travelTripType?digitalData.basket.line_Items[0].product.baggage[0].travelTripType:"Return Trip")+" - "+digitalData.basket.line_Items[0].product.baggage[0].travelType:digitalData.page.pageInfo.pageName+" - "+("RoundTrip"!=digitalData.basket.line_Items[0].product.seats[0].travelTripType?digitalData.basket.line_Items[0].product.seats[0].travelTripType:"Return Trip")+" - "+digitalData.basket.line_Items[0].product.seats[0].travelType}}},referrer:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalData&&digitalData.page&&digitalData.page.pageInfo&&digitalData.page.pageInfo.referringURL?digitalData.page.pageInfo.referringURL:document.referrer}}},cookieSetting:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{secure:!0}}}},"digitalData.bookingFlow.CONF.payment":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:'(digitalData.transaction.paymentType).split("|")[0]'}},"DL | Transaction | flightsTripType":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsTripType%"}},"DL | Journey | emailSubscriptionDetails":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[e.detail.analyticsData.journey.emailSubscriptionListName,e.detail.analyticsData.journey.emailSubscriptionLocation,e.detail.analyticsData.journey.emailSubscriptionOptIn].map((e=>void 0!==e?e:"")).join("|");return"||"==t?null:t}}},"Data Layer | Site Office ID":{modulePath:"core/src/lib/dataElements/constant.js",settings:{
value:"%event.detail.analyticsData.transaction.siteOfficeId%"}},italian_countries_list:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"BLQ,LIN,MXP,PSA,FCO,VCE,ROM,VRN,TRN,PMO,NAP,GOA,CTA,BRI"}}},"digitalData_fflyer_joinStart.paymentType":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].attributes.transaction.paymentType}}},"Data Layer | Error Code":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.errorCode%"}},digitalData_cars_viewin_deal:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=$QantasTag.getCustomEvents("viewCarOptions");if(e)return(e=e[e.length-1]).attributes.type+"|"+e.attributes.deal}}},"DL | Journey | CategoryNum":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.categoryNum%"}},"dataLayer.ffLoginFail.errorMessage":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"FFError|"+dataLayer.getEvents("ffLoginFail")[dataLayer.getEvents("ffLoginFail").length-1].attributes.errorMessage+"|"+dataLayer.getEvents("ffLoginFail")[dataLayer.getEvents("ffLoginFail").length-1].attributes.URL}}},digitalData_basket_item_flights_travelTripType_myb:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items)return digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&(void 0!==t.product.flights[0].travelTripType?e=t.product.flights[0].travelTripType:void 0!==t.product.flights[0][0].travelTripType&&(e=t.product.flights[0][0].travelTripType))})),e}}},"digitalData.bookingFlow.listing.cityPair":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0){var e="";return void 0!==digitalData.listing.line_Items[0].product.flights[0].travelTripType&&digitalData.listing.line_Items[0].product.flights[0].travelTripType.toUpperCase()!=="Multicity".toUpperCase()||void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&digitalData.listing.line_Items[0].product.flights[0][0].travelTripType.toUpperCase()!=="Multicity".toUpperCase()?void 0!==digitalData.listing.line_Items[0].product.flights[0]&&("Return Trip"==digitalData.listing.line_Items[0].product.flights[0].travelTripType?e=digitalData.listing.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[0].arrivalAirportCode+","+digitalData.listing.line_Items[0].product.flights[1].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[1].arrivalAirportCode:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"Return Trip"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType?e=digitalData.listing.line_Items[0].product.flights[0][0].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[0][0].arrivalAirportCode+","+digitalData.listing.line_Items[0].product.flights[0][1].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[0][1].arrivalAirportCode:"One Way"==digitalData.listing.line_Items[0].product.flights[0].travelTripType?e=digitalData.listing.line_Items[0].product.flights[0].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[0].arrivalAirportCode:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"One Way"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&(e=digitalData.listing.line_Items[0].product.flights[0][0].departureAirportCode+"-"+digitalData.listing.line_Items[0].product.flights[0][0].arrivalAirportCode)):digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&(t.product.flights.length,t.product.flights.forEach((function(t,a){a>0&&(e+=","),void 0!==t.departureAirportCode?(e+=t.departureAirportCode+"-",e+=t.arrivalAirportCode):t.forEach((function(t,a){a>0&&(e+=","),e+=t.departureAirportCode+"-",e+=t.arrivalAirportCode}))})),-1!=e.indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL")))})),-1!=e.indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL")),e}}}},"Data Layer | Error Location URL":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.errorLocationUrl%"}},digitalData_flight_search:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=$QantasTag.getCustomEvents("changeFlightSearch");if(e)return(e=e[e.length-1]).attributes.flightSearch}}},"Query param:int_cam":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"int_cam",caseInsensitive:!0}},"QStats.skin":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if(window.s){if(_satellite.getVar("QStats.postURL"))return s.Util.getQueryParam("SKIN",_satellite.getVar("QStats.postURL"));if(_satellite.getVar("QStats.M.postURL"))return s.Util.getQueryParam("SKIN",_satellite.getVar("QStats.M.postURL"))}return null}catch(e){return null}}}},digitalData_airbnbAction:{defaultValue:"Stay",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=digitalData&&digitalData.event,t=e&&e[e.length-1];return t&&t.attributes&&ddAtributes.airbnbAction?ddAtributes.airbnbAction:"Stay"}catch(e){}}}},"digitalData.bookingFlow.FDRF.PPPInitialPoints":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("pointsPlusPayInteraction"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes[0].initialPoints}}},"XDM | Checkout":{cleanText:!0,modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{commerce:{checkouts:{value:1}},_experience:{analytics:{customDimensions:{eVars:{eVar97:"%DL | Transaction | Currency w Backup%"}}}},productListItems:"%DL | JS | Products Object%"},sandbox:{name:"prod"}}},"XDM | Merge | RemoveFromCart + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | RemoveFromCart%"]}},HelpSupportPageName:{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.action"}},partnerCode:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";if(void 0!==document.getElementById("info")&&null!=document.getElementById("info").innerText)try{e=JSON.parse(document.getElementById("info").innerText.trim())[0]["partner-code"]}catch(e){}return e}}},"digitalData.bookingFlow.basket.flights.travelType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.basket.line_Items[0].product.flights[0].travelType}}},digitalData_transaction_timestamp:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return new Date}}},OneTrustAdobe_preOptInApprovalsConfig:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={aam:!0,adcloud:!0,aa:!0,ecid:!0,target:!0,videoaa:!0};return e}}},"DL | Web | geoRegion":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.geoRegion%"}},digitalData_poll_verbatim:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(dataLayer&&dataLayer.getEvents("pollSubmit"))return dataLayer.getEvents("pollSubmit")[0].attributes.pollAnswers[1].answer}}},"digitalData.bookingFlow.listing.flexibleWithDates":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.listing.flexibleWithFlights"}},digitalData_transaction_noOfPassengers:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.transaction&&digitalData.transaction.line_Items){var e="0";digitalData.transaction.line_Items.forEach((function(t){t.product&&t.product.flights&&(e=t.product.flights[0].adults)})),0==e.length&&(e="0");var t="0";digitalData.transaction.line_Items.forEach((function(e){e.product&&e.product.flights&&(t=e.product.flights[0].children)})),0==t.length&&(t="0");var a="0";return digitalData.transaction.line_Items.forEach((function(e){e.product&&e.product.flights&&(a=e.product.flights[0].infants)})),0==a.length&&(a="0"),e+"|"+t+"|"+a}}}},"dataLayer.bookingFlow.transaction.productTypes":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){var t="";for(var a in e)e.hasOwnProperty(a)&&(t+="|"+a);return t}for(var t="",a=digitalData.transaction.line_Items,n=a.length-1;n>=0;n--)t=t+e(a[n].product)+n;return t}}},loadtime:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.performance?((new Date).getTime()-window.performance.timing.fetchStart)/1e3:""}}},"Query param:alt_cam":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"alt_cam",caseInsensitive:!0}},"XDM | GlobalNavDropdownClick":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%DXM | GlobalNavDropdownElement%",type:"other",linkClicks:{value:1}}},_qantas:{Event:{eventType:"interaction",eventLabel:"%DXM | GlobalNavDropdownElement%",eventAction:"CTA Click",eventCategory:"Homepage"}},_experience:{analytics:{event1to100:{event10:{value:1},event21:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"Homepage",eVar18:"%DXM | GlobalNavDropdownElement%",eVar19:"interaction"}}}}},sandbox:{name:"prod"}}},"XDM | SeatUpgradePromotion":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_qantas:{Event:{eventType:"interaction",eventLabel:"Seat Upgrade Promotion",eventAction:"CTA Click",eventCategory:"New Flight Booking - Seat Map"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"New Flight Booking - Seat Map",eVar18:"Seat Upgrade Promotion",eVar19:"interaction",eVar33:"New Flight Booking - Seat Map"}}}}},sandbox:{name:"prod"}}},"FF - Card Selector - cardName":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return $QantasTag.getValueFromKey("cardname",window.location.href).trim()}}},"XDM | DaysToDeparture":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=analyticsData.transaction.transactionDate.split("/"),t=new Date(e[1]+"/"+e[0]+"/"+e[2]),a=analyticsData.transaction.bookingStartDate.split("/");let n=new Date(a[1]+"/"+a[0]+"/"+a[2]).getTime()-t.getTime();return Math.round(n/864e5)}}},"XDM | Merge | GlobalEvent + Cancel Flight Confirmation":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | Cancel Flight Confirmation%"]}},filterWidgetSelection:{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("applyFilters"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.minBudget+"|"+digitalData.event[digitalData.event.length-1].attributes.maxBudget+"|"+digitalData.event[digitalData.event.length-1].attributes.timeWindow+"|"+digitalData.event[digitalData.event.length-1].attributes.stop+"|"+digitalData.event[digitalData.event.length-1].attributes.duration+"|"+digitalData.event[digitalData.event.length-1].attributes.airline}}},"digitalData.bookingFlow.FDRF.PPPChangeCash":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("pointsPlusPaySelection"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes[0].changeCash}}},"dataLayer.bookingFlow.listing.productTypes":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){var t="";for(var a in e)e.hasOwnProperty(a)&&(t+="|"+a);return t}for(var t="",a=digitalData.listing.line_Items,n=a.length-1;n>=0;n--)t+=e(a[n].product);return t}}},"XDM | Merge | 2ndNavClickMobile + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | 2ndNavClickMobile%"]}},digitalData_basket_item_flights_travelType_myb:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items){var e="";return digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&(void 0!==t.product.flights[0].travelType?e=t.product.flights[0].travelType:void 0!==t.product.flights[0][0].travelType&&(e=t.product.flights[0][0].travelType))})),e}}}},credit_card_selector_bank_cardName:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].attributes.cardName}}},"digitalData_fflyer_joinStart.purchaseID":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return((e=digitalData.event[digitalData.event.length-1]).attributes.basket||e.attributes.listing||e.attributes.transaction||{}).bookingReference+"-"+(new Date).getTime()}}},digitalData_transaction_cardType:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.transaction.cardType"}},"digitalData.bookingFlow.FDRF.PPPNewCash":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("pointsPlusPaySelection"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes[0].newCash}}},"DL | Journey | journeyStep":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.journeyStep%"}},digitalData_cars_viewIn:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=$QantasTag.getCustomEvents("viewInPoints");if(e)return(e=e[e.length-1]).attributes.viewIn}}},"digitalData.bookingFlow.listing.departureDate":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0){var e="";return void 0!==digitalData.listing.line_Items[0].product.flights[0].travelTripType&&digitalData.listing.line_Items[0].product.flights[0].travelTripType.toUpperCase()!=="Multicity".toUpperCase()||void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&digitalData.listing.line_Items[0].product.flights[0][0].travelTripType.toUpperCase()!=="Multicity".toUpperCase()?void 0!==digitalData.listing.line_Items[0].product.flights[0]&&("Return Trip"==digitalData.listing.line_Items[0].product.flights[0].travelTripType?e=digitalData.listing.line_Items[0].product.flights[0].departureDate+","+digitalData.listing.line_Items[0].product.flights[1].departureDate:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"Return Trip"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType?e=digitalData.listing.line_Items[0].product.flights[0][0].departureDate+","+digitalData.listing.line_Items[0].product.flights[0][1].departureDate:"One Way"==digitalData.listing.line_Items[0].product.flights[0].travelTripType?e=digitalData.listing.line_Items[0].product.flights[0].departureDate:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"One Way"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&(e=digitalData.listing.line_Items[0].product.flights[0][0].departureDate)):digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&t.product.flights.forEach((function(t,a){a>0&&(e+=","),void 0!==t.departureDate?e+=t.departureDate:void 0!==t[0].departureDate&&t.forEach((function(t,a){a>0&&(e+=","),e+=t.departureDate}))}))})),e}}}},digitalData_events:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.event"}},"JS | JourneyFromAndTo":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(""!==_satellite.getVar("DL | Journey | journeyFrom")&&""!==_satellite.getVar("DL | Journey | journeyTo"))return _satellite.getVar("DL | Journey | journeyFrom")+"|"+_satellite.getVar("DL | Journey | journeyTo")}}},"DL | Transaction | pppToggle":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.pppToggle%"}},"Data Layer | QFFID":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.user.qffId%"}},"digitalData.bookingFlow.CONF.paymentType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.transaction.paymentType"}},"Data Layer | Card Saved":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.saveCard%"}},QStats:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"QStats"}},digitalData_basket_cabinUpSells:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return digitalData.basket.line_Items.forEach((function(t){-1!=Object.keys(t.product).indexOf("cabinUpsell")&&t.product.cabinUpsell.upsells.forEach((function(t,a){a>0&&(e+=","),e+=";Cabin Upsell:New:",e+=t.upsellType,e+="#"+t.cabinUpsell+"#",t.segments.forEach((function(t,a){a>0&&(e+="|"),e+=t.departingSegment+"-"+t.arrivingSegment})),e+=";"+(parseInt(t.adults)+parseInt(t.children))+";;;"}))})),e}}},"DL | Journey | flightActionsAvailableMYB":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[e.detail.analyticsData.journey.flightCheckInAvailable,e.detail.analyticsData.journey.flightAcceptAvailable,e.detail.analyticsData.journey.flightChangeAvailable,e.detail.analyticsData.journey.flightCancelAvailable,e.detail.analyticsData.journey.flightAcceptChangeAvailable].map((e=>void 0!==e?e:"")).join("|");return"||||"==t?null:t}}},"Data Layer | Product Reward Type":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.product[i].productRewardType%"}},"DL | Journey | classicRewardToggle":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.classicRewardToggle%"}},"XDM | SeatMap - StandardSeat":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_qantas:{Event:{eventType:"interaction",eventLabel:"Standard Seat",eventAction:"CTA Click",eventCategory:"New Flight Booking - Seat Map"}},_experience:{analytics:{event1to100:{event10:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"New Flight Booking - Seat Map",eVar18:"Standard Seat",eVar19:"interaction",eVar33:"New Flight Booking - Seat Map"}}}}},sandbox:{name:"prod"}}},"userContext.departurePort":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.$QantasTag?$QantasTag.getValueFromKey("dep",_satellite.cookie.get("usercontext")):null}}},ttd_landing_urls:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"/sg/en.html|/ph/en.html|/id/en.html|/th/en.html"}}},"Data Layer | Product Name":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.product[i].productName%"}},"XDM | 2ndNavClickWeb":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"%XDM | 2ndNavElementWeb%",type:"other",linkClicks:{value:1}}},_qantas:{Event:{eventType:"interaction",eventLabel:"%XDM | 2ndNavElementWeb%",eventAction:"CTA Click",eventCategory:"Homepage"}},_experience:{analytics:{event1to100:{event10:{value:1},event21:{value:1}},customDimensions:{eVars:{eVar16:"CTA Click",eVar17:"Homepage",eVar18:"%XDM | 2ndNavElementWeb%",eVar19:"interaction"}}}}},sandbox:{name:"prod"}}},"DL | Transaction | currency":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return _satellite.getVar("DL | Web | pageURL").includes("qf-booking/dyn/air/booking/COFD")&&null!=_satellite.getVar("DOM | TransactionCurrency")&&e.detail.analyticsData.transaction.currency!=_satellite.getVar("DOM | TransactionCurrency")?_satellite.getVar("DOM | TransactionCurrency"):e.detail.analyticsData.transaction.currency}}},"Data Layer | Category":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.eventCategory%"}},"digitalData.bookingFlow.CONF.methodOfPay":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.transaction.methodOfPay"}},digitalData_status_credits:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.user.statusCredits)return digitalData.user.statusCredits}}},digitalData_parting_time:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.s)return s.getTimeParting("s","+10")}}},"XDM | Merge | GlobalEvent + PageView":{cleanText:!0,modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | PageView%"]}},OneTrustAdobe_doesOptInApply:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=!0;return e&&(window._satellite.replaceOriginal=window._satellite.replace,window._satellite.replace=function(e,t,a,n){try{if("string"==typeof e&&/preOptInApprovalsConfig|previousPermissions/i.test(e)){var r=e.replace(/\%/gi,"");return _satellite.getVar(r)}return window._satellite.replaceOriginal(e,t,a,n)}catch(r){return window._satellite.replaceOriginal(e,t,a,n)}}),e}}},"Data Layer | Journey Step":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.journeyStep%"}},digitalData_listing_flexFares:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";try{void 0!==digitalData.listing.line_Items[0].product.flights[0]&&("Return Trip"==digitalData.listing.line_Items[0].product.flights[0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0].lowestFlexEco?e=digitalData.listing.line_Items[0].product.flights[0].lowestFlexEco+"-"+digitalData.listing.line_Items[0].product.flights[0].highestFlexEco+"|"+digitalData.listing.line_Items[0].product.flights[1].lowestFlexEco+"-"+digitalData.listing.line_Items[0].product.flights[1].highestFlexEco:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"Return Trip"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].lowestFlexEco?e=digitalData.listing.line_Items[0].product.flights[0][0].lowestFlexEco+"-"+digitalData.listing.line_Items[0].product.flights[0][0].highestFlexEco+"|"+digitalData.listing.line_Items[0].product.flights[0][1].lowestFlexEco+"-"+digitalData.listing.line_Items[0].product.flights[0][1].highestFlexEco:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"Multicity"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].lowestFlexEco?e=digitalData.listing.line_Items[0].product.flights[0][0].lowestFlexEco+"-"+digitalData.listing.line_Items[0].product.flights[0][0].highestFlexEco:"One Way"==digitalData.listing.line_Items[0].product.flights[0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0].lowestFlexEco?e=digitalData.listing.line_Items[0].product.flights[0].lowestFlexEco+"-"+digitalData.listing.line_Items[0].product.flights[0].highestFlexEco:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"One Way"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].lowestFlexEco&&(e=digitalData.listing.line_Items[0].product.flights[0][0].lowestFlexEco+"-"+digitalData.listing.line_Items[0].product.flights[0][0].highestFlexEco))}catch(t){e=""}return e}}},"digitalData.basket.cash":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.basket.cash}}},"XDM | GlobalEvent":{cleanText:!0,modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{name:"%DL | Journey | pageName%",server:"%DL | Web | hostname%",_qantas:{site:"%JS | site%",pageURL:"%DL | Web | pageURL%",division:"%JS | division%",assetType:"%JS | assetType%",subCategory1:"%DL | Web | subCategory1 with Condition%",subCategory2:"%DL | Web | subCategory2 with Condition%",subCategory3:"%DL | Web | subCategory3 with Condition%",pageNameConcatenation:"%JS | pageName%"},siteSection:"%DL | Web | primaryCategory w Backup%"}},_qantas:{User:{qbrTier:"%DL | User | qbrTier%",qffTier:"%DL | User | qffTier%",loginState:"%QF_LOGINSTATUS%",hashedQffId:"%Cookie value:QF_VALUE%",businessYesNo:"%DL | User | businessYesNo%"},Event:{errorCode:"%DL | Event | errorCode%",eventType:"%DL | Event | eventType%",eventLabel:"%DL | Event | eventLabel%",eventAction:"%DL | Event | eventAction%",errorMessage:"%DL | Event | errorMessage%",eventCategory:"%DL | Event | eventCategory%",errorLocationUrl:"%DL | Event | errorLocationURL%",errorLocationStep:"%DL | Event | errorLocationStep%",errorLocationDetails:"%DL | Event | errorLocationDetails%"},Journey:{language:"%DL | Web | Language%",testCase:"%URL | testCase%",geoRegion:"%DL | Web | geoRegion%",reasonCode:"%DL | Journey | reasonCode%",journeyName:"%DL | Journey | journeyName%",journeyStep:"%DL | Journey | journeyStep%",urgencyToBook:"%DL | Journey | urgencyToBook%",datadogSessionID:"%Data Layer | Datadog Session ID%",purchaseFlowType:"%DL | Journey | purchaseFlowType%",qbrDealAvailable:"%DL | Journey | qbrDealAvailable%",disruptionDetails:"%DL | Journey | disruptionDetails%",flexibleWithDates:"%DL | Journey | flexibleWithDates%",hotelFilterDetails:"%DL | Journey | hotelFilterDetails%",journeyNameAndStep:"%DL | Journey | journeyNameAndStep%",classicRewardToggle:"%DL | Journey | classicRewardToggle%",flightDeparturePort:"%DL | Journey | FlightDeparturePort%",emailSubscriptionDetails:"%DL | Journey | emailSubscriptionDetails%",expressCheckoutAvailable:"%DL | Journey | expressCheckoutAvailable%",flightActionsAvailableMYB:"%DL | Journey | flightActionsAvailableMYB%",flightsCabinUpsellSelected:"%DL | Journey | flightsCabinUpsellSelected%",flightsHotelOfferAvailable:"%DL | Journey | flightsHotelOfferAvailable%",flightsCabinUpsellAvailable:"%DL | Journey | flightsCabinUpsellAvailable%",flightsCarHireOfferAvailable:"%DL | Journey | flightsCarHireOfferAvailable%",flightsCarbonOffsetAvailable:"%DL | Journey | flightsCarbonOffsetAvailable%",involuntaryFlightChangeModal:"%DL | Journey | involuntaryFlightChangeModal%",flightsSeatSelectionAvailable:"%DL | Journey | flightsSeatSelectionAvailable%",flightsTravelInsuranceAvailable:"%DL | Journey | flightsTravelInsuranceAvailable%",flightsAdditionalBaggageAvailable:"%DL | Journey | flightsAdditionalBaggageAvailable%"}},commerce:{order:{_qantas:{pppToggle:"%DL | Transaction | pppToggle%",promoCode:"%DL | Transaction | promoCode%",abnEntered:"%DL | Transaction | abnEntered%",siteOfficeId:"%DL | Transaction | siteOfficeId%",pppFlightCash:"%DL | Transaction | pppFlightCash%",bookingEndDate:"%DL | Transaction | bookingEndDate%",carHireDetails:"%DL | Transaction | carHireDetails%",flightsNetwork:"%DL | Transaction | flightsNetwork%",travelArranger:"%DL | Transaction | travelArranger%",ffNumberEntered:"%DL | Transaction | ffNumberEntered%",flightsTripType:"%DL | Transaction | flightsTripType%",pppFlightPoints:"%DL | Transaction | pppFlightPoints%",bookingStartDate:"%DL | Transaction | bookingStartDate%",carLoyaltyMember:"%DL | Transaction | carLoyaltyMember%",flightsCityPairs:"%DL | Web | flightsCityPairs with Condition%",flightsBookingType:"%DL | Transaction | flightsBookingType%",bookingDurationDays:"%DL | Transaction | bookingDurationDays%",flightsCabinClasses:"%DL | Transaction | flightsCabinClasses%",avisPreferredEntered:"%DL | Transaction | avisPreferredEntered%",frequentFlyerProgram:"%DL | Transaction | frequentFlyerProgram%",originalFlightDetails:"%DL | Transaction | originalFlightDetails%",proposedFlightDetails:"%DL | Transaction | proposedFlightDetails%",transactionPointsUsed:"%DL | Transaction | transactionPointsUsed%",flightOptionsPresented:"%DL | Transaction | flightOptionsPresented%",flightsDomesticSectors:"%DL | Transaction | flightsDomesticSectors%",flightsNumberOfSectors:"%DL | Transaction | flightsNumberOfSectors%",flightsQbrDealAvailable:"%DL | Transaction | flightsQbrDealAvailable%",flightsCountryOfDeparture:"%DL | Transaction | flightsCountryOfDeparture%",flightsNumberOfPassengers:"%DL | Transaction | flightsNumberOfPassengers%",flightsPassengerComposition:"%DL | Transaction | flightsPassengerComposition%",flightsExpressCheckoutSelected:"%DL | Transaction | flightsExpressCheckoutSelected%",flightsExpressCheckoutAvailable:"%DL | Transaction | flightsExpressCheckoutAvailable%"},purchaseID:"%DL | Journey | qantasBookingReference%",currencyCode:"%DL | Transaction | Currency w Backup%"}},marketing:{trackingCode:"%URL | altcam%"},_experience:{analytics:{event1to100:{event11:{value:"%DL | Web | Dangerous Goods Indication 'Y'%"},event12:{value:"%DL | Web | Dangerous Goods Indication 'N'%"},event51:{value:"%DL | Transaction | pppFlightCash%"},event52:{value:"%DL | Transaction | pppFlightPoints%"},event53:{value:"%DL | Journey | impactedFlight%"},event54:{value:"%DL | Journey | nonImpactedFLight%"}},customDimensions:{eVars:{eVar1:"%JS | division%",eVar2:"%JS | assetType%",eVar3:"%DL | Web | subCategory1 with Condition%",eVar4:"%DL | Web | subCategory2 with Condition%",eVar5:"%DL | Journey | pageName%",eVar6:"%DL | Web | subCategory3 with Condition%",eVar8:"%DL | User | businessYesNo%",eVar10:"%DL | User | qbrTier%",eVar11:"%Cookie value:QF_VALUE%",eVar12:"%DL | User | qffTier%",eVar13:"%DL | Event | errorCode%",eVar14:"%DL | Event | errorMessage%",eVar15:"%DL | Event | errorLocationDetails%",eVar16:"%DL | Event | eventAction%",eVar17:"%DL | Event | eventCategory%",eVar18:"%DL | Event | eventLabel%",eVar19:"%DL | Event | eventType%",
eVar20:"%DL | Journey | classicRewardToggle%",eVar21:"%DL | Journey | emailSubscriptionDetails%",eVar22:"%DL | Journey | expressCheckoutAvailable%",eVar23:"%DL | Journey | flexibleWithDates%",eVar24:"%DL | Journey | flightsAdditionalBaggageAvailable%",eVar25:"%DL | Journey | flightsCabinUpsellAvailable%",eVar26:"%DL | Journey | flightsCabinUpsellSelected%",eVar27:"%DL | Journey | flightsCarbonOffsetAvailable%",eVar28:"%DL | Journey | flightsCarHireOfferAvailable%",eVar29:"%DL | Journey | flightsHotelOfferAvailable%",eVar30:"%DL | Journey | flightsSeatSelectionAvailable%",eVar31:"%DL | Journey | flightsTravelInsuranceAvailable%",eVar32:"%DL | Journey | hotelFilterDetails%",eVar33:"%DL | Journey | journeyName%",eVar34:"%DL | Journey | journeyStep%",eVar35:"%QF_LOGINSTATUS%",eVar36:"%JS | journeyNameAndStep%",eVar37:"%DL | Web | pageURL%",eVar38:"%DL | Journey | purchaseFlowType%",eVar39:"%DL | Journey | qbrDealAvailable%",eVar40:"%DL | Journey | referringUrl%",eVar41:"%DL | Journey | urgencyToBook%",eVar44:"%DL | Transaction | carHireDetails%",eVar71:"%DL | Transaction | abnEntered%",eVar72:"%DL | Transaction | avisPreferredEntered%",eVar73:"%DL | Transaction | bookingDurationDays%",eVar74:"%DL | Transaction | bookingEndDate%",eVar75:"%DL | Transaction | bookingStartDate%",eVar76:"%DL | Transaction | carLoyaltyMember%",eVar77:"%DL | Transaction | ffNumberEntered%",eVar78:"%DL | Transaction | flightsBookingType%",eVar79:"%DL | Transaction | flightsCabinClasses%",eVar80:"%DL | Web | flightsCityPairs with Condition%",eVar81:"%DL | Transaction | flightsCountryOfDeparture%",eVar82:"%DL | Transaction | flightsDomesticSectors%",eVar83:"%DL | Transaction | flightsNetwork%",eVar84:"%DL | Transaction | flightsNumberOfPassengers%",eVar85:"%DL | Transaction | flightsNumberOfSectors%",eVar86:"%DL | Transaction | flightsPassengerComposition%",eVar87:"%DL | Web | tripType with Condition%",eVar88:"%DL | Transaction | frequentFlyerProgram%",eVar89:"%DL | Transaction | paymentCardUsed%",eVar90:"%DL | Transaction | paymentMethod%",eVar91:"%DL | Transaction | paymentType%",eVar94:"%DL | Transaction | pppToggle%",eVar95:"%DL | Transaction | promoCode%",eVar96:"%DL | Transaction | siteOfficeId%",eVar97:"%DL | Transaction | Currency w Backup%",eVar101:"%DL | Transaction | travelArranger%",eVar102:"%URL | testCase%",eVar104:"%URL | int_cam%",eVar105:"%DL | Web | cleanURL%",eVar106:"%DL | Web | geoRegion%",eVar107:"%DL | Web | Language%",eVar110:"%DL | Journey | disruptionDetails%",eVar111:"%DL | Journey | flightActionsAvailableMYB%",eVar112:"%DL | Journey | involuntaryFlightChangeModal%",eVar113:"%DL | Transaction | flightOptionsPresented%",eVar114:"%DL | Transaction | originalFlightDetails%",eVar115:"%DL | Transaction | proposedFlightDetails%",eVar120:"%DL | Journey | FlightDeparturePort%",eVar121:"%DL | Journey | reasonCode%",eVar122:"%ECID%",eVar135:"%Data Layer | Datadog Session ID%",eVar136:"%URL | testCase%",eVar140:"%DL | Web | Entry cleanURL%",eVar153:"%DL | Transaction | flightsExpressCheckoutSelected%"},props:{prop6:"%DL | Journey | journeyName%",prop7:"%DL | Journey | journeyStep%",prop8:"%DL | Event | eventCategory%",prop9:"%DL | Event | eventAction%",prop10:"%DL | Event | eventLabel%",prop11:"%DL | Event | eventType%",prop12:"%JS | assetType%",prop20:"%DL | Web | subCategory1 with Condition%",prop21:"%DL | Web | subCategory2 with Condition%",prop22:"%DL | Web | subCategory3 with Condition%"},listProps:{prop5:{values:"%DL | Journey | receiptsUploaded%"}}}}},siteKnowledge:{supportSiteSearch:{term:"%siteSearchString%"}}},sandbox:{name:"prod"}}},"DL | Event | eventType":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.eventType%"}},"digitalData.myb.listing.currency":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.listing.currency"}},"digitalData.event.attributes.errorType":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("error"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.errorType}}},"digitalData.event.attributes.flightDisplayIndex":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("addToCart"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.flightDisplayIndex}}},"DL | Journey | hotelFilterDetails":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=e.detail.analyticsData.journey.hotelFilterRatings,a=[e.detail.analyticsData.journey.hotelFilterAmenities,t,e.detail.analyticsData.journey.hotelListingSort,e.detail.analyticsData.journey.hotelScreen].map((e=>void 0!==e?e:"")).join("|");return"|||"==a?null:a}}},"Data Layer | PNR":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.PNR%"}},"dataLayer.bookingFlow.CONF.bookingTime":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("undefined"!=typeof digitalData&&void 0!==digitalData.event[0])return digitalData.event[0].eventInfo.timeStamp}}},"DL | Journey | involuntaryFlightChangeModal":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.involuntaryFlightChangeModal%"}},is_TTD_tag:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return/country#ID/i.test(_satellite.cookie.get("usercontext"))||/country#PH/i.test(_satellite.cookie.get("usercontext"))||/country#TH/i.test(_satellite.cookie.get("usercontext"))||/country#SG/i.test(_satellite.cookie.get("usercontext"))}}},"XDM | AddBagSelection":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{type:"other",linkClicks:{value:1}}},_experience:{analytics:{event1to100:{event58:{value:1}}}}},sandbox:{name:"prod"}}},digitalData_bonus_offer:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=$QantasTag.getCustomEvents("specialOfferSelect");if(void 0!==e&&void 0!==e.attributes)return e.bonusOffered+"|"+speacialOfferSelect.bonusSelected}catch(e){_satellite.notify("Error thrown while getting bonus offer",1)}}}},digitalData_listing_item_flights_noOfChildren:{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items){var e="0";return digitalData.listing.line_Items.forEach((function(t){t.product&&t.product.flights&&(void 0!==t.product.flights[0].children?e=t.product.flights[0].children:void 0!==t.product.flights[0][0].children&&(e=t.product.flights[0][0].children))})),e}}}},digitalData_ff_claim_details:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.event){var e=digitalData.event[digitalData.event.length-1];if("claimMissingPoints"===e.eventInfo.eventName){var t="";return t=(t=(t+=void 0!==e.attributes.frequentFlyerNumber?e.attributes.frequentFlyerNumber:"")+"|"+(void 0!==e.attributes.marketedFlightNumber?e.attributes.marketedFlightNumber:""))+"|"+(void 0!==e.attributes.departureDate?e.attributes.departureDate:"")}}}}},"Data Layer | Page URL":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"analyticsData.detail.analyticsData.journey.pageUrl"}},"payment-beforepromo":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.transaction.line_Items[digitalData.transaction.line_Items.length-1].subTotal}}},pageURL:{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"url"}},OneTrustAdobe_previousPermissions:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={aam:!0,adcloud:!0,aa:!0,ecid:!0,target:!0,videoaa:!0},t=_satellite.getVar("OneTrustFlag");return"string"==typeof t&&""!==t&&(-1==t.indexOf(",2,")&&(e.aa=!1,e.videoaa=!1),-1==t.indexOf(",3,")&&(e.target=!1),-1==t.indexOf(",4,")&&(e.aam=!1,e.adcloud=!1),-1==t.indexOf(",2,")&&-1==t.indexOf(",3,")&&-1==t.indexOf(",4,")&&(e.ecid=!1)),e}}},"DL | Journey | disruptionDetails":{cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=[e.detail.analyticsData.journey.disruptionType,e.detail.analyticsData.journey.disruptionDate,e.detail.analyticsData.journey.disruptionTime].map((e=>void 0!==e?e:"")).join("|");return"||"==t?null:t}}},"DL | Transaction | paymentMethod":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.paymentMethod%"}},"digitalData.basket.changeType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalData.basket.changeType"}},"DL | Journey | emailSubscriptionOptIn":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.emailSubscriptionOptIn%"}},Q_sampleid:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Q_ecid")||0;return"number"==typeof e?e%10:e.toString().slice(-1)}}},"Data Layer | Classic Rewards":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.classicRewardToggle%"}},digitalData_transaction_daysToDeparture:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=digitalData.transaction.daysToDeparture;return e<=0?"0":e}}},"digitalData.bookingFlow.select.viewIn":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return digitalData.event[digitalData.event.length-1].attributes.viewIn}}},Q_tabid:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"tab_id",caseInsensitive:!0}},digitalData_listing_busFares:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";try{void 0!==digitalData.listing.line_Items[0].product.flights[0]&&("Return Trip"==digitalData.listing.line_Items[0].product.flights[0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0].lowestRestricBusiness?e=digitalData.listing.line_Items[0].product.flights[0].lowestRestricBusiness+"-"+digitalData.listing.line_Items[0].product.flights[0].highestRestricBusiness+"|"+digitalData.listing.line_Items[0].product.flights[1].lowestRestricBusiness+"-"+digitalData.listing.line_Items[0].product.flights[1].highestRestricBusiness:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"Return Trip"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricBusiness?e=digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricBusiness+"-"+digitalData.listing.line_Items[0].product.flights[0][0].highestRestricBusiness+"|"+digitalData.listing.line_Items[0].product.flights[0][1].lowestRestricBusiness+"-"+digitalData.listing.line_Items[0].product.flights[0][1].highestRestricBusiness:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"Multicity"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricBusiness?e=digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricBusiness+"-"+digitalData.listing.line_Items[0].product.flights[0][0].highestRestricBusiness:"One Way"==digitalData.listing.line_Items[0].product.flights[0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0].lowestRestricBusiness?e=digitalData.listing.line_Items[0].product.flights[0].lowestRestricBusiness+"-"+digitalData.listing.line_Items[0].product.flights[0].highestRestricBusiness:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"One Way"==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&void 0!==digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricBusiness&&(e=digitalData.listing.line_Items[0].product.flights[0][0].lowestRestricBusiness+"-"+digitalData.listing.line_Items[0].product.flights[0][0].highestRestricBusiness))}catch(t){e=""}return e}}},"Booking Engine Site Type":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=digitalData.page.pageInfo.destinationURL.split("?")[1];return new URLSearchParams(e).get("SITE")}}},"digitalData.multiCurrencySelection":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("multiCurrencyPricing"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes.baseCurrency+"|"+digitalData.event[digitalData.event.length-1].attributes.selectedCurrency+"|"+digitalData.event[digitalData.event.length-1].attributes.exchangeRate}}},"digitalData.servicingFlow.SEAT.seatSelection":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e=digitalData.event[digitalData.event.length-1].line_items,t="",a=0;a<e.length;a++){var n=e[a].product.seats[0];a>0&&(t+=","),t+=";Seats:Manage:"+n.seatType+"|"+n.departureAirportCode+"-"+n.arrivalAirportCode+"|"+n.seatPrice+";1;;;"}return t}catch(e){return""}}}},"DL | Web | Language":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.language%"}},digitalData_tabComponent:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){if(digitalData&&void 0!==digitalData.event&&null!=(e=digitalData.event[digitalData.event.length-1])&&void 0!==e.eventInfo&&"TabComponentClick"===e.eventInfo.eventName&&void 0!==e.attributes&&void 0!==e.attributes.tabName&&null!=e.attributes.tabName)return window.location.pathname+"|"+e.attributes.tabName.trim()}}},"digitalData.bookingFlow.flight.departureRegion":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.transaction.line_Items[0].product.flights[0].departureRegion)return digitalData.transaction.line_Items[0].product.flights[0].departureRegion}}},"Cookie | Previous Page URL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return getPreviousValue(window.location.hostname+window.location.pathname.split(/;| |,|#|\?/)[0],"gpv_URL")}}},"Storage | QF_LOGINSTATE":{defaultValue:"not logged in",storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.localStorage.getItem("QF_LOGINSTATE")}}},"Data Layer | Label":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.eventLabel%"}},digitalData_basket_methodOfPay:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(void 0!==digitalData.basket&&void 0!==digitalData.basket.methodOfPay)return digitalData.basket.methodOfPay}}},digitalData_exposedBaseFacts_customerType:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==digitalData.exposedBaseFacts&&void 0!==digitalData.exposedBaseFacts.isSMELoggedIn&&digitalData.exposedBaseFacts.isSMELoggedIn?"SME":""}}},"digitalData.Error.Event.Book.Code":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalData&&digitalData.event){var e=digitalData.event[digitalData.event.length-2];if(void 0!==e&&void 0!==e.eventInfo)return e.eventInfo.eventName.match(/.*(bookingEngineFail).*/g)?e.eventInfo.errorCode:"Success"}}}},"botRule ":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"==typeof navigator||"string"!=typeof navigator.userAgent||!/.*(bot|gomezagent|HeadlessChrome|baidu|bingpreview|catchpoint|googlebot|crawler|spider|robot|crawling).*/i.test(navigator.userAgent)}}},"DL | Journey | CancellationType":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.cancellationType%"}},"digitalData.bookingFlow.FDRF.PPPChangePoints":{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("pointsPlusPaySelection"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].attributes[0].changePoints}}},"DL | Transaction | flightsNetwork":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsNetwork%"}},"DL | Transaction | flightsNumberOfSectors":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.flightsNumberOfSectors%"}},alt_cam:{defaultValue:"",forceLowerCase:!0,cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"alt_cam",caseInsensitive:!0}},digitalData_Carbon_CityPair:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";return digitalData.transaction.line_Items.forEach((function(t,a){t.product&&t.product.flights&&(a>0&&(e+="|"),t.product.flights.length,t.product.flights.forEach((function(t,a){a>0&&(e+="|"),void 0!==t.departureAirportCode&&(e+=t.departureAirportCode+"-",e+=t.arrivalAirportCode)})),-1!=e.indexOf("AVV|MEL")&&(e=e.replace(/AVV\|MEL/g,"MEL")))})),e}}},"digitalData.bookingFlow.basket.flights[0].travelTripType":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0!==digitalData.basket.line_Items[0].product.flights[0].travelTripType?digitalData.basket.line_Items[0].product.flights[0].travelTripType:void 0!==digitalData.basket.line_Items[0].product.flights[0][0].travelTripType?digitalData.basket.line_Items[0].product.flights[0][0].travelTripType:void 0}}},"DL | Web | subCategory3 (q.com)":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.journey.subCategory3%"}},"Optimizely Experiment":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{_experience:{analytics:{customDimensions:{eVars:{eVar150:"%OptimizelyInfo%"}}}}},sandbox:{name:"prod"}}},"DL | Event | errorLocationURL":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.event.errorLocationUrl%"}},"DL | Transaction | carLoyaltyMember":{cleanText:!0,modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"%event.detail.analyticsData.transaction.carLoyaltyMember%"}},"XDM | Merge | GlobalNavNonDropdownClick + GlobalEvent":{modulePath:"core/src/lib/dataElements/mergedObjects.js",settings:{objects:["%XDM | GlobalEvent%","%XDM | GlobalNavNonDropdownClick%"]}},"DL | Web | cleanURL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("DL | Web | hostname")+_satellite.getVar("DL | Web | pathname")}}},"digitalData.event.attributes.error":{defaultValue:"",forceLowerCase:!0,cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("creditVoucherFail"==digitalData.event[digitalData.event.length-1].eventInfo.eventName)return digitalData.event[digitalData.event.length-1].eventInfo.module+"|"+digitalData.event[digitalData.event.length-1].attributes.errorMessage}}}},extensions:{"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current//a086326e8d0e/74a65f9f5676/ef0515915a0f/hostedLibFiles/EP308220a2a4c4403f97fc1960100db40f/",settings:{orgId:"11B20CF953F3626B0A490D44@AdobeOrg",customSetup:{source:function(e){return window.s&&e.ActivityMap&&(e.ActivityMap.regionExclusions="header,fflyer-details,login-ribbon,login-div,root,header,specialRequestTravellersTable,common,ff-details,details-name,name,profile-information-top,login-ribbon__soft-identity-name,login-div",e.ActivityMap.linkExclusions="login-div,login-ribbon__details,ff-details,login-ribbon__details--cloak-mobile,details-name,name,profile-information-top,login-ribbon__label,login-ribbon__details login-ribbon__details--cloak-mobile,login-ribbon__button,login-ribbon__button--closed,login-ribbon__button--logged-in"),"object"==typeof e.ActivityMap&&(e.ActivityMap.link=function(){return!1}),e.trackInlineStats=!1,null!=window.location&&null!=window.location.href&&(-1!=window.location.href.indexOf("qf-booking/dyn/air/booking/GERR")||-1!=window.location.href.indexOf("/qf-booking/dyn/air/booking/FSDC"))||(null==window.location||null==window.location.href||!window.location.href.match(/.*(\/qf-booking\/|\/qf-mybooking\/|\/checkin\/olci\/|\/earning-points\/cards-banking\/compare-credit-cards.html).*/))&&("undefined"==typeof navigator||"string"!=typeof navigator.userAgent||!/.*(bot|gomezagent|HeadlessChrome|baidu|bingpreview|catchpoint|googlebot|crawler|spider|robot|crawling).*/i.test(navigator.userAgent))&&void 0}},libraryCode:{type:"custom",source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/EX010e31ff23d14e68aee10fb4133cd463-libraryCode_source.min.js",trackerVariableName:"s"},trackerProperties:{charSet:"UTF-8",currencyCode:"AUD",trackInlineStats:!0,trackDownloadLinks:!1,trackExternalLinks:!0,linkExternalFilters:["%linkExternalFilters%","kogan.com","petstock.com.au","alex.bank","smartleasing.com.au","latrobefinancial.com.au","americanexpress.com","herschel.com.au","hoyts.com","avalonwaterways.com","miga.com","redenergy.com","audika.com","hellofresh.com","youfoodz.com","solargain.com","fortywinks.com","everyday-rewards.com","bp.com","luxaflex.com","platypusshoes.com","skechers.com","theatheletesfoot.com","stylerunner.com","drmartens.com","carpetcourt.com","hypedc"]}},modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/getTracker"),i=a("../helpers/applyTrackerVariables");e.exports=function(e,t){return r().then((function(a){n.logger.info("Set variables on the tracker."),i(a,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(t.element,t,a)}),(function(e){n.logger.error("Cannot set variables: "+e)}))}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/getTracker"),i=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},o=function(e){return i(e)?e.innerHTML:"link clicked"},s=function(e,t,a){if("page"===t.type)n.logger.info("Firing page view beacon."),e.t();else{var r={linkType:t.linkType||"o",linkName:t.linkName||o(a)};n.logger.info("Firing link track beacon using the values: "+JSON.stringify(r)+"."),e.tl(i(a)?a:"true",r.linkType,r.linkName)}};e.exports=function(e,t){return r().then((function(a){s(a,e,t.element)}),(function(e){n.logger.error("Cannot send beacon: "+e)}))}}},"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/getTracker");e.exports=function(){return r().then((function(e){e.clearVars&&(n.logger.info("Clear variables."),e.clearVars())}),(function(e){n.logger.error("Cannot clear variables: "+e)}))}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,a,n){"use strict";var r,i=a("@adobe/reactor-cookie"),o=a("@adobe/reactor-promise"),s=a("@adobe/reactor-window"),l=a("../helpers/augmenters"),c=a("@adobe/reactor-load-script"),u=a("../helpers/applyTrackerVariables"),d=a("../helpers/loadLibrary"),g=a("../helpers/generateVersion")(n.buildInfo.turbineBuildDate),p="beforeSettings",m=n.getSharedModule("adobe-mcid","mcid-instance"),f=function(e){return!e||"true"===i.get(e)},v=function(e){return o.all(l.map((function(t){var a;try{a=t(e)}catch(e){setTimeout((function(){throw e}))}return o.resolve(a)}))).then((function(){return e}))},h=function(e){return m&&(n.logger.info("Setting MCID instance on the tracker."),e.visitor=m),e},b=function(e){return n.logger.info('Setting version on tracker: "'+g+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=g:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+g&&(e.version+="-"+g),e},y=function(e,t,a){return t.loadPhase===p&&t.source&&(n.logger.info("Calling custom script before settings."),t.source.call(s,a)),u(a,e||{}),t.loadPhase!==p&&t.source&&(n.logger.info("Calling custom script after settings."),t.source.call(s,a)),a},D=function(e,t){var a=e.moduleProperties;if(a&&a.audienceManager&&a.audienceManager.config&&s._satellite&&s._satellite.company&&s._satellite.company.orgId){var r={namespace:s._satellite.company.orgId};a.audienceManager.config.visitorService=r;var i="AppMeasurement_Module_AudienceManagement.js",o=n.getHostedLibFileUrl(i);return c(o).then((function(){return t.loadModule("AudienceManagement"),n.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(a.audienceManager.config),t}))}return t},_=(r=n.getExtensionSettings(),f(r.trackingCookieName)?d(r).then(v).then(h).then(b).then(y.bind(null,r.trackerProperties,r.customSetup||{})).then(D.bind(null,r)):o.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return _}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,a){"use strict";var n=a("../helpers/augmenters");e.exports=function(e){n.push(e)}}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-query-string"),i=a("@adobe/reactor-window"),o=/eVar([0-9]+)/,s=/prop([0-9]+)/,l=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),c=function(e,t,a){return a.indexOf(e)===t},u=function(e,t,a){var n=Object.keys(t).filter(l.test.bind(l));return a&&n.push("events"),(n=n.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&c(e,t,n)})).join(",")},d=function(e,t){var a=t.map((function(e){return e.name}));return(a=a.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&c(e,t,a)})).join(",")},g=function(e,t,a){e[t]=a[t].join(",")},p=function(e,t,a){var n=a.dynamicVariablePrefix||"D=";a[t].forEach((function(t){var a;if("value"===t.type)a=t.value;else{var r=o.exec(t.value);if(r)a=n+"v"+r[1];else{var i=s.exec(t.value);i&&(a=n+"c"+i[1])}}e[t.name]=a}))},m={linkDownloadFileTypes:g,linkExternalFilters:g,linkInternalFilters:g,hierarchies:function(e,t,a){a[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:p,eVars:p,campaign:function(e,t,a){if("queryParam"===a[t].type){var n=r.parse(i.location.search);e[t]=n[a[t].value]}else e[t]=a[t].value},events:function(e,t,a){var n=a[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=n.join(",")}};e.exports=function(e,t){var a={};t=t||{},Object.keys(t).forEach((function(e){var n=m[e],r=t[e];n?n(a,e,t):a[e]=r})),a.events&&e.events&&e.events.length>0&&(a.events=e.events+","+a.events);var r=t&&t.events&&t.events.length>0,i=u(e,a,r);i&&(a.linkTrackVars=i);var o=d(e,t.events||[]);o&&(a.linkTrackEvents=o),n.logger.info('Applying the following properties on tracker: "'+JSON.stringify(a)+'".'),Object.keys(a).forEach((function(t){e[t]=a[t]}))}}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-load-script"),i=a("@adobe/reactor-window"),o=a("@adobe/reactor-promise"),s={MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},l=function(e){return n.logger.info("Loading AppMeasurement script from: "+e+"."),r(e)},c=function(e){var t=e.production;return e[n.buildInfo.environment]&&(t=e[n.buildInfo.environment]),t.join(",")},u=function(e,t){if(!i.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+i.AppMeasurement);n.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var a=i.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(n.logger.info("Setting the tracker as window.s"),i.s=a),a},d=function(e){var t=c(e.libraryCode.accounts);return l(n.getHostedLibFileUrl("AppMeasurement.js")).then(u.bind(null,e,t))},g=function(e,t){if(e.libraryCode.accounts)if(t.sa){var a=c(e.libraryCode.accounts);n.logger.info('Setting the following report suites on the tracker: "'+a+'"'),t.sa(a)}else n.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},p=function(e){return n.logger.info('Waiting for the tracker to become accessible at: "'+e+'".'),new o((function(t,a){var r=1,o=setInterval((function(){i[e]&&(n.logger.info('Found tracker located at: "'+e+'".'),t(i[e]),clearInterval(o)),r>=10&&(clearInterval(o),a(new Error('Bailing out. Cannot find the global variable name: "'+e+'".'))),r++}),1e3)}))},m=function(e){return p(e.libraryCode.trackerVariableName).then(g.bind(null,e))},f=function(e){if(i[e])return n.logger.info('Found tracker located at: "'+e+'".'),i[e];throw new Error('Cannot find the global variable name: "'+e+'".')},v=function(e,t){return l(e).then(f.bind(null,t.libraryCode.trackerVariableName)).then(g.bind(null,t))};e.exports=function(e){var t,a;switch(e.libraryCode.type){case s.MANAGED:a=d(e);break;case s.PREINSTALLED:a=m(e);break;case s.CUSTOM:t=e.libraryCode.source,a=v(t,e);break;case s.REMOTE:t="https:"===i.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl,a=v(t,e);break;default:throw new Error("Cannot load library. Type not supported.")}return a}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,a=function(e){return e.getUTCDate().toString(36)},n=function(e){return e.substr(e.length-1)},r=function(e){return Math.floor(e.getUTCHours()/t)},i=function(e){var t=(e.getUTCMonth()+1+12*r(e)).toString(36);return n(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+i(t)+a(t)).toUpperCase()}}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current//a086326e8d0e/74a65f9f5676/ef0515915a0f/hostedLibFiles/EPf83a38d6d03b44f08b465a6d63b6bbe3/",settings:{orgId:"11B20CF953F3626B0A490D44@AdobeOrg",variables:[{name:"cookieDomain",value:"%cookieDomain%"},{name:"takeTimeoutMetrics",value:"%takeTimeoutMetrics%"},{name:"overwriteCrossDomainMCIDAndAID",value:"true"},{name:"resetBeforeVersion",value:"2.0.0"},{name:"trackingServer",value:"mtc.qantas.com"},{name:"trackingServerSecure",value:"smtc.qantas.com"},{name:"marketingCloudServer",value:"mtc.qantas.com"},{name:"marketingCloudServerSecure",value:"smtc.qantas.com"},{name:"secureCookie",value:"true"}],doesOptInApply:!0,previousPermissions:"%OneTrustAdobe_previousPermissions_Launch%",isOptInStorageEnabled:!1,preOptInApprovalInput:"%OneTrustAdobe_preOptInApprovalsConfig_Launch%"},modules:{"adobe-mcid/src/lib/dataElements/ecid.js":{name:"ecid",displayName:"ECID",
script:function(e,t,a){"use strict";var n;a("../sharedModules/mcidInstance").getMarketingCloudVisitorID((function(e){n=e}),!0),e.exports=function(){return n}}},"adobe-mcid/src/lib/actions/setCustomerIds.js":{name:"set-customer-ids",displayName:"Set Customer IDs",script:function(e,t,a,n){"use strict";var r=a("../sharedModules/mcidInstance"),i=n.logger,o=function(e){return"string"==typeof e&&e.length>0},s=function(e){var t={},a=[];return e.forEach((function(e){var n=e.integrationCode,r=e.value;o(n)&&o(r)?(t[n]={id:r},e.hasOwnProperty("authState")&&(t[e.integrationCode].authState=e.authState),e.hasOwnProperty("hashType")&&(t[e.integrationCode].hashType=e.hashType)):a.push(e)})),a.length&&i.warn("Rejected these customer ids: "+JSON.stringify(a)),t};e.exports=function(e){if(r){var t=s(e.customerIds);r.setCustomerIDs(t),i.info("Set Customer IDs: "+JSON.stringify(t))}else i.warn("MCID instance cannot be found. Cannot set Customer IDs.")}}},"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-document"),i=a("../codeLibrary/VisitorAPI"),o=a("../../view/utils/timeUnits"),s=function(e){return e.reduce((function(e,t){var a=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=a,e}),{})},l=function(e){var t=n.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var a=s(t.variables||[]),r=t.doesOptInApply;r&&("boolean"==typeof r?a.doesOptInApply=r:t.optInCallback&&(a.doesOptInApply=t.optInCallback));var i=t.isOptInStorageEnabled;i&&(a.isOptInStorageEnabled=i);var l=t.optInCookieDomain;l&&(a.optInCookieDomain=l);var c=t.optInStorageExpiry;if(c){var u=t.timeUnit;if(u&&o[u]){var d=c*o[u];a.optInStorageExpiry=d}}else!0===i&&(a.optInStorageExpiry=33696e3);var g=t.previousPermissions;g&&(a.previousPermissions=g);var p=t.preOptInApprovals;if(p)a.preOptInApprovals=p;else{var m=t.preOptInApprovalInput;m&&(a.preOptInApprovals=m)}var f=t.isIabContext;f&&(a.isIabContext=f);var v=e.getInstance(t.orgId,a);return n.logger.info('Created instance using orgId: "'+t.orgId+'"'),n.logger.info("Set variables: "+JSON.stringify(a)),v.getMarketingCloudVisitorID((function(e){n.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),v},c=function(e){return(n.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},u=null;_satellite.getVisitorId=function(){return u},c(r.location.pathname)?n.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):u=l(i),e.exports=u},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function a(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var a=this.callbacks[e].push(t)-1,n=this;return function(){n.callbacks[e].splice(a,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var a=this.callbacks[e].shift();"function"==typeof a?a.apply(null,t):a instanceof Array&&a[1].apply(a[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!j.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var a=void 0!==e[t]?e[t]:"";this.execute(t,a)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function n(e,t,a){var n=null==e?void 0:e[t];return void 0===n?a:n}function r(e){for(var t=/^\d+$/,a=0,n=e.length;a<n;a++)if(!t.test(e[a]))return!1;return!0}function i(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var a=0;a<e.length;a++){var n=parseInt(e[a],10),r=parseInt(t[a],10);if(n>r)return 1;if(r>n)return-1}return 0}function s(e,t){if(e===t)return 0;var a=e.toString().split("."),n=t.toString().split(".");return r(a.concat(n))?(i(a,n),o(a,n)):NaN}function l(e){return e===Object(e)&&0===Object.keys(e).length}function c(e){return"function"==typeof e||e instanceof Array&&e.length}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=le("log",e,t),this.warn=le("warn",e,t),this.error=le("error",e,t)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isEnabled,a=e.cookieName,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;return t&&a&&n?{remove:function(){n.remove(a)},get:function(){var e=n.get(a),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{},n.set(a,JSON.stringify(e),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}}:{get:_e,set:_e,remove:_e}}function g(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function p(){function e(e,t){var a=de(e);return a.length?a.every((function(e){return!!t[e]})):ge(t)}function t(){T(w),P(ee.COMPLETE),v(f.status,f.permissions),m.set(f.permissions,{optInCookieDomain:l,optInStorageExpiry:c}),h.execute(Ee)}function a(e){return function(a,n){if(!pe(a))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return P(ee.CHANGED),Object.assign(w,me(de(a),e)),n||t(),f}}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.doesOptInApply,i=n.previousPermissions,o=n.preOptInApprovals,s=n.isOptInStorageEnabled,l=n.optInCookieDomain,c=n.optInStorageExpiry,u=n.isIabContext,g=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,p=Ce(i);ke(p,"Invalid `previousPermissions`!"),ke(o,"Invalid `preOptInApprovals`!");var m=d({isEnabled:!!s,cookieName:"adobeujs-optin"},{cookies:g}),f=this,v=Z(f),h=ie(),b=he(p),y=he(o),D=m.get(),_={},C=function(e,t){return be(e)||t&&be(t)?ee.COMPLETE:ee.PENDING}(b,D),k=function(e,t,a){var n=me(re,!r);return r?Object.assign({},n,e,t,a):n}(y,b,D),w=fe(k),P=function(e){return C=e},T=function(e){return k=e};f.deny=a(!1),f.approve=a(!0),f.denyAll=f.deny.bind(f,re),f.approveAll=f.approve.bind(f,re),f.isApproved=function(t){return e(t,f.permissions)},f.isPreApproved=function(t){return e(t,y)},f.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?f.on(ee.COMPLETE,e):_e;return!r||r&&f.isComplete||o?e(f.permissions):t||h.add(Ee,(function(){return e(f.permissions)})),a},f.complete=function(){f.status===ee.CHANGED&&t()},f.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Ie);_[e.name]||(_[e.name]=e,e.onRegister.call(e,f))},f.execute=Te(_),Object.defineProperties(f,{permissions:{get:function(){return k}},status:{get:function(){return C}},Categories:{get:function(){return te}},doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return f.status===ee.PENDING}},isComplete:{get:function(){return f.status===ee.COMPLETE}},__plugins:{get:function(){return Object.keys(_)}},isIabContext:{get:function(){return u}}})}function m(e,t){function a(){r=null,e.call(e,new g("The call took longer than you wanted!"))}function n(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(a,t);return n}function f(){if(window.__cmp)return window.__cmp;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__cmpLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var a={};return window.__cmp=function(e,n,r){var i=Math.random()+"",o={__cmpCall:{command:e,parameter:n,callId:i}};a[i]=r,t.postMessage(o,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__cmpReturn){var n=t.__cmpReturn;a[n.callId]&&(a[n.callId](n.returnValue,n.success),delete a[n.callId])}}),!1),window.__cmp}ce.error("__cmp not found")}else ce.error("__cmp not found")}function v(){var e=this;e.name="iabPlugin",e.version="0.0.1";var t=ie(),a={allConsentData:null},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a[e]=t};e.fetchConsentData=function(e){var t=m(e.callback,e.timeout);r({callback:t})},e.isApproved=function(e){var t=e.callback,n=e.category,i=e.timeout;if(a.allConsentData)return t(null,s(n,a.allConsentData.vendorConsents,a.allConsentData.purposeConsents));var o=m((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.vendorConsents,i=a.purposeConsents;t(e,s(n,r,i))}),i);r({category:n,callback:o})},e.onRegister=function(t){var a=Object.keys(ae),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.purposeConsents,i=n.gdprApplies,o=n.vendorConsents;!e&&i&&o&&r&&(a.forEach((function(e){var a=s(e,o,r);t[a?"approve":"deny"](e,!0)})),t.complete())};e.fetchConsentData({callback:n})};var r=function(e){var r=e.callback;if(a.allConsentData)return r(null,a.allConsentData);t.add("FETCH_CONSENT_DATA",r);var s={};o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.purposeConsents,o=e.gdprApplies,l=e.vendorConsents;(arguments.length>1?arguments[1]:void 0)&&n("allConsentData",s={purposeConsents:r,gdprApplies:o,vendorConsents:l}),i((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0)&&(s.consentString=e.consentData,n("allConsentData",s)),t.execute("FETCH_CONSENT_DATA",[null,a.allConsentData])}))}))},i=function(e){var t=f();t&&t("getConsentData",null,e)},o=function(e){var t=Pe(ae),a=f();a&&a("getVendorConsents",t,e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!!t[ae[e]]&&ne[e].every((function(e){return a[e]}))}}var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,a,n=1;n<arguments.length;++n)for(t in a=arguments[n])Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e};var b,y,D={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"}},_=D.STATE_KEYS_MAP,C=function(e){function t(){}function a(t,a){var n=this;return function(){var r=e(0,t),i={};return i[t]=r,n.setStateAndPublish(i),a(r),r}}this.getMarketingCloudVisitorID=function(e){e=e||t;var n=this.findField(_.MCMID,e),r=a.call(this,_.MCMID,e);return void 0!==n?n:r()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},k=D.MESSAGES,w=D.ASYNC_API_MAP,P=D.SYNC_API_MAP,T=function(){function e(){}function t(e,t){var a=this;return function(){return a.callbackRegistry.add(e,t),a.messageParent(k.GETSTATE),""}}function a(a){this[w[a]]=function(n){n=n||e;var r=this.findField(a,n),i=t.call(this,a,n);return void 0!==r?r:i()}}function n(t){this[P[t]]=function(){return this.findField(t,e)||{}}}Object.keys(w).forEach(a,this),Object.keys(P).forEach(n,this)},E=D.ASYNC_API_MAP,I=function(){Object.keys(E).forEach((function(e){this[E[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},j=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,a){a.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},a.isValueEmpty=function(e){return""===e||a.isObjectEmpty(e)},a.getIeVersion=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e;t=null}return null},a.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},a.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},a.defineGlobalNamespace=function(){return window.adobe=a.isObject(window.adobe)?window.adobe:{},window.adobe},a.pluck=function(e,t){return t.reduce((function(t,a){return e[a]&&(t[a]=e[a]),t}),Object.create(null))},a.parseOptOut=function(e,t,a){t||(t=a,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var n=parseInt(e.d_ottl,10);return isNaN(n)&&(n=7200),{optOut:t,d_ottl:n}},a.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),x=(j.isObjectEmpty,j.isValueEmpty,j.getIeVersion,j.encodeAndBuildRequest,j.isObject,j.defineGlobalNamespace,j.pluck,j.parseOptOut,j.normalizeBoolean,a),S=D.MESSAGES,V={0:"prefix",1:"orgID",2:"state"},O=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,a){void 0!==e&&(t[V[a]]=2!==a?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(a){var n=this.parse(a);if(!n||Object.keys(n).length<2)return!0;var r=e!==n.orgID,i=!t||a.origin!==t,o=-1===Object.keys(S).indexOf(n.prefix);return r||i||o},this.send=function(a,n,r){var i=n+"|"+e;r&&r===Object(r)&&(i+="|"+JSON.stringify(r));try{a.postMessage(i,t)}catch(e){}}},N=D.MESSAGES,L=function(e,t,a,n){function r(e){Object.assign(p,e)}function i(e){Object.assign(p.state,e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function o(e){if(!v.isInvalid(e)){f=!1;var t=v.parse(e);p.setStateAndPublish(t.state)}}function s(e){!f&&m&&(f=!0,v.send(n,e))}function l(){r(new C(a._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,!0),h.removeEventListener("message",c)}function c(e){if(!v.isInvalid(e)){var t=v.parse(e);f=!1,h.clearTimeout(p._handshakeTimeout),h.removeEventListener("message",c),r(new T(p)),h.addEventListener("message",o),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&s(N.GETSTATE)}}function u(){m&&postMessage?(h.addEventListener("message",c),s(N.HANDSHAKE),p._handshakeTimeout=setTimeout(l,250)):l()}function d(){h.s_c_in||(h.s_c_il=[],h.s_c_in=0),p._c="Visitor",p._il=h.s_c_il,p._in=h.s_c_in,p._il[p._in]=p,h.s_c_in++}function g(){function e(e){0!==e.indexOf("_")&&"function"==typeof a[e]&&(p[e]=function(){})}Object.keys(a).forEach(e),p.getSupplementalDataID=a.getSupplementalDataID,p.isAllowed=function(){return!0}}var p=this,m=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=a.version,p.marketingCloudOrgID=e,p.cookieDomain=a.cookieDomain||"",p._instanceType="child";var f=!1,v=new O(e,m);p.callbackRegistry=x(),p.init=function(){d(),g(),r(new I(p)),u()},p.findField=function(e,t){if(void 0!==p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=s,p.setStateAndPublish=i},A=D.MESSAGES,R=D.ALL_APIS,F=D.ASYNC_API_MAP,M=D.FIELDGROUP_TO_FIELD,q=function(e,t){function a(){var t={};return Object.keys(R).forEach((function(a){var n=R[a],r=e[n]();j.isValueEmpty(r)||(t[a]=r)})),t}function n(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(a){if(e._loading[a]){var n=M[a];t.push(n)}})),t.length?t:null}function r(t){return function a(){var r=n();if(r){var i=F[r[0]];e[i](a,!0)}else t()}}function i(e,n){var r=a();t.send(e,n,r)}function o(e){l(e),i(e,A.HANDSHAKE)}function s(e){r((function(){i(e,A.PARENTSTATE)}))()}function l(a){function n(n){r.call(e,n),t.send(a,A.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=n}return function(e){t.isInvalid(e)||(t.parse(e).prefix===A.HANDSHAKE?o:s)(e.source)}},B=function(e,t){function a(e){return function(a){n[e]=a,++r===i&&t(n)}}var n={},r=0,i=Object.keys(e).length;Object.keys(e).forEach((function(t){var n=e[t];if(n.fn){var r=n.args||[];r.unshift(a(t)),n.fn.apply(n.context||null,r)}}))},U={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),a=t.indexOf(";"+e+"="),n=a<0?a:t.indexOf(";",a+1);return a<0?"":decodeURIComponent(t.substring(a+2+e.length,n<0?t.length:n))},set:function(e,t,a){var r=n(a,"cookieLifetime"),i=n(a,"expires"),o=n(a,"domain"),s=n(a,"secure")?"Secure":"";if(i&&"SESSION"!==r&&"NONE"!==r){var l=""!==t?parseInt(r||0,10):-60;if(l)(i=new Date).setTime(i.getTime()+1e3*l);else if(1===i){var c=(i=new Date).getYear();i.setYear(c+2+(c<1900?1900:0))}}else i=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(i?" expires="+i.toGMTString()+";":"")+(o?" domain="+o+";":"")+s,this.get(e)===t):0},remove:function(e,t){var a=n(t,"domain");a=a?" domain="+a+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a}},Q=function(e){var t;!e&&h.location&&(e=h.location.hostname);var a,n=(t=e).split(".");for(a=n.length-2;a>=0;a--)if(t=n.slice(a).join("."),U.set("test","cookie",{domain:t}))return U.remove("test",{domain:t}),t;return""},H={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},G=!!h.postMessage,J={postMessage:function(e,t,a){var n=1;t&&(G?a.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(a.location=t.replace(/#.*$/,"")+"#"+ +new Date+n+++"&"+e))},receiveMessage:function(e,t){var a;try{G&&(e&&(a=function(a){if("string"==typeof t&&a.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(a.origin))return!1;e(a)}),h.addEventListener?h[e?"addEventListener":"removeEventListener"]("message",a):h[e?"attachEvent":"detachEvent"]("onmessage",a))}catch(e){}}},$=function(e){var t,a,n="0123456789",r="",i="",o=8,s=10,l=10;if(1==e){for(n+="ABCDEF",t=0;16>t;t++)a=Math.floor(Math.random()*o),r+=n.substring(a,a+1),a=Math.floor(Math.random()*o),i+=n.substring(a,a+1),o=16;return r+"-"+i}for(t=0;19>t;t++)a=Math.floor(Math.random()*s),r+=n.substring(a,a+1),0===t&&9==a?s=3:((1==t||2==t)&&10!=s&&2>a||2<t)&&(s=10),a=Math.floor(Math.random()*l),i+=n.substring(a,a+1),0===t&&9==a?l=3:((1==t||2==t)&&10!=l&&2>a||2<t)&&(l=10);return r+i},W=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(h.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new h[this.corsMetadata.corsType]},fireCORS:function(t,a){function n(e){var a;try{if((a=JSON.parse(e))!==Object(a))return void r.handleCORSError(t,null,"Response is not JSON")}catch(e){return void r.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var n=t.callback,i=h,o=0;o<n.length;o++)i=i[n[o]];i(a)}catch(e){r.handleCORSError(t,e,"Error forming callback function")}}var r=this;a&&(t.loadErrorHandler=a);try{var i=this.getCORSInstance();i.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(i.withCredentials=!0,i.timeout=e.loadTimeout,i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===this.readyState&&200===this.status&&n(this.responseText)}),i.onerror=function(e){r.handleCORSError(t,e,"onerror")},i.ontimeout=function(e){r.handleCORSError(t,e,"ontimeout")},i.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,a,n){e.CORSErrors.push({corsData:t,error:a,description:n}),t.loadErrorHandler&&("ontimeout"===n?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},z={POST_MESSAGE_ENABLED:!!h.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},X=function(e,t){var a=h.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,n="http://fast.",r="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(n=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=n+this.subdomain+".demdex.net/dest5.html"+r,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(a.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:z.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(r=a.createElement("iframe")).sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=n.id,r.name=n.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=n.url,n.newIframeCreated=!0,t(),a.body.appendChild(r)}function t(e){r.addEventListener("load",(function(){r.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.fireIframeLoadedCallbacks(e),n.requestToProcess()}))}this.startedAttachingIframe=!0;var n=this,r=a.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function a(){r.jsonForComparison.push(t),r.jsonWaiting.push(t),r.processSyncOnPage(t)}var n,r=this;if(t===Object(t)&&t.ibs)if(n=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var i,o,s,l=!1;for(i=0,o=this.jsonForComparison.length;i<o;i++)if(s=this.jsonForComparison[i],n===JSON.stringify(s.ibs||[])){l=!0;break}l?this.jsonDuplicates.push(t):a()}else a();if((this.receivedThirdPartyCookiesNotification||!z.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){r.messageSendingInterval=z.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,a){var n=e._getField("MCAAMLH"),r=t.d_region||t.dcs_region;return n?r&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",r),parseInt(n,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),n=r)):(n=r)&&(e._setFieldExpire("MCAAMLH",a),e._setField("MCAAMLH",n)),n||(n=""),n},processSyncOnPage:function(e){var t,a,n,r;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(n=0;n<a;n++)(r=t[n]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,a,n,r,i,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(a=t.length))for(s=!0,n=0;n<a;n++)r=t[n],i=[o("ibs"),o(r.id||""),o(r.tag||""),j.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(i.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,i.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,a,n){var r="syncOnPage"===n,i=r?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,l=e._getField(i),c=!1,u=!1,d=Math.ceil((new Date).getTime()/z.MILLIS_PER_DAY);l?(o=l.split("*"),c=(s=this.pruneSyncData(o,t.id,d)).dataPresent,u=s.dataValid,c&&u||this.fireSync(r,t,a,o,i,d)):(o=[],this.fireSync(r,t,a,o,i,d))},pruneSyncData:function(e,t,a){var n,r,i,o=!1,s=!1;for(r=0;r<e.length;r++)n=e[r],i=parseInt(n.split("-")[1],10),n.match("^"+t+"-")?(o=!0,a<i?s=!0:(e.splice(r,1),r--)):a>=i&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,a,n,r,i,o){var s=this;if(t){if("img"===a.tag){var l,c,u,d,g=a.url,p=e.loadSSL?"https:":"http:";for(l=0,c=g.length;l<c;l++){u=g[l],d=/^\/\//.test(u);var m=new Image;m.addEventListener("load",function(t,a,n,r){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,l,c,u,d=e._getField(i),g=[];if(d)for(l=0,c=(o=d.split("*")).length;l<c;l++)(u=o[l]).match("^"+a.id+"-")||g.push(u);s.setSyncTrackingData(g,a,n,r)}}(this.onPagePixels.length,a,i,o)),m.src=(d?p:"")+u,this.onPagePixels.push(m)}}}else this.addMessage(n),this.setSyncTrackingData(r,a,i,o)},addMessage:function(t){var a=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((z.POST_MESSAGE_ENABLED?"":a)+t)},setSyncTrackingData:function(t,a,n,r){t.push(a.id+"-"+(r+Math.ceil(a.ttl/60/24))),this.manageSyncsSize(t),e._setField(n,t.join("*"))},sendMessages:function(){var e,t=this,a="",n=encodeURIComponent;this.regionChanged&&(a=n("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?z.POST_MESSAGE_ENABLED?(e=a+n("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(a+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){J.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,a=/^---destpub-to-parent---/;"string"==typeof e&&a.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(a,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(n){(null==this.url||n.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=n.subdomain||"",this.url=this.getUrl()),n.ibs instanceof Array&&n.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===a.readyState||"loaded"===a.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(n):this.requestToProcess(n),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(n)},canMakeSyncIDCall:function(t,a){return e._forceSyncIDCall||!t||a-t>z.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(a.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},Y={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},K={getConfigNames:function(){return Object.keys(Y)},getConfigs:function(){return Y},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},Z=function(e){var t={};return e.on=function(e,a,n){if(!a||"function"!=typeof a)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var r=t[e].push({callback:a,context:n})-1;return function(){t[e].splice(r,1),t[e].length||delete t[e]}},e.off=function(e,a){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==a)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var a=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,a)}))}},e.publish},ee={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},te={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ae=(t(b={},te.AAM,565),t(b,te.ECID,565),b),ne=(t(y={},te.AAM,[1,2,5]),t(y,te.ECID,[1,2,5]),y),re=function(e){return Object.keys(e).map((function(t){return e[t]}))}(te),ie=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,a){if(!c(a))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var n=e.callbacks[t].push(a)-1;return function(){e.callbacks[t].splice(n,1)}},e.execute=function(t,a){if(e.callbacks[t]){a=(a=void 0===a?[]:a)instanceof Array?a:[a];try{for(;e.callbacks[t].length;){var n=e.callbacks[t].shift();"function"==typeof n?n.apply(null,a):n instanceof Array&&n[1].apply(n[0],a)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,a){(a||t&&!l(t))&&Object.keys(e.callbacks).forEach((function(a){var n=void 0!==t[a]?t[a]:"";e.execute(a,n)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},oe=function(){},se=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},le=function(e,t,a){return a()?function(){if(se(e)){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];console[e].apply(console,[t].concat(n))}}:oe},ce=new u("[ADOBE OPT-IN]"),ue=function(t,a){return e(t)===a},de=function(e,t){return e instanceof Array?e:ue(e,"string")?[e]:t||[]},ge=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},pe=function(e){return!(!e||ve(e))&&de(e).every((function(e){return re.indexOf(e)>-1}))},me=function(e,t){return e.reduce((function(e,a){return e[a]=t,e}),{})},fe=function(e){return JSON.parse(JSON.stringify(e))},ve=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length
},he=function(e){if(De(e))return e;try{return JSON.parse(e)}catch(e){return{}}},be=function(e){return void 0===e||(De(e)?pe(Object.keys(e)):ye(e))},ye=function(e){try{var t=JSON.parse(e);return!!e&&ue(e,"string")&&pe(Object.keys(t))}catch(e){return!1}},De=function(e){return null!==e&&ue(e,"object")&&!1===Array.isArray(e)},_e=function(){},Ce=function(e){return ue(e,"function")?e():e},ke=function(e,t){be(e)||ce.error("".concat(t))},we=function(e){return Object.keys(e).map((function(t){return e[t]}))},Pe=function(e){return we(e).filter((function(e,t,a){return a.indexOf(e)===t}))},Te=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.command,n=t.params,r=void 0===n?{}:n,i=t.callback,o=void 0===i?_e:i;if(!a||-1===a.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=a.split("."),l=e[s[0]],c=s[1];if(!l||"function"!=typeof l[c])throw new Error("Make sure the plugin and API name exist.");var u=Object.assign(r,{callback:o});l[c].call(l,u)}catch(e){ce.error("[execute] Something went wrong: "+e.message)}}};g.prototype=Object.create(Error.prototype),g.prototype.constructor=g;var Ee="fetchPermissions",Ie="[OptIn#registerPlugin] Plugin is invalid.";p.Categories=te,p.TimeoutError=g;var je=Object.freeze({OptIn:p,IabPlugin:v}),xe=function(e,t){e.publishDestinations=function(a){var n=arguments[1],r=arguments[2];try{r="function"==typeof r?r:a.callback}catch(e){r=function(){}}var i=t;if(i.readyToAttachIframePreliminary()){if("string"==typeof a){if(!a.length)return void r({error:"subdomain is not a populated string."});if(!(n instanceof Array&&n.length))return void r({error:"messages is not a populated array."});var o=!1;if(n.forEach((function(e){"string"==typeof e&&e.length&&(i.addMessage(e),o=!0)})),!o)return void r({error:"None of the messages are populated strings."})}else{if(!j.isObject(a))return void r({error:"Invalid parameters passed."});var s=a;if("string"!=typeof(a=s.subdomain)||!a.length)return void r({error:"config.subdomain is not a populated string."});var l=s.urlDestinations;if(!(l instanceof Array&&l.length))return void r({error:"config.urlDestinations is not a populated array."});var c=[];l.forEach((function(e){j.isObject(e)&&(e.hideReferrer?e.message&&i.addMessage(e.message):c.push(e))})),function e(){c.length&&setTimeout((function(){var t=new Image,a=c.shift();t.src=a.url,i.onPageDestinationsFired.push(a),e()}),100)}()}i.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),i.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(i.subdomain=a,i.doAttachIframe=!0,i.url=i.getUrl(),i.readyToAttachIframe()?(i.iframeLoadedCallbacks.push((function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),i.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):i.iframeLoadedCallbacks.push((function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else r({error:"The destination publishing iframe is disabled in the Visitor library."})}},Se=function e(t){function a(e,t){return e>>>t|e<<32-t}for(var n,r,i=Math.pow,o=i(2,32),s="",l=[],c=8*t.length,u=e.h=e.h||[],d=e.k=e.k||[],g=d.length,p={},m=2;g<64;m++)if(!p[m]){for(n=0;n<313;n+=m)p[n]=m;u[g]=i(m,.5)*o|0,d[g++]=i(m,1/3)*o|0}for(t+="\x80";t.length%64-56;)t+="\0";for(n=0;n<t.length;n++){if((r=t.charCodeAt(n))>>8)return;l[n>>2]|=r<<(3-n)%4*8}for(l[l.length]=c/o|0,l[l.length]=c,r=0;r<l.length;){var f=l.slice(r,r+=16),v=u;for(u=u.slice(0,8),n=0;n<64;n++){var h=f[n-15],b=f[n-2],y=u[0],D=u[4],_=u[7]+(a(D,6)^a(D,11)^a(D,25))+(D&u[5]^~D&u[6])+d[n]+(f[n]=n<16?f[n]:f[n-16]+(a(h,7)^a(h,18)^h>>>3)+f[n-7]+(a(b,17)^a(b,19)^b>>>10)|0);(u=[_+((a(y,2)^a(y,13)^a(y,22))+(y&u[1]^y&u[2]^u[1]&u[2]))|0].concat(u))[4]=u[4]+_|0}for(n=0;n<8;n++)u[n]=u[n]+v[n]|0}for(n=0;n<8;n++)for(r=3;r+1;r--){var C=u[n]>>8*r&255;s+=(C<16?0:"")+C.toString(16)}return s},Ve=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Se(e)),e},Oe=function(e){return String(e).trim().toLowerCase()},Ne=je.OptIn;j.defineGlobalNamespace(),window.adobe.OptInCategories=Ne.Categories;var Le=function(t,a,n){function r(e){var t=e;return function(e){var a=e||_.location.href;try{var n=m._extractParamFromUri(a,t);if(n)return R.parsePipeDelimetedKeyValues(n)}catch(e){}}}function i(e){function t(e,t,a){e&&e.match(z.VALID_VISITOR_ID_REGEX)&&(a===w&&(y=!0),t(e))}t(e[w],m.setMarketingCloudVisitorID,w),m._setFieldExpire(x,-1),t(e[E],m.setAnalyticsVisitorID)}function o(e){e=e||{},m._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",m._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},m._supplementalDataIDLast=e.supplementalDataIDLast||"",m._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function s(e){function t(e,t,a){return(a=a?a+="|":a)+(e+"=")+encodeURIComponent(t)}function a(e,a){var n=a[0],r=a[1];return null!=r&&r!==S&&(e=t(n,r,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+R.getTimestampInSeconds()}(e.reduce(a,""))}function l(e){var t=e.minutesToLive,a="";return(m.idSyncDisableSyncs||m.disableIdSyncs)&&(a=a||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(a=a||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(a=a||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(a=a||"Error: config.minutesToLive needs to be a positive number")),{error:a,ttl:t}}function c(){return!(!m.configs.doesOptInApply||f.optIn.isComplete&&u())}function u(){return m.configs.doesOptInApply&&m.configs.isIabContext?f.optIn.isApproved(f.optIn.Categories.ECID)&&b:f.optIn.isApproved(f.optIn.Categories.ECID)}function d(e,t){if(b=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(v=t.consentString),m.init(),p()}function g(){f.optIn.isApproved(f.optIn.Categories.ECID)&&(m.configs.isIabContext?f.optIn.execute({command:"iabPlugin.fetchConsentData",callback:d}):(m.init(),p()))}function p(){f.optIn.off("complete",g)}if(!n||n.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var m=this,f=window.adobe,v="",b=!1,y=!1;m.version="4.5.2";var _=h,C=_.Visitor;C.version=m.version,C.AuthState=D.AUTH_STATE,C.OptOut=D.OPT_OUT,_.s_c_in||(_.s_c_il=[],_.s_c_in=0),m._c="Visitor",m._il=_.s_c_il,m._in=_.s_c_in,m._il[m._in]=m,_.s_c_in++,m._instanceType="regular",m._log={requests:[]},m.marketingCloudOrgID=t,m.cookieName="AMCV_"+t,m.sessionCookieName="AMCVS_"+t,m.cookieDomain=Q(),m.loadSSL=_.location.protocol.toLowerCase().indexOf("https")>=0,m.loadTimeout=3e4,m.CORSErrors=[],m.marketingCloudServer=m.audienceManagerServer="dpm.demdex.net",m.sdidParamExpiry=30;var k=null,w="MCMID",P="MCIDTS",T="A",E="MCAID",I="AAM",x="MCAAMB",S="NONE",V=function(e){return!Object.prototype[e]},N=W(m);m.FIELDS=D.FIELDS,m.cookieRead=function(e){return U.get(e)},m.cookieWrite=function(e,t,a){var n=m.cookieLifetime?(""+m.cookieLifetime).toUpperCase():"",r=!1;return m.configs&&m.configs.secureCookie&&"https:"===location.protocol&&(r=!0),U.set(e,""+t,{expires:a,domain:m.cookieDomain,cookieLifetime:n,secure:r})},m.resetState=function(e){e?m._mergeServerState(e):o()},m._isAllowedDone=!1,m._isAllowedFlag=!1,m.isAllowed=function(){return m._isAllowedDone||(m._isAllowedDone=!0,(m.cookieRead(m.cookieName)||m.cookieWrite(m.cookieName,"T",1))&&(m._isAllowedFlag=!0)),"T"===m.cookieRead(m.cookieName)&&m._helpers.removeCookie(m.cookieName),m._isAllowedFlag},m.setMarketingCloudVisitorID=function(e){m._setMarketingCloudFields(e)},m._use1stPartyMarketingCloudServer=!1,m.getMarketingCloudVisitorID=function(e,t){m.marketingCloudServer&&m.marketingCloudServer.indexOf(".demdex.net")<0&&(m._use1stPartyMarketingCloudServer=!0);var a=m._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;return m._getRemoteField(w,n,e,t,a)};var L=function(e,t){var a={};m.getMarketingCloudVisitorID((function(){t.forEach((function(e){a[e]=m._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?m.isOptedOut((function(t){a.MCOPTOUT=t,e(a)}),null,!0):e(a)}),!0)};m.getVisitorValues=function(e,t){var a={MCMID:{fn:m.getMarketingCloudVisitorID,args:[!0],context:m},MCOPTOUT:{fn:m.isOptedOut,args:[void 0,!0],context:m},MCAID:{fn:m.getAnalyticsVisitorID,args:[!0],context:m},MCAAMLH:{fn:m.getAudienceManagerLocationHint,args:[!0],context:m},MCAAMB:{fn:m.getAudienceManagerBlob,args:[!0],context:m}},n=t&&t.length?j.pluck(a,t):a;t&&-1===t.indexOf("MCAID")?L(e,t):B(n,e)},m._currentCustomerIDs={},m._customerIDsHashChanged=!1,m._newCustomerIDsHash="",m.setCustomerIDs=function(t,a){function n(){m._customerIDsHashChanged=!1}if(!m.isOptedOut()&&t){if(!j.isObject(t)||j.isObjectEmpty(t))return!1;var r,i,o;for(r in m._readVisitor(),t)if(V(r)&&(a=(i=t[r]).hasOwnProperty("hashType")?i.hashType:a,i))if("object"===e(i)){var s={};if(i.id){if(a){if(!(o=Ve(Oe(i.id),a)))return;i.id=o,s.hashType=a}s.id=i.id}null!=i.authState&&(s.authState=i.authState),m._currentCustomerIDs[r]=s}else if(a){if(!(o=Ve(Oe(i),a)))return;m._currentCustomerIDs[r]={id:o,hashType:a}}else m._currentCustomerIDs[r]={id:i};var l=m.getCustomerIDs(),c=m._getField("MCCIDH"),u="";for(r in c||(c=0),l)V(r)&&(u+=(u?"|":"")+r+"|"+((i=l[r]).id?i.id:"")+(i.authState?i.authState:""));m._newCustomerIDsHash=String(m._hash(u)),m._newCustomerIDsHash!==c&&(m._customerIDsHashChanged=!0,m._mapCustomerIDs(n))}},m.getCustomerIDs=function(){m._readVisitor();var e,t,a={};for(e in m._currentCustomerIDs)V(e)&&(t=m._currentCustomerIDs[e]).id&&(a[e]||(a[e]={}),a[e].id=t.id,null!=t.authState?a[e].authState=t.authState:a[e].authState=C.AuthState.UNKNOWN,t.hashType&&(a[e].hashType=t.hashType));return a},m.setAnalyticsVisitorID=function(e){m._setAnalyticsFields(e)},m.getAnalyticsVisitorID=function(e,t,a){if(!R.isTrackingServerPopulated()&&!a)return m._callCallback(e,[""]),"";var n="";if(a||(n=m.getMarketingCloudVisitorID((function(){m.getAnalyticsVisitorID(e,!0)}))),n||a){var r=a?m.marketingCloudServer:m.trackingServer,i="";m.loadSSL&&(a?m.marketingCloudServerSecure&&(r=m.marketingCloudServerSecure):m.trackingServerSecure&&(r=m.trackingServerSecure));var o={};if(r){var s="http"+(m.loadSSL?"s":"")+"://"+r+"/id",l="d_visid_ver="+m.version+"&mcorgid="+encodeURIComponent(m.marketingCloudOrgID)+(n?"&mid="+encodeURIComponent(n):"")+(m.idSyncDisable3rdPartySyncing||m.disableThirdPartyCookies?"&d_coppa=true":""),c=["s_c_il",m._in,"_set"+(a?"MarketingCloud":"Analytics")+"Fields"];i=s+"?"+l+"&callback=s_c_il%5B"+m._in+"%5D._set"+(a?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+l,o.callback=c}return o.url=i,m._getRemoteField(a?w:E,i,e,t,o)}return""},m.getAudienceManagerLocationHint=function(e,t){if(m.getMarketingCloudVisitorID((function(){m.getAudienceManagerLocationHint(e,!0)}))){var a=m._getField(E);if(!a&&R.isTrackingServerPopulated()&&(a=m.getAnalyticsVisitorID((function(){m.getAudienceManagerLocationHint(e,!0)}))),a||!R.isTrackingServerPopulated()){var n=m._getAudienceManagerURLData(),r=n.url;return m._getRemoteField("MCAAMLH",r,e,t,n)}}return""},m.getLocationHint=m.getAudienceManagerLocationHint,m.getAudienceManagerBlob=function(e,t){if(m.getMarketingCloudVisitorID((function(){m.getAudienceManagerBlob(e,!0)}))){var a=m._getField(E);if(!a&&R.isTrackingServerPopulated()&&(a=m.getAnalyticsVisitorID((function(){m.getAudienceManagerBlob(e,!0)}))),a||!R.isTrackingServerPopulated()){var n=m._getAudienceManagerURLData(),r=n.url;return m._customerIDsHashChanged&&m._setFieldExpire(x,-1),m._getRemoteField(x,r,e,t,n)}}return""},m._supplementalDataIDCurrent="",m._supplementalDataIDCurrentConsumed={},m._supplementalDataIDLast="",m._supplementalDataIDLastConsumed={},m.getSupplementalDataID=function(e,t){m._supplementalDataIDCurrent||t||(m._supplementalDataIDCurrent=m._generateID(1));var a=m._supplementalDataIDCurrent;return m._supplementalDataIDLast&&!m._supplementalDataIDLastConsumed[e]?(a=m._supplementalDataIDLast,m._supplementalDataIDLastConsumed[e]=!0):a&&(m._supplementalDataIDCurrentConsumed[e]&&(m._supplementalDataIDLast=m._supplementalDataIDCurrent,m._supplementalDataIDLastConsumed=m._supplementalDataIDCurrentConsumed,m._supplementalDataIDCurrent=a=t?"":m._generateID(1),m._supplementalDataIDCurrentConsumed={}),a&&(m._supplementalDataIDCurrentConsumed[e]=!0)),a};var A=!1;m._liberatedOptOut=null,m.getOptOut=function(e,t){var a=m._getAudienceManagerURLData("_setMarketingCloudFields"),n=a.url;if(u())return m._getRemoteField("MCOPTOUT",n,e,t,a);if(m._registerCallback("liberatedOptOut",e),null!==m._liberatedOptOut)return m._callAllCallbacks("liberatedOptOut",[m._liberatedOptOut]),A=!1,m._liberatedOptOut;if(A)return null;A=!0;var r="liberatedGetOptOut";return a.corsUrl=a.corsUrl.replace(/dpm\.demdex\.net\/id\?/,"dpm.demdex.net/optOutStatus?"),a.callback=[r],h[r]=function(e){if(e===Object(e)){var t,a,n=j.parseOptOut(e,t,S);t=n.optOut,a=1e3*n.d_ottl,m._liberatedOptOut=t,setTimeout((function(){m._liberatedOptOut=null}),a)}m._callAllCallbacks("liberatedOptOut",[t]),A=!1},N.fireCORS(a),null},m.isOptedOut=function(e,t,a){t||(t=C.OptOut.GLOBAL);var n=m.getOptOut((function(a){var n=a===C.OptOut.GLOBAL||a.indexOf(t)>=0;m._callCallback(e,[n])}),a);return n?n===C.OptOut.GLOBAL||n.indexOf(t)>=0:null},m._fields=null,m._fieldsExpired=null,m._hash=function(e){var t,a=0;if(e)for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a&=a;return a},m._generateID=$,m._generateLocalMID=function(){var e=m._generateID(0);return M.isClientSideMarketingCloudVisitorID=!0,e},m._callbackList=null,m._callCallback=function(e,t){try{"function"==typeof e?e.apply(_,t):e[1].apply(e[0],t)}catch(e){}},m._registerCallback=function(e,t){t&&(null==m._callbackList&&(m._callbackList={}),null==m._callbackList[e]&&(m._callbackList[e]=[]),m._callbackList[e].push(t))},m._callAllCallbacks=function(e,t){if(null!=m._callbackList){var a=m._callbackList[e];if(a)for(;a.length>0;)m._callCallback(a.shift(),t)}},m._addQuerystringParam=function(e,t,a,n){var r=encodeURIComponent(t)+"="+encodeURIComponent(a),i=R.parseHash(e),o=R.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+i;var s=o.split("?"),l=s[0]+"?",c=s[1];return l+R.addQueryParamAtLocation(c,r,n)+i},m._extractParamFromUri=function(e,t){var a=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(a&&a.length)return decodeURIComponent(a[1])},m._parseAdobeMcFromUrl=r(z.ADOBE_MC),m._parseAdobeMcSdidFromUrl=r(z.ADOBE_MC_SDID),m._attemptToPopulateSdidFromUrl=function(e){var a=m._parseAdobeMcSdidFromUrl(e),n=1e9;a&&a.TS&&(n=R.getTimestampInSeconds()-a.TS),a&&a.SDID&&a.MCORGID===t&&n<m.sdidParamExpiry&&(m._supplementalDataIDCurrent=a.SDID,m._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},m._attemptToPopulateIdsFromUrl=function(){var e=m._parseAdobeMcFromUrl();if(e&&e.TS){var a=R.getTimestampInSeconds()-e.TS;if(Math.floor(a/60)>z.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;i(e)}},m._mergeServerState=function(e){if(e)try{if((e=function(e){return R.isObject(e)?e:JSON.parse(e)}(e))[m.marketingCloudOrgID]){var t=e[m.marketingCloudOrgID];!function(e){R.isObject(e)&&m.setCustomerIDs(e)}(t.customerIDs),o(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},m._timeout=null,m._loadData=function(e,t,a,n){t=m._addQuerystringParam(t,"d_fieldgroup",e,1),n.url=m._addQuerystringParam(n.url,"d_fieldgroup",e,1),n.corsUrl=m._addQuerystringParam(n.corsUrl,"d_fieldgroup",e,1),M.fieldGroupObj[e]=!0,n===Object(n)&&n.corsUrl&&"XMLHttpRequest"===N.corsMetadata.corsType&&N.fireCORS(n,a,e)},m._clearTimeout=function(e){null!=m._timeout&&m._timeout[e]&&(clearTimeout(m._timeout[e]),m._timeout[e]=0)},m._settingsDigest=0,m._getSettingsDigest=function(){if(!m._settingsDigest){var e=m.version;m.audienceManagerServer&&(e+="|"+m.audienceManagerServer),m.audienceManagerServerSecure&&(e+="|"+m.audienceManagerServerSecure),m._settingsDigest=m._hash(e)}return m._settingsDigest},m._readVisitorDone=!1,m._readVisitor=function(){if(!m._readVisitorDone){m._readVisitorDone=!0;var e,t,a,n,r,i,o=m._getSettingsDigest(),s=!1,l=m.cookieRead(m.cookieName),c=new Date;if(l||y||m.discardTrackingServerECID||(l=m.cookieRead(z.FIRST_PARTY_SERVER_COOKIE)),null==m._fields&&(m._fields={}),l&&"T"!==l)for((l=l.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(l[0],10)!==o&&(s=!0),l.shift()),l.length%2==1&&l.pop(),e=0;e<l.length;e+=2)a=(t=l[e].split("-"))[0],n=l[e+1],t.length>1?(r=parseInt(t[1],10),i=t[1].indexOf("s")>0):(r=0,i=!1),s&&("MCCIDH"===a&&(n=""),r>0&&(r=c.getTime()/1e3-60)),a&&n&&(m._setField(a,n,1),r>0&&(m._fields["expire"+a]=r+(i?"s":""),(c.getTime()>=1e3*r||i&&!m.cookieRead(m.sessionCookieName))&&(m._fieldsExpired||(m._fieldsExpired={}),m._fieldsExpired[a]=!0)));!m._getField(E)&&R.isTrackingServerPopulated()&&(l=m.cookieRead("s_vi"))&&(l=l.split("|")).length>1&&l[0].indexOf("v1")>=0&&((e=(n=l[1]).indexOf("["))>=0&&(n=n.substring(0,e)),n&&n.match(z.VALID_VISITOR_ID_REGEX)&&m._setField(E,n))}},m._appendVersionTo=function(e){var t="vVersion|"+m.version,a=e?m._getCookieVersion(e):null;return a?H.areVersionsDifferent(a,m.version)&&(e=e.replace(z.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},m._writeVisitor=function(){var e,t,a=m._getSettingsDigest();for(e in m._fields)V(e)&&m._fields[e]&&"expire"!==e.substring(0,6)&&(t=m._fields[e],a+=(a?"|":"")+e+(m._fields["expire"+e]?"-"+m._fields["expire"+e]:"")+"|"+t);a=m._appendVersionTo(a),m.cookieWrite(m.cookieName,a,1)},m._getField=function(e,t){return null==m._fields||!t&&m._fieldsExpired&&m._fieldsExpired[e]?null:m._fields[e]},m._setField=function(e,t,a){null==m._fields&&(m._fields={}),m._fields[e]=t,a||m._writeVisitor()},m._getFieldList=function(e,t){var a=m._getField(e,t);return a?a.split("*"):null},m._setFieldList=function(e,t,a){m._setField(e,t?t.join("*"):"",a)},m._getFieldMap=function(e,t){var a=m._getFieldList(e,t);if(a){var n,r={};for(n=0;n<a.length;n+=2)r[a[n]]=a[n+1];return r}return null},m._setFieldMap=function(e,t,a){var n,r=null;if(t)for(n in r=[],t)V(n)&&(r.push(n),r.push(t[n]));m._setFieldList(e,r,a)},m._setFieldExpire=function(e,t,a){var n=new Date;n.setTime(n.getTime()+1e3*t),null==m._fields&&(m._fields={}),m._fields["expire"+e]=Math.floor(n.getTime()/1e3)+(a?"s":""),t<0?(m._fieldsExpired||(m._fieldsExpired={}),m._fieldsExpired[e]=!0):m._fieldsExpired&&(m._fieldsExpired[e]=!1),a&&(m.cookieRead(m.sessionCookieName)||m.cookieWrite(m.sessionCookieName,"1"))},m._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=S),t&&(t===S||t.match(z.VALID_VISITOR_ID_REGEX))||(t="")),t},m._setFields=function(t,a){if(m._clearTimeout(t),null!=m._loading&&(m._loading[t]=!1),M.fieldGroupObj[t]&&M.setState(t,!1),"MC"===t){!0!==M.isClientSideMarketingCloudVisitorID&&(M.isClientSideMarketingCloudVisitorID=!1);var n=m._getField(w);if(!n||m.overwriteCrossDomainMCIDAndAID){if(!(n="object"===e(a)&&a.mid?a.mid:m._findVisitorID(a))){if(m._use1stPartyMarketingCloudServer&&!m.tried1stPartyMarketingCloudServer)return m.tried1stPartyMarketingCloudServer=!0,void m.getAnalyticsVisitorID(null,!1,!0);n=m._generateLocalMID()}m._setField(w,n)}n&&n!==S||(n=""),"object"===e(a)&&((a.d_region||a.dcs_region||a.d_blob||a.blob)&&m._setFields(I,a),m._use1stPartyMarketingCloudServer&&a.mid&&m._setFields(T,{id:a.id})),m._callAllCallbacks(w,[n])}if(t===I&&"object"===e(a)){var r=604800;null!=a.id_sync_ttl&&a.id_sync_ttl&&(r=parseInt(a.id_sync_ttl,10));var i=F.getRegionAndCheckIfChanged(a,r);m._callAllCallbacks("MCAAMLH",[i]);var o=m._getField(x);(a.d_blob||a.blob)&&((o=a.d_blob)||(o=a.blob),m._setFieldExpire(x,r),m._setField(x,o)),o||(o=""),m._callAllCallbacks(x,[o]),!a.error_msg&&m._newCustomerIDsHash&&m._setField("MCCIDH",m._newCustomerIDsHash)}if(t===T){var s=m._getField(E);s&&!m.overwriteCrossDomainMCIDAndAID||((s=m._findVisitorID(a))?s!==S&&m._setFieldExpire(x,-1):s=S,m._setField(E,s)),s&&s!==S||(s=""),m._callAllCallbacks(E,[s])}if(m.idSyncDisableSyncs||m.disableIdSyncs)F.idCallNotProcesssed=!0;else{F.idCallNotProcesssed=!1;var l={};l.ibs=a.ibs,l.subdomain=a.subdomain,F.processIDCallData(l)}if(a===Object(a)){var c,d;u()&&m.isAllowed()&&(c=m._getField("MCOPTOUT"));var g=j.parseOptOut(a,c,S);c=g.optOut,d=g.d_ottl,m._setFieldExpire("MCOPTOUT",d,!0),m._setField("MCOPTOUT",c),m._callAllCallbacks("MCOPTOUT",[c])}},m._loading=null,m._getRemoteField=function(e,t,a,n,r){var i,o="",s=R.isFirstPartyAnalyticsVisitorIDCall(e),l={MCAAMLH:!0,MCAAMB:!0};if(u()&&m.isAllowed())if(m._readVisitor(),!(!(o=m._getField(e,!0===l[e]))||m._fieldsExpired&&m._fieldsExpired[e])||m.disableThirdPartyCalls&&!s)o||(e===w?(m._registerCallback(e,a),o=m._generateLocalMID(),m.setMarketingCloudVisitorID(o)):e===E?(m._registerCallback(e,a),o="",m.setAnalyticsVisitorID(o)):(o="",n=!0));else if(e===w||"MCOPTOUT"===e?i="MC":"MCAAMLH"===e||e===x?i=I:e===E&&(i=T),i)return!t||null!=m._loading&&m._loading[i]||(null==m._loading&&(m._loading={}),m._loading[i]=!0,m._loadData(i,t,(function(t){if(!m._getField(e)){t&&M.setState(i,!0);var a="";e===w?a=m._generateLocalMID():i===I&&(a={error_msg:"timeout"}),m._setFields(i,a)}}),r)),m._registerCallback(e,a),o||(t||m._setFields(i,{id:S}),"");return e!==w&&e!==E||o!==S||(o="",n=!0),a&&n&&m._callCallback(a,[o]),o},m._setMarketingCloudFields=function(e){m._readVisitor(),m._setFields("MC",e)},m._mapCustomerIDs=function(e){m.getAudienceManagerBlob(e,!0)},m._setAnalyticsFields=function(e){m._readVisitor(),m._setFields(T,e)},m._setAudienceManagerFields=function(e){m._readVisitor(),m._setFields(I,e)},m._getAudienceManagerURLData=function(e){var t=m.audienceManagerServer,a="",n=m._getField(w),r=m._getField(x,!0),i=m._getField(E),o=i&&i!==S?"&d_cid_ic=AVID%01"+encodeURIComponent(i):"";if(m.loadSSL&&m.audienceManagerServerSecure&&(t=m.audienceManagerServerSecure),t){var s,l,c=m.getCustomerIDs();if(c)for(s in c)V(s)&&(l=c[s],o+="&d_cid_ic="+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""));e||(e="_setAudienceManagerFields");var u="http"+(m.loadSSL?"s":"")+"://"+t+"/id",d="d_visid_ver="+m.version+(v&&-1!==u.indexOf("demdex.net")?"&gdpr=1&gdpr_force=1&gdpr_consent="+v:"")+"&d_rtbd=json&d_ver=2"+(!n&&m._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(m.marketingCloudOrgID)+"&d_nsid="+(m.idSyncContainerID||0)+(n?"&d_mid="+encodeURIComponent(n):"")+(m.idSyncDisable3rdPartySyncing||m.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===k?"&d_coop_safe=1":!1===k?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,g=["s_c_il",m._in,e];return{url:a=u+"?"+d+"&d_cb=s_c_il%5B"+m._in+"%5D."+e,corsUrl:u+"?"+d,callback:g}}return{url:a}},m.appendVisitorIDsTo=function(e){try{var t=[[w,m._getField(w)],[E,m._getField(E)],["MCORGID",m.marketingCloudOrgID]];return m._addQuerystringParam(e,z.ADOBE_MC,s(t))}catch(t){return e}},m.appendSupplementalDataIDTo=function(e,t){if(!(t=t||m.getSupplementalDataID(R.generateRandomString(),!0)))return e;try{var a=s([["SDID",t],["MCORGID",m.marketingCloudOrgID]]);return m._addQuerystringParam(e,z.ADOBE_MC_SDID,a)}catch(t){return e}};var R={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,a){var n=e.split("&");return a=null!=a?a:n.length,n.splice(a,0,t),n.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,a){return e===E&&(t||(t=m.trackingServer),a||(a=m.trackingServerSecure),!("string"!=typeof(n=m.loadSSL?a:t)||!n.length)&&n.indexOf("2o7.net")<0&&n.indexOf("omtrdc.net")<0);var n},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){U.remove(e,{domain:m.cookieDomain})},isTrackingServerPopulated:function(){return!!m.trackingServer||!!m.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=a[Math.floor(Math.random()*a.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var a in e)e.hasOwnProperty(a)&&"function"==typeof e[a]&&(e[a]=t);return e}};m._helpers=R;var F=X(m,C);m._destinationPublishing=F,m.timeoutMetricsLog=[];var M={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case"MC":!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case T:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case I:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};m.isClientSideMarketingCloudVisitorID=function(){return M.isClientSideMarketingCloudVisitorID},m.MCIDCallTimedOut=function(){return M.MCIDCallTimedOut},m.AnalyticsIDCallTimedOut=function(){return M.AnalyticsIDCallTimedOut},m.AAMIDCallTimedOut=function(){return M.AAMIDCallTimedOut},m.idSyncGetOnPageSyncInfo=function(){return m._readVisitor(),m._getField("MCSYNCSOP")},m.idSyncByURL=function(e){if(!m.isOptedOut()){var t=l(e||{});if(t.error)return t.error;var a,n,r=e.url,i=encodeURIComponent,o=F;return r=r.replace(/^https:/,"").replace(/^http:/,""),a=j.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),n=["ibs",i(e.dpid),"img",i(r),t.ttl,"",a],o.addMessage(n.join("|")),o.requestToProcess(),"Successfully queued"}},m.idSyncByDataSource=function(e){if(!m.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,m.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},xe(m,F),m._getCookieVersion=function(e){e=e||m.cookieRead(m.cookieName);var t=z.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},m._resetAmcvCookie=function(e){var t=m._getCookieVersion();t&&!H.isLessThan(t,e)||R.removeCookie(m.cookieName)},m.setAsCoopSafe=function(){k=!0},m.setAsCoopUnsafe=function(){k=!1},function(){if(m.configs=Object.create(null),R.isObject(a))for(var e in a)V(e)&&(m[e]=a[e],m.configs[e]=a[e])}(),[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],a=2===e.length?e[1]:"",n=m[t];m[t]=function(e){return u()&&m.isAllowed()?n.apply(m,arguments):("function"==typeof e&&m._callCallback(e,[a]),a)}})),m.init=function(){if(c())return f.optIn.fetchPermissions(g,!0);!function(){if(R.isObject(a)){m.idSyncContainerID=m.idSyncContainerID||0,k="boolean"==typeof m.isCoopSafe?m.isCoopSafe:R.parseBoolean(m.isCoopSafe),m.resetBeforeVersion&&m._resetAmcvCookie(m.resetBeforeVersion),m._attemptToPopulateIdsFromUrl(),m._attemptToPopulateSdidFromUrl(),m._readVisitor();var e=m._getField(P),t=Math.ceil((new Date).getTime()/z.MILLIS_PER_DAY);m.idSyncDisableSyncs||m.disableIdSyncs||!F.canMakeSyncIDCall(e,t)||(m._setFieldExpire(x,-1),m._setField(P,t)),m.getMarketingCloudVisitorID(),m.getAudienceManagerLocationHint(),m.getAudienceManagerBlob(),m._mergeServerState(m.serverState)}else m._attemptToPopulateIdsFromUrl(),m._attemptToPopulateSdidFromUrl()}(),function(){if(!m.idSyncDisableSyncs&&!m.disableIdSyncs){F.checkDPIframeSrc();var e=function(){var e=F;e.readyToAttachIframe()&&e.attachIframe()};_.addEventListener("load",(function(){C.windowLoaded=!0,e()}));try{J.receiveMessage((function(e){F.receiveMessage(e.data)}),F.iframeHost)}catch(e){}}}(),m.whitelistIframeDomains&&z.POST_MESSAGE_ENABLED&&(m.whitelistIframeDomains=m.whitelistIframeDomains instanceof Array?m.whitelistIframeDomains:[m.whitelistIframeDomains],m.whitelistIframeDomains.forEach((function(e){var a=new O(t,e),n=q(m,a);J.receiveMessage(n,e)})))}};Le.config=K,h.Visitor=Le;var Ae=Le,Re=function(e){if(j.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]})).reduce((function(t,a){var n=K.normalizeConfig(e[a]),r=j.normalizeBoolean(n);return t[a]=r,t}),Object.create(null))},Fe=je.OptIn,Me=je.IabPlugin;Ae.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var a=function(){var t=h.s_c_il;if(t)for(var a=0;a<t.length;a++){var n=t[a];if(n&&"Visitor"===n._c&&n.marketingCloudOrgID===e)return n}}();if(a)return a;var n=Re(t);!function(e){h.adobe.optIn=h.adobe.optIn||function(){var t=j.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),a=e.optInCookieDomain||e.cookieDomain;a=(a=a||Q())===window.location.hostname?"":a,t.optInCookieDomain=a;var n=new Fe(t,{cookies:U});if(t.isIabContext&&t.doesOptInApply){var r=new Me(window.__cmp);n.registerPlugin(r)}return n}()}(n||{});var r=e.split("").reverse().join(""),i=new Ae(e,null,r);j.isObject(n)&&n.cookieDomain&&(i.cookieDomain=n.cookieDomain),h.s_c_il.splice(--h.s_c_in,1);var o=j.getIeVersion();if("number"==typeof o&&o<10)return i._helpers.replaceMethodsWithFunction(i,(function(){}));var s=function(){try{return h.self!==h.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(i)&&h.parent?new L(e,n,i,h.parent):new Ae(e,n,r);return i=null,s.init(),s},function(){function e(){Ae.windowLoaded=!0}h.addEventListener?h.addEventListener("load",e):h.attachEvent&&h.attachEvent("onload",e),Ae.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current//a086326e8d0e/74a65f9f5676/ef0515915a0f/hostedLibFiles/EP4d931de95317478eb0767fcd2d78431c/",settings:{targetSettings:{enabled:!0,timeout:"5000",version:"2.11.4",endpoint:"/rest/v1/delivery",imsOrgId:"11B20CF953F3626B0A490D44@AdobeOrg",clientCode:"qantasairways",secureOnly:!1,serverState:{},optinEnabled:!0,serverDomain:"qantasairways.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,decisioningMethod:"hybrid",sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,a,n){"use strict";function r(){return i.adobe&&i.adobe.target&&i.adobe.target.VERSION}var i=a("@adobe/reactor-window"),o=a("./modules/libs/at-launch"),s=o.initConfig,l=o.initDelivery,c=a("./modules/page-load"),u=a("./messages");e.exports=function(e){var t=c(e);r()?(s(t),l()):i.console&&n.logger.warn(u.NO_REQUEST)}}},"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("@adobe/reactor-document"),i=a("./modules/load-target"),o=i.initLibrarySettings,s=i.overridePublicApi,l=a("./modules/optin"),c=l.shouldUseOptIn,u=l.isTargetApproved,d=a("./analyticsIntegration");e.exports=function(){var e=o();e&&e.enabled?((0,a("./modules/libs/at-launch").init)(n,r,e),c()&&!u()||d()):s(n)}}},"adobe-target-v2/lib/addPageLoadParams.js":{name:"add-page-load-params",displayName:"Add Params to Page Load Request",script:function(e,t,a){"use strict";var n=a("./modules/params-store").mergePageLoadParams;e.exports=function(e){n(e.params)}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){
return s(e)||l(e,t)||c(e,t)||d()}function s(e){if(Array.isArray(e))return e}function l(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,i=[],o=!0,s=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(s)throw r}}return i}}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e){return null==e}function p(e){return dd.call(e)}function m(e){return p(e)}function f(e){var t=r(e);return null!=e&&("object"===t||"function"===t)}function v(e){return!!f(e)&&m(e)===gd}function h(e){return e}function b(e){return v(e)?e:h}function y(e){return g(e)?[]:Object.keys(e)}function D(e,t){return g(t)?[]:(cd(t)?fd:vd)(b(e),t)}function _(e){return e&&e.length?e[0]:void 0}function C(e){return g(e)?[]:[].concat.apply([],e)}function k(e){for(var t=this,a=e?e.length:0,n=a;n-=1;)if(!v(e[n]))throw new TypeError("Expected a function");return function(){for(var n=0,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(var s=a?e[n].apply(t,i):i[0];(n+=1)<a;)s=e[n].call(t,s);return s}}function w(e,t){g(t)||(cd(t)?pd:md)(b(e),t)}function P(e){return null!=e&&"object"===r(e)}function T(e){return"string"==typeof e||!cd(e)&&P(e)&&m(e)===hd}function E(e){if(!T(e))return-1;for(var t=0,a=e.length,n=0;n<a;n+=1)t=(t<<5)-t+e.charCodeAt(n)&4294967295;return t}function I(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=bd}function j(e){return null!=e&&I(e.length)&&!v(e)}function x(e,t){return yd((function(e){return t[e]}),e)}function S(e){for(var t=0,a=e.length,n=Array(a);t<a;)n[t]=e[t],t+=1;return n}function V(e){return e.split("")}function O(e){return g(e)?[]:j(e)?T(e)?V(e):S(e):x(y(e),e)}function N(e){if(null==e)return!0;if(j(e)&&(cd(e)||T(e)||v(e.splice)))return!e.length;for(var t in e)if(_d.call(e,t))return!1;return!0}function L(e){return g(e)?"":kd.call(e)}function A(e){return T(e)?!L(e):N(e)}function R(e){return"number"==typeof e||P(e)&&m(e)===Pd}function F(e){return Object.getPrototypeOf(Object(e))}function M(e){if(!P(e)||m(e)!==Td)return!1;var t=F(e);if(null===t)return!0;var a=xd.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&jd.call(a)===Sd}function q(e,t){return cd(t)?t.join(e||""):""}function B(e,t){return g(t)?[]:(cd(t)?yd:Vd)(b(e),t)}function U(){return(new Date).getTime()}function Q(e,t,a){return g(a)?t:(cd(a)?Od:Nd)(b(e),t,a)}function H(e){return null==e?e:Ad.call(e)}function G(e,t){return A(t)?[]:t.split(e||"")}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,Number(t)||0)}function $(e){clearTimeout(e)}function W(e){return void 0===e}function z(e){return!W(e)}function X(e){return!!e.execute&&!!e.execute.pageLoad}function Y(e){return!!e.execute&&!!e.execute.mboxes&&e.execute.mboxes.length||0}function K(e){return!!e.prefetch&&!!e.prefetch.pageLoad}function Z(e){return!!e.prefetch&&!!e.prefetch.mboxes&&e.prefetch.mboxes.length||0}function ee(e){return!!e.prefetch&&!!e.prefetch.views&&e.prefetch.views.length||0}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e&&R(e))return+e.toFixed(t)}function ae(){function e(e){n.push(e)}function t(){var e=n;return n=[],e}function a(){return n.length>0}var n=[];return{addEntry:e,getAndClearEntries:t,hasEntries:a}}function ne(){function e(e){return e.edgeHost?Fd.EDGE:Fd.LOCAL}function t(e){var t={},a=X(e),n=Y(e),r=K(e),i=Z(e),o=ee(e);return a&&(t.executePageLoad=a),n&&(t.executeMboxCount=n),r&&(t.prefetchPageLoad=r),i&&(t.prefetchMboxCount=i),o&&(t.prefetchViewCount=o),t}function a(e){var t={};return e.dns&&(t.dns=te(e.dns)),e.tls&&(t.tls=te(e.tls)),e.timeToFirstByte&&(t.timeToFirstByte=te(e.timeToFirstByte)),e.download&&(t.download=te(e.download)),e.responseSize&&(t.responseSize=te(e.responseSize)),t}function n(e){var t={};return e.execution&&(t.execution=te(e.execution)),e.parsing&&(t.parsing=te(e.parsing)),e.request&&(t.request=a(e.request)),rd.default(e,t)}function r(e){f.addEntry(n(e))}function i(e){p&&r({requestId:e.requestId,timestamp:U()})}function o(e,t){p&&r({requestId:e,timestamp:U(),execution:t})}function s(e,t){r(rd.default(t,{requestId:e,timestamp:U()}))}function l(e,t){p&&t&&s(e,t)}function c(a,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;if(p&&n){var o=a.requestId,l=rd.default(t(a),{decisioningMethod:i}),c={mode:e(r),features:l};s(o,rd.default(n,c))}}function u(){return f.getAndClearEntries()}function d(){return f.hasEntries()}function g(e){return d()?rd.default(e,{telemetry:{entries:u()}}):e}var p=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rd.SERVER_SIDE,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae();return{addDeliveryRequestEntry:c,addArtifactRequestEntry:l,addRenderEntry:o,addServerStateEntry:i,getAndClearEntries:u,hasEntries:d,addTelemetryToDeliveryRequest:g}}function re(e,t){return e(t={exports:{}},t.exports),t.exports}function ie(){function e(e){var t=(z(i[e])?i[e]:0)+1;return i[e]=t,""+e+t}function t(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e(t):t;return W(o[a])&&(o[a]=Ud()),a}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(W(o[e]))return-1;var a=Ud()-o[e]-t;return s[e]=a,a}function n(e){delete i[e],delete o[e],delete s[e]}function r(){i={},o={},s={}}var i={},o={},s={};return{timeStart:t,timeEnd:a,getTimings:function(){return s},getTiming:function(e){return s[e]},clearTiming:n,reset:r}}function oe(){var e=window.crypto||window.msCrypto;return!g(e)&&e.getRandomValues&&v(e.getRandomValues)&&e.getRandomValues.bind(e)}function se(){return Jd(Gd)}function le(){for(var e=[],t=0;t<256;t+=1)e.push((t+256).toString(16).substr(1));return e}function ce(e){for(var t=[],a=0;a<16;a+=1)t.push($d[e[a]]);return q("",t).toLowerCase()}function ue(e){var t=e();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,ce(t)}function de(){return ue(se)}function ge(e,t){e[Yp]&&(g(t[rm])||(e[Rm]=t[rm]),w((function(a){g(t[a])||(e[a]=t[a])}),Lf))}function pe(e){var t=e.documentMode;return!t||t>=10}function me(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function fe(e){return Vf.test(e)}function ve(e){if(fe(e))return e;var t=H(G(".",e)),a=t.length;return a>=3&&Of.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===a?t[0]:t[1]+"."+t[0]}function he(e,t,a){var n="";e.location.protocol===Sf||(n=ve(e.location.hostname)),a[Dm]=n,a[Yp]=me(t)&&pe(t),ge(a,e[Vm]||{})}function be(e){he(xf,jf,e);var t=xf.location.protocol===Sf;(Nf=rd.default({},e))[cm]=e[cm]/1e3,Nf[um]=e[um]/1e3,Nf[ym]=Nf[vm]||t?"https:":""}function ye(){return Nf}function De(e){try{return Af(e)}catch(e){return{}}}function _e(e){try{return Rf(e)}catch(e){return""}}function Ce(e){try{return decodeURIComponent(e)}catch(t){return e}}function ke(e){try{return encodeURIComponent(e)}catch(t){return e}}function we(e){if(Mf[e])return Mf[e];Ff.href=e;var t=Hd(Ff.href);return t.queryKey=De(t.query),Mf[e]=t,Mf[e]}function Pe(e,t,a){return{name:e,value:t,expires:a}}function Te(e){var t=G("#",e);return N(t)||t.length<3||isNaN(parseInt(t[2],10))?null:Pe(Ce(t[0]),Ce(t[1]),Number(t[2]))}function Ee(e){return A(e)?[]:G("|",e)}function Ie(){var e=B(Te,Ee(qf(Qf))),t=Math.ceil(U()/1e3);return Q((function(e,t){return e[t.name]=t,e}),{},D((function(e){return f(e)&&t<=e.expires}),e))}function je(e){var t=Ie()[e];return f(t)?t.value:""}function xe(e){return q("#",[ke(e.name),ke(e.value),e.expires])}function Se(e){return e.expires}function Ve(e){var t=B(Se,e);return Math.max.apply(null,t)}function Oe(e,t,a){var n=O(e),r=Math.abs(1e3*Ve(n)-U()),i=q("|",B(xe,n)),o=new Date(U()+r),s=rd.default({domain:t,expires:o,secure:a},a?{sameSite:_f}:{});Bf(Qf,i,s)}function Ne(e){var t=e.name,a=e.value,n=e.expires,r=e.domain,i=e.secure,o=Ie();o[t]=Pe(t,a,Math.ceil(n+U()/1e3)),Oe(o,r,i)}function Le(e){return wd(qf(e))}function Ae(e,t){var a=De(e.location.search);return wd(a[t])}function Re(e,t){var a=we(e.referrer).queryKey;return!g(a)&&wd(a[t])}function Fe(e,t,a){return Le(a)||Ae(e,a)||Re(t,a)}function Me(){var e=ye(),t=e[Dm],a=e[vm],n=rd.default({domain:t,secure:a},a?{sameSite:_f}:{});Bf(Sg,Vg,n);var r=qf(Sg)===Vg;return Uf(Sg),r}function qe(){return Fe(xf,jf,jg)}function Be(){return ye()[Yp]&&Me()&&!qe()}function Ue(){return Fe(xf,jf,Ig)}function Qe(){return Fe(xf,jf,xg)}function He(e,t){var a=e.console;return!g(a)&&v(a[t])}function Ge(e,t){var a=e.console;He(e,"warn")&&a.warn.apply(a,[Hf].concat(t))}function Je(e,t){var a=e.console;He(e,"debug")&&Ue()&&a.debug.apply(a,[Hf].concat(t))}function $e(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Ge(xf,t)}function We(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];Je(xf,t)}function ze(e){return Q((function(t,a){return t[a]=e[a],t}),{},Lf)}function Xe(e,t,a){var n=e[Sm]||[];if(e[Sm]=n,a){var r=n.push;n[im]=Gf,n[Im]=ze(t),n[jm]=[],n[xm]=[],n.push=function(e){n[xm].push(rd.default({timestamp:U()},e)),r.call(this,e)}}}function Ye(e,t,a,n){t===xm&&e[Sm].push(a),n&&t!==xm&&e[Sm][t].push(rd.default({timestamp:U()},a))}function Ke(){Xe(xf,ye(),Ue())}function Ze(e){Ye(xf,xm,e,Ue())}function et(e){Ye(xf,jm,e,Ue())}function tt(){return v($f)}function at(e){return new $f(e)}function nt(){var e=jf.createTextNode(""),t=function(){e.textContent=e.textContent.length>0?"":"a"},a=[];return at((function(){for(var e=a.length,t=0;t<e;t+=1)a[t]();a.splice(0,e)})).observe(e,{characterData:!0}),function(e){a.push(e),t()}}function rt(){return function(e){var t=Jf("<script>");t.on("readystatechange",(function(){t.on("readystatechange",null),t.remove(),t=null,e()})),Jf(jf.documentElement).append(t)}}function it(){tt()?sd.default._setImmediateFn(nt()):-1!==xf.navigator.userAgent.indexOf("MSIE 10")&&sd.default._setImmediateFn(rt())}function ot(e){return new sd.default(e)}function st(e){return sd.default.resolve(e)}function lt(e){return sd.default.reject(e)}function ct(e){return cd(e)?sd.default.race(e):lt(new TypeError(Wf))}function ut(e){return cd(e)?sd.default.all(e):lt(new TypeError(Wf))}function dt(e,t,a){var n=-1;return ct([e,ot((function(e,r){n=J((function(){return r(new Error(a))}),t)}))]).then((function(e){return $(n),e}),(function(e){throw $(n),e}))}function gt(e){if(g(e[rf]))return!1;var t=e[rf];if(g(t[of]))return!1;var a=t[of];return v(a[lf])&&v(a[sf])}function pt(e,t){return!!t&&gt(e)}function mt(e,t){if(!gt(e))return!0;var a=e[rf][of],n=(e[rf][of][cf]||{})[t];return a[sf](n)}function ft(e,t){if(!gt(e))return st(!0);var a=e[rf][of],n=(e[rf][of][cf]||{})[t];return ot((function(e,t){a[lf]((function(){a[sf](n)?e(!0):t(pf)}),!0)}))}function vt(){var e=ye()[gf];return pt(xf,e)}function ht(){return mt(xf,uf)}function bt(){return mt(xf,df)}function yt(){return ft(xf,uf)}function Dt(){return De(xf.location.search)[km]}function _t(e,t){Ne({name:Tm,value:e,expires:t[um],domain:t[Dm],secure:t[vm]})}function Ct(e){_t(e,ye())}function kt(){if(vt()&&!ht())return zf;var e=Dt();if(wd(e))return Ct(e),je(Tm);var t=je(Tm);return A(t)?Ct(zf):Ct(t),je(Tm)}function wt(e){var t=ye();Ne({name:wm,value:e,expires:t[cm],domain:t[Dm],secure:t[vm]})}function Pt(){return je(wm)}function Tt(e){if(A(e))return"";var t=Xf.exec(e);return N(t)||2!==t.length?"":t[1]}function Et(){if(!ye()[pm])return"";var e=qf(Pm);return A(e)?"":e}function It(e){var t=ye();if(t[pm]){var a=t[Dm],n=new Date(U()+t[mm]),r=t[vm],i=qf(Pm),o=rd.default({domain:a,expires:n,secure:r},r?{sameSite:_f}:{});if(wd(i))Bf(Pm,i,o);else{var s=Tt(e);A(s)||Bf(Pm,s,o)}}}function jt(e,t){function a(e,a){var n=t.createEvent("CustomEvent");return a=a||{bubbles:!1,cancelable:!1,detail:void 0},n.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),n}v(e.CustomEvent)||(a.prototype=e.Event.prototype,e.CustomEvent=a)}function xt(e,t){var a=e(),n=t(),r={};return r.sessionId=a,wd(n)?(r.deviceId=n,r):r}function St(e,t,a,n){var r=new e.CustomEvent(a,{detail:n});t.dispatchEvent(r)}function Vt(e,t){var a;try{a=JSON.parse(JSON.stringify(t))}catch(e){a=t}var n=a,r=n.mbox,i=n.error,o=n.url,s=n.analyticsDetails,l=n.responseTokens,c=n.execution,u={type:e,tracking:xt(kt,Pt)};return g(r)||(u.mbox=r),g(i)||(u.error=i),g(o)||(u.url=o),N(s)||(u.analyticsDetails=s),N(l)||(u.responseTokens=l),N(c)||(u.execution=c),u}function Ot(){var e=Vt(Kf,{});St(xf,jf,Kf,e)}function Nt(e){var t=Vt(Zf,e);St(xf,jf,Zf,t)}function Lt(e,t){var a=Vt(ev,e);a.redirect=t,St(xf,jf,ev,a)}function At(e){var t=Vt(tv,e);St(xf,jf,tv,t)}function Rt(e){var t=Vt(av,e);St(xf,jf,av,t)}function Ft(e){var t=Vt(nv,e);St(xf,jf,nv,t)}function Mt(e){var t=Vt(rv,e);St(xf,jf,rv,t)}function qt(e){var t=Vt(iv,e);St(xf,jf,iv,t)}function Bt(e){var t=Vt(ov,e);St(xf,jf,ov,t)}function Ut(e){return P(e)&&1===e.nodeType&&!M(e)}function Qt(e){var t=e.charAt(0),a=e.charAt(1),n=e.charAt(2),r={key:e};return r.val="-"===a?""+t+a+"\\3"+n+" ":t+"\\3"+a+" ",r}function Ht(e){var t=e.match(uv);return N(t)?e:Q((function(e,t){return e.replace(t.key,t.val)}),e,B(Qt,t))}function Gt(e){for(var t,a,n,r,i=[],o=L(e),s=o.indexOf(sv);-1!==s;)t=L(o.substring(0,s)),r=(a=L(o.substring(s))).indexOf(lv),n=L(a.substring(cv,r)),s=(o=L(a.substring(r+1))).indexOf(sv),t&&n&&i.push({sel:t,eq:Number(n)});return o&&i.push({sel:o}),i}function Jt(e){if(Ut(e))return Jf(e);if(!T(e))return Jf(e);var t=Ht(e);if(-1===t.indexOf(sv))return Jf(t);var a=Gt(t);return Q((function(e,t){var a=t.sel,n=t.eq;return e=e.find(a),R(n)&&(e=e.eq(n)),e}),Jf(jf),a)}function $t(e){return Jt(e).length>0}function Wt(e){return Jf("<"+Wg+"/>").append(e)}function zt(e){return Jf(e)}function Xt(e){return Jt(e).prev()}function Yt(e){return Jt(e).next()}function Kt(e){return Jt(e).parent()}function Zt(e,t){return Jt(t).is(e)}function ea(e,t){return Jt(t).find(e)}function ta(e){return Jt(e).children()}function aa(){xf[pv]=xf[pv]||{},xf[pv].querySelectorAll=Jt}function na(e){var t=e[Wm];xf[pv][fv]=t}function ra(){jf.addEventListener(Ug,(function(e){v(xf[pv][mv])&&xf[pv][mv](e)}),!0)}function ia(){if(Qe()){aa();var e=ye()[bm],t=function(){return ra()},a=function(){return $e(dv)};We(gv),ld.default(e).then(t).catch(a)}}function oa(e){return parseInt(e,10)}function sa(e){var t=oa(e);return isNaN(t)?null:t}function la(e){return G(Cv,e)}function ca(e){var t=G(Cv,e),a=sa(t[0]);if(g(a))return null;var n={};n.activityIndex=a;var r=sa(t[1]);return g(r)||(n.experienceIndex=r),n}function ua(e){return D(kv,B(ca,e))}function da(e){return cd(e)?ua(e):ua([e])}function ga(e){var t=De(e),a=t[hv];if(A(a))return null;var n={};n.token=a;var r=t[yv];wd(r)&&r===Vg&&(n.listedActivitiesOnly=!0);var i=t[Dv];wd(i)&&(n.evaluateAsTrueAudienceIds=la(i));var o=t[_v];wd(o)&&(n.evaluateAsFalseAudienceIds=la(o));var s=t[bv];return N(s)||(n.previewIndexes=da(s)),n}function pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bf,a=ga(e.location.search);if(!g(a)){var n=new Date(U()+186e4),r=ye(),i=r[vm],o=r[Dm],s=rd.default({expires:n,secure:i,domain:o},i?{sameSite:_f}:{});t(vv,JSON.stringify(a),s)}}function ma(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qf)(vv);if(A(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function fa(e){var t=De(e)[Pv];return A(t)?null:{token:t}}function va(e){var t=fa(e.location.search);if(!g(t)){var a=new Date(U()+186e4),n=ye()[vm],r=rd.default({expires:a,secure:n},n?{sameSite:_f}:{});Bf(wv,JSON.stringify(t),r)}}function ha(){var e=qf(wv);if(A(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function ba(e){return Jt(e).empty().remove()}function ya(e,t){return Jt(t).after(e)}function Da(e,t){return Jt(t).before(e)}function _a(e,t){return Jt(t).append(e)}function Ca(e,t){return Jt(t).prepend(e)}function ka(e,t){return Jt(t).html(e)}function wa(e){return Jt(e).html()}function Pa(e,t){return Jt(t).text(e)}function Ta(e,t){return"<"+Gg+" "+qg+'="'+e+'" '+Bg+'="'+Wp+'">'+t+"</"+Gg+">"}function Ea(e,t){return Ta(Tv+E(t),t+" {"+e+"}")}function Ia(e,t){return Ta(jv,t+" {"+e+"}")}function ja(e){if(!0===e[lm]&&!$t(Iv)){var t=e[sm];_a(Ta(Ev,t),Qg)}}function xa(e){!0===e[lm]&&$t(Iv)&&ba(Iv)}function Sa(e,t){if(!N(t)){var a=D((function(e){return!$t("#"+(Tv+E(e)))}),t);if(!N(a)){var n=e[om];_a(q("\n",B((function(e){return Ea(n,e)}),a)),Qg)}}}function Va(e,t){N(t)||$t("#"+jv)||_a(Ia(e[om],q(", ",t)),Qg)}function Oa(){ja(ye())}function Na(){xa(ye())}function La(e){Sa(ye(),e)}function Aa(e){Va(ye(),e)}function Ra(e){ba("#"+(Tv+E(e)))}function Fa(){var e="#"+jv;$t(e)&&ba(e)}function Ma(e){return!g(e[qg])}function qa(e){return!g(e[Fm])}function Ba(e){switch(e){case 0:default:return"unknown";case 1:return"authenticated";case 2:return"logged_out"}}function Ua(e){return e[Bm]}function Qa(e){return Ma(e)||qa(e)}function Ha(e,t){return Q((function(e,a,n){var r={};return r[qm]=n,Ma(a)&&(r[qg]=a[qg]),qa(a)&&(r[Mm]=Ba(a[Fm])),r[Wd]=t,Ua(a)&&(r[Bm]=!0),e.push(r),e}),[],D(Qa,e))}function Ga(e){if(!e.nameSpaces&&!e.dataSources)return Ha(e,Mv);var t=[];return e.nameSpaces&&t.push.apply(t,Ha(e.nameSpaces,Fv)),e.dataSources&&t.push.apply(t,Ha(e.dataSources,Mv)),t}function Ja(e){if(g(e))return[];if(!v(e[Av]))return[];var t=e[Av](Rv);return f(t)?Ga(t):[]}function $a(e,t){return g(e)?null:v(e[Lv])?e[Lv](t):null}function Wa(e,t){if(g(e))return null;var a=e[t];return g(a)?null:a}function za(e,t,a){if(A(t))return null;if(g(e[Uv]))return null;if(!v(e[Uv][Qv]))return null;var n=e[Uv][Qv](t,{sdidParamExpiry:a});return f(n)&&v(n[Hv])&&n[Hv]()?n:null}function Xa(e,t){if(!v(e.getVisitorValues))return st({});var a=[Ov,Sv,Vv];return t&&a.push(Nv),ot((function(t){e.getVisitorValues((function(e){return t(e)}),a)}))}function Ya(e){return We(Jv,e),{}}function Ka(e,t,a){return g(e)?st({}):dt(Xa(e,a),t,Gv).catch(Ya)}function Za(e,t){if(!v(e.getVisitorValues))return{};var a=[Ov,Sv,Vv];t&&a.push(Nv);var n={};return e.getVisitorValues((function(e){return rd.default(n,e)}),a),n}function en(e,t){return g(e)?{}:Za(e,t)}function tn(){var e=ye(),t=e[Zp],a=e[hm];return za(xf,t,a)}function an(){var e=tn(),t=ye();return Ka(e,t[gm],t[fm])}function nn(){return en(tn(),ye()[fm])}function rn(){return Ja(tn())}function on(e){return $a(tn(),e)}function sn(e){return Wa(tn(),e)}function ln(e,t){$v[e]=t}function cn(e){return $v[e]}function un(e){var t=e[Vm];if(g(t))return!1;var a=t[Nm];return!(!cd(a)||N(a))}function dn(e){var t=e[Fp];if(!T(t)||N(t))return!1;var a=e[im];if(!T(a)||N(a))return!1;var n=e[am];return!(!g(n)&&!R(n)||!v(e[Jp]))}function gn(e){return ot((function(t,a){e((function(e,n){g(e)?t(n):a(e)}))}))}function pn(e,t,a,n,r,i){var o={};o[e]=t,o[a]=n,o[r]=i;var s={};return s[Om]=o,s}function mn(e){var t=e[Fp],a=e[im],n=e[am]||Xv;return dt(gn(e[Jp]),n,zv).then((function(e){var n=pn(Fp,t,im,a,qp,e);return We(Wv,Op,n),et(n),e})).catch((function(e){var n=pn(Fp,t,im,a,jp,e);return We(Wv,jp,n),et(n),{}}))}function fn(e){var t=Q((function(e,t){return rd.default(e,t)}),{},e);return ln(Nm,t),t}function vn(e){return un(e)?ut(B(mn,D(dn,e[Vm][Nm]))).then(fn):st({})}function hn(){var e=cn(Nm);return g(e)?{}:e}function bn(){return vn(xf)}function yn(){return hn()}function Dn(e){var t=De(e.location.search)[Yv];return A(t)?null:t}function _n(){var e=qf(Kv);return A(e)?null:e}function Cn(){var e=Dn(xf),t=_n();return e||t}function kn(e){return!N(e)&&2===e.length&&wd(e[0])}function wn(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function Pn(e,t,a,n){w((function(e,r){f(e)?(t.push(r),Pn(e,t,a,n),t.pop()):N(t)?a[n(r)]=e:a[n(q(".",t.concat(r)))]=e}),e)}function Tn(e){return D((function(e,t){return wd(t)}),De(e))}function En(e){var t=Q((function(e,t){return e.push(wn(t)),e}),[],D(wd,e));return Q((function(e,t){return e[Ce(L(t[0]))]=Ce(L(t[1])),e}),{},D(kn,t))}function In(e,t){var a={};return g(t)?Pn(e,[],a,h):Pn(e,[],a,t),a}function jn(e){if(!v(e))return{};var t=null;try{t=e()}catch(e){return{}}return g(t)?{}:cd(t)?En(t):T(t)&&wd(t)?Tn(t):f(t)?In(t):{}}function xn(){return window.navigator.userAgentData}function Sn(e){return rd.default({},e,jn(xf.targetPageParamsAll))}function Vn(e){return rd.default({},e,jn(xf.targetPageParams))}function On(e){var t=ye(),a=t[nm],n=t[_m],r=t[Cm];return a!==e?Sn(n||{}):rd.default(Sn(n||{}),Vn(r||{}))}function Nn(){var e=jf.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(g(t))return null;var a=t.getExtension("WEBGL_debug_renderer_info");if(g(a))return null;var n=t.getParameter(a.UNMASKED_RENDERER_WEBGL);return g(n)?null:n}function Ln(){var e=xf.devicePixelRatio;if(!g(e))return e;e=1;var t=xf.screen,a=t.systemXDPI,n=t.logicalXDPI;return!g(a)&&!g(n)&&a>n&&(e=a/n),e}function An(e){if(!cd(e)||0===e.length)return"";var t="";return e.forEach((function(a,n){var r=a.brand,i=a.version,o=n<e.length-1?", ":"";t+='"'+r+'";v="'+i+'"'+o})),t}function Rn(e){return{mobile:e.mobile,platform:e.platform,browserUAWithMajorVersion:An(e.brands)}}function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return e.getHighEntropyValues(Zv).then((function(e){var a=e.platformVersion,n=e.architecture,r=e.bitness,i=e.model,o=e.fullVersionList;return rd.default({},t,{model:i,platformVersion:a,browserUAWithFullVersion:An(o),architecture:n,bitness:r})}))}catch(e){return st(t)}}function Mn(e){return ln(Pf,e),e}function qn(e){return st(e).then(Mn)}function Bn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=cn(Pf);if(z(a))return qn(a);if(W(e))return qn({});var n=Rn(e);return qn(t?Fn(e,n):n)}function Un(){var e=xf.screen,t=e.orientation,a=e.width,n=e.height;if(g(t))return a>n?"landscape":"portrait";if(g(t.type))return null;var r=G("-",t.type);if(N(r))return null;var i=r[0];return g(i)?null:i}function Qn(){return eh}function Hn(e){return e===ah}function Gn(e){return-1!==e.indexOf(th)}function Jn(e){return e===nh}function $n(e){return e===rh}function Wn(e){return e===ih}function zn(e){return e===oh}function Xn(e){return e===sh}function Yn(e){return e===lh}function Kn(e){return Gn(e)||Hn(e)||Jn(e)||$n(e)||Wn(e)||zn(e)||Xn(e)||Yn(e)}function Zn(e){return e.substring(th.length)}function er(e){return e[ah]}function tr(e){return e[nh]}function ar(e){return e[rh]}function nr(e){return e[ih]}function rr(e){var t=B(L,G(",",e[oh]));return D(wd,t)}function ir(e){return e[sh]}function or(e){return e[lh]}function sr(){return Q((function(e,t,a){return Kn(a)||(e[a]=g(t)?"":t),e}),{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Q((function(e,a,n){var r=t?Zn(n):n;return t&&!Gn(n)||A(r)||(e[r]=g(a)?"":a),e}),{},e)}function cr(e,t,a){return e.onload=function(){var n=1223===e.status?204:e.status;if(n<100||n>599)a(new Error(uh));else{var r;try{var i=Ud();(r=JSON.parse(e.responseText)).parsingTime=Ud()-i,r.responseSize=new Blob([e.responseText]).size}catch(e){return void a(new Error(gh))}var o=e.getAllResponseHeaders();t({status:n,headers:o,response:r})}},e}function ur(e,t){return e.onerror=function(){t(new Error(uh))},e}function dr(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(dh))},e}function gr(e){return w((function(t,a){cd(t)&&w((function(t){e.setRequestHeader(a,t)}),t)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e}function pr(e){var t=e.url,a=e.headers,n=e.body,r=e.timeout,i=e.async;return ot((function(e,o){var s=new window.XMLHttpRequest;(s=ur(s=cr(s,e,o),o)).open(ch,t,i),s.withCredentials=!0,s=gr(s,a),i&&(s=dr(s,r,o)),s.send(JSON.stringify(n))})).then((function(e){var t=e.response,a=t.status,n=t.message;if(!g(a)&&!g(n))throw new Error(n);return t}))}function mr(e,t){if(!performance)return null;var a=performance.getEntriesByType("resource").find((function(t){return t.name.endsWith(e)}));if(!a)return null;var n={};return a.domainLookupEnd&&a.domainLookupStart&&(n.dns=a.domainLookupEnd-a.domainLookupStart),a.secureConnectionStart&&a.connectEnd&&(n.tls=a.connectEnd-a.secureConnectionStart),a.responseStart&&(n.timeToFirstByte=a.responseStart-a.requestStart),a.responseEnd&&a.responseStart&&(n.download=a.responseEnd-a.responseStart),a.encodedBodySize?n.responseSize=a.encodedBodySize:t.responseSize&&(n.responseSize=t.responseSize,delete t.responseSize),n}function fr(e,t){return R(t)?t<0?e[am]:t:e[am]}function vr(e){var t=e[em];if(!e[pm])return t;var a=Et();return A(a)?t:""+ph+a+mh}function hr(e){return e[ym]+"//"+vr(e)+e[Lm]+"?"+_e({client:e[Kp],sessionId:kt(),version:e[im]})}function br(e,t,a){var n=ye(),r=hr(n),o=i({},Xm,[Ym]),s=fr(n,t),l={url:r,headers:o,body:e,timeout:s,async:!0};return Qd.timeStart(e.requestId),pr(l).then((function(t){var n={execution:Qd.timeEnd(e.requestId),parsing:t.parsingTime};delete t.parsingTime;var i=mr(r,t);return i&&(n.request=i),t.telemetryServerToken&&(n.telemetryServerToken=t.telemetryServerToken),window.__target_telemetry.addDeliveryRequestEntry(e,n,t,a),rd.default(t,{decisioningMethod:Rd.SERVER_SIDE})}))}function yr(e){if(e[Nv])throw new Error(xv);return e}function Dr(){var e=an(),t=bn();return ut([e.then(yr),t])}function _r(){return[nn(),yn()]}function Cr(e){var t=ye()[nm];return rd.default({},e,On(t))}function kr(){return-(new Date).getTimezoneOffset()}function wr(){var e=xf.screen;return{width:e.width,height:e.height,orientation:Un(),colorDepth:e.colorDepth,pixelRatio:Ln()}}function Pr(){var e=jf.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function Tr(){return{host:xf.location.hostname,webGLRenderer:Qn()}}function Er(){return{url:xf.location.href,referringUrl:jf.referrer}}function Ir(e){if(!g(e)&&e.channel===wf)return e;var t=ye(),a=cn(Pf)||{},n=(e||{}).beacon;return{userAgent:xf.navigator.userAgent,clientHints:a,timeOffsetInMinutes:kr(),channel:wf,screen:wr(),window:Pr(),browser:Tr(),address:Er(),geo:e&&e.geo,crossDomain:t[tm],beacon:n}}function jr(e,t){if(!g(e))return e;var a={};if(N(t))return a;var n=t[Vv],r=parseInt(n,10);isNaN(r)||(a.locationHint=r);var i=t[Sv];return wd(i)&&(a.blob=i),a}function xr(e){var t=e.id,a=e.integrationCode,n=e.authenticatedState,r=e.type,i=e.primary,o={};return wd(t)&&(o.id=t),wd(a)&&(o.integrationCode=a),wd(n)&&(o.authenticatedState=n),wd(r)&&(o.type=r),i&&(o.primary=i),o}function Sr(e){return B(xr,e)}function Vr(e,t,a,n,r){var i={};wd(t)&&(i.tntId=t),wd(a)&&(i.thirdPartyId=a),wd(e.thirdPartyId)&&(i.thirdPartyId=e.thirdPartyId);var o=n[Ov];return wd(o)&&(i.marketingCloudVisitorId=o),wd(e.marketingCloudVisitorId)&&(i.marketingCloudVisitorId=e.marketingCloudVisitorId),N(e.customerIds)?(N(r)||(i.customerIds=Sr(r)),i):(i.customerIds=e.customerIds,i)}function Or(e,t){var a={},n=jr(e.audienceManager,t);return N(n)||(a.audienceManager=n),N(e.analytics)||(a.analytics=e.analytics),N(e.platform)||(a.platform=e.platform),a}function Nr(e,t){if(!g(e)&&wd(e.token))return e;var a={},n=tr(t);return wd(n)&&(a.token=n),a}function Lr(e){if(!g(e)&&wd(e.authorizationToken))return e;var t={},a=Cn();return wd(a)&&(t.authorizationToken=a),t}function Ar(e){return g(e)?ha():e}function Rr(e){return g(e)?ma():e}function Fr(e){var t={},a=ar(e);g(a)||(t.id=a);var n=nr(e),r=parseFloat(n);isNaN(r)||(t.total=r);var i=rr(e);return N(i)||(t.purchasedProductIds=i),t}function Mr(e){var t={},a=ir(e);g(a)||(t.id=a);var n=or(e);return g(n)||(t.categoryId=n),t}function qr(e,t){var a={},n=rd.default({},sr(t),sr(e.parameters||{})),r=rd.default({},lr(t),lr(e.profileParameters||{},!1)),i=rd.default({},Fr(t),e.order||{}),o=rd.default({},Mr(t),e.product||{});return N(n)||(a.parameters=n),N(r)||(a.profileParameters=r),N(i)||(a.order=i),N(o)||(a.product=o),a}function Br(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ye()[nm],r=e.index,i=e.name,o=e.address,s=qr(e,rd.default({},i===n?t:a,On(i)));return g(r)||(s.index=r),wd(i)&&(s.name=i),N(o)||(s.address=o),s}function Ur(e,t){var a=e.name,n=e.address,r=qr(e,t);return wd(a)&&(r.name=a),N(n)||(r.address=n),r}function Qr(e,t,a){var n=e.execute,r=void 0===n?{}:n,i={};if(N(r))return i;var o=r.pageLoad;g(o)||(i.pageLoad=qr(o,t));var s=r.mboxes;if(!g(s)&&cd(s)&&!N(s)){var l=D(fh,B((function(e){return Br(e,t,a)}),s));N(l)||(i.mboxes=l)}return i}function Hr(e,t,a){var n=e.prefetch,r=void 0===n?{}:n,i={};if(N(r))return i;var o=r.mboxes;g(o)||!cd(o)||N(o)||(i.mboxes=B((function(e){return Br(e,t,a)}),o));var s=r.views;return g(s)||!cd(s)||N(s)||(i.views=B((function(e){return Ur(e,t)}),s)),i}function Gr(e,t){if(vt()&&!bt())return null;var a=ye(),n=on(e),r=sn(qv),i=sn(Bv),o=t.experienceCloud,s=(void 0===o?{}:o).analytics,l=void 0===s?{}:s,c=l.logging,u=l.supplementalDataId,d=l.trackingServer,p=l.trackingServerSecure,m={};return g(c)?m.logging=a[mf]:m.logging=c,g(u)||(m.supplementalDataId=u),wd(n)&&(m.supplementalDataId=n),g(d)||(m.trackingServer=d),wd(r)&&(m.trackingServer=r),g(p)||(m.trackingServerSecure=p),wd(i)&&(m.trackingServerSecure=i),N(m)?null:m}function Jr(e,t,a){var n=Cr(a),r=Pt(),i=er(n),o=rn(),s=Vr(e.id||{},r,i,t,o),l=Nr(e.property,n),c=Or(e.experienceCloud||{},t),u=Lr(e.trace),d=Ar(e.preview),g=Rr(e.qaMode),p=Qr(e,n,a),m=Hr(e,n,a),f=e.notifications,v={};return v.requestId=de(),v.context=Ir(e.context),N(s)||(v.id=s),N(l)||(v.property=l),N(u)||(v.trace=u),N(c)||(v.experienceCloud=c),N(d)||(v.preview=d),N(g)||(v.qaMode=g),N(p)||(v.execute=p),N(m)||(v.prefetch=m),N(f)||(v.notifications=f),v=xf.__target_telemetry.addTelemetryToDeliveryRequest(v)}function $r(e,t,a){var n=a[0],r=a[1];return Jr(e,n,rd.default({},r,t))}function Wr(e,t){var a=ye();return ut([Dr(),Bn(xn(),a[Tf])]).then((function(a){var n=o(a,1)[0];return $r(e,t,n)}))}function zr(e,t){return $r(e,t,_r())}function Xr(e,t){return We(Gp,e),et({request:e}),br(e,t,Rd.SERVER_SIDE).then((function(t){return We(Hp,t),et({response:t}),{request:e,response:t}}))}function Yr(e){return!e&&Yf?Yf:Yf=de()}function Kr(e,t){return{status:Op,type:e,data:t}}function Zr(e,t){return{status:jp,type:e,data:t}}function ei(e){return f(e)}function ti(e){return!!ei(e)&&wd(e.eventToken)}function ai(e){return!N(e)&&!A(e.type)&&wd(e.eventToken)}function ni(e){return!!ai(e)&&wd(e.selector)}function ri(e){var t=e.id;return f(t)&&wd(t.tntId)}function ii(e){var t=e.response;return ri(t)&&wt(t.id.tntId),e}function oi(e){var t=e.response;return ri(t)&&It(t.id.tntId),It(null),e}function si(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trace;N(e)||Ze(e)}function li(e){var t=e.response,a=t.execute,n=void 0===a?{}:a,r=t.prefetch,i=void 0===r?{}:r,o=t.notifications,s=void 0===o?{}:o,l=n.pageLoad,c=void 0===l?{}:l,u=n.mboxes,d=void 0===u?[]:u,g=i.mboxes,p=void 0===g?[]:g,m=i.views,f=void 0===m?[]:m;return si(c),w(si,d),w(si,p),w(si,f),w(si,s),e}function ci(e){var t=e.queryKey,a=t[Fh];if(!T(a))return t;if(A(a))return t;var n=Math.round(U()/1e3);return t[Fh]=a.replace(/\|TS=\d+/,"|TS="+n),t}function ui(e){return e.queryKey}function di(e,t,a){var n=we(e),r=n.protocol,i=n.host,o=n.path,s=""===n.port?"":":"+n.port,l=A(n.anchor)?"":"#"+n.anchor,c=a(n),u=_e(rd.default({},c,t));return r+"://"+i+s+o+(A(u)?"":"?"+u)+l}function gi(e,t){return di(e,t,ci)}function pi(e,t){return di(e,t,ui)}function mi(e){var t=e.content;if(A(t))return We(yp,e),null;var a=rd.default({},e);return a.content=gi(t,{}),a}function fi(e){throw new Error(e)}function vi(e){var t=e[Hh]||Uh,a=e[Gh]||fi(Bh),n=e[Jh]||{},r=e[$h]||null,i=e[Wh]||!1,o=e[zh]||3e3,s=!!g(e[Xh])||!0===e[Xh],l={};return l[Hh]=t,l[Gh]=a,l[Jh]=n,l[$h]=r,l[Wh]=i,l[zh]=o,l[Xh]=s,l}function hi(e,t,a){return e.onload=function(){var n=1223===e.status?204:e.status;if(n<100||n>599)a(new Error(Mh));else{var r=e.responseText,i=e.getAllResponseHeaders();t({status:n,headers:i,response:r})}},e}function bi(e,t){return e.onerror=function(){t(new Error(Mh))},e}function yi(e,t,a){return e.timeout=t,e.ontimeout=function(){a(new Error(qh))},e}function Di(e,t){return!0===t&&(e.withCredentials=t),e}function _i(e,t){return w((function(t,a){w((function(t){return e.setRequestHeader(a,t)}),t)}),t),e}function Ci(e,t){var a=vi(t),n=a[Hh],r=a[Gh],i=a[Jh],o=a[$h],s=a[Wh],l=a[zh],c=a[Xh];return ot((function(t,a){var u=new e.XMLHttpRequest;(u=bi(u=hi(u,t,a),a)).open(n,r,c),u=_i(u=Di(u,s),i),c&&(u=yi(u,l,a)),u.send(o)}))}function ki(e){return Ci(xf,e)}function wi(e,t,a){var n={};return n[Hh]=Uh,n[Gh]=pi(e,t),n[zh]=a,n}function Pi(e){return e>=200&&e<300||304===e}function Ti(e){if(!Pi(e.status))return null;var t=e.response;if(A(t))return null;var a={}
;return a.type=Ag,a.content=t,a}function Ei(e){return ki(wi(e.content,{},ye()[zh])).then(Ti).catch((function(){return null}))}function Ii(e){var t=e[ng];if(A(t))return"";var a=Yh.exec(t);return N(a)||2!==a.length?"":a[1]}function ji(e,t){var a=document.createElement(Wg);a.innerHTML=t;var n=a.firstElementChild;return g(n)?t:(n.id=e,n.outerHTML)}function xi(e){var t=e[zd],a=Ii(e);if(A(a)||A(t))return e;var n=e[ng];return e[ng]=n.replace(Kh,""),e[zd]=ji(a,t),e}function Si(e){return!g(e.selector)}function Vi(e){if(!Si(e))return null;var t=xi(e);return T(t[zd])?t:(We(pp,t),null)}function Oi(e){if(!Si(e))return null;var t=xi(e);return T(t[zd])?t:(We(pp,t),null)}function Ni(e){if(!Si(e))return null;var t=xi(e);return T(t[zd])?t:(We(pp,t),null)}function Li(e){if(!Si(e))return null;var t=xi(e);return T(t[zd])?t:(We(pp,t),null)}function Ai(e){if(!Si(e))return null;var t=xi(e);return T(t[zd])?t:(We(pp,t),null)}function Ri(e){if(!Si(e))return null;var t=xi(e);return T(t[zd])?t:(We(pp,t),null)}function Fi(e){if(!Si(e))return null;var t=xi(e);return T(t[zd])?t:(We(pp,t),null)}function Mi(e){return Si(e)?T(e[zd])?e:(We(pp,e),null):null}function qi(e){return Si(e)?f(e[zd])?e:(We(mp,e),null):null}function Bi(e){return Si(e)?T(e[zd])?e:(We(Dp,e),null):null}function Ui(e){return Si(e)?f(e[zd])?e:(We(fp,e),null):null}function Qi(e){return Si(e)?f(e[zd])?e:(We(vp,e),null):null}function Hi(e){return Si(e)?f(e[zd])?e:(We(hp,e),null):null}function Gi(e){return Si(e)?e:null}function Ji(e){return Si(e)?f(e[zd])?e:(We(bp,e),null):null}function $i(e){var t=e.content;return A(t)?(We(yp,e),null):(e.content=gi(t,{}),e)}function Wi(e){var t=e[Wd];if(A(t))return null;switch(t){case ig:return Vi(e);case sg:return Oi(e);case Cg:return Ni(e);case wg:return Li(e);case Tg:return Ai(e);case Dg:return Ri(e);case _g:return Fi(e);case vg:return Mi(e);case cg:return qi(e);case ug:return Bi(e);case dg:return Ui(e);case pg:return Qi(e);case mg:return Hi(e);case fg:return Gi(e);case gg:return Ji(e);case hg:return $i(e);default:return null}}function zi(e){var t=e[zd];if(!cd(t))return null;if(N(t))return null;var a=D(Zh,B(Wi,t));if(N(a))return null;var n=rd.default({},e);return n.content=a,n}function Xi(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).options;return cd(e)?N(e)?[]:wh(B(jh,e)):[]}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,a=void 0===t?{}:t,n=e.prefetch,r=void 0===n?{}:n,i=a.pageLoad,o=void 0===i?{}:i,s=a.mboxes,l=void 0===s?[]:s,c=r.mboxes,u=void 0===c?[]:c,d=r.views,g=void 0===d?[]:d,p=Xi(o),m=C(B(Xi,l)),f=C(B(Xi,u)),v=C(B(Xi,g));return C([p,m,f,v])}function Ki(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).execute,t=void 0===e?{}:e,a=t.pageLoad,n=void 0===a?{}:a,r=t.mboxes,i=void 0===r?[]:r,o=Th(n)||[],s=C(wh(B(Th,i))),l=C([o,s]),c=C(B(Eh,D(Ch,l))),u=D(kh,l),d=D(kh,c),g=u.concat(d),p={};if(N(g))return p;var m=g[0].content;return A(m)||(p.url=m),p}function Zi(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).analytics;return N(e)?[]:[e]}function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,a=void 0===t?{}:t,n=e.prefetch,r=void 0===n?{}:n,i=a.pageLoad,o=void 0===i?{}:i,s=a.mboxes,l=void 0===s?[]:s,c=r.mboxes,u=void 0===c?[]:c,d=r.views,g=void 0===d?[]:d,p=r.metrics,m=void 0===p?[]:p,f=Zi(o),v=C(B(Zi,l)),h=C(B(Zi,u)),b=C(B(Zi,g)),y=C(B(Zi,m));return C([f,v,h,b,y])}function to(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function ao(e,t){var a=t[0],n=t[1],r=!N(a),i=!N(n);return r||i?(r&&(e.options=a),i&&(e.metrics=n),e):e}function no(e){switch(e.type){case hg:return st(mi(e));case Rg:return Ei(e);case Bp:return st(zi(e));default:return st(e)}}function ro(e,t){if(!cd(e))return st([]);if(N(e))return st([]);var a=D(t,e);return N(a)?st([]):ut(B((function(e){return no(e)}),a)).then(wh)}function io(e,t){return cd(e)?N(e)?st([]):st(D(t,e)):st([])}function oo(e){var t=e.response.execute;if(!f(t))return st(null);var a=t.pageLoad;if(!f(a))return st(null);var n=a.analytics,r=a.options,i=a.metrics,o=N(n)?{}:{analytics:n};return ut([ro(r,ei),io(i,ni)]).then((function(e){return ao(o,e)}))}function so(e){var t=e.name,a=e.analytics,n=e.options,r=e.metrics,i={name:t,analytics:a};return ut([ro(n,ei),io(r,ai)]).then((function(e){return ao(i,e)}))}function lo(e){var t=e.response.execute;if(!f(t))return st([]);var a=t.mboxes;return!cd(a)||N(a)?st([]):ut(B(so,D(Vh,a))).then(wh)}function co(e,t,a){return e.index===t&&e.name===a}function uo(e,t,a){var n=e.prefetch,r=(void 0===n?{}:n).mboxes,i=void 0===r?[]:r;return N(i)?null:_(D((function(e){return co(e,t,a)}),i))}function go(e,t){var a=t.index,n=t.name,r=t.state,i=t.analytics,o=t.options,s=t.metrics,l=uo(e,a,n),c={name:n,state:r,analytics:i};return g(l)||to(c,l),ut([ro(o,ti),io(s,ai)]).then((function(e){return ao(c,e)}))}function po(e){var t=e.request,a=e.response.prefetch;if(!f(a))return st([]);var n=a.mboxes;return!cd(n)||N(n)?st([]):ut(B((function(e){return go(t,e)}),D(Oh,n))).then(wh)}function mo(e){var t=e.prefetch,a=(void 0===t?{}:t).views,n=void 0===a?[]:a;return N(n)?null:n[0]}function fo(e,t){var a=t.name,n=t.state,r=t.analytics,i=t.options,o=t.metrics,s=mo(e),l={name:a.toLowerCase(),state:n,analytics:r};return g(s)||to(l,s),ut([ro(i,ti),io(o,ni)]).then((function(e){return ao(l,e)}))}function vo(e){var t=e.request,a=e.response.prefetch;if(!f(a))return st([]);var n=a.views;return!cd(n)||N(n)?st([]):ut(B((function(e){return fo(t,e)}),D(Nh,n))).then(wh)}function ho(e){var t=e.response.prefetch;return f(t)?io(t.metrics,ni):st([])}function bo(e){var t=e.response,a=t.remoteMboxes,n=t.remoteViews,r=t.decisioningMethod,i={};return f(a)&&(i.remoteMboxes=a),f(n)&&(i.remoteViews=n),T(r)&&(i.decisioningMethod=r),st(i)}function yo(e){return g(e)||A(e.id)?st(null):st({id:e.id})}function Do(e){var t=e.response.notifications;return cd(t)?ut(B(yo,t)).then(wh):st([])}function _o(e){var t=e[0],a=e[1],n=e[2],r=e[3],i=e[4],o=e[5],s=e[6],l={},c={};f(t)&&(c.pageLoad=t),N(a)||(c.mboxes=a);var u={};return N(n)||(u.mboxes=n),N(r)||(u.views=r),N(i)||(u.metrics=i),N(c)||(l.execute=c),N(u)||(l.prefetch=u),N(o)||(l.meta=o),N(s)||(l.notifications=s),l}function Co(e){var t=k([li,ii,oi])(e);return ut([oo(t),lo(t),po(t),vo(t),ho(t),bo(t),Do(t)]).then(_o)}function ko(e){return!N(Ki(e))}function wo(e){var t=Yi(e),a={};return N(t)||(a.responseTokens=t),a}function Po(e){var t=e[Ef],a=e[If],n={};return N(t)||(n.sandboxId=t),N(a)||(n.sandboxName=a),n}function To(e){var t=wo(e),a=eo(e);return N(a)||(t.analyticsDetails=a),We(up,e),Lt(t,ko(e)),st(e)}function Eo(e,t){var a=wo(t);a.mbox=e;var n=eo(t);return N(n)||(a.analyticsDetails=n),We(up,t),Lt(a,ko(t)),st(t)}function Io(e){return $e(cp,e),At({error:e}),lt(e)}function jo(e,t){return $e(cp,t),At({mbox:e,error:t}),lt(t)}function xo(e,t){var a=e[nm],n=t.mbox,r={},i={},o={};n===a?i.pageLoad={}:i.mboxes=[{index:0,name:n}],r.execute=i;var s=Gr(n,r);N(s)||(o.analytics=s);var l=Po(e);return N(l)||(o.platform=l),N(o)||(r.experienceCloud=o),r}function So(e){var t=ye(),a=e.mbox,n=e.timeout,r=f(e.params)?e.params:{},i=function(e){return Eo(a,e)},o=function(e){return jo(a,e)},s=xo(t,e);return Nt({mbox:a}),Wr(s,r).then((function(e){return Xr(e,n)})).then(Co).then(i).catch(o)}function Vo(e,t){var a=e[nm],n=t.consumerId,r=void 0===n?a:n,i=t.request,o=t.page,s=void 0===o||o,l=Gr(r,i);i.impressionId=i.impressionId||Yr(s);var c=i.experienceCloud||{};N(l)||(c.analytics=l);var u=Po(e);return N(u)||(c.platform=u),N(c)||(i.experienceCloud=c),i}function Oo(e){var t=ye(),a=e.timeout,n=function(e){return To(e)},r=function(e){return Io(e)},i=Vo(t,e);return Nt({}),Wr(i,{}).then((function(e){return Xr(e,a)})).then(Co).then(n).catch(r)}function No(e,t){return Jt(t).addClass(e)}function Lo(e,t){return Jt(t).css(e)}function Ao(e,t){return Jt(t).attr(e)}function Ro(e,t,a){return Jt(a).attr(e,t)}function Fo(e,t){return Jt(t).removeAttr(e)}function Mo(e,t,a){var n=Ao(e,a);wd(n)&&(Fo(e,a),Ro(t,n,a))}function qo(e,t){return wd(Ao(e,t))}function Bo(e){return new Error("Could not find: "+e)}function Uo(e,t,a){return ot((function(n,r){var i=at((function(){var t=a(e);N(t)||(i.disconnect(),n(t))}));J((function(){i.disconnect(),r(Bo(e))}),t),i.observe(jf,{childList:!0,subtree:!0})}))}function Qo(){return jf[eb]===tb}function Ho(e,t,a){return ot((function(n,r){function i(){var t=a(e);N(t)?xf.requestAnimationFrame(i):n(t)}i(),J((function(){r(Bo(e))}),t)}))}function Go(e,t,a){return ot((function(n,r){function i(){var t=a(e);N(t)?J(i,ab):n(t)}i(),J((function(){r(Bo(e))}),t)}))}function Jo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye()[dm],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jt,n=a(e);return N(n)?tt()?Uo(e,t,a):Qo()?Ho(e,t,a):Go(e,t,a):st(n)}function $o(e){return Ao(Ng,e)}function Wo(e){return qo(Ng,e)}function zo(e){return w((function(e){return Mo(Mg,Ng,e)}),O(ea($g,e))),e}function Xo(e){return w((function(e){return Mo(Ng,Mg,e)}),O(ea($g,e))),e}function Yo(e){return We(kp,e),Ao(Mg,Ro(Mg,e,zt("<"+$g+"/>")))}function Ko(e){var t=D(Wo,O(ea($g,e)));return N(t)||w(Yo,B($o,t)),e}function Zo(e){return k([zo,Ko,Xo])(e)}function es(e){var t=Ao(Mg,e);return wd(t)?t:null}function ts(e){return D(wd,B(es,O(ea(Fg,e))))}function as(e){return Q((function(e,t){return e.then((function(){return We(Ip,t),et({remoteScript:t}),ld.default(t)}))}),st(),e)}function ns(e){return e}function rs(e,t){return $e(lp,t),et({action:e,error:t}),e}function is(e,t){var a,n=Jt(t[ng]),r=Zo(Wt(t[zd])),i=ts(r);try{a=st(e(n,r))}catch(e){return lt(rs(t,e))}return N(i)?a.then((function(){return ns(t)})).catch((function(e){return rs(t,e)})):a.then((function(){return as(i)})).then((function(){return ns(t)})).catch((function(e){return rs(t,e)}))}function os(e){var t=Wt(e);return q("",Q((function(e,t){return e.push(wa(Wt(t))),e}),[],O(ea(nb,t))))}function ss(e){var t=rd.default({},e),a=t[zd];if(A(a))return t;var n=Jt(t[ng]);return Zt(Qg,n)?(t[Wd]=Cg,t[zd]=os(a),t):t}function ls(e){return e.indexOf("px")===e.length-2?e:e+"px"}function cs(e,t){return ka(wa(t),e)}function us(e){return We(gp,e),is(cs,e)}function ds(e){var t=Jt(e[ng]),a=e[zd];return We(gp,e),et({action:e}),Pa(a,t),st(e)}function gs(e,t){return _a(wa(t),e)}function ps(e){return We(gp,e),is(gs,e)}function ms(e,t){return Ca(wa(t),e)}function fs(e){return We(gp,e),is(ms,e)}function vs(e,t){var a=Kt(e);return ba(Da(wa(t),e)),a}function hs(e){return We(gp,e),is(vs,e)}function bs(e,t){return Xt(Da(wa(t),e))}function ys(e){return We(gp,e),is(bs,e)}function Ds(e,t){return Yt(ya(wa(t),e))}function _s(e){return We(gp,e),is(Ds,e)}function Cs(e,t){return Kt(Da(wa(t),e))}function ks(e){return We(gp,e),is(Cs,e)}function ws(e){var t=e[zd],a=Jt(e[ng]);return We(gp,e),et({action:e}),Fo(Mg,a),Ro(Mg,Yo(t),a),st(e)}function Ps(e){var t=e[zd],a=Jt(e[ng]);return We(gp,e),et({action:e}),w((function(e,t){return Ro(t,e,a)}),t),st(e)}function Ts(e,t,a){w((function(e){w((function(t,n){return e.style.setProperty(n,t,a)}),t)}),O(e))}function Es(e){var t=Jt(e[ng]),a=e[zd],n=a[ag];return We(gp,e),et({action:e}),A(n)?Lo(a,t):Ts(t,a,n),st(e)}function Is(e){var t=Jt(e[ng]),a=e[zd];return a[Yd]=ls(a[Yd]),a[Xd]=ls(a[Xd]),We(gp,e),et({action:e}),Lo(a,t),st(e)}function js(e){var t=Jt(e[ng]),a=e[zd];return a[Kd]=ls(a[Kd]),a[Zd]=ls(a[Zd]),We(gp,e),et({action:e}),Lo(a,t),st(e)}function xs(e){var t=Jt(e[ng]);return We(gp,e),et({action:e}),ba(t),st(e)}function Ss(e){var t=Jt(e[ng]),a=e[zd],n=Number(a[eg]),r=Number(a[tg]);if(isNaN(n)&&isNaN(r))return We(Cp,e),lt(e);var i=O(ta(t)),o=i[n],s=i[r];return $t(o)&&$t(s)?(We(gp,e),et({action:e}),n<r?ya(o,s):Da(o,s),st(e)):(We(_p,e),lt(e))}function Vs(e){var t=ss(e);switch(t[Wd]){case ig:return us(t);case sg:return ds(t);case Cg:return ps(t);case wg:return fs(t);case Tg:return hs(t);case Dg:return ys(t);case _g:return _s(t);case vg:return ks(t);case cg:return Ps(t);case ug:return ws(t);case dg:return Es(t);case pg:return Is(t);case mg:return js(t);case fg:return xs(t);case gg:return Ss(t);default:return st(t)}}function Os(e){return e[Wd]===bg||e[Wd]===yg}function Ns(e){var t=e[ng];return wd(t)||Ut(t)}function Ls(e){var t=e.key;if(!A(t)&&Ns(e)){var a=e[ng];Ro(rb,t,a)}}function As(e){var t=e[rg];A(t)||Ra(t)}function Rs(e){if(Ns(e)){var t=e[ng];Os(e)?No(Xp,t):(No(zp,t),As(e))}else As(e)}function Fs(e){w(Rs,e)}function Ms(e){var t=e.key;if(A(t))return!0;if(e[Wd]===vg)return e[Um];var a=e[ng],n=Ao(rb,a);return n!==t||n===t&&!e[Um]}function qs(e){return Ms(e)?Vs(e).then((function(){return We(dp,e),et({action:e}),Ls(e),Rs(e),e})).catch((function(t){$e(lp,t),et({action:e,error:t}),Rs(e);var a=rd.default({},e);return a[jp]=!0,a})):(Rs(e),e)}function Bs(e){var t=D((function(e){return!0===e[jp]}),e);return N(t)?st():(Fs(t),lt(e))}function Us(e){return Jo(e[ng]).then((function(){return e})).catch((function(){var t=rd.default({},e);return t[jp]=!0,t}))}function Qs(e){return Us(e).then(qs)}function Hs(e){return ut(B(Qs,e)).then(Bs)}function Gs(e,t,a){return Jt(a).on(e,t)}function Js(e,t,a){return Jt(a).off(e,t)}function $s(e){return Jo(e[ng]).then((function(){return et({metric:e}),rd.default({found:!0},e)})).catch((function(){return $e(ib,e),et({metric:e,message:ib}),e}))}function Ws(e){var t=e.name,a=cn(Hm)||{};a[t]=e,ln(Hm,a)}function zs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.page,n=void 0===a||a,r=(cn(Hm)||{})[e];if(g(r))return r;var i=t.impressionId;return g(i)?r:rd.default({page:n,impressionId:i},r)}function Xs(e){w(Ws,e)}function Ys(e,t,a){return e[ob][sb](t,a)}function Ks(e,t,a){var n={};n[Xm]=[Ym];var r={};r[Hh]=Qh,r[Gh]=t,r[$h]=a,r[Wh]=!0,r[Xh]=!1,r[Jh]=n;try{e(r)}catch(e){return!1}return!0}function Zs(e){return ob in e&&sb in e[ob]}function el(e,t){return Zs(xf)?Ys(xf,e,t):Ks(ki,e,t)}function tl(e){var t=Gr(e,{}),a={context:{beacon:!0}};if(!N(t)){var n={};n.analytics=t,a.experienceCloud=n}return a}function al(e,t,a){var n=zr(tl(e),t);return n.notifications=a,n}function nl(e,t,a){return Wr(tl(e),t).then((function(e){return e.notifications=a,e}))}function rl(e,t,a){var n={id:de(),type:t,timestamp:U(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return N(a)||(n.tokens=a),n}function il(e,t,a){var n=e.name,r=e.state,i=rl(e,t,a);return i.mbox={name:n,state:r},i}function ol(e,t,a){var n=e.name,r=e.state,i=rl(e,t,a);return i.view={name:n,state:r},i}function sl(e){return new Promise((function(t,a){var n=hr(ye());if(el(n,JSON.stringify(e)))return We(lb,n,e),void t();$e(cb,n,e),a()}))}function ll(e,t,a){var n=On(ye()[nm]),r=rl(qr({},n),t,[a]),i=al(de(),n,[r]);We(pb,e,r),et({source:e,event:t,request:i}),sl(i)}function cl(e,t,a){var n=On(e),r=rl(qr({},n),t,[a]);r.mbox={name:e};var i=al(de(),n,[r]);We(mb,e,r),et({mbox:e,event:t,request:i}),sl(i)}function ul(e){var t=ye()[nm],a=[],n=zm;if(w((function(e){var t=e.mbox,r=e.data;if(!g(r)){var i=r.eventTokens,o=void 0===i?[]:i;N(o)||a.push(il(t,n,o))}}),e),!N(a)){var r=al(t,{},a);We(gb,a),et({source:vb,event:hb,request:r}),sl(r)}}function dl(e,t,a){var n=On(ye()[nm]),r=rl(qr({},n),t,[a]);r.view={name:e};var i=al(de(),n,[r]);We(fb,e,r),et({view:e,event:t,request:i}),sl(i)}function gl(e){var t=e.viewName,a=e.impressionId,n=On(ye()[nm]),r=rl(qr({},n),zm,[]);r.view={name:t},We(ub,t),nl(t,n,[r]).then((function(e){e.impressionId=a,et({view:t,event:bb,request:e}),sl(e)}))}function pl(e){if(!g(e)){var t=e.view,a=e.data,n=(void 0===a?{}:a).eventTokens,r=void 0===n?[]:n,i=t.name,o=t.impressionId,s=zs(i);if(!g(s)){var l=al(i,{},[ol(s,zm,r)]);l.impressionId=o,We(db,i,r),et({view:i,event:hb,request:l}),sl(l)}}}function ml(e,t){e===Ug&&No(Xp,t)}function fl(e,t){return!g(yb[e])&&!g(yb[e][t])}function vl(e,t,a){if(g(yb[e])){var n=y(yb);N(n)||w((function(e){w((function(n){var r=yb[e][n];Js(t,r,a)}),y(yb[e])),delete yb[e]}),n)}}function hl(e,t,a){yb[e]=yb[e]||{},yb[e][t]=a}function bl(e,t,a,n){var r=a.type,i=a.selector,o=a.eventToken,s=E(r+":"+i+":"+o),l=function(){return n(e,r,o)};ml(r,i),t?fl(e,s)||(vl(e,r,i),hl(e,s,l),Gs(r,l,i)):Gs(r,l,i)}function yl(e,t,a,n){return $s(a).then((function(a){a.found&&bl(e,t,a,n)}))}function Dl(e,t,a,n){return ut(B((function(a){return yl(e,t,a,n)}),a)).then(kb).catch(wb)}function _l(e){return Dl(e.name,!1,Cb(e),cl)}function Cl(e){return Dl(e.name,!0,Cb(e),dl)}function kl(e){return Dl(Db,!1,Cb(e),ll)}function wl(e){return Dl(_b,!1,Cb(e),ll)}function Pl(e){var t=B(Tb,e);La(Ph(t))}function Tl(e){var t=B(Tb,e);Aa(wh(t))}function El(e){var t=D(Ch,Th(e));return C(B(Pb,t))}function Il(e){return f(e)&&e.type!==lg}function jl(e,t,a){return B((function(e){return rd.default({key:t,page:a},e)}),D(Il,e))}function xl(e,t,a){var n=e.eventToken,r=e.responseTokens;return Hs(jl(e.content,t,a)).then((function(){return Eb({eventToken:n,responseTokens:r})})).catch((function(e){return Ib(e,{eventToken:n,responseTokens:r})}))}function Sl(e){return f(e)&&e.type!==Lg}function Vl(e,t){return B(e,D(Sl,Th(t)))}function Ol(e,t,a){var n=i({status:Op},e,t),r=B(Ah,D(_h,a)),o={};return N(r)||(n.status=jp,o.errors=r),N(o)||(n.data=o),n}function Nl(e,t,a){var n=i({status:Op},e,t),r=B(Ah,D(_h,a)),o=B(Ah,D(jb,a)),s=wh(B(Ih,o)),l=wh(B(jh,o)),c={};return N(r)||(n.status=jp,c.errors=r),N(s)||(c.eventTokens=s),N(l)||(c.responseTokens=l),N(c)||(n.data=c),n}function Ll(e,t,a){return ut(Vl((function(e){return xl(e,!0)}),e)).then(t).then((function(t){return a(e),t}))}function Al(e,t,a,n){var r=t.name;return ut(Vl((function(e){return xl(e,r,a)}),t)).then((function(a){return Nl(e,t,a)})).then((function(e){return n(t),e}))}function Rl(e){return Ll(e,(function(t){return Ol(Ap,e,t)}),_l)}function Fl(e){return Al(Ap,e,!0,_l)}function Ml(e){Pl(El(e))}function ql(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var t=e.execute,a=(void 0===t?{}:t).pageLoad,n=void 0===a?{}:a;N(n)||Ml(n)}}function Bl(e){var t=e.prefetch,a=(void 0===t?{}:t).views,n=void 0===a?[]:a;N(n)||Tl(C(B(El,n)))}function Ul(e){Pl(El(e)),Fa()}function Ql(e){return Ll(e,(function(t){return Ol($p,e,t)}),kl)}function Hl(e){return ut(B(Rl,e))}function Gl(e){return ut(B(Fl,e))}function Jl(e){return ut([wl(e)]).then(Ol)}function $l(e){var t=e.page;return Al(Qm,e,t,Cl)}function Wl(){}function zl(){return new Sb}function Xl(e,t,a){e.emit(t,a)}function Yl(e,t,a){e.on(t,a)}function Kl(e,t){Xl(Vb,e,t)}function Zl(e,t){Yl(Vb,e,t)}function ec(e){return{type:hg,content:e.url}}function tc(e){var t={};return t.type=ig,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ac(e){var t={};return t.type=sg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function nc(e){var t={};return t.type=Cg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function rc(e){var t={};return t.type=wg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ic(e){var t={};return t.type=Tg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function oc(e){var t={};return t.type=Dg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function sc(e){var t={};return t.type=_g,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function lc(e){var t={};return t.type=vg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cc(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===Mg)return t.type=ug,t.content=e.value,t;t.type=cg;var a={};return a[e.attribute]=e.value,t.content=a,t}function uc(e){var t=e.style,a=void 0===t?{}:t,n={};return n.selector=e.selector,n.cssSelector=e.cssSelector,g(a.left)||g(a.top)?g(a.width)||g(a.height)?(n.type=dg,n.content=a,n):(n.type=pg,n.content=a,n):(n.type=mg,n.content=a,n)}function dc(e){var t={};return t.type=fg,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function gc(e){var t={};t.from=e.from,t.to=e.to;var a={};return a.type=gg,a.selector=e.selector,a.cssSelector=e.cssSelector,a.content=t,a}function pc(e){return wd(e.selector)&&wd(e.cssSelector)}function mc(e){var t={};if(N(e))return t;var a=[],n=[],r=[];w((function(e){switch(e.action){case og:pc(e)?r.push(tc(e)):a.push({type:Ag,content:e.content});break;case lg:N(e.content)||w((function(e){return a.push({type:Lg,content:e})}),e.content);break;case sg:r.push(ac(e));break;case kg:r.push(nc(e));break;case Pg:r.push(rc(e));break;case Eg:r.push(ic(e));break;case Dg:r.push(oc(e));break;case _g:r.push(sc(e));break;case vg:r.push(lc(e));break;case cg:r.push(cc(e));break;case dg:r.push(uc(e));break;case fg:r.push(dc(e));break;case gg:r.push(gc(e));break;case hg:a.push(ec(e));break;case bg:n.push({type:Ug,selector:e.selector,eventToken:e.clickTrackId})}}),e);var i={};if(!N(r)&&a.push({type:Bp,content:r}),!N(a)&&(i.options=a),!N(n)&&(i.metrics=n),N(i))return t;var o={};return o.pageLoad=i,t.execute=o,t}function fc(e,t){var a={};if(N(t))return a;var n=[],r=[];w((function(e){switch(e.action){case og:n.push({type:Ag,content:e.content});break;case lg:N(e.content)||w((function(e){return n.push({type:Lg,content:e})}),e.content);break;case hg:n.push(ec(e));break;case yg:r.push({type:Ug,eventToken:e.clickTrackId})}}),t);var i={name:e};if(!N(n)&&(i.options=n),!N(r)&&(i.metrics=r),N(i))return a;var o={},s=[i];return o.mboxes=s,a.execute=o,a}function vc(e,t,a){return a?mc(t):fc(e,t)}function hc(e){var t=e.status,a=e.data,n={status:t,pageLoad:!0};return g(a)||(n.data=a),n}function bc(e){var t=e.status,a=e.mbox,n=e.data,r={status:t,mbox:a.name};return g(n)||(r.data=n),r}function yc(e){var t=e.status,a=e.view,n=e.data,r={status:t,view:a.name};return g(n)||(r.data=n),r}function Dc(e){var t=e.status,a=e.data,n={status:t,prefetchMetrics:!0};return g(a)||(n.data=a),n}function _c(e){if(g(e))return[null];var t=B(hc,[e]);return Rb(t)&&$e(Ob,e),t}function Cc(e){if(g(e))return[null];var t=B(bc,e);return Rb(t)&&$e(Nb,e),t}function kc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ul;if(g(e))return[null];var a=B(bc,e);return Rb(a)&&$e(Nb,e),t(e),a}function wc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl;if(g(e))return[null];var a=B(yc,[e]);return Rb(a)&&$e(Lb,e),e.view.page?(t(e),a):a}function Pc(e){if(g(e))return[null];var t=B(Dc,[e]);return Rb(t)&&$e(Ab,e),t}function Tc(e){var t=C([_c(e[0]),Cc(e[1]),kc(e[2]),Pc(e[3])]),a=D(bh,t),n=D(_h,a);return N(n)?st(a):lt(n)}function Ec(e){return lt(e)}function Ic(e,t){if(!N(t)){var a=t.options;N(a)||w((function(t){if(t.type===Ag){var a=ig,n=t.content;t.type=Bp,t.content=[{type:a,selector:e,content:n}]}}),a)}}function jc(e,t){var a=t.metrics;if(!N(a)){var n=t.name;w((function(t){t.name=n,t.selector=t.selector||e}),a)}}function xc(e,t){var a=rd.default({},t),n=a.execute,r=void 0===n?{}:n,i=a.prefetch,o=void 0===i?{}:i,s=r.pageLoad,l=void 0===s?{}:s,c=r.mboxes,u=void 0===c?[]:c,d=o.mboxes,g=void 0===d?[]:d;return Ic(e,l),w((function(t){return Ic(e,t)}),u),w((function(t){return jc(e,t)}),u),w((function(t){return Ic(e,t)}),g),w((function(t){return jc(e,t)}),g),a}function Sc(e){var t=e.prefetch,a=(void 0===t?{}:t).views,n=void 0===a?[]:a;N(n)||Xs(n)}function Vc(e){var t=[],a=e.execute,n=void 0===a?{}:a,r=n.pageLoad,i=void 0===r?{}:r,o=n.mboxes,s=void 0===o?[]:o;N(i)?t.push(st(null)):t.push(Ql(i)),N(s)?t.push(st(null)):t.push(Hl(s));var l=e.prefetch,c=void 0===l?{}:l,u=c.mboxes,d=void 0===u?[]:u,g=c.metrics,p=void 0===g?[]:g;return N(d)?t.push(st(null)):t.push(Gl(d)),cd(p)&&!N(p)?t.push(Jl(c)):t.push(st(null)),Na(),ut(t).then(Tc).catch(Ec)}function Oc(e,t){J((function(){return e.location.replace(t)}))}function Nc(e){return wd(e)||Ut(e)?e:Qg}function Lc(e){No(zp,e)}function Ac(e){var t=e.mbox,a=e.selector,n=e.offer,r=ye(),i=t===r[nm];if(N(n))return We(Tp),Lc(a),Na(),void qt({mbox:t});var o=xc(a,vc(t,n,i)),s=Ki(o);if(!N(s)){var l=s.url;return We(Ep,s),Bt({url:l}),void Oc(xf,l)}Rt({mbox:t}),ql(o),Vc(o).then((function(e){N(e)||Ft({mbox:t,execution:e})})).catch((function(e){return Mt({error:e})}))}function Rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefetch,a=void 0===t?{}:t,n=e.execute,r=void 0===n?{}:n,i=r.pageLoad,o=void 0===i?{}:i,s=r.mboxes,l=void 0===s?[]:s,c=a.pageLoad,u=void 0===c?{}:c,d=a.views,g=void 0===d?[]:d,p=a.mboxes,m=void 0===p?[]:p;return N(o)&&N(l)&&N(u)&&N(g)&&N(m)}function Fc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.selector,n=e.response;if(Rc(n))return We(Tp),Lc(a),Na(),qt({}),Kl(yf),st();var r=xc(a,n),i=Ki(r);if(!N(i)){var o=i.url;return We(Ep,i),Bt({url:o}),Kl(Df),Oc(xf,o),st()}return Rt({}),Sc(r),Kl(bf),ql(r,t),Vc(r).then((function(e){N(e)||Ft({execution:e})})).catch((function(e){return Mt({error:e})}))}function Mc(e){var t=e[ff];if(N(t))return!1;var a=t.request,n=t.response;return!N(a)&&!N(n)}function qc(e){return e[ff]}function Bc(e){window.__target_telemetry.addServerStateEntry(e)}function Uc(e){$e(Fb,Zm,e),Kl(yf),et({source:Fb,error:e}),Na()}function Qc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={selector:Qg,response:e};We(Fb,Hp,e),et({source:Fb,response:e}),Fc(a,t).catch(Uc)}function Hc(e,t){var a=rd.default({},t),n=a.execute,r=a.prefetch,i=e[Rm],o=e[Am];return n&&(a.execute.mboxes=void 0),n&&!i&&(a.execute.pageLoad=void 0),r&&(a.prefetch.mboxes=void 0),r&&!o&&(a.prefetch.views=void 0),a}function Gc(e){var t=qc(e),a=t.request,n=t.response,r=!0;We(Fb,nf),et({source:Fb,serverState:t});var i=Hc(e,n);ql(i),Bl(i),Bc(a),Co({request:a,response:i}).then((function(e){return Qc(e,r)})).catch(Uc)}function Jc(){if(!Be())return $e(Fb,zg),void et({source:Fb,error:zg});var e=ye();if(Mc(e))Gc(e);else{var t=e[Rm],a=e[Am];if(!t&&!a)return We(Fb,af),void et({source:Fb,error:af});Oa();var n={};if(t){var r={pageLoad:{}};n.execute=r}if(a){var i={views:[{}]};n.prefetch=i}var o=e[am];We(Fb,Gp,n),et({source:Fb,request:n});var s={request:n,timeout:o};vt()&&!ht()?yt().then((function(){Oo(s).then(Qc).catch(Uc)})).catch(Uc):Oo(s).then(Qc).catch(Uc)}}function $c(){var e={};return e[Vp]=!0,e}function Wc(e){var t={};return t[Vp]=!1,t[jp]=e,t}function zc(e){return A(e)?Wc(np):e.length>Og?Wc(rp):$c()}function Xc(e){if(!f(e))return Wc(Yg);var t=zc(e[Ap]);return t[Vp]?v(e[Op])?v(e[jp])?$c():Wc(op):Wc(ip):t}function Yc(e){if(!f(e))return Wc(Yg);var t=e.request;if(!f(t))return Wc(Kg);var a=t.execute,n=t.prefetch;return f(a)||f(n)?$c():Wc(ep)}function Kc(e){if(!f(e))return Wc(Yg);var t=e.request;if(!f(t))return Wc(Kg);var a=t.execute,n=t.prefetch,r=t.notifications;return f(a)||f(n)?Wc(tp):cd(r)?$c():Wc(ap)}function Zc(e){if(!f(e))return Wc(Yg);var t=zc(e[Ap]);if(!t[Vp])return t;var a=e[Rp];return cd(a)?$c():Wc(sp)}function eu(e){return f(e)?f(e.response)?$c():Wc(Zg):Wc(Yg)}function tu(e){if(!f(e))return Wc(Yg);var t=zc(e[Ap]);return t[Vp]?$c():t}function au(e){return{action:hg,url:e.content}}function nu(e){var t={};return t.action=og,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ru(e){var t={};return t.action=sg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function iu(e){var t={};return t.action=kg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ou(e){var t={};return t.action=Pg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function su(e){var t={};return t.action=Eg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function lu(e){var t={};return t.action=Dg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function cu(e){var t={};return t.action=_g,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function uu(e){var t={};return t.action=vg,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function du(e){var t=y(e.content)[0],a={};return a.action=cg,a.attribute=t,a.value=e.content[t],a.selector=e.selector,a.cssSelector=e.cssSelector,a}function gu(e){var t={};return t.action=cg,t.attribute=Mg,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function pu(e){var t={};return t.action=dg,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function mu(e){var t={};return t.action=dg,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function fu(e){var t={};return t.action=dg,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function vu(e){var t={};return t.action=fg,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function hu(e){var t={};return t.action=gg,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function bu(e){var t=[];return w((function(e){switch(e.type){case ig:t.push(nu(e));break;case sg:t.push(ru(e));break;case Cg:t.push(iu(e));break;case wg:t.push(ou(e));break;case Tg:t.push(su(e));break;case Dg:t.push(lu(e));break;case _g:t.push(cu(e));break;case vg:t.push(uu(e));break;case cg:t.push(du(e));break;case ug:t.push(gu(e));break;case dg:t.push(pu(e));break;case pg:t.push(mu(e));break;case mg:t.push(fu(e));break;case fg:t.push(vu(e));break;case gg:t.push(hu(e));break;case hg:t.push(au(e))}}),e),t}function yu(e){if(N(e))return[];var t=[];return w((function(e){e.type===Ug&&(Lh(e)?t.push({action:bg,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:yg,clickTrackId:e.eventToken}))}),e),t}function Du(e){if(N(e))return[];var t=[],a=[],n=[],r=e.options,i=void 0===r?[]:r,o=e.metrics,s=void 0===o?[]:o;w((function(e){switch(e.type){case Ag:t.push(e.content);break;case Lg:a.push(e.content);break;case hg:n.push(au(e));break;case Bp:n.push.apply(n,bu(e.content))}}),i),N(t)||n.push({action:og,content:t.join("")}),N(a)||n.push({action:lg,content:a});var l=yu(s);return N(l)||n.push.apply(n,l),n}function _u(e){var t=e.execute,a=void 0===t?{}:t,n=a.pageLoad,r=void 0===n?{}:n,i=a.mboxes,o=void 0===i?[]:i,s=[];return s.push.apply(s,Du(r)),s.push.apply(s,C(B(Du,o))),s}function Cu(e,t){var a=_u(t);e[Op](a)}function ku(e,t){var a=t[Mp]||Sp;e[jp](a,t)}function wu(e){var t=Xc(e),a=t[jp];if(!t[Vp])return $e(Mb,a),void et({source:Mb,options:e,error:a});if(!Be())return J(e[jp](xp,zg)),$e(Mb,zg),void et({source:Mb,options:e,error:zg});var n=function(t){return Cu(e,t)},r=function(t){return ku(e,t)};We(Mb,e),et({source:Mb,options:e}),vt()&&!ht()?yt().then((function(){So(e).then(n).catch(r)})):So(e).then(n).catch(r)}function Pu(e){var t=Yc(e),a=t[jp];return t[Vp]?Be()?(We(qb,e),et({source:qb,options:e}),!vt()||ht()?Oo(e):yt().then((function(){return Oo(e)}))):($e(qb,zg),et({source:qb,options:e,error:zg}),lt(new Error(zg))):($e(qb,a),et({source:qb,options:e,error:a}),lt(t))}function Tu(e){var t=Nc(e.selector),a=E(t);Qd.timeStart(a);var n=Zc(e),r=n[jp];if(!n[Vp])return $e(Bb,e,r),et({source:Bb,options:e,error:r}),void Lc(t);if(!Be())return $e(Bb,zg),et({source:Bb,options:e,error:zg}),void Lc(t);e.selector=t,We(Bb,e),et({source:Bb,options:e}),Ac(e);var i=Qd.timeEnd(a);Qd.clearTiming(a),window.__target_telemetry.addRenderEntry(a,i)}function Eu(e){var t=Nc(e.selector),a=E(t);Qd.timeStart(a);var n=eu(e),r=n[jp];return n[Vp]?Be()?(e.selector=t,We(Ub,e),et({source:Ub,options:e}),Fc(e).then((function(){var e=Qd.timeEnd(a);Qd.clearTiming(a),window.__target_telemetry.addRenderEntry(a,e)}))):($e(Ub,zg),et({source:Ub,options:e,error:zg}),Lc(t),lt(new Error(zg))):($e(Ub,e,r),et({source:Ub,options:e,error:r}),Lc(t),lt(n))}function Iu(e){var t=ye()[nm],a=e.consumerId,n=void 0===a?t:a,r=e.request,i=Kc(e),o=i[jp];if(!i[Vp])return $e(Qb,o),void et({source:Qb,options:e,error:o});if(!Be())return $e(Qb,zg),void et({source:Qb,options:e,error:zg});We(Qb,e),et({source:Qb,options:e});var s=al(n,{},r.notifications);!vt()||ht()?sl(s):$e(Qb,pf)}function ju(e,t){var a=t[Ap],n=rd.default({},t),r=f(t.params)?t.params:{};return n[qp]=rd.default({},On(a),r),n[am]=fr(e,t[am]),n[Op]=v(t[Op])?t[Op]:Md,n[jp]=v(t[jp])?t[jp]:Md,n}function xu(e){var t=e[Wd],a=e[ng];return wd(t)&&(wd(a)||Ut(a))}function Su(e){var t=e.mbox,a=e.type,n=void 0===a?zm:a,r=f(e.params)?e.params:{},i=rd.default({},On(t),r),o=rl(qr({},i),n,[]);o.mbox={name:t},sl(al(t,i,[o])).then((function(){We(wp,e),e[Op]()})).catch((function(){$e(Pp,e),e[jp](Sp,Pp)}))}function Vu(e){if(vt()&&!ht())return $e(Pp,pf),void e[jp](jp,pf);Su(e)}function Ou(e){return Vu(e),!e.preventDefault}function Nu(e){var t=e[ng],a=e[Wd],n=O(Jt(t)),r=function(){return Ou(e)};w((function(e){return Gs(a,r,e)}),n)}function Lu(e){var t=tu(e),a=t[jp];if(!t[Vp])return $e(Hb,a),void et({source:Hb,options:e,error:a});var n=ju(ye(),e);if(!Be())return $e(Hb,zg),J(n[jp](xp,zg)),void et({source:Hb,options:e,error:zg});We(Hb,n),et({source:Hb,options:n}),xu(n)?Nu(n):Vu(n)}function Au(e){return Ul(e),$l(e).then(wc).then((function(e){N(e)||Ft({execution:e})})).catch((function(e){$e(Km,e),Mt({error:e})}))}function Ru(){for(;Jb.length>0;){var e=Jb.pop(),t=e.viewName,a=e.page,n=zs(t,e);g(n)?a&&gl(e):Au(n)}}
function Fu(){zb=Wb,Ru()}function Mu(){Zl(bf,Fu),Zl(yf,Fu),Zl(Df,Fu)}function qu(e,t){var a={};return a.viewName=e,a.impressionId=de(),a.page=!0,N(t)||(a.page=!!t.page),a}function Bu(e){Jb.push(e),zb!==$b&&Ru()}function Uu(e,t){if(ye()[Am]){if(!T(e)||A(e))return $e(Gb,ef,e),void et({source:Gb,view:e,error:ef});var a=e.toLowerCase(),n=qu(a,t);We(Gb,a,n),Qe()?na(n):(et({source:Gb,view:a,options:n}),Bu(n))}else $e(Gb,tf)}function Qu(){$e(Yb,arguments)}function Hu(){$e(Kb,arguments)}function Gu(){$e(Zb,arguments)}function Ju(){$e(ey,arguments)}function $u(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function Wu(){Object.keys(localStorage).filter(ay).forEach((function(e){return localStorage.removeItem(e)}))}function zu(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){Wu()}}function Xu(){function e(e){return iy+":"+e}function t(e){var t=localStorage.getItem(e),a=parseInt(t,ry);return Number.isNaN(a)&&(a=ny),a}function a(e,t){localStorage.setItem(e,t)}function n(){var e=t(sy)+1;return a(sy,e),e}function r(t,a){zu(e(t),a)}function i(t){var a=e(t),n=localStorage.getItem(a);return localStorage.removeItem(a),n}function o(){for(var e=[],n=t(oy)||ny,r=t(sy)||ny,o=r;o>n;o-=1){var s=i(o);s&&e.push(JSON.parse(s))}return a(oy,r),e}function s(e){r(n(),e)}function l(){return o()}function c(){var a=e(t(sy));return!!localStorage.getItem(a)}return{addEntry:s,getAndClearEntries:l,hasEntries:c}}function Yu(e){e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:Md,getOffers:qd,applyOffer:Md,applyOffers:qd,sendNotifications:Md,trackEvent:Md,triggerView:Md,registerExtension:Md,init:Md},e.mboxCreate=Md,e.mboxDefine=Md,e.mboxUpdate=Md}function Ku(e,t,a){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)$e(Xg);else{be(a);var n=ye(),r=n[im];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=r,e.adobe.target.event={LIBRARY_LOADED:Kf,REQUEST_START:Zf,REQUEST_SUCCEEDED:ev,REQUEST_FAILED:tv,CONTENT_RENDERING_START:av,CONTENT_RENDERING_SUCCEEDED:nv,CONTENT_RENDERING_FAILED:rv,CONTENT_RENDERING_NO_OFFERS:iv,CONTENT_RENDERING_REDIRECT:ov},!n[Yp])return Yu(e),void $e(zg);e.__target_telemetry=ne(n[kf]&&$u(),n[Cf],Xu()),Ke(),ia(),pa(e),va(e),e.adobe.target.getOffer=wu,e.adobe.target.getOffers=Pu,e.adobe.target.applyOffer=Tu,e.adobe.target.applyOffers=Eu,e.adobe.target.sendNotifications=Iu,e.adobe.target.trackEvent=Lu,e.adobe.target.triggerView=Uu,e.adobe.target.registerExtension=Qu,e.mboxCreate=Hu,e.mboxDefine=Gu,e.mboxUpdate=Ju,Ot()}}var Zu=a("@adobe/reactor-object-assign"),ed=a("@adobe/reactor-cookie"),td=a("@adobe/reactor-query-string"),ad=a("@adobe/reactor-promise"),nd=a("@adobe/reactor-load-script"),rd=n(Zu),id=n(ed),od=n(td),sd=n(ad),ld=n(nd),cd=Array.isArray,ud=Object.prototype,dd=ud.toString,gd="[object Function]",pd=function(e,t){return t.forEach(e)},md=function(e,t){pd((function(a){return e(t[a],a)}),y(t))},fd=function(e,t){return t.filter(e)},vd=function(e,t){var a={};return md((function(t,n){e(t,n)&&(a[n]=t)}),t),a},hd="[object String]",bd=9007199254740991,yd=function(e,t){return t.map(e)},Dd=Object.prototype,_d=Dd.hasOwnProperty,Cd=String.prototype,kd=Cd.trim,wd=function(e){return!A(e)},Pd="[object Number]",Td="[object Object]",Ed=Function.prototype,Id=Object.prototype,jd=Ed.toString,xd=Id.hasOwnProperty,Sd=jd.call(Object),Vd=function(e,t){var a={};return md((function(t,n){a[n]=e(t,n)}),t),a},Od=function(e,t,a){return a.reduce(e,t)},Nd=function(e,t,a){var n=t;return md((function(t,a){n=e(n,t,a)}),a),n},Ld=Array.prototype,Ad=Ld.reverse,Rd={ON_DEVICE:"on-device",SERVER_SIDE:"server-side",HYBRID:"hybrid"},Fd={EDGE:"edge",LOCAL:"local"},Md=function(){},qd=function(e){return Promise.resolve(e)},Bd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ud=re((function(e){(function(){var t,a,n,r,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1e6},a=process.hrtime,r=(t=function(){var e;return 1e9*(e=a())[0]+e[1]})(),o=1e9*process.uptime(),i=r-o):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(Bd)})),Qd=ie(),Hd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=a.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[a.key[i]]=n[i]||"";return r[a.q.name]={},r[a.key[12]].replace(a.q.parser,(function(e,t,n){t&&(r[a.q.name][t]=n)})),r}},Gd=new Uint8Array(256),Jd=oe(),$d=le(),Wd="type",zd="content",Xd="height",Yd="width",Kd="left",Zd="top",eg="from",tg="to",ag="priority",ng="selector",rg="cssSelector",ig="setHtml",og="setContent",sg="setText",lg="setJson",cg="setAttribute",ug="setImageSource",dg="setStyle",gg="rearrange",pg="resize",mg="move",fg="remove",vg="customCode",hg="redirect",bg="trackClick",yg="signalClick",Dg="insertBefore",_g="insertAfter",Cg="appendHtml",kg="appendContent",wg="prependHtml",Pg="prependContent",Tg="replaceHtml",Eg="replaceContent",Ig="mboxDebug",jg="mboxDisable",xg="mboxEdit",Sg="at_check",Vg="true",Og=250,Ng="data-at-src",Lg="json",Ag="html",Rg="dynamic",Fg="script",Mg="src",qg="id",Bg="class",Ug="click",Qg="head",Hg="script",Gg="style",Jg="link",$g="img",Wg="div",zg='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',Xg="Adobe Target has already been initialized.",Yg="options argument is required",Kg="request option is required",Zg="response option is required",ep="execute or prefetch is required",tp="execute or prefetch is not allowed",ap="notifications are required",np="mbox option is required",rp="mbox option is too long",ip="success option is required",op="error option is required",sp="offer option is required",lp="Unexpected error",cp="request failed",up="request succeeded",dp="Action rendered successfully",gp="Rendering action",pp="Action has no content",mp="Action has no attributes",fp="Action has no CSS properties",vp="Action has no height or width",hp="Action has no left, top or position",bp="Action has no from or to",yp="Action has no url",Dp="Action has no image url",_p="Rearrange elements are missing",Cp='Rearrange has incorrect "from" and "to" indexes',kp="Loading image",wp="Track event request succeeded",Pp="Track event request failed",Tp="No actions to be rendered",Ep="Redirect action",Ip="Script load",jp="error",xp="warning",Sp="unknown",Vp="valid",Op="success",Np="render",Lp="metric",Ap="mbox",Rp="offer",Fp="name",Mp="status",qp="params",Bp="actions",Up="responseTokens",Qp="data",Hp="response",Gp="request",Jp="provider",$p="pageLoad",Wp="at-flicker-control",zp="at-element-marker",Xp="at-element-click-tracking",Yp="enabled",Kp="clientCode",Zp="imsOrgId",em="serverDomain",tm="crossDomain",am="timeout",nm="globalMboxName",rm="globalMboxAutoCreate",im="version",om="defaultContentHiddenStyle",sm="bodyHiddenStyle",lm="bodyHidingEnabled",cm="deviceIdLifetime",um="sessionIdLifetime",dm="selectorsPollingTimeout",gm="visitorApiTimeout",pm="overrideMboxEdgeServer",mm="overrideMboxEdgeServerTimeout",fm="optoutEnabled",vm="secureOnly",hm="supplementalDataIdParamTimeout",bm="authoringScriptUrl",ym="scheme",Dm="cookieDomain",_m="mboxParams",Cm="globalMboxParams",km="mboxSession",wm="PC",Pm="mboxEdgeCluster",Tm="session",Em="Traces",Im="settings",jm="client"+Em,xm="server"+Em,Sm="___target_traces",Vm="targetGlobalSettings",Om="dataProvider",Nm=Om+"s",Lm="endpoint",Am="viewsEnabled",Rm="pageLoadEnabled",Fm="authState",Mm="authenticatedState",qm="integrationCode",Bm="primary",Um="page",Qm="view",Hm="views",Gm="options",Jm="metrics",$m="eventToken",Wm="viewName",zm="display",Xm="Content-Type",Ym="text/plain",Km="View rendering failed",Zm="View delivery error",ef="View name should be a non-empty string",tf="Views are not enabled",af="Page load disabled",nf="Using server state",rf="adobe",of="optIn",sf="isApproved",lf="fetchPermissions",cf="Categories",uf="TARGET",df="ANALYTICS",gf="optinEnabled",pf="Adobe Target is not opted in",mf="analyticsLogging",ff="serverState",vf="cspScriptNonce",hf="cspStyleNonce",bf="cache-updated-event",yf="no-offers-event",Df="redirect-offer-event",_f="None",Cf="decisioningMethod",kf="telemetryEnabled",wf="web",Pf="clientHints",Tf="allowHighEntropyClientHints",Ef="aepSandboxId",If="aepSandboxName",jf=document,xf=window,Sf="file:",Vf=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,Of=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,Nf={},Lf=[Yp,Kp,Zp,em,tm,Dm,am,_m,Cm,om,"defaultContentVisibleStyle",cm,sm,lm,dm,gm,pm,mm,fm,gf,vm,hm,bm,"urlSizeLimit",Lm,Rm,Am,mf,ff,Cf,"pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment",kf,"cdnBasePath",vf,hf,nm,Tf,Ef,If],Af=od.default.parse,Rf=od.default.stringify,Ff=jf.createElement("a"),Mf={},qf=id.default.get,Bf=id.default.set,Uf=id.default.remove,Qf="mbox",Hf="AT:",Gf="1",Jf=function(e){var t=function(){function t(e){return null==e?String(e):Y[K.call(e)]||"object"}function a(e){return"function"==t(e)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function o(e){return"object"==t(e)}function s(e){return o(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function l(e){var t=!!e&&"length"in e&&e.length,a=E.type(e);return"function"!=a&&!n(e)&&("array"==a||0===t||"number"==typeof t&&t>0&&t-1 in e)}function c(e){return O.call(e,(function(e){return null!=e}))}function u(e){return e.length>0?E.fn.concat.apply([],e):e}function d(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function g(e){return e in R?R[e]:R[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function p(e,t){return"number"!=typeof t||F[d(e)]?t:t+"px"}function m(e){var t,a;return A[e]||(t=L.createElement(e),L.body.appendChild(t),a=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==a&&(a="block"),A[e]=a),A[e]}function f(e){return"children"in e?N.call(e.children):E.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function v(e,t){var a,n=e?e.length:0;for(a=0;a<n;a++)this[a]=e[a];this.length=n,this.selector=t||""}function h(e,t,a){for(T in t)a&&(s(t[T])||ae(t[T]))?(s(t[T])&&!s(e[T])&&(e[T]={}),ae(t[T])&&!ae(e[T])&&(e[T]=[]),h(e[T],t[T],a)):t[T]!==P&&(e[T]=t[T])}function b(e,t){return null==t?E(e):E(e).filter(t)}function y(e,t,n,r){return a(t)?t.call(e,n,r):t}function D(e,t,a){null==a?e.removeAttribute(t):e.setAttribute(t,a)}function _(e,t){var a=e.className||"",n=a&&a.baseVal!==P;if(t===P)return n?a.baseVal:a;n?a.baseVal=t:e.className=t}function C(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?E.parseJSON(e):e):e}catch(t){return e}}function k(e,t){t(e);for(var a=0,n=e.childNodes.length;a<n;a++)k(e.childNodes[a],t)}function w(e,t,a){var n=e.getElementsByTagName("script")[0];if(n){var r=n.parentNode;if(r){var i=e.createElement("script");i.innerHTML=t,wd(a)&&i.setAttribute("nonce",a),r.appendChild(i),r.removeChild(i)}}}var P,T,E,I,j,x,S=[],V=S.concat,O=S.filter,N=S.slice,L=e.document,A={},R={},F={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},M=/^\s*<(\w+|!)[^>]*>/,q=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,B=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,Q=/([A-Z])/g,H=["val","css","html","text","data","width","height","offset"],G=["after","prepend","before","append"],J=L.createElement("table"),$=L.createElement("tr"),W={tr:L.createElement("tbody"),tbody:J,thead:J,tfoot:J,td:$,th:$,"*":L.createElement("div")},z=/complete|loaded|interactive/,X=/^[\w-]*$/,Y={},K=Y.toString,Z={},ee=L.createElement("div"),te={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ae=Array.isArray||function(e){return e instanceof Array};return Z.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(a)return a.call(e,t);var n,r=e.parentNode,i=!r;return i&&(r=ee).appendChild(e),n=~Z.qsa(r,t).indexOf(e),i&&ee.removeChild(e),n},j=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},x=function(e){return O.call(e,(function(t,a){return e.indexOf(t)==a}))},Z.fragment=function(e,t,a){var n,r,i;return q.test(e)&&(n=E(L.createElement(RegExp.$1))),n||(e.replace&&(e=e.replace(B,"<$1></$2>")),t===P&&(t=M.test(e)&&RegExp.$1),t in W||(t="*"),(i=W[t]).innerHTML=""+e,n=E.each(N.call(i.childNodes),(function(){i.removeChild(this)}))),s(a)&&(r=E(n),E.each(a,(function(e,t){H.indexOf(e)>-1?r[e](t):r.attr(e,t)}))),n},Z.Z=function(e,t){return new v(e,t)},Z.isZ=function(e){return e instanceof Z.Z},Z.init=function(e,t){var n;if(!e)return Z.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&M.test(e))n=Z.fragment(e,RegExp.$1,t),e=null;else{if(t!==P)return E(t).find(e);n=Z.qsa(L,e)}else{if(a(e))return E(L).ready(e);if(Z.isZ(e))return e;if(ae(e))n=c(e);else if(o(e))n=[e],e=null;else if(M.test(e))n=Z.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==P)return E(t).find(e);n=Z.qsa(L,e)}}return Z.Z(n,e)},(E=function(e,t){return Z.init(e,t)}).extend=function(e){var t,a=N.call(arguments,1);return"boolean"==typeof e&&(t=e,e=a.shift()),a.forEach((function(a){h(e,a,t)})),e},Z.qsa=function(e,t){var a,n="#"==t[0],r=!n&&"."==t[0],i=n||r?t.slice(1):t,o=X.test(i);return e.getElementById&&o&&n?(a=e.getElementById(i))?[a]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:N.call(o&&!n&&e.getElementsByClassName?r?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},E.contains=L.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},E.type=t,E.isFunction=a,E.isWindow=n,E.isArray=ae,E.isPlainObject=s,E.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},E.isNumeric=function(e){var t=Number(e),a=r(e);return null!=e&&"boolean"!=a&&("string"!=a||e.length)&&!isNaN(t)&&isFinite(t)||!1},E.inArray=function(e,t,a){return S.indexOf.call(t,e,a)},E.camelCase=j,E.trim=function(e){return null==e?"":String.prototype.trim.call(e)},E.uuid=0,E.support={},E.expr={},E.noop=function(){},E.map=function(e,t){var a,n,r,i=[];if(l(e))for(n=0;n<e.length;n++)null!=(a=t(e[n],n))&&i.push(a);else for(r in e)null!=(a=t(e[r],r))&&i.push(a);return u(i)},E.each=function(e,t){var a,n;if(l(e)){for(a=0;a<e.length;a++)if(!1===t.call(e[a],a,e[a]))return e}else for(n in e)if(!1===t.call(e[n],n,e[n]))return e;return e},E.grep=function(e,t){return O.call(e,t)},e.JSON&&(E.parseJSON=JSON.parse),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){Y["[object "+t+"]"]=t.toLowerCase()})),E.fn={constructor:Z.Z,length:0,forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,splice:S.splice,indexOf:S.indexOf,concat:function(){var e,t,a=[];for(e=0;e<arguments.length;e++)t=arguments[e],a[e]=Z.isZ(t)?t.toArray():t;return V.apply(Z.isZ(this)?this.toArray():this,a)},map:function(e){return E(E.map(this,(function(t,a){return e.call(t,a,t)})))},slice:function(){return E(N.apply(this,arguments))},ready:function(e){return z.test(L.readyState)&&L.body?e(E):L.addEventListener("DOMContentLoaded",(function(){e(E)}),!1),this},get:function(e){return e===P?N.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){for(var t,a=this.length,n=0;n<a&&(t=this[n],!1!==e.call(t,n,t));)n++;return this},filter:function(e){return a(e)?this.not(this.not(e)):E(O.call(this,(function(t){return Z.matches(t,e)})))},add:function(e,t){return E(x(this.concat(E(e,t))))},is:function(e){return this.length>0&&Z.matches(this[0],e)},not:function(e){var t=[];if(a(e)&&e.call!==P)this.each((function(a){e.call(this,a)||t.push(this)}));else{var n="string"==typeof e?this.filter(e):l(e)&&a(e.item)?N.call(e):E(e);this.forEach((function(e){n.indexOf(e)<0&&t.push(e)}))}return E(t)},has:function(e){return this.filter((function(){return o(e)?E.contains(this,e):E(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!o(e)?e:E(e)},last:function(){var e=this[this.length-1];return e&&!o(e)?e:E(e)},find:function(e){var t,a=this;return t=e?"object"==r(e)?E(e).filter((function(){var e=this;return S.some.call(a,(function(t){return E.contains(t,e)}))})):1==this.length?E(Z.qsa(this[0],e)):this.map((function(){return Z.qsa(this,e)})):E(),t},closest:function(e,t){var a=[],n="object"==r(e)&&E(e);return this.each((function(r,o){for(;o&&!(n?n.indexOf(o)>=0:Z.matches(o,e));)o=o!==t&&!i(o)&&o.parentNode;o&&a.indexOf(o)<0&&a.push(o)})),E(a)},parents:function(e){for(var t=[],a=this;a.length>0;)a=E.map(a,(function(e){if((e=e.parentNode)&&!i(e)&&t.indexOf(e)<0)return t.push(e),e}));return b(t,e)},parent:function(e){return b(x(this.pluck("parentNode")),e)},children:function(e){return b(this.map((function(){return f(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||N.call(this.childNodes)}))},siblings:function(e){return b(this.map((function(e,t){return O.call(f(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return E.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=m(this.nodeName))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=a(e);if(this[0]&&!t)var n=E(e).get(0),r=n.parentNode||this.length>1;return this.each((function(a){E(this).wrapAll(t?e.call(this,a):r?n.cloneNode(!0):n)}))},wrapAll:function(e){if(this[0]){var t;for(E(this[0]).before(e=E(e));(t=e.children()).length;)e=t.first();E(e).append(this)}return this},wrapInner:function(e){var t=a(e);return this.each((function(a){var n=E(this),r=n.contents(),i=t?e.call(this,a):e;r.length?r.wrapAll(i):n.append(i)}))},unwrap:function(){return this.parent().each((function(){E(this).replaceWith(E(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var t=E(this);(e===P?"none"==t.css("display"):e)?t.show():t.hide()}))},prev:function(e){return E(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return E(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var a=this.innerHTML;E(this).empty().append(y(this,e,t,a))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var a=y(this,e,t,this.textContent);this.textContent=null==a?"":""+a})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var a;return"string"!=typeof e||1 in arguments?this.each((function(a){if(1===this.nodeType)if(o(e))for(T in e)D(this,T,e[T]);else D(this,e,y(this,t,a,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(a=this[0].getAttribute(e))?a:P},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){D(this,e)}),this)}))},prop:function(e,t){return e=te[e]||e,1 in arguments?this.each((function(a){this[e]=y(this,t,a,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=te[e]||e,this.each((function(){delete this[e]}))},data:function(e,t){var a="data-"+e.replace(Q,"-$1").toLowerCase(),n=1 in arguments?this.attr(a,t):this.attr(a);return null!==n?C(n):P},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=y(this,e,t,this.value)}))):this[0]&&(this[0].multiple?E(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var a=E(this),n=y(this,t,e,a.offset()),r=a.offsetParent().offset(),i={top:n.top-r.top,left:n.left-r.left};"static"==a.css("position")&&(i.position="relative"),a.css(i)}));if(!this.length)return null;if(L.documentElement!==this[0]&&!E.contains(L.documentElement,this[0]))return{top:0,left:0};var a=this[0].getBoundingClientRect();return{left:a.left+e.pageXOffset,top:a.top+e.pageYOffset,width:Math.round(a.width),height:Math.round(a.height)}},css:function(e,a){if(arguments.length<2){var n=this[0];if("string"==typeof e){if(!n)return;return n.style[j(e)]||getComputedStyle(n,"").getPropertyValue(e)}if(ae(e)){if(!n)return;var r={},i=getComputedStyle(n,"");return E.each(e,(function(e,t){r[t]=n.style[j(t)]||i.getPropertyValue(t)})),r}}var o="";if("string"==t(e))a||0===a?o=d(e)+":"+p(e,a):this.each((function(){this.style.removeProperty(d(e))}));else for(T in e)e[T]||0===e[T]?o+=d(T)+":"+p(T,e[T])+";":this.each((function(){this.style.removeProperty(d(T))}));return this.each((function(){this.style.cssText+=";"+o}))},index:function(e){return e?this.indexOf(E(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&S.some.call(this,(function(e){return this.test(_(e))}),g(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){I=[];var a=_(this);y(this,e,t,a).split(/\s+/g).forEach((function(e){E(this).hasClass(e)||I.push(e)}),this),I.length&&_(this,a+(a?" ":"")+I.join(" "))}})):this},removeClass:function(e){return this.each((function(t){if("className"in this){if(e===P)return _(this,"");I=_(this),y(this,e,t,I).split(/\s+/g).forEach((function(e){I=I.replace(g(e)," ")})),_(this,I.trim())}}))},toggleClass:function(e,t){return e?this.each((function(a){var n=E(this);y(this,e,a,_(this)).split(/\s+/g).forEach((function(e){(t===P?!n.hasClass(e):t)?n.addClass(e):n.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===P?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===P?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),a=this.offset(),n=U.test(t[0].nodeName)?{top:0,left:0}:t.offset();return a.top-=parseFloat(E(e).css("margin-top"))||0,a.left-=parseFloat(E(e).css("margin-left"))||0,n.top+=parseFloat(E(t[0]).css("border-top-width"))||0,n.left+=parseFloat(E(t[0]).css("border-left-width"))||0,{top:a.top-n.top,left:a.left-n.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||L.body;e&&!U.test(e.nodeName)&&"static"==E(e).css("position");)e=e.offsetParent;return e}))}},E.fn.detach=E.fn.remove,["width","height"].forEach((function(e){var t=e.replace(/./,(function(e){return e[0].toUpperCase()}));E.fn[e]=function(a){var r,o=this[0];return a===P?n(o)?o["inner"+t]:i(o)?o.documentElement["scroll"+t]:(r=this.offset())&&r[e]:this.each((function(t){(o=E(this)).css(e,y(this,a,t,o[e]()))}))}})),G.forEach((function(e,a){var n=a%2;E.fn[e]=function(){var e,r,i=E.map(arguments,(function(a){var n=[];return"array"==(e=t(a))?(a.forEach((function(e){return e.nodeType!==P?n.push(e):E.zepto.isZ(e)?n=n.concat(e.get()):void(n=n.concat(Z.fragment(e)))})),n):"object"==e||null==a?a:Z.fragment(a)})),o=this.length>1;return i.length<1?this:this.each((function(e,t){r=n?t:t.parentNode,t=0==a?t.nextSibling:1==a?t.firstChild:2==a?t:null;var s=E.contains(L.documentElement,r),l=/^(text|application)\/(javascript|ecmascript)$/,c=ye(),u=c[vf],d=c[hf];i.forEach((function(e){if(o)e=e.cloneNode(!0);else if(!r)return E(e).remove();wd(u)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",u),wd(d)&&"STYLE"===e.tagName&&e.setAttribute("nonce",d),r.insertBefore(e,t),s&&k(e,(function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!l.test(e.type.toLowerCase())||e.src||w(L,e.innerHTML,e.nonce)}))}))}))},E.fn[n?e+"To":"insert"+(a?"Before":"After")]=function(t){return E(t)[e](this),this}})),Z.Z.prototype=v.prototype=E.fn,Z.uniq=x,Z.deserializeValue=C,E.zepto=Z,E}();return function(t){function a(e){return e._zid||(e._zid=p++)}function n(e,t,n,o){if((t=r(t)).ns)var s=i(t.ns);return(h[a(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||s.test(e.ns))&&(!n||a(e.fn)===a(n))&&(!o||e.sel==o)}))}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(e,t){return e.del&&!y&&e.e in D||!!t}function s(e){return _[e]||y&&D[e]||e}function l(e,n,i,l,c,d,p){var m=a(e),f=h[m]||(h[m]=[]);n.split(/\s/).forEach((function(a){if("ready"==a)return t(document).ready(i);var n=r(a);n.fn=i,n.sel=c,n.e in _&&(i=function(e){var a=e.relatedTarget;if(!a||a!==this&&!t.contains(this,a))return n.fn.apply(this,arguments)}),n.del=d;var m=d||i;n.proxy=function(t){if(!(t=u(t)).isImmediatePropagationStopped()){t.data=l;var a=m.apply(e,t._args==g?[t]:[t].concat(t._args));return!1===a&&(t.preventDefault(),t.stopPropagation()),a}},n.i=f.length,f.push(n),"addEventListener"in e&&e.addEventListener(s(n.e),n.proxy,o(n,p))}))}function c(e,t,r,i,l){var c=a(e);(t||"").split(/\s/).forEach((function(t){n(e,t,r,i).forEach((function(t){delete h[c][t.i],"removeEventListener"in e&&e.removeEventListener(s(t.e),t.proxy,o(t,l))}))}))}function u(e,a){if(a||!e.isDefaultPrevented){a||(a=e),t.each(P,(function(t,n){var r=a[t];e[t]=function(){return this[n]=C,r&&r.apply(a,arguments)},e[n]=k}));try{e.timeStamp||(e.timeStamp=(new Date).getTime())}catch(e){}(a.defaultPrevented!==g?a.defaultPrevented:"returnValue"in a?!1===a.returnValue:a.getPreventDefault&&a.getPreventDefault())&&(e.isDefaultPrevented=C)}return e}function d(e){var t,a={originalEvent:e};for(t in e)w.test(t)||e[t]===g||(a[t]=e[t]);return u(a,e)}var g,p=1,m=Array.prototype.slice,f=t.isFunction,v=function(e){return"string"==typeof e},h={},b={},y="onfocusin"in e,D={focus:"focusin",blur:"focusout"},_={mouseenter:"mouseover",mouseleave:"mouseout"};b.click=b.mousedown=b.mouseup=b.mousemove="MouseEvents",t.event={add:l,remove:c},t.proxy=function(e,n){var r=2 in arguments&&m.call(arguments,2);if(f(e)){var i=function(){return e.apply(n,r?r.concat(m.call(arguments)):arguments)};return i._zid=a(e),i}if(v(n))return r?(r.unshift(e[n],e),t.proxy.apply(null,r)):t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,a){return this.on(e,t,a)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,a,n){return this.on(e,t,a,n,1)};var C=function(){return!0},k=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,P={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,a){return this.on(t,e,a)},t.fn.undelegate=function(e,t,a){return this.off(t,e,a)},t.fn.live=function(e,a){return t(document.body).delegate(this.selector,e,a),this},t.fn.die=function(e,a){return t(document.body).undelegate(this.selector,e,a),this},t.fn.on=function(e,a,n,r,i){var o,s,u=this;return e&&!v(e)?(t.each(e,(function(e,t){u.on(e,a,n,t,i)})),u):(v(a)||f(r)||!1===r||(r=n,n=a,a=g),r!==g&&!1!==n||(r=n,n=g),!1===r&&(r=k),u.each((function(u,g){i&&(o=function(e){return c(g,e.type,r),r.apply(this,arguments)}),a&&(s=function(e){var n,i=t(e.target).closest(a,g).get(0);if(i&&i!==g)return n=t.extend(d(e),{currentTarget:i,liveFired:g}),(o||r).apply(i,[n].concat(m.call(arguments,1)))}),l(g,e,r,n,a,s||o)})))},t.fn.off=function(e,a,n){var r=this;return e&&!v(e)?(t.each(e,(function(e,t){r.off(e,a,t)})),r):(v(a)||f(n)||!1===n||(n=a,a=g),!1===n&&(n=k),r.each((function(){c(this,e,n,a)})))},t.fn.trigger=function(e,a){return(e=v(e)||t.isPlainObject(e)?t.Event(e):u(e))._args=a,this.each((function(){e.type in D&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,a)}))},t.fn.triggerHandler=function(e,a){var r,i;return this.each((function(o,s){(r=d(v(e)?t.Event(e):e))._args=a,r.target=s,t.each(n(s,e.type||e),(function(e,t){if(i=t.proxy(r),r.isImmediatePropagationStopped())return!1}))})),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(e,t){v(e)||(e=(t=e).type);var a=document.createEvent(b[e]||"Events"),n=!0;if(t)for(var r in t)"bubbles"==r?n=!!t[r]:a[r]=t[r];return a.initEvent(e,n,!0),u(a)}}(t),function(){try{getComputedStyle(void 0)}catch(a){var t=getComputedStyle;e.getComputedStyle=function(e,a){try{return t(e,a)}catch(e){return null}}}}(),function(e){var t=e.zepto,a=t.qsa,n=/^\s*>/,r=":shadow",i="Zepto"+ +new Date,o=function(t,r){var o,s,l=r;try{l?n.test(l)&&(s=e(t).addClass(i),l="."+i+" "+l):l="*",o=a(t,l)}catch(e){throw e}finally{s&&s.removeClass(i)}return o};t.qsa=function(e,t){var a=t.split(r);if(a.length<2)return o(e,t);for(var n=e,i=0;i<a.length;i++){var s=a[i].trim();if(""!==s){if(0===s.indexOf(">")){var l=":host ";(n instanceof Element||n instanceof HTMLDocument)&&(l=":scope "),s=l+s}var c=o(n,s);if(0===c.length||!c[0]||!c[0].shadowRoot)return c;n=c[0].shadowRoot}else n=n.shadowRoot}}}(t),t}(window),$f=xf.MutationObserver||xf.WebkitMutationObserver,Wf="Expected an array of promises";sd.default._setImmediateFn&&it();var zf=de(),Xf=/.*\.(\d+)_\d+/;jt(xf,jf);var Yf,Kf="at-library-loaded",Zf="at-request-start",ev="at-request-succeeded",tv="at-request-failed",av="at-content-rendering-start",nv="at-content-rendering-succeeded",rv="at-content-rendering-failed",iv="at-content-rendering-no-offers",ov="at-content-rendering-redirect",sv=":eq(",lv=")",cv=sv.length,uv=/((\.|#)(-)?\d{1})/g,dv="Unable to load target-vec.js",gv="Loading target-vec.js",pv="_AT",mv="clickHandlerForExperienceEditor",fv="currentView",vv="at_qa_mode",hv="at_preview_token",bv="at_preview_index",yv="at_preview_listed_activities_only",Dv="at_preview_evaluate_as_true_audience_ids",_v="at_preview_evaluate_as_false_audience_ids",Cv="_",kv=function(e){return!g(e)},wv="at_preview_mode",Pv="at_preview",Tv="at-",Ev="at-body-style",Iv="#"+Ev,jv=Tv+"views",xv="Disabled due to optout",Sv="MCAAMB",Vv="MCAAMLH",Ov="MCMID",Nv="MCOPTOUT",Lv="getSupplementalDataID",Av="getCustomerIDs",Rv=!0,Fv="NS",Mv="DS",qv="trackingServer",Bv=qv+"Secure",Uv="Visitor",Qv="getInstance",Hv="isAllowed",Gv="Visitor API requests timed out",Jv="Visitor API requests error",$v={},Wv="Data provider",zv="timed out",Xv=2e3,Yv="authorization",Kv="mboxDebugTools",Zv=["architecture","bitness","model","platformVersion","fullVersionList"],eh=Nn(),th="profile.",ah="mbox3rdPartyId",nh="at_property",rh="orderId",ih="orderTotal",oh="productPurchasedId",sh="productId",lh="categoryId",ch="POST",uh="Network request failed",dh="Request timed out",gh="Malformed response JSON",ph="mboxedge",mh=".tt.omtrdc.net",fh=function(e){return!N(e)},vh=function(e){return function(t){return t[e]}},hh=function(e){return function(t){return!e(t)}},bh=hh(g),yh=hh(A),Dh=function(e){return function(t){return D(e,t)}},_h=function(e){return e.status===jp},Ch=function(e){return e.type===Bp},kh=function(e){return e.type===hg},wh=Dh(bh),Ph=Dh(yh),Th=vh(Gm),Eh=vh(zd),Ih=vh($m),jh=vh(Up),xh=function(e){return wd(e.name)},Sh=function(e){return!g(e.index)},Vh=function(e){return f(e)&&xh(e)
},Oh=function(e){return f(e)&&xh(e)&&Sh(e)},Nh=function(e){return f(e)&&xh(e)},Lh=function(e){return wd(e.selector)},Ah=vh(Qp),Rh=k([Ah,bh]),Fh="adobe_mc_sdid",Mh="Network request failed",qh="Request timed out",Bh="URL is required",Uh="GET",Qh="POST",Hh="method",Gh="url",Jh="headers",$h="data",Wh="credentials",zh="timeout",Xh="async",Yh=/CLKTRK#(\S+)/,Kh=/CLKTRK#(\S+)\s/,Zh=function(e){return!g(e)},eb="visibilityState",tb="visible",ab=100,nb=Hg+","+Jg+","+Gg,rb="at-action-key",ib="metric element not found",ob="navigator",sb="sendBeacon",lb="Beacon data sent",cb="Beacon data sent failed",ub="View triggered notification",db="View rendered notification",gb="Mboxes rendered notification",pb="Event handler notification",mb="Mbox event handler notification",fb="View event handler notification",vb="prefetchMboxes",hb="rendered",bb="triggered",yb={},Db="pageLoadMetrics",_b="prefetchMetrics",Cb=vh(Jm),kb=function(){return Kr(Lp)},wb=function(e){return Zr(Lp,e)},Pb=vh(zd),Tb=vh(rg),Eb=function(e){return Kr(Np,e)},Ib=function(e,t){var a=cd(e)?{errors:e}:{errors:[e]};return Zr(Np,rd.default(a,t))},jb=function(e){return hh(_h)(e)&&Rh(e)},xb={exports:{}};Wl.prototype={on:function(e,t,a){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:a}),this},once:function(e,t,a){function n(){r.off(e,n),t.apply(a,arguments)}var r=this;return n._=t,this.on(e,n,a)},emit:function(e){for(var t=[].slice.call(arguments,1),a=((this.e||(this.e={}))[e]||[]).slice(),n=0,r=a.length;n<r;n++)a[n].fn.apply(a[n].ctx,t);return this},off:function(e,t){var a=this.e||(this.e={}),n=a[e],r=[];if(n&&t)for(var i=0,o=n.length;i<o;i++)n[i].fn!==t&&n[i].fn._!==t&&r.push(n[i]);return r.length?a[e]=r:delete a[e],this}},xb.exports=Wl,xb.exports.TinyEmitter=Wl;var Sb=xb.exports,Vb=zl(),Ob="Page load rendering failed",Nb="Mboxes rendering failed",Lb="View rendering failed",Ab="Prefetch rendering failed",Rb=function(e){return!N(D(_h,e))},Fb="[page-init]",Mb="[getOffer()]",qb="[getOffers()]",Bb="[applyOffer()]",Ub="[applyOffers()]",Qb="[sendNotifications()]",Hb="[trackEvent()]",Gb="[triggerView()]",Jb=[],$b=0,Wb=1,zb=$b;Mu();var Xb="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",Yb="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Kb="mboxCreate() "+Xb,Zb="mboxDefine() "+Xb,ey="mboxUpdate() "+Xb,ty=/^tgt:.+/i,ay=function(e){return ty.test(e)},ny=-1,ry=10,iy="tgt:tlm",oy=iy+":lower",sy=iy+":upper",ly={init:Ku,initConfig:be,initDelivery:Jc};e.exports=ly}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,a){"use strict";var n=a("../librarySettings"),r=a("@adobe/reactor-window"),i=a("./object-override"),o=a("./params-store"),s=o.getParams,l=o.getPageLoadParams,c=a("../targetSettings").targetSettings;e.exports=function(e){return c.mboxParams=s(),c.globalMboxParams=l(),i(c,e,["bodyHidingEnabled","bodyHiddenStyle"]),i(c,r.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),i(c,n.TARGET_DEFAULT_SETTINGS||{},["version"]),c}}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.11.4"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function t(e,t,a,n){t[a]!==n&&(e[a]=t[a])}function a(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(e,n,r){Object.keys(n).filter(a,{subset:r}).forEach((function(a){t(e,n,a)}))}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,a){"use strict";function n(e){return void 0!==e&&null!=e&&Object.prototype.hasOwnProperty.call(e,"value")&&null!=e.checked}function r(e){var t={};return Object.keys(e).forEach((function(a){var r=e[a];if(n(r)){var i=r.checked,o=r.value;i&&""===o||(t[a]=o)}else t[a]=r})),t}function i(e){var t=r(e);c(u,t)}function o(e){var t=r(e);c(d,t)}function s(){return u}function l(){return d}var c=a("./object-override"),u={},d={};e.exports={mergeParams:i,mergePageLoadParams:o,getParams:s,getPageLoadParams:l}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,a,n){"use strict";var r=n.getExtensionSettings(),i=r.targetSettings||{};e.exports={extensionSettings:r,targetSettings:i}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,a,n){"use strict";function r(e){var t=e.compatMode,a=e.documentMode;return t&&"CSS1Compat"===t&&(!a||a>=9)}function i(e){var t=function(){},a=function(){return u.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:a,applyOffer:t,applyOffers:a,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function o(){return l.adobe&&l.adobe.target&&void 0!==l.adobe.target.getOffer}function s(){return o()?(n.logger.warn(d.ALREADY_INITIALIZED),null):(f.mboxParams=p(),f.globalMboxParams=m(),v(f,l.targetGlobalSettings||{},y),v(f,h||{},["version"]),r(c)||(f.enabled=!1,n.logger.warn(d.DELIVERY_DISABLED)),f.timeout=b(f.timeout),f)}var l=a("@adobe/reactor-window"),c=a("@adobe/reactor-document"),u=a("@adobe/reactor-promise"),d=a("../messages"),g=a("./params-store"),p=g.getParams,m=g.getPageLoadParams,f=a("../targetSettings").targetSettings,v=a("./object-override"),h=a("../librarySettings").TARGET_DEFAULT_SETTINGS,b=a("./validation").validTimeout,y=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName","decisioningMethod"];e.exports={initLibrarySettings:s,overridePublicApi:i}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,a){"use strict";function n(e){return"undefined"===(void 0===e?"undefined":u(e))||null===e}function r(e){var t=void 0===e?"undefined":u(e);return null!==e&&("object"===t||"function"===t)}function i(e){return r(e[f])&&r(e[g])}function o(e,t){return!!t&&!n(e)&&!n(e[m])&&i(e[m])}function s(e,t){return e[g](t)}function l(){var e=d[m];return s(e,e[v][h])}function c(){var e=b[p];return o(d,e)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=a("@adobe/reactor-window").adobe,g="isApproved",p="optinEnabled",m="optIn",f="fetchPermissions",v="Categories",h="TARGET",b=a("../targetSettings").targetSettings;e.exports={shouldUseOptIn:c,isTargetApproved:l}}},"adobe-target-v2/lib/analyticsIntegration.js":{script:function(e,t,a,n){"use strict";function r(e,t){return new s((function(a){e?t.then((function(t){t&&(e.abort=!0),a()})):a()}))}function i(e){if(e){var t=new s((function(e){var t=setTimeout((function(){e(!1)}),d.targetSettings.timeout),a=function a(n){e(!1),clearTimeout(t),u(o,n,a)};c(o,p,(function a(n){n.detail&&!0===n.detail.redirect?e(!0):e(!1),clearTimeout(t),u(o,n,a)})),c(o,m,a)}));e((function(e){return r(e,t)}))}}var o=a("@adobe/reactor-document"),s=a("@adobe/reactor-promise"),l=a("./modules/event-util"),c=l.addEventListener,u=l.removeEventListener,d=a("./targetSettings").extensionSettings,g=n.getSharedModule("adobe-analytics","augment-tracker"),p="at-request-succeeded",m="at-request-failed";e.exports=function(){i(g)}}},"adobe-target-v2/lib/modules/validation.js":{script:function(e){"use strict";function t(e){var t=Number(e);return Number.isNaN(t)?a:Math.min(n,Math.max(r,t))}var a=3e3,n=99999,r=0;e.exports={validTimeout:t}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,a){e.addEventListener(t,a)}function a(e,t,a){e.removeEventListener(t,a)}e.exports={addEventListener:t,removeEventListener:a}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current//a086326e8d0e/74a65f9f5676/ef0515915a0f/hostedLibFiles/EP5f4ceed2b75246a7aef8d57a2a148d09/",settings:{instances:[{name:"alloy",edgeConfigId:"e64855d9-e44a-4670-ac97-a53463b66f72",stagingEdgeConfigId:"98cd03b7-93fb-41e9-96c4-10ec8bd966bc",developmentEdgeConfigId:"98cd03b7-93fb-41e9-96c4-10ec8bd966bc"}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=function(e){return e.data}}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,a,n){"use strict";var r,i=a("./createSendEvent"),o=a("../../instanceManager/index"),s=a("../../index").sendEventCallbackStorage,l=a("../../utils/createGetConfigOverrides");e.exports=i({instanceManager:o,sendEventCallbackStorage:s,getConfigOverrides:l(null===(r=n.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,a,n){"use strict";var r,i=a("../alloy"),o=i.createInstance,s=i.createEventMergeId,l=a("./createInstanceManager"),c=a("./injectWrapOnBeforeEventSend"),u=a("../utils/createGetConfigOverrides"),d=c({version:"2.26.0"});e.exports=l({turbine:n,window:window,createInstance:o,createEventMergeId:s,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:d,getConfigOverrides:u(null===(r=n.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function r(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}var i=["instanceName"],o=a("../../utils/clone");e.exports=function(e){var t=e.instanceManager,a=e.sendEventCallbackStorage,r=e.getConfigOverrides;return function(e){var s=e.instanceName,l=n(e,i);l.edgeConfigOverrides=r(l);var c=t.getInstance(s);if(!c)throw new Error('Failed to send event for instance "'.concat(s,'". No matching instance was configured with this name.'));return l.xdm&&(l.xdm=o(l.xdm)),l.data&&(l.data=o(l.data)),c("sendEvent",l).then((function(e){a.triggerEvent(e)}))}}}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,a){"use strict";var n=a("./createEventMergeIdCache"),r=a("./createSendEventCallbackStorage"),i=a("./createMediaCollectionSessionStorage"),o=a("./createVariableStore");t.eventMergeIdCache=n(),t.sendEventCallbackStorage=r(),t.mediaCollectionSessionStorage=i(),t.variableStore=o()}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,a){return(t=i(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e){var a=o(e,"string");return"symbol"==t(a)?a:a+""}function o(e,a){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,a||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}var s=function(e){return function(t){var a,r,i,o,s,l=t.edgeConfigOverrides;if(l){if(l[e])s=n({},l[e]);else{if(l.development||l.staging||l.production)return;s=l}if(0!==Object.keys(s).length){if((null===(a=s.com_adobe_analytics)||void 0===a||null===(a=a.reportSuites)||void 0===a?void 0:a.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((function(e){return e.includes(",")?e.split(/,\s*/gi):e})).map((function(e){return e.trim()})).filter(Boolean)),void 0!==(null===(r=s.com_adobe_identity)||void 0===r?void 0:r.idSyncContainerId)&&null!==(null===(i=s.com_adobe_identity)||void 0===i?void 0:i.idSyncContainerId)&&"string"==typeof(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)){var c=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(c))throw new Error('The ID sync container ID "'.concat(s.com_adobe_identity.idSyncContainerId,'" is not a valid integer.'));s.com_adobe_identity.idSyncContainerId=c}return s}}}};e.exports=s}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=function(e){return JSON.parse(JSON.stringify(e))}}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(null==e)return{};var a,n,r=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function i(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}function o(e,t){return c(e)||l(e,t)||h(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,i,o,s=[],l=!0,c=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(n=i.call(a)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}function c(e){if(Array.isArray(e))return e}function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return(t=p(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e){var t=m(e,"string");return"symbol"==_(t)?t:t+""}function m(e,t){if("object"!=_(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e){return y(e)||b(e)||h(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return D(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?D(e,t):void 0}}function b(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function y(e){if(Array.isArray(e))return D(e)}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function C(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)e[n]=a[n]}return e}function k(e,t){function a(a,n,r){if("undefined"!=typeof document){"number"==typeof(r=C({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var o in r)r[o]&&(i+="; "+o,!0!==r[o]&&(i+="="+r[o].split(";")[0]));return document.cookie=a+"="+e.write(n,a)+i}}function n(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var a=document.cookie?document.cookie.split("; "):[],n={},r=0;r<a.length;r++){var i=a[r].split("="),o=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(n[s]=e.read(o,s),t===s)break}catch(e){}}return t?n[t]:n}}return Object.create({set:a,get:n,remove:function(e,t){a(e,"",C({},t,{expires:-1}))},withAttributes:function(e){return k(this.converter,C({},this.attributes,e))},withConverter:function(e){return k(C({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ya[e[t+0]]+ya[e[t+1]]+ya[e[t+2]]+ya[e[t+3]]+"-"+ya[e[t+4]]+ya[e[t+5]]+"-"+ya[e[t+6]]+ya[e[t+7]]+"-"+ya[e[t+8]]+ya[e[t+9]]+"-"+ya[e[t+10]]+ya[e[t+11]]+ya[e[t+12]]+ya[e[t+13]]+ya[e[t+14]]+ya[e[t+15]]).toLowerCase()}function T(){if(!pe&&!(pe="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pe(_a)}function E(e,t,a){if(Ca.randomUUID&&!t&&!e)return Ca.randomUUID();var n=(e=e||{}).random||(e.rng||T)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){a=a||0;for(var r=0;r<16;++r)t[a+r]=n[r];return t}return P(n)}function I(e){return"object"===_(e)||void 0===e}function j(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&n===String(a[r]).toLowerCase())return!0;return!1}}}function x(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&n===String(a[r]).toLowerCase())return!1;return!0}}}function S(){return{matches:function(e,t){return void 0!==e[t]&&null!==e[t]}}}function V(){return{matches:function(e,t){return void 0===e[t]||null===e[t]}}}function O(e){return"number"==typeof e}function N(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!O(n))return!1;for(var r=0;r<a.length;r+=1)if(O(a[r])&&n>a[r])return!0;return!1}}}function L(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!O(n))return!1;for(var r=0;r<a.length;r+=1)if(O(a[r])&&n>=a[r])return!0;return!1}}}function A(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!O(n))return!1;for(var r=0;r<a.length;r+=1)if(O(a[r])&&n<a[r])return!0;return!1}}}function R(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=e[t];if(!O(n))return!1;for(var r=0;r<a.length;r+=1)if(O(a[r])&&n<=a[r])return!0;return!1}}}function F(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&-1!==n.indexOf(String(a[r]).toLowerCase()))return!0;return!1}}}function M(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&-1!==n.indexOf(String(a[r]).toLowerCase()))return!1;return!0}}}function q(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&n.startsWith(String(a[r]).toLowerCase()))return!0;return!1}}}function B(){return{matches:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(I(e[t]))return!1;for(var n=String(e[t]).toLowerCase(),r=0;r<a.length;r+=1)if(!I(a[r])&&n.endsWith(a[r].toLowerCase()))return!0;return!1}}}function U(e){return As[e]}function Q(e){return void 0===e}function H(e,t,a){switch(t){case Os.GREATER_THAN:return e>a;case Os.GREATER_THAN_OR_EQUAL_TO:return e>=a;case Os.LESS_THAN:return e<a;case Os.LESS_THAN_OR_EQUAL_TO:return e<=a;case Os.EQUALS:return e===a;case Os.NOT_EQUALS:return e!==a;default:return!1}}function G(e,t){for(var a=0;a<t.length;a+=1)if(!Q(e[t[a]]))return e[t[a]]}function J(e,t){for(var a=Object.keys(e),n=0;n<a.length;n+=1){var r=a[n],i=t.event;if((void 0===i?{}:i)[a[n]]!==e[r])return!1}return!0}function $(e,t,a,n){return e.reduce((function(e,r){var i=G(r,Rs);if(!i)return e;var o=t.events[i];if(!o)return e;var s=G(r,Fs);if(!s)return e;var l=o[s];if(!l)return e;if(!J(r,l))return e;var c=l.count,u=void 0===c?1:c;return Q(a)||Q(n)||l.timestamp>=a&&l.timestamp<=n?e+u:e}),0)}function W(e,t,a,n){var r=a;return e.every((function(e){var a=G(e,Rs);if(!a)return!1;var i=t.events[a];if(!i)return!1;var o=G(e,Fs);if(!o)return!1;var s=i[o];if(!J(e,s))return!1;if(null===s||Q(s)||0===s.count)return!1;var l=(Q(r)||s.timestamp>=r)&&(Q(n)||s.timestamp<=n);return r=s.timestamp,l}))?1:0}function z(e,t){for(var a=!0,n=0;n<t.length;n+=1)a=a&&t[n].evaluate(e);return a}function X(e,t){for(var a=!1,n=0;n<t.length;n+=1)if(a=a||t[n].evaluate(e))return!0;return!1}function Y(e,t){return{version:e,rules:t}}function K(e,t){return{execute:function(a){return e.evaluate(a)?t:[]},toString:function(){return"Rule{condition=".concat(e,", consequences=").concat(t,"}")}}}function Z(e,t){return{evaluate:function(e){return t.evaluate(e)},toString:function(){return"Condition{type=".concat(e,", definition=").concat(t,"}")}}}function ee(e,t,a){return{id:e,type:t,detail:a}}function te(e,t){return{evaluate:function(a){return Ns.AND===e?z(a,t):Ns.OR===e&&X(a,t)}}}function ae(e,t,a){return{evaluate:function(n){var r=U(t);return!!r&&r.matches(n,e,a)}}}function ne(e,t,a,n,r,i){return{evaluate:function(o){return H(Ls.ORDERED===i?W(e,o,n,r):$(e,o,n,r),t,a)}}}function re(e){return ae(e.key,e.matcher,e.values)}function ie(e){return te(e.logic,e.conditions.map(se))}function oe(e){var t=e.events,a=e.from,n=e.to;return ne(t,e.matcher,e.value,a,n,e.searchType)}function se(e){var t=e.type,a=e.definition;if(Vs.MATCHER===t)return Z(t,re(a));if(Vs.GROUP===t)return Z(t,ie(a));if(Vs.HISTORICAL===t)return Z(t,oe(a));throw new Error("Can not parse condition")}function le(e){return ee(e.id,e.type,e.detail)}function ce(e){var t=e.condition,a=e.consequences;return K(se(t),a.map(le))}function ue(e){return Y(e.version,e.rules.map(ce))}function de(e){var t=ue(e),a=t.version,n=t.rules;return{execute:function(e){return n.map((function(t){return t.execute(e)})).filter((function(e){return e.length>0}))},getVersion:function(){return a},numRules:function(){return n.length}}}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createInstance=t.createEventMergeId=void 0;for(var ge,pe,me=n(a("@adobe/reactor-query-string")),fe=["datastreamId"],ve=["edgeConfigOverrides"],he=["xdm","data","documentUnloading","type","mergeId","datasetId","edgeConfigOverrides"],be=["priority"],ye=["trackingLabel","scopeType"],De=["standard","version"],_e=function(e){return null==e},Ce=function(e){return!_e(e)&&!Array.isArray(e)&&"object"===_(e)},ke=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.length<2?Object.assign.apply(Object,t):t.reduce((function(e,t){return Ce(t)&&Object.keys(t).forEach((function(a){var n;Array.isArray(t[a])?Array.isArray(e[a])?(n=e[a]).push.apply(n,f(t[a])):e[a]=f(t[a]):e[a]=t[a]})),e}))},we=k({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),Pe={get:we.get.bind(we),set:we.set.bind(we),remove:we.remove.bind(we),withConverter:we.withConverter.bind(we)},Te=function(e,t){Object.keys(t).forEach((function(a){Ce(e[a])&&Ce(t[a])?Te(e[a],t[a]):e[a]=t[a]}))},Ee=t.deepAssign=function(e){if(_e(e))throw new TypeError('deepAssign "target" cannot be null or undefined');for(var t=Object(e),a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.forEach((function(e){return Te(t,Object(e))})),t},Ie=function(e,t){return function(a){var n=t.split(".").reduce((function(e,t){return e[t]=e[t]||{},e[t]}),e);Ee(n,a)}},je=function(){var e=[];return{add:function(t){e.push(t)},call:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Promise.all(e.map((function(e){return e.apply(void 0,a)})))}}},xe=function(e){var t=e.logger,a=e.cookieJar;return d(d({},a),{},{set:function(e,n,r){t.info("Setting cookie",d({name:e,value:n},r)),a.set(e,n,r)}})},Se=function(){var e=0,t=Promise.resolve();return{addTask:function(a){e+=1;var n=function(){return a().finally((function(){e-=1}))};return t=t.then(n,n)},get length(){return e}}},Ve=function(){for(var e=[],t=0;t<256;t++){for(var a=t,n=0;n<8;n++)a=1&a?3988292384^a>>>1:a>>>1;e.push(a)}return function(t,a){t=unescape(encodeURIComponent(t)),a||(a=0),a=~a;for(var n=0;n<t.length;n++){var r=255&(a^t.charCodeAt(n));a=a>>>8^e[r]}return(a=~a)>>>0}}(),Oe=function(){var e={};return e.promise=new Promise((function(t,a){e.resolve=t,e.reject=a})),e},Ne=function(e,t){return e===t},Le=function(e,t,a){for(var n=0;n<e.length;n+=1)if(a(e[n],t))return n;return-1},Ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return e.filter((function(a,n){return Le(e,a,t)===n}))},Re=function(e,t){return e.appendChild(t)},Fe=function(e,t){Object.keys(t).forEach((function(a){if("style"===a&&Ce(t[a])){var n=t[a];Object.keys(n).forEach((function(t){e.style[t]=n[t]}))}else e[a]=t[a]}))},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:document).createElement(e);return Object.keys(t).forEach((function(e){r.setAttribute(e,t[e])})),Fe(r,a),n.forEach((function(e){return Re(r,e)})),r},qe="BODY",Be="IFRAME",Ue="IMG",Qe="DIV",He="STYLE",Ge="SCRIPT",Je="HEAD",$e=function(e){var t=e.src,a=e.currentDocument,n=void 0===a?document:a;return new Promise((function(e,a){Me(Ue,{src:t},{onload:e,onerror:a,onabort:a},[],n)}))},We=function(e){return"function"==typeof e},ze=function(e){return Array.isArray(e)&&e.length>0},Xe=function(e){return Array.isArray(e)?e:null==e?[]:[].slice.call(e)},Ye=/^\s*>/,Ke=function(e,t){return Ye.test(t)?Xe(e.querySelectorAll(":scope ".concat(t))):Xe(e.querySelectorAll(t))},Ze=":shadow",et=function(e){return e.split(Ze)},tt=function(e,t){var a=t;if(!a.startsWith(">"))return a;var n=e instanceof Element||e instanceof Document?":scope":":host";return"".concat(n," ").concat(a)},at=function(e,t){var a=et(t);if(a.length<2)return Ke(e,t);for(var n=e,r=0;r<a.length;r+=1){var i=a[r].trim();if(""===i&&n.shadowRoot)n=n.shadowRoot;else{var o=tt(n,i),s=Ke(n,o);if(0===s.length||!s[0]||!s[0].shadowRoot)return s;n=s[0].shadowRoot}}},nt=function(e){return-1!==e.indexOf(Ze)},rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return nt(e)?at(t,e):Ke(t,e)},it="MutationObserver",ot="requestAnimationFrame",st={childList:!0,subtree:!0},lt="visibilityState",ct="visible",ut=100,dt=5e3,gt=function(e){return new Error("Could not find: ".concat(e))},pt=function(e){return new Promise(e)},mt=function(e){return We(e[it])},ft=function(e,t,a,n,r){return pt((function(i,o){var s,l=new e[it]((function(){var e=r(a);ze(e)&&(l.disconnect(),s&&clearTimeout(s),i(e))}));s=setTimeout((function(){l.disconnect(),o(gt(a))}),n),l.observe(t,st)}))},vt=function(e){return e[lt]===ct},ht=function(e,t,a,n){return pt((function(r,i){var o=function(){var a=n(t);ze(a)?r(a):e[ot](o)};o(),setTimeout((function(){i(gt(t))}),a)}))},bt=function(e,t,a){return pt((function(n,r){var i=function(){var t=a(e);ze(t)?n(t):setTimeout(i,ut)};i(),setTimeout((function(){r(gt(e))}),t)}))},yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,i=t(e);return ze(i)?Promise.resolve(i):mt(n)?ft(n,r,e,a,t):vt(r)?ht(n,e,a,t):bt(e,a,t)},Dt=function(e,t){return t.matches?t.matches(e):t.msMatchesSelector(e)},_t=function(e){var t=e.parentNode;return t?t.removeChild(e):null},Ct={name:"Adobe Alloy"},kt={style:{display:"none",width:0,height:0}},wt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.appendNode,n=void 0===a?Re:a,r=t.awaitSelector,i=void 0===r?yt:r,s=t.createNode,l=void 0===s?Me:s,c=t.fireImage,u=void 0===c?$e:c,d=u,g=function(){return i(qe).then((function(t){var a=o(t,1)[0];return e||(e=l(Be,Ct,kt),n(a,e))}))},p=function(e){var t=e.src;return g().then((function(e){var a=e.contentWindow.document;return u({src:t,currentDocument:a})}))};return function(e){var t=e.hideReferrer,a=e.url;return t?p({src:a}):d({src:a})}},Pt=function(e){return Ce(e)&&0===Object.keys(e).length},Tt=function(e,t){return _e(e)||!Ce(e)?e:Object.keys(e).reduce((function(a,n){var r=e[n];if(Ce(r)){var i=Tt(r,t);return Pt(i)?a:d(d({},a),{},g({},n,i))}return t(r)?d(d({},a),{},g({},n,r)):a}),{})},Et="com.adobe.alloy.",It=function(e,t){return e.slice(-t)},jt="".concat(Et,"getTld"),xt=function(e,t){for(var a="",n=e.location.hostname.toLowerCase().split("."),r=1;r<n.length&&!t.get(jt);)a=It(n,r+=1).join("."),t.set(jt,jt,{domain:a});return t.remove(jt,{domain:a}),a},St="kndctr",Vt=function(e){return e.replace("@","_")},Ot=function(e,t){return"".concat(St,"_").concat(Vt(e),"_").concat(t)},Nt=function(e,t){var a={};return e.forEach((function(e){var n=t(e);a[n]||(a[n]=[]),a[n].push(e)})),a},Lt="Chrome",At="Edge",Rt="EdgeChromium",Ft="Firefox",Mt="IE",qt="Safari",Bt="Unknown",Ut=function(e){var t,a=!1;return function(){return a||(a=!0,t=e()),t}},Qt=[Lt,At,Rt,Mt,Bt],Ht=function(e){var t=e.getBrowser;return Ut((function(){return Qt.includes(t())}))},Gt="identity",Jt="consent",$t="cluster",Wt=function(e){var t=e.orgId,a=Ot(t,Gt);return function(){return Boolean(Pe.get(a))}},zt=function(e,t){for(var a=Object.keys(e),n=0;n<a.length;n+=1){var r=a[n];if(e[r].test(t))return r}return Bt},Xt=function(e){var t=e.userAgent;return Ut((function(){return zt(g(g(g(g(g(g({},At,/Edge\/([0-9\._]+)/),Rt,/Edg\/([0-9\.]+)/),Lt,/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/),Ft,/Firefox\/([0-9\.]+)(?:\s|$)/),Mt,/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/),qt,/Version\/([0-9\._]+).*Safari/),t)}))},Yt=function(e,t,a){return{getItem:function(n){try{return e[t].getItem(a+n)}catch(e){return null}},setItem:function(n,r){try{return e[t].setItem(a+n,r),!0}catch(e){return!1}},clear:function(){try{return Object.keys(e[t]).forEach((function(n){n.startsWith(a)&&e[t].removeItem(n)})),!0}catch(e){return!1}}}},Kt=function(e){return function(t){var a=Et+t;return{session:Yt(e,"sessionStorage",a),persistent:Yt(e,"localStorage",a)}}},Zt=function(e,t){return e.filter((function(e){return t.includes(e)}))},ea=function(e){return"boolean"==typeof e},ta=function(e){return"number"==typeof e&&!Number.isNaN(e)},aa=function(e){var t=parseInt(e,10);return ta(t)&&e===t},na=function(e,t){
return 0===t.indexOf("".concat(St,"_").concat(Vt(e),"_"))},ra=function(e){return"string"==typeof e},ia=function(e){return ra(e)&&e.length>0},oa=function(){},sa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=a.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[a.key[i]]=n[i]||"";return r[a.q.name]={},r[a.key[12]].replace(a.q.parser,(function(e,t,n){t&&(r[a.q.name][t]=n)})),r}},la=w(sa),ca=function(e){var t={},a=e.split(".");switch(a.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=a[1];break;case 3:t.subdomain="www"===a[0]?"":a[0],t.domain=e,t.topLevelDomain=a[2];break;case 4:t.subdomain="www"===a[0]?"":a[0],t.domain=e,t.topLevelDomain="".concat(a[2],".").concat(a[3])}return t},ua=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ca;ra(e)||(e="");var a=la(e)||{},n=a.host,r=void 0===n?"":n,i=a.path,o=void 0===i?"":i,s=a.query,l=void 0===s?"":s,c=a.anchor;return d({path:o,query:l,fragment:void 0===c?"":c},t(r))},da=function(e){if(_e(e)||"object"!==_(e))return null;var t=Tt(e,(function(e){return!(_e(e)||!ea(e)&&!ta(e)&&!ia(e)&&!ze(e))}));return Pt(t)?null:t},ga=function(e){return e instanceof Error?e:new Error(e)},pa=function(e){var t=e.error,a=e.message;try{t.message=a}catch(e){}},ma=function(e){var t=e.error,a=e.message,n=ga(t),r="".concat(a,"\nCaused by: ").concat(n.message);return pa({error:n,message:r}),n},fa=function(e){return ra(e)&&"true"===e.toLowerCase()},va=function(e,t){if(ta(e)||ra(e)){var a=Math.round(Number(e));if(!Number.isNaN(a))return a}return t},ha=function(e,t,a){return"".concat(e).padStart(t,a)},ba=function(e){var t=e.getFullYear(),a=ha(e.getMonth()+1,2,"0"),n=ha(e.getDate(),2,"0"),r=ha(e.getHours(),2,"0"),i=ha(e.getMinutes(),2,"0"),o=ha(e.getSeconds(),2,"0"),s=ha(e.getMilliseconds(),3,"0"),l=va(e.getTimezoneOffset(),0),c=l>0?"-":"+",u=ha(Math.floor(Math.abs(l)/60),2,"0"),d=ha(Math.abs(l)%60,2,"0");return"".concat(t,"-").concat(a,"-").concat(n,"T").concat(r,":").concat(i,":").concat(o,".").concat(s).concat(c).concat(u,":").concat(d)},ya=[],Da=0;Da<256;++Da)ya.push((Da+256).toString(16).slice(1));var _a=new Uint8Array(16),Ca={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},ka=function(e){return function(t,a){return null==t?t:e.call(this,t,a)}},wa=function(e,t){return function(a,n){return t.call(this,e.call(this,a,n),n)}},Pa=function(e,t){return function(a,n){var r=this,i=[],o=[e,t].reduce((function(e,t){try{return t.call(r,e,n)}catch(t){return i.push(t),e}}),a);if(i.length)throw new Error(i.join("\n"));return o}},Ta=function(e,t,a){return Object.assign(wa(e,t),e,a)},Ea=function(e,t,a){return Object.assign(wa(e,ka(t)),e,a)},Ia=function(e,t,a){return Object.assign(Pa(ka(t),e),e,a)},ja=function(e,t,a,n){if(!e)throw new Error("'".concat(a,"': Expected ").concat(n,", but got ").concat(JSON.stringify(t),"."))},xa=function(e,t){return ja(ea(e),e,t,"true or false"),e},Sa=function(e,t){return ja(We(e),e,t,"a function"),e},Va=function(e,t){return function(a,n){var r,i=this,o=e.find((function(e){try{return r=e.call(i,a,n),!0}catch(e){return!1}}));return ja(o,a,n,t),r}},Oa=function(e){return function(t,a){var n=this;ja(Array.isArray(t),t,a,"an array");var r=[],i=t.map((function(i,o){try{return e.call(n,i,"".concat(a,"[").concat(o,"]"),t)}catch(e){return void r.push(e.message)}}));if(r.length)throw new Error(r.join("\n"));return i}},Na=function(e){return function(t){return null==t?e:t}},La=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This field has been deprecated";return function(t,a){var n=e;return void 0!==t&&(a&&(n="'".concat(a,"': ").concat(n)),this&&this.logger&&this.logger.warn(n)),t}},Aa=function(e){return function(t,a){return ja(t===e,t,a,"".concat(e)),t}},Ra=function(e){return function(t,a){var n=this;ja(Ce(t),t,a,"an object");var r=[],i={};if(Object.keys(t).forEach((function(o){var s=t[o],l=a?"".concat(a,".").concat(o):o;try{var c=e.call(n,s,l);void 0!==c&&(i[o]=c)}catch(e){r.push(e.message)}})),r.length)throw new Error(r.join("\n"));return i}},Fa=function(e,t){return function(a,n){return ja(a>=t,a,n,"".concat(e," greater than or equal to ").concat(t)),a}},Ma=function(e,t){return function(a,n){return ja(a<=t,a,n,"".concat(e," less than or equal to ").concat(t)),a}},qa=function(e){return function(t,a){var n=[];if(Object.keys(t).forEach((function(t){if(!e[t]){var r=a?"".concat(a,".").concat(t):t;n.push("'".concat(r,"': Unknown field."))}})),n.length)throw new Error(n.join("\n"));return t}},Ba=function(e){return function(t,a){return Ce(t)?ja(!Pt(t),t,a,e):ja(t.length>0,t,a,e),t}},Ua=function(e){return function(t,a){var n=this;ja(Ce(t),t,a,"an object");var r=[],i={};if(Object.keys(e).forEach((function(o){var s=t[o],l=e[o],c=a?"".concat(a,".").concat(o):o;try{var u=l.call(n,s,c);void 0!==u&&(i[o]=u)}catch(e){r.push(e.message)}})),Object.keys(t).forEach((function(e){Object.prototype.hasOwnProperty.call(i,e)||(i[e]=t[e])})),r.length)throw new Error(r.join("\n"));return i}},Qa=function(e,t,a){return function(n,i){ja(Ce(n),n,i,"an object");var o=n[e],s=n[a],l=r(n,[e,a].map(p)),c=t(o,i);if(void 0!==c){var u="The field '".concat(e,"' is deprecated. Use '").concat(a,"' instead.");if(i&&(u="'".concat(i,"': ").concat(u)),void 0!==s&&s!==c)throw new Error(u);this&&this.logger&&this.logger.warn(u)}return d(g({},a,s||c),l)}},Ha=function(){var e=[];return function(t,a){return ja(-1===e.indexOf(t),t,a,"a unique value across instances"),e.push(t),t}},Ga=function(e){for(var t=Object.create(null),a=0;a<e.length;a+=1){var n=e[a];if(n in t)return!1;t[n]=!0}return!0},Ja=function(){return function(e,t){ja(Ga(e),e,t,"array values to be unique")}},$a=/^[a-z0-9.-]{1,}$/i,Wa=function(e,t){return ja($a.test(e),e,t,"a valid domain"),e},za=function(e,t){return ja(aa(e),e,t,"an integer"),e},Xa=function(e,t){return ja(ta(e),e,t,"a number"),e},Ya=function(e){try{return null!==RegExp(e)}catch(e){return!1}},Ka=function(e,t){return ja(Ya(e),e,t,"a regular expression"),e},Za=function(e,t){if(null==e)throw new Error("'".concat(t,"' is a required option"));return e},en=function(e,t){return ja(ra(e),e,t,"a string"),e},tn=function(e){return function(t,a){return ja(e.test(t),t,a,"does not match the ".concat(e.toString())),t}},an=function(e){return e};an.default=function(e){return Ta(this,Na(e))},an.required=function(){return Ta(this,Za)},an.deprecated=function(e){return Ta(this,La(e))};var nn=function(){return Ea(this,Wa)},rn=function(e){return Ea(this,Fa("an integer",e))},on=function(e){return Ea(this,Fa("a number",e))},sn=function(e){return Ea(this,Ma("a number",e))},ln=function(){return Ea(this,za,{minimum:rn})},cn=function(){return Ea(this,Ba("a non-empty string"))},un=function(){return Ea(this,Ba("a non-empty array"))},dn=function(){return Ea(this,Ba("a non-empty object"))},gn=function(){return Ea(this,Ka)},pn=function(e){return Ea(this,tn(e))},mn=function(){return Ea(this,Ha())},fn=function(){return Ea(this,Ja())},vn=function(){return this},hn=function(e){return Ea(this,Oa(e),{nonEmpty:un,uniqueItems:fn})},bn=function(){return Ea(this,xa)},yn=function(){return Ea(this,Sa)},Dn=function(e){return Ea(this,Aa(e))},_n=function(){return Ea(this,Xa,{minimum:on,maximum:sn,integer:ln,unique:mn})},Cn=function(e){return Ea(this,Ra(e),{nonEmpty:dn})},kn=function(e){return{noUnknownFields:function(){return Ea(this,qa(e))},nonEmpty:dn,concat:function(t){var a=d(d({},e),t.schema);return Ea(this,t,kn(a))},renamed:function(e,t,a){return Ia(this,Qa(e,t,a))},schema:e}},wn=function(e){return Ea(this,Ua(e),kn(e))},Pn=function(){return Ea(this,en,{regexp:gn,domain:nn,nonEmpty:cn,unique:mn,matches:pn})},Tn=function(e,t){return Ta(this,Va(e,t))}.bind(an),En=vn.bind(an),In=hn.bind(an),jn=bn.bind(an),xn=yn.bind(an),Sn=Dn.bind(an),Vn=_n.bind(an),On=Cn.bind(an),Nn=wn.bind(an),Ln=Pn.bind(an),An=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Tn(t.map(Sn),"one of these values: [".concat(JSON.stringify(t),"]"))},Rn=On(In(Nn({authenticatedState:An("ambiguous","authenticated","loggedOut"),id:Ln(),namespace:Nn({code:Ln()}).noUnknownFields(),primary:jn(),xid:Ln()}).noUnknownFields()).required()),Fn=Nn({}),Mn="alloy_debug",qn=function(e){var t=e.console,a=e.locationSearch,n=e.createLogger,r=e.instanceName,i=e.createNamespacedStorage,o=e.getMonitors,s=me.default.parse(a),l=i("instance.".concat(r,".")),c=l.session.getItem("debug"),u="true"===c,d=null===c,g=function(){return u},p=function(e,t){var a=t.fromConfig;a&&!d||(u=e),a||(l.session.setItem("debug",e.toString()),d=!1)};return void 0!==s[Mn]&&p(fa(s[Mn]),{fromConfig:!1}),{setDebugEnabled:p,logger:n({getDebugEnabled:g,context:{instanceName:r},getMonitors:o,console:t}),createComponentLogger:function(e){return n({getDebugEnabled:g,context:{instanceName:r,componentName:e},getMonitors:o,console:t})}}},Bn=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],Un=function(e,t){return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return Promise.all(e.getLifecycleCallbacks(t).map((function(e){return new Promise((function(t){t(e.apply(void 0,n))}))})))}},Qn=function(e){return function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return Promise.resolve().then((function(){return e.apply(void 0,a)}))}},Hn=function(e){return Bn.reduce((function(t,a){return t[a]=Qn(Un(e,a)),t}),{})},Gn=function(e,t){return function(){var a;try{a=e.apply(void 0,arguments)}catch(e){throw ma({error:e,message:t})}return a instanceof Promise&&(a=a.catch((function(e){throw ma({error:e,message:t})}))),a}},Jn=function(){var e={},t={},a={},n=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Zt(Object.keys(t),Object.keys(a));if(n.length)throw new Error("[ComponentRegistry] Could not register ".concat(e," ")+"because it has existing command(s): ".concat(n.join(",")));Object.keys(a).forEach((function(n){var r=a[n];r.commandName=n,r.run=Gn(r.run,"[".concat(e,"] An error occurred while executing the ").concat(n," command.")),t[n]=r}))},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){a[n]=a[n]||[],a[n].push(Gn(t[n],"[".concat(e,"] An error occurred while executing the ").concat(n," lifecycle hook.")))}))};return{register:function(t,a){var i=a.commands,o=a.lifecycle;n(t,i),r(t,o),e[t]=a},getCommand:function(e){return t[e]},getCommandNames:function(){return Object.keys(t)},getLifecycleCallbacks:function(e){return a[e]||[]},getComponentNames:function(){return Object.keys(e)}}},$n=function(e){var t=e.logger,a=e.sendFetchRequest,n=e.sendBeaconRequest,r=e.isRequestRetryable,i=e.getRequestRetryDelay;return function(e){var o=e.requestId,s=e.url,l=e.payload,c=e.useSendBeacon,u=JSON.stringify(l),g=JSON.parse(u);t.logOnBeforeNetworkRequest({url:s,requestId:o,payload:g});var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(c?n:a)(s,u).then((function(a){var n;if(r({response:a,retriesAttempted:e})){var l=i({response:a,retriesAttempted:e});return new Promise((function(t){setTimeout((function(){t(p(e+1))}),l)}))}try{n=JSON.parse(a.body)}catch(e){}return t.logOnNetworkResponse(d(d({requestId:o,url:s,payload:g},a),{},{parsedBody:n,retriesAttempted:e})),{statusCode:a.statusCode,body:a.body,parsedBody:n,getHeader:a.getHeader}}))};return p().catch((function(e){throw t.logOnNetworkError({requestId:o,url:s,payload:g,error:e}),ma({error:e,message:"Network request failed."})}))}},Wn=function(e){var t=e.logger;return function(e){if(e){var a=e.split(";");if(a.length>=2&&a[1].length>0)try{var n=parseInt(a[1],10);if(!Number.isNaN(n))return{regionId:n}}catch(e){}t.warn('Invalid adobe edge: "'.concat(e,'"'))}return{}}},zn="in",Xn="out",Yn="pending",Kn="general",Zn="declinedConsent",er="default",tr="initial",ar="new",nr=function(e){var t=new Error(e);return t.code=Zn,t.message=e,t},rr=function(e){var t=e.logger,a=[],n=function(){for(;a.length;)a.shift().resolve()},r=function(){for(;a.length;)a.shift().reject(nr("The user declined consent."))},i=function(){return Promise.resolve()},o=function(){return Promise.resolve()},s=function(){return Promise.reject(nr("No consent preferences have been set."))},l=function(){return Promise.reject(nr("The user declined consent."))},c=function(e){if(e)return Promise.reject(new Error("Consent is pending."));var t=Oe();return a.push(t),t.promise};return{in:function(e){e===er?this.awaitConsent=i:(e===tr?t.info("Loaded user consent preferences. The user previously consented."):e===ar&&this.awaitConsent!==o&&t.info("User consented."),n(),this.awaitConsent=o)},out:function(e){e===er?(t.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(e===tr?t.warn("Loaded user consent preferences. The user previously declined consent."):e===ar&&this.awaitConsent!==l&&t.warn("User declined consent."),r(),this.awaitConsent=l)},pending:function(e){e===er&&t.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=c},awaitConsent:function(){return Promise.reject(new Error("Consent has not been initialized."))},withConsent:function(){return this.awaitConsent(!0)},current:function(){switch(this.awaitConsent){case i:return{state:"in",wasSet:!1};case o:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case l:return{state:"out",wasSet:!0};case c:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},ir=function(e){var t=e.generalConsentState,a=e.logger,n=function(e,n){switch(e[Kn]){case zn:t.in(n);break;case Xn:t.out(n);break;case Yn:t.pending(n);break;default:a.warn("Unknown consent value: ".concat(e[Kn]))}};return{initializeConsent:function(e,t){t[Kn]?n(t,tr):n(e,er)},setConsent:function(e){n(e,ar)},suspend:function(){t.pending()},awaitConsent:function(){return t.awaitConsent()},withConsent:function(){return t.withConsent()},current:function(){return t.current()}}},or=function(e){return e&&e._experience&&e._experience.decisioning&&ze(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[]},sr=function(){var e,t,a={},n=!1,r=!1,i=!0,o=function(e){if(r)throw new Error("".concat(e," cannot be called after event is finalized."))},s={hasQuery:function(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent:function(){var n=JSON.parse(JSON.stringify(a));return e&&Ee(n,{xdm:e}),t&&Ee(n,{data:t}),n},setUserXdm:function(t){o("setUserXdm"),e=t},setUserData:function(e){o("setUserData"),t=e},mergeXdm:function(e){o("mergeXdm"),e&&Ee(a,{xdm:e})},mergeData:function(e){o("mergeData"),e&&Ee(a,{data:e})},mergeMeta:function(e){o("mergeMeta"),e&&Ee(a,{meta:e})},mergeQuery:function(e){o("mergeQuery"),e&&Ee(a,{query:e})},documentMayUnload:function(){n=!0},finalize:function(n){if(!r){var o=Ae([].concat(f(or(e)),f(or(a.xdm))),(function(e,t){return e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope}));if(e&&this.mergeXdm(e),o.length>0&&(a.xdm._experience.decisioning.propositions=o),t&&s.mergeData(t),r=!0,n){i=!1;var l={xdm:a.xdm||{},data:a.data||{}},c=n(l);i=!1!==c,a.xdm=l.xdm||{},a.data=l.data||{},Pt(a.xdm)&&delete a.xdm,Pt(a.data)&&delete a.data}}},getDocumentMayUnload:function(){return n},isEmpty:function(){return Pt(a)&&(!e||Pt(e))&&(!t||Pt(t))},shouldSend:function(){return i},getViewName:function(){if(e&&e.web&&e.web.webPageDetails)return e.web.webPageDetails.viewName},toJSON:function(){if(!r)throw new Error("toJSON called before finalize");return a}};return s},lr="Retry-After",cr="x-adobe-edge",ur=function(e){var t=e.extractEdgeInfo;return function(e){var a=e.content,n=void 0===a?{}:a,r=e.getHeader,i=n.handle,o=void 0===i?[]:i,s=n.errors,l=void 0===s?[]:s,c=n.warnings,u=void 0===c?[]:c;return{getPayloadsByType:function(e){return o.filter((function(t){return t.type===e})).flatMap((function(e){return e.payload}))},getErrors:function(){return l},getWarnings:function(){return u},getEdge:function(){return t(r(cr))},toJSON:function(){return n}}}},dr="configure",gr="setDebug",pr=function(e){var t,a=e.logger,n=e.configureCommand,r=e.setDebugCommand,i=e.handleError,o=e.validateCommandOptions,s=function(e,i){var s;if(e===dr){if(t)throw new Error("The library has already been configured and may only be configured once.");s=function(){return(t=n(i)).then((function(){}))}}else{if(!t)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=e===gr?function(){return r(i)}:function(){return t.then((function(t){var a=t.getCommand(e);if(!a||!We(a.run)){var n=[dr,gr].concat(t.getCommandNames()).join(", ");throw new Error("The ".concat(e," command does not exist. List of available commands: ").concat(n,"."))}var r=o({command:a,options:i});return a.run(r)}),(function(){return a.warn("An error during configuration is preventing the ".concat(e," command from executing.")),new Promise((function(){}))}))}}return s};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n){var r=s(e,t);a.logOnBeforeCommand({commandName:e,options:t}),n(r())})).catch((function(t){return i(t,"".concat(e," command"))})).catch((function(n){throw a.logOnCommandRejected({commandName:e,options:t,error:n}),n})).then((function(n){var r=Ce(n)?n:{};return a.logOnCommandResolved({commandName:e,options:t,result:r}),r}))}},mr="https://adobe.ly/3sHgQHb",fr=function(e){var t=e.command,a=e.options,n=t.commandName,r=t.documentationUri,i=void 0===r?mr:r,o=t.optionsValidator,s=a;if(o)try{s=o(a)}catch(e){var l="Invalid ".concat(n," command options:\n\t - ").concat(e," For command documentation see: ").concat(i);throw new Error(l)}return s},vr="https://adobe.ly/3sHh553",hr=function(e){var t=e.combinedConfigValidator,a=e.options,n=e.logger;try{return t.noUnknownFields().required().call({logger:n},a)}catch(e){throw new Error("Resolve these configuration problems:\n\t - ".concat(e.message.split("\n").join("\n\t - "),"\nFor configuration documentation see: ").concat(vr))}},br=function(e,t,a){return a.reduce((function(a,n){var r=n.buildOnInstanceConfiguredExtraParams;return r&&(a=d(d({},a),r({config:e,logger:t}))),a}),{})},yr=function(e){var t=[],a={get enabled(){return e.enabled},flush:function(){t.forEach((function(t){var a=t.method,n=t.args;return e[a].apply(e,f(n))}))}};return Object.keys(e).filter((function(t){return"function"==typeof e[t]})).forEach((function(e){a[e]=function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];t.push({method:e,args:n})}})),a},Dr=function(e){var t=e.options,a=e.componentCreators,n=e.coreConfigValidators,r=e.createConfig,i=e.logger,o=e.setDebugEnabled,s=yr(i),l=a.map((function(e){return e.configValidators})).filter((function(e){return e})).reduce((function(e,t){return e.concat(t)}),n),c=r(hr({combinedConfigValidator:l,options:t,logger:s}));o(c.debugEnabled,{fromConfig:!0}),s.flush();var u=br(c,i,a);return i.logOnInstanceConfigured(d(d({},u),{},{config:c})),c},_r=function(e){var t=e.componentCreators,a=e.lifecycle,n=e.componentRegistry,r=e.getImmediatelyAvailableTools;return t.forEach((function(e){var t,a=e.namespace,i=r(a);try{t=e(i)}catch(e){throw ma({error:e,message:"[".concat(a,"] An error occurred during component creation.")})}n.register(a,t)})),a.onComponentsRegistered({lifecycle:a}).then((function(){return n}))},Cr=function(e){return d({},e)},kr="edge.adobedc.net",wr="adobedc.demdex.net",Pr="ee",Tr=function(){return Nn({debugEnabled:jn().default(!1),defaultConsent:An(zn,Xn,Yn).default(zn),datastreamId:Ln().unique().required(),edgeDomain:Ln().domain().default(kr),edgeBasePath:Ln().nonEmpty().default(Pr),orgId:Ln().unique().required(),onBeforeEventSend:xn().default(oa),edgeConfigOverrides:Fn}).renamed("edgeConfigId",Ln().unique(),"datastreamId")},Er=function(e){var t=e.errorPrefix,a=e.logger;return function(e,n){var r=ga(e);if(r.code===Zn)return a.warn("The ".concat(n," could not fully complete. ").concat(r.message)),{};throw pa({error:r,message:"".concat(t," ").concat(r.message)}),r}},Ir=function(e){var t=e.fetch;return function(e,a){return t(e,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:a}).then((function(e){return e.text().then((function(t){return{statusCode:e.status,getHeader:function(t){return e.headers.get(t)},body:t}}))}))}},jr=function(e){var t=e.sendBeacon,a=e.sendFetchRequest,n=e.logger;return function(e,r){var i=new Blob([r],{type:"text/plain; charset=UTF-8"});return t(e,i)?Promise.resolve({statusCode:204,getHeader:function(){return null},body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),a(e,r))}},xr=function(e){var t=e.getDebugEnabled,a=e.console,n=e.getMonitors,r=e.context,i="[".concat(r.instanceName,"]");r.componentName&&(i+=" [".concat(r.componentName,"]"));var o=function(e,t){var a=n();if(a.length>0){var i=d(d({},r),t);a.forEach((function(t){t[e]&&t[e](i)}))}},s=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];o("onBeforeLog",{level:e,arguments:r}),t()&&a[e].apply(a,[i].concat(r))};return{get enabled(){return n().length>0||t()},logOnInstanceCreated:function(e){o("onInstanceCreated",e),s("info","Instance initialized.")},logOnInstanceConfigured:function(e){o("onInstanceConfigured",e),s("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand:function(e){o("onBeforeCommand",e),s("info","Executing ".concat(e.commandName," command. Options:"),e.options)},logOnCommandResolved:function(e){o("onCommandResolved",e),s("info","".concat(e.commandName," command resolved. Result:"),e.result)},logOnCommandRejected:function(e){o("onCommandRejected",e),s("error","".concat(e.commandName," command was rejected. Error:"),e.error)},logOnBeforeNetworkRequest:function(e){o("onBeforeNetworkRequest",e),s("info","Request ".concat(e.requestId,": Sending request."),e.payload)},logOnNetworkResponse:function(e){o("onNetworkResponse",e);var t=e.parsedBody||e.body?"response body:":"no response body.";s("info","Request ".concat(e.requestId,": Received response with status code ").concat(e.statusCode," and ").concat(t),e.parsedBody||e.body)},logOnNetworkError:function(e){o("onNetworkError",e),s("error","Request ".concat(e.requestId,": Network request failed."),e.error)},logOnContentHiding:function(e){o("onContentHiding",{status:e.status}),s(e.logLevel,e.message)},logOnContentRendering:function(e){o("onContentRendering",{status:e.status,payload:e.detail}),s(e.logLevel,e.message)},info:s.bind(null,"info"),warn:s.bind(null,"warn"),error:s.bind(null,"error")}},Sr="__view__",Vr=function(e){return function(t,a){e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(a)}},Or=function(e){var t=e.payload,a=e.getAction,n=e.getUseSendBeacon,r=e.datastreamIdOverride,i=e.edgeSubPath,o=E(),s=!1,l=!1;return{getId:function(){return o},getPayload:function(){return t},getAction:function(){return a({isIdentityEstablished:l})},getDatastreamIdOverride:function(){return r},getUseSendBeacon:function(){return n({isIdentityEstablished:l})},getEdgeSubPath:function(){return i||""},getUseIdThirdPartyDomain:function(){return s},setUseIdThirdPartyDomain:function(){s=!0},setIsIdentityEstablished:function(){l=!0}}},Nr=function(e){var t=e.payload,a=e.datastreamIdOverride,n=function(e){var a=e.isIdentityEstablished;return t.getDocumentMayUnload()&&a};return Or({payload:t,getAction:function(e){var t=e.isIdentityEstablished;return n({isIdentityEstablished:t})?"collect":"interact"},getUseSendBeacon:n,datastreamIdOverride:a})},Lr=function(e){var t=e.content,a=e.addIdentity,n=e.hasIdentity,r=Ie(t,"meta.configOverrides");return{mergeMeta:Ie(t,"meta"),mergeState:Ie(t,"meta.state"),mergeQuery:Ie(t,"query"),mergeConfigOverride:function(e){return r(da(e))},addIdentity:a,hasIdentity:n,toJSON:function(){return t}}},Ar=function(e){return function(t){return void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t])}},Rr=function(){var e={},t=Lr({content:e,addIdentity:Vr(e),hasIdentity:Ar(e)});return t.addEvent=function(t){e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=function(){return(e.events||[]).some((function(e){return e.getDocumentMayUnload()}))},t},Fr=function(e){var t=e.localConfigOverrides,a=e.globalConfigOverrides,n=e.payload,i={payload:n},o=t||{},s=o.datastreamId,l=r(o,fe);return s&&(i.datastreamIdOverride=s),n.mergeConfigOverride(a),n.mergeConfigOverride(l),i},Mr="adb_validation_sessionid",qr="validation.",Br="clientId",Ur=function(e){var t=e.persistent.getItem(Br);return t||(t=E(),e.persistent.setItem(Br,t)),t},Qr=function(e){var t=e.window,a=(0,e.createNamespacedStorage)(qr);return function(){var e=me.default.parse(t.location.search)[Mr];if(!e)return"";var n=Ur(a),r="".concat(e,"|").concat(n);return"&".concat(me.default.stringify({adobeAepValidationToken:r}))}},Hr="Event was canceled because the onBeforeEventSend callback returned false.",Gr=function(e){var t=e.config,a=e.logger,n=e.lifecycle,i=e.consent,o=e.createEvent,s=e.createDataCollectionRequestPayload,l=e.createDataCollectionRequest,c=e.sendEdgeNetworkRequest,u=e.applyResponse,g=t.onBeforeEventSend,p=t.edgeConfigOverrides;return{createEvent:o,sendEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.edgeConfigOverrides,u=r(t,ve),m=Fr({payload:s(),localConfigOverrides:o,globalConfigOverrides:p}),f=l(m),v=je(),h=je();return n.onBeforeEvent(d(d({},u),{},{event:e,onResponse:v.add,onRequestFailure:h.add})).then((function(){return m.payload.addEvent(e),i.awaitConsent()})).then((function(){try{e.finalize(g)}catch(r){var t=function(){throw r};return h.add(n.onRequestFailure),h.call({error:r}).then(t,t)}if(!e.shouldSend()){h.add(n.onRequestFailure),a.info(Hr);var r=new Error(Hr);return h.call({error:r}).then((function(){}))}return c({request:f,runOnResponseCallbacks:v.call,runOnRequestFailureCallbacks:h.call})}))},applyResponse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.renderDecisions,r=void 0!==a&&a,i=t.decisionContext,o=void 0===i?{}:i,c=t.responseHeaders,d=void 0===c?{}:c,g=t.responseBody,p=void 0===g?{handle:[]}:g,m=t.personalization,f=s(),v=l({payload:f}),h=je();return n.onBeforeEvent({event:e,renderDecisions:r,decisionContext:o,decisionScopes:[Sr],personalization:m,onResponse:h.add,onRequestFailure:oa}).then((function(){return f.addEvent(e),u({request:v,responseHeaders:d,responseBody:p,runOnResponseCallbacks:h.call})}))}}},Jr="state:store",$r=function(e){var t=e.cookieJar,a=e.shouldTransferCookie,n=e.apexDomain,r=e.dateProvider;return{cookiesToPayload:function(e,r){var i=r.endsWith(n),o={domain:n,cookiesEnabled:!0};if(!i){var s=t.get(),l=Object.keys(s).filter(a).map((function(e){return{key:e,value:s[e]}}));l.length&&(o.entries=l)}e.mergeState(o)},responseToCookies:function(e){e.getPayloadsByType(Jr).forEach((function(e){var a={domain:n},i=e.attrs&&e.attrs.SameSite&&e.attrs.SameSite.toLowerCase();void 0!==e.maxAge&&(a.expires=new Date(r().getTime()+1e3*e.maxAge)),void 0!==i&&(a.sameSite=i),"none"===i&&(a.secure=!0),t.set(e.key,e.value,a)}))}}},Wr="mboxEdgeCluster",zr="at_qa_mode",Xr="mbox",Yr=function(e){var t=e.orgId,a=e.targetMigrationEnabled;return function(e){return na(t,e)||e===zr||a&&e===Xr}},Kr="v1",Zr=function(e){var t=e.shift()||[],a=e.shift()||[],n=e;return ke.apply(void 0,[{}].concat(f(t),f(a),f(n)))},ei=function(e){return function(t){var a=function(){throw t};return e.call({error:t}).then(a,a)}},ti=function(e){var t=e.config,a=e.lifecycle,n=e.cookieTransfer,r=e.sendNetworkRequest,i=e.createResponse,o=e.processWarningsAndErrors,s=e.getLocationHint,l=e.getAssuranceValidationTokenParams,c=t.edgeDomain,u=t.edgeBasePath,d=t.datastreamId;return function(e){var t=e.request,g=e.runOnResponseCallbacks,p=void 0===g?oa:g,m=e.runOnRequestFailureCallbacks,f=void 0===m?oa:m,v=je();v.add(a.onResponse),v.add(p);var h=je();return h.add(a.onRequestFailure),h.add(f),a.onBeforeRequest({request:t,onResponse:v.add,onRequestFailure:h.add}).then((function(){var e=t.getUseIdThirdPartyDomain()?wr:c,a=s(),i=a?"".concat(u,"/").concat(a).concat(t.getEdgeSubPath()):"".concat(u).concat(t.getEdgeSubPath()),o=t.getDatastreamIdOverride()||d,g=t.getPayload();o!==d&&g.mergeMeta({sdkConfig:{datastream:{original:d}}});var p="https://".concat(e,"/").concat(i,"/").concat(Kr,"/").concat(t.getAction(),"?configId=").concat(o,"&requestId=").concat(t.getId()).concat(l());return n.cookiesToPayload(g,e),r({requestId:t.getId(),url:p,payload:g,useSendBeacon:t.getUseSendBeacon()})})).then((function(e){return o(e),e})).catch(ei(h)).then((function(e){var t=e.parsedBody,a=e.getHeader,r=i({content:t,getHeader:a});return n.responseToCookies(r),v.call({response:r}).then(Zr)}))}},ai=204,ni="The server responded with a",ri=function(e){var t=e.logger;return function(e){var a=e.statusCode,n=e.body,r=e.parsedBody;if(a<200||a>=300||!r&&a!==ai||r&&!Array.isArray(r.handle)){var i=r?JSON.stringify(r,null,2):n,o=i?"response body:\n".concat(i):"no response body.";throw new Error("".concat(ni," status code ").concat(a," and ").concat(o))}if(r){var s=r.warnings,l=void 0===s?[]:s,c=r.errors,u=void 0===c?[]:c;l.forEach((function(e){t.warn("".concat(ni," warning:"),e)})),u.forEach((function(e){t.error("".concat(ni," non-fatal error:"),e)}))}}},ii=function(e){var t=e.orgId,a=e.cookieJar,n=Ot(t,$t),r=function(){return a.get(n)},i=function(){var e=a.get(Wr);if(e)return"t".concat(e)};return function(){return r()||i()}},oi=3,si=[429,503,502,504],li=function(e){var t=e.response;return e.retriesAttempted<oi&&si.includes(t.statusCode)},ci=1e3,ui=1e3,di=.3,gi=function(e){var t=ci+e*ui,a=t*di,n=t-a,r=t+a;return Math.round(n+Math.random()*(r-n))},pi=function(e){var t,a=e.getHeader(lr);if(a){var n=parseInt(a,10);t=aa(n)?1e3*n:Math.max(0,new Date(a).getTime()-(new Date).getTime())}return t},mi=function(e){var t=e.response,a=e.retriesAttempted,n=pi(t);return void 0===n&&(n=gi(a)),n},fi=200,vi=function(e){var t=e.cookieTransfer,a=e.lifecycle,n=e.createResponse,r=e.processWarningsAndErrors;return function(e){var i=e.request,o=e.responseHeaders,s=e.responseBody,l=e.runOnResponseCallbacks,c=void 0===l?oa:l,u=e.runOnRequestFailureCallbacks,d=void 0===u?oa:u,g=je();g.add(a.onResponse),g.add(c);var p=je();p.add(a.onRequestFailure),p.add(d);var m=function(e){return o[e]};return a.onBeforeRequest({request:i,onResponse:g.add,onRequestFailure:p.add}).then((function(){return r({statusCode:fi,getHeader:m,body:JSON.stringify(s),parsedBody:s})})).catch(ei(p)).then((function(){var e=n({content:s,getHeader:m});return t.responseToCookies(e),g.call({response:e}).then(Zr)}))}},hi=function(e){var t=e.options;return Nn({type:Ln(),xdm:Nn({eventType:Ln(),identityMap:Rn}),data:Nn({}),documentUnloading:jn(),renderDecisions:jn(),decisionScopes:In(Ln()).uniqueItems(),personalization:Nn({decisionScopes:In(Ln()).uniqueItems(),surfaces:In(Ln()).uniqueItems(),sendDisplayEvent:jn().default(!0),includeRenderedPropositions:jn().default(!1),defaultPersonalizationEnabled:jn(),decisionContext:Nn({})}).default({sendDisplayEvent:!0}),datasetId:Ln(),mergeId:Ln(),edgeConfigOverrides:Fn,initializePersonalization:jn()}).required().noUnknownFields()(t)},bi=function(e){var t=e.options;return Nn({renderDecisions:jn(),responseHeaders:On(Ln().required()),responseBody:Nn({handle:In(Nn({type:Ln().required(),payload:En().required()})).required()}).required(),personalization:Nn({sendDisplayEvent:jn().default(!0),decisionContext:Nn({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(t)},yi=function(e){var t=e.eventManager,a=e.logger;return{commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:function(e){return hi({options:e})},run:function(e){var n=e.xdm,i=e.data,o=e.documentUnloading,s=e.type,l=e.mergeId,c=e.datasetId,u=e.edgeConfigOverrides,d=r(e,he),g=t.createEvent();return o&&g.documentMayUnload(),g.setUserXdm(n),g.setUserData(i),s&&g.mergeXdm({eventType:s}),l&&g.mergeXdm({eventMergeId:l}),
u&&(d.edgeConfigOverrides=u),c&&(a.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=u||{},Ee(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:c}}}})),t.sendEvent(g,d)}},applyResponse:{documentationUri:"",optionsValidator:function(e){return bi({options:e})},run:function(e){var a=e.renderDecisions,n=void 0!==a&&a,r=e.decisionContext,i=void 0===r?{}:r,o=e.responseHeaders,s=void 0===o?{}:o,l=e.responseBody,c=void 0===l?{handle:[]}:l,u=e.personalization,d=t.createEvent();return t.applyResponse(d,{renderDecisions:n,decisionContext:i,responseHeaders:s,responseBody:c,personalization:u})}}}}};yi.namespace="DataCollector";var Di=function(e,t){return"ID sync ".concat(t?"succeeded":"failed",": ").concat(e.spec.url)},_i=function(e){var t=e.fireReferrerHideableImage,a=e.logger;return function(e){var n=e.filter((function(e){return"url"===e.type}));return n.length?Promise.all(n.map((function(e){return t(e.spec).then((function(){a.info(Di(e,!0))})).catch((function(){a.error(Di(e,!1))}))}))).then(oa):Promise.resolve()}},Ci=Nn({thirdPartyCookiesEnabled:jn().default(!0),idMigrationEnabled:jn().default(!0)}),ki=Nn({namespaces:In(Sn("ECID")).nonEmpty().uniqueItems().default(["ECID"]),edgeConfigOverrides:Fn}).noUnknownFields().default({namespaces:["ECID"]}),wi=Nn({url:Ln().required().nonEmpty(),edgeConfigOverrides:Fn}).required().noUnknownFields(),Pi=function(e){var t,a=e.addEcidQueryToPayload,n=e.addQueryStringIdentityToPayload,r=e.ensureSingleIdentity,i=e.setLegacyEcid,o=e.handleResponseForIdSyncs,s=e.getEcidFromResponse,l=e.getIdentity,c=e.consent,u=e.appendIdentityToUrl,g=e.logger,p={};return{lifecycle:{onBeforeRequest:function(e){var t=e.request,i=e.onResponse,o=e.onRequestFailure;return a(t.getPayload()),n(t.getPayload()),r({request:t,onResponse:i,onRequestFailure:o})},onResponse:function(e){var a=e.response;return t||(t=s(a))&&i(t),p=d(d({},p),a.getEdge()),o(a)}},commands:{getIdentity:{optionsValidator:ki,run:function(e){return c.awaitConsent().then((function(){return t?void 0:l(e)})).then((function(){return{identity:{ECID:t},edge:p}}))}},appendIdentityToUrl:{optionsValidator:wi,run:function(e){return c.withConsent().then((function(){return t?void 0:l(e)})).then((function(){return{url:u(t,e.url)}})).catch((function(t){return g.warn("Unable to append identity to url. ".concat(t.message)),e}))}}}}},Ti=function(e){var t=e.config,a=e.getEcidFromVisitor,n=e.apexDomain,r=e.isPageSsl,i=e.cookieJar,o=t.idMigrationEnabled,s=t.orgId,l="AMCV_".concat(s),c=function(){var e=null,t="s_ecid",a=i.get(t)||i.get(l);if(a){var n=/(^|\|)MCMID\|(\d+)($|\|)/,r=a.match(n);r&&(e=r[2])}return e};return{getEcid:function(){if(o){var e=c();return e?Promise.resolve(e):a()}return Promise.resolve()},setEcid:function(e){if(o&&c()!==e){var t=r?{sameSite:"none",secure:!0}:{};i.set(l,"MCMID|".concat(e),d({domain:n,expires:390},t))}}}},Ei=function(e){var t=e.logger;return new Promise((function(e,a){if(Ce(window.adobe)&&Ce(window.adobe.optIn)){var n=window.adobe.optIn;t.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),n.fetchPermissions((function(){n.isApproved([n.Categories.ECID])?(t.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),e()):a(new Error("Legacy opt-in was declined."))}),!0)}else e()}))},Ii=function(e){var t=e.Visitor;return We(t)&&We(t.getInstance)&&t},ji=function(e){var t=e.logger,a=e.orgId,n=e.awaitVisitorOptIn;return function(){var e=Ii(window);return e?n({logger:t}).then((function(){return t.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((function(n){e.getInstance(a,{}).getMarketingCloudVisitorID((function(e){t.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(e)}),!0)}))})).catch((function(e){e?t.info("".concat(e.message,", retrieving ECID from experience edge")):t.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()}},xi=function(e){var t=e.processIdSyncs;return function(e){return t(e.getPayloadsByType("identity:exchange"))}},Si=function(e){var t,a=e.doesIdentityCookieExist,n=e.setDomainForInitialIdentityPayload,r=e.addLegacyEcidToPayload,i=e.awaitIdentityCookie,o=e.logger,s=function(e){return n(e),r(e.getPayload())};return function(e){var n=e.request,r=e.onResponse,l=e.onRequestFailure;if(a())return n.setIsIdentityEstablished(),Promise.resolve();if(t){o.info("Delaying request while retrieving ECID from server.");var c=t;return t=c.catch((function(){return i({onResponse:r,onRequestFailure:l})})),c.then((function(){o.info("Resuming previously delayed request."),n.setIsIdentityEstablished()})).catch((function(){return s(n)}))}return(t=i({onResponse:r,onRequestFailure:l})).catch((function(){})),s(n)}},Vi="ECID",Oi=function(e){e.mergeQuery({identity:{fetch:[Vi]}})},Ni=function(e){var t=e.thirdPartyCookiesEnabled,a=e.areThirdPartyCookiesSupportedByDefault;return function(e){t&&a()&&e.setUseIdThirdPartyDomain()}},Li=function(e){var t=e.getLegacyEcid,a=e.addEcidToPayload;return function(e){return e.hasIdentity(Vi)?Promise.resolve():t().then((function(t){t&&a(e,t)}))}},Ai="adobe_mc",Ri=function(e){try{return decodeURIComponent(e)}catch(e){return""}},Fi=300,Mi=function(e){var t=e.locationSearch,a=e.dateProvider,n=e.orgId,r=e.logger;return function(e){if(!e.hasIdentity(Vi)){var i=me.default.parse(t)[Ai];if(void 0!==i){Array.isArray(i)&&(r.warn("Found multiple adobe_mc query string paramters, only using the last one."),i=i[i.length-1]);var s=i.split("|").reduce((function(e,t){var a=o(t.split("="),2),n=a[0],r=a[1];return e[n]=r,e}),{}),l=parseInt(s.TS,10),c=s.MCMID,u=Ri(s.MCORGID);a().getTime()/1e3<=l+Fi&&u===n&&c?(r.info("Found valid ECID identity ".concat(c," from the adobe_mc query string parameter.")),e.addIdentity(Vi,{id:c})):r.info("Detected invalid or expired adobe_mc query string parameter.")}}}},qi=function(e,t){e.addIdentity(Vi,{id:t})},Bi=function(e){var t=e.doesIdentityCookieExist,a=e.orgId,n=e.logger;return function(e){var r=e.onResponse,i=e.onRequestFailure;return new Promise((function(e,o){r((function(){t()?e():(n.warn("Identity cookie not found. This could be caused by any of the following issues:\n"+"\t* The org ID ".concat(a," configured in Alloy doesn't match the org ID specified in the edge configuration.\n")+"\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed."),o(new Error("Identity cookie not found.")))})),i((function(){t()?e():o(new Error("Identity cookie not found."))}))}))}},Ui=function(e){var t=e.getPayloadsByType("identity:result").find((function(e){return e.namespace&&e.namespace.code===Vi}));return t?t.id:void 0},Qi=function(e){var t=e.sendEdgeNetworkRequest,a=e.createIdentityRequestPayload,n=e.createIdentityRequest,r=e.globalConfigOverrides;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.namespaces,o=e.edgeConfigOverrides,s=Fr({payload:a(i),globalConfigOverrides:r,localConfigOverrides:o}),l=n(s);return t({request:l})}},Hi=function(e){var t=e.payload,a=e.datastreamIdOverride;return Or({payload:t,datastreamIdOverride:a,getAction:function(){return"identity/acquire"},getUseSendBeacon:function(){return!1}})},Gi=function(e){var t={query:{identity:{fetch:e}}};return Lr({content:t,addIdentity:Vr(t),hasIdentity:Ar(t)})},Ji=/^([^?#]*)(\??[^#]*)(#?.*)$/,$i=function(e){return""===e?"?":"?"===e?"":"&"},Wi=function(e){var t=e.dateProvider,a=e.orgId;return function(e,n){var r=Math.round(t().getTime()/1e3),i=encodeURIComponent("TS=".concat(r,"|MCMID=").concat(e,"|MCORGID=").concat(encodeURIComponent(a))),s=o(n.match(Ji),4),l=s[1],c=s[2],u=s[3],d=$i(c);return"".concat(l).concat(c).concat(d,"adobe_mc=").concat(i).concat(u)}},zi=function(e){var t=e.config,a=e.logger,n=e.consent,r=e.fireReferrerHideableImage,i=e.sendEdgeNetworkRequest,o=e.apexDomain,s=e.getBrowser,l=t.orgId,c=t.thirdPartyCookiesEnabled,u=t.edgeConfigOverrides,d=ji({logger:a,orgId:l,awaitVisitorOptIn:Ei}),g=xe({logger:a,cookieJar:Pe}),p=Ti({config:t,getEcidFromVisitor:d,apexDomain:o,cookieJar:g,isPageSsl:"https:"===window.location.protocol}),m=Wt({orgId:l}),f=Qi({sendEdgeNetworkRequest:i,createIdentityRequestPayload:Gi,createIdentityRequest:Hi,globalConfigOverrides:u}),v=Ht({getBrowser:s}),h=Ni({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:v}),b=Li({getLegacyEcid:p.getEcid,addEcidToPayload:qi}),y=Mi({locationSearch:window.document.location.search,dateProvider:function(){return new Date},orgId:l,logger:a}),D=Bi({doesIdentityCookieExist:m,orgId:l,logger:a}),_=Si({doesIdentityCookieExist:m,setDomainForInitialIdentityPayload:h,addLegacyEcidToPayload:b,awaitIdentityCookie:D,logger:a}),C=_i({fireReferrerHideableImage:r,logger:a}),k=xi({processIdSyncs:C}),w=Wi({dateProvider:function(){return new Date},orgId:l,globalConfigOverrides:u});return Pi({addEcidQueryToPayload:Oi,addQueryStringIdentityToPayload:y,ensureSingleIdentity:_,setLegacyEcid:p.setEcid,handleResponseForIdSyncs:k,getEcidFromResponse:Ui,getIdentity:f,consent:n,appendIdentityToUrl:w,logger:a,config:t})};zi.namespace="Identity",zi.configValidators=Ci;var Xi="2.22.0",Yi=function(e){var t=e.config,a=e.componentRegistry,n=[].concat(f(a.getCommandNames()),[dr,gr]).sort(),r=d({},t);Object.keys(t).forEach((function(e){var a=t[e];"function"==typeof a&&(r[e]=a.toString())}));var i=a.getComponentNames();return{version:Xi,configs:r,commands:n,components:i}},Ki=function(e){var t=e.config,a=e.componentRegistry;return{commands:{getLibraryInfo:{run:function(){return{libraryInfo:Yi({config:t,componentRegistry:a})}}}}}};Ki.namespace="LibraryInfo";var Zi,eo=Object.freeze({__proto__:null,dataCollector:yi,identity:zi,libraryInfo:Ki}),to=Kt(window),ao=window,no=(ao.console,ao.fetch),ro=ao.navigator,io=Tr(),oo=xt(window,Pe),so=Ir({fetch:no}),lo=wt(),co=Qr({window:window,createNamespacedStorage:to}),uo=Xt({userAgent:window.navigator.userAgent}),go=function(e){var t=e.instanceName,a=e.logController,n=a.setDebugEnabled,r=a.logger,i=a.createComponentLogger,o=e.components,s=Jn(),l=Hn(s),c=o.concat(Object.values(eo)),u=function(e){n(e.enabled,{fromConfig:!1})},d=xe({logger:r,cookieJar:Pe}),g=function(e){var a=Dr({options:e,componentCreators:c,coreConfigValidators:io,createConfig:Cr,logger:r,setDebugEnabled:n}),o=a.orgId,u=a.targetMigrationEnabled,g=Yr({orgId:o,targetMigrationEnabled:u}),p=$r({cookieJar:d,shouldTransferCookie:g,apexDomain:oo,dateProvider:function(){return new Date}}),m=We(ro.sendBeacon)?jr({sendBeacon:ro.sendBeacon.bind(ro),sendFetchRequest:so,logger:r}):so,f=$n({logger:r,sendFetchRequest:so,sendBeaconRequest:m,isRequestRetryable:li,getRequestRetryDelay:mi}),v=ri({logger:r}),h=Wn({logger:r}),b=ur({extractEdgeInfo:h}),y=ii({orgId:o,cookieJar:Pe}),D=ti({config:a,lifecycle:l,cookieTransfer:p,sendNetworkRequest:f,createResponse:b,processWarningsAndErrors:v,getLocationHint:y,getAssuranceValidationTokenParams:co}),_=vi({lifecycle:l,cookieTransfer:p,createResponse:b,processWarningsAndErrors:v}),C=rr({logger:r}),k=ir({generalConsentState:C,logger:r}),w=Gr({config:a,logger:r,lifecycle:l,consent:k,createEvent:sr,createDataCollectionRequestPayload:Rr,createDataCollectionRequest:Nr,sendEdgeNetworkRequest:D,applyResponse:_});return _r({componentCreators:c,lifecycle:l,componentRegistry:s,getImmediatelyAvailableTools:function(e){var n=i(e);return{config:a,componentRegistry:s,consent:k,eventManager:w,fireReferrerHideableImage:lo,logger:n,lifecycle:l,sendEdgeNetworkRequest:D,handleError:Er({errorPrefix:"[".concat(t,"] [").concat(e,"]"),logger:n}),createNamespacedStorage:to,apexDomain:oo,getBrowser:uo}}})},p=Er({errorPrefix:"[".concat(t,"]"),logger:r});return pr({logger:r,configureCommand:g,setDebugCommand:u,handleError:p,validateCommandOptions:fr})},po=function(e){var t=e.eventManager,a=e.lifecycle,n=e.handleError;return function(e){if(e.s_fe)return Promise.resolve();var r=e.target,i=t.createEvent();return i.documentMayUnload(),a.onClick({event:i,clickedElement:r}).then((function(){return i.isEmpty()?Promise.resolve():t.sendEvent(i)})).then(oa).catch((function(e){n(e,"click collection")}))}},mo=function(e){var t=e.eventManager,a=e.lifecycle,n=e.handleError,r=po({eventManager:t,lifecycle:a,handleError:n});document.addEventListener("click",r,!0)},fo=Ln().regexp().default("\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$"),vo=Nn({clickCollectionEnabled:jn().default(!0),clickCollection:Nn({internalLinkEnabled:jn().default(!0),externalLinkEnabled:jn().default(!0),downloadLinkEnabled:jn().default(!0),sessionStorageEnabled:jn().default(!1),eventGroupingEnabled:jn().default(!1),filterClickProperties:xn()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:fo,onBeforeLinkClickSend:xn().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),ho="cppXYctnr",bo=function(){return null!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).getElementById(ho)},yo=function(e){var t=e;return/^https?:\/\//i.test(t)||(t="".concat(window.location.protocol,"//").concat(e)),new URL(t).hostname},Do=function(e,t){return yo(e)!==yo(t)},_o=function(e,t){return t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled)},Co=function(e){var t=e.config,a=e.logger,n=e.getClickedElementProperties,r=e.clickActivityStorage,i=t.clickCollectionEnabled,o=t.clickCollection;return i?function(e){var i=e.event,s=e.clickedElement,l=n({clickActivityStorage:r,clickedElement:s,config:t,logger:a}),c=l.linkType;bo()||(l.isValidLink()&&_o(o,c)?a.info("Cancelling link click event due to clickCollection.".concat(c,"LinkEnabled = false.")):!l.isInternalLink()||!o.eventGroupingEnabled||t.onBeforeLinkClickSend&&!o.filterClickDetails||Do(window.location.hostname,l.linkUrl)?l.isValidLink()?(i.mergeXdm(l.xdm),i.mergeData(l.data),r.save({pageName:l.pageName,pageIDType:l.pageIDType})):l.isValidActivityMapData()&&r.save(l.properties):r.save(l.properties))}:function(){}},ko=function(e){return{eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}},wo=function(e){return{__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}},Po=function(e,t){var a=e.xdm,n=e.data,r=e.clickedElement;if(t.clickedElement=r,a&&a.web&&a.web.webInteraction){var i=a.web.webInteraction,o=i.name,s=i.region,l=i.type,c=i.URL;t.linkName=o,t.linkRegion=s,t.linkType=l,t.linkUrl=c}if(n&&n.__adobe&&n.__adobe.analytics){var u=n.__adobe.analytics.contextData;if(u&&u.a&&u.a.activitymap){var d=u.a.activitymap,g=d.page,p=d.link,m=d.region,f=d.pageIDType;t.pageName=g||t.pageName,t.linkName=p||t.linkName,t.linkRegion=m||t.linkRegion,void 0!==f&&(t.pageIDType=f)}}},To=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.properties,a=e.logger,n=t||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:function(){return!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion)},isInternalLink:function(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:function(){return!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType},get xdm(){return n.filteredXdm?n.filteredXdm:ko(this)},get data(){return n.filteredData?n.filteredData:wo(this)},applyPropertyFilter:function(e){e&&!1===e(n)&&(a&&a.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),n={})},applyOptionsFilter:function(e){var t=this.options;if(t&&t.clickedElement&&(t.xdm||t.data)){if(e&&!1===e(t))return a&&a.info("Clicked element properties were rejected by filter function: ".concat(JSON.stringify(this.properties,null,2))),void(this.options=void 0);this.options=t,n.filteredXdm=t.xdm,n.filteredData=t.data}},get options(){var e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&Po(e,n)}}},Eo=function(e){var t=e.clickActivityStorage;return function(e){if(!bo()){var a=t.load(),n=To({properties:a});if(n.isValidLink()||n.isValidActivityMapData()){if(n.isValidLink()){var r=n.xdm;delete r.eventType,e.mergeXdm(r)}n.isValidActivityMapData()&&e.mergeData(n.data),t.save({pageName:n.pageName,pageIDType:n.pageIDType})}}}},Io=function(e){var t=e.window,a=e.getLinkName,n=e.getLinkRegion,r=e.getAbsoluteUrlFromAnchorElement,i=e.findClickableElement,o=e.determineLinkType;return function(e){var s=e.clickedElement,l=e.config,c=e.logger,u=e.clickActivityStorage,d=l.onBeforeLinkClickSend,g=l.clickCollection.filterClickDetails,p=To({logger:c});if(s){var m=i(s);if(m){p.clickedElement=s,p.linkUrl=r(t,m),p.linkType=o(t,l,p.linkUrl,m),p.linkRegion=n(m),p.linkName=a(m),p.pageIDType=0,p.pageName=t.location.href;var f=u.load();f&&f.pageName&&(p.pageName=f.pageName,p.pageIDType=1),g?p.applyPropertyFilter(g):d&&p.applyOptionsFilter(d)}}return p}},jo="clickData",xo=function(e){var t=e.storage;return{save:function(e){var a=JSON.stringify(e);t.setItem(jo,a)},load:function(){var e=null,a=t.getItem(jo);return a&&(e=JSON.parse(a)),e},remove:function(){t.removeItem(jo)}}},So=function(e){var t=e.clickActivityStorage;return function(e){t.save({pageName:e.getContent().xdm.web.webPageDetails.name,pageIDType:1})}},Vo=function(e){return e&&e.replace(/\s+/g," ").trim()},Oo=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,No=function(e){return!(e&&e.nodeName&&e.nodeName.match(Oo))},Lo=function(e){var t=[],a=!1;return No(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var n=Lo(e);t=t.concat(n.supportedNodes),a=a||n.includesUnsupportedNodes}))):a=!0,{supportedNodes:t,includesUnsupportedNodes:a}},Ao=function(e,t,a){var n;return a&&a!==e.nodeName.toUpperCase()||(n=e.getAttribute(t)),n},Ro=function(e){var t={texts:[]};return e.supportedNodes.forEach((function(e){e.getAttribute&&(t.alt||(t.alt=Vo(e.getAttribute("alt"))),t.title||(t.title=Vo(e.getAttribute("title"))),t.inputValue||(t.inputValue=Vo(Ao(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=Vo(Ao(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},Fo=/^(HEADER|MAIN|FOOTER|NAV)$/i,Mo=function(e){var t;return"region"===e.role&&ia(e["aria-label"])&&(t=e["aria-label"]),t},qo=function(e){var t;return e&&e.nodeName&&e.nodeName.match(Fo)&&(t=e.nodeName),t},Bo=function(e){return!!e&&/^[a-z0-9]+:\/\//i.test(e)},Uo=function(e){return!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0))},Qo=function(e){return!!e&&!!e.onclick},Ho=function(e){if("INPUT"===e.tagName){var t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},Go=function(e){return"BUTTON"===e.tagName&&"submit"===e.type},Jo=function(e){var t=e.indexOf("?"),a=e.indexOf("#");return t>=0&&(t<a||a<0)?e.substring(0,t):a>=0?e.substring(0,a):e},$o=function(e,t,a){var n=!1;if(t)if(a&&a.download)n=!0;else if(e){var r=new RegExp(e),i=Jo(t).toLowerCase();n=r.test(i)}return n},Wo=function(e,t){var a=!1;if(t&&e.location.hostname){var n=e.location.hostname.toLowerCase();a=Jo(t).toLowerCase().indexOf(n)<0}return a},zo=function(e){var t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},Xo=function(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,a){e[t]=a},removeItem:function(t){delete e[t]}}},Yo=Io({window:window,getLinkName:function(e){var t=Vo(e.innerText||e.textContent),a=Lo(e);if(!t||a.includesUnsupportedNodes){var n=Ro(a);(t=Vo(n.texts.join("")))||(t=n.alt||n.title||n.inputValue||n.imgSrc)}return t||""},getLinkRegion:function(e){for(var t,a=e.parentNode;a;){if(t=Vo(a.id||Mo(a)||qo(a)))return t;a=a.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:function(e,t){var a=e.location,n=t.href||"";"string"!=typeof n&&(n="");var r=t.protocol,i=t.host;if(n&&!Bo(n)){r||(r=a.protocol?a.protocol:""),r=r?"".concat(r,"//"):"",i||(i=a.host?a.host:"");var o="";if("/"!==n.substring(0,1)){var s=a.pathname.lastIndexOf("/");s=s<0?0:s,o=a.pathname.substring(0,s)}n="".concat(r).concat(i).concat(o,"/").concat(n)}return n},findClickableElement:function(e){for(var t=e;t;){if(Uo(t)||Qo(t)||Ho(t)||Go(t))return t;t=t.parentNode}return null},determineLinkType:function(e,t,a,n){var r="other";return ia(a)&&($o(t.downloadLinkQualifier,a,n)?r="download":Wo(e,a)&&(r="exit")),r}}),Ko=function(e){if(!Zi){var t=Kt(window)(e.orgId||""),a=Xo(),n=e.clickCollection.sessionStorageEnabled?t.session:a;Zi=xo({storage:n})}},Zo=function(e){var t=e.config,a=e.eventManager,n=e.handleError,r=e.logger,i=t.clickCollection;Zi||Ko(t);var o=Co({config:t,logger:r,clickActivityStorage:Zi,getClickedElementProperties:Yo}),s=Eo({clickActivityStorage:Zi}),l=So({clickActivityStorage:Zi});return{lifecycle:{onComponentsRegistered:function(e){var t=e.lifecycle;mo({eventManager:a,lifecycle:t,handleError:n})},onClick:function(e){var t=e.event,a=e.clickedElement;o({event:t,clickedElement:a})},onBeforeEvent:function(e){var t=e.event;zo(t)&&(i.eventGroupingEnabled&&s(t),l(t,r,Zi))}}}};Zo.namespace="ActivityCollector",Zo.configValidators=vo,Zo.buildOnInstanceConfiguredExtraParams=function(e){var t=e.config,a=e.logger;return Zi||Ko(t),{getLinkDetails:function(e){return Yo({clickActivityStorage:Zi,clickedElement:e,config:t,logger:a}).properties}}};var es=function(e){return"URL destination ".concat("succeeded",": ",e.spec.url)},ts=function(e){var t=e.fireReferrerHideableImage,a=e.logger,n=e.cookieJar,r=e.isPageSsl?{sameSite:"none",secure:!0}:{},i=function(e){e.filter((function(e){return"cookie"===e.type})).forEach((function(e){var t=e.spec,a=t.name,i=t.value,o=t.domain,s=t.ttlDays;n.set(a,i||"",d({domain:o||"",expires:s||10},r))}))},o=function(e){var n=e.filter((function(e){return"url"===e.type}));return Promise.all(n.map((function(e){return t(e.spec).then((function(){a.info(es(e))})).catch((function(){}))}))).then(oa)};return function(e){return i(e),o(e)}},as=function(e){var t=e.processDestinations,a=function(e){var a=e.response.getPayloadsByType("activation:push");return t(a)},n=function(e){return{destinations:e.response.getPayloadsByType("activation:pull")}};return function(e){var t=e.response;return a({response:t}).then((function(){return n({response:t})}))}},ns=function(e){var t=e.logger,a=e.fireReferrerHideableImage,n=Pe.withConverter({write:function(e){return encodeURIComponent(e)}}),r=xe({logger:t,cookieJar:n}),i=ts({fireReferrerHideableImage:a,logger:t,cookieJar:r,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:as({processDestinations:i})},commands:{}}};ns.namespace="Audiences";var rs=function(e){return function(t){var a={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};Ee(t,{web:a})}},is=function(e){var t=e.screen.orientation;if(null==t||null==t.type)return null;var a=t.type.split("-");return 0===a.length||"portrait"!==a[0]&&"landscape"!==a[0]?null:a[0]},os=function(e){if(We(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null},ss=function(e){return function(t){var a=e.screen,n=a.width,r=a.height,i={},o=va(r);o>=0&&(i.screenHeight=o);var s=va(n);s>=0&&(i.screenWidth=s);var l=is(e)||os(e);l&&(i.screenOrientation=l),Object.keys(i).length>0&&Ee(t,{device:i})}},ls=function(e){return function(t){var a=e.document.documentElement,n=void 0===a?{}:a,r=n.clientWidth,i=n.clientHeight,o={type:"browser"},s=va(r);s>=0&&(o.browserDetails={viewportWidth:s});var l=va(i);l>=0&&(o.browserDetails=o.browserDetails||{},o.browserDetails.viewportHeight=l),Ee(t,{environment:o})}},cs=function(e){return function(t){var a=e(),n={},r=va(a.getTimezoneOffset());void 0!==r&&(n.localTimezoneOffset=r),(void 0===r||Math.abs(r)<6e3)&&(n.localTime=ba(a)),Ee(t,{placeContext:n})}},us=function(e){return function(t){var a=e().toISOString();Ee(t,{timestamp:a})}},ds="https://ns.adobe.com/experience/alloy",gs=function(e){var t={name:ds,version:Xi,environment:"browser"};Ee(e,{implementationDetails:t})},ps=function(e,t,a,n){var r=e.context.flatMap((function(e,n){return a[e]?[a[e]]:(t.warn("Invalid context[".concat(n,"]: '").concat(e,"' is not available.")),[])})).concat(n);return{namespace:"Context",lifecycle:{onBeforeEvent:function(e){var a=e.event,n={};return Promise.all(r.map((function(e){return Promise.resolve(e(n,t))}))).then((function(){return a.mergeXdm(n)}))}}}},ms=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]],fs=function(e){return void 0!==e.userAgentData},vs=function(e){return fs(e)?function(t,a){try{return e.userAgentData.getHighEntropyValues(ms.map((function(e){return e[0]}))).then((function(e){var a={};ms.forEach((function(t){var n=o(t,2),r=n[0],i=n[1];Object.prototype.hasOwnProperty.call(e,r)&&_(e[r])===i&&(a[r]=e[r])})),Ee(t,{environment:{browserDetails:{userAgentClientHints:a}}})}))}catch(e){return a.warn("Unable to collect user-agent client hints. ".concat(e.message)),oa}}:oa},hs=rs(window),bs=ss(window),ys=ls(window),Ds=cs((function(){return new Date})),_s=us((function(){return new Date})),Cs={web:hs,device:bs,environment:ys,placeContext:Ds},ks={highEntropyUserAgentHints:vs(navigator)},ws=d(d({},Cs),ks),Ps=[_s,gs],Ts=function(e){var t=e.config,a=e.logger;return ps(t,a,ws,Ps)};Ts.namespace="Context",Ts.configValidators=Nn({context:In(Ln()).default(Object.keys(Cs))});var Es="personalization:decisions",Is=function(e){return null!==e&&"object"===_(e)&&Object.getPrototypeOf(e)===Object.prototype},js=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).forEach((function(n){Is(e[n])||Array.isArray(e[n])?js(e[n],t,[].concat(f(a),[n])):t[[].concat(f(a),[n]).join(".")]=e[n]})),t},xs=function(e){return Is(e)?js(e):e},Ss=function(e){var t=e.renderDecisions,a=e.decisionProvider,n=e.applyResponse,r=e.event,i=e.personalization,o=e.decisionContext,s=d(d({},xs(r.getContent())),o);return function(e){var o=e.response;if(a.addPayloads(o.getPayloadsByType(Es)),!r.hasQuery())return{propositions:[]};var l=a.evaluate(s);return n({renderDecisions:t,propositions:l,event:r,personalization:i})}},Vs={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},Os={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Ns={AND:"and",OR:"or"},Ls={ANY:"any",ORDERED:"ordered"},As=(g(g(g(g(g(g(g(g(g(g(ge={},Os.EQUALS,j()),Os.NOT_EQUALS,x()),Os.EXISTS,S()),Os.NOT_EXISTS,V()),Os.GREATER_THAN,N()),Os.GREATER_THAN_OR_EQUAL_TO,L()),Os.LESS_THAN,A()),Os.LESS_THAN_OR_EQUAL_TO,R()),Os.CONTAINS,F()),Os.NOT_CONTAINS,M()),g(g(ge,Os.STARTS_WITH,q()),Os.ENDS_WITH,B())),Rs=["iam.eventType","eventType","type"],Fs=["iam.id","id"],Ms="https://ns.adobe.com/personalization/default-content-item",qs="https://ns.adobe.com/personalization/dom-action",Bs="https://ns.adobe.com/personalization/html-content-item",Us="https://ns.adobe.com/personalization/json-content-item",Qs="https://ns.adobe.com/personalization/ruleset-item",Hs="https://ns.adobe.com/personalization/redirect-item",Gs="https://ns.adobe.com/personalization/message/in-app",Js="https://ns.adobe.com/personalization/message/content-card",$s="decisioning.propositionDisplay",Ws="decisioning.propositionInteract",zs="decisioning.propositionTrigger",Xs="decisioning.propositionDismiss",Ys=1,Ks=function(e,t){return function(a){var n=e.getItem(t);if(!n)return a;try{return JSON.parse(n)}catch(e){return a}}},Zs=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return function(n){e.setItem(t,JSON.stringify(a(n)))}},el=function(e){var t=new Date;return t.setDate(t.getDate()-e),t},tl=function(e){var t=e.scopeDetails,a=(void 0===t?{}:t).activity;return(void 0===a?{}:a).id},al=function(){var e={};return{getItem:function(t){return t in e?e[t]:null},setItem:function(t,a){e[t]=a}}},nl=function(e){e.clear()},rl=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})._experience;return!(!e||"object"!==_(e))},il=function(e){var t=e.scopeDetails;return(void 0===t?{}:t).decisionProvider},ol=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return Array.isArray(e)?(e.forEach((function(e){Array.isArray(e)?t.push.apply(t,f(ol(e))):t.push(e)})),t):e},sl="text/html",ll="application/json",cl=function(e,t,a){return{schema:a.schema,data:a.data,id:a.id||e}},ul="schema",dl=g(g({},"cjmiam",(function(e,t,a){var n=a.html,r=a.mobileParameters;return{schema:Gs,data:{mobileParameters:r,webParameters:{},content:n,contentType:sl},id:e}})),ul,cl),gl=function(){return function(e){var t=e.id,a=e.type,n=e.detail;return"function"==typeof dl[a]?dl[a](t,a,n):n}},pl=function(e){var t=e.schema,a=e.data;if(t===Qs)return!0;if(t!==Us)return!1;try{var n="string"==typeof a.content?JSON.parse(a.content):a.content;return n&&Object.prototype.hasOwnProperty.call(n,"version")&&Object.prototype.hasOwnProperty.call(n,"rules")}catch(e){return!1}},ml=function(e,t,a){var n=gl(),r=tl(e),i=[],o=function(e){var t=e.data,a=void 0===t?{}:t,n=e.schema===Qs?a:a.content;n&&i.push(de("string"==typeof n?JSON.parse(n):n))},s=function(o){var s=t.getEvent($s,r),l=s?s.firstTimestamp:void 0,c=ol(i.map((function(e){return e.execute(o)}))).map(n).map((function(e){var t=(a.recordQualified(r)||{}).firstTimestamp;return d(d({},e),{},{data:d(d({},e.data),{},{qualifiedDate:t,displayedDate:l})})}));return d(d({},e),{},{items:c})};return Array.isArray(e.items)&&e.items.filter(pl).forEach(o),{evaluate:s,isEvaluable:i.length>0}},fl={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss"},vl=g(g(g(g({},$s,fl.DISPLAY),Ws,fl.INTERACT),zs,fl.TRIGGER),Xs,fl.DISMISS),hl=g(g(g(g({},fl.DISPLAY,$s),fl.INTERACT,Ws),fl.TRIGGER,zs),fl.DISMISS,Xs),bl=function(e){return vl[e]},yl=function(e){return hl[e]},Dl=function(e){var t=e.eventRegistry;return{recordQualified:function(e){if(e)return t.addEvent({},fl.TRIGGER,e)}}},_l=function(e){var t=e.eventRegistry,a={},n=Dl({eventRegistry:t}),r=function(e){var r=tl(e);if(r){var i=ml(e,t,n);i.isEvaluable&&(a[r]=i)}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(a).map((function(t){return t.evaluate(e)})).filter((function(e){return e.items.length>0}))};return{addPayload:r,addPayloads:function(e){e.forEach(r)},evaluate:i}},Cl=function(e){return function(t){var a=t.renderDecisions,n=void 0!==a&&a,r=t.propositions,i=void 0===r?[]:r,o=t.event,s=t.personalization;return e&&e.onDecision({renderDecisions:n,propositions:i,event:o,personalization:s}),{propositions:i}}},kl="AJO",wl="TGT",Pl="events",Tl=1e3,El=30,Il=function(e){return"iam.".concat(e)},jl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tl,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:El;return function(a){var n={};return Object.keys(a).forEach((function(r){n[r]={},Object.values(a[r]).filter((function(e){return new Date(e.firstTimestamp)>=el(t)})).sort((function(e,t){return e.firstTimestamp-t.firstTimestamp})).slice(-1*e).forEach((function(e){n[r][e.event[Il("id")]]=e}))})),n}},xl=function(e){var t,a,n,r=e.storage,i=r,o=function(e){t=Ks(i=e,Pl),a=Zs(i,Pl,jl(Tl,El)),n=t({})};o(r);var s=function(e,t,r,i){if(t&&r){n[t]||(n[t]={});var o=n[t][r],s=o?o.count:0,l=(new Date).getTime(),c=o?o.firstTimestamp||o.timestamp:l;return n[t][r]={event:d(d({},e),{},g(g(g({},Il("id"),r),Il("eventType"),t),Il("action"),i)),firstTimestamp:c,timestamp:l,count:s+1
},a(n),n[t][r]}};return{addExperienceEdgeEvent:function(e){var t=e.getContent().xdm,a=void 0===t?{}:t,n=a._experience;if(rl(a)){var r=n.decisioning,i=void 0===r?{}:r,o=i.propositionEventType,l=void 0===o?{}:o,c=i.propositionAction,u=void 0===c?{}:c,d=i.propositions,g=void 0===d?[]:d,p=Object.keys(l);if(0!==p.length){var m=function(e){return l[e]===Ys},f=u.id;p.filter(m).forEach((function(e){g.forEach((function(t){il(t)===kl&&s({},e,tl(t),f)}))}))}}},addEvent:s,getEvent:function(e,t){if(n[e])return n[e][t]},toJSON:function(){return n},setStorage:o}},Sl=function(e){var t=e.eventRegistry,a=e.window,n=e.getBrowser,r=(new Date).getTime(),i=function(){return d({title:a.title,url:a.url},ua(a.url))},o=function(){return d({url:a.referrer},ua(a.referrer))},s=function(){var e=new Date,t=e.getTime();return{pageLoadTimestamp:r,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-r,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},l=function(){return{height:a.height,width:a.width,scrollY:a.scrollY,scrollX:a.scrollX}},c={browser:{name:n()},page:i(),referringPage:o()},u=function(){return d(d(d({},c),s()),{},{window:l(),"~sdkver":Xi})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=d(d({},u()),e);return d(d({},xs(a)),{},{events:t.toJSON()})};return{getContext:g}},Vl=function(){for(var e=arguments.length,t=new Array(e>1?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return t},Ol=function(){return!0},Nl=function(){var e=Vl,t=Ol,a=0,n={},r=function(e){return function(){delete n[e]}},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return"function"!=typeof e?function(){}:(n[a+=1]={callback:e,params:t},{id:a,unsubscribe:r(a)})},o=function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];Object.values(n).forEach((function(a){var n=a.callback,i=a.params,o=e.apply(void 0,[i].concat(r));t.apply(void 0,[i].concat(f(o)))&&n.apply(void 0,f(o))}))},s=function(a){if(a&&n[a]){for(var r=n[a],i=r.callback,o=r.params,s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];var u=e.apply(void 0,[o].concat(l));t.apply(void 0,[o].concat(f(u)))&&i.apply(void 0,f(u))}};return{add:i,emit:o,emitOne:s,hasSubscriptions:function(){return Object.keys(n).length>0},setEmissionPreprocessor:function(t){"function"==typeof t&&(e=t)},setEmissionCondition:function(e){"function"==typeof e&&(t=e)}}},Ll=function(e){var t=e.options;return Nn({surfaces:In(Ln()).uniqueItems(),schemas:In(Ln()).uniqueItems(),callback:xn().required()}).noUnknownFields()(t)},Al=function(e){return{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails}},Rl=function(e){var t=e.collect,a=function(){},n=new Set,r=function(e){return[fl.INTERACT,fl.DISMISS].includes(e)},i=function(e,t,a){var i=[e,t].join("-"),o=!a.has(i)&&(r(e)||!n.has(i));return a.add(i),n.add(i),o},o=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!(a instanceof Array))return Promise.resolve();if(!Object.values(fl).includes(e))return Promise.resolve();var n=[],r=new Set;return a.forEach((function(t){var a=Al(t);i(e,a.id,r)&&n.push(a)})),n.length>0?t({decisionsMeta:n,eventType:yl(e),documentMayUnload:!0}):Promise.resolve()},s=Nl(),l=function(e,t){var a=e.surfacesFilter,n=e.schemasFilter;return[{propositions:t.filter((function(e){return!a||a.includes(e.scope)})).map((function(e){var t=e.items,a=void 0===t?[]:t;return d(d({},e),{},{items:a.filter((function(e){return!n||n.includes(e.schema)}))})})).filter((function(e){return e.items.length>0}))},o]};s.setEmissionPreprocessor(l);var c=function(e){var t=e.surfaces,n=e.schemas,r=e.callback,i=s.add(r,{surfacesFilter:t instanceof Array?t:void 0,schemasFilter:n instanceof Array?n:void 0}),o=i.id,l=i.unsubscribe;return a(o),Promise.resolve({unsubscribe:l})};return{refresh:function(e){(a=function(t){t?s.emitOne(t,e):s.emit(e)})()},command:{optionsValidator:function(e){return Ll({options:e})},run:c}}},Fl={TYPE:"~type",SOURCE:"~source"},Ml={LIFECYCLE:"com.adobe.eventType.lifecycle",TRACK:"com.adobe.eventType.generic.track",EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},ql={LAUNCH:"com.adobe.eventSource.applicationLaunch",REQUEST:"com.adobe.eventSource.requestContent"},Bl=function(e){var t=e.options;return Nn({renderDecisions:jn(),personalization:Nn({decisionContext:Nn({})})}).noUnknownFields()(t)},Ul=function(e){var t=e.contextProvider,a=e.decisionProvider;return{optionsValidator:function(e){return Bl({options:e})},run:function(e){var n=e.renderDecisions,r=e.decisionContext;return(0,e.applyResponse)({renderDecisions:n,propositions:a.evaluate(t.getContext(r))})}}},Ql=function(e){var t=e.eventManager,a=e.mergeDecisionsMeta;return function(e){var n=e.decisionsMeta,r=void 0===n?[]:n,i=e.propositionAction,o=e.documentMayUnload,s=void 0!==o&&o,l=e.eventType,c=void 0===l?$s:l,u=e.propositionEventTypes,d=void 0===u?[bl(c)]:u,g=e.viewName,p=t.createEvent(),m={eventType:c};return g&&(m.web={webPageDetails:{viewName:g}}),ze(r)&&a(p,r,d,i),p.mergeXdm(m),s&&p.documentMayUnload(),t.sendEvent(p)}},Hl=function(e,t,a,n){if(0!==t.length){var r={};a.forEach((function(e){r[e]=Ys}));var i={_experience:{decisioning:{propositions:t,propositionEventType:r}}};n&&(i._experience.decisioning.propositionAction=n),e.mergeXdm(i)}},Gl=function(e,t){e.mergeQuery({personalization:d({},t)})},Jl=function(e){var t=e.config,a=e.eventManager,n=e.createNamespacedStorage,r=e.consent,i=e.getBrowser,o=t.orgId,s=t.personalizationStorageEnabled,l=Ql({eventManager:a,mergeDecisionsMeta:Hl}),c=n("".concat(Vt(o),".decisioning."));s||nl(c.persistent);var u,p=xl({storage:al()}),m=_l({eventRegistry:p}),f=Sl({eventRegistry:p,window:window,getBrowser:i}),v=Ul({contextProvider:f,decisionProvider:m}),h=Rl({collect:l});return{lifecycle:{onDecision:function(e){var t=e.propositions;h.refresh(t)},onComponentsRegistered:function(e){u=Cl(e.lifecycle),s&&r.awaitConsent().then((function(){p.setStorage(c.persistent)})).catch((function(){c&&nl(c.persistent)}))},onBeforeEvent:function(e){var t=e.event,a=e.renderDecisions,n=e.personalization,r=void 0===n?{}:n,i=e.onResponse,o=void 0===i?oa:i,s=r.decisionContext,l=void 0===s?{}:s;o(Ss({renderDecisions:a,decisionProvider:m,applyResponse:u,event:t,personalization:r,decisionContext:f.getContext(d(g(g({},Fl.TYPE,Ml.EDGE),Fl.SOURCE,ql.REQUEST),l))}))},onBeforeRequest:function(e){var t=e.request.getPayload().toJSON().events,a=void 0===t?[]:t;0!==a.length&&a.forEach((function(e){return p.addExperienceEdgeEvent(e)}))}},commands:{evaluateRulesets:{run:function(e){var t=e.renderDecisions,a=e.personalization,n=(void 0===a?{}:a).decisionContext,r=void 0===n?{}:n;return v.run({renderDecisions:t,decisionContext:d(g(g({},Fl.TYPE,Ml.RULES_ENGINE),Fl.SOURCE,ql.REQUEST),r),applyResponse:u})},optionsValidator:v.optionsValidator},subscribeRulesetItems:h.command}}};Jl.namespace="DecisioningEngine",Jl.configValidators=Nn({personalizationStorageEnabled:jn().default(!1)});var $l=t.createEventMergeId=function(){return{eventMergeId:E()}},Wl=function(e){return{commands:{createEventMergeId:{run:e.createEventMergeId}}}},zl=function(){return Wl({createEventMergeId:$l})};zl.namespace="EventMerge";var Xl={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},Yl=function(e){var t=e.mediaRequestPayload,a=e.action;return Or({payload:t,edgeSubPath:"/va",getAction:function(){return a},getUseSendBeacon:function(){return!1}})},Kl=function(e){var t=e.config,a=e.eventManager,n=e.consent,r=e.sendEdgeNetworkRequest,i=e.setTimestamp;return{createMediaEvent:function(e){var n=e.options,r=a.createEvent(),o=n.xdm;if(i(o),r.setUserXdm(o),o.eventType===Xl.AD_START){var s=n.xdm.mediaCollection.advertisingDetails;r.mergeXdm({mediaCollection:{advertisingDetails:{playerName:s.playerName||t.streamingMedia.playerName}}})}return r},createMediaSession:function(e){var n=t.streamingMedia,r=n.playerName,i=n.channel,o=n.appVersion,s=a.createEvent(),l=e.xdm.mediaCollection.sessionDetails;return s.setUserXdm(e.xdm),s.mergeXdm({eventType:Xl.SESSION_START,mediaCollection:{sessionDetails:{playerName:l.playerName||r,channel:l.channel||i,appVersion:l.appVersion||o}}}),s},augmentMediaEvent:function(e){var t=e.event,a=e.playerId,n=e.getPlayerDetails,r=e.sessionID;if(!a||!n)return t;var i=n({playerId:a}),o=i.playhead,s=i.qoeDataDetails;return t.mergeXdm({mediaCollection:{playhead:va(o),qoeDataDetails:s,sessionID:r}}),t},trackMediaSession:function(e){var t=e.event,n=e.mediaOptions;return a.sendEvent(t,{mediaOptions:n})},trackMediaEvent:function(e){var t=e.event,a=e.action,i=Rr(),o=Yl({mediaRequestPayload:i,action:a});return i.addEvent(t),t.finalize(),n.awaitConsent().then((function(){return r({request:o}).then((function(){return{}}))}))}}},Zl={MAIN:"main",AD:"ad",COMPLETED:"completed"},ec=function(){var e;return{getSession:function(t){return e[t]||{}},storeSession:function(t){var a=t.playerId,n=t.sessionDetails;void 0===e&&(e={}),e[a]=n},stopPing:function(t){var a=t.playerId,n=e[a];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=Zl.COMPLETED)},savePing:function(t){var a=t.playerId,n=t.pingId,r=t.playbackState;e[a]&&(e[a].pingId&&clearTimeout(e[a].pingId),e[a].pingId=n,e[a].playbackState=r)}}},tc=function(e,t){return e===Xl.AD_START||e===Xl.Ad_BREAK_START||e===Xl.AD_SKIP||e===Xl.AD_COMPLETE?"ad":e===Xl.AD_BREAK_COMPLETE||e===Xl.CHAPTER_COMPLETE||e===Xl.CHAPTER_START||e===Xl.CHAPTER_SKIP||e===Xl.SESSION_START?"main":e===Xl.SESSION_END||e===Xl.SESSION_COMPLETE?"completed":t},ac=function(e){var t=e.mediaEventManager,a=e.mediaSessionCacheManager,n=e.config,r=function(e){var i=t.createMediaEvent({options:e}),o=e.playerId,s=e.xdm.eventType,l=s.split(".")[1],c=a.getSession(o),u=c.getPlayerDetails,d=c.sessionPromise,g=c.playbackState;return d.then((function(e){return e.sessionId?(t.augmentMediaEvent({event:i,eventType:s,playerId:o,getPlayerDetails:u,sessionID:e.sessionId}),t.trackMediaEvent({event:i,action:l}).then((function(){if(o)if(s===Xl.SESSION_COMPLETE||s===Xl.SESSION_END)a.stopPing({playerId:o});else{var e=tc(s,g);if("completed"===e)return;var t="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,i=setTimeout((function(){var e={playerId:o,xdm:{eventType:Xl.PING}};r(e)}),1e3*t);a.savePing({playerId:o,pingId:i,playbackState:e})}}))):Promise.reject(new Error("Failed to trigger media event: ".concat(s,". Session ID is not available for playerId: ").concat(o,".")))}))};return function(e){return r(e)}},nc=function(e){var t=e.config,a=e.mediaEventManager,n=e.mediaSessionCacheManager,r=e.legacy,i=void 0!==r&&r;return function(e){if(!t.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));var r=e.playerId,o=e.getPlayerDetails,s=a.createMediaSession(e);a.augmentMediaEvent({event:s,playerId:r,getPlayerDetails:o});var l=a.trackMediaSession({event:s,mediaOptions:{playerId:r,getPlayerDetails:o,legacy:i}});return n.storeSession({playerId:r,sessionDetails:{sessionPromise:l,getPlayerDetails:o,playbackState:Zl.MAIN}}),l}},rc=function(e){return!ra(e)||!e.trim()},ic=function(e){var t=e.mediaSessionCacheManager,a=e.config,n=e.trackMediaEvent;return function(e){var r=e.response,i=e.playerId,o=e.getPlayerDetails,s=r.getPayloadsByType("media-analytics:new-session");if(ze(s)){var l=s[0].sessionId;if(rc(l))return{};if(!i||!o)return{sessionId:l};var c=setTimeout((function(){n({playerId:i,xdm:{eventType:Xl.PING}})}),1e3*a.streamingMedia.mainPingInterval);return t.savePing({playerId:i,pingId:c,playbackState:Zl.MAIN}),{sessionId:l}}return{}}},oc={Video:"video",Audio:"audio"},sc={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},lc={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},cc={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},uc={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},dc={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},gc={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},pc={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},mc={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"},fc=function(e){var t=e.trackMediaEvent,a=e.trackMediaSession,n=e.mediaResponseHandler,r=e.logger,i=e.createMediaHelper,o=e.createGetInstance,s=e.config;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,a=e.onResponse,r=void 0===a?oa:a;if(t){var i=t.legacy,o=t.playerId,s=t.getPlayerDetails;i&&r((function(e){var t=e.response;return n({playerId:o,getPlayerDetails:s,response:t})}))}}},commands:{getMediaAnalyticsTracker:{run:function(){if(!s.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));r.info("Streaming media is configured in legacy mode.");var e=i({logger:r});return Promise.resolve(d({getInstance:function(){return o({logger:r,trackMediaEvent:t,trackMediaSession:a,uuid:E})},Event:cc,MediaType:oc,PlayerState:lc,StreamType:sc,MediaObjectKey:dc,VideoMetadataKeys:gc,AudioMetadataKeys:pc,AdMetadataKeys:mc},e))}}}}},vc=function(e){var t=e.logger;return{createMediaObject:function(e,a,n,r,i){var o={friendlyName:e,name:a,length:n,streamType:i,contentType:r},s=Nn({friendlyName:Ln().nonEmpty(),name:Ln().nonEmpty(),length:Vn().required(),streamType:Ln().nonEmpty(),contentType:Ln().nonEmpty()});try{var l=s(o);return{sessionDetails:{name:l.name,friendlyName:l.friendlyName,length:l.length,streamType:l.streamType,contentType:l.contentType}}}catch(e){return t.warn("An error occurred while creating the Media Object.",e),{}}},createAdBreakObject:function(e,a,n){var r={friendlyName:e,offset:a,index:n},i=Nn({friendlyName:Ln().nonEmpty(),offset:Vn(),index:Vn()});try{var o=i(r);return{advertisingPodDetails:{friendlyName:o.friendlyName,offset:o.offset,index:o.index}}}catch(e){return t.warn("An error occurred while creating the Ad Break Object.",e),{}}},createAdObject:function(e,a,n,r){var i={friendlyName:e,name:a,podPosition:n,length:r},o=Nn({friendlyName:Ln().nonEmpty(),name:Ln().nonEmpty(),podPosition:Vn(),length:Vn()});try{var s=o(i);return{advertisingDetails:{friendlyName:s.friendlyName,name:s.name,podPosition:s.podPosition,length:s.length}}}catch(e){return t.warn("An error occurred while creating the Advertising Object.",e),{}}},createChapterObject:function(e,a,n,r){var i={friendlyName:e,offset:a,length:n,index:r},o=Nn({friendlyName:Ln().nonEmpty(),offset:Vn(),length:Vn(),index:Vn()});try{var s=o(i);return{chapterDetails:{friendlyName:s.friendlyName,offset:s.offset,index:s.index,length:s.length}}}catch(e){return t.warn("An error occurred while creating the Chapter Object.",e),{}}},createStateObject:function(e){var a=/^[a-zA-Z0-9_]{1,64}$/,n=Ln().matches(a,"This is not a valid state name.");try{return{name:n(e)}}catch(e){return t.warn("An error occurred while creating the State Object.",e),{}}},createQoEObject:function(e,a,n,r){var i={bitrate:e,droppedFrames:a,fps:n,startupTime:r},o=Nn({bitrate:Vn(),droppedFrames:Vn(),fps:Vn(),startupTime:Vn()});try{var s=o(i);return{bitrate:s.bitrate,droppedFrames:s.droppedFrames,framesPerSecond:s.fps,timeToStart:s.startupTime}}catch(e){return t.warn("An error occurred while creating the QOE Object.",e),{}}}}},hc={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},bc={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"},yc=function(e){var t=e.logger,a=e.trackMediaSession,n=e.trackMediaEvent,r=e.uuid,i=null,o=function(){i={qoe:null,lastPlayhead:0,playerId:r()}},s=function(e){var t=e.eventType;return t===cc.BufferComplete||t===cc.SeekComplete?uc.Play:t===cc.StateStart||t===cc.StateEnd?uc.StateUpdate:t===cc.SeekStart?uc.Pause:t},l=function(e){var t=e.eventType,a=e.mediaDetails,n=void 0===a?{}:a,r=e.contextData,i=void 0===r?[]:r,o=s({eventType:t});if(t===cc.StateStart)return{eventType:"media.".concat(o),mediaCollection:{statesStart:[n]}};if(t===cc.StateEnd)return{eventType:"media.".concat(o),mediaCollection:{statesEnd:[n]}};var l={eventType:"media.".concat(o),mediaCollection:d({},n)},c=[];return Object.keys(i).forEach((function(e){hc[e]?l.mediaCollection.sessionDetails[hc[e]]=i[e]:bc[e]?l.mediaCollection.advertisingDetails[bc[e]]=i[e]:c.push({name:e,value:i[e]})})),ze(c)&&(l.mediaCollection.customMetadata=c),l};return{trackSessionStart:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_e(e)||Pt(e))return t.warn("Invalid media object"),{};null===i&&(t.warn("The Media Session was completed. Restarting a new session."),o());var r=l({eventType:uc.SessionStart,mediaDetails:e,contextData:n});return a({playerId:i.playerId,getPlayerDetails:function(){return{playhead:i.lastPlayhead,qoeDataDetails:i.qoe}},xdm:r})},trackPlay:function(){if(null===i)return t.warn("The Media Session was completed."),{};var e=l({eventType:uc.Play});return n({playerId:i.playerId,xdm:e})},trackPause:function(){if(null===i)return t.warn("The Media Session was completed."),{};var e=l({eventType:uc.Pause});return n({playerId:i.playerId,xdm:e})},trackSessionEnd:function(){if(null===i)return t.warn("The Media Session was completed."),{};var e=l({eventType:uc.SessionEnd});return n({playerId:i.playerId,xdm:e})},trackComplete:function(){if(null===i)return t.warn("The Media Session was completed."),{};var e=l({eventType:uc.SessionComplete});return n({playerId:i.playerId,xdm:e})},trackError:function(e){if(t.warn("trackError(".concat(e,")")),null===i)return t.warn("The Media Session was completed."),{};var a={name:e,source:"player"},r=l({eventType:uc.Error,mediaDetails:{errorDetails:a}});return n({playerId:i.playerId,xdm:r})},trackEvent:function(e,a,r){if(Pt(a))return t.warn("Invalid media object."),{};if(null===i)return t.warn("The Media Session was completed."),{};if(!Object.values(cc).includes(e))return t.warn("Invalid event type"),{};var o=l({eventType:e,mediaDetails:a,contextData:r});return n({playerId:i.playerId,xdm:o})},updatePlayhead:function(e){null!==i?ta(e)&&(i.lastPlayhead=parseInt(e,10)):t.warn("The Media Session was completed.")},updateQoEObject:function(e){null!==i?e&&(i.qoe=e):t.warn("The Media Session was completed.")},destroy:function(){t.warn("Destroy called, destroying the tracker."),i=null}}},Dc=function(e){var t=e.eventManager,a=e.sendEdgeNetworkRequest,n=e.config,r=e.logger,i=e.consent,o=ec(),s=Kl({sendEdgeNetworkRequest:a,config:n,consent:i,eventManager:t,setTimestamp:us((function(){return new Date}))}),l=ac({mediaSessionCacheManager:o,mediaEventManager:s,config:n}),c=nc({config:n,mediaEventManager:s,mediaSessionCacheManager:o,legacy:!0}),u=ic({mediaSessionCacheManager:o,config:n,trackMediaEvent:l});return fc({mediaResponseHandler:u,trackMediaSession:c,trackMediaEvent:l,createMediaHelper:vc,createGetInstance:yc,logger:r,config:n})};Dc.namespace="Legacy Media Analytics";var _c=function(e){return{inferences:e.response.getPayloadsByType("rtml:inferences")}},Cc=function(){return{lifecycle:{onResponse:_c},commands:{}}};Cc.namespace="MachineLearning";var kc,wc="web",Pc="webapp",Tc="://",Ec="#",Ic=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,jc=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,xc=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Sc=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Vc=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.length;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Oc=function(e){return ia(e)?e.toLowerCase():""},Nc=function(e){return ia(e)?e.toLowerCase():""},Lc=function(e){return ia(e)?Vc(e):"/"},Ac=function(e){var t=e.match(Ic);return t?{surfaceType:Oc(t[1]),authority:Nc(t[2]),path:Lc(t[3]),fragment:t[4]}:null},Rc=function(e){return"".concat(e.surfaceType).concat(Tc).concat(e.authority).concat(e.path||"").concat(e.fragment||"")},Fc=function(e){var t=e(),a=t.host.toLowerCase(),n=t.pathname;return wc+Tc+a+Vc(n)},Mc=function(e,t){return e.startsWith(Ec)?Fc(t)+e:e},qc=function(e,t,a){var n=function(e){return a.warn(e),null};if(!ia(e))return n("Invalid surface: ".concat(e));var r=Mc(e,t),i=Ac(r);return null===i?n("Invalid surface: ".concat(e)):[wc,Pc].includes(i.surfaceType)?i.authority&&jc.test(i.authority)?i.path&&!xc.test(i.path)?n("Invalid path ".concat(i.path," in surface: ").concat(e)):i.fragment&&!Sc.test(i.fragment)?n("Invalid fragment ".concat(i.fragment," in surface: ").concat(e)):i:n("Invalid authority ".concat(i.authority," in surface: ").concat(e)):n("Unsupported surface type ".concat(i.surfaceType," in surface: ").concat(e))},Bc=function(e){return!!e&&0===e.indexOf(wc+Tc)&&-1===e.indexOf(Ec)},Uc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return qc(e,t,a)})).filter((function(e){return!_e(e)})).map(Rc)},Qc=function(e){e.includes(Sr)||e.push(Sr)},Hc=function(e,t){var a=Fc(t);e.includes(a)||e.push(a)},Gc=function(e){return e.filter((function(t,a){return e.indexOf(t)===a}))},Jc=function(e){var t=e.getPageLocation,a=e.renderDecisions,n=e.decisionScopes,r=e.personalization,i=e.event,o=e.isCacheInitialized,s=e.logger,l=i.getViewName();return{isRenderDecisions:function(){return a},isSendDisplayEvent:function(){return!!r.sendDisplayEvent},shouldIncludeRenderedPropositions:function(){return!!r.includeRenderedPropositions},getViewName:function(){return l},hasScopes:function(){return n.length>0||ze(r.decisionScopes)},hasSurfaces:function(){return ze(r.surfaces)},hasViewName:function(){return ia(l)},createQueryDetails:function(){var e=f(n);ze(r.decisionScopes)&&e.push.apply(e,f(r.decisionScopes));var a=Uc(r.surfaces,t,s);this.shouldRequestDefaultPersonalization()&&(Qc(e),Hc(a,t));var i=[Ms,Bs,Us,Hs,Qs,Gs,Js];return e.includes(Sr)&&i.push(qs),{schemas:i,decisionScopes:Gc(e),surfaces:Gc(a)}},isCacheInitialized:function(){return o},shouldFetchData:function(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData:function(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization:function(){return r.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==r.defaultPersonalizationEnabled}}},$c="Rendering is disabled for authoring mode.",Wc={propositions:[]},zc=function(e){var t=e.logger,a=e.options,n=Nn({propositions:In(Nn({id:Ln().required(),scope:Ln().required(),scopeDetails:Nn({decisionProvider:Ln().required()}).required(),items:In(Nn({id:Ln().required(),schema:Ln().required(),data:En().required()})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Nn(En()),viewName:Ln()}).required();try{return n(a)}catch(e){return t.warn("Invalid options for applyPropositions. No propositions will be applied.",e),Wc}},Xc=function(e){var t=e.getPageLocation,a=e.logger,n=e.fetchDataHandler,r=e.viewChangeHandler,i=e.onClickHandler,o=e.isAuthoringModeEnabled,s=e.mergeQuery,l=e.viewCache,c=e.showContainers,u=e.applyPropositions,d=e.setTargetMigration,g=e.mergeDecisionsMeta,p=e.renderedPropositions,m=e.onDecisionHandler,f=e.handleConsentFlicker;return{lifecycle:{onComponentsRegistered:function(){f()},onDecision:m,onBeforeRequest:function(e){var t=e.request;return d(t),Promise.resolve()},onBeforeEvent:function(e){var i=e.event,u=e.renderDecisions,d=e.decisionScopes,m=void 0===d?[]:d,f=e.personalization,v=void 0===f?{}:f,h=e.onResponse,b=void 0===h?oa:h,y=e.onRequestFailure,D=void 0===y?oa:y;if(b((function(){return{propositions:[]}})),D((function(){return c()})),o())return a.warn($c),s(i,{enabled:!1}),Promise.resolve();var _=Jc({getPageLocation:t,renderDecisions:u,decisionScopes:m,personalization:v,event:i,isCacheInitialized:l.isInitialized(),logger:a}),C=[];if(_.shouldIncludeRenderedPropositions()&&C.push(p.clear()),_.shouldFetchData()){var k=l.createCacheUpdate(_.getViewName());D((function(){return k.cancel()})),n({cacheUpdate:k,personalizationDetails:_,event:i,onResponse:b})}else _.shouldUseCachedData()&&C.push(r({personalizationDetails:_,event:i,onResponse:b,onRequestFailure:D}));return Promise.all(C).then((function(e){var t=e.flatMap((function(e){return e}));ze(t)&&g(i,t,[fl.DISPLAY])}))},onClick:function(e){var t=e.event,a=e.clickedElement;i({event:t,clickedElement:a})}},commands:{applyPropositions:{optionsValidator:function(e){return zc({logger:a,options:e})},run:u}}}},Yc=function(e){return Me(Qe,{},{innerHTML:e})},Kc=":eq(",Zc=/:eq\((\d+)\)/g,eu=function(e){return-1===e.indexOf(Kc)},tu=function(e){return e.split(Zc).filter(ia)},au=/(#|\.)(-?\w+)/g,nu=function(e,t,a){return"".concat(t).concat(CSS.escape(a))},ru=function(e){return e.replace(au,nu)},iu=function(e){for(var t=[],a=ru(e.trim()),n=tu(a),r=n.length,i=0;i<r;){var o=n[i],s=n[i+1];s?t.push({sel:o,eq:Number(s)}):t.push({sel:o}),i+=2}return t},ou=function(e){var t=document;if(eu(e))return rt(e,t);for(var a=iu(e),n=a.length,r=[],i=t,s=0;s<n;){var l=a[s],c=l.sel,u=l.eq,d=rt(c,i),g=d.length;if(0===g)break;if(null!=u&&u>g-1)break;s<n-1&&(i=null==u?o(d,1)[0]:d[u]),s===n-1&&(r=null==u?d:[d[u]]),s+=1}return r},su=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementById(e)},lu=function(e,t,a){e.setAttribute(t,a)},cu=function(e,t){return e.getAttribute(t)},uu=function(e,t){e.removeAttribute(t)},du=function(e,t,a,n){var r;r=n?"".concat(t,":").concat(a," !").concat(n,";"):"".concat(t,":").concat(a,";"),e.style.cssText+=";".concat(r)},gu=function(e){return e.parentNode},pu=function(e){return e.nextElementSibling},mu=function(e,t){if(e){var a=gu(e);a&&a.insertBefore(t,pu(e))}},fu=function(e,t){if(e){var a=gu(e);a&&a.insertBefore(t,e)}},vu=function(e){var t=e.children;return t?Xe(t):[]},hu=function(e){var t=e.childNodes;return t?Xe(t):[]},bu=function(e){return e.firstElementChild},yu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(void 0===kc){var t=e.querySelector("[nonce]");kc=t&&(t.nonce||t.getAttribute("nonce"))}return kc},Du="src",_u=function(e){return e.tagName===Ue},Cu=function(e){return Me(Ue,{src:e})},ku=function(e){rt(Ue,e).forEach((function(e){var t=cu(e,Du);t&&Cu(t)}))},wu=function(e,t){return e.tagName===t},Pu=function(e){return wu(e,He)&&!cu(e,Du)},Tu=function(e){var t=rt(He,e),a=t.length,n=yu();if(n)for(var r=0;r<a;r+=1){var i=t[r];Pu(i)&&(i.nonce=n)}},Eu=function(e,t){return new Promise((function(a,n){t.onload=function(){a(t)},t.onerror=function(){n(new Error("Failed to load script: ".concat(e)))}}))},Iu=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=Eu(e,t);return document.head.appendChild(t),a},ju=function(e,t){return!!e&&e.tagName===t},xu=function(e){return ju(e,Ge)&&!cu(e,Du)},Su=function(e){return ju(e,Ge)&&cu(e,Du)},Vu=function(e){for(var t=rt(Ge,e),a=[],n=t.length,r=yu(),i=d({},r&&{nonce:r}),o=0;o<n;o+=1){var s=t[o];if(xu(s)){var l=s.textContent;l&&a.push(Me(Ge,i,{textContent:l}))}}return a},Ou=function(e){for(var t=rt(Ge,e),a=[],n=t.length,r=0;r<n;r+=1){var i=t[r];if(Su(i)){var o=cu(i,Du);o&&a.push(o)}}return a},Nu=function(e,t){t.forEach((function(t){e.appendChild(t),e.removeChild(t)}))},Lu=function(e){return Promise.all(e.map(Iu))},Au=function(e,t,a){var n=Yc(t);Tu(n);var r=hu(n),i=Vu(n),o=Ou(n);return ku(n),r.forEach((function(t){Re(e,t)})),a(e),Nu(e,i),Lu(o)},Ru=function(e){hu(e).forEach(_t)},Fu=function(e,t,a){return Ru(e),Au(e,t,a)},Mu=function(e,t,a){var n=Yc(t);Tu(n);var r=hu(n),i=Vu(n),o=Ou(n),s=r.length-1;for(ku(n);s>=0;){var l=r[s];a(l);var c=bu(e);c?fu(c,l):Re(e,l),s-=1}return Nu(e,i),Lu(o)},qu="alloy-prehiding",Bu="{ visibility: hidden }",Uu={},Qu=function(e){if(!Uu[e]){var t=yu(),a=d({},t&&{nonce:t}),n={textContent:"".concat(e," ").concat(Bu)},r=Me(He,a,n);Re(document.head,r),Uu[e]=r}},Hu=function(e){var t=Uu[e];t&&(_t(t),delete Uu[e])},Gu=function(e){return function(t){if(t&&!su(qu)){var a=yu(),n=d({id:qu},a&&{nonce:a}),r=Me(He,n,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),Re(document.head,r)}}},Ju=function(e){return function(){var t=su(qu);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),_t(t))}},$u=function(e,t,a){a(e),e.textContent=t},Wu=function(e,t,a){var n=Yc(t);Tu(n);var r=hu(n),i=Vu(n),o=Ou(n);return ku(n),r.forEach((function(t){a(t),fu(e,t)})),Nu(e,i),Lu(o)},zu=function(e,t,a){return Wu(e,t,a).then((function(){_t(e)}))},Xu=function(e,t,a){var n=Yc(t);Tu(n);var r=hu(n),i=Vu(n),o=Ou(n);ku(n);var s=e;return r.forEach((function(e){a(e),mu(s,e),s=e})),Nu(e,i),Lu(o)},Yu=function(e,t,a){var n=t.priority,i=r(t,be);Object.keys(i).forEach((function(t){du(e,t,i[t],n)})),a(e)},Ku=function(e,t,a){Object.keys(t).forEach((function(a){lu(e,a,t[a])})),a(e)},Zu=function(e,t,a){_u(e)&&(Cu(t),a(e),uu(e,Du),lu(e,Du,t))},ed=function(e,t,a){var n=t.from,r=t.to,i=vu(e),o=i[n],s=i[r];o&&s&&(n<r?mu(s,o):fu(s,o),a(s),a(o))},td=function(e,t,a,n){var r=e.map((function(e){return n(e,t,a)}));return Promise.all(r)},ad=function(e){return function(t,a){var n=t.selector,r=t.prehidingSelector,i=t.content;return Qu(r),yt(n,ou).then((function(t){return td(t,i,a,e)})).then((function(){Hu(r)}),(function(e){throw Hu(r),e}))}},nd=function(e,t,a){a(e)},rd="setHtml",id="customCode",od="setText",sd="setAttribute",ld="setImageSource",cd="setStyle",ud="move",dd="resize",gd="rearrange",pd="remove",md="insertAfter",fd="insertBefore",vd="replaceHtml",hd="prependHtml",bd="appendHtml",yd="click",Dd="collectInteractions",_d=function(){var e;return g(g(g(g(g(g(g(g(g(g(e={},rd,ad(Fu)),id,ad(Mu)),od,ad($u)),sd,ad(Ku)),ld,ad(Zu)),cd,ad(Yu)),ud,ad(Yu)),dd,ad(Yu)),gd,ad(ed)),pd,ad(_t)),g(g(g(g(g(g(e,md,ad(Xu)),fd,ad(Wu)),vd,ad(zu)),hd,ad(Mu)),bd,ad(Au)),Dd,ad(nd))},Cd="personalization:decisions",kd=function(e){var t=e.logger,a=e.prehidingStyle,n=e.showContainers,r=e.hideContainers,i=e.mergeQuery,o=e.processPropositions,s=e.createProposition,l=e.notificationHandler,c=e.consent;return function(e){var u=e.cacheUpdate,d=e.personalizationDetails,g=e.event,p=e.onResponse,m=c.current(),v=m.state,h=m.wasSet;"out"===v&&h||(d.isRenderDecisions()?r(a):n()),i(g,d.createQueryDetails());var b=l(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());p((function(e){var a=e.response.getPayloadsByType(Cd)
;ze(a)||t.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:d.createQueryDetails()}});var r,i,l,c=a.map((function(e){return s(e)})),g=Nt(c,(function(e){return e.getScopeType()})),p=g.page,m=void 0===p?[]:p,v=g.view,h=void 0===v?[]:v,y=g.proposition,D=void 0===y?[]:y,_=u.update(h);if(d.isRenderDecisions()){var C=o([].concat(f(m),f(_)),D);r=C.render,i=C.returnedPropositions,l=C.returnedDecisions,ze(m)&&t.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:Sr,propositions:m.map((function(e){return e.toJSON()}))}}),ze(_)&&t.logOnContentRendering({status:"rendering-started",message:"Rendering propositions started for view scope - ".concat(d.getViewName(),"."),logLevel:"info",detail:{scope:d.getViewName(),propositions:_.map((function(e){return e.toJSON()}))}}),r().then(b),n()}else{var k=o([],[].concat(f(m),f(_),f(D)));i=k.returnedPropositions,l=k.returnedDecisions}return{propositions:i,decisions:l}}))}},wd=function(e,t){if(eu(e))return Dt(e,t);for(var a=ou(e),n=!1,r=0;r<a.length;r+=1)if(a[r]===t){n=!0;break}return n},Pd="view",Td="page",Ed="proposition",Id=function(e){return e.map((function(e){return e.trackingLabel,e.scopeType,r(e,ye)}))},jd=function(e){return e.filter((function(t,a){var n=JSON.stringify(t);return a===e.findIndex((function(e){return JSON.stringify(e)===n}))}))},xd=function(e,t,a){for(var n=document.documentElement,r=e,i=0;r&&r!==n;){if(wd(t,r)){var o=a(t),s={metas:o},l=o.find((function(e){return e.trackingLabel}));l&&(s.label=l.trackingLabel,s.weight=i);var c=o.find((function(e){return e.scopeType===Pd}));return c&&(s.viewName=c.scope,s.weight=i),s}r=r.parentNode,i+=1}return{metas:null}},Sd=function(e,t,a){for(var n,r=[],i="",o=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,l=0;l<t.length;l+=1){var c=xd(e,t[l],a),u=c.metas,d=c.label,g=c.weight,p=c.viewName;u&&(d&&g<=o&&(i=d,o=g),p&&g<=s&&(n=p,s=g),r.push.apply(r,f(Id(u))))}return{decisionsMeta:jd(r),propositionActionLabel:i,propositionActionToken:void 0,viewName:n}},Vd=function(){return-1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).location.href.indexOf("adobe_authoring_enabled")},Od=function(e,t){if(t||e){var a={};return e&&(a.label=e),t&&(a.tokens=[t]),a}},Nd=function(e){var t=e.mergeDecisionsMeta,a=e.collectInteractions,n=e.collectClicks,r=e.getInteractionMetas,i=e.getClickMetas,o=e.getClickSelectors,s=e.autoCollectPropositionInteractions;return function(e){var l,c,u,d=e.event,g=e.clickedElement,p=[];if([a(g,r,s),n(g,o(),i)].forEach((function(e){var t=e.decisionsMeta,a=e.propositionActionLabel,n=e.propositionActionToken,r=e.viewName;Array.prototype.push.apply(p,t),!l&&a&&(l=a),!c&&n&&(c=n),!u&&r&&(u=r)})),ze(p)){var m={eventType:Ws};u&&(m.web={webPageDetails:{viewName:u}}),d.mergeXdm(m),t(d,p,[fl.INTERACT],Od(l,c))}}},Ld=function(e){var t=e.createProposition,a=!1,n=Promise.resolve({}),r=function(e,a){var n=e[a.toLowerCase()];return n&&n.length>0?n:[t({scope:a,scopeDetails:{characteristics:{scopeType:Pd}},items:[{schema:Ms}]},!1)]};return{createCacheUpdate:function(e){var t=Oe();return a=!0,n=n.then((function(e){return t.promise.then((function(t){return d(d({},e),t)})).catch((function(){return e}))})),{update:function(a){var n=a.filter((function(e){return e.getScope()})),i=Nt(n,(function(e){return e.getScope().toLowerCase()}));return t.resolve(i),e?r(i,e):[]},cancel:function(){t.reject()}}},getView:function(e){return n.then((function(t){return r(t,e)}))},isInitialized:function(){return a}}},Ad=function(e){var t=e.processPropositions,a=e.viewCache,n=e.logger;return function(e){var r,i,o=e.personalizationDetails,s=e.onResponse,l=o.getViewName();return s((function(){return{propositions:r,decisions:i}})),a.getView(l).then((function(e){var a;if(o.isRenderDecisions()){var s=t(e);return a=s.render,r=s.returnedPropositions,i=s.returnedDecisions,n.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for view scope - ".concat(l,"."),logLevel:"info",detail:{scope:l,propositions:e.map((function(e){return e.toJSON()}))}}),a()}var c=t([],e);return r=c.returnedPropositions,i=c.returnedDecisions,[]}))}},Rd=function(e){return Object.keys(e).map((function(t){return d({id:t},e[t])}))},Fd=function(){var e={};return{storeClickMeta:function(t){var a=t.selector,n=t.meta,r=n.id,i=n.scope,o=n.scopeDetails,s=n.trackingLabel,l=n.scopeType;e[a]||(e[a]={}),e[a][r]={scope:i,scopeDetails:o,trackingLabel:s,scopeType:l}},getClickSelectors:function(){return Object.keys(e)},getClickMetas:function(t){return e[t]?Rd(e[t]):{}}}},Md=function(){var e={},t={};return{storeInteractionMeta:function(a,n,r,i,o){o=parseInt(o,10),e[o]||(e[o]={},t[o]={}),t[o][a]||(t[o][a]=new Set),t[o][a].add(n),e[o][a]=d(d({},i),{},{scopeType:r})},getInteractionMetas:function(a){return Array.isArray(a)&&0!==a.length?Object.values(a.map((function(e){return parseInt(e,10)})).reduce((function(a,n){return Object.keys(e[n]||{}).forEach((function(r){a[r]||(a[r]={proposition:e[n][r],items:new Set}),a[r].items=new Set([].concat(f(a[r].items),f(t[n][r])))})),a}),{})).map((function(e){var t=e.proposition,a=e.items;return d(d({},t),{},{items:Array.from(a).map((function(e){return{id:e}}))})})):[]}}},qd=function(e,t){return e===Us&&t===Dd},Bd=g(g(g(g({},qs,(function(){return!0})),Bs,(function(){return!0})),Us,qd),Gs,(function(){return!0})),Ud=function(e,t){return"function"==typeof Bd[e]&&Bd[e](e,t)},Qd=function(e){var t=e.processPropositions,a=e.createProposition,n=e.renderedPropositions,r=e.viewCache,i=function(e){var t=e.items,a=e.metadataForScope,n=void 0===a?{}:a,r=n.actionType,i=n.selector;return t.filter((function(e){return Ud(e.schema,r)})).map((function(e){var t=e.schema;return t===Bs||qd(t,r)?Pt(n)?void 0:d(d({},e),{},{schema:qd(t,r)?qs:t,data:d(d({},e.data),{},{selector:i,type:r})}):d({},e)})).filter((function(e){return e}))},o=function(e){return!(e.scope===Sr&&e.renderAttempted)},s=function(e){var t=e.propositions,a=e.metadata;return t.filter(o).map((function(e){return ze(e.items)?{id:e.id,scope:e.scope,scopeDetails:e.scopeDetails,items:i({items:e.items,metadataForScope:a[e.scope]})}:e})).filter((function(e){return ze(e.items)}))};return function(e){var i=e.propositions,o=void 0===i?[]:i,l=e.metadata,c=void 0===l?{}:l,u=e.viewName,d=Oe();n.concat(d.promise);var g=s({propositions:o,metadata:c}).map((function(e){return a(e)}));return Promise.resolve().then((function(){return u?r.getView(u):[]})).then((function(e){var a=t([].concat(f(g),f(e))),n=a.render,r=a.returnedPropositions;return n().then(d.resolve),{propositions:r}}))}},Hd=function(e){var t=e.window;return function(){return t.location}},Gd=function(e){return e.targetMigrationEnabled?function(e){e.getPayload().mergeMeta({target:{migration:!0}})}:oa},Jd="BODY > *:eq(0)",$d=function(e){var t=e.selector;return e.type!==id||t!==Jd?e:d(d({},e),{selector:"BODY"})},Wd="SCRIPT,LINK,STYLE",zd=function(e){var t=Yc(e);return rt(Wd,t).map((function(e){return e.outerHTML})).join("")},Xd=function(e){var t=d({},e),a=t.content,n=t.selector;if(rc(a))return t;if(null==n)return t;var r=ou(n);return ju(r[0],Je)?(t.type=bd,t.content=zd(a),t):t},Yd=function(e){return function(t){return t?e.reduce((function(e,t){return d(d({},e),t(e))}),t):t}},Kd=function(e){var t=e.preprocess,a=e.isPageWideSurface,n=function(e,a){var n=e.id,r=e.schema,i=e.data,o=e.characteristics,s=(void 0===o?{}:o).trackingLabel,l=i?i.type:void 0,c=t(i);return{getId:function(){return n},getSchema:function(){return r},getSchemaType:function(){return l},getData:function(){return c},getProposition:function(){return a},getTrackingLabel:function(){return s},getOriginalItem:function(){return e},toString:function(){return JSON.stringify(e)},toJSON:function(){return e}}};return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.id,i=e.scope,o=e.scopeDetails,s=e.items,l=void 0===s?[]:s,c=(o||{}).characteristics,u=(void 0===c?{}:c).scopeType;return{getScope:function(){return i},getScopeType:function(){return i===Sr||a(i)?Td:u===Pd?Pd:Ed},getItems:function(){var e=this;return l.map((function(t){return n(t,e)}))},getNotification:function(){return{id:r,scope:i,scopeDetails:o}},getId:function(){return r},toJSON:function(){return e},addToReturnValues:function(a,n,r,i){t&&(a.push(d(d({},e),{},{items:r.map((function(e){return e.getOriginalItem()})),renderAttempted:i})),i||n.push(d(d({},e),{},{items:r.map((function(e){return e.getOriginalItem()}))})))}}}},Zd=function(){var e=Promise.resolve([]);return{concat:function(t){e=e.then((function(e){return t.then((function(t){return e.concat(t)})).catch((function(){return e}))}))},clear:function(){var t=e;return e=Promise.resolve([]),t}}},eg=function(){return{setRenderAttempted:!0,includeInNotification:!0}},tg="always",ag="never",ng="decoratedElementsOnly",rg=[tg,ag,ng],ig="data-aep-interact-id",og="data-aep-click-label",sg="data-aep-click-token",lg=0,cg=function(e,t){return t?parseInt(t,10):++lg},ug=function(e,t){return!!e&&!!e[t]&&[tg,ng].includes(e[t])},dg=function(e,t,a,n,r,i,o,s){var l=o.scopeDetails,c=(void 0===l?{}:l).decisionProvider;return ug(e,c)||t===yd?function(e){if(e.tagName){var t=cg(a,cu(e,ig));s(a,n,i,o,t),lu(e,ig,t),r&&!cu(e,og)&&lu(e,og,r)}}:oa},gg=function(e){var t=e.modules,a=e.logger,n=e.storeInteractionMeta,r=e.storeClickMeta,i=e.autoCollectPropositionInteractions;return function(e){var o=e.getData()||{},s=o.type,l=o.selector;if(!s)return a.warn("Invalid DOM action data: missing type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(s===yd)return l?(r({selector:l,meta:d(d({},e.getProposition().getNotification()),{},{trackingLabel:e.getTrackingLabel(),scopeType:e.getProposition().getScopeType()})}),{setRenderAttempted:!0,includeInNotification:!1}):(a.warn("Invalid DOM action data: missing selector.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!t[s])return a.warn("Invalid DOM action data: unknown type.",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var c=dg(i,s,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),n);return{render:function(){return t[s](e.getData(),c)},setRenderAttempted:!0,includeInNotification:!0}}},pg=function(e){var t=e.modules,a=e.logger,n=e.storeInteractionMeta,r=e.autoCollectPropositionInteractions;return function(e){var i=e.getData()||{},o=i.type;if(!i.selector||!o)return{setRenderAttempted:!1,includeInNotification:!1};if(!t[o])return a.warn("Invalid HTML content data",e.getData()),{setRenderAttempted:!1,includeInNotification:!1};var s=dg(r,o,e.getProposition().getId(),e.getId(),e.getTrackingLabel(),e.getProposition().getScopeType(),e.getProposition().getNotification(),n);return{render:function(){return t[o](e.getData(),s)},setRenderAttempted:!0,includeInNotification:!0}}},mg=function(e){var t=e.logger,a=e.executeRedirect,n=e.collect;return function(e){var r=(e.getData()||{}).content;return r?{render:function(){return n({decisionsMeta:[e.getProposition().getNotification()],documentMayUnload:!0}).then((function(){return t.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:e.getProposition().getNotification(),redirect:r},message:"Redirect action ".concat(e.toString()," executed."),logLevel:"info"}),a(r)}))},setRenderAttempted:!0,onlyRenderThis:!0}:(t.warn("Invalid Redirect data",e.getData()),{})}},fg=function(e){var t=e.schemaProcessors,a=e.logger,n=function(e,t){return function(){return Promise.resolve().then(e).then((function(){return a.enabled&&a.info("Action ".concat(t.toString()," executed.")),!0})).catch((function(e){var n=e.message,r=e.stack,i="Failed to execute action ".concat(t.toString(),". ").concat(n," ").concat(r);return a.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:t.getProposition().getNotification(),item:t.toJSON()},error:e,message:i,logLevel:"warn"}),!1}))}},r=function(e,t){return Promise.all(e.map((function(e){return e()}))).then((function(e){if(e.includes(!0))return t}))},i=function(e){var a=t[e.getSchema()];return a?a(e):{}},o=function(e){for(var t,a,o,s,l=e.renderers,c=e.returnedPropositions,u=e.returnedDecisions,d=e.items,g=e.proposition,p=f(l),m=f(c),v=f(u),h=[],b=[],y=[],D=!1,_=!1,C=0;d.length>C;){s=d[C];var k=i(s);if(t=k.render,a=k.setRenderAttempted,o=k.includeInNotification,_=k.onlyRenderThis){m=[],v=[],a?(h=[s],b=[]):(h=[],b=[s]),p=[],y=[t],D=o;break}t&&y.push(n(t,s)),o&&(D=!0),a?h.push(s):b.push(s),C+=1}if(y.length>0){var w=D?g.getNotification():void 0;p.push((function(){return r(y,w)}))}else D&&p.push((function(){return Promise.resolve(g.getNotification())}));return h.length>0&&g.addToReturnValues(m,v,h,!0),b.length>0&&g.addToReturnValues(m,v,b,!1),{renderers:p,returnedPropositions:m,returnedDecisions:v,onlyRenderThis:_}};return function(e){for(var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=[],l=[],c=[],u=0;e.length>u;){r=(n=e[u]).getItems();var g=o({renderers:s,returnedPropositions:l,returnedDecisions:c,items:r,proposition:n});if(s=g.renderers,l=g.returnedPropositions,c=g.returnedDecisions,t=g.onlyRenderThis)break;u+=1}return t&&e.forEach((function(e,t){t!==u&&e.addToReturnValues(l,c,e.getItems(),!1)})),i.forEach((function(e){e.addToReturnValues(l,c,e.getItems(),!1)})),{returnedPropositions:l,returnedDecisions:c,render:function(){return Promise.all(s.map((function(e){return e()}))).then((function(e){var t=e.filter((function(e){return e})),n=Nt(t,(function(e){return e.scope}));return a.logOnContentRendering({status:"rendering-succeeded",detail:d({},n),message:"Scopes: ".concat(JSON.stringify(n)," successfully executed."),logLevel:"info"}),t}))}}}},vg=function(e){var t=e.processPropositions,a=e.createProposition,n=e.notificationHandler;return function(e){var r=e.renderDecisions,i=e.propositions,o=e.event,s=e.personalization,l=void 0===s?{}:s;if(!r)return Promise.resolve();var c=l.sendDisplayEvent,u=void 0===c||c,d=o?o.getViewName():void 0,g=i.map((function(e){return a(e,!0)})),p=t(g),m=p.render,f=p.returnedPropositions,v=n(r,u,d);return m().then(v),Promise.resolve({propositions:f})}},hg="defaultContent",bg=["content","contentType"],yg=["mobileParameters","webParameters","html"],Dg=function(e,t){for(var a=0;a<bg.length;a+=1){var n=bg[a];if(!Object.prototype.hasOwnProperty.call(e,n))return t.warn("Invalid in-app message data: missing property '".concat(n,"'."),e),!1}var r=e.content;if(e.contentType===ll)for(var i=0;i<yg.length;i+=1){var o=yg[i];if(!Object.prototype.hasOwnProperty.call(r,o))return t.warn("Invalid in-app message data.content: missing property '".concat(o,"'."),e),!1}return!0},_g=function(e){var t=e.modules,a=e.logger;return function(e){var n=e.getData(),r=d({},e.getProposition().getNotification());if(!n)return a.warn("Invalid in-app message data: undefined.",n),{};var i=n.type,o=void 0===i?hg:i;return t[o]?Dg(n,a)?r?{render:function(){return t[o](d(d({},n),{},{meta:r}))},setRenderAttempted:!0,includeInNotification:!0}:(a.warn("Invalid in-app message meta: undefined.",r),{}):{}:(a.warn("Invalid in-app message data: unknown type.",n),{})}},Cg=function(e){var t=rt("#".concat(e),document);t&&t.length>0&&_t(t[0])},kg=function(e){var t={};if(!e||"a"!==e.tagName.toLowerCase())return t;var a=e.href;if(!a||!a.startsWith("adbinapp://"))return t;var n,r,i=a.split("?"),o=i[0].split("://")[1],s=e.innerText,l=e.getAttribute("data-uuid")||"";if(ze(i)){var c=me.default.parse(i[1]);n=c.interaction||"",r=Ri(c.link||"")}return{action:o,interaction:n,link:r,label:s,uuid:l}},wg=function(e){return function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.location.href=t:e.location.replace(t),new Promise((function(){}))}},Pg="alloy-messaging-container",Tg="alloy-overlay-container",Eg="alloy-content-iframe",Ig=function(){return[Pg,Tg].forEach(Cg)},jg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wg(window);return function(a){a.preventDefault(),a.stopImmediatePropagation();var n=a.target,r="a"===n.tagName.toLowerCase()?n:n.closest("a");if(r){var i=kg(r),o=i.action,s=i.interaction,l=i.link,c=i.label,u=i.uuid;e(o,{label:c,id:s,uuid:u,link:l}),"dismiss"===o&&Ig(),ia(l)&&l.length>0&&t(l,!0)}}},xg=function(e,t){var a=(new DOMParser).parseFromString(e,sl),n=a.querySelector("script");n&&n.setAttribute("nonce",yu());var r=Me("iframe",{src:URL.createObjectURL(new Blob([a.documentElement.outerHTML],{type:"text/html"})),id:Eg});return r.addEventListener("load",(function(){(0,(r.contentDocument||r.contentWindow.document).addEventListener)("click",t)})),r},Sg=function(e,t,a,n){[{id:Tg,element:n},{id:Pg,element:a},{id:Eg,element:e}].forEach((function(e){var a=e.id,n=e.element,r=t[a],i=r.style,o=void 0===i?{}:i,s=r.params,l=void 0===s?{}:s;n.style=d(d({},n.style),o);var c=l.parentElement,u=void 0===c?"body":c,g=l.insertionMethod,p=void 0===g?"appendChild":g,m=l.enabled,f=void 0===m||m,v=document.querySelector(u);f&&v&&"function"==typeof v[p]&&v[p](n)}))},Vg=function(e){var t=e.verticalAlign,a=e.width,n=e.horizontalAlign,r=e.backdropColor,i=e.height,o=e.cornerRadius,s=e.horizontalInset,l=e.verticalInset,c=e.uiTakeover,u=void 0!==c&&c,d={width:a?"".concat(a,"%"):"100%",backgroundColor:r||"rgba(0, 0, 0, 0.5)",borderRadius:o?"".concat(o,"px"):"0px",border:"none",position:u?"fixed":"relative",overflow:"hidden"};return"left"===n?d.left=s?"".concat(s,"%"):"0":"right"===n?d.right=s?"".concat(s,"%"):"0":"center"===n&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=l?"".concat(l,"%"):"0":"bottom"===t?(d.position="fixed",d.bottom=l?"".concat(l,"%"):"0"):"center"===t&&(d.top="50%",d.transform="".concat("center"===n?"".concat(d.transform," "):"","translateY(-50%)"),d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=i?"".concat(i,"vh"):"100%",d},Og=function(e){return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:e.backdropOpacity||.5,backgroundColor:e.backdropColor||"#FFFFFF"}},Ng=["enabled","parentElement","insertionMethod"],Lg=function(e){if(!e)return!1;var t=Object.keys(e);if(!t.includes(Pg))return!1;if(!t.includes(Tg))return!1;for(var a=Object.values(e),n=0;n<a.length;n+=1){if(!Nn(a[n],"style"))return!1;if(!Nn(a[n],"params"))return!1;for(var r=0;r<Ng.length;r+=1)if(!Nn(a[n].params,Ng[r]))return!1}return!0},Ag=function(e){if(e){var t=e.uiTakeover,a=void 0!==t&&t;return g(g(g({},Eg,{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}}),Pg,{style:Vg(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}}),Tg,{style:Og(e),params:{enabled:!0===a,parentElement:"body",insertionMethod:"appendChild"}})}},Rg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Ig();var a=e.content,n=e.contentType,r=e.mobileParameters,i=e.webParameters;if(n===sl){var o=Me("div",{id:Pg}),s=xg(a,jg(t)),l=Me("div",{id:Tg});Lg(i)||(i=Ag(r)),i&&Sg(s,i,o,l)}},Fg=function(e,t){return new Promise((function(a){var n=e.meta;Rg(e,(function(e,a){var r={};r[fl.INTERACT]=Ys,-1!==Object.values(fl).indexOf(e)&&(r[e]=Ys),t({decisionsMeta:[n],propositionAction:a,eventType:Ws,propositionEventTypes:Object.keys(r)})})),a({meta:n})}))},Mg=function(e){return{defaultContent:function(t){return Fg(t,e)}}},qg=function(e,t){return function(a,n,r){if(!a)return function(){};if(!n){var i=Oe();return t.concat(i.promise),i.resolve}return function(t){t.length>0&&e({decisionsMeta:t,viewName:r})}}},Bg=function(e){var t=e.showContainers,a=e.consent;return function(){var e=a.current(),n=e.state,r=e.wasSet;n===Xn&&r?t():a.awaitConsent().catch(t)}},Ug=function(e){for(var t,a,n=document.documentElement,r=e,i=new Set;r&&r!==n;){var o=cu(r,ig);o&&i.add(o),t=t||cu(r,og),a=a||cu(r,sg),r=r.parentNode}return{interactIds:f(i),clickLabel:t,clickToken:a}},Qg=function(e){var t=e.find((function(e){return e.scopeType===Pd}));return t?t.scope:void 0},Hg=function(e,t,a){return function(n){var r=n.scopeDetails,i=(void 0===r?{}:r).decisionProvider;return e[i]===tg||e[i]===ng&&(t||a)}},Gg=function(e,t,a){var n=Ug(e),r=n.interactIds,i=n.clickLabel,o=void 0===i?"":i,s=n.clickToken,l=Hg(a,o,s);if(0===r.length)return{};var c=t(r).filter(l);return{decisionsMeta:Id(c),propositionActionLabel:o,propositionActionToken:s,viewName:Qg(c)}},Jg=function(e){var t=e.config,a=e.logger,n=e.eventManager,r=e.consent,i=t.targetMigrationEnabled,o=t.prehidingStyle,s=t.autoCollectPropositionInteractions,l=Ql({eventManager:n,mergeDecisionsMeta:Hl}),c=Ju(a),u=Gu(a),d=Md(),p=d.storeInteractionMeta,m=d.getInteractionMetas,f=Fd(),v=f.storeClickMeta,h=f.getClickSelectors,b=f.getClickMetas,y=Hd({window:window}),D=_d(),_=Yd([Xd,$d]),C=Kd({preprocess:_,isPageWideSurface:Bc}),k=Ld({createProposition:C}),w=wg(window),P=g(g(g(g(g({},Ms,eg),qs,gg({modules:D,logger:a,storeInteractionMeta:p,storeClickMeta:v,autoCollectPropositionInteractions:s})),Bs,pg({modules:D,logger:a,storeInteractionMeta:p,autoCollectPropositionInteractions:s})),Hs,mg({logger:a,executeRedirect:w,collect:l})),Gs,_g({modules:Mg(l),logger:a})),T=fg({schemaProcessors:P,logger:a}),E=Zd(),I=qg(l,E),j=kd({prehidingStyle:o,showContainers:c,hideContainers:u,mergeQuery:Gl,processPropositions:T,createProposition:C,notificationHandler:I,consent:r,logger:a}),x=Nd({mergeDecisionsMeta:Hl,collectInteractions:Gg,collectClicks:Sd,getInteractionMetas:m,getClickMetas:b,getClickSelectors:h,autoCollectPropositionInteractions:s}),S=Ad({processPropositions:T,viewCache:k,logger:a}),V=Qd({processPropositions:T,createProposition:C,renderedPropositions:E,viewCache:k}),O=Gd({targetMigrationEnabled:i}),N=vg({processPropositions:T,createProposition:C,notificationHandler:I}),L=Bg({showContainers:c,consent:r});return Xc({getPageLocation:y,logger:a,fetchDataHandler:j,viewChangeHandler:S,onClickHandler:x,isAuthoringModeEnabled:Vd,mergeQuery:Gl,viewCache:k,showContainers:c,applyPropositions:V,setTargetMigration:O,mergeDecisionsMeta:Hl,renderedPropositions:E,onDecisionHandler:N,handleConsentFlicker:L})};Jg.namespace="Personalization";var $g=rg.map((function(e){return Sn(e)}));Jg.configValidators=Nn({prehidingStyle:Ln().nonEmpty(),targetMigrationEnabled:jn().default(!1),autoCollectPropositionInteractions:Nn(g(g({},kl,Tn($g).default(tg)),wl,Tn($g).default(ag))).default(g(g({},kl,tg),wl,ag)).noUnknownFields()});var Wg=function(e){var t=e.storedConsent,a=e.taskQueue,n=e.defaultConsent,r=e.consent,i=e.sendSetConsentRequest,o=e.validateSetConsentOptions,s=e.consentHashStore,l=e.doesIdentityCookieExist,c=g({},Kn,n),u=t.read(),d=l(),p=void 0!==u[Kn];d&&p||s.clear(),d||(t.clear(),u={}),r.initializeConsent(c,u);var m=function(){if(0===a.length){var e=t.read();void 0!==e[Kn]&&r.setConsent(e)}};return{commands:{setConsent:{optionsValidator:o,run:function(e){var t=e.consent,n=e.identityMap,o=e.edgeConfigOverrides;r.suspend();var l=s.lookup(t);return a.addTask((function(){return l.isNew()?i({consentOptions:t,identityMap:n,edgeConfigOverrides:o}):Promise.resolve()})).then((function(){return l.save()})).finally(m)}}},lifecycle:{onResponse:m,onRequestFailure:m}}},zg=function(e){return Array.isArray(e)?e.map((function(e){return zg(e)})):"object"===_(e)&&null!==e?Object.keys(e).sort().reduce((function(t,a){return t[a]=zg(e[a]),t}),{}):e},Xg=function(e){return Ve(JSON.stringify(zg(e)))},Yg=function(e){var t=e.standard,a=e.version;return"".concat(t,".").concat(a)},Kg=function(e){var t=e.storage;return{clear:function(){t.clear()},lookup:function(e){var a={},n=function(e){var t=Yg(e),n=(e.standard,e.version,r(e,De));return a[t]||(a[t]=Xg(n).toString()),a[t]};return{isNew:function(){return e.some((function(e){var a=Yg(e),r=t.getItem(a);return null===r||r!==n(e)}))},save:function(){e.forEach((function(e){var a=Yg(e);t.setItem(a,n(e))}))}}}}},Zg=function(){var e={},t=Lr({content:e,addIdentity:function(t,a){e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(a)},hasIdentity:function(t){return void 0!==(e.identityMap&&e.identityMap[t])}});return t.setConsent=function(t){e.consent=t},t},ep=function(e){var t=e.payload,a=e.datastreamIdOverride;return Or({payload:t,datastreamIdOverride:a,getAction:function(){return"privacy/set-consent"},getUseSendBeacon:function(){return!1}})},tp=function(e){var t=e.parseConsentCookie,a=e.orgId,n=e.cookieJar,r=Ot(a,Jt);return{read:function(){var e=n.get(r);return e?t(e):{}},clear:function(){n.remove(r)}}},ap=function(e){var t=e.createConsentRequestPayload,a=e.createConsentRequest,n=e.sendEdgeNetworkRequest,r=e.edgeConfigOverrides;return function(e){var i=e.consentOptions,o=e.identityMap,s=e.edgeConfigOverrides,l=Fr({payload:t(),globalConfigOverrides:r,localConfigOverrides:s});l.payload.setConsent(i),Ce(o)&&Object.keys(o).forEach((function(e){o[e].forEach((function(t){l.payload.addIdentity(e,t)}))}));var c=a(l);return n({request:c}).then((function(){}))}},np=function(e){return e.split(";").reduce((function(e,t){var a=o(t.split("="),2),n=a[0],r=a[1];return e[n]=r,e}),{})},rp=Nn({consent:In(En()).required().nonEmpty(),identityMap:Rn,edgeConfigOverrides:Fn}).noUnknownFields().required(),ip=function(e){var t=e.config,a=e.consent,n=e.sendEdgeNetworkRequest,r=e.createNamespacedStorage,i=t.orgId,o=t.defaultConsent,s=tp({parseConsentCookie:np,orgId:i,cookieJar:Pe}),l=Se(),c=ap({createConsentRequestPayload:Zg,createConsentRequest:ep,sendEdgeNetworkRequest:n,edgeConfigOverrides:t.edgeConfigOverrides}),u=r("".concat(Vt(i),".consentHashes.")),d=Kg({storage:u.persistent}),g=Wt({orgId:i});return Wg({storedConsent:s,taskQueue:l,defaultConsent:o,consent:a,sendSetConsentRequest:c,validateSetConsentOptions:rp,consentHashStore:d,doesIdentityCookieExist:g})};ip.namespace="Privacy";var op=Nn({streamingMedia:Nn({channel:Ln().nonEmpty().required(),playerName:Ln().nonEmpty().required(),appVersion:Ln(),mainPingInterval:Vn().minimum(10).maximum(50).default(10),adPingInterval:Vn().minimum(1).maximum(10).default(10)}).noUnknownFields()}),sp=function(e){var t=e.options;return Tn([Nn({playerId:Ln().required(),getPlayerDetails:xn().required(),xdm:Nn({mediaCollection:Nn({sessionDetails:Nn(En()).required()})})}).required(),Nn({xdm:Nn({mediaCollection:Nn({playhead:Vn().required(),sessionDetails:Nn(En()).required()})})}).required()],"Error validating the createMediaSession command options.")(t)},lp=function(e){var t=e.options;return Tn([Nn({playerId:Ln().required(),xdm:Nn({eventType:An.apply(void 0,f(Object.values(Xl))).required(),mediaCollection:Nn(En())}).required()}).required(),Nn({xdm:Nn({eventType:An.apply(void 0,f(Object.values(Xl))).required(),mediaCollection:Nn({playhead:Vn().integer().required(),sessionID:Ln().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(t)},cp=function(e){var t=e.config,a=e.trackMediaEvent,n=e.trackMediaSession,r=e.mediaResponseHandler;return{lifecycle:{onBeforeEvent:function(e){var t=e.mediaOptions,a=e.onResponse,n=void 0===a?oa:a;if(t){var i=t.legacy,o=t.playerId,s=t.getPlayerDetails;i||n((function(e){var t=e.response;return r({playerId:o,getPlayerDetails:s,response:t})}))}}},commands:{createMediaSession:{optionsValidator:function(e){return sp({options:e})},run:n},sendMediaEvent:{optionsValidator:function(e){return lp({options:e})},run:function(e){return t.streamingMedia?a(e):Promise.reject(new Error("Streaming media is not configured."))}}}}},up=function(e){var t=e.config,a=e.logger,n=e.eventManager,r=e.sendEdgeNetworkRequest,i=e.consent,o=ec(),s=Kl({config:t,eventManager:n,logger:a,consent:i,sendEdgeNetworkRequest:r,setTimestamp:us((function(){return new Date}))}),l=ac({mediaSessionCacheManager:o,mediaEventManager:s,config:t}),c=nc({config:t,mediaEventManager:s,mediaSessionCacheManager:o}),u=ic({mediaSessionCacheManager:o,config:t,trackMediaEvent:l});return cp({config:t,trackMediaEvent:l,mediaEventManager:s,mediaResponseHandler:u,trackMediaSession:c})};up.namespace="Streaming media",up.configValidators=op;var dp=Object.freeze({__proto__:null,activityCollector:Zo,audiences:ns,context:Ts,decisioningEngine:Jl,eventMerge:zl,legacyMediaAnalytics:Dc,machineLearning:Cc,personalization:Jg,privacy:ip,streamingMedia:up}),gp=window.console,pp=Kt(window),mp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Nn({name:Ln().default("alloy"),monitors:In(Nn({})).default([]),components:In(xn())}).noUnknownFields()(e),a=t.name,n=t.monitors,r=t.components,i=function(){return(window.__alloyMonitors||[]).concat(n)},o=qn({console:gp,locationSearch:window.location.search,createLogger:xr,instanceName:a,createNamespacedStorage:pp,getMonitors:i}),s=go({instanceName:a,logController:o,components:r});return o.logger.logOnInstanceCreated({instance:s}),s};t.createInstance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Nn({name:Ln().default("alloy"),monitors:In(Nn({})).default([])}).noUnknownFields()(e),a=t.name,n=t.monitors;return mp({name:a,monitors:n,components:Object.values(dp)})}}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e){return o(e)||i(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){if(e){if("string"==typeof e)return s(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function o(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return(t=d(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e){var a=g(e,"string");return"symbol"==t(a)?a:a+""}function g(e,a){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,a||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}function p(e,t){if(null==e)return{};var a,n,r=m(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function m(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;a[n]=e[n]}return a}var f=["name","edgeConfigId","stagingEdgeConfigId","developmentEdgeConfigId","onBeforeEventSend"];e.exports=function(e){var t=e.turbine,n=e.window,r=e.createInstance,i=e.createEventMergeId,o=e.orgId,s=e.wrapOnBeforeEventSend,l=e.getConfigOverrides,u=t.getExtensionSettings().instances,d={},g={};return n.__alloyMonitors=n.__alloyMonitors||[],n.__alloyMonitors.push({onInstanceCreated:function(){g.onInstanceCreated||(g.onInstanceCreated=[]);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];g.onInstanceCreated.push(t)},onInstanceConfigured:function(){g.onInstanceConfigured||(g.onInstanceConfigured=[]);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];g.onInstanceConfigured.push(t)},onBeforeCommand:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];"configure"===t[0].commandName&&(g.onBeforeCommand||(g.onBeforeCommand=[]),g.onBeforeCommand.push(t))}}),u.forEach((function(e){var a=e.name,i=e.edgeConfigId,u=e.stagingEdgeConfigId,g=e.developmentEdgeConfigId,m=e.onBeforeEventSend,v=p(e,f),h=r({name:a});n[a]=h,n.__alloyNS||(n.__alloyNS=[]),n.__alloyNS.push(a),d[a]=h;var b=t.environment&&t.environment.stage,y="development"===b&&g||"staging"===b&&u||i
;v.edgeConfigOverrides=l(v),h("configure",c(c({},v),{},{datastreamId:y,debugEnabled:t.debugEnabled,orgId:v.orgId||o,onBeforeEventSend:s(m)})),t.onDebugChanged((function(e){h("setDebug",{enabled:e})}))})),{getInstance:function(e){return d[e]},createEventMergeId:function(){return i()},addMonitor:function(e){n.__alloyMonitors.push(e),Object.keys(g).forEach((function(t){e[t]&&g[t].forEach((function(n){e[t].apply(e,a(n))}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=function(e){var t=e.version;return function(e){return function(a){if(a.xdm.implementationDetails.name="".concat(a.xdm.implementationDetails.name,"/reactor"),a.xdm.implementationDetails.version="".concat(a.xdm.implementationDetails.version,"+").concat(t),e)return e(a)}}}}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=function(){var e={};return{set:function(t,a){e[t]=a},getByCacheId:function(t){return e[t]},clearByEventMergeId:function(t){Object.keys(e).forEach((function(a){e[a]===t&&delete e[a]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=function(){var e=[];return{add:function(t){e.push(t)},triggerEvent:function(t){e.forEach((function(e){e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=function(){var e={};return{add:function(t){var a=t.playerId,n=t.sessionDetails;if(e[a])throw new Error("Player Id ".concat(a," already exists"));e[a]=n},remove:function(t){var a=t.playerId;e[a]=void 0},get:function(t){var a=t.playerId;return e[a]}}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=function(){return{}}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current//a086326e8d0e/74a65f9f5676/ef0515915a0f/hostedLibFiles/EP1fdd2a6ec2ae468fb1d2cac08df65f83/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-cookie");e.exports=function(e){return n.get(e.name)}}},"core/src/lib/dataElements/conditionalValue.js":{name:"conditional-value",displayName:"Conditional Value",script:function(e,t,a){"use strict";var n=a("../conditions/valueComparison");e.exports=function(e){return n(e)?e.conditionalValue:e.fallbackValue}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,a){"use strict";var n=a("../helpers/getObjectProperty.js");e.exports=function(e){return n(window,e.path)}}},"core/src/lib/dataElements/mergedObjects.js":{name:"merged-objects",displayName:"Merged Objects",script:function(e,t,a){"use strict";var n=a("../helpers/deepMerge");e.exports=function(e){var t=e.objects.slice();return t.unshift({}),n.apply(null,t)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("@adobe/reactor-query-string");e.exports=function(e){var t=r.parse(n.location.search);if(!e.caseInsensitive)return t[e.name];for(var a=e.name.toLowerCase(),i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];if(s.toLowerCase()===a)return t[s]}}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return n.location.href;case"hostname":return n.location.hostname;case"pathname":return n.location.pathname;case"protocol":return n.location.protocol;case"referrer":return n.referrer;case"title":return n.title}}}},"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:function(e){"use strict";e.exports=function(e){var t=document.querySelector(e.elementSelector);if(t){var a=e.elementProperty;return"text"===a?t.innerText||t.textContent:a in t?t[a]:t.getAttribute?t.getAttribute(a):void 0}}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,a,n){"use strict";var r,i,o,s,l=a("@adobe/reactor-document"),c=a("@adobe/reactor-promise"),u=a("./helpers/decorateCode"),d=a("./helpers/loadCodeSequentially"),g=a("../../../node_modules/postscribe/dist/postscribe"),p=a("./helpers/unescapeHtmlCode"),m=a("../helpers/findPageScript").getTurbine,f=(i=function(e){g(l.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return r&&"script"===t&&(e.attrs.nonce=r),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=p(e.attrs[t])})),e.src&&(e.src=p(e.src))),e},error:function(e){n.logger.error(e.msg)}})},o=[],s=function(){if(l.body)for(;o.length;)i(o.shift());else setTimeout(s,20)},function(e){o.push(e),s()}),v=function(){if(l.currentScript)return l.currentScript.async;var e=m();return!e||e.async}();e.exports=function(e,t){var a;r=n.getExtensionSettings().cspNonce;var i={settings:e,event:t},o=i.settings.source;if(o)return i.settings.isExternal?d(o).then((function(e){return e?(a=u(i,e),f(a.code),a.promise):c.resolve()})):(a=u(i,o),v||"loading"!==l.readyState?f(a.code):l.write&&!1===n.propertySettings.ruleComponentSequencingEnabled?l.write(a.code):f(a.code),a.promise)}}},"core/src/lib/conditions/subdomain.js":{name:"subdomain",displayName:"Subdomain",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=a("../helpers/textMatch");e.exports=function(e){var t=n.location.hostname;return e.subdomains.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,a)}))}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,a,n){"use strict";var r={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var a=r[e];if(a){var i={identifier:e,detail:t};a.forEach((function(e){e(i)}));var o=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&o.push(t),n.logger.log.apply(n.logger,o)}else n.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var a=r[e.identifier];a||(a=r[e.identifier]=[]),a.push(t)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,a){"use strict";var n=a("./helpers/createBubbly")(),r=[];e.exports=function(e,t){var a=e.type;-1===r.indexOf(a)&&(r.push(a),window.addEventListener(a,n.evaluateEvent,!0)),n.addListener(e,(function(e){e.nativeEvent.type===a&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,a){"use strict";var n=a("../helpers/stringAndNumberUtils").isString,r=a("../helpers/stringAndNumberUtils").isNumber,i=a("../helpers/stringAndNumberUtils").castToStringIfNumber,o=a("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&n(e)?e.toLowerCase():e},l=function(e){return function(t,a,r){return t=i(t),a=i(a),n(t)&&n(a)&&e(t,a,r)}},c=function(e){return function(t,a){return t=o(t),a=o(a),r(t)&&r(a)&&e(t,a)}},u=function(e){return function(t,a,n){return e(s(t,n),s(a,n))}},d={equals:u((function(e,t){return e==t})),doesNotEqual:function(){return!d.equals.apply(null,arguments)},contains:l(u((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!d.contains.apply(null,arguments)},startsWith:l(u((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!d.startsWith.apply(null,arguments)},endsWith:l(u((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!d.endsWith.apply(null,arguments)},matchesRegex:l((function(e,t,a){return new RegExp(t,a?"i":"").test(e)})),doesNotMatchRegex:function(){return!d.matchesRegex.apply(null,arguments)},lessThan:c((function(e,t){return e<t})),lessThanOrEqual:c((function(e,t){return e<=t})),greaterThan:c((function(e,t){return e>t})),greaterThanOrEqual:c((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return d[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=a("../helpers/textMatch");e.exports=function(e){var t=n.location.pathname;return e.paths.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,a)}))}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("./helpers/createBubbly")(),i=new(a("./helpers/weakMap")),o=2,s=a("../helpers/stringAndNumberUtils").castToNumberIfString,l=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==o)for(var t=e.target;t;){var a=t.tagName;if(a&&"a"===a.toLowerCase()){var r=t.getAttribute("href"),i=t.getAttribute("target");return r&&(!i||"_self"===i||"_top"===i&&n.top===n||i===n.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",r.evaluateEvent,!0),e.exports=function(e,t){r.addListener(e,(function(a){var r=a.nativeEvent;if(!r.s_fe){var o=s(e.anchorDelay);if(o&&!i.has(r)){var c=l(r);c&&(r.preventDefault(),setTimeout((function(){n.location=c.href}),o)),i.set(r,!0)}t(a)}}))},e.exports.__reset=r.__reset}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=a("../helpers/textMatch");e.exports=function(e){var t=n.location.pathname+n.location.search;return e.paths.some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,a)}))}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerDomReadyTrigger(t)}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,t,a,n){"use strict";var r={},i={};setInterval((function(){Object.keys(r).forEach((function(e){var t=JSON.stringify(n.getDataElementValue(e));if(t!==i[e]){var a={dataElementName:e};r[e].forEach((function(e){e(a)})),i[e]=t}}))}),1e3),e.exports=function(e,t){var a=e.name,o=r[a];o||(o=r[a]=[],i[a]=JSON.stringify(n.getDataElementValue(a))),o.push(t)}}},"core/src/lib/events/entersViewport.js":{name:"enters-viewport",displayName:"Enters Viewport",script:function(e,t,a){"use strict";var n,r=a("@adobe/reactor-document"),i=a("@adobe/reactor-window"),o=a("./helpers/weakMap"),s=a("./helpers/enableWeakMapDefaultValue"),l=a("./helpers/matchesSelector"),c=a("./helpers/matchesProperties"),u=a("../helpers/stringAndNumberUtils").castToNumberIfString,d=a("../helpers/intersectionObserverIntervals"),g={FIRST_ENTRY:"firstEntry",EVERY_ENTRY:"everyEntry"},p=s(new o,(function(){return{timeoutIds:[],completedListeners:[],inViewport:!1}})),m={},f=function(e){var t=p.get(e);t.inViewport||(t.inViewport=!0,Object.keys(m).forEach((function(a){l(e,a)&&m[a].forEach((function(a){if(c(e,a.settings.elementProperties)&&-1===t.completedListeners.indexOf(a)){var n=function(){(a.settings.frequency||g.FIRST_ENTRY)===g.FIRST_ENTRY&&t.completedListeners.push(a),a.trigger({element:e,target:e,delay:a.settings.delay})};if(a.settings.delay){var r=i.setTimeout((function(){Boolean(p.get(e).inViewport)&&n()}),a.settings.delay);t.timeoutIds.push(r)}else n()}}))})))},v=function(e){var t=p.get(e);t.inViewport=!1,t.timeoutIds.length&&(t.timeoutIds.forEach(clearTimeout),t.timeoutIds=[])},h=[],b=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?f(e.target):v(e.target)}))}),{root:null,rootMargin:"0px"}),y=function(e){e&&r.querySelectorAll(e).forEach((function(e){b.observe(e)}))};n=function(){y(h.join(",")),h=[];var e=i.setInterval((function(){y(Object.keys(m).join(","))}),d.standard.pageElementsRefresh);i.addEventListener("beforeunload",(function(){b.disconnect(),i.clearInterval(e)}),!1)},"loading"!==r.readyState?n():r.addEventListener("DOMContentLoaded",n),e.exports=function(e,t){if(e.elementSelector){var a=m[e.elementSelector],n=Boolean(!a);n&&(a=m[e.elementSelector]=[]),e.delay=u(e.delay),a.push({settings:e,trigger:t}),"loading"===r.readyState?h.push(e.elementSelector):n&&y(e.elementSelector)}}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,a){"use strict";var n=a("./helpers/pageLifecycleEvents");e.exports=function(e,t){n.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-cookie"),r=a("../helpers/textMatch");e.exports=function(e){var t=n.get(e.name);return!!t&&(Array.isArray(e.cookieValues)?e.cookieValues:[{value:e.value,valueIsRegex:Boolean(e.valueIsRegex)}]).some((function(e){var a=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,a)}))}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=/[|\\{}()[\]^$+*?.-]/g,i=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")};e.exports=function(e){var t=n.location.hostname;return e.domains.some((function(e){return t.match(new RegExp("(^|\\.)"+i(e)+"$","i"))}))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},a=function(e){return"string"==typeof e||e instanceof String},n=function(e){return t(e)?String(e):e},r=function(e){return a(e)?Number(e):e};e.exports={isNumber:t,isString:a,castToStringIfNumber:n,castToNumberIfString:r}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var a=t.split("."),n=e,r=0,i=a.length;r<i;r++){if(null==n)return;n=n[a[r]]}return n}}},"core/src/lib/helpers/deepMerge.js":{script:function(e,t,a){"use strict";function n(e){return Array.prototype.slice.call(arguments,1).reduce((function(e,t){return null==t||Object.keys(t).forEach((function(a){var o=e[a],s=t[a];void 0===s&&void 0!==o||(Array.isArray(o)&&Array.isArray(s)?e[a]=o.concat(i(s)):r(o)&&r(s)?e[a]=n(o,s):e[a]=i(s))})),e}),e)}var r=a("../helpers/isPlainObject"),i=function(e){return r(e)?n({},e):Array.isArray(e)?n([],e):e};e.exports=n}},"core/src/lib/helpers/isPlainObject.js":{script:function(e,t,a){"use strict";var n=a("../../../node_modules/is-plain-object/dist/is-plain-object").isPlainObject;e.exports=n}},"core/node_modules/is-plain-object/dist/is-plain-object.js":{script:function(e,t){"use strict";function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var t,n;return!1!==a(e)&&(void 0===(t=e.constructor)||!1!==a(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=n}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,a){"use strict";var n=a("./decorators/decorateGlobalJavaScriptCode"),r=a("./decorators/decorateNonGlobalJavaScriptCode"),i={javascript:function(e,t){return e.settings.global?n(e,t):r(e,t)},html:a("./decorators/decorateHtmlCode")};e.exports=function(e,t){return i[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=a("./getSourceByUrl"),i=n.resolve();e.exports=function(e){var t=new n((function(t){var a=r(e);n.all([a,i]).then((function(e){var a=e[0];t(a)}))}));return i=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var a,n;a=this,n=function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(1));e.exports=r.default},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(){}function o(){var e=m.shift();if(e){var t=d.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,a){function n(e){e=a.beforeWrite(e),f.write(e),a.afterWrite(e)}(f=new u.default(e,a)).id=p++,f.name=a.name||f.id,l.streams[f.name]=f;var r=e.ownerDocument,s={close:r.close,open:r.open,write:r.write,writeln:r.writeln};c(r,{close:i,open:i,write:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return n(t.join("")+"\n")}});var d=f.win.onerror||i;return f.win.onerror=function(e,t,n){a.error({msg:e+" - "+t+": "+n}),d.apply(f.win,[e,t,n])},f.write(t,(function(){c(r,s),f.win.onerror=d,a.done(),f=null,o()})),f}function l(e,t,a){if(d.isFunction(a))a={done:a};else if("clear"===a)return m=[],f=null,void(p=0);a=d.defaults(a,g);var n=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,a];return e.postscribe={cancel:function(){n.stream?n.stream.abort():n[1]=i}},a.beforeEnqueue(n),m.push(n),f||o(),e.postscribe}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=l;var u=r(a(2)),d=n(a(4)),g={afterAsync:i,afterDequeue:i,afterStreamStart:i,afterWrite:i,autoFix:!0,beforeEnqueue:i,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:i,error:function(e){throw new Error(e.msg)},releaseAsync:!1},p=0,m=[],f=null;c(l,{streams:{},queue:m,WriteStream:u.default})},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var a=g+t,n=e.getAttribute(a);return u.existy(n)?String(n):n}function s(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=g+t;u.existy(a)&&""!==a?e.setAttribute(n,a):e.removeAttribute(n)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=r(a(3)),u=n(a(4)),d=!1,g="data-ps-",p="ps-style",m="ps-script",f=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.root=t,this.options=a,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new c.default("",{autoFix:a.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();u.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,a=void 0,n=void 0,r=[];(t=this.parser.readToken())&&!(a=u.isScript(t))&&!(n=u.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);r.length>0&&this._writeStaticTokens(r),a&&this._handleScriptToken(t),n&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,d&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),d&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,a=[],n=[],r=[],i=e.length,o=0;o<i;o++){var s=e[o],l=s.toString();if(a.push(l),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=t++;n.push(l.replace(/(\/?>)/," "+g+"id="+c+" $1")),s.attrs.id!==m&&s.attrs.id!==p&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+g+"proxyof="+c+(s.unary?" />":">"))}}else n.push(l),r.push("endTag"===s.type?l:"")}return{tokens:e,raw:a.join(""),actual:n.join(""),proxy:r.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];u.existy(e=t.shift());){var a=1===e.nodeType;if(!a||!o(e,"proxyof")){a&&(this.actuals[o(e,"id")]=e,s(e,"id"));var n=e.parentNode&&o(e.parentNode,"proxyof");n&&this.actuals[n].appendChild(e)}t.unshift.apply(t,u.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,a=this.parser.clear();a&&this.writeQueue.unshift(a),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,p),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),u.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var a=this.doc.getElementById(t);a&&a.parentNode.replaceChild(e,a)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var a=this._buildScript(e),n=this._shouldRelease(a),r=this.options.afterAsync;e.src&&(a.src=e.src,this._scriptLoadHandler(a,n?r:function(){t(),r()}));try{this._insertCursor(a,m),a.src&&!n||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return u.eachKey(e.attrs,(function(e,a){t.setAttribute(e,a)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function a(){e=e.onload=e.onreadystatechange=e.onerror=null}function n(){a(),null!=t&&t(),t=null}function r(e){a(),o(e),null!=t&&t(),t=null}function i(e,t){var a=e["on"+t];null!=a&&(e["_on"+t]=a)}var o=this.options.error;i(e,"load"),i(e,"error"),l(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}n()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&n()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=n(a(1));e.exports=r.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=r(a(2)),s=r(a(3)),l=n(a(6)),c=a(5),u={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},d=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.stream=a;var r=!1,s={};for(var c in o)o.hasOwnProperty(c)&&(n.autoFix&&(s[c+"Fix"]=!0),r=r||s[c+"Fix"]);r?(this._readToken=(0,l.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,l.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in u)if(u.hasOwnProperty(e)&&u[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var g in t.default=d,d.tokenToString=function(e){return e.toString()},d.escapeAttributes=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=(0,c.escapeQuotes)(e[a],null));return t},d.supports=o,o)o.hasOwnProperty(g)&&(d.browserHasFlaw=d.browserHasFlaw||!o[g]&&g)},function(e,t){"use strict";t.__esModule=!0;var a=!1,n=!1,r=window.document.createElement("div");try{var i="<P><I></P></I>";r.innerHTML=i,t.tagSoup=a=r.innerHTML!==i}catch(e){t.tagSoup=a=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=n=2===r.childNodes.length}catch(e){t.selfClose=n=!1}r=null,t.tagSoup=a,t.selfClose=n},function(e,t,a){"use strict";function n(e){var t=e.indexOf("-->");if(t>=0)return new c.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new c.CharsToken(t>=0?t:e.length)}function i(e){var t,a,n;if(-1!==e.indexOf(">")){var r=e.match(u.startTag);if(r){var i=(t={},a={},n=r[2],r[2].replace(u.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",a[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||u.fillAttr.test(r)&&r||"":t[r]="",n=n.replace(e,"")})),{v:new c.StartTagToken(r[1],r[0].length,t,a,!!r[3],n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===i?"undefined":l(i)))return i.v}}}function o(e){var t=i(e);if(t){var a=e.slice(t.length);if(a.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var n=a.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(n)return new c.AtomicTagToken(t.tagName,n[0].length+t.length,t.attrs,t.booleanAttrs,n[1])}}}function s(e){var t=e.match(u.endTag);if(t)return new c.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=n,t.chars=r,t.startTag=i,t.atomicTag=o,t.endTag=s;var c=a(4),u={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=a(5),i=(t.Token=function e(t,a){n(this,e),this.type=t,this.length=a,this.text=""},t.CommentToken=function(){function e(t,a){n(this,e),this.type="comment",this.length=a||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){n(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,a,r,i,o){n(this,e),this.type=t,this.length=r,this.text="",this.tagName=a,this.attrs=i,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="<"+e.tagName;for(var n in e.attrs)if(e.attrs.hasOwnProperty(n)){a+=" "+n;var i=e.attrs[n];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[n]||(a+='="'+(0,r.escapeQuotes)(i)+'"')}return e.rest&&(a+=" "+e.rest),e.unary&&!e.html5Unary?a+="/>":a+=">",null!=t&&(a+=t+"</"+e.tagName+">"),a},e}());t.StartTagToken=function(){function e(t,a,r,i,o,s){n(this,e),this.type="startTag",this.length=a,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=i,this.html5Unary=!1,this.unary=o,this.rest=s}return e.prototype.toString=function(){return i.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,a,r,i,o){n(this,e),this.type="atomicTag",this.length=a,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=o}return e.prototype.toString=function(){return i.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,a){n(this,e),this.type="endTag",this.length=a,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=a},function(e,t){"use strict";function a(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function n(e,t){var n=e.stream,r=a(t());return e.stream=n,r}function r(e,t){var a=t.pop();e.prepend("</"+a.tagName+">")}function i(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,a=0;t=this[a];a++)if(t.tagName===e)return!0;return!1},e}function o(e,t,o){function s(){var t=n(e,o);t&&u[t.type]&&u[t.type](t)}var c=i(),u={startTag:function(a){var n=a.tagName;"TR"===n.toUpperCase()&&c.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&l.test(n)&&c.containsTagName(n)?c.lastTagNameEq(n)?r(e,c):(e.prepend("</"+a.tagName+">"),s()):a.unary||c.push(a)},endTag:function(a){
c.last()?t.tagSoupFix&&!c.lastTagNameEq(a.tagName)?r(e,c):c.pop():t.tagSoupFix&&(o(),s())}};return function(){return s(),a(o())}}t.__esModule=!0,t.default=o;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,l=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function a(e){return null!=e}function n(e){return"function"==typeof e}function r(e,t,a){var n=void 0,r=e&&e.length||0;for(n=0;n<r;n++)t.call(a,e[n],n)}function i(e,t,a){for(var n in e)e.hasOwnProperty(n)&&t.call(a,n,e[n])}function o(e,t){return e=e||{},i(t,(function(t,n){a(e[t])||(e[t]=n)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(n){var t=(a=[],r(e,(function(e){a.push(e)})),{v:a});if("object"===(void 0===t?"undefined":g(t)))return t.v}var a}function l(e){return e[e.length-1]}function c(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function u(e){return c(e,"script")}function d(e){return c(e,"style")}t.__esModule=!0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=a,t.isFunction=n,t.each=r,t.eachKey=i,t.defaults=o,t.toArray=s,t.last=l,t.isTag=c,t.isScript=u,t.isStyle=d}])},"object"==typeof t&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof t?t.postscribe=n():a.postscribe=n()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document").createElement("div");e.exports=function(e){return n.innerHTML=e,n.textContent||n.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-document"),r=function(e){for(var t=n.querySelectorAll("script"),a=0;a<t.length;a++){var r=t[a];if(e.test(r.src))return r}},i=function(){return r(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:i,byRegexPattern:r}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:n.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-promise"),r=0;e.exports=function(e,t){var a="_runScript"+ ++r,i=new n((function(t,r){_satellite[a]=function(i){delete _satellite[a],new n((function(t){t(i.call(e.event.element,e.event,e.event.target,n))})).then(t,r)}}));return{code:'<script>_satellite["'+a+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:i}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,a,n){"use strict";var r=a("@adobe/reactor-promise"),i=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},l=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},c=function(e){return e.settings.isExternal};e.exports=function(e,t){var a;return c(e)&&(t=n.replaceTokens(t,e.event)),s(t)?(a=new r((function(e,t){o[String(i)]={resolve:e,reject:t}})),t=l(t,i),i+=1):a=r.resolve(),{code:t,promise:a}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-load-script"),r=a("@adobe/reactor-promise"),i=a("../../helpers/findPageScript").byRegexPattern,o={},s={},l=function(e){return s[e]||(s[e]=n(e)),s[e]};_satellite.__registerScript=function(e,t){var a;if(document.currentScript)a=document.currentScript.getAttribute("src");else{var n=new RegExp(".*"+e+".*");a=i(n).getAttribute("src")}o[a]=t},e.exports=function(e){return o[e]?r.resolve(o[e]):new r((function(t){l(e).then((function(){t(o[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window"),r=a("@adobe/reactor-document"),i=-1!==n.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",l="PAGE_BOTTOM",c=[l,s,o],u=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};c.forEach((function(e){d[e]=[]}));var g=function(e,t){c.slice(0,m(e)+1).forEach((function(e){f(t,e)}))},p=function(){return"complete"===r.readyState?o:"interactive"===r.readyState?i?null:s:void 0},m=function(e){return c.indexOf(e)},f=function(e,t){d[t].forEach((function(t){v(e,t)})),d[t]=[]},v=function(e,t){var a=t.trigger,n=t.syntheticEventFn;a(n?n(e):null)};n._satellite=n._satellite||{},n._satellite.pageBottom=g.bind(null,l),r.addEventListener("DOMContentLoaded",g.bind(null,s),!0),n.addEventListener("load",g.bind(null,o),!0),n.setTimeout((function(){var e=p();e&&g(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[l].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:u.bind(null,r)})},registerWindowLoadedTrigger:function(e){d[o].push({trigger:e,syntheticEventFn:u.bind(null,n)})}}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,a){"use strict";var n=a("./weakMap"),r=a("./matchesProperties"),i=a("./matchesSelector");e.exports=function(){var e=[],t=new n,a={addListener:function(t,a){e.push({settings:t,callback:a})},evaluateEvent:function(a,n){if(e.length&&!t.has(a)){for(var o=a.target,s=!1;o;){for(var l=!1,c=!1,u=0;u<e.length;u++){var d=e[u],g=d.settings.elementSelector,p=d.settings.elementProperties;if((!1!==d.settings.bubbleFireIfChildFired||!s)&&(o===a.target||!1!==d.settings.bubbleFireIfParent)&&(o===a.target||g||p&&Object.keys(p).length)&&(!g||i(o,g))&&(!p||r(o,p))){var m={};n?Object.keys(a).forEach((function(e){m[e]=a[e]})):m.nativeEvent=a,m.element=o,m.target=a.target,!1!==d.callback(m)&&(c=!0,d.settings.bubbleStop&&(l=!0))}}if(l)break;c&&(s=!0),o=o.parentNode}t.set(a,!0)}},__reset:function(){e=[]}};return a}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,a){"use strict";var n=a("@adobe/reactor-window").WeakMap;if(void 0===n){var r=Object.defineProperty,i=Date.now()%1e9;(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}).prototype={set:function(e,t){var a=e[this.name];return a&&a[0]===e?a[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=n}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,a){"use strict";var n=a("./../../helpers/textMatch"),r=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var a=r(e,t.name),i=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return n(a,i)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,a,n){"use strict";e.exports=function(e,t){var a=e.matches||e.msMatchesSelector;if(a)try{return a.call(e,t)}catch(e){return n.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/enableWeakMapDefaultValue.js":{script:function(e){"use strict";e.exports=function(e,t){var a=e.get;return e.get=function(n){return e.has(n)||e.set(n,t()),a.apply(this,arguments)},e}}},"core/src/lib/helpers/intersectionObserverIntervals.js":{script:function(e){"use strict";e.exports={standard:{pageElementsRefresh:3e3}}}}}}},company:{orgId:"11B20CF953F3626B0A490D44@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Qantas Airways Master",settings:{domains:["custhelp.com","qantasbusinessrewards.com","qantas.com","qantas.com.au","qantas.net.au","qantasnewsroom.com.au","qbe.com","resultspage.com","survey.howwasqantas.com"],undefinedVarsReturnEmpty:!0,ruleComponentSequencingEnabled:!0},id:"PRe4f1027a76ff4848aa1355cd1d4f7bc4"},rules:[{id:"RL0030a8f19cfa423da28c9ced3cba7b26",name:"TOOL: Celebrus - Window Loaded",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:".*(www\\.qantas\\.com|qantas\\.custhelp\\.com).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC36d7724d832048c7904b39813e39ac87-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL05cca3d535064d3aa534be5126bb2c21",name:"flightBookings_selectFlights_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_selectFlights_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items.length>0&&-1!=_satellite.getVar("dataLayer.bookingFlow.listing.productTypes").indexOf("flights")){var a=_satellite.getVar("digitalData.bookingFlow.listing.cityPair").replace(new RegExp(",","g"),"|");if(a){var n=_satellite.getVar("digitalData_listing_item_flights_noOfAdults")+_satellite.getVar("digitalData_listing_item_flights_noOfChildren");t.products=";Flights:New:"+a+";"+n+";;;",t.eVar108=_satellite.getVar("digitalData_listing_ecoFares"),t.eVar109=_satellite.getVar("digitalData_listing_flexFares"),t.eVar110=_satellite.getVar("digitalData_listing_busFares"),t.linkTrackVars+=",eVar108,eVar109,eVar110,products",_satellite.cookie.remove("digitalData_baggage_products"),_satellite.cookie.remove("cabin_products")}}}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar5",type:"value",value:"%digitalData_page_category_subCategory4%"},{name:"eVar10",type:"value",value:"%digitalData.bookingFlow.Select.listing.flightSearch%"},{name:"eVar12",type:"value",value:"%digitalData.bookingFlow.listing.flexibleWithDates%"},{name:"eVar13",type:"value",value:"%digitalData.bookingFlow.listing.departureDate%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar36",type:"value",value:"%digitalData.bookingFlow.listing.searchLeadTime%"},{name:"eVar38",type:"value",value:"%digitalData_closed_userGroups%"},{name:"eVar40",type:"value",value:"%digitalData_parting_time%"},{name:"eVar55",type:"value",value:"%digitalData.bookingFlow.select.listing.product.flights.travelType%"},{name:"eVar56",type:"value",value:"%digitalData_exposedBaseFacts_customerType%"},{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar60",type:"value",value:"%digitalData.bookingFlow.listing.pagename%"},{name:"eVar66",type:"value",value:"%digitalData.bookingFlow.select.listing.flights[0].travelTripType%"},{name:"eVar68",type:"value",value:"%loadtime%"},{name:"eVar71",type:"value",value:"%digitalData.bookingFlow.listing.cityPair%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar100",type:"value",value:"%digitalData_visitor_version%"},{name:"eVar142",type:"value",value:"%digitalData.event.attributes.wcigError%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop5",type:"alias",value:"eVar5"},{name:"prop7",type:"alias",value:"eVar60"},{name:"prop10",type:"alias",value:"eVar71"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop13",type:"alias",value:"eVar13"},{name:"prop20",type:"alias",value:"eVar40"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop55",type:"alias",value:"eVar55"},{name:"prop57",type:"alias",value:"eVar66"},{name:"prop74",type:"alias",value:"eVar77"}],events:[{name:"prodView"},{name:"event101"}]}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCf14a5925bc0c4c3ebc6e644f8d65e55f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC256e3d9608264bbb81437130abbd0c49-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCb5734034dd20474d8a37284d59f8bccc-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL06d458e8fbf74eea9d90256acaf66e0a",name:"flightBookings_passengerDetails_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_passengerDetails_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=_satellite.getVar("dataLayer.bookingFlow.basket.productTypes");if(-1!=a.indexOf("flights")){var n=_satellite.getVar("digitalData.bookingFlow.basket.cityPair").replace(",","|").replace(new RegExp(",","g"),"|"),r=digitalData.basket.line_Items[0].product.flights[0].adults+digitalData.basket.line_Items[0].product.flights[0].children;t.products=";Flights:New:"+n+";"+r+";;;"}var i={};if(-1!=a.indexOf("cars"))for(var o="",s=digitalData.basket.line_Items.length-1;s>=0;s--)-1!=Object.keys(digitalData.basket.line_Items[s].product).indexOf("cars")&&(o="",digitalData.basket.line_Items.forEach((function(e){-1!=Object.keys(e.product).indexOf("cars")&&e.product.cars.forEach((function(e,t){t>0&&(o+=",");var a={};a.provider=e.provider,i[t]=a,o+=";Cars:New:",o=(o+=e.provider)+"|"+e.carGroup+";1;;;"}))})),t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+o);t.linkTrackVars+=",products",t.pageName=t.getPageName()}},trackerProperties:{eVars:[{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar60",type:"value",value:"%digitalData.bookingFlow.basket.pagename%"},{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar56",type:"value",value:"%digitalData_exposedBaseFacts_customerType%"},{name:"eVar38",type:"value",value:"%digitalData_closed_userGroups%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop74",type:"alias",value:"eVar77"},{name:"prop7",type:"value",value:"%digitalData.bookingFlow.basket.pagename%"},{name:"prop57",type:"value",value:"%digitalData.basket.line_Items[0].product.flights[0].travelTripType%"},{name:"prop55",type:"value",value:"%digitalData.bookingFlow.basket.flights.travelType%"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop10",type:"value",value:"%digitalData.bookingFlow.basket.cityPair%"},{name:"prop13",type:"value",value:"%digitalData.basket.departureDates%"},{name:"prop8",type:"value",value:"%digitalData.bookingFlow.basket.flights.travelClassName%"},{name:"prop24",type:"value",value:"%digitalData.bookingFlow.basket.flights.bookingType%"},{name:"prop59",type:"value",value:"%digitalData.bookingFlow.basket.flightNumber%"},{name:"prop9",type:"value",value:"%digitalData.bookingFlow.basket.fareFamily%"},{name:"prop17",type:"value",value:"%digitalData_basket_methodOfPay%"}],events:[{name:"event103"}],pageName:"%pageName%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC29ae4ed3878a4f829949ecc84eba3532-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5f105128769a413d8802daa2c0496084-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCe9b9c9fde0b441ef979dd923ae649311-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCa701a630bb5341518971af93e7195e04-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL06f54fac61b342d984fd012b8f74171f",name:"Q.com & Booking Engine | Custom Event | ECID Retrieval | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7340370e1bf64fba931d9716ccc888bd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0873f20a2a374d408c5b7584b6521428",name:"shoppingCart_cartRemoveTrip_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"shoppingCart_cartItemRemoveTrip_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event50"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL09019a321ae34c838c1f86760637ba8a",name:"AA - Referring URL",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=_satellite.getVar("Cookie | Previous Page URL");t.eVar153=a}},trackerProperties:{}},timeout:2e3,delayNext:!0}]},{id:"RL0a391134841b46f6afa86ad3f0a820e6",name:"Accredit Project_events - Green Tier",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"GreenTier_AccreditProject_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"},{value:"aem-publish-stg-a243-05",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC2722b40cb6434430a45de3246c256e78-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0b444a535ccd4bf9b2457479e2ec94b2",name:"DataDog Script - Manage my booking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",2,"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:".*\\/(qf-mybooking|QFServicing)\\/.*",valueIsRegex:!0},{value:"(.*)\\/pl\\/QFServicing\\/wds\\/AtcFareServlet(.*)",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%botRule %"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:".*\\/(dede|esla|frfr|hk|idid|jajp|nl|zhcn|zhtw)\\/.*",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\n  window.RUM_CONFIG = {\n      clientToken: 'pubd8d753935a175560c970bdc1187fd18e',\n      applicationId: '64131345-3608-4a8f-bc75-c09c52a48005',\n      site: 'datadoghq.com',\n      service: 'qantas.com',\n      sessionSampleRate: 100,\n      sessionReplaySampleRate: 100,\n      enableExperimentalFeatures: ['clickmap'],\n      trackUserInteractions: true,\n      trackResources: true,\n      trackLongTasks: true,\n      trackFrustrations: true,\n      trackSessionAcrossSubdomains: true,\n      defaultPrivacyLevel: 'mask'\n  };\n  (function(h,o,u,n,d) {\n    h=h[d]=h[d]||{q:[],onReady:function(c){h.q.push(c)},getInternalContext:function(){}}\n    d=o.createElement(u);d.async=1;d.src=n\n    n=o.getElementsByTagName(u)[0];n.parentNode.insertBefore(d,n)\n  })(window,document,'script','https://static.qantas.com/ams02/a1055/12/prod/master/dd-rum/current/app.js','DD_RUM')\n  \n  //console.debug(\"config completed!\");\n</script>",language:"html"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script>\n  var intervalCounter = 0;\n  var onReadyInterval = setInterval(function(){\n \n    intervalCounter++;\n \n    if (window.DD_RUM && (!!window.DD_RUM.getInternalContext() || window.DD_RUM.getInternalContext() === undefined)) {\n      console.debug("ready for onReady function!");\n      window.DD_RUM.onReady(function() {\n       //window.DD_RUM.startSessionReplayRecording();\n      //console.debug("INIT Completed - Verify if RUM is initialized: ", window.DD_RUM.getInternalContext());\n      window.DD_RUM.setUser({\n        ecid: _satellite.getVar(\'Q_ecid\')\n      });\n      window.sessionStorage.setItem("dataDogInit",true);\n      //console.debug("sessionstorage: ", window.sessionStorage.getItem("dataDogInit"));\n     })\n \n     clearInterval(onReadyInterval)\n   }\n \n   if (intervalCounter === 20) {\n     clearInterval(onReadyInterval)\n   }\n    \n  }, 500);\n \n</script>',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL0b4f53fadd004990a6f463aa10b6e6f3",name:"manageYourBooking_change_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_change_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"%p2f-evar43%"}],props:[{name:"prop72",type:"value",value:"%p2f-evar43%"}],events:[{name:"event144"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL0c06ac7ac6e84214921f9b6ecca17411",name:"Custom Event | All Pages | Error Tracking | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return-1!=e.detail.analyticsData.event.eventAction.indexOf("Error")||-1!=e.detail.analyticsData.journey.journeyStep.indexOf("Error")||null!=e.detail.analyticsData.event.errorMessage}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar82",type:"value",value:"%Data Layer | Flight Booking Type%"},{name:"eVar99",type:"value",value:"%Data Layer | Classic Rewards%"},{name:"eVar138",type:"value",value:"%Data Layer | Transaction ID%"},{name:"eVar150",type:"value",value:"%Data Layer | Network%"},{name:"eVar157",type:"value",value:"%Data Layer | Error Code%"},{name:"eVar158",type:"value",value:"%Data Layer | Error Message%"},{name:"eVar159",type:"value",value:"%Data Layer | Error Location Step%"},{name:"eVar160",type:"value",value:"%Data Layer | Error Location URL%"},{name:"eVar161",type:"value",value:"%Data Layer | Category%"},{name:"eVar162",type:"value",value:"%Data Layer | Action%"},{name:"eVar163",type:"value",value:"%Data Layer | Label%"},{name:"eVar164",type:"value",value:"%Data Layer | Journey Name%"},{name:"eVar165",type:"value",value:"%Data Layer | Journey Step%"},{name:"eVar167",type:"value",value:"%Data Layer | Payment Method%"},{name:"eVar168",type:"value",value:"%Data Layer | Payment Type%"},{name:"eVar169",type:"value",value:"%Data Layer | Cabin Class%"},{name:"eVar170",type:"value",value:"%Data Layer | Transaction City Pairs%"},{name:"eVar171",type:"value",value:"%Data Layer | Site Office ID%"},{name:"eVar191",type:"value",value:"%Data Layer | Product Name%"},{name:"eVar192",type:"value",value:"%Data Layer | Product Category%"},{name:"eVar193",type:"value",value:"%Data Layer | Product Quantity%"},{name:"eVar194",type:"value",value:"%Data Layer | Product Price Cash%"}]}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC9670b41a02d94c15a3ebb583661dfdf2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL0c1e348e1a2d4832b2acb44e0e658d56",name:"PartnerLinking Error",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Partner_Error_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"},{value:"aem-publish-stg-a243-05-master",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar166",type:"value",value:"%PartnerLinking Error%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC6fa81be68cd7488b9d81b32853928c5d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0dbc224771c7403c9532b9ed11142fdc",name:"Booking Engine | Custom Event | Add Bag Button Click | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.add-bag-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"qf-booking/dyn/air/booking/ALPI",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | AddBag+ GlobalEvent%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL0dc0b7a28d6f41629fae1eb3deafca0e",name:"Offer Product Tracking Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"OfferProduct_Interaction_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"},{value:"aem-publish-stg-a243-05",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC1dd38266f90146c3ae7dffc0b2f3c53e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0dc6d3a6f5544b6a90ffeb5d3f9678c0",name:"Booking Engine | MYB - Seat Selection | Add to Cart | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventCategory%",rightOperand:"Flights - Seats"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventLabel%",rightOperand:"Manage Your Booking"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Seats Add to Cart"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | AddToCart + GlobalEvent%",type:"commerce.productListAdds",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL0f23b55cf1e649dd9707eb3bc3b9c5ab",name:"1A - CarBooking - CONF - DOM Ready",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"pl/QFCars/wds/BookTripPlanServlet",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC4b3d5761a2ee41f1b012fe916c9215c5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL0fb9250da1cb4ec5b12a935c8235457e",name:"Checkin_checkinPageLoaded_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_checkinPageLoaded_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a={"Checked In":"event90","Change Seats":"event91","Dangerous Goods":"event89",
"Exit Row Suitability":"event98","Trip Summary":"event88","Enter Passenger Details":"event88"},n="";if("event88"==(n=digitalData.page.category.subCategory2?a[digitalData.page.category.subCategory2]:a[$QantasTag.getCustomEvents("checkinPageLoaded")[0].category.subCategory2])||"event89"==n||"event90"==n||"event91"==n){var r={adults:parseInt(digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].adults:digitalData.currentBookings.line_items.product.flights[0].adults),children:parseInt(digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].children:digitalData.currentBookings.line_items.product.flights[0].children),infants:parseInt(digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].infants:digitalData.currentBookings.line_items.product.flights[0].infants),travelType:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].travelType:digitalData.currentBookings.line_items.product.flights[0].travelType,departureAirportCode:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].departureAirportCode:digitalData.currentBookings.line_items.product.flights[0].departureAirportCode,arrivalAirportCode:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].arrivalAirportCode:digitalData.currentBookings.line_items.product.flights[0].arrivalAirportCode,flightNumber:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].flightNumber:digitalData.currentBookings.line_items.product.flights[0].flightNumber,pnr:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].bookingReference:digitalData.currentBookings.line_items.product.flights[0].bookingReference,getEvar:function(){return this.travelType+":"+this.departureAirportCode+"-"+this.arrivalAirportCode+":"+this.flightNumber+":"+this.pnr+":"+(this.adults+this.children+this.infants)}};t.eVar11=r.adults+r.children+r.infants+"|"+r.adults+"|"+r.children+"|"+r.infants,t.eVar69=r.getEvar(),t.eVar177=_satellite.getVar("digitalData_checkinPageLoaded_checkingInCustomerInfo"),t.prop63=t.eVar11,t.prop65=t.eVar69,"event90"==n&&(n=n+":"+r.pnr+new Date(Date.now()).toLocaleString().split(",")[0].replace(new RegExp("/","g"),""))}n&&(t.events=n)}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar60",type:"value",value:"%digitalData_page_pageInfo_pageName%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar60"}],channel:"Check-In",pageURL:"%cleanPageURL%",pageName:"%digitalData_page_pageInfo_pageName%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL110f22ee8e4f4b2d8e93242b82d142b9",name:"Member Offers",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer.html",valueIsRegex:!0},{value:"/au/en/frequent-flyer/member-offers.html",valueIsRegex:!0},{value:"/au/en/frequent-flyer/earn-points.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=digitalData.event.length;return"onClick"==digitalData.event[e-1].eventInfo.eventAction}catch(e){}}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}],pageName:"%digitalData.Pagename%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%CTAName%",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL13ac93325e8042fdb23ed018df7e235a",name:"Booking Engine | Custom Event | BE Insurance Warning Message | [AA]",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"firstEntry",elementSelector:"#travel-insurance > div > div.card-block > booking-travel-insurance-no-insurance-choice > warning-card > div > div > p"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Insurance Warning Message%",type:"web.formFilledOut",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL14cf57a979474614ba3a5e0278435e82",name:"Booking Engine | MYB - Voluntary Cancellation | Cancel Flight Confirmation | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventCategory%",rightOperand:"Voluntary Cancellation"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Cancel Flights Confirmation Page"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | GlobalEvent + Cancel Flight Confirmation%",type:"Flight Cancellation",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL165b27bc68f04fd3915acfa63348c058",name:"qffProactiveConnectButton_connect_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"qffProactiveConnectButton_connect_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("connect");if(a){var n=(a=a[a.length-1]).attributes;t.prop38=n.name+"|"+n.buttonText+"|",t.eVar113=n.name+"|"+n.buttonText+"|",t.eVar44=n.membershipTier,t.eVar81=n.frequentFlyerPoints,t.eVar49=n.statusCredits,t.eVar181=n.destinationUrl,t.eVar182=n.buttonText,t.linkTrackVars="prop38,eVar113,eVar44,eVar81,eVar49,eVar181,eVar182,events"}}},trackerProperties:{events:[{name:"event23"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL16c6acad9d5b4cc9b610fe31efb78e20",name:"00 Lib - Library Loaded - 35 - Marketing Cloud ID Customer IDs",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:35}],conditions:[],actions:[{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%Declared ID%",authState:1,integrationCode:"qantasff"},{value:"%Declared ID%",authState:1,integrationCode:"qantascdds"},{value:"%Declared ID%",authState:1,integrationCode:"AdobeCampaignID"}]},timeout:2e3,delayNext:!0}]},{id:"RL174a2d72afe14284b9b4087edc7afbcd",name:"qffMemberAlertsPopups_popupStart_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"qffMemberAlertsPopups_popupStart_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("popupStart");if(a){var n=(a=a[a.length-1]).attributes;t.prop38=n.name+"|"+n.trigger+"|",t.eVar113=n.name+"|"+n.trigger+"|",t.eVar44=n.membershipTier,t.eVar81=n.frequentFlyerPoints,t.eVar49=n.statusCredits,t.linkTrackVars="prop38,eVar113,eVar44,eVar81,eVar49,events"}}},trackerProperties:{events:[{name:"event188"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL1791a0deeb0b45fda587ec65bc4335f8",name:"Accor - Error Type",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"accor_error_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar21",type:"value",value:"%digitalData.event.attributes.errorType%"}],events:[{name:"event8"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL17f779379b774ada931fcce9444d37b2",name:"1A - Select - Bottom of the Page exc mobile ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(pl/QFOnline/wds/OverrideServlet|pl/QFAward/wds/OverrideServlet).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return-1!="FFCO,OWCL,RFCR,RFCO,OWCO,FMFA".indexOf(QStats.pageCode)}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(e,t){return decodeURIComponent((new RegExp(e+"[#:=]([^&|@#;]+)(&|||#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null}var n=QStats.postURL,r=(n.match(/TRAVELLER_TYPE_/g)||[]).length,i=a("B_DATE_1",n);t.eVar21=i.substr(0,4)+"-"+i.substr(4,2)+"-"+i.substr(6,2),t.prop40="COMMERCIAL_FARE_FAMILY_1_1="+a("COMMERCIAL_FARE_FAMILY_1_1",n)+"&COMMERCIAL_FARE_FAMILY_2_1="+a("COMMERCIAL_FARE_FAMILY_2_1",n)+"&COMMERCIAL_FARE_FAMILY_TYPE_1="+a("COMMERCIAL_FARE_FAMILY_TYPE_1",n)+"&COMMERCIAL_FARE_FAMILY_TYPE_2="+a("COMMERCIAL_FARE_FAMILY_TYPE_2",n)+"&DEPARTURECITYCODE="+a("B_LOCATION_1",n)+"&ARRIVALCITYCODE="+a("E_LOCATION_1",n),t.prop41="ONEWAY=O&CABINCLASS="+a("TRAVEL_CLASS",n)+"&NUMPASSENGERS="+r+"&TRIP_TYPE="+a("TRIP_TYPE",n);var o=a("B_DATE_1",n)?a("B_DATE_1",n).substr(0,8):"",s=a("B_LOCATION_1",n)?a("B_LOCATION_1",n):"",l=a("E_LOCATION_1",n)?a("E_LOCATION_1",n):"";t.prop42="B_DATE_1="+o+"&B_LOCATION_1="+s+"&E_LOCATION_1="+l;var c=a("B_DATE_2",n)?a("B_DATE_2",n).substr(0,8):"",u=a("B_LOCATION_2",n)?a("B_LOCATION_2",n):"",d=a("E_LOCATION_2",n)?a("E_LOCATION_2",n):"";t.prop43="B_DATE_2="+c+"&B_LOCATION_2="+u+"&E_LOCATION_2="+d;var g=a("B_DATE_3",n)?a("B_DATE_3",n).substr(0,8):"",p=a("B_LOCATION_3",n)?a("B_LOCATION_3",n):"",m=a("E_LOCATION_3",n)?a("E_LOCATION_3",n):"";t.prop44="B_DATE_3="+g+"&B_LOCATION_3="+p+"&E_LOCATION_3="+m;var f=a("B_DATE_4",n)?a("B_DATE_4",n).substr(0,8):"",v=a("B_LOCATION_4",n)?a("B_LOCATION_4",n):"",h=a("E_LOCATION_4",n)?a("E_LOCATION_4",n):"";t.prop45="B_DATE_4="+f+"&B_LOCATION_4="+v+"&E_LOCATION_4="+h;var b=a("B_DATE_5",n)?a("B_DATE_5",n).substr(0,8):"",y=a("B_LOCATION_5",n)?a("B_LOCATION_5",n):"",D=a("E_LOCATION_5",n)?a("E_LOCATION_5",n):"";t.prop46="B_DATE_5="+b+"&B_LOCATION_5="+y+"&E_LOCATION_5="+D;var _=a("B_DATE_6",n)?a("B_DATE_6",n).substr(0,8):"",C=a("B_LOCATION_6",n)?a("B_LOCATION_6",n):"",k=a("E_LOCATION_6",n)?a("E_LOCATION_6",n):"";t.prop47="B_DATE_6="+_+"&B_LOCATION_6="+C+"&E_LOCATION_6="+k}}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"return _satellite.cookie.set(\"timetoBook\", new Date(),_satellite.getVar('cookieSetting')||{});",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL1982984964ca44b0b6a0bcd1b4da1bd6",name:"Checkin_viewChangeSeats_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_viewChangeSeats_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event95"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL19f487ea8566413eba6398b57e5292b6",name:"flightBookings_confirmation_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_confirmation_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageName=t.getPageName();var a=_satellite.getVar("dataLayer.bookingFlow.transaction.productTypes"),n=digitalData.transaction.line_Items,r=0,i=0,o={};if(-1!=a.indexOf("cars")){for(var s=0,l=0,c=n.length-1;c>=0;c--)if(-1!=Object.keys(n[c].product).indexOf("cars")){var u="";digitalData.transaction.line_Items.forEach((function(e){var t=parseFloat(e.cash)/e.quantity,a=parseInt(e.points)/e.quantity;-1!=Object.keys(e.product).indexOf("cars")&&(l=e.points,s=e.cash,e.product.cars.forEach((function(e,n){n>0&&(u+=",");var r={};r.provider=e.provider,o[n]=r,u+=";Cars:New:",u=(u+=e.provider)+"|"+e.carGroup+";1;"+t+";event106="+a})))})),t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+u}r=parseInt(r)+parseInt(l),i=parseFloat(i)+parseFloat(s)}if(-1!=a.indexOf("auxillary")){var d=0,g=0;for(c=n.length-1;c>=0;c--)-1!=Object.keys(n[c].product).indexOf("auxillary")&&(u="",digitalData.transaction.line_Items.forEach((function(e){-1!=Object.keys(e.product).indexOf("auxillary")&&e.product.auxillary.forEach((function(e,t){t>0&&(u+=","),u+=";Cars:New:Aux:",u+=o[e.parent-1].provider,d=parseFloat(d)+parseFloat(e.cash),g=parseInt(g)+parseInt(""==e.points?0:e.points),u=u+"|"+e.type+";"+e.quantity+";"+e.cash+";event106="+(""==e.points?0:e.points)}))})),t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+u);r=parseInt(r)+parseInt(g),i=parseFloat(i)+parseFloat(d)}if(-1!=a.indexOf("carbon")){var p,m,f;for(c=n.length-1;c>=0;c--)-1!=Object.keys(n[c].product).indexOf("carbon")&&(p=n[c].quantity,m=n[c].cash,null==(f=n[c].points)&&(f=0),n[c].product.carbon[0].type);null==m&&(m=0),p=digitalData.transaction.line_Items[0].product.flights[0].adults+digitalData.transaction.line_Items[0].product.flights[0].children,r=parseInt(r)+parseInt(f),i=parseFloat(i)+parseFloat(m),t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+";Carbon:New:"+_satellite.getVar("digitalData_Carbon_CityPair")+";"+p+";"+m+";event106="+f}if(-1!=a.indexOf("cabinUpsell"))for(c=n.length-1;c>=0;c--)if(-1!=Object.keys(n[c].product).indexOf("cabinUpsell")){u="";var v=digitalData.transaction.methodOfPay;digitalData.transaction.line_Items.forEach((function(e){-1!=Object.keys(e.product).indexOf("cabinUpsell")&&e.product.cabinUpsell.upsells.forEach((function(e,t){t>0&&(u+=","),u+=";Cabin Upsell:New:",u+=e.upsellType,u+="#"+e.cabinUpsell+"#",e.segments.forEach((function(e,t){t>0&&(u+="|"),u+=e.departingSegment+"-"+e.arrivingSegment}));var a=parseFloat(parseInt(e.adults)*parseFloat(e.cashPerAdult)),n=parseFloat(parseInt(e.children)*parseFloat(e.cashPerChild));"Points"==v&&(a=0,n=0);var r=parseInt(e.adults)*parseInt(e.pointsPerAdult),i=parseInt(e.children)*parseInt(e.pointsPerChild);u+=";"+(parseInt(e.adults)+parseInt(e.children))+";0;event165="+(a+n).toFixed(2)+"|event166="+(r+i)+";"}))})),t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+u}if(-1!=a.indexOf("travelInsurance")){var h,b,y,D="";for(c=n.length-1;c>=0;c--)-1!=Object.keys(n[c].product).indexOf("travelInsurance")&&(h=n[c].quantity,b=n[c].cash,null==(y=n[c].points)&&(y=0),D=n[c].product.travelInsurance[0].levelOfCover);h=digitalData.transaction.line_Items[0].product.flights[0].adults+digitalData.transaction.line_Items[0].product.flights[0].children,r=parseInt(r)+parseInt(y),b=0===y?b:0,i=parseFloat(i)+parseFloat(b),t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+";Travel Insurance:New:"+D+";"+h+";"+b+";event106="+y}if(-1!=a.indexOf("baggage")){var _="";_+=";Bags:New:";var C=-1;if(a.split("|").forEach((function(e){-1!=e.indexOf("baggage")&&(C=parseInt(e.replace("baggage","")))})),-1!==C){var k=digitalData.transaction.line_Items[C].product.baggage.length,w=digitalData.transaction.line_Items[C].product.baggage,P=0;if(k>0)for(c=0;c<k;c++)c>0&&(_+=">"),P+=-1!=w[c].additionalBaggage.indexOf("Kg")?parseInt(w[c].additionalBaggage.substr(0,w[c].additionalBaggage.indexOf("Kg")).trim())/5:parseInt(w[c].additionalBaggage.substr(0,1)),_+=-1!=w[c].additionalBaggage.indexOf("Kg")?parseInt(w[c].additionalBaggage.substr(0,w[c].additionalBaggage.indexOf("Kg")).trim())/5:w[c].additionalBaggage.substr(0,1),_+="|"+digitalData.transaction.line_Items[w[c].parent].product.flights[0].departureAirportCode+"-"+digitalData.transaction.line_Items[w[c].parent].product.flights[0].arrivalAirportCode;var T="";try{for(var E=_.split(";")[1].replace(new RegExp("Bags:New:","g"),"").split(">"),I=0;I<E.length;I++){var j=E[I];if(""===T)T=j;else for(var x=j.split("|"),S=T.split(">"),V=0;V<S.length;V++){var O=S[V].split("|");if(-1!=T.indexOf(x[1])){if(-1!=O[1].indexOf(x[1])){var N=parseInt(O[0])+parseInt(x[0]);T=T.replace(O[0]+"|"+O[1],N+"|"+O[1])}}else T+=">"+j}}}catch(e){_satellite.notify("Error in merging baggage products",1)}""!==T&&(_=";Bags:New:"+T),_+=";"+P+";"+digitalData.transaction.line_Items[C].subTotal+";event106="+digitalData.transaction.line_Items[C].points+";",r=parseInt(r)+parseInt(digitalData.transaction.line_Items[C].points),i=parseFloat(i)+parseFloat(digitalData.transaction.line_Items[C].subTotal),t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+_}}if(-1!=a.indexOf("seats")){_="",_+=";Seats:New:";var L=-1;if(a.split("|").forEach((function(e){-1!=e.indexOf("seats")&&(L=parseInt(e.replace("seats","")))})),-1!=L){var A=digitalData.transaction.line_Items[L].product.seats.length,R=digitalData.transaction.line_Items[L].product.seats,F={},M=0;if(A>0){for(c=0;c<A;c++)if(0==Object.keys(F).length)(q={}).key=R[c].seatType+"|"+R[c].departureAirportCode+"-"+R[c].arrivalAirportCode,q.qty=1,q.cost=void 0!==R[c].cash&&""!==R[c].cash?R[c].cash:0,q.points=void 0!==R[c].points&&""!==R[c].points?R[c].points:0,F[M]=q,M++;else{var q,B=0,U=!1;for(var Q in F)(H=F[Q]).key===R[c].seatType+"|"+R[c].departureAirportCode+"-"+R[c].arrivalAirportCode&&(H.qty=H.qty+1,H.cost=parseFloat(H.cost)+(void 0!==R[c].cash&&""!==R[c].cash?parseFloat(R[c].cash):0),H.points=parseInt(H.points)+(void 0!==R[c].points&&""!==R[c].points?parseInt(R[c].points):0),F[B]=H,U=!0),B++;U||((q={}).key=R[c].seatType+"|"+R[c].departureAirportCode+"-"+R[c].arrivalAirportCode,q.qty=1,q.cost=void 0!==R[c].cash&&""!==R[c].cash?R[c].cash:0,q.points=void 0!==R[c].points&&""!==R[c].points?R[c].points:0,F[M]=q,M++)}for(var Q in _="",F){_+=";Seats:New:";var H=F[Q];r=parseInt(r)+parseInt(H.points),i=parseFloat(i)+parseFloat(H.cost),_+=H.key+";"+H.qty+";"+H.cost+";event106="+H.points+","}_=_.substring(0,_.length-1)}t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+_}}if(-1!=a.indexOf("flights")){var G=_satellite.getVar("digitalData.bookingFlow.CONF.cityPair").replace(new RegExp(",","g"),"|"),J=digitalData.transaction.line_Items[0].product.flights[0].adults+digitalData.transaction.line_Items[0].product.flights[0].children,$=0,W=0,z=0,X=0,Y=0,K=("International"===_satellite.getVar("digitalData.bookingFlow.transaction.flights.travelType")||"INT"===_satellite.getVar("digitalData.bookingFlow.transaction.flights.travelType"))&&digitalData.transaction.line_Items[0].product.flights[0].travelTripType.toUpperCase()!=="Multicity".toUpperCase(),Z=0;for(I=0;I<digitalData.transaction.line_Items.length;I++)-1!=Object.keys(n[I].product).indexOf("flights")&&void 0!==digitalData.transaction.line_Items[I].points&&(z=parseInt(z)+parseInt(digitalData.transaction.line_Items[I].points),K&&(0==I&&(X=parseInt(digitalData.transaction.line_Items[I].points)),1==I&&(Y=parseInt(digitalData.transaction.line_Items[I].points))));W=void 0!==digitalData.transaction.flightTax?parseFloat(digitalData.transaction.flightTax):0,($=($=parseFloat(digitalData.transaction.cash)-parseFloat(i)).toFixed(2))<0&&($=0),Z=($-(W=W.toFixed(2))).toFixed(2),parseFloat(Z)<=parseFloat(0)&&(Z=0),z=parseInt(digitalData.transaction.points)-parseInt(r),t.products=K?(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+";Flights:New:"+G+";"+J+";"+Z+";event106="+z+"|event124="+W+"|event123="+$+"|event158="+X+"|event159="+Y:(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+";Flights:New:"+G+";"+J+";"+Z+";event106="+z+"|event124="+W+"|event123="+$}var ee,te=new Date;ee=te.getFullYear()+("0"+(te.getMonth()+1)).slice(-2)+("0"+te.getDate()).slice(-2),t.purchaseID=ee+digitalData.transaction.bookingReference,t.currencyCode=_satellite.getVar("digitalData.bookingFlow.CONF.currency"),t.eVar114=_satellite.getVar("digitalData.bookingFlow.flight.departureRegion"),t.eVar115=_satellite.getVar("digitalData.bookingFlow.flight.arrivalRegion"),t.linkTrackVars+=",eVar114,eVar115,products"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar11",type:"value",value:"%digitalData.bookingFlow.CONF.passengers%"},{name:"eVar24",type:"value",value:"%dataLayer.bookingFlow.CONF.timeToBook%"},{name:"eVar25",type:"value",value:"%digitalData.bookingFlow.CONF.currency%"},{name:"eVar27",type:"value",value:"%digitalData.bookingFlow.CONF.paymentType%"},{name:"eVar28",type:"value",value:"%digitalData.bookingFlow.CONF.methodOfPay%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar32",type:"value",value:"%dataLayer.bookingFlow.CONF.bookingTime%"},{name:"eVar38",type:"value",value:"%digitalData_closed_userGroups%"},{name:"eVar40",type:"value",value:"%digitalData_parting_time%"},{name:"eVar41",type:"value",value:"%digitalData.bookingFlow.CONF.bookingLeadTime%"},{name:"eVar42",type:"value",value:"%digitalData.transaction.abnSelected%"},{name:"eVar47",type:"value",value:"%digitalData.bookingFlow.CONF.bookingReference%"},{name:"eVar52",type:"value",value:"%digitalData.bookingFlow.CONF.DatesBooked%"},{name:"eVar56",type:"value",value:"%digitalData_exposedBaseFacts_customerType%"},{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar60",type:"value",value:"%digitalData.bookingFlow.transaction.pagename%"},{name:"eVar66",type:"value",value:"%digitalData.bookingFlow.transaction.flights[0].travelTripType%"},{name:"eVar72",type:"value",value:"%digitalData.bookingFlow.CONF.cityPair%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar100",type:"value",value:"%digitalData_visitor_version%"},{name:"eVar139",type:"value",value:"%digitalData.transaction.baseCurrency%"},{name:"eVar141",type:"value",value:"%digitalData.transaction.exchangeRate%"},{name:"eVar149",type:"value",value:"%promo-code%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop7",type:"value",value:"%digitalData.bookingFlow.transaction.pagename%"},{name:"prop11",type:"value",value:"%digitalData.bookingFlow.CONF.cityPair%"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop15",type:"value",value:"%digitalData.bookingFlow.CONF.DatesBooked%"},{name:"prop17",type:"alias",value:"eVar28"},{name:"prop20",type:"alias",value:"eVar40"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop55",type:"value",value:"%digitalData.bookingFlow.transaction.flights.travelType%"},{name:"prop57",type:"value",value:"%digitalData.bookingFlow.transaction.flights[0].travelTripType%"},{name:"prop63",type:"value",value:"%digitalData.bookingFlow.CONF.passengers%"},{name:"prop71",type:"value",value:"%digitalData.bookingFlow.CONF.bookingReference%"},{name:"prop74",type:"alias",value:"eVar77"}],events:[{name:"purchase"},{name:"event105"},{name:"event106"},{name:"event124"},{name:"event123"},{name:"event158"},{name:"event159"},{name:"event165"},{name:"event166"},{name:"event26",value:"%payment-afterpromo%"},{name:"event25",value:"%payment-beforepromo%"}],pageName:"%pageName%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC3af5533704be43639b298100a0eb04ac-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCa9ea430eb8234000859438a4e6400464-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCc932fc57720246dcadb2be6428c11b8a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5938364139da467ab448bdabbbf35d28-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCe3c0c2e9aab740279bc33523409b414e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCd695f756ce29417cb7bced8dafb87191-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCcd81d18d78f148b3941f83ade7f31e75-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCd7869b9f33274fce967d425c0542545c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCe7c14bc5d33a499990d42581666d96bd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC23655e586d6c4d3e89f8987025352cae-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCb5721aec99a642f98dcaed2d9c37551e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC9a332fe8b574471b8c62de8f7a7caa22-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC188a1b50240343cf80e9b93154123f28-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCb6817d428e3246da87aff0fbae475f0c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC2c091cb3f0b94a5699c7ba88f390adaa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1b5c86ca1df04990aa51f58a0924bbca",name:"flightBookings_options_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_options_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=_satellite.getVar("dataLayer.bookingFlow.basket.productTypes");if(-1!=a.indexOf("flights")&&!localStorage.getItem("carsFired")){var n=_satellite.getVar("digitalData.bookingFlow.basket.cityPair").replace(new RegExp(",","g"),"|"),r=digitalData.basket.line_Items[0].product.flights[0].adults+digitalData.basket.line_Items[0].product.flights[0].children;t.products=";Flights:New:"+n+";"+r+";;;",t.events="scAdd,event102",t.linkTrackEvents="scAdd,event102"}localStorage.removeItem("carsFired");var i={};if(-1!=a.indexOf("cars"))for(var o="",s=digitalData.basket.line_Items.length-1;s>=0;s--)-1!=Object.keys(digitalData.basket.line_Items[s].product).indexOf("cars")&&(o="",digitalData.basket.line_Items.forEach((function(e){-1!=Object.keys(e.product).indexOf("cars")&&e.product.cars.forEach((function(e,t){t>0&&(o+=",");var a={};a.provider=e.provider,i[t]=a,o+=";Cars:New:",o=(o+=e.provider)+"|"+e.carGroup+";1;;;"}))})),t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+o,t.events=void 0!==t.events&&"undefined"!==t.events?t.events+",event163":"scAdd,event163",t.linkTrackEvents=void 0!==t.linkTrackEvents&&"undefined"!==t.linkTrackEvents?t.linkTrackEvents+",event163":"scAdd,event163");t.linkTrackVars+=",products,events",t.pageName=t.getPageName()}},trackerProperties:{eVars:[{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar7",type:"value",value:"%digitalData.bookingFlow.basket.flights.travelClassName%"},{name:"eVar14",type:"value",value:"%digitalData.bookingFlow.basket.flights.bookingType%"},{name:"eVar6",type:"value",value:"%digitalData.bookingFlow.basket.flightNumber%"},{name:"eVar16",type:"value",value:"%digitalData.bookingFlow.basket.fareFamily%"},{name:"eVar60",type:"value",value:"%digitalData.bookingFlow.basket.pagename%"},{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar9",type:"value",value:"%digitalData_basket_flightCarrier%"},{name:"eVar56",type:"value",value:"%digitalData_exposedBaseFacts_customerType%"},{name:"eVar38",type:"value",value:"%digitalData_closed_userGroups%"}],props:[{name:"prop74",type:"alias",value:"eVar77"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop8",
type:"value",value:"%digitalData.bookingFlow.basket.flights.travelClassName%"},{name:"prop24",type:"value",value:"%digitalData.bookingFlow.basket.flights.bookingType%"},{name:"prop59",type:"value",value:"%digitalData.bookingFlow.basket.flightNumber%"},{name:"prop9",type:"value",value:"%digitalData.bookingFlow.basket.fareFamily%"},{name:"prop7",type:"value",value:"%digitalData.bookingFlow.basket.pagename%"},{name:"prop57",type:"value",value:"%digitalData.basket.line_Items[0].product.flights[0].travelTripType%"},{name:"prop55",type:"value",value:"%digitalData.bookingFlow.basket.flights.travelType%"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop10",type:"value",value:"%digitalData.bookingFlow.basket.cityPair%"},{name:"prop13",type:"value",value:"%digitalData.basket.departureDates%"},{name:"prop17",type:"value",value:"%digitalData_basket_methodOfPay%"}],pageName:"%pageName%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC718c59c254e441c98ec202a0ba1b612f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC126c6db5b65c4a70a672303b7d5cef49-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCa843ad09748243518c15005e848601b0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCb32fe416aa214d4bb32488fa9fa0c1ba-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1b64ddaa6509430296249fb7da30107e",name:"Booking Engine | MYB - Additional Baggage | Add to Cart | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventCategory%",rightOperand:"Manage Your Booking \u2013 Additional Baggage"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Journey | journeyStep%",rightOperand:"SEFE page displayed"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | AddToCart + GlobalEvent%",type:"commerce.productListAdds",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL1bad89cede5943b49c6fe119602e5da1",name:"Accommodation_airbnbBookingFFDetailsSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Accommodation_airbnbBookingFFDetailsSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar80",type:"value",value:"%digitalData_userType%"},{name:"eVar45",type:"value",value:"%digitalData_airbnb_ffNumber%"}],props:[{name:"prop68",type:"alias",value:"eVar80"}],events:[{name:"event137"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL1e6613f0d8764a088434daf182332bcc",name:"popups_popupClose_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"popups_popupClose_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("popupClose")[0];if(void 0!==a){var n=a.attributes.name?a.attributes.name:"",r=a.attributes.trigger?a.attributes.trigger:"",i=a.attributes.message?a.attributes.message:"";t.products="",t.eVar68="",t.eVar113=n+"|"+r+"|"+i,t.prop38=t.eVar113,t.events="event189",t.linkTrackEvents="event189",t.linkTrackVars="eVar113,prop38,events"}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL20aa9cd10913400ea7d8dc1c7f415b41",name:"Flight Status_flightStatusAlreadyRegistered_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flight Status_flightStatusAlreadyRegistered_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){void 0!==$QantasTag.getCustomEvents("flightStatusAlreadyRegistered")[0]&&(t.events="event239",t.linkTrackEvents="event239",t.linkTrackVars="events")}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL20ba1f6240524d44ac148cc1adf50485",name:"Activities_buttonClick_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Activities_buttonClick_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){!function(){var e=$QantasTag.getCustomEvents("buttonClick");if(e&&e.length){var a=e[e.length-1];if(a&&a.eventInfo&&a.eventInfo.module&&"Activities"===a.eventInfo.module){var n=a.attributes&&a.attributes.URL,r=a.attributes&&a.attributes.buttonName;t.eVar77=n,t.eVar43=r,t.events="event145",t.linkTrackVars="eVar43,eVar77,events",t.linkTrackEvents="event145"}}}()}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL21397d8e304b44a68c28028e62abc1ea",name:"Accordion - Green Tier",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"GreenTier_Accordion_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"},{value:"aem-publish-stg-a243-05",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC911a6de4b00f438fac493c88545e23f1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL216ced3b6d7247478de71805d2e6d2f4",name:"manageYourBooking_SeatSelection_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_SeatSelection_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(digitalData&&digitalData.listing&&digitalData.listing.line_Items[0]&&digitalData.listing.line_Items[0].product&&digitalData.listing.line_Items[0].product.seats){var a="",n="",r="",i="",o="",s="",l="";digitalData.listing.line_Items.forEach((function(e){e.product.seats.forEach((function(e,t){t>0&&(a+=","),n=""==n?"RoundTrip"!=e.travelTripType?e.travelTripType:"Return Trip":n,r=""==r?e.travelType:r,i=""==i?e.bookingType:i,o=""==o?e.fligthCarrier:o,s=""==s?e.fligthNumber:s,l=""==l?e.fareFamily:l,a+=";Seats:Manage:",a+=e.seatType+"|",a+=e.departureAirportCode+"-"+e.arrivalAirportCode+"|",a+=e.seatCost+";",a+=e.quantity+";",a+=e.cash+";;"}))})),localStorage.setItem("listing_products",a),t.products=a,t.eVar66=n,t.eVar55=r,t.eVar14=i,t.prop55="D=v55",t.prop57="D=v66",t.prop24="D=v14",t.eVar6=o+s,t.prop59="D=v6",t.eVar9=o,t.eVar16=l,t.prop9="D=v16",t.linkTrackVars+=",eVar66,eVar55,eVar14,prop55,prop57,prop24,eVar6,prop59,eVar9,eVar16,prop9,products"}}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar60",type:"value",value:"%digitalData_myb_listing_pageName%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar60"},{name:"prop74",type:"alias",value:"eVar77"}],events:[{name:"prodView"},{name:"event152"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCcb1b1b8144ac4123af942b90fde98e0c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL22107bab91bd485889772d8d5b95a0a1",name:"Flight Notifications_flightNotificationsManage_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flight Notifications_flightNotificationsManage_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("flightNotificationsManage");if(a){var n=(a=a[a.length-1]).attributes.notificationType+"|"+a.attributes.smsCountryCode+"|"+a.attributes.smsRegionCode;t.eVar120=n,t.events="event216",t.linkTrackEvents="event216",t.linkTrackVars="eVar120,events"}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL230c39df76994d48b8d7b3f5568137c9",name:"Q.com | Custom Event | Global Navigation  -  Drop Down Clicks | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.__secondary_link.__dtbp",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("NavHomePage",analyticsData.detail.analyticsData.journey.pageName),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%NavHomePage%",rightOperand:"Fly with the Spirit of Australia | Qantas"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCebab7156cbe1467fad03a123fee0f9dd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | GlobalNavDropdownClick + GlobalEvent%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL244a25da342d4ad9b8b1ee6a70fab95e",name:"Qualtrics Snippet Manage my booking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"\\/pl\\/QFServicing\\/wds\\/tripflow\\.redirect",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->\n<style>\n  .QSIFeedbackButton {\n    overflow: hidden !important;\n  }\n  button#QSIFeedbackButton-btn {\n    font-weight: 600 !important;\n    text-transform: uppercase;\n  }\n  button#QSIFeedbackButton-btn > div {\n    padding: 14px 10px !important;\n    border-top-right-radius: 4px !important;\n    border-bottom-right-radius: 4px !important;\n  }\n  button#QSIFeedbackButton-btn div {\n    font-size: 16px !important;\n  }\n  .customisable-widget div[data-widget-host="qdd-feedback-widget"] > .loading {\n    display: none !important;\n  }\n</style>\n<script type=\'text/javascript\'>\n(function(){var g=function(e,h,f,g){\nthis.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};\nthis.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};\nthis.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};\nthis.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};\nthis.start=function(){var t=this;"complete"!==document.readyState?window.addEventListener?window.addEventListener("load",function(){t.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){t.go()}):t.go()};};\ntry{(new g(100,"r","QSI_S_ZN_0213TofTAfjNor4","https://zn0213toftafjnor4-qantasgroup.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_0213TofTAfjNor4")).start()}catch(i){}})();\n</script><div id=\'ZN_0213TofTAfjNor4\'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>\n<!--END WEBSITE FEEDBACK SNIPPET-->',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL25166e8866b84b9c9e3a38ec43cd3ce8",name:"flightBookings_cabinUpsell_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_cabinUpsell_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digitalData_listing_cabinUpSells")}},trackerProperties:{events:[{name:"event162"},{name:"prodView"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC35940cb273d84cb28f829127206c04f8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL25aef17684ea4721922e44608c318378",name:"Accor  Gold Status",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"/au/en/frequent-flyer/member-offers/accor-gold-status-offer.html"==location.pathname}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC45678ba3837d40c2a139c842f95f2ee7-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2670e9665ffe4dfba88656da9a570abf",name:"Flights_flightSearchStart_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flights_flightSearchStart_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%digitalData.event.attributes.usePoints%"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event240"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL270c88e37f7f4d3abcdd316d74a6a1c9",name:"Frequent Flyer_personalInformation_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_personalInformation_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/frequent-flyer/discover-and-join/join.html",valueIsRegex:!0},{value:"/frequent-flyer/discover-and-join/join-now.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{console.log("start"),t.products=_satellite.getVar("digitalData_fflyer_joinStart"),t.linkTrackVars+=",products",console.log("start")}catch(e){console.error(e)}}},trackerProperties:{events:[{name:"event42"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL278b061aa6304eabaabbe7da821c1e2f",name:"flightBookings_selectNewFlight_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_selectNewFlight_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(t.products="",void 0!==digitalData.event[digitalData.event.length-1])for(var a=digitalData.event.length-1;a>=0;a--)if("selectNewFlight"===(e=digitalData.event[a]).eventInfo.eventName){var n=0;e=digitalData.event[digitalData.event.length-1],n=parseFloat(e.attributes.extraUnitPrice).toFixed(2),isNaN(n)&&(n=0),t.events="event128,event160="+n,t.linkTrackEvents="event128,event160",t.linkTrackVars+=",events",_satellite.notify("set events",1);break}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCfb09674cca0e4ab4b6e0243c686b2ecb-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2816473a1e9f465392ae9de4957eeaa3",name:"popups_popupStart_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"popups_popupStart_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("popupStart")[0];if(void 0!==a){var n=a.attributes.name?a.attributes.name:"",r=a.attributes.trigger?a.attributes.trigger:"",i=a.attributes.message?a.attributes.message:"";t.products="",t.eVar68="",t.eVar113=n+"|"+r+"|"+i,t.prop38=t.eVar113,t.events="event188",t.linkTrackEvents="event188",t.linkTrackVars="eVar113,prop38,events"}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL28a72f0a5b87411ea19fda0b99d453cc",name:"RecentSearch_listings",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"RecentSearch_listings"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){!function(){function e(e){for(var t="",a=0;a<e.length;a++)t+=(";RecentSearch|"+e[a].departurePort+"-"+e[a].destinationPort+"|"+e[a].tripType+"|"+e[a].travelType+"|"+e[a].configCurrencyCode+";").replace(new RegExp(",","g"),"")+";;,";return t.slice(0,-1)}var a=window.dataLayer&&window.dataLayer.getListings("RecentSearch");if(a&&a[0]&&a[0].items&&a[0].items.length){var n=e(a[0].items);t.products=n,t.events="event224,prodView",t.linkTrackEvents="event224,prodView",t.linkTrackVars="products,events"}}()}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL29751b1113544c7688c9522aac2fb6a7",name:"Activities_seeMoreActivities_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Activities_seeMoreActivities_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){!function(){function e(e){for(var t="",a=0;a<e.length;a++){var n=e[a].product.Activities[0];t+=(";Activities|"+n.type+"|"+n.activityName+"|"+n.activityLocation+";"+e[a].product.quantity+";"+e[a].product.cash).replace(new RegExp(",","g"),"")+";;,"}return t.slice(0,-1)}var a=$QantasTag.getCustomEvents("seeMoreActivities");if(a&&a.length){var n=a[a.length-1],r=n.attributes&&n.attributes.listing&&n.attributes.listing.line_items,i=r&&r.length&&e(r);t.products=i,t.events="event404,prodView",t.linkTrackVars="products,events",t.linkTrackEvents="event404,prodView"}}()}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL29af5aca42a24b4ebf3f6000ca34573c",name:"Booking Engine | Custom Event | Seat Map - Seat Sitting Together Enablement | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"input.toggle-btn.sr-only",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | pageURL%",rightOperand:"qf-booking/dyn/air/booking/ALPI"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"Enable/ Disable Sitting Together"},{name:"eVar161",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar162",type:"value",value:"CTA Click"},{name:"eVar164",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar165",type:"value",value:"CTA Click"}],events:[{name:"event145",value:"1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Enable/ Disable Sitting Together",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | SeatTogetherEnablement%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL2c8059f4c4e5448e91ea845ca703668b",name:"Q.com | Custom Event | Click Events | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0},{value:"uat.digital.airline.amadeus.com",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventType%",rightOperand:"interaction"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%DL | Event | errorMessage%",rightOperand:"^(?!\\s*$).+"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | GlobalEvent + Custom Clicks%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL2cb97604b0aa47b0811c45f736c88f5f",name:"Flight Status_flightStatusSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flight Status_flightStatusSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=$QantasTag.getCustomEvents("flightStatusSearch");if(a){var n="departing"===(a=a[a.length-1]).attributes.departureType?a.attributes.departureDate:a.attributes.arrivalDate,r=a.attributes.searchType+"|"+a.attributes.departureType+"|"+a.attributes.departureAirportCode+"-"+a.attributes.arrivalAirportCode+"|"+a.attributes.carrierCode+"|"+a.attributes.flightNumber+"|"+n+"|"+a.attributes.departureCity+"|"+a.attributes.departureRegion+"|"+a.attributes.arrivalCity+"|"+a.attributes.arrivalRegion;t.eVar119=r,t.events="event214",t.linkTrackEvents="event214",t.linkTrackVars="eVar119,events"}}catch(e){}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL2ce4e3f4b3ae4283b4ea4aa51e739402",name:"tag remediation",events:[],conditions:[],actions:[]},{id:"RL2ece1338c01241e18724203500af96d7",name:"manageYourBooking_addAdditionalBaggage_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_addAdditionalBaggage_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(digitalData&&digitalData.listing&&digitalData.listing.line_Items[0]&&digitalData.listing.line_Items[0].product&&digitalData.listing.line_Items[0].product.baggage){var a="",n="",r="",i="",o="",s="",l="";digitalData.listing.line_Items.forEach((function(e){e.product.baggage.forEach((function(e,t){t>0&&(a+=","),n=""==n?"RoundTrip"!=e.travelTripType?e.travelTripType:"Return Trip":n,r=""==r?e.travelType:r,i=""==i?e.bookingType:i,o=""==o?e.fligthCarrier:o,s=""==s?e.fligthNumber:s,l=""==l?e.fareFamily:l,a+=";Baggage:Manage:",a+=e.typeOfPurchase+"|",a+=e.departureAirportCode+"-"+e.arrivalAirportCode+";",a+=e.quantity+";",a+=e.cash+";;"}))})),localStorage.setItem("listing_products",a),t.products=a,t.eVar66=n,t.eVar55=r,t.eVar14=i,t.prop55="D=v55",t.prop57="D=v66",t.prop24="D=v14",t.eVar6=o+s,t.prop59="D=v6",t.eVar9=o,t.eVar16=l,t.prop9="D=v16",t.currencyCode=_satellite.getVar("digitalData.myb.listing.currency"),t.linkTrackVars+=",eVar66,eVar55,eVar14,prop55,prop57,prop24,eVar6,prop59,eVar9,eVar16,prop9,products"}}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar60",type:"value",value:"%digitalData_myb_listing_bags%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar60"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop74",type:"alias",value:"eVar77"}],events:[{name:"event152"},{name:"prodView"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC3f507bf384784b638aebeb30c9347bcb-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2efe80b21c404dc6b00aea93282b0659",name:"Frequent Flyer_applyNow_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_applyNow_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("applyNow");a&&(a=a[a.length-1],t.products=";"+a.attributes.type+"|"+a.attributes.provider+"|"+a.attributes.cardName+"|"+a.attributes.annualFee+"|;1;;;",t.events="scAdd,event33",t.linkTrackEvents="scAdd,event33",t.eVar62=a.attributes.type+"|"+a.attributes.provider+"|"+a.attributes.cardName+"|"+a.attributes.annualFee+"|"+a.attributes.deal,_satellite.setVar("CreditCardDetails",t.eVar62),t.eVar29=a.attributes.type+"|"+a.attributes.deal,t.eVar20=a.attributes.elementPosition+"|Card Position: "+a.attributes.cardPosition,t.linkTrackVars="eVar62,eVar29,eVar20,products,events")}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCe91e3cf79c5d49858f20ef7a2f7556f2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5ecbf605b0a7482687a9040d91e547d1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC8a0008c93f374d52a97496446abff3a0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC581858efc7414e02b69c7cc79c2c364d-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL30f62f78299c4fecb15260d6350eee78",name:"HelpSupportPageURLv2",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"pageURL"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"help\\.qantas\\.com",valueIsRegex:!0},{value:"kmsit-support-qantas\\.cs74\\.force\\.com",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{pageURL:"%HelpSupportPageURL%",pageName:"%pageName%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL31577e2888d249b68ce60089a823d2f1",name:"Checkin_forwardBoardingPassSelect_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_forwardBoardingPassSelect_events"},ruleOrder:50}],conditions:[],actions:[{
modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a="event183",n={adults:parseInt(digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].adults:digitalData.currentBookings.line_items.product.flights[0].adults),children:parseInt(digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].children:digitalData.currentBookings.line_items.product.flights[0].children),infants:parseInt(digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].infants:digitalData.currentBookings.line_items.product.flights[0].infants),travelType:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].travelType:digitalData.currentBookings.line_items.product.flights[0].travelType,departureAirportCode:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].departureAirportCode:digitalData.currentBookings.line_items.product.flights[0].departureAirportCode,arrivalAirportCode:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].arrivalAirportCode:digitalData.currentBookings.line_items.product.flights[0].arrivalAirportCode,flightNumber:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].flightNumber:digitalData.currentBookings.line_items.product.flights[0].flightNumber,pnr:digitalData.currentBookings.line_items[0]?digitalData.currentBookings.line_items[0].product.flights[0].bookingReference:digitalData.currentBookings.line_items.product.flights[0].bookingReference,getEvar:function(){return this.travelType+":"+this.departureAirportCode+"-"+this.arrivalAirportCode+":"+this.flightNumber+":"+this.pnr+":"+(this.adults+this.children+this.infants)}};t.eVar11=n.adults+n.children+n.infants+"|"+n.adults+"|"+n.children+"|"+n.infants,t.eVar69=n.getEvar(),t.prop63=t.eVar11,t.prop65=t.eVar69,a&&(t.events=a)}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar60",type:"value",value:"%digitalData_page_pageInfo_pageName%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar60"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL319a101351394e739cab10bd2de93623",name:"manageYourBooking_click_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_click_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar143",type:"value",value:"%digitalData.event.attributes.buttonText%"}],events:[{name:"event118"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL31d25d2edfc84045b1f07fcd31cc9261",name:"Frequent Flyer_milestonesRewardSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_milestonesRewardSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("milestonesRewardSuccess");if(a){var n=(a=a[a.length-1]).attributes.transaction;t.eVar28=n.paymentType,t.eVar25=n.currency,t.products=_satellite.getVar("digitalData_fflyer_myRewards"),t.linkTrackVars+=",eVar28,eVar25,products"}}},trackerProperties:{events:[{name:"event230"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL33b5de68393e4281bb095ae11309df93",name:"PaymentError_bookingEngineFail_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"PaymentError_bookingEngineFail_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar79",type:"value",value:"%digitalData.event.attributes.errorMessage%"}],events:[{name:"event109"},{name:"event220",value:"%digitalData.basket.cash%"}]}},timeout:2e3,delayNext:!0}]},{id:"RL33ca18a78c7542f0b7de28c871dc76a8",name:"Global Event - Navigation",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"navigation"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.eVar179=_satellite.getVar("Navigation"),t.eVar181=_satellite.getVar("Navigation URL"),t.linkTrackVars="eVar179,eVar181,events",t.linkTrackEvents="event54",t.events="event54"}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL33ce214caba3485fa1131f388761da01",name:"Checkin_clickBoardingPassLandingPage_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_clickBoardingPassLandingPage_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event99"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL33d364f351e44915a02ed5f0c1145bca",name:"MAC - Ways Earn Points",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MAC_WaysEarnPoints_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05-phoenix-2.qcpaws.qantas.com.au"},{value:"www.qantas.com"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC588d662983f6419db4e3cfe163705bb2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL33d5a29d72d3408a9bda51311ac4706c",name:"Loyalty - New - Cardholders Bonus - Register",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".style-guide__button--solid",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus.html"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if("REGISTER NOW"==e.target.innerText.trim())return!0}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event47"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL34b317bdaa77492c81675bafc2a8e0dc",name:"flightBookings_confirmSeats_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_confirmSeats_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digitalData.bookingFlow.ALPI.seatSelection"),t.linkTrackVars+=",products"}},trackerProperties:{events:[{name:"event154"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCdff975ef4c6144b7863e30690976339e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL35e0c2f26bd14970891527b78237fa45",name:"extendedSearch_selectPin_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"extendedSearch_selectPin_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar106",type:"value",value:"%extendedSearch.refineSearch..attributes.zoomLevel%"}],props:[{name:"prop39",type:"alias",value:"eVar106"}],events:[{name:"event172"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC2404643c59f240958783090e4062cd97-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL364b1a5d182b4f55824ae570ce82e940",name:"Booking Engine | Custom Event | Checkout | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%event.detail.analyticsData.event.eventAction%",rightOperand:"Payment Screen Loaded"},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Checkout + GlobalEvent%",type:"commerce.checkouts",instanceName:"alloy",edgeConfigOverrides:{staging:{},production:{},development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL3663eead32864d1ba9b4bec443c5e2ad",name:"FL - Loyalty - New - Cardholders Bonus - Login",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ql-login-submit-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-affiliate-finder.html",valueIsRegex:!0},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-affiliate-finder-may.html",valueIsRegex:!1}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC3173bc0510194d82a5d0d4464bbea316-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL36e26f33724f408fb0425498de41b37c",name:"3PTY: Activities Confirmation - Onload",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/booking/ordersummary/",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"secure.viator.com",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC87ef13695b2140b29ee53d19f56d4251-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL371320482292472ca1c36a24622a9f9f",name:"Accor  - Log In to All accounts",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"accor_accorLogin_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event9"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL37d2d6ab27594953bb43251ba2de47c6",name:"flightBookings_showMoreFlight_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_showMoreFlight_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event116"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL3a1de35d645f4d96a8f00819c4c1fa53",name:"Checkin_cancelChangeSeats_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_cancelChangeSeats_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event96"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL3b14d20f5f89432f9369fc611b54dc5b",name:"manageYourBooking_checkInButtonHover_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_checkInButtonHover_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"%p2f-evar43%"}],props:[{name:"prop72",type:"value",value:"%p2f-evar43%"}],events:[{name:"event144"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL3b9bebd3fc3348ba9c31d0b963ed06f8",name:"bp_error_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bp_error_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar67",type:"value",value:"%digitalData.event.attributes.errorType%"}],events:[{name:"event251"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL3c5abeb4064a42af8a171bc210c58678",name:"Loyalty - NAB - Page Registration",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"[class='style-guide__button style-guide__button--solid']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/nab-personal-loans.html"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(_satellite.getVar("OneTrustFlag").indexOf(",4,")>-1)try{t.eVar18=digitalData.user.frequentFlyerNumber,t.eVar44=digitalData.user.frequentFlyerTier,t.eVar80="Frequent Flyer|Logged In",t.events="event112",t.linkTrackVars="eVar18,eVar44,eVar80,events",t.linkTrackEvents="event112"}catch(e){}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7586beb1dfae42c9afb1e0ee1c68c2ce-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCc87dd982911a4486aef0e0b411e81986-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3c707685b5d841ddacf55a7c053e7bb6",name:"Marketing Tags - Credit Card Selector",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/au/en/frequent-flyer/earning-points/cards-banking/compare-credit-cards.html",valueIsRegex:!1},{value:"/au/en/frequent-flyer/earn-points/compare-credit-cards.html"},{value:"/au/en/frequent-flyer/earn-points/compare-credit-cards.expA.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCf6016b1ade1242d891031c0a21e842d1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCaec4bcbaf5f248219d6298b98e92052d-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3db63103e80144d6841dda8f6c860d7c",name:"MAC - Confetti Moment",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MAC_ConfetttiMoment_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05-phoenix-2.qcpaws.qantas.com.au"},{value:"www.qantas.com"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5626747612c4413db247f23d836f4a3c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3e5c8bc75bcd42dd969ad76460736878",name:"Custom Event | All Pages | None | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return-1==e.detail.analyticsData.event.eventAction.indexOf("Add to Cart")&&-1==e.detail.analyticsData.event.eventLabel.indexOf("Add to Cart")&&-1==e.detail.analyticsData.event.eventAction.indexOf("Remove from Cart")&&-1==e.detail.analyticsData.event.eventLabel.indexOf("Remove from Cart")&&-1==e.detail.analyticsData.event.eventAction.indexOf("Error")&&-1==e.detail.analyticsData.journey.journeyStep.indexOf("Error")}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=_satellite.getVar("Data Layer | Journey Step",e),n=_satellite.getVar("Data Layer | Journey Name",e),r=_satellite.getVar("Data Layer | Membership",e);if(-1!=a.indexOf("Order Confirmation")&&-1!=n.indexOf("New Flight Booking")){var i="event501="+(e.detail.analyticsData.transaction&&e.detail.analyticsData.transaction.transactionPointsUsed);t.events=i,t.linkTrackEvents+=",event501";var o=_satellite.getVar("Data Layer | Transaction ID",e);t.eVar138=o,t.linkTrackVars+=",eVar138"}if(-1!=a.indexOf("3 Confirmation Page")&&-1!=n.indexOf("Involuntary Flight Change")){var s=_satellite.getVar("Data Layer | PNR",e);return t.eVar138=s,t.linkTrackVars+=",eVar138",!0}r&&(t.linkTrackVars+=",list1",t.list1=r)}},trackerProperties:{eVars:[{name:"eVar20",type:"value",value:"%Data Layer | Airline Name%"},{name:"eVar44",type:"value",value:"%Data Layer | QFFtier%"},{name:"eVar45",type:"value",value:"%Data Layer | QFFID%"},{name:"eVar59",type:"value",value:"%Data Layer | Hotel Filter Details%"},{name:"eVar61",type:"value",value:"%Data Layer | Trip Type%"},{name:"eVar70",type:"value",value:"%Q_tabid%"},{name:"eVar75",type:"value",value:"%Data Layer | Promo Code%"},{name:"eVar82",type:"value",value:"%Data Layer | Flight Booking Type%"},{name:"eVar99",type:"value",value:"%Data Layer | Classic Rewards%"},{name:"eVar103",type:"value",value:"%DL | Journey | Journey From%"},{name:"eVar118",type:"value",value:"%Data Layer | Datadog Session ID%"},{name:"eVar121",type:"value",value:"%DL | Journey | reasonCode%"},{name:"eVar150",type:"value",value:"%Data Layer | Network%"},{name:"eVar152",type:"value",value:"%Data Layer | eVar152%"},{name:"eVar153",type:"value",value:"%Data Layer | eVar153%"},{name:"eVar161",type:"value",value:"%Data Layer | Category%"},{name:"eVar162",type:"value",value:"%Data Layer | Action%"},{name:"eVar163",type:"value",value:"%Data Layer | Label%"},{name:"eVar164",type:"value",value:"%Data Layer | Journey Name%"},{name:"eVar165",type:"value",value:"%Data Layer | Journey Step%"},{name:"eVar167",type:"value",value:"%Data Layer | Payment Method%"},{name:"eVar168",type:"value",value:"%Data Layer | Payment Type%"},{name:"eVar169",type:"value",value:"%Data Layer | Cabin Class%"},{name:"eVar170",type:"value",value:"%Data Layer | Transaction City Pairs%"},{name:"eVar171",type:"value",value:"%Data Layer | Site Office ID%"},{name:"eVar189",type:"value",value:"%DL | Journey | Journey To%"},{name:"eVar190",type:"value",value:"%Data Layer | Flight Options Presented%"},{name:"eVar191",type:"value",value:"%Data Layer | Product Name%"},{name:"eVar192",type:"value",value:"%Data Layer | Product Category%"},{name:"eVar193",type:"value",value:"%Data Layer | Product Quantity%"},{name:"eVar194",type:"value",value:"%Data Layer | Product Price Cash%"},{name:"eVar195",type:"value",value:"%Data Layer | Product Reward Type%"}],props:[{name:"prop25",type:"value",value:"%DL | Journey | CategoryNum%"},{name:"prop40",type:"value",value:"%Data Layer | Card Impression%"},{name:"prop41",type:"value",value:"%Data Layer | Card Selection%"},{name:"prop54",type:"value",value:"%Data Layer | QFFtier%"}],events:[{name:"event500",value:"%Data Layer | Product Price Cash%"},{name:"event244",value:"%Data Layer | Journey pointsTransfer%"}],pageURL:"%Data Layer | Page URL%",pageName:"%Data Layer | Page Name%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7825938ad65f4500b2f8b794fe67a7aa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3f775fa81246443e9875865662d87051",name:"flightBookings_selectSeats_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_selectSeats_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{events:[{name:"event152"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL404c768f945a457eadfecb7db4d50c8a",name:"Optimizely Snippet",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if (_satellite.getVar('OneTrustFlag').indexOf(',4,') > -1) {\n    try {\n\n        // Load Optimizely script\n        var script = document.createElement('script');\n        script.src = \"https://cdn.optimizely.com/js/30192500019.js\";\n        document.head.appendChild(script);\n\n    } catch (e) {\n        //do nothing\n    }\n}\n",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL4087e337baca451dbfcd6f6d960dcbd0",name:"creditVoucher_selectFlight_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"creditVoucher_selectFlight_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("digitalData.event.attributes.voucherCurrency");t.currencyCode=a}catch(e){}}},trackerProperties:{eVars:[{name:"eVar135",type:"value",value:"%creditVoucher.digitalData.event.attributes%"},{name:"eVar144",type:"value",value:"%digitalData.event.attributes.voucherReference%"},{name:"eVar145",type:"value",value:"%digitalData.event.attributes.voucherCurrency%"}],events:[{name:"event260"},{name:"event121",value:"%digitalData.event.attributes.voucherValue%"}]}},timeout:2e3,delayNext:!0}]},{id:"RL43fb84b3758748df84986d704b53d34e",name:"bp_iOSaddToWallet_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bp_addToWallet_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData.event.attributes.operatingSystem%",rightOperand:"iOS"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event254"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL44794510b75144b7aaec51a7f4300554",name:"Booking Engine | Custom Event | Seat Map Seat Button Confirmation | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'button[id="btn-seat-info-confirm"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | pageURL%",rightOperand:"qf-booking/dyn/air/booking/ALPI"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | SeatMap - SeatConfirmationButton%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL448911e3f1e2444da2590b1cec944b29",name:"FL - NTDE - BTL - new cardholders",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-july-registered.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC3fb229b835234c559b8dbafcb1c0291d-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL46b6b40bce614fada83cff2c706cd637",name:"flightBookings_confirmBaggage_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_confirmBaggage_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=digitalData.event[digitalData.event.length-1].attributes.bound.length,n=digitalData.event[digitalData.event.length-1],r=";Bags:New:",i=0;if(a>0)for(var o=0;a>o;o++)o>0&&(r+=">"),r+=-1!=n.attributes.bound[o].typeOfPurchase.indexOf("Kg")?parseInt(n.attributes.bound[o].typeOfPurchase.substr(0,n.attributes.bound[o].typeOfPurchase.indexOf("-")).trim())/5:n.attributes.bound[o].typeOfPurchase.substr(0,1),i+=-1!=n.attributes.bound[o].typeOfPurchase.indexOf("Kg")?parseInt(n.attributes.bound[o].typeOfPurchase.substr(0,n.attributes.bound[o].typeOfPurchase.indexOf("-")).trim())/5:parseInt(n.attributes.bound[o].typeOfPurchase.substr(0,1)),r+="|"+n.attributes.bound[o].departureAirportCode+"-"+n.attributes.bound[o].arrivalAirportCode;var s="",l=0,c="",u="",d=!1,g=_satellite.cookie.get("digitalData_baggage_products");void 0===g&&(g="");try{for(var p=r.split(";")[1].replace(new RegExp("Bags:New:","g"),"").split(">"),m=0;m<p.length;m++){var f=p[m];if(""===s)s=f;else for(var v=f.split("|"),h=s.split(">"),b=0;b<h.length;b++){var y=h[b].split("|");if(-1!=s.indexOf(v[1])){if(-1!=y[1].indexOf(v[1])){var D=parseInt(y[0])+parseInt(v[0]);s=s.replace(y[0]+"|"+y[1],D+"|"+y[1])}}else s+=">"+f}}if(";Bags:New:"===r&&""===s)c=g,g.split(">").forEach((function(e){e.split("|").forEach((function(e,t){t%2==0&&parseInt(e)}))}));else if(void 0!==g&&g.length>0){var _=g.split(">"),C=s.split(">");for(o=0;o<_.length;o++){f=_[o];for(var k=!1,w=0;w<C.length;w++){var P=C[w],T=f.split("|"),E=P.split("|");E[1]===T[1]?parseInt(E[0])>parseInt(T[0])?(u+=u.length>0?">":"",l+=parseInt(E[0])-parseInt(T[0]),u+=parseInt(E[0])-parseInt(T[0])+"|"+E[1]):parseInt(E[0])<parseInt(T[0])&&(c+=c.length>0?">":"",parseInt(T[0]),parseInt(E[0]),c+=parseInt(T[0])-parseInt(E[0])+"|"+E[1]):-1!=s.indexOf(T[1])||k||(k=!0,c+=c.length>0?">":"",parseInt(T[0]),c+=parseInt(T[0])+"|"+T[1])}}}}catch(e){_satellite.notify("Error in remembering old products to identify scRemove"+e,1)}0==c.length&&_satellite.cookie.set("digitalData_baggage_products",s,_satellite.getVar("cookieSetting")||{}),g.length>0&&(u.length>0&&(u=";Bags:New:"+u),c.length>0&&(c=";Bags:New:"+c)),""!==s&&(r=s=";Bags:New:"+s),t.products="",u.length>0&&!d?(u+=";"+l+";;;",t.products=u,t.events="scAdd",t.linkTrackVars="events,products"):(d||!g.length>0)&&(r+=";"+i+";;;",t.products=r,t.events="scAdd",t.linkTrackVars="events,products"),c.length>0&&(digitalData.remove="true"),""==t.products&&t.abort}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL48fb4be227c64ec18b1e2a431daf1bc7",name:"manageYourBooking_sendToFacebookMessenger_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_sendToFacebookMessenger_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a="",n="",r="";window.digitalData&&window.digitalData.event[0]&&window.digitalData.event[0].attributes&&(a=window.digitalData.event[0].attributes.departureAirportCode,n=window.digitalData.event[0].attributes.arrivalAirportCode,r=window.digitalData.event[0].attributes.bookingReference),t.eVar43="sendToFacebookMessenger|"+a+"-"+n+"|"+r,t.prop72=t.eVar43,t.events="event145",t.linkTrackEvents="event145",t.linkTrackVars="events,eVar43,prop72"}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL49b039ba3beb4146a8d5823bc1047db6",
name:"3PTY: Transfers - Bottom of page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:".*(transfers\\.qantas\\.com|secure\\.viator\\.com).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"11789",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{channel:"Transfers"}},timeout:2e3,delayNext:!0}]},{id:"RL4a073c5a585d4241bf2ae580190c3df1",name:"Q.com | Custom Event | Homepage Flight Widget Tab Click (Mobile) | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[class="accordion_control_button"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("XDM | FlightWidgetTab",this.innerText.trim()),!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | FlightWidgetTab + GlobalEvent%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL4acbc8365192469daa6ff0440d450d13",name:"Booking Engine | Watch this Trip Click | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.btn.btn-plain.watch-price-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar60",type:"value",value:"%digitalData_page_pageInfo_pageName%"}],events:[{name:"event299"}],pageName:"%Data Layer | Page Name%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL4b11c6821bc44a66aa8ac80761c10ed7",name:"QBR Homepage",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/business/business-rewards.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC79d038b1b9954c8188ec6dd6b1c14547-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4c9d8a572482493e981713f6ef9d662b",name:"FL - Loyalty - NTDE - Cardholders Bonus - Register",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".style-guide__button--solid",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-email.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-october-email.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-october.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCbb92afffa6bc4a59902ab5a96fec12ea-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4da5417fffd5455bbacdd3a0bb71aa58",name:"Agency Connect_loginSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Agency Connect_loginSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("loginSuccess");if(a){var n=(a=a[a.length-1]).attributes.loginType,r=a.attributes.agencyConnectNumber;t.eVar18=n+"|"+r,t.events="event112",t.linkTrackEvents="event112",t.linkTrackVars="eVar18,events"}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL4df12ba890454442a8fbf86b8d80006f",name:"Core - Custom Code - FL",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_confirmation_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCab06f4234949431ebf1a7f68792ae09b-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4ede62cca92145ab8bdac21ea76beb2a",name:"Flight Deals_findFlights_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flight Deals_findFlights_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(void 0!==$QantasTag.getCustomEvents("findFlights")[0]){var a=(e=$QantasTag.getCustomEvents("findFlights")[0]).attributes.saleName+"|"+e.attributes.departureAirportCode+"-"+e.attributes.arrivalAirportCode+"|"+e.attributes.travelClassName,n=";"+a;t.eVar78=a,t.eVar68="",t.products=n,t.events="event139",t.linkTrackVars="eVar78,products",t.linkTrackEvents="event139"}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL51b091caf70f4eaabb24db32c56d306f",name:"agencyConnect_registrationPersonalDetails_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"agencyConnect_registrationPersonalDetails_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event206"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL51bb9080c1d9437e8bbd603a5b51d6fc",name:"flightBookings_payment_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_payment_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=_satellite.getVar("dataLayer.bookingFlow.basket.productTypes");if(-1!=a.indexOf("flights")){var n=_satellite.getVar("digitalData.bookingFlow.basket.cityPair").replace(",","|").replace(new RegExp(",","g"),"|"),r=digitalData.basket.line_Items[0].product.flights[0].adults+digitalData.basket.line_Items[0].product.flights[0].children;t.products=";Flights:New:"+n+";"+r+";;;",t.linkTrackVars+=",products"}if(-1!=a.indexOf("baggage")){var i="",o=0;i+=";Bags:New:";var s=-1;if(a.split("|").forEach((function(e){-1!=e.indexOf("baggage")&&(s=parseInt(e.replace("baggage","")))})),-1!==s){var l=digitalData.basket.line_Items[s].product.baggage.length,c=digitalData.basket.line_Items[s].product.baggage;if(l>0)for(var u=0;u<l;u++)u>0&&(i+=">"),i+=-1!=c[u].additionalBaggage.indexOf("Kg")?parseInt(c[u].additionalBaggage.substr(0,c[u].additionalBaggage.indexOf("Kg")).trim())/5:c[u].additionalBaggage.substr(0,1),o+=-1!=c[u].additionalBaggage.indexOf("Kg")?parseInt(c[u].additionalBaggage.substr(0,c[u].additionalBaggage.indexOf("Kg")).trim())/5:parseInt(c[u].additionalBaggage.substr(0,1)),i+="|"+digitalData.basket.line_Items[c[u].parent].product.flights[0].departureAirportCode+"-"+digitalData.basket.line_Items[c[u].parent].product.flights[0].arrivalAirportCode;var d="";try{for(var g=i.split(";")[1].replace(new RegExp("Bags:New:","g"),"").split(">"),p=0;p<g.length;p++){var m=g[p];if(""===d)d=m;else for(var f=m.split("|"),v=d.split(">"),h=0;h<v.length;h++){var b=v[h].split("|");if(-1!=d.indexOf(f[1])){if(-1!=b[1].indexOf(f[1])){var y=parseInt(b[0])+parseInt(f[0]);d=d.replace(b[0]+"|"+b[1],y+"|"+b[1])}}else d+=">"+m}}}catch(e){_satellite.notify("Error in merging baggage products",1)}""!==d&&(i=";Bags:New:"+d),i+=";"+o+";;;",t.products+=",",t.products+=i}}if(-1!=a.indexOf("seats")){i="",o=0,i+=";Seats:New:";var D=-1;if(a.split("|").forEach((function(e){-1!=e.indexOf("seats")&&(D=parseInt(e.replace("seats","")))})),-1!==D){var _=digitalData.basket.line_Items[D].product.seats.length,C=digitalData.basket.line_Items[D].product.seats,k={},w=0;if(_>0){for(u=0;u<_;u++)if(0==Object.keys(k).length)(P={}).key=C[u].seatType+"|"+C[u].departureAirportCode+"-"+C[u].arrivalAirportCode,P.qty=1,k[w]=P,w++;else{var P,T=0,E=!1;for(var I in k)(j=k[I]).key===C[u].seatType+"|"+C[u].departureAirportCode+"-"+C[u].arrivalAirportCode&&(j.qty=j.qty+1,k[T]=j,E=!0),T++;E||((P={}).key=C[u].seatType+"|"+C[u].departureAirportCode+"-"+C[u].arrivalAirportCode,P.qty=1,k[w]=P,w++)}for(var I in i="",k){var j;i+=";Seats:New:",i+=(j=k[I]).key+";"+j.qty+";;;,"}i=i.substring(0,i.length-1),t.products+=",",t.products+=i}}}if(-1!=a.indexOf("cabinUpsell")){var x=_satellite.getVar("digitalData_basket_cabinUpSells");t.products+=",",t.products+=x}var S={};if(-1!=a.indexOf("cars")){var V="";for(u=digitalData.basket.line_Items.length-1;u>=0;u--)-1!=Object.keys(digitalData.basket.line_Items[u].product).indexOf("cars")&&(V="",digitalData.basket.line_Items.forEach((function(e){-1!=Object.keys(e.product).indexOf("cars")&&e.product.cars.forEach((function(e,t){t>0&&(V+=",");var a={};a.provider=e.provider,S[t]=a,V+=";Cars:New:",V=(V+=e.provider)+"|"+e.carGroup+";1;;;"}))})),t.products=(void 0!==t.products&&"undefined"!==t.products?t.products+",":"")+V)}t.linkTrackVars+=",products",t.pageName=t.getPageName()}},trackerProperties:{eVars:[{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar60",type:"value",value:"%digitalData.bookingFlow.basket.pagename%"},{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar56",type:"value",value:"%digitalData_exposedBaseFacts_customerType%"},{name:"eVar38",type:"value",value:"%digitalData_closed_userGroups%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop74",type:"alias",value:"eVar77"},{name:"prop7",type:"value",value:"%digitalData.bookingFlow.basket.pagename%"},{name:"prop57",type:"value",value:"%digitalData.basket.line_Items[0].product.flights[0].travelTripType%"},{name:"prop55",type:"value",value:"%digitalData.bookingFlow.basket.flights.travelType%"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop10",type:"value",value:"%digitalData.bookingFlow.basket.cityPair%"},{name:"prop13",type:"value",value:"%digitalData.basket.departureDates%"},{name:"prop8",type:"value",value:"%digitalData.bookingFlow.basket.flights.travelClassName%"},{name:"prop24",type:"value",value:"%digitalData.bookingFlow.basket.flights.bookingType%"},{name:"prop59",type:"value",value:"%digitalData.bookingFlow.basket.flightNumber%"},{name:"prop9",type:"value",value:"%digitalData.bookingFlow.basket.fareFamily%"},{name:"prop17",type:"value",value:"%digitalData_basket_methodOfPay%"}],events:[{name:"scCheckout"},{name:"event104"}],pageName:"%pageName%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7aca5bb1cced44ed86f0fc89ff085485-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC8056d24a2da44599b6c9a7e4d662e8b2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCf98dc7a91dfd4aaebe01c789392c8226-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCdfdb3e8311c74668b20a50ecdbc3e36a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL52aa3860d84644d082b6c98ef525aef1",name:"00 Lib - Library Loaded - 50 - Adobe Analytics|gtag",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:60}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar117",type:"value",value:"%mid%"}],props:[{name:"prop74",type:"alias",value:"eVar77"}]}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'var $QantasTag = {\n    hasAudienceManager: function(e) {\n        return !$QantasTag.getCookie("amdfa") && (e.p += $QantasTag.getCookie("aam_uuid"), document.cookie = "amdfa=done; path=/; secure;", !0)\n    },\n    isDOMorINT: function(e) {\n        var t = $QantasTag.getQStats();\n        return t ? t.marketType == e : void 0\n    },\n    hasInsurance: function() {\n        var e = $QantasTag.getQStats();\n        return void 0 !== e.products ? e.products.toString().search("TravelIns") > -1 : void 0\n    },\n    replaceAt: function(e, t, n) {\n        return e.substr(0, t) + n + e.substr(t + n.length)\n    },\n    getQStats: function() {\n        return "undefined" != typeof QStats ? QStats : null\n    },\n    getRandom: function(e) {\n        return Math.random() * e\n    },\n    getCookie: function(e) {\n        var t = new RegExp("[; ]" + e + "=([^\\\\s;]*)"),\n            n = (" " + document.cookie).match(t);\n        return e && n ? unescape(n[1]) : null\n    },\n    getValueFromKey: function(e, t) {\n        return decodeURIComponent((new RegExp(e + "[#:=]([^&|@#;]+)(&|||#|;|$)").exec(t) || [, ""])[1].replace(/\\+/g, "%20")) || null\n    },\n    customImage: function(e, t, n, a) {\n        var s = new Image(t, n);\n        s.style = a, s.src = e\n    },\n    getCustomEvents: function(e) {\n        return e && digitalData ? digitalData.event.filter(function(t) {\n            return t.eventInfo.eventName === e\n        }) : digitalData.event\n    },\n    getFormattedDate: function(e) {\n        try {\n            return e.split(" ")[0].replace(new RegExp("/", "g"), "-")\n        } catch (e) {\n            console.log("Error in date conversion---" + e)\n        }\n    },\n    isCampaignActive: function(e, t) {\n        var n = new Date,\n            a = new Date(e),\n            s = new Date(t),\n            r = n.getFullYear() + "-" + ("0" + (n.getMonth() + 1)).slice(-2) + "-" + ("0" + n.getDate()).slice(-2);\n        return (n = new Date(r)).getTime() >= a.getTime() && n.getTime() <= s.getTime() || "true" === localStorage.getItem("sdsat_stagingLibrary")\n    },\n    feedbackOpenWindow: function(e) {\n        var t = screen.width / 2 - 275,\n            n = screen.height / 2 - 275;\n        window.open(e, "Survey", "toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, width=550, height=550, top=" + n + ", left=" + t), this.feedbackCallAnalytics(e, !0, !1, !1)\n    },\n    feedbackCallAnalytics: function(e, t, n, a) {\n        var r = e.split("&")[1].replace("surveyId=", "");\n        s.clearVars();\n        t && s && (s.eVar99 = r, s.events = void 0 !== s.events ? s.events + ",event211" : "event211", s.linkTrackEvents = void 0 !== s.linkTrackEvents ? s.linkTrackEvents + ",event211" : "event211", s.linkTrackVars = "eVar99,events", s.tl(true, \'o\', \'Feedback\')), n && s && (s.eVar99 = r, s.events = void 0 !== s.events ? s.events + ",event213" : "event213", s.linkTrackEvents = void 0 !== s.linkTrackEvents ? s.linkTrackEvents + ",event213" : "event213", s.linkTrackVars = "eVar99,events", s.tl(true, \'o\', \'Close\')), a && s && (s.eVar99 = r, s.events = void 0 !== s.events ? s.events + ",event212" : "event212", s.linkTrackEvents = void 0 !== s.linkTrackEvents ? s.linkTrackEvents + ",event212" : "event212", s.linkTrackVars = "eVar99,events", s.tl(true, \'o\', \'No Feedback\'))\n    }\n};\n$QantasTag.getValueFromKey("quc", window.location.href) && _satellite.setCookie("usercontext", $QantasTag.getValueFromKey("quc", window.location.href)), $QantasTag.getValueFromKey("QF_Value", window.location.href) && _satellite.setCookie("QF_VALUE", $QantasTag.getValueFromKey("QF_Value", window.location.href)), -1 == window.location.href.indexOf("frequent-flyer/your-account/business-traveller") && -1 == window.location.href.indexOf("tripflow") && -1 == window.location.href.indexOf("qf-booking/dyn/air/booking/") && -1 == window.location.href.indexOf("pl/QFOnline/wds/OverrideServlet") && (document.cookie = "lsl_auth_data=; Path=/; Domain=.qantas.com; Expires=Thu, 01 Jan 1970 00:00:01 GMT;", document.cookie = "lsl_auth_data=; Path=/; Domain=.qantas.com.au; Expires=Thu, 01 Jan 1970 00:00:01 GMT;", document.cookie = "DexLifeCycle=; Path=/; Domain=.qantas.com.au; Expires=Thu, 01 Jan 1970 00:00:01 GMT;", document.cookie = "DexLifeCycle=; Path=/; Domain=.qantas.com; Expires=Thu, 01 Jan 1970 00:00:01 GMT;");\n',language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"//getCookie fn\nfunction getCookie(cname) {\n  var name = cname + \"=\";\n  var decodedCookie = decodeURIComponent(document.cookie);\n  var ca = decodedCookie.split(';');\n  for(var i = 0; i <ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n}\n\nvar oneTrustCookie = getCookie('OptanonConsent');\nif (oneTrustCookie.indexOf('C0004:1') > -1) {\n    try {\n        //Wrapper for gtag() used by event calls\n        function gtag() {\n            gtagLayer.push(arguments);\n        }\n        //Async Load gtag and process\n        var gs, r;\n        r = false;\n        gs = document.createElement('script');\n        gs.type = 'text/javascript';\n        gs.async = true;\n        gs.src = '//static.qantas.com/ams02/a974/39/prod/master/s3/current/google/gtag.min.js';\n        gs.onload = gs.onreadystatechange = function () {\n            if (!r && (!this.readyState || this.readyState == 'complete')) {\n                r = true;\n                window.gtagLayer = window.gtagLayer || [];\n                gtag('js', new Date());\n                gtag('config', 'DC-3811564');\n                gtag('config', 'DC-5325126');\n                //gtag('config', 'DC-5272138');\n                //gtag('config', 'DC-10223416'); //Optus Tag Google Ads\n                gtag('config', 'DC-5272618'); //Accor\n                //gtag('config', 'AW-10797647846'); //Optus Tag for \n                //gtag('config', 'UA-159415457-1'); //GA\n                //gtag('config', 'UA-159415457-2'); //GA\n                if (window.location.host != 'book.qantas.com') {\n                  gtag('config', 'G-R8JNV0W5NK'); //GA4\n                }\n                //gtag('config', 'AW-10944322406'); //Google Adwords JP\n                //gtag('config', 'AW-11127936300'); //Google Discovery JP\n            }\n        };\n        document.getElementsByTagName('head')[0].appendChild(gs);\n    } catch (e) {\n        //do nothing\n    }\n}",language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"try{\n  window.dataLayer = window.dataLayer || [];\n\n  if (typeof dataLayer.getEvents !== 'function') {\n      dataLayer.getEvents = function (name) {\n          if (name) {\n              return digitalData.event.filter(dataLayer.getEventsByName(name));\n          }\n\n          return digitalData.event;\n      }\n  }\n  if (typeof dataLayer.getEventsByName !== 'function') {\n      dataLayer.getEventsByName = function (name) {\n          return function(event) {\n              return event.eventInfo.eventName === name;\n          }\n      }\n  }\n}catch(e){ }",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5333d2b602fa4d6ca074115549cfa00c",name:"Frequent Flyer_printStatement_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_printStatement_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar49",type:"value",value:"%digitalData_status_credits%"},{name:"eVar50",type:"value",value:"%digitalData_credits_to_next_tier%"},{name:"eVar53",type:"value",value:"%digitalData_points_earned%"}],events:[{name:"event27"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL534a38ddcae84b6cb87acf99f725e567",name:"Frequent Flyer_creditCardListing_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_creditCardListing_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("creditCardListing");if(a){a=a[a.length-1];var n="";a.attributes.listing.line_items.forEach((function(e,t){t>0&&(n+=","),e.product.creditCard.forEach((function(e,t){t>0&&t<=25&&(n+=","),t<=25&&(n=(n=(n=(n=(n=n+";"+e.type)+"|"+e.provider)+"|"+e.cardName)+"|"+e.annualFee)+"|"+(e.hasNtdeOffer?"NTDE":""),n+=";1;;;")}))})),n.length>0&&(t.products=n,t.events="prodView,event201",t.linkTrackEvents="prodView,event201",t.linkTrackVars+=",products,events")}var r=$QantasTag.getCustomEvents("ffLoginSuccessCcs");r&&(r=r[r.length-1],t.eVar18=r.attributes.qffNumber,t.eVar44=r.attributes.ffTier,t.eVar80="Frequent Flyer|Logged In",t.events="event112",t.linkTrackVars="eVar18,eVar44,eVar80,events",t.linkTrackEvents="event112")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar5",type:"value",value:"%digitalData_page_category_subCategory4%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar40",type:"value",value:"%digitalData_parting_time%"},{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar60",type:"value",value:"%digitalData_page_pageInfo_pageName%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop5",type:"alias",value:"eVar5"},{name:"prop7",type:"alias",value:"eVar60"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop20",type:"alias",value:"eVar40"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop74",type:"alias",value:"eVar77"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC9ced816c60cc45bfa5f58164d108975f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5350e495a1e14fa3b2217f57c0123bce",name:"manageYourBooking_payment_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_payment_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(digitalData&&digitalData.basket&&digitalData.basket.line_Items[0]&&digitalData.basket.line_Items[0].product&&digitalData.basket.line_Items[0].product.seats){var a="",n="",r="",i="",o="",s="",l="",c="";digitalData.basket.line_Items.forEach((function(e){e.product.seats.forEach((function(e,t){t>0&&(a+=","),n=""==n?"RoundTrip"!=e.travelTripType?e.travelTripType:"Return Trip":n,r=""==r?e.travelType:r,c=""==c?e.travelClass:c,i=""==i?e.bookingType:i,o=""==o?e.flightCarrier:o,s=""==s?e.flightNumber:s,l=""==l?e.fareFamily:l,a+=";Seats:Manage:",a+=e.seatType+"|",a+=e.departureAirportCode+"-"+e.arrivalAirportCode+"|",a+=e.seatCost+";",a+=e.quantity+";",a+=e.cash+";;"}))})),t.products=a,t.eVar7=c,t.prop8="D=v7",t.prop24=i,t.prop55=r,t.prop57=n,t.prop17=digitalData.basket.methodOfPay,t.prop59=o+s,t.prop9=l,t.linkTrackVars+=",eVar7,prop8,prop24,prop55,prop57,prop17,prop59,prop9,products"}else digitalData&&digitalData.basket&&digitalData.basket.line_Items[0]&&digitalData.basket.line_Items[0].product&&digitalData.basket.line_Items[0].product.baggage&&(a="",n="",r="",i="",o="",s="",l="",c="",digitalData.basket.line_Items.forEach((function(e){e.product.baggage.forEach((function(e,t){t>0&&(a+=","),n=""==n?"RoundTrip"!=e.travelTripType?e.travelTripType:"Return Trip":n,r=""==r?e.travelType:r,c=""==c?e.travelClass:c,i=""==i?e.bookingType:i,o=""==o?e.flightCarrier:o,s=""==s?e.flightNumber:s,l=""==l?e.fareFamily:l,a+=";Baggage:Manage:",a+=e.typeOfPurchase+"|",a+=e.departureAirportCode+"-"+e.arrivalAirportCode+";",a+=e.quantity+";",a+=e.cash+";;"}))})),t.products=a,t.eVar7=c,t.prop8="D=v7",t.prop24=i,t.prop55=r,t.prop57=n,t.prop17=digitalData.basket.methodOfPay,t.prop59=o+s,t.prop9=l,t.linkTrackVars+=",eVar7,prop8,prop24,prop55,prop57,prop17,prop59,prop9,products")}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar60",type:"value",value:"%digitalData_myb_basket_pageName%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar60"},{name:"prop74",type:"alias",value:"eVar77"}],events:[{name:"scCheckout"},{name:"event204"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC8d7bac13f9714943b6dd6b10becdd592-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL53fb0f7830094c7d976211d356274957",name:"bp_joinSubmit_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bp_joinSubmit_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event250"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL5434cefc6eb74903932b9a08640538a9",name:"flightBookings_confirmCabinUpsell_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_confirmCabinUpsell_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digitalData_event_cabinUpSells"),void 0!==_satellite.cookie.get("cabin_products")&&""!==_satellite.cookie.get("cabin_products")?_satellite.cookie.set("cabin_products",_satellite.cookie.get("cabin_products")+","+t.products.replace(new RegExp(";","g"),"##"),_satellite.getVar("cookieSetting")||{}):_satellite.cookie.set("cabin_products",t.products.replace(new RegExp(";","g"),"##"),_satellite.getVar("cookieSetting")||{})}},trackerProperties:{events:[{name:"scAdd"},{name:"event163"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7d0c1a0371b64091bc7a388a3011c4b5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL565e7498f5f44b9ba659ce1921357a9c",name:"flightBookings_viewInPoints_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_viewInPoints_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%digitalData.bookingFlow.select.viewIn%"}],events:[{name:"event129"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCd3a8a24164fb4ff6a1275845e7a81d1e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL577ab19d079343adafd35359461210fc",name:"qffMemberAlertsPopups_popupEngage_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"qffMemberAlertsPopups_popupEngage_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("popupEngage");if(a){var n=(a=a[a.length-1]).attributes;t.prop38=n.name+"|"+n.trigger+"|",t.eVar113=n.name+"|"+n.trigger+"|",t.eVar44=n.membershipTier,t.eVar81=n.frequentFlyerPoints,t.eVar49=n.statusCredits,t.eVar182=n.buttonText,t.linkTrackVars="prop38,eVar113,eVar44,eVar81,eVar49,eVar182,events"}}},trackerProperties:{events:[{name:"event190"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL58e1dde795e2416eabb77711722d0efd",name:"Q.com | Custom Event | Home Page 2nd Navigation (Mobile View) | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.NavigationMobile__menuItemLink_ncPnT0Yx",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){
return console.log("2nd nav Check DL value: ",_satellite.getVar("DL | Journey | pageName")),console.log("2nd nav Check direct DL access: ",analyticsData.detail.analyticsData.journey.pageName),console.log(analyticsData),_satellite.setVar("NavHomePage",analyticsData.detail.analyticsData.journey.pageName),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%NavHomePage%",rightOperand:"Fly with the Spirit of Australia | Qantas"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCc4d4d2d36a2e48078e02e2b64a81fb1f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | 2ndNavClickMobile + GlobalEvent%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL591e2733987348d5908e7f4a132da3b8",name:"Flight Status_flightNotificationsRegister_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flight Status_flightNotificationsRegister_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("flightNotificationsRegister");if(a){var n=(a=a[a.length-1]).attributes.notificationTypes,r="";n&&(r+="email-"+n.email+":sms-"+n.sms+":"+n.smsRegionCode+"|"+n.smsCountryCode+":"+n.language);var i=":"+a.attributes.flightNumber+":"+a.attributes.departureAirportCode+"-"+a.attributes.arrivalAirportCode+"|"+a.attributes.departureDate+"|"+a.attributes.arrivalDate+"|",o=a.attributes.flightNotifications,s="";if(o)for(var l=0;l<o.length;l++){var c=o[l];s+=":"+c.arrivalAirportCode+"-"+c.departureAirportCode+"|"+c.arrivalTrack+"-"+c.departureTrack}var u=r+i+s;t.eVar120=u,t.events="event215",t.linkTrackEvents="event215",t.linkTrackVars="eVar120,events"}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL5a10d1ee58ab4c5a949ce0d938fede1b",name:"flightBookings_expressCheckoutConfirm_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_expressCheckoutConfirm_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digital_data_expresscheckout_products"),t.linkTrackVars+=",products"}},trackerProperties:{events:[{name:"event157"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL5b0331e678394d5e81dee73951c07ddf",name:"Checkin_checkinButtonAvailable_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_checkinButtonAvailable_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event93"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL5b15e6955efd430aa74ab870fd1bb3e1",name:"1A/QC - Bottom of page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:60}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:".*(www.qantas.com|book.qantas.com|aem-publish-stg-a243-05-master.qcpaws.qantas.com.au).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(/qf-booking/).*",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(-1!=window.location.href.indexOf("pl/QFServicing/wds/RebookPNRATCServlet")&&(t.events="event127"),-1!=window.location.href.indexOf("pl/QFServicing"))if("undefined"!=typeof digitalData&&void 0!==digitalData.transaction)t.eVar60=document.title+" - "+digitalData.transaction.line_Items[0].product.flights[0].travelTripType+" - "+digitalData.transaction.line_Items[0].product.flights[0].travelType,t.prop7=t.eVar60,t.eVar11=_satellite.getVar("digitalData_transaction_noOfPassengers"),t.eVar25=_satellite.getVar("digitalData.bookingFlow.CONF.currency"),t.eVar27=_satellite.getVar("digitalData_transaction_cardType"),t.eVar32=_satellite.getVar("digitalData_transaction_timestamp"),t.eVar41=_satellite.getVar("digitalData_transaction_daysToDeparture"),t.eVar47=_satellite.getVar("digitalData.bookingFlow.CONF.bookingReference"),t.eVar52=_satellite.getVar("digitalData_transaction_departureDates"),t.eVar72=_satellite.getVar("digitalData_transaction_flight_cityPairs"),t.prop8=_satellite.getVar("digitalData.bookingFlow.transaction.flights.travelClassName"),t.prop9=_satellite.getVar("digitalData_transaction_fareFamily"),t.prop11=t.eVar72,t.prop15=t.eVar52,t.prop24=_satellite.getVar("digitalData.bookingFlow.transaction.flights.bookingType"),t.prop55=_satellite.getVar("digitalData.bookingFlow.transaction.flights.travelType"),t.prop57=_satellite.getVar("digitalData.bookingFlow.transaction.flights[0].travelTripType"),t.prop59=_satellite.getVar("digitalData.transaction.flightCarrierflightNumber"),t.prop63=t.eVar11,t.prop67=_satellite.getVar("digitalData.transaction.changeType"),t.prop71=t.eVar47,t.events="purchase,event105,event106,event124,event123",t.products=_satellite.getVar("myb_purchase_confirmation_products"),t.purchaseID=_satellite.getVar("myb_booking_flow_pruchaseid"),t.currencyCode=_satellite.getVar("digitalData.bookingFlow.CONF.currency");else if("undefined"!=typeof digitalData&&void 0!==digitalData.basket)t.eVar60=document.title+" - "+digitalData.basket.line_Items[0].product.flights[0].travelTripType+" - "+digitalData.basket.line_Items[0].product.flights[0].travelType,t.prop7=t.eVar60,t.eVar6=_satellite.getVar("digitalData.basket.flightCarrierflightNumber"),t.eVar7=_satellite.getVar("digitalData.bookingFlow.basket.flights.travelClassName"),t.eVar14=_satellite.getVar("digitalData.bookingFlow.basket.flights.bookingType"),t.eVar16=_satellite.getVar("digitalData.bookingFlow.basket.fareFamily"),t.prop8=t.eVar7,t.prop9=t.eVar16,t.prop24=t.eVar14,t.prop55=_satellite.getVar("digitalData.bookingFlow.basket.flights.travelType"),t.prop57=_satellite.getVar("digitalData_basket_item_flights_travelTripType"),t.prop59=t.eVar6,t.prop67=_satellite.getVar("digitalData.basket.changeType"),t.events="scCheckout,event104",t.products=_satellite.getVar("myb_basket_flight_products");else if("undefined"!=typeof digitalData&&void 0!==digitalData.listing){var a="";void 0!==digitalData.listing.line_Items[0].product.flights[0].travelTripType?a=document.title+" - "+digitalData.listing.line_Items[0].product.flights[0].travelTripType+" - "+digitalData.listing.line_Items[0].product.flights[0].travelType:void 0!==digitalData.listing.line_Items[0].product.flights[0][0]&&"undefined"!==digitalData.listing.line_Items[0].product.flights[0][0].travelTripType&&(a=document.title+" - "+digitalData.listing.line_Items[0].product.flights[0][0].travelTripType+" - "+digitalData.listing.line_Items[0].product.flights[0][0].travelType),t.eVar60=a,t.prop7=t.eVar60,t.eVar12=_satellite.getVar("digitalData_listing_flexibleWithFlights_myb"),t.eVar13=_satellite.getVar("digitalData_listing_item_flights_departureDates"),t.eVar39=_satellite.getVar("digitalData_listing_changeType"),t.eVar55=_satellite.getVar("digitalData_basket_item_flights_travelType_myb"),t.eVar66=_satellite.getVar("digitalData_basket_item_flights_travelTripType_myb"),t.eVar71=_satellite.getVar("digitalData_listing_cityPairs_myb"),t.prop10=t.eVar71,t.prop13=t.eVar13,t.prop55=t.eVar55,t.prop57=t.eVar66,t.prop67=t.eVar39,t.events="event101,prodView",t.products=_satellite.getVar("myb_flight_products")}}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar5",type:"value",value:"%digitalData_page_category_subCategory4%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar74",type:"value",value:"%city_pair_flight_deals%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop5",type:"alias",value:"eVar5"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop61",type:"value",value:"%userContext.departurePort%"}]}},timeout:2e3,delayNext:!0}]},{id:"RL5c36b67642cf4d6f8e2feb3cf29e00f8",name:"FL - Loyalty - BTL - NTDE - Cardholders Bonus - Register",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".style-guide__button--solid",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-july.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-july-email.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC9c6bf83be07c44c19a951c1492ae0097-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5e04a70e343e4026ae0719df07a2f8ac",name:"flightBookings_removeCabinUpsell_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_removeCabinUpsell_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.cookie.get("cabin_products").replace(new RegExp("##","g"),";"),_satellite.cookie.remove("cabin_products")}},trackerProperties:{events:[{name:"event164"},{name:"scRemove"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCaca8ccc22e51481a85c2dd474e9b1d5e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5e19d5ed26774568b8d6a2a190b99ca9",name:"Frequent Flyer_joinFrequentFlyerStart_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_joinFrequentFlyerStart_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/frequent-flyer/discover-and-join/join.html",valueIsRegex:!0},{value:"/frequent-flyer/discover-and-join/join-now.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digitalData_fflyer_joinStart"),t.linkTrackVars+=",products"}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar5",type:"value",value:"%digitalData_page_category_subCategory4%"},{name:"eVar100",type:"value",value:"%digitalData_visitor_version%"},{name:"eVar40",type:"value",value:"%digitalData_parting_time%"},{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar68",type:"value",value:"%loadtime%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop74",type:"alias",value:"eVar77"},{name:"prop57",type:"alias",value:"eVar66"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop5",type:"alias",value:"eVar5"},{name:"prop20",type:"alias",value:"eVar40"}],events:[{name:"prodView"},{name:"event41"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL5e39cefd98b7462fa45c36d2f5cb61d5",name:"Q.com & Booking Engine | Custom Event | Error Events | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"qantas.com",valueIsRegex:!0},{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventType%",rightOperand:"interaction"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%DL | Event | errorMessage%",rightOperand:"^(?!\\s*$).+"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Error + GlobalEvent%",type:"Error",instanceName:"alloy"},timeout:2e3,delayNext:!0}]},{id:"RL5f2666fea5a143b995a2521e8fc096ed",name:"00 Lib - Library Loaded - 51 - Analytics toolkit|DTM deprecated variable initialisation - FLICKER TESTING",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:51}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"/**\nwindow.qfAnalyticsToolkit = {};\nwindow.qfAnalyticsToolkit.loadScriptAsync = function (src, callback) {\n    var s, r;\n    r = false;\n    s = document.createElement('script');\n    s.type = 'text/javascript';\n    s.async = true;\n    s.src = src;\n    s.onload = s.onreadystatechange = function () {\n        if (!r && (!this.readyState || this.readyState == 'complete')) {\n            r = true;\n            callback();\n        }\n    };\n    document.getElementsByTagName('head')[0].appendChild(s);\n};\n**/",language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if (typeof _satellite === 'object') {\n    if (typeof _satellite.browserInfo == 'undefined') {\n        _satellite.browserInfo = {};\n        if (typeof _satellite.browserInfo.deviceType == 'undefined') {\n            _satellite.browserInfo.deviceType = 'DTM deprecated var';\n        }\n    }\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL5fae42e35be341f48a9cca45ac13764d",name:"Custom Event | Saved Cards | Vault | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return-1!=e.detail.analyticsData.event.eventAction.indexOf("CTA Click")&&-1!=e.detail.analyticsData.journey.journeyName.indexOf("Top-up Points | Qantas Frequent Flyer")}},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/frequent-flyer/my-account/points-activity/top-up-points.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar44",type:"value",value:"%Data Layer | QFFtier%"},{name:"eVar45",type:"value",value:"%Data Layer | QFFID%"},{name:"eVar152",type:"value",value:"%Data Layer | eVar152%"},{name:"eVar153",type:"value",value:"%Data Layer | eVar153%"},{name:"eVar161",type:"value",value:"%Data Layer | Category%"},{name:"eVar162",type:"value",value:"%Data Layer | Action%"},{name:"eVar163",type:"value",value:"%Data Layer | Label%"},{name:"eVar164",type:"value",value:"%Data Layer | Journey Name%"},{name:"eVar165",type:"value",value:"%Data Layer | Journey Step%"},{name:"eVar188",type:"value",value:"%Data Layer | Card Saved%"}],props:[{name:"prop54",type:"value",value:"%Data Layer | QFFtier%"}],events:[{name:"event313",value:"%Data Layer | Journey Revenue%"},{name:"event314",value:"%Data Layer | Number of Cards%"}],pageURL:"%Data Layer | Page URL%",pageName:"%Data Layer | Page Name%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%Data Layer | Category%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL60095dfdd56643af89a9f106cf82a6a0",name:"Frequent Flyer_applyFilters_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_applyFilters_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("applyFilters");if(a){a=a[a.length-1];var n="";a.attributes.listing.line_items.forEach((function(e,t){t>0&&(n+=","),e.product.creditCard.forEach((function(e,t){t>0&&t<=25&&(n+=","),t<=25&&(n=(n=(n=(n=n+";"+e.type)+"|"+e.provider)+"|"+e.cardName)+"|"+e.annualFee,n+=";1;;;")}))})),n.length>0&&(t.products=n,t.events="event199",t.linkTrackEvents="event199",t.linkTrackVars="products,events")}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCb6eb692794674576ab6a05fd3e0c7ba3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL605ee1fb78b0475dbc72f3bf7d4f03c1",name:"FL - FINDER NTDE - new cardholders",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-affiliate-finder-may.html",valueIsRegex:!1}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC8f04640f98b64e168d29a32f4f4c22e0-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL60a1a4be4e6949c2bc96d1238bdb60d1",name:"Cars_carBookingSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Cars_carBookingSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar33",type:"value",value:"%cars_formData%"}],events:[{name:"event110"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"au/en/book-a-trip/cars.html",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL61f034d7e868442295672fe24643196b",name:"flightBookings_multiCurrencyPricing_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_multiCurrencyPricing_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar140",type:"value",value:"%digitalData.multiCurrencySelection%"}],events:[{name:"event117"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL622f3838b9dd430aad0b1f851360e8a1",name:"Frequent Flyer_securityQuestions_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_securityQuestions_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/frequent-flyer/discover-and-join/join.html",valueIsRegex:!0},{value:"/frequent-flyer/discover-and-join/join-now.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digitalData_fflyer_joinStart"),t.linkTrackVars+=",products"}},trackerProperties:{events:[{name:"event44"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL62b4d1902b0942e2b20e9367304f1266",name:"flightBookings_sortBy_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_sortBy_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{eVars:[{name:"eVar54",type:"value",value:"%digitalData.bookingFlow.select.sortOrderBy%"}],events:[{name:"event125"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCeefea0c71215408da908f0e99440d058-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL633100fa009a43bba623530ff3fa8212",name:"flightBookings_confirmPassengerSeats_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_confirmPassengerSeats_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{eVars:[{name:"eVar137",type:"value",value:"%digitalData.event.attributes.autoSeatSelection%"}],events:[{name:"event153"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC40c66df20657433dad5d4e8a697767c2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL643df51da3cc428c9804e997b38d4fb2",name:"Booking Engine Errors",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%digitalData.Error.Event.Book.Name%",rightOperand:".*(bookingEngineFail).*"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar156",type:"value",value:"%digitalData.Error.Event.Book.Name%"},{name:"eVar157",type:"value",value:"%digitalData.Error.Event.Book.Code%"},{name:"eVar158",type:"value",value:"%digitalData.Error.Event.Book.Message%"},{name:"eVar159",type:"value",value:"%digitalData.Error.Event.Book.LocationStep%"},{name:"eVar160",type:"value",value:"%digitalData.Error.Event.Book.LocationURL%"}],events:[{name:"event32"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC2c6f8e2a28114c1c8284b898d4bd4f78-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL659f63ace2d246e686e38b9e2d93c0c1",name:"QC / UK - Amazon - Onload",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"usercontext",value:"country#GB",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(/en.html).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC332b226fd24940089afd276ae07084c5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL65e0f7f685e94dd8b0f2a6f139b3224f",name:"PERSO: Registration Confirmation Pages",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.href;return(-1!==e.indexOf("/au/en/frequent-flyer/member-specials/bonus-qantas-points")||e.indexOf("/au/en/frequent-flyer/member-specials/campaigns/bonus-qantas-points")||e.indexOf("/au/en/frequent-flyer/member-specials/campaigns/50-percent-status-credits")||e.indexOf("/au/en/frequent-flyer/member-specials/campaigns/earn-50-percent-more-qantas-points"))&&-1!==e.indexOf("-registration-confirmation.html")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<style type="text/css" data-comment="This is coming from the \'Personalisation Registration Confirmation Pages\' Page Load Rule in DTM.">\n  .flight-form div .only-show-for-tablet-desktop > :first-child,\n  .redeem-link-container {\n    display: none;\n  }\n</style>',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL65e6564ab5524484a93380f859aa34f0",name:"00 Lib - Bottom - Migrated from DTM: Adobe Analytics - Send Beacon on every page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return null!=window.location&&null!=window.location.href&&(-1!=window.location.href.indexOf("qf-booking/dyn/air/booking/GERR")||-1!=window.location.href.indexOf("/qf-booking/dyn/air/booking/FSDC"))||-1!=window.location.href.indexOf("/qf-booking/dyn/air/booking/DisplayGenericErrorAfterRedirectionServlet")||(null==window.location||null==window.location.href||!window.location.href.match(/.*(\/qf-booking\/|\/qf-mybooking\/|\/checkin\/olci\/|\/earning-points\/cards-banking\/compare-credit-cards.html).*/))&&-1==navigator.userAgent.indexOf("bot")}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL670dc7982799469aa3ea13f6acfd5b88",name:"Checkin_continueButtonAvailable_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_continueButtonAvailable_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event92"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL67ce9d322181496f812ce95e2f917f6c",name:"qffProfileWidgetButton_connect_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"qffProfileWidgetButton_connect_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("connect");if(a){var n=(a=a[a.length-1]).attributes;t.prop38=n.name+"|"+n.buttonText+"|",t.eVar113=n.name+"|"+n.buttonText+"|",t.eVar44=n.membershipTier,t.eVar81=n.frequentFlyerPoints,t.eVar49=n.statusCredits,t.eVar182=n.buttonText,t.linkTrackVars="prop38,eVar113,eVar44,eVar81,eVar49,eVar182,events"}}},trackerProperties:{events:[{name:"event23"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL683ae03f148c4a84b97952ebbd15224e",name:"agencyConnect_registrationConfirmation_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"agencyConnect_registrationConfirmation_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event207"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL69d1c8beb7af4ed6a6432dce58c54249",name:"Error",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%digitalData_event_error%",rightOperand:".*(Fail|Error).*"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar79",type:"value",value:"%digitalData_event_error%"}],events:[{name:"event109"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL6cba063f9c52414dbade2a2faf37e2bf",name:"extendedSearch_extendedSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"extendedSearch_extendedSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar60",type:"value",value:"%digitalData.bookingFlow.listing.pagename%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar5",type:"value",value:"%digitalData_page_category_subCategory4%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"}],props:[{name:"prop7",type:"alias",value:"eVar60"},{name:"prop74",type:"alias",value:"eVar77"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop5",type:"alias",value:"eVar5"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop12",type:"alias",value:"eVar31"}],events:[{name:"event169"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,
source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7c8b6cb09d844067a1c11993c556bb6e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC9401f8aba61e431da6e1eadf86ae5b2a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6d774bfd0f9047568ffb845b7eba51d4",name:"QC - Search - URL - Clicked",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".sli_list_content a",bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["resultspage.com"]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){null!=this&&void 0!==this&&(_satellite.notify("tracking evar for help article",1),t.eVar86=this.title,t.linkTrackVars="eVar86")}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL6e10057f49aa4852a7a14c86cc1c40ab",name:"flightBookings_pointsPlusPaySelection_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_pointsPlusPaySelection_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.eVar128=_satellite.getVar("digitalData.bookingFlow.FDRF.PPPNewPoints"),t.eVar129=_satellite.getVar("digitalData.bookingFlow.FDRF.PPPNewCash"),t.eVar130=_satellite.getVar("digitalData.bookingFlow.FDRF.PPPChangePoints"),t.eVar131=_satellite.getVar("digitalData.bookingFlow.FDRF.PPPChangeCash"),t.linkTrackVars="eVar128,eVar129,eVar130,eVar131,events"}},trackerProperties:{events:[{name:"event115"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL6eec6d8b29d4422d902eeb2db1c08cd9",name:"Page Top | Global | OneTrust Script",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:48}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(_satellite.getVar("alt_cam").indexOf("travelapp")>-1||_satellite.getVar("alt_cam_session").indexOf("travelapp")>-1||/\/travel\/(airlines|fflyer)\//.test(window.location.href)||(/^book\.qantas\.com|wav\.ap1\.amadeus\.com|test-qf\.dev\.amadeus\.net$/.test(window.location.host)?/^.+(&client=QTA).+$/.test(document.referrer):/^.+(&client=QTA).+$/.test(window.location.href)))}},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:".*(.saas\\.amadeus\\.com|.paas\\.amadeus\\.net|.aem\\.qantas\\.com)",valueIsRegex:!0},{value:"qantas-1481196-en-au.stage.sr-attrax.com"}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC321d2fc9046e4737a7a8fba7f5d10e13-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6fe92b06f07547c3a471324747012b20",name:"00 Lib - Window Loaded",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCf56b55cecaa14125a093762df20eeee9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC087815ea1f9544b89f3697a3c188d5ba-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCdc8200b9238b423c98dbb77f5f94b32e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL708a0e0f08bd4959b4ce868cb521c7f0",name:"Qualtrics Snippet QDPP",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/agencyconnect/au/en/qantas-ndc/qantas-distribution-platform-portal/qantas-distribution-platform-portal-help-and-support.html"},{value:"/agencyconnect/au/en/qantas-ndc/qantas-distribution-platform-portal/qantas-distribution-platform-portal-help-and-support/qdpp-secured/get-in-touch-with-the-portal-support-team.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC6c4c282034f54e1f9cb74d475935995e-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL70aef359cf5d4d35ab63714450ffff64",name:"extendedSearch_search_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"extendedSearch_search_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event171"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL7104b9e09e9648048de7450de21e9c99",name:"Booking Engine | MYB - Additional Baggage | Order Confirmation | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventCategory%",rightOperand:"Manage Your Booking \u2013 Additional Baggage"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | cleanURL%",rightOperand:"qf-mybooking/dyn/air/mybooking/COFE"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | OrderConfirmation + GlobalEvent%",type:"commerce.purchases",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL71c865cf2ccd49b4a319b3bbe7bd6fd0",name:"confirm_baggage",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"digitalData_baggage_products"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5006c3fd13d34844bae9147e1eb765c9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL71f433f5966c4f34a3cf95460e2b9ceb",name:"Booking Engine | Custom Event | Add Seat Button Click | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button.add-seat-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"qf-booking/dyn/air/booking/ALPI",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | AddSeat + GlobalEvent%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL7439bb2d7b4b41a5b5629d1d414f9bec",name:"QC / GB - Onload",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"usercontext",value:"country#GB",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(/en.html|/en/destinations/australia.html|/en/destinations/new-zealand.html|/en/destinations/south-pacific.html|/en/destinations/asia.html|/en/destinations/middle-east.html).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC528ca482163d4c5c81963fceb567f76f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7689656f1b0841fb8165816e556166e6",name:"cruises_cruisesBookingSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"cruises_cruisesBookingSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar33",type:"value",value:"%cruise_formData%"}],events:[{name:"event110"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"au/en/book-a-trip/cruises.html",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL76cb7ee960804350b2e2f76b3ad1647c",name:"creditVoucher_click_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"creditVoucher_click_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar143",type:"value",value:"%digitalData.event.attributes.buttonText%"}],events:[{name:"event118"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL76da95ba8305436891423855d41a8098",name:"Celebrus Library ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"/au/en/frequent-flyer/earn-points/compare-credit-cards.html"==location.pathname}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC99e7a873d35f41efa042b24ea9fd1daa-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL76e641b31155438693146a5d6d0ce6e2",name:"Sowaddi test",events:[],conditions:[],actions:[]},{id:"RL77678d0f35444b74926caaa43699b61a",name:"Frequent Flyer_additionalDetails_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_additionalDetails_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/frequent-flyer/discover-and-join/join.html",valueIsRegex:!0},{value:"/frequent-flyer/discover-and-join/join-now.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digitalData_fflyer_joinStart"),t.linkTrackVars+=",products"}},trackerProperties:{events:[{name:"event45"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL779d6f2408e244a999f5d8cbb4f54fd0",name:"PartnerLinkingTab",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Partner_Tab_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-stg-a243-05-master",valueIsRegex:!0},{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCf6f3c05a030c42bba457cf4f53217cc8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7a21928ab7bb46b1a9a908a1e62f73d4",name:"Loyalty - NAB Personal Loan- Page View",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"\\/au\\/en\\/frequent\\-flyer\\/member\\-offers\\/nab\\-personal\\-loans\\.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC4ba14a204a7243afb8c7c9ef727c41ec-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL7a2b3764f7b44fc4aef69c1ecad1d0d4",name:"wifi.qantas pageload",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ifc_portal_route_change"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar60",type:"value",value:"%digitalData_page_pageInfo_pageName%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"}],props:[{name:"prop74",type:"alias",value:"eVar77"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop7",type:"alias",value:"eVar60"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop3",type:"alias",value:"eVar3"}],pageName:"%pageName%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL7c21fa7427f242d9a7b152872bf59db1",name:"Frequent Flyer_contactDetails_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_contactDetails_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/frequent-flyer/discover-and-join/join.html",valueIsRegex:!0},{value:"/frequent-flyer/discover-and-join/join-now.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digitalData_fflyer_joinStart"),t.linkTrackVars+=",products"}},trackerProperties:{events:[{name:"event43"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL7e18338ee13b4651934b593a862c17d7",name:"flightBookings_applyFilters_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_applyFilters_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData.event.attributes.flightFiltersApplied%",rightOperand:"Yes"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar30",type:"value",value:"%filterWidgetSelection%"}],events:[{name:"event199"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL7e2a8e3dd05e47a1b0cc9c263e16ab57",name:"Booking Engine | Custom Event | Seat Map LegRoom Seating | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"i.icon.icon-seatmap-cell.standard-cell.icon-legroom-seat",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | pageURL%",rightOperand:"qf-booking/dyn/air/booking/ALPI"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"Extra Legroom Seat"},{name:"eVar161",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar162",type:"value",value:"CTA Click"},{name:"eVar164",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar165",type:"value",value:"CTA Click"}],events:[{name:"event145",value:"1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Extra Legroom Seat",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | SeatMap - ExtraLegroom%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL7e68836664f44c2e8abe7e53911e3f8a",name:"PERSO: enable LOCAL",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.href;return e.indexOf("perso2")>-1||e.indexOf("qantas.experiencecloud.adobe.com/content/mac/qantas/target")>-1}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module \'"+g+"\'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("../../pages/home/personalisation/Services/slidePlaceholder"),e=function(){window.initPersonalisation?window.initPersonalisation():window.shouldInitPersonalisation=!0};window.adobe.target.getOffer({mbox:"carousel-target-new",success:function(a){try{if(window.isPersoDtmScriptLoaded=!0,a.length>0){adobe.target.applyOffer({mbox:"carousel-target-new",offer:a});var b=a[0].content[0].cardDefinitionId;b&&b.length>0&&(window.guestNbaCardId=b[0])}e()}catch(c){console.error("[enable-carousel-target-new] [getOffer.success] Catch called: ",c),d.removeSlidePlaceholder()}},error:function(a,b){console.error("[Home AU EN - Top of page] [carousel-target-new] ",a,b),d.removeSlidePlaceholder()},timeout:2500}),window.adobe.target.getOffer({mbox:"carousel-target-second",success:function(a){a&&a.length>0&&adobe.target.applyOffer({mbox:"carousel-target-second",offer:a})},error:function(a,b){console&&console.log&&(console.log(a),console.log(b))},timeout:1500}),window.adobe.target.getOffer({mbox:"carousel-target-third",success:function(a){a&&a.length>0&&adobe.target.applyOffer({mbox:"carousel-target-third",offer:a})},error:function(a,b){console&&console.log&&(console.log(a),console.log(b))},timeout:1500})},{"../../pages/home/personalisation/Services/slidePlaceholder":2}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.removeSlidePlaceholder=void 0;var d=a("../constants");c.removeSlidePlaceholder=function(){var a=document.getElementById(d.SLIDE_PLACEHOLDER_ID);a&&a.classList.add(d.SLIDE_FADE_OUT);var b=document.createElement("style");b.innerHTML="\\n    .homepage-promotion__content-wrap { display: block !important; }\\n    .homepage-promotion__image-wrap { display: block !important; }\\n  ",b.id=d.SHOW_CONTENT_AND_IMAGE_WRAP_ID,document.head.appendChild(b)}},{"../constants":3}],3:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.SLIDE_PLACEHOLDER_ID="slide-placeholder",c.SLIDE_FADE_OUT="slide-fade-out",c.QANTAS_DOT_COM="qantas.com",c.HCP="HCP",c.YAC="YAC",c.ABANDON_CART="abandon-cart",c.PERSO_TACTICAL_PRICE="perso-tactical-price",c.PERSO_SLIDE_POSITION="PERSO_SLIDE_POSITION",c.VISIT_ABANDON="visitAbandon",c.IS_AFTER_MIDNIGHT="isAfterMidnight",c.IS_BEFORE_MIDNIGHT="isBeforeMidnight",c.SHOW_CONTENT_AND_IMAGE_WRAP_ID="show-content-and-image-wrap-id",c.CAROUSEL_LOADER_ID="enable-carousel-target-new-show-loader",c.STAGING="https://staging.unique.qantas.com/hub-hybrid-api/v1",c.PRODUCTION="https://services.unique.qantas.com/hub-hybrid-api/v1",c.PERSO_TYPE="perso",c.GUEST_TYPE="guest",c.DAYS="D",c.HOURS="H",c.MINS="M",c.SECONDS="S",c.ZEROS="OO",c.SALE_ENDS_LABEL="HURRY, ENDS IN",c.SALE_ENDED_LABEL="SALE ENDED"},{}]},{},[1]);',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL80326ec69e1e4bc9bde3c83e852d1094",name:"carBookings_selectCar_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"carBookings_selectCar_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("selectCar");if(a)if(void 0!==(a=a[a.length-1]).attributes.car){var n=a.attributes.car.provider+"|"+a.attributes.car.carGroup;t.eVar96=n,t.products=";Cars:New:"+n+";1;;;",t.events="event196",t.linkTrackEvents="event196",t.linkTrackVars="eVar96,products,events"}else a=a.attributes[0].product.cars[0],t.products=";Cars:New:"+a.provider+"|"+a.carGroup+";1;;;",t.events="event197",t.linkTrackEvents="event197",t.linkTrackVars="products,events",localStorage.setItem("carsFired",!0)}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC0f399d79e6a44f1e81da5ad782c6aec0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL82a86f4863bd42678aa5333bc1257cc7",name:"Booking Engine | Custom Event | All Events | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0},{value:"uat.digital.airline.amadeus.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%event.detail.analyticsData.event.eventAction%",rightOperand:"Add to Cart"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%event.detail.analyticsData.event.eventAction%",rightOperand:"Remove from Cart"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.detail.analyticsData.event.eventAction%",rightOperand:"Payment Screen Loaded"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%event.detail.analyticsData.event.eventAction%",rightOperand:"Order Confirmation"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"SEFE page displayed"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"COFE page displayed"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Checkout"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Cancel Flights Confirmation Page"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%DL | Event | errorMessage%",rightOperand:"^(?!\\s*$).+"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Seats Add to Cart"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Seats Payment Screen Loaded"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Seats Payment Confirmed"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCd854230a770e4bfab7fcdd3bc3d4724b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | GlobalEvent + BEPageView%",type:"web.webpagedetails.pageViews",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL82cb74ed15bd42758f39b724defae4aa",name:"QAC - Login - Bottom of page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(\\/agents\\/dyn\\/qf\\/|\\/agents\\/do\\/dyn\\/qf\\/).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.thisClkData}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){window.s&&(t.eVar18="Tradesite Agent|"+$QantasTag.getValueFromKey("loginId",window.thisClkData))}}},timeout:2e3,delayNext:!0}]},{id:"RL82f463df3f404c5ab277dbb71b31e7f8",name:"Booking Engine | Custom Event | Seat Map Down Buttons | [AA] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'button[name="seatmap-next"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | pageURL%",rightOperand:"qf-booking/dyn/air/booking/ALPI"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"Down Button"},{name:"eVar161",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar162",type:"value",value:"CTA Click"},{name:"eVar164",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar165",type:"value",value:"CTA Click"}],events:[{name:"event145",value:"1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Down Button",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | SeatMap - DownButtons%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL83945b22870a42459fbcd018e7adbea4",name:"Q.com | Custom Event | Homepage Flight Widget Tab Click (Web) | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[role="tab"][class="cmp-tabs__tab"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("XDM | FlightWidgetTab",this.innerText.trim()),!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | FlightWidgetTab + GlobalEvent%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL846951f47b46459d93072d9f20228b95",name:"flightBookings_showAllFlights_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_showAllFlights_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{events:[{name:"event151"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC46d43cd4f46e4c799d03078163e7bdcb-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL865dd91a2b5344c9bedb4a8e6442f500",name:"3PTY: Search - Top of page",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["resultspage.com"]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar8",type:"value",value:"%siteSearchString%"},{name:"eVar84",type:"value",value:"%siteSearchResults%"},{name:"eVar85",type:"value",value:"%siteSearchPageDepth%"}],props:[{name:"prop64",type:"value",value:"%siteSearchString%"}],channel:"Search"}},timeout:2e3,delayNext:!0}]},{id:"RL8772a6881e324148aa1e8425a7241ede",name:"QC - FF - Onload",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(\\/frequent-flyer\\/discover-and-join\\/join.html|\\/QantasClubRenew|\\/QantasClubJoin).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC8332279e2796414990238d7aead226a3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL88240aada0704bbb9f3915a5127de497",name:"extendedSearch_viewInPoints_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"extendedSearch_viewInPoints_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%digitalData.bookingFlow.select.viewIn%"}],events:[{name:"event129"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC0f4cd34a02fb4776afc6d0baf02be110-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL88b5921ce2574bc987092190bca7ebd0",name:"PERSO: Registration",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.href,t=window.location.search;if(-1!==t.indexOf("disablePersonalisation_registrationDTMRule"))return!1;var a=(-1!==e.indexOf("/au/en/frequent-flyer/member-specials/bonus-qantas-points")||-1!==e.indexOf("/au/en/frequent-flyer/member-specials/campaigns/bonus-qantas-points"))&&-1!==t.indexOf("per")&&-1===e.indexOf("-registration-confirmation"),n=(-1!==e.indexOf("//www.qantas.com/fflyer/do/dyns/auth/campaign/startconfirm")||-1!==e.indexOf("//www.qantas.com/fflyer/dyn/memberSpecials"))&&-1!==t.indexOf("cardId=");return a||n}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module \'"+o+"\'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){console.log("[HUB] Register script loaded");window.hub_call_feedback_first_on=function(selector,api_base_url,callback){console.log("[HUB] Using selector: "+selector);console.log("[HUB] using HUB Hybrid API: "+api_base_url);var domt=require("domtastic");var query_string=require("query-string");var req=require("superagent");var query=query_string.parse(location.search);if(Object.keys(query).includes("cardId")){var card_id=query.cardId;var button=domt(selector);if(button){button.off("click");button.on("click",function(event){console.log("[HUB] Button ON CLICK");var member_id,needle_token;console.log("[HUB] Verifying user");if(window&&window.qff_auth&&window.qff_auth.isAuthenticated()){member_id=window.qff_auth.getMemberId();needle_token=window.qff_auth.getAccessToken();console.log("[HUB] Calling feedback endpoint on HUB Hybrid API");console.log("[HUB] Member: "+member_id+", Card: "+card_id);req.post(api_base_url+"/v1/hub/cards/"+card_id+"/feedback").send({data:{memberId:member_id,feedback:"Register",value:1,channel:"qantas.com",presentationInfo:{cardPosition:0,cardsQuantity:0},memberInfo:{}}}).set("Authorization","Bearer "+needle_token).end(function(err,res){if(!err){console.log("[HUB] Executing callback");callback()}else{console.log("[HUB] An error occured on the feedback request")}})}else{console.log("[HUB] Unauthenticated user")}event.preventDefault()})}else{console.log("[HUB] Button not found")}}else{console.log("[HUB] Card id is not present")}};window.hub_call_feedback_first_on(\'a[href="javascript: document.registerForCampaignForm.submit()"]\',"https://services.unique.qantas.com/hub-hybrid-api",function(){console.log("[HUB] callback: document.registerForCampaignForm.submit()");document.registerForCampaignForm&&document.registerForCampaignForm.submit()});window.hub_call_feedback_first_on(".button","https://services.unique.qantas.com/hub-hybrid-api",function(){console.log("[HUB] callback: AEM page.");window.location.href=document.querySelector(".button").href})},{domtastic:4,"query-string":6,superagent:9}],2:[function(require,module,exports){if(typeof module!=="undefined"){module.exports=Emitter}function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){function on(){this.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks["$"+event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks["$"+event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],3:[function(require,module,exports){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="\ufffd";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},{}],4:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.$=factory()})(this,function(){"use strict";var win=typeof window!=="undefined"?window:{};var toArray=function toArray(collection){var length=collection.length;var result=new Array(length);for(var i=0;i<length;i++){result[i]=collection[i]}return result};var each=function each(collection,callback,thisArg){var length=collection.length;if(length!==undefined&&collection.nodeType===undefined){for(var i=0;i<length;i++){callback.call(thisArg,collection[i],i,collection)}}else{callback.call(thisArg,collection,0,collection)}return collection};var extend=function extend(target){for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){sources[_key-1]=arguments[_key]}sources.forEach(function(src){for(var prop in src){target[prop]=src[prop]}});return target};var uniq=function uniq(collection){return collection.filter(function(item,index){return collection.indexOf(item)===index})};var isPrototypeSet=false;var reFragment=/^\\s*<(\\w+|!)[^>]*>/;var reSingleTag=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/;var reSimpleSelector=/^[.#]?[\\w-]*$/;var domtastic=function domtastic(selector){var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:document;var collection=void 0;if(!selector){collection=document.querySelectorAll(null)}else if(selector instanceof DOMtastic){return selector}else if(typeof selector!=="string"){collection=selector.nodeType||selector===window?[selector]:selector}else if(reFragment.test(selector)){collection=createFragment(selector)}else{context=typeof context==="string"?document.querySelector(context):context.length?context[0]:context;collection=querySelector(selector,context)}return wrap(collection)};var $$2=domtastic;var find=function find(selector){var nodes=[];each(this,function(node){return each(querySelector(selector,node),function(child){if(nodes.indexOf(child)===-1){nodes.push(child)}})});return $$2(nodes)};var matches=function(){var context=typeof Element!=="undefined"?Element.prototype:win;var _matches=context.matches||context.matchesSelector||context.mozMatchesSelector||context.msMatchesSelector||context.oMatchesSelector||context.webkitMatchesSelector;return function(element,selector){return _matches.call(element,selector)}}();var querySelector=function querySelector(selector,context){var isSimpleSelector=reSimpleSelector.test(selector);if(isSimpleSelector){if(selector[0]==="#"){var element=(context.getElementById?context:document).getElementById(selector.slice(1));return element?[element]:[]}if(selector[0]==="."){return context.getElementsByClassName(selector.slice(1))}return context.getElementsByTagName(selector)}return context.querySelectorAll(selector)};var createFragment=function createFragment(html){if(reSingleTag.test(html)){return[document.createElement(RegExp.$1)]}var elements=[];var container=document.createElement("div");var children=container.childNodes;container.innerHTML=html;for(var i=0,l=children.length;i<l;i++){elements.push(children[i])}return elements};var wrap=function wrap(collection){if(!isPrototypeSet){DOMtastic.prototype=$$2.fn;DOMtastic.prototype.constructor=DOMtastic;isPrototypeSet=true}return new DOMtastic(collection)};var DOMtastic=function DOMtastic(collection){var i=0;var length=collection.length;for(;i<length;){this[i]=collection[i++]}this.length=length};var selector=Object.freeze({$:$$2,find:find,matches:matches,DOMtastic:DOMtastic});var ArrayProto=Array.prototype;var every=ArrayProto.every;var filter=function filter(selector,thisArg){var callback=typeof selector==="function"?selector:function(element){return matches(element,selector)};return $$2(ArrayProto.filter.call(this,callback,thisArg))};var forEach=function forEach(callback,thisArg){return each(this,callback,thisArg)};var each$1=forEach;var indexOf=ArrayProto.indexOf;var map=ArrayProto.map;var pop=ArrayProto.pop;var push=ArrayProto.push;var reduce=ArrayProto.reduce;var reduceRight=ArrayProto.reduceRight;var reverse=function reverse(){return $$2(toArray(this).reverse())};var shift=ArrayProto.shift;var some=ArrayProto.some;var unshift=ArrayProto.unshift;var array=Object.freeze({every:every,filter:filter,forEach:forEach,each:each$1,indexOf:indexOf,map:map,pop:pop,push:push,reduce:reduce,reduceRight:reduceRight,reverse:reverse,shift:shift,some:some,unshift:unshift});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var BaseClass=function(api){var BaseClass=function BaseClass(){_classCallCheck(this,BaseClass);DOMtastic.call(this,$$2.apply(undefined,arguments))};extend(BaseClass.prototype,api);return BaseClass};var isNumeric=function isNumeric(value){return!isNaN(parseFloat(value))&&isFinite(value)};var camelize=function camelize(value){return value.replace(/-([\\da-z])/gi,function(matches,letter){return letter.toUpperCase()})};var dasherize=function dasherize(value){return value.replace(/([a-z\\d])([A-Z])/g,"$1-$2").toLowerCase()};var css=function css(key,value){var styleProps=void 0,prop=void 0,val=void 0;if(typeof key==="string"){key=camelize(key);if(typeof value==="undefined"){var element=this.nodeType?this:this[0];if(element){val=element.style[key];return isNumeric(val)?parseFloat(val):val}return undefined}styleProps={};styleProps[key]=value}else{styleProps=key;for(prop in styleProps){val=styleProps[prop];delete styleProps[prop];styleProps[camelize(prop)]=val}}each(this,function(element){for(prop in styleProps){if(styleProps[prop]||styleProps[prop]===0){element.style[prop]=styleProps[prop]}else{element.style.removeProperty(dasherize(prop))}}});return this};var css$1=Object.freeze({css:css});var forEach$1=Array.prototype.forEach;var append=function append(element){if(this instanceof Node){if(typeof element==="string"){this.insertAdjacentHTML("beforeend",element)}else{if(element instanceof Node){this.appendChild(element)}else{var elements=element instanceof NodeList?toArray(element):element;forEach$1.call(elements,this.appendChild.bind(this))}}}else{_each(this,append,element)}return this};var prepend=function prepend(element){if(this instanceof Node){if(typeof element==="string"){this.insertAdjacentHTML("afterbegin",element)}else{if(element instanceof Node){this.insertBefore(element,this.firstChild)}else{var elements=element instanceof NodeList?toArray(element):element;forEach$1.call(elements.reverse(),prepend.bind(this))}}}else{_each(this,prepend,element)}return this};var before=function before(element){if(this instanceof Node){if(typeof element==="string"){this.insertAdjacentHTML("beforebegin",element)}else{if(element instanceof Node){this.parentNode.insertBefore(element,this)}else{var elements=element instanceof NodeList?toArray(element):element;forEach$1.call(elements,before.bind(this))}}}else{_each(this,before,element)}return this};var after=function after(element){if(this instanceof Node){if(typeof element==="string"){this.insertAdjacentHTML("afterend",element)}else{if(element instanceof Node){this.parentNode.insertBefore(element,this.nextSibling)}else{var elements=element instanceof NodeList?toArray(element):element;forEach$1.call(elements.reverse(),after.bind(this))}}}else{_each(this,after,element)}return this};var clone=function clone(){return $$2(_clone(this))};var _clone=function _clone(element){if(typeof element==="string"){return element}else if(element instanceof Node){return element.cloneNode(true)}else if("length"in element){return[].map.call(element,function(el){return el.cloneNode(true)})}return element};var _each=function _each(collection,fn,element){var l=collection.length;while(l--){var elm=l===0?element:_clone(element);fn.call(collection[l],elm)}};var dom=Object.freeze({append:append,prepend:prepend,before:before,after:after,clone:clone,_clone:_clone,_each:_each});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var attr=function attr(key,value){if(typeof key==="string"&&typeof value==="undefined"){var element=this.nodeType?this:this[0];return element?element.getAttribute(key):undefined}return each(this,function(element){if((typeof key==="undefined"?"undefined":_typeof(key))==="object"){for(var _attr in key){element.setAttribute(_attr,key[_attr])}}else{element.setAttribute(key,value)}})};var removeAttr=function removeAttr(key){return each(this,function(element){return element.removeAttribute(key)})};var dom_attr=Object.freeze({attr:attr,removeAttr:removeAttr});var addClass=function addClass(value){if(value&&value.length){each(value.split(" "),_each$1.bind(this,"add"))}return this};var removeClass=function removeClass(value){if(value&&value.length){each(value.split(" "),_each$1.bind(this,"remove"))}return this};var toggleClass=function toggleClass(value,state){if(value&&value.length){var action=typeof state==="boolean"?state?"add":"remove":"toggle";each(value.split(" "),_each$1.bind(this,action))}return this};var hasClass=function hasClass(value){return(this.nodeType?[this]:this).some(function(element){return element.classList.contains(value)})};var _each$1=function _each(fnName,className){return each(this,function(element){return element.classList[fnName](className)})};var dom_class=Object.freeze({addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,hasClass:hasClass});var contains=function contains(container,element){if(!container||!element||container===element){return false}else if(container.contains){return container.contains(element)}else if(container.compareDocumentPosition){return!(container.compareDocumentPosition(element)&Node.DOCUMENT_POSITION_DISCONNECTED)}return false};var dom_contains=Object.freeze({contains:contains});var isSupportsDataSet=typeof document!=="undefined"&&"dataset"in document.documentElement;var DATAKEYPROP=isSupportsDataSet?"dataset":"__DOMTASTIC_DATA__";var camelize$1=function camelize(str){return str.replace(/-+(.)?/g,function(match,char){return char?char.toUpperCase():""})};var data=function data(key,value){if(typeof key==="string"&&typeof value==="undefined"){var element=this.nodeType?this:this[0];return element&&DATAKEYPROP in element?element[DATAKEYPROP][camelize$1(key)]:undefined}return each(this,function(element){if(!isSupportsDataSet){element[DATAKEYPROP]=element[DATAKEYPROP]||{}}element[DATAKEYPROP][camelize$1(key)]=value})};var prop=function prop(key,value){if(typeof key==="string"&&typeof value==="undefined"){var element=this.nodeType?this:this[0];return element&&element?element[key]:undefined}return each(this,function(element){return element[key]=value})};var dom_data=Object.freeze({data:data,prop:prop});var appendTo=function appendTo(element){var context=typeof element==="string"?$$2(element):element;append.call(context,this);return this};var empty=function empty(){return each(this,function(element){return element.innerHTML=""})};var remove=function remove(){return each(this,function(element){if(element.parentNode){element.parentNode.removeChild(element)}})};var replaceWith=function replaceWith(){return before.apply(this,arguments).remove()};var text=function text(value){if(value===undefined){return this[0].textContent}return each(this,function(element){return element.textContent=""+value})};var val=function val(value){if(value===undefined){return this.length>0?this[0].value:undefined}return each(this,function(element){return element.value=value})};var dom_extra=Object.freeze({appendTo:appendTo,empty:empty,remove:remove,replaceWith:replaceWith,text:text,val:val});var html=function html(fragment){if(fragment===undefined){var element=this.nodeType?this:this[0];return element?element.innerHTML:undefined}return each(this,function(element){return element.innerHTML=fragment})};var dom_html=Object.freeze({html:html});var closest=function(){var closest=function closest(selector,context){var nodes=[];each(this,function(node){while(node&&node!==context){if(matches(node,selector)){nodes.push(node);break}node=node.parentElement}});return $$2(uniq(nodes))};return typeof Element==="undefined"||!Element.prototype.closest?closest:function(selector,context){if(!context){var nodes=[];each(this,function(node){var n=node.closest(selector);if(n){nodes.push(n)}});return $$2(uniq(nodes))}else{return closest.call(this,selector,context)}}}();var selector_closest=Object.freeze({closest:closest});var on=function on(eventNames,selector,handler,useCapture,once){var _this=this;if(typeof selector==="function"){handler=selector;selector=null}var parts=void 0,namespace=void 0,eventListener=void 0;eventNames.split(" ").forEach(function(eventName){parts=eventName.split(".");eventName=parts[0]||null;namespace=parts[1]||null;eventListener=proxyHandler(handler);each(_this,function(element){if(selector){eventListener=delegateHandler.bind(element,selector,eventListener)}if(once){var listener=eventListener;eventListener=function eventListener(event){off.call(element,eventNames,selector,handler,useCapture);listener.call(element,event)}}element.addEventListener(eventName,eventListener,useCapture||false);getHandlers(element).push({eventName:eventName,handler:handler,eventListener:eventListener,selector:selector,namespace:namespace})})},this);return this};var off=function off(){var eventNames=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var selector=arguments[1];var _this2=this;var handler=arguments[2];var useCapture=arguments[3];if(typeof selector==="function"){handler=selector;selector=null}var parts=void 0,namespace=void 0,handlers=void 0;eventNames.split(" ").forEach(function(eventName){parts=eventName.split(".");eventName=parts[0]||null;namespace=parts[1]||null;return each(_this2,function(element){handlers=getHandlers(element);each(handlers.filter(function(item){return(!eventName||item.eventName===eventName)&&(!namespace||item.namespace===namespace)&&(!handler||item.handler===handler)&&(!selector||item.selector===selector)}),function(item){element.removeEventListener(item.eventName,item.eventListener,useCapture||false);handlers.splice(handlers.indexOf(item),1)});if(!eventName&&!namespace&&!selector&&!handler){clearHandlers(element)}else if(handlers.length===0){clearHandlers(element)}})},this);return this};var one=function one(eventNames,selector,handler,useCapture){return on.call(this,eventNames,selector,handler,useCapture,1)};var eventKeyProp="__domtastic_event__";var id=1;var handlers={};var unusedKeys=[];var getHandlers=function getHandlers(element){if(!element[eventKeyProp]){element[eventKeyProp]=unusedKeys.length===0?++id:unusedKeys.pop()}var key=element[eventKeyProp];return handlers[key]||(handlers[key]=[])};var clearHandlers=function clearHandlers(element){var key=element[eventKeyProp];if(handlers[key]){handlers[key]=null;element[eventKeyProp]=null;unusedKeys.push(key)}};var proxyHandler=function proxyHandler(handler){return function(event){return handler.call(this,augmentEvent(event))}};var eventMethods={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};var returnTrue=function returnTrue(){return true};var returnFalse=function returnFalse(){return false};var augmentEvent=function augmentEvent(event){if(!event.isDefaultPrevented||event.stopImmediatePropagation||event.stopPropagation){for(var methodName in eventMethods){(function(methodName,testMethodName,originalMethod){event[methodName]=function(){this[testMethodName]=returnTrue;return originalMethod&&originalMethod.apply(this,arguments)};event[testMethodName]=returnFalse})(methodName,eventMethods[methodName],event[methodName])}if(event._preventDefault){event.preventDefault()}}return event};var delegateHandler=function delegateHandler(selector,handler,event){var eventTarget=event._target||event.target;var currentTarget=closest.call([eventTarget],selector,this)[0];if(currentTarget&&currentTarget!==this){if(currentTarget===eventTarget||!(event.isPropagationStopped&&event.isPropagationStopped())){handler.call(currentTarget,event)}}};var bind=on;var unbind=off;var event=Object.freeze({on:on,off:off,one:one,getHandlers:getHandlers,clearHandlers:clearHandlers,proxyHandler:proxyHandler,delegateHandler:delegateHandler,bind:bind,unbind:unbind});var reMouseEvent=/^(mouse(down|up|over|out|enter|leave|move)|contextmenu|(dbl)?click)$/;var reKeyEvent=/^key(down|press|up)$/;var trigger=function trigger(type,data){var _ref=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},_ref$bubbles=_ref.bubbles,bubbles=_ref$bubbles===undefined?true:_ref$bubbles,_ref$cancelable=_ref.cancelable,cancelable=_ref$cancelable===undefined?true:_ref$cancelable,_ref$preventDefault=_ref.preventDefault,preventDefault=_ref$preventDefault===undefined?false:_ref$preventDefault;var EventConstructor=getEventConstructor(type);var event=new EventConstructor(type,{bubbles:bubbles,cancelable:cancelable,preventDefault:preventDefault,detail:data});event._preventDefault=preventDefault;return each(this,function(element){if(!bubbles||isEventBubblingInDetachedTree||isAttachedToDocument(element)){dispatchEvent(element,event)}else{triggerForPath(element,type,{bubbles:bubbles,cancelable:cancelable,preventDefault:preventDefault,detail:data})}})};var getEventConstructor=function getEventConstructor(type){return isSupportsOtherEventConstructors?reMouseEvent.test(type)?MouseEvent:reKeyEvent.test(type)?KeyboardEvent:CustomEvent:CustomEvent};var triggerHandler=function triggerHandler(type,data){if(this[0]){trigger.call(this[0],type,data,{bubbles:false,preventDefault:true})}};var isAttachedToDocument=function isAttachedToDocument(element){if(element===window||element===document){return true}return contains(element.ownerDocument.documentElement,element)};var triggerForPath=function triggerForPath(element,type){var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};params.bubbles=false;var event=new CustomEvent(type,params);event._target=element;do{dispatchEvent(element,event)}while(element=element.parentNode)};var directEventMethods=["blur","focus","select","submit"];var dispatchEvent=function dispatchEvent(element,event){if(directEventMethods.indexOf(event.type)!==-1&&typeof element[event.type]==="function"&&!event._preventDefault&&!event.cancelable){element[event.type]()}else{element.dispatchEvent(event)}};(function(){var CustomEvent=function CustomEvent(event){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{bubbles:false,cancelable:false,detail:undefined};var customEvent=document.createEvent("CustomEvent");customEvent.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return customEvent};CustomEvent.prototype=win.CustomEvent&&win.CustomEvent.prototype;win.CustomEvent=CustomEvent})();var isEventBubblingInDetachedTree=function(){var isBubbling=false;var doc=win.document;if(doc){var parent=doc.createElement("div");var child=parent.cloneNode();parent.appendChild(child);parent.addEventListener("e",function(){isBubbling=true});child.dispatchEvent(new CustomEvent("e",{bubbles:true}))}return isBubbling}();var isSupportsOtherEventConstructors=function(){try{new MouseEvent("click")}catch(e){return false}return true}();var event_trigger=Object.freeze({trigger:trigger,triggerHandler:triggerHandler});var ready=function ready(handler){if(/complete|loaded|interactive/.test(document.readyState)&&document.body){handler()}else{document.addEventListener("DOMContentLoaded",handler,false)}return this};var event_ready=Object.freeze({ready:ready});var previousLib=win.$;var noConflict=function noConflict(){win.$=previousLib;return this};var noconflict=Object.freeze({noConflict:noConflict});var children=function children(selector){var nodes=[];each(this,function(element){if(element.children){each(element.children,function(child){if(!selector||selector&&matches(child,selector)){nodes.push(child)}})}});return $$2(nodes)};var concat=function concat(selector){var _this=this;each($$2(selector),function(element){if([].indexOf.call(_this,element)===-1){[].push.call(_this,element)}});return this};var contents=function contents(){var nodes=[];each(this,function(element){return nodes.push.apply(nodes,toArray(element.childNodes))});return $$2(nodes)};var eq=function eq(index){return slice.call(this,index,index+1)};var first=function first(){return slice.call(this,0,1)};var get=function get(index){return this[index]};var parent=function parent(selector){var nodes=[];each(this,function(element){if(!selector||selector&&matches(element.parentNode,selector)){nodes.push(element.parentNode)}});return $$2(nodes)};var siblings=function siblings(selector){var nodes=[];each(this,function(element){return each(element.parentNode.children,function(sibling){if(sibling!==element&&(!selector||selector&&matches(sibling,selector))){nodes.push(sibling)}})});return $$2(nodes)};var slice=function slice(start,end){return $$2([].slice.apply(this,arguments))};var selector_extra=Object.freeze({children:children,concat:concat,contents:contents,eq:eq,first:first,get:get,parent:parent,siblings:siblings,slice:slice});var isFunction=function isFunction(obj){return typeof obj==="function"};var isArray=Array.isArray;var type=Object.freeze({isFunction:isFunction,isArray:isArray});var api={};var $={};if(typeof selector!=="undefined"){$=$$2;$.matches=matches;api.find=find}extend($,dom_contains,noconflict,type);extend(api,array,css$1,dom_attr,dom,dom_class,dom_data,dom_extra,dom_html,event,event_trigger,event_ready,selector_closest,selector_extra);$.fn=api;$.version="0.15.5";$.extend=extend;if(typeof BaseClass!=="undefined"){$.BaseClass=BaseClass($.fn)}var $$1=$;return $$1})},{}],5:[function(require,module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],6:[function(require,module,exports){"use strict";var strictUriEncode=require("strict-uri-encode");var objectAssign=require("object-assign");var decodeComponent=require("decode-uri-component");function encoderForArrayFormat(opts){switch(opts.arrayFormat){case"index":return function(key,value,index){return value===null?[encode(key,opts),"[",index,"]"].join(""):[encode(key,opts),"[",encode(index,opts),"]=",encode(value,opts)].join("")};case"bracket":return function(key,value){return value===null?encode(key,opts):[encode(key,opts),"[]=",encode(value,opts)].join("")};default:return function(key,value){return value===null?encode(key,opts):[encode(key,opts),"=",encode(value,opts)].join("")}}}function parserForArrayFormat(opts){var result;switch(opts.arrayFormat){case"index":return function(key,value,accumulator){result=/\\[(\\d*)\\]$/.exec(key);key=key.replace(/\\[\\d*\\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return function(key,value,accumulator){result=/(\\[\\])$/.exec(key);key=key.replace(/\\[\\]$/,"");if(!result){accumulator[key]=value;return}else if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};default:return function(key,value,accumulator){if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function encode(value,opts){if(opts.encode){return opts.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}else if(typeof input==="object"){return keysSorter(Object.keys(input)).sort(function(a,b){return Number(a)-Number(b)}).map(function(key){return input[key]})}return input}function extract(str){var queryStart=str.indexOf("?");if(queryStart===-1){return""}return str.slice(queryStart+1)}function parse(str,opts){opts=objectAssign({arrayFormat:"none"},opts);var formatter=parserForArrayFormat(opts);var ret=Object.create(null);if(typeof str!=="string"){return ret}str=str.trim().replace(/^[?#&]/,"");if(!str){return ret}str.split("&").forEach(function(param){var parts=param.replace(/\\+/g," ").split("=");var key=parts.shift();var val=parts.length>0?parts.join("="):undefined;val=val===undefined?null:decodeComponent(val);formatter(decodeComponent(key),val,ret)});return Object.keys(ret).sort().reduce(function(result,key){var val=ret[key];if(Boolean(val)&&typeof val==="object"&&!Array.isArray(val)){result[key]=keysSorter(val)}else{result[key]=val}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=function(obj,opts){var defaults={encode:true,strict:true,arrayFormat:"none"};opts=objectAssign(defaults,opts);if(opts.sort===false){opts.sort=function(){}}var formatter=encoderForArrayFormat(opts);return obj?Object.keys(obj).sort(opts.sort).map(function(key){var val=obj[key];if(val===undefined){return""}if(val===null){return encode(key,opts)}if(Array.isArray(val)){var result=[];val.slice().forEach(function(val2){if(val2===undefined){return}result.push(formatter(key,val2,result.length))});return result.join("&")}return encode(key,opts)+"="+encode(val,opts)}).filter(function(x){return x.length>0}).join("&"):""};exports.parseUrl=function(str,opts){return{url:str.split("?")[0]||"",query:parse(extract(str),opts)}}},{"decode-uri-component":3,"object-assign":5,"strict-uri-encode":7}],7:[function(require,module,exports){"use strict";module.exports=function(str){return encodeURIComponent(str).replace(/[!\'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}},{}],8:[function(require,module,exports){function Agent(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(fn){Agent.prototype[fn]=function(){this._defaults.push({fn:fn,arguments:arguments});return this}});Agent.prototype._setDefaults=function(req){this._defaults.forEach(function(def){req[def.fn].apply(req,def.arguments)})};module.exports=Agent},{}],9:[function(require,module,exports){var root;if(typeof window!=="undefined"){root=window}else if(typeof self!=="undefined"){root=self}else{console.warn("Using browser-only version of superagent in non-browser environment");root=this}var Emitter=require("component-emitter");var RequestBase=require("./request-base");var isObject=require("./is-object");var ResponseBase=require("./response-base");var Agent=require("./agent-base");function noop(){}var request=exports=module.exports=function(method,url){if("function"==typeof url){return new exports.Request("GET",method).end(url)}if(1==arguments.length){return new exports.Request("GET",method)}return new exports.Request(method,url)};exports.Request=Request;request.getXHR=function(){if(root.XMLHttpRequest&&(!root.location||"file:"!=root.location.protocol||!root.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}throw Error("Browser-only version of superagent could not find XHR")};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\\s*|\\s*$)/g,"")};function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj){pushEncodedKeyValuePair(pairs,key,obj[key])}return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,val){if(val!=null){if(Array.isArray(val)){val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)})}else if(isObject(val)){for(var subkey in val){pushEncodedKeyValuePair(pairs,key+"["+subkey+"]",val[subkey])}}else{pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(val))}}else if(val===null){pairs.push(encodeURIComponent(key))}}request.serializeObject=serialize;function parseString(str){var obj={};var pairs=str.split("&");var pair;var pos;for(var i=0,len=pairs.length;i<len;++i){pair=pairs[i];pos=pair.indexOf("=");if(pos==-1){obj[decodeURIComponent(pair)]=""}else{obj[decodeURIComponent(pair.slice(0,pos))]=decodeURIComponent(pair.slice(pos+1))}}return obj}request.parseString=parseString;request.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify};request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse};function parseHeader(str){var lines=str.split(/\\r?\\n/);var fields={};var index;var line;var field;var val;for(var i=0,len=lines.length;i<len;++i){line=lines[i];index=line.indexOf(":");if(index===-1){continue}field=line.slice(0,index).toLowerCase();val=trim(line.slice(index+1));fields[field]=val}return fields}function isJSON(mime){return/[\\/+]json($|[^-\\w])/.test(mime)}function Response(req){this.req=req;this.xhr=this.req.xhr;this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType==="undefined"?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;var status=this.xhr.status;if(status===1223){status=204}this._setStatusProperties(status);this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this._setHeaderProperties(this.header);if(null===this.text&&req._responseType){this.body=this.xhr.response}else{this.body=this.req.method!="HEAD"?this._parseBody(this.text?this.text:this.xhr.response):null}}ResponseBase(Response.prototype);Response.prototype._parseBody=function(str){var parse=request.parse[this.type];if(this.req._parser){return this.req._parser(this,str)}if(!parse&&isJSON(this.type)){parse=request.parse["application/json"]}return parse&&str&&(str.length||str instanceof Object)?parse(str):null};Response.prototype.toError=function(){var req=this.req;var method=req.method;var url=req.url;var msg="cannot "+method+" "+url+" ("+this.status+")";var err=new Error(msg);err.status=this.status;err.method=method;err.url=url;return err};request.Response=Response;function Request(method,url){var self=this;this._query=this._query||[];this.method=method;this.url=url;this.header={};this._header={};this.on("end",function(){var err=null;var res=null;try{res=new Response(self)}catch(e){err=new Error("Parser is unable to parse the response");err.parse=true;err.original=e;if(self.xhr){err.rawResponse=typeof self.xhr.responseType=="undefined"?self.xhr.responseText:self.xhr.response;err.status=self.xhr.status?self.xhr.status:null;err.statusCode=err.status}else{err.rawResponse=null;err.status=null}return self.callback(err)}self.emit("response",res);var new_err;try{if(!self._isResponseOK(res)){new_err=new Error(res.statusText||"Unsuccessful HTTP response")}}catch(custom_err){new_err=custom_err}if(new_err){new_err.original=err;new_err.response=res;new_err.status=res.status;self.callback(new_err,res)}else{self.callback(null,res)}})}Emitter(Request.prototype);RequestBase(Request.prototype);Request.prototype.type=function(type){this.set("Content-Type",request.types[type]||type);return this};Request.prototype.accept=function(type){this.set("Accept",request.types[type]||type);return this};Request.prototype.auth=function(user,pass,options){if(1===arguments.length)pass="";if(typeof pass==="object"&&pass!==null){options=pass;pass=""}if(!options){options={type:"function"===typeof btoa?"basic":"auto"}}var encoder=function(string){if("function"===typeof btoa){return btoa(string)}throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(user,pass,options,encoder)};Request.prototype.query=function(val){if("string"!=typeof val)val=serialize(val);if(val)this._query.push(val);return this};Request.prototype.attach=function(field,file,options){if(file){if(this._data){throw Error("superagent can\'t mix .send() and .attach()")}this._getFormData().append(field,file,options||file.name)}return this};Request.prototype._getFormData=function(){if(!this._formData){this._formData=new root.FormData}return this._formData};Request.prototype.callback=function(err,res){if(this._shouldRetry(err,res)){return this._retry()}var fn=this._callback;this.clearTimeout();if(err){if(this._maxRetries)err.retries=this._retries-1;this.emit("error",err)}fn(err,res)};Request.prototype.crossDomainError=function(){var err=new Error("Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");err.crossDomain=true;err.status=this.status;err.method=this.method;err.url=this.url;this.callback(err)};Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){console.warn("This is not supported in browser version of superagent");return this};Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")};Request.prototype._isHost=function _isHost(obj){return obj&&"object"===typeof obj&&!Array.isArray(obj)&&Object.prototype.toString.call(obj)!=="[object Object]"};Request.prototype.end=function(fn){if(this._endCalled){console.warn("Warning: .end() was called twice. This is not supported in superagent")}this._endCalled=true;this._callback=fn||noop;this._finalizeQueryString();return this._end()};Request.prototype._end=function(){var self=this;var xhr=this.xhr=request.getXHR();var data=this._formData||this._data;this._setTimeouts();xhr.onreadystatechange=function(){var readyState=xhr.readyState;if(readyState>=2&&self._responseTimeoutTimer){clearTimeout(self._responseTimeoutTimer)}if(4!=readyState){return}var status;try{status=xhr.status}catch(e){status=0}if(!status){if(self.timedout||self._aborted)return;return self.crossDomainError()}self.emit("end")};var handleProgress=function(direction,e){if(e.total>0){e.percent=e.loaded/e.total*100}e.direction=direction;self.emit("progress",e)};if(this.hasListeners("progress")){try{xhr.onprogress=handleProgress.bind(null,"download");if(xhr.upload){xhr.upload.onprogress=handleProgress.bind(null,"upload")}}catch(e){}}try{if(this.username&&this.password){xhr.open(this.method,this.url,true,this.username,this.password)}else{xhr.open(this.method,this.url,true)}}catch(err){return this.callback(err)}if(this._withCredentials)xhr.withCredentials=true;if(!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!this._isHost(data)){var contentType=this._header["content-type"];var serialize=this._serializer||request.serialize[contentType?contentType.split(";")[0]:""];if(!serialize&&isJSON(contentType)){serialize=request.serialize["application/json"]}if(serialize)data=serialize(data)}for(var field in this.header){if(null==this.header[field])continue;if(this.header.hasOwnProperty(field))xhr.setRequestHeader(field,this.header[field])}if(this._responseType){xhr.responseType=this._responseType}this.emit("request",this);xhr.send(typeof data!=="undefined"?data:null);return this};request.agent=function(){return new Agent};["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(method){Agent.prototype[method.toLowerCase()]=function(url,fn){var req=new request.Request(method,url);this._setDefaults(req);if(fn){req.end(fn)}return req}});Agent.prototype.del=Agent.prototype["delete"];request.get=function(url,data,fn){var req=request("GET",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.head=function(url,data,fn){var req=request("HEAD",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.options=function(url,data,fn){var req=request("OPTIONS",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};function del(url,data,fn){var req=request("DELETE",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req}request["del"]=del;request["delete"]=del;request.patch=function(url,data,fn){var req=request("PATCH",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.post=function(url,data,fn){var req=request("POST",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.put=function(url,data,fn){var req=request("PUT",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req}},{"./agent-base":8,"./is-object":10,"./request-base":11,"./response-base":12,"component-emitter":2}],10:[function(require,module,exports){"use strict";function isObject(obj){return null!==obj&&"object"===typeof obj}module.exports=isObject},{}],11:[function(require,module,exports){"use strict";var isObject=require("./is-object");module.exports=RequestBase;function RequestBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in RequestBase.prototype){obj[key]=RequestBase.prototype[key]}return obj}RequestBase.prototype.clearTimeout=function _clearTimeout(){clearTimeout(this._timer);clearTimeout(this._responseTimeoutTimer);delete this._timer;delete this._responseTimeoutTimer;return this};RequestBase.prototype.parse=function parse(fn){this._parser=fn;return this};RequestBase.prototype.responseType=function(val){this._responseType=val;return this};RequestBase.prototype.serialize=function serialize(fn){this._serializer=fn;return this};RequestBase.prototype.timeout=function timeout(options){if(!options||"object"!==typeof options){this._timeout=options;this._responseTimeout=0;return this}for(var option in options){switch(option){case"deadline":this._timeout=options.deadline;break;case"response":this._responseTimeout=options.response;break;default:console.warn("Unknown timeout option",option)}}return this};RequestBase.prototype.retry=function retry(count,fn){if(arguments.length===0||count===true)count=1;if(count<=0)count=0;this._maxRetries=count;this._retries=0;this._retryCallback=fn;return this};var ERROR_CODES=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];RequestBase.prototype._shouldRetry=function(err,res){if(!this._maxRetries||this._retries++>=this._maxRetries){return false}if(this._retryCallback){try{var override=this._retryCallback(err,res);if(override===true)return true;if(override===false)return false}catch(e){console.error(e)}}if(res&&res.status&&res.status>=500&&res.status!=501)return true;if(err){if(err.code&&~ERROR_CODES.indexOf(err.code))return true;if(err.timeout&&err.code=="ECONNABORTED")return true;if(err.crossDomain)return true}return false};RequestBase.prototype._retry=function(){this.clearTimeout();if(this.req){this.req=null;this.req=this.request()}this._aborted=false;this.timedout=false;return this._end()};RequestBase.prototype.then=function then(resolve,reject){if(!this._fullfilledPromise){var self=this;if(this._endCalled){console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises")}this._fullfilledPromise=new Promise(function(innerResolve,innerReject){self.end(function(err,res){if(err)innerReject(err);else innerResolve(res)})})}return this._fullfilledPromise.then(resolve,reject)};RequestBase.prototype.catch=function(cb){return this.then(undefined,cb)};RequestBase.prototype.use=function use(fn){fn(this);return this};RequestBase.prototype.ok=function(cb){if("function"!==typeof cb)throw Error("Callback required");this._okCallback=cb;return this};RequestBase.prototype._isResponseOK=function(res){if(!res){return false}if(this._okCallback){return this._okCallback(res)}return res.status>=200&&res.status<300};RequestBase.prototype.get=function(field){return this._header[field.toLowerCase()]};RequestBase.prototype.getHeader=RequestBase.prototype.get;RequestBase.prototype.set=function(field,val){if(isObject(field)){for(var key in field){this.set(key,field[key])}return this}this._header[field.toLowerCase()]=val;this.header[field]=val;return this};RequestBase.prototype.unset=function(field){delete this._header[field.toLowerCase()];delete this.header[field];return this};RequestBase.prototype.field=function(name,val){if(null===name||undefined===name){throw new Error(".field(name, val) name can not be empty")}if(this._data){console.error(".field() can\'t be used if .send() is used. Please use only .send() or only .field() & .attach()")}if(isObject(name)){for(var key in name){this.field(key,name[key])}return this}if(Array.isArray(val)){for(var i in val){this.field(name,val[i])}return this}if(null===val||undefined===val){throw new Error(".field(name, val) val can not be empty")}if("boolean"===typeof val){val=""+val}this._getFormData().append(name,val);return this};RequestBase.prototype.abort=function(){if(this._aborted){return this}this._aborted=true;this.xhr&&this.xhr.abort();this.req&&this.req.abort();this.clearTimeout();this.emit("abort");return this};RequestBase.prototype._auth=function(user,pass,options,base64Encoder){switch(options.type){case"basic":this.set("Authorization","Basic "+base64Encoder(user+":"+pass));break;case"auto":this.username=user;this.password=pass;break;case"bearer":this.set("Authorization","Bearer "+user);break}return this};RequestBase.prototype.withCredentials=function(on){if(on==undefined)on=true;this._withCredentials=on;return this};RequestBase.prototype.redirects=function(n){this._maxRedirects=n;return this};RequestBase.prototype.maxResponseSize=function(n){if("number"!==typeof n){throw TypeError("Invalid argument")}this._maxResponseSize=n;return this};RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};RequestBase.prototype.send=function(data){var isObj=isObject(data);var type=this._header["content-type"];if(this._formData){console.error(".send() can\'t be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()")}if(isObj&&!this._data){if(Array.isArray(data)){this._data=[]}else if(!this._isHost(data)){this._data={}}}else if(data&&this._data&&this._isHost(this._data)){throw Error("Can\'t merge these send calls")}if(isObj&&isObject(this._data)){for(var key in data){this._data[key]=data[key]}}else if("string"==typeof data){if(!type)this.type("form");type=this._header["content-type"];if("application/x-www-form-urlencoded"==type){this._data=this._data?this._data+"&"+data:data}else{this._data=(this._data||"")+data}}else{this._data=data}if(!isObj||this._isHost(data)){return this}if(!type)this.type("json");return this};RequestBase.prototype.sortQuery=function(sort){this._sort=typeof sort==="undefined"?true:sort;return this};RequestBase.prototype._finalizeQueryString=function(){var query=this._query.join("&");if(query){this.url+=(this.url.indexOf("?")>=0?"&":"?")+query}this._query.length=0;if(this._sort){var index=this.url.indexOf("?");if(index>=0){var queryArr=this.url.substring(index+1).split("&");if("function"===typeof this._sort){queryArr.sort(this._sort)}else{queryArr.sort()}this.url=this.url.substring(0,index)+"?"+queryArr.join("&")}}};RequestBase.prototype._appendQueryString=function(){console.trace("Unsupported")};RequestBase.prototype._timeoutError=function(reason,timeout,errno){if(this._aborted){return}var err=new Error(reason+timeout+"ms exceeded");err.timeout=timeout;err.code="ECONNABORTED";err.errno=errno;this.timedout=true;this.abort();this.callback(err)};RequestBase.prototype._setTimeouts=function(){var self=this;if(this._timeout&&!this._timer){this._timer=setTimeout(function(){self._timeoutError("Timeout of ",self._timeout,"ETIME")},this._timeout)}if(this._responseTimeout&&!this._responseTimeoutTimer){this._responseTimeoutTimer=setTimeout(function(){self._timeoutError("Response timeout of ",self._responseTimeout,"ETIMEDOUT")},this._responseTimeout)}}},{"./is-object":10}],12:[function(require,module,exports){"use strict";var utils=require("./utils");module.exports=ResponseBase;function ResponseBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in ResponseBase.prototype){obj[key]=ResponseBase.prototype[key]}return obj}ResponseBase.prototype.get=function(field){return this.header[field.toLowerCase()]};ResponseBase.prototype._setHeaderProperties=function(header){var ct=header["content-type"]||"";this.type=utils.type(ct);var params=utils.params(ct);for(var key in params)this[key]=params[key];this.links={};try{if(header.link){this.links=utils.parseLinks(header.link)}}catch(err){}};ResponseBase.prototype._setStatusProperties=function(status){var type=status/100|0;this.status=this.statusCode=status;this.statusType=type;this.info=1==type;this.ok=2==type;this.redirect=3==type;this.clientError=4==type;this.serverError=5==type;this.error=4==type||5==type?this.toError():false;this.accepted=202==status;this.noContent=204==status;this.badRequest=400==status;this.unauthorized=401==status;this.notAcceptable=406==status;this.forbidden=403==status;this.notFound=404==status}},{"./utils":13}],13:[function(require,module,exports){"use strict";exports.type=function(str){return str.split(/ *; */).shift()};exports.params=function(str){return str.split(/ *; */).reduce(function(obj,str){var parts=str.split(/ *= */);var key=parts.shift();var val=parts.shift();if(key&&val)obj[key]=val;return obj},{})};exports.parseLinks=function(str){return str.split(/ *, */).reduce(function(obj,str){var parts=str.split(/ *; */);var url=parts[0].slice(1,-1);var rel=parts[1].split(/ *= */)[1].slice(1,-1);obj[rel]=url;return obj},{})};exports.cleanHeader=function(header,changesOrigin){delete header["content-type"];delete header["content-length"];delete header["transfer-encoding"];delete header["host"];if(changesOrigin){delete header["authorization"];delete header["cookie"]}return header}},{}]},{},[1]);\n(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module \'"+o+"\'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){var qs=require("query-string");function addQueryStringParamToURL(param,value,url){var urlComponents=url.split("?");var queryStringObj=qs.parse(urlComponents[1]);queryStringObj[param]=value;return urlComponents[0]+"?"+qs.stringify(queryStringObj)}function addCardIdToLink(linkElement){var locationQueryString=qs.parse(window.location.search);if(locationQueryString.cardId){linkElement.href=addQueryStringParamToURL("cardId",locationQueryString.cardId,linkElement.href)}}function addCardIdToRegisterNowButtonURL(){var isTeamsitePage=window.location.pathname.indexOf("/fflyer/dyn/memberSpecials")!==-1;if(isTeamsitePage){var button=document.querySelector("#mainPanelCntnt .btn");if(button){addCardIdToLink(button)}}else{var button=document.querySelector(".layout-full-width.section .button");if(button){addCardIdToLink(button)}}}function substituteDates(){var locationQueryString=qs.parse(window.location.search);console.log("locationQueryString is ",locationQueryString);if(locationQueryString.startDate&&locationQueryString.bookingEndDate&&locationQueryString.travelEndDate){console.log(locationQueryString.startDate,locationQueryString.bookingEndDate,locationQueryString.travelEndDate);var startDateFormatted=formatDate(new Date(locationQueryString.startDate));var bookingEndDateFormatted=formatDate(new Date(locationQueryString.bookingEndDate));var travelEndDateFormatted=formatDate(new Date(locationQueryString.travelEndDate));var p1="Book an eligible Qantas marketed flight with a QF flight number on your ticket between "+startDateFormatted+" and "+bookingEndDateFormatted+", for travel between "+startDateFormatted+" to "+travelEndDateFormatted+".";var p2=\'<div class="important"><strong>Important information:<br></strong>You must be a Qantas Frequent Flyer member to earn Qantas Points. A joining fee may apply. Membership and the earning and redemption of Qantas Points are subject to the Qantas Frequent Flyer program <a href="https://www.qantas.com.au/fflyer/dyn/program/terms" target="_self">Terms and Conditions</a>. <br>* An <a href="https://www.qantas.com/fflyer/dyn/program/terms#eligibleflights" target="_self">eligible flight</a> for the purpose of this promotion means any Qantas marketed flight with a QF flight number on your ticket where Status Credits are normally earned. 50% more Status Credits will not be earned on some fare types and booking classes including Classic Flight Rewards. See <a href="https://www.qantas.com/fflyer/dyn/flying/airline-earning" target="_self">Airline Earning Tables</a> for details. This offer is valid when you register and make a new eligible flight booking with a QF flight number on your ticket between \'+startDateFormatted+" and "+bookingEndDateFormatted+", for travel between "+startDateFormatted+" to "+travelEndDateFormatted+\'. This bonus offer applies to travel taken by the recipient of this offer only (regardless of other passengers in the same booking), and is not transferable. Bonus Status Credits may take up to 6 weeks after completion of travel to be credited to your Qantas Frequent Flyer account. Flights are subject to availability and any applicable fare conditions. Flights can be booked via the <a href="https://www.qantas.com/travel/airlines/home/au/en" target="_self">Qantas website</a>, a travel agent or Qantas Contact Centres. Fees may apply. Your Qantas Frequent Flyer membership number must be recorded at the time of registration and booking to earn bonus Status Credits. This bonus offer cannot be used in conjunction with any other offer by Qantas. Bonus Status Credits earned from this offer do not count towards Loyalty Bonus or Platinum One Loyalty Bonus earn requirements. Only one bonus Status Credits offer can be used per individual qualifying segment of your itinerary. If you qualify for multiple bonus offers, the offer first registered for will be applied to each individual qualifying segment. Full or part travel of an itinerary is eligible only if you book and travel within the promotional dates as stated in the email. If you change or cancel your initial qualifying booking and/or travel is completed outside the promotional period, this bonus offer will not apply.<br>^ Qantas offers Economy and Business fares on selected Australian domestic flights and Economy, Premium Economy, Business and First on selected international flights. Flights can be booked via qantas.com, a travel agent or Qantas Contact Centres. Fees may apply.</div>\';var pageList=document.getElementsByTagName("ol")[0];if(pageList){var liToReplace=pageList.getElementsByTagName("li")[1];if(liToReplace){liToReplace.innerHTML=p1}}var termsToReplace=document.querySelector(".important");if(termsToReplace){termsToReplace.innerHTML=p2}}function formatDate(date){var monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];var day=date.getDate();var monthIndex=date.getMonth();var year=date.getFullYear();return day+" "+monthNames[monthIndex]+" "+year}}function applyTargetModifications(){console.log("applyTargetModifications called.");addCardIdToRegisterNowButtonURL();substituteDates()}console.log("Hello world!",document.readyState);if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",applyTargetModifications,false)}else{applyTargetModifications()}},{"query-string":4}],2:[function(require,module,exports){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="\ufffd";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},{}],3:[function(require,module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],4:[function(require,module,exports){"use strict";var strictUriEncode=require("strict-uri-encode");var objectAssign=require("object-assign");var decodeComponent=require("decode-uri-component");function encoderForArrayFormat(opts){switch(opts.arrayFormat){case"index":return function(key,value,index){return value===null?[encode(key,opts),"[",index,"]"].join(""):[encode(key,opts),"[",encode(index,opts),"]=",encode(value,opts)].join("")};case"bracket":return function(key,value){return value===null?encode(key,opts):[encode(key,opts),"[]=",encode(value,opts)].join("")};default:return function(key,value){return value===null?encode(key,opts):[encode(key,opts),"=",encode(value,opts)].join("")}}}function parserForArrayFormat(opts){var result;switch(opts.arrayFormat){case"index":return function(key,value,accumulator){result=/\\[(\\d*)\\]$/.exec(key);key=key.replace(/\\[\\d*\\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return function(key,value,accumulator){result=/(\\[\\])$/.exec(key);key=key.replace(/\\[\\]$/,"");if(!result){accumulator[key]=value;return}else if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};default:return function(key,value,accumulator){if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function encode(value,opts){if(opts.encode){return opts.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}else if(typeof input==="object"){return keysSorter(Object.keys(input)).sort(function(a,b){return Number(a)-Number(b)}).map(function(key){return input[key]})}return input}exports.extract=function(str){var queryStart=str.indexOf("?");if(queryStart===-1){return""}return str.slice(queryStart+1)};exports.parse=function(str,opts){opts=objectAssign({arrayFormat:"none"},opts);var formatter=parserForArrayFormat(opts);var ret=Object.create(null);if(typeof str!=="string"){return ret}str=str.trim().replace(/^[?#&]/,"");if(!str){return ret}str.split("&").forEach(function(param){var parts=param.replace(/\\+/g," ").split("=");var key=parts.shift();var val=parts.length>0?parts.join("="):undefined;val=val===undefined?null:decodeComponent(val);formatter(decodeComponent(key),val,ret)});return Object.keys(ret).sort().reduce(function(result,key){var val=ret[key];if(Boolean(val)&&typeof val==="object"&&!Array.isArray(val)){result[key]=keysSorter(val)}else{result[key]=val}return result},Object.create(null))};exports.stringify=function(obj,opts){var defaults={encode:true,strict:true,arrayFormat:"none"};opts=objectAssign(defaults,opts);if(opts.sort===false){opts.sort=function(){}}var formatter=encoderForArrayFormat(opts);return obj?Object.keys(obj).sort(opts.sort).map(function(key){var val=obj[key];if(val===undefined){return""}if(val===null){return encode(key,opts)}if(Array.isArray(val)){var result=[];val.slice().forEach(function(val2){if(val2===undefined){return}result.push(formatter(key,val2,result.length))});return result.join("&")}return encode(key,opts)+"="+encode(val,opts)}).filter(function(x){return x.length>0}).join("&"):""};exports.parseUrl=function(str,opts){return{url:str.split("?")[0]||"",query:this.parse(this.extract(str),opts)}}},{"decode-uri-component":2,"object-assign":3,"strict-uri-encode":5}],5:[function(require,module,exports){"use strict";module.exports=function(str){return encodeURIComponent(str).replace(/[!\'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}},{}]},{},[1]);\n',
language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL89021752777d4739bb88e44c46b75df4",name:"extendedSearch_refineMySearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"extendedSearch_refineMySearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event170"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC057ddab08c1141789faa8aad189ee547-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL896b77f19ebf400d8c3e47f6320abf7a",name:"1A - Select - Top of page",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(\\/pl\\/QFAwardServicing\\/wds\\/OverrideServlet|\\/pl\\/QFServicing\\/wds\\/OverrideServlet|\\/pl\\/QFOnline\\/wds\\/OverrideServlet|\\/pl\\/QFOnline\\/wds\\/FlexPricerAvailabilityServlet|\\/pl\\/QFAward\\/wds\\/OverrideServlet|\\/pl\\/QFAward\\/wds\\/FlexPricerAvailabilityServlet|\\/pl\\/QFMobile\\/wds\\/OverrideServlet).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return!(window.location.pathname.match("/pl/QFMobile/wds/OverrideServlet")&&!document.title.match("Select")||document.referrer.match("https:")&&document.referrer.match(/.*(\/pl\/QFAwardServicing\/wds\/OverrideServlet|\/pl\/QFServicing\/wds\/OverrideServlet|\/pl\/QFOnline\/wds\/OverrideServlet|\/pl\/QFOnline\/wds\/FlexPricerAvailabilityServlet|\/pl\/QFAward\/wds\/OverrideServlet|\/pl\/QFAward\/wds\/FlexPricerAvailabilityServlet|\/pl\/QFMobile\/wds\/OverrideServlet).*/))}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar70",type:"value",value:"%QStats.bookingEntryPoint%"}]}},timeout:2e3,delayNext:!0}]},{id:"RL8b603ca00f2f48cfab6e5d8bb7736925",name:"Flights_listings",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flights_listings"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("flight_deals_listing"),-1!=document.URL.indexOf("/flight-deals/")?(t.events="event138",t.linkTrackVars="events",t.linkTrackEvents="event138"):(t.events="event108",t.linkTrackVars="events",t.linkTrackEvents="event108")}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL8d34ffceb654442a90e806f7b9bcfe21",name:"manageYourBooking_cancel_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_cancel_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"%p2f-evar43%"}],props:[{name:"prop72",type:"value",value:"%p2f-evar43%"}],events:[{name:"event144"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL8d772a7684b34cafbfbbe0bc56eeb9c6",name:"PERSO: Flight Deals AU EN (Sale getOffer)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(au/en/flight-deals.html/.*/(any|int|af|as|am|eu|sp)/|au/en/flight-deals/international/flights-to-.*.html).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",3,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'adobe.target.getOffer({  \n  "mbox": "fd-sale-target",  \n  "success": function(offers) {          \n        adobe.target.applyOffer( { \n           "mbox": "fd-sale-target",\n           "offer": offers \n        } );\n  },  \n  "error": function(status, error) {          \n      /**\n      if (console && console.log) {\n        console.log(status);\n        console.log(error);\n      }**/\n  },\n "timeout": 5000\n});',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL8e46162ae7f9475ea14cb0bc858874e9",name:"1A - Qstats",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(/QFMobile/).*",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Seats"===document.title||!(-1!=window.location.href.indexOf("qf-booking")||-1!=window.location.href.indexOf("pl/QFServicing/wds/RebookPNRATCServlet")||"undefined"!=typeof digitalData&&void 0!==digitalData.transaction||"undefined"!=typeof digitalData&&void 0!==digitalData.basket||"undefined"!=typeof digitalData&&void 0!==digitalData.listing||"undefined"!=typeof digitalData)}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function a(e){for(var a in e){if(!e.hasOwnProperty(a))return;switch(a){case"channel":t.channel=""!=e.channel?e.channel:"Flights";break;case"currencyCode":t.currencyCode=e.currencyCode;break;case"events":t.events=e.events;break;case"products":e.products.length>0&&(t.products=e.products);break;case"bookingEngineErrors":default:break;case"language":t.prop31=e.language.split("-")[0];break;case"marketType":t.prop55=e.marketType;break;case"purchaseDate":t.eVar32=e.purchaseDate;break;case"methodOfPayment":t.eVar27=e.methodOfPayment;break;case"nbDaysToDepart":t.eVar41=e.nbDaysToDepart;break;case"searchDepartureDates":t.eVar52=e.searchDepartureDates;break;case"searchDepartureCityCodes":window.location.pathname.match("OverrideServlet")&&e.searchDepartureCityCodes.length>0&&(t.eVar71=$QantasTag.getCityPair().toString());break;case"recordLocator":if(e.purchaseDate.length>0){var n=e.purchaseDate.toString().split("/"),r=n[0]+n[1]+n[2];t.purchaseID=r+"|"+e.recordLocator,t.evar47=t.purchaseID,t.prop71="D=v47"}break;case"server":t.server=e.server;break;case"siteCode":t.eVar12=e.siteCode;break;case"pnrOnline":t.eVar46=e.pnrOnline;break;case"commercialFareFamily":t.eVar48=e.commercialFareFamily}var i;if(void 0!==QStats.tripType){var o=QStats.tripType;"O"==o&&(i="Oneway"),"R"==o&&(i="Return"),"M"==o&&(i="Multicity")}void 0!==typeof QStats.pageCode&&(t.prop7=document.title+" - "+i+" "+t.prop55),void 0!==e.postURL&&(s_postURL=e.postURL)}}if($QantasTag.getFullItinerary=function(){var e=QStats.searchDepartureCityCodes.toString().split(",");return e.push($QantasTag.getLastArrivalAirport()),e},$QantasTag.getLastArrivalAirport=function(){return QStats.postURL.substring(QStats.postURL.lastIndexOf("E_LOCATION_"),QStats.postURL.lastIndexOf("E_LOCATION_")+16).slice(-3)},$QantasTag.getValueFromKey=function(e,t){return decodeURIComponent((new RegExp(e+"[#:=]([^&|@#;]+)(&|||#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null},$QantasTag.getNumberofTrips=function(e){return(e.match(/B_LOCATION_/g)||[]).length},$QantasTag.getCityPair=function(){for(var e="",t=1;t<=$QantasTag.getNumberofTrips(QStats.postURL);t++)""!=e?e+=","+$QantasTag.getValueFromKey("B_LOCATION_"+t,QStats.postURL)+"-"+$QantasTag.getValueFromKey("E_LOCATION_"+t,QStats.postURL):e=$QantasTag.getValueFromKey("B_LOCATION_"+t,QStats.postURL)+"-"+$QantasTag.getValueFromKey("E_LOCATION_"+t,QStats.postURL);return e},$QantasTag.getDestinations=function(){var e=$QantasTag.getFullItinerary();return e[0]==e[e.length-1]&&e.pop(),e.shift(),e},"undefined"!=typeof QStats)try{a(QStats)}catch(e){}}},trackerProperties:{}},timeout:2e3,delayNext:!0}]},{id:"RL8f7bcb71d8444cf7b336df3d167da586",name:"flightBookings_confirmBaggageRemove_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_confirmBaggageRemove_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=digitalData.event[digitalData.event.length-1].attributes.bound.length,n=digitalData.event[digitalData.event.length-1],r=";Bags:New:";if(a>0)for(var i=0;a>i;i++)i>0&&(r+=">"),r+=-1!=n.attributes.bound[i].typeOfPurchase.indexOf("Kg")?parseInt(n.attributes.bound[i].typeOfPurchase.substr(0,n.attributes.bound[i].typeOfPurchase.indexOf("-")).trim())/5:n.attributes.bound[i].typeOfPurchase.substr(0,1),-1!=n.attributes.bound[i].typeOfPurchase.indexOf("Kg")?parseInt(n.attributes.bound[i].typeOfPurchase.substr(0,n.attributes.bound[i].typeOfPurchase.indexOf("-")).trim()):parseInt(n.attributes.bound[i].typeOfPurchase.substr(0,1)),r+="|"+n.attributes.bound[i].departureAirportCode+"-"+n.attributes.bound[i].arrivalAirportCode;var o="",s=0,l="",c=_satellite.cookie.get("digitalData_baggage_products");void 0===c&&(c="");try{for(var u=r.split(";")[1].replace(new RegExp("Bags:New:","g"),"").split(">"),d=0;d<u.length;d++){var g=u[d];if(""===o)o=g;else for(var p=g.split("|"),m=o.split(">"),f=0;f<m.length;f++){var v=m[f].split("|");if(-1!=o.indexOf(p[1])){if(-1!=v[1].indexOf(p[1])){var h=parseInt(v[0])+parseInt(p[0]);o=o.replace(v[0]+"|"+v[1],h+"|"+v[1])}}else o+=">"+g}}if(";Bags:New:"===r&&""===o)l=c,c.split(">").forEach((function(e){e.split("|").forEach((function(e,t){t%2==0&&(s+=parseInt(e))}))})),_satellite.cookie.remove("digitalData_baggage_products");else if(_satellite.cookie.set("digitalData_baggage_products",o,_satellite.getVar("cookieSetting")||{}),void 0!==c&&c.length>0){var b=c.split(">"),y=o.split(">");for(i=0;i<b.length;i++){g=b[i];for(var D=!1,_=0;_<y.length;_++){var C=y[_],k=g.split("|"),w=C.split("|");w[1]===k[1]?parseInt(w[0])<parseInt(k[0])&&(l+=l.length>0?">":"",s+=parseInt(k[0])-parseInt(w[0]),l+=parseInt(k[0])-parseInt(w[0])+"|"+w[1]):-1!=o.indexOf(k[1])||D||(D=!0,l+=l.length>0?">":"",s+=parseInt(k[0]),l+=parseInt(k[0])+"|"+k[1])}}}}catch(e){_satellite.notify("Error in remembering old products to identify scRemove"+e,1)}c.length>0&&l.length>0&&(l=";Bags:New:"+l),l.length>0&&(l+=";"+s+";;;",t.products=l,t.events="scRemove",t.linkTrackVars="events,products")}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL901b622955394117a4b407109ec4ecaa",name:"FL - NTDE - new cardholders",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus.html",valueIsRegex:!1},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-partner.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-email.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-july.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-july.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-july-email.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-july-email.html"},{value:"/au/en/frequent-flyer/discover-and-join/join-now.html/code/firsttimecardholder"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-october.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-october-email.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-october.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-october-email.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC526dcf87a1594799a4c70975b10c1a8b-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL90d594fb6f964b8c8b9830eaa10c54e2",name:"flightBookings_addToCart_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_addToCart_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products="",t.eVar68="",t.eVar111=$QantasTag.getCustomEvents("addToCart")[0].attributes.seatingMessage,t.eVar132=_satellite.getVar("digitalData.event.attributes.flightDisplayIndex"),t.eVar133=_satellite.getVar("digitalData.event.attributes.totalNumberOfFlights"),t.linkTrackVars="campaign,eVar111,eVar132,eVar133,events"}},trackerProperties:{events:[{name:"event128"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCf61c51d4c1ba45b8b70b4c93e4dc3e06-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL924c4c4386ea429787db71701a284336",name:"manageYourBooking_cancelChangeSeat_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_cancelChangeSeat_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=localStorage.getItem("listing_products"),localStorage.removeItem("listing_products")}},trackerProperties:{events:[{name:"scRemove"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC79e7edab02e34109b28306cc35b78c5d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL925f2786a36a4dbf9e910647d583beb3",name:"Activities_activitySelect_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Activities_activitySelect_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){!function(){function e(e){for(var t="",a=0;a<e.length;a++){var n=e[a].product.Activities[0];t+=(";Activities|"+n.type+"|"+n.activityName+"|"+n.activityLocation+";"+e[a].product.quantity+";"+e[a].product.cash).replace(new RegExp(",","g"),"")+";;,"}return t.slice(0,-1)}var a=$QantasTag.getCustomEvents("activitySelect");if(a&&a.length){var n=a[a.length-1],r=n.attributes&&n.attributes.listing&&n.attributes.listing.line_items,i=r&&r.length&&e(r);t.products=i,t.eVar122=i,t.events="event403",t.linkTrackEvents="event403",t.linkTrackVars="eVar122,events,products"}}()}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL92b4effa88864f449321fc3fa8c0da74",name:"creditVoucher_flightCreditDetails_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"creditVoucher_flightCreditDetails_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("digitalData.event.attributes.voucherCurrency");t.currencyCode=a}catch(e){}}},trackerProperties:{eVars:[{name:"eVar144",type:"value",value:"%digitalData.event.attributes.voucherReference%"},{name:"eVar145",type:"value",value:"%digitalData.event.attributes.voucherCurrency%"}],events:[{name:"event122"},{name:"event121",value:"%digitalData.event.attributes.voucherValue%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL932b28e1aab048c8b8cc7848c0e0b384",name:"flightBookings_expressCheckoutAvailable_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_expressCheckoutAvailable_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digital_data_expresscheckout_products"),t.linkTrackVars+=",products"}},trackerProperties:{events:[{name:"event155"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL94fb3d54421b4f9bad0a10a6c3131de9",name:"ife_carouselError_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"IFE_ifeCarouselErrorEvent_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=$QantasTag.getCustomEvents("ifeCarouselErrorEvent");if(a){var n=(a=a[a.length-1]).attributes,r=n.errorCode+"|"+n.errorMessage;t.eVar174=r,t.events="event242",t.linkTrackEvents="event242",t.linkTrackVars="eVar174,events"}}catch(e){}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL951fef97db8849e88b0d3e0c4167228e",name:"Checkin_passportDetailsEntered_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_passportDetailsEntered_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event182"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL95cc99d6fc32461a98d0f14797ca634b",name:"manageYourBooking_changeBooking_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_changeBooking_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"%p2f-evar43%"}],props:[{name:"prop72",type:"value",value:"%p2f-evar43%"}],events:[{name:"event145"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL95f321a036d345f79006e82d56e16675",name:"Frequent Flyer_joinSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_joinSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=document.getElementsByClassName("price__38qy1"),n=(a.length&&a[0].innerText,(e=digitalData.event[digitalData.event.length-1]).attributes.basket||e.attributes.listing||e.attributes.transaction),r=n.line_items[0].product.frequentFlyer[0],i=(r.membershipType,r.membershipGroup),o=r.membershipTerm,s=r.type,l=(r.deal,";Frequent Flyer|Qantas|n|n|"+i+"|"+o+"|"+s+"|n|n;1;"+("Membership"===s?n.subtotal:n.subtotalIncludeTax)+";event123="+(n.subtotalIncludeTax+n.subtotal)+";;");t.products=l,t.linkTrackVars+=",products"}catch(e){return""}}},trackerProperties:{eVars:[{name:"eVar27",type:"value",value:"%digitalData_fflyer_joinStart.paymentType%"},{name:"eVar28",type:"value",value:"%digitalData_fflyer_joinStart.methodOfPay%"},{name:"eVar42",type:"value",value:"%digitalData_fflyer_joinStart.abn%"}],events:[{name:"event47"},{id:"%digitalData_fflyer_joinStart.purchaseID%",name:"purchase"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC50d9c71fc18e4536b8552fc0df2ac993-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9736670af94c4290b0c0eb1d98473a6b",name:"Checkin_printBoardingPass_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_printBoardingPass_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event93"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL980c3073704247a7acc91897bfd62ffe",name:"QC - HomePage/Impression_Tracking - DOM Ready",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["qantas.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"en.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/**\ntry {\n    window.addEventListener(\"beforeunload\", function() {\n        trackImpression();\n    });\n\n    var trackImpression = function() {\n        //console.log('tracked impression');\n        if (localStorage.getItem('impressionTracker') !== null) {\n            _satellite.track('Homepage_trackImpression_events');\n        }\n    };\n\n    var numberCounterImpression = 1;\n    var addItem = document.querySelector('.homepage-promotion__button') && document.querySelector('.homepage-promotion__button').href.split('?int_cam=').length > 0 && document.querySelector('.homepage-promotion__button').href.split('?int_cam=')[1];\n    if (addItem) {\n        addItem = decodeURIComponent(addItem);\n        localStorage.setItem('impressionTracker', addItem);\n    }\n} catch (e) {\n    //do nothing\n}\n\nvar mut = new MutationObserver(function(mutations, mut) {\n    try {\n        if (mutations[1].attributeName == \"class\" && mutations[1].target.classList.value.includes('active')) {\n            if (numberCounterImpression == 3) {\n                trackImpression();\n                try {\n                    mut.disconnect();\n                } catch (err) {\n                    //console.log('Error while disconnecting');\n                }\n            } else {\n                numberCounterImpression++;\n                var current = decodeURIComponent(document.querySelector('.' + mutations[1].target.classList.value.split(' ').join('.')).querySelector('.homepage-promotion__button').href.split('?int_cam=')[1]);\n                if (localStorage.getItem('impressionTracker') == null && current != null) {\n                    localStorage.setItem('impressionTracker', current);\n                } else {\n                    var existing = localStorage.getItem('impressionTracker');\n\n                    if (current !== existing) {\n                        localStorage.setItem('impressionTracker', localStorage.getItem('impressionTracker') + ',' + current);\n                    }\n                }\n            }\n        }\n    } catch (error) {\n        //_satellite.notify('Error while setting the impression tracker' + error, 1);\n    }\n});\n\nArray.prototype.slice.call(document.querySelectorAll('.slide')).forEach(function(ele) {\n    mut.observe(ele.querySelector('.container__panel'), {\n        'attributes': true,\n        attributeFilter: ['class'],\n        childList: false,\n        characterData: false\n    });\n});\n**/",language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try{\n    if (typeof (Storage) !== \"undefined\") {\n        var Q_trackImpression = function() {\n            if (typeof localStorage.getItem('impressionTracker') === \"string\") {\n                localStorage.removeItem('localStorage');\n            }\n            var numberCounterImpression = 0;\n            var addItemStorage = '';\n            var addItemElementStorage = '';\n            var addItem = document.querySelectorAll('.homepage-promotion__button, .button--shadow') || '';\n            if (addItem) {\n                addItem.forEach(function (addItemElement) {\n                    if (addItemElement.href.split('?int_cam=').length > 0 && numberCounterImpression <= 4) {\n                        addItemElementStorage = addItemElement.href.split('?int_cam=')[1] || '';\n                        if (addItemElementStorage) {\n                            addItemElementStorage = decodeURIComponent(addItemElementStorage).toLowerCase().trim();\n                            //addItemElementStorage = ';Campaign|'+addItemElementStorage;\n                            if (numberCounterImpression == 0) {\n                                addItemStorage = addItemElementStorage;\n                                numberCounterImpression++;\n                            } else {\n                                if (!addItemStorage.includes(addItemElementStorage)) {\n                                    addItemStorage = addItemStorage + ',' + addItemElementStorage;\n                                    numberCounterImpression++;\n                                }\n                            }\n                        }\n                    }\n                });\n            }\n            if (addItemStorage.length > 0) {\n                localStorage.setItem('impressionTracker', addItemStorage);\n            }\n        }\n        //Q_trackImpression();\n\n        window.addEventListener(\"beforeunload\", function() {\n            Q_trackImpression();\n        });\n    }\n}catch(e){\n    \n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL99025b5fb96e4217bd339d369e18ff0d",name:"1A - MYB - Bottom of Page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(/pl/QFServicing/wds/OverrideServlet|pl/QFServicing/wds/RetrievePNRServlet|pl/QFServicing/wds/tripflow.redirect).*",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){}}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'function setVarsAndEvents(evar, event) {\n    if (window.s) {\n        var departureAirportCode = "";\n        var arrivalAirportCode = "";\n        var bookingReference = "";\n        if (window.digitalData && window.digitalData.event[0] && window.digitalData.event[0].attributes) {\n            departureAirportCode = window.digitalData.event[0].attributes.departureAirportCode;\n            arrivalAirportCode = window.digitalData.event[0].attributes.arrivalAirportCode;\n            bookingReference = window.digitalData.event[0].attributes.bookingReference;\n        }\n        s.eVar43 = evar + \'|\' + departureAirportCode + \'-\' + arrivalAirportCode + \'|\' + bookingReference;\n        s.prop72 = s.eVar43;\n        s.events = event;\n        s.linkTrackEvents = event;\n        s.linkTrackVars = "events,eVar43,prop72";\n        s.tl();\n    }\n}\ntry {\n  \tif (_satellite.getVar(\'OneTrustFlag\').indexOf(\',4,\') > -1) {\n      if (document.querySelector(\'a.gotoTravelReport\') !== null) {\n          document.querySelector(\'a.gotoTravelReport\').addEventListener("click", function() {\n              setVarsAndEvents("addABN", "event145");\n          });\n      }\n      if (document.querySelector(\'a.gotoSeat\') !== null) {\n          document.querySelector(\'a.gotoSeat\').addEventListener("click", function() {\n              setVarsAndEvents("changeSeats", "event145");\n          });\n      }\n      if (document.querySelector(\'div.details a.gotoSpecialRequests\') !== null) {\n          document.querySelector(\'div.details a.gotoSpecialRequests\').addEventListener("click", function() {\n              setVarsAndEvents("editDietaryRequirements", "event145");\n          });\n      }\n      if (document.querySelector(\'a.gotoBag\') !== null) {\n          document.querySelector(\'a.gotoBag\').addEventListener("click", function() {\n              setVarsAndEvents("purchaseBaggage", "event145");\n          });\n      }\n      if (document.querySelector(\'#sportingequipment-promo-id a.gotoSpecialRequests\') !== null) {\n          document.querySelector(\'#sportingequipment-promo-id a.gotoSpecialRequests\').addEventListener("click", function() {\n              setVarsAndEvents("sportingEquipment", "event145");\n          });\n      }\n    }\n} catch (e) {\n    //do nothing \n}',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL992cae9ffff74caf8593d65352c002f7",name:"Frequent Flyer_upgradeFlight_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_upgradeFlight_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=void 0!==$QantasTag.getCustomEvents("upgradeFlight")&&$QantasTag.getCustomEvents("upgradeFlight")[0];if(a){var n=a.attributes;t.eVar88="Flight|"+n.flightNumber+"|"+n.departureAirportCode+"-"+n.arrivalAirportCode+"|"+n.departureDate+"-"+n.arrivalDate,t.prop28=t.eVar88,t.eVar41=n.daysToDeparture,t.prop27=t.eVar41,t.events="event180",t.linkTrackEvents="event180",t.linkTrackVars="prop27,prop28,eVar41,eVar88,events"}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL9975ba798302413caa316deebb34ba8d",name:"FL - Loyalty - New - Cardholders Bonus - Register",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".style-guide__button--solid",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-affiliate-finder.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC79eef23ee409405086e6e9565e555495-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9a1dc56028194953bbe05623e13a7813",name:"tabComponent_TabComponentClick_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tabComponent_TabComponentClick_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar58",type:"value",value:"%digitalData_tabComponent%"}],props:[{name:"prop69",type:"alias",value:"eVar58"}],events:[{name:"event97"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL9a5f0db471e7423c81a23b8048632bb7",name:"Loyalty - New - Cardholders Bonus - Login_Register_Join_CompareCards",events:[{
modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ql-login-submit-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".style-guide__button--solid",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button--shadow",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".LinkButton__autoColour_zneoERVr",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ContentLanding__linkButton_au21j7U1",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus.html",valueIsRegex:!0},{value:"/au/en/frequent-flyer/member-specials/new-cardholders-bonus-20k-offer-thanks.html",valueIsRegex:!0},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-partner.html",valueIsRegex:!0},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-affiliate-finder.html",valueIsRegex:!0},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-email.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-affiliate-finder-may.html",valueIsRegex:!0},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-july.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-july.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-july-email.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-july-email.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-july-registered.html"},{value:"/au/en/frequent-flyer/member-offers/american-express-ultimate-offer.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-october.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-october.html"},{value:"/au/en/frequent-flyer/my-account/offers/new-cardholders-bonus-october-email.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-october-email.html"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.linkTrackVars+=",eVar43",t.eVar43=e.target.innerText}},trackerProperties:{events:[{name:"event40"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Login Register Button Click",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL9b2a61705bc84cdfab51f95bfafbd40f",name:"agencyConnect_registrationStart_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"agencyConnect_registrationStart_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event205"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RL9b9dd5323acf4e10a359b96e69cdd186",name:"Flight Status_flightStatusError_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flight Status_flightStatusError_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("flightStatusError")[0];if(void 0!==a){var n=a.attributes.errorType?a.attributes.errorType:"",r=a.attributes.errorMessage?a.attributes.errorMessage:"",i=a.attributes.errorCode?a.attributes.errorCode:"";t.eVar134=n+"|"+r+"|"+i,t.events="event236",t.linkTrackEvents="event236",t.linkTrackVars="eVar134,events"}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL9bacb92ed6d345068e14d1181e3df70c",name:"Toggle Tracking Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Toggle_Interaction_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"},{value:"aem-publish-stg-a243-05",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC8958868061ec425a90a0b3bc591304e9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9d58b6728a6a44778f2d1feabb8b9b05",name:"flightBookings_jetstarBooking_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_jetstarBooking_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event146"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC2c4f29150a264141a0c8204406c6c8c6-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9e7534bf7e1145489c65e562bdd3cb1b",name:'00 Lib - Library Loaded - 55 - Target v2: Load Target | Add Params to Page Load Request | Configuration QANA-79 | Fire Page Load Request | A4T - analyticsLogging: "client_side"',events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:55}],conditions:[],actions:[{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{alt_cams:{value:"%localStore_altcams%",checked:!1},pageName:{value:"%pageName%",checked:!1},at_property:{value:"6d93bc56-61a9-b10f-ed4b-1c8b2b02b3d0",checked:!1},usercontext:{value:"%usercontext%",checked:!1},flight_pastSearches:{value:"%flightObjectLocalStorage%",checked:!1}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body {opacity: 0}",bodyHidingEnabled:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"window.targetGlobalSettings = window.targetGlobalSettings || {}; \nwindow.targetGlobalSettings.urlSizeLimit = 0;//Only use POST for mbox\nwindow.targetGlobalSettings.secureOnly = true;//Only run on HTTPS\n",language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:'// https://experienceleague.adobe.com/en/docs/target/using/integrate/a4t/a4timplementation\nwindow.targetGlobalSettings = {\n  analyticsLogging: "client_side"\n};',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL9ebdb82141184613b8e985dfdf6e1160",name:"DataDog Script - Careers",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:49}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"careers",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",2,"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%botRule %"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:".*\\/(qf-mybooking|QFServicing)\\/.*",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\n  //set debugging mode ww\n  DD_RUM.debug.enable('rum:*');\n  \n  console.log(\"DD_Position 1: Self Invoking Function IIFE (ww)\");\n  \n  (function(h,o,u,n,d) {\n    h=h[d]=h[d]||{q:[],onReady:function(c){h.q.push(c)}}\n    d=o.createElement(u);d.async=1;d.src=n\n    n=o.getElementsByTagName(u)[0];n.parentNode.insertBefore(d,n)\n  })(window,document,'script','https://static.qantas.com/ams02/a1055/12/prod/master/dd-rum/current/app.js','DD_RUM')\n  \n  DD_RUM.onReady(function() {\n    console.log(\"DD_Position 2: Initialisation Start\");\n    DD_RUM.init({\n      clientToken: 'pubd8d753935a175560c970bdc1187fd18e',\n      applicationId: '64131345-3608-4a8f-bc75-c09c52a48005',\n      site: 'datadoghq.com',\n      service: 'qantas.com',\n      \n    // Specify a version number to identify the deployed version of your application in Datadog d\n      // version: '1.0.0',\n      sessionSampleRate: 100,\n      sessionReplaySampleRate: 100,\n      trackUserInteractions: true,\n      trackResources: true,\n      trackLongTasks: true,\n      trackFrustrations: true,\n      defaultPrivacyLevel: 'mask',\n    },\n    //inputting debug ww 26-5-23 \n    function (status) {console.debug('Datadog RUM initialization status:', status);}\n    \n    );\n    \n    DD_RUM.startSessionReplayRecording();\n    console.log(\"DD_Position 3: Session Recording Started\");\n    \n    DD_RUM.setUser({\n       ecid: _satellite.getVar('Q_ecid')\n    })\n    \n  })\n  \n</script>\n",language:"html"},timeout:2e3,delayNext:!0}]},{id:"RL9faf554dc1424775aef9830d65db6ec8",name:"carBookings_confirmation_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"carBookings_confirmation_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=digitalData.transaction,n=a.line_Items[0].product.cars[0],r=n.pickupLocation,i=n.dropoffLocation,o=n.provider,s=n.carGroup,l=n.carType,c=n.pickupTime,u=n.lengthOfHire,d=a.line_Items[0].quantity,g=a.cash.toFixed(2),p=a.currency.toUpperCase(),m=";Cars|Standalone|"+o+"|"+s+";"+d+";"+g+";;;",f="Cars|Standalone|"+r+"|"+i+"|"+o+"|"+s+"|"+l+"|"+c+"|"+u,v=_satellite.getVar("digitalData.bookingFlow.CONF.bookingReference");t.products=m,t.eVar25=p,t.eVar47=v,t.eVar135=f,t.prop71="D=v47",t.currencyCode=p,t.purchaseID=v,t.linkTrackVars+="eVar25,eVar47,eVar135,purchaseID,products"}catch(e){}}},trackerProperties:{events:[{name:"purchase"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL9ff84d1d579a47b4afc4b7ff02616177",name:"Temporary - Complimentary Lounges - JS Anchor Validate",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"au/en/frequent-flyer/the-qantas-club/complimentary-invitations.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'(function() {     \n  try{\n    var linkInURL = /[?&]link=/.test(location.search);\n    if (linkInURL) {\n      setTimeout(function() {\n        if (typeof window.qff_auth === \'object\') {\n          if (window.qff_auth.isAuthenticated() !== false) {\n            var pnrList = document.querySelector(\'.pnrList\')\n            if(pnrList) {\n              pnrList.scrollIntoView();\n            }\n          }\n        }\n      }, 9000);\n    }\n  }catch(e){console.log("could not scroll to lounge link")}\n})();  \n\n/* Explanation of what the code does:\nThe code is wrapped in a closure and a try/catch.\nIt will only run if it finds the word "link" in one of the parameters of the URL.\nWe intend to call it from the app with:\nhttps://www.qantas.com/au/en/frequent-flyer/the-qantas-club/complimentary-invitations.html?link=1\n\nIt will then wait for 3 seconds (giving enough time to the widget to load)\nThen it will check if the login auth object exists and that the member is authenticated.\nThen it tries to find the DIV with a class called: "pnrList"\nIf it finds this div, it will scroll that div into view. */',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLa13eaeab7caa4e60b3feb47eb404c523",name:"agencyConnect_registrationSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"agencyConnect_registrationSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar18",type:"value",value:"%qac_loginType_number%"}],events:[{name:"event208"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLa25ee17135f84e5b94fa60d072d6c7e8",name:"FL - Loyalty - New - Cardholders Bonus - Join",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button--shadow",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-affiliate-finder.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC189b3a23b6aa479f849e75c92621225e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa27262b30da641289b9928585ef8c141",name:"Flight Status_flightStatusRegisterSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flight Status_flightStatusRegisterSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){void 0!==$QantasTag.getCustomEvents("flightStatusRegisterSuccess")[0]&&(t.events="event237",t.linkTrackEvents="event237",t.linkTrackVars="events")}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLa29e75c9d19d4efe896815d4cdfa38d6",name:"Booking Engine | Custom Event | Seat Map Up  Buttons | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'button[name="seatmap-prev"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | pageURL%",rightOperand:"qf-booking/dyn/air/booking/ALPI"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"Up Button"},{name:"eVar161",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar162",type:"value",value:"CTA Click"},{name:"eVar164",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar165",type:"value",value:"CTA Click"}],events:[{name:"event145",value:"1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Up Button",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | SeatMap - UpButtons%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLa4a89f3d29294e5f868d0ba8da1a0a2a",name:"carBookings_viewInPoints_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"carBookings_viewInPoints_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%digitalData_cars_viewIn%"}],events:[{name:"event129"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC1dfad56eca3d446b8fbc25a6b6d68988-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa4e839285c15434fb71f2c247cf86e6c",name:"Adobe Target - Response Code - Booking Engine",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'//console.debug("DD_Position 4: Capture Adobe Target Rule Start");\n\ndocument.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function(e) {\n    //pushATT used to store all \n    pushATT=[];\n  \n    function targetActivity(pushATT_array) {\n      //console.debug("DD_Position 6.3: Datadog Push ATT START");\n      \n      var DD_ATT = pushATT_array;\n      //console.debug("DD_Position 7: Copy Target Test value into DD_ATT = " + DD_ATT);\n\n      //At this step push to datadog\n      if(window.DD_RUM){\n        window.DD_RUM.addAction(\'Target_Experience\', {\'AdobeTargetTest\':DD_ATT});\n        //console.debug("DD_Position 8: Pushed ATT to DD by using addAction function");\n      }  \n    }\n     \n    //setTimeout(function(){ \n    let ddListner = setInterval(timer, 1000); \n    var endLoop = false;\n    var intervalNum = 0;\n  \n    function timer() {  \n    //console.debug("sessionstorage for AT to start: ", sessionStorage.getItem("dataDogInit"));\n\t\n    intervalNum +=1;\n    //console.debug("interval Num: ", intervalNum);\t\n      \n     if(sessionStorage.getItem("dataDogInit") == \'true\' && window.DD_RUM){\n       //console.debug("Verify if RUM is initialized in AT Response", DD_RUM.getInternalContext());\n       //console.debug("Request succeeded", e.detail.responseTokens);\n       //console.debug("DD_Position 5: Target Event Listener Success");\n    \n      if(!(e.detail.responseTokens === undefined || e.detail.responseTokens == null || e.detail.responseTokens.length <=0)){\n       \n       for(let i = 0; i < e.detail.responseTokens.length; i++) {\n         var activityName = e.detail.responseTokens[i]["activity.name"];\n         var experienceName = e.detail.responseTokens[i]["experience.name"];\n      \n         var adobeTargetTest;\n      \n         if (activityName){\n           adobeTargetTest = activityName + " | " + experienceName\n           pushATT.push(adobeTargetTest);\n           //console.debug("DD_Position 5.1 Pushed into ATT:" + i + adobeTargetTest);\n         }\n         if(i != e.detail.responseTokens.length - 1) {\n           adobeTargetTest += ",";\n         }\n       }\n        \n      }\n      else{\n         pushATT.push("No Adobe Target experiences found");\n      } \n    \n        //Pushing ATT to DD (ww)\n        targetActivity(pushATT);\n        //console.debug("DD_Position 6: ATT All Push" + pushATT); \n        //console.debug("DD_Position 6.1: Verify if RUM is initialized", window.DD_RUM.getInternalContext());\n        endLoop = true;\n  \n\t    if(endLoop){\n          clearInterval(ddListner);\n          //console.debug("cleard loop");\n        } \n     }\n\t \n\t if(intervalNum == 9){\n\t    clearInterval(ddListner);\n\t }\n  \n   }\n    \n   //}, 2000)\n \n    //console.debug("DD_Position 9: Rule Fired!");\n});\n\n',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLa6b8cdf44bc9498e882b687c0ecbafbb",name:"FF_ffLoginSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent_Flyer_ffLoginSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar44",type:"value",value:"%dataLayer.ffLoginSuccess.FFtier%"},{name:"eVar80",type:"value",value:"Frequent Flyer|Logged In"},{name:"eVar18",type:"value",value:"%digitalData_login_ffnumber%"}],props:[{name:"prop54",type:"value",value:"%dataLayer.ffLoginSuccess.FFtier%"},{name:"prop68",type:"value",value:"Frequent Flyer|Logged In"}],events:[{name:"event112"}]}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC58d8a5af125c42aaa4a4e88107489da3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLa786c23dc336454b9c4a0000c72b0a62",name:"competitions_competitionSubmit_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"competitions_competitionSubmit_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.eVar107=$QantasTag.getCustomEvents("competitionSubmit")[0].attributes.competitionName,t.linkTrackVars="events,eVar107"}},trackerProperties:{events:[{name:"event177"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLa7f47920de814049a96a062a1f1a014b",name:"QC - Hotel / Stays - Bottom of page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(\\/au\\/en\\/book-a-trip\\/hotels-and-airbnb.html|\\/au\\/en\\/book-a-trip\\/hotels-and-airbnb\\/hotels.html).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<img src="https://3811564.fls.doubleclick.net/activityi;src=3811564;type=qasgc;cat=qstay;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?" width="1" height="1" style="display:none" />',language:"html"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<img src="https://www.facebook.com/tr?id=162732884309937&ev=PageView&noscript=1" width="1" height="1"  style="display:none" />',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLa8cfa4f6943947d2a9e2cb680356aaf9",name:"flightBookings_redEmailSubscription_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_redEmailSubscription_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{eVars:[{name:"eVar91",type:"value",value:"%digitalData_basket_redEmailSub%"}],events:[{name:"event37"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCd894d12064fe46f688ebc93cf2714ffd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLaab8cdc3d2574437bed0aa82f5d30cac",name:"Qualtrics Snippet - Q.com (En only) - Book a trip || travel info || flight deals ",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["qantas.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:".*\\/au\\/en\\/book-a-trip\\.*",valueIsRegex:!0},{value:".*\\/au\\/en\\/travel-info\\.*",valueIsRegex:!0},{value:".*\\/au\\/en\\/flight-deals.*",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->\n<style>\n  .QSIFeedbackButton {\n    overflow: hidden !important;\n  }\n  button#QSIFeedbackButton-btn {\n    font-weight: 600 !important;\n    text-transform: uppercase;\n  }\n  button#QSIFeedbackButton-btn > div {\n    padding: 14px 10px !important;\n    border-top-right-radius: 4px !important;\n    border-bottom-right-radius: 4px !important;\n  }\n  button#QSIFeedbackButton-btn div {\n    font-size: 16px !important;\n  }\n  .customisable-widget div[data-widget-host="qdd-feedback-widget"] > .loading {\n    display: none !important;\n  }\n</style>\n<script type=\'text/javascript\'>\n(function(){var g=function(e,h,f,g){\nthis.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};\nthis.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};\nthis.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};\nthis.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};\nthis.start=function(){var t=this;"complete"!==document.readyState?window.addEventListener?window.addEventListener("load",function(){t.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){t.go()}):t.go()};};\ntry{(new g(100,"r","QSI_S_ZN_0213TofTAfjNor4","https://zn0213toftafjnor4-qantasgroup.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_0213TofTAfjNor4")).start()}catch(i){}})();\n</script><div id=\'ZN_0213TofTAfjNor4\'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>\n<!--END WEBSITE FEEDBACK SNIPPET-->',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLab43325efa2a4cadae8e1afeb330feae",name:"Custom Event | All Pages | Cart Interaction | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("Data Layer | Action",e),a=_satellite.getVar("Data Layer | Label",e);return-1!=t.indexOf("Add to Cart")||-1!=a.indexOf("Add to Cart")||-1!=t.indexOf("Remove from Cart")||-1!=a.indexOf("Remove from Cart")}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=_satellite.getVar("Data Layer | Action",e),n=_satellite.getVar("Data Layer | Label",e);-1!=a.indexOf("Add to Cart")||-1!=n.indexOf("Add to Cart")?t.events="scAdd":-1==a.indexOf("Remove from Cart")&&-1==n.indexOf("Remove from Cart")||(t.events="scRemove"),t.products="";for(var r=0;r<e.detail.analyticsData.product.length;r++){var i=e.detail.analyticsData.product[r].productName||"",o=e.detail.analyticsData.product[r].productQuantity||"",s=e.detail.analyticsData.product[r].productCategory||"",l=e.detail.analyticsData.product[r].productPriceCash||"",c=e.detail.analyticsData.product[r].productRewardType||"";t.products+=s.replace(/[|,;]/g," - ")+";"+i.replace(/[|,;]/g," - ")+";"+o+";"+l+";;eVar191="+i.replace(/[|,;]/g," - ")+"|eVar192="+o+"|eVar193="+s.replace(/[|,;]/g," - ")+"|eVar194="+l+"|eVar195="+c,r!=e.detail.analyticsData.product.length-1&&(t.products+=",")}t.linkTrackVars+=",products,events",t.linkTrackEvents+=",scAdd,scRemove"}},trackerProperties:{eVars:[{name:"eVar59",type:"value",value:"%Data Layer | Hotel Filter Details%"},{name:"eVar161",type:"value",value:"%Data Layer | Category%"},{name:"eVar162",type:"value",value:"%Data Layer | Action%"},{name:"eVar163",type:"value",value:"%Data Layer | Label%"},{name:"eVar164",type:"value",value:"%Data Layer | Journey Name%"},{name:"eVar165",type:"value",value:"%Data Layer | Journey Step%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLabb59bc1dbd249f5ac61a29d2844978d",name:"3PTY: FAQs - Top of page",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["custhelp.com"]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{channel:"FAQs"}},timeout:2e3,delayNext:!0}]},{id:"RLad58f51e5f8242ff9a6ade2b275bf9e3",name:"manageYourBooking_confirmation_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_confirmation_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(digitalData&&digitalData.transaction&&digitalData.transaction.line_Items[0]&&digitalData.transaction.line_Items[0].product&&digitalData.transaction.line_Items[0].product.seats){var a="",n=digitalData.transaction.line_Items,r=!1;if(n.forEach((function(e){e.product.seats.forEach((function(e,t){t>0&&(a+=","),a+=";Seats:Manage:",a+=e.seatType+"|",a+=e.departureAirportCode+"-"+e.arrivalAirportCode+"|",a+=e.seatCost+";",a+=e.quantity+";",a+=e.cash+";",a+="event105="+(""!=e.cash?e.cash:0),a+=";event106="+(""!=e.points?e.points:0),void 0!==e.cash&&parseInt(e.cash)>2e3&&(r=!0)}))})),t.products=a,c=(l=new Date).getFullYear()+("0"+(l.getMonth()+1)).slice(-2)+("0"+l.getDate()).slice(-2),t.purchaseID=c+"|"+digitalData.transaction.bookingReference,t.eVar47=c+"|"+digitalData.transaction.bookingReference,t.prop71="D=v47",t.eVar25=_satellite.getVar("digitalData.bookingFlow.CONF.currency"),t.eVar27=digitalData.transaction.paymentType,t.eVar28=digitalData.transaction.methodOfPay,t.prop17="D=v28",t.eVar56=_satellite.getVar("digitalData_exposedBaseFacts_customerType"),t.currencyCode=_satellite.getVar("digitalData.bookingFlow.CONF.currency"),!0===r){var i="",o="",s="";void 0!==digitalData.transaction.bookingReference&&(i=digitalData.transaction.bookingReference),void 0!==digitalData.transaction.currency&&(o=digitalData.transaction.currency),void 0!==digitalData.basket&&void 0!==digitalData.basket.currency&&(s=digitalData.basket.currency),t.eVar191="BR:"+i+" currencyCode:"+_satellite.getVar("digitalData.bookingFlow.CONF.currency")+" Trans Currency:"+o+" Basket Currency:"+s+" Products:"+t.products,t.linkTrackVars+=",eVar47,prop71,eVar25,eVar27,eVar28,prop17,eVar56,products,eVar191"}else t.linkTrackVars+=",eVar47,prop71,eVar25,eVar27,eVar28,prop17,eVar56,products"}else if(digitalData&&digitalData.transaction&&digitalData.transaction.line_Items[0]&&digitalData.transaction.line_Items[0].product&&digitalData.transaction.line_Items[0].product.baggage){n=digitalData.transaction.line_Items,a="";var l,c,u=0,d=0,g=0;r=!1,n.forEach((function(e){e.product.baggage.forEach((function(e,t){t>0&&(a+=","),u=0==u?e.adults:u,d=0==d?e.children:d,g=0==g?e.infants:g,a+=";Baggage:Manage:",a+=e.seatType+"|",a+=e.departureAirportCode+"-"+e.arrivalAirportCode+";",a+=e.quantity+";",a+=e.cash+";",a+="event105="+(""!=e.cash?e.cash:0),
a+=";event106="+(""!=e.points?e.points:0),void 0!==e.cash&&parseInt(e.cash)>2e3&&(r=!0)}))})),t.products=a,c=(l=new Date).getFullYear()+("0"+(l.getMonth()+1)).slice(-2)+("0"+l.getDate()).slice(-2),t.purchaseID=c+"|"+digitalData.transaction.bookingReference,t.eVar47=c+"|"+digitalData.transaction.bookingReference,t.prop71="D=v47",t.eVar25=_satellite.getVar("digitalData.bookingFlow.CONF.currency"),t.eVar27=digitalData.transaction.paymentType,t.eVar28=digitalData.transaction.methodOfPay,t.prop17="D=v28",t.eVar11=u+"|"+d+"|"+g,t.prop63="D=v11",t.eVar56=_satellite.getVar("digitalData_exposedBaseFacts_customerType"),t.currencyCode=_satellite.getVar("digitalData.bookingFlow.CONF.currency"),!0===r?(i="",o="",s="",void 0!==digitalData.transaction.bookingReference&&(i=digitalData.transaction.bookingReference),void 0!==digitalData.transaction.currency&&(o=digitalData.transaction.currency),void 0!==digitalData.basket&&void 0!==digitalData.basket.currency&&(s=digitalData.basket.currency),t.eVar191="BR:"+i+" currencyCode:"+_satellite.getVar("digitalData.bookingFlow.CONF.currency")+" Trans Currency:"+o+" Basket Currency:"+s+" Products:"+t.products,t.linkTrackVars+=",eVar11,prop63,eVar47,prop71,eVar25,eVar27,eVar28,prop17,eVar56,products,eVar191"):t.linkTrackVars+=",eVar11,prop63,eVar47,prop71,eVar25,eVar27,eVar28,prop17,eVar56,products"}}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar60",type:"value",value:"%digitalData_myb_transaction_pageName%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop7",type:"alias",value:"eVar60"},{name:"prop74",type:"alias",value:"eVar77"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop12",type:"alias",value:"eVar31"}],events:[{name:"purchase"},{name:"event105"},{name:"event106"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC2138dde400994e26951361b99c4a495c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLae0acf0fc89e4878911390f1deca65cc",name:"Custom Event | About The Program | Onboarding | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return-1!=e.detail.analyticsData.event.eventAction.indexOf("CTA Click")&&-1!=e.detail.analyticsData.journey.journeyName.indexOf("About the program | Qantas Frequent Flyer")}},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%Data Layer | eVar152%"},{name:"eVar153",type:"value",value:"%Data Layer | eVar153%"},{name:"eVar161",type:"value",value:"%Data Layer | Category%"},{name:"eVar162",type:"value",value:"%Data Layer | Action%"},{name:"eVar163",type:"value",value:"%Data Layer | Label%"},{name:"eVar164",type:"value",value:"%Data Layer | Journey Name%"},{name:"eVar165",type:"value",value:"%Data Layer | Journey Step%"}],pageURL:"%Data Layer | Page URL%",pageName:"%Data Layer | Page Name%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%Data Layer | Category%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLae2a3eb80f594b4da67a1f423ea711fa",name:"QC - Hotel / airbnb - Bottom of page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/au/en/book-a-trip/hotels-and-airbnb/airbnb.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<img src="https://3811564.fls.doubleclick.net/activityi;src=3811564;type=qasgc;cat=qabnb;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?" width="1" height="1"  style="display:none" />',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLaf162a061494418eae33a7127daaf892",name:"Optimizely Activity Tracking",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"optimisationTestInfoUpdated",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCad91dd2dd965432a94dfecbe82926ba0-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%Optimizely Experiment%",type:"Optimizely Experiment",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLaf61d9bd3f3d4861b546413dc48bc4ef",name:"shoppingCart_cartItemCheckOut_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"shoppingCart_cartItemCheckOut_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event49"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLaf87409189304f67b6ac60ce633a3463",name:"Booking Engine | MYB - Seat Selection | Checkout | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventCategory%",rightOperand:"Flights - Seats"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventLabel%",rightOperand:"Manage Your Booking"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Seats Payment Screen Loaded"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Checkout + GlobalEvent%",type:"commerce.checkouts",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLb182e878f6d54f0aa5214b1f400177da",name:"MAC - Confetti Moment Dismiss",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MAC_ConfetttiMomentDissmiss_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05-phoenix-2.qcpaws.qantas.com.au"},{value:"www.qantas.com"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC32c3046e35eb40f194b96fdf9e2c8b7e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb1c00e5d6ba7470cb3b05898b29d0a50",name:"pageError_creditVoucherFail_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageError_creditVoucherFail_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar79",type:"value",value:"%digitalData.event.attributes.error%"}],events:[{name:"event109"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLb1ed15c91620459c95b09350be91faa4",name:"Frequent Flyer_sortBy_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_sortBy_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("sortBy");if(a){a=a[a.length-1];var n="";a.attributes.listing.line_items.forEach((function(e,t){t>0&&(n+=","),e.product.creditCard.forEach((function(e,t){t>0&&t<=25&&(n+=","),t<=25&&(n=(n=(n=(n=n+";"+e.type)+"|"+e.provider)+"|"+e.cardName)+"|"+e.annualFee,n+=";1;;;")}))})),n.length>0&&(t.products=n,t.eVar54=a.attributes.type+"|"+a.attributes.sortBy,t.events="event125",t.linkTrackEvents="event125",t.linkTrackVars="eVar54,products,events")}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCd58ffdbc015446b4ba766088b51b4a6a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb253419961e440d2a7710955df2fb6c6",name:"TOOL: MCID Passthrough",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["custhelp.com","qantas.com.au","qantas.net.au","qantasnewsroom.com.au","qbe.com","resultspage.com"]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5e8ee3e99c5042899c5b434f7042a706-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb2d67bc6b09b47bea2dc2019c120bfe6",name:"DataDog Masking",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7560d4fde2734a0cb62afd2fff745600-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb2e6b2a2d2a14b36a6db0b6cdf3aec40",name:"flightBookings_viewShoppingCart_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_viewShoppingCart_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"scView"}]}},timeout:2e3,delayNext:!0}]},{id:"RLb3bf99e975e747629bc2159686aa11c4",name:"Qualtrics Snippet Involuntary Disruptions - WW",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("Data Layer | Journey Step",e),a=_satellite.getVar("Data Layer | Journey Name",e);return-1!=t.indexOf("3 Confirmation Page")&&-1!=a.indexOf("Involuntary Flight Change")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC82b7757c99d842ab8788c20308d3cf38-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb3f5d658716543be92b46205296bafaa",name:"shoppingCart_cartClick_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"shoppingCart_cartClick_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar148",type:"value",value:"%shoppingCart-Notifications%"}],events:[{name:"event48"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLb456839605054c1a9bd1356323fe2db0",name:"MAC - Hyperlink",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Hyperlinks_Hyperlinks_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC18fd8476744044a791fd5654bf467ebe-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb50916c3f3c84da79b81bd1383219f43",name:"manageYourBooking_checkInStart_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_checkInStart_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"%p2f-evar43%"}],props:[{name:"prop72",type:"value",value:"%p2f-evar43%"}],events:[{name:"event145"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLb57488762ee840f5800fb6cf99217194",name:"Accor - Link Success",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"accor_linkSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event25"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC1875b0a80d6e4d18886dfdf3230a1430-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb6004ed7368a47efab36c56a51b2123b",name:"target_targetActivity_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"target_targetActivity_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar175",type:"value",value:"%digitalData.event.attributes.targetActivity%"}],props:[{name:"prop44",type:"alias",value:"eVar175"}],events:[{name:"event991"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLb7c26220b4834ccf9dcbd10a995ef94a",name:"Booking Engine | Custom Event | Seat Map Preferred Seating | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"i.icon.icon-seatmap-cell.dwm-seat.standard-cell.seatmap-icon-preferredSeating",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | pageURL%",rightOperand:"qf-booking/dyn/air/booking/ALPI"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"Preferred Seat"},{name:"eVar161",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar162",type:"value",value:"CTA Click"},{name:"eVar164",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar165",type:"value",value:"CTA Click"}],events:[{name:"event145",value:"1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Preferred Seat",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | SeatMap - PreferredSeating%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLb85c96cda84645d7a1145c9cc230c5a4",name:"Global Event - User Action",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"userAction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.eVar178=_satellite.getVar("userAction")}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLb8b373239b0e455b9780dad561f7c686",name:"Hotels_hotelBookingSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Hotels_hotelBookingSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar33",type:"value",value:"%hotels_search_form_data%"}],events:[{name:"event110"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"au/en/book-a-trip/hotels-and-airbnb.html",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLb8be24b6677e4e81a9408080233cdeb3",name:"Frequent Flyer_paymentDetails_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_paymentDetails_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/frequent-flyer/discover-and-join/join.html",valueIsRegex:!0},{value:"/frequent-flyer/discover-and-join/join-now.html",valueIsRegex:!0}]},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digitalData_fflyer_joinStart"),t.linkTrackVars+=",products"}},trackerProperties:{events:[{name:"event46"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLb937376df00746dcae47c4a8d93edc09",name:"RecentSearch_recentSearchCurrency_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"RecentSearch_recentSearchCurrency_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){!function(){function e(e){for(var t="",a=0;a<e.length;a++)t+=(";RecentSearch|"+e[a].departurePort+"-"+e[a].destinationPort+"|"+e[a].tripType+"|"+e[a].travelType+"|"+e[a].travelClass+"|"+e[a].currencyCode+";").replace(new RegExp(",","g"),"")+";;,";return t.slice(0,-1)}var a=$QantasTag&&$QantasTag.getCustomEvents("recentSearchCurrency");if(a&&a.length){var n=a[a.length-1];if(n&&n.attributes){var r=e([n.attributes]);t.products=r,t.eVar25=n.attributes.configCurrencyCode,t.events="event226,prodView",t.linkTrackEvents="event226,prodView",t.linkTrackVars="eVar25,products,events"}}}()}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLb971b15adff74abcb029db5f20a0c03d",name:"PartnerSignUpNow",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"PartnerCTAEvents"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7bbbcf8e2ee24f3fb0cb9eda8e145685-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbafa9f6bbb4d4f97a67e1fb19442bf09",name:"Pets_petsBookingSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Pets_petsBookingSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(window.dataLayer&&(e=dataLayer.getEvents("petsBookingSearch")[dataLayer.getEvents("petsBookingSearch").length-1])&&void 0!==e&&void 0!==e.attributes){var a="",n="";t.eVar80="Non-Frequent Flyer",e.attributes.isMember&&e.attributes.isLoggedIn&&("Yes"==e.attributes.isMember||"Yes"==e.attributes.isLoggedIn)&&(t.eVar80="Frequent Flyer|Not Logged In",a+="event137",e.attributes.frequentFlyerNumber&&e.attributes.frequentFlyerNumber.value&&(t.eVar45=_satellite.cookie.get("QF_VALUE"),n+=",eVar45"),digitalData.user&&digitalData.user.frequentFlyerNumber&&(t.eVar80="Frequent Flyer|Logged In"),t.prop68=t.eVar80,n+=",eVar80,prop68"),a+=a.length>0?",event110":"event110",e.attributes.location&&e.attributes.checkOutDate&&(t.eVar33="Pets|"+e.attributes.location+"|"+e.attributes.checkInDate+"|"+e.attributes.checkOutDate,n+=",eVar33"),t.events=a,t.linkTrackEvents=t.events,t.linkTrackVars="events"+n}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"/au/en/book-a-trip/pets.html",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLbb11a1741e8c47c0929f4817509e911d",name:"flightBookings_changeDate_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_changeDate_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{events:[{name:"event127"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCf1048baa85f94c17aad60585ef650900-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbc401dee19f0476fb977f4925608fde9",name:"Frequent Flyer_findOutMore_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_findOutMore_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("findOutMore");a&&(a=a[a.length-1],t.products=";"+a.attributes.type+"|"+a.attributes.provider+"|"+a.attributes.cardName+"|"+a.attributes.annualFee+"|;1;;;",t.events="event60",t.linkTrackEvents="event60",t.eVar78=a.attributes.type+"|"+a.attributes.flipType+"|Card Position: "+a.attributes.cardPosition,t.eVar29=a.attributes.type+"|"+a.attributes.deal,t.linkTrackVars="eVar78,eVar29,products,events")}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCce8ae85e7ba3496bac9ed1db8038a36d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCbfed0a2bd62c48f8b141bde46015778a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCe21a0664b5a64391a5f9eb4e47c7ac10-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC44e6a534ec4046aa9a6bfb24fc5247c9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLbdfc12f4815b4cd58958dff8462bc4d4",name:"bp_linkSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bp_linkSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event253"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLbe3890efc4d14cbc85f98de65cf5c78f",name:"flightBookings_multicityBoundView_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_multicityBoundView_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("multicityBoundView");if(void 0!==a){var n=a[a.length-1];void 0!==n&&void 0!==n.attributes&&(t.eVar108=n.attributes.lowestRestricEco+"-"+n.attributes.highestRestricEco,t.eVar109=n.attributes.lowestFlexEco+"-"+n.attributes.highestFlexEco,t.eVar110=n.attributes.lowestRestricBusiness+"-"+n.attributes.highestRestricBusiness,t.linkTrackVars+=",eVar108,eVar109,eVar110")}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLbec57c25d3d347119838b731b7897a00",name:"Checkin_forwardBoardingPassMethod_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_forwardBoardingPassMethod_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar63",type:"value",value:"%digitalData_checkin_forwardingMethod%"}],events:[{name:"event184"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLbf1c6f4578d84e9bb2f10b8d8c7e3a92",name:"creditVoucher_flightCancellation_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"creditVoucher_flightCancellation_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("digitalData.event.attributes.voucherCurrency");t.currencyCode=a}catch(e){}}},trackerProperties:{eVars:[{name:"eVar144",type:"value",value:"%digitalData.event.attributes.voucherReference%"},{name:"eVar145",type:"value",value:"%digitalData.event.attributes.voucherCurrency%"}],events:[{name:"event119"},{name:"event121",value:"%digitalData.event.attributes.voucherValue%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLc2e94cf40f0f4ce2807a3dd39d6a0339",name:"Booking Engine | Custom Event | Seat Map Done Button Confirmation | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'button[id="seats-btn-continue"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | pageURL%",rightOperand:"qf-booking/dyn/air/booking/ALPI"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Done "==document.querySelector('button[id="seats-btn-continue"]').textContent}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | SeatMap - DoneButton%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLc397123029924ba0bb8ceedb7e340ea0",name:"bp_joinSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bp_joinSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event252"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLc3fde95f609446b59b0fd0298d64d0a5",name:"Flight Notifications_flightNotificationsCancel_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flight Notifications_flightNotificationsCancel_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("flightNotificationsCancel");if(a){var n=(a=a[a.length-1]).attributes.notificationType;t.eVar120=n,t.events="event217",t.linkTrackEvents="event217",t.linkTrackVars="eVar120,events"}}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{
type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLc5cafbb2d843491d9f414cf510799f65",name:"Q.com | Custom Event | Home Page 2nd Navigation (Web View) | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[analytics-data-component="nav|link"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("NavHomePage",analyticsData.detail.analyticsData.journey.pageName),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%NavHomePage%",rightOperand:"Fly with the Spirit of Australia | Qantas"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"nav|link"==this.getAttribute("analytics-data-component")}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC637cc34662184334b9a52dc764c38896-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | 2ndNavClickWeb + GlobalEvent%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLc5e0b7de7d484c2588ec288698e8c0b5",name:"Frequent Flyer_learnMore_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_learnMore_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("learnMore");a&&(a=a[a.length-1],t.products=";"+a.attributes.type+"|"+a.attributes.provider+"|"+a.attributes.cardName+"|"+a.attributes.annualFee+"|;1;;;",t.events="event60",t.linkTrackEvents="event60",t.eVar78=a.attributes.type+"|"+a.attributes.flipType+"|Card Position: "+a.attributes.cardPosition,t.eVar29=a.attributes.type+"|"+a.attributes.deal,t.linkTrackVars="eVar78,eVar29,products,events")}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5ccfa9f59ae143a7a80b1c210b4fa21c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC9fcfd8c1d2874003aa5b0e7f283a5a77-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCafa2ee9cf9b74d428b185c955eb983cf-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc68b91d53d944bd2aed92744b9e59132",name:"Checkin_confirmChangeSeats_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_confirmChangeSeats_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event95"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLc8331b67b35144dfbef0b06d4d703f4f",name:"Direct and Earn",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*\\/au\\/en\\/frequent\\-flyer\\/member\\-offers\\/new\\-cardholders\\-bonus\\-affiliate\\-finder\\.html.*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5ae393c726494581b9d939301ef97caf-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc9094a1d9d944e71be1ff1cd9cdeaf9a",name:"extendedSearch_searchFlights_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"extendedSearch_searchFlights_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("searchFlights");setVars("",a);var n=a.length-1;t.eVar106=a[n].attributes.zoomLevel,t.prop39=t.eVar106;var r=864e5,i=new Date(a[n].attributes.departureDate),o=new Date,s=Math.round(Math.abs((i.getTime()-o.getTime())/r));t.eVar41=0==s?"0":s,t.eVar11=a[n].attributes.adults+"|"+a[n].attributes.children+"|"+a[n].attributes.infants,t.prop63=t.eVar11,t.eVar25=a[n].attributes.currency,t.eVar14=a[n].attributes.bookingType,t.prop24=t.eVar14,t.events="event178",t.linkTrackEvents="event178",t.linkTrackVars+=",eVar11,eVar25,,eVar14,eVar41,eVar106,prop39,prop24,prop63,events"}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCd404b847d41a48d994b00be787d61831-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc93a2d3377eb4f7ea9f95c012ee964e3",name:"activities_activitiesBookingSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"activities_activitiesBookingSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar33",type:"value",value:"%activities_form_data%"}],events:[{name:"event110"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"au/en/book-a-trip/activities.html",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLca223a140dac45d281d17e922ef3e8a4",name:"QC - Dreamliner - Bottom of page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"dreamliner.qantas.com",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{channel:"dreamliner"}},timeout:2e3,delayNext:!0}]},{id:"RLca5d675d1b324e0eb8ce6566107f9e4c",name:"00 Lib - Library Loaded - 40 - Target Pre-Hiding Snippet - FLICKER TESTING",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:40}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"//prehiding snippet for Adobe Target with asynchronous tags deployment\n\n;(function(win, doc, style, timeout) {\n  var STYLE_ID = 'at-body-style';\n\n  function getParent() {\n    return doc.getElementsByTagName('head')[0];\n  }\n\n  function addStyle(parent, id, def) {\n    if (!parent) {\n      return;\n    }\n\n    var style = doc.createElement('style');\n    style.id = id;\n    style.innerHTML = def;\n    parent.appendChild(style);\n  }\n\n  function removeStyle(parent, id) {\n    if (!parent) {\n      return;\n    }\n\n    var style = doc.getElementById(id);\n\n    if (!style) {\n      return;\n    }\n\n    parent.removeChild(style);\n  }\n\n  addStyle(getParent(), STYLE_ID, style);\n  setTimeout(function() {\n    removeStyle(getParent(), STYLE_ID);\n  }, timeout);\n}(window, document, \"body {opacity: 0 !important}\", 3000));",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLcb1077c1b0e6416bbc06883dc540fa7e",name:"MAC - Confetti Moment More than 500 points",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MAC_ConfetttiMomentMorethan500points_events"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MAC_ConfetttiMomentMorethan300points_events"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MAC_ConfettiMomentMorethan300points_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05-phoenix-2.qcpaws.qantas.com.au"},{value:"www.qantas.com"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCd6da26ca596942bdbfdf6166bef3a8c3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcb63953e66234ce1b937a53531ad5215",name:"Booking Engine | MYB - Seat Selection | Order Confirmation | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventCategory%",rightOperand:"Flights - Seats"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventLabel%",rightOperand:"Manage Your Booking"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Seats Payment Confirmed"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | OrderConfirmation + GlobalEvent%",type:"commerce.purchases",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLcbcb15b5ce1047839335d79f40c9ccf2",name:"flightBookings_upgradeMyFlights_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_upgradeMyFlights_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event161"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC13660e7daafa485f85aa3bfdae925bac-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLccdb9d6d51914b9d9c03f456587b5f75",name:"transfers_transfersBookingSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"transfers_transfersBookingSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar33",type:"value",value:"%transfer_form_data%"}],events:[{name:"event110"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"au/en/book-a-trip/transfers.html",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLcd39c4458af14a98a1390ec26b02aa84",name:"flightBookings_changeFlightSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_changeFlightSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products="",t.eVar108="",t.eVar109="",t.eVar110=""}},trackerProperties:{eVars:[{name:"eVar10",type:"value",value:"%digitalData_flight_search%"}],props:[{name:"prop19",type:"alias",value:"eVar10"}],events:[{name:"event126"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC3e7226912c364fd88829f969eaa5bfd3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLce278d5a9aec46e9a3d0ddcc7ffbfd04",name:"Logged In Status | Storage Setter Rule",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:10}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC9e555e9d428a4bdba0557cd719846fe8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcf8c122fdbb5431ead66adbb2dd093e8",name:"Checkin_addToAppleWallet_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_addToAppleWallet_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event147"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLcfce16cabb58410381ab4f48789f205d",name:"Accor - CTA Link Account or Join Accor",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"accor_linkJoin_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event26"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLd182d4826a4846bea109df3f0e5e5fb5",name:"manageYourBooking_confirmSeats_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_confirmSeats_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digitalData.servicingFlow.SEAT.seatSelection"),t.linkTrackVars+=",products"}},trackerProperties:{eVars:[{name:"eVar137",type:"value",value:"%digitalData.event.attributes.autoSeatSelection%"}],events:[{name:"event154"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7792701a2ea64d9babed677cebb38b99-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd2645b8027cf418b95998cb1e6ecfcbb",name:"Booking Engine | Custom Event | Seat Map Standard Seating | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"i.icon.icon-seatmap-cell.standard-cell:not(.icon-legroom-seat):not(.seatmap-icon-preferredSeating)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | pageURL%",rightOperand:"qf-booking/dyn/air/booking/ALPI"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"Standard Seat"},{name:"eVar161",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar162",type:"value",value:"CTA Click"},{name:"eVar164",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar165",type:"value",value:"CTA Click"}],events:[{name:"event145",value:"1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Standard Seat",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | SeatMap - StandardSeat%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLd2f259d0b5fc4d4c939dffffd484e049",name:"flightBookings_smeBookingType_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_smeBookingType_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("smeBookingType");a=a[a.length-1].attributes,t.eVar18=a.smeBookingType+"|"+a.businessID+"|"+a.businessName,t.prop51=t.eVar18,t.events="event182",t.linkTrackEvents="event182",t.eVar68="",t.linkTrackVars="eVar18,prop51,events"}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLd3b70a6f52ef460d885ca0214bb76cd7",name:"QC - Email - Onload",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(/travel-info/email-subscription.html|/travel-info/email-subscription/update-confirmation.html).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC090215674f4445a1959e0943013bce9c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd4d85ea0ce6840448b2566416d89a698",name:"Frequent Flyer_advertClick_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_advertClick_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("advertClick");a&&(a=a[a.length-1],t.events="event200",t.linkTrackEvents="event200",t.eVar97=a.attributes.type+"|"+a.attributes.company+"|"+a.attributes.promotionName,t.linkTrackVars="eVar97,events")}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLd845fb95f4bf4b31b86f6ef8c964b2ea",name:"MAC - Points Banner Static Banner",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"FFPointsBanner_StaticBanner_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC8875c92d70f34274b6094ef592136349-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd8c6ee915b6740a19bf17eb8ae12d770",name:"RecentSearch_recentSearchClicked_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"RecentSearch_recentSearchClicked_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){!function(){function e(e){for(var t="",a=0;a<e.length;a++)t+=(";RecentSearch|"+e[a].departurePort+"-"+e[a].destinationPort+"|"+e[a].tripType+"|"+e[a].travelType+"|"+e[a].travelClass+"|"+e[a].configCurrencyCode+";").replace(new RegExp(",","g"),"")+";;,";return t.slice(0,-1)}var a=$QantasTag&&$QantasTag.getCustomEvents("recentSearchClicked");if(a&&a.length){var n=a[a.length-1];if(n&&n.attributes){var r=e([n.attributes]);t.products=r,t.eVar74=n.attributes.departurePort+"-"+n.attributes.destinationPort,t.events="event225,prodView",t.linkTrackEvents="event225,prodView",t.linkTrackVars="eVar74,products,events"}}}()}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLd99ba08eeb1f429c9e9efb3ca6749430",name:"FL - NTDE - registration confirmation",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".style-guide__button--solid",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus.html"},{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus-partner.html"}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC10b94c4b3d504304be1747e6e34eb134-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLda3796c79424403684d357a1f6260451",name:"Booking Engine | Custom Event | Order Confirmation | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%event.detail.analyticsData.event.eventAction%",rightOperand:"Order Confirmation"},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | OrderConfirmation + GlobalEvent%",type:"commerce.purchases",instanceName:"alloy",edgeConfigOverrides:{staging:{},production:{},development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLda6545a1e75e4b179e25c502398a8cec",name:"flightBookings_viewCarOptions_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_viewCarOptions_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products="",t.eVar68=""}},trackerProperties:{eVars:[{name:"eVar29",type:"value",value:"%digitalData_cars_viewin_deal%"}],events:[{name:"event192"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5dd8deb1ea61463692446937f4b61c32-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdace022dd4014a47b4fdba989156d197",name:"MAC - Confetti Moment Dismiss More than 500 points",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MAC_ConfetttiMomentDissmiss500points_events"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MAC_ConfetttiMomentDissmiss300points_events"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"MAC_ConfettiMomentDismiss300points_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05-phoenix-2.qcpaws.qantas.com.au"},{value:"www.qantas.com"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCda2a7f5f62ec4c8bb6849dca358b0a2f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdcc7bee6ab264079a3bb41942e6867d7",name:"Activities_activitiesListings_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Activities_activitiesListings_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){!function(){function e(e){for(var t="",a=0;a<e.length;a++){var n=e[a].product.Activities[0];t+=(";Activities|"+n.type+"|"+n.activityName+"|"+n.activityLocation+";"+e[a].product.quantity+";"+e[a].product.cash).replace(new RegExp(",","g"),"")+";;,"}return t.slice(0,-1)}var a=$QantasTag.getCustomEvents("activitiesListings");if(a&&a.length){var n=a[a.length-1],r=n.attributes&&n.attributes.listing&&n.attributes.listing.line_items,i=r&&r.length&&e(r);t.products=i,t.events="event402,prodView",t.linkTrackEvents="event402,prodView",t.linkTrackVars="products,events"}}()}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLdcd984e0b1a142b483a43cd78fd9a80f",name:"HACK: Hotel URL Fix Destination - DOMReady",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["qantas.com","qantas.com.au"]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(/destinations/).*",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC1aba27fd85fc4cdaba626d61918d522b-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLdd11837fd7884be4b6886f2d90d20d76",name:"Global Button - Green Tier",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Global_Button_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"},{value:"aem-publish-stg-a243-05",valueIsRegex:!0},{value:"test.qantas.com",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCc2fd65641bd34bbba26bcb78a1f7a091-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLddb13d58c38f46299bde3f53b553c884",name:"manageYourBooking_cancelBooking_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_cancelBooking_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"%p2f-evar43%"}],props:[{name:"prop72",type:"value",value:"%p2f-evar43%"}],events:[{name:"event145"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLde33c090660746edb43cf33495399181",name:"airportTransfer_survey_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"airportTransfer_survey_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=$QantasTag.getCustomEvents("survey")||!1;if(a){var n=(a=a[a.length-1]).attributes,r=n.satisfactionScore+"|"+n.airportCode;t.eVar172=r,t.events="event219",t.linkTrackEvents="event219",t.linkTrackVars="eVar172,events"}}catch(e){}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLde4d060c7c2b4051b64a83490f1de9da",name:"creditVoucher_confirmation_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"creditVoucher_confirmation_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=digitalData.transaction,n=a.line_Items[0].product.flights[0],r=n.departureAirportCode,i=n.arrivalAirportCode,o=n.travelType,s=n.travelClass,l=n.travelTripType,c=n.departureDate,u=a.passengerCount,d=a.subTotal.toFixed(2),g=a.currency.toUpperCase(),p=a.totalRedemptionValue.toFixed(2),m=a.flightCreditValue.toFixed(2),f=_satellite.getVar("digitalData.event.attributes.voucherReference"),v=_satellite.getVar("digitalData.event.attributes.voucherCurrency"),h=";Flights:Voucher Redemption:"+r+"-"+i+";"+u+";"+d+";event121="+_satellite.getVar("digitalData.event.attributes.voucherValue")+"|event262="+p+"|event263="+m,b="Flights:Voucher Redemption|"+r+"|"+i+"|"+o+"|"+s+"|"+l+"|"+c+"|n",y=a.bookingReference;t.products=h,t.eVar25=g,t.eVar47=y,t.eVar135=b,t.eVar144=f,t.eVar145=v,t.prop71="D=v47",t.currencyCode=g,t.purchaseID=y,t.linkTrackVars+=",eVar25,eVar47,eVar135,eVar144,eVar145,purchaseID,products"}catch(e){}}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar27",type:"value",value:"%digitalData.bookingFlow.CONF.paymentType%"},{name:"eVar28",type:"value",value:"%digitalData.bookingFlow.CONF.methodOfPay%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar60",type:"value",value:"%digitalData.bookingFlow.transaction.pagename%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{
name:"prop7",type:"value",value:"%digitalData.bookingFlow.transaction.pagename%"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop17",type:"alias",value:"eVar28"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop74",type:"alias",value:"eVar77"}],events:[{name:"purchase"}],pageName:"%pageName%"}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RLe0336a9efab84fccba78616f74634ffe",name:"Q.com | Custom Event | Global Navigation  - Non Drop Down Clicks | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.__link.__dtbp",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.setVar("NavHomePage",analyticsData.detail.analyticsData.journey.pageName),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%NavHomePage%",rightOperand:"Fly with the Spirit of Australia | Qantas"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC379b8c511ac4476d8f27493aec4e6d98-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | GlobalNavNonDropdownClick + GlobalEvent%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLe077763e21e44143a73150eff5ad683e",name:"Choose Rewards - Green Tier",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"GreenTier_ChooseRewards_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"aem-publish-dev-a243-05",valueIsRegex:!0},{value:"www.qantas.com"},{value:"aem-publish-stg-a243-05",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar152",type:"value",value:"%PartnerSignUpNow%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC52ffe13ccc5b4754a7c501f3a4f9bf2f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe1ddb992afdd44f0916e1dbd7595529e",name:" Q.com.ja - TTD Universal Tag - All Pages",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["qantas.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"jp/ja",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script src="https://js.adsrvr.org/up_loader.1.1.0.js" type="text/javascript"></script>\n<script type="text/javascript">\n  ttd_dom_ready( function() {\n    if (typeof TTDUniversalPixelApi === \'function\') {\n      var universalPixelApi = new TTDUniversalPixelApi();\n      universalPixelApi.init("b51tjdn", ["x60o6ol"], "https://insight.adsrvr.org/track/up");\n      }\n    });\n</script>',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLe1ea68b4febc43d3868885bda9c1bf21",name:"QC / JP - Onload",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/cookie.js",settings:{name:"usercontext",value:"country#JP",valueIsRegex:!0},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(/jp/ja|global/ja|/jp/en).*",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC1a9f9c418c224412b8b1bb75476c829a-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCf43549198e47465ba7a05545d2d9f716-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC6bfd837f49d84cd0b95e0830d007f2a6-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe1eb2952833e45afb95dc86e337b7cb9",name:"qffProfileWidgetPopups_popupEngage_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"qffProfileWidgetPopups_popupEngage_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("popupEngage");if(a){var n=(a=a[a.length-1]).attributes;t.prop38=n.name+"|"+n.trigger||n.buttonText+"|",t.eVar113=n.name+"|"+n.trigger||n.buttonText+"|",t.eVar44=n.membershipTier,t.eVar81=n.frequentFlyerPoints,t.eVar49=n.statusCredits,t.eVar182=n.buttonText||n.trigger,t.linkTrackVars="prop38,eVar113,eVar44,eVar81,eVar49,eVar182,events"}}},trackerProperties:{events:[{name:"event190"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLe265f5b4d6c441b0a21d2f82cb292b7f",name:"Floodlight New Cardholder Bonus Points - QANA-196 -Loyalty",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"\\/au\\/en\\/frequent\\-flyer\\/member\\-offers\\/new\\-cardholders\\-bonus\\-registered\\.html(.*)",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCda9d2241827d4734afcf66f3e0cfb9fe-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe276c586ca334a21a3a18a42baa6b6ac",name:"Logged In Status | Storage Creator",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:10}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'//console.debug("QF_LOGINSTATE cookie creator - Run!");\n//console.debug("QF_LOGINSTATE cookie creator - check storage value: ", window.localStorage.getItem("QF_LOGINSTATE"));\n\nif (window.localStorage.getItem("QF_LOGINSTATE") == null)\n{\n  //s.Util.cookieWrite("QF_LOGINSTATE","not logged in");\n  window.localStorage.setItem("QF_LOGINSTATE","not logged in");\n  \n  //console.debug("Creator - QF_LOGINSTATE written:",  window.localStorage.getItem("QF_LOGINSTATE"));\n}\n\n',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLe6123c2ce74b49859465c38fb524c533",name:"qffProfileWidgetButton_disconnect_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"qffProfileWidgetButton_disconnect_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("disconnect");if(a){var n=(a=a[a.length-1]).attributes;t.prop38=n.name+"|"+n.trigger||n.buttonText+"|",t.eVar113=n.name+"|"+n.trigger||n.buttonText+"|",t.eVar44=n.membershipTier,t.eVar81=n.frequentFlyerPoints,t.eVar49=n.statusCredits,t.eVar182=n.buttonText,t.linkTrackVars="prop38,eVar113,eVar44,eVar81,eVar49,eVar182,events"}}},trackerProperties:{events:[{name:"event24"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLe7bec71c63c640f58f55f563ded5ca33",name:"Booking Engine | MYB - Voluntary Flight Change| Checkout | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventCategory%",rightOperand:"Voluntary Flight Change"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventAction%",rightOperand:"Checkout"},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | Checkout + GlobalEvent%",type:"commerce.checkouts",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLe848e295e41642e1b9d711bae4a70c4c",name:"Live Chat Adobe Analytics Session Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"LiveChatSessionStart"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event31"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLe84ec6452ad2498ead3cf373874f9c00",name:"digitalDataPromoCode",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(.*)\\/qf-booking\\/dyn\\/air\\/booking\\/COFD(.*)",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar149",type:"value",value:"%PromoCode%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLe938d029ddaf491bb5d23b47b0b32e9b",name:"Booking Engine | Custom Event | Seat Map - Seat Upgrade Promotion | [AA]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.ph-seat-upgrade-promo",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%DL | Web | pageURL%",rightOperand:"qf-booking/dyn/air/booking/ALPI"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar43",type:"value",value:"Seat Upgrade Promotion"},{name:"eVar161",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar162",type:"value",value:"CTA Click"},{name:"eVar164",type:"value",value:"New Flight Booking - Seat Map"},{name:"eVar165",type:"value",value:"CTA Click"}],events:[{name:"event145",value:"1"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Seat Upgrade Promotion",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | SeatUpgradePromotion%",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLe9758a7548684aafa025d6eeb311ee2c",name:"Flight Status_flightStatusEditSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Flight Status_flightStatusEditSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){void 0!==$QantasTag.getCustomEvents("flightStatusEditSearch")[0]&&(t.events="event238",t.linkTrackEvents="event238",t.linkTrackVars="events")}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLe9e02c0a471d4a75af4f21fbbb0382d9",name:"Accor Join all for free",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"accor_accorJoin_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event18"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLea9d08b90c0f4234983696b32a212b40",name:"Frequent Flyer_claimMissingPoints_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_claimMissingPoints_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar49",type:"value",value:"%digitalData_status_credits%"},{name:"eVar50",type:"value",value:"%digitalData_credits_to_next_tier%"},{name:"eVar53",type:"value",value:"%digitalData_points_earned%"},{name:"eVar87",type:"value",value:"%digitalData_ff_claim_details%"}],events:[{name:"event64"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLeae5f60a8c0f4135a0479e26efdf726d",name:"Qualtrics Snippet - MAC",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["qantas.com"]},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:".*\\/au\\/en\\/frequent-flyer\\/my-account\\/(points-activity|bookings|profile|status-activity)\\.html$",valueIsRegex:!0},{value:".*\\/au\\/en\\/frequent\\-flyer\\/my\\-account\\.html",valueIsRegex:!0},{value:".*\\/au\\/en\\/my-account\\/(points-activity|bookings|profile|status-activity)\\.html$",valueIsRegex:!0},{value:".*\\/au\\/en\\/my\\-account.*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",4,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->\n<style>\n  .QSIFeedbackButton {\n    overflow: hidden !important;\n  }\n  button#QSIFeedbackButton-btn {\n    font-weight: 600 !important;\n    text-transform: uppercase;\n  }\n  button#QSIFeedbackButton-btn > div {\n    padding: 14px 10px !important;\n    border-top-right-radius: 4px !important;\n    border-bottom-right-radius: 4px !important;\n  }\n  button#QSIFeedbackButton-btn div {\n    font-size: 16px !important;\n  }\n  .customisable-widget div[data-widget-host="qdd-feedback-widget"] > .loading {\n    display: none !important;\n  }\n</style>\n<script type=\'text/javascript\'>\n(function(){var g=function(e,h,f,g){\nthis.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};\nthis.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};\nthis.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};\nthis.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};\nthis.start=function(){var t=this;"complete"!==document.readyState?window.addEventListener?window.addEventListener("load",function(){t.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){t.go()}):t.go()};};\ntry{(new g(100,"r","QSI_S_ZN_0213TofTAfjNor4","https://zn0213toftafjnor4-qantasgroup.siteintercept.qualtrics.com/SIE/?Q_ZID=ZN_0213TofTAfjNor4")).start()}catch(i){}})();\n</script><div id=\'ZN_0213TofTAfjNor4\'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>\n<!--END WEBSITE FEEDBACK SNIPPET-->',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLebc375e4430a4c779d20cb6e8aaa365e",name:"FF_Mobile_ffLoginSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent_Flyer_Mobile_ffLoginSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar80",type:"value",value:"Frequent Flyer|Logged In"},{name:"eVar44",type:"value",value:"%dataLayer.ffLoginSuccess.FFtier%"},{name:"eVar18",type:"value",value:"%digitalData_login_ffnumber%"}],props:[{name:"prop54",type:"value",value:"%dataLayer.ffLoginSuccess.FFtier%"},{name:"prop68",type:"alias",value:"eVar80"}],events:[{name:"event112"}]}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7a6bf35fddf54dcda1f4a240501c4637-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLebce5f5ea3ef427aafb353fcd6129ec7",name:"creditVoucher_flightCancellationConfirmation_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"creditVoucher_flightCancellationConfirmation_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=_satellite.getVar("digitalData.event.attributes.voucherCurrency");t.currencyCode=a}catch(e){}}},trackerProperties:{eVars:[{name:"eVar144",type:"value",value:"%digitalData.event.attributes.voucherReference%"},{name:"eVar145",type:"value",value:"%digitalData.event.attributes.voucherCurrency%"}],events:[{name:"event120"},{name:"event121",value:"%digitalData.event.attributes.voucherValue%"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLee0c9fc4c92e4b9d9b11211f9aed8127",name:"Q.com | Custom Event | All Events | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"qantas.com",valueIsRegex:!0},{value:"static.qcom-stg.qantastesting.com",valueIsRegex:!0},{value:"careers.qantas.com",valueIsRegex:!0},{value:"qantas--sit.sandbox.my.site.com",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0},{value:"uat.digital.airline.amadeus.com",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%DL | Event | eventType%",rightOperand:"pageload"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC469f04c632cb40d3ad40a10ffb6a4754-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | GlobalEvent + PageView%",type:"web.webpagedetails.pageViews",instanceName:"alloy",edgeConfigOverrides:{development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLef61b4b7f61947cf84b6abb8dcbab5c4",name:"Checkin_buttonAvailability_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Checkin_buttonAvailability_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event94"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLefdb6fb012094867b8960646191f3341",name:"Error: tripflow page no submitToEtravel()",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"error: tripflow no submitToEtravel function"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar79",type:"value",value:"MCID: tripflow page but submitToEtravel function missing. No MCID passed in URL"}],events:[{name:"event109"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"tripflow without submitToEtravel function",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLf08ca55f9287468a9b854ab4fca1b7ba",name:"Booking Engine | Custom Event | Remove From Cart | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%event.detail.analyticsData.event.eventAction%",rightOperand:"Remove from Cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | RemoveFromCart + GlobalEvent%",type:"commerce.productListRemovals",instanceName:"alloy",edgeConfigOverrides:{staging:{},production:{},development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLf187713fcb374d339028b2b9846e683d",name:"Loyalty - New - Cardholders Bonus - Login",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ql-login-submit-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/au/en/frequent-flyer/member-offers/new-cardholders-bonus.html"}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(_satellite.getVar("OneTrustFlag").indexOf(",4,")>-1)try{t.eVar18=digitalData.user.frequentFlyerNumber,t.eVar44=digitalData.user.frequentFlyerTier,t.eVar80="Frequent Flyer|Logged In",t.events="event112",t.linkTrackVars="eVar18,eVar44,eVar80,events",t.linkTrackEvents="event112"}catch(e){}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLf1a962df16b246c9b6ac18edb3ba7277",name:"3PTY: Activities - Bottom of page",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:".*(activities\\.qantas\\.com|secure\\.viator\\.com).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"11631",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{channel:"Activities"}},timeout:2e3,delayNext:!0}]},{id:"RLf3901ba4962b4645856350306d389d5b",name:"flightBookings_modifyFlightSearch_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_modifyFlightSearch_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{events:[{name:"event130"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC4d873c1ed869434ab80b222522b8297e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf4f520ffd80842ea9e48cafac7430558",name:"Adobe Target - Response Code (Homepage Config)",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:51}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*\\/au\\/en\\.*",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'//console.log("DD_Position 4: Capture Adobe Target Rule Start");\n\ndocument.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function(e) {\n    //pushATT used to store all \n    pushATT=[];\n  \n    function targetActivity(pushATT_array) {\n      //console.debug("DD_Position 6.3: Datadog Push ATT START");\n      \n      var DD_ATT = pushATT_array;\n      //console.debug("DD_Position 7: Copy Target Test value into DD_ATT = " + DD_ATT);\n\n      //At this step push to datadog\n      if(window.DD_RUM){\n        window.DD_RUM.addAction(\'Target_Experience\', {\'AdobeTargetTest\':DD_ATT});\n        //console.debug("DD_Position 8: Pushed ATT to DD by using addAction function");\n      }  \n    }\n  \n     if(window.DD_RUM){\n       //console.debug("Request succeeded", e.detail.responseTokens);\n       //console.debug("DD_Position 5: Target Event Listener Success");\n    \n      if(!(e.detail.responseTokens === undefined || e.detail.responseTokens == null || e.detail.responseTokens.length <=0)){\n       \n       for(let i = 0; i < e.detail.responseTokens.length; i++) {\n         var activityName = e.detail.responseTokens[i]["activity.name"];\n         var experienceName = e.detail.responseTokens[i]["experience.name"];\n      \n         var adobeTargetTest;\n      \n         if (activityName){\n           adobeTargetTest = activityName + " | " + experienceName\n           pushATT.push(adobeTargetTest);\n           //console.debug("DD_Position 5.1 Pushed into ATT:" + i + adobeTargetTest);\n         }\n         //if(i != e.detail.responseTokens.length - 1) {\n           //adobeTargetTest += ",";\n         //}\n       }\n        \n      }\n      else{\n         pushATT.push("No Adobe Target experiences found");\n      } \n    \n        //Pushing ATT to DD (ww)\n        targetActivity(pushATT);\n        //console.debug("DD_Position 6: ATT All Push" + pushATT); \n        //console.debug("DD_Position 6.1: Verify if RUM is initialized", window.DD_RUM.getInternalContext());\n     }\n  \n  \n});',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLf516cf09bf6a4ba48c7a6647bd50d824",name:"ife_carouselChange_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"IFE_ifeCarouselChangeEvent_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var a=$QantasTag.getCustomEvents("ifeCarouselChangeEvent");if(a){var n=(a=a[a.length-1]).attributes,r=n.eventType+"|"+n.shelfName+"|"+n.targetIndex+"|"+n.isLastIndex;t.eVar173=r,t.events="event241",t.linkTrackEvents="event241",t.linkTrackVars="eVar173,events"}}catch(e){}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLf640e2d3436f439399aedb74b20275db",name:"flightBookings_datesFlights_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_datesFlights_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){if(window.digitalData&&digitalData.listing&&digitalData.listing.line_Items&&-1!=_satellite.getVar("dataLayer.bookingFlow.listing.productTypes").indexOf("flights")){var a=_satellite.getVar("digitalData.bookingFlow.listing.cityPair").replace(new RegExp(",","g"),"|");if(a){var n=_satellite.getVar("digitalData_listing_item_flights_noOfAdults")+_satellite.getVar("digitalData_listing_item_flights_noOfChildren");t.products=";Flights:New:"+a+";"+n+";;;",t.linkTrackVars+=",products",_satellite.cookie.remove("digitalData_baggage_products")}}}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"%digitalData_page_category_primaryCategory%"},{name:"eVar2",type:"value",value:"%digitalData_page_category_subCategory1%"},{name:"eVar3",type:"value",value:"%digitalData_page_category_subCategory2%"},{name:"eVar4",type:"value",value:"%digitalData_page_category_subCategory3%"},{name:"eVar5",type:"value",value:"%digitalData_page_category_subCategory4%"},{name:"eVar10",type:"value",value:"%digitalData.bookingFlow.Select.listing.flightSearch%"},{name:"eVar12",type:"value",value:"%digitalData.bookingFlow.listing.flexibleWithDates%"},{name:"eVar13",type:"value",value:"%digitalData.bookingFlow.listing.departureDate%"},{name:"eVar31",type:"value",value:"%digitalData_page_pageInfo_geoRegion%"},{name:"eVar40",type:"value",value:"%digitalData_parting_time%"},{name:"eVar55",type:"value",value:"%digitalData.bookingFlow.select.listing.product.flights.travelType%"},{name:"eVar56",type:"value",value:"%digitalData_exposedBaseFacts_customerType%"},{name:"eVar57",type:"value",value:"%uuid%"},{name:"eVar60",type:"value",value:"%digitalData.bookingFlow.listing.pagename%"},{name:"eVar66",type:"value",value:"%digitalData.bookingFlow.select.listing.flights[0].travelTripType%"},{name:"eVar68",type:"value",value:"%loadtime%"},{name:"eVar71",type:"value",value:"%digitalData.bookingFlow.listing.cityPair%"},{name:"eVar76",type:"value",value:"%digitalData_page_pageInfo_language%"},{name:"eVar77",type:"value",value:"%cleanPageURL%"},{name:"eVar100",type:"value",value:"%digitalData_visitor_version%"}],props:[{name:"prop1",type:"alias",value:"eVar1"},{name:"prop2",type:"alias",value:"eVar2"},{name:"prop3",type:"alias",value:"eVar3"},{name:"prop4",type:"alias",value:"eVar4"},{name:"prop5",type:"alias",value:"eVar5"},{name:"prop7",type:"alias",value:"eVar60"},{name:"prop10",type:"alias",value:"eVar71"},{name:"prop12",type:"alias",value:"eVar31"},{name:"prop13",type:"alias",value:"eVar13"},{name:"prop20",type:"alias",value:"eVar40"},{name:"prop31",type:"alias",value:"eVar76"},{name:"prop55",type:"alias",value:"eVar55"},{name:"prop57",type:"alias",value:"eVar66"},{name:"prop74",type:"alias",value:"eVar77"}],events:[{name:"event100"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:2e3,delayNext:!0}]},{id:"RLf6b77930b1c949a7a35d3449075d13ff",name:"manageYourBooking_viewInPoints_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"manageYourBooking_viewInPoints_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=""}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%digitalData.bookingFlow.select.viewIn%"}],events:[{name:"event129"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",
settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC685e5e345ddb43f2b5b2c6ab104b0024-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLf74c1a5f57ec4eba8d7f2202920f305d",name:"flightBookings_expressCheckoutSelect_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"flightBookings_expressCheckoutSelect_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("digital_data_expresscheckout_products"),t.linkTrackVars+=",products"}},trackerProperties:{events:[{name:"event156"},{name:"scAdd"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLfab1b0dd9ecf4e56aa8ecc207a08ceb3",name:"bp_AndroidaddToWallet_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bp_addToWallet_events"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%digitalData.event.attributes.operatingSystem%",rightOperand:"Android"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event255"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLfb036c9fbfc04bc5a22b2a9a1ea61949",name:"TARGET: alt_cam - Onload",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["qantas.com","qantas.com.au"]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return null!=_satellite.getVar("alt_cam")&&void 0!==_satellite.getVar("alt_cam")}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",3,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC7c7a28561e074341808916248e244c2c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfb9f801d5ebb43189a48a121c04361c4",name:"Booking Engine | Custom Event | Add to Cart | [AA]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"analyticsData",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%event.detail.analyticsData.event.eventAction%",rightOperand:"Add to Cart"},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book.qantas.com",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%XDM | Merge | AddToCart + GlobalEvent%",type:"commerce.productListAdds",instanceName:"alloy",edgeConfigOverrides:{staging:{},production:{},development:{}}},timeout:2e3,delayNext:!0}]},{id:"RLfbe0d2658d2943b18e19f32ca2f9757d",name:"QC - Hotels Specific - Onload",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:".*(\\/au\\/en\\/book-a-trip\\/hotels|\\/travel\\/airlines\\/hotels\\/global\\/en|\\/fflyer\\/do\\/dyns\\/login).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:".*(www\\.qantas|www-integration\\.qantas|www-acceptance\\.qantas|www-staging\\.qantas|www-verification\\.qantas).*",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",2,"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RCa61e0fd1d1f6453597deb88617892fb2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfbf81b654b2d43c3ac2a4f118081ab94",name:"DataDog Script - Make a booking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:49}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"book",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%OneTrustFlag%",rightOperand:",2,"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%botRule %"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:".*\\/(qf-mybooking|QFServicing)\\/.*",valueIsRegex:!0},{value:"qantas-1481196-en-au.stage.sr-attrax.com"}]},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\n  window.RUM_CONFIG = {\n      clientToken: 'pubd8d753935a175560c970bdc1187fd18e',\n      applicationId: '64131345-3608-4a8f-bc75-c09c52a48005',\n      site: 'datadoghq.com',\n      service: 'qantas.com',\n      sessionSampleRate: 100,\n      sessionReplaySampleRate: 100,\n      enableExperimentalFeatures: ['clickmap'],\n      trackUserInteractions: true,\n      trackResources: true,\n      trackLongTasks: true,\n      trackFrustrations: true,\n      trackSessionAcrossSubdomains: true,\n      defaultPrivacyLevel: 'mask'\n  };\n  (function(h,o,u,n,d) {\n    h=h[d]=h[d]||{q:[],onReady:function(c){h.q.push(c)},getInternalContext:function(){}}\n    d=o.createElement(u);d.async=1;d.src=n\n    n=o.getElementsByTagName(u)[0];n.parentNode.insertBefore(d,n)\n  })(window,document,'script','https://static.qantas.com/ams02/a1055/12/prod/master/dd-rum/current/app.js','DD_RUM')\n  \n  //console.debug(\"config completed!\");\n</script>",language:"html"},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script>\n  var intervalCounter = 0;\n  var onReadyInterval = setInterval(function(){\n \n    intervalCounter++;\n    \n    if (window.DD_RUM && !!window.DD_RUM.getInternalContext() && window.DD_RUM.getInternalContext() !== undefined) {\n      console.debug("ready for onReady function!");\n      window.DD_RUM.onReady(function() {\n        \n      //window.DD_RUM.startSessionReplayRecording();\n      //console.debug("INIT Completed - Verify if RUM is initialized: ", window.DD_RUM.getInternalContext());\n      \n        window.DD_RUM.setUser({\n        ecid: _satellite.getVar(\'Q_ecid\')\n      });\n      \n      window.sessionStorage.setItem("dataDogInit",true);\n      //console.debug("sessionstorage: ", window.sessionStorage.getItem("dataDogInit"));\n    })\n \n    clearInterval(onReadyInterval)\n   }\n \n   if (intervalCounter === 20) {\n     clearInterval(onReadyInterval)\n   }\n    \n  }, 500);\n \n</script>',language:"html"},timeout:2e3,delayNext:!0}]},{id:"RLfdb12bdccb8942f19ff95097365d57f8",name:"frequentFlyerLogin_ffLoginSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"frequentFlyerLogin_ffLoginSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar44",type:"value",value:"%dataLayer.ffLoginSuccess.FFtier%"},{name:"eVar80",type:"value",value:"Frequent Flyer|Logged In"},{name:"eVar18",type:"value",value:"%digitalData_login_ffnumber%"}],props:[{name:"prop54",type:"value",value:"%dataLayer.ffLoginSuccess.FFtier%"},{name:"prop68",type:"value",value:"Frequent Flyer|Logged In"}],events:[{name:"event112"}]}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC5a2a4d541ad8475a85b45cacfaf72fcd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfef1484d1d2d4c7c8b26501bfa35f7f3",name:"Frequent Flyer_ffLoginSuccess_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Frequent Flyer_ffLoginSuccess_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){}},trackerProperties:{eVars:[{name:"eVar44",type:"value",value:"%digitalData.bookingFlow.ffLoginSuccess.FFtier%"},{name:"eVar80",type:"value",value:"Frequent Flyer|Logged In"},{name:"eVar18",type:"value",value:"%digitalData_login_ffnumber%"}],props:[{name:"prop54",type:"value",value:"%digitalData.bookingFlow.ffLoginSuccess.FFtier%"},{name:"prop68",type:"value",value:"Frequent Flyer|Logged In"}],events:[{name:"event112"}]}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://static.qantas.com/ams02/a1055/07/prod/launch-master/s3_public/current/a086326e8d0e/74a65f9f5676/ef0515915a0f/RC037fd2e8c8a2466eabc79b4886ae531a-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLff4858baa2f44653b41e06cc18272758",name:"popups_popupEngage_events",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"popups_popupEngage_events"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var a=$QantasTag.getCustomEvents("popupEngage")[0];if(void 0!==a){var n=a.attributes.name||"",r=a.attributes.trigger||"",i=a.attributes.message||"";t.products="",t.eVar68="",t.eVar113=n+"|"+r+"|"+i,t.prop38=t.eVar113,t.events="event190",t.linkTrackEvents="event190",t.linkTrackVars="eVar113,prop38,events"}}},trackerProperties:{}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"",linkType:"o"},timeout:2e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var a,n;return!1!==t(e)&&(void 0===(a=e.constructor)||!1!==t(n=a.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function n(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function r(e){return e.substr(0,e.indexOf("["))}function i(e,t,a){if(e.length&&dt(t)){var o=e[0];if(1!==e.length){var s=e.slice(1);if(!n(o))return i(s,t[o],a);var l=t[o=r(o)];Array.isArray(l)&&l.forEach((function(e){return i(s,e,a)}))}else t.hasOwnProperty(o)&&"string"==typeof t[o]&&(t[o]=a(t[o]))}}if(window.atob){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,l=Object.assign,c=window,u=c,d=function(e,t,a,n){var r,i=Boolean(t&&Array.isArray(a)),o=Boolean(i&&e),s=document.createElement("a");if(i){var l=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||l(),/^\/\/.+/.test(e)?s.href=u.location.protocol+e:s.href=e),s.hostname||l(),-1===a.indexOf(s.hostname)){var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}}var d=function(){if(null!=r)return r;if(o){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),r=s.protocol+"//"+e}else r="";return r},g=function(e){return o&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},p={getTurbineHost:d,decorateWithDynamicHost:g,get isDynamicEnforced(){return i}};return u&&n.onDebugChanged((function(e){e?u.dynamicHostResolver=p:delete u.dynamicHostResolver})),p},g=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(a){t.push({rule:e,event:a})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},p="debug",m=function(e,t){var a=function(){return"true"===e.getItem(p)},n=function(t){e.setItem(p,t)},r=[],i=function(e){r.push(e)};return t.outputEnabled=a(),{onDebugChanged:i,getDebugEnabled:a,setDebugEnabled:function(e){a()!==e&&(n(e),t.outputEnabled=e,r.forEach((function(t){t(e)})))}}},f="Module did not export a function.",v=function(e,t,a){return function(n,r,i){i=i||[];var o=e.getModuleExports(n.modulePath);if("function"!=typeof o)throw new Error(f);var s=e.getModuleDefinition(n.modulePath),l=n.settings||{};!n.hasTransformedFilePaths&&s.filePaths&&(a(l,s.filePaths,n.modulePath),n.hasTransformedFilePaths=!0);var c=t(l,r);return o.bind(null,c).apply(null,i)}},h=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},b={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},y="\ud83d\ude80",D=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":y,_=!1,C=function(e){if(_&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(D),e!==b.DEBUG||window.console[e]||(e=b.INFO),window.console[e].apply(window.console,t)}},k=C.bind(null,b.LOG),w=C.bind(null,b.INFO),P=C.bind(null,b.DEBUG),T=C.bind(null,b.WARN),E=C.bind(null,b.ERROR),I=function(){var e=_;_=!0,C.apply(null,Array.prototype.concat(b.WARN,Array.prototype.slice.call(arguments))),e||(_=!1)},j={log:k,info:w,debug:P,warn:T,error:E,deprecation:I,get outputEnabled(){return _},set outputEnabled(e){_=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:k.bind(null,t),info:w.bind(null,t),debug:P.bind(null,t),warn:T.bind(null,t),error:E.bind(null,t)}}},x=c,S="com.adobe.reactor.",V=function(e,t){var a=S+(t||"");return{getItem:function(t){try{return x[e].getItem(a+t)}catch(e){return null}},setItem:function(t,n){try{return x[e].setItem(a+t,n),!0}catch(e){return!1}}}},O=V,N="dataElements.",L=O("sessionStorage",N),A=O("localStorage",N),R={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},F={},M=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},q=h,B=j,U={setValue:function(e,t,a){var n;switch(t){case R.PAGEVIEW:return void(F[e]=a);case R.SESSION:return void((n=M(a))&&L.setItem(e,n));case R.VISITOR:return void((n=M(a))&&A.setItem(e,n))}},getValue:function(e,t){var a;switch(t){case R.PAGEVIEW:return F.hasOwnProperty(e)?F[e]:null;case R.SESSION:return null===(a=L.getItem(e))?a:JSON.parse(a);case R.VISITOR:return null===(a=A.getItem(e))?a:JSON.parse(a)}}},Q=function(e,t,a,n){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+a+(n?"\n"+n:"")},H=function(e,t,a,n,r){return function(i,o){var s=t(i);if(!s)return n?"":void 0;var l,c,u=s.storageDuration;try{l=e.getModuleExports(s.modulePath),c=e.getModuleDefinition(s.modulePath)}catch(e){return void B.error(Q(s,i,e.message,e.stack))}if("function"==typeof l){var d,g=s.settings||{};!s.hasTransformedFilePaths&&c.filePaths&&(r(g,c.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{d=l(a(g,o),o)}catch(e){return void B.error(Q(s,i,e.message,e.stack))}return u&&(null!=d?U.setValue(i,u,d):d=U.getValue(i,u)),null==d&&null!=s.defaultValue&&(d=s.defaultValue),"string"==typeof d&&(s.cleanText&&(d=q(d)),s.forceLowerCase&&(d=d.toLowerCase())),d}B.error(Q(s,i,"Module did not export a function."))}},G=h,J={text:function(e){return e.textContent},cleanText:function(e){return G(e.textContent)}},$=function(e,t,a){for(var n,r=e,i=0,o=t.length;i<o;i++){if(null==r)return;var s=t[i];if(a&&"@"===s.charAt(0)){var l=s.slice(1);r=J[l](r)}else if(r.getAttribute&&(n=s.match(/^getAttribute\((.+)\)$/))){var c=n[1];r=r.getAttribute(c)}else r=r[s]}return r},W=function(e,t,a){return function(n,r){var i;if(t(n))i=a(n,r);else{var o=n.split("."),s=o.shift();"this"===s?r&&(i=$(r.element,o,!0)):"event"===s?r&&(i=$(r,o)):"target"===s?r&&(i=$(r.target,o)):i=$(e[s],o)}return i}},z=function(e,t){return function(a){var n=a.split(".")[0];return Boolean(t(a)||"this"===n||"event"===n||"target"===n||e.hasOwnProperty(n))}},X=function(e,t,a){var n={exports:{}};return e.call(n.exports,n,n.exports,t,a),n.exports},Y=X,K=j,Z=function(){var e={},t=function(t){var a=e[t];if(!a)throw new Error("Module "+t+" not found.");return a},a=function(){Object.keys(e).forEach((function(e){try{n(e)}catch(a){var t="Error initializing module "+e+". "+a.message+(a.stack?"\n"+a.stack:"");K.error(t)}}))},n=function(e){var a=t(e);return a.hasOwnProperty("exports")||(a.exports=Y(a.definition.script,a.require,a.turbine)),a.exports};return{registerModule:function(t,a,n,r,i){var o={definition:a,extensionName:n,require:r,turbine:i};o.require=r,e[t]=o},hydrateCache:a,getModuleExports:n,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=j,te=!1,ae=function(e){return function(t,a){var n=e._monitors;n&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),n.forEach((function(e){e[t]&&e[t](a)})))}},ne=j,re=function(e,t,a){var n,r,i,o,s=[],l=function(n,r,i){if(!e(r))return n;s.push(r);var o=t(r,i);return s.pop(),null==o&&a?"":o};return n=function(e,t){var a=/^%([^%]+)%$/.exec(e);return a?l(e,a[1],t):e.replace(/%(.+?)%/g,(function(e,a){return l(e,a,t)}))},r=function(e,t){for(var a={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],s=e[i];a[i]=o(s,t)}return a},i=function(e,t){for(var a=[],n=0,r=e.length;n<r;n++)a.push(o(e[n],t));return a},o=function(e,t){return"string"==typeof e?n(e,t):Array.isArray(e)?i(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return s.length>10?(ne.error("Data element circular reference detected: "+s.join(" -> ")),e):o(e,t)}},ie=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var a in t)e[a]=t[a]}}},oe="undefined"!=typeof window&&window.Promise||void 0!==o&&o.Promise,se=oe,le=function(e,t,a){return function(n,r,i,o){return o.then((function(){var o,s=n.delayNext;return new se((function(t,a){var r=e(n,i,[i]);if(!s)return t();var l=n.timeout,c=new se((function(e,t){o=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+l/1e3+" seconds to complete. "))}),l)}));se.race([r,c]).then(t,a)})).catch((function(e){return clearTimeout(o),e=t(e),a(n,r,e),se.reject(e)})).then((function(){clearTimeout(o)}))}))}},ce=oe,ue=function(e,t,a,n,r){return function(i,o,s,l){return l.then((function(){var l;return new ce((function(t,a){var n=e(i,s,[s]),r=i.timeout,o=new ce((function(e,t){l=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+r/1e3+" seconds to complete. "))}),r)}));ce.race([n,o]).then(t,a)})).catch((function(e){return clearTimeout(l),e=t(e),n(i,o,e),ce.reject(e)})).then((function(e){if(clearTimeout(l),!a(i,e))return r(i,o),ce.reject()}))}))}},de=oe.resolve(),ge=function(e,t,a){return function(n,r){return n.conditions&&n.conditions.forEach((function(t){de=e(t,n,r,de)})),n.actions&&n.actions.forEach((function(e){de=t(e,n,r,de)})),de=(de=de.then((function(){a(n)}))).catch((function(){}))}},pe=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},me=function(e,t,a,n){return function(r,i){var o;if(r.conditions)for(var s=0;s<r.conditions.length;s++){o=r.conditions[s];try{var l=e(o,i,[i]);if(pe(l))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(o,l))return a(o,r),!1}catch(e){return n(o,r,e),!1}}return!0}},fe=function(e,t){return function(a,n){e(a,n)&&t(a,n)}},ve=function(e){return function(t){var a=e.getModuleDefinition(t.modulePath);return a&&a.displayName||t.modulePath}},he=function(e){return function(t){var a=t.rule,n=t.event,r=e.getModuleDefinition(n.modulePath).name;return{$type:e.getModuleExtensionName(n.modulePath)+"."+r,$rule:{id:a.id,name:a.name}}}},be=function(e,t,a,n,r,i){return function(o,s){var l=s.rule,c=s.event;c.settings=c.settings||{};try{var u=r(s);t(c,null,[function(t){var n=a(u,t);o((function(){e(n,l)}))}])}catch(e){i.error(n(c,l,e))}}},ye=function(e,t,a,n){return function(r,i,o){var s=t(r);a.error(e(s,i.name,o)),n("ruleActionFailed",{rule:i,action:r})}},De=function(e,t,a,n){return function(r,i,o){var s=t(r);a.error(e(s,i.name,o)),n("ruleConditionFailed",{rule:i,condition:r})}},_e=function(e,t,a){return function(n,r){var i=e(n);t.log('Condition "'+i+'" for rule "'+r.name+'" was not met.'),a("ruleConditionFailed",{rule:r,condition:n})}},Ce=function(e,t){return function(a){e.log('Rule "'+a.name+'" fired.'),t("ruleCompleted",{rule:a})}},ke=function(e,t,a){return function(n,r){var i;if(n.actions)for(var o=0;o<n.actions.length;o++){i=n.actions[o];try{e(i,r,[r])}catch(e){return void t(i,n,e)}}a(n)}},we=function(e,t,a,n){return function(r,i){n("ruleTriggered",{rule:i}),e?a(i,r):t(i,r)}},Pe=function(e,t,a){return'Failed to execute "'+e+'" for "'+t+'" rule. '+a.message+(a.stack?"\n"+a.stack:"")},Te=function(e,t){return t&&!e.negate||!t&&e.negate},Ee=[],Ie=!1,je=function(e){Ie?e():Ee.push(e)},xe=function(e,t,a){e(t).forEach((function(e){a(je,e)})),Ie=!0,Ee.forEach((function(e){e()})),Ee=[]},Se=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.isPlainObject=a;var Oe,Ne=j,Le=l,{isPlainObject:Ae}=Ve,Re=function(e,t){return Ae(t=t||{})?t=Le({},t,e):Le(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return Ne.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Fe=function(e,t){return function(a,n){var r=e[a];if(r){var i=r.modules;if(i)for(var o=Object.keys(i),s=0;s<o.length;s++){var l=o[s],c=i[l];if(c.shared&&c.name===n)return t.getModuleExports(l)}}}},Me=function(e,t){return function(){return t?e(t):{}}},qe=function(e,t,a){return function(n){if(a){var r=n.split(".");r.splice(r.length-1||1,0,"min"),n=r.join(".")}return e(t)+n}},Be=".js",Ue=function(e){return e.substr(0,e.lastIndexOf("/"))},Qe=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},He=function(e,t){Qe(t,Be)||(t+=Be);var a=t.split("/"),n=Ue(e).split("/");return a.forEach((function(e){e&&"."!==e&&(".."===e?n.length&&n.pop():n.push(e))})),n.join("/")},Ge={exports:{}};Oe=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var n in a)t[n]=a[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function a(n){function r(){}function i(t,a,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var o=JSON.stringify(a);/^[\{\[]/.test(o)&&(a=o)}catch(e){}a=n.write?n.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l].split(";")[0]));return document.cookie=t+"="+a+s}}function o(e,a){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var s=i[o].split("="),l=s.slice(1).join("=");a||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(n.read||n)(l,c)||t(l),a)try{l=JSON.parse(l)}catch(e){}if(r[c]=l,e===c)break}catch(e){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return o(e,!1)},r.getJSON=function(e){return o(e,!0)},r.remove=function(t,a){i(t,"",e(a,{expires:-1}))},r.defaults={},r.withConverter=a,r}return a((function(){}))},Ge.exports=Oe();var Je=Ge.exports,$e={get:Je.get,set:Je.set,remove:Je.remove},We=oe,ze=function(e,t){return new We((function(a,n){t.onload=function(){a(t)},t.onerror=function(){n(new Error("Failed to load script "+e))}}))},Xe=function(e){var t={};if(!e||"string"!=typeof e)return t;var a=e.trim().replace(/^[?#&]/,""),n=new URLSearchParams(a),r=n.keys();do{var i=r.next(),o=i.value;if(o){var s=n.getAll(o);1===s.length?t[o]=s[0]:t[o]=s}}while(!1===i.done);return t},Ye=function(e){var t="{{space}}",a=new URLSearchParams;return Object.keys(e).forEach((function(n){var r=e[n];"string"==typeof e[n]?r=r.replace(/ /g,t):["object","undefined"].includes(typeof r)&&!Array.isArray(r)&&(r=""),Array.isArray(r)?r.forEach((function(e){a.append(n,e)})):a.append(n,r)})),a.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ke="@adobe/reactor-",Ze={cookie:$e,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var a=ze(e,t);return document.getElementsByTagName("head")[0].appendChild(t),a},"object-assign":l,promise:oe,"query-string":{parse:function(e){return Xe(e)},stringify:function(e){return Ye(e)}},window:c},et=function(e){return function(t){if(0===t.indexOf(Ke)){var a=t.substr(Ke.length),n=Ze[a];if(n)return n}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Fe,at=Me,nt=qe,rt=j,it=He,ot=et,st=function(e,t,a,n,r,i,o){var s=e.extensions,l=e.buildInfo,c=e.environment,u=e.property.settings;if(s){var d=tt(s,t);Object.keys(s).forEach((function(g){var p=s[g],m=p.settings;Array.isArray(p.filePaths)&&(m=i(m,p.filePaths));var f=at(n,m);if(p.modules){var v=rt.createPrefixedLogger(p.displayName),h=nt(o,p.hostedLibFilesBaseUrl,l.minified),b={buildInfo:l,environment:c,property:{name:e.property.name,id:e.property.id},getDataElementValue:r,getExtensionSettings:f,getHostedLibFileUrl:h,getSharedModule:d,logger:v,propertySettings:u,replaceTokens:n,onDebugChanged:a.onDebugChanged,get debugEnabled(){return a.getDebugEnabled()}};Object.keys(p.modules).forEach((function(e){var a=p.modules[e],n=ot((function(a){var n=it(e,a);return t.getModuleExports(n)}));t.registerModule(e,a,g,n,b)}))}})),t.hydrateCache()}return t},lt=$e,ct=j,ut=function(e,t,a,n,r){var i=ct.createPrefixedLogger("Custom Script");e.track=function(e){ct.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=i,e.notify=function(e,t){switch(ct.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=n,e.setVar=r,e.setCookie=function(e,t,a){var n="",r={};a&&(n=", { expires: "+a+" }",r.expires=a);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+n+").";ct.deprecation(i),lt.set(e,t,r)},e.readCookie=function(e){return ct.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),lt.get(e)},e.removeCookie=function(e){ct.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),lt.remove(e)},e.cookie=lt,e.pageBottom=function(){},e.setDebug=a;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(ct.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},{isPlainObject:dt}=Ve,gt=s,pt=l,mt=d,ft=g,vt=m,ht=v,bt=H,yt=W,Dt=z,_t=Z,Ct=ae,kt=re,wt=ie,Pt=le,Tt=ue,Et=ge,It=me,jt=fe,xt=ve,St=he,Vt=be,Ot=ye,Nt=De,Lt=_e,At=Ce,Rt=ke,Ft=we,Mt=Pe,qt=Te,Bt=xe,Ut=Se,Qt=Re,Ht=V,Gt=st,Jt=ut,$t=function(e,t){return function(a,n,r){return e&&dt(a)&&Object.keys(a).length&&Array.isArray(n)&&n.length?(n.forEach((function(e){Boolean(null!=r&&/^core\/.*actions.*\/customCode\.js$/.test(r))&&"source"===e&&!a.isExternal||i(e.split("."),a,t)})),a):a}},Wt=j,zt=window._satellite;if(zt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Xt=zt.container;delete zt.container;var Yt=pt({},Xt.buildInfo);Object.defineProperty(Yt,"environment",{get:function(){return Wt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Xt.environment.stage}}),Xt.buildInfo=Yt;var Kt,Zt=vt(Ht("localStorage"),Wt),ea="";gt.currentScript&&gt.currentScript.getAttribute("src")&&(ea=gt.currentScript.getAttribute("src"));try{Kt=mt(ea,Boolean(Xt.company.dynamicCdnEnabled),Xt.company.cdnAllowList,Zt)}catch(e){throw Wt.warn("Please review the following error:"),e}var ta,aa=$t(Kt.isDynamicEnforced,Kt.decorateWithDynamicHost),na=_t(),ra=Xt.property.settings.undefinedVarsReturnEmpty,ia=Xt.property.settings.ruleComponentSequencingEnabled,oa=Xt.dataElements||{},sa=function(e){return oa[e]},la=function(){return ta.apply(null,arguments)},ca=bt(na,sa,la,ra,aa),ua={},da=wt(ua),ga=Dt(ua,sa),pa=yt(ua,sa,ca);ta=kt(ga,pa,ra),Jt(zt,Xt,Zt.setDebugEnabled,pa,da),Gt(Xt,na,Zt,ta,ca,aa,Kt.decorateWithDynamicHost);var ma=Ct(zt),fa=ht(na,ta,aa),va=xt(na),ha=Lt(va,Wt,ma),ba=Nt(Mt,va,Wt,ma),ya=Ot(Mt,va,Wt,ma),Da=At(Wt,ma),_a=Vt(Ft(ia,jt(It(fa,qt,ha,ba),Rt(fa,ya,Da)),Et(Tt(fa,Ut,qt,ba,ha),Pt(fa,Ut,ya),Da),ma),fa,Qt,Mt,St(na),Wt);Bt(ft,Xt.rules||[],_a)}return e(zt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();
</script>

</body>
</html>
