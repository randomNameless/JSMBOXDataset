<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>index.html</title>
</head>
<body>

<script>
/*! For license information please see index.js.LICENSE.txt */
var TrfAdManager;!function(){var t,e,n={4986:function(t,e,n){"use strict";n.d(e,{default:function(){return Fa}});var r,o,i,u;n(9650),n(3863),n(2975),n(7482),n(5165),n(5890),n(4509);Array.from||(Array.from=(r=Object.prototype.toString,o=function(t){return"function"==typeof t||"[object Function]"===r.call(t)},i=Math.pow(2,53)-1,u=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),i)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!o(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}for(var i,a=u(e.length),c=o(this)?Object(new this(a)):new Array(a),l=0;l<a;)i=e[l],c[l]=r?void 0===n?r(i,l):r.call(n,i,l):i,l+=1;return c.length=a,c}));n(6517),n(4913),n(3386);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=new Map}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}],(n=[{key:"setWidget",value:function(t,e){this.map.set(t,e)}},{key:"get",value:function(t){var e=this.map.get(t);return null==e?null:e}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();l.instance=null;var f=l;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===s(i)?i:String(i)),r)}var o,i}var y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=new Map}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}],(n=[{key:"set",value:function(t,e){this.map.set(t,new e)}},{key:"get",value:function(t){var e=this.map.get(t);return null==e?null:e}},{key:"decide",value:function(t){for(var e=0,n=Array.from(this.map.values());e<n.length;e++){var r=n[e];if(r.isOptionsValid(t))return r}return null}}])&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();y.instance=null;var h=y;function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===d(i)?i:String(i)),r)}var o,i}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.widgetFactory=f.getInstance(),this.contentProviderFactory=h.getInstance(),this.map=new Map,this.instanceMap=new Map}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}],(n=[{key:"setTemplate",value:function(t,e){this.map.set(t,e)}},{key:"get",value:function(t){return this._getInstance(t)}},{key:"_getInstance",value:function(t){var e=this.instanceMap.get(t);if(null==e){var n=this.map.get(t);if(null==n)return null;e=new n(this.widgetFactory,this.contentProviderFactory,this),this.instanceMap.set(t,e)}return e}}])&&v(e.prototype,n),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();m.instance=null;var b=m;function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===g(i)?i:String(i)),r)}var o,i}var S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e}var e,n,r;return e=t,n=[{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r;if(window.traffective.logger)for(var o=0;o<e.length;o++){var i;(i=window.traffective).logger.apply(i,[this.type+": "+new String(e[o])].concat(e))}else(r=console).log.apply(r,[this.type,":"].concat(e))}}],r=[{key:"get",value:function(e){return void 0===e&&(e="default"),void 0===t.instances.get(e)&&t.instances.set(e,new t(e)),t.instances.get(e)}}],n&&w(e.prototype,n),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();S.instances=new Map;var O=S;n(3e3),n(2586);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===E(i)?i:String(i)),r)}var o,i}var _=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.containerNode=e,this.params=n}var e,n,r;return e=t,(n=[{key:"init",value:function(){throw new Error("Not implemented")}}])&&j(e.prototype,n),r&&j(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(341),n(5853),n(489);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===P(i)?i:String(i)),r)}var o,i}var C=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getPreviousSiblingElement",value:function(t){return t.previousElementSibling}},{key:"setStyleByElements",value:function(e,n,r){for(var o=0;o<e.length;o++)t.setStyle(e[o],n,r)}},{key:"setStyle",value:function(t,e,n){var r=n;!0===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).important&&(r+="!important"),t.style.cssText=t.style.cssText+";"+e+":"+r}},{key:"setClass",value:function(t,e){var n,r=t.className.split(" "),o=k(r);try{for(o.s();!(n=o.n()).done;)if(n.value===e)return}catch(t){o.e(t)}finally{o.f()}r.push(e),t.className=r.join(" ")}},{key:"unsetClass",value:function(t,e){var n,r=[],o=k(t.className.split(" "));try{for(o.s();!(n=o.n()).done;){var i=n.value;i!==e&&r.push(i)}}catch(t){o.e(t)}finally{o.f()}t.className=r.join(" ")}},{key:"appendStyle",value:function(t,e){var n=e.createElement("style");n.type="text/css",n.appendChild(e.createTextNode(t)),e.head.appendChild(n)}},{key:"isNode",value:function(t){return"object"===("undefined"==typeof Node?"undefined":P(Node))?t instanceof Node:t&&"object"===P(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}},{key:"isElement",value:function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":P(HTMLElement))?t instanceof HTMLElement:t&&"object"===P(t)&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}},{key:"getScrollY",value:function(t){if(void 0!==t.scrollY)return t.scrollY;if(void 0!==t.pageYOffset)return t.pageYOffset;throw new Error("Browser doesnt support scrollY and pageYOffset")}}],(n=null)&&T(e.prototype,n),r&&T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),R=C;function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===A(i)?i:String(i)),r)}var o,i}var D=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.document=e.ownerDocument,this.params=n,this.userContent=null,this.elementHeight=null,this.userContentHeight=null,this.contentPosition=null,this.elementPosition=null,this.debug=!1,this.viewportHeight=0,this.touchmoveEvents=0,this._resizeWindow()}var e,n,r;return e=t,n=[{key:"init",value:function(){this._injectCss(),this._build()}},{key:"_injectCss",value:function(){var e=this.document.createElement("style");e.setAttribute("type","text/css"),e.appendChild(this.document.createTextNode(t.css)),this.document.head.appendChild(e)}},{key:"_build",value:function(){if(1!==this.element.children.length)throw new Error("Parallax missing content or has more than one element.");null===this.params.clipWidth?this.element.style.display="block":(this.element.style.display="inline-block",this.element.style.width=this.params.clipWidth+"px"),this.element.style.height=this.params.clipHeight+"px";var t=Math.round((this.params.clipWidth-this.params.width)/2),e=this.element.children[0];e.style.marginLeft=t+"px",R.setClass(e,"trf-parallax-content");var n=this.document.createElement("div");n.className="trf-parallax-container";var r=this.document.createElement("div"),o=n.appendChild(r);r.className="trf-parallax-divAbs";var i=this.document.createElement("div");r.appendChild(i),i.className="trf-parallax-divFix";var u=this.document.createElement("div");i.appendChild(u),u.className="trf-parallax-divCreativeHolder",this.userContent=u.appendChild(e),this.element.appendChild(n).style.height=this.params.clipHeight+"px",this.userContent.style.height=this.params.adHeight+"px",this.userContent.style.top="0px",this.userContent.style.willChange="transform",this.elementHeight=this.element.offsetHeight,this.userContentHeight=this.userContent.offsetHeight,null===this.params.clipWidth&&this.document.defaultView.setInterval(this._updateContainerWidth.bind(this),500),this.document.defaultView.addEventListener("resize",this._resizeWindow.bind(this)),this._prepareDebugging(o);var a,c,l,f,s=(a=this._positionUserContent.bind(this),c=10,function(){var t=this,e=arguments,n=l&&!f;clearTimeout(f),f=setTimeout((function(){f=null,l||a.apply(t,e)}),c),n&&a.apply(t,e)});this._loop(s)}},{key:"_loop",value:function(t){t(),this.document.defaultView.requestAnimationFrame(this._loop.bind(this,t))}},{key:"_resizeWindow",value:function(){this.viewportHeight=this.document.defaultView.innerHeight}},{key:"_updateContainerWidth",value:function(){var t=this.element.getBoundingClientRect(),e=t.right-t.left,n=Math.round((e-this.params.width)/2);this.userContent.style.marginLeft=n+"px"}},{key:"_positionUserContent",value:function(t){this.touchmoveEvents++;var e=this._getElementPosition(this.element);if(this.elementPosition!==e){this.elementPosition=e;var n=e/(this.viewportHeight-this.elementHeight);n>1?n=1:n<0&&(n=0);var r=-1*n*(this.userContentHeight-this.viewportHeight);this.userContent.style.WebkitTransform="translateY("+r+"px)",this.userContent.style.transform="translateY("+r+"px)",this.contentPosition!==r&&(this.contentPosition=r)}}},{key:"_prepareDebugging",value:function(t){if(!1!==this.debug){var e=this.document.createElement("div");e.className="trf-parallax-debug",t.appendChild(e)}}},{key:"_debug",value:function(t){if(!1!==this.debug){var e=this.element.querySelector(".trf-parallax-debug"),n=[];for(var r in t)n.push(r+": "+JSON.stringify(t[r]));e.innerHTML=n.join("<br/>")}}},{key:"_getElementPosition",value:function(t){return t.getBoundingClientRect().top}}],n&&I(e.prototype,n),r&&I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();D.css="\n            .trf-parallax-container * {\n                -moz-transition: none;\n                -webkit-transition: none;\n                -o-transition: color 0 ease-in;\n                transition: none;\n            }\n\n            .trf-parallax-container {\n                width: 100%;\n                position: relative;\n                overflow: initial;\n                margin: 0 auto;\n            }\n\n            .trf-parallax-debug {\n                position:absolute;\n                top:10px;\n                left:10px;\n                z-index:999;\n                background-color:white;\n                color:black;\n                padding:10px;\n                border:1px solid black;\n                width:300px;\n            }\n\n            .trf-parallax-divAbs {\n                width: 100%;\n                height: 100%;\n                overflow: auto;\n                position: absolute;\n                top: 0;\n                left: 0;\n                clip: rect(auto,auto,auto,auto);\n            }\n\n            .trf-parallax-divFix {\n                height: 100%;\n                height: 100vh;\n                width:100%; /* Maximalbreite definieren */\n                position: fixed;\n                top: 0px;\n                -moz-transform: translateZ(0);\n                -webkit-transform: translateZ(0);\n                -ms-transform: translateZ(0);\n                -o-transform: translateZ(0);\n                transform: translateZ(0);\n                margin: 0 auto;\n            }\n\n            .trf-parallax-divCreativeHolder {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                -moz-transform: translateZ(0);\n                -webkit-transform: translateZ(0);\n                -ms-transform: translateZ(0);\n                -o-transform: translateZ(0);\n                transform: translateZ(0);\n            }\n\n            .trf-parallax-content {\n                left:0;\n                /*right:0;*/\n                /*margin:auto;*/\n                border: none;\n                position: absolute;\n                bottom: 0;\n                -moz-transform: translateZ(0);\n                -webkit-transform: translateZ(0);\n                -ms-transform: translateZ(0);\n                -o-transform: translateZ(0);\n                transform: translateZ(0);\n            }\n\n";var N=D;function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===M(i)?i:String(i)),r)}var o,i}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=F(t);if(e){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}(i,t);var e,n,r,o=B(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).widget=null,t}return e=i,(n=[{key:"init",value:function(){this.widget=new N(this.containerNode,this.params),this.widget.init()}}])&&H(e.prototype,n),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(_),U=W;function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==V(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===V(i)?i:String(i)),r)}var o,i}var Y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.document=e.ownerDocument,this.params=n,this.userContent=null,this.elementHeight=null,this.userContentHeight=null,this.contentPosition=null,this.elementPosition=null,this.debug=!1,this.viewportHeight=0,this._resizeWindow()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this._injectCss(),this._build()}},{key:"_injectCss",value:function(){var e=this.document.createElement("style");e.setAttribute("type","text/css"),e.appendChild(this.document.createTextNode(t.css)),this.document.head.appendChild(e)}},{key:"_build",value:function(){if(1!==this.element.children.length)throw new Error("Parallax missing content or has more than one element.");null===this.params.clipWidth?this.element.style.display="block":(this.element.style.display="inline-block",this.element.style.width=this.params.clipWidth+"px"),this.element.style.height=this.params.clipHeight+"px",this.element.style.overflow="hidden",this.userContent=this.document.createElement("div");var t,e=G(this.element.children);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.userContent.appendChild(n)}}catch(t){e.e(t)}finally{e.f()}this.element.appendChild(this.userContent),this.userContent.style.willChange="transform",this.userContent.style.height=this.params.adHeight+"px",this.userContent.style.overflow="hidden",this.elementHeight=this.element.offsetHeight,this.userContentHeight=this.userContent.offsetHeight,null===this.params.clipWidth&&this.document.defaultView.setInterval(this._updateContainerWidth.bind(this),500),this.document.defaultView.addEventListener("resize",this._resizeWindow.bind(this)),this._loop()}},{key:"_updateUserContentDimensions",value:function(){!0===this.params.adjustToContentHeight&&(this.userContentHeight=this.userContent.offsetHeight,this.elementHeight=this.element.offsetHeight)}},{key:"_loop",value:function(){this._updateUserContentDimensions(),this._positionUserContent(),this.document.defaultView.requestAnimationFrame(this._loop.bind(this))}},{key:"_resizeWindow",value:function(){this.viewportHeight=this.document.defaultView.innerHeight}},{key:"_updateContainerWidth",value:function(){var t=this.element.getBoundingClientRect(),e=t.right-t.left,n=Math.round((e-this.params.width)/2);this.userContent.style.marginLeft=n+"px"}},{key:"_positionUserContent",value:function(){var t=this._getElementPosition(this.element);this.elementPosition=t;var e=t/(this.viewportHeight-this.elementHeight);e>1?e=1:e<0&&(e=0);var n=-1*e*(this.userContentHeight-this.elementHeight);this.userContent.style.transform="translateY("+n+"px)"}},{key:"_getElementPosition",value:function(t){return t.getBoundingClientRect().top}}])&&z(e.prototype,n),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Z(i)?i:String(i)),r)}var o,i}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=X(t);if(e){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}Y.css="\n";var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(i,t);var e,n,r,o=K(i);function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t,e)}return e=i,(n=[{key:"_positionUserContent",value:function(){var t=(this.viewportHeight-this.userContentHeight)/2-this._getElementPosition(this.element);this.userContent.style.transform="translateY("+Math.floor(t)+"px)"}}])&&$(e.prototype,n),r&&$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Y);function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==tt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===tt(i)?i:String(i)),r)}var o,i}var ot=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.userContent=null,this.document=e.ownerDocument,this.params=n,this.cache={contentHeight:null}}var e,n,r;return e=t,(n=[{key:"init",value:function(){if(1!==this.element.children.length)throw new Error("Parallax missing content or has more than one element.");var t=null!==this.params.clipWidth?this.params.clipWidth+"px":"100%";this.element.style.position="relative",this.element.style.display="block",this.element.style.width=t,this.element.style.height=this.params.clipHeight+"px";var e=this.document.createElement("div");this.element.appendChild(e),e.style.position="absolute",e.style.height="100%",e.style.width="100%",e.style.clip="rect(0px, auto, auto, 0px)",null!==this.params.width&&this.params.width,this.userContent=this.document.createElement("div");var n,r=et(this.element.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.userContent.appendChild(o)}}catch(t){r.e(t)}finally{r.f()}e.appendChild(this.userContent),this.userContent.style.position="fixed",this.params.adHeight&&(this.userContent.style.height=this.params.adHeight+"px"),this.userContent.style.display="block",this.userContent.style.overflow="hidden",this.userContent.style.top="50%",this.userContent.style.transform="translateY(-50%)",this._updateContentPosition(this.params.width),setInterval(this._updateContentPosition.bind(this,this.params.width),200)}},{key:"_updateContentPosition",value:function(t){var e=this.userContent.parentElement.getBoundingClientRect(),n=e.right-e.left;null===t?this.userContent.style.width=n:(this.userContent.style.width=t+"px",this.userContent.style.marginLeft=Math.round((n-t)/2)+"px")}}])&&rt(e.prototype,n),r&&rt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ut(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return at(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==it(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===it(i)?i:String(i)),r)}var o,i}var lt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.userContent=null,this.document=e.ownerDocument,this.params=n,this.cache={contentHeight:null}}var e,n,r;return e=t,(n=[{key:"init",value:function(){if(1!==this.element.children.length)throw new Error("Parallax missing content or has more than one element.");var t=null!==this.params.clipWidth?this.params.clipWidth+"px":"100%";this.element.style.position="relative",this.element.style.display="block",this.element.style.width=t,this.element.style.height=this.params.clipHeight+"px";var e=this.document.createElement("div");this.element.appendChild(e),e.style.position="absolute",e.style.height="100%",e.style.width="100%",e.style.clip="rect(0px, auto, auto, 0px)",null!==this.params.width&&this.params.width,this.userContent=this.document.createElement("div");var n,r=ut(this.element.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.userContent.appendChild(o)}}catch(t){r.e(t)}finally{r.f()}e.appendChild(this.userContent),this.userContent.style.position="fixed",this.userContent.style.display="block",this.userContent.style.overflow="hidden",this.userContent.style.top="50%",this.userContent.style.left="50%",this.userContent.style.transform="translate3d(-50%, -50%, 0px)",this._updateContentPosition(this.params.width),setInterval(this._updateContentPosition.bind(this,this.params.width),200)}},{key:"_updateContentPosition",value:function(t){var e=this.userContent.parentElement.getBoundingClientRect(),n=e.right-e.left;null===t?this.userContent.style.width=n:(this.userContent.style.width=t+"px",this.userContent.style.marginLeft=Math.round((n-t)/2)+"px")}}])&&ct(e.prototype,n),r&&ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==ft(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ft(i)?i:String(i)),r)}var o,i}var pt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.strategies=new Map,this.strategies.set("default",Y),this.strategies.set("static",Q),this.strategies.set("staticCss",ot),this.strategies.set("programmatic",lt)}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}],(n=[{key:"get",value:function(t,e,n){return new(this.strategies.get(t))(e,n)}}])&&st(e.prototype,n),r&&st(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==yt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===yt(i)?i:String(i)),r)}var o,i}pt.instance=null;var dt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=void 0===n.underscrollerType?"default":n.underscrollerType;this.behaviour=pt.getInstance().get(r,e,n)}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.behaviour.init()}}])&&ht(e.prototype,n),r&&ht(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==vt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===vt(i)?i:String(i)),r)}var o,i}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bt(t,e)}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wt(t);if(e){var o=wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bt(t,e)}(i,t);var e,n,r,o=gt(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).widget=null,t}return e=i,(n=[{key:"init",value:function(){this.widget=new dt(this.containerNode,this.params),this.widget.init()}}])&&mt(e.prototype,n),r&&mt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(_),Ot=St;n(8604),n(7762),n(9497);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Et(i)?i:String(i)),r)}var o,i}var _t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isInternetExplorer",value:function(t){var e=!1,n=t.navigator.userAgent,r=n.indexOf("MSIE "),o=n.indexOf("Trident/"),i=n.indexOf("Edge");return(r>-1||o>-1||-1!==i)&&(e=!0),e}}],(n=null)&&jt(e.prototype,n),r&&jt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function kt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Pt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Pt(i)?i:String(i)),r)}var o,i}var Ct=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"parse",value:function(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",o=e.toString(),i={},u=t.getNormalizedParameters(o,r,n.length),a=0;a<n.length;a++){var c=u[a],l=n[a],f=t.parseParameter(c,l);i[l.name]=f}return i}},{key:"minLengthOrDefault",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null==t||t.toString().length<e?n:t}},{key:"getNormalizedParameters",value:function(t,e,n){var r=new Array(n);if(r.fill(void 0),void 0===t)return r;var o,i=0,u=kt(t.split(e));try{for(u.s();!(o=u.n()).done;){var a=o.value;if(i===n)break;var c=a.trim();0!==c.length&&(r[i]=c,i++)}}catch(t){u.e(t)}finally{u.f()}return r}},{key:"parseParameter",value:function(t,e){try{if("int"===e.type){var n=parseInt(t);return Number.isNaN(n)?e.default:n}}catch(t){return e.default}}}],(n=null)&&Tt(e.prototype,n),r&&Tt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Rt=Ct;n(8872),n(9087);function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function It(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==At(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===At(i)?i:String(i)),r)}var o,i}var Mt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getPropertyByPath",value:function(t,e){var n,r=t,o=It(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(null==r)return;r=r[i]}}catch(t){o.e(t)}finally{o.f()}return r}}],(n=null)&&Nt(e.prototype,n),r&&Nt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function Lt(t){return function(t){if(Array.isArray(t))return Bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wt(r.key),r)}}function Wt(t){var e=function(t,e){if("object"!==Ht(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ht(e)?e:String(e)}var Ut,Vt,Gt,qt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"isOriginal",value:function(t){var e=t.split("."),n=Mt.getPropertyByPath(window,e);if(null==n)throw new Error("Function not found");return!!n.toString().includes("[native code]")}},{key:"callFunction",value:function(t,e){var n,r=t.split(".");if(this.isOriginal(t))n=Mt.getPropertyByPath(window,r);else{var o=this.getOrCreateIframe().contentWindow;n=Mt.getPropertyByPath(o,r)}if(null==n)throw new Error("Function not found");return n.apply(void 0,Lt(e))}},{key:"getOrCreateIframe",value:function(){return null==this.iframe&&(this.iframe=document.createElement("iframe"),this.iframe=document.body.appendChild(this.iframe)),this.iframe}}],(n=null)&&Ft(e.prototype,n),r&&Ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zt(r.key),r)}}function Zt(t){var e=function(t,e){if("object"!==zt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zt(e)?e:String(e)}Ut=qt,Gt=null,(Vt=Wt(Vt="iframe"))in Ut?Object.defineProperty(Ut,Vt,{value:Gt,enumerable:!0,configurable:!0,writable:!0}):Ut[Vt]=Gt;var $t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getInfoByElement",value:function(t){var e={hasDeclaration:!1,outerHeight:0};if(!1===t.classList.contains(this.ClassName))return e;var n=qt.callFunction("getComputedStyle",[t,":before"]);return e.hasDeclaration=!0,e.outerHeight=this.parseFloatOrDefault(n.height,0)+this.parseFloatOrDefault(n.marginTop,0)+this.parseFloatOrDefault(n.marginBottom,0),e}},{key:"parseFloatOrDefault",value:function(t,e){var n=parseFloat(t);return Number.isNaN(n)?e:n}}],(n=null)&&Yt(e.prototype,n),r&&Yt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,te(r.key),r)}}function Qt(t,e,n){return e&&Xt(t.prototype,e),n&&Xt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function te(t){var e=function(t,e){if("object"!==Jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Jt(e)?e:String(e)}!function(t,e,n){(e=Zt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}($t,"ClassName","trf-declaration-container");var ee=function(){function t(){Kt(this,t)}return Qt(t,null,[{key:"getAvailableWidth",value:function(t,e){t.ownerDocument.defaultView;var n=e.getBoundingClientRect().right;return t.ownerDocument.getElementsByTagName("html")[0].clientWidth-n}},{key:"getAvailableHeight",value:function(e,n){return t.getViewHeight(n.ownerDocument)}},{key:"getViewHeight",value:function(t){return t.defaultView.innerHeight}}]),t}(),ne=function(){function t(e,n){Kt(this,t),this.document=e.ownerDocument,this.params=n,this.skyElement=e,this.contextElement=n.contextElement,this.topMargin=this._parseTopMargin(n.topMargin),this.intervalId=null,this.bottomAnchorElement=null,this.scrollEventListener=this._reposition.bind(this)}return Qt(t,[{key:"init",value:function(){void 0!==this.skyElement.sitebarWidget&&this.skyElement.sitebarWidget.destroy(),this.skyElement.sitebarWidget=this,void 0!==this.params.bottomAnchorSelector&&(this.bottomAnchorElement=this.document.querySelector(this.params.bottomAnchorSelector)),this._build()}},{key:"destroy",value:function(){this.document.removeEventListener("scroll",this.scrollEventListener),this.document.defaultView.clearInterval(this.intervalId),delete this.skyElement.sitebarWidget}},{key:"_build",value:function(){var t=this;this._prepareSky(),this.intervalId=this.document.defaultView.setInterval((function(){t._reposition()}),500),this.document.addEventListener("scroll",this.scrollEventListener)}},{key:"_reposition",value:function(){var t=this.contextElement.getBoundingClientRect(),e=0;if("left"===this.params.position)this.skyElement.style.left=0,e=t.left-this.params.leftMargin;else this.skyElement.style.marginLeft=this.params.leftMargin+"px",e=ee.getAvailableWidth(this.skyElement,this.contextElement),null!=this.params.leftMargin&&(e-=this.params.leftMargin),this.skyElement.style.left=t.right+"px";this.skyElement.style.width=e+"px";var n=t.top,r=R.getScrollY(this.document.defaultView)>=this.topMargin.scrollThreshold?this.topMargin.afterScroll:this.topMargin.beforeScroll;n<r&&(n=r);var o=0;null!=this.bottomAnchorElement&&((o=ee.getViewHeight(this.bottomAnchorElement.ownerDocument)-this.bottomAnchorElement.getBoundingClientRect().top)<0&&(o=0));n-=o,this.skyElement.style.top=n+"px";var i=ee.getAvailableHeight(this.skyElement,this.contextElement)-n,u=$t.getInfoByElement(this.skyElement);u.hasDeclaration&&(i-=u.outerHeight),i-=o,this.skyElement.style.height=i+"px"}},{key:"_prepareSky",value:function(){R.setStyle(this.skyElement,"position","fixed",{important:!0}),this.skyElement.style.float="none",this.skyElement.style.bottom="",this.skyElement.style.right="",this.skyElement.style.marginLeft="",this.skyElement.style.marginRight="",this.skyElement.style.marginTop="",this.skyElement.style.marginBottom="",this.skyElement.style.zIndex="2",this.skyElement.style.top=this.topMargin.beforeScroll+"px",this._reposition()}},{key:"_parseTopMargin",value:function(t){var e=Rt.parse(t,[{name:"beforeScroll",type:"int",default:0},{name:"afterScroll",type:"int",default:null},{name:"scrollThreshold",type:"int",default:1}]);return null===e.afterScroll&&(e.afterScroll=e.beforeScroll),e}}]),t}();function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ie(r.key),r)}}function ie(t){var e=function(t,e){if("object"!==re(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===re(e)?e:String(e)}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ue(t,e)}function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ce(t);if(e){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ce(t)}var le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(i,t);var e,n,r,o=ae(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).widget=null,t}return e=i,(n=[{key:"init",value:function(){this.widget=new ne(this.containerNode,this.params),this.widget.init()}}])&&oe(e.prototype,n),r&&oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(_),fe=le;n(8305),n(1430);function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ye(r.key),r)}}function ye(t){var e=function(t,e){if("object"!==se(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===se(e)?e:String(e)}var he=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.idToElementMap=new Map}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}],(n=[{key:"register",value:function(t,e){this.idToElementMap.set(t,e)}},{key:"unregister",value:function(t){var e=this.idToElementMap.get(t);return this.idToElementMap.delete(t),e}}])&&pe(e.prototype,n),r&&pe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();he.instance=null;var de,ve=he,me=new Uint8Array(16);function be(){if(!de&&!(de="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return de(me)}var ge=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var we=function(t){return"string"==typeof t&&ge.test(t)},Se=[],Oe=0;Oe<256;++Oe)Se.push((Oe+256).toString(16).substr(1));var Ee=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Se[t[e+0]]+Se[t[e+1]]+Se[t[e+2]]+Se[t[e+3]]+"-"+Se[t[e+4]]+Se[t[e+5]]+"-"+Se[t[e+6]]+Se[t[e+7]]+"-"+Se[t[e+8]]+Se[t[e+9]]+"-"+Se[t[e+10]]+Se[t[e+11]]+Se[t[e+12]]+Se[t[e+13]]+Se[t[e+14]]+Se[t[e+15]]).toLowerCase();if(!we(n))throw TypeError("Stringified UUID is invalid");return n};var je=function(t,e,n){var r=(t=t||{}).random||(t.rng||be)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return Ee(r)};function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function Pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xe(r.key),r)}}function ke(t,e,n){return e&&Pe(t.prototype,e),n&&Pe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xe(t){var e=function(t,e){if("object"!==_e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_e(e)?e:String(e)}var Te=ke((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e}));function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Re(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ae(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,De(r.key),r)}}function De(t){var e=function(t,e){if("object"!==Ce(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ce(e)?e:String(e)}var Ne=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.widgetFactory=e,this.contentProviderFactory=n,this.templateFactory=r,this.logger=O.get("Adlib"),this.templateStore=ve.getInstance()}var e,n,r;return e=t,(n=[{key:"_destroyWidget",value:function(t,e){var n=this.templateStore.unregister(t);void 0!==n&&(n.trfWidgetInstance.destroy(e===n),delete n.trfWidgetInstance)}},{key:"build",value:function(){throw new Error("Not implemented")}},{key:"_buildWidget",value:function(t,e,n){var r=n.id;void 0===r&&(r=je());var o=this.widgetFactory.get(t);if(null===o)throw new Error("Ad with id "+t+" not implemented.");var i=new o(e,n);return e.trfWidgetInstance=i,i.init(),this.templateStore.register(r,e),new Te(r)}},{key:"_broadcastEvent",value:function(t,e){var n=new CustomEvent(t,{bubbles:!1});e.dispatchEvent(n);var r,o=Re(e.children);try{for(o.s();!(r=o.n()).done;){var i=r.value;this._broadcastEvent(t,i)}}catch(t){o.e(t)}finally{o.f()}}},{key:"_notifyTemplateDeployed",value:function(t,e){"function"==typeof t.eventTemplateDeployed&&t.eventTemplateDeployed(e)}},{key:"_hideGoogleIframe",value:function(t){var e=t.querySelector("[id^='google']");null!==e&&(e.style.display="none")}},{key:"_stopRefresh",value:function(t){setTimeout((function(){var e,n="trfWallpaperLoadedBlockRefresh";t.CustomEvent?e=new t.CustomEvent(n,{detail:{}}):(e=t.document.createEvent(n)).initCustomEvent(n,!0,!0,{}),t.document.dispatchEvent(e)}),5e3)}}])&&Ie(e.prototype,n),r&&Ie(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Me(t){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(t)}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Le(r.key),r)}}function Le(t){var e=function(t,e){if("object"!==Me(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Me(e)?e:String(e)}var Be=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"buildIframeUrl",value:function(t,e){var n=(-1===t.indexOf("?")?"?":"&")+"clickTag=";return t.indexOf("?rd=")>-1&&(n=""),t+n+encodeURIComponent(e)}},{key:"buildClickUrl",value:function(t,e){return e+t}}],(n=null)&&He(e.prototype,n),r&&He(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Fe(t){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fe(t)}function We(){return We=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},We.apply(this,arguments)}function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ve(r.key),r)}}function Ve(t){var e=function(t,e){if("object"!==Fe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Fe(e)?e:String(e)}function Ge(t,e){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ge(t,e)}function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ze(t);if(e){var o=ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ze(t){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(t)}var Ye=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(i,t);var e,n,r,o=qe(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"isEmptyOrZero",value:function(t){if(null==t)return!0;var e=t.toString();return 0===e.length||"0"===e}},{key:"getNullIfEmptyOrZero",value:function(t){return i.isEmptyOrZero(t)?null:parseInt(t)}},{key:"generateImageDimensions",value:function(t,e){return null===t?{width:"100%",height:"auto"}:{width:t+"px",height:"auto"}}}],(n=[{key:"build",value:function(t){this._getContent(t)}},{key:"_getContent",value:function(t){var e=this,n=t.containerHeight,r=t.imageUpload,o=t.imageUrl,u=t.htmlUrl,a=t.clickthrough,c=i.getNullIfEmptyOrZero(t.adWidth),l=t.adHeight,f=t.clickmacro,s=t.htmlFileupload,p=t.elementSelector,y=t.thirdPartyCount,h=t.context,d=t.underscrollerType,v=i.getNullIfEmptyOrZero(t.containerWidth),m=!1!==t.showDeclaration,b=t.placement;null==b&&(b="sibling"),"string"==typeof s&&s.length>0&&(u=s);var g="";null!=r&&r.length>0&&(g=r),null!=o&&o.length>0&&(g=o),function(){var r=h.createElement("div");r.setAttribute("class","underscroller");var o=h.querySelector(p);if(null===o)throw new Error("Container element not found: "+p);var s="",w="",S=h.createElement("DIV");m&&S.classList.add("trf-declaration-container"),S.classList.add("trf-parallaxContainer"),S.classList.add("anx_cr_loc"),new Promise((function(n){var o=e.contentProviderFactory.get("scriptTag"),p=e.contentProviderFactory.get("iframe"),y=e.contentProviderFactory.get("htmlUpload"),d=e.contentProviderFactory.get("htmlContent"),v=We({contextDocument:h},t,{htmlUrl:u});if(o.isOptionsValid(v))o.generate(v).then((function(t){r.appendChild(t),S.appendChild(r),n()}));else if(d.isOptionsValid(v))d.generate(v).then((function(t){r.appendChild(t),S.appendChild(r),n()}));else if(p.isOptionsValid(v))p.generate(v).then((function(t){r.appendChild(t),S.appendChild(r),n()}));else if(y.isOptionsValid(v))y.generate(v).then((function(t){r.appendChild(t),S.appendChild(r),n()}));else{if(void 0!==g&&g.length>0){var m=i.generateImageDimensions(c,l);w='\x3c!-- <a href="{link}" target="_blank" style="width:IMAGEWIDTH"> <img src="IMAGESOURCE" width="IMAGEWIDTH" height="IMAGEHEIGHT" ></img> </a> --\x3e'.replace("\x3c!--","").replace("{link}",Be.buildClickUrl(a,f)).replace("IMAGESOURCE",g).replace(/IMAGEWIDTH/g,m.width).replace("IMAGEHEIGHT",m.height).replace("--\x3e","")}s+='\x3c!-- <div class="underscroller">ADFORMAT</div> --\x3e'.replace("\x3c!--","").replace("ADFORMAT",w).replace("--\x3e",""),S.innerHTML=s,n()}})).then((function(){var r;if(S.appendChild(e._getThirdPartyCount(y,h)),e._prepareTemplateContainer(o,t),"sibling"===b)r=o.parentNode.insertBefore(S,o),o.style.display="none";else{if("origin"!==b)throw new Error("Placement value not supported: "+b);r=o.insertBefore(S,null)}var i=r.querySelector(".underscroller"),u={adHeight:l,clipHeight:n,clipWidth:v,width:c,adjustToContentWidth:t.adjustToContentWidth,adjustToContentHeight:t.adjustToContentHeight,underscrollerType:d};e._buildWidget("ampParallax",i,u),e._broadcastEvent("trfDeployed",i),_t.isInternetExplorer(h.defaultView)&&i.addEventListener("click",(function(){h.defaultView.open(Be.buildClickUrl(a,f))}))}))}()}},{key:"_prepareTemplateContainer",value:function(t,e){var n=t.parentNode;!0===e.correctParentHeight&&(n.style.height="")}},{key:"_getThirdPartyCount",value:function(t,e){if(""!==t){var n=e.createElement("div");n.setAttribute("style","display:none");var r=e.createElement("img");return r.src=t,r.setAttribute("width","1"),r.setAttribute("height","1"),n.appendChild(r),n}return e.createTextNode("")}}])&&Ue(e.prototype,n),r&&Ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne),Ze=Ye;function $e(t){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(t)}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ke(r.key),r)}}function Ke(t){var e=function(t,e){if("object"!==$e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$e(e)?e:String(e)}function Xe(t,e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xe(t,e)}function Qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=tn(t);if(e){var o=tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===$e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function tn(t){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tn(t)}var en=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(i,t);var e,n,r,o=Qe(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"build",value:function(t){this._getContent(t)}},{key:"_getContent",value:function(t){var e=t.contextDocument.querySelector(t.contextElementSelector),n=t.contextDocument.querySelector(t.skyElementSelector);null==e&&O.get().error("Context element not found: "+t.contextElementSelector),null==n&&O.get().error("Sky element not found."+t.skyElementSelector);var r={contextElement:e,topMargin:void 0!==t.topMargin?t.topMargin:void 0,leftMargin:t.leftMargin?t.leftMargin:0,skipMoveToBody:!0===t.skipMoveToBody,bottomAnchorSelector:t.bottomAnchorSelector,position:t.position};this._buildWidget("stickySky",n,r)}}])&&Je(e.prototype,n),r&&Je(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne),nn=en;function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,un(r.key),r)}}function un(t){var e=function(t,e){if("object"!==rn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rn(e)?e:String(e)}var an=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=O.get("StickySky"),this.document=e.ownerDocument,this.params=n,this._setParams(),this.skyElement=e,this.intervalId=null,this.scrollEventListener=this._placeSky.bind(this),this.bottomAnchorElement=null}var e,n,r;return e=t,(n=[{key:"_setParams",value:function(){this.contextElement=this.params.contextElement,this.topMargin=this._parseTopMargin(this.params.topMargin)}},{key:"init",value:function(){var t={};void 0!==this.skyElement.stickySkyWidget&&(t=this.skyElement.stickySkyWidget.params,this.skyElement.stickySkyWidget.destroy(),this.params=Object.assign(t,this.params),this._setParams()),this.skyElement.stickySkyWidget=this,null!=this.params.bottomAnchorSelector&&(this.bottomAnchorElement=this.document.querySelector(this.params.bottomAnchorSelector)),this._build()}},{key:"destroy",value:function(){this.document.removeEventListener("scroll",this.scrollEventListener),this.document.defaultView.clearInterval(this.intervalId),delete this.skyElement.stickySkyWidget}},{key:"_build",value:function(){var t=this;this._prepareSky(),this.intervalId=this.document.defaultView.setInterval((function(){t._placeSky(),t._reposition()}),500),this.document.addEventListener("scroll",this.scrollEventListener)}},{key:"_reposition",value:function(){this.contextElement.getBoundingClientRect();var t=this._calculateLeft();this.skyElement.style.left=t+"px"}},{key:"_calculateLeft",value:function(){var t,e=this.contextElement.getBoundingClientRect();if("left"===this.params.position){var n=this.skyElement.getBoundingClientRect(),r=n.right-n.left;t=e.left-r}else t=e.right;return"left"===this.params.position?t-=parseInt(this.params.leftMargin):t+=parseInt(this.params.leftMargin),t}},{key:"_prepareSky",value:function(){!0!==this.params.skipMoveToBody&&(this.skyElement=this.document.body.appendChild(this.skyElement)),R.setStyle(this.skyElement,"position","fixed",{important:!0}),this.skyElement.style.float="none",this.skyElement.style.bottom="",this.skyElement.style.right="",this.skyElement.style.marginLeft="",this.skyElement.style.marginRight="",this.skyElement.style.marginTop="",this.skyElement.style.marginBottom="",this.skyElement.style.zIndex="2",this._reposition(),this._placeSky()}},{key:"_placeSky",value:function(){R.setStyle(this.skyElement,"position","fixed",{important:!0});var t=this.contextElement.getBoundingClientRect().top,e=R.getScrollY(this.document.defaultView)>=this.topMargin.scrollThreshold?this.topMargin.afterScroll:this.topMargin.beforeScroll;if(t<e&&(t=e),null!==this.bottomAnchorElement){var n=this.bottomAnchorElement.getBoundingClientRect(),r=this.skyElement.getBoundingClientRect(),o=r.bottom-r.top;n.top<t+o&&(t=n.top-o)}this.skyElement.style.top=t+"px"}},{key:"_parseTopMargin",value:function(t){var e=Rt.parse(t,[{name:"beforeScroll",type:"int",default:0},{name:"afterScroll",type:"int",default:null},{name:"scrollThreshold",type:"int",default:1}]);return null===e.afterScroll&&(e.afterScroll=e.beforeScroll),e}}])&&on(e.prototype,n),r&&on(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),cn=an;function ln(t){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(t)}function fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sn(r.key),r)}}function sn(t){var e=function(t,e){if("object"!==ln(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ln(e)?e:String(e)}function pn(t,e){return pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pn(t,e)}function yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ln(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function hn(t){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hn(t)}var dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pn(t,e)}(i,t);var e,n,r,o=yn(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).widget=null,t}return e=i,(n=[{key:"init",value:function(){this.widget=new cn(this.containerNode,this.params),this.widget.init()}}])&&fn(e.prototype,n),r&&fn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(_),vn=dn;function mn(t){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(t)}function bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gn(r.key),r)}}function gn(t){var e=function(t,e){if("object"!==mn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===mn(e)?e:String(e)}function wn(t,e){return wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wn(t,e)}function Sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=On(t);if(e){var o=On(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function On(t){return On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},On(t)}var En=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wn(t,e)}(i,t);var e,n,r,o=Sn(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"build",value:function(t){this._getContent(t)}},{key:"_getContent",value:function(t){var e=this,n=t.imageUpload,r=t.imageUrl,o=t.htmlUrl,i=t.clickthrough,u="100%",a=t.clickmacro,c=t.thirdPartyCount,l=t.contextDocument,f="";null!=n&&n.length>0&&(f=n),null!=r&&r.length>0&&(f=r),function(){var n="CLICKMACROCLICKTHROUGH".replace("CLICKTHROUGH",i).replace("CLICKMACRO",a),r=l.body,s="",p="";if(null!=o&&""!==o){var y="?clickTag=";o.indexOf("?rd=")>-1&&(y=""),o=o+y+a,p='\x3c!-- <iframe frameborder="0" width="IFRAMEWIDTH" height="IFRAMEHEIGHT" src="IFRAMESOURCE" scrolling="no"></iframe> --\x3e'.replace("\x3c!--","").replace("IFRAMEWIDTH","100%").replace("IFRAMEHEIGHT",u).replace("IFRAMESOURCE",o).replace("--\x3e","")}else""!==f&&(p='\x3c!-- <a href="{link}" target="_blank"> <img src="IMAGESOURCE" width="IMAGEWIDTH" height="IMAGEHEIGHT" ></img> </a> --\x3e'.replace("\x3c!--","").replace("{link}",n).replace("IMAGESOURCE",f).replace("IMAGEHEIGHT",u).replace("--\x3e",""));s+='\x3c!-- <div class="push-down" style="line-height:0px">ADFORMAT</div> THIRDPARTYCOUNT --\x3e'.replace("\x3c!--","").replace("ADFORMAT",p).replace("THIRDPARTYCOUNT",e._getThirdPartyCount(c)).replace("--\x3e",""),r.insertAdjacentHTML("afterbegin",s);var h=r.querySelector(".push-down"),d={initialHeight:t.initialHeight,expandedHeight:t.expandedHeight};e._buildWidget("pushDown",h,d),h.addEventListener("click",(function(){l.defaultView.open(n)}))}()}},{key:"_getThirdPartyCount",value:function(t){return""!==t?'<div style="display:none;"><img src="'+t+'" width="1" height="1"/></div>':""}}])&&bn(e.prototype,n),r&&bn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne),jn=En;function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function Pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tn(r.key),r)}}function xn(t,e,n){return e&&kn(t.prototype,e),n&&kn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tn(t){var e=function(t,e){if("object"!==_n(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_n(e)?e:String(e)}var Cn=function(){function t(e){Pn(this,t);var n=e.ownerDocument.createElement("div");this.element=e.ownerDocument.body.appendChild(n),this.element.style.position="fixed",this.element.style.bottom="0",this.element.style.left="0",this.element.style.height="20vh",this.element.style.overflow="auto",this.element.style.padding="0.5em",this.element.style.width="100%",this.element.style.border="1px solid #000",this.element.style.backgroundColor="white",this.document=e.ownerDocument}return xn(t,[{key:"log",value:function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var u=i[o];t.push(JSON.stringify(u))}var a=this.document.createElement("p");a.style.padding="0",a.style.margin="0",a.appendChild(this.document.createTextNode(t.join(""))),this.element.insertBefore(a,this.element.firstChild)}}]),t}(),Rn=function(){function t(e){Pn(this,t),this.channels=new Map,this.contextElement=e}return xn(t,[{key:"log",value:function(t){for(var e=this._getOrCreateChannel(t),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.log.apply(e,r)}},{key:"_getOrCreateChannel",value:function(t){if(!1===this.channels.has(t)){var e=new Cn(this.contextElement);this.channels.set(t,e)}return this.channels.get(t)}}]),t}(),An=Rn;function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nn(r.key),r)}}function Nn(t){var e=function(t,e){if("object"!==In(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==In(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===In(e)?e:String(e)}var Mn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=e.ownerDocument,this.element=e,this.container=null,this.expansionElement=null,this.params=n,this.transition={speed:.5},this.initialHeight=n.initialHeight,this.expandedHeight=n.expandedHeight,this.debug=!1,this.debugSession=new An(this.document.body),this.scrollEventCallback=this._onScroll.bind(this)}var e,n,r;return e=t,(n=[{key:"init",value:function(){this._build()}},{key:"_build",value:function(){this._prepare(),this.document.defaultView.setTimeout(this._expand.bind(this),100),this.scrollEventListener=this.document.defaultView.addEventListener("scroll",this.scrollEventCallback)}},{key:"_prepare",value:function(){var t=this.document.createElement("div");t.appendChild(this.element),this.container=this.document.body.insertBefore(t,this.document.body.firstChild),R.setClass(this.element,"trf-pushdown-content");var e=this.document.createElement("div");e.style.height=this.initialHeight+"px",e.style.transition="height {speed}s".replace("{speed}",this.transition.speed),R.setClass(e,"trf-pushdown-expander"),this.expansionElement=this.document.body.insertBefore(e,this.document.body.firstChild),this.element.style.height="100%",this.element.style.width="100%",this.container.style.zIndex="99999",this.container.style.position="fixed",this.container.style.float="none",this.container.style.width="100%",this.container.style.bottom="",this.container.style.right="",this.container.style.top="0",this.container.style.left="0",this.container.style.height=this.initialHeight+"px",this.container.style.transition="height {speed}s".replace("{speed}",this.transition.speed);var n=this.document.createElement("div");n.style.display="inline-block",n.style.opacity="0.5",n.style.cursor="pointer",n.style.position="absolute",n.style.left="0",n.style.bottom="0",n.style.lineHeight="1.5em",n.style.borderRadius="0.75em",n.style.backgroundColor="#999999",n.style.paddingLeft="1em",n.style.paddingRight="1em",n.style.marginBottom="1em",n.style.marginLeft="1em",n.appendChild(this.document.createTextNode("Close")),n.addEventListener("click",this._onClose.bind(this)),this.container.appendChild(n)}},{key:"_onClose",value:function(){var t=this;this.document.defaultView.removeEventListener("scroll",this.scrollEventCallback),this._close(),this.document.defaultView.setTimeout((function(){t.container.parentNode.removeChild(t.container),t.expansionElement.parentNode.removeChild(t.expansionElement)}),1e3*this.transition.speed)}},{key:"_onScroll",value:function(){var t=this.expansionElement.getBoundingClientRect().top;this.debug&&this.debugSession.log("default","scrollPosition:",t),t<0?this._rewind():this._expand()}},{key:"_setHeight",value:function(t,e){t.style.height=e+"px"}},{key:"_expand",value:function(){this._setHeight(this.container,this.expandedHeight),this._setHeight(this.expansionElement,this.expandedHeight)}},{key:"_rewind",value:function(){this._setHeight(this.container,this.initialHeight),this._setHeight(this.expansionElement,this.initialHeight)}},{key:"_close",value:function(){this._setHeight(this.container,0),this._setHeight(this.expansionElement,0)}}])&&Dn(e.prototype,n),r&&Dn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Hn=Mn;function Ln(t){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(t)}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fn(r.key),r)}}function Fn(t){var e=function(t,e){if("object"!==Ln(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ln(e)?e:String(e)}function Wn(t,e){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wn(t,e)}function Un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vn(t);if(e){var o=Vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Ln(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Vn(t){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vn(t)}var Gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wn(t,e)}(i,t);var e,n,r,o=Un(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).widget=null,t}return e=i,(n=[{key:"init",value:function(){this.widget=new Hn(this.containerNode,this.params),this.widget.init()}}])&&Bn(e.prototype,n),r&&Bn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(_),qn=Gn;n(210);function zn(t){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(t)}function Yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zn(r.key),r)}}function Zn(t){var e=function(t,e){if("object"!==zn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==zn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zn(e)?e:String(e)}var $n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"replace",value:function(t,e,n){throw new Error("Has to be implemented by child class.")}},{key:"getValue",value:function(){throw new Error("Has to be implemented by child class.")}}])&&Yn(e.prototype,n),r&&Yn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xn(r.key),r)}}function Xn(t){var e=function(t,e){if("object"!==Jn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Jn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Jn(e)?e:String(e)}function Qn(t,e){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qn(t,e)}function tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=er(t);if(e){var o=er(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Jn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function er(t){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},er(t)}var nr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qn(t,e)}(i,t);var e,n,r,o=tr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,n=[{key:"replace",value:function(t,e,n){var r=this._convertInputToOutput(e,n);t.textContent=r}},{key:"_convertInputToOutput",value:function(t,e){null==t&&(t="");var n=Number.MAX_SAFE_INTEGER;e.maxLength&&(n=e.maxLength);var r=!1;e.addDots&&t.length>n&&(n-=3,r=!0);var o=t.substr(0,n);return r&&(o+="..."),o}},{key:"getValue",value:function(t){return t.textContent}}],n&&Kn(e.prototype,n),r&&Kn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}($n),rr=nr;function or(t){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(t)}function ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ur(r.key),r)}}function ur(t){var e=function(t,e){if("object"!==or(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===or(e)?e:String(e)}var ar=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"handleRelAttribute",value:function(t,e){var n="nofollow";"string"==typeof e.rel?n=e.rel:!1===e.rel&&(n=null),null===n?t.removeAttribute("rel"):"A"===t.tagName.toUpperCase()&&t.setAttribute("rel",n)}}],(n=null)&&ir(e.prototype,n),r&&ir(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),cr=ar;function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function fr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sr(r.key),r)}}function sr(t){var e=function(t,e){if("object"!==lr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lr(e)?e:String(e)}function pr(t,e){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pr(t,e)}function yr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hr(t);if(e){var o=hr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function hr(t){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hr(t)}var dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pr(t,e)}(i,t);var e,n,r,o=yr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,n=[{key:"replace",value:function(t,e,n){t.setAttribute("href",e),"A"===t.tagName.toUpperCase()&&cr.handleRelAttribute(t,n.globalContext)}},{key:"getValue",value:function(t){return t.getAttribute("href")}}],n&&fr(e.prototype,n),r&&fr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}($n),vr=dr;function mr(t){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(t)}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gr(r.key),r)}}function gr(t){var e=function(t,e){if("object"!==mr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===mr(e)?e:String(e)}function wr(t,e){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wr(t,e)}function Sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Or(t);if(e){var o=Or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Or(t){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Or(t)}var Er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wr(t,e)}(i,t);var e,n,r,o=Sr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,n=[{key:"replace",value:function(t,e){t.setAttribute("src",e)}},{key:"getValue",value:function(t){return t.getAttribute("src")}}],n&&br(e.prototype,n),r&&br(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}($n),jr=Er;function _r(t){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(t)}function Pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kr(r.key),r)}}function kr(t){var e=function(t,e){if("object"!==_r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_r(e)?e:String(e)}var xr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=new Map,this.map.set("text",new rr),this.map.set("src",new jr),this.map.set("href",new vr)}var e,n,r;return e=t,(n=[{key:"get",value:function(t){var e=this.map.get(t);return null==e?null:e}}])&&Pr(e.prototype,n),r&&Pr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function Cr(){return Cr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cr.apply(this,arguments)}function Rr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ar(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ar(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dr(r.key),r)}}function Dr(t){var e=function(t,e){if("object"!==Tr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Tr(e)?e:String(e)}function Nr(t,e){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nr(t,e)}function Mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hr(t);if(e){var o=Hr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Tr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Hr(t){return Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hr(t)}var Lr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(i,t);var e,n,r,o=Mr(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).pluginFactory=new xr,t}return e=i,(n=[{key:"reset",value:function(t,e){var n,r=Rr(this._getPlaceholders(t));try{for(r.s();!(n=r.n()).done;){var o=n.value,u=o.node._nativeOriginalValues;null==u&&(u={});var a=i.placeholders[o.name];if(!1!==Array.isArray(a)){var c,l=Rr(a);try{for(l.s();!(c=l.n()).done;){var f=c.value,s=f.plugin,p=this.pluginFactory.get(s);if(null!==p){var y=u[s];null!=y&&"undefined"!==y||(y=""),p.replace(o.node,y,Cr({},f,{globalContext:e}))}}}catch(t){l.e(t)}finally{l.f()}}}}catch(t){r.e(t)}finally{r.f()}}},{key:"_getPlaceholders",value:function(t){var e,n=[],r=Rr(t.querySelectorAll("[data-placeholder-id]"));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.getAttribute("data-placeholder-id");null!=i&&0!==i.length&&n.push({node:o,name:i})}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"build",value:function(t){var e=t.element;if(!1!==R.isElement(e)&&null!=t.placeholders){var n,r=Rr(this._getPlaceholders(e));try{for(r.s();!(n=r.n()).done;){var o=n.value,i=t.placeholders[o.name];null!=i&&"undefined"!==i||(i=""),this._replace(o.name,i,o.node,t)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"_replace",value:function(t,e,n,r){var o=i.placeholders[t];if(!1!==Array.isArray(o)){var u,a={},c=Rr(o);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=l.plugin,s=this.pluginFactory.get(f);if(null!==s){var p=s.getValue(n);s.replace(n,e,Cr({},l,{globalContext:r})),a[f]=p}}}catch(t){c.e(t)}finally{c.f()}n._nativeOriginalValues=a}}}])&&Ir(e.prototype,n),r&&Ir(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne);Lr.placeholders={title:[{plugin:"text",maxLength:60,addDots:!0}],kicker:[{plugin:"text",maxLength:60,addDots:!1}],body:[{plugin:"text",maxLength:170,addDots:!0}],sponsor:[{plugin:"text",maxLength:25,addDots:!0}],imgSrc:[{plugin:"src"}],icon:[{plugin:"src"}],clickUrl:[{plugin:"href"}],cta:[{plugin:"href"}]};var Br=Lr;function Fr(t){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ur(r.key),r)}}function Ur(t){var e=function(t,e){if("object"!==Fr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Fr(e)?e:String(e)}var Vr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clickTrackerListener=null}var e,n,r;return e=t,(n=[{key:"_destroyClickTrackers",value:function(t){var e=this;null!==this.clickTrackerListener&&(t.querySelectorAll("a").forEach((function(t){t.removeEventListener("click",e.clickTrackerListener)})),this.clickTrackerListener=null)}},{key:"_buildClickTrackers",value:function(t,e,n){var r=this,o=t.querySelectorAll("a");this.clickTrackerListener=this._onClickTrackerClick.bind(this,e,n),o.forEach((function(t){t.addEventListener("click",r.clickTrackerListener)}))}},{key:"_onClickTrackerClick",value:function(t,e){t.forEach((function(t){try{e(t)}catch(t){}}))}}])&&Wr(e.prototype,n),r&&Wr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Gr(t){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zr(r.key),r)}}function zr(t){var e=function(t,e){if("object"!==Gr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Gr(e)?e:String(e)}function Yr(t,e){return Yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yr(t,e)}function Zr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$r(t);if(e){var o=$r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function $r(t){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$r(t)}var Jr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yr(t,e)}(i,t);var e,n,r,o=Zr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,n=[{key:"destroy",value:function(t){var e=this._getNative(t);if(null===e)throw new Error("Native element not in DOM.");void 0!==t.setVisibility&&!0!==t.setVisibility||this._setVisibility(!0,e),this._destroyClickTrackers(e),(new Br).reset(e,t),this._postProcess(t,e)}},{key:"_postProcess",value:function(t,e){this._setTarget(t.anchorTarget,e)}},{key:"_setTarget",value:function(t,e){Array.from(e.querySelectorAll("a")).forEach((function(e){var n=e.getAttribute("target");null!=n&&""!==n||(n=void 0),void 0!==t&&(n=t),void 0===n&&(n="_blank"),e.setAttribute("target",n)}))}},{key:"_setVisibility",value:function(t,e){var n=t?"visible":"hidden";R.setStyle(e,"visibility",n);for(var r=0;r<i.visibilitySelectors.length;r++)R.setStyleByElements(e.querySelectorAll(i.visibilitySelectors[r]),"visibility",n)}},{key:"build",value:function(t){t.contextDocument.querySelector(t.elementSelector);var e=this._getNative(t);if(null===e)throw new Error("Native element not in DOM.");var n=t.placeholders,r=new Br,o={element:e,placeholders:n,rel:t.rel};r.build(o),e.style.display="",void 0!==t.setVisibility&&!0!==t.setVisibility||this._setVisibility(!0,e),this._postProcess(t,e),Array.isArray(t.clickTrackers)&&"function"==typeof t.fireRequest&&this._buildClickTrackers(e,t.clickTrackers,t.fireRequest)}},{key:"_getNative",value:function(t){var e=t.templateSelector;return void 0===e?null:t.contextDocument.querySelector(e)}},{key:"accept",value:function(t){if(null===t.contextDocument.querySelector(t.elementSelector))throw new Error("Target element not found for selector "+t.elementSelector);var e=this._getNative(t);return null!==e&&null!=e.querySelector("[data-placeholder-id]")}}],n&&qr(e.prototype,n),r&&qr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Vr);Jr.visibilitySelectors=[".id-Teaser-el--proBEEP",".id-Teaser-el--nativeBEEPtemplate"];var Kr=Jr;n(9813),n(8301);function Xr(t,e){this.definedTemplate=t,this.isDefault=!0===e}Xr.prototype.getHtml=function(t){return this._replacePlaceholders(t)},Xr.prototype.getCss=function(){return this.definedTemplate.css},Xr.prototype._replacePlaceholders=function(t){var e=this.definedTemplate.html;for(var n in t){var r=t[n];null!=r&&"undefined"!==r||(r="");var o=new RegExp("\\{"+n+"\\}","g");e=e.replace(o,r)}return e=Xr._removePlaceholders(e)},Xr._removePlaceholders=function(t){return t.replace(/\{[a-z_\-0-9]+\}/gi,"")};var Qr=Xr;function to(t){this.target=t.target,this.method=t.method}to.prototype.send=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new XMLHttpRequest;e.withCredentials&&(n.withCredentials=!0),n.onreadystatechange=function(){4==this.readyState&&(200==this.status?t(this.responseText):t(null,new Error("Response status "+new String(this.status))))};try{n.open(this.method,this.target,!0),n.send()}catch(e){t(null,new Error("Error sending request",e))}};var eo=to;function no(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ro(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ro(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function ro(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oo(){this.defaultTemplate={html:'<div class="an-native-ad stacked" style="display:block;max-width:300px;text-align: left"><a href="{clickUrl}" target="_blank"><img class="an-native-img" src="{imgSrc}" style="max-width:300px;" /></a><header class="an-native-headline" style="font-weight:bold;font-size:1.3em;"><a href="{clickUrl}" target="_blank">{title}</a></header><div class="an-native-body" style="margin:5px 0;"><a href="{clickUrl}" target="_blank">{body}</a></div><div class="an-native-sponsor-wrapper" style="color:#999999;font-size:0.8em;"></div></div>',css:".an-native-ad.stacked a { color: #000; text-decoration: none;}"},this.demoMapping={templates:{keyvaluetemplate:{html:"<div>keyvaluetemplate{sponsor}</div>",css:"div {color:red}"},adunitdefaulttemplate:{html:"<div>adunitdefaulttemplate</div>",css:"div {color:red}"}},adunits:{adunit1:{defaultTemplate:"adunitdefaulttemplate",mappings:[{key:"key1",value:"value1",template:"keyvaluetemplate"}]}}}}oo.prototype._getMapping=function(t,e){var n="https://cdntrf.com/native-templates/{domain}/mapping.json".replace("{domain}",t);new eo({target:n,method:"get"}).send((function(t){var n=null;null!==t&&(n=JSON.parse(t)),e(n)}))},oo.prototype._isEmpty=function(t){return null==t||""===t},oo.prototype.getTemplate=function(t,e){this._getMapping(t.domain,function(n){var r=this._decideTemplate(t,n),o=this.defaultTemplate,i=!0;if(null!==r){var u=n.templates[r];null!=u&&(o=u,i=!1)}e(new Qr(o,i))}.bind(this))},oo.prototype._decideTemplate=function(t,e){if(!this._isEmpty(t.domain)){var n=null;if(null==e)return n;if(this._isEmpty(t.adunit))return n;var r=e.adunits[t.adunit];if(null==r)return n;if(!1===this._isEmpty(r.defaultTemplate)&&(n=r.defaultTemplate),!1===Array.isArray(r.mappings)||!1===Array.isArray(t.targeting))return n;var o,i=!1,u=no(t.targeting);try{for(u.s();!(o=u.n()).done;){var a,c=o.value,l=no(r.mappings);try{for(l.s();!(a=l.n()).done;){var f=a.value;if(f.key===c.key&&f.value===c.value&&!1===this._isEmpty(f.template)){n=f.template,i=!0;break}}}catch(t){l.e(t)}finally{l.f()}if(i)break}}catch(t){u.e(t)}finally{u.f()}return n}reject(new Error("Domain not specified"))};var io=oo;function uo(t){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(t)}function ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,co(r.key),r)}}function co(t){var e=function(t,e){if("object"!==uo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==uo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===uo(e)?e:String(e)}var lo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"getInstance",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}],(n=[{key:"get",value:function(t){var e=new io;return new Promise((function(n,r){e.getTemplate(t,(function(t){n(t)}))}))}}])&&ao(e.prototype,n),r&&ao(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();lo.instance=null;var fo=lo;function so(t){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(t)}function po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yo(r.key),r)}}function yo(t){var e=function(t,e){if("object"!==so(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==so(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===so(e)?e:String(e)}function ho(t,e){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ho(t,e)}function vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mo(t);if(e){var o=mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===so(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function mo(t){return mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mo(t)}var bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ho(t,e)}(i,t);var e,n,r,o=vo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,n=[{key:"destroy",value:function(t){var e=t.contextDocument.querySelector(t.elementSelector);if(null!==e)for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"build",value:function(t){var e=this,n=t.contextDocument.querySelector(t.elementSelector);if(null!==n)return fo.getInstance().get(t.filter).then((function(r){var o=r.getHtml(t.placeholders),i=r.getCss(),u=t.contextDocument.createElement("div");u.innerHTML=o,n.appendChild(u);for(var a=n.querySelectorAll("a"),c=0;c<a.length;c++)cr.handleRelAttribute(a[c],t);try{document.querySelectorAll(t.elementSelector+' >[id^="google_ads_"]')[0].style.height="1px"}catch(t){}var l=t.contextDocument.createElement("style");null!=l&&(l.type="text/css",l.appendChild(t.contextDocument.createTextNode(i)),t.contextDocument.head.appendChild(l)),Array.isArray(t.clickTrackers)&&"function"==typeof t.fireRequest&&e._buildClickTrackers(u,t.clickTrackers,t.fireRequest)}));this.logger.debug("Target Element with selector "+t.elementSelector+" not found.")}},{key:"accept",value:function(t){return!0}},{key:"prepare",value:function(t){}}],n&&po(e.prototype,n),r&&po(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Vr),go=bo;function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}function So(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oo(r.key),r)}}function Oo(t){var e=function(t,e){if("object"!==wo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wo(e)?e:String(e)}var Eo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handlers=new Map,this.handlers.set("cms",new Kr),this.handlers.set("template",new go)}var e,n,r;return e=t,n=[{key:"getBySelector",value:function(t){var e=this._getHandlerTypeBySelector(t);return this.handlers.get(e)}},{key:"_getHandlerTypeBySelector",value:function(t){var e=[];this.handlers.forEach((function(t,n){return e.push(n)}));for(var n=0,r=e;n<r.length;n++){var o=r[n];if(this.handlers.get(o).accept(t))return o}throw new Error("No handler accepted Native element")}}],n&&So(e.prototype,n),r&&So(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),jo=Eo;function _o(t){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(t)}function Po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ko(r.key),r)}}function ko(t){var e=function(t,e){if("object"!==_o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_o(e)?e:String(e)}function xo(t,e){return xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xo(t,e)}function To(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Co(t);if(e){var o=Co(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===_o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Co(t){return Co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(t)}var Ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xo(t,e)}(i,t);var e,n,r,o=To(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).handlerFactory=new jo,e.logger=O.get("Native"),e}return e=i,(n=[{key:"_destroy",value:function(t){return this.handlerFactory.getBySelector(t).destroy(t)}},{key:"_build",value:function(t){return this.handlerFactory.getBySelector(t).build(t)}},{key:"build",value:function(t){try{switch(t.command){case"build":this._build(t);break;case"destroy":this._destroy(t)}}catch(t){throw t}}}])&&Po(e.prototype,n),r&&Po(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne);function Ao(t){return Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(t)}function Io(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Do(r.key),r)}}function Do(t){var e=function(t,e){if("object"!==Ao(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ao(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ao(e)?e:String(e)}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},No(t,e)}function Mo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ho(t);if(e){var o=Ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Ao(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ho(t){return Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}(i,t);var e,n,r,o=Mo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"build",value:function(t){this._getContent(t)}},{key:"_getContent",value:function(t){var e=this,n=t.containerHeight,r=t.imageUpload,o=t.imageUrl,i=t.htmlUrl,u=t.clickthrough,a=t.adWidth,c=t.adHeight,l=t.clickmacro,f=t.elementSelector,s=t.thirdPartyCount,p=t.context,y=t.containerWidth;null!=y&&0!==y.toString().length||(y=null);var h="";null!=r&&r.length>0&&(h=r),null!=o&&o.length>0&&(h=o),function(){var r=p.querySelector(f),o="",d="";""!==i?d='\x3c!-- <iframe frameborder="0" width="IFRAMEWIDTH" height="IFRAMEHEIGHT" src="IFRAMESOURCE" scrolling="no"></iframe> --\x3e'.replace("\x3c!--","").replace("IFRAMEWIDTH",a).replace("IFRAMEHEIGHT",c).replace("IFRAMESOURCE",Be.buildIframeUrl(i,l,u)).replace("--\x3e",""):""!==h&&(d='\x3c!-- <a href="{link}" target="_blank"> <img src="IMAGESOURCE" width="IMAGEWIDTH" height="IMAGEHEIGHT" ></img> </a> --\x3e'.replace("\x3c!--","").replace("{link}",Be.buildClickUrl(u,l)).replace("IMAGESOURCE",h).replace("IMAGEWIDTH",a+"px").replace("IMAGEHEIGHT",c+"px").replace("--\x3e","")),o+='\x3c!-- <div class="underscroller">ADFORMAT</div> THIRDPARTYCOUNT --\x3e'.replace("\x3c!--","").replace("ADFORMAT",d).replace("THIRDPARTYCOUNT",e._getThirdPartyCount(s)).replace("--\x3e","");var v=p.createElement("DIV");v.classList.add("trf-declaration-container"),v.classList.add("trf-parallaxContainer"),v.innerHTML=o,e._prepareTemplateContainer(r,t);var m=r.parentNode.insertBefore(v,r);r.style.display="none";var b=m.querySelector(".underscroller"),g={adHeight:c,clipHeight:n,clipWidth:y,width:a};e._buildWidget("ampParallax",b,g),e._broadcastEvent("trfDeployed",b),_t.isInternetExplorer(p.defaultView)&&b.addEventListener("click",(function(){p.defaultView.open(Be.buildClickUrl(u,l))}))}()}},{key:"_prepareTemplateContainer",value:function(t,e){var n=t.parentNode;!0===e.correctParentHeight&&(n.style.height="")}},{key:"_getThirdPartyCount",value:function(t){return""!==t?'<div style="display:none;"><img src="'+t+'" width="1" height="1"/></div>':""}}])&&Io(e.prototype,n),r&&Io(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne),Bo=Lo;function Fo(t){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(t)}function Wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uo(r.key),r)}}function Uo(t){var e=function(t,e){if("object"!==Fo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Fo(e)?e:String(e)}function Vo(t,e){return Vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vo(t,e)}function Go(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qo(t);if(e){var o=qo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Fo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function qo(t){return qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qo(t)}var zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vo(t,e)}(i,t);var e,n,r,o=Go(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"build",value:function(t){this._getContent(t)}},{key:"_getContent",value:function(t){var e=this,n=t.contextDocument.querySelector(t.contextElementSelector),r=t.contextDocument.querySelector(t.skyElementSelector);if(null==n)throw new Error("Context element not found: "+t.contextElementSelector);if(null==r)throw new Error("Sky element not found."+t.skyElementSelector);t.adWidth="100%",t.adHeight="100%";var o=t.style;null==o&&(o="default");var u=i.styleWidgetMap[o],a=this.contentProviderFactory.decide(t);if(null===a)throw new Error("No content provider accepts the params.");a.generate(t).then((function(o){o.addEventListener("trfContentDeployed",(function(n){e._notifyTemplateDeployed(t,{content:n.detail})})),r.appendChild(o);var i={contextElement:n,topMargin:t.topMargin,leftMargin:t.leftMargin?t.leftMargin:0,position:t.position,bottomAnchorSelector:t.bottomAnchorSelector};e._buildWidget(u,r,i),e._broadcastEvent("trfDeployed",r),e._hideGoogleIframe(r)}))}},{key:"_hideGoogleIframe",value:function(t){var e=t.querySelector("[id^='google']");null!==e&&(e.style.display="none")}}])&&Wo(e.prototype,n),r&&Wo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne);zo.styleWidgetMap={default:"sitebar",fixed:"fixedSitebar"};var Yo=zo;function Zo(t){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(t)}function $o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jo(r.key),r)}}function Jo(t){var e=function(t,e){if("object"!==Zo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Zo(e)?e:String(e)}var Ko=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=O.get("AdManager")}var e,n,r;return e=t,n=[{key:"generate",value:function(t){throw new Error("Has to be implemented by the child class")}},{key:"isOptionsValid",value:function(t){throw new Error("Has to be implemented by the child class")}},{key:"_notifyContentDeployed",value:function(t){var e=new CustomEvent("trfContentDeployed",{bubbles:!1,detail:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}});t.dispatchEvent(e)}}],n&&$o(e.prototype,n),r&&$o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xo(t){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(t)}function Qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ti(r.key),r)}}function ti(t){var e=function(t,e){if("object"!==Xo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Xo(e)?e:String(e)}function ei(t,e){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ei(t,e)}function ni(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ri(t);if(e){var o=ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Xo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ri(t){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ri(t)}var oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ei(t,e)}(i,t);var e,n,r,o=ni(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,n=[{key:"isOptionsValid",value:function(t){return void 0!==t.scriptTag&&""!==t.scriptTag&&void 0!==t.contextDocument}},{key:"_fetchContent",value:function(t){var e=new RegExp(/<script[^>]+src="([^"]+)"/,"gmi").exec(t);if(2!==e.length)throw new Error("Can't fetch ad content given by "+t);var n=e[1],r=new eo({target:n,method:"get"});return new Promise((function(t,e){r.send((function(e){t(e)}),{withCredentials:!0})}))}},{key:"_adjustDimensions",value:function(t,e){return!0===e.adjustToContentWidth&&null!=t.contentWindow.document.body&&(t.style.width=t.contentWindow.document.body.scrollWidth+"px"),!0===e.adjustToContentHeight&&null!=t.contentWindow.document.body&&(t.style.height=t.contentWindow.document.body.scrollHeight+"px"),t}},{key:"generate",value:function(t){var e=this;return this._fetchContent(t.scriptTag).then((function(n){e._checkContentEmpty(n)&&e.logger.debug("Yieldlab ad is empty.");var r=t.contextDocument,o=r.createElement("iframe");o.setAttribute("id",je()),o.setAttribute("style","width:100%;height:100%;border:0;"),e._overrideStyles(o,t.contextDocument,t);var i=r.createTextNode(n);return o.addEventListener("trfDeployed",(function(){e._setupDimensionUpdate(o,t);var n=r.createElement("script");n.appendChild(i),o.contentWindow.document.getElementsByTagName("head")[0].appendChild(n)})),o}))}},{key:"_checkContentEmpty",value:function(t){return/default Yieldlab fallback with no content/.test(t)}},{key:"_setupDimensionUpdate",value:function(t,e){t.ownerDocument.defaultView.setInterval(this._adjustDimensions.bind(this,t,e),500)}},{key:"_overrideStyles",value:function(t,e,n){var r=t.getAttribute("id"),o=[];!0!==n.adjustToContentWidth&&o.push("width:100% !important"),!0!==n.adjustToContentHeight&&o.push("height:100% !important"),0!==o.length&&R.appendStyle("#{id} {{styles}}".replace("{id}",r).replace("{styles}",o.join(";")),e)}}],n&&Qo(e.prototype,n),r&&Qo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ko);oi.noop=function(){};n(1879),n(2642);function ii(t){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(t)}function ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ai(r.key),r)}}function ai(t){var e=function(t,e){if("object"!==ii(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ii(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ii(e)?e:String(e)}function ci(t,e){return ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ci(t,e)}function li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fi(t);if(e){var o=fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ii(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function fi(t){return fi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fi(t)}var si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ci(t,e)}(i,t);var e,n,r,o=li(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,r=[{key:"isElementSetVisible",value:function(t){var e=t.ownerDocument.defaultView.getComputedStyle(t);return"none"!==e.display&&"hidden"!==e.visibility}},{key:"removeElement",value:function(t){t.parentElement.removeChild(t)}},{key:"runScripts",value:function(t){function e(t){var e=t.ownerDocument,n=t.text||t.textContent||t.innerHTML||"",r=e.getElementsByTagName("head")[0]||e.documentElement,o=e.createElement("script");o.type="text/javascript";try{o.appendChild(e.createTextNode(n))}catch(t){o.text=n}r.insertBefore(o,r.firstChild),r.removeChild(o)}var n,r,o,i,u,a=[],c=t.childNodes;for(o=0;c[o];o++)r=c[o],u="script",!(i=r).nodeName||i.nodeName.toUpperCase()!==u.toUpperCase()||r.type&&"text/javascript"!==r.type.toLowerCase()||a.push(r);for(o=0;a[o];o++)(n=a[o]).parentNode&&n.parentNode.removeChild(n),e(a[o])}}],(n=null)&&ui(e.prototype,n),r&&ui(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(R),pi=si;function yi(t){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(t)}function hi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,di(r.key),r)}}function di(t){var e=function(t,e){if("object"!==yi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===yi(e)?e:String(e)}function vi(t,e){return vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vi(t,e)}function mi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bi(t);if(e){var o=bi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function bi(t){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bi(t)}var gi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vi(t,e)}(i,t);var e,n,r,o=mi(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,r=[{key:"getDimension",value:function(t){if(null==t)return"100%";if(""===t)return"100%";if(!0===/^\d+$/.test(t.toString())){var e=parseInt(t);return 0===e?"100%":e+"px"}return t}},{key:"getNullIfEmptyOrZero",value:function(t){return i.isEmptyOrZero(t)?null:parseInt(t)}},{key:"isEmptyOrZero",value:function(t){if(null==t)return!0;var e=t.toString();return 0===e.length||"0"===e||"100%"===e}}],(n=[{key:"isOptionsValid",value:function(t){return"string"==typeof t.htmlUrl&&t.htmlUrl.length>0&&void 0!==t.contextDocument}},{key:"generate",value:function(t){var e=t.contextDocument,n={width:i.getDimension(t.adWidth),height:i.getDimension(t.adHeight)},r=t.clickmacro,o=t.clickthrough,u='\x3c!-- <iframe frameborder="0" width="IFRAMEWIDTH" height="IFRAMEHEIGHT" src="IFRAMESOURCE" scrolling="no"></iframe> --\x3e'.replace("\x3c!--","").replace("IFRAMEWIDTH","100%").replace("IFRAMEHEIGHT","100%").replace("IFRAMESOURCE",Be.buildIframeUrl(t.htmlUrl,r,o)).replace("--\x3e",""),a=e.createElement("div");return a.setAttribute("class","sitebar-container"),a.style.width=n.width,a.style.height=n.height,a.style.marginLeft="50%",a.style.transform="translateX(-50%)",a.insertAdjacentHTML("afterbegin",u),Promise.resolve(a)}}])&&hi(e.prototype,n),r&&hi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ko);function wi(t){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(t)}function Si(){return Si=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Si.apply(this,arguments)}function Oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ei(r.key),r)}}function Ei(t){var e=function(t,e){if("object"!==wi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wi(e)?e:String(e)}function ji(){return ji="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ki(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ji.apply(this,arguments)}function _i(t,e){return _i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_i(t,e)}function Pi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ki(t);if(e){var o=ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===wi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ki(t){return ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ki(t)}var xi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_i(t,e)}(i,t);var e,n,r,o=Pi(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"isOptionsValid",value:function(t){return"string"==typeof t.htmlFileupload&&t.htmlFileupload.length>0&&void 0!==t.contextDocument}},{key:"generate",value:function(t){var e=t.htmlFileupload;return ji(ki(i.prototype),"generate",this).call(this,Si({},t,{htmlUrl:e}))}}])&&Oi(e.prototype,n),r&&Oi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(gi);function Ti(t){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(t)}function Ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ri(r.key),r)}}function Ri(t){var e=function(t,e){if("object"!==Ti(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ti(e)?e:String(e)}function Ai(t,e){return Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ai(t,e)}function Ii(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Di(t);if(e){var o=Di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Ti(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Di(t){return Di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Di(t)}var Ni=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ai(t,e)}(i,t);var e,n,r,o=Ii(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"isOptionsValid",value:function(t){return void 0!==t.element&&void 0!==t.contextDocument}},{key:"generate",value:function(t){return Promise.resolve(t.element)}}])&&Ci(e.prototype,n),r&&Ci(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ko);function Mi(t){return Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mi(t)}function Hi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Li(r.key),r)}}function Li(t){var e=function(t,e){if("object"!==Mi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Mi(e)?e:String(e)}function Bi(t,e){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bi(t,e)}function Fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wi(t);if(e){var o=Wi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Wi(t){return Wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wi(t)}var Ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bi(t,e)}(i,t);var e,n,r,o=Fi(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"isOptionsValid",value:function(t){return void 0!==t.elementSelector&&void 0!==t.contextDocument}},{key:"generate",value:function(t){var e=t.contextDocument.querySelector(t.elementSelector);return null==e?Promise.reject("Element not found: "+t.elementSelector):Promise.resolve(e)}}])&&Hi(e.prototype,n),r&&Hi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ko);function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function Gi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qi(r.key),r)}}function qi(t){var e=function(t,e){if("object"!==Vi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vi(e)?e:String(e)}function zi(t,e){return zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zi(t,e)}function Yi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zi(t);if(e){var o=Zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Vi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Zi(t){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zi(t)}var $i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zi(t,e)}(i,t);var e,n,r,o=Yi(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"isOptionsValid",value:function(t){return void 0!==t.htmlContent&&""!==t.htmlContent&&void 0!==t.contextDocument}},{key:"generate",value:function(t){var e=this,n=t.htmlContent,r=t.contextDocument.createElement("iframe");return r.setAttribute("style","width:100%;height:100%;border:0;"),r.addEventListener("trfDeployed",(function(){var t=r.contentWindow.document;t.open(),t.write(n),t.close();var o=t.getElementsByTagName("head")[0],u=t.createElement("style");u.setAttribute("type","text/css"),o.appendChild(u),u.appendChild(t.createTextNode(i.iframeStyle)),e._notifyContentDeployed(r,{iframe:r})})),Promise.resolve(r)}}])&&Gi(e.prototype,n),r&&Gi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ko);$i.runner='\nwindow.trfScriptRunner(document.getElementsByTagName("body")[0]);\n',$i.iframeStyle="\nbody {\n    margin:0;\n    padding:0;\n}\n";var Ji=n(2215),Ki=n.n(Ji);function Xi(t){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(t)}function Qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tu(r.key),r)}}function tu(t){var e=function(t,e){if("object"!==Xi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Xi(e)?e:String(e)}function eu(t,e){return eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},eu(t,e)}function nu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ru(t);if(e){var o=ru(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Xi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function ru(t){return ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(t)}var ou=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eu(t,e)}(i,t);var e,n,r,o=nu(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"build",value:function(t){return this._getContent(t)}},{key:"_getContent",value:function(t){var e=this;if(null==t.contextDocument)throw new Error("Context document not set");var n=this.contentProviderFactory.decide(t);if(null===n)throw new Error("No content provider accepts the params.");n.generate(t).then((function(n){e._destroyWidget(t.id,n);var r={options:t.options,id:t.id},o=e._buildWidget("bottomSticky",n,r);return e._broadcastEvent("trfDeployed",n),o}))}}])&&Qi(e.prototype,n),r&&Qi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne),iu=ou;function uu(t){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(t)}function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}function cu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lu(r.key),r)}}function lu(t){var e=function(t,e){if("object"!==uu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==uu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===uu(e)?e:String(e)}var fu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=O.get("BottomSticky"),this.document=e.ownerDocument,this.params=n,this.contentElement=e,this.containerElement=null,this.innerContainer=null,this.closer=null,this.options=au({},t.defaults),this.intervalId=null}var e,n,r;return e=t,n=[{key:"init",value:function(){this.contentElement.trfAdWidget=this,this._build()}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalId&&window.clearInterval(this.intervalId),t&&this.document.body.appendChild(this.contentElement),pi.removeElement(this.containerElement)}},{key:"_build",value:function(){var t=this;this._prepare(),this._updateStyle(this.params.options),this._position(),this.intervalId=window.setInterval((function(){return t._position()}),100)}},{key:"updateOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._updateStyle(t)}},{key:"_prepare",value:function(){var t=this,e=this.document.createElement("div");e.setAttribute("class","trf-ad-bottom-sticky-container"),e.classList.add("sticky-container-".concat(this.contentElement.id)),e.style.boxShadow="0 -0.1rem 0.1rem 0 rgba(0,0,0,.2)";try{this.contentElement&&this.contentElement.id&&"string"==typeof this.contentElement.id&&this.contentElement.id.toLowerCase().indexOf("mobile_sticky")>-1&&(e.style.maxHeight="180px")}catch(t){}this.innerContainer=this.document.createElement("div"),this.innerContainer.style.position="absolute",this.innerContainer.appendChild(this.contentElement),e.appendChild(this.innerContainer),this.containerElement=this.document.body.appendChild(e),this.label=this.document.createElement("div"),this.label.setAttribute("class","trf-ad-bottom-sticky-label"),this.containerElement.appendChild(this.label),this.adText=this.document.createElement("div"),this.adText.setAttribute("class","trf-ad-bottom-sticky-label-text"),this.label.appendChild(this.adText),this.closer=this.document.createElement("div"),this.closer.setAttribute("class","trf-ad-bottom-sticky-closer"),this.closer.addEventListener("click",(function(){t._close()})),this.label.appendChild(this.closer)}},{key:"_updateStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=au({},this.options,t),this.containerElement.style.transition="bottom 0.1s ease 0s",this.containerElement.style.height=this.options.height+"px",this.containerElement.style.backgroundColor=this.options.backgroundColor,!0===this.options.hide?this.containerElement.style.display="none":this.containerElement.style.removeProperty("display"),this.innerContainer.style.width="calc(100% - "+2*this.options.padding+"px)",this.innerContainer.style.left=this.options.padding+"px",this.innerContainer.style.top=this.options.padding+"px",this.innerContainer.style.height="calc(100% - "+1*this.options.padding+"px)",pi.appendStyle(this.options.style,this.document),this.label.style.backgroundColor=this.options.backgroundColor,this.adText.innerHTML="",null!=this.options.label&&this.adText.appendChild(this.document.createTextNode(this.options.label)),this.options.fontSize&&(this.adText.style.fontSize=this.options.fontSize),void 0!==this.options.zIndex?this.containerElement.style.zIndex=this.options.zIndex.toString():this.containerElement.style.zIndex="2147483646",null!=this.options.marginBottom&&(this.containerElement.style.marginBottom=this.options.marginBottom.toString()+"px")}},{key:"_calculateBottom",value:function(){var t=0;if(this.options.bottom)t=this.options.bottom;else if(this.options.bottomElementSelector){var e=this.document.querySelector(this.options.bottomElementSelector);if(null!=e&&!0===pi.isElementSetVisible(e)){var n=e.getBoundingClientRect();t=this.document.defaultView.innerHeight-n.top}}return t+"px"}},{key:"_position",value:function(){pi.setStyle(this.containerElement,"position","fixed",{important:!0}),this.containerElement.style.left="0px",this.containerElement.style.right="0px",this.containerElement.style.bottom=this._calculateBottom()}},{key:"_close",value:function(){this.destroy(!1)}}],n&&cu(e.prototype,n),r&&cu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();fu.defaults={height:50,padding:10,backgroundColor:"#f3f3f3",hide:!1,fontSize:"9pt",marginBottom:0,style:"\n\n    .trf-ad-bottom-sticky-container {\n        box-sizing:border-box;\n    }\n\n    .trf-ad-bottom-sticky-label {\n        border: none;\n        border-top-left-radius: 12px;\n        box-shadow: 0 -1px 1px 0 rgba(0,0,0,.2);\n        height: 28px;\n        position: absolute;\n        right: 0;\n        top: -27px;\n        min-width: 28px;\n        white-space: nowrap;\n    }\n\n    .trf-ad-bottom-sticky-label-text {\n        display:inline-block;\n        float:left;\n        line-height:28px;\n        padding-left:10px;\n    }\n\n    .trf-ad-bottom-sticky-closer {\n        display:inline-block;\n        background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='13' height='13' viewBox='341 8 13 13' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%234F4F4F' d='M354 9.31L352.69 8l-5.19 5.19L342.31 8 341 9.31l5.19 5.19-5.19 5.19 1.31 1.31 5.19-5.19 5.19 5.19 1.31-1.31-5.19-5.19z' fill-rule='evenodd'/%3E%3C/svg%3E\");\n        background-position: center;\n        background-repeat: no-repeat;\n        background-size: 12px 12px;\n        height: 28px;\n        width: 28px;\n    }\n    "};var su=fu;function pu(t){return pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(t)}function yu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hu(r.key),r)}}function hu(t){var e=function(t,e){if("object"!==pu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==pu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===pu(e)?e:String(e)}function du(t,e){return du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},du(t,e)}function vu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mu(t);if(e){var o=mu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===pu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function mu(t){return mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mu(t)}var bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&du(t,e)}(i,t);var e,n,r,o=vu(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).widget=null,t}return e=i,n=[{key:"init",value:function(){this.widget=new su(this.containerNode,this.params),this.widget.init()}},{key:"destroy",value:function(){var t;(t=this.widget).destroy.apply(t,arguments)}}],n&&yu(e.prototype,n),r&&yu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(_),gu=bu;function wu(t){return wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(t)}function Su(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ou(r.key),r)}}function Ou(t){var e=function(t,e){if("object"!==wu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==wu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wu(e)?e:String(e)}var Eu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=e.ownerDocument,this.element=e,this.container=null,this.params=n,this.initialHeight=void 0===n.height?0:n.height,this.debug=!1}var e,n,r;return e=t,(n=[{key:"init",value:function(){this._build()}},{key:"_build",value:function(){this._prepare()}},{key:"_getWidthCss",value:function(){return null!=this.params.extendedWidth?"calc(100% + "+2*this.params.extendedWidth+"px)":"100%"}},{key:"_calculateLeftMargin",value:function(){return-(this.params.extendedWidth||0)}},{key:"_prepare",value:function(){this.container=this.element,this.container.style.zIndex="99999",this.container.style.float="none",this.container.style.width=this._getWidthCss(),this.container.style.bottom="",this.container.style.right="",this.container.style.top="0",this.container.style.left="0",this.container.style.height=this.initialHeight+"px",this.container.style.marginLeft=this._calculateLeftMargin()+"px",this._updatePosition()}},{key:"_updatePosition",value:function(){}}])&&Su(e.prototype,n),r&&Su(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ju(t){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(t)}function _u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pu(r.key),r)}}function Pu(t){var e=function(t,e){if("object"!==ju(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ju(e)?e:String(e)}function ku(t,e){return ku=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ku(t,e)}function xu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tu(t);if(e){var o=Tu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ju(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Tu(t){return Tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tu(t)}var Cu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ku(t,e)}(i,t);var e,n,r,o=xu(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).widget=null,t}return e=i,(n=[{key:"init",value:function(){this.widget=new Eu(this.containerNode,this.params),this.widget.init()}}])&&_u(e.prototype,n),r&&_u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(_),Ru=Cu;function Au(t){return Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}function Du(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nu(r.key),r)}}function Nu(t){var e=function(t,e){if("object"!==Au(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Au(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Au(e)?e:String(e)}function Mu(t,e){return Mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mu(t,e)}function Hu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lu(t);if(e){var o=Lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Au(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Lu(t){return Lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lu(t)}var Bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mu(t,e)}(i,t);var e,n,r,o=Hu(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"build",value:function(t){this._getContent(t),!0===t.stopRefresh&&this._stopRefresh(t.contextDocument.defaultView)}},{key:"_getContent",value:function(t){var e={contextDocument:t.contextDocument,contextElementSelector:t.contextElementSelector};this._createTemplate("sitebar",Iu({},e,{style:"fixed",position:"left"},t.sitebarLeft)),this._createTemplate("sitebar",Iu({},e,{style:"fixed",position:"right"},t.sitebarRight)),this._createTemplate("banner",Iu({},e,t.banner))}},{key:"_createTemplate",value:function(t,e){var n=this.templateFactory.get(t);if(null===n)throw new Error("Template with id "+t+" not implemented.");try{return n.build(e)}catch(t){throw t}}}])&&Du(e.prototype,n),r&&Du(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne),Fu=Bu;function Wu(t){return Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(t)}function Uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vu(r.key),r)}}function Vu(t){var e=function(t,e){if("object"!==Wu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Wu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Wu(e)?e:String(e)}function Gu(t,e){return Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gu(t,e)}function qu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zu(t);if(e){var o=zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===Wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function zu(t){return zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zu(t)}var Yu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gu(t,e)}(i,t);var e,n,r,o=qu(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"build",value:function(t){this._getContent(t)}},{key:"_getContent",value:function(t){var e=this,n=t.contextDocument.querySelector(t.bannerElementSelector);if(null==n)throw new Error("Banner element not found."+t.bannerElementSelector);t.adWidth="100%",t.adHeight="100%";var r=this.contentProviderFactory.decide(t);if(null===r)throw new Error("No content provider accepts the params.");r.generate(t).then((function(r){r.addEventListener("trfContentDeployed",(function(n){e._notifyTemplateDeployed(t,{content:n.detail})})),n.appendChild(r);var o={height:t.height,extendedWidth:t.extendedWidth};e._buildWidget("banner",n,o),e._broadcastEvent("trfDeployed",n),e._hideGoogleIframe(n)}))}},{key:"_hideGoogleIframe",value:function(t){var e=t.querySelector("[id^='google']");null!==e&&(e.style.display="none")}}])&&Uu(e.prototype,n),r&&Uu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne),Zu=Yu;function $u(t){return $u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(t)}function Ju(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ku(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qu(r.key),r)}}function Xu(t,e,n){return e&&Ku(t.prototype,e),n&&Ku(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qu(t){var e=function(t,e){if("object"!==$u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==$u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$u(e)?e:String(e)}var ta=function(){function t(){Ju(this,t)}return Xu(t,null,[{key:"getAvailableWidth",value:function(t,e){t.ownerDocument.defaultView;var n=e.getBoundingClientRect().right;return t.ownerDocument.getElementsByTagName("html")[0].clientWidth-n}},{key:"getAvailableHeight",value:function(t,e){return e.ownerDocument.defaultView.innerHeight}}]),t}(),ea=function(){function t(e,n){Ju(this,t),this.document=e.ownerDocument,this.params=n,this.skyElement=e,this.contextElement=n.contextElement,this.intervalId=null,this.scrollEventListener=this._reposition.bind(this)}return Xu(t,[{key:"init",value:function(){void 0!==this.skyElement.sitebarWidget&&this.skyElement.sitebarWidget.destroy(),this.skyElement.sitebarWidget=this,this._build()}},{key:"destroy",value:function(){this.document.removeEventListener("scroll",this.scrollEventListener),this.document.defaultView.clearInterval(this.intervalId),delete this.skyElement.sitebarWidget}},{key:"_build",value:function(){var t=this;this._prepareSky(),this.intervalId=this.document.defaultView.setInterval((function(){t._reposition()}),500),this.document.addEventListener("scroll",this.scrollEventListener)}},{key:"_reposition",value:function(){var t=this.contextElement.getBoundingClientRect(),e=0;if("left"===this.params.position)this.skyElement.style.left=0,e=t.left-this.params.leftMargin;else this.skyElement.style.marginLeft=this.params.leftMargin+"px",e=ta.getAvailableWidth(this.skyElement,this.contextElement)-this.params.leftMargin,this.skyElement.style.left=t.right+"px";this.skyElement.style.width=e+"px";this.skyElement.style.top="0px";var n=ta.getAvailableHeight(this.skyElement,this.contextElement);this.skyElement.style.height=n+"px"}},{key:"_prepareSky",value:function(){R.setStyle(this.skyElement,"position","fixed",{important:!0}),this.skyElement.style.float="none",this.skyElement.style.bottom="",this.skyElement.style.right="",this.skyElement.style.marginLeft=0,this.skyElement.style.marginRight="",this.skyElement.style.marginTop="",this.skyElement.style.marginBottom="",this.skyElement.style.zIndex="2",this._reposition()}}]),t}();function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oa(r.key),r)}}function oa(t){var e=function(t,e){if("object"!==na(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===na(e)?e:String(e)}function ia(t,e){return ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ia(t,e)}function ua(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=aa(t);if(e){var o=aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===na(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function aa(t){return aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},aa(t)}var ca=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ia(t,e)}(i,t);var e,n,r,o=ua(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))).widget=null,t}return e=i,(n=[{key:"init",value:function(){this.widget=new ea(this.containerNode,this.params),this.widget.init()}}])&&ra(e.prototype,n),r&&ra(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(_),la=ca;function fa(t){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(t)}function sa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pa(r.key),r)}}function pa(t){var e=function(t,e){if("object"!==fa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===fa(e)?e:String(e)}function ya(t,e){return ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ya(t,e)}function ha(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=da(t);if(e){var o=da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===fa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function da(t){return da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},da(t)}var va=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ya(t,e)}(i,t);var e,n,r,o=ha(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"build",value:function(t){this._getContent(t)}},{key:"_getContent",value:function(t){var e=t.contextDocument.querySelector(t.contextElementSelector);if(null==e)throw O.get().error("Context element not found: "+t.contextElementSelector),new Error("Context element not found: "+t.contextElementSelector);var n={contextElement:e,contextDocument:t.contextDocument,topMargin:Rt.minLengthOrDefault(t.topMargin,1),skipMoveToBody:!0===t.skipMoveToBody,bottomAnchorSelector:Rt.minLengthOrDefault(t.bottomAnchorSelector,1)};this.buildSky(Object.assign({},n,t.left),"left"),this.buildSky(Object.assign({},n,t.right),"right"),null!=Rt.minLengthOrDefault(t.backgroundColor,1)&&(t.contextDocument.body.style.backgroundColor=t.backgroundColor),!0===t.stopRefresh&&this._stopRefresh(e.ownerDocument.defaultView)}},{key:"buildSky",value:function(t,e){var n=this,r=this.contentProviderFactory.decide(t);if(null===r)throw new Error("No content provider accepts the params.");r.generate(t).then((function(r){var o=t.contextDocument.querySelector(t.skyElementSelector);null==o&&O.get().error("Sky element not found."+t.skyElementSelector),o.appendChild(r),!0===t.showDeclaration&&o.classList.add("trf-declaration-container");var i={contextElement:t.contextElement,topMargin:t.topMargin,leftMargin:Rt.minLengthOrDefault(t.leftMargin,1,0),skipMoveToBody:!0===t.skipMoveToBody,bottomAnchorSelector:t.bottomAnchorSelector,position:e,showDeclaration:t.showDeclaration};n._buildWidget("stickySky",o,i),n._broadcastEvent("trfDeployed",o),n._hideGoogleIframe(o)}))}}])&&sa(e.prototype,n),r&&sa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ne),ma=va;function ba(t){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(t)}function ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wa(r.key),r)}}function wa(t){var e=function(t,e){if("object"!==ba(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ba(e)?e:String(e)}function Sa(t,e){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sa(t,e)}function Oa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ea(t);if(e){var o=Ea(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ba(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ea(t){return Ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ea(t)}var ja=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sa(t,e)}(i,t);var e,n,r,o=Oa(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"isOptionsValid",value:function(t){return null!=t.imageSrc&&t.imageSrc.length>0&&void 0!==t.contextDocument}},{key:"generate",value:function(t){var e=t.imageSrc,n=t.contextDocument,r=n.createElement("img");r.src=e,t.adWidth&&(r.style.width=t.adWidth+"px"),t.adHeight&&(r.style.height=t.adHeight+"px");var o=n.createElement("a");return o.href=Be.buildClickUrl(t.clickthrough,t.clickmacro),o.target="_blank",o.appendChild(r),Promise.resolve(o)}}])&&ga(e.prototype,n),r&&ga(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Ko);n(2820);function _a(t){return _a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(t)}function Pa(){Pa=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,u=Object.create(i.prototype),a=new _(o||[]);return r(u,"_invoke",{value:S(t,n,a)}),u}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var s={};function p(){}function y(){}function h(){}var d={};c(d,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(P([])));m&&m!==e&&n.call(m,i)&&(d=m);var b=h.prototype=p.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,u,a){var c=f(t[r],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==_a(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){o("next",t,u,a)}),(function(t){o("throw",t,u,a)})):e.resolve(s).then((function(t){l.value=t,u(l)}),(function(t){return o("throw",t,u,a)}))}a(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function S(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var a=O(u,n);if(a){if(a===s)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),s;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,s;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return y.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:y,configurable:!0}),y.displayName=c(h,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var u=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},g(b),c(b,a,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return u.type="throw",u.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},t}function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}function xa(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ca(r.key),r)}}function Ca(t){var e=function(t,e){if("object"!==_a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_a(e)?e:String(e)}function Ra(){return Ra="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Da(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ra.apply(this,arguments)}function Aa(t,e){return Aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Aa(t,e)}function Ia(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Da(t);if(e){var o=Da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===_a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Da(t){return Da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Da(t)}var Na=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aa(t,e)}(a,t);var e,n,r,o,i,u=Ia(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),u.call(this)}return e=a,n=[{key:"isOptionsValid",value:function(t){return"string"==typeof t.imageUpload&&t.imageUpload.length>0&&void 0!==t.contextDocument}},{key:"generate",value:(o=Pa().mark((function t(e){var n,r,o;return Pa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.imageUpload,t.next=3,Ra(Da(a.prototype),"generate",this).call(this,ka({},e,{htmlUrl:n}));case 3:return r=t.sent,(o=this.buildLayerInto(r)).style.backgroundColor="transparent",o.style.cursor="pointer",o.addEventListener("click",(function(){e.contextDocument.defaultView.open(Be.buildClickUrl(e.clickthrough,e.clickmacro),"_blank")})),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function u(t){xa(i,n,r,u,a,"next",t)}function a(t){xa(i,n,r,u,a,"throw",t)}u(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"buildLayerInto",value:function(t){t.style.position="relative";var e=t.ownerDocument.createElement("div");return e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.top="0px",e.style.left="0px",e.style.zIndex="1",t.appendChild(e),e}}],n&&Ta(e.prototype,n),r&&Ta(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(gi);function Ma(t){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(t)}function Ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,La(r.key),r)}}function La(t){var e=function(t,e){if("object"!==Ma(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ma(e)?e:String(e)}var Ba=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=O.get("AdManager"),this.enabled=this._isEnabled(),this.widgetFactory=f.getInstance(),f.getInstance().setWidget("underscroller",U),f.getInstance().setWidget("stickySky",vn),f.getInstance().setWidget("pushDown",qn),f.getInstance().setWidget("ampParallax",Ot),f.getInstance().setWidget("sitebar",fe),f.getInstance().setWidget("bottomSticky",gu),f.getInstance().setWidget("banner",Ru),f.getInstance().setWidget("fixedSitebar",la),this.templateFactory=b.getInstance(),b.getInstance().setTemplate("underscroller",Ze),b.getInstance().setTemplate("stickySky",nn),b.getInstance().setTemplate("pushDown",jn),b.getInstance().setTemplate("native",Ro),b.getInstance().setTemplate("cmsNative",Br),b.getInstance().setTemplate("ampParallax",Bo),b.getInstance().setTemplate("sitebar",Yo),b.getInstance().setTemplate("bottomSticky",iu),b.getInstance().setTemplate("fireplace",Fu),b.getInstance().setTemplate("banner",Zu),b.getInstance().setTemplate("doubleSky",ma),h.getInstance().set("scriptTag",oi),h.getInstance().set("iframe",gi),h.getInstance().set("htmlUpload",xi),h.getInstance().set("htmlContent",$i),h.getInstance().set("element",Ni),h.getInstance().set("elementSelector",Ui),h.getInstance().set("imageSrc",ja),h.getInstance().set("imageUpload",Na)}var e,n,r;return e=t,(n=[{key:"_isEnabled",value:function(){return 0!==Ki().get("trf-adman-enabled")}},{key:"enable",value:function(t){this.enabled=1==t,Ki().set("trf-adman-enabled",this.enabled?"1":"0",{expires:3650,path:"/",SameSite:"None",secure:!0}),this.enabled?this.logger.debug("enabled"):this.logger.debug("disabled")}},{key:"buildTemplate",value:function(t,e){if(!1===this.enabled)return this.logger.debug("\tdisabled, exitting"),Promise.resolve();var n=this.templateFactory.get(t);if(null===n)throw new Error("Template with id "+t+" not implemented.");try{return n.build(e)}catch(t){throw this.logger.debug(t.message),t}}},{key:"build",value:function(t,e,n){var r=this.widgetFactory.get(e);if(null===r)throw new Error("Ad with id "+e+" not implemented.");new r(t,n).init()}}])&&Ha(e.prototype,n),r&&Ha(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(8883),n(7652),n(6614);if(void 0===window.traffective)throw new Error("Traffective Namespace not declared.");window.traffective.trfAdManager=new Ba;var Fa=Ba},8883:function(t,e,n){n(9650),n(7482),n(6094).Symbol},6614:function(t,e,n){n(7482),n(2975),n(5890),n(6517),n(8583),n(1041),n(6094).Promise},7652:function(t,e,n){n(2975),n(5890),t.exports=n(7960).f("iterator")},3387:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},8184:function(t,e,n){var r=n(7574)("unscopables"),o=Array.prototype;null==o[r]&&n(3341)(o,r,{}),t.exports=function(t){o[r][t]=!0}},8828:function(t,e,n){"use strict";var r=n(1212)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},6440:function(t){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},4228:function(t,e,n){var r=n(3305);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},5564:function(t,e,n){"use strict";var r=n(8270),o=n(157),i=n(1485);t.exports=function(t){for(var e=r(this),n=i(e.length),u=arguments.length,a=o(u>1?arguments[1]:void 0,n),c=u>2?arguments[2]:void 0,l=void 0===c?n:o(c,n);l>a;)e[a++]=t;return e}},1464:function(t,e,n){var r=n(7221),o=n(1485),i=n(157);t.exports=function(t){return function(e,n,u){var a,c=r(e),l=o(c.length),f=i(u,l);if(t&&n!=n){for(;l>f;)if((a=c[f++])!=a)return!0}else for(;l>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},6179:function(t,e,n){var r=n(5052),o=n(1249),i=n(8270),u=n(1485),a=n(5572);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,f=4==t,s=6==t,p=5==t||s,y=e||a;return function(e,a,h){for(var d,v,m=i(e),b=o(m),g=r(a,h,3),w=u(b.length),S=0,O=n?y(e,w):c?y(e,0):void 0;w>S;S++)if((p||S in b)&&(v=g(d=b[S],S,m),t))if(n)O[S]=v;else if(v)switch(t){case 3:return!0;case 5:return d;case 6:return S;case 2:O.push(d)}else if(f)return!1;return s?-1:l||f?f:O}}},3606:function(t,e,n){var r=n(3305),o=n(7981),i=n(7574)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},5572:function(t,e,n){var r=n(3606);t.exports=function(t,e){return new(r(t))(e)}},5538:function(t,e,n){"use strict";var r=n(3387),o=n(3305),i=n(4877),u=[].slice,a={};t.exports=Function.bind||function(t){var e=r(this),n=u.call(arguments,1),c=function(){var r=n.concat(u.call(arguments));return this instanceof c?function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)}(e,r.length,r):i(e,r,t)};return o(e.prototype)&&(c.prototype=e.prototype),c}},4848:function(t,e,n){var r=n(5089),o=n(7574)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},5089:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},6197:function(t,e,n){"use strict";var r=n(7967).f,o=n(4719),i=n(6065),u=n(5052),a=n(6440),c=n(8790),l=n(8175),f=n(4970),s=n(5762),p=n(1763),y=n(2988).fastKey,h=n(2888),d=p?"_s":"size",v=function(t,e){var n,r=y(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var f=t((function(t,r){a(t,f,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,null!=r&&c(r,n,t[l],t)}));return i(f.prototype,{clear:function(){for(var t=h(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=h(this,e),r=v(n,t);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(t){h(this,e);for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(h(this,e),t)}}),p&&r(f.prototype,"size",{get:function(){return h(this,e)[d]}}),f},def:function(t,e,n){var r,o,i=v(t,e);return i?i.v=n:(t._l=i={i:o=y(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[d]++,"F"!==o&&(t._i[o]=i)),t},getEntry:v,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=h(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?f(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,f(1))}),n?"entries":"values",!n,!0),s(e)}}},8933:function(t,e,n){"use strict";var r=n(7526),o=n(2127),i=n(8859),u=n(6065),a=n(2988),c=n(8790),l=n(6440),f=n(3305),s=n(9448),p=n(8931),y=n(3844),h=n(8880);t.exports=function(t,e,n,d,v,m){var b=r[t],g=b,w=v?"set":"add",S=g&&g.prototype,O={},E=function(t){var e=S[t];i(S,t,"delete"==t||"has"==t?function(t){return!(m&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof g&&(m||S.forEach&&!s((function(){(new g).entries().next()})))){var j=new g,_=j[w](m?{}:-0,1)!=j,P=s((function(){j.has(1)})),k=p((function(t){new g(t)})),x=!m&&s((function(){for(var t=new g,e=5;e--;)t[w](e,e);return!t.has(-0)}));k||((g=e((function(e,n){l(e,g,t);var r=h(new b,e,g);return null!=n&&c(n,v,r[w],r),r}))).prototype=S,S.constructor=g),(P||x)&&(E("delete"),E("has"),v&&E("get")),(x||_)&&E(w),m&&S.clear&&delete S.clear}else g=d.getConstructor(e,t,v,w),u(g.prototype,n),a.NEED=!0;return y(g,t),O[t]=g,o(o.G+o.W+o.F*(g!=b),O),m||d.setStrong(g,t,v),g}},6094:function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},7227:function(t,e,n){"use strict";var r=n(7967),o=n(1996);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},5052:function(t,e,n){var r=n(3387);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},3344:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},1763:function(t,e,n){t.exports=!n(9448)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},6034:function(t,e,n){var r=n(3305),o=n(7526).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},6140:function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5969:function(t,e,n){var r=n(1311),o=n(1060),i=n(8449);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var u,a=n(t),c=i.f,l=0;a.length>l;)c.call(t,u=a[l++])&&e.push(u);return e}},2127:function(t,e,n){var r=n(7526),o=n(6094),i=n(3341),u=n(8859),a=n(5052),c="prototype",l=function(t,e,n){var f,s,p,y,h=t&l.F,d=t&l.G,v=t&l.S,m=t&l.P,b=t&l.B,g=d?r:v?r[e]||(r[e]={}):(r[e]||{})[c],w=d?o:o[e]||(o[e]={}),S=w[c]||(w[c]={});for(f in d&&(n=e),n)p=((s=!h&&g&&void 0!==g[f])?g:n)[f],y=b&&s?a(p,r):m&&"function"==typeof p?a(Function.call,p):p,g&&u(g,f,p,t&l.U),w[f]!=p&&i(w,f,y),m&&S[f]!=p&&(S[f]=p)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},5203:function(t,e,n){var r=n(7574)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},9448:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9228:function(t,e,n){"use strict";n(4116);var r=n(8859),o=n(3341),i=n(9448),u=n(3344),a=n(7574),c=n(9600),l=a("species"),f=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),s=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var p=a(t),y=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=y?!i((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!e})):void 0;if(!y||!h||"replace"===t&&!f||"split"===t&&!s){var d=/./[p],v=n(u,p,""[t],(function(t,e,n,r,o){return e.exec===c?y&&!o?{done:!0,value:d.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=v[0],b=v[1];r(String.prototype,t,m),o(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},1158:function(t,e,n){"use strict";var r=n(4228);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},8790:function(t,e,n){var r=n(5052),o=n(7368),i=n(1508),u=n(4228),a=n(1485),c=n(762),l={},f={},s=t.exports=function(t,e,n,s,p){var y,h,d,v,m=p?function(){return t}:c(t),b=r(n,s,e?2:1),g=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(y=a(t.length);y>g;g++)if((v=e?b(u(h=t[g])[0],h[1]):b(t[g]))===l||v===f)return v}else for(d=m.call(t);!(h=d.next()).done;)if((v=o(d,b,h.value,e))===l||v===f)return v};s.BREAK=l,s.RETURN=f},9461:function(t,e,n){t.exports=n(4556)("native-function-to-string",Function.toString)},7526:function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},7917:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3341:function(t,e,n){var r=n(7967),o=n(1996);t.exports=n(1763)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},1308:function(t,e,n){var r=n(7526).document;t.exports=r&&r.documentElement},2956:function(t,e,n){t.exports=!n(1763)&&!n(9448)((function(){return 7!=Object.defineProperty(n(6034)("div"),"a",{get:function(){return 7}}).a}))},8880:function(t,e,n){var r=n(3305),o=n(5170).set;t.exports=function(t,e,n){var i,u=e.constructor;return u!==n&&"function"==typeof u&&(i=u.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},4877:function(t){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},1249:function(t,e,n){var r=n(5089);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},1508:function(t,e,n){var r=n(906),o=n(7574)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},7981:function(t,e,n){var r=n(5089);t.exports=Array.isArray||function(t){return"Array"==r(t)}},3305:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},5411:function(t,e,n){var r=n(3305),o=n(5089),i=n(7574)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},7368:function(t,e,n){var r=n(4228);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},6032:function(t,e,n){"use strict";var r=n(4719),o=n(1996),i=n(3844),u={};n(3341)(u,n(7574)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(u,{next:o(1,n)}),i(t,e+" Iterator")}},8175:function(t,e,n){"use strict";var r=n(2750),o=n(2127),i=n(8859),u=n(3341),a=n(906),c=n(6032),l=n(3844),f=n(627),s=n(7574)("iterator"),p=!([].keys&&"next"in[].keys()),y="keys",h="values",d=function(){return this};t.exports=function(t,e,n,v,m,b,g){c(n,e,v);var w,S,O,E=function(t){if(!p&&t in k)return k[t];switch(t){case y:case h:return function(){return new n(this,t)}}return function(){return new n(this,t)}},j=e+" Iterator",_=m==h,P=!1,k=t.prototype,x=k[s]||k["@@iterator"]||m&&k[m],T=x||E(m),C=m?_?E("entries"):T:void 0,R="Array"==e&&k.entries||x;if(R&&(O=f(R.call(new t)))!==Object.prototype&&O.next&&(l(O,j,!0),r||"function"==typeof O[s]||u(O,s,d)),_&&x&&x.name!==h&&(P=!0,T=function(){return x.call(this)}),r&&!g||!p&&!P&&k[s]||u(k,s,T),a[e]=T,a[j]=d,m)if(w={values:_?T:E(h),keys:b?T:E(y),entries:C},g)for(S in w)S in k||i(k,S,w[S]);else o(o.P+o.F*(p||P),e,w);return w}},8931:function(t,e,n){var r=n(7574)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:n=!0}},i[r]=function(){return u},t(i)}catch(t){}return n}},4970:function(t){t.exports=function(t,e){return{value:e,done:!!t}}},906:function(t){t.exports={}},2750:function(t){t.exports=!1},2988:function(t,e,n){var r=n(4415)("meta"),o=n(3305),i=n(7917),u=n(7967).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(9448)((function(){return c(Object.preventExtensions({}))})),f=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},s=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return l&&s.NEED&&c(t)&&!i(t,r)&&f(t),t}}},1384:function(t,e,n){var r=n(7526),o=n(2780).set,i=r.MutationObserver||r.WebKitMutationObserver,u=r.process,a=r.Promise,c="process"==n(5089)(u);t.exports=function(){var t,e,n,l=function(){var r,o;for(c&&(r=u.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){u.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);n=function(){f.then(l)}}else n=function(){o.call(r,l)};else{var s=!0,p=document.createTextNode("");new i(l).observe(p,{characterData:!0}),n=function(){p.data=s=!s}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},4258:function(t,e,n){"use strict";var r=n(3387);function o(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}},8206:function(t,e,n){"use strict";var r=n(1763),o=n(1311),i=n(1060),u=n(8449),a=n(8270),c=n(1249),l=Object.assign;t.exports=!l||n(9448)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=a(t),l=arguments.length,f=1,s=i.f,p=u.f;l>f;)for(var y,h=c(arguments[f++]),d=s?o(h).concat(s(h)):o(h),v=d.length,m=0;v>m;)y=d[m++],r&&!p.call(h,y)||(n[y]=h[y]);return n}:l},4719:function(t,e,n){var r=n(4228),o=n(1626),i=n(6140),u=n(766)("IE_PROTO"),a=function(){},c="prototype",l=function(){var t,e=n(6034)("iframe"),r=i.length;for(e.style.display="none",n(1308).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l[c][i[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[u]=t):n=l(),void 0===e?n:o(n,e)}},7967:function(t,e,n){var r=n(4228),o=n(2956),i=n(3048),u=Object.defineProperty;e.f=n(1763)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},1626:function(t,e,n){var r=n(7967),o=n(4228),i=n(1311);t.exports=n(1763)?Object.defineProperties:function(t,e){o(t);for(var n,u=i(e),a=u.length,c=0;a>c;)r.f(t,n=u[c++],e[n]);return t}},8641:function(t,e,n){var r=n(8449),o=n(1996),i=n(7221),u=n(3048),a=n(7917),c=n(2956),l=Object.getOwnPropertyDescriptor;e.f=n(1763)?l:function(t,e){if(t=i(t),e=u(e,!0),c)try{return l(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},4765:function(t,e,n){var r=n(7221),o=n(9415).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(r(t))}},9415:function(t,e,n){var r=n(4561),o=n(6140).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},1060:function(t,e){e.f=Object.getOwnPropertySymbols},627:function(t,e,n){var r=n(7917),o=n(8270),i=n(766)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},4561:function(t,e,n){var r=n(7917),o=n(7221),i=n(1464)(!1),u=n(766)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),c=0,l=[];for(n in a)n!=u&&r(a,n)&&l.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(l,n)||l.push(n));return l}},1311:function(t,e,n){var r=n(4561),o=n(6140);t.exports=Object.keys||function(t){return r(t,o)}},8449:function(t,e){e.f={}.propertyIsEnumerable},923:function(t,e,n){var r=n(2127),o=n(6094),i=n(9448);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],u={};u[t]=e(n),r(r.S+r.F*i((function(){n(1)})),"Object",u)}},128:function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},5957:function(t,e,n){var r=n(4228),o=n(3305),i=n(4258);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},1996:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6065:function(t,e,n){var r=n(8859);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},8859:function(t,e,n){var r=n(7526),o=n(3341),i=n(7917),u=n(4415)("src"),a=n(9461),c="toString",l=(""+a).split(c);n(6094).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(i(n,u)||o(n,u,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[u]||a.call(this)}))},2535:function(t,e,n){"use strict";var r=n(4848),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},9600:function(t,e,n){"use strict";var r,o,i=n(1158),u=RegExp.prototype.exec,a=String.prototype.replace,c=u,l="lastIndex",f=(r=/a/,o=/b*/g,u.call(r,"a"),u.call(o,"a"),0!==r[l]||0!==o[l]),s=void 0!==/()??/.exec("")[1];(f||s)&&(c=function(t){var e,n,r,o,c=this;return s&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),f&&(e=c[l]),r=u.call(c,t),f&&r&&(c[l]=c.global?r.index+r[0].length:e),s&&r&&r.length>1&&a.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=c},5170:function(t,e,n){var r=n(3305),o=n(4228),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(5052)(Function.call,n(8641).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},5762:function(t,e,n){"use strict";var r=n(7526),o=n(7967),i=n(1763),u=n(7574)("species");t.exports=function(t){var e=r[t];i&&e&&!e[u]&&o.f(e,u,{configurable:!0,get:function(){return this}})}},3844:function(t,e,n){var r=n(7967).f,o=n(7917),i=n(7574)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},766:function(t,e,n){var r=n(4556)("keys"),o=n(4415);t.exports=function(t){return r[t]||(r[t]=o(t))}},4556:function(t,e,n){var r=n(6094),o=n(7526),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,e){return u[t]||(u[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(2750)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},9190:function(t,e,n){var r=n(4228),o=n(3387),i=n(7574)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||null==(n=r(u)[i])?e:o(n)}},6884:function(t,e,n){"use strict";var r=n(9448);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},1212:function(t,e,n){var r=n(7087),o=n(3344);t.exports=function(t){return function(e,n){var i,u,a=String(o(e)),c=r(n),l=a.length;return c<0||c>=l?t?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===l||(u=a.charCodeAt(c+1))<56320||u>57343?t?a.charAt(c):i:t?a.slice(c,c+2):u-56320+(i-55296<<10)+65536}}},8942:function(t,e,n){var r=n(5411),o=n(3344);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},629:function(t,e,n){var r=n(2127),o=n(3344),i=n(9448),u=n(8451),a="["+u+"]",c=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),f=function(t,e,n){var o={},a=i((function(){return!!u[t]()||""!=""[t]()})),c=o[t]=a?e(s):u[t];n&&(o[n]=c),r(r.P+r.F*a,"String",o)},s=f.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},8451:function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},2780:function(t,e,n){var r,o,i,u=n(5052),a=n(4877),c=n(1308),l=n(6034),f=n(7526),s=f.process,p=f.setImmediate,y=f.clearImmediate,h=f.MessageChannel,d=f.Dispatch,v=0,m={},b="onreadystatechange",g=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},w=function(t){g.call(t.data)};p&&y||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},y=function(t){delete m[t]},"process"==n(5089)(s)?r=function(t){s.nextTick(u(g,t,1))}:d&&d.now?r=function(t){d.now(u(g,t,1))}:h?(i=(o=new h).port2,o.port1.onmessage=w,r=u(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",w,!1)):r=b in l("script")?function(t){c.appendChild(l("script"))[b]=function(){c.removeChild(this),g.call(t)}}:function(t){setTimeout(u(g,t,1),0)}),t.exports={set:p,clear:y}},157:function(t,e,n){var r=n(7087),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},7087:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7221:function(t,e,n){var r=n(1249),o=n(3344);t.exports=function(t){return r(o(t))}},1485:function(t,e,n){var r=n(7087),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},8270:function(t,e,n){var r=n(3344);t.exports=function(t){return Object(r(t))}},3048:function(t,e,n){var r=n(3305);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},4415:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},4514:function(t,e,n){var r=n(7526).navigator;t.exports=r&&r.userAgent||""},2888:function(t,e,n){var r=n(3305);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},5392:function(t,e,n){var r=n(7526),o=n(6094),i=n(2750),u=n(7960),a=n(7967).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},7960:function(t,e,n){e.f=n(7574)},7574:function(t,e,n){var r=n(4556)("wks"),o=n(4415),i=n(7526).Symbol,u="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=r},762:function(t,e,n){var r=n(4848),o=n(7574)("iterator"),i=n(906);t.exports=n(6094).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},7762:function(t,e,n){var r=n(2127);r(r.P,"Array",{fill:n(5564)}),n(8184)("fill")},9813:function(t,e,n){"use strict";var r=n(2127),o=n(6179)(2);r(r.P+r.F*!n(6884)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},3863:function(t,e,n){"use strict";var r=n(5052),o=n(2127),i=n(8270),u=n(7368),a=n(1508),c=n(1485),l=n(7227),f=n(762);o(o.S+o.F*!n(8931)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,o,s,p=i(t),y="function"==typeof this?this:Array,h=arguments.length,d=h>1?arguments[1]:void 0,v=void 0!==d,m=0,b=f(p);if(v&&(d=r(d,h>2?arguments[2]:void 0,2)),null==b||y==Array&&a(b))for(n=new y(e=c(p.length));e>m;m++)l(n,m,v?d(p[m],m):p[m]);else for(s=b.call(p),n=new y;!(o=s.next()).done;m++)l(n,m,v?u(s,d,[o.value,m],!0):o.value);return n.length=m,n}})},5165:function(t,e,n){"use strict";var r=n(8184),o=n(4970),i=n(906),u=n(7221);t.exports=n(8175)(Array,"Array",(function(t,e){this._t=u(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},4913:function(t,e,n){"use strict";var r=n(2127),o=n(6179)(1);r(r.P+r.F*!n(6884)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},5853:function(t,e,n){"use strict";var r=n(2127),o=n(1308),i=n(5089),u=n(157),a=n(1485),c=[].slice;r(r.P+r.F*n(9448)((function(){o&&c.call(o)})),"Array",{slice:function(t,e){var n=a(this.length),r=i(this);if(e=void 0===e?n:e,"Array"==r)return c.call(this,t,e);for(var o=u(t,n),l=u(e,n),f=a(l-o),s=new Array(f),p=0;p<f;p++)s[p]="String"==r?this.charAt(o+p):this[o+p];return s}})},489:function(t,e,n){var r=n(7967).f,o=Function.prototype,i=/^\s*function ([^ (]*)/,u="name";u in o||n(1763)&&r(o,u,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},3386:function(t,e,n){"use strict";var r=n(6197),o=n(2888),i="Map";t.exports=n(8933)(i,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(o(this,i),t);return e&&e.v},set:function(t,e){return r.def(o(this,i),0===t?0:t,e)}},r,!0)},4509:function(t,e,n){"use strict";var r=n(7526),o=n(7917),i=n(5089),u=n(8880),a=n(3048),c=n(9448),l=n(9415).f,f=n(8641).f,s=n(7967).f,p=n(629).trim,y="Number",h=r[y],d=h,v=h.prototype,m=i(n(4719)(v))==y,b="trim"in String.prototype,g=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,i=(e=b?e.trim():p(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var u,c=e.slice(2),l=0,f=c.length;l<f;l++)if((u=c.charCodeAt(l))<48||u>o)return NaN;return parseInt(c,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(m?c((function(){v.valueOf.call(n)})):i(n)!=y)?u(new d(g(e)),n,h):g(e)};for(var w,S=n(1763)?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;S.length>O;O++)o(d,w=S[O])&&!o(h,w)&&s(h,w,f(d,w));h.prototype=v,v.constructor=h,n(8859)(r,y,h)}},9497:function(t,e,n){var r=n(2127);r(r.S,"Number",{isNaN:function(t){return t!=t}})},210:function(t,e,n){var r=n(2127);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},1430:function(t,e,n){var r=n(2127);r(r.S+r.F,"Object",{assign:n(8206)})},2642:function(t,e,n){var r=n(7221),o=n(8641).f;n(923)("getOwnPropertyDescriptor",(function(){return function(t,e){return o(r(t),e)}}))},3e3:function(t,e,n){var r=n(8270),o=n(627);n(923)("getPrototypeOf",(function(){return function(t){return o(r(t))}}))},7482:function(t,e,n){"use strict";var r=n(4848),o={};o[n(7574)("toStringTag")]="z",o+""!="[object z]"&&n(8859)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},6517:function(t,e,n){"use strict";var r,o,i,u,a=n(2750),c=n(7526),l=n(5052),f=n(4848),s=n(2127),p=n(3305),y=n(3387),h=n(6440),d=n(8790),v=n(9190),m=n(2780).set,b=n(1384)(),g=n(4258),w=n(128),S=n(4514),O=n(5957),E="Promise",j=c.TypeError,_=c.process,P=_&&_.versions,k=P&&P.v8||"",x=c[E],T="process"==f(_),C=function(){},R=o=g.f,A=!!function(){try{var t=x.resolve(1),e=(t.constructor={})[n(7574)("species")]=function(t){t(C,C)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e&&0!==k.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;b((function(){for(var r=t._v,o=1==t._s,i=0,u=function(e){var n,i,u,a=o?e.ok:e.fail,c=e.resolve,l=e.reject,f=e.domain;try{a?(o||(2==t._h&&H(t),t._h=1),!0===a?n=r:(f&&f.enter(),n=a(r),f&&(f.exit(),u=!0)),n===e.promise?l(j("Promise-chain cycle")):(i=I(n))?i.call(n,c,l):c(n)):l(r)}catch(t){f&&!u&&f.exit(),l(t)}};n.length>i;)u(n[i++]);t._c=[],t._n=!1,e&&!t._h&&N(t)}))}},N=function(t){m.call(c,(function(){var e,n,r,o=t._v,i=M(t);if(i&&(e=w((function(){T?_.emit("unhandledRejection",o,t):(n=c.onunhandledrejection)?n({promise:t,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),t._h=T||M(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},H=function(t){m.call(c,(function(){var e;T?_.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw j("Promise can't be resolved itself");(e=I(t))?b((function(){var r={_w:n,_d:!1};try{e.call(t,l(B,r,1),l(L,r,1))}catch(t){L.call(r,t)}})):(n._v=t,n._s=1,D(n,!1))}catch(t){L.call({_w:n,_d:!1},t)}}};A||(x=function(t){h(this,x,E,"_h"),y(t),r.call(this);try{t(l(B,this,1),l(L,this,1))}catch(t){L.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(6065)(x.prototype,{then:function(t,e){var n=R(v(this,x));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=l(B,t,1),this.reject=l(L,t,1)},g.f=R=function(t){return t===x||t===u?new i(t):o(t)}),s(s.G+s.W+s.F*!A,{Promise:x}),n(3844)(x,E),n(5762)(E),u=n(6094)[E],s(s.S+s.F*!A,E,{reject:function(t){var e=R(this);return(0,e.reject)(t),e.promise}}),s(s.S+s.F*(a||!A),E,{resolve:function(t){return O(a&&this===u?x:this,t)}}),s(s.S+s.F*!(A&&n(8931)((function(t){x.all(t).catch(C)}))),E,{all:function(t){var e=this,n=R(e),r=n.resolve,o=n.reject,i=w((function(){var n=[],i=0,u=1;d(t,!1,(function(t){var a=i++,c=!1;n.push(void 0),u++,e.resolve(t).then((function(t){c||(c=!0,n[a]=t,--u||r(n))}),o)})),--u||r(n)}));return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=R(e),r=n.reject,o=w((function(){d(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},2586:function(t,e,n){var r=n(2127),o=n(4719),i=n(3387),u=n(4228),a=n(3305),c=n(9448),l=n(5538),f=(n(7526).Reflect||{}).construct,s=c((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),p=!c((function(){f((function(){}))}));r(r.S+r.F*(s||p),"Reflect",{construct:function(t,e){i(t),u(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!s)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var c=n.prototype,y=o(a(c)?c:Object.prototype),h=Function.apply.call(t,y,e);return a(h)?h:y}})},1879:function(t,e,n){var r=n(8641),o=n(627),i=n(7917),u=n(2127),a=n(3305),c=n(4228);u(u.S,"Reflect",{get:function t(e,n){var u,l,f=arguments.length<3?e:arguments[2];return c(e)===f?e[n]:(u=r.f(e,n))?i(u,"value")?u.value:void 0!==u.get?u.get.call(f):void 0:a(l=o(e))?t(l,n,f):void 0}})},8301:function(t,e,n){var r=n(7526),o=n(8880),i=n(7967).f,u=n(9415).f,a=n(5411),c=n(1158),l=r.RegExp,f=l,s=l.prototype,p=/a/g,y=/a/g,h=new l(p)!==p;if(n(1763)&&(!h||n(9448)((function(){return y[n(7574)("match")]=!1,l(p)!=p||l(y)==y||"/a/i"!=l(p,"i")})))){l=function(t,e){var n=this instanceof l,r=a(t),i=void 0===e;return!n&&r&&t.constructor===l&&i?t:o(h?new f(r&&!i?t.source:t,e):f((r=t instanceof l)?t.source:t,r&&i?c.call(t):e),n?this:s,l)};for(var d=function(t){t in l||i(l,t,{configurable:!0,get:function(){return f[t]},set:function(e){f[t]=e}})},v=u(f),m=0;v.length>m;)d(v[m++]);s.constructor=l,l.prototype=s,n(8859)(r,"RegExp",l)}n(5762)("RegExp")},4116:function(t,e,n){"use strict";var r=n(9600);n(2127)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},9638:function(t,e,n){n(1763)&&"g"!=/./g.flags&&n(7967).f(RegExp.prototype,"flags",{configurable:!0,get:n(1158)})},8305:function(t,e,n){"use strict";var r=n(4228),o=n(8270),i=n(1485),u=n(7087),a=n(8828),c=n(2535),l=Math.max,f=Math.min,s=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,y=/\$([$&`']|\d\d?)/g;n(9228)("replace",2,(function(t,e,n,h){return[function(r,o){var i=t(this),u=null==r?void 0:r[e];return void 0!==u?u.call(r,i,o):n.call(String(i),r,o)},function(t,e){var o=h(n,t,this,e);if(o.done)return o.value;var s=r(t),p=String(this),y="function"==typeof e;y||(e=String(e));var v=s.global;if(v){var m=s.unicode;s.lastIndex=0}for(var b=[];;){var g=c(s,p);if(null===g)break;if(b.push(g),!v)break;""===String(g[0])&&(s.lastIndex=a(p,i(s.lastIndex),m))}for(var w,S="",O=0,E=0;E<b.length;E++){g=b[E];for(var j=String(g[0]),_=l(f(u(g.index),p.length),0),P=[],k=1;k<g.length;k++)P.push(void 0===(w=g[k])?w:String(w));var x=g.groups;if(y){var T=[j].concat(P,_,p);void 0!==x&&T.push(x);var C=String(e.apply(void 0,T))}else C=d(j,p,_,P,x,e);_>=O&&(S+=p.slice(O,_)+C,O=_+j.length)}return S+p.slice(O)}];function d(t,e,r,i,u,a){var c=r+t.length,l=i.length,f=y;return void 0!==u&&(u=o(u),f=p),n.call(a,f,(function(n,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":a=u[o.slice(1,-1)];break;default:var f=+o;if(0===f)return n;if(f>l){var p=s(f/10);return 0===p?n:p<=l?void 0===i[p-1]?o.charAt(1):i[p-1]+o.charAt(1):n}a=i[f-1]}return void 0===a?"":a}))}}))},341:function(t,e,n){"use strict";var r=n(5411),o=n(4228),i=n(9190),u=n(8828),a=n(1485),c=n(2535),l=n(9600),f=n(9448),s=Math.min,p=[].push,y="split",h="length",d="lastIndex",v=4294967295,m=!f((function(){RegExp(v,"y")}));n(9228)("split",2,(function(t,e,n,f){var b;return b="c"=="abbc"[y](/(b)*/)[1]||4!="test"[y](/(?:)/,-1)[h]||2!="ab"[y](/(?:ab)*/)[h]||4!="."[y](/(.?)(.?)/)[h]||"."[y](/()()/)[h]>1||""[y](/.?/)[h]?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(o,t,e);for(var i,u,a,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,y=void 0===e?v:e>>>0,m=new RegExp(t.source,f+"g");(i=l.call(m,o))&&!((u=m[d])>s&&(c.push(o.slice(s,i.index)),i[h]>1&&i.index<o[h]&&p.apply(c,i.slice(1)),a=i[0][h],s=u,c[h]>=y));)m[d]===i.index&&m[d]++;return s===o[h]?!a&&m.test("")||c.push(""):c.push(o.slice(s)),c[h]>y?c.slice(0,y):c}:"0"[y](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var o=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):b.call(String(o),n,r)},function(t,e){var r=f(b,t,this,e,b!==n);if(r.done)return r.value;var l=o(t),p=String(this),y=i(l,RegExp),h=l.unicode,d=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m?"y":"g"),g=new y(m?l:"^(?:"+l.source+")",d),w=void 0===e?v:e>>>0;if(0===w)return[];if(0===p.length)return null===c(g,p)?[p]:[];for(var S=0,O=0,E=[];O<p.length;){g.lastIndex=m?O:0;var j,_=c(g,m?p:p.slice(O));if(null===_||(j=s(a(g.lastIndex+(m?0:O)),p.length))===S)O=u(p,O,h);else{if(E.push(p.slice(S,O)),E.length===w)return E;for(var P=1;P<=_.length-1;P++)if(E.push(_[P]),E.length===w)return E;O=S=j}}return E.push(p.slice(S)),E}]}))},8604:function(t,e,n){"use strict";n(9638);var r=n(4228),o=n(1158),i=n(1763),u="toString",a=/./[u],c=function(t){n(8859)(RegExp.prototype,u,t,!0)};n(9448)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?c((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)})):a.name!=u&&c((function(){return a.call(this)}))},8872:function(t,e,n){"use strict";var r=n(2127),o=n(8942),i="includes";r(r.P+r.F*n(5203)(i),"String",{includes:function(t){return!!~o(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},2975:function(t,e,n){"use strict";var r=n(1212)(!0);n(8175)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},9650:function(t,e,n){"use strict";var r=n(7526),o=n(7917),i=n(1763),u=n(2127),a=n(8859),c=n(2988).KEY,l=n(9448),f=n(4556),s=n(3844),p=n(4415),y=n(7574),h=n(7960),d=n(5392),v=n(5969),m=n(7981),b=n(4228),g=n(3305),w=n(8270),S=n(7221),O=n(3048),E=n(1996),j=n(4719),_=n(4765),P=n(8641),k=n(1060),x=n(7967),T=n(1311),C=P.f,R=x.f,A=_.f,I=r.Symbol,D=r.JSON,N=D&&D.stringify,M="prototype",H=y("_hidden"),L=y("toPrimitive"),B={}.propertyIsEnumerable,F=f("symbol-registry"),W=f("symbols"),U=f("op-symbols"),V=Object[M],G="function"==typeof I&&!!k.f,q=r.QObject,z=!q||!q[M]||!q[M].findChild,Y=i&&l((function(){return 7!=j(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=C(V,e);r&&delete V[e],R(t,e,n),r&&t!==V&&R(V,e,r)}:R,Z=function(t){var e=W[t]=j(I[M]);return e._k=t,e},$=G&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},J=function(t,e,n){return t===V&&J(U,e,n),b(t),e=O(e,!0),b(n),o(W,e)?(n.enumerable?(o(t,H)&&t[H][e]&&(t[H][e]=!1),n=j(n,{enumerable:E(0,!1)})):(o(t,H)||R(t,H,E(1,{})),t[H][e]=!0),Y(t,e,n)):R(t,e,n)},K=function(t,e){b(t);for(var n,r=v(e=S(e)),o=0,i=r.length;i>o;)J(t,n=r[o++],e[n]);return t},X=function(t){var e=B.call(this,t=O(t,!0));return!(this===V&&o(W,t)&&!o(U,t))&&(!(e||!o(this,t)||!o(W,t)||o(this,H)&&this[H][t])||e)},Q=function(t,e){if(t=S(t),e=O(e,!0),t!==V||!o(W,e)||o(U,e)){var n=C(t,e);return!n||!o(W,e)||o(t,H)&&t[H][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=A(S(t)),r=[],i=0;n.length>i;)o(W,e=n[i++])||e==H||e==c||r.push(e);return r},et=function(t){for(var e,n=t===V,r=A(n?U:S(t)),i=[],u=0;r.length>u;)!o(W,e=r[u++])||n&&!o(V,e)||i.push(W[e]);return i};G||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(U,n),o(this,H)&&o(this[H],t)&&(this[H][t]=!1),Y(this,t,E(1,n))};return i&&z&&Y(V,t,{configurable:!0,set:e}),Z(t)},a(I[M],"toString",(function(){return this._k})),P.f=Q,x.f=J,n(9415).f=_.f=tt,n(8449).f=X,k.f=et,i&&!n(2750)&&a(V,"propertyIsEnumerable",X,!0),h.f=function(t){return Z(y(t))}),u(u.G+u.W+u.F*!G,{Symbol:I});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)y(nt[rt++]);for(var ot=T(y.store),it=0;ot.length>it;)d(ot[it++]);u(u.S+u.F*!G,"Symbol",{for:function(t){return o(F,t+="")?F[t]:F[t]=I(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!G,"Object",{create:function(t,e){return void 0===e?j(t):K(j(t),e)},defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var ut=l((function(){k.f(1)}));u(u.S+u.F*ut,"Object",{getOwnPropertySymbols:function(t){return k.f(w(t))}}),D&&u(u.S+u.F*(!G||l((function(){var t=I();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(g(e)||void 0!==t)&&!$(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!$(e))return e}),r[1]=e,N.apply(D,r)}}),I[M][L]||n(3341)(I[M],L,I[M].valueOf),s(I,"Symbol"),s(Math,"Math",!0),s(r.JSON,"JSON",!0)},9087:function(t,e,n){"use strict";var r=n(2127),o=n(1464)(!0);r(r.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(8184)("includes")},8583:function(t,e,n){"use strict";var r=n(2127),o=n(6094),i=n(7526),u=n(9190),a=n(5957);r(r.P+r.R,"Promise",{finally:function(t){var e=u(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},1041:function(t,e,n){"use strict";var r=n(2127),o=n(4258),i=n(128);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},2820:function(t,e,n){n(5392)("asyncIterator")},5890:function(t,e,n){for(var r=n(5165),o=n(1311),i=n(8859),u=n(7526),a=n(3341),c=n(906),l=n(7574),f=l("iterator"),s=l("toStringTag"),p=c.Array,y={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(y),d=0;d<h.length;d++){var v,m=h[d],b=y[m],g=u[m],w=g&&g.prototype;if(w&&(w[f]||a(w,f,p),w[s]||a(w,s,m),c[m]=p,b))for(v in r)w[v]||i(w,v,r[v],!0)}},2215:function(t,e,n){var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o),t.exports=i(),!!0){var u=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=u,a}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var u=JSON.stringify(n);/^[\{\[]/.test(u)&&(n=u)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,!0!==i[c]&&(a+="="+i[c].split(";")[0]));return document.cookie=e+"="+n+a}}function u(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],u=0;u<i.length;u++){var a=i[u].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=e(a[0]);if(c=(r.read||r)(c,l)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[l]=c,t===l)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return u(t,!1)},o.getJSON=function(t){return u(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))}},r={};function o(t){var e=r[t];if(void 0!==e){if(void 0!==e.error)throw e.error;return e.exports}var i=r[t]={exports:{}};try{var u={id:t,module:i,factory:n[t],require:o};o.i.forEach((function(t){t(u)})),i=u.module,u.factory.call(i.exports,i,i.exports,u.require)}catch(t){throw i.error=t,t}return i.exports}o.m=n,o.c=r,o.i=[],o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.hu=function(t){return t+"."+o.h()+".hot-update.js"},o.hmrF=function(){return"main."+o.h()+".hot-update.json"},o.h=function(){return"5cff3271f35efc1aba6a"},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="TrfAdManager:",o.l=function(n,r,i,u){if(t[n])t[n].push(r);else{var a,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),f=0;f<l.length;f++){var s=l[f];if(s.getAttribute("src")==n||s.getAttribute("data-webpack")==e+i){a=s;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",e+i),a.src=n),t[n]=[r];var p=function(e,r){a.onerror=a.onload=null,clearTimeout(y);var o=t[n];if(delete t[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(t){return t(r)})),e)return e(r)},y=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},function(){var t,e,n,r={},i=o.c,u=[],a=[],c="idle",l=0,f=[];function s(t){c=t;for(var e=[],n=0;n<a.length;n++)e[n]=a[n].call(null,t);return Promise.all(e).then((function(){}))}function p(){0==--l&&s("ready").then((function(){if(0===l){var t=f;f=[];for(var e=0;e<t.length;e++)t[e]()}}))}function y(t){if("idle"!==c)throw new Error("check() is only allowed in idle status");return s("check").then(o.hmrM).then((function(n){return n?s("prepare").then((function(){var r=[];return e=[],Promise.all(Object.keys(o.hmrC).reduce((function(t,i){return o.hmrC[i](n.c,n.r,n.m,t,e,r),t}),[])).then((function(){return e=function(){return t?d(t):s("ready").then((function(){return r}))},0===l?e():new Promise((function(t){f.push((function(){t(e())}))}));var e}))})):s(v()?"ready":"idle").then((function(){return null}))}))}function h(t){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+c+")")})):d(t)}function d(t){t=t||{},v();var r=e.map((function(e){return e(t)}));e=void 0;var o=r.map((function(t){return t.error})).filter(Boolean);if(o.length>0)return s("abort").then((function(){throw o[0]}));var i=s("dispose");r.forEach((function(t){t.dispose&&t.dispose()}));var u,a=s("apply"),c=function(t){u||(u=t)},l=[];return r.forEach((function(t){if(t.apply){var e=t.apply(c);if(e)for(var n=0;n<e.length;n++)l.push(e[n])}})),Promise.all([i,a]).then((function(){return u?s("fail").then((function(){throw u})):n?d(t).then((function(t){return l.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t})):s("idle").then((function(){return l}))}))}function v(){if(n)return e||(e=[]),Object.keys(o.hmrI).forEach((function(t){n.forEach((function(n){o.hmrI[t](n,e)}))})),n=void 0,!0}o.hmrD=r,o.i.push((function(f){var d,v,m,b,g=f.module,w=function(e,n){var r=i[n];if(!r)return e;var o=function(o){if(r.hot.active){if(i[o]){var a=i[o].parents;-1===a.indexOf(n)&&a.push(n)}else u=[n],t=o;-1===r.children.indexOf(o)&&r.children.push(o)}else u=[];return e(o)},a=function(t){return{configurable:!0,enumerable:!0,get:function(){return e[t]},set:function(n){e[t]=n}}};for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&"e"!==f&&Object.defineProperty(o,f,a(f));return o.e=function(t,n){return function(t){switch(c){case"ready":s("prepare");case"prepare":return l++,t.then(p,p),t;default:return t}}(e.e(t,n))},o}(f.require,f.id);g.hot=(d=f.id,v=g,b={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:m=t!==d,_requireSelf:function(){u=v.parents.slice(),t=m?void 0:d,o(d)},active:!0,accept:function(t,e,n){if(void 0===t)b._selfAccepted=!0;else if("function"==typeof t)b._selfAccepted=t;else if("object"==typeof t&&null!==t)for(var r=0;r<t.length;r++)b._acceptedDependencies[t[r]]=e||function(){},b._acceptedErrorHandlers[t[r]]=n;else b._acceptedDependencies[t]=e||function(){},b._acceptedErrorHandlers[t]=n},decline:function(t){if(void 0===t)b._selfDeclined=!0;else if("object"==typeof t&&null!==t)for(var e=0;e<t.length;e++)b._declinedDependencies[t[e]]=!0;else b._declinedDependencies[t]=!0},dispose:function(t){b._disposeHandlers.push(t)},addDisposeHandler:function(t){b._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=b._disposeHandlers.indexOf(t);e>=0&&b._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":e=[],Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](d,e)})),s("ready");break;case"ready":Object.keys(o.hmrI).forEach((function(t){o.hmrI[t](d,e)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(d)}},check:y,apply:h,status:function(t){if(!t)return c;a.push(t)},addStatusHandler:function(t){a.push(t)},removeStatusHandler:function(t){var e=a.indexOf(t);e>=0&&a.splice(e,1)},data:r[d]},t=void 0,b),g.parents=u,g.children=[],u=[],f.require=w})),o.hmrC={},o.hmrI={}}(),function(){var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t}(),function(){var t,e,n,r,i,u=o.hmrS_jsonp=o.hmrS_jsonp||{792:0},a={};function c(e,n){return t=n,new Promise((function(t,n){a[e]=t;var r=o.p+o.hu(e),i=new Error;o.l(r,(function(t){if(a[e]){a[e]=void 0;var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;i.message="Loading hot update chunk "+e+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,n(i)}}))}))}function l(t){function a(t){for(var e=[t],n={},r=e.map((function(t){return{chain:[t],id:t}}));r.length>0;){var i=r.pop(),u=i.id,a=i.chain,l=o.c[u];if(l&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:u};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:u};for(var f=0;f<l.parents.length;f++){var s=l.parents[f],p=o.c[s];if(p){if(p.hot._declinedDependencies[u])return{type:"declined",chain:a.concat([s]),moduleId:u,parentId:s};-1===e.indexOf(s)&&(p.hot._acceptedDependencies[u]?(n[s]||(n[s]=[]),c(n[s],[u])):(delete n[s],e.push(s),r.push({chain:a.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}o.f&&delete o.f.jsonpHmr,e=void 0;var l={},f=[],s={},p=function(t){};for(var y in n)if(o.o(n,y)){var h=n[y],d=h?a(y):{type:"disposed",moduleId:y},v=!1,m=!1,b=!1,g="";switch(d.chain&&(g="\nUpdate propagation: "+d.chain.join(" -> ")),d.type){case"self-declined":t.onDeclined&&t.onDeclined(d),t.ignoreDeclined||(v=new Error("Aborted because of self decline: "+d.moduleId+g));break;case"declined":t.onDeclined&&t.onDeclined(d),t.ignoreDeclined||(v=new Error("Aborted because of declined dependency: "+d.moduleId+" in "+d.parentId+g));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(d),t.ignoreUnaccepted||(v=new Error("Aborted because "+y+" is not accepted"+g));break;case"accepted":t.onAccepted&&t.onAccepted(d),m=!0;break;case"disposed":t.onDisposed&&t.onDisposed(d),b=!0;break;default:throw new Error("Unexception type "+d.type)}if(v)return{error:v};if(m)for(y in s[y]=h,c(f,d.outdatedModules),d.outdatedDependencies)o.o(d.outdatedDependencies,y)&&(l[y]||(l[y]=[]),c(l[y],d.outdatedDependencies[y]));b&&(c(f,[d.moduleId]),s[y]=p)}n=void 0;for(var w,S=[],O=0;O<f.length;O++){var E=f[O],j=o.c[E];j&&(j.hot._selfAccepted||j.hot._main)&&s[E]!==p&&!j.hot._selfInvalidated&&S.push({module:E,require:j.hot._requireSelf,errorHandler:j.hot._selfAccepted})}return{dispose:function(){var t;r.forEach((function(t){delete u[t]})),r=void 0;for(var e,n=f.slice();n.length>0;){var i=n.pop(),a=o.c[i];if(a){var c={},s=a.hot._disposeHandlers;for(O=0;O<s.length;O++)s[O].call(null,c);for(o.hmrD[i]=c,a.hot.active=!1,delete o.c[i],delete l[i],O=0;O<a.children.length;O++){var p=o.c[a.children[O]];p&&((t=p.parents.indexOf(i))>=0&&p.parents.splice(t,1))}}}for(var y in l)if(o.o(l,y)&&(a=o.c[y]))for(w=l[y],O=0;O<w.length;O++)e=w[O],(t=a.children.indexOf(e))>=0&&a.children.splice(t,1)},apply:function(e){for(var n in s)o.o(s,n)&&(o.m[n]=s[n]);for(var r=0;r<i.length;r++)i[r](o);for(var u in l)if(o.o(l,u)){var a=o.c[u];if(a){w=l[u];for(var c=[],p=[],y=[],h=0;h<w.length;h++){var d=w[h],v=a.hot._acceptedDependencies[d],m=a.hot._acceptedErrorHandlers[d];if(v){if(-1!==c.indexOf(v))continue;c.push(v),p.push(m),y.push(d)}}for(var b=0;b<c.length;b++)try{c[b].call(null,w)}catch(n){if("function"==typeof p[b])try{p[b](n,{moduleId:u,dependencyId:y[b]})}catch(r){t.onErrored&&t.onErrored({type:"accept-error-handler-errored",moduleId:u,dependencyId:y[b],error:r,originalError:n}),t.ignoreErrored||(e(r),e(n))}else t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:y[b],error:n}),t.ignoreErrored||e(n)}}}for(var g=0;g<S.length;g++){var O=S[g],E=O.module;try{O.require(E)}catch(n){if("function"==typeof O.errorHandler)try{O.errorHandler(n,{moduleId:E,module:o.c[E]})}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:E,error:r,originalError:n}),t.ignoreErrored||(e(r),e(n))}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:E,error:n}),t.ignoreErrored||e(n)}}return f}}}self.webpackHotUpdateTrfAdManager=function(e,r,u){for(var c in r)o.o(r,c)&&(n[c]=r[c],t&&t.push(c));u&&i.push(u),a[e]&&(a[e](),a[e]=void 0)},o.hmrI.jsonp=function(t,e){n||(n={},i=[],r=[],e.push(l)),o.o(n,t)||(n[t]=o.m[t])},o.hmrC.jsonp=function(t,a,f,s,p,y){p.push(l),e={},r=a,n=f.reduce((function(t,e){return t[e]=!1,t}),{}),i=[],t.forEach((function(t){o.o(u,t)&&void 0!==u[t]?(s.push(c(t,y)),e[t]=!0):e[t]=!1})),o.f&&(o.f.jsonpHmr=function(t,n){e&&o.o(e,t)&&!e[t]&&(n.push(c(t)),e[t]=!0)})},o.hmrM=function(){if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(o.p+o.hmrF()).then((function(t){if(404!==t.status){if(!t.ok)throw new Error("Failed to fetch update manifest "+t.statusText);return t.json()}}))}}();var i=o(4986);TrfAdManager=i.default}();
</script>

</body>
</html>
