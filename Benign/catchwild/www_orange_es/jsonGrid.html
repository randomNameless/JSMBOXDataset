<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jsonGrid.html</title>
</head>
<body>

<script>
!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=22)}({1:function(e,t,i){"use strict";function n(e){return e.item_id&&e.item_name?[{item_id:e.item_id,item_name:e.item_name,affiliation:e.affiliation,coupon:e.coupon,discount:e.discount,index:e.index||0,item_brand:e.item_brand,item_category:e.item_category,item_list_id:e.item_list_id,item_list_name:e.item_list_name,item_variant:e.item_variant,price:e.price||0,quantity:e.quantity||1}]:[]}function a(e){return[{item_id:e.item_id,item_name:e.item_name,affiliation:e.affiliation,coupon:e.coupon,creative_name:e.creative_name,creative_slot:e.creative_slot,discount:e.discount,index:e.index||0,item_brand:e.item_brand,item_category:e.item_category,item_list_id:e.item_list_id,item_list_name:e.item_list_name,item_variant:e.item_variant,price:e.price||0,promotion_id:e.promotion_id,promotion_name:e.promotion_name,quantity:e.quantity||1}]}function o(e,t,i,n,o=null){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"view_promotion",eventModel:{creative_name:e,creative_slot:t,promotion_id:i,promotion_name:n,items:a(o)}})}function r(e,t,i,n,o=null){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"select_promotion",eventModel:{creative_name:e,creative_slot:t,promotion_id:i,promotion_name:n,items:a(o)}})}function m(e,t,i){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"view_item",eventModel:{currency:e,value:t,items:n(i)}})}function d(e,t,i=null){window.dataLayer=window.dataLayer||[];const a=i?i.map(e=>n(e)):[];window.dataLayer.push({event:"view_item_list",eventModel:{item_list_id:e,item_list_name:t,items:a}})}e.exports={buildDataViewPromotion:o,buildDataViewItem:m,buildAnalitic:function(e,t){switch(e){case"view_item":m(t.currency,t.value,t.items);break;case"view_promotion":t.items.item_id&&t.items.item_name&&o(t.creative_name,t.creative_slot,t.promotion_id,t.promotion_name,t.items);break;case"select_promotion":r(t.creative_name,t.creative_slot,t.promotion_id,t.promotion_name,t.items);break;case"view_item_list":d(t.item_list_id,t.item_list_name,t.items)}},buildDataViewItemList:d,buildItemsView:n,buildDataSelectPromotion:r,buildItemsPromotion:a}},22:function(e,t,i){"use strict";var n=i(1);function a(){$(".dataViewJsonGrid").each((function(){var e=$(this),t=e.data("id"),i=e.data("name"),a=$(this).closest(".data-layout").find(".data-component"),o=[];a.each((function(e){var n=$(this),a={item_id:n.data("id"),item_name:n.data("name"),price:parseFloat(n.data("price")),item_list_id:t,item_list_name:i,brand:"Orange",index:e+1};o.push(a)}));var r={item_list_id:t,item_list_name:i,items:o};n.buildAnalitic("view_item_list",r)}))}$(document).ready((function(){a()})),e.exports={functions:{datajsonGrid:a}}}});
</script>

</body>
</html>
