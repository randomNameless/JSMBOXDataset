<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>f488f2c.html</title>
</head>
<body>

<script>
(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{5614:function(e,t,n){"use strict";n.r(t);n(76),n(267),n(117),n(78),n(33),n(394),n(151),n(77),n(200),n(180),n(201);var o=n(80),r=n(32),d=n(970),c=n(82),l=n(1180),m={validate:function(e){var t=e.params,n=e.app,o=[];t.language&&o.push(t.language),t.dir&&o.push(t.dir),t.page&&o.push(t.page),t.linestatic&&o.push(t.linestatic);var r=Object(c.a)(o);return Promise.all([n.$API.pageDetailByName(r)]).then((function(e){return"0"===e[0].code}))},name:"my-index",props:{componentsData:{default:function(){return{}},type:Object}},computed:Object(r.b)({WEBINFO:"getWebInfo"}),data:function(){return{componentsList:[],headerComponentList:[],footerComponentList:[],reloadChild:!0,domList:[]}},components:{addComponents:d.default},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,o,r,d,m,h,f,v,I;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.app,o=e.params,r=e.query,d=e.store,m=e.error,t.prev=1,h=[],o.language&&h.push(o.language),o.dir&&h.push(o.dir),o.page&&h.push(o.page),o.linestatic&&h.push(o.linestatic),!h.some((function(e){return-1!==e.indexOf(".")}))){t.next=10;break}return m({statusCode:404,message:"页面地址有误",url:""}),t.abrupt("return");case 10:if(f=Object(c.a)(h),console.log("paramsList",f),v="",d.commit("WEBINFO",{language:f.language,networkId:f.networkId,online:f.online}),!(I=l.a.get(f.dirUrl+"/"+f.urlName))){t.next=17;break}return t.abrupt("return",I);case 17:return t.abrupt("return",Promise.all([n.$API.pageDetailByName(f),n.$API.getPageTdk(f),n.$API.getHeaderFooterArgs({language:f.language,networkId:f.networkId,online:f.online}),n.$API.getWebHeader({language:f.language,networkId:f.networkId,online:f.online,displayStatus:2,type:1}),n.$API.getAllKeyword({})]).then((function(e){var t,o;if("0"===e[0].code){var c=e[0].data;1===c.is_index&&(v=c.page_url),d.commit("PAGEINFO",c),c&&c.language!=f.language&&(f.language=c.language,d.commit("WEBINFO",{language:f.language})),t=c.args?JSON.parse(c.args):[],console.log(t,22);t.map((function(e){return e.id}))}else m({statusCode:404,message:"页面地址有误",url:""});if("0"===e[1].code){var h=e[1].data;console.log(h.title,"=========================90807060"),o=h,n.head.meta=n.head.meta.concat([{name:"description",content:h.description},{name:"keywords",content:h.keyword}]),n.head.title=h.title}else m({statusCode:500,message:e[1].msg,url:""});var I=e[2].data;"0"===e[3].code?d.commit("HEADERDATA",e[3].data):m({statusCode:500,message:e[3].msg,url:""}),"0"===e[4].code&&d.commit("KEYLINKLIST",e[4].data);var w={headerComponentList:JSON.parse(I.header),footerComponentList:JSON.parse(I.foot),componentsList:t,INDEXPAGE:v,title:r.title||n.head.title,tdk:o};return l.a.set(f.dirUrl+"/"+f.urlName,w),w})));case 20:t.prev=20,t.t0=t.catch(1),m({statusCode:Number(t.t0.code),message:t.t0.msg,url:t.t0.url});case 23:case"end":return t.stop()}}),t,null,[[1,20]])})))()},beforeCreate:function(){1},created:function(){this.INDEXPAGE&&this.INDEXPAGE!==this.WEBINFO.indexPage&&this.$store.dispatch("setWebInfo",{indexPage:this.INDEXPAGE});var e=this.tdk,title=e.title,t=e.description,n=e.keyword;document.title=title,document.querySelector('meta[name="keywords"]').setAttribute("content",n),document.querySelector('meta[name="description"]').setAttribute("content",t),document.querySelector('link[rel="icon"]').href=this.WEBINFO.browseLogo},methods:{},mounted:function(){var e=this;this.$resize((function(){e.$store.dispatch("setScreen",Object(c.g)())}))}},h=n(5),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("h1",{directives:[{name:"show",rawName:"v-show",value:0,expression:"0"}]},[e._v(e._s(e.title))]),e._v(" "),e._l(e.headerComponentList,(function(t,o){return n("add-components",{key:o+"-header",attrs:{list:e.headerComponentList,data:t}})})),e._v(" "),e.reloadChild&&e.componentsList.length>0?n("div",[n("transition-group",{attrs:{name:"m-ts",tag:"div"}},e._l(e.componentsList,(function(t,o){return n("div",{key:o},[n("add-components",{attrs:{list:e.componentsList,data:t}})],1)})),0)],1):n("m-no-content"),e._v(" "),e._l(e.footerComponentList,(function(t,o){return n("add-components",{key:o+"-footer",attrs:{list:e.footerComponentList,data:t}})}))],2)}),[],!1,null,null,null);t.default=component.exports}}]);
</script>

</body>
</html>
