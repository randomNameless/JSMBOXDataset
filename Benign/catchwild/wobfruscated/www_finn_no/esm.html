<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>esm.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEGpYiAgACyAX8AQQELfwBBCgt/AEESC38AQRoLfwBBJAt/AEEsC38AQTILfwBBOAt/AEE+C38AQcYAC38AQc4AC38AQdYAC38AQd4AC38AQeYAC38AQe4AC38AQfYAC38AQf4AC38AQZIBC38AQZoBC38AQaIBC38AQaoBC38AQbQBC38AQdABC38AQdgBC38AQZgCC38AQaICC38AQawCC38AQbYCC38AQcICC38AQdgCC38AQeQCC38AQeYCC38AQcgDC38AQagEC38AQcYEC38AQcwEC38AQdYEC38AQdwEC38AQZIFC38AQcQFC38AQegFC38AQcwGC38AQfYGC38AQYIHC38AQZgHC38AQawHC38AQcAHC38AQdYHC38AQfQHC38AQfYHC38AQfgHC38AQf4HC38AQYYIC38AQZgIC38AQbIIC38AQcAIC38AQeYIC38AQa4JC38AQdwJC38AQYQKC38AQbwKC38AQcQKC38AQcwKC38AQdQKC38AQdwKC38AQegKC38AQfgKC38AQYYLC38AQZQLC38AQaILC38AQaoLC38AQdILC38AQfgLC38AQYAMC38AQYgMC38AQYoMC38AQZYMC38AQZ4MC38AQaYMC38AQagMC38AQeYMC38AQfwMC38AQY4NC38AQZwNC38AQaQNC38AQboNC38AQcINC38AQfwNC38AQbYOC38AQbgOC38AQeIOC38AQYgPC38AQZIPC38AQZYPC38AQZgPC38AQcoPC38AQYQQC38AQZYQC38AQZgQC38AQaAQC38AQaIQC38AQaQQC38AQaYQC38AQagQC38AQaoQC38AQboQC38AQdAQC38AQdgQC38AQdoQC38AQeIQC38AQeQQC38AQeYQC38AQegQC38AQeoQC38AQewQC38AQfwQC38AQYQRC38AQYYRC38AQZIRC38AQZgRC38AQaIRC38AQagRC38AQa4RC38AQbYRC38AQb4RC38AQcYRC38AQc4RC38AQdQRC38AQegRC38AQeoRC38AQewRC38AQZoSC38AQaISC38AQbISC38AQdYSC38AQfASC38AQfoSC38AQZITC38AQaoTC38AQcQTC38AQcwTC38AQeATC38AQaAUC38AQaYUC38AQawUC38AQa4UC38AQbQUC38AQbgUC38AQb4UC38AQcIUC38AQcYUC38AQcwUC38AQdAUC38AQdYUC38AQeQUC38AQeYUC38AQewUC38AQfQUC38AQZgVC38AQZwVC38AQaAVC38AQagVC38AQa4VC38AQbIVC38AQbQVC38AQboVC38AQb4VC38AQcAVC38AQeYVC38AQfIVC38AQYQWC38AQZYWC38AQawWC38AQbwWC38AQcIWC38AQegWC38AQeoWC38AQfAWCwfDjYCAALMBBm1lbW9yeQIABWRhdGEwAwAFZGF0YTEDAQVkYXRhMgMCBWRhdGEzAwMFZGF0YTQDBAVkYXRhNQMFBWRhdGE2AwYFZGF0YTcDBwVkYXRhOAMIBWRhdGE5AwkGZGF0YTEwAwoGZGF0YTExAwsGZGF0YTEyAwwGZGF0YTEzAw0GZGF0YTE0Aw4GZGF0YTE1Aw8GZGF0YTE2AxAGZGF0YTE3AxEGZGF0YTE4AxIGZGF0YTE5AxMGZGF0YTIwAxQGZGF0YTIxAxUGZGF0YTIyAxYGZGF0YTIzAxcGZGF0YTI0AxgGZGF0YTI1AxkGZGF0YTI2AxoGZGF0YTI3AxsGZGF0YTI4AxwGZGF0YTI5Ax0GZGF0YTMwAx4GZGF0YTMxAx8GZGF0YTMyAyAGZGF0YTMzAyEGZGF0YTM0AyIGZGF0YTM1AyMGZGF0YTM2AyQGZGF0YTM3AyUGZGF0YTM4AyYGZGF0YTM5AycGZGF0YTQwAygGZGF0YTQxAykGZGF0YTQyAyoGZGF0YTQzAysGZGF0YTQ0AywGZGF0YTQ1Ay0GZGF0YTQ2Ay4GZGF0YTQ3Ay8GZGF0YTQ4AzAGZGF0YTQ5AzEGZGF0YTUwAzIGZGF0YTUxAzMGZGF0YTUyAzQGZGF0YTUzAzUGZGF0YTU0AzYGZGF0YTU1AzcGZGF0YTU2AzgGZGF0YTU3AzkGZGF0YTU4AzoGZGF0YTU5AzsGZGF0YTYwAzwGZGF0YTYxAz0GZGF0YTYyAz4GZGF0YTYzAz8GZGF0YTY0A0AGZGF0YTY1A0EGZGF0YTY2A0IGZGF0YTY3A0MGZGF0YTY4A0QGZGF0YTY5A0UGZGF0YTcwA0YGZGF0YTcxA0cGZGF0YTcyA0gGZGF0YTczA0kGZGF0YTc0A0oGZGF0YTc1A0sGZGF0YTc2A0wGZGF0YTc3A00GZGF0YTc4A04GZGF0YTc5A08GZGF0YTgwA1AGZGF0YTgxA1EGZGF0YTgyA1IGZGF0YTgzA1MGZGF0YTg0A1QGZGF0YTg1A1UGZGF0YTg2A1YGZGF0YTg3A1cGZGF0YTg4A1gGZGF0YTg5A1kGZGF0YTkwA1oGZGF0YTkxA1sGZGF0YTkyA1wGZGF0YTkzA10GZGF0YTk0A14GZGF0YTk1A18GZGF0YTk2A2AGZGF0YTk3A2EGZGF0YTk4A2IGZGF0YTk5A2MHZGF0YTEwMANkB2RhdGExMDEDZQdkYXRhMTAyA2YHZGF0YTEwMwNnB2RhdGExMDQDaAdkYXRhMTA1A2kHZGF0YTEwNgNqB2RhdGExMDcDawdkYXRhMTA4A2wHZGF0YTEwOQNtB2RhdGExMTADbgdkYXRhMTExA28HZGF0YTExMgNwB2RhdGExMTMDcQdkYXRhMTE0A3IHZGF0YTExNQNzB2RhdGExMTYDdAdkYXRhMTE3A3UHZGF0YTExOAN2B2RhdGExMTkDdwdkYXRhMTIwA3gHZGF0YTEyMQN5B2RhdGExMjIDegdkYXRhMTIzA3sHZGF0YTEyNAN8B2RhdGExMjUDfQdkYXRhMTI2A34HZGF0YTEyNwN/B2RhdGExMjgDgAEHZGF0YTEyOQOBAQdkYXRhMTMwA4IBB2RhdGExMzEDgwEHZGF0YTEzMgOEAQdkYXRhMTMzA4UBB2RhdGExMzQDhgEHZGF0YTEzNQOHAQdkYXRhMTM2A4gBB2RhdGExMzcDiQEHZGF0YTEzOAOKAQdkYXRhMTM5A4sBB2RhdGExNDADjAEHZGF0YTE0MQONAQdkYXRhMTQyA44BB2RhdGExNDMDjwEHZGF0YTE0NAOQAQdkYXRhMTQ1A5EBB2RhdGExNDYDkgEHZGF0YTE0NwOTAQdkYXRhMTQ4A5QBB2RhdGExNDkDlQEHZGF0YTE1MAOWAQdkYXRhMTUxA5cBB2RhdGExNTIDmAEHZGF0YTE1MwOZAQdkYXRhMTU0A5oBB2RhdGExNTUDmwEHZGF0YTE1NgOcAQdkYXRhMTU3A50BB2RhdGExNTgDngEHZGF0YTE1OQOfAQdkYXRhMTYwA6ABB2RhdGExNjEDoQEHZGF0YTE2MgOiAQdkYXRhMTYzA6MBB2RhdGExNjQDpAEHZGF0YTE2NQOlAQdkYXRhMTY2A6YBB2RhdGExNjcDpwEHZGF0YTE2OAOoAQdkYXRhMTY5A6kBB2RhdGExNzADqgEHZGF0YTE3MQOrAQdkYXRhMTcyA6wBB2RhdGExNzMDrQEHZGF0YTE3NAOuAQdkYXRhMTc1A68BB2RhdGExNzYDsAEHZGF0YTE3NwOxAQurnYCAALIBAEEBCwhib29sZWFuAABBCgsHbnVtYmVyAABBEgsHc3RyaW5nAABBGgsJU0RLRXJyb3IAAEEkCwdvYmplY3QAAEEsCwVuYW1lAABBMgsEJTBBAABBOAsEREVWAABBPgsHUFJFX05PAABBxgALB1BSRV9TRQAAQc4ACwdQUkVfREsAAEHWAAsHUFJFX0ZJAABB3gALB1BST19OTwAAQeYACwdQUk9fREsAAEHuAAsHUFJPX1NFAABB9gALB1BST19GSQAAQf4ACxNBc3NlcnRpb24lMjBmYWlsZWQAAEGSAQsHc3RyaW5nAABBmgELB3N0cmluZwAAQaIBCwdvYmplY3QAAEGqAQsJZnVuY3Rpb24AAEG0AQsaTm8lMjBvYmplY3RzJTIwdG8lMjBjbG9uZQAAQdABCwdvYmplY3QAAEHYAQs/JTIydXJsJTIyJTIwcGFyYW0lMjBtdXN0JTIwYmUlMjBhJTIwbm9uJTIwZW1wdHklMjBzdHJpbmclM0ElMjAAAEGYAgsJaG9zdG5hbWUAAEGiAgsIZGVmYXVsdAAAQawCCwh4LXgteC14AABBtgILC1RFU1QtVkFMVUUAAEHCAgsVT2JqZWN0TGl0ZXJhbFN0b3JhZ2UAAEHYAgsLV2ViU3RvcmFnZQAAQeQCCwEAAEHmAgtgd2luZG93JTIwc2hvdWxkJTIwYmUlMjBhJTIwdmFsaWQlMjBXaW5kb3clMjBvYmplY3QlMjBidXQlMjBpdCUyMGxhY2tzJTIwYSUyMCdzY3JlZW4nJTIwcHJvcGVydHkAAEHIAwtfd2luZG93JTIwc2hvdWxkJTIwYmUlMjBhJTIwdmFsaWQlMjBXaW5kb3clMjBvYmplY3QlMjBidXQlMjBpdCUyMGxhY2tzJTIwYW4lMjAnb3BlbiclMjBmdW5jdGlvbgAAQagECxxJbnZhbGlkJTIwVVJMJTIwZm9yJTIwcG9wdXAAAEHGBAsEJTJDAABBzAQLCWZ1bmN0aW9uAABB1gQLBCUyMAAAQdwECzRkZWZhdWx0UGFyYW1zJTIwc2hvdWxkJTIwYmUlMjBhJTIwbm9uLW51bGwlMjBvYmplY3QAAEGSBQsxc2VydmVyVXJsJTIwc2hvdWxkJTIwYmUlMjBhJTIwbm9uLWVtcHR5JTIwc3RyaW5nAABBxAULI0ZldGNoJTIwc2hvdWxkJTIwYmUlMjBhJTIwZnVuY3Rpb24AAEHoBQtiQ2FuJ3QlMjBtYWtlJTIwYSUyMGNhbGwuJTIwVGhlJTIwcmVmZXJlbmNlJTIwdG8lMjBmZXRjaCUyMGlzJTIwbWlzc2luZyUyMG9yJTIwbm90JTIwYSUyMGZ1bmN0aW9uLgAAQcwGCylkYXRhJTIwbXVzdCUyMGJlJTIwYSUyMG5vbi1udWxsJTIwb2JqZWN0AABB9gYLC1JlcXVlc3QlM0EAAEGCBwsVUmVxdWVzdCUyMEhlYWRlcnMlM0EAAEGYBwsSUmVxdWVzdCUyMEJvZHklM0EAAEGsBwsTUmVzcG9uc2UlMjBDb2RlJTNBAABBwAcLFVJlc3BvbnNlJTIwUGFyc2VkJTNBAABB1gcLHVVua25vd24lMjBSRVNUQ2xpZW50JTIwZXJyb3IAAEH0BwsBAABB9gcLAQAAQfgHCwQlMjYAAEH+BwsGNi4yLjAAAEGGCAsRaGFzU2Vzc2lvbi1jYWNoZQAAQZgICxlzZXNzaW9uQ2FsbEJsb2NrZWQtY2FjaGUAAEGyCAsNdGFiLWlkLWNhY2hlAABBwAgLJWNsaWVudElkJTIwcGFyYW1ldGVyJTIwaXMlMjByZXF1aXJlZAAAQeYIC0dFbnYlMjBwYXJhbWV0ZXIlMjBpcyUyMGVtcHR5JTIwb3IlMjBpcyUyMG5vdCUyMGElMjB2YWxpZCUyMGVudmlyb25tZW50AABBrgkLLVRoZSUyMHJlZmVyZW5jZSUyMHRvJTIwd2luZG93JTIwaXMlMjBtaXNzaW5nAABB3AkLJ3JlZGlyZWN0VXJpJTIwcGFyYW1ldGVyJTIwaXMlMjBpbnZhbGlkAABBhAoLN3Nlc3Npb25Eb21haW4lMjBwYXJhbWV0ZXIlMjBpcyUyMG5vdCUyMGElMjB2YWxpZCUyMFVSTAAAQbwKCwdvYmplY3QAAEHECgsHb2JqZWN0AABBzAoLBmxvZ2luAABB1AoLB2xvZ291dAAAQdwKCwt1c2VyQ2hhbmdlAABB6AoLDnNlc3Npb25DaGFuZ2UAAEH4CgsMbm90TG9nZ2VkaW4AAEGGCwsMc2Vzc2lvbkluaXQAAEGUCwsNc3RhdHVzQ2hhbmdlAABBogsLB29iamVjdAAAQaoLCycnZXhwaXJlc0luJyUyMG11c3QlMjBiZSUyMGFuJTIwaW50ZWdlcgAAQdILCyUnZXhwaXJlc0luJyUyMGNhbm5vdCUyMGJlJTIwbmVnYXRpdmUAAEH4CwsHbnVtYmVyAABBgAwLB3N0cmluZwAAQYgMCwEAAEGKDAsLcGF0aCUzRCUyRgAAQZYMCwclM0IlMjAAAEGeDAsHc3RyaW5nAABBpgwLAQAAQagMCzxZb3UlMjBoYXZlJTIwdG8lMjBwcm92aWRlJTIwbG9nJTIwbWV0aG9kJTIwaW4lMjBjb25zdHJ1Y3RvcgAAQeYMCxRIYXNTZXNzaW9uJTIwZmFpbGVkAABB/AwLECUyRnYyJTJGc2Vzc2lvbgAAQY4NCwxyZWRpcmVjdFVSTAAAQZwNCwZlcnJvcgAAQaQNCxRIYXNTZXNzaW9uJTIwZmFpbGVkAABBug0LB3Jlc3VsdAAAQcINCzlUaGUlMjB1c2VyJTIwaXMlMjBub3QlMjBjb25uZWN0ZWQlMjB0byUyMHRoaXMlMjBtZXJjaGFudAAAQfwNCzlUaGUlMjB1c2VyJTIwaXMlMjBub3QlMjBjb25uZWN0ZWQlMjB0byUyMHRoaXMlMjBtZXJjaGFudAAAQbYOCwEAAEG4DgsocGFpcklkJTIwbWlzc2luZyUyMGluJTIwdXNlciUyMHNlc3Npb24hAABB4g4LJGV4dGVybmFsUGFydHklMjBjYW5ub3QlMjBiZSUyMGVtcHR5AABBiA8LCFNIQS0yNTYAAEGSDwsCMAAAQZYPCwEAAEGYDwsxRmFpbGVkJTIwdG8lMjBnZXQlMjBTRFJOJTIwZnJvbSUyMHVzZXIlMjBzZXNzaW9uAABByg8LOVRoZSUyMHVzZXIlMjBpcyUyMG5vdCUyMGNvbm5lY3RlZCUyMHRvJTIwdGhpcyUyMG1lcmNoYW50AABBhBALECUyRnVzZXItY29udGV4dAAAQZYQCwEAAEGYEAsHb3BlbmlkAABBoBALAQAAQaIQCwEAAEGkEAsBAABBphALAQAAQagQCwEAAEGqEAsPc2VsZWN0X2FjY291bnQAAEG6EAsUU2NoaWJzdGVkJTIwYWNjb3VudAAAQdAQCwdsb2dvdXQAAEHYEAsBAABB2hALB29wZW5pZAAAQeIQCwEAAEHkEAsBAABB5hALAQAAQegQCwEAAEHqEAsBAABB7BALD3NlbGVjdF9hY2NvdW50AABB/BALB29iamVjdAAAQYQRCwEAAEGGEQsKb3RwLWVtYWlsAABBkhELBCUyMAAAQZgRCwlwYXNzd29yZAAAQaIRCwRvdHAAAEGoEQsEc21zAABBrhELB2VpZC1kawAAQbYRCwdlaWQtbm8AAEG+EQsHZWlkLXNlAABBxhELB2VpZC1maQAAQc4RCwRlaWQAAEHUEQsSb2F1dGglMkZhdXRob3JpemUAAEHoEQsBAABB6hELAQAAQewRCyxsb2dvdXRVcmwoKSUzQSUyMHJlZGlyZWN0VXJpJTIwaXMlMjBpbnZhbGlkAABBmhILB2xvZ291dAAAQaISCw5wcm9maWxlLXBhZ2VzAABBshILInByb2ZpbGUtcGFnZXMlMkZhYm91dC15b3UlMkZwaG9uZQAAQdYSCxhzaW1wbGlmaWVkLWxvZ2luLXdpZGdldAAAQfASCwlmdW5jdGlvbgAAQfoSCxZNaXNzaW5nJTIwdXNlciUyMGRhdGEAAEGSEwsWc2ltcGxpZmllZExvZ2luT3BlbmVkAABBqhMLGXNpbXBsaWZpZWRMb2dpbkNhbmNlbGxlZAAAQcQTCwdzY3JpcHQAAEHMEwsSdGV4dCUyRmphdmFzY3JpcHQAAEHgEws/RXJyb3IlMjB3aGVuJTIwbG9hZGluZyUyMHNpbXBsaWZpZWQlMjBsb2dpbiUyMHdpZGdldCUyMGNvbnRlbnQAAEGgFAsFYm9keQAAQaYUCwQlM0QAAEGsFAsBAABBrhQLBCUyQgAAQbQUCwItAABBuBQLBCUyRgAAQb4UCwJfAABBwhQLAi0AAEHGFAsEJTJCAABBzBQLAl8AAEHQFAsEJTJGAABB1hQLDSUzRCUzRCUzRCUzRAAAQeQUCwEAAEHmFAsEaGV4AABB7BQLB2JpbmFyeQAAQfQUCyNJbnZhbGlkJTIwaW5wdXRFbmNvZGluZyUyMHN1cHBsaWVkAABBmBULAzAwAABBnBULAzB4AABBoBULB2JpbmFyeQAAQagVCwRoZXgAAEGuFQsDMDAAAEGyFQsBAABBtBULBCUyNQAAQboVCwMwMAAAQb4VCwEAAEHAFQskSW52YWxpZCUyMG91dHB1dEVuY29kaW5nJTIwc3VwcGxpZWQAAEHmFQsLX19lc01vZHVsZQAAQfIVCxBGYWlsdXJlUmVzcG9uc2UAAEGEFgsQU3VjY2Vzc1Jlc3BvbnNlAABBlhYLFEhhc1Nlc3Npb24lMjBmYWlsZWQAAEGsFgsORXJyb3JSZXNwb25zZQAAQbwWCwVsb2FkAABBwhYLJGxvZ2luLWZyb250ZW5kLWxvZ2luLXJlZnJlc2gtcG9kbGV0AABB6BYLAQAAQeoWCwVidG9hAABB8BYLBWF0b2IA'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
const e = [
    lS(0, 0),
    lS(0, 1),
    lS(0, 2)
];
class t extends Error {
    constructor(e, t) {
        (() => {
            const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        try {
                            (() => {
                                const __callInstance29 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            Object.assign(this, t);
                                        }
                                    }
                                });
                                const __exports = __callInstance29.exports;
                                return __exports.data();
                            })();
                        } catch (e) {
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance0.exports;
            return __exports.data((super(e), this.name = lS(0, 3), lS(0, 4) == typeof t) ? 1 : 0);
        })();
    }
    toString() {
        const t = `${ this.name }: ${ this.message }`, s = Object.keys(this).filter(t => lS(0, 5) !== t && e.includes(typeof this[t])).map(e => `    ${ e }: ${ this[e] }`).join(lS(0, 6));
        return s ? `${ t }\n${ s }` : t;
    }
}
const s = [
        lS(0, 7),
        lS(0, 8),
        lS(0, 9),
        lS(0, 10),
        lS(0, 11),
        lS(0, 12),
        lS(0, 13),
        lS(0, 14),
        lS(0, 15)
    ], i = {
        SPiD: {
            LOCAL: 'http://id.localhost',
            DEV: 'https://login.dev.identity.schibstedmarketplaces.io/',
            PRE_SE: 'https://login.se.pre.identity.schibstedmarketplaces.io',
            PRE_NO: 'https://login.no.pre.identity.schibstedmarketplaces.io',
            PRE_FI: 'https://login.fi.pre.identity.schibstedmarketplaces.io',
            PRE_DK: 'https://login.dk.pre.identity.schibstedmarketplaces.io',
            PRO_SE: 'https://login.schibstedmarketplaces.se',
            PRO_NO: 'https://login.schibstedmarketplaces.no',
            PRO_FI: 'https://login.schibstedmarketplaces.fi',
            PRO_DK: 'https://login.schibstedmarketplaces.dk'
        },
        BFF: {
            LOCAL: 'http://id.localhost/authn/',
            DEV: 'https://login.dev.identity.schibstedmarketplaces.io/authn/',
            PRE_SE: 'https://login.se.pre.identity.schibstedmarketplaces.io/authn/',
            PRE_NO: 'https://login.no.pre.identity.schibstedmarketplaces.io/authn/',
            PRE_FI: 'https://login.fi.pre.identity.schibstedmarketplaces.io/authn/',
            PRE_DK: 'https://login.dk.pre.identity.schibstedmarketplaces.io/authn/',
            PRO_SE: 'https://login.schibstedmarketplaces.se/authn/',
            PRO_NO: 'https://login.schibstedmarketplaces.no/authn/',
            PRO_FI: 'https://login.schibstedmarketplaces.fi/authn/',
            PRO_DK: 'https://login.schibstedmarketplaces.dk/authn/'
        },
        SESSION_SERVICE: {
            LOCAL: 'http://session.id.localhost',
            DEV: 'https://session.login.dev.identity.schibstedmarketplaces.io',
            PRE_SE: 'https://session.login.se.pre.identity.schibstedmarketplaces.io',
            PRE_NO: 'https://session.login.no.pre.identity.schibstedmarketplaces.io',
            PRE_FI: 'https://session.login.fi.pre.identity.schibstedmarketplaces.io',
            PRE_DK: 'https://session.login.dk.pre.identity.schibstedmarketplaces.io',
            PRO_SE: 'https://session.login.schibstedmarketplaces.se',
            PRO_NO: 'https://session.login.schibstedmarketplaces.no',
            PRO_FI: 'https://session.login.schibstedmarketplaces.fi',
            PRO_DK: 'https://session.login.schibstedmarketplaces.dk'
        }
    }, n = {
        LOCAL: 'id.localhost',
        DEV: 'schibsted.com',
        PRE_SE: 'schibsted.com',
        PRE_NO: 'schibsted.com',
        PRE_FI: 'schibsted.com',
        PRE_DK: 'schibsted.com',
        PRO_SE: 'schibsted.com',
        PRO_NO: 'spid.no',
        PRO_FI: 'schibsted.fi',
        PRO_DK: 'schibsted.dk'
    };
function r(e, s = lS(0, 16)) {
    if (!e)
        throw new t(s);
}
function o(e) {
    return lS(0, 17) == typeof e;
}
function a(e) {
    return lS(0, 18) == typeof e && e.length > 0;
}
function c(e) {
    return lS(0, 19) == typeof e && null !== e;
}
function h(e) {
    return c(e) && Object.keys(e).length > 0;
}
function l(e, ...t) {
    try {
        const s = new URL(e);
        return t.every(e => s[e]);
    } catch (e) {
        return !1;
    }
}
function d(e) {
    return lS(0, 20) == typeof e;
}
function u(e, t, s = !1) {
    return !(!o(e) || !Array.isArray(t)) && (s ? -1 !== t.indexOf(e) : t.some(t => o(t) && e.toUpperCase() === t.toUpperCase()));
}
function p(...e) {
    const s = {};
    if (!e || !e.length)
        throw new t(lS(0, 21));
    return e.forEach(e => {
        r(c(e)), h(e) && Object.entries(e).forEach(([e, t]) => {
            void 0 !== t && (s[e] = c(t) ? g(t) : t);
        });
    }), s;
}
function g(e) {
    return r(lS(0, 22) == typeof e, `obj should be an object (even null) but it is ${ e }`), JSON.parse(JSON.stringify(e)) || e;
}
function f(e, t) {
    return r(a(e), lS(0, 23) + typeof e), h(t) && l(t[e]) ? t[e] : (r(l(e, lS(0, 24)), `Bad URL given: '${ e }'`), e);
}
function m(e) {
    return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, lS(0, 25)) ? e.default : e;
}
var S, b = { exports: {} };
var _ = m(function () {
    if (S)
        return b.exports;
    function e() {
    }
    return S = 1, e.prototype = {
        on: function (e, t, s) {
            var i = this.e || (this.e = {});
            return (i[e] || (i[e] = [])).push({
                fn: t,
                ctx: s
            }), this;
        },
        once: function (e, t, s) {
            var i = this;
            function n() {
                i.off(e, n), t.apply(s, arguments);
            }
            return n._ = t, this.on(e, n, s);
        },
        emit: function (e) {
            (() => {
                var t = [].slice.call(arguments, 1), s = ((this.e || (this.e = {}))[e] || []).slice(), i = 0, n = s.length;
                const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                    env: {
                        test: () => {
                            return i < n ? 1 : 0;
                        },
                        update: () => {
                            i++;
                        },
                        body: () => {
                            (() => {
                                const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            s[i].fn.apply(s[i].ctx, t);
                                        }
                                    }
                                });
                                const __exports = __callInstance28.exports;
                                return __exports.data();
                            })();
                        }
                    }
                });
                const __exports = __forInstance0.exports;
                return __exports.data();
            })();
            return this;
        },
        off: function (e, t) {
            var s = this.e || (this.e = {}), i = s[e], n = [];
            (() => {
                const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            for (var r = 0, o = i.length; r < o; r++)
                                i[r].fn !== t && i[r].fn._ !== t && n.push(i[r]);
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance1.exports;
                return __exports.data(i && t ? 1 : 0);
            })();
            return n.length ? s[e] = n : delete s[e], this;
        }
    }, b.exports = e, b.exports.TinyEmitter = e, b.exports;
}());
class w {
    constructor(e) {
        this.store = e, this.get = e => this.store.getItem(e), this.set = (e, t) => this.store.setItem(e, t), this.delete = e => this.store.removeItem(e);
    }
}
class y {
    constructor() {
        this.store = {}, this.get = e => this.store[e], this.set = (e, t) => this.store[e] = t, this.delete = e => delete this.store[e];
    }
}
const v = Math.pow(2, 31) - 1;
class k {
    constructor(e) {
        !function (e) {
            if (!e)
                return !1;
            try {
                const t = e(), s = lS(0, 26).replace(/x/g, () => Math.random()), i = lS(0, 27);
                (() => {
                    const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                t.setItem(s, i);
                            }
                        }
                    });
                    const __exports = __callInstance27.exports;
                    return __exports.data();
                })();
                const n = t.getItem(s);
                return t.removeItem(s), n === i;
            } catch (e) {
                return !1;
            }
        }(e) ? (this.cache = new y(), this.type = lS(0, 28)) : (this.cache = new w(e()), this.type = lS(0, 29));
    }
    get(e) {
        try {
            let t = function (e) {
                try {
                    return JSON.parse(e);
                } catch (e) {
                    return null;
                }
            }(this.cache.get(e));
            return t && Number.isInteger(t.expiresOn) && t.expiresOn > Date.now() ? t.value : (this.delete(e), null);
        } catch (e) {
            throw new t(e);
        }
    }
    set(e, s, i = 0) {
        if (!(i <= 0)) {
            i = Math.min(v, i);
            try {
                const t = Math.floor(Date.now() + i);
                this.cache.set(e, JSON.stringify({
                    expiresOn: t,
                    value: s
                })), setTimeout(() => this.delete(e), i);
            } catch (e) {
                throw new t(e);
            }
        }
    }
    delete(e) {
        try {
            (() => {
                const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.cache.delete(e);
                        }
                    }
                });
                const __exports = __callInstance26.exports;
                return __exports.data();
            })();
        } catch (e) {
            throw new t(e);
        }
    }
}
const I = {
    scrollbars: 'yes',
    location: 'yes',
    status: 'no',
    menubar: 'no',
    toolbar: 'no',
    resizable: 'yes'
};
function U(e, t, s = lS(0, 30), i = {}) {
    r(c(e), `window was supposed to be an object but it is ${ e }`), r(c(e.screen), lS(0, 31)), r(d(e.open), lS(0, 32)), r(l(t), lS(0, 33));
    const {
        height: n,
        width: o
    } = e.screen;
    let a = p(I, i);
    Number.isFinite(a.width) && Number.isFinite(o) && (a.left = (o - a.width) / 2), Number.isFinite(a.height) && Number.isFinite(n) && (a.top = (n - a.height) / 2);
    const h = (r(c(u = a), `Object must be an object but it is '${ u }'`), Object.keys(u).map(e => `${ e }=${ u[e] }`).join(lS(0, 34)));
    var u;
    return e.open(t, s, h);
}
const P = (e, ...t) => lS(0, 35) == typeof e && e((e => e.map(e => c(e) ? JSON.stringify(e, null, 2) : e).join(lS(0, 36)))(t));
function E(e) {
    const t = {
        '!': '%21',
        '\'': '%27',
        '(': '%28',
        ')': '%29',
        '~': '%7E',
        '%20': '+',
        '%00': '\0'
    };
    return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g, e => t[e]);
}
const C = () => window.fetch && window.fetch.bind(window);
class O {
    constructor({
        serverUrl: e,
        envDic: t,
        fetch: s = C(),
        log: i,
        defaultParams: n = {}
    }) {
        r(c(n), lS(0, 37)), r(a(e), lS(0, 38)), this.url = new URL(f(e, t)), this.defaultParams = n, i && (r(d(i), `log must be a function but it is ${ i }`), this.log = i), s && (r(d(s), lS(0, 39)), this.fetch = s);
    }
    async go({
        method: e,
        headers: s,
        pathname: i,
        data: n = {},
        useDefaultParams: h = !0,
        fetchOptions: l = {
            method: e,
            credentials: 'include'
        }
    }) {
        r(d(this.fetch), lS(0, 40)), r(a(e), `Method must be a non empty string but it is "${ e }"`), r(a(i), `Pathname must be string but it is "${ i }"`), r(c(n), lS(0, 41)), l.headers = c(s) ? p(s) : {};
        const u = this.makeUrl(i, n, h);
        P(this.log, lS(0, 42), l.method.toUpperCase(), u), P(this.log, lS(0, 43), l.headers), P(this.log, lS(0, 44), l.body);
        try {
            const e = await this.fetch(u, l);
            if (P(this.log, lS(0, 45), e.status, e.statusText), !e.ok)
                throw new t(e.statusText, { code: e.status });
            const s = await e.json();
            return P(this.log, lS(0, 46), s), s;
        } catch (s) {
            let i = o(s) ? s : lS(0, 47);
            throw c(s) && o(s.message) && (i = s.message), new t(`Failed to '${ e }' '${ u }': '${ i }'`, s);
        }
    }
    makeUrl(e = lS(0, 48), t = {}, s = !0) {
        const i = new URL(e, this.url);
        return i.search = O.search(t, s, this.defaultParams), i.href;
    }
    get(e, t) {
        return this.go({
            method: 'get',
            pathname: e,
            data: t
        });
    }
    static search(e, t, s) {
        const i = t ? p(s, e) : p(e);
        return Object.keys(i).filter(e => lS(0, 49) !== i[e]).map(e => `${ E(e) }=${ E(i[e]) }`).join(lS(0, 50));
    }
}
const R = lS(0, 51), D = lS(0, 52), x = lS(0, 53), $ = lS(0, 54), j = Math.floor(100000 * Math.random()), N = () => window;
class T extends _ {
    constructor({
        clientId: e,
        redirectUri: t,
        sessionDomain: i,
        env: n,
        log: o,
        window: h = N(),
        callbackBeforeRedirect: u = () => {
        }
    }) {
        var p, g;
        super(), r(a(e), lS(0, 55)), r(a(p = n) && s.includes(p), lS(0, 56)), r(c(h), lS(0, 57)), r(!t || l(t), lS(0, 58)), r(i && l(i), lS(0, 59)), null !== (g = h).SPiD && lS(0, 60) == typeof g.SPiD || (g.SPiD = {}), null !== g.SPiD.Talk && lS(0, 61) == typeof g.SPiD.Talk || (g.SPiD.Talk = {}), d(g.SPiD.Talk.response) || (g.SPiD.Talk.response = (e, t) => g[e](t)), this._sessionInitiatedSent = !1, this.window = h, this.clientId = e, this.sessionStorageCache = new k(() => this.window && this.window.sessionStorage), this.localStorageCache = new k(() => this.window && this.window.localStorage), this.redirectUri = t, this.env = n, this.log = o, this.callbackBeforeRedirect = u, this._sessionDomain = i, this._enableSessionCaching = !0, this._session = {}, this._setSessionServiceUrl(i), this._setSpidServerUrl(n), this._setBffServerUrl(n), this._setOauthServerUrl(n), this._setGlobalSessionServiceUrl(n), this._unblockSessionCall();
    }
    _getTabId() {
        if (this._enableSessionCaching) {
            const e = this.sessionStorageCache.get($);
            return e || (this.sessionStorageCache.set($, j, 2592000000), j);
        }
    }
    _isSessionCallBlocked() {
        return this.localStorageCache.get(x);
    }
    _blockSessionCall() {
        (() => {
            const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.localStorageCache.set(x, !0, 300000);
                    }
                }
            });
            const __exports = __callInstance25.exports;
            return __exports.data();
        })();
    }
    _unblockSessionCall() {
        (() => {
            const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.localStorageCache.delete(x);
                    }
                }
            });
            const __exports = __callInstance24.exports;
            return __exports.data();
        })();
    }
    _setSpidServerUrl(e) {
        r(o(e), `url parameter is invalid: ${ e }`), this._spid = new O({
            serverUrl: f(e, i.SPiD),
            log: this.log,
            defaultParams: {
                client_id: this.clientId,
                redirect_uri: this.redirectUri
            }
        });
    }
    _setOauthServerUrl(e) {
        r(o(e), `url parameter is invalid: ${ e }`), this._oauthService = new O({
            serverUrl: f(e, i.SPiD),
            log: this.log,
            defaultParams: {
                client_id: this.clientId,
                redirect_uri: this.redirectUri
            }
        });
    }
    _setBffServerUrl(e) {
        r(o(e), `url parameter is invalid: ${ e }`), this._bffService = new O({
            serverUrl: f(e, i.BFF),
            log: this.log,
            defaultParams: {
                client_id: this.clientId,
                redirect_uri: this.redirectUri
            }
        });
    }
    _setSessionServiceUrl(e) {
        (() => {
            const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        r(o(e), `domain parameter is invalid: ${ e }`);
                    }
                }
            });
            const __exports = __callInstance23.exports;
            return __exports.data();
        })();
        const t = `sdrn:${ n[this.env] }:client:${ this.clientId }`;
        this._sessionService = new O({
            serverUrl: e,
            log: this.log,
            defaultParams: {
                client_sdrn: t,
                redirect_uri: this.redirectUri,
                sdk_version: R
            }
        });
    }
    _setGlobalSessionServiceUrl(e) {
        (() => {
            const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        r(o(e), `url parameter is invalid: ${ e }`);
                    }
                }
            });
            const __exports = __callInstance22.exports;
            return __exports.data();
        })();
        const t = `sdrn:${ n[this.env] }:client:${ this.clientId }`;
        this._globalSessionService = new O({
            serverUrl: f(e, i.SESSION_SERVICE),
            log: this.log,
            defaultParams: {
                client_sdrn: t,
                sdk_version: R
            }
        });
    }
    _emitSessionEvent(e, t) {
        t.userId && this.emit(lS(0, 62), t), e.userId && !t.userId && this.emit(lS(0, 63), t), e.userId && t.userId && e.userId !== t.userId && this.emit(lS(0, 64), t), e.userId || t.userId ? this.emit(lS(0, 65), t) : this.emit(lS(0, 66), t), t.userId && !this._sessionInitiatedSent && (this._sessionInitiatedSent = !0, this.emit(lS(0, 67), t)), e.userStatus !== t.userStatus && this.emit(lS(0, 68), t);
    }
    _closePopup() {
        this.popup && (this.popup.closed || this.popup.close(), this.popup = null);
    }
    enableVarnishCookie(e) {
        let t, s = 0;
        Number.isInteger(e) ? s = e : lS(0, 69) == typeof e && (s = e.expiresIn || s, t = e.domain || t), r(Number.isInteger(s), lS(0, 70)), r(s >= 0, lS(0, 71)), this.setVarnishCookie = !0, this.varnishExpiresIn = s, this.varnishCookieDomain = t;
    }
    _maybeSetVarnishCookie(e) {
        if (!this.setVarnishCookie)
            return;
        const t = new Date();
        (() => {
            const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            const s = this.varnishExpiresIn || e.expiresIn;
                            (() => {
                                const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            t.setTime(t.getTime() + 1000 * s);
                                        }
                                    }
                                });
                                const __exports = __callInstance21.exports;
                                return __exports.data();
                            })();
                        }
                    },
                    impFunc2: () => {
                        (() => {
                            const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        t.setTime(0);
                                    }
                                }
                            });
                            const __exports = __callInstance20.exports;
                            return __exports.data();
                        })();
                    }
                }
            });
            const __exports = __ifInstance2.exports;
            return __exports.data(this.varnishExpiresIn || lS(0, 72) == typeof e.expiresIn && e.expiresIn > 0 ? 1 : 0);
        })();
        let s = this.varnishCookieDomain || (lS(0, 73) == typeof e.baseDomain ? e.baseDomain : document.domain) || lS(0, 74);
        const i = [
            `SP_ID=${ e.sp_id }`,
            `expires=${ t.toUTCString() }`,
            lS(0, 75),
            `domain=.${ s }`
        ].join(lS(0, 76));
        document.cookie = i;
    }
    _maybeClearVarnishCookie() {
        this.setVarnishCookie && this._clearVarnishCookie();
    }
    _clearVarnishCookie() {
        const e = this._session && lS(0, 77) == typeof this._session.baseDomain ? this._session.baseDomain : document.domain;
        let t = this.varnishCookieDomain || e || lS(0, 78);
        document.cookie = `SP_ID=nothing; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=.${ t }`;
    }
    logSettings() {
        if (!this.log && !window.console)
            throw new t(lS(0, 79));
        const e = this.log || console.log, s = {
                clientId: this.clientId,
                redirectUri: this.redirectUri,
                env: this.env,
                sessionDomain: this._sessionDomain,
                sdkVersion: R
            };
        (() => {
            const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        e(`Schibsted account SDK for browsers settings: \n${ JSON.stringify(s, null, 2) }`);
                    }
                }
            });
            const __exports = __callInstance19.exports;
            return __exports.data();
        })();
    }
    hasSession() {
        if (this._isSessionCallBlocked())
            return this._session;
        if (this._hasSessionInProgress)
            return this._hasSessionInProgress;
        const e = e => {
            if (e.error)
                throw new t(lS(0, 80), e.error);
            return this._maybeSetVarnishCookie(e), this._emitSessionEvent(this._session, e), this._session = e, e;
        };
        return this._hasSessionInProgress = (async () => {
            if (this._enableSessionCaching) {
                let t = this.sessionStorageCache.get(D);
                if (t)
                    return e(t);
            }
            let t = null;
            try {
                t = await this._sessionService.get(lS(0, 81), { tabId: this._getTabId() });
            } catch (e) {
                (() => {
                    const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    const t = 1000 * (e.expiresIn || 300);
                                    (() => {
                                        const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    this.sessionStorageCache.set(D, { error: e }, t);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance18.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance3.exports;
                    return __exports.data(e && 400 === e.code && this._enableSessionCaching ? 1 : 0);
                })();
                throw e;
            }
            if (t) {
                if (((e = {}) => {
                        const t = Object.keys(e);
                        return 1 === t.length && lS(0, 82) === t[0];
                    })(t))
                    return this._blockSessionCall(), await this.callbackBeforeRedirect(), this._sessionService.makeUrl(t.redirectURL, { tabId: this._getTabId() });
                (() => {
                    const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    const e = 1000 * (t.expiresIn || 300);
                                    (() => {
                                        const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    this.sessionStorageCache.set(D, t, e);
                                                }
                                            }
                                        });
                                        const __exports = __callInstance17.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance4.exports;
                    return __exports.data(this._enableSessionCaching ? 1 : 0);
                })();
            }
            return e(t);
        })().then(e => (this._hasSessionInProgress = !1, l(e) ? this.window.location.href = e : e), e => {
            throw this.emit(lS(0, 83), e), this._hasSessionInProgress = !1, new t(lS(0, 84), e);
        }), this._hasSessionInProgress;
    }
    async isLoggedIn() {
        try {
            return lS(0, 85) in await this.hasSession();
        } catch (e) {
            return !1;
        }
    }
    clearCachedUserSession() {
        (() => {
            const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.sessionStorageCache.delete(D);
                    }
                }
            });
            const __exports = __callInstance16.exports;
            return __exports.data();
        })();
    }
    async isConnected() {
        try {
            return !!(await this.hasSession()).result;
        } catch (e) {
            return !1;
        }
    }
    async getUser() {
        const e = await this.hasSession();
        if (!e.result)
            throw new t(lS(0, 86));
        return g(e);
    }
    async getUserId() {
        const e = await this.hasSession();
        if (e.userId && e.result)
            return e.userId;
        throw new t(lS(0, 87));
    }
    async getExternalId(e, s = lS(0, 88)) {
        const {pairId: i} = await this.hasSession();
        if (!i)
            throw new t(lS(0, 89));
        if (!e || 0 === e.length)
            throw new t(lS(0, 90));
        return (async e => {
            const t = new TextEncoder().encode(e);
            return (s = t, crypto.subtle.digest(lS(0, 91), s)).then(e => {
                return t = e, Array.from(new Uint8Array(t)).map(e => e.toString(16).padStart(2, lS(0, 92))).join(lS(0, 93));
                var t;
            });
            var s;
        })(((e, t, s) => s ? `${ e }:${ t }:${ s }` : `${ e }:${ t }`)(i, e, s));
    }
    async getUserSDRN() {
        const {sdrn: e} = await this.hasSession();
        if (e)
            return e;
        throw new t(lS(0, 94));
    }
    async getUserUuid() {
        const e = await this.hasSession();
        if (e.uuid && e.result)
            return e.uuid;
        throw new t(lS(0, 95));
    }
    async getUserContextData() {
        try {
            return await this._globalSessionService.get(lS(0, 96));
        } catch (e) {
            return null;
        }
    }
    login({
        state: e,
        acrValues: t = lS(0, 97),
        scope: s = lS(0, 98),
        redirectUri: i = this.redirectUri,
        preferPopup: n = !1,
        loginHint: r = lS(0, 99),
        tag: o = lS(0, 100),
        teaser: a = lS(0, 101),
        maxAge: c = lS(0, 102),
        locale: h = lS(0, 103),
        oneStepLogin: l = !1,
        prompt: d = lS(0, 104)
    }) {
        this._closePopup(), this.sessionStorageCache.delete(D);
        const u = this.loginUrl({
            state: e,
            acrValues: t,
            scope: s,
            redirectUri: i,
            loginHint: r,
            tag: o,
            teaser: a,
            maxAge: c,
            locale: h,
            oneStepLogin: l,
            prompt: d
        });
        return n && (this.popup = U(this.window, u, lS(0, 105), {
            width: 360,
            height: 570
        }), this.popup) ? this.popup : (this.window.location.href = u, null);
    }
    async getSpId() {
        try {
            return (await this.hasSession()).sp_id || null;
        } catch (e) {
            return null;
        }
    }
    logout(e = this.redirectUri) {
        this.sessionStorageCache.delete(D), this._maybeClearVarnishCookie(), this.emit(lS(0, 106)), this.window.location.href = this.logoutUrl(e);
    }
    loginUrl({
        state: e,
        acrValues: t = lS(0, 107),
        scope: s = lS(0, 108),
        redirectUri: i = this.redirectUri,
        loginHint: n = lS(0, 109),
        tag: o = lS(0, 110),
        teaser: c = lS(0, 111),
        maxAge: h = lS(0, 112),
        locale: d = lS(0, 113),
        oneStepLogin: p = !1,
        prompt: g = lS(0, 114)
    }) {
        lS(0, 115) != typeof arguments[0] && (e = arguments[0], t = arguments[1], s = arguments[2] || s, i = arguments[3] || i, n = arguments[4] || n, o = arguments[5] || o, c = arguments[6] || c, h = isNaN(arguments[7]) ? h : arguments[7]);
        return r(!t || u(t, [
            lS(0, 116),
            lS(0, 117)
        ], !0) || t.split(lS(0, 118)).every(e => u(e, [
            lS(0, 119),
            lS(0, 120),
            lS(0, 121),
            lS(0, 122),
            lS(0, 123),
            lS(0, 124),
            lS(0, 125),
            lS(0, 126)
        ], !0)), `The acrValues parameter is not acceptable: ${ t }`), r(l(i), `loginUrl(): redirectUri must be a valid url but is ${ i }`), r(a(e), `the state parameter should be a non empty string but it is ${ e }`), this._oauthService.makeUrl(lS(0, 127), {
            response_type: 'code',
            redirect_uri: i,
            scope: s,
            state: e,
            acr_values: t,
            login_hint: n,
            tag: o,
            teaser: c,
            max_age: h,
            locale: d,
            one_step_login: p || lS(0, 128),
            prompt: t ? lS(0, 129) : g
        });
    }
    logoutUrl(e = this.redirectUri) {
        (() => {
            const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        r(l(e), lS(0, 130));
                    }
                }
            });
            const __exports = __callInstance15.exports;
            return __exports.data();
        })();
        const t = { redirect_uri: e };
        return this._sessionService.makeUrl(lS(0, 131), t);
    }
    accountUrl(e = this.redirectUri) {
        return this._spid.makeUrl(lS(0, 132), {
            response_type: 'code',
            redirect_uri: e
        });
    }
    phonesUrl(e = this.redirectUri) {
        return this._spid.makeUrl(lS(0, 133), {
            response_type: 'code',
            redirect_uri: e
        });
    }
    async showSimplifiedLoginWidget(e, s) {
        const i = await this.getUserContextData(), n = { client_id: this.clientId };
        s && s.encoding && (n.encoding = s.encoding);
        const r = this._bffService.makeUrl(lS(0, 134), n, !1), o = async e => (lS(0, 135) == typeof e.state && (e.state = await e.state()), e);
        return new Promise((n, a) => {
            if (!i || !i.display_text || !i.identifier)
                return a(new t(lS(0, 136)));
            const c = {
                displayText: i.display_text,
                env: this.env,
                clientName: i.client_name,
                clientId: this.clientId,
                providerId: i.provider_id,
                windowWidth: () => window.innerWidth,
                windowOnResize: e => {
                    window.onresize = e;
                }
            };
            s && s.locale && (c.locale = s.locale);
            const h = async () => {
                    (() => {
                        const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    this.login(Object.assign(await o(e), { loginHint: i.identifier }));
                                }
                            }
                        });
                        const __exports = __callInstance14.exports;
                        return __exports.data();
                    })();
                }, l = async () => {
                    (() => {
                        const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    this.login(Object.assign(await o(e), {
                                        loginHint: i.identifier,
                                        prompt: 'login'
                                    }));
                                }
                            }
                        });
                        const __exports = __callInstance13.exports;
                        return __exports.data();
                    })();
                }, d = () => {
                    (() => {
                        const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    this.emit(lS(0, 137));
                                }
                            }
                        });
                        const __exports = __callInstance12.exports;
                        return __exports.data();
                    })();
                }, u = () => {
                    (() => {
                        const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    this.emit(lS(0, 138));
                                }
                            }
                        });
                        const __exports = __callInstance11.exports;
                        return __exports.data();
                    })();
                };
            if (window.openSimplifiedLoginWidget)
                return window.openSimplifiedLoginWidget(c, h, l, d, u), n(!0);
            const p = document.createElement(lS(0, 139));
            p.type = lS(0, 140), p.src = r, p.onload = () => {
                window.openSimplifiedLoginWidget(c, h, l, d, u), n(!0);
            }, p.onerror = () => {
                (() => {
                    const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                a(new t(lS(0, 141)));
                            }
                        }
                    });
                    const __exports = __callInstance10.exports;
                    return __exports.data();
                })();
            }, document.getElementsByTagName(lS(0, 142))[0].appendChild(p);
        });
    }
}
var L, F, A, V, B, H = {};
function K() {
    if (V)
        return A;
    V = 1;
    return A = function () {
        if (F)
            return L;
        F = 1;
        var e = /[+/=]/g, t = /[-_]/g, s = function (t) {
                return t.replace(e, function (e) {
                    return lS(0, 143) == e ? lS(0, 144) : lS(0, 145) == e ? lS(0, 146) : lS(0, 147) == e ? lS(0, 148) : void 0;
                });
            }, i = function (e) {
                return n(e.replace(t, function (e) {
                    return lS(0, 149) == e ? lS(0, 150) : lS(0, 151) == e ? lS(0, 152) : void 0;
                }));
            }, n = function (e) {
                var t = 4 - e.length % 4;
                return 4 !== t && (e += lS(0, 153).slice(0, t)), e;
            };
        return L = function (e, t) {
            var n = {};
            return n.originalToUrl = s, n.urlToOriginal = i, n.encode = e, n.decode = t, n.encodeUrl = function (t, i) {
                return s(e(t, i));
            }, n.decodeUrl = function (e, s) {
                return t(i(e), s);
            }, n;
        }, L;
    }()(function (e, t) {
        var s = lS(0, 154), i = [];
        if (/^utf-?(8|16)$/i.test(t) || !t)
            (() => {
                const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            encodeURIComponent(e).replace(/%([0-9A-F]{2})|./g, function (e, t) {
                                (() => {
                                    const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                i.push(t ? parseInt(t, 16) : e.charCodeAt(0));
                                            }
                                        }
                                    });
                                    const __exports = __callInstance8.exports;
                                    return __exports.data();
                                })();
                            });
                        }
                    }
                });
                const __exports = __callInstance9.exports;
                return __exports.data();
            })();
        else if (lS(0, 155) === t)
            (() => {
                const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            e.replace(/[0-9A-F]{2}/gi, function (e) {
                                (() => {
                                    const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                i.push(parseInt(e, 16));
                                            }
                                        }
                                    });
                                    const __exports = __callInstance6.exports;
                                    return __exports.data();
                                })();
                            });
                        }
                    }
                });
                const __exports = __callInstance7.exports;
                return __exports.data();
            })();
        else {
            if (lS(0, 156) !== t)
                throw new Error(lS(0, 157));
            i = e;
        }
        return i.forEach(function (e) {
            var t = (lS(0, 158) + e.toString(16)).slice(-2);
            s += String.fromCharCode(lS(0, 159) + t);
        }), window[lS(0, 176, true)](s);
    }, function (e, t) {
        var s = Array.prototype.map.call(window[lS(0, 177, true)](e), function (e) {
            return e.charCodeAt(0);
        });
        if (lS(0, 160) === t)
            return s;
        if (lS(0, 161) === t)
            return s.map(function (e) {
                return (lS(0, 162) + e.toString(16)).slice(-2);
            }).join(lS(0, 163));
        if (/^utf-?(8|16)$/i.test(t) || !t)
            return decodeURIComponent(s.map(function (e) {
                return lS(0, 164) + (lS(0, 165) + e.toString(16)).slice(-2);
            }).join(lS(0, 166)));
        throw new Error(lS(0, 167));
    }), A;
}
var M = function () {
    if (B)
        return H;
    B = 1;
    var e = H && H.__importDefault || function (e) {
        return e && e.__esModule ? e : { default: e };
    };
    Object.defineProperty(H, lS(0, 168), { value: !0 }), H.encode = function (e) {
        return t.default.encode(JSON.stringify(e));
    }, H.decode = function (e) {
        return JSON.parse(t.default.decode(e));
    };
    const t = e(K());
    return H;
}();
class J {
    constructor(e, t) {
        this.trackEndpointUrl = e, this.hash = t;
    }
    track(e) {
        (() => {
            const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        window.fetch(this.trackEndpointUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ result: e })
                        }).catch(console.error);
                    }
                }
            });
            const __exports = __callInstance5.exports;
            return __exports.data();
        })();
    }
    refreshFinnSession() {
        (() => {
            const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        fetch(`/auth/refresh?hash=${ this.hash }`, { credentials: 'include' }).catch(console.error);
                    }
                }
            });
            const __exports = __callInstance4.exports;
            return __exports.data();
        })();
    }
}
class W {
    constructor(e, t) {
        this.identity = e, this.clientActions = t;
    }
    static isHasSessionFailureResponse(e) {
        return void 0 !== e.error;
    }
    refreshSpidSession() {
        (() => {
            const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.identity.hasSession().then(e => {
                            W.isHasSessionFailureResponse(e) ? this.clientActions.track(lS(0, 169)) : this.clientActions.track(lS(0, 170));
                        }).catch(e => {
                            lS(0, 171) !== e.message && console.error(e), this.clientActions.track(lS(0, 172));
                        });
                    }
                }
            });
            const __exports = __callInstance3.exports;
            return __exports.data();
        })();
    }
}
(() => {
    const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
        env: {
            impFunc: () => {
                window.addEventListener(lS(0, 173), () => {
                    const e = document.getElementById(lS(0, 174));
                    (() => {
                        const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                            env: {
                                impFunc1: () => {
                                    {
                                        const t = M.decode(e.dataset.props || lS(0, 175)), s = new J(t.trackEndpointUrl, t.hash);
                                        (() => {
                                            const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                                                env: {
                                                    impFunc: () => {
                                                        s.refreshFinnSession();
                                                    }
                                                }
                                            });
                                            const __exports = __callInstance1.exports;
                                            return __exports.data();
                                        })();
                                        (() => {
                                            const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                                env: {
                                                    impFunc: () => {
                                                        new W(new T(t.identity), s).refreshSpidSession();
                                                    }
                                                }
                                            });
                                            const __exports = __callInstance0.exports;
                                            return __exports.data();
                                        })();
                                    }
                                },
                                impFunc2: () => {
                                }
                            }
                        });
                        const __exports = __ifInstance5.exports;
                        return __exports.data((null == e ? void 0 : e.dataset.props) ? 1 : 0);
                    })();
                });
            }
        }
    });
    const __exports = __callInstance2.exports;
    return __exports.data();
})();</script>
</body>
</html>
