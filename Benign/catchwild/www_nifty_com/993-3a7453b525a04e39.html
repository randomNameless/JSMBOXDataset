<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>993-3a7453b525a04e39.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[993],{962:function(e,t,n){n.d(t,{q:function(){return o}});var a=n(3299),r=n(7294),i=n(4087);let o=()=>{let[e,t]=(0,r.useState)("disagree"),{status:n}=(0,a.useSession)(),{pointData:o}=(0,i.c)("authenticated"===n);return(0,r.useEffect)(()=>{o&&"Y"===o.agreement_flag&&[200,201].includes(o.status)?t("agree"):o&&"N"===o.agreement_flag&&[200,404].includes(o.status)?t("disagree"):t("logout")},[o]),{dockButtonState:e}}},2458:function(e,t,n){n.d(t,{a:function(){return a}});let a=(e,t)=>t.length>e?"".concat(t.slice(0,e),"..."):t},9075:function(e,t,n){n.d(t,{f:function(){return r}});var a=n(7294);let r=e=>({maxLevelEarthquake:(0,a.useMemo)(()=>{let t=new Date;return e&&e.filter(e=>new Date(e.time).getTime()+18e5>t.getTime()).sort((e,t)=>t.quakeLevelNum-e.quakeLevelNum)[0]||null},[e])})},1786:function(e,t,n){n.d(t,{e:function(){return l}});var a=n(3299),r=n(7294),i=n(9667),o=n(9345);let l=()=>{let{data:e,status:t}=(0,a.useSession)(),n="loading"===t,[l,u]=(0,r.useMemo)(()=>{if("authenticated"===t){var n;let t=null==e?void 0:e.user,a=(0,o.i)(null==t?void 0:t.image),r=null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",i=(null==a?void 0:a.pleasyid)?"".concat(r,"(").concat(a.pleasyid.length<=16?a.pleasyid:"".concat(a.pleasyid.slice(0,15),"..."),")"):r;return[r.toLowerCase(),i.toLowerCase()]}return["",""]},[e,t]);return{isLoggedIn:(0,r.useMemo)(()=>"authenticated"===t,[t]),isLoading:n,logoutHandller:(0,r.useCallback)(async()=>{(0,i.S5)(),await (0,a.signOut)({callbackUrl:"".concat("https://sso.nifty.com","/pub/logout.cgi?service=").concat("topprod","&back=").concat("https://www.nifty.com")})},[]),loginHandller:(0,r.useCallback)(async()=>{await (0,a.signIn)("nifty",{callbackUrl:"https://www.nifty.com"})},[]),niftyId:l,userName:u}}},6627:function(e,t,n){n.d(t,{i:function(){return r}});var a=n(3299);let r=()=>{let{status:e}=(0,a.useSession)();return{isLoggedIn:"authenticated"===e}}},9781:function(e,t,n){n.d(t,{F:function(){return i}});var a=n(7294),r=n(1299);let i=()=>{let{selectedNewsTab:e,setNewsTab:t}=(0,r.a)(),[n,i]=(0,a.useState)(e);return(0,a.useEffect)(()=>{i(e||"topics")},[e]),{selectedNewsTabName:n,handleClickNewsTab:(0,a.useCallback)(e=>{i(e),t(e)},[i,t])}}},5953:function(e,t,n){n.d(t,{y:function(){return y}});var a=n(3299),r=n(7294),i=n(8767),o=n(2937),l=n(5485);l.z.object({updatedAt:l.z.string(),openedAt:l.z.string(),startDate:l.z.string(),endDate:l.z.string(),bonusDay:l.z.array(l.z.number())});let u=l.z.array(l.z.object({point:l.z.nullable(l.z.number()),challenge:l.z.nullable(l.z.number()),challenge_date:l.z.nullable(l.z.string()),type:l.z.string(),meridian:l.z.string()})),s=l.z.object({held:l.z.string().optional(),challenge:l.z.string().optional(),returnResult:l.z.union([u,l.z.string()]).optional(),mode:l.z.string().optional(),result:l.z.string()});l.z.object({updatedAt:l.z.string(),startDate:l.z.string(),endDate:l.z.string()});let c=l.z.union([l.z.literal("ok"),l.z.literal("error"),l.z.literal("outOfPeriod"),l.z.literal("maintenance"),l.z.literal("challengeResultError"),l.z.literal("unauthorized")]),d=s.merge(l.z.object({result:c,returnResult:u.or(l.z.null()).optional(),isPleasy:l.z.boolean().or(l.z.null()),isAgreeNPC:l.z.boolean().or(l.z.null()),message:l.z.string().optional()}));l.z.object({updatedAt:l.z.string(),campaignStartDate:l.z.string(),campaignEndDate:l.z.string()}),l.z.union([l.z.literal("pc"),l.z.literal("sp")]);var g=n(2778),m=n(1958);let z=async e=>{let t="/api/nifkujiChallengeResults?tableFlg=".concat(e),n=await o.ZP.get(t,(0,m.SH)()).catch(e=>{throw g.b$.error({msg:{id:"NIFKUJI-PUBLIC-CHALLENGE-RESULTS-001",body:"データ取得先が不正です。",detail:e.message,path:t}}),e});200!==n.status&&g.b$.error({msg:{id:"NIFKUJI-PUBLIC-CHALLENGE-RESULTS-002",body:"APIからのステータス: ".concat(n.status,"レスポンスエラーが返ってきました。"),detail:n.statusText,path:t}});try{let e=await n.json();return d.parse(e)}catch(e){throw g.b$.error({msg:{id:"NIFKUJI-PUBLIC-CHALLENGE-RESULTS-003",body:"不正なデータ形式です。",detail:e.message,path:t}}),e}},b=(e,t,n,a,r)=>{let{data:o,error:l,isLoading:u,isSuccess:s,isError:c,isIdle:d,refetch:g}=(0,i.useQuery)(["nifkuji"],()=>z(r),{retry:!1,enabled:e&&t&&!n&&a});return{nifkujiResult:o,error:l,isLoading:u,isSuccess:s,isError:c,isIdle:d,refetch:g}},p=(e,t)=>{let n=new Date(e?e.startDate:""),a=new Date(e?e.endDate:"");return n.getTime()<=t.getTime()&&a.getTime()>=t.getTime()},f=(e,t)=>{let n=new Date(e?e.startDate:""),a=new Date(e?e.endDate:"");return n.getTime()<=t.getTime()&&a.getTime()>=t.getTime()},h=(e,t)=>{let n=new Date(e?e.campaignStartDate:""),a=new Date(e?e.campaignEndDate:"");return n.getTime()<=t.getTime()&&a.getTime()>=t.getTime()},y=(e,t,n,i,o)=>{let l=(0,r.useMemo)(()=>new Date(Date.now()),[]),u=(0,r.useMemo)(()=>e&&e.length>0?e[0]:void 0,[e]),s=h(t?t[0]:void 0,l),c=(0,r.useMemo)(()=>f(n,l),[n,l]),d=(0,r.useMemo)(()=>p(u,l),[u,l]),{status:g}=(0,a.useSession)(),m="loading"===g,[z,y]=(0,r.useState)("logout"),{nifkujiResult:T,isLoading:w,isError:D}=b("authenticated"===g,d,c,!!i,o),S=(0,r.useMemo)(()=>(null==T?void 0:T.result)==="challengeResultError",[T]);return(0,r.useEffect)(()=>{c||(null==T?void 0:T.result)==="maintenance"?y("maintenance"):u&&n&&i?d&&(null==T?void 0:T.result)!=="outOfPeriod"?D||T&&["error"].includes(T.result)?y("error"):T&&"authenticated"===g&&"unauthorized"!==T.result?"challengeResultError"===T.result?y("challengeResultError"):T.isPleasy?y("login"):T.isAgreeNPC?T.challenge&&!["0","1"].includes(T.challenge)?y("challenged"):u.bonusDay.includes(l.getDate())?22===l.getDate()?y("bonus22"):y("bonus"):s?y("campaign"):y("login"):y("login"):u.bonusDay.includes(l.getDate())?22===l.getDate()?y("bonus22Logout"):y("bonusLogout"):s?y("campaignLogout"):y("logout"):y("outOfPeriod"):y("error")},[w,D,T,e,g,l,u,d,c,s,i,n]),{nifkujiState:z,isLoading:m,isChallengeResultError:S}}},3926:function(e,t,n){n.d(t,{b:function(){return o}});var a=n(3299),r=n(7294),i=n(6811);let o=(e,t,n,o)=>{let l=(0,r.useMemo)(()=>new Date(Date.now()),[]),u=(0,r.useMemo)(()=>{let t=new Date(e?e.openDate:""),n=new Date(e?e.closeDate:"");return t.getTime()<=l.getTime()&&n.getTime()>=l.getTime()},[l,e]),s=(0,r.useMemo)(()=>{let e=new Date(t?t.startDate:""),n=new Date(t?t.endDate:"");return e.getTime()<=l.getTime()&&n.getTime()>=l.getTime()},[l,t]),{data:c,status:d}=(0,a.useSession)(),g="authenticated"===d,{isError:m}=(0,i.p)(g,!!n,u,o),[z,b]=(0,r.useState)("logout");return(0,r.useEffect)(()=>{s?b("maintenance"):e&&void 0!==t&&n?u?m||!n?b("error"):g?b("login"):b("logout"):b("outOfTerm"):b("error")},[c,u,n,l,e,m,g,t,s]),{takarabakoState:z,isPeriodOfTakarabako:u}}},3189:function(e,t,n){n.d(t,{N:function(){return u}});var a=n(6489),r=n(5485);let i=r.z.union([r.z.literal(1),r.z.literal(2),r.z.literal(3),r.z.literal(4),r.z.literal(5),r.z.literal(6),r.z.literal(7),r.z.literal(8),r.z.literal(9),r.z.literal(10),r.z.literal(11),r.z.literal(12)]);r.z.object({totalRanking:r.z.number().int().min(1).max(12),constellation:i,constellationName:r.z.string()});var o=n(2778);let l=()=>{try{let e=(0,a.parse)(document.cookie).constellation;return o.b$.debug({msg:{id:"URANAI-GET-COOKIE-001",body:"cookie設定値",detail:e,path:URL}}),i.parse(Number(e))}catch(e){return}},u=e=>{let t=l();return{constellationData:e.find(e=>e.constellation===t)}}},1242:function(e,t,n){n.d(t,{g:function(){return r}});var a=n(7294);let r=()=>{let[e,t]=(0,a.useState)(0),[n,r]=(0,a.useState)(0),i=(0,a.useMemo)(()=>9===e,[e]);(0,a.useEffect)(()=>{if(n>3e5||n<1e3)return;let e=setTimeout(()=>r(n-1e3),1e3);return()=>clearTimeout(e)},[n]);let o=(0,a.useMemo)(()=>!(n>3e5)&&!(n<1e3),[n]),l=(0,a.useMemo)(()=>{if(i||n<1e3||n>=3e5)return null;let e=Math.floor(n/6e4),t=Math.floor((n-6e4*e)/1e3),a="";return e>0&&t>0&&t-1<0&&e>0&&(e-=1,t=59),t<10&&(a="0"),{minStr:e.toString(),secStr:"".concat(a).concat(t)}},[n,i]),u=(0,a.useMemo)(()=>{if(i)return"_end";if(n<1e3||n>=3e5)return"_max";if(n<3e5){let e=5-Math.floor(n/6e4);return 0===e?"1":e.toString()}return""},[n]);return{timer:n,timerStr:l,inProgress:o,gaugeImageName:u,isCollectAll:i,setQuantity:t,setProgressTime:(e,t)=>{void 0!==e&&void 0!==t&&r(3e5-(e-t))}}}},9667:function(e,t,n){n.d(t,{Cf:function(){return d},S5:function(){return s},sS:function(){return c}});var a=n(6489);let r="__LM_P_TON",i="__LM_AGRT_F",o="__LM_UID_ST",l="isPointPopupDisplay",u=".nifty.com",s=()=>{document.cookie="".concat(r,"=;domain=").concat(u,";Max-Age=-1;"),document.cookie="".concat(i,"=;domain=").concat(u,";Max-Age=-1;"),document.cookie="".concat(o,"=;domain=").concat(u,";Max-Age=-1;")};(0,a.serialize)(r,"",{maxAge:-1,path:"/",domain:u}),(0,a.serialize)(i,"",{maxAge:-1,path:"/",domain:u}),(0,a.serialize)(o,"",{maxAge:-1,path:"/",domain:u});let c=()=>{let e="".concat(l,"=false;Max-Age=").concat(86400,";secure;");document.cookie=e},d=()=>"false"!==(0,a.parse)(document.cookie)[l]},8682:function(e,t,n){n.d(t,{i:function(){return c}});var a=n(8767),r=n(2937),i=n(5485);let o=i.z.object({mail_address:i.z.string(),unseen_count:i.z.number().int(),new_count:i.z.number().int(),last_time:i.z.number().int()});var l=n(2778),u=n(1958);let s=async()=>{let e="/api/mailCounts",t=await r.ZP.get(e,(0,u.SH)()).catch(t=>{throw l.b$.error({msg:{id:"MAIL-COUNTS-PUBLIC-001",body:"データ取得先が不正です。",detail:t.message,path:e}}),t});if(!t.ok)throw l.b$.error({msg:{id:"MAIL-COUNTS-PUBLIC-002",body:"APIからのステータス: ".concat(t.status,"レスポンスエラーが返ってきました。"),detail:t.statusText,path:e}}),Error(t.statusText);try{let e=await t.json();return o.parse(e)}catch(t){throw l.b$.error({msg:{id:"MAIL-COUNTS-PUBLIC-003",body:"不正なデータ形式です。",detail:t.message,path:e}}),t}},c=(e,t)=>{let{data:n,error:r,isLoading:i,isSuccess:o,isError:l,isIdle:u,refetch:c}=(0,a.useQuery)(["mailCounts"],()=>s(),{retry:!1,enabled:e&&t});return{mailCounts:null==n?void 0:n.unseen_count,error:r,isLoading:i,isSuccess:o,isError:l,isIdle:u,refetch:c}}},1299:function(e,t,n){n.d(t,{a:function(){return l}});var a=n(8767);let r="newsTab",i=()=>new Promise(e=>{var t;e(null!==(t=localStorage.getItem(r))&&void 0!==t?t:"topics")}),o=e=>new Promise(t=>{localStorage.setItem(r,e),t()}),l=()=>{let e="newsTabName",t=(0,a.useQueryClient)(),{data:n,error:r,isLoading:l,isSuccess:u,isError:s,isFetching:c}=(0,a.useQuery)([e],()=>i()),{mutate:d,isLoading:g}=(0,a.useMutation)(e=>o(e),{onSuccess:()=>t.invalidateQueries(e)});return{selectedNewsTab:n,setNewsTab:d,error:r,isLoading:l,isSuccess:u,isError:s,isFetchingGet:c,isLoadingSet:g}}},4087:function(e,t,n){n.d(t,{c:function(){return c}});var a=n(8767),r=n(2937),i=n(5485);let o=i.z.object({status:i.z.number(),msg:i.z.string(),memberid:i.z.string(),point:i.z.number(),tpoint:i.z.number(),expirationdate:i.z.string(),agreement_flag:i.z.string()});o.omit({msg:!0,memberid:!0});var l=n(2778),u=n(1958);let s=async()=>{let e="/api/point",t=await r.ZP.get(e,(0,u.SH)()).catch(t=>{throw l.b$.error({msg:{id:"NEXTAPI-POINT-001",body:"データ取得先が不正です。",detail:t.message,path:e}}),t});if(!t.ok)throw l.b$.error({msg:{id:"NEXTAPI-POINT-002",body:"APIからのステータス: ".concat(t.status,"レスポンスエラーが返ってきました。"),detail:t.statusText,path:e}}),Error(t.statusText);try{let e=await t.json();return o.parse(e)}catch(t){throw l.b$.error({msg:{id:"NEXTAPI-POINT-003",body:"不正なデータ形式です。",detail:t.message,path:e}}),t}},c=e=>{let{data:t,error:n,isLoading:r,isSuccess:i,isError:o,refetch:l}=(0,a.useQuery)(["pointData"],()=>s(),{retry:!1,enabled:e});return{pointData:t,error:n,isLoading:r,isSuccess:i,isError:o,refetch:l}}},6811:function(e,t,n){n.d(t,{p:function(){return d}});var a=n(8767),r=n(2937),i=n(5485);let o=i.z.nullable(i.z.object({filename:i.z.string(),name:i.z.string(),positionList:i.z.array(i.z.number())})),l=i.z.object({lastPickTime:i.z.number(),quantity:i.z.number(),pieces:o,nowTime:i.z.number(),result:i.z.number()});i.z.object({updatedAt:i.z.string(),title:i.z.string(),openDate:i.z.string(),closeDate:i.z.string(),maxPrize:i.z.string()}),i.z.object({updatedAt:i.z.string(),startDate:i.z.string(),endDate:i.z.string()}),i.z.union([i.z.literal("pc"),i.z.literal("smp")]);var u=n(2778),s=n(1958);let c=async e=>{let t="/api/takarabakoUserInfo?mode=".concat(e),n=await r.ZP.get(t,(0,s.SH)()).catch(e=>{throw u.b$.error({msg:{id:"NEXTAPI-TAKARABAKO-USER-INFO-PUBLIC-001",body:"データ取得先が不正です。",detail:e.message,path:t}}),e});if(!n.ok)throw u.b$.error({msg:{id:"NEXTAPI-TAKARABAKO-USER-INFO-PUBLIC-002",body:"APIからのステータス: ".concat(n.status,"レスポンスエラーが返ってきました。"),detail:n.statusText,path:t}}),Error(n.statusText);try{let e=await n.json();return l.parse(e)}catch(e){throw u.b$.error({msg:{id:"NEXTAPI-TAKARABAKO-USER-INFO-PUBLIC-003",body:"不正なデータ形式です。",detail:e.message,path:t}}),e}},d=(e,t,n,r)=>{let{data:i,error:o,isLoading:l,isSuccess:u,isError:s,isIdle:d,refetch:g}=(0,a.useQuery)(["takarabakoUserInfo"],()=>c(r),{retry:!1,enabled:e&&t&&n});return{takarabakoUserInfo:i,error:o,isLoading:l,isSuccess:u,isError:s,isIdle:d,refetch:g}}},9345:function(e,t,n){n.d(t,{i:function(){return i}});var a=n(9792),r=n(2778);let i=e=>{try{let t=a.c.parse(JSON.parse(null!=e?e:""));return r.b$.debug({msg:{id:"USERIMAGE-SESSION-INFO-001",body:"sessionデータ構造",detail:t,path:URL}}),t}catch(e){return r.b$.error({msg:{id:"USERIMAGE-SESSION-ERROR-001",body:"不正なデータ形式です。",detail:e.message,path:URL}}),{type:-1,pleasyid:"",birthday:""}}}},9792:function(e,t,n){n.d(t,{c:function(){return r}});var a=n(5485);let r=a.z.object({type:a.z.number(),pleasyid:a.z.string(),birthday:a.z.string(),isCorp:a.z.boolean().optional(),isCombo:a.z.boolean().optional(),isGetMail:a.z.boolean().optional()})},3659:function(e,t,n){n.d(t,{qb:function(){return r},zx:function(){return i}});var a=n(2772);let r=e=>(0,a.Z)(e,"YYYYMMDD",!0).isValid(),i=(e,t,n)=>t.isBefore(e)&&n.isAfter(e)},2772:function(e,t,n){var a=n(7484),r=n.n(a);n(6831);var i=n(285),o=n.n(i),l=n(9387),u=n.n(l),s=n(178),c=n.n(s);r().extend(c()),r().extend(u()),r().extend(o()),r().locale("ja"),r().tz.setDefault("Asia/Tokyo"),t.Z=r()},1958:function(e,t,n){n.d(t,{SH:function(){return r}});let a={timeout:1e4,retry:{limit:1}},r=e=>({...a,...e})},2521:function(e,t,n){n.d(t,{L:function(){return r},U:function(){return a}});let a=(e,t)=>!Number.isNaN(e)&&(t-e)/6e4<=90,r={topics:{jp:"注目",en:"topics"},entame:{jp:"芸能",en:"entame"},sports:{jp:"スポーツ",en:"sports"},domestic:{jp:"国内",en:"domestic"},item:{jp:"ネタ",en:"item"},world:{jp:"海外",en:"world"},economy:{jp:"経済",en:"economy"},technology:{jp:"IT・テク",en:"technology"}}},8619:function(e,t,n){n.d(t,{jL:function(){return i},uD:function(){return l},vR:function(){return o}});var a=n(3659),r=n(2772);let i=(e,t)=>{let n=new Date(e?e.campaignStartAt:""),a=new Date(e?e.campaignEndAt:"");return n.getTime()<=t.getTime()&&a.getTime()>=t.getTime()},o=(e,t)=>{if(!e)return!1;let n=(0,r.Z)(e.maintenanceStartDate),i=(0,r.Z)(e.maintenanceEndDate);return(0,a.zx)((0,r.Z)(t),n,i)},l=(e,t)=>{if(!e)return"error";let n=(0,r.Z)();if(t&&o(t,n))return"maintenance";let{banners:a}=e;return i(e,n.toDate())?"campaign":a.some(e=>e.timing===n.date().toString())?"bonus":"normal"}}}]);
</script>

</body>
</html>
