<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>mapshaper-shapefile.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEG9YCAgAAUfwBBAQt/AEEKC38AQRQLfwBBHAt/AEHAAAt/AEHwAAt/AEGgAQt/AEGoAQt/AEG+AQt/AEHUAQt/AEHaAQt/AEHgAQt/AEHmAQt/AEHyAQt/AEH4AQt/AEGAAgt/AEGGAgt/AEHMAgt/AEGeAwt/AEHaAwsHtIGAgAAVBm1lbW9yeQIABWRhdGEwAwAFZGF0YTEDAQVkYXRhMgMCBWRhdGEzAwMFZGF0YTQDBAVkYXRhNQMFBWRhdGE2AwYFZGF0YTcDBwVkYXRhOAMIBWRhdGE5AwkGZGF0YTEwAwoGZGF0YTExAwsGZGF0YTEyAwwGZGF0YTEzAw0GZGF0YTE0Aw4GZGF0YTE1Aw8GZGF0YTE2AxAGZGF0YTE3AxEGZGF0YTE4AxIGZGF0YTE5AxMLxISAgAAUAEEBCwhwb2x5Z29uAABBCgsJcG9seWxpbmUAAEEUCwZwb2ludAAAQRwLIlVuc3VwcG9ydGVkJTIwU2hhcGVmaWxlJTIwdHlwZSUzQQAAQcAACy5XYXJuaW5nJTNBJTIwWiUyMGRhdGElMjBpcyUyMGJlaW5nJTIwcmVtb3ZlZC4AAEHwAAsuV2FybmluZyUzQSUyME0lMjBkYXRhJTIwaXMlMjBiZWluZyUyMHJlbW92ZWQuAABBoAELBnBvaW50AABBqAELFUV4cG9ydCUyMC5zaHAlMjBmaWxlAABBvgELFUV4cG9ydCUyMC5kYmYlMjBmaWxlAABB1AELBS5zaHAAAEHaAQsFLnNoeAAAQeABCwUuZGJmAABB5gELCnNoYXBlZmlsZQAAQfIBCwRwcmoAAEH4AQsGdXRmLTgAAEGAAgsFLnByagAAQYYCC0QlNUJleHBvcnRTaHBBbmRTaHgoKSU1RCUyMFVuYWJsZSUyMHRvJTIwZXhwb3J0JTIwZ2VvbWV0cnklMjB0eXBlJTNBAABBzAILUCU1QmV4cG9ydFNocFJlY29yZCgpJTVEJTIwVHJpZWQlMjB0byUyMGV4cG9ydCUyMG11bHRpcGxlJTIwcGF0aHMlMjBhcyUyMHR5cGUlM0EAAEGeAws7U2hwJTIwcmVjb3JkJTIwcG9pbnQlMjBjb3VudCUyMG1pc21hdGNoJTNCJTIwcG9pbnRDb3VudCUzQQAAQdoDCxNkYXRhLnBvaW50Q291bnQlM0EA'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
MapShaper.translateShapefileType = function (shpType) {
    if (utils.contains([
            ShpType.POLYGON,
            ShpType.POLYGONM,
            ShpType.POLYGONZ
        ], shpType)) {
        return lS(0, 0);
    } else if (utils.contains([
            ShpType.POLYLINE,
            ShpType.POLYLINEM,
            ShpType.POLYLINEZ
        ], shpType)) {
        return lS(0, 1);
    } else if (utils.contains([
            ShpType.POINT,
            ShpType.POINTM,
            ShpType.POINTZ,
            ShpType.MULTIPOINT,
            ShpType.MULTIPOINTM,
            ShpType.MULTIPOINTZ
        ], shpType)) {
        return lS(0, 2);
    }
    return null;
};
MapShaper.getShapefileType = function (type) {
    if (type === null)
        return ShpType.NULL;
    return {
        polygon: ShpType.POLYGON,
        polyline: ShpType.POLYLINE,
        point: ShpType.MULTIPOINT
    }[type] || null;
};
MapShaper.importShp = function (src, opts) {
    var reader = new ShpReader(src);
    var shpType = reader.type();
    var type = MapShaper.translateShapefileType(shpType);
    (() => {
        const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance32 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        stop(lS(0, 3), shpType);
                                    }
                                }
                            });
                            const __exports = __callInstance32.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance0.exports;
        return __exports.data(!type ? 1 : 0);
    })();
    (() => {
        const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance31 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        verbose(lS(0, 4));
                                    }
                                }
                            });
                            const __exports = __callInstance31.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    (() => {
                        const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                            env: {
                                impFunc1: () => {
                                    {
                                        (() => {
                                            const __callInstance30 = new WebAssembly.Instance(__callWasmModule, {
                                                env: {
                                                    impFunc: () => {
                                                        verbose(lS(0, 5));
                                                    }
                                                }
                                            });
                                            const __exports = __callInstance30.exports;
                                            return __exports.data();
                                        })();
                                    }
                                },
                                impFunc2: () => {
                                }
                            }
                        });
                        const __exports = __ifInstance2.exports;
                        return __exports.data(ShpType.isMType(shpType) ? 1 : 0);
                    })();
                }
            }
        });
        const __exports = __ifInstance1.exports;
        return __exports.data(ShpType.isZType(shpType) ? 1 : 0);
    })();
    var importer = new PathImporter(opts);
    (() => {
        const __callInstance29 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    reader.forEachShape(function (shp) {
                        (() => {
                            const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        importer.startShape();
                                    }
                                }
                            });
                            const __exports = __callInstance28.exports;
                            return __exports.data();
                        })();
                        if (shp.isNull)
                            return;
                        (() => {
                            const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            importer.importPoints(shp.readPoints());
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance27.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            var xy = shp.readXY(), parts = shp.readPartSizes(), start = 0, len;
                                            (() => {
                                                var i = 0;
                                                const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return i < parts.length ? 1 : 0;
                                                        },
                                                        update: () => {
                                                            i++;
                                                        },
                                                        body: () => {
                                                            {
                                                                len = parts[i] * 2;
                                                                (() => {
                                                                    const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                importer.importPathFromFlatArray(xy, type, len, start);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance26.exports;
                                                                    return __exports.data();
                                                                })();
                                                                start += len;
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance0.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance3.exports;
                            return __exports.data(type == lS(0, 6) ? 1 : 0);
                        })();
                    });
                }
            }
        });
        const __exports = __callInstance29.exports;
        return __exports.data();
    })();
    return importer.done();
};
MapShaper.exportShapefile = function (dataset, opts) {
    var files = [];
    (() => {
        const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    dataset.layers.forEach(function (layer) {
                        var data = layer.data, name = layer.name, obj, dbf;
                        (() => {
                            const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        T.start();
                                    }
                                }
                            });
                            const __exports = __callInstance24.exports;
                            return __exports.data();
                        })();
                        obj = MapShaper.exportShpAndShx(layer, dataset.arcs);
                        (() => {
                            const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        T.stop(lS(0, 7));
                                    }
                                }
                            });
                            const __exports = __callInstance23.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        T.start();
                                    }
                                }
                            });
                            const __exports = __callInstance22.exports;
                            return __exports.data();
                        })();
                        data = layer.data;
                        (() => {
                            const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            data = new DataTable(layer.shapes.length);
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance4.exports;
                            return __exports.data(!data || opts.cut_table || opts.drop_table ? 1 : 0);
                        })();
                        (() => {
                            const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            data.addIdField();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance21.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance5.exports;
                            return __exports.data(data.getFields().length === 0 ? 1 : 0);
                        })();
                        dbf = data.exportAsDbf(opts.encoding);
                        (() => {
                            const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        T.stop(lS(0, 8));
                                    }
                                }
                            });
                            const __exports = __callInstance20.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        files.push({
                                            content: obj.shp,
                                            filename: name + lS(0, 9)
                                        }, {
                                            content: obj.shx,
                                            filename: name + lS(0, 10)
                                        }, {
                                            content: dbf,
                                            filename: name + lS(0, 11)
                                        });
                                    }
                                }
                            });
                            const __exports = __callInstance19.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            var prjFile = utils.replaceFileExtension(dataset.info.input_files[0], lS(0, 13));
                                            (() => {
                                                const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                files.push({
                                                                                    content: cli.readFile(prjFile, lS(0, 14)),
                                                                                    filename: name + lS(0, 15)
                                                                                });
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance18.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance7.exports;
                                                return __exports.data(cli.isFile(prjFile) ? 1 : 0);
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance6.exports;
                            return __exports.data(Env.inNode && dataset.info.input_files && dataset.info.input_format == lS(0, 12) ? 1 : 0);
                        })();
                    });
                }
            }
        });
        const __exports = __callInstance25.exports;
        return __exports.data();
    })();
    return files;
};
MapShaper.exportShpAndShx = function (layer, arcData) {
    var geomType = layer.geometry_type;
    var shpType = MapShaper.getShapefileType(geomType);
    (() => {
        const __ifInstance8 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        error(lS(0, 16), geomType);
                                    }
                                }
                            });
                            const __exports = __callInstance17.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance8.exports;
        return __exports.data(shpType === null ? 1 : 0);
    })();
    var fileBytes = 100;
    var bounds = new Bounds();
    var shapeBuffers = layer.shapes.map(function (shape, i) {
        var pathData = MapShaper.exportPathData(shape, arcData, geomType);
        var rec = MapShaper.exportShpRecord(pathData, i + 1, shpType);
        fileBytes += rec.buffer.byteLength;
        (() => {
            const __ifInstance9 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        (() => {
                            const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bounds.mergeBounds(rec.bounds);
                                    }
                                }
                            });
                            const __exports = __callInstance16.exports;
                            return __exports.data();
                        })();
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance9.exports;
            return __exports.data(rec.bounds ? 1 : 0);
        })();
        return rec.buffer;
    });
    var shpBin = new BinArray(fileBytes, false).writeInt32(9994).skipBytes(5 * 4).writeInt32(fileBytes / 2).littleEndian().writeInt32(1000).writeInt32(shpType);
    (() => {
        const __ifInstance10 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        (() => {
                            const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        shpBin.writeFloat64(bounds.xmin || 0).writeFloat64(bounds.ymin || 0).writeFloat64(bounds.xmax || 0).writeFloat64(bounds.ymax || 0);
                                    }
                                }
                            });
                            const __exports = __callInstance15.exports;
                            return __exports.data();
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        (() => {
                            const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        shpBin.skipBytes(4 * 8);
                                    }
                                }
                            });
                            const __exports = __callInstance14.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __ifInstance10.exports;
        return __exports.data(bounds.hasBounds() ? 1 : 0);
    })();
    (() => {
        const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    shpBin.skipBytes(4 * 8);
                }
            }
        });
        const __exports = __callInstance13.exports;
        return __exports.data();
    })();
    var shxBytes = 100 + shapeBuffers.length * 8;
    var shxBin = new BinArray(shxBytes, false).writeBuffer(shpBin.buffer(), 100).position(24).bigEndian().writeInt32(shxBytes / 2).position(100);
    (() => {
        const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    shapeBuffers.forEach(function (buf, i) {
                        var shpOff = shpBin.position() / 2, shpSize = (buf.byteLength - 8) / 2;
                        (() => {
                            const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        shxBin.writeInt32(shpOff);
                                    }
                                }
                            });
                            const __exports = __callInstance11.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        shxBin.writeInt32(shpSize);
                                    }
                                }
                            });
                            const __exports = __callInstance10.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        shpBin.writeBuffer(buf);
                                    }
                                }
                            });
                            const __exports = __callInstance9.exports;
                            return __exports.data();
                        })();
                    });
                }
            }
        });
        const __exports = __callInstance12.exports;
        return __exports.data();
    })();
    var shxBuf = shxBin.buffer(), shpBuf = shpBin.buffer();
    return {
        shp: shpBuf,
        shx: shxBuf
    };
};
MapShaper.exportShpRecord = function (data, id, shpType) {
    var bounds = null, bin = null;
    (() => {
        const __ifInstance11 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    {
                        var multiPart = ShpType.isMultiPartType(shpType), partIndexIdx = 52, pointsIdx = multiPart ? partIndexIdx + 4 * data.pathCount : 48, recordBytes = pointsIdx + 16 * data.pointCount, pointCount = 0;
                        bounds = data.bounds;
                        bin = new BinArray(recordBytes, false).writeInt32(id).writeInt32((recordBytes - 8) / 2).littleEndian().writeInt32(shpType).writeFloat64(bounds.xmin).writeFloat64(bounds.ymin).writeFloat64(bounds.xmax).writeFloat64(bounds.ymax);
                        (() => {
                            const __ifInstance12 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        {
                                            (() => {
                                                const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            bin.writeInt32(data.pathCount);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance8.exports;
                                                return __exports.data();
                                            })();
                                        }
                                    },
                                    impFunc2: () => {
                                        {
                                            (() => {
                                                const __ifInstance13 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                error(lS(0, 17), shpType);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance7.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance13.exports;
                                                return __exports.data(data.pathData.length > 1 ? 1 : 0);
                                            })();
                                        }
                                    }
                                }
                            });
                            const __exports = __ifInstance12.exports;
                            return __exports.data(multiPart ? 1 : 0);
                        })();
                        (() => {
                            const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        bin.writeInt32(data.pointCount);
                                    }
                                }
                            });
                            const __exports = __callInstance6.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        data.pathData.forEach(function (path, i) {
                                            (() => {
                                                const __ifInstance14 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                bin.position(partIndexIdx + i * 4).writeInt32(pointCount);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance4.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance14.exports;
                                                return __exports.data(multiPart ? 1 : 0);
                                            })();
                                            (() => {
                                                const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            bin.position(pointsIdx + pointCount * 16);
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance3.exports;
                                                return __exports.data();
                                            })();
                                            var points = path.points;
                                            (() => {
                                                var j = 0, len = points.length;
                                                const __forInstance1 = new WebAssembly.Instance(__forWasmModule, {
                                                    env: {
                                                        test: () => {
                                                            return j < len ? 1 : 0;
                                                        },
                                                        update: () => {
                                                            j++;
                                                        },
                                                        body: () => {
                                                            {
                                                                (() => {
                                                                    const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                bin.writeFloat64(points[j][0]);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance2.exports;
                                                                    return __exports.data();
                                                                })();
                                                                (() => {
                                                                    const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                bin.writeFloat64(points[j][1]);
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance1.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        }
                                                    }
                                                });
                                                const __exports = __forInstance1.exports;
                                                return __exports.data();
                                            })();
                                            pointCount += j;
                                        });
                                    }
                                }
                            });
                            const __exports = __callInstance5.exports;
                            return __exports.data();
                        })();
                        (() => {
                            const __ifInstance15 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        (() => {
                                            const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                                env: {
                                                    impFunc: () => {
                                                        error(lS(0, 18), pointCount, lS(0, 19), data.pointCount);
                                                    }
                                                }
                                            });
                                            const __exports = __callInstance0.exports;
                                            return __exports.data();
                                        })();
                                    },
                                    impFunc2: () => {
                                    }
                                }
                            });
                            const __exports = __ifInstance15.exports;
                            return __exports.data(data.pointCount != pointCount ? 1 : 0);
                        })();
                    }
                },
                impFunc2: () => {
                    {
                        bin = new BinArray(12, false).writeInt32(id).writeInt32(2).littleEndian().writeInt32(0);
                    }
                }
            }
        });
        const __exports = __ifInstance11.exports;
        return __exports.data(data.pointCount > 0 ? 1 : 0);
    })();
    return {
        bounds: bounds,
        buffer: bin.buffer()
    };
};</script>
</body>
</html>
