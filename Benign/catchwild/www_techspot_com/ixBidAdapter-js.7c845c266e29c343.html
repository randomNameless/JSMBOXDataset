<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ixBidAdapter-js.7c845c266e29c343.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunkbordeaux=self.webpackChunkbordeaux||[]).push([["1557"],{34498:function(e,t,r){r.d(t,{CS:function(){return p},J$:function(){return f},aE:function(){return u},aj:function(){return l},ky:function(){return c}});var n=r(4511),i=r(36621),a=r(86547),o=r(31232),d=r(12827),s=r(92618);function p(e){return function(t){return(0,d.Uv)(t,e)}}function u(e){var t;return(0,d.T9)()&&(t=(0,o.sE)(window.googletag.pubads().getSlots(),p(e))),t}function c(e){var t=u(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}var f=["IAB_AUDIENCE_1_1","IAB_CONTENT_2_2"];function l(e){return Object.entries((0,i.Z)((0,i.Z)({},f[0],m(e,["user.data"],4)),f[1],m(e,a.Iq.map(function(e){return"".concat(e,".content.data")}),6))).map(function(e){var t=(0,n.Z)(e,2),r=t[0],i=t[1];return i.length?{taxonomy:r,values:i}:null}).filter(function(e){return e})}function m(e,t,r){return t.flatMap(function(t){return(0,s.Z)(e,t)||[]}).filter(function(e){var t;return(null===(t=e.ext)||void 0===t?void 0:t.segtax)===r}).flatMap(function(e){var t;return null===(t=e.segment)||void 0===t?void 0:t.map(function(e){return e.id})}).filter(function(e){return e}).filter(d.tT)}},90881:function(e,t,r){r.r(t),r.d(t,{FEATURE_TOGGLES:function(){return j},LOCAL_STORAGE_FEATURE_TOGGLES_KEY:function(){return A},addDeviceInfo:function(){return eo},bidToNativeImp:function(){return L},bidToVideoImp:function(){return R},combineImps:function(){return er},deduplicateImpExtFields:function(){return en},removeSiteIDs:function(){return ei},spec:function(){return et},storage:function(){return _}});var n=r(4511),i=r(60340),a=r(36621),o=r(39864),d=r(94329),s=r(92618),p=r(12827),u=r(67007),c=r(5850),f=r(39724),l=r(68681),m=r(31232),v=r(14615),g=r(21338),b=r(8755),y=r(34498);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){d=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(d)throw a}}}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var O=[c.Mk,c.pX,c.B5],w=[144,144],C={JPY:1},U={PBJS:"p",IX:"x"},S=["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],T=["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"],N={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID"},P=["lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],k=["mimes","minduration","maxduration"],E=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],A="".concat("ix","_features"),_=(0,l.df)({bidderCode:"ix"}),j={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat","pbjs_allow_all_eids"],featureToggles:{},isFeatureEnabled:function(e){return(0,s.Z)(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(_.localStorageIsEnabled()){var e=(0,p.dj)(_.getDataFromLocalStorage(A));(0,s.Z)(e,"expiry")&&e.expiry>=new Date().getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){var t=e.body,r=new Date,n=(0,s.Z)(t,"ext.features");n&&(this.featureToggles={expiry:r.setHours(r.getHours()+1),features:n},_.localStorageIsEnabled()&&_.setDataInLocalStorage(A,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},_.localStorageIsEnabled()&&_.removeDataFromLocalStorage(A)}},D=0,B="",F="",X=!1,z={Video:2};function R(e){var t=M(e,c.pX),r=(0,s.Z)(e,"mediaTypes.video"),n=(0,s.Z)(e,"params.video");if(G(r,n).length)return{};t.video=n?(0,p.I8)(e.params.video):{};var i=(0,s.Z)(e,"ortb2Imp.ext.tid");for(var a in i&&(0,u.N)(t,"ext.tid",i),!function(e,t){if((0,s.Z)(t,"mediaTypes.video.context")===g.gZ){var r=(0,s.Z)(t,"mediaTypes.video.renderer");if(!r&&(r=(0,s.Z)(t,"renderer")),(0,s.Z)(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(r&&"object"===(0,o.Z)(r)){if(void 0!==r.url){var n="";try{n=new URL(r.url).hostname}catch(e){return}n.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=r.url}}else e.displaymanager="ix"}}(t,e),$(t,e),r)-1!==E.indexOf(a)&&!t.video.hasOwnProperty(a)&&(t.video[a]=r[a]);if(t.video.minduration>t.video.maxduration)return(0,p.H)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]")),{};var d=n&&n.context||r&&r.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,p.U)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,p.yN)("IX Bid Adapter: video.plcmt [".concat(e.video.plcmt,"] must be an integer between 1-4 inclusive")),delete e.video.plcmt)}(t),d&&!t.video.hasOwnProperty("placement")&&(d===g.LD?t.video.placement=1:d===g.gZ?(0,s.Z)(n,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,X=!0):(0,p.yN)("IX Bid Adapter: Video context '".concat(d,"' is not supported"))),!(t.video.w&&t.video.h)){var f=V((0,s.Z)(t,"video.playerSize"))||V((0,s.Z)(e,"params.size"));if(!f)return(0,p.yN)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=f[0],t.video.h=f[1]}return q(e,t,c.pX),t}function L(e){var t=M(e,c.B5),r=e.nativeOrtbRequest;r.eventtrackers=[{event:1,methods:[1,2]}],r.privacy=1,t.native={request:JSON.stringify(r),ver:"1.2"};var n=(0,s.Z)(e,"ortb2Imp.ext.tid");return n&&(0,u.N)(t,"ext.tid",n),$(t,e),q(e,t,c.B5),t}function M(e,t){var r={};if(r.id=e.bidId,ee()&&(0,s.Z)(e,"params.externalId")&&(0,u.N)(r,"ext.externalID",e.params.externalId),(0,s.Z)(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case c.Mk:(0,u.N)(r,"ext.siteID",e.params.banner.siteId.toString());break;case c.pX:(0,u.N)(r,"ext.siteID",e.params.video.siteId.toString());break;case c.B5:(0,u.N)(r,"ext.siteID",e.params.native.siteId.toString())}else e.params.siteId&&(0,u.N)(r,"ext.siteID",e.params.siteId.toString());return e.params.hasOwnProperty("id")&&("string"==typeof e.params.id||"number"==typeof e.params.id)&&(0,u.N)(r,"ext.sid",String(e.params.id)),r}function q(e,t,r){var n=null,i=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(n={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,p.LQ)(e.getFloor)){var a="*",o="*";if(r&&(0,p.r3)(O,r)){var d=t[r],s=d.w,f=d.h;a=r,o=[s,f]}try{i=e.getFloor({mediaType:a,size:o})}catch(e){(0,p.yN)("priceFloors module call getFloor failed, error : ",e)}}var l=!1;i?(t.bidfloor=i.floor,t.bidfloorcur=i.currency,(0,u.N)(t,"ext.fl",U.PBJS),l=!0):n&&(t.bidfloor=n.floor,t.bidfloorcur=n.currency,(0,u.N)(t,"ext.fl",U.IX),l=!0),l&&(r==c.Mk?((0,u.N)(t,"banner.ext.bidfloor",t.bidfloor),(0,u.N)(t,"banner.ext.fl",t.ext.fl)):r==c.pX?((0,u.N)(t,"video.ext.bidfloor",t.bidfloor),(0,u.N)(t,"video.ext.fl",t.ext.fl)):((0,u.N)(t,"native.ext.bidfloor",t.bidfloor),(0,u.N)(t,"native.ext.fl",t.ext.fl)))}function H(e){return Array.isArray(e)&&2===e.length&&(0,p.U)(e[0])&&(0,p.U)(e[1])}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(H(e))return e[0]===t[0]&&e[1]===t[1];for(var r=0;r<e.length;r++)if(e[r][0]===t[0]&&e[r][1]===t[1])return!0;return!1}function G(e,t){var r=[];!e&&(0,p.yN)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var n,i=I(k);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=e&&e.hasOwnProperty(a),d=t&&t.hasOwnProperty(a);!o&&!d&&r.push("IX Bid Adapter: ".concat(a," is not included in either the adunit or params level"))}}catch(e){i.e(e)}finally{i.f()}var s=e&&e.hasOwnProperty("protocol"),u=e&&e.hasOwnProperty("protocols"),c=t&&t.hasOwnProperty("protocol"),f=t&&t.hasOwnProperty("protocols");return!(s||u||c||f)&&r.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),r}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return H(e)?e:!!H(e[0])&&e[0]}function Q(e,t,r,a){var d="https://htlb.casalemedia.com/openrtb/pbjs",l=function(e){var t=[],r={};if((0,p.kJ)(e)){var n,i=I(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=N.hasOwnProperty(a.source);if((0,s.Z)(a,"uids.0")&&(r[a.source]=!0,o&&""!==N[a.source]&&(a.uids[0].ext={rtiPartner:N[a.source]}),t.push(a),t.length>=50))break}}catch(e){i.e(e)}finally{i.f()}}return{toSend:t,seenSources:r}}((0,s.Z)(e,"0.userIdAsEids")),m=l.toSend;window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){var r=window.headertag.getIdentityInfo();if(r&&"object"===(0,o.Z)(r))for(var n in r){if(e.length>=50)return;if(r.hasOwnProperty(n)){var i=r[n];!i.responsePending&&i.data&&"object"===(0,o.Z)(i.data)&&Object.keys(i.data).length&&!t.seenSources[i.data.source]&&e.push(i.data)}}}(m,l);var v=[],g=function(e){var t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=_.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);g=function(e,t){return t.length>0&&(e.ext.features={},t.forEach(function(t){e.ext.features[t]={activated:j.isFeatureEnabled(t)}})),e}(g,j.REQUESTED_FEATURE_TOGGLES);var b=function(e,t){var r=e.map(function(e){return e.adUnitCode}).filter(function(e,t,r){return r.indexOf(e)===t}),n=(0,s.Z)(e,"0.userIdAsEids",[]);var i={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"9.18.0",userIds:(a=e[0].userId||{},P.filter(function(e){return a[e]})),url:window.location.href.split("?")[0],vpd:X,ae:t,eidLength:n.length},a,o,d=I(r);try{for(d.s();!(o=d.n()).done;)!function(){var t=o.value,r=e.filter(function(e){return e.adUnitCode===t})[0];(0,s.Z)(r,"mediaTypes")&&(Object.keys(r.mediaTypes).length>1&&i.mfu++,(0,s.Z)(r,"mediaTypes.native")&&i.nu++,(0,s.Z)(r,"mediaTypes.banner")&&i.bu++,"outstream"===(0,s.Z)(r,"mediaTypes.video.context")&&(i.ou++,W(r)&&(i.ren=!0)),"instream"===(0,s.Z)(r,"mediaTypes.video.context")&&i.iu++,i.allu++)}()}catch(e){d.e(e)}finally{d.f()}return i}(e,(0,s.Z)(t,"paapi.enabled"));for(var y in b)g.ext.ixdiag[y]=b[y];g=function(e,t){if(t){t.gdprConsent&&((B=t.gdprConsent).hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:B.gdprApplies?1:0}}),B.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:B.consentString||""},B.hasOwnProperty("addtlConsent")&&B.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:B.addtlConsent}))),t.uspConsent&&((0,u.N)(e,"regs.ext.us_privacy",t.uspConsent),F=t.uspConsent);var r=(0,s.Z)(t,"refererInfo.page");r&&(e.site.page=r),t.gppConsent&&((0,u.N)(e,"regs.gpp",t.gppConsent.gppString),(0,u.N)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}return f.vc.getConfig("coppa")&&(0,u.N)(e,"regs.coppa",1),e}(g=function(e,t,r,n,i){var a,o=(0,s.Z)(t,"timeout");return o&&(e.ext.ixdiag.tmax=o),f.vc.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=f.vc.getConfig("userSync").syncsPerBidder),e.ext.ixdiag.imps=Object.keys(r).length,e.source={tid:null==t||null===(a=t.ortb2)||void 0===a||null===(a=a.source)||void 0===a?void 0:a.tid},n[0].schain&&(e.source.ext={},e.source.ext.schain=n[0].schain),i.length>0&&(e.user={},e.user.eids=i),document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer),e}(g,t,r,e,m),t);var x={};e[0].params.siteId&&(D=e[0].params.siteId,x.s=D);for(var Z=Object.keys(r),O=!1,w=0;w<Z.length&&!(v.length>=4);w++){;g=function(e,t,r,n){var a=e[t[n]],o=a.missingImps,d=a.ixImps,f={ixImps:void 0===d?[]:d,missingBannerImpressions:void 0===o?[]:o},l=Object.keys(f).map(function(e){return f[e]}).filter(function(e){return Array.isArray(e)}).reduce(function(e,t){return e.concat.apply(e,(0,i.Z)(t))},[]),m=e[t[n]].gpid,v=e[t[n]].dfp_ad_unit_code,g=e[t[n]].tid,b=e[t[n]].sid,y=e[t[n]].ae,x=e[t[n]].paapi,h=l.filter(function(e){return c.Mk in e}),I=l.filter(function(e){return!(c.Mk in e)});if(h.length>0){var Z=h.reduce(function(e,t){return!e[t.adunitCode]&&(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e},{});for(var O in Z){for(var w=Z[O],C=w[0],U=C.id,S=C.banner.topframe,T=(0,s.Z)(w[0],"ext.externalID"),N={id:U,banner:{topframe:S,format:w.map(function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}})}},P=0;P<N.banner.format.length;P++)null!=N.banner.format[P].ext&&(null!=N.banner.format[P].ext.sid&&delete N.banner.format[P].ext.sid,null!=N.banner.format[P].ext.externalID&&delete N.banner.format[P].ext.externalID),"bidfloor"in w[P]&&(N.banner.format[P].ext.bidfloor=w[P].bidfloor),"{}"===JSON.stringify(N.banner.format[P].ext)&&delete N.banner.format[P].ext;var k=e[t[n]].pos;(0,p.U)(k)&&(N.banner.pos=k),(v||m||g||b||y||T||x)&&(N.ext={},N.ext.dfp_ad_unit_code=v,N.ext.gpid=m,N.ext.tid=g,N.ext.sid=b,N.ext.externalID=T,1==y&&(N.ext.ae=1,N.ext.paapi=x)),"bidfloor"in w[0]&&(N.bidfloor=w[0].bidfloor),"bidfloorcur"in w[0]&&(N.bidfloorcur=w[0].bidfloorcur);var E=e[t[n]].adUnitFPD;E&&(0,u.N)(N,"ext.data",E),r.imp.push(N)}}return I.length>0&&I.forEach(function(e){if(m&&(0,u.N)(e,"ext.gpid",m),r.imp.length>0){var t=!1;r.imp.forEach(function(n,i){e.id===n.id&&c.pX in e?(n.video=e.video,n.video.ext=Object.assign({},e.video.ext,e.ext),(0,s.Z)(n,"video.ext.bidfloor",!1)&&(0,s.Z)(n,"bidfloor",!1)&&n.video.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.video.ext.bidfloor),!(0,s.Z)(n,"ext.siteID",!1)&&(0,s.Z)(e,"video.ext.siteID")&&((0,u.N)(n,"ext.siteID",e.video.ext.siteID),(0,u.N)(r,"ext.ixdiag.usid",!0)),t=!0):e.id===n.id&&c.B5 in e&&(n.native=e.native,n.native.ext=Object.assign({},e.native.ext,e.ext),(0,s.Z)(n,"native.ext.bidfloor",!1)&&(0,s.Z)(n,"bidfloor",!1)&&n.native.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.native.ext.bidfloor),!(0,s.Z)(n,"ext.siteID",!1)&&(0,s.Z)(e,"native.ext.siteID",!1)&&((0,u.N)(n,"ext.siteID",e.native.ext.siteID),(0,u.N)(r,"ext.ixdiag.usid",!0)),t=!0)}),!t&&r.imp.push(e)}else r.imp.push(e)}),r}(r,Z,g,w);var C=(0,s.Z)(t,"ortb2")||{},U=h({},C.site||C.context);U.page=function(e){var t=e&&e.bidderCode||"ix",r=f.vc.getConfig(t),i="";return(i=(0,s.Z)(e,"ortb2.site.page")?e.ortb2.site.page:(0,s.Z)(e,"refererInfo.page"),r&&"object"===(0,o.Z)(r.firstPartyData))?function(e,t,r){try{i=new URL(t)}catch(r){(0,p.yN)("IX Bid Adapter: Invalid URL set in ortb2.site.page: ".concat(t,". Using referer URL instead.")),i=new URL((0,s.Z)(e,"refererInfo.page"))}for(var i,a=new URLSearchParams(i.search),o=0,d=Object.entries(r);o<d.length;o++){var u=(0,n.Z)(d[o],2),c=u[0],f=u[1];!a.has(c)&&a.append(c,f)}return i.search=a.toString(),i.toString()}(e,i,r.firstPartyData):i}(t);var k=h({},C.user);!(0,p.xb)(C)&&!O&&((g=function(e,t,r,n,i){if(t.ext.ixdiag.fpd=!0,Object.keys(n).forEach(function(e){-1===S.indexOf(e)&&delete n[e]}),Object.keys(i).forEach(function(e){-1===T.indexOf(e)&&delete i[e]}),r.device){var a,o=h({},r.device.sua);!(0,p.xb)(o)&&(0,u.N)(t,"device.sua",o)}if(r.hasOwnProperty("regs")&&!e.gppConsent&&(r.regs.hasOwnProperty("gpp")&&"string"==typeof r.regs.gpp&&(0,u.N)(t,"regs.gpp",r.regs.gpp),r.regs.hasOwnProperty("gpp_sid")&&Array.isArray(r.regs.gpp_sid)&&(0,u.N)(t,"regs.gpp_sid",r.regs.gpp_sid),null!==(a=r.regs.ext)&&void 0!==a&&a.dsa)){var d=r.regs.ext.dsa,s={};if(["dsarequired","pubrender","datatopub"].forEach(function(e){(0,p.hj)(d[e])&&(s[e]=d[e])}),(0,p.kJ)(d.transparency)){var c=[];d.transparency.forEach(function(e){(0,p.PO)(e)&&(0,p.d8)(e.domain)&&""!=e.domain&&(0,p.kJ)(e.dsaparams)&&e.dsaparams.every(function(e){return(0,p.hj)(e)})&&c.push(e)}),c.length>0&&(s.transparency=c)}!(0,p.xb)(s)&&(0,u.N)(t,"regs.ext.dsa",s)}return t}(t,g,C,U,k)).site=(0,p.Ee)({},g.site,U),g.user=(0,p.Ee)({},g.user,k),O=!0),g=function(e,t,r,n,i,a){var o=e[r[n]].pbadslot,d=e[r[n]].tagId,s=e[r[n]].adUnitCode,p=e[r[n]].divId;return(o||d||s||p)&&(t.ext.ixdiag.pbadslot=o,t.ext.ixdiag.tagid=d,t.ext.ixdiag.adunitcode=s,t.ext.ixdiag.divId=p),t}(r,g,Z,w,x,d);var E=w===Z.length-1;if(g=ei(g=en(g=eo(g))),E){var A="".concat(d,"?");0!==D&&(A+="s=".concat(D)),ee()&&(A+=0!==D?"&":"",A+="p=".concat(f.vc.getConfig("exchangeId"))),v.push({method:"POST",url:A,data:(0,p.I8)(g),option:{contentType:"text/plain"},validBidRequests:e}),g.imp=[],O=!1}}return v}function $(e,t){var r=(0,s.Z)(t,"ortb2Imp.ext.data");r&&(0,u.N)(e,"ext.data",r)}function Y(e,t){if(t)for(var r=0;r<e.length;r++){var n=e[r];if(t[0]===n[0]&&t[1]===n[1]){e.splice(r,1);break}}}function K(e){e.renderer.push(function(){var t=e.adUnitCode,r=document.getElementById(t)?t:(0,y.ky)(t).divId;if(!r){(0,p.yN)("IX Bid Adapter: adUnitCode: ".concat(r," not found on page."));return}window.createIXPlayer(r,e)})}function W(e){if("outstream"!==(0,s.Z)(e,"mediaTypes.video.context"))return!1;var t=(0,s.Z)(e,"mediaTypes.video.renderer");return!t&&(t=(0,s.Z)(e,"renderer")),!("object"===(0,o.Z)(t)&&t.url&&t.render)||t.backupOnly}function ee(){var e=f.vc.getConfig("exchangeId");return!!("number"==typeof e&&isFinite(e)||"string"==typeof e&&""!==e.trim()&&isFinite(Number(e)))||!1}var et={code:"ix",gvlid:10,supportedMediaTypes:O,isBidRequestValid:function(e){var t,r,n,i=(0,s.Z)(e,"params.video"),a=(0,s.Z)(e,"params.size"),o=(0,s.Z)(e,"mediaTypes.banner.sizes"),d=(0,s.Z)(e,"mediaTypes.video"),u=(0,s.Z)(e,"mediaTypes.video.playerSize"),c=e.params.hasOwnProperty("bidFloor"),f=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,p.r3)(O,e.mediaType))return(0,p.yN)("IX Bid Adapter: media type is not supported."),!1;if((0,s.Z)(e,"mediaTypes.banner")&&!o)return!1;if(a){var l=V(a);if(!l)return(0,p.H)("IX Bid Adapter: size has invalid format."),!1;if(!J(e.sizes,l)&&!J(u,l)&&!J(o,l))return(0,p.H)("IX Bid Adapter: bid size is not included in ad unit sizes or player size."),!1}if(!ee()&&void 0==e.params.siteId)return(0,p.H)("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(void 0!==e.params.siteId){if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,p.H)("IX Bid Adapter: siteId must be string or number type."),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,p.H)("IX Bid Adapter: siteId must valid value"),!1}if(c||f){;if(!(c&&f&&(t=e.params.bidFloor,r=e.params.bidFloorCur,"number"==typeof t&&"string"==typeof r&&r.match(/^[A-Z]{3}$/))))return(0,p.H)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format."),!1}if(d&&i){var m=R(e).video,v=G(d,i);if((0,s.Z)(e,"mediaTypes.video.context")===g.gZ&&W(e)&&m){var b=[(0,s.Z)(m,"w"),(0,s.Z)(m,"h")];if(!(b[0]>=144&&b[1]>=144))return(0,p.H)("IX Bid Adapter: ".concat(b," is an invalid size for IX outstream renderer")),!1}if(v.length)return v.forEach(function(e){(0,p.H)(e)}),!1}return n=e,void 0===(0,s.Z)(n,"mediaTypes.native")||n.nativeOrtbRequest&&Array.isArray(n.nativeOrtbRequest.assets)&&n.nativeOrtbRequest.assets.length>0},resetSiteID:function(){D=0},buildRequests:function(e,t){var r=[],n={},a={},o={},d={};for(var u in j.getFeatureToggles(),e.forEach(function(e){var r=Object.keys((0,s.Z)(e,"mediaTypes",{}));for(var i in r)switch(r[i]){case c.Mk:!function(e,t,r,n){var i,a,o,d=((a=M(i=e,c.Mk)).banner={},a.adunitCode=i.adUnitCode,(o=(0,s.Z)(i,"params.size"))&&(a.banner.w=o[0],a.banner.h=o[1]),a.banner.topframe=(0,p.yL)()?0:1,q(i,a,c.Mk),a),u=J((0,s.Z)(e,"mediaTypes.banner.sizes"),(0,s.Z)(e,"params.size"));if(!r.hasOwnProperty(e.adUnitCode)&&(r[e.adUnitCode]={}),r[e.adUnitCode].gpid=(0,s.Z)(e,"ortb2Imp.ext.gpid"),r[e.adUnitCode].dfp_ad_unit_code=(0,s.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),r[e.adUnitCode].tid=(0,s.Z)(e,"ortb2Imp.ext.tid"),r[e.adUnitCode].pbadslot=(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot"),r[e.adUnitCode].tagId=(0,s.Z)(e,"params.tagId"),r[e.adUnitCode].pos=(0,s.Z)(e,"mediaTypes.banner.pos"),(0,s.Z)(n,"paapi.enabled")){var f=(0,s.Z)(e,"ortb2Imp.ext.ae"),l=(0,s.Z)(e,"ortb2Imp.ext.paapi");l&&(r[e.adUnitCode].paapi=l),f&&((0,p.U)(f)?r[e.adUnitCode].ae=f:(0,p.yN)("error setting auction environment flag - must be an integer"))}var m=(0,s.Z)(e,"ortb2Imp.ext.data");m&&(r[e.adUnitCode].adUnitFPD=m);var v=(0,s.Z)(e,"params.id");v&&("string"==typeof v||"number"==typeof v)&&(r[e.adUnitCode].sid=String(v));var g=e.adUnitCode,b=document.getElementById(g)?g:(0,y.ky)(g).divId;r[e.adUnitCode].adUnitCode=g,r[e.adUnitCode].divId=b,u&&(!r[e.adUnitCode].hasOwnProperty("ixImps")&&(r[e.adUnitCode].ixImps=[]),r[e.adUnitCode].ixImps.push(d)),function(e,t,r){if(t.hasOwnProperty(e.adUnitCode)){var n=[];t[e.adUnitCode].hasOwnProperty("missingSizes")&&(n=t[e.adUnitCode].missingSizes),Y(n,e.params.size),t[e.adUnitCode].missingSizes=n}else if((0,s.Z)(e,"mediaTypes.banner.sizes")){var i=(0,p.I8)(e.mediaTypes.banner.sizes);Y(i,e.params.size);t[e.adUnitCode]={missingSizes:i,impression:r}}}(e,t,d)}(e,d,n,t);break;case c.pX:!function(e,t){var r=R(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,s.Z)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,s.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,s.Z)(e,"params.tagId");var n=e.adUnitCode,i=document.getElementById(n)?n:(0,y.ky)(n).divId;t[e.adUnitCode].adUnitCode=n,t[e.adUnitCode].divId=i}}(e,a);break;case c.B5:!function(e,t){var r=L(e);if(0!=Object.keys(r).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(r),t[e.adUnitCode].gpid=(0,s.Z)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,s.Z)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,s.Z)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,s.Z)(e,"params.tagId");var n=e.adUnitCode,i=document.getElementById(n)?n:(0,y.ky)(n).divId;t[e.adUnitCode].adUnitCode=n,t[e.adUnitCode].divId=i}}(e,o);break;default:(0,p.yN)("IX Bid Adapter: ad unit mediaTypes ".concat(i," is not supported"))}}),d)if(d.hasOwnProperty(u)){var f=d[u].missingSizes;!n.hasOwnProperty(u)&&(n[u]={}),!n[u].hasOwnProperty("missingImps")&&(n[u].missingImps=[],n[u].missingCount=0);for(var l=d[u].impression,m=0;m<f.length;m++){var v=function(e,t,r){var n=(0,p.I8)(t);return n.banner.w=r[0],n.banner.h=r[1],q(e,n,c.Mk),n}(e[0],l,f[m]);n[u].missingImps.push(v),n[u].missingCount++}}var g=[];return Object.keys(n).length>0&&g.push(n),Object.keys(a).length>0&&g.push(a),Object.keys(o).length>0&&g.push(o),j.isFeatureEnabled("pbjs_enable_multiformat")?r.push.apply(r,(0,i.Z)(Q(e,t,er(g)))):(Object.keys(n).length>0&&r.push.apply(r,(0,i.Z)(Q(e,t,n,7.2))),Object.keys(a).length>0&&r.push.apply(r,(0,i.Z)(Q(e,t,a,8.1))),Object.keys(o).length>0&&r.push.apply(r,(0,i.Z)(Q(e,t,o)))),r},interpretResponse:function(e,t){var r=[],n=null,i=(0,s.Z)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(j.setFeatureToggles(e),!e.hasOwnProperty("body"))return r;for(var a=e.body,d=a.seatbid||[],u=0;u<d.length;u++){if(!!d[u].hasOwnProperty("bid")){for(var f=d[u].bid,l=t.data,v=0;v<f.length;v++){var g=function(e,t,r){if(!!e)return h(h({},(0,m.sE)(r,function(t){return t.bidId===e})),(0,m.sE)(t,function(t){return t.id===e}))}(f[v].impid,l.imp,t.validBidRequests);if((n=function(e,t,r){var n,i={},a=!!((0,s.Z)(e,"exp")&&(0,p.U)(e.exp)),o=(0,s.Z)(e,"dealid")||(0,s.Z)(e,"ext.dealid");C.hasOwnProperty(t)?i.cpm=e.price/C[t]:i.cpm=e.price/100,i.requestId=e.impid,o&&(i.dealId=o),i.netRevenue=!0,i.currency=t,i.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=z.Video||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(i.vastUrl=e.ext.vasturl):i.vastXml=e.adm;var d=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{d=JSON.parse(e.adm)}catch(e){(0,p.yN)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==z.Video?(i.width=r.video.w,i.height=r.video.h,i.mediaType=c.pX,i.mediaTypes=r.mediaTypes,i.ttl=a?e.exp:3600):d&&d.native?(i.native={ortb:d.native},i.width=e.w?e.w:1,i.height=e.h?e.h:1,i.mediaType=c.B5,i.ttl=a?e.exp:3600):(i.ad=e.adm,i.width=e.w,i.height=e.h,i.mediaType=c.Mk,i.ttl=a?e.exp:300),i.meta={},i.meta.networkId=(0,s.Z)(e,"ext.dspid"),i.meta.brandId=(0,s.Z)(e,"ext.advbrandid"),i.meta.brandName=(0,s.Z)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(i.meta.advertiserDomains=e.adomain),null!==(n=e.ext)&&void 0!==n&&n.dsa&&(i.meta.dsa=e.ext.dsa),i}(f[v],a.cur,g)).mediaType===c.pX&&W(g)){var y=(0,s.Z)(a,"ext.videoplayerurl");if(n.renderer=function(e,t){var r=b.Th.install({id:e,url:t,loaded:!1});try{r.setRender(K)}catch(e){return(0,p.yN)("Prebid Error calling setRender on renderer",e),null}return t?r:((0,p.yN)("Outstream renderer URL not found"),null)}(f[v].bidId,y),!n.renderer)continue}r.push(n)}if((0,s.Z)(l,"ext.ixdiag.err")&&_.localStorageIsEnabled())try{_.removeDataFromLocalStorage("ixdiag")}catch(e){(0,p.H)("ix can not clear ixdiag from localStorage.")}}}if(!Array.isArray(i)||!(i.length>0))return r;i=i.filter(function(e){return!!function(e){return"object"===(0,o.Z)(e)&&null!==e}(e)||((0,p.yN)("Malformed auction config detected:",e),!1)});try{return{bids:r,paapi:i}}catch(e){return(0,p.yN)("Error attaching AuctionConfigs",e),r}},getUserSyncs:function(e,t){var r=[],n=null;if(t.length>0&&(n=(0,s.Z)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==n&&0==n)return[];if(e.iframeEnabled)r.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{var i=null;f.vc.getConfig("userSync")&&(i=f.vc.getConfig("userSync").syncsPerBidder),0===i&&(i=n),i=n&&(0===i||i)?n>i?i:n:1;for(var a=0;a<i;a++)r.push({type:"image",url:function(e,t){var r="",n="0";return B&&B.hasOwnProperty("gdprApplies")&&(n=B.gdprApplies?"1":"0"),B&&B.hasOwnProperty("consentString")&&(r=B.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(0!==D?"&site_id="+D.toString():"")+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+n+"&gdpr_consent="+r+"&us_privacy="+(F||"")}(i,a)})}return r}};function er(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){Object.keys(t).includes(r)?t[r].hasOwnProperty("ixImps")&&e[r].hasOwnProperty("ixImps")?t[r].ixImps=[].concat((0,i.Z)(t[r].ixImps),(0,i.Z)(e[r].ixImps)):t[r].hasOwnProperty("missingImps")&&e[r].hasOwnProperty("missingImps")?t[r].missingImps=[].concat((0,i.Z)(t[r].missingImps),(0,i.Z)(e[r].missingImps)):e[r].hasOwnProperty("ixImps")?t[r].ixImps=e[r].ixImps:e[r].hasOwnProperty("missingImps")&&(t[r].missingImps=e[r].missingImps):t[r]=e[r]})}),t}function en(e){return e.imp.forEach(function(t,r){var n=t.ext;if(void 0==n)return e;if(!(2>ea(t)))Object.keys(n).forEach(function(i){if(c.Mk in t){var a=t.banner.ext;if(void 0!==a&&void 0!==a[i]&&a[i]==n[i]&&delete e.imp[r].banner.ext[i],void 0!==t.banner.format)for(var o=0;o<t.banner.format.length;o++)void 0!=t.banner.format[o].ext&&void 0!=t.banner.format[o].ext[i]&&t.banner.format[o].ext[i]==n[i]&&delete e.imp[r].banner.format[o].ext[i]}if(c.pX in t){var d=t.video.ext;void 0!==d&&void 0!==d[i]&&d[i]==n[i]&&delete e.imp[r].video.ext[i]}if(c.B5 in t){var s=t.native.ext;void 0!==s&&void 0!==s[i]&&s[i]==n[i]&&delete e.imp[r].native.ext[i]}})}),e}function ei(e){return e.imp.forEach(function(t,r){if(void 0==t.ext)return e;if(!(2>ea(t))){if(c.Mk in t){var n=t.banner.ext;if(void 0!==n&&void 0!==n.siteID&&delete e.imp[r].banner.ext.siteID,void 0!==t.banner.format)for(var i=0;i<t.banner.format.length;i++)void 0!==t.banner.format[i].ext&&void 0!==t.banner.format[i].ext.siteID&&((0,u.N)(e.imp[r],"ext.siteID",t.banner.format[i].ext.siteID),(0,u.N)(e,"ext.ixdiag.usid",!0),delete e.imp[r].banner.format[i].ext.siteID)}if(c.pX in t){var a=t.video.ext;void 0!==a&&void 0!==a.siteID&&delete e.imp[r].video.ext.siteID}if(c.B5 in t){var o=t.native.ext;void 0!==o&&void 0!==o.siteID&&delete e.imp[r].native.ext.siteID}}}),e}function ea(e){var t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function eo(e){return void 0==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}(0,v.dX)(et),(0,d.z)("ixBidAdapter")},86547:function(e,t,r){r.d(t,{A_:function(){return a},Iq:function(){return i},Qg:function(){return o}});var n=r(12827),i=["dooh","app","site"];function a(e){return function(t){return i.reduce(function(r,i){return o(t,i)&&(null!=r?((0,n.yN)("".concat(e," specifies both '").concat(r,"' and '").concat(i,"'; dropping the latter.")),delete t[i]):r=i),r},null),t}}function o(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}},67007:function(e,t,r){r.d(t,{N:function(){return n}});function n(e,t,r){t.split&&(t=t.split("."));for(var n,i,a=0,o=t.length,d=e;a<o&&"__proto__"!=(i=""+t[a++])&&"constructor"!==i&&"prototype"!==i;){;d=d[i]=a===o?r:typeof(n=d[i])==typeof t?n:0*t[a]!=0||~(""+t[a]).indexOf(".")?{}:[]}}}}]);
//# sourceMappingURL=ixBidAdapter-js.7c845c266e29c343.js.map
</script>

</body>
</html>
