<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AccountStreak.BlWmfx4g.html</title>
</head>
<body>

<script>
import{j as e}from"./jsx-runtime.CAnB4H9Z.js";import{r as p}from"./index.qVDZzPEr.js";import{i as I}from"./jwt.sIZnHaRF.js";import{b as R}from"./http.CB1FD-eS.js";import{u as B}from"./use-toast.BdCcSTJE.js";import{u as F}from"./use-outside-click.DwmohMvh.js";import{c}from"./classname.UU0x-ExZ.js";import{C as T}from"./chevron-down.CkbxXVDT.js";import{r as Z,n as E}from"./page.D5N0TZSR.js";import{u as k}from"./index.CPYs184K.js";import{$ as L}from"./streak.K_Ul8xnA.js";import{u as H}from"./use-auth.DrLAVIpp.js";import{u as U}from"./use-copy-text.oZSbS9-c.js";import{C as P}from"./CheckIcon.CbIpeqnx.js";import{c as A}from"./createLucideIcon.B2f9aZIW.js";import{C as W}from"./copy.B2vKBNQa.js";import{Z as v}from"./zap.B1gmcmVH.js";import"./js.cookie.Cz0CWeBA.js";import"./toast.DlejBBdi.js";import"./index.3whys8t3.js";import"./bundle-mjs.mQ1NDWkS.js";/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=A("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=A("ZapOff",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function q(d){const{isCurrentStreakDay:r,isPreviousStreakDay:i,isBrokenStreakDay:u,isRemainingStreakDay:t,dayCount:s,icon:m,isToday:a=!1}=d;return e.jsxs("div",{className:c("relative flex flex-col items-center justify-center gap-1.5",{"text-red-400 opacity-40":i,"text-slate-600":t,"text-yellow-300":r,"text-slate-400":a}),children:[e.jsx("div",{className:c("flex size-6 items-center justify-center rounded-full",{"bg-slate-700":t,"border border-dashed border-slate-500 striped-bg":a}),children:a?null:m}),e.jsx("span",{className:c("text-xs"),children:s}),a&&e.jsx(T,{className:"absolute bottom-full left-1/2 h-3.5 w-3.5 -translate-y-[0.75px] -translate-x-1/2 transform stroke-[2.5px] text-slate-400"})]})}function G(d){const{refByUserCount:r}=d,i=H(),{copyText:u,isCopied:t}=U(),s=new URL(`/signup?rc=${i?.id}`,"https://roadmap.sh").toString();return e.jsxs("div",{className:"-mx-4 mt-6 flex flex-col border-t border-dashed border-t-slate-600 px-4 pt-5 text-center text-sm",children:[e.jsx("p",{className:"text-slate-500",children:"Invite people to join roadmap.sh"}),e.jsxs("div",{className:"flex flex-col items-center rounded-lg bg-slate-900/40 pb-4 pt-5 my-4",children:[e.jsxs("p",{className:"text-xs text-slate-500",children:[r===0&&e.jsx(e.Fragment,{children:"You haven't invited anyone yet."}),r>0&&r<10&&e.jsxs(e.Fragment,{children:[r," of 10 users joined"]})]}),r>=10&&e.jsxs(e.Fragment,{children:["ðŸŽ‰ You've invited ",r," users"]}),e.jsx("div",{className:"my-3 flex flex-row items-center justify-center gap-1",children:Array.from({length:10}).map((m,a)=>e.jsx(Y,{className:c("size-[23px] fill-current",a<r?"text-yellow-300":"text-slate-700")},a))}),e.jsx("p",{className:"mb-3 text-xs text-slate-500",children:"Share the link below with anyone you think would benefit from using roadmap.sh"}),e.jsx("p",{className:"text-slate-500",children:e.jsxs("button",{onClick:()=>{u(s)},className:c("rounded-md hover:bg-slate-500/80 hover:text-slate-100 px-3 py-1 text-xs text-slate-300 bg-slate-600",{"bg-green-500 text-black hover:text-black hover:bg-green-500":t}),children:[t?"Invite Link Copied":"Copy Invite Link"," ",!t&&e.jsx(W,{className:"relative -top-[1.25px] ml-1.5 inline-block size-3",strokeWidth:3}),t&&e.jsx(P,{additionalClasses:"relative ml-1.5 -top-[1.25px] inline-block size-3"})]})})]}),e.jsx("p",{className:"text-center text-xs",children:e.jsx("a",{href:"/leaderboard",className:"text-purple-400 underline-offset-2 hover:underline",children:"See how you rank on the leaderboard"})})]})}function he(d){const r=B(),i=p.useRef(null),[u,t]=p.useState(!0),s=k(L),[m,a]=p.useState(!1),b=k(Z),C=k(E);p.useEffect(()=>{(b||C)&&a(!1)},[b,C]);const M=async()=>{if(!I())return;if(s){t(!1);return}t(!0);const{response:y,error:o}=await R("https://roadmap.sh/api/v1-streak");if(o||!y){r.error(o?.message||"Failed to load account streak"),t(!1);return}L.set(y),t(!1)};if(F(i,()=>{a(!1)}),p.useEffect(()=>{M().finally(()=>{})},[]),!I()||u)return null;let{count:h=0}=s||{};const N=s?.previousCount||s?.count||0,l=Math.min(h,5)+1,n=Math.min(5-l,N)+1,O=Math.max(0,10-n-l),$=n+l+O;return e.jsxs("div",{className:"relative z-[90] animate-fade-in",children:[e.jsxs("button",{className:c("flex items-center justify-center rounded-lg p-1.5 px-2 text-purple-400 hover:bg-purple-100/10 focus:outline-none",{"bg-purple-100/10":m}),onClick:()=>a(!0),children:[e.jsx(v,{strokeWidth:1,className:"size-5 fill-current"}),e.jsx("span",{className:"ml-1.5 text-sm font-semibold",children:s?.count})]}),m&&e.jsx("div",{ref:i,className:"absolute right-0 top-full z-50 w-[335px] translate-y-1 rounded-lg bg-slate-800 shadow-xl",children:e.jsxs("div",{className:"py-5 pl-4 pr-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm text-slate-500",children:[e.jsxs("p",{children:["Current Streak",e.jsx("span",{className:"ml-2 font-medium text-white",children:s?.count||0})]}),e.jsxs("p",{children:["Longest Streak",e.jsx("span",{className:"ml-2 font-medium text-white",children:s?.longestCount||0})]})]}),e.jsx("div",{className:"mb-6 mt-9",children:e.jsx("div",{className:"grid grid-cols-10 gap-1",children:Array.from({length:$}).map((y,o)=>{let x,j,w,g,S,D,z;if(o<n)x=N-n+o+1+1,w=!0,g=o===n-1,j=g?e.jsx(_,{className:"size-5 fill-current"}):e.jsx(v,{className:"size-5 fill-current"});else if(o<n+l){const f=o-n;x=h-l+f+1+1,S=!0,z=f===l-1,j=e.jsx(v,{className:"size-5 fill-current"})}else{const f=o-n-l;x=h+f+1+1,D=!0}return e.jsx(q,{dayCount:x,icon:j,isBrokenStreakDay:g,isPreviousStreakDay:w,isCurrentStreakDay:S,isRemainingStreakDay:D,isToday:z},`streak-${o}`)})})}),e.jsx("p",{className:"-mt-[0px] mb-[1.5px] text-center text-xs tracking-wide text-slate-500",children:"Visit every day to keep your streak going!"}),e.jsx(G,{refByUserCount:s?.refByUserCount||0})]})})]})}export{he as AccountStreak};

</script>

</body>
</html>
