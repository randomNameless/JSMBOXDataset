<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>playlistselect.controller.html</title>
</head>
<body>

<script>
'use strict';
angular.module('mopify.modal.playlistselect', ['mopify.services.playlistmanager']).controller('PlaylistSelectModalController', [
  '$scope',
  '$modalInstance',
  'PlaylistManager',
  function PlaylistSelectModalController($scope, $modalInstance, PlaylistManager) {
    $scope.userplaylists = [];
    // Get filtered user playlists
    PlaylistManager.getPlaylists({ useronly: true }).then(function (data) {
      $scope.userplaylists = data;
    });
    /**
     * Cancel the modal
     * @return {[type]} [description]
     */
    $scope.cancel = function () {
      $modalInstance.dismiss('cancel');
    };
    /**
     * Close the modal and return the selected playlist
     * @param {string} playlisturi  the URI of the selected playlist
     */
    $scope.addToPlaylist = function (playlisturi) {
      $modalInstance.close(playlisturi);
    };
  }
]);
</script>

</body>
</html>
