<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>allFile.min.html</title>
</head>
<body>

<script>
"use strict";var psApp=angular.module("pureSpectrumApp",["ui.router","ngTouch","ngCookies","ngProgressLite","cgNotify","LocalStorageModule","ngAnimate","pascalprecht.translate","isteven-multi-select","checklist-model","ui.bootstrap","ng.deviceDetector","ngDragDrop"]),config=(psApp.config(["$stateProvider","$urlRouterProvider","$httpProvider","$translateProvider",function(e,n,t,r){e.state("startsurvey-us",{url:"/startsurvey-us?token&surveyNum&tid&bsec&ps_supplier_sid&ps_supplier_respondent_id&ps_redirect_test&ps_simu_forced_loi&ps_simu_forced_status&supplier_id",templateUrl:"startsurvey.html"}).state("invalidaccess",{url:"/invalidaccess",templateUrl:"404.html"}).state("startsurvey-ca",{url:"/startsurvey-ca?token&surveyNum&tid&bsec&ps_supplier_sid&ps_supplier_respondent_id&ps_redirect_test&ps_simu_forced_loi&ps_simu_forced_status&supplier_id",templateUrl:"startsurvey-ca.html"}).state("startsurvey-uk",{url:"/startsurvey-uk?token&surveyNum&tid&bsec&ps_supplier_sid&ps_supplier_respondent_id&ps_redirect_test&ps_simu_forced_loi&ps_simu_forced_status&supplier_id",templateUrl:"startsurvey-uk.html"}).state("startsurvey-au",{url:"/startsurvey-au?token&surveyNum&tid&bsec&ps_supplier_sid&ps_supplier_respondent_id&ps_redirect_test&ps_simu_forced_loi&ps_simu_forced_status&supplier_id",templateUrl:"startsurvey-au.html"}).state("startsurvey-fr",{url:"/startsurvey-fr?token&surveyNum&tid&bsec&ps_supplier_sid&ps_supplier_respondent_id&ps_redirect_test&ps_simu_forced_loi&ps_simu_forced_status&supplier_id",templateUrl:"startsurvey-fr.html"}).state("startsurvey-de",{url:"/startsurvey-de?token&surveyNum&tid&bsec&ps_supplier_sid&ps_supplier_respondent_id&ps_redirect_test&ps_simu_forced_loi&ps_simu_forced_status&supplier_id",templateUrl:"startsurvey-de.html"}).state("survey-screener",{url:"/survey-screener?token&surveyNum&tid&bsec&ps_supplier_sid&ps_supplier_respondent_id&ps_redirect_test&ps_simu_forced_loi&ps_simu_forced_status&supplier_id&psid",templateUrl:"survey-screener.html"}).state("/start-survey",{url:"/start-survey",templateUrl:"screenerV3.html"}).state("error",{url:"/error",templateUrl:"error.html"}),r.translations("en",{respTitle:"Before you begin the survey, please answer the",survey:"questions below",zip:"My postal code is",race:"I’m a",birth:"I was born",afterBirth:"",relationship:"I’m",haveKids:"and have",aMale:"a",aFemale:"an",andHave:"and have",yougestKids:"Tell us about your five youngest kids",kid:"kid",kids:"kids",childAge:"old",childAgeMonth:"born in",old:"old",and:"and",iEarn:"I earn approximately",familyEarn:"My family earns",incomeYear:"per year",iam:"I'm",employe:"employed",education:"My highest level of education is",jan:"January",feb:"February",mar:"March",apr:"April",may:"May",jun:"June",jul:"July",aug:"August",oct:"October",sep:"September",nov:"November",dec:"December",month:"Month",year:"Year",boy:"Boy",girl:"Girl",employed:"employed"}),r.translations("fr",{respTitle:"Avant de commencer ",survey:"enquête…",zip:"Mon code postal est ",race:"Je suis",birth:"Date de naissance",afterBirth:"",relationship:"I’m",haveKids:"et j’ai un",aMale:"Un",aFemale:"Une",andHave:"et avoir",yougestKids:"Parlez-nous de vos cinq enfants les plus jeunes",kid:"enfant",kids:"enfants",childAge:"ans",childAgeMonth:"né en",old:"vieux",and:"et",iEarn:"Je gagne environ",familyEarn:"Ma famille gagne environ",incomeYear:"par an",iam:"Je suis",employe:"employé",education:"Mon plus haut niveau d'éducation est",jan:"janvier",feb:"février",mar:"mars",apr:"avril",may:"mai",jun:"juin",jul:"juillet",aug:"août",sep:"septembre",oct:"octobre",nov:"novembre",dec:"décembre",month:"mois",year:"ans",boy:"Garçon",girl:"Fille"}),r.translations("de",{respTitle:"Bevor Sie mit der Umfrage beginnen",survey:", beantworten Sie bitte die folgenden Fragen",zip:"Mon code postal est ",race:"Je suis",birth:"Ich bin im",afterBirth:"geboren",relationship:"I’m",haveKids:"et j’ai un",aMale:"Un",aFemale:"Une",andHave:"et avoir",yougestKids:"Parlez-nous de vos cinq enfants les plus jeunes",kid:"enfant",kids:"enfants",childAge:"ans",childAgeMonth:"né en",old:"vieux",and:"et",iEarn:"Je gagne environ",familyEarn:"Mein Haushaltseinkommen beträgt ungefähr",incomeYear:"pro Jahr",iam:"Ich bin",employe:"employé",education:"Mon plus haut niveau d'éducation est",jan:"Januar",feb:"Februar",mar:"März",apr:"April",may:"Mai",jun:"Juni",jul:"Juli",aug:"August",sep:"September",oct:"Oktober",nov:"November",dec:"Dezember",month:"Monate",year:"Jahre",boy:"Garçon",girl:"Fille"}),r.translations("ja",{respTitle:"始めに次の質問を回答してくださ",survey:"い。",boy:"男の子",girl:"女の子",year:"歳",month:"ヶ月",jan:"1月"}),r.translations("pt",{respTitle:"Antes de começar a",survey:"pesquisa",boy:"Garoto",girl:"Menina",year:"anos",month:"meses",jan:"Janeiro"}),r.translations("it",{respTitle:"Prima di",survey:"iniziare",boy:"ragazzo",girl:"ragazza",year:"anni",month:"mesi",jan:"Gennaio"}),r.translations("es",{respTitle:"Antes de comenzar la",survey:"encuesta",boy:"Chico",girl:"Niña",year:"Año",month:"Mes",jan:"Enero"}),r.translations("zh",{respTitle:"",survey:"请回答以下问题",boy:"男孩",girl:"女孩",year:"年",month:"个月",jan:"一月"}),r.translations("zh-Hant",{respTitle:"",survey:"请回答以下问题",boy:"我是男孩",girl:"女孩",year:"年",month:"月",jan:"一月"}),r.translations("hi",{respTitle:"सबसे पहले, कृपया निम्नलिखित, ",survey:"प्रश्नों का उत्तर दें",boy:"लड़का",girl:"लड़की",year:"साल",month:"महीना",jan:"जनवरी"}),r.translations("pl",{respTitle:"Przed rozpoczęciem ankiety należy",survey:"odpowiedzieć na poniższe pytania",boy:"chłopak",girl:"dziewczyna",year:"Rok",month:"Miesiąc",jan:"Styczeń"}),r.translations("ko",{respTitle:"설문 조사를 시작하기 전에",survey:"아래 질문에 답변하십시오. ",boy:"소년",girl:"소녀",year:"년",month:"달",jan:"1월"}),r.translations("id",{respTitle:"Sebelum memulai",survey:"survei, jawab pertanyaan di bawah ini",boy:"laki-laki",girl:"perempuan",year:"Tahun",month:"Bulan",jan:"Januari"}),r.translations("vi",{respTitle:"Trước khi bắt đầu",survey:"khảo sát, vui lòng trả lời các câu hỏi dưới đây",year:"Năm",month:"Tháng",jan:"January"}),r.translations("ru",{respTitle:"Прежде чем приступить к",survey:"опросу, ответьте на приведенные ниже вопросы.",year:"Год",month:"Месяц",jan:"январь"}),r.translations("th",{respTitle:"ก่อนที่คุณจะเริ่มการสำรวจโปรดตอบคำถามด้านล่างนี้",survey:" ",year:"ปี",month:"เดือน",jan:"มกราคม"}),r.translations("uk",{respTitle:"Перш ніж почати",survey:"огляд, будь-ласка, відповідайте на питання, наведені нижче",year:"рік",month:"місяць",boy:"хлопчик",girl:"дівчинка",jan:"Січень"}),r.translations("ar",{respTitle:"الإجابة على الأسئلة أدناه",survey:"قبل البدء في الاستبيان، يرجى",year:"عام",month:"شهر",jan:"كانون الثاني",girl:"صبي",boy:"فتاة"}),r.translations("ms",{respTitle:"Sebelum anda memulakan",survey:"tinjauan, sila jawab soalan di bawah",year:"Tahun",month:"Bulan",boy:"Lelaki",girl:"Perempuan",jan:"Januari"}),r.translations("nl",{respTitle:"Voordat u aan de enquête ",survey:"begint, beantwoordt u de onderstaande vragen",year:"jaar",month:"maanden",boy:"jongen",girl:"meisje",jan:"Januari"}),r.translations("nb",{respTitle:"Før du begynner",survey:"undersøkelsen, vennligst svar på spørsmålene nedenfor",year:"år",month:"måneder",boy:"gutt",girl:"jente",jan:"Januar"}),r.translations("da",{respTitle:"Før du begynder",survey:"undersøgelsen, bedes du besvare spørgsmålene nedenfor",year:"år",month:"måneder",boy:"dreng",girl:"pige",jan:"Januar"}),r.translations("sv",{respTitle:"Innan du börjar",survey:"undersökningen, vänligen svara på frågorna nedan",year:"år",month:"måneder",boy:"pojke",girl:"flicka",jan:"Januari"}),r.translations("tr",{respTitle:"Ankete başlamadan önce",survey:"lütfen aşağıdaki soruları cevaplayın",year:"Yaşında",month:"Aylık",boy:"Erkek",girl:"Kız",jan:"Ocak"}),r.translations("hu",{respTitle:"Felmérés megkezdése előtt kérlek, válaszolni a következő",survey:"kérdésekre.",year:"év",month:"Hónap",boy:"Fiú",girl:"Lány",jan:"ianuarie"}),r.translations("bg",{respTitle:"Преди да започне проучването моля отговорете на",survey:"въпросите по-долу",year:"година",month:"Месец",boy:"момче",girl:"момиче",jan:"януари"}),r.translations("ro",{respTitle:"Înainte de a începe sondajul, vă rugăm să răspundeți la",survey:"întrebările de mai jos.",year:"an",month:"Lună",boy:"Băiat",girl:"Fată",jan:"ianuarie"}),r.translations("cs",{respTitle:"Před zahájením průzkumu odpovězte prosím na",survey:"níže uvedené otázky.",year:"rok",month:"Měsíc",boy:"Chlapec",girl:"Dívka",jan:"leden"}),r.translations("sk",{respTitle:"Pred začatím prieskumu odpovedzte na",survey:"otázky uvedené nižšie",year:"rok",month:"Mesiac",boy:"chlapec",girl:"dievča",jan:"január"}),r.translations("el",{respTitle:"Πριν ξεκινήσετε την έρευνα, παρακαλώ απαντήστε στις παρακάτω",survey:"ερωτήσεις.",year:"χρόνος",month:"Μήνας",boy:"Αγόρι",girl:"Κορίτσι",jan:"Ιανουάριος"}),r.translations("he",{respTitle:"לפני שתתחיל בסקר, השב לשאלות",survey:"להלן.",year:"שָׁנָה",month:"חוֹדֶשׁ",boy:"יֶלֶד",girl:"ילדה",jan:"יָנוּאָר"}),r.translations("fi",{respTitle:"Ennen kuin aloitat kyselyn, vastaa kysymykseen",survey:"alla olevat kysymykset",year:"vuosi",month:"kuukausi",boy:"poika",girl:"tyttö",jan:"tammi"}),r.translations("bn",{respTitle:"সমীক্ষা শুরু করার আগে, প্রশ্নের উত্তর দিন",survey:"নীচে প্রশ্ন",year:"বছর",month:"মাস",boy:"ছেলে",girl:"মেয়ে",jan:"জান"}),r.translations("ur",{respTitle:"سروے شروع کرنے سے پہلے ، براہ کرم اس کا جواب دیں",survey:"ذیل میں سوالات",year:"سال",month:"مہینہ",boy:"لڑکا",girl:"لڑکی",jan:"جنوری"}),r.translations("pa",{respTitle:"ਸਰਵੇਖਣ ਸ਼ੁਰੂ ਕਰਨ ਤੋਂ ਪਹਿਲਾਂ, ਕਿਰਪਾ ਕਰਕੇ ਇਸ ਦਾ ਜਵਾਬ ਦਿਓ",survey:"ਹੇਠ ਸਵਾਲ",year:"ਸਾਲ",month:"ਮਹੀਨਾ",boy:"ਮੁੰਡਾ",girl:"ਕੁੜੀ",jan:"ਜਨਵਰੀ"}),r.translations("my",{respTitle:"စစ်တမ်းကို သင်မစတင်မီ၊ ကျေးဇူးပြု၍ အောက်ပါ",survey:"မေးခွန်းများကို ဖြေဆိုပါ။",year:"ခုနှစ်",month:"လ",boy:"ယောက်ျားလေး",girl:"ကောင်မလေး",jan:"ဇန်နဝါရီ"}),r.translations("km",{respTitle:"មុនពេលអ្នកចាប់ផ្តើមការស្ទង់មតិ សូមឆ្លើយសំណួរ ខាងក្រោម",survey:"សំណួរខាងក្រោម",year:"ឆ្នាំ",month:"ខែ",boy:"ក្មេងប្រុស",girl:"ក្មេងស្រី",jan:"ខែមករា"}),r.translations("sr",{respTitle:"Пре него што започнете анкету, одговорите на то",survey:"Питања испод",year:"Година",month:"Месец дана",boy:"Дечак",girl:"Девојка",jan:"Јануар"}),r.translations("hr",{respTitle:"Prije nego što započnete anketu, odgovorite na",survey:"Pitanja u nastavku",year:"Godina",month:"Mjesec",boy:"Dječak",girl:"Djevojka",jan:"Siječanj"}),r.translations("sl",{respTitle:"Preden začnete anketo, odgovorite na",survey:"spodaj vprašanja",year:"Leto",month:"Mesec",boy:"Fant",girl:"Deklica",jan:"Januar"}),r.translations("kk",{respTitle:"Сауалнаманы бастамас бұрын, жауап беріңізші",survey:"Төмендегі сұрақтар",year:"Жыл",month:"Ай",boy:"Ұл",girl:"Қыз бала",jan:"Қаңтар"}),r.translations("uz",{respTitle:"So'rovni boshlashdan oldin, iltimos javob bering",survey:"Quyidagi savollar",year:"Yil",month:"Oy",boy:"Bola",girl:"Qiz",jan:"Yanvar"}),r.translations("lt",{respTitle:"Prieš pradėdami apklausą, atsakykite į",survey:"klausimus žemiau",year:"Metai",month:"Mėnuo",boy:"Berniukas",girl:"Mergaitė",jan:"Sausis"}),r.translations("et",{respTitle:"Enne uuringu alustamist vastake palun",survey:"allpool küsimused",year:"Aasta",month:"Kuu",boy:"Poiss",girl:"Tütarlaps",jan:"Jaanuar"}),r.translations("lv",{respTitle:"Pirms aptaujas sākšanas, lūdzu, atbildiet uz",survey:"jautājumi zemāk",year:"Gads",month:"Mēnesis",boy:"Zēns",girl:"Meitene",jan:"Janvāris"}),r.translations("tl",{respTitle:"Bago mo simulan ang survey, mangyaring sagutin ang",survey:"mga katanungan sa ibaba",year:"Taon",month:"Buwan",boy:"Boy",girl:"Babae",jan:"Enero"}),r.translations("sw",{respTitle:"Kabla ya kuanza uchunguzi, tafadhali jibu",survey:"maswali hapa chini",year:"Mwaka",month:"Mwezi",boy:"Kijana",girl:"Msichana",jan:"Januari"}),r.translations("rw",{respTitle:"Mbere yo gutangira ubushakashatsi, nyamuneka subiza Uwiteka",survey:"Ibibazo bikurikira",year:"Umwaka",month:"Ukwezi",boy:"Umuhungu",girl:"Umukobwa",jan:"Mutarama"}),r.translations("sq",{respTitle:"Para se të filloni sondazhin, ju lutemi përgjigjuni",survey:"Pyetjet më poshtë",year:"Vit",month:"Muaj",boy:"Djalë",girl:"Vajze",jan:"Janar"}),r.translations("am",{respTitle:"የዳሰሳ ጥናቱን ከመጀመርዎ በፊት እባክዎን ይመልሱ",survey:"ከዚህ በታች ጥያቄዎች",year:"አመት",month:"ወር",boy:"ወንድ ልጅ",girl:"ልጃገረድ",jan:"ጥር"}),r.translations("la",{respTitle:"Priusquam incipiens",survey:"investigationis",year:"Annus",month:"Menses",boy:"Puer",girl:"Puella",jan:"Januarius"}),r.translations("mt",{respTitle:"Qabel ma tibda l-istħarriġ, jekk jogħġbok wieġeb",survey:"mistoqsijiet hawn taħt",year:"Sena",month:"Xahar",boy:"Tifel",girl:"Tifla",jan:"Jannar"}),r.translations("ka",{respTitle:"სანამ გამოკითხვას დაიწყებთ, გთხოვთ უპასუხოთ",survey:"ქვემოთ მოცემული კითხვები",year:"წელი",month:"თვე",boy:"ბიჭი",girl:"ქალიშვილი",jan:"იანვარი"}),r.translations("az",{respTitle:"Anketə başlamazdan əvvəl, cavab verin",survey:"suallar",year:"İl",month:"Ay",boy:"Oğlan",girl:"Qız",jan:"yanvar"}),r.translations("hy",{respTitle:"Նախքան հարցումը սկսելը, խնդրում ենք պատասխանել",survey:"Հարցեր ստորեւ",year:"Տարի",month:"Ամիս",boy:"Տղա",girl:"Աղջիկ",jan:"Հունվար"}),r.translations("ne",{respTitle:"तपाईंले सर्वेक्षण सुरू गर्नु अघि, कृपया जवाफ दिनुहोस्",survey:"तल प्रश्नहरू",year:"वर्ष",month:"महीना",boy:"केटा",girl:"केटी",jan:"जनवरी"}),r.translations("si",{respTitle:"ඔබ සමීක්ෂණය ආරම්භ කිරීමට පෙර, කරුණාකර පිළිතුරු දෙන්න",survey:"මිනුම්",year:"අවුරුදු",month:"මස",boy:"කොල්ලා",girl:"ගැහැණු ළමයා",jan:"ජන"}),r.translations("ky",{respTitle:"Сурамжылоону баштаардан мурун суроого жооп бериңиз",survey:"Төмөндө суроолор",year:"Жыл",month:"Ай",boy:"Бала",girl:"Кыз",jan:"Январь"}),r.translations("tk",{respTitle:"Anketany başlamazdan ozal jogap bermegiňizi haýyş edýäris",survey:"Aşakdaky soraglar",year:"Ýyl",month:"Aý",boy:"Oglan",girl:"Gyz",jan:"Januaryanwar"}),r.translations("tg",{respTitle:"Пеш аз оғози пурсиш, лутфан ҷавоб диҳед",survey:"Саволҳои дар поён",year:"Сол",month:"Моҳ",boy:"Писарбача",girl:"Духтар",jan:"Январ"}),r.translations("be",{respTitle:"Перш чым пачаць апытанне, калі ласка, адкажыце",survey:"Пытанні ніжэй",year:"Год",month:"Месяц",boy:"Хлопец",girl:"Дзяўчына",jan:"Студзень"}),r.translations("mr",{respTitle:"आपण सर्वेक्षण सुरू करण्यापूर्वी, कृपया उत्तर द्या",survey:"खाली प्रश्न",year:"वर्ष",month:"महिना",boy:"मुलगा",girl:"मुलगी",jan:"जानेवारी"}),r.translations("te",{respTitle:"మీరు సర్వే ప్రారంభించే ముందు, దయచేసి సమాధానం ఇవ్వండి",survey:"క్రింద ప్రశ్నలు",year:"సంవత్సరం",month:"నెల",boy:"అబ్బాయి",girl:"అమ్మాయి",jan:"జనవరి"}),r.translations("kn",{respTitle:"ನೀವು ಸಮೀಕ್ಷೆಯನ್ನು ಪ್ರಾರಂಭಿಸುವ ಮೊದಲು, ದಯವಿಟ್ಟು ಉತ್ತರಿಸಿ",survey:"ಕೆಳಗಿನ ಪ್ರಶ್ನೆಗಳು",year:"ವರ್ಷ",month:"ತಿಂಗಳು",boy:"ಹುಡುಗ",girl:"ಹುಡುಗಿ",jan:"ಜನವರಿ"}),r.translations("ml",{respTitle:"നിങ്ങൾ സർവേ ആരംഭിക്കുന്നതിന് മുമ്പ്, ദയവായി ഉത്തരം നൽകുക",survey:"ചുവടെയുള്ള ചോദ്യങ്ങൾ",year:"വര്ഷം",month:"മാസം",boy:"ആണ്കുട്ടി",girl:"പെണ്കുട്ടി",jan:"ജാനുവരി"}),r.translations("ta",{respTitle:"நீங்கள் கணக்கெடுப்பைத் தொடங்குவதற்கு முன், தயவுசெய்து பதிலளிக்கவும்",survey:"கீழே உள்ள கேள்விகள்",year:"ஆண்டு",month:"மாதம்",boy:"சிறுவன்",girl:"பெண்",jan:"ஜனவரி"}),r.translations("ht",{respTitle:"Anvan ou kòmanse sondaj la, tanpri reponn",survey:"kesyon ki anba a",year:"Ane",month:"Mwa",boy:"Ti gason",girl:"Ti fi",jan:"Janvye"}),r.preferredLanguage("en")}]),psApp.run(["$rootScope","$location","$state","notify","startSurvey",function(n,e,t,r,a){var i=e.search();"spectrumsurveys.com"===e.host()&&[4795].includes(i.supplier_id)?t.go("error"):""!==(i=e.url())&&"/"!==i&&"/error"!==i&&a.getBootstrappingData().success(function(e){n.operatorSettings=e.opertorSettings,n.defaultIncomeRanges=e.defaultIncomeRanges,n.ip=e.ip}).error(function(e){console.log("err "+JSON.stringify(e)),t.go("error"),r({message:"Error in loading setting",classes:"alert-danger",duration:2e3})})}]),config||{}),countryRegex={US:/^([0-9]{3,5})$/i,PR:/^([0-9]{3,5})$/i,CA:/^[a-z]\d[a-z]\s?\d[a-z]\d/i,UK:/^[a-zA-Z0-9]{2,3}([A-Z0-9](?=\s*[a-zA-Z0-9]{3}|$))?/i,AU:/^[0-9]{4,4}$/i,MX:/^\d{5}$/i,BR:/^\d{5}-?\d{3}$/i,FR:/^[0-9]{4,5}$/i,IT:/^[0-9]{5,5}$/i,ES:/^[0-9]{5,5}$/i,DE:/^[0-9]{5,5}$/i,NL:/^\d{4} [A-Za-z]{2}$|^\d{4}$/i,IN:/^[1-9][0-9]{5}$/i,JP:/^\d{3}-?\d{4}$/i,SG:/^[0-9]{6}$/i,KR:/^[0-9]{5}$/i,ID:/^\d{5}$/i,PH:/^[0-9]{4}$/i,TH:/^[1-9][0-9]{4}$/i,VN:/^\d{5}$/i,PL:/^[0-9]{2}-[0-9]{3}$/i,TR:/^[0-9]{5}$/i,CO:/^[0-9]{6}$/i,AR:/^(\d{4})$|([A-Z]\d{4}\s?[A-Z]{3})$/i,PE:/^[0-9]{5}$/i,CL:/^[0-9]{7}$/i,SE:/^[0-9]{5}$/i},PRIVACY_POLICY_QUAL_ID=(countryRegex.PL=/^\d{2}-?\d{3}$/i,countryRegex.AT=/^[0-9]{4}/i,countryRegex.NZ=/^[0-9]{4}/i,countryRegex.PT=/^\d{4}-?\d{3}$/i,countryRegex.CH=/^[0-9]{4}/i,countryRegex.CN=/^[0-9]{5,6}$/,countryRegex.AU=/^[0-9]{4}/i,countryRegex.RU=/^[0-9]{6}/i,countryRegex.KR=/^[0-9]{5}/i,countryRegex.CO=/^[0-9]{6}/i,countryRegex.PH=/^[0-9]{4}/i,countryRegex.UA=/^[0-9]{5}$/i,countryRegex.TR=/^[0-9]{5}$/i,countryRegex.EC=/^[0-9]{6}/i,countryRegex.CR=/^\d{5}$/i,countryRegex.BE=/^[0-9]{4}$/i,countryRegex.RO=/^\d{6}$/i,countryRegex.HU=/^[0-9]{4}/i,countryRegex.BG=/^[0-9]{4}/i,countryRegex.CZ=/^\d{3} ?\d{2}$/i,countryRegex.SK=/^\d{3} ?\d{2}$/i,countryRegex.GR=/^\d{3} ?\d{2}$/i,countryRegex.IL=/^\d{5} ?\d{2}$/i,countryRegex.FI=/^[0-9]{5}$/i,countryRegex.BD=/^[0-9]{4}$/i,countryRegex.PK=/^\d{5}$/i,countryRegex.KW=/^[0-9]{5}$/i,countryRegex.MY=/^[0-9]{5}$/,countryRegex.LB=/^[0-9]{6}$/i,countryRegex.MM=/^\d{7}$/i,countryRegex.KH=/^\d{6}$/i,countryRegex.RS=/^\d{5}$/i,countryRegex.HR=/^\d{5}$/i,countryRegex.SI=/^\d{4}$/i,countryRegex.UZ=/^\d{6}$/i,countryRegex.LT=/^\d{5}$/i,countryRegex.EE=/^\d{5}$/i,countryRegex.LV=/^\d{4}$/i,countryRegex.DZ=/^[0-9]{4,5}/i,countryRegex.KE=/^\d{5}$/i,countryRegex.JO=/^\d{5}$/i,countryRegex.SV=/^\d{4}$/i,countryRegex.GT=/^\d{5}$/i,countryRegex.MZ=/^\d{4}$/i,countryRegex.MA=/^\d{5}$/i,countryRegex.PY=/^\d{4,6}/i,countryRegex.UY=/^\d{5}$/i,countryRegex.HT=/^\d{4}$/i,countryRegex.MD=/^\d{4}$/i,countryRegex.XK=/^\d{5}$/i,countryRegex.GH=/^(?:[A-Z]{2}|[AEG]\d|[A-Z]{3})$/i,countryRegex.MT=/^[A-Z]{3}\d{4}$/i,countryRegex.CY=/^\d{4}$/i,countryRegex.LU=/^\d{4}$/i,countryRegex.GE=/^\d{4}/i,countryRegex.AZ=/^AZ\d{4}$/i,countryRegex.AM=/^\d{4}$/i,countryRegex.NP=/^\d{5}$/i,countryRegex.KG=/^\d{6}$/i,countryRegex.TM=/^\d{6}$/i,countryRegex.BY=/^\d{6}$/i,countryRegex.NO=/^\d{4}$/i,countryRegex.AL=/^\d{4}$/i,countryRegex.VE=/^\d{1,4}$/i,countryRegex.IQ=/^\d{2}$/i,countryRegex.DK=/^\d{4}/i,countryRegex.TW=/^\d{3,6}/i,countryRegex.EG=/^\d{4,5}$|^\d{7}$/i,countryRegex.NG=/^\d{1,6}$/i,countryRegex.SA=/^\d{5}$/i,countryRegex.IE=/^[A-Z]\d[A-Z0-9]$/i,countryRegex.ZA=/^\d{4}$/i,countryRegex.BH=/^\d{3,4}/i,countryRegex.KZ=/^[A-Z]\d[A-Z0-9]$/i,99996),RECAPTCHA_V3_SITE_KEY="6LcaISIpAAAAAKGqrLi9p4ozImrcfHyROmnCJpGw",HCAPTCHA_SITE_KEY="00a52163-37de-438e-b398-46de3573667c",HCAPTCHA_DUMMY_KEY="10000000-ffff-ffff-ffff-000000000001",QUESTION_CLASS={CORE:1,EXTENDED:2,CUSTOM:3,DEPENDENT:4,DATA_QUALITY:5,SEGMENTATION:6},QUESTION_CATEGORY={CORE:"simple",EXTENDED:"advance",CUSTOM:"advance",DEPENDENT:"dependent",DATA_QUALITY:"data_quality",SEGMENTATION:"advance"},childAgeError={en_US:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},es_US:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},en_CA:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},fr_CA:{invalid:"Veuillez saisir un âge valable pour l'enfant, ne dépassant pas 17 ans"},en_UK:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},en_AU:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},fr_FR:{invalid:"Veuillez saisir un âge valable pour l'enfant, ne dépassant pas 17 ans"},ja_JP:{invalid:"17歳を超えない、子供に有効な年齢を入力してください"},en_PH:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},pt_BR:{invalid:"Por favor, insira uma idade válida para a criança, não superior a 17 anos"},it_IT:{invalid:"Inserisci un'età valida per il bambino, non superiore a 17 anni"},es_MX:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},es_AR:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},es_ES:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},es_CL:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},es_CO:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},de_DE:{invalid:"Bitte geben Sie ein gültiges Alter für das Kind ein, von nicht mehr als 17 Jahren"},en_IN:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},pl_PL:{invalid:"Wprowadź ważny wiek dla dziecka, nie przekraczający 17 lat"},ko_KR:{invalid:"17 세를 초과하지 않고 아동의 유효한 연령을 입력하십시오."},en_NG:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},id_ID:{invalid:"Harap masukkan usia yang valid untuk anak, tidak melebihi 17 tahun"},hi_IN:{invalid:"कृपया बच्चे के लिए एक वैध युग दर्ज करें, 17 साल से अधिक नहीं"},zh_CN:{invalid:"请输入孩子的有效年龄，不超过17岁"},uk_UA:{invalid:"Будь ласка, введіть дійсне вік для дитини, не перевищуючи 17 років"},en_IE:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},en_HK:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},ms_MY:{invalid:"Sila masukkan usia yang sah untuk kanak -kanak, tidak melebihi 17 tahun"},nl_NL:{invalid:"Voer een geldige leeftijd in voor het kind, niet meer dan 17 jaar"},nl_BE:{invalid:"Voer een geldige leeftijd in voor het kind, niet meer dan 17 jaar"},fr_BE:{invalid:"Veuillez saisir un âge valable pour l'enfant, ne dépassant pas 17 ans"},nb_NO:{invalid:"Vennligst skriv inn en gyldig alder for barnet, ikke over 17 år"},da_DK:{invalid:"Indtast venligst en gyldig alder for barnet, der ikke overstiger 17 år"},en_ZA:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},sv_SE:{invalid:"Ange en giltig ålder för barnet, som inte överstiger 17 år"},tr_TR:{invalid:"Lütfen 17 yılı aşmayan çocuk için geçerli bir yaş girin"},de_AT:{invalid:"Bitte geben Sie ein gültiges Alter für das Kind ein, von nicht mehr als 17 Jahren"},de_CH:{invalid:"Bitte geben Sie ein gültiges Alter für das Kind ein, von nicht mehr als 17 Jahren"},fr_CH:{invalid:"Veuillez saisir un âge valable pour l'enfant, ne dépassant pas 17 ans"},en_SG:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},en_NZ:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},pt_PT:{invalid:"Por favor, insira uma idade válida para a criança, não superior a 17 anos"},es_PE:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},es_EC:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},es_CR:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},ru_RU:{invalid:"Пожалуйста, введите действующий возраст для ребенка, не более 17 лет"},en_RU:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},en_PR:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},es_PR:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},hu_HU:{invalid:"Kérjük, írjon be érvényes életkorot a gyermek számára, nem haladja meg a 17 évet"},ro_RO:{invalid:"Vă rugăm să introduceți o vârstă valabilă pentru copil, care nu depășește 17 ani"},bg_BG:{invalid:"Моля, въведете валидна възраст за детето, което не надвишава 17 години"},cs_CZ:{invalid:"Zadejte platný věk pro dítě, nepřesahující 17 let"},sk_SK:{invalid:"Zadejte platný věk pro dítě, nepřesahující 17 let"},el_GR:{invalid:"Εισαγάγετε μια έγκυρη ηλικία για το παιδί, που δεν υπερβαίνει τα 17 χρόνια"},he_IL:{invalid:"אנא הזן גיל תקף לילד, ולא יעלה על 17 שנים"},th_TH:{invalid:"โปรดป้อนอายุที่ถูกต้องสำหรับเด็กไม่เกิน 17 ปี"},en_FI:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},fi_FI:{invalid:"Anna lapselle voimassa oleva ikä, enintään 17 vuotta"},sv_FI:{invalid:"Ange en giltig ålder för barnet, som inte överstiger 17 år"},"zh-Hant_TW":{invalid:"請輸入孩子的有效年齡，不超過17歲"},"zh-Hant_HK":{invalid:"請輸入孩子的有效年齡，不超過17歲"},es_SV:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},tl_PH:{invalid:"Mangyaring magpasok ng isang wastong edad para sa bata, hindi hihigit sa 17 taon"},ar_DZ:{invalid:"الرجاء إدخال عمر صالح للطفل ، لا يتجاوز 17 عامًا"},ar_MA:{invalid:"الرجاء إدخال عمر صالح للطفل ، لا يتجاوز 17 عامًا"},sw_KE:{invalid:"Tafadhali ingiza umri halali kwa mtoto, isiyozidi miaka 17"},es_GT:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},pt_MZ:{invalid:"Por favor, insira uma idade válida para a criança, não superior a 17 anos"},ar_BH:{invalid:"الرجاء إدخال عمر صالح للطفل ، لا يتجاوز 17 عامًا"},ar_JO:{invalid:"الرجاء إدخال عمر صالح للطفل ، لا يتجاوز 17 عامًا"},fr_HT:{invalid:"Veuillez saisir un âge valable pour l'enfant, ne dépassant pas 17 ans"},es_PA:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},sq_XK:{invalid:"Ju lutemi shkruani një moshë të vlefshme për fëmijën, jo më shumë se 17 vjet"},en_JM:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},fr_CD:{invalid:"Veuillez saisir un âge valable pour l'enfant, ne dépassant pas 17 ans"},en_SA:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},es_UY:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},es_PY:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},la_RS:{invalid:"Please enter validum aetatis ad puerum, non excedens XVII annorum"},sr_RS:{invalid:"Молимо унесите важеће доба детета, не прелази 17 година"},en_GH:{invalid:"Please enter a valid age for the child, not exceeding 17 years"},ar_OM:{invalid:"الرجاء إدخال عمر صالح للطفل ، لا يتجاوز 17 عامًا"},rw_RW:{invalid:"Nyamuneka andika imyaka yemewe kumwana, utarenze imyaka 17"},am_ET:{invalid:"እባክዎን ለህፃኑ ዕድሜያቸው ከ 17 ዓመት ያልበለጠ ለህፃኑ ትክክለኛ ዕድሜ ያስገቡ"},ro_MD:{invalid:"Vă rugăm să introduceți o vârstă valabilă pentru copil, care nu depășește 17 ani"},ar_SD:{invalid:"الرجاء إدخال عمر صالح للطفل ، لا يتجاوز 17 عامًا"},hy_AM:{invalid:"Խնդրում ենք մուտքագրել վավեր տարիքի երեխայի համար, ոչ թե 17 տարի գերազանցող"},si_LK:{invalid:"කරුණාකර අවුරුදු 17 නොඉක්මතය නොඉක්මවන දරුවා සඳහා වලංගු වයසක් ඇතුළත් කරන්න"},az_AZ:{invalid:"Xahiş edirəm 17 ildən çox olmayan uşaq üçün etibarlı bir yaş daxil edin"},ka_GE:{invalid:"გთხოვთ, შეიტანოთ სწორი ასაკი ბავშვისთვის, არ აღემატება 17 წლის განმავლობაში"},el_CY:{invalid:"Εισαγάγετε μια έγκυρη ηλικία για το παιδί, που δεν υπερβαίνει τα 17 έτη"},mt_MT:{invalid:"Jekk jogħġbok daħħal età valida għat-tifel, u ma taqbiżx is-17-il sena"},fr_LU:{invalid:"Veuillez saisir un âge valable pour l'enfant, ne dépassant pas 17 ans"},ne_NP:{invalid:"कृपया बच्चाको लागि वैध उमेर प्रविष्ट गर्नुहोस्, 1 17 बर्ष भन्दा बढी छैन"},fr_CI:{invalid:"Veuillez saisir un âge valable pour l'enfant, ne dépassant pas 17 ans"},ky_KG:{invalid:"Сураныч, бала үчүн жарактуу куракты киргизиңиз, 17 жаштан ашпаган"},tg_TJ:{invalid:"Лутфан синну соли дурусти кӯдакро, ки аз 17-сола зиёд нест, ворид кунед"},tk_TM:{invalid:"Çaga üçin 17 ýaşdan uly bolmadyk ýaşy giriziň"},bn_BD:{invalid:"অনুগ্রহ করে সন্তানের জন্য একটি বৈধ বয়স লিখুন, 17 বছরের বেশি নয়"},be_BY:{invalid:"Калі ласка, увядзіце сапраўдны ўзрост для дзіцяці, не перавышае 17 гадоў"},ar_SA:{invalid:"الرجاء إدخال عمر صالح للطفل ، لا يتجاوز 17 عامًا"},bn_IN:{invalid:"অনুগ্রহ করে সন্তানের জন্য একটি বৈধ বয়স লিখুন, 17 বছরের বেশি নয়"},te_IN:{invalid:"దయచేసి పిల్లల కోసం చెల్లుబాటు అయ్యే వయస్సును నమోదు చేయండి, 17 సంవత్సరాలు మించకూడదు"},mr_IN:{invalid:"कृपया मुलासाठी वैध वय प्रविष्ट करा, 17 वर्षांपेक्षा जास्त नाही"},ml_IN:{invalid:"കുട്ടിയുടെ സാധുവായ പ്രായം നൽകുക, 17 വയസ്സിൽ കൂടരുത്"},ta_IN:{invalid:"குழந்தையின் சரியான வயதை உள்ளிடவும், 17 வயதுக்கு மிகாமல் இருக்கவும்"},kn_IN:{invalid:"ದಯವಿಟ್ಟು ಮಗುವಿಗೆ ಮಾನ್ಯವಾದ ವಯಸ್ಸನ್ನು ನಮೂದಿಸಿ, 17 ವರ್ಷಗಳನ್ನು ಮೀರಬಾರದು"},ar_IQ:{invalid:"الرجاء إدخال عمر صالح للطفل ، لا يتجاوز 17 عامًا"},pt_AO:{invalid:"Por favor, insira uma idade válida para a criança, não superior a 17 anos"},sq_AL:{invalid:"Ju lutemi shkruani një moshë të vlefshme për fëmijën, jo më shumë se 17 vjet"},es_BO:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"},es_VE:{invalid:"Ingrese una edad válida para el niño, no superior a los 17 años"}};function _createForOfIteratorHelper(e,n){var t,r,a,i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return r=!(t=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return t=e.done,e},e:function(e){r=!0,a=e},f:function(){try{t||null==s.return||s.return()}finally{if(r)throw a}}};if(Array.isArray(e)||(s=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:n=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,n):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(n,e){var t,r=Object.keys(n);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(n),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)),r}function _objectSpread(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,n){if("object"!==_typeof(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===n?String:Number)(e);t=t.call(e,n||"default");if("object"!==_typeof(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return s};var d,s={},e=Object.prototype,u=e.hasOwnProperty,l=Object.defineProperty||function(e,n,t){e[n]=t.value},n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",t=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function i(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{i({},"")}catch(d){i=function(e,n,t){return e[n]=t}}function o(e,n,t,r){var a,i,s,o,n=n&&n.prototype instanceof h?n:h,n=Object.create(n.prototype),r=new x(r||[]);return l(n,"_invoke",{value:(a=e,i=t,s=r,o=p,function(e,n){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===e)throw n;return{value:d,done:!0}}for(s.method=e,s.arg=n;;){var t=s.delegate;if(t){t=function e(n,t){var r=t.method,a=n.iterator[r];if(a===d)return t.delegate=null,"throw"===r&&n.iterator.return&&(t.method="return",t.arg=d,e(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;r=c(a,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;a=r.arg;return a?a.done?(t[n.resultName]=a.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=d),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}(t,s);if(t){if(t===g)continue;return t}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(o===p)throw o=y,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);o=m;t=c(a,i,s);if("normal"===t.type){if(o=s.done?y:f,t.arg===g)continue;return{value:t.arg,done:s.done}}"throw"===t.type&&(o=y,s.method="throw",s.arg=t.arg)}})}),n}function c(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}s.wrap=o;var p="suspendedStart",f="suspendedYield",m="executing",y="completed",g={};function h(){}function v(){}function _(){}var n={},I=(i(n,r,function(){return this}),Object.getPrototypeOf),I=I&&I(I(A([]))),b=(I&&I!==e&&u.call(I,r)&&(n=I),_.prototype=h.prototype=Object.create(n));function P(e){["next","throw","return"].forEach(function(n){i(e,n,function(e){return this._invoke(n,e)})})}function w(s,o){var n;l(this,"_invoke",{value:function(t,r){function e(){return new o(function(e,n){!function n(e,t,r,a){var i,e=c(s[e],s,t);if("throw"!==e.type)return(t=(i=e.arg).value)&&"object"==_typeof(t)&&u.call(t,"__await")?o.resolve(t.__await).then(function(e){n("next",e,r,a)},function(e){n("throw",e,r,a)}):o.resolve(t).then(function(e){i.value=e,r(i)},function(e){return n("throw",e,r,a)});a(e.arg)}(t,r,e,n)})}return n=n?n.then(e,e):e()}})}function D(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function S(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function A(n){if(n||""===n){var t,e=n[r];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return t=-1,(e=function e(){for(;++t<n.length;)if(u.call(n,t))return e.value=n[t],e.done=!1,e;return e.value=d,e.done=!0,e}).next=e}throw new TypeError(_typeof(n)+" is not iterable")}return l(b,"constructor",{value:v.prototype=_,configurable:!0}),l(_,"constructor",{value:v,configurable:!0}),v.displayName=i(_,a,"GeneratorFunction"),s.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,i(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},s.awrap=function(e){return{__await:e}},P(w.prototype),i(w.prototype,t,function(){return this}),s.AsyncIterator=w,s.async=function(e,n,t,r,a){void 0===a&&(a=Promise);var i=new w(o(e,n,t,r),a);return s.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},P(b),i(b,a,"Generator"),i(b,r,function(){return this}),i(b,"toString",function(){return"[object Generator]"}),s.keys=function(e){var n,t=Object(e),r=[];for(n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},s.values=A,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&u.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=d)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(e,n){return i.type="throw",i.arg=t,r.next=e,n&&(r.method="next",r.arg=d),!!n}for(var n=this.tryEntries.length-1;0<=n;--n){var a=this.tryEntries[n],i=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var s=u.call(a,"catchLoc"),o=u.call(a,"finallyLoc");if(s&&o){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}var i=(a=a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc?null:a)?a.completion:{};return i.type=e,i.arg=n,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),g},finish:function(e){for(var n=this.tryEntries.length-1;0<=n;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),S(t),g}},catch:function(e){for(var n=this.tryEntries.length-1;0<=n;--n){var t,r,a=this.tryEntries[n];if(a.tryLoc===e)return"throw"===(t=a.completion).type&&(r=t.arg,S(a)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:A(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=d),g}},s}function asyncGeneratorStep(e,n,t,r,a,i,s){try{var o=e[i](s),d=o.value}catch(e){return void t(e)}o.done?n(d):Promise.resolve(d).then(r,a)}function _asyncToGenerator(o){return function(){var e=this,s=arguments;return new Promise(function(n,t){var r=o.apply(e,s);function a(e){asyncGeneratorStep(r,n,t,a,i,"next",e)}function i(e){asyncGeneratorStep(r,n,t,a,i,"throw",e)}a(void 0)})}}function ownKeys(n,e){var t,r=Object.keys(n);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(n),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)),r}function _objectSpread(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,n){if("object"!==_typeof(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===n?String:Number)(e);t=t.call(e,n||"default");if("object"!==_typeof(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,n){var t,r,a,i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return r=!(t=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return t=e.done,e},e:function(e){r=!0,a=e},f:function(){try{t||null==s.return||s.return()}finally{if(r)throw a}}};if(Array.isArray(e)||(s=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:n=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,n):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _createForOfIteratorHelper(e,n){var t,r,a,i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return r=!(t=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return t=e.done,e},e:function(e){r=!0,a=e},f:function(){try{t||null==s.return||s.return()}finally{if(r)throw a}}};if(Array.isArray(e)||(s=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:n=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){var t;if(e)return"string"==typeof e?_arrayLikeToArray(e,n):"Map"===(t="Object"===(t=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(n,e){var t,r=Object.keys(n);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(n),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)),r}function _objectSpread(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function _defineProperty(e,n,t){return(n=_toPropertyKey(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,n){if("object"!==_typeof(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===n?String:Number)(e);t=t.call(e,n||"default");if("object"!==_typeof(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}config.development={env:"development",app:"pureSpectrumApp-Dev",pureSpecturm:{url:"http://localhost:3000",uploadServiceUrl:"https://ssistagingboomerang.spectrumsurveys.com/ssiboomerang/api/v1/upload"},languageDefault:1,countryDefault:1,BSEC:"a70mx8",HONEY_POT_TAG:"HoneyPot",countryRegex:countryRegex,enableTrueSample:!1,PRIVACY_POLICY_QUAL_ID:PRIVACY_POLICY_QUAL_ID,RECAPTCHA_V3_SITE_KEY:"6LfFVy0pAAAAAIkMHeVKpJW1rTxv19So1rMkUPXb",sampleChain:{url:"https://staging.rtymgt.com/api/v4/respondents",publicKey:"4f2cf3f8-057e-4267-a2ae-e0d899568941",hours:24},DFIQConfig:{channelName:"PS Development"},childAgeError:childAgeError,HCAPTCHA_SITE_KEY:HCAPTCHA_DUMMY_KEY},config.sandbox={env:"sandbox",app:"pureSpectrumApp-Sandbox",pureSpecturm:{url:"https://api.sandbox.spectrumsurveys.com",uploadServiceUrl:"https://ssistagingboomerang.spectrumsurveys.com/ssiboomerang/api/v1/upload"},languageDefault:1,countryDefault:1,BSEC:"a70mx8",HONEY_POT_TAG:"HoneyPot",countryRegex:countryRegex,enableTrueSample:!1,PRIVACY_POLICY_QUAL_ID:PRIVACY_POLICY_QUAL_ID,RECAPTCHA_V3_SITE_KEY:RECAPTCHA_V3_SITE_KEY,sampleChain:{url:"https://staging.rtymgt.com/api/v4/respondents",publicKey:"4f2cf3f8-057e-4267-a2ae-e0d899568941",hours:24},DFIQConfig:{channelName:"PS Sandbox"},childAgeError:childAgeError,HCAPTCHA_SITE_KEY:HCAPTCHA_DUMMY_KEY},config.qa={env:"qa",app:"pureSpectrumApp-QA",pureSpecturm:{url:"https://qa1-api.spectrumsurveys.com",uploadServiceUrl:"https://ssistagingboomerang.spectrumsurveys.com/ssiboomerang/api/v1/upload"},languageDefault:1,countryDefault:1,BSEC:"a70mx8",HONEY_POT_TAG:"HoneyPot",countryRegex:countryRegex,enableTrueSample:!1,PRIVACY_POLICY_QUAL_ID:PRIVACY_POLICY_QUAL_ID,RECAPTCHA_V3_SITE_KEY:RECAPTCHA_V3_SITE_KEY,sampleChain:{url:"https://staging.rtymgt.com/api/v4/respondents",publicKey:"4f2cf3f8-057e-4267-a2ae-e0d899568941",hours:24},DFIQConfig:{channelName:"PS QA"},childAgeError:childAgeError,HCAPTCHA_SITE_KEY:HCAPTCHA_SITE_KEY},config.staging={env:"staging",app:"pureSpectrumApp-Staging",pureSpecturm:{url:"https://staging.spectrumsurveys.com",uploadServiceUrl:"https://ssistagingboomerang.spectrumsurveys.com/ssiboomerang/api/v1/upload"},languageDefault:1,countryDefault:1,BSEC:"a70mx8",HONEY_POT_TAG:"HoneyPot",countryRegex:countryRegex,enableTrueSample:!1,PRIVACY_POLICY_QUAL_ID:PRIVACY_POLICY_QUAL_ID,RECAPTCHA_V3_SITE_KEY:RECAPTCHA_V3_SITE_KEY,sampleChain:{url:"https://staging.rtymgt.com/api/v4/respondents",publicKey:"4f2cf3f8-057e-4267-a2ae-e0d899568941",hours:24},DFIQConfig:{channelName:"PS Staging"},childAgeError:childAgeError,HCAPTCHA_SITE_KEY:HCAPTCHA_SITE_KEY},config.uat={env:"uat",app:"pureSpectrumApp-Staging",pureSpecturm:{url:"https://uat.spectrumsurveys.com:3000",uploadServiceUrl:"https://ssistagingboomerang.spectrumsurveys.com/ssiboomerang/api/v1/upload"},languageDefault:1,countryDefault:1,BSEC:"a70mx8",HONEY_POT_TAG:"HoneyPot",countryRegex:countryRegex,enableTrueSample:!1,PRIVACY_POLICY_QUAL_ID:PRIVACY_POLICY_QUAL_ID,RECAPTCHA_V3_SITE_KEY:RECAPTCHA_V3_SITE_KEY,sampleChain:{url:"https://staging.rtymgt.com/api/v4/respondents",publicKey:"4f2cf3f8-057e-4267-a2ae-e0d899568941",hours:24},DFIQConfig:{channelName:"PS Uat"},childAgeError:childAgeError,HCAPTCHA_SITE_KEY:HCAPTCHA_SITE_KEY},config.production={env:"production",app:"pureSpectrumApp-Prod",pureSpecturm:{url:"https://spectrumsurveys.com",uploadServiceUrl:"https://ssiboomerang.spectrumsurveys.com/ssiboomerang/api/v1/upload"},languageDefault:1,countryDefault:1,BSEC:"a70mx8",HONEY_POT_TAG:"HoneyPot",countryRegex:countryRegex,enableTrueSample:!1,PRIVACY_POLICY_QUAL_ID:PRIVACY_POLICY_QUAL_ID,RECAPTCHA_V3_SITE_KEY:RECAPTCHA_V3_SITE_KEY,sampleChain:{url:"https://prod.rtymgt.com/api/v4/respondents",publicKey:"ad7ee271-f073-4afd-a997-75873c5e886a",hours:24},DFIQConfig:{channelName:"PS Prod"},childAgeError:childAgeError,HCAPTCHA_SITE_KEY:HCAPTCHA_SITE_KEY},angular.module("pureSpectrumApp").factory("config",function(){var e=0===(e=window.document.URL).indexOf("http://127.0.0.1")||0===e.indexOf("http://localhost")||0===e.indexOf("http://dev.spectrumsurveys.com")?"development":0===e.indexOf("http://api.sandbox.spectrumsurveys.com")||0===e.indexOf("https://api.sandbox.spectrumsurveys.com")?"sandbox":0===e.indexOf("https://qa")?"qa":0===e.indexOf("http://staging.spectrumsurveys.com")||0===e.indexOf("https://staging.spectrumsurveys.com")?"staging":0===e.indexOf("http://uat.spectrumsurveys.com")||0===e.indexOf("https://uat.spectrumsurveys.com")?"uat":0===e.indexOf("https://spectrumsurveys.com")||0===e.indexOf("http://spectrumsurveys.com")?"production":void 0;if(e)return window.config[e];throw new Error("failed to detect application env")}),angular.module("pureSpectrumApp").service("captchaService",["$http","config",function(t,e){var r=e.pureSpecturm.url;this.getCaptcha=function(e){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return t.get("".concat(r,"/transactions/").concat(e,"/ps-captcha?refresh=").concat(n))}}]),angular.module("pureSpectrumApp").factory("createSurvey",["$http","config","$window","localStorageService",function(i,e,n,t){var r=t.get("logedInUser"),s=e.pureSpecturm.url;return{getSurveyData:function(){return i.get(s+"/survey/"+r.cmp)},getSurveyById:function(e){var n=e.surveyNum,e=this.serialize(e);return i.get(s+"/surveyById/"+n+"?q=respondent&"+e)},answerByUser:function(e){return i.post(s+"/respondentProfile",e)},getSurveyTid:function(e){var n=e.tid,e=this.serialize(e);return i.get(s+"/survey/tid/"+n+"?q=respondent&"+e)},saveTraffic:function(e){return i.post(s+"/survey/traffic",e)},validateZipcode:function(e,n,t){return i.get(s+"/zipcode/validate/"+e+"/"+n+"?lang="+t)},saveRespondantData:function(e){return i.post(s+"/respondentProfile/saveData",e)},getScreenerByID:function(e,n,t,r,a){return i.get(s+"/v1/pss_screener/getScreener/"+e+"/"+t+"?PSID="+n+"&token="+r+"&ps_redirect_test="+a)},getAnswerByqualificationId:function(e,n){return i.post(s+"/v1/pss_screener/getAnswerByQualification/"+n,e)},serialize:function(e){var n,t=[];for(n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}}}]),angular.module("pureSpectrumApp").service("clipboardDetector",["$http","config",function(a,i){function r(e,n,t){var e=e.target.closest("type-input-dir"),r=i.pureSpecturm.url,n={method:n,qualId:e?e.getAttribute("qualificationid"):null,data:t};a.put("".concat(r,"/transactions/").concat(s,"/data-quality"),{clipboardItem:n,isClipboardDetected:!0})}var s=null;this.setTransactionId=function(e){s=e},this.detect=function(){document.addEventListener("paste",function(e){var n=e.clipboardData,t=(t=n.getData("text/plain"))||n.getData("text");r(e,"paste",t)}),document.addEventListener("copy",function(e){var n=window.getSelection().toString();r(e,"copy",n)}),document.addEventListener("cut",function(e){var n=window.getSelection().toString();r(e,"cut",n)})}}]),angular.module("pureSpectrumApp").service("tabActivityDetector",["$http","config",function(e,n){var t=null,r=0,a=0,i=!1;this.setTransactionId=function(e){t=e,(r||a)&&this.updateTransaction()},this.updateTransaction=function(){t&&e.put("".concat(n.pureSpecturm.url,"/transactions/").concat(t,"/data-quality"),{lostFocusCount:r,lostVisibilityCount:a,isTabActivityDetected:!0,isPopupClicked:i})},this.detect=function(){var e=this;window.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(a++,e.updateTransaction())}),window.addEventListener("blur",function(){r++,e.updateTransaction()})},this.updatePopupActivity=function(){i=!0,this.updateTransaction(i)},this.isPopupClicked=function(){return i}}]),angular.module("pureSpectrumApp").service("translationServiceDetector",["$http","config","$window",function(l,c,p){var f=!1,m=null;this.setTransactionId=function(e){m=e},this.detect=function(){var e=document.querySelector("html"),n=document.getElementsByTagName("title")[0],t=new MutationObserver(function(e){e.forEach(function(e){var n,t;"attributes"===e.type&&(n="class"===e.attributeName&&("translate"==e.target.className.substring(0,9)||e.target.className.includes("translated")),t="_msthash"===e.attributeName||"_msttexthash"===e.attributeName,e="lang"===e.attributeName,f=f||(n||t||e))})}),r=new MutationObserver(function(e){if(f&&m){var n,t=[],r=0,a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;if("characterData"!==i.type)console.warn("mutation type is not characterData",i.type);else{var s=i.oldValue,o=i.target.data,d=-1<o.indexOf("{{")&&-1<o.indexOf("}}");if(!d&&s!==o&&(t.push(o),256<=(r+=o.length)))break}}}catch(e){a.e(e)}finally{a.f()}var u,e=t.join(" ");4<e.length&&(f=!1,p.hj&&p.hj("event","fraud-language-translated-session"),u=c.pureSpecturm.url,l.patch("".concat(u,"/transactions/").concat(m),[{path:"/isTranslationServiceDetected",op:"replace",value:!0,phrase:e}]))}});r.observe(e,{characterData:!0,characterDataOldValue:!0,subtree:!0}),r.observe(n,{characterData:!0,characterDataOldValue:!0,subtree:!0}),t.observe(e,{attributes:!0}),t.observe(n,{attributes:!0})}}]),angular.module("pureSpectrumApp").factory("DFIQService",["$http","config","$window",function(t,e,n){function r(e){var n=!0;e.forensic.marker.score<25&&1==e.forensic.unique.isEventUnique&&(n=!1),u(_objectSpread({DFIQResponseSuccess:!0,isDFFraudDetected:n},e))}function a(e){u(_objectSpread({DFIQResponseSuccess:!1},e))}var i=e.DFIQConfig.channelName,s=e.pureSpecturm.url,o=0,d=null,u=function(e){var n=Date.now()-o;return t.put("".concat(s,"/transactions/").concat(d,"/device-forensic"),_objectSpread({DFIQResponseTime:n},e))};return{checkForensIQ:function(e,n,t){o=Date.now(),d=e;n=Forensic.createUniquenessParam(n),t=Forensic.createGeoParam(t);Forensic.forensic(e,r,a,n,t,null,null,i)}}}]),angular.module("pureSpectrumApp").factory("fiftyOneDeviceDetectionService",["config","$http","$q",function(a,i,d){function n(t,e,n){var r=1<arguments.length&&void 0!==e?e:3,a=2<arguments.length&&void 0!==n?n:100,i=d.defer(),s=1,o=Date.now();return function n(){var e=document.createElement("script");e.src=t,e.onload=function(){var e=Date.now();i.resolve(e-o)},e.onerror=function(e){s<r?(s++,console.log("Retrying to load script: ".concat(t,". Attempt ").concat(s)),setTimeout(n,a)):i.reject({attempts:r,error:"Failed to load scripts ".concat(t)})},document.head.appendChild(e)}(),i.promise}function t(){return(t=_asyncToGenerator(_regeneratorRuntime().mark(function e(n,t){var r;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=a.pureSpecturm.url,e.next=4,i.put("".concat(r,"/transactions/:").concat(n,"/track-details"),t);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error In Saving Data To Track Details :",e.t0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}return{loadResources:function(e){var t=Date.now();return d.all([e?n(e):d.resolve()]).then(function(e){var n=Date.now();return{scriptLoadTime:e[1]||0,totalLoadTime:n-t}})},detectDevice:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1500,a=d.defer(),i=1;return function n(){try{fod.complete(function(e){a.resolve({data:e,attempts:i})})}catch(e){i<t?(i++,console.log("Retrying Device Detect, attempt ".concat(i)),setTimeout(n,r)):a.reject({attempts:i,error:"Failed To Detect Device ".concat(url)})}}(),a.promise},saveDeviceToTrackDetails:function(e,n){return t.apply(this,arguments)}}}]),angular.module("pureSpectrumApp").factory("sampleChainService",["$http","config","$window",function(u,e,r){function l(e){return e="".concat(t,"/getHash").concat(e),u.get(e,y)}function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return"?sn_ud=".concat(e,"&sy_nr=").concat(n,"&coordinates=1&postcode=1").concat(t,"&usage_type=1&csipqs=1")}function p(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e="".concat(t,"/transactions/").concat(e,"/log");u.post(e,n)}var f=e.sampleChain.url,t=e.pureSpecturm.url,m=e.sampleChain.publicKey,n=e.sampleChain.hours,y={withCredentials:!0,timeout:5e3};return{search:function(d,t,n){return new Promise(function(s,o){var e="";n&&(n="UK"===n?"GB":n,e="&rt_cy_ce=".concat(n)),setTimeout(function(){var a;try{a=r.researchDefenderParams()}catch(e){newrelic.noticeError(new Error("RD script was not loaded")),a=""}"undefined"!==a&&a&&""!==a.trim()||(a="");var n=c(d,t,e),i="".concat(n).concat(a?"&pass_params=".concat(a):"");l(i).then(function(e){var t,r;e&&e.data?(t=e.data.hash,r="".concat(f,"/search/").concat(m).concat(n,"&validation=").concat(t).concat(a?"&".concat(a):""),u.get(r,y).then(function(e){s(e)},function(e){var n={transId:d,url:r,dataToHash:i,hash:t,pass_params:a,message:e.data?e.data.message:e};p(d,n),o(e)})):o()}).catch(function(e){o(e)})},100)})},activity:function(){var e="".concat(f,"/activity/").concat(m,"?range=").concat(n);return u.get(e,y)}}}]),angular.module("pureSpectrumApp").factory("startSurvey",["$http","config",function(i,e){var s=e.pureSpecturm.url;return{security:function(e){return i.post(s+"/transactions/"+e.transId,e)},createTransaction:function(e){return i.post(s+"/transactions",e)},validateZipcode:function(e,n,t){return i.get(s+"/zipcode/validate/"+e+"/"+n+"?lang="+t)},saveRespondentData:function(e,n){return i.post(s+"/transactions/"+e+"/saveData",n)},saveRespondentProfile:function(e,n){return i.post(s+"/transactions/"+e+"/saveProfile",n)},nextStatus:function(e,n){return i.get(s+"/transactions/"+e+"/nextStatus?screener=0&trackId="+n)},getBootstrappingData:function(){return i.get(s+"/v1/pss_screener/bootstrapping_data?from=screener")},updateLastQuestionDetails:function(e,n,t,r,a){return i.put(s+"/transactions/"+e,{qualificationId:n,lastQuestionTitle:t,lastQuestionDP:r,isLastQuestionUpdate:a})},getPrivacyPolicy:function(e){return i.get(s+"/v1/pss_screener/getPrivacyPolicyText/"+e)},getPrivacyPolicySettings:function(e,n){return i.get("".concat(s,"/supplierSettings/getPrivacyPolicySettings/").concat(e,"/").concat(n))},savePSIDV3PlusResponse:function(e,n){return i.put("".concat(s,"/transactions/").concat(e,"/psidv3plus"),n)},researchDefenderHashing:function(e){return i.post(s+"/research-defender-hashing",e)},recaptchaTokenVerify:function(e,n){return i.post("".concat(s,"/transactions/").concat(e,"/recaptcha-token-verify"),n)},hCaptchaTokenVerify:function(e,n){return i.post("".concat(s,"/transactions/").concat(e,"/hcaptcha-token-verify"),n)}}}]),angular.module("pureSpectrumApp").controller("errorCtrl",["$scope","$timeout","notify","$stateParams","$rootScope",function(e,n,t,r,a){}]),angular.module("pureSpectrumApp").controller("startSurveyCtrl",["$scope","$timeout","notify","startSurvey","localStorageService","$state","$location","$rootScope","$filter","$window","$translate","config","$uibModal","$sce","fiftyOneDeviceDetectionService","deviceDetector","sampleChainService","DFIQService","translationServiceDetector","clipboardDetector","tabActivityDetector","captchaService","ngDragDrop",function(P,y,w,d,u,o,e,l,g,s,N,h,n,B,i,t,L,F,a,c,p,$,M){P.loader={show:!0},P.container={show:!1},P.queryParams=e.search(),P.queryParams.browser={name:t.browser,version:t.browser_version},P.timeName="SCREENER_RENDER",P.timeNameLoadScripts="LOAD_SCRIPTS",P.timeNamePSIDv3Plus="LOAD_SCRIPTS_PSIDV3Plus",P.timeNameCreateTransaction="CreateTransaction",P.timeNameGetScreener="PSID_RESPONSE+GET_QUESTIONS",P.timeNameRelevantId="RelevantId_Service",P.timeNameRelevantIdScript="RelevantId_Script_Load",P.timeNameFifityOneDegreesScripts="DeviceDetection_Script_Load";var H="eng_US";function v(){-1===_.findIndex(P.questionsToShow,P.respondentQuestions[P.isDependent.masterIndex])&&P.questionsToShow.push(P.respondentQuestions[P.isDependent.masterIndex])}function r(e){return e?e.split("&").sort():[]}t.isDesktop()&&function(){var e=window.innerWidth,n=window.innerHeight,e=e<600||e<n,n=screen.width<500||screen.width<screen.height;return e||n}()&&s.hj&&s.hj("event","fraud-desktop-session"),P.QuestionTypeOpenEnded="openended",P.wordCountMoreThan=5,P.isWCModalShown=!1,P.allowedLanguage="en",P.resetDragDropCounter=0,P.styles={draggables:{onDragging:{border:"1px dashed #666",cursor:"move"},onStart:{opacity:.5}},droppables:{onEnter:{background:"#9bddaa"},onLeave:{background:"#fefa76"}}},P.dragCallback=function(e){},P.dropCallback=function(e){var n=M.getCurrentDragElement(),e=angular.element(e.target),n=(n.css({opacity:1}),e.append(n),e.children()[0].getAttribute("element_id"));angular.element("#drop_"+n).click()},P.overCallback=function(e){};var f,e=u.get("startUrl"),m=(e?(t=e.split("?")[1],f=s.url.split("?")[1],t=function(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}(r(t),r(f)),P.queryParams.startSurvey=t?e:s.url):P.queryParams.startSurvey=s.url,u.set("startUrl",P.queryParams.startSurvey),P.queryParams.bgsec&&P.queryParams.bgsec!==h.BSEC&&delete P.queryParams.bgsec,P.queryParams.bsec&&P.queryParams.bsec!==h.BSEC&&delete P.queryParams.bsec,console.time(P.timeName),Date.now()),I=!0,b=!1,D=!1,S=!1,x=!1;l.$watch("operatorSettings",function(e,n){var t,r;l.operatorSettings&&(l.ip,I=!(!l.operatorSettings||!l.operatorSettings.hasOwnProperty("enableRelevantId"))&&l.operatorSettings.enableRelevantId,(b=!(!l.operatorSettings||!l.operatorSettings.hasOwnProperty("enablePSIDV3Plus"))&&l.operatorSettings.enablePSIDV3Plus)&&(I=!1),D=l.operatorSettings.enableDeviceForensIQ,S=l.operatorSettings.enableRecaptchaV3,x=l.operatorSettings.enableHCaptcha,l.operatorSettings.enableFiftyOneDeviceDetection&&(r="https://cloud.51degrees.com/api/v4/".concat("AQRnnrczFI_ks2nH3Eg",".js"),i.loadResources(r).then(function(e){P.timeNameFifityOneDegreesScripts=e.totalLoadTime,console.log("Total Time for Device Detection: "+e.totalLoadTime+" ms")}).catch(function(e){P.fiftyOneDegreesError=e,console.error("Error In Loading Script:",e)})),console.time(P.timeNameLoadScripts),t=!(r=[]),I&&(t=!0,r.push(function(i,s){return new Promise(function(e,n){var t,r,a;"relevantID"===s&&console.time(P.timeNameRelevantIdScript),r=!1,(t=document.createElement("script")).type="text/javascript",t.src=i,t.onload=t.onreadystatechange=function(){r||this.readyState&&"complete"!==this.readyState?n():(r=!0,"relevantID"===s&&console.timeEnd(P.timeNameRelevantIdScript),e("done"))},(a=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,a)})}("https://d3op16id4dloxg.cloudfront.net/RelevantID4.js","relevantID"))),t?Promise.all(r).then(function(e){console.timeEnd(P.timeNameLoadScripts),Y()}).catch(function(e){console.log("error",e),w({message:"Unable to start survey",classes:"alert-danger",duration:2e3}),l.errorMessage="Unable to start survey",o.go("error")}):(console.timeEnd(P.timeNameLoadScripts),Y()),l.operatorSettings.enableTranslationServiceDetection&&a.detect(),l.operatorSettings.enableClipboardDetection&&c.detect(),p.detect())}),P.relevantInProgress=0,P.psidV3PlusProgress=0,P.securityInProgress=0,P.respondentProfile={targetV2:{},internal:!1},P.traffic={adv:{}},P.respondentQuestions=[],P.questionsToShow=[],P.localisation="en_US",P.ppLocalization="eng_US",P.uploadRespondent={answers:{}},P.nextBtn={show:!1,clicked:!1},P.userObj={},P.isDependent={quantity:0,masterIndex:0,dependentIndex:0,avail:!1,checkForDependent:!0,lastDependentAnswered:!1,answered:0},P.validFields={zipcode:!0},P.emptyF=function(){},P.firstZipCode=!0,P.apicallRespondent=!1;var A=(new Date).getFullYear(),T=(P.birthYears=Array(A-1900).fill().map(function(e,n){return A-n}),P.childsNumArr=Array(17).fill().map(function(e,n){return n+1}),{}),q=[];function z(e,n,t){var t=2<arguments.length&&void 0!==t?t:"",a=(P.psidV3PlusProgress=1,Date.now()),i={},s=!1;L.search(e,n,t).then(function(e){var r;(i=e.data)&&i.String&&i.Validation?(r=i,new Promise(function(n,e){!function(e){var n={},t={};try{var r=e.String.Respondent.replace("{","").replace("}",""),a=e.String.Surveys.replace("[{","").replace("}]","").replace("},{","|");n=U(r),t=function(e){var e=e.split("|"),n=[];return e.forEach(function(e){e=U(e);n.push(e)}),n}(a)}catch(e){return void console.error("unable to parse response string: ",e)}var i=["duplicate_potential","failure_reason"],r=!0;try{V(e.Respondent,n,["respondent_risk","threat_potential","threat_potential_score"])||(r=!1)}catch(e){return void console.error("unable to validate respondent string: ",e)}var s=!0;try{e.Surveys.forEach(function(n){var e=t.find(function(e){return e.survey_number===n.survey_number.toString()});e&&V(n,e,i)||(s=!1)}),e.Surveys.length!==t.length&&(s=!1)}catch(e){return void console.error("unable to validate survey list string: ",e)}return r&&s}(r)&&n(!1);var t={stringSurveys:r.String.Surveys,stringRespondent:r.String.Respondent};d.researchDefenderHashing(t).success(function(e){"success"===e.status&&(e.hashData.stringRespondentHash===r.Validation.Respondent&&e.hashData.stringSurveysHash===r.Validation.Surveys&&n(!0),n(!1))}).error(function(e){w({message:e.message||e.msg,classes:"alert-danger",duration:2e3}),l.errorMessage=e.message||e.msg,o.go("error")})}).then(function(e){P.queryParams.hashValidationCheck=e,E(i,a,s=!0)})):E(i,a,s)}).catch(function(e){406===e.status&&(P.queryParams.hashValidationCheck=!1),E(i,a,s)})}function U(e){e=e.split(",");var n={};return e.forEach(function(e){e=e.split(":"),n[e[0]]=e[1]}),n}function V(e,n,t){var r,a=!0,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(isNaN(e[s])||isNaN(n[s])){if(n[s]!=e[s].toString())return a=!1}else if(Number(n[s])!=Number(e[s]))return a=!1}}catch(e){i.e(e)}finally{i.f()}return a}function E(e,n,t){P.psidV3PlusProgress=2;n={PSIDV3PlusResponseTime:K(n,Date.now()),PSIDV3PlusResponseSuccess:t};P.queryParams.psidV3PlusDeviceId=t?e.Respondent.respondent_ud:(new Date).getTime().toString(),P.queryParams.PSIDV3PlusResponse=e,P.queryParams.statistics=n,C()}function Y(){console.time(P.timeNameCreateTransaction);var e=u.get("transId");e&&(P.queryParams.pTransId=e),d.createTransaction(P.queryParams).success(function(e){if("success"===e.status){if(P.queryParams=e.queryData,u.set("transId",P.queryParams.transId),a.setTransactionId(P.queryParams.transId),c.setTransactionId(P.queryParams.transId),p.setTransactionId(P.queryParams.transId),P.queryParams.bsecSup||P.queryParams.ps_redirect_test||P.queryParams.bsec&&P.queryParams.bsec===h.BSEC)return P.psidV3PlusProgress=2,P.relevantInProgress=2,P.queryParams.rvidSource="test",P.queryParams.rvidDeviceId=(new Date).getTime().toString(),C();console.timeEnd(P.timeNameCreateTransaction),I?(console.time(P.timeNameRelevantId),m=Date.now(),P.relevantInProgress=1,"UK"==(e=P.queryParams.locale)&&(e="GB"),document.getElementById("ClientID").value="29407371-13E6-4E6A-A7CE-8E2113498A54",document.getElementById("PanelistID").value=P.queryParams.ps_supplier_respondent_id,document.getElementById("SurveyID").value=P.queryParams.survey_id,document.getElementById("GeoCodes").value="1,".concat(e),setTimeout("RVIDNoResponse();",12e3),s.callRVIDNow()):b&&z(P.queryParams.transId,P.queryParams.survey_id,P.queryParams.locale),D&&F.checkForensIQ(P.queryParams.transId,P.queryParams.survey_id,P.queryParams.locale),setTimeout("securityNotStarted()",16e3)}}).error(function(e){"PS_Supply_Inbound_Hash_Security_FAIL"===e.message&&u.set("startUrl",null),e.redirectUrl?(w({message:e.message||e.msg,classes:"alert-danger",duration:7e3}),l.errorMessage=e.message||e.msg,setTimeout(function(){s.location.href=e.redirectUrl},7e3)):(w({message:e.message||e.msg,classes:"alert-danger",duration:2e3}),l.errorMessage=e.message||e.msg,o.go("error"))})}function K(e,n){return n-e}function C(){if(b&&2!==P.psidV3PlusProgress||I&&2!==P.relevantInProgress)return!1;l.operatorSettings.enablePSIDV3Plus&&P.queryParams.psidV3PlusDeviceId?(P.queryParams.psidV3Plus=1,delete P.queryParams.rvidResponseTime,delete P.queryParams.rvidDeviceId,delete P.queryParams.rvidResponse,delete P.queryParams.rvidSource):delete P.queryParams.psidV3PlusDeviceId,l.operatorSettings.enableFiftyOneDeviceDetection&&i.detectDevice().then(function(e){P.queryParams.fiftyOneDegrees=e.data.device;e=e.attempts;P.queryParams.transId&&P.queryParams.fiftyOneDegrees&&me(e)}).catch(function(e){P.fiftyOneDegreesError=e,console.log("Error in Device Detection",e),me(e.attempts)}),l.operatorSettings.enablePSDeviceFingerprinting&&(P.queryParams.deviceDetails=new DeviceIdentifier({canvas:!0,screen_resolution:!0,screen_orientation:!0}).getDetails()),console.time(P.timeNameGetScreener),P.securityInProgress=1,d.security(P.queryParams).success(function(e){if(P.securityInProgress=2,"success"===e.status&&e.decipherRedirectUrl)s.location.href=e.decipherRedirectUrl;else if("success"===e.status&&e.screenerDetails)if(e.skipPreScreener)R({targetV2:{},skipPreScreener:!0});else{P.respondentProfile.token=P.queryParams.transId,P.traffic.transaction_id=P.queryParams.transId,P.traffic.supplier_respondent_id=P.queryParams.ps_supplier_respondent_id,P.traffic.supplier_sid=P.queryParams.ps_supplier_sid,P.localisation=P.queryParams.lang+"_"+P.queryParams.locale;var n="UK"===P.queryParams.locale?"GB":P.queryParams.locale;if(P.uploadRespondent.country=n,P.uploadRespondent.language=P.queryParams.lang,P.ppLocalization=P.queryParams.langCode+"_"+P.queryParams.locale,N.use(P.queryParams.lang),P.queryParams.ps_simu_forced_loi&&(P.respondentProfile.ps_simu_forced_loi=P.queryParams.ps_simu_forced_loi),P.queryParams.ps_simu_forced_status&&(P.respondentProfile.ps_simu_forced_status=P.queryParams.ps_simu_forced_status),P.queryParams.supplier_id&&(P.respondentProfile.supplier_id=parseInt(P.queryParams.supplier_id)),P.queryParams.PSID&&(P.respondentProfile.PSID=P.queryParams.PSID,P.traffic.PSID=P.queryParams.PSID,P.uploadRespondent.psid=P.queryParams.PSID),e.screenerDetails.localization===H&&(P.maxQuestions=P.minQuestions=e.screenerDetails.questions.reduce(function(e,n){return _.contains(n.question_tags,h.HONEY_POT_TAG)?e:e+1},0),e.screenerDetails.questions.forEach(function(e){e.dependent&&(P.isDependentQuestion=!0,P.maxQuestions=P.maxQuestions+1)})),0===e.screenerDetails.questions.length)u.set("transId",null),d.nextStatus(P.queryParams.transId,P.queryParams.tId).success(function(e){var n,t;e.url&&(s.location.href=e.url,n=fe(e.url),t=window.location.host,e=-1!==e.url.indexOf("start-survey"),n===t)&&e&&s.location.reload(!0)}).error(function(e){w({message:e.message||e.msg,classes:"alert-danger",duration:2e3}),l.errorMessage=e.message||e.msg,o.go("error")});else{console.timeEnd(P.timeNameGetScreener);n=e.screenerDetails;if(console.timeEnd(P.timeName),n.hasOwnProperty("isNonGDPRPPQuestionImport")&&(P.isNonGDPRPPQuestionImport=n.isNonGDPRPPQuestionImport,P.isPPFooterEnabled=!0,d.getPrivacyPolicy(P.ppLocalization).success(function(e){e.privacy_policy&&(P.privacyPolicyQuestion=e.privacy_policy)}).error(function(e){console.log("error while fetching privacy policy",e)})),n.hasOwnProperty("isDQEnable")&&(P.isDQEnable=n.isDQEnable),x&&["en","eng"].includes(P.queryParams.langCode)){var t=hcaptcha.render("hcaptcha",{sitekey:h.HCAPTCHA_SITE_KEY,size:"invisible"}),r=performance.now(),a=!0,i=!0;hcaptcha.execute(t,{async:!0}).then(function(e){var n=e.response,e=(e.key,performance.now()-r);i=!1,d.hCaptchaTokenVerify(P.queryParams.transId,{response:n,duration:e,consentedClose:a}).success(function(e){return console.info("hCaptcha verifies data: ".concat(JSON.stringify(e)))}).error(function(e){return console.error("hCaptcha didn't verify err: ".concat(JSON.stringify(e)))})}).catch(function(e){var n=performance.now()-r;console.error("hCaptcha failed",e),i=!1,d.hCaptchaTokenVerify(P.queryParams.transId,{err:e,duration:n,consentedClose:a}).success(function(e){return console.info("hCaptcha missed challenge was acknowledged ".concat(JSON.stringify(e),"."))}).error(function(e){return console.error("hCaptcha missed challenge ignored with err: ".concat(e))})}),setTimeout(function(){i&&(a=!1,hcaptcha.close(),i=!1)},45e3)}P.respondentQuestions.length&&(P.questionsToShow=[]),P.respondentQuestions=n.questions.map(function(e){return 218===e.qualification_id&&e.dependent.forEach(function(e){e&&e.dependency&&!e.dependency.condition.includes(116)&&e.dependency.condition.push(116)}),e.isHidden=!0,e.isAnswered=!1,e.answerObj={question_id:e.data.question_id,qualification_id:e.qualification_id,userAnswer:""},e}),P.respondentQuestions=g("orderBy")(P.respondentQuestions,"data.question_order_number",!1),P.respondentQuestions[0].isHidden=!1,P.respondentQuestions[0].primaryIndex=0,P.respondentQuestions[0].isShow?(_.contains(P.respondentQuestions[0].question_tags,h.HONEY_POT_TAG)?(P.respondentQuestions[0].hpHide=!0,P.questionsToShow.push(P.respondentQuestions[0]),1<P.respondentQuestions.length&&(P.isDependent.masterIndex=P.isDependent.masterIndex+1,P.respondentQuestions[P.isDependent.masterIndex].isHidden=!1,P.respondentQuestions[P.isDependent.masterIndex].primaryIndex=1,P.questionsToShow.push(P.respondentQuestions[P.isDependent.masterIndex]))):P.questionsToShow.push(P.respondentQuestions[0]),P.isDependent.avail?Q(P.queryParams.transId,P.respondentQuestions[P.isDependent.masterIndex].dependent[P.isDependent.dependentIndex].qualification_id,P.respondentQuestions[P.isDependent.masterIndex].dependent[P.isDependent.dependentIndex].data.question_title,!!P.respondentQuestions[P.isDependent.masterIndex].dependent[P.isDependent.dependentIndex].dp):Q(P.queryParams.transId,P.respondentQuestions[P.isDependent.masterIndex].qualification_id,P.respondentQuestions[P.isDependent.masterIndex].data.question_title,!!P.respondentQuestions[P.isDependent.masterIndex].dp)):(n="","singlepunch"===P.respondentQuestions[0].data.question_type&&(n=P.respondentQuestions[0].userAnswer.value),P.onChangeInput(n,P.respondentQuestions[0].userAnswer.value,0,P.respondentQuestions[0].qualification_id,"0_"+P.respondentQuestions[0].qualification_id+"_"+P.respondentQuestions[0].data.question_type,0+P.respondentQuestions[0].primaryIndex+0+"_"+P.respondentQuestions[0].qualification_id,0,!0)),P.loader={show:!1},P.container={show:!0}}}else e.url&&(s.location.href=e.url),w({message:"Unable to proceed survey.",classes:"alert-danger",duration:2e3}),l.errorMessage="Unable to proceed survey.",o.go("error")}).error(function(e){P.securityInProgress=2,w({message:e.message||e.msg,classes:"alert-danger",duration:2e3}),l.errorMessage=e.message||e.msg,o.go("error")})}function k(e){P.nextBtn.show=e}P.setQuesWidth=function(r){y(function(){var e,n,t;r=r||P.questionsToShow[P.questionsToShow.length-1].qualification_id,document.getElementsByClassName("answerid-"+r)[0]&&document.getElementsByClassName("selectid-"+r)[0]&&(e=document.getElementsByClassName("answerid-"+r)[0],n=document.getElementsByClassName("selectid-"+r)[0],e.options&&e.options.length?t=e.options[e.selectedIndex].text:e.value&&(t=e.value),n.innerHTML=t,e.style.width=parseInt(n.offsetWidth)+20+"px")},100)},P.resetScreenerIndex=function(e,n,t,r){t=parseInt(t,10),(!r&&0<P.questionsToShow.length&&t+1!=P.questionsToShow.length||""===P.questionsToShow[t].userAnswer)&&(P.nextBtn.show=!1,P.editQuestion=!1,P.questionsToShow[t].isDependent?dependentEdited=!0:(P.questionsToShow.splice(t+1,P.questionsToShow.length),P.isDependent.quantity=0,P.isDependent.masterIndex=n,P.isDependent.dependentIndex=0,P.isDependent.avail=!1,P.isDependent.checkForDependent=!0,P.isDependent.lastDependentAnswered=!0,P.isDependent.answered=0,q=[]))},P.formatInput=function(e,n){var t=n.qualification_class,r=n.qualification_type,a=n.question_type;if("range"===n.question_type||(void 0===t?null:t)==QUESTION_CLASS.SEGMENTATION&&(void 0===r?null:r)==QUESTION_CATEGORY.SEGMENTATION&&"input"==(void 0===a?null:a))return 47<(n=e.which||e.keyCode)&&n<58||95<n&&n<106||8==n||9==n||(e.preventDefault(),!1)},P.onChangeInput=function(s,o,d,e,n,t,u,l,r,c,a){if(c===P.QuestionTypeOpenEnded&&P.questionsToShow[u].data.question_type===P.QuestionTypeOpenEnded&&r&&r.split("_")[0]===P.allowedLanguage&&(o.replace(/[0-9&*{}[\]=\-()\.+,;'/]/g,"").replace(/\s+/g," ").trim().split(" ").length<P.wordCountMoreThan&&!P.isWCModalShown))return P.wordCountModal(),P.isWCModalShown=!0;P.questionsToShow&&P.questionsToShow[u]&&P.questionsToShow[u].answerObj&&(P.questionsToShow[u].answerObj.userAnswer=o),""===o||null==o?(console.log("button disabled"),k(!1)):P.nextButtonDis=!1,235!=e||document.getElementById("answerid-234").getAttribute("itemval")||(document.getElementById("answerid-234").setAttribute("itemval","January"),document.getElementById("answerid-234").innerHTML=g("translate")("jan"),document.getElementsByClassName("answerid-234")[0]&&(document.getElementsByClassName("answerid-234")[0].setAttribute("itemval","January"),document.getElementsByClassName("answerid-234")[0].value=0,P.setQuesWidth("234"))),document.getElementsByClassName("answerid-"+e)[0]&&P.setQuesWidth(e);var p,n=function(e,r,a){var n=!0,i={};{var s;-1!==e.indexOf("-")&&(e=e.split("-"),s=!0,e.forEach(function(e){var e=e.split("_"),n=e[2],t=e[1],e="ans"+e[0]+r+a+"_"+t,n="input"===n?document.getElementById(e).value:document.getElementById(e).firstChild.getAttribute("itemval");!s||null!=n&&""!==n||(s=!1),null!=n&&""!==n&&(i[t]=n)}),n=s)}return{isAllAttempted:n,answerObj:i}}(n,d,u);if(!n.isAllAttempted)return!0;var f=!1,m=!1;P.questionsToShow[u].isDependent||P.isDependent.avail||220===parseInt(e)||230===parseInt(e)||221===parseInt(e)?(p=T.qualification_id,f=!0):(f=!1,p=P.respondentQuestions[parseInt(d)].qualification_id),P.editQuestion=!1,!l&&0<P.questionsToShow.length&&u+1!==P.questionsToShow.length&&(P.nextBtn.show=!1,P.editQuestion=!1,p=P.questionsToShow[u].qualification_id,(f=P.questionsToShow[u].isDependent)?m=!0:(P.questionsToShow.splice(u+1,P.questionsToShow.length),P.isDependent.quantity=0,P.isDependent.masterIndex=d,P.isDependent.dependentIndex=0,P.isDependent.avail=!1,P.isDependent.checkForDependent=!0,P.isDependent.lastDependentAnswered=!0,P.isDependent.answered=0,q=[])),G(s,p,o,n.answerObj,l,r,d,c,a,function(e){if(e){if(P.isDependent.avail&&!m)if(P.isDependent.quantity--,0<P.isDependent.quantity)P.isDependent.dependentIndex++;else if(q.length&&P.isDependent.answered+1<q.length){for(var n={},t=0;t<q.length-1;t++){var r=q[t],a=q[t+1];n[r.qualification_id]=a.dependentIndex}n[p]?P.isDependent.answered=n[p]:P.isDependent.answered++,P.isDependent.dependentIndex++,T=P.respondentQuestions[P.isDependent.masterIndex].dependent[P.isDependent.answered],P.isDependent.quantity=T.dependency.repeat}else P.isDependent.avail=!1,P.isDependent.checkForDependent=!0,P.isDependent.lastDependentAnswered=!0,P.isDependent.quantity=0,P.isDependent.answered=0,q=[];var i;P.isDependent.checkForDependent&&!f&&P.respondentQuestions[P.isDependent.masterIndex].isShow&&P.respondentQuestions[P.isDependent.masterIndex].dependent&&0<P.respondentQuestions[P.isDependent.masterIndex].dependent.length?(i=s,_.each(P.respondentQuestions[P.isDependent.masterIndex].dependent,function(e,n){var t,r;e.dependency&&e.dependency.hasOwnProperty("matchCriteria")&&(t=!1,"multipunch"===c&&_.isArray(o)?(r=_.pluck(o,"id"),"in"==e.dependency.matchCriteria?_.intersection(e.dependency.condition.map(Number),r).length&&(t=!0):"nin"==e.dependency.matchCriteria&&_.difference(r,e.dependency.condition.map(Number)).length&&(t=!0)):("in"==e.dependency.matchCriteria&&-1!=e.dependency.condition.map(Number).indexOf(i)||"nin"==e.dependency.matchCriteria&&-1==e.dependency.condition.map(Number).indexOf(i)||"bt"==e.dependency.matchCriteria&&e.dependency.condition.hasOwnProperty("min")&&e.dependency.condition.hasOwnProperty("max")&&e.dependency.condition.min<=parseInt(o)&&e.dependency.condition.max>=parseInt(o)||"gt"==e.dependency.matchCriteria&&e.dependency.condition.hasOwnProperty("min")&&e.dependency.condition.min<parseInt(o)||"lt"==e.dependency.matchCriteria&&e.dependency.condition.hasOwnProperty("max")&&e.dependency.condition.max>parseInt(o)||"eq"==e.dependency.matchCriteria&&e.dependency.condition.hasOwnProperty("min")&&e.dependency.condition.hasOwnProperty("max")&&e.dependency.condition.min==parseInt(o)&&e.dependency.condition.max==parseInt(o))&&(t=!0),t)&&("input"==e.dependency.repeat?((r=angular.copy(e)).dependency.repeat=parseInt(o)||1,q.push(r)):(e.dependentIndex=n,q.push(e)))}),q.length?(P.nextBtn.show&&(P.nextBtn.show=!1),P.isDependent.avail=!0,P.isDependent.checkForDependent=!1,P.isDependent.lastDependentAnswered=!1,P.isDependent.quantity=parseInt(q[0].dependency.repeat)||1,P.isDependent.masterIndex=d,P.isDependent.dependentIndex=0,P.isDependent.answered=0,T=q[0]):console.log("dependent available but quantity is 0")):console.log("dependent check skipped or no dependent questions"),parseInt(P.isDependent.masterIndex)+1<P.respondentQuestions.length||P.isDependent.avail?(P.isDependent.lastDependentAnswered?!l&&0<P.questionsToShow.length&&1!==P.questionsToShow.length&&(u+1!==P.questionsToShow.length||P.isDependent.masterIndex===P.questionsToShow.length&&999===s[0].id)||P.isDependent.masterIndex++:console.log("don't increase master index"),P.isDependent.avail?m||(T.isHidden=!1,T.primaryIndex=P.isDependent.dependentIndex,y(function(){P.questionsToShow.push(T)},0)):(P.isDependent.lastDependentAnswered?(P.respondentQuestions[P.isDependent.masterIndex].isHidden=!1,P.respondentQuestions[P.isDependent.masterIndex].primaryIndex=P.isDependent.masterIndex):(!l&&0<P.questionsToShow.length?1===P.questionsToShow.length?P.isDependent.masterIndex++:u+1!==P.questionsToShow.length?P.questionsToShow[u].qualification_id:P.isDependent.masterIndex=P.isDependent.masterIndex+1:P.isDependent.masterIndex=P.isDependent.masterIndex+1,P.respondentQuestions[P.isDependent.masterIndex].isHidden=!1,P.respondentQuestions[P.isDependent.masterIndex].primaryIndex=parseInt(d)+1),P.respondentQuestions[P.isDependent.masterIndex].isShow&&_.contains(P.respondentQuestions[P.isDependent.masterIndex].question_tags,h.HONEY_POT_TAG)&&(P.respondentQuestions[P.isDependent.masterIndex].hpHide=!0,v(),P.isDependent.masterIndex=P.isDependent.masterIndex+1,P.respondentQuestions[P.isDependent.masterIndex].isHidden=!1,P.respondentQuestions[P.isDependent.masterIndex].primaryIndex=parseInt(d)+2),P.respondentQuestions[P.isDependent.masterIndex].isShow?y(function(){v()},0):(e="","singlepunch"===P.respondentQuestions[P.isDependent.masterIndex].data.question_type&&(e=P.respondentQuestions[P.isDependent.masterIndex].userAnswer.value),P.onChangeInput(e,P.respondentQuestions[P.isDependent.masterIndex].userAnswer.value,P.isDependent.masterIndex,P.respondentQuestions[P.isDependent.masterIndex].qualification_id,P.isDependent.masterIndex+"_"+P.respondentQuestions[P.isDependent.masterIndex].qualification_id+"_"+P.respondentQuestions[P.isDependent.masterIndex].data.question_type,P.isDependent.masterIndex+P.respondentQuestions[P.isDependent.masterIndex].primaryIndex+P.isDependent.masterIndex+"_"+P.respondentQuestions[P.isDependent.masterIndex].qualification_id,P.isDependent.masterIndex,!0)))):k(!0),P.isDependent.avail?Q(P.queryParams.transId,P.respondentQuestions[P.isDependent.masterIndex].dependent[P.isDependent.dependentIndex].qualification_id,P.respondentQuestions[P.isDependent.masterIndex].dependent[P.isDependent.dependentIndex].data.question_title,!!P.respondentQuestions[P.isDependent.masterIndex].dependent[P.isDependent.dependentIndex].dp):Q(P.queryParams.transId,P.respondentQuestions[P.isDependent.masterIndex].qualification_id,P.respondentQuestions[P.isDependent.masterIndex].data.question_title,!!P.respondentQuestions[P.isDependent.masterIndex].dp)}else console.log("error validating qualification "+p)})},P.makeMeDisabled=function(){P.nextButtonDis=!0,P.loader={show:!0}},P.privacyModal=function(){var e;P.ok=function(){e.close(P.result)},P.cancel=function(){e.dismiss("cancel")},P.privacyPolicy=B.trustAsHtml(P.privacyPolicyQuestion.modal_text),(e=n.open({templateUrl:"privacypolicymodal.html",size:"lg",scope:P})).result.then(function(e){P.result=e},function(){console.log("this is the modal dismissed")})},P.nextClicked=function(){s.hj&&s.hj("tagRecording",["clickedNext"]),P.nextBtn.clicked=!0,P.respondentProfile.exitBefore=!1,S&&P.isDQEnable&&grecaptcha.ready(function(){grecaptcha.execute(h.RECAPTCHA_V3_SITE_KEY,{action:"submit"}).then(function(e){d.recaptchaTokenVerify(P.queryParams.transId,{token:e}).success(function(e){console.log("Recaptcha verify data...",e)}).error(function(e){console.error("Recaptcha verify error...",e)})})}),Q(P.queryParams.transId),u.remove("LS_"+P.queryParams.transId),R(P.respondentProfile),s.onbeforeunload=P.emptyF},P.onExit=function(){var e=P.questionsToShow[P.questionsToShow.length-1];e&&(213===(e=e).qualification_id&&(P.respondentProfile.traffic.income=e.answerObj.userAnswer),229===e.qualification_id&&(P.respondentProfile.traffic.zipcode=e.answerObj.userAnswer),P.respondentProfile.exitBefore=!0,R(P.respondentProfile),s.onbeforeunload=P.emptyF)},s.onbeforeunload=P.onExit,s.securityNotStarted=function(){0===P.securityInProgress&&(P.queryParams.rvidDeviceId||(P.queryParams.rvidSource="timeout",P.queryParams.rvidDeviceId=(new Date).getTime().toString()),C())},P.wordCountModal=function(){var e;P.ok=function(){e.close(p.updatePopupActivity())},P.cancel=function(){},e=n.open({templateUrl:"wordcountmodal.html",size:"md",scope:P})},P.captchaSvg=function(){return $.getCaptcha(P.queryParams.transId,0<arguments.length&&void 0!==arguments[0]&&arguments[0])},s.RVIDResponseComplete=function(){document.getElementById("RVIDCompleted").value="1",P.RVIDResponse()},s.RVIDNoResponse=function(){document.getElementById("RVIDCompleted")&&0===parseInt(document.getElementById("RVIDCompleted").value)&&P.RVIDResponse()},P.RVIDResponse=function(){console.timeEnd(P.timeNameRelevantId);var e=Date.now(),n=(P.relevantInProgress=2,document.getElementById("RVIDCompleted").value);return 1===parseInt(n)?(P.queryParams.rvidSource="on",P.queryParams.rvidDeviceId=document.getElementById("RVid").value,P.queryParams.rvidResponse={RVid:document.getElementById("RVid").value,isNew:document.getElementById("isNew").value,Score:document.getElementById("Score").value,GeoIP:document.getElementById("GeoIP").value,Country:document.getElementById("Country").value,OldId:document.getElementById("OldId").value,OldIDDate:document.getElementById("OldIDDate").value,Domain:document.getElementById("Domain").value,TIDFlag:document.getElementById("TIDFlag").value,CIDFlag:document.getElementById("CIDFlag").value,CompleteFlag:document.getElementById("CompleteFlag").value,TotalCompletes:document.getElementById("TotalCompletes").value,FraudProfileScore:document.getElementById("FraudProfileScore").value,RVIDHash2:document.getElementById("RVIDHash2").value,isMobile:document.getElementById("isMobile").value,FraudFlagCount:document.getElementById("FraudFlagCount").value,IPStatus:document.getElementById("IPStatus").value,FraudRiskProbability:document.getElementById("FraudRiskProbability").value,fraudProfileFlag:{FPF1:document.getElementById("FPF1").value,FPF2:document.getElementById("FPF2").value,FPF3:document.getElementById("FPF3").value,FPF4:document.getElementById("FPF4").value,FPF5:document.getElementById("FPF5").value,FPF6:document.getElementById("FPF6").value,FPF7:document.getElementById("FPF7").value,FPF8:document.getElementById("FPF8").value,FPF9:document.getElementById("FPF9").value,FPF10:document.getElementById("FPF10").value,FPF11:document.getElementById("FPF11").value,FPF12:document.getElementById("FPF12").value,FPF13:document.getElementById("FPF13").value,FPF14:document.getElementById("FPF14").value,FPF15:document.getElementById("FPF15").value}}):(P.queryParams.rvidSource="timeout",P.queryParams.rvidDeviceId=Date.now()),P.queryParams.rvidResponseTime=K(m,e),C()};var G=function(e,n,t,r,a,i,s,o,d,u){229===n?W(n,t,null==d?void 0:d.isAllowMultiRegex,function(e){return u(e)}):214===n?ee(n,t,e,function(e){return u(e)}):211===n?ne(n,t,e,function(e){return u(e)}):212===n?a?te(n,t,function(e){return u(e)}):(P.userObj.bornmonth=r[234],P.userObj.bornyear=r[235],re(n,P.userObj.bornmonth,P.userObj.bornyear,function(e){return u(e)})):217===n?ae(n,t,e,function(e){return u(e)}):218===n?ie(n,t,e,function(e){return u(e)}):213===n?oe(n,t,i,function(e){return u(e)}):215===n?de(n,t,e,function(e){return u(e)}):216===n?ue(n,t,e,function(e){return u(e)}):230===n||220===n||221===n?J(r,i,function(e){return e&&(P.userObj.kids[s]=r,se(P.userObj.kids)),u(e)}):244===n?le(n,t,e,function(e){return u(e)}):245===n?ce(n,t,e,function(e){return u(e)}):pe(n,t,e,o,d,function(e){return u(e)})},J=function(e,n,t){var r=!0;return"Year"===e[221]&&17<parseInt(e[230])&&(r=!1),(r="Month"===e[221]&&215<parseInt(e[230])?!1:r)||(w.closeAll(),w({message:Z(n),classes:"alert-danger",duration:15e3})),t(r)},Z=function(e){e=e.replace(/GB/g,"UK");return h.childAgeError[e].invalid||"Please enter a valid age for the child, not exceeding 17 years."},W=function(r,a){var i,e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],s=3<arguments.length?arguments[3]:void 0,n=h.countryRegex[P.queryParams.locale];if(k(!1),!n||!n.test(a)&&!0===P.firstZipCode)return P.validFields.zipcode=!1,s(!1);(5<=a.length&&"EG"!==P.queryParams.locale||-1!==["FR","AT","NZ","CH","AU","PH","AR","BE","BG","HU","BD","NL","SI","LV","KE","SV","MZ","PY","HT","MD","CY","LU","BY","AL","VE","NG","SA","ZA","NO","AM","GE","DK"].indexOf(P.queryParams.locale)&&4<=a.length||-1!==["UK","GH","IQ"].indexOf(P.queryParams.locale)&&2<=a.length||-1!==["IE","BH","KZ"].indexOf(P.queryParams.locale)&&3<=a.length||"EG"===P.queryParams.locale&&[4,5,7].includes(a.length)||X(P.queryParams.locale,a.length,e))&&(n=a.replace(/[\W_-]/g,""),i=n,"CA"===P.queryParams.locale&&(n=a.substr(0,3).toUpperCase()),"UK"!==P.queryParams.locale&&"GH"!==P.queryParams.locale&&"MT"!==P.queryParams.locale&&"AZ"!==P.queryParams.locale||(n=a.toUpperCase()),"AR"!==P.queryParams.locale&&"cz"!==P.queryParams.locale&&"SK"!==P.queryParams.locale&&"GR"!==P.queryParams.locale||(n=a.toUpperCase().replace(" ","")),"BR"===P.queryParams.locale&&(n=a.replace("-","")),"IL"!==P.queryParams.locale&&"AM"!==P.queryParams.locale||(n=a.replace(" ","")),d.validateZipcode(n,P.queryParams.locale,P.queryParams.langCode).success(function(e){var n,t;return P.firstZipCode=!1,w.closeAll(),"Failure"===e.apiStatus?(w({message:e.message,classes:"alert-danger",duration:1e3}),P.validFields.zipcode=!1,k(!1),s(!1)):(P.validFields.zipcode=!0,P.traffic.zipcode=i,O(r,i,"value"),t=a.toString().toUpperCase(),"UK"==P.queryParams.locale&&(n=t.match(/^[a-zA-Z0-9]{2,3}([A-Z0-9](?=\s*[a-zA-Z0-9]{3}|$))?/))&&(n.shift(),t=n.join(" ")),P.uploadRespondent.answers[r]=t.toString(),P.queryParams.ps_redirect_test||j(),"US"===P.queryParams.locale&&(-1<(n=P.respondentQuestions.findIndex(function(e){return e.qualification_id===h.PRIVACY_POLICY_QUAL_ID}))&&!e.ppQuestionShow?(P.ppQuestionIndex=n,P.ppQuestion=P.respondentQuestions.splice(n,1),P.isPPFooterEnabled=!1,--P.maxQuestions):n<0&&P.ppQuestion&&e.ppQuestionShow&&((t=P.respondentQuestions).splice.apply(t,[P.ppQuestionIndex,0].concat(_toConsumableArray(P.ppQuestion))),P.isPPFooterEnabled=!0,P.maxQuestions+=1)),s(!0))}).error(function(e,n){if("Failure"===n.apiStatus)return P.firstZipCode=!1,P.validFields.zipcode=!1,k(!1),w.closeAll(),w({message:n.message,classes:"alert-danger",duration:1e3}),s(!1)}))},X=function(e,n,t){return"TW"===e&&(!t&&6===n||t&&3<=n)},ee=function(e,n,t,r){return O(e,parseInt(t),"id"),P.uploadRespondent.answers[e]=t.toString(),P.traffic.race=n,P.traffic.race_code=t,P.queryParams.ps_redirect_test||j(),r(!0)},ne=function(e,n,t,r){return P.userObj.gender=n,O(e,parseInt(t),"id"),P.uploadRespondent.answers[e]=t.toString(),P.traffic.gender=n,P.traffic.gender_code=t,P.queryParams.ps_redirect_test||j(),r(!0)},te=function(e,n,t){return O(e,parseInt(n),"value"),P.traffic.age=n,P.queryParams.ps_redirect_test||j(),t(!0)},re=function(e,n,t,r){var a=t,n=new Date(n+", 1 2016").getMonth()+1,a=function(e,n){var e=new Date(e,n-1),n=new Date;if(!(n<e))return n=Math.floor((n-e)/864e5),e=Math.floor(n/365),n=Math.floor(n%365/31),parseInt((12*e+n)/12)}(a,n);return O(e,parseInt(a),"value"),P.uploadRespondent.answers[e+"_yeardob"]=t.toString(),P.uploadRespondent.answers[e+"_monthdob"]=n.toString(),P.uploadRespondent.answers[e+"_daydob"]="15",P.traffic.age=a,P.queryParams.ps_redirect_test||j(),r(!0)};var ae=function(e,n,t,r){return P.userObj.relationship=n,O(e,parseInt(t),"id"),P.uploadRespondent.answers[e]=t.toString(),P.traffic.relationship=n,P.traffic.relationship_code=t,P.queryParams.ps_redirect_test||j(),r(!0)},ie=function(e,n,t,r){return P.traffic.children_code=t=112<t?112:t,P.traffic.children=n,P.traffic.children_code=t,P.traffic.kids=P.userObj.kids,O(e,parseInt(t),"id"),P.userObj.kids=[],se(P.userObj.kids),P.queryParams.ps_redirect_test||j(),r(!0)},se=function(e){Array.isArray(e)&&e.length?(P.respondentProfile.targetV2[230]={data:[]},P.respondentProfile.targetV2[220]={data:[]}):(delete P.respondentProfile.targetV2[230],delete P.respondentProfile.targetV2[220]),P.traffic.kids=e,angular.forEach(e,function(e){var n=parseInt(e[230]),n=(e[221]==g("translate")("year")&&(n=12*parseInt(e[230])),P.respondentProfile.targetV2[230].data.push({value:n.toString()}),112);"Boy"===e[220]&&(n=111),P.respondentProfile.targetV2[220].data.push({id:n})}),P.queryParams.ps_redirect_test||j()},oe=function(e,n,t,r){var a=/^([0-9]{1,6})$/i,t=t.split("_");return l.defaultIncomeRanges[t[1]].max&&(t=l.defaultIncomeRanges[t[1]].max.toString().length,a=new RegExp("^([0-9]{1,".concat(t,"})$"),"i")),O(e,parseInt(n),"value"),P.traffic.income=parseInt(n),a.test(parseInt(n))?(P.queryParams.ps_redirect_test||j(),r(!0)):(w({message:"invalid income",classes:"alert-warning",duration:1e3}),r(!1))},de=function(e,n,t,r){return P.userObj.employment=n,O(e,parseInt(t),"id"),P.uploadRespondent.answers[e]=t.toString(),P.traffic.employment=n,P.traffic.employment_code=t,P.queryParams.ps_redirect_test||j(),r(!0)},ue=function(e,n,t,r){return O(e,parseInt(t),"id"),P.uploadRespondent.answers[e]=t.toString(),P.userObj.education=n,P.traffic.education=n,P.traffic.education_code=t,P.queryParams.ps_redirect_test||j(),r(!0)},le=function(e,n,t,r){return O(e,parseInt(t),"id"),P.uploadRespondent.answers[e]=t.toString(),P.traffic.raceBera=n,P.traffic.raceBera_code=t,P.queryParams.ps_redirect_test||j(),r(!0)},ce=function(e,n,t,r){return O(e,parseInt(t),"id"),P.uploadRespondent.answers[e]=t.toString(),P.traffic.hispanicBera=n,P.traffic.hispanicBera_code=t,P.queryParams.ps_redirect_test||j(),r(!0)},pe=function(e,n,t,r,a,i){var s=_.findWhere(P.questionsToShow,{qualification_id:e}),o=!1,d=!1,u=!1,l=null,c=[],p=(s&&s.dp&&(o=!0),s.isDependent&&(d=!0,l=s.dependency.parentQualId,c=s.dependency.valid_option),s.isSegmentation&&(u=!0,l=s.segmentation.parentQualId),[]);if("multipunch"===r&&Array.isArray(n))n=n.filter(function(e){return e.id&&p.push(e.id),delete e.excluding_qualification_optons,delete e.ticked,e});else if("singlepunch"===r&&t)n=[{id:parseInt(t),text:n}],p.push(parseInt(t));else if("openended"==r)n=[{value:n}];else if("input"===r){var a=a.data,a=void 0===a?{}:a,f=a.qualification_class,f=void 0===f?null:f,m=a.qualification_type,m=void 0===m?null:m,a=a.format,a=void 0===a?{}:a,y=a.min,y=void 0===y?0:y,g=a.max,g=void 0===g?99999:g,h=a.minlength,h=void 0===h?1:h,v=a.maxlength,v=void 0===v?5:v,I=a.regex,I=void 0===I?null:I;if(n=parseInt(n),501===s.data.units&&(isNaN(n)||n<1||99<n))return k(!1),i(!1);if(f==QUESTION_CLASS.SEGMENTATION&&"object"==_typeof(a)&&m==QUESTION_CATEGORY.SEGMENTATION){var b,f=n.length<h||n.length>v||(n<y||g<n),a=!0;if(I&&(a=(b=new RegExp(b)).test(n)),f||!a)return w({message:"invalid value",classes:"alert-danger",duration:1e3}),k(!1),i(!1)}n=[{value:n}]}else"dragdrop"===r&&(n=[{value:t,opt:s.data.answers[e].ans_opt}],p.push(parseInt(t)));return Object.keys(n).length?(P.respondentProfile.targetV2[e]={data:n,screener:{dp:o,selectedAnswers:p},dependent:{isDependent:d,parentQualId:l,valid_option:c},segmentation:{isSegmentation:u,parentQualId:l}},P.traffic.adv[e]=n,P.queryParams.ps_redirect_test||j(),i(!0)):i(!1)},O=function(n,e,t){var r=P.questionsToShow.find(function(e){return e.qualification_id===n}),r=!(!r||!r.dp);P.respondentProfile.targetV2[n]={data:[{}],screener:{dp:r,selectedAnswers:[e]}},P.respondentProfile.targetV2[n].data[0][t]=[e]};function j(){var e;P.nextBtn.clicked||((e=P.respondentProfile).traffic=P.traffic,e.country_code=P.queryParams.locale,e.language_code=P.queryParams.langCode,P.queryParams.bsec&&(e.bsec=P.queryParams.bsec),P.queryParams.bgsec&&(e.bgsec=P.queryParams.bgsec),P.queryParams.ps_redirect_test&&(e.ps_redirect_test=P.queryParams.ps_redirect_test),d.saveRespondentData(P.queryParams.transId,e).success(function(e){}))}function R(e){P.isNonGDPRPPQuestionImport&&(e&&e.targetV2&&(e.targetV2["".concat(h.PRIVACY_POLICY_QUAL_ID)]={data:[{id:111,text:"I agree"}]}),e)&&e.traffic&&(e.traffic["".concat(h.PRIVACY_POLICY_QUAL_ID)]=[{id:111,text:"I agree"}]),P.apicallRespondent||(e.traffic=P.traffic,e.country_code=P.queryParams.locale,P.queryParams.bsec&&(e.bsec=P.queryParams.bsec),P.queryParams.bgsec&&(e.bgsec=P.queryParams.bgsec),P.queryParams.ps_redirect_test&&(e.language_code=P.queryParams.langCode,e.ps_redirect_test=P.queryParams.ps_redirect_test),P.apicallRespondant=!0,e.uploadRespondent=P.uploadRespondent,e=function(e){var n=JSON.parse(JSON.stringify(e)),t=n.targetV2,r=(r=P.questionsToShow.find(function(e){return 218===e.qualification_id}))&&r.isChildGenderAge;if(!Object.keys(t).includes(218..toString())||!r)return e;if(r=t[218].data[0].id,e=t[218],t[232]=e,111==r)var a=[purespectrumLibrary.Child.createNoChildren()];else{if(!t[220])return t[232]={data:[]},delete t[218],n;var i=t[220].data.map(function(e){return e.id}),s=[],o=t[230].data.map(function(e){e=e.value,e=Number(e);return s.push(11<e?311:312),11<e?e/12:e});a=Array.from(new Array(o.length)).map(function(e,n){var t,r=o[n];return 17<r?{code:null}:(t=i[n],purespectrumLibrary.Child.create(312===s[n],111==t,r))})}return r=a.map(function(e){return e.code}),e.screener=_objectSpread(_objectSpread({},e.screener),{},{selectedAnswers:r}),e.data=r.map(function(e){return{id:e}}),delete t[218],delete t[220],delete t[230],n}(e),u.set("transId",null),d.saveRespondentProfile(P.queryParams.transId,e).success(function(e){var n,t;e.url&&(s.location.href=e.url,n=fe(e.url),t=window.location.host,e=-1!==e.url.indexOf("start-survey"),n===t)&&e&&window.location.reload(!0)}).error(function(e){console.log(e),w({message:e.msg,classes:"alert-danger",duration:2e3}),l.errorMessage=e.msg,o.go("error")}))}function fe(e){var n=document.createElement("a");return n.href=e,n.host}function Q(e,n,t,r){var a=[],i=!0,s="LS_"+P.queryParams.transId,o=u.get(s);o?(o=JSON.parse(o)).indexOf(n)<0?(a=o).push(n):i=!1:a.push(n),i&&u.set(s,JSON.stringify(a)),d.updateLastQuestionDetails(e,n,t,r,i).success(function(e){})}function me(e){var n=P.timeNameFifityOneDegreesScripts,t=P.queryParams,r=t.transId,t=t.fiftyOneDegrees,a=P.fiftyOneDegreesError;i.saveDeviceToTrackDetails(r,{fiftyOneDegrees:t,fiftyOneDegreesError:a,attempts:e,scriptLoadTime:n,transId:r}).then(function(e){console.log("Saved to track respondent details",e)}).catch(function(e){P.fiftyOneDegreesError=e,console.log("Error in Saving to track respondent details",e)})}P.open=function(e){var n,t=P.$new();t.ok=function(){n.close(t.selected)},t.cancel=function(){n.dismiss("cancel")},(n=$modal.open({template:"<my-modal></my-modal>",size:e,scope:t})).result.then(function(e){P.selected=e},function(){console.log("modal dismissed")})}}]),angular.module("pureSpectrumApp").controller("surveyScreenerCtrl",["$scope","$timeout","notify","ngProgressLite","$stateParams","createSurvey","localStorageService","$cookies","$state","$window","$location","$filter","$translate","config",function(y,g,i,e,u,s,n,t,r,a,o,h,d,l){y.loader={show:!0},y.emptyF=function(){},u.ps_redirect_test?f():u.token||u.tid||u.surveyNum?s.getSurveyTid(u).success(function(e){!0===e.value?r.go("invalidaccess"):f()}):r.go("invalidaccess"),u.token&&a.FS&&a.FS.setUserVars({displayName:""+u.token}),y.surveyTarget={country_code:"",lang_code:"",translate_lang:""},y.children={},y.respondentProfile={target:{zip:[],race:[],age:[],gender:[],employments:[],educations:[],relationships:[],children:[],houseHoldIncome:[],adv:{}},targetv2:{},dynamic_profile:{},internal:!1},y.traffic={transaction_id:u.token,supplier_respondent_id:u.ps_supplier_respondent_id,supplier_sid:u.ps_supplier_sid,child1_age:"",child1_gender:"",child2_age:"",child2_gender:"",child3_age:"",child3_gender:"",child4_age:"",child4_gender:"",child5_age:"",child5_gender:"",childrens:[],PSID:"",survey_id:"",adv:{}},y.kidShowNumber=0;new Date;y.st=0,n.set("startSurveyToken",u.token),n.set("startSurveySurveyId",u.surveyNum),y.PSID=u.psid,y.PSID&&(y.psidValue=y.PSID,y.respondentProfile.PSID=y.PSID),u.ps_simu_forced_loi&&(y.respondentProfile.ps_simu_forced_loi=u.ps_simu_forced_loi),u.ps_simu_forced_status&&(y.respondentProfile.ps_simu_forced_status=u.ps_simu_forced_status),u.supplier_id&&(y.respondentProfile.supplier_id=parseInt(u.supplier_id)),y.traffic.PSID=y.PSID,y.userObj={zipcode:"",race:"",gender:"",bornmonth:"",bornyear:"",relationship:"",employment:"",education:"",covered:"",meage:"",spouseage:"",kids:[],kidsAges:[],age:"",income:"",kidsAgeYear:[],kidsAgeGender:[]},y.ageCalci={},y.birthYears=[];for(var c=(new Date).getFullYear();1900<=c;c--)y.birthYears.push(c);y.childsNumArr=[];for(c=1;c<=17;c++)y.childsNumArr.push(c);y.validFields={zipcode:!0,meage:!0,spouseage:!0,kidsage:[]},y.showtext={chld:!0},y.shownext={genderInfo:!1,raceInfo:!1,monthInfo:!1,yearInfo:!1,age:!1,myIncome:!1,fmIncome:!1,income:!1,rlnShip:!1,child:!1,edu:!1,emp:!1,single:!0,vowel:!1,ageKids:!1},y.ageYear=!0,y.ageGender=!0,y.showkidsage=!0,y.showIncome=!1,y.makeDisabled={zip:!1,race:!1,gender:!0,month:!1,ageYear:!0,relation:!1,child:!1,childAge:!1,childYear:!1,childMonth:!1,income:!1,emp:!1},y.dispTexts={coveredText:"",kidsText:h("translate")("kids"),stAge:h("translate")("aMale"),kidsvowel:[],empText:h("translate")("employe")},y.monthYrDefault=h("translate")("month")+"/"+h("translate")("year"),y.boyGirlDefault=h("translate")("boy")+"/"+h("translate")("girl"),y.firstZipCode=!0;function v(e){Array.isArray(e)&&e.length?(y.respondentProfile.targetv2[230]=[],y.respondentProfile.targetv2[220]=[]):(delete y.respondentProfile.targetv2[230],delete y.respondentProfile.targetv2[220]),angular.forEach(e,function(e){var n=parseInt(e[230]);e[221]==h("translate")("year")&&(n=12*parseInt(e[230])),y.respondentProfile.targetv2[230].push({value:n.toString()}),n="Boy"==e[220]?111:112,y.respondentProfile.targetv2[220].push({id:n})})}y.respondentProfile.token=u.token,y.apicallRespondant=!1,y.userAnswerObj={qualifications:[]},y.isDependent={quantity:0,masterIndex:0,dependentIndex:0,avail:!1,checkforDependent:!0,lastDependentAnswered:!1},y.nextBtn={show:!1,clicked:!1};y.resetScreenerIndex=function(e,n,t,r){!r&&0<y.questionsToShow.length&&t+1!=y.questionsToShow.length&&(y.nextBtn.show=!1,console.log("resetScreenerIndex editing question"),y.editQuestion=!1,currentQuestionQualification=y.questionsToShow[t].qualification_id,220!=parseInt(e))&&230!=parseInt(e)&&221!=parseInt(e)&&(console.log(" child here ",t),y.questionsToShow.splice(t+1,y.questionsToShow.length),y.isDependent.quantity=0,y.isDependent.masterIndex=n,y.isDependent.dependentIndex=0,y.isDependent.avail=!1,y.isDependent.checkforDependent=!0,y.isDependent.lastDependentAnswered=!1)};var I={};y.isDependent.avail=!1,y.onChangeInput=function(e,n,t,r,a,i,s,o,d,u){""==n||null==n?(console.log("button disabled"),y.nextButtonDis=!0):(console.log("button not disabled"),y.nextButtonDis=!1),235!=r||document.getElementById("answerid-234").getAttribute("itemval")||(document.getElementById("answerid-234").setAttribute("itemval","January"),document.getElementById("answerid-234").innerHTML=h("translate")("jan"));var l,a=function(e,r,a){var n=!0,i={};{var s;-1!==e.indexOf("-")&&(e=e.split("-"),s=!0,e.forEach(function(e){var e=e.split("_"),n=e[2],t=e[1],e="ans"+e[0]+r+a+"_"+t,n="input"==n?document.getElementById(e).value:document.getElementById(e).firstChild.getAttribute("itemval");!s||null!=n&&""!=n||(s=!1),null!=n&&""!==n&&(i[t]=n)}),n=s)}return{isAllAttempted:n,answerObj:i}}(a,t,s);if(!a.isAllAttempted)return!0;l=(y.isDependent.avail||220==parseInt(r)||230==parseInt(r)||221==parseInt(r)?I:y.respondantQuestions[parseInt(t)]).qualification_id,y.editQuestion=!1,!o&&0<y.questionsToShow.length&&s+1!=y.questionsToShow.length&&(y.nextBtn.show=!1,console.log("editing question"),y.editQuestion=!1,l=y.questionsToShow[s].qualification_id,220!=parseInt(r))&&230!=parseInt(r)&&221!=parseInt(r)&&(console.log(" child here ",s),y.questionsToShow.splice(s+1,y.questionsToShow.length),y.isDependent.quantity=0,y.isDependent.masterIndex=t,y.isDependent.dependentIndex=0,y.isDependent.avail=!1,y.isDependent.checkforDependent=!0,y.isDependent.lastDependentAnswered=!1);var r=e,e=l,c=n,a=a.answerObj,p=o,f=t,m=function(e){e?(y.isDependent.avail&&(y.isDependent.quantity--,0<y.isDependent.quantity?y.isDependent.dependentIndex++:(y.isDependent.avail=!1,y.isDependent.checkforDependent=!0,y.isDependent.lastDependentAnswered=!0,console.log("last dependent answered"))),y.isDependent.checkforDependent&&y.respondantQuestions[y.isDependent.masterIndex].isShow&&y.respondantQuestions[y.isDependent.masterIndex].dependent&&0<y.respondantQuestions[y.isDependent.masterIndex].dependent.length?0<n&&n<5?(y.isDependent.avail=!0,y.isDependent.checkforDependent=!1,y.isDependent.quantity=n,y.isDependent.masterIndex=t,y.isDependent.dependentIndex=0,I=y.respondantQuestions[y.isDependent.masterIndex].dependent[0]):console.log("dependent available but quantity is 0"):console.log("dependent check skipped or no dependent questions"),parseInt(y.isDependent.masterIndex)+1<y.respondantQuestions.length||y.isDependent.avail?(y.isDependent.lastDependentAnswered?!o&&0<y.questionsToShow.length&&1!=y.questionsToShow.length&&s+1!=y.questionsToShow.length||y.isDependent.masterIndex++:console.log("dont increase master index"),y.isDependent.avail?(I.isHidden=!1,I.primaryIndex=y.isDependent.dependentIndex,g(function(){y.questionsToShow.push(I)},0)):(y.isDependent.lastDependentAnswered?(y.respondantQuestions[y.isDependent.masterIndex].isHidden=!1,y.respondantQuestions[y.isDependent.masterIndex].primaryIndex=y.isDependent.masterIndex):(!o&&0<y.questionsToShow.length?1==y.questionsToShow.length?y.isDependent.masterIndex++:s+1!=y.questionsToShow.length?y.questionsToShow[s].qualification_id:y.isDependent.masterIndex=y.isDependent.masterIndex+1:y.isDependent.masterIndex=y.isDependent.masterIndex+1,y.respondantQuestions[y.isDependent.masterIndex].isHidden=!1,y.respondantQuestions[y.isDependent.masterIndex].primaryIndex=parseInt(t)+1),0==_.where(y.questionsToShow,y.respondantQuestions[y.isDependent.masterIndex]).length&&(y.respondantQuestions[y.isDependent.masterIndex].isShow?g(function(){y.questionsToShow.push(y.respondantQuestions[y.isDependent.masterIndex])},0):(e="","singlepunch"==y.respondantQuestions[y.isDependent.masterIndex].data.question_type&&(e=y.respondantQuestions[y.isDependent.masterIndex].userAnswer.value),y.onChangeInput(e,y.respondantQuestions[y.isDependent.masterIndex].userAnswer.value,y.isDependent.masterIndex,y.respondantQuestions[y.isDependent.masterIndex].qualification_id,y.isDependent.masterIndex+"_"+y.respondantQuestions[y.isDependent.masterIndex].qualification_id+"_"+y.respondantQuestions[y.isDependent.masterIndex].data.question_type,y.isDependent.masterIndex+y.respondantQuestions[y.isDependent.masterIndex].primaryIndex+y.isDependent.masterIndex+"_"+y.respondantQuestions[y.isDependent.masterIndex].qualification_id,y.isDependent.masterIndex,!0))))):(console.log("finished"),y.nextBtn.show=!0)):console.log("error validating qualification "+l)};if(229==e)w(e,c,function(e){return m(e)});else if(214==e)D(e,c,r,function(e){return m(e)});else if(211==e)T(e,c,r,function(e){return m(e)});else if(212==e)p?E(e,c,function(e){return m(e)}):(y.userObj.bornmonth=a[234],y.userObj.bornyear=a[235],q(e,y.userObj.bornmonth,y.userObj.bornyear,function(e){return m(e)}));else if(217==e)C(e,c,r,function(e){return m(e)});else if(218==e)k(e,c,r,function(e){return m(e)});else if(213==e)O(e,c,d,function(e){return m(e)});else if(215==e)j(e,c,r,function(e){return m(e)});else if(216==e)R(e,c,r,function(e){return m(e)});else{if(230==e)return void(y.userObj.kids[f]=a,v(y.userObj.kids),m(!0));244==e?S(e,c,r,function(e){return m(e)}):245==e?x(e,c,r,function(e){return m(e)}):A(e,c,r,u,function(e){return m(e)})}},y.nextClicked=function(){y.nextBtn.clicked=!0,y.respondentProfile.exitBefore=!1,m(y.respondentProfile),a.onbeforeunload=y.emptyF},y.respondantQuestions=[],y.questionsToShow=[],y.localisation="en_US",y.modelArray=[];var p=function(e,n,t){s.getScreenerByID(e,n,t,u.token,u.ps_redirect_test).success(function(e){if(y.loader={show:!1},e&&e.screener&&e.screener[0].questions&&0<e.screener[0].questions.length){for(var n in e.screener[0].questions){e.screener[0].questions[n].isHidden=!0,e.screener[0].questions[n].isAnswered=!1;var t={question_id:e.screener[0].questions[n].data.question_id,qualification_id:e.screener[0].questions[n].qualification_id,userAnswer:""};e.screener[0].questions[n].answerObj=t}var r;y.respondantQuestions=e.screener[0].questions,y.respondantQuestions=h("orderBy")(y.respondantQuestions,"data.question_order_number",!1),y.respondantQuestions[0].isHidden=!1,y.respondantQuestions[0].primaryIndex=0,y.respondantQuestions[0].isShow?y.questionsToShow.push(y.respondantQuestions[0]):(r="","singlepunch"==y.respondantQuestions[0].data.question_type&&(r=y.respondantQuestions[0].userAnswer.value),y.onChangeInput(r,y.respondantQuestions[0].userAnswer.value,0,y.respondantQuestions[0].qualification_id,"0_"+y.respondantQuestions[0].qualification_id+"_"+y.respondantQuestions[0].data.question_type,0+y.respondantQuestions[0].primaryIndex+0+"_"+y.respondantQuestions[0].qualification_id,0,!0))}else y.nextBtn.show=!0}).error(function(e){i({message:e.msg,classes:"alert-danger",duration:2e3})})};function f(){s.getSurveyById(u).success(function(e){e&&e.survey[0]&&e.survey[0].locale&&e.survey[0].locale.countryCode&&e.survey[0].locale.languageCode?(y.surveyTarget.lang_code=e.survey[0].locale.languageCode,y.surveyTarget.country_code=e.survey[0].locale.countryCode,y.surveyTarget.translate_lang=e.survey[0].locale.languageTranslate,y.respondentProfile.survey_id=e.survey[0].id,y.traffic.survey_id=e.survey[0].id,y.respondentProfile.user_id=e.survey[0].company,y.categoryName=e.survey[0].samplesType,d.use(e.survey[0].locale.languageTranslate),y.monthYrDefault=h("translate")("month")+"/"+h("translate")("year"),y.boyGirlDefault=h("translate")("boy")+"/"+h("translate")("girl"),y.dispTexts.kidsText=h("translate")("kids"),y.dispTexts.stAge=h("translate")("aMale"),y.dispTexts.empText=h("translate")("employe"),p(e.survey[0].id,y.respondentProfile.PSID,e.survey[0].locale.languageCode+"_"+e.survey[0].locale.countryCode),y.localisation=e.survey[0].locale.languageTranslate+"_"+e.survey[0].locale.countryCode):i({message:"Error getting survey data!",classes:"alert-danger",duration:2e3})}).error(function(e){i({message:e.msg,classes:"alert-danger",duration:2e3})})}function m(e){y.apicallRespondant||(e.traffic=y.traffic,u.bsec&&(e.bsec=u.bsec),y.apicallRespondant=!0,e.country_code=y.surveyTarget.country_code,s.answerByUser(e).success(function(e){e.url&&(a.location.href=e.url)}).error(function(e){}))}function b(){var e;y.nextBtn.clicked||(e={},(e=y.respondentProfile).traffic=y.traffic,e.country_code=y.surveyTarget.country_code,e.language_code=y.surveyTarget.lang_code,s.saveRespondantData(e).success(function(e){}))}function P(e,n){var e=new Date(e,n-1),n=new Date;if(!(n<e))return n=Math.floor((n-e)/864e5),e=Math.floor(n/365),n=Math.floor(n%365/31),parseInt((12*e+n)/12)}y.onExit=function(e){y.respondentProfile.exitBefore=!0,m(y.respondentProfile),a.onbeforeunload=y.emptyF},a.onbeforeunload=y.onExit;var w=function(n,e,t){y.respondentProfile.target.zip=[];var r,a=l.countryRegex[y.surveyTarget.country_code];if(!a||!a.test(e)&&!0===y.firstZipCode)return y.validFields.zipcode=!1,y.respondentProfile.target.zip=[],t(!1);(5<=e.length||"FR"===y.surveyTarget.country_code&&4<=e.length)&&(a=e.replace(/[\W_-]/g,""),r=a,"CA"===y.surveyTarget.country_code&&(a=e.substr(0,3).toUpperCase()),"AR"===y.surveyTarget.country_code&&(a=e.toUpperCase().replace(" ","")),"BR"===y.surveyTarget.country_code&&(a=e.replace("-","")),"IL"===y.queryParams.locale&&(a=e.replace(" ","")),s.validateZipcode(a,y.surveyTarget.country_code,y.surveyTarget.lang_code).success(function(e){return y.firstZipCode=!1,i.closeAll(),"Failure"===e.apiStatus?(i({message:e.message,classes:"alert-danger",duration:1e3}),y.makeDisabled.zip=!1,y.validFields.zipcode=!1,t(!1)):(y.validFields.zipcode=!0,y.respondentProfile.target.zip[0]={value:e=r},y.traffic.zipcode=e,y.respondentProfile.target.zip[0]={value:e},y.respondentProfile.targetv2[n]=[{value:e}],u.ps_redirect_test||b(),t(!0))}).error(function(e,n){if("Failure"===n.apiStatus)return y.firstZipCode=!1,y.makeDisabled.zip=!1,y.validFields.zipcode=!1,i.closeAll(),i({message:n.message,classes:"alert-danger",duration:1e3}),t(!1)}))},D=function(e,n,t,r){return y.respondentProfile.target.race=[],y.respondentProfile.target.race.push({id:parseInt(t)}),y.respondentProfile.targetv2[e]=[{id:parseInt(t)}],y.traffic.race=n,y.traffic.race_code=t,u.ps_redirect_test||b(),r(!0)},S=function(e,n,t,r){return y.respondentProfile.target.raceBera=[],y.respondentProfile.target.raceBera.push({id:parseInt(t)}),y.respondentProfile.targetv2[e]=[{id:parseInt(t)}],y.traffic.raceBera=n,y.traffic.raceBera_code=t,u.ps_redirect_test||b(),r(!0)},x=function(e,n,t,r){return y.respondentProfile.target.hispanicBera=[],y.respondentProfile.target.hispanicBera.push({id:parseInt(t)}),y.respondentProfile.targetv2[e]=[{id:parseInt(t)}],y.traffic.hispanicBera=n,y.traffic.hispanicBera_code=t,u.ps_redirect_test||b(),r(!0)},A=function(e,n,t,r,a){var i=_.findWhere(y.questionsToShow,{qualification_id:e}),s=!1,o=[],d=(i&&i.dp&&(s=!0),i.data&&i.data.answers&&i.data.answers[e]&&i.data.answers[e].answers&&i.data.answers[e].answers.length&&(o=_.pluck(i.data.answers[e].answers,"id")),[]);return"multipunch"==r&&Array.isArray(n)?n=n.filter(function(e){return e.id&&d.push(e.id),delete e.excluding_qualification_optons,delete e.ticked,e}):"singlepunch"==r&&t?(n=[{id:parseInt(t),text:n}],d.push(parseInt(t))):"openended"==r?n=[{value:n}]:"input"==r&&(n=[{value:parseInt(n)}]),Object.keys(n).length?(y.respondentProfile.target.adv[e]=n,y.respondentProfile.targetv2[e]=n,y.respondentProfile.dynamic_profile[e]={dp:s,selectedAnswers:d,renderedAnswers:o},y.traffic.adv[e]=n,u.ps_redirect_test||b(),a(!0)):a(!1)},T=function(e,n,t,r){return y.respondentProfile.target.gender=[],y.userObj.gender=n,y.respondentProfile.target.gender.push({id:parseInt(t)}),y.respondentProfile.targetv2[e]=[{id:parseInt(t)}],y.traffic.gender=n,y.traffic.gender_code=t,u.ps_redirect_test||b(),r(!0)},q=function(e,n,t,r){var n=new Date(n+", 1 2016").getMonth()+1,a=(new Date).getMonth()+1,a=12*(new Date).getFullYear()+a,i=12*parseInt(t)+parseInt(n),a=(parseInt((a-i)/12),P(t,n));return y.respondentProfile.target.age[0]={value:parseInt(a)},y.respondentProfile.targetv2[e]=[{value:parseInt(a)}],y.traffic.age=a,u.ps_redirect_test||b(),r(!0)},E=function(e,n,t){return y.respondentProfile.target.age[0]={value:parseInt(n)},y.respondentProfile.targetv2[e]=[{value:parseInt(n)}],y.traffic.age=n,u.ps_redirect_test||b(),t(!0)};function P(e,n){var e=new Date(e,n-1),n=new Date;if(!(n<e))return n=Math.floor((n-e)/864e5),e=Math.floor(n/365),n=Math.floor(n%365/31),parseInt((12*e+n)/12)}var C=function(e,n,t,r){return y.userObj.relationship=n,y.respondentProfile.target.relationships=[],y.respondentProfile.target.relationships.push({id:parseInt(t)}),y.respondentProfile.targetv2[e]=[{id:parseInt(t)}],y.traffic.relationship=n,y.traffic.relationship_code=t,u.ps_redirect_test||b(),r(!0)},k=function(e,n,t,r){return y.traffic.children_code=t=112<t?112:t,y.userObj.kids=[],y.traffic.children=n,y.traffic.children_code=t,y.respondentProfile.target.children[0]={id:parseInt(t)},y.respondentProfile.targetv2[e]=[{id:parseInt(t)}],y.traffic.kids=y.userObj.kids,v(y.userObj.kids),u.ps_redirect_test||b(),r(!0)},O=function(e,n,t,r){var a=/^([0-9]{1,6})$/i,t=t.split("_");return"JP"==t[1]||"CO"==t[1]||"ID"==t[1]?a=/^([0-9]{1,9})$/i:"PH"==t[1]||"CL"==t[1]?a=/^([0-9]{1,8})$/i:"KR"==t[1]?a=/^([0-9]{1,10})$/i:"AR"!=t[1]&&"CN"!=t[1]&&"MX"!=t[1]||(a=/^([0-9]{1,7})$/i),y.respondentProfile.target.houseHoldIncome=[],t=parseInt(n),y.respondentProfile.target.houseHoldIncome[0]={value:parseInt(t)},y.respondentProfile.targetv2[e]=[{value:parseInt(t)}],y.traffic.income=t,a.test(parseInt(n))?(u.ps_redirect_test||b(),r(!0)):(i({message:"invalid income",classes:"alert-warning",duration:1e3}),r(!1))},j=function(e,n,t,r){return y.respondentProfile.target.employments=[],y.userObj.employment=n,y.respondentProfile.target.employments.push({id:parseInt(t)}),y.respondentProfile.targetv2[e]=[{id:parseInt(t)}],y.traffic.employment=n,y.traffic.employment_code=t,u.ps_redirect_test||b(),r(!0)},R=function(e,n,t,r){return y.respondentProfile.target.educations=[],y.respondentProfile.target.educations.push({id:parseInt(t)}),y.respondentProfile.targetv2[e]=[{id:parseInt(t)}],y.userObj.education=n,y.traffic.education=n,y.traffic.education_code=t,u.ps_redirect_test||b(),r(!0)};function m(e){e.traffic=y.traffic,u.bsec&&(e.bsec=u.bsec),u.tid&&(e.tid=u.tid),e.country_code=y.surveyTarget.country_code,s.answerByUser(e).success(function(e){e.url&&(a.location.href=e.url)}).error(function(e){})}y.makeMeDisabled=function(){y.nextButtonDis=!0,y.loader={show:!0}}}]),angular.module("pureSpectrumApp").filter("customFilter",function(){return function(e,n){return n?e.filter(function(e){return e.text.toLowerCase().includes(n.toLowerCase())}):e}}),angular.module("pureSpectrumApp").directive("typeInputDir",["$filter","$document","$compile","$parse","$timeout","createSurvey","$translate","ngDragDrop",function(O,e,j,R,Q,n,N,B){return{restrict:"AE",scope:{tempType:"@",label:"@",placeholder:"@",format:"=",answers:"=",uniqueIndex:"@",id:"@",qualificationid:"@",qualificationclass:"@",locale:"@",model:"=",onChange:"&?",resetScreener:"&?",widthCallback:"&onLoadCallback",onModalClick:"&onPrivacyModalClick",ppQueLocaleText:"@",imageUrl:"@",imagesData:"=",onDrag:"&",onDrop:"&",onOver:"&",resetCounter:"=",getCaptchaSvg:"&getCaptcha"},link:function(l,t,n){Object.values(l.answers).forEach(function(e){e.answers.length&&(e.answers=e.answers.map(function(e){return _objectSpread(_objectSpread({},e),{},{value:void 0===e.value?e.text:e.value})}))});function e(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function s(){return 0<l.resetCounter&&l.resetCounter<2}function o(){var e;i&&(e=B.getDefaults(),B.setup({elem:t,attrs:n,scope:l,listeners:{onDrag:l.onDrag||function(){},onDrop:l.onDrop||function(){},onOver:l.onOver||function(){}},styles:JSON.parse(n.styles)||e.styles}))}var r,a=6,i=(l.answerObj=[],l.outputList=[],l.widthCallback(),!1),d=(l.showResetButton=!1,l.showResetButton=s(),l.open=function(){l.onModalClick()},function(e,n){e?console.log("error"):(t.html(n),j(t.contents())(l)),o()}),u="<h5 class='covered-if '>",c=(_=l.label).match(/%%(\d*)%%+/g);for(r in c)c[r]=c[r].replace(/%%*/g,"");var p,f=(f=angular.copy(l.locale)).split("_")[0],m=(N.use(f),c&&"218"==c[0]&&-1!=_.indexOf("children")&&(_=_.replace("children",'<span id="child_string">children</span>')),c&&"215"==c[0]&&-1!=_.indexOf(O("translate")("employed"))&&(_=_.replace(O("translate")("employed"),'<span id="emp_string">'+O("translate")("employed")+"</span>")),l.answers=l.answers,l.units=R(n.units)(l.$parent),[]);for(p in c)m.push(p+"_"+c[p]+"_"+l.answers[c[p]].answer_type);var y,g=m.join("-");for(y in c){var h,v,_,I,b,P,w,D,S,x=y+l.id+l.uniqueIndex+"_"+c[y];if("input"!=l.answers[c[y]].answer_type&&"calculation"!=l.answers[c[y]].answer_type||(k=(k=l.locale.split("_"))[k.length-1],I="field-zip-code",v=5,b=h=w="",-1!=_.indexOf("%%213%%")&&(v=6,w=0,h=999999,b="incomeWidth","QA"!=k&&"AE"!=k&&"HK"!=k&&"RO"!=k&&"BG"!=k&&"IL"!=k&&"TH"!=k&&"KZ"!=k||(v=7,h=9999999),"CZ"!=k&&"BH"!=k&&"MD"!=k&&"JM"!=k&&"ET"!=k&&"GE"!=k&&"CI"!=k&&"KG"!=k&&"BY"!=k&&"RU"!=k&&"AL"!=k||(v=8,h=99999999),"HU"!=k&&"UZ"!=k&&"AO"!=k&&"AR"!=k||(v=9,h=999999999),"RS"!=k&&"JO"!==k&&"SV"!=k&&"GT"!=k&&"MZ"!=k&&"KE"!=k&&"MA"!=k&&"DZ"!=k&&"UY"!=k&&"OM"!=k&&"PY"!=k&&"PA"!=k&&"HT"!=k&&"XK"!=k&&"CD"!=k&&"RW"!=k&&"GH"!=k&&"SD"!=k&&"MT"!=k&&"CY"!=k&&"LU"!=k&&"AM"!=k&&"NP"!=k&&"LK"!=k&&"TJ"!=k&&"TM"!=k&&"NG"!=k&&"BO"!=k&&"VE"!=k&&"EG"!=k||(v=8,h=99999999)),-1!=_.indexOf("%%230%%")&&(v=2),"IN"==k||"CN"==k||"CA"==k||"CN"==k||"AE"==k||"TR"==k||"SE"==k||"PE"==k||"CL"==k||"NL"==k||"MM"==k||"EG"==k?(I="field-zip-code-ca",v=7):"UK"==k||"SV"==k||"MD"==k||"AM"==k||"NO"==k||"VE"==k?-1!=_.indexOf("%%229%%")&&(I="field-zip-code-uk",v=4):"JP"==k?(-1!=_.indexOf("%%229%%")&&(I="field-zip-code-jp",v=8),-1!=_.indexOf("%%213%%")&&(v=9,w=0,h=1e8,b="incomeWidth-jp")):"PH"==k?(-1!=_.indexOf("%%229%%")&&(I="field-zip-code-ph"),-1!=_.indexOf("%%213%%")&&(v=8,w=0,h=1e7,b="incomeWidth-ph")):"CL"==k?(-1!=_.indexOf("%%229%%")&&(I="field-zip-code-ph"),-1!=_.indexOf("%%213%%")&&(v=8,w=0,h=99999999,b="incomeWidth-ph")):"CO"==k||"ID"==k?(-1!=_.indexOf("%%229%%")&&("CO"==k?(I="field-zip-code-ca",v=6):I="field-zip-code-jp"),-1!=_.indexOf("%%213%%")&&(v=9,w=0,h=999999999,b="incomeWidth-jp")):"KR"==k||"UA"==k||"TR"==k||"CR"==k||"MX"==k||"PR"==k||"PK"==k||"KW"==k||"EE"==k||"IQ"==k||"SA"==k||"VN"==k||"EG"==k?(-1!=_.indexOf("%%229%%")&&(I="field-zip-code-KR",v=5),-1!=_.indexOf("%%213%%")&&(b=(h="CR"==k||"MX"==k?(v=7,w=0,9999999):(v=10,w=0,9999999999),"incomeWidth-kr"))):"BR"==k?-1!=_.indexOf("%%229%%")&&(I="field-zip-code-br",v=9):"PT"==k||"IL"==k?-1!=_.indexOf("%%229%%")&&(I="field-zip-code-pt",v=8):"PL"==k||"RU"==k||"EC"==k||"GR"==k||"SK"==k||"CZ"==k||"RO"==k||"KH"==k||"UZ"==k||"PY"==k||"AZ"==k||"KG"==k||"TM"==k||"BY"==k||"SG"==k||"TW"==k||"NG"==k?-1!=_.indexOf("%%229%%")&&(I="field-zip-code-br",v=6):"AT"==k||"CH"==k||"AU"==k||"PH"==k||"BE"==k||"BD"==k||"HU"==k||"BG"==k||"SI"==k||"LV"==k||"HT"==k||"GE"==k||"DK"==k||"AL"==k||"ZA"==k||"BH"==k||"EG"==k?-1!=_.indexOf("%%229%%")&&(I="field-zip-code-br",v=4):"MY"==k||"LT"==k?-1!=_.indexOf("%%229%%")&&(I="field-zip-code-my",v=5):"GH"==k||"IE"==k||"KZ"==k?-1!=_.indexOf("%%229%%")&&(I="field-zip-code-gh",v=3):"MT"==k?-1!=_.indexOf("%%229%%")&&(I="field-zip-code-mt",v=7):"AR"==k&&(-1!=_.indexOf("%%229%%")&&(I="field-zip-code-br",v=9),-1!=_.indexOf("%%213%%"))&&(v=9,w=0,h=999999999,b="incomeWidth-ar"),501===l.units&&(w=0,h=99,v=2),l.qualificationclass==a&&l.format&&"object"===_typeof(l.format)&&0<Object.keys(l.format).length&&(w=(k=l.format).min||0,h=k.max||99999,k.minlength,v=k.maxlength||5),k=l.answers[c[y]].answer_type,P="handleInput(answerObj[p].userAnswer, ".concat(l.id,", ").concat(c[y],", ").concat(l.uniqueIndex,",'").concat(g,"','").concat(x,"','").concat(k,"')"),w='<span class="selectid selectid-'+c[y]+'">'+l.answers[c[y]].answer_placeholder+'</span><span><input e2e-data="'+c[y]+"-"+l.id+'" type="text" ng-init="focus=false" ng-focus="focus = true" ng-blur="focus = false" ng-class="{\'hide-placeholder\':focus}" min="'+w+'" max="'+h+'" maxlength="'+v+'" ng-model-options="{debounce : 1000}" id="ans'+x+'" onkeypress="return validateQty(event, this, '+c[y]+",'"+l.locale+'\') || event.key ===`Backspace`" onkeyup="formatinput(event, this, '+c[y]+",'"+l.locale+'\')" class="text-center '+I+" "+b+" answerid-"+c[y]+'" placeholder="'+l.answers[c[y]].answer_placeholder+'" ng-model="answerObj[p].userAnswer" ng-change="'+P+'" data-hj-whitelist/><span>',_=_.replace("%%"+c[y]+"%%",w),"calculation"==k&&(h=e(1,9),v=e(1,9),_=(_=_.replace("%%x%%",h)).replace("%%y%%",v),l.answers[c[y]].calculation_expr="".concat(h,"+").concat(v))),"singlepunch"==l.answers[c[y]].answer_type&&(A='<div class="select-dropdown dropdown" id="ans'+x+'"><a e2e-data="'+c[y]+"-"+l.id+'" id="answerid-'+c[y]+'" data-target="#" href="javascript:void(0)" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span>'+l.answers[c[y]].answer_placeholder+'</span></a><span class="caret"></span><ul class="dropdown-menu" aria-labelledby="answerid-'+c[y]+'">',20<l.answers[c[y]].answers.length&&(A+='<li role="presentation"><a href="javascript:void(0)" id="search-filter-'+c[y]+'" ng-click="preventClick($event)"><input type="text" class="form-control" placeholder="Search" ng-model="searchText" /></a></li>'),A=A+'<li ng-repeat="opts in answers['.concat(c[y],'].answers | customFilter:searchText as filtered_result">\n                                            <a href="javascript:void(0)" id="').concat(c[y],"-{{opts.id}}-").concat(l.id,'" ng-click="handleClick(').concat(y,", opts, ").concat(l.id,", ").concat(c[y],", ").concat(l.uniqueIndex,", '").concat(g,"', '").concat(x,"', opts.text, opts.value, opts.id)\">{{ opts.text }}</a></li>")+'<li ng-show="!filtered_result.length"><a href="javascript:void(0)">No Match Found</a></li></ul></div>',_=_.replace("%%"+c[y]+"%%",A)),"singlepunch_alt"==l.answers[c[y]].answer_type&&(console.log(" singlePunch alt --\x3e",l.answers[c[y]]),D=l.answers[c[y]].answers,S=[],D.forEach(function(e){S.push(e)}),l.inputList=S,A=(A='<div class="multipunch-options"><div class="multi-opt" ng-repeat="inputObj in inputList"><label>')+'<input type="radio" ng-click="handleClick('+y+",{{$index}},"+l.id+","+c[y]+","+l.uniqueIndex+",'"+g+"','"+x+"','{{inputObj.text}}','{{inputObj.text}}',{{inputObj.id}})\" name=\""+l.id+'"><span>{{inputObj.text}}</span></label></div></div>',_=_.replace("%%"+c[y]+"%%",A)),"openended"!=l.answers[c[y]].answer_type&&"upload"!=l.answers[c[y]].answer_type&&"captcha"!=l.answers[c[y]].answer_type||(A="",b=!(I=100),P="showArrow = true; handleOpenEndedChange("+l.id+","+c[y]+", "+l.uniqueIndex+");",w='<span ng-init="showArrow = true" ng-show="answerObj[p].userAnswer && showArrow" ng-click="showArrow = !showArrow; handleOpenEnded(answerObj[p].userAnswer, '+l.id+","+c[y]+", "+l.uniqueIndex+",'"+g+"','"+x+'\')"><i class="fa fa-chevron-down" aria-hidden="true"></i></span>',"upload"==l.answers[c[y]].answer_type&&(A="<img src = "+l.imageUrl+">",w="",I=1e3,P+="handleOpenEnded(answerObj[p].userAnswer, "+l.id+","+c[y]+", "+l.uniqueIndex+",'"+g+"','"+x+"')\""),"captcha"==l.answers[c[y]].answer_type&&(b=!0,l.getCaptchaSvg().then(function(e){var t=!1,n=e.data.data,e=e.data.reachedRefreshButtonThreshold,r=$("<div></div>"),a=$('<div id="pscaptcha"></div>'),i=$('<button class="refresh-btn" id="refresh-captcha-btn" type="button"><img class="refresh-icon" src="img/refresh.svg" alt="refresh"/></button>'),s=$('<img id="pscaptcha" src="img/small-loader.gif" class="loader-icon" alt="loading"/>');i.on("click",function(){t||($("#pscaptcha").replaceWith(s),t=!0,l.resetScreener({q_id:c[y],id:l.id,unique_index:l.uniqueIndex,isAutoAnswer:!1}),l.getCaptchaSvg({refresh:!0}).then(function(e){t=t&&!1,e.data.reachedRefreshButtonThreshold&&$("#refresh-captcha-btn").remove();var e=e.data.data,n=$('<div id="pscaptcha"></div>');n.append(e),$("#pscaptcha").replaceWith(n),$("#ans".concat(x)).val("")}))}),a.append(n),r.append(a),e||r.append(i),$("#pscaptcha").replaceWith(r)}),w="",P="showArrow = false; handlePsCaptcha(answerObj[p].userAnswer, ".concat(l.id,", ").concat(c[y],", ").concat(l.uniqueIndex,", '").concat(g,"', '").concat(x,"')"),A='<img id="pscaptcha" src="img/small-loader.gif" class="loader-icon" alt="loading"/>',I=1e3),A=A+('<span><input type="textarea" ng-init="focus=false" ng-focus="focus = true" ng-blur="focus = false" ng-class="{\'hide-placeholder\':focus}" ng-model-options="{debounce : '+I+'}" id="ans'+x+'" class="text-center data-hj-allow" placeholder="'+l.answers[c[y]].answer_placeholder)+'" ng-model="answerObj[p].userAnswer" ng-change="'+P+'" '+(b?'ng-minlength="6"':"")+'"/></span>'+w,_=_.replace("%%"+c[y]+"%%",A)),"multipunch"==l.answers[c[y]].answer_type&&(D=l.answers[c[y]].answers,S=[],D.forEach(function(e){S.push(e)}),l.inputList=S,A=(A='<div class="multipunch-options"><div class="multi-opt" ng-repeat="inputObj in inputList"><label>')+'<input type="checkbox" data-checklist-model="outputList" checklist-change="handleMultiPunch('+y+", "+l.id+", "+c[y]+", "+l.uniqueIndex+",'"+g+"','"+x+'\')" data-checklist-value="inputObj"><span id="'+c[y]+'-{{inputObj.id}}">{{inputObj.text.split("&nbsp;").join(" ")}}</span></label></div></div>',_=_.replace("%%"+c[y]+"%%",A)),"range"==l.answers[c[y]].answer_type){for(var A='<div class="select-dropdown dropdown hidden-sm hidden-xs" id="ans'+x+'"><a id="answerid-'+c[y]+'" data-target="#" href="javascript:void(0)" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span>'+l.answers[c[y]].answer_placeholder+'</span></a><span class="caret"></span><ul class="dropdown-menu" aria-labelledby="answerid-'+c[y]+'">',T=l.answers[c[y]].answers.max;T>l.answers[c[y]].answers.min;T--)A+='<li><a href="javascript:void(0)" id="'+c[y]+"-"+T+'" ng-click="handleClick('+y+","+T+", "+l.id+", "+c[y]+", "+l.uniqueIndex+",'"+g+"','"+x+"',"+T+","+T+",'"+T+"')\">"+T+"</a></li>";A=(A=(A=(A=A+"</ul></div>"+('<div class="screener-custom-select hidden-lg hidden-md ans'+x+'" id="ans'+x+'">'))+('<span class="selectid selectid-'+c[y]+'">{{answers['+c[y]+'].answer_placeholder || "Pick One"}}</span>'))+('<select id="answerid-'+c[y]+'" class="answerid-'+c[y]+'" ng-model="getselectedYear_'+c[y]+'" ng-change="setHandleClick('+y+", getselectedYear_"+c[y]+", "+l.id+", "+c[y]+", "+l.uniqueIndex+",'"+g+"','"+x+"', answers["+c[y]+'])">'))+('<option value="" disabled selected>{{answers['+c[y]+'].answer_placeholder || "Pick One"}}</option>');for(T=l.answers[c[y]].answers.max;T>l.answers[c[y]].answers.min;T--)A+='<option value="'+T+'">'+T+"</option>";A=(A+="</select>")+'<span class="caret"></span>'+"</div>",_=_.replace("%%"+c[y]+"%%",A)}if("dragdrop"==l.answers[c[y]].answer_type){i=!0;var q,A='<div class="drag-drop-container">',E=(A+='<div class="drag-container">',_createForOfIteratorHelper(l.imagesData.names));try{for(E.s();!(q=E.n()).done;){var C=q.value;A=(A=(A+='<div class="draggable-item" dragIt="true">')+('<img src="'+l.imagesData.path+C+'.png" alt="'+C+'" element_id="'+C+"_"+x+'" />'))+('<div id="drop_'+C+"_"+x+'" ng-click="handleDragDrop('+y+","+T+", "+l.id+", "+c[y]+", "+l.uniqueIndex+",'"+g+"','"+x+"',"+T+","+C+",'"+C+"')\" > </div>")+"</div>"}}catch(e){E.e(e)}finally{E.f()}A=(A=(A=(A+="</div>")+'<div class="drop-container">'+'<div id="drop-zone"></div>')+('<div ng-if="showResetButton" class="reset-loader"><i class="fa fa-undo" ng-click="resetDragNDrop('+l.id+", "+c[y]+", "+l.uniqueIndex+')"></i></div>'))+"</div>"+"</div>";var k=e(0,l.imagesData.names.length-1);l.answers[c[y]].ans_opt=l.imagesData.names[k],_=(_=_.replace("%%x%%",l.imagesData.names[k])).replace("%%"+c[y]+"%%",A)}}u+=_+"</h5>",d(null,u=99996===parseInt(l.qualificationid)?u.replace("p_policy"," <a href='javascript:void(0);' ng-click='open()'> "+l.ppQueLocaleText+" <i class='fa fa-external-link'></i></a> "):u),l.handleInput=function(e,n,t,r,a,i,s){Q(function(){l.onChange({selectedId:"",data:e,id:n,q_id:t,groupQualificationIds:a,element_id:i,unique_index:r,isAutoAnswer:!1,question_type:s})},100)},l.handleOpenEnded=function(e,n,t,r,a,i){Q(function(){l.onChange({selectedId:"",data:e,id:n,q_id:t,groupQualificationIds:a,element_id:i,unique_index:r,isAutoAnswer:!1,question_type:"openended"})&&(l.showArrow=!0,l.handleOpenEndedChange(n,t,r))},100)},l.handlePsCaptcha=function(e,n,t,r,a,i){String(e||"").length<6?l.handleOpenEndedChange(n,t,r):Q(function(){l.onChange({selectedId:"",data:e,id:n,q_id:t,groupQualificationIds:a,element_id:i,unique_index:r,isAutoAnswer:!1,question_type:"openended"})&&(l.showArrow=!0,l.handleOpenEndedChange(n,t,r))},100)},l.handleOpenEndedChange=function(e,n,t){Q(function(){l.resetScreener({q_id:n,id:e,unique_index:t,isAutoAnswer:!1})},100)},l.handleMultiPunch=function(e,n,t,r,a,i){if(console.log("\n\n $scope.outputList ",JSON.stringify(l.outputList)),999===(l.outputList.length?l.outputList[l.outputList.length-1].id:0))for(var s=l.outputList.length-1;0<=s;s--)999!==l.outputList[s].id&&l.outputList.splice(s,1);else l.outputList.some(function(e){return 999===e.id})&&l.outputList.splice(0,1);Q(function(){l.onChange({selectedId:l.outputList,data:l.outputList,id:n,q_id:t,groupQualificationIds:a,element_id:i,unique_index:r,isAutoAnswer:!1,question_type:"multipunch"})},100)},l.setHandleClick=function(e,n,t,r,a,i,s,o){var d,u;o="range"==o.answer_type?(u=d=n).toString():(d=o.answers[n].text,o.answers[n].text.indexOf("'")&&o.answers[n].text.replace("'","&lsquo;"),(u=o.answers[n].value||d).indexOf("'")&&u.replace("'","&lsquo;"),o.answers[n].id),l.handleClick(e,n,t,r,a,i,s,d,u,o)},l.handleClick=function(e,n,t,r,a,i,s,o,d,u){l.searchText="",Q(function(){218==r&&document.getElementById("child_string")&&(document.getElementById("child_string").innerHTML=1==d?"child":"children"),document.getElementById("ans"+s).firstChild.innerHTML=o,document.getElementById("ans"+s).firstChild.setAttribute("itemVal",d),l.onChange({selectedId:u,data:d,id:t,q_id:r,groupQualificationIds:i,element_id:s,unique_index:a,isAutoAnswer:!1,question_type:"singlepunch"}),document.getElementById("emp_string")&&(document.getElementById("emp_string").innerHTML=215!=r||111!=u&&112!=u&&115!=u?O("translate")("employed"):"")},100)},l.handleDragDrop=function(e,n,t,r,a,i,s,o,d,u){l.showResetButton=l.resetCounter<2,l.onChange({selectedId:u,data:d,id:t,q_id:r,groupQualificationIds:i,element_id:s,unique_index:a,isAutoAnswer:!1,question_type:"dragdrop"})},l.resetDragNDrop=function(r,a,i){document.querySelectorAll(".draggable-item").forEach(function(e){var n,t;e.querySelector("img")||((n=document.querySelector("#drop-zone img"))&&(t=n.cloneNode(!0),e.appendChild(t),n.parentNode.removeChild(n),o(),l.resetCounter++,l.showResetButton=s()),l.resetScreener({q_id:a,id:r,unique_index:i,isAutoAnswer:!1}))})},l.preventClick=function(e){e.preventDefault(),e.stopPropagation()}}}}]);
</script>

</body>
</html>
