<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8786.ef1a7e97177eac45.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8786],{22600:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855 160.1l-189.2 23.5c-6.6.8-9.3 8.8-4.7 13.5l54.7 54.7-153.5 153.5a8.03 8.03 0 000 11.3l45.1 45.1c3.1 3.1 8.2 3.1 11.3 0l153.6-153.6 54.7 54.7a7.94 7.94 0 0013.5-4.7L863.9 169a7.9 7.9 0 00-8.9-8.9zM416.6 562.3a8.03 8.03 0 00-11.3 0L251.8 715.9l-54.7-54.7a7.94 7.94 0 00-13.5 4.7L160.1 855c-.6 5.2 3.7 9.5 8.9 8.9l189.2-23.5c6.6-.8 9.3-8.8 4.7-13.5l-54.7-54.7 153.6-153.6c3.1-3.1 3.1-8.2 0-11.3l-45.2-45z"}}]},name:"arrows-alt",theme:"outlined"}},90401:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 01-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0133.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0119.6 43c0 19.1-11 37.5-28.8 48.4z"}}]},name:"dislike",theme:"outlined"}},52444:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M881.7 187.4l-45.1-45.1a8.03 8.03 0 00-11.3 0L667.8 299.9l-54.7-54.7a7.94 7.94 0 00-13.5 4.7L576.1 439c-.6 5.2 3.7 9.5 8.9 8.9l189.2-23.5c6.6-.8 9.3-8.8 4.7-13.5l-54.7-54.7 157.6-157.6c3-3 3-8.1-.1-11.2zM439 576.1l-189.2 23.5c-6.6.8-9.3 8.9-4.7 13.5l54.7 54.7-157.5 157.5a8.03 8.03 0 000 11.3l45.1 45.1c3.1 3.1 8.2 3.1 11.3 0l157.6-157.6 54.7 54.7a7.94 7.94 0 0013.5-4.7L447.9 585a7.9 7.9 0 00-8.9-8.9z"}}]},name:"shrink",theme:"outlined"}},40504:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"}},92511:function(e,t,a){var n=a(64836),r=a(18698);t.Z=void 0;var i=n(a(42122)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=_getRequireWildcardCache(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}(a(67294)),u=n(a(22600)),o=n(a(92074));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(e){return e?a:t})(e)}var ArrowsAltOutlined=function(e,t){return l.createElement(o.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:u.default}))};ArrowsAltOutlined.displayName="ArrowsAltOutlined";var s=l.forwardRef(ArrowsAltOutlined);t.Z=s},13643:function(e,t,a){var n=a(64836),r=a(18698);t.Z=void 0;var i=n(a(42122)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=_getRequireWildcardCache(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}(a(67294)),u=n(a(90401)),o=n(a(92074));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(e){return e?a:t})(e)}var DislikeOutlined=function(e,t){return l.createElement(o.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:u.default}))};DislikeOutlined.displayName="DislikeOutlined";var s=l.forwardRef(DislikeOutlined);t.Z=s},55531:function(e,t,a){var n=a(64836),r=a(18698);t.Z=void 0;var i=n(a(42122)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=_getRequireWildcardCache(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}(a(67294)),u=n(a(52444)),o=n(a(92074));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(e){return e?a:t})(e)}var ShrinkOutlined=function(e,t){return l.createElement(o.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:u.default}))};ShrinkOutlined.displayName="ShrinkOutlined";var s=l.forwardRef(ShrinkOutlined);t.Z=s},49031:function(e,t,a){var n=a(64836),r=a(18698);t.Z=void 0;var i=n(a(42122)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=_getRequireWildcardCache(t);if(a&&a.has(e))return a.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=i?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}(a(67294)),u=n(a(40504)),o=n(a(92074));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(e){return e?a:t})(e)}var SwapOutlined=function(e,t){return l.createElement(o.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:u.default}))};SwapOutlined.displayName="SwapOutlined";var s=l.forwardRef(SwapOutlined);t.Z=s},48786:function(e,t,a){a.r(t),a.d(t,{default:function(){return PostContextMenu}});var n=a(4586),r=a(85893),i=a(87554),l=a(91309),u=a(65400),o=a.n(u),s=a(56697),d=a(51024),c=a(11187),f=a(4863),p=a(13643),g=a(86896),m=a(44012),h=a(67294),M=a(22578),v=a(6982),j=a(60874);function ReportDupeButton(e){var t=e.id,a=(0,l._)((0,M.useMutation)(j),2),n=a[0],i=a[1],u=(0,l._)((0,h.useState)(!1),2),b=u[0],x=u[1],O=(0,l._)((0,h.useState)(""),2),k=O[0],y=O[1],R=(0,l._)((0,h.useState)(""),2),P=R[0],w=R[1],_=(0,g.Z)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Z,{className:"jr-modal",open:b,onOk:function(){var e=parseInt(k,10);if(Number.isNaN(e)){w(_.formatMessage({id:"PostMenu.ReportDupe.Error.NaN",defaultMessage:"Неверный формат номера поста. Только цифры!"}));return}if(e>=(0,v.Q)(t).id){w(_.formatMessage({id:"PostMenu.ReportDupe.Error.DupeOlderThanOriginal",defaultMessage:"Пост-дубликат старше, чем пост-оригинал. Оригинал должен быть создан раньше"}));return}n({variables:{dupe:t,original:(0,v.A)("Post",e)},onCompleted:function(){y(""),w(""),x(!1),c.ZP.success(_.formatMessage({id:"PostMenu.ReportAbuseSuccess",defaultMessage:"Спасибо, сообщение отправлено!"}),1)},onError:function(e){w(e.message)}})},onCancel:function(){x(!1),y("")},title:_.formatMessage({id:"PostMenu.ReportDupe.Title",defaultMessage:"Сообщить о баяне"}),okText:_.formatMessage({id:"PostMenu.ReportAbuse.OkButton",defaultMessage:"Отправить"}),cancelText:_.formatMessage({id:"PostMenu.ReportAbuse.CancelButton",defaultMessage:"Отмена"}),children:[(0,r.jsx)("div",{children:(0,r.jsx)(m.Z,{id:"PostMenu.ReportDupe.Rules1",defaultMessage:"1. Пост-оригинал должен быть запощен раньше повторного поста."})}),(0,r.jsx)("div",{children:(0,r.jsx)(m.Z,{id:"PostMenu.ReportDupe.Rules2",defaultMessage:"2. Если повторный пост имеет более релевантные теги и/или лучшее качество, чем пост-оригинал, то повторный пост не будет признан баяном."})}),(0,r.jsx)("div",{children:(0,r.jsx)(m.Z,{id:"PostMenu.ReportDupe.Rules3",defaultMessage:"3. Посты с тегами 'анон', 'разная политота', 'разное' не могут выступать в качестве поста-оригинала."})}),(0,r.jsx)("div",{className:"my-2",children:(0,r.jsx)(m.Z,{id:"PostMenu.ReportDupe.Rules",defaultMessage:"Если пост будет признан баяном, то весь его рейтинг уйдет к автору поста-оригинала."})}),P.length>0&&(0,r.jsx)(f.Z,{message:P}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(m.Z,{id:"PostMenu.ReportDupe.InputTitle",defaultMessage:"Номер поста-оригинала:"})}),(0,r.jsx)(d.Z,{className:"jr-input my-2",value:k,placeholder:"123456",onChange:function(e){y(e.target.value),w("")}})]}),(0,r.jsxs)(o(),{type:"default",target:"_blank",loading:i,onClick:function(){x(!0)},className:"ant-btn-default dropdown-menu-button",children:[(0,r.jsx)("span",{className:"text-base ml-0.5 mr-2",children:(0,r.jsx)(p.Z,{})}),(0,r.jsx)("span",{children:(0,r.jsx)(m.Z,{id:"PostMenu.ReportDupe",defaultMessage:"Баян!"})})]})]})}var b=a(77580),x=a(88999),O=a(49031),k=a(26244),y=a(21104);function LocaleChangeButton(e){var t=e.postId,a=(0,l._)((0,M.useMutation)(y),2),n=a[0],i=a[1],u=(0,k.Z)(),s="ru"===u.locale?["en"]:["ru"],d=(0,g.Z)(),doCommit=function(e){n({variables:{id:t,locales:e},onCompleted:function(){c.ZP.success(d.formatMessage({id:"PostMenu.LocaleSuccess",defaultMessage:"Готово!"}),1)}})};return(0,r.jsxs)("div",{className:"flex gap-2",children:["en"===u.locale&&(0,r.jsxs)(o(),{type:"default",target:"_blank",loading:i,onClick:function(){doCommit(s)},className:"ant-btn-default dropdown-menu-button",children:[(0,r.jsx)("span",{className:"text-base ml-0.5 mr-2",children:(0,r.jsx)(O.Z,{})}),(0,r.jsx)("span",{children:s})]}),(0,r.jsxs)(o(),{type:"default",target:"_blank",loading:i,onClick:function(){doCommit(["ru","en"])},className:"ant-btn-default dropdown-menu-button",children:[(0,r.jsx)("span",{className:"text-base ml-0.5 mr-2",children:(0,r.jsx)(O.Z,{})}),(0,r.jsx)("span",{children:(0,r.jsx)(m.Z,{id:"PostMenu.ShareLocale",defaultMessage:"en + ru"})})]})]})}var R=a(6551),P=a(723),w=a(92511),_=a(55531),D=a(72425),C=a(46346);function PostContextMenu(e){var t=e.post,a=e.tagsWithExtendedModeratorRights,l=e.collapsedCompletely,u=e.setCollapsedCompletely,s=e.canEdit,d=(0,D.Pi)();return(0,r.jsx)(P.Z,{postId:(0,v.Q)(t.id).id,createdAt:t.createdAt,additionalButton:[l?(0,r.jsx)(o(),{icon:(0,r.jsx)(w.Z,{className:"mr-2.5"}),onClick:function(){u(!1),localStorage.removeItem("p".concat(t.id))},children:(0,r.jsx)(m.Z,{id:"PostMenu.Expand",defaultMessage:"Развернуть"})},1):(0,r.jsx)(o(),{icon:(0,r.jsx)(_.Z,{className:"mr-2.5"}),onClick:function(){u(!0),localStorage.setItem("p".concat(t.id),"true")},children:(0,r.jsx)(m.Z,{id:"PostMenu.Collapse",defaultMessage:"Свернуть"})},1)].concat((0,n._)(function(){if(!d.isAuthenticated)return[];if(d.superadmin){var e=[(0,r.jsx)(C.Z,{id:t.id},6),(0,r.jsx)(ReportDupeButton,{id:t.id},5),(0,r.jsx)(i.Z,{id:t.id},1),t.banned?(0,r.jsx)(b.Z,{id:t.id},2):(0,r.jsx)(x.Z,{id:t.id},2),(0,r.jsx)(LocaleChangeButton,{postId:t.id},3)];return a.length>0&&(e=(0,n._)(e).concat([(0,r.jsx)(R.Z,{id:t.id,tagsWithExtendedModRights:a},4)])),e}return s?[(0,r.jsx)(C.Z,{id:t.id},6)]:a.length>0?[(0,r.jsx)(i.Z,{id:t.id},1),(0,r.jsx)(ReportDupeButton,{id:t.id},5),(0,r.jsx)(R.Z,{id:t.id,tagsWithExtendedModRights:a},2)]:[(0,r.jsx)(i.Z,{id:t.id},1),(0,r.jsx)(ReportDupeButton,{id:t.id},5)]}()))})}},21104:function(e,t,a){a.r(t);var n,r,i={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"locales"}],kind:"Fragment",metadata:null,name:"LocaleChangeButtonMutation",selections:r=[{alias:null,args:[{kind:"Variable",name:"id",variableName:"id"},{kind:"Variable",name:"locales",variableName:"locales"}],concreteType:"MutationResult",kind:"LinkedField",name:"changeLocale",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"LocaleChangeButtonMutation",selections:r},params:{cacheID:"29450163da0258a8b8fa82e970a93df9",id:null,metadata:{},name:"LocaleChangeButtonMutation",operationKind:"mutation",text:"mutation LocaleChangeButtonMutation(\n  $id: ID!\n  $locales: [String!]!\n) {\n  changeLocale(id: $id, locales: $locales) {\n    success\n  }\n}\n"}};i.hash="69dd7590d3551ce5900982168f7bedbb",t.default=i},60874:function(e,t,a){a.r(t);var n,r,i={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"dupe"},{defaultValue:null,kind:"LocalArgument",name:"original"}],kind:"Fragment",metadata:null,name:"ReportDupeButtonMutation",selections:r=[{alias:null,args:[{kind:"Variable",name:"dupe",variableName:"dupe"},{kind:"Variable",name:"original",variableName:"original"}],concreteType:"MutationResult",kind:"LinkedField",name:"reportDupe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"ReportDupeButtonMutation",selections:r},params:{cacheID:"58cdef6f68c487ac061827837085c4c9",id:null,metadata:{},name:"ReportDupeButtonMutation",operationKind:"mutation",text:"mutation ReportDupeButtonMutation(\n  $dupe: ID!\n  $original: ID!\n) {\n  reportDupe(dupe: $dupe, original: $original) {\n    success\n  }\n}\n"}};i.hash="21c30fd8091ba76ca816bb4e439f0792",t.default=i}}]);
</script>

</body>
</html>
