<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>0LXEfQ.html</title>
</head>
<body>
<script>(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function (process,global){(function (){
!function(){function define(t,i,e){define.a[t]={e:i,d:e}}function require(t,i){define.b(t,i,null)}define.a={},define.b=function(t,i,e){for(var s=[],n=0;n<t.length;n++){var o=define.a[t[n]];if(!o)throw"All the modules must already be 'defined' Async load not supported: use a full-featured AMD loader like requirejs";o.c||define.b(o.e,o.d,t[n]),s.push(o.c)}t=i.apply(null,s),e&&(define.a[e].c=t)},define("IllegalStateException",[],function(){function t(t){this.name="IllegalStateException",this.message=t}return t.prototype={toString:function(){return["[",this.name,this.message,"]"].join("|")}},t}),define("Environment",["IllegalStateException"],function(t){var i="undefined"!=typeof window&&"undefined"!=typeof navigator&&"undefined"!=typeof document,e="undefined"!=typeof importScripts,s="object"==typeof process&&(/node(\.exe)?$/.test(process.execPath)||process.node&&process.v8||process.versions&&process.versions.node&&process.versions.v8);if(i&&!document.getElementById)throw new t("Not supported browser");var n={isBrowserDocument:function(){return i},isBrowser:function(){return!s&&(i||e)},isNodeJS:function(){return!i&&s},isWebWorker:function(){return!i&&!s&&e},hy:function(){return!i&&!s&&!e},browserDocumentOrDie:function(){if(!this.isBrowserDocument())throw new t("Trying to load a browser-only module on non-browser environment")}};return n.isBrowserDocument=n.isBrowserDocument,n.isBrowser=n.isBrowser,n.isNodeJS=n.isNodeJS,n.isWebWorker=n.isWebWorker,n.browserDocumentOrDie=n.browserDocumentOrDie,n}),define("Helpers",["Environment"],function(t){var i=/^\s*([\s\S]*?)\s*$/,e=RegExp(",","g"),s=RegExp("\\.","g"),n={getTimeStamp:function(){return(new Date).getTime()},randomG:function(t){return Math.round(Math.random()*(t||1e3))},trim:function(t){return t.replace(i,"$1")},getNumber:function(t,i){return t?t.replace?(i?t=(t=t.replace(s,"")).replace(e,"."):t=t.replace(e,""),new Number(t)):t:0},isArray:function(t){return t&&t.join&&"function"==typeof t.join},addEvent:function(i,e,s){return!!t.isBrowserDocument()&&(void 0!==i.addEventListener?i.addEventListener(e,s,!1):void 0!==i.attachEvent&&i.attachEvent("on"+e,s),!0)},removeEvent:function(i,e,s){return!!t.isBrowserDocument()&&(void 0!==i.removeEventListener?i.removeEventListener(e,s,!1):void 0!==i.detachEvent&&i.detachEvent("on"+e,s),!0)}};return n.getTimeStamp=n.getTimeStamp,n.randomG=n.randomG,n.trim=n.trim,n.getNumber=n.getNumber,n.isArray=n.isArray,n.addEvent=n.addEvent,n.removeEvent=n.removeEvent,n}),define("BrowserDetection",["Environment"],function(t){function i(t){var i=r;return function(){return null===i&&(i=-1<h.indexOf(t)),i}}function e(t){var i=r;return function(){if(null===i){i=!0;for(var e=0;e<t.length;e++)i=i&&t[e]()}return i}}function s(t,i){var e=r,s=r;return function(n,o){return null===e&&(s=(e=t())?i():null),!!e&&(!n||!s||(!0===o?s<=n:!1===o?s>=n:s==n))}}function n(t){var i=r;return function(){if(null===i){var e=t.exec(h);if(e&&2<=e.length)return e[1]}return null}}function o(t){return function(){return!t()}}var r=!!t.isBrowser()&&null,h=t.isBrowser()?navigator.userAgent.toLowerCase():null,u=r;return(t={isProbablyRekonq:i("rekonq"),isProbablyAWebkit:i("webkit"),isProbablyPlaystation:i("playstation 3"),isProbablyChrome:s(i("chrome/"),n(RegExp("chrome/([0-9]+)","g"))),isProbablyAKhtml:function(){return null===u&&(u=document.childNodes&&!document.all&&!navigator.WC&&!navigator.EC),u},isProbablyKonqueror:s(i("konqueror"),n(RegExp("konqueror/([0-9.]+)","g"))),isProbablyIE:function(t,e){return!(!s(i("msie"),n(RegExp("msie\\s([0-9]+)[.;]","g")))(t,e)&&!s(i("rv:11.0"),function(){return"11"})(t,e))},wr:i("edge"),isProbablyFX:s(i("firefox"),n(/firefox\/(\d+\.?\d*)/)),isProbablyOldOpera:s(function(){return"undefined"!=typeof opera},function(){if(opera.version){var t=(t=opera.version()).replace(RegExp("[^0-9.]+","g"),"");return parseInt(t)}return 7})}).isProbablyAndroidBrowser=e([i("android"),t.isProbablyAWebkit,o(t.isProbablyChrome)]),t.isProbablyOperaMobile=e([t.isProbablyOldOpera,i("opera mobi")]),t.isProbablyApple=s(e([i("safari"),function(t){var i=r;return function(){if(null===i){i=!1;for(var e=0;e<t.length;e++)i=i||t[e]()}return i}}([i("ipad"),i("iphone"),i("ipod"),e([o(t.isProbablyAndroidBrowser),o(t.isProbablyChrome),o(t.isProbablyRekonq)])])]),n(/version\/(\d+\.?\d*)/)),t.isProbablyRekonq=t.isProbablyRekonq,t.isProbablyChrome=t.isProbablyChrome,t.isProbablyAWebkit=t.isProbablyAWebkit,t.isProbablyPlaystation=t.isProbablyPlaystation,t.isProbablyAndroidBrowser=t.isProbablyAndroidBrowser,t.isProbablyOperaMobile=t.isProbablyOperaMobile,t.isProbablyApple=t.isProbablyApple,t.isProbablyAKhtml=t.isProbablyAKhtml,t.isProbablyKonqueror=t.isProbablyKonqueror,t.isProbablyIE=t.isProbablyIE,t.isProbablyEdge=t.wr,t.isProbablyFX=t.isProbablyFX,t.isProbablyOldOpera=t.isProbablyOldOpera,t}),define("List",[],function(){function t(){this.data=[]}return t.prototype={add:function(t){this.data.push(t)},remove:function(t){return!(0>(t=this.find(t)))&&(this.data.splice(t,1),!0)},contains:function(t){return 0<=this.find(t)},find:function(t){for(var i=0;i<this.data.length;i++)if(this.data[i]===t)return i;return-1},forEach:function(t){for(var i=0;i<this.data.length;i++)t(this.data[i])},asArray:function(){return[].concat(this.data)},clean:function(){this.data=[]}},t.prototype.add=t.prototype.add,t.prototype.remove=t.prototype.remove,t.prototype.forEach=t.prototype.forEach,t.prototype.asArray=t.prototype.asArray,t.prototype.clean=t.prototype.clean,t}),define("EnvironmentStatus",["Helpers","BrowserDetection","Environment","List"],function(t,i,e,s){function n(t,i,e,s,n){return function(){t[i]||(t[e]=!0,s.forEach(function(t){try{t[n]?t[n]():t()}catch(t){}}),"preunloading"!=i&&s.clean(),t[i]=!0,t[e]=!1)}}function o(t,i){setTimeout(function(){t[i]?t[i]():t()},0)}function r(t,i,e,s){setTimeout(function(){e?s?t.apply(e,s):t.apply(e):s?t.apply(null,s):t()},i)}function h(){c=!0}var u=new s,a=new s,l=new s,c=!1,f={yh:"onloadDone",qs:"onloadInprogress",gi:"unloaded",Co:"unloading",As:"preunloading"};for(var d in s={},f)s[f[d]]=d;return(d={yh:!1,qs:!1,gi:!1,Co:!1,As:!1,isLoaded:function(){return this.yh},isUnloaded:function(){return this.gi},isUnloading:function(){return this.Co},addOnloadHandler:function(t){this.jy()?a.add(t):o(t,"onloadEvent")},addUnloadHandler:function(t){this.ky()?u.add(t):o(t,"unloadEvent")},addBeforeUnloadHandler:function(t){l.add(t),this.As&&o(t,"preUnloadEvent")},removeOnloadHandler:function(t){a.remove(t)},removeUnloadHandler:function(t){u.remove(t)},removeBeforeUnloadHandler:function(t){l.remove(t)},jy:function(){return!(this.yh||this.qs)},ky:function(){return!(this.gi||this.Co)},Su:function(){if(t.addEvent(window,"unload",this.nv),t.addEvent(window,"beforeunload",this.Uu),document&&void 0!==document.readyState){if("COMPLETE"==document.readyState.toUpperCase())return void this.Bi();r(this.aq,1e3,this)}else if(this.ur())return void this.Bi();if(t.addEvent(window,"load",this.fk)){if(i.isProbablyOldOpera()){var e=!1;i.isProbablyOldOpera(9,!1)&&(e=!0,t.addEvent(document,"DOMContentLoaded",h)),r(this.$p,1e3,this,[e])}}else this.Bi()},Bi:function(){r(this.fk,0)},aq:function(){this.yh||("COMPLETE"==document.readyState.toUpperCase()?this.fk():r(this.aq,1e3,this))},$p:function(t){this.yh||(c||!t&&this.ur()?this.fk():r(this.$p,1e3,this,[t]))},ur:function(){return void 0!==document.getElementsByTagName&&void 0!==document.getElementById&&(null!=document.getElementsByTagName("body")[0]||null!=document.body)}}).fk=n(d,s.onloadDone,s.onloadInprogress,a,"onloadEvent"),d.nv=n(d,s.unloaded,s.unloading,u,"unloadEvent"),d.Uu=n(d,s.preunloading,s.preunloading,l,"preUnloadEvent"),e.isBrowserDocument()?d.Su():d.Bi(),d.addOnloadHandler=d.addOnloadHandler,d.addUnloadHandler=d.addUnloadHandler,d.addBeforeUnloadHandler=d.addBeforeUnloadHandler,d.removeOnloadHandler=d.removeOnloadHandler,d.removeUnloadHandler=d.removeUnloadHandler,d.removeBeforeUnloadHandler=d.removeBeforeUnloadHandler,d.isLoaded=d.isLoaded,d.isUnloaded=d.isUnloaded,d.isUnloading=d.isUnloading,d}),define("Promise",[],function(){return"undefined"==typeof Promise&&function(){function t(t,i){k[m]=t,k[m+1]=i,2===(m+=2)&&(v?v(s):b())}function i(t){return"function"==typeof t}function e(){return function(){setTimeout(s,1)}}function s(){for(var t=0;t<m;t+=2)(0,k[t])(k[t+1]),k[t]=void 0,k[t+1]=void 0;m=0}function n(){}function o(e,s){if(e===s)u(e,new TypeError("You cannot resolve a promise with itself"));else if("function"==typeof s||"object"==typeof s&&null!==s)if(s.constructor===e.constructor)!function(t,i){1===i.Ha?h(t,i.Sa):2===i.Ha?u(t,i.Sa):a(i,void 0,function(i){o(t,i)},function(i){u(t,i)})}(e,s);else{var n;try{n=s.then}catch(t){A.error=t,n=A}n===A?u(e,A.error):void 0===n?h(e,s):i(n)?function(i,e,s){t(function(t){var i=!1,n=function(t,i,e,s){try{t.call(i,e,s)}catch(t){return t}}(s,e,function(s){i||(i=!0,e!==s?o(t,s):h(t,s))},function(e){i||(i=!0,u(t,e))});!i&&n&&(i=!0,u(t,n))},i)}(e,s,n):h(e,s)}else h(e,s)}function r(t){t.cl&&t.cl(t.Sa),l(t)}function h(i,e){void 0===i.Ha&&(i.Sa=e,i.Ha=1,0!==i.wi.length&&t(l,i))}function u(i,e){void 0===i.Ha&&(i.Ha=2,i.Sa=e,t(r,i))}function a(i,e,s,n){var o=i.wi,r=o.length;i.cl=null,o[r]=e,o[r+1]=s,o[r+2]=n,0===r&&i.Ha&&t(l,i)}function l(t){var i=t.wi,e=t.Ha;if(0!==i.length){for(var s,n,o=t.Sa,r=0;r<i.length;r+=3)s=i[r],n=i[r+e],s?f(e,s,n,o):n(o);t.wi.length=0}}function c(){this.error=null}function f(t,e,s,n){var r,a,l,c,f=i(s);if(f){try{r=s(n)}catch(t){D.error=t,r=D}if(r===D?(c=!0,a=r.error,r=null):l=!0,e===r)return void u(e,new TypeError("A promises callback cannot return that same promise."))}else r=n,l=!0;void 0===e.Ha&&(f&&l?o(e,r):c?u(e,a):1===t?h(e,r):2===t&&u(e,r))}function d(t,i){this.pu=t,this.dg=new t(n),this.xu(i)?(this.ou=i,this.ui=this.length=i.length,this.nu(),0===this.length?h(this.dg,this.Sa):(this.length=this.length||0,this.lu(),0===this.ui&&h(this.dg,this.Sa))):u(this.dg,this.yu())}function g(t){if(this.od=L++,this.Sa=this.Ha=void 0,this.wi=[],n!==t){if(!i(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof g))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");!function(t,i){try{i(function(i){o(t,i)},function(i){u(t,i)})}catch(i){u(t,i)}}(this,t)}}var p,v,b,y=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},m=0,w="undefined"!=typeof window?window:void 0,E=(S=w||{}).MutationObserver||S.WebKitMutationObserver,S="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,k=Array(1e3);b="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?function(){process.nextTick(s)}:E?function(){var t=0,i=new E(s),e=document.createTextNode("");return i.observe(e,{characterData:!0}),function(){e.data=t=++t%2}}():S?function(){var t=new MessageChannel;return t.port1.onmessage=s,function(){t.port2.postMessage(0)}}():void 0===w&&"function"==typeof require?function(){try{var t=require("vertx");return p=t.SC||t.RC,function(){p(s)}}catch(t){return e()}}():e();var A=new c,D=new c;d.prototype.xu=function(t){return y(t)},d.prototype.yu=function(){return Error("Array Methods must be provided an Array")},d.prototype.nu=function(){this.Sa=Array(this.length)},d.prototype.lu=function(){for(var t=this.length,i=this.dg,e=this.ou,s=0;void 0===i.Ha&&s<t;s++)this.ku(e[s],s)},d.prototype.ku=function(t,i){var e=this.pu;"object"==typeof t&&null!==t?t.constructor===e&&void 0!==t.Ha?(t.cl=null,this.dl(t.Ha,i,t.Sa)):this.zu(e.resolve(t),i):(this.ui--,this.Sa[i]=t)},d.prototype.dl=function(t,i,e){var s=this.dg;void 0===s.Ha&&(this.ui--,2===t?u(s,e):this.Sa[i]=e),0===this.ui&&h(s,this.Sa)},d.prototype.zu=function(t,i){var e=this;a(t,void 0,function(t){e.dl(1,i,t)},function(t){e.dl(2,i,t)})};var L=0;g.all=function(t){return new d(this,t).dg},g.race=function(t){function i(t){o(s,t)}function e(t){u(s,t)}var s=new this(n);if(!y(t))return u(s,new TypeError("You must pass an array to race.")),s;for(var r=t.length,h=0;void 0===s.Ha&&h<r;h++)a(this.resolve(t[h]),void 0,i,e);return s},g.resolve=function(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var i=new this(n);return o(i,t),i},g.reject=function(t){var i=new this(n);return u(i,t),i},g.DC=function(t){v=t},g.CC=function(i){t=i},g.AC=t,g.prototype={constructor:g,then:function(i,e){var s=this.Ha;if(1===s&&!i||2===s&&!e)return this;var o=new this.constructor(n),r=this.Sa;if(s){var h=arguments[s-1];t(function(){f(s,o,h,r)})}else a(this,o,i,e);return o},catch:function(t){return this.then(null,t)}},function(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw Error("polyfill failed because global object is unavailable in this environment")}var i=t.Promise;i&&"[object Promise]"===Object.prototype.toString.call(i.resolve())&&!i.HC||(g.all=g.all,g.race=g.race,g.reject=g.reject,g.resolve=g.resolve,g.prototype.constructor=g.prototype.constructor,g.prototype.then=g.prototype.then,t.Promise=g)}()}.call(this),Promise}),define("Global",["EnvironmentStatus","Environment","Promise"],function(t,i){var e={Mt:t,toString:function(){return"[Lightstreamer "+this.library+" client version "+this.version+" build "+this.build+"]"},qa:function(t,i,e,s){return this[t=(s||"_")+t]||(this[t]={}),this[t][i]=e,"Lightstreamer."+t+"."+i},sj:function(t,i,e){return this[t=(e||"_")+t]&&this[t][i]},Uq:function(t,i,e){return this[t=(e||"_")+t]?this[t][i]:null},Ii:function(t,i,e){if(this[t=(e||"_")+t]&&this[t][i]){for(var s in delete this[t][i],this[t])return;delete this[t]}},hv:function(t,i){var e=(i||"_")+t;this[e]&&delete this[e]},Ej:{},Hu:function(t,i){var e=this.Ej;e[t]||(e[t]=[]),e[t].push(i)},oA:function(t,i){var e=this.Ej[t];if(e){for(var s=0;s<e.length;s++)e[s]==i&&e.splice(s,1);0==e.length&&delete e[t]}},sx:function(t){return this.Ej[t]&&(t=this.Ej[t])&&0<t.length?t[0]:null}};return i.isBrowserDocument()&&(window.OpenAjax&&OpenAjax.hub&&OpenAjax.hub.registerLibrary("Lightstreamer","http://www.lightstreamer.com/",e.version),window.Lightstreamer=e),e.library="javascript",e.version="7.2.0",e.build="1777",e}),define("Executor",["Helpers","EnvironmentStatus","Environment"],function(t,i,e){function s(){}function n(t,i){return t.time===i.time?t.wn-i.wn:t.time-i.time}function o(){b=!1,h()}function r(){if(d)clearInterval(d);else if(e.isBrowserDocument()&&"undefined"!=typeof postMessage){v=function(){window.postMessage("Lightstreamer.run",p)};var i=function(t){("Lightstreamer.run"==t.data&&"*"==p||t.origin==p)&&o()};t.addEvent(window,"message",i),b||(b=!0,v()),0==b&&(t.removeEvent(window,"message",i),v=s)}else e.isNodeJS()&&"undefined"!=typeof process&&process.nextTick&&(v=function(){process.nextTick(o)});d=setInterval(h,50)}function h(){if(i.gi)clearInterval(d);else{var e=l;if((l=t.getTimeStamp())<e&&(l=e),0<a.length)for(u&&(a.sort(n),u=!1);0<a.length&&a[0].time<=l&&!i.gi;)(e=a.shift()).nf&&(y.executeTask(e),e.step&&f.push(e));for(0>=a.length&&(g=0);0<f.length;)(e=f.shift()).step&&(e.wn=g++,y.addPackedTimedTask(e,e.step,!0));l>=c&&(c=l+108e5,a=[].concat(a))}}var u=!1,a=[],l=t.getTimeStamp(),c=l+108e5,f=[],d=null,g=0,p=!e.isBrowserDocument()||"http:"!=document.location.protocol&&"https:"!=document.location.protocol?"*":document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""),v=s,b=!1,y={toString:function(){return["[","Executor",50,a.length,"]"].join("|")},getQueueLength:function(){return a.length},packTask:function(t,i,e){return{nf:t,context:i||null,Yb:e||null,wn:g++}},addPackedTimedTask:function(t,i,e){if(t.step=e?i:null,t.time=l+parseInt(i),isNaN(t.time))try{throw Error()}catch(e){throw t="Executor error for time: "+i,e.stack&&(t+=" "+e.stack),t}a.push(t),u=!0},addRepetitiveTask:function(t,i,e,s){return this.addTimedTask(t,i,e,s,!0)},stopRepetitiveTask:function(t){t&&(t.nf=null,t.step=null)},addTimedTask:function(t,i,e,s,n){return t=this.packTask(t,e,s),this.addPackedTimedTask(t,i,n),0!=i||b||(b=!0,v()),t},modifyTaskParam:function(t,i,e){t.Yb[i]=e},modifyAllTaskParams:function(t,i){t.Yb=i},delayTask:function(t,i){t.time+=i,u=!0},executeTask:function(t,i){try{var e=i||t.Yb;t.context?e?t.nf.apply(t.context,e):t.nf.apply(t.context):e?t.nf.apply(null,e):t.nf()}catch(t){}}};return e.isWebWorker()?setTimeout(r,1):r(),y.getQueueLength=y.getQueueLength,y.packTask=y.packTask,y.addPackedTimedTask=y.addPackedTimedTask,y.addRepetitiveTask=y.addRepetitiveTask,y.stopRepetitiveTask=y.stopRepetitiveTask,y.addTimedTask=y.addTimedTask,y.modifyTaskParam=y.modifyTaskParam,y.modifyAllTaskParams=y.modifyAllTaskParams,y.delayTask=y.delayTask,y.executeTask=y.executeTask,y}),define("LoggerProxy",["Helpers"],function(t){function i(t){this.ao(t)}function e(){return!1}var s={error:e,warn:e,info:e,debug:e,fatal:e,isDebugEnabled:e,isInfoEnabled:e,isWarnEnabled:e,isErrorEnabled:e,isFatalEnabled:e};return i.prototype={ao:function(t){this.Qa=t||s},logFatal:function(t){this.cy()&&(t+=this.re(arguments,1),this.fatal(t))},fatal:function(t,i){this.Qa.fatal(t,i)},cy:function(){return!this.Qa.isFatalEnabled||this.Qa.isFatalEnabled()},logError:function(t){this.tr()&&(t+=this.re(arguments,1),this.error(t))},logErrorExc:function(t,i){this.tr()&&(i+=this.re(arguments,2),this.error(i,t))},error:function(t,i){this.Qa.error(t,i)},tr:function(){return!this.Qa.isErrorEnabled||this.Qa.isErrorEnabled()},logWarn:function(t){this.wy()&&(t+=this.re(arguments,1),this.warn(t))},warn:function(t,i){this.Qa.warn(t,i)},wy:function(){return!this.Qa.isWarnEnabled||this.Qa.isWarnEnabled()},logInfo:function(t){this.isInfoLogEnabled()&&(t+=this.re(arguments,1),this.info(t))},info:function(t,i){this.Qa.info(t,i)},isInfoLogEnabled:function(){return!this.Qa.isInfoEnabled||this.Qa.isInfoEnabled()},logDebug:function(t){this.isDebugLogEnabled()&&(t+=this.re(arguments,1),this.debug(t))},debug:function(t,i){this.Qa.debug(t,i)},isDebugLogEnabled:function(){return!this.Qa.isDebugEnabled||this.Qa.isDebugEnabled()},re:function(i,e){for(var s=" {",n=e||0;n<i.length;n++)try{var o=i[n];null===o?s+="NULL":0>o.length?s+="*":null!=o.charAt?s+=o:o.message?(s+=o.message,o.stack&&(s+="\n"+o.stack+"\n")):o[0]==o?s+=o:t.isArray(o)?(s+="(",s+=this.re(o),s+=")"):s+=o,s+=" "}catch(t){s+="missing-parameter "}return s+"}"}},i.prototype.debug=i.prototype.debug,i.prototype.isDebugLogEnabled=i.prototype.isDebugLogEnabled,i.prototype.logDebug=i.prototype.logDebug,i.prototype.info=i.prototype.info,i.prototype.isInfoLogEnabled=i.prototype.isInfoLogEnabled,i.prototype.logInfo=i.prototype.logInfo,i.prototype.warn=i.prototype.warn,i.prototype.isWarnEnabled=i.prototype.isWarnEnabled,i.prototype.logWarn=i.prototype.logWarn,i.prototype.error=i.prototype.error,i.prototype.isErrorEnabled=i.prototype.isErrorEnabled,i.prototype.logError=i.prototype.logError,i.prototype.logErrorExc=i.prototype.logErrorExc,i.prototype.fatal=i.prototype.fatal,i.prototype.isFatalEnabled=i.prototype.isFatalEnabled,i.prototype.logFatal=i.prototype.logFatal,i}),define("IllegalArgumentException",[],function(){function t(t){this.name="IllegalArgumentException",this.message=t}return t.prototype={toString:function(){return["[",this.name,this.message,"]"].join("|")}},t}),define("LoggerManager",["LoggerProxy","IllegalArgumentException"],function(t,i){var e={},s=null,n={setLoggerProvider:function(t){if(t&&!t.getLogger)throw new i("The given object is not a LoggerProvider");for(var n in s=t,e)s?e[n].ao(s.getLogger(n)):e[n].ao(null)},getLoggerProxy:function(i){return e[i]||(e[i]=s?new t(s.getLogger(i)):new t),e[i]},resolve:function(t){return t}};return n.setLoggerProvider=n.setLoggerProvider,n.getLoggerProxy=n.getLoggerProxy,n.resolve=n.resolve,n}),define("lscAe",["Environment"],function(t){return{Te:1e3,Yo:200,cu:1e4,St:1,ni:0,vC:2,Oo:3,Xo:4,No:5,fc:"N",Ot:200,Wo:"MAIN",oi:"wbridge",li:"fbridge",$t:1,Zt:2,Qk:"1777",vg:!t.isBrowserDocument()||"http:"!=document.location.protocol&&"https:"!=document.location.protocol?"file:":document.location.protocol,cb:"lightstreamer.stream",Se:"lightstreamer.protocol",gc:"lightstreamer.session",Zo:"lightstreamer.requests",ap:"lightstreamer.subscriptions",Wt:"lightstreamer.messages",Ok:"lightstreamer.actions",Eb:"lightstreamer.sharing",uC:"lightstreamer.crosstab",Uo:"lightstreamer.flash",yC:"lightstreamer.stats",Yd:"Lightstreamer_",Uk:"lightstreamer",Fc:"UNORDERED_MESSAGES",Ue:{length:-1,toString:function(){return"[UNCHANGED]"}},CONNECTING:"CONNECTING",Ra:"CONNECTED:",xg:"STREAM-SENSING",Bg:"WS-STREAMING",Xd:"HTTP-STREAMING",yg:"STALLED",Zd:"WS-POLLING",ec:"HTTP-POLLING",Db:"DISCONNECTED",Ag:"DISCONNECTED:WILL-RETRY",zg:"DISCONNECTED:TRYING-RECOVERY",pi:"WS",Qe:"HTTP",Wk:"RAW",Sk:"DISTINCT",ug:"COMMAND",Vk:"MERGE",mi:"MASTER"}}),define("lscAj",["Environment","lscAe","Helpers"],function(t,i,e){var s=RegExp("\\.","g"),n=RegExp("-","g"),o={vr:function(){return!!t.isBrowser()&&!1===navigator.onLine},Ip:function(){try{return!("undefined"==typeof localStorage||null===localStorage||!localStorage.getItem||!localStorage.setItem)&&(localStorage.setItem("__canUseLocalStorage_test__","true"),localStorage.removeItem("__canUseLocalStorage_test__"),!0)}catch(t){return!1}},sc:function(){try{return document.domain}catch(t){return""}},rj:function(){if(!t.isBrowserDocument())return!0;try{return-1<document.location.host.indexOf("[")||o.sc()==document.location.hostname}catch(t){return!1}},oc:function(t){if(void 0!==t){if(!0===t||!1===t)return!0===t;if(null!=t){if("number"==typeof t||t instanceof Number)return Number(t);if(e.isArray(t)){for(var s=[],n=0;n<t.length;n++)s[n]=this.oc(t[n]);return s}if("string"==typeof t||t instanceof String)return String(t);if(-1===t.length)return i.Ue;if(isNaN(t)&&"number"==typeof t)return NaN;for(n in s={},t)s[this.oc(n)]=this.oc(t[n]);return s}}return null},ra:function(t,i){if(t=t||{},i)for(var e in i)t[e]=i[e];return t},mk:function(t){return t.replace(s,"_").replace(n,"__")},getReverse:function(t){var i,e={};for(i in t)e[t[i]]=i;return e},Ai:function(t){if(t&&!t.pop){for(var i=[],e=0;e<t.length;e++)i.push(t[e]);return i}return t},Xz:function(t){if(!t)return[];for(var i={Lx:0,next:function(){return t.charAt(this.Lx++)}},e=/^\s*Expires/i,s=[],n=i.next();n;){for(var o="",r="";n&&";"!=n&&","!=n;)r+=n,n=i.next();for(o+=r=r.trim(),";"==n&&(o+="; ",n=i.next());n&&","!=n;){for(r="";n&&";"!=n&&","!=n;)r+=n,n=i.next();if(r.match(e))for(console.assert(","==n),r+=n,n=i.next();n&&";"!=n&&","!=n;)r+=n,n=i.next();o+=r=r.trim(),";"==n&&(o+="; ",n=i.next())}s.push(o),n=i.next()}return s}};return o}),define("Inheritance",["IllegalStateException"],function(t){function i(t,i,e){if(i)return e?i.apply(t,e):i.apply(t)}var e={Tt:function(i,s,n,o){for(var r in s.prototype)if(i.prototype[r]){if(o){var h;t:{h=s.prototype;var u=void 0;for(u in h)if(h[r]==h[u]&&r!=u){h=u;break t}h=null}if(h){if(i.prototype[h]&&i.prototype[h]!==i.prototype[r]&&s.prototype[h]!=s.prototype[h])throw new t("Can't solve alias collision, try to minify the classes again ("+h+", "+r+")");i.prototype[h]=i.prototype[r]}}}else i.prototype[r]=s.prototype[r];return n||(i.prototype._super_=s,i.prototype._callSuperConstructor=e._callSuperConstructor,i.prototype._callSuperMethod=e._callSuperMethod),i},_callSuperMethod:function(t,e,s){return i(this,t.prototype._super_.prototype[e],s)},_callSuperConstructor:function(t,e){i(this,t.prototype._super_,e)}};return e.Tt}),define("Setter",["IllegalArgumentException"],function(t){function i(){}return i.prototype.checkPositiveNumber=function(i,e,s){var n=new Number(i);if(isNaN(n))throw new t("The given value is not valid. Use a number");if(!s&&n!=Math.round(n))throw new t("The given value is not valid. Use an integer");if(e){if(0>i)throw new t("The given value is not valid. Use a positive number or 0")}else if(0>=i)throw new t("The given value is not valid. Use a positive number");return n},i.prototype.checkBool=function(i,e){if(!0===i||!1===i||e&&!i)return!0===i;throw new t("The given value is not valid. Use true or false")},i}),define("lscA",["LoggerManager","lscAj","Inheritance","Setter","lscAe"],function(t,i,e,s,n){function o(t){this.V="lscA",this.parent=null,this.Cp=!1,t&&this.uv(t)}return t.getLoggerProxy(n.Ok),t.getLoggerProxy(n.Eb),o.prototype={oj:function(t){return this.rg[t]},X:function(t,e){var s=this.oj(t),n=this[s];this[s]=i.oc(e),this.parent&&this.Cp&&this.af(t),n!=this[s]&&this.Tr(t)},H:function(t,i){var e=this.oj(t);i!=this[e]&&(this[e]=i,this.af(t),this.Tr(t))},lg:function(t,i){this.parent=t,this.Cp=i},af:function(t){var e=this.oj(t);return!(this.parent&&this.parent.af&&!this.parent.af(this.V,t,i.oc(this[e])))},Tr:function(t){var i=this.oj(t);!this.parent||!this.parent.Vr||this.Rr&&this.Rr[i]||this.parent.Vr(t,this)},uv:function(t){var i,e=this.rg;for(i in e)this.X(i,t[e[i]])},qm:function(t){for(var i in this.rg)t(i,this[this.rg[i]])}},e(o,s,!1,!0),o}),define("lscC",["lscA","Inheritance","lscAj"],function(t,i,e){function s(t){this.Qg=!1,this.sd=0,this.Rr=n,this.rg=o,this._callSuperConstructor(s,arguments),this.V="lscC"}var n={},o={Qg:"connectionRequested",sd:"clientsCount"};o=e.getReverse(o);return s.prototype={},i(s,t),s}),define("RetryDelayCounter",["LoggerManager","lscAe"],function(t,i){function e(t){this.Nm(t)}var s=t.getLoggerProxy(i.gc);return e.prototype={Qs:function(t){this.Nm(t),s.isDebugLogEnabled()&&s.debug("Reset currentRetryDelay: "+this.Oc)},pr:function(){9<=this.On&&this.Oc<this.Hj&&(this.Oc*=2,this.Oc>this.Hj&&(this.Oc=this.Hj),s.isDebugLogEnabled()&&s.debug("Increase currentRetryDelay: "+this.Oc)),this.On++},Nm:function(t){this.Sy=this.Oc=t,this.Hj=Math.max(6e4,t),this.On=0}},e}),define("ConnectTimeoutCounter",["LoggerManager","lscAe"],function(t,i){function e(t){this.Mm(t)}var s=t.getLoggerProxy(i.gc);return e.prototype={Os:function(t){this.Mm(t),s.isDebugLogEnabled()&&s.debug("Reset currentConnectTimeout: "+this.pc)},Km:function(){9<=this.Rl&&this.pc<this.Gj&&(this.pc*=2,this.pc>this.Gj&&(this.pc=this.Gj),s.isDebugLogEnabled()&&s.debug("Increase currentConnectTimeout: "+this.pc)),this.Rl++},Mm:function(t){this.Ry=this.pc=t,this.Gj=Math.max(6e4,t),this.Rl=0}},e}),define("lscE","IllegalArgumentException lscAe lscA Inheritance Global Environment lscAj RetryDelayCounter ConnectTimeoutCounter".split(" "),function(t,i,e,s,n,o,r,h,u){function a(){this.Ul=4e6,this.vj=19e3,this.De=this.Wb=this.Ef=0,this.Hd=3e3,this.Bk=2e3,this.hg=4e3,this.Nm(this.hg),this.Mm(this.hg),this.cj=100,this.fo=!1,this.fj=null,this.cq=this.Wn=!1,this.ig=0,this.dm=!1,this.ho=5e3,this.nh=this.Ak=null,this.uj=!1,this.Qh=15e3,this.Li=this.Io=!0,this.dj=2e3,this.ro=4e3,this.rg=c,this._callSuperConstructor(a,arguments),this.V="lscE"}var l={};l[i.Xd]=!0,l[i.Zd]=!0,l[i.ec]=!0,l[i.Bg]=!0,l[i.pi]=!0,l[i.Qe]=!0;var c={Ul:"contentLength",vj:"idleTimeout",Ef:"keepaliveInterval",Wb:"maxBandwidth",De:"pollingInterval",Hd:"reconnectTimeout",Bk:"stalledTimeout",hg:"retryDelay",cj:"firstRetryMaxDelay",fo:"slowingEnabled",fj:"forcedTransport",Wn:"serverInstanceAddressIgnored",cq:"cookieHandlingRequired",ig:"reverseHeartbeatInterval",dm:"earlyWSOpenEnabled",Qh:"sessionRecoveryTimeout",ho:"spinFixTimeout",Ak:"spinFixEnabled",Io:"xDomainStreamingEnabled",Li:"corsXHREnabled",dj:"forceBindTimeout",ro:"switchCheckTimeout",nh:"httpExtraHeaders",uj:"httpExtraHeadersOnSessionCreationOnly",Oc:"currentRetryDelay",Sy:"minRetryDelay",Hj:"maxRetryDelay",On:"retryAttempt",pc:"currentConnectTimeout",Ry:"minConnectTimeout",Gj:"maxConnectTimeout",Rl:"connectAttempt"};c=r.getReverse(c);return a.prototype={PA:function(t){this.H("contentLength",this.checkPositiveNumber(t))},Dw:function(){return this.Ul},lt:function(t){this.H("idleTimeout",this.checkPositiveNumber(t,!0))},Xq:function(){return this.vj},nt:function(t){this.H("keepaliveInterval",this.checkPositiveNumber(t,!0))},Yq:function(){return this.Ef},bB:function(t){t="unlimited"==new String(t).toLowerCase()?0:this.checkPositiveNumber(t,!1,!0),this.H("maxBandwidth",t)},Ww:function(){return 0>=this.Wb?"unlimited":this.Wb},ot:function(t){this.H("pollingInterval",this.checkPositiveNumber(t,!0))},dr:function(){return this.De},hB:function(t){this.H("reconnectTimeout",this.checkPositiveNumber(t))},gx:function(){return this.Hd},tB:function(t){this.H("stalledTimeout",this.checkPositiveNumber(t))},wx:function(){return this.Bk},NA:function(){},Aw:function(){return String(this.Em())},SA:function(){},xd:function(){return this.pc},pt:function(t){t=this.checkPositiveNumber(t),this.H("retryDelay",t),this.Qs(t),this.Os(t)},Em:function(){return this.hg},VA:function(t){this.H("firstRetryMaxDelay",this.checkPositiveNumber(t))},Mw:function(){return this.cj},pB:function(t){this.H("slowingEnabled",this.checkBool(t))},oy:function(){return this.fo},XA:function(i){if(null!==i&&!l[i])throw new t("The given value is not valid. Use one of: HTTP-STREAMING, HTTP-POLLING, WS-STREAMING, WS-POLLING, WS, HTTP or null");this.H("forcedTransport",i)},Rw:function(){return this.fj},lB:function(t){this.H("serverInstanceAddressIgnored",this.checkBool(t))},ny:function(){return this.Wn},QA:function(i){if(i&&!o.isBrowser()&&!o.isNodeJS())throw new t("cookieHandlingRequired is only supported on Browsers");this.H("cookieHandlingRequired",this.checkBool(i))},Tb:function(){return this.cq},UA:function(t){this.H("earlyWSOpenEnabled",this.checkBool(t))},by:function(){return this.dm},qt:function(t){this.H("reverseHeartbeatInterval",this.checkPositiveNumber(t,!0))},fr:function(){return this.ig},YA:function(t){if(t){var i,e="";for(i in t)e+=i+"\n"+t[i]+"\n";this.H("httpExtraHeaders",e)}else this.H("httpExtraHeaders",null)},Wq:function(){if(!this.nh)return this.nh;for(var t={},i=this.nh.split("\n"),e=0;e<i.length-1;e+=2)t[i[e]]=i[e+1];return t},ZA:function(t){this.H("httpExtraHeadersOnSessionCreationOnly",this.checkBool(t))},ey:function(){return this.uj},oB:function(t){this.H("sessionRecoveryTimeout",this.checkPositiveNumber(t,!0))},rx:function(){return this.Qh},mh:function(t){return!!this.nh&&(!!t||!this.uj)},ah:function(t){return!t&&this.uj?null:this.Wq()},xB:function(t){this.H("xDomainStreamingEnabled",this.checkBool(t))},xy:function(){return this.Io},RA:function(t){this.H("corsXHREnabled",this.checkBool(t))},$x:function(){return this.Li},WA:function(t){this.H("forceBindTimeout",this.checkPositiveNumber(t))},Pw:function(){return this.dj},uB:function(t){this.H("switchCheckTimeout",this.checkPositiveNumber(t))},yx:function(){return this.ro},sB:function(t){this.H("spinFixTimeout",this.checkPositiveNumber(t))},vx:function(){return this.ho},rB:function(t){this.H("spinFixTimeout",null===this.BC?null:this.checkBool(t))},ux:function(){return this.Ak}},a.prototype.setContentLength=a.prototype.PA,a.prototype.getContentLength=a.prototype.Dw,a.prototype.setIdleTimeout=a.prototype.lt,a.prototype.getIdleTimeout=a.prototype.Xq,a.prototype.setKeepaliveInterval=a.prototype.nt,a.prototype.getKeepaliveInterval=a.prototype.Yq,a.prototype.setMaxBandwidth=a.prototype.bB,a.prototype.getMaxBandwidth=a.prototype.Ww,a.prototype.setPollingInterval=a.prototype.ot,a.prototype.getPollingInterval=a.prototype.dr,a.prototype.setReconnectTimeout=a.prototype.hB,a.prototype.getReconnectTimeout=a.prototype.gx,a.prototype.setStalledTimeout=a.prototype.tB,a.prototype.getStalledTimeout=a.prototype.wx,a.prototype.setConnectTimeout=a.prototype.NA,a.prototype.getConnectTimeout=a.prototype.Aw,a.prototype.setCurrentConnectTimeout=a.prototype.SA,a.prototype.getCurrentConnectTimeout=a.prototype.xd,a.prototype.setRetryDelay=a.prototype.pt,a.prototype.getRetryDelay=a.prototype.Em,a.prototype.setFirstRetryMaxDelay=a.prototype.VA,a.prototype.getFirstRetryMaxDelay=a.prototype.Mw,a.prototype.setSlowingEnabled=a.prototype.pB,a.prototype.isSlowingEnabled=a.prototype.oy,a.prototype.setForcedTransport=a.prototype.XA,a.prototype.getForcedTransport=a.prototype.Rw,a.prototype.setServerInstanceAddressIgnored=a.prototype.lB,a.prototype.isServerInstanceAddressIgnored=a.prototype.ny,a.prototype.setCookieHandlingRequired=a.prototype.QA,a.prototype.isCookieHandlingRequired=a.prototype.Tb,a.prototype.setEarlyWSOpenEnabled=a.prototype.UA,a.prototype.isEarlyWSOpenEnabled=a.prototype.by,a.prototype.setReverseHeartbeatInterval=a.prototype.qt,a.prototype.getReverseHeartbeatInterval=a.prototype.fr,a.prototype.setHttpExtraHeaders=a.prototype.YA,a.prototype.getHttpExtraHeaders=a.prototype.Wq,a.prototype.setHttpExtraHeadersOnSessionCreationOnly=a.prototype.ZA,a.prototype.isHttpExtraHeadersOnSessionCreationOnly=a.prototype.ey,a.prototype.setSessionRecoveryTimeout=a.prototype.oB,a.prototype.getSessionRecoveryTimeout=a.prototype.rx,a.prototype.setXDomainStreamingEnabled=a.prototype.xB,a.prototype.isXDomainStreamingEnabled=a.prototype.xy,a.prototype.setCorsXHREnabled=a.prototype.RA,a.prototype.isCorsXHREnabled=a.prototype.$x,a.prototype.setForceBindTimeout=a.prototype.WA,a.prototype.getForceBindTimeout=a.prototype.Pw,a.prototype.setSwitchCheckTimeout=a.prototype.uB,a.prototype.getSwitchCheckTimeout=a.prototype.yx,a.prototype.setSpinFixTimeout=a.prototype.sB,a.prototype.getSpinFixTimeout=a.prototype.vx,a.prototype.setSpinFixEnabled=a.prototype.rB,a.prototype.getSpinFixEnabled=a.prototype.ux,a.prototype.setRetryTimeout=a.prototype.pt,a.prototype.getRetryTimeout=a.prototype.Em,a.prototype.setIdleMillis=a.prototype.lt,a.prototype.getIdleMillis=a.prototype.Xq,a.prototype.setKeepaliveMillis=a.prototype.nt,a.prototype.getKeepaliveMillis=a.prototype.Yq,a.prototype.setPollingMillis=a.prototype.ot,a.prototype.getPollingMillis=a.prototype.dr,a.prototype.setReverseHeartbeatMillis=a.prototype.qt,a.prototype.getReverseHeartbeatMillis=a.prototype.fr,s(a,e),s(a,h,!0),s(a,u,!0),a}),define("lscAf",[],function(){return{MC:function(){var t,i,e=3,s=6,n="",o=0;t=(i="document".toString()).length;for(var r=0;r<t;r++)o+=i.charCodeAt(r);if(0<(i=parseInt(o)))for(o=0;184>=s+e-o;o+=3)t=o,t=parseInt("2844232422362353182342452312352492633183053182412392513042362492412532492362342352342462472452423042312312313182482393182292342362492382392362383182422532332342512492422422492342402770".substring(o,e-1))-parseInt("2844232422362353182342452312352492633183053182412392513042362492412532492362342352342462472452423042312312313182482393182292342362492382392362383182422532332342512492422422492342402770".substring(t,t+2))+350-parseInt("2844232422362353182342452312352492633183053182412392513042362492412532492362342352342462472452423042312312313182482393182292342362492382392362383182422532332342512492422422492342402770".substring(s,s+e-o)),n=unescape("%"+t.toString(16))+n,e+=3,s+=3,i+=t;return n}}}),define("ASSERT",["LoggerManager"],function(t){var i=t.getLoggerProxy("weswit.test"),e=0,s={},n={VOID:s,getFailures:function(){return e},compareArrays:function(e,s,n){if(e.length!=s.length)return this.Lb(),i.logError(t.resolve(450),e,s),!1;if(n){for(o=0;o<e.length;o++)if(e[o]!=s[o])return i.logError(t.resolve(453),e[o],s[o]),this.Lb(),!1}else{n={};for(var o=0;o<e.length;o++)n[e[o]]=1;for(o=0;o<s.length;o++){if(!n[s[o]])return i.logError(t.resolve(451),s[o]),this.Lb(),!1;n[s[o]]++}for(o in n)if(1==n[o])return i.logError(t.resolve(452),n[o]),this.Lb(),!1}return!0},verifySuccess:function(t,i,e,s,n){return this.verify(t,i,e,s,!1,n)},verifyException:function(t,i,e){return this.verify(t,i,e,null,!0)},verifyNotNull:function(e){return null!==e||(this.Lb(),i.logError(t.resolve(454),e),!1)},verifyValue:function(e,s,n){var o=!1;return!0===n?o=e===s:n?o=n(e,s):isNaN(e)?o=e==s:(n=e&&e.charAt?e.charAt(0):null,o=s&&s.charAt?s.charAt(0):null,o="."==n||" "==n||"0"==n||"."==o||" "==o||"0"==o?String(e)==String(s):e==s),!!o||(this.Lb(),i.logError(t.resolve(455),e,s),!1)},verifyDiffValue:function(e,s,n){return(n?e!==s:e!=s)||(this.Lb(),i.logError(t.resolve(456),e,s),!1)},verifyOk:function(e){return!!e||(this.Lb(),i.logError(t.resolve(457)),!1)},verifyNotOk:function(e){return!e||(this.Lb(),i.logError(t.resolve(458)),!1)},fail:function(){return i.logError(t.resolve(459)),this.Lb(),!1},Lb:function(){e++},verify:function(e,n,o,r,h,u){var a=!1,l=null,c=null;try{l=o!==s?e[n].apply(e,o):e[n]()}catch(t){a=!0,c=t}return e=h?"succes":"failure",h!=a?(this.Lb(),i.logError(t.resolve(460),e,"for",n,o,r,c),!1):!(!h&&r!==s)||this.verifyValue(l,r,u)}};return n.getFailures=n.getFailures,n.fail=n.fail,n.verifyNotOk=n.verifyNotOk,n.verifyOk=n.verifyOk,n.verifyDiffValue=n.verifyDiffValue,n.verifyNotNull=n.verifyNotNull,n.verifyValue=n.verifyValue,n.verifyException=n.verifyException,n.verifySuccess=n.verifySuccess,n.compareArrays=n.compareArrays,n}),define("lscq","LoggerManager lscAj lscAf Environment ASSERT lscAe".split(" "),function(t,i,e,s,n,o){var r=t.getLoggerProxy(o.Se),h="LS_cid=pcYgxn8m8 feOojyA1T681f3g2.pz479mDv&",u=/^[a-z][a-z0-9-]+$/,a=/^((?:[a-z][a-z.0-9-]+).(?:[a-z][a-z-]+))(?![\w.])/,l=/^((?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))(?![d])/,c=/^[a-f0-9:]+$/;return{kC:function(t){var i=0==(t=t.toLowerCase()).indexOf("http://")?7:0==t.indexOf("https://")?8:-1;if(-1==i)return"The given server address has not a valid scheme";var e=(e=t.lastIndexOf(":"))>i?e:t.length,s=this.xq(t,t.indexOf("://"));if(null!=s&&isNaN(s.substring(1)))return"The given server address has not a valid port";if(s=(s=t.indexOf("/",i))<e?s:e,"["==t.charAt(i)){if(t=t.substring(i+1,t.lastIndexOf("]")),!c.test(t))return"The given server address is not a valid IPv6"}else if(-1<(t=t.substring(i,s)).indexOf(".")){if(!a.test(t)&&!l.test(t))return"The given server address is not a valid URL"}else if(!u.test(t))return"The given server address is not a valid machine name";return!0},xq:function(t,i){var e=t.indexOf(":",i+1);if(-1>=e)return null;if(-1<t.indexOf("]")){if(-1>=(e=t.indexOf("]:")))return null;e+=1}else if(e!=t.lastIndexOf(":"))return null;var s=t.indexOf("/",i+3);return-1<s?t.substring(e,s):t.substring(e)},ov:function(t,i){var e=this.xq(t,t.indexOf("://"));if(e){var s=i.indexOf("/");i=-1>=s?i+e:i.substring(0,s)+e+i.substring(s)}return"/"!=(i=0==t.toLowerCase().indexOf("https://")?"https://"+i:"http://"+i).substr(i.length-1)&&(i+="/"),i},ex:function(e,o,u,a,l,c,f,d,g,p,v){return e="LS_phase="+e+"&"+(v=v&&s.isBrowserDocument()&&!i.rj()?"LS_domain="+i.sc()+"&":"")+(d?"LS_cause="+d+"&":""),l||c?(e+="LS_polling=true&",d=p=0,c&&(p=Number(u.De),null==g||isNaN(g)||(p+=g),d=u.vj),isNaN(p)||(e+="LS_polling_millis="+p+"&"),isNaN(d)||(e+="LS_idle_millis="+d+"&")):(0<u.Ef&&(e+="LS_keepalive_millis="+u.Ef+"&"),0<u.ig&&(e+="LS_inactivity_millis="+u.ig+"&"),p&&(e+="LS_content_length="+u.Ul+"&")),l?(o="",0<u.Wb&&(o+="LS_requested_max_bandwidth="+u.Wb+"&"),null!=a.yi&&(o+="LS_adapter_set="+encodeURIComponent(a.yi)+"&"),null!=a.Jk&&(o+="LS_user="+encodeURIComponent(a.Jk)+"&"),u="LS_op2=create&"+e+h+o,f&&(u+="LS_old_session="+f+"&"),r.logDebug(t.resolve(6),u),null!=a.password&&(u+="LS_password="+encodeURIComponent(a.password)+"&"),u):(n.verifyOk(o)||r.logError(t.resolve(4)),a="LS_session="+o+"&"+e,r.logDebug(t.resolve(5),a),a)},hx:function(e,n,o,h,u,a,l){return e="LS_phase="+e+"&"+(a=a&&s.isBrowserDocument()&&!i.rj()?"LS_domain="+i.sc()+"&":"")+(h?"LS_cause="+h+"&":"")+"LS_polling=true&",h=0,null==u||isNaN(u)||(h+=u),e+="LS_polling_millis="+h+"&",e+="LS_idle_millis=0&",0<o.Wb&&(e+="LS_requested_max_bandwidth="+o.Wb+"&"),e+="LS_session="+n+"&",e+="LS_recovery_from="+l+"&",r.logDebug(t.resolve(7),e),e},Jw:function(i,e){var s={LS_op:"destroy",LS_session:i};return e&&(s.LS_cause=e),r.logDebug(t.resolve(8)),s},Qw:function(i,e){var s={LS_op:"force_rebind"};return i&&(s.LS_cause=i),null==e||isNaN(e)||(s.LS_polling_millis=e),r.logDebug(t.resolve(9)),s},Vw:function(t,i,e){return i.LS_build=e,i.LS_phase=t,i},Bw:function(t){return{LS_op:"constrain",LS_requested_max_bandwidth:0<t.Wb?t.Wb:0}},er:function(i,e,s){return i=e||".js"==s||""==s?(i?this.vm()+"create_session":"bind_session")+s:(i?this.vm():"")+"STREAMING_IN_PROGRESS",r.logDebug(t.resolve(10),i),i},ix:function(t){return"bind_session"+t},vm:function(){return""},UC:function(t){h=t}}}),define("lscD","IllegalArgumentException lscA Inheritance Environment Global lscq lscAj".split(" "),function(t,i,e,s,n,o,r){function h(){this.Oh=a,this.sessionId=this.ft=this.et=this.password=this.Jk=this.yi=null,this.rg=u,this._callSuperConstructor(h,arguments),this.V="lscD"}var u={Oh:"serverAddress",yi:"adapterSet",Jk:"user",password:"password",et:"serverInstanceAddress",ft:"serverSocketName",sessionId:"sessionId"},a=(u=r.getReverse(u),!s.isBrowser()||"http:"!=location.protocol&&"https:"!=location.protocol?null:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/");return h.prototype={rt:function(i){if(null===i)i=a;else{"/"!=i.substr(i.length-1)&&(i+="/");var e=o.kC(i);if(!0!==e)throw new t(e)}this.H("serverAddress",i)},gr:function(){return this.Oh},gt:function(t){this.H("adapterSet",t)},qw:function(){return this.yi},wB:function(t){this.H("user",t)},Dx:function(){return this.Jk},dB:function(t){this.H("password",t)},px:function(){return this.et},qx:function(){return this.ft},Qb:function(){return this.sessionId}},h.prototype.setServerAddress=h.prototype.rt,h.prototype.getServerAddress=h.prototype.gr,h.prototype.setAdapterSet=h.prototype.gt,h.prototype.getAdapterSet=h.prototype.qw,h.prototype.setUser=h.prototype.wB,h.prototype.getUser=h.prototype.Dx,h.prototype.setPassword=h.prototype.dB,h.prototype.getServerInstanceAddress=h.prototype.px,h.prototype.getServerSocketName=h.prototype.qx,h.prototype.getSessionId=h.prototype.Qb,e(h,i),h}),define("lscAi",[],function(){function t(t){this.yn=[],this.bound=this.Hk=!1,this.value=null,this.aj=!1;var i=this;t(function(){return i.Gz.apply(i,arguments)},function(){return i.ns.apply(i,arguments)})}return t.resolve=function(i){return new t(function(t){t(i)})},t.reject=function(i){return new t(function(t,e){e(i)})},t.prototype={then:function(t,i){return this.Hk?this.Xs(t,i):this.yn.push({zz:t,xz:i}),this},Gz:function(t){if(this.Hk||this.bound)return null;if(t&&t.then&&t.constructor===this.constructor){this.bound=!0;var i=this;return t.then(function(t){return i.zo(t,!0),i.value},function(t){i.ns(t,!1)}),t}return this.zo(t,!0),this},zo:function(t,i){for(this.value=t,this.aj=!i;0<this.yn.length;){var e=this.yn.shift();this.Xs(e.zz,e.xz)}this.Hk=!0,this.bound=!1},ns:function(t){return this.Hk||this.bound?null:(this.zo(t,!1),this)},Xs:function(t,i){try{this.aj?i&&i.apply(null,[this.value]):t.apply(null,[this.value])}catch(t){this.aj||(this.aj=!0,this.value=t)}}},t}),define("lscY",["Promise","lscAj","lscAi"],function(t,i){return{Sg:function(e,s){return s.Go?s.jl?function(){try{var s=this.target[e].apply(this.target,[this.$a].concat(i.Ai(arguments)));return t.resolve(s)}catch(i){return t.reject(i)}}:function(){try{var i=this.target[e].apply(this.target,arguments);return t.resolve(i)}catch(i){return t.reject(i)}}:s.jl?function(){try{this.target[e].apply(this.target,[this.$a].concat(i.Ai(arguments)))}catch(t){}}:function(){try{this.target[e].apply(this.target,arguments)}catch(t){}}}}}),define("lscP",[],function(){function t(t,i,e){this.Go=t,this.jl=i,this.Ts=e||!1}return t.tt=new t(!1,!1),t.VC=new t(!0,!1),t.ut=new t(!0,!1,2e3),t.c=new t(!1,!0),t.HA=new t(!0,!0),t.TC=new t(!0,!0,4e3),t}),define("lscAP",["lscY","lscP","LoggerManager","lscAe"],function(t,i,e,s){function n(t){this.client=t,this.zb=!1,this.$a=-1,this.Ca=null,this.rq="local"}var o=i.tt,r=i.c;i={Zr:o,Dp:r,Ep:r,ws:i.ut,Me:i.HA,Qd:r,ld:r,eh:r,Gq:o,Up:o};var h=e.getLoggerProxy(s.Eb);for(var u in n.methods=i,n.prototype={gB:function(t){this.target=t},jt:function(t){h.logInfo(e.resolve(11)+this.rq+" engine created: "+t),this.Ca=t},ne:function(){return this.Ca},G:function(){this.client=null},nB:function(t){this.$a=t},wh:function(t,i,e){("lscD"==t?this.client.Fb:"lscE"==t?this.client.sb:this.client.ka).X(i,e)},ze:function(t){this.zb&&this.pk(t)},pk:function(t){this.$a=t,this.zb=!1,this.client.pk()},cd:function(t){this.$a=t,this.zb=!0,this.client.GA()},Sf:function(t,i){h.logInfo(e.resolve(12)+this.Ca+" is dead"),this.client&&(this.pk(-1),this.client.Sv(t,i))},Bl:function(){var t=this;this.ws().then(function(){},function(){t.client&&t.Sf()})},bs:function(){this.Bl(),Executor.addTimedTask(this.Bl,1e3,this)},Uf:function(t,i){this.client.FA(t,i)},onStatusChange:function(t){this.client.nl(t)},onSubscription:function(t,i,e,s,n){this.client.u.QB(t,i,e,s,n)},Wf:function(t,i,e){this.client.u.Uv(t,i,e)},onUnsubscription:function(t){this.client.u.fC(t)},onEndOfSnapshot:function(t,i){this.client.u.we(t,i)},xh:function(t,i){this.client.u.gC(t,i)},onLostUpdates:function(t,i,e){this.client.u.xe(t,i,e)},onClearSnapshot:function(t,i){this.client.u.ve(t,i)},ye:function(t){this.client.J.My(t)},gs:function(t,i,e){this.client.J.Ly(t,i,e)},Tf:function(t,i,e){this.client.J.Ny(t,i,e)},fs:function(t){this.client.J.Ky(t)},hs:function(t){this.client.J.Py(t)},ping:function(){if(null===this.client)throw"net";return!0},xc:function(){this.client.xc()}},i)n.prototype[u]=t.Sg(u,i[u]);return n}),define("lscAH",["Environment","lscAj"],function(t,i){function e(t,i,e,s,n,o){this.eB(t),this.Je(i),this.setData(e),this.uk(s),this.Rh(n),this.Th(o)}return e.fu="GET",e.ri="POST",e.prototype={toString:function(){return["[",this.Gb,this.Cg,this.rb,this.We,"]"].join("|")},eB:function(t){for(;t&&"/"==t.substring(t.length-1);)t=t.substring(0,t.length-1);this.Gb=t},Je:function(t){for(;t&&"/"==t.substring(0,1);)t=t.substring(1);this.Cg=t},uk:function(t){this.We=t||e.ri},Rh:function(t){this.bq=t||!1},Th:function(t){this.lm=t||null},setData:function(t){this.rb=t},Xi:function(t){this.rb?this.rv(t)||(this.rb+=t):this.setData(t)},rv:function(t){return this.rb&&-1<this.rb.indexOf(t)},getFile:function(){return this.Cg},zd:function(){return this.Cg?this.Gb+"/"+this.Cg:this.Gb},getData:function(){return this.rb},Cx:function(){return this.rb?this.zd()+"?"+this.rb:this.zd()},clone:function(){return new e(this.Gb,this.Cg,this.rb,this.We,this.bq,this.lm)},yr:function(){return!(0==this.Gb.indexOf("http://")||0==this.Gb.indexOf("https://")||0==this.Gb.indexOf("file:///"))},my:function(e,s){if(!t.isBrowser())return!1;if(this.yr())return t.isWebWorker()?location.hostname==e:i.sc()==e;if(s){if(!this.Ar(s))return!1;if("file:"==s)return""==e}return e=e.replace(".","."),new RegExp("^https?://(?:[a-z][a-z0-9-]+.)*"+e+"(?:/|$|:)","i").test(this.Gb)},Ar:function(i){return!(!t.isBrowser()||i.indexOf(":")!=i.length-1)&&(this.yr()?location.protocol==i:0==this.Gb.indexOf(i))},ua:function(){if(!t.isBrowser())return!0;var e=t.isWebWorker()?location.hostname:i.sc();return!this.my(e,location.protocol)},ta:function(){return!t.isBrowser()||!this.Ar(location.protocol)}},e.Bu=new e("about:blank"),e}),define("lscG",[],function(){function t(t,i,e,s,n){this.request=t,this.jA=i,this.Fs=s,this.Fg=e,this.Ge=n}return t.hi=1,t.Xk=2,t.Rk=3,t.nd=4,t.md=5,t.Vd=6,t.Tk=7,t.Wd=8,t.Po=9,t.prototype={toString:function(){return["[|ControlRequest",this.Fs,this.Fg,this.Ge,this.request,"]"].join("|")},jj:function(){return this.jA},getKey:function(){return this.Fs}},t}),define("lscc",["lscAH","lscG","lscAj"],function(t,i){function e(){}return e.prototype={toString:function(){return"[Encoder]"},Qx:function(e,s,n){var o=new t;return e=e.pf(),o.Je((e==i.nd?"msg":e==i.md?"send_log":e==i.Wd?"heartbeat":"control")+this.rf()),o.uk(t.ri),o.Rh(s),o.Th(n),o},encode:function(t,e,s){for(s=s?"":"\r\n";0<t.getLength();){var n=t.dh(),o=n.jj(),r=n.Fg;if(!o||!o.verifySuccess())return t=n.request,r==i.nd?s+this.im(t,o,e):r==i.Vd?s+this.Ri(t,o,e):r==i.Wd?s+this.gm(t,o,e):r==i.md?s+this.hm(t,o,e):s+this.fm(t,o,e);o.uh(),t.shift()}return null},expand:function(t,i){var e="";if(t)for(var s in t)s!==i&&(e+=s+"="+t[s]+"&");return e},hf:function(t,i){return this.expand(t)+this.expand(i)},Si:function(t,i,e){var s=(s=this.expand(t,e))+this.expand(i,e);return t[e]?s+=e+"="+t[e]:i&&(s+=e+"="+i[e]),"LS_unq="+s.length+"&"+s},Ho:function(t){return t},rf:function(){return".js"},xm:function(){return 0},Am:function(){return 2},fm:function(t,i,e,s){return this.hf(t,s,e)},Ri:function(t,i,e,s){return this.hf(t,s,e)},gm:function(t,i,e,s){return this.hf(t,s,e)},hm:function(t,i,e,s){return this.hf(t,s,e)},im:function(t,i,e,s){return this.Si(t,s,"LS_message",e)}},e}),define("lscd",["lscc","Inheritance","lscAj"],function(t,i,e){function s(){}var n=1,o={im:"encodeMessageRequest",fm:"encodeControlRequest",Ri:"encodeDestroyRequest",gm:"encodeHeartbeatRequest",hm:"encodeLogRequest"};o=e.getReverse(o);return s.prototype={im:function(t,i,n,r){return r=e.ra(r,{LS_session:n}),this._callSuperMethod(s,o.encodeMessageRequest,[t,i,n,r])},fm:function(t,i,r,h){return h=e.ra(h,{LS_session:r}),h=e.ra(h,{LS_unique:n++}),this._callSuperMethod(s,o.encodeControlRequest,[t,i,r,h])},Ri:function(t,i,r,h){return h=e.ra(h,{LS_unique:n++}),this._callSuperMethod(s,o.encodeDestroyRequest,[t,i,r,h])},gm:function(t,i,r,h){return r&&(h=e.ra(h,{LS_session:r})),h=e.ra(h,{LS_unique:n++}),this._callSuperMethod(s,o.encodeHeartbeatRequest,[t,i,r,h])},hm:function(t,i,r,h){return r&&(h=e.ra(h,{LS_session:r})),h=e.ra(h,{LS_unique:n++}),this._callSuperMethod(s,o.encodeLogRequest,[t,i,r,h])},expand:function(t,i){var e="";if(t)for(var s in t)e=s!==i?e+(s+"=")+t[s]+"&":e+(s+"=")+encodeURIComponent(t[s])+"&";return e},Si:function(t,i,e){return(t=this.expand(t,e))+this.expand(i,e)}},i(s,t),s}),define("req",["Environment"],function(t){var i=t.isNodeJS()?require:null;return function(t){return i(t)}}),define("lscAI",["lscd","lscAj","req"],function(t,i,e){function s(){for(var t in{pa:!0})this.ti=t;this.V=s}function n(){return!1}function o(){return!0}var r=new t;return s.Qo="LS_container=lsc&",s.jc=function(t,i){for(var e in i)t[e]=!0===i[e]?o:!1===i[e]?n:i[e]},s.jc(s,{sa:!1,ua:!1,ta:!1,hc:!1,ic:!1,Bf:!1,lc:!1}),s.prototype={ea:function(){},qk:function(t,i,e,n,o,r){return this.V.ic()?t.Xi("LS_eng="+r+"&"):t.Xi(s.Qo),this.pa(t,i,e,n,o)},pa:function(){return!1},yd:function(){return r}},s.Vq=function(t){var i=[];if(s=e("xmlhttprequest-cookie"))if(null==t)s.CookieJar.save().split("\r\n").forEach(function(t){""!=t&&i.push(t)});else{t=e("url").parse(t);for(var s=s.CookieJar.findFuzzy(t.hostname,t.pathname),n=0;n<s.length;n++)s[n].secure&&"https:"!==t.protocol||s[n].httponly&&null===t.protocol.match(/^https?:$/i)||i.push(s[n])}return i},s.qp=function(t){var i=e("xmlhttprequest-cookie");if(i){var s="";t.forEach(function(t){s+="\r\n"+t}),0<s.length&&(t=i.CookieJar.save(),i.CookieJar.load(t+s))}},s}),define("Assertions",["ASSERT","LoggerManager"],function(t,i){var e=i.getLoggerProxy("assertions");return{assert:function(t,i){t||this.fail(i)},FC:function(t,i,e){t!==i&&this.fail(e+": Expected "+t+" but found "+i)},OC:function(t,i,e){this.assert(!t||i,e)},fail:function(i){t.fail(),null!=i&&e.logError(i)},verifyOk:function(i,s){t.verifyOk(i)||null!=s&&e.logError(s)},verifyNotOk:function(i,s){t.verifyNotOk(i)||null!=s&&e.logError(s)},verifyValue:function(i,s,n){t.verifyValue(i,s,null)||null!=n&&e.logError(n)},verifyDiffValue:function(i,s,n){t.verifyDiffValue(i,s,null)||null!=n&&e.logError(n)}}}),define("lscAO",["Executor","List","Assertions"],function(t,i,e){function s(t){this.Gf=-1,this.Ch={},this.$j={},this.Dh={},this.Zj=0,this.S=t,this.Gh=new i}return s.prototype={ai:function(t){this.S=t},Yw:function(t,i){return this.Gf++,this.Ch[this.Gf]=i,this.$j[this.Gf]=t,this.Dh[this.Gf]=!1,this.Zj++,this.Gf},vb:function(t){return this.Ch[t]},jh:function(t){return this.$j[t]},nC:function(t){return this.Dh[t]},iv:function(){this.kv();var t,i=[];for(t in this.Ch)i.push(t);for(i.sort(function(t,i){return t-i}),t=0;t<i.length;t++)this.Jy(i[t]);e.verifyValue(this.Zj,0,"Unexpected pending messages"),this.Gf=-1,this.Ch={},this.$j={},this.Dh={},this.Zj=0},clean:function(t){delete this.Ch[t],delete this.$j[t],delete this.Dh[t],this.Zj--},Py:function(t){this.vb(t)&&(this.Dh[t]=!0)},Tv:function(t,i,e,s){this.Gh.add({Lr:t,nk:i,listener:e,timeout:s})},kv:function(){var t=this;this.Gh.forEach(function(i){t.fireEvent("onAbort",i.listener,[i.Lr,!1])}),this.Gh.clean()},Hx:function(){var t=this;this.Gh.forEach(function(i){t.eh(i.Lr,i.nk,i.listener,i.timeout)}),this.Gh.clean()},eh:function(t,i,e,s){var n=null;e&&(n=this.Yw(t,e)),this.S.eh(t,i,n,s)},fireEvent:function(i,e,s){e&&e[i]&&t.addTimedTask(e[i],0,e,s)},Ky:function(t){this.fireEvent("onProcessed",this.vb(t),[this.jh(t)]),this.clean(t)},Ny:function(t){this.fireEvent("onError",this.vb(t),[this.jh(t)]),this.clean(t)},Ly:function(t,i,e){this.fireEvent("onDeny",this.vb(t),[this.jh(t),i,e]),this.clean(t)},My:function(t){this.fireEvent("onDiscarded",this.vb(t),[this.jh(t)]),this.clean(t)},Jy:function(t){this.fireEvent("onAbort",this.vb(t),[this.jh(t),this.nC(t)]),this.clean(t)}},s}),define("lscAd",["lscAe"],function(t){return function(i,e){var s=e?i:[];s.Mc=[],e||(s[0]=parseInt(i[0]),s[1]=parseInt(i[1]));for(var n=2,o=i.length;n<o;n++)i[n]?-1==i[n].length?s[n]=t.Ue:(e||(s[n]=i[n].toString()),s.Mc.push(n-1)):(e||(s[n]=""===i[n]?"":null),s.Mc.push(n-1));return s}}),define("lscAc",["Executor","LoggerManager","Assertions","lscAe","lscAd"],function(t,i,e,s,n){function o(t){this.Xy=0,this.pb={},this.Ne={},this.pw=1,this.lb={},this.Ac={},this.gb=null,this.b=t,this.a=0}var r=i.getLoggerProxy(s.ap);return o.prototype={toString:function(){return"[SubscriptionsHandler]"},ai:function(t){this.gb=t},pp:function(t){var e=++this.Xy;r.logInfo(i.resolve(13),t),t.kz(e,++this.pw,this),this.pb[e]=t,this.ss(t)},Hs:function(t){if(this.gb&&this.gb.zb){var e=t.jd;(t.Br()||t.Af())&&e&&(this.gb.Qd(e),delete this.Ne[e])}return r.logInfo(i.resolve(14),t),e=t.od,t.Fz(),delete this.pb[e],t},ld:function(t,s){if(this.gb&&this.gb.zb&&t.Bd()){e.verifyOk(t.Bd(),"Inactive subscription");var n=t.od;if(this.lb[n]){r.logDebug(i.resolve(15),t);var o=this;this.Ti(n,function(e){r.logDebug(i.resolve(16),t),o.gb.ld(e,s)})}else r.logDebug(i.resolve(17),t),this.gb.ld(t.jd,s)}},ss:function(t){if(this.gb&&this.gb.zb&&t.iy()){var s=t.od;r.logDebug(i.resolve(18));var n=this.gb.Me(t.kx());this.lb[s]?r.logDebug(i.resolve(19)+s):(e.verifyNotOk(this.lb[s],"Promise unexpected (1)"),e.verifyNotOk(this.Ac[s],"Promise unexpected (2)")),this.lb[s]=n,this.Ac[s]=0,t.Mz(),r.logDebug(i.resolve(20),t);var o=this;this.Ti(s,function(e){r.logDebug(i.resolve(21),t),o.pb[s]?(t.Pz(e),o.Ne[e]=s):o.gb&&o.gb.Qd(e)})}},Ti:function(t,s){e.verifyOk(this.lb[t],"Promise not found (1)"),0!==this.Ac[t]&&e.verifyOk(this.Ac[t],"Promise not found (2)");var n=this.lb[t];this.Ac[t]++;var o=this,h=this.a;n.then(function(u){o.lb[t]!=n?r.logDebug(i.resolve(22)+t):(e.verifyOk(o.lb[t],"Promise not found (3)"),e.verifyOk(o.Ac[t],"Promise not found (4)"),1<o.Ac[t]?o.Ac[t]--:(delete o.lb[t],delete o.Ac[t]),null!=u&&h==o.a&&s(u))},function(){o.lb[t]!=n?r.logDebug(i.resolve(23)+t):(delete o.lb[t],delete o.Ac[t])})},Ix:function(){for(var t in r.logDebug(i.resolve(24)),this.pb)this.ss(this.pb[t])},$z:function(t){e.verifyNotOk(t.gy(),"Table removed"),r.logDebug(i.resolve(25),t),delete this.Ne[t.jd],t.Bz(),t.wt&&delete this.pb[t.od]},Zz:function(){for(var t in r.logDebug(i.resolve(26)),this.pb)this.$z(this.pb[t]);this.Ne={},this.a++},ee:function(t,s){var n=this.Ne[t];if(n){var o=this.pb[n];if(this.lb[n]){r.logDebug(i.resolve(27),o);var h=this;this.Ti(n,function(o){if(r.logDebug(i.resolve(28),u),e.verifyValue(o,t,"Wrong table number"),h.Ne[t]==n){var u=h.pb[n];u&&s.apply(u)}})}else o&&s.apply(o)}else{o=function(e){h.Ti(e,function(n){n==t&&(r.logDebug(i.resolve(31),t),h.Ne[t]==e&&(n=h.pb[e])&&s.apply(n))})},r.logDebug(i.resolve(30),t);h=this;var u,a=0;for(u in this.lb){var l=this.pb[u];l&&(l.jd?e.verifyDiffValue(l.jd,t,"Unexpected table number"):(o(u),a++))}r.logDebug(i.resolve(32),a)}},gC:function(t,i){this.ee(t[0],function(){this.update(n(t,!0),i,!1)})},xe:function(t,i,e){this.ee(t,function(){this.Fy(i,e)})},we:function(t,i){this.ee(t,function(){this.Rv(i)})},ve:function(t,i){this.ee(t,function(){this.lv(i)})},Uv:function(t,i,e){this.ee(t,function(){this.EA(i,e)})},QB:function(t,i,e,s,n){this.ee(t,function(){this.Kz(i,e,s,n)})},fC:function(t){this.ee(t,function(){})}},o}),define("EventDispatcher",["Executor","List","Inheritance"],function(t,i,e){function s(){this._callSuperConstructor(s)}function n(){this.initDispatcher()}return n.prototype={initDispatcher:function(){this.ci=new s,this.xt=!1},addListener:function(t){t&&!this.ci.contains(t)&&(t={g:t,Jr:!0},this.ci.add(t),this.$l("onListenStart",[this],t,!0))},removeListener:function(t){t&&(t=this.ci.remove(t))&&this.$l("onListenEnd",[this],t,!0)},getListeners:function(){return this.ci.asArray()},useSynchEvents:function(t){this.xt=!0===t},$l:function(i,e,s,n){this.xt?this.lq(i,e,s,!0):t.addTimedTask(this.lq,0,this,[i,e,s,n])},lq:function(t,i,e,s){if(e&&e.g[t]&&(s||e.Jr))try{i?e.g[t].apply(e.g,i):e.g[t].apply(e.g)}catch(t){}},dispatchEvent:function(t,i){var e=this;this.ci.forEach(function(s){e.$l(t,i,s,!1)})}},n.prototype.initDispatcher=n.prototype.initDispatcher,n.prototype.addListener=n.prototype.addListener,n.prototype.removeListener=n.prototype.removeListener,n.prototype.getListeners=n.prototype.getListeners,n.prototype.useSynchEvents=n.prototype.useSynchEvents,n.prototype.dispatchEvent=n.prototype.dispatchEvent,s.prototype={remove:function(t){if(0>(t=this.find(t)))return!1;var i=this.data[t];return i.Jr=!1,this.data.splice(t,1),i},find:function(t){for(var i=0;i<this.data.length;i++)if(this.data[i].g==t)return i;return-1},asArray:function(){var t=[];return this.forEach(function(i){t.push(i.g)}),t}},e(s,i),n}),define("lsco",["Global","LoggerManager","EnvironmentStatus","ASSERT","lscAe"],function(t,i,e,s,n){function o(t,i){this.WB=i,this.Yv(t)}var r=i.getLoggerProxy(n.Se),h=!1;return o.CB=function(t){h=t},o.prototype={fe:function(t){r.logDebug(i.resolve(39),t),this.f=t,this.f.Qb()!=this.Xl&&(this.Ka=null)},Yv:function(i){var e=this;t.qa(i,"LS_e",function(t,i,s,n,o,r,h,u){e.ks(t,i,s,n,o,r,h,u)}),t.qa(i,"LS_t",function(){}),t.qa(i,"LS_u",function(t,i,s){e.xh(t,i,s)}),t.qa(i,"LS_v",function(t,i){e.xh(t,i,!0)}),t.qa(i,"LS_o",function(t,i){e.xe(t,i)}),t.qa(i,"LS_n",function(t,i){e.we(t,i)}),t.qa(i,"LS_s",function(t,i){i.length?e.ve(t,i):e.ks(6,t,i)}),t.qa(i,"LS_l",function(t,i,s,n){e.ia(t,i,s,n)}),t.qa(i,"LS_w",function(t,i,s,n,o,r,h){e.nz(t,i,s,n,o,r,h)}),t.qa(i,"setTimeout",function(t,i){setTimeout(t,i)}),t.qa(i,"alert",function(t){"undefined"!=typeof alert?alert(t):"undefined"!=typeof console&&console.log(t)})},zc:function(t,s,n,o){var u=!h&&!e.isUnloaded()&&null!=this.f;return u&&t&&(u&=this.f.Nc(t)),u&&s&&(u&=this.WB.Nc(s)),u&&!o&&(u=n?u&this.f.sy():u&this.f.xr()),r.isDebugLogEnabled()&&r.logDebug(i.resolve(40),u),u},cg:function(){this.f.Qb()!=this.Xl&&(this.Ka=null);var t=this.f.Jb;return r.logDebug(i.resolve(41),t),null!=this.Ka?(s.verifyOk(this.Ka<=t)||r.logError(i.resolve(33),this.Ka),this.Ka++,this.Ka<=t?(r.logDebug(i.resolve(42),this.Ka),!1):(this.f.$r(),t=this.f.Jb,s.verifyValue(this.Ka,t)||r.logError(i.resolve(34),this.Ka),!0)):(this.f.$r(),!0)},ks:function(t,i,e,s,n,o,r,h){if(this.zc(i,null,1==t,3==t||4==t))if(1==t)this.f.yz(e,s,o,n,r,h);else if(2==t)this.f.uz(e);else if(3==t)this.f.Vj("syncerror");else if(4==t){if(t=30,null!=e){if(41==(t=e))return void this.f.pz();if(48==t)return void this.f.Vj("expired");(0<t&&30>t||39<t)&&(t=39)}this.ia(t,i,null,"The session has been forcibly closed by the Server")}else 5==t?this.f.Hz(e):6==t?this.f.Nz(e):7==t?this.Cz(e):this.f.vh("Unsupported Server version")},Cz:function(t){this.f.Qb()!=this.Xl&&(this.Ka=null);var e=this.f.Jb;null==this.Ka?(this.Ka=t,this.Xl=this.f.Qb(),this.Ka>e&&(s.fail(),r.logError(i.resolve(35),t,e),this.f.vh("Received event prog higher than expected: "+t))):this.Ka!=t?(s.fail(),r.logError(i.resolve(36),t,this.Ka),this.f.vh("Received event prog different than expected: "+t)):t!=e&&(s.fail(),r.logError(i.resolve(37),t,e),this.f.vh("Received event prog different than actual: "+t))},xh:function(t,i,e){2>i.length?this.zc(t)&&this.f.tz():this.zc(null,t)&&this.cg()&&this.f.tn(i,e||!1)},we:function(t,i){this.zc(null,t)&&this.cg()&&this.f.we(i)},ve:function(t,i){this.zc(null,t)&&this.cg()&&this.f.ve(i)},xe:function(t,i){this.zc(null,t)&&this.cg()&&this.f.xe(i)},vz:function(t,e,n,o){if(this.zc()&&this.cg())if(s.verifyValue(n.substring(0,3),"MSG")||r.logError(i.resolve(38),n),n=n.substr(3),39==t)for(t=parseInt(o),t=(e=parseInt(e))-t+1;t<=e;t++)this.f.ye(n,t);else 38==t?this.f.ye(n,e):0>=t?this.f.ln(n,t,o,e):this.f.Tf(n,t,o,e)},ia:function(t,i,e,s){null!=e&&isNaN(e)?this.vz(t,i,e,s):null!=e?this.zc(null,i)&&this.f.sn(e,t,s):this.zc(i,null,null,!0)&&(4==t?this.f.Vj("recovery.error"):this.f.Uf(t,s))},nz:function(t,e,s,n,o,h,u){this.zc(null,4==t||5==t||9==t?null:e)&&this.cg()&&(4==t?this.f.kn(s,e):5==t?this.f.nn(s,e):8==t?this.f.onUnsubscription(s):6==t?this.f.onSubscription(s,n,o,h+1,u+1):9==t?this.f.Xf(s,e):r.logDebug(i.resolve(43),t))}},o}),define("lscN",["Executor"],function(t){function i(t,i){this.cf=t,this.Gk=this.Nw?this.cf.dj:i?2*i:4e3}return i.prototype={$c:function(i){i?this.gf():t.addTimedTask(this.Ae,this.Gk+Number(this.cf.De),this)},Ae:function(){this.verifySuccess()||this.gf()}},i}),define("lscO",["Inheritance","lscN"],function(t,i){function e(t,i,s,n,o){this._callSuperConstructor(e,[t,o]),this.Dc=i,this.va=s,this.rc=n}return e.prototype={verifySuccess:function(){return!this.va.vy(this.Dc)},gf:function(){this.va.Qd(this.Dc,this.rc+1,this.Gk)},uh:function(){this.va.onUnsubscription(this.Dc)}},t(e,i),e}),define("lscL",["Inheritance","lscN"],function(t,i){function e(t,i,s,n,o){this._callSuperConstructor(e,[t,o]),this.Dc=i,this.va=s,this.rc=n}var s,n;for(n in{$c:!0})s=n;return e.prototype={verifySuccess:function(){return!this.va.ty(this.Dc)},gf:function(){this.va.Me(this.Dc,this.rc+1,this.Gk)},$c:function(t){t||this.va.RB(this.Dc),this._callSuperMethod(e,s,arguments)},uh:function(){}},t(e,i),e}),define("lscM",["Inheritance","lscN","Assertions"],function(t,i){function e(t,i,s,n,o,r,h){this._callSuperConstructor(e,[t,h]),this.Dc=i,this.ts=s,this.va=n,this.Zu=o,this.rc=r}return e.prototype={verifySuccess:function(){return!this.va.uy(this.Dc,this.ts)},gf:function(){this.va.ct(this.Dc,this.ts,this.Zu,this.rc+1,this.Gk)},uh:function(){}},t(e,i),e}),define("lscp","LoggerManager lscAe Executor EnvironmentStatus lscAj ASSERT lscO lscL lscM".split(" "),function(t,i,e,s,n,o,r,h,u){function a(t,i,n,o){this.Ms=1,this.o=t,this.Ql=i,this.Gv=n,this.options=o,this.$a=0,this.zb=!1,this.Zy=1,this.M={},this.sd=0,this.m={},this.Ed={},this.jv=e.addRepetitiveTask(this.Sp,5e3,this),s.addBeforeUnloadHandler(this),s.addUnloadHandler(this)}function l(t,i,e){this.zn=this.dt=this.An=!1,this.Bh=0,this.ak=!1,this.Bv=e,this.Du=i,this.Fd=t}var c=t.getLoggerProxy(i.Eb);return a.prototype={toString:function(){return"[|PushPageCollectionHandler|]"},Wc:function(){return this.$a},Nc:function(t){return t==this.$a},Al:function(i){var e=this.o.Bc;e&&e.dx(this.o.f.Wa())>i&&c.logWarn(t.resolve(45))},Op:function(){for(var t in this.m={},this.Ed)this.Ed[t]={}},wd:function(t){for(var i in this.M)t(this.M[i],i)},js:function(e,s){this.M[e]=s,this.Ed[e]={},this.sd++,this.Ql.X("clientsCount",this.sd),c.logDebug(t.resolve(46),this),e!==i.Wo&&(this.Gv.qm(function(t,i){s.wh("lscD",t,i)}),this.options.qm(function(t,i){s.wh("lscE",t,i)}),this.Ql.qm(function(t,i){s.wh("lscC",t,i)}),s.onStatusChange(this.o.Rb()),this.zb?s.cd(this.$a):s.ze(this.$a))},ls:function(i){if(c.logDebug(t.resolve(47),this,i),this.M[i]){var e,s=this.Ed[i];for(e in s)this.Ks(e);this.M[i].G(),delete this.M[i],delete this.Ed[i],this.sd--,this.Ql.X("clientsCount",this.sd)}},pe:function(i){return(i=this.m[i])?this.tf(i.Fd):(c.logDebug(t.resolve(48)),null)},tf:function(i){return this.M[i]?this.M[i]:(c.logDebug(t.resolve(49)),null)},fz:function(t){return this.wd(function(i){i.onStatusChange(t)}),!0},cd:function(){this.Op(),this.zb=!0;var t=++this.$a;this.wd(function(i){i.cd(t)})},ze:function(){this.Op(),this.zb=!1;var t=++this.$a;this.wd(function(i){i.ze(t)})},onSubscription:function(t){this.m[t]&&(this.m[t].An=!1)},Wf:function(t){this.onUnsubscription(t)},ty:function(t){return!!this.m[t]&&(this.m[t].An&&!this.m[t].ak)},RB:function(t){this.m[t]&&(this.m[t].dt=!0)},onUnsubscription:function(t){if(this.m[t]){var i=this.m[t].Fd;delete this.m[t],this.Ed[i]&&delete this.Ed[i][t]}},vy:function(t){return!!this.m[t]&&(this.m[t].dt&&this.m[t].ak)},uy:function(t,i){return!!this.m[t]&&(this.m[t].zn&&this.m[t].Bh==i)},Xf:function(t,i){this.m[t]&&i==this.m[t].Bh&&(this.m[t].zn=!1)},Kx:function(i,e){if(this.M[i]&&this.o.Pm()){var s=this.Zy++;this.Ed[i][s]=!0;var n=this.Fw(e,s);return this.m[s]=new l(i,n.add,n.remove),c.logDebug(t.resolve(50)),this.Me(s,1),s}o.fail(),c.logError(t.resolve(44),this,i)},Me:function(t,i,e){this.m[t]&&(3<=i&&this.Al(1),this.m[t].An=!0,e=new h(this.options,t,this,i,e),this.o.f.zA(t,this.m[t].Du,this,2<=i,e))},Ks:function(t){this.m[t]&&!this.m[t].ak&&this.Qd(t,1)},Qd:function(t,i,e){this.m[t]&&(3<=i&&this.Al(1),this.m[t].ak=!0,e=new r(this.options,t,this,i,e),this.o.f.BA(t,this.m[t].Bv,this,2<=i,e))},ld:function(t,i){if(this.m[t]){var e=++this.m[t].Bh;this.ct(t,e,i,1)}},ct:function(t,i,e,s,o){if(this.m[t]&&this.m[t].Bh==i){3<=s&&this.Al(1),this.m[t].zn=!0;var r=this.m[t].Bh;i=n.ra({LS_table:t,LS_op:"reconf",LS_win_phase:r},e),e=new u(this.options,t,r,this,e,s,o),this.o.f.AA(t,i,e)}},cz:function(){this.wd(function(t){t.bs()})},Ur:function(t){var i=this.M;for(var e in this.M={},i)i[e].Sf(t)},gz:function(t,i){this.wd(function(e){e.Uf(t,i)})},G:function(){e.stopRepetitiveTask(this.jv),s.removeBeforeUnloadHandler(this),s.removeUnloadHandler(this)},unloadEvent:function(){this.Ur(!1)},preUnloadEvent:function(){this.cz()},Sp:function(){var t=this;this.wd(function(i,e){i.ping().then(function(){},function(){t.ls(e)})})},Fw:function(t,i){this.Ms++;var e={LS_table:i,LS_req_phase:this.Ms,LS_win_phase:this.$a};return n.ra(t,e),{add:n.ra(t,{LS_op:"add"}),remove:n.ra(e,{LS_op:"delete"})}},xc:function(){this.wd(function(t){t.xc()})}},a.prototype.onPushPageLost=a.prototype.ls,a.prototype.onNewPushPage=a.prototype.js,a.prototype.unloadEvent=a.prototype.unloadEvent,a.prototype.preUnloadEvent=a.prototype.preUnloadEvent,a}),define("lscl",["LoggerManager","BrowserDetection","Helpers","lscAe"],function(t,i,e,s){var n=i.isProbablyFX(1.5,!0)?10:50,o=n,r=0,h=0,u=0,a=null,l=null,c=null,f=t.getLoggerProxy(s.gc);return{Xc:function(){o=n,u=h=r=0,c=l=a=null},Mx:function(){a=r,l=h,c=u;var t=e.getTimeStamp();u||(u=t),6e4<=t-u&&(r=0,u=t),h&&1e3>t-h&&r++,h=t},kk:function(){l!=h&&(r=a,h=l,u=c)},Hp:function(){if(0!=h){if(!o)return!1;if(r>=o)return f.logError(t.resolve(51)),o=0,!1}return!0}}}),define("lsch",["lscc","Inheritance","lscAj","Assertions"],function(t,i,e,s){function n(t){this.qC=t}var o={hf:"encodeRequest",Si:"encodeUnqRequest"};o=e.getReverse(o);return n.prototype={toString:function(){return"[WSEncoder]"},xm:function(t){return t.length+2},rf:function(){return""},hf:function(t,i,e){return i=this.tq(i,e),this._callSuperMethod(n,o.encodeRequest,[t,i,e])},Si:function(t,i,e,s){return i=this.tq(i,s),this._callSuperMethod(n,o.encodeUnqRequest,[t,i,e,s])},Ri:function(t,i,e,s){return this._callSuperMethod(n,o.encodeRequest,[t,s,e])},tq:function(t,i){var n=this.qC.gq;return null==n?t=e.ra(t,{LS_session:i}):s.verifyValue(n,i,"Unexpected session ID"),t}},i(n,t),n}),define("lscAK","lscAI Inheritance EnvironmentStatus Executor Environment LoggerManager lscAj ASSERT lsch lscAe req".split(" "),function(t,i,e,s,n,o,r,h,u,a,l){function c(t){this._callSuperConstructor(c),this.aa=p++,d.isDebugLogEnabled()&&d.logDebug(o.resolve(58)+this.aa),this.i=!1,this.Pa=this.Xj=this.Oa=this.Wi=null,this.yc=this.Yf=!1,this.Ph=null,this.un=!1,this.gq=null,this.Kk=t,this.V=c,this.rC=new u(this)}var f=o.getLoggerProxy(a.gc),d=o.getLoggerProxy(a.cb),g=null;n.isNodeJS()&&(g=l("faye-websocket").Client);var p=1,v=!1,b={};return c.Qi=function(t){t?b[t]=!0:v=!0},c.Us=function(t){t?delete b[t]:(v=!1,b={})},c.ay=function(){for(var t in b)return!0;return v},t.jc(c,{sa:function(t){return!(v||t&&b[t])&&(t=null,"undefined"!=typeof WebSocket?t=WebSocket:"undefined"!=typeof MozWebSocket&&(t=MozWebSocket),(!t||2!=t.prototype.CLOSED)&&(g||t))},ua:!0,ta:function(){return!n.isBrowser()||"https:"!=location.protocol},hc:function(){return!0},ic:!1,Bf:!0,lc:!1}),c.prototype={toString:function(){return["[|WebSocketConnection",this.i,this.Oa,this.Wi,this.Om(),"]"].join("|")},ea:function(){if(this.Pa){if(d.logDebug(o.resolve(59)),this.Oa=null,this.Pa)try{this.Pa.close(1e3)}catch(t){d.logDebug(o.resolve(60),t)}this.Na()}},Qz:function(i,e,h,u,a){if(this.i)d.logError(o.resolve(52));else if(v)return!1;this.yc=!1,this.Ph=i.Gb,this.Oa=e;try{this.Pa=function(i){if(i=0==(i=i.toLowerCase()).indexOf("http://")?i.replace("http://","ws://"):i.replace("https://","wss://"),g){var e="";t.Vq(i).forEach(function(t){""!==e&&(e+="; "),e+=t.name+"="+t.value});var s={};return 0<e.length&&(s.headers={Cookie:e}),new g(i,"js.lightstreamer.com",s)}return"undefined"!=typeof WebSocket?new WebSocket(i,"js.lightstreamer.com"):"undefined"!=typeof MozWebSocket?new MozWebSocket(i,"js.lightstreamer.com"):(c.Qi(),null)}(this.Ph)}catch(t){return d.logDebug(o.resolve(61),t),!1}f.isDebugLogEnabled()&&f.debug("Status timeout in "+this.Kk.xd()+" [currentConnectTimeoutWS]"),s.addTimedTask(this.Rz,this.Kk.xd(),this,[this.Oa]);var l=this;return this.Pa.onmessage=function(t){l.pn(t,e,h)},this.Pa.onerror=function(){l.rz(e,u)},this.Pa.onclose=function(t){l.mz(t,e,a,u)},this.Pa.onopen=function(){if(n.isNodeJS()){var i=l.Pa.headers;i["set-cookie"]&&(i=r.Xz(i["set-cookie"]),t.qp(i))}l.Az(e)},!0},Rz:function(t){if(t==this.Oa&&this.Pa&&!this.un)try{f.logDebug(o.resolve(62)),this.Kk.b.Km(),this.Pa.close(1e3)}catch(t){d.logDebug(o.resolve(63))}},pa:function(t,i){return this.i?(d.logError(o.resolve(53)),null):!v&&(this.Xj=t,this.Wi=i,d.logDebug(o.resolve(64),t.zd()),this.Om()&&this.at(i),!0)},Yx:function(t){return h.verifyOk(this.Ph)?0==this.Ph.indexOf(t):(d.logError(o.resolve(54)),!1)},Om:function(){return null!=this.Pa&&1==this.Pa.readyState},Dg:function(i,e){if(!this.Om())return null;e&&(this.Et(e),i.Xi(t.Qo)),d.isDebugLogEnabled()&&d.logDebug(o.resolve(65)+this.aa,i.getFile(),i.getData());try{this.Pa.send(i.getFile()+"\r\n"+i.getData())}catch(t){return d.logError(o.resolve(55),t),!1}return!0},at:function(t){var i=this.Dg(this.Xj,t);h.verifyOk(null!==i)||d.logError(o.resolve(56),t),i&&(this.i=!0,this.Kk.ew(this.Oa))},Et:function(t){this.Wi=t},pn:function(t,i,n){this.Oa!=i||e.isUnloaded()||(d.isDebugLogEnabled()&&d.logDebug(o.resolve(66)+this.aa,t.data),this.Yf=!0,s.executeTask(n,[t.data,this.Wi]))},rz:function(t,i){this.Oa!=t||e.isUnloaded()||(d.logError(o.resolve(57)),this.yc|=!this.Yf,s.executeTask(i,["wsc.unknown",this.Oa,!0,this.yc,!1]))},Az:function(t){this.Oa!=t||e.isUnloaded()||(this.un=!0,d.logDebug(o.resolve(67)),this.Xj&&this.at())},mz:function(t,i,n,r){this.Oa!=i||e.isUnloaded()||(t=t?t.code:-1,d.logDebug(o.resolve(68),t,this.Yf),1e3==t||1001==t?(s.modifyAllTaskParams(n,[this.Oa,!0]),s.addPackedTimedTask(n,300),this.Na()):1011==t?(this.yc|=!this.Yf,n=this.Oa,this.Na(),s.executeTask(r,["wsc.server",n,!0,this.yc,!0])):(this.yc|=!this.Yf,n=this.Oa,this.Na(),s.executeTask(r,["wsc."+t,n,!0,this.yc,!1])))},Na:function(){this.un=this.i=!1,this.Xj=this.Oa=null,this.Yf=!1,this.Ph=this.Pa=null},yd:function(){return this.rC},TA:function(t){d.isDebugLogEnabled()&&d.logDebug(o.resolve(69)+t+") on WS connection oid="+this.aa),this.gq=t}},i(c,t),c}),define("lscI",["Inheritance","lscN"],function(t,i){function e(t,i,s,n){this._callSuperConstructor(e,[n]),this.gu=t,this.vu=s,this.c=i}return e.prototype={verifySuccess:function(){return!this.c.Nc(this.vu)},gf:function(){this.c.ej(this.gu)},Nw:function(){return this.cf.dj},uh:function(){}},t(e,i),e}),define("RecoveryBean",["Assertions"],function(t){function i(){0==arguments.length?this.zv():(t.assert(2==arguments.length,"Recovery error (1)"),this.Av(arguments[0],arguments[1])),t.assert(this.Vx(),"Recovery error (2)")}return i.prototype={Vx:function(){return this.Ya?-1!=this.Zb:-1==this.Zb},zv:function(){this.Ya=!1,this.Zb=-1},Av:function(i,e){e.Ya?i?(this.Ya=!0,this.Zb=e.Zb):(this.Ya=!1,this.Zb=-1):i?(this.Ya=!0,this.Zb=Date.now()):(t.assert(-1==e.Zb,"Recovery error (4)"),this.Ya=!1,this.Zb=-1)},vA:function(){this.Ya=!1,this.Zb=-1},wo:function(i){return this.Ya?(t.assert(-1!=this.Zb,"Recovery error (5)"),i-(Date.now()-this.Zb)):i}},i}),define("lscr","EnvironmentStatus Helpers LoggerManager Executor lscl lscAe lscI lscG lscq ASSERT BrowserDetection lscAK Assertions RecoveryBean RetryDelayCounter".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c,f,d){function g(t,n,o,r,h,u,a){this.aa=y++,v.isDebugLogEnabled()&&v.logDebug(e.resolve(88),"oid="+this.aa),this.wl=s.packTask(this.Lz,this),this.vl=s.packTask(this.rn,this),this.ul=s.packTask(this.qn,this),this.R=t,this.le=n,this.Jb=0,this.a=1,this.wa=0,this.Ea=100*i.randomG(100),this.g=o,this.I=r,this.Ab=o.Ab,this.b=o.b,this.Ua=o.Ua,this.ga=null,this.W=o.W,this.Ca=o.ne(),this.Fr=this.sg=this.kg=0,this.Ie=this.Hd=this.Tm=null,this.reset(),this.bg=!1,h?(this.$e=h.$e,this.Jb=h.Jb,v.logDebug(e.resolve(89)+this.Jb),this.sessionId=h.sessionId,this.Kd=h.Kd,this.Ea=h.Ea,this.kg=h.kg,this.Vn=h.Vn,this.Im=h.Im,this.Za=new d(a,h.Za)):(f.assert(!a,"Recovery unexpected"),this.Za=new d)}var p=[,"OFF","CREATING","CREATED","FIRST_PAUSE","FIRST_BINDING","PAUSE","BINDING","RECEIVING","STALLING","STALLED","SLEEP"],v=e.getLoggerProxy(o.gc),b=e.getLoggerProxy(o.Se),y=1;return g.Zk=1,g.Ud=2,g.Ro=3,g.To=4,g.So=5,g.Pt=7,g.au=8,g.xC=9,g.zC=10,g.Yt=6,g.Yk=11,g.prototype={reset:function(){v.isDebugLogEnabled()&&v.logDebug(e.resolve(90)+this.aa),this.$e=0,this.sessionId=this.Kd=null,this.kg=this.Jb=0,this.Pd=this.Cc=this.ol=!1,this.qo="",this.hd=!1,this.Za=new d,this.bg=!1},fg:function(){},Hb:function(t){v.isDebugLogEnabled()&&v.logDebug(e.resolve(91)+this.aa+"):",p[this.a],"->",p[t]);var i=this.a;return this.a=t,this.wa++,t=this.wa,this.a!=i&&this.g.IB(this.I),t==this.wa},ph:function(){this.Ea++},Nc:function(t){return this.Ea==t},zm:function(){var t=this.a;return 1==t?o.Db:11==t?this.bg?o.zg:o.Ag:2==t?this.Za.Ya?o.zg:o.CONNECTING:3==t||4==t||5==t?o.Ra+this.Pq():10==t?o.yg:o.Ra+this.Lq()},i:function(){return 1!=this.a&&2!=this.a&&11!=this.a},sy:function(){return 2==this.a||7==this.a||5==this.a},xr:function(){return 3==this.a||8==this.a||9==this.a||10==this.a},qy:function(){return!this.R},Wa:function(){return null==this.Kd?this.Vn:this.Kd},Qb:function(){return this.sessionId},Tg:function(t,i){var s=1==this.a||11==this.a;return n.Hp()?(0==s&&(v.logDebug(e.resolve(93),this),this.Ia("new."+(i||""),!1,!1)),v.logInfo(e.resolve(82),this),this.reset(),this.zs(),this.Ua.X("sessionId",null),this.Ua.X("serverSocketName",null),this.Ua.X("serverInstanceAddress",null),this.Vn=this.Ua.Oh,this.Im=this.b.Wn,this.ph(),!0):(v.logDebug(e.resolve(92),this),this.Ia("mad",s,!0),!1)},de:function(){if(!n.Hp())return this.Ia("madb",!1,!0),!1;if(this.$e++,a.verifyOk(6==this.a||4==this.a||1==this.a)||v.logError(e.resolve(70)),1==this.a){if(!this.Hb(4))return!1;this.zs()}return this.lh(!0),this.ph(),this.R?v.logDebug(e.resolve(94),this):v.logInfo(e.resolve(83),this),!0},Bd:function(){return 3==this.a||5==this.a||7==this.a||8==this.a||9==this.a||10==this.a},Ns:function(t,i,s){this.I=t,this.Cc||(v.logDebug(e.resolve(95),this),this.hd=!1,2==this.a||11==this.a||1==this.a?(v.logError(e.resolve(71)),this.g.ef(this.I,i,s)):6==this.a||4==this.a?this.g.so(this.I,i,s):(this.Cc=!0,this.Pd=s,this.qo=i,this.ej(i)))},sA:function(t){this.I=t,this.hd||(v.logDebug(e.resolve(96),this),a.verifyOk(2!=this.a&&11!=this.a&&1!=this.a)||v.logError(e.resolve(72)),6==this.a||4==this.a?this.g.vt(this.I):(this.hd=!0,this.ej("slow")))},zs:function(){1!=this.a&&11!=this.a||this.Ab.dA(),this.R&&this.le&&this.Ab.Rs()},lh:function(t){this.a!=g.Zk&&this.a!=g.Ud&&this.a!=g.Yk&&(0<this.b.ig?this.W.GB(this.b.ig,t):this.W.NB(t))},Ia:function(t,i,s){1!=this.a&&2!=this.a&&11!=this.a?(this.g.Uj(this.Wa()),i||this.xA(t),this.I=this.g.os(this.I,s),this.Ua.X("sessionId",null),this.Ua.X("serverSocketName",null),this.Ua.X("serverInstanceAddress",null),this.Ss(),v.logInfo(e.resolve(84),this,t)):this.Za.Ya&&(this.Za=new d,this.I=this.g.os(this.I,s)),this.mg(!s)},Ss:function(){this.b.Qs(this.b.hg),this.b.Os(this.b.hg)},mg:function(t){this.ph(),this.reset(),this.Hb(t?11:1),v.logDebug(e.resolve(97),this)},Nv:function(t){if(this.Hb(3==this.a?4:6)){this.ph();var i=t;this.R&&(t>=this.b.De||this.b.X("pollingInterval",t),i=this.fx()),4!=this.a&&i&&0<i?(v.logDebug(e.resolve(98)),this.ib("pause",i)):this.Ae("noPause",this.wa)}},Ae:function(t,i,s,n){i==this.wa&&(v.isDebugLogEnabled()&&v.logDebug(e.resolve(99)+t+"] while",p[this.a],"cause=",n),t="timeout."+this.a+"."+this.$e,11==this.a&&n&&(t=n),2==this.a?(s=this.Za.wo(this.b.Qh),this.Za.Ya&&0<s?(v.isDebugLogEnabled()&&v.logDebug(e.resolve(100)+s),this.b.Km(),this.g.Hh(this.I,t,this.Pd)):(v.logDebug(e.resolve(101)),this.Ia("create.timeout",!0,!1),this.b.Km(),this.ib("zeroDelay",0,"create.timeout"))):3==this.a||7==this.a||10==this.a||11==this.a?this.hd||this.Cc?this.g.ef(this.I,t+".switch",this.Pd):!this.R||this.le?this.bg?(v.logDebug(e.resolve(102)),this.g.Hh(this.I,t,this.Pd)):(v.logDebug(e.resolve(103)),this.Tg(this.sessionId,t)):this.g.ef(this.I,t,!1):5==this.a?(this.sg--,this.hd||this.Cc?this.g.ef(this.I,t+".switch",this.Pd):0<this.sg||this.le?this.Tg(this.sessionId,t):this.R?this.g.ef(this.I,t+".switch",this.Pd):this.Xb(this.I,t)):6==this.a?(this.R&&this.Ab.YB(s),this.de("loop")):4==this.a?this.de("loop1"):8==this.a?this.bC():9==this.a?this.aC():(a.fail(),v.logError(e.resolve(73),this)))},eo:function(){return this.le||this.g.eo()},Xb:function(t,i){var e=this.eo();e&&this.Ia("giveup",1==this.a||11==this.a,!0),this.g.Xb(t,i,e)},ia:function(t,s,n,o,r,h,u){var a=this.Za.wo(this.b.Qh);v.isDebugLogEnabled()&&v.logDebug(e.resolve(104),p[this.a],t,"closedOnServer="+s,"fromWS="+n,"unableToOpen="+o,"noImplAvailable="+r,"possibleLoop="+h,"tryRecovery="+u,"timeLeft="+a),n=u&&0<a,8==this.a||10==this.a||9==this.a||7==this.a||6==this.a?n?(v.logDebug(e.resolve(105)),this.bg=!0,this.Hb(11),this.ib("firstRetryMaxDelay",i.randomG(this.b.cj),t)):(v.logDebug(e.resolve(106)),this.Ia(t,s,!1),h?this.ib("retryDelay",this.sl(),t):this.ib("firstRetryMaxDelay",i.randomG(this.b.cj),t)):2!=this.a&&3!=this.a&&5!=this.a||(this.Za.Ya&&0<a&&!s?(v.logDebug(e.resolve(107)),this.bg=!0,this.Hb(11),this.ib("currentRetryDelay",this.sl(),t),this.b.pr()):this.Cc&&!this.le||l.isProbablyAndroidBrowser()?(v.logDebug(e.resolve(108)),this.g.ef(this.I,this.qo+".error",this.Pd)):(h=s?"closed on server":"socket error",v.logDebug(e.resolve(109)+h),this.Ia(t,s,!1),this.ib("currentRetryDelay",this.sl(),t),this.b.pr()))},jn:function(t){this.ga&&this.ga.Hq&&this.ga.Hq(),8==this.a||9==this.a||10==this.a||3==this.a?this.Cc?this.g.so(this.I,this.qo,this.Pd):this.hd?this.g.vt(this.I):this.Nv(t):(a.fail(),v.logError(e.resolve(75),this))},ja:function(){2==this.a?this.Hb(3)&&this.$B():3!=this.a&&(7==this.a||5==this.a||9==this.a||10==this.a||8==this.a?this.Hb(8)&&this.cC():(a.fail(),v.logError(e.resolve(76),this)))},Mi:function(){if(n.Mx(),this.Ie=i.getTimeStamp(),a.verifyOk(1==this.a||11==this.a)||v.logError(e.resolve(77)),!this.Hb(2))return!1;this.ib("currentConnectTimeout",this.Hw()),this.ga=this.g.Mq()},Kg:function(){if(this.Ie=i.getTimeStamp(),a.verifyOk(6==this.a||4==this.a)||v.logError(e.resolve(78),this),!this.Hb(6==this.a?7:5))return!1;this.ib("bindTimeout",this.tw()),this.ga=this.g.Mq()},ib:function(t,i,n){return v.isDebugLogEnabled()&&v.logDebug(e.resolve(110)+i+" ["+t+"]"),s.addTimedTask(this.Ae,i,this,[t,this.wa,i,n])},cC:function(){if(0<this.b.Ef){var t=i.getTimeStamp();50>t-this.Fr&&this.Tm?s.modifyTaskParam(this.Tm,1,this.wa):(this.Fr=t,this.Tm=this.ib("keepaliveInterval",this.b.Ef))}},bC:function(){this.Hb(9)&&this.ib("stalledTimeout",this.b.Bk)},aC:function(){this.Hb(10)&&(this.bg=0<this.Za.wo(this.b.Qh),this.ib("reconnectTimeout",this.b.Hd))},$B:function(){a.verifyValue(this.a,3)||v.logError(e.resolve(79)),this.ib("stalledTimeout",this.b.Bk)},Hw:function(){return this.xd()},tw:function(){return this.R?this.xd()+this.b.vj:0<this.sg&&null!=this.Hd?this.Hd:this.xd()},fx:function(){if(4==this.a)return this.b.De;var t=this.b.De;if(this.Ie){var e=i.getTimeStamp()-this.Ie;t=t>e?t-e:0}return t},sl:function(){var t=i.getTimeStamp()-this.Ie,e=this.b.Oc;return t>e?0:e-t},Wu:function(){this.Ie||(a.fail(),v.logError(e.resolve(80),this),this.Hd=null);var t=i.getTimeStamp()-this.Ie,s=this.xd();this.Hd=(t>s?s:t)+s},Lz:function(i,e){!t.isUnloaded()&&this.Nc(e)&&""!==i&&(null==i?(n.kk(),this.ia("nullresp")):this.ga.gp(e,i))},rn:function(i,e,s,o,r){!t.isUnloaded()&&this.Nc(e)&&(n.kk(),this.ia("failure."+i,!1,s,o,null,r,!0))},qn:function(t,i){this.Nc(t)&&(n.kk(),this.ia("wrongend",null,i,null,null,null,!0))},sq:function(){this.ia("eval")},Iz:function(){this.Cc||this.hd||this.g.Jz(this.I)},Oz:function(){b.isDebugLogEnabled()&&b.logDebug(e.resolve(111)),this.ja(),8==this.a&&(this.sg=1)},Hz:function(t){b.isDebugLogEnabled()&&b.logDebug(e.resolve(112),t),this.kg=t,this.b.X("maxBandwidth",t)},pz:function(){b.isDebugLogEnabled()&&b.logDebug(e.resolve(113)),this.ia("error41",!0)},tz:function(){b.isDebugLogEnabled()&&b.logDebug(e.resolve(114)),this.ja(),this.g.xc()},yz:function(t,i,s,n,o,r){b.isDebugLogEnabled()&&b.logDebug(e.resolve(115));var h=this.Wa(),l=h;null==i||this.Im||(l=i=u.ov(l,i)),this.Kd=l,h!=this.Kd&&(this.g.Uj(h),this.g.on(this.Kd)),n&&(this.R?this.b.X("idleTimeout",n):this.b.X("keepaliveInterval",n)),2==this.a?(null!=this.sessionId&&this.sessionId!=t&&(v.logInfo(e.resolve(85)+t+" over "+this.sessionId),this.reset()),this.sessionId=t):(a.verifyValue(this.sessionId,t)||v.logError(e.resolve(81)),this.Wu()),this.Ab.HB(this.R),this.ja(),3==this.a?this.Za.Ya?this.Za.vA():(this.g.cd(s),this.Ua.X("sessionId",t),this.Ua.X("serverSocketName",o),this.Ua.X("serverInstanceAddress",this.Kd),this.ol&&(this.Fi(),this.ol=!1)):(this.g.Vf(s),this.Vf()),r&&this.g.sz(r)},Nz:function(t){b.isDebugLogEnabled()&&b.logDebug(e.resolve(116)),this.Ab.TB(t),this.ja()},uz:function(t){b.isDebugLogEnabled()&&b.logDebug(e.resolve(117)),this.jn(t)},Vj:function(t){n.kk(),this.ia(t,!0)},vh:function(t){b.isDebugLogEnabled()&&b.logDebug(e.resolve(118),t),this.Ia("end",!0,!0)},tn:function(t,i){this.ja(),this.g.tn(t,i)},we:function(t){this.ja(),this.g.we(t)},ve:function(t){this.ja(),this.g.ve(t)},xe:function(t){this.ja(),this.g.xe(t)},kn:function(t,i){this.ja(),this.g.kn(t,i)},nn:function(t,i){this.ja(),this.g.nn(t,i)},ln:function(t,i,e,s){this.ja(),this.g.ln(t,i,s,e)},ye:function(t,i){this.ja(),this.g.ye(t,i)},Tf:function(t,i,e,s){this.ja(),this.g.Tf(t,i,s,e)},sn:function(t,i,e){this.ja(),this.g.sn(t,i,e)},Uf:function(t,i){this.vh(i),this.g.Uf(t,i)},onUnsubscription:function(t){this.ja(),this.g.onUnsubscription(t)},onSubscription:function(t,i,e,s,n){this.ja(),this.g.onSubscription(t,i,e,s,n)},Xf:function(t,i){this.ja(),this.g.Xf(t,i)},$r:function(){this.Jb++},ej:function(t){v.logInfo(e.resolve(86),this);var i=u.Qw(t,this.Ab.kj());t=new r(t,this,this.Ea,this.b),this.W.Jc(this.sessionId,i,h.Tk,t)},xA:function(t){v.logInfo(e.resolve(87),this),t=u.Jw(this.sessionId,t),this.sm(this.sessionId,t,h.Vd,null,this.Wa())},Fi:function(){1!=this.a&&11!=this.a&&(2==this.a?this.ol=!0:0>=this.kg&&0>=this.b.Wb||this.kg!=this.b.Wb&&this.W.Jc(null,u.Bw(this.b),h.Rk,null))},Vf:function(){this.Ss()},sm:function(){throw Error("abstract method")},xd:function(){return this.b.pc}},g}),define("lscAJ",[],function(){function t(){this.En=!1,this.ck=0,this.Ko=!1}return t.prototype={wq:function(t,i){if(!i&&!this.ly(t))return null;0==this.ck&&"/*"==t.substring(0,2)&&(this.Ko=!0);var e=-1;if(i&&!this.Ko)e=t.length;else{if(0>(e=t.lastIndexOf(";\n")))return null;e+=2}var s=t.substring(this.ck,e);return 0==this.ck&&this.Ko&&(s=s.substring(2,s.length)),this.ck=e,s},no:function(t){return this.wq(t,!1)},mo:function(t){return this.wq(t,!0)},ly:function(t){if(this.En)return!0;var i=t.indexOf("setPhase("),e=t.indexOf("setPhase(ph)");if(-1<i){if(-1>=e)return this.En=!0;if(-1<(i=t.indexOf("setPhase(",i+1))&&t.lastIndexOf(";\n")>i)return this.En=!0}return!1}},t}),define("lscAN","lscAI Inheritance Executor BrowserDetection EnvironmentStatus lscAJ Environment LoggerManager lscAj lscAe req".split(" "),function(t,i,e,s,n,o,r,h,u,a,l){function c(){this._callSuperConstructor(c),this.aa=v++,d.isDebugLogEnabled()&&d.logDebug(h.resolve(120)+this.aa),this.i=!1,this.yb=this.Y=this.kc=this.K=null,this.lo=!1,this.V=c}var f,d=h.getLoggerProxy(a.cb),g=r.isBrowser()?2:3,p=!0;r.isNodeJS()&&(f=l("xmlhttprequest-cookie").XMLHttpRequest);var v=1,b=null;return t.jc(c,{sa:function(){return null!==b?b:(s.isProbablyIE(9,!0)?b=!1:"undefined"!=typeof XMLHttpRequest?void 0!==(new XMLHttpRequest).withCredentials?b=!0:r.hy()&&(b=!0):!r.isBrowser()&&f&&(b=!0),null===b&&(b=!1),b)},Bf:function(){return!s.isProbablyOldOpera()&&!s.isProbablyPlaystation()},ua:!0,ta:!0,hc:function(){return!!r.isNodeJS()||("file:"!=a.vg||!r.isBrowserDocument())},ic:!1,lc:!0}),c.prototype={toString:function(){return["[|XSXHRConnection",this.i,this.K,this.kc,"]"].join("|")},ea:function(){if(this.i){if(d.isDebugLogEnabled()&&d.logDebug(h.resolve(121)+this.aa),this.K=null,this.Y)try{this.Y.abort()}catch(t){d.logDebug(h.resolve(122))}this.Na()}},pa:function(t,i,s,n,r){if(this.i)return null;this.Y=f?new f:new XMLHttpRequest,this.yb=new o,s=e.packTask(this.pn,this,[i,s,r,n]),this.Y.onreadystatechange=function(t){return function(){e.executeTask(t)}}(s),this.K=i,this.kc=null,d.isDebugLogEnabled()&&d.logDebug(h.resolve(123)+this.aa,t.getFile(),t.getData());try{this.Y.open(t.We,t.zd(),!0),this.Y.withCredentials=t.bq;var u=t.lm;if(u)for(var a in u)this.Y.setRequestHeader(a,u[a]);this.Y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.Y.send(t.getData()),this.i=!0}catch(t){return d.logError(h.resolve(119)+this.aa,t),!1}return!0},pn:function(t,i,s,o){this.K!=t||n.isUnloaded()||(t=null,this.yf()&&i&&(3==this.Y.readyState?t=this.yb.no(this.Y.responseText):4==this.Y.readyState&&(t=this.yb.mo(this.Y.responseText)),d.isDebugLogEnabled()&&t&&d.logDebug(h.resolve(124)+this.aa,t),null!=t&&e.executeTask(i,[t,this.K])),4==this.Y.readyState&&(this.yf()||(this.lo?(o&&(d.isDebugLogEnabled&&d.logDebug(h.resolve(125)+this.aa),e.executeTask(o,["status0",this.K,!1,p,!1])),p=!p,this.lo=!1):i&&e.executeTask(i,[null,this.K])),d.isDebugLogEnabled&&d.logDebug(h.resolve(126)+this.aa),4!=this.Y.readyState&&""!=t||!s||e.addTimedTask(this.Of,100,this,[this.K,s]),this.Na()))},Of:function(t,i){e.executeTask(i,[t])},Na:function(){this.i=!1,this.K=null,this.Y&&(delete this.Y.onreadystatechange,delete this.Y)},yf:function(){try{if(null===this.kc){if(this.Y.readyState<g)return!1;this.kc=200<=this.Y.status&&299>=this.Y.status,0==this.Y.status&&(this.lo=!0)}return this.kc}catch(t){return d.logDebug(h.resolve(127)+this.aa,t),!1}}},i(c,t),c}),define("lscAE","lscAI Inheritance Executor EnvironmentStatus lscAJ LoggerManager lscAe".split(" "),function(t,i,e,s,n,o,r){function h(){this._callSuperConstructor(h),this.i=!1,this.ya=this.yb=this.K=null,this.dk=0,this.V=h}function u(t){return function(){e.executeTask(t)}}var a=o.getLoggerProxy(r.cb),l=null;return t.jc(h,{sa:function(){return null!==l?l:l="undefined"!=typeof XDomainRequest},Bf:!0,ua:!0,ta:!1,hc:!1,ic:!1,lc:!1}),h.prototype={toString:function(){return["[|IEXSXHRConnection",this.i,this.K,"]"].join("|")},ea:function(){if(this.i){if(a.logDebug(o.resolve(129)),this.K=null,this.ya)try{this.ya.abort()}catch(t){a.logDebug(o.resolve(130))}this.Na()}},pa:function(t,i,s,r,h){if(this.i)return null;this.dk=0,this.ya=new XDomainRequest,this.yb=new n,h=e.packTask(this.uA,this,[i,s,h]);var l=e.packTask(this.zp,this,[i,r,"xdr.err"]);r=e.packTask(this.zp,this,[i,r,"xdr.timeout"]),s=e.packTask(this.Bs,this,[i,s,!1]),this.ya.onload=u(h),this.ya.onerror=u(l),this.ya.ontimeout=u(r),this.ya.onprogress=u(s),this.K=i,a.isDebugLogEnabled()&&a.logDebug(o.resolve(131),t.getFile(),t.getData());try{this.ya.open(t.We,t.zd()),this.ya.send(t.getData()),this.i=!0}catch(t){return a.logError(o.resolve(128),t),!1}return!0},zp:function(t,i,n){this.K!=t||s.isUnloaded()||(a.logDebug(o.resolve(132)),e.executeTask(i,[n,t,!1,0==this.dk,!1]))},Bs:function(t,i,n){this.K!=t||s.isUnloaded()||(this.dk++,i&&(t=n?this.yb.mo(String(this.ya.responseText)):this.yb.no(String(this.ya.responseText)),a.isDebugLogEnabled()&&a.logDebug(o.resolve(133),t),null!=t&&e.executeTask(i,[t,this.K])))},uA:function(t,i,n){this.K!=t||s.isUnloaded()||(this.Bs(t,i,!0),this.Na(),a.logDebug(o.resolve(134)),n&&e.addTimedTask(this.Of,100,this,[n,t]))},Of:function(t,i){e.executeTask(t,[i])},Na:function(){this.i=!1,this.yb=this.K=null,this.dk=0,this.ya&&(this.ya.onload=null,this.ya.onerror=null,this.ya.ontimeout=null,this.ya=this.ya.onprogress=null)}},i(h,t),h}),define("lscAA",["lscAI","Inheritance","Executor"],function(t,i,e){function s(){this._callSuperConstructor(s)}return t.jc(s,{sa:!1,ua:!1,ta:!1,hc:!1,ic:!1,lc:!1}),s.prototype={pa:function(t,i,s){return s&&e.addTimedTask(this.$c,1e3,this,[s,i]),!0},$c:function(t,i){e.executeTask(t,["",i])}},i(s,t),s}),define("IFrameHandler",["BrowserDetection","EnvironmentStatus","Environment"],function(t,i,e){var s=t.isProbablyAWebkit()&&t.isProbablyChrome(32,!0)?null:"about:blank",n={},o={createFrame:function(i,o){if(!e.isBrowserDocument())return null;var r=document.getElementsByTagName("BODY")[0];if(!r)return null;o=o||s;var h=document.createElement("iframe");h.style.visibility="hidden",h.style.height="0px",h.style.width="0px",h.style.display="none",h.name=i,h.id=i,t.isProbablyIE()||t.isProbablyOldOpera()?(h.src=o,r.appendChild(h)):(r.appendChild(h),h.src=o);try{if(h.contentWindow){try{h.contentWindow.name=i}catch(t){}return n[i]=h.contentWindow,n[i]}return document.frames&&document.frames[i]?(n[i]=document.frames[i],n[i]):null}catch(t){return null}},getFrameWindow:function(t,i,e){return i&&!n[t]&&this.createFrame(t,e),n[t]||null},disposeFrame:function(t){if(n[t]){try{document.getElementsByTagName("BODY")[0].removeChild(document.getElementById(t))}catch(t){}delete n[t]}},removeFrames:function(){for(var t in n)try{document.getElementsByTagName("BODY")[0].removeChild(document.getElementById(t))}catch(t){}n={}}};return o.createFrame=o.createFrame,o.getFrameWindow=o.getFrameWindow,o.disposeFrame=o.disposeFrame,o.removeFrames=o.removeFrames,i.addUnloadHandler(o.removeFrames),o}),define("lscg",["lscd","Inheritance"],function(t,i){function e(){}return e.prototype={xm:function(){return 15},Am:function(t){return t?encodeURIComponent(t).length-t.length:0},Ho:function(t){return"LS_querystring="+encodeURIComponent(t)}},i(e,t),e}),define("lscf",["lscg","Inheritance"],function(t,i){function e(){}return e.prototype={toString:function(){return"[LegacyEncoder]"},rf:function(){return".html"},Ho:function(t){return t}},i(e,t),e}),define("lscAB","lscAI lscAA Inheritance IFrameHandler Executor Environment LoggerManager lscf lscAe lscAj".split(" "),function(t,i,e,s,n,o,r,h,u,a){function l(t){this._callSuperConstructor(l),t&&(this.target=a.mk(t),s.getFrameWindow(t,!0)),this.i=!1,this.V=l,this.Dj=0}var c=new h,f=r.getLoggerProxy(u.cb);return t.jc(l,{sa:function(){return o.isBrowserDocument()},ua:!0,ta:!0,hc:!0,ic:!0,lc:!1}),l.prototype={toString:function(){return["[|FormConnection",this.target,"]"].join("|")},ea:function(){f.logDebug(r.resolve(136)),this.i=!1,this.Dj++},pa:function(t,i,e,s){if(this.i)return null;this._callSuperMethod(l,this.ti,[t,i,e,s]);try{this.Dj++;var o=this.nw();if(!o)return!1;f.isDebugLogEnabled()&&f.logDebug(r.resolve(137),t.getFile(),t.getData()),o.Uc.method=t.We,o.Uc.target=this.target,o.Uc.action=t.zd(),o.ek.value=t.getData(),o.Uc.submit(),n.addTimedTask(this.Cv,1e3,this,[o.Uc,this.Dj]),this.i=!0}catch(t){return f.logError(r.resolve(135),t),!1}return!0},nw:function(){var t=document.getElementsByTagName("BODY")[0];if(!t)return null;var i={};i.Uc=document.createElement("FORM");try{i.Uc.acceptCharset="utf-8"}catch(t){}return i.Uc.style.display="none",i.ek=document.createElement("INPUT"),i.ek.type="hidden",i.ek.name="LS_querystring",i.Uc.appendChild(i.ek),t.appendChild(i.Uc),i},Cv:function(t,i){t.parentNode.removeChild(t),i==this.Dj&&(this.i=!1)},yd:function(){return c}},e(l,i),l}),define("lscAC","lscAI lscAA lscAH Inheritance IFrameHandler Executor EnvironmentStatus Environment lscAB LoggerManager lscf lscAe lscAj".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c,f){function d(t){this._callSuperConstructor(d),this.target=f.mk(t),this.Kc=0,this.i=!1,this.gj=null,n.getFrameWindow(this.target,!0),this.V=d}var g=new l,p=a.getLoggerProxy(c.cb);return t.jc(d,{sa:function(){return h.isBrowserDocument()},ua:!1,ta:!1,hc:!0,ic:!0,Bf:!0,lc:!1}),d.prototype={toString:function(){return["[|FrameConnection",this.i,this.target,this.Kc,this.gj,"]"].join("|")},hu:function(t){t==this.Kc&&(this.Kc++,this.i&&(this.ip(this.Kc,e.Bu),this.i=!1))},ea:function(){p.logDebug(a.resolve(140));var t=++this.Kc;o.addTimedTask(this.hu,0,this,[t])},ip:function(t,i,e,s,o){if(t==this.Kc&&!r.isUnloading()){this._callSuperMethod(d,this.ti,[i,e,s,o]),this.Kc++,p.isDebugLogEnabled()&&p.logDebug(a.resolve(141),i.getFile(),i.getData());try{var h=n.getFrameWindow(this.target);if(null==h)return p.logError(a.resolve(138)),!1;h.location.replace(i.Cx()),this.i=!0}catch(t){return p.logError(a.resolve(139),t),!1}return!0}},Dy:function(t,i,e,s){return this.gj||(this.gj=new u(this.target)),this.Kc++,(t=this.gj.pa(t,i,e,s))&&(this.i=!0),t},pa:function(t,i,s,n){if(t.method==e.ri)return this.Dy(t,i,s,n);var r=++this.Kc;return o.addTimedTask(this.ip,0,this,[r,t,i,s,n]),!0},yd:function(){return g}},s(d,i),d}),define("Dismissable",["Executor"],function(t){function i(){this.initTouches()}return i.prototype={clean:function(){},initTouches:function(t){this.xo=this.wf=0,this.timeout=t||5e3},lC:function(t){t==this.xo&&0>=this.wf&&this.clean()},dismiss:function(){this.wf--,0>=this.wf&&t.addTimedTask(this.lC,this.timeout,this,[this.xo])},touch:function(){this.xo++,0>this.wf&&(this.wf=0),this.wf++}},i.prototype.touch=i.prototype.touch,i.prototype.dismiss=i.prototype.dismiss,i.prototype.clean=i.prototype.clean,i.prototype.initTouches=i.prototype.initTouches,i}),define("lscy","LoggerManager lscAC lscAH lscAj Executor EnvironmentStatus IFrameHandler Global Environment Inheritance Dismissable lscAe Helpers".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c,f){function d(t){this.path=t,this.Hg=f.randomG(),this.status=u.isBrowserDocument()&&(window.ActiveXObject||"undefined"!=typeof XMLHttpRequest)?2:-1,this.zi=++p,this.Va="LS_AJAXFRAME_"+this.zi,this.initTouches(),this.Ru()}var g=t.getLoggerProxy(c.cb),p=0,v={};return d.rw=function(t){return v[t]||(v[t]=new d(t),v[t].pa(!1)),v[t]},d.prototype={toString:function(){return["[|AjaxFrameHandler",this.status,"]"].join("|")},Ru:function(){var t=this;h.qa(this.zi,"LS_a",function(i){t.lz(i)},"A")},clean:function(){this.status=-1,h.Ii(this.zi,"LS_a","A");var t=this.path;v[t]&&delete v[t],r.disposeFrame(this.Va)},Xc:function(t){this.Hg++,this.status=t?3:0},pa:function(o){if(-1!=this.status&&(g.logDebug(t.resolve(142)),!this.Da())){this.Xc(o),o=this.Hg,s.vr()&&g.logDebug(t.resolve(143));var r="id="+this.zi+"&";s.rj()||(r+="domain="+s.sc()+"&"),r=new e(this.path,"xhr.html",r),new i(this.Va).pa(r),n.addTimedTask(this.kw,1e4,this,[o]),n.addTimedTask(this.Gx,2e3,this,[o])}},lz:function(){o.isUnloaded()||1==this.status||(g.logDebug(t.resolve(144)),this.status=1)},kw:function(i){-1==this.status||this.Hg!=i||this.Da()||(g.logDebug(t.resolve(145)),this.pa(!0))},Gx:function(i){-1==this.status||this.Hg!=i||this.Da()||(g.logDebug(t.resolve(146)),this.status=4)},disable:function(){this.status=-1,this.Hg++},Da:function(){return 1===this.status},sr:function(){return-1===this.status||3===this.status||4===this.status},CA:function(i,e,s,n){if(this.sr())return!1;if(1!==this.status)return null;var o;g.logDebug(t.resolve(147),i);try{o=!1!==r.getFrameWindow(this.Va).sendRequest(i,e,s,n)}catch(i){o=!1,g.logDebug(t.resolve(148),i)}return!1===o&&this.disable(),o}},a(d,l,!0,!0),d}),define("lscAL","lscAI Inheritance lscy EnvironmentStatus Executor Environment LoggerManager lscAe".split(" "),function(t,i,e,s,n,o,r,h){function u(){this._callSuperConstructor(u),this.error=this.response=this.kc=this.sender=this.K=null,this.i=!1,this.a=0,this.LS_x=this.qz,this.Zc=null,this.V=u}var a=r.getLoggerProxy(h.cb);return t.jc(u,{sa:function(){return o.isBrowserDocument()&&(window.ActiveXObject||"undefined"!=typeof XMLHttpRequest)},ua:!1,ta:!1,hc:!0,ic:!1,lc:!0}),u.prototype={toString:function(){return["[|XHRConnection",this.i,this.a,this.K,"]"].join("|")},pa:function(t,i,s,n,o){if(this.Zc=e.rw(t.Gb),this.Zc.sr())return this.Zc.dismiss(),!1;if(!this.Zc.Da()||this.i)return null;this.Zc.touch(),this.K=i,this.kc=null,this.response=s,this.error=n,this.Yp=o,this.a++;var h=this,u=this.a;return this.LS_h=function(){h.ms(u)},this.i=!0,a.isDebugLogEnabled()&&a.logDebug(r.resolve(150),t.getFile(),t.getData()),this.Zc.CA(t.zd(),t.getData(),this,t.lm)},ea:function(){if(this.i){this.Na(),a.logDebug(r.resolve(151));try{this.sender&&this.sender.abort&&this.sender.abort()}catch(t){a.logError(r.resolve(149),t)}this.Ji()}},yf:function(){try{if(null===this.kc){if(2>this.sender.readyState)return!1;this.kc=200<=this.sender.status&&299>=this.sender.status}return this.kc}catch(t){return a.logDebug(r.resolve(152),t),!1}},ms:function(t){s.isUnloaded()||t!=this.a||!this.sender||4!=this.sender.readyState&&"complete"!=this.sender.readyState||(t=null,this.yf()&&("/*"==(t=(t=this.sender.responseText).toString()).substring(0,2)&&(t=t.substring(2,t.length-2))),a.isDebugLogEnabled()&&a.logDebug(r.resolve(153),t),this.response&&n.executeTask(this.response,[t,this.K]),n.addTimedTask(this.Of,100,this,[this.K]),this.Na(),this.Ji())},Of:function(t){n.executeTask(this.Yp,[t])},qz:function(){s.isUnloaded()||(this.Zc.disable(),a.logDebug(r.resolve(154)),this.Na(),this.error&&n.executeTask(this.error,["xhr.unknown",this.K,!1,!1,!1]),this.Ji())},Ji:function(){try{delete this.sender.onreadystatechange}catch(t){a.logDebug(r.resolve(155),t)}try{delete this.sender}catch(t){a.logDebug(r.resolve(156),t)}this.response=this.error=null,this.Zc&&this.Zc.dismiss()},Na:function(){this.i=!1,this.a++}},i(u,t),u}),define("lscAM","lscAI lscAL Inheritance EnvironmentStatus Executor BrowserDetection lscAJ Environment LoggerManager lscAe".split(" "),function(t,i,e,s,n,o,r,h,u,a){function l(){this._callSuperConstructor(l),this.yb=null,this.V=l}var c=u.getLoggerProxy(a.cb),f=null;return t.jc(l,{sa:function(){return null!==f?f:f=!!h.isBrowserDocument()&&(!o.isProbablyIE()&&("undefined"!=typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).addEventListener))},Bf:function(){return!o.isProbablyOldOpera()},ua:!1,ta:!1,hc:!0,ic:!1,lc:!0}),l.prototype={toString:function(){return["[|XHRStreamingConnection",this.i,this.a,this.K,"]"].join("|")},pa:function(t,i,e,s,n){return t=this._callSuperMethod(l,this.ti,[t,i,e,s,n]),c.logDebug(u.resolve(157)),t&&(this.yb=new r),t},ms:function(t){!s.isUnloaded()&&t==this.a&&this.sender&&(t=null,this.yf()&&this.response&&(3==this.sender.readyState?t=this.yb.no(this.sender.responseText):4==this.sender.readyState&&(t=this.yb.mo(this.sender.responseText)),c.isDebugLogEnabled()&&c.logDebug(u.resolve(158),t),null!=t&&n.executeTask(this.response,[t,this.K])),4==this.sender.readyState&&(!this.yf()&&this.response&&n.executeTask(this.response,[null,this.K]),c.isDebugLogEnabled()&&c.logDebug(u.resolve(159)),4!=this.sender.readyState&&""!=t||!this.Yp||n.addTimedTask(this.Of,100,this,[this.K]),this.Na(),this.Ji()))}},e(l,i),l}),define("lscAg",["Executor","IFrameHandler","Global","BrowserDetection","lscAj"],function(t,i,e,s,n){function o(s){this.mm=s,this.ready=!1,this.Zm=n.sc(),this.mq=this.$i=!1,this.Lj=-1,this.pq=s=n.mk(this.Sq()+"_"+this.Zm),t.addTimedTask(this.gv,3e3,this);var o="about:blank";this.Oj()&&(this.Lj=++r,o=e.qa(this.Lj,"EQCallback_"+s,this.Ex(),"Q"),o="javascript:(function(){document.open();document.domain='"+n.sc()+"';parent."+o+"(window);document.close();})()");try{this.qc=i.getFrameWindow(s,!0,o),this.Uy()?t.addTimedTask(this.bm,1,this):this.Oj()||this.bm()}catch(t){}}var r=0;return o.prototype={Rq:function(){return null},verify:function(){return!0},G:function(){t.addTimedTask(i.disposeFrame,0,i,[this.pq]),null!==this.Lj&&e.Ii(this.Lj,"EQCallback_"+this.pq,"Q"),this.mq=!0},og:function(){return!this.$i&&!this.mq&&(n.sc()==this.Zm||!this.fn())},Da:function(){return this.ready},bm:function(){var t=this.Rq();this.Oj()?this.qc.document.write("<script>document.domain='"+this.Zm+"';<\/script>"):s.isProbablyOldOpera()&&!t||this.qc.document.open(),t&&this.qc.document.write(t),this.Oj()||s.isProbablyOldOpera()&&!t||this.qc.document.close(),this.ready=this.verify()},Ex:function(){var t=this;return function(i){t.qc=i,t.bm()}},Oj:function(){return s.isProbablyIE()&&!n.rj()},fn:function(){return s.isProbablyIE()||s.isProbablyOldOpera()||s.isProbablyKonqueror(4.4,!0)},Uy:function(){return s.isProbablyKonqueror()},mu:function(i,e){this.$i=!0,this.mm&&(this.mm.Yb=[i,e],t.executeTask(this.mm))},gv:function(){this.ready||this.mu(5)}},o}),define("lscAG","LoggerManager Executor lscAg Inheritance Dismissable lscAe Helpers".split(" "),function(t,i,e,s,n,o,r){function h(t,i){this.su=t,this._callSuperConstructor(h,[i]),this.Rg=null,this.initTouches()}function u(t,i,e){try{t.appendChild(i),i.src=e}catch(t){}}var a=t.getLoggerProxy(o.cb);return h.prototype={toString:function(){return"[JSONPFrame]"},Qu:function(e,s){try{var n=this.Cw();if(!n)return n;var o=this.qc.document.createElement("script");o.id=e,o.type="text/javascript",i.addTimedTask(u,50,null,[n,o,s])}catch(i){return a.logDebug(t.resolve(160),i),!1}return!0},Fv:function(t){var e=this.qc.document.getElementById(t);i.addTimedTask(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},4e3)},clean:function(){this.G()},Cw:function(){return this.Rg?this.Rg:(this.Rg=this.qc.document.getElementsByTagName("BODY")[0],this.Rg?this.Rg:this.rc?!(2e3<r.getTimeStamp()-this.rc)&&null:(this.rc=r.getTimeStamp(),null))},Sq:function(){return"LS6__JF_"+this.su}},s(h,e),s(h,n,!0,!0),h}),define("lsce",["lscg","Inheritance"],function(t,i){function e(){}return e.prototype={toString:function(){return"[JSONPEncoder]"}},i(e,t),e}),define("lscAF","lscAI lscAA Inheritance Helpers Environment lscAG Executor LoggerManager lsce lscAe".split(" "),function(t,i,e,s,n,o,r,h,u,a){function l(t){this._callSuperConstructor(l),this.originalTarget=t,this.target=t+s.randomG(),this.Kb=new o(this.target,r.packTask(this.Pr,this)),this.Vi=0,this.Pn="script_"+s.randomG(),this.rc=null,this.wp=!1,this.Bq=!0,this.V=l}var c,f;for(f in{qk:!0})c=f;var d=h.getLoggerProxy(a.cb),g=/(^|&)LS_domain=[^&]*/,p=new u;return t.jc(l,{sa:function(){return n.isBrowserDocument()},ua:!0,ta:!0,hc:!0,ic:!0,lc:!1}),l.prototype={toString:function(){return["[|JSONPConnection",this.target,this.Pn,this.rc,"]"].join("|")},Pr:function(){this.wp=!0},qk:function(t,i,e,s,n,o){var r;return(this.Bq||10==this.Vi)&&t.Xi("LS_force_head=true&"),this.Bq=!1,0==(r=(r=t.getData()).replace(g,"")).indexOf("&")&&(r=r.substring(1)),t.setData(r),this._callSuperMethod(l,c,[t,i,e,s,n,o])},pa:function(t,i,e,n){if(this.ea(),this.wp)return!1;if((!this.Kb.og()&&this.Kb.fn()||10==this.Vi)&&(this.Kb.G(),this.Vi=0,this.target=this.originalTarget+s.randomG(),this.Kb=new o(this.target,r.packTask(this.Pr,this))),!this.Kb.Da())return null;this.Vi++,d.isDebugLogEnabled()&&d.logDebug(h.resolve(161),t.getFile(),t.getData());var u=t.zd(),a=t.getData();return(u=this.Kb.Qu(this.Pn,u+"?"+a))?(this.Kb.touch(),this._callSuperMethod(l,this.ti,[t,i,e,n]),!0):u},ea:function(){if(this.Kb.dismiss(),this.Kb.og()||!this.Kb.fn()){d.logDebug(h.resolve(162));try{this.Kb.Fv(this.Pn)}catch(t){}}},yd:function(){return p}},e(l,i),l}),define("lscz","LoggerManager lscAN lscAE lscAM lscAL lscAC lscAF lscAB lscAA lscAK lscAe".split(" "),function(t,i,e,s,n,o,r,h,u,a,l){function c(t,i,e){this.$m=t,this.Vu=i,this.Bp=e,this.bk=-1}function f(){return!1}var d=t.getLoggerProxy(l.cb);c.KC=function(){a.sa=f},c.LC=function(){i.sa=f,e.sa=f,s.sa=f,n.sa=f},c.JC=function(){h.sa=f,o.sa=f},c.$o=[],l=[i,e,s,o];for(var g=0;g<l.length;g++)l[g].Bf()&&c.$o.push(l[g]);c.Qt=[i,e,n,r,h],c.wg=[i,e,n,r,o],c.dy=function(t){return t.V===o},c.XC=function(t){return t.V.prototype.$c!=u.prototype.$c},c.xf=function(i,e,s,n,o,r,h){if(d.isDebugLogEnabled()&&d.logDebug(t.resolve(163),e.name||e.toString().match(p)[1]),!e.sa(i))return d.logDebug(t.resolve(164)),!1;if(s&&!e.ua())return d.logDebug(t.resolve(165)),!1;if(n&&!e.hc())return d.logDebug(t.resolve(166)),!1;if(o&&!e.ta())return d.logDebug(t.resolve(167)),!1;if(r&&!e.lc())return d.logDebug(t.resolve(168)),!1;if(i=h){t:{for(i=0;i<h.length;i++)if(h[i]==e){h=!0;break t}h=!1}i=!h}return i?(d.logDebug(t.resolve(169)),!1):(d.isDebugLogEnabled()&&d.logDebug(t.resolve(170),e.name||e.toString().match(p)[1]),!0)},c.prototype={Gm:function(){return this.bk<this.$m.length-1},br:function(s,n,o,r,h){for(d.isDebugLogEnabled()&&d.logDebug(t.resolve(171),"serverToUse",s,"isCrossSite",n,"areCookiesRequired",o,"isCrossProtocol",r,"hasExtraHeaders",h);this.Gm();){this.bk++;var u=this.$m[this.bk];if(!((this.Bp||this.Vu)&&u===e||this.Bp&&u===i)&&this.xf(s,u,n,o,r,h))return u}return null},xf:function(t,i,e,s,n,o){return c.xf(t,i,e,s,n,o,this.$m)},Hc:function(){d.logDebug(t.resolve(172)),this.bk=-1}};var p=/^function\s?([^\s(]*)/;return c}),define("lscAD",["lscAC","BrowserDetection","IFrameHandler","Executor"],function(t,i,e,s){function n(){this.Nj=!1}return n.prototype={bA:function(i){(this.Nj=i===t)&&e.getFrameWindow("LS6__HOURGLASS",!0)},KB:function(){s.addTimedTask(this.LB,900,this)},LB:function(){if(this.Nj&&(this.Nj=!1,!i.isProbablyAKhtml()&&!i.isProbablyIE(6,!0)&&!i.isProbablyIE(9,!1)))try{window.open("about:blank","LS6__HOURGLASS",null,!0)}catch(t){}}},n}),define("lsct","lscAe Inheritance lscr lscz lscAD lscAH lscAj lscq Executor LoggerManager BrowserDetection EnvironmentStatus lscAE lscAN".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c,f,d){function g(t,i,e,s,n,o,r){this._callSuperConstructor(g,arguments),this.Xe=this.Mj=this.nc=this.la=this.eq=null,this.fg(o)}function p(t){t&&t!=y||(y++,b=1)}var v={Tg:"createSession",de:"bindSession",mg:"shutdown",Kg:"bindSent",ja:"onEvent",ia:"onErrorEvent"},b=(v=r.getReverse(v),1),y=1,m=a.getLoggerProxy(t.gc);return a.getLoggerProxy(t.Se),g.prototype={fg:function(t){t=t||!this.b.Li,this.eq=new s(s.wg,!1,t),this.nc=this.R?new s(s.wg,!1,t):new s(s.$o,!this.b.Io,t),this.la=null},Lq:function(){return this.R?t.ec:t.Xd},Pq:function(){return this.R?t.ec:t.xg},toString:function(){return["[|SessionHTTP","oid="+this.aa,this.R,this.le,this.a,this.wa,this.Ea,this.sg,this.sessionId,this.Jb,this.Cc,this.hd,"]"].join("|")},Tg:function(t,i){return!!this._callSuperMethod(g,v.createSession,[t,i])&&(this.Wl(this.wa,i,t),!0)},Wl:function(t,i,e){if(t==this.wa){if(this.g.kq(),r.vr()){if(0>=b)return m.logDebug(a.resolve(175)),void u.addTimedTask(this.Wl,3e3,this,[t,e,"offline"]);0==--b&&u.addTimedTask(p,2e4,null,[y])}null!==(t=this.km(e,this.Wl,i,!1))&&(t?this.Mi():!1===t&&(m.logWarn(a.resolve(174)),this.ia("no_impl_available",!0,!1,!1,!0)))}},de:function(t){return!!this._callSuperMethod(g,v.bindSession,[t])&&(this.Xe&&this.Xe.ea(),this.fw(),this.Ci(this.wa,t),!0)},fw:function(){if(!c.isLoaded()&&(null===this.b.Ak&&(l.isProbablyAndroidBrowser()||l.isProbablyApple())||!0===this.b.Ak)){var t=this.$e,i=this;c.addOnloadHandler(function(){u.addTimedTask(function(){t==i.$e&&i.a==e.au&&i.ej("spinfix")},i.b.ho)})}},Ci:function(t,i){if(t==this.wa){this.Mj||this.R||(this.Mj=new n);var e=this.km(null,this.Ci,i,!1);null!==e&&(e?this.Kg():!1!==e||this.R||this.Xb(this.I,"streaming.unavailable"))}},Hh:function(){this.ph();var t=this.km(null,this.Hh,"network.error",!0);null!==t&&(t?this.Mi():!1===t&&(m.logError(a.resolve(173)),this.ia("no_impl_available",!0,!1,!1,!0)))},mg:function(t){this._callSuperMethod(g,v.shutdown,[t]),this.Xe&&this.Xe.ea()},ij:function(i,s,n,r){var u=this.a==e.Zk||this.a==e.Yk,a=new o(this.Wa()+t.Uk);a.Rh(this.b.Tb()),a.Th(this.b.ah(u));var l=!a.ta()&&!a.ua();return i=r?h.hx(this.Ea,this.sessionId,this.b,s,this.Ab.kj(),l,this.Jb):h.ex(this.Ea,this.sessionId,this.b,this.Ua,u,this.R,i,s,this.Ab.kj(),n,l),a.setData(i),a},km:function(t,i,n,r){var l=this.a==e.Zk||this.a==e.Yk,c=!l,d=this.ij(t,n,!0,r),g=this.Wa();this.W.kl(null),this.la&&this.la.V==f&&(this.la=null);var p=l?this.eq:this.nc;this.la&&!p.xf(g,this.la.V,d.ua(),this.b.Tb(),d.ta(),this.b.mh(l))&&(p.Hc(),this.la=null);for(var v=!1,b=(this.R?"LS6__POLLFRAME":"LS6__PUSHFRAME")+"_"+this.Ca;(this.la||p.Gm())&&!1===v;){if(!this.la){if(!(v=p.br(g,d.ua(),this.b.Tb(),d.ta(),this.b.mh(l))))return p.Hc(),!1;this.la=new v(b)}if(d.uk(s.dy(this.la)&&c?o.fu:o.ri),r?d.Je(h.ix(this.la.yd().rf())):d.Je(h.er(l,this.R,this.la.yd().rf())),null===(v=this.la.qk(d,this.Ea,this.wl,this.vl,this.ul,this.Ca)))return m.logDebug(a.resolve(177)),u.addTimedTask(i,50,this,[this.wa,n,t]),null;!1===v?this.la=null:(m.logDebug(a.resolve(178)),p.Hc(),this.Xe=this.la)}return v},Kg:function(){this._callSuperMethod(g,v.bindSent),this.en()&&this.Mj.bA(this.Xe.V)},en:function(){return!this.R},ia:function(t,i,e,s,n,o){!s||this.la.V!=d&&this.la.V!=f||this.g.oz(this.I),this._callSuperMethod(g,v.onErrorEvent,arguments)},ja:function(){this.a==e.So&&p(),!this.en()||this.a!=e.Pt&&this.a!=e.So||this.Mj.KB(),this._callSuperMethod(g,v.onEvent)},sm:function(t,i,e,s,n){this.W.Jc(t,i,e,s,n)}},i(g,e),g}),define("lscu","lscAe lscr lsct Inheritance lscAK lscz lscq Executor LoggerManager ASSERT lscAH lscAj".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c){function f(t,i,e,s,n,o,r){this._callSuperConstructor(f,arguments),this.U=null,this.cc=1,this.Zf=null,this.mf=!1}var d={Mi:"createSent",Ae:"onTimeout",jn:"onLoop",rn:"onStreamError",qn:"onStreamEnd",ia:"onErrorEvent",mg:"shutdown",Xb:"onSessionGivesUp",Vf:"onSessionBound"},g=(d=c.getReverse(d),u.getLoggerProxy(t.gc));return f.prototype={toString:function(){return["[|SessionWS","oid="+this.aa,this.R,this.le,this.a,this.wa,this.Ea,this.cc,this.sg,this.sessionId,this.Jb,this.U,this.Cc,this.hd,"]"].join("|")},ge:function(t){this.cc=t},Lq:function(){return this.R?t.Zd:t.Bg},Pq:function(){return t.xg},vn:function(){a.verifyValue(this.cc,1)||g.logError(u.resolve(179)),this.Zf=this.Ea,this.U=new n(this);var i=this.Wa(),e=new l(i+t.Uk);return e.Rh(this.b.Tb()),e.Th(this.b.ah(!1)),o.xf(i,n,e.ua(),this.b.Tb(),e.ta(),this.b.mh(!1))&&(g.logDebug(u.resolve(186)),this.U.Qz(e,this.Zf,this.wl,this.vl,this.ul))?(this.W.kl(this.U),this.ge(2),!0):(this.ge(5),!1)},Mi:function(){this._callSuperMethod(f,d.createSent),this.b.dm&&!this.mf&&this.vn()},Ci:function(t,i){if(t==this.wa)if(this.mf=!1,1==this.cc?this.vn():2!=this.cc||this.U.Yx(this.Wa())||(g.logWarn(u.resolve(184)),this.U.ea(),this.ge(1),this.vn()),6==this.cc)this.Xb(this.I,"ws.early.closed");else if(5==this.cc)this.Xb(this.I,"ws.notgood");else if(3==this.cc)n.Qi(this.Wa()),this.Xb(this.I,"ws.early.openfail");else{var e=this.ij(null,i,!1,!1),s=!1;e.Je(r.er(!1,this.R,this.U.yd().rf()));var o=!1;2==this.cc?(s=this.U.qk(e,this.Ea,this.wl,this.vl,this.ul,this.Ca),o=!0):4==this.cc?s=this.U.Dg(e,this.Ea):(a.fail(),g.logError(u.resolve(180),this)),null===s?(g.logDebug(u.resolve(187)),h.addTimedTask(this.Ci,50,this,[t,i])):!1===s?(g.logWarn(u.resolve(185)),this.Xb(this.I,"ws.false")):o||(g.logDebug(u.resolve(188)),this.Kg())}},ew:function(t){this.Zf==t&&(g.logDebug(u.resolve(189)),this.Kg(),this.ge(4))},Ae:function(t,e,s,n,o){e==this.wa&&(this.a==i.Ud&&(this.mf=!0),this._callSuperMethod(f,d.onTimeout,[t,e,s,n,o]))},jn:function(t){this._callSuperMethod(f,d.onLoop,[t]),this.U&&this.U.Et(this.Ea)},rn:function(t,e,s,n,o){s?e==this.Zf&&this._callSuperMethod(f,d.onStreamError,[t,this.Ea,s,n,o]):(this.a==i.Ud&&(this.mf=!0),this._callSuperMethod(f,d.onStreamError,arguments))},qn:function(t,e){e?t==this.Zf&&(this.a==i.Xt||this.a==i.Ud||this.a==i.Ro?this.ia("ws.early.end",!1,!0):(a.verifyDiffValue(this.a,i.To)||g.logError(u.resolve(181),this),this._callSuperMethod(f,d.onStreamEnd,[this.Ea,e]))):(this.a==i.Ud&&(this.mf=!0),this._callSuperMethod(f,d.onStreamEnd,arguments))},ia:function(t,e,s,o,r,h){s?(a.verifyDiffValue(this.cc,1)||g.logError(u.resolve(182),this),o?this.ge(3):this.ge(6),this.a==i.Xt||this.a==i.Ud||this.a==i.Ro?g.logDebug(u.resolve(190),this):this.a==i.To?(g.logDebug(u.resolve(191),this),o&&n.Qi(this.Wa()),this.Xb(this.I,"ws.error."+t)):this.R&&this.a==i.Yt?(a.verifyNotOk(o)||g.logError(u.resolve(183),this),g.logDebug(u.resolve(192),this),this.Ia(t,e,!1),this.Ae("zeroDelay",this.wa,0,"ws.broken.wait")):this._callSuperMethod(f,d.onErrorEvent,arguments)):(this.a==i.Ud&&(this.mf=!0),this._callSuperMethod(f,d.onErrorEvent,arguments))},mg:function(t){this._callSuperMethod(f,d.shutdown,[t]),this.U&&(this.Zf=null,this.U.ea(),this.U=null,this.W.kl(null)),this.ge(1)},en:function(){return!1},Xb:function(t,i){n.Qi(this.Wa()),this._callSuperMethod(f,d.onSessionGivesUp,[t,i])},Vf:function(){this._callSuperMethod(f,d.onSessionBound),this.U.TA(this.sessionId)},sm:function(t,i,e,s,n){this.W.Ju(t,i,e,s,n)}},s(f,e),f}),define("lscv",["LoggerManager","Global","Helpers","ASSERT","lscAe"],function(t,i,e,s,n){function o(t){this.gk=0,this.Ma=null,this.oh=!1,this.b=t,this.c=null}var r=t.getLoggerProxy(n.Se),h=t.getLoggerProxy(n.gc);return o.prototype={toString:function(){return["[","lscv",this.Ma,this.gk,.5,7e3,"]"].join("|")},fy:function(t){return null!=this.Ma&&this.Ma>t},fe:function(t){this.c=t},kj:function(){return null!=this.Ma&&0<this.Ma?Math.round(this.Ma):null},Rs:function(){this.Ma=null,this.oh=!1},dA:function(){this.oh=!1},YB:function(t){this.zt(t)},TB:function(i){s.verifyOk(this.c.xr())||r.logError(t.resolve(193)),this.c.qy()&&(this.zt(1e3*i)?this.b.fo&&this.c.Iz():this.c.Oz())},HB:function(t){t||this.Rs(),this.gk=e.getTimeStamp()},zt:function(i){var s=e.getTimeStamp();return!this.gk||(i=s-this.gk-i,null==this.Ma?(this.Ma=i,h.logDebug(t.resolve(196)),!1):2e4<i&&i>2*this.Ma&&(this.oh=!this.oh)?(h.logInfo(t.resolve(194)),7e3<this.Ma):(this.Ma=.5*this.Ma+.5*i,60>this.Ma?(this.Ma=0,h.logDebug(t.resolve(197)),!1):this.fy(7e3)?(h.logInfo(t.resolve(195)),!0):(h.logDebug(t.resolve(198)),!1)))}},o}),define("lscH",["LoggerManager","lscG","ASSERT","lscAe"],function(t,i,e,s){function n(t){this.oa=[],this.keys={},this.Ze=t,this.Oy=0}var o=t.getLoggerProxy(s.Zo);return n.prototype={toString:function(){return["[|ControlRequestBatch",this.Ze,this.oa.length,"]"].join("|")},il:function(e,s){this.keys[e]=s,this.oa.push(e),function(){if(this.Ze==i.nd){var e=s.LS_sequence,n=s.LS_msg_prog;if(null!=e&&null!=n)for(var r=0,h=this.oa.length-1;r<h;r++){var u=this.oa[r],a=u.LS_msg_prog;e==u.LS_sequence&&n==a&&(o.isDebugLogEnabled()&&o.logErrorExc(Error("backtrace"),"Duplicated message","seq=",e,"prog=",n,"ptr=",s===u),o.logError(t.resolve(199),"seq=",e,"prog=",n))}}}()},Ku:function(t,i){this.keys[t]?this.keys[t]=i:this.il(t,i)},Ye:function(s,n){var r,h=s.Fg;if(h==i.nd||h==i.md||h==i.Wd)return this.Ze!=h?(e.fail(),o.logError(t.resolve(200),this),!1):(h==i.Wd?this.Ku("H",s):this.il(this.Oy++,s),!0);if(this.Ze!=i.hi)return e.fail(),o.logError(t.resolve(201),this),!1;switch(h){case i.Rk:r="C";break;case i.Tk:r="F";break;case i.Po:r="X"+s.getKey();break;default:r=s.getKey()}var u=this.keys[r];if(o.logDebug(t.resolve(205),this,r,s),u){if(h==i.Rk||h==i.Tk)return void(n||(o.logDebug(t.resolve(206)),this.oo(r,s)));if(h==i.Xk)return void(u.Ge?(o.logDebug(t.resolve(207)),n||this.oo(r,s)):u.Fg==i.Xk?o.logDebug(t.resolve(208)):(o.logDebug(t.resolve(209)),e.verifyNotOk(n)||o.logError(t.resolve(202),this),n||this.nA(r)));if(h!=i.Vd)return void(n||(o.logDebug(t.resolve(212)),this.oo(r,s)));for(;u&&s.Ge!=u.Ge;)o.logDebug(t.resolve(210)),r+="_",u=this.keys[r];if(u)return void o.logDebug(t.resolve(211))}o.logDebug(t.resolve(213)),this.il(r,s)},getLength:function(){return this.oa.length},oo:function(t,i){this.keys[t]=i},Kn:function(i){if(this.oa.length<=i)return o.logError(t.resolve(203)),null;var e=this.oa[i];return this.oa.splice(i,1),i=this.keys[e],delete this.keys[e],i},nA:function(i){if(!this.keys[i])return o.logError(t.resolve(204)),null;for(var e=0;e<this.oa.length;e++)if(this.oa[e]==i)return this.Kn(e)},shift:function(){return this.Kn(0)},pop:function(){return this.Kn(this.oa.length-1)},Ff:function(){return this.Dm(this.oa.length-1)},dh:function(){return this.Dm(0)},Dm:function(t){return 0>=this.oa.length?null:this.keys[this.oa[t]]},pf:function(){return this.Ze}},n}),define("lscF","lscG lscH LoggerManager lscAH Executor lscz lscAe ASSERT".split(" "),function(t,i,e,s,n,o,r,h){function u(){this.a=this.request=this.Qc=this.Aa=null}function a(t,i,e,s){this.Hm=this.Pi=this.Fj=this.Vl=this.bn=this.Ja=this.nc=null,this.Jh=this.Ad=this.Ib=0,this.a=this.status=this.N=1,this.fi=0,this.s=null,this.bw=!1,this.Gc=t,this.b=i,this.jm=e,this.U=null,this.fg(s),this.Hc()}var l=e.getLoggerProxy(r.Zo),c={1:"IDLE",2:"STAND BY",3:"WAITING RESP"};return a.prototype={toString:function(){return["[|ControlConnectionHandler",c[this.status],this.s,this.Jh,this.Ib,"]"].join("|")},iB:function(t){this.Jh=t,l.logDebug(e.resolve(236),this)},GB:function(t,i){i?(this.Ad=this.Ib=t,l.logInfo(e.resolve(222),this)):0==this.Ad||t<this.Ad?(this.Ib=t,l.logInfo(e.resolve(223),this)):(this.Ib=this.Ad,l.logInfo(e.resolve(224),this)),1==this.status&&this.bt(this.N)},bt:function(i){1==this.status&&this.N==i&&0!=this.Ib&&(l.logDebug(e.resolve(237),this),this.Jc(null,"",t.Wd))},NB:function(t){t?(l.logInfo(e.resolve(225),this),this.Ad=this.Ib=0):0==this.Ad?(l.logInfo(e.resolve(226),this),this.Ib=0):(l.logInfo(e.resolve(227),this),this.Ib=this.Ad)},fg:function(t){this.nc=new o(o.Qt,!1,!this.b.Li||t),this.Ja=null},ea:function(){l.logDebug(e.resolve(238)),this.Ja&&this.Ja.ea()},fa:function(t){this.N++,1==t&&0<this.Ib&&n.addTimedTask(this.bt,this.Ib,this,[this.N]),l.isDebugLogEnabled()&&l.logDebug(e.resolve(239)+c[this.status]+" -> "+c[t]),this.status=t},Hc:function(){l.logDebug(e.resolve(240),this),this.Jh=0,this.bn=new i(t.nd),this.Vl=new i(t.hi),this.Hm=new i(t.Wd),this.U=null,this.Ad=this.Ib=0,this.Fj||(this.Fj=new i(t.md)),this.Pi||(this.Pi=new i(t.hi)),this.ik=[this.bn,this.Vl,this.Fj,this.Pi,this.Hm],this.a++;var s=this.s?this.s.pf():null;null!==s&&s!==t.Vd&&s!==t.md?(h.verifyDiffValue(this.status,1)||l.logError(e.resolve(214)),this.ea(),this.s=null,this.fa(1,"_reset"),this.Pc(!1,"reset1")):null===s&&(h.verifyValue(this.status,1)||l.logError(e.resolve(215)),h.verifyValue(this.s,null)||l.logError(e.resolve(216)),this.Pc(!1,"reset2"))},kl:function(t){t?l.logDebug(e.resolve(241),this):this.U&&l.logDebug(e.resolve(242),this),this.U=t},Jc:function(t,i,e,s,o){n.addTimedTask(this.sp,0,this,[this.a,t,i,e,s,o])},Ju:function(t,i,e,s,n){this.sp(this.a,t,i,e,s,n)},fv:function(i,e){return e==t.Vd||e==t.md||this.a===i},up:function(i,e){i==t.nd?this.bn.Ye(e):i==t.md?this.Fj.Ye(e):i==t.Vd?this.Pi.Ye(e):i==t.Wd?this.Hm.Ye(e):this.Vl.Ye(e)},sp:function(i,s,n,o,r,h){this.fv(i,o)&&(l.logInfo(e.resolve(228),this,n),i=new t(n,r,o,s,h),this.up(o,i),1==this.status?this.Pc(!0,"add"):l.logDebug(e.resolve(243),this))},Pc:function(t,i){!0===t?(l.logDebug(e.resolve(244),t,this),this.iq(this.N,i)):n.addTimedTask(this.iq,!1===t?0:t,this,[this.N,"async."+i])},iq:function(t,i){if(t==this.N){for(var s=0;1>s;){s++,this.fa(2,"dequeueControlRequests"),l.logDebug(e.resolve(245),i,this);var n=null;if(null!=this.s?(l.logDebug(e.resolve(246)),n=this.$s(this.s)):(l.logDebug(e.resolve(247)),n=this.wA()),1==n)l.logInfo(e.resolve(229)),this.s=null;else{if(2==n)return l.logInfo(e.resolve(230)),void this.Pc(200,"later");if(3==n)return l.logWarn(e.resolve(219)),this.s&&this.s.hn(!0),this.s=null,void this.Pc(!1,"no");if(4==n)return l.logInfo(e.resolve(231)),this.fa(3,"dequeueControlRequests"),this.s&&this.s.hn(),void this.Pc(4e3,"http");if(5!=n)return l.logInfo(e.resolve(233)),this.ea(),void this.fa(1,"dequeueControlRequests");l.logInfo(e.resolve(232)),this.fa(3,"dequeueControlRequests"),this.s&&this.s.hn(),this.s=null,this.fa(1,"dequeueControlRequests")}}this.Pc(!1,"limit")}},wA:function(){for(var t=0;t<this.ik.length;){if(this.fi=this.fi<this.ik.length-1?this.fi+1:0,0<this.ik[this.fi].getLength())return this.$s(this.ik[this.fi]);t++}return null},$s:function(i){if(i.Ze==t.nd)for(var o=0,u=i.oa.length;o<u;o++){var a=i.oa[o],c=a.LS_sequence,f=a.LS_msg_prog;if(null!=c&&null!=f)for(var d=o+1,g=i.oa.length;d<g;d++){var p=i.oa[d],v=p.LS_msg_prog;c==p.LS_sequence&&f==v&&(l.isDebugLogEnabled()&&l.logErrorExc(Error("backtrace"),"Duplicated message","seq=",c,"prog=",f,"ptr=",a===p),l.logError(e.resolve(217),"seq=",c,"prog=",f))}}if(o=this.Gc.Wa(),u=this.b.Tb(),a=this.b.ah(!1),(c=i.dh())?((c=new s((c.Ge&&!0!==c.Ge?c.Ge:o)+r.Uk)).Rh(u),c.Th(a),u=c):u=null,null==u)return l.logDebug(e.resolve(248)),1;if(l.logDebug(e.resolve(249)),a=!1,this.U){if(l.logDebug(e.resolve(250)),null==(a=this.fq(i,this.U)))return l.logDebug(e.resolve(251)),1;if(u.Je(a.getFile()),u.setData(a.getData()),!1!==(a=this.U.Dg(u)))return null===a?2:5;this.U=null}for(this.Ja&&!this.nc.xf(o,this.Ja.V,u.ua(),this.b.Tb(),u.ta(),this.b.mh(!1))&&(this.nc.Hc(),this.Ja=null);this.Ja||this.nc.Gm();){if(!this.Ja){if(!(a=this.nc.br(o,u.ua(),this.b.Tb(),u.ta(),this.b.mh(!1))))return l.logWarn(e.resolve(220),this.Ja),this.nc.Hc(),3;this.Ja=new a("LS6__CONTROLFRAME"),l.logDebug(e.resolve(252),this.Ja)}if(null==(a=this.fq(i,this.Ja)))return l.logDebug(e.resolve(253)),1;if(u.Je(a.getFile()),u.setData(a.getData()),u.uk(a.We),this.s.fB(this.N),this.Ja.ea(),this.bw&&(u.rb=u.rb.replace(/LS_session=.*&/g,"LS_session=FAKE&")),!1!==(a=this.Ja.pa(u,this.s.a,n.packTask(this.Dz,this),n.packTask(this.ia,this))))return null===a?(l.logDebug(e.resolve(255)),2):(this.nc.Hc(),4);l.logDebug(e.resolve(254)),this.Ja=null}return!1!==a&&(h.fail(),l.logError(e.resolve(218))),3},fq:function(t,i){var e=i.yd();if(null==this.s)this.s=new u,this.s.it(e),this.s.fill(t,this.Jh,this.Gc.Qb(),this.b.Tb(),this.b.ah(!1));else if(this.s.Vy(e)&&(this.s.it(e),e=this.s.hA(this.Jh,this.Gc.Qb(),this.b.Tb(),this.b.ah(!1))))for(var s=e.pf();0<e.getLength();)this.up(s,e.shift());return this.s.isEmpty()?this.s=null:this.s.request},Dz:function(i,s){if(this.s&&s==this.s.a){l.logInfo(e.resolve(234),s),this.fa(1,"onReadyForNextRequest");var n=this.s.dh().Fg;this.s=null,n==t.Vd||this.Zx(i)?this.Pc(!1,"ready4next"):this.Gc.UB()}},Zx:function(t){return""===t||null===t.match(/^window.LS_lastError\[\d+] = "sync error";$/m)},ia:function(t,i){this.s&&i==this.s.a&&(l.logInfo(e.resolve(235),this,t),this.fa(1,"onErrorEvent"),this.s=null,this.Pc(!1,"error"))}},u.prototype={toString:function(){return this.Aa?this.Aa.toString():null},pf:function(){return this.Aa?this.Aa.pf():null},dh:function(){return this.Aa?this.Aa.dh():null},getLength:function(){return this.Aa?this.Aa.getLength():0},shift:function(){return this.Aa?this.Aa.shift():null},Vy:function(t){return t!=this.Qc},it:function(t){this.Qc=t},fill:function(t,s,n,o,r){if(!(0>=t.getLength()))if(this.Aa=new i(t.pf()),this.request=this.Qc.Qx(t,o,r),o="",null===(r=this.Qc.encode(t,n,!0)))this.request=this.Aa=null;else{var h=this.Qc.xm(this.request.getFile()),u=this.Qc.Am(r)+r.length;0<s&&u+h>s&&l.logWarn(e.resolve(221),o);do{o+=r,this.Aa.Ye(t.shift()),h+=u,0<t.getLength()&&(r=this.Qc.encode(t,n))&&(u=this.Qc.Am(r)+r.length)}while(r&&(0==s||h+u<s)&&0<t.getLength());this.request.setData(this.Qc.Ho(o))}},hA:function(t,i,e,s){var n=this.Aa;return this.Aa=null,this.fill(n,t,i,e,s),0<n.getLength()?n:null},fB:function(t){this.a=t},isEmpty:function(){return 0>=this.getLength()},hn:function(t){for(var i=0,e=null;e=this.Aa.Dm(i);)(e=e.jj())&&n.addTimedTask(e.$c,0,e,[t]),i++}},a}),define("lscJ",["Inheritance","lscN","lscAj"],function(t,i){function e(t,i,s,n,o,r,h){this._callSuperConstructor(e,[i]),this.Un=n,this.ad=o,this.nk=r,this.a=s,this.Gc=t,this.mC=h}var s,n;for(n in{$c:!0})s=n;return e.prototype={$c:function(t){this._callSuperMethod(e,s,[t]),t||(this.Gc.DA(this.nk,this.ad),this.mC||this.Gc.$y(this.nk,this.ad))},verifySuccess:function(){return!this.Gc.ev(this.a)||!this.Un.J[this.ad]||null==this.Un.J[this.ad].Fh},gf:function(){this.Gc.tA(this.ad,this)},uh:function(){}},t(e,i),e}),define("lscK",["lscJ","lscG","LoggerManager","lscAe"],function(t,i,e,s){function n(t,i,e){this.active=!1,this.Jj=0,this.Jd={},this.Pe={},this.Ct=0,this.W=t,this.da=i,this.cf=e}var o=e.getLoggerProxy(s.Wt);return n.prototype={ea:function(){this.active=!1,this.Jd={},this.Ct=0,this.Pe={},this.Jj++,o.logDebug(e.resolve(262))},fl:function(){if(o.logDebug(e.resolve(263)),!this.active){for(var i in this.Jd){var s,n=this.Jd[i];for(s in n.J){var r=n.J[s].Fh;if(null!=r){var h=new t(this,this.cf,this.Jj,n,s);this.Tn(s,r,h)}}}this.active=!0}},Dg:function(i,n,r,h){o.logDebug(e.resolve(264));var u=this.Jd[n];null==u&&(u={Kf:0,J:{}},this.Jd[n]=u),u.Kf++,i={LS_message:i};var a=!1;r&&(i.LS_outcome="",a=!0),n!=s.Fc&&(i.LS_sequence=encodeURIComponent(n),a=!0,h&&(i.LS_max_wait=h)),a&&(i.LS_ack="",i.LS_msg_prog=n==s.Fc?this.Hy(u.Kf):u.Kf),(h={}).Fh=i,h.listener=r,u.J[u.Kf]=h,this.active&&(o.logInfo(e.resolve(256),i),n=new t(this,this.cf,this.Jj,u,u.Kf,n,a),this.Tn(u.Kf,i,n))},Hy:function(t){var i=++this.Ct;return this.Pe[i]=t,i},Kh:function(t){return this.Pe[t]?this.Pe[t]:t},kA:function(t){for(var i in this.Pe)if(this.Pe[i]==t){delete this.Pe[i];break}},ev:function(t){return t==this.Jj},tA:function(t,i){var s=i.Un.J[t].Fh;o.logDebug(e.resolve(265),s),this.Tn(t,s,i)},Tn:function(t,e,s){this.W.Jc(t,e,i.nd,s)},Cu:function(t,i){i=t==s.Fc?this.Kh(i):i,o.logInfo(e.resolve(257),t,i);var n=this.Jd[t];n.J[i]&&(null!=n.J[i].Fh&&(o.logDebug(e.resolve(266)),n.J[i].Fh=null),null==n.J[i].listener&&(o.logDebug(e.resolve(267)),this.Ve(t,i)))},$y:function(t,i){o.logDebug(e.resolve(268),t,i),this.Ve(t,i)},Ve:function(t,i){o.logDebug(e.resolve(269));var n=this.Jd[t];n&&n.J[i]&&(delete n.J[i],t==s.Fc&&this.kA(i))},vb:function(t,i){var e=this.Jd[t];return e&&e.J[i]&&e.J[i].listener?e.J[i].listener:null},DA:function(t,i){o.logDebug(e.resolve(270),t,i);var s=this.vb(t,i);if(s){var n=this.da.tf(s.Fd);n&&n.hs(s.Eh)}},iu:function(t,i){i=t==s.Fc?this.Kh(i):i,o.logInfo(e.resolve(258),t,i);var n=this.vb(t,i);if(n){var r=this.da.tf(n.Fd);r&&r.fs(n.Eh)}this.Ve(t,i)},bz:function(t,i){i=t==s.Fc?this.Kh(i):i,o.logInfo(e.resolve(259),t,i);var n=this.vb(t,i);if(n){var r=this.da.tf(n.Fd);r&&r.ye(n.Eh)}this.Ve(t,i)},az:function(t,i,n,r){r=t==s.Fc?this.Kh(r):r,o.logInfo(e.resolve(260),t,r);var h=this.vb(t,r);if(h){var u=this.da.tf(h.Fd);u&&u.gs(h.Eh,i,n)}this.Ve(t,r)},dz:function(t,i,n,r){r=t==s.Fc?this.Kh(r):r,o.logInfo(e.resolve(261),t,r);var h=this.vb(t,r);if(h){var u=this.da.tf(h.Fd);u&&u.Tf(h.Eh,i,n)}this.Ve(t,r)}},n}),define("lscj",["LoggerManager","Executor","Global","ASSERT","lscAe"],function(d,f,b,a,c){function g(t){this.jm=t,this.ub=[],this.kr=!1,this.lsc={},this.lsc.LS_window=b["_"+t],this.lsc.window=this.lsc.LS_window,this.Ev=this.mw(this.lsc)}var e=d.getLoggerProxy(c.cb);return g.prototype={toString:function(){return"[EvalQueue|"+this.ub.length+"]"},mw:function(){return eval("var lsc = arguments[0]"),function(a){with(lsc)eval(a)}},gp:function(t,i){this.og()&&(this.ub.push({p:t,d:i}),e.isDebugLogEnabled()&&e.logDebug(d.resolve(272)),f.addTimedTask(this.Oi,0,this))},fe:function(t){this.c=t},Oi:function(){for(e.isDebugLogEnabled()&&e.logDebug(d.resolve(273),this.ub.length);0<this.ub.length;){var t=this.ub.shift();if(this.c&&this.c.Nc(t.p))try{this.Ev(t.d)}catch(i){this.kr=!0,this.ub=[],a.fail(),console.log(i),e.logError(d.resolve(271),i,t.d),this.c.sq()}else e.isDebugLogEnabled()&&e.logDebug(d.resolve(274),t.p,this.c)}},og:function(){return!this.kr},G:function(){}},g}),define("lsci",[],function(){function d(t){this.lsc={},this.lsc.LS_window=t,this.ready=!1}return d.prototype={Da:function(){return this.ready},Ew:function(){return this.lsc},Vv:function(d){with(eval("var lsc = this.lsc"),lsc)eval(d);this.ready=!0}},d}),define("lscw","LoggerManager Executor lscAg Inheritance Global lsci lscAe".split(" "),function(t,i,e,s,n,o,r){function h(t,e){this.jm=t,this._callSuperConstructor(h,[i.packTask(this.cs,this)]),this.ub=[],this.Ui=e||new o(n["_"+t])}var u=t.getLoggerProxy(r.cb),a=0;return h.prototype={toString:function(){return"[WrappedEvalQueue|"+this.ub.length+"]"},gp:function(e,s){this.og()&&(this.ub.push({p:e,d:s}),u.isDebugLogEnabled()&&u.logDebug(t.resolve(276)),i.addTimedTask(this.Oi,0,this))},Hq:function(){this.$i=!0},fe:function(t){this.c=t},Rq:function(){return"<script>window.evalProxy = function(lsc,_p){with(lsc){eval(_p);}};<\/script>"},verify:function(){return!!this.qc.evalProxy},Sq:function(){return"LS6__EQ_"+this.jm+"_"+ ++a},Oi:function(){if(this.ready)for(u.isDebugLogEnabled()&&u.logDebug(t.resolve(277));0<this.ub.length;){var e=this.ub.shift();if(this.c&&this.c.Nc(e.p)){var s,n=null,o=null;if(!this.Ui.Da()&&(-1<(n=e.d.indexOf("// END OF HEADER"))||-1<(o=e.d.indexOf("myEnv.LS_window = LS_window;"))))-1<n?(s=e.d.substring(0,n),n=e.d.substring(n)):(s=e.d.substring(0,o+28),n=e.d.substring(o+28)),e.d=n,this.Ui.Vv(s);try{this.qc.evalProxy(this.Ui.Ew(),e.d)}catch(t){this.cs(e.d,t);break}}}else i.addTimedTask(this.Oi,100,this)},cs:function(i,e){this.$i=!0,this.ub=[],u.logError(t.resolve(275),e,i),this.c&&this.c.sq()}},s(h,e),h}),define("lscs","Executor BrowserDetection ASSERT LoggerManager Helpers lscq lscl lscAK lsct lscu EnvironmentStatus Global lsco lscG lscAe lscv lscF lscK lscj lscw".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c,f,d,g,p,v,b,y,m){function w(t,i){this.aa=x++,I.isDebugLogEnabled()&&I.logDebug(s.resolve(291)+this.aa),this.status=1,this.N=0,this.Il=this.c=null,this.me="",this.va=t,this.da=i,this.b=t.sb,this.Ua=t.Fb,this.Ca=t.ne(),this.Ab=new p(this.b,this.Ca),this.Vz=new f(this.Ca,i),l.addUnloadHandler(this),this.Xv(),this.Yg=null,this.W=new v(this,t.sb,this.Ca,!1),this.Id=new b(this.W,this.da,this.b)}function E(t){switch(t){case 1:return"No session";case 2:return"WS Streaming";case 3:return"prepare WS Streaming";case 4:return"WS Polling";case 5:return"prepare WS Polling";case 6:return"HTTP Streaming";case 7:return"prepare HTTP Streaming";case 8:return"HTTP Polling";case 9:return"prepare HTTP Polling";case 10:return"Shutting down"}}var S={2:7,6:9,4:3,8:3,_2:3,_6:9,_4:3,_8:7},k={2:7,6:9,4:3,8:3,_2:3,_6:9,_4:3,_8:9},A={2:3,6:7,4:5,8:9},D={2:5,6:9,7:9,9:9},L={3:!0,5:!0,7:!0,9:!0},T=s.getLoggerProxy(g.Se),I=s.getLoggerProxy(g.gc),x=1;return w.prototype={Xv:function(){var t=this;c.qa(this.Ca,"LS_forceReload",function(){t.c&&t.c.ia("server.exit",!0)})},fa:function(t){I.isDebugLogEnabled()&&I.logDebug(s.resolve(292),E(this.status),"->",E(t)),this.status=t,this.N++},Ia:function(t,i,e){1!=this.status&&10!=this.status&&this.c&&this.c.Ia(t?"api":i,!1,e)},UB:function(){1!=this.status&&10!=this.status&&this.c&&this.c.Vj("control.syncerror")},Wx:function(){return 1!=this.status&&10!=this.status},Yu:function(t,i,e,s,n){null!=this.c&&this.c.Bd()?this.ff(t,i,e,s,n):(this.status=s?n?9:5:n?7:3,this.c.Cc=!0)},ff:function(t,i,e,s,n,o,h){t&&r.Xc(),this.kq(),t=t?"api":o,this.me=i?"_":"",!h&&this.Wx()?(this.fa(s?n?9:5:n?7:3),this.ko(t),this.c.Ns(this.N,t,e)):(this.Ps(),i=this.c?this.c.Qb():null,t="new."+t,this.Ia(!1,t,!1),this.fa(s?n?8:4:n?6:2),this.Gn(s,e,n),this.c.Tg(i,t))},Gn:function(t,i,e,s,n){var o=null!==this.Yg;e=e?u:a,n&&(o=!1),this.c=new e(t,i,this,this.N,s,o,n),s&&s.mg(),this.Ab.fe(this.c),this.ga&&this.ga.fe(this.c),this.Vz.fe(this.c)},de:function(t,i,e,s){this.fa(i?e?8:4:e?6:2),this.Gn(i,t,e,this.c),this.c.de(s)},Hh:function(t,i,e){I.logDebug(s.resolve(293),i),t!=this.N?I.logDebug(s.resolve(294)):(t=3!=(i=A[this.status]||this.status)&&7!=i,i=3!=i&&5!=i,this.fa(t?i?8:4:i?6:2),this.Gn(t,e,i,this.c,!0),this.c.Hh())},eo:function(){return"_"==this.me&&A[this.status]==k[this.me+this.status]},Xb:function(t,n,o){t==this.N&&(o?(I.logInfo(s.resolve(283)),this.fa(1)):(7==(t=k[this.status]||this.status)&&i.wr()&&(t=9),I.logInfo(s.resolve(284),E(this.status),E(t)),1==t||10==t?(e.fail(),I.logError(s.resolve(278))):(this.fa(t),this.ko(n),this.c.Ns(this.N,n,!1))))},Jz:function(t){t==this.N&&(t=D[this.status],I.logInfo(s.resolve(285),E(this.status),E(t)),t?(this.fa(t),this.ko("slow"),this.c.sA(this.N)):(e.fail(),I.logError(s.resolve(279),E(this.status),this.c)))},ef:function(t,i,n){t==this.N&&(t=S[this.me+this.status]||this.status,I.logInfo(s.resolve(286),E(this.status),E(t)),1==t||10==t?(e.fail(),I.logError(s.resolve(280))):this.ff(!1,"_"==this.me,n,3!=t&&7!=t,3!=t&&5!=t,i,!0))},so:function(t,i,n){t==this.N&&(t=this.status,I.logInfo(s.resolve(287),E(this.status)),L[t]?this.de(n,3!=t&&7!=t,3!=t&&5!=t,i):(e.fail(),I.logError(s.resolve(281))))},vt:function(t){I.logInfo(s.resolve(288)),this.so(t,"slow",!1)},SB:function(t,i){if(t==this.N){var n=this.status;I.logInfo(s.resolve(289),E(this.status)),L[n]?this.ff(!1,"_"==this.me,!1,3!=n&&7!=n,3!=n&&5!=n,"switch.timeout."+i,!0):(e.fail(),I.logError(s.resolve(282)))}},ko:function(i){t.addTimedTask(this.SB,this.b.ro+(this.Ab.kj()||0),this,[this.N,i])},Ps:function(){this.W.Hc(),this.Id.ea()},Tl:function(){var t=null!==this.Yg;this.c&&this.c.fg(t),this.W&&this.W.fg(t)},oz:function(t){t==this.N&&this.Tl()},kq:function(){null!==this.Yg&&1e3<n.getTimeStamp()-this.Yg&&(this.Yg=null,this.Tl())},Pm:function(){return this.c?this.c.i()||this.c.Za.Ya:null},zm:function(){return this.c?this.c.zm():g.Db},Wa:function(){return this.c?this.c.Wa():this.Ua.Oh},Qb:function(){return this.c?this.c.Qb():null},Mq:function(){if(!this.ga||!this.ga.og()){if(i.isProbablyIE(9,!0)){var t=null;this.ga&&(t=this.ga.Ui,this.ga.G()),this.ga=new m(this.Ca,t)}else this.ga=new y(this.Ca);this.ga.fe(this.c)}return this.ga},G:function(){this.ga&&this.ga.G(),l.removeUnloadHandler(this)},unloadEvent:function(){this.Ia(!1,"unload",!0),this.fa(10)},ne:function(){return this.Ca},IB:function(t){t==this.N&&this.va.ez()},cd:function(t){I.logInfo(s.resolve(290),this.c),this.Vf(t),this.Id.fl(),this.va.cd(),this.lh(!1)},Vf:function(t){I.logDebug(s.resolve(295),this.c),t&&this.W.iB(t)},os:function(t,i){return t!=this.N?null:(I.logDebug(s.resolve(296),this.c),this.Ps(),this.va.ze(),i?this.fa(1):this.fa(this.status),this.N)},tn:function(t,i){var e=this.da.pe(t[0]);e?(T.isDebugLogEnabled()&&T.logDebug(s.resolve(298),t),e.xh(t,i)):T.logDebug(s.resolve(297),this)},xe:function(t){var i=this.da.pe(t[0]);i?(T.isDebugLogEnabled()&&T.logDebug(s.resolve(300),t),i.onLostUpdates(t[0],t[1],t[2])):T.logDebug(s.resolve(299),this)},we:function(t){var i=this.da.pe(t[0]);i?(T.isDebugLogEnabled()&&T.logDebug(s.resolve(302),t),i.onEndOfSnapshot(t[0],t[1])):T.logDebug(s.resolve(301),this)},ve:function(t){var i=this.da.pe(t[0]);i?(T.isDebugLogEnabled()&&T.logDebug(s.resolve(304),t),i.onClearSnapshot(t[0],t[1])):T.logDebug(s.resolve(303),this)},Uf:function(t,i){T.isDebugLogEnabled()&&T.logDebug(s.resolve(305),t,i),this.da.gz(t,i)},sn:function(t,i,e){var n=this.da.pe(t);n?(T.isDebugLogEnabled()&&T.logDebug(s.resolve(306),t,i,e),n.Wf(t,i,e)):T.logDebug(s.resolve(307),this),this.da.Wf(t)},onUnsubscription:function(t){var i=this.da.pe(t);i?(T.isDebugLogEnabled()&&T.logDebug(s.resolve(308),t),i.onUnsubscription(t)):T.logDebug(s.resolve(309),this),this.da.onUnsubscription(t)},Xf:function(t,i){this.da.Xf(t,i),T.isDebugLogEnabled()&&T.logDebug(s.resolve(310),t,i),this.da.Xf(t,i)},onSubscription:function(t,i,e,n,o){this.da.onSubscription(t);var r=this.da.pe(t);r?(T.isDebugLogEnabled()&&T.logDebug(s.resolve(312),t,i,e,n,o),r.onSubscription(t,n,o,i,e)):T.logDebug(s.resolve(311),this)},kn:function(t,i){T.isDebugLogEnabled()&&T.logDebug(s.resolve(313),t,i),this.Id.Cu(t,i)},nn:function(t,i){T.isDebugLogEnabled()&&T.logDebug(s.resolve(314),t,i),this.Id.iu(t,i)},ln:function(t,i,e,n){T.isDebugLogEnabled()&&T.logDebug(s.resolve(315),t,n,i,e),this.Id.az(t,i,n,e)},ye:function(t,i){T.isDebugLogEnabled()&&T.logDebug(s.resolve(316),t,i),this.Id.bz(t,i)},Tf:function(t,i,e,n){T.isDebugLogEnabled()&&T.logDebug(s.resolve(317),t,n,i,e),this.Id.dz(t,i,n,e)},Uj:function(t){this.va.Uj(t)},on:function(t){T.isDebugLogEnabled()&&T.logDebug(s.resolve(318),t),this.va.on(t)},sz:function(t){this.Il&&t!=this.Il&&h.ay()&&(h.Us(),this.ff(!1,"_"==this.me,!1,!1,!1,"ip",!1)),this.Il=t},xc:function(){this.va.xc()},Sn:function(t,i,e,s){this.Id.Dg(t,i,e,s)},Nh:function(t,i){var e=o.Vw(this.N,t,i);this.W.Jc(null,e,d.md,null)},Fi:function(){this.c&&this.c.Fi()},zA:function(t,i,e,s,n){this.W.Jc(t,i,d.hi,n,s)},BA:function(t,i,e,s,n){this.W.Jc(t,i,d.Xk,n,s)},AA:function(t,i,e){this.W.Jc(t,i,d.Po,e)},lh:function(t){this.c&&this.c.lh(t)}},w.prototype.unloadEvent=w.prototype.unloadEvent,w}),define("lscm",["lscY","lscP","Executor"],function(t,i,e){function s(t,i){this.o=t,this.id=i}var n=i.tt;for(var o in i={wh:n,Sf:n,onStatusChange:n,cd:n,ze:n,bs:n,Uf:n,xc:n,ping:i.ut,onSubscription:n,onUnsubscription:n,onEndOfSnapshot:n,xh:n,onLostUpdates:n,onClearSnapshot:n,Wf:n,ye:n,gs:n,Tf:n,fs:n,hs:n},s.methods=i,s.prototype={sk:function(t){this.target=t},Zr:function(t,i,e){("lscD"==t?this.o.Fb:"lscE"==t?this.o.sb:this.o.ka).X(i,e)},Dp:function(t){t==this.o.Wc()&&this.o.nq()},Ep:function(t){t==this.o.Wc()&&this.o.Lv()},ws:function(){if(null===this.o)throw"net";return!0},Up:function(){e.addTimedTask(this.o.Mp,0,this.o),e.addTimedTask(this.o.Mp,1e3,this.o)},Me:function(t,i){return t!=this.o.Wc()?null:this.o.subscribe(this.id,i)},Qd:function(t,i){return t!=this.o.Wc()?null:this.o.unsubscribe(i)},ld:function(t,i,e){return t!=this.o.Wc()?null:this.o.ld(i,e)},eh:function(t,i,e,s,n){if(t!=this.o.Wc())return null;this.o.Sn(i,e,null==s?null:{Eh:s,Fd:this.id},n)},Gq:function(t){this.o.Nh(t)},G:function(){this.o=null}},i)s.prototype[o]=t.Sg(o,i[o]);return s}),define("lsck","Global lscAe LoggerManager lscC lscD lscE lscp lscs lscG Executor lscm Helpers".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c){function f(e,u,l,c,f,g){if(this.ka=new s(e),this.ka.lg(this,!0),this.Fb=new n(l),this.Fb.lg(this,!0),this.sb=new o(u),this.sb.lg(this,!0),this.Um=null,this.M=new r(this,this.ka,this.Fb,this.sb),c&&c.xj())this.Bc=c.wv(this,a.packTask(this.G,this),g),null!=(e=this.Bc.jj())&&(this.zl=c.vv(this,e),this.zl.addListener(this.M)),this.id=this.Bc.ha();else{this.Bc=null;do{this.id="NS"+d++}while(t.sj(this.id,"lsEngine"))}t.qa(this.id,"lsEngine",this),this.f=new h(this,this.M),this.Ap(f,i.Wo),this.ka.Qg&&this.nq()}var d=c.randomG(),g="1777";isNaN(g)&&(g=0);var p=e.getLoggerProxy(i.gc);return f.prototype={toString:function(){return"[LightstreamerEngine "+this.id+"]"},Ap:function(t,i){i||(i="LOCAL"+d++);var e=new l(this,i);e.sk(t),t.gB(e),this.M.js(i,e)},ne:function(){return this.id},Pm:function(){return this.f.Pm()},Wc:function(){return this.M.Wc()},ze:function(){this.M.ze()},cd:function(){this.M.cd()},G:function(){this.f.Ia(!1,"suicide",!0),this.f.G(),t.hv(this.id),this.Bc&&this.Bc.G(),this.M.Ur(!0),this.M.G(),this.zl&&this.zl.G()},Lv:function(){p.logInfo(e.resolve(319)),this.ka.X("connectionRequested",!1),this.f.Ia(!0,"api",!0)},Jv:function(){var t=this.sb.fj;if(p.logInfo(e.resolve(320),t),null===t){var s=!0,n=!1,o=!1,r=!1;t=!1}else s=!0,o=!(n=t==i.pi||t==i.Qe),r=t==i.Zd||t==i.ec,t=t==i.ec||t==i.Xd||t==i.Qe;this.f.Yu(s,n,o,r,t)},nq:function(){p.logInfo(e.resolve(321)),this.ka.X("connectionRequested",!0);var t=this.sb.fj;null===t?this.f.ff(!0,!1,!1,!1,!1):this.Kv(t)},Kv:function(t){var e=t==i.pi||t==i.Qe;this.f.ff(!0,e,!e,t==i.Zd||t==i.ec,t==i.ec||t==i.Xd||t==i.Qe)},af:function(t,i,e){return this.M.wd(function(s){s.wh(t,i,e)}),"maxBandwidth"==i?this.f.Fi(e):"forcedTransport"==i?this.ka.Qg&&this.Jv():"reverseHeartbeatInterval"==i?this.f.lh(!1):"corsXHREnabled"!=i&&"xDomainStreamingEnabled"!=i||this.f.Tl(),!0},Uj:function(t){this.Bc&&this.Bc.Is(t)},on:function(t){this.Bc&&this.Bc.Eu(t)},Rb:function(){return this.f.zm()},ez:function(){var t=this.Rb();if(this.Um!=t){var i=this.Um;this.Um=t,this.M.fz(t,i),this.onStatusChange&&this.onStatusChange(t)}},Sn:function(t,e,s,n){var o=this.Rb();return o!=i.Db&&o!=i.Ag&&(this.f.Sn(t,e,s,n),!0)},Nh:function(t){return this.f.Nh(t,g),!0},subscribe:function(t,i){return this.M.Kx(t,i)},unsubscribe:function(t){this.M.Ks(t)},ld:function(t,i){this.M.ld(t,i)},Mp:function(){this.M.Sp()},xc:function(){this.M.xc()}},f}),define("lscAX",["lscAe"],function(t){function i(t,i,e){this.id=t,this.w=i,this.status=e}return i.prototype={Rb:function(){return this.status}},{eg:function(t,i){return this.In(i+"_"+t)},pC:function(i,e,s){s=s.join("|"),this.write(t.Yd+e+"_"+i,s)},Gl:function(i,e){this.clean(t.Yd+e+"_"+i)},Jn:function(t){return this.In(t)},fA:function(t){if(!(t=this.In(t)))return null;for(var e=[],s=0;s<t.length;s++){var n=t[s].split("_");if(2==n.length){var o=this.eg(n[1],n[0]);null!=o&&e.push(new i(n[0],n[1],o))}}return e},gl:function(i,e,s){if(i=t.Yd+i,e+=s?"_"+s:"",s=this.read(i)){if(-1<s.indexOf("|"+e+"|"))return!1}else s="|";return this.write(i,s+(e+"|")),!0},Ih:function(i,e,s){i=t.Yd+i,e+=s?"_"+s:"",(s=this.read(i))&&(e="|"+e+"|",-1<s.indexOf(e)&&("|"==(s=s.replace(e,"|"))?this.clean(i):this.write(i,s)))},sw:function(){for(var i=this.keys(),e=[],s=0;s<i.length;s++)0==i[s].indexOf(t.Yd)&&(i[s]=i[s].substring(t.Yd.length),e.push(i[s]));return e},In:function(i){return i=t.Yd+i,(i=this.read(i))?(""==(i=i.split("|"))[0]&&i.shift(),""==i[i.length-1]&&i.pop(),0<i.length?i:null):null}}}),define("lscAY",["lscAj","lscAX"],function(t,i){return t.ra({read:function(t){return localStorage.getItem(t)},write:function(t,i){localStorage.setItem(t,i)},clean:function(t){localStorage.removeItem(t)},keys:function(){for(var t=[],i=0;i<localStorage.length;i++)t.push(localStorage.key(i));return t}},i)}),define("CookieManager",["Helpers","Environment"],function(t,i){var e=!1,s={areCookiesEnabled:function(){return e},getAllCookiesAsSingleString:function(){return this.areCookiesEnabled()?document.cookie.toString():null},writeCookie:function(t,i){this.Lt(t,i,"")},Lt:function(t,i,e){this.areCookiesEnabled()&&(document.cookie=encodeURIComponent(t)+"="+i+"; "+e+"path=/;")},readCookie:function(i){if(!this.areCookiesEnabled())return null;i=encodeURIComponent(i)+"=";for(var e=(e=this.getAllCookiesAsSingleString()).split(";"),s=0;s<e.length;s++)if(e[s]=t.trim(e[s]),0==e[s].indexOf(i))return e[s].substring(i.length,e[s].length);return null},removeCookie:function(t){if(this.areCookiesEnabled()){var i=new Date;i.setTime(i.getTime()-864e5),this.Lt(t,"deleting","expires="+i.toUTCString()+"; ")}},cv:function(){if(i.isBrowserDocument()&&("http:"==document.location.protocol||"https:"==document.location.protocol)){e=!0;var s="LS__cookie_test"+t.randomG();this.writeCookie(s,"testing");var n=this.readCookie(s);if("testing"==n&&(this.removeCookie(s),null==(n=this.readCookie(s))))return;e=!1}}};return s.cv(),s.areCookiesEnabled=s.areCookiesEnabled,s.getAllCookiesAsSingleString=s.getAllCookiesAsSingleString,s.writeCookie=s.writeCookie,s.removeCookie=s.removeCookie,s.readCookie=s.readCookie,s}),define("lscAV",["CookieManager","lscAX","lscAj","Helpers"],function(t,i,e,s){return e.ra({read:function(i){return t.readCookie(i)},write:function(i,e){t.writeCookie(i,e)},clean:function(i){t.removeCookie(i)},keys:function(){for(var i=[],e=(i=t.getAllCookiesAsSingleString().split(";"),0);e<i.length;e++)i[e]=s.trim(i[e]),i[e]=i[e].substring(0,i[e].indexOf("=")),i[e]=decodeURIComponent(i[e]);return i}},i)}),define("lscAU","lscAY lscAV Executor Dismissable Inheritance lscAe Helpers lscAj".split(" "),function(t,i,e,s,n,o,r,h){function u(t){this._callSuperConstructor(u),this.ca=t,this.Fk=null}var a=[],l=o.Te+o.Yo,c=6e4;u.prototype={start:function(){this.Fk&&e.stopRepetitiveTask(this.Fk),this.Fk=e.addRepetitiveTask(this.Wp,c,this),e.addTimedTask(this.Wp,0,this)},clean:function(){e.stopRepetitiveTask(this.Fk);for(var t=0;t<a.length;t++)if(a[t]==this){a.splice(t,1);break}},Wp:function(){for(var t=r.getTimeStamp(),i=this.ca.sw(),e=0;e<i.length;e++)0<i[e].indexOf("_")&&this.Cl(i[e],null,t);for(e=0;e<i.length;e++)-1>=i[e].indexOf("_")&&this.dv(i[e])},Cl:function(t,i,e){if(!i){if(2!=(i=t.split("_")).length)return!1;t=i[0],i=i[1]}var s=this.ca.eg(i,t);return!!s&&(!e||(!(e-s[o.ni]>l)||(this.ca.Gl(i,t),!1)))},dv:function(t){for(var i=this.ca.Jn(t),e=0;e<i.length;e++)0<i[e].indexOf("_")?this.Cl(i[e])||this.ca.Ih(t,i[e]):this.Cl(i[e],t)||this.ca.Ih(t,i[e])}},n(u,s,!1,!0),t=new u(t);var f=new u(i),d=h.Ip()?t:f;return{start:function(t){t=t?f:d;for(var i=0;i<a.length;i++)if(a[i]==t)return void t.touch();a.push(t),t.touch(),t.start()},stop:function(t){t=t?f:d;for(var i=0;i<a.length;i++)a[i]==t&&t.dismiss()},IC:function(t){for(c=t,t=0;t<a.length;t++)a[t].start()}}}),define("lscAR",["lscAj","lscAX"],function(t,i){var e={};return t.ra({read:function(t){return e[t]},write:function(t,i){e[t]=i},clean:function(t){delete e[t]},keys:function(){var t,i=[];for(t in e)i.push(t);return i}},i)}),define("lscX",["Environment"],function(t){return{Gp:function(){return t.isBrowserDocument()&&"undefined"!=typeof SharedWorker&&"undefined"!=typeof Blob&&window.URL},yv:function(t){return window.URL.createObjectURL(new Blob([t]))},qA:function(t){window.URL.revokeObjectURL(t)}}}),define("lscW","Executor EventDispatcher Inheritance LoggerManager lscAe Promise".split(" "),function(t,i,e,s,n,o){function r(){this._callSuperConstructor(r),this.$b=this.Td=null}var h=n.mi,u=s.getLoggerProxy(n.Eb);return r.eu='var listeners={},nextId=0,MASTER="MASTER",REMOTE="REMOTE",INITIALIZATION="INITIALIZATION",REMOVE="REMOVE",ALL="ALL",FAILED="FAILED",KILL="KILL";onconnect=function(a){var b=a.ports[0];a=nextId++;listeners[MASTER]||(a=MASTER);listeners[a]=b;b.addEventListener("message",function(a){a=a.data;if(a.type==REMOVE)delete listeners[a.target];else if(a.type==KILL)terminate();else if(a.target===ALL)for(var c in listeners)listeners[c]!=b&&sendMessage(c,a,b);else sendMessage(a.target,a,b)});b.start();b.postMessage({type:INITIALIZATION,id:a});a!==MASTER&&listeners[MASTER].postMessage({type:REMOTE,id:a})};function sendMessage(a,b,d){(a=listeners[a])?a.postMessage(b):(b.type=FAILED,d.postMessage(b))}function terminate(){self.close();for(var a in listeners)listeners[a].close()};',r.prototype={Da:function(){return null!==this.$b},start:function(t){var i=new SharedWorker(t);t=new o(function(t,e){i.onerror=function(){u.logInfo(s.resolve(322)),e("SharedWorker broken")}}),this.Td=i.port;var e=this;return this.Td.onmessage=function(t){e.Tj(t.data)},this.Td.start(),t},G:function(){try{this.$b==h&&this.Td.postMessage({type:"KILL"}),this.Td.close()}catch(t){}this.Td=null},Tj:function(t){if(u.isDebugLogEnabled()){var i,e="RECEIVED";for(i in t)e+=" "+i.toString()+":"+t[i];u.logDebug(e)}"INITIALIZATION"==t.type?(this.$b=t.id,this.dispatchEvent("onReady")):"REMOTE"==t.type?this.dispatchEvent("onRemote",[t.id]):"FAILED"==t.type?this.dispatchEvent("onMessageFail",[t.target,t.an]):this.dispatchEvent("onMessage",[t])},Ls:function(t){t||(t=this.$b);try{this.Td.postMessage({type:"REMOVE",target:t})}catch(t){}},sendMessage:function(t,i,e,s){if(!this.Da())return!1;if(i={type:i,sender:this.$b,target:t,an:e,Yb:s},u.isDebugLogEnabled()){for(var n in s="SENDING",i)s+=" "+n.toString()+":"+i[n];u.logDebug(s)}try{this.Td.postMessage(i)}catch(i){this.dispatchEvent("onMessageFail",[t,e])}return!0}},e(r,i),r}),define("lscT","Executor EventDispatcher Inheritance LoggerManager lscAj lscAe".split(" "),function(t,i,e,s,n,o){function r(){this._callSuperConstructor(r),this.he={},this.$b=null,this.Tz=1}var h=s.getLoggerProxy(o.Eb),u=o.mi;return r.prototype={Da:function(){return null!==this.$b},start:function(i){if(this.ready=!0,i){this.he[u]=i;var e=this;t.addTimedTask(function(){try{i.connect(e)}catch(t){-2147467260!=t.Wr&&h.logError(s.resolve(326),t)}},0)}else this.$b=u,this.dispatchEvent("onReady")},G:function(){},connect:function(i){t.addTimedTask(this.ju,0,this,[i])},ju:function(t){var i=this.Tz++;this.he[i]=t,this.dispatchEvent("onRemote",[i]),this.sendMessage(i,"INITIALIZATION",-1,[i])},Ls:function(t){delete this.he[t]},sendMessage:function(t,i,e,s){if(!this.Da())return!1;if("ALL"==t)for(var n in this.he)this.lp(n,i,e,s);else this.lp(t,i,e,s);return!0},lp:function(i,e,n,o){try{if(this.he[i]&&this.he[i].Tj){var r=this;t.addTimedTask(function(){try{r.he[i].Tj(i,r.$b,e,n,o)}catch(t){-2147467260!=t.Wr&&(h.logError(s.resolve(327),t),r.dispatchEvent("onMessageFail",[i,n]))}},0)}else this.dispatchEvent("onMessageFail",[i,n])}catch(t){this.dispatchEvent("onMessageFail",[i,n])}},Tj:function(t,i,e,s,o){if(t={target:n.oc(t),type:n.oc(e),an:n.oc(s),sender:n.oc(i)},o)for(t.Yb=[],i=0;i<o.length;i++)t.Yb[i]=n.oc(o[i]);this.uu(t)},uu:function(t){try{"INITIALIZATION"==t.type?(this.$b=t.Yb[0],this.dispatchEvent("onReady")):this.dispatchEvent("onMessage",[t])}catch(t){-2147467260!=t.Wr&&h.logError(s.resolve(328),t)}}},e(r,i,!1,!0),r}),define("lscAW","Global Executor lscAe lscAU lscAY lscAV lscAR Helpers EnvironmentStatus IFrameHandler LoggerManager lscAj lscX lscW lscT".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c,f,d,g){function p(t,i){this.w=t,this.o=i,this.L=this.id=null,this.ca=r}var v=l.getLoggerProxy(e.Eb),b=c.Ip()?n:o,y=h.randomG(),m=e.ni;return p.$q=function(){return b},p.prototype={toString:function(){return["[SharedStatus",this.id,this.w,"]"].join("|")},jj:function(){return this.L},Eg:function(){this.Ys=!0,u.addBeforeUnloadHandler(this),u.addUnloadHandler(this)},zB:function(t,i,n,r){return!this.Ys&&(this.Ov=i||{},this.Bj=null,this.yk=500,this.po=t,this.ie=null,this.host=location.host,this.Lg=this.Va=e.fc,this.Dn=!1,this.Cq=0,n?(this.ca=o,s.start(!0)):(this.ca=b,s.start()),this.iw=n,this.vo=this.Ck=null,this.si(),this.mp(),this.L=null,r||!f.Gp()?this.Va=this.Iq():this.Lg=this.ow(),this.th={},v.logInfo(l.resolve(331)),this.Eg(),!0)},AB:function(){return!this.Ys&&(this.si(!0),this.mp(),v.logInfo(l.resolve(332)),this.Eg(),!0)},mp:function(){t.Hu(this.w,this.o)},si:function(i){do{this.id=y++}while(t.sj(this.id,"lsEngine"));i||(this.ca.gl(this.w,this.id)?this.ca.eg(this.w,this.id)&&this.si():this.si())},wu:function(){this.vo=i.addRepetitiveTask(this.iA,e.Te,this),v.logInfo(l.resolve(333),this)},Iq:function(){var s=this.Va;return s==e.fc&&(s=c.mk("LSF__"+c.sc()+"_"+this.id+"_"+this.w),this.L=new g,t.qa(this.id,e.li,this.L)),a.getFrameWindow(s,!0)?(this.yk=500,this.np()):(this.Ck=i.addTimedTask(this.Iq,this.yk,this),this.yk*=2),s},ow:function(){var i=f.yv(d.eu);return this.L=new d,this.np(i),t.qa(this.id,e.oi,i),i},np:function(t){var e=this;this.L.addListener({onReady:function(){e.Es(),e.Ck=i.addTimedTask(e.wu,0,e),e.L.removeListener(this)}}),this.L.start(t)},ha:function(){return this.id},Eu:function(t){t!=this.ie&&(this.ie=t,this.ca.gl(t,this.id,this.w))},Is:function(t){this.ie!=t?null==this.ie?v.logWarn(l.resolve(330),t):v.logError(l.resolve(329),this.ie,t):this.ie=null,this.ca.Ih(t,this.id,this.w)},dx:function(t){if(!(t=this.ca.fA(t)))return 0;for(var i=0,s=0;s<t.length;s++)h.getTimeStamp()-t[s].Rb()[m]>e.Te||i++;return i},Es:function(){this.Bj=h.getTimeStamp()+this.Cq,this.ca.pC(this.w,this.id,[this.Bj,this.Va,this.host,e.Qk,e.vg,this.Lg])},iA:function(){if(this.Dn)v.logDebug(l.resolve(336)),this.Dn=!1;else{var t=!1;if(this.po){v.logDebug(l.resolve(337),this);var i=this.ca.Jn(this.w);if(i){v.logDebug(l.resolve(339),this.w);for(var s=0;s<i.length;s++)if(i[s]!=this.id){var n=this.ca.eg(this.w,i[s]);n?n[e.Oo]!=e.Qk||n[e.Xo]!=e.vg?v.logDebug(l.resolve(341),i[s]):(n[m]==this.Bj&&(this.Cq=h.randomG(5)),n[m]>this.Bj?t|=this.Wy(i[s],n[m]):this.th[i[s]]&&delete this.th[i[s]]):v.logDebug(l.resolve(340),i[s])}}else v.logDebug(l.resolve(338),this)}t||(v.logDebug(l.resolve(342)),this.ca.gl(this.w,this.id),this.Es())}},Wy:function(t,i){if(v.logDebug(l.resolve(343)+t+" with a newer status"),this.th[t]){if(this.th[t]==i||this.Ov[t])return!1;v.logInfo(l.resolve(334)+this.id),this.Wv()}return this.th[t]=i,!0},Wv:function(){this.clean(),this.po&&i.executeTask(this.po)},Gr:function(){this.ca.Gl(this.w,this.id),this.ca.Ih(this.w,this.id),this.Dn=!0},clean:function(){v.logInfo(l.resolve(335),this),i.stopRepetitiveTask(this.vo),i.stopRepetitiveTask(this.Ck),this.Ck=this.vo=null,this.Va!=e.fc?a.disposeFrame(this.Va):this.Lg!=e.fc&&f.qA(this.Lg),this.Lg=this.Va=e.fc,this.Is(this.ie),this.w&&t.oA(this.w,this.o),this.L&&(t.Ii(this.id,e.li),t.Ii(this.id,e.oi)),this.L=null,this.Gr()},unloadEvent:function(){this.clean()},preUnloadEvent:function(){this.Gr()},G:function(){this.clean(),u.removeBeforeUnloadHandler(this),u.removeUnloadHandler(this),s.stop(this.iw)}},p.prototype.unloadEvent=p.prototype.unloadEvent,p.prototype.preUnloadEvent=p.prototype.preUnloadEvent,p}),define("lscU",["Executor","lscAe","lscAj","lscAi"],function(t,i,e){function s(t,i,e){this.Cs=t,this.target=e,this.id=n++,this.buffer=[],this.ready=!1,this.Gd={},this.Yy=0,i&&this.JA(i)}var n=0;return s.prototype={JA:function(t){this.L=t,t.addListener(this),t.Da()&&this.onReady()},G:function(t){this.L&&!t&&this.L.G()},onListenStart:function(){this.L.Da()&&this.onReady()},onReady:function(){if(!this.ready){this.ready=!0;for(var t=0;t<this.buffer.length;t++){var i=this.buffer[t],e=this.call(i.method,i.Yb,i.uq);i.uq&&i.eA(e)}this.buffer=[]}},onMessage:function(t){this.tu(t.sender,t.an,t.type,t.Yb)},tu:function(t,i,e,s){"RESPONSE"==e?this.Gd[i]&&(this.Gd[i].ok(s[0]),delete this.Gd[i]):t===this.target&&(void 0!==(e=this.Cs[e].apply(this.Cs,s))&&this.yA(t,i,e))},mn:function(t,e){this.Gd[e]&&(this.Gd[e].Pj(i.Zt),delete this.Gd[e])},yA:function(t,i,e){this.L.sendMessage(t,"RESPONSE",i,[e])},call:function(s,n,o,r){if(n=e.Ai(n),this.ready){var h=this.id+"_"+this.Yy++;if(this.L.sendMessage(this.target,s,h,n),o){var u=this;return new Promise(function(e,s){u.Gd[h]={ok:e,Pj:s},r&&t.addTimedTask(function(){u.Gd[h]&&s(i.$t)},r)})}}else{var a={target:this.target,method:s,Yb:n,uq:o,GC:r};if(this.buffer.push(a),o)return new Promise(function(t){a.eA=t})}}},s.prototype.onReady=s.prototype.onReady,s.prototype.onMessageFail=s.prototype.mn,s.prototype.onMessage=s.prototype.onMessage,s.prototype.onListenStart=s.prototype.onListenStart,s}),define("lscQ",["lscU","lscAj"],function(t,i){function e(t,i){this.Lm(t,i)}return e.Sg=function(t,e){return e.jl?function(){return this.channel.call(t,[this.$a].concat(i.Ai(arguments)),e.Go,e.Ts)}:function(){return this.channel.call(t,arguments,e.Go,e.Ts)}},e.prototype={Lm:function(i,e){this.channel=new t(this,i,e)},yt:function(t){this.channel.G(t)}},e}),define("lscn",["Inheritance","lscm","lscQ"],function(t,i,e){function s(t,i,e){this._callSuperConstructor(s,[t,e]),this.Lm(i,e)}var n,o;for(o in{G:!0})n=o;s.prototype={G:function(){this._callSuperMethod(s,n),this.yt(!0)}};var r=i.methods;for(o in r)s.prototype[o]=e.Sg(o,r[o]);return t(s,i),t(s,e,!0),s}),define("lscR",["EventDispatcher","Inheritance","lscn"],function(t,i,e){function s(t,i){this._callSuperConstructor(s),this.L=i,this.o=t,this.L.addListener(this)}return s.prototype={Ez:function(t){var i=new e(this.o,this.L,t);this.dispatchEvent("onNewPushPage",[t,i])},mn:function(t){this.L.Ls(t),this.dispatchEvent("onPushPageLost",[t])},G:function(){this.L.G()}},s.prototype.onRemote=s.prototype.Ez,s.prototype.onMessageFail=s.prototype.mn,i(s,t),s}),define("lscAS",[],function(){return{Pk:"ATTACH",ki:"ATTACH:FAST",Re:"IGNORE",tg:"ABORT",ji:"CREATE",bp:"WAIT"}}),define("lscAQ","Inheritance lscAP lscQ lscAe Executor LoggerManager".split(" "),function(t,i,e,s,n,o){function r(t,i){this._callSuperConstructor(r,[t]),this.rq="remote",this.Lm(i,s.mi),this.iC(i)}var h,u;for(u in{G:!0})h=u;var a=o.getLoggerProxy(s.Eb),l=2e3;r.prototype={iC:function(t){var i=this;t.Da()?this.Gs(t):(t.addListener({onReady:function(){i.Gs(t)}}),n.addTimedTask(this.jC,l,this))},jC:function(t){t.Da()||(l*=2,this.Sf())},Gs:function(t){t.$b==s.mi&&(a.logInfo(o.resolve(344)+this.Ca+" is a master but should be a slave: engine must die"),n.addTimedTask(this.Sf,0,this,[!1,!0]))},G:function(){this._callSuperMethod(r,h),this.yt()}};var c=i.methods;for(u in c)r.prototype[u]=e.Sg(u,c[u]);return t(r,i),t(r,e,!0),r}),define("lscAh",["LoggerManager","Helpers","lscAe"],function(t,i,e){function s(){this.Ds=null}var n=0,o=0,r=!1,h=!1,u=t.getLoggerProxy(e.Eb),a=[];return s.prototype={Cy:function(i,e){var s=null;try{a[i]&&(s=a[i])}catch(t){s=null}if(s&&(delete a[i],this.Ir(s,i,e)))return!0;t:{s='javascript:eval("'+function(t,i){return"var callFun = "+function(t,i){window.name!=t||window!=top||window.Lightstreamer&&window.Lightstreamer.Mt||(window.name=i,window.close())}.toString()+"; callFun('"+t+"', '"+i+"');"}(i,i+"__TRASH")+'; ")';var l=null;if(u.logDebug(t.resolve(346)),h)s=!1;else{try{try{var c;if(window.SymError){var f=!0;-5>o-n&&(f=!1),window.SymRealWinOpen&&f?(n++,c=window.SymRealWinOpen(s,i,"height=100,width=100",!0)):(r||(r=!0,u.logWarn(t.resolve(345))),n=0,c=null)}else c=window.open(s,i,"height=100,width=100",!0);l=c}catch(t){l=null}}catch(i){u.logDebug(t.resolve(347),i),s=!1;break t}if(l)try{o++}catch(t){h=!0}s=l}}return!1===s?(u.logDebug(t.resolve(348)),!1):s?(u.logDebug(t.resolve(350)),this.Ir(s,i,e),!0):(u.logDebug(t.resolve(349)),!0)},Ir:function(i,e,s){try{if(u.logDebug(t.resolve(351)),i.closed)return u.logDebug(t.resolve(352)),!1;var n=i;if(s){if(i==i.top&&!i.Lightstreamer){u.logDebug(t.resolve(353));try{i.name!=e&&i.name!=e+"__TRASH"||i.close()}catch(i){u.logDebug(t.resolve(354),i)}return!1}if(null==(n=i.parent))return u.logDebug(t.resolve(355)),!1}if(!n.Lightstreamer)return u.logDebug(t.resolve(356)),!1;if(!n.Lightstreamer.Mt)return u.logDebug(t.resolve(357)),!1;u.logDebug(t.resolve(358)),this.Ds=n,a[e]=i}catch(i){return u.logDebug(t.resolve(359),i),!1}return!0}},s}),define("lscV",["Promise","lscAh"],function(t,i){function e(t){this.Va=t}var s={};return e.prototype={jx:function(){if(s[this.Va])return t.resolve(null);var e=new i;return e.Cy(this.Va,!0)?null==(e=e.Ds)?(s[this.Va]=!0,t.resolve(null)):t.resolve(e):t.resolve(null)}},e}),define("lscAT","LoggerManager Global lscAe Promise Helpers Executor lscAP lscAQ lscAS lscAW lscT lscW lscV".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c,f){function d(t,i){var e=a.$q();e.Gl(i,t),e.Ih(i,t)}function g(t,i,s,n,o,r,h){this.w=i,this.Ey=o,this.Cn=s,this.vs=n,this.Md=r,this.hh=0,this.Og={},this.He=0,this.client=t,this.Nn=!1,this.Ig=h||e.Ot,this.Pj=this.ok=null,this.Qj=!1}var p=t.getLoggerProxy(e.Eb);return g.op=0,g.prototype={stop:function(){p.logInfo(t.resolve(361)),this.He++,this.Nn||this.$k()},find:function(t){return this.Og=t||{},t=this.ru(),this.$d(this.He,!1),t},tm:function(){return this.Og},cp:function(t){this.Nn=!0,this.ok(t),this.stop()},$k:function(){this.Nn=!0,this.Pj(),this.stop()},jp:function(){this.Qj=!0},kp:function(){this.vs==u.ji?(p.logInfo(t.resolve(362)),this.cp(null)):this.vs==u.bp?(p.logInfo(t.resolve(363),1e3),o.addTimedTask(this.$d,1e3,this,[this.He,!1])):(p.logInfo(t.resolve(364)),this.$k())},bl:function(i,e,s){if(this.Cn==u.tg)p.logInfo(t.resolve(365)),this.$k();else if(this.Cn!=u.Re){var n;p.logInfo(t.resolve(366)+s),1==i?(n=new r(this.client),e.Ap(n)):(e=(i=2==i?new l:new c).start(e),n=new h(this.client,i),e.then(null,function(){p.logInfo(t.resolve(367)+s+" must die"),n.Sf(!1,!0)})),n.jt(s),this.cp(n)}else p.logInfo(t.resolve(368)),this.stop()},$d:function(i,s){if(this.He==i)if(i=++this.He,p.logDebug(t.resolve(372)),this.Ey)p.logDebug(t.resolve(374)),this.kp();else if(this.Md){p.logDebug(t.resolve(375));try{var n=this.Md.Lightstreamer,r=n.sx(this.w);if(p.logDebug(t.resolve(376)+r+" ("+this.w+")."),null!=r){var h=r.ne();if(n.sj(h,e.oi))return void this.bl(3,n.Uq(h,e.oi),h);if(n.sj(h,e.li))return void this.bl(2,n.Uq(h,e.li),h)}else 1==s&&this.jp()}catch(i){p.logDebug(t.resolve(377)+i)}this.Md=null,this.$d(this.He,!1)}else{p.logDebug(t.resolve(378));var u=this,a=++this.hh;o.addTimedTask(function(){a==u.hh&&u.hh++},e.cu),g.op++,this.al(this.hh).then(function(s){if(g.op--,i==u.He)if(p.logDebug(t.resolve(379)),null==s)p.logDebug(t.resolve(380)),u.kp();else{p.logInfo(t.resolve(369)+s.id);var n=s.values,o=n[e.No],r=n[e.St];if(o!==e.fc)try{p.logDebug(t.resolve(381)+s.id+" shares through shared worker",o),u.bl(3,o,s.id)}catch(t){u.$d(i,!1)}else r!==e.fc?(p.logDebug(t.resolve(382)+s.id+" shares through direct communication",r),null!=(s=new f(r).jx())?s.then(function(t){(u.Md=t)||u.jp(),u.$d(i,!0)}):u.$d(i,!1)):(p.logInfo(t.resolve(370),n),u.$d(i,!1))}})}},ru:function(){var t=this;return new s(function(i,e){t.ok=i,t.Pj=e})},al:function(i,r){if(this.hh!=i)return s.resolve(null);var h=this,l=e.Te,c=e.Te+e.Yo,f=a.$q();return new s(function(s){if(r)for(var a in r){var g=f.eg(h.w,a);if(g&&g[e.ni]!=r[a])return h.Og[a]=!0,void s({id:a,values:g})}var v={};if(a=f.Jn(h.w))for(var b=!1,y=0;y<a.length;y++)if(!h.Og[a[y]])if(!(g=f.eg(h.w,a[y]))||5>g.length)d(a[y],h.w),p.logDebug(t.resolve(383),a[y]);else if(g[e.Oo]!=e.Qk||g[e.Xo]!=e.vg)p.logDebug(t.resolve(384),g);else{var m=n.getTimeStamp(),w=parseInt(g[e.ni]),E=(m=m-w,g[e.No]!=e.fc||h.Cn==u.ki);if(m<=(E?l:c)){if(E)return h.Og[a[y]]=!0,void s({id:a[y],values:g});b=!0,v[a[y]]=w}else E&&m<=c?(b=!0,v[a[y]]=w):6e4<m&&(p.logInfo(t.resolve(371)),d(a[y],h.w))}b?(p.logDebug(t.resolve(385)),o.addTimedTask(function(){h.al(i,v).then(function(t){s(t)})},e.Te)):r?(p.logDebug(t.resolve(386)),s(null)):(p.logDebug(t.resolve(387),h.Ig),o.addTimedTask(function(){h.al(i,{}).then(function(t){s(t)})},h.Ig))})}},g.aw={stop:function(){},find:function(){return s.resolve(null)},tm:function(){return{}}},g.Au={stop:function(){},find:function(){return s.reject(null)},tm:function(){return{}}},g}),define("ConnectionSharing","lscAe LoggerManager Inheritance Setter Environment IllegalArgumentException lscAW lscR lscAS lscAT lscX".split(" "),function(t,i,e,s,n,o,r,h,u,a,l){function c(e,s,r,h,u){if(!e)throw new o("The share name is missing");if(!f.test(e))throw new o("The given share name is not valid, use only alphanumeric characters");if(!g[r])throw new o("sharePolicyOnNotFound must be one of: CREATE, ABORT, WAIT");if(!d[s])throw new o("sharePolicyOnFound must be one of: ATTACH, ATTACH:FAST, IGNORE, ABORT");if(this.Ee=this.checkBool(h,!0),!n.isBrowserDocument()){if(p[s])throw new o("ATTACH* can only be used if the LightstreamerClient is loaded inside a browser document");this.Ee=!0}"file:"!=t.vg||h||(v.logWarn(i.resolve(388)),h=!0),this.Ee=h,this.w=e,this.gd=s,this.Wh=r,this.Md=u,this.Ig=null,this.Qr=!1,v.isDebugLogEnabled()&&v.logDebug(i.resolve(392),"shareName="+this.w,"sharePolicyOnFound="+this.gd,"sharePolicyOnNotFound="+this.Wh,"preventCrossWindowShare="+this.Ee,"shareRef="+this.Md)}var f=/^[a-zA-Z0-9]*$/,d={};d[u.Pk]=!0,d[u.ki]=!0,d[u.Re]=!0,d[u.tg]=!0;var g={};g[u.ji]=!0,g[u.tg]=!0,g[u.bp]=!0;var p={};p[u.Pk]=!0,p[u.ki]=!0;var v=i.getLoggerProxy(t.Eb);return c.prototype={wv:function(t,i,e){return t=new r(this.w,t),this.Ee?t.AB():(i=this.Tu()?null:i,t.zB(i,e)),t},vv:function(t,i){return new h(t,i)},Tu:function(){return this.gd===u.Re||this.Qr},Qj:function(){this.Qr=!0},tv:function(t,i){var e=new c(this.w,i?u.Re:this.gd,this.gd==u.Pk||this.gd==u.ki?u.ji:this.Wh,this.Ee,this.Md);return e.Ig=t,e},dw:function(t){return this.gd==u.Re&&this.Wh==u.ji?(v.logInfo(i.resolve(389)),a.aw):this.gd!=u.Re&&this.gd!=u.tg||this.Wh!=u.tg?(v.logInfo(i.resolve(391)),new a(t,this.w,this.gd,this.Wh,this.Ee,this.Md,this.Ig)):(v.logInfo(i.resolve(390)),a.Au)},tx:function(){return this.w},xj:function(){return this.Ee||l.Gp()}},c.prototype.getShareName=c.prototype.tx,e(c,s,!0,!0),c}),define("ls_sbc",["ConnectionSharing"],function(t){return function(i){return{enableSharing:function(e,s,n,o,r){s==n&&"ABORT"==s?i.em(null):i.em(new t(e,s,n,o,r))},isMaster:function(){return i.zf()}}}}),define("LightstreamerClient","Helpers Global Executor lscC lscE lscD lscAP lscAI lscAO lscAc Inheritance Setter EventDispatcher lscAe EnvironmentStatus IllegalArgumentException Environment LoggerManager IllegalStateException ASSERT lsco lsck ls_sbc BrowserDetection lscAK".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c,f,d,g,p,v,b,y,m,w,E,S,k,A){function D(t,i){this.C=D,this._callSuperConstructor(D),this.Zp=new n,this.Sl=new o,this.connectionOptions=this.Zp,this.connectionDetails=this.Sl,this.connectionSharing=S(this),this.ka=new s,this.sb=this.Zp,this.Fb=this.Sl,t&&this.Fb.rt(t),i&&this.Fb.gt(i),this.ka.lg(this),this.sb.lg(this),this.Fb.lg(this),this.u=new a(this.sb),this.Ke=this.S=null,this.Zg=this.Xh=0,this.eC=++I,this.J=new u,this.rh=d.Db,this.Hi=null,this.Ht={},g.addUnloadHandler(this)}var L=b.getLoggerProxy(d.Ok),T=b.getLoggerProxy(d.Eb),I=0,x=/^[a-zA-Z0-9_]*$/;return D.Fu=function(t,i){v.isNodeJS()&&h.qp(i)},D.Gw=function(t){if(v.isNodeJS()){var i=[];return h.Vq(t).forEach(function(t){i.push(t.toString())}),i}},D.setLoggerProvider=function(t){b.setLoggerProvider(t)},D.Ut="javascript_client",D.Vt="7.2.0 build 1777",D.simulateSilence=function(t){w.CB(t)},D.prototype={toString:function(){return["[|LightstreamerClient",this.eC,this.N,this.PC,"]"].join("|")},sk:function(t){this.S=t,this.u.ai(t),this.J.ai(t),this.kt=this.Zg,this.Hi=e.addRepetitiveTask(t.Bl,5e3,t)},Tp:function(){this.S&&(this.Ht[this.S.ne()]=!0,this.u.ai(null),this.J.ai(null),this.Hi&&(e.stopRepetitiveTask(this.Hi),this.Hi=null),this.S.G(),this.S=null,this.se&&(this.se.G(),this.se=null),this.ka.Qg?this.nl(d.Ag):this.nl(d.Db)),this.search&&(this.search.stop(),this.search=null)},af:function(t,i,e){return this.S&&this.S.Zr(t,i,e),!0},Vr:function(t,i){i!=this.ka&&this.dispatchEvent("onPropertyChange",[t])},em:function(t){var i=v.isBrowser()?navigator.userAgent.toLowerCase():null;null==i||-1==i.indexOf("ucbrowser")&&-1==i.indexOf("ubrowser")?(this.Zg++,e.addTimedTask(this.qq,0,this,[t,this.Zg])):T.logInfo(b.resolve(394))},qq:function(t,i){if(i==this.Zg)if(this.Xh++,this.Tp(),(this.Ke=t)&&!t.xj()&&T.logInfo(b.resolve(395)),t&&t.xj()){i=this.Xh;var e=this,s=t.dw(this);this.search=s,this.search.find(this.Ht).then(function(t){i==e.Xh&&(1==e.search.Qj&&e.Ke.Qj(),null===t?e.bo(i,s.tm()):e.sk(t))},function(){i==e.Xh&&e.dispatchEvent("onShareAbort")})}else null==t&&this.ka.Qg&&this.bo()},Sv:function(i,e){if(this.kt==this.Zg)if(this.Tp(),g.isUnloading()||g.isUnloaded())L.logInfo(b.resolve(396));else if(this.Ke){L.logInfo(b.resolve(397));var s=null;2>=this.ka.sd||(i?s=1e4:5e3<(s=200+500*t.randomG(this.ka.sd))&&(s=5e3)),s=this.Ke.tv(s,e),this.qq(s,this.kt)}else m.fail(),L.logError(b.resolve(393))},unloadEvent:function(){this.disconnect(),this.S&&this.S.Up()},bo:function(t,i){if(!t||t==this.Xh)return this.sk(new r(this)),this.se=new E(this.ka,this.sb,this.Fb,this.Ke,this.S,i),this.S.jt(this.se.ne()),this.S.nB(this.se.Wc()),this.S},zf:function(){return null!=this.se},connect:function(){if(!this.Fb.Oh)throw new y("Configure the server address before trying to connect");L.logInfo(b.resolve(398)),e.addTimedTask(this.Ou,0,this)},Ou:function(){if(!this.rh||this.rh==d.Db){null!=this.Ke&&this.Ke.xj()||this.se||this.bo(),L.logDebug(b.resolve(400)),this.ka.X("connectionRequested",!0);var t=this.S;t&&t.Dp()}},disconnect:function(){L.logInfo(b.resolve(399)),e.addTimedTask(this.Pu,0,this)},Pu:function(){L.logDebug(b.resolve(401)),this.ka.X("connectionRequested",!1);var t=this.S;t&&t.Ep()},Rb:function(){return this.rh},sendMessage:function(t,i,s,n,o){if(i){if(!x.test(i))throw new p("The given sequence name is not valid, use only alphanumeric characters plus underscore, or null")}else i=d.Fc;s=s||0==s?this.checkPositiveNumber(s,!0):null,o=this.checkBool(o,!0),e.addTimedTask(this.Nu,0,this,[t,i,n,s,o])},Nu:function(t,i,e,s,n){this.S&&this.S.zb?this.J.eh(t,i,e,s):n?this.J.Tv(t,i,e,s):e&&this.J.fireEvent("onAbort",e,[t,!1])},FA:function(t,i){this.dispatchEvent("onServerError",[t,i])},pk:function(){this.u.Zz(),this.J.iv()},GA:function(){this.u.Ix(),this.J.Hx()},nl:function(t){t!=this.rh&&(this.rh=t,this.dispatchEvent("onStatusChange",[t]))},Nh:function(t){return!(!this.S||!this.S.zb)&&(this.S.Gq(t),!0)},xc:function(){this.dispatchEvent("onServerKeepalive")},xx:function(){var t,i=[],e=this.u.pb;for(t in e)e[t].wt||i.push(e[t]);return i},subscribe:function(t){this.u.pp(t)},unsubscribe:function(t){this.u.Hs(t)},addListener:function(t){this._callSuperMethod(D,"addListener",[t])},removeListener:function(t){this._callSuperMethod(D,"removeListener",[t])},getListeners:function(){return this._callSuperMethod(D,"getListeners")}},D.__restoreWs=A.Us,D.addCookies=D.Fu,D.getCookies=D.Gw,D.setLoggerProvider=D.setLoggerProvider,D.LIB_NAME=D.Ut,D.LIB_VERSION=D.Vt,D.prototype.connect=D.prototype.connect,D.prototype.disconnect=D.prototype.disconnect,D.prototype.getStatus=D.prototype.Rb,D.prototype.sendMessage=D.prototype.sendMessage,D.prototype.getSubscriptions=D.prototype.xx,D.prototype.subscribe=D.prototype.subscribe,D.prototype.unsubscribe=D.prototype.unsubscribe,D.prototype.addListener=D.prototype.addListener,D.prototype.removeListener=D.prototype.removeListener,D.prototype.getListeners=D.prototype.getListeners,D.prototype.enableSharing=D.prototype.em,D.prototype.isMaster=D.prototype.zf,D.prototype.unloadEvent=D.prototype.unloadEvent,D.prototype.preUnloadEvent=D.prototype.unloadEvent,l(D,f,!1,!0),l(D,c,!0,!0),D}),define("lscAa",["lscAe","Assertions"],function(t,i){function e(t,i,e){this.$f=t,this.Dr=i,this.hk=e}return e.prototype={ds:function(t,e,s){this.co()&&(i.verifyValue(e,1,"Unexpected item position"),this.$f.DB(this.hk,s))},Wf:function(t,i){this.co()&&this.$f.EB(t,i,this.hk)},onItemUpdate:function(t){if(this.co())return i.verifyValue(t.lj(),1,"Unexpected item position"),t=t.Sd,this.$f.kB(t.length-2),t=this.sv(t),this.$f.update(t,!1,!0)},co:function(){return this.$f.lr(this.Dr,this.hk)},sv:function(i){var e=this.$f,s=this.Dr,n=[];n[0]=e.jd,n[1]=s,n.Mc=[];s=e.Tq()+2;for(var o=2,r=2;r<s;r++)r==e.keyCode+1?n[r]=this.hk:r==e.fb+1?n[r]="UPDATE":r<=e.ma.wb+1?n[r]=t.Ue:(n[r]=i[o],i.Ao[o]?n[r]=t.Ue:n.Mc.push(r-1),o++);return n}},e.prototype.onSubscriptionError=e.prototype.Wf,e.prototype.onItemUpdate=e.prototype.onItemUpdate,e.prototype.onItemLostUpdates=e.prototype.ds,e}),define("lscAZ",["LoggerManager","IllegalArgumentException","lscAe"],function(t,i,e){function s(t,i,e,s,n){this.Ay=i,this.zy=t,this.qu=s,this.ma=e,this.Sd=n}var n=t.getLoggerProxy(e.Ok);return s.prototype={Bm:function(){return this.zy},lj:function(){return this.Ay},getValue:function(t){return t=this.ei(t),(t=this.Sd[t])&&t.QC?t.value:t},Cr:function(t){return t=this.ei(t),!this.Sd.Ao[t]},py:function(){return this.qu},forEachChangedField:function(i){for(var e=this.Sd.Mc,s=0;s<e.length;s++){var o=this.ma.getName(e[s]),r=this.Sd[e[s]+1];try{i(o,e[s],r)}catch(i){n.logErrorExc(i,t.resolve(402))}}},Eq:function(i){for(var e=2;e<this.Sd.length;e++){var s=e-1,o=this.ma.getName(s),r=this.Sd[e];try{i(o,s,r)}catch(i){n.logErrorExc(i,t.resolve(403))}}},ei:function(t){if(null==(t=isNaN(t)?this.ma.oe(t):t))throw new i("the specified field does not exist");if(0>=t||t>this.ma.ym()+1)throw new i("the specified field position is out of bounds");return t+1},cx:function(){return this.Sd.length-2},Kw:function(t){return this.ma.getName(t)}},s.prototype.getItemName=s.prototype.Bm,s.prototype.getItemPos=s.prototype.lj,s.prototype.getValue=s.prototype.getValue,s.prototype.isValueChanged=s.prototype.Cr,s.prototype.isSnapshot=s.prototype.py,s.prototype.forEachChangedField=s.prototype.forEachChangedField,s.prototype.forEachField=s.prototype.Eq,s}),define("lscZ",[],function(){function t(){this.ac=null,this.wb=0}return t.prototype={st:function(t){this.ac=t},ym:function(){return this.ac?this.wb+this.ac.wb:this.wb},Ld:function(t){this.wb=t}},t}),define("lsca",["Inheritance","lscZ"],function(t,i){function e(t){this._callSuperConstructor(e),this.list=t;for(var i={},s=0;s<t.length;s++)i[t[s]]=s+1;this.Vs=i,this.wb=t.length}return e.prototype={Ld:function(){},um:function(){return this.list.join(" ")},oe:function(t){return this.Vs[t]?this.Vs[t]:this.ac?null!==(t=this.ac.oe(t))?t+this.wb:null:null},getName:function(t){return t>this.wb&&this.ac?this.ac.getName(t-this.wb):this.list[t-1]||null},Vc:function(){return this.list}},t(e,i),e}),define("lscb",["Inheritance","lscZ"],function(t,i){function e(t){this._callSuperConstructor(e),this.name=t}return e.prototype={um:function(){return this.name},oe:function(t){return this.ac?null!==(t=this.ac.oe(t))?t+this.wb:null:null},getName:function(t){return this.ac?this.ac.getName(t-this.wb):null},Vc:function(){return this.name}},t(e,i),e}),define("Matrix",[],function(){function t(t){this.$=t||{}}return t.prototype={insert:function(t,i,e){i in this.$||(this.$[i]={}),this.$[i][e]=t},get:function(t,i){return t in this.$&&i in this.$[t]?this.$[t][i]:null},del:function(t,i){if(!(!t in this.$)){for(var e in i in this.$[t]&&delete this.$[t][i],this.$[t])return;delete this.$[t]}},insertRow:function(t,i){this.$[i]=t},getRow:function(t){return t in this.$?this.$[t]:null},delRow:function(t){t in this.$&&delete this.$[t]},getEntireMatrix:function(){return this.$},isEmpty:function(){for(var t in this.$)return!1;return!0},forEachElement:function(t){for(var i in this.$)this.forEachElementInRow(i,t)},forEachRow:function(t){for(var i in this.$)t(i)},forEachElementInRow:function(t,i){var e,s=this.$[t];for(e in s)i(s[e],t,e)}},t.prototype.insert=t.prototype.insert,t.prototype.get=t.prototype.get,t.prototype.del=t.prototype.del,t.prototype.insertRow=t.prototype.insertRow,t.prototype.getRow=t.prototype.getRow,t.prototype.delRow=t.prototype.delRow,t.prototype.getEntireMatrix=t.prototype.getEntireMatrix,t.prototype.forEachElement=t.prototype.forEachElement,t.prototype.forEachElementInRow=t.prototype.forEachElementInRow,t.prototype.forEachRow=t.prototype.forEachRow,t.prototype.isEmpty=t.prototype.isEmpty,t}),define("Subscription","lscAa lscAZ lsca lscb Inheritance Setter Matrix Executor lscAe EventDispatcher IllegalArgumentException IllegalStateException LoggerManager lscAj Assertions Helpers".split(" "),function(t,i,e,s,n,o,r,h,u,a,l,c,f,d,g,p){function v(t,i,e){if(this._callSuperConstructor(v),!(t=new String(t).toUpperCase())||!m[t])throw new l("The given value is not a valid subscription mode. Admitted values are MERGE, DISTINCT, RAW, COMMAND");if(this.pd=t,this.ma=this.Sc=this.Mb=this.Ub=this.Cf=this.Df=null,this.tc="RAW"===t?null:"yes",this.jk=this.jd=this.Ni=this.vi=this.fp=this.Eg=this.Fe=this.mb=null,this.ue=new r,this.bd=new r,this.g=null,this.ab=1,this.VB=0,this.od=null,this.lk=this.Sj=0,this.behavior=this.pd==u.ug?2:1,this.Bo=this.keyCode=this.fb=null,this.Od=new r,this.Zh=this.Le=this.Nd=null,this.PB=u.Vk,i){if(!e||!p.isArray(e))throw new l("Please specify a valid field list");p.isArray(i)?this.Uh(i):this.Uh([i]),this.tk(e)}else if(e)throw new l("Please specify a valid item or item list")}function b(t){for(var i=0;i<t.length;i++){if(!t[i])throw new l("A field name cannot be empty");if(-1<t[i].indexOf(" "))throw new l("A field name cannot contain spaces")}}function y(t,i){return t-i}var m={COMMAND:!0,RAW:!0,MERGE:!0,DISTINCT:!0},w=u.Ue,E=f.getLoggerProxy(u.ap);return v.prototype={toString:function(){return["[|Subscription",this.ab,this.VB,this.od,this.jd,"]"].join("|")},Pp:function(){this.jd=null,this.ue=new r,this.bd=new r,this.ma.Ld(0),this.Ub.Ld(0),3==this.behavior&&(this.ma.st(null),this.Od=new r),E.logDebug(f.resolve(408),this)},kz:function(t,i,e){if(this.xb(),!this.Ub)throw new l("Invalid Subscription, please specify an item list or item group");if(!this.ma)throw new l("Invalid Subscription, please specify a field list or field schema");return this.ab=5,this.od=t,this.g=e,this.Sj++,g.verifyValue(this.Sj,1,"Wrong count while adding"),E.logInfo(f.resolve(405),this),!0},Mz:function(){this.ab=2,E.logDebug(f.resolve(409),this)},Pz:function(t){this.jd=t,this.ab=3,E.logDebug(f.resolve(410),this)},Bz:function(){var t=this.Af();this.ab=5,this.Pp(),t&&this.as(),E.logDebug(f.resolve(411),this)},Fz:function(){this.Xx();var t=this.Af();this.ab=1,this.od=null,delete this.jk,3==this.behavior&&this.pA(),this.Pp(),this.Sj--,g.verifyValue(this.Sj,0,"Wrong count while removing"),t&&this.as(),this.g=null,E.logDebug(f.resolve(412),this)},Kz:function(t,i,e,s){this.ab=4,this.lk++,g.verifyValue(this.lk,1,"Wrong count starting push"),E.logInfo(f.resolve(406),this),3==this.behavior&&this.ma.st(this.Zh),this.Sc&&1!=this.behavior&&this.mB(i,t),this.Ub.Ld(e),this.ma.Ld(s),this.dispatchEvent("onSubscription")},as:function(){this.lk--,g.verifyValue(this.lk,0,"Wrong count ending push"),E.logInfo(f.resolve(407),this),this.dispatchEvent("onUnsubscription")},pA:function(){var t=this;this.Od.forEachElement(function(i,e,s){t.Ln(e,s)})},lA:function(){var t=this;this.Od.forEachElementInRow(function(i,e,s){t.Ln(e,s)})},kx:function(){return this.ij(),this.jk},Jq:function(){if(null!=this.mb){var t=this.mb;return{LS_requested_max_frequency:"unlimited"==t?0:t}}return{}},ij:function(){var t={LS_mode:this.pd,LS_id:encodeURIComponent(this.Ub.um()),LS_schema:encodeURIComponent(this.ma.um())};if(null!=this.Ni&&(t.LS_data_adapter=encodeURIComponent(this.Ni)),null!=this.vi&&(t.LS_selector=encodeURIComponent(this.vi)),null!=this.Eg&&(t.LS_start=this.Eg),null!=this.fp&&(t.LS_end=this.fp),null!=this.tc&&(t.LS_snapshot="yes"===this.tc?"true":"no"===this.tc?"false":this.tc),d.ra(t,this.Jq()),null!=this.Fe){var i=this.Fe;("unlimited"==i||0<i)&&(t.LS_requested_buffer_size=i)}return E.logDebug(f.resolve(413),this),this.jk=t},jB:function(){if(this.pd==u.ug&&null!=this.Mb&&(this.fb=this.Mb.oe("command"),this.keyCode=this.Mb.oe("key"),!this.fb||!this.keyCode))throw new l("A field list for a COMMAND subscription must contain the key and command fields")},mB:function(t,i){E.logDebug(f.resolve(414),this,t,i),this.fb=t,this.keyCode=i},xb:function(){if(this.Bd())throw new c("Cannot modify an active Subscription, please unsubscribe before applying any change")},Xx:function(){if(!this.Bd())throw new c("Subscription is not active")},Rn:function(){if(this.pd!=u.ug)throw new c("Second level field list is only available on COMMAND Subscriptions")},Nl:function(){if(this.pd!=u.ug)throw new c("This method can only be used on COMMAND subscriptions")},gy:function(){return 1==this.ab},ry:function(){return 2==this.ab},Br:function(){return 3==this.ab},Af:function(){return 4==this.ab},iy:function(){return 5==this.ab},Bd:function(){return 1!=this.ab},Qm:function(){return this.Af()},Uh:function(t){if(this.xb(),!p.isArray(t))throw new l(" Please specifiy a valid array");for(var i=0;i<t.length;i++){if(!t[i])throw new l("An item name cannot be empty");if(-1<t[i].indexOf(" "))throw new l("An item name cannot contain spaces");if(!isNaN(t[i]))throw new l("An item name cannot be a number")}this.Df=null==t?null:new e(t),this.Cf=null,this.Ub=this.Df},Uw:function(){if(!this.Df){if(this.Cf)throw new c("This Subscription was initiated using an item group, use getItemGroup instead of using getItems");throw new c("The  item list/item group of this Subscription was not initiated")}return this.Df.Vc()},mt:function(t){this.xb(),this.Df=null,this.Ub=this.Cf=null==t?null:new s(t)},Tw:function(){if(!this.Cf){if(this.Df)throw new c("This Subscription was initiated using an item list, use getItems instead of using getItemGroup");throw new c("The  item list/item group of this Subscription was not initiated")}return this.Cf.Vc()},tk:function(t){if(this.xb(),!p.isArray(t))throw new l(" Please specifiy a valid array");b(t),this.Mb=null==t?null:new e(t),this.Sc=null,this.ma=this.Mb,this.jB()},Oq:function(){if(!this.Mb){if(this.Sc)throw new c("This Subscription was initiated using a field schema, use getFieldSchema instead of using getFields");throw new c("The field list/field schema of this Subscription was not initiated")}return this.Mb.Vc()},Xn:function(t){this.xb(),this.Mb=null,this.ma=this.Sc=null==t?null:new s(t)},Lw:function(){if(!this.Sc){if(this.Mb)throw new c("This Subscription was initiated using a field list, use getFields instead of using getFieldSchema");throw new c("The field list/field schema of this Subscription was not initiated")}return this.Sc.Vc()},nj:function(){return this.pd},Sh:function(t){this.xb(),this.Ni=t,E.logDebug(f.resolve(415),this,t)},Iw:function(){return this.Ni},xk:function(t){this.xb(),this.vi=t,E.logDebug(f.resolve(416),this,t)},ox:function(){return this.vi},Vh:function(t){t&&(t=(t=new String(t)).toLowerCase());var i=this.mb;if(this.Bd()){if(!t&&0!=t)throw new c("Can't change the frequency from/to 'unfiltered' or to null while the Subscription is active");if("unfiltered"==t||"unfiltered"==this.mb)throw new c("Can't change the frequency from/to 'unfiltered' or to null while the Subscription is active")}if(t||0==t)if("unfiltered"==t||"unlimited"==t)this.mb=t;else try{this.mb=this.checkPositiveNumber(t,!1,!0)}catch(t){throw new l("The given value is not valid for this setting; use null, 'unlimited', 'unfiltered' or a positive number instead")}else this.mb=null;if((this.ry()||this.Br()||this.Af())&&String(i)!=String(this.mb)&&(this.g.ld(this,this.Jq()),3==this.behavior)){var e=this;this.Od.forEachElement(function(t){g.verifyOk(e.Af(),"Table not pushing"),t.Vh(e.mb)})}E.logDebug(f.resolve(417),this,this.mb)},mx:function(){return this.mb},wk:function(t){if(this.xb(),t||0==t)if("unlimited"==(t=(t=new String(t)).toLowerCase()))this.Fe=t;else try{this.Fe=this.checkPositiveNumber(t)}catch(t){throw new l("The given value is not valid for this setting; use null, 'unlimited' or a positive number instead")}else this.Fe=null;E.logDebug(f.resolve(418),this,this.Fe)},lx:function(){return this.Fe},$n:function(t){if(this.xb(),t||0==t)if("no"==(t=(t=new String(t)).toLowerCase()))this.tc=t;else{if(this.pd==u.Wk)throw new c("Snapshot is not permitted if RAW was specified as mode");if("yes"==t)this.tc=t;else{if(isNaN(t))throw new l("The given value is not valid for this setting; use null, 'yes', 'no' or a positive number instead");if(this.pd!=u.Sk)throw new c("Numeric values are only allowed when the subscription mode is DISTINCT");try{this.tc=this.checkPositiveNumber(t)}catch(t){throw new l("The given value is not valid for this setting; use null, 'yes', 'no' or a positive number instead")}}}else this.tc=null;E.logDebug(f.resolve(419),this,this.tc)},nx:function(){return this.tc},MA:function(t){if(this.xb(),this.Rn(),!p.isArray(t))throw new l(" Please specifiy a valid array");b(t),this.Nd=null==t?null:new e(t),this.Le=null,this.Zh=this.Nd,this.ys()},yw:function(){if(!this.Nd){if(this.Le)throw new c("The second level of this Subscription was initiated using a field schema, use getCommandSecondLevelFieldSchema instead of using getCommandSecondLevelFields");throw new c("The second level of this Subscription was not initiated")}return this.Nd.Vc()},LA:function(t){this.xb(),this.Rn(),this.Nd=null,this.Zh=this.Le=null==t?null:new s(t),this.ys()},xw:function(){if(!this.Le){if(this.Nd)throw new c("The second level of this Subscription was initiated using a field list, use getCommandSecondLevelFields instead of using getCommandSecondLevelFieldSchema");throw new c("The second level of this Subscription was not initiated")}return this.Le.Vc()},KA:function(t){this.xb(),this.Rn(),this.Bo=t,E.logDebug(f.resolve(420),this,t)},ww:function(){return this.Bo},getValue:function(t,i){return this.ue.get(this.Bt(t),this.At(i))},zw:function(t,i,e){return this.Nl(),this.bd.get(this.Bt(t)+" "+i,this.At(e,!0))},Zq:function(){if(this.Nl(),!this.Sc&&this.Mb)throw new c("This Subscription was initiated using a field list, key field is always 'key'");if(null==this.keyCode)throw new c("The position of the key field is currently unknown");return this.keyCode},Kq:function(){if(this.Nl(),!this.Sc&&this.Mb)throw new c("This Subscription was initiated using a field list, command field is always 'command'");if(null==this.fb)throw new c("The position of the command field is currently unknown");return this.fb},At:function(t,i){var e=this.ei(t,this.ma,i);if(null===e)throw new l("the specified field does not exist");if(!1===e)throw new l("the specified field position is out of bounds");return e},Bt:function(t){if(null===(t=this.ei(t,this.Ub)))throw new l("the specified item does not exist");if(!1===t)throw new l("the specified item position is out of bounds");return t},ei:function(t,i,e){return null==(t=isNaN(t)?i.oe(t):t)?null:!(0>=t||t>(e?i.ym():i.wb))&&t},ys:function(){this.behavior=null==this.Zh?2:3},Rv:function(t){this.dispatchEvent("onEndOfSnapshot",[this.Ub.getName(t),t])},lv:function(t){var i=this.Ub.getName(t);2==this.behavior?this.bd=new r:3==this.behavior&&(this.bd=new r,this.lA(t)),this.dispatchEvent("onClearSnapshot",[i,t])},Fy:function(t,i){this.dispatchEvent("onItemLostUpdates",[this.Ub.getName(t),t,i])},DB:function(t,i){this.dispatchEvent("onCommandSecondLevelItemLostUpdates",[i,t])},EA:function(t,i){this.dispatchEvent("onSubscriptionError",[t,i])},EB:function(t,i,e){this.dispatchEvent("onCommandSecondLevelSubscriptionError",[t,i,e])},update:function(t,e,s){g.verifyValue(4,this.ab,"Wrong table phase");var n=t[1],o=new String(n);1!=this.behavior&&(o=this.Sz(t,n,s)),3!=this.behavior||s||this.Jx(t),1==this.behavior?this.Ft(this.ue,n,t,!0):this.Ft(this.bd,o,t,!0),t=new i(this.Ub.getName(n),n,this.ma,e,t),this.dispatchEvent("onItemUpdate",[t]),"DELETE"==this.bd.get(o,this.fb)&&this.bd.delRow(o)},Ft:function(t,i,e,s){var n=e.length-2,o=1,r=2;for(e.Ao={};o<=n;o++,r++)e[r]!==w?t.insert(e[r],i,o):s&&(e[r]=t.get(i,o),e.Ao[r]=!0)},Sz:function(t,i,e){var s;if(void 0===t[this.keyCode+1]||void 0===t[this.fb+1])return E.logWarn(f.resolve(404)),null;if(s=t[this.keyCode+1]==w?i+" "+this.ue.get(i,this.keyCode):i+" "+t[this.keyCode+1],e)t[this.keyCode+1]=w,t[this.fb+1]==this.bd.get(s,this.fb)?t[this.fb+1]=w:(t.Mc.push(this.fb),t.Mc.sort(y));else{for(t.Mc=[],e=2;e<t.length;e++)t[e]&&t[e]==w?t[e]=this.ue.get(i,e-1):this.ue.insert(t[e],i,e-1),t[e]==this.bd.get(s,e-1)?t[e]=w:t.Mc.push(e-1);if(3==this.behavior&&(i=this.Tq()+2)>t.length)for(e=t.length;e<i;e++)t[e]=w}return s},Jx:function(t){var i=t[1],e=t[this.keyCode+1]==w?this.ue.get(i,this.keyCode):t[this.keyCode+1];t=t[this.fb+1];var s=this.lr(i,e);"DELETE"==t?s&&this.Ln(i,e):s||this.Iu(i,e)},Gy:function(){this.wt=!0},lr:function(t,i){return null!==this.Od.get(t,i)},Ln:function(t,i){this.g.Hs(this.Od.get(t,i)),this.Od.del(t,i)},Iu:function(i,e){var s=new v(this.PB);s.Gy(),this.Od.insert(s,i,e);try{s.Uh([e])}catch(t){return void this.dispatchEvent("onCommandSecondLevelSubscriptionError",[14,"The received key value is not a valid name for an Item",e])}this.Nd?s.tk(this.Nd.Vc()):s.Xn(this.Le.Vc()),s.Sh(this.Bo),s.$n("yes"),s.mb=this.mb;var n=new t(this,i,e);s.addListener(n),this.g.pp(s)},kB:function(t){this.Zh.Ld(t)},Tq:function(){return this.ma.ym()},addListener:function(t){this._callSuperMethod(v,"addListener",[t])},removeListener:function(t){this._callSuperMethod(v,"removeListener",[t])},getListeners:function(){return this._callSuperMethod(v,"getListeners")}},v.prototype.isActive=v.prototype.Bd,v.prototype.isSubscribed=v.prototype.Qm,v.prototype.setItems=v.prototype.Uh,v.prototype.getItems=v.prototype.Uw,v.prototype.setItemGroup=v.prototype.mt,v.prototype.getItemGroup=v.prototype.Tw,v.prototype.setFields=v.prototype.tk,v.prototype.getFields=v.prototype.Oq,v.prototype.setFieldSchema=v.prototype.Xn,v.prototype.getFieldSchema=v.prototype.Lw,v.prototype.getMode=v.prototype.nj,v.prototype.setDataAdapter=v.prototype.Sh,v.prototype.getDataAdapter=v.prototype.Iw,v.prototype.setSelector=v.prototype.xk,v.prototype.getSelector=v.prototype.ox,v.prototype.setRequestedMaxFrequency=v.prototype.Vh,v.prototype.getRequestedMaxFrequency=v.prototype.mx,v.prototype.setRequestedBufferSize=v.prototype.wk,v.prototype.getRequestedBufferSize=v.prototype.lx,v.prototype.setRequestedSnapshot=v.prototype.$n,v.prototype.getRequestedSnapshot=v.prototype.nx,v.prototype.setCommandSecondLevelFields=v.prototype.MA,v.prototype.getCommandSecondLevelFields=v.prototype.yw,v.prototype.setCommandSecondLevelFieldSchema=v.prototype.LA,v.prototype.getCommandSecondLevelFieldSchema=v.prototype.xw,v.prototype.setCommandSecondLevelDataAdapter=v.prototype.KA,v.prototype.getCommandSecondLevelDataAdapter=v.prototype.ww,v.prototype.getValue=v.prototype.getValue,v.prototype.getCommandValue=v.prototype.zw,v.prototype.getKeyPosition=v.prototype.Zq,v.prototype.getCommandPosition=v.prototype.Kq,v.prototype.addListener=v.prototype.addListener,v.prototype.removeListener=v.prototype.removeListener,v.prototype.getListeners=v.prototype.getListeners,n(v,a,!1,!0),n(v,o,!0,!0),v});var classes=["LightstreamerClient","Subscription","ConnectionSharing","Promise"];window.Lightstreamer={},require(classes,function(){for(var t=0;t<classes.length;t++)Lightstreamer[classes[t]]=arguments[t]})}();

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"_process":4,"vertx":undefined}],2:[function(require,module,exports){
module.exports=function(e){if("undefined"==typeof document)return null;var n,o=document.cookie,t=o.search(new RegExp("\\b"+e+"=")),r=o.indexOf(";",t);return~t?"{"===(n=decodeURIComponent(o.substring(t,~r?r:void 0).split("=")[1])).charAt(0)?JSON.parse(n):n:null};

},{}],3:[function(require,module,exports){
function pidCrypt(){function t(t){t||(t=8);for(var r=new Array(t),e=[],i=0;i<256;i++)e[i]=i;for(i=0;i<r.length;i++)r[i]=e[Math.floor(Math.random()*e.length)];return r}this.setDefaults=function(){this.params.nBits=256,this.params.salt=t(8),this.params.salt=pidCryptUtil.byteArray2String(this.params.salt),this.params.salt=pidCryptUtil.convertToHex(this.params.salt),this.params.blockSize=16,this.params.UTF8=!0,this.params.A0_PAD=!0},this.debug=!0,this.params={},this.params.dataIn="",this.params.dataOut="",this.params.decryptIn="",this.params.decryptOut="",this.params.encryptIn="",this.params.encryptOut="",this.params.key="",this.params.iv="",this.params.clear=!0,this.setDefaults(),this.errors="",this.warnings="",this.infos="",this.debugMsg="",this.setParams=function(t){for(var r in t||(t={}),t)this.params[r]=t[r]},this.getParams=function(){return this.params},this.getParam=function(t){return this.params[t]||""},this.clearParams=function(){this.params={}},this.getNBits=function(){return this.params.nBits},this.getOutput=function(){return this.params.dataOut},this.setError=function(t){this.error=t},this.appendError=function(t){return this.errors+=t,""},this.getErrors=function(){return this.errors},this.isError=function(){return this.errors.length>0},this.appendInfo=function(t){return this.infos+=t,""},this.getInfos=function(){return this.infos},this.setDebug=function(t){this.debug=t},this.appendDebug=function(t){return this.debugMsg+=t,""},this.isDebug=function(){return this.debug},this.getAllMessages=function(t){var r={lf:"\n",clr_mes:!1,verbose:15};for(var e in t||(t=r),r)void 0===t[e]&&(t[e]=r[e]);var i="",n="";for(var o in this.params){switch(o){case"encryptOut":n=pidCryptUtil.toByteArray(this.params[o].toString()),n=pidCryptUtil.fragment(n.join(),64,t.lf);break;case"key":case"iv":n=pidCryptUtil.formatHex(this.params[o],48);break;default:n=pidCryptUtil.fragment(this.params[o].toString(),64,t.lf)}i+="<p><b>"+o+"</b>:<pre>"+n+"</pre></p>"}return this.debug&&(i+="debug: "+this.debug+t.lf),this.errors.length>0&&1==(1&t.verbose)&&(i+="Errors:"+t.lf+this.errors+t.lf),this.warnings.length>0&&2==(2&t.verbose)&&(i+="Warnings:"+t.lf+this.warnings+t.lf),this.infos.length>0&&4==(4&t.verbose)&&(i+="Infos:"+t.lf+this.infos+t.lf),this.debug&&8==(8&t.verbose)&&(i+="Debug messages:"+t.lf+this.debugMsg+t.lf),t.clr_mes&&(this.errors=this.infos=this.warnings=this.debug=""),i},this.getRandomBytes=function(r){return t(r)}}if(pidCryptUtil={},pidCryptUtil.encodeBase64=function(t,r){t||(t="");var e,i,n,o,s,a,h,p,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[],d="";if((a=(h=(r=void 0!==r&&r)?pidCryptUtil.encodeUTF8(t):t).length%3)>0)for(;a++<3;)d+="=",h+="\0";for(a=0;a<h.length;a+=3)i=(e=h.charCodeAt(a)<<16|h.charCodeAt(a+1)<<8|h.charCodeAt(a+2))>>18&63,n=e>>12&63,o=e>>6&63,s=63&e,c[a/3]=u.charAt(i)+u.charAt(n)+u.charAt(o)+u.charAt(s);return p=(p=c.join("")).slice(0,p.length-d.length)+d},pidCryptUtil.decodeBase64=function(t,r){t||(t="");var e,i,n,o,s,a,h,p,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[];p=(r=void 0!==r&&r)?pidCryptUtil.decodeUTF8(t):t;for(var d=0;d<p.length;d+=4)e=(a=u.indexOf(p.charAt(d))<<18|u.indexOf(p.charAt(d+1))<<12|(o=u.indexOf(p.charAt(d+2)))<<6|(s=u.indexOf(p.charAt(d+3))))>>>16&255,i=a>>>8&255,n=255&a,c[d/4]=String.fromCharCode(e,i,n),64==s&&(c[d/4]=String.fromCharCode(e,i)),64==o&&(c[d/4]=String.fromCharCode(e));return h=c.join(""),h=r?pidCryptUtil.decodeUTF8(h):h},pidCryptUtil.encodeUTF8=function(t){return t||(t=""),t=(t=t.replace(/[\u0080-\u07ff]/g,function(t){var r=t.charCodeAt(0);return String.fromCharCode(192|r>>6,128|63&r)})).replace(/[\u0800-\uffff]/g,function(t){var r=t.charCodeAt(0);return String.fromCharCode(224|r>>12,128|r>>6&63,128|63&r)})},pidCryptUtil.decodeUTF8=function(t){return t||(t=""),t=(t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(t){var r=(31&t.charCodeAt(0))<<6|63&t.charCodeAt(1);return String.fromCharCode(r)})).replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(t){var r=(15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2);return String.fromCharCode(r)})},pidCryptUtil.convertToHex=function(t){t||(t="");for(var r="",e="",i=0;i<t.length;i++)r+=1==(e=t.charCodeAt(i).toString(16)).length?"0"+e:e;return r},pidCryptUtil.convertFromHex=function(t){t||(t="");for(var r="",e=0;e<t.length;e+=2)r+=String.fromCharCode(parseInt(t.substring(e,e+2),16));return r},pidCryptUtil.stripLineFeeds=function(t){t||(t="");return t.replace(/\n/g,"").replace(/\r/g,"")},pidCryptUtil.toByteArray=function(t){t||(t="");for(var r=[],e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},pidCryptUtil.fragment=function(t,r,e){if(t||(t=""),!r||r>=t.length)return t;e||(e="\n");for(var i="",n=0;n<t.length;n+=r)i+=t.substr(n,r)+e;return i},pidCryptUtil.formatHex=function(t,r){t||(t=""),r||(r=45);for(var e="",i=t.toLowerCase(),n=0;n<i.length;n+=2)e+=i.substr(n,2)+":";return i=this.fragment(e,r)},pidCryptUtil.byteArray2String=function(t){for(var r="",e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return r},void 0!==pidCrypt&&(pidCrypt.MD5=function(t){function r(t,r){return t<<r|t>>>32-r}function e(t,r){var e,i,n,o,s;return n=2147483648&t,o=2147483648&r,s=(1073741823&t)+(1073741823&r),(e=1073741824&t)&(i=1073741824&r)?2147483648^s^n^o:e|i?1073741824&s?3221225472^s^n^o:1073741824^s^n^o:s^n^o}function i(t,i,n,o,s,a,h){return t=e(t,e(e(function(t,r,e){return t&r|~t&e}(i,n,o),s),h)),e(r(t,a),i)}function n(t,i,n,o,s,a,h){return t=e(t,e(e(function(t,r,e){return t&e|r&~e}(i,n,o),s),h)),e(r(t,a),i)}function o(t,i,n,o,s,a,h){return t=e(t,e(e(function(t,r,e){return t^r^e}(i,n,o),s),h)),e(r(t,a),i)}function s(t,i,n,o,s,a,h){return t=e(t,e(e(function(t,r,e){return r^(t|~e)}(i,n,o),s),h)),e(r(t,a),i)}function a(t){var r,e="",i="";for(r=0;r<=3;r++)e+=(i="0"+(t>>>8*r&255).toString(16)).substr(i.length-2,2);return e}var h,p,u,c,d,l,f,g,y,m=Array();for(m=function(t){for(var r,e=t.length,i=e+8,n=16*((i-i%64)/64+1),o=Array(n-1),s=0,a=0;a<e;)s=a%4*8,o[r=(a-a%4)/4]=o[r]|t.charCodeAt(a)<<s,a++;return s=a%4*8,o[r=(a-a%4)/4]=o[r]|128<<s,o[n-2]=e<<3,o[n-1]=e>>>29,o}(t),l=1732584193,f=4023233417,g=2562383102,y=271733878,h=0;h<m.length;h+=16)p=l,u=f,c=g,d=y,l=i(l,f,g,y,m[h+0],7,3614090360),y=i(y,l,f,g,m[h+1],12,3905402710),g=i(g,y,l,f,m[h+2],17,606105819),f=i(f,g,y,l,m[h+3],22,3250441966),l=i(l,f,g,y,m[h+4],7,4118548399),y=i(y,l,f,g,m[h+5],12,1200080426),g=i(g,y,l,f,m[h+6],17,2821735955),f=i(f,g,y,l,m[h+7],22,4249261313),l=i(l,f,g,y,m[h+8],7,1770035416),y=i(y,l,f,g,m[h+9],12,2336552879),g=i(g,y,l,f,m[h+10],17,4294925233),f=i(f,g,y,l,m[h+11],22,2304563134),l=i(l,f,g,y,m[h+12],7,1804603682),y=i(y,l,f,g,m[h+13],12,4254626195),g=i(g,y,l,f,m[h+14],17,2792965006),l=n(l,f=i(f,g,y,l,m[h+15],22,1236535329),g,y,m[h+1],5,4129170786),y=n(y,l,f,g,m[h+6],9,3225465664),g=n(g,y,l,f,m[h+11],14,643717713),f=n(f,g,y,l,m[h+0],20,3921069994),l=n(l,f,g,y,m[h+5],5,3593408605),y=n(y,l,f,g,m[h+10],9,38016083),g=n(g,y,l,f,m[h+15],14,3634488961),f=n(f,g,y,l,m[h+4],20,3889429448),l=n(l,f,g,y,m[h+9],5,568446438),y=n(y,l,f,g,m[h+14],9,3275163606),g=n(g,y,l,f,m[h+3],14,4107603335),f=n(f,g,y,l,m[h+8],20,1163531501),l=n(l,f,g,y,m[h+13],5,2850285829),y=n(y,l,f,g,m[h+2],9,4243563512),g=n(g,y,l,f,m[h+7],14,1735328473),l=o(l,f=n(f,g,y,l,m[h+12],20,2368359562),g,y,m[h+5],4,4294588738),y=o(y,l,f,g,m[h+8],11,2272392833),g=o(g,y,l,f,m[h+11],16,1839030562),f=o(f,g,y,l,m[h+14],23,4259657740),l=o(l,f,g,y,m[h+1],4,2763975236),y=o(y,l,f,g,m[h+4],11,1272893353),g=o(g,y,l,f,m[h+7],16,4139469664),f=o(f,g,y,l,m[h+10],23,3200236656),l=o(l,f,g,y,m[h+13],4,681279174),y=o(y,l,f,g,m[h+0],11,3936430074),g=o(g,y,l,f,m[h+3],16,3572445317),f=o(f,g,y,l,m[h+6],23,76029189),l=o(l,f,g,y,m[h+9],4,3654602809),y=o(y,l,f,g,m[h+12],11,3873151461),g=o(g,y,l,f,m[h+15],16,530742520),l=s(l,f=o(f,g,y,l,m[h+2],23,3299628645),g,y,m[h+0],6,4096336452),y=s(y,l,f,g,m[h+7],10,1126891415),g=s(g,y,l,f,m[h+14],15,2878612391),f=s(f,g,y,l,m[h+5],21,4237533241),l=s(l,f,g,y,m[h+12],6,1700485571),y=s(y,l,f,g,m[h+3],10,2399980690),g=s(g,y,l,f,m[h+10],15,4293915773),f=s(f,g,y,l,m[h+1],21,2240044497),l=s(l,f,g,y,m[h+8],6,1873313359),y=s(y,l,f,g,m[h+15],10,4264355552),g=s(g,y,l,f,m[h+6],15,2734768916),f=s(f,g,y,l,m[h+13],21,1309151649),l=s(l,f,g,y,m[h+4],6,4149444226),y=s(y,l,f,g,m[h+11],10,3174756917),g=s(g,y,l,f,m[h+2],15,718787259),f=s(f,g,y,l,m[h+9],21,3951481745),l=e(l,p),f=e(f,u),g=e(g,c),y=e(y,d);return(a(l)+a(f)+a(g)+a(y)).toLowerCase()}),void 0!==pidCrypt&&(pidCrypt.SHA1=function(t){function r(t,r){return t<<r|t>>>32-r}function e(t){var r,e="";for(r=7;r>=0;r--)e+=(t>>>4*r&15).toString(16);return e}var i,n,o,s,a,h,p,u,c,d=new Array(80),l=1732584193,f=4023233417,g=2562383102,y=271733878,m=3285377520,v=t.length,b=new Array;for(n=0;n<v-3;n+=4)o=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),b.push(o);switch(v%4){case 0:n=2147483648;break;case 1:n=t.charCodeAt(v-1)<<24|8388608;break;case 2:n=t.charCodeAt(v-2)<<24|t.charCodeAt(v-1)<<16|32768;break;case 3:n=t.charCodeAt(v-3)<<24|t.charCodeAt(v-2)<<16|t.charCodeAt(v-1)<<8|128}for(b.push(n);b.length%16!=14;)b.push(0);for(b.push(v>>>29),b.push(v<<3&4294967295),i=0;i<b.length;i+=16){for(n=0;n<16;n++)d[n]=b[i+n];for(n=16;n<=79;n++)d[n]=r(d[n-3]^d[n-8]^d[n-14]^d[n-16],1);for(s=l,a=f,h=g,p=y,u=m,n=0;n<=19;n++)c=r(s,5)+(a&h|~a&p)+u+d[n]+1518500249&4294967295,u=p,p=h,h=r(a,30),a=s,s=c;for(n=20;n<=39;n++)c=r(s,5)+(a^h^p)+u+d[n]+1859775393&4294967295,u=p,p=h,h=r(a,30),a=s,s=c;for(n=40;n<=59;n++)c=r(s,5)+(a&h|a&p|h&p)+u+d[n]+2400959708&4294967295,u=p,p=h,h=r(a,30),a=s,s=c;for(n=60;n<=79;n++)c=r(s,5)+(a^h^p)+u+d[n]+3395469782&4294967295,u=p,p=h,h=r(a,30),a=s,s=c;l=l+s&4294967295,f=f+a&4294967295,g=g+h&4294967295,y=y+p&4294967295,m=m+u&4294967295}return(c=e(l)+e(f)+e(g)+e(y)+e(m)).toLowerCase()}),void 0!==pidCrypt&&(pidCrypt.SHA256=function(t){var r=8;function e(t,r){var e=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(e>>16)<<16|65535&e}function i(t,r){return t>>>r|t<<32-r}function n(t,r){return t>>>r}function o(t,r,e){return t&r^~t&e}function s(t,r,e){return t&r^t&e^r&e}function a(t){return i(t,2)^i(t,13)^i(t,22)}function h(t){return i(t,6)^i(t,11)^i(t,25)}function p(t){return i(t,7)^i(t,18)^n(t,3)}function u(t,r){var u,c,d,l,f,g,y,m,v,b,C,S=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),I=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),w=new Array(64);t[r>>5]|=128<<24-r%32,t[15+(r+64>>9<<4)]=r;for(var A=0;A<t.length;A+=16){u=I[0],c=I[1],d=I[2],l=I[3],f=I[4],g=I[5],y=I[6],m=I[7];for(var B=0;B<64;B++)w[B]=B<16?t[B+A]:e(e(e(i(C=w[B-2],17)^i(C,19)^n(C,10),w[B-7]),p(w[B-15])),w[B-16]),v=e(e(e(e(m,h(f)),o(f,g,y)),S[B]),w[B]),b=e(a(u),s(u,c,d)),m=y,y=g,g=f,f=e(l,v),l=d,d=c,c=u,u=e(v,b);I[0]=e(u,I[0]),I[1]=e(c,I[1]),I[2]=e(d,I[2]),I[3]=e(l,I[3]),I[4]=e(f,I[4]),I[5]=e(g,I[5]),I[6]=e(y,I[6]),I[7]=e(m,I[7])}return I}function c(t){for(var e=Array(),i=(1<<r)-1,n=0;n<t.length*r;n+=r)e[n>>5]|=(t.charCodeAt(n/r)&i)<<24-n%32;return e}function d(t){for(var r="0123456789abcdef",e="",i=0;i<4*t.length;i++)e+=r.charAt(t[i>>2]>>8*(3-i%4)+4&15)+r.charAt(t[i>>2]>>8*(3-i%4)&15);return e}return d(u(c(t),t.length*r))}),void 0!==pidCrypt){function Int_64(t,r){this.highOrder=t,this.lowOrder=r}function jsSHA(t){jsSHA.charSize=8,jsSHA.b64pad="",jsSHA.hexCase=0;var r=null,e=null,i=t.length*jsSHA.charSize,n=function(t){for(var r=[],e=(1<<jsSHA.charSize)-1,i=t.length*jsSHA.charSize,n=0;n<i;n+=jsSHA.charSize)r[n>>5]|=(t.charCodeAt(n/jsSHA.charSize)&e)<<32-jsSHA.charSize-n%32;return r}(t),o=function(t){for(var r=jsSHA.hexCase?"0123456789ABCDEF":"0123456789abcdef",e="",i=4*t.length,n=0;n<i;n++)e+=r.charAt(t[n>>2]>>8*(3-n%4)+4&15)+r.charAt(t[n>>2]>>8*(3-n%4)&15);return e},s=function(t){for(var r="",e=4*t.length,i=0;i<e;i+=3)for(var n=(t[i>>2]>>8*(3-i%4)&255)<<16|(t[i+1>>2]>>8*(3-(i+1)%4)&255)<<8|t[i+2>>2]>>8*(3-(i+2)%4)&255,o=0;o<4;o++)8*i+6*o>32*t.length?r+=jsSHA.b64pad:r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-o)&63);return r},a=function(t,r){return r<32?new Int_64(t.highOrder>>>r|t.lowOrder<<32-r,t.lowOrder>>>r|t.highOrder<<32-r):32===r?new Int_64(t.lowOrder,t.highOrder):a(a(t,32),r-32)},h=function(t,r){return r<32?new Int_64(t.highOrder>>>r,t.lowOrder>>>r|t.highOrder<<32-r):32===r?new Int_64(0,t.highOrder):h(h(t,32),r-32)},p=function(t,r,e){return new Int_64(t.highOrder&r.highOrder^~t.highOrder&e.highOrder,t.lowOrder&r.lowOrder^~t.lowOrder&e.lowOrder)},u=function(t,r,e){return new Int_64(t.highOrder&r.highOrder^t.highOrder&e.highOrder^r.highOrder&e.highOrder,t.lowOrder&r.lowOrder^t.lowOrder&e.lowOrder^r.lowOrder&e.lowOrder)},c=function(t){var r=a(t,28),e=a(t,34),i=a(t,39);return new Int_64(r.highOrder^e.highOrder^i.highOrder,r.lowOrder^e.lowOrder^i.lowOrder)},d=function(t){var r=a(t,14),e=a(t,18),i=a(t,41);return new Int_64(r.highOrder^e.highOrder^i.highOrder,r.lowOrder^e.lowOrder^i.lowOrder)},l=function(t){var r=a(t,1),e=a(t,8),i=h(t,7);return new Int_64(r.highOrder^e.highOrder^i.highOrder,r.lowOrder^e.lowOrder^i.lowOrder)},f=function(t,r){var e=(65535&t.lowOrder)+(65535&r.lowOrder),i=(t.lowOrder>>>16)+(r.lowOrder>>>16)+(e>>>16),n=(65535&i)<<16|65535&e;return e=(65535&t.highOrder)+(65535&r.highOrder)+(i>>>16),new Int_64((65535&(i=(t.highOrder>>>16)+(r.highOrder>>>16)+(e>>>16)))<<16|65535&e,n)},g=function(t){var r,e,o,s,g,y,m,v,b,C,S,I=[],w=[new Int_64(1116352408,3609767458),new Int_64(1899447441,602891725),new Int_64(3049323471,3964484399),new Int_64(3921009573,2173295548),new Int_64(961987163,4081628472),new Int_64(1508970993,3053834265),new Int_64(2453635748,2937671579),new Int_64(2870763221,3664609560),new Int_64(3624381080,2734883394),new Int_64(310598401,1164996542),new Int_64(607225278,1323610764),new Int_64(1426881987,3590304994),new Int_64(1925078388,4068182383),new Int_64(2162078206,991336113),new Int_64(2614888103,633803317),new Int_64(3248222580,3479774868),new Int_64(3835390401,2666613458),new Int_64(4022224774,944711139),new Int_64(264347078,2341262773),new Int_64(604807628,2007800933),new Int_64(770255983,1495990901),new Int_64(1249150122,1856431235),new Int_64(1555081692,3175218132),new Int_64(1996064986,2198950837),new Int_64(2554220882,3999719339),new Int_64(2821834349,766784016),new Int_64(2952996808,2566594879),new Int_64(3210313671,3203337956),new Int_64(3336571891,1034457026),new Int_64(3584528711,2466948901),new Int_64(113926993,3758326383),new Int_64(338241895,168717936),new Int_64(666307205,1188179964),new Int_64(773529912,1546045734),new Int_64(1294757372,1522805485),new Int_64(1396182291,2643833823),new Int_64(1695183700,2343527390),new Int_64(1986661051,1014477480),new Int_64(2177026350,1206759142),new Int_64(2456956037,344077627),new Int_64(2730485921,1290863460),new Int_64(2820302411,3158454273),new Int_64(3259730800,3505952657),new Int_64(3345764771,106217008),new Int_64(3516065817,3606008344),new Int_64(3600352804,1432725776),new Int_64(4094571909,1467031594),new Int_64(275423344,851169720),new Int_64(430227734,3100823752),new Int_64(506948616,1363258195),new Int_64(659060556,3750685593),new Int_64(883997877,3785050280),new Int_64(958139571,3318307427),new Int_64(1322822218,3812723403),new Int_64(1537002063,2003034995),new Int_64(1747873779,3602036899),new Int_64(1955562222,1575990012),new Int_64(2024104815,1125592928),new Int_64(2227730452,2716904306),new Int_64(2361852424,442776044),new Int_64(2428436474,593698344),new Int_64(2756734187,3733110249),new Int_64(3204031479,2999351573),new Int_64(3329325298,3815920427),new Int_64(3391569614,3928383900),new Int_64(3515267271,566280711),new Int_64(3940187606,3454069534),new Int_64(4118630271,4000239992),new Int_64(116418474,1914138554),new Int_64(174292421,2731055270),new Int_64(289380356,3203993006),new Int_64(460393269,320620315),new Int_64(685471733,587496836),new Int_64(852142971,1086792851),new Int_64(1017036298,365543100),new Int_64(1126000580,2618297676),new Int_64(1288033470,3409855158),new Int_64(1501505948,4234509866),new Int_64(1607167915,987167468),new Int_64(1816402316,1246189591)];S="SHA-384"===t?[new Int_64(3418070365,3238371032),new Int_64(1654270250,914150663),new Int_64(2438529370,812702999),new Int_64(355462360,4144912697),new Int_64(1731405415,4290775857),new Int_64(41048885895,1750603025),new Int_64(3675008525,1694076839),new Int_64(1203062813,3204075428)]:[new Int_64(1779033703,4089235720),new Int_64(3144134277,2227873595),new Int_64(1013904242,4271175723),new Int_64(2773480762,1595750129),new Int_64(1359893119,2917565137),new Int_64(2600822924,725511199),new Int_64(528734635,4215389547),new Int_64(1541459225,327033209)];var A=n.slice();A[i>>5]|=128<<24-i%32,A[31+(i+1+128>>10<<5)]=i;for(var B,T,_,O,E=A.length,D=0;D<E;D+=32){r=S[0],e=S[1],o=S[2],s=S[3],g=S[4],y=S[5],m=S[6],v=S[7];for(var x=0;x<80;x++)I[x]=x<16?new Int_64(A[2*x+D],A[2*x+D+1]):f(f(f((B=I[x-2],T=void 0,_=void 0,O=void 0,T=a(B,19),_=a(B,61),O=h(B,6),new Int_64(T.highOrder^_.highOrder^O.highOrder,T.lowOrder^_.lowOrder^O.lowOrder)),I[x-7]),l(I[x-15])),I[x-16]),b=f(f(f(f(v,d(g)),p(g,y,m)),w[x]),I[x]),C=f(c(r),u(r,e,o)),v=m,m=y,y=g,g=f(s,b),s=o,o=e,e=r,r=f(b,C);S[0]=f(r,S[0]),S[1]=f(e,S[1]),S[2]=f(o,S[2]),S[3]=f(s,S[3]),S[4]=f(g,S[4]),S[5]=f(y,S[5]),S[6]=f(m,S[6]),S[7]=f(v,S[7])}switch(t){case"SHA-384":return[S[0].highOrder,S[0].lowOrder,S[1].highOrder,S[1].lowOrder,S[2].highOrder,S[2].lowOrder,S[3].highOrder,S[3].lowOrder,S[4].highOrder,S[4].lowOrder,S[5].highOrder,S[5].lowOrder];case"SHA-512":return[S[0].highOrder,S[0].lowOrder,S[1].highOrder,S[1].lowOrder,S[2].highOrder,S[2].lowOrder,S[3].highOrder,S[3].lowOrder,S[4].highOrder,S[4].lowOrder,S[5].highOrder,S[5].lowOrder,S[6].highOrder,S[6].lowOrder,S[7].highOrder,S[7].lowOrder];default:return[]}};this.getHash=function(t,i){var n=null;switch(i){case"HEX":n=o;break;case"B64":n=s;break;default:return"FORMAT NOT RECOGNIZED"}switch(t){case"SHA-384":return null===r&&(r=g(t)),n(r);case"SHA-512":return null===e&&(e=g(t)),n(e);default:return"HASH NOT RECOGNIZED"}}}pidCrypt.SHA512=function(t,r){return r||(r="HEX"),new jsSHA(t).getHash("SHA-512",r)},pidCrypt.SHA384=function(t,r){return r||(r="HEX"),new jsSHA(t).getHash("SHA-384",r)}}function Stream(t,r){t instanceof Stream?(this.enc=t.enc,this.pos=t.pos):(this.enc=t,this.pos=r)}var dbits;void 0!==pidCrypt&&(pidCrypt.AES=function(t){this.env=t||new pidCrypt,this.blockSize=16,this.ShiftRowTabInv,this.xtime,this.SBox=new Array(99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22),this.SBoxInv=new Array(82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125),this.ShiftRowTab=new Array(0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11)},pidCrypt.AES.prototype.init=function(){this.env.setParams({blockSize:this.blockSize}),this.ShiftRowTabInv=new Array(16);for(var t=0;t<16;t++)this.ShiftRowTabInv[this.ShiftRowTab[t]]=t;for(this.xtime=new Array(256),t=0;t<128;t++)this.xtime[t]=t<<1,this.xtime[128+t]=t<<1^27},pidCrypt.AES.prototype.expandKey=function(t){var r,e=t.slice(),i=e.length,n=1;switch(i){case 16:r=176;break;case 24:r=208;break;case 32:r=240;break;default:alert("AESCore.expandKey: Only key lengths of 16, 24 or 32 bytes allowed!")}for(var o=i;o<r;o+=4){var s=e.slice(o-4,o);o%i==0?(s=new Array(this.SBox[s[1]]^n,this.SBox[s[2]],this.SBox[s[3]],this.SBox[s[0]]),(n<<=1)>=256&&(n^=283)):i>24&&o%i==16&&(s=new Array(this.SBox[s[0]],this.SBox[s[1]],this.SBox[s[2]],this.SBox[s[3]]));for(var a=0;a<4;a++)e[o+a]=e[o+a-i]^s[a]}return e},pidCrypt.AES.prototype.encrypt=function(t,r){var e=r.length,i=t.slice();this.addRoundKey(i,r.slice(0,16));for(var n=16;n<e-16;n+=16)this.subBytes(i),this.shiftRows(i),this.mixColumns(i),this.addRoundKey(i,r.slice(n,n+16));return this.subBytes(i),this.shiftRows(i),this.addRoundKey(i,r.slice(n,e)),i},pidCrypt.AES.prototype.decrypt=function(t,r){var e=r.length,i=t.slice();this.addRoundKey(i,r.slice(e-16,e)),this.shiftRows(i,1),this.subBytes(i,1);for(var n=e-32;n>=16;n-=16)this.addRoundKey(i,r.slice(n,n+16)),this.mixColumns_Inv(i),this.shiftRows(i,1),this.subBytes(i,1);return this.addRoundKey(i,r.slice(0,16)),i},pidCrypt.AES.prototype.subBytes=function(t,r){for(var e=void 0===r?this.SBox.slice():this.SBoxInv.slice(),i=0;i<16;i++)t[i]=e[t[i]]},pidCrypt.AES.prototype.addRoundKey=function(t,r){for(var e=0;e<16;e++)t[e]^=r[e]},pidCrypt.AES.prototype.shiftRows=function(t,r){for(var e=void 0===r?this.ShiftRowTab.slice():this.ShiftRowTabInv.slice(),i=(new Array).concat(t),n=0;n<16;n++)t[n]=i[e[n]]},pidCrypt.AES.prototype.mixColumns=function(t){for(var r=0;r<16;r+=4){var e=t[r+0],i=t[r+1],n=t[r+2],o=t[r+3],s=e^i^n^o;t[r+0]^=s^this.xtime[e^i],t[r+1]^=s^this.xtime[i^n],t[r+2]^=s^this.xtime[n^o],t[r+3]^=s^this.xtime[o^e]}},pidCrypt.AES.prototype.mixColumns_Inv=function(t){for(var r=0;r<16;r+=4){var e=t[r+0],i=t[r+1],n=t[r+2],o=t[r+3],s=e^i^n^o,a=this.xtime[s],h=this.xtime[this.xtime[a^e^n]]^s,p=this.xtime[this.xtime[a^i^o]]^s;t[r+0]^=h^this.xtime[e^i],t[r+1]^=p^this.xtime[i^n],t[r+2]^=h^this.xtime[n^o],t[r+3]^=p^this.xtime[o^e]}},pidCrypt.AES.prototype.xOr_Array=function(t,r){var e,i=Array();for(e=0;e<t.length;e++)i[e]=t[e]^r[e];return i},pidCrypt.AES.prototype.getCounterBlock=function(){for(var t=new Array(this.blockSize),r=(new Date).getTime(),e=Math.floor(r/1e3),i=r%1e3,n=0;n<4;n++)t[n]=e>>>8*n&255;for(n=0;n<4;n++)t[n+4]=255&i;return t.slice()}),void 0!==pidCrypt&&void 0!==pidCrypt.AES&&void 0!==pidCrypt.MD5&&(pidCrypt.AES.CBC=function(){this.pidcrypt=new pidCrypt,this.aes=new pidCrypt.AES(this.pidcrypt),this.getOutput=function(){return this.pidcrypt.getOutput()},this.getAllMessages=function(t){return this.pidcrypt.getAllMessages(t)},this.isError=function(){return this.pidcrypt.isError()}},pidCrypt.AES.CBC.prototype.init=function(t,r){r||(r={});var e=this.pidcrypt;e.setDefaults();var i=this.pidcrypt.getParams();for(var n in r)i[n]=r[n];var o=this.createKeyAndIv({password:t,salt:i.salt,bits:i.nBits});i.key=o.key,i.iv=o.iv,i.dataOut="",e.setParams(i),this.aes.init()},pidCrypt.AES.CBC.prototype.initEncrypt=function(t,r,e){this.init(r,e),this.pidcrypt.setParams({dataIn:t,encryptIn:pidCryptUtil.toByteArray(t)})},pidCrypt.AES.CBC.prototype.initDecrypt=function(t,r,e){e||(e={});var i=this.pidcrypt;i.setParams({dataIn:t}),r||i.appendError("pidCrypt.AES.CBC.initFromEncryption: Sorry, can not crypt or decrypt without password.\n");var n=pidCryptUtil.decodeBase64(t);0!=n.indexOf("Salted__")&&i.appendError("pidCrypt.AES.CBC.initFromCrypt: Sorry, unknown encryption method.\n");var o=n.substr(8,8);e.salt=pidCryptUtil.convertToHex(o),this.init(r,e),n=n.substr(16),i.setParams({decryptIn:pidCryptUtil.toByteArray(n)})},pidCrypt.AES.CBC.prototype.initByValues=function(t,r,e,i){var n={};this.init("",i),n.dataIn=t,n.key=r,n.iv=e,this.pidcrypt.setParams(n)},pidCrypt.AES.CBC.prototype.getAllMessages=function(t){return this.pidcrypt.getAllMessages(t)},pidCrypt.AES.CBC.prototype.createKeyAndIv=function(t){var r=this.pidcrypt,e={};t||(t={}),t.salt||(t.salt=r.getRandomBytes(8),t.salt=pidCryptUtil.convertToHex(pidCryptUtil.byteArray2String(t.salt)),r.setParams({salt:t.salt}));var i=t.password+pidCryptUtil.convertFromHex(t.salt),n="",o="",s=[],a=0;s[a++]=i;for(var h=0;h<"3";h++){0==h?o=i:(n=pidCryptUtil.convertFromHex(o),o=n+=i);for(var p=0;p<1;p++)o=pidCrypt.MD5(o);s[a++]=o}switch(t.bits){case 128:e.key=s[1],e.iv=s[2];break;case 192:e.key=s[1]+s[2].substr(0,16),e.iv=s[3];break;case 256:e.key=s[1]+s[2],e.iv=s[3];break;default:r.appendError("pidCrypt.AES.CBC.createKeyAndIv: Sorry, only 128, 192 and 256 bits are supported.\nBits("+typeof t.bits+") = "+t.bits)}return e},pidCrypt.AES.CBC.prototype.encryptRaw=function(t){var r=this.pidcrypt,e=this.aes,i=r.getParams();t||(t=i.encryptIn),r.setParams({encryptIn:t}),i.dataIn||r.setParams({dataIn:t});var n=pidCryptUtil.convertFromHex(i.iv),o=i.blockSize-(t.length+1)%i.blockSize;i.A0_PAD&&(t[t.length]=10);for(var s=0;s<o;s++)t[t.length]=o;for(var a=Math.floor(i.nBits/8),h=new Array(a),p=pidCryptUtil.convertFromHex(i.key),u=0;u<a;u++)h[u]=isNaN(p.charCodeAt(u))?0:p.charCodeAt(u);for(var c=e.expandKey(h),d=Math.ceil(t.length/i.blockSize),l=new Array(d),f=[],g=pidCryptUtil.toByteArray(n),y=0;y<d;y++)f=t.slice(y*i.blockSize,y*i.blockSize+i.blockSize),g=e.xOr_Array(g,f),g=e.encrypt(g.slice(),c),l[y]=pidCryptUtil.byteArray2String(g);var m=l.join("");return r.setParams({dataOut:m,encryptOut:m}),!r.isDebug()&&r.clear&&r.clearParams(),m||""},pidCrypt.AES.CBC.prototype.encrypt=function(t){var r=this.pidcrypt,e=r.getParams();t||(t=e.dataIn),e.UTF8&&(t=pidCryptUtil.encodeUTF8(t)),r.setParams({dataIn:t,encryptIn:pidCryptUtil.toByteArray(t)});var i=this.encryptRaw();return i="Salted__"+pidCryptUtil.convertFromHex(e.salt)+i,i=pidCryptUtil.encodeBase64(i),r.setParams({dataOut:i}),!r.isDebug()&&r.clear&&r.clearParams(),i||""},pidCrypt.AES.CBC.prototype.encryptText=function(t,r,e){return this.initEncrypt(t,r,e),this.encrypt()},pidCrypt.AES.CBC.prototype.decryptRaw=function(t){var r=this.aes,e=this.pidcrypt,i=e.getParams();if(t||(t=i.decryptIn),e.setParams({decryptIn:t}),i.dataIn||e.setParams({dataIn:t}),i.iv.length/2<i.blockSize)return e.appendError("pidCrypt.AES.CBC.decrypt: Sorry, can not decrypt without complete set of parameters.\n Length of key,iv:"+i.key.length+","+i.iv.length);var n=pidCryptUtil.convertFromHex(i.iv);if(t.length%i.blockSize!=0)return e.appendError("pidCrypt.AES.CBC.decrypt: Sorry, the encrypted text has the wrong length for aes-cbc mode\n Length of ciphertext:"+t.length+t.length%i.blockSize);for(var o=Math.floor(i.nBits/8),s=new Array(o),a=pidCryptUtil.convertFromHex(i.key),h=0;h<o;h++)s[h]=isNaN(a.charCodeAt(h))?0:a.charCodeAt(h);for(var p=r.expandKey(s),u=Math.ceil(t.length/i.blockSize),c=new Array(u.length),d=pidCryptUtil.toByteArray(n),l=[],f=[],g=0;g<u;g++)l=t.slice(g*i.blockSize,g*i.blockSize+i.blockSize),f=r.decrypt(l,p),c[g]=pidCryptUtil.byteArray2String(r.xOr_Array(d,f)),d=l.slice();var y=c.join("");e.isDebug()&&e.appendDebug("Padding after decryption:"+pidCryptUtil.convertToHex(y)+":"+y.length+"\n");var m=y.charCodeAt(y.length-1);if(i.A0_PAD)y=y.substr(0,y.length-(m+1));else{var v=y.length-(y.length-m);m==y.charCodeAt(y.length-m)&&m==v&&(y=y.substr(0,y.length-m))}return e.setParams({dataOut:y,decryptOut:y}),!e.isDebug()&&e.clear&&e.clearParams(),y||""},pidCrypt.AES.CBC.prototype.decrypt=function(t){var r=this.pidcrypt,e=r.getParams();if(t&&r.setParams({dataIn:t}),!e.decryptIn){var i=pidCryptUtil.decodeBase64(e.dataIn);0==i.indexOf("Salted__")&&(i=i.substr(16)),r.setParams({decryptIn:pidCryptUtil.toByteArray(i)})}var n=this.decryptRaw();return e.UTF8&&(n=pidCryptUtil.decodeUTF8(n)),r.isDebug()&&r.appendDebug("Removed Padding after decryption:"+pidCryptUtil.convertToHex(n)+":"+n.length+"\n"),r.setParams({dataOut:n}),!r.isDebug()&&r.clear&&r.clearParams(),n||""},pidCrypt.AES.CBC.prototype.decryptText=function(t,r,e){return this.initDecrypt(t,r,e),this.decrypt()}),void 0!==pidCrypt&&void 0!==pidCrypt.AES&&(pidCrypt.AES.CTR=function(){this.pidcrypt=new pidCrypt,this.aes=new pidCrypt.AES(this.pidcrypt),this.getOutput=function(){return this.pidcrypt.getOutput()},this.getAllMessages=function(t){return this.pidcrypt.getAllMessages(t)},this.isError=function(){return this.pidcrypt.isError()}},pidCrypt.AES.CTR.prototype.init=function(t,r){r||(r={}),t||this.pidcrypt.appendError("pidCrypt.AES.CTR.initFromEncryption: Sorry, can not crypt or decrypt without password.\n"),this.pidcrypt.setDefaults();var e=this.pidcrypt.getParams();for(var i in r)e[i]=r[i];e.password=t,e.key=t,e.dataOut="",this.pidcrypt.setParams(e),this.aes.init()},pidCrypt.AES.CTR.prototype.initEncrypt=function(t,r,e){this.init(r,e),this.pidcrypt.setParams({dataIn:t,encryptIn:pidCryptUtil.toByteArray(t)})},pidCrypt.AES.CTR.prototype.initDecrypt=function(t,r,e){var i={};this.init(r,e),i.dataIn=t;var n=pidCryptUtil.decodeBase64(t),o=n.substr(0,8);i.salt=pidCryptUtil.convertToHex(o),n=n.substr(8),i.decryptIn=pidCryptUtil.toByteArray(n),this.pidcrypt.setParams(i)},pidCrypt.AES.CTR.prototype.getAllMessages=function(t){return this.pidcrypt.getAllMessages(t)},pidCrypt.AES.CTR.prototype.getCounterBlock=function(t){for(var r=new Array(t),e=(new Date).getTime(),i=Math.floor(e/1e3),n=e%1e3,o=0;o<4;o++)r[o]=i>>>8*o&255;for(o=0;o<4;o++)r[o+4]=255&n;return r.slice()},pidCrypt.AES.CTR.prototype.encryptRaw=function(t){var r=this.aes,e=this.pidcrypt,i=e.getParams();t||(t=i.encryptIn),e.setParams({encryptIn:t});for(var n=i.key,o=Math.floor(i.nBits/8),s=new Array(o),a=0;a<o;a++)s[a]=isNaN(n.charCodeAt(a))?0:n.charCodeAt(a);var h=r.encrypt(s.slice(0,16),r.expandKey(s));h=h.concat(h.slice(0,o-16));var p=this.getCounterBlock(i.blockSize),u=pidCryptUtil.byteArray2String(p.slice(0,8));e.setParams({salt:pidCryptUtil.convertToHex(u)});for(var c=r.expandKey(h),d=Math.ceil(t.length/i.blockSize),l=new Array(d),f=0;f<d;f++){for(var g=0;g<4;g++)p[15-g]=f>>>8*g&255;for(g=0;g<4;g++)p[15-g-4]=f/4294967296>>>8*g;var y=r.encrypt(p,c),m=f<d-1?i.blockSize:(t.length-1)%i.blockSize+1,v=new Array(m);for(a=0;a<m;a++)v[a]=y[a]^t[f*i.blockSize+a],v[a]=String.fromCharCode(v[a]);l[f]=v.join("")}var b=u+l.join("");return e.setParams({dataOut:b,encryptOut:b}),!e.isDebug()&&e.clear&&e.clearParams(),b},pidCrypt.AES.CTR.prototype.encrypt=function(t){var r=this.pidcrypt,e=r.getParams();t||(t=e.dataIn),e.UTF8&&(t=pidCryptUtil.encodeUTF8(t),r.setParams({key:pidCryptUtil.encodeUTF8(r.getParam("key"))})),r.setParams({dataIn:t,encryptIn:pidCryptUtil.toByteArray(t)});var i=this.encryptRaw();return i=pidCryptUtil.encodeBase64(i),r.setParams({dataOut:i}),!r.isDebug()&&r.clear&&r.clearParams(),i},pidCrypt.AES.CTR.prototype.encryptText=function(t,r,e){return this.initEncrypt(t,r,e),this.encrypt()},pidCrypt.AES.CTR.prototype.decryptRaw=function(t){var r=this.pidcrypt,e=this.aes,i=r.getParams();t||(t=i.decryptIn),r.setParams({decryptIn:t}),i.dataIn||r.setParams({dataIn:t});for(var n=Math.floor(i.nBits/8),o=new Array(n),s=0;s<n;s++)o[s]=isNaN(i.key.charCodeAt(s))?0:i.key.charCodeAt(s);var a=e.encrypt(o.slice(0,16),e.expandKey(o));a=a.concat(a.slice(0,n-16));var h=new Array(8),p=pidCryptUtil.convertFromHex(i.salt);for(s=0;s<8;s++)h[s]=p.charCodeAt(s);for(var u=e.expandKey(a),c=Math.ceil(t.length/i.blockSize),d=new Array(c),l=0;l<c;l++)d[l]=t.slice(l*i.blockSize,l*i.blockSize+i.blockSize);var f=new Array(d.length),g=[],y=[];for(l=0;l<c;l++){for(var m=0;m<4;m++)h[15-m]=l>>>8*m&255;for(m=0;m<4;m++)h[15-m-4]=(l+1)/4294967296-1>>>8*m&255;for(g=e.encrypt(h,u),y=new Array(d[l].length),s=0;s<d[l].length;s++)y[s]=g[s]^d[l][s],y[s]=String.fromCharCode(y[s]);f[l]=y.join("")}var v=f.join("");return r.setParams({dataOut:v}),!r.isDebug()&&r.clear&&r.clearParams(),v},pidCrypt.AES.CTR.prototype.decrypt=function(t){var r=this.pidcrypt,e=r.getParams();t&&r.setParams({dataIn:t,decryptIn:pidCryptUtil.toByteArray(t)}),e.UTF8&&r.setParams({key:pidCryptUtil.encodeUTF8(r.getParam("key"))});var i=this.decryptRaw();return i=pidCryptUtil.decodeUTF8(i),r.setParams({dataOut:i}),!r.isDebug()&&r.clear&&r.clearParams(),i},pidCrypt.AES.CTR.prototype.decryptText=function(t,r,e){return this.initDecrypt(t,r,e),this.decrypt()}),Stream.prototype.parseStringHex=function(t,r){void 0===r&&(r=this.enc.length);for(var e="",i=t;i<r;++i){var n=this.get(i);e+=this.hexDigits.charAt(n>>4)+this.hexDigits.charAt(15&n)}return e},Stream.prototype.get=function(t){if(null==t&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]},Stream.prototype.hexDigits="0123456789ABCDEF",Stream.prototype.hexDump=function(t,r){for(var e="",i=t;i<r;++i){var n=this.get(i);e+=this.hexDigits.charAt(n>>4)+this.hexDigits.charAt(15&n),7==(15&i)&&(e+=" "),e+=15==(15&i)?"\n":" "}return e},Stream.prototype.parseStringISO=function(t,r){for(var e="",i=t;i<r;++i)e+=String.fromCharCode(this.get(i));return e},Stream.prototype.parseStringUTF=function(t,r){for(var e="",i=0,n=t;n<r;){e+=(i=this.get(n++))<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(n++)):String.fromCharCode((15&i)<<12|(63&this.get(n++))<<6|63&this.get(n++))}return e},Stream.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,Stream.prototype.parseTime=function(t,r){var e=this.parseStringISO(t,r),i=this.reTime.exec(e);return i?(e=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(e+=":"+i[5],i[6]&&(e+=":"+i[6],i[7]&&(e+="."+i[7]))),i[8]&&(e+=" UTC","Z"!=i[8]&&(e+=i[8],i[9]&&(e+=":"+i[9]))),e):"Unrecognized time: "+e},Stream.prototype.parseInteger=function(t,r){if(!(r-t>4)){for(var e=0,i=t;i<r;++i)e=e<<8|this.get(i);return e}},Stream.prototype.parseOID=function(t,r){for(var e,i=0,n=0,o=t;o<r;++o){var s=this.get(o);i=i<<7|127&s,n+=7,128&s||(null==e?e=parseInt(i/40)+"."+i%40:e+="."+(n>=31?"big":i),i=n=0),e+=String.fromCharCode()}return e},void 0!==pidCrypt&&(pidCrypt.ASN1=function(t,r,e,i,n){this.stream=t,this.header=r,this.length=e,this.tag=i,this.sub=n},pidCrypt.ASN1.prototype.toHexTree=function(){var t={};if(t.type=this.typeName(),"SEQUENCE"!=t.type&&(t.value=this.stream.parseStringHex(this.posContent(),this.posEnd())),null!=this.sub){t.sub=[];for(var r=0,e=this.sub.length;r<e;++r)t.sub[r]=this.sub[r].toHexTree()}return t},pidCrypt.ASN1.prototype.typeName=function(){if(null==this.tag)return"unknown";var t=this.tag>>6,r=(this.tag,31&this.tag);switch(t){case 0:switch(r){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+r.toString(16)}case 1:return"Application_"+r.toString(16);case 2:return"["+r+"]";case 3:return"Private_"+r.toString(16)}},pidCrypt.ASN1.prototype.content=function(){if(null==this.tag)return null;if(0!=this.tag>>6)return null;var t=31&this.tag,r=this.posContent(),e=Math.abs(this.length);switch(t){case 1:return 0==this.stream.get(r)?"false":"true";case 2:return this.stream.parseInteger(r,r+e);case 6:return this.stream.parseOID(r,r+e);case 12:return this.stream.parseStringUTF(r,r+e);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(r,r+e);case 23:case 24:return this.stream.parseTime(r,r+e)}return null},pidCrypt.ASN1.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null==this.sub?"null":this.sub.length)+"]"},pidCrypt.ASN1.prototype.print=function(t){if(null==t&&(t=""),document.writeln(t+this),null!=this.sub){t+="  ";for(var r=0,e=this.sub.length;r<e;++r)this.sub[r].print(t)}},pidCrypt.ASN1.prototype.toPrettyString=function(t){null==t&&(t="");var r=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(r+="+"),r+=this.length,32&this.tag?r+=" (constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(r+=" (encapsulates)"),r+="\n",null!=this.sub){t+="  ";for(var e=0,i=this.sub.length;e<i;++e)r+=this.sub[e].toPrettyString(t)}return r},pidCrypt.ASN1.prototype.toDOM=function(){var t=document.createElement("div");t.className="node",t.asn1=this;var r=document.createElement("div");r.className="head";var e=this.typeName();r.innerHTML=e,t.appendChild(r),this.head=r;var i=document.createElement("div");i.className="value",e="Offset: "+this.stream.pos+"<br/>",e+="Length: "+this.header+"+",this.length>=0?e+=this.length:e+=-this.length+" (undefined)",32&this.tag?e+="<br/>(constructed)":3!=this.tag&&4!=this.tag||null==this.sub||(e+="<br/>(encapsulates)");var n=this.content();if(null!=n&&(e+="<br/>Value:<br/><b>"+n+"</b>","object"==typeof oids&&6==this.tag)){var o=oids[n];o&&(o.d&&(e+="<br/>"+o.d),o.c&&(e+="<br/>"+o.c),o.w&&(e+="<br/>(warning!)"))}i.innerHTML=e,t.appendChild(i);var s=document.createElement("div");if(s.className="sub",null!=this.sub)for(var a=0,h=this.sub.length;a<h;++a)s.appendChild(this.sub[a].toDOM());return t.appendChild(s),r.switchNode=t,r.onclick=function(){var t=this.switchNode;t.className="node collapsed"==t.className?"node":"node collapsed"},t},pidCrypt.ASN1.prototype.posStart=function(){return this.stream.pos},pidCrypt.ASN1.prototype.posContent=function(){return this.stream.pos+this.header},pidCrypt.ASN1.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},pidCrypt.ASN1.prototype.toHexDOM_sub=function(t,r,e,i,n){if(!(i>=n)){var o=document.createElement("span");o.className=r,o.appendChild(document.createTextNode(e.hexDump(i,n))),t.appendChild(o)}},pidCrypt.ASN1.prototype.toHexDOM=function(){var t=document.createElement("span");if(t.className="hex",this.head.hexNode=t,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},this.toHexDOM_sub(t,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(t,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),null==this.sub)t.appendChild(document.createTextNode(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){var r=this.sub[0],e=this.sub[this.sub.length-1];this.toHexDOM_sub(t,"intro",this.stream,this.posContent(),r.posStart());for(var i=0,n=this.sub.length;i<n;++i)t.appendChild(this.sub[i].toHexDOM());this.toHexDOM_sub(t,"outro",this.stream,e.posEnd(),this.posEnd())}return t},pidCrypt.ASN1.decodeLength=function(t){var r=t.get(),e=127&r;if(e==r)return e;if(e>3)throw"Length over 24 bits not supported at position "+(t.pos-1);if(0==e)return-1;r=0;for(var i=0;i<e;++i)r=r<<8|t.get();return r},pidCrypt.ASN1.hasContent=function(t,r,e){if(32&t)return!0;if(t<3||t>4)return!1;var i=new Stream(e);if(3==t&&i.get(),i.get()>>6&1)return!1;try{var n=pidCrypt.ASN1.decodeLength(i);return i.pos-e.pos+n==r}catch(t){return!1}},pidCrypt.ASN1.decode=function(t){t instanceof Stream||(t=new Stream(t,0));var r=new Stream(t),e=t.get(),i=pidCrypt.ASN1.decodeLength(t),n=t.pos-r.pos,o=null;if(pidCrypt.ASN1.hasContent(e,i,t)){var s=t.pos;if(3==e&&t.get(),o=[],i>=0){for(var a=s+i;t.pos<a;)o[o.length]=pidCrypt.ASN1.decode(t);if(t.pos!=a)throw"Content size is not correct for container starting at offset "+s}else try{for(;;){var h=pidCrypt.ASN1.decode(t);if(0==h.tag)break;o[o.length]=h}i=s-t.pos}catch(t){throw"Exception while decoding undefined length content: "+t}}else t.pos+=i;return new pidCrypt.ASN1(r,n,i,e,o)},pidCrypt.ASN1.test=function(){for(var t=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],r=0,e=t.length;r<e;++r){var i=new Stream(t[r].value,0),n=pidCrypt.ASN1.decodeLength(i);n!=t[r].expected&&document.write("In test["+r+"] expected "+t[r].expected+" got "+n+"\n")}});var canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary);function BigInteger(t,r,e){null!=t&&("number"==typeof t?this.fromNumber(t,r,e):null==r&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,r))}function nbi(){return new BigInteger(null)}function am1(t,r,e,i,n,o){for(;--o>=0;){var s=r*this[t++]+e[i]+n;n=Math.floor(s/67108864),e[i++]=67108863&s}return n}function am2(t,r,e,i,n,o){for(var s=32767&r,a=r>>15;--o>=0;){var h=32767&this[t],p=this[t++]>>15,u=a*h+p*s;n=((h=s*h+((32767&u)<<15)+e[i]+(1073741823&n))>>>30)+(u>>>15)+a*p+(n>>>30),e[i++]=1073741823&h}return n}function am3(t,r,e,i,n,o){for(var s=16383&r,a=r>>14;--o>=0;){var h=16383&this[t],p=this[t++]>>14,u=a*h+p*s;n=((h=s*h+((16383&u)<<14)+e[i]+n)>>28)+(u>>14)+a*p,e[i++]=268435455&h}return n}j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP;var rr,vv,BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array;for(rr="0".charCodeAt(0),vv=0;vv<=9;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;function int2char(t){return BI_RM.charAt(t)}function intAt(t,r){var e=BI_RC[t.charCodeAt(r)];return null==e?-1:e}function bnpCopyTo(t){for(var r=this.t-1;r>=0;--r)t[r]=this[r];t.t=this.t,t.s=this.s}function bnpFromInt(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+DV:this.t=0}function nbv(t){var r=nbi();return r.fromInt(t),r}function bnpFromString(t,r){var e;if(16==r)e=4;else if(8==r)e=3;else if(256==r)e=8;else if(2==r)e=1;else if(32==r)e=5;else{if(4!=r)return void this.fromRadix(t,r);e=2}this.t=0,this.s=0;for(var i=t.length,n=!1,o=0;--i>=0;){var s=8==e?255&t[i]:intAt(t,i);s<0?"-"==t.charAt(i)&&(n=!0):(n=!1,0==o?this[this.t++]=s:o+e>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=e)>=this.DB&&(o-=this.DB))}8==e&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),n&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function bnToString(t){if(this.s<0)return"-"+this.negate().toString(t);var r;if(16==t)r=4;else if(8==t)r=3;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return this.toRadix(t);r=2}var e,i=(1<<r)-1,n=!1,o="",s=this.t,a=this.DB-s*this.DB%r;if(s-- >0)for(a<this.DB&&(e=this[s]>>a)>0&&(n=!0,o=int2char(e));s>=0;)a<r?(e=(this[s]&(1<<a)-1)<<r-a,e|=this[--s]>>(a+=this.DB-r)):(e=this[s]>>(a-=r)&i,a<=0&&(a+=this.DB,--s)),e>0&&(n=!0),n&&(o+=int2char(e));return n?o:"0"}function bnNegate(){var t=nbi();return BigInteger.ZERO.subTo(this,t),t}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(t){var r=this.s-t.s;if(0!=r)return r;var e=this.t;if(0!=(r=e-t.t))return r;for(;--e>=0;)if(0!=(r=this[e]-t[e]))return r;return 0}function nbits(t){var r,e=1;return 0!=(r=t>>>16)&&(t=r,e+=16),0!=(r=t>>8)&&(t=r,e+=8),0!=(r=t>>4)&&(t=r,e+=4),0!=(r=t>>2)&&(t=r,e+=2),0!=(r=t>>1)&&(t=r,e+=1),e}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(t,r){var e;for(e=this.t-1;e>=0;--e)r[e+t]=this[e];for(e=t-1;e>=0;--e)r[e]=0;r.t=this.t+t,r.s=this.s}function bnpDRShiftTo(t,r){for(var e=t;e<this.t;++e)r[e-t]=this[e];r.t=Math.max(this.t-t,0),r.s=this.s}function bnpLShiftTo(t,r){var e,i=t%this.DB,n=this.DB-i,o=(1<<n)-1,s=Math.floor(t/this.DB),a=this.s<<i&this.DM;for(e=this.t-1;e>=0;--e)r[e+s+1]=this[e]>>n|a,a=(this[e]&o)<<i;for(e=s-1;e>=0;--e)r[e]=0;r[s]=a,r.t=this.t+s+1,r.s=this.s,r.clamp()}function bnpRShiftTo(t,r){r.s=this.s;var e=Math.floor(t/this.DB);if(e>=this.t)r.t=0;else{var i=t%this.DB,n=this.DB-i,o=(1<<i)-1;r[0]=this[e]>>i;for(var s=e+1;s<this.t;++s)r[s-e-1]|=(this[s]&o)<<n,r[s-e]=this[s]>>i;i>0&&(r[this.t-e-1]|=(this.s&o)<<n),r.t=this.t-e,r.clamp()}}function bnpSubTo(t,r){for(var e=0,i=0,n=Math.min(t.t,this.t);e<n;)i+=this[e]-t[e],r[e++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;e<this.t;)i+=this[e],r[e++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;e<t.t;)i-=t[e],r[e++]=i&this.DM,i>>=this.DB;i-=t.s}r.s=i<0?-1:0,i<-1?r[e++]=this.DV+i:i>0&&(r[e++]=i),r.t=e,r.clamp()}function bnpMultiplyTo(t,r){var e=this.abs(),i=t.abs(),n=e.t;for(r.t=n+i.t;--n>=0;)r[n]=0;for(n=0;n<i.t;++n)r[n+e.t]=e.am(0,i[n],r,n,0,e.t);r.s=0,r.clamp(),this.s!=t.s&&BigInteger.ZERO.subTo(r,r)}function bnpSquareTo(t){for(var r=this.abs(),e=t.t=2*r.t;--e>=0;)t[e]=0;for(e=0;e<r.t-1;++e){var i=r.am(e,r[e],t,2*e,0,1);(t[e+r.t]+=r.am(e+1,2*r[e],t,2*e+1,i,r.t-e-1))>=r.DV&&(t[e+r.t]-=r.DV,t[e+r.t+1]=1)}t.t>0&&(t[t.t-1]+=r.am(e,r[e],t,2*e,0,1)),t.s=0,t.clamp()}function bnpDivRemTo(t,r,e){var i=t.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t)return null!=r&&r.fromInt(0),void(null!=e&&this.copyTo(e));null==e&&(e=nbi());var o=nbi(),s=this.s,a=t.s,h=this.DB-nbits(i[i.t-1]);h>0?(i.lShiftTo(h,o),n.lShiftTo(h,e)):(i.copyTo(o),n.copyTo(e));var p=o.t,u=o[p-1];if(0!=u){var c=u*(1<<this.F1)+(p>1?o[p-2]>>this.F2:0),d=this.FV/c,l=(1<<this.F1)/c,f=1<<this.F2,g=e.t,y=g-p,m=null==r?nbi():r;for(o.dlShiftTo(y,m),e.compareTo(m)>=0&&(e[e.t++]=1,e.subTo(m,e)),BigInteger.ONE.dlShiftTo(p,m),m.subTo(o,o);o.t<p;)o[o.t++]=0;for(;--y>=0;){var v=e[--g]==u?this.DM:Math.floor(e[g]*d+(e[g-1]+f)*l);if((e[g]+=o.am(0,v,e,y,0,p))<v)for(o.dlShiftTo(y,m),e.subTo(m,e);e[g]<--v;)e.subTo(m,e)}null!=r&&(e.drShiftTo(p,r),s!=a&&BigInteger.ZERO.subTo(r,r)),e.t=p,e.clamp(),h>0&&e.rShiftTo(h,e),s<0&&BigInteger.ZERO.subTo(e,e)}}}function bnMod(t){var r=nbi();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(BigInteger.ZERO)>0&&t.subTo(r,r),r}function Classic(t){this.m=t}function cConvert(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function cRevert(t){return t}function cReduce(t){t.divRemTo(this.m,null,t)}function cMulTo(t,r,e){t.multiplyTo(r,e),this.reduce(e)}function cSqrTo(t,r){t.squareTo(r),this.reduce(r)}function bnpInvDigit(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var r=3&t;return(r=(r=(r=(r=r*(2-(15&t)*r)&15)*(2-(255&t)*r)&255)*(2-((65535&t)*r&65535))&65535)*(2-t*r%this.DV)%this.DV)>0?this.DV-r:-r}function Montgomery(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function montConvert(t){var r=nbi();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s<0&&r.compareTo(BigInteger.ZERO)>0&&this.m.subTo(r,r),r}function montRevert(t){var r=nbi();return t.copyTo(r),this.reduce(r),r}function montReduce(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var r=0;r<this.m.t;++r){var e=32767&t[r],i=e*this.mpl+((e*this.mph+(t[r]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[e=r+this.m.t]+=this.m.am(0,i,t,r,0,this.m.t);t[e]>=t.DV;)t[e]-=t.DV,t[++e]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function montSqrTo(t,r){t.squareTo(r),this.reduce(r)}function montMulTo(t,r,e){t.multiplyTo(r,e),this.reduce(e)}function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)}function bnpExp(t,r){if(t>4294967295||t<1)return BigInteger.ONE;var e=nbi(),i=nbi(),n=r.convert(this),o=nbits(t)-1;for(n.copyTo(e);--o>=0;)if(r.sqrTo(e,i),(t&1<<o)>0)r.mulTo(i,n,e);else{var s=e;e=i,i=s}return r.revert(e)}function bnModPowInt(t,r){var e;return e=t<256||r.isEven()?new Classic(r):new Montgomery(r),this.exp(t,e)}function bnClone(){var t=nbi();return this.copyTo(t),t}function bnIntValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16}function bnpChunkSize(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function bnpToRadix(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var r=this.chunkSize(t),e=Math.pow(t,r),i=nbv(e),n=nbi(),o=nbi(),s="";for(this.divRemTo(i,n,o);n.signum()>0;)s=(e+o.intValue()).toString(t).substr(1)+s,n.divRemTo(i,n,o);return o.intValue().toString(t)+s}function bnpFromRadix(t,r){this.fromInt(0),null==r&&(r=10);for(var e=this.chunkSize(r),i=Math.pow(r,e),n=!1,o=0,s=0,a=0;a<t.length;++a){var h=intAt(t,a);h<0?"-"==t.charAt(a)&&0==this.signum()&&(n=!0):(s=r*s+h,++o>=e&&(this.dMultiply(i),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(r,o)),this.dAddOffset(s,0)),n&&BigInteger.ZERO.subTo(this,this)}function bnpFromNumber(t,r,e){if("number"==typeof r)if(t<2)this.fromInt(1);else for(this.fromNumber(t,e),this.testBit(t-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(t-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(BigInteger.ONE.shiftLeft(t-1),this);else{var i=new Array,n=7&t;i.length=1+(t>>3),r.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}}function bnToByteArray(){var t=this.t,r=new Array;r[0]=this.s;var e,i=this.DB-t*this.DB%8,n=0;if(t-- >0)for(i<this.DB&&(e=this[t]>>i)!=(this.s&this.DM)>>i&&(r[n++]=e|this.s<<this.DB-i);t>=0;)i<8?(e=(this[t]&(1<<i)-1)<<8-i,e|=this[--t]>>(i+=this.DB-8)):(e=this[t]>>(i-=8)&255,i<=0&&(i+=this.DB,--t)),0!=(128&e)&&(e|=-256),0==n&&(128&this.s)!=(128&e)&&++n,(n>0||e!=this.s)&&(r[n++]=e);return r}function bnEquals(t){return 0==this.compareTo(t)}function bnMin(t){return this.compareTo(t)<0?this:t}function bnMax(t){return this.compareTo(t)>0?this:t}function bnpBitwiseTo(t,r,e){var i,n,o=Math.min(t.t,this.t);for(i=0;i<o;++i)e[i]=r(this[i],t[i]);if(t.t<this.t){for(n=t.s&this.DM,i=o;i<this.t;++i)e[i]=r(this[i],n);e.t=this.t}else{for(n=this.s&this.DM,i=o;i<t.t;++i)e[i]=r(n,t[i]);e.t=t.t}e.s=r(this.s,t.s),e.clamp()}function op_and(t,r){return t&r}function bnAnd(t){var r=nbi();return this.bitwiseTo(t,op_and,r),r}function op_or(t,r){return t|r}function bnOr(t){var r=nbi();return this.bitwiseTo(t,op_or,r),r}function op_xor(t,r){return t^r}function bnXor(t){var r=nbi();return this.bitwiseTo(t,op_xor,r),r}function op_andnot(t,r){return t&~r}function bnAndNot(t){var r=nbi();return this.bitwiseTo(t,op_andnot,r),r}function bnNot(){for(var t=nbi(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}function bnShiftLeft(t){var r=nbi();return t<0?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}function bnShiftRight(t){var r=nbi();return t<0?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}function lbit(t){if(0==t)return-1;var r=0;return 0==(65535&t)&&(t>>=16,r+=16),0==(255&t)&&(t>>=8,r+=8),0==(15&t)&&(t>>=4,r+=4),0==(3&t)&&(t>>=2,r+=2),0==(1&t)&&++r,r}function bnGetLowestSetBit(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+lbit(this[t]);return this.s<0?this.t*this.DB:-1}function cbit(t){for(var r=0;0!=t;)t&=t-1,++r;return r}function bnBitCount(){for(var t=0,r=this.s&this.DM,e=0;e<this.t;++e)t+=cbit(this[e]^r);return t}function bnTestBit(t){var r=Math.floor(t/this.DB);return r>=this.t?0!=this.s:0!=(this[r]&1<<t%this.DB)}function bnpChangeBit(t,r){var e=BigInteger.ONE.shiftLeft(t);return this.bitwiseTo(e,r,e),e}function bnSetBit(t){return this.changeBit(t,op_or)}function bnClearBit(t){return this.changeBit(t,op_andnot)}function bnFlipBit(t){return this.changeBit(t,op_xor)}function bnpAddTo(t,r){for(var e=0,i=0,n=Math.min(t.t,this.t);e<n;)i+=this[e]+t[e],r[e++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;e<this.t;)i+=this[e],r[e++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;e<t.t;)i+=t[e],r[e++]=i&this.DM,i>>=this.DB;i+=t.s}r.s=i<0?-1:0,i>0?r[e++]=i:i<-1&&(r[e++]=this.DV+i),r.t=e,r.clamp()}function bnAdd(t){var r=nbi();return this.addTo(t,r),r}function bnSubtract(t){var r=nbi();return this.subTo(t,r),r}function bnMultiply(t){var r=nbi();return this.multiplyTo(t,r),r}function bnDivide(t){var r=nbi();return this.divRemTo(t,r,null),r}function bnRemainder(t){var r=nbi();return this.divRemTo(t,null,r),r}function bnDivideAndRemainder(t){var r=nbi(),e=nbi();return this.divRemTo(t,r,e),new Array(r,e)}function bnpDMultiply(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(t,r){for(;this.t<=r;)this[this.t++]=0;for(this[r]+=t;this[r]>=this.DV;)this[r]-=this.DV,++r>=this.t&&(this[this.t++]=0),++this[r]}function NullExp(){}function nNop(t){return t}function nMulTo(t,r,e){t.multiplyTo(r,e)}function nSqrTo(t,r){t.squareTo(r)}function bnPow(t){return this.exp(t,new NullExp)}function bnpMultiplyLowerTo(t,r,e){var i,n=Math.min(this.t+t.t,r);for(e.s=0,e.t=n;n>0;)e[--n]=0;for(i=e.t-this.t;n<i;++n)e[n+this.t]=this.am(0,t[n],e,n,0,this.t);for(i=Math.min(t.t,r);n<i;++n)this.am(0,t[n],e,n,0,r-n);e.clamp()}function bnpMultiplyUpperTo(t,r,e){--r;var i=e.t=this.t+t.t-r;for(e.s=0;--i>=0;)e[i]=0;for(i=Math.max(r-this.t,0);i<t.t;++i)e[this.t+i-r]=this.am(r-i,t[i],e,0,0,this.t+i-r);e.clamp(),e.drShiftTo(1,e)}function Barrett(t){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function barrettConvert(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=nbi();return t.copyTo(r),this.reduce(r),r}function barrettRevert(t){return t}function barrettReduce(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function barrettSqrTo(t,r){t.squareTo(r),this.reduce(r)}function barrettMulTo(t,r,e){t.multiplyTo(r,e),this.reduce(e)}function bnModPow(t,r){var e,i,n=t.bitLength(),o=nbv(1);if(n<=0)return o;e=n<18?1:n<48?3:n<144?4:n<768?5:6,i=n<8?new Classic(r):r.isEven()?new Barrett(r):new Montgomery(r);var s=new Array,a=3,h=e-1,p=(1<<e)-1;if(s[1]=i.convert(this),e>1){var u=nbi();for(i.sqrTo(s[1],u);a<=p;)s[a]=nbi(),i.mulTo(u,s[a-2],s[a]),a+=2}var c,d,l=t.t-1,f=!0,g=nbi();for(n=nbits(t[l])-1;l>=0;){for(n>=h?c=t[l]>>n-h&p:(c=(t[l]&(1<<n+1)-1)<<h-n,l>0&&(c|=t[l-1]>>this.DB+n-h)),a=e;0==(1&c);)c>>=1,--a;if((n-=a)<0&&(n+=this.DB,--l),f)s[c].copyTo(o),f=!1;else{for(;a>1;)i.sqrTo(o,g),i.sqrTo(g,o),a-=2;a>0?i.sqrTo(o,g):(d=o,o=g,g=d),i.mulTo(g,s[c],o)}for(;l>=0&&0==(t[l]&1<<n);)i.sqrTo(o,g),d=o,o=g,g=d,--n<0&&(n=this.DB-1,--l)}return i.revert(o)}function bnGCD(t){var r=this.s<0?this.negate():this.clone(),e=t.s<0?t.negate():t.clone();if(r.compareTo(e)<0){var i=r;r=e,e=i}var n=r.getLowestSetBit(),o=e.getLowestSetBit();if(o<0)return r;for(n<o&&(o=n),o>0&&(r.rShiftTo(o,r),e.rShiftTo(o,e));r.signum()>0;)(n=r.getLowestSetBit())>0&&r.rShiftTo(n,r),(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),r.compareTo(e)>=0?(r.subTo(e,r),r.rShiftTo(1,r)):(e.subTo(r,e),e.rShiftTo(1,e));return o>0&&e.lShiftTo(o,e),e}function bnpModInt(t){if(t<=0)return 0;var r=this.DV%t,e=this.s<0?t-1:0;if(this.t>0)if(0==r)e=this[0]%t;else for(var i=this.t-1;i>=0;--i)e=(r*e+this[i])%t;return e}function bnModInverse(t){var r=t.isEven();if(this.isEven()&&r||0==t.signum())return BigInteger.ZERO;for(var e=t.clone(),i=this.clone(),n=nbv(1),o=nbv(0),s=nbv(0),a=nbv(1);0!=e.signum();){for(;e.isEven();)e.rShiftTo(1,e),r?(n.isEven()&&o.isEven()||(n.addTo(this,n),o.subTo(t,o)),n.rShiftTo(1,n)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),r?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);e.compareTo(i)>=0?(e.subTo(i,e),r&&n.subTo(s,n),o.subTo(a,o)):(i.subTo(e,i),r&&s.subTo(n,s),a.subTo(o,a))}return 0!=i.compareTo(BigInteger.ONE)?BigInteger.ZERO:a.compareTo(t)>=0?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a}Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=nMulTo,NullExp.prototype.sqrTo=nSqrTo,Barrett.prototype.convert=barrettConvert,Barrett.prototype.revert=barrettRevert,Barrett.prototype.reduce=barrettReduce,Barrett.prototype.mulTo=barrettMulTo,Barrett.prototype.sqrTo=barrettSqrTo;var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],lplim=(1<<26)/lowprimes[lowprimes.length-1];function bnIsProbablePrime(t){var r,e=this.abs();if(1==e.t&&e[0]<=lowprimes[lowprimes.length-1]){for(r=0;r<lowprimes.length;++r)if(e[0]==lowprimes[r])return!0;return!1}if(e.isEven())return!1;for(r=1;r<lowprimes.length;){for(var i=lowprimes[r],n=r+1;n<lowprimes.length&&i<lplim;)i*=lowprimes[n++];for(i=e.modInt(i);r<n;)if(i%lowprimes[r++]==0)return!1}return e.millerRabin(t)}function bnpMillerRabin(t){var r=this.subtract(BigInteger.ONE),e=r.getLowestSetBit();if(e<=0)return!1;var i=r.shiftRight(e);(t=t+1>>1)>lowprimes.length&&(t=lowprimes.length);for(var n=nbi(),o=0;o<t;++o){n.fromInt(lowprimes[o]);var s=n.modPow(i,this);if(0!=s.compareTo(BigInteger.ONE)&&0!=s.compareTo(r)){for(var a=1;a++<e&&0!=s.compareTo(r);)if(0==(s=s.modPowInt(2,this)).compareTo(BigInteger.ONE))return!1;if(0!=s.compareTo(r))return!1}}return!0}function SecureRandom(){if(this.rng_state,this.rng_pool,this.rng_pptr,this.rng_seed_int=function(t){this.rng_pool[this.rng_pptr++]^=255&t,this.rng_pool[this.rng_pptr++]^=t>>8&255,this.rng_pool[this.rng_pptr++]^=t>>16&255,this.rng_pool[this.rng_pptr++]^=t>>24&255,this.rng_pptr>=rng_psize&&(this.rng_pptr-=rng_psize)},this.rng_seed_time=function(){this.rng_seed_int((new Date).getTime())},null==this.rng_pool){var t;if(this.rng_pool=new Array,this.rng_pptr=0,"Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var r=window.crypto.random(32);for(t=0;t<r.length;++t)this.rng_pool[this.rng_pptr++]=255&r.charCodeAt(t)}for(;this.rng_pptr<rng_psize;)t=Math.floor(65536*Math.random()),this.rng_pool[this.rng_pptr++]=t>>>8,this.rng_pool[this.rng_pptr++]=255&t;this.rng_pptr=0,this.rng_seed_time()}this.rng_get_byte=function(){if(null==this.rng_state){for(this.rng_seed_time(),this.rng_state=prng_newstate(),this.rng_state.init(this.rng_pool),this.rng_pptr=0;this.rng_pptr<this.rng_pool.length;++this.rng_pptr)this.rng_pool[this.rng_pptr]=0;this.rng_pptr=0}return this.rng_state.next()},this.nextBytes=function(t){var r;for(r=0;r<t.length;++r)t[r]=this.rng_get_byte()}}function Arcfour(){this.i=0,this.j=0,this.S=new Array}function ARC4init(t){var r,e,i;for(r=0;r<256;++r)this.S[r]=r;for(e=0,r=0;r<256;++r)e=e+this.S[r]+t[r%t.length]&255,i=this.S[r],this.S[r]=this.S[e],this.S[e]=i;this.i=0,this.j=0}function ARC4next(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function prng_newstate(){return new Arcfour}BigInteger.prototype.chunkSize=bnpChunkSize,BigInteger.prototype.toRadix=bnpToRadix,BigInteger.prototype.fromRadix=bnpFromRadix,BigInteger.prototype.fromNumber=bnpFromNumber,BigInteger.prototype.bitwiseTo=bnpBitwiseTo,BigInteger.prototype.changeBit=bnpChangeBit,BigInteger.prototype.addTo=bnpAddTo,BigInteger.prototype.dMultiply=bnpDMultiply,BigInteger.prototype.dAddOffset=bnpDAddOffset,BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo,BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo,BigInteger.prototype.modInt=bnpModInt,BigInteger.prototype.millerRabin=bnpMillerRabin,BigInteger.prototype.clone=bnClone,BigInteger.prototype.intValue=bnIntValue,BigInteger.prototype.byteValue=bnByteValue,BigInteger.prototype.shortValue=bnShortValue,BigInteger.prototype.signum=bnSigNum,BigInteger.prototype.toByteArray=bnToByteArray,BigInteger.prototype.equals=bnEquals,BigInteger.prototype.min=bnMin,BigInteger.prototype.max=bnMax,BigInteger.prototype.and=bnAnd,BigInteger.prototype.or=bnOr,BigInteger.prototype.xor=bnXor,BigInteger.prototype.andNot=bnAndNot,BigInteger.prototype.not=bnNot,BigInteger.prototype.shiftLeft=bnShiftLeft,BigInteger.prototype.shiftRight=bnShiftRight,BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit,BigInteger.prototype.bitCount=bnBitCount,BigInteger.prototype.testBit=bnTestBit,BigInteger.prototype.setBit=bnSetBit,BigInteger.prototype.clearBit=bnClearBit,BigInteger.prototype.flipBit=bnFlipBit,BigInteger.prototype.add=bnAdd,BigInteger.prototype.subtract=bnSubtract,BigInteger.prototype.multiply=bnMultiply,BigInteger.prototype.divide=bnDivide,BigInteger.prototype.remainder=bnRemainder,BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder,BigInteger.prototype.modPow=bnModPow,BigInteger.prototype.modInverse=bnModInverse,BigInteger.prototype.pow=bnPow,BigInteger.prototype.gcd=bnGCD,BigInteger.prototype.isProbablePrime=bnIsProbablePrime,Arcfour.prototype.init=ARC4init,Arcfour.prototype.next=ARC4next;var rng_psize=256;if(void 0!==pidCrypt&&void 0!==BigInteger&&void 0!==SecureRandom&&void 0!==Arcfour){function parseBigInt(t,r){return new BigInteger(t,r)}function linebrk(t,r){for(var e="",i=0;i+r<t.length;)e+=t.substring(i,i+r)+"\n",i+=r;return e+t.substring(i,t.length)}function byte2Hex(t){return t<16?"0"+t.toString(16):t.toString(16)}function pkcs1unpad2(t,r){for(var e=t.toByteArray(),i=0;i<e.length&&0==e[i];)++i;if(e.length-i!=r-1||2!=e[i])return null;for(++i;0!=e[i];)if(++i>=e.length)return null;for(var n="";++i<e.length;)n+=String.fromCharCode(e[i]);return n}function pkcs1pad2(t,r){if(r<t.length+11)return alert("Message too long for RSA"),null;for(var e=new Array,i=t.length-1;i>=0&&r>0;)e[--r]=t.charCodeAt(i--);e[--r]=0;for(var n=new SecureRandom,o=new Array;r>2;){for(o[0]=0;0==o[0];)n.nextBytes(o);e[--r]=o[0]}return e[--r]=2,e[--r]=0,new BigInteger(e)}pidCrypt.RSA=function(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null},pidCrypt.RSA.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var r=t.mod(this.p).modPow(this.dmp1,this.p),e=t.mod(this.q).modPow(this.dmq1,this.q);r.compareTo(e)<0;)r=r.add(this.p);return r.subtract(e).multiply(this.coeff).mod(this.p).multiply(this.q).add(e)},pidCrypt.RSA.prototype.setPublic=function(t,r,e){void 0===e&&(e=16),null!=t&&null!=r&&t.length>0&&r.length>0?(this.n=parseBigInt(t,e),this.e=parseInt(r,e)):alert("Invalid RSA public key")},pidCrypt.RSA.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},pidCrypt.RSA.prototype.encryptRaw=function(t){var r=pkcs1pad2(t,this.n.bitLength()+7>>3);if(null==r)return null;var e=this.doPublic(r);if(null==e)return null;var i=e.toString(16);return 0==(1&i.length)?i:"0"+i},pidCrypt.RSA.prototype.encrypt=function(t){return t=pidCryptUtil.encodeBase64(t),this.encryptRaw(t)},pidCrypt.RSA.prototype.decryptRaw=function(t){var r=parseBigInt(t,16),e=this.doPrivate(r);return null==e?null:pkcs1unpad2(e,this.n.bitLength()+7>>3)},pidCrypt.RSA.prototype.decrypt=function(t){var r=this.decryptRaw(t);return r=r?pidCryptUtil.decodeBase64(r):""},pidCrypt.RSA.prototype.setPrivate=function(t,r,e,i){void 0===i&&(i=16),null!=t&&null!=r&&t.length>0&&r.length>0?(this.n=parseBigInt(t,i),this.e=parseInt(r,i),this.d=parseBigInt(e,i)):alert("Invalid RSA private key")},pidCrypt.RSA.prototype.setPrivateEx=function(t,r,e,i,n,o,s,a,h){void 0===h&&(h=16),null!=t&&null!=r&&t.length>0&&r.length>0?(this.n=parseBigInt(t,h),this.e=parseInt(r,h),this.d=parseBigInt(e,h),this.p=parseBigInt(i,h),this.q=parseBigInt(n,h),this.dmp1=parseBigInt(o,h),this.dmq1=parseBigInt(s,h),this.coeff=parseBigInt(a,h)):alert("Invalid RSA private key")},pidCrypt.RSA.prototype.generate=function(t,r){var e=new SecureRandom,i=t>>1;this.e=parseInt(r,16);for(var n=new BigInteger(r,16);;){for(;this.p=new BigInteger(t-i,1,e),0!=this.p.subtract(BigInteger.ONE).gcd(n).compareTo(BigInteger.ONE)||!this.p.isProbablePrime(10););for(;this.q=new BigInteger(i,1,e),0!=this.q.subtract(BigInteger.ONE).gcd(n).compareTo(BigInteger.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(BigInteger.ONE),a=this.q.subtract(BigInteger.ONE),h=s.multiply(a);if(0==h.gcd(n).compareTo(BigInteger.ONE)){this.n=this.p.multiply(this.q),this.d=n.modInverse(h),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}},pidCrypt.RSA.prototype.getASNData=function(t){var r=[],e=0;if(t.value&&"INTEGER"==t.type&&(r[e++]=t.value),t.sub)for(var i=0;i<t.sub.length;i++)r=r.concat(this.getASNData(t.sub[i]));return r},pidCrypt.RSA.prototype.setKeyFromASN=function(t,r){var e=["N","E","D","P","Q","DP","DQ","C"],i={},n=this.getASNData(r);switch(t){case"Public":case"public":for(var o=0;o<n.length;o++)i[e[o]]=n[o].toLowerCase();this.setPublic(i.N,i.E,16);break;case"Private":case"private":for(o=1;o<n.length;o++)i[e[o-1]]=n[o].toLowerCase();this.setPrivateEx(i.N,i.E,i.D,i.P,i.Q,i.DP,i.DQ,i.C,16)}},pidCrypt.RSA.prototype.setPublicKeyFromASN=function(t){this.setKeyFromASN("public",t)},pidCrypt.RSA.prototype.setPrivateKeyFromASN=function(t){this.setKeyFromASN("private",t)},pidCrypt.RSA.prototype.getParameters=function(){var t={};return null!=this.n&&(t.n=this.n),t.e=this.e,null!=this.d&&(t.d=this.d),null!=this.p&&(t.p=this.p),null!=this.q&&(t.q=this.q),null!=this.dmp1&&(t.dmp1=this.dmp1),null!=this.dmq1&&(t.dmq1=this.dmq1),null!=this.coeff&&(t.c=this.coeff),t}}String.prototype.encodeBase64=function(t){return pidCryptUtil.encodeBase64(this,t)},String.prototype.decodeBase64=function(t){return pidCryptUtil.decodeBase64(this,t)},String.prototype.encodeUTF8=function(){return pidCryptUtil.encodeUTF8(this)},String.prototype.decodeUTF8=function(){return pidCryptUtil.decodeUTF8(this)},String.prototype.convertToHex=function(){return pidCryptUtil.convertToHex(this)},String.prototype.convertFromHex=function(){return pidCryptUtil.convertFromHex(this)},String.prototype.stripLineFeeds=function(){return pidCryptUtil.stripLineFeeds(this)},String.prototype.toByteArray=function(){return pidCryptUtil.toByteArray(this)},String.prototype.fragment=function(t,r){return pidCryptUtil.fragment(this,t,r)},String.prototype.formatHex=function(t){return pidCryptUtil.formatHex(this,t)},module.exports={pidCrypt:pidCrypt,pidCryptUtil:pidCryptUtil};

},{}],4:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],5:[function(require,module,exports){
(function (process,setImmediate){(function (){
!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=t}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var n="undefined"!=typeof window?window:self,e=n.Q;n.Q=t(),n.Q.noConflict=function(){return n.Q=e,this}}}(function(){"use strict";var t=!1;try{throw new Error}catch(n){t=!!n.stack}var n,e=g(),r=function(){},o=function(){var t={task:void 0,next:null},n=t,e=!1,r=void 0,i=!1,u=[];function c(){for(var n,r;t.next;)n=(t=t.next).task,t.task=void 0,(r=t.domain)&&(t.domain=void 0,r.enter()),f(n,r);for(;u.length;)f(n=u.pop());e=!1}function f(t,n){try{t()}catch(t){if(i)throw n&&n.exit(),setTimeout(c,0),n&&n.enter(),t;setTimeout(function(){throw t},0)}n&&n.exit()}if(o=function(t){n=n.next={task:t,domain:i&&process.domain,next:null},e||(e=!0,r())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)i=!0,r=function(){process.nextTick(c)};else if("function"==typeof setImmediate)r="undefined"!=typeof window?setImmediate.bind(window,c):function(){setImmediate(c)};else if("undefined"!=typeof MessageChannel){var s=new MessageChannel;s.port1.onmessage=function(){r=p,s.port1.onmessage=c,c()};var p=function(){s.port2.postMessage(0)};r=function(){setTimeout(c,0),p()}}else r=function(){setTimeout(c,0)};return o.runAfter=function(t){u.push(t),e||(e=!0,r())},o}(),i=Function.call;function u(t){return function(){return i.apply(t,arguments)}}var c,f=u(Array.prototype.slice),s=u(Array.prototype.reduce||function(t,n){var e=0,r=this.length;if(1===arguments.length)for(;;){if(e in this){n=this[e++];break}if(++e>=r)throw new TypeError}for(;e<r;e++)e in this&&(n=t(n,this[e],e));return n}),p=u(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),a=u(Array.prototype.map||function(t,n){var e=this,r=[];return s(e,function(o,i,u){r.push(t.call(n,i,u,e))},void 0),r}),l=Object.create||function(t){function n(){}return n.prototype=t,new n},d=Object.defineProperty||function(t,n,e){return t[n]=e.value,t},h=u(Object.prototype.hasOwnProperty),y=Object.keys||function(t){var n=[];for(var e in t)h(t,e)&&n.push(e);return n},v=u(Object.prototype.toString);c="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var m="From previous event:";function k(n,e){if(t&&e.stack&&"object"==typeof n&&null!==n&&n.stack){for(var r=[],o=e;o;o=o.source)o.stack&&(!n.__minimumStackCounter__||n.__minimumStackCounter__>o.stackCounter)&&(d(n,"__minimumStackCounter__",{value:o.stackCounter,configurable:!0}),r.unshift(o.stack));r.unshift(n.stack);var i=function(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;++r){var o=n[r];!j(o)&&(-1===(i=o).indexOf("(module.js:")&&-1===i.indexOf("(node.js:"))&&o&&e.push(o)}var i;return e.join("\n")}(r.join("\n"+m+"\n"));d(n,"stack",{value:i,configurable:!0})}}function w(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function j(t){var r=w(t);if(!r)return!1;var o=r[0],i=r[1];return o===n&&i>=e&&i<=z}function g(){if(t)try{throw new Error}catch(t){var e=t.stack.split("\n"),r=w(e[0].indexOf("@")>0?e[1]:e[2]);if(!r)return;return n=r[0],r[1]}}function b(t){return t instanceof E?t:_(t)?(n=t,e=T(),b.nextTick(function(){try{n.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}}),e.promise):$(t);var n,e}b.resolve=b,b.nextTick=o,b.longStackSupport=!1;var x=1;function T(){var n,e=[],r=[],o=l(T.prototype),i=l(E.prototype);if(i.promiseDispatch=function(t,o,i){var u=f(arguments);e?(e.push(u),"when"===o&&i[1]&&r.push(i[1])):b.nextTick(function(){n.promiseDispatch.apply(n,u)})},i.valueOf=function(){if(e)return i;var t=C(n);return Q(t)&&(n=t),t},i.inspect=function(){return n?n.inspect():{state:"pending"}},b.longStackSupport&&t)try{throw new Error}catch(t){i.stack=t.stack.substring(t.stack.indexOf("\n")+1),i.stackCounter=x++}function u(o){n=o,b.longStackSupport&&t&&(i.source=o),s(e,function(t,n){b.nextTick(function(){o.promiseDispatch.apply(o,n)})},void 0),e=void 0,r=void 0}return o.promise=i,o.resolve=function(t){n||u(b(t))},o.fulfill=function(t){n||u($(t))},o.reject=function(t){n||u(B(t))},o.notify=function(t){n||s(r,function(n,e){b.nextTick(function(){e(t)})},void 0)},o}function R(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=T();try{t(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}return n.promise}function S(t){return R(function(n,e){for(var r=0,o=t.length;r<o;r++)b(t[r]).then(n,e)})}function E(t,n,e){void 0===n&&(n=function(t){return B(new Error("Promise does not support operation: "+t))}),void 0===e&&(e=function(){return{state:"unknown"}});var r=l(E.prototype);if(r.promiseDispatch=function(e,o,i){var u;try{u=t[o]?t[o].apply(r,i):n.call(r,o,i)}catch(t){u=B(t)}e&&e(u)},r.inspect=e,e){var o=e();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=e();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function O(t,n,e,r){return b(t).then(n,e,r)}function C(t){if(Q(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function Q(t){return t instanceof E}function _(t){return(n=t)===Object(n)&&"function"==typeof t.then;var n}"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(b.longStackSupport=!0),b.defer=T,T.prototype.makeNodeResolver=function(){var t=this;return function(n,e){n?t.reject(n):arguments.length>2?t.resolve(f(arguments,1)):t.resolve(e)}},b.Promise=R,b.promise=R,R.race=S,R.all=H,R.reject=B,R.resolve=b,b.passByCopy=function(t){return t},E.prototype.passByCopy=function(){return this},b.join=function(t,n){return b(t).join(n)},E.prototype.join=function(t){return b([this,t]).spread(function(t,n){if(t===n)return t;throw new Error("Q can't join: not the same: "+t+" "+n)})},b.race=S,E.prototype.race=function(){return this.then(b.race)},b.makePromise=E,E.prototype.toString=function(){return"[object Promise]"},E.prototype.then=function(t,n,e){var r=this,o=T(),i=!1;return b.nextTick(function(){r.promiseDispatch(function(n){i||(i=!0,o.resolve(function(n){try{return"function"==typeof t?t(n):n}catch(t){return B(t)}}(n)))},"when",[function(t){i||(i=!0,o.resolve(function(t){if("function"==typeof n){k(t,r);try{return n(t)}catch(t){return B(t)}}return B(t)}(t)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(t){var n,r=!1;try{n=function(t){return"function"==typeof e?e(t):t}(t)}catch(t){if(r=!0,!b.onerror)throw t;b.onerror(t)}r||o.notify(n)}]),o.promise},b.tap=function(t,n){return b(t).tap(n)},E.prototype.tap=function(t){return t=b(t),this.then(function(n){return t.fcall(n).thenResolve(n)})},b.when=O,E.prototype.thenResolve=function(t){return this.then(function(){return t})},b.thenResolve=function(t,n){return b(t).thenResolve(n)},E.prototype.thenReject=function(t){return this.then(function(){throw t})},b.thenReject=function(t,n){return b(t).thenReject(n)},b.nearer=C,b.isPromise=Q,b.isPromiseAlike=_,b.isPending=function(t){return Q(t)&&"pending"===t.inspect().state},E.prototype.isPending=function(){return"pending"===this.inspect().state},b.isFulfilled=function(t){return!Q(t)||"fulfilled"===t.inspect().state},E.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},b.isRejected=function(t){return Q(t)&&"rejected"===t.inspect().state},E.prototype.isRejected=function(){return"rejected"===this.inspect().state};var N,P,D,A=[],I=[],U=[],F=!0;function M(){A.length=0,I.length=0,F||(F=!0)}function B(t){var n=E({when:function(n){return n&&function(t){if(F){var n=p(I,t);-1!==n&&("object"==typeof process&&"function"==typeof process.emit&&b.nextTick.runAfter(function(){var e=p(U,t);-1!==e&&(process.emit("rejectionHandled",A[n],t),U.splice(e,1))}),I.splice(n,1),A.splice(n,1))}}(this),n?n(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return function(t,n){F&&("object"==typeof process&&"function"==typeof process.emit&&b.nextTick.runAfter(function(){-1!==p(I,t)&&(process.emit("unhandledRejection",n,t),U.push(t))}),I.push(t),n&&void 0!==n.stack?A.push(n.stack):A.push("(no stack) "+n))}(n,t),n}function $(t){return E({when:function(){return t},get:function(n){return t[n]},set:function(n,e){t[n]=e},delete:function(n){delete t[n]},post:function(n,e){return null==n?t.apply(void 0,e):t[n].apply(t,e)},apply:function(n,e){return t.apply(n,e)},keys:function(){return y(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function V(t,n,e){return b(t).spread(n,e)}function G(t,n,e){return b(t).dispatch(n,e)}function H(t){return O(t,function(t){var n=0,e=T();return s(t,function(r,o,i){var u;Q(o)&&"fulfilled"===(u=o.inspect()).state?t[i]=u.value:(++n,O(o,function(r){t[i]=r,0==--n&&e.resolve(t)},e.reject,function(t){e.notify({index:i,value:t})}))},void 0),0===n&&e.resolve(t),e.promise})}function L(t){if(0===t.length)return b.resolve();var n=b.defer(),e=0;return s(t,function(r,o,i){var u=t[i];e++,O(u,function(t){n.resolve(t)},function(t){if(0==--e){var r=t||new Error(""+t);r.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+r.message,n.reject(r)}},function(t){n.notify({index:i,value:t})})},void 0),n.promise}function q(t){return O(t,function(t){return t=a(t,b),O(H(a(t,function(t){return O(t,r,r)})),function(){return t})})}b.resetUnhandledRejections=M,b.getUnhandledReasons=function(){return A.slice()},b.stopUnhandledRejectionTracking=function(){M(),F=!1},M(),b.reject=B,b.fulfill=$,b.master=function(t){return E({isDef:function(){}},function(n,e){return G(t,n,e)},function(){return b(t).inspect()})},b.spread=V,E.prototype.spread=function(t,n){return this.all().then(function(n){return t.apply(void 0,n)},n)},b.async=function(t){return function(){function n(t,n){var i;if("undefined"==typeof StopIteration){try{i=e[t](n)}catch(t){return B(t)}return i.done?b(i.value):O(i.value,r,o)}try{i=e[t](n)}catch(t){return function(t){return"[object StopIteration]"===v(t)||t instanceof c}(t)?b(t.value):B(t)}return O(i,r,o)}var e=t.apply(this,arguments),r=n.bind(n,"next"),o=n.bind(n,"throw");return r()}},b.spawn=function(t){b.done(b.async(t)())},b.return=function(t){throw new c(t)},b.promised=function(t){return function(){return V([this,H(arguments)],function(n,e){return t.apply(n,e)})}},b.dispatch=G,E.prototype.dispatch=function(t,n){var e=this,r=T();return b.nextTick(function(){e.promiseDispatch(r.resolve,t,n)}),r.promise},b.get=function(t,n){return b(t).dispatch("get",[n])},E.prototype.get=function(t){return this.dispatch("get",[t])},b.set=function(t,n,e){return b(t).dispatch("set",[n,e])},E.prototype.set=function(t,n){return this.dispatch("set",[t,n])},b.del=b.delete=function(t,n){return b(t).dispatch("delete",[n])},E.prototype.del=E.prototype.delete=function(t){return this.dispatch("delete",[t])},b.mapply=b.post=function(t,n,e){return b(t).dispatch("post",[n,e])},E.prototype.mapply=E.prototype.post=function(t,n){return this.dispatch("post",[t,n])},b.send=b.mcall=b.invoke=function(t,n){return b(t).dispatch("post",[n,f(arguments,2)])},E.prototype.send=E.prototype.mcall=E.prototype.invoke=function(t){return this.dispatch("post",[t,f(arguments,1)])},b.fapply=function(t,n){return b(t).dispatch("apply",[void 0,n])},E.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},b.try=b.fcall=function(t){return b(t).dispatch("apply",[void 0,f(arguments,1)])},E.prototype.fcall=function(){return this.dispatch("apply",[void 0,f(arguments)])},b.fbind=function(t){var n=b(t),e=f(arguments,1);return function(){return n.dispatch("apply",[this,e.concat(f(arguments))])}},E.prototype.fbind=function(){var t=this,n=f(arguments);return function(){return t.dispatch("apply",[this,n.concat(f(arguments))])}},b.keys=function(t){return b(t).dispatch("keys",[])},E.prototype.keys=function(){return this.dispatch("keys",[])},b.all=H,E.prototype.all=function(){return H(this)},b.any=L,E.prototype.any=function(){return L(this)},b.allResolved=(N=q,P="allResolved",D="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(P+" is deprecated, use "+D+" instead.",new Error("").stack),N.apply(N,arguments)}),E.prototype.allResolved=function(){return q(this)},b.allSettled=function(t){return b(t).allSettled()},E.prototype.allSettled=function(){return this.then(function(t){return H(a(t,function(t){function n(){return t.inspect()}return(t=b(t)).then(n,n)}))})},b.fail=b.catch=function(t,n){return b(t).then(void 0,n)},E.prototype.fail=E.prototype.catch=function(t){return this.then(void 0,t)},b.progress=function(t,n){return b(t).then(void 0,void 0,n)},E.prototype.progress=function(t){return this.then(void 0,void 0,t)},b.fin=b.finally=function(t,n){return b(t).finally(n)},E.prototype.fin=E.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=b(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n})})},b.done=function(t,n,e,r){return b(t).done(n,e,r)},E.prototype.done=function(t,n,e){var r=function(t){b.nextTick(function(){if(k(t,o),!b.onerror)throw t;b.onerror(t)})},o=t||n||e?this.then(t,n,e):this;"object"==typeof process&&process&&process.domain&&(r=process.domain.bind(r)),o.then(void 0,r)},b.timeout=function(t,n,e){return b(t).timeout(n,e)},E.prototype.timeout=function(t,n){var e=T(),r=setTimeout(function(){n&&"string"!=typeof n||((n=new Error(n||"Timed out after "+t+" ms")).code="ETIMEDOUT"),e.reject(n)},t);return this.then(function(t){clearTimeout(r),e.resolve(t)},function(t){clearTimeout(r),e.reject(t)},e.notify),e.promise},b.delay=function(t,n){return void 0===n&&(n=t,t=void 0),b(t).delay(n)},E.prototype.delay=function(t){return this.then(function(n){var e=T();return setTimeout(function(){e.resolve(n)},t),e.promise})},b.nfapply=function(t,n){return b(t).nfapply(n)},E.prototype.nfapply=function(t){var n=T(),e=f(t);return e.push(n.makeNodeResolver()),this.fapply(e).fail(n.reject),n.promise},b.nfcall=function(t){var n=f(arguments,1);return b(t).nfapply(n)},E.prototype.nfcall=function(){var t=f(arguments),n=T();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},b.nfbind=b.denodeify=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var n=f(arguments,1);return function(){var e=n.concat(f(arguments)),r=T();return e.push(r.makeNodeResolver()),b(t).fapply(e).fail(r.reject),r.promise}},E.prototype.nfbind=E.prototype.denodeify=function(){var t=f(arguments);return t.unshift(this),b.denodeify.apply(void 0,t)},b.nbind=function(t,n){var e=f(arguments,2);return function(){var r=e.concat(f(arguments)),o=T();return r.push(o.makeNodeResolver()),b(function(){return t.apply(n,arguments)}).fapply(r).fail(o.reject),o.promise}},E.prototype.nbind=function(){var t=f(arguments,0);return t.unshift(this),b.nbind.apply(void 0,t)},b.nmapply=b.npost=function(t,n,e){return b(t).npost(n,e)},E.prototype.nmapply=E.prototype.npost=function(t,n){var e=f(n||[]),r=T();return e.push(r.makeNodeResolver()),this.dispatch("post",[t,e]).fail(r.reject),r.promise},b.nsend=b.nmcall=b.ninvoke=function(t,n){var e=f(arguments,2),r=T();return e.push(r.makeNodeResolver()),b(t).dispatch("post",[n,e]).fail(r.reject),r.promise},E.prototype.nsend=E.prototype.nmcall=E.prototype.ninvoke=function(t){var n=f(arguments,1),e=T();return n.push(e.makeNodeResolver()),this.dispatch("post",[t,n]).fail(e.reject),e.promise},b.nodeify=function(t,n){return b(t).nodeify(n)},E.prototype.nodeify=function(t){if(!t)return this;this.then(function(n){b.nextTick(function(){t(null,n)})},function(n){b.nextTick(function(){t(n)})})},b.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var z=g();return b});

}).call(this)}).call(this,require('_process'),require("timers").setImmediate)
},{"_process":4,"timers":8}],6:[function(require,module,exports){
module.exports=require("./qajax")(require("q"),window.XMLHttpRequest,window.FormData);

},{"./qajax":7,"q":5}],7:[function(require,module,exports){
!function(t,e){"object"==typeof exports?module.exports=e:"function"==typeof define&&define.amd?define(["q"],function(n){return e(n,t.XMLHttpRequest,t.FormData)}):t.Qajax=e(t.Q,t.XMLHttpRequest,t.FormData)}(this,function(t,e,n){"use strict";var r="Content-Type",i=t.defer().promise;function o(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n.join("&")}function s(e,i){if(0===arguments.length)throw new Error("Qajax: settings are required");var s;if("string"==typeof e)(s="object"==typeof i&&i||{}).url=e;else{if("object"!=typeof e)throw new Error("Qajax: settings must be an object");s=e}if(!s.url)throw new Error("Qajax: settings.url is required");if("cancellation"in s&&!t.isPromiseAlike(s.cancellation))throw new Error("cancellation must be a Promise.");for(var a in this.headers=function(t){var e={};if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.headers),this.params={},s)this[a]=s[a];var u=this.params,c=this.cache;c&&(u[!0===c?"_":c]=(new Date).getTime());var f=this.base+this.url,h=o(u);h&&(f=f+(function(t){return-1===t.indexOf("?")}(f)?"?":"&")+h),this.url=f;var l=this.data,d=this.headers;null===l||"object"!=typeof l||n&&l instanceof n||(r in d||(d[r]="application/json"),this.data=JSON.stringify(l));var p=this._send,m=this;this.send=function(){return t.fcall(function(){return p.call(m)})}}function a(t,e){return new s(t,e).send()}return s.prototype={log:function(){},timeout:6e4,cache:"undefined"!=typeof window&&!!(window.ActiveXObject||"ActiveXObject"in window),method:"GET",base:"",withCredentials:!1,cancellation:i,_send:function(){var n=new e,r=t.defer(),i=this.log,o=this.method,s=this.url;n.onreadystatechange=function(){if(4===n.readyState)try{i(o+" "+s+" => "+n.status),n.status?r.resolve(n):r.reject(n)}catch(t){r.reject(n)}},n.onprogress=function(t){r.notify(t)},n.open(o,s,!0),this.responseType&&(n.responseType=this.responseType);var a=this.headers;for(var u in a)a.hasOwnProperty(u)&&n.setRequestHeader(u,a[u]);this.withCredentials&&(n.withCredentials=!0);var c=this.data;return null!=c?n.send(c):n.send(),this.cancellation.fin(function(){r.promise.isFulfilled()||(i("Qajax cancellation reached."),n.abort())}),this.timeout?r.promise.timeout(this.timeout).fail(function(t){throw t instanceof Error&&(i("Qajax request delay reach in "+o+" "+s),n.abort()),n}):r.promise}},a.defaults=s.prototype,a.Builder=s,a.filterStatus=function(e){var n,r,i=this.log;if("function"===(r=typeof e))n=e;else{if("number"!==r)throw"validStatus type "+r+" unsupported";n=function(t){return t===e}}return function(e){var r=0;try{r=e.status}catch(t){i("Qajax: failed to read xhr.status")}return 1223===r&&(r=204),n(r)?t.resolve(e):t.reject(e)}},a.filterSuccess=a.filterStatus(function(t){return t>=200&&t<300||304===t}),a.toJSON=function(e){return t.fcall(function(){return JSON.parse(e.responseText)})},a.getJSON=function(t){return a({url:t,method:"GET"}).then(a.filterSuccess).then(a.toJSON)},a.serialize=o,a});

},{}],8:[function(require,module,exports){
(function (setImmediate,clearImmediate){(function (){
var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;function Timeout(e,t){this._id=e,this._clearFn=t}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]};

}).call(this)}).call(this,require("timers").setImmediate,require("timers").clearImmediate)
},{"process/browser.js":4,"timers":8}],9:[function(require,module,exports){
(function (global){(function (){
!function(){"use strict";var e=require("qajax"),t=require("./encryptor.js");function r(e,r){this._userAgent=e,this._serverUrl=r,this._encryptor=new t(r),this._encryptor.withSalt()}r.prototype.logout=function(){return e({url:this._buildUrl(this._serverUrl+"/logout"),method:"PUT",withCredentials:!0}).then(e.filterSuccess).then(this._removeCookies.bind(this)).catch(this._removeCookies.bind(this))},r.prototype.login=function(e){e.redirectUrl=this._getQueryParameter("next")||e.redirectUrl;var t=this._encryptor.encrypt(e.password);return this.token=e.token||"",t.then(this._doLogin.bind(this,e.redirectUrl,e.username)).then(function(t){var r=t.silentToken;return r?this._silentLogin({temporaryCst:r,url:t.silentTokenAuthenticationEndpointUrl,redirectUrl:e.redirectUrl}):t}.bind(this))},r.prototype._silentLogin=function(t){return e({url:this._buildUrl(t.url),method:"POST",withCredentials:!0,data:{redirectUrl:t.redirectUrl,silentToken:t.temporaryCst},headers:{"x-device-user-agent":this._userAgent}}).then(e.filterSuccess).then(e.toJSON)},r.prototype._doLogin=function(t,r,i){var n={username:r,password:i,enc:!0,advertisingId:null,redirectUrl:t},s=""!=this.token?{"x-device-user-agent":this._userAgent,"X-Castle-Request-Token":this.token}:{"x-device-user-agent":this._userAgent};return e({url:this._buildUrl(this._serverUrl+"/session"),withCredentials:!0,method:"POST",data:n,headers:s}).then(e.filterSuccess).then(e.toJSON)},r.prototype._getQueryParameter=function(e){return global.location.search.substr(1).split("&").reduce(function(e,t){var r=t.split("=");return e[r[0]]=r[1],e},{})[e]||null},r.prototype._buildUrl=function(e){var t=this._getQueryParameter("login-service_cluster");return t?e+"?login-service_cluster="+t:e},r.prototype._removeCookies=function(e){return["CST","X-SECURITY-TOKEN","ACCESS-TOKEN","REFRESH-TOKEN","sessionOpen","dealerOpen","IG-ENVIRONMENT"].forEach(function(e){document.cookie=e+"=; Domain=ig.com ; Secure; Path=/"}),e},module.exports=r}();

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./encryptor.js":12,"qajax":6}],10:[function(require,module,exports){
!function(){"use strict";var e={TEST:"https://net.ig.com",UAT:"https://web.ig.com",DEMO:"https://demo.ig.com",PROD:"https://www.ig.com"},t=require("qajax"),r=require("./encryptor.js");function n(t,n){this._userAgent=t,this._serverUrl=e[n]+"/clientsecurity",this._encryptor=new r(this._serverUrl),this._encryptor.withSalt()}n.prototype.logout=function(e){return t({url:this._serverUrl+"/logout",method:"POST",headers:{"x-device-user-agent":this._userAgent,CST:e}}).then(t.filterSuccess)},n.prototype.login=function(e){return this._encryptor.encrypt(e.password).then(this._doLogin.bind(this,e.username)).then(function(e){var t=JSON.parse(e.responseText);if("CHANGE_ENVIRONMENT"===t.authenticationStatus){var r=e.getResponseHeader("CST");return this._silentLogin({temporaryCst:r,newEnvironment:t.redirectTo})}return e}.bind(this)).then(function(e){return{trackingId:JSON.parse(e.responseText).trackingId}})},n.prototype._silentLogin=function(r){var n=e[r.newEnvironment]+"/clientsecurity/session/silent";return t({url:n,method:"POST",headers:{"x-device-user-agent":this._userAgent,CST:r.temporaryCst}}).then(t.filterSuccess)},n.prototype._doLogin=function(e,r){var n={username:e,password:r,enc:!0,advertisingId:null};return t({url:this._serverUrl+"/v2/session",method:"POST",data:n,headers:{"x-device-user-agent":this._userAgent}}).then(t.filterSuccess)},Object.defineProperty(n,"TEST",{get:function(){return"TEST"}}),Object.defineProperty(n,"UAT",{get:function(){return"UAT"}}),Object.defineProperty(n,"DEMO",{get:function(){return"DEMO"}}),Object.defineProperty(n,"PROD",{get:function(){return"PROD"}}),module.exports=n}();

},{"./encryptor.js":12,"qajax":6}],11:[function(require,module,exports){
!function(){"use strict";var e=require("ig-pidcrypt"),r=e.pidCrypt,t=e.pidCryptUtil;module.exports={convertPublicKeyToHexTree:function(e){var o=t.decodeBase64(e);return r.ASN1.decode(t.toByteArray(o)).toHexTree()},encodeStringWithRSA:function(e,o){var n,c;return(c=new r.RSA).setPublicKeyFromASN(o),n=c.encrypt(e),t.encodeBase64(t.convertFromHex(n))}}}();

},{"ig-pidcrypt":3}],12:[function(require,module,exports){
!function(){"use strict";var t=require("qajax"),e=require("./encryptUtil.js");function r(t){this._serverUrl=t,this._withSalt=!1,this._userSalt=null}r.prototype.encrypt=function(t){return this._getPublicKey().then(function(e){var r=this._addSalt(t,e.timeStamp);return this._doEncrypt(r,e.encryptionKey)}.bind(this))},r.prototype.withSalt=function(t){return this._withSalt=!0,this._userSalt=t||null,this},r.prototype._doEncrypt=function(t,r){var i=e.convertPublicKeyToHexTree(r);return e.encodeStringWithRSA(t,i)},r.prototype._getPublicKey=function(){return t(this._serverUrl+"/encryptionkey?"+Date.now()).then(t.toJSON)},r.prototype._addSalt=function(t,e){return this._withSalt?t+"|"+(this._userSalt?this._userSalt:e):t},module.exports=r}();

},{"./encryptUtil.js":11,"qajax":6}],13:[function(require,module,exports){
(function (process,global){(function (){
!function(){"use strict";var e=require("./encryptor.js"),r=require("./authenticator.js"),t=require("./dailyFxAuthenticator.js"),o=require("./session.js");"undefined"!=typeof process&&process.browser&&(global.IG=global.IG||{},global.IG.Authenticator=r,global.IG.DailyFxAuthenticator=t,global.IG.Encryptor=e,global.IG.Session=o),module.exports={Authenticator:r,DailyFxAuthenticator:t,Encryptor:e,Session:o}}();

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./authenticator.js":9,"./dailyFxAuthenticator.js":10,"./encryptor.js":12,"./session.js":14,"_process":4}],14:[function(require,module,exports){
(function (global){(function (){
!function(){"use strict";require("@iggroup/lightstreamer");var t=require("cookie-getter"),e={TEST:"https://net-mdp.ig.com",UAT:"https://web-mdp.ig.com",DEMO:"https://demo-mdp.ig.com",PROD:"https://mdp.ig.com"};function n(){global.location.href="/uk/login"}module.exports.registerForLogoutEvent=function(i){var o=t("sessionOpen"),r=t("CST");o&&r&&function(n,i,o){var r=function(t,e){var n=new Lightstreamer.LightstreamerClient(t,"InVisionProvider");return n.connectionDetails.setPassword("CST-"+e),n.connectionSharing.enableSharing("mdpHeimdallr","ATTACH","CREATE"),n.connect(),n}(e[t("IG-ENVIRONMENT")],n),s=function(t){return new Lightstreamer.Subscription("RAW","V2-M-MESSAGE_EVENT_HANDLER|"+t+"-LGT",["logout"])}(i);r.subscribe(s),s.addListener({onItemUpdate:o})}(r,i,function(t){var e;e=n,t.forEachChangedField(function(t,n,i){"logout"===t&&"LGT"===i.substring(0,3)&&e()})})}}();

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"@iggroup/lightstreamer":1,"cookie-getter":2}]},{},[13]);</script>
</body>
</html>
