<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>en.html</title>
</head>
<body>

<script>
/* FMM-TMS - 15/10/2024 11:22 - f24-en */
var tmsVersion='4.18.1-7a268c';
var tms=function(e){"use strict";const t=(e=document.location.href)=>{const t=new URL(e);return Object.fromEntries(t.searchParams.entries())};let n={},a={};const o=e=>n[e]||!1,r=e=>a[e]&&a[e](n)||!1,i=e=>{a=e},s=(e,t)=>{a[e]=t},c=e=>{n=e};var l=Object.freeze({__proto__:null,getUrlVariables:t,get:o,is:r,setRuntimeHelpers:i,addRuntimeHelper:s,setData:c});const d={},u=e=>{if(e&&"string"!=typeof e)throw new Error(`List :: getValue :: key is not valid : ${e}`);return d[e]},p=e=>{if(e&&"string"!=typeof e)throw new Error(`List :: hasKey :: key is not valid : ${e}`);return!!d[e]},f=(e,t)=>{if("string"!=typeof e)throw new TypeError(`List :: addValue :: key is not valid : ${e}`);d[e]=t},g=/([\s+,/:;Â·â€”]+)/g,m=/^[\s_-]+|[\s_-]+$/g,v=/[!"#&'()*.[\]{}Â¡Â«Â»Â¿ØŒØŸâ€˜â€™â€œâ€â€¦â€§ã€ã€‚ã€ˆã€‰ã€Šã€‹ã€Œã€ã€Žã€ã€ã€‘ï¸³ï¸´ï¸½ï¸¾ï¸¿ï¹€ï¹ï¹‚ï¹ƒï¹„ï¹ï¼ï¼ˆï¼‰ï¼šï¼›ï¼Ÿï¼»ï¼½ï½ž]/g,_=/[\s-]+/g,h=e=>void 0===e||Boolean(e),b=e=>e.replaceAll(m,""),y=e=>e[0].toLocaleUpperCase()+e.slice(1),w=e=>b(e.toLocaleLowerCase().replaceAll(/_+/g,"_").replaceAll(g,"-").replaceAll(v,"").replaceAll(_,"-")),k=e=>w(e).replaceAll("_","-").replaceAll(_,"-"),C=(e,t,n)=>Object.keys(t).reduce(((e,n)=>e.replaceAll(new RegExp(n,"g"),t[n])),h(n)?k(e):e),A=(e,t)=>t.some((t=>e.includes(t))),P=e=>""===e?[]:e.split(","),x=(e,t,n)=>{if(e.toString().length>t)return e.toString();let a=e.toString();for(;a.length<t;)a=n.toString()+a;return a},$=e=>x(e,2,"0"),S=e=>e?Array.isArray(e)?e.map((e=>e.replaceAll("'",""))):e.replaceAll("'",""):e;var E={cleanChapterName:w,slugify:k,replaceAll:C,isFoundInArray:A,arrayFromString:P,lpad:x,addZero:$,cleanApostrophes:S,ucfirst:y,trim:b};const T=()=>{const e=window.navigator.language||navigator.userLanguage||"en";return/^fr|en|es|pt|ha|fa|sw|zh|km|ro|ru|uk|vi|ps|prs|bn|bm|ff/gi.test(e)?e:"en"},I=e=>e.replace(/f(rance)?(24-mcd-rfi|m(edias)?m(onde)?)/,"fmm").replace(/france24/,"f24").replace(/mc-doualiya/,"mcd");var O=(e,t=window)=>{const n=t.location,a=t.document.documentElement,o=t.screen,r=new Date,i=/android|blackberry|mobile|iphone|ipod|opera mini/i;return{authors:[],canonical(){const e=new URL(n.href.replace(n.search,"").replace(n.hash,""));return/fastly/.test(e.host)?e.host=e.host.replace(".global.ssl.fastly.net","").replace("rfi","www.rfi.fr").replace("f24","www.france24.com"):/translate\.goog/.test(e.host)&&(e.host=e.host.replace(".translate.goog","").replace(/^(www|academie|musique|static|graphics|webdoc)-/,"$1.").replace(/-(com|fr|net)$/i,".$1")),e.href},cat1:()=>"homepage"===e("page_name")?"accueil":"",cat2:"",cat3:"",content_id:"",content_title:()=>document.title,content_type:"service",deeplink(){let t="";const a=e,o=`${a("site_brand")}://${a("site_locale")}/`,r=a("content_id");switch(a("content_type")){case"homepage":t=o;break;case"section":t=`${o}section/${n.pathname.replaceAll(/\/$/g,"").split("/").reverse()[0]}`;break;case"article":case"depeche":t=`${o}article/${r}`;break;case"video":case"edition":t=`${o}show/${r}`;break;case"emission":t=`${o}show_list/${r}`;break;case"tag":t=`${o}tag/${r}`;break;default:t=""}return t},device_orientation:()=>"orientation"in o&&"type"in o.orientation?o.orientation.type:"portrait-primary",device_type(){const e=t.innerWidth,n=t.innerHeight,a=navigator.userAgent.match(i);let o=e<=1024&&e>=n&&e/n<2.4||n<=1024&&n>=e&&n/e<2.4?"tablette":"desktop";return(e<640&&n>=e&&n/e<2.4&&a||n<640&&e>=n&&e/n<2.4&&a)&&(o="mobile"),o},fb_locale:()=>({fr:"fr_FR",en:"en_US",ar:"ar_AR",es:"es_LA",pt:"pt_PT",br:"pt_BR",cn:"zh_CN",tw:"zh_TW",km:"km_KH",ha:"ha_NG",fa:"fa_IR",sw:"sw_KE",ma:"fr_FR",ff:"ff_NG",ps:"ps_AF",prs:"fa_IR",bn:"bn_IN",ro:"ro_RO",ru:"ru_RU",uk:"uk_UA",vi:"vi_VN"}[e("site_locale")]||"fr_FR"),http_code:200,language_level:[],main_media_type:"texte",page_name:"",publication_date:()=>`${r.getFullYear().toString()}-${$(r.getMonth()+1)}-${$(r.getDate())}`,publication_time:()=>`${$(r.getHours())}:${$(r.getMinutes())}:${$(r.getSeconds())}`,show:[],site_brand:(()=>{const e=n.hostname.split("."),t=e.reverse();let a=I(t[1]||"");return t.length>2&&"francaisfacile"===t[2]?a="fle":"fmm"===a&&n.pathname.includes("infomigrants")?a="infomigrants":"fmm"===a&&t.length>5&&/france24|rfi|mc-d/.test(t[5])?a=I(t[5]||""):"fastly"===a?[a]=e:"translate"===a&&(a=I(t[2].replaceAll(/((www|academie|musique|static|graphics|webdoc|howtowatch)-|-(com|fr|net))/gi,""))),a})(),site_context:"interne",site_dir:()=>a.getAttribute("dir")||"ltr",site_env:(()=>{const e=n.host.match(/(priv|local|p(re)?pr|rec|rnd)/gi)||[];let a="prod";return e.length>0?[a]=e:/local/.test(t.tmsVersion)&&(a="local"),a})(),site_locale:()=>(a.dataset.locale||a.lang||T()).replaceAll(/bm/gi,"ma").replaceAll(/zh-hans/gi,"cn").replaceAll(/zh-hant/gi,"tw").replaceAll(/pt-br/gi,"br").slice(0,3).replaceAll(/-+$/g,""),site_medium:"",site_type(){const e=t.innerWidth,n=t.innerHeight,a=navigator.userAgent.match(i);return e<640&&n>=e&&n/e<2.4&&a||n<640&&e>=n&&e/n<2.4&&a?"site-mobile":"site"},site_version:"1.0",special_event:"",supertag:[],tags:[],tms_version:t.tmsVersion}};const D=O(R),L=e=>{let t=o(e);if(null!=t&&t){if("object"==typeof t&&t.length>0){const e={name:[],name_clean:[],name_slug:[],id:[]},n=t=>{const n=t[0].replace("title","name");e[n]=e[n]||[],Array.isArray(t[1])?e[n].push(...t[1]):e[n].push(t[1])};for(let e=0,a=t.length;e<a;e+=1)Object.entries(t[e]).map((e=>n(e)));t=e}}else t="function"==typeof D[e]?D[e]():void 0!==D[e]&&D[e];return(t||""===t)&&f(e,t),t};function R(e){return void 0===e||""===e?(Object.keys(D).map((e=>L(e))),d):L(e)}const M=["site_context","site_brand","site_env","site_medium","site_version","tms_version"];var j=e=>p(e)&&A(e,M)?u(e):R(e),N=e=>{try{const t="content_type",n="page_name",a="site_brand",o="site_dir",r="site_env",i="site_type",s={homepage:()=>"homepage"===j(n),section:()=>"section"===j(t)&&"homepage"!==j(n),brand_content:()=>"object"==typeof j("brand_content"),article:()=>"article"===j(t),depeche:()=>"depeche"===j(t),emission:()=>"emission"===j(t),edition:()=>"edition"===j(t),live:()=>"service"===j(t)&&"direct"===j("cat1"),liveblog:()=>"article"===j(t)&&!!document.querySelector(".m-em-liveblog, .arena-liveblog, [data-arena-em]"),tag:()=>"tag"===j(t),service:()=>"service"===j(t),error:()=>"erreur"===j(t),iOS:()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,desktop:()=>"site"===j(i),mobile:()=>"site-mobile"===j(i),app:()=>"app"===j(i),embed:()=>/(embed|articles)\./.test(window.location.hostname),f24:()=>"f24"===j(a),rfi:()=>"rfi"===j(a),mcd:()=>"mcd"===j(a),fle:()=>"fle"===j(a),obs:()=>j(a).includes("obs"),academie:()=>j(a).includes("academie"),rfi_musique:()=>j(a).includes("rfi-musique"),graphics:()=>/(graphics|webdoc|static)\./.test(window.location.hostname),embedded_graphics:()=>!(!["service","infographie"].includes(j(t))||!document.querySelector(".t-content--static [data-graphics-type]")),ltr:()=>"ltr"===j(o),rtl:()=>"rtl"===j(o),ppr:()=>"prod"!==j(r),test:()=>"prod"!==j(r),mirror:()=>/fastly\./.test(window.location.hostname),save_data:()=>"connection"in navigator&&!0===navigator.connection.saveData,pwa:()=>["fullscreen","standalone","minimal-ui"].some((e=>window.matchMedia(`(display-mode: ${e})`).matches))||navigator.standalone||!1,offline:()=>!navigator.onLine};return e in s&&s[e]()}catch(t){return console.log("%c ERROR.TMS.IS ","background:#f00;color:#fff;line-height:20px;font-weight:bold;","IS - Critical error",{name:e,error:t}),!1}};const U=t().tms_debug||"0",B=e=>`background:#${e};color:#fff;line-height:20px;font-weight:bold;text-transform:uppercase;`;let H=0;const q=(e,t,...n)=>{console.log(`${H>0?"â”œ":"â”Œ"}â”€%c ${t} `,B(e),...n),H+=1},F=(e,...t)=>q("009900",e,...t),V=(e,...t)=>q("00BCD4",e,...t),z=(e,...t)=>q("FF0000",e,...t),K=(e,...t)=>q("9900EE",e,...t),W=(e,t,...n)=>{let a=F;if(e.includes("error.")?a=z:e.includes("consent.")?a=K:e.includes("abtest.")&&(a=V),N("ppr")||"1"===U){const o=[e,`${t}${n.length>0?"\nâ”‚ ":""}`];1===n.length?a(...o,n[0]):n.length>1?a(...o,{...n}):a(...o)}},J=(e,t,n,a="",o="",r="")=>{let i=`${t} - ${"init"===n&&""===a?"Init":a}`,s=""===r?"":`${r}.`;"prevented"===a&&(i=`${t} - GDPR - Consent prevented tag from action '${n}'`,s="consent.");const c=[`${s}tms.${"gdpr"===e?"":"tags."}${e}.${n}`,i];void 0!==o&&""!==o&&c.push(o),W(...c)},Y=e=>{const t={b:j("site_brand"),l:j("site_locale"),s:j("site_version"),t:j("tms_version"),u:window.location.href+(e?"":"?xmlhttprequest=1"),r:document.referrer};e&&(q("0055BB",`${t.b} ${t.l}`,`vSite: ${t.s} - vTms: ${t.t}\nâ”‚  Â© ${(new Date).getFullYear()} Copyright France MÃ©dias Monde - All rights reserved`),q("009688","ðŸ’»","Join the team: https://fmm.io/jobs"));try{const e=`https://fmm.io/br?i=${encodeURIComponent(btoa(JSON.stringify(t)))}`;q("8B4513","ðŸ•·ï¸",`Report a bug: ${e}`)}catch{W("error.tms.log.openingLog","Log - Unable to create bug report URL")}},G=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1},Q=(e,t)=>G.call(e,t),Z={rel:"stylesheet"},X=(e,t)=>({...t,...e}),ee=(e,t=document)=>t.querySelectorAll(e),te=(e,t)=>Array.prototype.filter.call(ee(e),(e=>new RegExp(t).test(e.textContent))),ne=(e,t)=>[...e].filter((e=>Q(e,t))),ae=(e,t)=>(t.append(e),t.lastChild),oe=(e,t)=>t.parentElement.insertBefore(e,t),re=(e,t)=>t.firstChild?oe(e,t.firstChild):ae(e,t.parentElement),ie=(e,t)=>t.nextElementSibling?oe(e,t.nextElementSibling):ae(e,t.parentElement),se=e=>e.remove(),ce=(e,t,n,a)=>{const o=document.createElement(e);return o.innerHTML=t,Object.keys(n||{}).forEach((e=>{o.setAttribute(e,n[e])})),Object.keys(a||{}).forEach((e=>{o[e]=a[e]})),o},le=(e,t,n,a)=>ae(ce("script","",t,{src:e,onload:n,onerror:a}),document.head),de=(e,t)=>ae(ce("script",e,t),document.head),ue=(e,t)=>ae(ce("link","",X(t,Z),{href:e}),document.head),pe=(e,t)=>ae(ce("style",e,t),document.head),fe=e=>e?(e.setAttribute("id",`tms-block-${Math.random().toString().slice(2)}`),e.id):(W("tms.dom.unifyBlock","Element is undefined"),""),ge=(e,t)=>{let n,a=!1,o="meta",r="content";switch(e){case"link":o="link",n="rel",r="href";break;default:n=e}const i=ee(`${o}[${n}="${t}"]`)[0];return i&&(a=i.getAttribute(r)),a};var me={select:ee,contains:te,filter:ne,append:ae,before:oe,prepend:re,after:ie,remove:se,create:ce,importScript:le,execute:de,importStyle:ue,addStyle:pe,unifyBlock:fe,getMeta:ge};const ve=(e,t,n)=>{const a=e=>{let{target:a}=e;for(;a.parentElement;a=a.parentElement)if(Q(a,t))return n(e,a);return!1};return window.addEventListener(e,a),a},_e=(e,t)=>window.removeEventListener(e,t),he=(e,t)=>{let n;return(...a)=>{clearTimeout(n),n=setTimeout((()=>{e(...a)}),t)}};let be=[],ye=!1,we=!1;function ke(){if(!ye){ye=!0;for(let e=0,t=be.length;e<t;e+=1)be[e].fn.call(window,be[e].ctx);be=[]}}function Ce(){"complete"===document.readyState&&ke()}function Ae(e,t){if("function"!=typeof e)throw new TypeError("callback for onDomReady(fn) must be a function");ye?setTimeout((()=>{e(t)}),1):(be.push({fn:e,ctx:t}),"complete"===document.readyState?setTimeout(ke,1):we||(document.addEventListener?(document.addEventListener("DOMContentLoaded",ke,!1),window.addEventListener("load",ke,!1)):(document.attachEvent("onreadystatechange",Ce),window.attachEvent("onload",ke)),we=!0))}const Pe=e=>{const t=Date.now();return new Promise((function n(a,o){void 0!==window.PubSub?a():e&&Date.now()-t>=e?o(new Error("PubSub not available")):setTimeout(n.bind(this,a,o),100)}))},xe=e=>Pe(1e4).then(e),$e=(e,t=(()=>{}),n="tms.event",a=!1)=>{xe((()=>window.PubSub["subscribe"+(a?"Once":"")](`${n}.${e}`,t))),"fov"===n&&xe((()=>window.PubSub["subscribe"+(a?"Once":"")](e,t)))},Se=(e,t={},n="tms.event")=>{xe((()=>window.PubSub.publish(`${n}.${e}`,t))),xe((()=>window.PubSub.publish(e,t)))},Ee={all:"navigation",init_env:"navigation.init_env",request:"navigation.request",finished:"navigation.request.finished",start:"navigation.request.start",process:"navigation.request.process",done:"navigation.request.finished.success",failed:"navigation.request.finished.failure"},Te=()=>Se(Ee.done),Ie=e=>{window.addEventListener("beforeunload",e)},Oe=e=>$e(Ee.done,e,"fov"),De=e=>$e(Ee.start,e,"fov"),Le=e=>$e(Ee.process,e,"fov"),Re=e=>$e(Ee.failed,e,"fov"),Me=e=>$e(Ee.finished,e,"fov"),je=e=>$e("pageDataRefreshed",e),Ne=e=>$e("render.mounted",e,"fov"),Ue=e=>$e("userJourneyRefreshed",e),Be=e=>$e("player.ready",e),He=e=>$e("player.action",e,"fov"),qe=e=>$e("player.state",e,"fov"),Fe=e=>$e("player.playlist",e,"fov"),Ve=e=>$e("video_player.state",e,"fov"),ze=e=>$e("video_player.ads",e,"fov"),Ke=e=>$e("ad.rendered",e),We=e=>$e("ad.seen",e),Je=e=>$e("onBeforeAdsFilled",e),Ye=e=>$e("onAfterAdsFilled",e),Ge=(e,t)=>{$e("gdpr.onConsentAvailable",e),W("consent.tms.event.onConsentAvailable",`Event - onConsentAvailable - Tag ${t} waiting for consent`,{cb:e})},Qe=e=>$e("gdpr.onConsentChanged",e),Ze=e=>$e("gdpr.onCmpReady",e);let Xe=[];const et=()=>{for(let e=0,t=Xe.length;e<t;e+=1)Xe[e].fn.call(window,Xe[e].ctx);Xe=[]},tt=e=>{"onLine"in navigator&&!navigator.onLine?Xe.push(e):e()},nt=e=>$e("online",e),at=e=>$e("offline",e);window.addEventListener("offline",(()=>{W("tms.event.offline","Event - Offline - Internet connection lost"),Se("offline")})),window.addEventListener("online",(()=>{W("tms.event.online",`Event - Online - Internet connection back online, running ${Xe.length} action${Xe.length>1?"s":""} waiting in queue`),Se("online"),et()}));const ot=e=>{window.addEventListener("scroll",he((t=>e(t)),1e3),{passive:!0})},rt=(e,t)=>{let n,a,o=1e3*e,r=!1;const i={resume:()=>{r||(n=Date.now(),a=setInterval(i.step,1e3),r=!0,W("tms.event.countdown.resume",`Event - Countdown - ${e}s countdown resumed`,{startTime:n,timer:a,seconds:e,onComplete:t}))},pause:()=>{r&&void 0!==a&&(o=i.step(),clearInterval(a),r=!1,W("tms.event.countdown.pause",`Event - Countdown - ${e}s countdown paused`,{milliseconds:o,timer:a,seconds:e,onComplete:t}))},step:()=>{const e=Math.max(0,o-(Date.now()-n));return 0===e&&void 0!==a&&(clearInterval(a),i.resume=()=>{},r=!1,t&&t()),e}};return W("tms.event.countdown",`Event - Countdown - Defined a ${e}s countdown`,{seconds:e,onComplete:t}),i},it=e=>{xe((()=>window.PubSub.unsubscribe(e)))};var st={pageLoaded:Te,onPageLoaded:Oe,onPageLoading:De,onPageProcessing:Le,onPageRequestFinished:Me,onPageRequestFailed:Re,onPageDataRefreshed:je,onPageRenderMounted:Ne,onUserJourneyRefreshed:Ue,onAudioPlayerReady:Be,onAudioPlayerAction:He,onAudioPlayerStateChanged:qe,onAudioPlayerPlaylistChanged:Fe,onVideoPlayerStateChanged:Ve,onVideoPlayerAdEvent:ze,onAdRendered:Ke,onAdSeen:We,onBeforeAdsFilled:Je,onAfterAdsFilled:Ye,onConsentAvailable:Ge,onConsentChanged:Qe,onCmpReady:Ze,removeEventListener:it,bind:ve,unbind:_e,debounceHandler:he,onDomReady:Ae,onPubSubReady:xe,pubSubSubscribe:$e,pubSubPublish:Se,waitForOnline:tt,onOnline:nt,onOffline:at,onScroll:ot,countdown:rt};let ct;const lt=()=>{void 0!==ct?(c(ct.getData()),R(),W("tms.data.updateData",`Data - Data from provider ${ct.getName()} received and refreshed`)):W("error.tms.data.updateData","Data - Invalid data provider")},dt=e=>{void 0!==e?(ct=e,lt()):W("error.tms.data.init","Data - Invalid data provider")};Oe((()=>{lt(),Se("pageDataRefreshed",d)}));var ut={list:d,...l,defaultValues:O(R),readVariable:j,refresh:R};class pt{getData(){throw new Error("Not implemented!")}getName(){throw new Error("Not implemented!")}}W("tms.data.provider","Data - Provider - Loading FOV data strategy");class ft extends pt{getData(){try{const e=JSON.parse(document.querySelector("#datalayer").innerHTML),t=window.location,n="www.";if("canonical"in e&&"/"===e.canonical.slice(0,1)){const a=t.host.replace(".global.ssl.fastly.net","").replace("rfi",`${n}rfi.fr`).replace("f24",`${n}france24.com`);e.canonical=`${t.protocol}//${a}${e.canonical}`}return"content_type"in e&&"service"===e.content_type&&ee("[data-graphics-type]").length>0&&(e.content_type="infographie",e.cat1="infographies",e.cat2=ee("[data-graphics-type]")[0].dataset.graphicsType),e}catch(e){return W("error.tms.data.provider","Data - Provider - Error while loading FOV data strategy",e),{}}}getName(){return"FOV"}}var gt=new ft;const mt="essential";window.pdl=window.pdl||{},window.pdl.requireConsent=!0,window.pdl.consent={defaultPreset:{PA:mt}},window.pdl.consent_items={PA:{properties:{},events:{}}};const vt=["langue","marque","code_http_erreur","perimetre_de_diffusion","site_version","tms_version","type_representation","site_level2","site_level2_id","url","ajax","type_article","titre_du_contenu","type_de_contenu","id_contenu","d:date_de_publication","supertag","id_supertag","emission","id_emission","emission_type","tags_array","tags_thema","ids_tags_thema","tags_auteurs","ids_tags_auteurs","niveau_langue","bc_advertiser","bc_advertiser_id","src_medium","src_campaign","src_source","src_content","src_term","src_country","src_slink","src_email_send_date","src_email_link","src_email_type","utm_medium","utm_campaign","utm_source","utm_content","utm_term","utm_country","utm_slink","utm_email_send_date","utm_email_link","utm_email_type","av_player","av_player_version","av_player_position","av_content","av_content_id","av_content_type","av_content_duration","av_content_version","av_content_genre","av_content_linked","av_content_duration_range","av_broadcasting_type","av_ad_type","av_publication_date","av_playback_speed","av_playback_volume","av_show","av_show_id","av_show_season","av_episode","av_episode_id","av_episode_season_number","av_channel","av_author","av_broadcaster","av_auto_mode","av_language","av_subtitles","av_launch_reason","av_previous_position","av_playback_jump_value"],_t=["play","start","resume","pause","heartbeat","buffer.start","buffer.heartbeat","rebuffer.start","rebuffer.heartbeat","seek.forward","backward","jump.forward","jump.backward","stop","ad.start","ad.end","error","close","volume","panel.show","panel.hide","subtitle.on","subtitle.off","fullscreen.on","fullscreen.off","quality","speed","engagement.15s"];for(let e=0,t=vt.length;e<t;e+=1)window.pdl.consent_items.PA.properties[vt[e]]=mt;for(let e=0,t=_t.length;e<t;e+=1)window.pdl.consent_items.PA.events[`av.${_t[e]}`]=mt;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ht={exports:{}};ht.exports,function(e,t){!function(e){var t={site:"",collectDomain:"",path:"event",visitorStorageMode:"fixed",storageLifetimeVisitor:395,storageLifetimeUser:395,storageLifetimePrivacy:395,privacyDefaultMode:"optin",sendEventWhenOptout:!0,isVisitorClientSide:!0,enableCallbacks:!0,cookieDomain:"",cookieSecure:!0,cookiePath:"/",cookieSameSite:"lax",encodeStorageBase64:!1,addEventURL:"withoutQS",clickAutoManagement:!0,enableUTMTracking:!0,campaignPrefix:["at_"],storageVisitor:"pa_vid",storageUser:"pa_user",version:"6.14.1",minHeartbeat:5,minBufferingHeartbeat:1,queueVarName:"_paq",globalVarName:"pa",enableAutomaticPageRefresh:!0,allowHighEntropyClientHints:!0,sendEmptyProperties:!0,enableExtendedOptout:!1,privacy:{storageKey:"pa_privacy",legacyKeys:{pa_vid:!0,pa_privacy:!0,atuserid:!0},storageKeys:{pa_user:!0},modes:{optin:{name:"optin",properties:{include:{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{"*":!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},optout:{name:"optout",visitorId:"OPT-OUT",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"optout"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0},forbidden:{}},events:{allowed:{"*":!0},forbidden:{}}},"no-consent":{name:"no-consent",visitorId:"no-consent",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-consent"},allowed:{"*":{}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},"no-storage":{name:"no-storage",visitorId:"no-storage",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"no-storage"},allowed:{"*":{"*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{"*":!0}},events:{allowed:{"*":!0},forbidden:{}}},exempt:{name:"exempt",properties:{include:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},allowed:{"*":{app_crash:!0,app_crash_class:!0,app_crash_screen:!0,app_version:!0,browser:!0,browser_cookie_acceptance:!0,browser_group:!0,browser_version:!0,click:!0,click_chapter1:!0,click_chapter2:!0,click_chapter3:!0,click_full_name:!0,connection_monitor:!0,connection_organisation:!0,cookie_creation_date:!0,date:!0,date_day:!0,date_daynumber:!0,date_month:!0,date_monthnumber:!0,date_week:!0,date_year:!0,date_yearofweek:!0,device_brand:!0,device_display_height:!0,device_display_width:!0,device_name:!0,device_name_tech:!0,device_screen_diagonal:!0,device_screen_height:!0,device_screen_width:!0,device_type:!0,event_collection_platform:!0,event_collection_version:!0,event_hour:!0,event_id:!0,event_minute:!0,event_position:!0,event_second:!0,event_time:!0,event_time_utc:!0,event_url:!0,event_url_domain:!0,event_url_full:!0,exclusion_cause:!0,exclusion_type:!0,geo_city:!0,geo_continent:!0,geo_country:!0,geo_metro:!0,geo_region:!0,goal_type:!0,hit_time_utc:!0,os:!0,os_group:!0,os_version:!0,os_version_name:!0,page:!0,page_chapter1:!0,page_chapter2:!0,page_chapter3:!0,page_duration:!0,page_full_name:!0,page_position:!0,page_title_html:!0,page_url:!0,pageview_id:!0,previous_url:!0,privacy_status:!0,site:!0,site_env:!0,site_id:!0,site_platform:!0,src:!0,src_detail:!0,src_direct_access:!0,src_organic:!0,src_organic_detail:!0,src_portal_domain:!0,src_portal_site:!0,src_portal_site_id:!0,src_portal_url:!0,src_referrer_site_domain:!0,src_referrer_site_url:!0,src_referrer_url:!0,src_se:!0,src_se_category:!0,src_se_country:!0,src_type:!0,src_url:!0,src_url_domain:!0,src_webmail:!0}},forbidden:{"*":{}}},storage:{allowed:{pa_vid:!0,pa_privacy:!0,atuserid:!0},forbidden:{}},events:{allowed:{"click.exit":!0,"click.navigation":!0,"click.download":!0,"click.action":!0,"page.display":!0},forbidden:{}}},"*":{properties:{allowed:{"*":{connection_type:!0,device_timestamp_utc:!0,visitor_privacy_consent:!0,visitor_privacy_mode:!0,"ch_ua*":!0}},forbidden:{"*":{}}},storage:{allowed:{},forbidden:{}},events:{allowed:{},forbidden:{}}}}}};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e,t){var n,o,r,i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return o=!(n=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return n=e.done,e},e:function(e){o=!0,r=e},f:function(){try{n||null==s.return||s.return()}finally{if(o)throw r}}};if(Array.isArray(e)||(s=function(e,t){var n;if(e)return"string"==typeof e?a(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=function e(t,a){if("object"!==n(t)||null===t||t instanceof Date)return t;var o,r=new t.constructor;for(o in t)!Object.prototype.hasOwnProperty.call(t,o)||void 0===o||a&&void 0===t[o]||(r[o]=e(t[o]));return r},s={post:function(e,t){var n=!1;!(n=window.navigator&&"function"==typeof window.navigator.sendBeacon?window.navigator.sendBeacon(e,t):n)&&window.fetch&&window.fetch(e,{method:"POST",body:t,headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l={encodeURIComponent:window.encodeURIComponent,utf8:{encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):t=127<a&&a<2048?(t+=String.fromCharCode(a>>6|192))+String.fromCharCode(63&a|128):(t=(t+=String.fromCharCode(a>>12|224))+String.fromCharCode(a>>6&63|128))+String.fromCharCode(63&a|128)}return t},decode:function(e){var t,n,a,o="",r=0;for(t=0;r<e.length;)(a=e.charCodeAt(r))<128?(o+=String.fromCharCode(a),r++):191<a&&a<224?(t=e.charCodeAt(r+1),o+=String.fromCharCode((31&a)<<6|63&t),r+=2):(t=e.charCodeAt(r+1),n=e.charCodeAt(r+2),o+=String.fromCharCode((15&a)<<12|(63&t)<<6|63&n),r+=3);return o}},base64:{encode:function(e){var t,n,a,o,r,i,s="",d=0;for(e=l.utf8.encode(e);d<e.length;)a=(t=e.charCodeAt(d++))>>2,o=(3&t)<<4|(t=e.charCodeAt(d++))>>4,r=(15&t)<<2|(n=e.charCodeAt(d++))>>6,i=63&n,isNaN(t)?r=i=64:isNaN(n)&&(i=64),s=s+c.charAt(a)+c.charAt(o)+c.charAt(r)+c.charAt(i);return s},decode:function(e){var t,n,a,o,r,i,s="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)a=c.indexOf(e.charAt(d++)),t=(15&(o=c.indexOf(e.charAt(d++))))<<4|(r=c.indexOf(e.charAt(d++)))>>2,n=(3&r)<<6|(i=c.indexOf(e.charAt(d++))),s+=String.fromCharCode(a<<2|o>>4),64!=r&&(s+=String.fromCharCode(t)),64!=i&&(s+=String.fromCharCode(n));return l.utf8.decode(s)}}},d=(r=window.crypto||window.msCrypto,{v4:function(){try{if(null!==r&&"object"===n(r))return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^r.getRandomValues(new Uint32Array(1))[0]&15>>e/4).toString(16)}))}catch(e){console.error(e)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}});function u(e){var t=e;function n(e,n){null!==n&&""!==n&&void 0!==n&&(t[e]=n)}return{setConfiguration:n,setConfigurations:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n(t,e[t])},getConfiguration:function(e){return void 0!==t[e]?i(t[e]):null},cloneData:function(){return i(t)},deleteProperty:function(e){delete t[e]}}}function p(e){var t=[];return{push:function(n){t.push(n),1===t.length&&e[n[0]].apply(e,n.slice(1))},next:function(){var n;t.shift(),0<t.length&&e[(n=t[0])[0]].apply(e,n.slice(1))}}}function f(e,t,n){this.properties=i(e._properties),this.addEventsProperty=function(t,n){if(e._privacy.call("isPropAllowed",t)){var a,r=o(this.events);try{for(r.s();!(a=r.n()).done;){var i=a.value;this.isPropertyAbsentForEvent(t,i)&&(i.data[t]=n)}}catch(t){r.e(t)}finally{r.f()}}},this.hasProperty=function(e){return Object.prototype.hasOwnProperty.call(this.properties,e)},this.getConfiguration=n.getConfiguration,this.setConfiguration=n.setConfiguration,this.options=t.options||{},this.visitorId=null,this.build={url:"",data:{}},this.events=t.events||[],this.isPropertyAbsentForEvent=function(e,t){if(void 0!==t.data[e])return!1;if(this.hasProperty(e)){if(void 0===this.properties[e].options.events)return!1;var n,a=o(this.properties[e].options.events);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(t.name===r||"*"===r.charAt(r.length-1)&&0===t.name.indexOf(r.substring(0,r.length-1)))return!1}}catch(e){a.e(e)}finally{a.f()}}return!0}}function g(e,t,n,a){!1!==a&&0<n.length&&"function"==typeof n[0]?n[0](e,t,n.slice(1)):e._queue.next()}function m(e,t,n){var a=(o=t.getConfiguration("collectDomain")).startsWith("https://")||o.startsWith("http://")?"":"https://",o=(a="".concat(a).concat(o,"/").concat(t.getConfiguration("path")),"?s=".concat(t.getConfiguration("site")).concat(t.visitorId?"&idclient="+t.visitorId:""));t.build.url=a+o,t.build.data={events:t.events},g(e,t,n)}function v(e,t,n,a,o){var r,i=function(e,t,n){for(var a={},o=new RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?","g"),r=o.exec(t);null!==r;)0===r[1].indexOf(e)&&(a[n+r[1].substring(e.length)]=window.decodeURIComponent(r[2])),r=o.exec(t);return a}(a,n,o),s=!1;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&!t.properties[r]&&t.addEventsProperty(r,i[r],{persistent:!0}),s=!0;return s}function _(e,t,n){var a,r=document.location.href,i=o(t.getConfiguration("campaignPrefix"));try{for(i.s();!(a=i.n()).done&&!v(0,t,r,a.value,"src_"););}catch(e){i.e(e)}finally{i.f()}t.getConfiguration("enableUTMTracking")&&v(0,t,r,"utm_","utm_"),g(e,t,n)}function h(e){return 0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),k(e)}var b,y,w=function(e){function t(e){e&&a.setDate(a.getDate()+e)}var n,a=new Date;return e instanceof Date?a=e:"number"==typeof e?t(e):(n=e.days,e=e.minutes,t(n),e&&a.setMinutes(a.getMinutes()+e)),a},k=function(e){e=e.replace(/\+/g," ").replace(/^\s+|\s+$/g,"");try{return decodeURIComponent(e)}catch(t){return e}},C=(b="_cookie_test",y="https:"===document.location.protocol,{set:P,get:$,getNames:function(){var e=[];return x((function(t){e.push(t)})),e},remove:S,getTopLevelDomain:function(e){void 0===e&&(e=[]);var t=window.location.hostname.split("."),n=(new Date).getTime().toString(36)+Math.round(2147483647*Math.random()).toString(36),a=new Date;a.setSeconds(a.getSeconds()+30);for(var o=0;o<t.length;o++)try{var r=t.slice(-(o+1)).join(".");if(!e.includes(r)){P(b,n,{expires:a,path:"/",domain:r,secure:y});var i=$(b)===n;if(S(b,{path:"/",domain:r}),i)return r}}catch(e){}},__private__:{_generateCookieString:A}});function A(e,t,n){var a=(n=void 0===n?{}:n).path,o=n.domain,r=n.expires,i=n.secure,s=n.samesite,c=n.raw;return n=n.priority,(c?e:encodeURIComponent(e))+"="+(c?t:encodeURIComponent(t))+(r?"; expires=".concat(w(r).toUTCString()):"")+(a?"; path=".concat(a):"")+(o?"; domain=".concat(o):"")+(i?"; secure":"")+(s?"boolean"==typeof s?"; sameSite":"; sameSite=".concat(s):"")+(n?"; priority=".concat(n):"")}function P(e,t,n,a){void 0===t||void 0!==a&&encodeURI(t).split(/%(?:u[\dA-F]{2})?[\dA-F]{2}|./).length-1>a||(document.cookie=A(e,t,n))}function x(e){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var a=t[n].split("=");if(e(k(a[0]),a[1]||""))return}}function $(e){var t=null,n={};return x((function(a,o){if(e)return a===e&&(t=h(o),1);n[a]=h(o)})),e?t:n}function S(e,t){P(e,"",Object.assign({},t,{expires:-1}))}E="_ls_ttl",T=function(){try{var e=window.localStorage.getItem(E);return e?JSON.parse(e):null}catch(e){return null}},I=function(e){try{Object.keys(e).length?window.localStorage.setItem(E,JSON.stringify(e)):window.localStorage.removeItem(E)}catch(e){}},D();var E,T,I,O={get:function(e){var t;D();try{return null!=(t=window.localStorage.getItem(e))?t:null}catch(e){return null}},set:function(e,t,n){if(a=e,n=(n=void 0===n?{}:n).expires,o=T(),void 0===n?(null!=o&&o[a]&&(delete o[a],I(o)),1):(n=w(n).getTime())>Date.now()&&((o=o||{})[a]=n.toString(36),I(o),1))try{window.localStorage.setItem(e,t)}catch(e){}var a,o},getNames:L,remove:function(e){try{window.localStorage.removeItem(e)}catch(e){}D()},expires:D,__protected__:{get ttlName(){return E}}};function D(){var e=L(),t=T(),n={};t&&(Object.keys(t).forEach((function(a){if(e.includes(a)){var o=t[a]?parseInt(t[a],36):null;if(!(o=o)||o>Date.now())n[a]=t[a];else try{window.localStorage.removeItem(a)}catch(a){}}})),JSON.stringify(t)!==JSON.stringify(n))&&I(n)}function L(){try{return Object.keys(window.localStorage)}catch(e){return[]}}function R(e,t){return{cookieName:t=void 0===t?"_pctx":t,readonly:!1,init:function(t){return null!=(t=null!=t?t:e)?t:null},refresh:function(e){return e},update:function(e){return e},set:function(e){return e},get:function(e){return e}}}function M(e){return Q(Q({},R(e)),{cookieName:null})}function j(e){return null==e}function N(){var e={};return{add:function(t){e[t]=!0},values:function(){return X(e)}}}function U(e,t){var n,a=NaN,o=NaN;return function(r){var i=null==t?void 0:t();return r===o&&a===i||(a=i,n=e(o=r)),n}}function B(e){var t;return function(n){var a=e();a!==t&&n(t=a)}}function H(e){return re(e,(function(e){return"CX"!==(null==e?void 0:e.type)}))}function q(e,t){return t({protect:!0}),oe()}function F(e,t,n){var a=ye().reduce((function(a,o){return a[o=o.id]=n(null==e?void 0:e[o],null==t?void 0:t[o],o),a}),{});return ue(a,t)?t:a}function V(e,t){return F(e,t,(function(e,t,n){return e||t||je()[n]}))}function z(){return ge().consent_modifiers||null}function K(){return!!ge().requireConsent}function W(e,t,n){return"".concat(e.join(", ")," ").concat(1<e.length?n:t)}var J,Y,G={get:function(e){try{return window.sessionStorage.getItem(e)}catch(e){return null}},set:function(e,t){try{window.sessionStorage.setItem(e,t)}catch(e){}},getNames:function(){try{return Object.keys(window.sessionStorage)}catch(e){return[]}},remove:function(e){try{window.sessionStorage.removeItem(e)}catch(e){}}},Q=function(){return(Q=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Z=R("anon"),X=function(e){return e?Object.keys(e):[]},ee=function(e){return Array.isArray(e)},te=function(e){return!j(e)},ne=function(e){return"object"===n(e)},ae=function(e){return"string"==typeof e},oe=function(){for(var e=(new Date).getTime().toString(36);e.length<16;)e+=Math.round(2147483647*Math.random()).toString(36);return e.substr(0,16)},re=function(e,t){return e&&X(e).filter((function(n){return t(e[n])})).reduce((function(t,n){return Q(Q({},t),((t={})[n]=e[n],t))}),{})},ie=function(e,t){return ne(e)?X(e).reduce((function(n,a){var o,r=e[a];return void 0!==(o=(o=t[a])&&o(r))&&(n[a]=o),n}),{}):e},se=function(e){return"true"===e||!0===e},ce=function e(t,n){try{return t()}catch(t){return n?e(n):null}},le=function(e,t){return void 0===t&&(t=!1),ce((function(){return JSON.parse(e)}),(function(){return t?JSON.parse(window.atob(e)):null}))||null},de=function(e,t){void 0===t&&(t=!1);var n=JSON.stringify(e);return ce((function(){return t?window.btoa(n):n}))||n},ue=function(e,t){var n,a;return e===t||(e&&t?(n=X(e),a=X(t),n.length===a.length&&!n.some((function(n){return e[n]!==t[n]}))):null)},pe=Q(Q({},R(null)),{init:function(e){return H(e||null)},refresh:H,set:function(e,t){return null===e?null:re(Q(Q({},t),e),(function(e){return null!==e}))}}),fe="pdl",ge=function(){return window[fe]||{}},me=Q(Q({},M()),{init:function(e,t){return t({protect:!0}),ge().pageViewId||oe()},refresh:q,update:q,set:function(e,t,n){return n({protect:!0}),e}}),ve=Q(Q({},R(null,"_pcid")),{init:function(e,t){return t({protect:!0}),e||oe()},update:function(e,t){return t({protect:!0}),oe()},set:function(e,t,n){return n({protect:!0}),e}}),_e=["PA","DMP","COMPOSER","ID","VX","ESP","SOCIAL_FLOW","DL"].map((function(e,t){return{name:e,id:t}})),he=_e.reduce((function(e,t,n){return t=t.name,Q(Q({},e),((e={})[t]=n,e[t.toLowerCase()]=n,e))}),{}),be=(he["social flow"]=he.SOCIAL_FLOW,he["Social Flow"]=he.SOCIAL_FLOW,B((function(){var e;return null==(e=gt(ge().consent))?void 0:e.products}))),ye=(J=_e,function(){return be((function(e){J=e?_e.filter((function(t){return e.includes(t.name)||"DL"===t.name})):_e})),J}),we=function(e){var t=Number(e);return Number.isNaN(t)?null!=(e=he[e.toLowerCase()])?e:null:t<_e.length?t:null},ke=function(e,t){return X(e).reduce((function(n,a){var o=_e[Number(a)].name;return a=e[a],n[o]=t?t(a,o):a,n}),{})},Ce="opt-in",Ae="essential",Pe="opt-out",xe="custom",$e=[Ce,Ae,Pe],Se=$e.concat(xe),Ee=Se.reduce((function(e,t,n){return Q(Q({},e),((e={})[n]=t,e))}),{}),Te=[Ce,xe,Ae,Pe],Ie=function(e,t){return e=Te.indexOf(e),t=Te.indexOf(t),Te[Math.max(e,t)]},Oe=function(e){return Se.includes(e)},De=function(e){return $e.includes(e)},Le={AD:["DMP","SOCIAL_FLOW"],CP:["COMPOSER"],AM:["PA"],PR:["ESP","VX","ID"],DL:["DL"]},Re=X(Le).reduce((function(e,t){return Le[t].forEach((function(n){n=he[n],e[n]=t})),e}),{}),Me=B((function(){var e;return null==(e=gt(ge().consent))?void 0:e.defaultPurposes})),je=(Y=Q({},Re),function(){return Me((function(e){Y=Q({},Re),e&&X(e).forEach((function(t){var n=he[t];Y[n]=null==(n=e[t])?void 0:n.substring(0,32)}))})),Y}),Ne=Q(Q({},R(null,"_pprv")),{init:function(e){return Ue()?V(e||null,null):null},set:function(e,t){return Ue()?null==e?t:V(X(n=e).reduce((function(e,t){var a=we(t);return t=Ve(n[t]),null!==a&&t!==He&&a!==he.DL&&t&&(e[a]=t),e}),{}),t):null;var n}}),Ue=function(){return"v2"===ge().requireConsent},Be=function(e,t){return e===xe&&!(null!=(e=z())&&e[t])},He="DL",qe=["AD","AM","CP","PR",He].reduce((function(e,t){return Q(Q({},e),((e={})[t]=t,e[t.toLowerCase()]=t,e))}),{}),Fe=function(e){return qe[(null==e?void 0:e.toLowerCase())||""]||null},Ve=function(e){return Fe(e)||(null==e?void 0:e.substring(0,32))},ze="Consent v2 is disabled",Ke='the "DL" purpose is reserved',We=function(e){return'"'.concat(e,'" can not be applied for the dl product')},Je=function(e){return"".concat(e," is unknown consent mode")},Ye=function(e){return W(e,"does","do")+"n't have modifier in the pdl. Custom mode can't be applied"},Ge="Unknown purpose. Provide a product or define within pdl config",Qe=function(e){return"Custom purpose: "+W(e,"is","are")+" unknown"};function Ze(e,t,n,a,o){function r(t,n){return n=Ve(n),qe[n]||Object.values(e||{}).includes(n)?p(t,n):u(Ge)}var i,s,c,l,d,u=function(e){return{error:e}},p=function(t,n,a){var o,r=[];return Oe(t)?(o=ye().reduce((function(o,i){var s=i.id;return i=i.name,(!n||(null==e?void 0:e[s])===n||null!=a&&a.includes(s))&&(Be(t,i)?r.push(i):o[s]={mode:t}),o}),{}),r.length?u(Ye(r)):Object.keys(o).length?{consent:o}:null):u(Je(t))};return Ue()?o?(i=a,o=o,l=Ve(s=n),(d=(o=ee(o)?o:[o]).map(we).filter(te)).length?l!==He&&d.includes(he.DL)?{error:We(l)}:l===He&&d.some((function(e){return e!==he.DL}))?u(Ke):null!=(c=p(i,l,d))&&c.error?c:(d=d.reduce((function(e,t){return e[t]=l,e}),{}),{consent:(null==c?void 0:c.consent)||null,purposes:d}):Fe(s)?r(i,s):u(Qe(o))):a?r(a,n):p(n):u(ze)}function Xe(e,t){return function(n){return t(e+n)}}function et(e,t){void 0===t&&(t=ut);var n=he[e.toLowerCase()];return void 0!==n?_e[n].name:(t('"'.concat(e,'" is not found')),null)}function tt(e,t){var n,a;return void 0===t&&(t=ut),e?(n={},e.products&&(ee(e.products)?n.products=e.products.reduce((function(e,n){return(n=et(n,Xe("consent.products: ",t)))&&e.push(n),e}),[]):t("consent.products: should be an array")),e.defaultPreset&&(n.defaultPreset=X(e.defaultPreset).reduce((function(n,a){var o=et(a,Xe("consent.defaultPreset: ",t)),r=pt(e.defaultPreset[a]);return r||t("consent.defaultPreset: "+dt(a,$e)),o&&r&&(n[o]=r),n}),{})),(a=e.defaultPurposes)&&(n.defaultPurposes=X(a).reduce((function(e,n){var o=Xe("consent.defaultPurposes: ",t),r=et(n,o),i=a[n],s=Ve(i);return s===He||"DL"===r?o('"'.concat(n,": ").concat(i,'" - invalid config')):r&&s&&(e[r]=s),e}),{})),n):null}function nt(e){return e.reduce((function(e,t,n){return Q(Q({},e),((e={})[n]={mode:Ee[t]},e))}),{})}function at(e,t){return F(e,t,(function(e,t,n){return(e=(null==e?void 0:e.mode)||(null==t?void 0:t.mode)||bt()[0].preset[n].mode)!==(null==t?void 0:t.mode)?{mode:e}:t}))}function ot(e){var t=Number(e);return Number.isNaN(t)?String(e):t}function rt(e){return ee(e)?e:e.split(",").map((function(e){return e.trim().replace(/^['"](.+)['"]$/,"$1")}))}function it(e){return e}var st,ct=function(e,t){var n;return e?(n=ke(t||Re),ye().reduce((function(t,a){a=a.name;var o=n[a],r=(null==(r=e[a])?void 0:r.mode)||Ce;return t[o]?(t[o].mode=Ie(t[o].mode,r),t[o].products.push(a)):t[o]={mode:r,products:[a]},t}),{})):null},lt=["include","exclude","obfuscate"],dt=function(e,t){return'"'.concat(e,'" should be one of ').concat(t.join(", "))},ut=function(){},pt=function(e){return De(e)?e:null},ft=function(e,t){void 0===t&&(t=ut);var n=e.source;return e=e.patches||[],pt(n)||(t(dt("source",$e)),n=Ce),ee(e)||(t('"patches" should be an array'),e=[]),{source:n,patches:e=e.reduce((function(e,n,a){var o,r;return!ne(n)||ee(n)?t("patch[".concat(a,"]: should be type of {action, item, with?}")):(o=n.action,r=n.item,lt.includes(o)?r&&ne(r)&&r.key&&r.type?e.push(n):t("patch[".concat(a,']: "item" should be type of {key, type}')):t("patch[".concat(a,"]: ")+dt("action",lt))),e}),[])}},gt=U(tt),mt=function(e,t){return void 0===t&&(t=ut),X(e||{}).reduce((function(n,a){var o=null==e?void 0:e[a],r=et((null==o?void 0:o.source)||"",t);return n[a]=Q(Q({},o),{source:r}),n}),{})},vt=[[0,0,0,0,0,0,0,0],[0,0,2,2,2,2,2,0],[1,2,2,2,2,2,2,1],[0,2,0,2,2,2,0,0],[1,2,2,2,2,2,1,1],[2,0,0,2,2,2,2,0],[2,0,2,2,2,2,2,0],[2,2,2,2,2,2,0,2],[2,2,0,0,0,0,2,0],[2,2,1,2,1,2,2,1],[2,2,1,1,2,2,2,1]],_t=vt.map((function(e,t){return{id:t,preset:nt(e)}})),ht=B((function(){var e;return null==(e=gt(ge().consent))?void 0:e.defaultPreset})),bt=(st=_t,function(){return ht((function(e){st=_t.slice(),e&&(st[0]={id:0,preset:Q({},st[0].preset)},X(e).forEach((function(t){var n=e[t];t=he[t],st[0].preset[t]={mode:n}})))})),st}),yt=Q(Q({},R(null,"_pprv")),{init:function(e){return K()&&e?at(e,null):null},set:function(e,t){var n,a,o;return K()?null!=e&&(n="number"==typeof e?(null==(n=bt()[e])?void 0:n.preset)||null:ee(e)?(o=null,e.forEach((function(e){var t=vt[e];!o&&t?o=t:o&&t&&(o=o.map((function(e,n){return Math.min(e,t[n])})))})),o&&nt(o)):X(a=e).reduce((function(e,t){var n=a[t];return null!==(t=we(t))&&(n=Oe(n.mode)?n.mode:null)&&((e=e||{})[t]={mode:n}),e}),null))?at(n,t):t:null},get:U((function(e){return e&&ke(e,(function(e,t){var n;return(e=Q({},e)).mode===xe&&(e.modifier=(null==(n=z())?void 0:n[t])||null),e}))}),z)}),wt=Q(Q({},M()),{init:bt,set:bt}),kt=Q(Q({},M()),{init:ye,set:ye}),Ct=Q(Q({},M(null)),{readonly:!0,set:function(){return null},get:z}),At={id:it,type:it,zone:it,createdAt:ot,modifiedAt:ot,authors:rt,section:it,tags:rt,keywords:rt,title:it,description:it,isNative:se},Pt=function(e){return"first"===e},xt=function(e){return"last"===e};function $t(e,t){return void 0===e&&(e="meta"),Pt(t)?document.querySelector(e):(e=document.querySelectorAll(e),xt(t)?e[e.length-1]:Array.from(e))}function St(e){var t=e.getContent||function(e){return e.content};if(e.selector)return(o=$t(e.selector,e.take||"first"))&&t(o)||null;var a=Ot.find(e.attr||["name"],e.hasContent),o=e.names||[],r=!("all"===e.take),i=xt(e.take);if(a)for(var s=0,c=o;s<c.length;s++){var l=function(e){var n,o=[];if(e=a[e]){if(r)return n=e[i?e.length-1:0],{value:t(n)||""};e.forEach((function(e){o=o.concat(t(e)||"")}))}if(o.length)return{value:o}}(c[s]);if("object"===n(l))return l.value}return null}function Et(e){var t=e.replace(/DAY/g,"(0?[1-9]|[12][0-9]|3[01])").replace(/MONTHLONG/g,"("+X(jt).join("|")+")").replace(/MONTH/g,"(0?[1-9]|1[012])").replace(/YEAR2/g,"([0-9][0-9])").replace(/YEAR/g,"(197[1-9]|19[8-9][0-9]|20[0-9][0-9])").replace(/TIME/g,"([0-9][0-9]):([0-9][0-9]):([0-9][0-9])(?:\\.[0-9][0-9][0-9])?([zZ]|[+-][0-9][0-9](?::?[0-9][0-9])?)?");return e=e.replace(/.*?([YMD])(EAR|ONTH|AY).*?/g,"$1").substring(0,3),[new RegExp(t),e]}function Tt(e){return e&&parseInt(e,10)||0}It=null;var It,Ot={refresh:function(){(It=$t()||null)&&setTimeout((function(){It=null}),0)},find:function(e,t){return void 0===t&&(t=!1),It?It.reduce((function(n,a){for(var o=0,r=e;o<r.length;o++){var i=(("name"===(i=r[o])?a.name:a.getAttribute(i))||"").trim().toLowerCase(),s=a.content;if(i&&(!t||s)){n[i]||(n[i]=[]),n[i].push(a);break}}return n}),{}):null}},Dt=function(e){for(var t=0,n=e;t<n.length;t++){var a;if(a=St(a=n[t]))return a}},Lt=function(e,t,n){var a,o=At[t];!Boolean(e[t])&&o&&(o=(a=("function"==typeof n?n:function(){return(ee(n)?Dt:St)(n)})())&&o(a))&&(e[t]=o)},Rt=function(e){return{attr:["property"],names:[e]}},Mt=function(e){return{names:[e]}},jt={januar:"01",january:"01",jan:"01",februar:"02",february:"02",feb:"02",mars:"03",march:"03",mar:"03",april:"04",apr:"04",mai:"05",may:"05",juni:"06",june:"06",jun:"06",juli:"07",july:"07",jul:"07",august:"08",aug:"08",september:"09",sept:"09",sep:"09",oktober:"10",october:"10",okt:"10",oct:"10",november:"11",nov:"11",desember:"12",december:"12",dec:"12",des:"12"},Nt=["\\bDAY\\.MONTH\\.YEAR\\b","\\bDAY\\.?\\s{0,3}MONTHLONG\\.?\\s{1,3}YEAR\\b","\\bYEAR-MONTH-DAY(?:[tT]|\\b)","\\bMONTHLONG\\.?\\s{0,3}DAY(?:st|nd|rd|th)?,?\\s{1,3}YEAR\\b","\\bDAY(?:st|nd|rd|th|\\.)?\\s{0,3}MONTHLONG\\.?,?\\s{1,3}YEAR\\b","\\bYEAR[/å¹´]MONTH[/æœˆ]DAY(?=\\b|æ—¥)","\\bDAY\\.MONTH\\.YEAR2\\b","\\bDAY/MONTH/YEAR\\b"].map(Et),Ut=Et("YEAR-MONTH-DAY[tT]TIME")[0];function Bt(e,t,n,a,o,r,i){return e=new Date(Date.UTC(Tt(e),Tt(t)-1,Tt(n),Tt(a),Tt(o),Tt(r))),(t=(i||"").match(/^([+-][0-9][0-9])(?::?([0-9][0-9])?)$/))&&(e=new Date(e.getTime()-36e5*Number(t[1])-6e4*(Number(t[2])||0))),0<(n=Date.now()-e.getTime())||-n<1728e5?e.toISOString():null}var Ht=function(e){return e.replace(/<\/?[^>?]*\/?>/g," ").replace(/\s+/g," ").trim()};function qt(e){return Ht((e=void 0===e?"":e).replace(/,(?=\s*(jr|sr)(\.?)\b)/g," "))}function Ft(e){return Q(Q({},e),{take:"last"})}function Vt(e){return Q(Q({},e),{take:"last",hasContent:!0,getContent:function(e){return Ht(e.content||"")}})}function zt(e){Lt(e,"createdAt",(function(){if(!(e=Dt(Zt)))return null;var e,t=e.toLowerCase();if(e=(t=t.toLowerCase()).match(Ut))return Bt(e[1],e[2],e[3],e[4],e[5],e[6],e[7]);for(var n=0,a=Nt;n<a.length;n++){var o=a[n],r=t.match(o[0]);if(r)return Bt(2===(r="DMY"===o[1]?["",r[3],r[2],r[1]]:"MDY"===o[1]?["",r[3],r[1],r[2]]:r)[1].length?(Tt(r[1])<60?"20":"19")+r[1]:r[1],r[2].length<=2?r[2]:jt[r[2]],r[3])}})),Lt(e,"modifiedAt",Xt),Lt(e,"authors",en),Lt(e,"keywords",(function(){var e=Dt(tn);return e&&e.length<=1024?e:null})),Lt(e,"title",an),Lt(e,"description",nn)}function Kt(){var e,t=Array.from(document.querySelectorAll("meta[property^=content]")).reduce((function(e,t){var n=null==(n=null==t?void 0:t.getAttribute("property"))?void 0:n.split(":").pop(),a=At[n];return a&&t&&(e[n]=a((null==t?void 0:t.getAttribute("content"))||"")),e}),{});return Ot.refresh(),Lt(e=t,"type",Rt("og:type")),Lt(e,"section",Mt("section")),Lt(e,"id",Mt("id")),Lt(e,"authors",Mt("author")),zt(t),t}function Wt(e){return e.getTime().toString(36)}function Jt(e){return e?ce((function(){return new Date(parseInt(e,36))})):null}function Yt(e,t,n){return void 0===n&&(n=!1),{cookieName:e,consent:t=void 0===t?dn:t,encode:function(e){return de(e,n)},decode:function(e){return le(e,!0)}}}function Gt(e){function t(e){return Q(Q({},p),re(e||{},te))}function n(e,t){var n=e&&t;!g()&&n&&m(),g()&&!n&&v(),g()&&n&&!l&&m(),i=e,d=t}var a=e.cookieName,o=e.consent,r=C.get(a),i=!!r,s=i,c=cn(r,e),l=!!c.fixedAt,d=i,u=null,p=Q({},sn),f=null,g=function(){return i&&d},m=function(e){e=t(e);var n,o=u||(f?c.encode(f,e):"");o||(n=C.get(a),o=(n=c.decode(n||""))?c.encode(n,e):""),o&&(l=!0,C.set(a,o,c.bindOptions(e)),s=!0)},v=function(e){g()&&(s&&C.remove(a,t(e)),s=!1)};return c.onChange((function(){g()&&(l=!1,m())})),{get cookieName(){return a},get cookieEnabled(){return g()},get fixedAt(){return c.fixedAt},get consent(){return o},set:function(e,t){f=e,g()&&m(t)},get:function(){return c.decode(C.get(a)||"")},remove:v,setCookieOptions:function(e){p=t(e),g()&&m()},setCookieEnabled:function(e,t){void 0===t&&(t=null),u=e?t:null,n(e,d)},lazyActive:function(){n(i,!0)},setFixedMode:function(e){c.setMode(e)}}}var Qt,Zt=[Ft({attr:["name","property","itemprop"],names:["cxenseparse:publishtime","cxenseparse:recs:publishtime","article:published_time","date","dc.date","dc.date.created","dc.terms.issued","pub_date","article.published","datepublished","og:article:published_time"]}),Ft({selector:"time.published[datetime],time[pubdate][datetime]",getContent:function(e){return e.getAttribute("datetime")}}),Ft({selector:"time[datetime]",getContent:function(e){return e.getAttribute("datetime")}})],Xt={selector:'meta[property="article:modified_time"]'},en=[{attr:["property","name"],names:["cxenseparse:author","og:article:author","article:author","og:book:author","book:author","author","dc.creator","article.author"],take:"all",getContent:function(e){var t=e.getAttribute("data-separator");return e=e.content,t?qt(e).split(t):qt((t=void 0===(t=e)?"":t).replace(/\n+/,";").replace(/(\<|&lt;)br(\>|&gt;)/,";").replace(/\b(and|und|og)\b/g,";")).split(/[,;]/)}}],tn=[Vt({names:["cxenseparse:keywords"]}),Vt({attr:["property","name"],names:["news_keywords"]}),Vt({names:["keywords"]})],nn=[Vt({names:["cxenseparse:description"]}),Vt({attr:["property"],names:["og:description"]}),Vt({names:["description"]})],an=[{names:["cxenseparse:title"]},Ft({attr:["property","name"],names:["og:title"]})],on=Q(Q({},M(null)),{init:Kt,refresh:function(e){var t=Kt();return null!=e&&e._fixed_&&null!=e&&e._fixed_.forEach((function(e){delete t[e]})),Q(Q({},e),t)},set:function(e,t){var n,a;return null===e?{}:(n=new Set(t&&t._fixed_),(a=function(t,n){X(re(e,t)).forEach(n)})(te,(function(e){n.add(e)})),a(j,(function(e){n.delete(e)})),re(Q(Q(Q({},t),e),{_fixed_:Array.from(n.values())}),te))},get:U((function(e){var t=Q({},e);return delete t._fixed_,e&&t}))}),rn=Q(Q({},R(null,"_pcus")),{init:function(e){return(e=void 0===e?null:e)&&re(e,(function(e){return ne(e)&&Array.isArray(e.segments)}))}}),sn=(me={pageViewId:me,browserId:ve,users:pe,userStatus:Z,siteId:R(),consent:yt,consentPresets:wt,products:kt,consentModifiers:Ct,purposes:Ne,content:on,userSegments:rn},{path:"/",expires:395,samesite:"lax",secure:"https:"===window.location.protocol,domain:C.getTopLevelDomain(["pantheon.io","go-vip.net","go-vip.co"])}),cn=function(e,t){function n(e){return i=i||function(e){var t=new Date;if(e instanceof Date)t=e;else{if("number"!=typeof e)return null;t.setDate(t.getDate()+e)}return t}(e.expires)}var a=t.encode,o=t.decode,r=!1,i=null,s=null,c=null;return(t=null==(t=o(e||""))?void 0:t._t)&&(t=t.split("|"),i=Jt(t[0]),s=Jt(t[1]),r=!!i),{get fixedAt(){return r?[s,i]:null},onChange:function(e){c=e},setMode:function(e){var t=r;(r=e)!==t&&(s=i=null)!=c&&c(r)},bindOptions:function(e){return r&&(i=n(e))?Q(Q({},e),{expires:i}):e},decode:function(e){return null!=(e=o(e))&&e._t&&delete e._t,e},encode:function(e,t){return r?(i=n(t))&&(e._t=Wt(i)+"|"+Wt(s=s||new Date)):delete e._t,a(e)}}},ln="essential",dn="optional",un="mandatory",pn=String.fromCharCode,fn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",gn={};function mn(){function e(e,t,n){void 0===n&&(n=!1);var a=[];return X(t).forEach((function(o){var i=t[o],s=!r.has(o)||r.get(o)===e||n;i&&s?r.set(o,e):!i&&s?r.delete(o):a.push(o)})),0<a.length?a:null}var t=Kn(),n={},a=null,o=new Map,r=new Map,i=[];return function(s,c){var l=oe();return o.set(l,s),c&&t.register(c),n=Q(Q({},t.get()),n),{getInitCookieData:function(){return n},getCachedData:function(){return a||Yn},setProtectionData:function(t){return e(l,t)},setProtectionDataUnsafe:function(t){return e(l,t,!0)},updateData:function(e){return s={},c={},X(o=e).forEach((function(e){r.has(e)?s[e]=(null==a?void 0:a[e])||null:c[e]=o[e]})),e=a||n,l=Q(Q({},a),c),ue(l,e)||(t.set(l,e),a=l,i.forEach((function(e){return(0,e[1])(c)}))),0<X(s).length?s:null;var o,s,c,l},onUpdateData:function(e){i.push([l,e])},terminate:function(){var e;e=l,i=i.filter((function(t){return t[0]!==e})),o.delete(l)},setCookieOptions:function(){return null},setCookieEnabled:function(){return null},get registeredCookiesWrapper(){return t.wrappers}}}}function vn(e){return X(e).filter(Qn).map((function(t){return Zn(t,e[t])}))}function _n(e,t){switch(e){case Ce:return!0;case Ae:return t===ln||t===un;case Pe:return t===un;default:return!0}}function hn(e){function t(e){return ce((function(){return window.localStorage.getItem(e)}))}var n=t(e),a=ce((function(){return parseInt(le(t("_ls_ttl"))[e],36)}));return a&&a<=Date.now()?null:n}function bn(e){var t=e&&e.length;return 16===t||36===t?e:null}function yn(e){var t,n=Q(Q({},aa),mt(null==(t=ge())?void 0:t.migration));X(n).forEach((function(t){var a=e.params.get(t),o=n[t]===aa[t],r=(r=null==(r=n[t])?void 0:r.source)&&(null==(r=na[r])?void 0:r[t])||[];a&&r.length&&(r=ta(r))&&(a.readonly=!1,e.updateValues(t,r,!0),a.readonly=!o)}))}function wn(){function e(e){return ie(e,{path:String,domain:String,secure:se,expires:function(e){return e instanceof Date?e:Number(e)},samesite:function(e){return ae(e)?e:se(e)}})}var t=Q({},window[fe]);return null!=t&&t.cookies&&(t.cookies=X(t.cookies).reduce((function(n,a){return n[a]=e(t.cookies[a]),n}),{})),null!=t&&t.cookieDefault&&(t.cookieDefault=e(t.cookieDefault)),t}function kn(e){function t(t){return t||(null==(t=e.get("consent"))?void 0:t.DL)||null}function n(t,n){var a=ia(n),r=null==(n=e.getConnection())?void 0:n.registeredCookiesWrapper;r&&(n=X(r).map((function(e){return r[e].cookieName})),o(n,t).forEach((function(e){var t=e.name,n=e.allowed;e=e.data,n=n&&!a[t],r[t].setCookieEnabled(n,e||null)})))}var a=X(zn).reduce((function(e,t){return e[t]=zn[t].consent,e}),{}),o=ea({items:a,type:"cookie",getConsent:t}),r=t(),i=(null==(a=e.get("consent"))?void 0:a.PA)||null;e.addChangeListener("consent",(function(e){var t=(null==e?void 0:e.DL)||null,a=(null==e?void 0:e.PA)||null;(null==r?void 0:r.mode)===(null===t?void 0:t.mode)&&(null==i?void 0:i.mode)===(null===a?void 0:a.mode)||(i=a,n(r=t,e))})),n(r,e.get("consent"))}function Cn(e){function t(t){var n,o,r=ct(t,e.get("purposes"));r&&t&&(n=!1,o=X(r).reduce((function(e,o){var i=r[o].mode;return r[o].products.forEach((function(o){var r;i!==(null==(r=t[o])?void 0:r.mode)&&(Be(i,o)?a[o]||(a[o]=!0,sa(o,i,1)):(e[o]={mode:i},n=!0,sa(o,i,2)))})),e}),{}),n)&&e.updateValues({consent:o})}var n=null,a={};e.addChangeListener("consent",(function(e){Ue()&&(n&&(clearTimeout(n),n=null),n=setTimeout((function(){t(e),n=null}),200))})),Ue()&&t(e.get("consent"))}(Qt=Qt||{}).URI="URI";var An,Pn,xn,$n,Sn,En,Tn,In,On,Dn,Ln,Rn,Mn,jn,Nn,Un,Bn,Hn,qn,Fn={URI:{prefix:"{u}",compress:function(e){if(null==e)return"";var t=e,n=6,a=function(e){return fn.charAt(e)};if(null==t)return"";for(var o,r,i,s,c={},l={},d="",u=2,p=3,f=2,g=[],m=0,v=0,_=0;_<t.length;_+=1)if(i=t.charAt(_),Object.prototype.hasOwnProperty.call(c,i)||(c[i]=p++,l[i]=!0),s=d+i,Object.prototype.hasOwnProperty.call(c,s))d=s;else{if(Object.prototype.hasOwnProperty.call(l,d)){if(d.charCodeAt(0)<256){for(o=0;o<f;o++)m<<=1,v==n-1?(v=0,g.push(a(m)),m=0):v++;for(r=d.charCodeAt(0),o=0;o<8;o++)m=m<<1|1&r,v==n-1?(v=0,g.push(a(m)),m=0):v++,r>>=1}else{for(r=1,o=0;o<f;o++)m=m<<1|r,v==n-1?(v=0,g.push(a(m)),m=0):v++,r=0;for(r=d.charCodeAt(0),o=0;o<16;o++)m=m<<1|1&r,v==n-1?(v=0,g.push(a(m)),m=0):v++,r>>=1}0==--u&&(u=Math.pow(2,f),f++),delete l[d]}else for(r=c[d],o=0;o<f;o++)m=m<<1|1&r,v==n-1?(v=0,g.push(a(m)),m=0):v++,r>>=1;0==--u&&(u=Math.pow(2,f),f++),c[s]=p++,d=String(i)}if(""!==d){if(Object.prototype.hasOwnProperty.call(l,d)){if(d.charCodeAt(0)<256){for(o=0;o<f;o++)m<<=1,v==n-1?(v=0,g.push(a(m)),m=0):v++;for(r=d.charCodeAt(0),o=0;o<8;o++)m=m<<1|1&r,v==n-1?(v=0,g.push(a(m)),m=0):v++,r>>=1}else{for(r=1,o=0;o<f;o++)m=m<<1|r,v==n-1?(v=0,g.push(a(m)),m=0):v++,r=0;for(r=d.charCodeAt(0),o=0;o<16;o++)m=m<<1|1&r,v==n-1?(v=0,g.push(a(m)),m=0):v++,r>>=1}0==--u&&(u=Math.pow(2,f),f++),delete l[d]}else for(r=c[d],o=0;o<f;o++)m=m<<1|1&r,v==n-1?(v=0,g.push(a(m)),m=0):v++,r>>=1;0==--u&&(u=Math.pow(2,f),f++)}for(r=2,o=0;o<f;o++)m=m<<1|1&r,v==n-1?(v=0,g.push(a(m)),m=0):v++,r>>=1;for(;;){if(m<<=1,v==n-1){g.push(a(m));break}v++}return g.join("")},decompress:function(e){if(null==e)return"";if(""==e)return null;for(var t,n,a,o,r,i,s=(e=e.replace(/ /g,"+")).length,c=32,l=function(t){var n=fn;if(t=e.charAt(t),!gn[n]){gn[n]={};for(var a=0;a<n.length;a++)gn[n][n.charAt(a)]=a}return gn[n][t]},d=[],u=4,p=4,f=3,g="",m=[],v={val:l(0),position:c,index:1},_=0;_<3;_+=1)d[_]=_;for(n=0,o=Math.pow(2,2),r=1;r!=o;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<a?1:0)*r,r<<=1;switch(n){case 0:for(n=0,o=Math.pow(2,8),r=1;r!=o;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<a?1:0)*r,r<<=1;i=pn(n);break;case 1:for(n=0,o=Math.pow(2,16),r=1;r!=o;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<a?1:0)*r,r<<=1;i=pn(n);break;case 2:return""}for(t=d[3]=i,m.push(i);;){if(s<v.index)return"";for(n=0,o=Math.pow(2,f),r=1;r!=o;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<a?1:0)*r,r<<=1;switch(i=n){case 0:for(n=0,o=Math.pow(2,8),r=1;r!=o;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<a?1:0)*r,r<<=1;d[p++]=pn(n),i=p-1,u--;break;case 1:for(n=0,o=Math.pow(2,16),r=1;r!=o;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=c,v.val=l(v.index++)),n|=(0<a?1:0)*r,r<<=1;d[p++]=pn(n),i=p-1,u--;break;case 2:return m.join("")}if(0==u&&(u=Math.pow(2,f),f++),d[i])g=d[i];else{if(i!==p)return null;g=t+t.charAt(0)}m.push(g),d[p++]=t+g.charAt(0),t=g,0==--u&&(u=Math.pow(2,f),f++)}}}},Vn=X(Fn).reduce((function(e,t){return e[Fn[t].prefix]=Fn[t],e}),{}),zn=(ve={cookieName:"_pctx",consent:un,encode:function(e,t){return void 0===t&&(t=Qt.URI),e=JSON.stringify(e),e=Fn[t].compress(e),Fn[t].prefix+e},decode:function(e){return e=function(e){var t=e.slice(0,3);if(e=e.slice(3),!Vn[t])return null;if(!(t=Vn[t].decompress(e)))return null;try{return JSON.parse(t)}catch(e){return null}}(e||""),ne(e)?e:null}},{_pprv:Yt("_pprv",un,!(null!=(pe=null==(pe=ge().cookies)?void 0:pe._pprv)&&pe.jsonOnly)),_pcid:Yt("_pcid",ln),_pcus:Yt("_pcus",dn,!0),_pctx:ve}),Kn=(Z=X(An=zn).reduce((function(e,t){return e[t]=Gt(An[t]),e}),{}),function(){var e=null,t=null;return{register:function(n){return e=Q(Q({},n.fields),e),t=Q(Q({},n.cookieByName),t)},get wrappers(){return t},get:function(){var e={};return t&&X(t).forEach((function(n){e=Q(Q({},e),t[n].get())})),e},set:function(n,a){void 0===a&&(a=null);var o={};X(n).forEach((function(r){var i=n[r],s=null==e?void 0:e[r];s&&(o[s]||(o[s]={wrapper:null==t?void 0:t[s],data:{},update:!1,remove:!0}),o[s].data[r]=i,o[s].remove=o[s].remove&&null===i,a&&(o[s].update||i===a[r])||(o[s].update=!0))})),X(o).forEach((function(e){var t,n=(t=o[e]).wrapper,a=t.update;(t=t.remove)&&n.remove(),a&&!t&&n.set(o[e].data)}))}}}),Wn="__pctx_connection__",Jn="uvm42pas28m",Yn={},Gn=(void 0===Pn&&(Pn=!1),function(e,t){var n=mn();try{Object.defineProperty(window,Wn,{configurable:Pn,set:function(e){var t=e();t===Jn?e(n):"mrlqf5trgho"===t&&(n=mn())}})}catch(e){}return window[Wn]=function(e){return e&&(n=e),Jn},n(e,t)}),Qn=function(e){return e.includes("*")},Zn=function(e,t){return[new RegExp("^"+e.replace(/\*/g,".*")+"$"),t]},Xn=function(e,t){for(var n=0,a=t;n<a.length;n++){var o=a[n];if(o[0].test(e))return o[1]}return null},ea=function(e){function t(e){return n[e]||Xn(e,a)||dn}var n=Object.assign({},e.items),a=vn(n);return function(n,a){var o,r,i,s=ge().requireConsent,c=!ee(n),l=c?[n]:n;function d(){return l.map((function(e){return{name:e,allowed:!s}}))}return n=(i=a||e.getConsent())?i.mode===xe?(o=function(e,t,n){if(!(t=t&&ft(t,n)))return null;for(var a=[],o={},r=0,i=t.patches;r<i.length;r++){var s,c=(s=i[r]).action,l=s.with;(s=s.item).type===e&&(o[s.key]=c={action:c,data:void 0===l?null:l},Qn(s.key))&&a.push(Zn(s.key,c))}return{source:t.source,getModifier:function(e){return o[e]||Xn(e,a)}}}(e.type,i.modifier,e.log))?(r=o.source,l.map((function(e){var n=o.getModifier(e),a=(a=null==n?void 0:n.action,i=null==n?void 0:n.data,"obfuscate"===a?i:null),i={name:e,allowed:null!=n&&n.action?function(e){switch(e){case"include":return!0;case"exclude":return!1;case"obfuscate":return!0}}(n.action):_n(r,t(e))};return null!==a&&(i.data=a),i}))):d():l.map((function(e){return{name:e,allowed:_n(i.mode,t(e))}})):d(),c?n[0]:n}},ta=(yt=Object.freeze({__proto__:null,createCheckConsentWrapper:ea,createMask:Zn,getByMask:Xn,isMask:Qn,itemsToMask:vn}),xn={pa_vid:function(e){return bn(le(e||"",!0)||e)},atuserid:function(e){return bn((null==(e=le(e||"",!0))?void 0:e.val)||"")}},function(e){for(var t=0,a=e;t<a.length;t++){var o=function(e){try{var t=e.ls?hn(e.ls)||null:(n=C.get(e),xn[e]&&n?xn[e](n):n);if(t)return{value:t}}catch(e){}var n}(a[t]);if("object"===n(o))return o.value}return null}),na={PA:{browserId:["pa_vid","atuserid"].concat(wt=[{ls:"_cX_P"},"cX_P"])},DMP:{browserId:wt}},aa={browserId:{source:"DMP"}},oa=(kt="@@Data-layer/")+"update_value",ra=kt+"refresh_value",ia=function(e){e=e,t=1===(t=(null==(t=(n=ge()).consent)?void 0:t.products)||[]).length&&"PA"===t[0],e="opt-out"===(null==(e=null==e?void 0:e.PA)?void 0:e.mode);var t,n=!!n.requireConsent&&t&&e;return{_pprv:!ge().requireConsent,_pctx:n,_pcid:n,_pcus:n}},sa=function(e,t,n){n=1===n?"can not be":"was",console.warn('[DL]: Consent v2: the "'.concat(e,'" has a conflicted consent mode, ')+"mode ".concat(n,' changed to "').concat(t,'"'))},ca=(Sn=function(e){kn(e),yn(e),Cn(e)},Ct=Ct=Z,In={fields:X(En=$n=me).reduce((function(e,t){var n=En[t].cookieName;return null!==n&&(e[t]=n),e}),{}),cookieByName:Ct},On=Gn("data-layer",In),Dn=!1,Ln=new Map,Rn=new Set,Mn=new Map,jn=function(){if(On)return On;throw new Error("DataLayer can't be connected")},Nn=function(e){var t=jn().registeredCookiesWrapper;t&&e(t)},Un=function(e){Nn((function(t){e.forEach((function(e){(e=t[e])&&e.lazyActive()}))}))},Bn=function(){function e(e){return X(t).reduce((function(n,a){var o=t[a];return void 0!==o[e]&&(n[a]=o[e]),n}),{})}var t={};return{add:function(e,n){t[e]=n},call:function(){var t;t=e("protect"),0<X(t).length&&jn().setProtectionData(t),t=e("protectUnsafe"),0<X(t).length&&jn().setProtectionDataUnsafe(t)}}},Hn=function(e,t){return X(e).reduce((function(n,a){var o=Mn.get(a),r=e[a];return o&&(n[a]=t?t(o,r):o.get(r)),n}),{})},qn=function(e,t,n){void 0===n&&(n=!1);var a,o=e,r=N(),i=(ae(e)&&((a={})[e]=t,o=a),Bn()),s=Bn();return o=X(o).reduce((function(e,t){var n=o[t],a=Mn.get(t),c=t;return null!=a&&a.readonly||(a&&a.cookieName&&r.add(a.cookieName),a&&n!==Tn[t]&&(n===ra?(e[t]=a.refresh(Tn[t],(function(e){s.add(c,e)})),e[t]!==Tn[t]&&i.add(c,{protectUnsafe:!1})):e[t]=n===oa?a.update(Tn[t],(function(e){s.add(c,e)})):a.set(n,Tn[t],(function(e){s.add(c,e)})))),e}),{}),Un(r.values()),i.call(),(e=jn().updateData(o))&&n&&(t=X(e).reduce((function(e,t){return Q(Q({},e),((e={})[t]=!1,e))}),{}),jn().setProtectionDataUnsafe(t),jn().updateData(o)),s.call(),e&&Hn(e)},{init:function(e){var t,n,a,o,r,i;void 0===e&&(e={}),Dn||(On=On||Gn("data-layer",In),t=Q(Q({},e),wn()),n=t.cookieDefault,Nn((function(e){X(e).forEach((function(a){var o,r,i=e[a].cookieName,s=null==(s=t.cookies)?void 0:s[i];i="fixed"===(null==(i=t.cookies)?void 0:i.storageMode),null!=(r=(o=e[a]).setFixedMode)&&r.call(o,i),(n||s)&&e[a].setCookieOptions(Q(Q({},n),s))}))})),Dn=!0,X($n).forEach((function(e){var t=$n[e];Ln.set(e,new Set),Mn.set(e,t)})),a=!1,o=jn().getInitCookieData(),r=jn().getCachedData(),i=Bn(),e=X($n).reduce((function(e,t){var n=t,s=$n[t];return e[t]=(null==r?void 0:r[n])||s.init(null==o?void 0:o[n],(function(e){i.add(n,e)})),null!=r&&r[n]||(a=!0),e}),{}),Tn=e,a&&jn().updateData(e),i.call(),jn().onUpdateData(ua),null!=Sn&&Sn(da()))},set:fa,get:pa,update:function(e){return ga(e)},refresh:function(){var e,t;return!jn().setProtectionData(((t={})["@@Data-layer/refresh_locked_key"]=!0,t))&&(e=[],Mn.forEach((function(t,n){return e.push(n)})),t=e.reduce((function(e,t){return e[t]=ra,e}),{}),qn(t),!0)},protect:function(e,t){return ma(e,t)},addChangeListener:va,removeChangeListener:function(e){Rn.delete(e),Ln.forEach((function(t){return t.delete(e)}))},terminate:function(){null!=On&&On.terminate(),Ln.clear(),Rn.clear(),On=null,Dn=!1,Tn={}},updateMigration:function(){Dn&&yn(da())},get isReady(){return Dn},utils:{validateModifier:ft,validateConsent:tt,checkConsent:yt,setConsent:function(e,t,n){if(pa("consent"),e=Ze(pa("purposes"),0,e,t,n)){if(e.error)return e.error;fa({consent:e.consent,purposes:e.purposes})}return null},getConsent:function(){var e=(t=pa(["consent","purposes"])).consent,t=t.purposes;return ct(e,t)},notAcquiredConsent:Ue()?X(Le).reduce((function(e,t){return e[t]={mode:"not-acquired",products:Le[t]},e}),{}):null},get cookies(){return la()},get cookieEnabled(){return la()},setUnsafe:function(e,t){qn(e,t,!0)},protectUnsafe:function(e,t){return ma(e,t,!0)},updateUnsafe:function(e){return ga(e,!0)},setCookieEnabled:function(e){Nn((function(t){var n=X(e);n.length?n.forEach((function(n){var a=t[n];a&&a.setCookieEnabled(e[n])})):X(t).forEach((function(n){t[n].setCookieEnabled(e)}))}))}});function la(){var e=null;return Nn((function(t){e=X(t).reduce((function(e,n){var a=t[n].cookieEnabled,o=t[n].fixedAt||null;return e[t[n].cookieName]=a?{enabled:a,fixedAt:o}:null,e}),{})})),e}function da(){return{params:Mn,getConnection:jn,addChangeListener:va,get:pa,updateValues:qn}}function ua(e){var t=!1;X(e).forEach((function(n){var a,o=Mn.get(n);o&&(a=e[n],Tn[n]!==a)&&(Tn[n]=a,t=!0,null!=(n=Ln.get(n)))&&n.forEach((function(e){return e(o.get(a))}))})),t&&Rn.forEach((function(e){return e(Hn(Tn))}))}function pa(e){var t=N(),n=ae(e),a=void 0===e?Tn:n?((a={})[e]=Tn[e],a):e.reduce((function(e,t){return Mn.has(t)&&(e[t]=Tn[t]),e}),{});return a=Hn(a,(function(e,n){return e.cookieName&&t.add(e.cookieName),e.get(n)})),Un(t.values()),n?a[e]:a}function fa(e,t){return qn(e,t,!1)}function ga(e,t){void 0===t&&(t=!1);var n=e;return ee(e)||(n=[e]),qn(n.reduce((function(e,t){return e[t]=oa,e}),{}),void 0,t)}function ma(e,t,n){n=(n=void 0!==n&&n)?jn().setProtectionDataUnsafe:jn().setProtectionData;var a,o=e;return ae(e)&&((a={})[e]=t,o=a),n(o)}function va(e,t){var n;ae(e)?null!=(n=Ln.get(e))&&n.add(t):Rn.add(e)}function _a(e,t,n){t.addEventsProperty("event_collection_platform","js"),t.addEventsProperty("event_collection_version",t.getConfiguration("version"));var a,r=new Date,i=(t.addEventsProperty("device_timestamp_utc",r.getTime()),t.addEventsProperty("device_local_hour",r.getTime()),t.addEventsProperty("device_hour",r.getHours()),"isManualPageRefresh"),s="pageview_id",c="_isNotFirstPageView",l=o(t.events);try{for(l.s();!(a=l.n()).done;){var d=a.value;"page.display"===d.name&&(null===e.getConfiguration(i)&&e.getConfiguration(c)&&e.setConfiguration(i,!1),e.getConfiguration("enableAutomaticPageRefresh")&&!1===e.getConfiguration(i)&&e.getConfiguration(c)&&ca.refresh(),e.getConfiguration(c)||e.setConfiguration(c,!0)),e._privacy.call("isPropAllowed",s)&&t.isPropertyAbsentForEvent(s,d)&&(d.data[s]=ca.get("pageViewId"))}}catch(a){l.e(a)}finally{l.f()}try{var u=new Date(new Date(ca.cookies._pcid.fixedAt[0]).setUTCHours(0,0,0,0)).toISOString();t.addEventsProperty("cookie_creation_date",u)}catch(a){}var p,f,m,v=ca.get("content");for(p in v)Object.prototype.hasOwnProperty.call(v,p)&&(f="createdAt"===p||"tags"===p?{createdAt:"content_publication_date",tags:"tags_array"}[p]:"content_".concat(p).replace(/[\w]([A-Z])/g,(function(e){return e[0]+"_"+e[1]})).toLowerCase(),t.addEventsProperty(f,v[p]));t.addEventsProperty("has_access",ca.get("userStatus")),t.addEventsProperty("device_screen_width",window.screen.width),t.addEventsProperty("device_screen_height",window.screen.height),t.addEventsProperty("device_display_width",window.innerWidth||document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:""),t.addEventsProperty("device_display_height",window.innerHeight||document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:""),r=function(e,t){var n,a=o(["-","_"]);try{for(a.s();!(n=a.n()).done;){var r,i=n.value;if(-1<e.indexOf(i))return[(r=e.split(i))[0],r.slice(1).join(i)]}}catch(e){a.e(e)}finally{a.f()}return["",""]}(window.navigator?window.navigator.language||window.navigator.userLanguage:""),t.addEventsProperty("browser_language",r[0]),t.addEventsProperty("browser_language_local",r[1]),t.addEventsProperty("previous_url",document.referrer||""),document.title&&t.addEventsProperty("page_title_html",document.title),!(u="true"===t.getConfiguration("addEventURL").toString())&&"withoutQS"!==t.getConfiguration("addEventURL")||t.addEventsProperty("event_url_full",u?window.location.href.split("#")[0]:"".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname));try{e.getConfiguration("allowHighEntropyClientHints")?window.navigator.userAgentData.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then((function(e){ba(t,e)})).finally((function(){g(e,t,n)})):(m={brands:window.navigator.userAgentData.brands,platform:window.navigator.userAgentData.platform,mobile:window.navigator.userAgentData.mobile},ba(t,m),g(e,t,n))}catch(a){g(e,t,n)}}function ha(e){return void 0!==e}function ba(e,t){var n=[{metric:"brands",property:"ch_ua"},{metric:"architecture",property:"ch_ua_arch"},{metric:"bitness",property:"ch_ua_bitness"},{metric:"fullVersionList",property:"ch_ua_full_version_list"},{metric:"mobile",property:"ch_ua_mobile"},{metric:"model",property:"ch_ua_model"},{metric:"platform",property:"ch_ua_platform"},{metric:"platformVersion",property:"ch_ua_platform_version"},{metric:"uaFullVersion",property:"ch_ua_full_version"}];if(ha(t))for(var a=0;a<n.length;a++)ha(t[n[a].metric])&&e.addEventsProperty(n[a].property,t[n[a].metric])}function ya(e,t,n){function a(a){g(e,t,n,a)}t.options&&t.options.onBeforeBuild?t.options.onBeforeBuild(e,t,a):a()}function wa(e,t,n){function a(a){g(e,t,n,a)}t.options&&t.options.onBeforeSend?t.options.onBeforeSend(e,t,a):a()}function ka(e,t,n){e._privacy.call("filterEvents",t.events),e._privacy.call("filterProps",t.properties);for(var a=t.events,o=0;o<a.length;o++){e._privacy.call("filterProps",a[o].data,a[o].name);var r,i=e._privacy.call("getModeMetadata")||{};for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.addEventsProperty(r,i[r])}g(e,t,n)}function Ca(e,t,n){var a,r=[];for(a in t.properties)if(Object.prototype.hasOwnProperty.call(t.properties,a)){var i,s=!1,c=o(t.events);try{for(c.s();!(i=c.n()).done;){var l=i.value,d=!1,u=t.properties[a].options.events;if(u)if(-1<u.indexOf(l.name))d=!0;else{var p,f=o(u);try{for(f.s();!(p=f.n()).done;){var m=p.value;if("*"===m.charAt(m.length-1)&&0===l.name.indexOf(m.substring(0,m.length-1))){d=!0;break}}}catch(e){f.e(e)}finally{f.f()}}else d=!0;d&&void 0===l.data[a]&&(l.data[a]=t.properties[a].value,s=!0)}}catch(e){c.e(e)}finally{c.f()}s&&!t.properties[a].options.persistent&&r.push(a)}for(var v=0,_=r;v<_.length;v++)delete e._properties[_[v]];if(!t.getConfiguration("sendEmptyProperties")){var h,b=o(t.events);try{for(b.s();!(h=b.n()).done;){var y,w=h.value;for(y in w.data)!Object.prototype.hasOwnProperty.call(w.data,y)||""!==w.data[y]&&void 0!==w.data[y]||delete w.data[y]}}catch(e){b.e(e)}finally{b.f()}}g(e,t,n)}function Aa(e,t,n){(e._privacy.call("getMode")!==e._privacy.modeEnum.OPTOUT||e._privacy.call("getMode")===e._privacy.modeEnum.OPTOUT&&t.getConfiguration("sendEventWhenOptout"))&&0<t.build.data.events.length&&s.post(t.build.url,JSON.stringify(t.build.data)),g(e,t,n)}function Pa(e,t,n){void 0!==t.properties.user_id?g(e,t,n):e.getUser((function(a){var o;null!==a&&(t.addEventsProperty("user_id",a.id,o={persistent:!0}),t.addEventsProperty("user_category",a.category,o),t.addEventsProperty("user_recognition",!0,o)),g(e,t,n)}))}function xa(e,t,n){e._storage.getItem(t.getConfiguration("storageVisitor"),(function(a){var o;t.getConfiguration("isVisitorClientSide")&&(t.visitorId=t.getConfiguration("visitorId")||ca.get("browserId"),t.getConfiguration("isLegacyPrivacy")||"opt-out"!==e.consent.getMode()||(t.visitorId="OPT-OUT"),o="OPT-OUT"!==t.visitorId&&"no-consent"!==t.visitorId&&"no-storage"!==t.visitorId&&t.visitorId!==t.getConfiguration("visitorId"),t.visitorId!==ca.get("browserId"))&&o&&(t.visitorId=t.visitorId+"-NO"),g(e,t,n)}))}function $a(e,t,n){function a(t){null!=(t=r(Da(n.dataLayer,n.items,e.getNames),t))&&t.forEach((function(t){t.allowed?t.data&&e.set(t.name,t.data):e.remove(t.name)}))}var o=Ta(n),r=Oa(n.dataLayer,{items:n.items,type:t,getConsent:o});return t=void 0===n.checkConsentOnInit&&n.enableAutoRemove,n.enableAutoRemove&&Ia(n,a),t&&a(o()),Object.assign({},e,{set:function(t,n,a){var o=r(t);null!=o&&o.allowed&&(o=null!=(o=o.data)?o:n,e.set.apply(null,a?[t,o,a]:[t,o]))},check:r})}function Sa(e,t){return{check:Oa(t.dataLayer,{items:t.items,type:e,getConsent:Ta(t)})}}var Ea=function(e){this.setItem=function(t,n,a,o){t="".concat(t,"=").concat(e.getConfiguration("encodeStorageBase64")?l.base64.encode(JSON.stringify(n)):encodeURIComponent(JSON.stringify(n))),t=(t=(t=(t=(t+=";path=".concat(e.getConfiguration("cookiePath")))+";domain=".concat(e.getConfiguration("cookieDomain")))+(e.getConfiguration("cookieSecure")?";secure":""))+";samesite=".concat(e.getConfiguration("cookieSameSite")))+(a?";expires=".concat(a.toUTCString()):""),document.cookie=t,o&&o()},this.getItem=function(e,t){var n=null;if(e=new RegExp("(?:^| )".concat(e,"=([^;]+)")).exec(document.cookie)||null)try{n=JSON.parse(decodeURIComponent(e[1]))}catch(t){n=JSON.parse(l.base64.decode(e[1]))}t&&t(n)},this.deleteItem=function(e,t){var n=new Date;n.setTime(n.getTime()-1e3),this.setItem(e,"",n,t)}},Ta=function(e){return function(){var t=e.dataLayer.get("consent");return t&&t[e.productName]||null}},Ia=function(e,t){function n(n){(n=(null==n?void 0:n[e.productName])||null)!==a&&t(a=n)}var a=null;return e.dataLayer.addChangeListener("consent",n),function(){e.dataLayer.removeChangeListener(n)}},Oa=function(e,t){return e.utils.checkConsent.createCheckConsentWrapper(t)},Da=function(e,t,n){var a=e.utils.checkConsent,o=a.itemsToMask(t),r=Object.keys(t).filter((function(e){return!a.isMask(e)}));return n().filter((function(e){return r.includes(e)||a.getByMask(e,o)}))},La={createLocalStorage:function(e){t=e.dataLayer,o=O.__protected__.ttlName,a=Oa((t={dataLayer:t,productName:"DL"}).dataLayer,{items:((n={})[o]="mandatory",n),type:"localStorage",getConsent:Ta(t)}),r=function(){var e=a(o);return e.allowed&&!e.data},i=!0,Ia(t,c),c();var t,n,a,o,r,i,s=function(){return i};function c(){(i=r())||O.remove(o)}var l=$a(O,"localStorage",e);return Object.assign({},l,{set:function(e,t,n){var a=n;return null!=n&&n.expires&&!s()&&delete(a=Object.assign({},n)).expires,l.set(e,t,a)}})},createProperty:function(e){return Sa("property",e)},createCookie:function(e){function t(t){null!=(t=l(Da(e.dataLayer,s,C.getNames),t))&&t.forEach((function(e){function t(){return r[e.name]||a.getByMask(e.name,i)||c}e.allowed?e.data&&C.set(e.name,e.data,t()):C.remove(e.name,t())}))}var n,a=e.dataLayer.utils.checkConsent,o=Ta(e),r={},i=[],s={},c={},l=(Object.keys(e.items).forEach((function(t){var n,o,c,l,d=e.items[t];d.type?(n=d.type,o=d.domain,c=d.path,l={},s[t]=n,o&&(l.domain=o),c&&(l.path=c),a.isMask(t)?i.push(a.createMask(t,l)):r[t]=l):s[t]=d})),Oa(e.dataLayer,{items:s,type:"cookie",getConsent:o}));return n=!(void 0!==e.checkConsentOnInit||!e.enableAutoRemove),e.enableAutoRemove&&(c=e.enableAutoRemove,Ia(e,t)),n&&t(o()),Object.assign({},C,{check:l,set:function(e,t,n,a){var o=l(e);null!=o&&o.allowed&&C.set(e,null!=(e=o.data)?e:t,n,a)}})},createSessionStorage:function(e){return $a(G,"sessionStorage",e)},createEvent:function(e){return Sa("event",e)}},Ra={"*":"optional",pa_vid:"mandatory",pa_privacy:"mandatory",atuserid:"essential"},Ma={"click.exit":"mandatory","click.navigation":"mandatory","click.download":"mandatory","click.action":"mandatory","page.display":"mandatory"},ja={"*":"optional",connection_type:"mandatory",device_timestamp_utc:"mandatory",visitor_privacy_consent:"mandatory",visitor_privacy_mode:"mandatory",ch_ua:"mandatory",ch_ua_arch:"mandatory",ch_ua_bitness:"mandatory",ch_ua_full_version:"mandatory",ch_ua_full_version_list:"mandatory",ch_ua_mobile:"mandatory",ch_ua_model:"mandatory",ch_ua_platform:"mandatory",ch_ua_platform_version:"mandatory",app_crash:"essential",app_crash_class:"essential",app_crash_screen:"essential",app_version:"essential",browser:"essential",browser_cookie_acceptance:"essential",browser_group:"essential",browser_version:"essential",click:"essential",click_chapter1:"essential",click_chapter2:"essential",click_chapter3:"essential",click_full_name:"essential",connection_monitor:"essential",connection_organisation:"essential",cookie_creation_date:"essential",date:"essential",date_day:"essential",date_daynumber:"essential",date_month:"essential",date_monthnumber:"essential",date_week:"essential",date_year:"essential",date_yearofweek:"essential",device_brand:"essential",device_display_height:"essential",device_display_width:"essential",device_name:"essential",device_name_tech:"essential",device_screen_diagonal:"essential",device_screen_height:"essential",device_screen_width:"essential",device_type:"essential",event_collection_platform:"essential",event_collection_version:"essential",event_hour:"essential",event_id:"essential",event_minute:"essential",event_position:"essential",event_second:"essential",event_time:"essential",event_time_utc:"essential",event_url:"essential",event_url_domain:"essential",event_url_full:"essential",exclusion_cause:"essential",exclusion_type:"essential",geo_city:"essential",geo_continent:"essential",geo_country:"essential",geo_metro:"essential",geo_region:"essential",goal_type:"essential",hit_time_utc:"essential",os:"essential",os_group:"essential",os_version:"essential",os_version_name:"essential",page:"essential",page_chapter1:"essential",page_chapter2:"essential",page_chapter3:"essential",page_duration:"essential",page_full_name:"essential",page_position:"essential",page_title_html:"essential",page_url:"essential",pageview_id:"essential",previous_url:"essential",privacy_status:"essential",site:"essential",site_env:"essential",site_id:"essential",site_platform:"essential",src:"essential",src_detail:"essential",src_direct_access:"essential",src_organic:"essential",src_organic_detail:"essential",src_portal_domain:"essential",src_portal_site:"essential",src_portal_site_id:"essential",src_portal_url:"essential",src_referrer_site_domain:"essential",src_referrer_site_url:"essential",src_referrer_url:"essential",src_se:"essential",src_se_category:"essential",src_se_country:"essential",src_type:"essential",src_url:"essential",src_url_domain:"essential",src_webmail:"essential"};function Na(e,t){var n;return n=t,window.pdl&&window.pdl.consent_items&&window.pdl.consent_items.PA&&window.pdl.consent_items.PA[n]&&Object.assign(e,window.pdl.consent_items.PA[t]),e}function Ua(e){function t(){return"v2"===window.pdl.requireConsent}this.storageKeys=["pa_vid","pa_user","pa_privacy","atuserid"],this.propertyConsent={},this.eventConsent={},this.storageConsent={},this.consentItems={propertyItems:{},eventItems:{},cookieItems:{}},this.modeMetadata={"opt-in":{visitor_privacy_consent:!0,visitor_privacy_mode:"optin"},"opt-out":{visitor_privacy_consent:!1,visitor_privacy_mode:!0===e.getConfiguration("enableExtendedOptout")?"extended-optout":"optout"},essential:{visitor_privacy_consent:!1,visitor_privacy_mode:"exempt"},custom:{visitor_privacy_consent:!1,visitor_privacy_mode:"custom"}},this.init=function(){this.consentItems={propertyItems:Na(ja,"properties"),eventItems:Na(Ma,"events"),cookieItems:Na(Ra,"storages")},this.propertyConsent=La.createProperty({dataLayer:ca,productName:"PA",items:this.consentItems.propertyItems}),this.eventConsent=La.createEvent({dataLayer:ca,productName:"PA",items:this.consentItems.eventItems}),this.storageConsent=La.createCookie({dataLayer:ca,productName:"PA",items:this.consentItems.cookieItems}),e.getConfiguration("isLegacyPrivacy")||(this.initMode(),this.filterKeys())},this.initMode=function(){null===ca.get("consent")&&(window.pdl.consent&&window.pdl.consent.defaultPreset?ca.set("consent",0):this.setMode("opt-in"))},this.setMode=function(e){ca.set("consent",{PA:{mode:e}}),this.filterKeys()},this.setPresets=function(e){ca.set("consent",e),this.filterKeys()},this.getMode=function(){var e="opt-in",t=ca.get("consent");return t&&t.PA&&t.PA.mode?ca.get("consent").PA.mode:e},this.setCustomModeMetadata=function(e,t){this.modeMetadata.custom.visitor_privacy_mode=t||"custom",this.modeMetadata.custom.visitor_privacy_consent=e},this.setAllPurposes=function(e){if(t())return ca.utils.setConsent(e)},this.setByPurpose=function(e,n,a){t()&&ca.utils.setConsent(e,n,a)},this.getByPurpose=function(){return ca.utils.getConsent()},this.getModeMetadata=function(){return this.modeMetadata[this.getMode()]||{}},this.getConsentItems=function(){return this.consentItems},this.isPropAllowed=function(t){return!0===e.getConfiguration("enableExtendedOptout")&&"opt-out"===this.getMode()||this.propertyConsent.check(t).allowed}.bind(this),this.isEventAllowed=function(t){return!0===e.getConfiguration("enableExtendedOptout")&&"opt-out"===this.getMode()||this.eventConsent.check(t).allowed}.bind(this),this.isKeyAllowed=function(e){return this.storageConsent.check(e).allowed}.bind(this),this.filterProps=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&!this.isPropAllowed(t)&&delete e[t]},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.filterKeys=function(){var t,n=o(this.storageKeys);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.isKeyAllowed(a)||e._storage.deleteItem(a)}}catch(t){n.e(t)}finally{n.f()}},this.setItem=function(t,n,a,o){this.isKeyAllowed(t)?e._storage.setItem(t,n,a,o):o&&o()},this.dl=ca,this.init()}function Ba(e,t,n,a){var o,r=n?null:e,i=t||[],s=!1,c=!1,l=!1;if(0<i.length){for(var d=0;d<i.length;d++)u(i[d],r);p()}function u(t,n){try{!function e(t,n,a,o){var r=t[n[0]];return void 0===r||(1===n.length?(r.apply(o||t,a),!1):e(r,n.slice(1),a,o))}(e,t[0].split("."),t.slice(1),n)?s=!0:c=!0}catch(t){c=!0}}function p(){c&&s&&!l&&(console.error("Piano Analytics SDK - window.".concat(a,' is used for Piano Analytics integration and somewhere else. Please check "queueVarName" configuration if needed.')),l=!0)}n&&(o=window[a].push.bind(window[a]),window[a].push=function(e){u(e),p(),o(e)})}function Ha(e){function t(e,t,n,a){return n=s(t[n].events[e],a),t=s(t["*"].events[e],a),n||t}function n(e,t,n,a,o){var r;return o=o?(r=c(t[n].properties,e,a,o),c(t["*"].properties,e,a,o)):(r=l(t[n].properties,e,a),l(t["*"].properties,e,a)),r||o}function a(e,t,n,a){return n=d(t[n].storage,e,a),t=d(t["*"].storage,e,a),n||t}var o=e.getConfiguration("privacy"),r=(this.currentMode="",this.modes=o.modes,this._storageKeys=Object.assign(o.legacyKeys,o.storageKeys),this.init=function(){e.getConfiguration("isLegacyPrivacy")&&(window._pac=window._pac||{privacy:[]},Ba(this,window._pac.privacy),e._storage.getItem(o.storageKey,function(t){this.setMode(t&&this.modes[t]?t:e.getConfiguration("privacyDefaultMode"))}.bind(this)))},this.setMode=function(t){t!==this.currentMode&&this.modes[t]&&(this.currentMode=t,e._storage.getItem(o.storageKey,function(n){"optout"===t||"no-consent"===t||"no-storage"===t?e.setConfiguration("visitorId",this.modes[t].visitorId):"OPT-OUT"!==e.getConfiguration("visitorId")&&"no-consent"!==e.getConfiguration("visitorId")&&"no-storage"!==e.getConfiguration("visitorId")||e.cfg.deleteProperty("visitorId"),this.filterProps(e._properties),this.filterKeys(),n!==t&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimePrivacy")*60*60*1e3),this.setItem(o.storageKey,t,n))}.bind(this)))},this.createMode=function(e,t){var n;this.modes[e]||((n=i(this.modes.exempt)).name=e,n.properties.include.visitor_privacy_mode=e,n.properties.include.visitor_privacy_consent=t,this.modes[e]=n)},this.getMode=function(){return this.currentMode},function(e,t,n,a,o,r){var i=["*"],s=["*"],c="properties",l=a?"forbidden":"allowed";t&&(i="string"==typeof t?[t]:t),n&&(s="string"==typeof n?[n]:n),o&&(c="storage"),r&&(c="events");for(var d=0;d<i.length;d++)if(void 0!==this.modes[i[d]])for(var u=this.modes[i[d]],p=0;p<s.length;p++){var f=u[c][l];void 0!==f[s[p]]||o||r||(f[s[p]]={});for(var g=0;g<e.length;g++)o||r?f[e[g]]=!0:f[s[p]][e[g]]=!0}}.bind(this)),s=(this.include={properties:function(e,t,n){r(e,t,n)},property:function(e,t,n){r([e],t,n)},storageKeys:function(e,t){r(e,t,null,!1,!0)},storageKey:function(e,t){r([e],t,null,!1,!0)},events:function(e,t){r(e,t,null,!1,!1,!0)},event:function(e,t){r([e],t,null,!1,!1,!0)}},this.exclude={properties:function(e,t,n){r(e,t,n,!0)},property:function(e,t,n){r([e],t,n,!0)},storageKeys:function(e,t){r(e,t,null,!0,!0)},storageKey:function(e,t){r([e],t,null,!0,!0)},events:function(e,t){r(e,t,null,!0,!1,!0)},event:function(e,t){r([e],t,null,!0,!1,!0)}},function(e,t){if(e[t])return!0;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"*"===n.charAt(n.length-1)&&0===t.indexOf(n.substring(0,n.length-1)))return!0;return!1}),c=(this.isEventAllowed=function(e){var n=t("forbidden",this.modes,this.currentMode,e);return e=t("allowed",this.modes,this.currentMode,e),!n&&e},function(e,t,n,a){var o,r=e[t];if(r[a]&&r[a][n]||r["*"][n])return!0;for(o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&"*"===o.charAt(o.length-1)&&0===a.indexOf(o.substring(0,o.length-1))||o===a)for(var i in r[o])if(Object.prototype.hasOwnProperty.call(r[o],i)&&("*"===i.charAt(i.length-1)&&0===n.indexOf(i.substring(0,i.length-1))||n===i))return!0;return!1}),l=function(e,t,n){if("forbidden"===t&&e[t]["*"][n])return!0;for(var a in e[t])if(Object.prototype.hasOwnProperty.call(e[t],a)){if(e[t][a][n])return!0;for(var o in e[t][a])if("*"===o.charAt(o.length-1)&&0===n.indexOf(o.substring(0,o.length-1)))return!0}return!1},d=(this.isPropAllowed=function(e,t){var a=n("forbidden",this.modes,this.currentMode,e,t);return e=n("allowed",this.modes,this.currentMode,e,t),!a&&e},function(e,t,n){var a,o=e[t];if(o[n])return!0;for(a in o)if(Object.prototype.hasOwnProperty.call(o,a)&&"*"===a.charAt(a.length-1)&&0===n.indexOf(a.substring(0,a.length-1)))return!0;return!1});this.isKeyAllowed=function(e){var t=a("forbidden",this.modes,this.currentMode,e);return e=a("allowed",this.modes,this.currentMode,e),!t&&e},this.setItem=function(t,n,a,o){this.isKeyAllowed(t)?e._storage.setItem(t,n,a,o):o&&o()},this.filterProps=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!this.isPropAllowed(n,t||void 0)&&delete e[n]},this.filterKeys=function(){for(var t in this._storageKeys)Object.prototype.hasOwnProperty.call(this._storageKeys,t)&&!this.isKeyAllowed(t)&&e._storage.deleteItem(t)},this.filterEvents=function(e){for(var t=e.length-1;0<=t;t--)this.isEventAllowed(e[t].name)||e.splice(t,1)},this.getModeMetadata=function(){return this.modes[this.getMode()].properties.include},this.init()}function qa(e){this.modeEnum={OPTOUT:e.getConfiguration("isLegacyPrivacy")?"optout":"opt-out"},this.call=function(t){for(var n=e.getConfiguration("isLegacyPrivacy")?"privacy":"consent",a=arguments.length,o=new Array(1<a?a-1:0),r=1;r<a;r++)o[r-1]=arguments[r];return e[n][t].apply(e[n],o)}}function Fa(e){var t=e.getConfiguration("storageUser");this.setUser=function(n,a,o){var r={id:n,category:a};e.setProperties({user_id:n,user_category:a,user_recognition:!1},{persistent:!0}),!1!==o&&((n=new Date).setTime(n.getTime()+24*e.getConfiguration("storageLifetimeUser")*60*60*1e3),e._privacy.call("setItem",t,r,n))},this.getUser=function(n){e._storage.getItem(t,(function(t){var a=t;!t&&e._properties.user_id&&(a={id:e._properties.user_id.value,category:e._properties.user_category.value}),n&&n(a)}))},this.deleteUser=function(n){e.deleteProperty("user_id"),e.deleteProperty("user_category"),e.deleteProperty("user_recognition"),e._storage.deleteItem(t,(function(){n&&n()}))}}function Va(e){function t(){this.debugError={trigger:"AvInsights:Media:setContentValues:Error",level:"ERROR",messageObject:"Not an object"},this.processHeartbeatValue=function(e,t){return(e=parseInt(e,10))?Math.max(e,t):0},this.value2Number=function(e){var t=0;return isNaN(Number(e))||(t=Number(e)),Math.max(t,0)}}var a={minHeartbeat:e.getConfiguration("minHeartbeat"),minBufferingHeartbeat:e.getConfiguration("minBufferingHeartbeat")},o="_ATVALUE",r="_ATPREFIX";function s(e,t){var n;return e=e.length<2||":"!==e[1]?(n="",e):e.length<4||":"!==e[3]?(n=e.substring(0,1),e.substring(2,e.length)):(n=e.substring(0,3),e.substring(4,e.length)),t&&(n=n.toLowerCase(),e=e.toLowerCase()),{prefix:n,key:e}}function c(e){return null!==e&&"object"===n(e)&&!(e instanceof Array)}function l(e,t,n,a,i){var d,u,p,f="",g="",m="",v=0;for(p in e)if(Object.prototype.hasOwnProperty.call(e,p))if(f=(d=s(p,i)).prefix||a||"",g=(t?t+"_":"")+d.key,c(e[p]))l(e[p],g,n,f,i);else{for(u=g.split("_"),m="",v=0;v<u.length;v++)f=(d=s(u[v],i)).prefix||f,m+=d.key+(v<u.length-1?"_":"");n[g=m||g]=n[g]||{},n[g][o]=e[p],n[g][r]=f}}e.avInsights={},e.avInsights.Media=function(n,u,p){function f(e){e?k.delayBufferingConfiguration=i(k.delayBufferingConfigurationBackup):k.delayConfiguration=i(k.delayConfigurationBackup)}function g(e,t){if(t){x(e);var n,o={};for(n in c(t)?o=t:isNaN(t)?o=JSON.parse(t):o[0]=t,o)Object.prototype.hasOwnProperty.call(o,n)&&(e?k.delayBufferingConfiguration.push({delay:w.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:w.processHeartbeatValue(o[n],a.minBufferingHeartbeat)}):k.delayConfiguration.push({delay:w.processHeartbeatValue(n,0),number:0,timeout:-1,refresh:w.processHeartbeatValue(o[n],a.minHeartbeat)}));$(e),P(e)}}function m(t,n,a,s){var d=i(A);d.av_session_id={},d.av_session_id[o]=k.sessionId,d.av_session_id[r]="",n&&(E(d),k.previousEvent=t),c(s)&&l(s,null,d,null,!0),n=T(d),e.sendEvent(t,n,a)}function v(){var e=this,t=0,n=0;e.getEventDuration=function(){var e=(new Date).getTime()-t-n;return n+=e,e},e.initBaseTime=function(){0===t&&(t=(new Date).getTime())},e.resetProperties=function(){n=t=0},e.initHeartbeatTimer=function(e,t){var n=t?k.delayBufferingConfiguration:k.delayConfiguration;0<n.length&&(S(t),clearTimeout(n[0].timeout),n[0].timeout=setTimeout((function(){0===n[0].number&&n.splice(0,1),e&&e()}),1e3*n[0].refresh))},e.stopHeartbeatTimer=function(e){for(var t=e?k.delayBufferingConfiguration:k.delayConfiguration,n=0;n<t.length;n++)clearTimeout(t[n].timeout),t[n].timeout=-1}}function _(e,t,n,a,o){C.initBaseTime(),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e?k.previousCursorPosition+Math.floor(k.playbackSpeed*k.eventDuration):n,t&&C.initHeartbeatTimer((function(){_(!0,!0)}),!1),m("av.heartbeat",!0,a,o)}function h(e,t,n){C.initBaseTime(),k.eventDuration=C.getEventDuration(),e&&C.initHeartbeatTimer((function(){h(!0)}),!0),m("av.buffer.heartbeat",!0,t,n)}function b(e,t,n){C.initBaseTime(),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,e&&C.initHeartbeatTimer((function(){b(!0)}),!0),m("av.rebuffer.heartbeat",!0,t,n)}var y=this,w=new t,k=null,C=null,A=null,P=function(e){e?k.delayBufferingConfigurationBackup=i(k.delayBufferingConfiguration):k.delayConfigurationBackup=i(k.delayConfiguration)},x=function(e){e?(k.delayBufferingConfiguration=[],k.delayBufferingConfigurationBackup=[]):(k.delayConfiguration=[],k.delayConfigurationBackup=[])},$=function(e){(e?k.delayBufferingConfiguration:k.delayConfiguration).sort((function(e,t){return e.delay<t.delay?-1:e.delay>t.delay?1:0}))},S=function(e){var t;void 0===(t=void 0!==(e=e?k.delayBufferingConfiguration:k.delayConfiguration)[1]?e[1].delay:t)?e[0].number=1:0<e[0].number?e[0].number--:"number"==typeof t&&(e[0].number=Math.floor(60*(t-e[0].delay)/e[0].refresh)-1)},E=function(e){e.av_previous_position={},e.av_previous_position[o]=k.previousCursorPosition,e.av_previous_position[r]="",e.av_position={},e.av_position[o]=k.currentCursorPosition,e.av_position[r]="",e.av_duration={},e.av_duration[o]=k.eventDuration,e.av_duration[r]="",e.av_previous_event={},e.av_previous_event[o]=k.previousEvent,e.av_previous_event[r]=""},T=function(e){var t,n={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(Object.prototype.hasOwnProperty.call(e[t],o)?n[e[t][r]?"".concat(e[t][r],":").concat(t):t]=e[t][o]:n[t]=e[t]);return n};y.set=function(e,t){e=s(e,!0),A[e.key]=A[e.key]||{},A[e.key][o]=t,A[e.key][r]=e.prefix},y.get=function(e){var t=null;return e=s(e,!0),void 0!==A[e.key]?A[e.key][o]:t},y.del=function(e){e=s(e,!0),void 0!==A[e.key]&&delete A[e.key]},y.setProps=function(e){c(e)&&l(e,null,A,null,!0)},y.getProps=function(){var e,t=null;for(e in A)Object.prototype.hasOwnProperty.call(A,e)&&((t=t||{})[e]=A[e][o]);return t},y.delProps=function(){A={}},y.setPlaybackSpeed=function(e){(e=w.value2Number(e)||k.playbackSpeed)!==k.playbackSpeed&&(C.stopHeartbeatTimer(!1),k.isPlaying&&(_(!0,!1),C.initHeartbeatTimer((function(){_(!0,!0)}),!1)),k.playbackSpeed=e)},y.getSessionID=function(){return k.sessionId},y.track=function(e,t,n,a){var o=t||{};switch(e){case"av.heartbeat":y.heartbeat(o.av_position,n,a);break;case"av.buffer.heartbeat":y.bufferHeartbeat(n,a);break;case"av.rebuffer.heartbeat":y.rebufferHeartbeat(n,a);break;case"av.play":y.play(o.av_position,n,a);break;case"av.buffer.start":y.bufferStart(o.av_position,n,a);break;case"av.start":y.playbackStart(o.av_position,n,a);break;case"av.resume":y.playbackResumed(o.av_position,n,a);break;case"av.pause":y.playbackPaused(o.av_position,n,a);break;case"av.stop":y.playbackStopped(o.av_position,n,a);break;case"av.backward":y.seekBackward(o.av_previous_position,o.av_position,n,a);break;case"av.forward":y.seekForward(o.av_previous_position,o.av_position,n,a);break;case"av.seek.start":y.seekStart(o.av_previous_position,n,a);break;case"av.error":y.error(o.av_player_error,n,a);break;default:m(e,!1,n,a)}},y.heartbeat=function(e,t,n){var a,o=!0;null!=e&&0<=e&&(o=!1,a=w.value2Number(e)),_(o,!1,a,t,n)},y.bufferHeartbeat=function(e,t){h(!1,e,t)},y.rebufferHeartbeat=function(e,t){b(!1,e,t)},y.play=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=0,k.previousCursorPosition=e,k.currentCursorPosition=e,k.isPlaying=!1,k.isPlaybackActivated=!1,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),m("av.play",!0,t,n)},y.bufferStart=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),k.isPlaybackActivated?(C.initHeartbeatTimer((function(){b(!0)}),!0),m("av.rebuffer.start",!0,t,n)):(C.initHeartbeatTimer((function(){h(!0)}),!0),m("av.buffer.start",!0,t,n))},y.playbackStart=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=e,k.currentCursorPosition=e,k.isPlaying=!0,k.isPlaybackActivated=!0,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),C.initHeartbeatTimer((function(){_(!0,!0)}),!1),m("av.start",!0,t,n)},y.playbackResumed=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,k.isPlaying=!0,k.isPlaybackActivated=!0,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),C.initHeartbeatTimer((function(){_(!0,!0)}),!1),m("av.resume",!0,t,n)},y.playbackPaused=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,k.isPlaying=!1,k.isPlaybackActivated=!0,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),m("av.pause",!0,t,n)},y.playbackStopped=function(e,t,n){C.initBaseTime(),e=w.value2Number(e),k.eventDuration=C.getEventDuration(),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,k.isPlaying=!1,k.isPlaybackActivated=!1,C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0),C.resetProperties(),f(!1),f(!0),m("av.stop",!0,t,n),k.previousCursorPosition=0,k.currentCursorPosition=0,k.eventDuration=0,k.previousEvent="",k.sessionId=d.v4()},y.seek=function(e,t,n,a){e=w.value2Number(e),(t=w.value2Number(t))<e?y.seekBackward(e,t,n,a):y.seekForward(e,t,n,a)},y.seekBackward=function(e,t,n,a){y.seekStart(e,null,a),k.eventDuration=0,k.previousCursorPosition=w.value2Number(e),k.currentCursorPosition=w.value2Number(t),m("av.backward",!0,n,a)},y.seekForward=function(e,t,n,a){y.seekStart(e,null,a),k.eventDuration=0,k.previousCursorPosition=w.value2Number(e),k.currentCursorPosition=w.value2Number(t),m("av.forward",!0,n,a)},y.seekStart=function(e,t,n){e=w.value2Number(e),k.previousCursorPosition=k.currentCursorPosition,k.currentCursorPosition=e,k.isPlaying?k.eventDuration=C.getEventDuration():k.eventDuration=0,m("av.seek.start",!0,t,n)},y.adClick=function(e,t){m("av.ad.click",!1,e,t)},y.adSkip=function(e,t){m("av.ad.skip",!1,e,t)},y.error=function(e,t,n){var a={};(a=c(n)?n:a).av_player_error=String(e),m("av.error",!1,t,a)},y.display=function(e,t){m("av.display",!1,e,t)},y.close=function(e,t){m("av.close",!1,e,t)},y.volume=function(e,t){m("av.volume",!1,e,t)},y.subtitleOn=function(e,t){m("av.subtitle.on",!1,e,t)},y.subtitleOff=function(e,t){m("av.subtitle.off",!1,e,t)},y.fullscreenOn=function(e,t){m("av.fullscreen.on",!1,e,t)},y.fullscreenOff=function(e,t){m("av.fullscreen.off",!1,e,t)},y.quality=function(e,t){m("av.quality",!1,e,t)},y.speed=function(e,t){m("av.speed",!1,e,t)},y.share=function(e,t){m("av.share",!1,e,t)},g(!(k={previousCursorPosition:0,currentCursorPosition:0,eventDuration:0,playbackSpeed:1,previousEvent:"",isPlaybackActivated:!1,isPlaying:!1,sessionId:"",delayConfiguration:[],delayConfigurationBackup:[],delayBufferingConfiguration:[],delayBufferingConfigurationBackup:[]}),n),g(!0,u),k.sessionId=p||d.v4(),C=new v,u="pagehide",p=function(){C.stopHeartbeatTimer(!1),C.stopHeartbeatTimer(!0)},(n=window).addEventListener?n.addEventListener(u,p,!1):n.attachEvent&&n.attachEvent("on"+u,p),A={}}}function za(e){var n,a,o=this;for(n in o.cfg=new u(i(e)||t),o.setConfiguration=o.cfg.setConfiguration,o.setConfigurations=o.cfg.setConfigurations,o.getConfiguration=o.cfg.getConfiguration,window._pac=window._pac||{privacy:[]},window._pac)Object.prototype.hasOwnProperty.call(window._pac,n)&&"privacy"!==n&&o.setConfiguration(n,window._pac[n]);this._storage=new Ea(this),this._queue=new p(this),this._properties={},this._sendEvent=Ka,this._setProperty=Wa,this._deleteProperty=Ja,(e=this).setConfiguration("isLegacyPrivacy",!0),void 0===window.pdl?window.pdl={migration:{browserId:{source:"PA"}},cookies:{storageMode:"fixed"}}:(window.pdl.requireConsent&&e.setConfiguration("isLegacyPrivacy",!1),void 0===window.pdl.cookies?window.pdl.cookies={storageMode:"fixed"}:window.pdl.cookies&&void 0===window.pdl.cookies.storageMode&&(window.pdl.cookies.storageMode="fixed")),ca.init({cookieDefault:{domain:e.getConfiguration("cookieDomain"),secure:e.getConfiguration("cookieSecure"),path:e.getConfiguration("cookiePath"),samesite:e.getConfiguration("cookieSameSite")},cookies:{_pcid:{expires:e.getConfiguration("storageLifetimeVisitor")}}}),e.privacy=new Ha(e),e.consent=new Ua(e),e._privacy=new qa(e),this.user=new Fa(this),Va(this),a=(e=this).getConfiguration("queueVarName"),window[a]=window[a]||[],Ba(e,window[a],!0,a)}function Ka(e,t){for(var n=[ka,xa,Pa,_,_a,Ca,ya,m,wa,Aa],a=0;a<e.length;a++){var o={name:"",data:{}};if("string"==typeof e[a])o.name=e[a];else{if(void 0!==e[a].data)continue;o.name=e[a].name}e[a]=o}var r;t={events:i(e),options:i(t)},0<n.length&&"function"==typeof n[0]&&(r=new u(this.cfg.cloneData()),n[0](this,new f(this,t,r),n.slice(1)))}function Wa(e,t,n,a){e._privacy.call("isPropAllowed",t)&&(e._properties[t]={value:n,options:a||{}}),e._queue.next()}function Ja(e,t){delete e._properties[t],e._queue.next()}za.prototype.setProperty=function(e,t,n){this._queue.push(["_setProperty",this,e,t,n])},za.prototype.setProperties=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.setProperty(n,e[n],t)},za.prototype.deleteProperty=function(e){this._queue.push(["_deleteProperty",this,e])},za.prototype.sendEvent=function(e,t,n){this._queue.push(["_sendEvent",[{name:e,data:t}],n])},za.prototype.sendEvents=function(e,t){this._queue.push(["_sendEvent",e,t])},za.prototype.getVisitorId=function(e){var t,n=this.getConfiguration("visitorId")||null;if(n=n||ca.get("browserId"),(t=e)&&t(n),void 0===e)return n},za.prototype.setVisitorId=function(e){this.setConfiguration("visitorId",e);var t=new Date;t.setTime(t.getTime()+24*this.getConfiguration("storageLifetimeVisitor")*60*60*1e3),this._privacy.call("setItem",this.getConfiguration("storageVisitor"),e,t,(function(){ca.updateMigration()}))},za.prototype.setUser=function(e,t,n){this.user.setUser(e,t,n)},za.prototype.getUser=function(e){this.user.getUser(e)},za.prototype.deleteUser=function(){this.user.deleteUser()},(za.prototype.PA=za).prototype.refresh=function(){null===this.getConfiguration("isManualPageRefresh")&&this.setConfiguration("isManualPageRefresh",!0),this.getConfiguration("isManualPageRefresh")&&ca.refresh()},za.prototype.setContentProperty=function(e,t){var n={};"content_publication_date"===e||"tags_array"===e?n[{content_publication_date:"createdAt",tags_array:"tags"}[e]]=t:n[e]=t,ca.set("content",n)},za.prototype.setContentProperties=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.setContentProperty(t,e[t])},Ne=new za(t),window&&!window[Ne.getConfiguration("globalVarName")]&&(window[Ne.getConfiguration("globalVarName")]=Ne),on=Ne,e.pianoAnalytics=on,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,ht.exports);var bt=ht.exports;const yt=(e,t,n,a,o,r,i)=>{let s="";if(n)switch(n.constructor){case Number:s=n===Number.POSITIVE_INFINITY?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":`; max-age=${n}`;break;case Date:s=`; expires=${n.toUTCString()}`;break;default:s=`; expires=${n}`}let c="; samesite=strict";return i&&"no_restriction"!==i.toString().toLowerCase()?"lax"===i.toString().toLowerCase()||1===Math.ceil(i)||!0===i?c="; samesite=lax":("none"===i.toString().toLowerCase()||i<0)&&(c="; samesite=none"):c="",`${encodeURIComponent(e)}=${encodeURIComponent(t)}${s}${o?`; domain=${o}`:""}${a?`; path=${a}`:""}${r?"; secure":""}${c}`},wt=/[*+.-]/g,kt=/^(?:expires|max-age|path|domain|secure|samesite|httponly)$/i,Ct={getItem:e=>e&&decodeURIComponent(document.cookie.replace(new RegExp(`(?:(?:^|.*;)\\s*${encodeURIComponent(e).replaceAll(wt,"\\$&")}\\s*=\\s*([^;]*).*$)|^.*$`),"$1"))||void 0,setItem:(e,t,n,a,o,r,i)=>!(!e||kt.test(e))&&(document.cookie=yt(e,t,n,a,o,r,i),!0),removeItem(e,t,n,a,o){return!!this.hasItem(e)&&(document.cookie=yt(e,"","Thu, 01 Jan 1970 00:00:00 GMT",t,n,a,o),!0)},hasItem:e=>!(!e||kt.test(e))&&new RegExp(`(?:^|;\\s*)${encodeURIComponent(e).replaceAll(wt,"\\$&")}\\s*\\=`).test(document.cookie),keys(){const e=document.cookie.replaceAll(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/);for(let t=e.length,n=0;n<t;n+=1)e[n]=decodeURIComponent(e[n]);return e},clear(e,t,n,a){for(let o=this.keys(),r=o.length,i=0;i<r;i+=1)this.removeItem(o[i],e,t,n,a)}};let At={},Pt=!1;window.didomiEventListeners=window.didomiEventListeners||[],window.didomiOnReady=window.didomiOnReady||[];const xt=(e,t,n,a="consent")=>J("gdpr","GDPR",e,t,n,a),$t=(e,t)=>{const n=window.Didomi;let a=!0;if(n&&"getUserStatus"in n){const o=n.getUserStatus();a=Boolean(o.purposes.global.enabled.includes(e)&&o.vendors.global.enabled.includes(t))}return a},St=()=>{const e=window.Didomi;return e&&"shouldConsentBeCollected"in e?!e.shouldConsentBeCollected():"ro"===j("site_locale")||N("error")||N("ia")||Ct.hasItem("cookies_consent")},Et=()=>At,Tt=(e,t)=>{!t||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus?xt("updateTcfData","Unable to update TCF Data",{tcData:e,success:t},"error"):(At=e,xt("updateTcfData","Updated consent copy",{consent:At}))},It=()=>{Ae((()=>{const e=window.Didomi;document.addEventListener("click",(t=>{t.target.matches('script[type="didomi/html"]')&&e?.notice.show()})),ee("a.manage-consent").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),e?.preferences.show()}))}))})),didomiEventListeners.push({event:"consent.changed",listener(){Se("gdpr.onConsentChanged"),xt("onConsentChanged","Consent change detected"),!Pt&&St()&&(Se("gdpr.onConsentAvailable"),Pt=!0)}}),didomiOnReady.push((()=>{Se("gdpr.onCmpReady"),xt("onCmpReady","CMP successfully loaded"),St()&&(Se("gdpr.onConsentAvailable"),Pt=!0,xt("onConsentAvailable","Consent already available for tags at CMP load"))})),"__tcfapi"in window?__tcfapi("addEventListener",2,Tt):xt("init","TCF API not detected","","error")};It();var Ot={init:It,localLog:xt,canUse:$t,consentAvailable:St,getConsent:Et,updateTcfData:Tt};let Dt=0;const Lt=[];let Rt=!1,Mt={},jt={};const Nt=()=>Dt>0,Ut=(e,t,n,a="")=>J("stats.piano","Analytics - Piano",e,t,n,a);let Bt=(()=>{let e=[];if("localStorage"in window)try{e=JSON.parse(window.localStorage.getItem("_tms_offlineQueue")||"[]")}catch{}return e})();const Ht=(e=[])=>("localStorage"in window&&window.localStorage.setItem("_tms_offlineQueue",JSON.stringify(e)),Bt=e,Bt),qt=()=>{let e="francemediasmonde.com";const t=j("site_brand"),n=N("mirror");return"f24"===t||"obs"===t?e=n?"f24":"france24.com":t.includes("rfi")||"fle"===t?e=n?"rfi":"rfi.fr":"mcd"===t?e="mc-doualiya.com":"infomigrants"===t&&(e="infomigrants.net"),n?`${e}.global.ssl.fastly.net`:`wvvw.${e}`},Ft=e=>{let t=e;return"function"==typeof e?(t=e(),Lt.push(((t,n)=>{const a=e();n.setConfiguration("site",a)}))):Array.isArray(e)&&(t=N("ppr")?e[0]:e[1]),t.toString()},Vt=()=>{let e="Desktop",t=1;return N("mobile")&&A(j("site_brand"),["f24","rfi","mcd","obs","fle"])&&(e="Site Mobile",t=2),{site_level2:e,site_level2_id:t}},zt=e=>""===e||void 0===e||"object"==typeof e&&0===e.length,Kt=()=>(Mt={marque:j("site_brand").replace("f24","france24"),perimetre_de_diffusion:j("site_context"),site_version:j("site_version"),tms_version:j("tms_version")},bt.pianoAnalytics.setProperties(Mt,{persistent:!0}),Ut("setSiteProperties","Updated site properties",{siteProperties:Mt,pianoAnalytics:bt.pianoAnalytics,pageHitCount:Dt}),Mt),Wt=()=>{const e={...Vt(),langue:j("site_locale").toUpperCase(),code_http_erreur:j("http_code")||200,adblock_actif:Rt?1:0},t=(()=>{let e=!1;return N("embed")?e="embed":N("ia")?e="instant-articles":N("pwa")?e="pwa-"+(N("offline")?"offline":"online"):N("mirror")&&(e="mirror"),e})();return t&&(e.type_representation=t),e.save_data=N("save_data"),e},Jt=()=>{jt=Wt(),jt.tags_array=[];const e=new Set(["supertag","tags_thema","tags_auteurs","niveau_langue"]),t={page:"page_name",page_chapter1:"cat1",page_chapter2:"cat2",page_chapter3:"cat3",url:"canonical",type_article:"main_media_type",titre_du_contenu:"content_title",type_de_contenu:"content_type",id_contenu:"content_id",supertag:["supertag","name",!0],id_supertag:["supertag","id",!0],emission:["show","name",!0],id_emission:["show","id",!0],emission_type:["show","genre",!1],tags_thema:["tags","name",!1],ids_tags_thema:["tags","id",!1],tags_auteurs:["authors","name",!1],ids_tags_auteurs:["authors","id",!1],niveau_langue:["language_level","name",!0],device_screen_orientation:"device_orientation"};Object.keys(t).forEach((n=>{const a=Array.isArray(t[n])?t[n][0]:t[n];let o=j(a);(n.startsWith("page")||"url"===n)&&(o=decodeURIComponent(o));const r=e.has(n);try{zt(o)||(Array.isArray(t[n])?("name"===t[n][1]&&"string"==typeof o?jt[n]=o.trim().split(/\s*,\s*/):t[n][2]?jt[n]=o[t[n][1]][0]:jt[n]=o[t[n][1]],r&&(Array.isArray(jt[n])?jt.tags_array.push(...jt[n]):jt.tags_array.push(jt[n]))):(jt[n]=o,r&&jt.tags_array.push(jt[n])))}catch(e){Ut("setPageProperties",`${n} failed`,{e:e},"error")}}));let n=j("publication_date");if(!zt(n)){n=n.replaceAll(/[_-]*/gi,"");const e=j("publication_time");jt["d:date_de_publication"]=`${n.slice(0,4)}-${n.slice(4,6)}-${n.slice(6,8)}T${""===e?"00:00":e}${8===e.length?"":":00"}Z`}if(N("brand_content")){const e=j("brand_content");jt.bc_advertiser=e.name,jt.bc_advertiser_id=e.id}bt.pianoAnalytics.setProperties(jt,{persistent:!1});const a={title:jt.titre_du_contenu,description:ge("name","description")||"",keywords:jt.tags_thema,authors:jt.tags_auteurs,type:jt.type_de_contenu};return bt.pianoAnalytics.setContentProperties(a),Object.keys(a).forEach((e=>{jt[`content_${e}`]=a[e]})),Ut("setPageProperties","Updated page properties",{pageProperties:jt,contentProperties:a,siteProperties:Mt,pianoAnalytics:bt.pianoAnalytics,pageHitCount:Dt}),jt},Yt=e=>{const t=e?.httpCode||404,n=new URL(e?.url||document.location.href),a="erreur",o={page:decodeURIComponent(n.pathname.replaceAll(/[./_-]+/g,"-").slice(1)),page_chapter1:a,page_chapter2:`erreur.${t}`,titre_du_contenu:e?.httpError||"Not Found",page_title_html:e?.httpError||"Not Found",type_article:a,type_de_contenu:a,id_contenu:`erreur.${t}`,http_code:t,url:decodeURIComponent(n.href.replace(/(\?.*)?(#.*)?$/,"")),event_url_full:n.href,previous_url:e?.referrer||j("canonical"),supertag:a,tags_array:[],tags_auteurs:[],tags_thema:[],ajax:!0},r={title:o.titre_du_contenu,description:"",keywords:[],authors:[],type:o.type_de_contenu};return bt.pianoAnalytics.setContentProperties(r),o},Gt=(e,t={})=>({onBeforeBuild:(e,t,n)=>{Lt.forEach((n=>n(e,t))),n()},onBeforeSend:(n,a,o)=>{const r={},i=a.properties;Object.keys(i).forEach((e=>{r[e]=i[e].value}));const s={name:e,data:{...t,...r}};if(N("offline")&&"online"!==e){const e=[...Bt,{...s}];Ht(e),Ut("genericHit","Added 1 event to offline queue as browser is offline",{eventToSend:s,offlineQueue:Bt,model:a,PianoAnalytics:n,pageHitCount:Dt})}else"online"===e||Ut("genericHit",`Sent 1 ${e} event to Piano`,{eventToSend:s,model:a,PianoAnalytics:n,pageHitCount:Dt}),o()}}),Qt=(e="",t={},n=!1)=>{zt(Mt)&&(Mt=Kt()),n||(jt=Jt()),bt.pianoAnalytics.sendEvent(e,t,Gt(e,t))},Zt=e=>{N("offline")||(bt.pianoAnalytics.sendEvents(Bt,Gt("online")),Ut("backOnlineHit",e?"No offline event found in storage":`Sent ${Bt.length} event${Bt.length>1?"s":""} to Piano as ${e?"page loaded":"browser went back online"}`,{offlineQueue:Bt,pianoAnalytics:bt.pianoAnalytics,pageHitCount:Dt}),Ht([]))},Xt=()=>{Qt("page.display",{...Mt,...jt,ajax:Nt()}),Dt+=1,1===Dt&&Se("piano.firstPageHit")},en=e=>{Qt("page.display",{...Mt,...Wt(),...Yt(e)},!0)},tn=(e=!1)=>{const t=St()||e;let n=mt;t&&$t("measure_content_performance","c:at-internet")&&$t("cookies","c:at-internet")&&(n="opt-in"),bt.pianoAnalytics.consent.setMode(n),Ut("setConsent","Updated tracker privacy settings",{pianoMode:n,pdl:window.pdl,pianoAnalytics:bt.pianoAnalytics,pageHitCount:Dt},"consent"),Dt>0&&Xt()},nn=e=>{const t=ce("div","&nbsp;",{class:"adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"});ae(t,document.body),t?window.setTimeout((()=>{try{Rt=0===t.offsetHeight,document.body.dataset.adblockActive=Rt,se(t),Ut("runAdblockerTest","Ad Blocker test",{result:Rt,callback:e}),e()}catch(t){Ut("runAdblockerTest","Failed Ad Blocker detection",{error:t,callback:e},"error"),e()}}),100):(Ut("runAdblockerTest","Failed creation of Ad Blocker detector",{callback:e},"error"),e())},an=()=>{tn(),Kt(),Zt(!0),Xt(),nt((()=>Zt(!1))),je((()=>Xt())),Re(((...e)=>en(e[1])))},on=(e,t)=>{const n={site:Ft(e),collectDomain:`https://${qt()}`,path:(N("mirror")?"wvvw_/":"")+"bon.jour",addEventURL:"true",campaignPrefix:["utm_","at_"],cookieDomain:((e,t)=>{const n=window.location.host.split(".").reverse();return"."+n[1]+"."+n[0]})(),cookieSecure:document.location.protocol.includes("s")};bt.pianoAnalytics.setConfigurations(n),Ut("init","Init - SDK loaded and configuration set",{pianoConfig:n,pianoAnalytics:bt.pianoAnalytics}),Object.keys(t).forEach((e=>t[e].load({setConsent:tn,genericHit:Qt,hitPage:Xt,setPageProperties:Jt,beforeBuildCallback:Gt,hasFirstPageHitRun:Nt}))),nn((()=>{St()?an():Ge((()=>{an()}),"piano")}))},rn=(e,t)=>{Ae((()=>on(e,t))),Qe((()=>tn()))};var sn={load:rn,localLog:Ut,hasFirstPageHitRun:Nt,updateOfflineQueue:Ht,setSiteProperties:Kt,setPageProperties:Jt,genericHit:Qt,backOnlineHit:Zt,hitPage:Xt,runAdblockerTest:nn,init:on};let cn,ln,dn,un;window.didomiEventListeners=window.didomiEventListeners||[];const pn=()=>t().hct||"0",fn=(e,t,n,a="")=>J("stats.piano.clicks","Analytics - Piano - Clicks",e,t,n,a),gn=(e,...t)=>{const n=e,a={click:n};t.forEach(((e,t)=>{a[`click_chapter${t+1}`]=e.replace("%ctype%",j("content_type"))})),ln("click."+(n.includes("exit")?"exit":"action"),a)},mn=e=>{const t=e,n=t.split("."),a=()=>gn(n[1],"cmp",n[0]);window.didomiEventListeners.push({event:t,listener(){un()?a():$e("piano.firstPageHit",(()=>a()),"tms.event",!0)}}),fn("setupCmpEvent","CMP Event setup",{cmpEventName:e})},vn=(e,t,n,a,o,r,...i)=>{e(n,a,o,r,...i),t>0&&(je((()=>{e(n,a,o,r,...i)})),t>1&&Ne((()=>{e(n,a,o,r,...i)})))},_n=(e,t,n)=>{cn=e.setConsent,ln=e.genericHit,dn=e.hitPage,un=e.hasFirstPageHitRun,Ae((()=>{"1"===pn()&&pe("[data-tms-tr],[data-tms-tr]>div:first-child{border:3px solid #adff2f !important;}"),["notice.clickagree","notice.clickclose","notice.clickdisagree","notice.clickmoreinfo","notice.clickviewvendors","preferences.clickagreetoall","preferences.clickcategoryagree","preferences.clickcategorydisagree","preferences.clickclose","preferences.clickdisagreetoall","preferences.clickpurposeagree","preferences.clickpurposedisagree","preferences.clicksavechoices","preferences.clickvendoragree","preferences.clickvendordisagree","preferences.clickvendorsavechoices","preferences.clickviewvendors"].forEach((e=>mn(e))),Ie((()=>{St()||(un()||(cn(!0),dn()),gn("exitwithoutanswering","cmp","notice"))})),window.didomiEventListeners.push({event:"notice.shown",listener(){t(!0,["all"],".didomi-notice-popup .didomi-notice-view-partners-link","action","clickviewvendors","cmp","notice")}}),n()}))},hn="FovClicks";let bn;const yn="1"===pn();window.didomiEventListeners=window.didomiEventListeners||[];const wn="all",kn="homepage",Cn="section",An="article",Pn="edition",xn="emission",$n="service",Sn="tag",En="action",Tn="navigation",In="exit",On="download",Dn=(e,t,n,a="")=>J("stats.piano.fov.clicks","Analytics - Piano - FOV Clicks",e,t,n,a),Ln=(e,t,n,a,...o)=>{if(e[0]===wn||A(j("content_type"),e)){let e="body",r=t;const i=n;Array.isArray(t)&&([e,r]=t);ee(e).forEach(((e,t)=>{const n=ee(`${r}:not([data-tms-tr])`,e);if(n.length>0){const r=a,s=o,c={click:r};s.forEach(((n,a)=>{if(c[`click_chapter${a+1}`]=n.replace("%wrapper%",t+1).replace("%rep1%",j("content_type")===kn?kn:w(j("cat1"))).replace("%org-type%",w(e.dataset.orgType||"")).replace("%org-name%",w(e.dataset.orgName||"")),"%nav-id%"===c[`click_chapter${a+1}`]){const t=e.closest("[data-nav-id]").dataset.navId||"";c[`click_chapter${a+1}`]=c[`click_chapter${a+1}`].replace("%nav-id%",w(t)),"menu"!==t&&s.pop()}})),n.forEach(((e,t)=>{const n=e;let a=i;const o={...c};o.click=r.replace("%nb%",t+1).replace("%liveType%",N("rfi")&&"fr"===j("site_locale")&&1===t?"-afrique":"").replace("%title%",w(n.getAttribute("title")||"")).replace("%label%",w(n.getAttribute("aria-label")||"")).replace("%action%",w(n.dataset.action||"")).replace("%appos%",w(n.dataset.selfpromoAppLink||"")).replace("%text%",w(n.textContent||"")).replace("%page%",n.classList.contains("m-pagination__item__link--svg")?""+(0===t?"previous":"next"):`page-${n.textContent}`),"click_chapter2"in o&&"%aria-controls%"===o.click_chapter2&&(o.click_chapter2=w(n.getAttribute("aria-controls")||"").replace("site-nav-","")),n.hasAttribute(On)||o.click===On?a=On:"%target%"===a&&(a=n.hasAttribute("target")?In:Tn);const s=`click.${a}`,l=()=>{const t={...o};if(Object.keys(t).filter((e=>e.includes("click_chapter"))).forEach((e=>{t[e]=t[e].replace("%ctype%",j("content_type"))})),t.click=o.click.replace("%expanded%","true"===n.getAttribute("aria-expanded")?"open":"close").replace("%opened%",n?.previousSibling?.classList?.contains("m-context-menu--opened")?"open":"close").replace("%playpause%",n.classList.contains("a-picto-play-pause--pause")?"pause":"play"),"%plExpanded%"===t.click){let e=ee(".o-playlist")[0].classList.contains("o-playlist--show")||!1;"audio-player"===t.click_chapter1&&(e=!e),t.click=t.click.replace("%plExpanded%",e?"open":"close")}if("%addRemove%"===t.click){const n=ee("button",e);t.click=t.click.replace("%addRemove%",n[0].classList.contains("m-cta--playlist-remove")?"add":"remove")}return bn(s,t),"true"===n.getAttribute("aria-haspopup")&&Mn(e),!0};"reorder"===o.click?["mousedown","touchstart"].forEach((e=>n.addEventListener(e,(()=>l())))):n.addEventListener("click",(()=>l())),n.dataset.tmsTr="",yn&&n.setAttribute("title",JSON.stringify({pianoEvent:s,...o})),Dn("setup","Click setup",{pianoEvent:s,...o})}))}}))}},Rn=(e,t,n,a,o,...r)=>vn(Ln,e,t,n,a,o,...r),Mn=e=>{const t=e.parentElement;let n;"rootShare"in t.dataset&&!N("mobile")?(n="share",Rn(0,[wn],".o-popin__content__buttons button",En,"shorty","%ctype%","share","modal")):"rootPodcast"in t.dataset&&(n="podcast"),void 0!==n&&(Rn(0,[wn],".o-popin__content__buttons a",En,"podcast"===n?"%text%":"%label%","%ctype%",n,"modal"),Rn(0,[wn],"button[data-modal-close]",En,"close","%ctype%",n,"modal"))},jn=()=>{Rn(0,[wn],".o-playlist__btn-toggle",En,"%plExpanded%","audio-player","playlist"),Rn(0,[wn],".m-playlist-item__drag-btn",En,"reorder","audio-player","playlist","item"),Rn(0,[wn],".m-playlist-item__play-btn",En,"%playpause%","audio-player","playlist","item"),Rn(0,[wn],".m-playlist-item__remove-btn",En,"remove","audio-player","playlist","item")},Nn=e=>{bn=e.genericHit;const t=[An,"depeche",Pn,"video","urgent"];_n(e,Rn,(()=>{window.didomiEventListeners.push({event:"notice.clickdisagree",listener(){setTimeout((()=>{Rn(0,[wn],".refusal-bar_hide",En,"close","refusal-bar"),Rn(0,[wn],".refusal-bar_change",En,"change-answer","refusal-bar"),Rn(0,[wn],".refusal-bar_play-video",En,"play-video","refusal-bar"),Rn(0,[wn],".refusal-bar_hide-video",En,"close-video","refusal-bar")}),150)}}),Rn(0,[wn],".o-header__home-link-wrapper a",Tn,"logo","header"),Rn(0,[wn],".o-bottom-bar__item--live a, .o-bottom-bar__item--live button:not([data-site-nav-button])",N("f24")?Tn:En,"direct%liveType%","header"),N("rfi")&&"fr"===j("site_locale")&&Rn(0,[wn],"#site-nav-directs .a-player-links button",En,"direct%liveType%","header"),Rn(0,[wn],".o-header__site-nav-link > a, .o-bottom-bar__item__link > a",Tn,"%action%","header"),Rn(0,[wn],".o-header__site-nav-link > button, .o-bottom-bar__item__link > button",En,"%expanded%","header","%aria-controls%"),Rn(1,[wn],".o-hot-tags a, .t-content--page-builder .o-tag-list a",Tn,"link-%nb%","subnavigation","hottags"),Rn(0,[wn],".o-tag-list-wrapper a",Tn,"link-%nb%","subnavigation","regions"),Rn(0,[wn],[".o-site-nav__wrapper--openable","a.a-nav-link"],Tn,"link-%nb%","header","%nav-id%","grey-section-%wrapper%"),Rn(0,[wn],["*:not(.m-nav-list--tags) > .o-site-nav__wrapper:not(.o-site-nav__wrapper--openable) .m-nav-list","a.a-nav-link"],Tn,"link-%nb%","header","%nav-id%","white-section-%wrapper%"),Rn(0,[wn],".o-special-bar a",In,"link-%nb%","special-bar"),Rn(0,[wn],"div.o-footer a.a-hot-tag",Tn,"link-%nb%","footer","hot-tags"),Rn(0,[wn],[".o-footer__block",".m-nav-list__list__item a"],"%target%","link-%nb%","footer","section-%wrapper%"),Rn(0,[wn],[".o-footer__block",".m-box-expand__button"],En,"%expanded%","footer","section-%wrapper%","%aria-controls%"),Rn(0,[wn],".m-footer-logos a",In,"logo-fmm","footer"),Rn(0,[wn],".a-foote-credits a.a-svg--logo-acpm",In,"logo-acpm","footer"),Rn(0,[wn],".m-back-to-top",En,"back-to-top","%ctype%"),Be((()=>{Rn(0,[wn],".a-audio-player-btn--options",En,"%opened%","audio-player","menu"),Rn(0,[wn],".m-player-volume__btn",En,"%opened%","audio-player","volume"),Rn(0,[wn],".o-audio-player__actions .m-context-menu--options > li",En,"%action%","audio-player","menu"),Rn(0,[wn],".o-audio-player__actions .a-playlist-btn",En,"%plExpanded%","audio-player","playlist"),jn()})),Fe((()=>jn())),Rn(1,[kn,Cn,$n],["aside[data-org-name]","a:not(.o-aside-content__see-more)"],Tn,"link-%nb%","%ctype%","%rep1%","%org-type%_%org-name%"),Rn(1,[kn,Cn,$n],["aside[data-org-name]","a.o-aside-content__see-more"],Tn,"seemore","%ctype%","%rep1%","%org-type%_%org-name%"),(N("rfi")||N("mcd"))&&(Rn(1,[$n],".o-live__cta [data-root-audio-player-button] > button",En,"%playpause%","direct"),Rn(1,[$n],".o-live__cta .o-live__cta__podcast-link",Tn,"podcasts-link","direct"),Rn(1,[$n],".m-podcast-item__cta [data-root-audio-player-button] > button",En,"%playpause%","direct","related"),Rn(1,[$n],"a.m-podcast-item__infos__program",Tn,(N("f24")?"logo":"text")+"-link","direct","related","parent-show"),Rn(1,[$n],"a.m-podcast-item__image",Tn,"picture-link","direct","related","parent-show"),Rn(1,[$n],"a.m-podcast-item__infos__edition, a.m-podcast-item__infos__edition",Tn,"edition-link","direct","related"),Rn(1,[$n],".o-podcast-list__cta .o-live__cta__podcast-link",Tn,"podcasts-link","direct","related"),Rn(1,[$n],".o-podcast-list__list span[data-playlist-add]",En,"%addRemove%","direct","related","playlist")),Rn(1,[wn],".o-ad-container__content__report-link",In,"report-ad","%ctype%","ad"),Rn(1,[wn],".m-breadcrumb__list__item > a",Tn,"link-%nb%","%ctype%","breadcrumb"),Rn(1,[...t,xn],"a.m-from-author__name, a.m-program-author",Tn,"authorlink-%nb%","%ctype%","author"),Rn(1,[...t,Sn],"a.a-twitter-follow-button",In,"twitterlink-%nb%","%ctype%","author"),Rn(1,[...t,xn],"a.m-share-bar__link",En,"%label%","%ctype%","share"),Rn(2,[...t,xn],"span[data-root-share] > button",En,"share"in navigator&&N("mobile")?"web_share_api":"modal","%ctype%","share"),Rn(2,[...t],"span[data-root-embed] > button",En,"embed","%ctype%","share"),Rn(2,[Pn],".m-feed-sub__audio [data-root-audio-player-button] > button, .o-podcast-header__infos__cta [data-root-audio-player-button] > button",En,"%playpause%","%ctype%"),Rn(2,[xn],".o-podcast-header__infos__cta [data-root-audio-player-button] > button",En,"%playpause%","%ctype%","last-edition"),Rn(1,[xn,Pn],".t-content__edition-emission .a-program-link, .o-podcast-header__infos .a-program-link",Tn,(N("f24")?"logo":"text")+"-link","%ctype%","parent-show"),Rn(1,[xn,Pn],".o-podcast-header__image a",Tn,"picture-link","%ctype%","parent-show"),Rn(2,[xn,Pn],"[data-root-podcast] > button",En,"podcast","%ctype%"),Rn(2,[xn,Pn],"[data-menu-options] > button",En,"%opened%","%ctype%","more-menu"),Rn(2,[xn,Pn],"[data-menu-options] > ul > li",En,"%action%","%ctype%","more-menu"),Rn(1,[Cn],"a.m-item-timeline__infos__dl-link",On,"downloadlink-%nb%","journal"),Rn(1,[...t],".m-tags-list__tag a",Tn,"%title%","%ctype%","tags"),Rn(1,[...t],"button[data-readmore-unlocker]",En,"readmore","%ctype%"),Rn(1,[...t],"a.a-read-more__link",Tn,"link-%nb%","%ctype%","related","manual-in-content"),Rn(1,[...t],".t-content__related a",Tn,"link-%nb%","%ctype%","related","manual"),Rn(1,[...t],".t-content__list-content .o-aside-content--related a",Tn,"link-%nb%","%ctype%","related","auto"),Rn(1,[...t],".o-aside-content--top-articles a",Tn,"link-%nb%","%ctype%","most-read"),Rn(1,[...t],"[data-selfpromo-newsletter] a",In,"subscribe","%ctype%","selfpromo","newsletter"),Rn(1,[...t],"[data-selfpromo-app] a",On,"download-%appos%","%ctype%","selfpromo","app"),Rn(1,[Cn,xn,Sn],"#pager a.m-pagination__item__link",Tn,"%page%","%ctype%","paging","top"),Rn(1,[Cn,xn,Sn],".m-pagination-wrapper:not(#pager) a.m-pagination__item__link",Tn,"%page%","%ctype%","paging","bottom"),Rn(2,[Cn,xn,Pn],".o-podcast-list__list [data-root-audio-player-button] > button",En,"%playpause%","%ctype%","all-editions"),Rn(2,[Cn,xn,Pn],".o-podcast-list__list [data-playlist-add]",En,"%addRemove%","%ctype%","all-editions","playlist"),Rn(1,[Cn,xn,Pn],".o-podcast-list__list a.m-podcast-item__image",Tn,"picture-link","%ctype%","all-editions","parent-show"),Rn(1,[Cn,xn,Pn],".o-podcast-list__list a.m-podcast-item__infos__program",Tn,"text-link","%ctype%","all-editions","parent-show"),Rn(2,[Cn,xn,Pn],"[data-load-more], .o-live__cta__podcast-link",En,"load-more","%ctype%"),N("fle")&&(Rn(1,[Pn],"a.m-transcription__load-pdf",En,"open-pdf","%ctype%","transcription"),Rn(1,[Pn],".m-transcription__content button.m-box-expand__button",En,"%expanded%","%ctype%","transcription"),Rn(1,[Pn],".m-chapters__content button",En,"jump-to-chapter","%ctype%","chapters"))}))};var Un={name:hn,load:Nn,detectLinks:Ln,localSetup:Rn,setupModal:Mn,setupPlaylistItems:jn};const Bn="FovAv";let Hn,qn;const Fn={},Vn={ready:["play",!1],playing:["playbackStart",!1,"start"],buffering:["bufferStart",!1,"buffer"],paused:["playbackPaused",!1,"pause"],before_seeking:["seekStart",!1],seeking:["seek",!1],seek_forward:["jump.forward",!0],seek_backward:["jump.backward",!0],stopped:["playbackStopped",!1,"stop"],ad_playing:["ad.start",!0],ad_ending:["ad.end",!0],ads_start:["ad.start",!0],ads_end:["ad.end",!0],engagement_15s:["engagement.15s",!0],error:["error",!1],close:["close",!1],destroyed:["close",!1],volume:["volume",!1],panel_show:["panel.show",!0],panel_hide:["panel.hide",!0],subtitles_on:["subtitleOn",!1,"subtitle.on"],subtitles_off:["subtitleOff",!1,"subtitle.off"],fullscreen_on:["fullscreenOn",!1,"fullscreen.on"],fullscreen_off:["fullscreenOff",!1,"fullscreen.off"],quality:["quality",!1],speed:["speed",!1]},zn=(e,t,n,a="")=>J("stats.piano.fov.av","Analytics - Piano - FOV AV",e,t,n,a),Kn=(e,t)=>{const n=t.split(".");let a=e;for(let e=0,t=n.length;e<t;e+=1){const t=n[e];if(null==a||"object"!=typeof a||!(t in a))return!1;a=a[t]}return a},Wn=(e,t=[],n="")=>Kn(e,t)||n,Jn=e=>{if("videoType"in e&&void 0!==e.player){if(/youtube/i.test(e.videoType))return e.player.getIframe().id;if("videojs"===e.videoType)return e.player.id_}return e?.options?.selector||e?.playerId},Yn=e=>{let t=0;return"videoType"in e?/youtube/i.test(e.videoType)?t=e?.player?.getCurrentTime()||0:"videojs"===e.videoType&&(t=Wn(e,"player.tech_.el_.currentTime",0)):"time"in e?t=e.time:"_currentAdapter"in e.player&&(t=Wn(e,"player._currentAdapter._mediaElement.currentTime",0)),Number.parseInt(1e3*t,10)},Gn=e=>{let t=0;return"videoType"in e?/youtube/i.test(e.videoType)?t=e?.player?.getDuration()||0:"videojs"===e.videoType&&(t=Wn(e,"player.tech_.el_.duration",0)):"duration"in e?t=e.duration:"_currentAdapter"in e.player&&(t=Wn(e,"player._currentAdapter._mediaElement.duration",0)),Number.parseInt(-1===t?t:1e3*t,10)},Qn=e=>{const t=Number.parseInt(e/6e4,10);let n="60+";return t<5?n="0-5":t<10?n="5-10":t<15?n="10-15":t<30?n="15-30":t<45?n="30-45":t<60&&(n="45-60"),n},Zn=(e,t)=>{if("main-audio-player"===e)return"main_audio";if("videoType"in t&&/smartembed$/i.test(t.videoType))return"post_article_recommendation";const n=document.querySelector(`#${e}`);return n&&n.closest(".t-content__main-media")||e.includes("main")?"main_video":n&&n.closest(".m-em-video__video-wrapper")?"em_video":""},Xn=(e,t,n)=>{"media"in t||(t.media={});const{media:a,videoType:o}=t;let r,i,s,c,l,d,u=!1,p="click";const f="audio"===n?"AOD":"VOD";if("videoType"in t&&/youtube/i.test(o)){const e=t?.player,n=e?.getVideoData(),a=t?.playerId?.match(/(player-)?([\w-]*)(-(main|em))/i)?.[2];i=Wn(n,"video_id",a),r=Wn(n,"title",i),c=void 0!==e&&(n?.isLive||!1),u=/smartembed$/i.test(o),p=u?"scroll":"click",l=e?.getPlaybackRate()||1,d=e?.getVolume()||50}else if("videoType"in t&&"videojs"===o)i=Wn(a,"mediaId"),r=Wn(a,"diffusion.title",i),s=Wn(t,"player.options_.sources.0.src"),l=Wn(t,"player.tech_.el_.playbackRate",1),d=Number.parseInt(100*Wn(t,"player.tech_.el_.volume",.5),10),c=!/\.mp[34â€“]$/g.test(s);else{i=Wn(a,"mediaId"),r=Wn(a,"diffusion.title",i),c="live"===a.type,u=Wn(a,"isAuto",!1);const e=Wn(a,"isInPlaylist",!1);u&&e?p="next_user_item":u&&(p="next_recommended_item"),s=Wn(a,"sources.0.url"),l=Wn(t,"playerId._mediaElement.playbackRate",1),d=Number.parseInt(100*Wn(t,"playerId._mediaElement.volume",.5),10)}const g=c?-1:Gn(t);return{title:r,episodeTitle:Wn(a,"diffusion.title"),episodeId:Wn(a,"diffusion.id"),showTitle:Wn(a,"emission.title"),showId:Wn(a,"emission.id"),showGenre:Wn(a,"emission.genre"),mediaId:i,sourceUrl:s,duration:g,durationRange:c?"Live":Qn(g),broadcastingType:c?"Live":f,position:Zn(e,t),autoMode:u,launchReason:p,playbackSpeed:l,playbackVolume:d}},ea=(e,t,n)=>{const a=Xn(e,t,n);return{av_player:e,av_player_version:j("site_version"),av_player_position:a.position,av_content:a.title,av_content_id:a.mediaId,av_content_type:n,av_content_duration:a.duration,av_content_genre:a.showGenre,av_content_linked:j("content_id"),av_content_duration_range:a.durationRange,av_broadcasting_type:a.broadcastingType,av_playback_speed:a.playbackSpeed,av_playback_volume:a.playbackVolume,av_show:a.showTitle,av_show_id:a.showId,av_episode:a.episodeTitle,av_episode_id:a.episodeId,av_auto_mode:a.autoMode,av_language:j("site_locale"),av_launch_reason:a.launchReason}},ta=(e,t)=>{const n=Number.parseFloat(t);Fn[e].setPlaybackSpeed(n)},na=(e,t,n,a,o)=>{const r=[],i={},s=ea(t,n,a);let c;if(e in Vn){let l=Vn[e][0];if(c=`av.${l}`,"ad_playing"===e&&"video"===a)return;Vn[e][1]&&(r.push(c),l="track"),Vn[e][2]&&(c=`av.${Vn[e][2]}`);const d=Yn(n);switch("ready"===e||Fn[t].status.isReady||na("ready",t,n,a),e){case"ready":Fn[t].status.isReady=!0,Fn[t].status.engagement15s=rt(15,(()=>{na("engagement_15s",t,n,a)}));break;case"metadata":return void Fn[t].setProps(Hn());case"playing":Fn[t].status.isAdPlaying=!1,Fn[t].status.started>0&&(c="av.resume",l="playbackResumed"),Fn[t].status.started+=1,Fn[t].status.engagement15s.resume();break;case"before_seeking":return Fn[t].status.isSeeking||(Fn[t].status.isSeeking=!0,Fn[t].status.lastPosition=d),void Fn[t].status.engagement15s.pause();case"seeking":{const e=Fn[t].status.lastPosition;c="av."+(d>e?"forward":"backward"),i.av_previous_position=e,r.push(e),Fn[t].status.engagement15s.pause();break}case"seek_forward":case"seek_backward":s.av_playback_jump_value=Number.parseInt(o,10);break;case"speed":{const e=Number.parseFloat(s.av_playback_speed);ta(t,e);break}case"panel_show":case"panel_hide":1===ee(".o-player-panel").length&&"transcription"===o&&na("subtitles_"+("panel_show"===e?"on":"off"),t,n,a,"transcription");break;case"buffering":Fn[t].status.isBuffering=!0,Fn[t].status.hasBuffered&&(c="av.rebuffer.start"),Fn[t].status.hasBuffered=!0,Fn[t].status.engagement15s.pause();break;case"paused":Fn[t].status.engagement15s.pause();break;case"ad_playing":case"ads_start":Fn[t].status.isAdPlaying=!0,Fn[t].status.engagement15s.pause();break;case"ads_end":Fn[t].status.isAdPlaying=!1;break;case"stopped":Fn[t].status.hasBuffered=!1,Fn[t].status.isReady=!1,Fn[t].status.started=0,Fn[t].status.engagement15s.pause(),Fn[t].status.engagement15s=void 0}"buffering"!==e&&(Fn[t].status.isBuffering=!1),/(before_seeking|seek)/.test(e)||(Fn[t].status.isSeeking=!1),/(ready|playing|buffering|paused|seeking|stopped)/.test(e)&&(i.av_position=d,r.push(d)),"track"===l&&1===r.length&&r.push({}),Fn[t].setProps(Hn()),zn(`before.sendPianoAvEvent.${l}`,`Before Send AV Event - ${l}`,{mediaTracker:Fn,curTracker:Fn[t],action:e,pianoAction:l,trackerVariables:r,mainProperties:i,extraProperties:s,player:n,playerId:t,type:a,modifier:o}),Fn[t][l](...r,qn(c,{...i,...s}),s)}},aa=(e,t,n,a)=>{const o=e.replace(/(fov\.)?(video_)?player\.(state|action)\./i,"").replace(/cued|canplay(through)?/i,"metadata").replace("ended","stopped").replace(".","_");if("resetAll"===o||"resetPage"===o){let t=Object.keys(Fn);if("resetPage"===o&&(t=t.filter((e=>!(e.startsWith("main")||Fn[e]?.status?.started<1)))),t.forEach((t=>{Fn[t].close((()=>{zn("hitAv.close","Close",{mediaTracker:Fn,curTracker:Fn[t],playerId:t,event:e}),delete Fn[t]}))})),Fn.length>0){const e=Hn();Fn.forEach((t=>{Fn[t].setProps(e)}))}}else{"metadata"===o&&"audio"===n&&Se("player.ready");const r=Jn(t);r in Fn||(Fn[r]=new bt.pianoAnalytics.avInsights.Media({0:5,1:10,5:60},5),Fn[r].status={started:0,lastPosition:0,isSeeking:!1,isBuffering:!1,isReady:!1,hasBuffered:!1,isAdPlaying:!1},zn("mediaTrackerSetup","Setup",{pianoAnalytics:bt.pianoAnalytics,mediaTracker:Fn,event:e,player:t,playerId:r,type:n,modifier:a})),zn(`hitAv.${o}`,`Hit - ${y(o)}`,{pianoAnalytics:bt.pianoAnalytics,mediaTracker:Fn,curTracker:Fn[r],event:e,action:o,player:t,playerId:r,type:n,modifier:a}),na(o,r,t,n,a)}},oa=e=>{Hn=e.setPageProperties,qn=e.beforeBuildCallback,zn("init","Init",{baseFunctions:e}),He(((e,t)=>{let n,a;Array.isArray(t)&&([n,a]=t),aa(e,n,"audio",a)})),qe(((e,t)=>{aa(e,t,"audio")})),Ve(((e,t)=>{aa(e,t,"video")})),ze(((e,t)=>{aa(e,t?.player,"video",t)})),je((()=>{aa("resetPage")})),Ie((()=>{aa("resetAll")}))};var ra={name:Bn,load:oa};let ia="";window._sf_async_config=window._sf_async_config||{},window._cbv=window._cbv||[],window._cbq=window._cbq||[];const sa=(e,t,n,a="")=>J("stats.chartbeat","Analytics - Chartbeat",e,t,n,a),ca=()=>{const e=j("site_brand"),t=j("site_locale");let n=!1;switch(e){case"obs":n=`${t}.observers.france24.com`;break;case"f24":n=`${t}.france24.com`;break;case"rfi":n=`${t}.rfi.fr`;break;case"fle":n=`${t}.francaisfacile.rfi.fr`;break;case"rfi-musique":n="musique.rfi.fr";break;case"mcd":n="mc-doualiya.com";break;case"infomigrants":n=`${t}.infomigrants.net`}return n&&N("ppr")&&(n=`rec.${n}`),n},la=(e="tags")=>{let t=[];if(!zt(e)){const n=j(e);"object"==typeof n&&void 0!==j(e).name?t=j(e).name:"string"==typeof n&&(t=j(e).split(/[\s_]*,[\s_]*/))}if("tags"===e&&(A(j("content_type"),["article","edition","depeche"])||N("graphics"))){const e=j("cat1"),n=j("cat2");""!==e&&t.unshift(e),""!==n&&t.unshift(n)}return t.join(",")},da=()=>{const e=!$t("cookies","c:chartbeat");_sf_async_config.noCookies=e,sa("fire","Updated consent",{noCookieMode:e},"consent")},ua=()=>{da();const e={path:j("canonical").replace(/https?:\/\/(.*)(\?(.*))?(#(.*))?$/,"$1"),virtualReferrer:ia,title:document.title,type:j("content_type"),sections:la("tags"),authors:la("authors")};return sa("fire","Hit - Page",{domain:ca(),eventData:e}),window.pSUPERFLY.virtualPage(e),ia=e.path,e},pa=()=>{const e=ca(),t=j("site_brand");if(e){if(sa("init"),_sf_async_config.uid=65811,_sf_async_config.domain=e,"f24"===t&&(_sf_async_config.playerdomain=(N("ppr")?"rec.":"")+"embed.france24.com"),_sf_async_config.path=j("canonical").replace(/https?:\/\/(.*)(\?(.*))?(#(.*))?$/,"$1"),_sf_async_config.title=document.title,_sf_async_config.type=j("content_type"),_sf_async_config.sections=la("tags"),_sf_async_config.authors=la("authors"),N("brand_content")){const e=j("brand_content");_sf_async_config.sponsorName=e.name}_cbq.push(["_acct","anon"]),ia=_sf_async_config.path,da();let n="chartbeat";["f24","rfi","mcd","obs","fle"].includes(t)&&(_cbv.push(["autoDetectYouTubeIframes"]),Ve(((e,t)=>{"video_player.state.ready"===e&&/youtube/i.test(t.videoType)&&(_cbv.push(t.player),sa("init","Referenced YouTube Player",{_cbv:_cbv,state:e,player:t}))})),n+="_video"),le(`https://static.chartbeat.com/js/${n}.js`,{id:"chartbeat-script",async:""},(()=>{je(ua),sa("init","SDK loaded",{chartbeatFile:n,_sf_async_config:_sf_async_config})}))}},fa=()=>{Qe((()=>da)),Ae((()=>{tt((()=>{St()?pa():Ge((()=>pa()),"chartbeat")}))}))};var ga={load:fa,localLog:sa,domain:ca,currentPath:ia,updateTrackerPrivacy:da,fire:ua,init:pa};const ma="data-tms-ad-",va=(e,t,n,a="")=>J("ads.report","Ads - Report",e,t,n,a),_a=e=>{const t=e.id||ee(".m-block-ad__content, .m-inread-ad__content",e)[0].id,n=e.getAttribute(`${ma}type`)||!1,a=window.tms.tags.ads.gam.blocks[n][t],o=a.getServices()[0],r=a.getResponseInformation(),i={adUnit:a.getAdUnitPath(),contentUrl:a.getContentUrl(),queryId:a.getEscapedQemQueryId(),responseInfo:r,targetingMap:{page:(e=>{const t={};return e.forEach((e=>{t[e]=o.getTargeting(e)})),t})(o.getTargetingKeys()),slot:a.getTargetingMap()},slotAttributes:(t=>{const n={};return["owner","provider","type","status","pos","inread-provider","inread-provider-exclusions"].forEach((t=>{const a=e.getAttribute(`${ma}${t}`)||!1;a&&(n[t]=a)})),n})(),html:{},size:{width:0,height:0}},s=ee("iframe",e)[0];try{const t=e.getAttribute(`${ma}inread-provider`)||"gam";if("inread"===n&&"gam"!==t){const n=ee(".m-inread-ad__content",e)[0];let a=n.innerHTML;if("teads"===t){const e='iframe:not([id^="google_ads_iframe"])',t=/(<iframe(?! id="google_ads_iframe)([^>]*))>(<\/iframe>)/gi,o=' src="data:text/html;charset=utf-8,',r=ee(e,n),i=[...a.matchAll(t)];if(i.length===r.length&&r.length>0)for(let n=0,s=r.length;n<s;n+=1){const s=r[n].contentDocument.body;let c=s.parentElement.outerHTML;const l=ee(e,s);if(l.length>0){const e=[...c.matchAll(t)];if(e.length===l.length&&l.length>0)for(let t=0,n=l.length;t<n;t+=1){const n=l[t].contentDocument.body.parentElement.outerHTML;c=c.replace(e[t][0],`${e[t][1]}${o}${encodeURIComponent(n)}">${e[t][3]}`)}}a=a.replace(i[n][0],`${i[n][1]}${o}${encodeURIComponent(c)}">${i[n][3]}`)}}i.html.code=btoa(a),i.size.width=e.offsetWidth,i.size.height=e.offsetHeight}else i.html.code=btoa(s.contentWindow.document.body.parentElement.outerHTML);i.html.rendered="1"}catch{i.html.code=btoa(r.isBackfill?"Non disponible (Backfill ADEX)":a.getHtml()),i.html.rendered="0"}return i.size.width=i.size.width||s.width.replace("px",""),i.size.height=i.size.height||s.height.replace("px",""),va("getAdCode","Campaign details",i),i},ha=(e,t)=>{const n={b:j("site_brand"),l:j("site_locale"),s:j("site_version"),t:j("tms_version"),u:window.location.href+(t?"":"?xmlhttprequest=1"),r:document.referrer},a=_a(e);try{const e=`https://www.francemm.com/report/ad.html?i=${encodeURIComponent(btoa(JSON.stringify(n)))}#i=${encodeURIComponent(btoa(encodeURIComponent(JSON.stringify(a))))}`;window.open(e,"_blank")?va("openAdReport","Opened ad report",{url:e,reportInfo:n,hashInfo:a}):alert("Please allow popups / Merci d'autoriser les popups")}catch(e){va("openAdReport","Unable to create ad report URL",e,"error")}},ba=e=>{va("init");ee(`[${ma}report]:not([${ma}report=ready])`).forEach((t=>{let n=t.parentNode.parentNode;n&&!n.hasAttribute(`${ma}type`)&&([n]=ee(`[${ma}type]`,n)),t.setAttribute(`${ma}report`,"ready"),t.addEventListener("click",(()=>{ha(n,e)}))}))},ya=()=>{Ae((()=>{ba(!0)})),Ye((()=>{ba(!1)}))};var wa={load:ya,localLog:va,init:ba,getAdSlotDetails:_a,openAdReport:ha};const ka={},Ca=e=>{const n=t().fa||"0",a=t().da||"0";let o=Ct.getItem("broadcast_da");return"1"!==n&&(!!("post-article"===e&&A("week-in-review",j("tags").name_slug||[])||N("brand_content")&&A(e,["post-article","yt-related"])||N("embedded_graphics"))||("0"!==a&&o!==a&&(Ct.setItem("broadcast_da",a,999999999,"/",((e,t)=>{const n=window.location.host.split(".").reverse();return"."+n[1]+"."+n[0]})()),o="1"),"1"===o))},Aa=(e,n=[0,100],a=!1,o=!1)=>{let r=!1,i="normal",s=Math.floor(100*Math.random());const c=t();return a&&Ct.hasItem(`_tms_ab_${e}`)&&!o&&(i="cookie",s=Number.parseInt(Ct.getItem(`_tms_ab_${e}`),10)),e in ka&&!o?(i="cache",s=ka[e]):`force_${e}`in c&&"1"===c[`force_${e}`]&&(i="url",s=(n[0]+n[1])/2),s>n[0]&&s<=n[1]&&(ka[e]=s,r=!0),a&&"url"!==i&&Ct.setItem(`_tms_ab_${e}`,s,604800,"/"),W("abtest.tms.context.abTestResult",`A/B test - ${e} - CAN${r?"":"NOT"} RUN`,{canRun:r,reason:i,drawRandom:s,limits:n,storeInCookie:a}),r};var Pa={adBlacklisted:Ca,abTestResult:Aa,check:N};const xa=(e,t,n,a=[],o="",r=200)=>{const i=e;i.style.backgroundImage=`url(${t})`,i.classList.contains("middle_link")?r<200&&(i.style.height=`${r}px`):N("rtl")&&(i.style.backgroundPosition="top "+(i.classList.contains("start_link")?"right":"left")),void 0===n?(i.setAttribute("href","#"),i.onClick=()=>!1):(i.setAttribute("href",n),i.setAttribute("target","_blank"),i.onClick=()=>!0),a.length>0&&a.map((e=>i.setAttribute(e.name,e.value))),""!==o&&(i.style.backgroundColor=o)},$a=()=>{const e=ee('div[data-tms-ad-type="sponsoring"]')[0],t=ee('div[data-tms-ad-type="banner"][data-tms-ad-pos="1"]')[0];if(t){const e=t.closest("[data-tms-ad-container]");t.dataset.tmsAdStatus="empty",e&&(e.dataset.tmsAdStatus="empty")}e.dataset.tmsAdStatus="disabled";e.querySelectorAll("a").forEach((e=>{e.removeAttribute("style")}))},Sa=(e,t,n=[],a="",o=200)=>{if(!Ca("sponsoring")){const r=ee('div[data-tms-ad-type="sponsoring"]')[0],i=ee('div[data-tms-ad-type="banner"][data-tms-ad-pos="1"]')[0];if(i){const e=i.closest("[data-tms-ad-container]");i.dataset.tmsAdStatus="disabled",e&&(e.dataset.tmsAdStatus="disabled")}r.dataset.tmsAdStatus="enabled",fe(r);r.querySelectorAll("a").forEach((r=>{xa(r,e,t,n,a,Number.parseInt(o,10))}))}},Ea=()=>{const e=t(),{test_hab:n,hab_img:a,hab_url:o}=e;["1","2"].includes(n)?Sa(`https://static.france24.com/infographies/habillage/fov/habillage_${"1"===n?"test":"spec"}.png`,"https://www.francemediasmonde.com",[]):"3"===n&&Sa(a,o,[])},Ta=()=>{Ae(Ea),je(Ea)};var Ia={load:Ta,init:Sa,inject:xa,check:Ea,clean:$a};let Oa=!1;const Da=!1,La={banner:[],midpagebanner:[],box:[],bigbox:[],int:[],inread:[]},Ra=[1e3,250],Ma=[1e3,90],ja=[970,250],Na=[970,90],Ua=[728,250],Ba=[728,90],Ha=[530,300],qa=[480,361],Fa=[480,360],Va=[480,70],za=[336,280],Ka=[320,180],Wa=[320,100],Ja=[320,50],Ya=[300,600],Ga=[300,300],Qa=[300,250],Za=[300,100],Xa=[300,50],eo=[300,1],to=[1,1],no=[0,0],ao={banner:[[[1280,800],[Ra,ja,Ua,Ma,Na,Ba,to]],[[1e3,800],[ja,Ua,Ma,Na,Ba,to]],[[970,800],[ja,Ua,Na,Ba,to]],[[728,800],[Ua,Ba,to]],[[1e3,350],[Ma,Na,Ba,to]],[[970,350],[Na,Ba,to]],[[728,350],[Ba,to]],[[728,350],[Ba,to]],[[324,0],[Ja,Wa,to]],[no,[Xa,Za]]],midpagebanner:[[[1280,800],[Ra,ja,Ua,Ma,Na,Ba,to]],[[1e3,800],[ja,Ua,Ma,Na,Ba,to]],[[970,800],[ja,Ua,Na,Ba,to]],[[728,800],[Ua,Ba,to]],[[1e3,350],[Ma,Na,Ba,to]],[[970,350],[Na,Ba,to]],[[728,350],[Ba,to]],[[368,400],[za,Qa,Ga,to]],[[0,400],[Qa,Ga,to]],[no,[Qa,to]]],box:[[[1024,400],[Qa,Ga,to]],[[368,400],[za,Qa,Ga,to]],[[0,400],[Qa,Ga,to]],[no,[Qa,to]]],bigbox:[[[1024,600],[Ya,Ga,Qa,to]],[[368,400],[za,Qa,Ga,to]],[[0,400],[Qa,Ga,to]],[no,[Qa,to]]],int:[[no,to]],video:[[no,[Va,Fa,qa]]],inread:[[[530,400],[Ha,eo]],[[320,280],[Ka,eo]],[no,eo]]},oo="data-tms-ad-",ro="tmsAd",io=window?.contextlayer?.translations["ad.blocks.label"]||"Advertising",so=window?.contextlayer?.translations["ad.report.label"]||"Report this ad",co=(e,t,n,a="")=>J("ads.gam","Ads - GAM",e,t,n,a),lo=()=>{const e=j("site_brand"),t=j("site_locale");return"f24"===e&&"es"!==t||"obs"===e&&"fa"!==t||"mcd"===e};window.googletag=window?.googletag||{cmd:[]};const uo=(e,t,n)=>{const a=e;if(a.dataset[`${ro}Status`]=n,["banner","midpagebanner","box","bigbox"].includes(t)){const e=a.closest(`[${oo}container]`);e&&(e.dataset[`${ro}Status`]=n)}},po=()=>{Oa||googletag.cmd.push((()=>{const{tms:e,googletag:t,navigator:n}=window,{gam:a}=e.tags.ads;t.pubads().enableSingleRequest(),t.pubads().disableInitialLoad(),t.pubads().setCentering(!0),t.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:125,mobileScaling:1.5}),t.pubads().addEventListener("slotResponseReceived",(t=>{const n=e.dom.select(`#${t.slot.getSlotElementId()}`)[0];if(n){const e=`${ro}Type`in n.dataset?n:n.parentElement;"inread"===e.dataset[`${ro}Type`]&&a.changeSlotInreadProvider(e,n,"")}})),t.pubads().addEventListener("slotRenderEnded",(t=>{const n=e.dom.select(`#${t.slot.getSlotElementId()}`)[0];if(n){const o=`${ro}Type`in n.dataset?n:n.parentElement,r=o.dataset[`${ro}Owner`],i=n.querySelectorAll("iframe")[0],s=o.dataset[`${ro}Type`];if(void 0!==i&&i.setAttribute("tabindex","-1"),"disabled"!==o.dataset[`${ro}Status`]){let e="rendered";t.isEmpty?e="empty":(t.size[0]>3||"inread"===s)&&(e="resized"),a.updateBlockStatus(o,s,e),"box"===s&&"readmoreTarget"in o.parentElement.dataset&&setTimeout((()=>{const{body:e}=document;e.classList.contains("u-readmore-active")&&"auto"!==e.style.height&&Number.parseInt(i.offsetHeight,10)>250&&(e.style.height=`${e.offsetHeight-265+i.offsetHeight}px`)}),300)}co("slotRenderEnded",`Rendered 1 ${s} ad`,t),e.event.onPubSubReady((()=>{Se("ad.rendered",t),co("slotRenderEnded",'Triggered event "tms.event.ad.rendered"',{event:t,adWrapper:o})})),a.isFtpPerimeter()&&t.isEmpty&&"ftp"===r&&a.changeSlotOwner(o,n,"fmm")}})),t.pubads().addEventListener("impressionViewable",(t=>{const n=e.dom.select(`#${t.slot.getSlotElementId()}`)[0];if(n){const o=`${ro}Type`in n.dataset?n:n.parentElement;co("impressionViewable",`1 ${o.dataset[`${ro}Type`]} ad seen by user`,t);try{e.event.onPubSubReady((()=>{setTimeout((()=>{Se("ad.seen",o),co("impressionViewable",'Triggered event "tms.event.ad.seen"',{event:t,adWrapper:o})}),a.isFtpPerimeter()?2400:1700)}))}catch(e){co("impressionViewable",'Unable to trigger "tms.event.ad.seen"',e,"error")}}})),t.pubads().set("page_url",e.var("canonical")),t.pubads().setTargeting("facebook_webview",/fbav/i.test(n.userAgent)?"true":"false").setTargeting("twitter_webview",/twitter/i.test(n.userAgent)?"true":"false").setTargeting("ppr",e.is("ppr")?"true":"false").setTargeting("mirror",e.is("mirror")?"1":"0");const o=e.data.getUrlVariables().preview||(e.is("ppr")?"debug_fmm":"0");if("0"!==o&&t.pubads().setTargeting("preview",o),""!==top.document.referrer){const e=new URL(top.document.referrer).hostname.replaceAll(/[^\d+A-Za-z]/g,"").replace("www","")||"";""!==e&&t.pubads().setTargeting("referrer",e)}Oa=!0}));try{googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,n=!e.gdpr.canUse("cookies","google"),a=!e.gdpr.canUse("create_ads_profile","google")||!e.gdpr.canUse("select_personalized_ads","google"),o={childDirectedTreatment:!1};n&&(o.limitedAds=n),a&&(o.nonPersonalizedAds=a),t.pubads().setPrivacySettings(o),co("setBasicTargeting",`Switched to ${a?"non ":""}personalized ads because of user consent`,{limitedAds:n,nonPersonalizedAds:a},"consent")}),(()=>{const{tms:e,googletag:t}=window;t.pubads().setTargeting("hl",document.documentElement.lang??e.var("site_locale")).setTargeting("langue",e.var("site_locale")||"en").setTargeting("libelle_contenu_page",S(e.var("content_title"))).setTargeting("id_contenu",e.var("content_id")).setTargeting("thema",S(e.var("tags")?.name_clean)||[]).setTargeting("thema_id",S(e.var("tags")?.id)||[]).setTargeting("auteur",S(e.var("authors")?.name_clean)||[]).setTargeting("auteur_id",S(e.var("authors")?.id)||[]).setTargeting("show_title",S(e.var("show")?.name)||[]).setTargeting("show_id",e.var("show")?.id||[]).setTargeting("show_genre",e.var("show")?.genre||[]).setTargeting("rep1",S(e.var("cat1"))).setTargeting("rep2",S(e.var("cat2"))).setTargeting("rep_global",S(e.var("cat1"))).setTargeting("type_page1",e.var("content_type")).setTargeting("bc",e.is("brand_content")?"1":"0").setTargeting("url_pathname",new URL(e.var("canonical")).pathname.slice(1).split("/"))})),lo()&&googletag.cmd.push((()=>{const{tms:e,googletag:t}=window;t.pubads().setTargeting("site",e.var("site_brand").replace("mcd","mc-doualiya").replace(/(f24|obs)/,`france24${e.str.replaceAll(e.var("site_locale"),{fr:"francais",en:"anglais",ar:"arabe"})}`)).setTargeting("support",N("app")?`apps${j("site_platform")}${j("device_type")}`:"webresponsive").setTargeting("webresponsiveversion",e.var("device_type")).setTargeting("page","default").setTargeting("type",e.is("homepage")?"accueil":"default")}))}catch{}},fo=e=>{const t=[],n=ao[e],a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r="video"===e?"v":"";if(void 0!==n)for(let i=0,s=n.length;i<s;i+=1){const s=n[i];if(s[0][0]<=a&&s[0][1]<=o){if("number"==typeof s[1][0])t.push(`${s[1][0]}x${s[1][1]}${r}`);else if("string"==typeof s[1][0])t.push(`${s[1][0]}`);else for(let n=0,a=s[1].length;n<a;n+=1)if("string"==typeof s[1][n])t.push(`${s[1][n]}`);else{const a=`${s[1][n][0]}x${s[1][n][1]}${r}`;"banner"===e&&"1x1"===a||t.push(a)}return t}}return t},go=(e,t)=>{const n=j("site_brand"),a=j("site_locale"),o=N("brand_content"),r=N("app");return"ftp"===t?`/21643048729,33480810/${n.replace("mcd","mc-doualiya").replace(/(f24|obs)/,`france24${C(a,{fr:"francais",en:"anglais",ar:"arabe"})}`)}/${r?`apps${j("site_platform")}${j("device_type")}`:"webresponsive"}/${o?"contenus-partenaires":"default"}/${N("homepage")?"accueil":"default"}/${e}`:`/33480810/web/${n.replace("-","_")}/${a}/${o?"brand-content":j("content_type")}/${e}`},mo=(e,t,n,a={})=>{function o(e,t,n,a,o,r,i){const s=t;return()=>{const{tms:t,googletag:c,innerWidth:l}=window,{gam:d}=t.tags.ads;if("int"===e)d.blocks[e][n]=c.defineOutOfPageSlot(a,n).setTargeting("position",""===i?r:i).setTargeting("location",t.str.isFoundInArray(t.var("content_type"),["homepage","section","tag","emission","dossier"])?"list":"content").setTargeting("allowed_sizes",fo(e)).setTargeting("in_liveblog",0).addService(c.pubads()),""!==i&&d.blocks[e][n].setTargeting("block_order",r);else{const u=l>1279;let p=""===i?r:i;if("top"===i&&u&&(p=["top","arche"]),d.blocks[e][n]=c.defineSlot(a,[o],n).setTargeting("position",p).setTargeting("location",t.str.isFoundInArray(t.var("content_type"),["homepage","section","tag","emission","dossier"])?"list":"content").setTargeting("allowed_sizes",fo(e)).setTargeting("in_liveblog","1"===s?.dataset?.tmsAdInLiveblog?1:0).defineSizeMapping(ao[e]).addService(c.pubads()),""!==i&&d.blocks[e][n].setTargeting("block_order",r),"banner"===e)d.blocks[e][n].setTargeting("habillage",u?1:0);else if("inread"===e){d.blocks[e][n].setTargeting("ad_translation",io);const t=s.dataset[`${ro}InreadProviderExclusions`]||!1;t&&d.blocks[e][n].setTargeting("provider_exclusions",t.split(","))}}d.updateBlockStatus(s,e,"ready")}}if(t){Se("onBeforeAdsFilled"),Object.keys(a).forEach((e=>"function"==typeof a[e].beforeAdsFilled?a[e].beforeAdsFilled():""));const e=ee(`[${oo}type]`)[0];e&&!(`${ro}Int`in e.dataset)&&(ie(ce("div","",{class:"tms-ad","data-tms-ad-pos":1,"data-tms-ad-type":"int","data-tms-ad-status":"idle","data-tms-ad-owner":lo()?"ftp":"fmm",style:"line-height:0;font-size:0;height:0;border:none;overflow:hidden;"}),e),e.dataset[`${ro}Int`]="loaded",co("fillBlocks","Injected interstitial injection zone"))}let r=ee(`[${oo}status="idle"]:not([${oo}container])`);r=ne(r,`[${oo}type="banner"],[${oo}type="midpagebanner"],[${oo}type="box"],[${oo}type="bigbox"],[${oo}type="int"],[${oo}type="inread"]`);for(let e=0,t=r.length;e<t;e+=1){const t=r[e];let n=t.dataset[`${ro}Type`],a=[300,250];const i=Number.parseInt(t.dataset[`${ro}Pos`],10);let s;if(t.parentNode.classList.contains("m-interstitial__ad")){if(ee(".t-content__body > p:not(:empty):not(.empty)").length<4&&ee(".t-content__body")[0].textContent.length<450){uo(t,n,"disabled");continue}N("brand_content")&&"box"===n&&(t.dataset[`${ro}Type`]="bigbox",n="bigbox")}"banner"===n&&i>1&&(t.dataset[`${ro}Type`]="midpagebanner",n="midpagebanner");const c=/(box|inread)/gi.test(n)&&ee(".m-block-ad__content, .m-inread-ad__content",t)[0]||t;let l;t.dataset[`${ro}Provider`]="gam",uo(t,n,"started"),fe(c);const d=c.id;switch(n){case"banner":l=go(`bann${i<3?i:2}`,"fmm"),a=[728,90],s="top";break;case"int":l=go("int","fmm"),s="interstitiel";break;case"inread":l=go("inread","fmm");break;default:l=go(`pave${i<6?i:5}`,"fmm"),s=`middle${i>1&&i<6?i:""}`}void 0===t.dataset[`${ro}Owner`]&&(t.dataset[`${ro}Owner`]=lo()?"ftp":"fmm"),"ftp"===t.dataset[`${ro}Owner`]?l=go(s,"ftp"):s="",Ca("gam")?uo(t,n,"disabled"):googletag.cmd.push(o(n,t,d,l,a,i,s))}co("fillBlocks",`Detected ${r.length} new idle ad blocks`,r),googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,{gam:n}=e.tags.ads;t.enableServices(),n.servicesEnabled=!0,co("fillBlocks","Enabled GAM services")})),googletag.cmd.push((()=>{const{tms:o,googletag:r}=window,{gam:i}=o.tags.ads,s=o.dom.select(`[${oo}status="ready"]:not([${oo}container])`),c=[],l=[];let d,u=[...Object.keys(ao)];lo()&&"hubvisor"in a&&(u=["inread","video"],d="hubvisor");const p=e=>r.pubads().refresh(e,{changeCorrelator:n});for(let e=0,t=s.length;e<t;e+=1){const t=s[e],n=t.dataset[`${ro}Type`],a=(/(box|inread)/gi.test(n)&&o.dom.select(".m-block-ad__content, .m-inread-ad__content",t)[0]||t).id;(u.includes(n)?c:l).push(i.blocks[n][a]),r.display(a),i.updateBlockStatus(t,n,"loaded")}s.length>0&&co("fillBlocks",`Queued ${s.length} ad blocks to render`,s),l.length>0&&(lo()&&"hubvisor"in a&&t&&a.hubvisor.call("f24:new-page",p,l.map((e=>e.getSlotElementId()))),co("fillBlocks",`Delegated ${l.length} ad blocks for rendering to ${d}`,{renderReadyDelegated:l,isFirstFilling:t,isFirstPageLoad:e,plugins:a})),c.length>0&&(p(c),co("fillBlocks",`Rendered ${c.length} owned ad blocks`,{renderReadyOwned:c})),Object.keys(a).forEach((e=>"function"==typeof a[e].afterAdsFilled?a[e].afterAdsFilled():"")),o.event.pubSubPublish("onAfterAdsFilled")}))},vo=(e,t,n,a="owner")=>{const o=e,r=t,i=y(a),s=o.dataset[`${ro}${i}`]||"";if(s!==n){const t=o.dataset[`${ro}Type`];googletag.destroySlots([La[t][r.id]]);const c=o.dataset[`${ro}${i}Exclusions`]||!1;let l=s;c&&(l=`${c},${l}`),o.dataset[`${ro}${i}Exclusions`]=l,""===n?delete o.dataset[`${ro}${i}`]:o.dataset[`${ro}${i}`]=n,uo(e,t,"idle"),r.removeAttribute("id"),"int"!==t&&r.removeAttribute("style"),delete r.dataset.googleQueryId,delete La[o.dataset[`${ro}Type`]][r.id],mo(!1,!1,!1),co("changeSlotProperty",`No ad campaign available, changed ad ${a} to ${n}`,{adWrapper:e,newValue:n})}},_o=(e,t,n)=>vo(e,t,n,"owner"),ho=(e,t,n)=>vo(e,t,n,"inread-provider"),bo=()=>{googletag.cmd.push((()=>{const{tms:e,googletag:t}=window,{gam:n}=e.tags.ads,a=t.destroySlots();n.blocks={banner:[],box:[],bigbox:[],int:[],inread:[]},co("destroyBlocks","Destroyed all existing ad blocks",a)}))},yo=(e={})=>{if(200===j("http_code")&&!Oa)if(co("init"),Object.keys(e).forEach((t=>e[t].load({adTranslation:io,adReportTranslation:so,fillBlocks:mo,isFtpPerimeter:lo}))),$t("select_basic_ads","google")){const t=$t("cookies","google")?"securepubads.g.doubleclick.net":"pagead2.googlesyndication.com";le(`https://${t}/tag/js/gpt.js`,{id:"gam-script",async:""},(()=>{co("init","SDK loaded",{sdkDomain:t}),po(),mo(!0,!0,!0,e),"1"===Ct.getItem("broadcast_da")&&(window.scrollBy(0,1),setTimeout((()=>{window.scrollTo(0,0)}),25)),je((()=>{bo(),po(),mo(!1,!0,!0,e)}))}))}else Qe((()=>yo())),co("init","prevented")},wo=(e={})=>{Ae((()=>{tt((()=>{St()?yo(e):Ge((()=>yo(e)),"gam")}))}))};var ko={load:wo,localLog:co,initialized:Oa,servicesEnabled:Da,blocks:La,sizeMappings:ao,adTranslation:io,adReportTranslation:so,isFtpPerimeter:lo,updateBlockStatus:uo,setBasicTargeting:po,getAllowedSizes:fo,changeSlotProperty:vo,changeSlotOwner:_o,changeSlotInreadProvider:ho,getSlotId:go,fillBlocks:mo,destroyBlocks:bo,init:yo};const Co=(e,t,n,a="")=>J("inread.common","Ads - Inread - Common",e,t,n,a),Ao=(e,t,n)=>{le(t,{id:`inread-${e}-script`,defer:""},(()=>{window.tms.tags.inread[e].initialized=!0,n(),Co("callSdk",`Loaded "${e}" SDK`)}))},Po=e=>{try{const t=e;if("emptyP"in t.dataset)return"true"===t.dataset.emptyP;const n=ee("p:not(:empty)");let a=!1;for(let e=0,t=n.length;e<t;e+=1)" "!==n[e].textContent&&"&nbsp;"!==n[e].innerHTML||(n[e].classList.add("empty"),a=!0);return t.dataset.emptyP=a,a}catch{return!1}};let xo,$o,So;const Eo=(e,t,n,a="")=>J("ads.gam.initialZones","Ads - Initial zones",e,t,n,a),To=(e,t,n,a,o,r,i)=>{if(e){let s,c="";["post-sidebar"].includes(n)||(c=`<div class="${t}__label ${t}__label--report-enabled"><span class="${t}__label__text">${xo}</span><button title="${$o}" class="${t}__label__report-link" rel="noopener" data-tms-ad-report><span class="a-svg a-svg--${N("f24")?"icon":"picto"}-report-ad"></span></button></div><div class="${t}__content"></div>`,s=ce("div",'<div class="o-ad-container__content o-ad-container__content--report-enabled"></div>',{class:`o-ad-container o-ad-container--${n} o-ad-container--with-shimmer`,"data-tms-ad-status":o?"disabled":"idle","data-tms-ad-container":""}));let l=ce("div",c,{class:`${t}`,"data-tms-ad-type":n,"data-tms-ad-status":o?"disabled":"idle","data-tms-ad-owner":r,"data-tms-ad-pos":a,...i});return s&&(s.children[0].append(l),l=s),Eo("injectZone","Injected zone",{adsDiv:l,sibling:e,mainClass:t,type:n,position:a,isDisabled:o,adOwner:r,extras:i}),ie(l,e)}return!1},Io=(e,t,n)=>{const a=t<0?e.length+t:t;if(e.length>=n){if(e.length===a||e.length>a&&/<(h[1-6]|p>(\s*)<strong)>([^<>]|(<\/?(strong|span|br?|i|em)>))*<\/(strong>(\s*)<\/p|h[1-6])>/gim.test(e[a-1].outerHTML))return Eo("nearestSibling","Selected sibling",{case:1,length:e.length,minimumParagraphs:n,nbParagraphs:a,contentPool:e}),e[a-2];if(e.length>a)return Eo("nearestSibling","Selected sibling",{case:2,length:e.length,minimumParagraphs:n,nbParagraphs:a,contentPool:e}),e[a-1]}return Eo("nearestSibling","No sibling possible",{case:3,length:e.length,minimumParagraphs:n,nbParagraphs:a,contentPool:e}),!1},Oo=()=>{if(N("article")||N("depeche")||N("edition")){const e=ee("article")[0],t=ee(".t-content__body",e)[0];if(t){Po(t);const n=".t-content__body > ",a=ee(`${n}p:not(:empty):not(.empty),${n}h1,${n}h2,${n}h3,${n}h4,${n}h5,${n}h6`,e);if(!Ca("gam")&&N("mobile")&&!N("liveblog")){const e=Io(a,1,0);e&&To(e,"m-block-ad","box",1,!1,So()?"ftp":"fmm")}if(!Ca("inread")&&N("f24")&&!N("liveblog")){const e=Io(a,4,6);e&&To(e,"m-inread-ad","inread",1,!1,"fmm",{"data-tms-ad-provider":"gam",style:"line-height:0;font-size:0;border:none;overflow:hidden;"})}if(!Ca("poool")&&N("mobile")&&!N("liveblog")){const e=Io(a,-2,7);e&&To(e,"m-block-pool","post-sidebar",1,!1,"fmm",{"data-tms-ad-provider":"poool"})}}}},Do=e=>{xo=e.adTranslation,$o=e.adReportTranslation,So=e.isFtpPerimeter};var Lo={load:Do,localLog:Eo,injectZone:To,nearestSibling:Io,beforeAdsFilled:Oo};let Ro,Mo,jo,No,Uo=0,Bo=!1;const Ho=(e,t,n,a="")=>J("ads.gam.arena","Ads - Arena",e,t,n,a),qo=N("mobile"),Fo=()=>{if(!Ca("gam")&&N("liveblog")){const e=ee('.m-interstitial__ad [data-tms-ad-type="box"]')[0];e&&(e.dataset.tmsAdStatus="disabled",Ho("beforeAdsFilled","Disabled existing box ad",{mainBox:e}),Se("ad.seen",e),Ho("beforeAdsFilled",'Triggered "ad.seen" to hide the Read More button',{mainBox:e}))}},Vo=(e,t)=>{const n=Math.floor(Uo/(qo?3:5))+1,a=ce("div",`<div class="m-block-ad__label m-block-ad__label--report-enabled"><span class="m-block-ad__label__text">${Ro}</span><button title="${Mo}" class="m-block-ad__label__report-link" rel="noopener" data-tms-ad-report><span class="a-svg a-svg--${N("f24")?"icon":"picto"}-report-ad"></span></button></div> <div class="m-block-ad__content"></div>`,{class:"m-block-ad m-block-ad--h300 m-block-ad--arena","data-tms-ad-type":"box","data-tms-ad-status":t?"disabled":"idle","data-tms-ad-owner":No()?"ftp":"fmm","data-tms-ad-pos":n<5?n:5,"data-tms-ad-in-liveblog":1});return ie(a,e)},zo=()=>{const e=ee(".arena-liveblog div[data-flip-id]:not([data-tms-ad-rendered])"),t=e[e.length-1];e.forEach((e=>{const n=e;if(n.dataset.tmsAdRendered="true",Uo+=1,2===Uo||Uo>2&&(Uo-2)%(qo?3:5)==0){const e=t===n,a=Vo(n,e);Ho("initialRender","Injected a new ad block",{adsDiv:a,currentPost:n,adTranslation:Ro,adReportTranslation:Mo,isLastChild:e})}})),jo(!1,!1,!1)},Ko=e=>{const t=ee(`.arena-liveblog div[data-flip-id="${e.detail.post.key}"]`)[0];if(t)if("tmsAdRendered"in t.dataset)Ho("renderPost","Received event for already rendered block",{currentPost:t,event:e,adTranslation:Ro,adReportTranslation:Mo});else{const n=t.previousSibling;if(n&&"disabled"===n.dataset?.tmsAdStatus&&(n.dataset.tmsAdStatus="idle"),t.dataset.tmsAdRendered="true",Uo+=1,2===Uo||Uo>2&&(Uo-2)%(qo?3:5)==0){const n=Vo(t);Ho("renderPost","Injected a new ad block",{adsDiv:n,currentPost:t,event:e,adTranslation:Ro,adReportTranslation:Mo}),jo(!1,!1,!1)}}},Wo=()=>{Uo=0,Ho("init"),Ca("gam")||!N("liveblog")||Bo||(zo(),document.addEventListener("arena-post-rendered",(async e=>Ko(e))),Bo=!0)},Jo=e=>{Ro=e.adTranslation,Mo=e.adReportTranslation,jo=e.fillBlocks,No=e.isFtpPerimeter,Ae((()=>Wo())),je((()=>Wo()))};var Yo={load:Jo,localLog:Ho,init:Wo,initialRender:zo,renderPost:Ko,beforeAdsFilled:Fo};const Go=()=>{Ae((()=>{pe(`\n.t-content .t-content__body .o-ad-container--inread {\nmargin-bottom: 0;\n}  \n.o-ad-container--inread .o-ad-container__content {\nwidth: 100% !important;\nmax-width: 530px;\n}\n.o-ad-container--inread .o-ad-container__content iframe[width="530"][height="300"],\n.o-ad-container--inread .o-ad-container__content iframe[width="320"][height="180"] {\nwidth: 100%;\nmax-width: 530px;\nheight: auto;\naspect-ratio: 16 / 9;\n}\n\n.m-inread-ad, .m-inread-ad[data-tms-ad-inread-provider]:not([data-tms-ad-inread-provider=teads]) .m-inread-ad__label,\n.m-inread-ad[data-tms-ad-inread-provider=teads]:has(.m-inread-ad__content > .teads:first-child:empty) .m-inread-ad__label {\ndisplay:none;\n}\n.m-inread-ad[data-tms-ad-status=resized] {\ndisplay:flex;\nflex-direction:column-reverse;\nposition:relative;\nmargin-top: 0;\n}\n.m-inread-ad .m-inread-ad__label {\ndisplay:flex;\nalign-items: center;\nbackground-color: #e6edef;\ngap: 4px;\njustify-content: flex-end;\ncolor: #505050;\nflex: 0 0 25px;\nfont-size: 1.1rem;\npadding: 0 6px;\ntext-transform: uppercase;\nwidth: 100%;\nmargin-bottom: 32px;\n}\n.m-inread-ad .m-inread-ad__label span{\ncolor: #011d26;\nfont-size: 1.1rem;\nfont-weight: 400;\nline-height: 1.54;\n}\n.m-inread-ad .m-inread-ad__report.m-inread-ad__report--report-enabled {\ndisplay:none;\n}\n.m-inread-ad[data-tms-ad-status=resized] .m-inread-ad__report.m-inread-ad__report--report-enabled {\ncolor: #777;\ndisplay: flex;\nposition: absolute;\n${N("rtl")?"left":"right"}: 0;\nheight: 25px;\nz-index: 100;\nalign-items: center;\npadding: 0 6px;\n${N("rtl")?"transform: scaleX(-1);":""}\n}\n`)}))};var Qo={load:Go,callSdk:Ao};const Zo={},Xo=e=>encodeURIComponent(Object.keys(e).map((t=>Array.isArray(e[t])?`${encodeURIComponent(t)}=${e[t].map((e=>encodeURIComponent(e))).join(",")}`:`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")),er=()=>go("video","fmm"),tr=e=>{let n=2;"main"===e?n=1:"smart-embed"===e&&(n=3);const a={facebook_webview:/fbav/i.test(window.navigator.userAgent)?"true":"false",twitter_webview:/twitter/i.test(window.navigator.userAgent)?"true":"false",ppr:N("ppr")?"true":"false",langue:j("site_locale")??"en",libelle_contenu_page:S(j("content_title")),id_contenu:j("content_id"),thema:S(j("tags")?.name_clean)||[],thema_id:j("tags")?.id||[],auteur:S(j("authors")?.name_clean)||[],auteur_id:j("authors")?.id||[],show_title:S(j("show")?.name)||[],show_id:j("show")?.id||[],show_genre:j("show")?.genre||[],rep1:S(j("cat1")),rep2:S(j("cat2")),rep_global:S(j("cat1")),type_page1:j("content_type"),url_pathname:new URL(j("canonical")).pathname.slice(1).split("/"),mirror:N("mirror")?"1":"0",bc:N("brand_content")?"1":"0",position:n,location:`video_${e}`,allowed_sizes:fo("video"),block_order:n,app_name:"web_fov"},o=t().preview||(N("ppr")?"debug_fmm":"0");if("0"!==o&&(a.preview=o),""!==top.document.referrer){const e=new URL(top.document.referrer).hostname.replaceAll(/[^\d+A-Za-z]/g,"").replace("www","")||"";""!==e&&(a.referrer=e)}return Xo(a)},nr=e=>{const t=btoa(`${e}.${j("canonical")}`);if(t in Zo)return Zo[t];const n=Math.random().toString().slice(2);return Zo[t]=n,n},ar=(e,t)=>{const n=(document.body.parentElement.lang||"en").toLowerCase().replace("hans","cn").replace("hant","tw").replace(/(bm|ff)/,"fr").replace("ha","en").replace("-","_"),a=$t("create_ads_profile","google")&&$t("select_personalized_ads","google")?1:0;return`https://pubads.g.doubleclick.net/gampad/ads?env=vp&gdfp_req=1&output=xml_vast4&iu=${er()}&sz=480x70|480x360|480x361&unviewed_position_start=1&hl=${n}&ad_rule=0&ad_type=video&cust_params=${tr(e)}&vpos=preroll&impl=s&tcfd=0&description_url=${encodeURIComponent(j("canonical"))}&url=${encodeURIComponent(document.location.href)}&gdfp_rep=1&gdpr=1&gdpr_consent=${Et()?.tcString||""}&npa=${a}&scor=${nr(t)}`};var or={getIu:er,getCustomParameters:tr,getCustParams:tr,getVAST:ar,toQueryString:Xo};const rr=()=>{const e="rfi"===j("site_brand")?"AR_5":"AR_1",t=".t-content__body ",n=ee(`${t}ul > li > h2,${t}ul > li > strong`).length>2,a=ee(`${t}> p`).length<3,o=ee(`${t}> p:last-of-type .a-read-more__label`).length>0,r=ee(`${t}.m-em-image+:last-child,${t}.m-em-image+p:empty+:last-child,${t}.m-em-image+p.empty+:last-child,${t}.m-em-flash+:last-child,${t}.m-em-flash+p:empty+:last-child,${t}.m-em-flash+p.empty+:last-child,${t}.m-em-video+:last-child,${t}.m-em-video+p:empty+:last-child,${t}.m-em-video+p.empty+:last-child`).length>0;return(n||a||o||r)&&["fr","en"].includes(j("site_locale"))?"AR_11":e},ir=(e,t,n,a="")=>J("ads.outbrain","Ads - Post-article - Outbrain",e,t,n,a),sr=(e,t)=>{void 0===window.OBR?le("https://widgets.outbrain.com/outbrain.js",{id:"outbrain-script",defer:""},(()=>{ir("callSdk","Loaded Outbrain SDK"),e.dataset.tmsAdStatus="loaded",ir("callSdk","Initial ad request",{id:t,wrapper:e})})):(OBR.extern.researchWidget(),e.dataset.tmsAdStatus="loaded",ir("callSdk","New ad request after Ajax page changed",{id:t,wrapper:e}))},cr=(e,t)=>{const n=e,a=ce("div","",{class:"OUTBRAIN",id:`tms-ad-outbrain-${Math.random().toString().slice(2)}`,"data-widget-id":t,"data-src":j("canonical"),style:`overflow: hidden;text-align:${N("rtl")?"right":"left"};position:relative;`});return ir("inject","Injected new Outbrain ad injection zone",{id:t,outbrainWrapper:a,parentContent:n}),ae(a,n)},lr=()=>{if(ir("init"),N("article")||N("depeche")||N("edition")||N("live")){const e=rr(),t=ee('[data-tms-ad-status="idle"][data-tms-ad-type="post-article"]')[0],n=Ca("post-article");t&&(t.dataset.tmsAdStatus=n?"disabled":"started",n||(t.dataset.tmsAdProvider="outbrain",cr(t,e),sr(t,e)))}},dr=()=>{Ae((()=>{tt((()=>{St()?lr():Ge((()=>lr()),"outbrain")}))})),je(lr)};var ur={load:dr,localLog:ir,wid:rr,init:lr,inject:cr,callSdk:sr};const pr=(e,t,n,a="")=>J("monitoring.pingdom","Monitoring - Pingdom",e,t,n,a),fr=(()=>{let e;return N("obs")?e="pa-55b5f8c8abe53d9c317560cb":"f24"===j("site_brand")?e="pa-55b5e9f3abe53dac307560cb":"rfi"===j("site_brand")?e="pa-55b5f893abe53d910d7560cb":"mcd"===j("site_brand")?e="pa-5b7195b854acd300160000f4":"fle"===j("site_brand")&&(e="pa-6373a0e29034fb001100151b"),e})(),gr=e=>{le(`https://rum-static.pingdom.net/${e}.js`,{id:"pingdom-script",async:""},(()=>{pr("inject","RUM loaded",{prumId:e})}))},mr=()=>{const e="mcd"===j("site_brand")?5:2;Aa("prum",[0,e],!1)&&(pr("init"),gr(fr))},vr=()=>{Ae((()=>{tt((()=>{mr()}))}))};var _r={load:vr,localLog:pr,id:fr,inject:gr,init:mr};const hr=()=>{_r.load()};var br={load:hr,pingdom:_r};const yr=(e,t,n,a="")=>J("marketing.crm","Marketing - CRM",e,t,n,a),wr=()=>{const e=Ct.getItem("_tms_journey");return JSON.parse(e&&"{"===e.slice(0,1)?e:"{}")},kr=(e="pagesRead",t="")=>{let n=!0;const a=wr();a.evt=a.evt||{},"pagesRead"===e?a.pagesRead=Number.parseInt(a.pagesRead+1||1,10):(a.evt[e]=""===t?0:t,n=!1),a.end=a.end||new Date(6048e5+Date.now()).toUTCString();const o=window.location.host.replace(/([\dA-Za-z-]+\.)*([\dA-Za-z-]+\.)/,"$2");Ct.setItem("_tms_journey",JSON.stringify(a),a.end,"/",o),yr("updateJourney","Updated user journey",a),n&&Se("userJourneyRefreshed",[a])},Cr=()=>{Ae((()=>kr("pagesRead"))),je((()=>kr("pagesRead")))};var Ar={load:Cr,localLog:yr,getJourneyStatus:wr,updateJourney:kr};const Pr=(e,t,n,a="")=>J("marketing.crm.fovEvents","Marketing - CRM - FOV Events",e,t,n,a),xr=[[2,"push_subscription"],[3,"pwa_popin"],[4,"app_banner"]],$r=e=>{const{pagesRead:t,evt:n}=e;xr.forEach((a=>{const o=a[1]in(n||{});t===a[0]?(Pr(`${a[1]}`,`Triggering PubSub event for ${a[1]}`,{el:a,journey:e}),Se(`marketing.${a[1]}`),kr(a[1],1)):o||kr(a[1],0)}))},Sr=()=>{Ue(((...e)=>$r(e[1][0])))};var Er={load:Sr,localLog:Pr,init:$r};const Tr=(e,t,n,a="")=>J("marketing.crm.popinSurvey","Marketing - CRM - Popin Survey",e,t,n,a),Ir=e=>{Tr("showPopin","Sending popin.survey.show event in 3s",e),setTimeout((()=>{Se("popin.survey.show"),setTimeout((()=>{Rn(1,["all"],"[data-root-survey] .a-close-button","action","close","popin","survey"),Rn(1,["all"],"[data-root-survey] .o-popin__btn > a","exit","open-survey","popin","survey")}),300),kr("popinSurvey",1)}),3e3)},Or=e=>{1!==e?.evt?.popinSurvey&&(Aa("popinSurvey",[0,49],!0)?e.pagesRead%25==2&&Ir(e):rt(42,(()=>Ir(e))).resume())},Dr=()=>{Ue(((...e)=>Or(e[1][0])))};var Lr={load:Dr,localLog:Tr,init:Or};const Rr=(e={})=>{Ar.load(),Er.load(),Lr.load(),Object.keys(e).forEach((t=>e[t].load()))};var Mr={load:Rr,common:Ar,fovEvents:Er,popinSurvey:Lr};const jr=(e,t,n,a="")=>J("marketing.crm.batch","Marketing - CRM - Batch",e,t,n,a),Nr=()=>$t("cookies","c:batch")&&$t("create_content_profile","c:batch")&&$t("measure_content_performance","c:batch"),Ur=()=>{if(Nr()){const e=j("content_type"),t=j("site_locale"),n=j("cat1"),a=j("cat2");try{window.batchSDK((o=>{const r="article"===e?"read_article":`visited_${e}`,i=`${n+(["edition","emission"].includes(e)?`|${a}`:"")}|${t}`;o.trackEvent(r,{label:i}),jr("fire","Hit - Page",{event:r,label:i})}))}catch(e){jr("fire","Hit - Page",e,"error")}}else jr("fire","prevented")},Br=()=>{Nr()?(jr("init"),Ur(),je((()=>Ur()))):jr("init","prevented")},Hr=()=>{Ae((()=>{tt((()=>{St()?Br():Ge((()=>Br()),"batch")}))}))};var qr={load:Hr,localLog:jr,checkConsent:Nr,fire:Ur,init:Br};let Fr;const Vr=[],zr=(e,t,n,a="")=>J("marketing.crm.poool","Marketing - CRM - Poool",e,t,n,a),Kr=()=>$t("cookies","c:poool-VyhCit7N")&&$t("create_content_profile","c:poool-VyhCit7N")&&$t("measure_content_performance","c:poool-VyhCit7N"),Wr=()=>{const e={brand:"site_brand",langue:"site_locale",page:"page_name",page_chapter1:"cat1",page_chapter2:"cat2",page_chapter3:"cat3",type_article:"main_media_type",type_de_contenu:"content_type",id_contenu:"content_id",supertag:["supertag","name",!0],id_supertag:["supertag","id",!0],emission:["show","name",!0],id_emission:["show","id",!0],emission_type:["show","genre",!1],tags_thema:["tags","name",!1],ids_tags_thema:["tags","id",!1],tags_auteurs:["authors","name",!1],ids_tags_auteurs:["authors","id",!1],niveau_langue:["language_level","name",!0]},t=[];return Object.keys(e).forEach((n=>{const a=Array.isArray(e[n])?e[n][0]:e[n];let o=j(a);n.startsWith("page")&&(o=decodeURIComponent(o));try{zt(o)||(Array.isArray(e[n])?"name"===e[n][1]&&"string"==typeof o?o.trim().split(/\s*,\s*/).forEach((e=>{t.push(`${n}:${e}`)})):e[n][2]?t.push(`${n}:${o[e[n][1]][0]}`):o[e[n][1]].forEach((e=>{t.push(`${n}:${e}`)})):t.push(`${n}:${o}`))}catch(e){zr("getFilters",`${n} failed`,{e:e},"error")}})),t.push("ppr:"+(N("ppr")?"true":"false")),t},Jr=async e=>{if(Kr()){const t=Wr();try{e||(Vr.forEach((async e=>e.destroy())),Fr.commitPageView()),Vr.push(...await Fr.autoCreate({filters:t})),zr("fire","Hit - Page",{filters:t,elements:Vr,engage:Fr})}catch(e){zr("fire","Hit - Page",e,"error")}}else zr("fire","prevented")},Yr=()=>{Kr()?(zr("init"),le("https://assets.poool.fr/engage.min.js",{id:"poool-engage-script",async:""},(()=>{const e=ae(ce("div","",{class:"tms-poool poool-modal"}),document.body);zr("init","Injected modal wrapper",{modalWrapper:e}),Fr=Engage.init("4gQmMH4sgb4a9GX7hrcIPWTZyGBlIJC7Z0jy2jYO6u0JvVCABDsIlbOSgxFgVDLD"),Fr.config("locale",j("site_locale")),Fr.config("pianoAutoTrackingEnabled",!0),N("ppr")&&Fr.config("debug",!0),Jr(!0),je((()=>Jr(!1))),zr("init","SDK loaded")}))):zr("init","prevented")},Gr=()=>{Ae((()=>{tt((()=>{St()?Yr():Ge((()=>Yr()),"poool")}))}))};var Qr={load:Gr,localLog:zr,checkConsent:Kr,getFilters:Wr,fire:Jr,init:Yr};const Zr="1547077195584530",Xr=!0,ei=(e,t,n,a="")=>J("marketing.pixels.fbPixel","Marketing - Pixels - Facebook Pixel",e,t,n,a),ti=()=>$t("cookies","c:facebook")&&$t("create_ads_profile","c:facebook")&&$t("measure_ad_performance","c:facebook"),ni=()=>{if(ti())if(fbq("track","PageView"),ei("fire","Hit - PageView",{fbq:fbq}),A(j("content_type"),["homepage","section","tag","emission","dossier"])){if("recherche"===j("content_type")){const e=j("page_name").replace("recherche.","");fbq("track","Search",{search_string:e}),ei("fire","Hit - Search",{fbq:fbq,searchString:e})}}else{const e={content_ids:[j("content_id")],content_portal:`${j("site_brand")}_${j("site_locale")}${N("ppr")?"_rec":""}`,content_category:j("cat1"),content_title:j("page_name"),content_type:"product"};fbq("track","ViewContent",e),ei("fire","Hit - ViewContent",{fbq:fbq,metaData:e})}else ei("fire","prevented")},ai=()=>{if("1"===(t().dfbp||"0"))ei("init","Disabled because of QS");else if(ti()){if(window.fbq)return;const e=function e(...t){return e.callMethod?e.callMethod(...t):e.queue.push(...t)};window.fbq=e,window._fbq||(window._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],le("https://connect.facebook.net/en_US/fbevents.js",{id:"fbPixel-script",defer:""},(()=>{fbq.agent=`fov-${j("site_brand")}`,fbq("set","autoConfig",Xr,Zr),fbq("init",Zr),ei("init"),ni(),je((()=>ni()))}))}else ei("init","prevented")},oi=()=>{Ae((()=>{tt((()=>{St()?ai():Ge((()=>ai()),"fbPixel")}))}))};var ri={load:oi,localLog:ei,id:Zr,autoConfig:Xr,checkConsent:ti,init:ai,fire:ni};const ii="p-UA2LVRcV0GQAR",si=()=>`${j("site_brand")}_${j("site_locale")}`,ci=(e,t,n,a="")=>J("marketing.pixels.quantcast","Marketing - Pixels - Quantcast Pixel",e,t,n,a),li=()=>$t("cookies",11)&&$t("create_ads_profile",11)&&$t("measure_ad_performance",11),di=e=>{if(li()){const t={qacct:ii,labels:si()};e||(t.event="refresh"),window._qevents.push(t),ci("fire","Hit - Page",t)}else ci("fire","prevented")},ui=()=>{li()?(window._qevents=window._qevents||[],le("https://secure.quantserve.com/quant.js",{id:"quantcast-script",defer:""},(()=>{ci("init"),di(!0),je((()=>di(!1)))}))):ci("init","prevented")},pi=()=>{Ae((()=>{tt((()=>{St()?ui():Ge((()=>ui()),"quantcast")}))}))};var fi={load:pi,localLog:ci,id:ii,checkConsent:li,label:si,fire:di,init:ui};const gi=(e={},t={})=>{ri.load(),fi.load(),Object.keys(e).forEach((n=>e[n].load(n in t?t[n]:{})))};var mi={load:gi,fbPixel:ri,quantcast:fi};const vi="00518f0950dd1d41ab61ec38c907920b17",_i=(e,t,n,a="")=>J("marketing.pixels.obPixel","Marketing - Pixels - Outbrain Pixel",e,t,n,a),hi=()=>$t("cookies",164)&&$t("create_ads_profile",164)&&$t("measure_ad_performance",164),bi=()=>{hi()?(window.obApi("track","PAGE_VIEW"),_i("fire","Hit - Page")):_i("fire","prevented")},yi=()=>{if(hi()){if(window.obApi){const e=e=>"[object Array]"===Object.prototype.toString.call(e)?e:[e];return void(window.obApi.marketerId=[...e(window.obApi.marketerId),...e(vi)])}const e=()=>"dispatch"in window.obApi?window.obApi.dispatch(...arguments):window.obApi.queue.push(arguments);e.version="1.1",e.loaded=!0,e.marketerId=vi,e.queue=[],window.obApi=e,le("https://amplify.outbrain.com/cp/obtp.js",{id:"outbrain-pixel-script",defer:""},(()=>{_i("init"),bi(),je((()=>bi()))}))}else _i("init","prevented")},wi=()=>{Ae((()=>{tt((()=>{St()?yi():Ge((()=>yi()),"obPixel")}))}))};var ki={load:wi,localLog:_i,id:vi,checkConsent:hi,fire:bi,init:yi};let Ci;const Ai=(e,t,n,a="")=>J("marketing.pixels.nonliPixel","Marketing - Pixels - Nonli Pixel",e,t,n,a),Pi=()=>{if(/(article|edition|depeche|urgent)/gi.test(j("content_type"))||"infographies"===j("cat1")){if(window._nli||void 0===Ci)return;const e=[];e.loaded=!0,e.push(["brand",Ci[0]]),window._nli=e,le(`https://go.${Ci[1]}/sdk.js`,{id:"nonli-pixel-script",defer:""},(()=>{Ai("init","Init",{settings:Ci})}))}},xi=e=>{Ci=e,Ae((()=>{tt((()=>{St()?(Pi(),je((()=>Pi()))):Ge((()=>{Pi(),je((()=>Pi()))}),"nonliPixel")}))}))};var $i={load:xi,localLog:Ai,init:Pi};let Si;const Ei=()=>Si,Ti=(e,t,n,a="")=>J("marketing.pixels.ownpage","Marketing - Pixels - Ownpage Pixel",e,t,n,a),Ii=()=>$t("cookies","c:ownpage")&&$t("create_content_profile","c:ownpage")&&$t("measure_content_performance","c:ownpage"),Oi=()=>{Ii()?(window.Ownpage.trackPage(Si),Ti("fire","Hit - Page",{id:Si})):Ti("fire","prevented")},Di=()=>{Ii()?le("https://script.ownpage.fr/v1/ownpage.js",{id:"ownpage-pixel-script",defer:""},(()=>{Ti("init","Init",{id:Si}),Oi(),je((()=>Oi()))})):Ti("init","prevented")},Li=e=>{Si=e,Ae((()=>{tt((()=>{St()?Di():Ge((()=>Di()),"ownpage")}))}))};var Ri={load:Li,localLog:Ti,getId:Ei,checkConsent:Ii,fire:Oi,init:Di};let Mi=!1;const ji=()=>N("f24")?"PUB_9432":"PUB_7718";window.teads_analytics=window.teads_analytics||{},window.teads_analytics.analytics_tag_id=ji(),window.teads_analytics.share=window.teads_analytics.share||(()=>{(window.teads_analytics.shared_data=window.teads_analytics.shared_data||[]).push(arguments)});const Ni=(e,t,n,a="")=>J("marketing.pixels.teadsAnalytics","Marketing - Pixels - Teads Analytics",e,t,n,a),Ui=()=>$t("cookies",132)&&$t("create_ads_profile",132)&&$t("measure_ad_performance",132)&&$t("cookies","c:krux-digital")&&$t("create_ads_profile","c:krux-digital"),Bi=()=>{Ui()?Mi||le("https://a.teads.tv/analytics/tag.js",{id:"teads-analytics-script",defer:""},(()=>{Ni("init","",{id:ji()}),Mi=!0})):Ni("init","prevented")},Hi=()=>{Ae((()=>{tt((()=>{St()?Bi():Ge((()=>Bi()),"teads-analytics")}))}))};var qi={load:Hi,localLog:Ni,initialized:Mi,id:ji,init:Bi,checkConsent:Ui};const Fi=()=>{if("1"===(t().dp||"0")){const e=j("deeplink");alert(e),W("tms.tags.special.deeplink.init","Special - Deeplink - Shouted deeplink",e)}},Vi=()=>{Ae(Fi)};var zi={load:Vi,init:Fi};window.didomiEventListeners=window.didomiEventListeners||[];const Ki=(e,t,n,a="")=>J("special.refusalBar","Special - Refusal bar",e,t,n,a),Wi=e=>{const t={main:"757575",tpHover:"999",bg:"fff",bgRgba:"255,255,255,.9",font:"222",end:N("rtl")?"left":"right"};A(j("site_brand"),["f24","obs"])&&"fa"!==j("site_locale")?(t.main="00a7e3",t.tpHover="03c4ff"):(j("site_brand").includes("rfi")||A(j("site_brand"),["mcd","obs"]))&&(t.main="e20000",t.tpHover="cc0000");const n=`.refusal-bar{font-family: ${"km"===j("site_locale")?"'NotoSansKhmer','Noto Sans Khmer',":""}Roboto, Helvetica, Arial, Verdana, sans-serif;font-style:normal;font-weight:400;font-size:15px;line-height:1.25;width:100%;position:fixed;bottom:0;background:#${t.bg};background:rgba(${t.bgRgba});backdrop-filter:blur(4px);z-index:999;text-align:center;box-shadow: 0 0 10px rgba(0,0,0,0.25);transition: all ease .4s;}\n.refusal-bar.ready,.refusal-bar.done{bottom:-240px;box-shadow: none;}\n.refusal-bar.video-displayed { top: 0; z-index:999999999999; }\n.refusal-bar  a,.refusal-bar a:active,.refusal-bar a:link,.refusal-bar a:visited{-moz-transition:color .3s ease;transition:color .3s ease;text-decoration:none;color:#${t.main}}\n.refusal-bar a:hover{color:#${t.font};}\n.refusal-bar .refusal-bar_btn{display:inline-block;border-radius:4px;padding:6px 8px;margin-inline-start:5px;line-height:20px;text-indent:0;color:#fff;text-decoration:none;text-align:center;cursor:pointer;-moz-transition:all .3s ease;transition:all .3s ease;background-color:#${t.main};-moz-box-sizing:border-box;box-sizing:border-box;${"infomigrants"===j("site_brand")?`border:1px solid #${t.main};`:""}}\n.refusal-bar .refusal-bar_btn:hover{background-color:#${t.tpHover};}\n.refusal-bar .refusal-bar_inner {position:relative;display:block;padding:12px 0;max-width:980px;margin:0 auto;transition:all .3s;}\n.u-audio-player-visible .refusal-bar .refusal-bar_inner{margin-bottom:95px;} \n.refusal-bar .refusal-bar_hide, .refusal-bar .refusal-bar_hide-video{ position:absolute; top:3px; ${t.end}:6px; font-size:24px; font-weight:normal; color:#BFBFBF; cursor:pointer;}\n.refusal-bar .refusal-bar_hide-video{ position:absolute; top:0; ${t.end}:8px;color: #FFF;text-shadow: 0px 1px 3px rgba(0, 0, 0, .75);}\n.refusal-bar p {margin:0; padding: 0; font-size: 15px; line-height: 1.25; color:#${t.font};}\n.refusal-bar ul {margin:4px 0 10px; padding-inline-start:24px;list-style-type: disc;}\n.refusal-bar li {margin-bottom:3px;} .refusal-bar svg{color:#fff;width: 20px;height: 20px;margin-inline-end: 5px;vertical-align: -5px;line-height: 20px;}\n.refusal-bar .refusal-bar_video { display:none; justify-content:center; align-items: center; position: fixed; width:100%; height:100%;}\n.refusal-bar .refusal-bar_video-player { position:relative; max-width: 980px; }.refusal-bar .refusal-bar_video-player video{ width:100% }\n.refusal-bar.video-displayed .refusal-bar_video { display:flex; }.refusal-bar.video-displayed .refusal-bar_inner { display:none; }\n.refusal-bar .refusal-bar_first {width:100%; text-align:start; padding-inline-end:24px; }\n.refusal-bar .refusal-bar_last {width:100%; display:flex; flex-direction:row; justify-content:flex-end; align-items: center; margin-top: 8px;}\nhtml[dir=rtl] .refusal-bar svg {direction:rtl;} html[dir=rtl] .refusal-bar, html[dir=rtl] .refusal-bar p, html[dir=rtl] .refusal-bar span{font-family: Arial, Verdana, sans-serif;font-size:18px;line-height:21px;}\n@media screen and (max-width: 1024px) {.refusal-bar .refusal-bar_inner{padding:12px 10px;margin-bottom:60px;}\n.u-audio-player-visible .refusal-bar .refusal-bar_inner{margin-bottom:140px;}.refusal-bar .refusal-bar_first {padding-inline-end:14px;}}`;pe(n);const a=j("site_brand").replace("obs","f24"),o=ce("div",`<div class="refusal-bar ready"><div class="refusal-bar_inner"><div class="refusal-bar_first">\n<p><span><strong>${e[0]}</strong><ul><li>${e[1]}</li><li>${e[2]}</li><li>${e[3]}</li></ul></span></p></div><div class="refusal-bar_last"><span class="refusal-bar_btn refusal-bar_play-video"><svg xmlns="http://www.w3.org/2000/svg" viewBox="-372.5 -3464 28 28"><g transform="translate(-372.5 -3464)" stroke="currentColor" stroke-width="1" fill="none"><circle cx="14" cy="14" r="13"></circle></g><path d="M-361.587-3456v12.356l9.268-6.178z"></path></svg>${e[4]}</span>\n<span class="refusal-bar_btn refusal-bar_change">${e[5]}</span><span class="refusal-bar_hide">&times;</span></div></div><div class="refusal-bar_video"><div class="refusal-bar_video-player"><video controls controlslist="nodownload noremoteplayback disablePictureInPicture" playsinline="1" preload="none" poster="https://static.france24.com/rgpd/poster.png"><source src="https://vod-france24.akamaized.net/rgpd/${a}/${"mcd"===a?"ar":e[6]}.mp4" type="video/mp4"></video><span class="refusal-bar_hide-video">&times;</span></div></div></div>`);ae(o,document.body),Ki("inject","Injected refusal bar at the end of page");const r=o.children[0];setTimeout((()=>r.classList.remove("ready")),350),ee(".refusal-bar_play-video")[0].addEventListener("click",(()=>{r.classList.add("video-displayed"),ee("video",r)[0].play(),Ki("inject","Clicked play video")})),ee(".refusal-bar_hide-video")[0].addEventListener("click",(()=>{r.classList.remove("video-displayed"),ee("video",r)[0].pause(),Ki("inject","Clicked close video")})),ee(".refusal-bar_change")[0].addEventListener("click",(()=>{r.classList.add("done"),setTimeout((()=>se(r)),500),window.Didomi.notice.show(),Ki("inject","Clicked change")})),ee(".refusal-bar_hide")[0].addEventListener("click",(()=>{r.classList.add("done"),setTimeout((()=>se(r)),500),Ki("inject","Closed bar")}))},Ji=e=>{window.didomiEventListeners.push({event:"notice.clickdisagree",listener(){Wi(e)}})},Yi=e=>{Ae((()=>Ji(e)))};var Gi={load:Yi,localLog:Ki,init:Ji,inject:Wi};const Qi=["Because of your choice:","Articles will no longer be able to display external content such as YouTube videos, posts from X (Twitter) and Instagram pictures.","Cookies not linked to your personal data will be created to allow the website to run.","Lower quality ads may be displayed.","Learn why","Change my choice","en"];dt(gt),Y(!0),je((()=>Y(!1)));const Zi={pianoFovClicks:Un,pianoFovAv:ra},Xi={initialZones:Lo,arena:Yo,inread:Qo},es={batch:qr,poool:Qr},ts={obPixel:ki,nonli:$i,ownpage:Ri,teadsAnalytics:qi};sn.load([588393,588365],Zi),ga.load(),wa.load(),Ia.load(),ko.load(Xi),ur.load(),br.load(),Mr.load(es),mi.load(ts,{nonli:["BNLI-1352","france24.com"],ownpage:"45920476d75a41b49d2f5b2db6ceb9b0"}),zi.load(),Gi.load(Qi);const ns={stats:{piano:{...sn,...Zi},chartbeat:ga},special:{deeplink:zi,refusalBar:Gi},ads:{report:wa,sponsoring:Ia,gam:{...ko,...Xi},youtube:or,outbrain:ur},inread:Qo,monitoring:br,marketing:{crm:{...Mr,...es},pixels:{...mi,...ts}}};return e.context=Pa,e.cookies=Ct,e.data=ut,e.dom=me,e.event=st,e.gdpr=Ot,e.is=N,e.log=W,e.str=E,e.tags=ns,e.var=j,Object.defineProperty(e,"__esModule",{value:!0}),e}({});

</script>

</body>
</html>
