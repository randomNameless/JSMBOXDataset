<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>compass.html</title>
</head>
<body>
<script>function g(a){return function(){return a}}function _getAidFromFirstCookie(a){for(var b=document.cookie.split("; "),c=0;c<b.length;c++){var d=b[c].split("="),e=d[0],f=d[1];if(e===a)return f}return null}function _createRandomAid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("").map(function(a){switch(a){case"x":return Math.floor(16*Math.random()).toString(16);case"y":return(Math.floor(4*Math.random())+8).toString(16);default:return a}}).join("")}function _setAidInto1stCookie(a,b,c,d){document.cookie=_createCookie(a,b,c,d)}function _createCookie(a,b,c,d){return a+"="+b+"; domain="+c+"; path=/; max-age="+d}function _getEtldPlusOneDomain(){for(var a=location.hostname.split("."),b=10,c="mtcn",d="mtcnv",e=-2;e>=-a.length;e--){var f=a.slice(e).join(".");_setAidInto1stCookie(c,d,f,b);var g=_getAidFromFirstCookie(c);if(null!=g)return _setAidInto1stCookie(c,d,f,0),f}}function _receiveMessage(a,b,c){if(a.origin===b.thirdParty.cacheUrl){var d=null==a.data?void 0:a.data.tr;d&&0!==d.length&&this._set1stCookieFromThirdCookie(b.cookieName,d,c)}}function _loadThirdCookie(a,b,c){_getAidFromThirdCookie(a.thirdParty.cookieUrl,c),window.addEventListener("message",function(c){_receiveMessage(c,a,b)})}function _getAidFromThirdCookie(a,b){var c=b.createElement("iframe");c.width="1",c.height="1",c.frameborder=0,c.setAttribute("style","position:absolute; top:-9999px; left: -9999px; border-style: none"),c.id="universe_3rd_cookie_tr",c.src=a,b.body.appendChild(c)}function _set1stCookieFromThirdCookie(a,b,c){if(!_isInvalidAid(b)){var d=_getAidFromFirstCookie(a);d!=b&&_setAidInto1stCookie(a,b,_getEtldPlusOneDomain(),c)}}function _isInvalidAid(a){return!a||a.length>=80}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}!function(){function h(a){try{if(navigator.plugins&&navigator.plugins.length)for(var b=0;b<navigator.plugins.length;b++){var c=navigator.plugins[b];if(c.name.indexOf(a)>=0)return c.name+(c.description?"|"+c.description:"")}}catch(d){}return""}function x(b){var c=new Date,a=new Date,f=[g("TF1"),g("020"),function(){return ScriptEngineMajorVersion()},function(){return ScriptEngineMinorVersion()},function(){return ScriptEngineBuildVersion()},function(){return i("{7790769C-0471-11D2-AF11-00C04FA35D02}")},function(){return i("{89820200-ECBD-11CF-8B85-00AA005B4340}")},function(){return i("{283807B5-2C60-11D0-A31D-00AA00B92C03}")},function(){return i("{4F216970-C90C-11D1-B5C7-0000F8051515}")},function(){return i("{44BBA848-CC51-11CF-AAFA-00AA00B6015C}")},function(){return i("{9381D8F2-0288-11D0-9501-00AA00B911A5}")},function(){return i("{4F216970-C90C-11D1-B5C7-0000F8051515}")},function(){return i("{5A8D6EE0-3E18-11D0-821E-444553540000}")},function(){return i("{89820200-ECBD-11CF-8B85-00AA005B4383}")},function(){return i("{08B0E5C0-4FCB-11CF-AAA5-00401C608555}")},function(){return i("{45EA75A0-A269-11D1-B5BF-0000F8051515}")},function(){return i("{DE5AED00-A4BF-11D1-9948-00C04F98BBC9}")},function(){return i("{22D6F312-B0F6-11D0-94AB-0080C74C7E95}")},function(){return i("{44BBA842-CC51-11CF-AAFA-00AA00B6015B}")},function(){return i("{3AF36230-A269-11D1-B5BF-0000F8051515}")},function(){return i("{44BBA840-CC51-11CF-AAFA-00AA00B6015C}")},function(){return i("{CC2A9BA0-3BDD-11D0-821E-444553540000}")},function(){return i("{08B0E5C0-4FCB-11CF-AAA5-00401C608500}")},function(){return eval("navigator.appCodeName")},function(){return eval("navigator.appName")},function(){return eval("navigator.appVersion")},function(){return t(["navigator.productSub","navigator.appMinorVersion"])},function(){return eval("navigator.browserLanguage")},function(){return eval("navigator.cookieEnabled")},function(){return t(["navigator.oscpu","navigator.cpuClass"])},function(){return eval("navigator.onLine")},function(){return eval("navigator.platform")},function(){return eval("navigator.systemLanguage")},function(){return eval("navigator.userAgent")},function(){return t(["navigator.language","navigator.userLanguage"])},function(){return eval("document.defaultCharset")},function(){return eval("document.domain")},function(){return eval("screen.deviceXDPI")},function(){return eval("screen.deviceYDPI")},function(){return eval("screen.fontSmoothingEnabled")},function(){return eval("screen.updateInterval")},function(){return 0!==Math.abs(o-p)},function(){return y(c)},g("@UTC@"),function(){var a=0;return a=0,y(c)&&(a=Math.abs(o-p)),a=-(c.getTimezoneOffset()+a)/60},function(){return new Date(2005,5,7,21,33,44,888).toLocaleString()},function(){return eval("screen.width")},function(){return eval("screen.height")},function(){return m.Acrobat},function(){return m.Flash},function(){return m.QuickTime},function(){return m["Java Plug-in"]},function(){return m.Director},function(){return m.Office},g("@CT@"),function(){return o},function(){return p},function(){return c.toLocaleString()},function(){return eval("screen.colorDepth")},function(){return eval("window.screen.availWidth")},function(){return eval("window.screen.availHeight")},function(){return eval("window.screen.availLeft")},function(){return eval("window.screen.availTop")},function(){return h("Acrobat")},function(){return h("Adobe SVG")},function(){return h("Authorware")},function(){return h("Citrix ICA")},function(){return h("Director")},function(){return h("Flash")},function(){return h("MapGuide")},function(){return h("MetaStream")},function(){return h("PDFViewer")},function(){return h("QuickTime")},function(){return h("RealOne")},function(){return h("RealPlayer Enterprise")},function(){return h("RealPlayer Plugin")},function(){return h("Seagate Software Report")},function(){return h("Silverlight")},function(){return h("Windows Media")},function(){return h("iPIX")},function(){return h("nppdf.so")},function(){var a=document.createElement("span");a.innerHTML="&nbsp;",a.style.position="absolute",a.style.left="-9999px",document.body.appendChild(a);var b=a.offsetHeight;return document.body.removeChild(a),b},g(""),g(""),g(""),g(""),g(""),g(""),g(""),g(""),g(""),g(""),g(""),g(""),g(""),g(""),g("5.6.0-0"),g("")];B();for(var e="",d=0;d<f.length;d++){b&&(e+=u(f[d].toString(),'"',"'",!0),e+="=");var j;try{j=f[d](this)}catch(l){j=""}e+=b?j:escape(j),e+=";",b&&(e+="\\n")}return e=u(e,escape("@UTC@"),(new Date).getTime()),e=u(e,escape("@CT@"),(new Date).getTime()-a.getTime()),window.f1b5?window.f1b5(e):e}function u(a,b,c,d){"boolean"!=typeof d&&(d=!1);for(var e,f=!0;(e=a.indexOf(b))>=0&&(d||f);)a=a.substr(0,e)+c+a.substr(e+b.length),f=!1;return a}function y(a){var b=Math.min(o,p);return 0!==Math.abs(o-p)&&a.getTimezoneOffset()===b}function B(){for(var a=["Acrobat","Flash","QuickTime","Java Plug-in","Director","Office"],b=0;b<a.length;b++){var c=a[b],d=m,e=c,f=c;c="";try{if(navigator.plugins&&navigator.plugins.length){var g=RegExp(f+".* ([0-9._]+)");for(f=0;f<navigator.plugins.length;f++){var h=g.exec(navigator.plugins[f].name);null===h&&(h=g.exec(navigator.plugins[f].description)),h&&(c=h[1])}}else if(window.ActiveXObject&&v[f])try{var i=new ActiveXObject(v[f][0]);c=v[f][1](i)}catch(j){c=""}}catch(k){c=k.message}d[e]=c}}function t(b){for(var c=0;c<b.length;c++)try{var a=eval(b[c]);if(a)return a}catch(f){}return""}function i(a){var b="";try{"undefined"!=typeof n.a.getComponentVersion&&(b=n.a.getComponentVersion(a,"ComponentID"))}catch(c){a=c.message.length,a=a>40?40:a,b=escape(c.message.substr(0,a))}return b}function C(a){function b(a){for(d=d<<a[0]|a[1],e+=a[0];e>=6;)a=d>>e-6&63,c+=r.substring(a,a+1),e-=6,d^=a<<e}var c="",d=0,e=0;b([6,(7&a.length)<<3|0]),b([6,56&a.length|1]);for(var f=0;f<a.length;f++){if(void 0==w[a.charCodeAt(f)])return;b(w[a.charCodeAt(f)])}return b(w[0]),e>0&&b([6-e,0]),c}var n={},o=new Date(2005,0,15).getTimezoneOffset(),p=new Date(2005,6,15).getTimezoneOffset(),m=[],v={Flash:["ShockwaveFlash.ShockwaveFlash",function(a){return a.getVariable("$version")}],Director:["SWCtl.SWCtl",function(a){return a.ShockwaveVersion("")}]};try{n.a=document.createElement("span"),"undefined"!=typeof n.a.addBehavior&&n.a.addBehavior("#default#clientCaps")}catch(D){}m={};var w={1:[4,15],110:[8,239],74:[8,238],57:[7,118],56:[7,117],71:[8,233],25:[8,232],101:[5,28],104:[7,111],4:[7,110],105:[6,54],5:[7,107],109:[7,106],103:[9,423],82:[9,422],26:[8,210],6:[7,104],46:[6,51],97:[6,50],111:[6,49],7:[7,97],45:[7,96],59:[5,23],15:[7,91],11:[8,181],72:[8,180],27:[8,179],28:[8,178],16:[7,88],88:[10,703],113:[11,1405],89:[12,2809],107:[13,5617],90:[14,11233],42:[15,22465],64:[16,44929],0:[16,44928],81:[9,350],29:[8,174],118:[8,173],30:[8,172],98:[8,171],12:[8,170],99:[7,84],117:[6,41],112:[6,40],102:[9,319],68:[9,318],31:[8,158],100:[7,78],84:[6,38],55:[6,37],17:[7,73],8:[7,72],9:[7,71],77:[7,70],18:[7,69],65:[7,68],48:[6,33],116:[6,32],10:[7,63],121:[8,125],78:[8,124],80:[7,61],69:[7,60],119:[7,59],13:[8,117],79:[8,116],19:[7,57],67:[7,56],114:[6,27],83:[6,26],115:[6,25],14:[6,24],122:[8,95],95:[8,94],76:[7,46],24:[7,45],37:[7,44],50:[5,10],51:[5,9],108:[6,17],22:[7,33],120:[8,65],66:[8,64],21:[7,31],106:[7,30],47:[6,14],53:[5,6],49:[5,5],86:[8,39],85:[8,38],23:[7,18],75:[7,17],20:[7,16],2:[5,3],73:[8,23],43:[9,45],87:[9,44],70:[7,10],3:[6,4],52:[5,1],54:[5,0]},A=["%20",";;;","%3B","%2C","und","fin","ed;","%28","%29","%3A","/53","ike","Web","0;",".0","e;","on","il","ck","01","in","Mo","fa","00","32","la",".1","ri","it","%u","le"],r=".0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";window.f1b5=function(a){for(var b=a,c=0;A[c];c++)b=b.split(A[c]).join(String.fromCharCode(c+1));if(b=C(b),void 0==b)return a;c=65535;for(var d=0;d<a.length;d++)c=65535&(c>>>8|c<<8),c^=255&a.charCodeAt(d),c^=(255&c)>>4,c^=c<<12&65535,c^=(255&c)<<5&65535;return c&=65535,a="",a+=r.charAt(c>>>12),a+=r.charAt(c>>>6&63),a+=r.charAt(63&c),b+=a},n.collect=function(a){try{if(!a)return x();var b;a:{var c;try{c=document.getElementById(a)}catch(d){}if(null===c||"undefined"==typeof c)try{c=document.getElementsByName(a)[0]}catch(e){}if(null===c||"undefined"==typeof c)for(var f=0;f<document.forms.length;f++)for(var g=document.forms[f],h=0;h<g.elements.length;h++){var i=g[h];if(i.name===a||i.id===a){b=i;break a}}b=c}if(null!==b)try{b.value=x()}catch(j){b.value=escape(j.message)}}catch(k){}},window.fortyone=n;var s=navigator.userAgent.toLowerCase();"Gecko"===navigator.product&&parseInt(s.substring(s.indexOf("rv:")+3,s.indexOf(")",s.indexOf("rv:")+3)).split(".")[0])<=2&&window.fortyone.collect()}();var microadOverlayExtension=microadOverlayExtension||{};microadOverlayExtension.Utility={getAndroidVersion:function(){"use strict";var a=0,b=navigator.userAgent;return b.indexOf("Android")>0&&(a=parseFloat(b.slice(b.indexOf("Android")+8))),a},getScreenHeight:function(){"use strict";var a=Math.max.apply(null,[document.body.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.documentElement.clientHeight]);return a},getScreenWidth:function(){"use strict";var a=Math.max.apply(null,[document.body.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.documentElement.clientWidth]);return a},setEvent:function(a,b){"use strict";var c;try{var d={bubbles:!0,cancelable:!0};c=new Event(b,d)}catch(e){c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0)}a.dispatchEvent(c)},getPresetStyleTransform:function(a){"use strict";var b="",c="",d={},e=this.getCssPropertyTransform(),f=window.getComputedStyle(a,null),g=/matrix\(\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*\,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*\)/;if("none"!==f[e]){var h=f[e].match(g).slice(1),i=parseFloat(h[0],10),j=parseFloat(h[1],10);b=Math.sqrt(i*i+j*j),c=" scale("+b+")"}return d={transform:c,scale:b}},getCssPropertyTransform:function(){"use strict";var a="",b=document.body,c=navigator.userAgent.toLowerCase();return c.indexOf("firefox")===-1&&microadOverlayExtension.Utility.getAndroidVersion()>=4&&microadOverlayExtension.Utility.getAndroidVersion()<5?a="-webkit-transform":"transform"in b.style?a="transform":"-moz-transform"in b.style?a="-moz-transform":"-webkit-transform"in b.style&&(a="-webkit-transform"),a},getDeviceTouchEvent:function(){"use strict";var a={Touch:"undefined"!=typeof document.ontouchstart,Pointer:window.navigator.pointerEnabled,MSPoniter:window.navigator.msPointerEnabled},b={touchstart:a.Pointer?"pointerdown":a.MSPointer?"MSPointerDown":a.Touch?"touchstart":"mousedown",touchmove:a.Pointer?"pointermove":a.MSPointer?"MSPointerMove":a.Touch?"touchmove":"mousemove",touchend:a.Pointer?"pointerup":a.MSPointer?"MSPointerUp":a.Touch?"touchend":"mouseup"};return b}},microadOverlayExtension.Initialize=function(){"use strict";this._initialize.apply(this,arguments)},microadOverlayExtension.Initialize.prototype._initialize=function(a,b,c){"use strict";if("object"!=typeof a||"object"!=typeof b||"object"!=typeof c)throw new TypeError;this._element=a?a:"";var d=b?b:{},e=c?c:{};e.overlay&&(this._overlay=e.overlay,this._displayType="overlay",this._displayPosition=d.displayPosition||"bottom",this._animation=d.animation||"",this._animationMS=d.animationMS||1e3,this._animationEasing=d.animationEasing||"ease",this._startPosY=d.startPosY||"",this._animationInstance=null,this._displayInScrolling="undefined"!=typeof d.displayInScrolling?d.displayInScrolling:1,this._reDisplayType="undefined"!=typeof d.reDisplayType?d.reDisplayType:0,this._rotationSec=d.rotationSec||null,this._bandHeight=d.bandHeight||null,this._bandBgColor=d.bandBgColor||null,this._bandString=d.bandString||null,this._bandFontColor=d.bandFontColor||"#ffffff",this._iframe=this._element.getElementsByTagName("iframe")[0],this._iframe&&(this._loadTimer=null,this._waitLoadMaxMS=500,this._waitIframeJsMS=500,this._watchDocumentLoad()))},microadOverlayExtension.Initialize.prototype.stop=function(){this._displayInstance&&this._displayInstance.stop(),this._animationInstance&&this._animationInstance.stop()},microadOverlayExtension.Initialize.prototype._watchDocumentLoad=function(){"use strict";var a=this;this._hide(),this._loadTimer||(this._loadTimer=new Date);var b=new Date-this._loadTimer;return("complete"!==this._iframe.contentDocument.readyState||"complete"!==document.readyState)&&b<this._waitLoadMaxMS?void setTimeout(function(){a._watchDocumentLoad()},100):void setTimeout(function(){a._show(),a._bandHeight&&a._band(),a._startAnimation(),a._display()},this._waitIframeJsMS)},microadOverlayExtension.Initialize.prototype._startAnimation=function(){"use strict";this._animationInstance=new microadOverlayExtension.Animation(this._element,this._animation,this._animationMS,this._animationEasing,this._startPosY,this._overlay)},microadOverlayExtension.Initialize.prototype._display=function(){"use strict";this._displayInstance=new microadOverlayExtension.Display(this._element,this._displayInScrolling,this._reDisplayType,this._overlay)},microadOverlayExtension.Initialize.prototype._band=function(){"use strict";this._bandInstance=new microadOverlayExtension.Band(this._element,this._bandHeight,this._bandBgColor,this._bandString,this._bandFontColor)},microadOverlayExtension.Initialize.prototype.restart=function(a){"use strict";this._animationInstance.restart(a)},microadOverlayExtension.Initialize.prototype._show=function(){"use strict";this._element.style.left="50%"},microadOverlayExtension.Initialize.prototype._hide=function(){"use strict";this._element.style.left="-99999px"},microadOverlayExtension.Display=function(){"use strict";this._initialize.apply(this,arguments)},microadOverlayExtension.Display.prototype._initialize=function(a,b,c,d){"use strict";this._element=a,this._displayInScrolling=b,this._reDisplayType=c,this._overlay=d,this._adjustFooterIntervalId=null,this._scrollFadeIntervalId=null,this._executeFunction()},microadOverlayExtension.Display.prototype.stop=function(){this._adjustFooterIntervalId&&clearInterval(this._adjustFooterIntervalId),this._scrollFadeIntervalId&&clearInterval(this._scrollFadeIntervalId),this._adjustFooterIntervalId=null,this._scrollFadeIntervalId=null},microadOverlayExtension.Display.prototype._executeFunction=function(){"use strict";var a=this;0===this._displayInScrolling?this._onScrollEvent():1===this._displayInScrolling&&this._element.addEventListener("microadOverlayExtensionTransitionEnd",function(){a._onIntervalEvent()},!1),this._adjustFooterIntervalId=setInterval(function(){microadOverlayExtension.Utility.setEvent(a._element,"microadOverlayExtensionAdjustFooter")},150)},microadOverlayExtension.Display.prototype._onScrollEvent=function(){"use strict";var a=this,b=!1,c=null,d=null;this._overlay.addEventListener(window,"scroll",function(){clearTimeout(c),clearTimeout(d),b||microadOverlayExtension.Utility.setEvent(a._element,"microadOverlayExtensionScrollStartElementHide"),b=!0,c=setTimeout(function(){if(0===a._reDisplayType){var c;d=setTimeout(function(){c=a._isScrollToBottom()?"microadOverlayExtensionScrollEndReAnimationTop":"microadOverlayExtensionScrollEndReAnimationBottom",c=a._isScrollable()?c:"microadOverlayExtensionScrollEndReAnimationBottom",microadOverlayExtension.Utility.setEvent(a._element,c)},300)}b=!1},400)},!1)},microadOverlayExtension.Display.prototype._onIntervalEvent=function(){"use strict";var a=this,b=null;this._scrollFadeIntervalId=setInterval(function(){if(a._isScrollable()){var c=a._isScrollToBottom()?"microadOverlayExtensionScrollEndFadeInTop":"microadOverlayExtensionScrollEndFadeInBottom";b!==c&&(b=c,microadOverlayExtension.Utility.setEvent(a._element,c))}},150)},microadOverlayExtension.Display.prototype._isScrollToBottom=function(){"use strict";var a=window.pageYOffset+window.innerHeight,b=microadOverlayExtension.Utility.getScreenHeight();return a>b-2},microadOverlayExtension.Display.prototype._isScrollable=function(){"use strict";var a=window.innerHeight,b=microadOverlayExtension.Utility.getScreenHeight();return a!==b},microadOverlayExtension.Band=function(){"use strict";this._initialize.apply(this,arguments)},microadOverlayExtension.Band.prototype._initialize=function(a,b,c,d,e){"use strict";this._element=a,this._elementHeight=this._element.offsetHeight,this._iframe=this._element.getElementsByTagName("iframe")[0],this._iframeHeight=this._iframe.offsetHeight,this._bandHeight=b,this._bandBgColor=c,this._bandString=d,this._bandFontColor=e,this._addHeightElements(),this._createBandElement()},microadOverlayExtension.Band.prototype._addHeightElements=function(){"use strict";this._element.style.height=this._elementHeight+this._bandHeight+"px",this._iframe.setAttribute("height",this._iframeHeight+this._bandHeight)},microadOverlayExtension.Band.prototype._createBandElement=function(){"use strict";var a=document.createElement("div");a.style.display="table",a.style.position="absolute",a.style.top=this._elementHeight+"px",a.style.width="100%",a.style.height=this._bandHeight+"px",this._bandBgColor&&(a.style.backgroundColor=this._bandBgColor),a.style.color=this._bandFontColor;var b=document.createElement("div");b.style.display="table-cell",b.style.textAlign="center",b.style.verticalAlign="middle",b.style.fontSize="12px",b.style.lineHeight="1.2",b.style.fontFamily="sans-serif",this._bandString&&(b.innerHTML=this._bandString),a.appendChild(b),this._iframe.contentWindow.document.body.appendChild(a)},microadOverlayExtension.Animation=function(){"use strict";this._initialize.apply(this,arguments)},microadOverlayExtension.Animation.prototype._initialize=function(a,b,c,d,e,f){"use strict";this._element=a,this._elementWidth=a.offsetWidth?a.offsetWidth:0,this._elementHeight=a.offsetHeight?a.offsetHeight:0,this._elementMarginLeft=a.style.marginLeft?a.style.marginLeft.split("px")[0]:0,this._iframe=a.getElementsByTagName("iframe")[0],this._duration=c,this._easing=d,this._positionYSource=e,this._positionYDefault=e?this._calculatePositionY(e):0,this._positionY=this._positionYDefault,this._timerDelay=150,this._timerEventEnd=null,this._type=b,this._randomDelayMin=1e3,this._randomDelayMax=3e3,this._randomDelay=0,this._shineCanvasWrap=null,this._timers=[],this._adPosition=null,this._isAnimating=!1,this._isSwipeOutMode=!1,this._isSwipeOutCalled=!1,this._swipeOutDirection=null,this._isSwipeOuted=!1,this._overlay=f,this._startAnimation(),this._watchScrollEvent()},microadOverlayExtension.Animation.prototype.stop=function(){},microadOverlayExtension.Animation.prototype._startAnimation=function(){"use strict";this._isAnimating=!0,this._randomDelay=this._calculateRandomDelay(),this._adPosition=this._getAdPosition(),this._positionY="bottom"===this._adPosition?this._positionYDefault:0;var a="bottom"===this._adPosition?"50% 100%":"50% 0";this._iframe.style.MozTransformOrigin=a,this._iframe.style.webkitTransformOrigin=a,this._iframe.style.transformOrigin=a,this._type&&this._executeFunction(),!this._positionY||this._type.match(/bound/)||this._type.match(/slide_t/)||this._type.match(/slide_tr/)||this._type.match(/slide_b/)||this._type.match(/slide_br/)||this._type.match(/slide_away_t/)||this._type.match(/slide_away_tr/)||this._type.match(/slide_away_b/)||this._type.match(/slide_away_br/)||this._move(),this._setTimerEventEnd()},microadOverlayExtension.Animation.prototype._executeFunction=function(){"use strict";this._type=this._type.replace(/\s+/g,"");for(var a=this._type.split(","),b=new Array(14),c=0,d=a.length;c<d;c++)switch(a[c]){case"fade":b[0]=a[c];break;case"shake":b[1]=a[c];break;case"shine":b[2]=a[c];break;case"bound":b[3]=a[c];break;case"turn":b[4]=a[c];break;case"split":b[5]=a[c];break;case"slide_t":b[6]=a[c];break;case"slide_tr":b[7]=a[c];break;case"slide_b":b[8]=a[c];break;case"slide_br":b[9]=a[c];break;case"slide_away_t":b[10]=a[c];break;case"slide_away_tr":b[11]=a[c];break;case"slide_away_b":b[12]=a[c];break;case"slide_away_br":b[13]=a[c]}for(var e=0,f=b.length;e<f;e++)switch(b[e]){case"fade":this._fade();break;case"shake":this._shake();break;case"shine":this._shine();break;case"bound":this._bound();break;case"turn":this._turn();break;case"split":this._split();break;case"slide_t":this._slideIn("top");break;case"slide_tr":this._slideIn("top-right");break;case"slide_b":this._slideIn("bottom");break;case"slide_br":this._slideIn("bottom-right");break;case"slide_away_t":this._isSwipeOutMode=!0,this._swipeOutDirection="top",this._slideIn("top");break;case"slide_away_tr":this._isSwipeOutMode=!0,this._swipeOutDirection="right",this._slideIn("top-right");break;case"slide_away_b":this._isSwipeOutMode=!0,this._swipeOutDirection="bottom",this._slideIn("bottom");break;case"slide_away_br":this._isSwipeOutMode=!0,this._swipeOutDirection="right",this._slideIn("bottom-right")}},microadOverlayExtension.Animation.prototype._fade=function(a){"use strict";var b=this,c=a?a:this._iframe;c.style.opacity=0;var d=null;a&&(d=function(){try{var a="CANVAS"===c.tagName?c.parentNode:c;document.body.removeChild(a)}catch(b){}});var e=setTimeout(function(){b._setTransition(c,b._duration),c.style.opacity=1,b._resetTransition(c,d,b._duration)},this._timerDelay);this._timers.push(e)},microadOverlayExtension.Animation.prototype._shake=function(){"use strict";var a=this,b=5,c="";if(c=this._getCssPropertyTransform()){var d=this._getPresetStyleTransform(this._element).transform,e="10%  {"+c+": rotate(-"+b+"deg)"+d+";}20%  {"+c+": rotate(0deg)"+d+";}30%  {"+c+": rotate("+b+"deg)"+d+";}40%  {"+c+": rotate(0deg)"+d+";}50%  {"+c+": rotate(-"+b+"deg)"+d+";}60%  {"+c+": rotate(0deg)"+d+";}70%  {"+c+": rotate("+b+"deg)"+d+";}80%  {"+c+": rotate(0deg)"+d+";}90%  {"+c+": rotate(-"+b+"deg)"+d+";}100% {"+c+": rotate(0deg)"+d+";}",f=setTimeout(function(){a._setAnimation(null,"microadOverlayExtensionShake",e),a._resetAnimation()},this._timerDelay);this._timers.push(f)}},microadOverlayExtension.Animation.prototype._shine=function(){"use strict";var a=this._createCoverElement("canvas");this._shineCanvasWrap=a.element,this._shineDrawCanvas(a.canvas),this._shineCanvasWrap.style.pointerEvents="none",this._type.match(/fade/)&&this._fade(a.canvas),this._type.match(/bound/)?this._executeBound(this._shineCanvasWrap):this._positionY&&"bottom"===this._adPosition&&this._move(this._shineCanvasWrap)},microadOverlayExtension.Animation.prototype._shineDrawCanvas=function(a){"use strict";function b(){e.clearRect(0,0,d.width,d.height);for(var a=0,b=g.length;a<b;a++){g[a].x>d.width&&!g[a].islast&&(g[a].islast=!0,h+=1),e.save(),e.translate(g[a].x,g[a].y);var c="add"===g[a].addType?g[a].addNum:-1*g[a].addNum;g[a].size=g[a].size+c,g[a].size>g[a].maxSize?g[a].addType="subtract":g[a].size<g[a].minSize&&(g[a].addType="add"),e.scale(g[a].size,g[a].size);var f=Math.random();f=f<.3?1:f,e.beginPath(),e.arc(0,0,6,0,2*Math.PI,!1);var i=e.createRadialGradient(0,0,0,0,0,6);i.addColorStop(0,"rgba(255,255,255,"+f+")"),i.addColorStop(.65,"rgba(255,255,255,0)"),e.fillStyle=i,e.fill(),e.closePath(),e.beginPath(),e.moveTo(0,-10),e.quadraticCurveTo(0,0,-4,0),e.quadraticCurveTo(0,0,0,10),e.quadraticCurveTo(0,0,4,0),e.quadraticCurveTo(0,0,0,-10),e.fillStyle="rgba(255,255,255,"+f+")",e.fill(),e.closePath(),e.restore()}}if(a){var c=this,d=a,e=d.getContext("2d"),f=40,g=[],h=0,i=function(a,b){this.x=a,this.y=b,this.minSize=.1,this.maxSize=1.2,this.size=this.getRandomNum(this.minSize,this.maxSize),this.speed=this.getRandomNum(15,30),this.addType="add",this.addNum=.1,this.islast=!1};i.prototype.getRandomNum=function(a,b){var c=Math.random();return a?c*b<a?a:c*b:c*b+1};for(var j=0;j<f;j++){var k=d.width*Math.random(),l=d.height*Math.random();l=l>d.height?d.height:l,g.push(new i(k,l))}b();var m=50,n=setInterval(function(){b()},m);this._timers.push(n);var o=setTimeout(function(){try{document.body.removeChild(c._shineCanvasWrap)}catch(a){}c._shineCanvasWrap=null},this._duration+this._timerDelay);this._timers.push(o)}},microadOverlayExtension.Animation.prototype._bound=function(){"use strict";this._executeBound()},microadOverlayExtension.Animation.prototype._executeBound=function(a){"use strict";function b(a,e){d._setTransition(c,e[k]),c.style[d._adPosition]=a[k]+"px",d._resetTransition(c,null,e[k]);var g=setTimeout(function(){if(k++,d._setTransition(c,e[k]),c.style[d._adPosition]=a[k]+"px",d._resetTransition(c,null,e[k]),a[k-1]){var g=setTimeout(function(){k++,b(a,e)},e[k]);d._timers.push(g)}else f()},e[k]);d._timers.push(g)}var c=a?a:this._element,d=this,e=this._positionY?this._positionY:0;c.style[this._adPosition]=e+"px";var f=function(){},g=!0;a&&(f=function(){try{g&&(g=!1,document.body.removeChild(c))}catch(a){}});var h=[];e>0?(h.push(e),h.push(-4),h.push(6),h.push(-1),h.push(1),h.push(0)):(h.push(e+10),h.push(0),h.push(5),h.push(0));var i=[];e>0?(i.push(Math.floor(.01*this._duration)),i.push(Math.floor(.64*this._duration)),i.push(Math.floor(.1*this._duration)),i.push(Math.floor(.1*this._duration)),i.push(Math.floor(.075*this._duration)),i.push(Math.floor(.075*this._duration))):(i.push(Math.floor(.6*this._duration)),i.push(Math.floor(.2*this._duration)),i.push(Math.floor(.1*this._duration)),i.push(Math.floor(.1*this._duration)));var j=setTimeout(function(){b(h,i)},this._timerDelay);this._timers.push(j);var k=0},microadOverlayExtension.Animation.prototype._turn=function(){"use strict";var a=this,b="";if(b=this._getCssPropertyTransform()){var c=this._iframe;this._element.style.MozPerspective="600px",this._element.style.webkitPerspective="600px",this._element.style.perspective="600px";var d=this._getPresetStyleTransform(c).transform,e="0%  {"+b+": rotateY(0deg)"+d+";}100%  {"+b+": rotateY(720deg)"+d+";}",f=setTimeout(function(){a._setAnimation(c,"microadOverlayExtensionTurn",e),a._resetAnimation(c,function(){a._element.style.MozPerspective="",a._element.style.webkitPerspective="",a._element.style.perspective=""})},this._timerDelay);this._timers.push(f)}},microadOverlayExtension.Animation.prototype._split=function(){"use strict";var a=this,b=""===this._getPresetStyleTransform(this._iframe).scale?1:this._getPresetStyleTransform(this._iframe).scale;this._element.style.width=0,this._element.style.height=this._elementHeight*b+"px",this._element.style.marginLeft=0,this._element.style.overflow="hidden",this._iframe.style.position="absolute",this._iframe.style.top="",this._iframe.style.bottom="",this._iframe.style[this._adPosition]=0,this._iframe.style.left=this._elementMarginLeft+"px";var c=setTimeout(function(){if(a._type.match(/bound/)&&microadOverlayExtension.Utility.getAndroidVersion()>=4&&microadOverlayExtension.Utility.getAndroidVersion()<5){var c="0% {width:0; margin-left:0;}100% {width:"+a._elementWidth*b+"px; margin-left:"+a._elementMarginLeft*b+"px;}";a._setAnimation(null,"microadOverlayExtensionSplit",c),a._resetAnimation(null,function(){a._element.style.width=a._elementWidth*b+"px",a._element.style.marginLeft=a._elementMarginLeft*b+"px"})}else a._setTransition(a._element),a._element.style.width=a._elementWidth*b+"px",a._element.style.marginLeft=a._elementMarginLeft*b+"px",a._resetTransition();a._setTransition(a._iframe),1===b?a._iframe.style.left=0:a._iframe.style.left=(a._elementWidth*b-a._elementWidth)/2+"px",a._resetTransition(a._iframe)},this._timerDelay);this._timers.push(c)},microadOverlayExtension.Animation.prototype._slideIn=function(a){"use strict";var b=this;this._easing="ease";var c;"top"===a||"top-right"===a?c="50% 0":"bottom"!==a&&"bottom-right"!==a||(c="bottom"===this._adPosition?"50% 100%":"50% 0"),this._iframe.style.MozTransformOrigin=c,this._iframe.style.webkitTransformOrigin=c,this._iframe.style.transformOrigin=c;var d,e,f=""===this._getPresetStyleTransform(this._iframe).scale?1:this._getPresetStyleTransform(this._iframe).scale;"top"===a?(this._element.style.bottom="",this._element.style.top=-1*this._elementHeight*f-10+"px",d="top",e=0):"top-right"===a?(this._element.style.bottom="",this._element.style.top=0,this._element.style.marginLeft=Math.floor(microadOverlayExtension.Utility.getScreenWidth()/2*f)+10+"px",d="marginLeft",e=this._elementMarginLeft+"px"):"bottom"===a?(this._element.style[this._adPosition]=-1*this._elementHeight*f-10+"px",d=this._adPosition,e=0):"bottom-right"===a&&(this._element.style[this._adPosition]=0,this._element.style.marginLeft=Math.floor(microadOverlayExtension.Utility.getScreenWidth()/2*f)+10+"px",d="marginLeft",e=this._elementMarginLeft+"px");var g=setTimeout(function(){b._setTransition(b._element),b._element.style[d]=e,b._resetTransition(b._element,function(){b._isSwipeOutMode===!0&&b._isSwipeOutCalled===!1&&(b._swipeOut(),b._isSwipeOutCalled=!0)})},this._timerDelay+this._randomDelay);this._timers.push(g)},microadOverlayExtension.Animation.prototype._move=function(a){"use strict";var b=this,c=a?a:this._element;c.style[this._adPosition]=this._positionY+"px";var d=null;a&&(d=function(){try{document.body.removeChild(c)}catch(a){}});var e=setTimeout(function(){b._setTransition(c),c.style[b._adPosition]=0,b._resetTransition(c,d)},this._timerDelay);this._timers.push(e)},microadOverlayExtension.Animation.prototype._setTransition=function(a,b){"use strict";var c=a?a:this._element;b=b?b:this._duration,b=b/1e3+"s",c.style.MozTransitionProperty="all",c.style.webkitTransitionProperty="all",c.style.transitionProperty="all",c.style.MozTransitionDuration=b,c.style.webkitTransitionDuration=b,c.style.transitionDuration=b,c.style.MozTransitionTimingFunction=this._easing,c.style.webkitTransitionTimingFunction=this._easing,c.style.transitionTimingFunction=this._easing},microadOverlayExtension.Animation.prototype._resetTransition=function(a,b,c){"use strict";var d=a?a:this._element;b="function"==typeof b?b:function(){},c=c?c:this._duration;var e=setTimeout(function(){d.style.MozTransitionProperty="none",d.style.webkitTransitionProperty="none",d.style.transitionProperty="none",d.style.MozTransitionDuration="",d.style.webkitTransitionDuration="",d.style.transitionDuration="",d.style.MozTransitionTimingFunction="",d.style.webkitTransitionTimingFunction="",d.style.transitionTimingFunction="",b()},c);this._timers.push(e)},microadOverlayExtension.Animation.prototype._setAnimation=function(a,b,c,d){
"use strict";var e,f,g=a?a:this._element,h=document.body;if(e=this._getCssPropertyKeyframes()){if(f=e+" "+b+"{"+c+"}",!document.getElementById(b)){var i=document.createElement("style");i.id=b,h.appendChild(i),i.sheet.insertRule(f,i.sheet.cssRules.length)}var j=this._duration/1e3+"s",k=this._easing;g.style.animation=b+" "+j+" "+k,g.style.MozAnimation=b+" "+j+" "+k,g.style.webkitAnimation=b+" "+j+" "+k,g.style.animationFillMode="forwards",g.style.MozAnimationFillMode="forwards",g.style.webkitAnimationFillMode="forwards",d&&(g.style.animationTimingFunction="steps("+d+")",g.style.MozAnimationTimingFunction="steps("+d+")",g.style.webkitAnimationTimingFunction="steps("+d+")")}},microadOverlayExtension.Animation.prototype._resetAnimation=function(a,b){"use strict";var c=a?a:this._element;b="function"==typeof b?b:function(){};var d=setTimeout(function(){b(),setTimeout(function(){c.style.mozAnimation="",c.style.webkitAnimation="",c.style.animation=""},1e3)},this._duration);this._timers.push(d)},microadOverlayExtension.Animation.prototype._getCssPropertyTransform=function(){"use strict";var a="",b=document.body,c=navigator.userAgent.toLowerCase();return c.indexOf("firefox")===-1&&microadOverlayExtension.Utility.getAndroidVersion()>=4&&microadOverlayExtension.Utility.getAndroidVersion()<5?a="-webkit-transform":"transform"in b.style?a="transform":"-moz-transform"in b.style?a="-moz-transform":"-webkit-transform"in b.style&&(a="-webkit-transform"),a},microadOverlayExtension.Animation.prototype._getCssPropertyKeyframes=function(){"use strict";var a="",b=document.body,c=navigator.userAgent.toLowerCase();return c.indexOf("firefox")===-1&&microadOverlayExtension.Utility.getAndroidVersion()>=4&&microadOverlayExtension.Utility.getAndroidVersion()<5?a="@-webkit-keyframes":"animation"in b.style?a="@keyframes":"-moz-animation"in b.style?a="@-moz-keyframes":"-webkit-animation"in b.style&&(a="@-webkit-keyframes"),a},microadOverlayExtension.Animation.prototype._getPresetStyleTransform=function(a){"use strict";var b="",c="",d={},e=this._getCssPropertyTransform(),f=window.getComputedStyle(a,null),g=/matrix\(\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*\,\s*(-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*\)/;if("none"!==f[e]){var h=f[e].match(g).slice(1),i=parseFloat(h[0],10),j=parseFloat(h[1],10);b=Math.sqrt(i*i+j*j),c=" scale("+b+")"}return d={transform:c,scale:b}},microadOverlayExtension.Animation.prototype._setTimerEventEnd=function(){"use strict";var a=this;this._timerEventEnd=setTimeout(function(){a._isAnimating=!1,microadOverlayExtension.Utility.setEvent(a._element,"microadOverlayExtensionTransitionEnd")},this._duration+this._timerDelay+this._randomDelay),this._timers.push(this._timerEventEnd)},microadOverlayExtension.Animation.prototype._calculatePositionY=function(a){"use strict";var b=""===this._getPresetStyleTransform(this._iframe).scale?1:this._getPresetStyleTransform(this._iframe).scale,c=this._element.offsetHeight;a=.01*a;var d=Math.ceil((window.innerHeight-c*b)*a);return d},microadOverlayExtension.Animation.prototype._calculateRandomDelay=function(){"use strict";var a=0;if(this._type.match(/slide_t/)||this._type.match(/slide_tr/)||this._type.match(/slide_b/)||this._type.match(/slide_br/)||this._type.match(/slide_away_t/)||this._type.match(/slide_away_tr/)||this._type.match(/slide_away_b/)||this._type.match(/slide_away_br/)){var b=this._randomDelayMin,c=this._randomDelayMax;a=Math.floor(Math.random()*(c-b)+b)}return a},microadOverlayExtension.Animation.prototype._getAdPosition=function(){"use strict";var a;return a=this._element.style.top?"top":"bottom"},microadOverlayExtension.Animation.prototype._createCoverElement=function(a){"use strict";var b=document.createElement("div");b.style.position="fixed",b.style.left="50%",b.style[this._adPosition]=this._positionY?this._positionY+"px":0,b.style.marginLeft=-1*parseInt(this._elementWidth/2)+"px",b.style.zIndex=parseInt(this._element.style.zIndex)+1,b.style.width=this._elementWidth+"px",b.style.height=this._element.offsetHeight+"px";var c=null;if("canvas"===a&&(c=document.createElement(a),c.setAttribute("width",this._elementWidth),c.setAttribute("height",this._element.offsetHeight),b.appendChild(c)),this._iframe){var d=this._getPresetStyleTransform(this._iframe).transform;if(d){b.style.MozTransform=d,b.style.webkitTransform=d,b.style.transform=d;var e="bottom"===this._adPosition?"50% 100%":"50% 0";b.style.MozTransformOrigin=e,b.style.webkitTransformOrigin=e,b.style.transformOrigin=e}}return document.body.appendChild(b),{element:b,canvas:c}},microadOverlayExtension.Animation.prototype._reset=function(){"use strict";this._element.style.MozTransitionProperty="none",this._element.style.webkitTransitionProperty="none",this._element.style.transitionProperty="none",this._element.style.MozTransitionTimingFunction="",this._element.style.webkitTransitionTimingFunction="",this._element.style.transitionTimingFunction="",this._element.style.MozTransitionDuration="",this._element.style.webkitTransitionDuration="",this._element.style.transitionDuration="",this._element.style.MozTransitionTimingFunction="",this._element.style.webkitTransitionTimingFunction="",this._element.style.transitionTimingFunction="",this._element.style.MozAnimation="",this._element.style.webkitAnimation="",this._element.style.animation="",this._iframe.style.MozTransitionProperty="none",this._iframe.style.webkitTransitionProperty="none",this._iframe.style.transitionProperty="none",this._iframe.style.MozTransitionTimingFunction="",this._iframe.style.webkitTransitionTimingFunction="",this._iframe.style.transitionTimingFunction="",this._iframe.style.MozTransitionDuration="",this._iframe.style.webkitTransitionDuration="",this._iframe.style.transitionDuration="",this._iframe.style.MozTransitionTimingFunction="",this._iframe.style.webkitTransitionTimingFunction="",this._iframe.style.transitionTimingFunction="",this._iframe.style.MozAnimation="",this._iframe.style.webkitAnimation="",this._iframe.style.animation="";for(var a=0,b=this._timers.length;a<b;a++)clearTimeout(this._timers[a])},microadOverlayExtension.Animation.prototype._show=function(){"use strict";this._element.style.left="50%"},microadOverlayExtension.Animation.prototype._hide=function(a){"use strict";a=a||{};var b=a.isCanvasRemove||!1;if(this._element.style.left="-99999px",b)try{document.body.removeChild(this._shineCanvasWrap)}catch(c){}},microadOverlayExtension.Animation.prototype._fadeIn=function(a,b,c){"use strict";b=b||50;var d=this;a.style.opacity=0;var e=setTimeout(function(){d._setTransition(a,b),a.style.opacity=1,d._resetTransition(a,c,b)},100);this._timers.push(e)},microadOverlayExtension.Animation.prototype._fadeOut=function(a,b,c){"use strict";b=b||50;var d=this;a.style.opacity=1;var e=setTimeout(function(){d._setTransition(a,b),a.style.opacity=0,d._resetTransition(a,c,b)},100);this._timers.push(e)},microadOverlayExtension.Animation.prototype._watchScrollEvent=function(){"use strict";var a=this,b=a._overlay._overlayPluginParams.isScrollEndControl,c=null==b||Number.isNaN(b)||0===b;c||(this._element.addEventListener("microadOverlayExtensionScrollStartElementHide",function(){a._isSwipeOuted||(a._reset(),a._hide({isCanvasRemove:!0}),setTimeout(function(){a._positionYDefault=a._positionYSource?a._calculatePositionY(a._positionYSource):0,a._positionY=a._positionYDefault},150))},!1),this._element.addEventListener("microadOverlayExtensionScrollEndReAnimationBottom",function(){a._isSwipeOuted||(a._changePositionBottom(),a._show(),a.restart())},!1),this._element.addEventListener("microadOverlayExtensionScrollEndReAnimationTop",function(){a._isSwipeOuted||(a._changePositionTop(),a._show(),a.restart())},!1),this._element.addEventListener("microadOverlayExtensionScrollEndFadeInBottom",function(){a._type.match(/slide_t/)||a._type.match(/slide_tr/)||a._type.match(/slide_away_t/)||a._type.match(/slide_away_tr/)||a._isSwipeOuted&&(a._type.match(/slide_away_b/)||a._type.match(/slide_away_br/))||a._isAnimating||a._element.style.bottom||a._fadeOut(a._element,1,function(){a._iframe.style.top="",a._iframe.style.bottom=0;var b="50% 100%";a._iframe.style.MozTransformOrigin=b,a._iframe.style.webkitTransformOrigin=b,a._iframe.style.transformOrigin=b,a._changePositionBottom(),a._fadeIn(a._element,1)})},!1),this._element.addEventListener("microadOverlayExtensionScrollEndFadeInTop",function(){a._isSwipeOuted&&(a._type.match(/slide_away_b/)||a._type.match(/slide_away_br/))||a._isAnimating||a._element.style.top||a._fadeOut(a._element,1,function(){a._iframe.style.top=0,a._iframe.style.bottom="";var b="50% 0";a._iframe.style.MozTransformOrigin=b,a._iframe.style.webkitTransformOrigin=b,a._iframe.style.transformOrigin=b,a._changePositionTop(),a._fadeIn(a._element,1)})},!1),this._overlay.addEventListener(window,"microadOverlayExtensionAdjustFooter",function(){a._overlay._adjustFooter(a._adPosition)}))},microadOverlayExtension.Animation.prototype._changePositionTop=function(){this._adPosition="top",this._overlay._changeTop(),this._overlay._accessories.moveDisplayPosition("TOP")},microadOverlayExtension.Animation.prototype._changePositionBottom=function(){this._adPosition="bottom",this._overlay._changeBottom(),this._overlay._accessories.moveDisplayPosition("BOTTOM")},microadOverlayExtension.Animation.prototype._swipeOut=function(){"use strict";var a=this,b=microadOverlayExtension.Utility.getDeviceTouchEvent(),c=this._iframe.contentWindow.document.body,d=!0,e=document.createElement("DIV");e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex="99999999";var f,g,h,i,j,k,l,m=microadOverlayExtension.Utility.getScreenWidth(),n=microadOverlayExtension.Utility.getScreenHeight(),o=""===this._getPresetStyleTransform(this._iframe).scale?1:this._getPresetStyleTransform(this._iframe).scale;c.addEventListener("dragstart",function(a){a.preventDefault()}),c.style.webkitTapHighlightColor="rgba(0,0,0,0)",c.style.webkitTouchCallout="none",c.style.touchCallout="none",c.style.webkitUserSelect="none",c.style.userSelect="none";var p=function(){j=i,l=!1,d=!0;try{c.removeChild(e)}catch(a){}},q=function(){if(l){var b;b="right"===a._swipeOutDirection?800:200,a._setTransition(a._element,b),a._resetTransition(a._element,null,b),"right"===a._swipeOutDirection?j-i>60?(a._element.style[f]=h+"px",a._isSwipeOuted=!0):a._element.style[f]=i+"px":"top"===a._swipeOutDirection?j-i<-10?(a._element.style[f]=h+"px",a._isSwipeOuted=!0):a._element.style[f]=i+"px":"bottom"===a._swipeOutDirection&&(j-i<-10?(a._element.style[f]=h+"px",a._isSwipeOuted=!0):a._element.style[f]=i+"px"),p()}};"right"===a._swipeOutDirection?(h=m>n?m:n,h=(h-a._elementWidth)/2+a._elementWidth*o/2,h=Math.ceil(h)):h=Math.ceil(a._elementHeight*o)*-1,c.addEventListener(b.touchstart,function(c){a._element.addEventListener(b.touchmove,function(a){a.preventDefault()},!1),p(),"top"!==a._swipeOutDirection&&"bottom"!==a._swipeOutDirection||(a._swipeOutDirection=a._getAdPosition()),"right"===a._swipeOutDirection?(f="marginLeft",g="pageX"):"top"===a._swipeOutDirection?(f="top",g="pageY"):"bottom"===a._swipeOutDirection&&(f="bottom",g="pageY"),i=parseInt(a._element.style[f].replace("px","")),j=i,k=c.changedTouches?c.changedTouches[0][g]:c[g],l=!0},!1),c.addEventListener(b.touchmove,function(b){if(l){b.preventDefault(),d&&(c.appendChild(e),d=!1);var h,m=b.changedTouches?b.changedTouches[0][g]:b[g];"right"===a._swipeOutDirection?(h=j+m-k,h=i>h?i:h,a._element.style[f]=h+"px"):"top"===a._swipeOutDirection?(h=j+m-k,h=i>h?h:i,a._element.style[f]=h+"px"):"bottom"===a._swipeOutDirection&&(h=j+k-m,h=i>h?h:i,a._element.style[f]=h+"px"),j=h}},!1),c.addEventListener(b.touchend,q,!1),c.addEventListener("touchcancel",q,!1),this._element.addEventListener("mouseout",q,!1)},microadOverlayExtension.Animation.prototype.restart=function(a){"use strict";a&&(this._element=a,this._elementWidth=a.offsetWidth?a.offsetWidth:0,this._elementHeight=a.offsetHeight?a.offsetHeight:0,this._elementMarginLeft=a.style.marginLeft?a.style.marginLeft.split("px")[0]:0,this._iframe=a.getElementsByTagName("iframe")[0]),this._timers=[],this._startAnimation()};var microadCompass=microadCompass||{};microadCompass.environment="production",microadCompass.legacyIE=!1,microadCompass.rtusId=null,microadCompass.ch={},microadCompass.aids=[],microadCompass.processedSpotIds=microadCompass.processedSpotIds||{},microadCompass.spotRequests=microadCompass.spotRequests||{},microadCompass.adDisplayControllers=microadCompass.adDisplayControllers||{},microadCompass.setEventHookAPI=microadCompass.setEventHookAPI||function(a,b){a in microadCompass.adDisplayControllers&&microadCompass.adDisplayControllers[a].setEventHookAPI(b)};var microad=microad||{};microad.advertising=microad.advertising||{},microad.advertising.ssp=microad.advertising.ssp||{},/msie [6-8]/i.test(navigator.userAgent)&&(microadCompass.legacyIE=!0,Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);e<c;e++)if(e in b&&b[e]===a)return e;return-1})),microadCompass.isSkipTrackers=microadCompass.isSkipTrackers||!1,microadCompass.Object=microadCompass.Object||{create:function(a){function b(){}if(Object.create)return Object.create(a);if(1!==arguments.length)throw new Error("[MicroAd COMPASS] Object.create implementation only accepts one parameter.");return b.prototype=a,new b}},microadCompass.AdInitializer=microadCompass.AdInitializer||function(){"use strict";function a(){return b?b:b=this}var b;return a.prototype.isAlreadyInitialized=!1,a.prototype._settings,a.prototype.initialize=function(a){if(!this.isAlreadyInitialized){this.isAlreadyInitialized=!0,this._settings=new microadCompass.Settings(a?a:microadCompass.environment),microadCompass.environment=this._settings.env,microadCompass.Injector.create(new microadCompass.Module);var b=function(){throw new Error("[MicroAd COMPASS initialize] Cant load compass2.js. Therefore, advertisement drawing is not performed.")};this.loadCompass2js(this.init.bind(this,a),b.bind(this))}},a.prototype.init=function(){var a=[];if(!microadCompass.isSkipTrackers){var c=new microadCompass.Cookie(this._settings);c.loadMicroadCookies(),a=[new microadCompass.RampIdTracker(this._settings.aids.rampId),new microadCompass.UnvEhmTracker(this._settings.aids.unvEhm),new microadCompass.UniverseIdTracker(this._settings.aids.universeId),new microadCompass.ImuidTracker(this._settings.aids.imuid),new microadCompass.FirstPartyCookieTracker(this._settings.aids.firstPartyCookie)]}var d=new microadCompass.AudienceTrackers(a,function(a,b){microadCompass.aids.push({type:a,id:b})},function(){var a=microadCompass.queue,c=new microadCompass.QueueProcessor(b._settings,a);c.appendHook(),c.processBulkQueue()},30);new microadCompass.ClientHints(d.track.bind(d),30).fetch()},a.prototype.loadCompass2js=function(a,b){var c=microadCompass.Injector.get("document"),d=c.createElement("script");d.charset="UTF-8",d.async=!0,d.type="module",d.src=this._settings.compass2js,d.onload=a,d.onerror=b,c.body.appendChild(d)},a}(),microadCompass.Injector=microadCompass.Injector||{dependencies:{},bind:function(a,b){this.dependencies[a]=b},get:function(a){if(this.dependencies.hasOwnProperty(a))return this.dependencies[a];throw new ReferenceError("[MicroAd COMPASS] Injector.get undefined key "+a)},create:function(a){return a.configure(),this}},microadCompass.Module=microadCompass.Module||function(){"use strict";function a(){}return a.prototype.configure=function(){microadCompass.Injector.bind("window",window),microadCompass.Injector.bind("screen",screen),microadCompass.Injector.bind("navigator",navigator),microadCompass.Injector.bind("document",document)},a}(),microadCompass.Utility=microadCompass.Utility||function(){"use strict";var a=microadCompass.Injector,b=!1;return{numberOrZero:function(a){return null==a?0:a},isAtLeastZero:function(a){return null!=a&&a>=0},toPixel:function(a){var b=this.numberOrZero(a);return String(b).includes("px")?b:b+"px"},pixelToNumber:function(a,b){if(null==a)return b;var c=String(a).replace("px","");return Number(c)||b},unSelectStyle:function(a){a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a.style.webkitTouchCallout="none",a.style.touchCallout="none",a.style.webkitUserSelect="none",a.style.userSelect="none"},getDeviceTouchEvent:function(){var b=a.get("window"),c=a.get("document"),d={touch:"undefined"!=typeof c.ontouchstart,pointer:b.navigator.pointerEnabled,msPoniter:b.navigator.msPointerEnabled};return{start:d.pointer?"pointerdown":d.msPoniter?"MSPointerDown":d.touch?"touchstart":"mousedown",move:d.pointer?"pointermove":d.msPoniter?"MSPointerMove":d.touch?"touchmove":"mousemove",end:d.pointer?"pointerup":d.msPoniter?"MSPointerUp":d.touch?"touchend":"mouseup"}},addCssVariable:function(){if(!b){b=!0;var c=a.get("document"),d=c.getElementsByTagName("head");if(d.length<=0)return void(b=!1);var e=c.createElement("style"),f=[":root {","  --ma-safe-area-inset-bottom: "+this.getSafeAreaCssValue("safe-area-inset-bottom"),"}"].join("\n");e.appendChild(c.createTextNode(f)),d[0].appendChild(e),b=!0}},getCssVariable:function(b,c){var d=a.get("document");if(!d||!d.body)return c;var e=getComputedStyle(d.body).getPropertyValue(b).trim();return e||c},enableCssSupports:function(){return!(!("CSS"in a.get("window"))||"function"!=typeof CSS.supports)},getSupportSafeAreaFuncName:function(){return this.enableCssSupports()?CSS.supports("top: env(safe-area-inset-bottom)")?"env":CSS.supports("top: constant(safe-area-inset-bottom)")?"constant":"":""},getSafeAreaCssValue:function(a,b){var c=b||"0px",d=this.getSupportSafeAreaFuncName();return d?d+"("+a+", "+c+")":c},getWindowWidth:function(){var b=a.get("document");return Math.max.apply(null,[window.innerWidth,b.documentElement.clientWidth])},getWindowHeight:function(){var b=a.get("document");return Math.max.apply(null,[window.innerHeight,b.documentElement.clientHeight])},getBoundingClientRect:function(a){return"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:0,height:0,top:0,left:0,right:0,bottom:0,x:0,y:0}},getMaybeBoundingClientRect:function(a){return"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():null}}}(),microadCompass.AdRequestor=microadCompass.AdRequestor||function(){"use strict";function a(a){this._settings=a}var b=microadCompass.Injector;return a.prototype._settings,a.prototype.sendRequest=function(a){var b=this._settings.serverUrl,c=this._createRequestParams(a);this._pushRequestBySpot(c);var d=this.createRequestURL(b,c);this._sendRequestByJSONP(d)},a.prototype.sendRotationRequest=function(a){var b=this._settings.serverUrl,c=this.createRequestURL(b,a);this._sendRequestByJSONP(c)},a.prototype._pushRequestBySpot=function(a){var b=microadCompass.spotRequests[a.spot]||[];b.push(a),microadCompass.spotRequests[a.spot]=b},a.prototype._createRequestParams=function(a){var c={spot:a.spot,cb:"microadCompass.AdRequestor.callback",url:b.get("document").location.href,url_macro:a.url?a.url.replace("${COMPASS_EXT_URL}",""):"",referrer:b.get("document").referrer,referrer_macro:a.referrer?a.referrer.replace("${COMPASS_EXT_REF}",""):"",ifa:a.ifa?a.ifa.replace("${COMPASS_EXT_IFA}",""):"",appid:a.appid?a.appid.replace("${COMPASS_EXT_APPID}",""):"",vo:this._isIntersectionObserverSupported().toString(),mimes:this._supportedVideoMimes(),rtus:microadCompass.rtusId,aids:this._aids(),ch:this._ch(),cbt:this.createCBT(),pa:microadCompass.Auctioneer.isAvailableRunAdAuction().toString(),ar:microadCompass.Auctioneer.isAvailableAttributionReportingApi().toString(),ver:'["compass.js.v1.19.1"]'},d=a.geo?a.geo.replace("${COMPASS_EXT_GEO}",""):"";d&&/^[0-9\.\-]+,[0-9\.\-]+$/.test(d)&&(c.geo=d);var e=this._deleteEmptyElement(a.kv_set);e&&Object.keys(e).length>0&&(c.kv_set=e);var f=this._getFrequency(a.spot,c.kv_set);return null!=f&&Object.keys(f).length>0&&(c.fc=f),c},a.prototype.createRequestURL=function(a,b){var c=[];for(var d in b){var e=b[d];e instanceof Array?e.length>0&&c.push(d+"="+encodeURIComponent(JSON.stringify(e))):e instanceof Object?Object.keys(e).length>0&&c.push(d+"="+encodeURIComponent(JSON.stringify(e))):e&&c.push(d+"="+encodeURIComponent(e))}return a+"?"+c.join("&")},a.prototype._sendRequestByJSONP=function(a){var c=b.get("document"),d=c.getElementsByTagName("script")[0],e=c.createElement("script");return e.type="text/javascript",e.charset="UTF-8",e.async=!0,e.defer=!0,d.parentNode.insertBefore(e,d),e.src=a,e},a.callback=function(b){if(!a.validateResponse(b))throw new Error("[MicroAd COMPASS callback] Invalid response.");var c=b._unv_id,d=microadCompass.audience;null!=d&&null!=d.write&&c&&d.write(21,c);var e=new microadCompass.VastConverter;e.execute(b,a.operateExecutionFunction)},a.operateExecutionFunction=function(b){const c=microadCompass.spotRequests[b.spot],d=null==c||null==c[0]?{}:c[0];if(a.countUpFrequency(d,b),a.isNonIframeAd(d,b))return void microadCompass.loadAdNonIframeDisplay(d,b);const e=microadCompass.ad.selectTemplate(b.impression_id),f=null==e?void 0:e.main;if(b.templates||f)microadCompass.ad.selectDisplayFunc()(d,b);else{var g=new microadCompass.Auctioneer(b,a.executeDisplayAd);g.bid()}},a.countUpFrequency=function(a,b){const c=Number(b.sequence),d=!Number.isNaN(c)&&c>2;d||microadCompass.frequency.updateCounter(a,b)},a.isNonIframeAd=function(a,b){const c=!!b.creative_type&&"banner"===b.creative_type,d=!b.width||0===Number(b.width),e=!b.height||0===Number(b.height);return c&&d&&e},a.executeDisplayAd=function(a){var b=a.impression_id||"impression_id";if(b in microadCompass.adDisplayControllers)return void microadCompass.adDisplayControllers[b].pushNextAd(a);var c=microadCompass.spotRequests[a.spot]||[],d=c.shift()||{},e=new microadCompass.AdDisplayController(d,a);microadCompass.adDisplayControllers[b]=e,e.beginDisplayAd()},a.validateResponse=function(a){return a&&a.hasOwnProperty("spot")},a.prototype.createCBT=function(){var a=Math.floor(Math.random()*Math.pow(10,18)).toString(16),b=(new Date).getTime().toString(16);return a+b},a.prototype._isIntersectionObserverSupported=function(){return"function"==typeof b.get("window").IntersectionObserver},a.prototype._supportedVideoMimes=function(){for(var a=b.get("document"),c=a.createElement("video"),d=[],e=0;e<microadCompass.Video.mimes.length;e++)c.canPlayType(microadCompass.Video.mimes[e].type)&&d.push(microadCompass.Video.mimes[e].id);return d},a.prototype._aids=function(){return microadCompass.aids&&microadCompass.aids.length>0?microadCompass.aids:null},a.prototype._ch=function(){return microadCompass.ch&&0!==Object.keys(microadCompass.ch).length?microadCompass.ch:null},a.prototype._deleteEmptyElement=function(a){if(!a)return null;var b=JSON.parse(JSON.stringify(a));return Object.keys(b).forEach(function(a){null!=b[a]&&""!==b[a]||delete b[a]}),b},a.prototype._getFrequency=function(a,b){const c=microadCompass.frequency;if(null!=c&&null!=c.selectFrequencyCode){const d=c.selectFrequencyCode(a,b||{});if(null!=d)return{counter:d.counter||0,time:null==d.time?null:String(d.time)}}},a}(),microadCompass.AdDisplayController=microadCompass.AdDisplayController||function(){"use strict";function a(a,b){var c=new microadCompass.Settings(microadCompass.environment);this._adRequestor=new microadCompass.AdRequestor(c),this._spotId=b.spot,this._spotDivElement=this._getSpotDivElement(this._spotId),this._spotDivElement&&(this._spotDivStyle=this._spotDivElement.getAttribute("style"),this._changeSpotDivId()),this._request=a,this._response=b,this._isFirstViewing=!0}var b=microadCompass.Injector;return a.prototype._creative,a.prototype._spotDivElement,a.prototype._spotDivStyle,a.prototype._request,a.prototype._response,a.prototype._adRequestor,a.prototype._getSpotDivElement=function(a){return b.get("document").getElementById(a)},a.prototype._changeSpotDivId=function(){this._spotDivElement&&(this._inclementSpotProcessedCount(),this._spotDivElement.setAttribute("id","AD_"+this._spotId+"_"+this._getSpotProcessedCount(this._spotId)))},a.prototype.beginDisplayAd=function(){this._creative&&(this._response=this._creative.toExtendAdResponse(this._response,microadCompass.Utility.getMaybeBoundingClientRect(this._spotDivElement)),this._creative.close(),this._creative=null,this._replaceSpotDivElement()),this._creative=microadCompass.CreativeFactory.getInstance(this._request,this._response,this._spotDivElement),this._creative.initialize(this._toOverlayPluginParams(this._response)),this._creative.display()},a.prototype._getSpotProcessedCount=function(){return"undefined"==typeof microadCompass.processedSpotIds[this._spotId]?0:microadCompass.processedSpotIds[this._spotId]},a.prototype._inclementSpotProcessedCount=function(){this._getSpotProcessedCount(this._spotId)>0?++microadCompass.processedSpotIds[this._spotId]:microadCompass.processedSpotIds[this._spotId]=1},a.prototype.nextAdRequest=function(){const a=this._response.frequency;if(microadCompass&&microadCompass.frequency&&a){const b=microadCompass.frequency;if(null!=b.selectFrequency){const c=b.selectFrequency(this._spotId,this._request.kv_set,a.domain);null!=c&&c.reachReward()}}if(!this._needNextAd())return void this._sendShowReplayButton();var d={};for(var e in this._request)this._request.hasOwnProperty(e)&&(d[e]=this._request[e]);d.impression_id=this._response.impression_id,d.creative_type=this._response.creative_type,d.sequence=this._response.sequence,d.aspect_ratio_id=this._response.aspect_ratio_id,d.adomains=this._response.adomains?JSON.parse(this._response.adomains)||[]:[],d.displayed_ids=this._response.displayed_ids,d.fc=this._getFrequency(this._spotId),this._adRequestor.sendRotationRequest(d)},a.prototype.pushNextAd=function(a){this._response=a,this._hasAdTag(this._response)?this.beginDisplayAd():this._sendShowReplayButton()},a.prototype._hasAdTag=function(a){return!!a&&!!a.adtag},a.prototype._toOverlayPluginParams=function(a){return{animation:a.animation?a.animation:null,animationMS:a.animationms?parseInt(a.animationms,10):null,animationEasing:a.animationeasing?a.animationeasing:null,startPosY:a.startposy?parseInt(a.startposy,10):null,displayType:a.displaytype?a.displaytype:null,displayPosition:a.displayposition?a.displayposition:null,displayInScrolling:a.displayinscrolling?parseInt(a.displayinscrolling,10):1,isScrollEndControl:a.isscrollendcontrol?parseInt(a.isscrollendcontrol,10):1,reDisplayType:a.redisplaytype?parseInt(a.redisplaytype,10):0,rotationSec:a.rotationsec?parseInt(a.rotationsec,10):null,bandHeight:a.bandheight?parseInt(a.bandheight,10):null,bandBgColor:a.bandbgcolor?a.bandbgcolor:null,bandString:a.bandstring?a.bandstring:null,bandFontColor:a.bandfontcolor?a.bandfontcolor:null}},a.prototype._replaceSpotDivElement=function(){var a=this._spotDivElement;this._spotDivElement=a.cloneNode(!1),this._spotDivElement.setAttribute("style",this._spotDivStyle),a.parentNode.replaceChild(this._spotDivElement,a)},a.prototype._getFuncNotifyingToFrequency=function(){if(microadCompass&&microadCompass.frequency&&this._isFirstViewing){this._isFirstViewing=!1;const a=microadCompass.frequency;if(this._response.frequency){const b=this._spotDivElement.getAttribute("id");try{return a.notify.bind(a,b,this._request,this._response)}catch(c){throw this._getSpotDivElement.style.display="none",a.cancel.bind(a,this._spotId),new Error(c.message)}}}},a.prototype.setEventHookAPI=function(a){const b=this._getFuncNotifyingToFrequency();b&&(a.onPlayed=b),a.onCompleted=this.nextAdRequest.bind(this),this._eventHookAPI=a},a.prototype._needNextAd=function(){var a=this._response.rotation_max?parseInt(this._response.rotation_max,10):1,b=this._response.sequence?parseInt(this._response.sequence,10):2;return a>=b},a.prototype._sendShowReplayButton=function(){this._isReplayButtonShowable()&&this._eventHookAPI&&this._eventHookAPI.showReplayButton&&this._eventHookAPI.showReplayButton()},a.prototype._isReplayButtonShowable=function(){return this._response.creative_type!==microadCompass.Spot.type["native"]},a.prototype._getFrequency=function(a){if(!microadCompass||!microadCompass.frequency){const b=microadCompass.frequency;if(null!=b&&null!=b.selectFrequencyCode){const c=b.selectFrequencyCode(a,this._request.kv_set||{});if(null!=c)return{counter:c.counter||0,time:c.time||null}}}},a}(),microadCompass.Creative=microadCompass.Creative||{platform:{pc:"1",smartphone:"2"},display:{overlay:"overlay",inline:"inline",interstitial:"interstitial"}},microadCompass.CreativeFactory=microadCompass.CreativeFactory||function(){"use strict";function a(){throw new ReferenceError("[MicroAd COMPASS] Do not construct this object")}return a.getInstance=function(b,c,d){return null!=c.protectedAudienceResult?new microadCompass.FencedFrameCreative(c,d):!a._hasAdTag(c)||a._isInline(c)?new microadCompass.IframeCreative(b,c,d):a.isWipe(c)?new microadCompass.WipeCreative(b,c,d):new microadCompass.OverlayCreative(b,c,d)},a._hasAdTag=function(a){return!!a&&!!a.adtag},a.isWipe=function(a){return a.creative_type===microadCompass.Spot.type.video&&(parseInt(a.top,10)>=0||parseInt(a.bottom,10)>=0)&&(parseInt(a.left,10)>=0||parseInt(a.right,10)>=0)},a._isInline=function(a){return![a.top,a.bottom,a.left,a.right].some(function(a){return""!==a})},a}(),microadCompass.IframeCreative=microadCompass.IframeCreative||function(){"use strict";function a(a,b,c){this._request=a,this._response=b,this._adWidth=b.width?b.width:"",this._adHeight=b.height?b.height:"",this._platform=b.platform?b.platform:"",this._adTag=b.adtag?b.adtag:"",this._nativeCss=b.nativecss?b.nativecss:"",this._impTag=b.imptag?b.imptag:"",this._syncTag=b.synctag?b.synctag:"",this._spotWidth=b.spotwidth?b.spotwidth:"",this._spotHeight=b.spotheight?b.spotheight:"",this._scalable=b.scalable?b.scalable:"",this._creativeType=b.creative_type?b.creative_type:"",this._maybeCloseButton=b.closebutton?b.closebutton:"",this._maybePrLabelPos=b.prlabelpos?b.prlabelpos:"",this._maybeOptoutLink=b.optoutlink?b.optoutlink:"",this._spotDivElement=c,this._ping=this._getAdPing(this._impTag),this._scaleValue=1,this._targetEvents={},this._isFirstViewing=!0,this.ssp=new microadCompass.SSP}var b=microadCompass.Injector;return a.prototype._response,a.prototype._adWidth,a.prototype._adHeight,a.prototype._adTag,a.prototype._nativeCss,a.prototype._impTag,a.prototype._syncTag,a.prototype._spotWidth,a.prototype._spotHeight,a.prototype._scalable,a.prototype._spotDivElement,a.prototype._iframe,a.prototype._platform,a.prototype.ssp,a.prototype._scaleValue,a.prototype._regexGoogleFrameName=/google_ads_iframe/i,a.prototype._maybeCloseButton,a.prototype._maybePrLabelPos,a.prototype._maybeOptoutLink,a.prototype._accessories,a.prototype._targetEvents,a.prototype.initialize=function(){this._adTag&&(microadCompass.legacyIE||(this._calculateSpotDivElementSize(),this._centerToElement(this._spotDivElement)),this._iframe=b.get("document").createElement("iframe"),this._iframe.setAttribute("scrolling","no"),this._iframe.setAttribute("marginwidth","0"),this._iframe.setAttribute("marginheight","0"),this._iframe.setAttribute("allowFullScreen","true"),this._iframe.setAttribute("allowTransparency","true"),this._iframe.setAttribute("border","0"),this._iframe.setAttribute("frameBorder","0"),this._iframe.style.border="0",this._spotDivElement.appendChild(this._iframe))},a.prototype.close=function(){this.removeAllEventListener()},a.prototype._isInline=function(){return!0},a.prototype._scale=function(a){this._resizeParentFrame(a);var b="scale("+a+", "+a+")";this._iframe.style.WebkitTransform=b,this._iframe.style.MozTransform=b,this._matchHeightOnScale(a)},a.prototype._matchHeightOnScale=function(a){var b=Number(this._adHeight)||0;b>0&&(this._spotDivElement.style.height=b*a+"px")},a.prototype._getAltBannerName=function(a,b){var c=a+"-"+b;return this.ssp.compass.altBanners.indexOf(c)>=0?c+".gif":null;
},a.prototype._getSpotWidth=function(){var a=b.get("screen"),c=b.get("navigator").userAgent,d=a.width>a.height?a.height:a.width;return/linux; u; android 4/i.test(c)&&(d/=b.get("window").devicePixelRatio),/IEMobile/i.test(c)&&(d=320),this._platform===microadCompass.Creative.platform.smartphone&&(d<320&&(d=320),d>414&&"1"===this._scalable&&"0"!==this._adWidth&&(d=414)),d},a.prototype._calculateIframeSize=function(){"0"===this._adWidth?this._iframe.setAttribute("width",this._getSpotWidth()+"px"):this._iframe.setAttribute("width",this._adWidth+"px");var a=Number(this._adHeight)||0;this._iframe.setAttribute("height",a+"px")},a.prototype._resizeParentFrame=function(a){var b=this._getParentFrame();if(b){var c=a?a:1;return this._isGoogleFrame(b)?void this._resizeGoogleFrame(b,c):void 0}},a.prototype._getParentFrame=function(){try{return b.get("window").frameElement}catch(a){return null}},a.prototype._isSafeFrame=function(){try{return"undefined"!=typeof b.get("window").$sf}catch(a){return!1}},a.prototype._isGoogleFrame=function(a){if(!a||this._isSafeFrame())return!1;if(a.name.match(this._regexGoogleFrameName))return!0;var b=a.getAttribute("id");return!(!b||!b.match(this._regexGoogleFrameName))},a.prototype._getGoogleRootElement=function(a){if(!a.parentElement||!a.parentElement.parentElement)return null;var b=a.parentElement.parentElement;return"DIV"===b.tagName&&b.getAttribute("data-google-query-id")?b:null},a.prototype._resizeGoogleFrame=function(a,b){this._resizeFrame(a,b)&&this._resizeElement(this._getGoogleRootElement(a),b)},a.prototype._resizeFrame=function(a,b){var c=!1;if(!a)return c;var d=parseInt(a.width),e=this._adWidth*b;!isNaN(d)&&d<e&&(a.setAttribute("width",e+"px"),a.style.width=e+"px",c=!0);var f=parseInt(a.height),g=this._adHeight*b;return!isNaN(f)&&f<g&&(a.setAttribute("height",g+"px"),a.style.height=g+"px",c=!0),c},a.prototype._resizeElement=function(a,b){if(a){a.style.width="100%";var c=parseInt(a.style.height),d=this._adHeight*b;!isNaN(c)&&c<d&&(a.style.height=d+"px"),this._centerToElement(a)}},a.prototype._calculateSpotDivElementSize=function(){if(this._resizeParentFrame(),this._platform===microadCompass.Creative.platform.smartphone){if(!this._isInline())return this._spotDivElement.style.width="",void(this._spotDivElement.style.height="");var a=this._spotDivElement.style.width.replace("px",""),b=this._spotWidth,c=a>0||b>0;if(c){var d=Number(a)||0,e=Number(b)||0,f=Number(this._adWidth)||0,g="0"===this._adWidth;if(g)this._spotDivElement.style.width=this._getSpotWidth()+"px";else{var h=Math.max(d,e,f);this._spotDivElement.style.width=h+"px"}}var i=this._spotDivElement.style.height.replace("px",""),j=this._spotHeight,k=i>0||j>0;if(k){var l=Number(i)||0,m=Number(j)||0,n=Number(this._adHeight)||0,o=Math.max(l,m,n);this._spotDivElement.style.height=o+"px"}}},a.prototype._getIframeDocument=function(){return microadCompass.legacyIE||/msie 9/i.test(b.get("navigator").userAgent)?this._iframe.contentWindow.document:this._iframe.contentDocument},a.prototype._createAdTag=function(){this._calculateIframeSize();var a="",c=b.get("navigator").userAgent;if(microadCompass.legacyIE||/msie 9/i.test(c)){var d;d=this._convert3rdAdTagForLegacyIE(this._adTag),d=null!=d&&d.length>0?d:this._adTag,a+='<html><body style="margin:0;padding:0;border:0;">',this._isNativeAds()&&(a+=this._nativeCss),a+=d,a+="</body></html>"}else{var e=parseInt(this._iframe.width);a+='<meta name="viewport" content="width='+e+', user-scalable=no">',a+='<style type="text/css">\n',a+="body { margin: 0; padding: 0; border: 0; text-align: center; }\n",a+="a { -webkit-tap-highlight-color: rgba(0,0,0,0); }\n",a+="</style>\n";var f="";/linux; u; android 4.0/i.test(c)&&"1"===this._scalable&&"0"!==this._adWidth&&(f+="width:"+this._adWidth+"px; height:"+this._adHeight+"px;"),/firefox/i.test(c)&&(f+="overflow: hidden;"),a+='<body style="'+f+'">',this._isNativeAds()&&(a+='<style type="text/css"> body { text-align: inherit; }</style>',a+=this._nativeCss),a+=this._adTag,a+="</body>"}this._adTag=a},a.prototype._convert3rdAdTagForLegacyIE=function(a){var c="",d=b.get("navigator").userAgent;return a.indexOf("adingoFluct.showAd")>=0?c=this.ssp.fluct.convertAdCodeType1(a):a.indexOf("cdn-fluct.sh.adingo.jp/f.js")>=0?c=this.ssp.fluct.convertAdCodeType2(this._adTag):a.indexOf("imobile")>=0||a.indexOf("google")>=0||a.indexOf("openx")>=0||(a.indexOf("adresult")>=0?/<script/i.test(a)&&(c=this.ssp.adresult.addDeferAttribute(a)):a.indexOf("yads_ad_ds")>=0||(a.indexOf("ssp.advg.jp")>=0?/<script/i.test(a)&&(c=this.ssp.xrost.addDeferAttribute(a)):a.indexOf("//101405.gsspcln.jp/t/004/252/a1004252.js")>=0?/<script/i.test(a)&&(c=this.ssp.geniee.addDeferAttribute(a)):a.indexOf("rubiconproject.com")>=0?/<script/i.test(a)&&(c=this.ssp.rubicon.convertAdCode(a)):a.indexOf("ads.adjust-net.jp")>=0?/<script/i.test(a)&&(c=this.ssp.adjust.convertAdCode(a)):a.indexOf("adm.shinobi.jp")>=0&&/msie 9/i.test(d)?/<script/i.test(a)&&(c=this.ssp.admax.addDeferAttribute(a)):a.indexOf("y.one.impact-ad.jp")>=0?/<script/i.test(a)&&(c=this.ssp.yieldone.addDeferAttribute(a)):a.indexOf("ads.pubmatic.com")>=0?/<script/i.test(a)&&(c=this.ssp.pubmatic.convertAdCode(a)):a.indexOf("criteo.com")>=0?/msie 9/i.test(d)?/<script/i.test(a)&&(c=this.ssp.criteo.convertAdCode(a)):c=this._createAltBanner():a.indexOf("maist.jp")>=0?/<script/i.test(a)&&(c=this.ssp.maist.convertAdCode(a)):a.indexOf("adserver.adtechus.com")>=0?/<script/i.test(a)&&(c=this.ssp.aol.convertAdCodeType1(a)):a.indexOf("uac.advertising.com")>=0?/<script/i.test(a)&&(c=this.ssp.aol.convertAdCodeType2(a)):a.indexOf("adroute")>=0&&/msie 9/i.test(d)?/<script/i.test(a)&&(c=this.ssp.adroute.convertAdCode(a)):a.indexOf("admatrix.jp")>=0||/<script/i.test(a)&&(c=this._createAltBanner()))),c},a.prototype._createAltBanner=function(){var a=this._getAltBannerName(this._adWidth,this._adHeight);if(null===a)return null;var b=this.ssp.compass.altBannerPath,c=this.ssp.compass.altBannerClickUrl,d="";return d+='<a href="'+c+'" target="_blank" border="0" style="border:0">',d+='<img src="'+b+a+'" border="0" style="border:0">',d+="</a>"},a.prototype.display=function(){if(!this._adTag)return void this._appendBeacons();this._createAdTag();var a=this._getIframeDocument();if(null!==a){"1"===this._scalable&&"0"!==this._adWidth&&(this._scaleValue=this._getSpotWidth()/this._adWidth,this._scale(this._scaleValue)),this._setUpAccessories(),a.open(),a.write(this._adTag),a.close();var c=b.get("navigator").userAgent;this._adTag.indexOf("yads_ad_ds")>=0&&(microadCompass.legacyIE||/msie 9/i.test(c))&&(this._adTag=this.ssp.ydn.convertAdCode(this._iframe),a.open(),a.write(this._adTag),a.close()),this._iframeSizeController(),this._appendBeacons()}},a.prototype._appendElement=function(a,c){if(c){var d=b.get("document").createElement("div");a.appendChild(d),d.outerHTML=c}},a.prototype._appendElementForScript=function(a,c){var d=document.createElement("iframe");d.setAttribute("scrolling","no"),d.setAttribute("marginwidth","0"),d.setAttribute("marginheight","0"),d.setAttribute("allowFullScreen","true"),d.setAttribute("allowTransparency","true"),d.setAttribute("border","0"),d.setAttribute("frameBorder","0"),d.setAttribute("width","0"),d.setAttribute("height","0"),d.style.border="0",a.appendChild(d);var e;e=microadCompass.legacyIE||/msie 9/i.test(b.get("navigator").userAgent)?d.contentWindow.document:d.contentDocument,e.open(),e.write("<html><body>"+c+"</body></html>"),e.close()},a.prototype._notifyToFrequency=function(){if(microadCompass&&microadCompass.frequency&&this._isFirstViewing){this._isFirstViewing=!1;const a=microadCompass.frequency;if(this._response.frequency){var b=this._spotDivElement.getAttribute("id");try{a.notify(b,this._request,this._response)}catch(c){throw this._spotDivElement.style.display="none",a.cancel(this._response.spot),new Error(c.message)}}}},a.prototype._appendBeacons=function(){this._impTag&&this._notifyToFrequency(),/<script/i.test(this._syncTag)?this._appendElementForScript(this._spotDivElement,this._syncTag):this._appendElement(this._spotDivElement,this._syncTag),this._appendElement(this._spotDivElement,this._impTag)},a.prototype._reSizeHandler=function(a,b,c){if(c){var d=(Number(b)||0)>0;if(d)return}else{var e="9999"!==b;if(e)return}var f=this._findFirstInElement(a,"iframe");if(f&&(f.setAttribute("width","100%"),f.style.width="100%",c)){var g=this;this._getElementWidth(f,function(a){g._reSizeIframeHeight(f)})}},a.prototype._findFirstInElement=function(a,b){for(var c=a.childNodes,d=0;d<c.length;d++){var e=this._localName(c[d]);if(e===b)return c[d]}return null},a.prototype._getElementWidth=function(a,b){if(a&&b)var c=0,d=0,e=setInterval(function(){++c;try{d=Math.max(a.offsetWidth||0,a.clientWidth||0)}catch(f){}(d>0||c>100)&&(b(d),clearInterval(e))},100)},a.prototype._reSizeIframeHeight=function(a){var b=a.contentDocument||a.contentWindow.document;if("puread"===this._nativeType()){if("undefined"==typeof window.getComputedStyle)return;var c=window.getComputedStyle(b.body,""),d=Number(c.height.replace("px",""))||0,e=0,f=setInterval(function(){var b=Number(c.height.replace("px",""))||0;1===++e&&(a.setAttribute("height",b+"px"),a.style.height=b+"px"),d!=b&&(a.setAttribute("height",b+"px"),a.style.height=b+"px",d=b),e>10&&clearInterval(f)},200)}else if("rtb"===this._nativeType()){for(var g,d,h=b.body.childNodes,e=0;e<h.length;++e)if(g=this._localName(h[e]),"div"===g){d=h[e].clientHeight||0;break}d?(a.setAttribute("height",d+"px"),a.style.height=d+"px"):(a.setAttribute("height","100%"),a.style.height="100%")}},a.prototype._iframeSizeController=function(){if(this._reSizeHandler(this._spotDivElement,this._adWidth,this._isNativeAds()),window.addEventListener){var a=this;this.addEventListener(window,"orientationchange",function(){setTimeout(function(){a._reSizeHandler(a._spotDivElement,a._adWidth,a._isNativeAds())},200)},!1)}},a.prototype._isNativeAds=function(){return this._creativeType===microadCompass.Spot.type["native"]},a.prototype._localName=function(a){var b=a.localName||a.nodeName;return"undefined"!=typeof b?b.toLowerCase():""},a.prototype._nativeType=function(){return this._isNativeAds()?""===this._nativeCss?"puread":"rtb":""},a.prototype._getAdPing=function(a){if(!a)return"";var b=a.match(/src=".*?\?ep=(.+?)"/);return b&&b.length>1?b[1]:""},a.prototype._centerToElement=function(a){a&&(a.style.display="-ms-flexbox",a.style.display="-webkit-flex",a.style.display="flex",a.style.msFlexPack="center",a.style.webkitJustifyContent="center",a.style.justifyContent="center",a.style.msFlexAlign="center",a.style.webkitAlignItems="center",a.style.alignItems="center",a.style.position="relative",""===a.style.display&&(a.style.display="-webkit-box",a.style.WebkitBoxAlign="center",a.style.WebkitBoxPack="center",/firefox/i.test(b.get("navigator").userAgent)&&(this._isInline()?(a.style.width="100%",a.style.textAlign="center"):(a.style.display="-moz-box",a.style.MozBoxAlign="center",a.style.MozBoxPack="center"))))},a.prototype._setUpAccessories=function(){this._accessories=new microadCompass.SpotAccessories(this._spotDivElement,{isWipe:microadCompass.CreativeFactory.isWipe(this._response),maybeCloseButton:this._maybeCloseButton,maybePrLabelPos:this._maybePrLabelPos,maybeOptoutLink:this._maybeOptoutLink,scaleValue:this._scaleValue,spotId:this._response.spot})},a.prototype.addEventListener=function(a,b,c,d){var e=this._targetEvents[a]||{};this._targetEvents[a]=e;var f=e[b]||[];this._targetEvents[a][b]=f,f.push({target:a,callback:c,options:d}),a.addEventListener(b,c,d)},a.prototype.removeAllEventListener=function(){for(var a in this._targetEvents)this._targetEvents.hasOwnProperty(a)&&this.removeAllEventListenerByTarget(a)},a.prototype.removeAllEventListenerByTarget=function(a){var b=this._targetEvents[a]||{};for(var c in b)if(b.hasOwnProperty(c))for(var d=b[c]||[];d.length>0;){var e=d.shift();e.target.removeEventListener(c,e.callback,e.options)}},a.prototype.toExtendAdResponse=function(a,b){return a},a}(),microadCompass.OverlayCreative=microadCompass.OverlayCreative||function(){"use strict";function a(a,c,d){microadCompass.IframeCreative.apply(this,arguments),this._device=microadCompass.DeviceFactory.getInstance(b.get("navigator").userAgent),this._top=c.top?parseInt(c.top,10):null,this._bottom=c.bottom?parseInt(c.bottom,10):null,this._left=c.left?parseInt(c.left,10):null,this._right=c.right?parseInt(c.right,10):null}var b=microadCompass.Injector;return a.prototype=microadCompass.Object.create(microadCompass.IframeCreative.prototype),a.prototype.constructor=a,a.DEFAULT_TIMEOUT=500,a.HIDE_OVERLAY=!1,a.prototype._device,a.prototype._overlayPosition,a.prototype._pageRatio=1,a.prototype._top,a.prototype._bottom,a.prototype._left,a.prototype._right,a.prototype._overlayPluginParams,a.prototype.FOOTER_CLASS_NAME="microad-overlay-footer",a.prototype._overlayExtension,a.prototype.initialize=function(a){microadCompass.IframeCreative.prototype.initialize.apply(this),this._adTag&&(this._overlayPluginParams=a,"0"===this._adWidth&&this._calculateIframeSize(),this._spotDivElement.style.position="fixed",this._spotDivElement.style.left="50%",this._spotDivElement.style.marginLeft=this._getMarginLeft()+"px",this._spotDivElement.style.zIndex=2999999,this._spotDivElement.style.height=this._adHeight/this._pageRatio+"px",this._iframe.style.WebkitTransformOrigin="50% 100%",this._iframe.style.MozTransformOrigin="50% 100%",microadCompass.Utility.addCssVariable(),this._createFooterCss(),null!=this._top?this._changeTop():this._changeBottom(),this._usePlugins()||this._executeAdjustPosition())},a.prototype.close=function(){microadCompass.IframeCreative.prototype.close.apply(this),this._hideFooter(),this._overlayExtension&&this._overlayExtension.stop()},a.prototype._isInline=function(){return!1},a.prototype._executeAdjustPosition=function(){setInterval(function(){var a=this._overlayPluginParams.isScrollEndControl,b=Number.isNaN(a)||0===a;b||this._adjustAdPosition(!1)}.bind(this),100)},a.prototype.display=function(){if(microadCompass.IframeCreative.prototype.display.apply(this),this._adTag){var a=!0;this._overlayPosition=null!=this._top?"top":"bottom",this._adjustAdPosition(a),this._showAd()}},a.prototype._showAd=function(){this._spotDivElement.style.display="-moz-box",this._spotDivElement.style.display="-webkit-box",this._usePlugins()&&this._loadPlugin(this._overlayPluginParams)},a.prototype._usePlugins=function(){return this._isValidAnimationParameter()||this._isValidDecorationParameter()||this._isValidScrollParameter()||this._isValidRotationParameter()},a.prototype._isValidAnimationParameter=function(){return null!==this._overlayPluginParams.animation||null!==this._overlayPluginParams.animationMS&&null!==this._overlayPluginParams.animationEasing&&null!==this._overlayPluginParams.startPosY},a.prototype._isValidDecorationParameter=function(){return this._overlayPluginParams.bandHeight>0},a.prototype._isValidScrollParameter=function(){return 0===this._overlayPluginParams.displayInScrolling},a.prototype._isValidRotationParameter=function(){return null!==this._overlayPluginParams.rotationSec},a.prototype._loadPlugin=function(a){this._overlayExtension=new microadOverlayExtension.Initialize(this._spotDivElement,{animation:a.animation,animationMS:a.animationMS,animationEasing:a.animationEasing,startPosY:a.startPosY,displayType:a.displayType,displayPosition:a.displayPosition,displayInScrolling:a.displayInScrolling,reDisplayType:a.reDisplayType,rotationSec:a.rotationSec,bandHeight:a.bandHeight,bandBgColor:a.bandBgColor,bandString:a.bandString,bandFontColor:a.bandFontColor},{overlay:this})},a.prototype._adjustAdPosition=function(a){this._calculatePosition(a),"top"===this._overlayPosition?(this._changeTop(),this._accessories.moveDisplayPosition("TOP"),this._iframe.style.WebkitTransformOrigin="50% 0%",this._iframe.style.MozTransformOrigin="50% 0%"):(this._changeBottom(),this._accessories.moveDisplayPosition("BOTTOM"),this._iframe.style.WebkitTransformOrigin="50% 100%",this._iframe.style.MozTransformOrigin="50% 100%")},a.prototype._changeOpacity=function(a){a.opacity=0,setTimeout(function(){a.opacity=1},25)},a.prototype._getMarginTop=function(){return-1*("0"===this._adHeight?this._adHeight:this._adHeight)/2},a.prototype._getMarginLeft=function(){return-1*("0"===this._adWidth?this._iframe.width.replace("px",""):this._adWidth)/2},a.prototype._calculatePosition=function(a){this._oldOverlayPosition=this._overlayPosition;var b=this._overlayPluginParams.isScrollEndControl,c=Number.isNaN(b)||0===b;c||(this._isScrollDisabledPage()||this._isNotScrollToBottom()||this._oldConditions()?this._overlayPosition="bottom":this._overlayPosition="top"),this._oldOverlayPosition!==this._overlayPosition&&(this._usePlugins()&&!a?this._changeOpacity(this._spotDivElement.style):this._usePlugins()||this._changeOpacity(this._spotDivElement.style))},a.prototype._isScrollDisabledPage=function(){return b.get("window").innerHeight===this._getScreenHeight()},a.prototype._isNotScrollToBottom=function(){var a=1,c=b.get("window");return c.pageYOffset+c.innerHeight+a<this._getScreenHeight()},a.prototype._oldConditions=function(){return b.get("window").pageYOffset*this._pageRatio<this._adHeight},a.prototype._getScreenHeight=function(){var a=b.get("document");return Math.max.apply(null,[a.body.clientHeight,a.body.scrollHeight,a.documentElement.scrollHeight,a.documentElement.clientHeight])},a.prototype._matchHeightOnScale=function(a){},a.prototype._enableCssSupports=function(){return!(!("CSS"in b.get("window"))||"function"!=typeof CSS.supports)},a.prototype._getSupportCalcFuncName=function(){return this._enableCssSupports()&&CSS.supports("top: calc(1px)")?"calc":""},a.prototype._getSupportMaxFuncName=function(){return this._enableCssSupports()&&CSS.supports("top: max(0px, 1px)")?"max":""},a.prototype._getSupportSafeAreaFuncName=function(){return this._enableCssSupports()?CSS.supports("top: env(safe-area-inset-bottom)")?"env":CSS.supports("top: constant(safe-area-inset-bottom)")?"constant":"":""},a.prototype._getSafeAreaCssValue=function(a,b){var c=b||"0px",d=this._getSupportSafeAreaFuncName();return d?d+"("+a+", "+c+")":c},a.prototype._wrapCalc=function(a,b){var c=this._wrapMax(a,b),d=this._getSupportCalcFuncName();return d?d+"("+c+")":c},a.prototype._wrapMax=function(a,b){var c=b||"0px",d=this._getSupportMaxFuncName();return d?d+"("+a+", "+c+")":a},a.prototype._createFooterCss=function(){var a=b.get("document"),c=a.getElementsByTagName("head");if(!(c.length<=0)){var d=a.createElement("style"),e=["#"+this._spotDivElement.id+"."+this.FOOTER_CLASS_NAME+"::after {",'  content: "";',"  position: fixed;","  bottom: 0;","  left: 0;","  width: 100%;","  height: "+this._wrapCalc(this._getSafeAreaCssValue("safe-area-inset-bottom"))+";","  background: #000;","}"].join("\n");d.appendChild(a.createTextNode(e)),c[0].appendChild(d)}},a.prototype._numberOrZero=function(a){return null===a?0:a},a.prototype._toPixel=function(a){var b=this._numberOrZero(a);return String(b).indexOf("px")>0?b:b+"px"},a.prototype._calcVerticalPosition=function(){var a={top:null,bottom:null};return this._response.dragPosition?microadCompass.Utility.isAtLeastZero(this._response.dragPosition.top)?a.top=this._response.dragPosition.top:microadCompass.Utility.isAtLeastZero(this._response.dragPosition.bottom)&&(a.bottom=this._response.dragPosition.bottom):microadCompass.Utility.isAtLeastZero(this._top)?a.top=this._top:microadCompass.Utility.isAtLeastZero(this._bottom)&&(a.bottom=this._bottom),a},a.prototype._calcHorizontalPosition=function(){var a={left:null,right:null};return this._response.dragPosition?microadCompass.Utility.isAtLeastZero(this._response.dragPosition.left)?a.left=this._response.dragPosition.left:microadCompass.Utility.isAtLeastZero(this._response.dragPosition.right)&&(a.right=this._response.dragPosition.right):microadCompass.Utility.isAtLeastZero(this._left)?a.left=this._left:microadCompass.Utility.isAtLeastZero(this._right)&&(a.right=this._right),a},a.prototype._adjustVerticalPosition=function(){if(null===this._top&&null===this._bottom)return this._spotDivElement.style.top="50%",void(this._spotDivElement.style.marginTop=this._toPixel(this._getMarginTop()));var a=microadCompass.Utility.getBoundingClientRect(this._spotDivElement),b=microadCompass.Utility.getWindowHeight(),c=this._calcVerticalPosition(),d=this._accessories?this._accessories.getOverhangVerticalValue():{top:0,bottom:0};if(microadCompass.Utility.isAtLeastZero(c.top)){var e=Math.max(c.top,d.top),f=e+a.height;f>b?(this._spotDivElement.style.top="",this._spotDivElement.style.bottom=this._wrapCalc(this._getSafeAreaCssValue("safe-area-inset-bottom"),this._toPixel(0))):(this._spotDivElement.style.top=this._wrapMax(this._toPixel(c.top),this._toPixel(d.top)),this._spotDivElement.style.bottom="")}if(microadCompass.Utility.isAtLeastZero(c.bottom)){var f=b-c.bottom;f<0?(this._spotDivElement.style.top=this._wrapMax(this._toPixel(0),this._toPixel(d.top)),this._spotDivElement.style.bottom=""):(this._spotDivElement.style.top="",this._spotDivElement.style.bottom=this._wrapCalc(this._getSafeAreaCssValue("safe-area-inset-bottom"),this._toPixel(c.bottom)))}},a.prototype._adjustHorizontalPosition=function(){if(null===this._left&&null===this._right)return this._spotDivElement.style.left="50%",void(this._spotDivElement.style.marginLeft=this._toPixel(this._getMarginLeft()));var a=microadCompass.Utility.getBoundingClientRect(this._spotDivElement),b=microadCompass.Utility.getWindowWidth(),c=this._calcHorizontalPosition();if(microadCompass.Utility.isAtLeastZero(c.left)){var d=c.left+a.width;d>b?(this._spotDivElement.style.left="",this._spotDivElement.style.right=this._toPixel(0)):(this._spotDivElement.style.left=this._toPixel(c.left),this._spotDivElement.style.right="")}if(microadCompass.Utility.isAtLeastZero(c.right)){var d=b-(a.width+c.right);d<0?(this._spotDivElement.style.left=this._toPixel(0),this._spotDivElement.style.right=""):(this._spotDivElement.style.left="",this._spotDivElement.style.right=this._toPixel(c.right))}},a.prototype._changeTop=function(){this._overlayPosition="top",this._spotDivElement.style.top=this._wrapMax(this._toPixel(this._top)),this._spotDivElement.style.bottom="",this._hideFooter()},a.prototype._changeBottom=function(){this._overlayPosition="bottom",this._spotDivElement.style.top="",this._spotDivElement.style.bottom=this._wrapCalc(this._getSafeAreaCssValue("safe-area-inset-bottom"),this._toPixel(this._bottom)),this._adjustFooter(this._overlayPosition)},a.prototype._hideFooter=function(){this._spotDivElement.classList.remove(this.FOOTER_CLASS_NAME)},a.prototype._showFooter=function(){this._spotDivElement.classList.contains(this.FOOTER_CLASS_NAME)||this._spotDivElement.classList.add(this.FOOTER_CLASS_NAME)},a.prototype._adjustFooter=function(a){return"top"===a?void this._hideFooter():void this._showFooter()},a}(),microadCompass.WipeCreative=microadCompass.WipeCreative||function(){"use strict";function a(a,c,d){microadCompass.OverlayCreative.apply(this,arguments),this._device=microadCompass.DeviceFactory.getInstance(b.get("navigator").userAgent),this._scalable="0",this._isDraggable=c.isdraggable?"true"===c.isdraggable.toLowerCase():null,this._hasRoundedCorners=c.hasroundedcorners?"true"===c.hasroundedcorners.toLowerCase():null}var b=microadCompass.Injector;return a.prototype=microadCompass.Object.create(microadCompass.OverlayCreative.prototype),a.prototype.constructor=a,a.prototype._device,a.prototype._isDraggable,a.prototype._hasRoundedCorners,a.prototype._dragManager,a.prototype.initialize=function(){if(microadCompass.OverlayCreative.prototype.initialize.apply(this),this._adTag){"0"===this._adWidth&&this._calculateIframeSize(),this._spotDivElement.style.zIndex=2999999,this._spotDivElement.style.height=this._adHeight/this._pageRatio+"px",this._iframe.style.WebkitTransformOrigin="50% 100%",this._iframe.style.MozTransformOrigin="50% 100%",this._hasRoundedCorners&&(this._iframe.style.borderRadius="6px");var a=b.get("window");this.addEventListener(a,"orientationchange",function(){setTimeout(function(){this._adjustAdPosition(!1)}.bind(this),200)}.bind(this))}},a.prototype.display=function(){microadCompass.OverlayCreative.prototype.display.apply(this),this._adTag&&this._isDraggable&&(this._dragManager=new microadCompass.IFrameDrag(this,this._spotDivElement,this._iframe,this._accessories),this._dragManager.setupDrag())},a.prototype._usePlugins=function(){return!1},a.prototype._executeAdjustPosition=function(){this._adjustAdPosition(!1)},a.prototype._adjustAdPosition=function(a){this._spotDivElement.style.position="fixed",this._spotDivElement.style.marginTop="",this._spotDivElement.style.marginBottom="",this._spotDivElement.style.marginLeft="",this._spotDivElement.style.marginRight="",this._spotDivElement.style.top="",this._spotDivElement.style.bottom="",this._spotDivElement.style.right="",this._spotDivElement.style.left="",this._adjustVerticalPosition(),this._adjustHorizontalPosition()},a.prototype._createFooterCss=function(){},a.prototype._showFooter=function(){},a.prototype.toExtendAdResponse=function(a,b){var c=a.spottype===microadCompass.Spot.type.video&&(parseInt(a.top,10)>=0||parseInt(a.bottom,10)>=0)&&(parseInt(a.left,10)>=0||parseInt(a.right,10)>=0);if(!c)return a;var d=this._response.isdraggable===a.isdraggable&&this._response.top===a.top&&this._response.left===a.left&&this._response.right===a.right&&this._response.bottom===a.bottom;if(!d)return a;if(b){var e={top:null,left:null,right:null,bottom:null},f=microadCompass.Utility.getWindowWidth(),g=b.left,h=f-b.right;g<h?e.left=g:e.right=h;var i=microadCompass.Utility.getWindowHeight(),j=b.top,k=i-b.bottom;j<k?e.top=j:e.bottom=k,a.dragPosition=e}return a},a}(),microadCompass.DeviceFactory=microadCompass.DeviceFactory||function(){"use strict";function a(){throw new ReferenceError("[MicroAd COMPASS] Do not construct this object")}return a.getInstance=function(a){return/(iphone|ipad|ipod)/i.test(a)?new microadCompass.IosDevice(a):/android/i.test(a)?new microadCompass.AndroidDevice(a):new microadCompass.SmartDevice(a)},a}(),microadCompass.Device=microadCompass.Device||function(){"use strict";function a(a){this.userAgent=a}return a.prototype.userAgent,a}(),microadCompass.SmartDevice=microadCompass.SmartDevice||function(){"use strict";function a(a){microadCompass.Device.apply(this,arguments)}function b(a){return/windows phone/i.test(a)}return a.prototype=microadCompass.Object.create(microadCompass.Device.prototype),a.prototype.orientationChange="orientationchange",a.prototype.touchstart=function(){return b(this.userAgent)?"MSPointerDown":"touchstart"},a.prototype.touchmove=function(){return b(this.userAgent)?"MSPointerMove":"touchmove"},a.prototype.touchend=function(){return b(this.userAgent)?"MSPointerUp":"touchend"},a}(),microadCompass.IosDevice=microadCompass.IosDevice||function(){"use strict";function a(a){microadCompass.Device.apply(this,arguments)}return a.prototype=microadCompass.Object.create(microadCompass.Device.prototype),a.prototype.orientationChange="orientationchange",a.prototype.touchstart=function(){return"touchstart"},a.prototype.touchmove=function(){return"touchmove"},a.prototype.touchend=function(){return"touchend"},a}(),microadCompass.AndroidDevice=microadCompass.AndroidDevice||function(){"use strict";function a(a){microadCompass.Device.apply(this,arguments),this.orientationChange=this._getOrientationChangeName()}return a.prototype=microadCompass.Object.create(microadCompass.Device.prototype),a.prototype.orientationChange,a.prototype.touchstart=function(){return"mousedown"},a.prototype.touchmove=function(){return"mousemove"},a.prototype.touchend=function(){return"mouseup"},a.prototype._getOrientationChangeName=function(){var a=this.userAgent.match(/Android[^;]*/),b=a[0].split(/[\s\.-]/),c=b[1],d=b[2];return c>2?"orientationchange":2==c&&d>1?"orientationchange":"resize"},a}(),microadCompass.AdCode=microadCompass.AdCode||function(){"use strict";function a(){}return a.prototype.addDeferAttribute=function(a){var b=a.match(/.*src=['"](.+)['"].*/);return void 0!=b[1]?'<script type="text/javascript" language="JavaScript" src="'+b[1]+'" defer></script>':a},a}(),microadCompass.Spot=microadCompass.Spot||{type:{banner:"banner","native":"native",video:"video"}},microadCompass.Video=microadCompass.Video||{mimes:[{id:100,type:"video/mp4"},{id:200,type:"video/quicktime"},{id:300,type:"video/webm"},{id:301,type:"video/webm;codecs=vp8"},{id:302,type:"video/webm;codecs=vp9"}],type:{wipe:"wipe"},pr_label_pos:{innerupperright:"innerupperright",innerupperleft:"innerupperleft",outerupperright:"outerupperright",outerupperleft:"outerupperleft"}},microadCompass.IFrameDrag=microadCompass.IFrameDrag||function(){"use strict";function a(a,b,c,d){this._creative=a,this._moveTarget=b,this._eventTargetIFrame=c,this._accessories=d,this._isDragging=!1,this._startPoint={x:0,y:0},this._isAppendedEventBlocker=!1,this._clickBlocker=document.createElement("div"),this._clickBlocker.style.margin="0",this._clickBlocker.style.padding="0",this._clickBlocker.style.position="absolute",this._clickBlocker.style.top="0px",this._clickBlocker.style.left="0px",this._clickBlocker.style.width="100%",this._clickBlocker.style.height="100%",this._clickBlocker.style.zIndex="99999999"}var b=microadCompass.Injector;return a.prototype._creative,a.prototype._moveTarget,a.prototype._eventTargetIFrame,a.prototype._accessories,a.prototype._isDragging,a.prototype._startPoint,a.prototype._clickBlocker,a.prototype._isAppendedEventBlocker,a.prototype.setupDrag=function(){var a=setInterval(function(){var b=this._getIframeBody();b&amp;&amp;(clearInterval(a),this._setupDragEvent(b))}.bind(this),30)},a.prototype._setupDragEvent=function(a){var c=microadCompass.Utility.getDeviceTouchEvent(),d=b.get("document"),e=b.get("window");microadCompass.Utility.unSelectStyle(a),this._creative.addEventListener(a,c.start,this._doIFrameDragStart.bind(this),{passive:!1}),this._creative.addEventListener(d,c.end,this._doIFrameDragEnd.bind(this),{passive:!1}),this._creative.addEventListener(a,c.move,this._doIFrameDrag.bind(this),{passive:!1}),this._creative.addEventListener(e,"resize",this._doWindowResize.bind(this),{passive:!1})},a.prototype._setStartPoint=function(a){this._startPoint=this._toClientPoint(a)},a.prototype._toClientPoint=function(a){return{x:a.changedTouches?a.changedTouches[0].clientX:a.clientX,y:a.changedTouches?a.changedTouches[0].clientY:a.clientY}},a.prototype._movePoint=function(a){var b=this._toClientPoint(a);return{x:b.x-this._startPoint.x,y:b.y-this._startPoint.y,startX:this._startPoint.x,startY:this._startPoint.y,clientX:b.x,clientY:b.y}},a.prototype._getIframeBody=function(){var a=this._eventTargetIFrame.contentDocument;return a?a.body:null},a.prototype._appendChildByIframeBody=function(a){var b=this._getIframeBody();b&amp;&amp;b.appendChild(a)},a.prototype._removeChildByIframeBody=function(a){var b=this._getIframeBody();b&amp;&amp;b.removeChild(a)},a.prototype._appendClickBlocker=function(){this._isAppendedEventBlocker||(this._isAppendedEventBlocker=!0,this._appendChildByIframeBody(this._clickBlocker))},a.prototype._removeClickBlocker=function(){this._isAppendedEventBlocker&amp;&amp;(this._isAppendedEventBlocker=!1,this._removeChildByIframeBody(this._clickBlocker))},a.prototype._doIFrameDragStart=function(a){this._isIFrameDragging=!0,this._setStartPoint(a)},a.prototype._doIFrameDragEnd=function(a){this._isIFrameDragging=!1,this._removeClickBlocker()},a.prototype._doIFrameDrag=function(a){if(this._isIFrameDragging){if(null!=a.buttons){if(0===a.buttons)return this._removeClickBlocker(),void(this._isIFrameDragging=!1);this._appendClickBlocker()}a.preventDefault();var b=this._movePoint(a),c=microadCompass.Utility.getBoundingClientRect(this._eventTargetIFrame);this._moveX(c,b),this._moveY(c,b)}},a.prototype._doWindowResize=function(a){var b={x:0,y:0,startX:this._startPoint.x,startY:this._startPoint.y,clientX:this._startPoint.x,clientY:this._startPoint.y},c=microadCompass.Utility.getBoundingClientRect(this._eventTargetIFrame);this._moveX(c,b),this._moveY(c,b);
},a.prototype._moveX=function(a,b){var c=microadCompass.Utility.getWindowWidth(),d=microadCompass.Utility.toPixel(this._calcPositionX(0,c,a,b.x));this._moveTarget.style.bottom="",this._changeStyleLeft(d)||(this._startPoint.x=b.clientX)},a.prototype._moveY=function(a,b){var c=microadCompass.Utility.getWindowHeight(),d=microadCompass.Utility.pixelToNumber(microadCompass.Utility.getCssVariable("--ma-safe-area-inset-bottom","0px"),0),e=this._accessories?this._accessories.getOverhangVerticalValue():{top:0,bottom:0},f=microadCompass.Utility.toPixel(this._calcPositionY(e.top,c-d,a,b.y));this._moveTarget.style.right="",this._changeStyleTop(f)||(this._startPoint.y=b.clientY)},a.prototype._changeStyleLeft=function(a){var b=this._moveTarget.style.left;return this._moveTarget.style.left=a,this._moveTarget.style.left!==b},a.prototype._changeStyleTop=function(a){var b=this._moveTarget.style.top;return this._moveTarget.style.top=a,this._moveTarget.style.top!==b},a.prototype._calcPositionX=function(a,b,c,d){var e=d+c.left,f=b-c.width;return a&gt;e?a:f<e?f:e},a.prototype._calcpositiony=function(a,b,c,d){var a="" e="d+c.top,f=b-c.height;return">e?a:f<e?f:e},a}(),microadcompass.ssp=microadcompass.ssp||function(){"use ;a='a.replace("\r\n","\n");for(var' a="new" a(){this.fluct="new" a(){var="" a(){}var="" a.prototype="microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a.prototype.convertAdCodeType1=function(a){var" a.prototype.altbannerpath,a.prototype.altbannerclickurl,a.prototype.altbanners,a}(),microad.advertising.ssp.fluct='microad.advertising.ssp.Fluct=function(){"use' a.prototype.fluct,a.prototype.compass,a.prototype.adresult,a.prototype.ydn,a.prototype.xrost,a.prototype.geniee,a.prototype.rubicon,a.prototype.adjust,a.prototype.admax,a.prototype.yieldone,a.prototype.pubmatic,a.prototype.criteo,a.prototype.maist,a.prototype.aol,a.prototype.adroute,a}(),microad.advertising.ssp.compass='microad.advertising.ssp.Compass=function(){"use' b="" c='a.split("\n"),d=0;d&lt;c.length;d++)if(c[d].indexOf("adingoFluct.showAd")' microad.advertising.ssp.adjust,this.admax="new" microad.advertising.ssp.admax,this.yieldone="new" microad.advertising.ssp.adresult,this.ydn="new" microad.advertising.ssp.adroute}return="" microad.advertising.ssp.aol,this.adroute="new" microad.advertising.ssp.compass,this.adresult="new" microad.advertising.ssp.criteo,this.maist="new" microad.advertising.ssp.fluct,this.compass="new" microad.advertising.ssp.geniee,this.rubicon="new" microad.advertising.ssp.maist,this.aol="new" microad.advertising.ssp.pubmatic,this.criteo="new" microad.advertising.ssp.rubicon,this.adjust="new" microad.advertising.ssp.xrost,this.geniee="new" microad.advertising.ssp.ydn,this.xrost="new" microad.advertising.ssp.yieldone,this.pubmatic="new" microadcompass.settings(microadcompass.environment),c='b.get("document").location.protocol,d={jp:"//i.microad.net/images/compass/"},e={jp:"//www.microad.co.jp/service/compass/"};this.altBannerPath=c+d[a.deliveryArea],this.altBannerClickUrl=c+e[a.deliveryArea],this.altBanners=["728-90","468-60","336-280","300-600","300-250","260-230","200-200","160-600"]}var' strict";function="">=0){var e=!1;window.attachEvent?(b+="window.attachEvent('onload', function(){\n",e=!0):window.addEventListener&amp;&amp;(b+="window.addEventListener('load', function(){\n",e=!0),b+=c[d]+"\n",e&amp;&amp;(b+="});\n")}else b+=c[d]+"\n";return b},a.prototype.convertAdCodeType2=function(a){var c="",d=a.match(/.*src=['"](.+)['"]&gt;.*/),e=a.match(/.*uid=([0-9]+).*/),f=a.match(/.*G=([0-9]+).*/),g=encodeURIComponent(b.get("document").URL),h=Math.abs(1e4*Math.random()&lt;&lt;16);return c+='<script src="'+d[1]+'" type="text/javascript"></script>\n',c+='<script &href="+g+" &serial="+h+'&amp;guid=ON" src="http://sh.adingo.jp/?G='+f[1]+" type="text/javascript"></script>\n',c+='<script type="text/javascript">\n',c+="<!--\n",window.attachEvent?c+='window.attachEvent("onload", function(){ \n':window.addEventListener&&(c+='window.addEventListener("load", function(){ \n'),c+='  adingoFluct.showAd("'+e[1]+'");\n',c+="});\n",c+="//-->\n",c+="</script>\n"},a}(),microad.advertising.ssp.ADResult=microad.advertising.ssp.ADResult=function(){"use strict";function a(){}return a.prototype=microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a}(),microad.advertising.ssp.YDN=microad.advertising.ssp.YDN=function(){"use strict";function a(){}var b=microadCompass.Injector;return a.prototype=microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a.prototype.convertAdCode=function(a){var c=a.contentWindow.document.body.innerHTML,d="",e=[];try{d=c.match(/.*yads_ad_ds = '([0-9_]+)'.*/)[1],/msie 9/i.test(b.get("navigator").userAgent)?e=c.match(/.*src="(.+)"&gt;.*src="(.+)"&gt;.*src="(.+)"&gt;.*/):(e=c.match(/.* src="([\w\/:%#\$&amp;\?\(\)~\.=\+\-]+)"&gt;.*/),e[2]=c.match(/.*src="(.*i\.yimg\.jp.*)"&gt;.*/i)[1],e[3]=c.match(/.* src="([\w\/:;%#\$&amp;\?\(\)~\.=\+\-]+)"&gt;&lt;\/script&gt;$/i)[1])}catch(f){for(var g=0;g&lt;=3;g++)e[g]=""}var h="";h+='<script language="JavaScript" type="text/javascript">\n',h+="<!--\n",h+="yads_ad_ds = '"+d+"';\n",h+="-->\n",h+="</script>\n";try{h+='<script language="JavaScript" src="'+e[1]+'" type="text/javascript"></script>\n',h+='<script language="JavaScript" src="'+e[2]+'" type="text/javascript"></script>\n',h+='<script defer="" language="JavaScript" src="'+e[3]+'" type="text/javascript"></script>'}catch(f){}return h},a}(),microad.advertising.ssp.Xrost=microad.advertising.ssp.Xrost=function(){"use strict";function a(){}return a.prototype=microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a}(),microad.advertising.ssp.Geniee=microad.advertising.ssp.Geniee=function(){"use strict";function a(){}return a.prototype=microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a}(),microad.advertising.ssp.Rubicon=microad.advertising.ssp.Rubicon=function(){"use strict";function a(){}return a.prototype=microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a.prototype.convertAdCode=function(a){var b=a;if(b+='<script type="text/javascript">\n',b+="<!--\n",window.attachEvent)b+='window.attachEvent("onload", function(){\n';else{if(!window.addEventListener)return a;b+='window.addEventListener("load", function(){\n'}return b+='  var scripts = document.getElementsByTagName("script");\n',b+='  var src = "";\n',b+="  for (var i=0; i<scripts.length; i++) {\n",b+="    if (scripts[i].src.length > 0) src = scripts[i].src;\n",b+="  }\n",b+="  var matches = src.match(/[^0-9-]([0-9-]+).js?/);\n",b+="  var zone_id = matches[1] ? matches[1] : null;\n",b+="  if (zone_id !== null) rp_requests.sendRequest(zone_id);\n",b+="});\n",b+="//-->\n",b+="</script>\n"},a}(),microad.advertising.ssp.Adjust=microad.advertising.ssp.Adjust=function(){"use strict";function a(){}return a.prototype=microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a.prototype.convertAdCode=function(a){return a.replace(/&gt;&lt;\/scr/i," defer&gt;<!--\n',b+=this._createWriteScript(),window.attachEvent)b+='window.attachEvent("onload", function(){\n';else{if(!window.addEventListener)return a;b+='window.addEventListener("load", function(){\n'}return b+=this._createIframeScript(),b+="document.write = document._write;\n",b+="document.writeln = document._writeln;\n",b+="});\n",b+="//-->\n",b+="\n",b+=a},a.prototype._createWriteScript=function(){var a="";return a+="document._write = document.write;\n",a+="document._writeln = document.writeln;\n",a+="var iframeHtml = [];\n",a+="document.write = function(s) {\n",a+="  if (iframeHtml.length &gt; 0) {\n",a+="    iframeHtml.push(s);\n",a+='  } else if (s.indexOf("script") &gt;= 0 &amp;&amp; s.indexOf("AdServer") &gt;= 0) {\n',a+="    s = s.replace(/&gt;&lt;\\/scr/i, ' defer&gt;&lt;\\/scr');\n",a+="    document._write(s);\n",a+='  } else if (s.indexOf("<span class='\\"PubAdAI\\"'>") &gt;= 0) {\n',a+="    iframeHtml.push(s);\n",a+="  } else {\n",a+="    document._write(s);\n",a+="  }\n",a+="}\n",a+="document.writeln = document.write;\n"},a.prototype._createIframeScript=function(){var a="";return a+="var iframe = document.createElement('iframe');\n",a+="iframe.setAttribute('scrolling', 'no');\n",a+="iframe.setAttribute('marginwidth', '0');\n",a+="iframe.setAttribute('marginheight', '0');\n",a+="iframe.setAttribute('allowFullScreen', 'true');\n",a+="iframe.setAttribute('allowTransparency', 'true');\n",a+="iframe.setAttribute('border', '0');\n",a+="iframe.setAttribute('frameBorder', '0');\n",a+="iframe.style.border = '0';\n",a+="iframe.width = kadwidth;\n",a+="iframe.height = kadheight;\n",a+="document.body.appendChild(iframe);\n",a+="var win = iframe.contentWindow;\n",a+="var doc = win.document;\n",a+="win.PubMatic = PubMatic;\n",a+='doc.write("<html><head></head><body style='\\"margin:0;padding:0;border:0;\\"'>"+iframeHtml.join("")+"</body></html>");\n'},a}(),microad.advertising.ssp.Criteo=microad.advertising.ssp.Criteo||function(){"use strict";function a(){}return a.prototype=microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a.prototype.convertAdCode=function(a){var b="";if(b+='<script type="text/javascript"><!--\n',b+=this._createWriteScript(),window.attachEvent)b+='window.attachEvent("onload", function(){\n';else{if(!window.addEventListener)return a;b+='window.addEventListener("load", function(){\n'}return b+="document.write = document._write;\n",b+="document.writeln = document._writeln;\n",b+="});\n",b+="//-->\n",b+="</script>\n",b+=a},a.prototype._createWriteScript=function(){var a="";return a+="document._write = document.write;\n",a+="document._writeln = document.writeln;\n",a+="document.write = function(s) {\n",a+='  if (s.indexOf("script") &lt; 0 &amp;&amp; /&lt;\\/?[^&gt;]+&gt;/i.test(s)) {\n',a+="    var element = document.createElement('div');\n",a+="    element.innerHTML = s;\n",a+="    element = element.firstChild;\n",a+="    document.body.appendChild(element);\n",a+="  } else {\n",a+="    document._write(s);\n",a+="  }\n",a+="}\n",a+="document.writeln = document.write;\n"},a}(),microad.advertising.ssp.Maist=microad.advertising.ssp.Maist=function(){"use strict";function a(){}return a.prototype=microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a.prototype.convertAdCode=function(a){return a.replace(/<script <script="" a(){}return="" a.prototype="microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a.prototype.convertAdCodeType1=function(a){return" a.replace(="" defer")},a}(),microad.advertising.ssp.aol='microad.advertising.ssp.Aol=function(){"use' gi,"<script="" language="javascript" strict";function="">/i,'<script language="javascript" defer>')},a.prototype.convertAdCodeType2=function(a){return a.replace(/><\/scr/i," defer></scr")},a}(),microad.advertising.ssp.Adroute=microad.advertising.ssp.Adroute=function(){"use strict";function a(){}return a.prototype=microadCompass.Object.create(microadCompass.AdCode.prototype),a.prototype.constructor=a,a.prototype.convertAdCode=function(a){return a.replace(/><\/scr/i," defer></scr")},a}(),microadCompass.Cookie=microadCompass.Cookie||function(){"use strict";function a(a){return b?b:(b=this,this._settings=a,b)}var b,c=microadCompass.Injector;return a.prototype._settings,a.prototype.loadMicroadCookies=function(a){var d=a||function(){},e=this.createIframe(),f=c.get("document").body;if(null===f){var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g)}else f.appendChild(e);e.src=this._settings.cookieUrl;var h=function(a){a.origin===b._settings.cacheUrl&&"undefined"!=typeof a.data.rtus&&null!==a.data.rtus&&(microadCompass.rtusId=encodeURIComponent(a.data.rtus),d(),window.removeEventListener?window.removeEventListener("message",h,!1):window.detachEvent&&window.detachEvent("onmessage",h))};window.addEventListener?window.addEventListener("message",h,!1):window.attachEvent&&window.attachEvent("onmessage",h)},a.prototype.createIframe=function(){var a=document.createElement("iframe");return a.width=1,a.height=1,a.frameborder=0,a.setAttribute("style","position:absolute; top:-9999px; left: -9999px; border-style: none"),a},a}(),microadCompass.AudienceTrackers=microadCompass.AudienceTrackers||function(){"use strict";function a(a,b,c,d){this._doneComplete=!1,this._trackers=a,this._processedTrackerLength=0,this._timeoutMs=d,this._onProcess=b||function(){},this._onComplete=c||function(){}}return a.prototype.track=function(){var a=!!this._trackers&&this._trackers.length>0;if(a){for(var b=this._trackers.length,c=0;b>c;c++)this._addTracker(this._trackers[c]);setTimeout(this._onceComplete.bind(this),this._timeoutMs)}else this._onceComplete()},a.prototype._onceComplete=function(){this._doneComplete||(this._doneComplete=!0,this._onComplete())},a.prototype._done=function(a,b){this._processedTrackerLength++;var c=!!a&&!!b&&b.length>0;c&&this._onProcess(a,b);var d=this._processedTrackerLength===this._trackers.length;d&&this._onceComplete()},a.prototype._addTracker=function(a){a.track(this._done.bind(this))},a}(),microadCompass.AudienceTracker=microadCompass.AudienceTracker||function(){"use strict";function a(a){this.userType=a}return a.prototype.userType,a.prototype.track=function(a){},a.prototype.appendScriptTag=function(a,b,c){var d=b.createElement("script");d.src=a,c.appendChild(d)},a}(),microadCompass.ImuidTracker=microadCompass.ImuidTracker||function(){"use strict";function a(a){microadCompass.AudienceTracker.call(this,a.type),this._settings=a}var b=microadCompass.Injector;return a.prototype=microadCompass.Object.create(microadCompass.AudienceTracker.prototype),a.prototype.track=function(a){var c=b.get("document");window.IMUIDRequest=window.IMUIDRequest||[],this.appendScriptTag(this._settings.script.url,c,c.body),IMUIDRequest.push({customerId:this._settings.script.customerId,callback:function(b){a(this.userType,b.uid)}.bind(this),callbackTimeout:1e3})},a}(),microadCompass.FirstPartyCookieTracker=microadCompass.FirstPartyCookieTracker||function(){"use strict";function a(a){microadCompass.AudienceTracker.call(this,a.type),this._settings=a,this._expireSeconds=7776e3}var b=microadCompass.Injector;return a.prototype=microadCompass.Object.create(microadCompass.AudienceTracker.prototype),a.prototype.track=function(a){var c=b.get("document");_loadThirdCookie(this._settings,this._expireSeconds,c);var d=_getAidFromFirstCookie(this._settings.cookieName)||_createRandomAid();_setAidInto1stCookie(this._settings.cookieName,d,_getEtldPlusOneDomain(),this._expireSeconds);var e=_getAidFromFirstCookie(this._settings.cookieName);a(this._settings.type,e)},a}(),microadCompass.RampIdTracker=microadCompass.RampIdTracker||function(){"use strict";function a(a){microadCompass.AudienceTracker.call(this,a.type),this._settings=a}return a.prototype=microadCompass.Object.create(microadCompass.AudienceTracker.prototype),a.prototype._getId=function(a){if(null==a)return null;var b=null;try{var c=decodeURIComponent(a);if(null==c)return null;b=JSON.parse(atob(c))}catch(d){return null}return null==b.envelope?null:"string"==typeof b.envelope?b.envelope.trim().length>0?b.envelope:null:Array.isArray(b.envelope)&&b.envelope.length>0&&b.envelope[0].trim().length>0?b.envelope[0]:null},a.prototype.track=function(a){var b=_getAidFromFirstCookie(this._settings.key)||localStorage.getItem(this._settings.key),c=this._getId(b);null!=c?a(this._settings.type,c):a(null,null)},a}(),microadCompass.UnvEhmTracker=microadCompass.UnvEhmTracker||function(){"use strict";function a(a){microadCompass.AudienceTracker.call(this,a.type),this._settings=a}return a.prototype=microadCompass.Object.create(microadCompass.AudienceTracker.prototype),a.prototype.track=function(a){var b=_getAidFromFirstCookie(this._settings.key)||localStorage.getItem(this._settings.key);null!=b?a(this._settings.type,b):a(null,null)},a}(),microadCompass.UniverseIdTracker=microadCompass.UniverseIdTracker||function(){"use strict";function a(a){microadCompass.AudienceTracker.call(this,a.type),this._settings=a}return a.prototype=microadCompass.Object.create(microadCompass.AudienceTracker.prototype),a.prototype.track=function(a){var b=microadCompass.audience;null!=b&&null!=b.read||a(null,null);var c=b.read(this._settings.type);return null==c?void a(null,null):void a(this._settings.type,c)},a}(),microadCompass.QueueProcessor=microadCompass.QueueProcessor||function(){"use strict";function a(a,b){if("undefined"==typeof b)throw new TypeError('[MicroAd COMPASS] "queueArray" is necessary to construct QueueProcessor.');this._settings=a,this._queue=b}return a.prototype._settings,a.prototype._queue,a.prototype._originalPush,a.prototype.appendHook=function(){this._originalPush=this._queue.push,this._queue.push=this._proxyEnqueueToProcessQueue},a.prototype.removeHook=function(){this._queue.push=this._originalPush},a.prototype._proxyEnqueueToProcessQueue=function(a){if(this._processQueue)this._processQueue(a);else{var b=new microadCompass.Settings(microadCompass.environment),c=new microadCompass.QueueProcessor(b,microadCompass.queue);c._processQueue(a)}},a.prototype._dequeue=function(){return this._queue.length>0?this._queue.shift():null},a.prototype.processBulkQueue=function(){for(var a=this._queue.length,b=0;b<a;b++){var c=this._dequeue();this._processQueue(c)}},a.prototype._processQueue=function(a){var b=new microadCompass.AdRequestor(this._settings);b.sendRequest(a)},a}(),microadCompass.Settings=microadCompass.Settings||function(){"use strict";function a(a){this.env=a,this.serverUrl="https://"+b[this.env],this.cacheUrl="https://"+c[this.env],this.cookieUrl="https://"+d[this.env],this.debugUrl="https://"+e[this.env],this.imageUrl="https://"+f[this.env],this.closeEventBeaconUrl="https://"+m[this.env],this.reportingTestFlag=p[this.env],this.compass2js=q,this.aids={imuid:g,firstPartyCookie:i,rampId:j,unvEhm:k,universeId:l},this.vastParserParametersUrl=n,this.getVastClientUrl=o,this.deliveryArea="jp"}a.prototype.env,a.prototype.serverUrl;var b={production:"s-rtb.send.microad.jp/ad",staging:"",development:""};a.prototype.cacheUrl;var c={production:"cache.send.microad.jp",staging:"",development:""};a.prototype.cookieUrl;var d={production:"cache.send.microad.jp/js/cookie_loader.html",staging:"",development:""};a.prototype.debugUrl;var e={production:"deb.send.microad.jp/adtag_error",staging:"",development:""};a.prototype.deliveryArea,a.prototype.imageUrl;var f={production:"i.microad.net/images/compass/",staging:"",development:""};a.prototype.aids;var g={type:6,script:{customerId:1011503,url:"https://dmp.im-apps.net/sdk/im-uid.js"}},h="https://cache.send.microad.jp",i={type:2,cookieName:"_unv_aid",thirdParty:{cacheUrl:h,cookieUrl:h+"/fpc/get-tr.html"}},j={type:13,key:"_lr_env"},k={type:16,key:"_unv_ehm"},l={type:21};a.prototype.closeEventBeaconUrl;var m={production:"universe.send.microad.jp/tr",staging:"",development:""};a.prototype.vastParserParametersUrl;var n="https://cdn.microad.jp/compass/parameters.json";a.prototype.getVastClientUrl;var o=function(a){return"https://cdn.microad.jp/compass/vast-client/vast-client-"+a+".min.js"};a.prototype.reportingTestFlag;var p={production:"0",staging:"",development:""};a.prototype.compass2js;var q="https://cdn.microad.jp/compass/compass2.js";return a}(),microadCompass.legacyIE&&(new microadCompass.AdInitializer).initialize();var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();microadCompass.Size=microadCompass.Size||function(){"use strict";function a(a,b){this._width=a,this._height=b}return a.prototype.width=function(){return this._width},a.prototype.height=function(){return this._height},a.prototype.area=function(){return this._width*this._height},a.prototype.divideArea=function(a){return this.area()/a.area()},a.prototype.resize=function(a){var b=[a.width(),this._width],c=[a.height(),this._height],d=this._resizeBy(b,c);if(d){var e=_slicedToArray(d,2),f=e[0],g=e[1];return new microadCompass.Size(f,g)}var h=this._resizeBy(c,b);if(h){var i=_slicedToArray(h,2),j=i[0],k=i[1];return new microadCompass.Size(k,j)}return new microadCompass.Size(0,0)},a.prototype._resizeBy=function(a,b){var c=_slicedToArray(a,2),d=c[0],e=c[1],f=_slicedToArray(b,2),g=f[0],h=f[1],i=d/e,j=h*i,k=g>=j;return k?[d,Math.ceil(j)]:void 0},a}(),microadCompass.AvailableSizeFactory=microadCompass.AvailableSizeFactory||function(){"use strict";function a(a,b){var c=document.createElement("video");this._mediaFiles=a.filter(function(a){var b="VPAID"===a.apiFramework?"application/javascript"===a.mimeType:["probably","maybe"].includes(c.canPlayType(a.mimeType)),d=!!a.width&&!!a.height;return b&&d}),this._displays=b}return a.prototype.mediaFiles=function(){return this._mediaFiles},a.prototype.execute=function(){if(0===this._displays.length||0===this._mediaFiles.length)return[];var a=this._resize(),b=this._decideCandidateValue(a);return this._getSameResult(b,a)},a.prototype._resize=function(){var a=this,b=[];return this._displays.forEach(function(c){a._mediaFiles.forEach(function(a){var d=new microadCompass.Size(c.width,c.height),e=new microadCompass.Size(a.width,a.height),f=e.resize(d),g=f.divideArea(d);b.push({mediaFile:a,display:c,width:parseInt(f.width(),10),height:parseInt(f.height(),10),areaRatio:parseInt((1e4*g).toString(),10)/100})})}),b},a.prototype._decideCandidateValue=function(a){var b=Math.max.apply(null,a.map(function(a){return a.areaRatio}));return a.find(function(a){return a.areaRatio===b})},a.prototype._getSameResult=function(a,b){return b.filter(function(b){var c=b.display.aspect_ratio_id===a.display.aspect_ratio_id,d=b.width===a.width&&b.height===a.height;return c&&d})},a}(),microadCompass.MacroUrl=microadCompass.MacroUrl||function(){"use strict";function a(a){this._macroUrl=a}return a.prototype.url=function(){return this._macroUrl},a.prototype.replaceAuctionPrice=function(a,b){var c=this._macroUrl.replace(/\$\{AUCTION_PRICE}/g,a).replace(/\$\{AUCTION_PRICE:B64}/g,b);return new microadCompass.MacroUrl(c)},a.prototype.replaceTimestamp=function(a,b){var c=b.replace(/yyyy/g,a.getFullYear().toString()).replace(/MM/g,("0"+(a.getMonth()+1)).slice(-2)).replace(/dd/g,("0"+a.getDate()).slice(-2)).replace(/HH/g,("0"+a.getHours()).slice(-2)).replace(/mm/g,("0"+a.getMinutes()).slice(-2)).replace(/ss/g,("0"+a.getSeconds()).slice(-2)),d=this._macroUrl.replace(/\[TIMESTAMP]/g,c);return new microadCompass.MacroUrl(d)},a.prototype.replaceCacheBusting=function(a,b){var c=Math.floor(Math.pow(10,b)*a).toString().slice(0,b),d=this._macroUrl.replace(/\[CACHEBUSTING]/g,c);return new microadCompass.MacroUrl(d)},a.prototype.replace=function(a,b,c,d){return this.replaceAuctionPrice(a,b).replaceTimestamp(c,"yyyy-MM-ddTHH:mm:ss").replaceCacheBusting(d,8).url()},a}(),microadCompass.MacroUrls=microadCompass.MacroUrls||function(){"use strict";function a(a){this._macroUrls=this._distinct(a).map(function(a){return new microadCompass.MacroUrl(a)})}return a.prototype.urls=function(){return this._macroUrls},a.prototype.replace=function(a,b,c,d){var e=this._macroUrls;return e.map(function(e){return e.replace(a,b,c,d)})},a.prototype._distinct=function(a){return Array.from(new Set(a))},a}();var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();microadCompass.MacroUrlsFactory=microadCompass.MacroUrlsFactory||function(){"use strict";function a(a,b,c){this._adResponse=a,this._creative=b,this._partialImpressionUrls=c}return a.prototype.createImpressionUrls=function(){var a=[].concat(_toConsumableArray(this._adResponse.imp_urls),_toConsumableArray(this._partialImpressionUrls));return new microadCompass.MacroUrls(a)},a.prototype.createClickTrackingUrls=function(){var a=this._creative.videoClickTrackingURLTemplates,b=a&&a.map(function(a){return a.url}),c=[].concat(_toConsumableArray(this._adResponse.click_urls),_toConsumableArray(b));return new microadCompass.MacroUrls(c)},a.prototype.createClickThroughUrls=function(){var a=this._creative.videoClickThroughURLTemplate;return new microadCompass.MacroUrls(a?[a.url]:[])},a.prototype.createTrackingEventUrls=function(){return{sec:this._getTrackingEventUrls("sec"),per:this._mergeNonNamedTrackingEvents(this._getTrackingEventUrlsFromNamed(),this._getTrackingEventUrls("per"))}},a.prototype._getTrackingEventUrlsFromNamed=function(){var a;return a={},_defineProperty(a,0,new microadCompass.MacroUrls(this._creative.trackingEvents.start||[])),_defineProperty(a,25,new microadCompass.MacroUrls(this._creative.trackingEvents.firstQuartile||[])),_defineProperty(a,50,new microadCompass.MacroUrls(this._creative.trackingEvents.midpoint||[])),_defineProperty(a,75,new microadCompass.MacroUrls(this._creative.trackingEvents.thirdQuartile||[])),_defineProperty(a,100,new microadCompass.MacroUrls(this._creative.trackingEvents.complete||[])),a},a.prototype._getTrackingEventUrls=function(a){var b=this,c="sec"===a?/^progress-\d+(\.\d+)?(?!%)$/:/^progress-\d*%$/,d=Object.keys(this._creative.trackingEvents).filter(function(a){return a.match(c)});return d.reduce(function(a,c){var d=Number(c.replace("progress-","").replace("%",""));if(Number.isNaN(d))return a;var e=parseInt(d.toString(),10);if(a[e]){var f=a[e].urls().map(function(a){return a.url()});a[e]=new microadCompass.MacroUrls([].concat(_toConsumableArray(f),_toConsumableArray(b._creative.trackingEvents[c])))}else a[e]=new microadCompass.MacroUrls(b._creative.trackingEvents[c]);return a},{})},a.prototype._mergeNonNamedTrackingEvents=function(a,b){var c={};return[a,b].forEach(function(a){Object.entries(a).forEach(function(a){var b=_slicedToArray(a,2),d=b[0],e=b[1],f=e.urls().map(function(a){return a.url()}),g=null==c[d]?[]:c[d].urls().map(function(a){return a.url()});c[d]=new microadCompass.MacroUrls([].concat(_toConsumableArray(g),_toConsumableArray(f)))})}),c},a.prototype.collect=function(){return{impressionUrls:this.createImpressionUrls(),clickThroughUrl:this.createClickThroughUrls(),clickTrackingUrls:this.createClickTrackingUrls(),trackingEventUrls:this.createTrackingEventUrls()}},a.prototype.replace=function(a,b,c){var d=new Date,e=Math.random(),f=function(c){return Object.entries(c).reduce(function(c,f){var g=_slicedToArray(f,2),h=g[0],i=g[1];return c[h]=i.replace(a,b,d,e),c},{})};return{impressionUrls:c.impressionUrls.replace(a,b,d,e),clickThroughUrl:c.clickThroughUrl.replace(a,b,d,e),clickTrackingUrls:c.clickTrackingUrls.replace(a,b,d,e),trackingEventUrls:{sec:f(c.trackingEventUrls.sec),per:f(c.trackingEventUrls.per)}}},a}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};microadCompass.VastParser=microadCompass.VastParser||function(){"use strict";function a(){return null==g&&(g=this,f=!1,e=!0,h=new microadCompass.ErrorReporter),Object.freeze(g)}var b=microadCompass.Injector,c=void 0,d=[],e=!0,f=!1,g=void 0,h=void 0;return a.prototype.load=function(a,b){if(null!=c&&f)return void b();if(!e)return void d.push(b);e=!1,d.push(b);var g=this._createFriendlyIframe("maVastClient"),h=document.getElementsByTagName("body")[0];h.appendChild(g);var i=g.contentDocument;i.write("<html><head></head><body></body></html>");var j=i.createElement("script");j.src=a,i.body.appendChild(j),c=g,j.onload=function(){f=!0;for(var a=void 0;void 0!==(a=d.shift());)a();d.splice(0)}.bind(this)},a.prototype.parse=function(a,b,d,e,f){if(null==c)return h.reportToSsp(a,"10110","iframe is null"),void f(a,void 0);if(null==c.contentWindow)return h.reportToSsp(a,"10110","contentWindow is null"),void f(a,void 0);var g=c.contentWindow.VAST;if("object"!==("undefined"==typeof g?"undefined":_typeof(g)))return h.reportToSsp(a,"10110","vast object is null"),void f(a,void 0);var i=this._createXMLDom(b);if(null==i)return h.reportToSsp(a,"10111","dom parse error"),h.reportToSspByRatio(a,"110111",b,.05),void f(a,void 0);var j=(new g.VASTClient).getParser();j.on("VAST-error",function(b){var c=b.ERRORCODE,d=b.ERRORMESSAGE;b.extensions,b.system;h.reportToSsp(a,c,"dailymotion: "+d)}),j.parseVAST(i,{wrapperLimit:e,timeout:d}).then(function(c){null!=c&&null!=c.ads&&0!==c.ads.length||(h.reportToSsp(a,"10113","dailymotion: parsedVastXML is empty"),h.reportToSspByRatio(a,"110113",b,.1));try{f(a,c)}catch(d){try{h.traceLog(d),h.consoleLog(a),h.reportToSsp(a,"11400","COMPASS: "+d),h.reportToSspByRatio(a,"111400",d.stack,.05),h.reportToSspByRatio(a,"111400",JSON.stringify(a),.01)}catch(d){}}})["catch"](function(c){try{h.traceLog(c),h.consoleLog(a),h.reportToSsp(a,"10112","dailymotion: "+c),h.reportToSspByRatio(a,"110112",b,.05),h.reportToSspByRatio(a,"110112",c.stack,.05),h.reportToSspByRatio(a,"110112",JSON.stringify(a),.01)}catch(d){}f(a,void 0)})},a.prototype._createFriendlyIframe=function(a){var c=b.get("document").createElement("iframe");return null!=a&&c.setAttribute("id",a),c.setAttribute("scrolling","no"),c.setAttribute("marginwidth","0"),c.setAttribute("marginheight","0"),c.setAttribute("allowFullScreen","true"),c.setAttribute("allowTransparency","true"),c.setAttribute("border","0"),c.setAttribute("frameBorder","0"),c.setAttribute("width","0"),c.setAttribute("height","0"),c.style.border="0",c},a.prototype._createXMLDom=function(a){var b=void 0;try{if(b=(new DOMParser).parseFromString(a,"text/xml"),b.getElementsByTagName("parsererror").length)return}catch(c){return}return b},a}(),microadCompass.VideoAdResponseFactory=microadCompass.VideoAdResponseFactory||function(){"use strict";function a(a,b,c,d){this._adResponse=JSON.parse(JSON.stringify(a)),this._sizeInfo=b,this._replacedMacroUrls=c,this._creativeData=d}return a.prototype.overridePositions=function(){return this._adResponse.top=this._sizeInfo.display.top,this._adResponse.bottom=this._sizeInfo.display.bottom,this._adResponse.left=this._sizeInfo.display.left,this._adResponse.right=this._sizeInfo.display.right,this},a.prototype.overrideDisplayControls=function(){return this._adResponse.isscrollendcontrol=this._sizeInfo.display.isscrollendcontrol,this._adResponse.closebutton=this._sizeInfo.display.closebutton,this._adResponse.prlabelpos=this._sizeInfo.display.prlabelpos,this._adResponse.hasroundedcorners=this._sizeInfo.display.hasroundedcorners,this._adResponse.isdraggable=this._sizeInfo.display.isdraggable,this._adResponse.scalable=this._sizeInfo.display.scalable,this},a.prototype.overrideFrameSize=function(){return this._adResponse.width=this._sizeInfo.width,this._adResponse.height=this._sizeInfo.height,this},a.prototype.overrideVideoInfos=function(){return this._adResponse.creative_type="video",
this._adResponse.aspect_ratio_id=this._sizeInfo.display.aspect_ratio_id,this},a.prototype.overrideAdTag=function(){var a="ma_compass_container",b=this._sizeInfo.mediaFiles.filter(function(a){return"VPAID"===a.apiFramework}),c=0!==b.length,d=this._replacedMacroUrls.clickThroughUrl?this._replacedMacroUrls.clickThroughUrl[0]:"",e={vbid:this._adResponse.impression_id,iurls:this._replacedMacroUrls.impressionUrls,curl:d,curl_pixels:this._replacedMacroUrls.clickTrackingUrls,container:{targetId:a},video:{sources:(c?b:this._sizeInfo.mediaFiles).sort(function(a,b){return b.bitrate-a.bitrate}).map(function(a){return{source:a.fileURL,mime:a.mimeType}}),size:{width:this._sizeInfo.width,height:this._sizeInfo.height}},cachebuster:this._adResponse.cache_busters.video,test:!1,tracking_tool:{play_sec:this._replacedMacroUrls.trackingEventUrls.sec,play_per:this._replacedMacroUrls.trackingEventUrls.per},creative_data:this._creativeData},f="https://cdn.microad.jp/compass/videoplayer/v1/js/compass-"+(c?"vpaid":"video")+"-template.js?cbt="+this._adResponse.cache_busters.video;return this._adResponse.adtag='<div id="'+a+'"></div><script>window.__ma_compass_video_ad_vars='+JSON.stringify(e)+'</script><script src="'+f+'"></script>',this._adResponse.ext={click_through_url:d,click_tracking_urls:this._replacedMacroUrls.clickTrackingUrls},this._adResponse.width=this._sizeInfo.width,this._adResponse.height=this._sizeInfo.height,this},a.prototype.deleteParametersForGeneratingVideoResponse=function(){return delete this._adResponse.vast_url,delete this._adResponse.vast_xml,delete this._adResponse.auction_price,delete this._adResponse.enc_auction_price,delete this._adResponse.imp_urls,delete this._adResponse.click_urls,delete this._adResponse.duration_min,delete this._adResponse.duration_max,delete this._adResponse.displays,delete this._adResponse.cache_busters,this},a.prototype.overrideInBulk=function(){return this.overrideFrameSize().overrideVideoInfos().overridePositions().overrideDisplayControls().overrideAdTag().deleteParametersForGeneratingVideoResponse().videoAdResponse()},a.prototype.videoAdResponse=function(){return this._adResponse},a}(),microadCompass.VastConverter=microadCompass.VastConverter||function(){"use strict";function a(){return null==b&amp;&amp;(b=this,c=new microadCompass.Settings(microadCompass.environment),d=new microadCompass.ErrorReporter),Object.freeze(b)}var b=void 0,c=void 0,d=void 0;return a.prototype.execute=function(a,b){if(this._isNotAvailable(a))return void b(a);var d=new microadCompass.VastParser;d.load(c.getVastClientUrl(a.cache_busters.vastClientVersion),this._convert.bind(this,a,b))},a.prototype._convert=function(a,b){var e=a.vast_xml?a.vast_xml:this._requestFirstAdServer(a,a.vast_url);if(null==e||0===e.length)return d.reportToSsp(a,"303","vast_url"),void b(a);var f=this._getConfig(c.vastParserParametersUrl,a.cache_busters.config);if(null==f||null==f.video||null==f.video.vast.timeout||null==f.video.vast.maxWrapperDepth)return d.reportToSsp(a,"10001"),void b(a);var g=new microadCompass.VastParser;g.parse(a,e,Number(f.video.vast.timeout),Number(f.video.vast.maxWrapperDepth),function(a,c){this._generate(a,c,b)}.bind(this))},a.prototype._generate=function(a,b,c){if(null==b||null==b.ads||0===b.ads.length)return void c(a);var e=b.ads.find(function(a){return a.creatives.some(function(a){return"linear"===a.type})}),f=e&amp;&amp;e.creatives.find(function(a){return"linear"===a.type});if(null==f)return d.reportToSsp(a,"101","linear"),void c(a);if(this._isInvalidVastXML(a,e,f))return void c(a);var g=""===a.duration_min?void 0:Number(a.duration_min),h=""===a.duration_max?void 0:Number(a.duration_max);if(this._isInValidDuration(Number(f.duration),g,h))return d.reportToSsp(a,"10100"),void c(a);var i=this._decideAvailableMediaFilesAndDisplays(f.mediaFiles,a.displays);if(null==i)return d.reportToSsp(a,"10101"),void c(a);var j=e.impressionURLTemplates&amp;&amp;e.impressionURLTemplates.map(function(a){return a.url}),k=new microadCompass.MacroUrlsFactory(a,f,j),l=k.replace(a.auction_price,a.enc_auction_price,k.collect()),m={};m.AdParameters=f.adParameters,c(new microadCompass.VideoAdResponseFactory(a,i,l,m).overrideInBulk())},a.prototype._isNotAvailable=function(a){var b=a.creative_type!==microadCompass.Spot.type.video,c=!!a.adtag,e=!(a.vast_xml||a.vast_url);return b||c||!e||d.reportToSsp(a,"303","vast_xml and vast_url"),b||c||e},a.prototype._getConfig=function(a,b){var c=void 0,d=4,e=200,f=a+"?cbt="+b,g=new XMLHttpRequest;g.open("GET",f,!1),g.onload=function(){var a=g.readyState===d,b=g.status===e;c=a&amp;&amp;b?JSON.parse(g.responseText):{}};try{g.send(null)}catch(h){c=void 0}return c},a.prototype._requestFirstAdServer=function(a,b){var c=void 0,e=4,f=200,g=new XMLHttpRequest;g.open("GET",b,!1),g.onload=function(){var a=g.readyState===e,b=g.status===f;c=a&amp;&amp;b?g.responseText:""};try{g.send(null)}catch(h){d.reportToSsp(a,"10002","vast_url"),c=void 0}return c},a.prototype._isInValidDuration=function(a,b,c){var d=null==b||b&lt;=a,e=null==c||a&lt;=c;return!(d&amp;&amp;e)},a.prototype._isInvalidVastXML=function(a,b,c){var e=null==b.impressionURLTemplates||0===b.impressionURLTemplates.length;e&amp;&amp;d.reportToSsp(a,"101","impression");var f=c.duration&lt;=0;f&amp;&amp;d.reportToSsp(a,"101","duration");var g=null==c.mediaFiles||0===c.mediaFiles.length;return g&amp;&amp;d.reportToSsp(a,"101","mediaFile"),e||f||g},a.prototype._decideAvailableMediaFilesAndDisplays=function(a,b){var c=new microadCompass.AvailableSizeFactory(a,b).execute();if(null!=c&amp;&amp;0!==c.length)return{display:c[0].display,mediaFiles:c.map(function(a){return a.mediaFile}),width:c[0].width,height:c[0].height}},a}(),microadCompass.Auctioneer=microadCompass.Auctioneer||function(){"use strict";function a(a,b){this.adResponse=JSON.parse(JSON.stringify(a)),this.executeDisplayAd=b}var b=microadCompass.Injector;return a.prototype.bid=function(){this._isBanner(this.adResponse)&amp;&amp;this._isInline(this.adResponse)&amp;&amp;a.isAvailableBid()?b.get("navigator").runAdAuction(this.adResponse.pa.auctionConfig).then(this.onResolved.bind(this),this.displayAd.bind(this)):this.displayAd()},a.prototype.onResolved=function(a){null!=a?(this.adResponse.protectedAudienceResult=a,this.executeDisplayAd(this.adResponse)):this.displayAd()},a.prototype.displayAd=function(){this.executeDisplayAd(this.adResponse)},a.prototype._isBanner=function(a){return!(!a.pa||!a.pa.auctionConfig)},a.prototype._isInline=function(a){return[a.top,a.right,a.bottom,a.left].every(function(a){return null==a||""===a})},a.isAvailableRunAdAuction=function(){var c=!!("runAdAuction"in b.get("navigator")&amp;&amp;a.isAllowsFeature("run-ad-auction")),d=null!=b.get("window").FencedFrameConfig;return c&amp;&amp;d},a.isAvailableAttributionReportingApi=function(){return a.isAllowsFeature("attribution-reporting")},a.isAvailableBid=function(){return a.isAvailableRunAdAuction()&amp;&amp;a.isAvailableAttributionReportingApi()},a.isAllowsFeature=function(a){var c=b.get("document").featurePolicy;return!!c&amp;&amp;c.allowsFeature(a)},a}(),microadCompass.FencedFrameCreative=microadCompass.FencedFrameCreative||function(){"use strict";function a(a,b){this.response=Object.freeze(a),this.spotDivElement=b,this.targetEvents={},this.fencedFrame=void 0}var b=microadCompass.Injector;return a.prototype.initialize=function(){null!=this.response.protectedAudienceResult&amp;&amp;(this.fencedFrame=this._createFencedFrame("fencedframe"),this.spotDivElement.appendChild(this.fencedFrame))},a.prototype.display=function(){if(null==this.response.protectedAudienceResult)return void this._executeBeacons(this.spotDivElement,this.response);this._executeResizeGoogleDomElement(this.response,1),this._executeResizeFencedFrameElement(this.fencedFrame,this.response),this._executeResizeSpotDivElement(this.spotDivElement,this.response),this._executeChildrenElementsCentering(this.spotDivElement);var a=1===Number(this.response.scalable),b=this._executeScale(a,this.fencedFrame,this.response);if(this._executeResizeGoogleDomElement(this.response,b),a){var c=this._getFencedFrameSize(this.response).height*b;this._resizeHeight(this.spotDivElement,c)}setTimeout(function(){this.fencedFrame.config=this.response.protectedAudienceResult}.bind(this),100),this._executeBeacons(this.spotDivElement,this.response)},a.prototype.close=function(){this.removeAllEventListener()},a.prototype.addEventListener=function(a,b,c,d){var e=this.targetEvents[a]||{},f=e[b]||[];f.push({target:a,callback:c,options:d}),this.targetEvents[a]=e,this.targetEvents[a][b]=f,a.addEventListener(b,c,d)},a.prototype.removeAllEventListener=function(){var a=this;Object.keys(this.targetEvents).forEach(function(b){a.targetEvents.hasOwnProperty(b)&amp;&amp;a.removeAllEventListenerByTarget(b)})},a.prototype.removeAllEventListenerByTarget=function(a){var b=this.targetEvents[a]||{};Object.keys(b).forEach(function(a){var c=b[a]||[];if(0!==c.length)for(;c.length&gt;0;){var d=c.shift();d.target.removeEventListener(a,d.callback,d.options)}})},a.prototype.toExtendAdResponse=function(a,b){return a},a.prototype._createFencedFrame=function(a){var c=b.get("document").createElement(a);return c.setAttribute("allowFullScreen","true"),c.setAttribute("allowTransparency","true"),c.setAttribute("border",""),c.style.border="0",c},a.prototype._executeBeacons=function(a,c){if(null!=c.synctag)if(/<script d='this._createFencedFrame("iframe");d.setAttribute("width","0"),d.setAttribute("height","0"),a.appendChild(d);var' e='d.contentDocument;e.open(),e.write("&lt;html' i.test(c.synctag)){var=""><head></head><body>"+c.synctag+"</body></html>"),e.close()}else{var f=b.get("document").createElement("div");a.appendChild(f),f.outerHTML=c.synctag}},a.prototype._executeResizeGoogleDomElement=function(a,c){var d=b.get("window").frameElement,e="undefined"!=typeof b.get("window").$sf;if(null!=d&&!e){var f=[d.name,d.getAttribute("id")],g=f.some(function(a){return a&&a.match(/google_ads_iframe/i)});if(g!==!1){var h=d.style.width.replace("px",""),i=d.style.height.replace("px",""),j=this._createSize(h,i),k=this._getFencedFrameSize(a),l=k.width*c;j.width<l?d.style.width=l+"px":d.style.width="100%";var m=k.height*c;j.height<m&&(d.style.height=m+"px"),this._executeChildrenElementsCentering(d)}}},a.prototype._executeResizeSpotDivElement=function(a,b){var c=Number(b.platform)||0,d=c===Number(microadCompass.Creative.platform.pc);if(!d){var e=this._getSizeByStyle(a),f=this._createSize(b.spotwidth,b.spotheight),g=this._getFencedFrameSize(b),h=Math.max(e.width,f.width);if(h>=0){var i=Math.max(h,g.width);a.setAttribute("width",i.toString())}var j=Math.max(e.height,f.height);if(j>=0){var k=Math.max(j,g.height);a.setAttribute("height",k.toString())}}},a.prototype._executeResizeFencedFrameElement=function(a,b){var c=this._getFencedFrameSize(b);a.setAttribute("width",c.width.toString()),a.setAttribute("height",c.height.toString())},a.prototype._executeChildrenElementsCentering=function(a){a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.style.position="relative"},a.prototype._executeScale=function(a,b,c){var d=this._getFencedFrameSize(c);if(!a||0===d.width)return 1;var e=Number(c.platform)||0,f=this._calculateScaleRate(e,d),g="scale("+f+", "+f+")";return b.style.transform=g,b.style.WebkitTransform=g,b.style.MozTransform=g,f},a.prototype._getSizeByStyle=function(a){var b=a.style.width.replace("px",""),c=a.style.height.replace("px","");return this._createSize(b,c)},a.prototype._getFencedFrameSize=function(a){var b=a.pa.auctionConfig.auctionSignals.size;return this._createSize(b.width,b.height)},a.prototype._calculateScaleRate=function(a,c){var d=b.get("screen"),e=this._createSize(String(d.width),String(d.height)),f=this._isLandscapeMode(e)?this._reverseSize(e):e,g=a===Number(microadCompass.Creative.platform.smartphone);if(!g)return f.width/c.width;var h=320,i=414;return f.width<h?h/c.width:f.width>i?i/c.width:f.width/c.width},a.prototype._isLandscapeMode=function(a){return a.width>a.height},a.prototype._resizeHeight=function(a,b){a.style.height=b+"px"},a.prototype._createSize=function(a,b){return{width:Number(a)||0,height:Number(b)||0}},a.prototype._reverseSize=function(a){return{width:a.height,height:a.width}},a}(),microadCompass.CloseButtonAccessory=microadCompass.CloseButtonAccessory||function(){"use strict";function a(a,b,c){this.spotDivElement=a,this.maybeAccessories=b?{maybeType:b.type,maybeSize:b.size,maybeLineColor:b.linecolor,maybeBgColor:b.bgcolor,maybeFrameColor:b.framecolor}:void 0,this.closeFunction=c,this.reset()}var b=microadCompass.Injector,c="rgb(169, 169, 169)",d=26,e="ma-close-button-accessory";return a.prototype.create=function(){if(null==this.maybeAccessories||!this.maybeAccessories.maybeType)return this.reset(),this;var a=document.createElement("div");return a.className=e,a.style.position="relative",a.style.cursor="pointer",a.style.display="-ms-flexbox",a.style.display="-webkit-flex",a.style.display="flex",a.style.msFlexPack="center",a.style.webkitJustifyContent="center",a.style.justifyContent="center",a.style.msFlexAlign="center",a.style.webkitBoxAlign="center",a.style.alignItems="center",this.element=a,this},a.prototype.applyPosition=function(a){if(null==this.element)return this;var b=document.createElement("div");return b.className="ma-close-button-accessory-container",b.style.margin="0",b.style.padding="0",b.style.position="absolute",this.container=b,this.moveDisplayPosition("CENTER",a,this.container),this},a.prototype.applySizeAndColor=function(){return this._applyCssClassStyle(this._getSize(),this._getLineColor()),this},a.prototype.applyBackgroundColor=function(){return null==this.element||null==this.container?this:(this.container.style.backgroundColor=this._isValid(this.maybeAccessories.maybeBgColor)?this.maybeAccessories.maybeBgColor:"",this)},a.prototype.applyFrame=function(){if(null==this.element||null==this.container)return this;var a=this._isValid(this.maybeAccessories.maybeFrameColor)?this.maybeAccessories.maybeFrameColor:c,b=new microadCompass.FrameParts(Number(this.maybeAccessories.maybeType)).applyFrame(this.container,a);return this.container=b.element,this},a.prototype.wrapElement=function(){return this.container&&this.element&&this.container.appendChild(this.element),this},a.prototype.applyCloseEvent=function(){return null==this.element||null==this.closeFunction?this:(null!=this.element.addEventListener?this.element.addEventListener("click",this.closeFunction,!1):this.element.attachEvent("onclick",this.closeFunction),this)},a.prototype.moveDisplayPosition=function(a,b,c){var e=this.maybeAccessories.maybeSize?Number(this.maybeAccessories.maybeSize):NaN,f=Number.isNaN(e)?d:e,g={INNER:"2px",OUTER:f+"px"},h={EDGE:"2px",CENTER:(b-f)/2+"px"},i=new microadCompass.PositionParts(Number(this.maybeAccessories.maybeType)).loadConfig(g,h).applyPosition(c,a);return this.verticalType=i.verticalType,this.container.style.top=i.element.style.top,this.container.style.bottom=i.element.style.bottom,this.container.style.left=i.element.style.left,this.container.style.right=i.element.style.right,this},a.prototype.reset=function(){this.verticalType=void 0,this.element=void 0,this.container=void 0},a.prototype._isValid=function(a){var b="[0-9]+",c="(?:\\d+\\.?\\d*|\\.\\d+)",d=b+", "+b+", "+b,e=new RegExp("rgb\\("+d+"\\)"),f=new RegExp("rgba\\("+d+", "+c+"\\)"),g=b+","+b+","+b,h=new RegExp("rgb\\("+g+"\\)"),i=new RegExp("rgba\\("+g+","+c+"\\)");return[e,h,f,i].some(function(b){return b.test(a)})},a.prototype._getSize=function(){if(null==this.element)return 0;var a=this.maybeAccessories.maybeSize?Number(this.maybeAccessories.maybeSize):NaN,b=Number.isNaN(a)?d:a,c=new microadCompass.FrameParts(Number(this.maybeAccessories.maybeType)),e=c.isNone(),f=b-(e?0:2);if(this.element.style.width=f+"px",this.element.style.height=f+"px",!e)return f;var g=Math.pow(10,2);return Math.floor(1.125*f*g)/g},a.prototype._getLineColor=function(){return null==this.element?"":this._isValid(this.maybeAccessories.maybeLineColor)?this.maybeAccessories.maybeLineColor:c},a.prototype._applyCssClassStyle=function(a,c){var d=b.get("document");if(null!=d.head){var f=['  content: "";',"  position: absolute;","  top: 50%;","  left: 50%;"];a&&(f.push("  width: "+a+"px;"),f.push("  height: "+a/4+"px;")),c&&f.push("  background: "+c+";");var g="#"+this.spotDivElement.id+" ."+e,h=d.createElement("style"),i=[g+"::before {","transform: translate(-50%,-50%) rotate(45deg);"],j=[].concat(i,f,["}"]).join("\n");h.appendChild(d.createTextNode(j));var k=[g+"::after {","transform: translate(-50%,-50%) rotate(-45deg);"],l=[].concat(k,f,["}"]).join("\n");h.appendChild(d.createTextNode(l)),d.head.appendChild(h)}},a}(),microadCompass.FrameParts=microadCompass.FrameParts||function(){"use strict";function a(a){this.frameType=this._getFrameType(a)}var b={CIRCLE:"circle",SQUARE:"square",NONE:"none"};return a.prototype.applyFrame=function(a,c){if(!this._isValid(c))return this;this.element=a.cloneNode(!0);var d="1px solid "+c;switch(this.frameType){case b.CIRCLE:this.element.style.border=d,this.element.style.borderRadius="500px";break;case b.SQUARE:this.element.style.border=d,this.element.style.borderRadius="";break;default:this.element.style.border="",this.element.style.borderRadius=""}return this},a.prototype.isNone=function(){return this.frameType===b.NONE},a.prototype._getFrameType=function(a){return 1<=a&&a<=6?b.NONE:7<=a&&a<=12?b.CIRCLE:13<=a&&a<=18?b.SQUARE:b.NONE},a.prototype._isValid=function(a){var b="[0-9]+",c="(?:\\d+\\.?\\d*|\\.\\d+)",d=b+", "+b+", "+b,e=new RegExp("rgb\\("+d+"\\)"),f=new RegExp("rgba\\("+d+", "+c+"\\)"),g=b+","+b+","+b,h=new RegExp("rgb\\("+g+"\\)"),i=new RegExp("rgba\\("+g+","+c+"\\)");return[e,h,f,i].some(function(b){return b.test(a)})},a}(),microadCompass.PositionParts=microadCompass.PositionParts||function(){"use strict";function a(a){this.verticalType=this._getVerticalType(a),this.horizontalType=this._getHorizontalType(a)}var b={INNER:"inner",OUTER:"outer",NONE:"none"},c={LEFT_EDGE:"left-edge",RIGHT_EDGE:"right-edge",CENTER:"center",NONE:"none"};return a.prototype.loadConfig=function(a,b){return this.verticalStyleValue=a,this.horizontalStyleValue=b,this},a.prototype.applyPosition=function(a,d){if(!this.verticalStyleValue||!this.horizontalStyleValue)return this;switch(this.element=a.cloneNode(!0),this.verticalType){case b.INNER:this.element.style.top=""+this.verticalStyleValue.INNER,this.element.style.bottom="";break;case b.OUTER:"TOP"===d?(this.element.style.top="",this.element.style.bottom="-"+this.verticalStyleValue.OUTER):(this.element.style.top="-"+this.verticalStyleValue.OUTER,this.element.style.bottom="");break;default:this.element.style.top="",this.element.style.bottom=""}switch(this.horizontalType){case c.LEFT_EDGE:this.element.style.left=this.horizontalStyleValue.EDGE;break;case c.RIGHT_EDGE:this.element.style.right=this.horizontalStyleValue.EDGE;break;case c.CENTER:this.element.style.left=this.horizontalStyleValue.CENTER;break;default:this.element.style.left="",this.element.style.right=""}return this},a.prototype._getVerticalType=function(a){return[1,2,5,7,8,11,13,14,17].includes(a)?b.INNER:[3,4,6,9,10,12,14,15,16,18].includes(a)?b.OUTER:b.NONE},a.prototype._getHorizontalType=function(a){return[2,4,8,10,14,16].includes(a)?c.LEFT_EDGE:[1,3,7,9,13,15].includes(a)?c.RIGHT_EDGE:[5,6,11,12,17,18].includes(a)?c.CENTER:c.NONE},a}(),microadCompass.PrLabelAccessory=microadCompass.PrLabelAccessory||function(){"use strict";function a(a,b){this.settings=new microadCompass.Settings(microadCompass.environment),this.maybePositionIndex=this._getPositionIndex(a),this.maybeOptoutLink=b,this.reset()}var b=microadCompass.Injector;return a.prototype.create=function(){if(!this.maybePositionIndex)return this.reset(),this;var a="20px",b=document.createElement("div");return b.className="ma-pr-label-accessory",b.style.width=a,b.style.height=a,b.style.backgroundSize=a,b.style.backgroundPosition="center",b.style.backgroundRepeat="no-repeat",b.style.backgroundImage="url('"+this.settings.imageUrl+"pr2.png')",this.element=b,this},a.prototype.applyPosition=function(){if(null==this.element)return this;var a=document.createElement("div");return a.className="ma-pr-label-accessory-container",a.style.margin="0",a.style.padding="0",a.style.position="absolute",this.container=a,this.moveDisplayPosition("CENTER",this.container),this},a.prototype.wrapElement=function(){return this.container&&this.element&&this.container.appendChild(this.element),this},a.prototype.applyClickEvent=function(){var a=this;if(null==this.element||!this.maybeOptoutLink)return this;this.events.push("click");var c=function(){return b.get("window").open(a.maybeOptoutLink)};return null!=this.element.addEventListener?this.element.addEventListener("click",c,!1):this.element.attachEvent("onclick",c),this},a.prototype.moveDisplayPosition=function(a,b){var c={INNER:"2px",OUTER:"20px"},d={EDGE:"2px",CENTER:"2px"},e=new microadCompass.PositionParts(this.maybePositionIndex).loadConfig(c,d).applyPosition(b,a);return this.verticalType=e.verticalType,this.container.style.top=e.element.style.top,this.container.style.bottom=e.element.style.bottom,this.container.style.left=e.element.style.left,this.container.style.right=e.element.style.right,this},a.prototype.reset=function(){this.verticalType=void 0,this.element=void 0,this.container=void 0,this.events=[]},a.prototype._getPositionIndex=function(a){var b=microadCompass.Video.pr_label_pos;switch(a){case b.innerupperright:return 1;case b.innerupperleft:return 2;case b.outerupperright:return 3;case b.outerupperleft:return 4;default:return}},a}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();microadCompass.SpotAccessories=microadCompass.SpotAccessories||function(){"use strict";function a(a,b){var c=a.getElementsByTagName("iframe")[0];if(this._enabledAccessories=this._isEnabled(a,b,c),this._enabledAccessories){this.spotDivElement=a,this.accessories=b,this.adIframe=c,this.settings=new microadCompass.Settings(microadCompass.environment);var d=this._createAccessories(this.adIframe,this.accessories,this._hideSpotDivElement.bind(this)),e=_slicedToArray(d,2),f=e[0],g=e[1];"none"===f.verticalType&&f.reset(),"none"===g.verticalType&&g.reset(),this.closeButton=f,this.prLabel=g,this.scaleValue=this.accessories.scaleValue||1,this.closeButton.container&&(this.closeButtonParentContainer=this._createParentContainer(this.scaleValue,this.closeButton)),this.prLabel.container&&(this.prLabelParentContainer=this._createParentContainer(this.scaleValue,this.prLabel)),this.moveDisplayPosition("BOTTOM")}}var b=microadCompass.Injector;return a.prototype.moveDisplayPosition=function(a){this.closeButton&&this.closeButton.container&&this._moveDisplayCloseButtonPositionBy(a),this.prLabel&&this.prLabel.container&&this._moveDisplayPrLabelPositionBy(a)},a.prototype.getOverhangVerticalValue=function(){if(!this._enabledAccessories)return{top:0,bottom:0};var a=this.prLabel.verticalType,b=this.closeButton.verticalType;if("inner"===a&&"inner"===b)return{top:0,bottom:0};var c=a?Number(this.prLabel.container.style.top.replace("px","")):0,d=a?Number(this.prLabel.container.style.bottom.replace("px","")):0,e=b?Number(this.closeButton.container.style.top.replace("px","")):0,f=b?Number(this.closeButton.container.style.bottom.replace("px","")):0,g=Math.max(Math.abs(c),Math.abs(e)),h=Math.max(Math.abs(d),Math.abs(f));return{top:g,bottom:h}},a.prototype._isEnabled=function(a,b,c){var d=b.maybeCloseButton,e=!!d&&!!d.type,f="object"==("undefined"==typeof a?"undefined":_typeof(a))||"object"==("undefined"==typeof b?"undefined":_typeof(b));return!!c&&(!!b.maybePrLabelPos||e)&&f},a.prototype._createContainer=function(){var a=document.createElement("div");return a.className="ma-accessories-container",a.style.position="absolute",a.style.padding="0px",a.style.margin="0px",a.style.height="0px",a},a.prototype._createAccessories=function(a,b,c){var d=new microadCompass.CloseButtonAccessory(this.spotDivElement,b.maybeCloseButton,c).create().applyPosition(parseInt(a.width)).applySizeAndColor().applyBackgroundColor().applyFrame().applyCloseEvent().wrapElement(),e=new microadCompass.PrLabelAccessory(b.maybePrLabelPos,b.maybeOptoutLink).create().applyPosition().applyClickEvent().wrapElement();return[d,e]},a.prototype._adjustPosition=function(a,b,c){if("MutationObserver"in window){var d=new MutationObserver(function(d,e){this._updatePosition(a,b,c)}.bind(this));d.observe(b,{attributes:!0,attributeFilter:["height","width","style"]})}},a.prototype._updatePosition=function(a,b,c){a.style.MozTransform=b.style.MozTransform,a.style.MozTransformOrigin=b.style.MozTransformOrigin,a.style.webkitTransform=b.style.webkitTransform,a.style.webkitTransformOrigin=b.style.webkitTransformOrigin,a.style.transform=b.style.transform,a.style.transformOrigin=b.style.transformOrigin,a.style.width=b.width},a.prototype._calcPositionValue=function(a,c){var d=String(a).replace("px","")+"px",e="CSS"in b.get("window")&&"function"==typeof CSS.supports,f=!!e&&CSS.supports("top: calc(1px)");return f?"calc("+d+" - ("+d+" * "+c+"))":"0px"},a.prototype._hideSpotDivElement=function(){this.accessories.isWipe&&function(){var a=this._createQuery({service_id:1035,kv_set:"%5B%7B%22spot_code%22%3A%22"+this.accessories.spotId+"%22%7D%5D"}),c=b.get("document").createElement("img");c.width="0px",c.height="0px",c.style.display="none",c.src=this.settings.closeEventBeaconUrl+"?"+a,this.closeButtonParentContainer.appendChild(c)}.bind(this)(),microadCompass&&microadCompass.frequency&&microadCompass.frequency.cancel(this.accessories.spotId),this.spotDivElement.style.display="none"},a.prototype._createQuery=function(a){return Object.keys(a).filter(function(b){return null!==a[b]&&void 0!==a[b]}).map(function(b){return b+"="+a[b]}).join("&")},a.prototype._createParentContainer=function(a,b){var c=this._createContainer();return this._updatePosition(c,this.adIframe,a),this._adjustPosition(c,this.adIframe,a),c.appendChild(b.container),this.spotDivElement.appendChild(c),c},a.prototype._moveDisplayPrLabelPositionBy=function(a){var b=!!this.prLabelParentContainer.style.transformOrigin||!!this.prLabelParentContainer.style.webkitTransformOrigin||!!this.prLabelParentContainer.style.MozTransformOrigin,c=b?this._calcPositionValue(this.adIframe.height,this.scaleValue):"0",d="inner"===this.prLabel.verticalType;switch(a){case"TOP":this.prLabelParentContainer.style.top=d?"0":"",this.prLabelParentContainer.style.bottom=d?"":c;break;case"BOTTOM":case"CENTER":default:this.prLabelParentContainer.style.top=c,this.prLabelParentContainer.style.bottom=""}this.prLabel.moveDisplayPosition(a,this.prLabel.container)},a.prototype._moveDisplayCloseButtonPositionBy=function(a){var b=!!this.closeButtonParentContainer.style.transformOrigin||!!this.closeButtonParentContainer.style.webkitTransformOrigin||!!this.closeButtonParentContainer.style.MozTransformOrigin,c=b?this._calcPositionValue(this.adIframe.height,this.scaleValue):"0",d="inner"===this.closeButton.verticalType;switch(a){case"TOP":this.closeButtonParentContainer.style.top=d?"0":"",this.closeButtonParentContainer.style.bottom=d?"":c;break;case"BOTTOM":case"CENTER":default:this.closeButtonParentContainer.style.top=c,this.closeButtonParentContainer.style.bottom=""}this.closeButton.moveDisplayPosition(a,this.closeButtonParentContainer,this.closeButton.container)},a}(),microadCompass.ErrorReporter=microadCompass.ErrorReporter||function(){"use strict";function a(){return null==c&&(c=this,d=new microadCompass.Settings(microadCompass.environment)),Object.freeze(c)}function b(a,b,c){var e={ep:a.ep,ct:a.creative_type,ver:'["compass.js.v1.19.1"]',ec:b,etc:c,test:d.reportingTestFlag};return null==c&&delete e.etc,Object.keys(e).map(function(a){return a+"="+e[a]}).join("&")}var c=void 0,d=void 0;return a.prototype.reportToSsp=function(a,c,e){try{(new Image).src=encodeURI(d.debugUrl+"?"+b(a,c,e))}catch(f){this.consoleLog(f)}},a.prototype.reportToSspByRatio=function(a,b,c,d){Math.random()<=d&&this.reportToSsp(a,b,c)},a.prototype.consoleLog=function(a){try{console.log(a)}catch(b){}},a.prototype.traceLog=function(a){try{console.trace(a)}catch(b){}},a}(),microadCompass.ClientHints=microadCompass.ClientHints||function(){"use strict";function a(a,b){this._onComplete=a,this._timeoutMs=b}return a.prototype._fetchClientHints=function(){var a=navigator.userAgentData;if(null!=a)try{return a.getHighEntropyValues(["architecture","bitness","model","platformVersion","fullVersionList"]).then(function(a){return a})["catch"](function(a){})}catch(b){return}},a.prototype.fetch=function(){var a=this,b=!1,c=function(){b=!0,a._onComplete()},d=this._fetchClientHints();if(null==d)return void c();var e=setTimeout(function(){b||c()},this._timeoutMs);d.then(function(a){delete a.brands,microadCompass.ch=a,b||(clearTimeout(e),c())})["catch"](function(a){b||(clearTimeout(e),c())})},a}();
</script>
</span></e?f:e},a}(),microadcompass.ssp=microadcompass.ssp||function(){"use></e?f:e},a.prototype._calcpositiony=function(a,b,c,d){var></body>
</html>
