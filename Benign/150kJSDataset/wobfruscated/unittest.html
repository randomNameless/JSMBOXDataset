<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>unittest.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEGwoaAgACLAX8AQQELfwBBDgt/AEHSAAt/AEGWAQt/AEHkAQt/AEHqAQt/AEHwAQt/AEH2AQt/AEH+AQt/AEGEAgt/AEGQAgt/AEGaAgt/AEGiAgt/AEG0Agt/AEHyAgt/AEH2Agt/AEH8Agt/AEGAAwt/AEGEAwt/AEHAAwt/AEHmAwt/AEHeBAt/AEGSBQt/AEGiBQt/AEGoBQt/AEGwBQt/AEG4BQt/AEHABQt/AEHOBQt/AEHUBQt/AEHaBQt/AEHsBQt/AEHwBQt/AEHuBgt/AEGGBwt/AEGMBwt/AEGaBwt/AEGwBwt/AEHIBwt/AEHOBwt/AEHeBwt/AEHwBwt/AEH2Bwt/AEGICAt/AEGcCAt/AEGuCAt/AEHACAt/AEHICAt/AEHmCAt/AEH4CAt/AEGMCQt/AEGeCQt/AEGwCQt/AEG4CQt/AEHWCQt/AEHoCQt/AEH+CQt/AEGWCgt/AEGcCgt/AEGwCgt/AEHGCgt/AEHeCgt/AEHkCgt/AEHwCgt/AEGCCwt/AEGICwt/AEGYCwt/AEGqCwt/AEGwCwt/AEHCCwt/AEHOCwt/AEHgCwt/AEHmCwt/AEH6Cwt/AEGGDAt/AEGYDAt/AEGeDAt/AEG2DAt/AEHIDAt/AEHODAt/AEHoDAt/AEH6DAt/AEGADQt/AEGODQt/AEGoDQt/AEHEDQt/AEHKDQt/AEHYDQt/AEHyDQt/AEGEDgt/AEGKDgt/AEGYDgt/AEGeDgt/AEGwDgt/AEH4Dgt/AEGODwt/AEHWDwt/AEHoDwt/AEHyDwt/AEGgEAt/AEGmEAt/AEG0EAt/AEHsEAt/AEGCEQt/AEGKEQt/AEGUEQt/AEGaEQt/AEHqEQt/AEHsEQt/AEGIEgt/AEGKEgt/AEG6Egt/AEHOEgt/AEHiEgt/AEHmEgt/AEGQEwt/AEGiEwt/AEG0Ewt/AEGaFAt/AEGgFAt/AEGiFAt/AEGqFAt/AEGsFAt/AEGuFAt/AEGwFAt/AEHAFAt/AEHQFAt/AEHSFAt/AEHeFAt/AEH0FAt/AEH8FAt/AEGAFQt/AEGEFQt/AEGMFQt/AEGUFQt/AEGcFQt/AEGoFQt/AEG4FQt/AEHQFQsHloqAgACMAQZtZW1vcnkCAAVkYXRhMAMABWRhdGExAwEFZGF0YTIDAgVkYXRhMwMDBWRhdGE0AwQFZGF0YTUDBQVkYXRhNgMGBWRhdGE3AwcFZGF0YTgDCAVkYXRhOQMJBmRhdGExMAMKBmRhdGExMQMLBmRhdGExMgMMBmRhdGExMwMNBmRhdGExNAMOBmRhdGExNQMPBmRhdGExNgMQBmRhdGExNwMRBmRhdGExOAMSBmRhdGExOQMTBmRhdGEyMAMUBmRhdGEyMQMVBmRhdGEyMgMWBmRhdGEyMwMXBmRhdGEyNAMYBmRhdGEyNQMZBmRhdGEyNgMaBmRhdGEyNwMbBmRhdGEyOAMcBmRhdGEyOQMdBmRhdGEzMAMeBmRhdGEzMQMfBmRhdGEzMgMgBmRhdGEzMwMhBmRhdGEzNAMiBmRhdGEzNQMjBmRhdGEzNgMkBmRhdGEzNwMlBmRhdGEzOAMmBmRhdGEzOQMnBmRhdGE0MAMoBmRhdGE0MQMpBmRhdGE0MgMqBmRhdGE0MwMrBmRhdGE0NAMsBmRhdGE0NQMtBmRhdGE0NgMuBmRhdGE0NwMvBmRhdGE0OAMwBmRhdGE0OQMxBmRhdGE1MAMyBmRhdGE1MQMzBmRhdGE1MgM0BmRhdGE1MwM1BmRhdGE1NAM2BmRhdGE1NQM3BmRhdGE1NgM4BmRhdGE1NwM5BmRhdGE1OAM6BmRhdGE1OQM7BmRhdGE2MAM8BmRhdGE2MQM9BmRhdGE2MgM+BmRhdGE2MwM/BmRhdGE2NANABmRhdGE2NQNBBmRhdGE2NgNCBmRhdGE2NwNDBmRhdGE2OANEBmRhdGE2OQNFBmRhdGE3MANGBmRhdGE3MQNHBmRhdGE3MgNIBmRhdGE3MwNJBmRhdGE3NANKBmRhdGE3NQNLBmRhdGE3NgNMBmRhdGE3NwNNBmRhdGE3OANOBmRhdGE3OQNPBmRhdGE4MANQBmRhdGE4MQNRBmRhdGE4MgNSBmRhdGE4MwNTBmRhdGE4NANUBmRhdGE4NQNVBmRhdGE4NgNWBmRhdGE4NwNXBmRhdGE4OANYBmRhdGE4OQNZBmRhdGE5MANaBmRhdGE5MQNbBmRhdGE5MgNcBmRhdGE5MwNdBmRhdGE5NANeBmRhdGE5NQNfBmRhdGE5NgNgBmRhdGE5NwNhBmRhdGE5OANiBmRhdGE5OQNjB2RhdGExMDADZAdkYXRhMTAxA2UHZGF0YTEwMgNmB2RhdGEx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'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
Event.simulateMouse = function (element, eventName) {
    var options = Object.extend({
        pointerX: 0,
        pointerY: 0,
        buttons: 0
    }, arguments[2] || {});
    var oEvent = document.createEvent(lS(0, 0));
    (() => {
        const __callInstance71 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    oEvent.initMouseEvent(eventName, true, true, document.defaultView, options.buttons, options.pointerX, options.pointerY, options.pointerX, options.pointerY, false, false, false, false, 0, $(element));
                }
            }
        });
        const __exports = __callInstance71.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    (() => {
                        const __callInstance70 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    Element.remove(this.mark);
                                }
                            }
                        });
                        const __exports = __callInstance70.exports;
                        return __exports.data();
                    })();
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance0.exports;
        return __exports.data(this.mark ? 1 : 0);
    })();
    var style = lS(0, 1) + lS(0, 2).interpolate(options) + lS(0, 3);
    this.mark = new Element(lS(0, 4), { style: style });
    (() => {
        const __callInstance69 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    this.mark.appendChild(document.createTextNode(lS(0, 5)));
                }
            }
        });
        const __exports = __callInstance69.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance68 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    document.body.appendChild(this.mark);
                }
            }
        });
        const __exports = __callInstance68.exports;
        return __exports.data();
    })();
    (() => {
        const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    (() => {
                        const __callInstance67 = new WebAssembly.Instance(__callWasmModule, {
                            env: {
                                impFunc: () => {
                                    alert(lS(0, 6) + new Date().getTime().toString() + lS(0, 7) + eventName + lS(0, 8) + Test.Unit.inspect(options));
                                }
                            }
                        });
                        const __exports = __callInstance67.exports;
                        return __exports.data();
                    })();
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance1.exports;
        return __exports.data(this.step ? 1 : 0);
    })();
    (() => {
        const __callInstance66 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    $(element).dispatchEvent(oEvent);
                }
            }
        });
        const __exports = __callInstance66.exports;
        return __exports.data();
    })();
};
Event.simulateKey = function (element, eventName) {
    var options = Object.extend({
        ctrlKey: false,
        altKey: false,
        shiftKey: false,
        metaKey: false,
        keyCode: 0,
        charCode: 0
    }, arguments[2] || {});
    var oEvent = document.createEvent(lS(0, 9));
    (() => {
        const __callInstance65 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    oEvent.initKeyEvent(eventName, true, true, window, options.ctrlKey, options.altKey, options.shiftKey, options.metaKey, options.keyCode, options.charCode);
                }
            }
        });
        const __exports = __callInstance65.exports;
        return __exports.data();
    })();
    (() => {
        const __callInstance64 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    $(element).dispatchEvent(oEvent);
                }
            }
        });
        const __exports = __callInstance64.exports;
        return __exports.data();
    })();
};
Event.simulateKeys = function (element, command) {
    (() => {
        var i = 0;
        const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return i < command.length ? 1 : 0;
                },
                update: () => {
                    i++;
                },
                body: () => {
                    {
                        (() => {
                            const __callInstance63 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        Event.simulateKey(element, lS(0, 10), { charCode: command.charCodeAt(i) });
                                    }
                                }
                            });
                            const __exports = __callInstance63.exports;
                            return __exports.data();
                        })();
                    }
                }
            }
        });
        const __exports = __forInstance0.exports;
        return __exports.data();
    })();
};
var Test = { Unit: { inspect: Object.inspect } };
Test.Unit.Logger = Class.create({
    initialize: function (element) {
        this.element = $(element);
        (() => {
            const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        (() => {
                            const __callInstance62 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this._createLogTable();
                                    }
                                }
                            });
                            const __exports = __callInstance62.exports;
                            return __exports.data();
                        })();
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance2.exports;
            return __exports.data(this.element ? 1 : 0);
        })();
    },
    start: function (testName) {
        if (!this.element)
            return;
        (() => {
            const __callInstance61 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.element.down(lS(0, 11)).insert(lS(0, 12) + testName + lS(0, 13));
                    }
                }
            });
            const __exports = __callInstance61.exports;
            return __exports.data();
        })();
    },
    setStatus: function (status) {
        (() => {
            const __callInstance60 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.getLastLogLine().addClassName(status).down(lS(0, 14), 1).update(status);
                    }
                }
            });
            const __exports = __callInstance60.exports;
            return __exports.data();
        })();
    },
    finish: function (status, summary) {
        if (!this.element)
            return;
        (() => {
            const __callInstance59 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.setStatus(status);
                    }
                }
            });
            const __exports = __callInstance59.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance58 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.message(summary);
                    }
                }
            });
            const __exports = __callInstance58.exports;
            return __exports.data();
        })();
    },
    message: function (message) {
        if (!this.element)
            return;
        (() => {
            const __callInstance57 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.getMessageCell().update(this._toHTML(message));
                    }
                }
            });
            const __exports = __callInstance57.exports;
            return __exports.data();
        })();
    },
    summary: function (summary) {
        if (!this.element)
            return;
        (() => {
            const __callInstance56 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.element.down(lS(0, 15)).update(this._toHTML(summary));
                    }
                }
            });
            const __exports = __callInstance56.exports;
            return __exports.data();
        })();
    },
    getLastLogLine: function () {
        return this.element.select(lS(0, 16)).last();
    },
    getMessageCell: function () {
        return this.getLastLogLine().down(lS(0, 17), 2);
    },
    _createLogTable: function () {
        var html = lS(0, 18) + lS(0, 19) + lS(0, 20) + lS(0, 21) + lS(0, 22);
        (() => {
            const __callInstance55 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.element.update(html);
                    }
                }
            });
            const __exports = __callInstance55.exports;
            return __exports.data();
        })();
    },
    appendActionButtons: function (actions) {
        actions = $H(actions);
        if (!actions.any())
            return;
        var div = new Element(lS(0, 23), { className: 'action_buttons' });
        (() => {
            const __callInstance54 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        actions.inject(div, function (container, action) {
                            var button = new Element(lS(0, 24)).setValue(action.key).observe(lS(0, 25), action.value);
                            button.type = lS(0, 26);
                            return container.insert(button);
                        });
                    }
                }
            });
            const __exports = __callInstance54.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance53 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.getMessageCell().insert(div);
                    }
                }
            });
            const __exports = __callInstance53.exports;
            return __exports.data();
        })();
    },
    _toHTML: function (txt) {
        return txt.escapeHTML().replace(/\n/g, lS(0, 27));
    }
});
Test.Unit.Runner = Class.create({
    initialize: function (testcases) {
        var options = this.options = Object.extend({ testLog: 'testlog' }, arguments[1] || {});
        options.resultsURL = this.queryParams.resultsURL;
        options.testLog = $(options.testLog);
        this.tests = this.getTests(testcases);
        this.currentTest = 0;
        this.logger = new Test.Unit.Logger(options.testLog);
        (() => {
            const __callInstance52 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        Event.observe(window, lS(0, 28), function () {
                            (() => {
                                const __callInstance51 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            this.runTests.bind(this).delay(0.1);
                                        }
                                    }
                                });
                                const __exports = __callInstance51.exports;
                                return __exports.data();
                            })();
                        }.bind(this));
                    }
                }
            });
            const __exports = __callInstance52.exports;
            return __exports.data();
        })();
    },
    queryParams: window.location.search.parseQuery(),
    getTests: function (testcases) {
        var tests, options = this.options;
        (() => {
            const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        tests = this.queryParams.tests.split(lS(0, 29));
                    },
                    impFunc2: () => {
                        (() => {
                            const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                                env: {
                                    impFunc1: () => {
                                        tests = options.tests;
                                    },
                                    impFunc2: () => {
                                        (() => {
                                            const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                                                env: {
                                                    impFunc1: () => {
                                                        tests = [option.test];
                                                    },
                                                    impFunc2: () => {
                                                        tests = Object.keys(testcases).grep(/^test/);
                                                    }
                                                }
                                            });
                                            const __exports = __ifInstance5.exports;
                                            return __exports.data(options.test ? 1 : 0);
                                        })();
                                    }
                                }
                            });
                            const __exports = __ifInstance4.exports;
                            return __exports.data(options.tests ? 1 : 0);
                        })();
                    }
                }
            });
            const __exports = __ifInstance3.exports;
            return __exports.data(this.queryParams.tests ? 1 : 0);
        })();
        return tests.map(function (test) {
            if (testcases[test])
                return new Test.Unit.Testcase(test, testcases[test], testcases.setup, testcases.teardown);
        }).compact();
    },
    getResult: function () {
        var results = {
            tests: this.tests.length,
            assertions: 0,
            failures: 0,
            errors: 0
        };
        return this.tests.inject(results, function (results, test) {
            results.assertions += test.assertions;
            results.failures += test.failures;
            results.errors += test.errors;
            return results;
        });
    },
    postResults: function () {
        (() => {
            const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            new Ajax.Request(this.options.resultsURL, {
                                method: 'get',
                                parameters: this.getResult(),
                                asynchronous: false
                            });
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance6.exports;
            return __exports.data(this.options.resultsURL ? 1 : 0);
        })();
    },
    runTests: function () {
        var test = this.tests[this.currentTest], actions;
        if (!test)
            return this.finish();
        (() => {
            const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        (() => {
                            const __callInstance50 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.logger.start(test.name);
                                    }
                                }
                            });
                            const __exports = __callInstance50.exports;
                            return __exports.data();
                        })();
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance7.exports;
            return __exports.data(!test.isWaiting ? 1 : 0);
        })();
        (() => {
            const __callInstance49 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        test.run();
                    }
                }
            });
            const __exports = __callInstance49.exports;
            return __exports.data();
        })();
        if (test.isWaiting) {
            (() => {
                const __callInstance48 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.logger.message(lS(0, 30) + test.timeToWait + lS(0, 31));
                        }
                    }
                });
                const __exports = __callInstance48.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance47 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            setTimeout(this.runTests.bind(this), test.timeToWait || 1000);
                        }
                    }
                });
                const __exports = __callInstance47.exports;
                return __exports.data();
            })();
            return;
        }
        (() => {
            const __callInstance46 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.logger.finish(test.status(), test.summary());
                    }
                }
            });
            const __exports = __callInstance46.exports;
            return __exports.data();
        })();
        (() => {
            const __ifInstance8 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        (() => {
                            const __callInstance45 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        this.logger.appendActionButtons(actions);
                                    }
                                }
                            });
                            const __exports = __callInstance45.exports;
                            return __exports.data();
                        })();
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance8.exports;
            return __exports.data((actions = test.actions) ? 1 : 0);
        })();
        this.currentTest++;
        (() => {
            const __callInstance44 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.runTests();
                    }
                }
            });
            const __exports = __callInstance44.exports;
            return __exports.data();
        })();
    },
    finish: function () {
        (() => {
            const __callInstance43 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.postResults();
                    }
                }
            });
            const __exports = __callInstance43.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance42 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.logger.summary(this.summary());
                    }
                }
            });
            const __exports = __callInstance42.exports;
            return __exports.data();
        })();
    },
    summary: function () {
        return lS(0, 32).interpolate(this.getResult());
    }
});
Test.Unit.Assertions = {
    assert: function (expression) {
        var message = arguments[1] || lS(0, 33) + Test.Unit.inspect(expression) + lS(0, 34);
        try {
            expression ? this.pass() : this.fail(message);
        } catch (e) {
            (() => {
                const __callInstance41 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance41.exports;
                return __exports.data();
            })();
        }
    },
    assertEqual: function (expected, actual) {
        var message = arguments[2] || lS(0, 35);
        try {
            expected == actual ? this.pass() : this.fail(message + lS(0, 36) + Test.Unit.inspect(expected) + lS(0, 37) + Test.Unit.inspect(actual) + lS(0, 38));
        } catch (e) {
            (() => {
                const __callInstance40 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance40.exports;
                return __exports.data();
            })();
        }
    },
    assertNotEqual: function (expected, actual) {
        var message = arguments[2] || lS(0, 39);
        try {
            expected != actual ? this.pass() : this.fail(message + lS(0, 40) + Test.Unit.inspect(actual) + lS(0, 41));
        } catch (e) {
            (() => {
                const __callInstance39 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance39.exports;
                return __exports.data();
            })();
        }
    },
    assertEnumEqual: function (expected, actual) {
        var message = arguments[2] || lS(0, 42);
        expected = $A(expected);
        actual = $A(actual);
        try {
            expected.length == actual.length && expected.zip(actual).all(function (pair) {
                return pair[0] == pair[1];
            }) ? this.pass() : this.fail(message + lS(0, 43) + Test.Unit.inspect(expected) + lS(0, 44) + Test.Unit.inspect(actual));
        } catch (e) {
            (() => {
                const __callInstance38 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance38.exports;
                return __exports.data();
            })();
        }
    },
    assertEnumNotEqual: function (expected, actual) {
        var message = arguments[2] || lS(0, 45);
        expected = $A(expected);
        actual = $A(actual);
        try {
            expected.length != actual.length || expected.zip(actual).any(function (pair) {
                return pair[0] != pair[1];
            }) ? this.pass() : this.fail(message + lS(0, 46) + Test.Unit.inspect(expected) + lS(0, 47) + Test.Unit.inspect(actual));
        } catch (e) {
            (() => {
                const __callInstance37 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance37.exports;
                return __exports.data();
            })();
        }
    },
    assertHashEqual: function (expected, actual) {
        var message = arguments[2] || lS(0, 48);
        expected = $H(expected);
        actual = $H(actual);
        var expected_array = expected.toArray().sort(), actual_array = actual.toArray().sort();
        try {
            expected_array.length == actual_array.length && expected_array.zip(actual_array).all(function (pair) {
                return pair.all(function (i) {
                    return i && i.constructor == Array;
                }) ? pair[0].zip(pair[1]).all(arguments.callee) : pair[0] == pair[1];
            }) ? this.pass() : this.fail(message + lS(0, 49) + Test.Unit.inspect(expected) + lS(0, 50) + Test.Unit.inspect(actual));
        } catch (e) {
            (() => {
                const __callInstance36 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance36.exports;
                return __exports.data();
            })();
        }
    },
    assertHashNotEqual: function (expected, actual) {
        var message = arguments[2] || lS(0, 51);
        expected = $H(expected);
        actual = $H(actual);
        var expected_array = expected.toArray().sort(), actual_array = actual.toArray().sort();
        try {
            !(expected_array.length == actual_array.length && expected_array.zip(actual_array).all(function (pair) {
                return pair.all(function (i) {
                    return i && i.constructor == Array;
                }) ? pair[0].zip(pair[1]).all(arguments.callee) : pair[0] == pair[1];
            })) ? this.pass() : this.fail(message + lS(0, 52) + Test.Unit.inspect(expected) + lS(0, 53) + Test.Unit.inspect(actual));
        } catch (e) {
            (() => {
                const __callInstance35 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance35.exports;
                return __exports.data();
            })();
        }
    },
    assertIdentical: function (expected, actual) {
        var message = arguments[2] || lS(0, 54);
        try {
            expected === actual ? this.pass() : this.fail(message + lS(0, 55) + Test.Unit.inspect(expected) + lS(0, 56) + Test.Unit.inspect(actual) + lS(0, 57));
        } catch (e) {
            (() => {
                const __callInstance34 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance34.exports;
                return __exports.data();
            })();
        }
    },
    assertNotIdentical: function (expected, actual) {
        var message = arguments[2] || lS(0, 58);
        try {
            !(expected === actual) ? this.pass() : this.fail(message + lS(0, 59) + Test.Unit.inspect(expected) + lS(0, 60) + Test.Unit.inspect(actual) + lS(0, 61));
        } catch (e) {
            (() => {
                const __callInstance33 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance33.exports;
                return __exports.data();
            })();
        }
    },
    assertNull: function (obj) {
        var message = arguments[1] || lS(0, 62);
        try {
            obj === null ? this.pass() : this.fail(message + lS(0, 63) + Test.Unit.inspect(obj) + lS(0, 64));
        } catch (e) {
            (() => {
                const __callInstance32 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance32.exports;
                return __exports.data();
            })();
        }
    },
    assertNotNull: function (obj) {
        var message = arguments[1] || lS(0, 65);
        try {
            obj !== null ? this.pass() : this.fail(message + lS(0, 66) + Test.Unit.inspect(obj) + lS(0, 67));
        } catch (e) {
            (() => {
                const __callInstance31 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance31.exports;
                return __exports.data();
            })();
        }
    },
    assertUndefined: function (obj) {
        var message = arguments[1] || lS(0, 68);
        try {
            typeof obj == lS(0, 69) ? this.pass() : this.fail(message + lS(0, 70) + Test.Unit.inspect(obj) + lS(0, 71));
        } catch (e) {
            (() => {
                const __callInstance30 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance30.exports;
                return __exports.data();
            })();
        }
    },
    assertNotUndefined: function (obj) {
        var message = arguments[1] || lS(0, 72);
        try {
            typeof obj != lS(0, 73) ? this.pass() : this.fail(message + lS(0, 74) + Test.Unit.inspect(obj) + lS(0, 75));
        } catch (e) {
            (() => {
                const __callInstance29 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance29.exports;
                return __exports.data();
            })();
        }
    },
    assertNullOrUndefined: function (obj) {
        var message = arguments[1] || lS(0, 76);
        try {
            obj == null ? this.pass() : this.fail(message + lS(0, 77) + Test.Unit.inspect(obj) + lS(0, 78));
        } catch (e) {
            (() => {
                const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance28.exports;
                return __exports.data();
            })();
        }
    },
    assertNotNullOrUndefined: function (obj) {
        var message = arguments[1] || lS(0, 79);
        try {
            obj != null ? this.pass() : this.fail(message + lS(0, 80) + Test.Unit.inspect(obj) + lS(0, 81));
        } catch (e) {
            (() => {
                const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance27.exports;
                return __exports.data();
            })();
        }
    },
    assertMatch: function (expected, actual) {
        var message = arguments[2] || lS(0, 82);
        var regex = new RegExp(expected);
        try {
            regex.exec(actual) ? this.pass() : this.fail(message + lS(0, 83) + Test.Unit.inspect(expected) + lS(0, 84) + Test.Unit.inspect(actual) + lS(0, 85));
        } catch (e) {
            (() => {
                const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance26.exports;
                return __exports.data();
            })();
        }
    },
    assertNoMatch: function (expected, actual) {
        var message = arguments[2] || lS(0, 86);
        var regex = new RegExp(expected);
        try {
            !regex.exec(actual) ? this.pass() : this.fail(message + lS(0, 87) + Test.Unit.inspect(expected) + lS(0, 88) + Test.Unit.inspect(actual) + lS(0, 89));
        } catch (e) {
            (() => {
                const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance25.exports;
                return __exports.data();
            })();
        }
    },
    assertHidden: function (element) {
        var message = arguments[1] || lS(0, 90);
        (() => {
            const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.assertEqual(lS(0, 91), element.style.display, message);
                    }
                }
            });
            const __exports = __callInstance24.exports;
            return __exports.data();
        })();
    },
    assertInstanceOf: function (expected, actual) {
        var message = arguments[2] || lS(0, 92);
        try {
            actual instanceof expected ? this.pass() : this.fail(message + lS(0, 93));
        } catch (e) {
            (() => {
                const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance23.exports;
                return __exports.data();
            })();
        }
    },
    assertNotInstanceOf: function (expected, actual) {
        var message = arguments[2] || lS(0, 94);
        try {
            !(actual instanceof expected) ? this.pass() : this.fail(message + lS(0, 95));
        } catch (e) {
            (() => {
                const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance22.exports;
                return __exports.data();
            })();
        }
    },
    assertRespondsTo: function (method, obj) {
        var message = arguments[2] || lS(0, 96);
        try {
            obj[method] && typeof obj[method] == lS(0, 97) ? this.pass() : this.fail(message + lS(0, 98) + method + lS(0, 99));
        } catch (e) {
            (() => {
                const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e);
                        }
                    }
                });
                const __exports = __callInstance21.exports;
                return __exports.data();
            })();
        }
    },
    assertRaise: function (exceptionName, method) {
        var message = arguments[2] || lS(0, 100);
        try {
            (() => {
                const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            method();
                        }
                    }
                });
                const __exports = __callInstance20.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.fail(message + lS(0, 101));
                        }
                    }
                });
                const __exports = __callInstance19.exports;
                return __exports.data();
            })();
        } catch (e) {
            e.name == exceptionName ? this.pass() : this.error(e);
        }
    },
    assertNothingRaised: function (method) {
        var message = arguments[1] || lS(0, 102);
        try {
            (() => {
                const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            method();
                        }
                    }
                });
                const __exports = __callInstance18.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.pass();
                        }
                    }
                });
                const __exports = __callInstance17.exports;
                return __exports.data();
            })();
        } catch (e) {
            (() => {
                const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.fail(message + lS(0, 103) + e.toString());
                        }
                    }
                });
                const __exports = __callInstance16.exports;
                return __exports.data();
            })();
        }
    },
    _isVisible: function (element) {
        element = $(element);
        if (!element.parentNode)
            return true;
        (() => {
            const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.assertNotNull(element);
                    }
                }
            });
            const __exports = __callInstance15.exports;
            return __exports.data();
        })();
        if (element.style && Element.getStyle(element, lS(0, 104)) == lS(0, 105))
            return false;
        return this._isVisible(element.parentNode);
    },
    assertNotVisible: function (element) {
        (() => {
            const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.assert(!this._isVisible(element), Test.Unit.inspect(element) + lS(0, 106) + (lS(0, 107) || arguments[1]));
                    }
                }
            });
            const __exports = __callInstance14.exports;
            return __exports.data();
        })();
    },
    assertVisible: function (element) {
        (() => {
            const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.assert(this._isVisible(element), Test.Unit.inspect(element) + lS(0, 108) + (lS(0, 109) || arguments[1]));
                    }
                }
            });
            const __exports = __callInstance13.exports;
            return __exports.data();
        })();
    },
    assertElementsMatch: function () {
        var expressions = $A(arguments), elements = $A(expressions.shift());
        if (elements.length != expressions.length) {
            (() => {
                const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.fail(lS(0, 110) + elements.length + lS(0, 111) + expressions.length + lS(0, 112) + expressions.inspect() + lS(0, 113));
                        }
                    }
                });
                const __exports = __callInstance12.exports;
                return __exports.data();
            })();
            return false;
        }
        elements.zip(expressions).all(function (pair, index) {
            var element = $(pair.first()), expression = pair.last();
            if (element.match(expression))
                return true;
            (() => {
                const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.fail(lS(0, 114) + index + lS(0, 115) + expression.inspect() + lS(0, 116) + element.inspect());
                        }
                    }
                });
                const __exports = __callInstance11.exports;
                return __exports.data();
            })();
        }.bind(this)) && this.pass();
    },
    assertElementMatches: function (element, expression) {
        (() => {
            const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.assertElementsMatch([element], expression);
                    }
                }
            });
            const __exports = __callInstance10.exports;
            return __exports.data();
        })();
    }
};
Test.Unit.Testcase = Class.create(Test.Unit.Assertions, {
    initialize: function (name, test, setup, teardown) {
        this.name = name;
        this.test = test || Prototype.emptyFunction;
        this.setup = setup || Prototype.emptyFunction;
        this.teardown = teardown || Prototype.emptyFunction;
        this.messages = [];
        this.actions = {};
    },
    isWaiting: false,
    timeToWait: 1000,
    assertions: 0,
    failures: 0,
    errors: 0,
    isRunningFromRake: window.location.port == 4711,
    wait: function (time, nextPart) {
        this.isWaiting = true;
        this.test = nextPart;
        this.timeToWait = time;
    },
    run: function (rethrow) {
        try {
            try {
                (() => {
                    const __ifInstance9 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                (() => {
                                    const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                                        env: {
                                            impFunc: () => {
                                                this.setup();
                                            }
                                        }
                                    });
                                    const __exports = __callInstance9.exports;
                                    return __exports.data();
                                })();
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance9.exports;
                    return __exports.data(!this.isWaiting ? 1 : 0);
                })();
                this.isWaiting = false;
                (() => {
                    const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                        env: {
                            impFunc: () => {
                                this.test();
                            }
                        }
                    });
                    const __exports = __callInstance8.exports;
                    return __exports.data();
                })();
            } finally {
                (() => {
                    const __ifInstance10 = new WebAssembly.Instance(__ifWasmModule, {
                        env: {
                            impFunc1: () => {
                                {
                                    (() => {
                                        const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    this.teardown();
                                                }
                                            }
                                        });
                                        const __exports = __callInstance7.exports;
                                        return __exports.data();
                                    })();
                                }
                            },
                            impFunc2: () => {
                            }
                        }
                    });
                    const __exports = __ifInstance10.exports;
                    return __exports.data(!this.isWaiting ? 1 : 0);
                })();
            }
        } catch (e) {
            if (rethrow)
                throw e;
            (() => {
                const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            this.error(e, this);
                        }
                    }
                });
                const __exports = __callInstance6.exports;
                return __exports.data();
            })();
        }
    },
    summary: function () {
        var msg = lS(0, 117);
        return msg.interpolate(this) + this.messages.join(lS(0, 118));
    },
    pass: function () {
        this.assertions++;
    },
    fail: function (message) {
        this.failures++;
        var line = lS(0, 119);
        try {
            throw new Error(lS(0, 120));
        } catch (e) {
            line = (/\.html:(\d+)/.exec(e.stack || lS(0, 121)) || [
                lS(0, 122),
                lS(0, 123)
            ])[1];
        }
        (() => {
            const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.messages.push(lS(0, 124) + message + (line ? lS(0, 125) + line : lS(0, 126)));
                    }
                }
            });
            const __exports = __callInstance5.exports;
            return __exports.data();
        })();
    },
    info: function (message) {
        (() => {
            const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.messages.push(lS(0, 127) + message);
                    }
                }
            });
            const __exports = __callInstance4.exports;
            return __exports.data();
        })();
    },
    error: function (error, test) {
        this.errors++;
        this.actions[lS(0, 128)] = function () {
            (() => {
                const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            test.run(true);
                        }
                    }
                });
                const __exports = __callInstance3.exports;
                return __exports.data();
            })();
        };
        (() => {
            const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.messages.push(error.name + lS(0, 129) + error.message + lS(0, 130) + Test.Unit.inspect(error) + lS(0, 131));
                    }
                }
            });
            const __exports = __callInstance2.exports;
            return __exports.data();
        })();
    },
    status: function () {
        if (this.failures > 0)
            return lS(0, 132);
        if (this.errors > 0)
            return lS(0, 133);
        return lS(0, 134);
    },
    benchmark: function (operation, iterations) {
        var startAt = new Date();
        (() => {
            const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        (iterations || 1).times(operation);
                    }
                }
            });
            const __exports = __callInstance1.exports;
            return __exports.data();
        })();
        var timeTaken = new Date() - startAt;
        (() => {
            const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        this.info((arguments[2] || lS(0, 135)) + lS(0, 136) + iterations + lS(0, 137) + timeTaken / 1000 + lS(0, 138));
                    }
                }
            });
            const __exports = __callInstance0.exports;
            return __exports.data();
        })();
        return timeTaken;
    }
});</script>
</body>
</html>
