<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>invite.min.html</title>
</head>
<body>

<script>
var rafDetect=navigator.userAgent.toLowerCase();var rafOS,rafBrowser,rafVersion,rafTotal,rafThestring;function rafGetBrowserInfo(){if(rafCheckIt("konqueror")){rafBrowser="Konqueror";rafOS="Linux"}else{if(rafCheckIt("safari")){rafBrowser="Safari"}else{if(rafCheckIt("omniweb")){rafBrowser="OmniWeb"}else{if(rafCheckIt("opera")){rafBrowser="Opera"}else{if(rafCheckIt("webtv")){rafBrowser="WebTV"}else{if(rafCheckIt("icab")){rafBrowser="iCab"}else{if(rafCheckIt("msie")){rafBrowser="Internet Explorer"}else{if(!rafCheckIt("compatible")){rafBrowser="Netscape Navigator";rafVersion=rafDetect.charAt(8)}else{rafBrowser="An unknown browser"}}}}}}}}if(!rafVersion){rafVersion=rafDetect.charAt(place+rafThestring.length)}if(!rafOS){if(rafCheckIt("linux")){rafOS="Linux"}else{if(rafCheckIt("x11")){rafOS="Unix"}else{if(rafCheckIt("mac")){rafOS="Mac"}else{if(rafCheckIt("win")){rafOS="Windows"}else{rafOS="an unknown operating system"}}}}}}function rafCheckIt(a){place=rafDetect.indexOf(a)+1;rafThestring=a;return place}Event.observe(window,"load",rafGetBrowserInfo,false);var Referafriend=Class.create();Referafriend.prototype={yPos:0,xPos:0,isLoaded:false,initialize:function(b,a){if(a){this.content=a}else{this.content=b.href}b.observe("click",function(c){this.activate();Event.stop(c)}.bind(this));$("referafriend").hide().observe("click",(function(c){if((c.element().id=="referafriend-cancel")||(c.element().id=="span-referafriend-cancel")){this.deactivate()}}).bind(this));$("referafriend-overlay").observe("click",(function(c){this.deactivate()}).bind(this))},activate:function(){if(rafBrowser=="Internet Explorer"){this.getScroll();this.prepareIE("100%","hidden");this.setScroll(0,0);this.hideSelects("hidden")}this.displayReferafriend("block")},prepareIE:function(a,b){bod=document.getElementsByTagName("body")[0];bod.style.height=a;bod.style.overflow=b;htm=document.getElementsByTagName("html")[0];htm.style.height=a;htm.style.overflow=b},hideSelects:function(a){selects=document.getElementsByTagName("select");for(i=0;i<selects.length;i++){selects[i].style.visibility=a}},getScroll:function(){if(self.pageYOffset){this.yPos=self.pageYOffset}else{if(document.documentElement&&document.documentElement.scrollTop){this.yPos=document.documentElement.scrollTop}else{if(document.body){this.yPos=document.body.scrollTop}}}},setScroll:function(a,b){window.scrollTo(a,b)},displayReferafriend:function(a){$("referafriend-overlay").style.display=a;$("referafriend").style.display=a;if(a!="none"){this.loadInfo()}},loadInfo:function(){$("referafriend").className="loading";var a=new Ajax.Request(this.content,{method:"post",parameters:"",onComplete:this.processInfo.bindAsEventListener(this)})},processInfo:function(a){var b=JSON.parse(a.responseText);$("rafContent").update(b.content);$("referafriend").className="done";this.isLoaded=true;this.actions()},actions:function(){rafActions=$$("rafAction")},deactivate:function(){if(rafBrowser=="Internet Explorer"){this.setScroll(0,this.yPos);this.prepareIE("auto","auto");this.hideSelects("visible")}this.displayReferafriend("none")}};function addReferafriendMarkup(){bod=document.getElementsByTagName("body")[0];overlay=document.createElement("div");overlay.id="referafriend-overlay";raf=document.createElement("div");raf.id="referafriend";raf.className="loading";raf.innerHTML='<div id="rafLoadMessage"><p>Loading</p></div>';bod.appendChild(overlay);bod.appendChild(raf)}var ReferafriendForm=Class.create();ReferafriendForm.prototype={initialize:function(b){this.form=b;if($(this.form)){this.sendUrl=$(this.form).action;$(this.form).observe("submit",function(c){this.send();Event.stop(c)}.bind(this))}this.loadWaiting=false;this.validator=new Validation(this.form);this.onSuccess=this.success.bindAsEventListener(this);this.onComplete=this.resetLoadWaiting.bindAsEventListener(this);this.onFailure=this.resetLoadWaiting.bindAsEventListener(this);var a=$("invite-login-container");if(a&&a.style.display=="none"){this._disableEnableAll(a,true)}},send:function(){if(!this.validator.validate()){return false}this.setLoadWaiting(true);var a=new Ajax.Request(this.sendUrl,{method:"post",onComplete:this.onComplete,onSuccess:this.onSuccess,onFailure:this.onFailure,parameters:Form.serialize(this.form)})},success:function(b){this.resetLoadWaiting(b);if(b&&b.responseText){var a=JSON.parse(b.responseText);$("rafContent").update(a.content)}return false},_disableEnableAll:function(c,a){var d=c.descendants();for(var b in d){d[b].disabled=a}c.disabled=a},setLoadWaiting:function(b){var a=$("invite-button-container");if(b){a.setStyle({opacity:0.5});this._disableEnableAll(a,true);Element.show("invite-please-wait");this.loadWaiting=true}else{a.setStyle({opacity:1});this._disableEnableAll(a,false);Element.hide("invite-please-wait");this.loadWaiting=false}},resetLoadWaiting:function(a){this.setLoadWaiting(false)}};
</script>

</body>
</html>
