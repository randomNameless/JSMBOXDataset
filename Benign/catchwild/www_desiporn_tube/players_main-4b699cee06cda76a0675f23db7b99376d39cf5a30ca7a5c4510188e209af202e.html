<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>players_main-4b699cee06cda76a0675f23db7b99376d39cf5a30ca7a5c4510188e209af202e.html</title>
</head>
<body>

<script>
(()=>{function e(e){if("immediatePropagationStopped"in e)return e;{const{stopImmediatePropagation:t}=e;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}function t(e){const t=e.trim().match(ve)||[];let i=t[1],r=t[2];return r&&!["keydown","keyup","keypress"].includes(i)&&(i+=`.${r}`,r=""),{eventTarget:n(t[3]),eventName:i,eventOptions:t[6]?s(t[6]):{},identifier:t[4],methodName:t[5],keyFilter:r}}function n(e){return"window"==e?window:"document"==e?document:void 0}function s(e){return e.split(":").reduce(((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)})),{})}function r(e){return e==window?"window":e==document?"document":void 0}function o(e){return e.replace(/(?:[_-])([a-z0-9])/g,((e,t)=>t.toUpperCase()))}function a(e){return o(e.replace(/--/g,"-").replace(/__/g,"_"))}function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e){return e.replace(/([A-Z])/g,((e,t)=>`-${t.toLowerCase()}`))}function c(e){return e.match(/[^\s]+/g)||[]}function d(e){const t=e.tagName.toLowerCase();if(t in be)return be[t](e)}function h(e){throw new Error(e)}function p(e){try{return JSON.parse(e)}catch(t){return e}}function m(e,t,i){g(e,t).add(i)}function f(e,t,i){g(e,t).delete(i),v(e,t)}function g(e,t){let i=e.get(t);return i||(i=new Set,e.set(t,i)),i}function v(e,t){const i=e.get(t);null!=i&&0==i.size&&e.delete(t)}function y(e,t,i){return e.trim().split(/\s+/).filter((e=>e.length)).map(((e,n)=>({element:t,attributeName:i,content:e,index:n})))}function b(e,t){const i=Math.max(e.length,t.length);return Array.from({length:i},((i,n)=>[e[n],t[n]]))}function w(e,t){return e&&t&&e.index==t.index&&e.content==t.content}function T(e,t){const i=k(e);return Array.from(i.reduce(((e,i)=>(S(i,t).forEach((t=>e.add(t))),e)),new Set))}function E(e,t){return k(e).reduce(((e,i)=>(e.push(...M(i,t)),e)),[])}function k(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function S(e,t){const i=e[t];return Array.isArray(i)?i:[]}function M(e,t){const i=e[t];return i?Object.keys(i).map((e=>[e,i[e]])):[]}function A(e){return x(e,C(e))}function x(e,t){const i=Le(e),n=j(e.prototype,t);return Object.defineProperties(i.prototype,n),i}function C(e){return T(e,"blessings").reduce(((t,i)=>{const n=i(e);for(const e in n){const i=t[e]||{};t[e]=Object.assign(i,n[e])}return t}),{})}function j(e,t){return Pe(t).reduce(((i,n)=>{const s=F(e,t,n);return s&&Object.assign(i,{[n]:s}),i}),{})}function F(e,t,i){const n=Object.getOwnPropertyDescriptor(e,i);if(!(n&&"value"in n)){const e=Object.getOwnPropertyDescriptor(t,i).value;return n&&(e.get=n.get||e.get,e.set=n.set||e.set),e}}function O(e){return{identifier:e.identifier,controllerConstructor:A(e.controllerConstructor)}}function N(e,t){return`[${e}~="${t}"]`}function P(e){return e.reduce(((e,[t,i])=>Object.assign(Object.assign({},e),{[t]:i})),{})}function L(){return new Promise((e=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>e())):e()}))}function B(e){return T(e,"classes").reduce(((e,t)=>Object.assign(e,V(t))),{})}function V(e){return{[`${e}Class`]:{get(){const{classes:t}=this;if(t.has(e))return t.get(e);{const i=t.getAttributeName(e);throw new Error(`Missing attribute "${i}"`)}}},[`${e}Classes`]:{get(){return this.classes.getAll(e)}},[`has${l(e)}Class`]:{get(){return this.classes.has(e)}}}}function I(e){return T(e,"outlets").reduce(((e,t)=>Object.assign(e,D(t))),{})}function D(e){const t=a(e);return{[`${t}Outlet`]:{get(){const t=this.outlets.find(e);if(t){const i=this.application.getControllerForElementAndIdentifier(t,e);if(i)return i;throw new Error(`Missing "data-controller=${e}" attribute on outlet element for "${this.identifier}" controller`)}throw new Error(`Missing outlet element "${e}" for "${this.identifier}" controller`)}},[`${t}Outlets`]:{get(){const t=this.outlets.findAll(e);return t.length>0?t.map((t=>{const i=this.application.getControllerForElementAndIdentifier(t,e);if(i)return i;console.warn(`The provided outlet element is missing the outlet controller "${e}" for "${this.identifier}"`,t)})).filter((e=>e)):[]}},[`${t}OutletElement`]:{get(){const t=this.outlets.find(e);if(t)return t;throw new Error(`Missing outlet element "${e}" for "${this.identifier}" controller`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${l(t)}Outlet`]:{get(){return this.outlets.has(e)}}}}function R(e){return T(e,"targets").reduce(((e,t)=>Object.assign(e,U(t))),{})}function U(e){return{[`${e}Target`]:{get(){const t=this.targets.find(e);if(t)return t;throw new Error(`Missing target element "${e}" for "${this.identifier}" controller`)}},[`${e}Targets`]:{get(){return this.targets.findAll(e)}},[`has${l(e)}Target`]:{get(){return this.targets.has(e)}}}}function z(e){const t=E(e,"values"),i={valueDescriptorMap:{get(){return t.reduce(((e,t)=>{const i=q(t,this.identifier),n=this.data.getAttributeNameForKey(i.key);return Object.assign(e,{[n]:i})}),{})}}};return t.reduce(((e,t)=>Object.assign(e,W(t))),i)}function W(e,t){const i=q(e,t),{key:n,name:s,reader:r,writer:o}=i;return{[s]:{get(){const e=this.data.get(n);return null!==e?r(e):i.defaultValue},set(e){void 0===e?this.data.delete(n):this.data.set(n,o(e))}},[`has${l(s)}`]:{get(){return this.data.has(n)||i.hasCustomDefaultValue}}}}function q([e,t],i){return G({controller:i,token:e,typeDefinition:t})}function H(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function _(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(e)?"array":"[object Object]"===Object.prototype.toString.call(e)?"object":void 0}function K(e){const t=H(e.typeObject.type);if(!t)return;const i=_(e.typeObject.default);if(t!==i){const n=e.controller?`${e.controller}.${e.token}`:e.token;throw new Error(`The specified default value for the Stimulus Value "${n}" must match the defined type "${t}". The provided default value of "${e.typeObject.default}" is of type "${i}".`)}return t}function Y(e){const t=K({controller:e.controller,token:e.token,typeObject:e.typeDefinition}),i=_(e.typeDefinition),n=H(e.typeDefinition),s=t||i||n;if(s)return s;const r=e.controller?`${e.controller}.${e.typeDefinition}`:e.token;throw new Error(`Unknown value type "${r}" for "${e.token}" value`)}function J(e){const t=H(e);if(t)return _e[t];const i=e.default;return void 0!==i?i:e}function G(e){const t=`${u(e.token)}-value`,i=Y(e);return{type:i,key:t,name:o(t),get defaultValue(){return J(e.typeDefinition)},get hasCustomDefaultValue(){return void 0!==_(e.typeDefinition)},reader:Ke[i],writer:Ye[i]||Ye.default}}function X(e){return JSON.stringify(e)}function Q(e){return`${e}`}var Z=Object.create,ee=Object.defineProperty,te=Object.getOwnPropertyDescriptor,ie=Object.getOwnPropertyNames,ne=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty,re=(e,t,i)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,oe=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of ie(t))se.call(e,s)||s===i||ee(e,s,{get:()=>t[s],enumerable:!(n=te(t,s))||n.enumerable});return e},ae=(e,t,i)=>(i=null!=e?Z(ne(e)):{},oe(!t&&e&&e.__esModule?i:ee(i,"default",{value:e,enumerable:!0}),e)),le=(e,t,i)=>(re(e,"symbol"!=typeof t?t+"":t,i),i),ue=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)},ce=(e,t,i)=>(ue(e,t,"read from private field"),i?i.call(e):t.get(e)),de=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},he=(e,t,i)=>(ue(e,t,"access private method"),i),pe=((e,t)=>function(){return t||(0,e[ie(e)[0]])((t={exports:{}}).exports,t),t.exports})({"../../../node_modules/player.js/dist/player-0.1.0.js"(e,t){!function(e,i){function n(e){return function(){var t={method:e},i=Array.prototype.slice.call(arguments);/^get/.test(e)?(s.assert(i.length>0,"Get methods require a callback."),i.unshift(t)):(/^set/.test(e)&&(s.assert(0!==i.length,"Set methods require a value."),t.value=i[0]),i=[t]),this.send.apply(this,i)}}var s={DEBUG:!1,VERSION:"0.0.11",CONTEXT:"player.js"};s.POST_MESSAGE=!!e.postMessage,s.origin=function(t){return"//"===t.substr(0,2)&&(t=e.location.protocol+t),t.split("/").slice(0,3).join("/")},s.addEvent=function(e,t,i){e&&(e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i)},s.log=function(){s.log.history=s.log.history||[],s.log.history.push(arguments),e.console&&s.DEBUG&&e.console.log(Array.prototype.slice.call(arguments))},s.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},s.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},s.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isNone=function(e){return null==e},s.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.indexOf=function(e,t){if(null==e)return-1;var i=0,n=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;i<n;i++)if(e[i]===t)return i;return-1},s.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},s.Keeper=function(){this.init()},s.Keeper.prototype.init=function(){this.data={}},s.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},s.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(s.isNone(t))return!0;for(var i=this.data[e],n=0;n<i.length;n++)if(i[n].id===t)return!0;return!1},s.Keeper.prototype.add=function(e,t,i,n,s){var r={id:e,event:t,cb:i,ctx:n,one:s};this.has(t)?this.data[t].push(r):this.data[t]=[r]},s.Keeper.prototype.execute=function(e,t,i,n){if(!this.has(e,t))return!1;for(var r=[],o=[],a=0;a<this.data[e].length;a++){var l=this.data[e][a];s.isNone(t)||!s.isNone(t)&&l.id===t?(o.push({cb:l.cb,ctx:l.ctx?l.ctx:n,data:i}),!1===l.one&&r.push(l)):r.push(l)}0===r.length?delete this.data[e]:this.data[e]=r;for(var u=0;u<o.length;u++){var c=o[u];c.cb.call(c.ctx,c.data)}},s.Keeper.prototype.on=function(e,t,i,n){this.add(e,t,i,n,!1)},s.Keeper.prototype.one=function(e,t,i,n){this.add(e,t,i,n,!0)},s.Keeper.prototype.off=function(e,t){var i=[];if(!this.data.hasOwnProperty(e))return i;for(var n=[],r=0;r<this.data[e].length;r++){var o=this.data[e][r];s.isNone(t)||o.cb===t?s.isNone(o.id)||i.push(o.id):n.push(o)}return 0===n.length?delete this.data[e]:this.data[e]=n,i},s.Player=function(e,t){if(!(this instanceof s.Player))return new s.Player(e,t);this.init(e,t)},s.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},s.EVENTS.all=function(){var e=[];for(var t in s.EVENTS)s.has(s.EVENTS,t)&&s.isString(s.EVENTS[t])&&e.push(s.EVENTS[t]);return e},s.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},s.METHODS.all=function(){var e=[];for(var t in s.METHODS)s.has(s.METHODS,t)&&s.isString(s.METHODS[t])&&e.push(s.METHODS[t]);return e},s.READIED=[],s.Player.prototype.init=function(t){var n=this;s.isString(t)&&(t=i.getElementById(t)),this.elem=t,s.assert("IFRAME"===t.nodeName,'playerjs.Player constructor requires an Iframe, got "'+t.nodeName+'"'),s.assert(t.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=s.origin(t.src),this.keeper=new s.Keeper,this.isReady=!1,this.queue=[],this.events=s.EVENTS.all(),this.methods=s.METHODS.all(),s.POST_MESSAGE?s.addEvent(e,"message",(function(e){n.receive(e)})):s.log("Post Message is not Available."),s.indexOf(s.READIED,t.src)>-1?n.loaded=!0:this.elem.onload=function(){n.loaded=!0}},s.Player.prototype.send=function(e,t,i){if(e.context=s.CONTEXT,e.version=s.VERSION,t){var n=this.keeper.getUUID();e.listener=n,this.keeper.one(n,e.method,t,i)}return this.isReady||"ready"===e.value?(s.log("Player.send",e,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0):(s.log("Player.queue",e),this.queue.push(e),!1)},s.Player.prototype.receive=function(e){if(s.log("Player.receive",e),e.origin!==this.origin)return!1;var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==s.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},s.Player.prototype.ready=function(e){if(!0===this.isReady)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var i=this.queue[t];s.log("Player.dequeue",i),"ready"===e.event&&this.keeper.execute(i.event,i.listener,!0,this),this.send(i)}this.queue=[]},s.Player.prototype.on=function(e,t,i){var n=this.keeper.getUUID();return"ready"===e?this.keeper.one(n,e,t,i):this.keeper.on(n,e,t,i),this.send({method:"addEventListener",value:e,listener:n}),!0},s.Player.prototype.off=function(e,t){var i=this.keeper.off(e,t);if(s.log("Player.off",i),i.length>0)for(var n in i)return this.send({method:"removeEventListener",value:e,listener:i[n]}),!0;return!1},s.Player.prototype.supports=function(e,t){s.assert(s.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=s.isArray(t)?t:[t];for(var i="event"===e?this.events:this.methods,n=0;n<t.length;n++)if(-1===s.indexOf(i,t[n]))return!1;return!0};for(var r=0,o=s.METHODS.all().length;r<o;r++){var a=s.METHODS.all()[r];s.Player.prototype.hasOwnProperty(a)||(s.Player.prototype[a]=n(a))}s.addEvent(e,"message",(function(e){var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==s.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&s.READIED.push(t.value.src)})),s.Receiver=function(e,t){this.init(e,t)},s.Receiver.prototype.init=function(t,n){var r=this;this.isReady=!1,this.origin=s.origin(i.referrer),this.methods={},this.supported={events:t||s.EVENTS.all(),methods:n||s.METHODS.all()},this.eventListeners={},this.reject=!(e.self!==e.top&&s.POST_MESSAGE),this.reject||s.addEvent(e,"message",(function(e){r.receive(e)}))},s.Receiver.prototype.receive=function(t){if(t.origin!==this.origin)return!1;var i={};if(s.isObject(t.data))i=t.data;else try{i=e.JSON.parse(t.data)}catch(e){s.log("JSON Parse Error",e)}if(s.log("Receiver.receive",t,i),!i.method)return!1;if(i.context!==s.CONTEXT)return!1;if(-1===s.indexOf(s.METHODS.all(),i.method))return this.emit("error",{code:2,msg:'Invalid Method "'+i.method+'"'}),!1;var n=s.isNone(i.listener)?null:i.listener;if("addEventListener"===i.method)this.eventListeners.hasOwnProperty(i.value)?-1===s.indexOf(this.eventListeners[i.value],n)&&this.eventListeners[i.value].push(n):this.eventListeners[i.value]=[n],"ready"===i.value&&this.isReady&&this.ready();else if("removeEventListener"===i.method){if(this.eventListeners.hasOwnProperty(i.value)){var r=s.indexOf(this.eventListeners[i.value],n);r>-1&&this.eventListeners[i.value].splice(r,1),0===this.eventListeners[i.value].length&&delete this.eventListeners[i.value]}}else this.get(i.method,i.value,n)},s.Receiver.prototype.get=function(e,t,i){var n=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var s=this.methods[e];if("get"===e.substr(0,3)){var r=function(t){n.send(e,t,i)};s.call(this,r)}else s.call(this,t)},s.Receiver.prototype.on=function(e,t){this.methods[e]=t},s.Receiver.prototype.send=function(t,i,n){if(s.log("Receiver.send",t,i,n),this.reject)return s.log("Receiver.send.reject",t,i,n),!1;var r={context:s.CONTEXT,version:s.VERSION,event:t};s.isNone(i)||(r.value=i),s.isNone(n)||(r.listener=n);var o=JSON.stringify(r);e.parent.postMessage(o,""===this.origin?"*":this.origin)},s.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;s.log("Instance.emit",e,t,this.eventListeners[e]);for(var i=0;i<this.eventListeners[e].length;i++){var n=this.eventListeners[e][i];this.send(e,t,n)}return!0},s.Receiver.prototype.ready=function(){s.log("Receiver.ready"),this.isReady=!0;var t={src:e.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",t)||this.send("ready",t)},s.HTML5Adapter=function(e){if(!(this instanceof s.HTML5Adapter))return new s.HTML5Adapter(e);this.init(e)},s.HTML5Adapter.prototype.init=function(e){s.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new s.Receiver;e.addEventListener("playing",(function(){t.emit("play")})),e.addEventListener("pause",(function(){t.emit("pause")})),e.addEventListener("ended",(function(){t.emit("ended")})),e.addEventListener("timeupdate",(function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})})),e.addEventListener("progress",(function(){t.emit("buffered",{percent:e.buffered.length})})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(100*e.volume)})),t.on("setVolume",(function(t){e.volume=t/100})),t.on("mute",(function(){e.muted=!0})),t.on("unmute",(function(){e.muted=!1})),t.on("getMuted",(function(t){t(e.muted)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},s.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},s.JWPlayerAdapter=function(e){if(!(this instanceof s.JWPlayerAdapter))return new s.JWPlayerAdapter(e);this.init(e)},s.JWPlayerAdapter.prototype.init=function(e){s.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new s.Receiver;this.looped=!1,e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("time",(function(e){var i=e.position,n=e.duration;if(!i||!n)return!1;var s={seconds:i,duration:n};t.emit("timeupdate",s)}));var i=this;e.on("complete",(function(){!0===i.looped?e.seek(0):t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play(!0)})),t.on("pause",(function(){e.pause(!0)})),t.on("getPaused",(function(t){t(e.getState().toLowerCase()!=="PLAYING".toLowerCase())})),t.on("getCurrentTime",(function(t){t(e.getPosition())})),t.on("setCurrentTime",(function(t){e.seek(t)})),t.on("getDuration",(function(t){t(e.getDuration())})),t.on("getVolume",(function(t){t(e.getVolume())})),t.on("setVolume",(function(t){e.setVolume(t)})),t.on("mute",(function(){e.setMute(!0)})),t.on("unmute",(function(){e.setMute(!1)})),t.on("getMuted",(function(t){t(!0===e.getMute())})),t.on("getLoop",(function(e){e(this.looped)}),this),t.on("setLoop",(function(e){this.looped=e}),this)},s.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},s.MockAdapter=function(){if(!(this instanceof s.MockAdapter))return new s.MockAdapter;this.init()},s.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval((function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})}),250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new s.Receiver;t.on("play",(function(){var t=this;e.play(),this.emit("play"),e.timeupdate=function(e){t.emit("timeupdate",e)}})),t.on("pause",(function(){e.pause(),this.emit("pause")})),t.on("getPaused",(function(t){t(!e.playing)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(e.volume)})),t.on("setVolume",(function(t){e.volume=t})),t.on("mute",(function(){e.mute=!0})),t.on("unmute",(function(){e.mute=!1})),t.on("getMuted",(function(t){t(e.mute)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},s.MockAdapter.prototype.ready=function(){this.receiver.ready()},s.VideoJSAdapter=function(e){if(!(this instanceof s.VideoJSAdapter))return new s.VideoJSAdapter(e);this.init(e)},s.VideoJSAdapter.prototype.init=function(e){s.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new s.Receiver;e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("timeupdate",(function(){var i=e.currentTime(),n=e.duration();if(!i||!n)return!1;var s={seconds:i,duration:n};t.emit("timeupdate",s)})),e.on("ended",(function(){t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused())})),t.on("getCurrentTime",(function(t){t(e.currentTime())})),t.on("setCurrentTime",(function(t){e.currentTime(t)})),t.on("getDuration",(function(t){t(e.duration())})),t.on("getVolume",(function(t){t(100*e.volume())})),t.on("setVolume",(function(t){e.volume(t/100)})),t.on("mute",(function(){e.volume(0)})),t.on("unmute",(function(){e.volume(1)})),t.on("getMuted",(function(t){t(0===e.volume())})),t.on("getLoop",(function(t){t(e.loop())})),t.on("setLoop",(function(t){e.loop(t)}))},s.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},"function"==typeof define&&define.amd?define((function(){return s})):"object"==typeof t&&t.exports?t.exports=s:e.playerjs=s}(window,document)}}),me=class{constructor(e,t,i){this.eventTarget=e,this.eventName=t,this.eventOptions=i,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(t){const i=e(t);for(const e of this.bindings){if(i.immediatePropagationStopped)break;e.handleEvent(i)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort(((e,t)=>{const i=e.index,n=t.index;return i<n?-1:i>n?1:0}))}},fe=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach((e=>e.connect())))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach((e=>e.disconnect())))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce(((e,t)=>e.concat(Array.from(t.values()))),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,i={}){this.application.handleError(e,`Error ${t}`,i)}clearEventListenersForBinding(e){const t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){const{eventTarget:t,eventName:i,eventOptions:n}=e,s=this.fetchEventListenerMapForEventTarget(t),r=this.cacheKey(i,n);s.delete(r),0==s.size&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:i,eventOptions:n}=e;return this.fetchEventListener(t,i,n)}fetchEventListener(e,t,i){const n=this.fetchEventListenerMapForEventTarget(e),s=this.cacheKey(t,i);let r=n.get(s);return r||(r=this.createEventListener(e,t,i),n.set(s,r)),r}createEventListener(e,t,i){const n=new me(e,t,i);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const i=[e];return Object.keys(t).sort().forEach((e=>{i.push(`${t[e]?"":"!"}${e}`)})),i.join(":")}},ge={stop:({event:e,value:t})=>(t&&e.stopPropagation(),!0),prevent:({event:e,value:t})=>(t&&e.preventDefault(),!0),self:({event:e,value:t,element:i})=>!t||i===e.target},ve=/^(?:(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/,ye=class{constructor(e,t,i,n){this.element=e,this.index=t,this.eventTarget=i.eventTarget||e,this.eventName=i.eventName||d(e)||h("missing event name"),this.eventOptions=i.eventOptions||{},this.identifier=i.identifier||h("missing identifier"),this.methodName=i.methodName||h("missing method name"),this.keyFilter=i.keyFilter||"",this.schema=n}static forToken(e,i){return new this(e.element,e.index,t(e.content),i)}toString(){const e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}isFilterTarget(e){if(!this.keyFilter)return!1;const t=this.keyFilter.split("+"),i=["meta","ctrl","alt","shift"],[n,s,r,o]=i.map((e=>t.includes(e)));if(e.metaKey!==n||e.ctrlKey!==s||e.altKey!==r||e.shiftKey!==o)return!0;const a=t.filter((e=>!i.includes(e)))[0];return!!a&&(Object.prototype.hasOwnProperty.call(this.keyMappings,a)||h(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[a].toLowerCase()!==e.key.toLowerCase())}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:i,value:n}of Array.from(this.element.attributes)){const s=i.match(t),r=s&&s[1];r&&(e[o(r)]=p(n))}return e}get eventTargetName(){return r(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}},be={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:e=>"submit"==e.getAttribute("type")?"click":"input",select:()=>"change",textarea:()=>"input"},we=class{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){this.willBeInvokedByEvent(e)&&this.applyEventModifiers(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){const{element:t}=this.action,{actionDescriptorFilters:i}=this.context.application;let n=!0;for(const[s,r]of Object.entries(this.eventOptions))if(s in i){const o=i[s];n=n&&o({name:s,value:r,event:e,element:t})}return n}invokeWithEvent(e){const{target:t,currentTarget:i}=e;try{const{params:n}=this.action,s=Object.assign(e,{params:n});this.method.call(this.controller,s),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:i,action:this.methodName})}catch(t){const{identifier:i,controller:n,element:s,index:r}=this,o={identifier:i,controller:n,element:s,index:r,event:e};this.context.handleError(t,`invoking action "${this.action}"`,o)}}willBeInvokedByEvent(e){const t=e.target;return!(e instanceof KeyboardEvent&&this.action.isFilterTarget(e))&&(this.element===t||(t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)))}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Te=class{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){const i=e;this.elements.has(i)?this.delegate.elementAttributeChanged&&this.matchElement(i)?this.delegate.elementAttributeChanged(i,t):this.removeElement(i):this.matchElement(i)&&this.addElement(i)}processRemovedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.processTree(e,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.elementIsActive(e)&&this.processTree(e,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const i of this.matchElementsInTree(e))t.call(this,i)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}},Ee=class{constructor(e,t,i){this.attributeName=t,this.delegate=i,this.elementObserver=new Te(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(this.selector));return t.concat(i)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}},ke=class{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e.concat(Array.from(t))),[])}get size(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e+t.size),0)}add(e,t){m(this.valuesByKey,e,t)}delete(e,t){f(this.valuesByKey,e,t)}has(e,t){const i=this.valuesByKey.get(e);return null!=i&&i.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some((t=>t.has(e)))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter((([t,i])=>i.has(e))).map((([e,t])=>e))}},Se=class{constructor(e,t,i,n={}){this.selector=t,this.details=n,this.elementObserver=new Te(e,this),this.delegate=i,this.matchesByElement=new ke}get started(){return this.elementObserver.started}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){const t=e.matches(this.selector);return this.delegate.selectorMatchElement?t&&this.delegate.selectorMatchElement(e,this.details):t}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(this.selector)).filter((e=>this.matchElement(e)));return t.concat(i)}elementMatched(e){this.selectorMatched(e)}elementUnmatched(e){this.selectorUnmatched(e)}elementAttributeChanged(e,t){const i=this.matchElement(e),n=this.matchesByElement.has(this.selector,e);!i&&n&&this.selectorUnmatched(e)}selectorMatched(e){this.delegate.selectorMatched&&(this.delegate.selectorMatched(e,this.selector,this.details),this.matchesByElement.add(this.selector,e))}selectorUnmatched(e){this.delegate.selectorUnmatched(e,this.selector,this.details),this.matchesByElement.delete(this.selector,e)}},Me=class{constructor(e,t){
this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const i=this.delegate.getStringMapKeyForAttribute(e);if(null!=i){this.stringMap.has(e)||this.stringMapKeyAdded(i,e);const n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,i,t),null==n){const t=this.stringMap.get(e);this.stringMap.delete(e),t&&this.stringMapKeyRemoved(i,e,t)}else this.stringMap.set(e,n)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,i){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,i)}stringMapKeyRemoved(e,t,i){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,i)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map((e=>e.name))}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Ae=class{constructor(e,t,i){this.attributeObserver=new Ee(e,t,this),this.delegate=i,this.tokensByElement=new ke}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,i]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(i)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach((e=>this.tokenMatched(e)))}tokensUnmatched(e){e.forEach((e=>this.tokenUnmatched(e)))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),i=this.readTokensForElement(e),n=b(t,i).findIndex((([e,t])=>!w(e,t)));return-1==n?[[],[]]:[t.slice(n),i.slice(n)]}readTokensForElement(e){const t=this.attributeName;return y(e.getAttribute(t)||"",e,t)}},xe=class{constructor(e,t,i){this.tokenListObserver=new Ae(e,t,this),this.delegate=i,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(t).set(e,i),this.delegate.elementMatchedValue(t,i))}tokenUnmatched(e){const{element:t}=e,{value:i}=this.fetchParseResultForToken(e);i&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,i))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(e){return{error:e}}}},Ce=class{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new xe(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new we(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach((e=>this.delegate.bindingDisconnected(e,!0))),this.bindingsByAction.clear()}parseValueForToken(e){const t=ye.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}},je=class{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new Me(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const i=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,i.writer(this.receiver[e]),i.writer(i.defaultValue))}stringMapValueChanged(e,t,i){const n=this.valueDescriptorNameMap[t];null!==e&&(null===i&&(i=n.writer(n.defaultValue)),this.invokeChangedCallback(t,e,i))}stringMapKeyRemoved(e,t,i){const n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),i):this.invokeChangedCallback(e,n.writer(n.defaultValue),i)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:i,writer:n}of this.valueDescriptors)null==i||this.controller.data.has(e)||this.invokeChangedCallback(t,n(i),void 0)}invokeChangedCallback(e,t,i){const n=`${e}Changed`,s=this.receiver[n];if("function"==typeof s){const n=this.valueDescriptorNameMap[e];try{const e=n.reader(t);let r=i;i&&(r=n.reader(i)),s.call(this.receiver,e,r)}catch(e){throw e instanceof TypeError&&(e.message=`Stimulus Value "${this.context.identifier}.${n.name}" - ${e.message}`),e}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map((t=>e[t]))}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach((t=>{const i=this.valueDescriptorMap[t];e[i.name]=i})),e}hasValue(e){const t=`has${l(this.valueDescriptorNameMap[e].name)}`;return this.receiver[t]}},Fe=class{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new ke}start(){this.tokenListObserver||(this.tokenListObserver=new Ae(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var i;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),null===(i=this.tokenListObserver)||void 0===i||i.pause((()=>this.delegate.targetConnected(e,t))))}disconnectTarget(e,t){var i;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),null===(i=this.tokenListObserver)||void 0===i||i.pause((()=>this.delegate.targetDisconnected(e,t))))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}},Oe=class{constructor(e,t){this.context=e,this.delegate=t,this.outletsByName=new ke,this.outletElementsByName=new ke,this.selectorObserverMap=new Map}start(){0===this.selectorObserverMap.size&&(this.outletDefinitions.forEach((e=>{const t=this.selector(e),i={outletName:e};t&&this.selectorObserverMap.set(e,new Se(document.body,t,this,i))})),this.selectorObserverMap.forEach((e=>e.start()))),this.dependentContexts.forEach((e=>e.refresh()))}stop(){this.selectorObserverMap.size>0&&(this.disconnectAllOutlets(),this.selectorObserverMap.forEach((e=>e.stop())),this.selectorObserverMap.clear())}refresh(){this.selectorObserverMap.forEach((e=>e.refresh()))}selectorMatched(e,t,{outletName:i}){const n=this.getOutlet(e,i);n&&this.connectOutlet(n,e,i)}selectorUnmatched(e,t,{outletName:i}){const n=this.getOutletFromMap(e,i);n&&this.disconnectOutlet(n,e,i)}selectorMatchElement(e,{outletName:t}){return this.hasOutlet(e,t)&&e.matches(`[${this.context.application.schema.controllerAttribute}~=${t}]`)}connectOutlet(e,t,i){var n;this.outletElementsByName.has(i,t)||(this.outletsByName.add(i,e),this.outletElementsByName.add(i,t),null===(n=this.selectorObserverMap.get(i))||void 0===n||n.pause((()=>this.delegate.outletConnected(e,t,i))))}disconnectOutlet(e,t,i){var n;this.outletElementsByName.has(i,t)&&(this.outletsByName.delete(i,e),this.outletElementsByName.delete(i,t),null===(n=this.selectorObserverMap.get(i))||void 0===n||n.pause((()=>this.delegate.outletDisconnected(e,t,i))))}disconnectAllOutlets(){for(const e of this.outletElementsByName.keys)for(const t of this.outletElementsByName.getValuesForKey(e))for(const i of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(i,t,e)}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}get outletDependencies(){const e=new ke;return this.router.modules.forEach((t=>{T(t.definition.controllerConstructor,"outlets").forEach((i=>e.add(i,t.identifier)))})),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const e=this.dependentControllerIdentifiers;return this.router.contexts.filter((t=>e.includes(t.identifier)))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find((t=>t.element===e))}get scope(){return this.context.scope}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},Ne=class{constructor(e,t){this.logDebugActivity=(e,t={})=>{const{identifier:i,controller:n,element:s}=this;t=Object.assign({identifier:i,controller:n,element:s},t),this.application.logDebugActivity(this.identifier,e,t)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Ce(this,this.dispatcher),this.valueObserver=new je(this,this.controller),this.targetObserver=new Fe(this,this),this.outletObserver=new Oe(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(e){this.handleError(e,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,i={}){const{identifier:n,controller:s,element:r}=this;i=Object.assign({identifier:n,controller:s,element:r},i),this.application.handleError(e,`Error ${t}`,i)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,i){this.invokeControllerMethod(`${a(i)}OutletConnected`,e,t)}outletDisconnected(e,t,i){this.invokeControllerMethod(`${a(i)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){const i=this.controller;"function"==typeof i[e]&&i[e](...t)}},Pe="function"==typeof Object.getOwnPropertySymbols?e=>[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)]:Object.getOwnPropertyNames,Le=(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}function t(){const t=e((function(){this.a.call(this)}));return t.prototype.a=function(){},new t}try{return t(),e}catch(e){return e=>class extends e{}}})(),Be=class{constructor(e,t){this.application=e,this.definition=O(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new Ne(this,e),this.contextsByScope.set(e,t)),t}},Ve=class{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){return c(this.data.get(this.getDataKey(e))||"")}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}},Ie=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const i=this.getAttributeNameForKey(e);return this.element.setAttribute(i,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${u(e)}`}},De=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,i){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(t)||(n.add(t),this.logger.warn(i,e))}},$e=class{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findTarget(t)||this.findLegacyTarget(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllTargets(t),...this.findAllLegacyTargets(t)]),[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){return N(this.schema.targetAttributeForScope(this.identifier),e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map((t=>this.deprecate(t,e)))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return N(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:i}=this,n=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(i);this.guide.warn(e,`target:${t}`,`Please replace ${n}="${i}.${t}" with ${s}="${t}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}},Re=class{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findOutlet(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllOutlets(t)]),[])}getSelectorForOutletName(e){const t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){const t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){const t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter((i=>this.matchesElement(i,e,t)))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter((i=>this.matchesElement(i,e,t)))}matchesElement(e,t,i){const n=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&n.split(" ").includes(i)}},Ue=class{constructor(e,t,i,n){this.targets=new $e(this),this.classes=new Ve(this),this.data=new Ie(this),this.containsElement=e=>e.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=i,this.guide=new De(n),this.outlets=new Re(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return N(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new Ue(this.schema,document.documentElement,this.identifier,this.guide.logger)}},ze=class{constructor(e,t,i){this.element=e,this.schema=t,this.delegate=i,this.valueListObserver=new xe(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:i}=e,n=this.fetchScopesByIdentifierForElement(t);let s=n.get(i);return s||(s=this.delegate.createScopeForElementAndIdentifier(t,i),n.set(i,s)),s}elementMatchedValue(e,t){const i=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,i),1==i&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const i=this.scopeReferenceCounts.get(t);i&&(this.scopeReferenceCounts.set(t,i-1),1==i&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}},We=class{constructor(e){this.application=e,this.scopeObserver=new ze(this.element,this.schema,this),this.scopesByIdentifier=new ke,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce(((e,t)=>e.concat(t.contexts)),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new Be(this.application,e);this.connectModule(t);const i=e.controllerConstructor.afterLoad;i&&i(e.identifier,this.application)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const i=this.modulesByIdentifier.get(t);if(i)return i.contexts.find((t=>t.element==e))}handleError(e,t,i){this.application.handleError(e,t,i)}createScopeForElementAndIdentifier(e,t){return new Ue(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.connectContextForScope(t)))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.disconnectContextForScope(t)))}},qe={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:e=>`data-${e}-target`,outletAttributeForScope:(e,t)=>`data-${e}-${t}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End"},P("abcdefghijklmnopqrstuvwxyz".split("").map((e=>[e,e])))),P("0123456789".split("").map((e=>[e,e]))))},He=class{constructor(e=document.documentElement,t=qe){this.logger=console,this.debug=!1,this.logDebugActivity=(e,t,i={})=>{this.debug&&this.logFormattedMessage(e,t,i)},this.element=e,this.schema=t,this.dispatcher=new fe(this),this.router=new We(this),this.actionDescriptorFilters=Object.assign({},ge)}static start(e,t){const i=new this(e,t);return i.start(),i}async start(){await L(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>{e.controllerConstructor.shouldLoad&&this.router.loadDefinition(e)}))}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>this.router.unloadIdentifier(e)))}get controllers(){return this.router.contexts.map((e=>e.controller))}getControllerForElementAndIdentifier(e,t){const i=this.router.getContextForElementAndIdentifier(e,t);return i?i.controller:null}handleError(e,t,i){var n;this.logger.error("%s\n\n%o\n\n%o",t,e,i),null===(n=window.onerror)||void 0===n||n.call(window,t,"",0,0,e)}logFormattedMessage(e,t,i={}){i=Object.assign({application:this},i),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},i)),this.logger.groupEnd()}},_e={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},Ke={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${e}" of type "${_(t)}"`);return t},boolean:e=>!("0"==e||"false"==String(e).toLowerCase()),number:e=>Number(e),object(e){const t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${e}" of type "${_(t)}"`);return t},string:e=>e},Ye={default:Q,array:X,object:X},Je=class{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:i={},prefix:n=this.identifier,bubbles:s=!0,cancelable:r=!0}={}){const o=new CustomEvent(n?`${n}:${e}`:e,{detail:i,bubbles:s,cancelable:r});return t.dispatchEvent(o),o}};Je.blessings=[B,R,z,I],Je.targets=[],Je.outlets=[],Je.values={};var Ge,Xe=Xe||{};Xe.version="2.18.2",Xe.meIndex=0,Xe.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube","video/dailymotion","video/x-dailymotion","application/x-mpegURL"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},Xe.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){for(var t,i,n,s,r,o=0,a="",l="",u=document.getElementsByTagName("script"),c=u.length,d=e.length;c>o;o++){for((i=(n=u[o].src).lastIndexOf("/"))>-1?(r=n.substring(i+1),s=n.substring(0,i+1)):(r=n,s=""),t=0;d>t;t++)if(l=e[t],r.indexOf(l)>-1){a=s;break}if(""!==a)break}return a},calculateTimeFormat:function(e,t,i){0>e&&(e=0),void 0===i&&(i=25);var n=t.timeFormat,s=n[0],r=n[1]==n[0],o=r?2:1,a=":",l=Math.floor(e/3600)%24,u=Math.floor(e/60)%60,c=Math.floor(e%60),d=[[Math.floor((e%1*i).toFixed(3)),"f"],[c,"s"],[u,"m"],[l,"h"]];n.length<o&&(a=n[o]);for(var h=!1,p=0,m=d.length;m>p;p++)if(-1!==n.indexOf(d[p][1]))h=!0;else if(h){for(var f=!1,g=p;m>g;g++)if(d[g][0]>0){f=!0;break}if(!f)break;r||(n=s+n),n=d[p][1]+a+n,r&&(n=d[p][1]+n),s=d[p][1]}t.currentTimeFormat=n},twoDigitsString:function(e){return 10>e?"0"+e:String(e)},secondsToTimeCode:function(e,t){if(0>e&&(e=0),"object"!=typeof t){var n="m:ss";n=arguments[1]?"hh:mm:ss":n,t={currentTimeFormat:n=arguments[2]?n+":ff":n,framesPerSecond:arguments[3]||25}}var s=t.framesPerSecond;void 0===s&&(s=25);n=t.currentTimeFormat;var r=Math.floor(e/3600)%24,o=Math.floor(e/60)%60,a=Math.floor(e%60),l=Math.floor((e%1*s).toFixed(3));lis=[[l,"f"],[a,"s"],[o,"m"],[r,"h"]];var u=n;for(i=0,len=lis.length;i<len;i++)u=(u=u.replace(lis[i][1]+lis[i][1],this.twoDigitsString(lis[i][0]))).replace(lis[i][1],lis[i][0]);return u},timeCodeToSeconds:function(e,t,i,n){void 0===i?i=!1:void 0===n&&(n=25);var s=e.split(":"),r=parseInt(s[0],10),o=parseInt(s[1],10),a=parseInt(s[2],10),l=0;return i&&(l=parseInt(s[3])/n),3600*r+60*o+a+l},convertSMPTEtoSeconds:function(e){if("string"!=typeof e)return!1;var t=0,i=-1!=(e=e.replace(",",".")).indexOf(".")?e.split(".")[1].length:0,n=1;e=e.split(":").reverse();for(var s=0;s<e.length;s++)n=1,s>0&&(n=Math.pow(60,s)),t+=Number(e[s])*n;return Number(t.toFixed(i))},removeSwf:function(e){var t=document.getElementById(e);t&&/object|embed/i.test(t.nodeName)&&(Xe.MediaFeatures.isIE?(t.style.display="none",function(){4==t.readyState?Xe.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}},Xe.PluginDetector={hasPluginVersion:function(e,t){var i=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,i[0]>t[0]||i[0]==t[0]&&i[1]>t[1]||i[0]==t[0]&&i[1]==t[1]&&i[2]>=t[2]},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,i,n,s){this.plugins[e]=this.detectPlugin(t,i,n,s)},detectPlugin:function(e,t,i,n){var s,r,o,a=[0,0,0];if(void 0!==this.nav.plugins&&"object"==typeof this.nav.plugins[e]){if((s=this.nav.plugins[e].description)&&(void 0===this.nav.mimeTypes||!this.nav.mimeTypes[t]||this.nav.mimeTypes[t].enabledPlugin))for(a=s.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),r=0;r<a.length;r++)a[r]=parseInt(a[r].match(/\d+/),10)}else if(void 0!==window.ActiveXObject)try{(o=new ActiveXObject(i))&&(a=n(o))}catch(e){}return a}},Xe.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",(function(e){var t=[],i=e.GetVariable("$version");return i&&(i=i.split(" ")[1].split(","),t=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]),t})),Xe.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",(function(e){var t=[0,0,0,0],i=function(e,t,i,n){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[i]+=n;t[i]-=n};return i(e,t,0,1),i(e,t,1,1),i(e,t,2,1e4),i(e,t,2,1e3),i(e,t,2,100),i(e,t,2,10),i(e,t,2,1),i(e,t,3,1),t})),Xe.MediaFeatures={init:function(){var e,t,i=this,n=document,s=Xe.PluginDetector.nav,r=Xe.PluginDetector.ua.toLowerCase(),o=["source","track","audio","video"];i.isiPad=null!==r.match(/ipad/i),i.isiPhone=null!==r.match(/iphone/i),i.isiOS=i.isiPhone||i.isiPad,i.isAndroid=null!==r.match(/android/i),i.isBustedAndroid=null!==r.match(/android 2\.[12]/),i.isBustedNativeHTTPS="https:"===location.protocol&&(null!==r.match(/android [12]\./)||null!==r.match(/macintosh.* version.* safari/)),i.isIE=-1!=s.appName.toLowerCase().indexOf("microsoft")||null!==s.appName.toLowerCase().match(/trident/gi),i.isChrome=null!==r.match(/chrome/gi),i.isChromium=null!==r.match(/chromium/gi),i.isFirefox=null!==r.match(/firefox/gi),i.isWebkit=null!==r.match(/webkit/gi),i.isGecko=null!==r.match(/gecko/gi)&&!i.isWebkit&&!i.isIE,i.isOpera=null!==r.match(/opera/gi),i.hasTouch="ontouchstart"in window,i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(e=0;e<o.length;e++)t=document.createElement(o[e]);i.supportsMediaTag=void 0!==t.canPlayType||i.isBustedAndroid;try{t.canPlayType("video/mp4")}catch(e){i.supportsMediaTag=!1}i.hasSemiNativeFullScreen=void 0!==t.webkitEnterFullscreen,i.hasNativeFullscreen=void 0!==t.requestFullscreen,i.hasWebkitNativeFullScreen=void 0!==t.webkitRequestFullScreen,i.hasMozNativeFullScreen=void 0!==t.mozRequestFullScreen,i.hasMsNativeFullScreen=void 0!==t.msRequestFullscreen,i.hasTrueNativeFullScreen=i.hasWebkitNativeFullScreen||i.hasMozNativeFullScreen||i.hasMsNativeFullScreen,i.nativeFullScreenEnabled=i.hasTrueNativeFullScreen,i.hasMozNativeFullScreen?i.nativeFullScreenEnabled=document.mozFullScreenEnabled:i.hasMsNativeFullScreen&&(i.nativeFullScreenEnabled=document.msFullscreenEnabled),i.isChrome&&(i.hasSemiNativeFullScreen=!1),i.hasTrueNativeFullScreen&&(i.fullScreenEventName="",i.hasWebkitNativeFullScreen?i.fullScreenEventName="webkitfullscreenchange":i.hasMozNativeFullScreen?i.fullScreenEventName="mozfullscreenchange":i.hasMsNativeFullScreen&&(i.fullScreenEventName="MSFullscreenChange"),i.isFullScreen=function(){return i.hasMozNativeFullScreen?n.mozFullScreen:i.hasWebkitNativeFullScreen?n.webkitIsFullScreen:i.hasMsNativeFullScreen?null!==n.msFullscreenElement:void 0},i.requestFullScreen=function(e){i.hasWebkitNativeFullScreen?e.webkitRequestFullScreen():i.hasMozNativeFullScreen?e.mozRequestFullScreen():i.hasMsNativeFullScreen&&e.msRequestFullscreen()},i.cancelFullScreen=function(){i.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():i.hasMozNativeFullScreen?document.mozCancelFullScreen():i.hasMsNativeFullScreen&&document.msExitFullscreen()}),i.hasSemiNativeFullScreen&&r.match(/mac os x 10_5/i)&&(i.hasNativeFullScreen=!1,i.hasSemiNativeFullScreen=!1)}},Xe.MediaFeatures.init(),Xe.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){for(var t=this.getElementsByTagName("source");t.length>0;)this.removeChild(t[0]);var i,n;if("string"==typeof e)this.src=e;else for(i=0;i<e.length;i++)if(n=e[i],this.canPlayType(n.type)){this.src=n.src;break}},setVideoSize:function(e,t){this.width=e,this.height=t}},Xe.PluginMediaElement=function(e,t,i){this.id=e,this.pluginType=t,this.src=i,this.events={},this.attributes={}},Xe.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){
null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,i,n,s=Xe.plugins[this.pluginType];for(t=0;t<s.length;t++)if(n=s[t],Xe.PluginDetector.hasPluginVersion(this.pluginType,n.version))for(i=0;i<n.types.length;i++)if(e==n.types[i])return"probably";return""},positionFullscreenButton:function(e,t,i){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(e),Math.floor(t),i)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){var t,i;if("string"==typeof e)this.pluginApi.setSrc(Xe.Utility.absolutizeUrl(e)),this.src=Xe.Utility.absolutizeUrl(e);else for(t=0;t<e.length;t++)if(i=e[t],this.canPlayType(i.type)){this.pluginApi.setSrc(Xe.Utility.absolutizeUrl(i.src)),this.src=Xe.Utility.absolutizeUrl(i.src);break}},setCurrentTime:function(e){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*e):this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){null!=this.pluginApi&&("youtube"==this.pluginType?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent({type:"volumechange"})):this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement&&this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var i=this.events[e];if(!i)return!0;if(!t)return this.events[e]=[],!0;for(var n=0;n<i.length;n++)if(i[n]===t)return this.events[e].splice(n,1),!0;return!1},dispatchEvent:function(e){var t,i=this.events[e.type];if(i)for(t=0;t<i.length;t++)i[t].apply(this,[e])},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){Xe.Utility.removeSwf(this.pluginElement.id),Xe.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},Xe.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,i){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=i},unregisterPluginElement:function(e){delete this.pluginMediaElements[e],delete this.htmlMediaElements[e]},initPlugin:function(e){var t=this.pluginMediaElements[e],i=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}null!=t.pluginApi&&t.success&&t.success(t,i)}},fireEvent:function(e,t,i){var n,s,r,o=this.pluginMediaElements[e];if(o){for(s in n={type:t,target:o},i)o[s]=i[s],n[s]=i[s];r=i.bufferedTime||0,n.target.buffered=n.buffered={start:function(){return 0},end:function(){return r},length:1},o.dispatchEvent(n)}}},Xe.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:Xe.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",flashScriptAccess:"sameDomain",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},Xe.MediaElement=function(e,t){return Xe.HtmlMediaElementShim.create(e,t)},Xe.HtmlMediaElementShim={create:function(e,t){var i,n,s={},r="string"==typeof e?document.getElementById(e):e,o=r.tagName.toLowerCase(),a="audio"===o||"video"===o,l=a?r.getAttribute("src"):r.getAttribute("href"),u=r.getAttribute("poster"),c=r.getAttribute("autoplay"),d=r.getAttribute("preload"),h=r.getAttribute("controls");for(n in Xe.MediaElementDefaults)s[n]=Xe.MediaElementDefaults[n];for(n in t)s[n]=t[n];return l=null==l||""==l?null:l,u=null==u?"":u,d=null==d||"false"===d?"none":d,c=!(null==c||"false"===c),h=!(null==h||"false"===h),(i=this.determinePlayback(r,s,Xe.MediaFeatures.supportsMediaTag,a,l)).url=null!==i.url?Xe.Utility.absolutizeUrl(i.url):"","native"==i.method?(Xe.MediaFeatures.isBustedAndroid&&(r.src=i.url,r.addEventListener("click",(function(){r.play()}),!1)),this.updateNative(i,s,c,d)):""!==i.method?this.createPlugin(i,s,u,c,d,h):(this.createErrorMessage(i,s,u),this)},determinePlayback:function(e,t,i,n,s){var r,o,a,l,u,c,d,h,p,m,f,g=[],v={method:"",url:"",htmlMediaElement:e,isVideo:"audio"!=e.tagName.toLowerCase()};if(void 0!==t.type&&""!==t.type)if("string"==typeof t.type)g.push({type:t.type,url:s});else for(r=0;r<t.type.length;r++)g.push({type:t.type[r],url:s});else if(null!==s)c=this.formatType(s,e.getAttribute("type")),g.push({type:c,url:s});else for(r=0;r<e.childNodes.length;r++)1==(u=e.childNodes[r]).nodeType&&"source"==u.tagName.toLowerCase()&&(s=u.getAttribute("src"),c=this.formatType(s,u.getAttribute("type")),(!(f=u.getAttribute("media"))||!window.matchMedia||window.matchMedia&&window.matchMedia(f).matches)&&g.push({type:c,url:s}));if(!n&&g.length>0&&null!==g[0].url&&this.getTypeFromFile(g[0].url).indexOf("audio")>-1&&(v.isVideo=!1),Xe.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return null!==e.match(/video\/(mp4|m4v)/gi)?"maybe":""}),Xe.MediaFeatures.isChromium&&(e.canPlayType=function(e){return null!==e.match(/video\/(webm|ogv|ogg)/gi)?"maybe":""}),i&&("auto"===t.mode||"auto_plugin"===t.mode||"native"===t.mode)&&(!Xe.MediaFeatures.isBustedNativeHTTPS||!0!==t.httpsBasicAuthSite)){for(n||(m=document.createElement(v.isVideo?"video":"audio"),e.parentNode.insertBefore(m,e),e.style.display="none",v.htmlMediaElement=e=m),r=0;r<g.length;r++)if("video/m3u8"==g[r].type||""!==e.canPlayType(g[r].type).replace(/no/,"")||""!==e.canPlayType(g[r].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==e.canPlayType(g[r].type.replace(/m4a/,"mp4")).replace(/no/,"")){v.method="native",v.url=g[r].url;break}if("native"===v.method&&(null!==v.url&&(e.src=v.url),"auto_plugin"!==t.mode))return v}if("auto"===t.mode||"auto_plugin"===t.mode||"shim"===t.mode)for(r=0;r<g.length;r++)for(c=g[r].type,o=0;o<t.plugins.length;o++)for(d=t.plugins[o],h=Xe.plugins[d],a=0;a<h.length;a++)if(null==(p=h[a]).version||Xe.PluginDetector.hasPluginVersion(d,p.version))for(l=0;l<p.types.length;l++)if(c.toLowerCase()==p.types[l].toLowerCase())return v.method=d,v.url=g[r].url,v;return"auto_plugin"===t.mode&&"native"===v.method||""===v.method&&g.length>0&&(v.url=g[0].url),v},formatType:function(e,t){return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){var t=(e=e.split("?")[0]).substring(e.lastIndexOf(".")+1).toLowerCase(),i=/(mp4|m4v|ogg|ogv|m3u8|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video/":"audio/";return this.getTypeFromExtension(t,i)},getTypeFromExtension:function(e,t){switch(t=t||"",e){case"mp4":case"m4v":case"m4a":case"f4v":case"f4a":return t+"mp4";case"flv":return t+"x-flv";case"webm":case"webma":case"webmv":return t+"webm";case"ogg":case"oga":case"ogv":return t+"ogg";case"m3u8":return"application/x-mpegurl";case"ts":return t+"mp2t";default:return t+e}},createErrorMessage:function(e,t,i){var n=e.htmlMediaElement,s=document.createElement("div"),r=t.customError;s.className="me-cannotplay";try{s.style.width=n.width+"px",s.style.height=n.height+"px"}catch(e){}r||(r='<a href="'+e.url+'">',""!==i&&(r+='<img src="'+i+'" width="100%" height="100%" alt="" />'),r+="<span>"+Xe.i18n.t("Download File")+"</span></a>"),s.innerHTML=r,n.parentNode.insertBefore(s,n),n.style.display="none",t.error(n)},createPlugin:function(e,t,i,n,s,r){var o,a,l,u=e.htmlMediaElement,c=1,d=1,h="me_"+e.method+"_"+Xe.meIndex++,p=new Xe.PluginMediaElement(h,e.method,e.url),m=document.createElement("div");p.tagName=u.tagName;for(var f=0;f<u.attributes.length;f++){var g=u.attributes[f];g.specified&&p.setAttribute(g.name,g.value)}for(a=u.parentNode;null!==a&&null!=a.tagName&&"body"!==a.tagName.toLowerCase()&&null!=a.parentNode&&null!=a.parentNode.tagName&&null!=a.parentNode.constructor&&"ShadowRoot"===a.parentNode.constructor.name;){if("p"===a.parentNode.tagName.toLowerCase()){a.parentNode.parentNode.insertBefore(a,a.parentNode);break}a=a.parentNode}switch(e.isVideo?(c=t.pluginWidth>0?t.pluginWidth:t.videoWidth>0?t.videoWidth:null!==u.getAttribute("width")?u.getAttribute("width"):t.defaultVideoWidth,d=t.pluginHeight>0?t.pluginHeight:t.videoHeight>0?t.videoHeight:null!==u.getAttribute("height")?u.getAttribute("height"):t.defaultVideoHeight,c=Xe.Utility.encodeUrl(c),d=Xe.Utility.encodeUrl(d)):t.enablePluginDebug&&(c=320,d=240),p.success=t.success,Xe.MediaPluginBridge.registerPluginElement(h,p,u),m.className="me-plugin",m.id=h+"_container",e.isVideo?u.parentNode.insertBefore(m,u):document.body.insertBefore(m,document.body.childNodes[0]),l=["id="+h,"jsinitfunction=mejs.MediaPluginBridge.initPlugin","jscallbackfunction=mejs.MediaPluginBridge.fireEvent","isvideo="+(e.isVideo?"true":"false"),"autoplay="+(n?"true":"false"),"preload="+s,"width="+c,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"flashstreamer="+t.flashStreamer,"height="+d,"pseudostreamstart="+t.pseudoStreamingStartQueryParam],null!==e.url&&("flash"==e.method?l.push("file="+Xe.Utility.encodeUrl(e.url)):l.push("file="+e.url)),t.enablePluginDebug&&l.push("debug=true"),t.enablePluginSmoothing&&l.push("smoothing=true"),t.enablePseudoStreaming&&l.push("pseudostreaming=true"),r&&l.push("controls=true"),t.pluginVars&&(l=l.concat(t.pluginVars)),e.method){case"silverlight":m.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+h+'" name="'+h+'" width="'+c+'" height="'+d+'" class="mejs-shim"><param name="initParams" value="'+l.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /></object>';break;case"flash":Xe.MediaFeatures.isIE?(o=document.createElement("div"),m.appendChild(o),o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+h+'" width="'+c+'" height="'+d+'" class="mejs-shim"><param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+l.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+t.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):m.innerHTML='<embed id="'+h+'" name="'+h+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="'+t.flashScriptAccess+'" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+'" flashvars="'+l.join("&")+'" width="'+c+'" height="'+d+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var v;-1!=e.url.lastIndexOf("youtu.be")?-1!=(v=e.url.substr(e.url.lastIndexOf("/")+1)).indexOf("?")&&(v=v.substr(0,v.indexOf("?"))):v=e.url.substr(e.url.lastIndexOf("=")+1),youtubeSettings={container:m,containerId:m.id,pluginMediaElement:p,pluginId:h,videoId:v,height:d,width:c},Xe.PluginDetector.hasPluginVersion("flash",[10,0,0])?Xe.YouTubeApi.createFlash(youtubeSettings,t):Xe.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":var y=h+"_player";if(p.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),m.innerHTML='<iframe src="//player.vimeo.com/video/'+p.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+y+'" width="'+c+'" height="'+d+'" frameborder="0" class="mejs-shim" id="'+y+'" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',"function"==typeof $f){var b=$f(m.childNodes[0]);b.addEvent("ready",(function(){function e(e,t,i,n){var s={type:i,target:t};"timeupdate"==i&&(t.currentTime=s.currentTime=n.seconds,t.duration=s.duration=n.duration),t.dispatchEvent(s)}b.playVideo=function(){b.api("play")},b.stopVideo=function(){b.api("unload")},b.pauseVideo=function(){b.api("pause")},b.seekTo=function(e){b.api("seekTo",e)},b.setVolume=function(e){b.api("setVolume",e)},b.setMuted=function(e){e?(b.lastVolume=b.api("getVolume"),b.api("setVolume",0)):(b.api("setVolume",b.lastVolume),delete b.lastVolume)},b.addEvent("play",(function(){e(b,p,"play"),e(b,p,"playing")})),b.addEvent("pause",(function(){e(b,p,"pause")})),b.addEvent("finish",(function(){e(b,p,"ended")})),b.addEvent("playProgress",(function(t){e(b,p,"timeupdate",t)})),p.pluginElement=m,p.pluginApi=b,Xe.MediaPluginBridge.initPlugin(h)}))}else console.warn("You need to include froogaloop for vimeo to work")}return u.style.display="none",u.removeAttribute("autoplay"),p},updateNative:function(e,t){var i,n=e.htmlMediaElement;for(i in Xe.HtmlMediaElement)n[i]=Xe.HtmlMediaElement[i];return t.success(n,n),n}},Xe.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="//www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,i=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=i,Xe.MediaPluginBridge.initPlugin(e.pluginId),setInterval((function(){Xe.YouTubeApi.createEvent(i,t,"timeupdate")}),250)},onStateChange:function(e){Xe.YouTubeApi.handleStateChange(e.data,i,t)}}})},createEvent:function(e,t,i){var n={type:i,target:t};if(e&&e.getDuration){t.currentTime=n.currentTime=e.getCurrentTime(),t.duration=n.duration=e.getDuration(),n.paused=t.paused,n.ended=t.ended,n.muted=e.isMuted(),n.volume=e.getVolume()/100,n.bytesTotal=e.getVideoBytesTotal(),n.bufferedBytes=e.getVideoBytesLoaded();var s=n.bufferedBytes/n.bytesTotal*n.duration;n.target.buffered=n.buffered={start:function(){return 0},end:function(){return s},length:1}}t.dispatchEvent(n)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,i="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";Xe.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'" class="mejs-shim"><param name="movie" value="'+i+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+options.flashScriptAccess+'" /><param name="allowFullScreen" value="true" /></object>'):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+i+'" width="'+e.width+'" height="'+e.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="'+options.flashScriptAccess+'"><param name="wmode" value="transparent"></object>'},flashReady:function(e){var t=this.flashPlayers[e],i=document.getElementById(e),n=t.pluginMediaElement;n.pluginApi=n.pluginElement=i,Xe.MediaPluginBridge.initPlugin(e),i.cueVideoById(t.videoId);var s=t.containerId+"_callback";window[s]=function(e){Xe.YouTubeApi.handleStateChange(e,i,n)},i.addEventListener("onStateChange",s),setInterval((function(){Xe.YouTubeApi.createEvent(i,n,"timeupdate")}),250),Xe.YouTubeApi.createEvent(i,n,"canplay")},handleStateChange:function(e,t,i){switch(e){case-1:i.paused=!0,i.ended=!0,Xe.YouTubeApi.createEvent(t,i,"loadedmetadata");break;case 0:i.paused=!1,i.ended=!0,Xe.YouTubeApi.createEvent(t,i,"ended");break;case 1:i.paused=!1,i.ended=!1,Xe.YouTubeApi.createEvent(t,i,"play"),Xe.YouTubeApi.createEvent(t,i,"playing");break;case 2:i.paused=!0,i.ended=!1,Xe.YouTubeApi.createEvent(t,i,"pause");break;case 3:Xe.YouTubeApi.createEvent(t,i,"progress")}}},window.onYouTubePlayerAPIReady=function(){Xe.YouTubeApi.iFrameReady()},window.onYouTubePlayerReady=function(e){Xe.YouTubeApi.flashReady(e)},window.mejs=Xe,window.MediaElement=Xe.MediaElement,function(e,t){"use strict";var i={locale:{language:t.i18n&&t.i18n.locale.language||"",strings:t.i18n&&t.i18n.locale.strings||{}},ietf_lang_regex:/^(x\-)?[a-z]{2,}(\-\w{2,})?(\-\w{2,})?$/,methods:{},getLanguage:function(){var e=i.locale.language||window.navigator.userLanguage||window.navigator.language;return i.ietf_lang_regex.exec(e)?e:null}};"undefined"!=typeof mejsL10n&&(i.locale.language=mejsL10n.language),i.methods.checkPlain=function(e){var t,i,n={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};for(t in e=String(e),n)n.hasOwnProperty(t)&&(i=new RegExp(t,"g"),e=e.replace(i,n[t]));return e},i.methods.t=function(e,t){return i.locale.strings&&i.locale.strings[t.context]&&i.locale.strings[t.context][e]&&(e=i.locale.strings[t.context][e]),i.methods.checkPlain(e)},i.t=function(e,t){if("string"==typeof e&&e.length>0){var n=i.getLanguage();return t=t||{context:n},i.methods.t(e,t)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},t.i18n=i}(document,Xe),function(e){"use strict";"undefined"!=typeof mejsL10n&&(e[mejsL10n.language]=mejsL10n.strings)}(Xe.i18n.locale.strings),"undefined"!=typeof jQuery?Xe.$=jQuery:"undefined"!=typeof Zepto?(Xe.$=Zepto,Zepto.fn.outerWidth=function(e){var t=$(this).width();return e&&(t+=parseInt($(this).css("margin-right"),10),t+=parseInt($(this).css("margin-left"),10)),t}):"undefined"!=typeof ender&&(Xe.$=ender),Ge=Xe.$,Xe.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return.05*e.duration},defaultSeekForwardInterval:function(e){return.05*e.duration},setDimensions:!0,audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?t.play():t.pause()}},{keys:[38],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.min(t.volume+.1,1);t.setVolume(i)}},{keys:[40],action:function(e,t){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.max(t.volume-.1,0);t.setVolume(i)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(i)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var i=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(i)}}},{keys:[70],action:function(e){void 0!==e.enterFullScreen&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}},{keys:[77],action:function(e){e.container.find(".mejs-volume-slider").css("display","block"),e.isVideo&&(e.showControls(),e.startControlsTimer()),e.media.muted?e.setMuted(!1):e.setMuted(!0)}}]},Xe.mepIndex=0,Xe.players={},Xe.MediaElementPlayer=function(e,t){if(!(this instanceof Xe.MediaElementPlayer))return new Xe.MediaElementPlayer(e,t);var i=this;return i.$media=i.$node=Ge(e),i.node=i.media=i.$media[0],i.node?void 0!==i.node.player?i.node.player:(void 0===t&&(t=i.$node.data("mejsoptions")),i.options=Ge.extend({},Xe.MepDefaults,t),i.options.timeFormat||(i.options.timeFormat="mm:ss",i.options.alwaysShowHours&&(i.options.timeFormat="hh:mm:ss"),i.options.showTimecodeFrameCount&&(i.options.timeFormat+=":ff")),Xe.Utility.calculateTimeFormat(0,i.options,i.options.framesPerSecond||25),i.id="mep_"+Xe.mepIndex++,Xe.players[i.id]=i,i.init(),i):void 0},Xe.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var e=this,t=Xe.MediaFeatures,i=Ge.extend(!0,{},e.options,{success:function(t,i){e.meReady(t,i)},error:function(t){e.handleError(t)}}),n=e.media.tagName.toLowerCase();if(e.isDynamic="audio"!==n&&"video"!==n,e.isDynamic?e.isVideo=e.options.isVideo:e.isVideo="audio"!==n&&e.options.isVideo,t.isiPad&&e.options.iPadUseNativeControls||t.isiPhone&&e.options.iPhoneUseNativeControls)e.$media.attr("controls","controls"),t.isiPad&&null!==e.media.getAttribute("autoplay")&&e.play();else if(t.isAndroid&&e.options.AndroidUseNativeControls);else{e.$media.removeAttr("controls");var s=e.isVideo?Xe.i18n.t("Video Player"):Xe.i18n.t("Audio Player");if(Ge('<span class="mejs-offscreen">'+s+"</span>").insertBefore(e.$media),e.container=Ge('<div id="'+e.id+'" class="mejs-container '+(Xe.MediaFeatures.svg?"svg":"no-svg")+'" tabindex="0" role="application" aria-label="'+s+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(e.$media[0].className).insertBefore(e.$media).focus((function(){e.controlsAreVisible||(e.showControls(!0),e.container.find(".mejs-playpause-button > button").focus())})),e.container.addClass((t.isAndroid?"mejs-android ":"")+(t.isiOS?"mejs-ios ":"")+(t.isiPad?"mejs-ipad ":"")+(t.isiPhone?"mejs-iphone ":"")+(e.isVideo?"mejs-video ":"mejs-audio ")),t.isiOS){var r=e.$media.clone();e.container.find(".mejs-mediaelement").append(r),e.$media.remove(),e.$node=e.$media=r,e.node=e.media=r[0]}else e.container.find(".mejs-mediaelement").append(e.$media);e.node.player=e,e.controls=e.container.find(".mejs-controls"),e.layers=e.container.find(".mejs-layers");var o=e.isVideo?"video":"audio",a=o.substring(0,1).toUpperCase()+o.substring(1);e.options[o+"Width"]>0||e.options[o+"Width"].toString().indexOf("%")>-1?e.width=e.options[o+"Width"]:""!==e.media.style.width&&null!==e.media.style.width?e.width=e.media.style.width:null!==e.media.getAttribute("width")?e.width=e.$media.attr("width"):e.width=e.options["default"+a+"Width"],e.options[o+"Height"]>0||e.options[o+"Height"].toString().indexOf("%")>-1?e.height=e.options[o+"Height"]:""!==e.media.style.height&&null!==e.media.style.height?e.height=e.media.style.height:null!==e.$media[0].getAttribute("height")?e.height=e.$media.attr("height"):e.height=e.options["default"+a+"Height"],e.setPlayerSize(e.width,e.height),i.pluginWidth=e.width,i.pluginHeight=e.height}Xe.MediaElement(e.$media[0],i),void 0!==e.container&&e.controlsAreVisible&&e.container.trigger("controlsshown")},showControls:function(e){var t=this;e=void 0===e||e,t.controlsAreVisible||(e?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,(function(){t.controlsAreVisible=!0,t.container.trigger("controlsshown")})),t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,(function(){t.controlsAreVisible=!0}))):(t.controls.css("visibility","visible").css("display","block"),t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0,t.container.trigger("controlsshown")),t.setControlsSize())},hideControls:function(e){var t=this;e=void 0===e||e,!t.controlsAreVisible||t.options.alwaysShowControls||t.keyboardAction||(e?(t.controls.stop(!0,!0).fadeOut(200,(function(){Ge(this).css("visibility","hidden").css("display","block"),t.controlsAreVisible=!1,t.container.trigger("controlshidden")})),t.container.find(".mejs-control").stop(!0,!0).fadeOut(200,(function(){Ge(this).css("visibility","hidden").css("display","block")}))):(t.controls.css("visibility","hidden").css("display","block"),t.container.find(".mejs-control").css("visibility","hidden").css("display","block"),t.controlsAreVisible=!1,t.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(e){var t=this;e=void 0!==e?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout((function(){t.hideControls(),t.killControlsTimer("hide")}),e)},killControlsTimer:function(){var e=this;null!==e.controlsTimer&&(clearTimeout(e.controlsTimer),delete e.controlsTimer,e.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var e=this;e.killControlsTimer(),e.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var e=this;e.showControls(!1),e.controlsEnabled=!0},meReady:function(e,t){var i,n,s=this,r=Xe.MediaFeatures,o=t.getAttribute("autoplay"),a=!(null==o||"false"===o);if(!s.created){if(s.created=!0,s.media=e,s.domNode=t,!(r.isAndroid&&s.options.AndroidUseNativeControls||r.isiPad&&s.options.iPadUseNativeControls||r.isiPhone&&s.options.iPhoneUseNativeControls)){for(i in s.buildposter(s,s.controls,s.layers,s.media),s.buildkeyboard(s,s.controls,s.layers,s.media),s.buildoverlays(s,s.controls,s.layers,s.media),s.findTracks(),s.options.features)if(n=s.options.features[i],s["build"+n])try{s["build"+n](s,s.controls,s.layers,s.media)}catch(e){}s.container.trigger("controlsready"),s.setPlayerSize(s.width,s.height),s.setControlsSize(),s.isVideo&&(Xe.MediaFeatures.hasTouch?s.$media.bind("touchstart",(function(){s.controlsAreVisible?s.hideControls(!1):s.controlsEnabled&&s.showControls(!1)})):(s.clickToPlayPauseCallback=function(){s.options.clickToPlayPause&&(s.media.paused?s.play():s.pause())},s.media.addEventListener("click",s.clickToPlayPauseCallback,!1),s.container.bind("mouseenter",(function(){s.controlsEnabled&&(s.options.alwaysShowControls||(s.killControlsTimer("enter"),s.showControls(),s.startControlsTimer(2500)))})).bind("mousemove",(function(){s.controlsEnabled&&(s.controlsAreVisible||s.showControls(),s.options.alwaysShowControls||s.startControlsTimer(2500))})).bind("mouseleave",(function(){s.controlsEnabled&&(s.media.paused||s.options.alwaysShowControls||s.startControlsTimer(1e3))}))),s.options.hideVideoControlsOnLoad&&s.hideControls(!1),a&&!s.options.alwaysShowControls&&s.hideControls(),s.options.enableAutosize&&s.media.addEventListener("loadedmetadata",(function(e){s.options.videoHeight<=0&&null===s.domNode.getAttribute("height")&&!isNaN(e.target.videoHeight)&&(s.setPlayerSize(e.target.videoWidth,e.target.videoHeight),s.setControlsSize(),s.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))}),!1)),e.addEventListener("play",(function(){var e;for(e in Xe.players){var t=Xe.players[e];t.id==s.id||!s.options.pauseOtherPlayers||t.paused||t.ended||t.pause(),t.hasFocus=!1}s.hasFocus=!0}),!1),s.media.addEventListener("ended",(function(){if(s.options.autoRewind)try{s.media.setCurrentTime(0),window.setTimeout((function(){Ge(s.container).find(".mejs-overlay-loading").parent().hide()}),20)}catch(e){}s.media.pause(),s.setProgressRail&&s.setProgressRail(),s.setCurrentRail&&s.setCurrentRail(),s.options.loop?s.play():!s.options.alwaysShowControls&&s.controlsEnabled&&s.showControls()}),!1),s.media.addEventListener("loadedmetadata",(function(){s.updateDuration&&s.updateDuration(),s.updateCurrent&&s.updateCurrent(),s.isFullScreen||(s.setPlayerSize(s.width,s.height),s.setControlsSize())}),!1);var l=null;s.media.addEventListener("timeupdate",(function(){l!==this.duration&&(l=this.duration,Xe.Utility.calculateTimeFormat(l,s.options,s.options.framesPerSecond||25))}),!1),s.container.focusout((function(e){if(e.relatedTarget){var t=Ge(e.relatedTarget);s.keyboardAction&&0===t.parents(".mejs-container").length&&(s.keyboardAction=!1,s.hideControls(!0))}})),setTimeout((function(){s.setPlayerSize(s.width,s.height),s.setControlsSize()}),50),s.globalBind("resize",(function(){s.isFullScreen||Xe.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||s.setPlayerSize(s.width,s.height),s.setControlsSize()})),"youtube"==s.media.pluginType&&(r.isiOS||r.isAndroid)&&s.container.find(".mejs-overlay-play").hide()}a&&"native"==e.pluginType&&s.play(),s.options.success&&("string"==typeof s.options.success?window[s.options.success](s.media,s.domNode,s):s.options.success(s.media,s.domNode,s))}},handleError:function(e){var t=this;t.controls.hide(),t.options.error&&t.options.error(e)},setPlayerSize:function(e,t){var i=this;if(!i.options.setDimensions)return!1;if(void 0!==e&&(i.width=e),void 0!==t&&(i.height=t),i.height.toString().indexOf("%")>0||"none"!==i.$node.css("max-width")&&"t.width"!==i.$node.css("max-width")||i.$node[0].currentStyle&&"100%"===i.$node[0].currentStyle.maxWidth){var n=i.isVideo?i.media.videoWidth&&i.media.videoWidth>0?i.media.videoWidth:null!==i.media.getAttribute("width")?i.media.getAttribute("width"):i.options.defaultVideoWidth:i.options.defaultAudioWidth,s=i.isVideo?i.media.videoHeight&&i.media.videoHeight>0?i.media.videoHeight:null!==i.media.getAttribute("height")?i.media.getAttribute("height"):i.options.defaultVideoHeight:i.options.defaultAudioHeight,r=i.container.parent().closest(":visible").width(),o=i.container.parent().closest(":visible").height(),a=i.isVideo||!i.options.autosizeProgress?parseInt(r*s/n,10):s;isNaN(a)&&(a=o),i.container.parent().length>0&&"body"===i.container.parent()[0].tagName.toLowerCase()&&(r=Ge(window).width(),a=Ge(window).height()),a&&r&&(i.container.width(r).height(a),i.$media.add(i.container.find(".mejs-shim")).width("100%").height("100%"),i.isVideo&&i.media.setVideoSize&&i.media.setVideoSize(r,a),i.layers.children(".mejs-layer").width("100%").height("100%"))}else i.container.width(i.width).height(i.height),i.layers.children(".mejs-layer").width(i.width).height(i.height)},setControlsSize:function(){var e=this,t=0,i=0,n=e.controls.find(".mejs-time-rail"),s=e.controls.find(".mejs-time-total"),r=n.siblings(),o=r.last(),a=null;if(e.container.is(":visible")&&n.length&&n.is(":visible")){e.options&&!e.options.autosizeProgress&&(i=parseInt(n.css("width"),10)),0!==i&&i||(r.each((function(){var e=Ge(this);"absolute"!=e.css("position")&&e.is(":visible")&&(t+=Ge(this).outerWidth(!0))})),i=e.controls.width()-t-(n.outerWidth(!0)-n.width()));do{n.width(i),s.width(i-(s.outerWidth(!0)-s.width())),"absolute"!=o.css("position")&&(a=o.length?o.position():null,i--)}while(null!==a&&a.top>0&&i>0);e.container.trigger("controlsresize")}},buildposter:function(e,t,i,n){var s=this,r=Ge('<div class="mejs-poster mejs-layer"></div>').appendTo(i),o=e.$media.attr("poster");""!==e.options.poster&&(o=e.options.poster),o?s.setPoster(o):r.hide(),n.addEventListener("play",(function(){r.hide()}),!1),e.options.showPosterWhenEnded&&e.options.autoRewind&&n.addEventListener("ended",(function(){r.show()}),!1)},setPoster:function(e){var t=this.container.find(".mejs-poster"),i=t.find("img")
;0===i.length&&(i=Ge('<img width="100%" height="100%" alt="" />').appendTo(t)),i.attr("src",e),t.css({"background-image":"url("+e+")"})},buildoverlays:function(e,t,i,n){var s=this;if(e.isVideo){var r=Ge('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(i),o=Ge('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(i),a=Ge('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(i).bind("click",(function(){s.options.clickToPlayPause&&n.paused&&n.play()}));n.addEventListener("play",(function(){a.hide(),r.hide(),t.find(".mejs-time-buffering").hide(),o.hide()}),!1),n.addEventListener("playing",(function(){a.hide(),r.hide(),t.find(".mejs-time-buffering").hide(),o.hide()}),!1),n.addEventListener("seeking",(function(){r.show(),t.find(".mejs-time-buffering").show()}),!1),n.addEventListener("seeked",(function(){r.hide(),t.find(".mejs-time-buffering").hide()}),!1),n.addEventListener("pause",(function(){Xe.MediaFeatures.isiPhone||a.show()}),!1),n.addEventListener("waiting",(function(){r.show(),t.find(".mejs-time-buffering").show()}),!1),n.addEventListener("loadeddata",(function(){r.show(),t.find(".mejs-time-buffering").show(),Xe.MediaFeatures.isAndroid&&(n.canplayTimeout=window.setTimeout((function(){if(document.createEvent){var e=document.createEvent("HTMLEvents");return e.initEvent("canplay",!0,!0),n.dispatchEvent(e)}}),300))}),!1),n.addEventListener("canplay",(function(){r.hide(),t.find(".mejs-time-buffering").hide(),clearTimeout(n.canplayTimeout)}),!1),n.addEventListener("error",(function(e){s.handleError(e),r.hide(),a.hide(),o.show(),o.find(".mejs-overlay-error").html("Error loading this resource")}),!1),n.addEventListener("keydown",(function(t){s.onkeydown(e,n,t)}),!1)}},buildkeyboard:function(e,t,i,n){var s=this;s.container.keydown((function(){s.keyboardAction=!0})),s.globalBind("keydown",(function(t){return e.hasFocus=0!==Ge(t.target).closest(".mejs-container").length,s.onkeydown(e,n,t)})),s.globalBind("click",(function(t){e.hasFocus=0!==Ge(t.target).closest(".mejs-container").length}))},onkeydown:function(e,t,i){if(e.hasFocus&&e.options.enableKeyboard)for(var n=0,s=e.options.keyActions.length;s>n;n++)for(var r=e.options.keyActions[n],o=0,a=r.keys.length;a>o;o++)if(i.keyCode==r.keys[o])return"function"==typeof i.preventDefault&&i.preventDefault(),r.action(e,t,i.keyCode),!1;return!0},findTracks:function(){var e=this,t=e.$media.find("track");e.tracks=[],t.each((function(t,i){i=Ge(i),e.tracks.push({srclang:i.attr("srclang")?i.attr("srclang").toLowerCase():"",src:i.attr("src"),kind:i.attr("kind"),label:i.attr("label")||"",entries:[],isLoaded:!1})}))},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e,t,i=this;for(e in i.container.prev(".mejs-offscreen").remove(),i.options.features)if(i["clean"+(t=i.options.features[e])])try{i["clean"+t](i)}catch(e){}i.isDynamic?i.$node.insertBefore(i.container):(i.$media.prop("controls",!0),i.$node.clone().insertBefore(i.container).show(),i.$node.remove()),"native"!==i.media.pluginType&&i.media.remove(),delete Xe.players[i.id],"object"==typeof i.container&&i.container.remove(),i.globalUnbind(),delete i.node.player},rebuildtracks:function(){var e=this;e.findTracks(),e.buildtracks(e,e.controls,e.layers,e.media)},resetSize:function(){var e=this;setTimeout((function(){e.setPlayerSize(e.width,e.height),e.setControlsSize()}),50)}},function(){function e(e,i){var n={d:[],w:[]};return Ge.each((e||"").split(" "),(function(e,s){var r=s+"."+i;0===r.indexOf(".")?(n.d.push(r),n.w.push(r)):n[t.test(s)?"w":"d"].push(r)})),n.d=n.d.join(" "),n.w=n.w.join(" "),n}var t=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;Xe.MediaElementPlayer.prototype.globalBind=function(t,i,n){var s=this,r=s.node?s.node.ownerDocument:document;(t=e(t,s.id)).d&&Ge(r).bind(t.d,i,n),t.w&&Ge(window).bind(t.w,i,n)},Xe.MediaElementPlayer.prototype.globalUnbind=function(t,i){var n=this,s=n.node?n.node.ownerDocument:document;(t=e(t,n.id)).d&&Ge(s).unbind(t.d,i),t.w&&Ge(window).unbind(t.w,i)}}(),void 0!==Ge&&(Ge.fn.mediaelementplayer=function(e){return!1===e?this.each((function(){var e=Ge(this).data("mediaelementplayer");e&&e.remove(),Ge(this).removeData("mediaelementplayer")})):this.each((function(){Ge(this).data("mediaelementplayer",new Xe.MediaElementPlayer(this,e))})),this},Ge(document).ready((function(){Ge(".mejs-player").mediaelementplayer()}))),window.MediaElementPlayer=Xe.MediaElementPlayer,function(e){e.extend(Xe.MepDefaults,{playText:Xe.i18n.t("Play"),pauseText:Xe.i18n.t("Pause")}),e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,i,n,s){function r(e){"play"===e?(l.removeClass("mejs-play").addClass("mejs-pause"),u.attr({title:a.pauseText,"aria-label":a.pauseText})):(l.removeClass("mejs-pause").addClass("mejs-play"),u.attr({title:a.playText,"aria-label":a.playText}))}var o=this,a=o.options,l=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+o.id+'" title="'+a.playText+'" aria-label="'+a.playText+'"></button></div>').appendTo(i).click((function(e){return e.preventDefault(),s.paused?s.play():s.pause(),!1})),u=l.find("button");r("pse"),s.addEventListener("play",(function(){r("play")}),!1),s.addEventListener("playing",(function(){r("play")}),!1),s.addEventListener("pause",(function(){r("pse")}),!1),s.addEventListener("paused",(function(){r("pse")}),!1)}})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{stopText:"Stop"}),e.extend(MediaElementPlayer.prototype,{buildstop:function(t,i,n,s){var r=this;e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+r.id+'" title="'+r.options.stopText+'" aria-label="'+r.options.stopText+'"></button></div>').appendTo(i).click((function(){s.paused||s.pause(),s.currentTime>0&&(s.setCurrentTime(0),s.pause(),i.find(".mejs-time-current").width("0px"),i.find(".mejs-time-handle").css("left","0px"),i.find(".mejs-time-float-current").html(Xe.Utility.secondsToTimeCode(0,t.options)),i.find(".mejs-currenttime").html(Xe.Utility.secondsToTimeCode(0,t.options)),n.find(".mejs-poster").show())}))}})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{progessHelpText:Xe.i18n.t("Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.")}),e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,i,n,s){e('<div class="mejs-time-rail"><span  class="mejs-time-total mejs-time-slider"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(i),i.find(".mejs-time-buffering").hide();var r=this,o=i.find(".mejs-time-total"),a=i.find(".mejs-time-loaded"),l=i.find(".mejs-time-current"),u=i.find(".mejs-time-handle"),c=i.find(".mejs-time-float"),d=i.find(".mejs-time-float-current"),h=i.find(".mejs-time-slider"),p=function(e){var i,n=o.offset(),r=o.width(),a=0,l=0,u=0;i=e.originalEvent&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,s.duration&&(i<n.left?i=n.left:i>r+n.left&&(i=r+n.left),l=.02>=(a=(u=i-n.left)/r)?0:a*s.duration,m&&l!==s.currentTime&&s.setCurrentTime(l),Xe.MediaFeatures.hasTouch||(c.css("left",u),d.html(Xe.Utility.secondsToTimeCode(l,t.options)),c.show()))},m=!1,f=0,g=!1,v=t.options.autoRewind,y=function(){var e=s.currentTime,i=Xe.i18n.t("Time Slider"),n=Xe.Utility.secondsToTimeCode(e,t.options),r=s.duration;h.attr({"aria-label":i,"aria-valuemin":0,"aria-valuemax":r,"aria-valuenow":e,"aria-valuetext":n,role:"slider",tabindex:0})},b=function(){new Date-f>=1e3&&s.play()};h.bind("focus",(function(){t.options.autoRewind=!1})),h.bind("blur",(function(){t.options.autoRewind=v})),h.bind("keydown",(function(e){new Date-f>=1e3&&(g=s.paused);var t=e.keyCode,i=s.duration,n=s.currentTime;switch(t){case 37:n-=1;break;case 39:n+=1;break;case 38:n+=Math.floor(.1*i);break;case 40:n-=Math.floor(.1*i);break;case 36:n=0;break;case 35:n=i;break;case 10:case 13:return void(s.paused?s.play():s.pause());default:return}return n=0>n?0:n>=i?i:Math.floor(n),f=new Date,g||s.pause(),n<s.duration&&!g&&setTimeout(b,1100),s.setCurrentTime(n),e.preventDefault(),e.stopPropagation(),!1})),o.bind("mousedown touchstart",(function(e){(1===e.which||0===e.which)&&(m=!0,p(e),r.globalBind("mousemove.dur touchmove.dur",(function(e){p(e)})),r.globalBind("mouseup.dur touchend.dur",(function(){m=!1,c.hide(),r.globalUnbind(".dur")})))})).bind("mouseenter",(function(){!0,r.globalBind("mousemove.dur",(function(e){p(e)})),Xe.MediaFeatures.hasTouch||c.show()})).bind("mouseleave",(function(){!1,m||(r.globalUnbind(".dur"),c.hide())})),s.addEventListener("progress",(function(e){t.setProgressRail(e),t.setCurrentRail(e)}),!1),s.addEventListener("timeupdate",(function(e){t.setProgressRail(e),t.setCurrentRail(e),y(e)}),!1),r.container.on("controlsresize",(function(){t.setProgressRail(),t.setCurrentRail()})),r.loaded=a,r.total=o,r.current=l,r.handle=u},setProgressRail:function(e){var t=this,i=void 0!==e?e.target:t.media,n=null;i&&i.buffered&&i.buffered.length>0&&i.buffered.end&&i.duration?n=i.buffered.end(i.buffered.length-1)/i.duration:i&&void 0!==i.bytesTotal&&i.bytesTotal>0&&void 0!==i.bufferedBytes?n=i.bufferedBytes/i.bytesTotal:e&&e.lengthComputable&&0!==e.total&&(n=e.loaded/e.total),null!==n&&(n=Math.min(1,Math.max(0,n)),t.loaded&&t.total&&t.loaded.width(t.total.width()*n))},setCurrentRail:function(){var e=this;if(void 0!==e.media.currentTime&&e.media.duration&&e.total&&e.handle){var t=Math.round(e.total.width()*e.media.currentTime/e.media.duration),i=t-Math.round(e.handle.outerWidth(!0)/2);e.current.width(t),e.handle.css("left",i)}}})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,i,n,s){var r=this;e('<div class="mejs-time" role="timer" aria-live="off"><span class="mejs-currenttime">'+Xe.Utility.secondsToTimeCode(0,t.options)+"</span></div>").appendTo(i),r.currenttime=r.controls.find(".mejs-currenttime"),s.addEventListener("timeupdate",(function(){t.updateCurrent()}),!1)},buildduration:function(t,i,n,s){var r=this;i.children().last().find(".mejs-currenttime").length>0?e(r.options.timeAndDurationSeparator+'<span class="mejs-duration">'+Xe.Utility.secondsToTimeCode(r.options.duration,r.options)+"</span>").appendTo(i.find(".mejs-time")):(i.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+Xe.Utility.secondsToTimeCode(r.options.duration,r.options)+"</span></div>").appendTo(i)),r.durationD=r.controls.find(".mejs-duration"),s.addEventListener("timeupdate",(function(){t.updateDuration()}),!1)},updateCurrent:function(){var e=this;e.currenttime&&e.currenttime.html(Xe.Utility.secondsToTimeCode(e.media.currentTime,e.options))},updateDuration:function(){var e=this;e.container.toggleClass("mejs-long-video",e.media.duration>3600),e.durationD&&(e.options.duration>0||e.media.duration)&&e.durationD.html(Xe.Utility.secondsToTimeCode(e.options.duration>0?e.options.duration:e.media.duration,e.options))}})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{muteText:Xe.i18n.t("Mute Toggle"),allyVolumeControlText:Xe.i18n.t("Use Up/Down Arrow keys to increase or decrease volume."),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,i,n,s){if(!Xe.MediaFeatures.isAndroid&&!Xe.MediaFeatures.isiOS||!this.options.hideVolumeOnTouchDevices){var r=this,o=r.isVideo?r.options.videoVolume:r.options.audioVolume,a="horizontal"==o?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+r.id+'" title="'+r.options.muteText+'" aria-label="'+r.options.muteText+'"></button></div><a href="javascript:void(0);" class="mejs-horizontal-volume-slider"><span class="mejs-offscreen">'+r.options.allyVolumeControlText+'</span><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></a>').appendTo(i):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+r.id+'" title="'+r.options.muteText+'" aria-label="'+r.options.muteText+'"></button><a href="javascript:void(0);" class="mejs-volume-slider"><span class="mejs-offscreen">'+r.options.allyVolumeControlText+'</span><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></a></div>').appendTo(i),l=r.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),u=r.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),c=r.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),d=r.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(!l.is(":visible")&&void 0===t)return l.show(),h(e,!0),void l.hide();e=Math.max(0,e),0===(e=Math.min(e,1))?(a.removeClass("mejs-mute").addClass("mejs-unmute"),a.children("button").attr("title",Xe.i18n.t("Unmute")).attr("aria-label",Xe.i18n.t("Unmute"))):(a.removeClass("mejs-unmute").addClass("mejs-mute"),a.children("button").attr("title",Xe.i18n.t("Mute")).attr("aria-label",Xe.i18n.t("Mute")));var i=u.position();if("vertical"==o){var n=u.height(),s=n-n*e;d.css("top",Math.round(i.top+s-d.height()/2)),c.height(n-s),c.css("top",i.top+s)}else{var r=u.width()*e;d.css("left",Math.round(i.left+r-d.width()/2)),c.width(Math.round(r))}},p=function(e){var t=null,i=u.offset();if("vertical"===o){var n=u.height();if(t=(n-(e.pageY-i.top))/n,0===i.top||0===i.left)return}else{var r=u.width();t=(e.pageX-i.left)/r}t=Math.max(0,t),t=Math.min(t,1),h(t),0===t?s.setMuted(!0):s.setMuted(!1),s.setVolume(t)},m=!1,f=!1;a.hover((function(){l.show(),f=!0}),(function(){f=!1,m||"vertical"!=o||l.hide()}));var g=function(){var e=Math.floor(100*s.volume);l.attr({"aria-label":Xe.i18n.t("volumeSlider"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e,"aria-valuetext":e+"%",role:"slider",tabindex:0})};l.bind("mouseover",(function(){f=!0})).bind("mousedown",(function(e){return p(e),r.globalBind("mousemove.vol",(function(e){p(e)})),r.globalBind("mouseup.vol",(function(){m=!1,r.globalUnbind(".vol"),f||"vertical"!=o||l.hide()})),m=!0,!1})).bind("keydown",(function(e){var t=e.keyCode,i=s.volume;switch(t){case 38:i+=.1;break;case 40:i-=.1;break;default:return!0}return m=!1,h(i),s.setVolume(i),!1})),a.find("button").click((function(){s.setMuted(!s.muted)})),a.find("button").bind("focus",(function(){l.show()})),s.addEventListener("volumechange",(function(e){m||(s.muted?(h(0),a.removeClass("mejs-mute").addClass("mejs-unmute")):(h(s.volume),a.removeClass("mejs-unmute").addClass("mejs-mute"))),g(e)}),!1),0===t.options.startVolume&&s.setMuted(!0),"native"===s.pluginType&&s.setVolume(t.options.startVolume),r.container.on("controlsresize",(function(){h(s.volume)}))}}})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:Xe.i18n.t("Fullscreen")}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(t,i,n,s){if(t.isVideo){if(t.isInIframe=window.location!=window.parent.location,Xe.MediaFeatures.hasTrueNativeFullScreen){var r=function(){t.isFullScreen&&(Xe.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen()))};t.globalBind(Xe.MediaFeatures.fullScreenEventName,r)}var o=this,a=e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+o.id+'" title="'+o.options.fullscreenText+'" aria-label="'+o.options.fullscreenText+'"></button></div>').appendTo(i);if("native"===o.media.pluginType||!o.options.usePluginFullScreen&&!Xe.MediaFeatures.isFirefox)a.click((function(){Xe.MediaFeatures.hasTrueNativeFullScreen&&Xe.MediaFeatures.isFullScreen()||t.isFullScreen?t.exitFullScreen():t.enterFullScreen()}));else{var l=null;if((v=document.createElement("x"),y=document.documentElement,b=window.getComputedStyle,"pointerEvents"in v.style&&(v.style.pointerEvents="auto",v.style.pointerEvents="x",y.appendChild(v),g=b&&"auto"===b(v,"").pointerEvents,y.removeChild(v),!!g))&&!Xe.MediaFeatures.isOpera){var u,c,d=!1,h=function(){if(d){for(var e in p)p[e].hide();a.css("pointer-events",""),o.controls.css("pointer-events",""),o.media.removeEventListener("click",o.clickToPlayPauseCallback),d=!1}},p={},m=["top","left","right","bottom"],f=function(){var e=a.offset().left-o.container.offset().left,t=a.offset().top-o.container.offset().top,i=a.outerWidth(!0),n=a.outerHeight(!0),s=o.container.width(),r=o.container.height();for(u in p)p[u].css({position:"absolute",top:0,left:0});p.top.width(s).height(t),p.left.width(e).height(n).css({top:t}),p.right.width(s-e-i).height(n).css({top:t,left:e+i}),p.bottom.width(s).height(r-n-t).css({top:t+n})};for(o.globalBind("resize",(function(){f()})),u=0,c=m.length;c>u;u++)p[m[u]]=e('<div class="mejs-fullscreen-hover" />').appendTo(o.container).mouseover(h).hide();a.on("mouseover",(function(){if(!o.isFullScreen){var e=a.offset(),i=t.container.offset();for(u in s.positionFullscreenButton(e.left-i.left,e.top-i.top,!1),a.css("pointer-events","none"),o.controls.css("pointer-events","none"),o.media.addEventListener("click",o.clickToPlayPauseCallback),p)p[u].show();f(),d=!0}})),s.addEventListener("fullscreenchange",(function(){o.isFullScreen=!o.isFullScreen,o.isFullScreen?o.media.removeEventListener("click",o.clickToPlayPauseCallback):o.media.addEventListener("click",o.clickToPlayPauseCallback),h()})),o.globalBind("mousemove",(function(e){if(d){var t=a.offset();(e.pageY<t.top||e.pageY>t.top+a.outerHeight(!0)||e.pageX<t.left||e.pageX>t.left+a.outerWidth(!0))&&(a.css("pointer-events",""),o.controls.css("pointer-events",""),d=!1)}}))}else a.on("mouseover",(function(){null!==l&&(clearTimeout(l),delete l);var e=a.offset(),i=t.container.offset();s.positionFullscreenButton(e.left-i.left,e.top-i.top,!0)})).on("mouseout",(function(){null!==l&&(clearTimeout(l),delete l),l=setTimeout((function(){s.hideFullscreenButton()}),1500)}))}t.fullscreenBtn=a,o.globalBind("keydown",(function(e){(Xe.MediaFeatures.hasTrueNativeFullScreen&&Xe.MediaFeatures.isFullScreen()||o.isFullScreen)&&27==e.keyCode&&t.exitFullScreen()})),o.normalHeight=0,o.normalWidth=0}var g,v,y,b},cleanfullscreen:function(e){e.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var t=this;if("native"===t.media.pluginType||!Xe.MediaFeatures.isFirefox&&!t.options.usePluginFullScreen){if(e(document.documentElement).addClass("mejs-fullscreen"),t.normalHeight=t.container.height(),t.normalWidth=t.container.width(),"native"===t.media.pluginType)if(Xe.MediaFeatures.hasTrueNativeFullScreen)Xe.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout((function i(){if(t.isNativeFullScreen){var n=window.devicePixelRatio||1,s=.002,r=n*e(window).width(),o=screen.width,a=n*r;Math.abs(o-r)>Math.abs(o-a)&&(r=a),Math.abs(o-r)>o*s?t.exitFullScreen():setTimeout(i,500)}}),1e3);else if(Xe.MediaFeatures.hasSemiNativeFullScreen)return void t.media.webkitEnterFullscreen();if(t.isInIframe){var i=t.options.newWindowCallback(this);if(""!==i){if(!Xe.MediaFeatures.hasTrueNativeFullScreen)return t.pause(),void window.open(i,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout((function(){t.isNativeFullScreen||(t.pause(),window.open(i,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))}),250)}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),t.containerSizeTimeout=setTimeout((function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()}),500),"native"===t.media.pluginType?t.$media.width("100%").height("100%"):(t.container.find(".mejs-shim").width("100%").height("100%"),t.media.setVideoSize(e(window).width(),e(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0,t.container.find(".mejs-captions-text").css("font-size",screen.width/t.width*1*100+"%"),t.container.find(".mejs-captions-position").css("bottom","45px"),t.container.trigger("enteredfullscreen")}},exitFullScreen:function(){var t=this;return clearTimeout(t.containerSizeTimeout),"native"!==t.media.pluginType&&Xe.MediaFeatures.isFirefox?void t.media.setFullscreen(!1):(Xe.MediaFeatures.hasTrueNativeFullScreen&&(Xe.MediaFeatures.isFullScreen()||t.isFullScreen)&&Xe.MediaFeatures.cancelFullScreen(),e(document.documentElement).removeClass("mejs-fullscreen"),t.container.removeClass("mejs-container-fullscreen").width(t.normalWidth).height(t.normalHeight),"native"===t.media.pluginType?t.$media.width(t.normalWidth).height(t.normalHeight):(t.container.find(".mejs-shim").width(t.normalWidth).height(t.normalHeight),t.media.setVideoSize(t.normalWidth,t.normalHeight)),t.layers.children("div").width(t.normalWidth).height(t.normalHeight),t.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),t.setControlsSize(),t.isFullScreen=!1,t.container.find(".mejs-captions-text").css("font-size",""),t.container.find(".mejs-captions-position").css("bottom",""),void t.container.trigger("exitedfullscreen"))}})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{speeds:["2.00","1.50","1.25","1.00","0.75"],defaultSpeed:"1.00",speedChar:"x"}),e.extend(MediaElementPlayer.prototype,{buildspeed:function(t,i,n,s){var r=this;if("native"==r.media.pluginType){for(var o=null,a=null,l=null,u=null,c=[],d=!1,h=0,p=r.options.speeds.length;p>h;h++){var m=r.options.speeds[h];"string"==typeof m?(c.push({name:m+r.options.speedChar,value:m}),m===r.options.defaultSpeed&&(d=!0)):(c.push(m),m.value===r.options.defaultSpeed&&(d=!0))}d||c.push({name:r.options.defaultSpeed+r.options.speedChar,value:r.options.defaultSpeed}),c.sort((function(e,t){return parseFloat(t.value)-parseFloat(e.value)}));var f=function(e){for(h=0,p=c.length;p>h;h++)if(c[h].value===e)return c[h].name},g='<div class="mejs-button mejs-speed-button"><button type="button">'+f(r.options.defaultSpeed)+'</button><div class="mejs-speed-selector"><ul>';for(h=0,il=c.length;h<il;h++)u=r.id+"-speed-"+c[h].value,g+='<li><input type="radio" name="speed" value="'+c[h].value+'" id="'+u+'" '+(c[h].value===r.options.defaultSpeed?" checked":"")+' /><label for="'+u+'" '+(c[h].value===r.options.defaultSpeed?' class="mejs-speed-selected"':"")+">"+c[h].name+"</label></li>";o=e(g+="</ul></div></div>").appendTo(i),a=o.find(".mejs-speed-selector"),l=r.options.defaultSpeed,s.addEventListener("loadedmetadata",(function(){l&&(s.playbackRate=parseFloat(l))}),!0),a.on("click",'input[type="radio"]',(function(){var t=e(this).attr("value");l=t,s.playbackRate=parseFloat(t),o.find("button").html(f(t)),o.find(".mejs-speed-selected").removeClass("mejs-speed-selected"),o.find('input[type="radio"]:checked').next().addClass("mejs-speed-selected")})),o.one("mouseenter focusin",(function(){a.height(o.find(".mejs-speed-selector ul").outerHeight(!0)+o.find(".mejs-speed-translations").outerHeight(!0)).css("top",-1*a.height()+"px")}))}}})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{startLanguage:"",tracksText:Xe.i18n.t("Captions/Subtitles"),tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,cleartracks:function(e){e&&(e.captions&&e.captions.remove(),e.chapters&&e.chapters.remove(),e.captionsText&&e.captionsText.remove(),e.captionsButton&&e.captionsButton.remove())},buildtracks:function(t,i,n,s){if(0!==t.tracks.length){var r,o=this,a=o.options.tracksAriaLive?'role="log" aria-live="assertive" aria-atomic="false"':"";if(o.domNode.textTracks)for(r=o.domNode.textTracks.length-1;r>=0;r--)o.domNode.textTracks[r].mode="hidden";o.cleartracks(t,i,n,s),t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(n).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover" '+a+'><span class="mejs-captions-text"></span></div></div>').prependTo(n).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+o.id+'" title="'+o.options.tracksText+'" aria-label="'+o.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">'+Xe.i18n.t("None")+"</label></li></ul></div></div>").appendTo(i);var l=0;for(r=0;r<t.tracks.length;r++)"subtitles"==t.tracks[r].kind&&l++;for(o.options.toggleCaptionsButtonWhenOnlyOne&&1==l?t.captionsButton.on("click",(function(){null===t.selectedTrack?lang=t.tracks[0].srclang:lang="none",t.setTrack(lang)})):(t.captionsButton.on("mouseenter focusin",(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")})).on("click","input[type=radio]",(function(){lang=this.value,t.setTrack(lang)})),t.captionsButton.on("mouseleave focusout",(function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}))),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("controlsshown",(function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")})).bind("controlshidden",(function(){s.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")})),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1,r=0;r<t.tracks.length;r++)"subtitles"==t.tracks[r].kind&&t.addTrackButton(t.tracks[r].srclang,t.tracks[r].label);t.loadNextTrack(),s.addEventListener("timeupdate",(function(){t.displayCaptions()}),!1),""!==t.options.slidesSelector&&(t.slidesContainer=e(t.options.slidesSelector),s.addEventListener("timeupdate",(function(){t.displaySlides()}),!1)),s.addEventListener("loadedmetadata",(function(){t.displayChapters()}),!1),t.container.hover((function(){t.hasChapters&&(t.chapters.css("visibility","visible"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))}),(function(){t.hasChapters&&!s.paused&&t.chapters.fadeOut(200,(function(){e(this).css("visibility","hidden"),e(this).css("display","block")}))})),o.container.on("controlsresize",(function(){o.adjustLanguageBox()})),null!==t.node.getAttribute("autoplay")&&t.chapters.css("visibility","hidden")}},setTrack:function(e){var t,i=this;if("none"==e)i.selectedTrack=null,i.captionsButton.removeClass("mejs-captions-enabled");else for(t=0;t<i.tracks.length;t++)if(i.tracks[t].srclang==e){null===i.selectedTrack&&i.captionsButton.addClass("mejs-captions-enabled"),i.selectedTrack=i.tracks[t],i.captions.attr("lang",i.selectedTrack.srclang),i.displayCaptions();break}},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):(e.isLoadingTrack=!1,e.checkForTracks())},loadTrack:function(t){var i=this,n=i.tracks[t],s=function(){n.isLoaded=!0,i.enableTrackButton(n.srclang,n.label),i.loadNextTrack()};e.ajax({url:n.src,dataType:"text",success:function(e){"string"==typeof e&&/<tt\s+xml/gi.exec(e)?n.entries=Xe.TrackFormatParser.dfxp.parse(e):n.entries=Xe.TrackFormatParser.webvtt.parse(e),s(),"chapters"==n.kind&&i.media.addEventListener("play",(function(){i.media.duration>0&&i.displayChapters(n)}),!1),"slides"==n.kind&&i.setupSlides(n)},error:function(){i.removeTrackButton(n.srclang),i.loadNextTrack()}})},enableTrackButton:function(t,i){var n=this;""===i&&(i=Xe.language.codes[t]||t),n.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(i),n.options.startLanguage==t&&e("#"+n.id+"_captions_"+t).prop("checked",!0).trigger("click"),n.adjustLanguageBox()},removeTrackButton:function(e){var t=this;t.captionsButton.find("input[value="+e+"]").closest("li").remove(),t.adjustLanguageBox()},addTrackButton:function(t,i){var n=this;""===i&&(i=Xe.language.codes[t]||t),n.captionsButton.find("ul").append(e('<li><input type="radio" name="'+n.id+'_captions" id="'+n.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" /><label for="'+n.id+"_captions_"+t+'">'+i+" (loading)</label></li>")),n.adjustLanguageBox(),n.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+e.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var e=this,t=!1;if(e.options.hideCaptionsButtonWhenEmpty){for(i=0;i<e.tracks.length;i++)if("subtitles"==e.tracks[i].kind&&e.tracks[i].isLoaded){t=!0;break}t||(e.captionsButton.hide(),e.setControlsSize())}},displayCaptions:function(){if(void 0!==this.tracks){var e,t=this,i=t.selectedTrack;if(null!==i&&i.isLoaded){for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return t.captionsText.html(i.entries.text[e]).attr("class","mejs-captions-text "+(i.entries.times[e].identifier||"")),void t.captions.show().height(0);t.captions.hide()}else t.captions.hide()}},setupSlides:function(e){var t=this;t.slides=e,t.slides.entries.imgs=[t.slides.entries.text.length],t.showSlide(0)},showSlide:function(t){if(void 0!==this.tracks&&void 0!==this.slidesContainer){var i=this,n=i.slides.entries.text[t],s=i.slides.entries.imgs[t];void 0===s||void 0===s.fadeIn?i.slides.entries.imgs[t]=s=e('<img src="'+n+'">').on("load",(function(){s.appendTo(i.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()})):s.is(":visible")||s.is(":animated")||s.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if(void 0!==this.slides){var e,t=this,i=t.slides;for(e=0;e<i.entries.times.length;e++)if(t.media.currentTime>=i.entries.times[e].start&&t.media.currentTime<=i.entries.times[e].stop)return void t.showSlide(e)}},displayChapters:function(){var e,t=this;for(e=0;e<t.tracks.length;e++)if("chapters"==t.tracks[e].kind&&t.tracks[e].isLoaded){t.drawChapters(t.tracks[e]),t.hasChapters=!0;break}},drawChapters:function(t){var i,n,s=this,r=0,o=0;for(s.chapters.empty(),i=0;i<t.entries.times.length;i++)n=t.entries.times[i].stop-t.entries.times[i].start,((r=Math.floor(n/s.media.duration*100))+o>100||i==t.entries.times.length-1&&100>r+o)&&(r=100-o),s.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[i].start+'" style="left: '+o.toString()+"%;width: "+r.toString()+'%;"><div class="mejs-chapter-block'+(i==t.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+t.entries.text[i]+'</span><span class="ch-time">'+Xe.Utility.secondsToTimeCode(t.entries.times[i].start,s.options)+"&ndash;"+Xe.Utility.secondsToTimeCode(t.entries.times[i].stop,s.options)+"</span></div></div>")),o+=r;s.chapters.find("div.mejs-chapter").click((function(){s.media.setCurrentTime(parseFloat(e(this).attr("rel"))),s.media.paused&&s.media.play()})),s.chapters.show()}}),Xe.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",fl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",
mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},Xe.TrackFormatParser={webvtt:{pattern_timecode:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(t){for(var i,n,s,r=0,o=Xe.TrackFormatParser.split2(t,/\r?\n/),a={text:[],times:[]};r<o.length;r++){if((i=this.pattern_timecode.exec(o[r]))&&r<o.length){for(r-1>=0&&""!==o[r-1]&&(s=o[r-1]),n=o[++r],r++;""!==o[r]&&r<o.length;)n=n+"\n"+o[r],r++;n=e.trim(n).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),a.text.push(n),a.times.push({identifier:s,start:0===Xe.Utility.convertSMPTEtoSeconds(i[1])?.2:Xe.Utility.convertSMPTEtoSeconds(i[1]),stop:Xe.Utility.convertSMPTEtoSeconds(i[3]),settings:i[5]})}s=""}return a}},dfxp:{parse:function(t){var i,n,s=0,r=(t=e(t).filter("tt")).children("div").eq(0),o=r.find("p"),a=t.find("#"+r.attr("style")),l={text:[],times:[]};if(a.length){var u=a.removeAttr("id").get(0).attributes;if(u.length)for(i={},s=0;s<u.length;s++)i[u[s].name.split(":")[1]]=u[s].value}for(s=0;s<o.length;s++){var c,d={start:null,stop:null,style:null};if(o.eq(s).attr("begin")&&(d.start=Xe.Utility.convertSMPTEtoSeconds(o.eq(s).attr("begin"))),!d.start&&o.eq(s-1).attr("end")&&(d.start=Xe.Utility.convertSMPTEtoSeconds(o.eq(s-1).attr("end"))),o.eq(s).attr("end")&&(d.stop=Xe.Utility.convertSMPTEtoSeconds(o.eq(s).attr("end"))),!d.stop&&o.eq(s+1).attr("begin")&&(d.stop=Xe.Utility.convertSMPTEtoSeconds(o.eq(s+1).attr("begin"))),i)for(var h in c="",i)c+=h+":"+i[h]+";";c&&(d.style=c),0===d.start&&(d.start=.2),l.times.push(d),n=e.trim(o.eq(s).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),l.text.push(n),0===l.times.start&&(l.times.start=2)}return l}},split2:function(e,t){return e.split(t)}},3!="x\n\ny".split(/\n/gi).length&&(Xe.TrackFormatParser.split2=function(e,t){var i,n=[],s="";for(i=0;i<e.length;i++)s+=e.substring(i,i+1),t.test(s)&&(n.push(s.replace(t,"")),s="");return n.push(s),n})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{contextMenuItems:[{render:function(e){return void 0===e.enterFullScreen?null:e.isFullScreen?Xe.i18n.t("Turn off Fullscreen"):Xe.i18n.t("Go Fullscreen")},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?Xe.i18n.t("Unmute"):Xe.i18n.t("Mute")},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},{isSeparator:!0},{render:function(){return Xe.i18n.t("Download Video")},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),t.container.bind("contextmenu",(function(e){return t.isContextMenuEnabled?(e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1):void 0})),t.container.bind("click",(function(){t.contextMenu.hide()})),t.contextMenu.bind("mouseleave",(function(){t.startContextMenuTimer()}))},cleancontextmenu:function(e){e.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout((function(){e.hideContextMenu(),e.killContextMenuTimer()}),750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;null!=e&&(clearTimeout(e),delete e,e=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,i){for(var n=this,s="",r=n.options.contextMenuItems,o=0,a=r.length;a>o;o++)if(r[o].isSeparator)s+='<div class="mejs-contextmenu-separator"></div>';else{var l=r[o].render(n);null!=l&&(s+='<div class="mejs-contextmenu-item" data-itemindex="'+o+'" id="element-'+1e6*Math.random()+'">'+l+"</div>")}n.contextMenu.empty().append(e(s)).css({top:i,left:t}).show(),n.contextMenu.find(".mejs-contextmenu-item").each((function(){var t=e(this),i=parseInt(t.data("itemindex"),10),s=n.options.contextMenuItems[i];void 0!==s.show&&s.show(t,n),t.click((function(){void 0!==s.click&&s.click(n),n.contextMenu.hide()}))})),setTimeout((function(){n.killControlsTimer("rev3")}),100)}})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{skipBackInterval:30,skipBackText:Xe.i18n.t("Skip back %1 seconds")}),e.extend(MediaElementPlayer.prototype,{buildskipback:function(t,i,n,s){var r=this,o=r.options.skipBackText.replace("%1",r.options.skipBackInterval);e('<div class="mejs-button mejs-skip-back-button"><button type="button" aria-controls="'+r.id+'" title="'+o+'" aria-label="'+o+'">'+r.options.skipBackInterval+"</button></div>").appendTo(i).click((function(){s.setCurrentTime(Math.max(s.currentTime-r.options.skipBackInterval,0)),e(this).find("button").blur()}))}})}(Xe.$),function(e){e.extend(Xe.MepDefaults,{postrollCloseText:Xe.i18n.t("Close")}),e.extend(MediaElementPlayer.prototype,{buildpostroll:function(t,i,n){var s=this,r=s.container.find('link[rel="postroll"]').attr("href");void 0!==r&&(t.postroll=e('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+s.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(n).hide(),s.media.addEventListener("ended",(function(){e.ajax({dataType:"html",url:r,success:function(e){n.find(".mejs-postroll-layer-content").html(e)}}),t.postroll.show()}),!1))}})}(Xe.$);var Qe=ae(pe()),Ze=class extends Je{devlog(...e){console.log(`${this.data.identifier}: `,...e)}get pageIsTurboPreview(){return document.documentElement.hasAttribute("data-turbo-preview")}get credentials(){return{credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":this.getMetaValue()}}}getMetaValue(){const e=document.head.querySelector('meta[name="csrf-token"]');return null!==e&&e.getAttribute("content")}},et=class extends Ze{autoPlay(){var e,t;(null==(t=null==(e=this.audio)?void 0:e.src)?void 0:t.includes("#t="))&&(this.audio.preload="metadata",this.audio.play())}startAtTimeStamp(e){e.preventDefault(e),this.audio.currentTime=e.currentTarget.getAttribute("data-player-timestamp"),this.play()}async play(){await this.audio.play(),this.statusValue="playing"}pause(){this.audio.pause(),this.statusValue="paused"}broadcastTimeUpdate(){this.dispatch("timeupdate",{currentTime:this.audio.currentTime})}updateValueWithCurrentTime(e){this.hasTimestampInputTarget&&(this.timestampInputTarget.value=String(this.audio.currentTime).toHHMMSS())}get audio(){return this.hasAudioTarget?this.audioTarget:this.audioElementByID?this.audioElementByID:this.audioElementByIframe}get audioElementByIframe(){return document.querySelector("iframe").contentDocument.body.querySelector("audio")}get audioElementByID(){return document.getElementById(this.data.get("audio-element-id"))}get episodeId(){return this.element.dataset.episodeId}};le(et,"values",{status:String}),le(et,"targets",["audio","playButton","timestampInput"]);var tt,it,nt,st,rt,ot,at,lt,ut,ct,dt,ht,pt,mt,ft,gt,vt,yt,bt,wt,Tt,Et,kt,St,Mt,At,xt,Ct,jt,Ft,Ot,Nt,Pt,Lt,Bt,Vt,It,Dt,$t,Rt,Ut,zt,Wt=class{static setMetadata(e){return!!e&&("undefined"!=typeof MediaMetadata&&void(navigator.mediaSession.metadata=new MediaMetadata({title:e.getAttribute("data-episode-title"),artist:e.getAttribute("data-podcast-artist"),album:e.getAttribute("data-podcast-title"),artwork:[{src:e.getAttribute("data-episode-small-artwork"),sizes:"250x250",type:"image/png"},{src:e.getAttribute("data-episode-medium-artwork"),sizes:"600x600",type:"image/png"},{src:e.getAttribute("data-episode-artwork"),sizes:"1400x1400",type:"image/png"}]})))}static updateArtwork(e){const t=e.dataset.episodeId,i=document.querySelector(`#episode_${t} .artwork-container .artwork`);i&&(i.style.backgroundImage=`url('${i.dataset.originalUrl}')`)}},qt=(e,t)=>{e.on("play",(()=>{t.play(),e.emit("play")})),e.on("pause",(()=>{t.pause(),e.emit("pause")})),e.on("getPaused",(e=>{e(t.paused)})),e.on("mute",(()=>{t.setMuted(!0),e.emit("mute")})),e.on("unmute",(()=>{t.setMuted(!1),e.emit("unmute")})),e.on("setVolume",(i=>{t.setVolume(i/100),e.emit("setVolume")})),e.on("getVolume",(e=>{e(100*t.volume)})),e.on("getMuted",(e=>{e(t.muted)})),e.on("setCurrentTime",(i=>{t.setCurrentTime(i),e.emit("setLoop")})),e.on("getCurrentTime",(e=>{e(t.currentTime)})),e.on("setLoop",(i=>{t.loop=i,e.emit("setLoop")})),e.on("getLoop",(e=>{e(t.loop)})),e.on("getDuration",(e=>{e(t.duration)})),e.on("ended",(()=>{e.emit("ended")})),e.ready()},Ht=class{constructor(e){var t,i;de(this,tt),de(this,nt),de(this,rt),de(this,at),this.element=e,this.marqueeTitle=this.element.querySelector('[data-marquee="title"]'),this.containerWidth=null==(t=this.element.querySelector('[data-marquee="wrapper"]'))?void 0:t.offsetWidth,this.textWidth=null==(i=this.element.querySelector('[data-marquee="title"]'))?void 0:i.offsetWidth,this.titleText=this.marqueeTitle.innerHTML,he(this,tt,it).call(this)}scroll(){this.containerWidth&&this.containerWidth<this.textWidth&&(this.marqueeTitle.classList.contains("paused")?he(this,rt,ot).call(this):he(this,nt,st).call(this))}pause(){this.marqueeTitle&&this.marqueeTitle.classList.add("paused")}stop(){this.marqueeTitle&&(this.marqueeTitle.classList.remove("scroll-marquee"),this.marqueeTitle.classList.remove("paused"))}};tt=new WeakSet,it=function(){const e=(this.containerWidth+this.textWidth)/50;this.marqueeTitle.style.setProperty("--marquee-speed",`${e}s`)},nt=new WeakSet,st=function(){setTimeout((()=>{this.marqueeTitle.innerHTML=ce(this,at,lt),this.marqueeTitle.classList.add("scroll-marquee")}),3e3)},rt=new WeakSet,ot=function(){this.marqueeTitle.classList.remove("paused")},at=new WeakSet,lt=function(){return this.scrollingTextContent=this.titleText+this.titleText};var _t=class extends et{constructor(){super(...arguments),de(this,ut),de(this,dt),de(this,pt),de(this,ft),de(this,vt),de(this,bt),de(this,Tt),de(this,kt),de(this,Mt),de(this,xt),de(this,jt),de(this,Ot),de(this,Pt),de(this,Bt),de(this,It),de(this,$t),de(this,Ut)}connect(){window.receiver=new Qe.default.Receiver,this.player=he(this,ut,ct).call(this),qt(window.receiver,this.audio),window.dispatchEvent(new Event("resize")),he(this,dt,ht).call(this),"wave"===this.styleValue&&(he(this,Bt,Vt).call(this),this.marquee=new Ht(this.element))}togglePlay(e){this.audio.paused?this.play():this.pause()}showChapterWindow(e){e.preventDefault(),this.element.querySelector(".window__chapters.window").classList.add("window--open")}hideChapterWindow(e){this.element.querySelector(".window__chapters.window").classList.add("window--open")}startAtChapterTime(e){e.preventDefault(),this.audio.currentTime=e.currentTarget.getAttribute("data-chapter-start-time"),this.element.querySelector(".window__chapters.window").classList.remove("window--open"),this.element.querySelector(".window__overlay-controls, .gradient-scrolling-indicator").classList.add("hide"),this.audio.play()}changeSpeed(e){const t=e.currentTarget;he(this,ft,gt).call(this,t)}rewind(e){this.audio.currentTime-=15}forward(e){this.audio.currentTime+=30}stopMarquee(){var e;null==(e=this.marquee)||e.stop()}get episodeId(){return this.audio.getAttribute("data-episode-id")}get duration(){return this.audio.dataset.duration}};ut=new WeakSet,ct=function(){return new MediaElementPlayer(this.audio,{duration:this.audio.dataset.duration,startVolume:1,timeFormat:this.audio.dataset.duration<3600?"mm:ss":"hh:mm:ss",features:this.featuresValue,success:()=>{setTimeout((()=>{var e,t;null==(e=this.element.querySelector("[aria-valuemax='NaN']"))||e.setAttribute("aria-valuemax",this.audio.dataset.duration),null==(t=this.element.querySelector('[role="application"]'))||t.removeAttribute("role");const i=new CustomEvent("media-player:canplay",{bubbles:!0});this.element.dispatchEvent(i)}),100)}})},dt=new WeakSet,ht=function(){he(this,pt,mt).call(this),he(this,vt,yt).call(this),he(this,kt,St).call(this),he(this,Mt,At).call(this),he(this,xt,Ct).call(this),he(this,jt,Ft).call(this),he(this,Ot,Nt).call(this),he(this,Pt,Lt).call(this)},pt=new WeakSet,mt=function(){this.element.addEventListener("click",(e=>{e.target.hasAttribute("data-chapter-start-time")&&(e.preventDefault(),this.audio.currentTime=e.target.dataset.chapterStartTime,this.audio.play(),this.element.querySelector(".window__chapters.window").classList.remove("window--open"),this.element.querySelector(".window__overlay-controls, .gradient-scrolling-indicator").classList.add("hide"))}))},ft=new WeakSet,gt=function(e){e.classList.contains("icon-speed-1")?(console.log("speed 1",e),e.classList.remove("icon-speed-1"),e.classList.add("icon-speed-125"),this.audio.playbackRate=1.25):e.classList.contains("icon-speed-125")?(e.classList.remove("icon-speed-125"),e.classList.add("icon-speed-15"),this.audio.playbackRate=1.5):e.classList.contains("icon-speed-15")?(e.classList.remove("icon-speed-15"),e.classList.add("icon-speed-2"),this.audio.playbackRate=2):(e.classList.remove("icon-speed-2"),e.classList.add("icon-speed-1"),this.audio.playbackRate=1)},vt=new WeakSet,yt=function(){const e=this.element.querySelector(".mejs-time-slider");e.addEventListener("mousedown",(()=>he(this,bt,wt).call(this))),e.addEventListener("mouseup",(()=>he(this,Tt,Et).call(this))),e.addEventListener("touchstart",(()=>he(this,bt,wt).call(this))),e.addEventListener("touchend",(()=>he(this,Tt,Et).call(this)))},bt=new WeakSet,wt=function(){0===this.audio.readyState?this.audio.preload=!0:(this.wasPlaying=!this.audio.paused,this.pause())},Tt=new WeakSet,Et=function(){this.wasPlaying&&this.play()},kt=new WeakSet,St=function(){this.element.querySelectorAll('[role="application"]').forEach((e=>{e.removeAttribute("role")}))},Mt=new WeakSet,At=function(){this.audio.addEventListener("play",(()=>{var e;window.parent.postMessage({name:"buzzsprout_player:play",episode_id:this.episodeId,duration:this.duration},"*"),window.receiver.emit("play"),Wt.setMetadata(this.audio),null==(e=this.marquee)||e.scroll(),ce(this,$t,Rt).classList.add("loading"),ce(this,$t,Rt).classList.add("is-playing"),ce(this,$t,Rt).setAttribute("title","Pause"),ce(this,$t,Rt).setAttribute("aria-label","Pause")}))},xt=new WeakSet,Ct=function(){this.audio.addEventListener("pause",(()=>{var e;Wt.updateArtwork(this.audio),window.parent.postMessage({name:"buzzsprout_player:pause",episode_id:this.episodeId},"*"),null==(e=this.marquee)||e.pause(),ce(this,$t,Rt).classList.remove("is-playing"),ce(this,$t,Rt).setAttribute("title","Play"),ce(this,$t,Rt).setAttribute("aria-label","Play")}))},jt=new WeakSet,Ft=function(){this.audio.addEventListener("timeupdate",(()=>{he(this,It,Dt).call(this),window.parent.postMessage({name:"buzzsprout_player:timeupdate",episode_id:this.audio.getAttribute("data-episode-id"),time:this.audio.currentTime},"*"),window.receiver.emit("timeupdate",{seconds:this.audio.currentTime,duration:this.audio.duration}),ce(this,$t,Rt).classList.remove("loading")}))},Ot=new WeakSet,Nt=function(){this.audio.addEventListener("ended",(()=>{var e;Wt.updateArtwork(this.audio),window.parent.postMessage({name:"buzzsprout_player:ended",episode_id:this.episodeId},"*"),window.receiver.emit("ended"),null==(e=this.marquee)||e.stop(),ce(this,$t,Rt).classList.remove("is-playing"),ce(this,$t,Rt).classList.remove("loading")}))},Pt=new WeakSet,Lt=function(){document.addEventListener("turbo:before-cache",(()=>{this.pause(),this.player.remove()}))},Bt=new WeakSet,Vt=function(){this.element.querySelector(".mejs-time-current").style.backgroundImage=`url('${this.waveColorUrlValue}')`},It=new WeakSet,Dt=function(){var e;if(ce(this,Ut,zt)&&this.hasArtworkTarget){let t=null==(e=ce(this,Ut,zt).querySelector(".chapter-image"))?void 0:e.src;t||(t=this.artworkTarget.getAttribute("data-original-url")),this.artworkTarget.style.backgroundImage=`url("${t}")`}else Wt.updateArtwork(this.audio)},$t=new WeakSet,Rt=function(){return this.hasPlayButtonTarget?this.playButtonTarget:this.element.querySelector(".mejs-playpause-button")},Ut=new WeakSet,zt=function(){return Array.from(this.element.querySelectorAll(`#episode_${this.episodeId} .window__chapter-row`)).reverse().find((e=>this.audio.currentTime>=e.dataset.chapterStartTime))},le(_t,"targets",["audio","playButton","artwork"]),le(_t,"values",{waveColorUrl:String,style:{type:String,default:"wave"},features:{type:Array,default:["playpause","progress","current","duration","tracks"]}}),window.Stimulus=He.start(),Stimulus.register("players--small",_t)})();
</script>

</body>
</html>
