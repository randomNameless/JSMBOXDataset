<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>static.min.html</title>
</head>
<body>
<script>window.__define = window.define;window.__require = window.require;window.define = undefined;window.require = undefined;(function() {;var define = undefined;var require = undefined;/*!
* Third-Party Software Licenses
*
* This software includes third-party libraries and components.
* Full license information for these can be found in our licenses file accessible at:
* https://ads.caroda.io/videoPlayer/LICENSES.txt
*
* We encourage all users of this library to review the licensing terms of the included third-party software.
*/;window.caroda = window.caroda || {};window.carodaPrebidIframeRunnerCode = "(function(exports,global){var commonjsGlobal=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}function arrayPush$2(e,a){for(var t=-1,r=a.length,s=e.length;++t<r;)e[s+t]=a[t];return e}var _arrayPush=arrayPush$2,freeGlobal$1=\"object\"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=\"object\"==typeof self&&self&&self.Object===Object&&self,root$8=freeGlobal||freeSelf||Function(\"return this\")(),_root=root$8,root$7=_root,Symbol$5=_root.Symbol,_Symbol=Symbol$5,Symbol$4=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$4?Symbol$4.toStringTag:void 0;function getRawTag$1(e){var a=hasOwnProperty$8.call(e,symToStringTag$1),t=e[symToStringTag$1];try{var r=!(e[symToStringTag$1]=void 0)}catch(e){}var s=nativeObjectToString$1.call(e);return r&&(a?e[symToStringTag$1]=t:delete e[symToStringTag$1]),s}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$1,Symbol$3=_Symbol,getRawTag=_getRawTag,objectToString=objectToString$1,nullTag=\"[object Null]\",undefinedTag=\"[object Undefined]\",symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag$5(e){return null==e?void 0===e?undefinedTag:nullTag:(symToStringTag&&symToStringTag in Object(e)?getRawTag:objectToString)(e)}var _baseGetTag=baseGetTag$5;function isObjectLike$5(e){return null!=e&&\"object\"==typeof e}var isObjectLike_1=isObjectLike$5,baseGetTag$4=_baseGetTag,isObjectLike$4=isObjectLike_1,argsTag$2=\"[object Arguments]\";function baseIsArguments$1(e){return isObjectLike$4(e)&&baseGetTag$4(e)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=baseIsArguments$1,isObjectLike$3=isObjectLike_1,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$3(e)&&hasOwnProperty$7.call(e,\"callee\")&&!propertyIsEnumerable$1.call(e,\"callee\")},isArguments_1=isArguments$3,isArray$a=Array.isArray,isArray_1=isArray$a,Symbol$2=_Symbol,isArguments$2=isArguments_1,isArray$9=isArray_1,spreadableSymbol=_Symbol?_Symbol.isConcatSpreadable:void 0;function isFlattenable$1(e){return isArray$9(e)||isArguments$2(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=isFlattenable$1;function baseFlatten$1(e,a,t,r,s){var o=-1,i=e.length;for(t=t||isFlattenable,s=s||[];++o<i;){var n=e[o];0<a&&t(n)?1<a?baseFlatten$1(n,a-1,t,r,s):arrayPush$1(s,n):r||(s[s.length]=n)}return s}var _baseFlatten=baseFlatten$1;function arrayMap$2(e,a){for(var t=-1,r=null==e?0:e.length,s=Array(r);++t<r;)s[t]=a(e[t],t,e);return s}var _arrayMap=arrayMap$2;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(e,a){return e===a||e!=e&&a!=a}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(e,a){for(var t=e.length;t--;)if(eq$1(e[t][0],a))return t;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var a=this.__data__,t=assocIndexOf$3(a,e);return!(t<0)&&(t==a.length-1?a.pop():splice.call(a,t,1),--this.size,!0)}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var a=this.__data__,t=assocIndexOf$2(a,e);return t<0?void 0:a[t][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return-1<assocIndexOf$1(this.__data__,e)}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,a){var t=this.__data__,r=assocIndexOf(t,e);return r<0?(++this.size,t.push([e,a])):t[r][1]=a,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=listCacheDelete$1,listCacheGet=listCacheGet$1,listCacheHas=listCacheHas$1,listCacheSet=listCacheSet$1;function ListCache$4(e){var a=-1,t=null==e?0:e.length;for(this.clear();++a<t;){var r=e[a];this.set(r[0],r[1])}}ListCache$4.prototype.clear=listCacheClear,ListCache$4.prototype.delete=listCacheDelete,ListCache$4.prototype.get=listCacheGet,ListCache$4.prototype.has=listCacheHas,ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(e){var a=this.__data__,t=a.delete(e);return this.size=a.size,t}var _stackDelete=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas=stackHas$1;function isObject$3(e){var a=typeof e;return null!=e&&(\"object\"==a||\"function\"==a)}var isObject_1=isObject$3,baseGetTag$3=_baseGetTag,isObject$2=isObject_1,asyncTag=\"[object AsyncFunction]\",funcTag$1=\"[object Function]\",genTag=\"[object GeneratorFunction]\",proxyTag=\"[object Proxy]\";function isFunction$2(e){if(!isObject$2(e))return!1;var a=baseGetTag$3(e);return a==funcTag$1||a==genTag||a==asyncTag||a==proxyTag}var isFunction_1=isFunction$2,root$6=_root,coreJsData$1=_root[\"__core-js_shared__\"],_coreJsData=coreJsData$1,coreJsData=coreJsData$1,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||\"\");return e?\"Symbol(src)_1.\"+e:\"\"}();function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(e){if(null!=e){try{return funcToString$1.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$1=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\\\^$.*+?()[\\]{}|]/g,reIsHostCtor=/^\\[object .+?Constructor\\]$/,funcProto=Function.prototype,objectProto$8=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$8.hasOwnProperty,reIsNative=RegExp(\"^\"+funcToString.call(hasOwnProperty$6).replace(reRegExpChar,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");function baseIsNative$1(e){return!(!isObject$1(e)||isMasked(e))&&(isFunction$1(e)?reIsNative:reIsHostCtor).test(toSource$1(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,a){return null==e?void 0:e[a]}var _getValue=getValue$1,baseIsNative=baseIsNative$1,getValue=getValue$1;function getNative$6(e,a){var t=getValue(e,a);return baseIsNative(t)?t:void 0}var _getNative=getNative$6,getNative$5=_getNative,root$5=_root,Map$3=_getNative(_root,\"Map\"),_Map=Map$3,getNative$4=_getNative,nativeCreate$4=_getNative(Object,\"create\"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var a=this.has(e)&&delete this.__data__[e];return this.size-=a?1:0,a}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2=\"__lodash_hash_undefined__\",objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashGet$1(e){var a,t=this.__data__;return nativeCreate$2?(a=t[e])===HASH_UNDEFINED$2?void 0:a:hasOwnProperty$5.call(t,e)?t[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$6=Object.prototype,hasOwnProperty$4=objectProto$6.hasOwnProperty;function hashHas$1(e){var a=this.__data__;return nativeCreate$1?void 0!==a[e]:hasOwnProperty$4.call(a,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1=\"__lodash_hash_undefined__\";function hashSet$1(e,a){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=nativeCreate&&void 0===a?HASH_UNDEFINED$1:a,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=hashHas$1,hashSet=hashSet$1;function Hash$1(e){var a=-1,t=null==e?0:e.length;for(this.clear();++a<t;){var r=e[a];this.set(r[0],r[1])}}Hash$1.prototype.clear=hashClear,Hash$1.prototype.delete=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=Hash$1,ListCache$2=_ListCache,Map$2=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var a=typeof e;return\"string\"==a||\"number\"==a||\"symbol\"==a||\"boolean\"==a?\"__proto__\"!==e:null===e}var _isKeyable=isKeyable$1,isKeyable=isKeyable$1;function getMapData$4(e,a){var t=e.__data__;return isKeyable(a)?t[\"string\"==typeof a?\"string\":\"hash\"]:t.map}var _getMapData=getMapData$4,getMapData$3=getMapData$4;function mapCacheDelete$1(e){var a=getMapData$3(this,e).delete(e);return this.size-=a?1:0,a}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=getMapData$4;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=getMapData$4;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=getMapData$4;function mapCacheSet$1(e,a){var t=getMapData(this,e),r=t.size;return t.set(e,a),this.size+=t.size==r?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=mapCacheClear$1,mapCacheDelete=mapCacheDelete$1,mapCacheGet=mapCacheGet$1,mapCacheHas=mapCacheHas$1,mapCacheSet=mapCacheSet$1;function MapCache$3(e){var a=-1,t=null==e?0:e.length;for(this.clear();++a<t;){var r=e[a];this.set(r[0],r[1])}}MapCache$3.prototype.clear=mapCacheClear,MapCache$3.prototype.delete=mapCacheDelete,MapCache$3.prototype.get=mapCacheGet,MapCache$3.prototype.has=mapCacheHas,MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$1=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(e,a){var t=this.__data__;if(t instanceof ListCache$1){var r=t.__data__;if(!Map$1||r.length<LARGE_ARRAY_SIZE-1)return r.push([e,a]),this.size=++t.size,this;t=this.__data__=new MapCache$2(r)}return t.set(e,a),this.size=t.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=stackSet$1;function Stack$2(e){var a=this.__data__=new ListCache(e);this.size=a.size}Stack$2.prototype.clear=stackClear,Stack$2.prototype.delete=stackDelete,Stack$2.prototype.get=stackGet,Stack$2.prototype.has=stackHas,Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED=\"__lodash_hash_undefined__\";function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=setCacheAdd$1,setCacheHas=setCacheHas$1;function SetCache$1(e){var a=-1,t=null==e?0:e.length;for(this.__data__=new MapCache$1;++a<t;)this.add(e[a])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd,SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(e,a){for(var t=-1,r=null==e?0:e.length;++t<r;)if(a(e[t],t,e))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(e,a){return e.has(a)}var _cacheHas=cacheHas$1,SetCache=SetCache$1,arraySome=arraySome$1,cacheHas=cacheHas$1,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(e,a,t,r,s,o){var i=t&COMPARE_PARTIAL_FLAG$5,n=e.length,c=a.length;if(n!=c&&!(i&&n<c))return!1;var c=o.get(e),l=o.get(a);if(c&&l)return c==a&&l==e;var u=-1,p=!0,b=t&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(o.set(e,a),o.set(a,e);++u<n;){var d,$=e[u],g=a[u];if(void 0!==(d=r?i?r(g,$,u,a,e,o):r($,g,u,e,a,o):d)){if(d)continue;p=!1;break}if(b){if(!arraySome(a,function(e,a){if(!cacheHas(b,a)&&($===e||s($,e,t,r,o)))return b.push(a)})){p=!1;break}}else if($!==g&&!s($,g,t,r,o)){p=!1;break}}return o.delete(e),o.delete(a),p}var _equalArrays=equalArrays$2,root$4=_root,Uint8Array$1=_root.Uint8Array,_Uint8Array=Uint8Array$1;function mapToArray$1(e){var t=-1,r=Array(e.size);return e.forEach(function(e,a){r[++t]=[a,e]}),r}var _mapToArray=mapToArray$1;function setToArray$1(e){var a=-1,t=Array(e.size);return e.forEach(function(e){t[++a]=e}),t}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array=Uint8Array$1,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=mapToArray$1,setToArray=setToArray$1,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$1=\"[object Boolean]\",dateTag$1=\"[object Date]\",errorTag$1=\"[object Error]\",mapTag$2=\"[object Map]\",numberTag$1=\"[object Number]\",regexpTag$1=\"[object RegExp]\",setTag$2=\"[object Set]\",stringTag$1=\"[object String]\",symbolTag$1=\"[object Symbol]\",arrayBufferTag$1=\"[object ArrayBuffer]\",dataViewTag$2=\"[object DataView]\",symbolProto$1=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag$1(e,a,t,r,s,o,i){switch(t){case dataViewTag$2:if(e.byteLength!=a.byteLength||e.byteOffset!=a.byteOffset)return!1;e=e.buffer,a=a.buffer;case arrayBufferTag$1:return e.byteLength==a.byteLength&&o(new Uint8Array(e),new Uint8Array(a))?!0:!1;case boolTag$1:case dateTag$1:case numberTag$1:return eq(+e,+a);case errorTag$1:return e.name==a.name&&e.message==a.message;case regexpTag$1:case stringTag$1:return e==a+\"\";case mapTag$2:var n=mapToArray;case setTag$2:n=n||setToArray;if(e.size!=a.size&&!(r&COMPARE_PARTIAL_FLAG$4))return!1;var c=i.get(e);if(c)return c==a;r|=COMPARE_UNORDERED_FLAG$2,i.set(e,a);c=equalArrays$1(n(e),n(a),r,s,o,i);return i.delete(e),c;case symbolTag$1:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(a)}return!1}var _equalByTag=equalByTag$1,arrayPush=_arrayPush,isArray$8=isArray_1;function baseGetAllKeys$1(e,a,t){var r=a(e);return isArray$8(e)?r:arrayPush(r,t(e))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(e,a){for(var t=-1,r=null==e?0:e.length,s=0,o=[];++t<r;){var i=e[t];a(i,t,e)&&(o[s++]=i)}return o}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=arrayFilter$1,stubArray=stubArray$1,objectProto$5=Object.prototype,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(a){return null==a?[]:(a=Object(a),arrayFilter(nativeGetSymbols(a),function(e){return propertyIsEnumerable.call(a,e)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(e,a){for(var t=-1,r=Array(e);++t<e;)r[t]=a(t);return r}var _baseTimes=baseTimes$1,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse,isBufferExports=(isBuffer$2.exports,!function(e,a){var t=a&&!a.nodeType&&a,r=t&&e&&!e.nodeType&&e,r=r&&r.exports===t?_root.Buffer:void 0,t=r?r.isBuffer:void 0;e.exports=t||stubFalse_1}(isBuffer$2,isBuffer$2.exports),isBuffer$2.exports),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\\d*)$/;function isIndex$2(e,a){var t=typeof e;return!!(a=null==a?MAX_SAFE_INTEGER$1:a)&&(\"number\"==t||\"symbol\"!=t&&reIsUint.test(e))&&-1<e&&e%1==0&&e<a}var _isIndex=isIndex$2,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(e){return\"number\"==typeof e&&-1<e&&e%1==0&&e<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$2=_baseGetTag,isLength$2=isLength_1,isObjectLike$2=isObjectLike_1,argsTag$1=\"[object Arguments]\",arrayTag$1=\"[object Array]\",boolTag=\"[object Boolean]\",dateTag=\"[object Date]\",errorTag=\"[object Error]\",funcTag=\"[object Function]\",mapTag$1=\"[object Map]\",numberTag=\"[object Number]\",objectTag$2=\"[object Object]\",regexpTag=\"[object RegExp]\",setTag$1=\"[object Set]\",stringTag=\"[object String]\",weakMapTag$1=\"[object WeakMap]\",arrayBufferTag=\"[object ArrayBuffer]\",dataViewTag$1=\"[object DataView]\",float32Tag=\"[object Float32Array]\",float64Tag=\"[object Float64Array]\",int8Tag=\"[object Int8Array]\",int16Tag=\"[object Int16Array]\",int32Tag=\"[object Int32Array]\",uint8Tag=\"[object Uint8Array]\",uint8ClampedTag=\"[object Uint8ClampedArray]\",uint16Tag=\"[object Uint16Array]\",uint32Tag=\"[object Uint32Array]\",typedArrayTags={};function baseIsTypedArray$1(e){return isObjectLike$2(e)&&isLength$2(e.length)&&!!typedArrayTags[baseGetTag$2(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(a){return function(e){return a(e)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}},_nodeUtilExports=(_nodeUtil.exports,!function(e,a){var t=a&&!a.nodeType&&a,r=t&&e&&!e.nodeType&&e,s=r&&r.exports===t&&_freeGlobal.process,t=function(){try{var e=r&&r.require&&r.require(\"util\").types;return e?e:s&&s.binding&&s.binding(\"util\")}catch(e){}}();e.exports=t}(_nodeUtil,_nodeUtil.exports),_nodeUtil.exports),baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=_nodeUtilExports&&_nodeUtilExports.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$1=isArguments_1,isArray$7=isArray_1,isBuffer$1=isBufferExports,isIndex$1=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(e,a){var t,r=isArray$7(e),s=!r&&isArguments$1(e),o=!r&&!s&&isBuffer$1(e),i=!r&&!s&&!o&&isTypedArray$1(e),n=r||s||o||i,c=n?baseTimes(e.length,String):[],l=c.length;for(t in e)!a&&!hasOwnProperty$3.call(e,t)||n&&(\"length\"==t||o&&(\"offset\"==t||\"parent\"==t)||i&&(\"buffer\"==t||\"byteLength\"==t||\"byteOffset\"==t)||isIndex$1(t,l))||c.push(t);return c}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(e){var a=e&&e.constructor;return e===(\"function\"==typeof a&&a.prototype||objectProto$3)}var _isPrototype=isPrototype$1;function overArg$1(a,t){return function(e){return a(t(e))}}var _overArg=overArg$1,overArg=overArg$1,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=nativeKeys$1,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys$1(e){if(!isPrototype(e))return nativeKeys(e);var a,t=[];for(a in Object(e))hasOwnProperty$2.call(e,a)&&\"constructor\"!=a&&t.push(a);return t}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$3(e){return null!=e&&isLength$1(e.length)&&!isFunction(e)}var isArrayLike_1=isArrayLike$3,arrayLikeKeys=_arrayLikeKeys,baseKeys=baseKeys$1,isArrayLike$2=isArrayLike_1;function keys$3(e){return(isArrayLike$2(e)?arrayLikeKeys:baseKeys)(e)}var keys_1=keys$3,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$2=keys_1;function getAllKeys$1(e){return baseGetAllKeys(e,keys$2,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=getAllKeys$1,COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects$1(e,a,t,r,s,o){var i=t&COMPARE_PARTIAL_FLAG$3,n=getAllKeys(e),c=n.length;if(c!=getAllKeys(a).length&&!i)return!1;for(var l=c;l--;){var u=n[l];if(!(i?u in a:hasOwnProperty$1.call(a,u)))return!1}var p=o.get(e),b=o.get(a);if(p&&b)return p==a&&b==e;for(var d=!0,$=(o.set(e,a),o.set(a,e),i);++l<c;){var g,y=e[u=n[l]],_=a[u];if(!(void 0===(g=r?i?r(_,y,u,a,e,o):r(y,_,u,e,a,o):g)?y===_||s(y,_,t,r,o):g)){d=!1;break}$=$||\"constructor\"==u}return d&&!$&&(p=e.constructor)!=(b=a.constructor)&&\"constructor\"in e&&\"constructor\"in a&&!(\"function\"==typeof p&&p instanceof p&&\"function\"==typeof b&&b instanceof b)&&(d=!1),o.delete(e),o.delete(a),d}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$3=_root,DataView$1=_getNative(_root,\"DataView\"),_DataView=DataView$1,getNative$2=_getNative,root$2=_root,Promise$2=_getNative(_root,\"Promise\"),_Promise=Promise$2,getNative$1=_getNative,root$1=_root,Set$1=_getNative(_root,\"Set\"),_Set=Set$1,getNative=_getNative,root=_root,WeakMap$1=_getNative(_root,\"WeakMap\"),_WeakMap=WeakMap$1,DataView=_DataView,Map=_Map,Promise$1=_Promise,Set=_Set,WeakMap=WeakMap$1,baseGetTag$1=_baseGetTag,toSource=_toSource,mapTag=\"[object Map]\",objectTag$1=\"[object Object]\",promiseTag=\"[object Promise]\",setTag=\"[object Set]\",weakMapTag=\"[object WeakMap]\",dataViewTag=\"[object DataView]\",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag$1=baseGetTag$1,_getTag=getTag$1=DataView&&getTag$1(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag$1(new Map)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set&&getTag$1(new Set)!=setTag||WeakMap&&getTag$1(new WeakMap)!=weakMapTag?function(e){var a=baseGetTag$1(e),t=a==objectTag$1?e.constructor:void 0,t=t?toSource(t):\"\";if(t)switch(t){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return a}:getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=getTag$1,isArray$6=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag=\"[object Arguments]\",arrayTag=\"[object Array]\",objectTag=\"[object Object]\",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep$1(e,a,t,r,s,o){var i=isArray$6(e),n=isArray$6(a),c=i?arrayTag:getTag(e),n=n?arrayTag:getTag(a),l=(c=c==argsTag?objectTag:c)==objectTag,u=(n=n==argsTag?objectTag:n)==objectTag,n=c==n;if(n&&isBuffer(e)){if(!isBuffer(a))return!1;l=!(i=!0)}if(n&&!l)return o=o||new Stack$1,i||isTypedArray(e)?equalArrays(e,a,t,r,s,o):equalByTag(e,a,c,t,r,s,o);if(!(t&COMPARE_PARTIAL_FLAG$2)){i=l&&hasOwnProperty.call(e,\"__wrapped__\"),c=u&&hasOwnProperty.call(a,\"__wrapped__\");if(i||c)return s(i?e.value():e,c?a.value():a,t,r,o=o||new Stack$1)}return!!n&&(o=o||new Stack$1,equalObjects(e,a,t,r,s,o))}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=baseIsEqualDeep$1,isObjectLike$1=isObjectLike_1;function baseIsEqual$2(e,a,t,r,s){return e===a||(null==e||null==a||!isObjectLike$1(e)&&!isObjectLike$1(a)?e!=e&&a!=a:baseIsEqualDeep(e,a,t,r,baseIsEqual$2,s))}var _baseIsEqual=baseIsEqual$2,Stack=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(e,a,t,r){var s=t.length,o=s,i=!r;if(null==e)return!o;for(e=Object(e);s--;){var n=t[s];if(i&&n[2]?n[1]!==e[n[0]]:!(n[0]in e))return!1}for(;++s<o;){var c=(n=t[s])[0],l=e[c],u=n[1];if(i&&n[2]){if(void 0===l&&!(c in e))return!1}else{var p,b=new Stack;if(!(void 0===(p=r?r(l,u,c,e,a,b):p)?baseIsEqual$1(u,l,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,r,b):p))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject=isObject_1;function isStrictComparable$2(e){return e==e&&!isObject(e)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$1=keys_1;function getMatchData$1(e){for(var a=keys$1(e),t=a.length;t--;){var r=a[t],s=e[r];a[t]=[r,s,isStrictComparable$1(s)]}return a}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(a,t){return function(e){return null!=e&&(e[a]===t&&(void 0!==t||a in Object(e)))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=baseIsMatch$1,getMatchData=getMatchData$1,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(a){var t=getMatchData(a);return 1==t.length&&t[0][2]?matchesStrictComparable$1(t[0][0],t[0][1]):function(e){return e===a||baseIsMatch(e,a,t)}}var _baseMatches=baseMatches$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag=\"[object Symbol]\";function isSymbol$3(e){return\"symbol\"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}var isSymbol_1=isSymbol$3,isArray$5=isArray_1,isSymbol$2=isSymbol_1,reIsDeepProp=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,reIsPlainProp=/^\\w*$/;function isKey$3(e,a){if(isArray$5(e))return!1;var t=typeof e;return!(\"number\"!=t&&\"symbol\"!=t&&\"boolean\"!=t&&null!=e&&!isSymbol$2(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=a&&e in Object(a))}var _isKey=isKey$3,MapCache=_MapCache,FUNC_ERROR_TEXT=\"Expected a function\";function memoize$1(r,s){if(\"function\"!=typeof r||null!=s&&\"function\"!=typeof s)throw new TypeError(FUNC_ERROR_TEXT);function o(){var e=arguments,a=s?s.apply(this,e):e[0],t=o.cache;return t.has(a)?t.get(a):(e=r.apply(this,e),o.cache=t.set(a,e)||t,e)}return o.cache=new(memoize$1.Cache||MapCache),o}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize$1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(e){var a=memoize(e,function(e){return t.size===MAX_MEMOIZE_SIZE&&t.clear(),e}),t=a.cache;return a}var _memoizeCapped=memoizeCapped$1,memoizeCapped=memoizeCapped$1,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,reEscapeChar=/\\\\(\\\\)?/g,stringToPath$1=memoizeCapped$1(function(e){var s=[];return 46===e.charCodeAt(0)&&s.push(\"\"),e.replace(rePropName,function(e,a,t,r){s.push(t?r.replace(reEscapeChar,\"$1\"):a||e)}),s}),_stringToPath=stringToPath$1,Symbol=_Symbol,arrayMap$1=_arrayMap,isArray$4=isArray_1,isSymbol$1=isSymbol_1,INFINITY$1=1/0,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString$1(e){if(\"string\"==typeof e)return e;if(isArray$4(e))return arrayMap$1(e,baseToString$1)+\"\";if(isSymbol$1(e))return symbolToString?symbolToString.call(e):\"\";var a=e+\"\";return\"0\"==a&&1/e==-INFINITY$1?\"-0\":a}var _baseToString=baseToString$1,baseToString=baseToString$1;function toString$1(e){return null==e?\"\":baseToString(e)}var toString_1=toString$1,isArray$3=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString=toString$1;function castPath$2(e,a){return isArray$3(e)?e:isKey$2(e,a)?[e]:stringToPath(toString(e))}var _castPath=castPath$2,isSymbol=isSymbol_1,INFINITY=1/0;function toKey$4(e){if(\"string\"==typeof e||isSymbol(e))return e;var a=e+\"\";return\"0\"==a&&1/e==-INFINITY?\"-0\":a}var _toKey=toKey$4,castPath$1=castPath$2,toKey$3=toKey$4;function baseGet$2(e,a){for(var t=0,r=(a=castPath$1(a,e)).length;null!=e&&t<r;)e=e[toKey$3(a[t++])];return t&&t==r?e:void 0}var _baseGet=baseGet$2,baseGet$1=baseGet$2;function get$1(e,a,t){var r=null==e?void 0:baseGet$1(e,a);return void 0===r?t:r}var get_1=get$1;function baseHasIn$1(e,a){return null!=e&&a in Object(e)}var _baseHasIn=baseHasIn$1,castPath=castPath$2,isArguments=isArguments_1,isArray$2=isArray_1,isIndex=_isIndex,isLength=isLength_1,toKey$2=toKey$4;function hasPath$1(e,a,t){for(var r=-1,s=(a=castPath(a,e)).length,o=!1;++r<s;){var i=toKey$2(a[r]);if(!(o=null!=e&&t(e,i)))break;e=e[i]}return o||++r!=s?o:!!(s=null==e?0:e.length)&&isLength(s)&&isIndex(i,s)&&(isArray$2(e)||isArguments(e))}var _hasPath=hasPath$1,baseHasIn=baseHasIn$1,hasPath=hasPath$1;function hasIn$1(e,a){return null!=e&&hasPath(e,a,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get$1,hasIn=hasIn$1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=toKey$4,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(t,r){return isKey$1(t)&&isStrictComparable(r)?matchesStrictComparable(toKey$1(t),r):function(e){var a=get(e,t);return void 0===a&&a===r?hasIn(e,t):baseIsEqual(r,a,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$1(e){return e}var identity_1=identity$1;function baseProperty$1(a){return function(e){return null==e?void 0:e[a]}}var _baseProperty=baseProperty$1,baseGet=baseGet$2;function basePropertyDeep$1(a){return function(e){return baseGet(e,a)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=baseProperty$1,basePropertyDeep=basePropertyDeep$1,isKey=_isKey,toKey=toKey$4;function property$1(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=baseMatchesProperty$1,identity=identity$1,isArray$1=isArray_1,property=property$1;function baseIteratee$1(e){return\"function\"==typeof e?e:null==e?identity:\"object\"==typeof e?isArray$1(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}var _baseIteratee=baseIteratee$1;function createBaseFor$1(c){return function(e,a,t){for(var r=-1,s=Object(e),o=t(e),i=o.length;i--;){var n=o[c?i:++r];if(!1===a(s[n],n,s))break}return e}}var _createBaseFor=createBaseFor$1,createBaseFor=createBaseFor$1,baseFor$1=createBaseFor$1(),_baseFor=baseFor$1,baseFor=baseFor$1,keys=keys_1;function baseForOwn$1(e,a){return e&&baseFor(e,a,keys)}var _baseForOwn=baseForOwn$1,isArrayLike$1=isArrayLike_1;function createBaseEach$1(o,i){return function(e,a){if(null==e)return e;if(!isArrayLike$1(e))return o(e,a);for(var t=e.length,r=i?t:-1,s=Object(e);(i?r--:++r<t)&&!1!==a(s[r],r,s););return e}}var _createBaseEach=createBaseEach$1,baseForOwn=baseForOwn$1,createBaseEach=createBaseEach$1,baseEach$1=createBaseEach$1(baseForOwn$1),_baseEach=baseEach$1,baseEach=baseEach$1,isArrayLike=isArrayLike_1;function baseMap$1(e,r){var s=-1,o=isArrayLike(e)?Array(e.length):[];return baseEach(e,function(e,a,t){o[++s]=r(e,a,t)}),o}var _baseMap=baseMap$1,arrayMap=_arrayMap,baseIteratee=_baseIteratee,baseMap=baseMap$1,isArray=isArray_1;function map$1(e,a){return(isArray(e)?arrayMap:baseMap)(e,baseIteratee(a))}var map_1=map$1,baseFlatten=_baseFlatten,map=map$1;function flatMap(e,a){return baseFlatten(map(e,a),1)}var AdUnitFormat,OpenRtbVideoProtocols,flatMap_1=flatMap,_flatMap=getDefaultExportFromCjs(flatMap),dataAsOf=\"2024-11-21T00:00:00.000Z\",generatedAt=\"2024-11-21T16:00:35.505Z\",conversions={USD:{USD:1,JPY:154.40813224396732,BGN:1.8580657419722593,CZK:24.07942238267148,DKK:7.086072582177466,GBP:.7911172335170055,HUF:389.98669960098806,PLN:4.12483374501235,RON:4.728291848755463,SEK:11.026980809424282,CHF:.8829564886946608,ISK:138.60915827474824,NOK:11.039331179935397,TRY:34.48204446133384,AUD:1.533441003230097,BRL:5.821489644689341,CAD:1.3965418962568876,CNY:7.2395971879156376,HKD:7.7827284818544555,IDR:15896.79840395212,ILS:3.7327569827094815,INR:84.4725441763253,KRW:1398.0619418582558,MXN:20.372791183735515,MYR:4.465038951168536,NZD:1.702831084932548,PHP:59.01197035911078,SGD:1.3437203116093484,THB:34.64468934068022,ZAR:18.077522325669772,EUR:.9500285008550257},GBP:{USD:1.2640351614568948,JPY:195.1773083712608,BGN:2.34866043015143,CZK:30.43723655926891,DKK:8.957044900507968,GBP:1,HUF:492.95690079617646,PLN:5.2139348888595345,RON:5.976727150456932,SEK:13.938491467822704,CHF:1.1160880477465687,ISK:175.2068497592257,NOK:13.954102770405774,TRY:43.58651663804595,AUD:1.9383233461025784,BRL:7.358567602944532,CAD:1.7652780613163932,CNY:9.151105400309826,HKD:9.837642453136072,IDR:20094.112137187327,ILS:4.718336075318531,INR:106.77626601659603,KRW:1767.1994524035401,MXN:25.751924393260722,MYR:5.643966231551644,NZD:2.1524383653765327,PHP:74.59320548076808,SGD:1.6985097210380318,THB:43.79210548437069,ZAR:22.85062385166861,EUR:1.2008694294669342}},currencyConversions={dataAsOf:dataAsOf,generatedAt:generatedAt,conversions:conversions};!function(e){e.BANNER=\"banner\",e.VIDEO=\"video\"}(AdUnitFormat=AdUnitFormat||{}),function(e){e[e.VAST_1_0=1]=\"VAST_1_0\",e[e.VAST_2_0=2]=\"VAST_2_0\",e[e.VAST_3_0=3]=\"VAST_3_0\",e[e.VAST_1_0_Wrapper=4]=\"VAST_1_0_Wrapper\",e[e.VAST_2_0_Wrapper=5]=\"VAST_2_0_Wrapper\",e[e.VAST_3_0_Wrapper=6]=\"VAST_3_0_Wrapper\",e[e.VAST_4_0=7]=\"VAST_4_0\",e[e.VAST_4_0_Wrapper=8]=\"VAST_4_0_Wrapper\",e[e.DAAST_1_0=9]=\"DAAST_1_0\",e[e.DAAST_1_0_Wrapper=10]=\"DAAST_1_0_Wrapper\"}(OpenRtbVideoProtocols=OpenRtbVideoProtocols||{});const defaultOpenRTBProtocols=[OpenRtbVideoProtocols.VAST_2_0,OpenRtbVideoProtocols.VAST_3_0,OpenRtbVideoProtocols.VAST_2_0_Wrapper,OpenRtbVideoProtocols.VAST_3_0_Wrapper,OpenRtbVideoProtocols.VAST_4_0,OpenRtbVideoProtocols.VAST_4_0_Wrapper];function isValidSize(e,a){const{allowedSizes:t,maxWidth:r,maxHeight:s}=a,[o,i]=e;var n=!t||t.some(e=>e[0]===o&&e[1]===i),c=!r||o<=r,l=!s||i<=s;return n&&c&&l}const PlcmtSubtypeValues={accompanyingContent:2,instream:1,interstitial:3,standalone:4},PREBID_AUCTION_TIMEOUT=3e3,currencies=currencyConversions[\"conversions\"],defaultMaxDuration=120,PrebidVideoPlacementTypes={INARTICLE:3,INBANNER:2,INFEED:4,INSTREAM:1,INTERSTITIAL:5},PrebidVideoPlaybackMethod={CLICK_WITH_SOUND_ON:3,MOUSE_OVER_SOUND_ON:4,PAGE_LOAD_SOUND_OFF:2,PAGE_LOAD_SOUND_ON:1,VIEWPORT_SOUND_OFF:6,VIEWPORT_SOUND_ON:5};function createWindowHelpers(a,t){var e=a.parent.carodaRenderWindow,e=(Object.assign(a,{auctionState:{resolve:()=>{a.logger.info(\"auctionState.resolve called early\"),a.auctionState.setResolve=e=>e()},setResolve:e=>{a.logger.info(\"auctionState.setResolve\",e),a.auctionState.resolve=e},trackingHooks:[],trackingHooksByRequestId:{}},device:{w:e.innerWidth,h:e.innerHeight},logger:{info:(...e)=>a.parent.carodaConsole.log(\"PrebidHelper\",\"processPrebidAuction\",\"iframe\",t,...e)},pbjs:a.pbjs||{},prebidFrameDocument:a.document,renderWindow:e,throwIfVastRepeated:a.frameElement.throwIfVastRepeated}),a.pbjs.que=a.pbjs.que||[],a.parent._pbjsGlobals);const r=e&&e.length&&a.parent[e[0]];r&&(a.parentPbjsConfig=r.getConfig())}function storeBidToAuctionState(t,e){t.winningBidder=e.bidder||e.bidderCode,t.vastXml=e.vastXml,t.vastUrl=e.vastUrl,t.bannerString=e.ad,t.winningRequestId=e.requestId,t.winningCpm=e.cpm,t.winningCurrency=e.currency,t.width=e.width,t.height=e.height,t.adId=e.adId,t.adserverTargeting=e.adserverTargeting;var a=e.vastImpUrl;var r=e=>!(a=>!!t.trackingHooks.find(({TrackingUrl:e})=>e===a.TrackingUrl))(e)&&t.trackingHooks.push(e);a&&r({TrackingUrl:a,VastEvent:\"impression\"}),t.trackingHooksByRequestId[t.winningRequestId].forEach(r)}function getAdUnits({logger:s,auctionState:a,renderWindow:e},t,o,r,i,n,c){s.info(\"getAdUnits\");const l=AdUnitFormat,u=i.playerWidth||c.maxWidth||640;var p=Math.floor(u*(9/16)),b=c.maxHeight||0;const d=Math.round(Math.max(i.playerHeight,p,b));p=i.maximumAdLength;const $=\"instream\"===n;var b=a=>{const t={...a.bid,carodaCid:a.cid,carodaCtok:a.ctok,carodaMinimumFloor:a.minimumPriceFloor,carodaSchain:a.schain,carodaTracking:a.trackingHooks};\"rubicon\"!==a.bid.bidder&&\"rubicon\"!==o[a.bid.bidder]||!t.params.video||(t.params.video.size_id=$?201:203);var r=\"caroda\"===a.bid.bidder||\"caroda\"===o[a.bid.bidder];if(r&&\"test\"===(null==(r=a.bid.params)?void 0:r.placementId)){let e=a.bid.params.allocationPercentage;null!==e&&void 0!==e?e:e=50;r=100*Math.random()<e;return s.info(\"getAdUnits\",\"test caroda bid\",{isAllocated:r}),r?t:null}return t},g=[...r.filter(e=>-1!==e.adUnitFormats.indexOf(l.VIDEO)).map(b).filter(Boolean)].filter(e=>\"teads\"!==e.bidder),y={render:e=>{s.info(\"getAdUnits\",\"adUnit.renderer.render\",{highestCpmBid:e}),storeBidToAuctionState(a,e)},url:\"data://data:text/html,\"},_=$?PrebidVideoPlacementTypes.INSTREAM:PrebidVideoPlacementTypes.INARTICLE,h=$?PlcmtSubtypeValues.instream:PlcmtSubtypeValues.standalone,f=[...$?[PrebidVideoPlaybackMethod.CLICK_WITH_SOUND_ON]:[],PrebidVideoPlaybackMethod.VIEWPORT_SOUND_OFF];const m=[{bids:g,code:t,mediaTypes:{video:{api:[2],context:n,h:Math.round(d/e.devicePixelRatio),linearity:1,maxbitrate:29494983,maxduration:p||defaultMaxDuration,mimes:[\"video/mp4\",\"video/x-ms-wmv\",\"video/webm\",\"application/javascript\",\"video/ogg\"],minbitrate:104,minduration:5,placement:_,playbackmethod:f,playerSize:[[u,d]],plcmt:h,protocols:defaultOpenRTBProtocols,skip:$?1:0,useCacheKey:!1,w:Math.round(u/e.devicePixelRatio)}},renderer:y}];g=[...r.filter(e=>-1!==e.adUnitFormats.indexOf(l.BANNER)||\"teads\"===e.bid.bidder).filter(e=>\"r2b2\"!==e.bid.bidder).map(b).filter(Boolean)];return m.push({bids:g,code:t,mediaTypes:{banner:{sizes:unique([[u,d],[250,250],[200,200],[468,60],[728,90],[300,250],[300,300],[480,300],[480,480],[336,280],[970,90],...(null==c?void 0:c.allowedSizes)||[]]).filter(([e,a])=>e<=u&&a<=d).filter(([e,a])=>isValidSize([e,a],c))}},renderer:y}),s.info(\"getAdUnits\",m),m}function unique(e){const r=e=>JSON.stringify(e);return e.filter((e,a,t)=>!t.slice(a+1).map(r).includes(r(e)))}function getFloorConfig({integrationConfig:e,logger:a},t){a.info(\"getFloorConfig\");const r=e.conditionalPrebidFloorConfiguration();var s=r&&r(t);if(s)return a.info(\"getFloorConfig\",{integrationFloorConfig:s}),s;var s=e=>e.reduce((e,a)=>e=Math.max(a.carodaMinimumFloor,e),0),s=Math.max(s(t[1]&&t[1].bids||[]),s(t[0].bids)),s={banner:s,video:s};return s.video||s.banner?(a.info(\"getFloorConfig\",{floorConfig:s={data:{currency:\"EUR\",schema:{fields:[\"mediaType\"]},values:s},enforcement:{enforceJS:!0,floorDeals:!0}}}),s):void 0}function processPbjs({auctionState:r,device:e,integrationConfig:a,logger:t,parent:s,parentDomain:o,parentPageUrl:i,parentPbjsConfig:n,pbjs:c,prebidFrameDocument:l,privacy:u,renderWindow:p,throwIfVastRepeated:b,transparentPrebidDebug:d},$,g,y,_,h){if(!c||!c.setConfig||!_)return r.error=_?new Error(\"window.pbjs missing\"):new Error(\"auction exceeded campaign timeout\"),void r.resolve();var f=u.tcf().responseObject,m=u.usp().responseObject,T=n&&n.userSync||{},v=n?n.cache:{url:\"https://prebid.adnxs.com/pbc/v1/cache\"};const A={consentManagement:f&&{gdpr:{cmpApi:\"static\",consentData:{getTCData:f}},usp:m&&{cmpApi:\"static\",consentData:{getUSPData:{uspString:m}}}},currency:{adServerCurrency:\"EUR\",defaultRates:currencies},debug:d,device:e,ortb2:{device:{...e,lmt:0,ua:navigator.userAgent},site:{domain:o,mobile:\"mobile\"===s.carodaTargetingProfile.device?1:0,page:i,ref:p.document.referrer,keywords:null==(f=a.prebidSiteKeywords())?void 0:f()},user:{}},pageUrl:i,...getSchainConfig(a),...a.prebidConfigExtension()};g&&(A.floors=g),A.userSync={filterSettings:{iframe:{bidders:\"*\",filter:\"include\"},...T.filterSettings||{}},...T},v&&(A.cache=v),c.setConfig(A),t.info(\"processPbjs\",\"set config\",A),setBidderSchainConfig(c,$,t,a);for(const C of a.prebidBidderSpecificConfig())C.bidders=C.bidders.map(e=>/lupon/.test(e)?\"luponmedia\":e),t.info(\"processPbjs\",\"set specific config\",C),c.setBidderConfig(C);$=a.prebidBidderModifyAdUnits()($,h),c.addAdUnits($),t.info(\"processPbjs\",\"added adUnits\",$);const S=e=>{t.info(\"processPbjs\",\"prebid auctionEnd\",{auction:e}),e.bidderRequests.forEach(e=>{t.info(\"processPbjs\",\"prebid bidderDone\",{bidder:e}),e.bids.forEach(e=>{var a=e.bidId,t=e.carodaTracking;r.trackingHooksByRequestId[a]=t})}),c.offEvent(\"auctionEnd\",S),r.error||r.resolve()};c.onEvent(\"auctionEnd\",S),c.requestBids({bidsBackHandler:e=>processPbjsBackHandler({auctionState:r,integrationConfig:a,logger:t,pbjs:c,prebidFrameDocument:l,throwIfVastRepeated:b},$[0].code,e,y),timeout:Math.min(PREBID_AUCTION_TIMEOUT,_)})}function getSchainConfig(e){const a=[...e.prebidSchainNodes()||[]];var{asi:t,sid:r,hp:s}=e.integrationRecord().ownershipSchainNode||{};return t&&r&&s&&a.push({asi:t,sid:r,hp:s}),0===a.length?{}:{schain:{config:{complete:1,nodes:a,ver:\"1.0\"},validation:\"strict\"}}}function setBidderSchainConfig(r,e,s,o){const i={};_flatMap(e,e=>e.bids).forEach(e=>{const a=(null==(t=null==(t=null==(t=getSchainConfig(o))?void 0:t.schain)?void 0:t.config)?void 0:t.nodes)||[];var t=a.concat(e.carodaSchain.nodes||[]).filter(Boolean);t&&0!==t.length&&(t=getSchainConfigLayout(t),t=getBidderConfig(e.bidder,t),s.info(\"setBidderSchainConfig\",\"setting schain\",{bidderConfig:t,bidder:e.bidder}),r.setBidderConfig(t),void 0===i[e.bidder]?i[e.bidder]=!0:s.info(\"setBidderSchainConfig\",\"bidder already set; config will be overriden by\",{bidderConfig:t,bidder:e.bidder}))})}function getSchainConfigLayout(e){return{config:{complete:1,nodes:e,ver:\"1.0\"},validation:\"strict\"}}function getBidderConfig(e,a){return{bidders:[e],config:{schain:a}}}function processPbjsBackHandler({logger:t,auctionState:a,integrationConfig:e,pbjs:r,prebidFrameDocument:s,throwIfVastRepeated:o},i,n,c){const l=e.filterPrebidBids();try{if(!n)throw new Error(\"no bid responses\");if(!n[i])throw new Error(\"no bid responses for position\");const p=n[i].bids,b=(t.info(\"processPbjsBackHandler\",{currentBids:p}),p.filter(a=>{try{if(!isValid(a,t))throw new Error(\"invalid bid\");if(l&&!l(a))throw new Error(\"bid filtered out by custom rule\");if(a.ad)return!0;if(a.vastXml||a.vastUrl)return c&&o(c,a.vastXml||a.vastUrl),!0;throw new Error(\"no creative found\")}catch(e){return t.info(\"processPbjsBackHandler\",\"rejected bid\",a,e),!1}}).map(e=>toRenderableBid(a,e,t)));var u=b.map(e.prebidBidResponseModifier()).reduce((e,a)=>!e||Number(a.cpm)>Number(e.cpm)?a:e,null);if(t.info(\"processPbjsBackHandler\",{currentBids:p,newBids:b,highestCpmBid:u}),!u)throw new Error(\"no new creatives\");storeBidToAuctionState(a,u),r.renderAd(s,u.adId)}catch(e){t.info(\"processPbjsBackHandler\",e.message),a.error=e,a.resolve()}}function registerAliases({logger:e,pbjs:a},t,r){e.info(\"registerAliases\",\"setting aliases\",t),Object.keys(t).forEach(e=>a.aliasBidder(t[e],e)),r.filter(({bid:e})=>\"luponmedia\"!==e.bidder).forEach(({bid:e})=>{e.bidder=e.alias||e.bidder})}function getAliasToBidder(e){return e.filter(({bid:e})=>\"luponmedia\"!==e.bidder).filter(({bid:e})=>e.alias).reduce((e,{bid:a})=>({...e,[a.alias]:a.bidder}),{})}function runIframePrebid(e,a,t,r,s,o,i,n,c){createWindowHelpers(e,a),e.logger.info(\"runIframePrebid\");var l=getAliasToBidder(t),l=(registerAliases(e,l,t),getAdUnits(e,a,l,t,r,i,c));processPbjs(e,l,getFloorConfig(e,l),s,o,n)}function isValid(a,t){try{if(!(\"banner\"===a.mediaType))return!0;var e=tryToParseJson(a.ad),r=e&&isJsonWithRawScript(e);return!e||r}catch(e){return t.info(\"isValid\",a,e),!0}}function toRenderableBid(e,a,t){var r,s;try{if(!(\"banner\"===a.mediaType))return a;var o=tryToParseJson(a.ad);if(!o||!isJsonWithRawScript(o))return a;var i=o.ad.impUrls;return i&&(null==(r=e.trackingHooksByRequestId)[s=a.requestId]&&(r[s]=[]),e.trackingHooksByRequestId[a.requestId].push({TrackingUrl:i,VastEvent:\"impression\"})),{...a,ad:o.ad.creativeScriptRAW}}catch(e){return t.info(\"toRenderableBid\",a,e),a}}function tryToParseJson(e){try{return JSON.parse(e)}catch(e){return null}}function isJsonWithRawScript(e){var a;return!(null==(a=e.ad)||!a.creativeScriptRAW)}Object.assign(window,{createWindowHelpers:createWindowHelpers,getAdUnits:getAdUnits,getFloorConfig:getFloorConfig,processPbjs:processPbjs,processPbjsBackHandler:processPbjsBackHandler,runIframePrebid:runIframePrebid,storeBidToAuctionState:storeBidToAuctionState});})(window, window)";window.carodaPrebidAdapterBannerRendererHelpersCode = "(function(exports,global){const VastToTeadsEventName={click_tracking:\"AdClickThru\",complete:\"AdVideoComplete\",first_quartile:\"AdVideoFirstQuartile\",impression:\"AdImpression\",loaded:\"AdLoaded\",midpoint:\"AdVideoMidpoint\",start:\"AdVideoStart\",third_quartile:\"AdVideoThirdQuartile\"},TeadsToVastEventName=Object.keys(VastToTeadsEventName).reduce((e,t)=>({...e,[VastToTeadsEventName[t]]:t}),{});class TeadsLogMonitor{constructor({w:e,logger:t}){var i;this.ended=!1,this.logger=t,this.logger.info(\"TeadsLogMonitor\",\".constructor\",e),this.loggingWindow=e,this.teadsLogs=[],this.onEvent={},this.initialLogOffset=(null==(i=null==(i=e.teads)?void 0:i.FULL_LOGS)?void 0:i.length)||0,this.logger.info(\"TeadsLogMonitor\",\".constructor\",\"initialLogOffset\",this.initialLogOffset)}on(e,t){this.onEvent[e]=this.onEvent[e]||[],this.onEvent[e].push(t)}async processLogEvents(){if(!this.ended){var e=this.loggingWindow;const a=e.teads&&e.teads.FULL_LOGS;if(a){var e=this.initialLogOffset+this.teadsLogs.length,t=a.slice(e).map(e=>e.message);this.logger.info(\"TeadsLogMonitor\",\".processLogEvents\",\"newLogs\",{newLogs:t,offset:e});for(const r of t){if(this.logger.info(\"TeadsLogMonitor\",\".processLogEvents\",r),r.match(/player.plugin.Tracker/)){var i=r.match(/\\[player.plugin.Tracker\\]\\s*([^\\s]+)/),i=i&&i[1];const c=this.onEvent[TeadsToVastEventName[i]];c&&c.forEach(e=>e())}if(r.match(/\"adType\":\"/)){var i=r.match(/\"adType\":\"([^\"]+)\"/),n=r.match(/\"type\":\"NativeNurl\"/),o=r.match(/\"type\":\"NativeJson\"/),s=r.match(/\"type\":\"CarouselNurl\"/);const g=n||o||s?\"native\":i&&i[1],d=this.onEvent.adType;g&&d&&d.forEach(e=>e(g))}if(r.match(/no.passback.to.exec/))throw new Error(\"No ad\")}this.teadsLogs.push(...t)}await new Promise((e,t)=>setTimeout(()=>this.processLogEvents().then(e,t),500))}}stopProcessing(){this.logger.info(\"TeadsLogMonitor\",\".stopProcessing\"),this.ended=!0}}async function handleTracking(e){log(\"handleTracking\",{trackingUrls:e}),await waitForDocumentVisible(),log(\"handleTracking\",\"document is visible\");for(const t of e)triggerTracking(t)}async function handleTeadsTracking(e,t){var i={info:(...e)=>log(\"TeadsLogMonitor\",...e)};const n=new TeadsLogMonitor({logger:i,w:window});n.on(\"impression\",()=>triggerTracking(t)),e.forEach(({event:e,trackingUrl:t})=>n.on(e,()=>triggerTracking(t))),await n.processLogEvents()}async function waitForDocumentVisible(){try{return waitFor(window.$sf?isSafeFrameVisible:isFriendlyFrameVisible)}catch(e){log(\"waitForDocumentVisible\",e)}}async function waitFor(i){return new Promise(e=>{const t=setInterval(()=>{i()&&(clearInterval(t),e())},100)})}function isSafeFrameVisible(){const e=window;return 50<e.$sf.ext.inViewPercentage()}function isFriendlyFrameVisible(){const e=window;var t=e.frameElement.getBoundingClientRect(),i=e.parent.innerHeight;return!(!t.height&&!t.width)&&(t.top>=-t.height/2&&t.bottom<=i+t.height/2)}function triggerTracking(e){const t=new Image;var i=uncacheUrl(e);log(\"triggerTracking\",i),t.src=i}function uncacheUrl(e){var t=0<=e.indexOf(\"?\")?\"&\":\"?\";return e+t+\"uncache=\"+Math.floor(1e6*Math.random())}function log(...e){console.log(\"CARODA\",\"BannerRendererHelper\",...e)}exports.handleTeadsTracking=handleTeadsTracking,exports.handleTracking=handleTracking;})(window, window)";window.carodaMainCss="@charset \"UTF-8\";\n:root {\n  --caroda-horizontal-aspect-ratio-percentage: 56.25%;\n  --caroda-horizontal-with-banner-aspect-ratio-percentage: 71.8%;\n  --caroda-horizontal-4-3-aspect-ratio-percentage: 75%;\n  --caroda-vertical-aspect-ratio-percentage: 177.78%;\n  --caroda-vertical-3-4-aspect-ratio-percentage: 133.33%;\n  --caroda-square-aspect-ratio-percentage: 100%;\n  --advertising-label-height: 20px;\n  --caroda-advertising-label-color: #333;\n  --caroda-font-family: Arial, Helvetica, sans-serif;\n  --caroda-slider-background-color: black; }\n\n.carodaSafeFrame * {\n  --caroda-horizontal-aspect-ratio-percentage: 100vh;\n  --caroda-horizontal-with-banner-aspect-ratio-percentage: 100vh;\n  --caroda-horizontal-4-3-aspect-ratio-percentage: 100vh;\n  --caroda-vertical-aspect-ratio-percentage: 100vh;\n  --caroda-vertical-3-4-aspect-ratio-percentage: 100vh;\n  --caroda-square-aspect-ratio-percentage: 100vh;\n  --advertising-label-height: 0;\n  --caroda-advertising-label-color: #333; }\n\n.caroda-spinner-container {\n  display: none;\n  background: rgba(20, 20, 20, 0.9);\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 2; }\n\n.caroda-spinner {\n  position: absolute;\n  top: calc(50% - 30px);\n  left: calc(50% - 30px);\n  border: 8px solid #ccc;\n  border-top: 8px solid white;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: spin 2s linear infinite; }\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg); } }\n\n.caroda-show-spinner .caroda-spinner-container {\n  display: block; }\n\n.carodaOutstream .caroda-spinner-container {\n  background: none; }\n\n@font-face {\n  font-family: 'caroda-replay-button';\n  src: url(data:font/ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBa4AAAC8AAAAYGNtYXAW0tOPAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZoggcWEAAAF4AAAA5GhlYWQfb5upAAACXAAAADZoaGVhB8IDxgAAApQAAAAkaG10eAoAAAAAAAK4AAAAFGxvY2EAKACGAAACzAAAAAxtYXhwAAcAOAAAAtgAAAAgbmFtZZlKCfsAAAL4AAABhnBvc3QAAwAAAAAEgAAAACAAAwMAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADphAPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6YT//f//AAAAAAAg6YT//f//AAH/4xaAAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAAD/wAQAA8AANQAAASE3LgEjIgYHDgEVFBYXHgEzMjY3PgE3FwYHDgEHBiMiJy4BJyY1NDc+ATc2MzIXHgEXFhc3BAD+gJA3jE1NjDc2Ojo2N4xNTYw3BAkEYCMrK2I2NjpqXV6LKCgoKIteXWo1MjJcKSkjlgJAkDY6OjY3jE1NjDc2Ojo2BQkFVCghIC0NDCgoi15dampdXosoKAoLJxscI5YAAAABAAAAAQAATNAym18PPPUACwQAAAAAAN4oK5YAAAAA3igrlgAA/8AEAAPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAQAAAEAAAAAAAAAAAAAAAAAAAAFBAAAAAAAAAAAAAAAAgAAAAQAAAAAAAAAAAoAFAAeAHIAAQAAAAUANgABAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=); }\n\n.carodaReplayButtonContainer {\n  position: absolute;\n  background: rgba(50, 50, 50, 0.4); }\n  .carodaReplayButtonContainer .carodaReplayButton {\n    transition: opacity 0.6s ease-out;\n    opacity: 0.8;\n    position: absolute;\n    top: calc(50% - var(--advertising-label-height));\n    left: 50%;\n    transform: translate(-50%, -50%);\n    min-width: 50px;\n    min-height: 50px;\n    border: none;\n    cursor: pointer;\n    letter-spacing: 1.5px;\n    background-color: transparent;\n    color: white;\n    text-shadow: -1px 1px 1px black, 1px -1px 1px black, 1px 1px 1px black, -1px -1px 1px black, 0 1px 1px black, 1px 0 1px black, 0 -1px 1px black, -1px 0 1px black; }\n    .carodaReplayButtonContainer .carodaReplayButton.mobile, .carodaReplayButtonContainer .carodaReplayButton:hover {\n      opacity: 1; }\n    .carodaReplayButtonContainer .carodaReplayButton:before {\n      font-family: 'caroda-replay-button';\n      display: block;\n      content: '\\e984';\n      font-size: 45px; }\n    .carodaReplayButtonContainer .carodaReplayButton:after {\n      content: attr(title);\n      position: absolute;\n      top: 60px;\n      left: 50%;\n      transform: translate(-50%, 0);\n      min-width: 100px; }\n  .carodaReplayButtonContainer .carodaReplayButtonErrorMessage {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%); }\n  .carodaReplayButtonContainer .carodaReplayButton:after,\n  .carodaReplayButtonContainer .carodaReplayButtonErrorMessage {\n    font-size: 12px !important;\n    font-weight: bold !important;\n    line-height: 1 !important;\n    font-family: var(--caroda-font-family) !important; }\n\n.carodaSafeFrame .carodaReplayButton {\n  top: 50vh; }\n\n.caroda-spinner-container.interstitial {\n  background: rgba(255, 255, 255, 0.4);\n  z-index: 9999999999999999999;\n  transition: opacity 0.3s;\n  opacity: 0;\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh; }\n  .caroda-spinner-container.interstitial.caroda-interstitial-preload {\n    z-index: -1;\n    visibility: hidden; }\n  .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    height: 80vh; }\n    @media (orientation: landscape) {\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer {\n        width: 60vw;\n        max-width: 800px; } }\n    @media (orientation: portrait) {\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer {\n        width: 100%; } }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaOutstream {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%); }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer.hidden .carodaOutstream {\n      /* This allows the players to have width when being preloaded but not yet visible. */\n      position: relative; }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaInterstitialClose {\n      position: absolute;\n      top: -5px;\n      right: 0;\n      font-size: 50px;\n      line-height: 50px;\n      color: #333;\n      cursor: pointer;\n      background: none;\n      border: none;\n      opacity: 0;\n      transition: opacity 0.3s;\n      padding: 0; }\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaInterstitialClose:before {\n        content: '';\n        display: block; }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaTeadsAdLabelContainer {\n      height: 50px;\n      position: relative; }\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaTeadsAdLabelContainer .carodaTeadsAdLabel {\n        position: absolute;\n        bottom: 15px;\n        left: 0;\n        font-size: 25px;\n        text-align: center;\n        transform: none;\n        width: 100%; }\n    .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaSmartclipContainer.loaded {\n      height: 260px !important; }\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaSmartclipContainer.loaded > * {\n        top: 25px !important; }\n      .caroda-spinner-container.interstitial .carodaInterstitialPlayerContainer.carodaContainer .carodaSmartclipContainer.loaded button.carodaInterstitialClose {\n        margin-top: -30px; }\n  .caroda-spinner-container.interstitial.carodaLoaded .carodaInterstitialPlayerContainer.carodaContainer .caroda-spinner,\n  .caroda-spinner-container.interstitial.carodaLoaded .carodaInterstitialPlayerContainer.carodaContainer .carodaReplayButton {\n    display: none; }\n  .caroda-spinner-container.interstitial.carodaLoaded .carodaInterstitialPlayerContainer.carodaContainer button.carodaInterstitialClose {\n    opacity: 1; }\n  .caroda-spinner-container.interstitial .carodaContainer\n> .carodaOutstream:not(.carodaOutstreamSlider)\n.carodaBannerContainer.loaded,\n  .caroda-spinner-container.interstitial .carodaContainer\n> .carodaOutstream:not(.carodaOutstreamSlider)\n.carodaAniview.loaded {\n    margin-top: 0;\n    padding-top: 45px; }\n    .caroda-spinner-container.interstitial .carodaContainer\n> .carodaOutstream:not(.carodaOutstreamSlider)\n.carodaBannerContainer.loaded:before,\n    .caroda-spinner-container.interstitial .carodaContainer\n> .carodaOutstream:not(.carodaOutstreamSlider)\n.carodaAniview.loaded:before {\n      padding-top: 10px; }\n  .caroda-spinner-container.interstitial .carodaContainer\n> .carodaOutstream:not(.carodaOutstreamSlider)\n.carodaAniview.loaded:before {\n    margin-top: -45px; }\n  .caroda-spinner-container.interstitial .carodaBannerContainer:before {\n    top: 0px; }\n  .caroda-spinner-container.interstitial .carodaOutstreamSlider .sliderSpacer:before {\n    top: -35px; }\n  .caroda-spinner-container.interstitial .carodaOutstream.carodaOutstreamSlider .sliderSpacer {\n    margin-top: 45px; }\n  .caroda-spinner-container.interstitial .carodaSmartclipContainer.loaded:before {\n    margin-top: -10px; }\n  .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer,\n  .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer {\n    top: 0;\n    margin-top: calc( var(--caroda-horizontal-aspect-ratio-percentage) + 45px) !important; }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer:before,\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer:before {\n      margin-top: calc( calc(var(--caroda-horizontal-aspect-ratio-percentage) * -1) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner,\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner {\n      margin-top: calc( var(--caroda-horizontal-with-banner-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner:before,\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner:before {\n        margin-top: calc( calc( var(--caroda-horizontal-with-banner-aspect-ratio-percentage) * -1 ) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3,\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 {\n      margin-top: calc( var(--caroda-horizontal-4-3-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3:before,\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3:before {\n        margin-top: calc( calc(var(--caroda-horizontal-4-3-aspect-ratio-percentage) * -1) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-vertical,\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-vertical {\n      margin-top: calc( var(--caroda-vertical-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-vertical:before,\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-vertical:before {\n        margin-top: calc( calc(var(--caroda-vertical-aspect-ratio-percentage) * -1) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4,\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 {\n      margin-top: calc( var(--caroda-vertical-3-4-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4:before,\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4:before {\n        margin-top: calc( calc(var(--caroda-vertical-3-4-aspect-ratio-percentage) * -1) - 15px); }\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-square,\n    .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-square {\n      margin-top: calc( var(--caroda-square-aspect-ratio-percentage) + 45px) !important; }\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaImaOutstreamPlayer.outstreamFormat-square:before,\n      .caroda-spinner-container.interstitial .carodaOutstream:not(.carodaOutstreamSlider) div.carodaVvOutstreamPlayer.outstreamFormat-square:before {\n        margin-top: calc( calc(var(--caroda-square-aspect-ratio-percentage) * -1) - 15px); }\n\n.caroda-show-spinner .caroda-spinner-container.interstitial {\n  opacity: 1;\n  visibility: visible; }\n  .caroda-show-spinner .caroda-spinner-container.interstitial.hidden {\n    visibility: hidden; }\n\n.carodaExtendedVerticalContainer.carodaMultiPositionPlaceholder {\n  position: relative; }\n  .carodaExtendedVerticalContainer.carodaMultiPositionPlaceholder:before {\n    box-sizing: border-box;\n    content: '';\n    display: block;\n    height: calc(100% - var(--advertising-label-height));\n    left: 0;\n    margin-top: var(--advertising-label-height);\n    position: absolute;\n    top: 0;\n    width: 100%; }\n  .carodaExtendedVerticalContainer.carodaMultiPositionPlaceholder .carodaOutstream {\n    position: sticky;\n    top: 0; }\n\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaSmartclipContainer.loaded {\n  margin-top: 5px; }\n\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaBannerContainer:before,\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaAniview:before {\n  margin-bottom: 6px; }\n\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaBannerContainer .carodaBanner > *:first-child,\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream .carodaAniview .carodaBanner > *:first-child {\n  display: block; }\n\n.carodaExtendedVerticalContainer.carodaMultiPositionPlaceholder:before {\n  margin-top: 0;\n  height: 100%; }\n\n.carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder {\n  position: absolute;\n  overflow-x: unset;\n  overflow-y: unset; }\n  .carodaMultiPosition.carodaUsingExtendedVerticalPlaceholder .carodaOutstream {\n    position: sticky; }\n\nbutton.caroda-download-logs {\n  position: fixed;\n  bottom: 2rem;\n  left: 2rem;\n  z-index: 99999999; }\n\n:root {\n  --caroda-floating-container-top-offset: 20px;\n  --caroda-floating-container-bottom-offset: 20px;\n  --caroda-floating-container-left-offset: 20px;\n  --caroda-floating-container-right-offset: 20px; }\n\n.carodaLibraryFloatingContainer {\n  min-height: 100vh;\n  pointer-events: none;\n  position: fixed;\n  visibility: hidden;\n  max-width: 300px;\n  width: 300px;\n  z-index: 999999; }\n  .carodaLibraryFloatingContainer .adLoaded {\n    visibility: hidden !important; }\n\n.carodaLibraryFloatingContainer:has(.carodaBannerOuterContainer) {\n  width: auto !important; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerVisible {\n  min-height: unset;\n  pointer-events: auto;\n  visibility: visible; }\n  .carodaLibraryFloatingContainer.carodaLibraryFloatingContainerVisible .adLoaded:not(.carodaHidden) {\n    visibility: unset !important; }\n\n.carodaLibraryFloatingContainer\n.carodaContainer\n> .carodaOutstream:not(.carodaOutstreamSlider)\n.carodaBannerContainer.loaded,\n.carodaLibraryFloatingContainer\n.carodaContainer\n> .carodaOutstream:not(.carodaOutstreamSlider)\n.carodaAniview.loaded {\n  margin-top: 0px; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-top {\n  bottom: unset;\n  top: var(--caroda-floating-container-top-offset); }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-bottom {\n  bottom: var(--caroda-floating-container-bottom-offset);\n  top: unset; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-left {\n  left: var(--caroda-floating-container-left-offset);\n  right: unset; }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-right {\n  left: unset;\n  right: var(--caroda-floating-container-right-offset); }\n\n.carodaLibraryFloatingContainer.carodaLibraryFloatingContainerPosition-center {\n  left: 50%;\n  right: unset;\n  transform: translateX(-50%); }\n\n.carodaLibraryCloseButton {\n  align-items: center;\n  background-color: #333;\n  border: none;\n  cursor: pointer;\n  font-family: var(--caroda-font-family);\n  font-size: 20px;\n  justify-content: center;\n  letter-spacing: 1px;\n  outline: none;\n  padding: 5px 10px;\n  position: absolute; }\n\n.carodaLibraryCloseButton > span,\n.carodaLibraryCloseButton:before {\n  color: #fafafa; }\n\n.carodaLibraryCloseButton:before {\n  content: 'X';\n  display: inline-block;\n  margin-right: 0.25em;\n  font-weight: bold; }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-top {\n  transform: translateY(-100%); }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-top.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-center {\n  left: 50%;\n  right: unset;\n  transform: translate(-50%, -100%); }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-bottom.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-center {\n  bottom: 0;\n  left: 50%;\n  right: unset;\n  transform: translate(-50%, 100%); }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-bottom {\n  bottom: 0;\n  transform: translateY(100%); }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-left {\n  left: 0;\n  right: unset; }\n\n.carodaLibraryCloseButton.carodaLibraryCloseButtonPosition-right {\n  left: unset;\n  right: 0; }\n\n.carodaMultiPositionPlaceholder:not(.carodaPlaceholderInUse) .carodaLibraryCloseButton,\n.carodaMultiPositionPlaceholder:not(.adLoaded) .carodaLibraryCloseButton {\n  display: none; }\n\n.carodaLongSessionFloatingOutstream-refreshing.carodaLibraryFloatingContainer {\n  visibility: hidden;\n  min-height: 100vh; }\n  .carodaLongSessionFloatingOutstream-refreshing.carodaLibraryFloatingContainer .carodaLibraryCloseButton {\n    display: none; }\n\n.carodaGamBannerPlayer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center; }\n  .carodaGamBannerPlayer iframe {\n    border: none !important; }\n\n:root {\n  --caroda-progress-bar-background: #5e8791;\n  --caroda-progress-bar-height: 4px;\n  --caroda-progress-color: #f5a03e; }\n\n.caroda-library-progress-bar {\n  background: var(--caroda-progress-bar-background);\n  height: var(--caroda-progress-bar-height);\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: auto; }\n  .caroda-library-progress-bar .caroda-library-progress-bar-progress {\n    background: var(--caroda-progress-color);\n    color: var(--caroda-progress-color);\n    height: var(--caroda-progress-bar-height);\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    transition: all 0.5s linear; }\n    .caroda-library-progress-bar .caroda-library-progress-bar-progress::before {\n      content: '';\n      background: var(--caroda-progress-color);\n      position: absolute;\n      height: calc(var(--caroda-progress-bar-height) * 2);\n      width: calc(var(--caroda-progress-bar-height) * 2);\n      top: calc(var(--caroda-progress-bar-height) / -2);\n      right: calc(var(--caroda-progress-bar-height) * -1);\n      border-radius: 50%; }\n\n.caroda-library-timer {\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  color: #eef;\n  text-shadow: 0 0 2px #000, 1px 1px 2px #000, 0 0 3px #000;\n  z-index: 1;\n  font-family: arial, sans-serif;\n  font-size: 14px; }\n\n.carodaContainer {\n  position: relative; }\n\n.carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) {\n  font-size: 10px;\n  line-height: 1;\n  font-family: var(--caroda-font-family);\n  overflow: hidden;\n  position: relative; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer,\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview {\n    position: relative;\n    overflow: hidden; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer:before,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview:before {\n      display: none;\n      text-align: center;\n      color: var(--caroda-advertising-label-color);\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      font-size: 9px; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer:not(.loaded),\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview:not(.loaded) {\n      visibility: hidden;\n      pointer-events: none;\n      min-height: 200px;\n      aspect-ratio: 1 / 1; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer.loaded,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview.loaded {\n      margin-top: 5px; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer.loaded:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview.loaded:before {\n        display: block; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview .carodaBanner {\n      overflow: hidden;\n      text-align: center; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner > * > iframe,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner > *,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview .carodaBanner > * > iframe,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview .carodaBanner > * {\n        margin: 0px auto; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner .teads-inread,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview .carodaBanner .teads-inread {\n        height: auto; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaAniview:not(.loaded) {\n    position: absolute !important;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 0;\n    overflow: visible; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer,\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer,\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer {\n    position: relative;\n    opacity: 0;\n    margin-top: -10px !important;\n    padding: 0 !important;\n    transition: opacity 0.6s ease-out; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer:before,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer:before,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer:before {\n      display: none;\n      text-align: center;\n      color: var(--caroda-advertising-label-color);\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      font-size: 9px;\n      position: absolute;\n      top: -18px;\n      left: 50%;\n      transform: translate(-50%, 0); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer .caroda-player-vast-vpaid {\n      position: absolute !important;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 0;\n      overflow: show;\n      padding-bottom: var(--caroda-horizontal-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-horizontal-with-banner .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-horizontal-with-banner .caroda-player-ima {\n      padding-bottom: var(--caroda-horizontal-with-banner-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-horizontal-4-3 .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-horizontal-4-3 .caroda-player-ima {\n      padding-bottom: var(--caroda-horizontal-4-3-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-vertical .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-vertical .caroda-player-ima {\n      padding-bottom: var(--caroda-vertical-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-vertical-3-4 .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-vertical-3-4 .caroda-player-ima {\n      padding-bottom: var(--caroda-vertical-3-4-aspect-ratio-percentage) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-square .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-square .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-square .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-square .caroda-player-ima,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-square .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaGamBannerPlayer.outstreamFormat-square .caroda-player-ima {\n      padding-bottom: var(--caroda-square-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer:not(.loaded) {\n    position: absolute !important;\n    top: 0 !important;\n    bottom: 0 !important;\n    width: 100% !important;\n    visibility: hidden !important;\n    pointer-events: none !important;\n    margin-top: -10px !important; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer,\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer {\n    margin-top: calc( var(--caroda-horizontal-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer:before,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer:before {\n      display: block;\n      margin-top: calc(var(--caroda-horizontal-aspect-ratio-percentage) * -1); }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer {\n    margin-top: var(--advertising-label-height) !important; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer,\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer,\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer {\n    opacity: 1; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer > *,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer > *,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer > * {\n      transition: opacity 0.6s ease-out;\n      opacity: 0; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.loaded > *,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.loaded > *,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.loaded > * {\n      opacity: 1; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer:before,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer:before,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer:before {\n      display: block; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-horizontal-with-banner {\n      margin-top: calc( var(--caroda-horizontal-with-banner-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-horizontal-with-banner:before {\n        margin-top: calc( var(--caroda-horizontal-with-banner-aspect-ratio-percentage) * -1); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-horizontal-4-3 {\n      margin-top: calc( var(--caroda-horizontal-4-3-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-horizontal-4-3:before {\n        margin-top: calc( var(--caroda-horizontal-4-3-aspect-ratio-percentage) * -1); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-vertical {\n      margin-top: calc( var(--caroda-vertical-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-vertical:before {\n        margin-top: calc(var(--caroda-vertical-aspect-ratio-percentage) * -1); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-vertical-3-4 {\n      margin-top: calc( var(--caroda-vertical-3-4-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-vertical-3-4:before {\n        margin-top: calc( var(--caroda-vertical-3-4-aspect-ratio-percentage) * -1); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-square,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-square,\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-square {\n      margin-top: calc( var(--caroda-square-aspect-ratio-percentage) + var(--advertising-label-height)) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-square:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-square:before,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaGamBannerPlayer.outstreamFormat-square:before {\n        margin-top: calc(var(--caroda-square-aspect-ratio-percentage) * -1); }\n\n.carodaVideoFrameBannerOuterContainer {\n  position: absolute !important;\n  left: 0 !important;\n  top: 0 !important;\n  margin-top: calc( var(--caroda-outstream-padding-top) + var(--advertising-label-height)) !important;\n  height: calc( 100% - var(--caroda-outstream-padding-bottom) - var( --caroda-outstream-padding-top ) - var(--advertising-label-height)) !important;\n  width: 100% !important;\n  display: flex !important;\n  justify-content: center !important;\n  align-items: center !important;\n  background: var(--caroda-slider-background-color);\n  opacity: 0 !important;\n  transition: opacity 0.6s ease-out; }\n  .carodaVideoFrameBannerOuterContainer.loaded {\n    opacity: 1 !important; }\n  .carodaVideoFrameBannerOuterContainer .carodaBannerContainer:before {\n    display: none; }\n  .carodaVideoFrameBannerOuterContainer .carodaBannerContainer .carodaBanner > iframe {\n    display: block; }\n\n.carodaVideoFrameGamBannerOuterContainer:not(.loaded) .carodaBanner {\n  aspect-ratio: 16 / 9; }\n\n.carodaContainer\n> .carodaOutstreamSlider:not(.carodaLongSessionOutstream).adLoaded.format-small {\n  --caroda-horizontal-aspect-ratio-percentage: 100%;\n  --caroda-horizontal-4-3-aspect-ratio-percentage: 100%;\n  --caroda-square-aspect-ratio-percentage: 100%;\n  --caroda-vertical-3-4-aspect-ratio-percentage: 100%;\n  --caroda-vertical-aspect-ratio-percentage: 100%; }\n\n.carodaContainer\n> .carodaOutstreamSlider:not(.carodaLongSessionOutstream).adLoaded.format-big {\n  --caroda-horizontal-aspect-ratio-percentage: max(56.25%, 300px);\n  --caroda-horizontal-4-3-aspect-ratio-percentage: max(75%, 300px);\n  --caroda-square-aspect-ratio-percentage: max(100%, 300px);\n  --caroda-vertical-3-4-aspect-ratio-percentage: max(133.33, 300px);\n  --caroda-vertical-aspect-ratio-percentage: max(177.78%, 300px); }\n\n.carodaContainer > .carodaOutstreamSlider {\n  font-size: 10px;\n  line-height: 1;\n  font-family: var(--caroda-font-family);\n  overflow: hidden;\n  position: relative;\n  margin: 0; }\n  .carodaContainer > .carodaOutstreamSlider .sliderSpacer:before {\n    display: none;\n    text-align: center;\n    color: var(--caroda-advertising-label-color);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 9px;\n    position: absolute;\n    top: -15px;\n    left: 50%;\n    transform: translate(-50%, 0); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer:before {\n    display: block !important; }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer {\n    position: relative;\n    background: var(--caroda-slider-background-color);\n    margin-top: var(--advertising-label-height); }\n    .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer.transparent {\n      background: transparent; }\n    .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer .caroda-slider-spinner {\n      background: rgba(20, 20, 20, 0.5); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-horizontal {\n    padding-top: var(--caroda-horizontal-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-horizontal-4-3 {\n    padding-top: var(--caroda-horizontal-4-3-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-square {\n    padding-top: var(--caroda-square-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-vertical-3-4 {\n    padding-top: var(--caroda-vertical-3-4-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-vertical {\n    padding-top: var(--caroda-vertical-aspect-ratio-percentage); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .carodaBannerContainer {\n    align-content: center; }\n  .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer,\n  .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer {\n    position: relative;\n    opacity: 0 !important;\n    padding: 0 !important;\n    padding-top: 0 !important;\n    transition: opacity 0.6s ease-out; }\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer:before,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer:before {\n      display: none; }\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer.loaded,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer.loaded {\n      opacity: 1 !important; }\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer .caroda-player-ima,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer .caroda-player-ima {\n      position: absolute !important;\n      bottom: 0 !important;\n      left: 0 !important;\n      width: 100% !important;\n      height: 0 !important;\n      overflow: show !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-horizontal-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal-4-3 .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal-4-3 .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-horizontal-4-3-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-vertical .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-vertical .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-vertical-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-vertical-3-4 .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-vertical-3-4 .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-vertical-3-4-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-square .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-square .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: var(--caroda-square-aspect-ratio-percentage) !important; }\n  .carodaContainer > .carodaOutstreamSlider .carodaBannerOuterContainer::before {\n    content: '';\n    position: absolute;\n    top: calc(50% - 30px);\n    left: calc(50% - 30px);\n    border: 8px solid #ccc;\n    border-top: 8px solid white;\n    border-radius: 50%;\n    width: 60px;\n    height: 60px;\n    animation: spin 2s linear infinite;\n    z-index: 0; }\n  .carodaContainer > .carodaOutstreamSlider .carodaBannerContainer {\n    z-index: 0; }\n\n.carodaInstream:not(.carodaFullscreen),\n.carodaInstreamWithPositions:not(.carodaFullscreen) {\n  position: relative; }\n\n.carodaInstream .carodaImaOutstreamPlayer:not(.loaded),\n.carodaInstreamWithPositions .carodaImaOutstreamPlayer:not(.loaded) {\n  position: absolute !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  width: 100% !important;\n  visibility: hidden !important;\n  pointer-events: none !important;\n  margin-top: -10px !important; }\n\n.carodaInstream .carodaImaOutstreamPlayer,\n.carodaInstream .carodaVvOutstreamPlayer,\n.carodaInstreamWithPositions .carodaImaOutstreamPlayer,\n.carodaInstreamWithPositions .carodaVvOutstreamPlayer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0; }\n  .carodaInstream .carodaImaOutstreamPlayer.loaded,\n  .carodaInstream .carodaVvOutstreamPlayer.loaded,\n  .carodaInstreamWithPositions .carodaImaOutstreamPlayer.loaded,\n  .carodaInstreamWithPositions .carodaVvOutstreamPlayer.loaded {\n    opacity: 1; }\n  .carodaInstream .carodaImaOutstreamPlayer .caroda-player-ima,\n  .carodaInstream .carodaImaOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaInstream .carodaVvOutstreamPlayer .caroda-player-ima,\n  .carodaInstream .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaInstreamWithPositions .carodaImaOutstreamPlayer .caroda-player-ima,\n  .carodaInstreamWithPositions .carodaImaOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaInstreamWithPositions .carodaVvOutstreamPlayer .caroda-player-ima,\n  .carodaInstreamWithPositions .carodaVvOutstreamPlayer .caroda-player-vast-vpaid {\n    height: 100%;\n    padding-bottom: 0 !important; }\n\n.carodaInstream.adLoaded .caroda-player-content,\n.carodaInstreamWithPositions.adLoaded .caroda-player-content {\n  padding-bottom: 56% !important; }\n\n.carodaInstreamWithPositions {\n  z-index: 10;\n  background: transparent; }\n\n.carodaSmartclipContainer:before {\n  display: none; }\n\n.carodaSmartclipContainer.loaded {\n  max-width: 100% !important;\n  width: 400px;\n  height: 240px !important;\n  margin: auto;\n  margin-top: var(--advertising-label-height); }\n  .carodaSmartclipContainer.loaded:before {\n    display: block;\n    text-align: center;\n    color: var(--caroda-advertising-label-color);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 9px;\n    position: absolute;\n    left: 0;\n    right: 0; }\n  .carodaSmartclipContainer.loaded > * {\n    max-width: 100% !important;\n    top: 15px !important; }\n  .carodaSmartclipContainer.loaded .OutstreamPlayer__advertisementlabel {\n    display: none; }\n\n.carodaMultiPosition {\n  transition: all 0.6s, top 0s, left 0s, width 0s, height 0s, padding-top 0s, margin-top 0s, padding-bottom 0s, margin-bottom 0s;\n  overflow-x: hidden; }\n  .carodaMultiPosition .carodaTeadsContainer {\n    height: 0 !important; }\n    .carodaMultiPosition .carodaTeadsContainer.loaded {\n      height: auto !important; }\n\n.carodaMultiPositionPlaceholder {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  outline: 0;\n  height: 0; }\n\n.carodaMultiPositionPlaceholderStickySentinel {\n  height: 1px;\n  width: 1px;\n  float: right;\n  margin-left: -1px; }\n\n.carodaTeadsPrebid .teads-ui-components-label {\n  display: none !important; }\n\n.carodaAniview iframe {\n  width: 100%;\n  height: 0;\n  border: 0 !important;\n  padding-top: 0 !important;\n  padding-bottom: 0 !important;\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  margin-top: 0 !important;\n  margin-bottom: 0 !important;\n  margin-left: 0 !important;\n  margin-right: 0 !important; }\n\n.carodaBannerOuterContainer:not(.carodaVideoFrameBannerOuterContainer) {\n  height: 0 !important;\n  min-height: 0 !important; }\n  .carodaBannerOuterContainer:not(.carodaVideoFrameBannerOuterContainer).loaded {\n    height: auto !important;\n    min-height: auto !important; }\n\n.carodaBannerOuterContainer {\n  overflow: hidden !important; }\n";// element-closest | CC0-1.0 | github.com/jonathantneal/closest

(function (ElementProto) {
	if (typeof ElementProto.matches !== 'function') {
		ElementProto.matches = ElementProto.msMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.webkitMatchesSelector || function matches(selector) {
			var element = this;
			var elements = (element.document || element.ownerDocument).querySelectorAll(selector);
			var index = 0;

			while (elements[index] && elements[index] !== element) {
				++index;
			}

			return Boolean(elements[index]);
		};
	}

	if (typeof ElementProto.closest !== 'function') {
		ElementProto.closest = function closest(selector) {
			var element = this;

			while (element && element.nodeType === 1) {
				if (element.matches(selector)) {
					return element;
				}

				element = element.parentNode;
			}

			return null;
		};
	}
})(window.Element.prototype);
;if (!window._babelPolyfill && !window.carodaDisableBabelPolyfill) { !function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!u&&c)return c(o,!0);if(i)return i(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(n){var r=t[o][1][n];return s(r||n)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(t,n,r){(function(n){"use strict";function define(t,n,e){t[n]||Object[r](t,n,{writable:!0,configurable:!0,value:e})}if(t(327),t(328),t(2),n._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");n._babelPolyfill=!0;var r="defineProperty";define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&define(Array,t,Function.call.bind([][t]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,327:327,328:328}],2:[function(t,n,r){t(130),n.exports=t(23).RegExp.escape},{130:130,23:23}],3:[function(t,n,r){n.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],4:[function(t,n,r){var e=t(18);n.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},{18:18}],5:[function(t,n,r){var e=t(128)("unscopables"),i=Array.prototype;void 0==i[e]&&t(42)(i,e,{}),n.exports=function(t){i[e][t]=!0}},{128:128,42:42}],6:[function(t,n,r){n.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},{}],7:[function(t,n,r){var e=t(51);n.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},{51:51}],8:[function(t,n,r){"use strict";var e=t(119),i=t(114),o=t(118);n.exports=[].copyWithin||function copyWithin(t,n){var r=e(this),u=o(r.length),c=i(t,u),a=i(n,u),f=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===f?u:i(f,u))-a,u-c),l=1;for(a<c&&c<a+s&&(l=-1,a+=s-1,c+=s-1);s-- >0;)a in r?r[c]=r[a]:delete r[c],c+=l,a+=l;return r}},{114:114,118:118,119:119}],9:[function(t,n,r){"use strict";var e=t(119),i=t(114),o=t(118);n.exports=function fill(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),a=u>2?arguments[2]:void 0,f=void 0===a?r:i(a,r);f>c;)n[c++]=t;return n}},{114:114,118:118,119:119}],10:[function(t,n,r){var e=t(39);n.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},{39:39}],11:[function(t,n,r){var e=t(117),i=t(118),o=t(114);n.exports=function(t){return function(n,r,u){var c,a=e(n),f=i(a.length),s=o(u,f);if(t&&r!=r){for(;f>s;)if((c=a[s++])!=c)return!0}else for(;f>s;s++)if((t||s in a)&&a[s]===r)return t||s||0;return!t&&-1}}},{114:114,117:117,118:118}],12:[function(t,n,r){var e=t(25),i=t(47),o=t(119),u=t(118),c=t(15);n.exports=function(t,n){var r=1==t,a=2==t,f=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var d,y,g=o(n),m=i(g),b=e(c,p,3),x=u(m.length),S=0,w=r?v(n,x):a?v(n,0):void 0;x>S;S++)if((h||S in m)&&(d=m[S],y=b(d,S,g),t))if(r)w[S]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return S;case 2:w.push(d)}else if(s)return!1;return l?-1:f||s?s:w}}},{118:118,119:119,15:15,25:25,47:47}],13:[function(t,n,r){var e=t(3),i=t(119),o=t(47),u=t(118);n.exports=function(t,n,r,c,a){e(n);var f=i(t),s=o(f),l=u(f.length),h=a?l-1:0,v=a?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,a?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;a?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,f));return c}},{118:118,119:119,3:3,47:47}],14:[function(t,n,r){var e=t(51),i=t(49),o=t(128)("species");n.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},{128:128,49:49,51:51}],15:[function(t,n,r){var e=t(14);n.exports=function(t,n){return new(e(t))(n)}},{14:14}],16:[function(t,n,r){"use strict";var e=t(3),i=t(51),o=t(46),u=[].slice,c={},a=function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)};n.exports=Function.bind||function bind(t){var n=e(this),r=u.call(arguments,1),c=function(){var e=r.concat(u.call(arguments));return this instanceof c?a(n,e.length,e):o(n,e,t)};return i(n.prototype)&&(c.prototype=n.prototype),c}},{3:3,46:46,51:51}],17:[function(t,n,r){var e=t(18),i=t(128)("toStringTag"),o="Arguments"==e(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};n.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(n=Object(t),i))?r:o?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c}},{128:128,18:18}],18:[function(t,n,r){var e={}.toString;n.exports=function(t){return e.call(t).slice(8,-1)}},{}],19:[function(t,n,r){"use strict";var e=t(72).f,i=t(71),o=t(93),u=t(25),c=t(6),a=t(39),f=t(55),s=t(57),l=t(100),h=t(29),v=t(66).fastKey,p=t(125),d=h?"_s":"size",y=function(t,n){var r,e=v(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};n.exports={getConstructor:function(t,n,r,f){var s=t(function(t,e){c(t,s,n,"_i"),t._t=n,t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=e&&a(e,r,t[f],t)});return o(s.prototype,{clear:function clear(){for(var t=p(this,n),r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var r=p(this,n),e=y(r,t);if(e){var i=e.n,o=e.p;delete r._i[e.i],e.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==e&&(r._f=i),r._l==e&&(r._l=o),r[d]--}return!!e},forEach:function forEach(t){p(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function has(t){return!!y(p(this,n),t)}}),h&&e(s.prototype,"size",{get:function(){return p(this,n)[d]}}),s},def:function(t,n,r){var e,i,o=y(t,n);return o?o.v=r:(t._l=o={i:i=v(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[d]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,n,r){f(t,n,function(t,r){this._t=p(t,n),this._k=r,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?s(0,r.k):"values"==n?s(0,r.v):s(0,[r.k,r.v]):(t._t=void 0,s(1))},r?"entries":"values",!r,!0),l(n)}}},{100:100,125:125,25:25,29:29,39:39,55:55,57:57,6:6,66:66,71:71,72:72,93:93}],20:[function(t,n,r){var e=t(17),i=t(10);n.exports=function(t){return function toJSON(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},{10:10,17:17}],21:[function(t,n,r){"use strict";var e=t(93),i=t(66).getWeak,o=t(7),u=t(51),c=t(6),a=t(39),f=t(12),s=t(41),l=t(125),h=f(5),v=f(6),p=0,d=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,n){return h(t.a,function(t){return t[0]===n})};y.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var r=g(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=v(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},n.exports={getConstructor:function(t,n,r,o){var f=t(function(t,e){c(t,f,n,"_i"),t._t=n,t._i=p++,t._l=void 0,void 0!=e&&a(e,r,t[o],t)});return e(f.prototype,{delete:function(t){if(!u(t))return!1;var r=i(t);return!0===r?d(l(this,n)).delete(t):r&&s(r,this._i)&&delete r[this._i]},has:function has(t){if(!u(t))return!1;var r=i(t);return!0===r?d(l(this,n)).has(t):r&&s(r,this._i)}}),f},def:function(t,n,r){var e=i(o(n),!0);return!0===e?d(t).set(n,r):e[t._i]=r,t},ufstore:d}},{12:12,125:125,39:39,41:41,51:51,6:6,66:66,7:7,93:93}],22:[function(t,n,r){"use strict";var e=t(40),i=t(33),o=t(94),u=t(93),c=t(66),a=t(39),f=t(6),s=t(51),l=t(35),h=t(56),v=t(101),p=t(45);n.exports=function(t,n,r,d,y,g){var m=e[t],b=m,x=y?"set":"add",S=b&&b.prototype,w={},_=function(t){var n=S[t];o(S,t,"delete"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function has(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"get"==t?function get(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function add(t){return n.call(this,0===t?0:t),this}:function set(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof b&&(g||S.forEach&&!l(function(){(new b).entries().next()}))){var E=new b,O=E[x](g?{}:-0,1)!=E,P=l(function(){E.has(1)}),M=h(function(t){new b(t)}),F=!g&&l(function(){for(var t=new b,n=5;n--;)t[x](n,n);return!t.has(-0)});M||(b=n(function(n,r){f(n,b,t);var e=p(new m,n,b);return void 0!=r&&a(r,y,e[x],e),e}),b.prototype=S,S.constructor=b),(P||F)&&(_("delete"),_("has"),y&&_("get")),(F||O)&&_(x),g&&S.clear&&delete S.clear}else b=d.getConstructor(n,t,y,x),u(b.prototype,r),c.NEED=!0;return v(b,t),w[t]=b,i(i.G+i.W+i.F*(b!=m),w),g||d.setStrong(b,t,y),b}},{101:101,33:33,35:35,39:39,40:40,45:45,51:51,56:56,6:6,66:66,93:93,94:94}],23:[function(t,n,r){var e=n.exports={version:"2.5.0"};"number"==typeof __e&&(__e=e)},{}],24:[function(t,n,r){"use strict";var e=t(72),i=t(92);n.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},{72:72,92:92}],25:[function(t,n,r){var e=t(3);n.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},{3:3}],26:[function(t,n,r){"use strict";var e=t(35),i=Date.prototype.getTime,o=Date.prototype.toISOString,u=function(t){return t>9?t:"0"+t};n.exports=e(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!e(function(){o.call(new Date(NaN))})?function toISOString(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}:o},{35:35}],27:[function(t,n,r){"use strict";var e=t(7),i=t(120);n.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),"number"!=t)}},{120:120,7:7}],28:[function(t,n,r){n.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],29:[function(t,n,r){n.exports=!t(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{35:35}],30:[function(t,n,r){var e=t(51),i=t(40).document,o=e(i)&&e(i.createElement);n.exports=function(t){return o?i.createElement(t):{}}},{40:40,51:51}],31:[function(t,n,r){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],32:[function(t,n,r){var e=t(81),i=t(78),o=t(82);n.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),a=o.f,f=0;c.length>f;)a.call(t,u=c[f++])&&n.push(u);return n}},{78:78,81:81,82:82}],33:[function(t,n,r){var e=t(40),i=t(23),o=t(42),u=t(94),c=t(25),a=function(t,n,r){var f,s,l,h,v=t&a.F,p=t&a.G,d=t&a.S,y=t&a.P,g=t&a.B,m=p?e:d?e[n]||(e[n]={}):(e[n]||{}).prototype,b=p?i:i[n]||(i[n]={}),x=b.prototype||(b.prototype={});p&&(r=n);for(f in r)s=!v&&m&&void 0!==m[f],l=(s?m:r)[f],h=g&&s?c(l,e):y&&"function"==typeof l?c(Function.call,l):l,m&&u(m,f,l,t&a.U),b[f]!=l&&o(b,f,h),y&&x[f]!=l&&(x[f]=l)};e.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,n.exports=a},{23:23,25:25,40:40,42:42,94:94}],34:[function(t,n,r){var e=t(128)("match");n.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},{128:128}],35:[function(t,n,r){n.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],36:[function(t,n,r){"use strict";var e=t(42),i=t(94),o=t(35),u=t(28),c=t(128);n.exports=function(t,n,r){var a=c(t),f=r(u,a,""[t]),s=f[0],l=f[1];o(function(){var n={};return n[a]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,a,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}},{128:128,28:28,35:35,42:42,94:94}],37:[function(t,n,r){"use strict";var e=t(7);n.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},{7:7}],38:[function(t,n,r){"use strict";function flattenIntoArray(t,n,r,a,f,s,l,h){for(var v,p,d=f,y=0,g=!!l&&u(l,h,3);y<a;){if(y in r){if(v=g?g(r[y],y,n):r[y],p=!1,i(v)&&(p=v[c],p=void 0!==p?!!p:e(v)),p&&s>0)d=flattenIntoArray(t,n,v,o(v.length),d,s-1)-1;else{if(d>=9007199254740991)throw TypeError();t[d]=v}d++}y++}return d}var e=t(49),i=t(51),o=t(118),u=t(25),c=t(128)("isConcatSpreadable");n.exports=flattenIntoArray},{118:118,128:128,25:25,49:49,51:51}],39:[function(t,n,r){var e=t(25),i=t(53),o=t(48),u=t(7),c=t(118),a=t(129),f={},s={},r=n.exports=function(t,n,r,l,h){var v,p,d,y,g=h?function(){return t}:a(t),m=e(r,l,n?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(v=c(t.length);v>b;b++)if((y=n?m(u(p=t[b])[0],p[1]):m(t[b]))===f||y===s)return y}else for(d=g.call(t);!(p=d.next()).done;)if((y=i(d,m,p.value,n))===f||y===s)return y};r.BREAK=f,r.RETURN=s},{118:118,129:129,25:25,48:48,53:53,7:7}],40:[function(t,n,r){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},{}],41:[function(t,n,r){var e={}.hasOwnProperty;n.exports=function(t,n){return e.call(t,n)}},{}],42:[function(t,n,r){var e=t(72),i=t(92);n.exports=t(29)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},{29:29,72:72,92:92}],43:[function(t,n,r){var e=t(40).document;n.exports=e&&e.documentElement},{40:40}],44:[function(t,n,r){n.exports=!t(29)&&!t(35)(function(){return 7!=Object.defineProperty(t(30)("div"),"a",{get:function(){return 7}}).a})},{29:29,30:30,35:35}],45:[function(t,n,r){var e=t(51),i=t(99).set;n.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t}},{51:51,99:99}],46:[function(t,n,r){n.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},{}],47:[function(t,n,r){var e=t(18);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},{18:18}],48:[function(t,n,r){var e=t(58),i=t(128)("iterator"),o=Array.prototype;n.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},{128:128,58:58}],49:[function(t,n,r){var e=t(18);n.exports=Array.isArray||function isArray(t){return"Array"==e(t)}},{18:18}],50:[function(t,n,r){var e=t(51),i=Math.floor;n.exports=function isInteger(t){return!e(t)&&isFinite(t)&&i(t)===t}},{51:51}],51:[function(t,n,r){n.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,n,r){var e=t(51),i=t(18),o=t(128)("match");n.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},{128:128,18:18,51:51}],53:[function(t,n,r){var e=t(7);n.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n}}},{7:7}],54:[function(t,n,r){"use strict";var e=t(71),i=t(92),o=t(101),u={};t(42)(u,t(128)("iterator"),function(){return this}),n.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},{101:101,128:128,42:42,71:71,92:92}],55:[function(t,n,r){"use strict";var e=t(60),i=t(33),o=t(94),u=t(42),c=t(41),a=t(58),f=t(54),s=t(101),l=t(79),h=t(128)("iterator"),v=!([].keys&&"next"in[].keys()),p=function(){return this};n.exports=function(t,n,r,d,y,g,m){f(r,n,d);var b,x,S,w=function(t){if(!v&&t in P)return P[t];switch(t){case"keys":return function keys(){return new r(this,t)};case"values":return function values(){return new r(this,t)}}return function entries(){return new r(this,t)}},_=n+" Iterator",E="values"==y,O=!1,P=t.prototype,M=P[h]||P["@@iterator"]||y&&P[y],F=M||w(y),I=y?E?w("entries"):F:void 0,A="Array"==n?P.entries||M:M;if(A&&(S=l(A.call(new t)))!==Object.prototype&&S.next&&(s(S,_,!0),e||c(S,h)||u(S,h,p)),E&&M&&"values"!==M.name&&(O=!0,F=function values(){return M.call(this)}),e&&!m||!v&&!O&&P[h]||u(P,h,F),a[n]=F,a[_]=p,y)if(b={values:E?F:w("values"),keys:g?F:w("keys"),entries:I},m)for(x in b)x in P||o(P,x,b[x]);else i(i.P+i.F*(v||O),n,b);return b}},{101:101,128:128,33:33,41:41,42:42,54:54,58:58,60:60,79:79,94:94}],56:[function(t,n,r){var e=t(128)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}n.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},{128:128}],57:[function(t,n,r){n.exports=function(t,n){return{value:n,done:!!t}}},{}],58:[function(t,n,r){n.exports={}},{}],59:[function(t,n,r){var e=t(81),i=t(117);n.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,a=0;c>a;)if(o[r=u[a++]]===n)return r}},{117:117,81:81}],60:[function(t,n,r){n.exports=!1},{}],61:[function(t,n,r){var e=Math.expm1;n.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function expm1(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},{}],62:[function(t,n,r){var e=t(65),i=Math.pow,o=i(2,-52),u=i(2,-23),c=i(2,127)*(2-u),a=i(2,-126),f=function(t){return t+1/o-1/o};n.exports=Math.fround||function fround(t){var n,r,i=Math.abs(t),s=e(t);return i<a?s*f(i/a/u)*a*u:(n=(1+u/o)*i,r=n-(n-i),r>c||r!=r?s*(1/0):s*r)}},{65:65}],63:[function(t,n,r){n.exports=Math.log1p||function log1p(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],64:[function(t,n,r){n.exports=Math.scale||function scale(t,n,r,e,i){return 0===arguments.length||t!=t||n!=n||r!=r||e!=e||i!=i?NaN:t===1/0||t===-1/0?t:(t-n)*(i-e)/(r-n)+e}},{}],65:[function(t,n,r){n.exports=Math.sign||function sign(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],66:[function(t,n,r){var e=t(124)("meta"),i=t(51),o=t(41),u=t(72).f,c=0,a=Object.isExtensible||function(){return!0},f=!t(35)(function(){return a(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!a(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!a(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return f&&p.NEED&&a(t)&&!o(t,e)&&s(t),t},p=n.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},{124:124,35:35,41:41,51:51,72:72}],67:[function(t,n,r){var e=t(160),i=t(33),o=t(103)("metadata"),u=o.store||(o.store=new(t(266))),c=function(t,n,r){var i=u.get(t);if(!i){if(!r)return;u.set(t,i=new e)}var o=i.get(n);if(!o){if(!r)return;i.set(n,o=new e)}return o},a=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},f=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},s=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},v=function(t){i(i.S,"Reflect",t)};n.exports={store:u,map:c,has:a,get:f,set:s,keys:l,key:h,exp:v}},{103:103,160:160,266:266,33:33}],68:[function(t,n,r){var e=t(40),i=t(113).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,a="process"==t(18)(u);n.exports=function(){var t,n,r,f=function(){var e,i;for(a&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(a)r=function(){u.nextTick(f)};else if(o){var s=!0,l=document.createTextNode("");new o(f).observe(l,{characterData:!0}),r=function(){l.data=s=!s}}else if(c&&c.resolve){var h=c.resolve();r=function(){h.then(f)}}else r=function(){i.call(e,f)};return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},{113:113,18:18,40:40}],69:[function(t,n,r){"use strict";function PromiseCapability(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=e(n),this.reject=e(r)}var e=t(3);n.exports.f=function(t){return new PromiseCapability(t)}},{3:3}],70:[function(t,n,r){"use strict";var e=t(81),i=t(78),o=t(82),u=t(119),c=t(47),a=Object.assign;n.exports=!a||t(35)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=a({},t)[r]||Object.keys(a({},n)).join("")!=e})?function assign(t,n){for(var r=u(t),a=arguments.length,f=1,s=i.f,l=o.f;a>f;)for(var h,v=c(arguments[f++]),p=s?e(v).concat(s(v)):e(v),d=p.length,y=0;d>y;)l.call(v,h=p[y++])&&(r[h]=v[h]);return r}:a},{119:119,35:35,47:47,78:78,81:81,82:82}],71:[function(t,n,r){var e=t(7),i=t(73),o=t(31),u=t(102)("IE_PROTO"),c=function(){},a=function(){var n,r=t(30)("iframe"),e=o.length;for(r.style.display="none",t(43).appendChild(r),r.src="javascript:",n=r.contentWindow.document,n.open(),n.write("<script>document.F=Object<\/script>"),n.close(),a=n.F;e--;)delete a.prototype[o[e]];return a()};n.exports=Object.create||function create(t,n){var r;return null!==t?(c.prototype=e(t),r=new c,c.prototype=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},{102:102,30:30,31:31,43:43,7:7,73:73}],72:[function(t,n,r){var e=t(7),i=t(44),o=t(120),u=Object.defineProperty;r.f=t(29)?Object.defineProperty:function defineProperty(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},{120:120,29:29,44:44,7:7}],73:[function(t,n,r){var e=t(72),i=t(7),o=t(81);n.exports=t(29)?Object.defineProperties:function defineProperties(t,n){i(t);for(var r,u=o(n),c=u.length,a=0;c>a;)e.f(t,r=u[a++],n[r]);return t}},{29:29,7:7,72:72,81:81}],74:[function(t,n,r){"use strict";n.exports=t(60)||!t(35)(function(){var n=Math.random();__defineSetter__.call(null,n,function(){}),delete t(40)[n]})},{35:35,40:40,60:60}],75:[function(t,n,r){var e=t(82),i=t(92),o=t(117),u=t(120),c=t(41),a=t(44),f=Object.getOwnPropertyDescriptor;r.f=t(29)?f:function getOwnPropertyDescriptor(t,n){if(t=o(t),n=u(n,!0),a)try{return f(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},{117:117,120:120,29:29,41:41,44:44,82:82,92:92}],76:[function(t,n,r){var e=t(117),i=t(77).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};n.exports.f=function getOwnPropertyNames(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},{117:117,77:77}],77:[function(t,n,r){var e=t(80),i=t(31).concat("length","prototype");r.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return e(t,i)}},{31:31,80:80}],78:[function(t,n,r){r.f=Object.getOwnPropertySymbols},{}],79:[function(t,n,r){var e=t(41),i=t(119),o=t(102)("IE_PROTO"),u=Object.prototype;n.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},{102:102,119:119,41:41}],80:[function(t,n,r){var e=t(41),i=t(117),o=t(11)(!1),u=t(102)("IE_PROTO");n.exports=function(t,n){var r,c=i(t),a=0,f=[];for(r in c)r!=u&&e(c,r)&&f.push(r);for(;n.length>a;)e(c,r=n[a++])&&(~o(f,r)||f.push(r));return f}},{102:102,11:11,117:117,41:41}],81:[function(t,n,r){var e=t(80),i=t(31);n.exports=Object.keys||function keys(t){return e(t,i)}},{31:31,80:80}],82:[function(t,n,r){r.f={}.propertyIsEnumerable},{}],83:[function(t,n,r){var e=t(33),i=t(23),o=t(35);n.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},{23:23,33:33,35:35}],84:[function(t,n,r){var e=t(81),i=t(117),o=t(82).f;n.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),a=c.length,f=0,s=[];a>f;)o.call(u,r=c[f++])&&s.push(t?[r,u[r]]:u[r]);return s}}},{117:117,81:81,82:82}],85:[function(t,n,r){var e=t(77),i=t(78),o=t(7),u=t(40).Reflect;n.exports=u&&u.ownKeys||function ownKeys(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},{40:40,7:7,77:77,78:78}],86:[function(t,n,r){var e=t(40).parseFloat,i=t(111).trim;n.exports=1/e(t(112)+"-0")!=-1/0?function parseFloat(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},{111:111,112:112,40:40}],87:[function(t,n,r){var e=t(40).parseInt,i=t(111).trim,o=t(112),u=/^[-+]?0[xX]/;n.exports=8!==e(o+"08")||22!==e(o+"0x16")?function parseInt(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},{111:111,112:112,40:40}],88:[function(t,n,r){"use strict";var e=t(89),i=t(46),o=t(3);n.exports=function(){for(var t=o(this),n=arguments.length,r=Array(n),u=0,c=e._,a=!1;n>u;)(r[u]=arguments[u++])===c&&(a=!0);return function(){var e,o=this,u=arguments.length,f=0,s=0;if(!a&&!u)return i(t,r,o);if(e=r.slice(),a)for(;n>f;f++)e[f]===c&&(e[f]=arguments[s++]);for(;u>s;)e.push(arguments[s++]);return i(t,e,o)}}},{3:3,46:46,89:89}],89:[function(t,n,r){n.exports=t(40)},{40:40}],90:[function(t,n,r){n.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],91:[function(t,n,r){var e=t(69);n.exports=function(t,n){var r=e.f(t);return(0,r.resolve)(n),r.promise}},{69:69}],92:[function(t,n,r){n.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},{}],93:[function(t,n,r){var e=t(94);n.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},{94:94}],94:[function(t,n,r){var e=t(40),i=t(42),o=t(41),u=t(124)("src"),c=Function.toString,a=(""+c).split("toString");t(23).inspectSource=function(t){return c.call(t)},(n.exports=function(t,n,r,c){var f="function"==typeof r;f&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(f&&(o(r,u)||i(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,"toString",function toString(){return"function"==typeof this&&this[u]||c.call(this)})},{124:124,23:23,40:40,41:41,42:42}],95:[function(t,n,r){n.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},{}],96:[function(t,n,r){n.exports=Object.is||function is(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},{}],97:[function(t,n,r){"use strict";var e=t(33),i=t(3),o=t(25),u=t(39);n.exports=function(t){e(e.S,t,{from:function from(t){var n,r,e,c,a=arguments[1];return i(this),n=void 0!==a,n&&i(a),void 0==t?new this:(r=[],n?(e=0,c=o(a,arguments[2],2),u(t,!1,function(t){r.push(c(t,e++))})):u(t,!1,r.push,r),new this(r))}})}},{25:25,3:3,33:33,39:39}],98:[function(t,n,r){"use strict";var e=t(33);n.exports=function(t){e(e.S,t,{of:function of(){for(var t=arguments.length,n=Array(t);t--;)n[t]=arguments[t];return new this(n)}})}},{33:33}],99:[function(t,n,r){var e=t(51),i=t(7),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};n.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(n,r,e){try{e=t(25)(Function.call,t(75).f(Object.prototype,"__proto__").set,2),e(n,[]),r=!(n instanceof Array)}catch(t){r=!0}return function setPrototypeOf(t,n){return o(t,n),r?t.__proto__=n:e(t,n),t}}({},!1):void 0),check:o}},{25:25,51:51,7:7,75:75}],100:[function(t,n,r){"use strict";var e=t(40),i=t(72),o=t(29),u=t(128)("species");n.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},{128:128,29:29,40:40,72:72}],101:[function(t,n,r){var e=t(72).f,i=t(41),o=t(128)("toStringTag");n.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},{128:128,41:41,72:72}],102:[function(t,n,r){var e=t(103)("keys"),i=t(124);n.exports=function(t){return e[t]||(e[t]=i(t))}},{103:103,124:124}],103:[function(t,n,r){var e=t(40),i=e["__core-js_shared__"]||(e["__core-js_shared__"]={});n.exports=function(t){return i[t]||(i[t]={})}},{40:40}],104:[function(t,n,r){var e=t(7),i=t(3),o=t(128)("species");n.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r)}},{128:128,3:3,7:7}],105:[function(t,n,r){"use strict";var e=t(35);n.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},{35:35}],106:[function(t,n,r){var e=t(116),i=t(28);n.exports=function(t){return function(n,r){var o,u,c=String(i(n)),a=e(r),f=c.length;return a<0||a>=f?t?"":void 0:(o=c.charCodeAt(a),o<55296||o>56319||a+1===f||(u=c.charCodeAt(a+1))<56320||u>57343?t?c.charAt(a):o:t?c.slice(a,a+2):u-56320+(o-55296<<10)+65536)}}},{116:116,28:28}],107:[function(t,n,r){var e=t(52),i=t(28);n.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},{28:28,52:52}],108:[function(t,n,r){var e=t(33),i=t(35),o=t(28),u=/"/g,c=function(t,n,r,e){var i=String(o(t)),c="<"+n;return""!==r&&(c+=" "+r+'="'+String(e).replace(u,"&quot;")+'"'),c+">"+i+"</"+n+">"};n.exports=function(t,n){var r={};r[t]=n(c),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},{28:28,33:33,35:35}],109:[function(t,n,r){var e=t(118),i=t(110),o=t(28);n.exports=function(t,n,r,u){var c=String(o(t)),a=c.length,f=void 0===r?" ":String(r),s=e(n);if(s<=a||""==f)return c;var l=s-a,h=i.call(f,Math.ceil(l/f.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},{110:110,118:118,28:28}],110:[function(t,n,r){"use strict";var e=t(116),i=t(28);n.exports=function repeat(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},{116:116,28:28}],111:[function(t,n,r){var e=t(33),i=t(28),o=t(35),u=t(112),c="["+u+"]",a="",f=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(t,n,r){var i={},c=o(function(){return!!u[t]()||a[t]()!=a}),f=i[t]=c?n(h):u[t];r&&(i[r]=f),e(e.P+e.F*c,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(f,"")),2&n&&(t=t.replace(s,"")),t};n.exports=l},{112:112,28:28,33:33,35:35}],112:[function(t,n,r){n.exports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],113:[function(t,n,r){var e,i,o,u=t(25),c=t(46),a=t(43),f=t(30),s=t(40),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,d=s.Dispatch,y=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},b=function(t){m.call(t.data)};h&&v||(h=function setImmediate(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return g[++y]=function(){c("function"==typeof t?t:Function(t),n)},e(y),y},v=function clearImmediate(t){delete g[t]},"process"==t(18)(l)?e=function(t){l.nextTick(u(m,t,1))}:d&&d.now?e=function(t){d.now(u(m,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=b,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",b,!1)):e="onreadystatechange"in f("script")?function(t){a.appendChild(f("script")).onreadystatechange=function(){a.removeChild(this),m.call(t)}}:function(t){setTimeout(u(m,t,1),0)}),n.exports={set:h,clear:v}},{18:18,25:25,30:30,40:40,43:43,46:46}],114:[function(t,n,r){var e=t(116),i=Math.max,o=Math.min;n.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},{116:116}],115:[function(t,n,r){var e=t(116),i=t(118);n.exports=function(t){if(void 0===t)return 0;var n=e(t),r=i(n);if(n!==r)throw RangeError("Wrong length!");return r}},{116:116,118:118}],116:[function(t,n,r){var e=Math.ceil,i=Math.floor;n.exports=function(t){return isNaN(t=+t)?0:(t>0?i:e)(t)}},{}],117:[function(t,n,r){var e=t(47),i=t(28);n.exports=function(t){return e(i(t))}},{28:28,47:47}],118:[function(t,n,r){var e=t(116),i=Math.min;n.exports=function(t){return t>0?i(e(t),9007199254740991):0}},{116:116}],
119:[function(t,n,r){var e=t(28);n.exports=function(t){return Object(e(t))}},{28:28}],120:[function(t,n,r){var e=t(51);n.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{51:51}],121:[function(t,n,r){"use strict";if(t(29)){var e=t(60),i=t(40),o=t(35),u=t(33),c=t(123),a=t(122),f=t(25),s=t(6),l=t(92),h=t(42),v=t(93),p=t(116),d=t(118),y=t(115),g=t(114),m=t(120),b=t(41),x=t(17),S=t(51),w=t(119),_=t(48),E=t(71),O=t(79),P=t(77).f,M=t(129),F=t(124),I=t(128),A=t(12),k=t(11),N=t(104),j=t(141),T=t(58),R=t(56),L=t(100),G=t(9),D=t(8),C=t(72),W=t(75),U=C.f,B=W.f,V=i.RangeError,z=i.TypeError,q=i.Uint8Array,K=Array.prototype,Y=a.ArrayBuffer,J=a.DataView,H=A(0),X=A(2),$=A(3),Z=A(4),Q=A(5),tt=A(6),nt=k(!0),rt=k(!1),et=j.values,it=j.keys,ot=j.entries,ut=K.lastIndexOf,ct=K.reduce,at=K.reduceRight,ft=K.join,st=K.sort,lt=K.slice,ht=K.toString,vt=K.toLocaleString,pt=I("iterator"),dt=I("toStringTag"),yt=F("typed_constructor"),gt=F("def_constructor"),mt=c.CONSTR,bt=c.TYPED,xt=c.VIEW,St=A(1,function(t,n){return Pt(N(t,t[gt]),n)}),wt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),_t=!!q&&!!q.prototype.set&&o(function(){new q(1).set({})}),Et=function(t,n){var r=p(t);if(r<0||r%n)throw V("Wrong offset!");return r},Ot=function(t){if(S(t)&&bt in t)return t;throw z(t+" is not a typed array!")},Pt=function(t,n){if(!(S(t)&&yt in t))throw z("It is not a typed array constructor!");return new t(n)},Mt=function(t,n){return Ft(N(t,t[gt]),n)},Ft=function(t,n){for(var r=0,e=n.length,i=Pt(t,e);e>r;)i[r]=n[r++];return i},It=function(t,n,r){U(t,n,{get:function(){return this._d[r]}})},At=function from(t){var n,r,e,i,o,u,c=w(t),a=arguments.length,s=a>1?arguments[1]:void 0,l=void 0!==s,h=M(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(l&&a>2&&(s=f(s,arguments[2],2)),n=0,r=d(c.length),i=Pt(this,r);r>n;n++)i[n]=l?s(c[n],n):c[n];return i},kt=function of(){for(var t=0,n=arguments.length,r=Pt(this,n);n>t;)r[t]=arguments[t++];return r},Nt=!!q&&o(function(){vt.call(new q(1))}),jt=function toLocaleString(){return vt.apply(Nt?lt.call(Ot(this)):Ot(this),arguments)},Tt={copyWithin:function copyWithin(t,n){return D.call(Ot(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function every(t){return Z(Ot(this),t,arguments.length>1?arguments[1]:void 0)},fill:function fill(t){return G.apply(Ot(this),arguments)},filter:function filter(t){return Mt(this,X(Ot(this),t,arguments.length>1?arguments[1]:void 0))},find:function find(t){return Q(Ot(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function findIndex(t){return tt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function forEach(t){H(Ot(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function indexOf(t){return rt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},includes:function includes(t){return nt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},join:function join(t){return ft.apply(Ot(this),arguments)},lastIndexOf:function lastIndexOf(t){return ut.apply(Ot(this),arguments)},map:function map(t){return St(Ot(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function reduce(t){return ct.apply(Ot(this),arguments)},reduceRight:function reduceRight(t){return at.apply(Ot(this),arguments)},reverse:function reverse(){for(var t,n=this,r=Ot(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function some(t){return $(Ot(this),t,arguments.length>1?arguments[1]:void 0)},sort:function sort(t){return st.call(Ot(this),t)},subarray:function subarray(t,n){var r=Ot(this),e=r.length,i=g(t,e);return new(N(r,r[gt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,d((void 0===n?e:g(n,e))-i))}},Rt=function slice(t,n){return Mt(this,lt.call(Ot(this),t,n))},Lt=function set(t){Ot(this);var n=Et(arguments[1],1),r=this.length,e=w(t),i=d(e.length),o=0;if(i+n>r)throw V("Wrong length!");for(;o<i;)this[n+o]=e[o++]},Gt={entries:function entries(){return ot.call(Ot(this))},keys:function keys(){return it.call(Ot(this))},values:function values(){return et.call(Ot(this))}},Dt=function(t,n){return S(t)&&t[bt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Ct=function getOwnPropertyDescriptor(t,n){return Dt(t,n=m(n,!0))?l(2,t[n]):B(t,n)},Wt=function defineProperty(t,n,r){return!(Dt(t,n=m(n,!0))&&S(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?U(t,n,r):(t[n]=r.value,t)};mt||(W.f=Ct,C.f=Wt),u(u.S+u.F*!mt,"Object",{getOwnPropertyDescriptor:Ct,defineProperty:Wt}),o(function(){ht.call({})})&&(ht=vt=function toString(){return ft.call(this)});var Ut=v({},Tt);v(Ut,Gt),h(Ut,pt,Gt.values),v(Ut,{slice:Rt,set:Lt,constructor:function(){},toString:ht,toLocaleString:jt}),It(Ut,"buffer","b"),It(Ut,"byteOffset","o"),It(Ut,"byteLength","l"),It(Ut,"length","e"),U(Ut,dt,{get:function(){return this[bt]}}),n.exports=function(t,n,r,a){a=!!a;var f=t+(a?"Clamped":"")+"Array",l="get"+t,v="set"+t,p=i[f],g=p||{},m=p&&O(p),b=!p||!c.ABV,w={},_=p&&p.prototype,M=function(t,r){var e=t._d;return e.v[l](r*n+e.o,wt)},F=function(t,r,e){var i=t._d;a&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[v](r*n+i.o,e,wt)},I=function(t,n){U(t,n,{get:function(){return M(this,n)},set:function(t){return F(this,n,t)},enumerable:!0})};b?(p=r(function(t,r,e,i){s(t,p,f,"_d");var o,u,c,a,l=0,v=0;if(S(r)){if(!(r instanceof Y||"ArrayBuffer"==(a=x(r))||"SharedArrayBuffer"==a))return bt in r?Ft(p,r):At.call(p,r);o=r,v=Et(e,n);var g=r.byteLength;if(void 0===i){if(g%n)throw V("Wrong length!");if((u=g-v)<0)throw V("Wrong length!")}else if((u=d(i)*n)+v>g)throw V("Wrong length!");c=u/n}else c=y(r),u=c*n,o=new Y(u);for(h(t,"_d",{b:o,o:v,l:u,e:c,v:new J(o)});l<c;)I(t,l++)}),_=p.prototype=E(Ut),h(_,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&R(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=r(function(t,r,e,i){s(t,p,f);var o;return S(r)?r instanceof Y||"ArrayBuffer"==(o=x(r))||"SharedArrayBuffer"==o?void 0!==i?new g(r,Et(e,n),i):void 0!==e?new g(r,Et(e,n)):new g(r):bt in r?Ft(p,r):At.call(p,r):new g(y(r))}),H(m!==Function.prototype?P(g).concat(P(m)):P(g),function(t){t in p||h(p,t,g[t])}),p.prototype=_,e||(_.constructor=p));var A=_[pt],k=!!A&&("values"==A.name||void 0==A.name),N=Gt.values;h(p,yt,!0),h(_,bt,f),h(_,xt,!0),h(_,gt,p),(a?new p(1)[dt]==f:dt in _)||U(_,dt,{get:function(){return f}}),w[f]=p,u(u.G+u.W+u.F*(p!=g),w),u(u.S,f,{BYTES_PER_ELEMENT:n}),u(u.S+u.F*o(function(){g.of.call(p,1)}),f,{from:At,of:kt}),"BYTES_PER_ELEMENT"in _||h(_,"BYTES_PER_ELEMENT",n),u(u.P,f,Tt),L(f),u(u.P+u.F*_t,f,{set:Lt}),u(u.P+u.F*!k,f,Gt),e||_.toString==ht||(_.toString=ht),u(u.P+u.F*o(function(){new p(1).slice()}),f,{slice:Rt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),f,{toLocaleString:jt}),T[f]=k?A:N,e||k||h(_,pt,N)}}else n.exports=function(){}},{100:100,104:104,11:11,114:114,115:115,116:116,118:118,119:119,12:12,120:120,122:122,123:123,124:124,128:128,129:129,141:141,17:17,25:25,29:29,33:33,35:35,40:40,41:41,42:42,48:48,51:51,56:56,58:58,6:6,60:60,71:71,72:72,75:75,77:77,79:79,8:8,9:9,92:92,93:93}],122:[function(t,n,r){"use strict";function packIEEE754(t,n,r){var e,i,o,u=Array(r),c=8*r-n-1,a=(1<<c)-1,f=a>>1,s=23===n?M(2,-24)-M(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for(t=P(t),t!=t||t===E?(i=t!=t?1:0,e=a):(e=F(I(t)/A),t*(o=M(2,-e))<1&&(e--,o*=2),t+=e+f>=1?s/o:s*M(2,1-f),t*o>=2&&(e++,o/=2),e+f>=a?(i=0,e=a):e+f>=1?(i=(t*o-1)*M(2,n),e+=f):(i=t*M(2,f-1)*M(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u}function unpackIEEE754(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,a=r-1,f=t[a--],s=127&f;for(f>>=7;c>0;s=256*s+t[a],a--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[a],a--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:f?-E:E;e+=M(2,n),s-=u}return(f?-1:1)*e*M(2,s-n)}function unpackI32(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function packI8(t){return[255&t]}function packI16(t){return[255&t,t>>8&255]}function packI32(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function packF64(t){return packIEEE754(t,52,8)}function packF32(t){return packIEEE754(t,23,4)}function addGetter(t,n,r){d(t[m],n,{get:function(){return this[r]}})}function get(t,n,r,e){var i=+r,o=v(i);if(o+n>t[N])throw _(b);var u=t[k]._b,c=o+t[j],a=u.slice(c,c+n);return e?a:a.reverse()}function set(t,n,r,e,i,o){var u=+r,c=v(u);if(c+n>t[N])throw _(b);for(var a=t[k]._b,f=c+t[j],s=e(+i),l=0;l<n;l++)a[f+l]=s[o?l:n-l-1]}var e=t(40),i=t(29),o=t(60),u=t(123),c=t(42),a=t(93),f=t(35),s=t(6),l=t(116),h=t(118),v=t(115),p=t(77).f,d=t(72).f,y=t(9),g=t(101),m="prototype",b="Wrong index!",x=e.ArrayBuffer,S=e.DataView,w=e.Math,_=e.RangeError,E=e.Infinity,O=x,P=w.abs,M=w.pow,F=w.floor,I=w.log,A=w.LN2,k=i?"_b":"buffer",N=i?"_l":"byteLength",j=i?"_o":"byteOffset";if(u.ABV){if(!f(function(){x(1)})||!f(function(){new x(-1)})||f(function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name})){x=function ArrayBuffer(t){return s(this,x),new O(v(t))};for(var T,R=x[m]=O[m],L=p(O),G=0;L.length>G;)(T=L[G++])in x||c(x,T,O[T]);o||(R.constructor=x)}var D=new S(new x(2)),C=S[m].setInt8;D.setInt8(0,2147483648),D.setInt8(1,2147483649),!D.getInt8(0)&&D.getInt8(1)||a(S[m],{setInt8:function setInt8(t,n){C.call(this,t,n<<24>>24)},setUint8:function setUint8(t,n){C.call(this,t,n<<24>>24)}},!0)}else x=function ArrayBuffer(t){s(this,x,"ArrayBuffer");var n=v(t);this._b=y.call(Array(n),0),this[N]=n},S=function DataView(t,n,r){s(this,S,"DataView"),s(t,x,"DataView");var e=t[N],i=l(n);if(i<0||i>e)throw _("Wrong offset!");if(r=void 0===r?e-i:h(r),i+r>e)throw _("Wrong length!");this[k]=t,this[j]=i,this[N]=r},i&&(addGetter(x,"byteLength","_l"),addGetter(S,"buffer","_b"),addGetter(S,"byteLength","_l"),addGetter(S,"byteOffset","_o")),a(S[m],{getInt8:function getInt8(t){return get(this,1,t)[0]<<24>>24},getUint8:function getUint8(t){return get(this,1,t)[0]},getInt16:function getInt16(t){var n=get(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function getUint16(t){var n=get(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function getInt32(t){return unpackI32(get(this,4,t,arguments[1]))},getUint32:function getUint32(t){return unpackI32(get(this,4,t,arguments[1]))>>>0},getFloat32:function getFloat32(t){return unpackIEEE754(get(this,4,t,arguments[1]),23,4)},getFloat64:function getFloat64(t){return unpackIEEE754(get(this,8,t,arguments[1]),52,8)},setInt8:function setInt8(t,n){set(this,1,t,packI8,n)},setUint8:function setUint8(t,n){set(this,1,t,packI8,n)},setInt16:function setInt16(t,n){set(this,2,t,packI16,n,arguments[2])},setUint16:function setUint16(t,n){set(this,2,t,packI16,n,arguments[2])},setInt32:function setInt32(t,n){set(this,4,t,packI32,n,arguments[2])},setUint32:function setUint32(t,n){set(this,4,t,packI32,n,arguments[2])},setFloat32:function setFloat32(t,n){set(this,4,t,packF32,n,arguments[2])},setFloat64:function setFloat64(t,n){set(this,8,t,packF64,n,arguments[2])}});g(x,"ArrayBuffer"),g(S,"DataView"),c(S[m],u.VIEW,!0),r.ArrayBuffer=x,r.DataView=S},{101:101,115:115,116:116,118:118,123:123,29:29,35:35,40:40,42:42,6:6,60:60,72:72,77:77,9:9,93:93}],123:[function(t,n,r){for(var e,i=t(40),o=t(42),u=t(124),c=u("typed_array"),a=u("view"),f=!(!i.ArrayBuffer||!i.DataView),s=f,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,a,!0)):s=!1;n.exports={ABV:f,CONSTR:s,TYPED:c,VIEW:a}},{124:124,40:40,42:42}],124:[function(t,n,r){var e=0,i=Math.random();n.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+i).toString(36))}},{}],125:[function(t,n,r){var e=t(51);n.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},{51:51}],126:[function(t,n,r){var e=t(40),i=t(23),o=t(60),u=t(127),c=t(72).f;n.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},{127:127,23:23,40:40,60:60,72:72}],127:[function(t,n,r){r.f=t(128)},{128:128}],128:[function(t,n,r){var e=t(103)("wks"),i=t(124),o=t(40).Symbol,u="function"==typeof o;(n.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},{103:103,124:124,40:40}],129:[function(t,n,r){var e=t(17),i=t(128)("iterator"),o=t(58);n.exports=t(23).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},{128:128,17:17,23:23,58:58}],130:[function(t,n,r){var e=t(33),i=t(95)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function escape(t){return i(t)}})},{33:33,95:95}],131:[function(t,n,r){var e=t(33);e(e.P,"Array",{copyWithin:t(8)}),t(5)("copyWithin")},{33:33,5:5,8:8}],132:[function(t,n,r){"use strict";var e=t(33),i=t(12)(4);e(e.P+e.F*!t(105)([].every,!0),"Array",{every:function every(t){return i(this,t,arguments[1])}})},{105:105,12:12,33:33}],133:[function(t,n,r){var e=t(33);e(e.P,"Array",{fill:t(9)}),t(5)("fill")},{33:33,5:5,9:9}],134:[function(t,n,r){"use strict";var e=t(33),i=t(12)(2);e(e.P+e.F*!t(105)([].filter,!0),"Array",{filter:function filter(t){return i(this,t,arguments[1])}})},{105:105,12:12,33:33}],135:[function(t,n,r){"use strict";var e=t(33),i=t(12)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function findIndex(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)(o)},{12:12,33:33,5:5}],136:[function(t,n,r){"use strict";var e=t(33),i=t(12)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),e(e.P+e.F*o,"Array",{find:function find(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)("find")},{12:12,33:33,5:5}],137:[function(t,n,r){"use strict";var e=t(33),i=t(12)(0),o=t(105)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function forEach(t){return i(this,t,arguments[1])}})},{105:105,12:12,33:33}],138:[function(t,n,r){"use strict";var e=t(25),i=t(33),o=t(119),u=t(53),c=t(48),a=t(118),f=t(24),s=t(129);i(i.S+i.F*!t(56)(function(t){Array.from(t)}),"Array",{from:function from(t){var n,r,i,l,h=o(t),v="function"==typeof this?this:Array,p=arguments.length,d=p>1?arguments[1]:void 0,y=void 0!==d,g=0,m=s(h);if(y&&(d=e(d,p>2?arguments[2]:void 0,2)),void 0==m||v==Array&&c(m))for(n=a(h.length),r=new v(n);n>g;g++)f(r,g,y?d(h[g],g):h[g]);else for(l=m.call(h),r=new v;!(i=l.next()).done;g++)f(r,g,y?u(l,d,[i.value,g],!0):i.value);return r.length=g,r}})},{118:118,119:119,129:129,24:24,25:25,33:33,48:48,53:53,56:56}],139:[function(t,n,r){"use strict";var e=t(33),i=t(11)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!t(105)(o)),"Array",{indexOf:function indexOf(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},{105:105,11:11,33:33}],140:[function(t,n,r){var e=t(33);e(e.S,"Array",{isArray:t(49)})},{33:33,49:49}],141:[function(t,n,r){"use strict";var e=t(5),i=t(57),o=t(58),u=t(117);n.exports=t(55)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},{117:117,5:5,55:55,57:57,58:58}],142:[function(t,n,r){"use strict";var e=t(33),i=t(117),o=[].join;e(e.P+e.F*(t(47)!=Object||!t(105)(o)),"Array",{join:function join(t){return o.call(i(this),void 0===t?",":t)}})},{105:105,117:117,33:33,47:47}],143:[function(t,n,r){"use strict";var e=t(33),i=t(117),o=t(116),u=t(118),c=[].lastIndexOf,a=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(a||!t(105)(c)),"Array",{lastIndexOf:function lastIndexOf(t){if(a)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},{105:105,116:116,117:117,118:118,33:33}],144:[function(t,n,r){"use strict";var e=t(33),i=t(12)(1);e(e.P+e.F*!t(105)([].map,!0),"Array",{map:function map(t){return i(this,t,arguments[1])}})},{105:105,12:12,33:33}],145:[function(t,n,r){"use strict";var e=t(33),i=t(24);e(e.S+e.F*t(35)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function of(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},{24:24,33:33,35:35}],146:[function(t,n,r){"use strict";var e=t(33),i=t(13);e(e.P+e.F*!t(105)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(t){return i(this,t,arguments.length,arguments[1],!0)}})},{105:105,13:13,33:33}],147:[function(t,n,r){"use strict";var e=t(33),i=t(13);e(e.P+e.F*!t(105)([].reduce,!0),"Array",{reduce:function reduce(t){return i(this,t,arguments.length,arguments[1],!1)}})},{105:105,13:13,33:33}],148:[function(t,n,r){"use strict";var e=t(33),i=t(43),o=t(18),u=t(114),c=t(118),a=[].slice;e(e.P+e.F*t(35)(function(){i&&a.call(i)}),"Array",{slice:function slice(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return a.call(this,t,n);for(var i=u(t,r),f=u(n,r),s=c(f-i),l=Array(s),h=0;h<s;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},{114:114,118:118,18:18,33:33,35:35,43:43}],149:[function(t,n,r){"use strict";var e=t(33),i=t(12)(3);e(e.P+e.F*!t(105)([].some,!0),"Array",{some:function some(t){return i(this,t,arguments[1])}})},{105:105,12:12,33:33}],150:[function(t,n,r){"use strict";var e=t(33),i=t(3),o=t(119),u=t(35),c=[].sort,a=[1,2,3];e(e.P+e.F*(u(function(){a.sort(void 0)})||!u(function(){a.sort(null)})||!t(105)(c)),"Array",{sort:function sort(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},{105:105,119:119,3:3,33:33,35:35}],151:[function(t,n,r){t(100)("Array")},{100:100}],152:[function(t,n,r){var e=t(33);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},{33:33}],153:[function(t,n,r){var e=t(33),i=t(26);e(e.P+e.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},{26:26,33:33}],154:[function(t,n,r){"use strict";var e=t(33),i=t(119),o=t(120);e(e.P+e.F*t(35)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function toJSON(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},{119:119,120:120,33:33,35:35}],155:[function(t,n,r){var e=t(128)("toPrimitive"),i=Date.prototype;e in i||t(42)(i,e,t(27))},{128:128,27:27,42:42}],156:[function(t,n,r){var e=Date.prototype,i=e.toString,o=e.getTime;new Date(NaN)+""!="Invalid Date"&&t(94)(e,"toString",function toString(){var t=o.call(this);return t===t?i.call(this):"Invalid Date"})},{94:94}],157:[function(t,n,r){var e=t(33);e(e.P,"Function",{bind:t(16)})},{16:16,33:33}],158:[function(t,n,r){"use strict";var e=t(51),i=t(79),o=t(128)("hasInstance"),u=Function.prototype;o in u||t(72).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},{128:128,51:51,72:72,79:79}],159:[function(t,n,r){var e=t(72).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||t(29)&&e(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},{29:29,72:72}],160:[function(t,n,r){"use strict";var e=t(19),i=t(125);n.exports=t(22)("Map",function(t){return function Map(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function get(t){var n=e.getEntry(i(this,"Map"),t);return n&&n.v},set:function set(t,n){return e.def(i(this,"Map"),0===t?0:t,n)}},e,!0)},{125:125,19:19,22:22}],161:[function(t,n,r){var e=t(33),i=t(63),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function acosh(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},{33:33,63:63}],162:[function(t,n,r){function asinh(t){return isFinite(t=+t)&&0!=t?t<0?-asinh(-t):Math.log(t+Math.sqrt(t*t+1)):t}var e=t(33),i=Math.asinh;e(e.S+e.F*!(i&&1/i(0)>0),"Math",{asinh:asinh})},{33:33}],163:[function(t,n,r){var e=t(33),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function atanh(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{33:33}],164:[function(t,n,r){var e=t(33),i=t(65);e(e.S,"Math",{cbrt:function cbrt(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},{33:33,65:65}],165:[function(t,n,r){var e=t(33);e(e.S,"Math",{clz32:function clz32(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{33:33}],166:[function(t,n,r){var e=t(33),i=Math.exp;e(e.S,"Math",{cosh:function cosh(t){return(i(t=+t)+i(-t))/2}})},{33:33}],167:[function(t,n,r){var e=t(33),i=t(61);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},{33:33,61:61}],168:[function(t,n,r){var e=t(33);e(e.S,"Math",{fround:t(62)})},{33:33,62:62}],169:[function(t,n,r){var e=t(33),i=Math.abs;e(e.S,"Math",{hypot:function hypot(t,n){for(var r,e,o=0,u=0,c=arguments.length,a=0;u<c;)r=i(arguments[u++]),a<r?(e=a/r,o=o*e*e+1,a=r):r>0?(e=r/a,o+=e*e):o+=r;return a===1/0?1/0:a*Math.sqrt(o)}})},{33:33}],170:[function(t,n,r){var e=t(33),i=Math.imul;e(e.S+e.F*t(35)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function imul(t,n){var r=+t,e=+n,i=65535&r,o=65535&e;return 0|i*o+((65535&r>>>16)*o+i*(65535&e>>>16)<<16>>>0)}})},{33:33,35:35}],171:[function(t,n,r){var e=t(33);e(e.S,"Math",{log10:function log10(t){return Math.log(t)*Math.LOG10E}})},{33:33}],172:[function(t,n,r){var e=t(33);e(e.S,"Math",{log1p:t(63)})},{33:33,63:63}],173:[function(t,n,r){var e=t(33);e(e.S,"Math",{log2:function log2(t){return Math.log(t)/Math.LN2}})},{33:33}],174:[function(t,n,r){var e=t(33);e(e.S,"Math",{sign:t(65)})},{33:33,65:65}],175:[function(t,n,r){var e=t(33),i=t(61),o=Math.exp;e(e.S+e.F*t(35)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function sinh(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},{33:33,35:35,61:61}],176:[function(t,n,r){var e=t(33),i=t(61),o=Math.exp;e(e.S,"Math",{tanh:function tanh(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},{33:33,61:61}],177:[function(t,n,r){var e=t(33);e(e.S,"Math",{trunc:function trunc(t){return(t>0?Math.floor:Math.ceil)(t)}})},{33:33}],178:[function(t,n,r){"use strict";var e=t(40),i=t(41),o=t(18),u=t(45),c=t(120),a=t(35),f=t(77).f,s=t(75).f,l=t(72).f,h=t(111).trim,v=e.Number,p=v,d=v.prototype,y="Number"==o(t(71)(d)),g="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=g?n.trim():h(n,3);var r,e,i,o=n.charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,a=n.slice(2),f=0,s=a.length;f<s;f++)if((u=a.charCodeAt(f))<48||u>i)return NaN;return parseInt(a,e)}}return+n};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function Number(t){var n=arguments.length<1?0:t,r=this;return r instanceof v&&(y?a(function(){d.valueOf.call(r)}):"Number"!=o(r))?u(new p(m(n)),r,v):m(n)};for(var b,x=t(29)?f(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;x.length>S;S++)i(p,b=x[S])&&!i(v,b)&&l(v,b,s(p,b));v.prototype=d,d.constructor=v,t(94)(e,"Number",v)}},{111:111,120:120,18:18,29:29,35:35,40:40,41:41,45:45,71:71,72:72,75:75,77:77,94:94}],179:[function(t,n,r){var e=t(33);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},{33:33}],180:[function(t,n,r){var e=t(33),i=t(40).isFinite;e(e.S,"Number",{isFinite:function isFinite(t){return"number"==typeof t&&i(t)}})},{33:33,40:40}],181:[function(t,n,r){var e=t(33);e(e.S,"Number",{isInteger:t(50)})},{33:33,50:50}],182:[function(t,n,r){var e=t(33);e(e.S,"Number",{isNaN:function isNaN(t){return t!=t}})},{33:33}],183:[function(t,n,r){var e=t(33),i=t(50),o=Math.abs;e(e.S,"Number",{isSafeInteger:function isSafeInteger(t){return i(t)&&o(t)<=9007199254740991}})},{33:33,50:50}],184:[function(t,n,r){var e=t(33);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{33:33}],185:[function(t,n,r){var e=t(33);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{33:33}],186:[function(t,n,r){var e=t(33),i=t(86);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},{33:33,86:86}],187:[function(t,n,r){var e=t(33),i=t(87);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},{33:33,87:87}],188:[function(t,n,r){"use strict";var e=t(33),i=t(116),o=t(4),u=t(110),c=1..toFixed,a=Math.floor,f=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*f[r],f[r]=e%1e7,e=a(e/1e7)},h=function(t){for(var n=6,r=0;--n>=0;)r+=f[n],f[n]=a(r/t),r=r%t*1e7},v=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==f[t]){var r=String(f[t]);n=""===n?r:n+u.call("0",7-r.length)+r}return n},p=function(t,n,r){return 0===n?r:n%2==1?p(t,n-1,r*t):p(t*t,n/2,r)},d=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t(35)(function(){c.call({})})),"Number",{toFixed:function toFixed(t){var n,r,e,c,a=o(this,s),f=i(t),y="",g="0";if(f<0||f>20)throw RangeError(s);if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(y="-",a=-a),a>1e-21)if(n=d(a*p(2,69,1))-69,r=n<0?a*p(2,-n,1):a/p(2,n,1),r*=4503599627370496,(n=52-n)>0){for(l(0,r),e=f;e>=7;)l(1e7,0),e-=7;for(l(p(10,e,1),0),e=n-1;e>=23;)h(1<<23),e-=23;h(1<<e),l(1,1),h(2),g=v()}else l(0,r),l(1<<-n,0),g=v()+u.call("0",f);return f>0?(c=g.length,g=y+(c<=f?"0."+u.call("0",f-c)+g:g.slice(0,c-f)+"."+g.slice(c-f))):g=y+g,g}})},{110:110,116:116,33:33,35:35,4:4}],189:[function(t,n,r){"use strict";var e=t(33),i=t(35),o=t(4),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function toPrecision(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},{33:33,35:35,4:4}],190:[function(t,n,r){var e=t(33);e(e.S+e.F,"Object",{assign:t(70)})},{33:33,70:70}],191:[function(t,n,r){var e=t(33);e(e.S,"Object",{create:t(71)})},{33:33,71:71}],192:[function(t,n,r){var e=t(33);e(e.S+e.F*!t(29),"Object",{defineProperties:t(73)})},{29:29,33:33,73:73}],193:[function(t,n,r){var e=t(33);e(e.S+e.F*!t(29),"Object",{defineProperty:t(72).f})},{29:29,33:33,72:72}],194:[function(t,n,r){var e=t(51),i=t(66).onFreeze;t(83)("freeze",function(t){return function freeze(n){return t&&e(n)?t(i(n)):n}})},{51:51,66:66,83:83}],195:[function(t,n,r){var e=t(117),i=t(75).f;t(83)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(t,n){return i(e(t),n)}})},{117:117,75:75,83:83}],196:[function(t,n,r){t(83)("getOwnPropertyNames",function(){return t(76).f})},{76:76,83:83}],197:[function(t,n,r){var e=t(119),i=t(79);t(83)("getPrototypeOf",function(){return function getPrototypeOf(t){return i(e(t))}})},{119:119,79:79,83:83}],198:[function(t,n,r){var e=t(51);t(83)("isExtensible",function(t){return function isExtensible(n){return!!e(n)&&(!t||t(n))}})},{51:51,83:83}],199:[function(t,n,r){var e=t(51);t(83)("isFrozen",function(t){return function isFrozen(n){return!e(n)||!!t&&t(n)}})},{51:51,83:83}],200:[function(t,n,r){var e=t(51);t(83)("isSealed",function(t){return function isSealed(n){return!e(n)||!!t&&t(n)}})},{51:51,83:83}],201:[function(t,n,r){var e=t(33);e(e.S,"Object",{is:t(96)})},{33:33,96:96}],202:[function(t,n,r){var e=t(119),i=t(81);t(83)("keys",function(){return function keys(t){return i(e(t))}})},{119:119,81:81,83:83}],203:[function(t,n,r){var e=t(51),i=t(66).onFreeze;t(83)("preventExtensions",function(t){return function preventExtensions(n){return t&&e(n)?t(i(n)):n}})},{51:51,66:66,83:83}],204:[function(t,n,r){var e=t(51),i=t(66).onFreeze;t(83)("seal",function(t){return function seal(n){return t&&e(n)?t(i(n)):n}})},{51:51,66:66,83:83}],205:[function(t,n,r){var e=t(33);e(e.S,"Object",{setPrototypeOf:t(99).set})},{33:33,99:99}],206:[function(t,n,r){"use strict";var e=t(17),i={};i[t(128)("toStringTag")]="z",i+""!="[object z]"&&t(94)(Object.prototype,"toString",function toString(){return"[object "+e(this)+"]"},!0)},{128:128,17:17,94:94}],207:[function(t,n,r){var e=t(33),i=t(86);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},{33:33,86:86}],208:[function(t,n,r){var e=t(33),i=t(87);e(e.G+e.F*(parseInt!=i),{parseInt:i})},{33:33,87:87}],209:[function(t,n,r){"use strict";var e,i,o,u,c=t(60),a=t(40),f=t(25),s=t(17),l=t(33),h=t(51),v=t(3),p=t(6),d=t(39),y=t(104),g=t(113).set,m=t(68)(),b=t(69),x=t(90),S=t(91),w=a.TypeError,_=a.process,E=a.Promise,O="process"==s(_),P=function(){},M=i=b.f,F=!!function(){try{var n=E.resolve(1),r=(n.constructor={})[t(128)("species")]=function(t){t(P,P)};return(O||"function"==typeof PromiseRejectionEvent)&&n.then(P)instanceof r}catch(t){}}(),I=c?function(t,n){return t===n||t===E&&n===u}:function(t,n){return t===n},A=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},k=function(t,n){if(!t._n){t._n=!0;var r=t._c;m(function(){for(var e=t._v,i=1==t._s,o=0;r.length>o;)!function(n){var r,o,u=i?n.ok:n.fail,c=n.resolve,a=n.reject,f=n.domain;try{u?(i||(2==t._h&&T(t),t._h=1),!0===u?r=e:(f&&f.enter(),r=u(e),f&&f.exit()),r===n.promise?a(w("Promise-chain cycle")):(o=A(r))?o.call(r,c,a):c(r)):a(e)}catch(t){a(t)}}(r[o++]);t._c=[],t._n=!1,n&&!t._h&&N(t)})}},N=function(t){g.call(a,function(){var n,r,e,i=t._v,o=j(t);if(o&&(n=x(function(){O?_.emit("unhandledRejection",i,t):(r=a.onunhandledrejection)?r({promise:t,reason:i}):(e=a.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=O||j(t)?2:1),t._a=void 0,o&&n.e)throw n.v})},j=function(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,e=0;r.length>e;)if(n=r[e++],n.fail||!j(n.promise))return!1;return!0},T=function(t){g.call(a,function(){var n;O?_.emit("rejectionHandled",t):(n=a.onrejectionhandled)&&n({promise:t,reason:t._v})})},R=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),k(n,!0))},L=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw w("Promise can't be resolved itself");(n=A(t))?m(function(){var e={_w:r,_d:!1};try{n.call(t,f(L,e,1),f(R,e,1))}catch(t){R.call(e,t)}}):(r._v=t,r._s=1,k(r,!1))}catch(t){R.call({_w:r,_d:!1},t)}}};F||(E=function Promise(t){p(this,E,"Promise","_h"),v(t),e.call(this);try{t(f(L,this,1),f(R,this,1))}catch(t){R.call(this,t)}},e=function Promise(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=t(93)(E.prototype,{then:function then(t,n){var r=M(y(this,E));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=O?_.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&k(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new e;this.promise=t,this.resolve=f(L,t,1),this.reject=f(R,t,1)},b.f=M=function(t){return I(E,t)?new o(t):i(t)}),l(l.G+l.W+l.F*!F,{Promise:E}),t(101)(E,"Promise"),t(100)("Promise"),u=t(23).Promise,l(l.S+l.F*!F,"Promise",{reject:function reject(t){var n=M(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(c||!F),"Promise",{resolve:function resolve(t){return t instanceof E&&I(t.constructor,this)?t:S(this,t)}}),l(l.S+l.F*!(F&&t(56)(function(t){E.all(t).catch(P)})),"Promise",{all:function all(t){var n=this,r=M(n),e=r.resolve,i=r.reject,o=x(function(){var r=[],o=0,u=1;d(t,!1,function(t){var c=o++,a=!1;r.push(void 0),u++,n.resolve(t).then(function(t){a||(a=!0,r[c]=t,--u||e(r))},i)}),--u||e(r)});return o.e&&i(o.v),r.promise},race:function race(t){var n=this,r=M(n),e=r.reject,i=x(function(){d(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i.e&&e(i.v),r.promise}})},{100:100,101:101,104:104,113:113,128:128,17:17,23:23,25:25,
3:3,33:33,39:39,40:40,51:51,56:56,6:6,60:60,68:68,69:69,90:90,91:91,93:93}],210:[function(t,n,r){var e=t(33),i=t(3),o=t(7),u=(t(40).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!t(35)(function(){u(function(){})}),"Reflect",{apply:function apply(t,n,r){var e=i(t),a=o(r);return u?u(e,n,a):c.call(e,n,a)}})},{3:3,33:33,35:35,40:40,7:7}],211:[function(t,n,r){var e=t(33),i=t(71),o=t(3),u=t(7),c=t(51),a=t(35),f=t(16),s=(t(40).Reflect||{}).construct,l=a(function(){function F(){}return!(s(function(){},[],F)instanceof F)}),h=!a(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function construct(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(f.apply(t,e))}var a=r.prototype,v=i(c(a)?a:Object.prototype),p=Function.apply.call(t,v,n);return c(p)?p:v}})},{16:16,3:3,33:33,35:35,40:40,51:51,7:7,71:71}],212:[function(t,n,r){var e=t(72),i=t(33),o=t(7),u=t(120);i(i.S+i.F*t(35)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function defineProperty(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},{120:120,33:33,35:35,7:7,72:72}],213:[function(t,n,r){var e=t(33),i=t(75).f,o=t(7);e(e.S,"Reflect",{deleteProperty:function deleteProperty(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},{33:33,7:7,75:75}],214:[function(t,n,r){"use strict";var e=t(33),i=t(7),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};t(54)(o,"Object",function(){var t,n=this,r=n._k;do{if(n._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[n._i++])in n._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function enumerate(t){return new o(t)}})},{33:33,54:54,7:7}],215:[function(t,n,r){var e=t(75),i=t(33),o=t(7);i(i.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(t,n){return e.f(o(t),n)}})},{33:33,7:7,75:75}],216:[function(t,n,r){var e=t(33),i=t(79),o=t(7);e(e.S,"Reflect",{getPrototypeOf:function getPrototypeOf(t){return i(o(t))}})},{33:33,7:7,79:79}],217:[function(t,n,r){function get(t,n){var r,u,f=arguments.length<3?t:arguments[2];return a(t)===f?t[n]:(r=e.f(t,n))?o(r,"value")?r.value:void 0!==r.get?r.get.call(f):void 0:c(u=i(t))?get(u,n,f):void 0}var e=t(75),i=t(79),o=t(41),u=t(33),c=t(51),a=t(7);u(u.S,"Reflect",{get:get})},{33:33,41:41,51:51,7:7,75:75,79:79}],218:[function(t,n,r){var e=t(33);e(e.S,"Reflect",{has:function has(t,n){return n in t}})},{33:33}],219:[function(t,n,r){var e=t(33),i=t(7),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function isExtensible(t){return i(t),!o||o(t)}})},{33:33,7:7}],220:[function(t,n,r){var e=t(33);e(e.S,"Reflect",{ownKeys:t(85)})},{33:33,85:85}],221:[function(t,n,r){var e=t(33),i=t(7),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function preventExtensions(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},{33:33,7:7}],222:[function(t,n,r){var e=t(33),i=t(99);i&&e(e.S,"Reflect",{setPrototypeOf:function setPrototypeOf(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},{33:33,99:99}],223:[function(t,n,r){function set(t,n,r){var c,l,h=arguments.length<4?t:arguments[3],v=i.f(f(t),n);if(!v){if(s(l=o(t)))return set(l,n,r,h);v=a(0)}return u(v,"value")?!(!1===v.writable||!s(h))&&(c=i.f(h,n)||a(0),c.value=r,e.f(h,n,c),!0):void 0!==v.set&&(v.set.call(h,r),!0)}var e=t(72),i=t(75),o=t(79),u=t(41),c=t(33),a=t(92),f=t(7),s=t(51);c(c.S,"Reflect",{set:set})},{33:33,41:41,51:51,7:7,72:72,75:75,79:79,92:92}],224:[function(t,n,r){var e=t(40),i=t(45),o=t(72).f,u=t(77).f,c=t(52),a=t(37),f=e.RegExp,s=f,l=f.prototype,h=/a/g,v=/a/g,p=new f(h)!==h;if(t(29)&&(!p||t(35)(function(){return v[t(128)("match")]=!1,f(h)!=h||f(v)==v||"/a/i"!=f(h,"i")}))){f=function RegExp(t,n){var r=this instanceof f,e=c(t),o=void 0===n;return!r&&e&&t.constructor===f&&o?t:i(p?new s(e&&!o?t.source:t,n):s((e=t instanceof f)?t.source:t,e&&o?a.call(t):n),r?this:l,f)};for(var d=u(s),y=0;d.length>y;)!function(t){t in f||o(f,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}(d[y++]);l.constructor=f,f.prototype=l,t(94)(e,"RegExp",f)}t(100)("RegExp")},{100:100,128:128,29:29,35:35,37:37,40:40,45:45,52:52,72:72,77:77,94:94}],225:[function(t,n,r){t(29)&&"g"!=/./g.flags&&t(72).f(RegExp.prototype,"flags",{configurable:!0,get:t(37)})},{29:29,37:37,72:72}],226:[function(t,n,r){t(36)("match",1,function(t,n,r){return[function match(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},{36:36}],227:[function(t,n,r){t(36)("replace",2,function(t,n,r){return[function replace(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i)},r]})},{36:36}],228:[function(t,n,r){t(36)("search",1,function(t,n,r){return[function search(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},{36:36}],229:[function(t,n,r){t(36)("split",2,function(n,r,e){"use strict";var i=t(52),o=e,u=[].push,c="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[c]||2!="ab".split(/(?:ab)*/)[c]||4!=".".split(/(.?)(.?)/)[c]||".".split(/()()/)[c]>1||"".split(/.?/)[c]){var a=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,f,s,l,h,v=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,y=void 0===n?4294967295:n>>>0,g=new RegExp(t.source,p+"g");for(a||(e=new RegExp("^"+g.source+"$(?!\\s)",p));(f=g.exec(r))&&!((s=f.index+f[0][c])>d&&(v.push(r.slice(d,f.index)),!a&&f[c]>1&&f[0].replace(e,function(){for(h=1;h<arguments[c]-2;h++)void 0===arguments[h]&&(f[h]=void 0)}),f[c]>1&&f.index<r[c]&&u.apply(v,f.slice(1)),l=f[0][c],d=s,v[c]>=y));)g.lastIndex===f.index&&g.lastIndex++;return d===r[c]?!l&&g.test("")||v.push(""):v.push(r.slice(d)),v[c]>y?v.slice(0,y):v}}else"0".split(void 0,0)[c]&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function split(t,i){var o=n(this),u=void 0==t?void 0:t[r];return void 0!==u?u.call(t,o,i):e.call(String(o),t,i)},e]})},{36:36,52:52}],230:[function(t,n,r){"use strict";t(225);var e=t(7),i=t(37),o=t(29),u=/./.toString,c=function(n){t(94)(RegExp.prototype,"toString",n,!0)};t(35)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?c(function toString(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=u.name&&c(function toString(){return u.call(this)})},{225:225,29:29,35:35,37:37,7:7,94:94}],231:[function(t,n,r){"use strict";var e=t(19),i=t(125);n.exports=t(22)("Set",function(t){return function Set(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(t){return e.def(i(this,"Set"),t=0===t?0:t,t)}},e)},{125:125,19:19,22:22}],232:[function(t,n,r){"use strict";t(108)("anchor",function(t){return function anchor(n){return t(this,"a","name",n)}})},{108:108}],233:[function(t,n,r){"use strict";t(108)("big",function(t){return function big(){return t(this,"big","","")}})},{108:108}],234:[function(t,n,r){"use strict";t(108)("blink",function(t){return function blink(){return t(this,"blink","","")}})},{108:108}],235:[function(t,n,r){"use strict";t(108)("bold",function(t){return function bold(){return t(this,"b","","")}})},{108:108}],236:[function(t,n,r){"use strict";var e=t(33),i=t(106)(!1);e(e.P,"String",{codePointAt:function codePointAt(t){return i(this,t)}})},{106:106,33:33}],237:[function(t,n,r){"use strict";var e=t(33),i=t(118),o=t(107),u="".endsWith;e(e.P+e.F*t(34)("endsWith"),"String",{endsWith:function endsWith(t){var n=o(this,t,"endsWith"),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),c=void 0===r?e:Math.min(i(r),e),a=String(t);return u?u.call(n,a,c):n.slice(c-a.length,c)===a}})},{107:107,118:118,33:33,34:34}],238:[function(t,n,r){"use strict";t(108)("fixed",function(t){return function fixed(){return t(this,"tt","","")}})},{108:108}],239:[function(t,n,r){"use strict";t(108)("fontcolor",function(t){return function fontcolor(n){return t(this,"font","color",n)}})},{108:108}],240:[function(t,n,r){"use strict";t(108)("fontsize",function(t){return function fontsize(n){return t(this,"font","size",n)}})},{108:108}],241:[function(t,n,r){var e=t(33),i=t(114),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function fromCodePoint(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},{114:114,33:33}],242:[function(t,n,r){"use strict";var e=t(33),i=t(107);e(e.P+e.F*t(34)("includes"),"String",{includes:function includes(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{107:107,33:33,34:34}],243:[function(t,n,r){"use strict";t(108)("italics",function(t){return function italics(){return t(this,"i","","")}})},{108:108}],244:[function(t,n,r){"use strict";var e=t(106)(!0);t(55)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},{106:106,55:55}],245:[function(t,n,r){"use strict";t(108)("link",function(t){return function link(n){return t(this,"a","href",n)}})},{108:108}],246:[function(t,n,r){var e=t(33),i=t(117),o=t(118);e(e.S,"String",{raw:function raw(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},{117:117,118:118,33:33}],247:[function(t,n,r){var e=t(33);e(e.P,"String",{repeat:t(110)})},{110:110,33:33}],248:[function(t,n,r){"use strict";t(108)("small",function(t){return function small(){return t(this,"small","","")}})},{108:108}],249:[function(t,n,r){"use strict";var e=t(33),i=t(118),o=t(107),u="".startsWith;e(e.P+e.F*t(34)("startsWith"),"String",{startsWith:function startsWith(t){var n=o(this,t,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return u?u.call(n,e,r):n.slice(r,r+e.length)===e}})},{107:107,118:118,33:33,34:34}],250:[function(t,n,r){"use strict";t(108)("strike",function(t){return function strike(){return t(this,"strike","","")}})},{108:108}],251:[function(t,n,r){"use strict";t(108)("sub",function(t){return function sub(){return t(this,"sub","","")}})},{108:108}],252:[function(t,n,r){"use strict";t(108)("sup",function(t){return function sup(){return t(this,"sup","","")}})},{108:108}],253:[function(t,n,r){"use strict";t(111)("trim",function(t){return function trim(){return t(this,3)}})},{111:111}],254:[function(t,n,r){"use strict";var e=t(40),i=t(41),o=t(29),u=t(33),c=t(94),a=t(66).KEY,f=t(35),s=t(103),l=t(101),h=t(124),v=t(128),p=t(127),d=t(126),y=t(59),g=t(32),m=t(49),b=t(7),x=t(117),S=t(120),w=t(92),_=t(71),E=t(76),O=t(75),P=t(72),M=t(81),F=O.f,I=P.f,A=E.f,k=e.Symbol,N=e.JSON,j=N&&N.stringify,T=v("_hidden"),R=v("toPrimitive"),L={}.propertyIsEnumerable,G=s("symbol-registry"),D=s("symbols"),C=s("op-symbols"),W=Object.prototype,U="function"==typeof k,B=e.QObject,V=!B||!B.prototype||!B.prototype.findChild,z=o&&f(function(){return 7!=_(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(W,n);e&&delete W[n],I(t,n,r),e&&t!==W&&I(W,n,e)}:I,q=function(t){var n=D[t]=_(k.prototype);return n._k=t,n},K=U&&"symbol"==typeof k.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof k},Y=function defineProperty(t,n,r){return t===W&&Y(C,n,r),b(t),n=S(n,!0),b(r),i(D,n)?(r.enumerable?(i(t,T)&&t[T][n]&&(t[T][n]=!1),r=_(r,{enumerable:w(0,!1)})):(i(t,T)||I(t,T,w(1,{})),t[T][n]=!0),z(t,n,r)):I(t,n,r)},J=function defineProperties(t,n){b(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},H=function create(t,n){return void 0===n?_(t):J(_(t),n)},X=function propertyIsEnumerable(t){var n=L.call(this,t=S(t,!0));return!(this===W&&i(D,t)&&!i(C,t))&&(!(n||!i(this,t)||!i(D,t)||i(this,T)&&this[T][t])||n)},$=function getOwnPropertyDescriptor(t,n){if(t=x(t),n=S(n,!0),t!==W||!i(D,n)||i(C,n)){var r=F(t,n);return!r||!i(D,n)||i(t,T)&&t[T][n]||(r.enumerable=!0),r}},Z=function getOwnPropertyNames(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(D,n=r[o++])||n==T||n==a||e.push(n);return e},Q=function getOwnPropertySymbols(t){for(var n,r=t===W,e=A(r?C:x(t)),o=[],u=0;e.length>u;)!i(D,n=e[u++])||r&&!i(W,n)||o.push(D[n]);return o};U||(k=function Symbol(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===W&&n.call(C,r),i(this,T)&&i(this[T],t)&&(this[T][t]=!1),z(this,t,w(1,r))};return o&&V&&z(W,t,{configurable:!0,set:n}),q(t)},c(k.prototype,"toString",function toString(){return this._k}),O.f=$,P.f=Y,t(77).f=E.f=Z,t(82).f=X,t(78).f=Q,o&&!t(60)&&c(W,"propertyIsEnumerable",X,!0),p.f=function(t){return q(v(t))}),u(u.G+u.W+u.F*!U,{Symbol:k});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;tt.length>nt;)v(tt[nt++]);for(var rt=M(v.store),et=0;rt.length>et;)d(rt[et++]);u(u.S+u.F*!U,"Symbol",{for:function(t){return i(G,t+="")?G[t]:G[t]=k(t)},keyFor:function keyFor(t){if(K(t))return y(G,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),u(u.S+u.F*!U,"Object",{create:H,defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),N&&u(u.S+u.F*(!U||f(function(){var t=k();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function stringify(t){if(void 0!==t&&!K(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&m(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!K(n))return n}),e[1]=n,j.apply(N,e)}}}),k.prototype[R]||t(42)(k.prototype,R,k.prototype.valueOf),l(k,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},{101:101,103:103,117:117,120:120,124:124,126:126,127:127,128:128,29:29,32:32,33:33,35:35,40:40,41:41,42:42,49:49,59:59,60:60,66:66,7:7,71:71,72:72,75:75,76:76,77:77,78:78,81:81,82:82,92:92,94:94}],255:[function(t,n,r){"use strict";var e=t(33),i=t(123),o=t(122),u=t(7),c=t(114),a=t(118),f=t(51),s=t(40).ArrayBuffer,l=t(104),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,d=h.prototype.slice,y=i.VIEW;e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,"ArrayBuffer",{isView:function isView(t){return p&&p(t)||f(t)&&y in t}}),e(e.P+e.U+e.F*t(35)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function slice(t,n){if(void 0!==d&&void 0===n)return d.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(a(i-e)),f=new v(this),s=new v(o),p=0;e<i;)s.setUint8(p++,f.getUint8(e++));return o}}),t(100)("ArrayBuffer")},{100:100,104:104,114:114,118:118,122:122,123:123,33:33,35:35,40:40,51:51,7:7}],256:[function(t,n,r){var e=t(33);e(e.G+e.W+e.F*!t(123).ABV,{DataView:t(122).DataView})},{122:122,123:123,33:33}],257:[function(t,n,r){t(121)("Float32",4,function(t){return function Float32Array(n,r,e){return t(this,n,r,e)}})},{121:121}],258:[function(t,n,r){t(121)("Float64",8,function(t){return function Float64Array(n,r,e){return t(this,n,r,e)}})},{121:121}],259:[function(t,n,r){t(121)("Int16",2,function(t){return function Int16Array(n,r,e){return t(this,n,r,e)}})},{121:121}],260:[function(t,n,r){t(121)("Int32",4,function(t){return function Int32Array(n,r,e){return t(this,n,r,e)}})},{121:121}],261:[function(t,n,r){t(121)("Int8",1,function(t){return function Int8Array(n,r,e){return t(this,n,r,e)}})},{121:121}],262:[function(t,n,r){t(121)("Uint16",2,function(t){return function Uint16Array(n,r,e){return t(this,n,r,e)}})},{121:121}],263:[function(t,n,r){t(121)("Uint32",4,function(t){return function Uint32Array(n,r,e){return t(this,n,r,e)}})},{121:121}],264:[function(t,n,r){t(121)("Uint8",1,function(t){return function Uint8Array(n,r,e){return t(this,n,r,e)}})},{121:121}],265:[function(t,n,r){t(121)("Uint8",1,function(t){return function Uint8ClampedArray(n,r,e){return t(this,n,r,e)}},!0)},{121:121}],266:[function(t,n,r){"use strict";var e,i=t(12)(0),o=t(94),u=t(66),c=t(70),a=t(21),f=t(51),s=t(35),l=t(125),h=u.getWeak,v=Object.isExtensible,p=a.ufstore,d={},y=function(t){return function WeakMap(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function get(t){if(f(t)){var n=h(t);return!0===n?p(l(this,"WeakMap")).get(t):n?n[this._i]:void 0}},set:function set(t,n){return a.def(l(this,"WeakMap"),t,n)}},m=n.exports=t(22)("WeakMap",y,g,a,!0,!0);s(function(){return 7!=(new m).set((Object.freeze||Object)(d),7).get(d)})&&(e=a.getConstructor(y,"WeakMap"),c(e.prototype,g),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=m.prototype,r=n[t];o(n,t,function(n,i){if(f(n)&&!v(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))},{12:12,125:125,21:21,22:22,35:35,51:51,66:66,70:70,94:94}],267:[function(t,n,r){"use strict";var e=t(21),i=t(125);t(22)("WeakSet",function(t){return function WeakSet(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(t){return e.def(i(this,"WeakSet"),t,!0)}},e,!1,!0)},{125:125,21:21,22:22}],268:[function(t,n,r){"use strict";var e=t(33),i=t(38),o=t(119),u=t(118),c=t(3),a=t(15);e(e.P,"Array",{flatMap:function flatMap(t){var n,r,e=o(this);return c(t),n=u(e.length),r=a(e,0),i(r,e,e,n,0,1,t,arguments[1]),r}}),t(5)("flatMap")},{118:118,119:119,15:15,3:3,33:33,38:38,5:5}],269:[function(t,n,r){"use strict";var e=t(33),i=t(38),o=t(119),u=t(118),c=t(116),a=t(15);e(e.P,"Array",{flatten:function flatten(){var t=arguments[0],n=o(this),r=u(n.length),e=a(n,0);return i(e,n,n,r,0,void 0===t?1:c(t)),e}}),t(5)("flatten")},{116:116,118:118,119:119,15:15,33:33,38:38,5:5}],270:[function(t,n,r){"use strict";var e=t(33),i=t(11)(!0);e(e.P,"Array",{includes:function includes(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)("includes")},{11:11,33:33,5:5}],271:[function(t,n,r){var e=t(33),i=t(68)(),o=t(40).process,u="process"==t(18)(o);e(e.G,{asap:function asap(t){var n=u&&o.domain;i(n?n.bind(t):t)}})},{18:18,33:33,40:40,68:68}],272:[function(t,n,r){var e=t(33),i=t(18);e(e.S,"Error",{isError:function isError(t){return"Error"===i(t)}})},{18:18,33:33}],273:[function(t,n,r){var e=t(33);e(e.G,{global:t(40)})},{33:33,40:40}],274:[function(t,n,r){t(97)("Map")},{97:97}],275:[function(t,n,r){t(98)("Map")},{98:98}],276:[function(t,n,r){var e=t(33);e(e.P+e.R,"Map",{toJSON:t(20)("Map")})},{20:20,33:33}],277:[function(t,n,r){var e=t(33);e(e.S,"Math",{clamp:function clamp(t,n,r){return Math.min(r,Math.max(n,t))}})},{33:33}],278:[function(t,n,r){var e=t(33);e(e.S,"Math",{DEG_PER_RAD:Math.PI/180})},{33:33}],279:[function(t,n,r){var e=t(33),i=180/Math.PI;e(e.S,"Math",{degrees:function degrees(t){return t*i}})},{33:33}],280:[function(t,n,r){var e=t(33),i=t(64),o=t(62);e(e.S,"Math",{fscale:function fscale(t,n,r,e,u){return o(i(t,n,r,e,u))}})},{33:33,62:62,64:64}],281:[function(t,n,r){var e=t(33);e(e.S,"Math",{iaddh:function iaddh(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o+(e>>>0)+((i&u|(i|u)&~(i+u>>>0))>>>31)|0}})},{33:33}],282:[function(t,n,r){var e=t(33);e(e.S,"Math",{imulh:function imulh(t,n){var r=+t,e=+n,i=65535&r,o=65535&e,u=r>>16,c=e>>16,a=(u*o>>>0)+(i*o>>>16);return u*c+(a>>16)+((i*c>>>0)+(65535&a)>>16)}})},{33:33}],283:[function(t,n,r){var e=t(33);e(e.S,"Math",{isubh:function isubh(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o-(e>>>0)-((~i&u|~(i^u)&i-u>>>0)>>>31)|0}})},{33:33}],284:[function(t,n,r){var e=t(33);e(e.S,"Math",{RAD_PER_DEG:180/Math.PI})},{33:33}],285:[function(t,n,r){var e=t(33),i=Math.PI/180;e(e.S,"Math",{radians:function radians(t){return t*i}})},{33:33}],286:[function(t,n,r){var e=t(33);e(e.S,"Math",{scale:t(64)})},{33:33,64:64}],287:[function(t,n,r){var e=t(33);e(e.S,"Math",{signbit:function signbit(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},{33:33}],288:[function(t,n,r){var e=t(33);e(e.S,"Math",{umulh:function umulh(t,n){var r=+t,e=+n,i=65535&r,o=65535&e,u=r>>>16,c=e>>>16,a=(u*o>>>0)+(i*o>>>16);return u*c+(a>>>16)+((i*c>>>0)+(65535&a)>>>16)}})},{33:33}],289:[function(t,n,r){"use strict";var e=t(33),i=t(119),o=t(3),u=t(72);t(29)&&e(e.P+t(74),"Object",{__defineGetter__:function __defineGetter__(t,n){u.f(i(this),t,{get:o(n),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],290:[function(t,n,r){"use strict";var e=t(33),i=t(119),o=t(3),u=t(72);t(29)&&e(e.P+t(74),"Object",{__defineSetter__:function __defineSetter__(t,n){u.f(i(this),t,{set:o(n),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],291:[function(t,n,r){var e=t(33),i=t(84)(!0);e(e.S,"Object",{entries:function entries(t){return i(t)}})},{33:33,84:84}],292:[function(t,n,r){var e=t(33),i=t(85),o=t(117),u=t(75),c=t(24);e(e.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(t){for(var n,r,e=o(t),a=u.f,f=i(e),s={},l=0;f.length>l;)void 0!==(r=a(e,n=f[l++]))&&c(s,n,r);return s}})},{117:117,24:24,33:33,75:75,85:85}],293:[function(t,n,r){"use strict";var e=t(33),i=t(119),o=t(120),u=t(79),c=t(75).f;t(29)&&e(e.P+t(74),"Object",{__lookupGetter__:function __lookupGetter__(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],294:[function(t,n,r){"use strict";var e=t(33),i=t(119),o=t(120),u=t(79),c=t(75).f;t(29)&&e(e.P+t(74),"Object",{__lookupSetter__:function __lookupSetter__(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.set}while(r=u(r))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],295:[function(t,n,r){var e=t(33),i=t(84)(!1);e(e.S,"Object",{values:function values(t){return i(t)}})},{33:33,84:84}],296:[function(t,n,r){"use strict";var e=t(33),i=t(40),o=t(23),u=t(68)(),c=t(128)("observable"),a=t(3),f=t(7),s=t(6),l=t(93),h=t(42),v=t(39),p=v.RETURN,d=function(t){return null==t?void 0:a(t)},y=function(t){var n=t._c;n&&(t._c=void 0,n())},g=function(t){return void 0===t._o},m=function(t){g(t)||(t._o=void 0,y(t))},b=function(t,n){f(t),this._c=void 0,this._o=t,t=new x(this);try{var r=n(t),e=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){e.unsubscribe()}:a(r),this._c=r)}catch(n){return void t.error(n)}g(this)&&y(this)};b.prototype=l({},{unsubscribe:function unsubscribe(){m(this)}});var x=function(t){this._s=t};x.prototype=l({},{next:function next(t){var n=this._s;if(!g(n)){var r=n._o;try{var e=d(r.next);if(e)return e.call(r,t)}catch(t){try{m(n)}finally{throw t}}}},error:function error(t){var n=this._s;if(g(n))throw t;var r=n._o;n._o=void 0;try{var e=d(r.error);if(!e)throw t;t=e.call(r,t)}catch(t){try{y(n)}finally{throw t}}return y(n),t},complete:function complete(t){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var e=d(r.complete);t=e?e.call(r,t):void 0}catch(t){try{y(n)}finally{throw t}}return y(n),t}}});var S=function Observable(t){s(this,S,"Observable","_f")._f=a(t)};l(S.prototype,{subscribe:function subscribe(t){return new b(t,this._f)},forEach:function forEach(t){var n=this;return new(o.Promise||i.Promise)(function(r,e){a(t);var i=n.subscribe({next:function(n){try{return t(n)}catch(t){e(t),i.unsubscribe()}},error:e,complete:r})})}}),l(S,{from:function from(t){var n="function"==typeof this?this:S,r=d(f(t)[c]);if(r){var e=f(r.call(t));return e.constructor===n?e:new n(function(t){return e.subscribe(t)})}return new n(function(n){var r=!1;return u(function(){if(!r){try{if(v(t,!1,function(t){if(n.next(t),r)return p})===p)return}catch(t){if(r)throw t;return void n.error(t)}n.complete()}}),function(){r=!0}})},of:function of(){for(var t=0,n=arguments.length,r=Array(n);t<n;)r[t]=arguments[t++];return new("function"==typeof this?this:S)(function(t){var n=!1;return u(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),h(S.prototype,c,function(){return this}),e(e.G,{Observable:S}),t(100)("Observable")},{100:100,128:128,23:23,3:3,33:33,39:39,40:40,42:42,6:6,68:68,7:7,93:93}],297:[function(t,n,r){"use strict";var e=t(33),i=t(23),o=t(40),u=t(104),c=t(91);e(e.P+e.R,"Promise",{finally:function(t){var n=u(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return c(n,t()).then(function(){return r})}:t,r?function(r){return c(n,t()).then(function(){throw r})}:t)}})},{104:104,23:23,33:33,40:40,91:91}],298:[function(t,n,r){"use strict";var e=t(33),i=t(69),o=t(90);e(e.S,"Promise",{try:function(t){var n=i.f(this),r=o(t);return(r.e?n.reject:n.resolve)(r.v),n.promise}})},{33:33,69:69,90:90}],299:[function(t,n,r){var e=t(67),i=t(7),o=e.key,u=e.set;e.exp({defineMetadata:function defineMetadata(t,n,r,e){u(t,n,i(r),o(e))}})},{67:67,7:7}],300:[function(t,n,r){var e=t(67),i=t(7),o=e.key,u=e.map,c=e.store;e.exp({deleteMetadata:function deleteMetadata(t,n){var r=arguments.length<3?void 0:o(arguments[2]),e=u(i(n),r,!1);if(void 0===e||!e.delete(t))return!1;if(e.size)return!0;var a=c.get(n);return a.delete(r),!!a.size||c.delete(n)}})},{67:67,7:7}],301:[function(t,n,r){var e=t(231),i=t(10),o=t(67),u=t(7),c=t(79),a=o.keys,f=o.key,s=function(t,n){var r=a(t,n),o=c(t);if(null===o)return r;var u=s(o,n);return u.length?r.length?i(new e(r.concat(u))):u:r};o.exp({getMetadataKeys:function getMetadataKeys(t){return s(u(t),arguments.length<2?void 0:f(arguments[1]))}})},{10:10,231:231,67:67,7:7,79:79}],302:[function(t,n,r){var e=t(67),i=t(7),o=t(79),u=e.has,c=e.get,a=e.key,f=function(t,n,r){if(u(t,n,r))return c(t,n,r);var e=o(n);return null!==e?f(t,e,r):void 0};e.exp({getMetadata:function getMetadata(t,n){return f(t,i(n),arguments.length<3?void 0:a(arguments[2]))}})},{67:67,7:7,79:79}],303:[function(t,n,r){var e=t(67),i=t(7),o=e.keys,u=e.key;e.exp({getOwnMetadataKeys:function getOwnMetadataKeys(t){return o(i(t),arguments.length<2?void 0:u(arguments[1]))}})},{67:67,7:7}],304:[function(t,n,r){var e=t(67),i=t(7),o=e.get,u=e.key;e.exp({getOwnMetadata:function getOwnMetadata(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},{67:67,7:7}],305:[function(t,n,r){var e=t(67),i=t(7),o=t(79),u=e.has,c=e.key,a=function(t,n,r){if(u(t,n,r))return!0;var e=o(n);return null!==e&&a(t,e,r)};e.exp({hasMetadata:function hasMetadata(t,n){return a(t,i(n),arguments.length<3?void 0:c(arguments[2]))}})},{67:67,7:7,79:79}],306:[function(t,n,r){var e=t(67),i=t(7),o=e.has,u=e.key;e.exp({hasOwnMetadata:function hasOwnMetadata(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},{67:67,7:7}],307:[function(t,n,r){var e=t(67),i=t(7),o=t(3),u=e.key,c=e.set;e.exp({metadata:function metadata(t,n){return function decorator(r,e){c(t,n,(void 0!==e?i:o)(r),u(e))}}})},{3:3,67:67,7:7}],308:[function(t,n,r){t(97)("Set")},{97:97}],309:[function(t,n,r){t(98)("Set")},{98:98}],310:[function(t,n,r){var e=t(33);e(e.P+e.R,"Set",{toJSON:t(20)("Set")})},{20:20,33:33}],311:[function(t,n,r){"use strict";var e=t(33),i=t(106)(!0);e(e.P,"String",{at:function at(t){return i(this,t)}})},{106:106,33:33}],312:[function(t,n,r){"use strict";var e=t(33),i=t(28),o=t(118),u=t(52),c=t(37),a=RegExp.prototype,f=function(t,n){this._r=t,this._s=n};t(54)(f,"RegExp String",function next(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,"String",{matchAll:function matchAll(t){if(i(this),!u(t))throw TypeError(t+" is not a regexp!");var n=String(this),r="flags"in a?String(t.flags):c.call(t),e=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return e.lastIndex=o(t.lastIndex),new f(e,n)}})},{118:118,28:28,33:33,37:37,52:52,54:54}],313:[function(t,n,r){"use strict";var e=t(33),i=t(109);e(e.P,"String",{padEnd:function padEnd(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},{109:109,33:33}],314:[function(t,n,r){"use strict";var e=t(33),i=t(109);e(e.P,"String",{padStart:function padStart(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},{109:109,33:33}],315:[function(t,n,r){"use strict";t(111)("trimLeft",function(t){return function trimLeft(){return t(this,1)}},"trimStart")},{111:111}],316:[function(t,n,r){"use strict";t(111)("trimRight",function(t){return function trimRight(){return t(this,2)}},"trimEnd")},{111:111}],317:[function(t,n,r){t(126)("asyncIterator")},{126:126}],318:[function(t,n,r){t(126)("observable")},{126:126}],319:[function(t,n,r){var e=t(33);e(e.S,"System",{global:t(40)})},{33:33,40:40}],320:[function(t,n,r){t(97)("WeakMap")},{97:97}],321:[function(t,n,r){t(98)("WeakMap")},{98:98}],322:[function(t,n,r){t(97)("WeakSet")},{97:97}],323:[function(t,n,r){t(98)("WeakSet")},{98:98}],324:[function(t,n,r){for(var e=t(141),i=t(81),o=t(94),u=t(40),c=t(42),a=t(58),f=t(128),s=f("iterator"),l=f("toStringTag"),h=a.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(v),d=0;d<p.length;d++){var y,g=p[d],m=v[g],b=u[g],x=b&&b.prototype;if(x&&(x[s]||c(x,s,h),x[l]||c(x,l,g),a[g]=h,m))for(y in e)x[y]||o(x,y,e[y],!0)}},{128:128,141:141,40:40,42:42,58:58,81:81,94:94}],325:[function(t,n,r){var e=t(33),i=t(113);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},{113:113,33:33}],326:[function(t,n,r){var e=t(40),i=t(33),o=t(46),u=t(88),c=e.navigator,a=!!c&&/MSIE .\./.test(c.userAgent),f=function(t){return a?function(n,r){return t(o(u,[].slice.call(arguments,2),"function"==typeof n?n:Function(n)),r)}:t};i(i.G+i.B+i.F*a,{setTimeout:f(e.setTimeout),setInterval:f(e.setInterval)})},{33:33,40:40,46:46,88:88}],327:[function(t,n,r){t(254),t(191),t(193),t(192),t(195),t(197),t(202),t(196),t(194),t(204),t(203),t(199),t(200),t(198),t(190),t(201),t(205),t(206),t(157),t(159),t(158),t(208),t(207),t(178),t(188),t(189),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187),t(161),t(162),t(163),t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),t(173),t(174),t(175),t(176),t(177),t(241),t(246),t(253),t(244),t(236),t(237),t(242),t(247),t(249),t(232),t(233),t(234),t(235),t(238),t(239),t(240),t(243),t(245),t(248),t(250),t(251),t(252),t(152),t(154),t(153),t(156),t(155),t(140),t(138),t(145),t(142),t(148),t(150),t(137),t(144),t(134),t(149),t(132),t(147),t(146),t(139),t(143),t(131),t(133),t(136),t(135),t(151),t(141),t(224),t(230),t(225),t(226),t(227),t(228),t(229),t(209),t(160),t(231),t(266),t(267),t(255),t(256),t(261),t(264),t(265),t(259),t(262),t(260),t(263),t(257),t(258),t(210),t(211),t(212),t(213),t(214),t(217),t(215),t(216),t(218),t(219),t(220),t(221),t(223),t(222),t(270),t(268),t(269),t(311),t(314),t(313),t(315),t(316),t(312),t(317),t(318),t(292),t(295),t(291),t(289),t(290),t(293),t(294),t(276),t(310),t(275),t(309),t(321),t(323),t(274),t(308),t(320),t(322),t(273),t(319),t(272),t(277),t(278),t(279),t(280),t(281),t(283),t(282),t(284),t(285),t(286),t(288),t(287),t(297),t(298),t(299),t(300),t(302),t(301),t(304),t(303),t(305),t(306),t(307),t(271),t(296),t(326),t(325),t(324),n.exports=t(23)},{131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,
186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294,295:295,296:296,297:297,298:298,299:299,300:300,301:301,302:302,303:303,304:304,305:305,306:306,307:307,308:308,309:309,310:310,311:311,312:312,313:313,314:314,315:315,316:316,317:317,318:318,319:319,320:320,321:321,322:322,323:323,324:324,325:325,326:326}],328:[function(t,n,r){(function(t){!function(t){"use strict";function wrap(t,n,r,e){var i=n&&n.prototype instanceof Generator?n:Generator,o=Object.create(i.prototype),u=new Context(e||[]);return o._invoke=makeInvokeMethod(t,r,u),o}function tryCatch(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function AsyncIterator(n){function invoke(t,r,e,o){var u=tryCatch(n[t],n,r);if("throw"!==u.type){var c=u.arg,a=c.value;return a&&"object"==typeof a&&i.call(a,"__await")?Promise.resolve(a.__await).then(function(t){invoke("next",t,e,o)},function(t){invoke("throw",t,e,o)}):Promise.resolve(a).then(function(t){c.value=t,e(c)},o)}o(u.arg)}function enqueue(t,n){function callInvokeWithMethodAndArg(){return new Promise(function(r,e){invoke(t,n,r,e)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"==typeof t.process&&t.process.domain&&(invoke=t.process.domain.bind(invoke));var r;this._invoke=enqueue}function makeInvokeMethod(t,n,r){var e=l;return function invoke(i,o){if(e===v)throw new Error("Generator is already running");if(e===p){if("throw"===i)throw o;return doneResult()}for(r.method=i,r.arg=o;;){var u=r.delegate;if(u){var c=maybeInvokeDelegate(u,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=v;var a=tryCatch(t,n,r);if("normal"===a.type){if(e=r.done?p:h,a.arg===d)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(e=p,r.method="throw",r.arg=a.arg)}}}function maybeInvokeDelegate(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,maybeInvokeDelegate(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=tryCatch(e,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function pushTryEntry(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function resetTryEntry(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,o=function next(){for(;++e<t.length;)if(i.call(t,e))return next.value=t[e],next.done=!1,next;return next.value=r,next.done=!0,next};return o.next=o}}return{next:doneResult}}function doneResult(){return{value:r,done:!0}}var r,e=Object.prototype,i=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag",f="object"==typeof n,s=t.regeneratorRuntime;if(s)return void(f&&(n.exports=s));s=t.regeneratorRuntime=f?n.exports:{},s.wrap=wrap;var l="suspendedStart",h="suspendedYield",v="executing",p="completed",d={},y={};y[u]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(values([])));m&&m!==e&&i.call(m,u)&&(y=m);var b=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(y);GeneratorFunction.prototype=b.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[a]=GeneratorFunction.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===GeneratorFunction||"GeneratorFunction"===(n.displayName||n.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(b),t},s.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[c]=function(){return this},s.AsyncIterator=AsyncIterator,s.async=function(t,n,r,e){var i=new AsyncIterator(wrap(t,n,r,e));return s.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},defineIteratorMethods(b),b[a]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},s.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function next(){for(;n.length;){var r=n.pop();if(r in t)return next.value=r,next.done=!1,next}return next.done=!0,next}},s.values=values,Context.prototype={constructor:Context,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(resetTryEntry),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function handle(e,i){return u.type="throw",u.arg=t,n.next=e,i&&(n.method="next",n.arg=r),!!i}if(this.done)throw t;for(var n=this,e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e],u=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),a=i.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&i.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var o=e;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;resetTryEntry(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:values(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),d}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);
 };if (!window.postscribe) { /**
 * @file postscribe
 * @description Asynchronously write javascript, even with document.write.
 * @version v2.0.8
 * @see {@link https://krux.github.io/postscribe}
 * @license MIT
 * @author Derek Brans
 * @copyright 2016 Krux Digital, Inc
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["postscribe"]=e():t["postscribe"]=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={"exports":{},"id":n,"loaded":!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=r(1),i=n(o);t.exports=i["default"]},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(){}function a(){var t=m.shift();if(t){var e=h.last(t);e.afterDequeue(),t.stream=s.apply(void 0,t),e.afterStreamStart()}}function s(t,e,r){function n(t){t=r.beforeWrite(t),g.write(t),r.afterWrite(t)}g=new p["default"](t,r),g.id=y++,g.name=r.name||g.id,u.streams[g.name]=g;var o=t.ownerDocument,s={"close":o.close,"open":o.open,"write":o.write,"writeln":o.writeln};c(o,{"close":i,"open":i,"write":function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n(e.join(""))},"writeln":function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n(e.join("")+"\n")}});var l=g.win.onerror||i;return g.win.onerror=function(t,e,n){r.error({"msg":t+" - "+e+": "+n}),l.apply(g.win,[t,e,n])},g.write(e,function(){c(o,s),g.win.onerror=l,r.done(),g=null,a()}),g}function u(t,e,r){if(h.isFunction(r))r={"done":r};else if("clear"===r)return m=[],g=null,void(y=0);r=h.defaults(r,d),t=/^#/.test(t)?window.document.getElementById(t.substr(1)):t.jquery?t[0]:t;var n=[t,e,r];return t.postscribe={"cancel":function(){n.stream?n.stream.abort():n[1]=i}},r.beforeEnqueue(n),m.push(n),g||a(),t.postscribe}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e["default"]=u;var l=r(2),p=o(l),f=r(4),h=n(f),d={"afterAsync":i,"afterDequeue":i,"afterStreamStart":i,"afterWrite":i,"autoFix":!0,"beforeEnqueue":i,"beforeWriteToken":function(t){return t},"beforeWrite":function(t){return t},"done":i,"error":function(t){throw new Error(t.msg)},"releaseAsync":!1},y=0,m=[],g=null;c(u,{"streams":{},"queue":m,"WriteStream":p["default"]})},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){var r=d+e,n=t.getAttribute(r);return f.existy(n)?String(n):n}function s(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=d+e;f.existy(r)&&""!==r?t.setAttribute(n,r):t.removeAttribute(n)}e.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=r(3),l=o(c),p=r(4),f=n(p),h=!1,d="data-ps-",y="ps-style",m="ps-script",g=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.root=e,this.options=r,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l["default"]("",{"autoFix":r.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return t.prototype.write=function(){var t;for((t=this.writeQueue).push.apply(t,arguments);!this.deferredRemote&&this.writeQueue.length;){var e=this.writeQueue.shift();f.isFunction(e)?this._callFunction(e):this._writeImpl(e)}},t.prototype._callFunction=function(t){var e={"type":"function","value":t.name||t.toString()};this._onScriptStart(e),t.call(this.win,this.doc),this._onScriptDone(e)},t.prototype._writeImpl=function(t){this.parser.append(t);for(var e=void 0,r=void 0,n=void 0,o=[];(e=this.parser.readToken())&&!(r=f.isScript(e))&&!(n=f.isStyle(e));)e=this.options.beforeWriteToken(e),e&&o.push(e);o.length>0&&this._writeStaticTokens(o),r&&this._handleScriptToken(e),n&&this._handleStyleToken(e)},t.prototype._writeStaticTokens=function(t){var e=this._buildChunk(t);return e.actual?(e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,h&&(e.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),h&&(e.actualInnerHTML=this.root.innerHTML),e):null},t.prototype._buildChunk=function(t){for(var e=this.actuals.length,r=[],n=[],o=[],i=t.length,a=0;a<i;a++){var s=t[a],u=s.toString();if(r.push(u),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=e++;n.push(u.replace(/(\/?>)/," "+d+"id="+c+" $1")),s.attrs.id!==m&&s.attrs.id!==y&&o.push("atomicTag"===s.type?"":"<"+s.tagName+" "+d+"proxyof="+c+(s.unary?" />":">"))}}else n.push(u),o.push("endTag"===s.type?u:"")}return{"tokens":t,"raw":r.join(""),"actual":n.join(""),"proxy":o.join("")}},t.prototype._walkChunk=function(){for(var t=void 0,e=[this.proxyRoot];f.existy(t=e.shift());){var r=1===t.nodeType,n=r&&a(t,"proxyof");if(!n){r&&(this.actuals[a(t,"id")]=t,s(t,"id"));var o=t.parentNode&&a(t.parentNode,"proxyof");o&&this.actuals[o].appendChild(t)}e.unshift.apply(e,f.toArray(t.childNodes))}},t.prototype._handleScriptToken=function(t){var e=this,r=this.parser.clear();r&&this.writeQueue.unshift(r),t.src=t.attrs.src||t.attrs.SRC,t=this.options.beforeWriteToken(t),t&&(t.src&&this.scriptStack.length?this.deferredRemote=t:this._onScriptStart(t),this._writeScriptToken(t,function(){e._onScriptDone(t)}))},t.prototype._handleStyleToken=function(t){var e=this.parser.clear();e&&this.writeQueue.unshift(e),t.type=t.attrs.type||t.attrs.TYPE||"text/css",t=this.options.beforeWriteToken(t),t&&this._writeStyleToken(t),e&&this.write()},t.prototype._writeStyleToken=function(t){var e=this._buildStyle(t);this._insertCursor(e,y),t.content&&(e.styleSheet&&!e.sheet?e.styleSheet.cssText=t.content:e.appendChild(this.doc.createTextNode(t.content)))},t.prototype._buildStyle=function(t){var e=this.doc.createElement(t.tagName);return e.setAttribute("type",t.type),f.eachKey(t.attrs,function(t,r){e.setAttribute(t,r)}),e},t.prototype._insertCursor=function(t,e){this._writeImpl('<span id="'+e+'"/>');var r=this.doc.getElementById(e);r&&r.parentNode.replaceChild(t,r)},t.prototype._onScriptStart=function(t){t.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(t)},t.prototype._onScriptDone=function(t){return t!==this.scriptStack[0]?void this.options.error({"msg":"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,t.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)))},t.prototype._writeScriptToken=function(t,e){var r=this._buildScript(t),n=this._shouldRelease(r),o=this.options.afterAsync;t.src&&(r.src=t.src,this._scriptLoadHandler(r,n?o:function(){e(),o()}));try{this._insertCursor(r,m),r.src&&!n||e()}catch(t){this.options.error(t),e()}},t.prototype._buildScript=function(t){var e=this.doc.createElement(t.tagName);return f.eachKey(t.attrs,function(t,r){e.setAttribute(t,r)}),t.content&&(e.text=t.content),e},t.prototype._scriptLoadHandler=function(t,e){function r(){t=t.onload=t.onreadystatechange=t.onerror=null}function n(){r(),null!=e&&e(),e=null}function o(t){r(),a(t),null!=e&&e(),e=null}function i(t,e){var r=t["on"+e];null!=r&&(t["_on"+e]=r)}var a=this.options.error;i(t,"load"),i(t,"error"),u(t,{"onload":function(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){o({"msg":"onload handler failed "+e+" @ "+t.src})}n()},"onerror":function(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void o({"msg":"onerror handler failed "+e+" @ "+t.src})}o({"msg":"remote script failed "+t.src})},"onreadystatechange":function(){/^(loaded|complete)$/.test(t.readyState)&&n()}})},t.prototype._shouldRelease=function(t){var e=/^script$/i.test(t.nodeName);return!e||!!(this.options.releaseAsync&&t.src&&t.hasAttribute("async"))},t}();e["default"]=g},function(t,e,r){!function(e,r){t.exports=r()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={"exports":{},"id":n,"loaded":!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=r(1),i=n(o);t.exports=i["default"]},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=r(2),s=o(a),u=r(3),c=o(u),l=r(6),p=n(l),f=r(5),h={"comment":/^<!--/,"endTag":/^<\//,"atomicTag":/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,"startTag":/^</,"chars":/^[^<]/},d=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.stream=r;var o=!1,a={};for(var u in s)s.hasOwnProperty(u)&&(n.autoFix&&(a[u+"Fix"]=!0),o=o||a[u+"Fix"]);o?(this._readToken=(0,p["default"])(this,a,function(){return e._readTokenImpl()}),this._peekToken=(0,p["default"])(this,a,function(){return e._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return t.prototype.append=function(t){this.stream+=t},t.prototype.prepend=function(t){this.stream=t+this.stream},t.prototype._readTokenImpl=function(){var t=this._peekTokenImpl();if(t)return this.stream=this.stream.slice(t.length),t},t.prototype._peekTokenImpl=function(){for(var t in h)if(h.hasOwnProperty(t)&&h[t].test(this.stream)){var e=c[t](this.stream);if(e)return"startTag"===e.type&&/script|style/i.test(e.tagName)?null:(e.text=this.stream.substr(0,e.length),e)}},t.prototype.peekToken=function(){return this._peekToken()},t.prototype.readToken=function(){return this._readToken()},t.prototype.readTokens=function(t){for(var e=void 0;e=this.readToken();)if(t[e.type]&&t[e.type](e)===!1)return},t.prototype.clear=function(){var t=this.stream;return this.stream="",t},t.prototype.rest=function(){return this.stream},t}();e["default"]=d,d.tokenToString=function(t){return t.toString()},d.escapeAttributes=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=(0,f.escapeQuotes)(t[r],null));return e},d.supports=s;for(var y in s)s.hasOwnProperty(y)&&(d.browserHasFlaw=d.browserHasFlaw||!s[y]&&y)},function(t,e){"use strict";e.__esModule=!0;var r=!1,n=!1,o=window.document.createElement("div");try{var i="<P><I></P></I>";o.innerHTML=i,e.tagSoup=r=o.innerHTML!==i}catch(t){e.tagSoup=r=!1}try{o.innerHTML="<P><i><P></P></i></P>",e.selfClose=n=2===o.childNodes.length}catch(t){e.selfClose=n=!1}o=null,e.tagSoup=r,e.selfClose=n},function(t,e,r){"use strict";function n(t){var e=t.indexOf("-->");if(e>=0)return new c.CommentToken(t.substr(4,e-1),e+3)}function o(t){var e=t.indexOf("<");return new c.CharsToken(e>=0?e:t.length)}function i(t){var e=t.indexOf(">");if(e!==-1){var r=t.match(l.startTag);if(r){var n=function(){var t={},e={},n=r[2];return r[2].replace(l.attr,function(r,o){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",e[arguments[5]]=!0):t[o]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(o)&&o||"":t[o]="",n=n.replace(r,"")}),{"v":new c.StartTagToken(r[1],r[0].length,t,e,(!!r[3]),n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))}}();if("object"===("undefined"==typeof n?"undefined":u(n)))return n.v}}}function a(t){var e=i(t);if(e){var r=t.slice(e.length);if(r.match(new RegExp("</\\s*"+e.tagName+"\\s*>","i"))){var n=r.match(new RegExp("([\\s\\S]*?)</\\s*"+e.tagName+"\\s*>","i"));if(n)return new c.AtomicTagToken(e.tagName,n[0].length+e.length,e.attrs,e.booleanAttrs,n[1])}}}function s(t){var e=t.match(l.endTag);if(e)return new c.EndTagToken(e[1],e[0].length)}e.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.comment=n,e.chars=o,e.startTag=i,e.atomicTag=a,e.endTag=s;var c=r(4),l={"startTag":/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,"endTag":/^<\/([\-A-Za-z0-9_]+)[^>]*>/,"attr":/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,"fillAttr":/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.EndTagToken=e.AtomicTagToken=e.StartTagToken=e.TagToken=e.CharsToken=e.CommentToken=e.Token=void 0;var o=r(5),i=(e.Token=function t(e,r){n(this,t),this.type=e,this.length=r,this.text=""},e.CommentToken=function(){function t(e,r){n(this,t),this.type="comment",this.length=r||(e?e.length:0),this.text="",this.content=e}return t.prototype.toString=function(){return"<!--"+this.content},t}(),e.CharsToken=function(){function t(e){n(this,t),this.type="chars",this.length=e,this.text=""}return t.prototype.toString=function(){return this.text},t}(),e.TagToken=function(){function t(e,r,o,i,a){n(this,t),this.type=e,this.length=o,this.text="",this.tagName=r,this.attrs=i,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1}return t.formatTag=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r="<"+t.tagName;for(var n in t.attrs)if(t.attrs.hasOwnProperty(n)){r+=" "+n;var i=t.attrs[n];"undefined"!=typeof t.booleanAttrs&&"undefined"!=typeof t.booleanAttrs[n]||(r+='="'+(0,o.escapeQuotes)(i)+'"')}return t.rest&&(r+=" "+t.rest),r+=t.unary&&!t.html5Unary?"/>":">",void 0!==e&&null!==e&&(r+=e+"</"+t.tagName+">"),r},t}());e.StartTagToken=function(){function t(e,r,o,i,a,s){n(this,t),this.type="startTag",this.length=r,this.text="",this.tagName=e,this.attrs=o,this.booleanAttrs=i,this.html5Unary=!1,this.unary=a,this.rest=s}return t.prototype.toString=function(){return i.formatTag(this)},t}(),e.AtomicTagToken=function(){function t(e,r,o,i,a){n(this,t),this.type="atomicTag",this.length=r,this.text="",this.tagName=e,this.attrs=o,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=a}return t.prototype.toString=function(){return i.formatTag(this,this.content)},t}(),e.EndTagToken=function(){function t(e,r){n(this,t),this.type="endTag",this.length=r,this.text="",this.tagName=e}return t.prototype.toString=function(){return"</"+this.tagName+">"},t}()},function(t,e){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?t.replace(/([^"]*)"/g,function(t,e){return/\\/.test(e)?e+'"':e+'\\"'}):e}e.__esModule=!0,e.escapeQuotes=r},function(t,e){"use strict";function r(t){return t&&"startTag"===t.type&&(t.unary=s.test(t.tagName)||t.unary,t.html5Unary=!/\/>$/.test(t.text)),t}function n(t,e){var n=t.stream,o=r(e());return t.stream=n,o}function o(t,e){var r=e.pop();t.prepend("</"+r.tagName+">")}function i(){var t=[];return t.last=function(){return this[this.length-1]},t.lastTagNameEq=function(t){var e=this.last();return e&&e.tagName&&e.tagName.toUpperCase()===t.toUpperCase()},t.containsTagName=function(t){for(var e,r=0;e=this[r];r++)if(e.tagName===t)return!0;return!1},t}function a(t,e,a){function s(){var e=n(t,a);e&&l[e.type]&&l[e.type](e)}var c=i(),l={"startTag":function(r){var n=r.tagName;"TR"===n.toUpperCase()&&c.lastTagNameEq("TABLE")?(t.prepend("<TBODY>"),s()):e.selfCloseFix&&u.test(n)&&c.containsTagName(n)?c.lastTagNameEq(n)?o(t,c):(t.prepend("</"+r.tagName+">"),s()):r.unary||c.push(r)},"endTag":function(r){var n=c.last();n?e.tagSoupFix&&!c.lastTagNameEq(r.tagName)?o(t,c):c.pop():e.tagSoupFix&&(a(),s())}};return function(){return s(),r(a())}}e.__esModule=!0,e["default"]=a;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,u=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(t,e){"use strict";function r(t){return void 0!==t&&null!==t}function n(t){return"function"==typeof t}function o(t,e,r){var n=void 0,o=t&&t.length||0;for(n=0;n<o;n++)e.call(r,t[n],n)}function i(t,e,r){for(var n in t)t.hasOwnProperty(n)&&e.call(r,n,t[n])}function a(t,e){return t=t||{},i(e,function(e,n){r(t[e])||(t[e]=n)}),t}function s(t){try{return Array.prototype.slice.call(t)}catch(r){var e=function(){var e=[];return o(t,function(t){e.push(t)}),{"v":e}}();if("object"===("undefined"==typeof e?"undefined":f(e)))return e.v}}function u(t){return t[t.length-1]}function c(t,e){return!(!t||"startTag"!==t.type&&"atomicTag"!==t.type||!("tagName"in t))&&!!~t.tagName.toLowerCase().indexOf(e)}function l(t){return c(t,"script")}function p(t){return c(t,"style")}e.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.existy=r,e.isFunction=n,e.each=o,e.eachKey=i,e.defaults=a,e.toArray=s,e.last=u,e.isTag=c,e.isScript=l,e.isStyle=p}])}); };(function(){var VAST_PLAYER_SCRIPT="<!doctype html><html><head><title>Google IMA Caroda Ad Loader</title><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><style>@font-face{font-family:Caroda;src:url(data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format(\"truetype\");font-weight:400;font-style:normal}body,html{height:100%;margin:0;padding:0;overflow:hidden;font-family:arial,sans-serif}.player{width:100%;height:100%;background:#111}*{outline:0}.caroda-ad-container{position:relative;width:100%;height:100%;padding-top:0;background:#000}.caroda-ad-container>div:not(.progress-bar):not(.muted-button):not(.thumbnail):not(.fullscreen-button):not(.timer):not(.toggle-playback-button):not(.custom-skip-button):not(.unmuted-overlay){position:absolute!important;top:0!important;left:0!important;width:calc(100% + .5px)!important;height:calc(100% + .5px)!important}.caroda-ad-container>div>iframe,.caroda-ad-container>video{position:absolute;top:0;left:0;width:calc(100% + .5px);height:calc(100% + .5px)}.caroda-ad-container>div{z-index:1}.caroda-ad-container>span.label{position:absolute;left:10px;bottom:10px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:14px}.caroda-ad-container>.timer{display:none}.caroda-ad-container>.toggle-playback-button{display:none}.caroda-ad-container>div.muted-button{width:30px;height:25px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container>div.muted-button:before{color:#fff;font-size:24px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:'\\e905'}.caroda-ad-container.outstream>div.muted-button{top:7px;right:0}.caroda-ad-container.mobile.outstream>div.muted-button{top:25px}.caroda-ad-container.instream>div.muted-button{bottom:11px;right:10px;width:22px;height:17px}.caroda-ad-container.instream>div.muted-button:before{font-size:16px}.caroda-ad-container.instream>.thumbnail{position:absolute;top:7px;left:10px;width:48px;height:27px;background-color:#000}.caroda-ad-container.instream>.thumbnail>.thumbnail-info{position:absolute;left:56px;top:6px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:12px;width:100vw;max-width:600px}.caroda-ad-container:not(.muted)>div.muted-button:before{content:'\\e906'}.caroda-ad-container>div.progress-bar{background:#5e8791;height:4px;position:absolute;left:0;right:0;bottom:0;top:auto}.caroda-ad-container>div.progress-bar .progress{background:#f5a03e;color:#f5a03e;height:4px;position:absolute;left:0;bottom:0;transition:all .5s linear}.caroda-ad-container>div.progress-bar .progress::before{content:'';background:#f5a03e;position:absolute;height:8px;width:8px;top:-2px;right:-4px;border-radius:50%}.caroda-ad-container .fullscreen-button{display:none;width:22px;height:17px;bottom:11px;right:10px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container .fullscreen-button:before{color:#fff;font-size:16px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:'\\e902'}.caroda-ad-container.fullscreen>.fullscreen-button{display:block}.caroda-ad-container.instream.fullscreen>div.muted-button{right:40px}.caroda-ad-container .custom-skip-button{position:absolute;bottom:22px;right:0;padding:15px 0 15px 15px;background-image:linear-gradient(bottom,rgba(0,0,0,.5),rgba(0,0,0,.4) 60%,rgba(0,0,0,0) 99%);cursor:default}.caroda-ad-container .custom-skip-button .custom-skip-button-inner{min-width:30px;background:rgba(0,0,0,.8);padding:6px}.caroda-ad-container .custom-skip-button .custom-skip-button-inner .custom-skip-button-text{color:#e6e6e6;font-family:arial,sans-serif;font-weight:400;font-size:11px;line-height:21px;padding-right:0;text-align:center;display:inline-block;width:100%;vertical-align:middle}.caroda-ad-container .custom-skip-button.clickable{cursor:pointer}.caroda-ad-container .custom-skip-button.clickable .custom-skip-button-inner{display:flex;align-items:center;justify-content:center}.caroda-ad-container .custom-skip-button.clickable .custom-skip-button-inner .custom-skip-button-text{font-size:18px;display:inline-block}.caroda-ad-container .custom-skip-button.clickable .custom-skip-button-inner svg{display:inline-block;fill:#fff;height:24px;width:24px}@media (max-width:455px){.caroda-ad-container.instream.skippable>div.muted-button{transition:bottom .3s;bottom:60px}.caroda-ad-container.instream.skippable>.fullscreen-button{transition:bottom .3s;bottom:60px}.caroda-ad-container .custom-skip-button{bottom:11px;padding:8px 0 8px 8px}}lima-video[src*='teads.tv'],video[src*='teads.tv']{height:auto!important}.caroda-canvas{position:absolute;top:0;left:0}.last-frame-fallback{position:absolute;top:0;left:0;width:100%;height:100%;background-size:100%;background-position:center;opacity:0;transition:opacity .3s ease-out}.unmuted-overlay{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}.unmuted-overlay .unmuted-overlay-background{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000;transition:opacity .3s ease-out;opacity:0}.unmuted-overlay .unmuted-overlay-button{position:absolute;width:100%;height:100%;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;transition:opacity .3s ease-out;opacity:0}.unmuted-overlay .unmuted-overlay-button:before{font-family:Caroda;position:absolute;color:#fff;font-size:64px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:'\\e906'}.unmuted-overlay:hover .unmuted-overlay-background{opacity:.5}.unmuted-overlay:hover .unmuted-overlay-button{opacity:1}</style></head><body><div class=\"player\"></div><div class=\"last-frame-fallback\"></div><script src=\"https://imasdk.googleapis.com/js/sdkloader/ima3.js\"></script><script>function noop(){}function assign(e,t){for(var n in t)e[n]=t[n];return e}function appendNode(e,t){t.appendChild(e)}function insertNode(e,t,n){t.insertBefore(e,n)}function detachNode(e){e.parentNode.removeChild(e)}function createElement(e){return document.createElement(e)}function createSvgElement(e){return document.createElementNS(\"http://www.w3.org/2000/svg\",e)}function createText(e){return document.createTextNode(e)}function createComment(){return document.createComment(\"\")}function addListener(e,t,n){e.addEventListener(t,n,!1)}function removeListener(e,t,n){e.removeEventListener(t,n,!1)}function setAttribute(e,t,n){e.setAttribute(t,n)}function setStyle(e,t,n){e.style.setProperty(t,n)}function blankObject(){return Object.create(null)}function destroy(e){this.destroy=noop,this.fire(\"destroy\"),this.set=this.get=noop,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function _differs(e,t){return e!=e?t==t:e!==t||e&&\"object\"==typeof e||\"function\"==typeof e}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var r=n[i];r.__calling||(r.__calling=!0,r.call(this,t),r.__calling=!1)}}function get(e){return e?this._state[e]:this._state}function init(e,t){e._handlers=blankObject(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function observe(e,t,n){var i=t.bind(this);return n&&!1===n.init||i(this.get()[e],void 0),this.on(n&&n.defer?\"update\":\"state\",function(t){t.changed[e]&&i(t.current[e],t.previous&&t.previous[e])})}function on(e,t){if(\"teardown\"===e)return this.on(\"destroy\",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function set(e){this._set(assign({},e)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(e){var t=this._state,n={},i=!1;for(var r in e)this._differs(e[r],t[r])&&(n[r]=i=!0);i&&(this._state=assign(assign({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire(\"state\",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire(\"update\",{changed:n,current:this._state,previous:t})))}function callAll(e){for(;e&&e.length;)e.shift()()}function _mount(e,t){this._fragment[this._fragment.i?\"i\":\"m\"](e,t||null)}function _unmount(){this._fragment&&this._fragment.u()}var proto={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount,_differs:_differs};function progressWidth(e){return(100*e.currentTime/e.duration).toFixed(2)+\"%\"}function progressLabel(e,t,n){var i=e.duration-e.currentTime;if(i<0)return\"\";var r=Math.floor(i/60),o=Math.floor(i)%60;return r+\":\"+(o>9?\"\":\"0\")+o}function skipCounterLabel(e,t,n){return t[n].skipCounter.replace(/#/g,Math.ceil(e.skipTimeLeft))}function timerCurrentTime(e){if(isNaN(e.currentTime))return\"0:00\";var t=Math.floor(e.currentTime/60),n=Math.floor(e.currentTime%60);return t+\":\"+String(n).padStart(2,\"0\")}function timerDuration(e){if(isNaN(e.duration))return\"0:00\";var t=Math.floor(e.duration/60),n=Math.floor(e.duration%60);return t+\":\"+String(n).padStart(2,\"0\")}function data(){return{time:Date.now(),progress:{currentTime:0,duration:0,skipTimeLeft:-1},isMobile:!1,isMuted:!0,isLoading:!0,isFullscreen:!1,isPlaying:!1,strings:{en:{advertising:\"Advertising\",learn:\"Learn More\",skip:\"Skip Ad\",skipCounter:\"You can skip this ad in #\",instreamContinue:\"The video will continue after the ad\"},cs:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zjistit%20v%C3%ADce\"),skip:decodeURIComponent(\"P%C5%99esko%C4%8Dit\"),skipCounter:decodeURIComponent(\"P%C5%99esko%C4%8Dit%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dovat%20po%20reklam%C4%9B\")},sk:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zisti%20viac\"),skip:decodeURIComponent(\"Presko%C4%8D%20reklamu\"),skipCounter:decodeURIComponent(\"M%C3%B4%C5%BEete%20presko%C4%8Di%C5%A5%20reklamu%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dova%C5%A5%20po%20reklame\")},fr:{advertising:decodeURIComponent(\"Publicit%C3%A9\"),learn:decodeURIComponent(\"En%20savoir%20plus\"),skip:decodeURIComponent(\"Ignorer%20l%27annonce%0A\"),skipCounter:decodeURIComponent(\"Vous%20pouvez%20ignorer%20cette%20annonce%20dans%20%23\"),instreamContinue:decodeURIComponent(\"La%20vid%C3%A9o%20reprendra%20apr%C3%A8s%20l%27annonce\")},pl:{advertising:\"Reklama\",learn:decodeURIComponent(\"Dowiedz%20si%C4%99%20wi%C4%99cej\"),skip:decodeURIComponent(\"Pomi%C5%84%20reklam%C4%99\"),skipCounter:decodeURIComponent(\"Mo%C5%BCesz%20pomin%C4%85%C4%87%20t%C4%99%20reklam%C4%99%20w%20%23\"),instreamContinue:decodeURIComponent(\"Wideo%20b%C4%99dzie%20kontynuowane%20po%20reklamie\")},es:{advertising:\"Publicidad\",learn:decodeURIComponent(\"M%C3%A1s%20informaci%C3%B3n\"),skip:decodeURIComponent(\"Saltar%20anuncio\"),skipCounter:decodeURIComponent(\"Puedes%20saltar%20este%20anuncio%20en%20%23\"),instreamContinue:decodeURIComponent(\"El%20v%C3%ADdeo%20continuar%C3%A1%20despu%C3%A9s%20de%20la%20publicidad\")},bg:{advertising:\"\",learn:decodeURIComponent(\"%D0%9D%D0%B0%D1%83%D1%87%D0%B5%D1%82%D0%B5%20%D0%BF%D0%BE%D0%B2%D0%B5%D1%87%D0%B5\"),skip:decodeURIComponent(\"%D0%9F%D1%80%D0%B5%D1%81%D0%BA%D0%BE%D1%87%D0%B8%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B0%D1%82%D0%B0\"),skipCounter:decodeURIComponent(\"%D0%9C%D0%BE%D0%B6%D0%B5%D1%82%D0%B5%20%D0%B4%D0%B0%20%D0%BF%D1%80%D0%BE%D0%BF%D1%83%D1%81%D0%BD%D0%B5%D1%82%D0%B5%20%D1%82%D0%B0%D0%B7%D0%B8%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B0%20%D0%B2%20%23\"),instreamContinue:decodeURIComponent(\"%D0%92%D0%B8%D0%B4%D0%B5%D0%BE%D1%82%D0%BE%20%D1%89%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B4%D1%8A%D0%BB%D0%B6%D0%B8%20%D1%81%D0%BB%D0%B5%D0%B4%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B0%D1%82%D0%B0\")},ro:{advertising:\"Publicitate\",learn:decodeURIComponent(\"Afla%C8%9Bi%20mai%20multe\"),skip:decodeURIComponent(\"Sari%20peste\"),skipCounter:decodeURIComponent(\"Pute%C8%9Bi%20s%C4%83ri%20peste%20acest%20anun%C8%9B%20%C3%AEn%20%23\"),instreamContinue:decodeURIComponent(\"Videoclipul%20va%20continua%20dup%C4%83%20publicitate\")}},language:\"en\",hideCarodaUI:!1}}function oncreate(){var e=this;this.interval=setInterval(function(){return e.set({time:Date.now()})},500)}function create_main_fragment(e,t){var n,i,r,o,a,s,c=!t.hideCarodaUI&&create_if_block(e,t),u=t.showSkipButton&&-1!=t.progress.skipTimeLeft&&create_if_block_1(e,t),d=t.thumbnailUrl&&t.instream&&create_if_block_4(e,t),l=!t.hideCarodaUI&&create_if_block_5(e,t),p=t.displayUnmutedOverlay&&t.isMuted&&create_if_block_7(e,t);return{c:function(){n=createElement(\"div\"),c&&c.c(),i=createText(\" \"),u&&u.c(),r=createText(\" \"),d&&d.c(),o=createText(\" \"),l&&l.c(),a=createText(\" \"),p&&p.c(),this.h()},h:function(){n.className=s=\"caroda-ad-container\\n    \"+(t.isMuted?\"muted\":\"\")+\"\\n    \"+(t.isMobile?\"mobile\":\"\")+\"\\n    \"+(t.instream?\"instream\":\"outstream\")+\"\\n    \"+(t.isFullscreen?\"fullscreen\":\"\")+\"\\n    lang-\"+t.language+\"\\n    \"+(t.skippable?\"skippable\":\"\")},m:function(e,t){insertNode(n,e,t),c&&c.m(n,null),appendNode(i,n),u&&u.m(n,null),appendNode(r,n),d&&d.m(n,null),appendNode(o,n),l&&l.m(n,null),appendNode(a,n),p&&p.m(n,null)},p:function(t,m){m.hideCarodaUI?c&&(c.u(),c.d(),c=null):c?c.p(t,m):((c=create_if_block(e,m)).c(),c.m(n,i)),m.showSkipButton&&-1!=m.progress.skipTimeLeft?u?u.p(t,m):((u=create_if_block_1(e,m)).c(),u.m(n,r)):u&&(u.u(),u.d(),u=null),m.thumbnailUrl&&m.instream?d?d.p(t,m):((d=create_if_block_4(e,m)).c(),d.m(n,o)):d&&(d.u(),d.d(),d=null),m.hideCarodaUI?l&&(l.u(),l.d(),l=null):l?l.p(t,m):((l=create_if_block_5(e,m)).c(),l.m(n,a)),m.displayUnmutedOverlay&&m.isMuted?p||((p=create_if_block_7(e,m)).c(),p.m(n,null)):p&&(p.u(),p.d(),p=null),(t.isMuted||t.isMobile||t.instream||t.isFullscreen||t.language||t.skippable)&&s!==(s=\"caroda-ad-container\\n    \"+(m.isMuted?\"muted\":\"\")+\"\\n    \"+(m.isMobile?\"mobile\":\"\")+\"\\n    \"+(m.instream?\"instream\":\"outstream\")+\"\\n    \"+(m.isFullscreen?\"fullscreen\":\"\")+\"\\n    lang-\"+m.language+\"\\n    \"+(m.skippable?\"skippable\":\"\"))&&(n.className=s)},u:function(){detachNode(n),c&&c.u(),u&&u.u(),d&&d.u(),l&&l.u(),p&&p.u()},d:function(){c&&c.d(),u&&u.d(),d&&d.d(),l&&l.d(),p&&p.d()}}}function create_if_block(e,t){var n,i,r,o,a;function s(t){e.fire(\"toggle-audio\")}function c(t){e.fire(\"toggle-play\")}return{c:function(){n=createElement(\"div\"),r=createText(\"\\n  \"),o=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",s),n.className=i=\"muted-button \"+(t.isMuted?\"muted\":\"\"),addListener(o,\"click\",c),o.className=a=\"toggle-playback-button \"+(t.isPlaying?\"\":\"paused\")},m:function(e,t){insertNode(n,e,t),insertNode(r,e,t),insertNode(o,e,t)},p:function(e,t){e.isMuted&&i!==(i=\"muted-button \"+(t.isMuted?\"muted\":\"\"))&&(n.className=i),e.isPlaying&&a!==(a=\"toggle-playback-button \"+(t.isPlaying?\"\":\"paused\"))&&(o.className=a)},u:function(){detachNode(n),detachNode(r),detachNode(o)},d:function(){removeListener(n,\"click\",s),removeListener(o,\"click\",c)}}}function create_if_block_2(e,t){var n,i,r,o;return{c:function(){n=createElement(\"div\"),i=createElement(\"div\"),r=createElement(\"div\"),o=createText(t.skipCounterLabel),this.h()},h:function(){r.className=\"custom-skip-button-text\",setAttribute(r,\"aria-label\",\"Skip Ad Countdown\"),i.className=\"custom-skip-button-inner\",i.tabIndex=\"0\",n.className=\"custom-skip-button\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(r,i),appendNode(o,r)},p:function(e,t){e.skipCounterLabel&&(o.data=t.skipCounterLabel)},u:function(){detachNode(n)},d:noop}}function create_if_block_3(e,t){var n,i,r,o,a,s,c,u=t.strings[t.language].skip;function d(t){e.fire(\"skip\")}return{c:function(){n=createElement(\"div\"),i=createElement(\"div\"),r=createElement(\"div\"),o=createText(u),a=createText(\"\\n      \"),s=createSvgElement(\"svg\"),c=createSvgElement(\"path\"),this.h()},h:function(){r.className=\"custom-skip-button-text\",setAttribute(r,\"aria-label\",\"Skip Ad\"),setAttribute(c,\"d\",\"M16 18h2V6h-2M6 18l8.5-6L6 6v12z\"),setAttribute(s,\"xmlns\",\"http://www.w3.org/2000/svg\"),setAttribute(s,\"xmlns:xlink\",\"http://www.w3.org/1999/xlink\"),setAttribute(s,\"aria-hidden\",\"true\"),setAttribute(s,\"focusable\",\"false\"),setAttribute(s,\"width\",\"1em\"),setAttribute(s,\"height\",\"1em\"),setStyle(s,\"-ms-transform\",\"rotate(360deg)\"),setStyle(s,\"-webkit-transform\",\"rotate(360deg)\"),setStyle(s,\"transform\",\"rotate(360deg)\"),setAttribute(s,\"preserveAspectRatio\",\"xMidYMid meet\"),setAttribute(s,\"viewBox\",\"0 0 24 24\"),addListener(i,\"click\",d),i.className=\"custom-skip-button-inner\",i.tabIndex=\"0\",setAttribute(i,\"role\",\"button\"),n.className=\"custom-skip-button clickable\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(r,i),appendNode(o,r),appendNode(a,i),appendNode(s,i),appendNode(c,s)},p:function(e,t){(e.strings||e.language)&&u!==(u=t.strings[t.language].skip)&&(o.data=u)},u:function(){detachNode(n)},d:function(){removeListener(i,\"click\",d)}}}function create_if_block_1(e,t){var n,i,r=t.progress.skipTimeLeft>0&&create_if_block_2(e,t),o=0==t.progress.skipTimeLeft&&create_if_block_3(e,t);return{c:function(){r&&r.c(),n=createText(\" \"),o&&o.c(),i=createComment()},m:function(e,t){r&&r.m(e,t),insertNode(n,e,t),o&&o.m(e,t),insertNode(i,e,t)},p:function(t,a){a.progress.skipTimeLeft>0?r?r.p(t,a):((r=create_if_block_2(e,a)).c(),r.m(n.parentNode,n)):r&&(r.u(),r.d(),r=null),0==a.progress.skipTimeLeft?o?o.p(t,a):((o=create_if_block_3(e,a)).c(),o.m(i.parentNode,i)):o&&(o.u(),o.d(),o=null)},u:function(){r&&r.u(),detachNode(n),o&&o.u(),detachNode(i)},d:function(){r&&r.d(),o&&o.d()}}}function create_if_block_4(e,t){var n,i,r,o=t.strings[t.language].instreamContinue;return{c:function(){n=createElement(\"div\"),i=createElement(\"span\"),r=createText(o),this.h()},h:function(){i.className=\"thumbnail-info\",n.className=\"thumbnail\",setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\"),setStyle(n,\"background-size\",\"cover\")},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(r,i)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].instreamContinue)&&(r.data=o),e.thumbnailUrl&&setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\")},u:function(){detachNode(n)},d:noop}}function create_if_block_6(e,t){var n,i,r,o=t.strings[t.language].advertising;return{c:function(){n=createElement(\"span\"),i=createText(o),r=createText(\":\"),this.h()},h:function(){n.className=\"advertising-label\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(r,n)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].advertising)&&(i.data=o)},u:function(){detachNode(n)},d:noop}}function create_if_block_5(e,t){var n,i,r,o,a,s,c,u,d,l,p,m,f,g,h,_,b,k,C;function D(t){e.fire(\"toggle-fullscreen\")}var v=t.instream&&t.progressLabel&&create_if_block_6(e,t);return{c:function(){n=createElement(\"div\"),r=createText(\"\\n  \"),o=createElement(\"span\"),v&&v.c(),a=createText(\"\\n    \"),s=createElement(\"span\"),c=createText(t.progressLabel),u=createText(\"\\n  \"),d=createElement(\"div\"),l=createElement(\"span\"),p=createText(t.timerCurrentTime),m=createText(\"\\n    \"),f=createElement(\"span\"),g=createText(\"\\n    \"),h=createElement(\"span\"),_=createText(t.timerDuration),b=createText(\"\\n  \"),k=createElement(\"div\"),C=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",D),n.className=i=\"fullscreen-button \"+(t.isFullscreen?\"fullscreen\":\"\"),o.className=\"label\",l.className=\"time\",f.className=\"separator\",h.className=\"duration\",d.className=\"timer\",C.className=\"progress\",setStyle(C,\"width\",t.progressWidth),k.className=\"progress-bar\"},m:function(e,t){insertNode(n,e,t),insertNode(r,e,t),insertNode(o,e,t),v&&v.m(o,null),appendNode(a,o),appendNode(s,o),appendNode(c,s),insertNode(u,e,t),insertNode(d,e,t),appendNode(l,d),appendNode(p,l),appendNode(m,d),appendNode(f,d),appendNode(g,d),appendNode(h,d),appendNode(_,h),insertNode(b,e,t),insertNode(k,e,t),appendNode(C,k)},p:function(t,r){t.isFullscreen&&i!==(i=\"fullscreen-button \"+(r.isFullscreen?\"fullscreen\":\"\"))&&(n.className=i),r.instream&&r.progressLabel?v?v.p(t,r):((v=create_if_block_6(e,r)).c(),v.m(o,a)):v&&(v.u(),v.d(),v=null),t.progressLabel&&(c.data=r.progressLabel),t.timerCurrentTime&&(p.data=r.timerCurrentTime),t.timerDuration&&(_.data=r.timerDuration),t.progressWidth&&setStyle(C,\"width\",r.progressWidth)},u:function(){detachNode(n),detachNode(r),detachNode(o),v&&v.u(),detachNode(u),detachNode(d),detachNode(b),detachNode(k)},d:function(){removeListener(n,\"click\",D),v&&v.d()}}}function create_if_block_7(e,t){var n;function i(t){e.fire(\"unmuted-overlay-click\")}return{c:function(){(n=createElement(\"div\")).innerHTML='<div class=\"unmuted-overlay-background\"></div>\\n    <div class=\"unmuted-overlay-button\"></div>',this.h()},h:function(){addListener(n,\"click\",i),n.className=\"unmuted-overlay\"},m:function(e,t){insertNode(n,e,t)},u:function(){detachNode(n)},d:function(){removeListener(n,\"click\",i)}}}function Player(e){init(this,e),this._state=assign(data(),e.data),this._recompute({progress:1,strings:1,language:1},this._state);var t=this;e.root||(this._oncreate=[]),this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(function(){oncreate.call(t),t.fire(\"update\",{changed:{progress:1,strings:1,language:1,isMuted:1,isMobile:1,instream:1,isFullscreen:1,skippable:1,hideCarodaUI:1,isPlaying:1,showSkipButton:1,skipCounterLabel:1,thumbnailUrl:1,progressLabel:1,timerCurrentTime:1,timerDuration:1,progressWidth:1,displayUnmutedOverlay:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),callAll(this._oncreate))}assign(Player.prototype,proto),Player.prototype._recompute=function(e,t){e.progress&&this._differs(t.progressWidth,t.progressWidth=progressWidth(t.progress))&&(e.progressWidth=!0),(e.progress||e.strings||e.language)&&(this._differs(t.progressLabel,t.progressLabel=progressLabel(t.progress,t.strings,t.language))&&(e.progressLabel=!0),this._differs(t.skipCounterLabel,t.skipCounterLabel=skipCounterLabel(t.progress,t.strings,t.language))&&(e.skipCounterLabel=!0)),e.progress&&(this._differs(t.timerCurrentTime,t.timerCurrentTime=timerCurrentTime(t.progress))&&(e.timerCurrentTime=!0),this._differs(t.timerDuration,t.timerDuration=timerDuration(t.progress))&&(e.timerDuration=!0))};\n;var bundle=function(A){\"use strict\";function e(A,e){if(!A)throw new Error(e)}var t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&\"function\"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?\"symbol\":typeof A},a=function(A,e){if(!(A instanceof e))throw new TypeError(\"Cannot call a class as a function\")},n=function(){function A(A,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(A,a.key,a)}}return function(e,t,a){return t&&A(e.prototype,t),a&&A(e,a),e}}(),i={MAX_REDIRECTS:10,PLAYER_NAME:\"caroda-ima\",PLAYER_VERSION:\"1.0.0\"},r={STARTED:[\"impression\",\"start\",\"creative_view\"],SKIPPED:[\"skip\"],CLICK:[\"click_tracking\"],VOLUME_MUTED:[\"mute\"],VOLUME_CHANGED:[\"unmute\"],RESUMED:[\"resume\"],PAUSED:[\"pause\"],COMPLETE:[\"complete\"],FIRST_QUARTILE:[\"first_quartile\"],MIDPOINT:[\"midpoint\"],THIRD_QUARTILE:[\"third_quartile\"]},s=function(){function A(t){var n=this;a(this,A),e(t.vast,\"opts.vast is mandatory\"),e(t.containerElement,\"opts.containerElement is mandatory\"),t.language=t.language||\"en\",google.ima.settings.setLocale(t.language.toUpperCase()),this.isPlaying=!0,this.lastUnmutedVolume=t.volume||1,this.pendingActions=[],this.eventHandlers={},this.maxRemainingTime=0,this.autoResumeEnabled=!0,this.adDisplayContainer=new google.ima.AdDisplayContainer(t.containerElement),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),this.adsLoader.getSettings().setLocale(t.language.toUpperCase()),this.adsLoader.getSettings().setNumRedirects(i.MAX_REDIRECTS),this.adsLoader.getSettings().setPlayerType(i.PLAYER_NAME),this.adsLoader.getSettings().setPlayerVersion(i.PLAYER_VERSION),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.getSettings().setVpaidAllowed(!0),this.adsRequest=new google.ima.AdsRequest,this.adsRequest.forceNonLinearFullSlot=!0;var r=/<VASTAdTagURI><!\\[CDATA\\[([^\\]]+doubleclick[^\\]]+)/i;t.vast.match(/<AdSystem>Caroda<\\/AdSystem>/i)&&t.vast.match(r)?this.adsRequest.adTagUrl=t.vast.match(r)[1]:this.adsRequest.adsResponse=t.vast,this.adsRequest.linearAdSlotWidth=t.containerElement.getBoundingClientRect().width,this.adsRequest.linearAdSlotHeight=Math.ceil(9*this.adsRequest.linearAdSlotWidth/16),this.adsRequest.nonLinearAdSlotWidth=this.adsRequest.linearAdSlotWidth,this.adsRequest.nonLinearAdSlotHeight=Math.ceil(this.adsRequest.linearAdSlotHeight/3),t.vastLoadTimeout&&(this.adsRequest.vastLoadTimeout=t.vastLoadTimeout),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(A){return n.initAdsManager(A)},!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.handleEventAs(\"adError\"),!1),this.adsLoader.requestAds(this.adsRequest)}return n(A,[{key:\"startProgressInterval\",value:function(){var A=this;this.progressInterval=setInterval(function(){var e=A.adsManager.getRemainingTime();if(A.currentAd&&A.adsManager&&-1!=e){var t=A.currentAd.getDuration();A.maxRemainingTime=Math.max(A.maxRemainingTime,e),t=Math.max(t,A.maxRemainingTime);var a=Math.max(t-e,0),n=Math.max(0,A.currentAd.getSkipTimeOffset()-a),i=A.currentAd.isSkippable();A.handleEventAs(\"progress\")({currentTime:a,duration:t,skipTimeLeft:n,isSkippable:i}),A.isPlaying&&A.autoResumeEnabled&&A.adsManager.resume()}else A.handleEventAs(\"progress\")({currentTime:0,duration:0,skipTimeLeft:-1,isSkippable:!1})},500)}},{key:\"initAdsManager\",value:function(A){var e=this;try{this.addEventListener(\"adError\",function(){return e.destroy()});var t=new google.ima.AdsRenderingSettings;t.useStyledLinearAds=!1,t.uiElements=[],t.enablePreloading=!0,t.mimeTypes=[\"video/mp4\",\"video/webm\",\"video/ogg\"],/Google Inc/.test(window.navigator.vendor)&&(t.bitrate=this.getBitrateKbps()),this.adsManager=A.getAdsManager(document.createElement(\"video\"),t),this.adDisplayContainer.initialize(),this.adsManager.init(this.adsRequest.linearAdSlotWidth,this.adsRequest.linearAdSlotHeight,google.ima.ViewMode.NORMAL),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.handleEventAs(\"adError\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(A){e.initAd(A),e.handleEventAs(\"adStarted\")(e.currentAd),e.handleEventAs(\"adPlaying\")()}),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.handleEventAs(\"adPaused\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.handleEventAs(\"adPlaying\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,function(A){e.isAdCanPlayCompatibleCreative(A.getAd())||e.notifyAdCanPlay(A.getAd())}),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_CAN_PLAY,function(A){e.isAdCanPlayCompatibleCreative(A.getAd())&&e.notifyAdCanPlay(A.getAd())});var a=this.getNotifyAdEndedOnce();this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,function(){e.handleEventAs(\"volumeChanged\")(e.adsManager.getVolume())}),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,function(A){var t=A.getAdData();t&&t.adError&&e.isVpaid901AdBlockedError(t.adError)&&e.handleEventAs(\"adError\")(t.adError)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,function(){return e.adsManager.resume()}),this.registerTracking(),this.mute()}catch(A){this.handleEventAs(\"adError\")(A);try{this.adsManager.stop()}catch(A){}}}},{key:\"getNotifyAdEndedOnce\",value:function(){var A=this,e=!1;return function(t){e||(A.adsManager.stop(),setTimeout(function(){return A.handleEventAs(\"adEnded\")(t)},0),e=!0)}}},{key:\"unfreeze\",value:function(){this.adsManager&&(this.adsManager.start(),this.hasStarted=!0)}},{key:\"initAd\",value:function(A){this.currentAd=A.getAd(),this.startProgressInterval()}},{key:\"registerTracking\",value:function(){var A=this;e(this.adsManager,\"adsManager not initialized\"),this.hasMuted=!1;var t=!0,a=!1,n=void 0;try{for(var i,s=Object.keys(r)[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value,d=google.ima.AdEvent.Type[o],u=r[o],l=function(e){[\"mute\",\"unmute\"].includes(e)||A.adsManager.addEventListener(d,function(){return A.handleEventAs(\"tracking\")({eventName:e})})},c=!0,h=!1,m=void 0;try{for(var g,v=u[Symbol.iterator]();!(c=(g=v.next()).done);c=!0){l(g.value)}}catch(A){h=!0,m=A}finally{try{!c&&v.return&&v.return()}finally{if(h)throw m}}}}catch(A){a=!0,n=A}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}}},{key:\"playAds\",value:function(){this.adsManager&&(this.hasStarted?this.adsManager.resume():this.unfreeze(),this.isPlaying=!0)}},{key:\"pauseAds\",value:function(){this.adsManager&&this.currentAd&&(this.adsManager.pause(),this.isPlaying=!1)}},{key:\"mute\",value:function(){this.setVolume(0)}},{key:\"unmute\",value:function(){this.setVolume(this.lastUnmutedVolume)}},{key:\"setVolume\",value:function(A){this.adsManager&&this.adsManager.setVolume(A),this.lastUnmutedVolume=A>0?A:this.lastUnmutedVolume}},{key:\"getVolume\",value:function(){if(this.adsManager)return this.adsManager.getVolume()}},{key:\"addEventListener\",value:function(A,e){this.eventHandlers[A]=this.eventHandlers[A]||[],this.eventHandlers[A].push(e)}},{key:\"handleEventAs\",value:function(A){var e=this;return function(t){(e.eventHandlers[A]||[]).forEach(function(A){return A(t)})}}},{key:\"notifyAdCanPlay\",value:function(A){var e=this,t=A.getAdId();this.lastAdNotifiedId===t||(this.lastAdNotifiedId=t,setTimeout(function(){return e.handleEventAs(\"adCanPlay\")(A)},300))}},{key:\"destroy\",value:function(){this.adsManager&&this.adsManager.setVolume(0),this.adsManager&&this.adsManager.destroy(),clearInterval(this.progressInterval)}},{key:\"getBitrateKbps\",value:function(){var A=this.adsRequest.linearAdSlotWidth*this.adsRequest.linearAdSlotHeight*21*.1,e=Math.floor(A/1e3);return Math.min(e,2e3)}},{key:\"stopAutoResume\",value:function(){this.autoResumeEnabled=!1}},{key:\"isAdCanPlayCompatibleCreative\",value:function(A){var e=\"VPAID\"===A.getApiFramework(),t=JSON.stringify(A.getTraffickingParameters()||\"\").indexOf(\"adsafeprotected\")>=0,a=\"FT\"===A.getAdSystem();return e&&(t||a)}},{key:\"skip\",value:function(){var A=this.adsManager.getAdSkippableState();(this.adsManager.skip(),A)||this.getNotifyAdEndedOnce()()}},{key:\"isVpaid901AdBlockedError\",value:function(A){var e=A.getErrorCode()===google.ima.AdError.ErrorCode.VPAID_ERROR,t=((A.getInnerError()||new Error(\"\")).message||\"\").toLowerCase().indexOf(\"ad blocked\")>=0;return e&&t}}]),A}();function o(A,e){d(A+\" { \"+function(A){var e=document.createElement(\"span\");return Object.keys(A).forEach(function(t){var a=A[t];\"content\"===t&&(a=\"'\"+a+\"'\"),e.style[t]=\"number\"==typeof a?a+\"px\":a}),e.style.cssText.replace(/;( |$)/g,\" !important; \")}(e)+\" }\"),function(A){return Object.keys(A).filter(function(e){return\"object\"===t(A[e])})}(e).forEach(function(t){o(function(A,e){var t=function(A){return[\"before\",\"after\",\"hover\"].indexOf(A)>=0}(e)?\":\":\".\";return\"\"+A+t+e}(A,t),e[t])})}function d(A){var e=document.createElement(\"style\");e.innerHTML=A,document.head.appendChild(e)}function u(A,e){var t=0;return function(){if(function(A){return Date.now()-A>e}(t))return t=Date.now(),A.apply(void 0,arguments)}}var l=function(){function A(){var e=this;a(this,A),this.canvas=this.createCanvas(),this.frameBitMap=null,new ResizeObserver(function(){e.resizeCanvas()}).observe(document.body)}return n(A,[{key:\"renderVideoFrame\",value:function(A){var e=this;this.canvas.width=A.offsetWidth,this.canvas.height=A.offsetHeight,createImageBitmap(A).then(function(A){e.frameBitMap=A,e.renderFrameBitMap()})}},{key:\"createCanvas\",value:function(){var A=document.createElement(\"canvas\");return A.classList.add(\"caroda-canvas\"),document.body.appendChild(A),A}},{key:\"resizeCanvas\",value:function(){this.frameBitMap&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.renderFrameBitMap())}},{key:\"renderFrameBitMap\",value:function(){var A=this.canvas.width/this.frameBitMap.width,e=this.canvas.height/this.frameBitMap.height,t=Math.min(A,e),a=this.frameBitMap.width*t,n=this.frameBitMap.height*t,i=(this.canvas.width-a)/2,r=(this.canvas.height-n)/2;this.canvas.getContext(\"2d\").drawImage(this.frameBitMap,0,0,this.frameBitMap.width,this.frameBitMap.height,i,r,a,n)}}]),A}(),c={type:\"video/mp4\",base64:\"AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAABa9tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MyByMzA2MCA1ZGI2YWE2IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAAhBmiRsQ3/+4N4EAExhdmM1OC4xMzQuMTAwAAH8YFoYyKEOnAJJdkXcCnXEkgamlqaWqCwaecS7VJqX7FTMGaVrtxwxwxkbDGRsJpJnaRgYGBgYGBgYGBgYGBgYGBgYGBgYGRIkUssssssstQ4AAAAIQZ5CeIV/xIEA/i4EljCOiAOhA055AJKdpmJVBZuXm8AA5CwAliCX7BCZNhEFMdHAAAAACAGeYXRCf8eAAOQrgJYwh+ywc0ZMtvdq4OAAAAAIAZ5jakJ/x4EA5CuAliCP7BjK4h261R4A5CuAljCH7LCb26x7O714cAAAAA5BmmhJqEFomUwIZ//+4QDkK4CWMIfsCFz/AJQlyEWHAAAACkGehkURLCv/xIEA5CuAljCH7NBu1qohQLei4OAA5CuAljCH7NBgrRBGkS9VwcAAAAAIAZ6ldEJ/x4EA5CuAljCH7AhUnQSb1w8sOAAAAAgBnqdqQn/HgADkK4CWMIfssJ/T6mtbuXhwAOQrgJYgj+wY2uYcmNUOAAAADkGarEmoQWyZTAhf//7gAOQrgJYwh+ywd5hoi1uxcHAAAAAKQZ7KRRUsK//EgQDkK4CWMIfsCESZBIsZDSg4AAAACAGe6XRCf8eAAOQrgJYwh+zQYq2OTpjzevDgAOQrgJYwh+zQb9brJTjXkvDgAAAACAGe62pCf8eAAOQrgJYwh+wG7PryERUgFBwAAAAPQZruSahBbJlMFEwn//7BAOQrgJYwh+ywktAF22N2rg4A5CuAliCP7BjJ2h5Xax8AAAAIAZ8NakJ/x4EA5CuAljCH7LB7L0v2/x14cADkK4CWMIfsCFynCJGa6iw4AP4vrShAQIQFpyKF3z7PLr1cAaGhIkSHCkdH12nAKWhII0NCRIk/UFOHh4eH/0zHAP4vqMxhZp0oGjjwSTWtB0UWgRBMtWsjZc59V/m7y6xYHwwwwwwwd5K5AmAA/j/H+OEfw/hABwAAB4Btb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAB/wABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAADWXRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAB9AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAfQAAAQAAAEAAAAAAtFtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAADwAAAAeAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAJ8bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAACPHN0YmwAAADAc3RzZAAAAAAAAAABAAAAsGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAA2YXZjQwFkAAr/4QAZZ2QACqzZX4iIwEQAAAMABAAAAwDwPEiWWAEABmjr48siwP34+AAAAAAQcGFzcAAAAAEAAAABAAAAFGJ0cnQAAAAAAAA4QAAAOEAAAAAYc3R0cwAAAAAAAAABAAAADwAAAgAAAAAUc3RzcwAAAAAAAAABAAAAAQAAAIhjdHRzAAAAAAAAAA8AAAABAAAEAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAAAEAAAYAAAAAAQAAAgAAAAAoc3RzYwAAAAAAAAACAAAAAQAAAAIAAAABAAAAAgAAAAEAAAABAAAAUHN0c3oAAAAAAAAAAAAAAA8AAALFAAAADAAAAAwAAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEwAAAAwAAABIc3RjbwAAAAAAAAAOAAAAMAAAA2UAAAOZAAADtgAAA+IAAAQFAAAENwAABFQAAASAAAAEowAABMIAAATyAAAFDwAABUIAAANRdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAgAAAAAAAAH/AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAB/wAABAAAAQAAAAACyW1kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAArEQAAFgAVcQAAAAAAC1oZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU291bmRIYW5kbGVyAAAAAnRtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAjhzdGJsAAAAfnN0c2QAAAAAAAAAAQAAAG5tcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADZlc2RzAAAAAAOAgIAlAAIABICAgBdAFQAAAAABDYgAACABBYCAgAUSCFblAAaAgIABAgAAABRidHJ0AAAAAAABDYgAACABAAAAGHN0dHMAAAAAAAAAAQAAABcAAAQAAAAArHN0c2MAAAAAAAAADQAAAAEAAAABAAAAAQAAAAIAAAACAAAAAQAAAAMAAAABAAAAAQAAAAQAAAACAAAAAQAAAAUAAAABAAAAAQAAAAYAAAACAAAAAQAAAAcAAAABAAAAAQAAAAgAAAACAAAAAQAAAAkAAAABAAAAAQAAAAsAAAACAAAAAQAAAAwAAAABAAAAAQAAAA0AAAACAAAAAQAAAA4AAAAEAAAAAQAAAHBzdHN6AAAAAAAAAAAAAAAXAAAAZAAAABgAAAAQAAAAEQAAAA8AAAARAAAAEQAAABIAAAASAAAAEQAAABEAAAAPAAAAEQAAABEAAAASAAAAEgAAABEAAAARAAAADwAAABEAAAARAAAAMAAAADcAAABIc3RjbwAAAAAAAAAOAAADAQAAA3EAAAOlAAADwgAAA/QAAAQTAAAEQwAABGAAAASSAAAEsQAABM4AAAT+AAAFIgAABU4AAAAac2dwZAEAAAByb2xsAAAAAgAAAAH//wAAABxzYmdwAAAAAHJvbGwAAAABAAAAFwAAAAEAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU4Ljc2LjEwMA==\"};function h(){var A=function(){var A=document.createElement(\"video\");return A.setAttribute(\"playsinline\",!0),A.setAttribute(\"src\",\"data:\"+c.type+\";base64,\"+c.base64),A.muted=!1,A.volume=.1,A}(),e=A.play();return e?Promise.resolve(e).then(function(){return!0}).catch(function(){return!1}).then(function(e){return A.pause(),e}):(A.pause(),Promise.resolve(!1))}var m=function(){function A(e){var t=this;a(this,A),this.startTime=Date.now();var n=e.language&&e.language.toLowerCase()||\"en\",i=e.instream||!1,r=e.thumbnailUrl;if(this.language=n,this.instream=i,this.vast=e.vast,this.target=e.target,this.component=new Player({target:e.target,data:this.data}),this.volume=0,this.eventHandlers=[],this.hadImpression=!1,this.adEnded=!1,this.adError=!1,this.userAdPaused=!1,this.vastLoadTimeout=e.vastLoadTimeout,this.mediaUrl=e.mediaUrl,this.forceSkippableAfterSeconds=e.forceSkippableAfterSeconds,this.overrideSkipTimeLeft=!1,window.$=this.component,this.id=e.id,this.$=this.component,this.$.set({language:n,instream:i,thumbnailUrl:r,isMobile:!!navigator.userAgent.match(/iPhone|iPad|Android/i),hideCarodaUI:!!e.hideCarodaUI,isMuted:this.isMuted(),isPlaying:!1}),this.$.on(\"setVolume\",function(A){return t.setVolume(A)}),this.$.on(\"toggle-audio\",function(){if(t.startWithLowVolume)return t.startWithLowVolume=void 0,void t.setVolume(1);t.$.get(\"isMuted\")?(t.event({type:\"tracking\",eventName:\"unmute\"}),t.unmute()):(t.event({type:\"tracking\",eventName:\"mute\"}),t.mute())}),this.$.on(\"toggle-fullscreen\",function(){t.event({type:t.$.get(\"isFullscreen\")?\"unfullscreen\":\"fullscreen\"})}),this.$.on(\"unmuted-overlay-click\",function(){t.event({type:\"tracking\",eventName:\"unmute\"}),t.unmute(),t.$.set({shouldDisplayUnmuteOverlay:!1})}),this.$.on(\"toggle-play\",function(){t.$.get(\"isPlaying\")?(t.userAdPaused=!0,t.pauseAd()):(t.userAdPaused=!1,t.playAd())}),this.$.on(\"skip\",function(){t.ima.skip()}),e.css&&d(e.css),e.styles&&this.setStyles(e.styles),this.listenToBridgesIframe(),this.mediaUrl){var s=encodeURIComponent(this.mediaUrl);this.vast=this.vast.replace(/&vpmute=/g,\"&media_url=\"+s+\"&vpmute=\")}e.startWithLowVolume?h().then(function(A){t.log(\".constructor\",{canStartWithLowVolume:A}),t.startWithLowVolume=A,A&&(t.vast=t.vast.replace(/vpmute=1/g,\"vpmute=0\"),t.vast=t.vast.replace(/vpmute%3D1/g,\"vpmute%3D0\"),t.log(\".constructor\",{vast:t.vast})),t.initializeIma()}):this.initializeIma(),this.listenToChromeHeavyAdIntervention(),this.shouldDisplayUnmuteOverlay=e.unmuteOverlay}return n(A,[{key:\"initializeIma\",value:function(){var A=this,e=0;this.ima=new s({vast:this.vast,language:this.language,containerElement:document.querySelector(\".caroda-ad-container\"),isOutstream:!this.instream,volume:this.volume,vastLoadTimeout:this.vastLoadTimeout}),this.ima.addEventListener(\"tracking\",function(e){var t=e.eventName;A.hadImpression=A.hadImpression||\"impression\"===t}),this.ima.addEventListener(\"adCanPlay\",function(e){A.throwIfInvalidImage(e).then(function(){A.event({type:\"adCanPlay\",currentAd:e});var t=\"application/javascript\"===e.getContentType();A.overrideSkipTimeLeft=!e.isSkippable()&&!t&&!isNaN(A.forceSkippableAfterSeconds),A.$.set({showSkipButton:A.isSkippableDoubleVerifyVpaid(e)||A.overrideSkipTimeLeft}),A.shouldDisplayUnmuteOverlay&&!t&&A.$.set({displayUnmutedOverlay:!0})}).catch(function(e){A.errorEvent(e.message||e)})}),this.ima.addEventListener(\"adStarted\",function(e){A.$.set({skippable:e.isSkippable()}),A.prepareRenderAlmostLastFrame()}),this.ima.addEventListener(\"adPaused\",function(){return A.notifyPlayStatus(!1)}),this.ima.addEventListener(\"adPlaying\",function(){return A.notifyPlayStatus(!0)}),this.ima.addEventListener(\"tracking\",function(e){return A.event({type:\"tracking\",eventName:e.eventName})}),this.ima.addEventListener(\"progress\",function(t){t.currentTime-=t.duration-A.ima.maxRemainingTime,t.duration=A.ima.maxRemainingTime,t.currentTime<e&&(A.log(\"initializeIma\",\"progress\",\"rewind detected\"),A.end()),e=t.currentTime,A.overrideSkipTimeLeft&&(t.skipTimeLeft=Math.max(0,A.forceSkippableAfterSeconds-t.currentTime)),A.$.set({progress:t}),A.event({type:\"progress\",duration:t.duration,currentTime:t.currentTime});var a=A.ima.getVolume();if(void 0!==a&&a!==A.volume){A.event({type:\"volumeChanged\",volume:a});var n=0===a;A.$.set({isMuted:n}),A.volume=a,n?A.mute():A.unmute()}}),this.ima.addEventListener(\"adError\",function(e){return A.errorEvent(e.message||e.getError&&e.getError()||e)}),this.ima.addEventListener(\"adEnded\",function(){A.hadImpression?A.end():A.errorEvent(\"no impression\")}),this.ima.addEventListener(\"volumeChanged\",function(e){A.event({type:\"volumeChanged\",volume:e}),A.volume=e}),this.registerMessageHandler(),this.event({type:\"volumeChanged\",volume:this.volume}),this.$.set({isMuted:this.isMuted()})}},{key:\"playingVideoElement\",value:function(){return this._adVideoElement||(this._adVideoElement=[].slice.call(document.querySelectorAll(\"video\")).find(function(A){return A.currentTime>0}))}},{key:\"event\",value:function(A){window.parent.postMessage(this.id+\"://\"+JSON.stringify(A),\"*\")}},{key:\"errorEvent\",value:function(A){this.adError=!0,this.event({type:\"adError\",error:A})}},{key:\"registerMessageHandler\",value:function(){var A=this;window.addEventListener(\"message\",function(e){try{var t=e.data.match(/^([^:]+):\\/\\/(.*)$/),a=JSON.parse(t[2]);A.eventHandlers.filter(function(A){return A.type===a.type}).forEach(function(A){return A.handler(a)})}catch(e){A.log(\"registerMessageHandler\",e)}})}},{key:\"onEvent\",value:function(A,e){this.eventHandlers.push({type:A,handler:e})}},{key:\"playAd\",value:function(){this.ima.playAds()}},{key:\"pauseAd\",value:function(){this.ima.pauseAds()}},{key:\"mute\",value:function(){this.ima.mute(),this.$.set({isMuted:!0})}},{key:\"unmute\",value:function(){this.ima.unmute(),this.$.set({isMuted:!1})}},{key:\"setVolume\",value:function(A){this.ima.setVolume(A),this.$.set({isMuted:!!this.startWithLowVolume||0===A})}},{key:\"log\",value:function(){for(var A=arguments.length,e=Array(A),t=0;t<A;t++)e[t]=arguments[t];this.event({type:\"log\",message:(.001*(Date.now()-this.startTime)).toFixed(2)+\"s :: \"+e.map(function(A){if(\"string\"==typeof A)return A;try{return JSON.stringify(A)}catch(e){return A.toString()}}).join(\" :: \")})}},{key:\"end\",value:function(){this.adEnded=!0,this.event({type:\"adEnded\"}),this.ima&&this.ima.destroy()}},{key:\"prepareRenderAlmostLastFrame\",value:function(){var A=this,e=new l;this.ima.addEventListener(\"adEnded\",function(){A.playingVideoElement()||(document.querySelector(\".last-frame-fallback\").style.opacity=\"1\"),document.querySelector(\".caroda-ad-container\").remove()}),this.waitForPlayingVideoElement().then(function(A){A.addEventListener(\"timeupdate\",u(function(){A.duration-A.currentTime<1||e.renderVideoFrame(A)},1e3))})}},{key:\"waitForPlayingVideoElement\",value:function(){var A=this;return new Promise(function(e){var t=setInterval(function(){var a=A.playingVideoElement();a&&(clearInterval(t),e(a))},250)})}},{key:\"setFullscreen\",value:function(A){this.$.set({isFullscreen:A})}},{key:\"listenToChromeHeavyAdIntervention\",value:function(){var A=this;this.log(\"AdController\",\"listenToChromeHeavyAdIntervention\"),window.ReportingObserver&&(new ReportingObserver(function(e,t){var a=e.some(function(A){return\"intervention\"===A.type});A.log(\"AdController\",\"listenToChromeHeavyAdIntervention\",\"reports\",a),a&&A.notifyHeavyAdInterventionToMainFrame()},{buffered:!0}).observe(),window.addEventListener(\"pagehide\",function(){A.adEnded||A.adError||A.event({type:\"adError\",message:\"frame interrupted\"})}))}},{key:\"notifyHeavyAdInterventionToMainFrame\",value:function(){this.event({type:\"heavyAd\"}),this.event({type:\"adError\",message:\"heavy ad reported\"})}},{key:\"notifyPlayStatus\",value:function(A){this.$.set({isPlaying:A}),this.event({type:\"playingStatus\",isPlaying:A})}},{key:\"isMuted\",value:function(){return 0===this.volume}},{key:\"stopAutoResume\",value:function(){this.ima.stopAutoResume()}},{key:\"setStyles\",value:function(A){var e=this;Object.keys(A).forEach(function(t){o(e.getComponentSelector(t),A[t])})}},{key:\"getComponentSelector\",value:function(A){switch(A){case\"root\":return\".caroda-ad-container\";case\"toggleAudio\":return\".caroda-ad-container > div.muted-button\";case\"togglePlayback\":return\".caroda-ad-container > div.toggle-playback-button\";case\"progressBar\":return\".caroda-ad-container > div.progress-bar\";case\"progress\":return\".caroda-ad-container > div.progress-bar .progress\";case\"label\":return\".caroda-ad-container > span.label\";case\"advertisingLabel\":return\".caroda-ad-container > span.advertising-label\";case\"timer\":return\".caroda-ad-container > div.timer\";case\"timerSeparator\":return\".caroda-ad-container > div.timer span.separator\";case\"toggleFullScreen\":return\".caroda-ad-container > .fullscreen-button\";case\"lastFrameFallbackImage\":return\".last-frame-fallback\";case\"skipButton\":return\".fake-skip-button\";default:return\"\"}}},{key:\"listenToBridgesIframe\",value:function(){var A=this;new MutationObserver(function(e,t){var a=e.map(function(A){return A.addedNodes}).reduce(function(A,e){return A.concat(Array.from(e))},[]).filter(function(A){return!!A}).find(function(A){return\"IFRAME\"===A.nodeName&&/imasdk.googleapis.com.*bridge/.test(A.src)});a&&(A.event({type:\"bridgesIframe\",url:a.src}),t.disconnect())}).observe(document,{childList:!0,subtree:!0})}},{key:\"isSkippableDoubleVerifyVpaid\",value:function(A){var e=\"application/javascript\"===A.getContentType(),t=(A.getTraffickingParametersString()||\"\").indexOf(\"doubleverify.com\")>=0;return A.isSkippable()&&e&&t}},{key:\"unfreeze\",value:function(A){var e=this,t=A.userInitiated,a=A.unmute;if(!this.$.get(\"isPlaying\")){if(a&&!t)return h().then(function(A){A?(e.startWithLowVolume=!1,e.unmute()):e.mute(),e.ima.unfreeze()});a&&t?(this.startWithLowVolume=!1,this.unmute()):this.startWithLowVolume?this.ima.setVolume(.01):this.mute(),this.ima.unfreeze()}}},{key:\"throwIfInvalidImage\",value:function(A){if(!/image/.test(A.getContentType()))return Promise.resolve();var e=new Image;return new Promise(function(t,a){e.onload=function(){return t()},e.onerror=function(){return a(new Error(\"invalid image\"))},e.src=A.getMediaUrl()}).then(function(){if(!(e.naturalWidth>=10&&e.naturalHeight>=10))throw new Error(\"invalid image\")})}}]),A}();return A.AdController=m,A}({});</script><script>function initController(opts) {\n        window.controller = window.controller || new bundle.AdController(opts)\n      }\n\n      function b64toBlob(b64Data, contentType, sliceSize) {\n        contentType = contentType || ''\n        sliceSize = sliceSize || 512\n        var byteCharacters = atob(b64Data)\n        var byteArrays = []\n        for (\n          var offset = 0;\n          offset < byteCharacters.length;\n          offset += sliceSize\n        ) {\n          var slice = byteCharacters.slice(offset, offset + sliceSize)\n          var byteNumbers = new Array(slice.length)\n          for (var i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i)\n          }\n          var byteArray = new Uint8Array(byteNumbers)\n          byteArrays.push(byteArray)\n        }\n        var blob = new Blob(byteArrays, { type: contentType })\n        return blob\n      }\n      var carodaFontB64 =\n        'AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=='\n      var carodaFontBlob = b64toBlob(carodaFontB64, 'application/x-font-ttf')\n      var carodaFontUrl = window.URL.createObjectURL(carodaFontBlob)\n      var css =\n        '\\\n        @font-face { \\\n            font-family: \"Caroda\"; \\\n            src: url(' +\n        carodaFontUrl +\n        ') format(\"truetype\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n    '\n      var style = document.createElement('STYLE')\n      style.innerHTML = css\n      document.head.appendChild(style)\n      ;(function (opts) {\n        opts.target = document.querySelector('.player')\n        try {\n          initController(opts)\n          window.addEventListener('message', function (evt) {\n            if (!evt.data.match || !evt.data.match(/^caroda-ad-player:/)) {\n              return\n            }\n            var msg = JSON.parse(evt.data.replace(/^caroda-ad-player:\\/\\//, ''))\n            if (msg.type === 'visibility' && !window.controller.userAdPaused) {\n              if (msg.value) {\n                window.controller.playAd()\n              } else {\n                window.controller.pauseAd()\n              }\n            }\n            if (msg.type === 'method') {\n              window.controller[msg.name].apply(window.controller, msg.args)\n            }\n            if (msg.type === 'end') {\n              window.controller && window.controller.end()\n            }\n            if (msg.type === 'fullscreen' && window.controller) {\n              window.controller.setFullscreen(msg.value)\n            }\n          })\n          if (!window.google) {\n            throw new Error('AdBlocker detected')\n          }\n        } catch (e) {\n          window.parent.postMessage(\n            `${opts.id}://${JSON.stringify({\n              type: 'adError',\n              message: e.message,\n            })}`,\n            '*'\n          )\n        }\n      })(/* PLAYEROPTS */)</script></body></html>";var exports=window;"use strict";function assert(e,t){if(!e)throw new Error(t)}function isMobileSafari(){return/version\/([\w\.]+) .*mobile\/\w+ (safari)/i.test(window.navigator.userAgent)}function isFullscreen(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return!!e&amp;&amp;(e.classList.contains("caroda-player-ima")||!!e.querySelector(".caroda-player-ima"))}function waitFor(e){return new Promise(function(t){var n=setInterval(function(){e()&amp;&amp;(clearInterval(n),t())})})};var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var function(t,n,i){return="" i='t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in' i&&(i.writable="!0),Object.defineProperty(e,i.key,i)}}return" isinviewport(e){if(isfullscreen())return!0;var="" n="getContainingWindow(e),i=n.document;return" n&&e(t.prototype,n),i&&e(t,i),t}}();function="" t="e.getBoundingClientRect();if(!t.width&amp;&amp;!t.height)return!1;var" t.top="">=-t.height/2&amp;&amp;t.bottom&lt;=(n.innerHeight||i.documentElement.clientHeight)+t.height/2&amp;&amp;"hidden"!==document.visibilityState}function getContainingWindow(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:window;return t?t.document.contains(e)?t:t.parent===t?null:getContainingWindow(e,t.parent):null}var styleElem=document.createElement("style");styleElem.innerHTML="\n    .caroda-ima-fullscreen {\n        position: absolute !important;\n        top: 0 !important;\n        left: 0 !important;\n        height: 100% !important;\n        width: 100% !important;\n        padding: 0 !important;\n    }\n",document.head.appendChild(styleElem);var PlayerEvents=["tracking","log","adError","adCanPlay","adEnded","unfullscreen","fullscreen","volumeChanged","heavyAd","progress","playingStatus","bridgesIframe"],VastPlayerIma=function(){function e(t){var n=this;classCallCheck(this,e),assert(t,"opts required"),assert(t.vast,"opts.vast required"),assert(t.container,"opts.container required");var i=t.container;delete t.container,this.id=t.id="caroda-container-"+Math.floor(1e6*Math.random()),this.isFrozen=!0,this.hasEnded=!1,this.userAdPaused=!1,this.autoResumeEnabled=!0,this.keepLastFrame=t.keepLastFrame,this.isInViewport=t.isInViewport||isInViewport,this.adControllerInitialized=!1,this.delayedUnfreeze=null,this.instream=t.instream,this.shouldPauseWhenOutOfView=t.shouldPauseWhenOutOfView||function(){return!0};var s=document.createElement("DIV");s.style.width="100%",s.style.paddingBottom="56.25%",s.style.position="relative",s.className="caroda-player-ima";var a=VAST_PLAYER_SCRIPT.replace("/* PLAYEROPTS */",function(){return JSON.stringify(Object.assign({},t))}),r=document.createElement("IFRAME");setTimeout(function(){var e=r.contentWindow.document;e.open("text/html","replace"),e.write(a),e.close()},0),r.setAttribute("allow","autoplay"),r.setAttribute("border",0),r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.border="0",r.style.paddingTop="0",r.style.paddingBottom="0",r.style.paddingLeft="0",r.style.paddingRight="0";["allowfullscreen","webkitallowfullscreen","mozallowfullscreen"].forEach(function(e){return r.setAttribute(e,!0)}),s.appendChild(r),i.appendChild(s),this.iframe=r,this.container=s,this.handlers={},this.trackingUrls={},this.windowEventHandler=function(e){return n.handleWindowEvent(e)},getContainingWindow(this.container).addEventListener("message",this.windowEventHandler),this.addEventListener("adEnded",function(){return n.clear()}),this.addEventListener("adError",function(){n.error=!0,n.clear(!0)}),this.addEventListener("heavyAd",function(){return console.log("CARODA :: skipped ad due to heavy ad restriction")}),this.addEventListener("unfullscreen",function(){isFullscreen()&amp;&amp;t.onUnfullscreen&amp;&amp;t.onUnfullscreen()}),this.addEventListener("fullscreen",function(){!isFullscreen()&amp;&amp;t.onFullscreen&amp;&amp;t.onFullscreen()});var o=void 0;this.duration=new Promise(function(e){o=e}),this.currentTime=NaN,this.countContinousView(),this.addEventListener("progress",function(e){var t=e.duration,i=e.currentTime;t&amp;&amp;o&amp;&amp;(o(t),o=void 0),n.currentTime=i}),this.playing=!1,this.addEventListener("playingStatus",function(e){var t=e.isPlaying;n.playing=t}),this.addEventListener("tracking",function(e){"impression"===e.eventName&amp;&amp;(n.hasImpression=!0,n.autoResumeEnabled=!1,n.sendMessage({type:"method",name:"stopAutoResume",args:[]}))}),this.addEventListener("adCanPlay",function(){n.adControllerInitialized=!0,n.delayedUnfreeze&amp;&amp;n.isVisible()&amp;&amp;n.delayedUnfreeze(),n.visibleInterval=setInterval(function(){n.delayedUnfreeze&amp;&amp;n.isVisible()&amp;&amp;n.delayedUnfreeze(),n.autoRefreshVisibility(),n.refreshFullscreen()},200)}),isMobileSafari()&amp;&amp;this.addEventListener("bridgesIframe",function(e){var t=e.url;return n.cacheBridges(t)}),this.failAfterTimeout()}return createClass(e,[{key:"getContainer",value:function(){return this.container}},{key:"handleWindowEvent",value:function(e){var t=this;if("string"==typeof e.data&amp;&amp;0===e.data.indexOf(this.id)){var n=JSON.parse(e.data.replace(/^caroda-container-[0-9]+:\/\//,""));if("tracking"===n.type&amp;&amp;(n.trackingUrls=this.trackingUrls[n.eventName]||[],"impression"===n.eventName)){var i=this.instream?2e3:1e3;waitFor(function(){return t.hasEnded||t.continuousViewMs&gt;=i}).then(function(){if(t.stopCountContinousView(),!t.hasEnded){var e=t.handlers[n.type]||[],i=Object.assign({},n,{trackingUrls:t.trackingUrls.viewableImpression||[],eventName:"viewableImpression"});e.forEach(function(e){return e(i)})}})}"trackingEvents"===n.type&amp;&amp;n.values.forEach(function(e){return t.addTrackingUrl(e[0],e[1])}),this.handlers[n.type]&amp;&amp;this.handlers[n.type].forEach(function(e){return e(n)})}}},{key:"refreshFullscreen",value:function(){var e=isFullscreen();this.sendMessage({type:"fullscreen",value:e}),e?this.container.classList.add("caroda-ima-fullscreen"):this.container.classList.remove("caroda-ima-fullscreen")}},{key:"addTrackingUrl",value:function(e,t){this.trackingUrls[e]=this.trackingUrls[e]||[],this.trackingUrls[e].push(t)}},{key:"addEventListener",value:function(e,t){assert(~PlayerEvents.indexOf(e),"eventName must be one of "+PlayerEvents.join(", ")),this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)}},{key:"triggerEvent",value:function(e,t){assert(~PlayerEvents.indexOf(e),"eventName must be one of "+PlayerEvents.join(", ")),(this.handlers[e]||[]).forEach(function(e){return e(t)})}},{key:"refreshVisibility",value:function(){this.userAdPaused||this.sendMessage({type:"visibility",value:this.isVisible()})}},{key:"autoRefreshVisibility",value:function(){var e=this.isVisible(),t=e!==this.lastVisible;(!e||t||this.autoResumeEnabled)&amp;&amp;(this.lastVisible=e,this.refreshVisibility())}},{key:"isVisible",value:function(){return!this.isFrozen&amp;&amp;(!this.shouldPauseWhenOutOfView()||this.isInViewport(this.container))}},{key:"sendMessage",value:function(e){this.iframe&amp;&amp;this.iframe.contentWindow&amp;&amp;this.iframe.contentWindow.postMessage("caroda-ad-player://"+JSON.stringify(e),"*")}},{key:"freeze",value:function(){this.isFrozen=!0,this.refreshVisibility()}},{key:"unfreeze",value:function(){var e=this,t=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:{},n=t.userInitiated,i=void 0!==n&amp;&amp;n,s=t.unmute,a=void 0!==s&amp;&amp;sthis.isFrozen=!1,this.adControllerInitialized?this.sendMessage({type:"method",name:"unfreeze",args:[{userInitiated:i,unmute:a}]}):this.delayedUnfreeze=function(){e.unfreeze({userInitiated:!1,unmute:a}),e.delayedUnfreeze=null}}},{key:"mute",value:function(){this.sendMessage({type:"method",name:"mute",args:[]})}},{key:"unmute",value:function(){this.sendMessage({type:"method",name:"unmute",args:[]})}},{key:"setVolume",value:function(e){this.sendMessage({type:"method",name:"setVolume",args:[e]})}},{key:"reject",value:function(){this.handleWindowEvent({data:this.id+'://{"type":"adError","message":"creative rejected"}'})}},{key:"clear",value:function(){var e=this,t=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]&amp;&amp;arguments[0];if(!this.hasEnded){clearInterval(this.visibleInterval),this.stopCountContinousView();var n=getContainingWindow(this.container);n&amp;&amp;n.removeEventListener("message",this.windowEventHandler),this.sendMessage({type:"end"}),t&amp;&amp;(this.container.style.display="none"),this.hasEnded=!0,setTimeout(function(){e.keepLastFrame&amp;&amp;e.hasImpression&amp;&amp;!e.error||e.container.parentElement.removeChild(e.container)},1e3)}}},{key:"getAdDuration",value:function(){return this.duration}},{key:"getAdProgress",value:function(){return this.currentTime}},{key:"userAdPlay",value:function(){this.userAdPaused=!1,this.sendMessage({type:"method",name:"playAd",args:[]})}},{key:"userAdPause",value:function(){this.userAdPaused=!0,this.sendMessage({type:"method",name:"pauseAd",args:[]})}},{key:"isPlaying",value:function(){return this.playing}},{key:"cacheBridges",value:function(e){if(!document.getElementById("caroda-ima-bridges-cache")){var t=document.createElement("iframe");t.src=e,t.id="caroda-ima-bridges-cache",t.style.visibility="hidden",t.style.position="absolute",t.style.bottom="0",t.style.left="0",t.style.width="1px",t.style.height="1px",document.body.appendChild(t)}}},{key:"failAfterTimeout",value:function(){var e=this,t=!0,n=function(){return t=!1};this.addEventListener("adCanPlay",n),this.addEventListener("adError",n),setTimeout(function(){t&amp;&amp;e.triggerEvent("adError",{message:"Creative cannot play after 5 seconds"})},5e3)}},{key:"countContinousView",value:function(){var e=this;this.continuousViewMs=0;this.countContinousViewInterval=setInterval(function(){e.isInViewport(e.iframe)&amp;&amp;e.playing?e.continuousViewMs+=250:e.continuousViewMs=0},250)}},{key:"stopCountContinousView",value:function(){clearInterval(this.countContinousViewInterval)}}]),e}();exports.VastPlayerIma=VastPlayerIma;
})();(function(){var VAST_PLAYER_SCRIPT="<!DOCTYPE html>
<html><head><title>Vast Vpaid Caroda Ad Loader</title><meta content='\"width=device-width,initial-scale=1\"' name='\"viewport\"'/><meta content='\"text/html;charset=utf-8\"' http-equiv='\"Content-Type\"'/><style>@font-face{font-family:Caroda;src:url(data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format(\"truetype\");font-weight:400;font-style:normal}body,html{height:100%;margin:0;padding:0;overflow:hidden;font-family:arial,sans-serif;background:rgba(0,0,0,0)!important}.player{width:100%;height:100%;background:rgba(0,0,0,0)!important}*{outline:0}.caroda-ad-container{position:relative;width:100%;height:100%;padding-top:0}.caroda-ad-container>video{position:absolute;top:0;left:0;width:calc(100% + .5px)!important;height:calc(100% + .5px)!important}.caroda-ad-container>div{z-index:1}.caroda-ad-container>div.companion-container{background:#000;pointer-events:none}.caroda-ad-container>div.companion-container .companion{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.caroda-ad-container>div.poster{position:absolute;pointer-events:none;width:100%;height:100%;left:0;top:0}.caroda-ad-container>span.label{position:absolute;left:10px;bottom:10px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:14px}.caroda-ad-container>div.timer{display:none}.caroda-ad-container>div.muted-button{width:30px;height:25px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container>div.muted-button:before{color:#fff;font-size:24px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:'\\e905'}.caroda-ad-container>div.toggle-playback-button{display:none}.caroda-ad-container>div.skip-button{position:absolute;z-index:100000;background:rgba(0,0,0,.8);border:1px solid rgba(255,255,255,.4);font-size:18px;bottom:37px;text-align:center;padding:8px;min-width:88px;color:#ccc;cursor:pointer}.caroda-ad-container>div.skip-button:hover{background:#000;color:#eee;border:1px solid rgba(255,255,255,.8)}.caroda-ad-container>div.skip-button{right:0;border-right:0}.caroda-ad-container>div.skip-button:hover{border-right:0}.caroda-ad-container.mobile>div.skip-button{bottom:15px;padding:5px}.caroda-ad-container.outstream>div.muted-button{left:auto;top:6px;right:2px}.caroda-ad-container.outstream.hide-skip>div.muted-button{top:auto;bottom:10px}.caroda-ad-container.instream>div.muted-button{bottom:11px;right:10px;width:22px;height:17px}.caroda-ad-container.instream>div.muted-button:before{font-size:16px}.caroda-ad-container.instream.skippable>.skip-button{transition:bottom .3s;bottom:40px}.caroda-ad-container.instream>.thumbnail{position:absolute;top:7px;left:10px;width:48px;height:27px;background-color:#000}.caroda-ad-container.instream>.thumbnail>.thumbnail-info{position:absolute;left:56px;top:6px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:12px;width:100vw;max-width:600px}.caroda-ad-container>.fullscreen-button{display:none;width:22px;height:17px;bottom:11px;right:10px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container>.fullscreen-button:before{color:#fff;font-size:16px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:'\\e902'}.caroda-ad-container:not(.muted)>div.muted-button:before{content:'\\e906'}.caroda-ad-container.fullscreen>div.muted-button{right:40px}.caroda-ad-container.fullscreen>.fullscreen-button{display:block}.caroda-ad-container>div.progress-bar{background:#5e8791;height:4px;position:absolute;left:0;right:0;bottom:0;top:auto}.caroda-ad-container>div.progress-bar .progress{background:#f5a03e;color:#f5a03e;height:4px;position:absolute;left:0;bottom:0;transition:all .5s linear}.caroda-ad-container>div.progress-bar .progress::before{content:'';background:#f5a03e;position:absolute;height:8px;width:8px;top:-2px;right:-4px;border-radius:50%}.caroda-ad-container .bb_wrapper,.caroda-ad-container .bb_wrapper .bb-content-layer,.caroda-ad-container .bb_wrapper .bb-head-layer,.caroda-ad-container .bb_wrapper .bb-timeline-layer{width:100%!important;height:100%!important;left:0!important;top:0!important}.caroda-ad-container .bb_wrapper .bb-controls-layer{display:none!important}.caroda-ad-container .unmuted-overlay{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}.caroda-ad-container .unmuted-overlay .unmuted-overlay-background{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000;transition:opacity .3s ease-out;opacity:0}.caroda-ad-container .unmuted-overlay .unmuted-overlay-button{position:absolute;width:100%;height:100%;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;transition:opacity .3s ease-out;opacity:0}.caroda-ad-container .unmuted-overlay .unmuted-overlay-button:before{font-family:Caroda;position:absolute;color:#fff;font-size:64px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:'\\e906'}.caroda-ad-container .unmuted-overlay:hover .unmuted-overlay-background{opacity:.5}.caroda-ad-container .unmuted-overlay:hover .unmuted-overlay-button{opacity:1}.mol-vast-skip-control{display:none}.doubleverify .mol-video-ad-container>div:not([style*=font]),.doubleverify .mol-video-ad-container>div>div:not([style*=font]){width:100%!important;height:100%!important}.no-select{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.last-frame-fallback{position:absolute;top:0;left:0;width:100%;height:100%;background-size:100%;background-position:center;opacity:0;transition:opacity .3s ease-out}</style></head><body><div class='\"last-frame-fallback\"'></div><div class='\"player\"'></div><script>var omwebCode=\";(function(omidGlobal) {\\n  'use strict';var n;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function p(a){var b='undefined'!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function q(a){if(!(a instanceof Array)){a=p(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ba='function'==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;\\nif('function'==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={W:!0},fa={};try{fa.__proto__=ea;da=fa.W;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+' is not extensible');return a}:null}var ha=ca;\\nfunction r(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ha)ha(a,b);else for(var c in b)if('prototype'!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]}function ia(a){a=['object'==typeof window&&window,'object'==typeof self&&self,'object'==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}return globalThis}\\nvar t=ia(this),v='function'==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function x(a,b){if(b){var c=t;a=a.split('.');for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&v(c,a,{configurable:!0,writable:!0,value:b})}}x('globalThis',function(a){return a||t});function y(a,b){return Object.prototype.hasOwnProperty.call(a,b)}\\nvar ja='function'==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)y(d,e)&&(a[e]=d[e])}return a};x('Object.assign',function(a){return a||ja});function ka(){ka=function(){};t.Symbol||(t.Symbol=ma)}function na(a,b){this.a=a;v(this,'description',{configurable:!0,writable:!0,value:b})}na.prototype.toString=function(){return this.a};\\nvar ma=function(){function a(c){if(this instanceof a)throw new TypeError('Symbol is not a constructor');return new na('jscomp_symbol_'+(c||'')+'_'+b++,c)}var b=0;return a}();function z(){ka();var a=t.Symbol.iterator;a||(a=t.Symbol.iterator=t.Symbol('Symbol.iterator'));'function'!=typeof Array.prototype[a]&&v(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return oa(aa(this))}});z=function(){}}function oa(a){z();a={next:a};a[t.Symbol.iterator]=function(){return this};return a}\\nx('WeakMap',function(a){function b(h){this.a=(g+=Math.random()+1).toString();if(h){h=p(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}}function c(){}function d(h){var k=typeof h;return'object'===k&&null!==h||'function'===k}function e(h){if(!y(h,l)){var k=new c;v(h,l,{value:k})}}function f(h){var k=Object[h];k&&(Object[h]=function(m){if(m instanceof c)return m;e(m);return k(m)})}if(function(){if(!a||!Object.seal)return!1;try{var h=Object.seal({}),k=Object.seal({}),m=new a([[h,2],[k,\\n3]]);if(2!=m.get(h)||3!=m.get(k))return!1;m.delete(h);m.set(k,4);return!m.has(h)&&4==m.get(k)}catch(u){return!1}}())return a;var l='$jscomp_hidden_'+Math.random();f('freeze');f('preventExtensions');f('seal');var g=0;b.prototype.set=function(h,k){if(!d(h))throw Error('Invalid WeakMap key');e(h);if(!y(h,l))throw Error('WeakMap key fail: '+h);h[l][this.a]=k;return this};b.prototype.get=function(h){return d(h)&&y(h,l)?h[l][this.a]:void 0};b.prototype.has=function(h){return d(h)&&y(h,l)&&y(h[l],this.a)};\\nb.prototype.delete=function(h){return d(h)&&y(h,l)&&y(h[l],this.a)?delete h[l][this.a]:!1};return b});\\nx('Map',function(a){function b(){var g={};return g.D=g.next=g.head=g}function c(g,h){var k=g.a;return oa(function(){if(k){for(;k.head!=g.a;)k=k.D;for(;k.next!=k.head;)return k=k.next,{done:!1,value:h(k)};k=null}return{done:!0,value:void 0}})}function d(g,h){var k=h&&typeof h;'object'==k||'function'==k?f.has(h)?k=f.get(h):(k=''+ ++l,f.set(h,k)):k='p_'+h;var m=g.b[k];if(m&&y(g.b,k))for(g=0;g<m.length;g++){var u=m[g];if(h!==h&&u.key!==u.key||h===u.key)return{id:k,list:m,index:g,o:u}}return{id:k,list:m,\\nindex:-1,o:void 0}}function e(g){this.b={};this.a=b();this.size=0;if(g){g=p(g);for(var h;!(h=g.next()).done;)h=h.value,this.set(h[0],h[1])}}if(function(){if(!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var g=Object.seal({x:4}),h=new a(p([[g,'s']]));if('s'!=h.get(g)||1!=h.size||h.get({x:4})||h.set({x:4},'t')!=h||2!=h.size)return!1;var k=h.entries(),m=k.next();if(m.done||m.value[0]!=g||'s'!=m.value[1])return!1;m=k.next();return m.done||4!=m.value[0].x||\\n't'!=m.value[1]||!k.next().done?!1:!0}catch(u){return!1}}())return a;z();var f=new WeakMap;e.prototype.set=function(g,h){g=0===g?0:g;var k=d(this,g);k.list||(k.list=this.b[k.id]=[]);k.o?k.o.value=h:(k.o={next:this.a,D:this.a.D,head:this.a,key:g,value:h},k.list.push(k.o),this.a.D.next=k.o,this.a.D=k.o,this.size++);return this};e.prototype.delete=function(g){g=d(this,g);return g.o&&g.list?(g.list.splice(g.index,1),g.list.length||delete this.b[g.id],g.o.D.next=g.o.next,g.o.next.D=g.o.D,g.o.head=null,\\nthis.size--,!0):!1};e.prototype.clear=function(){this.b={};this.a=this.a.D=b();this.size=0};e.prototype.has=function(g){return!!d(this,g).o};e.prototype.get=function(g){return(g=d(this,g).o)&&g.value};e.prototype.entries=function(){return c(this,function(g){return[g.key,g.value]})};e.prototype.keys=function(){return c(this,function(g){return g.key})};e.prototype.values=function(){return c(this,function(g){return g.value})};e.prototype.forEach=function(g,h){for(var k=this.entries(),m;!(m=k.next()).done;)m=\\nm.value,g.call(h,m[1],m[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var l=0;return e});x('Object.values',function(a){return a?a:function(b){var c=[],d;for(d in b)y(b,d)&&c.push(b[d]);return c}});\\nx('Set',function(a){function b(c){this.a=new Map;if(c){c=p(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.a.size}if(function(){if(!a||'function'!=typeof a||!a.prototype.entries||'function'!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(p([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||f.value[1]!=c)return!1;f=e.next();return f.done||f.value[0]==c||4!=f.value[0].x||\\nf.value[1]!=f.value[0]?!1:e.next().done}catch(l){return!1}}())return a;z();b.prototype.add=function(c){c=0===c?0:c;this.a.set(c,c);this.size=this.a.size;return this};b.prototype.delete=function(c){c=this.a.delete(c);this.size=this.a.size;return c};b.prototype.clear=function(){this.a.clear();this.size=0};b.prototype.has=function(c){return this.a.has(c)};b.prototype.entries=function(){return this.a.entries()};b.prototype.values=function(){return this.a.values()};b.prototype.keys=b.prototype.values;\\nb.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.a.forEach(function(f){return c.call(d,f,f,e)})};return b});x('Object.is',function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});x('Array.prototype.includes',function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});\\nvar A={ga:'loaded',ma:'start',da:'firstQuartile',ha:'midpoint',na:'thirdQuartile',ba:'complete',ia:'pause',ka:'resume',aa:'bufferStart',$:'bufferFinish',la:'skipped',oa:'volumeChange',ja:'playerStateChange',Z:'adUserInteraction'},pa={ea:'full',ca:'domain',fa:'limited'};function B(a,b){this.x=null!=a.x?a.x:a.left;this.y=null!=a.y?a.y:a.top;this.width=a.width;this.height=a.height;this.B=this.x+this.width;this.C=this.y+this.height;this.u=a.u||void 0;this.S=a.S||[];this.b=a.friendlyObstructionClass||void 0;this.c=a.friendlyObstructionPurpose||void 0;this.f=a.friendlyObstructionReason||void 0;this.L=void 0!==a.L?!0===a.L:!0;this.g=void 0!==a.hasWindowFocus?!0===a.hasWindowFocus:!0;this.v=a.v||void 0;this.J=a.J||[];this.M=a.M||!1;this.a=b}\\nfunction qa(a){var b={};return b.width=a.width,b.height=a.height,b}function E(a){var b={};return Object.assign({},qa(a),(b.x=a.x,b.y=a.y,b))}function F(a){var b=E(a),c={};return Object.assign({},b,(c.endX=a.B,c.endY=a.C,c))}B.prototype.O=function(a){if(null==a)return!1;a=E(a);var b=a.y,c=a.width,d=a.height;return this.x===a.x&&this.y===b&&this.width===c&&this.height===d};function G(a){return a.width*a.height}function I(a){return 0===a.width||0===a.height};function ra(a,b){var c=0;if(0<b.length){var d=sa(a,b);a=d.X;d=d.Y;for(var e=0;e<a.length-1;e++)for(var f=(a[e]+(a[e]+1))/2,l=a[e+1]-a[e],g=0;g<d.length-1;g++){for(var h=(d[g]+(d[g]+1))/2,k=d[g+1]-d[g],m=!1,u=0;u<b.length;u++){var w=E(b[u]);if(w.x<f&&w.x+w.width>f&&w.y<h&&w.y+w.height>h){m=!0;break}}m&&(c+=Math.round(l)*Math.round(k))}}return c}\\nfunction sa(a,b){a=E(a);for(var c=[],d=[],e=0;e<b.length;e++){var f=E(b[e]);f=ta(a,f);J(c,f.x);J(c,f.B);J(d,f.y);J(d,f.C)}c=c.sort(function(l,g){return l-g});d=d.sort(function(l,g){return l-g});return{X:c,Y:d}}function ta(a,b){return{x:Math.max(a.x,b.x),y:Math.max(a.y,b.y),B:Math.min(a.x+a.width,b.x+b.width),C:Math.min(a.y+a.height,b.y+b.height)}}function J(a,b){-1===a.indexOf(b)&&a.push(b)};function ua(){this.b=this.a=this.c=this.i=void 0;this.l=0;this.h=[];this.s=[];this.m=0;this.j=[];this.f=[];this.g=[]}ua.prototype.O=function(a){return null==a?!1:JSON.stringify(va(this))===JSON.stringify(va(a))};\\nfunction va(a){var b=[],c=[],d={viewport:a.i,adView:{percentageInView:a.l,pixelsInView:a.m,reasons:a.g},declaredFriendlyObstructions:a.h.length};if(void 0!==a.a){d.adView.geometry=E(a.a);d.adView.geometry.pixels=G(a.a);d.adView.onScreenGeometry=E(a.b);d.adView.onScreenGeometry.pixels=Math.max(0,G(a.b)-ra(a.b,a.f));for(var e=0;e<a.f.length;e++)b.push(E(a.f[e]));for(e=0;e<a.s.length;e++){var f=a.s[e],l=f,g={};l.b&&(g.obstructionClass=l.b);l.c&&(g.obstructionPurpose=l.c);l.f&&(g.obstructionReason=l.f);\\nf=ta(a.a,f);c.push(Object.assign({},{x:f.x,y:f.y,width:f.B-f.x,height:f.C-f.y},g))}d.adView.onScreenGeometry.obstructions=b;d.adView.onScreenGeometry.friendlyObstructions=c}return d}function wa(a,b){b=qa(b);a.i={};a.i.width=b.width;a.i.height=b.height;a.c={};a.c.x=0;a.c.y=0;a.c.width=b.width;a.c.height=b.height;a.c.endX=b.width;a.c.endY=b.height}function xa(){return{x:0,y:0,endX:0,endY:0,width:0,height:0}}\\nfunction ya(a,b){var c={};c.x=Math.max(a.x,b.x);c.y=Math.max(a.y,b.y);c.endX=Math.min(a.endX,b.endX);c.endY=Math.min(a.endY,b.endY);c.width=Math.max(0,c.endX-c.x);c.height=Math.max(0,c.endY-c.y);return c}function za(a,b){return.01<b.width-a.width||.01<b.height-a.height}function Aa(a){if(-1!==a.g.indexOf('backgrounded'))a.l=0,a.m=0;else{var b=G(a.a);if(0!==b){var c=Math.max(0,G(a.b)-ra(a.b,a.f));a.l=Math.round(c/b*100);a.m=c}}}\\nfunction Ba(a,b){if(I(b)||!a.b)b=!1;else{var c=F(a.b),d=c.y,e=c.endX;a=c.endY;var f=b.B;c=c.x;(f=f<c||.01>Math.abs(f-c))||(f=b.x,f=f>e||.01>Math.abs(f-e));(e=f)||(e=b.C,e=e<d||.01>Math.abs(e-d));(d=e)||(b=b.y,d=b>a||.01>Math.abs(b-a));b=!d}return b}function K(a,b){for(var c=!1,d=0;d<a.g.length;d++)a.g[d]===b&&(c=!0);c||a.g.push(b)};function Ca(a,b,c,d){var e=b.M?!0:b.u===d;if(e){c.a=b;var f=F(c.a);a=ya(c.c,f);var l=c.a;'notAttached'===l.v||'noWindowFocus'===l.v||'noAdView'===l.v?(K(c,'notFound'),c.b=new B(xa(),!1)):(l=c.a,'viewInvisible'===l.v||'viewGone'===l.v||'viewNotVisible'===l.v||'viewAlphaZero'===l.v||'viewHidden'===l.v||void 0!==c.a.v||I(c.a)?(K(c,'hidden'),c.b=new B(xa(),!1)):(c.a.g||(K(c,'backgrounded'),K(c,'noWindowFocus')),za(a,f)&&K(c,'clipped'),c.b=new B(a,!1)))}else if(f=!0,b.a&&(f=-1!==b.S.indexOf(d)?!1:!1===\\nb.L),f){l=b.J;for(var g=0;g<l.length;g++)f=void 0!==c.a,Ca(a,new B(l[g],f),c,d)}e||void 0===c.a||(b.a?-1!==b.S.indexOf(d)?c.h.push(b):c.j.push(b):(e=F(b),d=F(c.b),E(c.b),!I(c.b)&&b.L&&(b=ya(d,e),za(b,d)&&(K(c,'clipped'),c.b=new B(b,!1)))))};function Da(a,b){this.y=this.x=0;this.width=a;this.height=b};function Ea(){return{apiVersion:'1.0',accessMode:'limited',environment:'web',omidJsInfo:{omidImplementer:'omsdk',serviceVersion:'1.3.35-iab3515'},adSessionType:'html',supports:['clid','vlid']}}function Fa(){this.u=null;this.c=Ea();this.m=null;this.l='foregrounded';this.i=this.j='none';this.h=this.g=this.f=this.s=this.b=this.a=this.H=this.N=null;this.G=!0;this.F=new Map}var L;function M(){L||(L=new Fa);return L};var N=function(){if('undefined'!==typeof omidGlobal&&omidGlobal)return omidGlobal;if('undefined'!==typeof global&&global)return global;if('undefined'!==typeof window&&window)return window;if('undefined'!==typeof globalThis&&globalThis)return globalThis;var a=Function('return this')();if(a)return a;throw Error('Could not determine global object context.');}();function Ga(a){if(a===N)return!1;try{if('undefined'===typeof a.location.hostname)return!0}catch(b){return!0}return!1}function Ha(){var a=omidGlobal;if(null==a||'undefined'===typeof a.top||null==a.top)return null;try{var b=a.top;return Ga(b)?null:b.location.href}catch(c){return null}};function Ia(a,b){this.a=a;this.b=b}t.Object.defineProperties(Ia.prototype,{event:{configurable:!0,enumerable:!0,get:function(){return this.a}},origin:{configurable:!0,enumerable:!0,get:function(){return this.b}}});function O(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];Ja(function(){throw new (Function.prototype.bind.apply(Error,[null,'Could not complete the test successfully - '].concat(q(b))));},function(){return console.error.apply(console,q(b))})}function Ka(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];Ja(function(){},function(){return console.error.apply(console,q(b))})}\\nfunction Ja(a,b){'undefined'!==typeof jasmine&&jasmine?a():'undefined'!==typeof console&&console&&console.error&&b()};function La(){this.f=[];this.b=[];this.c=[];this.g=[];this.i={};this.a=M()}function Ma(a){a.f=[];a.b=[];a.c=[];a.g=[];a.i={};L.u=null;L.c=Ea();L.m=null;L.R=void 0;L.T=void 0;L.P=null;L.K=null;L.w=null;L.l='foregrounded';L.j='none';L.i='none';L.N=null;L.H=null;L.a=null;L.b=null;L.s=null;L.f=null;L.g=null;L.h=null;L.G=!0;L.F=new Map}function Na(a,b){void 0!==a.a&&a.a.u&&!1!==Oa(a,b)&&a.c.filter(function(c){return c.type===b.event.type}).forEach(function(c){return a.h(c.I,b.event)})}\\nfunction Pa(a,b){a.f.push(b);Na(a,b)}function Qa(a,b,c){void 0!==a.a&&a.a.u&&a.f.filter(function(d){return d.event.type===b&&Oa(a,d)}).map(function(d){return d.event}).forEach(c)}function Oa(a,b){var c=b.event.type,d=-1!==Object.values(A).indexOf(c)&&'volumeChange'!==c;return'impression'===c||'loaded'===c&&a.a.b?b.origin===M().i:d?b.origin===M().j:!0}function Ra(a,b,c){'media'===b||'video'===b?Sa(a,c):(a.c.push({type:b,I:c}),Qa(a,b,c))}\\nfunction Sa(a,b){Object.keys(A).forEach(function(c){c=A[c];a.c.push({type:c,I:b});Qa(a,c,b)})}function Ta(a,b,c,d){var e={V:c,U:d,I:b};a.g.push(e);a.b.forEach(function(f){var l=Ua(f);'sessionStart'===f.event.type&&Va(a,l,e);a.h(b,l)})}function Wa(a,b,c){var d=P(a,'sessionError','native',{errorType:b,message:c});a.b.push(d);a.g.forEach(function(e){a.h(e.I,d.event)})}\\nfunction Xa(a,b){a.i=Object.assign(a.i,b);b=a.a.c;if(void 0!==b){b=Object.assign({},Ya(a,Za(a,{context:b}),!0),{supportsLoadedEvent:!!a.a.b||'video'==a.a.a});Object.assign(b,{pageUrl:Ha(),contentUrl:a.a.m});var c=P(a,'sessionStart','native',b);a.b.push(c);a.g.forEach(function(d){var e=d.I,f=Ua(c);Va(a,f,d);a.h(e,f)},a);$a(a)}}\\nfunction Va(a,b,c){c.V&&(b.data.verificationParameters=a.i[c.V]);c.U&&(c=a.a.F.get(c.U))&&(b.data.verificationParameters=c.verificationParameters,b.data.context.accessMode=c.accessMode,'full'===c.accessMode&&(a.a.g&&(b.data.context.videoElement=a.a.g),a.a.f&&(b.data.context.slotElement=a.a.f)))}function ab(a){var b=a.g,c=P(a,'sessionFinish','native');a.b.push(c);var d=a.a.c;d&&'native'==d.adSessionType||Ma(a);b.forEach(function(e){return a.h(e.I,c.event)})}\\nLa.prototype.h=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];try{a.apply(null,q(c))}catch(e){Ka(e)}};\\nfunction $a(a){var b=a.f.filter(function(f){return Object.values(A).includes(f.event.type)&&'video'==a.a.a&&f.origin===a.a.j||'loaded'==f.event.type&&'display'==a.a.a&&f.origin===a.a.i?!0:!1}).map(function(f){return f.event}),c=a.a.u||'',d={};b=p(b);for(var e=b.next();!e.done;d={A:d.A},e=b.next()){d.A=e.value;d.A.adSessionId||(d.A.adSessionId=c);if('loaded'==d.A.type){if(!a.a.b&&'display'==a.a.a)continue;d.A.data=Ya(a,Za(a,d.A.data))}a.c.filter(function(f){return function(l){return l.type===f.A.type}}(d)).forEach(function(f){return function(l){return l.I(f.A)}}(d))}}\\nfunction bb(a,b){a:{b=new Set(b);a=p(a.f.concat(a.b));for(var c=a.next();!c.done;c=a.next())if(c=c.value,b.has(c.event.type)&&'javascript'!=c.origin){b=!0;break a}b=!1}return b?(O('Event owner cannot be registered after its events have already been published.'),!1):!0}function cb(a){var b=a.a.i;return'none'!=b&&'javascript'!=b?(O('Impression event is owned by '+(a.a.i+', not javascript.')),!1):!0}\\nfunction db(a){var b=a.a.j;return'none'!=b&&'javascript'!=b?(O('Media events are owned by '+(a.a.j+', not javascript.')),!1):!0}function Ya(a,b,c){c=void 0===c?!1:c;b=Object.assign({},b);a.a.a&&Object.assign(b,{mediaType:a.a.a});a.a.b&&(c||'definedByJavaScript'!==a.a.b)&&Object.assign(b,{creativeType:a.a.b});return b}function Za(a,b){return a.a.s?Object.assign({},b,{impressionType:a.a.s}):b}function P(a,b,c,d){return new Ia({adSessionId:a.a.u||'',timestamp:(new Date).getTime(),type:b,data:d},c)}\\nfunction Ua(a){a=a.event;return{adSessionId:a.adSessionId,timestamp:a.timestamp,type:a.type,data:a.data}};function eb(a){return!(!a||!a.tagName||'iframe'!==a.tagName.toLowerCase())};function Q(a,b,c){this.f=a;this.T=b;this.N=c;this.c=M();this.b=null;this.a=this.g=this.F=void 0;this.R=!0;this.l=void 0;fb(this)}function fb(a){if(!a.b){var b;a:{if((b=a.f.document)&&b.getElementsByClassName&&(b=b.getElementsByClassName('omid-element'))){if(1==b.length){b=b[0];break a}1<b.length&&a.R&&(Wa(a.N,'generic',\\\"More than one element with 'omid-element' class name.\\\"),a.R=!1)}b=null}if(b&&b.tagName&&'video'===b.tagName.toLowerCase())a.c.g=b;else if(b&&b.tagName)a.c.f=b;else return;gb(a)}}\\nfunction gb(a){a.c.g?(a.b=a.c.g,a.i()):a.c.f&&(a.b=a.c.f,eb(a.b)?a.c.h&&a.i():a.i())}function hb(a){a.a&&(eb(a.b)?a.c.h&&(a.K(),ib(a)):(a.K(),ib(a)))}Q.prototype.s=function(){this.l&&(this.f.document.removeEventListener('visibilitychange',this.l),this.l=void 0)};Q.prototype.i=function(){var a=this;this.l||(this.l=function(){a.c.l=a.f.document.hidden?'backgrounded':'foregrounded';hb(a)},this.f.document.addEventListener('visibilitychange',this.l))};\\nfunction ib(a){if(a.F){a.c.K=a.F;a=a.T;var b=a.a.K,c=a.a.w;if(b&&!b.O(c)){c=va(b);var d=a.b;'audio'!=d.a.b&&Pa(d,P(d,'geometryChange','native',c));a.a.w=b}}}function jb(a){if(a.a&&a.c.h){var b=new B(a.c.h,!1),c=a.a.x;a=a.a.y;b.x+=c;b.y+=a;b.B+=c;b.C+=a;b.L=!0;return b}};function kb(a,b,c){return lb(a,'setInterval')(b,c)}function mb(a,b){lb(a,'clearInterval')(b)}function nb(a,b){lb(a,'clearTimeout')(b)}function lb(a,b){return a.a&&a.a[b]?a.a[b]:ob(a,b)}\\nfunction pb(a,b,c,d){if(a.a.document&&a.a.document.body){var e=a.a.document.createElement('img');e.width=1;e.height=1;e.style.display='none';e.src=b;c&&e.addEventListener('load',function(){return c()});d&&e.addEventListener('error',function(){return d()});a.a.document.body.appendChild(e)}else ob(a,'sendUrl')(b,c,d)}function ob(a,b){if(a.a&&a.a.omidNative&&a.a.omidNative[b])return a.a.omidNative[b].bind(a.a.omidNative);throw Error('Native interface method \\\"'+b+'\\\" not found.');};function T(a,b,c,d,e){Q.call(this,a,c,e);this.m=b;this.h=void 0;this.j=d}r(T,Q);T.prototype.s=function(){void 0!==this.h&&(mb(this.j,this.h),this.h=void 0);Q.prototype.s.call(this)};T.prototype.i=function(){var a=this;Q.prototype.i.call(this);null==this.b?this.h=void 0:void 0===this.h&&(this.h=kb(this.j,function(){return qb(a)},200),qb(this))};\\nT.prototype.K=function(){if(this.g){var a=jb(this);if(a){this.a.M=!1;a.M=!0;for(var b=!1,c=0;c<this.a.J.length;c++)if(this.a.J[c].M){this.a.J[c]=a;b=!0;break}b||this.a.J.push(a)}else this.a.M=!0;b=this.m;c=this.c.l;var d=this.c.u,e=this.H();a=new ua;var f=new B(this.g,!1);wa(a,f);Ca(b,f,a,d);if(e)if('backgrounded'===c)K(a,'backgrounded');else if(void 0!==a.a){for(b=0;b<a.h.length;b++)Ba(a,a.h[b])&&a.s.push(a.h[b]);for(b=0;b<a.j.length;b++){if(c=Ba(a,a.j[b])){b:{c=a.j[b];for(d=0;d<a.f.length;d++)if(a.f[d].O(c)){c=\\n!0;break b}c=!1}c=!c}c&&(K(a,'obstructed'),a.f.push(a.j[b]))}Aa(a)}else K(a,'notFound');else a.g=['unmeasurable'],a.i=void 0,a.l=0,a.f=[],a.a&&(b=a.a,c={},b=new B((c.x=0,c.y=0,c.width=b.width,c.height=b.height,c),b.a),a.a=b),a.b=xa();this.F=a}};T.prototype.H=function(){return rb(this)};\\nfunction qb(a){if(void 0!==a.h){if(rb(a)){var b=a.f.top;b=new B(new Da(b.innerWidth,b.innerHeight),!1)}else b=new B(new Da(0,0),!1);var c=a.b.getBoundingClientRect();if(null==c.x||isNaN(c.x))c.x=c.left;if(null==c.y||isNaN(c.y))c.y=c.top;c=new B(c,!1);b.O(a.g)&&c.O(a.a)||(a.a=c,a.a.L=!0,a.g=b,a.g.J.push(a.a),hb(a))}}function rb(a){try{var b=a.f.top;return 0<=b.innerHeight&&0<=b.innerWidth}catch(c){}return!1};function U(a,b,c,d){Q.call(this,a,c,d);this.w=this.j=this.m=this.h=void 0;this.P=!1;this.G=void 0}r(U,Q);U.prototype.s=function(){this.h&&this.h.disconnect();sb(this);Q.prototype.s.call(this)};U.prototype.i=function(){Q.prototype.i.call(this);this.b&&(this.h||(this.h=tb(this)),ub(this),vb(this.b)&&wb(this))};\\nU.prototype.K=function(){if(this.a&&this.G){var a=jb(this);if(a){var b=a;var c=this.G;var d=Math.max(a.x,c.x);var e=Math.max(a.y,c.y),f=Math.min(a.B,c.B);a=Math.min(a.C,c.C);f<=d||a<=e?d=null:(c={},d=new B((c.x=d,c.y=e,c.width=Math.abs(f-d),c.height=Math.abs(a-e),c),!1));d||(d=new B({x:0,y:0,width:0,height:0},!1))}else b=this.a,d=this.G;e=new ua;this.g&&wa(e,this.g);(f='backgrounded'==this.c.l)&&K(e,'backgrounded');e.a=b;e.b=d;Aa(e);this.P?!f&&I(e.a)?K(e,'hidden'):f||100===e.l||K(e,'clipped'):K(e,\\n'viewport');this.F=e}};U.prototype.H=function(){return!0};function sb(a){a.m&&(a.m.disconnect(),a.m=void 0);a.j&&(a.j.disconnect(),a.j=void 0);a.w&&((0,a.f.removeEventListener)('resize',a.w),a.w=void 0)}function ub(a){a.h&&a.b&&(a.h.unobserve(a.b),a.h.observe(a.b))}function vb(a){a=a.getBoundingClientRect();return 0==a.width||0==a.height}\\nfunction tb(a){return new a.f.IntersectionObserver(function(b){try{if(b.length){for(var c,d=b[0],e=1;e<b.length;e++)b[e].time>d.time&&(d=b[e]);c=d;a.g=xb(c.rootBounds);a.a=xb(c.boundingClientRect);a.G=xb(c.intersectionRect);a.P=!!c.isIntersecting;hb(a)}}catch(f){a.s(),Wa(a.N,'generic','Problem handling IntersectionObserver callback: '+f.message)}},{root:null,rootMargin:'0px',threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})}\\nfunction wb(a){a.f.ResizeObserver?a.m||(a.m=yb(a,function(){return zb(a)}),a.m.observe(a.b)):(a.w||(a.w=function(){return zb(a)},(0,a.f.addEventListener)('resize',a.w)),a.j||(a.j=new MutationObserver(function(){return zb(a)}),a.j.observe(a.b,{childList:!1,attributes:!0,subtree:!1})))}function zb(a){a.b&&!vb(a.b)&&(ub(a),sb(a))}function yb(a,b){return new a.f.ResizeObserver(b)}function xb(a){if(a&&null!==a.x&&null!==a.y&&null!==a.width&&null!==a.height)return new B(a,!1)};function V(a,b,c,d){this.b=a;this.method=b;this.version=c;this.a=d}function Ab(a){return!!a&&void 0!==a.omid_message_guid&&void 0!==a.omid_message_method&&void 0!==a.omid_message_version&&'string'===typeof a.omid_message_guid&&'string'===typeof a.omid_message_method&&'string'===typeof a.omid_message_version&&(void 0===a.omid_message_args||void 0!==a.omid_message_args)}function Bb(a){return new V(a.omid_message_guid,a.omid_message_method,a.omid_message_version,a.omid_message_args)}\\nfunction Cb(a){var b={};b=(b.omid_message_guid=a.b,b.omid_message_method=a.method,b.omid_message_version=a.version,b);void 0!==a.a&&(b.omid_message_args=a.a);return b};function Eb(a){this.c=a};function W(a){this.c=a;this.handleExportedMessage=W.prototype.f.bind(this)}r(W,Eb);W.prototype.b=function(a,b){b=void 0===b?this.c:b;if(!b)throw Error('Message destination must be defined at construction time or when sending the message.');b.handleExportedMessage(Cb(a),this)};W.prototype.f=function(a,b){Ab(a)&&this.a&&this.a(Bb(a),b)};function Fb(a){return Gb(a,'SessionService.')}function Gb(a,b){return(a=a.match(new RegExp('^'+b+'(.*)')))&&a[1]};function Hb(a){this.b=a}Hb.prototype.a=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return this.b('SessionService.'+a,this.c.bind(this,a,c),c)};Hb.prototype.c=function(a,b,c){switch(a){case 'registerSessionObserver':a=p(b).next().value,a(c)}};function X(a,b){return a.a.bind(a,b)}\\nfunction Ib(a){var b=void 0===b?N:b;null==b.omidSessionInterface&&(a={setClientInfo:X(a,'setClientInfo'),registerSessionObserver:X(a,'registerSessionObserver'),startAdSession:X(a,'startSession'),finishAdSession:X(a,'finishSession'),reportError:X(a,'sessionError'),registerAdEvents:X(a,'registerAdEvents'),registerMediaEvents:X(a,'registerMediaEvents'),injectVerificationScriptResources:X(a,'injectVerificationScriptResources'),setSlotElement:X(a,'setSlotElement'),setVideoElement:X(a,'setVideoElement'),\\nsetElementBounds:X(a,'setElementBounds'),setCreativeType:X(a,'setCreativeType'),setImpressionType:X(a,'setImpressionType'),setContentUrl:X(a,'setContentUrl'),adEvents:{impressionOccurred:X(a,'impressionOccurred'),loaded:X(a,'loaded')},mediaEvents:{start:X(a,'start'),firstQuartile:X(a,'firstQuartile'),midpoint:X(a,'midpoint'),thirdQuartile:X(a,'thirdQuartile'),complete:X(a,'complete'),pause:X(a,'pause'),resume:X(a,'resume'),bufferStart:X(a,'bufferStart'),bufferFinish:X(a,'bufferFinish'),skipped:X(a,\\n'skipped'),volumeChange:X(a,'volumeChange'),playerStateChange:X(a,'playerStateChange'),adUserInteraction:X(a,'adUserInteraction')}},a.mediaEvents.loaded=a.adEvents.loaded,a.videoEvents=a.mediaEvents,Object.freeze(a),Object.defineProperty(b,'omidSessionInterface',{value:a,writable:!1}))};function Jb(a,b){this.c=b=void 0===b?N:b;var c=this;a.addEventListener('message',function(d){if('object'===typeof d.data){var e=d.data;Ab(e)&&d.source&&c.a&&c.a(Bb(e),d.source)}})}r(Jb,Eb);Jb.prototype.b=function(a,b){b=void 0===b?this.c:b;if(!b)throw Error('Message destination must be defined at construction time or when sending the message.');b.postMessage(Cb(a),'*')};function Kb(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(a){var b=16*Math.random()|0;return'y'===a?(b&3|8).toString(16):b.toString(16)})};function Lb(a){if(!a.a||!a.a.document)throw Error('OMID Service Script is not running within a window.');var b=a.b;a.b=[];b.forEach(function(c){try{var d=a.c.G?'limited':'full',e=c.accessMode,f='string'===typeof e&&-1!==Object.values(pa).indexOf(e)?c.accessMode:null;var l=f?f:d;c.accessMode=l;a:{var g=c.resourceUrl,h=a.a.location.origin;try{var k=new URL(g,h);break a}catch(R){}try{k=new URL(g);break a}catch(R){}k=null}if(d=k){var m=Kb(),u=a.a.document,w=u.createElement('iframe');w.id='omid-verification-script-frame-'+\\nm;w.style.display='none';['full','limited'].includes(l)?w.srcdoc=\\\"<html><head>\\\\n<script type=\\\\\\\"text/javascript\\\\\\\">window['omidVerificationProperties'] = {\\\\n'serviceWindow': window.parent,\\\\n'injectionSource': 'web',\\\\n'injectionId': '\\\"+(m+'\\\\',\\\\n};\\\\x3c/script>\\\\n<script type=\\\"text/javascript\\\" src=\\\"')+d.href+'\\\">\\\\x3c/script>\\\\n</head><body></body></html>':'domain'==l&&(w.src=Mb(a,m,d).href);['domain','limited'].includes(l)&&(w.sandbox='allow-scripts');u.body.appendChild(w);var C=c.vendorKey,H=c.verificationParameters;\\nC=void 0===C?'':C;H=void 0===H?'':H;C&&'string'===typeof C&&''!==C&&H&&'string'===typeof H&&''!==H&&(a.f.i[C]=H);a.c.F.set(m,c)}}catch(R){Ka('OMID verification script '+c.resourceUrl+' failed to load: '+R)}})}\\nfunction Mb(a,b,c){var d='/.well-known/omid/omloader-v1.html#';(new Map([['verificationScriptUrl',c.href],['injectionId',b]])).forEach(function(e,f){d+=encodeURIComponent(f)+'='+encodeURIComponent(e)+'&'});b=null;try{b=new URL(d,a.a.parent.location.origin)}catch(e){throw Error('OMID Service Script cannot access the parent window.');}return b};function Nb(){var a=Ob,b=Pb,c=this;this.c=Y;this.b=a;this.a=M();this.g=b;this.f=!1;this.registerSessionObserver(function(d){return Qb(c,d)})}n=Nb.prototype;n.registerSessionObserver=function(a){Ta(this.c,a)};n.setSlotElement=function(a){a&&a.tagName?(this.a.f=a,this.b&&gb(this.b)):O('setSlotElement called with a non-HTMLElement.  It will be ignored.')};n.setElementBounds=function(a){this.a.h=a;this.b&&gb(this.b);this.b&&hb(this.b)};n.error=function(a,b){Wa(this.c,a,b)};\\nn.registerAdEvents=function(){var a=this.c;bb(a,['impression'])&&cb(a)&&(a.a.i='javascript')};n.registerMediaEvents=function(){var a=this.c;bb(a,Object.values(A))&&db(a)&&(a.a.j='javascript')};\\nfunction Z(a,b,c){if('impression'==b)cb(a.c)&&(b=a.c,c=(c=M().w)?va(c):void 0,c=Ya(b,Za(b,c)),Pa(b,P(b,'impression','javascript',c)),a.b&&fb(a.b));else{if('loaded'==b){var d=c;d=void 0===d?null:d;db(a.c)&&(c=a.c,c.a.b||'display'!=c.a.a)&&(d=P(c,'loaded','javascript',Ya(c,Za(c,void 0===d?null:d))),Pa(c,d))}else if(db(a.c)){d=a.c;'start'!==b&&'volumeChange'!==b||null!=(c&&c.deviceVolume)||(c.deviceVolume=d.a.N);if(c&&('start'===b||'volumeChange'===b)){var e=c.videoPlayerVolume,f=c.mediaPlayerVolume;\\nnull!=e?(Object.assign(c,{mediaPlayerVolume:e}),d.a.H=e):null!=f&&(Object.assign(c,{videoPlayerVolume:f}),d.a.H=f)}Pa(d,P(d,b,'javascript',c))}['loaded','start'].includes(b)&&a.b&&fb(a.b)}}n.injectVerificationScriptResources=function(a){var b=this.g;b.b.push.apply(b.b,q(a));if(this.f)try{Lb(this.g)}catch(c){O(c.message)}};\\nn.setCreativeType=function(a,b){b=void 0===b?null:b;if(!this.a.a||this.a.b)this.a.b=a,'video'==a||'audio'==a?this.a.a='video':'htmlDisplay'==a||'nativeDisplay'==a?this.a.a='display':'definedByJavaScript'==a&&b&&(this.a.a='none'==b?'display':'video')};n.setImpressionType=function(a){if(!this.a.a||this.a.b)this.a.s=a};\\nfunction Qb(a,b){if('sessionStart'===b.type){a.f=!0;try{Lb(a.g)}catch(c){O(c.message)}}'sessionFinish'===b.type&&(a.f=!1,(b=M().c)&&'native'==b.adSessionType||a.registerSessionObserver(function(c){return Qb(a,c)}))}n.setClientInfo=function(a,b,c){var d=this.a.c||{};d.omidJsInfo=Object.assign({},d.omidJsInfo,{sessionClientVersion:a,partnerName:b,partnerVersion:c});this.a.c=d;return this.a.c.omidJsInfo.serviceVersion};function Rb(a){return/\\\\d+\\\\.\\\\d+\\\\.\\\\d+(-.*)?/.test(a)}function Sb(a){a=a.split('-')[0].split('.');for(var b=['1','0','3'],c=0;3>c;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(d>e)break;else if(d<e)return!1}return!0};function Tb(a,b){return Rb(a)&&Sb(a)?b?b:[]:b&&'string'===typeof b?JSON.parse(b):[]};var Ub=new function(){};function Vb(){var a=Wb,b=this;var c=void 0===c?omidGlobal:c;this.a=a;this.g=c;this.b=new W;this.g.omid=this.g.omid||{};this.g.omid.v1_SessionServiceCommunication=this.b;this.f=c&&c.addEventListener&&c.postMessage?new Jb(c):null;this.c=null;this.b.a=this.h.bind(this);this.f&&(this.f.a=this.i.bind(this));this.j=new Hb(function(d,e,f){try{Xb(b,d,e,f)}catch(l){O(Yb(l))}});Ib(this.j)}Vb.prototype.h=function(a,b){null!=Fb(a.method)&&Zb(this,Ub)&&$b(this,a,b,this.b)};\\nVb.prototype.i=function(a,b){null!=Fb(a.method)&&Zb(this,b)&&$b(this,a,b,this.f)};function Zb(a,b){a.c||(a.c=b);return a.c!=b?(O('The source of session client messages cannot be changed from the source of the first message.'),!1):!0}function $b(a,b,c,d){function e(h){for(var k=[],m=0;m<arguments.length;++m)k[m]=arguments[m];k=new V(f,'response',g,Rb(g)&&Sb(g)?k:JSON.stringify(k));d.b(k,c)}var f=b.b,l=b.method,g=b.version;b=Tb(g,b.a);try{Xb(a,l,e,b)}catch(h){d.b(new V(f,'error',g,Yb(h)),c)}}\\nfunction Xb(a,b,c,d){if(null!=Fb(b))switch(Fb(b)){case 'registerAdEvents':a.a.registerAdEvents();break;case 'registerMediaEvents':a.a.registerMediaEvents();break;case 'registerSessionObserver':a.a.registerSessionObserver(c);break;case 'setSlotElement':var e=p(d).next().value;a.a.setSlotElement(e);break;case 'setVideoElement':e=p(d).next().value;a=a.a;e&&e.tagName&&'video'===e.tagName.toLowerCase()?(a.a.g=e,a.b&&gb(a.b)):O('setVideoElement called with a non-HTMLVideoElement. It will be ignored.');\\nbreak;case 'setElementBounds':e=p(d).next().value;a.a.setElementBounds(e);break;case 'startSession':c=p(d).next().value;null!=c&&'object'===typeof c?(b=c.customReferenceData,c=c.underEvaluation,'string'===typeof b||(b=void 0),'boolean'===typeof c||(c=!1),c={customReferenceData:b,underEvaluation:c}):c=null;if(null==c)break;a=a.a;b=c;var f;e=void 0===e?null:e;null==f&&(f=Kb());b.canMeasureVisibility=a.b.H();a.a.u=f;c=a.a;b=f=b;void 0!==b.contentUrl&&(c.m=b.contentUrl,b.contentUrl=void 0);b=c.c||{};\\nf.omidJsInfo=Object.assign({},b.omidJsInfo||{},f.omidJsInfo||{});b=f=Object.assign({},b,f);c.G||(null!=c.g?(b.videoElement=c.g,b.accessMode='full'):null!=c.f&&(b.slotElement=c.f,b.accessMode='full'));c.c=f;Xa(a.c,e);a.b&&fb(a.b);break;case 'finishSession':a=a.a;ab(a.c);a.b.s();break;case 'impressionOccurred':Z(a.a,'impression');break;case 'loaded':(e=p(d).next().value)?(c={skippable:e.isSkippable,autoPlay:e.isAutoPlay,position:e.position},e.isSkippable&&(c.skipOffset=e.skipOffset),Z(a.a,'loaded',\\nc)):Z(a.a,'loaded');break;case 'start':c=p(d);e=c.next().value;c=c.next().value;Z(a.a,'start',{duration:e,mediaPlayerVolume:c});break;case 'firstQuartile':Z(a.a,'firstQuartile');break;case 'midpoint':Z(a.a,'midpoint');break;case 'thirdQuartile':Z(a.a,'thirdQuartile');break;case 'complete':Z(a.a,'complete');break;case 'pause':Z(a.a,'pause');break;case 'resume':Z(a.a,'resume');break;case 'bufferStart':Z(a.a,'bufferStart');break;case 'bufferFinish':Z(a.a,'bufferFinish');break;case 'skipped':Z(a.a,'skipped');\\nbreak;case 'volumeChange':e={mediaPlayerVolume:p(d).next().value};Z(a.a,'volumeChange',e);break;case 'playerStateChange':e={state:p(d).next().value};Z(a.a,'playerStateChange',e);break;case 'adUserInteraction':e={interactionType:p(d).next().value};Z(a.a,'adUserInteraction',e);break;case 'setClientInfo':b=p(d);e=b.next().value;f=b.next().value;b=b.next().value;a=a.a.setClientInfo(e,f,b);c(a);break;case 'injectVerificationScriptResources':e=p(d).next().value;a.a.injectVerificationScriptResources(e);\\nbreak;case 'setCreativeType':e=p(d).next().value;a.a.setCreativeType(e);break;case 'setImpressionType':e=p(d).next().value;a.a.setImpressionType(e);break;case 'setContentUrl':e=p(d).next().value;a.a.a.m=e;break;case 'sessionError':c=p(d),e=c.next().value,c=c.next().value,a.a.error(e,c)}}\\nfunction Yb(a){return'\\\\n        name: '+a.name+'\\\\n        message: '+a.message+'\\\\n        filename: '+a.filename+'\\\\n        lineNumber: '+a.lineNumber+'\\\\n        columnNumber: '+a.columnNumber+'\\\\n        stack: '+a.stack+'\\\\n        toString(): '+a.toString()};function ac(){var a=Y,b=bc;var c=void 0===c?N:c;this.g=a;this.a=b;this.h={};this.f={};this.c=new W;c.omid=c.omid||{};c.omid.v1_VerificationServiceCommunication=this.c;this.b=null;c&&c.addEventListener&&c.postMessage&&(this.b=new Jb(c));this.c.a=this.i.bind(this);this.b&&(this.b.a=this.j.bind(this))}function cc(a,b,c,d){pb(a.a,b,c,d)}function dc(a,b,c,d){ob(a.a,'downloadJavaScriptResource')(b,c,d)}ac.prototype.j=function(a,b){this.b&&ec(this,a,b,this.b)};ac.prototype.i=function(a,b){ec(this,a,b,this.c)};\\nfunction ec(a,b,c,d){function e(D){for(var S=[],la=0;la<arguments.length;++la)S[la]=arguments[la];S=new V(f,'response',g,Rb(g)&&Sb(g)?S:JSON.stringify(S));d.b(S,c)}var f=b.b,l=b.method,g=b.version;b=Tb(g,b.a);if(null!=Gb(l,'VerificationService.')){l=Gb(l,'VerificationService.');try{switch(l){case 'addEventListener':var h=p(b).next().value;Ra(a.g,h,e);break;case 'addSessionListener':var k=p(b),m=k.next().value,u=k.next().value;Ta(a.g,e,m,u);break;case 'sendUrl':var w=p(b).next().value;cc(a,w,function(){return e(!0)},\\nfunction(){return e(!1)});break;case 'setTimeout':var C=p(b),H=C.next().value,R=C.next().value;a.h[H]=lb(a.a,'setTimeout')(e,R);break;case 'clearTimeout':var jc=p(b).next().value;nb(a.a,a.h[jc]);break;case 'setInterval':var Db=p(b),kc=Db.next().value,lc=Db.next().value;a.f[kc]=kb(a.a,e,lc);break;case 'clearInterval':var mc=p(b).next().value;mb(a.a,a.f[mc]);break;case 'injectJavaScriptResource':var nc=p(b).next().value;dc(a,nc,function(D){return e(!0,D)},function(){return e(!1)});break;case 'getVersion':p(b).next();\\nvar oc=M().c.omidJsInfo;e(oc.serviceVersion)}}catch(D){d.b(new V(f,'error',g,'\\\\n              name: '+D.name+'\\\\n              message: '+D.message+'\\\\n              filename: '+D.filename+'\\\\n              lineNumber: '+D.lineNumber+'\\\\n              columnNumber: '+D.columnNumber+'\\\\n              stack: '+D.stack+'\\\\n              toString(): '+D.toString()+'\\\\n          '),c)}}};function fc(){var a=N.document.createElement('iframe');a.id='omid_v1_present';a.name='omid_v1_present';a.style.display='none';N.document.body.appendChild(a)}function gc(){var a=new MutationObserver(function(b){b.forEach(function(c){'BODY'===c.addedNodes[0].nodeName&&(fc(),a.disconnect())})});a.observe(N.document.documentElement,{childList:!0})};var Y=new La,bc=new function(){var a;this.a=a=void 0===a?omidGlobal:a};new ac;var hc=new function(){},ic=new function(){},pc=new function(){this.b=Y;this.a=M()},qc;N?qc=N.IntersectionObserver&&(N.MutationObserver||N.ResizeObserver)?new U(N,hc,pc,Y):new T(N,ic,pc,bc,Y):qc=null;var Ob=qc,Pb=new function(){var a=Y;var b=void 0===b?N:b;this.f=a;this.a=b;this.c=M();this.b=[]},Wb=new Nb;M();new Vb;\\nif(N.frames&&N.document&&!('omid_v1_present'in N.frames)){var rc;if(rc=null==N.document.body)rc='MutationObserver'in N;rc?gc():N.document.body?fc():N.document.write('<iframe style=\\\"display:none\\\" id=\\\"omid_v1_present\\\" name=\\\"omid_v1_present\\\"></iframe>')};\\n}).call(this, this);\\n\\n\",script=document.createElement(\"script\"),blob=new Blob([omwebCode],{type:\"application/javascript\"});script.src=window.URL.createObjectURL(blob),document.head.appendChild(script),function(n,e,a){if(\"object\"==typeof a&&\"string\"!=typeof a.nodeName)e(n,a);else{var i,a={},t=[\"1.3.35-iab3515\"],r=\"default\";for(i in t.push(r),e(n,a),a)a.hasOwnProperty(i)&&(null==Object.getOwnPropertyDescriptor(n,i)&&Object.defineProperty(n,i,{value:{}}),t.forEach(function(e){var t;null==Object.getOwnPropertyDescriptor(n[i],e)&&(t=function e(t){for(var n in t)t.hasOwnProperty(n)&&(t[n]=e(t[n]));return Object.freeze(t)}(a[i]),Object.defineProperty(n[i],e,{get:function(){return t},enumerable:!0}))}))}}(\"undefined\"==typeof global?this:global,function(t,a){\"use strict\";var n,c=c||{},i=(c.scope={},c.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},c.arrayIterator=function(e){return{next:c.arrayIteratorImpl(e)}},c.makeIterator=function(e){var t=\"undefined\"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):c.arrayIterator(e)},c.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},c.arrayFromIterable=function(e){return e instanceof Array?e:c.arrayFromIterator(c.makeIterator(e))},c.ASSUME_ES5=!1,c.ASSUME_NO_NATIVE_MAP=!1,c.ASSUME_NO_NATIVE_SET=!1,c.SIMPLE_FROUND_POLYFILL=!1,c.objectCreate=c.ASSUME_ES5||\"function\"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t},c.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},c.setPrototypeOf=\"function\"==typeof Object.setPrototypeOf?Object.setPrototypeOf:c.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+\" is not extensible\");return e}:null,c.inherits=function(e,t){if(e.prototype=c.objectCreate(t.prototype),e.prototype.constructor=e,c.setPrototypeOf){var n=c.setPrototypeOf;n(e,t)}else for(n in t){var a;\"prototype\"!=n&&(Object.defineProperties?(a=Object.getOwnPropertyDescriptor(t,n))&&Object.defineProperty(e,n,a):e[n]=t[n])}e.superClass_=t.prototype},c.defineProperty=c.ASSUME_ES5||\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},c.getGlobal=function(e){e=[\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis},c.global=c.getGlobal(this),c.SYMBOL_PREFIX=\"jscomp_symbol_\",c.initSymbol=function(){c.initSymbol=function(){},c.global.Symbol||(c.global.Symbol=c.Symbol)},c.SymbolClass=function(e,t){this.$jscomp$symbol$id_=e,c.defineProperty(this,\"description\",{configurable:!0,writable:!0,value:t})},c.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_},c.Symbol=(n=0,function e(t){if(this instanceof e)throw new TypeError(\"Symbol is not a constructor\");return new c.SymbolClass(c.SYMBOL_PREFIX+(t||\"\")+\"_\"+n++,t)}),c.initSymbolIterator=function(){c.initSymbol();var e=(e=c.global.Symbol.iterator)||(c.global.Symbol.iterator=c.global.Symbol(\"Symbol.iterator\"));\"function\"!=typeof Array.prototype[e]&&c.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return c.iteratorPrototype(c.arrayIteratorImpl(this))}}),c.initSymbolIterator=function(){}},c.initSymbolAsyncIterator=function(){c.initSymbol();c.global.Symbol.asyncIterator||(c.global.Symbol.asyncIterator=c.global.Symbol(\"Symbol.asyncIterator\"));c.initSymbolAsyncIterator=function(){}},c.iteratorPrototype=function(e){return c.initSymbolIterator(),(e={next:e})[c.global.Symbol.iterator]=function(){return this},e},c.iteratorFromArray=function(t,n){c.initSymbolIterator(),t instanceof String&&(t+=\"\");var a=0,i={next:function(){var e;return a<t.length?(e=a++,{value:n(e,t[e]),done:!1}):(i.next=function(){return{done:!0,value:void 0}},i.next())}};return i[Symbol.iterator]=function(){return i},i},c.polyfill=function(e,t,n,a){if(t){for(n=c.global,e=e.split(\".\"),a=0;a<e.length-1;a++){var i=e[a];i in n||(n[i]={}),n=n[i]}(t=t(a=n[e=e[e.length-1]]))!=a&&null!=t&&c.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},c.checkEs6ConformanceViaProxy=function(){try{var a={},i=Object.create(new c.global.Proxy(a,{get:function(e,t,n){return e==a&&\"q\"==t&&n==i}}));return!0===i.q}catch(e){return!1}},c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,c.ES6_CONFORMANCE=c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&c.checkEs6ConformanceViaProxy(),c.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.polyfill(\"WeakMap\",function(a){function n(){}function i(e){var t=typeof e;return\"object\"==t&&null!==e||\"function\"==t}function r(e){var t;c.owns(e,o)||(t=new n,c.defineProperty(e,o,{value:t}))}function e(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(r(e),t(e))})}if(c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&c.ES6_CONFORMANCE)return a}else if(function(){if(a&&Object.seal)try{var e=Object.seal({}),t=Object.seal({}),n=new a([[e,2],[t,3]]);return 2==n.get(e)&&3==n.get(t)?(n.delete(e),n.set(t,4),!n.has(e)&&4==n.get(t)):void 0}catch(e){}}())return a;function t(e){if(this.id_=(s+=Math.random()+1).toString(),e){e=c.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}var o=\"$jscomp_hidden_\"+Math.random(),s=(e(\"freeze\"),e(\"preventExtensions\"),e(\"seal\"),0);return t.prototype.set=function(e,t){if(!i(e))throw Error(\"Invalid WeakMap key\");if(r(e),c.owns(e,o))return e[o][this.id_]=t,this;throw Error(\"WeakMap key fail: \"+e)},t.prototype.get=function(e){return i(e)&&c.owns(e,o)?e[o][this.id_]:void 0},t.prototype.has=function(e){return i(e)&&c.owns(e,o)&&c.owns(e[o],this.id_)},t.prototype.delete=function(e){return!!(i(e)&&c.owns(e,o)&&c.owns(e[o],this.id_))&&delete e[o][this.id_]},t},\"es6\",\"es3\"),c.MapEntry=function(){},c.polyfill(\"Map\",function(i){if(c.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(i&&c.ES6_CONFORMANCE)return i}else if(function(){if(!c.ASSUME_NO_NATIVE_MAP&&i&&\"function\"==typeof i&&i.prototype.entries&&\"function\"==typeof Object.seal)try{var e,t,n=Object.seal({x:4}),a=new i(c.makeIterator([[n,\"s\"]]));return\"s\"!=a.get(n)||1!=a.size||a.get({x:4})||a.set({x:4},\"t\")!=a||2!=a.size?void 0:(t=(e=a.entries()).next()).done||t.value[0]!=n||\"s\"!=t.value[1]?void 0:!((t=e.next()).done||4!=t.value[0].x||\"t\"!=t.value[1]||!e.next().done)}catch(e){}}())return i;c.initSymbolIterator();function e(e){if(this.data_={},this.head_=n(),this.size=0,e){e=c.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}var r=new WeakMap,a=(e.prototype.set=function(e,t){var n=a(this,e=0===e?0:e);return n.list||(n.list=this.data_[n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},n.list.push(n.entry),this.head_.previous.next=n.entry,this.head_.previous=n.entry,this.size++),this},e.prototype.delete=function(e){return!(!(e=a(this,e)).entry||!e.list||(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,0))},e.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=n(),this.size=0},e.prototype.has=function(e){return!!a(this,e).entry},e.prototype.get=function(e){return(e=a(this,e).entry)&&e.value},e.prototype.entries=function(){return t(this,function(e){return[e.key,e.value]})},e.prototype.keys=function(){return t(this,function(e){return e.key})},e.prototype.values=function(){return t(this,function(e){return e.value})},e.prototype.forEach=function(e,t){for(var n,a=this.entries();!(n=a.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},e.prototype[Symbol.iterator]=e.prototype.entries,function(e,t){var n=t&&typeof t,a=(\"object\"==n||\"function\"==n?r.has(t)?n=r.get(t):(n=\"\"+ ++o,r.set(t,n)):n=\"p_\"+t,e.data_[n]);if(a&&c.owns(e.data_,n))for(e=0;e<a.length;e++){var i=a[e];if(t!=t&&i.key!=i.key||t===i.key)return{id:n,list:a,index:e,entry:i}}return{id:n,list:a,index:-1,entry:void 0}}),t=function(e,t){var n=e.head_;return c.iteratorPrototype(function(){if(n){for(;n.head!=e.head_;)n=n.previous;if(n.next!=n.head)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}})},n=function(){var e={};return e.previous=e.next=e.head=e},o=0;return e},\"es6\",\"es3\"),{AdEventType:{IMPRESSION:\"impression\",LOADED:\"loaded\",GEOMETRY_CHANGE:\"geometryChange\",SESSION_START:\"sessionStart\",SESSION_ERROR:\"sessionError\",SESSION_FINISH:\"sessionFinish\",MEDIA:\"media\",VIDEO:\"video\",START:\"start\",FIRST_QUARTILE:\"firstQuartile\",MIDPOINT:\"midpoint\",THIRD_QUARTILE:\"thirdQuartile\",COMPLETE:\"complete\",PAUSE:\"pause\",RESUME:\"resume\",BUFFER_START:\"bufferStart\",BUFFER_FINISH:\"bufferFinish\",SKIPPED:\"skipped\",VOLUME_CHANGE:\"volumeChange\",PLAYER_STATE_CHANGE:\"playerStateChange\",AD_USER_INTERACTION:\"adUserInteraction\",STATE_CHANGE:\"stateChange\"},MediaEventType:{LOADED:\"loaded\",START:\"start\",FIRST_QUARTILE:\"firstQuartile\",MIDPOINT:\"midpoint\",THIRD_QUARTILE:\"thirdQuartile\",COMPLETE:\"complete\",PAUSE:\"pause\",RESUME:\"resume\",BUFFER_START:\"bufferStart\",BUFFER_FINISH:\"bufferFinish\",SKIPPED:\"skipped\",VOLUME_CHANGE:\"volumeChange\",PLAYER_STATE_CHANGE:\"playerStateChange\",AD_USER_INTERACTION:\"adUserInteraction\"},ImpressionType:{DEFINED_BY_JAVASCRIPT:\"definedByJavaScript\",UNSPECIFIED:\"unspecified\",LOADED:\"loaded\",BEGIN_TO_RENDER:\"beginToRender\",ONE_PIXEL:\"onePixel\",VIEWABLE:\"viewable\",AUDIBLE:\"audible\",OTHER:\"other\"},ErrorType:{GENERIC:\"generic\",VIDEO:\"video\",MEDIA:\"media\"},AdSessionType:{NATIVE:\"native\",HTML:\"html\",JAVASCRIPT:\"javascript\"},EventOwner:{NATIVE:\"native\",JAVASCRIPT:\"javascript\",NONE:\"none\"},AccessMode:{FULL:\"full\",DOMAIN:\"domain\",LIMITED:\"limited\"},AppState:{BACKGROUNDED:\"backgrounded\",FOREGROUNDED:\"foregrounded\"},Environment:{APP:\"app\",WEB:\"web\"},InteractionType:{CLICK:\"click\",INVITATION_ACCEPT:\"invitationAccept\"},CreativeType:{DEFINED_BY_JAVASCRIPT:\"definedByJavaScript\",HTML_DISPLAY:\"htmlDisplay\",NATIVE_DISPLAY:\"nativeDisplay\",VIDEO:\"video\",AUDIO:\"audio\"},MediaType:{DISPLAY:\"display\",VIDEO:\"video\"},Reason:{NOT_FOUND:\"notFound\",HIDDEN:\"hidden\",BACKGROUNDED:\"backgrounded\",VIEWPORT:\"viewport\",OBSTRUCTED:\"obstructed\",CLIPPED:\"clipped\",UNMEASURABLE:\"unmeasurable\",NO_WINDOW_FOCUS:\"noWindowFocus\"},SupportedFeatures:{CONTAINER:\"clid\",VIDEO:\"vlid\"},VideoPosition:{PREROLL:\"preroll\",MIDROLL:\"midroll\",POSTROLL:\"postroll\",STANDALONE:\"standalone\"},VideoPlayerState:{MINIMIZED:\"minimized\",COLLAPSED:\"collapsed\",NORMAL:\"normal\",EXPANDED:\"expanded\",FULLSCREEN:\"fullscreen\"},NativeViewKeys:{X:\"x\",LEFT:\"left\",Y:\"y\",TOP:\"top\",WIDTH:\"width\",HEIGHT:\"height\",AD_SESSION_ID:\"adSessionId\",IS_FRIENDLY_OBSTRUCTION_FOR:\"isFriendlyObstructionFor\",CLIPS_TO_BOUNDS:\"clipsToBounds\",CHILD_VIEWS:\"childViews\",END_X:\"endX\",END_Y:\"endY\",OBSTRUCTIONS:\"obstructions\",OBSTRUCTION_CLASS:\"obstructionClass\",OBSTRUCTION_PURPOSE:\"obstructionPurpose\",OBSTRUCTION_REASON:\"obstructionReason\",PIXELS:\"pixels\",HAS_WINDOW_FOCUS:\"hasWindowFocus\"},MeasurementStateChangeSource:{CONTAINER:\"container\",CREATIVE:\"creative\"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:\"omid-element\"},CommunicationType:{NONE:\"NONE\",DIRECT:\"DIRECT\",POST_MESSAGE:\"POST_MESSAGE\"},OmidImplementer:{OMSDK:\"omsdk\"}}),r=\"omid_message_guid\",o=\"omid_message_method\",s=\"omid_message_version\",d=\"omid_message_args\",u=function(e,t,n,a){this.guid=e,this.method=t,this.version=n,this.args=a},f=(u.isValidSerializedMessage=function(e){return!!e&&void 0!==e[r]&&void 0!==e[o]&&void 0!==e[s]&&\"string\"==typeof e[r]&&\"string\"==typeof e[o]&&\"string\"==typeof e[s]&&(void 0===e[d]||void 0!==e[d])},u.deserialize=function(e){return new u(e[r],e[o],e[s],e[d])},u.prototype.serialize=function(){var e={};return e[r]=this.guid,e[o]=this.method,e[s]=this.version,void 0!==this.args&&(e[d]=this.args),e},function(e){this.to=e,this.communicationType_=i.CommunicationType.NONE});f.prototype.sendMessage=function(e,t){},f.prototype.handleMessage=function(e,t){this.onMessage&&this.onMessage(e,t)},f.prototype.serialize=function(e){return JSON.stringify(e)},f.prototype.deserialize=function(e){return JSON.parse(e)},f.prototype.isDirectCommunication=function(){return this.communicationType_===i.CommunicationType.DIRECT},f.prototype.isCrossOrigin=function(){};function l(e,t){if(!t)throw Error(\"Value for \"+e+\" is undefined, null or blank.\");if(\"string\"!=typeof t&&!(t instanceof String))throw Error(\"Value for \"+e+\" is not a string.\");if(\"\"===t.trim())throw Error(\"Value for \"+e+\" is empty string.\")}function b(e,t){if(null==t)throw Error(\"Value for \"+e+\" is undefined or null\")}function h(e,t){if(null==t)throw Error(e+\" must not be null or undefined.\");if(\"number\"!=typeof t||isNaN(t))throw Error(\"Value for \"+e+\" is not a number\")}function p(e,t,n,a){if(h(e,t),t<n||a<t)throw Error(\"Value for \"+e+\" is outside the range [\"+n+\",\"+a+\"]\")}function V(e,t){return e&&(e[t]||(e[t]={}))}function e(e,t,n){(n=void 0===n?void 0===a?null:a:n)&&((e=e.split(\".\")).slice(0,e.length-1).reduce(V,n)[e[e.length-1]]=t)}function v(e,t,n,a){a=void 0===a?i.AccessMode.FULL:a,l(\"VerificationScriptResource.resourceUrl\",e),this.resourceUrl=e,this.vendorKey=t,this.verificationParameters=n,this.accessMode=a}function m(e,t,n,a){n=void 0===n?null:n,a=void 0===a?null:a,b(\"Context.partner\",e),this.partner=e,this.verificationScriptResources=t,this.videoElement=this.slotElement=null,this.contentUrl=n,this.customReferenceData=a,this.underEvaluation=!1,this.serviceWindow=null}e(\"OmidSessionClient.Partner\",function(e,t){l(\"Partner.name\",e),l(\"Partner.version\",t),this.name=e,this.version=t}),v.prototype.toJSON=function(){return{accessMode:this.accessMode,resourceUrl:this.resourceUrl,vendorKey:this.vendorKey,verificationParameters:this.verificationParameters}},e(\"OmidSessionClient.VerificationScriptResource\",v);m.prototype.setVideoElement=function(e){b(\"Context.videoElement\",e),this.videoElement=e},m.prototype.setSlotElement=function(e){b(\"Context.slotElement\",e),this.slotElement=e},m.prototype.setServiceWindow=function(e){b(\"Context.serviceWindow\",e),this.serviceWindow=e},e(\"OmidSessionClient.Context\",m);var y={};y.omidGlobal=function(){if(void 0!==t&&t)return t;if(\"undefined\"!=typeof global&&global)return global;if(\"undefined\"!=typeof window&&window)return window;if(\"undefined\"!=typeof globalThis&&globalThis)return globalThis;var e=Function(\"return this\")();if(e)return e;throw Error(\"Could not determine global object context.\")}();var g={ROOT:\"omidSessionInterface\",AD_EVENTS:\"adEvents\",MEDIA_EVENTS:\"mediaEvents\"},E={sessionError:\"reportError\"},D=Object.keys(i.MediaEventType).map(function(e){return i.MediaEventType[e]}),L=[\"impressionOccurred\"],S=function(e){e=void 0===e?y.omidGlobal:e,this.interfaceRoot_=e[g.ROOT]};S.prototype.isSupported=function(){return null!=this.interfaceRoot_},S.prototype.sendMessage=function(e,t,n){if(\"registerSessionObserver\"==e&&(n=[t]),t=this.interfaceRoot_,0<=L.indexOf(e=E[e]?E[e]:e)&&(t=t[g.AD_EVENTS]),!(t=(t=0<=D.indexOf(e)?t[g.MEDIA_EVENTS]:t)[e]))throw Error(\"Unrecognized method name: \"+e+\".\");t.apply(null,c.arrayFromIterable(n))};function O(e){for(var t=[],n=0;n<arguments.length;++n)t[+n]=arguments[n];F(function(){throw new(Function.prototype.bind.apply(Error,[null,\"Could not complete the test successfully - \"].concat(c.arrayFromIterable(t))))},function(){console.error.apply(console,c.arrayFromIterable(t))})}function F(e,t){\"undefined\"!=typeof jasmine&&jasmine?e():\"undefined\"!=typeof console&&console&&console.error&&t()}var U=3;function _(e){return/\\d+\\.\\d+\\.\\d+(-.*)?/.test(e)}function w(e,t){e=e.split(\"-\")[0].split(\".\"),t=t.split(\"-\")[0].split(\".\");for(var n=0;n<U;n++){var a=parseInt(e[n],10),i=parseInt(t[n],10);if(i<a)break;if(a<i)return!1}return!0}var I=\"1.0.3\";function B(e,t){return _(e)&&w(e,I)?t:JSON.stringify(t)}function W(e,t){return _(e)&&w(e,I)?t||[]:t&&\"string\"==typeof t?JSON.parse(t):[]}function G(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return e=(\"y\"===e?3&t|8:t).toString(16)})}var z={SESSION_SERVICE:\"SessionService.\",VERIFICATION_SERVICE:\"VerificationService.\"};function J(e){return X(e,z.SESSION_SERVICE)}function X(e,t){return t+e}function x(e){return null!=e&&void 0!==e.top&&null!=e.top}function M(e){var t;if(e!==y.omidGlobal)try{if(void 0===e.location.hostname)return!0;\"\"!==(t=e).x&&t.x}catch(e){return!0}return!1}function Y(e){return x(e=void 0===e&&\"undefined\"!=typeof window&&window?window:e)?e:y.omidGlobal}function H(e){return x(e)?e.top:y.omidGlobal}var C=function(e){f.call(this,e),this.communicationType_=i.CommunicationType.DIRECT,this.handleExportedMessage=C.prototype.handleExportedMessage.bind(this)},T=(c.inherits(C,f),C.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error(\"Message destination must be defined at construction time or when sending the message.\");t.handleExportedMessage(e.serialize(),this)},C.prototype.handleExportedMessage=function(e,t){u.isValidSerializedMessage(e)&&this.handleMessage(u.deserialize(e),t)},C.prototype.isCrossOrigin=function(){return!1},function(e,t){t=void 0===t?y.omidGlobal:t,f.call(this,t);var n=this;this.communicationType_=i.CommunicationType.POST_MESSAGE,e.addEventListener(\"message\",function(e){var t;\"object\"==typeof e.data&&(t=e.data,u.isValidSerializedMessage(t))&&(t=u.deserialize(t),e.source)&&n.handleMessage(t,e.source)})}),N=(c.inherits(T,f),T.isCompatibleContext=function(e){return!!(e&&e.addEventListener&&e.postMessage)},T.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error(\"Message destination must be defined at construction time or when sending the message.\");t.postMessage(e.serialize(),\"*\")},T.prototype.isCrossOrigin=function(){return!this.to||M(this.to)},{OMID_PRESENT_FRAME_NAME:\"omid_v1_present\",isOmidPresent:function(e){try{return!!e.frames&&!!e.frames[N.OMID_PRESENT_FRAME_NAME]}catch(e){return!1}},declareOmidPresence:function(e){e.frames&&e.document&&(N.OMID_PRESENT_FRAME_NAME in e.frames||(null==e.document.body&&N.isMutationObserverAvailable_(e)?N.registerMutationObserver_(e):e.document.body?N.appendPresenceIframe_(e):e.document.write('<iframe style=\"display:none\" id=\"'+N.OMID_PRESENT_FRAME_NAME+'\" name=\"'+N.OMID_PRESENT_FRAME_NAME+'\"></iframe>')))},appendPresenceIframe_:function(e){var t=e.document.createElement(\"iframe\");t.id=N.OMID_PRESENT_FRAME_NAME,t.name=N.OMID_PRESENT_FRAME_NAME,t.style.display=\"none\",e.document.body.appendChild(t)},isMutationObserverAvailable_:function(e){return\"MutationObserver\"in e},registerMutationObserver_:function(t){var n=new MutationObserver(function(e){e.forEach(function(e){\"BODY\"===e.addedNodes[0].nodeName&&(N.appendPresenceIframe_(t),n.disconnect())})});n.observe(t.document.documentElement,{childList:!0})}}),K=[\"omid\",\"v1_SessionServiceCommunication\"];function Q(e,t){return t.reduce(function(e,t){return e&&e[t]},e)}function Z(e,t,n,a){for(var i=(t=c.makeIterator(t)).next();!i.done;i=t.next())if(i=function(e,t,n,a){if(!M(t))try{var i=Q(t,n);if(i)return new C(i)}catch(e){}return a(t)?new T(e,t):null}(e,i.value,n,a))return i;return null}function $(e,t,n){n=void 0===n?N.isOmidPresent:n;var a=[e,H(e)];return t&&a.unshift(t),Z(e,a,K,n)}function A(e,t,n){b(\"AdSession.context\",e),this.context_=e,this.impressionOccurred_=!1;var a=this.context_.serviceWindow||void 0;this.communication_=t||$(Y(),a),this.sessionInterface_=n||new S,this.isSessionRunning_=this.hasMediaEvents_=this.hasAdEvents_=!1,this.impressionType_=this.creativeType_=null,this.creativeLoaded_=!1,this.callbackMap_={},this.communication_&&(this.communication_.onMessage=this.handleInternalMessage_.bind(this)),this.setClientInfo_(),this.injectVerificationScripts_(e.verificationScriptResources),this.sendSlotElement_(e.slotElement),this.sendVideoElement_(e.videoElement),this.sendContentUrl_(e.contentUrl),this.watchSessionEvents_()}function q(e,t,n,a){this.isSkippable=e,this.skipOffset=t,this.isAutoPlay=n,this.position=a}function k(e){b(\"AdEvents.adSession\",e);try{e.registerAdEvents(),this.adSession=e}catch(e){throw Error(\"AdSession already has an ad events instance registered\")}}function R(e){b(\"MediaEvents.adSession\",e);try{e.registerMediaEvents(),this.adSession=e}catch(e){throw Error(\"AdSession already has a media events instance registered\")}}var j=\"1.3.35-iab3515\",P=(A.prototype.setCreativeType=function(e){if(e===i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error(\"Creative type cannot be redefined with value \"+i.CreativeType.DEFINED_BY_JAVASCRIPT);if(this.impressionOccurred_)throw Error(\"Impression has already occurred\");if(this.creativeLoaded_)throw Error(\"Creative has already loaded\");if(this.creativeType_&&this.creativeType_!==i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error(\"Creative type cannot be redefined\");if(void 0===this.creativeType_)throw Error(\"Native integration is using OMID 1.2 or earlier\");this.sendOneWayMessage(\"setCreativeType\",e),this.creativeType_=e},A.prototype.setImpressionType=function(e){if(e===i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error(\"Impression type cannot be redefined with value \"+i.ImpressionType.DEFINED_BY_JAVASCRIPT);if(this.impressionOccurred_)throw Error(\"Impression has already occurred\");if(this.creativeLoaded_)throw Error(\"Creative has already loaded\");if(this.impressionType_&&this.impressionType_!==i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error(\"Impression type cannot be redefined\");if(void 0===this.impressionType_)throw Error(\"Native integration is using OMID 1.2 or earlier\");this.sendOneWayMessage(\"setImpressionType\",e),this.impressionType_=e},A.prototype.isSupported=function(){return!!this.communication_||this.sessionInterface_.isSupported()},A.prototype.isSendingElementsSupported_=function(){return this.communication_?this.communication_.isDirectCommunication():this.sessionInterface_.isSupported()},A.prototype.registerSessionObserver=function(e){this.sendMessage(\"registerSessionObserver\",e)},A.prototype.start=function(){this.sendOneWayMessage(\"startSession\",{customReferenceData:this.context_.customReferenceData,underEvaluation:this.context_.underEvaluation})},A.prototype.finish=function(){this.sendOneWayMessage(\"finishSession\")},A.prototype.error=function(e,t){this.sendOneWayMessage(\"sessionError\",e,t)},A.prototype.registerAdEvents=function(){if(this.hasAdEvents_)throw Error(\"AdEvents already registered.\");this.hasAdEvents_=!0,this.sendOneWayMessage(\"registerAdEvents\")},A.prototype.registerMediaEvents=function(){if(this.hasMediaEvents_)throw Error(\"MediaEvents already registered.\");this.hasMediaEvents_=!0,this.sendOneWayMessage(\"registerMediaEvents\")},A.prototype.sendOneWayMessage=function(e,t){for(var n=[],a=1;a<arguments.length;++a)n[a-1]=arguments[a];this.sendMessage.apply(this,[e,null].concat(c.arrayFromIterable(n)))},A.prototype.sendMessage=function(e,t,n){for(var a=[],i=2;i<arguments.length;++i)a[i-2]=arguments[i];this.communication_?this.sendInternalMessage_(e,t,a):this.sessionInterface_.isSupported()&&this.sendInterfaceMessage_(e,t,a)},A.prototype.sendInternalMessage_=function(e,t,n){var a=G();t&&(this.callbackMap_[a]=t),e=new u(a,J(e),j,B(j,n)),this.communication_.sendMessage(e)},A.prototype.handleInternalMessage_=function(e,t){t=e.method;var n,a=e.guid;e=e.args,\"response\"===t&&this.callbackMap_[a]&&(n=W(j,e),this.callbackMap_[a].apply(this,n)),\"error\"===t&&window.console&&O(e)},A.prototype.sendInterfaceMessage_=function(e,t,n){try{this.sessionInterface_.sendMessage(e,t,n)}catch(e){O(\"Failed to communicate with SessionInterface with error:\"),O(e)}},A.prototype.assertSessionRunning=function(){if(!this.isSessionRunning_)throw Error(\"Session not started.\")},A.prototype.impressionOccurred=function(){if(this.creativeType_===i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error(\"Creative type has not been redefined\");if(this.impressionType_===i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error(\"Impression type has not been redefined\");this.impressionOccurred_=!0},A.prototype.creativeLoaded=function(){if(this.creativeType_===i.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error(\"Creative type has not been redefined\");if(this.impressionType_===i.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error(\"Impression type has not been redefined\");this.creativeLoaded_=!0},A.prototype.setClientInfo_=function(){this.sendOneWayMessage(\"setClientInfo\",j,this.context_.partner.name,this.context_.partner.version)},A.prototype.injectVerificationScripts_=function(e){e&&(e=e.map(function(e){return e.toJSON()}),this.sendOneWayMessage(\"injectVerificationScriptResources\",e))},A.prototype.sendSlotElement_=function(e){this.sendElement_(e,\"setSlotElement\")},A.prototype.sendVideoElement_=function(e){this.sendElement_(e,\"setVideoElement\")},A.prototype.sendElement_=function(e,t){e&&(this.isSendingElementsSupported_()?this.sendOneWayMessage(t,e):this.error(i.ErrorType.GENERIC,\"Session Client \"+t+\" called when communication is cross-origin\"))},A.prototype.sendContentUrl_=function(e){e&&this.sendOneWayMessage(\"setContentUrl\",e)},A.prototype.setElementBounds=function(e){b(\"AdSession.elementBounds\",e),this.sendOneWayMessage(\"setElementBounds\",e)},A.prototype.watchSessionEvents_=function(){var t=this;this.registerSessionObserver(function(e){e.type===i.AdEventType.SESSION_START&&(t.isSessionRunning_=!0,t.creativeType_=e.data.creativeType,t.impressionType_=e.data.impressionType),e.type===i.AdEventType.SESSION_FINISH&&(t.isSessionRunning_=!1)})},e(\"OmidSessionClient.AdSession\",A),q.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}},k.prototype.impressionOccurred=function(){this.adSession.assertSessionRunning(),this.adSession.impressionOccurred(),this.adSession.sendOneWayMessage(\"impressionOccurred\")},k.prototype.loaded=function(e){e=void 0===e?null:e,this.adSession.creativeLoaded(),e?this.adSession.sendOneWayMessage(\"loaded\",e.toJSON()):this.adSession.sendOneWayMessage(\"loaded\")},e(\"OmidSessionClient.AdEvents\",k),R.prototype.start=function(e,t){h(\"MediaEvents.start.duration\",e),p(\"MediaEvents.start.mediaPlayerVolume\",t,0,1),this.adSession.sendOneWayMessage(\"start\",e,t)},R.prototype.firstQuartile=function(){this.adSession.sendOneWayMessage(\"firstQuartile\")},R.prototype.midpoint=function(){this.adSession.sendOneWayMessage(\"midpoint\")},R.prototype.thirdQuartile=function(){this.adSession.sendOneWayMessage(\"thirdQuartile\")},R.prototype.complete=function(){this.adSession.sendOneWayMessage(\"complete\")},R.prototype.pause=function(){this.adSession.sendOneWayMessage(\"pause\")},R.prototype.resume=function(){this.adSession.sendOneWayMessage(\"resume\")},R.prototype.bufferStart=function(){this.adSession.sendOneWayMessage(\"bufferStart\")},R.prototype.bufferFinish=function(){this.adSession.sendOneWayMessage(\"bufferFinish\")},R.prototype.skipped=function(){this.adSession.sendOneWayMessage(\"skipped\")},R.prototype.volumeChange=function(e){p(\"MediaEvents.volumeChange.mediaPlayerVolume\",e,0,1),this.adSession.sendOneWayMessage(\"volumeChange\",e)},R.prototype.playerStateChange=function(e){b(\"MediaEvents.playerStateChange.playerState\",e),this.adSession.sendOneWayMessage(\"playerStateChange\",e)},R.prototype.adUserInteraction=function(e){b(\"MediaEvents.adUserInteraction.interactionType\",e),this.adSession.sendOneWayMessage(\"adUserInteraction\",e)},e(\"OmidSessionClient.MediaEvents\",R),e(\"OmidSessionClient.OmidVersion\",function(e,t){l(\"OmidVersion.semanticVersion\",e),l(\"OmidVersion.apiLevel\",t)}),e(\"OmidSessionClient.VastProperties\",q),{VerificationVendorId:{OTHER:1,MOAT:2,DOUBLEVERIFY:3,INTEGRAL_AD_SCIENCE:4,PIXELATE:5,NIELSEN:6,COMSCORE:7,MEETRICS:8,GOOGLE:9}});function ee(e){for(var t=c.makeIterator(te.keys()),n=t.next();!n.done;n=t.next())for(var n=n.value,a=c.makeIterator(te.get(n)),i=a.next();!i.done;i=a.next())if(i.value.test(e))return n;return P.VerificationVendorId.OTHER}var te=new Map([[P.VerificationVendorId.MOAT,[/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.moatads\\.com\\/.*$/]],[P.VerificationVendorId.DOUBLEVERIFY,[/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.doubleverify\\.com\\/.*$/]],[P.VerificationVendorId.INTEGRAL_AD_SCIENCE,[/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.adsafeprotected\\.com\\/.*$/]],[P.VerificationVendorId.PIXELATE,[/^https?:\\/\\/(q|cdn)\\.adrta\\.com\\/s\\/.*\\/(aa|aanf)\\.js.*$/,/^https:\\/\\/cdn\\.rta247\\.com\\/s\\/.*\\/(aa|aanf)\\.js.*$/]],[P.VerificationVendorId.NIELSEN,[]],[P.VerificationVendorId.COMSCORE,[/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.voicefive\\.com\\/.*$/,/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.measuread\\.com\\/.*$/,/^(https?:\\/\\/|\\/\\/)?[-a-zA-Z0-9.]+\\.scorecardresearch\\.com\\/.*$/]],[P.VerificationVendorId.MEETRICS,[/^(https?:\\/\\/|\\/\\/)?s418\\.mxcdn\\.net\\/bb-serve\\/omid-meetrics.*\\.js$/]],[P.VerificationVendorId.GOOGLE,[/^(https?:\\/\\/|\\/\\/)?pagead2\\.googlesyndication\\.com\\/.*$/,/^(https?:\\/\\/|\\/\\/)?www\\.googletagservices\\.com\\/.*$/]]]);e(\"OmidSessionClient.verificationVendorIdForScriptUrl\",ee),e(\"OmidSessionClient.VerificationVendorId\",P.VerificationVendorId),P.verificationVendorIdForScriptUrl=ee},\"undefined\"==typeof exports?void 0:exports);;function noop(){}function assign(e,t){for(var n in t)e[n]=t[n];return e}function appendNode(e,t){t.appendChild(e)}function insertNode(e,t,n){t.insertBefore(e,n)}function detachNode(e){e.parentNode.removeChild(e)}function createElement(e){return document.createElement(e)}function createText(e){return document.createTextNode(e)}function createComment(){return document.createComment(\"\")}function addListener(e,t,n){e.addEventListener(t,n,!1)}function removeListener(e,t,n){e.removeEventListener(t,n,!1)}function setAttribute(e,t,n){e.setAttribute(t,n)}function setStyle(e,t,n){e.style.setProperty(t,n)}function blankObject(){return Object.create(null)}function destroy(e){this.destroy=noop,this.fire(\"destroy\"),this.set=this.get=noop,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function _differs(e,t){return e!=e?t==t:e!==t||e&&\"object\"==typeof e||\"function\"==typeof e}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var r=n[i];r.__calling||(r.__calling=!0,r.call(this,t),r.__calling=!1)}}function get(e){return e?this._state[e]:this._state}function init(e,t){e._handlers=blankObject(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function observe(e,t,n){var i=t.bind(this);return n&&!1===n.init||i(this.get()[e],void 0),this.on(n&&n.defer?\"update\":\"state\",function(t){t.changed[e]&&i(t.current[e],t.previous&&t.previous[e])})}function on(e,t){if(\"teardown\"===e)return this.on(\"destroy\",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function set(e){this._set(assign({},e)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(e){var t=this._state,n={},i=!1;for(var r in e)this._differs(e[r],t[r])&&(n[r]=i=!0);i&&(this._state=assign(assign({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire(\"state\",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire(\"update\",{changed:n,current:this._state,previous:t})))}function callAll(e){for(;e&&e.length;)e.shift()()}function _mount(e,t){this._fragment[this._fragment.i?\"i\":\"m\"](e,t||null)}function _unmount(){this._fragment&&this._fragment.u()}var proto={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount,_differs:_differs};function progressWidth(e){return(100*e.currentTime/e.duration).toFixed(2)+\"%\"}function progressLabel(e,t,n){var i=e.duration-e.currentTime;if(i<=0)return\"\";if(isNaN(i))return\"\";var r=Math.floor(i/60),o=Math.floor(i)%60;return r+\":\"+(o>9?\"\":\"0\")+o}function skipCounterLabel(e,t,n){return t[n].skipCounter.replace(/#/g,Math.ceil(e.skipTimeLeft))}function timerCurrentTime(e){if(isNaN(e.currentTime))return\"0:00\";var t=Math.floor(e.currentTime/60),n=Math.floor(e.currentTime%60);return t+\":\"+String(n).padStart(2,\"0\")}function timerDuration(e){if(isNaN(e.duration))return\"0:00\";var t=Math.floor(e.duration/60),n=Math.floor(e.duration%60);return t+\":\"+String(n).padStart(2,\"0\")}function data(){return{time:Date.now(),progress:{hideSkipButton:!1,currentTime:0,duration:0,skipTimeLeft:0,isSkippable:!1},hideControls:!1,isMobile:!1,isMuted:!0,isLoading:!0,isPlaying:!1,companionContent:null,companionWidth:0,companionHeight:0,poster:null,strings:{en:{advertising:\"Advertising\",learn:\"Learn More\",skip:\"Skip Ad\",skipCounter:\"You can skip this ad in #\",instreamContinue:\"The video will continue after the ad\"},cs:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zjistit%20v%C3%ADce\"),skip:decodeURIComponent(\"P%C5%99esko%C4%8Dit\"),skipCounter:decodeURIComponent(\"P%C5%99esko%C4%8Dit%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dovat%20po%20reklam%C4%9B\")},sk:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zisti%20viac\"),skip:decodeURIComponent(\"Presko%C4%8D%20reklamu\"),skipCounter:decodeURIComponent(\"M%C3%B4%C5%BEete%20presko%C4%8Di%C5%A5%20reklamu%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dova%C5%A5%20po%20reklame\")},fr:{advertising:decodeURIComponent(\"Publicit%C3%A9\"),learn:decodeURIComponent(\"En%20savoir%20plus\"),skip:decodeURIComponent(\"Ignorer%20l%27annonce%0A\"),skipCounter:decodeURIComponent(\"Vous%20pouvez%20ignorer%20cette%20annonce%20dans%20%23\"),instreamContinue:decodeURIComponent(\"La%20vid%C3%A9o%20reprendra%20apr%C3%A8s%20l%27annonce\")},pl:{advertising:\"Reklama\",learn:decodeURIComponent(\"Dowiedz%20si%C4%99%20wi%C4%99cej\"),skip:decodeURIComponent(\"Pomi%C5%84%20reklam%C4%99\"),skipCounter:decodeURIComponent(\"Mo%C5%BCesz%20pomin%C4%85%C4%87%20t%C4%99%20reklam%C4%99%20w%20%23\"),instreamContinue:decodeURIComponent(\"Wideo%20b%C4%99dzie%20kontynuowane%20po%20reklamie\")},es:{advertising:\"Publicidad\",learn:decodeURIComponent(\"M%C3%A1s%20informaci%C3%B3n\"),skip:decodeURIComponent(\"Saltar%20anuncio\"),skipCounter:decodeURIComponent(\"Puedes%20saltar%20este%20anuncio%20en%20%23\"),instreamContinue:decodeURIComponent(\"El%20v%C3%ADdeo%20continuar%C3%A1%20despu%C3%A9s%20de%20la%20publicidad\")},bg:{advertising:\"\",learn:decodeURIComponent(\"%D0%9D%D0%B0%D1%83%D1%87%D0%B5%D1%82%D0%B5%20%D0%BF%D0%BE%D0%B2%D0%B5%D1%87%D0%B5\"),skip:decodeURIComponent(\"%D0%9F%D1%80%D0%B5%D1%81%D0%BA%D0%BE%D1%87%D0%B8%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B0%D1%82%D0%B0\"),skipCounter:decodeURIComponent(\"%D0%9C%D0%BE%D0%B6%D0%B5%D1%82%D0%B5%20%D0%B4%D0%B0%20%D0%BF%D1%80%D0%BE%D0%BF%D1%83%D1%81%D0%BD%D0%B5%D1%82%D0%B5%20%D1%82%D0%B0%D0%B7%D0%B8%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B0%20%D0%B2%20%23\"),instreamContinue:decodeURIComponent(\"%D0%92%D0%B8%D0%B4%D0%B5%D0%BE%D1%82%D0%BE%20%D1%89%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B4%D1%8A%D0%BB%D0%B6%D0%B8%20%D1%81%D0%BB%D0%B5%D0%B4%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B0%D1%82%D0%B0\")},ro:{advertising:\"Publicitate\",learn:decodeURIComponent(\"Afla%C8%9Bi%20mai%20multe\"),skip:decodeURIComponent(\"Sari%20peste\"),skipCounter:decodeURIComponent(\"Pute%C8%9Bi%20s%C4%83ri%20peste%20acest%20anun%C8%9B%20%C3%AEn%20%23\"),instreamContinue:decodeURIComponent(\"Videoclipul%20va%20continua%20dup%C4%83%20publicitate\")}},language:\"en\",hideCarodaUI:!1}}function oncreate(){var e=this;this.interval=setInterval(function(){return e.set({time:Date.now()})},500)}function create_main_fragment(e,t){var n,i,r,o,a,s,c,d=t.poster&&create_if_block(e,t),u=!t.hideControls&&create_if_block_1(e,t);return{c:function(){n=createElement(\"div\"),i=createElement(\"video\"),r=createText(\"\\n  \"),o=createElement(\"div\"),a=createText(\"\\n  \"),d&&d.c(),s=createText(\"\\n  \"),u&&u.c(),this.h()},h:function(){i.id=\"caroda-video\",i.autoplay=!0,setAttribute(i,\"playsinline\",!0),i.muted=!0,i.preload=\"auto\",o.id=\"caroda-slot\",n.className=c=\"caroda-ad-container\\n    \"+(t.isMobile?\"mobile\":\"\")+\"\\n    \"+(t.isDoubleVerify?\"doubleverify\":\"\")+\"\\n    \"+(t.progress.hideSkipButton?\"hide-skip\":\"\")+\"\\n    \"+(t.isMuted?\"muted\":\"\")+\"\\n    \"+(t.instream?\"instream\":\"outstream\")+\"\\n    \"+(t.isFullscreen?\"fullscreen\":\"\")+\"\\n    \"+(!t.progress.hideSkipButton&&t.progress.isSkippable?\"skippable\":\"\")+\"\\n    lang-\"+t.language},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(r,n),appendNode(o,n),appendNode(a,n),d&&d.m(n,null),appendNode(s,n),u&&u.m(n,null)},p:function(t,i){i.poster?d?d.p(t,i):((d=create_if_block(e,i)).c(),d.m(n,s)):d&&(d.u(),d.d(),d=null),i.hideControls?u&&(u.u(),u.d(),u=null):u?u.p(t,i):((u=create_if_block_1(e,i)).c(),u.m(n,null)),(t.isMobile||t.isDoubleVerify||t.progress||t.isMuted||t.instream||t.isFullscreen||t.language)&&c!==(c=\"caroda-ad-container\\n    \"+(i.isMobile?\"mobile\":\"\")+\"\\n    \"+(i.isDoubleVerify?\"doubleverify\":\"\")+\"\\n    \"+(i.progress.hideSkipButton?\"hide-skip\":\"\")+\"\\n    \"+(i.isMuted?\"muted\":\"\")+\"\\n    \"+(i.instream?\"instream\":\"outstream\")+\"\\n    \"+(i.isFullscreen?\"fullscreen\":\"\")+\"\\n    \"+(!i.progress.hideSkipButton&&i.progress.isSkippable?\"skippable\":\"\")+\"\\n    lang-\"+i.language)&&(n.className=c)},u:function(){detachNode(n),d&&d.u(),u&&u.u()},d:function(){d&&d.d(),u&&u.d()}}}function create_if_block(e,t){var n;return{c:function(){n=createElement(\"div\"),this.h()},h:function(){n.className=\"poster\",setStyle(n,\"background\",\"url(\"+t.poster+\") no-repeat center center fixed\"),setStyle(n,\"background-size\",\"contain\")},m:function(e,t){insertNode(n,e,t)},p:function(e,t){e.poster&&setStyle(n,\"background\",\"url(\"+t.poster+\") no-repeat center center fixed\")},u:function(){detachNode(n)},d:noop}}function create_if_block_2(e,t){var n,i,r,o,a;function s(t){e.fire(\"toggle-audio\")}function c(t){e.fire(\"toggle-play\")}return{c:function(){n=createElement(\"div\"),r=createText(\"\\n    \"),o=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",s),n.className=i=\"muted-button \"+(t.isMuted?\"muted\":\"\"),addListener(o,\"click\",c),o.className=a=\"toggle-playback-button \"+(t.isPlaying?\"\":\"paused\")},m:function(e,t){insertNode(n,e,t),insertNode(r,e,t),insertNode(o,e,t)},p:function(e,t){e.isMuted&&i!==(i=\"muted-button \"+(t.isMuted?\"muted\":\"\"))&&(n.className=i),e.isPlaying&&a!==(a=\"toggle-playback-button \"+(t.isPlaying?\"\":\"paused\"))&&(o.className=a)},u:function(){detachNode(n),detachNode(r),detachNode(o)},d:function(){removeListener(n,\"click\",s),removeListener(o,\"click\",c)}}}function create_if_block_3(e,t){var n,i,r=t.strings[t.language].skip;function o(t){e.fire(\"skip\")}return{c:function(){n=createElement(\"div\"),i=createText(r),this.h()},h:function(){addListener(n,\"click\",o),n.className=\"skip-button no-select\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n)},p:function(e,t){(e.strings||e.language)&&r!==(r=t.strings[t.language].skip)&&(i.data=r)},u:function(){detachNode(n)},d:function(){removeListener(n,\"click\",o)}}}function create_if_block_5(e,t){var n,i,r,o=t.strings[t.language].instreamContinue;return{c:function(){n=createElement(\"div\"),i=createElement(\"span\"),r=createText(o),this.h()},h:function(){i.className=\"thumbnail-info\",n.className=\"thumbnail\",setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\"),setStyle(n,\"background-size\",\"cover\")},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(r,i)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].instreamContinue)&&(r.data=o),e.thumbnailUrl&&setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\")},u:function(){detachNode(n)},d:noop}}function create_if_block_4(e,t){var n,i=t.thumbnailUrl&&create_if_block_5(e,t);return{c:function(){i&&i.c(),n=createComment()},m:function(e,t){i&&i.m(e,t),insertNode(n,e,t)},p:function(t,r){r.thumbnailUrl?i?i.p(t,r):((i=create_if_block_5(e,r)).c(),i.m(n.parentNode,n)):i&&(i.u(),i.d(),i=null)},u:function(){i&&i.u(),detachNode(n)},d:function(){i&&i.d()}}}function create_if_block_7(e,t){var n,i,r,o=t.strings[t.language].advertising;return{c:function(){n=createElement(\"span\"),i=createText(o),r=createText(\":\"),this.h()},h:function(){n.className=\"advertising-label\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(r,n)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].advertising)&&(i.data=o)},u:function(){detachNode(n)},d:noop}}function create_if_block_8(e,t){var n,i;return{c:function(){n=createElement(\"div\"),i=createElement(\"div\"),this.h()},h:function(){i.className=\"progress\",setStyle(i,\"width\",t.progressWidth),n.className=\"progress-bar\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n)},p:function(e,t){e.progressWidth&&setStyle(i,\"width\",t.progressWidth)},u:function(){detachNode(n)},d:noop}}function create_if_block_9(e,t){var n;function i(t){e.fire(\"unmuted-overlay-click\")}return{c:function(){(n=createElement(\"div\")).innerHTML='<div class=\"unmuted-overlay-background\"></div>\\n          <div class=\"unmuted-overlay-button\"></div>',this.h()},h:function(){addListener(n,\"click\",i),n.className=\"unmuted-overlay\"},m:function(e,t){insertNode(n,e,t)},u:function(){detachNode(n)},d:function(){removeListener(n,\"click\",i)}}}function create_if_block_6(e,t){var n,i,r,o,a,s,c,d,u,l,p,m,f,g,h,_,b,k,C,D=t.progress.skipTimeLeft<=0?t.progressLabel:t.skipCounterLabel;function N(t){e.fire(\"toggle-fullscreen\")}var v=t.instream&&(t.progress.skipTimeLeft>0||t.progressLabel)&&create_if_block_7(e,t),B=t.progressLabel&&create_if_block_8(e,t),y=t.displayUnmutedOverlay&&t.isMuted&&create_if_block_9(e,t);return{c:function(){n=createElement(\"div\"),r=createText(\"\\n      \"),o=createElement(\"span\"),v&&v.c(),a=createText(\"\\n        \"),s=createElement(\"span\"),c=createText(D),d=createText(\"\\n      \"),u=createElement(\"div\"),l=createElement(\"span\"),p=createText(t.timerCurrentTime),m=createText(\"\\n        \"),f=createElement(\"span\"),g=createText(\"\\n        \"),h=createElement(\"span\"),_=createText(t.timerDuration),b=createText(\"\\n      \"),B&&B.c(),k=createText(\"\\n      \"),y&&y.c(),C=createComment(),this.h()},h:function(){addListener(n,\"click\",N),n.className=i=\"fullscreen-button \"+(t.isFullscreen?\"fullscreen\":\"\"),o.className=\"label\",l.className=\"time\",f.className=\"separator\",h.className=\"duration\",u.className=\"timer\"},m:function(e,t){insertNode(n,e,t),insertNode(r,e,t),insertNode(o,e,t),v&&v.m(o,null),appendNode(a,o),appendNode(s,o),appendNode(c,s),insertNode(d,e,t),insertNode(u,e,t),appendNode(l,u),appendNode(p,l),appendNode(m,u),appendNode(f,u),appendNode(g,u),appendNode(h,u),appendNode(_,h),insertNode(b,e,t),B&&B.m(e,t),insertNode(k,e,t),y&&y.m(e,t),insertNode(C,e,t)},p:function(t,r){t.isFullscreen&&i!==(i=\"fullscreen-button \"+(r.isFullscreen?\"fullscreen\":\"\"))&&(n.className=i),r.instream&&(r.progress.skipTimeLeft>0||r.progressLabel)?v?v.p(t,r):((v=create_if_block_7(e,r)).c(),v.m(o,a)):v&&(v.u(),v.d(),v=null),(t.progress||t.progressLabel||t.skipCounterLabel)&&D!==(D=r.progress.skipTimeLeft<=0?r.progressLabel:r.skipCounterLabel)&&(c.data=D),t.timerCurrentTime&&(p.data=r.timerCurrentTime),t.timerDuration&&(_.data=r.timerDuration),r.progressLabel?B?B.p(t,r):((B=create_if_block_8(e,r)).c(),B.m(k.parentNode,k)):B&&(B.u(),B.d(),B=null),r.displayUnmutedOverlay&&r.isMuted?y||((y=create_if_block_9(e,r)).c(),y.m(C.parentNode,C)):y&&(y.u(),y.d(),y=null)},u:function(){detachNode(n),detachNode(r),detachNode(o),v&&v.u(),detachNode(d),detachNode(u),detachNode(b),B&&B.u(),detachNode(k),y&&y.u(),detachNode(C)},d:function(){removeListener(n,\"click\",N),v&&v.d(),B&&B.d(),y&&y.d()}}}function create_if_block_1(e,t){var n,i,r,o,a=!t.hideCarodaUI&&create_if_block_2(e,t),s=t.progress.isSkippable&&t.progress.skipTimeLeft<0&&create_if_block_3(e,t),c=t.instream&&create_if_block_4(e,t),d=!t.hideCarodaUI&&create_if_block_6(e,t);return{c:function(){a&&a.c(),n=createText(\"\\n    \"),s&&s.c(),i=createText(\"\\n    \"),c&&c.c(),r=createText(\"\\n    \"),d&&d.c(),o=createComment()},m:function(e,t){a&&a.m(e,t),insertNode(n,e,t),s&&s.m(e,t),insertNode(i,e,t),c&&c.m(e,t),insertNode(r,e,t),d&&d.m(e,t),insertNode(o,e,t)},p:function(t,u){u.hideCarodaUI?a&&(a.u(),a.d(),a=null):a?a.p(t,u):((a=create_if_block_2(e,u)).c(),a.m(n.parentNode,n)),u.progress.isSkippable&&u.progress.skipTimeLeft<0?s?s.p(t,u):((s=create_if_block_3(e,u)).c(),s.m(i.parentNode,i)):s&&(s.u(),s.d(),s=null),u.instream?c?c.p(t,u):((c=create_if_block_4(e,u)).c(),c.m(r.parentNode,r)):c&&(c.u(),c.d(),c=null),u.hideCarodaUI?d&&(d.u(),d.d(),d=null):d?d.p(t,u):((d=create_if_block_6(e,u)).c(),d.m(o.parentNode,o))},u:function(){a&&a.u(),detachNode(n),s&&s.u(),detachNode(i),c&&c.u(),detachNode(r),d&&d.u(),detachNode(o)},d:function(){a&&a.d(),s&&s.d(),c&&c.d(),d&&d.d()}}}function Player(e){init(this,e),this._state=assign(data(),e.data),this._recompute({progress:1,strings:1,language:1},this._state);var t=this;e.root||(this._oncreate=[]),this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(function(){oncreate.call(t),t.fire(\"update\",{changed:{progress:1,strings:1,language:1,isMobile:1,isDoubleVerify:1,isMuted:1,instream:1,isFullscreen:1,poster:1,hideControls:1,hideCarodaUI:1,isPlaying:1,thumbnailUrl:1,progressLabel:1,skipCounterLabel:1,timerCurrentTime:1,timerDuration:1,progressWidth:1,displayUnmutedOverlay:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),callAll(this._oncreate))}assign(Player.prototype,proto),Player.prototype._recompute=function(e,t){e.progress&&this._differs(t.progressWidth,t.progressWidth=progressWidth(t.progress))&&(e.progressWidth=!0),(e.progress||e.strings||e.language)&&(this._differs(t.progressLabel,t.progressLabel=progressLabel(t.progress,t.strings,t.language))&&(e.progressLabel=!0),this._differs(t.skipCounterLabel,t.skipCounterLabel=skipCounterLabel(t.progress,t.strings,t.language))&&(e.skipCounterLabel=!0)),e.progress&&(this._differs(t.timerCurrentTime,t.timerCurrentTime=timerCurrentTime(t.progress))&&(e.timerCurrentTime=!0),this._differs(t.timerDuration,t.timerDuration=timerDuration(t.progress))&&(e.timerDuration=!0))};\n;var bundle=function(e){\"use strict\";var t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};var r,n,i=(function(e,r){Object.defineProperty(r,\"__esModule\",{value:!0});var n=\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:{};var i=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){!function(t){var r,n=Object.prototype,i=n.hasOwnProperty,o=\"function\"==typeof Symbol?Symbol:{},a=o.iterator||\"@@iterator\",u=o.asyncIterator||\"@@asyncIterator\",s=o.toStringTag||\"@@toStringTag\",c=t.regeneratorRuntime;if(c)e.exports=c;else{(c=t.regeneratorRuntime=e.exports).wrap=g;var l=\"suspendedStart\",d=\"suspendedYield\",A=\"executing\",f=\"completed\",h={},p={};p[a]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(V([])));m&&m!==n&&i.call(m,a)&&(p=m);var y=k.prototype=b.prototype=Object.create(p);E.prototype=y.constructor=k,k.constructor=E,k[s]=E.displayName=\"GeneratorFunction\",c.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===E||\"GeneratorFunction\"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,s in e||(e[s]=\"GeneratorFunction\")),e.prototype=Object.create(y),e},c.awrap=function(e){return{__await:e}},C(x.prototype),x.prototype[u]=function(){return this},c.AsyncIterator=x,c.async=function(e,t,r,n){var i=new x(g(e,t,r,n));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(y),y[s]=\"Generator\",y[a]=function(){return this},y.toString=function(){return\"[object Generator]\"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=V,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=r,this.tryEntries.forEach(I),!e)for(var t in this)\"t\"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return u.type=\"throw\",u.arg=e,t.next=n,i&&(t.method=\"next\",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if(\"root\"===a.tryLoc)return n(\"end\");if(a.tryLoc<=this.prev){var s=i.call(a,\"catchLoc\"),c=i.call(a,\"finallyLoc\");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var o=n;break}}o&&(\"break\"===e||\"continue\"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method=\"next\",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var i=n.arg;I(r)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,t,n){return this.delegate={iterator:V(e),resultName:t,nextLoc:n},\"next\"===this.method&&(this.arg=r),h}}}function g(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),a=new S(n||[]);return o._invoke=function(e,t,r){var n=l;return function(i,o){if(n===A)throw new Error(\"Generator is already running\");if(n===f){if(\"throw\"===i)throw o;return B()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=P(a,r);if(u){if(u===h)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(n===l)throw n=f,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);n=A;var s=w(e,t,r);if(\"normal\"===s.type){if(n=r.done?f:d,s.arg===h)continue;return{value:s.arg,done:r.done}}\"throw\"===s.type&&(n=f,r.method=\"throw\",r.arg=s.arg)}}}(e,r,a),o}function w(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}function b(){}function E(){}function k(){}function C(e){[\"next\",\"throw\",\"return\"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(r,n){function o(){return new Promise(function(t,o){!function t(r,n,o,a){var u=w(e[r],e,n);if(\"throw\"!==u.type){var s=u.arg,c=s.value;return c&&\"object\"==typeof c&&i.call(c,\"__await\")?Promise.resolve(c.__await).then(function(e){t(\"next\",e,o,a)},function(e){t(\"throw\",e,o,a)}):Promise.resolve(c).then(function(e){s.value=e,o(s)},a)}a(u.arg)}(r,n,t,o)})}return t=t?t.then(o,o):o()}}function P(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,\"throw\"===t.method){if(e.iterator.return&&(t.method=\"return\",t.arg=r,P(e,t),\"throw\"===t.method))return h;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return h}var i=w(n,e.iterator,t.arg);if(\"throw\"===i.type)return t.method=\"throw\",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=r),t.delegate=null,h):o:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(T,this),this.reset(!0)}function V(e){if(e){var t=e[a];if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:B}}function B(){return{value:r,done:!0}}}(function(){return this}()||Function(\"return this\")())}),o=function(){return this}()||Function(\"return this\")(),a=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf(\"regeneratorRuntime\")>=0,u=a&&o.regeneratorRuntime;o.regeneratorRuntime=void 0;var s=i;if(a)o.regeneratorRuntime=u;else try{delete o.regeneratorRuntime}catch(e){o.regeneratorRuntime=void 0}var c,l,d,A,f=s,h={clickThrough:\"clickThrough\",closeLinear:\"closeLinear\",complete:\"complete\",error:\"error\",exitFullscreen:\"exitFullscreen\",firstQuartile:\"firstQuartile\",fullscreen:\"fullscreen\",iconClick:\"iconClick\",iconView:\"iconView\",impression:\"impression\",midpoint:\"midpoint\",mute:\"mute\",otherAdInteraction:\"otherAdInteraction\",pause:\"pause\",playerCollapse:\"playerCollapse\",playerExpand:\"playerExpand\",progress:\"progress\",resume:\"resume\",rewind:\"rewind\",skip:\"skip\",start:\"start\",thirdQuartile:\"thirdQuartile\",timeSpentViewing:\"timeSpentViewing\",unmute:\"unmute\"},p=\"acceptInvitation\",v=\"adCollapse\",m=\"creativeView\",y={acceptInvitation:p,adCollapse:v,close:\"close\",creativeView:m},g=[new RegExp(\"^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\\n?</div>\"),new RegExp(\"^(.+)\\n\")],w=function(e){var t,r,n,i,o=(t=e,r=new XMLSerializer,Array.prototype.map.call(t.childNodes,function(e){return r.serializeToString(e)}).join(\"\"));for(n=0;n<g.length;n++)if(i=g[n].exec(o))return i[1]},b=function(e){return function(e){var t;if(null===e)throw new Error(\"Parse error\");var r=function(e){return\"parsererror\"===e.documentElement.tagName&&\"http://www.mozilla.org/newlayout/xml/parsererror.xml\"===e.documentElement.namespaceURI?e.documentElement:(\"xml\"===e.documentElement.tagName||\"html\"===e.documentElement.tagName)&&e.documentElement.childNodes&&e.documentElement.childNodes.length>0&&\"parsererror\"===e.documentElement.childNodes[0].nodeName?e.documentElement.childNodes[0]:\"html\"===e.documentElement.tagName&&e.documentElement.childNodes&&e.documentElement.childNodes.length>0&&\"body\"===e.documentElement.childNodes[0].nodeName&&e.documentElement.childNodes[0].childNodes&&e.documentElement.childNodes[0].childNodes.length&&\"parsererror\"===e.documentElement.childNodes[0].childNodes[0].nodeName?e.documentElement.childNodes[0].childNodes[0]:void 0}(e);if(void 0!==r)throw t=w(r)||\"Parse error\",new Error(t)}(e),e},E=\"document\",k=\"element\",C=\"text\",x=function e(t){var r=function(e){if(1===e.nodeType)return k;if(3===e.nodeType||4===e.nodeType)return C;if(9===e.nodeType)return E;throw new Error(\"Unsupported element type\")}(t),n={type:r};if(r===k){if(n.name=t.nodeName.toLowerCase(),t.attributes.length>0){n.attributes={};var i=!0,o=!1,a=void 0;try{for(var u,s=Array.from(t.attributes)[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;n.attributes[c.nodeName]=c.nodeValue}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}}else r===C&&(n.text=t.nodeValue.replace(\"<![CDATA[\",\"\").replace(\"]]>\",\"\").trim());if(t.hasChildNodes()){var l=Array.from(t.childNodes).filter(function(e){return[1,3,4].includes(e.nodeType)}),d=[];n.elements=d;var A=!0,f=!1,h=void 0;try{for(var p,v=l[Symbol.iterator]();!(A=(p=v.next()).done);A=!0){var m=e(p.value);(m.type!==C||m.text.length>0)&&d.push(m)}}catch(e){f=!0,h=e}finally{try{!A&&v.return&&v.return()}finally{if(f)throw h}}}return n},P=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).elements;return void 0===e?[]:e},T=function(e,t){return P(e).find(function(e){var r=e.name;return(void 0===r?\"\":r).toUpperCase()===t.toUpperCase()})},I=function(e,t){return\"string\"==typeof t?function(e,t){return P(e).filter(function(e){var r=e.name;return(void 0===r?\"\":r).toUpperCase()===t.toUpperCase()})}(e,t):P(e)},S=function(e){return P(e)[0]||null},V=function(e){var t=e&&S(e);return t&&t.text||null},B=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).attributes;return void 0===e?{}:e},R=function(e,t){return B(e)[t]},F=new DOMParser,O=function(e){return function(e,t){var r=e.parseFromString(t,\"application/xml\");return b(r),x(r)}(F,e)},L=function(e){if(\"string\"==typeof e){var t=e.match(/(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/);if(t){var r=(o=t[1],60*parseInt(o,10)*60*1e3+(i=t[2],60*parseInt(i,10)*1e3)+(n=t[3],1e3*parseInt(n,10))+parseInt(t[5]||0,10));if(!isNaN(r))return r}}var n,i,o;return null},_=function(e){return function(e){return/^\\d+(\\.\\d+)?%$/g.test(e)}(e)?e:L(e)},M=function(e){var t=S(e),r=t&&T(t,\"creatives\");return r&&I(r).find(function(e){return T(e,\"linear\")})||null},j=function(e,t){var r=e&&M(e);if(r){var n=T(r,\"Linear\"),i=n&&T(n,\"TrackingEvents\"),o=i&&I(i,\"Tracking\");if(o&&o.length>0){var a=o.map(function(e){var t=B(e),r=t.event,n=t.offset,i=V(e);return{event:r,offset:n&&_(n),uri:i}});if(!t)return a;var u=a.filter(function(e){return e.event===t});if(u.length>0)return u}}return null},N=function(e,t){var r=e&&M(e);if(r){var n=T(r,\"NonLinearAds\"),i=n&&T(n,\"TrackingEvents\"),o=i&&I(i,\"Tracking\");if(o&&o.length>0){var a=o.map(function(e){return{event:B(e).event,uri:V(e)}});if(!t)return a;var u=a.filter(function(e){return e.event===t});if(u.length>0)return u}}return null},D=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,o){try{var a=t[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n(\"next\",e)},function(e){n(\"throw\",e)});e(u)}(\"next\")})}},U=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},Q=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),W=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if(\"value\"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},z=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Z=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t},Y=function(e){return Array.isArray(e)?e:Array.from(e)},X=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},J=function(e){var t=(\"\"+e).match(/\\d+/g);return parseInt(t[0],10)},q=function(e){return/\\d+/.test(e)?J(e):e},$=function(e){var t=e&&M(e),r=t&&T(t,\"linear\"),n=r&&T(r,\"Icons\"),i=n&&I(n,\"Icon\");return i&&i.length>0?i.map(function(e){return H({},function(e){var t=B(e),r=t.duration,n=t.height,i=t.offset,o=t.program,a=t.pxratio,u=t.width,s=t.xPosition,c=void 0===s?\"right\":s,l=t.yPosition,d=void 0===l?\"top\":l;return{duration:r&&L(r),height:n&&J(n),offset:i&&L(i),program:o,pxratio:a&&parseInt(a,10),width:u&&J(u),xPosition:c&&q(c),yPosition:d&&q(d)}}(e),function(e){var t=T(e,\"StaticResource\"),r=T(e,\"HTMLResource\"),n=T(e,\"IFrameResource\");return t?{staticResource:V(t)}:r?{htmlResource:V(r)}:n?{iFrameResource:V(n)}:{staticResource:V(e)}}(e),function(e){var t=I(e,\"IconViewTracking\").map(function(e){return V(e)});return 0===t.length?{}:{iconViewTracking:t}}(e),function(e){var t=T(e,\"IconClicks\"),r=t&&T(t,\"IconClickThrough\"),n=t&&I(t,\"IconClickTracking\").map(function(e){return V(e)});return{iconClickThrough:r&&V(r),iconClickTracking:n&&n.length>0?n:void 0}}(e))}):null},K=function(e){return\"string\"==typeof e?\"true\"===e:Boolean(e)},ee=function(e,t){var r=parseInt(R(e,\"sequence\"),10),n=parseInt(R(t,\"sequence\"),10);return r<n?-1:r>n?1:0},te=function(e){var t=e&&T(e,\"VAST\"),r=t&&I(t,\"Ad\");return r&&r.length>0?r:[]},re=function(e){var t=e&&T(e,\"VAST\");if(t){var r=T(t,\"Error\");if(r)return V(r)}return null},ne=function(e){var t=parseInt(R(e,\"sequence\"),10);return\"number\"!=typeof t||isNaN(t)?null:t},ie=function(e){return Boolean(ne(e))},oe=function(e){var t=te(e);return Array.isArray(t)&&t.filter(ie).length>1},ae=function(e){var t=te(e);return Array.isArray(t)&&t.length>0?oe(e)?t.filter(ie).sort(ee)[0]:t[0]:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Boolean(T(e||{},\"Wrapper\"))},se=function(e){return Boolean(T(e||{},\"Inline\"))},ce=function(e){var t=T(e,\"Wrapper\"),r=t&&T(t,\"VastAdTagUri\");return r&&V(r)||null},le=function(e){var t=B(T(e,\"Wrapper\")),r=t.allowMultipleAds,n=t.fallbackOnNoAd,i=t.followAdditionalWrappers,o={};return r&&(o.allowMultipleAds=K(r)),n&&(o.fallbackOnNoAd=K(n)),i&&(o.followAdditionalWrappers=K(i)),o},de=function(e){var t=e&&S(e);if(t){var r=T(t,\"Error\");if(r)return V(r)}return null},Ae=function(e){var t=e&&S(e);if(t){var r=T(t,\"Impression\");if(r)return V(r)}return null},fe=function(e){var t=e&&M(e);if(t){var r=T(t,\"UniversalAdId\"),n=r&&V(r)||null,i=T(t,\"Linear\"),o=T(i,\"MediaFiles\"),a=o&&I(o,\"MediaFile\");if(a&&a.length>0)return a.map(function(e){var t=V(e),r=B(e),i=r.apiFramework,o=r.bitrate,a=r.codec,u=r.delivery,s=r.height,c=r.id,l=r.maintainAspectRatio,d=r.maxBitrate,A=r.minBitrate,f=r.scalable,h=r.type,p=r.width;return{apiFramework:i,bitrate:o,codec:a,delivery:u,height:s,id:c,maintainAspectRatio:l,maxBitrate:d,minBitrate:A,scalable:f,src:t,type:h,universalAdId:n,width:p}})}return null},he=function(e){var t=e&&M(e);if(t){var r=T(t,\"Linear\"),n=T(r,\"MediaFiles\"),i=n&&I(n,\"InteractiveCreativeFile\");if(i&&i.length>0)return i.map(function(e){var t=B(e),r=t.apiFramework,n=t.type;return{apiFramework:r,src:V(e),type:n}})}return null},pe=function(e){var t=he(e);if(t)return t;var r=fe(e);return r&&(t=r.filter(function(e){var t=e.apiFramework;return\"vpaid\"===(void 0===t?\"\":t).toLowerCase()}).map(function(e){return{apiFramework:e.apiFramework,src:e.src,type:e.type}})).length>0?t:null},ve=function(e){var t=e&&M(e),r=t&&T(t,\"Linear\"),n=r&&T(r,\"VideoClicks\");return n||null},me=function(e){var t=ve(e),r=t&&T(t,\"ClickThrough\");return r?V(r):null},ye=function(e){var t=ve(e),r=t&&I(t,\"ClickTracking\");return r&&r.length>0?r.map(function(e){return V(e)}):null},ge=function(e){var t=ve(e),r=t&&I(t,\"CustomClick\");return r&&r.length>0?r.map(function(e){return V(e)}):null},we=function(e){var t=e&&M(e),r=t&&T(t,\"Linear\"),n=r&&R(r,\"skipoffset\");return n?_(n):null},be=function(e){var t=function(e){var t=/<Linear([\\s\\S]*)<\\/Linear/gm.exec(e);return t&&t[1]}(e);return{AdParameters:t&&function(e){var t=/<AdParameters[\\s\\w=\"]*>([\\s\\S]*)<\\/AdParameters>/gm.exec(e);return t&&t[1].replace(/[\\n\\s]*<!\\[CDATA\\[[\\n\\s]*/,\"\").replace(/[\\n\\s]*\\]\\]>[\\n\\s]*$/,\"\").replace(/\\]\\]\\]\\]><!\\[CDATA\\[>/,\"]]>\").trim()}(t),xmlEncoded:t&&function(e){var t=/<AdParameters[\\s]*xmlEncoded=\"(.*?)\">/gim.exec(e);return Boolean(t)&&\"true\"===t[1]}(t)}},Ee=Object.freeze({getAds:te,getVastErrorURI:re,getPodAdSequence:ne,isPodAd:ie,hasAdPod:oe,isAdPod:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.parsedXML}).some(oe)},getFirstAd:ae,isWrapper:ue,isInline:se,getVASTAdTagURI:ce,getWrapperOptions:le,getAdErrorURI:de,getImpressionUri:Ae,getMediaFiles:fe,getInteractiveCreativeFiles:he,getInteractiveFiles:pe,getClickThrough:me,getClickTracking:ye,getCustomClick:ge,getSkipOffset:we,getCreativeData:be,getIcons:$,getLinearTrackingEvents:j,getNonLinearTrackingEvents:N}),ke=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e,o=(t=n,r={},Object.keys(t).forEach(function(e){r[e.toUpperCase()]=t[e]}),r);return Boolean(o.CACHEBUSTING)||(o.CACHEBUSTING=Math.round(1e10*Math.random())),Boolean(o.TIMESTAMP)||(o.TIMESTAMP=(new Date).toISOString()),Object.keys(o).forEach(function(e){var t=encodeURIComponent(o[e]);i=i.replace(new RegExp(\"\\\\[\"+e+\"\\\\]\",\"gm\"),t)}),i},Ce=function(e,t){var r=new Image;return r.src=ke(e,t),r},xe=function(e,t){var r=t.errorCode,n=t.tracker,i=void 0===n?Ce:n;e.forEach(function(e){var t=e.ad,n=e.parsedXML,o=de(t)||re(n);Boolean(o)&&i(o,{errorCode:r})})},Pe=function(e){return function(t,r){var n=r.data,i=r.tracker,o=void 0===i?Ce:i;t.forEach(function(t){var r=t.ad,i=e(r);if(Boolean(i))switch(!0){case\"string\"==typeof i:o(i,n);break;case Array.isArray(i):i.map(function(e){var t=e.uri;return o(t,n)})}})}},Te=function(e){return function(t){return j(t,e)}},Ie=(W(c={},\"clickThrough\",Pe(function(e){var t=[],r=ye(e),n=ge(e);return Array.isArray(r)&&r.length>0&&t.push.apply(t,X(r.map(function(e){return{uri:e}}))),Array.isArray(n)&&n.length>0&&t.push.apply(t,X(n.map(function(e){return{uri:e}}))),t})),W(c,\"closeLinear\",Pe(Te(\"closeLinear\"))),W(c,\"complete\",Pe(Te(\"complete\"))),W(c,\"error\",xe),W(c,\"exitFullscreen\",Pe(Te(\"exitFullscreen\"))),W(c,\"firstQuartile\",Pe(Te(\"firstQuartile\"))),W(c,\"fullscreen\",Pe(Te(\"fullscreen\"))),W(c,\"iconClick\",function(e,t){var r=t.data,n=t.tracker,i=void 0===n?Ce:n,o=r.iconClickTracking;if(Array.isArray(o)){var a=!0,u=!1,s=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)i(c.value,H({},r))}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}}}),W(c,\"iconView\",function(e,t){var r=t.data,n=t.tracker,i=void 0===n?Ce:n,o=r.iconViewTracking;if(Array.isArray(o)){var a=!0,u=!1,s=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)i(c.value,H({},r))}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}}}),W(c,\"impression\",Pe(Ae)),W(c,\"midpoint\",Pe(Te(\"midpoint\"))),W(c,\"mute\",Pe(Te(\"mute\"))),W(c,\"pause\",Pe(Te(\"pause\"))),W(c,\"playerCollapse\",Pe(Te(\"playerCollapse\"))),W(c,\"playerExpand\",Pe(Te(\"playerExpand\"))),W(c,\"progress\",function(e,t){var r=t.data,n=t.tracker,i=void 0===n?Ce:n,o=r.progressUri;Boolean(o)&&i(o,H({},r))}),W(c,\"resume\",Pe(Te(\"resume\"))),W(c,\"rewind\",Pe(Te(\"rewind\"))),W(c,\"skip\",Pe(Te(\"skip\"))),W(c,\"start\",Pe(Te(\"start\"))),W(c,\"thirdQuartile\",Pe(Te(\"thirdQuartile\"))),W(c,\"unmute\",Pe(Te(\"unmute\"))),c),Se=function(e){return function(t){return N(t,e)}},Ve=(W(l={},p,Pe(Se(p))),W(l,v,Pe(Se(v))),W(l,\"close\",Pe(Se(\"close\"))),W(l,m,Pe(Se(m))),l),Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.async,n=void 0!==r&&r,i=t.defer,o=void 0!==i&&i,a=t.type,u=void 0===a?\"text/javascript\":a,s=t.placeholder;if(!e)throw new TypeError('Missing required \"src\" parameter');return new Promise(function(t,r){var i=document.createElement(\"script\"),a=s;i.type=u,i.async=n,i.defer=o,i.onerror=function(){return r(new URIError(\"The script \"+e+\" is not accessible.\"))},i.onload=function(){return t(i)},a||(a=document.currentScript?document.currentScript.parentNode:document.head),i.src=e,a.appendChild(i)})},Re=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).createElement(\"VIDEO\");return e.style.width=\"100%\",e.style.height=\"100%\",e},Fe=function(){var e=document.createElement(\"DIV\");return e.classList.add(\"mol-video-ad-container\"),e.style.width=\"100%\",e.style.height=\"100%\",e},Oe=function(e){return e.contentDocument||e.contentWindow&&e.contentWindow.document},Le=\"srcdoc\"in document.createElement(\"iframe\"),_e=function(){var e=document.createElement(\"IFRAME\");return e.sandbox=\"allow-forms allow-popups allow-scripts allow-same-origin allow-top-navigation-by-user-activation\",e.style.margin=\"0\",e.style.padding=\"0\",e.style.border=\"none\",e.style.width=\"0\",e.style.height=\"0\",e.style.position=\"absolute\",e},Me=function(e,t){return new Promise(function(r,n){var i,o=function(e,t){return\"<!DOCTYPE html>\\n<html>\\n  <head><meta charset='UTF-8'></head>\\n  <body style='margin:0;padding:0'>\\n  <script type='text/javascript'>window.parent.postMessage('\"+e+\"_ready', '\"+t+\"');<\\/script>\\n  </body>\\n</html>\"}(t,(i=window.location).origin?i.origin:i.protocol+\"//\"+i.hostname+(i.port?\":\"+i.port:\"\")),a=void 0;try{(a=_e()).src=\"about:blank\",e.appendChild(a),Oe(a).write(o)}catch(t){e.removeChild(a),Le?((a=_e()).src=\"about:srcdoc\",a.srcdoc=o,e.appendChild(a)):n(t)}window.addEventListener(\"message\",function e(n){n.data===t+\"_ready\"&&(window.removeEventListener(\"message\",e),r(a))},!1)})},je=(d=\"videoAdContainer\",A=-1,function(){return d+\"_\"+ ++A}),Ne=Symbol(\"hidden\"),De=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(U(this,e),this[Ne]={destroyed:!1,iframe:null,readyPromise:null},!(t instanceof Element))throw new TypeError(\"placeholder is not an Element\");this[Ne].id=je(),this.element=Fe(),this.executionContext=null,this.isOriginalVideoElement=Boolean(r),r?this.videoElement=r:(this.videoElement=Re(),this.element.appendChild(this.videoElement)),t.appendChild(this.element)}return Q(e,[{key:\"addScript\",value:function(){var e=D(f.mark(function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDestroyed()){e.next=2;break}throw new Error(\"VideoAdContainer has been destroyed\");case 2:if(this[Ne].iframe){e.next=7;break}return e.next=5,Me(this.element,this[Ne].id);case 5:this[Ne].iframe=e.sent,this.executionContext=this[Ne].iframe.contentWindow;case 7:return r=Oe(this[Ne].iframe).body,e.abrupt(\"return\",Be(t,H({placeholder:r},n)));case 9:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"destroy\",value:function(){this.element.parentNode.removeChild(this.element),this[Ne].destroyed=!0}},{key:\"isDestroyed\",value:function(){return this[Ne].destroyed}}]),e}(),Ue=function(e,t){if(!e)throw new TypeError(\"placeholder is required\");return new De(e,t)},Qe=function(e,t){var r=t.src,n=t.type;return e.canPlayType(n||function(e){var t=e.match(/\\.([^./?]+)(\\?[^/]+)?$/i),r=t&&t[1];return{\"3gp\":\"video/3gpp\",avi:\"video/x-msvideo\",flv:\"video/x-flv\",m3u8:\"application/x-mpegURL\",m4v:\"video/mp4\",mov:\"video/quicktime\",mp4:\"video/mp4\",mpd:\"application/dash+xml\",ogv:\"video/ogg\",ts:\"video/MP2T\",webm:\"video/webm\",wmv:\"video/x-ms-wmv\"}[r]||\"video/\"+r}(r))},We=function(e,t,r){var n=r.getBoundingClientRect(),i=fe(e);return i?function(e,t){var r=t.width;return e.slice(0).sort(function(e,t){return Math.abs(r-(e.width||0))-Math.abs(r-(t.width||0))})}(i.filter(function(e){return Qe(t,e)}),n)[0]:null},He=function(e,t,r){var n=function n(){return e.removeEventListener(t,n),r.apply(void 0,arguments)};return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}},Ge=h.progress,ze=function(e,t){return function(){try{e.apply(void 0,arguments)}catch(e){t&&t.error(e)}}},Ze=h.fullscreen,Ye=h.exitFullscreen,Xe=h.playerCollapse,Je=h.playerExpand,qe=h.pause,$e=h.resume,Ke=h.rewind,et=h.skip,tt=function(){var e=document.createElement(\"BUTTON\");return e.classList.add(\"mol-vast-skip-control\"),e.type=\"button\",e.innerHTML=\"skip\",e.style.position=\"absolute\",e.style.bottom=\"15px\",e.style.right=\"15px\",e},rt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.skipoffset,i=r.createSkipControl,o=void 0===i?tt:i;if(!Boolean(n))return function(){};var a=void 0,u=e.videoElement,s=e.element,c=function e(){var r=1e3*u.currentTime;!Boolean(a)&&r>=n&&((a=o()).onclick=function(e){return void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),t(et),!1},s.appendChild(a),u.removeEventListener(\"timeupdate\",e))};return u.addEventListener(\"timeupdate\",c),function(){u.removeEventListener(\"timeupdate\",c),Boolean(a)&&s.removeChild(a)}},nt=h.error,it=\"volumeChanged\",ot=\"finish\",at=\"adProgress\",ut=h.complete,st=h.firstQuartile,ct=h.midpoint,lt=h.start,dt=h.thirdQuartile,At=function(e,t){return 100*e/t},ft=function(e,t){return At(e,t)>=99},ht=h.mute,pt=h.unmute,vt=function(e){return e.muted||0===e.volume},mt=h.impression,yt=function(e,t){for(var r=String(e);r.length<t;)r=\"0\"+r;return r},gt=h.progress,wt=function(e){return 1e3*e},bt=function(e){var t=e.offset,r=e.uri,n=\"number\"==typeof t||function(e){return/^\\d+(\\.\\d+)?%$/g.test(e)&&!isNaN(parseFloat(e))}(t),i=\"string\"==typeof r&&r.length>0;return n&&i},Et=h.clickThrough,kt=[function(e,t){var r=e.videoElement,n=e.element,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).clickThroughUrl,o=n||r.parentNode,a=document.createElement(\"A\");return a.classList.add(\"mol-vast-clickthrough\"),a.style.width=\"100%\",a.style.height=\"100%\",a.style.position=\"absolute\",a.style.left=0,a.style.top=0,i&&(a.href=i,a.target=\"_blank\"),a.onclick=function(e){void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),r.paused?r.play():(r.pause(),t(Et))},o.appendChild(a),function(){return o.removeChild(a)}},function(e,t){var r=e.videoElement,n=function(){t(nt,r.error)};return r.addEventListener(\"error\",n),function(){r.removeEventListener(\"error\",n)}},function(e,t){var r=e.videoElement,n=[\"webkitfullscreenchange\",\"mozfullscreenchange\",\"fullscreenchange\",\"MSFullscreenChange\"],i=!1,o=function(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null)===r?(i=!0,t(Je),t(Ze)):i&&(i=!1,t(Xe),t(Ye))},a=!0,u=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var d=c.value;document.addEventListener(d,o)}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return function(){var e=!0,t=!1,r=void 0;try{for(var i,a=n[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=i.value;document.removeEventListener(u,o)}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}}},function(e,t){var r=e.videoElement,n=function e(){r.currentTime>=2&&(t(mt),r.removeEventListener(\"timeupdate\",e))};return r.addEventListener(\"timeupdate\",n),function(){r.removeEventListener(\"timeupdate\",n)}},function(e,t){var r=e.videoElement,n=!1,i=!0,o=function(){n?i&&(i=!1,t($e)):(n=!0,i=!1)},a=function(){i||(i=!0,t(qe))};return r.addEventListener(\"play\",o),r.addEventListener(\"pause\",a),function(){r.removeEventListener(\"play\",o),r.removeEventListener(\"pause\",a)}},function(e,t){var r=e.videoElement,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).progressEvents,i=void 0===n?[]:n,o=r.duration,a=wt(o),u=0,s=wt(r.currentTime),c=i.filter(bt).map(function(e){var t=e.offset,r=e.uri;return{offset:function(e,t){return\"number\"==typeof e?e:parseFloat(e)/100*t}(t,a),uri:r}}),l=function e(){var n=r.currentTime,i=Math.abs(n-s);u+=wt(i),s=n;var o=c.reduce(function(e,t){var r=t.offset;return u>=r?e.toCall.push(t):e.stillPending.push(t),e},{stillPending:[],toCall:[]}),a=o.stillPending,l=o.toCall;c=a,l.forEach(function(e){var r,n,i,o,a,s=e.uri;t(gt,{contentplayhead:(r=u,n=Math.floor(r/36e5),i=Math.floor(r/6e4%60),o=Math.floor(r/1e3%60),a=r%1e3,yt(n,2)+\":\"+yt(i,2)+\":\"+yt(o,2)+\".\"+yt(a,3)),progressUri:s})}),0===c.length&&r.removeEventListener(\"timeupdate\",e)};return c.length>0&&r.addEventListener(\"timeupdate\",l),function(){r.removeEventListener(\"timeupdate\",l)}},function(e,t){var r=e.videoElement,n=r.currentTime,i=function(){var e=r.currentTime-n;e<0&&Math.abs(e)>=1&&t(Ke),n=r.currentTime};return r.addEventListener(\"timeupdate\",i),function(){r.removeEventListener(\"timeupdate\",i)}},rt,function(e,t){var r=e.videoElement,n=!1,i=!1,o=!1,a=!1,u=!1,s=function(){var e=r.duration,s=r.currentTime;!n&&s>0?(n=!0,t(lt)):i?o?a?u||ft(s,e)&&(u=!0,t(ut)):function(e,t){return At(e,t)>=75}(s,e)&&(a=!0,t(dt)):function(e,t){return At(e,t)>=50}(s,e)&&(o=!0,t(ct)):function(e,t){return At(e,t)>=25}(s,e)&&(i=!0,t(st)),t(at)},c=function e(){var n=r.duration,i=r.currentTime;!u&&ft(i,n)&&(u=!0,t(ut)),r.removeEventListener(\"ended\",e),r.removeEventListener(\"timeupdate\",s)};return r.addEventListener(\"timeupdate\",s),r.addEventListener(\"ended\",c),function(){r.removeEventListener(\"timeupdate\",s),r.removeEventListener(\"ended\",c)}},function(e,t){var r=e.videoElement,n=vt(r),i=function(){t(it),n&&!vt(r)?t(pt):!n&&vt(r)&&t(ht),n=vt(r)};return r.addEventListener(\"volumechange\",i),function(){r.removeEventListener(\"volumechange\",i)}}],Ct=function(e,t){var r=e.vastChain,n=e.videoAdContainer,i=e.hooks,o=r[0].ad,a=we(o),u=me(o),s=function(e){return e.map(function(e){return e.ad}).reduce(function(e,t){var r=j(t,Ge)||[];return[].concat(X(e),X(r))},[]).map(function(e){return{offset:e.offset,uri:e.uri}})}(r),c=H({clickThroughUrl:u,progressEvents:s,skipoffset:a},i),l=kt.map(function(e){return ze(e(n,t,c))});return function(){return l.forEach(function(e){return e()})}},xt=function(e,t){return new Promise(function(r){var n={currentTime:e.currentTime,playing:!e.paused};n.playing&&e.pause(),e.src=t.src,e.load(),He(e,\"loadeddata\",function(){e.currentTime=n.currentTime,n.playing&&e.play(),r()})})},Pt=\"Expected a function\",Tt=NaN,It=\"[object Symbol]\",St=/^\\s+|\\s+$/g,Vt=/^[-+]0x[0-9a-f]+$/i,Bt=/^0b[01]+$/i,Rt=/^0o[0-7]+$/i,Ft=parseInt,Ot=\"object\"==typeof n&&n&&n.Object===Object&&n,Lt=\"object\"==typeof self&&self&&self.Object===Object&&self,_t=Ot||Lt||Function(\"return this\")(),Mt=Object.prototype.toString,jt=Math.max,Nt=Math.min,Dt=function(){return _t.Date.now()};function Ut(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function Qt(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&Mt.call(e)==It}(e))return Tt;if(Ut(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=Ut(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(St,\"\");var r=Bt.test(e);return r||Rt.test(e)?Ft(e.slice(2),r?2:8):Vt.test(e)?Tt:+e}var Wt=function(e,t,r){var n,i,o,a,u,s,c=0,l=!1,d=!1,A=!0;if(\"function\"!=typeof e)throw new TypeError(Pt);function f(t){var r=n,o=i;return n=i=void 0,c=t,a=e.apply(o,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-c>=o}function p(){var e=Dt();if(h(e))return v(e);u=setTimeout(p,function(e){var r=t-(e-s);return d?Nt(r,o-(e-c)):r}(e))}function v(e){return u=void 0,A&&n?f(e):(n=i=void 0,a)}function m(){var e=Dt(),r=h(e);if(n=arguments,i=this,s=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(p,t),l?f(e):a}(s);if(d)return u=setTimeout(p,t),f(s)}return void 0===u&&(u=setTimeout(p,t)),a}return t=Qt(t)||0,Ut(r)&&(l=!!r.leading,o=(d=\"maxWait\"in r)?jt(Qt(r.maxWait)||0,t):o,A=\"trailing\"in r?!!r.trailing:A),m.cancel=function(){void 0!==u&&clearTimeout(u),c=0,n=s=i=u=void 0},m.flush=function(){return void 0===u?a:v(Dt())},m},Ht=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Gt=function(){},zt=[\"style\",\"clientWidth\",\"clientHeight\"],Zt=Symbol(\"mutationHandlers\"),Yt=Symbol(\"mutationObserver\"),Xt=function(e,t){if(!e[Zt]){e[Zt]=[];e[Yt]=function(e,t){var r=new Ht(function(e){for(var r=0;r<e.length;r++){var n=e[r].attributeName;zt.includes(n)&&t()}});return r.observe(e,{attributes:!0,characterData:!1,childList:!0}),r}(e,function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e[Zt]&&e[Zt].forEach(function(e){return e.apply(void 0,r)})})}return e[Zt].push(t),function(){e[Zt]=e[Zt].filter(function(e){return e!==t}),0===e[Zt].length&&(e[Yt].disconnect(),delete e[Zt],delete e[Yt])}},Jt=Symbol(\"resizeHandlers\"),qt=Symbol(\"resizeObj\"),$t=function(e,t){if(!e[Jt]){e[Jt]=[];e[qt]=function(e){var t=document.createElement(\"object\");return t.setAttribute(\"style\",\"display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;\"),t.onload=function(){this.contentWindow&&this.contentWindow.addEventListener(\"resize\",e)},t.type=\"text/html\",t.data=\"about:blank\",t}(function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e[Jt]&&e[Jt].forEach(function(e){return e.apply(void 0,r)})}),\"static\"===getComputedStyle(e).position&&(e.style.position=\"relative\"),e.appendChild(e[qt])}return e[Jt].push(t),function(){e[Jt]=e[Jt].filter(function(e){return e!==t}),0===e[Jt].length&&(e.removeChild(e[qt]),delete e[Jt],delete e[qt])}},Kt=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).threshold,n=void 0===r?20:r;!function(e,t){if(!(e instanceof Element))throw new TypeError(\"Target is not an Element node\");if(!(t instanceof Function))throw new TypeError(\"Callback is not a function\")}(e,t);var i=function(e){var t=e.style,r=e.clientHeight,n=e.clientWidth;return[t.width,t.height,n,r].join(\".\")},o=i(e),a=Wt(function(){var r=i(e);r!==o&&(o=r,t())},n),u=Boolean(Ht)?Xt(e,a):Gt,s=$t(e,a);return function(){u(),s()}},er=[],tr=function(e){var t=e.element,r=e.callback,n=e.lastInViewport,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getBoundingClientRect(),n=r.height,i=r.width,o=r.top,a=r.right,u=r.bottom,s=r.left;if(!n||!i)return!1;var c=n*(1-t),l=i*(1-t),d=window.innerHeight||document.documentElement.clientHeight,A=window.innerWidth||document.documentElement.clientWidth;return!document.hidden&&o+c>=0&&u-c<=d&&s+l>=0&&a-l<=A}(t,e.viewportOffset);i!==n&&(e.lastInViewport=i,r(i))},rr=function(){var e=!0,t=!1,r=void 0;try{for(var n,i=er[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value;tr(o)}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}},nr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.threshold,i=void 0===n?100:n,o=r.scrollableElement,a=void 0===o?window:o,u=r.viewabilityOffset,s=void 0===u?.4:u;!function(e,t){if(!(e instanceof Element))throw new TypeError(\"Target is not an Element node\");if(!(t instanceof Function))throw new TypeError(\"Callback is not a function\")}(e,t);var c=i>0?Wt(rr):rr,l={callback:t,element:e,lastInViewport:!1,scrollableElement:a,viewabilityOffset:s};return tr(l),er.push(l),a.addEventListener(\"scroll\",c),1===er.length&&(window.addEventListener(\"resize\",c),window.addEventListener(\"orientationchange\",c),document.addEventListener(\"visibilitychange\",c)),function(){0===(er=er.filter(function(e){return e!==l})).length&&(window.removeEventListener(\"resize\",c),window.removeEventListener(\"orientationchange\",c),document.removeEventListener(\"visibilitychange\",c)),er.every(function(e){return e.scrollableElement!==a})&&a.removeEventListener(\"scroll\",c)}},ir=function(e){var t=0,r=0,n=function(){e.duration-t>3&&(e.pause(),e.play(),e.currentTime=t)},i=function(){var n=e.currentTime;Math.abs(n-t)>3?((r+=1)>=2&&e.pause(),e.currentTime=t):t=n};return e.addEventListener(\"timeupdate\",i),e.addEventListener(\"ended\",n),function(){e.removeEventListener(\"timeupdate\",i),e.removeEventListener(\"ended\",n)}},or=function(){function e(t){U(this,e),this.evts={},this.logger=t||console}return Q(e,[{key:\"on\",value:function(e,t){var r=this.evts;return(r[e]||(r[e]=[])).push(t),this}},{key:\"removeListener\",value:function(e,t){var r=this.evts,n=r[e]||(r[e]=[]);return r[e]=n.filter(function(e){return e!==t&&e._!==t}),this}},{key:\"removeAllListeners\",value:function(e){return e?this.evts[e]=null:this.evts={},this}},{key:\"once\",value:function(e,t){var r=this,n=function n(){r.removeListener(e,n),t.apply(void 0,arguments)};return n._=t,this.on(e,n)}},{key:\"emit\",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=this.evts,a=o[e]||(o[e]=[]),u=a.length>0;return a.forEach(function(e){try{e.apply(void 0,n)}catch(e){t.logger.error(e,e.stack)}}),u}}]),e}(),ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.staticResource,r=e.htmlResource,n=e.iFrameResource;return t||r||n},ur=function(e){return 1===e.length?e[0]:function(e){var t=window.devicePixelRatio||0;return e.slice(0).sort(function(e,r){return Math.abs(t-(e.pxratio||0))-Math.abs(t-(r.pxratio||0))})}(e)[0]},sr=function(e){var t=e.map(function(e){return e.ad}).reduce(function(e,t){return[].concat(X(e),X($(t)||[]))},[]);return t.length>0?function(e){var t=function(e){return e.reduce(function(e,t){var r=t.program,n=void 0===r?\"UNKNOWN\":r;return e[n]||(e[n]=[]),e[n].push(t),e},{})}(e);return Object.keys(t).reduce(function(e,r){return[].concat(X(e),\"UNKNOWN\"===r?X(t.UNKNOWN):[ur(t[r])])},[])}(function(e){return t=ar,r={},e.filter(function(e){var n=t(e);return!r.hasOwnProperty(n)&&(r[n]=!0,!0)});var t,r}(t)):null},cr=function(e,t){var r=!0,n=new function e(){var t=this;U(this,e),this.promise=new Promise(function(e,r){t.resolve=e,t.reject=r})},i=n.promise,o=n.reject,a=n.resolve,u=He(e,t,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r=!1,a(t)});return{cancel:function(){r&&(r=!1,u(),o(new Error(\"waitFor was canceled\")))},promise:i}};!function(e){if(!e.fetch){var t={searchParams:\"URLSearchParams\"in e,iterable:\"Symbol\"in e&&\"iterator\"in Symbol,blob:\"FileReader\"in e&&\"Blob\"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:\"FormData\"in e,arrayBuffer:\"ArrayBuffer\"in e};if(t.arrayBuffer)var r=[\"[object Int8Array]\",\"[object Uint8Array]\",\"[object Uint8ClampedArray]\",\"[object Int16Array]\",\"[object Uint16Array]\",\"[object Int32Array]\",\"[object Uint32Array]\",\"[object Float32Array]\",\"[object Float64Array]\"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=u(e),t=s(t);var r=this.map[e];this.map[e]=r?r+\",\"+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=s(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=[\"DELETE\",\"GET\",\"HEAD\",\"OPTIONS\",\"POST\",\"PUT\"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},p.call(v.prototype),p.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:\"\"});return e.type=\"error\",e};var a=[301,302,303,307,308];y.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError(\"Invalid status code\");return new y(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=v,e.Response=y,e.fetch=function(e,r){return new Promise(function(n,i){var o=new v(e,r),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||\"\",t=new l,e.replace(/\\r?\\n[\\t ]+/g,\" \").split(/\\r?\\n/).forEach(function(e){var r=e.split(\":\"),n=r.shift().trim();if(n){var i=r.join(\":\").trim();t.append(n,i)}}),t)};r.url=\"responseURL\"in a?a.responseURL:r.headers.get(\"X-Request-URL\");var i=\"response\"in a?a.response:a.responseText;n(new y(i,r))},a.onerror=function(){i(new TypeError(\"Network request failed\"))},a.ontimeout=function(){i(new TypeError(\"Network request failed\"))},a.open(o.method,o.url,!0),\"include\"===o.credentials?a.withCredentials=!0:\"omit\"===o.credentials&&(a.withCredentials=!1),\"responseType\"in a&&t.blob&&(a.responseType=\"blob\"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function u(e){if(\"string\"!=typeof e&&(e=String(e)),/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(e))throw new TypeError(\"Invalid character in header field name\");return e.toLowerCase()}function s(e){return\"string\"!=typeof e&&(e=String(e)),e}function c(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError(\"Already read\"));e.bodyUsed=!0}function A(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function f(e){var t=new FileReader,r=A(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if(\"string\"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!i(e))throw new Error(\"unsupported BodyInit type\");this._bodyArrayBuffer=h(e)}else this._bodyText=\"\";this.headers.get(\"content-type\")||(\"string\"==typeof e?this.headers.set(\"content-type\",\"text/plain;charset=UTF-8\"):this._bodyBlob&&this._bodyBlob.type?this.headers.set(\"content-type\",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set(\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"))},t.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error(\"could not read FormData body as blob\");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,r,n=d(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=A(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join(\"\")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error(\"could not read FormData body as text\");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var r,n,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError(\"Already read\");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||\"omit\",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=t.method||this.method||\"GET\",n=r.toUpperCase(),o.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,(\"GET\"===this.method||\"HEAD\"===this.method)&&i)throw new TypeError(\"Body not allowed for GET or HEAD requests\");this._initBody(i)}function m(e){var t=new FormData;return e.trim().split(\"&\").forEach(function(e){if(e){var r=e.split(\"=\"),n=r.shift().replace(/\\+/g,\" \"),i=r.join(\"=\").replace(/\\+/g,\" \");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function y(e,t){t||(t={}),this.type=\"default\",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=\"statusText\"in t?t.statusText:\"OK\",this.headers=new l(t.headers),this.url=t.url||\"\",this._initBody(e)}}(\"undefined\"!=typeof self?self:void 0);var lr,dr,Ar,fr,hr=function(e){var t=e.toLowerCase();return[\"text/plain\",\"text/html\"].some(function(e){return t.includes(e)})},pr=(lr=D(f.mark(function e(t){var r,n,i,o;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(r=e.sent,n=r.headers.get(\"Content-Type\"),!(r.status>=400)){e.next=8;break}throw(i=new Error(r.statusText)).response=r,i;case 8:if(hr(n)){e.next=12;break}throw(o=new Error(\"fetchHtml error, invalid Content-Type \"+n)).response=r,o;case 12:return e.abrupt(\"return\",r.text());case 13:case\"end\":return e.stop()}},e,void 0)})),function(e){return lr.apply(this,arguments)}),vr=function(e,t){var r=t.staticResource,n=t.htmlResource,i=t.iFrameResource;return Boolean(r)?function(e,t){var r=t.document,n=t.data,i=n.height,o=n.width,a=r.createElement(\"IMG\");return o&&(a.width=o),i&&(a.height=i),a.src=e,a}(r,{data:t,document:e}):Boolean(n)?function(e,t){var r=t.document,n=t.data,i=n.height,o=n.width,a=r.createElement(\"DIV\");return o&&(a.style.width=o+\"px\"),i&&(a.style.height=i+\"px\"),pr(e).then(function(e){a.innerHTML=e,a.dispatchEvent(new CustomEvent(\"load\"))}).catch(function(){a.dispatchEvent(new CustomEvent(\"error\"))}),a}(n,{data:t,document:e}):function(e,t){var r=t.document,n=t.data,i=n.height,o=n.width,a=r.createElement(\"IFRAME\");return a.src=e,a.sandbox=\"allow-forms allow-popups allow-scripts allow-top-navigation-by-user-activation\",o&&(a.width=o),i&&(a.height=i),a.src=e,a.frameBorder=0,a.style.border=\"none\",a}(i,{data:t,document:e})},mr=function(){},yr=function(e,t){var r=t.document,n=t.placeholder;return new Promise(function(t,i){try{var o=vr(r,e),a=cr(o,\"error\"),u=cr(o,\"load\"),s=function(){n.contains(o)&&(n.removeChild(o),o.style.zIndex=0)};a.promise.then(function(){u.cancel(),s(),i(new Error(\"Error loading resource\"))}).catch(mr),u.promise.then(function(){a.cancel(),s(),t(o)}).catch(mr),o.style.zIndex=-9999,n.appendChild(o)}catch(e){i(e)}})},gr=function(e,t,r){var n,i,o,a=r.drawnIcons,u=r.placeholder,s=e.signature,c=t.getBoundingClientRect(),l=u.getBoundingClientRect(),d=e.width||c.width,A=e.height||c.height,f=e.xPosition||\"right\",h=e.yPosition||\"top\",p=void 0,v=void 0;if(function(e){return![\"left\",\"right\"].includes(String(e).toLowerCase())}(f))p=f;else{var m=a.filter(function(e){return e.xPosition===f&&e.yPosition===h});p=function(e,t,r,n){var i=r.reduce(function(e,t){return e+t.width+1},0);return\"left\"===e?i:n-i-t}(f,d,m,l.width)}!function(e){return![\"top\",\"bottom\"].includes(String(e).toLowerCase())}(h)?(n=h,i=A,o=l.height,v=\"top\"===n?0:o-i):v=h;var y=p+\"-\"+v+\"_\"+d+\"x\"+A;return Object.assign(e,{height:A,left:p,signature:y,top:v,updated:s!==y,width:d})},wr=function(e){return e.height*e.width},br=function(e){return e.left+e.width},Er=function(e){var t=e.left;return t},kr=function(e){var t=e.top;return t},Cr=function(e){return e.top+e.height},xr=function(e,t){return!t.drawnIcons.some(function(t){return function(e,t){return!(Er(e)>br(t)||br(e)<Er(t)||Cr(e)<kr(t)||kr(e)>Cr(t))}(e,t)})},Pr=function(e,t){var r=function(e,t){var r=t.drawnIcons,n=t.placeholder,i=wr(n.getBoundingClientRect());return wr(e)+r.reduce(function(e,t){return e+wr(t)},0)<=.35*i}(e,t),n=function(e,t){var r=t.placeholder.getBoundingClientRect();return e.left>=0&&e.left+e.width<=r.width&&e.top>=0&&e.top+e.height<=r.height}(e,t),i=xr(e,t);return r&&n&&i},Tr=function(){},Ir=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).onIconClick,n=void 0===r?Tr:r,i=document.createElement(\"A\");return t.iconClickthrough&&(i.href=t.iconClickthrough,i.target=\"_blank\"),Boolean(t.iFrameResource)&&(e.style.pointerEvents=\"none\"),i.onclick=function(e){void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),n(t)},i.appendChild(e),i},Sr=(dr=D(f.mark(function e(t,r){var n;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.element){e.next=9;break}return e.next=3,yr(t,r);case 3:(n=e.sent).width=\"100%\",n.height=\"100%\",n.style.height=\"100%\",n.style.width=\"100%\",t.element=Ir(n,t,r);case 9:return e.abrupt(\"return\",t.element);case 10:case\"end\":return e.stop()}},e,void 0)})),function(e,t){return dr.apply(this,arguments)}),Vr=function(e,t){var r=t.height,n=t.width,i=t.left,o=t.top,a=t.yPosition;return e.height=r,e.width=n,e.style.position=\"absolute\",e.style.left=i+\"px\",\"bottom\"===a?e.style.bottom=\"0\":e.style.top=o+\"px\",e.style.height=r+\"px\",e.style.width=n+\"px\",e},Br=(Ar=D(f.mark(function e(t,r){var n,i,o;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.placeholder,e.next=3,Sr(t,r);case 3:if(i=e.sent,o=gr(t,i,r),!Pr(o,r)){e.next=9;break}i.parentNode&&!t.updated||n.appendChild(Vr(i,o)),e.next=11;break;case 9:throw i.parentNode&&i.parentNode.removeChild(i),new Error(\"Icon can't be rendered\");case 11:return e.abrupt(\"return\",o);case 12:case\"end\":return e.stop()}},e,void 0)})),function(e,t){return Ar.apply(this,arguments)}),Rr=function(e,t){var r=t.onIconClick,n=t.videoAdContainer,i=t.logger,o=n.element,a=n.videoElement,u=[],s=e.reduce(function(e,t){return!function(e,t){var r=1e3*t.currentTime,n=1e3*t.duration,i=e.offset||0,o=e.duration||n;return i<=r&&r-i<=o}(t,a)?e.otherIcons.push(t):e.iconsToShow.push(t),e},{iconsToShow:[],otherIcons:[]}),c=s.iconsToShow;return s.otherIcons.forEach(function(e){var t=e.element;t&&t.parentNode&&t.parentNode.removeChild(t)}),c.reduce(function(e,t){return e.then(function(){return Br(t,{document:document,drawnIcons:u,onIconClick:r,placeholder:o})}).then(function(e){return u.push(e)}).catch(function(e){return i.log(e)})},Promise.resolve(u)).then(function(){return u})},Fr=Symbol(\"firstRenderPending\"),Or=function(){},Lr=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.videoAdContainer,i=r.onIconView,o=void 0===i?Or:i,a=r.onIconClick,u=void 0===a?Or:a,s=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(r,[\"videoAdContainer\",\"onIconView\",\"onIconClick\"]),c=n.videoElement,l=n.element,d=(t=D(f.mark(function t(){var r;return f.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr(e,H({onIconClick:u,videoAdContainer:n},s));case 2:r=t.sent,l.dispatchEvent(new CustomEvent(\"iconsDrawn\")),r.forEach(function(e){e[Fr]&&(o(e),e[Fr]=!1)});case 5:case\"end\":return t.stop()}},t,void 0)})),function(){return t.apply(this,arguments)});return e.forEach(function(e){e[Fr]=!0}),{drawIcons:d,hasPendingIconRedraws:function(){return function(e,t){var r=1e3*t.currentTime,n=1e3*t.duration,i=e.filter(function(e){return!e.offset||e.offset<r}),o=e.filter(function(e){return e.duration&&e.duration<n});return i.length>0||o.length>0}(e,c)},removeIcons:function(){return function(e){return e.filter(function(e){var t=e.element;return Boolean(t)&&Boolean(t.parentNode)}).forEach(function(e){var t=e.element;return t.parentNode.removeChild(t)})}(e)}}},_r=function(e,t){return e+100>innerWidth&&t+100>innerHeight?\"fullscreen\":e<400?\"thumbnail\":\"normal\"},Mr=h.start,jr=h.iconClick,Nr=h.iconView,Dr=Symbol(\"_protected\"),Ur=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.viewability,o=void 0!==i&&i,a=n.responsive,u=void 0!==a&&a,s=n.logger,c=void 0===s?console:s;U(this,t);var l=Z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c));l[Dr]={finish:function(){l[Dr].finished=!0,l[Dr].onFinishCallbacks.forEach(function(e){return e()}),l.emit(ot,{adUnit:l,type:ot})},finished:!1,onErrorCallbacks:[],onFinishCallbacks:[],started:!1,throwIfCalled:function(){throw new Error(\"VideoAdUnit method must be implemented on child class\")},throwIfFinished:function(){if(l.isFinished())throw new Error(\"VideoAdUnit is finished\")}},l.type=null,l.error=null,l.errorCode=null;var d=l[Dr].onFinishCallbacks;if(l.vastChain=e,l.videoAdContainer=r,l.icons=sr(e),d.push(ir(l.videoAdContainer.videoElement)),l.icons){var A=Lr(l.icons,{logger:c,onIconClick:function(e){return l.emit(jr,{adUnit:l,data:e,type:jr})},onIconView:function(e){return l.emit(Nr,{adUnit:l,data:e,type:Nr})},videoAdContainer:r}),f=A.drawIcons,h=A.hasPendingIconRedraws,p=A.removeIcons;l[Dr].drawIcons=f,l[Dr].removeIcons=p,l[Dr].hasPendingIconRedraws=h,d.push(p)}return o&&l.once(Mr,function(){var e=nr(l.videoAdContainer.element,function(e){l.isFinished()||(e?l.resume():l.pause())});d.push(e)}),u&&l.once(Mr,function(){var e=l.videoAdContainer.element;l[Dr].size={height:e.clientHeight,viewmode:_r(e.clientWidth,e.clientHeight),width:e.clientWidth};var t=Kt(e,function(){if(!l.isFinished()){var t=l[Dr].size,r=e.clientHeight,n=e.clientWidth;r===t.height&&n===t.width||l.resize(n,r,_r(n,r))}});d.push(t)}),l}return z(t,or),Q(t,[{key:\"start\",value:function(){this[Dr].throwIfCalled()}},{key:\"resume\",value:function(){this[Dr].throwIfCalled()}},{key:\"pause\",value:function(){this[Dr].throwIfCalled()}},{key:\"setVolume\",value:function(e){this[Dr].throwIfCalled()}},{key:\"getVolume\",value:function(){this[Dr].throwIfCalled()}},{key:\"cancel\",value:function(){this[Dr].throwIfCalled()}},{key:\"duration\",value:function(){this[Dr].throwIfCalled()}},{key:\"paused\",value:function(){this[Dr].throwIfCalled()}},{key:\"currentTime\",value:function(){this[Dr].throwIfCalled()}},{key:\"onFinish\",value:function(e){if(\"function\"!=typeof e)throw new TypeError(\"Expected a callback function\");this[Dr].onFinishCallbacks.push(ze(e,this.logger))}},{key:\"onError\",value:function(e){if(\"function\"!=typeof e)throw new TypeError(\"Expected a callback function\");this[Dr].onErrorCallbacks.push(ze(e,this.logger))}},{key:\"isFinished\",value:function(){return this[Dr].finished}},{key:\"isStarted\",value:function(){return this[Dr].started}},{key:\"resize\",value:function(){var e=D(f.mark(function e(t,r,n){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Dr].size={height:r,viewmode:n,width:t},!this.isStarted()||this.isFinished()||!this.icons){e.next=6;break}return e.next=4,this[Dr].removeIcons();case 4:return e.next=6,this[Dr].drawIcons();case 6:case\"end\":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(),Qr=h.complete,Wr=h.error,Hr=h.skip,Gr=Symbol(\"_private\"),zr=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};U(this,t);var i=Z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n));i[Gr]={handleMetric:function(e,t){switch(e){case Qr:i[Dr].finish();break;case Wr:i.error=t,i.errorCode=i.error&&i.error.code?i.error.code:405,i[Dr].onErrorCallbacks.forEach(function(e){return e(i.error,{adUnit:i,vastChain:i.vastChain})}),i[Dr].finish();break;case Hr:i.cancel()}i.emit(e,{adUnit:i,type:e})}},i.assetUri=null,i.type=\"VAST\";var o=i[Dr].onFinishCallbacks,a=i[Gr].handleMetric;i.hooks=n.hooks||{};var u=Ct({hooks:i.hooks,vastChain:i.vastChain,videoAdContainer:i.videoAdContainer},a);return o.push(u),i}return z(t,Ur),Q(t,[{key:\"start\",value:function(){var e=D(f.mark(function e(){var t,r,n,i,o,a,u,s=this;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Dr].throwIfFinished(),!this.isStarted()){e.next=3;break}throw new Error(\"VastAdUnit already started\");case 3:if(t=this.vastChain[0].ad,r=this.videoAdContainer,n=r.videoElement,i=r.element,o=We(t,n,i),!Boolean(o)){e.next=16;break}if(!this.icons){e.next=11;break}return a=function(){var e=D(f.mark(function e(){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isFinished()){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,s[Dr].drawIcons();case 4:s[Dr].hasPendingIconRedraws()&&!s.isFinished()&&He(n,\"timeupdate\",a);case 5:case\"end\":return e.stop()}},e,s)}));return function(){return e.apply(this,arguments)}}(),e.next=11,a();case 11:n.src=o.src,this.assetUri=o.src,n.play(),e.next=19;break;case 16:(u=new Error(\"Can't find a suitable media to play\")).code=403,this[Gr].handleMetric(Wr,u);case 19:this[Dr].started=!0;case 20:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"resume\",value:function(){return this.videoAdContainer.videoElement.play()}},{key:\"pause\",value:function(){this.videoAdContainer.videoElement.pause()}},{key:\"paused\",value:function(){return this.videoAdContainer.videoElement.paused}},{key:\"setVolume\",value:function(e){this.videoAdContainer.videoElement.volume=e}},{key:\"getVolume\",value:function(){return this.videoAdContainer.videoElement.volume}},{key:\"cancel\",value:function(){this[Dr].throwIfFinished(),this.videoAdContainer.videoElement.pause(),this[Dr].finish()}},{key:\"duration\",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.duration:0}},{key:\"currentTime\",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.currentTime:0}},{key:\"resize\",value:function(){var e=D(f.mark(function e(r,n,i){var o,a,u,s,c;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"resize\",this).call(this,r,n,i);case 2:this.isStarted()&&!this.isFinished()&&(o=this.vastChain[0].ad,a=this.videoAdContainer,u=a.videoElement,s=a.element,c=We(o,u,s),Boolean(c)&&u.src!==c.src&&xt(u,c));case 3:case\"end\":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(),Zr=[\"text/javascript\",\"text/javascript1.0\",\"text/javascript1.2\",\"text/javascript1.4\",\"text/jscript\",\"application/javascript\",\"application/x-javascript\",\"text/ecmascript\",\"text/ecmascript1.0\",\"text/ecmascript1.2\",\"text/ecmascript1.4\",\"text/livescript\",\"application/ecmascript\",\"application/x-ecmascript\"],Yr=function(e){var t=e.type;return Zr.some(function(e){return e===t})},Xr=function(){var e=D(f.mark(function e(t,r){var n,i,o,a;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(pe(t[0].ad)||[]).filter(Yr)[0]){e.next=3;break}throw new TypeError(\"VastChain does not contain a supported vpaid creative\");case 3:return i=n.src,o=n.type,e.next=6,r.addScript(i,{type:o});case 6:return a=r.executionContext,e.abrupt(\"return\",a.getVPAIDAd());case 8:case\"end\":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),Jr=\"AdStarted\",qr=\"AdStopped\",$r=\"AdSkipped\",Kr=\"AdDurationChange\",en=\"AdRemainingTimeChange\",tn=\"AdVolumeChange\",rn=\"AdImpression\",nn=\"AdVideoStart\",on=\"AdVideoFirstQuartile\",an=\"AdVideoMidpoint\",un=\"AdVideoThirdQuartile\",sn=\"AdVideoComplete\",cn=\"AdClickThru\",ln=\"AdUserAcceptInvitation\",dn=\"AdUserMinimize\",An=\"AdUserClose\",fn=\"AdPaused\",hn=\"AdPlaying\",pn=\"AdError\",vn=function(e,t,r){return new Promise(function(n,i){var o=void 0,a=function i(){\"number\"==typeof r&&clearTimeout(o),e.unsubscribe(i,t),n()};\"number\"==typeof r&&(o=setTimeout(function(){e.unsubscribe(a,t),i(new Error(\"Timeout waiting for event '\"+t+\"'\"))},r)),e.subscribe(a,t)})},mn=function(e,t,r){for(var n=arguments.length,i=Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=vn(e,r,5e3);return e[t].apply(e,i),a},yn=function(e){var t=e.split(\".\");return parseInt(t[0],10)},gn=function(e,t){var r=e.handshakeVersion(t);if(!function(e,t){var r=yn(t);return!(r<1)&&r<=yn(e)}(t,r))throw new Error(\"Creative Version '\"+r+\"' not supported\");return r},wn=function(e,t,r){var n=t.element,i=n.getBoundingClientRect(),o=i.width,a=i.height,u=_r(o,a),s={slot:function(e,t,r){var n=document.createElement(\"DIV\");return Object.assign(n.style,{border:\"0px\",cursor:\"pointer\",height:r+\"px\",left:\"0px\",margin:\"0px\",padding:\"0px\",position:\"absolute\",top:\"0px\",width:t+\"px\"}),e.appendChild(n),n}(n,o,a),videoSlot:t.videoElement,videoSlotCanAutoPlay:t.isOriginalVideoElement},c=be(r[0].XML);e.initAd(o,a,u,-1,c,s)},bn=h.complete,En=h.mute,kn=h.unmute,Cn=h.skip,xn=h.start,Pn=h.firstQuartile,Tn=h.pause,In=h.resume,Sn=h.impression,Vn=h.midpoint,Bn=h.thirdQuartile,Rn=h.clickThrough,Fn=h.error,On=h.closeLinear,Ln=[\"AdLoaded\",Jr,qr,$r,\"AdSkippableStateChange\",\"AdSizeChange\",\"AdLinearChange\",Kr,\"AdExpandedChange\",en,tn,rn,nn,on,an,un,sn,cn,\"AdInteraction\",ln,dn,An,fn,hn,\"AdLog\",pn].filter(function(e){return\"AdLoaded\"!==e}),_n=Symbol(\"_private\"),Mn=function(e){var t=e instanceof Error&&e||\"string\"==typeof e&&new Error(e)||new Error(\"VPAID general error\");return t.payload=e,t.code||(t.code=901),t},jn=function(e){function t(e,r){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};U(this,t);var o=Z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,i));return o[_n]={evtHandler:(n={},W(n,cn,function(e,t,r){if(r)if(o.paused())o.resume();else{var n=\"string\"==typeof e&&e.length>0?e:me(o.vastChain[0].ad);o.pause(),window.open(n,\"_blank\")}o.emit(Rn,{adUnit:o,type:Rn})}),W(n,Kr,function(){o.emit(at,{adUnit:o,type:at})}),W(n,pn,function(e){o.error=Mn(e),o.errorCode=o.error.code,o[Dr].onErrorCallbacks.forEach(function(e){return e(o.error,{adUnit:o,vastChain:o.vastChain})}),o[Dr].finish(),o.emit(Fn,{adUnit:o,type:Fn})}),W(n,rn,function(){o[_n].videoStart||o[_n].handleVpaidEvt(nn),o.emit(Sn,{adUnit:o,type:Sn})}),W(n,fn,function(){o[_n].paused=!0,o.emit(Tn,{adUnit:o,type:Tn})}),W(n,hn,function(){o[_n].paused=!1,o.emit(In,{adUnit:o,type:In})}),W(n,en,function(){o.emit(at,{adUnit:o,type:at})}),W(n,$r,function(){o.cancel(),o.emit(Cn,{adUnit:o,type:Cn})}),W(n,Jr,function(){o.emit(m,{adUnit:o,type:m})}),W(n,qr,function(){o.emit(qr,{adUnit:o,type:qr}),o[Dr].finish()}),W(n,ln,function(){o.emit(p,{adUnit:o,type:p})}),W(n,An,function(){o.emit(On,{adUnit:o,type:On}),o[Dr].finish()}),W(n,dn,function(){o.emit(v,{adUnit:o,type:v})}),W(n,sn,function(){o.emit(bn,{adUnit:o,type:bn}),o[Dr].finish()}),W(n,on,function(){o.emit(Pn,{adUnit:o,type:Pn})}),W(n,an,function(){o.emit(Vn,{adUnit:o,type:Vn})}),W(n,nn,function(){o[_n].videoStart||(o[_n].videoStart=!0,o[_n].paused=!1,o.emit(xn,{adUnit:o,type:xn}))}),W(n,un,function(){o.emit(Bn,{adUnit:o,type:Bn})}),W(n,tn,function(){var e=o.getVolume();o.emit(it,{adUnit:o,type:it}),0!==e||o[_n].muted||(o[_n].muted=!0,o.emit(En,{adUnit:o,type:En})),e>0&&o[_n].muted&&(o[_n].muted=!1,o.emit(kn,{adUnit:o,type:kn}))}),n),handleVpaidEvt:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=o[_n].evtHandler[e];i&&i.apply(void 0,r),o.emit(e,{adUnit:o,type:e})},muted:!1,paused:!0},o.type=\"VPAID\",o.creativeAd=null,o[_n].loadCreativePromise=Xr(e,r),o}return z(t,Ur),Q(t,[{key:\"start\",value:function(){var e=D(f.mark(function e(){var t,r,n,i,o,a,u,s,c,l=this;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Dr].throwIfFinished(),!this.isStarted()){e.next=3;break}throw new Error(\"VpaidAdUnit already started\");case 3:return e.prev=3,e.next=6,this[_n].loadCreativePromise;case 6:for(this.creativeAd=e.sent,t=vn(this.creativeAd,\"AdLoaded\"),r=!0,n=!1,i=void 0,e.prev=11,o=Ln[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)u=a.value,this.creativeAd.subscribe(this[_n].handleVpaidEvt.bind(this,u),u);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),n=!0,i=e.t0;case 19:e.prev=19,e.prev=20,!r&&o.return&&o.return();case 22:if(e.prev=22,!n){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return this.creativeAd.getAdIcons&&!this.creativeAd.getAdIcons()&&(this.icons=null),gn(this.creativeAd,\"2.0\"),wn(this.creativeAd,this.videoAdContainer,this.vastChain),e.next=32,t;case 32:if(this.videoAdContainer.isDestroyed()){e.next=48;break}return e.prev=33,(s=this.videoAdContainer.videoElement).muted?(this[_n].muted=!0,this.setVolume(0)):this.setVolume(s.volume),e.next=38,mn(this.creativeAd,\"startAd\",Jr);case 38:if(!this.icons){e.next=42;break}return c=function(){var e=D(f.mark(function e(){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.isFinished()){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,l[Dr].drawIcons();case 4:l[Dr].hasPendingIconRedraws()&&!l.isFinished()&&setTimeout(c,500);case 5:case\"end\":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}(),e.next=42,c();case 42:this[Dr].started=!0,e.next=48;break;case 45:e.prev=45,e.t1=e.catch(33),this.cancel();case 48:return e.abrupt(\"return\",this);case 51:throw e.prev=51,e.t2=e.catch(3),this[_n].handleVpaidEvt(pn,e.t2),e.t2;case 55:case\"end\":return e.stop()}},e,this,[[3,51],[11,15,19,27],[20,,22,26],[33,45]])}));return function(){return e.apply(this,arguments)}}()},{key:\"resume\",value:function(){this.creativeAd.resumeAd()}},{key:\"pause\",value:function(){this.creativeAd.pauseAd()}},{key:\"paused\",value:function(){return this.isFinished()||this[_n].paused}},{key:\"setVolume\",value:function(e){this.creativeAd.setAdVolume(e)}},{key:\"getVolume\",value:function(){return this.creativeAd.getAdVolume()}},{key:\"cancel\",value:function(){var e=D(f.mark(function e(){var t;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this[Dr].throwIfFinished(),e.prev=1,t=vn(this.creativeAd,qr,3e3),this.creativeAd.stopAd(),e.next=6,t;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this[Dr].finish();case 11:case\"end\":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:\"duration\",value:function(){if(!this.creativeAd)return 0;var e=this.creativeAd.getAdDuration();return e<0?0:e}},{key:\"currentTime\",value:function(){if(!this.creativeAd)return 0;var e=this.creativeAd.getAdRemainingTime();return e<0?0:this.duration()-e}},{key:\"resize\",value:function(){var e=D(f.mark(function e(r,n,i){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"resize\",this).call(this,r,n,i);case 2:return e.abrupt(\"return\",mn(this.creativeAd,\"resizeAd\",\"AdSizeChange\",r,n,i));case 3:case\"end\":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(),Nn=function(e,t,r){var n=r.tracker,i=\"VPAID\"===r.type?new jn(e,t,r):new zr(e,t,r);return Object.values(h).forEach(function(t){return i.on(t,function(t){var r=t.type,o={data:t.data,errorCode:i.errorCode,tracker:n};!function(e,t,r){var n=r.data,i=r.errorCode,o=r.tracker,a=void 0===o?Ce:o,u=r.logger,s=void 0===u?console:u,c=Ie[e];c?c(t,{data:H({},n,{errorCode:i}),errorCode:i,tracker:a}):s.error(\"Event '\"+e+\"' cannot be tracked\")}(r,e,o)})}),Object.values(y).forEach(function(t){return i.on(t,function(t){var r={data:t.data,tracker:n};!function(e,t,r){var n=r.data,i=r.tracker,o=void 0===i?Ce:i,a=r.logger,u=void 0===a?console:a,s=Ve[e];s?s(t,{data:H({},n),tracker:o}):u.error(\"Event '\"+e+\"' cannot be tracked\")}(t.type,e,r)})}),i},Dn=function(e,t){if(!Array.isArray(e)||0===e.length)throw new TypeError(\"Invalid vastChain\");if(!(t instanceof De))throw new TypeError(\"Invalid VideoAdContainer\")},Un=function(e,t){var r=fe(e);return!!r&&r.some(function(e){return Qe(t,e)})},Qn=function(e,t){var r=t.onAdReady;return new Promise(function(t,n){var i=function(e){return function(){return n(new Error(\"Ad unit start rejected due to event '\"+e+\"'\"))}};e.onError(n),e.on(\"start\",function(){return t(e)}),e.on(An,i(An)),e.on(\"closeLinear\",i(\"closeLinear\")),e.on(qr,i(qr)),r(e),e.start()})},Wn=function(e,t,r){if(n=e[0].ad,!Boolean(pe(n)))throw new Error(\"No valid creative found in the passed VAST chain\");var n,i=Nn(e,t,H({},r,{type:\"VPAID\"}));return Qn(i,r)},Hn=function(e,t,r){var n=Nn(e,t,H({},r,{type:\"VAST\"}));return Qn(n,r)},Gn=function(){var e=D(f.mark(function e(t,r,n){return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Dn(t,r),e.prev=1,e.next=4,Wn(t,r,n);case 4:return e.abrupt(\"return\",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!Un(t[0].ad,r.videoElement)){e.next=11;break}return e.abrupt(\"return\",Hn(t,r,n));case 11:throw e.t0;case 12:case\"end\":return e.stop()}},e,void 0,[[1,7]])}));return function(t,r,n){return e.apply(this,arguments)}}(),zn=function(){var e=D(f.mark(function e(t,r,n){var i,o,a,u,s,c,l;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0,e.prev=1,o=n.timeout,i=Ue(r,n.videoElement),a=Gn(t,i,n),\"number\"==typeof o&&(u=!1,s=void 0,c=new Promise(function(e,r){s=setTimeout(function(){var e=n.tracker;xe(t,{errorCode:402,tracker:e}),u=!0,r(new Error(\"Timeout while starting the ad\"))},n.timeout)}),a=Promise.race([a.then(function(e){return u?e.isStarted()&&e.cancel():clearTimeout(s),e}),c])),e.next=8,a;case 8:return l=e.sent,e.abrupt(\"return\",{adUnit:l,destroy:function(){return i.destroy()}});case 12:throw e.prev=12,e.t0=e.catch(1),i&&i.destroy(),e.t0;case 16:case\"end\":return e.stop()}},e,void 0,[[1,12]])}));return function(t,r,n){return e.apply(this,arguments)}}(),Zn=function(){var e=D(f.mark(function e(t){var r,n,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={credentials:\"include\"},n=Object.assign({},r,a),e.next=4,window.fetch(t,n);case 4:if(!((i=e.sent).status>=400)){e.next=9;break}throw(o=new Error(i.statusText)).response=i,o;case 9:return e.abrupt(\"return\",i);case 10:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),Yn=Symbol(\"requested\"),Xn=function(e){e[Yn]=!0},Jn=function(e,t){var r=t.wrapperLimit,n=void 0===r?5:r;if(e.length>n){var i=new Error(\"Wrapper Limit reached\");throw i.code=304,i}},qn=function(){var e=D(f.mark(function e(t,r){var n,i;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zn(t,r);case 3:return n=e.sent,e.next=6,n.text();case 6:return i=e.sent,e.abrupt(\"return\",i);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.code=502,e.t0;case 14:case\"end\":return e.stop()}},e,void 0,[[0,10]])}));return function(t,r){return e.apply(this,arguments)}}(),$n=function(e){try{return O(e)}catch(e){throw e.code=100,e}},Kn=function(e){try{var t=ae(e);if(Boolean(t))return Xn(t),t;throw new Error(\"No Ad\")}catch(e){throw e.code=303,e}},ei=function(e,t){var r=e.ad,n=e.parsedXML,i=t.allowMultipleAds,o=void 0===i||i,a=t.followAdditionalWrappers,u=void 0===a||a;if(!ue(r)&&!se(r)){var s=new Error(\"Invalid VAST, ad contains neither Wrapper nor Inline\");throw s.code=101,s}if(oe(n)&&!o){var c=new Error(\"Multiple ads are not allowed\");throw c.code=203,c}if(ue(r)&&!u){var l=new Error(\"To follow additional wrappers is not allowed\");throw l.code=200,l}},ti=function(e,t){var r=e[0],n=Boolean(r)&&ue(r.ad)?le(r.ad):{};return H({},n,t)},ri=(fr=D(f.mark(function e(t,r){var n,i,o,a,u,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={ad:null,errorCode:null,parsedXML:null,requestTag:t,XML:null},i=void 0,o=void 0,a=void 0,e.prev=4,i=ti(s,r),Jn(s,i),u=qn(t,i),\"number\"==typeof i.timeout&&(a=i.timeout,o=Date.now(),u=Promise.race([u,new Promise(function(e,t){setTimeout(function(){var e=new Error(\"RequestAd timeout\");e.code=301,t(e)},a)})])),e.next=11,u;case 11:if(n.XML=e.sent,n.parsedXML=$n(n.XML),n.ad=Kn(n.parsedXML),ei(n,i),!ue(n.ad)){e.next=18;break}return o&&(a-=Date.now()-o),e.abrupt(\"return\",ri(ce(n.ad),H({},i,{timeout:a}),[n].concat(X(s))));case 18:return e.abrupt(\"return\",[n].concat(X(s)));case 21:return e.prev=21,e.t0=e.catch(4),Number.isInteger(e.t0.code)||(e.t0.code=900),n.errorCode=e.t0.code,n.error=e.t0,e.abrupt(\"return\",[n].concat(X(s)));case 27:case\"end\":return e.stop()}},e,void 0,[[4,21]])})),function(e,t){return fr.apply(this,arguments)}),ni=function(e,t){var r=e.ad,n=e.parsedXML,i=t.fallbackOnNoAd,o=void 0===i||i,a=t.useAdBuffet,u=void 0!==a&&a,s=te(n).filter(function(e){return!Boolean(e[Yn])}),c=null;return oe(n)?(u&&(c=s.filter(function(e){return!ie(e)})[0]),c||(c=function(e,t){var r=ne(e)+1;return t.find(function(e){return ne(e)===r})||null}(r,s))):s.length>0&&o&&(c=s[0]),c},ii=function e(t,r){!function(e){if(!Array.isArray(e))throw new TypeError(\"Invalid VAST chain\");if(0===e.length)throw new Error(\"No next ad to request\")}(t);var n=t[0],i=ni(n,r);if(Boolean(i)){var o=[Object.assign({},n,{ad:i})].concat(X(t.slice(1)));return Xn(i),ue(i)?ri(ce(i),r,o):Promise.resolve(o)}return e(t.slice(1),r)},oi=function(e,t){if(!e||0===e.length)throw new Error(\"Invalid VastChain\");var r=e[0];if(!t.vpaidEnabled&&function(e){return Boolean(pe(e[0].ad))}(e)){var n=new Error(\"VPAID ads are not supported by the current player\");n.code=200,r.errorCode=200,r.error=n}if(Boolean(r.error))throw r.error;t.hooks&&\"function\"==typeof t.hooks.validateVastResponse&&t.hooks.validateVastResponse(e)},ai=function(e){return function(){\"function\"==typeof e&&e.apply(void 0,arguments)}},ui=function(e,t){return e&&e[0]&&e[0].errorCode||t.code},si=function(e,t){var r=t.hooks;return r&&\"function\"==typeof r.transformVastResponse?r.transformVastResponse(e):e},ci=function(){var e=D(f.mark(function e(t,r,n,i){var o,a,u,s,c,l,d,A,h,p;return f.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0,a=void 0,u=void 0,s=H({},n),c=s.onAdStart,l=s.onError,d=s.onRunFinish,e.prev=5,\"number\"==typeof s.timeout&&(a=Date.now()),e.next=9,t();case 9:if(o=e.sent,!i()){e.next=13;break}return d(),e.abrupt(\"return\");case 13:return a&&(A=Date.now(),s.timeout-=A-a,a=A),oi(o,s),e.next=17,zn(si(o,s),r,H({},s));case 17:if(u=e.sent,!i()){e.next=22;break}return u.cancel(),d(),e.abrupt(\"return\");case 22:u.onError(l),u.onFinish(d),c(u),e.next=38;break;case 27:if(e.prev=27,e.t0=e.catch(5),h=ui(o,e.t0),Boolean(h)&&(p=n.tracker,xe(o,{errorCode:h,tracker:p})),l(e.t0,{adUnit:u,vastChain:o}),!o||i()){e.next=37;break}if(a&&(s.timeout-=Date.now()-a),a&&!(s.timeout>0)){e.next=37;break}return ci(function(){return ii(o,s)},r,H({},s),i),e.abrupt(\"return\");case 37:d();case 38:case\"end\":return e.stop()}},e,void 0,[[5,27]])}));return function(t,r,n,i){return e.apply(this,arguments)}}(),li=function(e,t){var r=e&&T(e,t);if(r)return V(r)},di=function e(t){var r=function(e){var t=S(e);return t&&T(t,\"Pricing\")}(t[0].ad);return r?{pricing:V(r),pricingCurrency:R(r,\"currency\"),pricingModel:R(r,\"model\")}:t.length>1?e(t.slice(1)):{}};r.getDetails=function(e){var t,r,n,i,o,a=e.map(function(e){var t=e.ad;return R(t,\"id\")}),u=e.map(function(e){return function(e){var t=S(e),r=t&&T(t,\"AdSystem\");if(r)return V(r)}(e.ad)}),s=e.map(function(e){var t=e.ad;return M(t)}).filter(function(e){return Boolean(e)}),c=s.map(function(e){return R(e,\"id\")}),l=s.map(function(e){return R(e,\"adId\")}),d=di(e),A=d.pricing,f=d.pricingCurrency,h=d.pricingModel,p=(t=e[0].ad,r=T(t,\"InLine\"),(n=r&&T(r,\"Category\"))?{category:V(n),categoryAuthority:R(n,\"authority\")}:{}),v=p.category,m=p.categoryAuthority,y=S(e[0].ad),g=M(e[0].ad),w=g&&T(g,\"Linear\"),b=li(y,\"AdServingId\"),E=(i=e[0].parsedXML,(o=i&&T(i,\"VAST\"))?R(o,\"version\"):\"unknown\"),k=li(y,\"Advertiser\"),C=li(y,\"AdTitle\"),x=li(y,\"Description\"),P=li(w,\"Duration\"),I=P&&L(P),B=void 0,F=[],O=void 0,_=[],j=void 0,N=[],D=void 0,U=[],Q=void 0,W=void 0,H=void 0,G=void 0,z=[],Z=void 0,X=void 0,J=void 0,q=void 0;if(se(e[0].ad)){var $=Y(a);B=$[0],F=$.slice(1);var K=Y(u);O=K[0],_=K.slice(1);var ee=Y(c);j=ee[0],N=ee.slice(1);var te=Y(l);D=te[0],U=te.slice(1),Q=me(e[0].ad),W=be(e[0].XML);var re=T(g,\"UniversalAdId\");H=V(re),G=R(re,\"idRegistry\"),z=fe(e[0].ad),Z=Boolean(pe(e[0].ad)),J=R(w,\"skipoffset\"),q=L(J),X=Boolean(J)}else ue(e[0].ad)&&(F=a,_=u,N=c,U=l);return{adId:B,adServingId:b,adSystem:O,adTitle:C,advertiser:k,adWrapperCreativeAdIds:U,adWrapperCreativeIds:N,adWrapperIds:F,adWrapperSystems:_,category:v,categoryAuthority:m,clickThroughUrl:Q,creativeAdId:D,creativeData:W,creativeId:j,description:x,duration:P,durationInMs:I,mediaFiles:z,pricing:A,pricingCurrency:f,pricingModel:h,skipOffset:J,skipOffsetInMs:q,skippable:X,universalAdId:H,universalAdIdRegistry:G,vastVersion:E,vpaid:Z}},r.run=zn,r.runWaterfall=function(e,t,r){var n=!1,i=null,o=ai(r.onAdStart),a=H({vpaidEnabled:!0},r,{onAdReady:ai(r.onAdReady),onAdStart:function(e){o(i=e)},onError:ai(r.onError),onRunFinish:ai(r.onRunFinish)});return r.videoElement&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&r.videoElement.load(),ci(function(){return ri(e,a)},t,a,function(){return n}),function(){n=!0,i&&!i.isFinished()&&i.cancel()}},r.requestAd=ri,r.requestNextAd=ii,r.vastSelectors=Ee,e.exports.addOnSkipWrapper=function(e){kt[kt.indexOf(rt)]=e(rt),rt=e(rt)}}(r={exports:{}},r.exports),r.exports),o=(n=i)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,\"default\")?n.default:n,a=(i.getDetails,i.run,i.runWaterfall,i.requestAd,i.requestNextAd,i.vastSelectors,i.addOnSkipWrapper,\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e}),u=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,o){try{var a=t[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n(\"next\",e)},function(e){n(\"throw\",e)});e(u)}(\"next\")})}},s=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)};function A(e,t){var r=void 0,n=void 0,i=0;e.addEventListener(\"timeupdate\",function(){var o=Math.round(e.currentTime);if(function(e){return e.duration-e.currentTime<5}(e)&&o!==i){i=o;var a,u=function(e){var t=f(e),r=t.getContext(\"2d\");return r.drawImage(e,0,0,t.width,t.height),r.getImageData(0,0,t.width,t.height)}(e);r=r||(a=u.data.length,Array.from(new Set(new Array(20).fill(null).map(function(){return Math.floor(Math.random()*(a/4))}))));var s=function(e,t){return t.map(function(e){return[4*e,4*e+1,4*e+2]}).map(function(t){return t.map(function(t){return e[t]})}).map(function(e,t,r){return 0===t?void 0:(n=r[t-1],i=e,o=l(n,3),a=o[0],u=o[1],s=o[2],c=l(i,3),d=c[0],A=c[1],f=c[2],h=Math.pow(d-a,2),p=Math.pow(A-u,2),v=Math.pow(f-s,2),Math.sqrt(h+p+v));var n,i,o,a,u,s,c,d,A,f,h,p,v}).filter(function(e){return!!e}).reduce(h,0)}(Array.from(u.data),r);s<n||(t(function(e,t){var r=f(e);return r.getContext(\"2d\").putImageData(t,0,0),r.toDataURL()}(e,u)),n=s)}})}function f(e){var t=document.createElement(\"canvas\");return t.width=e.videoWidth,t.height=e.videoHeight,t}function h(e,t,r,n){return e+t/n.length}function p(e,t){v(e+\" { \"+function(e){var t=document.createElement(\"span\");return Object.keys(e).forEach(function(r){var n=e[r];\"content\"===r&&(n=\"'\"+n+\"'\"),t.style[r]=\"number\"==typeof n?n+\"px\":n}),t.style.cssText.replace(/;( |$)/g,\" !important; \")}(t)+\" }\"),function(e){return Object.keys(e).filter(function(t){return\"object\"===a(e[t])})}(t).forEach(function(r){p(function(e,t){var r=function(e){return[\"before\",\"after\",\"hover\"].indexOf(e)>=0}(t)?\":\":\".\";return\"\"+e+r+t}(e,r),t[r])})}function v(e){var t=document.createElement(\"style\");t.innerHTML=e,document.head.appendChild(t)}var m=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)},y=\"object\"==typeof t&&t&&t.Object===Object&&t,g=\"object\"==typeof self&&self&&self.Object===Object&&self,w=y||g||Function(\"return this\")(),b=function(){return w.Date.now()},E=/\\s/;var k=function(e){for(var t=e.length;t--&&E.test(e.charAt(t)););return t},C=/^\\s+/;var x=function(e){return e?e.slice(0,k(e)+1).replace(C,\"\"):e},P=w.Symbol,T=Object.prototype,I=T.hasOwnProperty,S=T.toString,V=P?P.toStringTag:void 0;var B=function(e){var t=I.call(e,V),r=e[V];try{e[V]=void 0;var n=!0}catch(e){}var i=S.call(e);return n&&(t?e[V]=r:delete e[V]),i},R=Object.prototype.toString;var F=function(e){return R.call(e)},O=\"[object Null]\",L=\"[object Undefined]\",_=P?P.toStringTag:void 0;var M=function(e){return null==e?void 0===e?L:O:_&&_ in Object(e)?B(e):F(e)};var j=function(e){return null!=e&&\"object\"==typeof e},N=\"[object Symbol]\";var D=function(e){return\"symbol\"==typeof e||j(e)&&M(e)==N},U=NaN,Q=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,H=/^0o[0-7]+$/i,G=parseInt;var z=function(e){if(\"number\"==typeof e)return e;if(D(e))return U;if(m(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=x(e);var r=W.test(e);return r||H.test(e)?G(e.slice(2),r?2:8):Q.test(e)?U:+e},Z=\"Expected a function\",Y=Math.max,X=Math.min;var J,q=function(e,t,r){var n,i,o,a,u,s,c=0,l=!1,d=!1,A=!0;if(\"function\"!=typeof e)throw new TypeError(Z);function f(t){var r=n,o=i;return n=i=void 0,c=t,a=e.apply(o,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-c>=o}function p(){var e=b();if(h(e))return v(e);u=setTimeout(p,function(e){var r=t-(e-s);return d?X(r,o-(e-c)):r}(e))}function v(e){return u=void 0,A&&n?f(e):(n=i=void 0,a)}function y(){var e=b(),r=h(e);if(n=arguments,i=this,s=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(p,t),l?f(e):a}(s);if(d)return clearTimeout(u),u=setTimeout(p,t),f(s)}return void 0===u&&(u=setTimeout(p,t)),a}return t=z(t)||0,m(r)&&(l=!!r.leading,o=(d=\"maxWait\"in r)?Y(z(r.maxWait)||0,t):o,A=\"trailing\"in r?!!r.trailing:A),y.cancel=function(){void 0!==u&&clearTimeout(u),c=0,n=s=i=u=void 0},y.flush=function(){return void 0===u?a:v(b())},y},$=(J=u(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=function(){var e=t.getBoundingClientRect(),r=e.width,n=e.height;return!!r&&!!n&&!!window.visibleAtLeastOnce})()){e.next=3;break}return e.abrupt(\"return\");case 3:return e.abrupt(\"return\",new Promise(function(e){var t=setInterval(function(){r()&&(clearInterval(t),e())},100)}));case 4:case\"end\":return e.stop()}},e,this)})),function(e){return J.apply(this,arguments)});function K(e){var t=e.parsedVast,r=e.log,n=function(e){return e.map(function(e){return function(e){var t=e.verificationEl,r=e.log,n=function(e){return(e.elements.find(function(e){return\"text\"===e.type})||{text:\"\"}).text},i=t.elements.find(function(e){return\"javascriptresource\"===e.name}),o=i&&n(i);if(o){var a=t.elements.find(function(e){return\"verificationparameters\"===e.name}),u=a&&n(a);return[o,t.attributes&&t.attributes.vendor,u,\"full\"]}r(\"elementToOMIDVerificationResource\",\"skipping invalid element\",t)}({verificationEl:e,log:r})}).filter(Boolean)},i=t[0].ad.elements.find(function(e){return\"inline\"===e.name});if(!i)return[];var o=i.elements.find(function(e){return\"adverifications\"===e.name});if(o)return n(o.elements);var a=i.elements.find(function(e){return\"extensions\"===e.name}),u=a&&a.elements.find(function(e){return\"extension\"===e.name&&e.attributes&&\"adverifications\"===e.attributes.type.toLowerCase()}),s=u&&u.elements.find(function(e){return\"adverifications\"===e.name});return s?n(s.elements):[]}function ee(e){var t=e.parsedVast[0].ad,r=t&&t.elements.find(function(e){return\"inline\"===e.name}),n=r&&r.elements.find(function(e){return\"creatives\"===e.name}),i=n&&n.elements.find(function(e){return\"creative\"===e.name}),o=i&&i.elements.find(function(e){return\"linear\"===e.name}),a=(o&&o.attributes||{}).skipoffset;if(!a)return{isSkippable:!1,skipOffset:0};var u=a.split(\":\").map(Number).reduce(function(e,t){return 60*e+t},0);return{isSkippable:u>0,skipOffset:u}}var te,re=(te=u(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,u,s,c,l,A,f,h,p,v,m,y,g,w,b,E,k,C=t.parsedVast,x=t.videoElement,P=t.addVastEventListener,T=t.adEndedPromise,I=t.isInstream,S=t.instreamAdBreakType,V=t.autoplay,B=t.log;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(x);case 2:if(r=window.OmidSessionClient&&window.OmidSessionClient.default){e.next=6;break}return B(\"warn\",\"OMID library not found\"),e.abrupt(\"return\");case 6:if(n=r.AdSession,i=r.Partner,o=r.Context,a=r.VastProperties,u=r.VerificationScriptResource,s=r.AdEvents,c=r.MediaEvents,l=new i(\"Carodaio\",\"1.0.0\"),A=K({parsedVast:C,log:B}),f=A.map(function(e){return new(Function.prototype.bind.apply(u,[null].concat(d(e))))}),h=window.top,(p=new o(l,f,h.location.href)).setVideoElement(x),p.setServiceWindow(h),(v=new n(p)).setCreativeType(\"video\"),v.setImpressionType(\"viewable\"),v.isSupported()){e.next=20;break}return B(\"warn\",\"OMID service script communication failed\"),e.abrupt(\"return\");case 20:return v.start(),m=new s(v),y=new c(v),g=ee({parsedVast:C}),w=g.isSkippable,b=g.skipOffset,E=new a(w,b,V,I?S:\"standalone\"),m.loaded(E),k=function(){return!x.muted*x.volume},P(\"impression\",function(){return m.impressionOccurred()}),P(\"start\",function(){return y.start(x.duration,k())}),P(\"firstQuartile\",function(){return y.firstQuartile()}),P(\"midpoint\",function(){return y.midpoint()}),P(\"thirdQuartile\",function(){return y.thirdQuartile()}),P(\"complete\",function(){return y.complete()}),P(\"clickThrough\",function(){return y.adUserInteraction(\"click\")}),x.addEventListener(\"volumechange\",q(function(){return y.volumeChange(k())},100)),e.next=38,T;case 38:v.finish();case 39:case\"end\":return e.stop()}},e,this)})),function(e){return te.apply(this,arguments)});function ne(e){return function(){return!e.apply(e,arguments)}}function ie(e){return new Promise(function(t){var r=setInterval(function(){e()&&(clearInterval(r),t())})})}var oe=function(){function e(t){var r=this,n=t.adPlayer,i=t.getVideoElement,o=t.log;s(this,e),this.adPlayer=n,this.getVideoElement=i,this.currentTime=this.getVideoElement().currentTime,this.log=o,this.playAdErrorCount=0,this.forceStarted=!1,this.lastVolume=void 0,setInterval(function(){return r.setVolume(r.lastVolume)},100)}return c(e,[{key:\"shouldForceStart\",value:function(){return this.adPlayer.creativeAd&&this.adPlayer.creativeAd.startAd&&!this.getVideoElement().src&&!this.forceStarted}},{key:\"forceStart\",value:function(){this.forceStarted=!0,this.adPlayer.creativeAd.startAd()}},{key:\"getDimensions\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(function(){return a.getVideoElement().duration>1&&a.getVideoElement().currentTime>0});case 2:return t=this.vastMediaFiles(),r=this.getVideoElement(),n=t.find(function(e){return e.innerText===r.src}),i=r.videoWidth||n&&+n.width||16,o=r.videoHeight||n&&+n.height||9,this.log(\"StandardCreativeController\",\".getDimensions\",{mediaFiles:t,mediaFile:n}),e.abrupt(\"return\",{width:i,height:o});case 9:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"getProgress\",value:function(){return{currentTime:this.getVideoElement().currentTime,duration:this.getVideoElement().duration}}},{key:\"shouldThrowIfRewind\",value:function(){return\"VPAID\"===this.adPlayer.type}},{key:\"playAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.adPlayer.paused()){e.next=3;break}return e.next=3,Promise.resolve(this.adPlayer.resume());case 3:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"pauseAd\",value:function(){this.getVideoElement().readyState<2||this.adPlayer&&!this.adPlayer.paused()&&this.adPlayer.pause()}},{key:\"setVolume\",value:function(e){isNaN(e)||(this.lastVolume=e,!!this.getVideoElement().src&&(this.adPlayer.setVolume(this.lastVolume),this.getVideoElement().muted=0===this.lastVolume,this.lastVolume=void 0))}},{key:\"resize\",value:function(e){e.width,e.height}},{key:\"shouldNotifyAdEnded\",value:function(){return!0}},{key:\"waitBeforeTracking\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"vastMediaFiles\",value:function(){try{return this.adPlayer.vastChain[0].ad.elements.find(function(e){return\"inline\"===e.name}).elements.find(function(e){return\"creatives\"===e.name}).elements.find(function(e){return\"creative\"===e.name}).elements.find(function(e){return\"linear\"===e.name}).elements.find(function(e){return\"mediafiles\"===e.name}).elements.map(function(e){return Object.assign(e.attributes,{innerText:e.elements.find(function(e){return\"text\"===e.type}).text})})}catch(e){return this.log(\"AdController\",\".vastMediaFiles\",\"Could not fetch vast media file info\",e.message,e.stack),[]}}}]),e}(),ae=Array.isArray,ue=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,se=/^\\w*$/;var ce=function(e,t){if(ae(e))return!1;var r=typeof e;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=e&&!D(e))||se.test(e)||!ue.test(e)||null!=t&&e in Object(t)},le=\"[object AsyncFunction]\",de=\"[object Function]\",Ae=\"[object GeneratorFunction]\",fe=\"[object Proxy]\";var he,pe=function(e){if(!m(e))return!1;var t=M(e);return t==de||t==Ae||t==le||t==fe},ve=w[\"__core-js_shared__\"],me=(he=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+he:\"\";var ye=function(e){return!!me&&me in e},ge=Function.prototype.toString;var we=function(e){if(null!=e){try{return ge.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"},be=/^\\[object .+?Constructor\\]$/,Ee=Function.prototype,ke=Object.prototype,Ce=Ee.toString,xe=ke.hasOwnProperty,Pe=RegExp(\"^\"+Ce.call(xe).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");var Te=function(e){return!(!m(e)||ye(e))&&(pe(e)?Pe:be).test(we(e))};var Ie=function(e,t){return null==e?void 0:e[t]};var Se=function(e,t){var r=Ie(e,t);return Te(r)?r:void 0},Ve=Se(Object,\"create\");var Be=function(){this.__data__=Ve?Ve(null):{},this.size=0};var Re=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Fe=\"__lodash_hash_undefined__\",Oe=Object.prototype.hasOwnProperty;var Le=function(e){var t=this.__data__;if(Ve){var r=t[e];return r===Fe?void 0:r}return Oe.call(t,e)?t[e]:void 0},_e=Object.prototype.hasOwnProperty;var Me=function(e){var t=this.__data__;return Ve?void 0!==t[e]:_e.call(t,e)},je=\"__lodash_hash_undefined__\";var Ne=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ve&&void 0===t?je:t,this};function De(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}De.prototype.clear=Be,De.prototype.delete=Re,De.prototype.get=Le,De.prototype.has=Me,De.prototype.set=Ne;var Ue=De;var Qe=function(){this.__data__=[],this.size=0};var We=function(e,t){return e===t||e!=e&&t!=t};var He=function(e,t){for(var r=e.length;r--;)if(We(e[r][0],t))return r;return-1},Ge=Array.prototype.splice;var ze=function(e){var t=this.__data__,r=He(t,e);return!(r<0||(r==t.length-1?t.pop():Ge.call(t,r,1),--this.size,0))};var Ze=function(e){var t=this.__data__,r=He(t,e);return r<0?void 0:t[r][1]};var Ye=function(e){return He(this.__data__,e)>-1};var Xe=function(e,t){var r=this.__data__,n=He(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Je(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Je.prototype.clear=Qe,Je.prototype.delete=ze,Je.prototype.get=Ze,Je.prototype.has=Ye,Je.prototype.set=Xe;var qe=Je,$e=Se(w,\"Map\");var Ke=function(){this.size=0,this.__data__={hash:new Ue,map:new($e||qe),string:new Ue}};var et=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e};var tt=function(e,t){var r=e.__data__;return et(t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map};var rt=function(e){var t=tt(this,e).delete(e);return this.size-=t?1:0,t};var nt=function(e){return tt(this,e).get(e)};var it=function(e){return tt(this,e).has(e)};var ot=function(e,t){var r=tt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function at(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}at.prototype.clear=Ke,at.prototype.delete=rt,at.prototype.get=nt,at.prototype.has=it,at.prototype.set=ot;var ut=at,st=\"Expected a function\";function ct(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(st);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(ct.Cache||ut),r}ct.Cache=ut;var lt=ct,dt=500;var At=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,ft=/\\\\(\\\\)?/g,ht=function(e){var t=lt(e,function(e){return r.size===dt&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(At,function(e,r,n,i){t.push(n?i.replace(ft,\"$1\"):r||e)}),t});var pt=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},vt=1/0,mt=P?P.prototype:void 0,yt=mt?mt.toString:void 0;var gt=function e(t){if(\"string\"==typeof t)return t;if(ae(t))return pt(t,e)+\"\";if(D(t))return yt?yt.call(t):\"\";var r=t+\"\";return\"0\"==r&&1/t==-vt?\"-0\":r};var wt=function(e){return null==e?\"\":gt(e)};var bt=function(e,t){return ae(e)?e:ce(e,t)?[e]:ht(wt(e))},Et=1/0;var kt=function(e){if(\"string\"==typeof e||D(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-Et?\"-0\":t};var Ct=function(e,t){for(var r=0,n=(t=bt(t,e)).length;null!=e&&r<n;)e=e[kt(t[r++])];return r&&r==n?e:void 0};var xt=function(e,t,r){var n=null==e?void 0:Ct(e,t);return void 0===n?r:n};var Pt=function(){function e(t){var r=this,n=t.adPlayer;s(this,e),this.adPlayer=n,this.playing=!1,this.adPlayer.on(\"start\",function(){r.playing?r.playAd():r.pauseAd()}),this.lastVolume=void 0,setInterval(function(){return r.setVolume(r.lastVolume)},100)}return c(e,[{key:\"shouldForceStart\",value:function(){return!1}},{key:\"forceStart\",value:function(){throw new Error(\"not implemented!\")}},{key:\"getDimensions\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t,r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return n.adPlayer.on(\"start\",e)});case 2:return t=xt(this.adPlayer,\"creativeAd._clip.width\")||this.adPlayer.creativeAd.getAdWidth(),r=xt(this.adPlayer,\"creativeAd._clip.height\")||this.adPlayer.creativeAd.getAdWidth(),e.abrupt(\"return\",{width:t,height:r});case 5:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"getProgress\",value:function(){return{currentTime:this.adPlayer.currentTime(),duration:this.adPlayer.duration()}}},{key:\"shouldThrowIfRewind\",value:function(){return!1}},{key:\"resize\",value:function(e){var t=e.width,r=e.height;this.adPlayer.creativeAd.resizeAd(t,r)}},{key:\"shouldNotifyAdEnded\",value:function(){return!1}},{key:\"playAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.playing=!0,this.adPlayer.creativeAd&&!this.areVideoElementsPlaying()){e.next=3;break}return e.abrupt(\"return\");case 3:return e.next=5,this.playVideoElements();case 5:this.adPlayer.creativeAd.resumeAd();case 6:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"pauseAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.playing=!1,this.adPlayer.creativeAd&&this.areVideoElementsPlaying()){e.next=3;break}return e.abrupt(\"return\");case 3:return e.next=5,this.pauseVideoElements();case 5:this.adPlayer.creativeAd.pauseAd();case 6:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"setVolume\",value:function(e){isNaN(e)||(this.lastVolume=e,!!this.adPlayer.creativeAd&&(this.adPlayer.creativeAd.setAdVolume(this.lastVolume),this.lastVolume=void 0))}},{key:\"redirectLogs\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=document.querySelector(\".bb_wrapper\");if(e)return e.parentElement.querySelector(\"iframe\")},e.next=3,ie(r);case 3:[\"log\",\"error\",\"debug\"].forEach(function(e){return r().contentWindow.console[e]=t.bind(t,\"console.\"+e)});case 5:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"waitBeforeTracking\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(\"impression\"===t){e.next=2;break}return e.abrupt(\"return\");case 2:return e.abrupt(\"return\",ie(window.isPlayerInViewport));case 3:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"areVideoElementsPlaying\",value:function(){var e=this.getVideoElement();return this.isVideoElementReady(e)&&!e.paused}},{key:\"playVideoElements\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getVideoElement(),this.isVideoElementReady(t)){e.next=3;break}return e.abrupt(\"return\");case 3:return e.abrupt(\"return\",t.play());case 4:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"pauseVideoElements\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getVideoElement(),this.isVideoElementReady(t)){e.next=3;break}return e.abrupt(\"return\");case 3:return e.abrupt(\"return\",t.pause());case 4:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"isVideoElementReady\",value:function(e){return e&&e.readyState>=2}},{key:\"getVideoElement\",value:function(){return document.querySelector(\".bb-timeline-layer video\")}}]),e}(),Tt={type:\"video/mp4\",base64:\"AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAABa9tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MyByMzA2MCA1ZGI2YWE2IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAAhBmiRsQ3/+4N4EAExhdmM1OC4xMzQuMTAwAAH8YFoYyKEOnAJJdkXcCnXEkgamlqaWqCwaecS7VJqX7FTMGaVrtxwxwxkbDGRsJpJnaRgYGBgYGBgYGBgYGBgYGBgYGBgYGRIkUssssssstQ4AAAAIQZ5CeIV/xIEA/i4EljCOiAOhA055AJKdpmJVBZuXm8AA5CwAliCX7BCZNhEFMdHAAAAACAGeYXRCf8eAAOQrgJYwh+ywc0ZMtvdq4OAAAAAIAZ5jakJ/x4EA5CuAliCP7BjK4h261R4A5CuAljCH7LCb26x7O714cAAAAA5BmmhJqEFomUwIZ//+4QDkK4CWMIfsCFz/AJQlyEWHAAAACkGehkURLCv/xIEA5CuAljCH7NBu1qohQLei4OAA5CuAljCH7NBgrRBGkS9VwcAAAAAIAZ6ldEJ/x4EA5CuAljCH7AhUnQSb1w8sOAAAAAgBnqdqQn/HgADkK4CWMIfssJ/T6mtbuXhwAOQrgJYgj+wY2uYcmNUOAAAADkGarEmoQWyZTAhf//7gAOQrgJYwh+ywd5hoi1uxcHAAAAAKQZ7KRRUsK//EgQDkK4CWMIfsCESZBIsZDSg4AAAACAGe6XRCf8eAAOQrgJYwh+zQYq2OTpjzevDgAOQrgJYwh+zQb9brJTjXkvDgAAAACAGe62pCf8eAAOQrgJYwh+wG7PryERUgFBwAAAAPQZruSahBbJlMFEwn//7BAOQrgJYwh+ywktAF22N2rg4A5CuAliCP7BjJ2h5Xax8AAAAIAZ8NakJ/x4EA5CuAljCH7LB7L0v2/x14cADkK4CWMIfsCFynCJGa6iw4AP4vrShAQIQFpyKF3z7PLr1cAaGhIkSHCkdH12nAKWhII0NCRIk/UFOHh4eH/0zHAP4vqMxhZp0oGjjwSTWtB0UWgRBMtWsjZc59V/m7y6xYHwwwwwwwd5K5AmAA/j/H+OEfw/hABwAAB4Btb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAB/wABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAADWXRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAB9AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAfQAAAQAAAEAAAAAAtFtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAADwAAAAeAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAJ8bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAACPHN0YmwAAADAc3RzZAAAAAAAAAABAAAAsGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAA2YXZjQwFkAAr/4QAZZ2QACqzZX4iIwEQAAAMABAAAAwDwPEiWWAEABmjr48siwP34+AAAAAAQcGFzcAAAAAEAAAABAAAAFGJ0cnQAAAAAAAA4QAAAOEAAAAAYc3R0cwAAAAAAAAABAAAADwAAAgAAAAAUc3RzcwAAAAAAAAABAAAAAQAAAIhjdHRzAAAAAAAAAA8AAAABAAAEAAAAAAEAAAoAAAAAAQAABAAAAAABAAAAAAAAAAEAAAIAAAAAAQAACgAAAAABAAAEAAAAAAEAAAAAAAAAAQAAAgAAAAABAAAKAAAAAAEAAAQAAAAAAQAAAAAAAAABAAACAAAAAAEAAAYAAAAAAQAAAgAAAAAoc3RzYwAAAAAAAAACAAAAAQAAAAIAAAABAAAAAgAAAAEAAAABAAAAUHN0c3oAAAAAAAAAAAAAAA8AAALFAAAADAAAAAwAAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEwAAAAwAAABIc3RjbwAAAAAAAAAOAAAAMAAAA2UAAAOZAAADtgAAA+IAAAQFAAAENwAABFQAAASAAAAEowAABMIAAATyAAAFDwAABUIAAANRdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAgAAAAAAAAH/AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAB/wAABAAAAQAAAAACyW1kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAArEQAAFgAVcQAAAAAAC1oZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU291bmRIYW5kbGVyAAAAAnRtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAjhzdGJsAAAAfnN0c2QAAAAAAAAAAQAAAG5tcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADZlc2RzAAAAAAOAgIAlAAIABICAgBdAFQAAAAABDYgAACABBYCAgAUSCFblAAaAgIABAgAAABRidHJ0AAAAAAABDYgAACABAAAAGHN0dHMAAAAAAAAAAQAAABcAAAQAAAAArHN0c2MAAAAAAAAADQAAAAEAAAABAAAAAQAAAAIAAAACAAAAAQAAAAMAAAABAAAAAQAAAAQAAAACAAAAAQAAAAUAAAABAAAAAQAAAAYAAAACAAAAAQAAAAcAAAABAAAAAQAAAAgAAAACAAAAAQAAAAkAAAABAAAAAQAAAAsAAAACAAAAAQAAAAwAAAABAAAAAQAAAA0AAAACAAAAAQAAAA4AAAAEAAAAAQAAAHBzdHN6AAAAAAAAAAAAAAAXAAAAZAAAABgAAAAQAAAAEQAAAA8AAAARAAAAEQAAABIAAAASAAAAEQAAABEAAAAPAAAAEQAAABEAAAASAAAAEgAAABEAAAARAAAADwAAABEAAAARAAAAMAAAADcAAABIc3RjbwAAAAAAAAAOAAADAQAAA3EAAAOlAAADwgAAA/QAAAQTAAAEQwAABGAAAASSAAAEsQAABM4AAAT+AAAFIgAABU4AAAAac2dwZAEAAAByb2xsAAAAAgAAAAH//wAAABxzYmdwAAAAAHJvbGwAAAABAAAAFwAAAAEAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU4Ljc2LjEwMA==\"};function It(){var e=function(){var e=document.createElement(\"video\");return e.setAttribute(\"playsinline\",!0),e.setAttribute(\"src\",\"data:\"+Tt.type+\";base64,\"+Tt.base64),e.muted=!1,e.volume=1,e}(),t=e.play();return t?Promise.resolve(t).then(function(){return!0}).catch(function(){return!1}).then(function(t){return e.pause(),t}):(e.pause(),Promise.resolve(!1))}o.addOnSkipWrapper(function(e){return function(t,r,n){return window.molSkipOffsetInMs=n.skipoffset,e.apply(this,arguments)}}),window.recentPauseEvents=[],window.recentPlayErrorsWhileMuted=[],window.nativeOpen=window.XMLHttpRequest.prototype.open,window.XMLHttpRequest.prototype.open=function(e,t,r){return t=t.replace(/^\\/\\//,\"https://\"),window.nativeOpen.call(this,e,t,r)};var St=!!window.chrome,Vt=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);function Bt(e){if(e)if(\"mediafiles\"===e.name&&e.elements){var t=function(e){return!!e&&!!e.text&&e.text.trim().length};e.elements=e.elements.filter(ne(function(e){return!t(e)&&function(e){return!e.elements||e.elements.every(ne(t))}(e)})).filter(function(e){return!e.attributes||!e.attributes.type||!e.attributes.type.match(/3gp/)&&!e.attributes.type.match(/mp(e)?g/)})}else\"trackingevents\"===e.name&&e.elements?e.elements=e.elements.filter(function(e){return e.elements&&e.elements.length&&\"text\"===e.elements[0].type&&e.elements[0].text.length>0}):Array.isArray(e)?e.forEach(Bt):Array.isArray(e.elements)&&Bt(e.elements)}var Rt=function(){function e(t){var r=this;s(this,e),this.log(\"AdController\",\".constructor\",t),this.errorCount=0,window.onerror=function(e){return r.log(\"window error\",e),r.errorCount++,r.errorCount>10&&r.errorEvent({message:\"too many window errors: \"+e,vast:r.vast}),!0};var n=t.language&&t.language.toLowerCase()||\"en\";this.instream=t.instream||!1,this.instreamAdBreakType=t.instreamAdBreakType||\"preroll\";var i=t.thumbnailUrl;(this.isDoubleVerify=-1!==t.vast.indexOf(\"vpaid.doubleverify.com/js/vpaid-transformer\"),this.vast=t.vast,this.target=t.target,this.hideSkipButton=t.hideSkipButton,this.topFrameVideoId=t.topFrameVideoId,this.component=new Player({target:t.target,data:this.data}),this.lastUnmutedVolume=t.volume||1,this.eventHandlers=[],this.adSdkDestroy=function(){},this.isSkippable=!1,this.adError=!1,this.adEnded=!1,this.parsedVast=null,this.adEndedPromise=new Promise(function(e){return r.adEndedResolve=e}),window.$=this.component,this.id=t.id,this.playAdErrorCount=0,this.$=this.component,this.$.set({isDoubleVerify:this.isDoubleVerify,language:n,instream:this.instream,thumbnailUrl:i,isMobile:!!navigator.userAgent.match(/iPhone|iPad|Android/i),hideControls:!1,hideCarodaUI:!!t.hideCarodaUI,isPlaying:!1}),this.$.on(\"ad-click\",function(){return r.adClick()}),this.$.on(\"setVolume\",function(e){return r.setVolume(e)}),this.$.on(\"skip\",function(){return r.skip()}),this.$.on(\"toggle-audio\",function(){if(r.startWithLowVolume)return r.startWithLowVolume=void 0,void r.setVolume(1);r.$.get(\"isMuted\")?(r.triggerTrackingEvent(\"unmute\"),r.unmute()):(r.triggerTrackingEvent(\"mute\"),r.mute())}),this.$.on(\"toggle-play\",function(){r.$.get(\"isPlaying\")?(r.userAdPaused=!0,r.pauseAd()):(r.userAdPaused=!1,r.playAd())}),this.$.on(\"toggle-fullscreen\",function(){r.event({type:r.$.get(\"isFullscreen\")?\"unfullscreen\":\"fullscreen\"})}),this.$.on(\"unmuted-overlay-click\",function(){r.triggerTrackingEvent(\"unmute\"),r.unmute(),r.$.set({shouldDisplayUnmuteOverlay:!1})}),this.startTime=Date.now(),this.durationNotified=!1,this.currentTime=0,t.css&&v(t.css),t.styles&&this.setStyles(t.styles),this.keepLastFrame=t.keepLastFrame,this.lastFrame=void 0,this.keepLastFrame)&&A(St&&!Vt?this.getTopFrameVideoElement():this.videoElement(),function(e){r.lastFrame=e,r.hideLastFrameFallback()});t.startWithLowVolume?It().then(function(e){r.log(\"AdController\",\".constructor\",{canStartWithLowVolume:e}),r.startWithLowVolume=e,r.startAd()}):this.startAd(),this.onProgress(),this.listenToChromeHeavyAdIntervention(),this.shouldDisplayUnmuteOverlay=t.unmuteOverlay}return c(e,[{key:\"log\",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.event({type:\"log\",message:(.001*(Date.now()-this.startTime)).toFixed(2)+\"s :: \"+t.map(function(e){if(\"string\"==typeof e)return e;try{return e instanceof Error?e.message+\" :: \"+e.stack+\" :: \"+JSON.stringify(e):JSON.stringify(e)}catch(t){return e.toString()}}).join(\" :: \")})}},{key:\"startAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t,r,n,i,a,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.log(\"AdController\",\".startAd\"),this.adPlayer=null,t=new Blob([this.vast],{type:\"text/xml\"}),r=window.URL.createObjectURL(t),e.next=7,o.requestAd(r,{});case 7:n=e.sent;try{Bt(n[0].ad)}catch(e){this.log(\"warn\",\"AdController\",\".startAd\",\"can not remove invalid elements\",e.message,e.stack)}return this.parsedVast=this.sanitizeParsedVast(n),this.log(\"AdController\",\".startAd\",\"waitForAdReadyTimeout start\"),this.waitForAdReadyTimeout=setTimeout(function(){return u.errorEvent({message:\"Ad ready timeout\"})},3e3),e.next=14,o.run(this.parsedVast,this.target.children[0],{onAdReady:this.onAdReady.bind(this),videoElement:this.videoElement()});case 14:i=e.sent,a=i.destroy,this.adSdkDestroy=a,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),this.errorEvent({message:e.t0.message,vast:this.vast});case 22:case\"end\":return e.stop()}},e,this,[[0,19]])}));return function(){return e.apply(this,arguments)}}()},{key:\"sanitizeParsedVast\",value:function(e){var t=function(e){return e&&e.apiFramework&&\"vpaid\"===e.apiFramework.toLowerCase()},r=e[0].ad,n=o.vastSelectors.getMediaFiles(r);return n.some(t)&&n.some(ne(t))&&K({parsedVast:{parsedVast:e}.parsedVast,log:function(){}}).length&&(this.log(\"warn\",\"AdController\",\".sanitizeParsedVast\",\"VPAID + other media files + OMID detected\"),this.removeVpaid(r)),e}},{key:\"removeVpaid\",value:function(e){var t=function(e){return e&&e.attributes&&e.attributes.apiFramework&&\"vpaid\"===e.attributes.apiFramework.toLowerCase()},r=function(e,t){return e.elements.find((r=t,function(e){return e.name===r}));var r};this.log(\"warn\",\"AdController\",\".removeVpaid\");try{var n=r(e,\"inline\");r(n,\"creatives\").elements.forEach(function(e){var n=r(e,\"linear\"),i=r(n,\"mediafiles\");i.elements=i.elements.filter(ne(t))})}catch(e){this.log(\"warn\",\"AdController\",\".removeVpaid\",e.message,e.stack)}}},{key:\"vastAdSystem\",value:function(){try{return this.adPlayer.vastChain[0].ad.elements.find(function(e){return\"inline\"===e.name}).elements.find(function(e){return\"adsystem\"===e.name}).elements.find(function(e){return\"text\"===e.type}).text}catch(e){return this.log(\"AdController\",\".vastAdSystem\",\"Could not fetch ad system info\",e.message,e.stack),\"unknown\"}}},{key:\"carodaPosterExtension\",value:function(){try{var e=this.adPlayer.vastChain[0].ad.elements.find(function(e){return\"inline\"===e.name}).elements.find(function(e){return\"extensions\"===e.name}).elements.find(function(e){return\"extension\"===e.name&&e.attributes&&\"caroda-poster\"===e.attributes.type}).elements[0].text,t=window.innerWidth-window.innerWidth%10;return e.replace(\"{{PLAYER_WIDTH}}\",t||400)}catch(e){return this.log(\"AdController\",\".carodaPosterExtension\",\"Could not fetch poster\",e.message),null}}},{key:\"trackVideoStart\",value:function(){var e=u(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log(\"AdController\",\".trackVideoStart\"),e.next=3,this.creativeController.getDimensions();case 3:t=e.sent,r=t.width,n=t.height,i=this.getFormat(r,n),this.log(\"AdController\",\".trackVideoStart\",{format:i}),this.event({type:\"adVideoStart\",format:i});case 9:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"getFormat\",value:function(e,t){var r=e/t;this.log(\"AdController\",\".getFormat\",{width:e,height:t,aspectRatio:r});return[[16/9,\"horizontal\"],[9/16,\"vertical\"],[1,\"square\"],[4/3,\"horizontal-4-3\"],[.75,\"vertical-3-4\"]].reduce(function(e,t){var n=l(e,2),i=n[0],o=n[1],a=l(t,2),u=a[0],s=a[1];return Math.abs(u-r)<Math.abs(i-r)?[u,s]:[i,o]})[1]}},{key:\"initPoster\",value:function(){var e=this.carodaPosterExtension();e&&(this.log(\"AdController\",\".initPoster\",\"using poster\",e),this.$.set({poster:e}))}},{key:\"onAdReady\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.log(\"AdController\",\".onAdReady\"),this.vast.indexOf(\"bluebillywig.com/apps/vpaidplayer\")>=0?(this.creativeController=new Pt({adPlayer:t}),this.creativeController.redirectLogs(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.log.apply(r,[\"AdController\"].concat(t))})):this.creativeController=new oe({adPlayer:t,getVideoElement:function(){return r.videoElement()},log:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.log.apply(r,[\"AdController\"].concat(t))}}),this.adPlayer=t,this.isVpaid()?this.log(\"AdController\",\".onAdReady\",\"VPAID ad. Not running OMID\"):(this.shouldDisplayUnmuteOverlay&&this.$.set({displayUnmutedOverlay:!0}),re({isInstream:this.instream,instreamAdBreakType:this.instreamAdBreakType,autoplay:!0,parsedVast:this.parsedVast,videoElement:this.getTopFrameVideoElement(),addVastEventListener:function(e,t){return r.adPlayer.on(e,t)},adEndedPromise:this.adEndedPromise,log:function(){return r.log.apply(r,arguments)}}).catch(function(e){return r.log(\"warn\",\"AdController\",\".startAd\",\"can not register OMID verifiers\",e.message,e.stack)})),this.startWithLowVolume?this.creativeController.setVolume(.01):this.mute(),this.adPlayer.on(\"adProgress\",function(){return r.onProgress()}),setInterval(function(){return r.onProgress()},500),[\"impression\",\"pause\",\"resume\",\"start\",\"thirdQuartile\",\"firstQuartile\",\"midpoint\",\"clickThrough\"].forEach(function(e){return r.adPlayer.on(e,function(){return r.triggerTrackingEvent(e.replace(/[A-Z]/g,function(e){return\"_\"+e.toLowerCase()}))})}),this.adPlayer.on(\"skip\",u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.triggerTrackingEvent(\"skip\");case 2:r.endedEvent();case 3:case\"end\":return e.stop()}},e,r)}))),this.adPlayer.on(\"complete\",u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.isComplete=!0,e.next=3,r.triggerTrackingEvent(\"complete\");case 3:r.creativeController.shouldNotifyAdEnded()&&r.endedEvent();case 4:case\"end\":return e.stop()}},e,r)}))),this.adPlayer.on(\"error\",function(e){return r.errorEvent({message:e.adUnit.error.message,stack:e.adUnit.error.stack})}),this.adPlayer.on(\"pause\",function(){return r.notifyPlayStatus(!1)}),this.adPlayer.on(\"resume\",function(){return r.notifyPlayStatus(!0)}),this.adPlayer.on(\"start\",function(){return r.notifyPlayStatus(!0)}),this.initPoster(),this.trackVideoStart(),this.log(\"AdController\",\".startAd\",\"waitForAdReadyTimeout end\"),clearTimeout(this.waitForAdReadyTimeout);case 19:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"onProgress\",value:function(){if(this.creativeController){if(this.creativeController&&this.creativeController.shouldForceStart()&&this.creativeController.forceStart(),this.isPlayingAudioFile()&&!this.$.get(\"poster\"))return this.errorEvent({message:\"Audio ad without a poster\"});var e=this.creativeController.getProgress(),t=e.currentTime,r=e.duration;if(t&&this.creativeController.shouldThrowIfRewind()&&t<this.currentTime-2)return this.errorEvent({message:\"Current time \"+t+\" when previously it was \"+this.currentTime});this.currentTime=t;var n=this.hideSkipButton,i=(this.isVpaidSkippable()||!!this.defaultSkipButton())&&!this.hideSkipButton,o=this.getSkipTimeInSeconds(),a=this.hideSkipButton||this.isVpaid()&&!this.isVpaidSkippable()?0:o-t;this.$.set({progress:{hideSkipButton:n,currentTime:t,duration:r,skipTimeLeft:a,isSkippable:i}}),r&&!this.durationNotified&&(this.durationNotified=!0,this.event({type:\"duration\",message:r})),t&&this.event({type:\"timeupdate\",message:t})}}},{key:\"adClick\",value:function(){this.log(\"AdController\",\".adClick\"),(document.querySelector(\".mol-vast-clickthrough\")||this.videoElement()).click()}},{key:\"getTopFrameVideoElement\",value:function(){var e=this;return this._topFrameVideoElement||(this._topFrameVideoElement=window.parent.document.getElementById(this.topFrameVideoId),this._topFrameVideoElement.requestFullscreen=function(){return e.log(\"AdController\",\".getTopFrameVideoElement\",\"requestFullscreen\"),Promise.reject(new Error(\"fullscreen not allowed\"))}),this._topFrameVideoElement}},{key:\"videoElement\",value:function(){return this._videoElement||(this._videoElement=this.initializeVideoElement()),this._videoElement}},{key:\"initializeVideoElement\",value:function(){var e=this,t=St&&!Vt?this.getTopFrameVideoElement():this.target.querySelector(\"#caroda-video\"),r=void 0,n=void 0;return t._play=t.play,t.play=u(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=new Promise(function(e){r=e}),i.prev=1,i.next=4,t._play();case 4:i.next=21;break;case 6:return i.prev=6,i.t0=i.catch(1),t.muted&&e.log(\"error while supposedly muted\",i.t0),e.mute(),i.prev=10,i.next=13,t._play();case 13:i.next=21;break;case 15:i.prev=15,i.t1=i.catch(10),e.log(\"error while muted\",i.t1),window.recentPlayErrorsWhileMuted=window.recentPlayErrorsWhileMuted.filter(function(e){return e.ts>Date.now()-1e3}),window.recentPlayErrorsWhileMuted.push({ts:Date.now()}),window.recentPlayErrorsWhileMuted.length>=4&&e.errorEvent({message:\"too many mute + play attempted\"});case 21:r(),n=null;case 23:case\"end\":return i.stop()}},i,e,[[1,6],[10,15]])})),t._pause=t.pause,t.pause=u(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return e.abrupt(\"return\",t._pause());case 3:case\"end\":return e.stop()}},r,e)})),t.volume=0,t}},{key:\"defaultSkipButton\",value:function(){return this.target.querySelector(\".mol-vast-skip-control\")}},{key:\"triggerTrackingEvent\",value:function(){var e=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.creativeController.waitBeforeTracking(t);case 2:this.log(\"AdController\",\".triggerTrackingEvent\",t),\"click_through\"===t&&this.triggerTrackingEvent(\"click_tracking\"),\"impression\"===t&&this.triggerTrackingEvent(\"creative_view\"),\"pause\"===t&&(window.recentPauseEvents=window.recentPauseEvents.filter(function(e){return e.ts>Date.now()-1e3}),window.recentPauseEvents.push({ts:Date.now()}),window.recentPauseEvents.length>=4&&this.errorEvent({message:\"too many pause events\"})),this.event({type:\"tracking\",eventName:t});case 7:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"event\",value:function(e){window.parent.postMessage(this.id+\"://\"+JSON.stringify(e),\"*\")}},{key:\"errorEvent\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adError=!0,this.event(Object.assign({},e,{type:\"adError\"})),this.adEndedResolve()}},{key:\"endedEvent\",value:function(){this.adEnded=!0,this.event({type:\"adEnded\"}),this.adEndedResolve(),this.keepLastFrame&&(this.lastFrame?this.renderFrame(this.lastFrame):this.renderLastFrameFallback())}},{key:\"registerMessageHandler\",value:function(){var e=this;window.addEventListener(\"message\",function(t){try{var r=t.data.match(/^([^:]+):\\/\\/(.*)$/),n=JSON.parse(r[2]);e.eventHandlers.filter(function(e){return e.type===n.type}).forEach(function(e){return e.handler(n)})}catch(e){console.error(e)}})}},{key:\"onEvent\",value:function(e,t){this.eventHandlers.push({type:e,handler:t})}},{key:\"playAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isComplete&&this.creativeController){e.next=2;break}return e.abrupt(\"return\");case 2:return e.prev=2,e.next=5,this.creativeController.playAd();case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(2),this.log(\"AdController\",\".playAd\",Object.assign({message:e.t0.message,stack:e.t0.stack},e.t0)),this.playAdErrorCount++,this.playAdErrorCount>10?this.errorEvent({message:\"too many playAd errors: \"+e.t0.message,vast:this.vast}):this.mute();case 12:case\"end\":return e.stop()}},e,this,[[2,7]])}));return function(){return e.apply(this,arguments)}}()},{key:\"pauseAd\",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.creativeController){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,this.creativeController.pauseAd();case 4:this.notifyPlayStatus(!1);case 5:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"skip\",value:function(){if(this.isVpaidSkippable())return this.skipVpaid();var e=this.defaultSkipButton();this.log(\"AdController\",\".skip\",!!this.el),e&&e.click()}},{key:\"skipVpaid\",value:function(){var e=this;this.log(\"AdController\",\".skipVpaid\"),setTimeout(function(){e.adEnded||e.adError||e.forceSkipVpaid()},1500);var t=function(e){try{return e.contentWindow.getVPAIDAd()}catch(e){return null}},r=Array.from(document.querySelectorAll(\"iframe\")).find(function(e){return!!t(e)});r||this.log(\"AdController\",\".skipVpaid\",\"could not locate vpaid iframe\"),t(r).skipAd()}},{key:\"forceSkipVpaid\",value:function(){this.log(\"AdController\",\".forceSkipVpaid\"),this.event({type:\"skip\"}),this.event({type:\"adEnded\"})}},{key:\"mute\",value:function(){this.log(\"AdController\",\".mute\",!!this.adPlayer),this.setVolume(0)}},{key:\"unmute\",value:function(){this.log(\"AdController\",\".unmute\",!!this.adPlayer),this.startWithLowVolume=void 0,this.setVolume(this.lastUnmutedVolume)}},{key:\"setVolume\",value:function(e){this.log(\"AdController\",\".setVolume\",e),this.creativeController&&this.creativeController.setVolume(e),this.$.set({isMuted:!!this.startWithLowVolume||0===e}),this.lastUnmutedVolume=e>0?e:this.lastUnmutedVolume,this.event({type:\"volumeChanged\",message:e})}},{key:\"setFullscreen\",value:function(e){this.$.set({isFullscreen:e})}},{key:\"listenToChromeHeavyAdIntervention\",value:function(){var e=this;this.log(\"AdController\",\"listenToChromeHeavyAdIntervention\"),window.ReportingObserver&&(new ReportingObserver(function(t,r){var n=t.some(function(e){return\"intervention\"===e.type});e.log(\"AdController\",\"listenToChromeHeavyAdIntervention\",\"reports\",n,t),n&&e.notifyHeavyAdInterventionToMainFrame()},{buffered:!0}).observe(),window.addEventListener(\"pagehide\",function(){e.adEnded||e.adError||e.errorEvent({message:\"frame interrupted\"})}))}},{key:\"notifyHeavyAdInterventionToMainFrame\",value:function(){this.event({type:\"heavyAd\"}),this.errorEvent({message:\"heavy ad reported\"})}},{key:\"notifyPlayStatus\",value:function(e){this.$.set({isPlaying:e}),this.event({type:\"playingStatus\",message:e})}},{key:\"setStyles\",value:function(e){var t=this;Object.keys(e).forEach(function(r){p(t.getComponentSelector(r),e[r])})}},{key:\"getComponentSelector\",value:function(e){switch(e){case\"root\":return\".caroda-ad-container\";case\"toggleAudio\":return\".caroda-ad-container > div.muted-button\";case\"togglePlayback\":return\".caroda-ad-container > div.toggle-playback-button\";case\"progressBar\":return\".caroda-ad-container > div.progress-bar\";case\"progress\":return\".caroda-ad-container > div.progress-bar .progress\";case\"label\":return\".caroda-ad-container > span.label\";case\"advertisingLabel\":return\".caroda-ad-container > span.advertising-label\";case\"timer\":return\".caroda-ad-container > div.timer\";case\"timerSeparator\":return\".caroda-ad-container > div.timer span.separator\";case\"toggleFullScreen\":return\".caroda-ad-container > .fullscreen-button\";case\"lastFrameFallbackImage\":return\".last-frame-fallback\";case\"skipButton\":return\".skip-button\";default:return\"\"}}},{key:\"renderFrame\",value:function(e){var t=St&&!Vt?this.getTopFrameVideoElement().closest(\".caroda-player-vast-vpaid\"):document.querySelector(\".caroda-ad-container\");t.style.background=\"url(\"+e+\")\",t.style.backgroundSize=\"contain\",t.style.backgroundColor=\"black\",t.style.backgroundPosition=\"center\",t.style.backgroundRepeat=\"no-repeat\",Array.from(t.children).forEach(this.fadeOut),setTimeout(function(){return t.innerHTML=\"\"},300)}},{key:\"renderLastFrameFallback\",value:function(){var e=document.querySelector(\".last-frame-fallback\");e&&(e.style.opacity=\"1\",this.fadeOut(document.querySelector(\".caroda-ad-container\")),setTimeout(function(){var e=document.querySelector(\".player\");e&&e.remove()}))}},{key:\"hideLastFrameFallback\",value:function(){var e=document.querySelector(\".last-frame-fallback\");e&&e.remove()}},{key:\"fadeOut\",value:function(e){e.style.transition=\"opacity 0.3s ease-out\",e.style.opacity=0}},{key:\"isVpaid\",value:function(){return this.adPlayer&&this.adPlayer.type&&\"vpaid\"===this.adPlayer.type.toLowerCase()}},{key:\"isVpaidSkippable\",value:function(){if(null==this._isVpaidSkippable){var e=/skipoffset/.test(this.vast),t=/vpaid\\.doubleverify\\.com\\/js\\/vpaid-transformer/.test(this.vast),r=/s1.adform.net\\/banners\\/scripts\\/video\\/VPAIDWrapper.min.js/.test(this.vast);this._isVpaidSkippable=e&&(r||t)}return this._isVpaidSkippable}},{key:\"getSkipTimeInSeconds\",value:function(){if(this.isVpaidSkippable()&&this.parsedVast){var e=o.vastSelectors.getSkipOffset(this.parsedVast[0].ad);return e?e/1e3:null}return(window.molSkipOffsetInMs||0)/1e3}},{key:\"isPlayingAudioFile\",value:function(){var e=this.adPlayer&&this.adPlayer.assetUri;if(null==this._isPlayingAudioFile&&e){this._isPlayingAudioFile=[\"m4a\",\"mp3\",\"aac\",\"caf\",\"flac\",\"oga\",\"wav\"].some(function(t){return new RegExp(\".\"+t+\"(\\\\?.*)?$\").test(e)})}return this._isPlayingAudioFile}},{key:\"resize\",value:function(e,t){this.creativeController.resize({width:e,height:t})}},{key:\"destroy\",value:function(){this.adSdkDestroy()}}]),e}();return e.AdController=Rt,e}({});</script><script>function initController(opts) {\n        window.controller = window.controller || new bundle.AdController(opts)\n      }\n      function b64toBlob(b64Data, contentType, sliceSize) {\n        contentType = contentType || ''\n        sliceSize = sliceSize || 512\n        var byteCharacters = atob(b64Data)\n        var byteArrays = []\n        for (\n          var offset = 0;\n          offset < byteCharacters.length;\n          offset += sliceSize\n        ) {\n          var slice = byteCharacters.slice(offset, offset + sliceSize)\n          var byteNumbers = new Array(slice.length)\n          for (var i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i)\n          }\n          var byteArray = new Uint8Array(byteNumbers)\n          byteArrays.push(byteArray)\n        }\n        var blob = new Blob(byteArrays, { type: contentType })\n        return blob\n      }\n      var carodaFontB64 =\n        'AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=='\n      var carodaFontBlob = b64toBlob(carodaFontB64, 'application/x-font-ttf')\n      var carodaFontUrl = window.URL.createObjectURL(carodaFontBlob)\n      var css =\n        '\\\n        @font-face { \\\n            font-family: \"Caroda\"; \\\n            src: url(' +\n        carodaFontUrl +\n        ') format(\"truetype\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n    '\n      var style = document.createElement('STYLE')\n      style.innerHTML = css\n      document.head.appendChild(style)\n      ;(function (opts) {\n        opts.target = document.querySelector('.player')\n        try {\n          initController(opts)\n          window.addEventListener('message', function (evt) {\n            if (!evt.data.match || !evt.data.match(/^caroda-ad-player:/)) {\n              return\n            }\n            var msg = JSON.parse(evt.data.replace(/^caroda-ad-player:\\/\\//, ''))\n            if (msg.type === 'visibility') {\n              if (window.controller && !window.controller.userAdPaused) {\n                if (msg.value) {\n                  window.controller.playAd()\n                  window.visibleAtLeastOnce = true\n                } else {\n                  window.controller.pauseAd()\n                }\n              }\n            }\n            if (msg.type === 'fullscreen') {\n              window.controller.setFullscreen(msg.value)\n            }\n            if (msg.type === 'method') {\n              window.controller[msg.name].apply(window.controller, msg.args)\n            }\n          })\n        } catch (e) {\n          window.parent.postMessage(\n            `${opts.id}://${JSON.stringify({\n              type: 'adError',\n              message: e.message,\n            })}`,\n            '*'\n          )\n        }\n      })(/* PLAYEROPTS */)</script></body></html>";var exports=window;"use strict";function assert(e,t){if(!e)throw new Error(t)}function isFullscreen(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return!!e&amp;&amp;(e.classList.contains("caroda-player-vast-vpaid")||!!e.querySelector(".caroda-player-vast-vpaid"))}function waitFor(e){return new Promise(function(t){var n=setInterval(function(){e()&amp;&amp;(clearInterval(n),t())})})};var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var function(t,n,i){return="" i='t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in' i&&(i.writable="!0),Object.defineProperty(e,i.key,i)}}return" isinviewport(e){var="" n="getContainingWindow(e).document;return" n&&e(t.prototype,n),i&&e(t,i),t}}();function="" t="e.getBoundingClientRect();if(!t.width&amp;&amp;!t.height)return!1;var" t.top="">=-t.height/2&amp;&amp;t.bottom&lt;=(window.innerHeight||n.documentElement.clientHeight)+t.height/2&amp;&amp;"hidden"!==n.visibilityState}function getIframeCss(e){var t=document.createElement("style");return t.innerHTML="\n        #"+e+" {\n            position: absolute !important;\n            top: 0 !important;\n            left: 0 !important;\n            width: 100% !important;\n            height: 100% !important;\n            border: 0 !important;\n            padding-top: 0 !important;\n            padding-bottom: 0 !important;\n            padding-left: 0 !important;\n            padding-right: 0 !important;\n            margin-top: 0 !important;\n            margin-bottom: 0 !important;\n            margin-left: 0 !important;\n            margin-right: 0 !important;\n        }\n        .caroda-vv-fullscreen {\n            position: absolute !important;\n            top: 0 !important;\n            left: 0 !important;\n            height: 100% !important;\n            width: 100% !important;\n            padding: 0 !important;\n        }\n    ",t}var PlayerEvents=["tracking","adError","adCanPlay","adVideoStart","adEnded","log","volumeChanged","unfullscreen","fullscreen","heavyAd","duration","timeupdate","playingStatus","lastFrame"];function getContainingWindow(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:window;return t?t.document.contains(e)?t:t.parent===t?null:getContainingWindow(e,t.parent):null}var VastVpaidPlayer=function(){function e(t){var n=this;classCallCheck(this,e),assert(t,"opts required"),assert(t.vast,"opts.vast required"),assert(t.container,"opts.container required");var i=t.container;delete t.container,this.id=t.id="caroda-container-"+Math.floor(1e6*Math.random()),this.hasStarted=!1,this.hasEnded=!1,this.isFrozen=!0,this.userAdPaused=!1,this.shouldPauseWhenOutOfView=t.shouldPauseWhenOutOfView||function(){return!0},this.preload=t.preload,this.showingLastFrame=!1,this.isLastFrameDark=void 0,this.containerWindow=getContainingWindow(i),this.isInViewport=t.isInViewport||isInViewport;var a=document.createElement("DIV");a.style.width="100%",a.style.paddingBottom="56.25%",a.style.position="relative",a.className="caroda-player-vast-vpaid";var r=this.createVideoElement();a.appendChild(r),t.topFrameVideoId=r.id;var s=VAST_PLAYER_SCRIPT.replace("/* PLAYEROPTS */",function(){return JSON.stringify(t)}),o=document.createElement("IFRAME");setTimeout(function(){var e=o.contentWindow.document;e.open("text/html","replace"),e.write(s),e.close()},0),o.setAttribute("border",0),o.setAttribute("sandbox",["allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" ")),o.setAttribute("allowfullscreen",!1),o.setAttribute("allow","autoplay"),o.setAttribute("id",this.id+"-vv"),this.containerWindow.document.body.appendChild(getIframeCss(this.id+"-vv")),a.appendChild(o),i.appendChild(a),o.contentWindow.isPlayerInViewport=function(){return n.isInViewport(o)},this.iframe=o,this.container=a,this.refreshVisibility(),this.visibleInterval=setInterval(function(){n.refreshVisibility(),n.refreshFullscreen(),n.sendTracking()},100),this.handlers={},this.trackingUrls={},this.trackingEventQueue=[],this.hasStarted=!1,this.hasImpression=!1;var d=t.timeoutInMs||5e3;this.timeout=setTimeout(function(){return n.reject("timeout")},d),this.windowEventHandler=function(e){return n.handleWindowEvent(e)},this.containerWindow.addEventListener("message",this.windowEventHandler),this.addEventListener("adEnded",function(){n.showingLastFrame=t.keepLastFrame&amp;&amp;n.hasImpression&amp;&amp;!n.error}),this.addEventListener("adEnded",function(){return n.clear()}),this.addEventListener("adError",function(){n.error=!0,n.clear(!0)}),this.addEventListener("heavyAd",function(){return console.log("CARODA :: skipped ad due to heavy ad restriction")}),this.addEventListener("adVideoStart",function(e){n.hasStarted=!0,clearTimeout(n.timeout),t.instream||(t.forceAspectRatio?a.style.paddingBottom=(1/t.forceAspectRatio*100).toFixed(2)+"%":("vertical"===e.format&amp;&amp;(a.style.paddingBottom="177.78%"),"vertical-3-4"===e.format&amp;&amp;(a.style.paddingBottom="133.33%"),"square"===e.format&amp;&amp;(a.style.paddingBottom="100%"),"horizontal-4-3"===e.format&amp;&amp;(a.style.paddingBottom="75%")))}),this.addEventListener("unfullscreen",function(e){isFullscreen()&amp;&amp;t.onUnfullscreen&amp;&amp;t.onUnfullscreen()}),this.addEventListener("fullscreen",function(e){!isFullscreen()&amp;&amp;t.onFullscreen&amp;&amp;t.onFullscreen()});var l=void 0;this.durationPromise=new Promise(function(e){l=e}),this.addEventListener("duration",function(e){var t=e.message;l(t)}),this.currentTime=NaN,this.addEventListener("timeupdate",function(e){var t=e.message;n.currentTime=t}),this.playing=!1,this.addEventListener("playingStatus",function(e){var t=e.message;n.playing=t})}return createClass(e,[{key:"getContainer",value:function(){return this.container}},{key:"refreshFullscreen",value:function(){var e=isFullscreen();this.sendMessage({type:"fullscreen",value:e}),e?this.container.classList.add("caroda-vv-fullscreen"):this.container.classList.remove("caroda-vv-fullscreen")}},{key:"handleWindowEvent",value:function(e){var t=this;if("string"==typeof e.data&amp;&amp;0===e.data.indexOf(this.id)){var n=JSON.parse(e.data.replace(/^caroda-container-[0-9]+:\/\//,""));if("tracking"!==n.type)"trackingEvents"===n.type&amp;&amp;n.values.forEach(function(e){return t.addTrackingUrl(e[0],e[1])}),this.handlers[n.type]&amp;&amp;this.handlers[n.type].forEach(function(e){return e(n)});else{if(n.trackingUrls=this.trackingUrls[n.eventName]||[],"impression"===n.eventName){if(this.hasImpression)return;this.hasImpression=!0,waitFor(function(){return t.isInViewport(t.iframe)||t.hasEnded}).then(function(){if(!t.hasEnded){var e=Object.assign({},n,{trackingUrls:t.trackingUrls.viewableImpression||[],eventName:"viewableImpression"});t.trackingEventQueue.push(e)}})}if(("pause"===n.eventName||"resume"===n.eventName)&amp;&amp;!this.hasImpression)return;if("pause"===n.eventName&amp;&amp;!this.playing)return;if("resume"===n.eventName&amp;&amp;this.playing)return;this.trackingEventQueue.push(n)}}}},{key:"addTrackingUrl",value:function(e,t){this.trackingUrls[e]=this.trackingUrls[e]||[],this.trackingUrls[e].push(t)}},{key:"addEventListener",value:function(e,t){assert(~PlayerEvents.indexOf(e),"eventName "+e+" not part of "+PlayerEvents.join(", ")),this.handlers[e]=this.handlers[e]||[],this.handlers[e].push(t)}},{key:"refreshVisibility",value:function(){if(!this.userAdPaused){var e=!this.shouldPauseWhenOutOfView()||this.isInViewport(this.container);this.isFrozen&amp;&amp;this.hasStarted&amp;&amp;(e=!1),this.isFrozen&amp;&amp;!this.hasStarted&amp;&amp;(e=!0),this.sendMessage({type:"visibility",value:e})}}},{key:"sendTracking",value:function(){var e=this;!this.isFrozen&amp;&amp;this.hasStarted&amp;&amp;(this.trackingEventQueue.forEach(function(t){return e.handlers[t.type]&amp;&amp;e.handlers[t.type].forEach(function(e){return e(t)})}),this.trackingEventQueue=[])}},{key:"sendMessage",value:function(e){this.iframe&amp;&amp;this.iframe.contentWindow&amp;&amp;this.iframe.contentWindow.postMessage("caroda-ad-player://"+JSON.stringify(e),"*")}},{key:"unfreeze",value:function(){this.isFrozen=!1,this.refreshVisibility()}},{key:"mute",value:function(){this.sendMessage({type:"method",name:"mute",args:[]})}},{key:"unmute",value:function(){this.sendMessage({type:"method",name:"unmute",args:[]})}},{key:"setVolume",value:function(e){this.sendMessage({type:"method",name:"setVolume",args:[e]})}},{key:"reject",value:function(e){this.handleWindowEvent({data:this.id+"://"+JSON.stringify({type:"adError",message:"creative rejected. reason: "+(e||"unknown")})})}},{key:"clear",value:function(){var e=this,t=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]&amp;&amp;arguments[0];this.hasEnded||(clearInterval(this.visibleInterval),this.sendTracking(),this.sendMessage({type:"method",name:"destroy",args:[]}),this.handlers={lastFrame:this.handlers.lastFrame},this.sendMessage({type:"end"}),this.hasEnded=!0,t&amp;&amp;(this.container.style.display="none"),setTimeout(function(){window.removeEventListener("message",e.windowEventHandler),e.showingLastFrame||e.container.parentElement.removeChild(e.container)},1e3))}},{key:"getAdDuration",value:function(){return this.durationPromise}},{key:"getAdProgress",value:function(){return this.currentTime}},{key:"userAdPlay",value:function(){this.userAdPaused=!1,this.sendMessage({type:"method",name:"playAd",args:[]})}},{key:"userAdPause",value:function(){this.userAdPaused=!0,this.sendMessage({type:"method",name:"pauseAd",args:[]})}},{key:"isPlaying",value:function(){return this.playing}},{key:"createVideoElement",value:function(){var e=document.createElement("video");return e.id="carodaTopFrameVideo-"+Math.floor(1e9*Math.random()),e.style.background="#000",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",this.preload&amp;&amp;e.setAttribute("preload","auto"),e.setAttribute("crossOrigin","Anonymous"),e}},{key:"resize",value:function(e,t){this.sendMessage({type:"method",name:"resize",args:[e,t]})}}]),e}();exports.VastVpaidPlayer=VastVpaidPlayer;
})();(function(exports,global){function _mergeNamespaces(n,e){return e.forEach(function(r){r&amp;&amp;"string"!=typeof r&amp;&amp;!Array.isArray(r)&amp;&amp;Object.keys(r).forEach(function(e){var t;"default"===e||e in n||(t=Object.getOwnPropertyDescriptor(r,e),Object.defineProperty(n,e,t.get?t:{enumerable:!0,get:function(){return r[e]}}))})}),Object.freeze(n)}function usesExternalPlayer(e){return-1!==["teads","smartclip","banner","gam-banner","aniview"].indexOf(e)}function getTopUsableWindow(){let e=window;try{for(;window.top!==e&amp;&amp;e.parent.location.href.length&amp;&amp;!isSameDomainAsTop(e);)e=e.parent}catch(e){}return e}function isSameDomainAsTop(e){try{var t=window.top.location.host,r=window.frameElement.src;return t===new URL(r).host}catch(e){return!1}}function isPrebidAdapterRendererWindow(){const e=window;return!!e.document.querySelector("."+carodaPrebidAdapterOutputClassName)}const carodaPrebidAdapterOutputClassName="caroda-prebid-adapter-output",libraryWindow=window,renderWindow=isPrebidAdapterRendererWindow()?window:getTopUsableWindow(),renderDocument=(libraryWindow.carodaRenderWindow=renderWindow,renderWindow.document),pageLocation={...renderWindow.location,referrer:renderDocument.referrer},{carodaMainCss,carodaPrebidIframeRunnerCode,carodaPrebidAdapterBannerRendererHelpersCode,carodaContentPlayerCdnUrl,postscribe,VastPlayerIma,VastVpaidPlayer}=libraryWindow,logWithSeverity=(e,...t)=&gt;libraryWindow.carodaConsole&amp;&amp;libraryWindow.carodaConsole[e](...t),carodaConsoleSafe=libraryWindow.carodaConsole||["log","info","warn","error"].reduce((e,t)=&gt;({...e,[t]:logWithSeverity.bind(null,t)}),{});class EventTarget{constructor(){this.listeners={},this.connectedEventTargets=[]}addEventListener(t,r){this.listeners[t]=[...this.getEventListeners(t),r],this.connectedEventTargets.forEach(e=&gt;{e.addEventListener(t,r)})}connectTo(e){this.connectedEventTargets.push(e),this.copyListenersTo(e)}triggerEvent(t,...r){this.getEventListeners(t).map(e=&gt;e(...r)),this.connectedEventTargets.forEach(e=&gt;e.triggerEvent(t,...r))}triggerWindowEvent(e,...t){var r=new renderWindow.CustomEvent(e,{detail:1<t.length?t:t[0]});renderwindow.dispatchevent(r)}geteventlisteners(e){return this.listeners[e]||[]}copylistenersto(r){object.keys(this.listeners).foreach(t="">{this.listeners[t].forEach(e=&gt;{r.addEventListener(t,e)})})}}function getExternalDependency(e,{keepFresh:t,ownerWindow:r}={keepFresh:!1}){let n=null;return{instance:()=&gt;n&amp;&amp;!t?n:n=e(r),isAvailable:()=&gt;!!e(r),ownerWindow:r=renderWindow}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&amp;&amp;e.__esModule&amp;&amp;Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(r){if(r.__esModule)return r;var n,t=r.default;return"function"==typeof t?(n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)}).prototype=t.prototype:n={},Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(e){var t=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(n,e,t.get?t:{enumerable:!0,get:function(){return r[e]}})}),n}var isArray$i=Array.isArray,isArray_1=isArray$i,freeGlobal$1="object"==typeof commonjsGlobal&amp;&amp;commonjsGlobal&amp;&amp;commonjsGlobal.Object===Object&amp;&amp;commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf="object"==typeof self&amp;&amp;self&amp;&amp;self.Object===Object&amp;&amp;self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$e=Object.prototype,hasOwnProperty$c=objectProto$e.hasOwnProperty,nativeObjectToString$1=objectProto$e.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$c.call(e,symToStringTag$1),r=e[symToStringTag$1];try{var n=!(e[symToStringTag$1]=void 0)}catch(e){}var i=nativeObjectToString$1.call(e);return n&amp;&amp;(t?e[symToStringTag$1]=r:delete e[symToStringTag$1]),i}var _getRawTag=getRawTag$1,objectProto$d=Object.prototype,nativeObjectToString=objectProto$d.toString;function objectToString$3(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$3,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString$2=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$5(e){return null==e?void 0===e?undefinedTag:nullTag:(symToStringTag&amp;&amp;symToStringTag in Object(e)?getRawTag:objectToString$2)(e)}var _baseGetTag=baseGetTag$5;function isObjectLike$7(e){return null!=e&amp;&amp;"object"==typeof e}var isObjectLike_1=isObjectLike$7,baseGetTag$4=_baseGetTag,isObjectLike$6=isObjectLike_1,symbolTag$3="[object Symbol]";function isSymbol$6(e){return"symbol"==typeof e||isObjectLike$6(e)&amp;&amp;baseGetTag$4(e)==symbolTag$3}var isSymbol_1=isSymbol$6,isArray$h=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(e,t){if(isArray$h(e))return!1;var r=typeof e;return!("number"!=r&amp;&amp;"symbol"!=r&amp;&amp;"boolean"!=r&amp;&amp;null!=e&amp;&amp;!isSymbol$5(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&amp;&amp;e in Object(t))}var _isKey=isKey$3;function isObject$a(e){var t=typeof e;return null!=e&amp;&amp;("object"==t||"function"==t)}var isObject_1=isObject$a,baseGetTag$3=_baseGetTag,isObject$9=isObject_1,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(e){if(!isObject$9(e))return!1;var t=baseGetTag$3(e);return t==funcTag$2||t==genTag$1||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$3,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&amp;&amp;coreJsData.keys&amp;&amp;coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked$1(e){return!!maskSrcKey&amp;&amp;maskSrcKey in e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(e){if(null!=e){try{return funcToString$1.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource=toSource$2,isFunction$2=isFunction_1,isMasked=_isMasked,isObject$8=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$c=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$b=objectProto$c.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&amp;").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){return!(!isObject$8(e)||isMasked(e))&amp;&amp;(isFunction$2(e)?reIsNative:reIsHostCtor).test(toSource$1(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,t){return null==e?void 0:e[t]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(e,t){var r=getValue(e,t);return baseIsNative(r)?r:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var t=this.has(e)&amp;&amp;delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$b=Object.prototype,hasOwnProperty$a=objectProto$b.hasOwnProperty;function hashGet$1(e){var t,r=this.__data__;return nativeCreate$2?(t=r[e])===HASH_UNDEFINED$2?void 0:t:hasOwnProperty$a.call(r,e)?r[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$1?void 0!==t[e]:hasOwnProperty$9.call(t,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate&amp;&amp;void 0===t?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var 0="n?r:n}var" 0,bannedformats:void="" 0,conditionalprebidfloorconfiguration:void="" 0,defaultadframeoptions:{},defaultsliderexpiryinseconds:300,disableads:!1,disablerepeatedads:!1,displaybannersbeforeinview:!1,filterprebidbids:void="" 0,forceinstreamprebidcontext:!1,forcesinglead:testurl(="" 0,issafeframe:void="" 0,isthirdpartycampaign:e="" 0,symboltostring="symbolProto$2?symbolProto$2.toString:void" 0:baseget$1(e,t);return="" 0:t[r][1]}var="" 0;function="" 0}var="" 46='e.charCodeAt(0)&amp;&amp;i.push(""),e.replace(rePropName$1,function(e,t,r,n){i.push(r?n.replace(reEscapeChar$1,"$1"):t||e)}),i}),_stringToPath=stringToPath$2;function' _arraymap="arrayMap$2,Symbol$4=_Symbol,arrayMap$1=_arrayMap,isArray$g=isArray_1,isSymbol$4=isSymbol_1,INFINITY$2=1/0,symbolProto$2=Symbol$4?Symbol$4.prototype:void" _associndexof="assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function" _baseget="baseGet$2,baseGet$1=_baseGet;function" _basetostring="baseToString$2,baseToString$1=_baseToString;function" _castpath="castPath$2,isSymbol$3=isSymbol_1,INFINITY$1=1/0;function" _getmapdata="getMapData$4,getMapData$3=_getMapData;function" _hash="Hash$1;function" _iskeyable="isKeyable$1,isKeyable=_isKeyable;function" _listcache='ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function' _listcacheclear="listCacheClear$1;function" _listcachedelete="listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function" _listcacheget="listCacheGet$1,assocIndexOf$1=_assocIndexOf;function" _listcachehas="listCacheHas$1,assocIndexOf=_assocIndexOf;function" _listcacheset="listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function" _mapcache='MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected' _mapcacheclear="mapCacheClear$1;function" _mapcachedelete="mapCacheDelete$1,getMapData$2=_getMapData;function" _mapcacheget="mapCacheGet$1,getMapData$1=_getMapData;function" _mapcachehas="mapCacheHas$1,getMapData=_getMapData;function" _mapcacheset="mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function" _memoizecapped="memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|([&quot;'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$2=memoizeCapped(function(e){var" _tokey="toKey$4,castPath$1=_castPath,toKey$3=_toKey;function" a="" a(){var="" a.cache="new(memoize$1.Cache||MapCache$2),a}memoize$1.Cache=MapCache$2;var" arraymap$1(e,basetostring$2)+"";if(issymbol$4(e))return="" arraymap$2(e,t){for(var="" associndexof$4(e,t){for(var="" baseget$2(e,t){for(var="" basetostring$2(e){if("string"="typeof" carodaforcesinglead='true/),forceSlider:testUrl(/carodaForceSlider=true/),imaBannedFormats:["vertical","vertical-3-4"],imaSdkVersion:"3.568.1",instreamAdLoadTimeout:5e3,integrationRecord:void' castpath$2(e,t){return="" e="arguments,t=i?i.apply(this,e):e[0],r=a.cache;return" e)return="" e;if(isarray$g(e))return="" e;return"string"='t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var' e;var="" eq$3(e,t){return="" eq_1="eq$3,eq$2=eq_1;function" e||issymbol$3(e))return="" function";function="" get$1(e,t,r){var="" get_1="get$1,get$2=getDefaultExportFromCjs(get_1);class" getmapdata$1(this,e).has(e)}var="" getmapdata$2(this,e).get(e)}var="" getmapdata$4(e,t){var="" hash,map:new(map$3||listcache$3),string:new="" hash}}var="" i="[];return" i)throw="" integrationconfig{constructor(){const="" isarray$f(e)?e:iskey$2(e,t)?[e]:stringtopath$1(tostring$7(e))}var="" iskeyable$1(e){var="" iskeyable(t)?r["string"="typeof" i}var="" listcache$4(e){var="" listcacheclear$1(){this.__data__="[],this.size=0}var" listcachedelete$1(e){var="" listcacheget$1(e){var="" listcachehas$1(e){return-1<associndexof$1(this.__data__,e)}var="" listcacheset$1(e,t){var="" mapcache$3(e){var="" mapcacheclear$1(){this.size="0,this.__data__={hash:new" mapcachedelete$1(e){var="" mapcacheget$1(e){return="" mapcachehas$1(e){return="" mapcacheset$1(e,t){var="" memoize$1(n,i){if("function"!="typeof" memoize_1="memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function" memoizecapped$1(e){var="" n="null==e?void" n<0?(++this.size,r.push([e,t])):r[n][1]="t,this}var" new="" null='e?"":baseToString$1(e)}var' n||null!='i&amp;&amp;"function"!=typeof' r="0,n=(t=castPath$1(t,e)).length;null!=e&amp;&amp;r&lt;n;)e=e[toKey$3(t[r++])];return" r&&r="n?e:void" r.has(t)?r.get(t):(e="n.apply(this,e),a.cache=r.set(t,e)||r,e)}return" r.set(e,t),this.size+="r.size==n?0:1,this}var" r.size="MAX_MEMOIZE_SIZE&amp;&amp;r.clear(),e}),r=t.cache;return" r;return-1}var="" r<0?void="" symboltostring?symboltostring.call(e):"";var="" t="{TCFPolicyEnforcement:[],adLoadTimeout:1e4,allowRepeatedAdsInInstreamAdBreaks:!1,aniviewConfig:void" t?"string":"hash"]:r.map}var="" this.size-="t?1:0,t}var" tokey$4(e){if("string"="typeof" tostring$8(e){return="" tostring_1="toString$8,isArray$f=isArray_1,isKey$2=_isKey,stringToPath$1=_stringToPath,toString$7=toString_1;function" typeerror(func_error_text$2);function="" t}var="" void="">!1,modifyBannerScript:(e,t,r)=&gt;r,noChainCaching:!1,onTrackingEvent:()=&gt;{},playerCdnUrl:"//unknown",prebidBidResponseModifier:e=&gt;e,prebidBidderModifyAdUnits:e=&gt;e,prebidBidderSpecificConfig:[],prebidConfigExtension:{},prebidSchainNodes:[],prebidSideloadUrls:[],reportMode:testUrl(/carodaReport=true/),reportSpeed:.01,scrollToMultiPosition:void 0,scrollToPosition:void 0,shouldCreateDownloadLogsButton:testUrl(/carodaDownloadLogsButton/i),waitForCMPDialogClosed:!0,waitForConsent:!0,websiteDomain:"unknown",prebidSiteKeywords:()=&gt;{},overrideInviewGamDeclaration:!0,isExperimentalExperimentAllocated:!1,bannerInSliderDurationSeconds:15,sliderRetryAfterLearnMoreSeconds:20,sliderRetryMaxTimeSeconds:120,supportBannersInSlider:!0,onOutstreamPlayer:()=&gt;{}};Object.keys(t).forEach(e=&gt;{this[e]=this.windowGetter(e,t[e])}),carodaConsoleSafe.info("IntegrationConfig",".constructor","loaded")}videoCollectionId(){return this.getConfigUnsafe("carodaVideoCollectionId")}contributorToken(e={}){return this.getConfigUnsafe("carodaContributorToken",e)}shouldUseTcfSafeFrameApi(){var e=this.windowGetter("useTcfSafeFrameApi",null)();return null==e?this.isSafeFrame():!!e}isDebug(){return testUrl(/carodaDebug/i)||this.windowGetter("isDebug",!1)()}isDebugSimple(){return testUrl(/carodaDebugSimple/i)||this.windowGetter("isDebugSimple",!1)()}windowGetter(e,t){const r=e=&gt;"caroda"+e.replace(/^./,e=&gt;e.toUpperCase());return()=&gt;get$2(libraryWindow,r(e),get$2(renderWindow,r(e),t))}getConfigUnsafe(key,configOverride={}){return configOverride[key]||eval(key)||""}}function testUrl(e){return e.test(pageLocation.href)}const integrationConfig=new IntegrationConfig,randomAllocationValue=Math.round(100*Math.random());function getParameterValue({experiment:e,parameterName:t}){var r=e.parameters.find(e=&gt;e.name===t);return null==r?void 0:r.value}function isAllocated(e){return randomAllocationValue<e.allocation}function e="libraryWindow.carodaExperiments||[];return" e.filter(e="" getallocatedexperiments(){const="">"experimental"===e.type?integrationConfig.isExperimentalExperimentAllocated():isAllocated(e))}const euCountryCodes=["BE","EL","LT","PT","BG","ES","LU","RO","CZ","FR","HU","SI","DK","HR","MT","SK","DE","IT","NL","FI","EE","CY","AT","SE","IE","LV","PL","GR"];function isEuCountry(e){return 0&lt;=euCountryCodes.indexOf(e.toUpperCase())}const w$1=renderWindow;function getPersistentState(e,t){return w$1.carodaPersistentState[e]=w$1.carodaPersistentState[e]||t,w$1.carodaPersistentState[e]}w$1.carodaPersistentState=w$1.carodaPersistentState||{};const waitingForUnlock=getPersistentState("waiters",{});async function lock(t,e){if(carodaConsoleSafe.info("PromiseLock","lock",t),waitingForUnlock[t])return carodaConsoleSafe.info("PromiseLock","lock",t,"waiting"),await waitingForUnlock[t],carodaConsoleSafe.info("PromiseLock","lock",t,"unlocked"),lock(t,e);let r;waitingForUnlock[t]=new Promise(e=&gt;{r=e}),carodaConsoleSafe.info("PromiseLock","lock",t,"executing");try{var n=await e();return carodaConsoleSafe.info("PromiseLock","lock",t,"finished"),r(),delete waitingForUnlock[t],n}catch(e){throw carodaConsoleSafe.info("PromiseLock","lock",t,"thrown",e.message),r(),delete waitingForUnlock[t],e}}function arrayReduce$1(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&amp;&amp;a&amp;&amp;(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return ,rsbreakrange="rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1=&quot;[']&quot;,rsBreak=&quot;[&quot;+rsBreakRange+&quot;]&quot;,rsCombo$2=&quot;[&quot;+rsComboRange$3+&quot;]&quot;,rsDigits=&quot;\\d+&quot;,rsDingbat=&quot;[&quot;+rsDingbatRange+&quot;]&quot;,rsLower=&quot;[&quot;+rsLowerRange+&quot;]&quot;,rsMisc=&quot;[^&quot;+rsAstralRange$3+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+&quot;]&quot;,rsFitz$2=&quot;\\ud83c[\\udffb-\\udfff]&quot;,rsModifier$2=&quot;(?:&quot;+rsCombo$2+&quot;|&quot;+rsFitz$2+&quot;)&quot;,rsNonAstral$2=&quot;[^&quot;+rsAstralRange$3+&quot;]&quot;,rsRegional$2=&quot;(?:\\ud83c[\\udde6-\\uddff]){2}&quot;,rsSurrPair$2=&quot;[\\ud800-\\udbff][\\udc00-\\udfff]&quot;,rsUpper=&quot;[&quot;+rsUpperRange+&quot;]&quot;,rsZWJ$3=&quot;\\u200d&quot;,rsMiscLower=&quot;(?:&quot;+rsLower+&quot;|&quot;+rsMisc+&quot;)&quot;,rsMiscUpper=&quot;(?:&quot;+rsUpper+&quot;|&quot;+rsMisc+&quot;)&quot;,rsOptContrLower=&quot;(?:&quot;+rsApos$1+&quot;(?:d|ll|m|re|s|t|ve))?&quot;,rsOptContrUpper=&quot;(?:&quot;+rsApos$1+&quot;(?:D|LL|M|RE|S|T|VE))?&quot;,reOptMod$2=rsModifier$2+&quot;?&quot;,rsOptVar$2=&quot;[&quot;+rsVarRange$3+&quot;]?&quot;,rsOptJoin$2=&quot;(?:&quot;+rsZWJ$3+&quot;(?:&quot;+[rsNonAstral$2,rsRegional$2,rsSurrPair$2].join(&quot;|&quot;)+&quot;)&quot;+rsOptVar$2+reOptMod$2+&quot;)*&quot;,rsOrdLower=&quot;\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])&quot;,rsOrdUpper=&quot;\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])&quot;,rsSeq$2=rsOptVar$2+reOptMod$2+rsOptJoin$2,rsEmoji=&quot;(?:&quot;+[rsDingbat,rsRegional$2,rsSurrPair$2].join(&quot;|&quot;)+&quot;)&quot;+rsSeq$2,reUnicodeWord=RegExp([rsUpper+&quot;?&quot;+rsLower+&quot;+&quot;+rsOptContrLower+&quot;(?=&quot;+[rsBreak,rsUpper,&quot;$&quot;].join(&quot;|&quot;)+&quot;)&quot;,rsMiscUpper+&quot;+&quot;+rsOptContrUpper+&quot;(?=&quot;+[rsBreak,rsUpper+rsMiscLower,&quot;$&quot;].join(&quot;|&quot;)+&quot;)&quot;,rsUpper+&quot;?&quot;+rsMiscLower+&quot;+&quot;+rsOptContrLower,rsUpper+&quot;+&quot;+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join(&quot;|&quot;),&quot;g&quot;);function" ,rsvarrange$3="\\ufe0e\\ufe0f" 0="(t=r?void" 0,gpsy:void="" 0,os:"-"};object.keys(t).foreach(e="" 0:t)?(hasunicodeword(e)?unicodewords:asciiwords)(e):e.match(t)||[]}var="" 0:t[e]}}var="" ;function="" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsupperrange="A-Z\\xc0-\\xd6\\xd8-\\xde" ]="" _arrayreduce="arrayReduce$1;function" _asciiwords="asciiWords$1,reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9" _basepropertyof="basePropertyOf$2,basePropertyOf$1=_basePropertyOf,deburredLetters={&quot;&quot;:&quot;A&quot;,&quot;&quot;:&quot;A&quot;,&quot;&quot;:&quot;A&quot;,&quot;&quot;:&quot;A&quot;,&quot;&quot;:&quot;A&quot;,&quot;&quot;:&quot;A&quot;,&quot;&quot;:&quot;a&quot;,&quot;&quot;:&quot;a&quot;,&quot;&quot;:&quot;a&quot;,&quot;&quot;:&quot;a&quot;,&quot;&quot;:&quot;a&quot;,&quot;&quot;:&quot;a&quot;,&quot;&quot;:&quot;C&quot;,&quot;&quot;:&quot;c&quot;,&quot;&quot;:&quot;D&quot;,&quot;&quot;:&quot;d&quot;,&quot;&quot;:&quot;E&quot;,&quot;&quot;:&quot;E&quot;,&quot;&quot;:&quot;E&quot;,&quot;&quot;:&quot;E&quot;,&quot;&quot;:&quot;e&quot;,&quot;&quot;:&quot;e&quot;,&quot;&quot;:&quot;e&quot;,&quot;&quot;:&quot;e&quot;,&quot;&quot;:&quot;I&quot;,&quot;&quot;:&quot;I&quot;,&quot;&quot;:&quot;I&quot;,&quot;&quot;:&quot;I&quot;,&quot;&quot;:&quot;i&quot;,&quot;&quot;:&quot;i&quot;,&quot;&quot;:&quot;i&quot;,&quot;&quot;:&quot;i&quot;,&quot;&quot;:&quot;N&quot;,&quot;&quot;:&quot;n&quot;,&quot;&quot;:&quot;O&quot;,&quot;&quot;:&quot;O&quot;,&quot;&quot;:&quot;O&quot;,&quot;&quot;:&quot;O&quot;,&quot;&quot;:&quot;O&quot;,&quot;&quot;:&quot;O&quot;,&quot;&quot;:&quot;o&quot;,&quot;&quot;:&quot;o&quot;,&quot;&quot;:&quot;o&quot;,&quot;&quot;:&quot;o&quot;,&quot;&quot;:&quot;o&quot;,&quot;&quot;:&quot;o&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;Y&quot;,&quot;&quot;:&quot;y&quot;,&quot;&quot;:&quot;y&quot;,&quot;&quot;:&quot;Ae&quot;,&quot;&quot;:&quot;ae&quot;,&quot;&quot;:&quot;Th&quot;,&quot;&quot;:&quot;th&quot;,&quot;&quot;:&quot;ss&quot;,&quot;&quot;:&quot;A&quot;,&quot;&quot;:&quot;A&quot;,&quot;&quot;:&quot;A&quot;,&quot;&quot;:&quot;a&quot;,&quot;&quot;:&quot;a&quot;,&quot;&quot;:&quot;a&quot;,&quot;&quot;:&quot;C&quot;,&quot;&quot;:&quot;C&quot;,&quot;&quot;:&quot;C&quot;,&quot;&quot;:&quot;C&quot;,&quot;&quot;:&quot;c&quot;,&quot;&quot;:&quot;c&quot;,&quot;&quot;:&quot;c&quot;,&quot;&quot;:&quot;c&quot;,&quot;&quot;:&quot;D&quot;,&quot;&quot;:&quot;D&quot;,&quot;&quot;:&quot;d&quot;,&quot;&quot;:&quot;d&quot;,&quot;&quot;:&quot;E&quot;,&quot;&quot;:&quot;E&quot;,&quot;&quot;:&quot;E&quot;,&quot;&quot;:&quot;E&quot;,&quot;&quot;:&quot;E&quot;,&quot;&quot;:&quot;e&quot;,&quot;&quot;:&quot;e&quot;,&quot;&quot;:&quot;e&quot;,&quot;&quot;:&quot;e&quot;,&quot;&quot;:&quot;e&quot;,&quot;&quot;:&quot;G&quot;,&quot;&quot;:&quot;G&quot;,&quot;&quot;:&quot;G&quot;,&quot;&quot;:&quot;G&quot;,&quot;&quot;:&quot;g&quot;,&quot;&quot;:&quot;g&quot;,&quot;&quot;:&quot;g&quot;,&quot;&quot;:&quot;g&quot;,&quot;&quot;:&quot;H&quot;,&quot;&quot;:&quot;H&quot;,&quot;&quot;:&quot;h&quot;,&quot;&quot;:&quot;h&quot;,&quot;&quot;:&quot;I&quot;,&quot;&quot;:&quot;I&quot;,&quot;&quot;:&quot;I&quot;,&quot;&quot;:&quot;I&quot;,&quot;&quot;:&quot;I&quot;,&quot;&quot;:&quot;i&quot;,&quot;&quot;:&quot;i&quot;,&quot;&quot;:&quot;i&quot;,&quot;&quot;:&quot;i&quot;,&quot;&quot;:&quot;i&quot;,&quot;&quot;:&quot;J&quot;,&quot;&quot;:&quot;j&quot;,&quot;&quot;:&quot;K&quot;,&quot;&quot;:&quot;k&quot;,&quot;&quot;:&quot;k&quot;,&quot;&quot;:&quot;L&quot;,&quot;&quot;:&quot;L&quot;,&quot;&quot;:&quot;L&quot;,&quot;&quot;:&quot;L&quot;,&quot;&quot;:&quot;L&quot;,&quot;&quot;:&quot;l&quot;,&quot;&quot;:&quot;l&quot;,&quot;&quot;:&quot;l&quot;,&quot;&quot;:&quot;l&quot;,&quot;&quot;:&quot;l&quot;,&quot;&quot;:&quot;N&quot;,&quot;&quot;:&quot;N&quot;,&quot;&quot;:&quot;N&quot;,&quot;&quot;:&quot;N&quot;,&quot;&quot;:&quot;n&quot;,&quot;&quot;:&quot;n&quot;,&quot;&quot;:&quot;n&quot;,&quot;&quot;:&quot;n&quot;,&quot;&quot;:&quot;O&quot;,&quot;&quot;:&quot;O&quot;,&quot;&quot;:&quot;O&quot;,&quot;&quot;:&quot;o&quot;,&quot;&quot;:&quot;o&quot;,&quot;&quot;:&quot;o&quot;,&quot;&quot;:&quot;R&quot;,&quot;&quot;:&quot;R&quot;,&quot;&quot;:&quot;R&quot;,&quot;&quot;:&quot;r&quot;,&quot;&quot;:&quot;r&quot;,&quot;&quot;:&quot;r&quot;,&quot;&quot;:&quot;S&quot;,&quot;&quot;:&quot;S&quot;,&quot;&quot;:&quot;S&quot;,&quot;&quot;:&quot;S&quot;,&quot;&quot;:&quot;s&quot;,&quot;&quot;:&quot;s&quot;,&quot;&quot;:&quot;s&quot;,&quot;&quot;:&quot;s&quot;,&quot;&quot;:&quot;T&quot;,&quot;&quot;:&quot;T&quot;,&quot;&quot;:&quot;T&quot;,&quot;&quot;:&quot;t&quot;,&quot;&quot;:&quot;t&quot;,&quot;&quot;:&quot;t&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;U&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;u&quot;,&quot;&quot;:&quot;W&quot;,&quot;&quot;:&quot;w&quot;,&quot;&quot;:&quot;Y&quot;,&quot;&quot;:&quot;y&quot;,&quot;&quot;:&quot;Y&quot;,&quot;&quot;:&quot;Z&quot;,&quot;&quot;:&quot;Z&quot;,&quot;&quot;:&quot;Z&quot;,&quot;&quot;:&quot;z&quot;,&quot;&quot;:&quot;z&quot;,&quot;&quot;:&quot;z&quot;,&quot;&quot;:&quot;IJ&quot;,&quot;&quot;:&quot;ij&quot;,&quot;&quot;:&quot;Oe&quot;,&quot;&quot;:&quot;oe&quot;,&quot;&quot;:&quot;'n&quot;,&quot;&quot;:&quot;s&quot;},deburrLetter$1=basePropertyOf$1(deburredLetters),_deburrLetter=deburrLetter$1,deburrLetter=_deburrLetter,toString$6=toString_1,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$4=&quot;\\u0300-\\u036f&quot;,reComboHalfMarksRange$4=&quot;\\ufe20-\\ufe2f&quot;,rsComboSymbolsRange$4=&quot;\\u20d0-\\u20ff&quot;,rsComboRange$4=rsComboMarksRange$4+reComboHalfMarksRange$4+rsComboSymbolsRange$4,rsCombo$3=&quot;[&quot;+rsComboRange$4+&quot;]&quot;,reComboMark=RegExp(rsCombo$3,&quot;g&quot;);function" _createcompounder="createCompounder$2,createCompounder$1=_createCompounder,snakeCase=createCompounder$1(function(e,t,r){return" _hasunicodeword='hasUnicodeWord$1,rsAstralRange$3="\\ud800-\\udfff",rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange="' _unicodewords="unicodeWords$1,asciiWords=_asciiWords,hasUnicodeWord=_hasUnicodeWord,toString$5=toString_1,unicodeWords=_unicodeWords;function" arrayreduce(words(deburr(e).replace(reapos,"")),t,"")}}var="" asciiwords$1(e){return="" basepropertyof$2(t){return="" createcompounder$2(t){return="" deburr$1(e){return(e='toString$6(e))&amp;&amp;e.replace(reLatin,deburrLetter).replace(reComboMark,"")}var' deburr_1="deburr$1,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function" e="toString$5(e),void" e+(r?"_":"")+t.tolowercase()}),snakecase_1="snakeCase,snakeCase$1=getDefaultExportFromCjs(snakeCase_1);class" e.match(reasciiword)||[]}var="" e.match(reunicodeword)||[]}var="" function(e){return="" hasunicodeword$1(e){return="" null="t?void" rehasunicodeword.test(e)}var="" r}var="" t='{browser:"-",cacheKey:"-",country:"-",device:"-",gpsX:void' targetingprofile{constructor(){const="" unicodewords$1(e){return="" words$1(e,t,r){return="" words_1="words$1,arrayReduce=_arrayReduce,deburr=deburr_1,words=words_1,rsApos=&quot;[']&quot;,reApos=RegExp(rsApos,&quot;g&quot;);function">{this[e]=this.windowGetter(e,t[e])}),carodaConsoleSafe.info("TargetingProfile",".constructor","loaded")}async waitForReady(){var e;await(null==(e=libraryWindow.carodaTargetingProfile)?void 0:e.promiseToUpdate)}deviceType(){return this.device()}locale(){try{var e=this.unsafeLocale();if(-1===["cs","sk","en","fr","es","pl","bg","ro"].indexOf(e))throw new Error("unsupported language code "+e);return e}catch(e){return carodaConsoleSafe.warn("TargetingProfile",".locale",e),"en"}}unsafeLocale(){var e=pageLocation.host.match(/\.[a-z]+$/),e=e?e[0]:"";const t=renderDocument.querySelector("[lang]");return t&amp;&amp;t.lang&amp;&amp;("spanish"===t.lang?"es":t.lang.split("-")[0])||".cz"===e&amp;&amp;"cs"||".sk"===e&amp;&amp;"sk"||".pl"===e&amp;&amp;"pl"||".bg"===e&amp;&amp;"bg"||".ro"===e&amp;&amp;"ro"||".fr"===e&amp;&amp;"fr"||".es"===e&amp;&amp;"es"||"en"}path(){return encodeURIComponent(pageLocation.href.replace(/^https?..\/\/[^\/]+/,"").replace(/^([^\?]+)\?.*$/,"$1"))}url(){return encodeURIComponent(pageLocation.href)}windowGetter(e,t){const r=()=&gt;libraryWindow.carodaTargetingProfile;return()=&gt;get$2(r(),snakeCase$1(e),get$2(r(),e,t))}}const targetingProfile=new TargetingProfile;let interval,waiters=[];function iterateWaiters(){(waiters=waiters.filter(t=&gt;{try{return t[0]()?(t[1](),!1):!0}catch(e){return t[2](e),!1}})).length||(clearInterval(interval),interval=null)}async function waitFor(e,t=0){if(!e()){let r=e;if(t){const i=Date.now();r=()=&gt;{if(Date.now()-i&gt;t)throw new Error(`waiter timed out [max ${t}ms]`);return e()}}var n=new Promise((e,t)=&gt;waiters.push([r,e,t]));interval=interval||setInterval(iterateWaiters,100),await n}}async function wait(e){const t=Date.now();return waitFor(()=&gt;Date.now()-t&gt;e)}async function throwAfterTimeout(e){throw await wait(e),new Error("timeout!")}async function waitMs(t){return new Promise(e=&gt;setTimeout(e,t))}function baseLog(...e){carodaConsoleSafe.info("ConsentManagementGdpr",...e)}const tcfApi=getExternalDependency(e=&gt;e.__tcfapi&amp;&amp;{__tcfapi:e.__tcfapi},{keepFresh:!0}),persistentState$3=getPersistentState("tcf",{});function setTcfApi(e){return renderWindow.__tcfapi=e}function getTcfState(){return persistentState$3}function getConsentString(){var e;return(null==(e=persistentState$3.responseObject)?void 0:e.tcString)||""}async function setUpSafeFrameTCF(){const r=e=&gt;{var t=e===e.top;return!e.__tcfapiLocator?t?null:r(e.parent):e},o=r(renderWindow),s={};setTcfApi((e,t,r,n)=&gt;{var i,a;o?(a={__tcfapiCall:{callId:i=String(Math.random()),command:e,parameter:n,version:t}},s[i]=r,o.postMessage(a,"*")):r({msg:"CMP not found"},!1)});renderWindow.addEventListener("message",e=&gt;{let t;try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){return}var r=t.__tcfapiReturn;r&amp;&amp;"function"==typeof s[r.callId]&amp;&amp;(s[r.callId](r.returnValue,r.success),delete s[r.callId])},!1)}async function waitForTcfApi(e){if(persistentState$3.available=tcfApi.isAvailable(),persistentState$3.applies=isEuCountry(targetingProfile.country()),!tcfApi.isAvailable()){if(e&lt;=Date.now())throw new Error("wait for tcfApi timed out!");return await waitMs(50),waitForTcfApi(e)}}async function waitForCmpConsentV2(e){if(!tcfApi.isAvailable())throw new Error("tcfApi not available!");persistentState$3.responseObject=await getTCDataSafe(e),persistentState$3.applies=!1!==persistentState$3.responseObject.gdprApplies,persistentState$3.applies||delete persistentState$3.responseObject}async function getTCData(){let n=!1;return Promise.race([new Promise(r=&gt;{tcfApi.instance().__tcfapi("getTCData",2,(e,t)=&gt;{(t||n)&amp;&amp;r({res:e,success:t})})}),new Promise(r=&gt;{tcfApi.instance().__tcfapi("addEventListener",2,(e,t)=&gt;{e.listenerId&amp;&amp;tcfApi.instance().__tcfapi("removeEventListener",2,()=&gt;{},e.listenerId),n=!0,r({res:e,success:t})})})])}async function getTCDataSafe(e,t=""){var{res:r,success:n}=await Promise.race([getTCData(),throwAfterTimeout(e-Date.now())]);if(!n||!r)throw new Error("could not get TCData");var n="loaded"===r.cmpStatus,i="cmpuishown"===r.eventStatus,a=integrationConfig.waitForCMPDialogClosed(),o=JSON.stringify({isLoaded:n,isOpen:i,shouldWaitForDialogClosed:a});if(o!==t&amp;&amp;baseLog("getTCDataSafe",...[o]),n&amp;&amp;!i&amp;&amp;(r.tcString||!r.gdprApplies))return r;if(n&amp;&amp;!a)throw new Error("cmp dialog open");if(!i&amp;&amp;e<date.now())throw await="" error("get="" function="" new="" setnoconsent(){persistentstate$3.applies="isEuCountry(targetingProfile.country()),persistentState$3.responseObject=null,persistentState$3.consentGiven=!1}async" t="(...e)=" tcdata="" timeout");return="" waitforconsentunsafe(){var="" waitms(200),gettcdatasafe(e,o)}function="">baseLog("waitForConsentUnsafe",...e);if(void 0!==persistentState$3.applies)t("consent already resolved",persistentState$3);else{if(!await doesGdprApply())return t("does not apply to "+targetingProfile.country()),void setNoConsent();integrationConfig.shouldUseTcfSafeFrameApi()&amp;&amp;(t("setting up safe frame tcfApi"),setUpSafeFrameTCF());try{t("waiting for tcfApi"),await waitForTcfApi(Date.now()+3e3),t("got tcfApi"),t("wait for consent"),await waitForCmpConsentV2(Date.now()+1e4),persistentState$3.consentGiven=!!persistentState$3.responseObject,t("resolved",persistentState$3)}catch(e){t("error",e)}persistentState$3.applies||(t("does not apply"),setNoConsent())}}const waitForConsentGdpr=()=&gt;lock("waitForConsent",waitForConsentUnsafe);function isLocalStorageAllowed(){return isTcfPurpose1Enabled()}async function doesGdprApply(){return await targetingProfile.waitForReady(),isEuCountry(targetingProfile.country())||"-"===targetingProfile.country()}function isTcfPurpose1Enabled(){return!!isCarodaTcfDefined()&amp;&amp;Boolean(get$2(persistentState$3.responseObject,"purpose.consents[1]",!1))}function isCarodaTcfDefined(){return!!persistentState$3.responseObject}function not(t){return(...e)=&gt;!t(...e)}function or(...e){return(...r)=&gt;e.reduce((e,t)=&gt;e||t(...r),!1)}function and(...e){return(...r)=&gt;e.reduce((e,t)=&gt;e&amp;&amp;t(...r),!0)}function once$1(t,r){let n=!0;return(...e)=&gt;n?(n=!1,t(...e)):r}function runIf(t,r,n){return(...e)=&gt;r()?t(...e):n}const uspApi=getExternalDependency(e=&gt;e.__uspapi&amp;&amp;{__uspapi:e.__uspapi}),persistentState$2=getPersistentState("usp",{});function getUspState(){return persistentState$2}async function waitForConsentUsp(){if(await targetingProfile.waitForReady(),!persistentState$2.consentString&amp;&amp;!not(uspAppliesToCountry)()&amp;&amp;(await waitFor(()=&gt;uspApi.isAvailable(),3e3).catch(()=&gt;{}),uspApi.isAvailable())){persistentState$2.applies=!0;try{persistentState$2.consentString=await Promise.race([getUspData(),throwAfterTimeout(3e3)])}catch(e){carodaConsoleSafe.error("waitForConsentUsp","error",e),persistentState$2.consentString="1--"}}}async function getUspData(){return new Promise(r=&gt;{uspApi.instance().__uspapi("getUSPData",1,(e,t)=&gt;r(t?e.uspString:""))})}function uspAppliesToCountry(){var e=targetingProfile.country();return"us"===e||"-"===e}async function waitForConsent(){var e=Promise.all([waitForConsentGdpr(),waitForConsentUsp()]);integrationConfig.waitForConsent()?await e:carodaConsoleSafe.log("ConsentManagement",".waitForConsent","skipped by config")}function setItem(e,t){try{getLocalStorage().setItem(e,t)}catch(e){}}function getItem(e){let t=null;try{t=getLocalStorage().getItem(e)}catch(e){}return t}function removeItem(e){try{getLocalStorage().removeItem(e)}catch(e){}}function keys$6(){let e=[];try{e=Object.keys(getLocalStorage())}catch(e){}return e}function getLocalStorage(){return libraryWindow.localStorage}var localStorageHelper={getItem:runIf(getItem,isLocalStorageAllowed,null),keys:runIf(keys$6,isLocalStorageAllowed,[]),removeItem:runIf(removeItem,isLocalStorageAllowed),setItem:runIf(setItem,isLocalStorageAllowed)};const storageKey="caroda.history";function getCampaignViewHistoryHeader(){carodaConsoleSafe.info("CampaignViewHistory","getCampaignViewHistoryHeader");let e=localStorageHelper.getItem(storageKey);return(!e||8192<e.length)&&(carodaconsolesafe.info("campaignviewhistory","getcampaignviewhistoryheader","cleared ,localstoragehelper.setitem(storagekey,e)),e}function="" getcampaignviewhistory(e){carodaconsolesafe.info("campaignviewhistory","getcampaignviewhistory");try{var="" history"),e="{}" overflowed="" r='JSON.parse(t)["its_"+e];return[r[0],...r.slice(1).map(e=' t="getCampaignViewHistoryHeader();const" view="">e+r[0])].map(e=&gt;1e3*e)}catch(e){return carodaConsoleSafe.info("CampaignViewHistory","getCampaignViewHistory","no history",e),[]}}function enforceUserCapping(e,t){var r;e.match(/.caroda.io/)&amp;&amp;"tracking"===(r=e.split("?")[1].split("&amp;").map(e=&gt;e.split("=")).reduce((e,t)=&gt;({...e,[t[0]]:decodeURIComponent(t[1])}),{})).type&amp;&amp;r.eventType===t&amp;&amp;(carodaConsoleSafe.info("CampaignViewHistory","enforceUserCapping",r),iterateCampaignViewHistory(r.campaignId))}function iterateCampaignViewHistory(e){carodaConsoleSafe.info("CampaignViewHistory","iterateCampaignViewHistory",e);let t={};t=Object.assign({},JSON.parse(localStorageHelper.getItem(storageKey))),localStorageHelper.setItem(storageKey,"{}");var r="its_"+e;t[r]=t[r]||[],t[r].length?t[r].push(Math.floor(Date.now()/1e3)-t[r][0]):t[r].push(Math.floor(Date.now()/1e3)),carodaConsoleSafe.info("CampaignViewHistory","iterateCampaignViewHistory","storing",storageKey,JSON.stringify(t)),localStorageHelper.setItem(storageKey,JSON.stringify(t))}function isNil(e){return null==e}var isNil_1=isNil,_isNil=getDefaultExportFromCjs(isNil_1);function getFirstFibonacciGreaterThan(e){let t=1,r=1;for(;t&lt;=e;){var n=t+r;r=t,t=n}return t}function getFirstMultipleGreaterThan(e,t){return e-e%t+t}const{DOMParser:DOMParser$2}=libraryWindow,VALUE_UNKNOWN=-1,VALUE_PRIVATE=-2;function replaceTargetingTemplate(a,o={}){const s=o.playerInfo||{};var e=(e,t)=&gt;{const{macro:r,modifier:n}=extractMacroAndModifier(t.trim());var i=macroNameToVast4Format(a,r);if(vast4Macros()[i]){let e=vast4Macros()[i](o);return formatMacroValue(e=n&amp;&amp;"number"==typeof e?n(e):e)}return r in targetingProfile&amp;&amp;"function"==typeof targetingProfile[r]?String(targetingProfile[r]()):s.hasOwnProperty(r)?_isNil(s[r])?"":s[r]:libraryWindow.carodaTargetingProfile.hasOwnProperty(r)?_isNil(libraryWindow.carodaTargetingProfile[r])?"":libraryWindow.carodaTargetingProfile[r]:e};return a.replace(/\{\{([^\}]+)\}\}/g,e).replace(/\[([^\]]+)\]/g,e)}function extractMacroAndModifier(e){if(!(0<e.indexof(":")))return{macro:e};var[t,r]=e.split(":");return{macro:r,modifier:getmodifierbyname(t)}}function e="" getmodifierbyname(e){if("fib"="e)return">getFirstFibonacciGreaterThan(e);if(e.match(/(\d)n/)){var t=e.match(/(\d)n/)[1];const r=parseInt(t,10);return e=&gt;getFirstMultipleGreaterThan(e,r)}}function macroNameToVast4Format(e,t){var r=t.replace(/_/g,"").toUpperCase();return/smartadserver\.com/.test(e)&amp;&amp;"TIMESTAMP"===r?"UNIXTIMESTAMP":r}function formatMacroValue(e){if(void 0===e)return"";let t;const r=(t=Array.isArray(e)?e.map(String):[String(e)]).map(encodeURIComponent);return r.join(",")}const vast4Macros=()=&gt;({TIMESTAMP:()=&gt;(new Date).toISOString(),CACHEBUSTING:()=&gt;Math.floor(1e7+9e7*Math.random()),CONTENTPLAYHEAD:({contentPlayer:e})=&gt;e?secondsToTimeCode(e.getCurrentTime()):VALUE_UNKNOWN,MEDIAPLAYHEAD:({contentPlayer:e})=&gt;e?secondsToTimeCode(e.getCurrentTime()):VALUE_UNKNOWN,BREAKPOSITION:({adBreakPosition:e})=&gt;adBreakPositionToVastCode(e),TRANSACTIONID:({transactionId:e})=&gt;e||VALUE_UNKNOWN,PLACEMENTTYPE:({adPlacement:e})=&gt;e?adPlacementToVastCode(e):VALUE_UNKNOWN,ADTYPE:({vastContent:e})=&gt;e?getAdType$1(e):VALUE_UNKNOWN,UNIVERSALADID:({vastContent:e})=&gt;e?getUniversalAdId(e):VALUE_UNKNOWN,CLIENTUA:()=&gt;"CarodaPlayer CarodaVastClient",SERVERUA:()=&gt;VALUE_UNKNOWN,DEVICEUA:()=&gt;libraryWindow.navigator.userAgent,SERVERSIDE:()=&gt;0,DEVICEIP:()=&gt;VALUE_PRIVATE,LATLONG:()=&gt;targetingProfile.gpsY()||targetingProfile.gpsX()?[targetingProfile.gpsY(),targetingProfile.gpsX()]:VALUE_PRIVATE,DOMAIN:()=&gt;integrationConfig.isSafeFrame()?renderDocument.referrer.replace(/\//g,"").replace(/^.*:/,""):pageLocation.hostname,PAGEURL:()=&gt;integrationConfig.isSafeFrame()?pageLocation.referrer:pageLocation.href,APPBUNDLE:()=&gt;0,VASTVERSIONS:()=&gt;[7,8,9,10,11,12,13,14],APIFRAMEWORKS:()=&gt;[2,7],EXTENSIONS:()=&gt;{},VERIFICATIONVENDORS:()=&gt;{},OMIDPARTNER:()=&gt;{},MEDIAMIME:()=&gt;{},CLICKTYPE:({vastContent:e})=&gt;getClickType(e),PLAYERSIZE:({playerInfo:e})=&gt;getPlayerSize(e),PODSEQUENCE:({vastContent:e})=&gt;e?getPodSequence(e):VALUE_UNKNOWN,ADSERVINGID:({vastContent:e})=&gt;e?getAdServingId(e):VALUE_UNKNOWN,REGULATIONS:()=&gt;[getTcfState().applies&amp;&amp;"gdpr",getUspState().applies&amp;&amp;"usp"].filter(Boolean),GDPR:()=&gt;getTcfState().applies?1:0,GDPRCONSENT:()=&gt;{var e;return(null==(e=getTcfState().responseObject)?void 0:e.tcString)||VALUE_UNKNOWN},HASGDPRCONSENT:()=&gt;getTcfState().responseObject?1:0,GDPRCONSENTGIVEN:()=&gt;getTcfState().consentGiven?1:0,TCFAVAILABLE:()=&gt;getTcfState().available?1:0,SID:()=&gt;localStorageHelper.getItem("sid"),REFERER:()=&gt;pageLocation.origin+pageLocation.pathname,REFERER_DOMAIN:()=&gt;pageLocation.hostname,WIDTH:({playerInfo:e={}})=&gt;e.playerWidth||"",HEIGHT:({playerInfo:e={}})=&gt;e.playerHeight||"",USP:()=&gt;getUspState().applies?1:0,USPCONSENT:()=&gt;getUspState().consentString||VALUE_UNKNOWN,USPRIVACY:()=&gt;getUspState().consentString||VALUE_UNKNOWN,BREAKPOSITIONINDEX:({adBreakIndex:e})=&gt;null==e?VALUE_UNKNOWN:e+1,BREAKPOSITIONNAME:({adBreakPosition:e})=&gt;e||"unknown",UNIXTIMESTAMP:()=&gt;Math.floor((new Date).getTime()/1e3),BLOCKEDADCATEGORIES:()=&gt;VALUE_UNKNOWN,ADCATEGORIES:()=&gt;VALUE_UNKNOWN,ADCOUNT:()=&gt;VALUE_UNKNOWN,BREAKMAXDURATION:()=&gt;VALUE_UNKNOWN,BREAKMINDURATION:()=&gt;VALUE_UNKNOWN,BREAKMAXADS:()=&gt;VALUE_UNKNOWN,BREAKMINADLENGTH:()=&gt;VALUE_UNKNOWN,BREAKMAXADLENGTH:()=&gt;VALUE_UNKNOWN,IFA:()=&gt;VALUE_UNKNOWN,IFATYPE:()=&gt;VALUE_UNKNOWN,PLAYERSTATE:()=&gt;VALUE_UNKNOWN,INVENTORYSTATE:()=&gt;VALUE_UNKNOWN,ADPLAYHEAD:()=&gt;VALUE_UNKNOWN,ASSETURI:()=&gt;VALUE_UNKNOWN,CONTENTID:()=&gt;VALUE_UNKNOWN,CONTENTURI:()=&gt;VALUE_UNKNOWN,CLICKPOS:()=&gt;VALUE_UNKNOWN,ERRORCODE:()=&gt;VALUE_UNKNOWN,REASON:()=&gt;VALUE_UNKNOWN,LIMITADTRACKING:()=&gt;VALUE_UNKNOWN});function secondsToTimeCode(e){const t=new Date(0);return t.setSeconds(e),t.toISOString().substr(11,8)}function adBreakPositionToVastCode(e="standalone"){switch(e){case"preroll":return 1;case"midroll":return 2;case"postroll":return 3;case"standalone":return 4;default:return 0}}function adPlacementToVastCode(e){switch(e){case"in-stream":return 1;case"in-banner":return 2;case"in-article":return 3;case"in-feed":return 4;case"interstitial":return 5;default:return VALUE_UNKNOWN}}function getUniversalAdId(e){try{const r=new DOMParser$2,n=r.parseFromString(e,"text/xml"),i=n.querySelector("UniversalAdId");var t=i.getAttribute("idRegistry");const a=i.getAttribute("idValue")||i.textContent;return t+" "+a.trim()}catch(e){return VALUE_UNKNOWN}}function getClickType(e){try{const t=new DOMParser$2,r=t.parseFromString(e,"text/xml"),n=r.querySelector("MediaFile").getAttribute("apiFramework")||"";return"vpaid"===n.trim().toLowerCase()?VALUE_UNKNOWN:1}catch(e){return VALUE_UNKNOWN}}function getPlayerSize(e){return e&amp;&amp;e.playerWidth&amp;&amp;e.playerHeight?[e.playerWidth,e.playerHeight]:VALUE_UNKNOWN}function getPodSequence(e){try{const r=new DOMParser$2,n=r.parseFromString(e,"text/xml");var t=n.querySelector("Ad").getAttribute("sequence");return t&amp;&amp;parseInt(t,10)||VALUE_UNKNOWN}catch(e){return VALUE_UNKNOWN}}function getAdServingId(e){try{const t=new DOMParser$2,r=t.parseFromString(e,"text/xml");return r.querySelector("Ad inline AdServingId").textContent.trim()}catch(e){return VALUE_UNKNOWN}}function getAdType$1(e){try{const t=new DOMParser$2,r=t.parseFromString(e,"text/xml");return r.querySelector("Ad").getAttribute("adType")||VALUE_UNKNOWN}catch(e){return VALUE_UNKNOWN}}const safeFrameLibrary=getExternalDependency(e=&gt;e.$sf&amp;&amp;e.$sf.ext,{ownerWindow:getTopUsableWindow()});async function initAutoResize(r){carodaConsoleSafe.info("SafeFrameController","initAutoResize",r),renderDocument.body.classList.add("carodaSafeFrame");var e=r.geom(),e=(carodaConsoleSafe.info("SafeFrameController","initAutoResize","got geom",e),r.register(e.self.w,e.self.h,(e,...t)=&gt;{carodaConsoleSafe.info("SafeFrameController","resp",e,...t,r.geom()),iterateWaiters()}),await waitFor(()=&gt;0<r.geom().exp.l&&0<r.geom().exp.r),r.geom());e.exp.l+e.exp.r+renderwindow.innerwidth<500&&(carodaconsolesafe.info("safeframecontroller","initautoresize","expanding 50<t.inviewpercentage();var="" getsafeframe(){return!1!="integrationConfig.isSafeFrame()&amp;&amp;safeFrameLibrary.isAvailable()?safeFrameLibrary.instance():null}function" horizontally"),r.expand({l:e.exp.l,r:e.exp.r}))}function="" isinverticalview(e){const="" r="e.getBoundingClientRect(),n=renderWindow.innerHeight||renderDocument.documentElement.clientHeight;return!(!r.height&amp;&amp;!r.width)&amp;&amp;(r.top" t="getSafeFrame();if(t)return">=-r.height/2&amp;&amp;r.bottom&lt;=n+r.height/2)}function isIframeContainedInViewport(e){const t=getSafeFrame();if(t)return"hidden"!==renderDocument.visibilityState&amp;&amp;50<t.inviewpercentage();var r="e.getBoundingClientRect();return!(!r.width&amp;&amp;!r.height)&amp;&amp;(r.top">=-r.height/2&amp;&amp;r.bottom&lt;=(renderWindow.innerHeight||renderDocument.documentElement.clientHeight)+r.height/2&amp;&amp;"hidden"!==renderDocument.visibilityState)}function isInViewport(e){const t=getSafeFrame();if(t)return 50<t.inviewpercentage();var 0<="r.top&amp;&amp;r.top&lt;=(renderWindow.innerHeight||renderDocument.documentElement.clientHeight)}function" new="" promise(r="" r="e.getBoundingClientRect();return" waitforelementtobenearviewport({elem:e,topoffset:t,bottomoffset:n}){return="">{new IntersectionObserver(([e],t)=&gt;{e.isIntersecting&amp;&amp;(t.disconnect(),r())},{rootMargin:t+`px 0px ${n}px 0px`}).observe(e)})}function getPlayerDimensions(e,t=16/9){var r=e.getBoundingClientRect(),n=Math.floor(r.width||640);return{playerHeight:Math.floor(r.height||n/t),playerWidth:n}}function isInClippedDiv(e){return!!e&amp;&amp;("hidden"===renderWindow.getComputedStyle(e).overflow||isInClippedDiv(e.parentElement))}function isFullWidthPage(){return Math.abs(renderDocument.documentElement.clientWidth-renderWindow.screen.width)&lt;20}async function waitUntilInView(e){if(!isInViewport(e)&amp;&amp;renderWindow.IntersectionObserver)return new Promise(r=&gt;{new IntersectionObserver((e,t)=&gt;{.5<e[0].intersectionratio&&(t.disconnect(),r())},{threshold:[.25,.5,.75,1]}).observe(e)})}function gethiddenprop(){return"hidden"in="" ishidden(e){return"hidden"="renderWindow.getComputedStyle(e).visibility}function" isthere3rdpartyfullscreen(e){return!!renderdocument.fullscreenelement&&!renderdocument.fullscreenelement.contains(e)}function="" renderdocument?"hidden":["webkit","moz","ms","o"].find(e="">e+"Hidden"in renderDocument)}function isBrowserHidden(){var e=getHiddenProp();return!!e&amp;&amp;renderDocument[e]}function getSeamlessMargin(e){var t=e.previousElementSibling,r=t&amp;&amp;renderWindow.getComputedStyle(t);return{bottom:t?r.marginBottom:"0px",top:t?"-"+r.marginBottom:"0px"}}function getStickyParent(e){if(e)return"sticky"===renderWindow.getComputedStyle(e).position?e:getStickyParent(e.parentElement)}function isSticky(e){return!!getStickyParent(e)}waitFor(()=&gt;!!getSafeFrame()).then(()=&gt;initAutoResize(getSafeFrame()));var shams=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&amp;&amp;0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&amp;&amp;0!==Object.getOwnPropertyNames(e).length)return!1;r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0},origSymbol="undefined"!=typeof Symbol&amp;&amp;Symbol,hasSymbolSham=shams,hasSymbols$1=function(){return"function"==typeof origSymbol&amp;&amp;("function"==typeof Symbol&amp;&amp;("symbol"==typeof origSymbol("foo")&amp;&amp;("symbol"==typeof Symbol("bar")&amp;&amp;hasSymbolSham())))},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(t){var r=this;if("function"!=typeof r||toStr$1.call(r)!==funcType)throw new TypeError(ERROR_MESSAGE+r);for(var n,e,i=slice.call(arguments,1),a=Math.max(0,r.length-i.length),o=[],s=0;s<a;s++)o.push("$"+s);return "+e+"="" $function('"use="" $gopd(arguments,"callee").get}catch(e){return="" $replace$1(e,repropname,function(e,t,r,n){i[i.length]='r?$replace$1(n,reEscapeChar,"$1"):t||e}),i},getBaseIntrinsic=function(e,t){var' $syntaxerror("intrinsic="" $syntaxerror("invalid="" $syntaxerror("property="" $typeerror$1("base="" $typeerror$1("intrinsic="" $typeerror$1('"allowmissing"="" $typeerror$1},throwtypeerror="$gOPD?function(){try{return" ("+o.join(",")+"){="" ('+e+").constructor;")()}catch(e){}},$gopd='Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch(e){$gOPD=null}var' ()="" 0!="(i=i===needsEval?doEval(n):i)||t)return{alias:r,name:n,value:i};throw" `%`");if("%"='r&amp;&amp;"%"!==t)throw' `%`");var="" a="" a)){if(t)return;throw="" aggregateerror?undefined$1:aggregateerror,"%array%":array,"%arraybuffer%":"undefined"="typeof" an="" argument="" arraybuffer?undefined$1:arraybuffer,"%arrayiteratorprototype%":hassymbols?getproto([][symbol.iterator]()):undefined$1,"%asyncfromsynciteratorprototype%":undefined$1,"%asyncfunction%":needseval,"%asyncgenerator%":needseval,"%asyncgeneratorfunction%":needseval,"%asynciteratorprototype%":needseval,"%atomics%":"undefined"="typeof" atomics?undefined$1:atomics,"%bigint%":"undefined"="typeof" available.="" available.")}a="$gOPD&amp;&amp;s+1" be="" bigint?undefined$1:bigint,"%boolean%":boolean,"%dataview%":"undefined"="typeof" binder.apply(this,arguments);="" boolean');var="" but="" c="r[s],d=$strSlice(c,0,1),u=$strSlice(c,-1);if(('&quot;'===d||&quot;'&quot;===d||&quot;`&quot;===d||'&quot;'===u||&quot;'&quot;===u||&quot;`&quot;===u)&amp;&amp;d!==u)throw" closing="" dataview?undefined$1:dataview,"%date%":date,"%decodeuri%":decodeuri,"%decodeuricomponent%":decodeuricomponent,"%encodeuri%":encodeuri,"%encodeuricomponent%":encodeuricomponent,"%error%":error,"%eval%":eval,"%evalerror%":evalerror,"%float32array%":"undefined"="typeof" does="" e(t){var="" e,e.prototype="null),n},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$1=functionBind,src$1=bind$1.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(e){try{return" e.__proto__},needseval='{},TypedArray="undefined"==typeof' e;return="" exist!")},getintrinsic='function(e,t){if("string"!=typeof' exists,="" expected="" e||0="e.length)throw" file="" finalizationregistry?undefined$1:finalizationregistry,"%function%":$function,"%generatorfunction%":needseval,"%int8array%":"undefined"="typeof" float32array?undefined$1:float32array,"%float64array%":"undefined"="typeof" float64array?undefined$1:float64array,"%finalizationregistry%":"undefined"="typeof" for="" function="" function*="" have="" i="INTRINSICS[n];if(void" if(null!="a){if(!(c" in="" instanceof="" int16array?undefined$1:int16array,"%int32array%":"undefined"="typeof" int32array?undefined$1:int32array,"%isfinite%":isfinite,"%isnan%":isnan,"%iteratorprototype%":hassymbols?getproto(getproto([][symbol.iterator]())):undefined$1,"%json%":"object"="typeof" int8array?undefined$1:int8array,"%int16array%":"undefined"="typeof" intrinsic="" is="" issue!")}throw="" json?json:undefined$1,"%map%":"undefined"="typeof" map&&hassymbols?getproto((new="" map)[symbol.iterator]()):undefined$1,"%math%":math,"%number%":number,"%object%":object,"%parsefloat%":parsefloat,"%parseint%":parseint,"%promise%":"undefined"="typeof" map?undefined$1:map,"%mapiteratorprototype%":"undefined"!="typeof" matching="" must="" n='Function("binder","return' n?(e="r.apply(this,i.concat(slice.call(arguments))),Object(e)===e?e:this):r.apply(t,i.concat(slice.call(arguments)))}),r.prototype&amp;&amp;((e=function(){}).prototype=r.prototype,n.prototype=new" name="" names="" new="" non-empty="" not="" opening="" please="" promise?undefined$1:promise,"%proxy%":"undefined"="typeof" property="" proxy?undefined$1:proxy,"%rangeerror%":rangeerror,"%referenceerror%":referenceerror,"%reflect%":"undefined"="typeof" quotes="" quotes");if("constructor"!='c&amp;&amp;l||(o=!0),hasOwn$1(INTRINSICS,d="%"+(n+="."+c)+"%"))a=INTRINSICS[d];else' r='stringToPath(e),n=0&lt;r.length?r[0]:"",i=getBaseIntrinsic("%"+n+"%",t),a=(i.name,i.value),o=!1,i=i.alias;i&amp;&amp;(n=i[0],$spliceApply(r,$concat$1([0,1],i)));for(var' r,n='e;if(hasOwn$1(LEGACY_ALIASES,n)&amp;&amp;(n="%"+(r=LEGACY_ALIASES[n])[0]+"%"),hasOwn$1(INTRINSICS,n)){var' r,n;return"%asyncfunction%"='t?r=getEvalledConstructor("async' reflect?undefined$1:reflect,"%regexp%":regexp,"%set%":"undefined"="typeof" return="" s="1,l=!0;s&lt;r.length;s+=1){var" set&&hassymbols?getproto((new="" set)[symbol.iterator]()):undefined$1,"%sharedarraybuffer%":"undefined"="typeof" set?undefined$1:set,"%setiteratorprototype%":"undefined"!="typeof" sharedarraybuffer?undefined$1:sharedarraybuffer,"%string%":string,"%stringiteratorprototype%":hassymbols?getproto(""[symbol.iterator]()):undefined$1,"%symbol%":hassymbols?symbol:undefined$1,"%syntaxerror%":$syntaxerror,"%throwtypeerror%":throwtypeerror,"%typedarray%":typedarray,"%typeerror%":$typeerror$1,"%uint8array%":"undefined"="typeof" strict";="" string");if(1<arguments.length&&"boolean"!="typeof" syntax,="" t='$strSlice(e,0,1),r=$strSlice(e,-1);if("%"===t&amp;&amp;"%"!==r)throw' t)throw="" the="" this="" throwtypeerror="function(){throw" throwtypeerror}catch(e){try{return="" throwtypeerror}}}():throwtypeerror,hassymbols="hasSymbols$1(),getProto=Object.getPrototypeOf||function(e){return" uint16array?undefined$1:uint16array,"%uint32array%":"undefined"="typeof" uint32array?undefined$1:uint32array,"%urierror%":urierror,"%weakmap%":"undefined"="typeof" uint8array?undefined$1:getproto(uint8array),intrinsics='{"%AggregateError%":"undefined"==typeof' uint8array?undefined$1:uint8array,"%uint8clampedarray%":"undefined"="typeof" uint8clampedarray?undefined$1:uint8clampedarray,"%uint16array%":"undefined"="typeof" weakmap?undefined$1:weakmap,"%weakref%":"undefined"="typeof" weakref?undefined$1:weakref,"%weakset%":"undefined"="typeof" weakset?undefined$1:weakset},doeval="function" with="" {}"):"%asyncgenerator%"="t?(n=e(&quot;%AsyncGeneratorFunction%&quot;))&amp;&amp;(r=n.prototype):&quot;%AsyncIteratorPrototype%&quot;===t&amp;&amp;(n=e(&quot;%AsyncGenerator%&quot;))&amp;&amp;(r=getProto(n.prototype)),INTRINSICS[t]=r},LEGACY_ALIASES={&quot;%ArrayBufferPrototype%&quot;:[&quot;ArrayBuffer&quot;,&quot;prototype&quot;],&quot;%ArrayPrototype%&quot;:[&quot;Array&quot;,&quot;prototype&quot;],&quot;%ArrayProto_entries%&quot;:[&quot;Array&quot;,&quot;prototype&quot;,&quot;entries&quot;],&quot;%ArrayProto_forEach%&quot;:[&quot;Array&quot;,&quot;prototype&quot;,&quot;forEach&quot;],&quot;%ArrayProto_keys%&quot;:[&quot;Array&quot;,&quot;prototype&quot;,&quot;keys&quot;],&quot;%ArrayProto_values%&quot;:[&quot;Array&quot;,&quot;prototype&quot;,&quot;values&quot;],&quot;%AsyncFunctionPrototype%&quot;:[&quot;AsyncFunction&quot;,&quot;prototype&quot;],&quot;%AsyncGenerator%&quot;:[&quot;AsyncGeneratorFunction&quot;,&quot;prototype&quot;],&quot;%AsyncGeneratorPrototype%&quot;:[&quot;AsyncGeneratorFunction&quot;,&quot;prototype&quot;,&quot;prototype&quot;],&quot;%BooleanPrototype%&quot;:[&quot;Boolean&quot;,&quot;prototype&quot;],&quot;%DataViewPrototype%&quot;:[&quot;DataView&quot;,&quot;prototype&quot;],&quot;%DatePrototype%&quot;:[&quot;Date&quot;,&quot;prototype&quot;],&quot;%ErrorPrototype%&quot;:[&quot;Error&quot;,&quot;prototype&quot;],&quot;%EvalErrorPrototype%&quot;:[&quot;EvalError&quot;,&quot;prototype&quot;],&quot;%Float32ArrayPrototype%&quot;:[&quot;Float32Array&quot;,&quot;prototype&quot;],&quot;%Float64ArrayPrototype%&quot;:[&quot;Float64Array&quot;,&quot;prototype&quot;],&quot;%FunctionPrototype%&quot;:[&quot;Function&quot;,&quot;prototype&quot;],&quot;%Generator%&quot;:[&quot;GeneratorFunction&quot;,&quot;prototype&quot;],&quot;%GeneratorPrototype%&quot;:[&quot;GeneratorFunction&quot;,&quot;prototype&quot;,&quot;prototype&quot;],&quot;%Int8ArrayPrototype%&quot;:[&quot;Int8Array&quot;,&quot;prototype&quot;],&quot;%Int16ArrayPrototype%&quot;:[&quot;Int16Array&quot;,&quot;prototype&quot;],&quot;%Int32ArrayPrototype%&quot;:[&quot;Int32Array&quot;,&quot;prototype&quot;],&quot;%JSONParse%&quot;:[&quot;JSON&quot;,&quot;parse&quot;],&quot;%JSONStringify%&quot;:[&quot;JSON&quot;,&quot;stringify&quot;],&quot;%MapPrototype%&quot;:[&quot;Map&quot;,&quot;prototype&quot;],&quot;%NumberPrototype%&quot;:[&quot;Number&quot;,&quot;prototype&quot;],&quot;%ObjectPrototype%&quot;:[&quot;Object&quot;,&quot;prototype&quot;],&quot;%ObjProto_toString%&quot;:[&quot;Object&quot;,&quot;prototype&quot;,&quot;toString&quot;],&quot;%ObjProto_valueOf%&quot;:[&quot;Object&quot;,&quot;prototype&quot;,&quot;valueOf&quot;],&quot;%PromisePrototype%&quot;:[&quot;Promise&quot;,&quot;prototype&quot;],&quot;%PromiseProto_then%&quot;:[&quot;Promise&quot;,&quot;prototype&quot;,&quot;then&quot;],&quot;%Promise_all%&quot;:[&quot;Promise&quot;,&quot;all&quot;],&quot;%Promise_reject%&quot;:[&quot;Promise&quot;,&quot;reject&quot;],&quot;%Promise_resolve%&quot;:[&quot;Promise&quot;,&quot;resolve&quot;],&quot;%RangeErrorPrototype%&quot;:[&quot;RangeError&quot;,&quot;prototype&quot;],&quot;%ReferenceErrorPrototype%&quot;:[&quot;ReferenceError&quot;,&quot;prototype&quot;],&quot;%RegExpPrototype%&quot;:[&quot;RegExp&quot;,&quot;prototype&quot;],&quot;%SetPrototype%&quot;:[&quot;Set&quot;,&quot;prototype&quot;],&quot;%SharedArrayBufferPrototype%&quot;:[&quot;SharedArrayBuffer&quot;,&quot;prototype&quot;],&quot;%StringPrototype%&quot;:[&quot;String&quot;,&quot;prototype&quot;],&quot;%SymbolPrototype%&quot;:[&quot;Symbol&quot;,&quot;prototype&quot;],&quot;%SyntaxErrorPrototype%&quot;:[&quot;SyntaxError&quot;,&quot;prototype&quot;],&quot;%TypedArrayPrototype%&quot;:[&quot;TypedArray&quot;,&quot;prototype&quot;],&quot;%TypeErrorPrototype%&quot;:[&quot;TypeError&quot;,&quot;prototype&quot;],&quot;%Uint8ArrayPrototype%&quot;:[&quot;Uint8Array&quot;,&quot;prototype&quot;],&quot;%Uint8ClampedArrayPrototype%&quot;:[&quot;Uint8ClampedArray&quot;,&quot;prototype&quot;],&quot;%Uint16ArrayPrototype%&quot;:[&quot;Uint16Array&quot;,&quot;prototype&quot;],&quot;%Uint32ArrayPrototype%&quot;:[&quot;Uint32Array&quot;,&quot;prototype&quot;],&quot;%URIErrorPrototype%&quot;:[&quot;URIError&quot;,&quot;prototype&quot;],&quot;%WeakMapPrototype%&quot;:[&quot;WeakMap&quot;,&quot;prototype&quot;],&quot;%WeakSetPrototype%&quot;:[&quot;WeakSet&quot;,&quot;prototype&quot;]},bind=functionBind,hasOwn$1=src$1,$concat$1=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace$1=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|([&quot;'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var" {}"):"%asyncgeneratorfunction%"='t?r=getEvalledConstructor("async' {}"):"%generatorfunction%"='t?r=getEvalledConstructor("function*' }")(function(){var="">=r.length?(l=!!(u=$gOPD(a,c)))&amp;&amp;"get"in u&amp;&amp;!("originalValue"in u.get)?u.get:a[c]:(l=hasOwn$1(a,c),a[c]),l&amp;&amp;!o&amp;&amp;(INTRINSICS[d]=a)}}return a},callBind$1={exports:{}},callBindExports=(!function(e){var r=functionBind,t=getIntrinsic,n=t("%Function.prototype.apply%"),i=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||r.call(i,n),o=t("%Object.getOwnPropertyDescriptor%",!0),s=t("%Object.defineProperty%",!0),l=t("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var t=a(r,i,arguments);return o&amp;&amp;s&amp;&amp;o(t,"length").configurable&amp;&amp;s(t,"length",{value:1+l(0,e.length-(arguments.length-1))}),t};function c(){return a(r,n,arguments)}s?s(e.exports,"apply",{value:c}):e.exports.apply=c}(callBind$1),callBind$1.exports),GetIntrinsic$1=getIntrinsic,callBind=callBindExports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function(e,t){var r=GetIntrinsic$1(e,!!t);return"function"==typeof r&amp;&amp;-1&lt;$indexOf(e,".prototype.")?callBind(r):r};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&amp;&amp;setTimeout)return(cachedSetTimeout=setTimeout)(t,0);try{return cachedSetTimeout(t,0)}catch(e){try{return cachedSetTimeout.call(null,t,0)}catch(e){return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&amp;&amp;clearTimeout)return(cachedClearTimeout=clearTimeout)(t);try{return cachedClearTimeout(t)}catch(e){try{return cachedClearTimeout.call(null,t)}catch(e){return cachedClearTimeout.call(this,t)}}}"function"==typeof global.setTimeout&amp;&amp;(cachedSetTimeout=setTimeout),"function"==typeof global.clearTimeout&amp;&amp;(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&amp;&amp;currentQueue&amp;&amp;(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&amp;&amp;drainQueue())}function drainQueue(){if(!draining){for(var e=runTimeout(cleanUpNextTick),t=(draining=!0,queue.length);t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentqueue&&currentqueue[queueindex].run();queueindex=-1,t=queue.length}currentqueue=null,draining=!1,runcleartimeout(e)}}function ")+"="" ")}for(var="" ")}function="" "+e.join(",="" "+e.join(",\n="" "+e}).join("\n")):s='e.stylize("[Circular]","special")),isUndefined(o)){if(a&amp;&amp;i.match(/^\d+$/))return' "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"="" "+o:a+=" " "+r.name:"")+"]"),isregexp$2(r)&&(a=" " "+r.name:"",t.stylize("[function"+a+"]","special");if(isregexp$2(r))return="" "+r[1]:r[0]+t+"="" "+r[1]}function="" "+s}function="" "\\t",="" "double"');if(has$3(s,"maxstringlength")&&("number"="typeof" "indent"="" "maxstringlength",="" "quotestyle"="" "single"="" "}function="" $replace.call(t,r,"$&_")}var="" %d:="" %s",t,0,e)}:debugs[t]="function(){}),debugs[t]}function" %s",timestamp(),format.apply(null,arguments))}function="" '="" )||a.push(formatproperty(t,r,n,i,e,!0))}),a}function="" +date.prototype.toutcstring.call(r)),iserror$1(r)&&(a=" " +formaterror(r)),0!='e.length||o&amp;&amp;0!=r.length?n&lt;0?isRegExp$2(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),e=o?formatArray(t,r,n,i,e):e.map(function(e){return' +inspect$1(o);return="" +json.stringify(t).replace(="" +regexp.prototype.tostring.call(r)),isdate$1(r)&&(a=" " ,browser='!0,env={},argv=[],version="",versions={},release={},config={};function' ,o='!1,s=["{","}"];return' ,platform="browser" -="" 0="e}function" 0;var="" 0}var="" 1e3}var="" 3<="arguments.length&amp;&amp;(r.depth=arguments[2]),4&lt;=arguments.length&amp;&amp;(r.colors=arguments[3]),isBoolean$1(t)?r.showHidden=t:t&amp;&amp;_extend(r,t),isUndefined(r.showHidden)&amp;&amp;(r.showHidden=!1),isUndefined(r.depth)&amp;&amp;(r.depth=2),isUndefined(r.colors)&amp;&amp;(r.colors=!1),isUndefined(r.customInspect)&amp;&amp;(r.customInspect=!0),r.colors&amp;&amp;(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function" 60<e.reduce(function(e,t){return="" =="typeof" [function"+(r.name?":="" \"custominspect\",="" \\"="" \u001b\[\d\d?m="" ^"|"$="" ^\d+$="" _extend(e,t){if(!t||!isobject$7(t))return="" `'symbol'`");if(has$3(s,"indent")&&null!='s.indent&amp;&amp;"\t"!==s.indent&amp;&amp;!(parseInt(s.indent,10)===s.indent&amp;&amp;0&lt;s.indent))throw' `false`,="" `null`');var="" `true`,="" a="" addnumericseparator(e,t){if(e="1/0||e===-1/0||e!=e||e&amp;&amp;-1e3&lt;e&amp;&amp;e&lt;1e3||$test.call(/e/,t))return" an="" array(arguments.length-1);if(1<arguments.length)for(var="" array.isarray(e)}function="" arraytohash(e){var="" a}function="" be="" bigint?bigint.prototype.valueof:null,gops='Object.getOwnPropertySymbols,symToString="function"==typeof' binding(e){throw="" buffer.isbuffer(e)}function="" chdir(e){throw="" cwd(){return"="" date).gettime()};function="" date,t='[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],t].join("' date-starttime)="" date;function="" date]"="objectToString$1(e)}function" debuglog(t){return="" debugs="{},debugEnviron;function" deprecate(e,t).apply(this,arguments)};if(!0="process.noDeprecation)return" deprecate(e,t){if(isundefined(global.process))return="" e="new" e&&(r-="e[0],(t-=e[1])&lt;0&amp;&amp;(r--,t+=1e9)),[r,t]}var" e&&null!="e}function" e){var="" e.__proto__}:null);function="" e.apply(this,arguments)}}var="" e.foreach(function(e){e.match(="" e.foreach(function(e,t){r[e]="!0}),r}function" e;for(var="" e;switch(e){case"%s":return="" e;var="" e<10?"0"+e.tostring(10):e.tostring(10)}inspect$1.colors='{bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var' error("process.binding="" error("process.chdir="" error(t);process.tracedeprecation?console.trace(t):console.error(t),r="!0}return" error)}function="" error]"="objectToString$1(e)||e" e||"number"="typeof" e||"string"="typeof" e||"symbol"="typeof" e||void="" e}function="" e}}),o='n[r];r&lt;i;o=n[++r])isNull(o)||!isObject$7(o)?a+="' format(e){if(!isstring$1(e)){for(var="" formatarray(t,r,n,i,e){for(var="" formaterror(e){return"["+error.prototype.tostring.call(e)+"]"}function="" formaterror(r);if(0="e.length){if(isFunction$1(r))return" formaterror(r)}var="" formatprimitive(e,t){return="" formatproperty(e,t,r,n,i,a){var="" formatproperty(t,r,n,i,e,o)}),t.seen.pop(),reducetosinglestring(e,a,s)):s[0]+a+s[1]}function="" formatvalue(t,r,n){if(t.custominspect&&r&&isfunction$1(r.inspect)&&r.inspect!="inspect$1&amp;&amp;(!r.constructor||r.constructor.prototype!==r))return" function(){if(!r){if(process.throwdeprecation)throw="" function(){return="" g,"").length+1},0)?r[0]+(""='t?"":t+"\n' g,"").replace(="" g,"\\'").replace(="" g,'"')+"'",e.stylize(r,"string")):isnumber$1(t)?e.stylize(""+t,"number"):isboolean$1(t)?e.stylize(""+t,"boolean"):isnull(t)?e.stylize("null","null"):void="" hasownproperty$8(e,t){return="" hrtime(e){var="" i='String(i),n=$slice.call(t,i.length+1),$replace.call(i,r,"$&amp;_")+"."+$replace.call($replace.call(n,/([0-9]{3})/g,"$&amp;_"),/_$/,"")}return' i(r,e,a,o){var="" if="" infinity,="" inspect$1(e,t){var="" instanceof="" integer="" integer,="" is="" isarray$e(e){return="" isarray$e(r)&&(o='!0,s=["[","]"]),isFunction$1(r)&amp;&amp;(a="' isboolean$1(e){return"boolean"="typeof" isbuffer$5(e){return="" isdate$1(e){return="" iserror$1(e){return="" isfunction$1(e){return"function"="typeof" isnull(e){return="" isnullorundefined(e){return="" isnumber$1(e){return"number"="typeof" isobject$7(e)&&"[object="" isobject$7(e)&&("[object="" isobject$7(e){return"object"="typeof" isprimitive(e){return="" isregexp$2(e){return="" isstring$1(e="r.inspect(n,t))?e:formatValue(t,e,n);var" isstring$1(e){return"string"="typeof" issymbol$2(e){return"symbol"="typeof" isundefined(debugenviron)&&(debugenviron='process.env.NODE_DEBUG||""),t=t.toUpperCase(),debugs[t]||(new' isundefined(e){return="" isundefined(t)?e.stylize("undefined","undefined"):isstring$1(t)?(r="'" item(e,t)),1!="queue.length||draining||runTimeout(drainQueue)}function" item(e,t){this.fun="e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var" json.stringify(n[r++])}catch(e){return"[circular]"}default:return="" log(){console.log("%s="" map&&map.prototype,mapsizedescriptor='Object.getOwnPropertyDescriptor&amp;&amp;hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&amp;&amp;mapSizeDescriptor&amp;&amp;"function"==typeof' mapsizedescriptor.get?mapsizedescriptor.get:null,mapforeach='hasMap&amp;&amp;Map.prototype.forEach,hasSet="function"==typeof' months='["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function' must="" n,i="e&lt;0?-$floor(-e):$floor(e);if(i!==e)return" new="" nexttick(e){var="" noop(){}var="" not="" null='e||"boolean"==typeof' number(n[r++]);case"%j":try{return="" o+":="" o,s,l='Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&amp;&amp;(s=e.stylize("[Setter]","special")),hasOwnProperty$8(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(l.value)&lt;0?-1&lt;(s=isNull(r)?formatValue(e,l.value,null):formatValue(e,l.value,r-1)).indexOf("\n")&amp;&amp;(s=a?s.split("\n").map(function(e){return"' object.create?function(e,t){e.super_="t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;function" object.prototype.hasownproperty.call(e,t)}var="" object.prototype.tostring.call(e)}function="" objecttostring$1(e){return="" on="noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function" or="" pad(e){return="" performance="global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new" positive="" process='{nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},inherits,inherits="function"==typeof' provided,="" r='/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof' r(){}r.prototype="t.prototype,e.prototype=new" r,e.prototype.constructor="e},inherits$1=inherits,formatRegExp=/%[sdj%]/g;function" r?"["+inspect$1.colors[r][0]+"m"+e+"["+inspect$1.colors[r][1]+"m":e}function="" reducetosinglestring(e,t,r){return="" reflect?reflect:object).getprototypeof||([].__proto__="Array.prototype?function(e){return" regexp("\\b"+t+"\\b","i").test(debugenviron)?debugs[t]="function(){var" regexp]"="objectToString$1(e)}function" r}function="" s='e||{};if(has$3(s,"quoteStyle")&amp;&amp;"single"!==s.quoteStyle&amp;&amp;"double"!==s.quoteStyle)throw' s.maxstringlength?s.maxstringlength<0&&s.maxstringlength!="1/0:null!==s.maxStringLength))throw" s;o="(o=JSON.stringify(&quot;&quot;+i)).match(/^&quot;([a-zA-Z_][a-zA-Z_0-9]*)&quot;$/)?(o=o.substr(1,o.length-2),e.stylize(o,&quot;name&quot;)):(o=o.replace(/'/g,&quot;\\'&quot;).replace(/\\&quot;/g,'&quot;').replace(/(^&quot;|&quot;$)/g,&quot;'&quot;),e.stylize(o,&quot;string&quot;))}return" set&&set.prototype,setsizedescriptor='Object.getOwnPropertyDescriptor&amp;&amp;hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&amp;&amp;setSizeDescriptor&amp;&amp;"function"==typeof' setsizedescriptor.get?setsizedescriptor.get:null,setforeach='hasSet&amp;&amp;Set.prototype.forEach,hasWeakMap="function"==typeof' starttime="new" string(n[r++]);case"%d":return="" stylizenocolor(e,t){return="" stylizewithcolor(e,t){var="" supported")}function="" symbol&&"object"="typeof" symbol&&"symbol"="typeof" symbol&&symbol.tostringtag&&(typeof="" symbol.iterator,tostringtag="function" symbol.iterator?symbol.prototype.tostring:null,hasshammedsymbols="function" symbol.tostringtag='hasShammedSymbols||"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=("function"==typeof' t='!has$3(s,"customInspect")||s.customInspect;if("boolean"!=typeof' t&&"symbol"!="t)throw" t.indexof("\n"),e+t.replace(="" t.join("="" t.stylize(date.prototype.tostring.call(r),"date");if(iserror$1(r))return="" t.stylize(regexp.prototype.tostring.call(r),"regexp");if(isdate$1(r))return="" t;var="" timestamp(){var="" title="browser" typeerror("option="" typeerror('option="" umask(){return="" uptime(){return(new="" util='{inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer$5,isPrimitive:isPrimitive,isFunction:isFunction$1,isError:isError$1,isDate:isDate$1,isObject:isObject$7,isRegExp:isRegExp$2,isUndefined:isUndefined,isSymbol:isSymbol$2,isString:isString$1,isNumber:isNumber$1,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean$1,isArray:isArray$e,inspect:inspect$1,deprecate:deprecate,format:format,debuglog:debuglog},util$1=Object.freeze({__proto__:null,_extend:_extend,debuglog:debuglog,default:util,deprecate:deprecate,format:format,inherits:inherits$1,inspect:inspect$1,isArray:isArray$e,isBoolean:isBoolean$1,isBuffer:isBuffer$5,isDate:isDate$1,isError:isError$1,isFunction:isFunction$1,isNull:isNull,isNullOrUndefined:isNullOrUndefined,isNumber:isNumber$1,isObject:isObject$7,isPrimitive:isPrimitive,isRegExp:isRegExp$2,isString:isString$1,isSymbol:isSymbol$2,isUndefined:isUndefined,log:log}),require$$0$2=getAugmentedNamespace(util$1),util_inspect=require$$0$2.inspect,hasMap="function"==typeof' utilinspect="util_inspect,inspectCustom=utilInspect.custom,inspectSymbol=isSymbol$1(inspectCustom)?inspectCustom:null,objectInspect=function" void="" weakmap&&weakmap.prototype,weakmaphas='hasWeakMap?WeakMap.prototype.has:null,hasWeakSet="function"==typeof' weakref&&weakref.prototype,weakrefderef='hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf="function"==typeof' weakset&&weakset.prototype,weaksethas='hasWeakSet?WeakSet.prototype.has:null,hasWeakRef="function"==typeof'> 0, or `null`');if(has$3(s,"numericSeparator")&amp;&amp;"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var n=s.numericSeparator;if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return inspectString(r,s);if("number"==typeof r){if(0===r)return 0&lt;1/0/r?"0":"-0";var l=String(r);return n?addNumericSeparator(r,l):l}if("bigint"==typeof r)return l=String(r)+"n",n?addNumericSeparator(r,l):l;n=void 0===s.depth?5:s.depth;if(n&lt;=(a=void 0===a?0:a)&amp;&amp;0<n&&"object"==typeof ")+"="" "+$join.call(f,",="" "+f:"="" "+g[m].name+"="+wrapQuotes(quote(g[m].value)," (anonymous)")+"]"+(0<(f='arrObjKeys(r,p)).length?"' ),h+="&lt;/" +$tolowercase.call(string(r.nodename))+"="" +$tolowercase.call(string(r.nodename)),g='r.attributes||[],m=0;m&lt;g.length;m++)h+="' ,r.childnodes&&r.childnodes.length&&(h+="..." 0="o)o=[];else" c,d,u,l="getIndent(s,a);if(void" double",s);return="" f='hasShammedSymbols?$replace.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(r),"object"!=typeof' h="&lt;" h+="&gt;" if(0<='indexOf(o,r))return"[Circular]";function' isarray$d(r)?"[array]":"[object]";var="" n;return="" p(e,t,r){var="" r&&!isregexp$1(r))return"[function"+((f='nameOf(r))?":' r)return="" r||hasshammedsymbols?f:markboxed(f);if(iselement(r)){for(var="" t&&(o='$arrSlice.call(o)).push(t),r?(n={depth:s.depth},has$3(s,"quoteStyle")&amp;&amp;(n.quoteStyle=s.quoteStyle),i(e,n,a+1,o)):i(e,s,a+1,o)}if("function"==typeof' {="" }":"");if(issymbol$1(r))return="">"}if(isArray$d(r)){if(0===r.length)return"[]";var f=arrObjKeys(r,p);return l&amp;&amp;!singleLineValues(f)?"["+indentedJoin(f,l)+"]":"[ "+$join.call(f,", ")+" ]"}if(isError(r))return f=arrObjKeys(r,p),"cause"in Error.prototype||!("cause"in r)||isEnumerable.call(r,"cause")?0===f.length?"["+String(r)+"]":"{ ["+String(r)+"] "+$join.call(f,", ")+" }":"{ ["+String(r)+"] "+$join.call($concat.call("[cause]: "+p(r.cause),f),", ")+" }";if("object"==typeof r&amp;&amp;t){if(inspectSymbol&amp;&amp;"function"==typeof r[inspectSymbol]&amp;&amp;utilInspect)return utilInspect(r,{depth:n-a});if("symbol"!==t&amp;&amp;"function"==typeof r.inspect)return r.inspect()}return isMap$2(r)?(c=[],mapForEach.call(r,function(e,t){c.push(p(t,r,!0)+" =&gt; "+p(e,r))}),collectionOf("Map",mapSize.call(r),c,l)):isSet$2(r)?(d=[],setForEach.call(r,function(e){d.push(p(e,r))}),collectionOf("Set",setSize.call(r),d,l)):isWeakMap(r)?weakCollectionOf("WeakMap"):isWeakSet(r)?weakCollectionOf("WeakSet"):isWeakRef(r)?weakCollectionOf("WeakRef"):isNumber(r)?markBoxed(p(Number(r))):isBigInt(r)?markBoxed(p(bigIntValueOf.call(r))):isBoolean(r)?markBoxed(booleanValueOf.call(r)):isString(r)?markBoxed(p(String(r))):isDate(r)||isRegExp$1(r)?String(r):(f=arrObjKeys(r,p),n=gPO?gPO(r)===Object.prototype:r instanceof Object||r.constructor===Object,t=r instanceof Object?"":"null prototype",u=!n&amp;&amp;toStringTag&amp;&amp;Object(r)===r&amp;&amp;toStringTag in r?$slice.call(toStr(r),8,-1):t?"Object":"",n=(!n&amp;&amp;"function"==typeof r.constructor&amp;&amp;r.constructor.name?r.constructor.name+" ":"")+(u||t?"["+$join.call($concat.call([],u||[],t||[]),": ")+"] ":""),0===f.length?n+"{}":l?n+"{"+indentedJoin(f,l)+"}":n+"{ "+$join.call(f,", ")+" }")};function wrapQuotes(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function quote(e){return $replace.call(String(e),/"/g,""")}function isArray$d(e){return!("[object Array]"!==toStr(e)||toStringTag&amp;&amp;"object"==typeof e&amp;&amp;toStringTag in e)}function isDate(e){return!("[object Date]"!==toStr(e)||toStringTag&amp;&amp;"object"==typeof e&amp;&amp;toStringTag in e)}function isRegExp$1(e){return!("[object RegExp]"!==toStr(e)||toStringTag&amp;&amp;"object"==typeof e&amp;&amp;toStringTag in e)}function isError(e){return!("[object Error]"!==toStr(e)||toStringTag&amp;&amp;"object"==typeof e&amp;&amp;toStringTag in e)}function isString(e){return!("[object String]"!==toStr(e)||toStringTag&amp;&amp;"object"==typeof e&amp;&amp;toStringTag in e)}function isNumber(e){return!("[object Number]"!==toStr(e)||toStringTag&amp;&amp;"object"==typeof e&amp;&amp;toStringTag in e)}function isBoolean(e){return!("[object Boolean]"!==toStr(e)||toStringTag&amp;&amp;"object"==typeof e&amp;&amp;toStringTag in e)}function isSymbol$1(e){if(hasShammedSymbols)return e&amp;&amp;"object"==typeof e&amp;&amp;e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!symToString)return!1;try{return symToString.call(e),!0}catch(e){}return!1}function isBigInt(e){if(!e||"object"!=typeof e||!bigIntValueOf)return!1;try{return bigIntValueOf.call(e),!0}catch(e){}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(e){return e in this};function has$3(e,t){return hasOwn.call(e,t)}function toStr(e){return objectToString.call(e)}function nameOf(e){if(e.name)return e.name;var t=$match.call(functionToString.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function indexOf(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return e="" e)&&("undefined"!="typeof" e)return!1;try{mapsize.call(e);try{setsize.call(e)}catch(e){return!0}return="" e)return!1;try{return="" e)return!1;try{setsize.call(e);try{mapsize.call(e)}catch(e){return!0}return="" e)return!1;try{weakmaphas.call(e,weakmaphas);try{weaksethas.call(e,weaksethas)}catch(e){return!0}return="" e)return!1;try{weaksethas.call(e,weaksethas);try{weakmaphas.call(e,weakmaphas)}catch(e){return!0}return="" e.getattribute)}function="" e.length="" e.nodename&&"function"="typeof" htmlelement&&e="" htmlelement||"string"="typeof" inspectstring(e,t){var="" instanceof="" iselement(e){return!(!e||"object"!="typeof" ismap$2(e){if(!mapsize||!e||"object"!="typeof" isset$2(e){if(!setsize||!e||"object"!="typeof" isweakmap(e){if(!weakmaphas||!e||"object"!="typeof" isweakref(e){if(!weakrefderef||!e||"object"!="typeof" isweakset(e){if(!weaksethas||!e||"object"!="typeof" map}catch(e){}return!1}function="" r;return="" r;return-1}function="" set}catch(e){}return!1}function="" weakmap}catch(e){}return!1}function="" weakrefderef.call(e),!0}catch(e){}return!1}function="" weakset}catch(e){}return!1}function="">t.maxStringLength?(r="... "+(r=e.length-t.maxStringLength)+" more character"+(1<r?"s":""),inspectstring($slice.call(e,0,t.maxstringlength),t)+r):wrapquotes($replace.call($replace.call(e, "))+"}"}function="" ");if("iso-8859-1"="r)return" ")}return{base:r,prev:$join.call(array(t+1),r)}}function="" "+inspect(e))},get:function(e){if($weakmap&&e&&("object"="typeof" "+t(e[a],e)));if("function"="typeof" "+t(e[a],e)):n.push(a+":="" "+t(e[o[c]],e));return="" $map,$mapset(n,e,t)):listset(i="i||{key:{},next:null},e,t)}};return" $mapget(n,e)}else="" $maphas(n,e)}else="" $typeerror("side="" $weakmap,$weakmapset(r,e,t)):$map?(n="n||new" $weakmapget(r,e)}else="" $weakmaphas(r,e)}else="" %[0-9a-f]{2}="" %u[0-9a-f]{4}="" ("+t+")="" (['\\])="" +t.prev+t.base;return="" ,a)?n.push(t(a,e)+":="" ,s="0;s&lt;a.length;++s){var" 0!="e[n]&amp;&amp;(r[n]=e[n]);return" =="typeof" ?="" [\x00-\x1f]="" [^\w$]="" a='e;if("symbol"==typeof' a){if(isarray$c(i))i.push(a);else{if(!i||"object"!="typeof" a,o="function" arrobjkeys(e,t){var="" c='0;c&lt;o.length;c++)isEnumerable.call(e,o[c])&amp;&amp;n.push("["+t(o[c])+"]:' channel="" collectionof(e,t,r,n){return="" contain="" decodeuricomponent(n)}catch(e){return="" does="" e="i;return" e&&(a='String(e)),"iso-8859-1"===r)return' e)!has$3(e,a)||r&&string(number(a))='a&amp;&amp;a&lt;e.length||hasShammedSymbols&amp;&amp;s["$"+a]instanceof' e)){if(r)return="" e)?(r="r||new" e+"="" e.indent&&0<e.indent))return="" e;var="" e?a='Symbol.prototype.toString.call(e):"string"!=typeof' e?i[t]="n(r,e,o):i.push(e):i[t]=e}),i):Object.keys(a).reduce(function(e,t){var" e[t]="r[t],e},e)},decode=function(e,t,r){var" escape(a).replace(="" e||"function"="typeof" e}(),compactqueue="function(e){for(;1&lt;e.length;){var" g,"\\$1"),="" g,lowbyte),"single",t)}function="" getindent(e,t){var="" getintrinsic='getIntrinsic,callBound=callBound$1,inspect=objectInspect,$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(e,t){for(var' gi,function(e){return"%26%23"+parseint(e.slice(2),16)+"%3b"});for(var="" gi,unescape);try{return="" gops)for(var="" gops?gops(e):[];if(hasshammedsymbols)for(var="" has$2.call(e,t)?e[t]="n(e[t],r,o):e[t]=r,e},e)},assign=function(e,r){return" i='0;i&lt;e.length;i++)n[i]=has$3(e,i)?t(e[i],e):""}var' i)return[i,a];(o&&(o.plainobjects||o.allowprototypes)||!has$2.call(object.prototype,a))&&(i[a]="!0)}return" i)return[i].concat(a);var="" i;if("object"!="typeof" if($map){if(n)return="" if(i)return="" in="" indentedjoin(e,t){if(0='e.length)return"";var' isarray$c(i)&&!isarray$c(a)&&(e="arrayToObject(i,o)),isArray$c(i)&amp;&amp;isArray$c(a)?(a.forEach(function(e,t){var" i}if(!i||"object"!="typeof" l="a.charCodeAt(s);45===l||46===l||95===l||126===l||48&lt;=l&amp;&amp;l&lt;=57||65&lt;=l&amp;&amp;l&lt;=90||97&lt;=l&amp;&amp;l&lt;=122||i===formats$3.RFC1738&amp;&amp;(40===l||41===l)?o+=a.charAt(s):l&lt;128?o+=hexTable[l]:l&lt;2048?o+=hexTable[192|l" listget(i,e)},has:function(e){if($weakmap&&e&&("object"="typeof" listhas(i,e);return!1},set:function(e,t){$weakmap&&e&&("object"="typeof" lowbyte(e){var="" markboxed(e){return"object("+e+")"}function="" n='e.replace(/\+/g,"' n(i,a,o){if(!a)return="" n.next="r.next,r.next=e.next,e.next=r},listGet=function(e,t){var" n.replace(="" new="" not="" null;r='$join.call(Array(e.indent+1),"' n}var="" n}},encode="function(e,t,r,n,i){if(0===e.length)return" o="" object.keys(r).reduce(function(e,t){return="" r="a[t];return" r&&e&&"object"="typeof" r&&r.value},listset="function(e,t,r){var" r+$join.call(e,","+r)+"\n"+t.prev}function="" r,n="e;null!==(r=n.next);n=r)if(r.key===t)return" r,n,i,t="{assert:function(e){if(!t.has(e))throw" r;has$2.call(i,t)?(r='i[t])&amp;&amp;"object"==typeof' r;if("\t"='e.indent)r="\t";else{if(!("number"==typeof' r?"\\"+r:"\\x"+(t<16?"0":"")+$touppercase.call(t.tostring(16))}function="" replace.call(e,percenttwenties,"+")},rfc3986:function(e){return="" r},merge="function" s='{},l=0;l&lt;o.length;l++)s["$"+o[l]]=o[l];for(a' singlelinevalues(e){for(var="" string(e)}},rfc1738:format.rfc1738,rfc3986:format.rfc3986},formats$3="formats$4,has$2=Object.prototype.hasOwnProperty,isArray$c=Array.isArray,hexTable=function(){for(var" symbol||($test.call(="" t="e.pop(),r=t.obj[t.prop];if(isArray$c(r)){for(var" t},replace='String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$4={default:Format.RFC3986,formatters:{RFC1738:function(e){return' weakcollectionof(e){return="" {="" {"+(n?indentedjoin(r,n):$join.call(r,",="" }"}function="">&gt;6]+hexTable[128|63&amp;l]:l&lt;55296||57344&lt;=l?o+=hexTable[224|l&gt;&gt;12]+hexTable[128|l&gt;&gt;6&amp;63]+hexTable[128|63&amp;l]:(s+=1,l=65536+((1023&amp;l)&lt;&lt;10|1023&amp;a.charCodeAt(s)),o+=hexTable[240|l&gt;&gt;18]+hexTable[128|l&gt;&gt;12&amp;63]+hexTable[128|l&gt;&gt;6&amp;63]+hexTable[128|63&amp;l])}return o},compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var $,i='A[T],k="object"==typeof' &#(\d+);="" ,charsetsentinel="utf8=%E2%9C%93" ,parsevalues="function(e,t){var" 0='e.allowDots?defaults.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof' 0!='e.charset&amp;&amp;"utf-8"!==e.charset&amp;&amp;"iso-8859-1"!==e.charset)throw' 0:t.parameterlimit,c='s.split(t.delimiter,l),d=-1,u=t.charset;if(t.charsetSentinel)for(r=0;r&lt;c.length;++r)0===c[r].indexOf("utf8=")&amp;&amp;(c[r]===charsetSentinel?u="utf-8":c[r]===isoSentinel&amp;&amp;(u="iso-8859-1"),d=r,r=c.length);for(r=0;r&lt;c.length;++r)r!==d&amp;&amp;((a=-1===(a=-1===(a=(n=c[r]).indexOf("]="))?n.indexOf("="):a+1)?(i=t.decoder(n,defaults.decoder,u,"key"),t.strictNullHandling?null:""):(i=t.decoder(n.slice(0,a),defaults.decoder,u,"key"),utils.maybeMap(parseArrayValue(n.slice(a+1),t),function(e){return' 0}]:isarray$b(s)?s:(s="Object.keys(f),l?S.sort(l):S);for(var" =="typeof" _="y.get(t);if(v+=1,void" a="" a,p="[];if(void" arrayprefixgenerators?t.arrayformat:!(t&&"indices"in="" be="" c="0;0&lt;r.depth&amp;&amp;null!==(o=a.exec(i))&amp;&amp;c&lt;r.depth;){if(c+=1,!r.plainObjects&amp;&amp;has.call(Object.prototype,o[1].slice(1,-1))&amp;&amp;!r.allowPrototypes)return;l.push(o[1])}return" c&&null!="c&amp;&amp;-1===r.indexOf(c)&amp;&amp;(t.push({obj:a,prop:l}),r.push(c))}return" charset="" compactqueue(t),e},isregexp='function(e){return"[object' d="s[c];n.skipNulls&amp;&amp;null===r[d]||pushToArray(i,stringify$3(r[d],d,o,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var" date?d(e):e})),null="f){if(i)return" date?f='d(f):"comma"===n&amp;&amp;isArray$b(f)&amp;&amp;(f=utils$1.maybeMap(f,function(e){return' defaults$1;if(null!="e.encoder&amp;&amp;void" defaults;if(null!="e.decoder&amp;&amp;void" e="" e&&"string"="typeof" e&&t.comma&&-1<e.indexof(",")?e.split(","):e},isosentinel="utf8=%26%2310003%3B" e(t,r,n,i,a,o,s,l,c,d,u,p,h,g,m){for(var="" e)&&!!(e.constructor&&e.constructor.isbuffer&&e.constructor.isbuffer(e))},combine$1="function(e,t){return[].concat(e,t)},maybeMap=function(e,t){if(isArray$c(e)){for(var" e),i="utils.merge(i,s,r);return!0===r.allowSparse?i:utils.compact(i)},stringify$2=stringify_1,parse$4=parse$5,formats$1=formats$4,lib$1={formats:formats$1,parse:parse$4,stringify:stringify$2};const" e+"["+t+"]"},repeat:function(e){return="" e+"[]"},comma:"comma",indices:function(e,t){return="" e.addqueryprefix?e:defaults$1).addqueryprefix,allowdots:void="" e.allowprototypes?e:defaults).allowprototypes,allowsparse:("boolean"="typeof" e.allowsparse?e:defaults).allowsparse,arraylimit:("number"="typeof" e.arraylimit?e:defaults).arraylimit,charset:t,charsetsentinel:("boolean"="typeof" e.charsetsentinel?e:defaults$1).charsetsentinel,delimiter:(void="" e.charsetsentinel?e:defaults).charsetsentinel,comma:("boolean"="typeof" e.comma?e:defaults).comma,decoder:("function"="typeof" e.decoder)throw="" e.decoder?e:defaults).decoder,delimiter:("string"="typeof" e.delimiter||utils.isregexp(e.delimiter)?e:defaults).delimiter,depth:"number"="typeof" e.depth||!1='e.depth?+e.depth:defaults.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof' e.encode?e:defaults$1).encode,encoder:("function"="typeof" e.encoder)throw="" e.encoder?e:defaults$1).encoder,encodevaluesonly:("boolean"="typeof" e.encodevaluesonly?e:defaults$1).encodevaluesonly,filter:i,format:r,formatter:n,serializedate:("function"="typeof" e.filter&&!isarray$b(e.filter)||(i='e.filter),{addQueryPrefix:("boolean"==typeof' e.interpretnumericentities?e:defaults).interpretnumericentities,parameterlimit:("number"="typeof" e.parameterlimit?e:defaults).parameterlimit,parsearrays:!1!='e.parseArrays,plainObjects:("boolean"==typeof' e.plainobjects?e:defaults).plainobjects,strictnullhandling:("boolean"="typeof" e.replace(="" e.serializedate?e:defaults$1).serializedate,skipnulls:("boolean"="typeof" e.skipnulls?e:defaults$1).skipnulls,sort:"function"="typeof" e.sort?e.sort:null,strictnullhandling:("boolean"="typeof" e.strictnullhandling?e:defaults$1).strictnullhandling}},stringify_1="function(e,t){var" e.strictnullhandling?e:defaults).strictnullhandling}},parse$5="function(e,t){var" e?parsevalues(e,r):e,i="r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o&lt;a.length;++o)var" either="" e||"bigint"="typeof" e||"boolean"="typeof" e||"number"="typeof" e||"symbol"="typeof" e},sentinel="{},stringify$3=function" e}},isarray$b='Array.isArray,split$1=String.prototype.split,push=Array.prototype.push,pushToArray=function(e,t){push.apply(e,isArray$b(t)?t:[t])},toISO=Date.prototype.toISOString,defaultFormat=formats$2.default,defaults$1={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&amp;",encode:!0,encoder:utils$1.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$2.formatters[defaultFormat],indices:!1,serializeDate:function(e){return' f="t,y=m,v=0,b=!1;void" format="" function.");if(void="" function.");var="" g,function(e,t){return="" has="" i='r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=0&lt;r.depth&amp;&amp;/(\[[^[\]]*])/.exec(i),s=o?i.slice(0,o.index):i,l=[];if(s){if(!r.plainObjects&amp;&amp;has.call(Object.prototype,s)&amp;&amp;!r.allowPrototypes)return;l.push(s)}for(var' i&&void="" in="" instanceof="" iso-8859-1,="" i},parsekeys="function(e,t,r,n){if(e){var" l="getSideChannel(),c=0;c&lt;s.length;++c){var" must="" n="string" n.charsetsentinel&&("iso-8859-1"='n.charset?u+="utf8=%26%2310003%3B&amp;":u+="utf8=%E2%9C%93&amp;"),0&lt;a.length?u+a:""},utils=utils$2,has=Object.prototype.hasOwnProperty,isArray$a=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&amp;",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(e){return' n.filter?r='(0,n.filter)("",r):isArray$b(n.filter)&amp;&amp;(s=n.filter),[]);if("object"!=typeof' n?n(r,i):r:r+(c?"."+i:"["+i+"]"),m.set(t,v),($="getSideChannel()).set(sentinel,m),pushToArray(P,e(k,I,n,i,a,o,s,l,c,d,u,p,h,g,$)))}return" new="" o&&!h?o(r,defaults$1.encoder,g,"key",u):r;f="" o&&l.push("["+i.slice(o.index)+"]"),parseobject(l,t,r,n)}},normalizeparseoptions="function(e){if(!e)return" o,s,l,c='e[a];"[]"===c&amp;&amp;r.parseArrays?o=[].concat(i):(o=r.plainObjects?Object.create(null):{},s="["===c.charAt(0)&amp;&amp;"]"===c.charAt(c.length-1)?c.slice(1,-1):c,l=parseInt(s,10),r.parseArrays||""!==s?!isNaN(l)&amp;&amp;c!==s&amp;&amp;String(l)===s&amp;&amp;0&lt;=l&amp;&amp;r.parseArrays&amp;&amp;l&lt;=r.arrayLimit?(o=[])[l]=i:"__proto__"!==s&amp;&amp;(o[s]=i):o={0:i}),i=o}return' object="" option="" or="" o},parseobject="function(e,t,r,n){for(var" p;a="comma" provided.");r="e.format}var" p},normalizestringifyoptions="function(e){if(!e)return" r='normalizeParseOptions(t);if(""===e||null==e)return' r,n,i,a,o='{},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void' r.plainobjects?object.create(null):{};for(var="" rangeerror("cyclic="" regexp]"='Object.prototype.toString.call(e)},isBuffer$4=function(e){return!(!e||"object"!=typeof' r||null='r)return"";var' r}return="" s='a[o],s=parseKeys(s,n[s],r,"string"==typeof' s?f="s(r,f):f" string.fromcharcode(parseint(t,10))})},parsearrayvalue="function(e,t){return" t="(void" t(e)},utils$2="{arrayToObject:arrayToObject,assign:assign,combine:combine$1,compact:compact,decode:decode,encode:encode,isBuffer:isBuffer$4,isRegExp:isRegExp,maybeMap:maybeMap,merge:merge},getSideChannel=sideChannel,utils$1=utils$2,formats$2=formats$4,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(e){return" t)||t.indices?"indices":"repeat",o="arrayPrefixGenerators[a],s=s||Object.keys(r);n.sort&amp;&amp;s.sort(n.sort);for(var" t.decoder(e,defaults.decoder,u,"value")})))&&t.interpretnumericentities&&"iso-8859-1"='u&amp;&amp;(a=interpretNumericEntities(a)),-1&lt;n.indexOf("[]=")&amp;&amp;(a=isArray$a(a)?[a]:a),has.call(o,i)?o[i]=utils.combine(o[i],a):o[i]=a);return' to="" toiso.call(e)},skipnulls:!1,strictnullhandling:!1},isnonnullishprimitive='function(e){return"string"==typeof' tracktimetoloadonce="once$1(e=" typeerror("decoder="" typeerror("encoder="" typeerror("the="" typeerror("unknown="" undefined");var="" utf-8,="" value");b="!0}void" }if(isnonnullishprimitive(f)||utils$1.isbuffer(f)){if(o){var="">{e.trackTimeSinceLoad("time_to_load")}),trackTimeToImpressionOnce=once$1(e=&gt;{e.trackTimeSinceLoad("time_to_impression")}),trackTimeToLibraryLoadOnce=once$1(e=&gt;{var t=null==(r=null==(t=null==(t=null==(r=libraryWindow.performance)?void 0:r.getEntriesByType)?void 0:t.call(r,"navigation"))?void 0:t[0])?void 0:r.startTime,r=e.getTimeSinceLoad()-t;isNaN(r)||e.hitPlayerEvent("time_to_library_load",void 0,void 0,void 0,r)});class Tracking{constructor(e,t={}){carodaConsoleSafe.info("Tracking",".constructor",{config:t,globalConfigOverride:e}),this.placementId=t.placementId,this.playerContainer=t.playerContainer,this.context=t.context||{},this.creativeMetadata=null,this.configOverride=e,this.trackTimeToLoad=()=&gt;trackTimeToLoadOnce(this),this.trackTimeToImpression=()=&gt;trackTimeToImpressionOnce(this),trackTimeToLibraryLoadOnce(this)}static setUniqueImpression(e){const t=Tracking.getUniqueImpressionDict();return!t||t[e]?"fail":(t[e]=!0,localStorageHelper.setItem("caroda.uniqueImpressions",JSON.stringify(t)),"ok")}static getUniqueImpressionDict(){const e=libraryWindow;if(e.carodaUniqueImpressions)return e.carodaUniqueImpressions;e.carodaUniqueImpressions={};var t=localStorageHelper.getItem("caroda.uniqueImpressions");if(!t)return e.carodaUniqueImpressions;try{e.carodaUniqueImpressions=JSON.parse(t)}catch(e){return void carodaConsoleSafe.error("Tracking",".isUniqueImpression",e)}return e.carodaUniqueImpressions}setCreativeMetadata(e){this.creativeMetadata=e}addToContext(e){this.context={...this.context,...e}}setPlayerContainer(e){this.playerContainer=e}hitTrackingUrl(e,t=!1,r=!1,n="impression",i={}){var a=e.match(/^https:\/\/data.caroda.io.*campaignId=(cz[^&amp;]+)/),o=this.creativeMetadata&amp;&amp;this.creativeMetadata.durationSeconds,s=(r&amp;&amp;e.match(/impression_/)&amp;&amp;(t=!0),integrationConfig.onTrackingEvent()(e,this.playerContainer),{...this.context,playerInfo:{...this.context.playerInfo||{autoplay:!0,plcmt:()=&gt;"standalone"},...this.playerContainer?getPlayerDimensions(this.playerContainer):{}}}),l=(Object.keys(i).length&amp;&amp;(l=0&lt;=e.indexOf("?")?"&amp;":"?",e+=l+lib$1.stringify(i,{encode:!0})),enforceUserCapping(e=replaceTargetingTemplate(e,s),n),t&amp;&amp;a&amp;&amp;!r&amp;&amp;"ok"===Tracking.setUniqueImpression(a[1])&amp;&amp;this.hitTrackingUrl(e.replace("=impression","=unique_impression"),!1,!1),a&amp;&amp;e.match(/type=tracking/)&amp;&amp;o&amp;&amp;(e+="&amp;adDuration="+Math.round(o)),/data.caroda.io/.test(e)),s=this.getAllocatedExperiment();l&amp;&amp;s&amp;&amp;(a=0&lt;=e.indexOf("?")?"&amp;":"?",e+=a+"experiment="+encodeURIComponent(s)),carodaConsoleSafe.info("Tracking",".hitTrackingUrl","processed url",e),carodaConsoleSafe.debugMode||this.callUrl(e)}hitPlayerEvent(e,t=["",""],r,n,i,a,o={}){var s=this.createPlayerEventTrackingUrl(e,t,r,n,i,a);this.hitTrackingUrl(s,!1,!0,void 0,o),null!=e&amp;&amp;e.startsWith("impression")&amp;&amp;this.trackTimeToImpression()}createPlayerEventTrackingUrl(e,t=["",""],r,n,i,a){if(!integrationConfig.disableAds()||!e.match(/opportunity/)){const c=integrationConfig.websiteDomain();var[o,s]=t,l=(r=r||integrationConfig.contributorToken(this.configOverride),null!=a||(a=this.placementId),!["time_to_library_load","time_to_load","time_to_impression"].includes(e));return["https://data.caroda.io/api/hit.gif?type=player","&amp;ctok=",r,"&amp;domainName=",c,...a?["&amp;placementId=",encodeURIComponent(l?a:"N/A")]:[],...o?["&amp;sspUrl=",encodeURIComponent(o)]:[],...s?["&amp;dspUrl=",encodeURIComponent(s)]:[],...n?["&amp;format=",n]:[],"&amp;eventType=",e,...null!=i?["&amp;count=",encodeURIComponent(i)]:[]].join("")}carodaConsoleSafe.info("hitPlayerEvent","disabled",e)}trackTimeSinceLoad(e){var t=this.getTimeSinceLoad();isNaN(t)||this.hitPlayerEvent(e,void 0,void 0,void 0,this.getTimeSinceLoad())}getTimeSinceLoad(){var e,t,r=null==(e=null==(e=null==(r=libraryWindow.performance)?void 0:r.getEntriesByType)?void 0:e.call(r,"resource").find(({name:e})=&gt;/caroda.io\/videoPlayer\/caroda.min.js/.test(e)))?void 0:e.startTime;return(null==(t=null==(e=libraryWindow.performance)?void 0:e.now)?void 0:t.call(e))-r}uncacheUrl(e){var t=0&lt;=e.indexOf("?")?"&amp;":"?";return e+t+"uncache="+Math.floor(1e6*Math.random())}callUrl(e){const t=new renderWindow.Image(1,1);t.src=this.uncacheUrl(e)}getAllocatedExperiment(){var e;return null==(e=getAllocatedExperiments()[0])?void 0:e.id}}function mergeTrackingContext(e,t){var r;t&amp;&amp;(r=(t.getCampaignView()||e.context).vastContent,e.addToContext({vastContent:r}),t.getTracking().addToContext(e.context))}class AniviewPlayer extends EventTarget{constructor({campaignView:e,parentElement:t,globalConfigOverride:r,trackingConfig:n={},secondsToConsiderPlayersFinished:i}){super(),this.msToAbortIfNoImpressionIsRegistered=5e3,this.isDestroyed=!1,this.logger=carodaConsoleSafe.getInstanceLogger("AniviewPlayer"),this.logger.info(".constructor",e),this.id="carodaAniviewPlayer"+Math.floor(1e6*Math.random()),this.containerElement=this.createContainerElement(t),this.tracking=new Tracking(r,{...n,context:{...n.context||{},transactionId:e.transactionId},placementId:e.assetId,playerContainer:this.containerElement}),this.campaignView=e,this.library=getExternalDependency(e=&gt;e.avPlayer&amp;&amp;{avPlayer:e.avPlayer}),this.secondsToConsiderPlayersFinished=i}async play(){this.logger.info(".play"),await this.loadScriptIfNotLoaded();let t,e=!1;var r=this.getAdConfig();this.logger.info(".play",{adConfig:r});const n=this.library.instance().avPlayer,i=new n(r);i.play(r),this.trackBannerScriptExecution(),i.on("AdDurationChange",()=&gt;{setTimeout(()=&gt;{this.tracking.setCreativeMetadata(this.getCreativeMetadata(i.getAdDuration()))},1e3)}),i.on("AdError",e=&gt;{t=e}),i.on("AdLoaded",()=&gt;{this.isDestroyed||(this.logger.info(".processAniviewEvent","AdLoaded"),this.containerElement.classList.add("loaded"),this.triggerEvent("rendered"),this.startAutoPlayback(i),this.tracking.trackTimeToLoad())}),i.on("AdStopped",()=&gt;{e=!0});let a=!1;i.getEvents().forEach(r=&gt;i.on(r,(...e)=&gt;{var t;this.isDestroyed||(this.logger.info(".play",r,...e),(t=this.getVastEvent(r))&amp;&amp;(this.processVastEvent(t),a=a||"impression"===t))}));r=waitFor(()=&gt;!!t||e);if(!this.secondsToConsiderPlayersFinished)throw setTimeout(async()=&gt;{a||(this.logger.error(".play","watchdog","no impression registered"),e=!0,this.close(i))},this.msToAbortIfNoImpressionIsRegistered),await r,this.campaignView.markAsFailed(),t||new Error("loop finished");if(await Promise.race([r,waitFor(()=&gt;isInVerticalView(this.containerElement)).then(()=&gt;wait(1e3*this.secondsToConsiderPlayersFinished))]),this.close(i),t)throw t}destroy(){this.logger.error(".destroy"),this.containerElement.remove(),this.isDestroyed=!0}getCampaignView(){return this.campaignView}getTracking(){return this.tracking}getElement(){return this.containerElement}loadScriptIfNotLoaded(){return this.library.isAvailable()?Promise.resolve():new Promise((e,t)=&gt;{const r=renderDocument.createElement("script");r.src="https://player.aniview.com/script/6.1/aniview.js",r.onload=()=&gt;e(),r.onerror=e=&gt;t(e),renderDocument.getElementsByTagName("head")[0].appendChild(r)})}trackBannerScriptExecution(){var e=this.campaignView.trackingHooks.find(e=&gt;"caroda_banner_script_execution"===e.VastEvent);e&amp;&amp;this.tracking.hitTrackingUrl(e.TrackingUrl)}createContainerElement(e){const t=renderDocument.createElement("div");return t.id=this.id,t.className="carodaAniview",e.appendChild(t),t}getAdConfig(){return{autoContinue:!0,autoPlay:!0,channelId:this.campaignView.aniviewChannelId,closeButton:!1,errorLimit:5,height:0,logo:!0,loop:!0,maxImp:9999,maxRun:9999,midrolltime:5,openAnim:!0,pauseButton:!0,playerDelay:0,playerType:1,posDfp1x1:!1,posSelector:"body",position:this.id,publisherId:this.campaignView.aniviewPublisherId,soundButton:!0,templateType:"1",timelineMode:"bottom",vastRetry:3,vitab:!0,width:100,...integrationConfig.aniviewConfig()||{}}}getVastEvent(e){switch(e){case"AdImpression":return"impression";case"AdVideoFirstQuartile":return"first_quartile";case"AdVideoMidpoint":return"midpoint";case"AdVideoThirdQuartile":return"third_quartile";case"AdVideoComplete":return"complete";case"AdClickThru":return"click_tracking";default:return null}}processVastEvent(t){this.logger.info(".processVastEvent",t);const r="impression"===t;this.campaignView.trackingHooks.filter(({VastEvent:e})=&gt;e===t).forEach(({TrackingUrl:e})=&gt;this.tracking.hitTrackingUrl(e,r,!1,this.campaignView.cappingEventType))}getCreativeMetadata(e){return this.logger.info(".getCreativeMetadata",{duration:e}),{description:"",durationSeconds:e,id:"",title:""}}startAutoPlayback(e){let t=!0;const r=setInterval(()=&gt;{isInViewport(this.containerElement)&amp;&amp;t?(t=!1,e.resume()):isInViewport(this.containerElement)||(t=!0,e.pause())},250);e.on("AdStopped",()=&gt;clearInterval(r)),e.on("AdError",()=&gt;clearInterval(r))}async close(e){var t;try{await(null==(t=e.close)?void 0:t.call(e))}catch(e){this.logger.error(".play","close",e)}}}function isGPTBanner(e){const t=new libraryWindow.DOMParser,r=t.parseFromString(e,"text/html"),n=Array.from(r.getElementsByTagName("script"));return n.some(e=&gt;/(googletagservices.com|doubleclick.net)(\/tag\/js\/gpt|\/dbm\/ad)/.test(e.src))}const VastToTeadsEventName={click_tracking:"AdClickThru",complete:"AdVideoComplete",first_quartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",start:"AdVideoStart",third_quartile:"AdVideoThirdQuartile"},TeadsToVastEventName=Object.keys(VastToTeadsEventName).reduce((e,t)=&gt;({...e,[VastToTeadsEventName[t]]:t}),{});class TeadsLogMonitor{constructor({w:e,logger:t}){var r;this.ended=!1,this.logger=t,this.logger.info("TeadsLogMonitor",".constructor",e),this.loggingWindow=e,this.teadsLogs=[],this.onEvent={},this.initialLogOffset=(null==(r=null==(r=e.teads)?void 0:r.FULL_LOGS)?void 0:r.length)||0,this.logger.info("TeadsLogMonitor",".constructor","initialLogOffset",this.initialLogOffset)}on(e,t){this.onEvent[e]=this.onEvent[e]||[],this.onEvent[e].push(t)}async processLogEvents(){if(!this.ended){var e=this.loggingWindow;const o=e.teads&amp;&amp;e.teads.FULL_LOGS;if(o){var e=this.initialLogOffset+this.teadsLogs.length,t=o.slice(e).map(e=&gt;e.message);this.logger.info("TeadsLogMonitor",".processLogEvents","newLogs",{newLogs:t,offset:e});for(const s of t){if(this.logger.info("TeadsLogMonitor",".processLogEvents",s),s.match(/player.plugin.Tracker/)){var r=s.match(/\[player.plugin.Tracker\]\s*([^\s]+)/),r=r&amp;&amp;r[1];const l=this.onEvent[TeadsToVastEventName[r]];l&amp;&amp;l.forEach(e=&gt;e())}if(s.match(/"adType":"/)){var r=s.match(/"adType":"([^"]+)"/),n=s.match(/"type":"NativeNurl"/),i=s.match(/"type":"NativeJson"/),a=s.match(/"type":"CarouselNurl"/);const c=n||i||a?"native":r&amp;&amp;r[1],d=this.onEvent.adType;c&amp;&amp;d&amp;&amp;d.forEach(e=&gt;e(c))}if(s.match(/no.passback.to.exec/))throw new Error("No ad")}this.teadsLogs.push(...t)}await new Promise((e,t)=&gt;setTimeout(()=&gt;this.processLogEvents().then(e,t),500))}}stopProcessing(){this.logger.info("TeadsLogMonitor",".stopProcessing"),this.ended=!0}}class BannerPlayer extends EventTarget{constructor({campaignView:e,customBannerScript:t,containerElement:r,globalConfigOverride:n,trackingConfig:i={},unfreezePrecondition:a,ignorePassbackAfterSeconds:o,triggerImpressionBasedOnHeight:s=!0}){super();var l=e.prebidAdUnitCode?"[prebid]":"";this.logger=carodaConsoleSafe.getInstanceLogger(`BannerPlayer[${e.id}]`+l);const c=integrationConfig.modifyBannerScript();l=c(e.assetId,e.id,t||e.bannerScript);this.logger.info(".constructor",{bannerScript:l}),this.id=e.prebidAdUnitCode||this.getRandomId(),this.passbackCalled=!1,this.passbackToCarodaFunctionName="passbackToCaroda"+Math.floor(1e9*Math.random()),this.registerImpressionInCarodaFunctionName="registerImpressionInCaroda"+Math.floor(1e9*Math.random()),this.campaignView=e,this.trackingHooks=e.trackingHooks,this.bannerScript=l,this.bannerContainerElement=renderDocument.createElement("div"),this.bannerContainerElement.className="carodaBannerContainer",this.bannerElement=renderDocument.createElement("div"),this.bannerElement.className="carodaBanner",this.bannerElement.id=this.id,this.unfreezePrecondition=a||(()=&gt;!0),this.isTeadsPrebid()&amp;&amp;this.bannerContainerElement.classList.add("carodaTeadsPrebid"),this.tracking=new Tracking(n,{...i,context:{...i.context||{},transactionId:e.transactionId},placementId:e.assetId,playerContainer:this.bannerElement}),this.tracking.trackTimeToLoad(),this.containerElement=r,this.containerElement.classList.add("carodaBannerOuterContainer"),e.expire&amp;&amp;e.expire();const d=waitFor(()=&gt;isInVerticalView(this.bannerElement)),u=setTimeout(async()=&gt;{await d,this.logger.info(".constructor","still no impression",{bannerHeight:this.bannerElement.getBoundingClientRect().height})},1e4);this.triggerImpressionOnce=once$1(()=&gt;{this.triggerImpression(),clearTimeout(u)}),this.ignorePassbackAfterSeconds=o,this.minHeightToConsiderLoaded=this.isMoxTvBanner()?60:30,this.triggerImpressionBasedOnHeight=s,this.hadImpression=!1}async load(){this.logger.info(".load","redundant")}async play(){if(this.logger.info(".play","adding banner",this.campaignView.bannerScriptExecutionTiming),await waitFor(this.unfreezePrecondition),"whenInView"===this.campaignView.bannerScriptExecutionTiming&amp;&amp;await waitForElementToBeNearViewport({bottomOffset:renderWindow.innerHeight,elem:this.containerElement,topOffset:renderWindow.innerHeight}),this.logger.info(".play","precondition ready"),this.trackBannerScriptExecution(),!this.shouldRunInTopFrame()&amp;&amp;(isGPTBanner(this.bannerScript)||this.isTeadsPrebid()||this.isSeznamOpenRtb()||this.isConflictiveWithPostscribe()))return this.playInIframe();this.bannerContainerElement.appendChild(this.bannerElement),this.containerElement.prepend(this.bannerContainerElement),this.makePassbackToCarodaAvailable(),this.makeRegisterImpressionInCarodaAvailable();var e=this.getExecutableBannerScript();if(this.logger.info(".play","adding banner with postscribe",e),postscribe(this.bannerElement,e),setTimeout(()=&gt;this.logger.info(".play","banner unfolded",{height:this.bannerElement.getBoundingClientRect().height},this.containerElement.innerHTML),3e3),await waitFor(()=&gt;this.bannerElement.getBoundingClientRect().height&gt;this.minHeightToConsiderLoaded||this.passbackCalled),this.passbackCalled)throw new Error("passback");this.logger.info(".play","banner rendered"),this.triggerEvent("rendered"),this.monitorImpression(),await this.handlePassback()}async playInIframe(){this.logger.info(".playInIframe","adding banner"),this.listenToMessagesFromIframe(),this.bannerContainerElement.appendChild(this.bannerElement),this.containerElement.prepend(this.bannerContainerElement),this.bannerIframeElement=renderDocument.createElement("iframe"),this.bannerElement.appendChild(this.bannerIframeElement),this.bannerElement.style.border="0",this.bannerIframeElement.frameBorder="0";var e=`<html>
<head>
<title>Caroda Iframe Banner Player</title>
<style>
                    body {
                        margin: 0;
                        ${this.isTeadsPrebid()?"":"overflow: hidden;"}
                    }
                    div[id*="google_ads_iframe"] {
                        text-align: center;
                    }
                    iframe, div[data-google-query-id] {
                        margin-left: auto;
                        margin-right: auto;
                        text-align: center;
                    }
                    .adFull {
                        margin: auto;
                    }
                </style>
</head>
<body>
<script>
                    function ${this.passbackToCarodaFunctionName}() {
                        window.parent.postMessage(
                            "${this.id}://" + JSON.stringify({ type: "passback" }),
                            "*"
                        )
                    }
                    function ${this.registerImpressionInCarodaFunctionName}({
                        allowMultipleImpressions = false } = {}
                    ) {
                        window.parent.postMessage(
                            "${this.id}://" + JSON.stringify({ type: "registerImpression", allowMultipleImpressions }),
                            "*"
                        )
                    }
                    function sendGoogleFluidDimensions(width, height) {
                        window.parent.postMessage(
                            "${this.id}://" + JSON.stringify({ type: "setDimensions", width, height }),
                            "*"
                        )
                    }
                    function carodaLog(message) {
                        window.parent.postMessage(
                            "${this.id}://" + JSON.stringify({ type: "log", message }),
                            "*"
                        )
                    }
                </script>
                ${this.getExecutableBannerScript()}
                <script>
                    window.isTeads = ${JSON.stringify(this.isTeadsPrebid())};
                    window.isFluidGoogleBanner = ${JSON.stringify(this.isFluidGoogleBanner())}
                    ${initIframeBannerWindow.toString()}
                    ${listenToTeadsTrackCalls.toString()}
                    initIframeBannerWindow(window);
                    if (!!window.isTeads) {
                      listenToTeadsTrackCalls({
                        w: window,
                        passback: ${this.passbackToCarodaFunctionName},
                        registerImpression: ${this.registerImpressionInCarodaFunctionName}
                      })
                    }
                </script>
</body>
</html>`;this.isTeadsPrebid()?this.bannerIframeElement.srcdoc=e:new RegExp("safari","ig").test(targetingProfile.browser())?this.bannerIframeElement.src=renderWindow.URL.createObjectURL(new renderWindow.Blob([e],{type:"text/html"})):(this.bannerIframeElement.contentDocument.open(),this.bannerIframeElement.contentDocument.write(e),this.bannerIframeElement.contentDocument.close()),this.bannerIframeElement.style.width=this.getBannerIframeWidth()+"px",this.bannerIframeElement.style.height="10px",this.triggerEvent("rendered"),this.monitorImpression(this.bannerIframeElement.contentWindow),await this.handlePassback()}destroy(){this.logger.info(".destroy"),this.bannerContainerElement.remove(),this.containerElement.classList.remove("carodaBannerOuterContainer")}getCampaignView(){return this.campaignView}getTracking(){return this.tracking}getElement(){return this.bannerElement}usesPassback(){return(this.bannerScript||"").includes("passbackToCaroda")}getBannerIframeWidth(){return this.bannerContainerElement.parentElement.clientWidth}passback(){this.logger.info(".passback"),this.passbackCalled=!0}trackBannerScriptExecution(){var e=this.trackingHooks.find(e=&gt;"caroda_banner_script_execution"===e.VastEvent);e&amp;&amp;this.tracking.hitTrackingUrl(e.TrackingUrl)}async handlePassback(){if(this.usesPassback()){this.ignorePassbackAfterSeconds&amp;&amp;await waitFor(()=&gt;this.passbackCalled||isInVerticalView(this.bannerElement));var t=this.ignorePassbackAfterSeconds?1e3*this.ignorePassbackAfterSeconds:0;try{await waitFor(()=&gt;this.passbackCalled,t)}catch(e){return void this.logger.info(".handlePassback",`passback ignored after ${t}ms.`)}throw new Error("passback")}}getRandomId(){return"caroda-banner-player-"+Math.floor(1e9*Math.random())}shouldRunInTopFrame(){return/caroda-run-in-top-frame/.test(this.bannerScript)}isTeadsPrebid(){return-1!==this.bannerScript.indexOf("a.teads.tv/hb/ad/")}isSeznamOpenRtb(){return-1!==this.bannerScript.indexOf("ssp.seznam.cz/")}isConflictiveWithPostscribe(){return-1!==this.bannerScript.indexOf("onerror=")}async monitorImpression(e=renderWindow){if(this.isTeadsPrebid()){this.bannerContainerElement.classList.add("loaded"),this.containerElement.classList.add("loaded");const n=new TeadsLogMonitor({logger:carodaConsoleSafe.getInstanceLogger(`TeadsLogMonitor[${this.campaignView.id}]`),w:e}),i={debug:JSON.stringify({adPlayer:"BannerPlayer",campaignId:this.campaignView.id,device:targetingProfile.device()})};return n.on("impression",()=&gt;{this.logger.info(".monitorImpression",this.campaignView.id,"teads",{body:this.bannerElement.querySelector("iframe").contentDocument.body.innerHTML,head:this.bannerElement.querySelector("iframe").contentDocument.head.innerHTML}),this.tracking.hitPlayerEvent("impression_other_players",["//teads.prebid","//teads.prebid"],void 0,void 0,void 0,void 0,i)}),this.trackingHooks.forEach(({VastEvent:e,TrackingUrl:t})=&gt;n.on(e,()=&gt;this.tracking.hitTrackingUrl(t,"impression"===e,void 0,void 0,i))),void await n.processLogEvents()}const t=()=&gt;this.bannerElement.getBoundingClientRect().height&gt;this.minHeightToConsiderLoaded;var r=()=&gt;{this.bannerContainerElement.classList.add("loaded"),this.containerElement.classList.add("loaded")};integrationConfig.displayBannersBeforeInView()?(this.logger.info(".monitorImpression","waiting for expansion"),await waitFor(t),this.logger.info(".monitorImpression","waiting for container to be near viewport"),await waitForElementToBeNearViewport({bottomOffset:renderWindow.innerHeight,elem:this.containerElement,topOffset:renderWindow.innerHeight}),await waitFor(t),this.logger.info(".monitorImpression","displaying"),r(),this.triggerImpressionBasedOnHeight?(this.logger.info(".monitorImpression","waiting to be in view"),await waitFor(()=&gt;isInVerticalView(this.bannerElement)&amp;&amp;t()),this.logger.info(".monitorImpression","impression"),this.triggerImpressionOnce()):this.logger.info(".monitorImpression","impression will be triggered from the banner script")):(this.logger.info(".monitorImpression","waiting for impression"),await waitFor(()=&gt;isInVerticalView(this.bannerElement)&amp;&amp;t()),await wait(250),await waitFor(()=&gt;isInVerticalView(this.bannerElement)&amp;&amp;t()),this.logger.info(".monitorImpression","condition met"),r(),this.triggerImpressionBasedOnHeight?this.triggerImpressionOnce():this.logger.info(".monitorImpression","impression will be triggered from the banner script"))}triggerImpression(){this.logger.info(".triggerImpression"),this.hadImpression=!0;const t={debug:JSON.stringify({adPlayer:"BannerPlayer",campaignId:this.campaignView.id})};this.trackingHooks.filter(e=&gt;"impression"===e.VastEvent).map(e=&gt;e.TrackingUrl).forEach(e=&gt;this.tracking.hitTrackingUrl(e,!0,void 0,void 0,t)),this.tracking.hitPlayerEvent(integrationConfig.isThirdPartyCampaign()(this.campaignView)?"impression_other_players":"impression_banner",void 0,void 0,void 0,void 0,void 0,t)}listenToMessagesFromIframe(){const r=e=&gt;"string"==typeof e.data&amp;&amp;e.data.includes(this.id),n=e=&gt;JSON.parse(e.data.replace(this.id+"://",""));renderWindow.addEventListener("message",e=&gt;{if(r(e)){var t=n(e);switch(this.logger.info(".listenToMessagesFromIframe",t),t.type){case"passback":this.passback();break;case"registerImpression":this.registerImpressionInCaroda({allowMultipleImpressions:!!t.allowMultipleImpressions});break;case"setDimensions":this.setDimensions(t.width,t.height);break;case"log":this.logger.info(".listenToMessagesFromIframe",t.message);break;default:this.logger.info(".listenToMessagesFromIframe","unknown message",e.data)}}})}getExecutableBannerScript(){let e=replaceTargetingTemplate(this.bannerScript,{playerInfo:{...getPlayerDimensions(this.bannerElement),autoplay:!0,plcmt:()=&gt;"standalone"},transactionId:this.tracking.context.transactionId}).replace(/passbackToCaroda/g,this.passbackToCarodaFunctionName).replace(/registerImpressionInCaroda/g,this.registerImpressionInCarodaFunctionName);return e=isGPTBanner(e)?this.addGptPageUrl(e):e}makePassbackToCarodaAvailable(){renderWindow[this.passbackToCarodaFunctionName]=()=&gt;this.passback()}makeRegisterImpressionInCarodaAvailable(){renderWindow[this.registerImpressionInCarodaFunctionName]=()=&gt;this.registerImpressionInCaroda()}registerImpressionInCaroda({allowMultipleImpressions:e=!1}={}){this.logger.info(".registerImpressionInCaroda",{allowMultipleImpressions:e}),e&amp;&amp;this.hadImpression?this.triggerImpression():this.triggerImpressionOnce()}isFluidGoogleBanner(){return!!(this.bannerScript||"").replace(/\n/g,"").match(/googletag.*["']fluid["']/)}setDimensions(e,t){var{width:r,height:n}=this.bannerIframeElement.getBoundingClientRect();r<e&&(this.banneriframeelement.style.width=e+"px"),n<t&&(this.banneriframeelement.style.height=t+"px")}addgptpageurl(e){return` <script="">
                ${interveneGoogleTag.toString()}
                interveneGoogleTag(window, '${pageLocation.href}')
            
            ${e}
        `}isMoxTvBanner(){return/ad\.mox\.tv\/mox\//.test(this.bannerScript)}}function interveneGoogleTag(e,r){const n=e;n.googletag=n.googletag||{cmd:[]};{const t=n.googletag.cmd.push;n.googletag.cmd.push=e=&gt;t.call(n.googletag.cmd,function(t){return()=&gt;{const e=function(){const e=n.googletag.enableServices;return n.googletag.enableServices=()=&gt;{n.googletag.pubads().set("page_url",r),e.call(n.googletag)},()=&gt;{n.googletag.enableServices=e}}();t(),e()}}(e))}}function initIframeBannerWindow(c){const d=c.document;if(c.isFluidGoogleBanner){const a=c;{var t=e=&gt;{e.setAttribute("name",e.getAttribute("name").replace("blob://","*"));var{width:t,height:r}={height:9*c.innerWidth/16,width:c.innerWidth},n=parseInt(e.getAttribute("width"),10),i=parseInt(e.getAttribute("height"),10);a.sendGoogleFluidDimensions(isNaN(n)?t:n,isNaN(i)?r:i),new a.ResizeObserver(()=&gt;{a.sendGoogleFluidDimensions(e.clientWidth,e.clientHeight)}).observe(e)};const r=HTMLElement.prototype.appendChild;c.HTMLElement.prototype.appendChild=function(e){return"IFRAME"===e.nodeName&amp;&amp;e.id.match(/google_ads_iframe/)&amp;&amp;t(e),r.apply(this,arguments)}}}else{let l=null;const e=new MutationObserver(()=&gt;{const e=c.frameElement;var t,r=Math.max(d.body.scrollHeight,c.isTeads?1:20),n=Math.max(d.body.scrollWidth,20),i=e.getBoundingClientRect();if(i.width!==n&amp;&amp;(e.style.width=n+"px"),i.height!==r&amp;&amp;(e.style.height=r+"px"),null===l&amp;&amp;(l=d.querySelector("iframe[id*=google_ads_iframe]")))try{t=l,setTimeout(u,0),setTimeout(u,200),setTimeout(u,600),setTimeout(u,1200),setTimeout(u,2400);{var a=t.contentDocument;const o=a.createElement("style"),s=(o.innerHTML=`
            div[id*="creative-"] &gt; span[id*="label-"] {
                display: none !important;
            }
        `,a.head.appendChild(o),a.querySelector('div[id*="creative-"]'));s&amp;&amp;!s.children.length&amp;&amp;(s.style.display="none")}}catch(e){}});function u(){requestAnimationFrame(()=&gt;{const e=d.createElement("DIV");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.background="rgba(255, 255, 255, 0.01)",e.style.pointerEvents="none",e.style.zIndex="9999999999",d.body.appendChild(e),requestAnimationFrame(()=&gt;e.remove())})}e.observe(d.body,{childList:!0,attributes:!0,subtree:!0})}}function listenToTeadsTrackCalls({w:e,passback:n,registerImpression:i}){const a=e.carodaLog;new PerformanceObserver(e=&gt;{const t=e.getEntries(),r=t.filter(({name:e})=&gt;/teads.tv\/track\?/.test(e));if(r.some(({name:e})=&gt;/action=error-vast&amp;/.test(e)||/action=adAvailable-error-settings&amp;/.test(e)))return a("listenToTeadsTrackCalls :: teads error"),void n();r.some(({name:e})=&gt;/action=impression&amp;/.test(e))&amp;&amp;(a("listenToTeadsTrackCalls :: teads impression"),i())}).observe({entryTypes:["resource"],buffered:!0})}const GAM_BANNER_ALL_SIZES=[[20,60],[88,31],[120,20],[120,30],[120,60],[120,90],[120,240],[120,600],[125,125],[160,600],[168,28],[168,42],[180,150],[188,141],[200,200],[200,446],[216,36],[216,54],[220,90],[234,60],[240,133],[240,400],[250,250],[250,360],[292,30],[300,31],[300,50],[300,75],[300,100],[300,250],[300,300],[300,600],[300,1050],[320,50],[320,100],[320,240],[320,480],[336,280],[468,60],[480,320],[570,427],[580,400],[640,1136],[728,90],[750,100],[750,200],[750,300],[750,1334],[768,1024],[930,180],[950,90],[960,90],[970,66],[970,90],[970,250],[980,90],[980,120],[1024,768],[1080,1920]].map(e=&gt;e.join("x"));class GamBannerPlayer extends BannerPlayer{constructor({campaignView:e,containerElement:t,disableAutoRefresh:r,ignorePassbackAfterSeconds:n,trackingConfig:i}){super({campaignView:e,customBannerScript:`
        <script async="" src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>
<div id="gpt-passback">
<script>
            window.googletag = window.googletag || { cmd: [] };
            googletag.cmd.push(function () {
              googletag
                .defineSlot(
                  '%GAM_BANNER_SLOT_ID%',
                  '%GAM_BANNER_SIZES%',
                  "gpt-passback"
                )
                .addService(googletag.pubads());
              googletag.enableServices();
              googletag.display("gpt-passback");
              googletag.pubads().addEventListener("slotRenderEnded", function (event) {
                if (event.isEmpty) {
                  passbackToCaroda();
                }
              });
              googletag.pubads().addEventListener("impressionViewable", function (event) {
                registerImpressionInCaroda({ allowMultipleImpressions: true });
                const autoRefreshEverySeconds = '%GAM_AUTO_REFRESH_EVERY_SECONDS%'
                if (autoRefreshEverySeconds <= 0) {
                  return
                }
                setTimeout(async () => {
                  await waitToBeInView(window.frameElement)
                  googletag.pubads().refresh()
                }, autoRefreshEverySeconds * 1e3)
              });
          });

          function waitToBeInView(element) {
            return new Promise((resolve) => {
              new IntersectionObserver(
                ([entry], observer) => {
                  if (!entry.isIntersecting) {
                    return
                  }
                  observer.disconnect()
                  resolve()
                },
                { root: null, threshold: 0.5 }
              ).observe(element)
            })
          }
          </script>
</div>
      `.replace("'%GAM_BANNER_SLOT_ID%'",JSON.stringify(e.gamBannerSlotId)).replace("'%GAM_BANNER_SIZES%'",JSON.stringify((e.gamBannerSizes||GAM_BANNER_ALL_SIZES).map(e=&gt;e.split("x").map(e=&gt;parseInt(e))))).replace("'%GAM_AUTO_REFRESH_EVERY_SECONDS%'",JSON.stringify(r?-1:e.gamBannerAutoRefreshEverySeconds)),containerElement:t,globalConfigOverride:{},trackingConfig:i,unfreezePrecondition:()=&gt;!0,triggerImpressionBasedOnHeight:!1,ignorePassbackAfterSeconds:n})}}class InstanceLogger{constructor(e){this.id=e}log(...e){carodaConsoleSafe.log(this.id,...e)}info(...e){carodaConsoleSafe.info(this.id,...e)}error(...e){carodaConsoleSafe.error(this.id,...e)}warn(...e){carodaConsoleSafe.warn(this.id,...e)}}class TeadsPlayer{constructor({campaignView:e,parentElement:t,globalConfigOverride:r,trackingConfig:n={},secondsToConsiderPlayersFinished:i}){this.destroyed=!1,this.logger=new InstanceLogger(`TeadsPlayer[${Math.round(1e9*Math.random())}-${e.id}]`),this.logger.info(".constructor",e.id),this.campaignView=e,this.trackingHooks=e.trackingHooks,this.containerElement=this.createContainerElement(t),this.tracking=new Tracking(r,{...n,context:{...n.context||{},transactionId:e.transactionId},placementId:e.assetId,playerContainer:this.containerElement}),this.scriptUrl=e.teadsScriptUrl,this.endedPromise=new Promise(e=&gt;{this.endedResolve=e}),this.secondsToConsiderPlayersFinished=i}async load(){this.logger.info(".load","redundant")}async play(){this.logger.info(".play");const e=renderWindow;e.teads={};var t=this.processLogEvents();await this.appendTeadsTag(),this.secondsToConsiderPlayersFinished?await Promise.race([t,this.endedPromise,waitFor(()=&gt;isInVerticalView(this.containerElement)).then(()=&gt;wait(1e3*this.secondsToConsiderPlayersFinished))]):await t}destroy(){this.logger.info("TeadsPlayer",".destroy"),this.logMonitor.stopProcessing(),this.containerElement.parentElement.innerHTML="",this.destroyed=!0}getCampaignView(){return this.campaignView}getTracking(){return this.tracking}waitToEnd(){return this.endedPromise}getTeadsInjector(n){const i=renderWindow;return{ap:e=&gt;{renderDocument.head.appendChild=i.documentAppendChild,i.carodaTeadsRunners[n].el=e,this.logger.info("getTeadsInjector","ap hook",i.carodaTeadsRunners[n].el)},ce:(e,t)=&gt;{const r=renderDocument.currentScript;return r&amp;&amp;r.src.match(/teads/)&amp;&amp;(this.logger.info("getTeadsInjector","ce hook",r.src),null==i.documentAppendChild&amp;&amp;(i.documentAppendChild=renderDocument.head.appendChild),renderDocument.createElement=i.documentCreateElement,renderDocument.head.appendChild=i.carodaTeadsRunners[n].ap),i.documentCreateElement.call(renderDocument,e,t)},s:()=&gt;{null==i.documentCreateElement&amp;&amp;(i.documentCreateElement=renderDocument.createElement),renderDocument.createElement=i.carodaTeadsRunners[n].ce}}}async appendTeadsTag(){var _a;this.logger.info(".appendTeadsTag","adding script with postscribe");const w=renderWindow,container=(delete w.teadsscript,renderDocument.createElement("div")),id=(renderDocument.body.appendChild(container),"crd"+Math.floor(1e9*Math.random())),originalScript=(null!=(_a=w.carodaTeadsRunners)||(w.carodaTeadsRunners={}),w.carodaTeadsRunners[id]=this.getTeadsInjector(id),postscribe(container,`
            <script>carodaTeadsRunners.${id}.s()</script>
<script src="${this.scriptUrl}"></script>
        `),await waitFor(()=&gt;w.carodaTeadsRunners[id].el),w.carodaTeadsRunners[id].el.onload.toString().replace(/"?css"?\s*:[^,]+,/,"")),originalScriptWithFirstPlacementOnly=(this.logger.info(".appendTeadsTag","modifying placement",originalScript),this.removeAdditionalPlacements(originalScript)),optsMatch=originalScriptWithFirstPlacementOnly.match(/placement\([0-9]+\,\s(\{[^\)]+)\)/);if(!optsMatch)throw new Error("Could not adjust teads placement");eval("this.teadsOpts = "+optsMatch[1]),this.logger.info(".appendTeadsTag","adding teads placement",this.teadsOpts);const containerId="carodaTeadsContainer"+Math.floor(1e9*Math.random()),modifiedScript=(this.containerElement.id=containerId,this.containerElement.classList.add("carodaTeadsContainer"),this.teadsOpts.slot={btf:!1,minimum:1,selector:"#"+containerId},this.teadsOpts.slider&amp;&amp;(this.teadsOpts.slider.allow_corner_position=!1,this.teadsOpts.slider.allow_top_position=!1),this.teadsOpts.css="",originalScriptWithFirstPlacementOnly.replace(optsMatch[1],JSON.stringify(this.teadsOpts)));this.logger.info(".appendTeadsTag","running script",modifiedScript),eval(`carodaTeadsRunners["${id}"].el.onload = `+modifiedScript),this.trackBannerScriptExecution(),renderDocument.head.appendChild(w.carodaTeadsRunners[id].el)}createContainerElement(e){const t=renderDocument.createElement("div");return t.classList.add("carodaTeads"),e.appendChild(t),t}async processLogEvents(){this.logMonitor=new TeadsLogMonitor({logger:new InstanceLogger(`TeadsLogMonitor[${this.campaignView.id}][${Math.round(1e6*Math.random())}]`),w:renderWindow});const r=t=&gt;(...e)=&gt;{this.destroyed||t(...e)},n=(this.logMonitor.on("loaded",r(()=&gt;{this.logger.info(".processLogEvents","loaded"),this.containerElement.classList.add("loaded"),this.tracking.trackTimeToLoad()})),{debug:JSON.stringify({adPlayer:"TeadsPlayer",campaignId:this.campaignView.id,device:targetingProfile.device()})});this.logMonitor.on("impression",r(()=&gt;{this.logger.info(".processLogEvents","impression"),this.tracking.hitPlayerEvent("impression_other_players",["//teads.tv","//teads.tv"],void 0,void 0,void 0,void 0,n)})),this.logMonitor.on("adType",r(e=&gt;{if(this.logger.info(".processLogEvents","adType",e),"native"===e)throw this.destroy(),new Error("unsupported ad type "+e)})),this.logMonitor.on("complete",r(()=&gt;{this.logger.info(".processLogEvents","complete"),this.endedResolve()})),this.trackingHooks.forEach(({VastEvent:e,TrackingUrl:t})=&gt;this.logMonitor.on(e,r(()=&gt;this.tracking.hitTrackingUrl(t,"impression"===e,!1,this.campaignView.cappingEventType,n)))),await this.logMonitor.processLogEvents()}removeAdditionalPlacements(e){return e.replace(/\.serve\(\);?/g,once$1(e=&gt;e,""))}trackBannerScriptExecution(){var e=this.trackingHooks.find(e=&gt;"caroda_banner_script_execution"===e.VastEvent);e&amp;&amp;this.tracking.hitTrackingUrl(e.TrackingUrl)}}class DemoTeadsPlayer extends TeadsPlayer{static isDemoTeadsTag(e){return/a.teads.tv\/page\/0\/tag/.test(e)}async appendTeadsTag(){this.logger.info("TeadsPlayer",".appendDemoTeadsTag");const e=renderWindow;var t="carodaTeadsContainer"+Math.floor(1e9*Math.random());this.containerElement.id=t,this.containerElement.classList.add("carodaTeadsContainer","carodaTeadsDemo");const r=e;r.FORCE_DEMO=!0,r._tta={0:[{ad_source_id:null,content:this.getFromTeadsScriptQueryParameter("content","https://s8t.teads.tv/vast/6753877076705717"),creativeSize:null,handled:!1,portfolio_item_id:1,settings:{behaviors:{smart6Position:{corner:!1,top:!1}},components:{callButton:{countDown:0,display:!1,text:""},credits:{display:!1,link:"#",text:""},label:{display:!0},progressBar:!0,soundButton:{display:!0}},values:{adType:this.getFromTeadsScriptQueryParameter("adType","video"),pageId:0,placementFormat:this.getFromTeadsScriptQueryParameter("placementFormat","inread"),placementId:1,threshold:50}},type:"VastUrl"}]},r._configurableTtp=Object.freeze({0:[{css:"",format:"inread",launched:!1,parentWindow:!1,pid:1,slot:{btf:!1,insertInside:!0,minimum:0,selector:"#"+t}}]});Object.getOwnPropertyDescriptor(r,"_ttp")||Object.defineProperty(r,"_ttp",{get:()=&gt;r._configurableTtp});t=renderDocument.createElement("div");renderDocument.body.appendChild(t);const n="crd"+Math.floor(1e9*Math.random());null==e.carodaTeadsRunners&amp;&amp;(e.carodaTeadsRunners={}),e.carodaTeadsRunners[n]=this.getTeadsInjector(n),postscribe(t,`
        <script>carodaTeadsRunners.${n}.s()</script>
<script src="//a.teads.tv/page/0/tag"></script>
    `),await waitFor(()=&gt;e.carodaTeadsRunners[n].el),renderDocument.head.appendChild(e.carodaTeadsRunners[n].el)}getFromTeadsScriptQueryParameter(e,t){var r;const n=new URL(this.scriptUrl);return null!=(r=n.searchParams.get(e))?r:t}}var jsonify={},parse$3,hasRequiredParse,stringify$1,hasRequiredStringify,hasRequiredJsonify;function requireParse(){if(hasRequiredParse)return parse$3;hasRequiredParse=1;function n(){var e,t="";for("-"===i&amp;&amp;l(t="-");"0"&lt;=i&amp;&amp;i&lt;="9";)t+=i,l();if("."===i)for(t+=".";l()&amp;&amp;"0"&lt;=i&amp;&amp;i&lt;="9";)t+=i;if("e"===i||"E"===i)for(t+=i,l(),"-"!==i&amp;&amp;"+"!==i||(t+=i,l());"0"&lt;=i&amp;&amp;i&lt;="9";)t+=i,l();if(e=+t,isFinite(e))return e;s("Bad number")}var r,i,a,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(e){throw{name:"SyntaxError",message:e,at:r,text:a}},l=function(e){return e&amp;&amp;e!==i&amp;&amp;s("Expected '"+e+"' instead of '"+i+"'"),i=a.charAt(r),r+=1,i},c=function(){var e,t,r,n="";if('"'===i)for(;l();){if('"'===i)return l(),n;if("\\"===i)if(l(),"u"===i){for(t=r=0;t&lt;4&amp;&amp;(e=parseInt(l(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof o[i])break;n+=o[i]}else n+=i}s("Bad string")},d=function(){for(;i&amp;&amp;i&lt;=" ";)l()},u=function(){switch(d(),i){case"{":var e,t={};if("{"===i){if(l("{"),d(),"}"===i)return l("}"),t;for(;i;){if(e=c(),d(),l(":"),Object.hasOwnProperty.call(t,e)&amp;&amp;s('Duplicate key "'+e+'"'),t[e]=u(),d(),"}"===i)return l("}"),t;l(","),d()}}return void s("Bad object");case"[":var r=[];if("["===i){if(l("["),d(),"]"===i)return l("]"),r;for(;i;){if(r.push(u()),d(),"]"===i)return l("]"),r;l(","),d()}}return void s("Bad array");case'"':return c();case"-":return n();default:return("0"&lt;=i&amp;&amp;i&lt;="9"?n:function(){switch(i){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}s("Unexpected '"+i+"'")})()}};return parse$3=function(e,o){var t;return a=e,r=0,i=" ",t=u(),d(),i&amp;&amp;s("Syntax error"),"function"==typeof o?function e(t,r){var n,i,a=t[r];if(a&amp;&amp;"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&amp;&amp;(void 0!==(i=e(a,n))?a[n]=i:delete a[n]);return o.call(t,r,a)}({"":t},""):t}}function requireStringify(){if(hasRequiredStringify)return stringify$1;hasRequiredStringify=1;var d,u,p,t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function h(e){return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}return stringify$1=function(e,t,r){var n;if(u=d="","number"==typeof r)for(n=0;n<r;n+=1)u+=" !="typeof" ")),"boolean"="typeof" ")}).join("|"))+")$";this.negate&&(e="^(?!" ":":")+a);else="" ":":")+a);return="" ":":";if(n&&n.tojson&&"function"="typeof" ":return!1;case"\\":g(),o='!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s' ";else"string"="typeof" %j="" %j",e,f,i,m),o&&respecials[m])i+="\\" %j",n),g(),n='m,r.noext&amp;&amp;g();continue;case"(":if(c){i+="(";continue}if(!n){i+="\\(";continue}s.push({type:n,start:f-1,reStart:i.length,open:plTypes[n].open,close:plTypes[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType' %j",n,i),n='!1;continue;case")":if(c||!s.length){i+="\\)";continue}g();var' %s="" %s",s,s,v,i),"*"='v.type?star:"?"===v.type?qmark:"\\"+v.type);a=!0,i=i.slice(0,v.reStart)+C+"\\("+S}g(),o&amp;&amp;(i+="\\\\");var' )?[e]:expand(e)}minimatch$4.filter="filter,minimatch$4.defaults=function(n){if(!n||!Object.keys(n).length)return" )?expand$1(e='n.pre+"{"+n.body+escClose+n.post):[e];if(s)i=n.body.split(/\.\./);else' +e+").*$");try{this.regexp="new" +m,o="!1;else" ,.*\}="" ,a='!!r.nocase,o=!1,s=[],l=[],c=!1,d=-1,u=-1,p="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function' ,p='P+T+(A=k)+(O=""===A&amp;&amp;t!==SUBPARSE?"$":O)+$;i=P}if(""!==i&amp;&amp;a&amp;&amp;(i="(?=.)"+i),E&amp;&amp;(i=p+i),t===SUBPARSE)return[i,a];if(!a)return' .test(e)}function="" 0="e?this.pattern:e))throw" 0!='(n=g.call(t,r,n))){if("object"!=typeof' <--="" =='e.substr(0,2)?"\\{\\}"+e.substr(2):e),!0).map(unescapeBraces):[]}function' [-[\]{}()*+?.,\\^$|#\s]="" \\(.)="" \{.*\}="" ^-?0\d="" _='this.parse(b,SUBPARSE),i=i.substr(0,d)+"\\["+_[0]+"\\]";a=a||_[1],c=!1;continue}}c=!(a=!0),i+=m;continue;default:g(),o?o=!1:!reSpecials[m]||"^"===m&amp;&amp;c||(i+="\\"),i+=m}for(c&amp;&amp;(b=e.substr(u+1),_=this.parse(b,SUBPARSE),i=i.substr(0,d)+"\\["+_[0],a=a||_[1]),v=s.pop();v;v=s.pop()){var' a="" a(r,n)}}),f="[];return" a,p='(t="function"==typeof(t=t||{})?{cmp:t}:t).space||"",h=("number"==typeof' and="" array(1+d).join("0"),u='v&lt;0?"-"+d+u.slice(1):d+u)),y.push(u);else' array(i+1).join(p):"",o='p?":' array]"="Object.prototype.toString.call(e)},balancedMatch=balanced$1;function" at="" b='e.substring(u+1,f);try{RegExp("["+b+"]")}catch(e){var' balanced$1(e,t,r){var="" braceexpand(e,t){if(t="t||(this" braceexpand(e,t)},minimatch.prototype.braceexpand="braceExpand,Minimatch.prototype.parse=parse$2;var" c='e(n,l,n[l],i+1)||json.stringify(null);s.push(a+p+c)}return"["+s.join(",")+a+"]"}if(-1!==f.indexOf(n)){if(h)return' c&&"function"="typeof" c)object.prototype.hasownproperty.call(c,i)&&(a='e(i,c))&amp;&amp;s.push(h(i)+(d?":' c.tojson&&(c='c.toJSON(t)),typeof(c="function"==typeof' charset(e){return="" circular="" class"),i+='m="!"===m&amp;&amp;f===u+1?"^":m;continue}h.debug("call' clearstatechar="" concatmap='concatMap$1,balanced=balancedMatch,braceExpansion=expandTop,escSlash="\0SLASH"+Math.random()+"\0",escOpen="\0OPEN"+Math.random()+"\0",escClose="\0CLOSE"+Math.random()+"\0",escComma="\0COMMA"+Math.random()+"\0",escPeriod="\0PERIOD"+Math.random()+"\0";function' continue"),u++}return="" d="objectKeys(n).sort(m&amp;&amp;m(n)),s=[],l=0;l&lt;d.length;l++){var" d,u,a='numeric(i[0]),p=numeric(i[1]),h=Math.max(i[0].length,i[1].length),g=3==i.length?Math.abs(numeric(i[2])):1,m=lte,f=(p&lt;a&amp;&amp;(g*=-1,m=gte),i.some(isPadded)),y=[],v=a;m(v,p);v+=g)o?"\\"===(u=String.fromCharCode(v))&amp;&amp;(u=""):(u=String(v),f&amp;&amp;0&lt;(d=h-u.length)&amp;&amp;(d=new' detected!",e,u,t,p);break}this.debug("globstar="" e="e.filter(function(e){return" e&&object.keys(e).length?minimatch$4.defaults(e).minimatch:minimatch},minimatch.prototype.debug="function(){},Minimatch.prototype.make=make,Minimatch.prototype.parseNegate=parseNegate,minimatch$4.braceExpand=function(e,t){return" e(e,t,r){return="" e(t,r){var="" e(t,r,n,i){var="" e)r.call(e,t)&&n.push(t);return="" e)throw="" e,t;this._made||(t='this.pattern,(e=this.options).nocomment||"#"!==t.charAt(0)?t?(this.parseNegate(),t=this.globSet=this.braceExpand(),e.debug&amp;&amp;(this.debug=console.error),this.debug(this.pattern,t),t=this.globParts=t.map(function(e){return' e.map(function(e){return="" e.map(this.parse,this)},this),this.debug(this.pattern,t),t="t.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,t),this.set=t):this.empty=!0:this.comment=!0)}function" e.minimatch="function(e,t){return" e.replace(="" e.split("").reduce(function(e,t){return="" e.split(",");var="" e.split("\\\\").join(escslash).split("\\{").join(escopen).split("\\}").join(escclose).split("\\,").join(esccomma).split("\\.").join(escperiod)}function="" e.split(escslash).join("\\").split(escopen).join("{").split(escclose).join("}").split(esccomma).join(",").split(escperiod).join(".")}function="" e.split(slashsplit)}),this.debug(this.pattern,t),t="t.map(function(e,t,r){return" e<="t}function" e?expand$1(escapebraces(e="{}" e?regexpescape(e):e._src}).join("\\="" e[t]="!0,e},{})}var" embrace(e){return"{"+e+"}"}function="" end");i<o;i++)if("."='e[i]||".."===e[i]||!n.dot&amp;&amp;"."===e[i].charAt(0))return!1;return!0}for(;u&lt;o;){var' error("json.stringify")}}function="" escapebraces(e){return="" expand$1(e,!1)});for(var="" expand$1(e,t){var="" expandtop(e){return="" ext(t,r){t="t||{},r=r||{};var" f.splice(f.indexof(n),1),"{"+s.join(",")+a+"}"}}({"":e},"",e,0)},isarray$9='Array.isArray||function(e){return"[object' filter(n,i){return="" for(i="" found="" function="" function(e,t){var="" g(){if(n){switch(n){case"*":i+='star,a=!0;break;case"?":i+=qmark,a=!0;break;default:i+="\\"+n}h.debug("clearStateChar' g,"$1")}function="" g,"\\$&")}minimatch$4.makere="function(e,t){return" globstar;if(""='e)return"";var' globunescape(e);p='r.nocase?"i":"";try{var' globunescape(e){return="" gte(e,t){return="" h='e[u];if(this.debug("\nglobstar' h(c);case"number":return="" hasrequiredjsonify||(hasrequiredjsonify="1,jsonify.parse=requireParse(),jsonify.stringify=requireStringify()),jsonify}var" i='0,a=0,o=e.length,s=t.length;i&lt;o&amp;&amp;a&lt;s;i++,a++){this.debug("matchOne' i,a='/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=a||o,a=0&lt;=n.body.indexOf(",");if(!s&amp;&amp;!a)return' i.minimatch(e,ext(n,t))},e},minimatch.defaults="function(e){return" i.minimatch(e,t,ext(n,r))}var="" if(1='(i=parseCommaParts(n.body)).length&amp;&amp;1===(i=expand$1(i[0],!1).map(embrace)).length)return(c=n.post.length?expand$1(n.post,!1):[""]).map(function(e){return' in="" instanceof="" is="" isfinite(c)?string(c):"null";case"boolean":case"null":return="" ispadded(e){return="" json="undefined" json")}f.push(n);for(var="" json.stringify("__cycle__");throw="" json.stringify(n);if(isarray$9(n)){for(var="" json?json:requirejsonify(),jsonstablestringify="function(e,t){var" l='n.pre,c=n.post.length?expand$1(n.post,!1):[""];if(s)for(var' l,c='t[a],d=e[i];if(this.debug(t,c,d),!1===c)return!1;if(c===GLOBSTAR){this.debug("GLOBSTAR",[t,c,d]);var' long");var="" loop");var="" lte(e,t){return="" m,f='0,y=e.length;f&lt;y&amp;&amp;(m=e.charAt(f));f++)if(this.debug("%s\t%s' make(){var="" makere(){if(this.regexp||!1="this.regexp)return" match!",u,o,h),!0;if("."='h||".."===h||!n.dot&amp;&amp;"."===h.charAt(0)){this.debug("dot' match(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""='e;if("/"===e&amp;&amp;t)return!0;var' maybematch(e,t){var="" minimatch$4(e,n,i)}}function="" minimatch$4(e,t,r){if("string"!="typeof" minimatch$4;function="" minimatch(e,t);if("string"!="typeof" minimatch(e,t){if(!(this="" minimatch(e,t||{}).makere()},minimatch.prototype.makere="makeRe,minimatch$4.match=function(e,t,r){var" minimatch(t,r="r||{});return" minimatch(t,r).match(e))}function="" minimatch))return="" minimatch?this.options:{}),void="" minimatch_1='minimatch$4,GLOBSTAR=(minimatch$4.Minimatch=Minimatch,minimatch$4.GLOBSTAR=Minimatch.GLOBSTAR={}),expand=braceExpansion,plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},qmark="[^/]",star=qmark+"*?",twoStarDot="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",twoStarNoDot="(?:(?!(?:\\/|^)\\.).)*?",reSpecials=charSet("().*{}+?[]^$\\!");function' n='this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var' n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function="" n,i="" n,i,a,o,s,l="r.indexOf(e),c=r.indexOf(t,l+1),d=l;if(0&lt;=l&amp;&amp;0&lt;c){if(e===t)return[l,c];for(n=[],a=r.length;0&lt;=d&amp;&amp;!s;)d==l?(n.push(d),l=r.indexOf(e,d+1)):1==n.length?s=[n.pop(),c]:((i=n.pop())&lt;a&amp;&amp;(a=i,o=c),c=r.indexOf(t,d+1)),d=l&lt;c&amp;&amp;0&lt;=l?l:c;n.length&amp;&amp;(s=[a,o])}return" n.match(e)}),n.options.nonull&&!e.length&&e.push(t),e},minimatch.prototype.match="match,Minimatch.prototype.matchOne=function(e,t,r){var" n.post.match(="" n.pre+i[0]+e});var="" n.tojson&&(n="n.toJSON()),void" new="" numeric(e){return="" n||null="n)return" n},index="getDefaultExportFromCjs(jsonStableStringify),_stableStringify=_mergeNamespaces({__proto__:null,default:index},[jsonStableStringify]),concatMap$1=function(e,t){for(var" o="a[n],s=e;if(i.matchBase&amp;&amp;1===o.length&amp;&amp;(s=[r]),this.matchOne(s,o,t))return!!i.flipNegate||!this.negate}return!i.flipNegate&amp;&amp;this.negate}function" object.keys(r).foreach(function(e){n[e]="r[e]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function" p&&(p='Array(p+1).join("' p)for(o='p.length,n=0;n&lt;o;n+=1)"string"==typeof(i=p[n])&amp;&amp;(a=e(i,c))&amp;&amp;s.push(h(i)+(d?":' p?p.call(r,t,c):c)){case"string":return="" parse$2(e,t){if(65536<e.length)throw="" parsecommaparts(e){if(!e)return[""];var="" parseint(e,10)="e?parseInt(e,10):e.charCodeAt(0)}function" parsenegate(){var="" pattern="" pattern");return="" r='this.options;if(!r.noglobstar&amp;&amp;"**"===e)return' r&&(this.debug("\n="" r&&(u='r);if(!(p=t)||"function"==typeof' r,n,i='this.options,a=(e=e.split(slashSplit),this.debug(this.pattern,"split",e),this.set);for(this.debug(this.pattern,"set",a),n=e.length-1;0&lt;=n&amp;&amp;!(r=e[n]);n--);for(n=0;n&lt;a.length;n++){var' r.length&&(n[n.length-1]+="i.shift(),n.push.apply(n,i)),t.push.apply(t,n),t}function" r?r[0]:null}function="" range(e,t,r){var="" regexp("$.")}return="" regexp("^"+i+"$",p)}catch(e){return="" regexp(e,t)}catch(e){this.regexp="!1}return" regexp?maybematch(e,r):e,t="t" regexp?maybematch(t,r):t,r);return="" regexpescape(e){return="" required");return!(!(r='r||{}).nocomment&amp;&amp;"#"===t.charAt(0))&amp;&amp;(""===t.trim()?""===e:new' required");t="t||{},e=e.trim(),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function" requirejsonify(){return="" r},isarray$8='Array.isArray||function(e){return"[object' r}var="" s='i.slice(v.reStart+v.open.length),C=(this.debug("setting' segment,="" slashsplit="/\/+/;function" statechar",e,f,i,m),c){this.debug("="" string="" string(c);case"object":if(!c)return"null";if(d+='u,s=[],"[object' structure="" subparse="{};function" swallow="" switch(m){case"="" s}balanced$1.range="range;var" t='this.options,r=t.noglobstar?star:t.dot?twoStarDot:twoStarNoDot,t=t.nocase?"i":"",e="^(?:"+(e=e.map(function(e){return' t&&"number"="typeof" t)throw="" t+t+(r='r||"\\")+"|"}),this.debug("tail=%j\n' t,r="Object.prototype.hasOwnProperty||function(){return!0},n=[];for(t" t.cycles&&t.cycles),g="t.replacer||function(e,t){return" t.length)return="" t.nobrace||!e.match(="" t<="e}function" tail",i,v),s="S.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,r){return" the="" this.debug("globstar="" this.regexp="!1,this.regexp;var" this.regexp;var="" this.regexp}function="" to="" too="" typeerror("converting="" typeerror("glob="" typeerror("pattern="" typeerror("undefined="" t||"object"="typeof" t},m="t.cmp&amp;&amp;(a=t.cmp,function(i){return" u='i,p=a+1;if(p===s){for(this.debug("**' unescapebraces(e){return="" w="l.length-1;-1&lt;w;w--){for(var" while",e,u,t,p,h),this.matchone(e.slice(u),t.slice(p),r))return="" x="new" x._glob="e,x._src=i,x}function" y="concatMap(i,function(e){return">&gt;&gt; no match, partial?",e,u,t,p),u===o)?!0:!1}if("string"==typeof c?(l=n.nocase?d.toLowerCase()===c.toLowerCase():d===c,this.debug("string match",c,d,l)):(l=d.match(c),this.debug("pattern match",c,d,l)),!l)return!1}if(i===o&amp;&amp;a===s)return!0;if(i===o)return r;if(a===s)return i===o-1&amp;&amp;""===e[i];throw new Error("wtf?")};var minimatch$5=getDefaultExportFromCjs(minimatch_1),minimatchModule=_mergeNamespaces({__proto__:null,default:minimatch$5},[minimatch_1]);const formats=[[16/9,"horizontal"],[9/16,"vertical"],[1,"square"],[4/3,"horizontal-4-3"],[.75,"vertical-3-4"]];function getAspectRatioValue(t){return formats.find(e=&gt;e[1]===t)[0]||16/9}function getShortestAspectRatioThatFitsCreative({height:r,placementWidth:n}){const e=formats.sort((e,t)=&gt;t[0]-e[0]);var t=e.find(e=&gt;{var[t]=e;return r&lt;=n/t});return null==t?void 0:t[1]}function canFitCreative({creativeAspectRatio:e,placementAspectRatio:t}){switch(t){case"horizontal":return["horizontal"].includes(e);case"horizontal-4-3":return["horizontal","horizontal-4-3"].includes(e);case"square":return["horizontal","horizontal-4-3","square"].includes(e);case"vertical-3-4":return["square","vertical-3-4"].includes(e);case"vertical":return["vertical-3-4","vertical"].includes(e);default:return!1}}function getVideoAdAspectRatio(i){return formats.reduce(([e,t],[r,n])=&gt;{return Math.abs(r-i)<math.abs(e-i)?[r,n]:[e,t]})[1]}function crop(e,t){var="" r="formats.find(([,e])=">t===e)[0];let n=e.width,i=n/r;for(;0<n&&i>e.height;)n*=.95,i=n/r;return{width:n,height:i}}function getDefaultBannedFormats(e){return"desktop"===e?["square","vertical","vertical-3-4"]:[]}const labels={cs:{advertising:"Reklama",learnMore:decodeURIComponent("Dozv%C4%9Bd%C4%9Bt%20se%20v%C3%ADce"),noAd:decodeURIComponent("Nebyla%20nalezena%20%C5%BE%C3%A1dn%C3%A1%20dal%C5%A1%C3%AD%20reklama"),playAgain:decodeURIComponent("P%C5%99ehr%C3%A1t%20znovu"),close:"Zavt"},en:{advertising:"Advertising",learnMore:"Learn more",noAd:"No additional ad could be returned",playAgain:"Play again",close:"Close"},es:{advertising:"Publicidad",learnMore:decodeURIComponent("M%C3%A1s%20informaci%C3%B3n"),noAd:decodeURIComponent("No%20se%20ha%20podido%20devolver%20ning%C3%BAn%20anuncio%20adicional"),playAgain:"Reproducir",close:"Cerrar"},fr:{advertising:decodeURIComponent("Publicit%C3%A9"),learnMore:decodeURIComponent("En%20savoir%20plus"),noAd:decodeURIComponent("Aucune%20publicit%C3%A9%20suppl%C3%A9mentaire%20n%27a%20pu%20%C3%AAtre%20retourn%C3%A9e"),playAgain:"Rejouer",close:"Fermer"},pl:{advertising:"Reklama",learnMore:decodeURIComponent("Dowiedz%20si%C4%99%20wi%C4%99cej"),noAd:decodeURIComponent("Nie%20mo%C5%BCna%20by%C5%82o%20zwr%C3%B3ci%C4%87%20dodatkowej%20reklamy"),playAgain:decodeURIComponent("Odtw%C3%B3rz%20ponownie"),close:"Zamknij"},sk:{advertising:"Reklama",learnMore:decodeURIComponent("U%C4%8D%20sa%20viac"),noAd:decodeURIComponent("Nebola%20n%C3%A1jden%C3%A1%20%C5%BEiadna%20%C4%8Fal%C5%A1ia%20reklama"),playAgain:decodeURIComponent("Prehra%C5%A5%20znova"),close:"Zavrie"},bg:{advertising:"",learnMore:decodeURIComponent("%D0%9D%D0%B0%D1%83%D1%87%D0%B5%D1%82%D0%B5%20%D0%BF%D0%BE%D0%B2%D0%B5%D1%87%D0%B5"),noAd:decodeURIComponent("%D0%9D%D0%B5%20%D0%BC%D0%BE%D0%B6%D0%B5%20%D0%B4%D0%B0%20%D0%B1%D1%8A%D0%B4%D0%B5%20%D0%B2%D1%8A%D1%80%D0%BD%D0%B0%D1%82%D0%B0%20%D0%B4%D0%BE%D0%BF%D1%8A%D0%BB%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D0%BD%D0%B0%20%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%BC%D0%B0"),playAgain:decodeURIComponent("%D0%92%D1%8A%D0%B7%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%B5%D0%B6%D0%B4%D0%B0%D0%BD%D0%B5%20%D0%BE%D1%82%D0%BD%D0%BE%D0%B2%D0%BE"),close:""},ro:{advertising:"Publicitate",learnMore:decodeURIComponent("Afla%C8%9Bi%20mai%20multe"),noAd:decodeURIComponent("Nu%20se%20poate%20afi%C8%99a%20o%20alt%C4%83%20reclam%C4%83%20suplimentar%C4%83"),playAgain:decodeURIComponent("Reda%C8%9Bi%20din%20nou"),close:"nchide"}};class LearnMoreButton{constructor({container:e,targetUrl:t}){const r=this.createOverlay(),n=(e.appendChild(r),r.attachShadow({mode:"open"}));var i=this.createStyles(),i=(n.appendChild(i),this.createButton(t));n.appendChild(i)}createStyles(){const e=renderDocument.createElement("style");return e.textContent=`
      :host {
        all: initial;
        visibility: inherit;
        background: rgba(50, 50, 50, 0.4);
        display: block;
        font-family: var(--caroda-font-family);
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
      }

      .carodaLearnMoreButton {
        background-color: transparent;
        border: none;
        color: white;
        cursor: pointer;
        font-size: 1rem;
        left: 50%;
        letter-spacing: 1.5px;
        line-height: 50px;
        min-height: 50px;
        min-width: 50px;
        opacity: 0.8;
        position: absolute;
        text-shadow: -1px 1px 1px black, 1px -1px 1px black, 1px 1px 1px black, -1px -1px 1px black, 0 1px 1px black, 1px 0 1px black, 0 -1px 1px black, -1px 0 1px black;
        top: calc(50% - 1rem);
        transition: opacity 0.6s ease-out;
        transform: translate(-50%, -50%);
      }

      .carodaLearnMoreButton:hover {
        opacity: 1;
      }
    `,e}createOverlay(){const e=renderDocument.createElement("div");return e.classList.add("carodaLearnMoreButtonOverlay"),e}createButton(e){const t=renderDocument.createElement("a");return t.classList.add("carodaLearnMoreButton"),t.textContent=labels[targetingProfile.locale()].learnMore,t.href=e,t.target="_blank",t}}function getRemainingTimeout(e){var t=e-(new Date).getTime();return 0<t?t:0}var in="" lib="{},domParser={},sax={},nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new" n?n[r]:"#"='r.charAt(0)?65535&lt;(t=parseInt(r.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t' o(e){var="" parse$1(r,e,n,i,a){function="" r="" regexp("[\\-\\.0-9"+namestartchar.source.slice(1,-1)+"\\u00b7\\u0300-\\u036f\\u203f-\\u2040]"),tagnamepattern="new" regexp("^"+namestartchar.source+namechar.source+"*(?::"+namestartchar.source+namechar.source+"*)?$"),s_tag="0,S_ATTR=1,S_ATTR_SPACE=2,S_EQ=3,S_ATTR_NOQUOT_VALUE=4,S_ATTR_END=5,S_TAG_SPACE=6,S_TAG_CLOSE=7;function" t,r="e.slice(1,-1);return" xmlreader$1(){}function="">&gt;10),56320+(1023&amp;t))):String.fromCharCode(t):(a.error("entity not found:"+e),e)}function t(e){var t;g<e&&(t=r.substring(g,e).replace( &#?\w+;="" )||(f='(m=i.doc).createTextNode(r.substr(g)),m.appendChild(f),i.currentElement=f));switch(g&lt;y&amp;&amp;t(y),r.charAt(y+1)){case"/":var' ^\s*$="" g,o),u&&s(g),i.characters(t,0,e-g),g="e)}function" l="0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,u=i.locator,p=[{currentNSMap:e}],h={},g=0;;){try{var" m,f,y='r.indexOf("&lt;",g);if(y&lt;0)return' s(e,t){for(;c<="e&amp;&amp;(t=d.exec(r));)l=t.index,c=l+t[0].length,u.lineNumber++;u.columnNumber=e-l+1}for(var" v='r.indexOf("' void(r.substr(g).match(="">",y+3),b=r.substring(y+2,v),_=p.pop(),S=(v&lt;0?(b=r.substring(y+2).replace(/[\s&lt;].*/,""),a.error("end tag name: "+b+" is not complete:"+_.tagName),v=y+1+b.length):b.match(/\s<!--)&&(b=b.replace(/[\s<].*/,""),a.error("end tag name: "+b+" maybe not complete"),v=y+1+b.length),_.localNSMap),C=_.tagName==b;if(C||_.tagName&&_.tagName.toLowerCase()==b.toLowerCase()){if(i.endElement(_.uri,_.localName,b),S)for(var E in S)i.endPrefixMapping(E);C||a.fatalError("end tag name: "+b+" is not match the current start tagName:"+_.tagName)}else p.push(_);v++;break;case"?":u&&s(y),v=parseInstruction(r,y,i);break;case"!":u&&s(y),v=parseDCC(r,y,i,a);break;default:u&&s(y);var w=new ElementAttributes,A=p[p.length-1].currentNSMap,v=parseElementStartPart(r,y,w,A,o,a),P=w.length;if(!w.closed&&fixSelfClosed(r,v,w.tagName,h)&&(w.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),u&&P){for(var T=copyLocator(u,{}),$=0;$<P;$++){var I=w[$];s(I.offset),I.locator=copyLocator(u,{})}i.locator=T,appendElement$1(w,i,A)&&p.push(w),i.locator=u}else appendElement$1(w,i,A)&&p.push(w);"http://www.w3.org/1999/xhtml"!==w.uri||w.closed?v++:v=parseHtmlSpecialContent(r,v,w.tagName,o,i)}}catch(e){a.error("element parse error: "+e),v=-1}g<v?g=v:t(Math.max(y,g)+1)}}function copyLocator(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function parseElementStartPart(e,t,r,n,i,a){for(var o,s=++t,l=S_TAG;;){var c=e.charAt(s);switch(c){case"=":if(l===S_ATTR)o=e.slice(t,s),l=S_EQ;else{if(l!==S_ATTR_SPACE)throw new Error("attribute equal must after attrName");l=S_EQ}break;case"'":case'"':if(l===S_EQ||l===S_ATTR){if(l===S_ATTR&&(a.warning('attribute value must after "="'),o=e.slice(t,s)),!(0<(s=e.indexOf(c,t=s+1))))throw new Error("attribute value no end '"+c+"' match");d=e.slice(t,s).replace(/&#?\w+;/g,i),r.add(o,d,t-1),l=S_ATTR_END}else{if(l!=S_ATTR_NOQUOT_VALUE)throw new Error('attribute value must after "="');d=e.slice(t,s).replace(/&#?\w+;/g,i),r.add(o,d,t),a.warning('attribute "'+o+'" missed start quot('+c+")!!"),t=s+1,l=S_ATTR_END}break;case"/":switch(l){case S_TAG:r.setTagName(e.slice(t,s));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:l=S_TAG_CLOSE,r.closed=!0;case S_ATTR_NOQUOT_VALUE:case S_ATTR:case S_ATTR_SPACE:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),l==S_TAG&&r.setTagName(e.slice(t,s)),s;case"-->":switch(l){case S_TAG:r.setTagName(e.slice(t,s));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:break;case S_ATTR_NOQUOT_VALUE:case S_ATTR:"/"===(d=e.slice(t,s)).slice(-1)&amp;&amp;(r.closed=!0,d=d.slice(0,-1));case S_ATTR_SPACE:l===S_ATTR_SPACE&amp;&amp;(d=o),l==S_ATTR_NOQUOT_VALUE?(a.warning('attribute "'+d+'" missed quot(")!!'),r.add(o,d.replace(/&amp;#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===n[""]&amp;&amp;d.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),r.add(d,d,t));break;case S_EQ:throw new Error("attribute value missed!!")}return s;case"":c=" ";default:if(c&lt;=" ")switch(l){case S_TAG:r.setTagName(e.slice(t,s)),l=S_TAG_SPACE;break;case S_ATTR:o=e.slice(t,s),l=S_ATTR_SPACE;break;case S_ATTR_NOQUOT_VALUE:var d=e.slice(t,s).replace(/&amp;#?\w+;/g,i);a.warning('attribute "'+d+'" missed quot(")!!'),r.add(o,d,t);case S_ATTR_END:l=S_TAG_SPACE}else switch(l){case S_ATTR_SPACE:r.tagName,"http://www.w3.org/1999/xhtml"===n[""]&amp;&amp;o.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),r.add(o,o,t),t=s,l=S_ATTR;break;case S_ATTR_END:a.warning('attribute space is required"'+o+'"!!');case S_TAG_SPACE:l=S_ATTR,t=s;break;case S_EQ:l=S_ATTR_NOQUOT_VALUE,t=s;break;case S_TAG_CLOSE:throw new Error("elements closed character '/' and '&gt;' must be connected to")}}s++}}function appendElement$1(e,t,r){for(var n=e.tagName,i=null,a=e.length;a--;){var o=e[a],s=o.qName,l=o.value,s=0&lt;(d=s.indexOf(":"))?(c=o.prefix=s.slice(0,d),u=s.slice(d+1),"xmlns"===c&amp;&amp;u):(c=null,"xmlns"===(u=s)&amp;&amp;"");o.localName=u,!1!==s&amp;&amp;(null==i&amp;&amp;(i={},_copy(r,r={})),r[s]=i[s]=l,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(s,l))}for(var c,a=e.length;a--;)(c=(o=e[a]).prefix)&amp;&amp;("xml"===c&amp;&amp;(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&amp;&amp;(o.uri=r[c||""]));var d,u=0&lt;(d=n.indexOf(":"))?(c=e.prefix=n.slice(0,d),e.localName=n.slice(d+1)):(c=null,e.localName=n),p=e.uri=r[c||""];if(t.startElement(p,u,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=i,!0;if(t.endElement(p,u,n),i)for(c in i)t.endPrefixMapping(c)}function parseHtmlSpecialContent(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("&lt;/"+r+"&gt;",t),o=e.substring(t+1,a);if(/[&amp;&lt;]/.test(o))return/^script$/i.test(r)||(o=o.replace(/&amp;#?\w+;/g,n)),i.characters(o,0,o.length),a}return t+1}function fixSelfClosed(e,t,r,n){var i=n[r];return null==i&amp;&amp;((i=e.lastIndexOf("&lt;/"+r+"&gt;"))&lt;t&amp;&amp;(i=e.lastIndexOf("&lt;/"+r)),n[r]=i),i&lt;t}function _copy(e,t){for(var r in e)t[r]=e[r]}function parseDCC(e,t,r,n){var i=e.charAt(t+2);if("-"===i)return"-"===e.charAt(t+3)?t&lt;(l=e.indexOf("--\x3e",t+4))?(r.comment(e,t+4,l-t-4),l+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6))return l=e.indexOf("]]&gt;",t+9),r.startCDATA(),r.characters(e,t+9,l-t-9),r.endCDATA(),l+3;var a,o,s,i=split(e,t),l=i.length;return 1&lt;l&amp;&amp;/!doctype/i.test(i[0][0])?(a=i[1][0],o=3&lt;l&amp;&amp;/^public$/i.test(i[2][0])&amp;&amp;i[3][0],s=4&lt;l&amp;&amp;i[4][0],i=i[l-1],r.startDTD(a,o&amp;&amp;o.replace(/^(['"])(.*?)\1$/,"$2"),s&amp;&amp;s.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),i.index+i[0].length):-1}function parseInstruction(e,t,r){var n,i=e.indexOf("?&gt;",t);return i&amp;&amp;(n=e.substring(t,i).match(/^&lt;\?(\S*)\s*([\s\S]*?)\s*$/))?(n[0].length,r.processingInstruction(n[1],n[2]),i+2):-1}function ElementAttributes(e){}function _set_proto_(e,t){return e.__proto__=t,e}function split(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s&lt;&gt;\/=]+=?|(\/?\s*&gt;|&lt;)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}XMLReader$1.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),_copy(t,t={}),parse$1(e,t,r,n,this.errorHandler),n.endDocument()}},ElementAttributes.prototype={setTagName:function(e){if(!tagNamePattern.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!tagNamePattern.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},_set_proto_({},_set_proto_.prototype)instanceof _set_proto_||(_set_proto_=function(e,t){function r(){}for(t in r.prototype=t,r=new r,e)r[t]=e[t];return r}),sax.XMLReader=XMLReader$1;var dom$1={};function copy(e,t){for(var r in e)t[r]=e[r]}function _extends(e,t){var r,n=e.prototype;function i(){}Object.create&amp;&amp;(r=Object.create(t.prototype),n.__proto__=r),n instanceof t||(i.prototype=t.prototype,copy(n,i=new i),e.prototype=n=i),n.constructor!=e&amp;&amp;("function"!=typeof e&amp;&amp;console.error("unknow Class:"+e),n.constructor=e)}var htmlns="http://www.w3.org/1999/xhtml",NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={},HIERARCHY_REQUEST_ERR=(ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1),ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2),ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3)),NOT_FOUND_ERR=(ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4),ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5),ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6),ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7),ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8)),INUSE_ATTRIBUTE_ERR=(ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9),ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10));function DOMException(e,t){var r;return t instanceof Error?r=t:(r=this,Error.call(this,ExceptionMessage[e]),this.message=ExceptionMessage[e],Error.captureStackTrace&amp;&amp;Error.captureStackTrace(this,DOMException)),r.code=e,t&amp;&amp;(this.message=this.message+": "+t),r}function NodeList(){}function LiveNodeList(e,t){this._node=e,this._refresh=t,_updateLiveList(this)}function _updateLiveList(e){var t,r=e._node._inc||e._node.ownerDocument._inc;e._inc!=r&amp;&amp;(t=e._refresh(e._node),__set__(e,"length",t.length),copy(t,e),e._inc=r)}function NamedNodeMap(){}function _findNodeIndex(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function _addNamedNode(e,t,r,n){var i;n?t[_findNodeIndex(t,n)]=r:t[t.length++]=r,e&amp;&amp;(i=(r.ownerElement=e).ownerDocument)&amp;&amp;(n&amp;&amp;_onRemoveAttribute(i,e,n),_onAddAttribute(i,e,r))}function _removeNamedNode(e,t,r){var n=_findNodeIndex(t,r);if(!(0&lt;=n))throw DOMException(NOT_FOUND_ERR,new Error(e.tagName+"@"+r));for(var i,a=t.length-1;n&lt;a;)t[n]=t[++n];t.length=a,e&amp;&amp;(i=e.ownerDocument)&amp;&amp;(_onRemoveAttribute(i,e,r),r.ownerElement=null)}function DOMImplementation$1(e){if(this._features={},e)for(var t in e)this._features=e[t]}function Node(){}function _xmlEncoder(e){return("&lt;"==e?"&amp;lt;":"&gt;"==e&amp;&amp;"&amp;gt;")||"&amp;"==e&amp;&amp;"&amp;amp;"||'"'==e&amp;&amp;"&amp;quot;"||"&amp;#"+e.charCodeAt()+";"}function _visitNode(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(_visitNode(e,t))return!0}while(e=e.nextSibling)}function Document(){}function _onAddAttribute(e,t,r){e&amp;&amp;e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&amp;&amp;(t._nsMap[r.prefix?r.localName:""]=r.value)}function _onRemoveAttribute(e,t,r,n){e&amp;&amp;e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&amp;&amp;delete t._nsMap[r.prefix?r.localName:""]}function _onUpdateChild(e,t,r){if(e&amp;&amp;e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)i=(n[a++]=i).nextSibling;n.length=a}}}function _removeChild(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,_onUpdateChild(e.ownerDocument,e),t}function _insertBefore(e,t,r){var n=t.parentNode;if(n&amp;&amp;n.removeChild(t),t.nodeType===DOCUMENT_FRAGMENT_NODE){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;n=r?r.previousSibling:e.lastChild;for(i.previousSibling=n,a.nextSibling=r,n?n.nextSibling=i:e.firstChild=i,null==r?e.lastChild=a:r.previousSibling=a;i.parentNode=e,i!==a&amp;&amp;(i=i.nextSibling););return _onUpdateChild(e.ownerDocument||e,e),t.nodeType==DOCUMENT_FRAGMENT_NODE&amp;&amp;(t.firstChild=t.lastChild=null),t}function _appendSingleChild(e,t){var r=t.parentNode,n=(r&amp;&amp;(n=e.lastChild,r.removeChild(t),n=e.lastChild),e.lastChild);return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,_onUpdateChild(e.ownerDocument,e,t),t}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer$1(){}function nodeSerializeToString(e,t){var r,n=[],i=9==this.nodeType?this.documentElement:this,a=i.prefix,o=i.namespaceURI;return serializeToString(this,n,e,t,r=o&amp;&amp;null==a&amp;&amp;null==(a=i.lookupPrefix(o))?[{namespace:o,prefix:null}]:r),n.join("")}function needNamespaceDefine(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!n&amp;&amp;!i)return!1;if("xml"===n&amp;&amp;"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var a=r.length;a--;){var o=r[a];if(o.prefix==n)return o.namespace!=i}return!0}function serializeToString(e,t,r,n,i){if(n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case ELEMENT_NODE:(i=i||[]).length;var a=e.attributes,o=a.length,s=e.firstChild,l=e.tagName;r=htmlns===e.namespaceURI||r,t.push("&lt;",l);for(var c=0;c&lt;o;c++)"xmlns"==(d=a.item(c)).prefix?i.push({prefix:d.localName,namespace:d.value}):"xmlns"==d.nodeName&amp;&amp;i.push({prefix:"",namespace:d.value});for(var d,u,p,c=0;c&lt;o;c++)needNamespaceDefine(d=a.item(c),r,i)&amp;&amp;(u=d.prefix||"",p=d.namespaceURI,t.push(u?" xmlns:"+u:" xmlns",'="',p,'"'),i.push({prefix:u,namespace:p})),serializeToString(d,t,r,n,i);if(needNamespaceDefine(e,r,i)&amp;&amp;(u=e.prefix||"",p=e.namespaceURI,t.push(u?" xmlns:"+u:" xmlns",'="',p,'"'),i.push({prefix:u,namespace:p})),s||r&amp;&amp;!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push("&gt;"),r&amp;&amp;/^script$/i.test(l))for(;s;)s.data?t.push(s.data):serializeToString(s,t,r,n,i),s=s.nextSibling;else for(;s;)serializeToString(s,t,r,n,i),s=s.nextSibling;t.push("&lt;/",l,"&gt;")}else t.push("/&gt;");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(s=e.firstChild;s;)serializeToString(s,t,r,n,i),s=s.nextSibling;return;case ATTRIBUTE_NODE:return t.push(" ",e.name,'="',e.value.replace(/[&lt;&amp;"]/g,_xmlEncoder),'"');case TEXT_NODE:return t.push(e.data.replace(/[&lt;&amp;]/g,_xmlEncoder));case CDATA_SECTION_NODE:return t.push("&lt;![CDATA[",e.data,"]]&gt;");case COMMENT_NODE:return t.push("\x3c!--",e.data,"--\x3e");case DOCUMENT_TYPE_NODE:var l=e.publicId,h=e.systemId;return t.push("&lt;!DOCTYPE ",e.name),void(l?(t.push(' PUBLIC "',l),h&amp;&amp;"."!=h&amp;&amp;t.push('" "',h),t.push('"&gt;')):h&amp;&amp;"."!=h?t.push(' SYSTEM "',h,'"&gt;'):((l=e.internalSubset)&amp;&amp;t.push(" [",l,"]"),t.push("&gt;")));case PROCESSING_INSTRUCTION_NODE:return t.push("&lt;?",e.target," ",e.data,"?&gt;");case ENTITY_REFERENCE_NODE:return t.push("&amp;",e.nodeName,";");default:t.push("??",e.nodeName)}}function importNode(e,t,r){var n;switch(t.nodeType){case ELEMENT_NODE:(n=t.cloneNode(!1)).ownerDocument=e;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:r=!0}if((n=n||t.cloneNode(!1)).ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(importNode(e,i,r)),i=i.nextSibling;return n}function cloneNode(e,t,r){var n,i=new t.constructor;for(n in t){var a=t[n];"object"!=typeof a&amp;&amp;a!=i[n]&amp;&amp;(i[n]=a)}switch(t.childNodes&amp;&amp;(i.childNodes=new NodeList),i.ownerDocument=e,i.nodeType){case ELEMENT_NODE:var o=t.attributes,s=i.attributes=new NamedNodeMap,l=o.length;s._ownerElement=i;for(var c=0;c&lt;l;c++)i.setAttributeNode(cloneNode(e,o.item(c),!0));break;case ATTRIBUTE_NODE:r=!0}if(r)for(var d=t.firstChild;d;)i.appendChild(cloneNode(e,d,r)),d=d.nextSibling;return i}function __set__(e,t,r){e[t]=r}ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11),ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12),ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13),ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14),ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15),DOMException.prototype=Error.prototype,copy(ExceptionCode,DOMException),NodeList.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n&lt;this.length;n++)serializeToString(this[n],r,e,t);return r.join("")}},LiveNodeList.prototype.item=function(e){return _updateLiveList(this),this[e]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&amp;&amp;t!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);t=this.getNamedItem(e.nodeName);return _addNamedNode(this._ownerElement,this,e,t),t},setNamedItemNS:function(e){var t=e.ownerElement;if(t&amp;&amp;t!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return t=this.getNamedItemNS(e.namespaceURI,e.localName),_addNamedNode(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return _removeNamedNode(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return _removeNamedNode(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&amp;&amp;n.namespaceURI==e)return n}return null}},DOMImplementation$1.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!(!r||t&amp;&amp;!(t in r))},createDocument:function(e,t,r){var n,i=new Document;return i.implementation=this,i.childNodes=new NodeList,(i.doctype=r)&amp;&amp;i.appendChild(r),t&amp;&amp;(n=i.createElementNS(e,t),i.appendChild(n)),i},createDocumentType:function(e,t,r){var n=new DocumentType;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return _insertBefore(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&amp;&amp;this.removeChild(t)},removeChild:function(e){return _removeChild(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return cloneNode(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&amp;&amp;t.nodeType==TEXT_NODE&amp;&amp;e.nodeType==TEXT_NODE?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0&lt;this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==ATTRIBUTE_NODE?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&amp;&amp;e in r)return r[e];t=t.nodeType==ATTRIBUTE_NODE?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},copy(NodeType,Node),copy(NodeType,Node.prototype),Document.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType!=DOCUMENT_FRAGMENT_NODE)return null==this.documentElement&amp;&amp;e.nodeType==ELEMENT_NODE&amp;&amp;(this.documentElement=e),_insertBefore(this,e,t),e.ownerDocument=this,e;for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e},removeChild:function(e){return this.documentElement==e&amp;&amp;(this.documentElement=null),_removeChild(this,e)},importNode:function(e,t){return importNode(this,e,t)},getElementById:function(t){var r=null;return _visitNode(this.documentElement,function(e){if(e.nodeType==ELEMENT_NODE&amp;&amp;e.getAttribute("id")==t)return r=e,!0}),r},createElement:function(e){var t=new Element;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new NodeList,(t.attributes=new NamedNodeMap)._ownerElement=t},createDocumentFragment:function(){var e=new DocumentFragment;return e.ownerDocument=this,e.childNodes=new NodeList,e},createTextNode:function(e){var t=new Text;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Comment;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new CDATASection;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new ProcessingInstruction;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new Attr;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new EntityReference;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new Element,n=t.split(":"),i=r.attributes=new NamedNodeMap;return r.childNodes=new NodeList,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r},createAttributeNS:function(e,t){var r=new Attr,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},_extends(Document,Node),Element.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&amp;&amp;t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&amp;&amp;this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(e,null):_appendSingleChild(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&amp;&amp;this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&amp;&amp;r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(n){return new LiveNodeList(this,function(t){var r=[];return _visitNode(t,function(e){e===t||e.nodeType!=ELEMENT_NODE||"*"!==n&amp;&amp;e.tagName!=n||r.push(e)}),r})},getElementsByTagNameNS:function(n,i){return new LiveNodeList(this,function(t){var r=[];return _visitNode(t,function(e){e===t||e.nodeType!==ELEMENT_NODE||"*"!==n&amp;&amp;e.namespaceURI!==n||"*"!==i&amp;&amp;e.localName!=i||r.push(e)}),r})}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=ATTRIBUTE_NODE,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);this.nodeValue=this.data=r=n+r+i,this.length=r.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(e){var t=(r=this.data).substring(e),r=r.substring(0,e),r=(this.data=this.nodeValue=r,this.length=r.length,this.ownerDocument.createTextNode(t));return this.parentNode&amp;&amp;this.parentNode.insertBefore(r,this.nextSibling),r}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE,_extends(DocumentType,Node),Notation.prototype.nodeType=NOTATION_NODE,_extends(Notation,Node),Entity.prototype.nodeType=ENTITY_NODE,_extends(Entity,Node),EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE,_extends(ProcessingInstruction,Node),XMLSerializer$1.prototype.serializeToString=function(e,t,r){return nodeSerializeToString.call(e,t,r)},Node.prototype.toString=nodeSerializeToString;try{function getTextContent(e){switch(e.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&amp;&amp;8!==e.nodeType&amp;&amp;t.push(getTextContent(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty&amp;&amp;(Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(e){switch(this.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&amp;&amp;this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),__set__=function(e,t,r){e["$$"+t]=r})}catch(e){}function DOMParser$1(e){this.options=e||{locator:{}}}function buildErrorHandler(n,e,i){if(!n){if(e instanceof DOMHandler)return e;n=e}var a={},o=n instanceof Function;function t(t){var r=n[t];!r&amp;&amp;o&amp;&amp;(r=2==n.length?function(e){n(t,e)}:n),a[t]=r?function(e){r("[xmldom "+t+"]\t"+e+_locator(i))}:function(){}}return i=i||{},t("warning"),t("error"),t("fatalError"),a}function DOMHandler(){this.cdata=!1}function position(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function _locator(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function _toString(e,t,r){return"string"==typeof e?e.substr(t,r):e.length&gt;=t+r||t?new java.lang.String(e,t,r)+"":e}function appendElement(e,t){(e.currentElement||e.doc).appendChild(t)}dom$1.DOMImplementation=DOMImplementation$1,dom$1.XMLSerializer=XMLSerializer$1,DOMParser$1.prototype.parseFromString=function(e,t){var r=this.options,n=new XMLReader,i=r.domBuilder||new DOMHandler,a=r.errorHandler,o=r.locator,s=r.xmlns||{},l={lt:"&lt;",gt:"&gt;",amp:"&amp;",quot:'"',apos:"'"};return o&amp;&amp;i.setDocumentLocator(o),n.errorHandler=buildErrorHandler(a,i,o),n.domBuilder=r.domBuilder||i,/\/x?html?$/.test(t)&amp;&amp;(l.nbsp="",l.copy="",s[""]="http://www.w3.org/1999/xhtml"),s.xml=s.xml||"http://www.w3.org/XML/1998/namespace",e?n.parse(e,s,l):n.errorHandler.error("invalid doc source"),i.doc},DOMHandler.prototype={startDocument:function(){this.doc=(new DOMImplementation).createDocument(null,null,null),this.locator&amp;&amp;(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),o=n.length;appendElement(this,a),this.currentElement=a,this.locator&amp;&amp;position(this.locator,a);for(var s=0;s&lt;o;s++){var e=n.getURI(s),l=n.getValue(s),r=n.getQName(s),c=i.createAttributeNS(e,r);this.locator&amp;&amp;position(n.getLocator(s),c),c.value=c.nodeValue=l,a.setAttributeNode(c)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&amp;&amp;position(this.locator,r),appendElement(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){var n;(e=_toString.apply(this,arguments))&amp;&amp;(n=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&amp;&amp;this.doc.appendChild(n),this.locator&amp;&amp;position(this.locator,n))},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&amp;&amp;(e.lineNumber=0)},comment:function(e,t,r){e=_toString.apply(this,arguments);var n=this.doc.createComment(e);this.locator&amp;&amp;position(this.locator,n),appendElement(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;n&amp;&amp;n.createDocumentType&amp;&amp;(n=n.createDocumentType(e,t,r),this.locator&amp;&amp;position(this.locator,n),appendElement(this,n))},warning:function(e){console.warn("[xmldom warning]\t"+e,_locator(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,_locator(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,_locator(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){DOMHandler.prototype[e]=function(){return null}});var XMLReader=sax.XMLReader,DOMImplementation=domParser.DOMImplementation=dom$1.DOMImplementation,parse=(domParser.XMLSerializer=dom$1.XMLSerializer,domParser.DOMParser=DOMParser$1,{}),unmarshaler={},dom={},nodeTypeIs=(Object.defineProperty(dom,"__esModule",{value:!0}),function(t){return function(e){return e.nodeType===t}}),isText=(dom.isElement=nodeTypeIs(1),dom.isText=nodeTypeIs(3)),isCdata=dom.isCdata=nodeTypeIs(4),getChildren=dom.getChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,t)},isTextOrCdata=function(e){return isText(e)||isCdata(e)},convertors=(dom.getText=function(e){return getChildren(e,isTextOrCdata).map(function(e){return e.nodeValue}).join("").trim()},{}),types$1={},parseTime=(Object.defineProperty(types$1,"__esModule",{value:!0}),types$1.default={bool:"b",int:"i",float:"f",time:"t"},{}),re=(Object.defineProperty(parseTime,"__esModule",{value:!0}),/^\s*(\d+):(\d+):(\d+(?:\.\d+)?)\s*$/),_TYPES$bool$TYPES$int,_types$1=(parseTime.default=function(e){if("string"!=typeof e)return null;var t=re.exec(e);return null==t?null:60*(60*parseInt(t[1],10)+parseInt(t[2],10))+parseFloat(t[3])},Object.defineProperty(convertors,"__esModule",{value:!0}),types$1),_types2$1=_interopRequireDefault$o(_types$1),_parseTime$1=parseTime,_parseTime2$1=_interopRequireDefault$o(_parseTime$1);function _interopRequireDefault$o(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}convertors.default=(_TYPES$bool$TYPES$int={},_defineProperty$1(_TYPES$bool$TYPES$int,_types2$1.default.bool,function(e){return"true"===e||"1"===e}),_defineProperty$1(_TYPES$bool$TYPES$int,_types2$1.default.int,function(e){return parseInt(e,10)}),_defineProperty$1(_TYPES$bool$TYPES$int,_types2$1.default.float,parseFloat),_defineProperty$1(_TYPES$bool$TYPES$int,_types2$1.default.time,_parseTime2$1.default),_TYPES$bool$TYPES$int),Object.defineProperty(unmarshaler,"__esModule",{value:!0});var _createClass$1=function(){function n(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&amp;&amp;n(e.prototype,t),r&amp;&amp;n(e,r),e}}(),_dom=dom,_convertors=convertors,_convertors2=_interopRequireDefault$n(_convertors);function _interopRequireDefault$n(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var toProperty=function(){function t(e){return 1===e.length?e.toLowerCase():e.substr(0,e.length-1).toLowerCase()+e.charAt(e.length-1)}var r=/^[A-Z]+/;return function(e){return e.replace(r,t)}}(),hasPair=function(e,t,r){return null!=e[t]&amp;&amp;~e[t].indexOf(r)},Unmarshaler=function(){function a(e){var t=e.collections,r=e.freeforms,n=e.hybrids,i=e.types;_classCallCheck$3(this,a),this._collections=t,this._freeforms=r,this._hybrids=n,this._types=i}return _createClass$1(a,[{key:"unmarshal",value:function(e){return this._createNode(e)}},{key:"_createNode",value:function(e){var t=Object.create(null);return t._value=this._isHybrid(e.nodeName)?e:this._convertPropertyValue((0,_dom.getText)(e),e.nodeName,"_value"),this._copyAttributes(t,e),this._createCollections(t,e),this._createChildren(t,e),t}},{key:"_createFreeformNode",value:function(e){var t=Object.create(null);return this._copyAttributes(t,e),t._value=e,t}},{key:"_copyAttributes",value:function(e,t){for(var r=t.nodeName,n=0;n&lt;t.attributes.length;++n){var i=t.attributes[n],a=i.nodeName,i=i.nodeValue;e[a]=this._convertPropertyValue(i,r,a)}}},{key:"_createCollections",value:function(t,e){null!=this._collections[e.nodeName]&amp;&amp;this._collections[e.nodeName].forEach(function(e){t[toProperty(e)]=[]})}},{key:"_createChildren",value:function(n,e){var i=this,a=e.nodeName;(0,_dom.getChildren)(e,_dom.isElement).forEach(function(e){var t=e.nodeName,r=toProperty(t);i._isFreeformParent(a)?i._isFreeformChild(a,t)&amp;&amp;i._addFreeformChild(e,r,n):i._addNodeChild(e,r,n,a,t)})}},{key:"_addNodeChild",value:function(e,t,r,n,i){var a=this._createNode(e);if(null==r[t])r[t]=a;else{if(!this._isCollection(n,i))throw new Error("Multiple values for "+n+"."+i);r[t].push(a)}}},{key:"_addFreeformChild",value:function(e,t,r){r[t]=r[t]||[],r[t].push(this._createFreeformNode(e))}},{key:"_convertPropertyValue",value:function(e,t,r){var n=null!=this._types[t]?this._types[t][r]:null;return null!=n?_convertors2.default[n](e):e}},{key:"_isCollection",value:function(e,t){return hasPair(this._collections,e,t)}},{key:"_isFreeformParent",value:function(e){return null!=this._freeforms[e]}},{key:"_isFreeformChild",value:function(e,t){return hasPair(this._freeforms,e,t)}},{key:"_isHybrid",value:function(e){return 0&lt;=this._hybrids.indexOf(e)}}]),a}(),schema=(unmarshaler.default=Unmarshaler,{}),_types=(Object.defineProperty(schema,"__esModule",{value:!0}),types$1),_types2=_interopRequireDefault$m(_types);function _interopRequireDefault$m(e){return e&amp;&amp;e.__esModule?e:{default:e}}var collections={AdVerifications:["Verification"],Companion:["CompanionClickTracking"],CompanionAds:["Companion"],CreativeExtensions:["CreativeExtension"],Creatives:["Creative"],Extensions:["Extension"],Icon:["IconViewTracking"],IconClicks:["IconClickTracking"],Icons:["Icon"],InLine:["Category","Error","Impression","Survey"],MediaFiles:["MediaFile","InteractiveCreativeFile"],NonLinear:["NonLinearClickTracking"],NonLinearAds:["NonLinear"],TrackingEvents:["Tracking"],VAST:["Error","Ad"],Verification:["JavaScriptResource","FlashResource"],ViewableImpression:["Viewable","NotViewable","ViewUndetermined"],VideoClicks:["ClickTracking","CustomClick"],Wrapper:["Impression","Error"]},freeforms={CreativeExtensions:["CreativeExtension"],Extensions:["Extension"]},hybrids=["CompanionAds"],types={Ad:{sequence:_types2.default.int},AdParameters:{xmlEncoded:_types2.default.bool},Companion:{width:_types2.default.int,height:_types2.default.int,expandedWidth:_types2.default.int,expandedHeight:_types2.default.int},Creative:{sequence:_types2.default.int},Duration:{_value:_types2.default.time},Icon:{width:_types2.default.int,height:_types2.default.int,offset:_types2.default.time,duration:_types2.default.time},MediaFile:{bitrate:_types2.default.int,minBitrate:_types2.default.int,maxBitrate:_types2.default.int,width:_types2.default.int,height:_types2.default.int,scalable:_types2.default.bool,maintainAspectRatio:_types2.default.bool},NonLinear:{width:_types2.default.int,height:_types2.default.int,assetWidth:_types2.default.int,assetHeight:_types2.default.int,expandedWidth:_types2.default.int,expandedHeight:_types2.default.int,scalable:_types2.default.bool,maintainAspectRatio:_types2.default.bool,minSuggestedDuration:_types2.default.time},Pricing:{_value:_types2.default.float},Wrapper:{followAdditionalWrappers:_types2.default.bool,allowMultipleAds:_types2.default.bool,fallbackOnNoAd:_types2.default.bool}},vast=(schema.default={collections:collections,freeforms:freeforms,hybrids:hybrids,types:types},{});class SortedListItem{constructor(){this._sequence=null}get sequence(){return this._sequence}set sequence(e){this._sequence=e}}class SortedList{constructor(){this._contents=[]}get length(){return this._contents.length}add(e){this._contents.push(e),this._contents.sort((e,t)=&gt;(e.sequence||0)-(t.sequence||0))}remove(e){let t=this._contents.indexOf(e);for(;0&lt;=t;)this._contents.splice(t,1),t=this._contents.indexOf(e,t)}get(e){return this._contents[e]}clear(){this._contents.length=0}[Symbol.iterator](){const e=this;let t=0;return{next(){return t&lt;e.length?{value:e.get(t++),done:!1}:{value:void 0,done:!0}}}}toArray(){return this._contents.slice()}get $type(){return"SortedList"}}class AbstractAd extends SortedListItem{constructor(){super(),this._id=null,this._conditionalAd=!1,this._adSystem=null,this._impressions=[],this._pricing=null,this._errors=[],this._viewableImpression=null,this._verifications=[],this._extensions=[],this._creatives=new SortedList}get id(){return this._id}set id(e){this._id=e}get conditionalAd(){return this._conditionalAd}set conditionalAd(e){this._conditionalAd=e}get adSystem(){return this._adSystem}set adSystem(e){this._adSystem=e}get impressions(){return this._impressions}get pricing(){return this._pricing}set pricing(e){this._pricing=e}get errors(){return this._errors}get viewableImpression(){return this._viewableImpression}set viewableImpression(e){this._viewableImpression=e}get verifications(){return this._verifications}get extensions(){return this._extensions}get creatives(){return this._creatives}}class InLine extends AbstractAd{constructor(){super(),this._adTitle=null,this._categories=[],this._description=null,this._surveys=[]}get adTitle(){return this._adTitle}set adTitle(e){this._adTitle=e}get categories(){return this._categories}get description(){return this._description}set description(e){this._description=e}get advertiser(){return this._advertiser}set advertiser(e){this._advertiser=e}get surveys(){return this._surveys}get $type(){return"InLine"}}class Wrapper extends AbstractAd{constructor(){super(),this._followAdditionalWrappers=!0,this._allowMultipleAds=!1,this._fallbackOnNoAd=!1,this._vastAdTagURI=null}get followAdditionalWrappers(){return this._followAdditionalWrappers}set followAdditionalWrappers(e){this._followAdditionalWrappers=e}get allowMultipleAds(){return this._allowMultipleAds}set allowMultipleAds(e){this._allowMultipleAds=e}get fallbackOnNoAd(){return this._fallbackOnNoAd}set fallbackOnNoAd(e){this._fallbackOnNoAd=e}get vastAdTagURI(){return this._vastAdTagURI}set vastAdTagURI(e){this._vastAdTagURI=e}get $type(){return"Wrapper"}}class AbstractClicks{constructor(){this._clickThrough=null,this._clickTrackings=[]}get clickThrough(){return this._clickThrough}set clickThrough(e){this._clickThrough=e}get clickTrackings(){return this._clickTrackings}}class IconClicks extends AbstractClicks{get $type(){return"IconClicks"}}class VideoClicks extends AbstractClicks{constructor(){super(),this._customClicks=[]}get customClicks(){return this._customClicks}get $type(){return"VideoClicks"}}class AdSystem{constructor(){this._version=null,this._name=null}get version(){return this._version}set version(e){this._version=e}get name(){return this._name}set name(e){this._name=e}get $type(){return"AdSystem"}}class Category{constructor(){this._authority=null,this._code=null}get authority(){return this._authority}set authority(e){this._authority=e}get code(){return this._code}set code(e){this._code=e}get $type(){return"Category"}}class Click{constructor(){this._id=null,this._uri=null}get id(){return this._id}set id(e){this._id=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"Click"}}class Creative extends SortedListItem{constructor(){super(),this._id=null,this._adID=null,this._apiFramework=null,this._universalAdId=null,this._extensions=[],this._linear=null,this._companionAds=null,this._nonLinearAds=null}get id(){return this._id}set id(e){this._id=e}get adID(){return this._adID}set adID(e){this._adID=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get universalAdId(){return this._universalAdId}set universalAdId(e){this._universalAdId=e}get extensions(){return this._extensions}get linear(){return this._linear}set linear(e){this._linear=e}get companionAds(){return this._companionAds}set companionAds(e){this._companionAds=e}get nonLinearAds(){return this._nonLinearAds}set nonLinearAds(e){this._nonLinearAds=e}get $type(){return"Creative"}}class Icon{constructor(){this._program=null,this._width=null,this._height=null,this._xPosition=null,this._yPosition=null,this._duration=null,this._offset=null,this._apiFramework=null,this._pxratio=null,this._resource=null,this._clicks=null,this._viewTrackings=[]}get program(){return this._program}set program(e){this._program=e}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e}get duration(){return this._duration}set duration(e){this._duration=e}get offset(){return this._offset}set offset(e){this._offset=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get pxratio(){return this._pxratio}set pxratio(e){this._pxratio=e}get resource(){return this._resource}set resource(e){this._resource=e}get clicks(){return this._clicks}set clicks(e){this._clicks=e}get viewTrackings(){return this._viewTrackings}get $type(){return"Icon"}}class Impression{constructor(){this._id=null,this._uri=null}get id(){return this._id}set id(e){this._id=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"Impression"}}class InteractiveCreativeFile{constructor(){this._type=null,this._apiFramework=null,this._url=null}get type(){return this._type}set type(e){this._type=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"InteractiveCreativeFile"}}class MediaFile{constructor(){this._delivery=null,this._type=null,this._width=null,this._height=null,this._codec=null,this._id=null,this._bitrate=null,this._minBitrate=null,this._maxBitrate=null,this._scalable=!1,this._maintainAspectRatio=!1,this._apiFramework=null,this._uri=null}get delivery(){return this._delivery}set delivery(e){this._delivery=e}get type(){return this._type}set type(e){this._type=e}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get codec(){return this._codec}set codec(e){this._codec=e}get id(){return this._id}set id(e){this._id=e}get bitrate(){return this._bitrate}set bitrate(e){this._bitrate=e}get minBitrate(){return this._minBitrate}set minBitrate(e){this._minBitrate=e}get maxBitrate(){return this._maxBitrate}set maxBitrate(e){this._maxBitrate=e}get scalable(){return this._scalable}set scalable(e){this._scalable=e}get maintainAspectRatio(){return this._maintainAspectRatio}set maintainAspectRatio(e){this._maintainAspectRatio=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"MediaFile"}}class Pricing{constructor(){this._model=null,this._currency=null,this._value=null}get model(){return this._model}set model(e){this._model=e}get currency(){return this._currency}set currency(e){this._currency=e}get value(){return this._value}set value(e){this._value=e}get $type(){return"Pricing"}}class Survey{constructor(){this._type=null,this._uri=null}get type(){return this._type}set type(e){this._type=e}get uri(){return this._uri}set uri(e){this._uri=e}get $type(){return"Survey"}}class TrackingEvent{constructor(){this._uri=null,this._offset=null}get uri(){return this._uri}set uri(e){this._uri=e}get offset(){return this._offset}set offset(e){this._offset=e}get $type(){return"TrackingEvent"}}class TrackingEvents{constructor(){this._map=Object.create(null)}get types(){return Object.keys(this._map)}get(e){return this._map[e]||[]}add(e,t){this._map[e]=this._map[e]||[],this._map[e].push(t)}get $type(){return"TrackingEvents"}}class UniversalAdId{constructor(){this._idRegistry="unknown",this._idValue="unknown",this._creativeIdentifier=null}get idRegistry(){return this._idRegistry}set idRegistry(e){this._idRegistry=e}get idValue(){return this._idValue}set idValue(e){this._idValue=e}get creativeIdentifier(){return this._creativeIdentifier}set creativeIdentifier(e){this._creativeIdentifier=e}get $type(){return"UniversalAdId"}}class AdBuffet{constructor(){this._ads=new SortedList,this._adPod=null}get ads(){return this._ads}get adPod(){return this._adPod}set adPod(e){this._adPod=e}get $type(){return"AdBuffet"}}class VAST extends AdBuffet{constructor(){super(),this._uri=null,this._version=null,this._errors=[]}get uri(){return this._uri}set uri(e){this._uri=e}get version(){return this._version}set version(e){this._version=e}get errors(){return this._errors}get $type(){return"VAST"}}class Verification{constructor(){this._vendor=null,this._javaScriptResources=[],this._flashResources=[],this._viewableImpression=null}get vendor(){return this._vendor}set vendor(e){this._vendor=e}get javaScriptResources(){return this._javaScriptResources}get flashResources(){return this._flashResources}get viewableImpression(){return this._viewableImpression}set viewableImpression(e){this._viewableImpression=e}get $type(){return"Verification"}}class ViewableImpression{constructor(){this._id=null,this._viewables=[],this._notViewables=[],this._viewUndetermineds=[]}get id(){return this._id}set id(e){this._id=e}get viewables(){return this._viewables}get notViewables(){return this._notViewables}get viewUndetermineds(){return this._viewUndetermineds}get $type(){return"ViewableImpression"}}class CompanionAds{constructor(){this._required=null,this._companions=[],this._xmlElement=null}get required(){return this._required}set required(e){this._required=e}get companions(){return this._companions}get xmlElement(){return this._xmlElement}set xmlElement(e){this._xmlElement=e}get $type(){return"CompanionAds"}}class Companion{constructor(){this._id=null,this._width=null,this._height=null,this._assetWidth=null,this._assetHeight=null,this._expandedWidth=null,this._expandedHeight=null,this._apiFramework=null,this._adSlotID=null,this._pxratio=null,this._resource=null,this._adParameters=null,this._altText=null,this._clickThrough=null,this._clickTrackings=[],this._trackingEvents=null}get id(){return this._id}set id(e){this._id=e}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get assetWidth(){return this._assetWidth}set assetWidth(e){this._assetWidth=e}get assetHeight(){return this._assetHeight}set assetHeight(e){this._assetHeight=e}get expandedWidth(){return this._expandedWidth}set expandedWidth(e){this._expandedWidth=e}get expandedHeight(){return this._expandedHeight}set expandedHeight(e){this._expandedHeight=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get adSlotID(){return this._adSlotID}set adSlotID(e){this._adSlotID=e}get pxratio(){return this._pxratio}set pxratio(e){this._pxratio=e}get resource(){return this._resource}set resource(e){this._resource=e}get adParameters(){return this._adParameters}set adParameters(e){this._adParameters=e}get altText(){return this._altText}set altText(e){this._altText=e}get clickThrough(){return this._clickThrough}set clickThrough(e){this._clickThrough=e}get clickTrackings(){return this._clickTrackings}get trackingEvents(){return this._trackingEvents}set trackingEvents(e){this._trackingEvents=e}get $type(){return"Companion"}}class Linear{constructor(){this._skipoffset=null,this._duration=null,this._mezzanine=null,this._mediaFiles=[],this._interactiveCreativeFiles=[],this._adParameters=null,this._videoClicks=null,this._trackingEvents=null,this._icons=[]}get skipoffset(){return this._skipoffset}set skipoffset(e){this._skipoffset=e}get duration(){return this._duration}set duration(e){this._duration=e}get mezzanine(){return this._mezzanine}set mezzanine(e){this._mezzanine=e}get mediaFiles(){return this._mediaFiles}get interactiveCreativeFiles(){return this._interactiveCreativeFiles}get adParameters(){return this._adParameters}set adParameters(e){this._adParameters=e}get videoClicks(){return this._videoClicks}set videoClicks(e){this._videoClicks=e}get trackingEvents(){return this._trackingEvents}set trackingEvents(e){this._trackingEvents=e}get icons(){return this._icons}get $type(){return"Linear"}}class NonLinearAds{constructor(){this._nonLinears=[],this._trackingEvents=null}get nonLinears(){return this._nonLinears}get trackingEvents(){return this._trackingEvents}set trackingEvents(e){this._trackingEvents=e}get $type(){return"NonLinearAds"}}class NonLinear{constructor(){this._id=null,this._width=null,this._height=null,this._expandedWidth=null,this._expandedHeight=null,this._scalable=!1,this._maintainAspectRatio=!1,this._minSuggestedDuration=null,this._apiFramework=null,this._resource=null,this._adParameters=null,this._clickThrough=null,this._clickTrackings=[]}get id(){return this._id}set id(e){this._id=e}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}get expandedWidth(){return this._expandedWidth}set expandedWidth(e){this._expandedWidth=e}get expandedHeight(){return this._expandedHeight}set expandedHeight(e){this._expandedHeight=e}get scalable(){return this._scalable}set scalable(e){this._scalable=e}get maintainAspectRatio(){return this._maintainAspectRatio}set maintainAspectRatio(e){this._maintainAspectRatio=e}get minSuggestedDuration(){return this._minSuggestedDuration}set minSuggestedDuration(e){this._minSuggestedDuration=e}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}get resource(){return this._resource}set resource(e){this._resource=e}get adParameters(){return this._adParameters}set adParameters(e){this._adParameters=e}get clickThrough(){return this._clickThrough}set clickThrough(e){this._clickThrough=e}get clickTrackings(){return this._clickTrackings}get $type(){return"NonLinear"}}class AbstractExtension{constructor(){this._type=null,this._xmlElement=null}get type(){return this._type}set type(e){this._type=e}get xmlElement(){return this._xmlElement}set xmlElement(e){this._xmlElement=e}}class CreativeExtension extends AbstractExtension{get $type(){return"CreativeExtension"}}class Extension extends AbstractExtension{get $type(){return"Extension"}}class AbstractResource{constructor(){this._uri=null}get uri(){return this._uri}set uri(e){this._uri=e}}class HTMLResource extends AbstractResource{get $type(){return"HTMLResource"}}class IFrameResource extends AbstractResource{get $type(){return"IFrameResource"}}class StaticResource extends AbstractResource{constructor(){super(),this._creativeType=null}get creativeType(){return this._creativeType}set creativeType(e){this._creativeType=e}get $type(){return"StaticResource"}}class AbstractVerificationResource extends AbstractResource{constructor(){super(),this._apiFramework=null}get apiFramework(){return this._apiFramework}set apiFramework(e){this._apiFramework=e}}class FlashResource extends AbstractVerificationResource{get $type(){return"FlashResource"}}class JavaScriptResource extends AbstractVerificationResource{get $type(){return"JavaScriptResource"}}class AbstractTimeOffset{constructor(){this._value=null}get value(){return this._value}set value(e){this._value=e}}class AbsoluteTimeOffset extends AbstractTimeOffset{get $type(){return"AbsoluteTimeOffset"}}class RelativeTimeOffset extends AbstractTimeOffset{get $type(){return"RelativeTimeOffset"}}class AdPod{constructor(){this._ads=new SortedList}get ads(){return this._ads}get $type(){return"AdPod"}}var src=Object.freeze({__proto__:null,AbsoluteTimeOffset:AbsoluteTimeOffset,AdBuffet:AdBuffet,AdPod:AdPod,AdSystem:AdSystem,Category:Category,Click:Click,Companion:Companion,CompanionAds:CompanionAds,Creative:Creative,CreativeExtension:CreativeExtension,Extension:Extension,FlashResource:FlashResource,HTMLResource:HTMLResource,IFrameResource:IFrameResource,Icon:Icon,IconClicks:IconClicks,Impression:Impression,InLine:InLine,InteractiveCreativeFile:InteractiveCreativeFile,JavaScriptResource:JavaScriptResource,Linear:Linear,MediaFile:MediaFile,NonLinear:NonLinear,NonLinearAds:NonLinearAds,Pricing:Pricing,RelativeTimeOffset:RelativeTimeOffset,SortedList:SortedList,SortedListItem:SortedListItem,StaticResource:StaticResource,Survey:Survey,TrackingEvent:TrackingEvent,TrackingEvents:TrackingEvents,UniversalAdId:UniversalAdId,VAST:VAST,Verification:Verification,VideoClicks:VideoClicks,ViewableImpression:ViewableImpression,Wrapper:Wrapper}),require$$0$1=getAugmentedNamespace(src),ad$1={},inLine={},ad={},adSystem={},_iabVastModel$u=(Object.defineProperty(adSystem,"__esModule",{value:!0}),require$$0$1),creative=(adSystem.default=function(e){var t=new _iabVastModel$u.AdSystem;return t.version=e.version,t.name=e._value,t},{}),universalAdId={},_iabVastModel$t=(Object.defineProperty(universalAdId,"__esModule",{value:!0}),require$$0$1),creativeExtension=(universalAdId.default=function(e){var t=new _iabVastModel$t.UniversalAdId;return null!=e.idRegistry&amp;&amp;(t.idRegistry=e.idRegistry),null!=e.idValue&amp;&amp;(t.idValue=e.idValue),t.creativeIdentifier=e._value,t},{}),_iabVastModel$s=(Object.defineProperty(creativeExtension,"__esModule",{value:!0}),require$$0$1),linear=(creativeExtension.default=function(e){var t=new _iabVastModel$s.CreativeExtension;return t.type=e.type,t.xmlElement=e._value,t},{}),mediaFile={},_iabVastModel$r=(Object.defineProperty(mediaFile,"__esModule",{value:!0}),require$$0$1),interactiveCreativeFile=(mediaFile.default=function(e){var t=new _iabVastModel$r.MediaFile;return t.id=e.id,t.delivery=e.delivery,t.type=e.type,t.bitrate=e.bitrate,t.minBitrate=e.minBitrate,t.maxBitrate=e.maxBitrate,t.width=e.width,t.height=e.height,t.scalable=e.scalable,t.maintainAspectRatio=e.maintainAspectRatio,t.codec=e.codec,t.apiFramework=e.apiFramework,t.uri=e._value,t},{}),_iabVastModel$q=(Object.defineProperty(interactiveCreativeFile,"__esModule",{value:!0}),require$$0$1),icon=(interactiveCreativeFile.default=function(e){var t=new _iabVastModel$q.InteractiveCreativeFile;return t.type=e.type,t.apiFramework=e.apiFramework,t.uri=e._value,t},{}),resource={},staticResource={},_iabVastModel$p=(Object.defineProperty(staticResource,"__esModule",{value:!0}),require$$0$1),iframeResource=(staticResource.default=function(e){var t=new _iabVastModel$p.StaticResource;return t.creativeType=e.creativeType,t.uri=e._value,t},{}),_iabVastModel$o=(Object.defineProperty(iframeResource,"__esModule",{value:!0}),require$$0$1),htmlResource=(iframeResource.default=function(e){var t=new _iabVastModel$o.IFrameResource;return t.uri=e._value,t},{}),_iabVastModel$n=(Object.defineProperty(htmlResource,"__esModule",{value:!0}),require$$0$1),_staticResource=(htmlResource.default=function(e){var t=new _iabVastModel$n.HTMLResource;return t.uri=e._value,t},Object.defineProperty(resource,"__esModule",{value:!0}),staticResource),_staticResource2=_interopRequireDefault$l(_staticResource),_iframeResource=iframeResource,_iframeResource2=_interopRequireDefault$l(_iframeResource),_htmlResource=htmlResource,_htmlResource2=_interopRequireDefault$l(_htmlResource);function _interopRequireDefault$l(e){return e&amp;&amp;e.__esModule?e:{default:e}}resource.default=function(e){return null!=e.staticResource?(0,_staticResource2.default)(e.staticResource):null!=e.iFrameResource?(0,_iframeResource2.default)(e.iFrameResource):null!=e.htmlResource?(0,_htmlResource2.default)(e.htmlResource):null};var click={},_iabVastModel$m=(Object.defineProperty(click,"__esModule",{value:!0}),require$$0$1),iconClicks=(click.default=function(e){var t=new _iabVastModel$m.Click;return t.id=e.id,t.uri=e._value,t},{}),hasValue$1={},isNonEmptyString={},_isNonEmptyString$3=(Object.defineProperty(isNonEmptyString,"__esModule",{value:!0}),isNonEmptyString.default=function(e){return"string"==typeof e&amp;&amp;0&lt;e.length},Object.defineProperty(hasValue$1,"__esModule",{value:!0}),isNonEmptyString),_isNonEmptyString2$3=_interopRequireDefault$k(_isNonEmptyString$3);function _interopRequireDefault$k(e){return e&amp;&amp;e.__esModule?e:{default:e}}hasValue$1.default=function(e){return null!=e&amp;&amp;(0,_isNonEmptyString2$3.default)(e._value)},Object.defineProperty(iconClicks,"__esModule",{value:!0});var _iabVastModel$l=require$$0$1,_click$4=click,_click2$4=_interopRequireDefault$j(_click$4),_hasValue$4=hasValue$1,_hasValue2$4=_interopRequireDefault$j(_hasValue$4);function _interopRequireDefault$j(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}iconClicks.default=function(e){var t,r=new _iabVastModel$l.IconClicks;return null!=e.iconClickThrough&amp;&amp;(0,_hasValue2$4.default)(e.iconClickThrough)&amp;&amp;(r.clickThrough=(0,_click2$4.default)(e.iconClickThrough)),null!=e.iconClickTracking&amp;&amp;(t=r.clickTrackings).push.apply(t,_toConsumableArray$c(e.iconClickTracking.filter(_hasValue2$4.default).map(_click2$4.default))),r};var isNonEmptyArray={},_iabVastModel$k=(Object.defineProperty(isNonEmptyArray,"__esModule",{value:!0}),isNonEmptyArray.default=function(e){return Array.isArray(e)&amp;&amp;0&lt;e.length},Object.defineProperty(icon,"__esModule",{value:!0}),require$$0$1),_resource$2=resource,_resource2$2=_interopRequireDefault$i(_resource$2),_click$3=click,_click2$3=_interopRequireDefault$i(_click$3),_iconClicks=iconClicks,_iconClicks2=_interopRequireDefault$i(_iconClicks),_hasValue$3=hasValue$1,_hasValue2$3=_interopRequireDefault$i(_hasValue$3),_isNonEmptyArray$3=isNonEmptyArray,_isNonEmptyArray2$3=_interopRequireDefault$i(_isNonEmptyArray$3);function _interopRequireDefault$i(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$b(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}var parsePosition=function(e,t){return null!=e&amp;&amp;t.indexOf(e)&lt;0?parseInt(e,0):e},timeOffset=(icon.default=function(e){var t,r=new _iabVastModel$k.Icon;return r.program=e.program,r.width=e.width,r.height=e.height,r.xPosition=parsePosition(e.xPosition,["left","right"]),r.yPosition=parsePosition(e.yPosition,["top","bottom"]),r.duration=e.duration,r.offset=e.offset,r.apiFramework=e.apiFramework,r.pxratio=e.pxratio,r.resources=(0,_resource2$2.default)(e),null!=e.iconClicks&amp;&amp;((0,_hasValue2$3.default)(e.iconClicks.iconClickThrough)||(0,_isNonEmptyArray2$3.default)(e.iconClicks.iconClickTracking))&amp;&amp;(r.clicks=(0,_iconClicks2.default)(e.iconClicks)),null!=e.iconViewTracking&amp;&amp;(t=r.viewTrackings).push.apply(t,_toConsumableArray$b(e.iconViewTracking.filter(_hasValue2$3.default).map(_click2$3.default))),r},{}),_iabVastModel$j=(Object.defineProperty(timeOffset,"__esModule",{value:!0}),require$$0$1),_parseTime=parseTime,_parseTime2=_interopRequireDefault$h(_parseTime);function _interopRequireDefault$h(e){return e&amp;&amp;e.__esModule?e:{default:e}}timeOffset.default=function(e,t,r){if("%"===e.charAt(e.length-1))return(n=new _iabVastModel$j.RelativeTimeOffset).value=parseFloat(e.substr(0,e.length-1)),n;var n=new _iabVastModel$j.AbsoluteTimeOffset;try{n.value=(0,_parseTime2.default)(e)}catch(e){t.errorHandler.tryRecover(e)}return n};var mapTrackingEvents={},_iabVastModel$i=(Object.defineProperty(mapTrackingEvents,"__esModule",{value:!0}),require$$0$1),_timeOffset$1=timeOffset,_timeOffset2$1=_interopRequireDefault$g(_timeOffset$1),_isNonEmptyString$2=isNonEmptyString,_isNonEmptyString2$2=_interopRequireDefault$g(_isNonEmptyString$2);function _interopRequireDefault$g(e){return e&amp;&amp;e.__esModule?e:{default:e}}mapTrackingEvents.default=function(e,t,r){if(null!=e&amp;&amp;Array.isArray(e.tracking)){var n=!0,i=!1,a=void 0;try{for(var o,s=e.tracking[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;if((0,_isNonEmptyString2$2.default)(l._value)){var c=new _iabVastModel$i.TrackingEvent;if(c.uri=l._value,(0,_isNonEmptyString2$2.default)(l.offset))try{c.offset=(0,_timeOffset2$1.default)(l.offset)}catch(e){r.errorHandler.tryRecover(e)}t.add(l.event,c)}}}catch(e){i=!0,a=e}finally{try{!n&amp;&amp;s.return&amp;&amp;s.return()}finally{if(i)throw a}}}},Object.defineProperty(linear,"__esModule",{value:!0});var _iabVastModel$h=require$$0$1,_mediaFile=mediaFile,_mediaFile2=_interopRequireDefault$f(_mediaFile),_interactiveCreativeFile=interactiveCreativeFile,_interactiveCreativeFile2=_interopRequireDefault$f(_interactiveCreativeFile),_icon=icon,_icon2=_interopRequireDefault$f(_icon),_click$2=click,_click2$2=_interopRequireDefault$f(_click$2),_timeOffset=timeOffset,_timeOffset2=_interopRequireDefault$f(_timeOffset),_mapTrackingEvents$2=mapTrackingEvents,_mapTrackingEvents2$2=_interopRequireDefault$f(_mapTrackingEvents$2),_isNonEmptyString$1=isNonEmptyString,_isNonEmptyString2$1=_interopRequireDefault$f(_isNonEmptyString$1),_isNonEmptyArray$2=isNonEmptyArray,_isNonEmptyArray2$2=_interopRequireDefault$f(_isNonEmptyArray$2),_hasValue$2=hasValue$1,_hasValue2$2=_interopRequireDefault$f(_hasValue$2);function _interopRequireDefault$f(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}var mapVideoClicks=function(e,t){var r;null!=e.clickThrough&amp;&amp;(0,_hasValue2$2.default)(e.clickThrough)&amp;&amp;(t.clickThrough=(0,_click2$2.default)(e.clickThrough)),null!=e.clickTracking&amp;&amp;(r=t.clickTrackings).push.apply(r,_toConsumableArray$a(e.clickTracking.filter(_hasValue2$2.default).map(_click2$2.default))),null!=e.customClick&amp;&amp;(r=t.customClicks).push.apply(r,_toConsumableArray$a(e.customClick.filter(_hasValue2$2.default).map(_click2$2.default)))},nonLinearAds=(linear.default=function(e,t){var r,n=e.linear,i=new _iabVastModel$h.Linear;return(0,_isNonEmptyString2$1.default)(n.skipoffset)&amp;&amp;(i.skipoffset=(0,_timeOffset2.default)(n.skipoffset,t)),null!=n.duration&amp;&amp;(i.duration=n.duration._value),null!=n.mediaFiles&amp;&amp;(null!=n.mediaFiles.mezzanine&amp;&amp;(i.mezzanine=n.mediaFiles.mezzanine._value),null!=n.mediaFiles.mediaFile&amp;&amp;(r=i.mediaFiles).push.apply(r,_toConsumableArray$a(n.mediaFiles.mediaFile.map(_mediaFile2.default))),null!=n.mediaFiles.interactiveCreativeFile&amp;&amp;(r=i.interactiveCreativeFiles).push.apply(r,_toConsumableArray$a(n.mediaFiles.interactiveCreativeFile.map(_interactiveCreativeFile2.default)))),null!=n.adParameters&amp;&amp;(i.adParameters=n.adParameters._value),null!=n.videoClicks&amp;&amp;(i.videoClicks=new _iabVastModel$h.VideoClicks,mapVideoClicks(n.videoClicks,i.videoClicks)),null!=n.trackingEvents&amp;&amp;(0,_isNonEmptyArray2$2.default)(n.trackingEvents.tracking)&amp;&amp;(i.trackingEvents=new _iabVastModel$h.TrackingEvents,(0,_mapTrackingEvents2$2.default)(n.trackingEvents,i.trackingEvents,t)),null!=n.icons&amp;&amp;n.icons.icon&amp;&amp;(r=i.icons).push.apply(r,_toConsumableArray$a(n.icons.icon.map(_icon2.default))),i},{}),nonLinear={},_iabVastModel$g=(Object.defineProperty(nonLinear,"__esModule",{value:!0}),require$$0$1),_resource$1=resource,_resource2$1=_interopRequireDefault$e(_resource$1),_click$1=click,_click2$1=_interopRequireDefault$e(_click$1),_hasValue$1=hasValue$1,_hasValue2$1=_interopRequireDefault$e(_hasValue$1);function _interopRequireDefault$e(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$9(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}nonLinear.default=function(e){var t,r=new _iabVastModel$g.NonLinear;return r.id=e.id,r.width=e.width,r.height=e.height,r.expandedWidth=e.expandedWidth,r.expandedHeight=e.expandedHeight,r.scalable=e.scalable,r.maintainAspectRatio=e.maintainAspectRatio,r.minSuggestedDuration=e.minSuggestedDuration,r.apiFramework=e.apiFramework,r.resource=(0,_resource2$1.default)(e),null!=e.adParameters&amp;&amp;(r.adParameters=e.adParameters._value),null!=e.nonLinearClickThrough&amp;&amp;(0,_hasValue2$1.default)(e.nonLinearClickThrough)&amp;&amp;(r.clickThrough=(0,_click2$1.default)(e.nonLinearClickThrough)),null!=e.nonLinearClickTracking&amp;&amp;(t=r.clickTrackings).push.apply(t,_toConsumableArray$9(e.nonLinearClickTracking.filter(_hasValue2$1.default).map(_click2$1.default))),r},Object.defineProperty(nonLinearAds,"__esModule",{value:!0});var _iabVastModel$f=require$$0$1,_nonLinear=nonLinear,_nonLinear2=_interopRequireDefault$d(_nonLinear),_mapTrackingEvents$1=mapTrackingEvents,_mapTrackingEvents2$1=_interopRequireDefault$d(_mapTrackingEvents$1),_isNonEmptyArray$1=isNonEmptyArray,_isNonEmptyArray2$1=_interopRequireDefault$d(_isNonEmptyArray$1);function _interopRequireDefault$d(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$8(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}nonLinearAds.default=function(e){var t,r=e.nonLinearAds,n=new _iabVastModel$f.NonLinearAds;return null!=r.nonLinear&amp;&amp;(t=n.nonLinears).push.apply(t,_toConsumableArray$8(r.nonLinear.map(_nonLinear2.default))),null!=r.trackingEvents&amp;&amp;(0,_isNonEmptyArray2$1.default)(r.trackingEvents.tracking)&amp;&amp;(n.trackingEvents=new _iabVastModel$f.TrackingEvents,(0,_mapTrackingEvents2$1.default)(r.trackingEvents,n.trackingEvents)),n};var companionAds={},companion={},_iabVastModel$e=(Object.defineProperty(companion,"__esModule",{value:!0}),require$$0$1),_click=click,_click2=_interopRequireDefault$c(_click),_resource=resource,_resource2=_interopRequireDefault$c(_resource),_mapTrackingEvents=mapTrackingEvents,_mapTrackingEvents2=_interopRequireDefault$c(_mapTrackingEvents),_isNonEmptyArray=isNonEmptyArray,_isNonEmptyArray2=_interopRequireDefault$c(_isNonEmptyArray),_hasValue=hasValue$1,_hasValue2=_interopRequireDefault$c(_hasValue);function _interopRequireDefault$c(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$7(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}companion.default=function(e){var t,r=new _iabVastModel$e.Companion;return r.id=e.id,r.width=e.width,r.height=e.height,r.assetWidth=e.assetWidth,r.assetHeight=e.assetHeight,r.expandedWidth=e.expandedWidth,r.expandedHeight=e.expandedHeight,r.apiFramework=e.apiFramework,r.adSlotID=e.adSlotID,r.pxratio=e.pxratio,r.resource=(0,_resource2.default)(e),null!=e.adParameters&amp;&amp;(0,_hasValue2.default)(e.adParameters)&amp;&amp;(r.adParameters=e.adParameters._value),null!=e.altText&amp;&amp;(0,_hasValue2.default)(e.altText._value)&amp;&amp;(r.altText=e.altText._value),null!=e.companionClickThrough&amp;&amp;(0,_hasValue2.default)(e.companionClickThrough)&amp;&amp;(r.clickThrough=(0,_click2.default)(e.companionClickThrough)),null!=e.companionClickTracking&amp;&amp;(t=r.clickTrackings).push.apply(t,_toConsumableArray$7(e.companionClickTracking.filter(_hasValue2.default).map(_click2.default))),null!=e.trackingEvents&amp;&amp;(0,_isNonEmptyArray2.default)(e.trackingEvents.tracking)&amp;&amp;(r.trackingEvents=new _iabVastModel$e.TrackingEvents,(0,_mapTrackingEvents2.default)(e.trackingEvents,r.trackingEvents)),r},Object.defineProperty(companionAds,"__esModule",{value:!0});var _iabVastModel$d=require$$0$1,_companion=companion,_companion2=_interopRequireDefault$b(_companion);function _interopRequireDefault$b(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$6(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}companionAds.default=function(e){var t,r=e.companionAds,n=new _iabVastModel$d.CompanionAds;return n.required=r.required,null!=r.companion&amp;&amp;(t=n.companions).push.apply(t,_toConsumableArray$6(r.companion.map(_companion2.default))),n.xmlElement=r._value,n},Object.defineProperty(creative,"__esModule",{value:!0});var _iabVastModel$c=require$$0$1,_universalAdId=universalAdId,_universalAdId2=_interopRequireDefault$a(_universalAdId),_creativeExtension=creativeExtension,_creativeExtension2=_interopRequireDefault$a(_creativeExtension),_linear=linear,_linear2=_interopRequireDefault$a(_linear),_nonLinearAds=nonLinearAds,_nonLinearAds2=_interopRequireDefault$a(_nonLinearAds),_companionAds=companionAds,_companionAds2=_interopRequireDefault$a(_companionAds);function _interopRequireDefault$a(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$5(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}creative.default=function(e,t){var r,n=new _iabVastModel$c.Creative;return n.id=e.id,n.sequence=e.sequence,n.adID=e.AdID||e.adID||e.adId,n.apiFramework=e.apiFramework,null!=e.universalAdId&amp;&amp;(n.universalAdId=(0,_universalAdId2.default)(e.universalAdId)),null!=e.creativeExtensions&amp;&amp;e.creativeExtensions.creativeExtension&amp;&amp;(r=n.extensions).push.apply(r,_toConsumableArray$5(e.creativeExtensions.creativeExtension.map(_creativeExtension2.default))),null!=e.linear?n.linear=(0,_linear2.default)(e,t):null!=e.nonLinearAds&amp;&amp;(n.nonLinearAds=(0,_nonLinearAds2.default)(e)),null!=e.companionAds&amp;&amp;(n.companionAds=(0,_companionAds2.default)(e)),null==n.linear&amp;&amp;null==n.nonLinearAds&amp;&amp;null==n.companionAds&amp;&amp;t.errorHandler.tryRecover("Creative has no ads"),n};var extension={},_iabVastModel$b=(Object.defineProperty(extension,"__esModule",{value:!0}),require$$0$1),impression=(extension.default=function(e){var t=new _iabVastModel$b.Extension;return t.type=e.type,t.xmlElement=e._value,t},{}),_iabVastModel$a=(Object.defineProperty(impression,"__esModule",{value:!0}),require$$0$1),pricing=(impression.default=function(e){var t=new _iabVastModel$a.Impression;return t.id=e.id,t.uri=e._value,t},{}),_iabVastModel$9=(Object.defineProperty(pricing,"__esModule",{value:!0}),require$$0$1),viewableImpression=(pricing.default=function(e){var t=new _iabVastModel$9.Pricing;return t.model=e.model,t.currency=e.currency,t.value=e._value,t},{}),_iabVastModel$8=(Object.defineProperty(viewableImpression,"__esModule",{value:!0}),require$$0$1);function _toConsumableArray$4(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}viewableImpression.default=function(e){var t,r=new _iabVastModel$8.ViewableImpression;return r.id=e.id,null!=e.viewable&amp;&amp;(t=r.viewables).push.apply(t,_toConsumableArray$4(e.viewable.map(function(e){return e._value}))),null!=e.notViewable&amp;&amp;(t=r.notViewables).push.apply(t,_toConsumableArray$4(e.notViewable.map(function(e){return e._value}))),null!=e.viewUndetermined&amp;&amp;(t=r.viewUndetermineds).push.apply(t,_toConsumableArray$4(e.viewUndetermined.map(function(e){return e._value}))),r};var verification={},javascriptResource={},_iabVastModel$7=(Object.defineProperty(javascriptResource,"__esModule",{value:!0}),require$$0$1),flashResource=(javascriptResource.default=function(e){var t=new _iabVastModel$7.JavaScriptResource;return t.apiFramework=e.apiFramework,t.uri=e._value,t},{}),_iabVastModel$6=(Object.defineProperty(flashResource,"__esModule",{value:!0}),require$$0$1),_iabVastModel$5=(flashResource.default=function(e){var t=new _iabVastModel$6.FlashResource;return t.apiFramework=e.apiFramework,t.uri=e._value,t},Object.defineProperty(verification,"__esModule",{value:!0}),require$$0$1),_javascriptResource=javascriptResource,_javascriptResource2=_interopRequireDefault$9(_javascriptResource),_flashResource=flashResource,_flashResource2=_interopRequireDefault$9(_flashResource);function _interopRequireDefault$9(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$3(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}verification.default=function(e){var t,r=new _iabVastModel$5.Verification;return r.vendor=e.vendor,null!=e.javaScriptResource&amp;&amp;(t=r.javaScriptResources).push.apply(t,_toConsumableArray$3(e.javaScriptResource.map(_javascriptResource2.default))),null!=e.flashResource&amp;&amp;(t=r.flashResources).push.apply(t,_toConsumableArray$3(e.flashResource.map(_flashResource2.default))),null!=e.viewableImpression&amp;&amp;(r.viewableImpression=e.viewableImpression._value),null!=e.verificationParameters&amp;&amp;(r.parameters=e.verificationParameters._value),r},Object.defineProperty(ad,"__esModule",{value:!0});var _adSystem=adSystem,_adSystem2=_interopRequireDefault$8(_adSystem),_creative=creative,_creative2=_interopRequireDefault$8(_creative),_extension=extension,_extension2=_interopRequireDefault$8(_extension),_impression=impression,_impression2=_interopRequireDefault$8(_impression),_pricing=pricing,_pricing2=_interopRequireDefault$8(_pricing),_viewableImpression=viewableImpression,_viewableImpression2=_interopRequireDefault$8(_viewableImpression),_verification=verification,_verification2=_interopRequireDefault$8(_verification),_isNonEmptyString=isNonEmptyString,_isNonEmptyString2=_interopRequireDefault$8(_isNonEmptyString);function _interopRequireDefault$8(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$2(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}var hasValue=function(e){return null!=e&amp;&amp;(0,_isNonEmptyString2.default)(e._value)},category=(ad.default=function(e,t,r,n){var i;return r.id=e.id,r.conditionalAd=e.conditionalAd,r.sequence=e.sequence,null!=t.adSystem&amp;&amp;(r.adSystem=(0,_adSystem2.default)(t.adSystem)),null!=t.impression&amp;&amp;(i=r.impressions).push.apply(i,_toConsumableArray$2(t.impression.filter(hasValue).map(_impression2.default))),null!=t.pricing&amp;&amp;(r.pricing=(0,_pricing2.default)(t.pricing)),null!=t.error&amp;&amp;(i=r.errors).push.apply(i,_toConsumableArray$2(t.error.filter(hasValue).map(function(e){return e._value}))),null!=t.viewableImpression&amp;&amp;(r.viewableImpression=(0,_viewableImpression2.default)(t.viewableImpression)),null!=t.adVerifications&amp;&amp;t.adVerifications.verification.forEach(function(e){try{var t=(0,_verification2.default)(e,n);r.verifications.push(t)}catch(e){n.errorHandler.tryRecover(e)}}),null!=t.extensions&amp;&amp;(i=r.extensions).push.apply(i,_toConsumableArray$2(t.extensions.extension.map(_extension2.default))),null!=t.creatives&amp;&amp;t.creatives.creative.forEach(function(e){try{var t=(0,_creative2.default)(e,n);r.creatives.add(t)}catch(e){n.errorHandler.tryRecover(e)}}),r},{}),_iabVastModel$4=(Object.defineProperty(category,"__esModule",{value:!0}),require$$0$1),survey=(category.default=function(e){var t=new _iabVastModel$4.Category;return t.authority=e.authority,t.code=e._value,t},{}),_iabVastModel$3=(Object.defineProperty(survey,"__esModule",{value:!0}),require$$0$1),_iabVastModel$2=(survey.default=function(e){var t=new _iabVastModel$3.Survey;return t.type=e.type,t.uri=e._value,t},Object.defineProperty(inLine,"__esModule",{value:!0}),require$$0$1),_ad$2=ad,_ad2$2=_interopRequireDefault$7(_ad$2),_category=category,_category2=_interopRequireDefault$7(_category),_survey=survey,_survey2=_interopRequireDefault$7(_survey);function _interopRequireDefault$7(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray$1(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}inLine.default=function(e,t){var r,n=new _iabVastModel$2.InLine,i=e.inLine;return(0,_ad2$2.default)(e,i,n,t),n.adTitle=null!=i.adTitle?i.adTitle._value:null,null!=i.category&amp;&amp;(r=n.categories).push.apply(r,_toConsumableArray$1(i.category.filter(function(e){return null!=e.authority}).map(_category2.default))),n.description=null!=i.description?i.description._value:null,n.advertiser=null!=i.advertiser?i.advertiser._value:null,null!=i.survey&amp;&amp;(r=n.surveys).push.apply(r,_toConsumableArray$1(i.survey.filter(function(e){return 0&lt;e._value.length}).map(_survey2.default))),n};var wrapper={},_iabVastModel$1=(Object.defineProperty(wrapper,"__esModule",{value:!0}),require$$0$1),_ad$1=ad,_ad2$1=_interopRequireDefault$6(_ad$1);function _interopRequireDefault$6(e){return e&amp;&amp;e.__esModule?e:{default:e}}wrapper.default=function(e,t){var r=new _iabVastModel$1.Wrapper,n=e.wrapper;return(0,_ad2$1.default)(e,n,r,t),null!=n.followAdditionalWrappers&amp;&amp;(r.followAdditionalWrappers=n.followAdditionalWrappers),null!=n.allowMultipleAds&amp;&amp;(r.allowMultipleAds=n.allowMultipleAds),r.fallbackOnNoAd=n.fallbackOnNoAd,r.vastAdTagURI=null!=n.vastAdTagURI?n.vastAdTagURI._value:null,r},Object.defineProperty(ad$1,"__esModule",{value:!0});var _inLine=inLine,_inLine2=_interopRequireDefault$5(_inLine),_wrapper=wrapper,_wrapper2=_interopRequireDefault$5(_wrapper);function _interopRequireDefault$5(e){return e&amp;&amp;e.__esModule?e:{default:e}}ad$1.default=function(e,t){if(null!=e.inLine)return(0,_inLine2.default)(e,t);if(null!=e.wrapper)return(0,_wrapper2.default)(e,t);throw new Error("Unrecognized ad type")},Object.defineProperty(vast,"__esModule",{value:!0});var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var r=t,n=[],i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done)&amp;&amp;(n.push(s.value),!r||n.length!==r);i=!0);}catch(e){a=!0,o=e}finally{try{!i&amp;&amp;l.return&amp;&amp;l.return()}finally{if(a)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},_iabVastModel=require$$0$1,_ad=ad$1,_ad2=_interopRequireDefault$4(_ad);function _interopRequireDefault$4(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t&lt;e.length;t++)r[t]=e[t];return r}return Array.from(e)}var triageAds=function(e){for(var t=[],r=[],n=0;n&lt;e.length;++n){var i=e[n];(void 0!==i.sequence?t:r).push(i)}return[t,r]},errorCodes=(vast.default=function(e,t){var r=new _iabVastModel.VAST,n=(r.version=e.version,(n=r.errors).push.apply(n,_toConsumableArray(e.error.map(function(e){return e._value}).filter(function(e){return""!==e}))),triageAds(e.ad)),n=_slicedToArray(n,2),i=n[0],a=n[1];if(0&lt;i.length)if(t.noSingleAdPods&amp;&amp;1===e.ad.length&amp;&amp;1===i.length)a.push(i[0]);else{r.adPod=new _iabVastModel.AdPod;for(var o=0;o&lt;i.length;o++)r.adPod.ads.add((0,_ad2.default)(i[o],t))}for(var s=0;s&lt;a.length;s++)r.ads.add((0,_ad2.default)(a[s],t));return r},{}),errorHandler=(Object.defineProperty(errorCodes,"__esModule",{value:!0}),errorCodes.default={XML_PARSING_ERROR:100,VAST_SCHEMA_VALIDATION_ERROR:101},{}),vastParserError={};function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(e,t){if(e)return!t||"object"!=typeof t&amp;&amp;"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function _inherits$1(e,t){if("function"!=typeof t&amp;&amp;null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&amp;&amp;t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&amp;&amp;(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _extendableBuiltin(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}var ExtendableError=function(){function r(){var e=0&lt;arguments.length&amp;&amp;void 0!==arguments[0]?arguments[0]:"",t=(_classCallCheck$2(this,r),_possibleConstructorReturn$1(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e)));return Object.defineProperty(t,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(t,"name",{configurable:!0,enumerable:!1,value:t.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(t,t.constructor),_possibleConstructorReturn$1(t)):(Object.defineProperty(t,"stack",{configurable:!0,enumerable:!1,value:new Error(e).stack,writable:!0}),t)}return _inherits$1(r,_extendableBuiltin(Error)),r}(),es6=Object.freeze({__proto__:null,default:ExtendableError}),require$$0=getAugmentedNamespace(es6),_es6Error=(Object.defineProperty(vastParserError,"__esModule",{value:!0}),require$$0),_es6Error2=_interopRequireDefault$3(_es6Error);function _interopRequireDefault$3(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(e)return!t||"object"!=typeof t&amp;&amp;"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function _inherits(e,t){if("function"!=typeof t&amp;&amp;null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&amp;&amp;t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&amp;&amp;(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var VASTParserError=function(){function n(e,t){_classCallCheck$1(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return r.code=t,r.name="VASTParserError",r}return _inherits(n,_es6Error2.default),n}(),_createClass=(vastParserError.default=VASTParserError,Object.defineProperty(errorHandler,"__esModule",{value:!0}),function(){function n(e,t){for(var r=0;r&lt;t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&amp;&amp;(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&amp;&amp;n(e.prototype,t),r&amp;&amp;n(e,r),e}}()),_errorCodes$1=errorCodes,_errorCodes2$1=_interopRequireDefault$2(_errorCodes$1),_vastParserError=vastParserError,_vastParserError2=_interopRequireDefault$2(_vastParserError);function _interopRequireDefault$2(e){return e&amp;&amp;e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ErrorHandler=function(){function t(e){_classCallCheck(this,t),this._strictMode=e}return _createClass(t,[{key:"failWithErrorCode",value:function(e,t){if(e instanceof _vastParserError2.default)throw e;throw new _vastParserError2.default(e instanceof Error?e.message:e,t)}},{key:"fail",value:function(e){this.failWithErrorCode(e,_errorCodes2$1.default.VAST_SCHEMA_VALIDATION_ERROR)}},{key:"tryRecover",value:function(e){this._strictMode&amp;&amp;this.fail(e)}}]),t}(),_unmarshaler=(errorHandler.default=ErrorHandler,Object.defineProperty(parse,"__esModule",{value:!0}),unmarshaler),_unmarshaler2=_interopRequireDefault$1(_unmarshaler),_schema=schema,_schema2=_interopRequireDefault$1(_schema),_vast=vast,_vast2=_interopRequireDefault$1(_vast),_errorCodes=errorCodes,_errorCodes2=_interopRequireDefault$1(_errorCodes),_errorHandler=errorHandler,_errorHandler2=_interopRequireDefault$1(_errorHandler);function _interopRequireDefault$1(e){return e&amp;&amp;e.__esModule?e:{default:e}}var DEFAULT_OPTIONS={strict:!1,noSingleAdPods:!1},toElement=function(e,t){return 0&lt;(e=null!=(e="string"==typeof e?(t.domParser||new DOMParser).parseFromString(e,"text/xml"):e).documentElement?e.documentElement:e).getElementsByTagName("parsererror").length&amp;&amp;t.errorHandler.failWithErrorCode("XML parsing error",_errorCodes2.default.XML_PARSING_ERROR),e},_xmldom=(parse.default=function(e){var t=1&lt;arguments.length&amp;&amp;void 0!==arguments[1]?arguments[1]:{},r=((t=Object.assign({},DEFAULT_OPTIONS,t)).errorHandler=new _errorHandler2.default(t.strict),toElement(e,t)),n=new _unmarshaler2.default(_schema2.default);try{var i=n.unmarshal(r);return(0,_vast2.default)(i,t)}catch(e){t.errorHandler.fail(e)}},Object.defineProperty(lib,"__esModule",{value:!0}),domParser),_parse=parse,_parse2=_interopRequireDefault(_parse);function _interopRequireDefault(e){return e&amp;&amp;e.__esModule?e:{default:e}}var _default=lib.default=function(e){var t=1&lt;arguments.length&amp;&amp;void 0!==arguments[1]?arguments[1]:{};return null==t.domParser&amp;&amp;(t.domParser=new _xmldom.DOMParser),(0,_parse2.default)(e,t)};function arrayPush$3(e,t){for(var r=-1,n=t.length,i=e.length;++r&lt;n;)e[i+r]=t[r];return e}var _arrayPush=arrayPush$3,baseGetTag$2=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$3="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$5(e)&amp;&amp;baseGetTag$2(e)==argsTag$3}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$4(e)&amp;&amp;hasOwnProperty$7.call(e,"callee")&amp;&amp;!propertyIsEnumerable$1.call(e,"callee")},isArguments_1=isArguments$3,Symbol$3=_Symbol,isArguments$2=isArguments_1,isArray$7=isArray_1,spreadableSymbol=Symbol$3?Symbol$3.isConcatSpreadable:void 0;function isFlattenable$1(e){return isArray$7(e)||isArguments$2(e)||!!(spreadableSymbol&amp;&amp;e&amp;&amp;e[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$2=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$1(e,t,r,n,i){var a=-1,o=e.length;for(r=r||isFlattenable,i=i||[];++a&lt;o;){var s=e[a];0&lt;t&amp;&amp;r(s)?1&lt;t?baseFlatten$1(s,t-1,r,n,i):arrayPush$2(i,s):n||(i[i.length]=s)}return i}var _baseFlatten=baseFlatten$1,ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _stackDelete=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(e,t){var r=this.__data__;if(r instanceof ListCache$1){var n=r.__data__;if(!Map$2||n.length&lt;LARGE_ARRAY_SIZE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache$1(n)}return r.set(e,t),this.size=r.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$3(e){var t=this.__data__=new ListCache(e);this.size=t.size}Stack$3.prototype.clear=stackClear,Stack$3.prototype.delete=stackDelete,Stack$3.prototype.get=stackGet,Stack$3.prototype.has=stackHas,Stack$3.prototype.set=stackSet;var _Stack=Stack$3,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new MapCache;++t&lt;r;)this.add(e[t])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd,SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(e,t){for(var r=-1,n=null==e?0:e.length;++r&lt;n;)if(t(e[r],r,e))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(e,t){return e.has(t)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(e,t,r,n,i,a){var o=r&amp;COMPARE_PARTIAL_FLAG$5,s=e.length,l=t.length;if(s!=l&amp;&amp;!(o&amp;&amp;s&lt;l))return!1;var l=a.get(e),c=a.get(t);if(l&amp;&amp;c)return l==t&amp;&amp;c==e;var d=-1,u=!0,p=r&amp;COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(a.set(e,t),a.set(t,e);++d&lt;s;){var h,g=e[d],m=t[d];if(void 0!==(h=n?o?n(m,g,d,t,e,a):n(g,m,d,e,t,a):h)){if(h)continue;u=!1;break}if(p){if(!arraySome(t,function(e,t){if(!cacheHas(p,t)&amp;&amp;(g===e||i(g,e,r,n,a)))return p.push(t)})){u=!1;break}}else if(g!==m&amp;&amp;!i(g,m,r,n,a)){u=!1;break}}return a.delete(e),a.delete(t),u}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$3=root$5.Uint8Array,_Uint8Array=Uint8Array$3;function mapToArray$1(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}var _mapToArray=mapToArray$1;function setToArray$1(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var _setToArray=setToArray$1,Symbol$2=_Symbol,Uint8Array$2=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag$1(e,t,r,n,i,a,o){switch(r){case dataViewTag$4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag$3:return e.byteLength==t.byteLength&amp;&amp;a(new Uint8Array$2(e),new Uint8Array$2(t))?!0:!1;case boolTag$3:case dateTag$3:case numberTag$3:return eq$1(+e,+t);case errorTag$2:return e.name==t.name&amp;&amp;e.message==t.message;case regexpTag$3:case stringTag$3:return e==t+"";case mapTag$5:var s=mapToArray;case setTag$5:s=s||setToArray;if(e.size!=t.size&amp;&amp;!(n&amp;COMPARE_PARTIAL_FLAG$4))return!1;var l=o.get(e);if(l)return l==t;n|=COMPARE_UNORDERED_FLAG$2,o.set(e,t);l=equalArrays$1(s(e),s(t),n,i,a,o);return o.delete(e),l;case symbolTag$2:if(symbolValueOf$1)return symbolValueOf$1.call(e)==symbolValueOf$1.call(t)}return!1}var _equalByTag=equalByTag$1,arrayPush$1=_arrayPush,isArray$6=isArray_1;function baseGetAllKeys$2(e,t,r){var n=t(e);return isArray$6(e)?n:arrayPush$1(n,r(e))}var _baseGetAllKeys=baseGetAllKeys$2;function arrayFilter$1(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r&lt;n;){var o=e[r];t(o,r,e)&amp;&amp;(a[i++]=o)}return a}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$8=Object.prototype,propertyIsEnumerable=objectProto$8.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(t){return null==t?[]:(t=Object(t),arrayFilter(nativeGetSymbols$1(t),function(e){return propertyIsEnumerable.call(t,e)}))}:stubArray$1,_getSymbols=getSymbols$3;function baseTimes$1(e,t){for(var r=-1,n=Array(e);++r&lt;e;)n[r]=t(r);return n}var _baseTimes=baseTimes$1,isBuffer$3={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse,isBufferExports=(isBuffer$3.exports,!function(e,t){var r=t&amp;&amp;!t.nodeType&amp;&amp;t,n=r&amp;&amp;e&amp;&amp;!e.nodeType&amp;&amp;e,n=n&amp;&amp;n.exports===r?_root.Buffer:void 0,r=n?n.isBuffer:void 0;e.exports=r||stubFalse_1}(isBuffer$3,isBuffer$3.exports),isBuffer$3.exports),MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$2(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER$2:t)&amp;&amp;("number"==r||"symbol"!=r&amp;&amp;reIsUint.test(e))&amp;&amp;-1&lt;e&amp;&amp;e%1==0&amp;&amp;e&lt;t}var _isIndex=isIndex$2,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(e){return"number"==typeof e&amp;&amp;-1&lt;e&amp;&amp;e%1==0&amp;&amp;e&lt;=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,baseGetTag$1=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$3="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray$1(e){return isObjectLike$3(e)&amp;&amp;isLength$2(e.length)&amp;&amp;!!typedArrayTags[baseGetTag$1(e)]}typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$3(t){return function(e){return t(e)}}var _baseUnary=baseUnary$3,_nodeUtil={exports:{}},_nodeUtilExports=(_nodeUtil.exports,!function(e,t){var r=t&amp;&amp;!t.nodeType&amp;&amp;t,n=r&amp;&amp;e&amp;&amp;!e.nodeType&amp;&amp;e,i=n&amp;&amp;n.exports===r&amp;&amp;_freeGlobal.process,r=function(){try{var e=n&amp;&amp;n.require&amp;&amp;n.require("util").types;return e?e:i&amp;&amp;i.binding&amp;&amp;i.binding("util")}catch(e){}}();e.exports=r}(_nodeUtil,_nodeUtil.exports),_nodeUtil.exports),baseIsTypedArray=_baseIsTypedArray,baseUnary$2=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&amp;&amp;nodeUtil$2.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary$2(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$1=isArguments_1,isArray$5=isArray_1,isBuffer$2=isBufferExports,isIndex$1=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function arrayLikeKeys$2(e,t){var r,n=isArray$5(e),i=!n&amp;&amp;isArguments$1(e),a=!n&amp;&amp;!i&amp;&amp;isBuffer$2(e),o=!n&amp;&amp;!i&amp;&amp;!a&amp;&amp;isTypedArray$1(e),s=n||i||a||o,l=s?baseTimes(e.length,String):[],c=l.length;for(r in e)!t&amp;&amp;!hasOwnProperty$6.call(e,r)||s&amp;&amp;("length"==r||a&amp;&amp;("offset"==r||"parent"==r)||o&amp;&amp;("buffer"==r||"byteLength"==r||"byteOffset"==r)||isIndex$1(r,c))||l.push(r);return l}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$6=Object.prototype;function isPrototype$3(e){var t=e&amp;&amp;e.constructor;return e===("function"==typeof t&amp;&amp;t.prototype||objectProto$6)}var _isPrototype=isPrototype$3;function overArg$2(t,r){return function(e){return t(r(e))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeys$1(e){if(!isPrototype$2(e))return nativeKeys(e);var t,r=[];for(t in Object(e))hasOwnProperty$5.call(e,t)&amp;&amp;"constructor"!=t&amp;&amp;r.push(t);return r}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$4(e){return null!=e&amp;&amp;isLength$1(e.length)&amp;&amp;!isFunction(e)}var isArrayLike_1=isArrayLike$4,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$5(e){return(isArrayLike$3(e)?arrayLikeKeys$1:baseKeys)(e)}var keys_1=keys$5,baseGetAllKeys$1=_baseGetAllKeys,getSymbols$2=_getSymbols,keys$4=keys_1;function getAllKeys$2(e){return baseGetAllKeys$1(e,keys$4,getSymbols$2)}var _getAllKeys=getAllKeys$2,getAllKeys$1=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function equalObjects$1(e,t,r,n,i,a){var o=r&amp;COMPARE_PARTIAL_FLAG$3,s=getAllKeys$1(e),l=s.length;if(l!=getAllKeys$1(t).length&amp;&amp;!o)return!1;for(var c=l;c--;){var d=s[c];if(!(o?d in t:hasOwnProperty$4.call(t,d)))return!1}var u=a.get(e),p=a.get(t);if(u&amp;&amp;p)return u==t&amp;&amp;p==e;for(var h=!0,g=(a.set(e,t),a.set(t,e),o);++c&lt;l;){var m,f=e[d=s[c]],y=t[d];if(!(void 0===(m=n?o?n(y,f,d,t,e,a):n(f,y,d,e,t,a):m)?f===y||i(f,y,r,n,a):m)){h=!1;break}g=g||"constructor"==d}return h&amp;&amp;!g&amp;&amp;(u=e.constructor)!=(p=t.constructor)&amp;&amp;"constructor"in e&amp;&amp;"constructor"in t&amp;&amp;!("function"==typeof u&amp;&amp;u instanceof u&amp;&amp;"function"==typeof p&amp;&amp;p instanceof p)&amp;&amp;(h=!1),a.delete(e),a.delete(t),h}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$2=getNative$2(root$2,"Set"),_Set=Set$2,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$4=baseGetTag,_getTag=((DataView$1&amp;&amp;getTag$4(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&amp;&amp;getTag$4(new Map$1)!=mapTag$3||Promise$1&amp;&amp;getTag$4(Promise$1.resolve())!=promiseTag||Set$1&amp;&amp;getTag$4(new Set$1)!=setTag$3||WeakMap$1&amp;&amp;getTag$4(new WeakMap$1)!=weakMapTag$1)&amp;&amp;(getTag$4=function(e){var t=baseGetTag(e),r=t==objectTag$2?e.constructor:void 0,r=r?toSource(r):"";if(r)switch(r){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return t}),getTag$4),Stack$2=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$3=_getTag,isArray$4=isArray_1,isBuffer$1=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$1="[object Object]",objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseIsEqualDeep$1(e,t,r,n,i,a){var o=isArray$4(e),s=isArray$4(t),l=o?arrayTag$1:getTag$3(e),s=s?arrayTag$1:getTag$3(t),c=(l=l==argsTag$1?objectTag$1:l)==objectTag$1,d=(s=s==argsTag$1?objectTag$1:s)==objectTag$1,s=l==s;if(s&amp;&amp;isBuffer$1(e)){if(!isBuffer$1(t))return!1;c=!(o=!0)}if(s&amp;&amp;!c)return a=a||new Stack$2,o||isTypedArray(e)?equalArrays(e,t,r,n,i,a):equalByTag(e,t,l,r,n,i,a);if(!(r&amp;COMPARE_PARTIAL_FLAG$2)){o=c&amp;&amp;hasOwnProperty$3.call(e,"__wrapped__"),l=d&amp;&amp;hasOwnProperty$3.call(t,"__wrapped__");if(o||l)return i(o?e.value():e,l?t.value():t,r,n,a=a||new Stack$2)}return!!s&amp;&amp;(a=a||new Stack$2,equalObjects(e,t,r,n,i,a))}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$2(e,t,r,n,i){return e===t||(null==e||null==t||!isObjectLike$2(e)&amp;&amp;!isObjectLike$2(t)?e!=e&amp;&amp;t!=t:baseIsEqualDeep(e,t,r,n,baseIsEqual$2,i))}var _baseIsEqual=baseIsEqual$2,Stack$1=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&amp;&amp;s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i&lt;a;){var l=(s=r[i])[0],c=e[l],d=s[1];if(o&amp;&amp;s[2]){if(void 0===c&amp;&amp;!(l in e))return!1}else{var u,p=new Stack$1;if(!(void 0===(u=n?n(c,d,l,e,t,p):u)?baseIsEqual$1(d,c,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,n,p):u))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$6=isObject_1;function isStrictComparable$2(e){return e==e&amp;&amp;!isObject$6(e)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(e){for(var t=keys$3(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,isStrictComparable$1(i)]}return t}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(t,r){return function(e){return null!=e&amp;&amp;(e[t]===r&amp;&amp;(void 0!==r||t in Object(e)))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(t){var r=getMatchData(t);return 1==r.length&amp;&amp;r[0][2]?matchesStrictComparable$1(r[0][0],r[0][1]):function(e){return e===t||baseIsMatch(e,t,r)}}var _baseMatches=baseMatches$1;function baseHasIn$1(e,t){return null!=e&amp;&amp;t in Object(e)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments=isArguments_1,isArray$3=isArray_1,isIndex=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(e,t,r){for(var n=-1,i=(t=castPath(t,e)).length,a=!1;++n&lt;i;){var o=toKey$2(t[n]);if(!(a=null!=e&amp;&amp;r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&amp;&amp;isLength(i)&amp;&amp;isIndex(o,i)&amp;&amp;(isArray$3(e)||isArguments(e))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(e,t){return null!=e&amp;&amp;hasPath(e,t,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(r,n){return isKey$1(r)&amp;&amp;isStrictComparable(n)?matchesStrictComparable(toKey$1(r),n):function(e){var t=get(e,r);return void 0===t&amp;&amp;t===n?hasIn(e,r):baseIsEqual(n,t,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$1(e){return e}var identity_1=identity$1;function baseProperty$2(t){return function(e){return null==e?void 0:e[t]}}var _baseProperty=baseProperty$2,baseGet=_baseGet;function basePropertyDeep$1(t){return function(e){return baseGet(e,t)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty$1=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(e){return isKey(e)?baseProperty$1(toKey(e)):basePropertyDeep(e)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity=identity_1,isArray$2=isArray_1,property=property_1;function baseIteratee$1(e){return"function"==typeof e?e:null==e?identity:"object"==typeof e?isArray$2(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}var _baseIteratee=baseIteratee$1;function createBaseFor$1(l){return function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[l?o:++n];if(!1===t(i[s],s,i))break}return e}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$1(e,t){return e&amp;&amp;baseFor(e,t,keys$2)}var _baseForOwn=baseForOwn$1,isArrayLike$2=isArrayLike_1;function createBaseEach$1(a,o){return function(e,t){if(null==e)return e;if(!isArrayLike$2(e))return a(e,t);for(var r=e.length,n=o?r:-1,i=Object(e);(o?n--:++n&lt;r)&amp;&amp;!1!==t(i[n],n,i););return e}}var _createBaseEach=createBaseEach$1,baseForOwn=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn),_baseEach=baseEach$1,baseEach=_baseEach,isArrayLike$1=isArrayLike_1;function baseMap$1(e,n){var i=-1,a=isArrayLike$1(e)?Array(e.length):[];return baseEach(e,function(e,t,r){a[++i]=n(e,t,r)}),a}var _baseMap=baseMap$1,arrayMap=_arrayMap,baseIteratee=_baseIteratee,baseMap=_baseMap,isArray$1=isArray_1;function map$1(e,t){return(isArray$1(e)?arrayMap:baseMap)(e,baseIteratee(t))}var map_1=map$1,baseFlatten=_baseFlatten,map=map_1;function flatMap(e,t){return baseFlatten(map(e,t),1)}var flatMap_1=flatMap,flatMap$1=getDefaultExportFromCjs(flatMap_1),basePropertyOf=_basePropertyOf,htmlUnescapes={"&amp;amp;":"&amp;","&amp;lt;":"&lt;","&amp;gt;":"&gt;","&amp;quot;":'"',"&amp;#39;":"'"},unescapeHtmlChar$1=basePropertyOf(htmlUnescapes),_unescapeHtmlChar=unescapeHtmlChar$1,toString$4=toString_1,unescapeHtmlChar=_unescapeHtmlChar,reEscapedHtml=/&amp;(?:amp|lt|gt|quot|#39);/g,reHasEscapedHtml=RegExp(reEscapedHtml.source);function unescape$1(e){return(e=toString$4(e))&amp;&amp;reHasEscapedHtml.test(e)?e.replace(reEscapedHtml,unescapeHtmlChar):e}var _unescape=unescape$1,unescape$2=getDefaultExportFromCjs(_unescape),OpenRtbVideoProtocols;!function(e){e[e.VAST_1_0=1]="VAST_1_0",e[e.VAST_2_0=2]="VAST_2_0",e[e.VAST_3_0=3]="VAST_3_0",e[e.VAST_1_0_Wrapper=4]="VAST_1_0_Wrapper",e[e.VAST_2_0_Wrapper=5]="VAST_2_0_Wrapper",e[e.VAST_3_0_Wrapper=6]="VAST_3_0_Wrapper",e[e.VAST_4_0=7]="VAST_4_0",e[e.VAST_4_0_Wrapper=8]="VAST_4_0_Wrapper",e[e.DAAST_1_0=9]="DAAST_1_0",e[e.DAAST_1_0_Wrapper=10]="DAAST_1_0_Wrapper"}(OpenRtbVideoProtocols=OpenRtbVideoProtocols||{});const defaultOpenRTBProtocols=[OpenRtbVideoProtocols.VAST_2_0,OpenRtbVideoProtocols.VAST_3_0,OpenRtbVideoProtocols.VAST_2_0_Wrapper,OpenRtbVideoProtocols.VAST_3_0_Wrapper,OpenRtbVideoProtocols.VAST_4_0,OpenRtbVideoProtocols.VAST_4_0_Wrapper],vpaidRedirectResponses={};async function getVpaidBridgeRedirect(e,t,r,a){if(carodaConsoleSafe.info("VpaidBridgeHelper","getVpaidBridgeRedirect",e),a&lt;=0)throw new Error("vpaid bridge exceeded campaign timeout");const o=String(Math.floor(1e9*Math.random()));var n=`
            &lt;script&gt;
                window.shouldPlay = false
                window.event = function (evt) {
                    window.parent.postMessage('caroda-vpaid-ad-${o}://' + JSON.stringify(evt), '*')
                }
                window.XMLHttpRequest = function () {
                    this.open = function (method, url) {
                        window.event({ method: method, url: url })
                    }
                    this.withCredentials = false
                    this.send = function () {}
                }
            &lt;/script&gt;
            &lt;div&gt;&lt;/div&gt;
            &lt;video&gt;&lt;/video&gt;
            &lt;script class='caroda-vpaid-preload' src="${e}"&gt;&lt;/script&gt;
            &lt;script&gt;
                const carodaConsoleLog = (method, ...args) =&gt; {
                    try {
                        window.parent.carodaConsole.log(
                            'VpaidBridgeHelper',
                            'getVpaidBridgeRedirect',
                            method,
                            ...args
                        )
                    } catch (err) {}
                }
                const console = Object.keys(window.console).reduce(
                    (newConsole, method) =&gt; ({
                        ...newConsole,
                        [method]: (...args) =&gt; carodaConsoleLog(method, ...args)
                    }),
                    {}
                )
                var ad = getVPAIDAd()
                ad.initAd(
                    ${Math.floor(r)},
                    ${Math.floor(9*r/16)},
                    'normal',
                    500,
                    {
                        AdParameters: ${JSON.stringify(t)}
                    }, // creative data
                    {
                        slot: document.querySelector('div'),
                        videoSlot: document.querySelector('video'),
                        videoSlotCanAutoPlay: true
                    } // environment vars
                )
                // don't call startAd for some to avoid double impressions
                if (window.shouldPlay) {
                    ad.subscribe(function () { ad.startAd() }, 'adError')
                }
                ad.subscribe(function () { window.event({ type: 'noAd' }) }, 'adError')
            &lt;/script&gt;
        `,i=new Promise((t,e)=&gt;{let r=setTimeout(()=&gt;e(new Error("vpaid bridge timed out")),Math.min(3e3,a)),n=!1;const i=[];vpaidRedirectResponses[o]=e=&gt;{r&amp;&amp;(clearTimeout(r),r=null),i.push(e),n||(n=!0,setTimeout(()=&gt;t(i),100))}}),n=new Blob([n],{type:"text/html"});const s=renderDocument.createElement("iframe");s.className="caroda-bridge",s.style.position="absolute",s.style.width="100vw",s.style.height="100vh",s.style.left="0",s.style.top="0",s.style.visibility="hidden",s.style.pointerEvents="none",s.style.display="none",renderDocument.body.appendChild(s),s.src=renderWindow.URL.createObjectURL(n);let l,c;try{c=await i}catch(e){l=e}if(delete vpaidRedirectResponses[o],setTimeout(()=&gt;s.remove(),2e3),l)throw l;return carodaConsoleSafe.info("VpaidBridgeHelper","getVpaidBridgeRedirect",c),c}async function request(e){const r=new XMLHttpRequest;var t=new Promise((e,t)=&gt;{r.onreadystatechange=function(){if(4===this.readyState)return this.status&lt;400?e(this.responseText):t(new Error("BadStatus"+this.status))}});return e(r),t}async function requestJson(e){var t=await request(e);try{return JSON.parse(t)}catch(e){throw carodaConsoleSafe.error("invalid json",t),e}}function stringHash(e){let t=0;if(0===e.length)return t;for(let n=0;n&lt;e.length;n++){var r=e.charCodeAt(n);t=(t&lt;&lt;5)-t+r,t|=0}return t}renderWindow.addEventListener("message",e=&gt;{try{var t,r,n,i,a=e.data&amp;&amp;e.data.match&amp;&amp;e.data.match(/^caroda-vpaid-ad-([0-9]+):\/\/(.*)$/);a&amp;&amp;([t,r,n]=a,carodaConsoleSafe.warn("VpaidBridgeHelper","got event",r,n),(i=JSON.parse(n).url)&amp;&amp;vpaidRedirectResponses[r](i))}catch(e){carodaConsoleSafe.warn("VpaidBridgeHelper",e)}});const{Blob:Blob$1}=libraryWindow,seznamSIDLibrary=getExternalDependency(e=&gt;e.DOT&amp;&amp;{DOT:e.DOT}),secondsInMs=1e3;class ExpandedVast{}async function getVast$1(t,e){let r=getRemainingTimeout(e);if(r&lt;=0)throw new Error("get vast exceeded campaign timeout");let n=await request(e=&gt;{e.open("GET",t),e.withCredentials=!0,e.timeout=r,e.send()});if(!n){if((r=getRemainingTimeout(e))&lt;=0)throw new Error("get vast exceeded campaign timeout");n=await request(e=&gt;{e.open("GET",t),e.timeout=r,e.send()})}return n}function getAdType(e,t){return e.match(/^(https?\:)?\/\/[^/]+\.doubleclick.net/)?e.match(/caroda_ima=0/)||t&amp;&amp;0===t.ima?"doubleclick-vast":"doubleclick":e.match(/adsafeprotected.com/)?e.match(/caroda_vast=1/)||0===(null==t?void 0:t.ima)?"vast":"doubleclick":e.match(/seznam.cz/)?"seznam":e.match(/^(https?\:)?\/\/adx\.adform\.net/)?"adform":e.match(/^(https?\:)?\/\/www[0-9]*\.smartadserver\.com\/ac/)?"doubleclick":e.match(/^(https?\:)?\/\/video-ads.rubiconproject.com.*vast.xml/)?"rubicon":e.match(/^(https?\:)?\/\/optimized-by.rubiconproject.com/)?"rubicon-optimized":e.match(/^(https?\:)?\/\/vpaid.pubmatic.com\/ads\/video\/vadtag.html/)?"pubmatic":e.match(/^(https?\:)?\/\/vid.pubmatic.com\//)?"pubmatic-vast":e.match(/^(https?\:)?\/\/svastx.moatads.com\//)?"moatads":e.match(/^(https?\:)?\/\/ad\.mox\.tv\/delivery\/rtb\/video/)?"mox":e.match(/^(https?\:)?\/\/ad\.mox\.tv\/delivery\/video\/zona\//)?"mox-loader":e.match(/^(https?\:)?\/\//)?"vast":"local-vast"}function isAdLoader(e,t){return!!isSpringServeAdLoader(t)||-1!==["rubicon","pubmatic","mox-loader"].indexOf(getAdType(e,{}))}function getImaVast(e){return`&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
        &lt;VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:noNamespaceSchemaLocation="vast.xsd" version="3.0"&gt;
            &lt;Ad&gt;
                &lt;Wrapper&gt;
                    &lt;AdSystem&gt;Caroda&lt;/AdSystem&gt;
                    &lt;VASTAdTagURI&gt;&lt;![CDATA[${e}]]&gt;&lt;/VASTAdTagURI&gt;
                &lt;/Wrapper&gt;
            &lt;/Ad&gt;
        &lt;/VAST&gt;`}function getTrackingHooks(e,t){const r=e.ads&amp;&amp;e.ads.get(0),n=get$2(r,"impressions"),i=[];n&amp;&amp;n.length&amp;&amp;i.push(...n.map(e=&gt;({TrackingUrl:e.uri,VastEvent:"impression"})));var a=r.creatives.get(0);const o=get$2(a,"linear.clickTrackings")||get$2(a,"linear.videoClicks.clickTrackings"),s=(o&amp;&amp;t&amp;&amp;i.push(...o.map(e=&gt;({TrackingUrl:e.uri,VastEvent:"click_tracking"}))),get$2(a,"linear.trackingEvents"));if(s){const d=s.types,u=d.reduce((e,t)=&gt;[...e,...s.get(t).map(e=&gt;({eventType:t,uri:e.uri}))],[]);i.push(...u.map(e=&gt;({TrackingUrl:e.uri,VastEvent:snakeCase$1(e.eventType)})))}const l=getExtensionCustomTrackingUrls(e,"ShowAdTracking","show_ad"),c=(l.forEach(e=&gt;i.push({TrackingUrl:e,VastEvent:"impression"})),getExtensionCustomTrackingUrls(e,"video_ad_loaded","loaded"));c.forEach(e=&gt;i.push({TrackingUrl:e,VastEvent:"start"}));a=getViewableImpressionsTrackingHooks(e);return i.concat(a)}function getViewableImpressionsTrackingHooks(e){var t=e.ads&amp;&amp;e.ads.get(0);const r=get$2(t,"viewableImpression.viewables",[]);return r.map(e=&gt;({TrackingUrl:e,VastEvent:"viewableImpression"}))}function getExtensionCustomTrackingUrls(e,t,r){const n=(e.ads&amp;&amp;e.ads.get(0)).extensions;if(n){var i=n.find(e=&gt;e.type===t),i=i&amp;&amp;i.xmlElement&amp;&amp;i.xmlElement.childNodes&amp;&amp;Array.prototype.slice.call(i.xmlElement.childNodes).find(e=&gt;"CustomTracking"===e.nodeName);const a=Array.from((null==i?void 0:i.childNodes)||[]).filter(e=&gt;"Tracking"===e.nodeName&amp;&amp;e.getAttribute("event")===r&amp;&amp;e.childNodes);i=flatMap$1(a.map(e=&gt;Array.from(e.childNodes))).map(e=&gt;{var t;return null==(t=e.data)?void 0:t.trim()}).filter(Boolean);return carodaConsoleSafe.info("VastHelper","getExtensionCustomTrackingUrls",{extensionType:t,eventName:r,ret:i}),i}}async function getRedirectedVast(e,t,r,n,i,a,o){carodaConsoleSafe.info("VastHelper","getRedirectedVast",e);var s=e.ads&amp;&amp;e.ads.get(0),s=(r=[...r,...getTrackingHooks(e,!0)],get$2(s,"vastAdTagURI"));return carodaConsoleSafe.info("VastHelper","getRedirectedVast","vastAdTagURI",s),expandVastUrl(s,t,r,n,i,a,o)}async function loadSeznamSID(e=3e3){if(!seznamSIDLibrary.isAvailable()){carodaConsoleSafe.info("VastHelper","loadSeznamSID","loading dot-small.js");const t=renderDocument.createElement("script");t.src="https://h.seznam.cz/js/dot-small.js",renderDocument.head.appendChild(t)}try{await waitFor(()=&gt;!!localStorageHelper.getItem("sid"),e)}catch(e){carodaConsoleSafe.info("VastHelper","expandVastUrl","Seznam couldn't load SID in time. Proceeding anyway",e)}}async function expandVastUrl(e,t,r=[],n,i,a={},o){if(carodaConsoleSafe.info("VastHelper","expandVastUrl","start",e,"tracking =",r,"playerInfo =",t,"depth = ",n.vastChain.length,"expiryTimestamp = ",i),15&lt;n.vastChain.length)throw new Error("vast chain too long");if(getRemainingTimeout(i)&lt;=0)throw new Error("vast expansion exceeded campaign timeout");r=r.slice(),null==(t=t||{plcmt:()=&gt;"standalone",autoplay:!0}).plcmt&amp;&amp;(t.plcmt=()=&gt;"standalone");var s=getAdType(e,t);if("seznam"===(n.adType=s)&amp;&amp;await loadSeznamSID(),e=replaceTargetingTemplate(e,{playerInfo:t,transactionId:o,...a}),e=enhanceUrlParameters(e=pageLocation.href.match(/^https/i)?e.replace(/^http:/,"https:"):e,t),"doubleclick-vast"===s&amp;&amp;(t.ima=0),"doubleclick"===s&amp;&amp;!isDoubleclickDsp(e))return n.vastChain.push({content:"ima/hidden",url:e}),[{adType:s,dspUrl:"//google.ima",format:null,report:n,trackingHooks:r,vast:getImaVast(e)}];if("rubicon"===s||"rubicon-optimized"===s){const g=e.split("?"),m=(g[1]||"").split("&amp;");m.push("domain="+encodeURIComponent(pageLocation.origin)),e=[g[0],m.filter(Boolean).join("&amp;")].join("?")}let l=await getVast$1(e,i);if(!l.trim().length)throw new Error("empty vast document from source "+e);if(isMoatAdCreative(l))return n.vastChain.push({content:l,url:e}),[{adType:"doubleclick",dspUrl:e,format:null,report:n,trackingHooks:r,vast:l}];var c=getImaPlaylistRedirect(l);if(c)return n.vastChain.push({content:l,url:e}),carodaConsoleSafe.info("VastHelper","expandVastUrl",l.trim(),"ima playlist redirect","tracking =",r),expandVastUrl(c,t,r,n,i,a,o);const d=readVast(l),u=(carodaConsoleSafe.info("VastHelper","expandVastUrl","parsed vast",d),d.ads&amp;&amp;d.ads.get(0));if(!u)throw new Error("vast with no ad");if(isDoubleVerifyVpaid(l))return n.vastChain.push({content:"doubleverify/ima",url:e}),[{adType:"doubleclick",dspUrl:e,format:null,report:n,trackingHooks:r=[...r,...getViewableImpressionsTrackingHooks(d)],vast:l=removeViewableImpressionsTracking(l)}];if(get$2(u,"vastAdTagURI"))return n.vastChain.push({content:l,url:e}),getRedirectedVast(d,t,r,n,i,a,o);var p,c=getMediaFormat(d),h=getVpaidCreativeUrl(d);return h&amp;&amp;isGoogleApiRedirectAdVpaidCreative(h)?(p=u.creatives.get(0),p=getGoogleApiRedirectAdCreative(h,(get$2(p,"linear.adParameters","")||"").trim()),r=[...r,...getTrackingHooks(d,!0)],expandVastUrl(p,{...t,dspUrl:e},r,n,i,a,o)):h&amp;&amp;isTeadsCreative(h)?(n.vastChain.push({content:l,url:e}),carodaConsoleSafe.info("VastHelper","expandVastUrl",{adType:"doubleclick",url:e,vastRaw:l,format:c,trackingHooksCarry:r,playerInfo:t}),[{adType:"doubleclick",dspUrl:e,format:c,report:n,trackingHooks:r,vast:l}]):isAdLoader(e,l)?(n.vastChain.push({content:l,url:e}),p=!isSpringServeAdLoader(l),getVpaidRedirectedVast(d,t,r,n,p,i,a,o)):(isDoubleclickDsp(e)||(r=[...r,...getTrackingHooks(d,!1)],l=removeTracking(l)),h&amp;&amp;isAniviewVpaid(l)?(n.vastChain.push({content:l,url:e}),[{adType:"doubleclick",dspUrl:e,format:c,report:n,trackingHooks:r,vast:l}]):(n.vastChain.push({content:l,url:e}),carodaConsoleSafe.info("VastHelper","expandVastUrl",{adType:s,url:e,vastRaw:l,format:c,trackingHooksCarry:r,playerInfo:t,vpaidCreative:h}),[{adType:s,dspUrl:t.dspUrl||e,format:c,report:n,trackingHooks:r,vast:l}]))}async function expandStaticVast(e,t,r=[],n,i,a,o){return expandVastUrl(staticVastToUrl(e),t,r,n,i,a,o)}function enhanceUrlParameters(e,t){try{var r=e.split("?");if(2!==r.length)return e;var n=lib$1.parse(r[1]),i=getAdType(e,t),a=enhanceParameter(n,i,e,t),o=/adsafeprotected.com/.test(e),s=r[0]+"?"+lib$1.stringify(a,{encode:!o});return carodaConsoleSafe.info("VastHelper","enhanceUrlParameters",{enhancedUrl:s,enhancedQueryParts:a,adType:i}),s}catch(e){carodaConsoleSafe.info("VastHelper","enhanceUrlParameters","unusual url format",e)}}function enhanceParameter(e,t,r,n){const i={...e};if(/\.caroda\.io\/api\/iab[\/\?]/.test(r))return i;let a=!1;if(!("local-vast"!==t))return i;var o=getTcfState(),s=[!o.available,!o.applies,!(null==(s=o.responseObject)||!s.tcString)].some(Boolean),s=("doubleclick"!==t&amp;&amp;"doubleclick-vast"!==t||(i.correlator=i.correlator||""+Date.now()+Math.floor(1e6*Math.random()),i.url=pageLocation.href,i.npa=s?0:1,i.output="xml_vast4",null==i.hl&amp;&amp;(i.hl=targetingProfile.locale()),n.maximumAdLength&amp;&amp;(i.max_ad_duration=n.maximumAdLength*secondsInMs),i.impl="s",null==i.description_url&amp;&amp;(i.description_url=pageLocation.href),null==i.unviewed_position_start&amp;&amp;(i.unviewed_position_start=1),null==i.env&amp;&amp;(i.env="vp"),null==i.sz&amp;&amp;(i.sz=`${n.playerWidth||640}x`+(n.playerHeight||360)),null==i.gdfp_req&amp;&amp;(i.gdfp_req=1),null==i.tfcd&amp;&amp;(i.tfcd=0),null==i.vpos&amp;&amp;(i.vpos=n.position&amp;&amp;"custom"!==n.position?n.position:void 0),s=n.plcmt(),["instream","accompanyingContent"].includes(s)?null==i.plcmt&amp;&amp;(i.plcmt=getIabPlcmt(s)):i.vconp=1,null==i.vpmute&amp;&amp;(i.vpmute="instream"===s?0:1),/\/22907767958/.test(i.iu)&amp;&amp;integrationConfig.overrideInviewGamDeclaration()&amp;&amp;(isSiteWhitelistedForInviewGamDeclarationOverride()?"instream"===s?(i.vpmute=0,i.plcmt=1):applyInviewGamDeclarationOverride(i):(i.vpmute="instream"===s?0:1,["instream","accompanyingContent"].includes(s)?i.plcmt=getIabPlcmt(s):delete i.plcmt)),null==i.vpa&amp;&amp;(i.vpa=n.autoplay?"auto":"click"),null==i.min_ad_duration&amp;&amp;(i.min_ad_duration=1e3),null==i.max_ad_duration&amp;&amp;(i.max_ad_duration=36e5)),"doubleclick-vast"===t&amp;&amp;(delete i.impl,null==i.frm&amp;&amp;(i.frm=0),null==i.is_amp&amp;&amp;(i.is_amp=0),null==i.loc&amp;&amp;(i.loc=pageLocation.href),null==i.top&amp;&amp;(i.top=pageLocation.href),null==i.nel&amp;&amp;(i.nel=0),null==i.sdkv&amp;&amp;(i.sdkv="h."+integrationConfig.imaSdkVersion()),null==i.vis&amp;&amp;(i.vis=1)),"seznam"===t&amp;&amp;(i.sid=replaceTargetingTemplate("[sid]"),i.site=decodeURIComponent(replaceTargetingTemplate("[url]")),i.consent=replaceTargetingTemplate("[gdpr_consent]"),a=!0),"pubmatic-vast"===t&amp;&amp;(i.vw=n.playerWidth||320,i.vh=n.playerHeight||Math.floor(9*i.vw/16),i.vfmt=defaultOpenRTBProtocols.join(" "),i.kadpageurl=decodeURIComponent(replaceTargetingTemplate("[url]"))),"adform"===t&amp;&amp;(null==i.w&amp;&amp;(i.w=n.playerWidth||320),null==i.h&amp;&amp;(i.h=n.playerHeight||Math.floor(9*i.w/16))),o.available&amp;&amp;(i.gdpr=replaceTargetingTemplate("[gdpr]")),o.responseObject&amp;&amp;!a&amp;&amp;(i.gdpr_consent=replaceTargetingTemplate("[gdpr_consent]")),getUspState().applies&amp;&amp;(i.us_privacy=replaceTargetingTemplate("[us_privacy]")),0&lt;=r.indexOf("track.adform.net/serving/videoad")),o=(s&amp;&amp;(i.v=4),/vast.doubleverify.com\/v3\//.test(r));return o&amp;&amp;(i._s2=7),i}function applyInviewGamDeclarationOverride(e){var t,r=integrationConfig.websiteDomain(),n=2&lt;(t=r).split(".").length?t.match(/^[^.]*\.(.+)/)[1]:t,i=Math.floor(Math.abs(stringHash(n))),a=[.85,.85,.9,.9],o=isSiteInviewHighEarner(r),i=a[i%a.length],a=parseFloat(e.desktopUnmutedChance)||i,s=parseFloat(e.mobileUnmutedChance)||i,n=(carodaConsoleSafe.info("VastHelper","applyInviewGamDeclarationOverride",{topDomainName:n,domainName:r,isHighEarner:o,defaultMutedChance:i,desktopMutedChance:a,mobileMutedChance:s}),delete e.desktopUnmutedChance,delete e.mobileUnmutedChance,e.carodaTargetingExperiment=`d${a}-m`+s,4397535*Math.floor(Date.now()/6e4)%1e3/1e3),r="mobile"===targetingProfile.device()?s:a;e.vpmute=Math.random()&lt;r+.1*(n-.5)?1:0,e.plcmt=2}function getIabPlcmt(e){switch(e){case"instream":return 1;case"accompanyingContent":return 2;case"interstitial":return 3;default:return 4}}function removeTracking(e){return removeViewableImpressionsTracking(e.replace(/&lt;Impression[^&gt;/]*&gt;/g,"").replace(/&lt;\/Impression&gt;/g,"").replace(/[\x02][^\x03]*[\x03]/g,"").replace(/[\x02][^\x03]*[\x03]/g,"").replace(/&lt;Tracking\s[^&gt;/]*&gt;/g,"").replace(/&lt;\/Tracking&gt;/g,"").replace(/[\x02][^\x03]*[\x03]/g,""))}function removeViewableImpressionsTracking(e){return e.replace(/&lt;ViewableImpression[^&gt;/]*&gt;/g,"").replace(/&lt;\/ViewableImpression&gt;/g,"").replace(/[\x02][^\x03]*[\x03]/g,"")}function getVpaidCreativeUrl(e){try{const r=e.ads.get(0);var t=r.creatives.get(0);const n=get$2(t,"linear.mediaFiles");return n.find(e=&gt;!!e.type.match(/javascript/i)).uri}catch(e){carodaConsoleSafe.info("VastHelper","getVpaidCreativeElement","no vpaid creative found",e.message)}}async function getVpaidRedirectedVast(r,n,i,a,e,o,s,l){if(getRemainingTimeout(o)&lt;=0)throw new Error("vpaid exceeded campaign timeout");i=i.slice(),carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast",r);const c=r.ads.get(0);var t=c.creatives.get(0);const d=get$2(t,"linear.mediaFiles");var u=d.find(e=&gt;!!e.type.match(/javascript/i));if(!u)throw new Error("bridge not found");const p=replaceTargetingTemplate(u.uri,{playerInfo:n,transactionId:l});u=get$2(t,"linear.adParameters");let h=await getVpaidBridgeRedirect(p,u,n.playerWidth||640,o);const g=(h=e?h.slice(0,1):h).find(e=&gt;/^(https:)?\/\/ad.mox.tv\/delivery\/config/.test(e)),m=(g&amp;&amp;(t=await request(e=&gt;{e.open("GET",g),e.send()}),h=JSON.parse(t).vastList,carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","got mox config response",h)),carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","got vast urls",h,"via",p),(await Promise.all(h.map(async t=&gt;{try{carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","redirected to",t,"via",p),c.vastAdTagURI=replaceTargetingTemplate(t,{playerInfo:n,transactionId:l});var e=await getRedirectedVast(r,n,i,a,o,s,l);return carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","redirect to",t,"succeeded",e),e}catch(e){carodaConsoleSafe.info("VastHelper","getVpaidRedirectedVast","redirect to",t,"failed",e.message)}}))).filter(Boolean));if(m.length)return m.reduce((e,t)=&gt;[...e,...t],[]);throw new Error("bridge with no ad")}function getMediaFormat(e){const t=e.ads.get(0);var r=t.creatives.get(0);const n=get$2(r,"linear.mediaFiles");var r=n.filter(e=&gt;!!e.type.match(/video|audio/i)).filter(e=&gt;e.width&amp;&amp;e.height),i=n.filter(e=&gt;!!e.type.match(/javascript/i)).filter(e=&gt;e.width&amp;&amp;e.height);if(!r.length&amp;&amp;!i.length)return null;const a=r.length?r:i;r=a.reduce((e,t)=&gt;t.width&gt;e.width?t:e,{width:0,height:0}),i=Number(r.width)/Number(r.height);return isNaN(i)?null:getVideoAdAspectRatio(i)}function getImaPlaylistRedirect(e){const t=e.trim().replace(/\s/g,"").match(/^&lt;Playlist&gt;(.*)&lt;\/Playlist&gt;$/);if(!t)return null;const r=t[1].trim().match(/^&lt;Preroll&gt;(.*)&lt;\/Preroll&gt;/);if(!r)return null;var n=r[1].trim().match(/^&lt;Ad&gt;&lt;!\[CDATA\[([^\]]*)\]\]&gt;&lt;\/Ad&gt;/);return n?n[1]:null}function isMoatAdCreative(e){return Boolean(e.replace(/\n/g,"").match(/moatwrapper\.js/i))}function isTeadsCreative(e){return Boolean(e&amp;&amp;e.match(/^(https:)?\/\/.*teads\.tv\/vpaid.*/i))}function isGoogleApiRedirectAdVpaidCreative(e){return Boolean(e&amp;&amp;e.match(/^(https:)?\/\/imasdk\.googleapis\.com\/js\/sdkloader\/vpaid_adapter.js/))}function isDoubleVerifyVpaid(e){return/vpaid\.doubleverify\.com\/js\/vpaid-transformer/g.test(e)}function isAniviewVpaid(e){return/player\.aniview\.com/.test(e)}function getGoogleApiRedirectAdCreative(e,t){carodaConsoleSafe.info("VastHelper","getGoogleApiRedirectAdCreative",{jsUri:e,adParameters:t});var r=e.split("?");if(t)try{return staticVastToUrl(unescape$2(t))}catch(e){carodaConsoleSafe.info("VastHelper","getGoogleApiRedirectAdCreative","skipped ad parameters",e.message)}if(2!==r.length)throw new Error("google api vpaid missing parameters");var r=lib$1.parse(r[1]),n=Object.keys(r).find(e=&gt;/adtagurl/i.test(e));if(!n)throw new Error("google api vpaid missing adTagUrl parameter");r=r[n];if(r&amp;&amp;"string"==typeof r)return r;throw new Error("google api vpaid missing adTagUrl parameter")}function staticVastToUrl(e){const t=_default(e);if(!(t.ads.get(0)||t.adPod&amp;&amp;t.adPod.ads.get(0)))throw new Error("vast with no ad");var r=new Blob$1([e],{type:"text/xml"});return libraryWindow.URL.createObjectURL(r)}function isSpringServeAdLoader(e){return Boolean(e.replace(/\n/g,"").match(/vpaid\.springserve\.com\/production\/vpaid/i))}function getCreativeMetadata(e){let t=_default(e);var r=getAdId(t=t.adPod||t),n=getAdTitle(t),i=getAdDescription(t),a=getDurationSeconds(t),o=getMediaFiles(t),s=getPoster(t);return{clickThroughUrl:getClickThroughUrl(t),description:i,durationSeconds:a,id:r,mediaFiles:o,poster:s,title:n}}function getAdId(e){const t=e.ads.get(0);if(t){var r=t.creatives.get(0);if(r){var n=r.universalAdId;if(n)return n.creativeIdentifier;n=r.adID;return n||t.id}}}function getAdTitle(e){var t=e.ads.get(0);if(t)return t.adTitle}function getDurationSeconds(e){const t=e.ads.get(0);if(t){var r=t.creatives.get(0);if(r&amp;&amp;r.linear)return r.linear.duration}}function getAdDescription(e){var t=e.ads.get(0);if(t)return t.description}function getClickThroughUrl(e){var t;return null==(t=null==(t=null==(t=null==(t=null==(t=e.ads.get(0))?void 0:t.creatives.get(0))?void 0:t.linear)?void 0:t.videoClicks)?void 0:t.clickThrough)?void 0:t.uri}function getMediaFiles(e){try{const t=e.ads.get(0).creatives.get(0).linear.mediaFiles;return t.map(e=&gt;({apiFramework:e.apiFramework,bitrate:e.bitrate,codec:e.codec,delivery:e.delivery,height:e.height,id:e.id,maintainAspectRatio:e.maintainAspectRatio,maxBitrate:e.maxBitrate,minBitrate:e.minBitrate,scalable:e.scalable,type:e.type,uri:e.uri,width:e.width}))}catch(e){return[]}}function getPoster(e){try{return e.ads.get(0).extensions.find(e=&gt;"caroda-poster"===e.type).xmlElement.textContent}catch(e){return}}function numberToTwoDigitString(e){return 10&lt;=e?""+e:"0"+e}function secondsToVastSkipOffset(e){var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%60;return`${numberToTwoDigitString(t)}:${numberToTwoDigitString(r)}:`+numberToTwoDigitString(n)}function overrideSkipBehaviour(e,t,r){if(t)return e.replace(/&lt;Linear\s+[^&gt;]*&gt;/g,e=&gt;e.replace(/\sskipoffset\s*=\s*[^\s&gt;]+/,""));var n=getDuration(e=r?e.replace(/&lt;Linear&gt;|&lt;Linear\s+[^&gt;]*&gt;/g,e=&gt;e.replace(/\sskipoffset\s*=\s*[^\s&gt;]+/,"").replace("&gt;",` skipoffset="${secondsToVastSkipOffset(r)}"&gt;`)):e),i=getSkipOffset(e);return!!n&amp;&amp;!!i&amp;&amp;n-i&lt;=2?overrideSkipBehaviour(e,!0):e}function getDuration(e){try{return readVast(e).ads.get(0).creatives.get(0).linear.duration}catch(e){carodaConsoleSafe.info("VastHelper","getDuration",e.message)}}function getSkipOffset(e){try{return readVast(e).ads.get(0).creatives.get(0).linear.skipoffset.value}catch(e){carodaConsoleSafe.info("VastHelper","getSkipOffset",e.message)}}function readVast(e){var t=_default(e);return t.adPod||t}function removeEmptyMediaFile(e){return e.replace(/&lt;MediaFile [^&gt;]*&gt;[^&lt;]*&lt;\!\[CDATA\[ *\]\]&gt;[^&lt;]*&lt;\/MediaFile&gt;/gms,"")}function isDoubleclickDsp(e){return new RegExp(/^(https?\:)?\/\/ad\.doubleclick\.net\//).test(e)||new RegExp(/^(https?\:)?\/\/bid\.g\.doubleclick.net/).test(e)}function isSiteWhitelistedForInviewGamDeclarationOverride(){var e=integrationConfig.integrationRecord().domain;return!["ahaonline.cz","autoweb.cz","babyweb.cz","blesk.cz","btv.bg","centrum.cz","csfd.cz","csfd.sk","echo24.cz","evropa2.cz","hybrid.cz","iprima.cz","lsveikata.lt","maminka.cz","parlamentnilisty.cz","prahain.cz","pravda.sk","rondogo.sk","zive.cz","zrock.bg"].includes(e)}function isSiteInviewHighEarner(e){return["stiripesurse.ro","topky.sk","tn.nova.cz","boredpanda.com","centrum.cz","bugetul.ro","ahaonline.cz","cas.sk","cnn.iprima.cz","idnes.cz","sportky.zoznam.sk","sportpesurse.ro","blesk.cz","zpravy.aktualne.cz","primerahora.com","sportbull.ro","realitatea.net","lifee.cz","regiony.zoznam.sk","ziaruldeiasi.ro","aktuality.sk","spravy.pravda.sk","isport.blesk.cz","distanta.ro","sport.aktuality.sk"].includes(e)}function shouldClickToUnmuteExperimentRun({vastContent:a}){const e=libraryWindow.carodaExperiments||[],t=e.filter(e=&gt;e.type.startsWith("clickToUnmute")).filter(e=&gt;{var t=a.includes("pubads.g.doubleclick.net/gampad/ads"),r=t&amp;&amp;a.includes("/22907767958");let n=getParameterValue({experiment:e,parameterName:"onlyGAM"}),i=getParameterValue({experiment:e,parameterName:"onlyInview"});switch(getParameterValue({experiment:e,parameterName:"applyTo"})){case"allCampaigns":n=!1,i=!1;break;case"allGAMCampaigns":n=!0,i=!1;break;case"InviewGamCampaigns":n=!0,i=!0}return(!n||t)&amp;&amp;(!i||r)});var r=t.some(isAllocated);return carodaConsoleSafe.info("shouldClickToUnmuteExperimentRun",a,r),r}function shouldUnmuteMinVolumeExperimentRun({vast:a}){const e=libraryWindow.carodaExperiments||[],t=e.filter(e=&gt;e.type.startsWith("unmutedMinVolume")).filter(e=&gt;{var t=a.includes("pubads.g.doubleclick.net/gampad/ads"),r=t&amp;&amp;a.includes("/22907767958");let n=getParameterValue({experiment:e,parameterName:"onlyGAM"}),i=getParameterValue({experiment:e,parameterName:"onlyInview"});switch(getParameterValue({experiment:e,parameterName:"applyTo"})){case"inviewGam":n=!0,i=!0;break;case"allGam":n=!0,i=!1}return(!n||t)&amp;&amp;(!i||r)});var r=t.some(isAllocated);return carodaConsoleSafe.info("shouldUnmuteMinVolumeExperimentRun",a,r),r}const minimatch$3=minimatch$5||minimatchModule,stringify=index||_stableStringify;class ImaPlayer extends EventTarget{constructor({campaignView:r,clickThroughUrlBlacklistGlobs:e,globalConfigOverride:t,opts:n={},parentElement:i,shouldExcludeRepeated:a}){var o;super(),this.playCalled=!1,this.unfrozen=!1,this.logger=carodaConsoleSafe.getInstanceLogger("ImaPlayer",r.id),this.logger.info(".constructor",r.id,n),this.campaignView=r,Object.assign(n,integrationConfig.defaultAdFrameOptions()),this.containerElement=renderDocument.createElement("div"),this.containerElement.className="carodaImaOutstreamPlayer",this.tracking=new Tracking(t,{...n.trackingConfig||{},context:{...n.trackingConfig&amp;&amp;n.trackingConfig.context||{},transactionId:r.transactionId},placementId:r.assetId,playerContainer:this.containerElement}),this.parentElement=i,this.trackingHooks=r.trackingHooks,this.volume=n.volume||1,this.thumbnailUrl=n.thumbnailUrl,this.instream=!!n.instream,this.vastContent=r.vastContent,this.fixedSkipOffset=n.hideSkipButton?void 0:n.fixedSkipOffset,this.vastContent=overrideSkipBehaviour(this.vastContent,n.hideSkipButton,n.fixedSkipOffset),this.vastContent=removeEmptyMediaFile(this.vastContent),this.expireCache=r.expire,this.sspUrl=r.sspUrl,this.dspUrl=r.dspUrl,this.trackAsSlider=n.trackAsSlider,this.clickThroughUrlBlacklistGlobs=e||[],this.isClickThoughUrlBlacklistDisabled=n.isClickThoughUrlBlacklistDisabled,this.shouldExcludeRepeated=a,this.unfreezePrecondition=n.unfreezePrecondition||(()=&gt;!0),a&amp;&amp;(this.adRejected=!1,this.excludeRepeated=t=&gt;{try{this.logger.info(".excludeRepeated",r.adsGroup,t),r.throwIfRepeated(t)}catch(e){if(this.logger.info(".excludeRepeated","rejected",r.adsGroup,t),this.adRejected)return;this.adRejected=!0,this.iframePlayer.reject()}}),this.hideCarodaUI=!!n.hideCarodaUI,this.error=!1,this.shouldPauseWhenOutOfView=n.shouldPauseWhenOutOfView||(()=&gt;!0),this.adEnded=!1,this.volumeChangedTriggered=!1,this.setAdCanPlay(!1),this.hadImpression=!1,this.vastLoadTimeout=getRemainingTimeout(r.loadExpiryTimestamp),this.forceAspectRatio=n.forceAspectRatio,this.forceAspectRatio?(o=getVideoAdAspectRatio(n.forceAspectRatio),this.format=o,this.containerElement.classList.add("outstreamFormat-"+o)):r.vastContentAspectRatio&amp;&amp;this.containerElement.classList.add("outstreamFormat-"+r.vastContentAspectRatio),this.styles=n.imaFrameStyles||{},this.css=n.imaFrameCss,this.onFullscreen=n.onFullscreen,this.onUnfullscreen=n.onUnfullscreen||(()=&gt;renderDocument.exitFullscreen()),this.keepLastFrame=null==n.keepLastFrame||Boolean(n.keepLastFrame),this.bannedFormats=integrationConfig.bannedFormats()||n.bannedFormats||getDefaultBannedFormats(targetingProfile.device()),this.bannedFormats=this.bannedFormats.concat(integrationConfig.imaBannedFormats()||[]),n.isVisible?this.isInViewport=e=&gt;{var t=isIframeContainedInViewport(e);return n.isVisible(e,t)}:this.instream&amp;&amp;(this.isInViewport=isIframeContainedInViewport),this.isValidCreative=n.isValidImaCreative||(()=&gt;!0),this.mediaUrl=n.mediaUrl,this.playResult=this.preload()}async play(){return this.logger.info(".play"),this.playCalled=!0,this.waitForAdValid().then(()=&gt;{this.logger.info(".play","ad valid"),this.adEnded||(this.containerElement.className+=" loaded",this.containerElement.parentElement.className+=" adLoaded")}).catch(()=&gt;({})),this.playResult}destroy(){this.logger.info(".destroy");try{this.containerElement.parentElement&amp;&amp;this.containerElement.parentElement.removeChild(this.containerElement)}catch(e){this.logger.error(".destroy",e)}}getVolume(){return this.volumeChangedTriggered?this.volume:0}setVolume(e){this.adEnded||(this.volume=e,this.volumeChangedTriggered=!0,this.iframePlayer.setVolume(e))}async getCreativeMetadata(){if(this.adRejected)throw new Error("ad rejected");if(this.error)throw new Error("ad errored");return this.creativeMetadata||new Promise((e,t)=&gt;{this.creativeMetadataResolve=e,this.creativeMetadataReject=t})}getCampaignView(){return this.campaignView}getTracking(){return this.tracking}async unfreeze({userInitiated:e=!1,unmute:t=!1}){if(!this.unfrozen&amp;&amp;(this.unfrozen=!0,this.logger.info(".unfreeze",{iframeLoaded:Boolean(this.iframePlayer),unmute:t,userInitiated:e}),!this.adEnded)){if(isThere3rdPartyFullscreen(this.parentElement))return this.logger.info(".unfreeze","an element that is not an ancestor is in fullscreen mode"),void(this.adEnded=!0);this.iframePlayer.unfreeze({userInitiated:e,unmute:t}),this.markAsViewed(),this.waitForAdValid().then(()=&gt;{this.markAsViewed()}).catch(()=&gt;({})),await waitFor(()=&gt;this.adEnded)}}async unfreezeWhenInView(){await waitFor(this.unfreezePrecondition),await waitFor(()=&gt;!this.shouldPauseWhenOutOfView()||isInVerticalView(this.parentElement)||this.adEnded),await this.unfreeze({unmute:!1,userInitiated:!1})}isError(){return this.error}canPlayAd(){return this.adCanPlay}async waitForAdValid(){if(await waitFor(()=&gt;this.canPlayAd()||this.isError()||this.adRejected),this.error||this.adRejected)throw this.logger.error(".waitForAdValid",{error:this.error,adRejected:this.adRejected}),new Error("ima exception")}async waitForAdIndexed(){return waitFor(()=&gt;this.hadImpression||this.adEnded)}getParentElement(){return this.parentElement}getIframePlayerContainer(){return this.containerElement.querySelector(".caroda-player-ima")}getFormat(){return this.format}isValid(){return this.adCanPlay||this.adEnded}isEnded(){return this.adEnded}getAdProgress(){return this.iframePlayer.getAdProgress()}renderReplayButton(){this.clickThroughUrl&amp;&amp;new LearnMoreButton({container:this.getIframePlayerContainer(),targetUrl:this.clickThroughUrl})}onAdEnded(){this.logger.info(".onAdEnded"),this.adEnded=!0,this.instream||!this.hadImpression||this.error?this.containerElement.classList.remove("loaded"):this.renderReplayButton()}async preload(){try{if(this.logger.info(".preload"),renderDocument.fullscreenElement&amp;&amp;!renderDocument.fullscreenElement.contains(this.parentElement))return void this.logger.info(".preload","an element that is not an ancestor is in fullscreen mode");this.parentElement.contains(this.containerElement)||this.parentElement.appendChild(this.containerElement);var e={container:this.containerElement,css:this.css,forceSkippableAfterSeconds:this.fixedSkipOffset,hideCarodaUI:this.hideCarodaUI||isAniviewVpaid(this.vastContent),instream:this.instream,isInViewport:this.isInViewport,keepLastFrame:this.keepLastFrame,language:targetingProfile.locale(),mediaUrl:this.mediaUrl,onFullscreen:this.onFullscreen,onUnfullscreen:this.onUnfullscreen,shouldPauseWhenOutOfView:this.shouldPauseWhenOutOfView,startWithLowVolume:shouldUnmuteMinVolumeExperimentRun({vast:this.vastContent}),styles:{...this.styles,lastFrameFallbackImage:{background:"#ccc",backgroundImage:"none",...this.styles.lastFrameFallbackImage||{}}},thumbnailUrl:this.thumbnailUrl,unmuteOverlay:shouldClickToUnmuteExperimentRun({vastContent:this.vastContent})||/carodaUnmuteOnClick=true/.test(this.vastContent),vast:this.vastContent,vastLoadTimeout:this.vastLoadTimeout,volume:this.volume};this.logger.info(".preload","creating ima frame",e),this.iframePlayer=new VastPlayerIma(e),this.logger.info(".preload","registering events"),this.iframePlayer.getAdDuration().then(e=&gt;{!this.hadImpression&amp;&amp;e&gt;=this.campaignView.maximumAdLength&amp;&amp;(this.logger.info(".preload","ad is too long",this.creativeMetadata.durationSeconds,this.campaignView.maximumAdLength),this.adEnded=!0,this.error=!0,this.campaignView.markAsFailed())}),this.iframePlayer.addEventListener("adCanPlay",e=&gt;{this.logger.info(".preload","on adCanPlay",e);var t=this.extractAd(e.currentAd);if(!this.isValidCreative(t))return this.logger.info(".preload","on adCanPlay","invalid creative"),this.adEnded=!0,this.error=!0,void this.destroy();this.clickThroughUrl=t.clickThroughUrl;var r=t.vastMediaWidth/t.vastMediaHeight,r=(this.forceAspectRatio||(this.format=getVideoAdAspectRatio(r)),0&lt;=this.bannedFormats.indexOf(this.format));if(r)return this.logger.info(".preload","banned format",this.format),this.adEnded=!0,this.error=!0,void this.destroy();this.creativeMetadata=this.composeCreativeMetadata(t),this.logger.info(".preload","on adCanPlay",this.creativeMetadata),this.excludeRepeated&amp;&amp;this.excludeRepeated(stringify(this.creativeMetadata)),this.adRejected||!this.clickThroughUrl||null!=(r=this.isClickThoughUrlBlacklistDisabled)&amp;&amp;r.call(this,this.campaignView.id)||!this.clickThroughUrlBlacklistGlobs.some(e=&gt;minimatch$3(this.clickThroughUrl,e))||(this.logger.info(".preload","on adCanPlay",`clickThroughUrl "${this.clickThroughUrl}" matches blacklist "${this.clickThroughUrlBlacklistGlobs}"`),this.adRejected=!0,this.iframePlayer.reject()),this.adRejected||(this.resolvePendingCreativeMetadataPromise(),setTimeout(()=&gt;{this.setAdCanPlay(!0)},500))}),this.iframePlayer.addEventListener("adEnded",()=&gt;this.onAdEnded()),this.iframePlayer.addEventListener("adError",e=&gt;{this.logger.info(".preload","adError",e),this.error=!0,this.containerElement.classList.remove("loaded"),this.resolvePendingCreativeMetadataPromise()}),this.iframePlayer.addEventListener("log",e=&gt;this.logger.info(".preload","iframe",e.message)),this.trackingHooks.forEach(e=&gt;this.iframePlayer.addTrackingUrl(e.VastEvent,e.TrackingUrl)),this.iframePlayer.addEventListener("tracking",e=&gt;{this.triggerEvent(e.eventName,this),/click/.test(e.eventName)&amp;&amp;this.setVolume(0);const t="impression"===e.eventName,r={debug:JSON.stringify({adPlayer:"ImaPlayer",campaignId:this.campaignView.id,device:targetingProfile.device()})};var n;e.trackingUrls.forEach(e=&gt;this.tracking.hitTrackingUrl(e,t,!1,this.campaignView.cappingEventType,r)),t&amp;&amp;(n=(this.instream?"impression_instream":this.trackAsSlider&amp;&amp;"impression_outstream_slider")||"impression_outstream",this.tracking.hitPlayerEvent(n,[this.sspUrl,this.dspUrl],void 0,"ima_unknown",void 0,void 0,r),this.hadImpression=!0,this.expireCache&amp;&amp;this.expireCache().catch(e=&gt;this.logger.warn(".preload",e)))}),this.iframePlayer.addEventListener("volumeChanged",({volume:e})=&gt;{this.volume=e,this.triggerEvent("volumeChanged",this,{volume:e})});let t=null;this.iframePlayer.addEventListener("adError",e=&gt;{t=e,this.adEnded=!0,"frame interrupted"!==(null==e?void 0:e.message)&amp;&amp;this.campaignView.markAsFailed()}),this.iframePlayer.addEventListener("heavyAd",()=&gt;{this.triggerWindowEvent("caroda-heavyAd",this.getParentElement()),this.campaignView.markAsFailed()});var r=this.createOnTimeUpdateInterval();if(await waitFor(()=&gt;this.adEnded),clearInterval(r),t&amp;&amp;!this.hadImpression)throw this.logger.error(".preload",t),new Error("ima exception")}catch(e){throw await waitFor(()=&gt;this.playCalled),e}}composeCreativeMetadata(e){return{description:e.description,durationSeconds:e.duration,id:e.adId,title:e.title}}resolvePendingCreativeMetadataPromise(){this.creativeMetadataResolve?this.adRejected?this.creativeMetadataReject(new Error("ad rejected")):this.error?this.creativeMetadataReject(new Error("ad errored")):(this.creativeMetadataResolve(this.creativeMetadata),this.tracking.setCreativeMetadata(this.creativeMetadata)):this.tracking.setCreativeMetadata(this.creativeMetadata)}extractAd(e){return e[Object.keys(e)[0]]}createOnTimeUpdateInterval(){let t=!0,r=(["start","resume"].forEach(e=&gt;this.addEventListener(e,()=&gt;t=!1)),["pause","complete","skip"].forEach(e=&gt;this.addEventListener(e,()=&gt;t=!0)),-1);return setInterval(()=&gt;{var e;t||(e=this.iframePlayer.getAdProgress())&amp;&amp;!isNaN(e)&amp;&amp;e!==r&amp;&amp;(this.triggerEvent("timeupdate",this,e),r=e)},250)}markAsViewed(){this.shouldExcludeRepeated&amp;&amp;this.canPlayAd()&amp;&amp;!this.adRejected&amp;&amp;!this.error&amp;&amp;(this.logger.info(".markAsViewed"),this.campaignView.markAsViewed(stringify(this.creativeMetadata)))}setAdCanPlay(e){(this.adCanPlay=e)&amp;&amp;this.tracking.trackTimeToLoad()}}class SliderImaPlayer extends ImaPlayer{constructor({campaignView:e,clickThroughUrlBlacklistGlobs:t,globalConfigOverride:r,opts:n,parentElement:i,shouldExcludeRepeated:a}){carodaConsoleSafe.info("SliderImaPlayer",".constructor",e.id,n),super({campaignView:e,clickThroughUrlBlacklistGlobs:t,globalConfigOverride:r,opts:n,parentElement:i,shouldExcludeRepeated:a})}async fadeOut(){this.containerElement.classList.remove("loaded"),await waitMs(600)}onAdEnded(){this.adEnded=!0}}class Spinner{constructor(e,t){this.container=e,this.overlay=this.createOverlay(t);var r=this.createSpinner();this.overlay.appendChild(r),e.appendChild(this.overlay)}show(){this.log("show",this.overlay),this.container.classList.add(Spinner.CONTAINER_SHOW_CLASS_NAME)}hide(){this.log("hide",this.overlay),this.container.classList.remove(Spinner.CONTAINER_SHOW_CLASS_NAME)}remove(){this.log("remove",this.overlay),this.container.classList.remove(Spinner.CONTAINER_SHOW_CLASS_NAME),this.overlay.remove()}getOverlay(){return this.overlay}createOverlay(e){const t=renderDocument.createElement("div");return t.classList.add(Spinner.OVERLAY_CLASS_NAME),e&amp;&amp;t.classList.add(e),t}createSpinner(){const e=renderDocument.createElement("div");return e.classList.add(Spinner.SPINNER_CLASS_NAME),e}log(...e){carodaConsoleSafe.info("Spinner",...e)}}Spinner.OVERLAY_CLASS_NAME="caroda-spinner-container",Spinner.SPINNER_CLASS_NAME="caroda-spinner",Spinner.CONTAINER_SHOW_CLASS_NAME="caroda-show-spinner";const{ResizeObserver:ResizeObserver$1}=renderWindow;class ReplayButton{constructor(e,t){this.logger=carodaConsoleSafe.getInstanceLogger("ReplayButton"),this.container=this.createContainer(e),this.button=this.createButton(),this.container.appendChild(this.button),this.button.addEventListener("click",this.createOnClick(t)),this.spinner=new Spinner(this.container)}createContainer(t){const r=renderDocument.createElement("div"),n=(r.classList.add("carodaReplayButtonContainer"),this.positionContainer(r,t),new ResizeObserver$1(()=&gt;{var e;e=t,renderDocument.body.contains(e)?this.positionContainer(r,t):n.disconnect()}));return n.observe(t),t.parentElement.appendChild(r),r}positionContainer(e,t){var{top:r,left:n,width:i,height:a}=this.getCoordinates(t);e.style.top=r+"px",e.style.left=n+"px",e.style.width=i+"px",e.style.height=a+"px"}getCoordinates(e){var t=e.getBoundingClientRect(),r=e.parentElement.getBoundingClientRect();return{height:e.clientHeight,left:t.left-r.left,top:t.top-r.top,width:e.clientWidth}}createButton(){const e=renderDocument.createElement("button");return e.classList.add("carodaReplayButton"),"mobile"===targetingProfile.device()&amp;&amp;e.classList.add("mobile"),e.title=labels[targetingProfile.locale()].playAgain,e}createOnClick(e){return async()=&gt;{this.logger.info(".onClick"),this.button.remove(),this.spinner.show();try{if(!await e())throw new Error("onClick failed");this.spinner.remove(),this.logger.info(".onClick","success")}catch(e){this.logger.info(".onClick",e),this.spinner.remove(),this.renderErrorMessage()}}}renderErrorMessage(){const e=renderDocument.createElement("span");e.classList.add("carodaReplayButtonErrorMessage"),e.textContent=labels[targetingProfile.locale()].noAd,this.container.appendChild(e)}}const minimatch$2=minimatch$5||minimatchModule;class VVPlayer extends EventTarget{constructor({campaignView:e,clickThroughUrlBlacklistGlobs:t,globalConfigOverride:r,opts:n,parentElement:i,shouldExcludeRepeated:a}){if(super(),this.unfrozen=!1,this.logger=carodaConsoleSafe.getInstanceLogger("VVPlayer"),a&amp;&amp;e.throwIfRepeated(),this.logger.info(".constructor",e.id,e,n),Object.assign(n,integrationConfig.defaultAdFrameOptions()),e.hasFailedPreviously())throw this.logger.error(".constructor","campaign has failed previously"),new Error("campaign "+e.id+" has failed previously");if(this.vastContent=e.vastContent,!this.vastContent)throw new Error("no vast content");if(this.vastContent=overrideSkipBehaviour(this.vastContent,this.hideSkipButton,n.fixedSkipOffset),this.vastContent=removeEmptyMediaFile(this.vastContent),this.creativeMetadata=getCreativeMetadata(this.vastContent),t&amp;&amp;(null==(o=n.isClickThoughUrlBlacklistDisabled)||!o.call(n,e.id))){const s=this.creativeMetadata.clickThroughUrl;if(s&amp;&amp;t.some(e=&gt;minimatch$2(s,e)))throw e.markAsFailed(),new Error(`clickThroughUrl "${s}" matches blacklist "${t}"`)}this.campaignView=e,this.containerElement=renderDocument.createElement("div"),this.containerElement.className="carodaVvOutstreamPlayer",this.tracking=new Tracking(r,{...n.trackingConfig||{},context:{...n.trackingConfig&amp;&amp;n.trackingConfig.context||{},transactionId:e.transactionId,vastContent:e.vastContent},placementId:e.assetId,playerContainer:this.containerElement}),this.trackingHooks=e.trackingHooks,this.volume=n.volume||1,this.volumeChangedTriggered=!1,this.hideSkipButton=Boolean(n.hideSkipButton),this.parentElement=i,this.thumbnailUrl=n.thumbnailUrl,this.instream=!!n.instream,this.instreamAdBreakType=n.instreamAdBreakType,this.isLoaded=!1,this.adEnded=!1,this.isDestroyed=!1,this.disableTracking=n.disableTracking,this.trackAsSlider=n.trackAsSlider,this.format=n.format||e.vastContentAspectRatio||null,this.forceAspectRatio=n.forceAspectRatio;var o=n.instream?15e3:12e4;this.timeoutInMs=n.timeoutInMs||o,this.unfreezePrecondition=n.unfreezePrecondition||(()=&gt;!0),this.trackAsSlider||(this.format=null),this.trackingUrlsHit={},this.hadImpression=!1,this.preload=!!n.preload,this.expireCache=async()=&gt;e.expire&amp;&amp;e.expire(),this.markAsViewed=()=&gt;{this.logger.info(".markAsViewed"),e.markAsViewed()},this.sspUrl=e.sspUrl,this.dspUrl=e.dspUrl,this.tracking.setCreativeMetadata(this.creativeMetadata),this.hideCarodaUI=!!n.hideCarodaUI,this.styles=n.vvFrameStyles||{},this.css=n.vvFrameCss,this.shouldPauseWhenOutOfView=n.shouldPauseWhenOutOfView||(()=&gt;!0),this.setAdCanPlay(!1),this.onFullscreen=n.onFullscreen,this.onUnfullscreen=n.onUnfullscreen||(()=&gt;renderDocument.exitFullscreen()),this.keepLastFrame=null==n.keepLastFrame||Boolean(n.keepLastFrame),this.bannedFormats=integrationConfig.bannedFormats()||n.bannedFormats||getDefaultBannedFormats(targetingProfile.device()),this.isInViewport=e=&gt;{var t=isIframeContainedInViewport(e);return n.isVisible?n.isVisible(e,t):t}}getParentElement(){return this.parentElement}getIframePlayerContainer(){return this.containerElement.querySelector(".caroda-player-vast-vpaid")}isValid(){return this.isLoaded||this.adEnded}isError(){return!!this.adError}async waitForAdValid(){if(await waitFor(()=&gt;this.isValid()),this.adError)throw this.logger.error(".waitForAdValid",this.adError),new Error("vv exception")}async waitForAdIndexed(){return waitFor(()=&gt;this.hadImpression||this.adEnded)}async unfreezeWhenInView(){await waitFor(this.unfreezePrecondition),await waitFor(()=&gt;!this.shouldPauseWhenOutOfView()||isInVerticalView(this.parentElement)||this.adEnded),await this.unfreeze({userInitiated:!1,unmute:!1})}async unfreeze({unmute:e=!1}){if(!this.unfrozen&amp;&amp;(this.unfrozen=!0,this.logger.info(".unfreeze",{iframeLoaded:Boolean(this.iframePlayer),unmute:e}),!this.adEnded)){if(isThere3rdPartyFullscreen(this.parentElement))return this.logger.info(".unfreeze","an element that is not an ancestor is in fullscreen mode"),void(this.adEnded=!0);this.markAsViewed(),this.isValid()||(this.logger.info(".unfreeze","player late for unfreezing"),await this.waitForAdValid()),e&amp;&amp;(this.logger.info(".unfreeze","unmute"),this.iframePlayer.unmute()),this.iframePlayer.unfreeze(),await waitFor(()=&gt;this.adEnded)}}getFormat(){return this.logger.info(".getFormat"),this.format}getVastContent(){return this.vastContent}async play(){if(this.logger.info(".play"),renderDocument.fullscreenElement&amp;&amp;!renderDocument.fullscreenElement.contains(this.parentElement))return this.logger.info(".play","an element that is not an ancestor is in fullscreen mode"),void(this.adEnded=!0);this.parentElement.contains(this.containerElement)||this.parentElement.appendChild(this.containerElement);var e={container:this.containerElement,css:this.css,forceAspectRatio:this.forceAspectRatio,hideCarodaUI:this.hideCarodaUI,hideSkipButton:this.hideSkipButton,instream:this.instream,instreamAdBreakType:this.instreamAdBreakType,isInViewport:this.isInViewport,keepLastFrame:this.keepLastFrame,language:targetingProfile.locale(),onFullscreen:this.onFullscreen,onUnfullscreen:this.onUnfullscreen,preload:this.preload,shouldPauseWhenOutOfView:this.shouldPauseWhenOutOfView,startWithLowVolume:shouldUnmuteMinVolumeExperimentRun({vast:this.vastContent}),styles:{...this.styles,lastFrameFallbackImage:{background:"#ccc",backgroundImage:"none",...this.styles.lastFrameFallbackImage||{}}},thumbnailUrl:this.thumbnailUrl,timeoutInMs:this.timeoutInMs,vast:this.vastContent,volume:this.volume,unmuteOverlay:shouldClickToUnmuteExperimentRun({vastContent:this.vastContent})};if(this.logger.info(".play","creating vv frame",e,this),this.iframePlayer=new VastVpaidPlayer(e),this.iframePlayer.getAdDuration().then(e=&gt;{if(!this.hadImpression&amp;&amp;e&gt;=this.campaignView.maximumAdLength)return this.logger.info(".play","ad is too long",this.creativeMetadata.durationSeconds,this.campaignView.maximumAdLength),this.adEnded=!0,this.adError=new Error("ad is too long"),void this.campaignView.markAsFailed();this.creativeMetadata.durationSeconds=e,this.tracking.setCreativeMetadata(this.creativeMetadata)}),this.logger.info(".play","registering events"),this.iframePlayer.addEventListener("adVideoStart",e=&gt;{return this.logger.info(".play","got video start event",e,this.format),this.format&amp;&amp;this.format!==e.format?(this.logger.info(".play","format mismatch",e.format,this.format),this.adEnded=!0,void(this.adError=new Error("format missmatch"))):0&lt;=this.bannedFormats.indexOf(e.format)?(this.logger.info(".play","banned format",e.format),this.adEnded=!0,void(this.adError=new Error("banned format"))):(this.isLoaded=!0,this.setAdCanPlay(!0),this.forceAspectRatio||(this.format=e.format,this.containerElement.className+=" outstreamFormat-"+(this.format||e.format)),void setTimeout(()=&gt;{this.containerElement.parentElement&amp;&amp;(this.containerElement.className+=" loaded",this.containerElement.parentElement.className+=" adLoaded",this.containerElement.parentElement.parentElement.classList.contains("carodaOutstreamSlider")&amp;&amp;this.containerElement.parentElement.parentElement.classList.add("adLoaded"),this.iframePlayer.resize(this.containerElement.clientWidth,this.containerElement.clientHeight))},500))}),this.iframePlayer.addEventListener("log",e=&gt;this.logger.info(".play","iframe",e.message)),this.trackingHooks.forEach(e=&gt;this.iframePlayer.addTrackingUrl(e.VastEvent,e.TrackingUrl)),this.iframePlayer.addEventListener("tracking",e=&gt;{this.triggerEvent(e.eventName,this);const t="impression"===e.eventName;if(t&amp;&amp;this.expireCache().catch(e=&gt;carodaConsoleSafe.warn("VVPlayer",".play","expire cache",e)).then(()=&gt;{this.hadImpression=!0}),/click/.test(e.eventName)&amp;&amp;this.setVolume(0),this.disableTracking&amp;&amp;!e.eventName.match(/click/i))e.trackingUrls.forEach(e=&gt;carodaConsoleSafe.info("untracked event",e));else{const r={debug:JSON.stringify({adPlayer:"VVPlayer",campaignId:this.campaignView.id,device:targetingProfile.device()})};e.trackingUrls.forEach(e=&gt;this.hitTrackingUrl(e,t,r)),t&amp;&amp;this.tracking.hitPlayerEvent(this.getImpressionEvent(),[this.sspUrl,this.dspUrl],null,this.format,void 0,void 0,r)}}),this.iframePlayer.addEventListener("adError",e=&gt;{this.logger.info(".adError",e),this.isDestroyed?this.logger.info(".adError","already destroyed"):(this.adError=e,this.adEnded=!0,"frame interrupted"!==(null==e?void 0:e.message)&amp;&amp;this.campaignView.markAsFailed())}),this.iframePlayer.addEventListener("adEnded",()=&gt;this.onAdEnded()),this.iframePlayer.addEventListener("volumeChanged",({message:e})=&gt;{this.volumeChangedTriggered=!0,this.volume=e,this.triggerEvent("volumeChanged",this,{volume:e})}),this.iframePlayer.addEventListener("timeupdate",()=&gt;{this.triggerEvent("timeupdate",this,this.iframePlayer.getAdProgress())}),this.iframePlayer.addEventListener("heavyAd",()=&gt;{this.triggerWindowEvent("caroda-heavyAd",this.getParentElement()),this.campaignView.markAsFailed()}),this.logger.info(".play","waiting for ad end"),await waitFor(()=&gt;this.adEnded),this.adError)throw this.logger.error(".play",this.adError),new Error("vv exception")}destroy(){this.logger.info(".destroy"),this.isDestroyed=!0,this.adEnded=!0;try{this.containerElement.parentElement&amp;&amp;this.containerElement.parentElement.removeChild(this.containerElement)}catch(e){this.logger.error(".destroy",e)}}getVolume(){return this.volumeChangedTriggered?this.volume:0}setVolume(e){this.adEnded||(this.volume=e,this.volumeChangedTriggered=!0,this.iframePlayer.setVolume(e))}async getCreativeMetadata(){return this.creativeMetadata}getCampaignView(){return this.campaignView}getTracking(){return this.tracking}canPlayAd(){return this.adCanPlay}isEnded(){return this.adEnded}getAdProgress(){return this.iframePlayer.getAdProgress()}async renderReplayButton(){await waitFor(()=&gt;null!=typeof this.iframePlayer.showingLastFrame),new ReplayButton(this.getIframePlayerContainer(),async()=&gt;{try{const e=this.iframePlayer;return this.adError=!1,this.adEnded=!1,this.setAdCanPlay(!1),this.hadImpression=!1,this.isLoaded=!1,this.unfrozen=!1,this.play().catch(()=&gt;({})),this.iframePlayer.getContainer().style.visibility="hidden",await this.waitForAdValid(),this.iframePlayer.getContainer().style.visibility="visible",e&amp;&amp;e.getContainer().remove(),this.unfreezeWhenInView().catch(()=&gt;{this.destroy()}),!0}catch(e){return!1}})}onAdEnded(){this.adEnded=!0,this.instream||!this.hadImpression||this.adError?this.containerElement.classList.remove("loaded"):this.renderReplayButton()}hitTrackingUrl(e,t,r={}){if(this.logger.info(".hitTrackingUrl",{url:e,isImpression:t}),this.trackingUrlsHit[e]=this.trackingUrlsHit[e]||0,this.trackingUrlsHit[e]++,!(4&lt;this.trackingUrlsHit[e]))return this.tracking.hitTrackingUrl(e,t,!1,this.campaignView.cappingEventType,r)}getImpressionEvent(){return this.instream?"impression_instream":this.trackAsSlider?"impression_outstream_slider":"impression_outstream"}setAdCanPlay(e){(this.adCanPlay=e)&amp;&amp;this.tracking.trackTimeToLoad()}}class SliderVVPlayer extends VVPlayer{constructor({campaignView:e,clickThroughUrlBlacklistGlobs:t,globalConfigOverride:r,opts:n,parentElement:i,shouldExcludeRepeated:a}){carodaConsoleSafe.info("SliderVVPlayer",".constructor",e.id,n),super({campaignView:e,clickThroughUrlBlacklistGlobs:t,globalConfigOverride:r,opts:{...n,disableTracking:!n.trackingEnabled},parentElement:i,shouldExcludeRepeated:a})}async fadeOut(){this.containerElement.classList.remove("loaded"),await waitMs(600)}onAdEnded(){this.adEnded=!0}}class ProgressBar{constructor({parent:e}){this.element=renderDocument.createElement("div"),this.element.classList.add("caroda-library-progress-bar"),e.appendChild(this.element),this.progress=renderDocument.createElement("div"),this.progress.classList.add("caroda-library-progress-bar-progress"),this.element.appendChild(this.progress),this.update({progressPercentage:0})}update({progressPercentage:e}){e=Math.min(100,Math.max(0,e)),this.progress.style.width=e+"%"}}class Timer{constructor({parent:e,durationSeconds:t,currentTimeSeconds:r=0}){this.durationSeconds=t,this.element=renderDocument.createElement("div"),this.element.classList.add("caroda-library-timer"),this.element.textContent=this.toTime(this.durationSeconds),e.appendChild(this.element),this.update({currentTimeSeconds:r})}update({currentTimeSeconds:e}){e=Math.min(e,this.durationSeconds);var t=this.durationSeconds-e;this.element.textContent=this.toTime(t)}toTime(e){var t=Math.floor(e/60);const r=Math.floor(e)%60;return t+":"+r.toString().padStart(2,"0")}}const{ResizeObserver}=renderWindow;class VideoFrameBannerPlayer extends BannerPlayer{constructor(e){super({...e,triggerImpressionBasedOnHeight:!1}),this.bannerPlayerPlay=super.play;var t=this.campaignView.prebidAdUnitCode?"[prebid]":"";this.logger=carodaConsoleSafe.getInstanceLogger(`VideoFrameBannerPlayer[${this.campaignView.id}]`+t),this.logger.info(".constructor",e),this.containerElement.classList.add("carodaVideoFrameBannerOuterContainer"),this.campaignView.creativeSuggestedSize&amp;&amp;(t=`min(100%, ${this.campaignView.creativeSuggestedSize.w}px)`,this.logger.info(".constructor","setting min width",t),this.bannerContainerElement.style.minWidth=t,this.bannerContainerElement.style.minHeight="100%")}async play(){var e;if(this.logger.info(".actualPlay"),this.bannerPlayerPlay().catch(e=&gt;{this.playError=e}),this.resizeObserver=new ResizeObserver(()=&gt;{this.errorIfBannerOverflowsContainer()}),this.resizeObserver.observe(this.bannerElement),this.triggerEvent("rendered"),await Promise.race([this.waitForAdValid(),waitMs(3e3).then(()=&gt;{this.isAdValid()||null!=this.playError||(this.playError=new Error("waitForAdValid timeout"))})]),this.errorIfBannerOverflowsContainer(),this.playError)throw this.logger.info(".actualPlay","error",this.playError),this.playError;if(this.bannerContainerElement.classList.add("loaded"),null!=(e=this.bannerContainerElement.parentElement)&amp;&amp;e.classList.add("adLoaded"),this.containerElement.classList.add("loaded"),await waitFor(()=&gt;this.adEnded||this.isError()),this.playError)throw this.logger.info(".actualPlay","error",this.playError),this.playError;this.logger.info(".actualPlay","finished")}async fadeOut(){this.containerElement.classList.remove("loaded"),await waitMs(600)}getFormat(){var e=this.containerElement.clientWidth;let t=this.bannerElement.clientHeight;var r=getShortestAspectRatioThatFitsCreative({height:t=this.campaignView.creativeSuggestedSize?this.campaignView.creativeSuggestedSize.h:t,placementWidth:e});return this.logger.info(".getFormat",{creativeHeight:t,placementWidth:e,format:r}),r||"horizontal"}isEnded(){return this.adEnded}async waitForAdIndexed(){await waitFor(()=&gt;this.hadImpression||this.adEnded),this.logger.info(".waitForAdIndexed","ad indexed")}isError(){return!!this.playError}async unfreeze(e){this.logger.info(".unfreeze"),this.errorIfBannerOverflowsContainer(),this.isError()?this.logger.info(".unfreeze","error",this.playError):(this.hideNotFullyVisibleDirectChildren(),this.triggerImpressionOnce(),this.logger.info(".unfreeze","impression"),this.unfreezeCalledTimestamp=Date.now(),await Promise.race([waitMs(1e3*integrationConfig.bannerInSliderDurationSeconds()),waitFor(()=&gt;this.isError())]),this.logger.info(".unfreeze","ended"),this.onAdEnded())}renderReplayButton(){this.logger.info(".renderReplayButton","not supported")}getParentElement(){return this.containerElement}async waitForAdValid(){if(await waitFor(()=&gt;this.isAdValid()||this.isError()),this.isError())throw this.logger.info(".waitForAdValid","not valid",this.playError),this.playError;this.logger.info(".waitForAdValid","valid")}destroy(){this.logger.info(".destroy"),super.destroy(),this.containerElement.classList.remove("carodaVideoFrameBannerOuterContainer"),this.resizeObserver.disconnect(),clearInterval(this.progressInterval)}showUI(){this.logger.info(".showUI");var e=isNaN(this.unfreezeCalledTimestamp)?Date.now():this.unfreezeCalledTimestamp,e=Date.now()-e;this.logger.info(".showUI",{msElapsedSinceUnfreeze:e});const r={durationMs:1e3*integrationConfig.bannerInSliderDurationSeconds(),currentTimeMs:e,getPercentage:()=&gt;r.currentTimeMs/r.durationMs*100,isOver:()=&gt;r.currentTimeMs&gt;=r.durationMs};if(90&lt;=r.getPercentage())this.logger.info(".showUI","progress is over 90% already, won't show progress bar");else{const n=new ProgressBar({parent:this.containerElement}),i=new Timer({parent:this.containerElement,durationSeconds:integrationConfig.bannerInSliderDurationSeconds(),currentTimeSeconds:r.currentTimeMs/1e3});let t=Date.now();this.progressInterval=setInterval(()=&gt;{var e=Date.now()-t;t=Date.now(),r.currentTimeMs+=e,n.update({progressPercentage:r.getPercentage()}),i.update({currentTimeSeconds:r.currentTimeMs/1e3})},500)}}onAdEnded(){this.logger.info(".onAdEnded"),this.adEnded=!0,this.resizeObserver.disconnect()}passback(){this.logger.info(".passback"),this.playError=new Error("passback")}errorIfBannerOverflowsContainer(){this.bannerContainerElement.style.overflow="visible";var e=this.bannerElement.clientWidth&gt;this.containerElement.clientWidth,t=0&lt;this.containerElement.clientHeight&amp;&amp;this.bannerElement.clientHeight&gt;this.minHeightToConsiderLoaded&amp;&amp;this.bannerElement.clientHeight&gt;this.containerElement.clientHeight,e=e||t;delete this.bannerContainerElement.style.overflow,e&amp;&amp;(this.logger.info(".errorIfBannerOverflowsContainer","banner does not fit its container",{bannerElementSize:this.bannerElement.clientWidth+"x"+this.bannerElement.clientHeight,containerElementSize:this.containerElement.clientWidth+"x"+this.containerElement.clientHeight}),null==this.playError&amp;&amp;(this.playError=new Error("banner does not fit its container")))}async monitorImpression(e){}async hideNotFullyVisibleDirectChildren(){const e=()=&gt;this.bannerElement.querySelector(":scope &gt; *:not(.caroda-processed)");for(await waitFor(()=&gt;renderWindow.document.contains(this.bannerElement));renderWindow.document.contains(this.bannerElement);){await waitFor(()=&gt;!!e());const n=e();n.classList.add("caroda-processed"),new renderWindow.IntersectionObserver(e=&gt;{var t=e[0].intersectionRatio,r=.5&lt;=t?"visible":"hidden";this.logger.info(".hideNotFullyVisibleDirectChildren","setting visibility",{unprocessedDirectChild:n,intersectionRatio:t,visibility:r}),n.style.visibility=r},{root:this.bannerElement}).observe(n)}}getBannerElementWidth(){var e=this.bannerContainerElement.parentElement.clientWidth,t=null==(t=this.campaignView.creativeSuggestedSize)?void 0:t.w;return isNaN(t)?e:Math.min(e,t)}isAdValid(){return this.bannerElement.getBoundingClientRect().height&gt;this.minHeightToConsiderLoaded&amp;&amp;!this.isError()}}class VideoFrameGamBannerPlayer extends VideoFrameBannerPlayer{constructor({campaignView:e,containerElement:t,ignorePassbackAfterSeconds:r,trackingConfig:n}){var i=(e.gamBannerSizes||GAM_BANNER_ALL_SIZES).filter(e=&gt;"fluid"!==e).map(e=&gt;e.split("x").map(e=&gt;parseInt(e)));if(0===i.length)throw new Error("No valid sizes for the banner");super({campaignView:e,customBannerScript:`
        &lt;script
          async
          src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"
        &gt;&lt;/script&gt;
        &lt;div id="gpt-passback-outer-container"&gt;
          &lt;div id="gpt-passback" &gt;
            &lt;script&gt;
              // This is set to true if we get a fill and help us determine if the player has a valid ad to play
              window.carodaLoaded = false

              // This is the width of the ad rendered
              window.carodaAdWidth = undefined

              window.addEventListener('error', (event) =&gt; {
                try {
                  window.top.carodaConsole.error('VideoFrameGamBannerPlayer', 'iframe', 'window.onerror', {
                    type: event.type,
                    message: event.message,
                    filename: event.filename,
                    lineno: event.lineno,
                    colno: event.colno,
                    error: event.error,
                    srcElement: srcElementStringified,
                  });
                } catch (_error) {}
              });

              window.googletag = window.googletag || { cmd: [] };
              googletag.cmd.push(function () {
                googletag
                  .defineSlot(
                    '%GAM_BANNER_SLOT_ID%',
                    '%GAM_BANNER_SIZES%',
                    "gpt-passback"
                  )
                  .addService(googletag.pubads());
                googletag.enableServices();
                googletag.display("gpt-passback");
                googletag.pubads().addEventListener("slotRenderEnded", function (event) {
                  if (event.isEmpty) {
                    passbackToCaroda();
                  } else {
                    window.carodaLoaded = true
                    if (Array.isArray(event.size)) {
                      window.carodaAdWidth = event.size[0]
                    }
                  }
                });
                googletag.pubads().addEventListener("impressionViewable", function (event) {
                  registerImpressionInCaroda({ allowMultipleImpressions: false });
                });

                const events = [
                  'gameManualInterstitialSlotClosed',
                  'gameManualInterstitialSlotReady',
                  'impressionViewable',
                  'rewardedSlotClosed',
                  'rewardedSlotGranted',
                  'rewardedSlotReady',
                  'slotOnload',
                  'slotRenderEnded',
                  'slotRequested',
                  'slotResponseReceived',
                  'slotVisibilityChanged',
                ];
                events.forEach((eventName) =&gt; {
                  googletag.pubads().addEventListener(eventName, (event) =&gt; {
                    try {
                      window.top.carodaConsole.log('VideoFrameGamBannerPlayer', 'iframe', eventName, JSON.stringify(event));
                    } catch (_error) {}
                  });
                });
              });
            &lt;/script&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      `.replace("'%GAM_BANNER_SLOT_ID%'",JSON.stringify(e.gamBannerSlotId)).replace("'%GAM_BANNER_SIZES%'",JSON.stringify(i)),containerElement:t,globalConfigOverride:{},trackingConfig:n,unfreezePrecondition:()=&gt;!0,triggerImpressionBasedOnHeight:!1,ignorePassbackAfterSeconds:r}),this.logger=carodaConsoleSafe.getInstanceLogger(`VideoFrameGamBannerPlayer[${this.campaignView.id}]`),this.logger.info(".constructor",{campaignView:e,containerElement:t,ignorePassbackAfterSeconds:r,trackingConfig:n}),this.containerElement.classList.add("carodaVideoFrameGamBannerOuterContainer")}async unfreeze(e){this.logger.info(".unfreeze"),this.unfreezeCalledTimestamp=Date.now(),this.errorIfBannerOverflowsContainer(),await Promise.race([waitMs(1e3*integrationConfig.bannerInSliderDurationSeconds()),waitFor(()=&gt;this.isError())]),this.logger.info(".unfreeze","ended"),this.onAdEnded()}async waitForAdValid(){if(await waitFor(()=&gt;{var e;return(null==(e=this.getBannerIframeWindow())?void 0:e.carodaLoaded)||this.isError()}),this.errorIfBannerOverflowsContainer(),this.isError())throw this.logger.info(".waitForAdValid","not valid",this.playError),this.playError;this.logger.info(".waitForAdValid","valid"),this.bannerIframeElement.style.width=this.getBannerIframeWidth()+"px",this.triggerEvent("rendered")}isAdValid(){var e;return!(null==(e=this.getBannerIframeWindow())||!e.carodaLoaded||this.isError())}errorIfBannerOverflowsContainer(){this.unfreezeCalledTimestamp&amp;&amp;!isNaN(this.unfreezeCalledTimestamp)&amp;&amp;super.errorIfBannerOverflowsContainer()}getBannerIframeWidth(){var e=null==(e=this.getBannerIframeWindow())?void 0:e.carodaAdWidth;return isNaN(e)?this.bannerContainerElement.parentElement.clientWidth:e}getBannerIframeWindow(){var e;return null==(e=this.bannerIframeElement)?void 0:e.contentWindow}}function isSliderPlayer(e){return e instanceof SliderImaPlayer||e instanceof SliderVVPlayer||e instanceof VideoFrameBannerPlayer||e instanceof VideoFrameGamBannerPlayer}const w=renderWindow;class SmartclipPlayer{constructor({campaignView:e,containerElement:t,globalConfigOverride:r,trackingConfig:n={},secondsToConsiderPlayersFinished:i}){carodaConsoleSafe.info("SmartclipPlayer",".constructor",e.id),this.campaignView=e,this.trackingHooks=e.trackingHooks,this.containerElement=t,this.smartclipId=e.smartclipId,this.tracking=new Tracking(r,{...n,context:{...n.context||{},transactionId:e.transactionId},placementId:e.assetId,playerContainer:t}),this.secondsToConsiderPlayersFinished=i}async load(){carodaConsoleSafe.info("SmartclipPlayer",".load","redundant")}async play(){carodaConsoleSafe.info("SmartclipPlayer",".play");var e=Math.round(1e8*Math.random()),t="smartclip-"+e,r="smartclipscript-"+e,n=getConsentString();const i=renderDocument.createElement("div");let a=!1;i.id=t,i.className="carodaSmartclipContainer",waitFor(()=&gt;0&lt;i.children.length&amp;&amp;!!i.querySelector("video,iframe")||a).then(()=&gt;new Promise(e=&gt;setTimeout(e,500))).then(()=&gt;!a&amp;&amp;i.classList.add("loaded"));const o=this.containerElement;o.appendChild(i);t=`//des.smartclip.net/ads?type=dyn&amp;plc=${this.smartclipId}&amp;sz=400x320&amp;elementId=`+t+`&amp;ref=${encodeURIComponent(pageLocation.href)}&amp;rnd=${e}&amp;consent=`+n;carodaConsoleSafe.info("SmartclipPlayer",".play","adding script",t),this.trackBannerScriptExecution();const s=this.trackingHooks.filter(e=&gt;"impression"===e.VastEvent),l=this.tracking,c=this.campaignView;w.sc_smartIntxtStart=async function(){if(carodaConsoleSafe.info("SmartclipPlayer",".play","sc_smartIntxtStart"),await new Promise(e=&gt;setTimeout(e,500)),!a){l.trackTimeToLoad();const t={debug:JSON.stringify({adPlayer:"SmartclipPlayer",campaignId:c.id,device:targetingProfile.device()})};l.hitPlayerEvent("impression_other_players",["//smartclip.com","//smartclip.com"],void 0,"smartclip_unknown",void 0,void 0,t),s.forEach(e=&gt;l.hitTrackingUrl(e.TrackingUrl,!0,void 0,void 0,t)),i.classList.add("loaded")}};e=new Promise(async(e,t)=&gt;{w.sc_smartIntxtNoad=function(){carodaConsoleSafe.info("SmartclipPlayer",".play","sc_smartIntxtNoad"),a=!0,t(new Error("no ad"))},w.sc_smartIntxtEnd=function(){carodaConsoleSafe.info("SmartclipPlayer",".play","sc_smartIntxtEnd"),e()},this.secondsToConsiderPlayersFinished&amp;&amp;(await waitFor(()=&gt;isInVerticalView(this.containerElement)),setTimeout(e,1e3*this.secondsToConsiderPlayersFinished))});postscribe(this.containerElement,`
            &lt;script
                id="${r}"
                src="${t}"&gt;&lt;/script&gt;`),await e,a=!0}destroy(){carodaConsoleSafe.info("SmartclipPlayer",".destroy"),Array.from(this.containerElement.querySelectorAll("[id*=smartclip]")).forEach(e=&gt;{carodaConsoleSafe.info("SmartclipPlayer",".destroy",e),e.remove()})}getCampaignView(){return this.campaignView}getTracking(){return this.tracking}trackBannerScriptExecution(){var e=this.trackingHooks.find(e=&gt;"caroda_banner_script_execution"===e.VastEvent);e&amp;&amp;this.tracking.hitTrackingUrl(e.TrackingUrl)}}class VideoSliderAdPlayer extends EventTarget{constructor({fetchAdPlayer:e,resetAds:t,parentElement:r,globalConfigOverride:n={},opts:i,placementId:a,retryAfterLearnMore:o=!0}){super(),this.logger=carodaConsoleSafe.getInstanceLogger("VideoSliderAdPlayer"),this.logger.info(".constructor",i),this.campaignView=void 0,this.hasPlayed=!1;var s=Array.isArray(a)?a[0]:a;this.tracking=new Tracking(n,{...i.trackingConfig||{},placementId:s}),this.fetchAdPlayer=e,this.parentElement=r,this.opts=i,this.preloadedPlayers=[],this.isFinished=!1,this.isSingleAd=i.isSingleAd,this.endingStatePromise=new Promise(e=&gt;{this.endingStateResolve=e}),this.retryAfterLearnMore=o,this.resetAds=t}async load(){this.logger.info(".load");var e=renderDocument.createElement("div"),t=(0&lt;this.parentElement.children.length?this.parentElement.insertBefore(e,this.parentElement.children[1]):this.parentElement.appendChild(e),this.logger.info(".load","fetching ad player"),this.opts.aspectRatio?getAspectRatioValue(this.opts.aspectRatio):void 0),{adPlayer:e,isExpired:t}=await this.fetchAdPlayer({containerElement:e,onPlayerReady:e=&gt;mergeTrackingContext(this.tracking,e),aspectRatio:this.opts.forceAspectRatio||t,previousPlayPromise:this.previousPlayPromise||Promise.resolve()});if(t&amp;&amp;this.setEndingState("repeatedAds"),!e)return this.logger.info(".load","no player to fetch"),void(0===this.preloadedPlayers.length&amp;&amp;(this.isFinished=!this.retryAfterLearnMore,this.activePlayer||this.setEndingState("noAds")));if(this.activePlayer instanceof VideoFrameBannerPlayer&amp;&amp;this.activePlayer.showUI(),this.parentElement.classList.add("adLoaded"),!isSliderPlayer(e)){if(this.logger.info(".load","got 3rd party player",e),this.triggerEvent("playAdPlayer",e),e instanceof BannerPlayer){const n=e;this.setEndingState(n.usesPassback()?"bannerWithPassback":"banner")}else this.setEndingState("thirdPartyPlayer");await waitFor(()=&gt;!1)}const r=e;this.opts.aspectRatio=this.opts.aspectRatio||r.getFormat(),this.firstAdFormat||this.initializeFirstAdFormat(this.opts.aspectRatio),this.prepareContainer(),this.logger.info(".load","got player"),this.preloadedPlayers.push(r)}async play(){this.logger.info(".play");let t,e=(this.playPromise=new Promise(e=&gt;{t=e}),this.load()),r=!0,n=!1;for(;!this.isFinished&amp;&amp;(this.logger.info(".play","wait for preloaded frame"),await Promise.race([e,waitFor(()=&gt;this.isFinished)]),null!=(i=this.spinner)&amp;&amp;i.hide(),!this.isFinished);){const s=this.preloadedPlayers.shift();var i=this.activePlayer&amp;&amp;this.activePlayer instanceof ImaPlayer||this.activePlayer instanceof VideoFrameBannerPlayer;if(this.logger.info(".play",{activePlayer:s}),!s){if(this.retryAfterLearnMore&amp;&amp;i){if(Date.now()-this.lastPlayedAdTimestamp&gt;=1e3*integrationConfig.sliderRetryMaxTimeSeconds()){this.setEndingState("noAds"),this.isFinished=!0;break}n=!0,await waitFor(()=&gt;this.activePlayer.isEnded()),this.activePlayer.renderReplayButton(),this.logger.info(".play","waiting before retrying",{retryAfterLearnMore:this.retryAfterLearnMore}),await waitMs(1e3*integrationConfig.sliderRetryAfterLearnMoreSeconds()),this.resetAds(),e=this.load(),n=!1;continue}this.isFinished=!0;break}this.activePlayer=s,this.logger.info(".play","unfreeze active ad frame");const l=()=&gt;isInVerticalView(this.parentElement)&amp;&amp;!isHidden(this.parentElement)&amp;&amp;!isBrowserHidden()&amp;&amp;!isThere3rdPartyFullscreen(this.parentElement);await waitFor(()=&gt;l()||this.activePlayer.isEnded());var a=this.opts.expiry&amp;&amp;this.opts.expiry.getTime()&lt;Date.now();r||a||this.isSingleAd||this.tracking.hitPlayerEvent("outstream_slider_impression_opportunity",void 0,void 0,void 0,void 0,s.getCampaignView().assetId),this.activePlayer.waitForAdIndexed().then(()=&gt;{this.logger.info(".play","start loading next ad"),this.hasPlayed=this.hasPlayed||!this.activePlayer.isError(),r&amp;&amp;this.activePlayer.isError()?(this.logger.info(".play","first run failed","aborting"),this.isFinished=!0):(this.impression=!0,r=!1,e=this.load())}),waitFor(()=&gt;s.isEnded()).then(()=&gt;{if(this.logger.info(".play",s.getCampaignView().id,"ended"),this.spinner.show(),s.isError())return this.logger.info(".play",s.getCampaignView().id,"errored"),void this.removeSliderPlayer(s);this.lastSuccessfulPlayer&amp;&amp;this.removeSliderPlayer(this.lastSuccessfulPlayer),this.lastSuccessfulPlayer=s}),this.triggerEvent("playAdPlayer",this.activePlayer),null!=(a=this.lastSuccessfulPlayer)&amp;&amp;a.fadeOut().then(()=&gt;{this.isFinished||n||(this.logger.info(".play","hide last ad frame"),this.hideSliderPlayer(this.lastSuccessfulPlayer))}),this.lastPlayedAdTimestamp=Date.now(),this.connectTo(this.activePlayer),this.previousPlayPromise=this.activePlayer.unfreeze({userInitiated:!1,unmute:!1}),await this.previousPlayPromise,iterateWaiters()}if(this.quickExit)return this.destroy(),void t();this.makeSpacerTransparent();let o=!1;(o=this.hasPlayed&amp;&amp;!this.opts.disableReplayButton?this.renderReplayButton():o)&amp;&amp;this.lastSuccessfulPlayer instanceof ImaPlayer?this.setEndingState("learnMore"):(this.setEndingState("noAds"),o||this.lastSuccessfulPlayer instanceof VideoFrameBannerPlayer||this.destroy()),t()}getActivePlayer(){return this.activePlayer}destroy(){this.logger.info(".destroy");try{this.parentElement.innerHTML="",this.parentElement.classList.remove("adLoaded","carodaOutstreamSlider","format-"+this.firstAdFormat)}catch(e){this.logger.error(".destroy",e)}}async destroyAfterCurrentAd(){this.logger.info(".destroyAfterCurrentAd"),this.quickExit=!0,this.isFinished=!0,await this.playPromise,this.logger.info(".destroyAfterCurrentAd","done")}getCampaignView(){return this.campaignView}getTracking(){return this.tracking}onNextAdPlayer(e){if(isSliderPlayer(e)){const n=e;if(!(n instanceof VideoFrameBannerPlayer)&amp;&amp;this.firstAdFormat){var t=this.firstAdFormat,r=n.getFormat();if(!canFitCreative({creativeAspectRatio:r,placementAspectRatio:t}))throw new Error(`Ad (${r}) does not fit placement format (${t})`)}}}hadImpression(){return this.impression}async waitForEndingState(){return this.endingStatePromise}getEndingState(){return this.endingState}prepareContainer(){this.parentElement.classList.contains("carodaOutstreamSlider")||(this.parentElement.classList.add("carodaOutstreamSlider"),this.spacer=renderDocument.createElement("div"),0&lt;this.parentElement.children.length?this.parentElement.insertBefore(this.spacer,this.parentElement.children[0]):this.parentElement.appendChild(this.spacer),this.spacer.className="sliderSpacer sliderSpacer-"+(this.opts.aspectRatio||"horizontal").replace(":","-"),this.opts.forceAspectRatio&amp;&amp;(this.spacer.style.paddingTop=(1/this.opts.forceAspectRatio*100).toFixed()+"% !important"),this.spinner=new Spinner(this.spacer,"caroda-slider-spinner"))}initializeFirstAdFormat(e){this.logger.info(".initializeFirstAdFormat",e),this.firstAdFormat=e,this.parentElement.classList.add("format-"+e);var t=this.parentElement.clientWidth&lt;300;this.parentElement.classList.add("format-"+(t?"small":"big"))}renderReplayButton(){var e;return this.logger.info(".renderReplayButton"),this.lastSuccessfulPlayer?(null!=(e=null==(e=this.parentElement.querySelector(".adLoaded"))?void 0:e.firstElementChild)&amp;&amp;e.classList.add("loaded"),this.showSliderPlayer(this.lastSuccessfulPlayer),this.lastSuccessfulPlayer.renderReplayButton(),!0):(this.logger.info(".renderReplayButton","no last successful player"),!1)}makeSpacerTransparent(){this.spacer&amp;&amp;this.spacer.classList.add("transparent")}removeSliderPlayer(e){const t=e.getParentElement();e.destroy(),t.remove()}hideSliderPlayer(e){e&amp;&amp;(e.getParentElement().classList.add("carodaHidden"),e.getParentElement().style.visibility="hidden")}showSliderPlayer(e){e.getParentElement().classList.remove("carodaHidden"),e.getParentElement().style.visibility="visible"}setEndingState(e){this.logger.info(".setEndingState",e),this.endingState=e,this.endingStateResolve(e)}}function arrayEach$1(e,t){for(var r=-1,n=null==e?0:e.length;++r&lt;n&amp;&amp;!1!==t(e[r],r,e););return e}var _arrayEach=arrayEach$1,getNative=_getNative,defineProperty$1=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),_defineProperty=defineProperty$1,defineProperty=_defineProperty;function baseAssignValue$2(e,t,r){"__proto__"==t&amp;&amp;defineProperty?defineProperty(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _baseAssignValue=baseAssignValue$2,baseAssignValue$1=_baseAssignValue,eq=eq_1,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function assignValue$2(e,t,r){var n=e[t];hasOwnProperty$2.call(e,t)&amp;&amp;eq(n,r)&amp;&amp;(void 0!==r||t in e)||baseAssignValue$1(e,t,r)}var _assignValue=assignValue$2,assignValue$1=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$4(e,t,r,n){for(var i=!r,a=(r=r||{},-1),o=t.length;++a&lt;o;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&amp;&amp;(l=e[s]),(i?baseAssignValue:assignValue$1)(r,s,l)}return r}var _copyObject=copyObject$4,copyObject$3=_copyObject,keys$1=keys_1;function baseAssign$1(e,t){return e&amp;&amp;copyObject$3(t,keys$1(t),e)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var _nativeKeysIn=nativeKeysIn$1,isObject$5=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeysIn$1(e){if(!isObject$5(e))return nativeKeysIn(e);var t,r=isPrototype$1(e),n=[];for(t in e)("constructor"!=t||!r&amp;&amp;hasOwnProperty$1.call(e,t))&amp;&amp;n.push(t);return n}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$3(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var keysIn_1=keysIn$3,copyObject$2=_copyObject,keysIn$2=keysIn_1;function baseAssignIn$1(e,t){return e&amp;&amp;copyObject$2(t,keysIn$2(t),e)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}},_cloneBufferExports=(_cloneBuffer.exports,!function(e,t){var r=t&amp;&amp;!t.nodeType&amp;&amp;t,n=r&amp;&amp;e&amp;&amp;!e.nodeType&amp;&amp;e,n=n&amp;&amp;n.exports===r?_root.Buffer:void 0,i=n?n.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,r=i?i(r):new e.constructor(r);return e.copy(r),r}}(_cloneBuffer,_cloneBuffer.exports),_cloneBuffer.exports);function copyArray$1(e,t){var r=-1,n=e.length;for(t=t||Array(n);++r&lt;n;)t[r]=e[r];return t}var _copyArray=copyArray$1,copyObject$1=_copyObject,getSymbols$1=_getSymbols;function copySymbols$1(e,t){return copyObject$1(e,getSymbols$1(e),t)}var _copySymbols=copySymbols$1,overArg=_overArg,getPrototype$2=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$2,arrayPush=_arrayPush,getPrototype$1=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(e){for(var t=[];e;)arrayPush(t,getSymbols(e)),e=getPrototype$1(e);return t}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(e,t){return copyObject(e,getSymbolsIn$1(e),t)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$1=keysIn_1;function getAllKeysIn$1(e){return baseGetAllKeys(e,keysIn$1,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray$1(e){var t=e.length,r=new e.constructor(t);return t&amp;&amp;"string"==typeof e[0]&amp;&amp;hasOwnProperty.call(e,"index")&amp;&amp;(r.index=e.index,r.input=e.input),r}var _initCloneArray=initCloneArray$1,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(e){var t=new e.constructor(e.byteLength);return new Uint8Array$1(t).set(new Uint8Array$1(e)),t}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(e,t){var r=t?cloneArrayBuffer$2(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var _cloneRegExp=cloneRegExp$1,Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$1(e,t){var r=t?cloneArrayBuffer$1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(e,t,r){var n=e.constructor;switch(t){case arrayBufferTag$1:return cloneArrayBuffer(e);case boolTag$1:case dateTag$1:return new n(+e);case dataViewTag$1:return cloneDataView(e,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(e,r);case mapTag$2:return new n;case numberTag$1:case stringTag$1:return new n(e);case regexpTag$1:return cloneRegExp(e);case setTag$2:return new n;case symbolTag$1:return cloneSymbol(e)}}var _initCloneByTag=initCloneByTag$1,isObject$4=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function r(){}return function(e){if(!isObject$4(e))return{};if(objectCreate)return objectCreate(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype=_getPrototype,isPrototype=_isPrototype;function initCloneObject$1(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(getPrototype(e))}var _initCloneObject=initCloneObject$1,getTag$2=_getTag,isObjectLike$1=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(e){return isObjectLike$1(e)&amp;&amp;getTag$2(e)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&amp;&amp;nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(e){return isObjectLike(e)&amp;&amp;getTag$1(e)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&amp;&amp;nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBufferExports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray=isArray_1,isBuffer=isBufferExports,isMap=isMap_1,isObject$3=isObject_1,isSet=isSet_1,keys=keys_1,keysIn=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};function baseClone$1(r,n,i,e,t,a){var o,s=n&amp;CLONE_DEEP_FLAG$1,l=n&amp;CLONE_FLAT_FLAG,c=n&amp;CLONE_SYMBOLS_FLAG$1;if(void 0!==(o=i?t?i(r,e,t,a):i(r):o))return o;if(!isObject$3(r))return r;var d=isArray(r);if(d){if(o=initCloneArray(r),!s)return copyArray(r,o)}else{var u=getTag(r),p=u==funcTag||u==genTag;if(isBuffer(r))return cloneBuffer(r,s);if(u==objectTag||u==argsTag||p&amp;&amp;!t){if(o=l||p?{}:initCloneObject(r),!s)return l?copySymbolsIn(r,baseAssignIn(o,r)):copySymbols(r,baseAssign(o,r))}else{if(!cloneableTags[u])return t?r:{};o=initCloneByTag(r,u,s)}}p=(a=a||new Stack).get(r);if(p)return p;a.set(r,o),isSet(r)?r.forEach(function(e){o.add(baseClone$1(e,n,i,e,r,a))}):isMap(r)&amp;&amp;r.forEach(function(e,t){o.set(t,baseClone$1(e,n,i,t,r,a))});var h=d?void 0:(c?l?getAllKeysIn:getAllKeys:l?keysIn:keys)(r);return arrayEach(h||r,function(e,t){h&amp;&amp;(e=r[t=e]),assignValue(o,t,baseClone$1(e,n,i,t,r,a))}),o}cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var _baseClone=baseClone$1,baseClone=_baseClone,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep,cloneDeep$1=getDefaultExportFromCjs(cloneDeep_1),OverrideSkipBehavior;let globalAdResets=0;const defaultPlayedCreatives={map:{},queue:[],failed:[],resets:0},persistentPlayedCreatives=getPersistentState("playedCreatives",defaultPlayedCreatives);class CampaignExpandedView{constructor(){this.cpmEur=0}videoAspectRatioValue(){return this.vastContentAspectRatio?getAspectRatioValue(this.vastContentAspectRatio):null}throwIfRepeated(e){var t=e||this.vastContent;t&amp;&amp;throwIfVastRepeated(this.adsGroup,t)}hasFailedPreviously(){const e=getVastHashes(this.adsGroup,this.vastContent);return e.some(e=&gt;-1!==persistentPlayedCreatives.failed.indexOf(e))}shouldRun(){if(!this.maximumAdLength)return!!1;var e=getCreativeMetadata(this.vastContent);return!(e.durationSeconds&gt;=this.maximumAdLength&amp;&amp;(carodaConsoleSafe.info(".isCappedByMaximumAdDuration",e.durationSeconds,this.maximumAdLength),!0))}markAsViewed(e){var t=e||this.vastContent;if(t){const r=getVastHashes(this.adsGroup,t);r.forEach(e=&gt;{persistentPlayedCreatives.map[e]=this.clone()}),"doubleclick"!==this.type&amp;&amp;-1===persistentPlayedCreatives.queue.indexOf(r[0])&amp;&amp;-1===persistentPlayedCreatives.failed.indexOf(r[0])&amp;&amp;persistentPlayedCreatives.queue.push(r[0])}}markAsFailed(){if(this.expire&amp;&amp;this.expire().catch(e=&gt;carodaConsoleSafe.error("CampaignExpandedView.markAsFailed",e)),this.vastContent){const e=getVastHashes(this.adsGroup,this.vastContent);persistentPlayedCreatives.failed.push(...e),"doubleclick"!==this.type&amp;&amp;e.forEach(e=&gt;{var t=persistentPlayedCreatives.queue.indexOf(e);-1!==t&amp;&amp;persistentPlayedCreatives.queue.splice(t,1)})}}reset(){this.adsGroup+=Math.floor(10*Math.random())}clone(){const e=cloneDeep$1(this);return delete e.expire,e}}function getRepeatedAsset(r){if(!integrationConfig.disableRepeatedAds()){var e=persistentPlayedCreatives.queue.findIndex(e=&gt;{var t=persistentPlayedCreatives.map[e];return 0&lt;=r.indexOf(t.assetId)});if(-1!==e){e=persistentPlayedCreatives.queue.splice(e,1)[0];persistentPlayedCreatives.queue.push(e);const t=Object.assign(new CampaignExpandedView,persistentPlayedCreatives.map[e]);return t.vastContentAspectRatio=null,t}}}function throwIfVastRepeated(e,t){const r=getVastHashes(e,t);if(r.some(e=&gt;persistentPlayedCreatives.map[e]))throw carodaConsoleSafe.info("CampaignExpandedView",".throwIfVastRepeated","asset repeated",t),new Error("asset repeated "+t)}function getVastHashes(e,t){var r=t.match(/http[^\]&gt;&lt;]+\.(mp[34]|wav|webm)/i);const n=[];return n.push(stringHash(e+t)),r&amp;&amp;n.push(stringHash(e+r[0])),carodaConsoleSafe.info("CampaignExpandedView","getVastHashes",e,n),n}function resetGlobalAdsGroup(){persistentPlayedCreatives.map={},persistentPlayedCreatives.queue=[],persistentPlayedCreatives.failed=[],persistentPlayedCreatives.resets++}function buildPriorityChain(e,t,r){const n=mapCampaignsByPriorities(e);return Object.keys(n).map(parseFloat).sort((e,t)=&gt;e-t).map(e=&gt;buildPriorityChainBlock(e,n[e],t,r))}async function waitForPriorityChainBlock(n){const e=await Promise.all(n.entries.map(({expandedCampaignsPromise:e})=&gt;e)),t=flatMap$1(e.map(({error:e,expandedCampaigns:t},r)=&gt;{if(!e)return t;if(e.isBlockError)throw e;return carodaConsoleSafe.info("PriorityChain",".waitForPriorityChainBlock",n.entries[r].campaignViewId,e.message,e.stack),[]}));return t.sort(sortCampaignsByCpm)}function mapCampaignsByPriorities(e){return e.reduce((e,t)=&gt;({...e,[t.priority]:[...e[t.priority]||[],t]}),{})}function buildPriorityChainBlock(e,t,r,n){return{entries:t.map(e=&gt;buildPriorityChainBlockEntry(e,r,n)),priority:e}}function buildPriorityChainBlockEntry(e,t,r){var n=e.getExpandedCached(t.playerInfo,t.shouldExcludeRepeated,t.adsGroup,t.allowNonSliderPlayers,t.allowCaching,t.vastMacroContext,t.adLoadTimeout,t.bannerSizeConfig).then(async e=&gt;{const t=e;return await Promise.all(t.map(async e=&gt;{e.adPlayer=await r(e)})),{expandedCampaigns:t}}).catch(e=&gt;({expandedCampaigns:[],error:e}));return{campaignViewId:e.id,expandedCampaignsPromise:n}}function sortCampaignsByCpm(e,t){return t.cpmEur-e.cpmEur}const MIN_GAP_BETWEEN_GAM_BANNER_REQUESTS_MS=3e4;class AdPlayerLoader{constructor(e,t={},r){var n;this.adsGroup=""+Math.floor(1e6*Math.random()),this.campaignIdToLastSliderPlayTime={},this.logger=carodaConsoleSafe.getInstanceLogger("AdPlayerLoader"),this.logger.info(".constructor"),this.preprocessCampaignViews(e),this.options={disableGamBannerAutoRefresh:!1,...t},this.options.sliderExpiryInSeconds=this.options.sliderExpiryInSeconds||integrationConfig.defaultSliderExpiryInSeconds(),this.options.expiry=new Date(Date.now()+1e3*this.options.sliderExpiryInSeconds),this.options.playerInfo=this.options.playerInfo||{plcmt:()=&gt;"standalone",autoplay:!0},null==(n=this.options.playerInfo).plcmt&amp;&amp;(n.plcmt=()=&gt;"standalone"),this.waitForPromise=this.options.waitForPromise||Promise.resolve(),this.globalConfigOverride=r,this.logger.info(".constructor",{self:this})}async loadOutstreamAdSlot(e,n=()=&gt;{}){return this.logger.info(".loadOutstreamAdSlot"),this.getAdPlayer({containerElement:e,onPlayerReady:async e=&gt;{n(e);var t=e.play(),r=e instanceof VVPlayer||e instanceof ImaPlayer?e.unfreezeWhenInView():Promise.resolve();await Promise.all([t,r])},type:"outstream"})}loadOutstreamSliderAdSlot(e,{supportBannerInSlider:l,isSingleAd:c=!1,onPlayerReady:d=()=&gt;{},useRepeatedAds:u=!0,retryAfterLearnMore:t=!0,playerDimensions:p}={supportBannerInSlider:!0}){this.logger.info(".loadOutstreamSliderAdSlot",{isSingleAd:c,useRepeatedAds:u});let h=globalAdResets,g=!0;const m=new VideoSliderAdPlayer({fetchAdPlayer:async({containerElement:e,onPlayerReady:r=()=&gt;{},aspectRatio:t,previousPlayPromise:n})=&gt;{var i=async e=&gt;{if(r(e),d(e),this.campaignIdToLastSliderPlayTime[e.getCampaignView().id]=Date.now(),isSliderPlayer(e)){const t=e;e instanceof VideoFrameBannerPlayer&amp;&amp;await n,t.play().catch(e=&gt;this.logger.warn(".loadOutstreamSliderAdSlot","could not play slider",e)),await t.waitForAdValid()}else await e.play();m.onNextAdPlayer(e)},a=this.options.expiry&amp;&amp;this.options.expiry.getTime()&lt;Date.now();let o;var s=globalAdResets!==h,s=g||!c||s||!u;return h=globalAdResets,!a&amp;&amp;s&amp;&amp;(this.logger.info(".loadOutstreamSliderAdSlot","fetch new ad"),o=await this.getAdPlayer({supportBannerInSlider:l,containerElement:e,onPlayerReady:i,type:g?"outstream-slider-mixed":"outstream-slider",useRepeatedAds:u,forceAspectRatio:t,playerDimensions:p})),!o&amp;&amp;u&amp;&amp;(this.logger.info(".loadOutstreamSliderAdSlot","no new ad available, repeating",{isSingleAd:c,slideAdPlayer:o,isExpired:a}),o=await this.getAdPlayer({supportBannerInSlider:l,containerElement:e,onPlayerReady:i,type:"outstream-slider-untracked",useRepeatedAds:u,playerDimensions:p})),g=!1,{adPlayer:o,isExpired:a}},resetAds:()=&gt;{this.adsGroup=""+Math.floor(1e6*Math.random())},parentElement:e,globalConfigOverride:this.globalConfigOverride,opts:{...this.options,isSingleAd:c},placementId:this.assetIds,retryAfterLearnMore:t});return this.activePlayer=m}preprocessCampaignViews(e){this.campaignViews=e.sort(orderByPriority),this.assetIds=this.getUniqueAssetIds(),integrationConfig.disableAds()&amp;&amp;(this.logger.info(".constructor","ads disabled by integration"),this.campaignViews=[])}getCampaignViewOpportunities(e){var{type:t,containerElement:r}=e,n=e&amp;&amp;e.adSlot,r=e.playerDimensions||getPlayerDimensions(r);const i={adSlot:n,playerInfo:{...null==(n=null==this?void 0:this.options)?void 0:n.playerInfo,...r}};return 0===e.ima&amp;&amp;(i.playerInfo.ima=0),this.getPriorityChain(t,i,e)}async getAdPlayerFromCampaignViewOpportunities(e,r){this.logger.info(".getAdPlayerFromCampaignViewOpportunities",r);const n=r.onPlayerReady||(e=&gt;e.play());return this.processExpandedCampaignViewOpportunities(e,async e=&gt;{let t=e.adPlayer;try{return t=t||await this.getAdPlayerFromCampaignExpandedView(e,r),this.activePlayer=t,await n(t),t}catch(e){return this.logger.info(".getAdPlayerFromCampaignViewOpportunities","skipped player",e.message,e),t&amp;&amp;t.destroy(),null}})}async processExpandedCampaignViewOpportunities(e,t){this.logger.info(".processExpandedCampaignViewOpportunities");for(const n of e)try{for(const i of await waitForPriorityChainBlock(n)){this.logger.info(".processExpandedCampaignViewOpportunities","processing",i);var r=await t(i);if(r)return this.destroyPreloadedPlayers(e,r),r}}catch(e){if(e.isBlockError){this.logger.info(".processExpandedCampaignViewOpportunities","block",e.message,e.stack);break}}return this.destroyPreloadedPlayers(e,null),null}async getAdPlayer(e){this.logger.info(".getAdPlayer",e);var t=this.getCampaignViewOpportunities(e);return this.getAdPlayerFromCampaignViewOpportunities(t,e)}getPriorityChain(e,t,r){this.logger.info(".getPriorityChain",{type:e,opts:t,adPlayerBuildOptions:r});const n=t.adSlot&amp;&amp;t.adSlot.campaigns;var i=-1!==["outstream-slider","outstream-slider-mixed","outstream-slider-untracked"].indexOf(e),a=i,o=-1===["outstream-slider","outstream-slider-untracked"].indexOf(e);if("outstream-slider-untracked"===e)return l=getRepeatedAsset(this.assetIds),this.logger.info(".getPriorityChain",{repeatedAsset:l}),l?[{entries:[{campaignViewId:l.id,expandedCampaignsPromise:Promise.resolve({expandedCampaigns:[l]})}],priority:l.priority}]:[];const s=this.campaignViews.filter(e=&gt;!n||-1!==n.indexOf(e.id)).filter(e=&gt;"gam-banner"!==e.type||!this.campaignIdToLastSliderPlayTime[e.id]||this.campaignIdToLastSliderPlayTime[e.id]+MIN_GAP_BETWEEN_GAM_BANNER_REQUESTS_MS&lt;Date.now());this.logger.info(".getPriorityChain","expanding campaign views",s.map(e=&gt;e.id));var l=!1!==this.options.allowCaching&amp;&amp;"outstream-slider"!==e,i=i&amp;&amp;r.supportBannerInSlider?this.adjustBannerSizeConfig({bannerSizeConfig:this.options.bannerSizeConfig,playerWidth:t.playerInfo.playerWidth||r.containerElement.clientWidth,playerAspectRatio:r.forceAspectRatio}):this.options.bannerSizeConfig;return buildPriorityChain(s,{adLoadTimeout:integrationConfig.adLoadTimeout(),adsGroup:t.adSlot&amp;&amp;t.adSlot.adsGroup||this.adsGroup,allowNonSliderPlayers:o,allowCaching:l,bannerSizeConfig:i,playerInfo:this.getPlayerInfoForPriorityChain(t.playerInfo),shouldExcludeRepeated:a,vastMacroContext:r.trackingConfig?r.trackingConfig.context:{}},async e=&gt;"doubleclick"===e.type?this.getAdPlayerFromCampaignExpandedView(e,r):null)}getPlayerInfoForPriorityChain(e){return e}async getAdPlayerFromCampaignExpandedView(e,t){var{type:r,containerElement:n,useRepeatedAds:i=!0,supportBannerInSlider:a}=t,o=(this.logger.info(".getAdPlayer",r),-1!==["outstream-slider","outstream-slider-mixed","outstream-slider-untracked"].indexOf(r)),i=!i||o&amp;&amp;"outstream-slider-untracked"!==r;if("outstream"===r)return this.getOutstreamAdLoader(e,n);if(o)return this.getOutstreamSliderAdLoader({supportBannerInSlider:a,allow3rdPartyPlayer:"outstream-slider-mixed"===r,campaignView:e,containerElement:n,forceAspectRatio:t.forceAspectRatio,isFirstRun:"outstream-slider-mixed"===r,shouldExcludeRepeated:i,trackingConfig:t.trackingConfig,trackingEnabled:"outstream-slider-untracked"!==r});throw new Error("unrecognized type "+r)}async getOutstreamAdLoader(e,t,r){var n;return this.logger.info(".getOutstreamAdLoader"),"teads"===e.type?(n={campaignView:e,globalConfigOverride:this.globalConfigOverride,parentElement:t,secondsToConsiderPlayersFinished:this.options.secondsToConsiderThirdPartyPlayersFinished,trackingConfig:r},new(DemoTeadsPlayer.isDemoTeadsTag(e.teadsScriptUrl)?DemoTeadsPlayer:TeadsPlayer)(n)):"smartclip"===e.type?new SmartclipPlayer({campaignView:e,containerElement:t,globalConfigOverride:this.globalConfigOverride,secondsToConsiderPlayersFinished:this.options.secondsToConsiderThirdPartyPlayersFinished,trackingConfig:r}):"banner"===e.type?new BannerPlayer({campaignView:e,containerElement:t,globalConfigOverride:this.globalConfigOverride,ignorePassbackAfterSeconds:this.options.ignorePassbackAfterSeconds,trackingConfig:r,unfreezePrecondition:this.options.unfreezePrecondition}):"gam-banner"===e.type?new GamBannerPlayer({campaignView:e,containerElement:t,trackingConfig:r,disableAutoRefresh:this.options.disableGamBannerAutoRefresh,ignorePassbackAfterSeconds:this.options.ignorePassbackAfterSeconds}):"doubleclick"===e.type?(e.sspUrl&amp;&amp;e.sspUrl.match(/smartadserver\.com/)&amp;&amp;await waitFor(()=&gt;isInVerticalView(t)),new ImaPlayer({campaignView:e,clickThroughUrlBlacklistGlobs:null==(n=libraryWindow.carodaIntegrationRecord)?void 0:n.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:{...this.options,trackingConfig:r},parentElement:t,shouldExcludeRepeated:!1})):"aniview"===e.type?new AniviewPlayer({campaignView:e,globalConfigOverride:this.globalConfigOverride,parentElement:t,secondsToConsiderPlayersFinished:this.options.secondsToConsiderThirdPartyPlayersFinished,trackingConfig:r}):new VVPlayer({campaignView:e,clickThroughUrlBlacklistGlobs:null==(n=libraryWindow.carodaIntegrationRecord)?void 0:n.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:{...this.options,trackingConfig:r},parentElement:t,shouldExcludeRepeated:!1})}async getOutstreamSliderAdLoader({supportBannerInSlider:e,campaignView:t,containerElement:r,trackingEnabled:n,allow3rdPartyPlayer:i,isFirstRun:a,forceAspectRatio:o,trackingConfig:s,shouldExcludeRepeated:l}){var c="banner"===t.type&amp;&amp;t.prebidAdUnitCode,d=c&amp;&amp;(null==(d=t.bannerScript)?void 0:d.includes("a.teads.tv/hb/ad/")),c=e?["teads","smartclip","aniview"].includes(t.type)||"banner"===t.type&amp;&amp;(!c||d):usesExternalPlayer(t.type);if(this.logger.info(".getOutstreamSliderAdLoader",{campaignViewId:t.id,allow3rdPartyPlayer:i,is3rdPartyPlayer:c,isFirstRun:a,trackingEnabled:n}),c){if(i)return this.getOutstreamAdLoader(t,r,s);throw new Error(t.type+" incompatible with outstream slider")}return"doubleclick"===t.type?new SliderImaPlayer({campaignView:t,clickThroughUrlBlacklistGlobs:null==(d=libraryWindow.carodaIntegrationRecord)?void 0:d.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:{...this.options,trackAsSlider:!a,trackingConfig:s},parentElement:r,shouldExcludeRepeated:l}):"banner"===t.type?new VideoFrameBannerPlayer({campaignView:t,containerElement:r,globalConfigOverride:this.globalConfigOverride,ignorePassbackAfterSeconds:this.options.ignorePassbackAfterSeconds,trackingConfig:s,unfreezePrecondition:this.options.unfreezePrecondition}):"gam-banner"===t.type?new VideoFrameGamBannerPlayer({campaignView:t,containerElement:r,ignorePassbackAfterSeconds:this.options.ignorePassbackAfterSeconds,trackingConfig:s}):new SliderVVPlayer({campaignView:t,clickThroughUrlBlacklistGlobs:null==(c=libraryWindow.carodaIntegrationRecord)?void 0:c.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:{forceAspectRatio:o,trackAsSlider:!a,trackingConfig:s,trackingEnabled:n,...this.options},parentElement:r,shouldExcludeRepeated:l})}getUniqueAssetIds(){return Array.from(new Set(this.campaignViews.map(e=&gt;e.assetId)))}destroyPreloadedPlayers(e,t){const r=e=&gt;e.adPlayer,n=e=&gt;e&amp;&amp;e.destroy(),i=e=&gt;e===t;e.forEach(async t=&gt;{try{const e=await waitForPriorityChainBlock(t);e.map(r).filter(not(i)).forEach(n)}catch(e){this.logger.error(".destroyPreloadedPlayers",t,e)}})}adjustBannerSizeConfig({bannerSizeConfig:e={},playerWidth:t,playerAspectRatio:r}){const n={...e};this.logger.info(".adjustBannerSizeConfig",{playerWidth:t,playerAspectRatio:r,bannerSizeConfig:e});var i=e.maxHeight||1e7;return n.maxWidth=Math.min(t,e.maxWidth||1e7),533&lt;t?(this.logger.info(".adjustBannerSizeConfig","considering 16:9"),n.maxHeight=Math.min(t/16*9,i)):300&lt;t?(this.logger.info(".adjustBannerSizeConfig","considering 300px tall"),n.maxHeight=Math.min(300,i)):(this.logger.info(".adjustBannerSizeConfig","considering 1:1"),n.maxHeight=Math.min(t,i)),r&amp;&amp;(this.logger.info(".adjustBannerSizeConfig","playerHeight",i=t/r),n.maxHeight=Math.max(i,n.maxHeight)),this.logger.info(".adjustBannerSizeConfig",{ans:n}),n}}function orderByPriority(e,t){return e.priority-t.priority+.001*Math.random()-5e-4}class ExternalRendererAdPlayerLoader extends AdPlayerLoader{constructor(e,t={},r){super(e,{containerElement:renderDocument.createElement("div"),...t,allowCaching:!1},r),this.logger=carodaConsoleSafe.getInstanceLogger("ExternalRendererAdPlayerLoader")}async getExternalRendererExpandedCampaign(){var e=this.getCampaignViewOpportunities(this.options);const r=[];return await this.processExpandedCampaignViewOpportunities(e,async e=&gt;{var t;e.shouldRun()&amp;&amp;(e.vastContent||this.options.allowBanners&amp;&amp;e.bannerScript)&amp;&amp;(!e.vastContent||e.vastContentAspectRatio||0!==(null==(t=this.options.playerInfo)?void 0:t.ima)&amp;&amp;"doubleclick"===e.type)&amp;&amp;r.push(e)}),r}getAdPlayerFromCampaignExpandedView(e,t){return null}getPlayerInfoForPriorityChain(e){return{...e,position:this.position}}}const minimatch$1=minimatch$5||minimatchModule;function isTargeted({instreamPosition:e,contentDurationSeconds:t,path:r}){var n=!(null!=(n=e.whitelist)&amp;&amp;n.length)||e.whitelist.some(e=&gt;minimatch$1(r,e)),i=!(null==(i=e.blacklist)||!i.length)&amp;&amp;e.blacklist.some(e=&gt;minimatch$1(r,e)),a=null==t||null==e.minVideoLength||e.minVideoLength&lt;=t,o=null==t||null==e.maxVideoLength||e.maxVideoLength&gt;=t;return n&amp;&amp;!i&amp;&amp;a&amp;&amp;o}function getSkipButtonBehavior(e,t){return(null==e?void 0:e.overrideSkipBehavior)===OverrideSkipBehavior.OverrideInstream?{hideSkipButton:!1}:e&amp;&amp;e.overrideSkipBehavior&amp;&amp;e.overrideSkipBehavior!==OverrideSkipBehavior.None?getCampaignSkipButtonBehavior(e):getAdSlotSkipButtonBehavior(t)}function getAdSlotSkipButtonBehavior(e){return e?{fixedSkipOffset:e.fixedSkipOffset,hideSkipButton:e.hideSkipButton}:{hideSkipButton:!1}}function getCampaignSkipButtonBehavior(e){return e?e.overrideSkipBehavior===OverrideSkipBehavior.Hide?{hideSkipButton:!0}:e.overrideSkipBehavior===OverrideSkipBehavior.Fixed?{fixedSkipOffset:e.fixedSkipOffset,hideSkipButton:!1}:{hideSkipButton:!1}:{hideSkipButton:!1}}!function(e){e.None="none",e.Fixed="fixed",e.Hide="hide",e.OverrideInstream="overrideInstream"}(OverrideSkipBehavior=OverrideSkipBehavior||{});const MIN_SECONDS_BETWEEN_INSTREAM_AD_BREAKS=5;class InstreamAdPlayerLoader extends AdPlayerLoader{constructor(e,t={playerInfo:{autoplay:!0,plcmt:()=&gt;"instream"}},r){super([],t,r),this.BANNED_FORMATS=["square","vertical","vertical-3-4","horizontal-4-3"],this.placementIdToCampaignViews=integrationConfig.disableAds()?{}:e,Object.values(this.placementIdToCampaignViews).forEach(e=&gt;e.sort(orderByPriority)),this.logger=carodaConsoleSafe.getInstanceLogger("InstreamAdPlayerLoader")}loadInstreamWithPositionsAdSlot({containerElement:e,adSlot:t,onPlayerReady:n=()=&gt;{},onPlayerInitializationError:i=()=&gt;{},trackingConfig:r,shouldContinuePriorityChain:a=()=&gt;!0,mediaUrl:o}){this.logger.info(".loadInstreamWithPositionsAdSlot",t);let s,l;const c=new Promise(e=&gt;{l=e}),d=this.getAdPlayer({adSlot:t,containerElement:e,mediaUrl:o,onPlayerReady:async e=&gt;{if(this.logger.info(".loadInstreamWithPositionsAdSlot","onPlayerReady",e),!a())return this.logger.info(".loadInstreamWithPositionsAdSlot",".onPlayerReady","priority chain cancelled"),s.destroy(),void i();n(e);var t=e.play(),r=(s=e,await Promise.race([c,t]));s.unfreeze({userInitiated:!1,unmute:0&lt;r}),void 0!==r&amp;&amp;s.setVolume(r),await t,s.destroy()},trackingConfig:r,type:"instream-with-positions"});d.catch(e=&gt;this.logger.info(".loadInstreamWithPositionsAdSlot",e)).then(()=&gt;{this.logger.info(".loadInstreamWithPositionsAdSlot",{player:s}),s||(this.logger.info(".loadInstreamWithPositionsAdSlot","error"),i()),iterateWaiters()});return({userInitiated:e,volume:t})=&gt;a()?(s&amp;&amp;(s.unfreeze({userInitiated:e,unmute:0&lt;t}),s.setVolume(t)),l(t),Promise.race([d,waitFor(not(a)).then(()=&gt;{throw i(),new Error("priority chain cancelled")})])):(this.logger.info(".loadInstreamWithPositionsAdSlot",".play","priority chain cancelled"),i(),Promise.resolve(null))}transformInstreamPositionsIntoCampaingIdsByPosition(e=[],t=Number.MAX_SAFE_INTEGER){this.logger.info(".transformInstreamPositionsIntoCampaingIdsByPosition",e,t);var r=e.filter(e=&gt;isTargeted({instreamPosition:e,contentDurationSeconds:t,path:pageLocation.href})).map(e=&gt;({isFallback:!!e.isFallback,overrideSkipBehavior:e.overrideSkipBehavior||OverrideSkipBehavior.None,...e.overrideSkipBehavior===OverrideSkipBehavior.Fixed?{fixedSkipOffset:e.fixedSkipOffset}:{},placementId:e.vid,position:this.getInstreamPositionPosition(e,t),priority:e.priority})).filter(({position:e})=&gt;"preroll"===e||"postroll"===e||parseFloat(e)&lt;t);const n=this.mergeCloseInstreamPositionCampaignIds(r,t);r=n.map(e=&gt;({...e,instreamPositions:e.instreamPositions.sort(orderByPriority)}));return this.logger.info(".transformInstreamPositionsIntoCampaingIdsByPosition",r),r}hasCampaigns(e){var t;return 0&lt;(null==(t=this.placementIdToCampaignViews[e])?void 0:t.length)}getPriorityChain(e,t,r){this.logger.info(".getPriorityChain",e,t);var n={...t.playerInfo,position:t.adSlot.adBreakType};const i=this.placementIdToCampaignViews[t.adSlot.placementId];return this.logger.info(".getPriorityChain","expanding campaign views",i.map(e=&gt;e.id)),buildPriorityChain(i,{adLoadTimeout:integrationConfig.instreamAdLoadTimeout(),adsGroup:(t.adSlot||this).adsGroup,allowNonSliderPlayers:!1,allowCaching:!0,bannerSizeConfig:{},playerInfo:n,shouldExcludeRepeated:!0,vastMacroContext:r.trackingConfig?r.trackingConfig.context:{}},async e=&gt;"doubleclick"===e.type?this.getAdPlayerFromCampaignExpandedView(e,r):null)}async getAdPlayerFromCampaignExpandedView(e,t){var{type:r,containerElement:n}=t,i=t&amp;&amp;t.adSlot,a=i&amp;&amp;i.adBreakType||"preroll",{hideSkipButton:i,fixedSkipOffset:o}=getSkipButtonBehavior(e,i);return this.logger.info(".getAdPlayer",{type:r,hideSkipButton:i,fixedSkipOffset:o}),this.getInstreamWithPositionsAdLoader(e,n,i,o,a,t.mediaUrl)}getInstreamPositionPosition(e,t){return"preroll"===e.position||"postroll"===e.position?e.position:"percentage"===e.unit?""+t/100*e.break:""+e.break}async getInstreamWithPositionsAdLoader(e,t,r,n,i,a){this.logger.info(".getInstreamWithPositionsAdLoader");var o=usesExternalPlayer(e.type);if(o)throw new Error("Not supported");let s;return s="doubleclick"===e.type?new ImaPlayer({campaignView:e,clickThroughUrlBlacklistGlobs:null==(o=libraryWindow.carodaIntegrationRecord)?void 0:o.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:{...this.options,bannedFormats:this.getBannedFormats(t.parentElement||t),fixedSkipOffset:n,hideSkipButton:r,instream:!0,keepLastFrame:!1,muted:!0,mediaUrl:a},parentElement:t,shouldExcludeRepeated:!0}):new VVPlayer({campaignView:e,clickThroughUrlBlacklistGlobs:null==(o=libraryWindow.carodaIntegrationRecord)?void 0:o.clickThroughUrlBlacklistGlobs,globalConfigOverride:this.globalConfigOverride,opts:{...this.options,bannedFormats:this.getBannedFormats(t.parentElement||t),fixedSkipOffset:n,hideSkipButton:r,instream:!0,instreamAdBreakType:i,keepLastFrame:!1,muted:!0},parentElement:t,shouldExcludeRepeated:!0})}mergeCloseInstreamPositionCampaignIds(a,o){this.logger.info(".mergeCloseInstreamPositionCampaignIds",a,o);const s=[],l=[];return a.sort((e,t)=&gt;{return this.getInstreamPositionInSeconds(e,o)-this.getInstreamPositionInSeconds(t,o)}).forEach((t,r)=&gt;{if(-1===l.indexOf(t.position)){var n=this.getInstreamPositionInSeconds(t,o);const i={instreamPositions:[t],position:o-n&lt;MIN_SECONDS_BETWEEN_INSTREAM_AD_BREAKS?"postroll":t.position};let e=r+1;for(;e&lt;a.length;){if(this.getInstreamPositionInSeconds(a[e],o)-n&gt;=MIN_SECONDS_BETWEEN_INSTREAM_AD_BREAKS)break;i.instreamPositions.push(a[e]),l.push(a[e].position),e++}s.push(i)}}),this.logger.info(".mergeCloseInstreamPositionCampaignIds",s),s}getInstreamPositionInSeconds(e,t){return"preroll"===e.position?0:"postroll"===e.position?t:parseFloat(e.position)}getBannedFormats(e){if(this.options.bannedFormats)return this.options.bannedFormats;var t=getVideoAdAspectRatio(e.clientWidth/e.clientHeight);return/horizontal/.test(t)||/square/.test(t)?this.BANNED_FORMATS:[]}}class PrebidAdapterAdPlayerLoader extends AdPlayerLoader{constructor(e,t={},r,n=[]){super([],t,r),this.preloadedAds=n,this.logger=new InstanceLogger(`PrebidAdapterAdPlayerLoader[${Math.round(1e6*Math.random())}]`),e.then(e=&gt;{this.logger.log({campaignViews:e}),this.preprocessCampaignViews(e)})}getPriorityChain(e,t,r){var n=(...e)=&gt;this.logger.log("getPriorityChain",...e);const i=this.preloadedAds.shift();return i?(n("preloadedAd",i),i.adsGroup=this.adsGroup,"doubleclick-vast"===i.type&amp;&amp;-1===i.sspUrl.indexOf("ima=0")&amp;&amp;(i.type="doubleclick"),[{entries:[{campaignViewId:i.id,expandedCampaignsPromise:Promise.resolve({error:!1,expandedCampaigns:[i]})}],priority:1}]):(n("no preloaded ads"),super.getPriorityChain(e,t,r))}}function logBotDetection(){var e=renderWindow;(e._phantom||e.callPhantom||e.__phantomas)&amp;&amp;carodaConsoleSafe.info("BotLogger",".logBotDetection","Phantom JS detected"),e.Buffer&amp;&amp;carodaConsoleSafe.info("BotLogger",".logBotDetection","Node JS detected"),e.spawn&amp;&amp;carodaConsoleSafe.info("BotLogger",".logBotDetection","Rhino detected"),e.navigator.webdriver&amp;&amp;carodaConsoleSafe.info("BotLogger",".logBotDetection","webdriver detected"),e.navigator.languages||carodaConsoleSafe.info("BotLogger",".logBotDetection","unusual","page languages missing")}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage={exports:{}},localforageExports=(localforage.exports=function n(i,a,o){function s(r,e){if(!a[r]){if(!i[r]){var t="function"==typeof commonjsRequire&amp;&amp;commonjsRequire;if(!e&amp;&amp;t)return t(r,!0);if(l)return l(r,!0);t=new Error("Cannot find module '"+r+"'");throw t.code="MODULE_NOT_FOUND",t}t=a[r]={exports:{}};i[r][0].call(t.exports,function(e){var t=i[r][1][e];return s(t||e)},t,t.exports,n,i,a,o)}return a[r].exports}for(var l="function"==typeof commonjsRequire&amp;&amp;commonjsRequire,e=0;e&lt;o.length;e++)s(o[e]);return s}({1:[function(e,c,t){!(function(t){var e,r,n,i,a=t.MutationObserver||t.WebKitMutationObserver,o=a?(e=0,a=new a(l),r=t.document.createTextNode(""),a.observe(r,{characterData:!0}),function(){r.data=e=++e%2}):t.setImmediate||void 0===t.MessageChannel?"document"in t&amp;&amp;"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)}:((n=new t.MessageChannel).port1.onmessage=l,function(){n.port2.postMessage(0)}),s=[];function l(){i=!0;for(var e,t,r=s.length;r;){for(t=s,s=[],e=-1;++e&lt;r;)t[e]();r=s.length}i=!1}c.exports=function(e){1!==s.push(e)||i||o()}}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){var i=e(1);function l(){}var c={},a=["REJECTED"],o=["FULFILLED"],n=["PENDING"];function s(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=n,this.queue=[],this.outcome=void 0,e!==l&amp;&amp;h(this,e)}function d(e,t,r){this.promise=e,"function"==typeof t&amp;&amp;(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&amp;&amp;(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(t,r,n){i(function(){var e;try{e=r(n)}catch(e){return c.reject(t,e)}e===t?c.reject(t,new TypeError("Cannot resolve promise with itself")):c.resolve(t,e)})}function p(e){var t=e&amp;&amp;e.then;if(e&amp;&amp;("object"==typeof e||"function"==typeof e)&amp;&amp;"function"==typeof t)return function(){t.apply(e,arguments)}}function h(t,e){var r=!1;function n(e){r||(r=!0,c.reject(t,e))}function i(e){r||(r=!0,c.resolve(t,e))}var a=g(function(){e(i,n)});"error"===a.status&amp;&amp;n(a.value)}function g(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=s).prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){if("function"!=typeof e&amp;&amp;this.state===o||"function"!=typeof t&amp;&amp;this.state===a)return this;var r=new this.constructor(l);return this.state!==n?u(r,this.state===o?e:t,this.outcome):this.queue.push(new d(r,e,t)),r},d.prototype.callFulfilled=function(e){c.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){c.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},c.resolve=function(e,t){var r=g(p,t);if("error"===r.status)return c.reject(e,r.value);r=r.value;if(r)h(e,r);else{e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n&lt;i;)e.queue[n].callFulfilled(t)}return e},c.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r&lt;n;)e.queue[r].callRejected(t);return e},s.resolve=function(e){if(e instanceof this)return e;return c.resolve(new this(l),e)},s.reject=function(e){var t=new this(l);return c.reject(t,e)},s.all=function(e){var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var a=new Array(n),o=0,t=-1,s=new this(l);for(;++t&lt;n;)!function(e,t){r.resolve(e).then(function(e){a[t]=e,++o!==n||i||(i=!0,c.resolve(s,a))},function(e){i||(i=!0,c.reject(s,e))})}(e[t],t);return s},s.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=-1,a=new this(l);for(;++i&lt;r;)!function(e){t.resolve(e).then(function(e){n||(n=!0,c.resolve(a,e))},function(e){n||(n=!0,c.reject(a,e))})}(e[i]);return a}},{1:1}],3:[function(t,e,r){!(function(e){"function"!=typeof e.Promise&amp;&amp;(e.Promise=t(2))}).call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(D,L,V){var F="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e};var s=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(t,r){t=t||[],r=r||{};try{return new Blob(t,r)}catch(e){if("TypeError"!==e.name)throw e;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i&lt;t.length;i+=1)n.append(t[i]);return n.getBlob(r.type)}}"undefined"==typeof Promise&amp;&amp;D(3);var h=Promise;function g(e,t){t&amp;&amp;e.then(function(e){t(null,e)},function(e){t(e)})}function c(e,t,r){"function"==typeof t&amp;&amp;e.then(t),"function"==typeof r&amp;&amp;e.catch(r)}function d(e){return"string"!=typeof e&amp;&amp;(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function a(){if(arguments.length&amp;&amp;"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",t=void 0,u={},B=Object.prototype.toString,r="readonly",p="readwrite";function U(e){return"boolean"==typeof t?h.resolve(t):(n=e,new h(function(r){var e=n.transaction(l,p),t=o([""]);e.objectStore(l).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),r(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);r(t||!e||43&lt;=parseInt(e[1],10))}}).catch(function(){return!1}).then(function(e){return t=e}));var n}function m(e){var t=u[e.name],r={};r.promise=new h(function(e,t){r.resolve=e,r.reject=t}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function f(e){var t=u[e.name].deferredOperations.pop();t&amp;&amp;(t.resolve(),t.promise)}function y(e,t){var r=u[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function n(i,a){return new h(function(t,r){if(u[i.name]=u[i.name]||w(),i.db){if(!a)return t(i.db);m(i),i.db.close()}var e=[i.name],n=(a&amp;&amp;e.push(i.version),s.open.apply(s,e));a&amp;&amp;(n.onupgradeneeded=function(t){var e=n.result;try{e.createObjectStore(i.storeName),t.oldVersion&lt;=1&amp;&amp;e.createObjectStore(l)}catch(e){if("ConstraintError"!==e.name)throw e;console.warn('The database "'+i.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+i.storeName+'" already exists.')}}),n.onerror=function(e){e.preventDefault(),r(n.error)},n.onsuccess=function(){var e=n.result;e.onversionchange=function(e){e.target.close()},t(e),f(i)}})}function v(e){return n(e,!1)}function b(e){return n(e,!0)}function _(e,t){if(!e.db)return 1;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version&lt;e.db.version,i=e.version&gt;e.db.version;return n&amp;&amp;(e.version!==t&amp;&amp;console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),(i||r)&amp;&amp;(r&amp;&amp;(n=e.db.version+1)&gt;e.version&amp;&amp;(e.version=n),1)}function S(e){return o([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i&lt;t;i++)n[i]=e.charCodeAt(i);return r}(atob(e.data))],{type:e.type})}function C(e){return e&amp;&amp;e.__local_forage_encoded_blob}function j(e){var t=this,r=t._initReady().then(function(){var e=u[t._dbInfo.name];if(e&amp;&amp;e.dbReady)return e.dbReady});return c(r,e,e),r}function E(t,r,n,i){void 0===i&amp;&amp;(i=1);try{var e=t.db.transaction(t.storeName,r);n(null,e)}catch(e){if(0&lt;i&amp;&amp;(!t.db||"InvalidStateError"===e.name||"NotFoundError"===e.name))return h.resolve().then(function(){if(!t.db||"NotFoundError"===e.name&amp;&amp;!t.db.objectStoreNames.contains(t.storeName)&amp;&amp;t.version&lt;=t.db.version)return t.db&amp;&amp;(t.version=t.db.version+1),b(t)}).then(function(){return function(r){m(r);for(var n=u[r.name],i=n.forages,e=0;e&lt;i.length;e++){var t=i[e];t._dbInfo.db&amp;&amp;(t._dbInfo.db.close(),t._dbInfo.db=null)}return r.db=null,v(r).then(function(e){return r.db=e,_(r)?b(r):e}).then(function(e){r.db=n.db=e;for(var t=0;t&lt;i.length;t++)i[t]._dbInfo.db=e}).catch(function(e){throw y(r,e),e})}(t).then(function(){E(t,r,n,i-1)})}).catch(n);n(e)}}function w(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var W={_driver:"asyncStorage",_initStorage:function(e){var n=this,i={db:null};if(e)for(var t in e)i[t]=e[t];var a=u[i.name],r=(a||(a=w(),u[i.name]=a),a.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=j),[]);function o(){return h.resolve()}for(var s=0;s&lt;a.forages.length;s++){var l=a.forages[s];l!==n&amp;&amp;r.push(l._initReady().catch(o))}var c=a.forages.slice(0);return h.all(r).then(function(){return i.db=a.db,v(i)}).then(function(e){return i.db=e,_(i,n._defaultConfig.version)?b(i):e}).then(function(e){i.db=a.db=e,n._dbInfo=i;for(var t=0;t&lt;c.length;t++){var r=c[t];r!==n&amp;&amp;(r._dbInfo.db=i.db,r._dbInfo.version=i.version)}})},_support:function(){try{if(!s||!s.open)return!1;var e="undefined"!=typeof openDatabase&amp;&amp;/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&amp;&amp;!/Chrome/.test(navigator.userAgent)&amp;&amp;!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&amp;&amp;-1!==fetch.toString().indexOf("[native code");return(!e||t)&amp;&amp;"undefined"!=typeof indexedDB&amp;&amp;"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(o,e){var s=this,t=new h(function(i,a){s.ready().then(function(){E(s._dbInfo,r,function(e,t){if(e)return a(e);try{var r=t.objectStore(s._dbInfo.storeName).openCursor(),n=1;r.onsuccess=function(){var e,t=r.result;t?(C(e=t.value)&amp;&amp;(e=S(e)),void 0!==(e=o(e,t.key,n++))?i(e):t.continue()):i()},r.onerror=function(){a(r.error)}}catch(e){a(e)}})}).catch(a)});return g(t,e),t},getItem:function(a,e){var o=this,t=(a=d(a),new h(function(n,i){o.ready().then(function(){E(o._dbInfo,r,function(e,t){if(e)return i(e);try{var r=t.objectStore(o._dbInfo.storeName).get(a);r.onsuccess=function(){var e=r.result;C(e=void 0===e?null:e)&amp;&amp;(e=S(e)),n(e)},r.onerror=function(){i(r.error)}}catch(e){i(e)}})}).catch(i)}));return g(t,e),t},setItem:function(s,t,e){var l=this,r=(s=d(s),new h(function(a,o){var e;l.ready().then(function(){return e=l._dbInfo,"[object Blob]"===B.call(t)?U(e.db).then(function(e){return e?t:(n=t,new h(function(r,e){var t=new FileReader;t.onerror=e,t.onloadend=function(e){var t=btoa(e.target.result||"");r({__local_forage_encoded_blob:!0,data:t,type:n.type})},t.readAsBinaryString(n)}));var n}):t}).then(function(i){E(l._dbInfo,p,function(e,t){if(e)return o(e);try{var r=t.objectStore(l._dbInfo.storeName),n=(null===i&amp;&amp;(i=void 0),r.put(i,s));t.oncomplete=function(){a(i=void 0===i?null:i)},t.onabort=t.onerror=function(){var e=n.error||n.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)}));return g(r,e),r},removeItem:function(a,e){var o=this,t=(a=d(a),new h(function(n,i){o.ready().then(function(){E(o._dbInfo,p,function(e,t){if(e)return i(e);try{var r=t.objectStore(o._dbInfo.storeName).delete(a);t.oncomplete=function(){n()},t.onerror=function(){i(r.error)},t.onabort=function(){var e=r.error||r.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)}));return g(t,e),t},clear:function(e){var a=this,t=new h(function(n,i){a.ready().then(function(){E(a._dbInfo,p,function(e,t){if(e)return i(e);try{var r=t.objectStore(a._dbInfo.storeName).clear();t.oncomplete=function(){n()},t.onabort=t.onerror=function(){var e=r.error||r.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return g(t,e),t},length:function(e){var a=this,t=new h(function(n,i){a.ready().then(function(){E(a._dbInfo,r,function(e,t){if(e)return i(e);try{var r=t.objectStore(a._dbInfo.storeName).count();r.onsuccess=function(){n(r.result)},r.onerror=function(){i(r.error)}}catch(e){i(e)}})}).catch(i)});return g(t,e),t},key:function(s,e){var l=this,t=new h(function(a,o){s&lt;0?a(null):l.ready().then(function(){E(l._dbInfo,r,function(e,t){if(e)return o(e);try{var r=t.objectStore(l._dbInfo.storeName),n=!1,i=r.openKeyCursor();i.onsuccess=function(){var e=i.result;e?0===s||n?a(e.key):(n=!0,e.advance(s)):a(null)},i.onerror=function(){o(i.error)}}catch(e){o(e)}})}).catch(o)});return g(t,e),t},keys:function(e){var o=this,t=new h(function(i,a){o.ready().then(function(){E(o._dbInfo,r,function(e,t){if(e)return a(e);try{var r=t.objectStore(o._dbInfo.storeName).openKeyCursor(),n=[];r.onsuccess=function(){var e=r.result;e?(n.push(e.key),e.continue()):i(n)},r.onerror=function(){a(r.error)}}catch(e){a(e)}})}).catch(a)});return g(t,e),t},dropInstance:function(o,e){e=a.apply(this,arguments);var t=this.config();return(o="function"!=typeof o&amp;&amp;o||{}).name||(o.name=o.name||t.name,o.storeName=o.storeName||t.storeName),g(t=o.name?(t=o.name===t.name&amp;&amp;this._dbInfo.db?h.resolve(this._dbInfo.db):v(o).then(function(e){var t=u[o.name],r=t.forages;t.db=e;for(var n=0;n&lt;r.length;n++)r[n]._dbInfo.db=e;return e}),o.storeName?t.then(function(e){if(e.objectStoreNames.contains(o.storeName)){var i=e.version+1,n=(m(o),u[o.name]),a=n.forages;e.close();for(var t=0;t&lt;a.length;t++){var r=a[t];r._dbInfo.db=null,r._dbInfo.version=i}return new h(function(t,r){var n=s.open(o.name,i);n.onerror=function(e){n.result.close(),r(e)},n.onupgradeneeded=function(){n.result.deleteObjectStore(o.storeName)},n.onsuccess=function(){var e=n.result;e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t&lt;a.length;t++){var r=a[t];r._dbInfo.db=e,f(r._dbInfo)}}).catch(function(e){throw(y(o,e)||h.resolve()).catch(function(){}),e})}}):t.then(function(e){m(o);var r=u[o.name],n=r.forages;e.close();for(var t=0;t&lt;n.length;t++)n[t]._dbInfo.db=null;return new h(function(t,r){var n=s.deleteDatabase(o.name);n.onerror=function(){var e=n.result;e&amp;&amp;e.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+o.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&amp;&amp;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t&lt;n.length;t++)f(n[t]._dbInfo)}).catch(function(e){throw(y(o,e)||h.resolve()).catch(function(){}),e})})):h.reject("Invalid arguments"),e),t}};var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=/^~~local_forage_type~([^~]+)~/,P="__lfsc__:",T=P.length,z=T+"arbf".length,G=Object.prototype.toString;function q(e){for(var t,r,n,i,a=.75*e.length,o=e.length,s=0,a=("="===e[e.length-1]&amp;&amp;(a--,"="===e[e.length-2]&amp;&amp;a--),new ArrayBuffer(a)),l=new Uint8Array(a),c=0;c&lt;o;c+=4)t=A.indexOf(e[c]),r=A.indexOf(e[c+1]),n=A.indexOf(e[c+2]),i=A.indexOf(e[c+3]),l[s++]=t&lt;&lt;2|r&gt;&gt;4,l[s++]=(15&amp;r)&lt;&lt;4|n&gt;&gt;2,l[s++]=(3&amp;n)&lt;&lt;6|63&amp;i;return a}function $(e){for(var t=new Uint8Array(e),r="",n=0;n&lt;t.length;n+=3)r=(r=(r=(r+=A[t[n]&gt;&gt;2])+A[(3&amp;t[n])&lt;&lt;4|t[n+1]&gt;&gt;4])+A[(15&amp;t[n+1])&lt;&lt;2|t[n+2]&gt;&gt;6])+A[63&amp;t[n+2]];return t.length%3==2?r=r.substring(0,r.length-1)+"=":t.length%3==1&amp;&amp;(r=r.substring(0,r.length-2)+"=="),r}var I={serialize:function(t,r){var e="";if(t&amp;&amp;(e=G.call(t)),t&amp;&amp;("[object ArrayBuffer]"===e||t.buffer&amp;&amp;"[object ArrayBuffer]"===G.call(t.buffer))){var n,i=P;t instanceof ArrayBuffer?(n=t,i+="arbf"):(n=t.buffer,"[object Int8Array]"===e?i+="si08":"[object Uint8Array]"===e?i+="ui08":"[object Uint8ClampedArray]"===e?i+="uic8":"[object Int16Array]"===e?i+="si16":"[object Uint16Array]"===e?i+="ur16":"[object Int32Array]"===e?i+="si32":"[object Uint32Array]"===e?i+="ui32":"[object Float32Array]"===e?i+="fl32":"[object Float64Array]"===e?i+="fl64":r(new Error("Failed to get type for BinaryArray"))),r(i+$(n))}else if("[object Blob]"===e){i=new FileReader;i.onload=function(){var e="~~local_forage_type~"+t.type+"~"+$(this.result);r(P+"blob"+e)},i.readAsArrayBuffer(t)}else try{r(JSON.stringify(t))}catch(e){console.error("Couldn't convert value into a JSON string: ",t),r(null,e)}},deserialize:function(e){if(e.substring(0,T)!==P)return JSON.parse(e);var t,r,n=e.substring(z),i=e.substring(T,z),a=("blob"===i&amp;&amp;H.test(n)&amp;&amp;(r=(t=n.match(H))[1],n=n.substring(t[0].length)),q(n));switch(i){case"arbf":return a;case"blob":return o([a],{type:r});case"si08":return new Int8Array(a);case"ui08":return new Uint8Array(a);case"uic8":return new Uint8ClampedArray(a);case"si16":return new Int16Array(a);case"ur16":return new Uint16Array(a);case"si32":return new Int32Array(a);case"ui32":return new Uint32Array(a);case"fl32":return new Float32Array(a);case"fl64":return new Float64Array(a);default:throw new Error("Unkown type: "+i)}},stringToBuffer:q,bufferToString:$};function K(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function k(e,n,i,a,o,s){e.executeSql(i,a,o,function(e,r){r.code===r.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function(e,t){t.rows.length?s(e,r):K(e,n,function(){e.executeSql(i,a,o,s)},s)},s):s(e,r)},s)}function J(o,e,s,l){var c=this,t=(o=d(o),new h(function(i,a){c.ready().then(function(){var r=e=void 0===e?null:e,n=c._dbInfo;n.serializer.serialize(e,function(t,e){e?a(e):n.db.transaction(function(e){k(e,n,"INSERT OR REPLACE INTO "+n.storeName+" (key, value) VALUES (?, ?)",[o,t],function(){i(r)},function(e,t){a(t)})},function(e){e.code===e.QUOTA_ERR&amp;&amp;(0&lt;l?i(J.apply(c,[o,r,s,l-1])):a(e))})})}).catch(a)}));return g(t,s),t}var e={_driver:"webSQLStorage",_initStorage:function(e){var n=this,i={db:null};if(e)for(var t in e)i[t]="string"!=typeof e[t]?e[t].toString():e[t];var r=new h(function(t,r){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(e){return r(e)}i.db.transaction(function(e){K(e,i,function(){n._dbInfo=i,t()},function(e,t){r(t)})},r)});return i.serializer=I,r},_support:"function"==typeof openDatabase,iterate:function(c,e){var t=this,r=new h(function(l,r){t.ready().then(function(){var s=t._dbInfo;s.db.transaction(function(e){k(e,s,"SELECT * FROM "+s.storeName,[],function(e,t){for(var r=t.rows,n=r.length,i=0;i&lt;n;i++){var a=r.item(i),o=(o=a.value)&amp;&amp;s.serializer.deserialize(o);if(void 0!==(o=c(o,a.key,i+1)))return void l(o)}l()},function(e,t){r(t)})})}).catch(r)});return g(r,e),r},getItem:function(t,e){var a=this,r=(t=d(t),new h(function(i,r){a.ready().then(function(){var n=a._dbInfo;n.db.transaction(function(e){k(e,n,"SELECT * FROM "+n.storeName+" WHERE key = ? LIMIT 1",[t],function(e,t){var r=(r=t.rows.length?t.rows.item(0).value:null)&amp;&amp;n.serializer.deserialize(r);i(r)},function(e,t){r(t)})})}).catch(r)}));return g(r,e),r},setItem:function(e,t,r){return J.apply(this,[e,t,r,1])},removeItem:function(i,e){var a=this,t=(i=d(i),new h(function(r,n){a.ready().then(function(){var t=a._dbInfo;t.db.transaction(function(e){k(e,t,"DELETE FROM "+t.storeName+" WHERE key = ?",[i],function(){r()},function(e,t){n(t)})})}).catch(n)}));return g(t,e),t},clear:function(e){var i=this,t=new h(function(r,n){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){k(e,t,"DELETE FROM "+t.storeName,[],function(){r()},function(e,t){n(t)})})}).catch(n)});return g(t,e),t},length:function(e){var i=this,t=new h(function(n,r){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){k(e,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(e,t){var r=t.rows.item(0).c;n(r)},function(e,t){r(t)})})}).catch(r)});return g(t,e),t},key:function(i,e){var a=this,t=new h(function(n,r){a.ready().then(function(){var t=a._dbInfo;t.db.transaction(function(e){k(e,t,"SELECT key FROM "+t.storeName+" WHERE id = ? LIMIT 1",[i+1],function(e,t){var r=t.rows.length?t.rows.item(0).key:null;n(r)},function(e,t){r(t)})})}).catch(r)});return g(t,e),t},keys:function(e){var n=this,t=new h(function(i,r){n.ready().then(function(){var t=n._dbInfo;t.db.transaction(function(e){k(e,t,"SELECT key FROM "+t.storeName,[],function(e,t){for(var r=[],n=0;n&lt;t.rows.length;n++)r.push(t.rows.item(n).key);i(r)},function(e,t){r(t)})})}).catch(r)});return g(t,e),t},dropInstance:function(r,e){e=a.apply(this,arguments);var n=this.config(),i=((r="function"!=typeof r&amp;&amp;r||{}).name||(r.name=r.name||n.name,r.storeName=r.storeName||n.storeName),this),t=r.name?new h(function(e){var a,t=r.name===n.name?i._dbInfo.db:openDatabase(r.name,"","",0);r.storeName?e({db:t,storeNames:[r.storeName]}):e((a=t,new h(function(i,r){a.transaction(function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name &lt;&gt; '__WebKitDatabaseInfoTable__'",[],function(e,t){for(var r=[],n=0;n&lt;t.rows.length;n++)r.push(t.rows.item(n).name);i({db:a,storeNames:r})},function(e,t){r(t)})},function(e){r(e)})})))}).then(function(o){return new h(function(i,a){o.db.transaction(function(n){for(var e=[],t=0,r=o.storeNames.length;t&lt;r;t++)e.push(function(t){return new h(function(e,r){n.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(e,t){r(t)})})}(o.storeNames[t]));h.all(e).then(function(){i()}).catch(function(e){a(e)})},function(e){a(e)})})}):h.reject("Invalid arguments");return g(t,e),t}};function Y(e,t){var r=e.name+"/";return e.storeName!==t.storeName&amp;&amp;(r+=e.storeName+"/"),r}function X(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),0}catch(e){return 1}}()||0&lt;localStorage.length}function Q(e,t){for(var r,n,i=e.length,a=0;a&lt;i;){if((r=e[a])===(n=t)||"number"==typeof r&amp;&amp;"number"==typeof n&amp;&amp;isNaN(r)&amp;&amp;isNaN(n))return 1;a++}}var Z={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=Y(e,this._defaultConfig),X()?((this._dbInfo=t).serializer=I,h.resolve()):h.reject()},_support:function(){try{return"undefined"!=typeof localStorage&amp;&amp;"setItem"in localStorage&amp;&amp;!!localStorage.setItem}catch(e){return!1}}(),iterate:function(l,e){var c=this,t=c.ready().then(function(){for(var e=c._dbInfo,t=e.keyPrefix,r=t.length,n=localStorage.length,i=1,a=0;a&lt;n;a++){var o=localStorage.key(a);if(0===o.indexOf(t)){var s=(s=localStorage.getItem(o))&amp;&amp;e.serializer.deserialize(s);if(void 0!==(s=l(s,o.substring(r),i++)))return s}}});return g(t,e),t},getItem:function(r,e){var n=this,t=(r=d(r),n.ready().then(function(){var e=n._dbInfo,t=localStorage.getItem(e.keyPrefix+r);return t=t&amp;&amp;e.serializer.deserialize(t)}));return g(t,e),t},setItem:function(o,e,t){var s=this,r=(o=d(o),s.ready().then(function(){var a=e=void 0===e?null:e;return new h(function(r,n){var i=s._dbInfo;i.serializer.serialize(e,function(e,t){if(t)n(t);else try{localStorage.setItem(i.keyPrefix+o,e),r(a)}catch(e){"QuotaExceededError"!==e.name&amp;&amp;"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||n(e),n(e)}})})}));return g(r,t),r},removeItem:function(t,e){var r=this,n=(t=d(t),r.ready().then(function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return g(n,e),n},clear:function(e){var n=this,t=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,t=localStorage.length-1;0&lt;=t;t--){var r=localStorage.key(t);0===r.indexOf(e)&amp;&amp;localStorage.removeItem(r)}});return g(t,e),t},length:function(e){var t=this.keys().then(function(e){return e.length});return g(t,e),t},key:function(r,e){var n=this,t=n.ready().then(function(){var t,e=n._dbInfo;try{t=localStorage.key(r)}catch(e){t=null}return t=t&amp;&amp;t.substring(e.keyPrefix.length)});return g(t,e),t},keys:function(e){var a=this,t=a.ready().then(function(){for(var e=a._dbInfo,t=localStorage.length,r=[],n=0;n&lt;t;n++){var i=localStorage.key(n);0===i.indexOf(e.keyPrefix)&amp;&amp;r.push(i.substring(e.keyPrefix.length))}return r});return g(t,e),t},dropInstance:function(t,e){e=a.apply(this,arguments),(t="function"!=typeof t&amp;&amp;t||{}).name||(n=this.config(),t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r=this,n=t.name?new h(function(e){t.storeName?e(Y(t,r._defaultConfig)):e(t.name+"/")}).then(function(e){for(var t=localStorage.length-1;0&lt;=t;t--){var r=localStorage.key(t);0===r.indexOf(e)&amp;&amp;localStorage.removeItem(r)}}):h.reject("Invalid arguments");return g(n,e),n}},ee=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},O={},te={},i={INDEXEDDB:W,WEBSQL:e,LOCALSTORAGE:Z},W=[i.INDEXEDDB._driver,i.WEBSQL._driver,i.LOCALSTORAGE._driver],x=["dropInstance"],R=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(x),re={description:"",driver:W.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function N(e){for(var t=1;t&lt;arguments.length;t++){var r=arguments[t];if(r)for(var n in r)r.hasOwnProperty(n)&amp;&amp;(ee(r[n])?e[n]=r[n].slice():e[n]=r[n])}return e}function M(e){var t,r,n;if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");for(t in i)i.hasOwnProperty(t)&amp;&amp;(n=(r=i[t])._driver,this[t]=n,O[n]||this.defineDriver(r));this._defaultConfig=N({},re),this._config=N({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}M.prototype.config=function(e){if("object"!==(void 0===e?"undefined":F(e)))return"string"==typeof e?this._config[e]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&amp;&amp;(e[t]=e[t].replace(/\W/g,"_")),"version"===t&amp;&amp;"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&amp;&amp;e.driver)||this.setDriver(this._config.driver)},M.prototype.defineDriver=function(p,e,t){var r=new h(function(t,r){try{var n=p._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!p._driver)return void r(e);for(var i=R.concat("_initStorage"),a=0,o=i.length;a&lt;o;a++){var s=i[a];if((!Q(x,s)||p[s])&amp;&amp;"function"!=typeof p[s])return void r(e)}for(var l=0,c=x.length;l&lt;c;l++){var d=x[l];p[d]||(p[d]=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),e=h.reject(e);return g(e,arguments[arguments.length-1]),e}}(d))}function u(e){O[n]&amp;&amp;console.info("Redefining LocalForage driver: "+n),O[n]=p,te[n]=e,t()}"_support"in p?p._support&amp;&amp;"function"==typeof p._support?p._support().then(u,r):u(!!p._support):u(!0)}catch(e){r(e)}});return c(r,e,t),r},M.prototype.driver=function(){return this._driver||null},M.prototype.getDriver=function(e,t,r){var n=O[e]?h.resolve(O[e]):h.reject(new Error("Driver not found."));return c(n,t,r),n},M.prototype.getSerializer=function(e){var t=h.resolve(I);return c(t,e),t},M.prototype.ready=function(e){var t=this,r=t._driverSet.then(function(){return null===t._ready&amp;&amp;(t._ready=t._initDriver()),t._ready});return c(r,e,e),r},M.prototype.setDriver=function(e,t,r){var a=this,n=(ee(e)||(e=[e]),this._getSupportedDrivers(e));function o(){a._config.driver=a.driver()}function s(e){return a._extend(e),o(),a._ready=a._initStorage(a._config),a._ready}function i(i){return function(){var n=0;return function e(){for(;n&lt;i.length;){var t=i[n];return n++,a._dbInfo=null,a._ready=null,a.getDriver(t).then(s).catch(e)}o();var r=new Error("No available storage method found.");return a._driverSet=h.reject(r),a._driverSet}()}}var l=null!==this._driverSet?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=l.then(function(){var e=n[0];return a._dbInfo=null,a._ready=null,a.getDriver(e).then(function(e){a._driver=e._driver,o(),a._wrapLibraryMethodsWithReady(),a._initDriver=i(n)})}).catch(function(){o();var e=new Error("No available storage method found.");return a._driverSet=h.reject(e),a._driverSet}),c(this._driverSet,t,r),this._driverSet},M.prototype.supports=function(e){return!!te[e]},M.prototype._extend=function(e){N(this,e)},M.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r&lt;n;r++){var i=e[r];this.supports(i)&amp;&amp;t.push(i)}return t},M.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=R.length;e&lt;t;e++)!function(t,r){t[r]=function(){var e=arguments;return t.ready().then(function(){return t[r].apply(t,e)})}}(this,R[e])},M.prototype.createInstance=function(e){return new M(e)};e=new M;L.exports=e},{3:3}]},{},[4])(4),localforage.exports),LF=getDefaultExportFromCjs(localforageExports);const defaultLocalForageConfig={description:"Content stored by Caroda for basic functionality purposes. More information on https://caroda.io.",driver:LF.INDEXEDDB,name:"caroda",storeName:"default"};class CachedTable{constructor(e,t,r){this.logger=new InstanceLogger(`CachedTable[${e}.${t}]`),this.logger.info("constructor",e,t),this.localForageInstance=LF.createInstance({...defaultLocalForageConfig,storeName:e}),this.ttl=t,this.builder=r,this.clearAllExpired()}async get(e){this.logger.info("get",e);var t=(await this.getCachedTableState())[e];return t?t.expiryTimestamp&lt;Date.now()?(this.logger.info("get",e,"returned null (expired)"),null):(this.logger.info("get",e,"returned",t.value),this.builder(JSON.parse(t.value))):(this.logger.info("get",e,"returned null"),null)}async set(e,t){this.logger.info("set",e,"to",t);const r=await this.getCachedTableState();r[e]={expiryTimestamp:Date.now()+1e3*this.ttl,value:JSON.stringify(t)},await this.setCachedTableState(r)}async remove(e){this.logger.info("remove",e);const t=await this.getCachedTableState();delete t[e],await this.setCachedTableState(t)}async getCachedTableState(){var e=await this.localForageInstance.getItem(this.localForageInstance.config().storeName).catch(e=&gt;this.logger.error(e));return e||{}}async setCachedTableState(e){return this.localForageInstance.setItem(this.localForageInstance.config().storeName,Object.assign({},e)).catch(e=&gt;this.logger.error(e))}async clearAllExpired(){const e=await this.getCachedTableState();var t=Date.now();for(const r in e)e[r].expiryTimestamp&lt;t&amp;&amp;delete e[r];await this.setCachedTableState(e)}}var MAX_SAFE_INTEGER=9007199254740991,nativeFloor=Math.floor;function baseRepeat$1(e,t){var r="";if(!e||t&lt;1||MAX_SAFE_INTEGER&lt;t)return r;for(;t%2&amp;&amp;(r+=e),(t=nativeFloor(t/2))&amp;&amp;(e+=e),t;);return r}var _baseRepeat=baseRepeat$1;function baseSlice$1(e,t,r){for(var n=-1,i=e.length,a=((r=i&lt;r?i:r)&lt;0&amp;&amp;(r+=i),i=r&lt;(t=t&lt;0?i&lt;-t?0:i+t:t)?0:r-t&gt;&gt;&gt;0,t&gt;&gt;&gt;=0,Array(i));++n&lt;i;)a[n]=e[n+t];return a}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$2(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&amp;&amp;n&lt;=r?e:baseSlice(e,t,r)}var _castSlice=castSlice$2,rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsVarRange$2="\\ufe0e\\ufe0f",rsZWJ$2="\\u200d",reHasUnicode=RegExp("["+rsZWJ$2+rsAstralRange$2+rsComboRange$2+rsVarRange$2+"]");function hasUnicode$4(e){return reHasUnicode.test(e)}var _hasUnicode=hasUnicode$4,baseProperty=_baseProperty,asciiSize$1=baseProperty("length"),_asciiSize=asciiSize$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral$1="["+rsAstralRange$1+"]",rsCombo$1="["+rsComboRange$1+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$1+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$1+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$1+"]?",rsOptJoin$1="(?:"+rsZWJ$1+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsSymbol$1="(?:"+[rsNonAstral$1+rsCombo$1+"?",rsCombo$1,rsRegional$1,rsSurrPair$1,rsAstral$1].join("|")+")",reUnicode$1=RegExp(rsFitz$1+"(?="+rsFitz$1+")|"+rsSymbol$1+rsSeq$1,"g");function unicodeSize$1(e){for(var t=reUnicode$1.lastIndex=0;reUnicode$1.test(e);)++t;return t}var _unicodeSize=unicodeSize$1,asciiSize=_asciiSize,hasUnicode$3=_hasUnicode,unicodeSize=_unicodeSize;function stringSize$2(e){return(hasUnicode$3(e)?unicodeSize:asciiSize)(e)}var _stringSize=stringSize$2;function asciiToArray$1(e){return e.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(e){return e.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$2=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$2(e){return(hasUnicode$2(e)?unicodeToArray:asciiToArray)(e)}var _stringToArray=stringToArray$2,baseRepeat=_baseRepeat,baseToString=_baseToString,castSlice$1=_castSlice,hasUnicode$1=_hasUnicode,stringSize$1=_stringSize,stringToArray$1=_stringToArray,nativeCeil=Math.ceil;function createPadding$1(e,t){var r=(t=void 0===t?" ":baseToString(t)).length;if(r&lt;2)return r?baseRepeat(t,e):t;r=baseRepeat(t,nativeCeil(e/stringSize$1(t)));return hasUnicode$1(t)?castSlice$1(stringToArray$1(r),0,e).join(""):r.slice(0,e)}var _createPadding=createPadding$1,reWhitespace=/\s/;function trimmedEndIndex$1(e){for(var t=e.length;t--&amp;&amp;reWhitespace.test(e.charAt(t)););return t}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(e){return e&amp;&amp;e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN;if(isObject$2(e)&amp;&amp;(t="function"==typeof e.valueOf?e.valueOf():e,e=isObject$2(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=baseTrim(e);var t=reIsBinary.test(e);return t||reIsOctal.test(e)?freeParseInt(e.slice(2),t?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber$2,toNumber$1=toNumber_1,INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$1(e){return e?(e=toNumber$1(e))===INFINITY||e===-INFINITY?(e&lt;0?-1:1)*MAX_INTEGER:e==e?e:0:0===e?e:0}var toFinite_1=toFinite$1,toFinite=toFinite_1;function toInteger$1(e){var t=toFinite(e),r=t%1;return t==t?r?t-r:t:0}var toInteger_1=toInteger$1,createPadding=_createPadding,stringSize=_stringSize,toInteger=toInteger_1,toString$3=toString_1;function padStart(e,t,r){e=toString$3(e);var n=(t=toInteger(t))?stringSize(e):0;return t&amp;&amp;n&lt;t?createPadding(t-n,r)+e:e}var padStart_1=padStart,padStart$1=getDefaultExportFromCjs(padStart_1);async function getAdformTimedStaticAd(t,e,r){if(r&lt;=0)throw new Error("get static Ad exceeded campaign timed out");var{url:n,clk:i,imp:a}=await requestJson(e=&gt;{e.open("GET",t),e.timeout=r,e.send()});if(!n)throw new Error("adform response does not include an image to display");carodaConsoleSafe.info("AdformTimedStaticHelper","getAdformTimedStaticAd",{adformUrl:t,url:n,clk:i,imp:a});var o=e%60,s=Math.floor(e/60),o=padStart$1(String(o),2,"0"),s=padStart$1(String(s),2,"0"),l=`http://cdn4.caroda.io/noaudio/${Math.max(Math.min(Math.floor(e),90),0)}s.mp3`,a=`&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
    &lt;VAST version="4.0"&gt;
        &lt;Ad id="${Math.floor(1e6*Math.random())}"&gt;
            &lt;InLine&gt;
                &lt;AdSystem version="2.0"&gt;Caroda Direct Ad Service&lt;/AdSystem&gt;
                &lt;AdTitle&gt;&lt;![CDATA[ Caroda Powered Creative ]]&gt;&lt;/AdTitle&gt;
                &lt;Description&gt;&lt;/Description&gt;
                &lt;Impression id="adfi"&gt;${a}&lt;/Impression&gt;
                &lt;Creatives&gt;
                    &lt;Creative&gt;
                        &lt;Linear&gt;
                            &lt;Duration&gt;00:${s}:${o}&lt;/Duration&gt;
                            &lt;VideoClicks&gt;
                               &lt;ClickThrough id="adfc"&gt;${i}&lt;/ClickThrough&gt;
                           &lt;/VideoClicks&gt;
                            &lt;MediaFiles&gt;
                                &lt;MediaFile
                                    type="audio/mp3"
                                    width="640"
                                    height="360"
                                    delivery="progressive"
                                    id="1"
                                    scalable="true"
                                    maintainAspectRatio="true"&gt;
                                    &lt;![CDATA[${l}]]&gt;
                                &lt;/MediaFile&gt;
                            &lt;/MediaFiles&gt;
                        &lt;/Linear&gt;
                    &lt;/Creative&gt;
                &lt;/Creatives&gt;
                &lt;Extensions&gt;
                    &lt;Extension type="caroda-poster"&gt;${n}&lt;/Extension&gt;
                &lt;/Extensions&gt;
            &lt;/InLine&gt;
        &lt;/Ad&gt;
    &lt;/VAST&gt;`,s=new Blob([a],{type:"text/xml"});return libraryWindow.URL.createObjectURL(s)}var dataAsOf="2024-11-21T00:00:00.000Z",generatedAt="2024-11-21T16:00:35.505Z",conversions={USD:{USD:1,JPY:154.40813224396732,BGN:1.8580657419722593,CZK:24.07942238267148,DKK:7.086072582177466,GBP:.7911172335170055,HUF:389.98669960098806,PLN:4.12483374501235,RON:4.728291848755463,SEK:11.026980809424282,CHF:.8829564886946608,ISK:138.60915827474824,NOK:11.039331179935397,TRY:34.48204446133384,AUD:1.533441003230097,BRL:5.821489644689341,CAD:1.3965418962568876,CNY:7.2395971879156376,HKD:7.7827284818544555,IDR:15896.79840395212,ILS:3.7327569827094815,INR:84.4725441763253,KRW:1398.0619418582558,MXN:20.372791183735515,MYR:4.465038951168536,NZD:1.702831084932548,PHP:59.01197035911078,SGD:1.3437203116093484,THB:34.64468934068022,ZAR:18.077522325669772,EUR:.9500285008550257},GBP:{USD:1.2640351614568948,JPY:195.1773083712608,BGN:2.34866043015143,CZK:30.43723655926891,DKK:8.957044900507968,GBP:1,HUF:492.95690079617646,PLN:5.2139348888595345,RON:5.976727150456932,SEK:13.938491467822704,CHF:1.1160880477465687,ISK:175.2068497592257,NOK:13.954102770405774,TRY:43.58651663804595,AUD:1.9383233461025784,BRL:7.358567602944532,CAD:1.7652780613163932,CNY:9.151105400309826,HKD:9.837642453136072,IDR:20094.112137187327,ILS:4.718336075318531,INR:106.77626601659603,KRW:1767.1994524035401,MXN:25.751924393260722,MYR:5.643966231551644,NZD:2.1524383653765327,PHP:74.59320548076808,SGD:1.6985097210380318,THB:43.79210548437069,ZAR:22.85062385166861,EUR:1.2008694294669342}},currencyConversions={dataAsOf:dataAsOf,generatedAt:generatedAt,conversions:conversions},OpenRtbVideoLinearity,AdType;const{conversions:{USD:usdToCurrency}}=currencyConversions;function getConversionRate(e,t){return"USD"===e?usdToCurrency[t]:round(usdToCurrency[t]/usdToCurrency[e])}function round(e,t=16){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function isValidSize(e,t){const{allowedSizes:r,maxWidth:n,maxHeight:i}=t,[a,o]=e;var s=!r||r.some(e=&gt;e[0]===a&amp;&amp;e[1]===o),l=!n||a&lt;=n,c=!i||o&lt;=i;return s&amp;&amp;l&amp;&amp;c}function applyBannerSizeConfigToGPTBanner(bannerScript,bannerSizeConfig){const log=(...e)=&gt;carodaConsoleSafe.info("applyBannerSizeConfigToGPTBanner",{bannerScript:bannerScript,bannerSizeConfig:bannerSizeConfig},...e);try{const scriptLines=bannerScript.split("\n"),googleTagManagerSizesLine=scriptLines.find(e=&gt;e.includes("[["));if(!googleTagManagerSizesLine)return log("processable sizes not found"),bannerScript;const sizesStartIndex=googleTagManagerSizesLine.indexOf("[["),sizesFinishIndex=googleTagManagerSizesLine.lastIndexOf("]"),rawSizes=googleTagManagerSizesLine.substring(sizesStartIndex,sizesFinishIndex+1),sizes=eval(rawSizes),filteredSizes=sizes.filter(e=&gt;isValidSize(e,bannerSizeConfig)),filteredScript=(log({sizes:sizes,filteredSizes:filteredSizes}),bannerScript.replace(rawSizes,JSON.stringify(filteredSizes)));return log({filteredScript:filteredScript}),filteredScript}catch(err){return log({err:err}),bannerScript}}const persistentState$1=getPersistentState("prebidHelper",{slotCount:1}),PREBID_AUCTION_TIMEOUT=3e3,PREBID_FAILSAFE_TIMEOUT=6e3;async function processPrebidAuction(e,t,r,n,i,a,o,s){if(carodaConsoleSafe.info("PrebidHelper","processPrebidAuction"),i&lt;=0)throw new Error("auction exceeded campaign timeout");var l=integrationConfig.playerCdnUrl().match(/v\/([^\/]+)\//);const c=`https://ads.caroda.io/videoPlayer/v/${l?l[1]:String(Math.floor(1e9*Math.random()))}/s/default/prebid.min.js`,d=libraryWindow.document.createElement("iframe");d.style.width="0",d.style.height="0",carodaConsoleSafe.info("PrebidHelper","processPrebidAuction","bidders",t);var u,l=/pbjs_debug=true/.test(pageLocation.href),p=t.find(e=&gt;"r2b2"===e.bid.bidder);const h=[...integrationConfig.prebidSideloadUrls()];p&amp;&amp;({d:p,p:m,m:u}=p.bid.params,carodaConsoleSafe.info("PrebidHelper","processPrebidAuction","r2b2 bid detected",{d:p,p:m,m:u}),h.push(`https://delivery.r2b2.cz/get/${p}/hb/`+m+(+u?"/mobile":""))),libraryWindow.document.body.appendChild(d);p=`&lt;html&gt;
        &lt;head&gt;
            &lt;title&gt;Caroda Prebid Runner&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
            &lt;div id="${e}"&gt;&lt;/div&gt;
            &lt;script&gt;
                ${l?`
                    ['log', 'info', 'error', 'warn'].forEach(function (method) {
                        var oldMethod = console[method]
                        console[method] = function () {
                            try {
                                var args = Array.prototype.slice.call(arguments)
                                    .map(a =&gt; typeof a !== 'string' ? JSON.stringify(a) : a)
                                oldMethod.apply(console, args)
                            } catch (e) {
                                // assume recursive json error
                                oldMethod.apply(console, arguments)
                            }
                        }
                    })
                `:`
                    console.log = console.info = console.error = console.warn = function() {
                        var args = Array.prototype.slice.call(arguments)
                            .filter(a =&gt; typeof a !== 'string' || a.indexOf('display:') === -1)
                        if (window.logger &amp;&amp; window.logger.info) {
                            window.logger.info.apply(null, args)
                        }
                    }
                `}
                window.parentDomain = ${JSON.stringify(decodeURIComponent(replaceTargetingTemplate("[DOMAIN]")))}
                window.parentPageUrl = ${JSON.stringify(decodeURIComponent(replaceTargetingTemplate("[PAGE_URL]")))}
                window.PREBID_AUCTION_TIMEOUT = ${Math.min(PREBID_AUCTION_TIMEOUT,i)}
            &lt;/script&gt;
            ${[...h,c].map(e=&gt;`&lt;script src="${e}"&gt;&lt;/script&gt;`).join("\n")}
            &lt;script&gt;
                window.transparentPrebidDebug = ${JSON.stringify(l)};
                window.integrationConfig = window.parent.caroda.integrationConfig;
                window.privacy = window.parent.caroda.privacy;
                ${carodaPrebidIframeRunnerCode};
                runIframePrebid(
                    window,
                    ${[e,t,r,n,i,a,o,s].map(e=&gt;JSON.stringify(e)).join(",")});
            &lt;/script&gt;
        &lt;/body&gt;
    &lt;/html&gt;`;d.id=e+"Iframe",d.srcdoc=p;const g=d;g.throwIfVastRepeated=throwIfVastRepeated,await waitFor(()=&gt;d.contentWindow.auctionState),await new Promise(e=&gt;d.contentWindow.auctionState.setResolve(e));var m={...d.contentWindow.auctionState};return l||d.remove(),m}async function getVastFromBids(e,t,r,n,i,a,o,s){const l=getRemainingTimeout(i);if(l&lt;=0)throw new Error("auction exceeded campaign timeout");const c="carodaVirtualSlot"+persistentState$1.slotCount++;carodaConsoleSafe.info("PrebidHelper","getVastFromBids","start",t.map(e=&gt;e.bid),{code:c,playerInfo:r,excludeRepeatedAdGroup:n});var d=processPrebidAuction(c,t,r,n,l,a,e,s);let u=null;var d=await Promise.race([d,new Promise((e,t)=&gt;u=setTimeout(()=&gt;{{const e=libraryWindow.document.querySelector(`#${c}Iframe`);e&amp;&amp;e.remove()}t(new Error("auction timed out"))},Math.min(PREBID_FAILSAFE_TIMEOUT,l)))]),{bannerString:d,vastXml:p,vastUrl:h,trackingHooks:g,winningBidder:m,winningCpm:f,winningCurrency:y,width:v,height:b,adId:_,adserverTargeting:S,error:C}=(clearTimeout(u),carodaConsoleSafe.info("PrebidHelper","getVastFromBids","got",d),d);if(C)throw C;if(d&amp;&amp;!p&amp;&amp;!h){const A=new ExpandedVast;return A.adType="banner",A.bannerScript=d,A.trackingHooks=g,A.prebidAdUnitCode=c,A.prebidWinningCpm=f,A.prebidWinningCpmCurrency=y,A.creativeSuggestedSize={w:v,h:b},A.creativeId=_,A.adserverTargeting=S,A}let E;p&amp;&amp;!h&amp;&amp;(C=new Blob([p],{type:"text/xml"}),E=libraryWindow.URL.createObjectURL(C));const w=(await expandVastUrl(h||E,r,g,o,i))[0];return w.dspUrl=`//${m}.prebid`,w.prebidAdUnitCode=c,w.prebidWinningCpm=f,w.prebidWinningCpmCurrency=y,w.adserverTargeting=S,w}const{crypto}=libraryWindow;function uuidv4(){return(String(1e7)+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=&gt;{var t=e;return(t^crypto.getRandomValues(new Uint8Array(1))[0]&amp;15&gt;&gt;t/4).toString(16)})}const SeznamSspUrl="https://ssp.seznam.cz",defaultCurrency="USD",defaultMaxDuration=120,NoBidReasonCode=(!function(e){e[e.INSTREAM=1]="INSTREAM",e[e.OUTSTREAM=2]="OUTSTREAM"}(OpenRtbVideoLinearity=OpenRtbVideoLinearity||{}),!function(e){e.VIDEO="video",e.BANNER="banner"}(AdType=AdType||{}),{0:"Unknown Error",1:"Technical Error",2:"Invalid Request",3:"Known Web Spider",4:"Suspected Non-Human Traffic",5:"Cloud, Data center, or Proxy IP",6:"Unsupported Device",7:"Blocked Publisher or Site",8:"Unmatched User",9:"Daily Reader Cap Met",10:"Daily Domain Cap Met"}),adTypeRequestBody={[AdType.BANNER]:({playerWidth:t,playerHeight:e})=&gt;({format:[{w:t,h:e},{w:480,h:480},{w:250,h:250},{w:200,h:200},{w:468,h:60},{w:728,h:90},{w:300,h:250},{w:336,h:280},{w:970,h:90}].filter(e=&gt;e.w&lt;=t)}),[AdType.VIDEO]:({playerWidth:e,playerHeight:t,maximumAdLength:r})=&gt;({h:t,linearity:OpenRtbVideoLinearity.OUTSTREAM,maxduration:r||defaultMaxDuration,mimes:["video/mp4","video/x-ms-wmv","video/webm","application/javascript","video/ogg"],protocols:defaultOpenRTBProtocols,w:e})};function getUserInfo(){return{ext:{...getConsentString()?{consent:getConsentString()}:{},gdpr:!!getTcfState().applies}}}function getPageViewIdentifier(){return Array(11).fill(0).map(()=&gt;Math.floor(16*Math.random()).toString(16)).join("").toUpperCase()}function buildRequestBody(e,t){var r=pageLocation.href;return{ext:{pvId:getPageViewIdentifier()},id:uuidv4(),imp:[{bidfloor:e.priceFloor,bidfloorcur:e.priceFloorCurrency,id:1,tagid:e.tagId,[e.adType]:adTypeRequestBody[e.adType](t)}],site:{page:r},user:getUserInfo()}}async function getBid(e,t,r){const n=getRemainingTimeout(r),i=buildRequestBody(e,t);var a=await request(e=&gt;{e.open("POST",SeznamSspUrl+"/v2/rtb",!0),e.setRequestHeader("Content-type","application/json; charset=UTF-8"),e.timeout=n,e.send(JSON.stringify(i))});return a&amp;&amp;JSON.parse(a)}async function getAdMarkup(t,e){const r=getRemainingTimeout(e);if(r&lt;=0)throw new Error("getting ad markup exceeded campaign timeout");return request(e=&gt;{e.open("GET",t,!0),e.timeout=r,e.setRequestHeader("Content-type","application/json; charset=UTF-8"),e.send()})}async function getVast(e,t,r,n,i){if(getRemainingTimeout(r)&lt;=0)throw new Error("auction exceeded campaign timeout");var a=await getBid(e,t,r);if(!a||!a.seatbid||!a.seatbid.length)throw new Error(getNoBidErrorMessage(a));carodaConsoleSafe.info("SeznamOpenRtb",".getVast",a);var o=a.seatbid[0].bid[0];const s=e.adType===AdType.BANNER?await buildExpandedBannerVast(o,a,e,r):await buildExpandedVideoVast(o,a,e,t,r,n,i);a=o.burl&amp;&amp;replaceMacros(o.burl,a,o);return a&amp;&amp;s.trackingHooks.push({TrackingUrl:a,VastEvent:"impression"}),s}async function buildExpandedBannerVast(e,t,r,n){var i=replaceMacros(e.adm||await getAdMarkup(e.nurl,n),t,e);const a=new ExpandedVast;return a.adType="banner",a.bannerScript=i,a.prebidWinningCpm=e.price,a.prebidWinningCpmCurrency=t.cur||defaultCurrency,a.trackingHooks=r.trackingHooks.slice(0),a}async function buildExpandedVideoVast(e,t,r,n,i,a,o){const s=(await expandStaticVast(replaceMacros(e.adm||await getAdMarkup(e.nurl,i),t,e),n,r.trackingHooks,a,i,o))[0];return s.prebidWinningCpm=e.price,s.prebidWinningCpmCurrency=t.cur||defaultCurrency,s}const openRtbMacrosReplacer={AUCTION_AD_ID:(e,t)=&gt;t.adid,AUCTION_BID_ID:e=&gt;e.bidid,AUCTION_CURRENCY:e=&gt;e.cur,AUCTION_ID:e=&gt;e.id,AUCTION_IMP_ID:(e,t)=&gt;t.impid,AUCTION_LOSS:()=&gt;"",AUCTION_MBR:()=&gt;"",AUCTION_PRICE:(e,t)=&gt;t.price.toString(),AUCTION_SEAT_ID:(e,t)=&gt;t.id};function replaceMacros(e,r,n){return Object.keys(openRtbMacrosReplacer).reduce((e,t)=&gt;e.replace(new RegExp(`\\\${${t}}`,"g"),openRtbMacrosReplacer[t](r,n)||""),e)}function getNoBidErrorMessage(e){return e&amp;&amp;e.nbr?`no bid response (${NoBidReasonCode[e.nbr]})`:"no bid response"}function reportVastAdLoad(e){carodaConsoleSafe.info("VastAdLoadReport","reportVastAdLoad",e)}class TrackingHook{constructor(e){this.VastEvent=e.VastEvent,this.TrackingUrl=e.TrackingUrl}}const stableStringify=index||_stableStringify,{Math:Math$1}=libraryWindow,minimatch=minimatch$5||minimatchModule,cacheTable=new CachedTable("expanded-campaigns",60,e=&gt;e.map(e=&gt;Object.assign(new CampaignExpandedView,e)));class CampaignView{constructor(e,t){this.transactionId=uuidv4(),this.id=e.CampaignId,this.logger=carodaConsoleSafe.getInstanceLogger("CampaignView",this.id),this.ctok=e.Ctok,this.title=e.Title,this.trackingHooks=e.TrackingHooks.map(e=&gt;new TrackingHook(e)),this.priority=e.Priority,this.type=e.Type,this.vastUrl=e.CampaignUrl,this.staticVastContent=e.StaticVastContent,this.bannerScript=e.CampaignScript,this.assetId=e.AssetId,this.assetWeight=e.AssetWeight,this.assetTitle=e.ParentAssetTitle||e.AssetTitle,this.assetWhitelistGlobs=e.AssetWhitelistGlobs||[],this.assetBlacklistGlobs=e.AssetBlacklistGlobs||[],this.targetingRules=e.TargetingRules||[],this.adType=e.AdType,"prebid"===this.type&amp;&amp;(this.prebidContext=t,this.hbParams=JSON.parse(e.PrebidParamsJson),this.hbAdUnitFormats=e.AdUnitFormats,this.hbMinimumPriceFloor=e.PrebidMinimumPriceFloor,this.hbMinimumPriceFloorCurrency=e.PrebidMinimumPriceFloorCurrency,this.hbOtherBids=[],this.hbSchain={nodes:e.SchainNodes}),this.fixedPrebidValue=e.FixedPrebidValue,this.fixedPrebidCurrency=e.FixedPrebidCurrency,this.lastCappingEventTypeModificationTimestamp=new Date(e.LastCappingEventTypeModification).getTime()||0,this.cappingEventType=e.CappingEventType,this.eventsPerUser=e.EventsPerUser;var r=e.EventsPerUserInterval,r=(this.cappingIntervalInDays=r?intervalToDays(r.Value,r.Unit):3650,this.schedule=e.Schedule,this.maximumAdLength=e.MaximumAdLength||getPlacementMaximumAdLength(e.AssetId),this.overrideSkipBehavior=e.OverrideSkipBehavior,this.fixedSkipOffset=e.FixedSkipOffset,this.pathGlobs=(e.PathGlobs||[]).map(e=&gt;e.trim()).filter(Boolean),this.pathBlacklistGlobs=(e.PathBlacklistGlobs||[]).map(e=&gt;e.trim()).filter(Boolean),"teads"===this.type&amp;&amp;(this.teadsScriptUrl=e.CampaignScriptUrl),"aniview"===this.type&amp;&amp;(this.aniviewPublisherId=e.CampaignAniviewPublisherId,this.aniviewChannelId=e.CampaignAniviewChannelId),"smartclip"===this.type&amp;&amp;(this.smartclipId=e.SmartclipId),"adform-timed-static"===this.type&amp;&amp;(this.adformBannerStaticAdLength=e.AdformBannerStaticAdLength,this.adformBannerStaticJsonUrl=e.AdformBannerStaticJsonUrl),"seznam-openrtb"===this.type&amp;&amp;(this.seznamOpenRtbParams={adType:this.adType||e.SeznamOpenRtbAdType,priceFloor:e.SeznamOpenRtbPriceFloor,priceFloorCurrency:e.SeznamOpenRtbPriceFloorCurrency,tagId:e.SeznamOpenRtbTagId}),"gam-banner"===this.type&amp;&amp;(this.gamBannerSlotId=e.GamBannerSlotId,this.gamBannerSizes=null==(r=e.GamBannerSizes)?void 0:r.filter(e=&gt;"fluid"!==e),this.gamBannerAutoRefreshEverySeconds=e.GamBannerAutoRefreshEverySeconds),this.speed=void 0!==e.Speed?e.Speed:1,this.bannerScriptExecutionTiming=e.CampaignExecutionTiming||"asSoonAsPossible",(this.bannerScript||"").includes("passbackToCaroda")||"gam-banner"===this.type);r&amp;&amp;(this.bannerScriptExecutionTiming="asSoonAsPossible"),this.waitToExpand=Promise.resolve()}async getExpandedCached(e,t,r,n,i,a={},o,s={}){if(await this.waitToExpand,this.shouldBeSpeedCapped())throw this.logger.info(".getExpandedCached","skipping campaign to adjust pacing"),new Error("speed capped");var l=-1!==["rubicon","rubicon-optimized"].indexOf(this.type),l=!i||l||integrationConfig.noChainCaching()||"server"===this.runContext;if(this.logger.info(".getExpandedCached",{playerInfo:e,shouldExcludeRepeated:t,adsGroup:r,allowNonSliderPlayers:n,noCache:l,vastMacroContext:a}),l)return this.getExpanded(e,t,r,n,a,o,s);const c={...a,playerInfo:void 0},d=[this.id,e,t,r.replace(/[0-9]/g,""),n,c,s].map(e=&gt;stableStringify(e)).join(".");this.logger.info(".getExpandedCached",{cacheKey:d});let u=await cacheTable.get(d);return u||(u=await this.getExpanded(e,t,r,n,a,o,s),await cacheTable.set(d,u)),u.forEach(e=&gt;{e.expire=()=&gt;cacheTable.remove(d),e.adsGroup=r}),u.map(e=&gt;Object.assign(new CampaignExpandedView,e))}shouldRun(){return!this.isUserCapped()&amp;&amp;!this.isCappedHour()&amp;&amp;this.isPathTargeted()&amp;&amp;!this.isPathFilteredByAsset()&amp;&amp;!this.isCappedByLocalStorageConsent()&amp;&amp;this.isTargeted()}async getExpanded(t,r,n,i,a,e,o){var s,l=(new Date).getTime()+e,c=getRemainingTimeout(l);if(c&lt;=0)return this.logger.info(".getExpanded","timed out",this.type),[];if(this.logger.info(".getExpanded",this.type,{playerInfo:t,shouldExcludeRepeated:r,adsGroup:n,allowNonSliderPlayers:i}),["teads","smartclip","aniview","banner"].includes(this.type)&amp;&amp;!i)throw new Error("non-slider players not allowed for "+this.id);if("teads"===this.type||"banner"===this.type||"smartclip"===this.type){const m=this.createExpandedCampaign(l,n);return m.type=this.type,m.bannerScript=this.applyBannerSizeConfig(this.bannerScript,o),m.teadsScriptUrl=this.teadsScriptUrl,m.smartclipId=this.smartclipId,[m]}if("gam-banner"===this.type){const f=this.createExpandedCampaign(l,n);return f.type=this.type,f.gamBannerSlotId=this.gamBannerSlotId,f.gamBannerSizes=this.applyBannerSizeConfigToGamBannerSizes(this.gamBannerSizes,o),f.gamBannerAutoRefreshEverySeconds=this.gamBannerAutoRefreshEverySeconds,[f]}if("aniview"===this.type){const y=this.createExpandedCampaign(l,n);return y.type=this.type,y.aniviewPublisherId=this.aniviewPublisherId,y.aniviewChannelId=this.aniviewChannelId,[y]}"adform-timed-static"===this.type&amp;&amp;(this.type="local-vast",this.vastUrl=await getAdformTimedStaticAd(this.adformBannerStaticJsonUrl,this.adformBannerStaticAdLength,c));const d={adType:this.type,campaignId:this.id,inTrackingHooks:this.trackingHooks.slice(0),outTrackingHooks:[],placementId:this.assetId,vastChain:[]};try{if("prebid"===this.type)return s=await getVastFromBids(this.placementId,this.hbOtherBids.filter(e=&gt;"prebid"===e.type&amp;&amp;(i||"teads"!==e.hbParams.bidder)).map(e=&gt;({adUnitFormats:e.adType?[e.adType]:e.hbAdUnitFormats,bid:e.hbParams,cid:e.id,ctok:e.ctok,minimumPriceFloor:e.hbMinimumPriceFloor*getConversionRate(e.hbMinimumPriceFloorCurrency,"EUR"),schain:e.hbSchain,trackingHooks:e.trackingHooks})),{campaignId:this.id,maximumAdLength:this.maximumAdLength,...t},r?n:null,l,this.prebidContext,d,o),[this.expandedVastToExpandedCampaign(s,l,n,d)];if("seznam-openrtb"===this.type){var u=await getVast({...this.seznamOpenRtbParams,trackingHooks:this.trackingHooks},{maximumAdLength:this.maximumAdLength,...t},l,d,a);const b=this.expandedVastToExpandedCampaign(u,l,n,d);return b.sspUrl=SeznamSspUrl,[b]}let e;var p=this.vastUrl,h=this.staticVastContent;e="vast"===this.type&amp;&amp;h?await expandStaticVast(h,{campaignId:this.id,...t},[],d,l,a,this.transactionId):await expandVastUrl(p,{campaignId:this.id,maximumAdLength:this.maximumAdLength,...t},[],d,l,a,this.transactionId);const v=this.createExpandedCampaign(l,n);var g=e.map(e=&gt;(d.adType=e.adType,d.outTrackingHooks=e.trackingHooks,reportVastAdLoad(d),v.type=e.adType,v.vastContent=e.vast,v.trackingHooks.push(...e.trackingHooks),v.vastContentAspectRatio=e.format,v.sspUrl=this.vastUrl,v.dspUrl=e.dspUrl,v)).filter(Boolean);if(0===g.length)throw new Error("all assets repeated");return g}catch(e){throw d.error=e.message||e,reportVastAdLoad(d),e}}shouldBeSpeedCapped(){return Math$1.random()&gt;this.speed}createExpandedCampaign(e,t){const r=new CampaignExpandedView;return r.title=this.title,r.transactionId=this.transactionId,r.id=this.id,r.ctok=this.ctok,r.trackingHooks=cloneDeep$1(this.trackingHooks),r.priority=this.priority,r.maximumAdLength=this.maximumAdLength,r.overrideSkipBehavior=this.overrideSkipBehavior,r.fixedSkipOffset=this.fixedSkipOffset,r.cappingEventType=this.cappingEventType,r.speed=this.speed,r.assetId=this.assetId,r.loadExpiryTimestamp=e,r.adsGroup=t,r.bannerScriptExecutionTiming=this.bannerScriptExecutionTiming,this.fixedPrebidValue&amp;&amp;(r.cpmEur=this.fixedPrebidValue*getConversionRate(this.fixedPrebidCurrency,"EUR")),r}isCappedHour(){if(!this.schedule)return!1;const e=new Date;var t=e.getUTCHours(),r=(e.getUTCDay()+6)%7,r=0===(this.schedule["_"+r]||this.schedule.Default)[t];return this.logger.info(".isCappedHour",r),r}isUserCapped(){if(!this.eventsPerUser)return!1;const t=Math$1.max(Date.now()-24*this.cappingIntervalInDays*60*6e4,this.lastCappingEventTypeModificationTimestamp);var e=getCampaignViewHistory(this.id).filter(e=&gt;e&gt;t),r=e.length&gt;=this.eventsPerUser;return this.logger.info(".isUserCapped",e,r),r}isPathTargeted(){const t=pageLocation.href;return this.pathBlacklistGlobs.some(e=&gt;minimatch(t,e))?(this.logger.info(".isPathTargeted","blacklisted",t,this.pathBlacklistGlobs),!1):!this.pathGlobs.length||this.pathGlobs.some(e=&gt;minimatch(t,e))?(this.logger.info(".isPathTargeted","whitelisted",t,this.pathGlobs),!0):(this.logger.info(".isPathTargeted","not whitelisted",t,this.pathGlobs),!1)}isTargeted(){var e={browser:targetingProfile.browser(),country:targetingProfile.country(),device:targetingProfile.device(),os:targetingProfile.os()};const t=r=&gt;e=&gt;{var t=new RegExp(r+"/(.*)","i").exec(e);return t?t[1]:void 0},a=e=&gt;this.targetingRules.map(t(e)).filter(Boolean),o=e=&gt;e.toLowerCase().replace(/\s+/g,"");return Object.entries(e).every(([e,t=""])=&gt;{const r=a(e);var n,i=!r.length||r.some(([n=""]=[t],(e="")=&gt;o(n)===o(e)));return i||this.logger.info(".isTargeted",t,"not targeted by",r),i})}isPathFilteredByAsset(){const t=pageLocation.href;return this.assetBlacklistGlobs.length&amp;&amp;this.assetBlacklistGlobs.some(e=&gt;minimatch(t,e))?(this.logger.info(".isPathFilteredByAsset","blacklistGlobs",t,this.assetBlacklistGlobs),!0):!(!this.assetWhitelistGlobs.length||this.assetWhitelistGlobs.some(e=&gt;minimatch(t,e)))&amp;&amp;(this.logger.info(".isPathFilteredByAsset","assetWhitelistGlobs",t,this.assetWhitelistGlobs),!0)}isCappedByLocalStorageConsent(){return this.eventsPerUser&amp;&amp;!isLocalStorageAllowed()}expandedVastToExpandedCampaign(e,t,r,n){const i=this.createExpandedCampaign(t,r);var a;return e.prebidWinningCpm&amp;&amp;(a=getConversionRate(e.prebidWinningCpmCurrency,"EUR"),i.cpmEur=e.prebidWinningCpm*a),"banner"===e.adType?(i.type="banner",i.trackingHooks=e.trackingHooks,i.bannerScript=e.bannerScript,i.prebidAdUnitCode=e.prebidAdUnitCode,i.creativeSuggestedSize=e.creativeSuggestedSize):(n.adType=e.adType,n.inTrackingHooks=[],n.outTrackingHooks=e.trackingHooks.slice(0),reportVastAdLoad(n),i.type=e.adType,i.vastContent=e.vast,i.trackingHooks=e.trackingHooks,i.vastContentAspectRatio=e.format,i.sspUrl=e.dspUrl,i.dspUrl=e.dspUrl,i.prebidAdUnitCode=e.prebidAdUnitCode),i.creativeId=e.creativeId,i.adserverTargeting=e.adserverTargeting,i}applyBannerSizeConfig(e,t){return isGPTBanner(e)?applyBannerSizeConfigToGPTBanner(e,t):e}applyBannerSizeConfigToGamBannerSizes(e=[],n){return e.filter(e=&gt;{var[t,r]=e.split("x"),t=Number(t),r=Number(r);return!isNaN(t)&amp;&amp;!isNaN(r)&amp;&amp;isValidSize([t,r],n)})}}function getPlacementMaximumAdLength(t){var e;const r=integrationConfig.integrationRecord().outstreamPlacements||[];return(null==(e=r.find(e=&gt;e.id===t))?void 0:e.maximumAdLength)||void 0}function intervalToDays(e,t){switch(t){case"Day":return e;case"Hour":return e/24;case"Month":return 30*e}}const persistentState=getPersistentState("placementsContext",{});async function getPlacementDimensions(e){return persistentState[e]||createContext(e),persistentState[e].promise}function setPlacementDimensions(e,{height:t,width:r}){var n;null!=(n=persistentState[e])&amp;&amp;n.resolve({height:t,width:r}),createContext(e),persistentState[e].resolve({height:t,width:r})}function createContext(e){let t;var r=new Promise(e=&gt;{t=e});persistentState[e]={resolve:t,promise:r}}const ongoingAdServerRequests={};async function fillFromAdServer(t){var e=(...e)=&gt;carodaConsoleSafe.info("AdServer","fillFromAdServer",t.id,...e),r=t.assetId;null==ongoingAdServerRequests[r]&amp;&amp;(ongoingAdServerRequests[r]=fetchCampaignsFromAdServer(r));const n=await ongoingAdServerRequests[r],i=n.ads.find(e=&gt;e.campaign.id===t.id);i?(e("adServerCampaignResponse",i),t.trackingHooks=i.bid.trackingHooks.map(({vastEvent:e,trackingUrl:t})=&gt;({TrackingUrl:t,VastEvent:e})),t.staticVastContent=null==(r=i.bid.creative.video)?void 0:r.source.vast.xml,t.vastUrl=null==(r=i.bid.creative.video)?void 0:r.source.vast.url,t.bannerScript=null==(r=i.bid.creative.banner)?void 0:r.script):e((null==(r=n.errors.find(e=&gt;e.campaignId===t.id))?void 0:r.error)||"No ad server response for campaign")}async function fetchCampaignsFromAdServer(e){try{await waitForConsentGdpr(),await waitForConsentUsp();var[t,r]=await Promise.all([getConsentString(),getUspState()]),n=integrationConfig.websiteDomain(),{height:i,width:a}=await getPlacementDimensions(e);const o=await fetch(`https://adsrv.caroda.io/ads/${encodeURIComponent(n)}/`+e,{body:JSON.stringify({placement:{pageUrl:pageLocation.href,playerHeight:Math.round(i),playerWidth:Math.round(a)},privacy:{gdprApplies:await doesGdprApply(),gdprConsent:t,usPrivacy:r.consentString},settings:{displayNoAdReasons:!0,expandGoogleSsp:!1,expandGuaranteedUrls:!1,ignorePreferBrowserRunContext:!1,ignoreRunContext:!1,mustBeGuaranteedToBePaid:!1,returnVideoAdsAsMediaList:!1}}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"post"});return await o.json()}catch(e){return carodaConsoleSafe.error("fetchCampaignsFromAdServer","error",e),{ads:[],errors:[{error:"Failed to fetch campaigns from ad server"}]}}}const cacheTimeoutInMs=12e4;async function getListByAssetId(e,t,r=()=&gt;!0,n=e=&gt;e){carodaConsoleSafe.info("CampaignApi",".getListByAssetId",e);const i=await getListByAssetIdMixedUntargeted(e),a=i.reduce((e,t)=&gt;({...e,[t.ctok]:[...e[t.ctok]||[],t]}),{});var o=integrationConfig.contributorToken(t);const s=a[o];delete a[o];o=Object.keys(a).map(e=&gt;a[e]).sort(()=&gt;Math.random()-.5),o=combineCampaignViews([s,...o].filter(Boolean));const l=[];await targetingProfile.waitForReady();for(const d of o)if(d.hbOtherBids){var c=d.hbOtherBids.filter(e=&gt;e.shouldRun()&amp;&amp;r(e)).map(n);if(c.length){const u=c[0];u.hbOtherBids=c,l.push(u)}}else d.shouldRun()&amp;&amp;r(d)&amp;&amp;(c=n(d),l.push(c));return l}async function getListByAssetIds(r,t,n=()=&gt;!0,i=e=&gt;e){carodaConsoleSafe.info("CampaignApi",".getListByAssetIds",r),r=r||[];const e=await Promise.all(r.map(e=&gt;getListByAssetId(e,t,n,i)));var a=e.map((e,t)=&gt;({campaignIds:e.map(e=&gt;e.id),placementId:r[t]}));return carodaConsoleSafe.info("CampaignApi",".getListByAssetIds",{campaignIdsByPlacement:a}),combineCampaignViews(e)}async function getCampaignViewsFromAssetId(e){var t=integrationConfig.websiteDomain(),r=(null==(r=null==(r=libraryWindow.carodaCampaigns)?void 0:r[t])?void 0:r[e])||await fetchCampaignViewsFromAssetId(e,t);return scheduleReloadAssetId(e),r}function groupPrebidCampaigns(e){const t={};return e.filter(e=&gt;"prebid"===e.type).forEach(e=&gt;{t[e.priority]=t[e.priority]||[],e.hbOtherBids=t[e.priority],t[e.priority].push(e)}),e.filter(e=&gt;"prebid"!==e.type||e===e.hbOtherBids[0])}async function getListByAssetIdMixedUntargeted(r){try{if(carodaConsoleSafe.info("CampaignApi",".getListByAssetIdMixedUntargeted",r),integrationConfig.disableAds())throw new Error("ads disabled by integration");var e=integrationConfig.forceInstreamPrebidContext();const n=r.match(/^opz/)&amp;&amp;!e?"outstream":"instream",i=await getCampaignViewsFromAssetId(r);var t=groupPrebidCampaigns(i.map(t=&gt;{try{const e=new CampaignView(t,n);return e.placementId=r,"server"===t.RunContext&amp;&amp;(e.waitToExpand=fillFromAdServer(e)),e}catch(e){return carodaConsoleSafe.info("CampaignApi",".getListByAssetIdMixedUntargeted",r,e.message,e.stack,t),null}}).filter(Boolean)).sort((e,t)=&gt;e.priority-t.priority);return carodaConsoleSafe.info("CampaignApi",".getListByAssetIdMixedUntargeted",r,t),t}catch(e){return carodaConsoleSafe.info("CampaignApi",".getListByAssetIdMixedUntargeted",r,"skipped",e),[]}}function combineCampaignViews(e){carodaConsoleSafe.info("CampaignApi",".combineCampaignViews",e);var t=e=&gt;r(e)&amp;&amp;(e.bannerScript||"").includes("passbackToCaroda");const r=e=&gt;"banner"===e.type;for(let l=1;l&lt;e.length;l++){const c=e[l-1];var n=e[l],i=c.length?Math.max(...c.map(e=&gt;e.priority)):0;for(const d of n)d.priority=Math.max(d.priority,1e-5)+i+1}const a=e.reduce((e,t)=&gt;[...e,...t],[]),o=a.filter(or(t,not(r)));var t=a.filter(and(r,not(t))),s=Math.max(...o.map(e=&gt;e.priority));for(const u of t)u.priority=Math.max(u.priority,1e-5)+s+1;t=[...o,...t].sort((e,t)=&gt;e.priority-t.priority);return carodaConsoleSafe.info("CampaignApi",".combineCampaignViews","got",t),t}function scheduleReloadAssetId(e,t=0){e.match(/^v/)?carodaConsoleSafe.info("CampaignApi",".scheduleReloadAssetId",e,"skipped instream"):(carodaConsoleSafe.info("CampaignApi",".scheduleReloadAssetId",e),renderDocument.hasFocus()?(carodaConsoleSafe.info("CampaignApi",".scheduleReloadAssetId",e,"scheduled"),t=t||Date.now(),libraryWindow.setTimeout(()=&gt;getCampaignViewsFromAssetId(e),t+cacheTimeoutInMs-5e3-Date.now())):carodaConsoleSafe.info("CampaignApi",".scheduleReloadAssetId",e,"no focus"))}async function fetchCampaignViewsFromAssetId(e,t){carodaConsoleSafe.info("CampaignApi","fetchCampaignViewsFromAssetId",{assetId:e,domainName:t});const r="https://ads.caroda.io/api/campaigns?"+qsStringify({domainName:t,placementId:e});return await requestJson(e=&gt;{e.open("GET",r,!0),e.timeout=3e3,e.send(null)})}function qsStringify(r){return Object.keys(r).reduce((e,t)=&gt;e+`&amp;${t}=`+encodeURIComponent(String(r[t])),"")}function appendCss(e){const t=renderDocument.createElement("STYLE");return t.innerHTML=e,renderDocument.head.appendChild(t),t}function getCssString(r){const n=renderDocument.createElement("span");return Object.keys(r).forEach(e=&gt;{let t=r[e];"content"===e&amp;&amp;(t=`"${t}"`),n.style[e]=t}),n.style.cssText}function getHighSpecificitySelector(e){var t=renderDocument.getElementById(e);return(t?t.nodeName:"")+"#"+e+(t?"."+Array.from(t.classList).join("."):"")}function createDownloadLogsButton(){const e=renderDocument.createElement("button");e.classList.add("caroda-download-logs"),e.innerText="Download Caroda Logs",e.addEventListener("click",e=&gt;{e.stopPropagation(),e.preventDefault(),libraryWindow.carodaConsole.saveLogs()}),renderDocument.body.appendChild(e)}function scrollPositionIntoView(){var e=integrationConfig.scrollToMultiPosition();null!=e?scrollToMultiPosition(e):null!=(e=integrationConfig.scrollToPosition())&amp;&amp;scrollToPosition(e)}async function scrollToPosition(e,t=".carodaContainer:not(.carodaMultiPositionPlaceholder), .carodaInstreamWithPositions, .carodaInstream"){carodaConsoleSafe.info("scrollToPosition",e,t),await waitFor(()=&gt;!!getPosition(e,t));const r=getPosition(e,t);carodaConsoleSafe.info("scrollToPosition",r),r.scrollIntoView({block:"center"}),await waitForHeight(r),setTimeout(()=&gt;{r.scrollIntoView({block:"center"}),carodaConsoleSafe.info("scrollToPosition","done")},500)}function scrollToMultiPosition(e){return scrollToPosition(e,".carodaMultiPositionPlaceholder")}function getPosition(e,t){const r=renderDocument.querySelectorAll(t)[e];if(r)return r.classList.contains("carodaInstreamWithPositions")?r.parentElement:r}function waitForHeight(e){return waitFor(()=&gt;50&lt;e.clientHeight)}const findSlot=(e,t,r,n)=&gt;{carodaConsoleSafe.info("SlotFinder",".findSlot",e,t);var i=!1!==t;let a=getCandidateSlots(e);if(carodaConsoleSafe.info("SlotFinder",".findSlot","found",a.length,"candidates"),i&amp;&amp;(i=filterOutNarrowElements(a),carodaConsoleSafe.info("SlotFinder",".findSlot","found",i.length,"full width candidates"),a=i),null!==r&amp;&amp;(i=a.filter(r),carodaConsoleSafe.info("SlotFinder",".findSlot","found",i.length,"filtered candidates"),a=i),0===a.length)carodaConsoleSafe.info("SlotFinder",".findSlot","no suitable element found");else{const d=n||((e,t,r)=&gt;3&lt;=r);for(let e=0;e&lt;a.length;e++){var o=a[e],s=o.nextElementSibling,l=o.parentElement,c=isInViewport(s||o);if(d(o,s,e,c,a.length))return{container:l,next:s,prev:o}}}},getCandidateSlots=e=&gt;{if(carodaConsoleSafe.info("SlotFinder",".getCandidateSlots",e),!e)return[];if("string"!=typeof e)return Array.isArray(e)?e:[].slice.call(e.children);var t=/:sparse$/;if(e.match(t))return[].slice.call(renderDocument.querySelectorAll(e.replace(t,"")));t=renderDocument.querySelector(e);return t?[].slice.call(t.children):[]},filterOutNarrowElements=e=&gt;(carodaConsoleSafe.info("SlotFinder",".filterOutNarrowElements"),[].slice.apply(e).filter(e=&gt;{if("none"===renderWindow.getComputedStyle(e).display)return!1;let t=e;for(;t&amp;&amp;!isFloatElement(t);)t=t.previousElementSibling;return!t||e.getBoundingClientRect().top&gt;t.getBoundingClientRect().bottom})),isFloatElement=e=&gt;{var t="none"!==renderWindow.getComputedStyle(e).getPropertyValue("float");if(t||!e.children.length)return t;{const r=[].slice.call(e.children);return r.some(e=&gt;isFloatElement(e))}};class GemiusTracker{constructor(e,t,r,n){this.adCount=-1,this.logger=carodaConsoleSafe.getInstanceLogger("GemiusTracker"),this.logger.info(".constructor"),this.gemiusPlayer=t,this.getCurrentPosition=r,this.getContentMetadata=n,e.addEventListener("start",this.trackAdBreakStart.bind(this)),e.addEventListener("pause",this.trackAdBreakEvent.bind(this,"pause")),e.addEventListener("resume",this.trackAdBreakEvent.bind(this,"play")),e.addEventListener("complete",this.trackAdBreakEvent.bind(this,"complete")),e.addEventListener("skip",this.trackAdBreakEvent.bind(this,"skip")),e.addEventListener("volumeChanged",this.trackAdBreakEvent.bind(this,"chngVol"))}async trackAdBreakStart(e){"preroll"!==this.getCurrentPosition()&amp;&amp;this.logGemiusProgramEvent("break");var t=await e.getCreativeMetadata().catch(()=&gt;null);t&amp;&amp;(this.logGemiusNewAdEvent(t,e),this.logGemiusAdEvent("play",t,e))}async trackAdBreakEvent(e,t){var r=await t.getCreativeMetadata().catch(()=&gt;null);r&amp;&amp;this.logGemiusAdEvent(e,r,t)}logGemiusProgramEvent(e){const t=this.getContentMetadata();var r=this.shouldAdEventContainEventData(e)?{autoPlay:t.isAutoplay(),partID:void 0,resolution:t.getResolution(),volume:t.getVolume()}:void 0;this.logger.info(".logGemiusProgramEvent",t.programId,t.getCurrentTime(),e,r),this.gemiusPlayer.programEvent(t.programId,t.getCurrentTime(),e,r)}shouldAdEventContainEventData(e){return-1===["pause","buffer","break","seek","complete","close","skip","stop"].indexOf(e)}logGemiusNewAdEvent(e,t){const r=this.getContentMetadata();var n={adDuration:e.durationSeconds,adName:e.title,adType:this.getGemiusAdType(this.getCurrentPosition()),campaignClassification:"unclassified",quality:r.getResolution(),resolution:r.getResolution(),volume:100*t.getVolume()};this.logger.info(".logGemiusNewAdEvent",e.id,n),this.gemiusPlayer.newAd(e.id,n),this.adCount++}getGemiusAdType(e){switch(e){case"preroll":return"pre";case"midroll":return"mid";case"postroll":return"post"}}logGemiusAdEvent(e,t,r){const n=this.getContentMetadata();var i=this.shouldAdEventContainEventData(e)?{adPosition:this.adCount,autoPlay:n.isAutoplay(),resolution:n.getResolution(),volume:100*r.getVolume()}:void 0;this.logger.info("logGemiusAdevent",n.programId,t.id,n.getCurrentTime(),e,i),this.gemiusPlayer.adEvent(n.programId,t.id,n.getCurrentTime(),e,i)}}const{MutationObserver:MutationObserver$2}=renderWindow;class VideoElementContentPlayer{constructor(e,t={}){this.videoElement=e,this.id=e.id||"content-player-"+Math.round(1e10*Math.random()),this.eventHandlers={ended:[],loadedmetadata:[],pause:[],playing:[],timeupdate:[]},this.mutationObservers=[],this.overrides=t}isInDOM(){return renderDocument.body.contains(this.videoElement)}getContainer(){return this.videoElement.parentElement}getCurrentTime(){return this.overrides.getCurrentTime?this.overrides.getCurrentTime():this.videoElement.currentTime}async getDuration(){var e=this.overrides.getDuration?this.overrides.getDuration():this.videoElement.duration;return null==e||isNaN(e)?new Promise(e=&gt;{const t=()=&gt;{e(this.videoElement.duration),this.videoElement.removeEventListener("loadedmetadata",t)};this.videoElement.addEventListener("loadedmetadata",t)}):e}getVolume(){return this.videoElement.volume}setVolume(e){this.videoElement.volume=e,this.videoElement.muted=!e}isAutoplay(){return this.videoElement.autoplay}isMuted(){return this.videoElement.muted}onEnded(e){this.videoElement.addEventListener("ended",e),this.eventHandlers.ended.push(e)}async onPlaylistItemChange(e){var t=await Promise.race([this.wrapVideoElementFromNextMetadata(),this.wrapNextVideoElement()]);!this.videoElement||e(t)}onTimeUpdate(e){var t=()=&gt;{this.videoElement.currentTime&amp;&amp;e()};this.videoElement.addEventListener("timeupdate",t),this.eventHandlers.timeupdate.push(t)}pause(){this.videoElement.pause()}play(){Promise.resolve(this.videoElement.play()).catch(()=&gt;{this.videoElement.muted=!0,this.videoElement.play()})}setCurrentTime(e){this.videoElement.currentTime=e}getAutoplayBehaviour(){var e=this.videoElement.getAttribute("caroda-autoplay-behaviour");return e||(this.isAutoplay()?"standard":"user-initiated")}disconnect(){this.log(".disconnect"),Object.keys(this.eventHandlers).forEach(t=&gt;{this.eventHandlers[t].forEach(e=&gt;{this.videoElement.removeEventListener(t,e)})}),this.mutationObservers.forEach(e=&gt;{e.disconnect()}),this.videoElement=void 0}onPause(e){this.videoElement.addEventListener("pause",e),this.eventHandlers.pause.push(e)}onPlaying(e){this.videoElement.addEventListener("playing",e),this.eventHandlers.playing.push(e)}waitUntilReady(){return this.overrides.waitUntilReady?this.overrides.waitUntilReady():this.waitUntilReadyState()}isLive(){return this.overrides.isLive&amp;&amp;this.overrides.isLive()}getMediaUrl(){var e;let t=null==(e=this.videoElement)?void 0:e.currentSrc;if(t.startsWith("blob")&amp;&amp;this.videoElement.classList.contains("vjs-tech"))try{const r=renderWindow.videojs;t=r(this.videoElement).tech().currentSrc()}catch(e){}return carodaConsoleSafe.info("VideoElementContentPlayer",".getMediaUrl",t),t}waitUntilReadyState(){return 0&lt;this.videoElement.readyState?Promise.resolve():new Promise(e=&gt;this.videoElement.addEventListener("loadedmetadata",()=&gt;e()))}log(...e){carodaConsoleSafe.info("VideoElementContentPlayer",this.id,this.videoElement,...e)}async wrapVideoElementFromNextMetadata(){if(await this.waitUntilReadyState(),this.videoElement)return new Promise(t=&gt;{var e=()=&gt;{var e=new VideoElementContentPlayer(this.videoElement,this.overrides);this.log(".watchForLoadedmetadata"),t(e)};this.videoElement.addEventListener("loadedmetadata",e),this.eventHandlers.loadedmetadata.push(e)})}async wrapNextVideoElement(){const e=await(this.overrides.getNextVideoElement?this.overrides:this).getNextVideoElement();return e.pause(),await waitFor(()=&gt;!!e.parentElement),this.log(".getNewContentPlayerAdded","video element did change"),new VideoElementContentPlayer(e,this.overrides)}getNextVideoElement(){return new Promise(r=&gt;{const n=new MutationObserver$2(async e=&gt;{this.log("getNewVideoElementAdded",e);var t=Array.from(e).reduce((e,t)=&gt;[...e,...Array.from(t.addedNodes||[])],[]);t&amp;&amp;t.length&amp;&amp;((t=[].slice.call(t).find(({tagName:e})=&gt;"VIDEO"===e))&amp;&amp;(n.disconnect(),r(t)))});n.observe(this.videoElement.parentElement,{childList:!0}),this.mutationObservers.push(n)})}}function getAutoplayBehaviour(e){return e.getAutoplayBehaviour?e.getAutoplayBehaviour():e.isAutoplay()?"standard":"user-initiated"}async function resumeContent(e){try{var t=getAutoplayBehaviour(e);if("user-initiated"===t)return;"viewable"===t&amp;&amp;await waitUntilInView(e.getContainer()),carodaConsoleSafe.info("ContentPlayer",".resumeContent"),e.play()}catch{try{e.play()}catch{}}}class Api{async getMigratedAssetIdAndUrl(e,t,r={}){carodaConsoleSafe.info("Api","getMigratedAssetIdAndUrl",e,t);var n=integrationConfig.videoCollectionId(),i=integrationConfig.contributorToken(r);t&amp;&amp;(e+=(-1===e.indexOf("?")?"?":"&amp;")+"publish_date="+t.toISOString());const a=`https://videos.caroda.io/api/migrate?url=${encodeURIComponent(e)}&amp;ctok=${encodeURIComponent(i)}&amp;vcid=`+encodeURIComponent(n);i=await requestJson(e=&gt;{e.open("GET",a),e.send()});let o=null;return"finished"!==i.TranscodingJobStatus&amp;&amp;(n=/caroda.io.migrate/.test(i.MigrationInfo.migratedUrl),o=i.MigrationInfo.is3rdParty||n?"3rdparty":i.MigrationInfo.migratedUrl),[i.VID,o]}async extendPrebidRequest(e,t){carodaConsoleSafe.info("Api","extendPrebidRequest",e);const r="https://prebid.caroda.io/api/hb?entry_id="+encodeURIComponent(e)+(t?"&amp;entry_type="+encodeURIComponent(t):"");return requestJson(e=&gt;{e.open("PUT",r),e.send("extend")})}async pushPrebidResult(e,t){carodaConsoleSafe.info("Api","pushPrebidResult",e,t);const r="https://prebid.caroda.io/api/hb?entry_id="+encodeURIComponent(e);return requestJson(e=&gt;{e.open("PUT",r),e.send(JSON.stringify(t))})}async pushVastContentResult(e,t,r){carodaConsoleSafe.info("Api","pushVastContentResult",e,t,r);const n=[{ad:r}],i=`https://prebid.caroda.io/api/hb?entry_id=${encodeURIComponent(e)}&amp;entry_type=`+encodeURIComponent(t);return requestJson(e=&gt;{e.open("PUT",i),e.send(JSON.stringify(n))})}}const ApiInstance=new Api;var castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$2=toString_1;function createCaseFirst$1(n){return function(e){e=toString$2(e);var t=hasUnicode(e)?stringToArray(e):void 0,r=t?t[0]:e.charAt(0),t=t?castSlice(t,1).join(""):e.slice(1);return r[n]()+t}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst$1=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst$1,toString$1=toString_1,upperFirst=upperFirst_1;function capitalize$1(e){return upperFirst(toString$1(e).toLowerCase())}var capitalize_1=capitalize$1,capitalize=capitalize_1,createCompounder=_createCompounder,camelCase=createCompounder(function(e,t,r){return t=t.toLowerCase(),e+(r?capitalize(t):t)}),camelCase_1=camelCase,camelCase$1=getDefaultExportFromCjs(camelCase_1);const vastEvents=["impression","start","creative_view","skip","click_tracking","click_through","mute","unmute","resume","pause","complete","first_quartile","midpoint","third_quartile"];function toVastAd({vast:e,originalTrackingHooks:t,context:r,index:n=1,configOverride:i={},includeCarodaImpressionPlayerEvents:a}){const o=getAdDuration(e),s=e=&gt;({...e,TrackingUrl:(e=&gt;o&amp;&amp;/data\.caroda\.io\/api\/hit\.gif/.test(e)&amp;&amp;/type=tracking/.test(e))(e.TrackingUrl)?(e=&gt;null!=o?e+"&amp;adDuration="+Math.round(o):e)(e.TrackingUrl):e.TrackingUrl}),l=e=&gt;e.TrackingUrl,c=(e,t,r)=&gt;{switch(t){case"impression":return addImpressionTracking(e,r.map(l));case"click_tracking":return addClickTracking(e,r.map(l));default:return addTrackingHooks(e,r)}},d=t.map(s),u=(e=vastEvents.reduce((e,t)=&gt;{var r,n=d.filter((r=t,e=&gt;e.VastEvent===r));return c(e,t,n)},e),{complete:"complete",pause:"pause",play:"start",resume:"resume"});var p;a&amp;&amp;(p="instream"===r.type?"impression_instream":"impression_other_players",u[p]="impression",p="instream"===r.type?"instream_impression_opportunity":"outstream_impression_opportunity",u[p]="impression");const h=new Tracking(i,{placementId:r.placementId});return e=addExtension(e=Object.entries(u).reduce((e,[t,r])=&gt;{var n=[{TrackingUrl:h.createPlayerEventTrackingUrl(t),VastEvent:r}].map(s);return c(e,r,n)},e),`&lt;Extension type="waterfall" fallback_index="${n}" /&gt;`)}function addExtension(e,t){var r=createNode(e);const n=findOrCreatePath(r,"Ad.Wrapper|InLine.Extensions");return n.appendChild(createNode(t)),toString(r)}function addImpressionTracking(e,t){const r=t.map(e=&gt;`
        &lt;Impression&gt;&lt;![CDATA[${e}]]&gt;&lt;/Impression&gt;
    `);var n=createNode(e);const i=findOrCreatePath(n,"Ad.Wrapper|InLine");return r.map(createNode).forEach(e=&gt;i.appendChild(e)),toString(n)}function addTrackingHooks(e,t){const r=t.map(({VastEvent:e,TrackingUrl:t})=&gt;`
        &lt;Tracking event="${camelCase$1(e)}"&gt;&lt;![CDATA[${t}]]&gt;&lt;/Tracking&gt;
    `);var n=createNode(e);const i=findOrCreatePath(n,"Ad.Wrapper|InLine.Creatives.Creative.Linear|NonLinear"),a=findNode(i,"TrackingEvents")||i.appendChild(createNode("&lt;TrackingEvents /&gt;"));return r.map(createNode).forEach(e=&gt;a.appendChild(e)),toString(n)}function addClickTracking(e,t){const r=t.map(e=&gt;`
        &lt;ClickTracking&gt;&lt;![CDATA[${e}]]&gt;&lt;/ClickTracking&gt;
    `);var n=createNode(e);const i=findOrCreatePath(n,"Ad.Wrapper|InLine.Creatives.Creative.Linear");var a=i?null:findOrCreatePath(n,"Ad.Wrapper|InLine.Creatives.Creative.NonLinear");const o=i?findNode(i,"VideoClicks")||i.appendChild(createNode("&lt;VideoClicks /&gt;")):a;return r.map(createNode).forEach(e=&gt;o.appendChild(e)),toString(n)}function separateAds(e){const t=findNodes(createNode(e),"Ad");return t.map(toString).map(wrapInVast)}function combine(e){const t=flatMap$1(e.map(createNode).map(e=&gt;findNodes(e,"Ad")));return wrapInVast(t.map(toString).join("\n"))}function getAdDuration(e){const t=findNode(createNode(e),"Duration");if(t){const n=new Date("2000-01-01T00:00:00Z"),i=new Date(`2000-01-01T${t.textContent.trim()}Z`);var r=i.getTime()-n.getTime();return isNaN(r)?void 0:r/1e3}}function wrapInVast(e){return`&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
    &lt;VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="vast.xsd" version="4.0"&gt;
        ${e}
    &lt;/VAST&gt;
`}function createNode(e){return(new DOMParser).parseFromString(e,"text/xml").childNodes[0]}function findNodes(e,r){var t;return e?(null==(t=e.nodeName)?void 0:t.toLowerCase())===r.toLowerCase()?[e]:e.hasChildNodes()?Array.from(e.childNodes).reduce((e,t)=&gt;e.concat(findNodes(t,r)),[]):[]:[]}function findNode(e,t){return findNodes(e,t)[0]}function toString(e){const t=new XMLSerializer;return t.serializeToString(e)}function findOrCreatePath(e,t){if(!t)return e;const r=t.split(".");if(!r.length)return e;const n=r.shift(),i=n.split("|");let a=i.map(r=&gt;{return Array.from(e.childNodes).find(e=&gt;{var t;return(null==(t=e.nodeName)?void 0:t.toLowerCase())===r.toLowerCase()})}).filter(Boolean)[0];var o;return a||(o=i[0],a=e.appendChild(createNode(`&lt;${o} /&gt;`))),findOrCreatePath(a,r.join("."))}function toVast(e,n,i){const t=flatMap$1(flatMap$1(e.filter(e=&gt;e.vastContent).map(t=&gt;{const e=separateAds(t.vastContent);return e.map(e=&gt;({campaign:t,vast:e}))})));return combine(t.map(({campaign:e,vast:t},r)=&gt;toVastAd({configOverride:i,context:{...n,placementId:e.assetId},includeCarodaImpressionPlayerEvents:!0,index:r,originalTrackingHooks:e.trackingHooks,vast:t})))}async function pushExternalPlayerAdapterPlaylist(r,t,n,i){const a=new InstanceLogger(`ExternalRendererPlayer .pushExternalPlayerAdapterPlaylist[${Math.floor(1e9*Math.random())}:${r}]`);a.info("start");let o=!1;const s=(async()=&gt;{var e=await t.getExternalRendererExpandedCampaign();return a.info(e.length+" campaigns expanded"),o=!0,e.length?toVast(e,{...n,placementId:r},i):null})();return{playAd:async e=&gt;{o||await ApiInstance.extendPrebidRequest(e,r);var t=await s;return a.info(e,t),await ApiInstance.pushVastContentResult(e,r,t||""),t}}}class ClickableOverlay{constructor(e,t){this.onClick=t,this.overlay=this.createOverlay(),e.appendChild(this.overlay),e.classList.add(ClickableOverlay.CONTAINER_CLASS_NAME)}remove(){this.log("remove",this.overlay),this.overlay.remove()}show(){this.log("show",this.overlay),this.overlay.style.display="block"}click(){this.log("onClick"),this.onClick(),this.remove()}getElement(){return this.overlay}createOverlay(){let e=renderDocument.createElement("div");return e.classList.add(ClickableOverlay.CLASS_NAME),(e=this.applyDefaultStyling(e)).addEventListener("click",()=&gt;{this.click()}),e}applyDefaultStyling(e){return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="10",e.style.cursor="pointer",e.style.background="transparent",e}log(...e){carodaConsoleSafe.info("ClickableOverlay",...e)}}ClickableOverlay.CONTAINER_CLASS_NAME="caroda-clickable-overlay-container",ClickableOverlay.CLASS_NAME="caroda-clickable-overlay";class ContentPlayerFreezer{constructor(e){this.contentPlayer=e}freeze(){this.freezeInterval||(this.log("freeze"),this.freezeTime=this.contentPlayer.getCurrentTime(),this.freezeInterval=this.createFreezeInterval(),this.freezeInstant())}unfreeze(){this.freezeInterval&amp;&amp;(this.log("unfreeze"),clearInterval(this.freezeInterval),this.freezeInterval=void 0,this.freezeTime=void 0),this.contentPlayer.play()}log(...e){carodaConsoleSafe.info("ContentPlayerFreezer",...e)}createFreezeInterval(){return+setInterval(()=&gt;{this.freezeInstant()},ContentPlayerFreezer.FREEZE_INTERVAL_MS)}freezeInstant(){this.contentPlayer.getCurrentTime()!==this.freezeTime&amp;&amp;this.contentPlayer.setCurrentTime(this.freezeTime),this.contentPlayer.pause()}}ContentPlayerFreezer.FREEZE_INTERVAL_MS=100;const{MutationObserver:MutationObserver$1}=renderWindow;class PictureInPicture{constructor(e){this.pipEnabled=!1,this.waitForVideoElement(e).then(r=&gt;{const n=r.clientWidth;new renderWindow.ResizeObserver(()=&gt;{var e=r.clientWidth,t=this.pipEnabled;this.pipEnabled=e&lt;n&amp;&amp;!!renderDocument.fullscreenElement,t!==this.pipEnabled&amp;&amp;carodaConsoleSafe.info("PictureInPicture",{enabled:this.pipEnabled})}).observe(r)})}isEnabled(){return this.pipEnabled||!!renderDocument.pictureInPictureElement}async waitForVideoElement(n){return new Promise(t=&gt;{if("VIDEO"===n.nodeName)t(n);else if(n.querySelector("video"))t(n.querySelector("video"));else{const r=new MutationObserver$1(e=&gt;{n.querySelector("video")&amp;&amp;(t(n.querySelector("video")),r.disconnect())});r.observe(n,{childList:!0,subtree:!0})}})}}class GaTracker{constructor({instreamPlayer:e,getContentMetadata:t=()=&gt;({}),getCurrentPosition:r,formatEvent:n=e=&gt;e,getDataLayer:i=()=&gt;renderWindow.dataLayer}){this.logger=carodaConsoleSafe.getInstanceLogger("GaTracker"),this.getContentMetadata=t,this.getCurrentPosition=r,this.instreamPlayer=e,this.formatEvent=n,this.listenToTimeUpdatePlayerEvents(),this.getDataLayer=i,this.trackAdEvents()}listenToTimeUpdatePlayerEvents(){this.instreamPlayer.addEventListener("timeupdate",(e,t)=&gt;{this.currentAdTime=t})}trackAdEvents(){vastEvents.forEach(t=&gt;this.instreamPlayer.addEventListener(t,e=&gt;this.handleAdEvent(t,e)))}async handleAdEvent(e,t){if(!t)return this.logger.info("handleAdEvent",e,"no adPlayer found");const r=this.getDataLayer();if(!r)return this.logger.info("handleAdEvent",e,"dataLayer is not defined");var n,i;this.getGaEventType(e)&amp;&amp;([n,i]=await Promise.all([this.getContentMetadata(),t.getCreativeMetadata().catch(()=&gt;null)]),n&amp;&amp;i&amp;&amp;(i=this.formatEvent({ads:[{adDesc:"",adDuration:i.durationSeconds,adID:i.id,adName:i.title,adType:this.getCurrentPosition(),campaignClassification:"unclassified",kind:"video",time:{length:i.durationSeconds,position:this.currentAdTime},type:"linear"}],event:e,quality:-1,video:n}),this.logger.info("handleAdEvent",i),r.push(i)))}getGaEventType(e){switch(e){case"start":return"video.ads.play";case"pause":return"video.ads.pause";case"skip":return"video.ads.skip";case"click_tracking":return"video.ads.click";case"complete":return"video.ads.end";case"resume":return"video.ads.resume";case"impression":return"video.ads.impression";case"midpoint":return"video.ads.half"}}}const library=getExternalDependency(e=&gt;e.NOLBUNDLE&amp;&amp;{NOLBUNDLE:e.NOLBUNDLE});class NielsenTracker{constructor(e,t,r,n,i=()=&gt;({})){if(this.currentPlayhead=0,this.logger=carodaConsoleSafe.getInstanceLogger("NielsenTracker"),library.isAvailable()){const o=library.instance()["NOLBUNDLE"];var a=integrationConfig.isDebug();this.nSdkInstance=o.nlsQ(e,t,a?{nol_sdkDebug:"debug"}:void 0),this.trackContentMetadata(r,i()),library.ownerWindow.addEventListener("beforeunload",()=&gt;{this.track("end",this.currentPlayhead)}),r.onTimeUpdate(()=&gt;this.trackContentPlayhead(r)),r.onPause(()=&gt;this.trackPause(r)),r.onPlaying(()=&gt;this.trackContentMetadata(r,i())),n.addEventListener("start",e=&gt;this.trackAdBreakStart(e)),n.addEventListener("timeupdate",(e,t)=&gt;this.trackAdBreakPlayhead(t)),n.addEventListener("pause",()=&gt;this.trackAdBreakStop()),n.addEventListener("complete",()=&gt;this.trackAdBreakStop()),n.addEventListener("skip",()=&gt;this.trackAdBreakStop())}else this.logger.error(".constructor","NOLBUNDLE is undefined")}async trackContentMetadata(e,t){var r=this.getEventKey("loadMetadata",t);this.lastMetadataLoggedKey!==r&amp;&amp;(this.lastMetadataLoggedKey=r,r=await e.getDuration(),this.track("loadMetadata",{length:r===1/0?86400:Math.ceil(r),...t}))}trackContentPlayhead(e){var t=Math.floor(e.getCurrentTime());t&lt;1||this.currentPlayhead===t||(this.currentPlayhead=t,this.track("setPlayheadPosition",this.currentPlayhead))}async trackPause(e){var t=await e.getDuration()-e.getCurrentTime();this.track(t&lt;1?"end":"stop",this.currentPlayhead)}async trackAdBreakStart(e){this.currentPlayhead=0;var t=await e.getCreativeMetadata().catch(()=&gt;null);t&amp;&amp;(this.lastMetadataLoggedKey=this.getEventKey("loadMetadata",t),this.track("loadMetadata",{assetid:t.id,length:Math.ceil(t.durationSeconds),nol_c4:"p4,"+(t.description||""),nol_c5:"p5,",nol_c6:"p6,"+e.tracking.context.adBreakPosition,title:t.title,type:e.tracking.context.adBreakPosition}))}async trackAdBreakPlayhead(e){var t=Math.floor(e);t&lt;1||this.currentPlayhead===t||(this.currentPlayhead=t,this.track("setPlayheadPosition",this.currentPlayhead))}trackAdBreakStop(){this.track("stop",this.currentPlayhead)}track(e,t){this.logger.info(".track",e,t),this.nSdkInstance.ggPM(e,t)}getEventKey(e,t){return e+":"+JSON.stringify(t)}}class InstreamTracking extends Tracking{constructor(){super(...arguments),this.logger=carodaConsoleSafe.getInstanceLogger("InstreamTracking"),this.placementIdToImpressionOpportunityRegistered={}}hitPlayerEvent(e,t=["",""],r,n,i,a,o={}){if(a&amp;&amp;"instream_impression_opportunity"===e){if(this.placementIdToImpressionOpportunityRegistered[a])return void this.logger.info("hitPlayerEvent","skipping",e,a);this.placementIdToImpressionOpportunityRegistered[a]=!0}super.hitPlayerEvent(e,t,r,n,i,a,o)}reset(){this.placementIdToImpressionOpportunityRegistered={}}}class InstreamWithPositionsPlayer extends EventTarget{constructor(e,t,r,n,i={}){super(),this.adSlots=[],this.preloadedPlayers=[],this.duration=Number.MAX_SAFE_INTEGER,this.resetAdsCounter=0,this.cancelAllPrerolls=!1,this.successfulFirstPreroll=!1,carodaConsoleSafe.info("InstreamWithPositionsPlayer",".constructor",e,n),this.id="carodaIntstreamWithPositions"+Math.floor(1e6*Math.random()),this.onPrerollLoaded=once$1(n.onPrerollLoaded||(()=&gt;{})),this.onPrerollFailed=once$1(n.onPrerollFailed||(()=&gt;{})),this.volume="number"==typeof n.volume?()=&gt;n.volume:n.volume,this.getMediaUrl=n.getMediaUrl||(()=&gt;{}),this.lastAdVolume=this.volume(),this.containerElement=this.initializeContainerElement();this.shouldPlayAdSlot=n.shouldPlayAdSlot||(({adSlot:e})=&gt;"preroll"===e.position||"iOS"!==targetingProfile.os()),this.tracking=new InstreamTracking(r,{...i,context:{...i.context||{},adPlacement:"in-stream"},placementId:"N/A",playerContainer:this.containerElement}),this.tracking.hitPlayerEvent("player_init"),this.adPlayerLoader=t,this.contentPlayerPlaysInline=n.contentPlayerPlaysInline,this.maximumTimeUntilFirstPrerollMs=n.maximumTimeUntilFirstPrerollMs,this.renewNextIndexedAdPromise(),n.css&amp;&amp;appendCss(n.css.replace(/\$carodaPlayer/g,"#"+this.id)),this.positionPlayer(n.zIndex),this.deactivatePlayer(),this.monitorPlayerInView(),this.instreamPositions=e,this.createAdSlots(n.contentDurationInSeconds)}attachTo(e){e.appendChild(this.containerElement),this.instreamPositions.forEach(e=&gt;{var t=this.containerElement.clientWidth,r=Math.max(this.containerElement.clientHeight,9*t/16);setPlacementDimensions(e.vid,{height:r,width:t})})}getElement(){return this.containerElement}getId(){return this.id}prepareAdBreak(e,t,r=null){if("playing"!==this.status&amp;&amp;("iOS"!==targetingProfile.os()||this.contentPlayerPlaysInline)){var n;if(("preroll"===e||t&lt;1)&amp;&amp;this.preparedPreroll)return n=this.preparedPreroll,this.preparedPreroll=void 0,this.status="prepared",n;const i=this.getAdSlotForPosition(e,t);if(i)return this.status="prepared",this.preloadAd(i),{play:({userInitiated:e}={userInitiated:!0})=&gt;this.playAdSlot({adSlot:i,initialVolume:r,userInitiated:e})};t&amp;&amp;this.preloadNextAd(t)}}async resetAds(e){this.lockAdBreakPromise&amp;&amp;await this.lockAdBreakPromise,carodaConsoleSafe.info("InstreamWithPositionsPlayer",".resetAds",e),this.resetAdsCounter++,this.preparedPreroll=void 0,this.tracking.reset(),await this.createAdSlots(e)}initializeContainerElement(){const e=renderDocument.createElement("div");return e.setAttribute("id",this.id),e.classList.add(InstreamWithPositionsPlayer.CLASS_NAME),e}async createAdSlots(e){var t=({position:e})=&gt;"preroll"===e;this.adSlots=[],"number"==typeof e&amp;&amp;(this.duration=e),this.addAdSlotsForPositions(this.instreamPositions.filter(t)),this.preparedPreroll=this.prepareAdBreak("preroll"),this.preparedPreroll||this.onPrerollFailed(),"number"!=typeof e&amp;&amp;(this.duration=await e),this.addAdSlotsForPositions(this.instreamPositions.filter(not(t)))}getAdSlotForPosition(e,t){switch(e){case"preroll":return this.adSlots.find(({position:e})=&gt;"preroll"===e);case"midroll":return this.getClosestMidroll(t);case"postroll":return this.adSlots.find(({position:e})=&gt;"postroll"===e)}}addAdSlotsForPositions(e){var t=this.adPlayerLoader.transformInstreamPositionsIntoCampaingIdsByPosition(e,this.duration).map(e=&gt;{const t=[];for(let r=0;r&lt;e.instreamPositions.length;r++)this.adPlayerLoader.hasCampaigns(e.instreamPositions[r].placementId)?t.push(e.instreamPositions[r]):e.instreamPositions[r+1]&amp;&amp;(e.instreamPositions[r+1].isFallback=!1);if(t.length)return{...e,instreamPositions:t}}).filter(Boolean);const r={midroll:0,postroll:0,preroll:0},n=[...this.adSlots,...t];this.adSlots=n.map(e=&gt;{const t="preroll"===e.position||"postroll"===e.position?e.position:"midroll";return{...e,instreamPositions:e.instreamPositions.map(e=&gt;({...e,index:r[t]++}))}}),carodaConsoleSafe.info("InstreamWithPositionsPlayer",".prepareAdSlots",JSON.stringify(this.adSlots))}playAdSlot({adSlot:e,initialVolume:t,userInitiated:r}){if(carodaConsoleSafe.info("InstreamWithPositionsPlayer",".playAdSlot",this.status,e),"prepared"!==this.status)return Promise.resolve();const n=this.getPosition(e.position);this.lastAdVolume=null===t?this.volume():t;var i=this.shouldPlayAdSlot({adSlot:e});return this.getPreloadedPlayersForPosition(n).length&amp;&amp;i?(this.removeAdSlot(e),this.activatePlayer(n),this.lockAdBreak(),this.playAdAndPreloadNext(e,!0,r).then(async()=&gt;{for(;0&lt;this.getPreloadedPlayersForPosition(n).length;)await this.playAdAndPreloadNext(e,!1,!1);this.unlockAdBreak(),this.deactivatePlayer(n)})):(i||carodaConsoleSafe.info("InstreamWithPositionsPlayer",".playAdSlot","shouldPlayAdSlot is false"),this.removeAdSlot(e),this.deactivatePlayer(n),Promise.resolve())}getPreloadedPlayersForPosition(t){return this.preloadedPlayers.filter(e=&gt;e.position===t)}getPosition(e){switch(e){case"preroll":return"preroll";case"postroll":return"postroll";default:return"midroll"}}removeAdSlot(t){"postroll"===t.position?(this.adSlots=[],this.preparedPreroll=void 0):this.adSlots=this.adSlots.filter(e=&gt;e.position!==t.position)}preloadAd(t){if(!t||!t.instreamPositions.length)return;const r=this.getPosition(t.instreamPositions[0].position);if("preroll"===r&amp;&amp;this.cancelAllPrerolls)return carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",r,"prerolls cancelled"),void this.onPrerollFailed();if(this.getPreloadedPlayersForPosition(r).length)return void carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",r,"already preloaded");const e=t.instreamPositions;if(this.currentSlotImpressionRecord&amp;&amp;e[0].isFallback){carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",r,"is a fallback placement","waiting for previous slot playback to finish",this.currentSlotImpressionRecord);const u=e[0].placementId;return void this.currentSlotImpressionRecord.then(e=&gt;{this.shouldPlayFallbackPosition({previousAdSlotImpressionTrack:e,position:r})?(this.currentSlotImpressionRecord=void 0,this.preloadAd(t)):carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",r,u,"skipped because it is a fallback placement and previous slot resulted in an impression")})}var n=e.splice(0,1)[0],i=(carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd",n,this.lastAdVolume),this.createPreloadedPlayerContainer()),{overrideSkipBehavior:a,fixedSkipOffset:o}=n;this.tracking.context.adBreakIndex=n.index,this.tracking.context.adBreakPosition=r;let s;!this.successfulFirstPreroll&amp;&amp;this.maximumTimeUntilFirstPrerollMs&amp;&amp;"preroll"===r&amp;&amp;(carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd","starting preroll timeout"),s=setTimeout(()=&gt;this.cancelAllPrerolls=!0,this.maximumTimeUntilFirstPrerollMs));let l;this.currentSlotImpressionRecord=new Promise(e=&gt;{l=e});const c=this.adPlayerLoader.loadInstreamWithPositionsAdSlot({adSlot:{adBreakType:r,adsGroup:this.getAdsGroup(t.position),campaigns:[],hideSkipButton:a===OverrideSkipBehavior.Hide,id:`${this.id}-${t.position}-${e.length}-`+this.resetAdsCounter,placementId:n.placementId,...a===OverrideSkipBehavior.Fixed?{fixedSkipOffset:o}:{}},containerElement:i,mediaUrl:this.getMediaUrl(),onPlayerInitializationError:()=&gt;{this.preloadedPlayers=this.preloadedPlayers.filter(e=&gt;e!==d),t.instreamPositions.length?this.preloadAd(t):"preroll"===r&amp;&amp;this.onPrerollFailed()},onPlayerReady:e=&gt;{mergeTrackingContext(this.tracking,e),this.connectTo(e),e.waitForAdIndexed().then(()=&gt;{carodaConsoleSafe.info("InstreamWithPositionsPlayer","preloadAd","ad indexed"),this.nextIndexedAdResolve(e),this.renewNextIndexedAdPromise()}),"preroll"===r&amp;&amp;this.onPrerollLoaded&amp;&amp;waitFor(()=&gt;e.canPlayAd()||e.isError()).then(()=&gt;{e.isError()?this.onPrerollFailed():this.onPrerollLoaded(),clearTimeout(s),this.successfulFirstPreroll=!0})},shouldContinuePriorityChain:()=&gt;"preroll"!==r||!this.cancelAllPrerolls,trackingConfig:{context:{...this.tracking.context}}}),d={container:i,placementId:n.placementId,playAd:async e=&gt;{try{var t=await c(e);return l({hadImpression:(null==t?void 0:t.hadImpression)||!1,position:r}),t}catch(e){throw l({hadImpression:!1,position:r}),e}},position:r};this.preloadedPlayers.push(d)}getAdsGroup(e){return integrationConfig.allowRepeatedAdsInInstreamAdBreaks()?String(Math.round(1e9*Math.random())):this.id+`-${e}-`+this.resetAdsCounter}createPreloadedPlayerContainer(){const e=renderDocument.createElement("div");e.classList.add(InstreamWithPositionsPlayer.PRELOADED_PLAYER_CONTAINER_CLASS_NAME);var t=this.containerElement.querySelector("."+InstreamWithPositionsPlayer.PRELOADED_PLAYER_CONTAINER_CLASS_NAME);return t?this.containerElement.insertBefore(e,t):this.containerElement.appendChild(e),e}playAdAndPreloadNext(e,t,r){var n=this.getPosition(e.position);const i=this.getPreloadedPlayersForPosition(n);if(!i.length)return Promise.resolve();carodaConsoleSafe.info("InstreamWithPositionsPlayer","playAdAndPreloadNext");const a=i.splice(0,1)[0],o=(this.tracking.hitPlayerEvent("instream_impression_opportunity",void 0,void 0,void 0,void 0,a.placementId),this.preloadedPlayers=this.preloadedPlayers.filter(e=&gt;e!==a),a.playAd({userInitiated:r,volume:t?this.volume():this.getNextAdVolume()}));return this.waitForPlaybackOrNextAd(o).then(()=&gt;(carodaConsoleSafe.info("InstreamWithPositionsPlayer","playAdAndPreloadNext","playback finished or next ad indexed"),this.preloadAd(e),o)).catch(e=&gt;{carodaConsoleSafe.info("InstreamWithPositionsPlayer","playAdAndPreloadNext","error playing ad",e)}).then(e=&gt;{e&amp;&amp;(this.lastAdVolume=e.getVolume()),this.deactivatePreloadedPlayerContainer(a.container)})}getNextAdVolume(){return"iOS"===targetingProfile.os()?0:this.lastAdVolume}waitForPlaybackOrNextAd(e){return Promise.race([e,this.nextIndexedAd])}deactivatePreloadedPlayerContainer(e){e.remove()}positionPlayer(e){this.containerElement.style.position="absolute",this.containerElement.style.top="0px",this.containerElement.style.left="0px",this.containerElement.style.width="100%",this.containerElement.style.height="100%",this.containerElement.style.zIndex=""+(e||"auto")}deactivatePlayer(t){this.status="idle",this.containerElement.style.visibility="hidden",this.containerElement.style.pointerEvents="none",t&amp;&amp;this.preloadedPlayers.filter(not(e=&gt;e.position===t)).forEach(e=&gt;delete e.container.style.visibility)}activatePlayer(t){this.status="playing",this.containerElement.style.visibility="visible",this.containerElement.style.pointerEvents="auto",this.preloadedPlayers.filter(not(e=&gt;e.position===t)).forEach(e=&gt;e.container.style.visibility="hidden")}getClosestMidroll(t){if(t&lt;1){var e=this.adSlots.find(({position:e})=&gt;"preroll"===e);if(e)return e}const r=this.getMidrolls().filter(({position:e})=&gt;parseFloat(e)&lt;t),n=r.slice(1);return this.adSlots=this.adSlots.filter(({position:t})=&gt;!n.find(({position:e})=&gt;t===e)),r[0]}getMidrolls(){return this.adSlots.filter(({position:e})=&gt;"preroll"!==e&amp;&amp;"postroll"!==e)}preloadNextAd(e){0&lt;this.getPreloadedPlayersForPosition("midroll").length||(e+3&gt;=this.duration?this.preloadPostroll():this.preloadNextMidrolls(e+3))}preloadPostroll(){var e=this.adSlots.find(({position:e})=&gt;"postroll"===e);this.preloadAd(e)}preloadNextMidrolls(t){const e=this.getMidrolls().filter(({position:e})=&gt;parseFloat(e)&lt;t);e.forEach(e=&gt;{this.preloadAd(e)})}async monitorPlayerInView(){await waitFor(()=&gt;this.isInView()),this.tracking.hitPlayerEvent("player_in_view")}isInView(){return isInVerticalView(this.containerElement)}lockAdBreak(){this.lockAdBreakPromise=new Promise(e=&gt;{this.lockAdBreakResolve=e})}unlockAdBreak(){this.lockAdBreakResolve&amp;&amp;this.lockAdBreakResolve()}renewNextIndexedAdPromise(){this.nextIndexedAd=new Promise(e=&gt;{this.nextIndexedAdResolve=e})}shouldPlayFallbackPosition({previousAdSlotImpressionTrack:e,position:t}){return e.position!==t||!e.hadImpression}}InstreamWithPositionsPlayer.CLASS_NAME="carodaInstreamWithPositions",InstreamWithPositionsPlayer.PRELOADED_PLAYER_CONTAINER_CLASS_NAME="caroda-preloaded-player";class InstreamInContentPlayer extends EventTarget{constructor(t,r,e,n,i){super(),this.prerollCalled=!1,this.validateContentPlayer(t),this.playerOptions=i,this.instreamPositions=r,this.id=this.getOrInitializeId(t),this.log(".constructor",t,r.map(({position:e})=&gt;e)),t.getDuration().then(e=&gt;this.log(".constructor",{duration:e,currentTime:t.getCurrentTime()})),this.contentPlayer=t,this.contentPlayer.isLive=this.contentPlayer.isLive||(()=&gt;!1),t.getCurrentTime()&lt;InstreamInContentPlayer.PLAYBACK_PERIOD_FOR_PREROLL_SECONDS&amp;&amp;this.createClickableOverlay(),this.spinner=new Spinner(this.contentPlayer.getContainer()),this.freezer=new ContentPlayerFreezer(this.contentPlayer),this.pauseIfAutoplay(),this.addCues(),i.nielsen&amp;&amp;(t.onPause&amp;&amp;t.onPlaying?new NielsenTracker(i.nielsen.appId,i.nielsen.instanceName,t,this,i.nielsen.getContentMetadata):this.log(".constructor","cannot instantiate NielsenTracker. content player is missing methods")),i.gemius&amp;&amp;new GemiusTracker(this,i.gemius.gemiusPlayer,()=&gt;this.currentlyPlaying,i.gemius.getContentMetadata),i.ga&amp;&amp;new GaTracker({formatEvent:i.ga.formatEvent,getContentMetadata:i.ga.getContentMetadata,getCurrentPosition:()=&gt;this.currentlyPlaying,getDataLayer:i.ga.getDataLayer,instreamPlayer:this}),e().then(async e=&gt;{this.log(".constructor","got ad player loader"),this.adPlayerLoader=e,this.contentPlayer.waitUntilReady&amp;&amp;(this.log(".constructor","waiting until ready"),await this.contentPlayer.waitUntilReady(),this.log(".constructor","ready")),this.initiateIfAutoplay(),this.resolveReadyForAdsTimeInSeconds(),r=i.skipPrerolls?r.filter(not(isPreroll)):r,this.contentPlayer.isLive()&amp;&amp;(r=r.filter(not(isPostroll))),this.loadInstream(r,i,n)});var a=t.getContainer();this.pip=new PictureInPicture(a),this.addEventListener("volumeChanged",(e,{volume:t})=&gt;{t&amp;&amp;this.contentPlayer.setVolume&amp;&amp;(this.volumeAfterAdBreak=t,this.contentPlayer.isLive()||this.contentPlayer.setVolume(t))})}async resetAds(e){this.addCues(Promise.resolve(e)),this.prerollCalled&amp;&amp;"preroll"!==this.currentlyPlaying&amp;&amp;(await waitFor(()=&gt;!this.currentlyPlaying),await this.instreamWithPositionsPlayer.resetAds(e),this.prerollCalled=!1,this.createClickableOverlay(),this.readyForAdsTimeInSeconds=void 0,this.resolveReadyForAdsTimeInSeconds())}createClickableOverlay(){var e;return this.clickableOverlay||(e=this.contentPlayer.getContainer(),this.clickableOverlay=new ClickableOverlay(e,()=&gt;this.onClickableOverlayClick({userInitiated:!0}))),this.clickableOverlay.getElement()}clickClickableOverlay(){this.clickableOverlay&amp;&amp;(this.onClickableOverlayClick({userInitiated:!1}),this.clickableOverlay=void 0)}async registerOpportunities(e){this.log("registerOpportunities",e),await waitFor(()=&gt;!!this.instreamWithPositionsPlayer),e.forEach(e=&gt;{this.instreamWithPositionsPlayer.tracking.hitPlayerEvent("instream_impression_opportunity",void 0,void 0,void 0,void 0,e)})}removeClickableOverlay(){this.clickableOverlay&amp;&amp;(this.clickableOverlay.remove(),this.clickableOverlay=void 0)}validateContentPlayer(t){const r=[];if(["getContainer","getCurrentTime","getDuration","getVolume","isAutoplay","isMuted","onEnded","onTimeUpdate","pause","play","setCurrentTime"].forEach(e=&gt;{t[e]||r.push(e)}),r.length)throw new Error("content player must implement "+r.join(", "))}getOrInitializeId(e){const t=e.getContainer();var r;return t.id||(r="caroda-instream-in-content-player-"+Math.floor(1e9*Math.random()),t.setAttribute("id",r),r)}log(...e){carodaConsoleSafe.info("InstreamInContentPlayer",this.id,...e)}onClickableOverlayClick({userInitiated:e}){return this.log("onClickableOverlayClick",{userInitiated:e}),this.contentPlayer.play(),this.contentPlayer.pause(),this.processPreroll({userInitiated:e}).then(()=&gt;{this.contentPlayer.play(),this.clickableOverlay=void 0})}processPreroll({userInitiated:e}){if(!this.isReadyForAds()||this.prerollCalled||this.currentlyPlaying||!this.clickableOverlay)return Promise.resolve();if(this.prerollCalled=!0,this.log("processPreroll",{userInitiated:e}),this.removeClickableOverlay(),this.pip.isEnabled())return Promise.resolve();var t=this.prepareAdBreak("preroll");return t?(this.updateCurrentlyPlaying("preroll"),this.playAdBreakAndResume({adBreakPlayer:t,userInitiated:e})):(this.updateCurrentlyPlaying(void 0),Promise.resolve())}playAdBreakAndResume({adBreakPlayer:e,userInitiated:t}){return this.log("playAdBreakAndResume",{adBreakPlayer:e}),this.contentPlayer.isLive()||this.freezer.freeze(),this.spinner.show(),e.play({userInitiated:t}).then(()=&gt;{this.log("playAdBreakAndResume","played")}).catch(e=&gt;{this.log("playAdBreakAndResume","error playing",e)}).then(()=&gt;{this.spinner.hide(),this.freezer.unfreeze(),this.updateCurrentlyPlaying(void 0)})}pauseIfAutoplay(){"user-initiated"===getAutoplayBehaviour(this.contentPlayer)||this.contentPlayer.isLive()||(this.log("pauseIfAutoplay","pausing"),this.contentPlayer.pause())}loadInstream(e,t,r){this.instreamWithPositionsPlayer=new InstreamWithPositionsPlayer(e,this.adPlayerLoader,r,{contentPlayerPlaysInline:!0,css:t.css,...t,contentDurationInSeconds:this.contentPlayer.getDuration(),getMediaUrl:()=&gt;{var e,t;return null==(t=(e=this.contentPlayer).getMediaUrl)?void 0:t.call(e)},volume:()=&gt;this.getVolume()},{context:{adBreakPosition:"preroll",contentPlayer:this.contentPlayer}}),this.connectTo(this.instreamWithPositionsPlayer),this.registerAdBreaks(),this.registerPlaylistBehavior(r),this.instreamWithPositionsPlayer.attachTo(this.contentPlayer.getContainer())}getVolume(){return this.contentPlayer.isMuted()?0:this.contentPlayer.getVolume()}registerAdBreaks(){this.log("registerAdBreaks"),this.contentPlayer.onTimeUpdate(()=&gt;this.processMidroll()),this.contentPlayer.onEnded(()=&gt;this.processPostroll())}async processMidroll(){if(this.isReadyForAds()&amp;&amp;!this.pip.isEnabled()&amp;&amp;!this.currentlyPlaying){var e=this.contentPlayer.getCurrentTime()-this.readyForAdsTimeInSeconds;if(e&lt;InstreamInContentPlayer.PLAYBACK_PERIOD_FOR_PREROLL_SECONDS)this.processPreroll({userInitiated:!1});else{e=this.prepareAdBreak("midroll",e);if(e)return this.log("processMidroll"),this.updateCurrentlyPlaying("midroll"),this.playAdBreakAndResume({adBreakPlayer:e,userInitiated:!1});this.updateCurrentlyPlaying(void 0)}}}async processPostroll(){if(!this.currentlyPlaying){const t=this.playerOptions.onPostrollEnd||(()=&gt;{});if(!this.isReadyForAds()||this.pip.isEnabled())t();else{var e=this.prepareAdBreak("postroll");if(!e)return t(),void this.updateCurrentlyPlaying(void 0);this.log("processPostroll"),this.updateCurrentlyPlaying("postroll"),await this.playPostroll(e),t()}}}async playPostroll(e){this.spinner.show();try{await e.play({userInitiated:!1}),this.log("playPostroll","played")}catch(e){this.log("playPostroll","error playing",e)}this.updateCurrentlyPlaying(void 0),this.spinner.hide()}async initiateIfAutoplay(){var e=getAutoplayBehaviour(this.contentPlayer);"user-initiated"!==e&amp;&amp;("viewable"===e&amp;&amp;await waitUntilInView(this.contentPlayer.getContainer()),this.log("initiateIfAutoplay","initiating"),await new Promise(e=&gt;setTimeout(e,0)),this.clickableOverlay&amp;&amp;this.clickClickableOverlay())}updateCurrentlyPlaying(e){!e&amp;&amp;this.currentlyPlaying&amp;&amp;(this.volumeAfterAdBreak&amp;&amp;(this.contentPlayer.setVolume(this.volumeAfterAdBreak),this.volumeAfterAdBreak=void 0),this.playerOptions.onAdBreakEnd&amp;&amp;this.playerOptions.onAdBreakEnd(this.currentlyPlaying,this)),this.currentlyPlaying=e,this.instreamWithPositionsPlayer.tracking.context.adBreakPosition=this.currentlyPlaying,e&amp;&amp;this.playerOptions.onAdBreakStart&amp;&amp;this.playerOptions.onAdBreakStart(e,this)}registerPlaylistBehavior(r){this.contentPlayer.isLive()||this.contentPlayer.onPlaylistItemChange&amp;&amp;this.contentPlayer.onPlaylistItemChange(async e=&gt;{this.log(".registerPlaylistBehavior",".onPlaylistItemChange",e);var t="preroll"===this.currentlyPlaying;if(e&amp;&amp;e instanceof VideoElementContentPlayer)return await waitFor(()=&gt;!this.currentlyPlaying),e.isInDOM()?(this.contentPlayer.disconnect&amp;&amp;this.contentPlayer.disconnect(),this.removeClickableOverlay(),this.log(".registerPlaylistBehavior",".onPlaylistItemChange","new InstreamInContentPlayer"),new InstreamInContentPlayer(e,this.instreamPositions,async()=&gt;this.adPlayerLoader,r,{...this.playerOptions,forceAutoplay:!0,skipPrerolls:t})):void this.log(".registerPlaylistBehavior",".onPlaylistItemChange","new video element no longer in DOM");if(!this.prerollCalled||t)return this.log(".registerPlaylistBehavior",".onPlaylistItemChange","preroll not called or being played"),void this.addCues(Promise.resolve(this.contentPlayer.getDuration()));this.freezer.freeze(),await waitFor(()=&gt;!this.currentlyPlaying),await this.waitForPostrollToFinish();t=this.contentPlayer.getDuration();await this.resetAds(t),await this.processPreroll({userInitiated:!1}),this.freezer.unfreeze()})}async waitForPostrollToFinish(){await waitFor(()=&gt;"postroll"!==this.currentlyPlaying)}async addCues(e){var t;this.playerOptions.addCues&amp;&amp;(t=await this.getCuesPositions(e),this.playerOptions.addCues(t))}async getCuesPositions(e){const r=await(e||this.contentPlayer.getDuration()),t=this.instreamPositions.filter(({position:e})=&gt;"midroll"===e);return t.map(({break:e,unit:t})=&gt;"seconds"===t?e:.01*e*r)}async resolveReadyForAdsTimeInSeconds(){this.playerOptions.getReadyForAds?(await this.playerOptions.getReadyForAds(),this.readyForAdsTimeInSeconds=this.contentPlayer.getCurrentTime(),this.createClickableOverlay()):this.readyForAdsTimeInSeconds=0}isReadyForAds(){return null!=this.readyForAdsTimeInSeconds}prepareAdBreak(e,t){return this.instreamWithPositionsPlayer.prepareAdBreak(e,t)}}function isPreroll(e){return"preroll"===e.position}function isPostroll(e){return"postroll"===e.position}InstreamInContentPlayer.PLAYBACK_PERIOD_FOR_PREROLL_SECONDS=5;const{setInterval:setInterval$1}=renderWindow;class InstreamPlayer{constructor(e,t,r,n={}){this.logger=carodaConsoleSafe.getInstanceLogger("InstreamPlayer"),this.logger.info(".constructor",e,t),this.id="carodaContent"+Math.floor(1e6*Math.random()),this.containerElement=renderDocument.createElement("div"),this.containerElement.classList.add("carodaInstream"),this.containerElement.id=this.id,this.autoplay=n.autoplay,this.tracking=new Tracking(r,{context:{adPlacement:"in-stream"},placementId:e,playerContainer:this.containerElement}),this.logger.info(".constructor",e,t),this.contentPlayer=new libraryWindow.ContentPlayer({autoplay:this.autoplay,container:this.containerElement,disablePlayUnmutedScreen:!1!==n.disablePlayUnmutedScreen,fallbackSource:t,fullScreenContainer:this.containerElement,loop:n.loop,muted:n.muted,poster:n.poster,vid:e||"novid"}),n.css&amp;&amp;appendCss(n.css.replace(/\$carodaPlayer/g,"#"+this.id)),this.monitorPlayerInView(),this.addPlayerEventListeners(),this.monitorPlayerFullScreen()}static async getAssetIdAndUrl(e,t,r){return carodaConsoleSafe.info("InstreamPlayer","getAssetIdAndUrl",e,t),e.match(/^http/)?ApiInstance.getMigratedAssetIdAndUrl(e,t,r):[e,null]}static async instantiate(e,t,r,n={}){return carodaConsoleSafe.info("InstreamPlayer",".instantiate",e,t),await waitFor(()=&gt;!!libraryWindow.ContentPlayer),new InstreamPlayer(e,t,r,n)}getElement(){return this.containerElement}getContainer(){return this.containerElement}async play(){this.pausedCalledDuringPlay=!1,this.logger.info(".play"),this.contentPlayer.play(),await waitMs(500),this.paused()&amp;&amp;!this.pausedCalledDuringPlay&amp;&amp;(this.logger.info(".play","player paused"),this.isMuted()||(this.logger.info(".play","muting and retrying"),this.mute(),this.contentPlayer.play()))}paused(){return this.contentPlayer.paused()}pause(){this.contentPlayer.pause(),this.pausedCalledDuringPlay=!0}volume(e){this.logger.info(".volume",e),this.contentPlayer.setVolume(Math.min(Math.max(e,0),1)),0&lt;e?this.unmute():this.mute()}setVolume(e){this.volume(e)}unmute(){this.logger.info(".unmute"),this.contentPlayer.unmute()}mute(){this.logger.info(".mute"),this.contentPlayer.mute()}isAutoplay(){return this.autoplay}getCurrentTime(){return this.contentPlayer.currentTime}setCurrentTime(e){this.contentPlayer.seek(e)}async getDuration(){return await waitFor(()=&gt;this.contentPlayer.duration),this.contentPlayer.duration}getVolume(){return this.contentPlayer.volume}isMuted(){return this.contentPlayer.muted}on(e,t){this.logger.info(".on",e),this.contentPlayer.addEventListener(e="ended"===e?"complete":e,t)}onTimeUpdate(t){this.on("timeUpdate",e=&gt;{0&lt;this.contentPlayer.currentTime&amp;&amp;t(e)})}onEnded(e){this.on("complete",e)}off(e,t){this.logger.error(".off",e,"not implemented")}destroy(){this.logger.info(".destroy"),this.containerElement.remove()}getMediaUrl(){return carodaConsoleSafe.info("InstreamPlayer",".getMediaUrl",this.mediaUrl),this.mediaUrl}addPlayerEventListeners(){this.logger.info(".addPlayerEventListeners"),this.contentPlayer.addEventListener("play",()=&gt;this.tracking.hitPlayerEvent("play")),this.contentPlayer.addEventListener("pause",()=&gt;this.tracking.hitPlayerEvent("pause")),this.contentPlayer.addEventListener("seek",()=&gt;this.tracking.hitPlayerEvent("seek")),this.contentPlayer.addEventListener("complete",()=&gt;this.tracking.hitPlayerEvent("complete")),this.contentPlayer.addEventListener("resume",()=&gt;this.tracking.hitPlayerEvent("resume")),this.contentPlayer.addEventListener("source",({value:e})=&gt;{this.mediaUrl=e})}isInView(){var e=this.containerElement.getBoundingClientRect(),t=renderWindow.innerHeight||renderDocument.documentElement.clientHeight,r=renderWindow.innerWidth||renderDocument.documentElement.clientWidth;return e.top&gt;=-e.height/2&amp;&amp;0&lt;=e.left&amp;&amp;e.bottom&lt;=t+e.height/2&amp;&amp;e.right&lt;=r}isFullScreen(){return!!this.containerElement.querySelector(".caroda-content-fullscreen")}async monitorPlayerInView(){await waitFor(()=&gt;this.isInView()),this.tracking.hitPlayerEvent("player_in_view")}async monitorPlayerFullScreen(){setInterval$1(()=&gt;{this.isFullScreen()?this.containerElement.classList.add("carodaFullscreen"):this.containerElement.classList.remove("carodaFullscreen")},500)}}class OutstreamPlayer extends EventTarget{constructor(e,t,r={},n){super(),this.useRepeatedAds=!0,carodaConsoleSafe.info("OutstreamPlayer",".constructor",r),this.id="carodaOutstream"+Math.floor(1e6*Math.random()),this.adPlayerLoader=e,this.containerElement=renderDocument.createElement("div"),this.containerElement.classList.add("carodaOutstream"),this.containerElement.setAttribute("id",this.id);var i=Array.isArray(n)?n[0]:n;this.placementIds=Array.isArray(n)?n:[n],this.tracking=new Tracking(t,{context:{...r.trackingConfig&amp;&amp;r.trackingConfig.context||{}},placementId:i,playerContainer:this.containerElement}),this.locale=targetingProfile.locale(),this.isSlider=Boolean(r.isSlider)||integrationConfig.forceSlider(),this.useRepeatedAds=null==(i=r.useRepeatedAds)||i,this.isSingleAd=Boolean(r.isSingleAd)||integrationConfig.forceSingleAd(),this.forceMobileStandardWidth=Boolean(r.forceMobileStandardWidth),this.omitOpportunityTracking=Boolean(r.omitOpportunityTracking),this.unfreezePrecondition=r.unfreezePrecondition||(()=&gt;!0),this.status="not-loaded",r.css&amp;&amp;appendCss(r.css.replace(/\$carodaContainer/g,`#${this.getId()}Container`).replace(/\$carodaPlayer/g,"#"+this.getId())),r.marginRaw&amp;&amp;appendCss(`#${this.getId()}Container {
                min-height: 0.1px !important;
                margin-top: ${r.marginRaw.top} !important;
                margin-bottom: ${r.marginRaw.bottom} !important;
            }`),r.maxWidth&amp;&amp;appendCss(`#${this.getId()}Container {
                max-width: ${r.maxWidth}px !important;
                margin-left: auto !important;
                margin-right: auto !important;
            }`),r.css&amp;&amp;appendCss(r.css.replace(/\$container/g,`#${this.getId()}Container`)),this.applyStyles(r.styles||{}),this.tracking.hitPlayerEvent("player_init"),this.monitorPlayerInView(),this.style={padding:{bottom:get$2(r,"padding.bottom",20),top:get$2(r,"padding.top",30)}};const a=integrationConfig.onOutstreamPlayer();a(this)}static adjustMobileMargins(e){e.style.maxWidth="100vw",e.style.width="100vw",e.style.marginLeft="-50px";let t=-50;for(;e.getBoundingClientRect().x&lt;0&amp;&amp;t&lt;0;)t++,e.style.marginLeft=t+"px";carodaConsoleSafe.info("OutstreamPlayer",".adjustMobileMargins","adjusted to",t),-50===t&amp;&amp;e.setAttribute("style","")}attachTo(t){t.classList.add("carodaContainer"),t.id=this.getId()+"Container",t.appendChild(this.containerElement),this.placementIds.forEach(e=&gt;{setPlacementDimensions(e,{height:Math.max(t.clientHeight,9*t.clientWidth/16),width:t.clientWidth})}),this.takeNoSpace(),this.waitForAdLoadAndAddBorders()}getElement(){return this.containerElement}getId(){return this.id}getAdPlayerLoader(){return this.adPlayerLoader}getAdPlayerFrame(){return this.adPlayerFrame}async play(){carodaConsoleSafe.info("OutstreamPlayer",".play");let e;this.isSlider&amp;&amp;(e=this.adPlayerLoader.loadOutstreamSliderAdSlot(this.getElement(),{supportBannerInSlider:integrationConfig.supportBannersInSlider(),isSingleAd:this.isSingleAd,onPlayerReady:this.onAdPlayerReady.bind(this),useRepeatedAds:this.useRepeatedAds,playerDimensions:this.getPlayerDimensions()}),this.connectTo(e),await e.play()),e&amp;&amp;e.hadImpression()||await this.adPlayerLoader.loadOutstreamAdSlot(this.getElement(),this.onAdPlayerReady.bind(this)),carodaConsoleSafe.info("OutstreamPlayer",".play","finished"),this.status="finished"}async waitForStart(){await waitFor(()=&gt;"loaded"===this.status||"finished"===this.status)}async waitForEnd(){await waitFor(()=&gt;"finished"===this.status)}getPlayerDimensions(){return{playerHeight:this.containerElement.clientHeight,playerWidth:this.containerElement.clientWidth}}isForceMobileStandardWidth(){return this.forceMobileStandardWidth}onAdPlayerReady(e){mergeTrackingContext(this.tracking,e)}async waitForAdLoadAndAddBorders(){carodaConsoleSafe.info("OutstreamPlayer",".waitForAdLoadAndAddBorders");const e=()=&gt;Boolean(renderDocument.querySelector(`#${this.id}Container .loaded:not(#videoslot)`));"mobile"!==targetingProfile.device()||!isFullWidthPage()||this.forceMobileStandardWidth||isInClippedDiv(this.getParentElement().parentElement)||OutstreamPlayer.adjustMobileMargins(this.containerElement),await waitFor(()=&gt;e()),carodaConsoleSafe.info("OutstreamPlayer",".waitForAdLoadAndAddBorders","loaded"),this.status="loaded",this.takeNoSpaceStyles&amp;&amp;this.takeNoSpaceStyles.remove(),appendCss(`
      #${this.getId()}Container {
        --caroda-outstream-padding-top: max(0.1px, ${this.style.padding.top}px);
        --caroda-outstream-padding-bottom: max(0.1px, ${this.style.padding.bottom}px);
      }
      #${this.getId()}Container &gt; .carodaOutstream {
        padding-top: var(--caroda-outstream-padding-top) !important;
        padding-bottom: var(--caroda-outstream-padding-bottom) !important;
      }
    `),this.containerElement.style.overflow="visible"}getParentElement(){return this.containerElement.parentElement}isInView(){return this.unfreezePrecondition()&amp;&amp;isInVerticalView(this.containerElement)}async monitorPlayerInView(){if(await waitFor(()=&gt;this.isInView()),this.tracking.hitPlayerEvent("player_in_view"),!this.omitOpportunityTracking){let e=Date.now();await waitFor(()=&gt;(this.isInView()||(e=Date.now()),2e3&lt;Date.now()-e)),this.tracking.hitPlayerEvent("outstream_impression_opportunity")}}applyStyles(e){this.applyLabelStyles(e.label||{})}applyLabelStyles(e){var t=getCssString(e={content:labels[this.locale].advertising,...e}),r="#"+this.getId();appendCss(`
      ${r}.carodaOutstreamSlider .sliderSpacer:before,
      ${r} .carodaVvOutstreamPlayer:before,
      ${r} .carodaImaOutstreamPlayer:before,
      ${r} .carodaSmartclipContainer:before,
      ${r} .carodaBannerContainer:before,
      ${r} .carodaAniview:before,
      ${r} .carodaGamBannerPlayer:before {
          ${t}
      }
    `)}getContainerSelector(){return getHighSpecificitySelector(this.getId()+"Container")}takeNoSpace(){var{top:e,bottom:t}=getSeamlessMargin(this.getParentElement());this.takeNoSpaceStyles=appendCss(`
            ${this.getContainerSelector()}, ${this.getContainerSelector()} &gt; div {
                padding-top: 0 !important;
                padding-bottom: 0 !important;
                border: 0 !important;
            }
            ${this.getContainerSelector()} {
                min-height: 0.1px !important;
                margin-top: ${e} !important;
                margin-bottom: ${t} !important;
            }
            ${this.getContainerSelector()} &gt; div {
                margin-top: 0 !important;
                margin-bottom: 0 !important;
            }
        `)}}class InterstitialPlayer extends OutstreamPlayer{constructor(e,t,r={},n){super(e,t,{...r,adFrameOptions:{...r.adFrameOptions||{}},padding:{bottom:0,top:0},styles:{label:{fontSize:"25px",left:"0px",position:"absolute",textAlign:"center",textTransform:"capitalize",transform:"none",width:"100%"}}},n),this.logger=new InstanceLogger(`InterstitialPlayer[${Math.round(1e6*Math.random())}]`),this.spinner=new Spinner(r.container||renderDocument.body,"interstitial"),this.waitToDisplay=r.waitToDisplay||Promise.resolve(),this.closeButtonStyles=(r.styles||{}).closeButton,this.attachTo(this.createContainer())}async play(){await super.play(),this.isBanner()||this.close()}onAdPlayerReady(e){if(e instanceof BannerPlayer)throw new Error("Banners are not supported in interstitial");const t=()=&gt;!!this.getElement().querySelector(".carodaTeadsAdLabelContainer"),r=()=&gt;!!this.getElement().querySelector(".carodaInterstitialClose");super.onAdPlayerReady(e),this.waitForAdLoaded(e).then(()=&gt;this.waitForStart()).then(async()=&gt;{await this.waitToDisplay,this.spinner.show(),this.getContainer().classList.remove("hidden"),this.setDimensions(this.getAdDimensions(e)),this.spinner.getOverlay().classList.add("carodaLoaded"),e instanceof TeadsPlayer&amp;&amp;!t()&amp;&amp;this.createTeadsAdLabelContainer(),r()||this.createCloseButton()}).catch(e=&gt;{this.logger.info(".onAdPlayerReady",e)})}createContainer(){const e=renderDocument.createElement("div"),t=(e.classList.add("carodaInterstitialPlayerContainer"),e.classList.add("hidden"),this.spinner.getOverlay());return t.classList.add("caroda-interstitial-preload"),this.waitToDisplay.then(()=&gt;t.classList.remove("caroda-interstitial-preload")),t.appendChild(e),e}getContainer(){return this.spinner.getOverlay().querySelector(".carodaInterstitialPlayerContainer")}createCloseButton(){const e=renderDocument.createElement("button");return e.id="carodaInterstitialClose"+Math.floor(1e6*Math.random()),e.classList.add("carodaInterstitialClose"),this.getCloseButtonParent().appendChild(e),e.addEventListener("click",()=&gt;this.close()),this.closeButtonStyles&amp;&amp;appendCss(`${getHighSpecificitySelector(e.id)} {
        ${getCssString(this.closeButtonStyles)}
      }`),e}close(){this.spinner.hide(),setTimeout(()=&gt;{this.spinner.getOverlay().remove()},300)}waitForAdLoaded(e){return e instanceof VVPlayer||e instanceof ImaPlayer?e.waitForAdValid():this.waitForStart()}getAdDimensions(e){var t;if(e instanceof VVPlayer||e instanceof ImaPlayer)return t=this.getContainer().getBoundingClientRect(),crop({height:t.height-65,width:t.width},e.getFormat())}setDimensions({width:e,height:t}={width:void 0,height:void 0}){null!=e&amp;&amp;null!=t&amp;&amp;appendCss(getHighSpecificitySelector(this.getElement().id)+` {
      width: ${e}px !important;
      height: ${t+65}px !important;
    }`)}isBanner(){return!!this.getElement().querySelector(".carodaBanner")}getCloseButtonParent(){return this.getElement().querySelector(".carodaBanner")||this.getElement().querySelector(".carodaSmartclipContainer")||this.getElement().querySelector(".carodaTeadsAdLabelContainer")||this.getElement()}createTeadsAdLabelContainer(){const e=renderDocument.createElement("div");e.classList.add("carodaTeadsAdLabelContainer"),e.appendChild(this.getTeadsAdLabel()),this.getElement().insertBefore(e,this.getElement().firstElementChild)}getTeadsAdLabel(){const e=renderDocument.createElement("div");return e.classList.add("carodaTeadsAdLabel"),e.textContent=labels[targetingProfile.locale()].advertising,e}}function createCarodaElement({tagName:e,idPrefix:t,classList:r=[],styles:n}){const i=renderDocument.createElement(e);return i.id=t+"-"+Math.round(1e6*Math.random()),i.classList.add(...r),n&amp;&amp;appendCss(`${getHighSpecificitySelector(i.id)} {
      ${getCssString(n)}
    }`),i}function createCloseButton({styles:e,position:t,text:r,onClick:n}){var i=getCloseButtonText(targetingProfile.locale(),r);const a=createCarodaElement({classList:["carodaLibraryCloseButton","carodaLibraryCloseButtonPosition-"+t.horizontal,"carodaLibraryCloseButtonPosition-"+t.vertical],idPrefix:"carodaLibraryCloseButton",styles:e,tagName:"button"});return a.type="button",a.innerHTML=`&lt;span&gt;${i}&lt;/span&gt;`,a.addEventListener("click",n),a}function getCloseButtonText(e,t){var r;return t?(carodaConsoleSafe.info("Button close text was provided on integration level:",t),t):(null==(r=labels[e])?void 0:r.close)||labels.en.close}function createFloatingContainer({styles:e,position:t}){return createCarodaElement({classList:["carodaLibraryFloatingContainer","carodaLibraryFloatingContainerPosition-"+t.horizontal,"carodaLibraryFloatingContainerPosition-"+t.vertical,"carodaLibraryFloatingContainerDevice-"+targetingProfile.deviceType()],idPrefix:"carodaLibraryFloatingContainer",styles:e,tagName:"div"})}const TWO_MINUTES_MS=12e4,THIRTY_SECONDS_MS=3e4,defaultRefreshAfterSecondsByPlayerType={banner:30,caroda:5,none:30,thirdParty:5};class LongSessionOutstreamPlayer extends OutstreamPlayer{constructor(n,e,t={},r){const i={ignorePassbackAfterSeconds:10,secondsToConsiderThirdPartyPlayersFinished:30,disableGamBannerAutoRefresh:!0};super(n(i),e,t,r),this.logger=new InstanceLogger(`LongSessionOutstreamPlayer[${Math.round(1e6*Math.random())}]`),this.stopped=!1,this.lastTimeAdsGroupWasReset=Date.now(),this.logger.info(".constructor"),this.getElement().classList.add("carodaLongSessionOutstream"),this.adPlayerLoaderFetcher=()=&gt;{var e=null==(e=this.adPlayerLoader)?void 0:e.adsGroup,t=Date.now()-this.lastTimeAdsGroupWasReset,t=this.useRepeatedAds||t&gt;TWO_MINUTES_MS;const r=n(i);return e&amp;&amp;!t?(this.logger.info(".adPlayerLoaderFetcher","keeping last ads group"),r.adsGroup=e):this.lastTimeAdsGroupWasReset=Date.now(),r},this.refreshAfterSecondsByPlayerType={...defaultRefreshAfterSecondsByPlayerType,...t.refreshAfterSecondsByPlayerType||{}}}async play(){this.logger.info(".play");let t=0;for(;!this.stopped;){this.useRepeatedAds||(r=Math.max(0,THIRTY_SECONDS_MS-(Date.now()-t)),this.logger.info(".play","waiting",r,"ms"),await waitMs(r),t=Date.now());const i=await this.getSlider();this.connectTo(i);var r=i.play(),n=(waitFor(()=&gt;!!this.getElement().querySelector("[class*='caroda'].loaded")).then(()=&gt;{this.markAsNotRefreshing(),this.preventElementCollapse()}),i.waitForEndingState());let e=await Promise.race([r,n]);if(null!==e&amp;&amp;void 0!==e?e:e=i.getEndingState(),!e||!this.shouldPlayAnotherSlider(e))break;this.logger.info(".play","slider entered ending state",e),await wait(1e3*this.getRefreshAfterSecondsByEndingState(e)),"repeatedAds"===i.getEndingState()&amp;&amp;await i.destroyAfterCurrentAd(),await this.waitForInVerticalView(),this.markAsRefreshing(),i.destroy(),this.adPlayerLoader=this.adPlayerLoaderFetcher(),this.logger.info(".play","starting new session")}this.logger.info(".play","finished"),this.status="finished",this.stopPreventingElementCollapse()}stop(){this.stopped=!0}markAsRefreshing(){this.getElement().classList.add("carodaLongSessionOutstream-refreshing")}markAsNotRefreshing(){this.getElement().classList.remove("carodaLongSessionOutstream-refreshing")}async waitForInVerticalView(){await waitFor(()=&gt;isInVerticalView(this.getElement()))}preventElementCollapse(){var e=this.getElement().clientHeight+"px";this.getElement().style.minHeight=`calc(${e} - var(--advertising-label-height))`}stopPreventingElementCollapse(){this.getElement().style.minHeight=""}async getSlider(){return this.adPlayerLoader.loadOutstreamSliderAdSlot(this.getElement(),{supportBannerInSlider:!1,isSingleAd:this.isSingleAd||!this.useRepeatedAds,onPlayerReady:e=&gt;this.onAdPlayerReady(e),useRepeatedAds:this.useRepeatedAds,retryAfterLearnMore:!1})}shouldPlayAnotherSlider(e){return void 0!==this.getRefreshAfterSecondsByEndingState(e)}getRefreshAfterSecondsByEndingState(e){switch(e){case"repeatedAds":case"learnMore":return this.refreshAfterSecondsByPlayerType.caroda;case"banner":return this.refreshAfterSecondsByPlayerType.banner;case"bannerWithPassback":return this.refreshAfterSecondsByPlayerType.banner-this.adPlayerLoader.options.ignorePassbackAfterSeconds;case"thirdPartyPlayer":return this.refreshAfterSecondsByPlayerType.thirdParty;case"noAds":return this.refreshAfterSecondsByPlayerType.none;default:return}}}class LongSessionFloatingOutstreamPlayer extends LongSessionOutstreamPlayer{constructor({adPlayerLoaderFetcher:e,globalConfigOverride:t,playerOptions:r={},placementId:n}){super(e,t,{...r,css:`
          ${r.css||""}
          $carodaContainer {
            --advertising-label-height: 0;
          }
        `,forceMobileStandardWidth:!0,padding:{bottom:0,top:0},styles:{label:{display:"none",visibility:"hidden"}}},n),this.floatingContainer=createFloatingContainer({position:r.floatingContainerPosition||{horizontal:"right",vertical:"bottom"},styles:{..."bottom"===(null==(i=r.closeButtonPosition)?void 0:i.vertical)?{marginBottom:"30px"}:{},...(null==(i=r.styles)?void 0:i.floatingContainer)||{},...r.widthInPixels?{maxWidth:`min(100vw, ${r.widthInPixels}px)`,width:r.widthInPixels+"px"}:{}}});var i=createCloseButton({onClick:()=&gt;this.close(),position:r.closeButtonPosition||{horizontal:"left",vertical:"top"},styles:null==(i=r.styles)?void 0:i.closeButton,text:r.closeButtonText}),i=(this.floatingContainer.appendChild(i),renderDocument.createElement("div"));this.floatingContainer.appendChild(i);const a=r.container||renderDocument.body;a.appendChild(this.floatingContainer),this.attachTo(i),this.waitToDisplay=r.waitToDisplay||Promise.resolve()}async play(){return this.handleVisibility(),super.play()}markAsRefreshing(){this.floatingContainer.classList.add("carodaLongSessionFloatingOutstream-refreshing")}markAsNotRefreshing(){this.floatingContainer.classList.remove("carodaLongSessionFloatingOutstream-refreshing")}async waitForInVerticalView(){}isInView(){return this.unfreezePrecondition()}close(){this.stop(),this.status="finished",this.floatingContainer.remove()}async handleVisibility(){await Promise.all([this.waitToDisplay,this.waitForStart()]),this.floatingContainer.classList.add("carodaLibraryFloatingContainerVisible"),await this.waitForEnd(),this.floatingContainer.classList.remove("carodaLibraryFloatingContainerVisible")}}var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,isObject$1=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(n,i,e){var a,o,r,s,l,c,d=0,u=!1,p=!1,t=!0;if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT$1);function h(e){var t=a,r=o;return a=o=void 0,d=e,s=n.apply(r,t)}function g(e){var t=e-c;return void 0===c||i&lt;=t||t&lt;0||p&amp;&amp;r&lt;=e-d}function m(){var e,t=now();if(g(t))return f(t);l=setTimeout(m,(t=i-((e=t)-c),p?nativeMin(t,r-(e-d)):t))}function f(e){return l=void 0,t&amp;&amp;a?h(e):(a=o=void 0,s)}function y(){var e,t=now(),r=g(t);if(a=arguments,o=this,c=t,r){if(void 0===l)return d=e=c,l=setTimeout(m,i),u?h(e):s;if(p)return clearTimeout(l),l=setTimeout(m,i),h(c)}return void 0===l&amp;&amp;(l=setTimeout(m,i)),s}return i=toNumber(i)||0,isObject$1(e)&amp;&amp;(u=!!e.leading,p="maxWait"in e,r=p?nativeMax(toNumber(e.maxWait)||0,i):r,t="trailing"in e?!!e.trailing:t),y.cancel=function(){void 0!==l&amp;&amp;clearTimeout(l),a=c=o=l=void(d=0)},y.flush=function(){return void 0===l?s:f(now())},y}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);return isObject(r)&amp;&amp;(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),debounce(e,t,{leading:n,maxWait:t,trailing:i})}var throttle_1=throttle,_throttle=getDefaultExportFromCjs(throttle_1);class Placeholder{constructor(e){this.element=e,this.element.style.height="auto"}getElement(){return this.element}takeNoSpace(){var{top:e,bottom:t}=getSeamlessMargin(this.element);this.takeNoSpaceStyles=appendCss(`
          ${getHighSpecificitySelector(this.element.id)} {
              height: 0.1px !important;
              margin-top: ${e} !important;
              margin-bottom: ${t} !important;
              padding-top: 0 !important;
              padding-bottom: 0 !important;
              border: 0 !important;
          }
      `)}stopTakingNoSpace(){this.takeNoSpaceStyles&amp;&amp;this.takeNoSpaceStyles.remove()}isVisible(e){if("hidden"===renderWindow.getComputedStyle(this.element).visibility)return!1;var t=getPlayerDimensions(this.element,e)["playerHeight"],r=this.element.getBoundingClientRect(),n=!!r.width||!!r.height,i=renderWindow.innerHeight||renderDocument.documentElement.clientHeight;return n&amp;&amp;0&lt;=r.top+t/2&amp;&amp;r.top+t/2&lt;=i}positionPlayer(e,t,r,n){this.resize(t);var i=this.element.getBoundingClientRect(),a=(t.parentElement.style.width=i.width+"px",t.parentElement.style.position="absolute",i.top-r.top+n.top),i=i.left-r.left+n.left;t.parentElement.style.top=a+"px",t.parentElement.style.left=i+"px"}releasePlayer(e){}update(){}isHidden(){return isHidden(this.element)}resize(e){this.element.style.height=this.getHeight(e)+"px"}getHeight(e){var t=e.getBoundingClientRect();if(0===t.height)return 0;t=t.width/t.height;return this.element.getBoundingClientRect().width/t}}class ExtendedVerticalPlaceholder extends Placeholder{constructor(e,t,r,n=!1){super(e),this.adLabelHeight=20,this.initialized=!1,e.id=e.id||"carodaExtendedVerticalContainer"+Math.floor(1e6*Math.random()),e.classList.add("carodaExtendedVerticalContainer"),this.height=t,this.adHeightMultiplier=r,this.isInterscroller=n}positionPlayer(e,t,r,n){var i;if(this.isTakingNoSpace())return i=this.getElement().getBoundingClientRect(),void(t.parentElement.style.width=i.width+"px");this.initialized?this.setCoordinates(t.parentElement,r,n):(this.initialized=!0,this.setHeight(t.parentElement),this.setCoordinates(t.parentElement,r,n),this.topResizeObserver=this.setTop(t,this.adLabelHeight),t.parentElement.classList.add("carodaUsingExtendedVerticalPlaceholder"))}releasePlayer(e){this.topResizeObserver&amp;&amp;(this.topResizeObserver.disconnect(),this.topResizeObserver=null),e.parentElement.classList.remove("carodaUsingExtendedVerticalPlaceholder"),this.unsetCoordinates(e.parentElement),this.unsetTop(e),this.initialized=!1}takeNoSpace(){var{top:e,bottom:t}=getSeamlessMargin(this.getElement());this.takeNoSpaceStyles=appendCss(`
      ${getHighSpecificitySelector(this.getElement().id)} {
        height: 0.1px !important;
        margin-top: ${e} !important;
        margin-bottom: ${t} !important;
        padding-top: 0 !important;
        padding-bottom: 0 !important;
        border: 0 !important;
      }
      ${getHighSpecificitySelector(this.getElement().id)}:before{
        display: none !important;
      }
    `)}isVisible(){const e=this.getElement();if("hidden"===renderWindow.getComputedStyle(e).visibility)return!1;var{top:t,bottom:r,width:n,height:i}=e.getBoundingClientRect();if(!n&amp;&amp;!i)return!1;return t+20&lt;(renderWindow.innerHeight||renderDocument.documentElement.clientHeight)&amp;&amp;0&lt;r-20}setHeight(e){let t=this.height;var r=e.clientHeight/e.clientWidth*this.getElement().clientWidth,r=(this.adHeightMultiplier&amp;&amp;100&lt;r&amp;&amp;(t=r*this.adHeightMultiplier),e.clientWidth||(null==(r=e.parentElement)?void 0:r.clientWidth)||0);t=t||r*(4/3),null!=(r=this.heightStyles)&amp;&amp;r.remove(),this.heightStyles=appendCss(`
      ${getHighSpecificitySelector(this.getElement().id)} {
        height: ${Math.max(t,e.clientHeight)}px !important;
      }
    `)}setTop(e,t){const r=()=&gt;this.isInterscroller?"0":`calc(50% - ${e.clientHeight/2-t}px)`;if(e.style.top=r(),!renderWindow.ResizeObserver)return null;const n=new renderWindow.ResizeObserver(()=&gt;{e.style.top=r()});return n.observe(e),n}setCoordinates(e,t,r){var{top:n,left:i}=this.getElement().getBoundingClientRect();e.style.position="absolute",e.style.width=this.getElement().clientWidth+"px",e.style.height=this.getElement().clientHeight+this.adLabelHeight+"px",e.style.top=r.top+n-t.top-this.adLabelHeight+"px",e.style.left=r.left+i-t.left+"px"}unsetTop(e){e.style.top=""}unsetCoordinates(e){e.style.width="",e.style.height="",e.style.top="",e.style.left=""}isTakingNoSpace(){return renderDocument.contains(this.takeNoSpaceStyles)}}class FixedPlaceholder extends Placeholder{constructor(){super(...arguments),this.isFixed=!0}static isFixed(e){return!!e&amp;&amp;("fixed"===renderWindow.getComputedStyle(e).position||this.isFixed(e.parentElement))}positionPlayer(e,t,r,n){if(!this.isFixed)return super.positionPlayer(e,t,r,n);this.resize(t);var i=this.getElement().getBoundingClientRect();t.parentElement.style.width=i.width+"px",t.parentElement.style.position="fixed",t.parentElement.style.top=i.top+"px",t.parentElement.style.left=i.left+"px"}update(){this.isFixed=FixedPlaceholder.isFixed(this.getElement())}}class StickyPlaceholder extends Placeholder{constructor(e){super(e),this.stickyParent=getStickyParent(this.getElement()),this.initialize()}static isSticky(e){return isSticky(e)}positionPlayer(e,t,r,n){if(!this.isStuck)return super.positionPlayer(e,t,r,n);this.resize(t);var i=this.getElement().getBoundingClientRect();t.parentElement.style.width=i.width+"px",t.parentElement.style.position="fixed",t.parentElement.style.top=i.top+"px",t.parentElement.style.left=i.left+"px"}disconnect(){this.isStuck=!1,this.topSentinelObserver.disconnect(),this.bottomSentinelObserver.disconnect()}update(){var e=getStickyParent(this.getElement());e?this.stickyParent!==e?(this.stickyParent=e,this.disconnect(),this.initialize()):this.updateSentinels():(this.stickyParent=e,this.disconnect())}initialize(){this.topSentinel=this.addTopStickyPlaceholderSentinel(),this.bottomSentinel=this.addBottomStickyPlaceholderSentinel();let r;this.topSentinelObserver=new IntersectionObserver(([e])=&gt;{r=1===e.intersectionRatio,this.isStuck=!r},{threshold:[1]}),this.topSentinelObserver.observe(this.topSentinel),this.bottomSentinelObserver=new IntersectionObserver(([e])=&gt;{var t=1===e.intersectionRatio;this.isStuck=!r&amp;&amp;t},{threshold:[1]}),this.bottomSentinelObserver.observe(this.bottomSentinel)}addTopStickyPlaceholderSentinel(){const e=this.createSentinel();return e.classList.add("carodaMultiPositionPlaceholderStickySentinelTop"),this.stickyParent.parentElement.insertBefore(e,this.stickyParent),e}addBottomStickyPlaceholderSentinel(){const e=this.createSentinel();return e.classList.add("carodaMultiPositionPlaceholderStickySentinelBottom"),this.stickyParent.insertBefore(e,this.stickyParent.children[0]),e}createSentinel(){const e=renderDocument.createElement("div"),t=(e.id="carodaMultiPositionPlaceholderStickySentinel"+Math.floor(1e6*Math.random()),e.classList.add("carodaMultiPositionPlaceholderStickySentinel"),renderWindow.getComputedStyle(this.stickyParent).top);return t.match(/[0-9]*px/)&amp;&amp;(e.style.marginTop="-"+t),e}updateSentinels(){this.sentinelsStyles&amp;&amp;this.sentinelsStyles.remove();var e=this.getTop();this.sentinelsStyles=appendCss(`
      ${getHighSpecificitySelector(this.topSentinel.id)},
      ${getHighSpecificitySelector(this.bottomSentinel.id)} {
        height: ${e}px !important;
        margin-top: -${e}px !important;
      }
    `)}getTop(){const e=renderWindow.getComputedStyle(this.stickyParent).top;return parseInt(e.replace("px",""),10)}}class FloatingPlaceholder extends FixedPlaceholder{constructor({container:e,containerPosition:t,closeButtonPosition:r}){super(createFloatingContainer({position:t,styles:{..."bottom"===(null==r?void 0:r.vertical)?{marginBottom:"30px"}:{}}}));var n=createCloseButton({onClick:()=&gt;this.close(),position:r});this.getElement().appendChild(n),e.appendChild(this.getElement()),this.getElement().classList.add("carodaLibraryFloatingContainerVisible","carodaMultiPositionPlaceholder"),appendCss(".carodaLibraryFloatingContainer:not(.carodaPlaceholderInUse) { pointer-events: none; }")}positionPlayer(e,t,r,n){super.positionPlayer(e,t,r,n),t.parentElement.classList.add("carodaUsingFloatingPlaceholder"),waitFor(()=&gt;t.classList.contains("adLoaded")||!t.parentElement.classList.contains("carodaUsingFloatingPlaceholder")).then(()=&gt;{t.classList.contains("adLoaded")&amp;&amp;this.getElement().classList.add("adLoaded")}),t.id||(t.id="carodaOutstreamPlayer"+Math.round(1e6*Math.random())),t.parentElement.id||(t.parentElement.id="carodaOutstreamPlayerContainer"+Math.round(1e6*Math.random()));var i,a=getHighSpecificitySelector(t.id),o=getHighSpecificitySelector(t.parentElement.id),s=parseInt(renderWindow.getComputedStyle(this.getElement()).zIndex);null!=(i=this.customStyles)&amp;&amp;i.remove(),this.customStyles=appendCss(`
      ${a} {
        --advertising-label-height: 0px;
        padding-top: 0px !important;
        padding-bottom: 0px !important;
      }
      /* This prevents the player from being obstructed by the placeholder */
      ${o} {
        z-index: ${s+1} !important;
      }
    `)}releasePlayer(e){var t;super.releasePlayer(e),e.parentElement.classList.remove("carodaUsingFloatingPlaceholder"),null!=(t=this.customStyles)&amp;&amp;t.remove()}isVisible(e){return!0}isHidden(){return!1}close(){this.getElement().style.display="none"}}class OutstreamMultiPositionPlayer extends OutstreamPlayer{constructor(e,t,r,n,i){super(t,r,n,i),this.stopListeners=[],carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".constructor",e,n),this.scrollThrottleMs=isNaN(n.scrollThrottleMs)?50:n.scrollThrottleMs,this.startedPlaying=!1,this.scrollStatus={isScrollingUp:!1,lastScroll:this.getScrollY()},this.playerContainer=renderDocument.createElement("div"),this.playerContainer.classList.add("carodaContainer"),this.playerContainer.classList.add("carodaMultiPosition"),this.playerContainer.appendChild(this.getElement()),this.floatingContainer=n.floatingContainer||renderDocument.body,this.scrollableContainer=n.scrollableContainer,this.floatingContainer.appendChild(this.playerContainer),this.initializePlaceholders(e),this.placeholders.length&amp;&amp;(this.initializeEventHandlers(),this.initializePosition()),this.waitForAdLoadAndRemoveNoSpaceStyles(),this.waitForAdLoadAndAddBorders(),waitFor(()=&gt;!!this.currentPlaceholder).then(()=&gt;{const e=Array.isArray(i)?i:[i];e.forEach(e=&gt;{var t=this.currentPlaceholder.getElement().clientWidth;setPlacementDimensions(e,{height:Math.max(this.currentPlaceholder.getElement().clientHeight,9*t/16),width:t})})}),this.positionPlayerInterval=setInterval(()=&gt;this.positionPlayer(),500)}static getPlaceholdersBySelector(e,{maxSlots:t=10,insertionRule:r,spacingMultiplier:n,excludeFloatedNarrowElements:i=!0,isExtendedVertical:a=!1,extendedVerticalHeight:o,adHeightMultiplier:s,isInterscroller:l,takeSpace:c,scrollableContainer:d}){const u=OutstreamMultiPositionPlayer.getStandardMultiPositionRule(n,r,()=&gt;d?d.scrollTop:renderWindow.scrollY);return new Array(t).fill(null).map(()=&gt;({container:e,excludeFloatedNarrowElements:i,insertionRule:u,isExtendedVertical:a,...a?{adHeightMultiplier:s,extendedVerticalHeight:o,isInterscroller:l}:{},takeSpace:c}))}static getStandardMultiPositionRule(s=1,l=(e,t,r,n)=&gt;!n,c){const d=renderWindow.innerHeight;let u=-1e4;return(e,t,r,n,i)=&gt;{if(!e)return!1;if(!l(e,t,r,n,i))return!1;var a=e.getBoundingClientRect(),a=a.top+a.height+c(),o=d*s;return!(a&lt;u+o)&amp;&amp;(u=a,!0)}}addPlaceholders(r){carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".addPlaceholders",r);const e=r.map(e=&gt;{const t=e["container"];if(e.floating)return r=t instanceof HTMLElement?t:renderDocument.body,this.instantiatePlaceholder(r,e);if(t instanceof renderWindow.HTMLElement)return t.classList.add("carodaMultiPositionPlaceholder"),this.instantiatePlaceholder(t,e);var r=findSlot(t,!1!==e.excludeFloatedNarrowElements,null,e.insertionRule);return r?this.createPlaceholder(e,r.container,r.next):void 0}).map((e,t)=&gt;({config:r[t],placeholder:e})).filter(({placeholder:e})=&gt;!!e);this.isLoaded()||e.filter(({config:e})=&gt;!e.takeSpace).forEach(({placeholder:e})=&gt;{e.takeNoSpace()}),this.placeholders=[...this.placeholders,...e.map(({placeholder:e})=&gt;e)];var t=this.placeholders.some(this.isPlaceholderValid.bind(this));carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".addPlaceholders",{areThereValidPlaceholders:t,placeholders:this.placeholders}),t&amp;&amp;this.show(),this.positionPlayer()}addPlaceholdersBySelector(e,t){var r=OutstreamMultiPositionPlayer.getPlaceholdersBySelector(e,t);this.addPlaceholders(r)}getPlayerContainer(){return this.playerContainer}refreshPlayerPosition(){carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".refreshPlayerPosition"),this.positionPlayer()}destroy(){carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".destroy"),this.stopListeners.forEach(e=&gt;e()),clearInterval(this.positionPlayerInterval),this.getElement().remove()}getPlayerDimensions(){const e=this.currentPlaceholder||this.placeholders[0];return e?{playerHeight:e.getElement().clientHeight,playerWidth:e.getElement().clientWidth}:super.getPlayerDimensions()}isInView(){return super.isInView()&amp;&amp;this.currentPlaceholder&amp;&amp;isInVerticalView(this.currentPlaceholder.getElement())}onAdPlayerReady(t){super.onAdPlayerReady(t),((this.adPlayer=t)instanceof BannerPlayer||t instanceof AniviewPlayer||t instanceof GamBannerPlayer||t instanceof VideoFrameBannerPlayer)&amp;&amp;t.addEventListener("rendered",()=&gt;{var e=t.getElement().clientWidth;e&amp;&amp;(this.bannerWidth=e,e=this.placeholders.some(this.isPlaceholderValid.bind(this)),carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".onAdPlayerReady","banner rendered",{areThereValidPlaceholders:e,bannerWidth:this.bannerWidth}),e||this.hide(),this.positionPlayer())})}async waitForAdLoadAndAddBorders(){carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".waitForAdLoadAndAddBorders");await waitFor(()=&gt;Boolean(renderDocument.querySelector(`#${this.id} .loaded`))),carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".waitForAdLoadAndAddBorders","loaded"),this.status="loaded",appendCss(`
      #${this.getId()} {
        --caroda-outstream-padding-top: max(0.1px, ${this.style.padding.top}px);
        --caroda-outstream-padding-bottom: max(0.1px, ${this.style.padding.bottom}px);
      }
      #${this.getId()}.carodaOutstream {
        padding-top: var(--caroda-outstream-padding-top) !important;
        padding-bottom: var(--caroda-outstream-padding-bottom) !important;
      }
    `)}initializeEventHandlers(){const e=_throttle(()=&gt;this.positionPlayer(),this.scrollThrottleMs),t=_throttle(()=&gt;{this.placeholders.forEach(e=&gt;{e.update()})},250),r=_throttle(()=&gt;this.handleScrollChange(),this.scrollThrottleMs),n=this.scrollableContainer||renderDocument,i=(n.addEventListener("scroll",r),n.addEventListener("scroll",t),renderWindow.addEventListener("resize",e),renderWindow.addEventListener("resize",t),new renderWindow.MutationObserver(()=&gt;{setTimeout(e,0),setTimeout(e,500),setTimeout(e,1e3)}));i.observe(this.playerContainer,{attributeFilter:["className","style"],attributes:!0,childList:!0,subtree:!0}),this.stopListeners.push(()=&gt;n.removeEventListener("scroll",r),()=&gt;n.removeEventListener("scroll",t),()=&gt;renderWindow.removeEventListener("resize",e),()=&gt;renderWindow.removeEventListener("resize",t),()=&gt;i.disconnect())}initializePlaceholders(e){this.placeholders=[],this.addPlaceholders(e),carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".initializePlaceholders",this.placeholders)}createPlaceholder(e,t,r){const n=renderDocument.createElement("div"),i=(n.id="carodaMultiPositionPlaceholder"+Math.floor(1e6*Math.random()),n.classList.add("carodaMultiPositionPlaceholder"),r?t.insertBefore(n,r):t.appendChild(n),this.instantiatePlaceholder(n,e));return"mobile"===targetingProfile.device()&amp;&amp;isFullWidthPage()&amp;&amp;!this.isForceMobileStandardWidth()&amp;&amp;!isInClippedDiv(n.parentElement)&amp;&amp;OutstreamPlayer.adjustMobileMargins(i.getElement()),i}async initializePosition(){this.positionPlayer(),this.currentPlaceholder&amp;&amp;(await waitFor(()=&gt;!!this.getAspectRatio()),carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".initializePosition","got aspect ratio"),this.positionPlayer())}handleScrollChange(){var e=this.getScrollY(),t=this.scrollStatus.lastScroll&gt;e;this.scrollStatus.isScrollingUp=t,10&lt;Math.abs(e-this.scrollStatus.lastScroll)?(this.positionPlayer(),this.scrollStatus.lastScroll=e):this.adjustPlayerCoordinates()}positionPlayer(e){if(!(e=null!=e?e:this.getPlaceholderSwitchTarget()))return this.adjustPlayerCoordinates(),void(this.currentPlaceholder&amp;&amp;"hidden"===renderWindow.getComputedStyle(this.currentPlaceholder.getElement()).visibility?(this.currentPlaceholder.releasePlayer(this.getElement()),this.currentPlaceholder.getElement().classList.remove("carodaPlaceholderInUse"),this.currentPlaceholder=void 0):this.adjustPlayerCoordinates());this.currentPlaceholder&amp;&amp;(this.currentPlaceholder.releasePlayer(this.getElement()),this.currentPlaceholder.getElement().classList.remove("carodaPlaceholderInUse")),this.currentPlaceholder=e,this.currentPlaceholder.getElement().classList.add("carodaPlaceholderInUse"),this.adjustPlayerCoordinates(),this.startedPlaying||(this.play(),this.startedPlaying=!0)}getPlaceholderSwitchTarget(){const e=this.placeholders.filter(this.isPlaceholderValid.bind(this)).find(e=&gt;e.isVisible(this.getAspectRatio()));return this.isLoaded()||e||this.currentPlaceholder?this.currentPlaceholder&amp;&amp;e&amp;&amp;this.currentPlaceholder.getElement().isSameNode(e.getElement())?void 0:e:this.placeholders.find(this.isPlaceholderValid.bind(this))}adjustPlayerCoordinates(){if(this.currentPlaceholder){const r={top:0,left:0};var e=this.floatingContainer.getBoundingClientRect(),e=(r.left=e.left+this.getScrollX(),r.top=e.top+this.getScrollY(),{top:this.getScrollY(),left:this.getScrollX()}),t=(this.currentPlaceholder.positionPlayer(this.adPlayer,this.getElement(),r,e),this.getElement().getBoundingClientRect().top-this.currentPlaceholder.getElement().getBoundingClientRect().top);0&lt;Math.abs(t)&amp;&amp;(r.top+=t,this.currentPlaceholder.positionPlayer(this.adPlayer,this.getElement(),r,e))}}getAspectRatio(){var{width:e,height:t}=this.getElement().getBoundingClientRect();if(t)return e/t||void 0}isPlaceholderValid(e){return!(this.bannerWidth&amp;&amp;this.bannerWidth&gt;e.getElement().clientWidth)&amp;&amp;!e.isHidden()}isLoaded(){return!!this.playerContainer.querySelector("[class*='caroda'].loaded")||0&lt;this.bannerWidth}async waitForAdLoadAndRemoveNoSpaceStyles(){await waitFor(()=&gt;this.isLoaded());var e=this.currentPlaceholder;this.placeholders.forEach(e=&gt;{e.stopTakingNoSpace(),e.getElement().getBoundingClientRect().top&gt;renderWindow.innerHeight&amp;&amp;this.positionPlayer(e)}),this.positionPlayer(e)}instantiatePlaceholder(e,t){return t.floating?new FloatingPlaceholder({container:e,...t.floating}):t.isExtendedVertical?new ExtendedVerticalPlaceholder(e,t.extendedVerticalHeight,t.adHeightMultiplier,t.isInterscroller):new(StickyPlaceholder.isSticky(e)?StickyPlaceholder:FixedPlaceholder.isFixed(e)?FixedPlaceholder:Placeholder)(e)}hide(){carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".hide"),this.getElement().style.position="absolute",this.getElement().style.left="-9999px",this.getElement().style.top="-9999px"}show(){carodaConsoleSafe.info("OutstreamMultiPositionPlayer",".show"),this.getElement().style.position="",this.getElement().style.left="",this.getElement().style.top=""}getScrollY(){return this.scrollableContainer?this.scrollableContainer.scrollTop:renderWindow.scrollY}getScrollX(){return this.scrollableContainer?this.scrollableContainer.scrollLeft:renderWindow.scrollX}}function campaignViewToBidEntry(e,r,t){var n=r.videoAspectRatioValue()||16/9,i=r.creativeSuggestedSize||(null==(i=t.customFormat)?void 0:i.call(t,n))||{dynamic_size:!0,h:1,w:n};const a=Object.keys(r.adserverTargeting||{}).reduce((e,t)=&gt;({["crd_"+t]:r.adserverTargeting[t],...e}),{}),o=(delete a.crd_hb_size,t.bidCpmAdjustment||(e=&gt;e));n=t.currency?getConversionRate("EUR",t.currency)*r.cpmEur:r.cpmEur;return{ad:e,adserver_targeting:{crd_campaign_id:r.id,crd_campaign_title:r.title,crd_format:r.bannerScript?"banner":"video",...a},cpm:o(n),creative_id:r.creativeId||"unknown",currency:t.currency||"EUR",placement_id:r.assetId,...i}}async function pushResult({bidderSettings:e={},campaignExpandedView:t,configOverride:r={},outstreamPlayerOptions:n,placementId:i}){const a=new InstanceLogger(`PrebidAdapterPlayer .pushResult[${Math.floor(1e9*Math.random())}]`);a.info({campaignExpandedView:t});var o=await getPageViewId(),s=getBannerScript({configOverride:r,expandedCampaign:t,outstreamPlayerOptions:n,placementId:i}),s=t?[campaignViewToBidEntry(s,t,e)]:[],{requested:o,awaited_time:s}=await ApiInstance.pushPrebidResult(o,s);const l=new Tracking(r,{placementId:null==t?void 0:t.assetId});o&amp;&amp;(a.info("awaited_time",{awaited_time:s}),l.hitPlayerEvent("prebid_get_ad")),l.hitPlayerEvent("prebid_put_ad")}async function getPageViewId(){return await waitFor(()=&gt;!!renderWindow.carodaPageViewId),renderWindow.carodaPageViewId}function getBannerScript({configOverride:e,expandedCampaign:t,outstreamPlayerOptions:r,placementId:n}){if("banner"===t.type)return i=getBannerHandleTrackingScript({configOverride:e,expandedCampaign:t,placementId:n}),`
            ${t.bannerScript}
            &lt;script&gt;
                ${carodaPrebidAdapterBannerRendererHelpersCode}
                ${i}
            &lt;/script&gt;
        `;var i=integrationConfig.contributorToken(e),a=integrationConfig.websiteDomain();return`
        &lt;div
            id="${"caroda-renderer-"+Math.floor(1e9*Math.random())}"
            class="${carodaPrebidAdapterOutputClassName}"
            style="width: 100%; height: 100%;"
        &gt;
            &lt;script&gt;
                window.carodaPrebidAdapterRendererConfig = {
                    ctok: "${i}",
                    domain: "${a}",
                    outstreamPlayerOptions: ${JSON.stringify(r)},
                    placementId: "${n}",
                    expandedCampaign: ${JSON.stringify(t)}
                }
            &lt;/script&gt;
            &lt;script
                src="https://ads.caroda.io/videoPlayer/caroda.min.js?integrationTemplate=prebidAdapterRenderer"
                async
            &gt;&lt;/script&gt;
        &lt;/div&gt;
    `}function getBannerHandleTrackingScript({configOverride:e,expandedCampaign:t,placementId:r}){const n=new Tracking(e,{placementId:t.assetId});var i=t.bannerScript.includes("a.teads.tv/hb/ad/"),a=n.createPlayerEventTrackingUrl(i?"impression_other_players":"impression_banner",i?["//teads.prebid","//teads.prebid"]:void 0,void 0,void 0,void 0,r);if(i)return i=t.trackingHooks.map(({VastEvent:e,TrackingUrl:t})=&gt;({event:e,trackingUrl:t})),`
            const trackingHooks = ${JSON.stringify(i)}
            handleTeadsTracking(trackingHooks, ${JSON.stringify(a)})
        `;i=t.trackingHooks.filter(({VastEvent:e})=&gt;"impression"===e).map(({TrackingUrl:e})=&gt;e).concat([a]);return`
        const trackingUrls = ${JSON.stringify(i)}
        handleTracking(trackingUrls)
    `}const prebidAdapterCacheTable=new CachedTable("prebid-adapter-ads",900,e=&gt;Object.assign(new CampaignExpandedView,e));class Main{constructor(){carodaConsoleSafe.info("Main",".constructor"),this.integrationConfig=integrationConfig,this.privacy={tcf:getTcfState,usp:getUspState},logBotDetection(),this.players=[],this.loadCss(),this.utils={isInVerticalView:isInVerticalView,wait:wait,waitFor:waitFor,GemiusTracker:GemiusTracker},scrollPositionIntoView(),integrationConfig.shouldCreateDownloadLogsButton()&amp;&amp;createDownloadLogsButton()}async migrateAndLoadInstreamWithPositions(e,r,n={},i={contentDurationInSeconds:NaN,volume:NaN}){return carodaConsoleSafe.info("Main",".migrateAndLoadInstreamWithPositions"),this.migrateInstreamAndLoadPlayer(e,(e,t)=&gt;this.loadInstreamWithContentAndPositions(e,t,r,n,i))}async loadInstreamWithPositions(e,t,r,n={}){if(t=t.filter(e=&gt;"custom"!==e.position),carodaConsoleSafe.info("Main",".loadInstreamWithPositions",t),t&amp;&amp;t.length){await waitForConsent();var i=t.map(({vid:e})=&gt;e),i=await this.getPlacementIdToCampaignViews({configOverride:n,includeAdRule:r.includeAdRule,placementIds:i,transformCampaignView:r.transformCampaignView}),a=(carodaConsoleSafe.info("Main",".loadInstreamWithPositions","placementIdToCampaignViews",i),"number"==typeof r.volume?r.volume:r.volume(),r.adFrameOptions||{}),i=new InstreamAdPlayerLoader(i,{...a,playerInfo:{plcmt:()=&gt;{var e="number"==typeof r.volume?r.volume:r.volume();return carodaConsoleSafe.info("Main",".loadInstreamWithPositions","plcmt",{volume:e}),0&lt;e?"instream":"accompanyingContent"},...a.playerInfo||{}}},n);const o=new InstreamWithPositionsPlayer(t,i,n,r,void 0);return this.players.push(o),o.attachTo(e),o}}async loadInstreamWithContentAndPositions(e,t,r,n={},i={contentDurationInSeconds:NaN,volume:NaN},a={}){r=r.filter(e=&gt;"custom"!==e.position),carodaConsoleSafe.info("Main",".loadInstreamWithContentAndPositions",t,n),await waitForConsent();let o=null;n.publishDate&amp;&amp;(o=new Date(n.publishDate));var[s,l]=await InstreamPlayer.getAssetIdAndUrl(t,o,a);if(carodaConsoleSafe.info("Main",".loadInstreamWithContentAndPositions","got",{assetId:s,fallbackUrl:l}),"3rdparty"===l)return null;const c=await InstreamPlayer.instantiate(s,l,a,n);return this.players.push(c),e.appendChild(c.getElement()),await this.loadInstreamInContentPlayer(c,r,{zIndex:2,...i},a),c}async loadInstreamInContentPlayer(r,n,i={plcmt:void 0,contentDurationInSeconds:NaN,volume:NaN},a={}){if(n=n.filter(e=&gt;"custom"!==e.position),carodaConsoleSafe.info("Main",".loadInstreamInContentPlayer",{instreamPositions:n,playerOptions:i}),n&amp;&amp;n.length){var e=async()=&gt;{carodaConsoleSafe.info("Main",".loadInstreamInContentPlayer","waitForDependencies"),await waitForConsent();var e=i.adFrameOptions||{},t=n.map(({vid:e})=&gt;e),t=await this.getPlacementIdToCampaignViews({configOverride:a,includeAdRule:i.includeAdRule,placementIds:t,transformCampaignView:i.transformCampaignView});return carodaConsoleSafe.info("Main",".loadInstreamInContentPlayer","waitForDependencies",{placementIdToCampaignViews:t}),new InstreamAdPlayerLoader(t,{...e,playerInfo:{plcmt:()=&gt;{if(i.plcmt)return i.plcmt();var e=0===r.getVolume()||r.isMuted();return carodaConsoleSafe.info("Main",".loadInstreamInContentPlayer","plcmt",{isMuted:e}),e?"accompanyingContent":"instream"},autoplay:"user-initiated"!==getAutoplayBehaviour(r),...e.playerInfo||{}}},a)};try{var t=new InstreamInContentPlayer(r,n,e,a,i);return this.players.push(t),t}catch(e){return carodaConsoleSafe.error("Main",".loadInstreamInContentPlayer",e.message),void(r.isAutoplay&amp;&amp;r.isAutoplay()&amp;&amp;resumeContent(r))}}else r.isAutoplay&amp;&amp;r.isAutoplay()&amp;&amp;resumeContent(r)}async loadOutstream(e,t,r={},n={}){if(carodaConsoleSafe.info("Main",".loadOutstream",t,r),!e.closest||!e.closest(".carodaBanner")){await waitForConsent();var i=await this.getAdPlayerLoader(t,r.includeAdRule,r.transformCampaignView,{hideSkipButton:!0,...r.adFrameOptions||{}},n);const a=r.isExtendedVertical?new OutstreamMultiPositionPlayer([{adHeightMultiplier:r.adHeightMultiplier,container:e,extendedVerticalHeight:r.extendedVerticalHeight,isExtendedVertical:!0,isInterscroller:r.isInterscroller}],i,n,r,t):new OutstreamPlayer(i,n,r,t);return this.players.push(a),r.isExtendedVertical||(a.attachTo(e),a.play()),a}carodaConsoleSafe.error("Main",".loadOutstream","stopped by recursion")}async loadLongSessionOutstream(e,t,r={},n={}){if(carodaConsoleSafe.info("Main",".loadLongSessionOutstream",t,r),e.closest&amp;&amp;e.closest(".carodaBanner"))return void carodaConsoleSafe.error("Main",".loadLongSessionOutstream","stopped by recursion");await waitForConsent();const{includeAdRule:i,transformCampaignView:a,adFrameOptions:o={}}=r,s=await this.getCampaignViewsByPlacementId(t,e=&gt;{var t;return(null==(t=null===i||void 0===i?void 0:i(e))||t)&amp;&amp;!("prebid"===e.type&amp;&amp;"teads"===e.hbParams.bidder)},a,n);const l=new LongSessionOutstreamPlayer((e={})=&gt;new AdPlayerLoader(s,{hideSkipButton:!0,...e,...o},n),n,r,t);return this.players.push(l),l.attachTo(e),l.play(),l}async loadLongSessionOutstreamInContainer(e,t,r={},n={}){carodaConsoleSafe.info("Main",".loadLongSessionOutstreamInContainer",e,t,r,n);var i=!1!==r.excludeFloatedNarrowElements,i=findSlot(e,i,r.candidateSlotFilter||null,r.insertionRule);if(i){const{container:a,next:o}=i;i=r.containerType||"div",i=renderDocument.createElement(i);return o?a.insertBefore(i,o):a.appendChild(i),r.marginRaw=getSeamlessMargin(i),this.loadLongSessionOutstream(i,t,r,n)}}async preloadExternalPlayerAdapterAds(t,e,r={},n={}){renderWindow.carodaPageViewId=renderWindow.carodaPageViewId||Math.floor(1e9*Math.random());const i=new InstanceLogger(`Main .preloadExternalPlayerAdapterAds[${Math.floor(1e9*Math.random())}]`);if(t&amp;&amp;t.length){await waitForConsent();var a=r.includeAdRule||(()=&gt;!0),o=r.transformCampaignView||(e=&gt;e);const s=await this.getAdPlayerLoader(t,a,o,{isExternal:!0},n),l=(s.position=e.position,await pushExternalPlayerAdapterPlaylist(t,s,e,n))["playAd"],c=once$1(()=&gt;{const e=new Tracking(n,{placementId:t});e.hitPlayerEvent("instream_impression_opportunity")});return{playAd:async e=&gt;(null==e&amp;&amp;(e=renderWindow.carodaPageViewId),c(),l(e))}}i.error("no positions provided")}async prebidAdapterGetCachedAdPlayerAndPreloadNext(e,t={},r={},n={}){const i=(...e)=&gt;carodaConsoleSafe.log("Main",".prebidAdapterGetCachedAdPlayerAndPreloadNext",...e);if(i({placementId:e,playerOptions:t,bidderSettings:r}),e&amp;&amp;e.length){const a=async()=&gt;this.prebidAdapterRequestAndStoreCachableAd(e,t,n);if(!await prebidAdapterCacheTable.get(e))return i("no cached ads found for",e),a(),{playAd:()=&gt;Promise.resolve()};const{consumed:o,playAd:s}=await this.prebidAdapterGetCachedAdPlayer(e,t,r,n);return o.then(()=&gt;{i("ad consumed"),prebidAdapterCacheTable.remove(e),a()}),{playAd:s}}i("no positions provided")}async prebidAdapterRequestAndStoreCachableAd(e,t={},r={}){const n=new InstanceLogger(`Main .prebidAdapterRequestAndStoreCachableAd[${Math.floor(1e9*Math.random())}]`);if(e&amp;&amp;e.length){n.info({placementId:e,playerOptions:t});const a=t.includeAdRule||(()=&gt;!0);var i=t.transformCampaignView||(e=&gt;e);await waitForConsent();const o=await this.getAdPlayerLoader(e,e=&gt;a(e)&amp;&amp;("prebid"===e.type||"seznam-openrtb"===e.type||!usesExternalPlayer(e.type)&amp;&amp;!!e.fixedPrebidValue),i,{allowBanners:!0,hideSkipButton:!0,isExternal:!0,...t.adFrameOptions||{},playerInfo:{...(null==(i=t.adFrameOptions)?void 0:i.playerInfo)||{},ima:0}},r);i=(await o.getExternalRendererExpandedCampaign())[0];return i&amp;&amp;(n.info("caching ad",e,i),prebidAdapterCacheTable.set(e,i)),i}n.warn("no positions provided")}async prebidAdapterGetCachedAdPlayer(e,t={},r={},n={}){const i=new InstanceLogger(`Main .prebidAdapterGetCachedAdPlayer[${Math.floor(1e9*Math.random())}]`),a=(i.info({placementId:e,playerOptions:t}),new Tracking(n,{placementId:e}));var o={consumed:Promise.resolve(),playAd:async()=&gt;a.hitPlayerEvent("outstream_impression_opportunity")};const s=await prebidAdapterCacheTable.get(e);if(i.info({preloadedCampaign:s}),!s||!e||!e.length)return i.warn("preloaded campaign and positions are mandatory"),o;i.info("prebid banner renderer");let l;return{consumed:new Promise(e=&gt;{l=e}),playAd:async()=&gt;{await pushResult({bidderSettings:r,campaignExpandedView:s,configOverride:n,outstreamPlayerOptions:t,placementId:e}),l()}}}async loadOutstreamInContainer(e,t,r={}){carodaConsoleSafe.info("Main",".loadOutstreamInContainer",e,t,r);var n=!1!==r.excludeFloatedNarrowElements,n=findSlot(e,n,r.candidateSlotFilter||null,r.insertionRule);if(n){const{container:i,next:a}=n;n=r.containerType||"div",n=renderDocument.createElement(n);return a?i.insertBefore(n,a):i.appendChild(n),r.marginRaw=getSeamlessMargin(n),this.loadOutstream(n,t,r)}}async loadOutstreamMultiPosition(e,t,r={},n={}){var i;{if(carodaConsoleSafe.info("Main",".loadOutstreamMultiPosition",e,t,r),e&amp;&amp;e.length)return await waitForConsent(),i=await this.getAdPlayerLoader(t,r.includeAdRule,r.transformCampaignView,{hideSkipButton:!0,...r.adFrameOptions||{}},n),i=new OutstreamMultiPositionPlayer(e,i,n,r,t),this.players.push(i),i;carodaConsoleSafe.info("Main",".loadOutstreamMultiPosition","no positions provided")}}async loadOutstreamStandardMultiPosition(e,t,r={}){carodaConsoleSafe.info("Main",".loadOutstreamStandardMultiPosition",e,t,r);var n=OutstreamMultiPositionPlayer.getPlaceholdersBySelector(e,r);return this.loadOutstreamMultiPosition(n,t,r)}getConversionRate(e,t){return getConversionRate(e,t)}resetAds(){carodaConsoleSafe.info("Main",".resetAds"),resetGlobalAdsGroup()}loadInstreamOnVideoElement(e,t,r={contentDurationInSeconds:NaN,volume:NaN}){carodaConsoleSafe.info("Main",".loadInstreamOnVideoElement",e.id||e.className,t);var n=new VideoElementContentPlayer(e,r);return this.loadInstreamInContentPlayer(n,t,r)}async loadInterstitialOutstream(e,i={},t={}){carodaConsoleSafe.info("Main",".loadInterstitialOutstream");let a=!1;const r=i.waitToDisplay||Promise.resolve();r.then(()=&gt;{a=!0});var n=await this.getAdPlayerLoader(e,i.includeAdRule,i.transformCampaignView,{...i.adFrameOptions,isVisible:(e,t)=&gt;{var r;const n=(null==(r=null==i?void 0:i.adFrameOptions)?void 0:r.isVisible)||(()=&gt;t);return a&amp;&amp;n(e,t)},playerInfo:{plcmt:()=&gt;"interstitial",...(null==(n=i.adFrameOptions)?void 0:n.playerInfo)||{}},unfreezePrecondition:()=&gt;{var e;const t=(null==(e=i.adFrameOptions)?void 0:e.unfreezePrecondition)||(()=&gt;!0);return a&amp;&amp;t()}},t);const o=new InterstitialPlayer(n,t,i,e);return this.players.push(o),o.play(),o}async renderPrebidAdapterPlayer({placementId:e,expandedCampaign:t,outstreamPlayerOptions:r}){var n=Object.assign(new CampaignExpandedView,t),i={omitOpportunityTracking:!0,padding:{bottom:0,top:0},styles:{label:{visibility:"hidden"}},...r,css:`
                .carodaBannerContainer.loaded {
                    margin-top: 0 !important;
                }
                .carodaBannerContainer.loaded:before {
                    display: none !important;
                }
                .carodaContainer:not(.carodaUsingExtendedVerticalPlaceholder) {
                    --advertising-label-height: 0px !important;
                }
                ${r.css||""}
            `},n=(carodaConsoleSafe.info("Main",".renderPrebidAdapterPlayer",{placementId:e,expandedCampaign:n,outstreamPlayerOptions:i}),await this.getAdPlayerLoader(e,()=&gt;!0,e=&gt;e,{hideSkipButton:!0,isPrebidAdapter:!0},{},[n]));const a=new OutstreamPlayer(n,{},i,e);this.players.push(a);n=renderDocument.querySelector("."+carodaPrebidAdapterOutputClassName)||renderDocument.body;return a.attachTo(n),a.play(),a}async loadLongSessionFloatingOutstream(e,r={},n={}){carodaConsoleSafe.info("Main",".loadLongSessionFloatingOutstream",{placementId:e,playerOptions:r}),await waitForConsent();const{includeAdRule:i,transformCampaignView:t,adFrameOptions:a={}}=r,o=await this.getCampaignViewsByPlacementId(e,e=&gt;{var t;return(null==(t=null===i||void 0===i?void 0:i(e))||t)&amp;&amp;!("prebid"===e.type&amp;&amp;"teads"===e.hbParams.bidder)},t,n);const s=new LongSessionFloatingOutstreamPlayer({adPlayerLoaderFetcher:(e={})=&gt;{var t;return new AdPlayerLoader(o,{...r.adFrameOptions||{},...r.widthInPixels?{bannerSizeConfig:{maxWidth:r.widthInPixels,...(null==(t=r.adFrameOptions)?void 0:t.bannerSizeConfig)||{}}}:{},hideSkipButton:!0,...e,...a,playerInfo:{plcmt:()=&gt;"standalone",...a.playerInfo||{}}},n)},globalConfigOverride:n,placementId:e,playerOptions:r});return this.players.push(s),s.play(),s}async loadOutstreamAccompanyingContent({container:e,videoAssetId:t,placementId:r,adsPerContent:n=3}){const i=(...e)=&gt;carodaConsoleSafe.info("Main",".loadOutstreamAccompanyingContent",...e),a=(i({videoAssetId:t,placementId:r,adsPerContent:n}),await this.loadInstreamWithContentAndPositions(e,t,new Array(n).fill({vid:r,position:"preroll"}),{autoplay:!1,loop:!1},{plcmt:()=&gt;"accompanyingContent",contentDurationInSeconds:NaN,volume:NaN}));return a.on("playerConstructed",()=&gt;{a.mute(),a.play()}),a.on("ended",()=&gt;{i("instream ended","playing again");const e=this.players.find(e=&gt;e instanceof InstreamInContentPlayer&amp;&amp;e.contentPlayer===a);e.resetAds(a.getDuration()),a.play()}),a}loadCss(){carodaConsoleSafe.info("Main",".loadCss"),appendCss(carodaMainCss)}async migrateInstreamAndLoadPlayer(r,n){if(carodaConsoleSafe.info("Main",".migrateInstreamAndLoadPlayer"),!r.getAttribute("data-caroda-ignore")){r.setAttribute("data-caroda-ignore","false");let e,t;try{e=r.querySelector("video"),t=r.querySelector("iframe")}catch(e){carodaConsoleSafe.info("Main",".migrateInstreamAndLoadPlayer","can not query main element")}var i=r.getAttribute("data-caroda-video-source")||r.getAttribute("src")||e&amp;&amp;e.getAttribute("src")||t&amp;&amp;t.getAttribute("src");const a=renderDocument.createElement("div");a.className="carodaMigratedContainer";i=await n(a,i);return(r.setAttribute("data-caroda-ignore","true"),i)?(r.parentElement.insertBefore(a,r),r.parentElement.removeChild(r),i):(r.style.display="block",null)}carodaConsoleSafe.info("Main",".migrateInstreamAndLoadPlayer","already attempted migration")}async getAdPlayerLoader(e,t,r,n={},i,a=[]){var o=()=&gt;this.getCampaignViewsByPlacementId(e,t,r,i);return!0===n.isExternal?new ExternalRendererAdPlayerLoader(await o(),n,i):n.isPrebidAdapter?new PrebidAdapterAdPlayerLoader(o(),n,i,a):new AdPlayerLoader(await o(),n,i)}getCampaignViewsByPlacementId(e,t,r,n){return getListByAssetIds(e="string"==typeof e?e.split(",").filter(Boolean):e,n,t,r)}async getPlacementIdToCampaignViews({placementIds:e,configOverride:t,includeAdRule:r,transformCampaignView:n}){const i=await Promise.all(e.map(async e=&gt;{return{campaignViews:await getListByAssetId(e,t,r,n),placementId:e}}));return i.reduce((e,{campaignViews:t,placementId:r})=&gt;({...e,[r]:t}),{})}}const main=new Main;exports.caroda=main;})(window, window);}) ();window.define = window.__define;window.require = window.__require
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</e&&(t=r.substring(g,e).replace(></t?t:0}var></n&&i></math.abs(e-i)?[r,n]:[e,t]})[1]}function></r;n+=1)u+="></e&&(this.banneriframeelement.style.width=e+"px"),n<t&&(this.banneriframeelement.style.height=t+"px")}addgptpageurl(e){return`></t.length;++n)for(var></r?"s":""),inspectstring($slice.call(e,0,t.maxstringlength),t)+r):wrapquotes($replace.call($replace.call(e,></n;r++)if(e[r]===t)return></n&&"object"==typeof></t;)currentqueue&&currentqueue[queueindex].run();queueindex=-1,t=queue.length}currentqueue=null,draining=!1,runcleartimeout(e)}}function></a;s++)o.push("$"+s);return></e[0].intersectionratio&&(t.disconnect(),r())},{threshold:[.25,.5,.75,1]}).observe(e)})}function></t.inviewpercentage();var></t.inviewpercentage();var></r.geom().exp.l&&0<r.geom().exp.r),r.geom());e.exp.l+e.exp.r+renderwindow.innerwidth<500&&(carodaconsolesafe.info("safeframecontroller","initautoresize","expanding></e.indexof(":")))return{macro:e};var[t,r]=e.split(":");return{macro:r,modifier:getmodifierbyname(t)}}function></e.length)&&(carodaconsolesafe.info("campaignviewhistory","getcampaignviewhistoryheader","cleared></date.now())throw></a;)r=t(r,e[i],i,e);return></e.allocation}function></r;){var></t.length?t:t[0]});renderwindow.dispatchevent(r)}geteventlisteners(e){return></t.length;n++){var></t.length;n++){var>