<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>clientlib-component-mega-menu.lc-759e46497a5c5a8fc3c7d90264cca879-lc.min.html</title>
</head>
<body>
<script>"use strict";(()=>{(self.webpackChunkaem_maven_archetype=self.webpackChunkaem_maven_archetype||[]).push([[708],{6280:(u,y,L)=>{L.a(u,async(E,A)=>{try{let x=function(s,k){const O=[{parent:"/company",subpages:["/scuderiaferrari"]},{parent:"/consumer",subpages:["/consumer","/downloads","/renewal","/Downloads"]}],H=n=>{const t=s.querySelector(`.mega-menu__item:has(.mega-menu__link[href*="${n}"])`);t&&(s.classList.remove("mega-menu--no-active"),t.classList.add("active"),t.classList.add("mega-menu--item-opened"))};(()=>{const n=window.location.pathname;O.forEach(t=>{let r=!1;t.subpages.forEach(l=>{n.includes(l)&&(r=!0)}),r&&H(t.parent)})})();let q=window.innerWidth;const P=()=>{const t=s.querySelector(e.selectors.firstLevel).getBoundingClientRect().height+1;s.style.setProperty("--right-links-offset",`${t}px`)},C=()=>{const n=s.querySelectorAll(e.selectors.viewAll);Array.from(n).forEach(t=>{t.classList.remove(e.classes.viewAll)})},f=()=>{const n=s.querySelector(e.selectors.l2active);if(n)return n.classList.remove("active"),n},h=n=>{s.querySelectorAll(e.selectors.popupContainer).forEach(t=>{t!==n&&t.classList.remove("popup-active")})},R=()=>{s.classList.contains(e.classes.menuOpened)?window.removeEventListener("resize",this.windowResizeEvent):window.addEventListener("resize",this.windowResizeEvent=(0,T.o5)(()=>{const n=window.innerWidth;n!==q&&(s.classList.remove(e.classes.menuOpened),f(),C(),window.removeEventListener("resize",this.windowResizeEvent),q=n)})),s.classList.toggle(e.classes.menuOpened),f(),C()},F=n=>{Array.from(n).forEach(t=>{t.addEventListener("click",r=>{r.target.closest(e.selectors.navLinks).classList.add(e.classes.viewAll)})})},N=()=>{const n=s.querySelectorAll(e.selectors.thirdLevelContent);Array.from(n).forEach(t=>{const r=t.querySelector(e.selectors.qucikLinksMobileContainer),l=t.querySelector(e.selectors.quickLinks),c=t.querySelector(e.selectors.categoryLinks);l&&r.appendChild(l.cloneNode(!0)),c&&r.appendChild(c.cloneNode(!0))})},S=n=>{const t=n.closest(e.selectors.menuItem);return t||n},M=n=>{n.classList.remove("active"),this.isClosed=!0},D=n=>{n.classList.add("active"),this.isClosed=!1};this.isClosed=!0;const z=()=>{s.querySelector(e.selectors.mobileTrigger).addEventListener("click",()=>{R()});const t=s.querySelectorAll(e.selectors.menuLink);Array.from(t).forEach(m=>{m.addEventListener("click",i=>{if(w&&window.innerWidth>1199)return;i.stopPropagation();const a=i.target;if(!a.classList.contains(e.classes.menuLinkText)){i.preventDefault();const o=S(a);h(),this.isClosed||f()!==o?D(o):M(o)}})});const r=s.querySelectorAll(e.selectors.mobileBackL2);r&&Array.from(r).forEach(m=>{m.addEventListener("click",i=>{const a=S(i.target);M(a)})});const l=s.querySelectorAll(e.selectors.mobileBack);Array.from(l).forEach(m=>{m.addEventListener("click",i=>{i.target.closest(e.selectors.menuItemFirst).classList.remove(e.classes.itemOpened),i.stopPropagation(),!s.style.getPropertyValue("--right-links-offset")&&P()})});const c=s.querySelector(e.selectors.itemOpened);if(c)c.addEventListener("click",m=>{const i=m.target,a=c.querySelector(e.selectors.menuLinkRoot);_()&&(a===i||a.contains(i))&&(m.preventDefault(),h()),c.closest(e.selectors.menuItemFirst).classList.add(e.classes.itemOpened)});else{const m=s.querySelectorAll(e.selectors.menuItemFirst);Array.from(m).forEach(i=>{i.addEventListener("click",a=>{const o=a.target;let p=null;if(o.classList.contains(e.classes.firstLevelItemText))return;o.classList.contains(e.classes.menuItemFirst)?p=o:p=o.closest(e.selectors.menuItemFirst);const I=p.querySelector(e.selectors.menuLinkRoot);p.querySelector(e.selectors.menuList)&&_()&&(I===o||I.contains(o))&&(a.preventDefault(),p.classList.add(e.classes.itemOpened))})})}const d=s.querySelectorAll(e.selectors.navHeaderLink);Array.from(d).forEach(m=>{m.addEventListener("click",i=>{const a=i.target;!a.classList.contains(e.selectors.navHeaderText)&&_()&&(i.preventDefault(),a.closest(e.selectors.navContainer).classList.toggle("active"))})});const g=s.querySelectorAll(e.selectors.viewAllButtons);F(g);const v=s.querySelectorAll(e.selectors.popupLink);Array.from(v).forEach(m=>{m.addEventListener("click",i=>{i.stopPropagation();const o=i.target.closest(e.selectors.popupContainer);h(o),o.classList.toggle(e.classes.popupActive)})}),document.addEventListener("click",()=>{_()||(h(),f())})},W=()=>{const n=s.querySelectorAll(".navigation__links");Array.from(n).forEach(t=>{const r=t.getAttribute("id"),l=t.closest(".navigation"),c=t.closest(".mega-menu__third-level")?.getAttribute("id")||t.closest(".mega-menu__second-level-right").getAttribute("id");r&&c&&l&&(l.setAttribute("id",c),t.setAttribute("id",c+"|"+r))})};(()=>{k.querySelectorAll(e.selectors.popupContainer).forEach(t=>{t.querySelectorAll(e.selectors.navigationItems).forEach(function(l,c){const d=document.createElement("div");d.className="navigation__item";const g=l.querySelector(".navigation__link");g.className="navigation__anchor",d.appendChild(g);const v=document.createElement("li");v.className="navigation__link link-"+c,v.innerHTML=g.innerHTML,g.innerHTML="",d.appendChild(v),l.parentNode.replaceChild(d,l)})})})(),z(),W(),N()};var B=L(6372),T=L(4904);await B.q4.load();const w=window.matchMedia("(hover: hover) and (pointer: fine)").matches,e={selectors:{container:".mega-menu__container",viewAllButtons:".navigation__view-all",popupContainer:".mega-menu__popup-container",popupLink:".mega-menu__popup-container .mega-menu__right-link",popupActive:".popup-active",menuLink:".mega-menu__l2-link",menuItem:".mega-menu__l2-item",mobileBack:".mega-menu__back-button",mobileBackL2:".mega-menu__back-button-l2",mobileTrigger:".mega-menu__button",l2active:".mega-menu__l2-item.active",l2item:".mega-menu__l2-item",viewAll:".navigation--view-all",navLinks:".navigation__links",menuItemFirst:".mega-menu__item",navHeaderLink:".navigation__header-link",navContainer:".navigation__container",itemOpened:".mega-menu--item-opened",quickLinks:".navigation__quick-links .navigation__list",qucikLinksMobileContainer:".mega-menu__quick-links-mobile",thirdLevelContent:".mega-menu__third-level-content",categoryLinks:".mega-menu__category-links",navigationHeader:".navigation__heading",menuLinkRoot:".mega-menu__link",navigation:".navigation",menuLinkText:".mega-menu__l2-link-text",firstLevel:".mega-menu__first-level",navigationItems:".navigation__list .navigation__item",menuList:".mega-menu__list"},classes:{popupActive:"popup-active",menuOpened:"mega-menu--active",viewAll:"navigation--view-all",itemOpened:"mega-menu--item-opened",navigationHeader:"navigation__heading",navHeaderLink:"navigation__header-link",navHeaderText:"navigation__header-text",menuItemFirst:"mega-menu__item",menuLinkText:"mega-menu__l2-link-text",navigation:"navigation",megamenuNoL3:"mega-menu__no-l3",firstLevelItemText:"mega-menu__link-text"}},_=()=>window.innerWidth<1200,b=(s=document)=>{const k=s.querySelector(".mega-menu__container");k&&new x(k,s)};b(),window.megaMenu=b,window.dispatchEvent(new CustomEvent("megaMenu")),A()}catch(w){A(w)}},1)},4936:()=>{}},u=>{var y=E=>u(u.s=E);u.O(0,[878],()=>(y(4936),y(6280)));var L=u.O()}]);})();</script>
</body>
</html>
