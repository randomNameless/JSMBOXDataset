<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2360.47689f8a.html</title>
</head>
<body>

<script>
'use strict';(self['webpackChunk_wolai_web']=self['webpackChunk_wolai_web']||[])['push']([[0x938],{'lY0g':(a,b,c)=>{c['d'](b,{'u':()=>d});var d=(f=>(f['THEME']='theme',f['OUTLINE']='outline',f['ABSTRACT']='abstract',f['ARTICLE']='article',f))(d||{});},'6VRW':(j,q,x)=>{x['d'](q,{'Z':()=>ae});var z=x('lpAo'),F=x('EDHq'),G=x('RaG2'),H=x('WbC6'),J=x('P3sh'),K=x('Gmrw'),M=x('du0B'),N=x('okq7'),Q=x('pOMF'),R=x('/kC5'),U=x('gjxM'),V=x('eqQS'),W=x('Sjju'),X=x('6B1X');function Y(af){return function(ag){if(Array['isArray'](ag))return Z(ag);}(af)||function(ag){if('undefined'!=typeof Symbol&&null!=ag[Symbol['iterator']]||null!=ag['@@iterator'])return Array['from'](ag);}(af)||function(ag,ah){if(!ag)return;if('string'==typeof ag)return Z(ag,ah);var ai=Object['prototype']['toString']['call'](ag)['slice'](0x8,-0x1);'Object'===ai&&ag['constructor']&&(ai=ag['constructor']['name']);if('Map'===ai||'Set'===ai)return Array['from'](ag);if('Arguments'===ai||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/['test'](ai))return Z(ag,ah);}(af)||(function(){throw new TypeError('Invalid\x20attempt\x20to\x20spread\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.');}());}function Z(af,ag){(null==ag||ag>af['length'])&&(ag=af['length']);for(var ah=0x0,ai=new Array(ag);ah<ag;ah++)ai[ah]=af[ah];return ai;}function a0(af,ag){for(var ah=0x0;ah<ag['length'];ah++){var ai=ag[ah];ai['enumerable']=ai['enumerable']||!0x1,ai['configurable']=!0x0,'value'in ai&&(ai['writable']=!0x0),Object['defineProperty'](af,a1(ai['key']),ai);}}function a1(af){var ag=function(ah,ai){if('object'!=typeof ah||!ah)return ah;var aj=ah[Symbol['toPrimitive']];if(void 0x0!==aj){var ak=aj['call'](ah,ai||'default');if('object'!=typeof ak)return ak;throw new TypeError('@@toPrimitive\x20must\x20return\x20a\x20primitive\x20value.');}return('string'===ai?String:Number)(ah);}(af,'string');return'symbol'==typeof ag?ag:ag+'';}function a2(af,ag,ah){return ag=a4(ag),function(ai,aj){if(aj&&('object'==typeof aj||'function'==typeof aj))return aj;if(void 0x0!==aj)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');return function(ak){if(void 0x0===ak)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return ak;}(ai);}(af,a3()?Reflect['construct'](ag,ah||[],a4(af)['constructor']):ag['apply'](af,ah));}function a3(){try{var af=!Boolean['prototype']['valueOf']['call'](Reflect['construct'](Boolean,[],function(){}));}catch(ag){}return(a3=function(){return!!af;})();}function a4(af){return a4=Object['setPrototypeOf']?Object['getPrototypeOf']['bind']():function(ag){return ag['__proto__']||Object['getPrototypeOf'](ag);},a4(af);}function a5(af,ag){return a5=Object['setPrototypeOf']?Object['setPrototypeOf']['bind']():function(ah,ai){return ah['__proto__']=ai,ah;},a5(af,ag);}var a6=Object['defineProperty'],a7=Object['getOwnPropertyDescriptor'],a8=Object['getOwnPropertySymbols'],a9=Object['prototype']['hasOwnProperty'],aa=Object['prototype']['propertyIsEnumerable'],ab=(af,ag,ah)=>ag in af?a6(af,ag,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':ah}):af[ag]=ah,ac=(af,ag)=>{for(var ah in ag||(ag={}))a9['call'](ag,ah)&&ab(af,ah,ag[ah]);if(a8){for(var ah of a8(ag))aa['call'](ag,ah)&&ab(af,ah,ag[ah]);}return af;},ad=(af,ag,ah,ai)=>{for(var aj,ak=ai>0x1?void 0x0:ai?a7(ag,ah):ag,al=af['length']-0x1;al>=0x0;al--)(aj=af[al])&&(ak=(ai?aj(ag,ah,ak):aj(ak))||ak);return ai&&ak&&a6(ag,ah,ak),ak;},ae=function(af){function ag(){var ak;return function(al,am){if(!(al instanceof am))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}(this,ag),(ak=a2(this,ag,arguments))['transformIdToString']=al=>{for(var {list:am,string:an='',size:ao=0x0,collectionBlocks:ap=ak['blockStore']['blocks'],bucketString:aq='',section:ar}=al,as=0x0,at='',au={'data':[],'count':0x0},av=function(){var ax=ak['dataStore']['parseDatabaseRowId'](am[aw])['blockId'];if(!ap[ax])return 0x0;var {sub_nodes:ay,attributes:az,type:aA,parent_type:aB,parent_id:aC}=ap[ax]['value'],aD=ak['transformTitleToMarkdown'](ak['dataStore']['getBlockProperty'](ax,'attributes.title')||[]);if(J['$u6']['includes'](aA)&&ak['screenStore']['currentScreen']['showHeaderSerialNumber']){var aE=ak['screenStore']['currentScreen']['allTocNodeIdList']['find'](b5=>b5['id']===ax);aE&&(aD=''['concat']('dot'===ak['screenStore']['currentScreen']['serialNumberStyle']?''['concat'](aE['serialNumber'],'.'):aE['serialNumber'],'\x20')['concat'](aD));}var aF=!0x1,aG=ar||{'id':ax,'blocks':{}};if(aG['blocks'][ax]=ak['formatBlock'](ax),'column'===aB){var aH=ak['formatBlock'](aC);if(aH&&!aG['blocks'][aC]&&(aG['blocks'][aC]=aH),'row'===aH['parent_type']){var aI=ak['formatBlock'](aH['parent_id']);aI&&!aG['blocks'][aH['parent_id']]&&(aG['blocks'][aH['parent_id']]=aI);}}var aJ='';if([J['BLOCK_TYPE']['SIMPLE_TABLE'],J['BLOCK_TYPE']['TABLE']]['includes'](aA)){var aK=ak['blockAPI']['getTableCells'](ap[ax]['value']),aL=az['tableHeader'],aM=aA===J['BLOCK_TYPE']['SIMPLE_TABLE'],aN=[],aO=aK['length'];aK['forEach'](b5=>{b5['column']['forEach']((b6,b7)=>{var b8;aN[b7]||(aN[b7]=[]);var b9='';if(aM){var ba=ak['transformTitleToMarkdown']((0x0,z['get'])(b6,'attributes.title',[]));b9=(null==ba?void 0x0:ba['replace'](/\n/gm,'\x20'))||ba;}else{var bb=ak['dataStore']['getBlockValue'](b6);aG['blocks'][b6]=ak['formatBlock'](b6);var bc=ak['transformIdToString']({'list':bb['sub_nodes']||[],'section':aG});b9=(null==(b8=null==bc?void 0x0:bc['string'])?void 0x0:b8['replace'](/\n/gm,'\x20'))||'';}aN[b7]['push'](b9);});});var aP=new Array(aO+0x1)['join']('-')['split']('');if(aL)aN['splice'](0x1,0x0,aP);else{var aQ=new Array(aO);aN['unshift'](aP),aN['unshift'](aQ);}var aR='';aN['forEach'](b5=>{aR+='|'['concat'](b5['join']('|'),'|\x0a');}),aq+=''['concat'](an?'\x0a\x0a':'')['concat'](aR),an+=''['concat'](an?'\x0a\x0a':'')['concat'](aR),aF=!0x0;}if(aA===J['BLOCK_TYPE']['CODE']){var aS=ak['dataStore']['getBlockProperty'](ax,'attributes.language')||'';('纯文本'===aS||'仪表数字'===aS)&&(aS='text'),aq+=''['concat'](an?'\x0a\x0a':'','```')['concat'](aS,'\x0a')['concat'](aD,'\x0a```'),an+=''['concat'](an?'\x0a\x0a':'','```')['concat'](aS,'\x0a')['concat'](aD,'\x0a```'),aF=!0x0;}if(aA===J['BLOCK_TYPE']['BLOCK_EQUATION']&&(aq+=''['concat'](an?'\x0a\x0a':'','$$\x0a')['concat'](aD,'\x0a$$'),an+=''['concat'](an?'\x0a\x0a':'','$$\x0a')['concat'](aD,'\x0a$$'),aF=!0x0),aF){au['data']['push'](aG);var aT=Object['keys'](aG['blocks']);return au['count']+=aT['length'],0x0;}if(J['BLOCK_TYPE']['ENUM_LIST']===aA?as+=0x1:as=0x0,aA===J['BLOCK_TYPE']['PAGE'])aJ='['['concat'](aD||F['Z']['t'](J['KxY']['UNTITLED_PAGE'],'新页面',{'ns':'editor'}),'](')['concat'](window['location']['origin'],'/')['concat'](ax,')');else{if(aA===J['BLOCK_TYPE']['BOOKMARK']){var {embedLink:aU,source:aV}=az||{};aJ=aU||aV;}else{if(aA===J['BLOCK_TYPE']['DATABASE'])aJ='['['concat'](aD||F['Z']['t'](J['KxY']['UNTITLED_DATABASE'],'数据表格',{'ns':'editor'}),'](')['concat'](window['location']['origin'],'/')['concat'](ax,')');else{if(aA===J['BLOCK_TYPE']['IMAGE']){var {source:aW,img:aX,bucket:aY}=ak['dataStore']['getBlockProperty'](ax,'attributes')||{};if((0x0,z['get'])(aW,'[0]'))aJ='!['['concat'](aD,'](')['concat'](aW,')');else{if(aX&&aY){var aZ=J['jem'][ak['get'](aY,'[0][0]','')],b0=ak['domAPI']['$']('#id-'['concat'](ax,'\x20img[data-area=\x22image-block\x22]'));if(null==b0?void 0x0:b0['src']){var b1=new URL(b0['src']);aJ='!['['concat'](aD,'](')['concat'](aZ,'/')['concat'](ak['get'](aX,'[0][0]','')['split']('?')[0x0],'?auth_key=')['concat'](b1['searchParams']['get']('auth_key'),')');}else aJ='!['['concat'](aD,'](')['concat'](aZ,'/')['concat'](ak['get'](aX,'[0][0]',''),')');}}}else aJ=aA===J['BLOCK_TYPE']['DIVIDER']?'---':aA===J['BLOCK_TYPE']['TOC']?'[toc]':''['concat'](ak['mdTypeGenerator']({'type':aA,'done':['yes','cancel']['includes'](az['checked']),'number':as}))['concat'](aD);}}}var b2=b5=>[J['BLOCK_TYPE']['ENUM_LIST'],J['BLOCK_TYPE']['BULLET_LIST'],J['BLOCK_TYPE']['TODO_LIST'],J['BLOCK_TYPE']['TODO_LIST_PRO'],J['BLOCK_TYPE']['TOGGLE_TODO_LIST'],J['BLOCK_TYPE']['TOGGLE_TODO_LIST_PRO']]['includes'](b5);if(!b2(at)&&at||!b2(aA)?(aq+=''['concat'](an?'\x0a\x0a':'')['concat'](ak['mdIndicatorGenerator']('\x20',ao))['concat'](aJ),an+=''['concat'](an?'\x0a\x0a':'')['concat'](ak['mdIndicatorGenerator']('\x20',ao))['concat'](aJ)):(aq+=''['concat'](an?'\x0a':'')['concat'](ak['mdIndicatorGenerator']('\x20',ao))['concat'](aJ),an+=''['concat'](an?'\x0a':'')['concat'](ak['mdIndicatorGenerator']('\x20',ao))['concat'](aJ)),ay['length']&&![J['BLOCK_TYPE']['PAGE'],J['BLOCK_TYPE']['DATABASE']]['includes'](aA)){var b3=ak['transformIdToString']({'list':ay,'string':an,'size':ao+(b2(aA)?0x4:0x2),'bucketString':aq,'section':aG});an=b3['string'],aq=b3['bucketString'];}at=aA,au['data']['push'](aG);var b4=Object['keys'](aG['blocks']);au['count']+=b4['length'];},aw=0x0;aw<am['length'];aw++)av();return{'string':an,'bucketString':aq,'json':au};},ak['formatBlock']=al=>{var am=ak['dataStore']['getBlockValue'](al);return(null==am?void 0x0:am['id'])?{'id':am['id'],'attributes':am['attributes'],'active':am['active'],'edited_by':am['edited_by'],'edited_time':am['edited_time'],'created_by':am['created_by'],'created_time':am['created_time'],'parent_id':am['parent_id'],'parent_type':am['parent_type'],'setting':am['setting'],'status':am['status'],'sub_nodes':Y(am['sub_nodes']),'type':am['type'],'workspace_id':am['workspace_id'],'version':am['version']}:null;},ak['handleHtmlSpaces']=al=>{var am=al['split']('>\x20'),an=[],ao=ak['uuid']();if(am['length']>0x1){for(var ap=0x0;ap<am['length'];ap++)ap&&ap!==am['length']-0x1?(an['push']('>\x20'),an['push'](Array(ak['getBlankCount'](am[ap]))['fill'](ao)['join']('')),an['push'](am[ap]['trimLeft']())):(ap!==am['length']-0x1||an['push']('>\x20'),an['push'](am[ap]));}return{'indicator':ao,'html':an['join']('')||al};},ak['revertHtmlSpaces']=(al,am)=>al['replace'](new RegExp(am,'g'),'\x20'),ak['handleClipboardData']=al=>{var {drag:am}=ak,{clipboardData:an}=al['originalEvent']||al,{items:ao}=al['clipboardData'],ap=!0x1;ao[0x0]&&'file'===ao[0x0]['kind']&&(ap=!0x0);var aq=null==an?void 0x0:an['getData']('text/plain'),ar=null==an?void 0x0:an['getData']('text/html'),as=null==an?void 0x0:an['getData']('text/wolai-blocks'),at=an&&an['getData']('text/wolai-text')==='wolai-'['concat'](R['oj']),au=aq['split']('\x0a')['filter'](Boolean),av=0x1===au['length']?au[0x0]:aq,aw=am['sortedSelectedRootNode'],{pageId:ax,timeStamp:ay}=aw,az=null==ar?void 0x0:ar['includes']('<meta\x20name=\x22wolai\x22\x20content=\x22'['concat'](ak['userStore']['userId'])['concat'](ay||'','\x22\x20>')),aA=am['backupSelectedCells'],aB=null==ar?void 0x0:ar['includes']('<meta\x20name=\x22wolai\x22\x20content=\x22'['concat'](ak['userStore']['userId'])['concat']((null==aA?void 0x0:aA['timeStamp'])||'','\x22\x20>')),aC=ak['handleHtmlSpaces'](ar),{html:aD}=aC,{indicator:aE}=aC,aF=null==ar?void 0x0:ar['includes']('<wolaiTable></wolaiTable>'),aG=null==ar?void 0x0:ar['includes']('<wolaiDatabase></wolaiDatabase>'),aH=!0x0,aI=null==ar?void 0x0:ar['includes']('<meta\x20name=Generator\x20content=\x22Microsoft');if(aq&&aI&&(aH=!0x1,aD=aD['replace'](/\r\n/g,'\x20')),!aI){var aJ=null==ar?void 0x0:ar['includes']('urn:schemas-microsoft-com:office:office');aq&&aJ&&(aH=!0x1);}var aK=!J['aR5']['test'](ar)||ak['hasMarkdownContext'](av)||aF?av:ak['revertHtmlSpaces'](ak['turndownService']['turndown'](aD)['replace'](/(\\)(#|\*|-|`|~|\[|\]|\+|>|<|\\|\.|=|_)/g,'$2'),aE),aL=aK&&aK['trim']()!==av['trim']()?aK:av;if(!aF&&!aG){var aM=J['sCD']['exec'](aL['trim']());J['sCD']['lastIndex']=0x0,aM&&aM[0x0]===aL['trim']()&&(aF=!0x0);}var aN=!aF&&!aG&&ak['formatString'](av)['split']['length']>0x1;if(aN){var aO=J['sCD']['exec'](aK['trim']());J['sCD']['lastIndex']=0x0,aO&&aO[0x0]===aK['trim']()&&(aN=!0x1);}return{'clipboardPlainText':aq,'transText':aL,'text':av,'html':ar,'md':aK,'selectedNodesList':aw,'pageId':ax,'memoryBatchCopy':az,'memoryCellBatchCopy':aB,'selectedTable':aA,'isTable':aF||aG,'isImage':aH,'multiLine':aN,'copyFromWolai':Boolean(at),'wolaiJson':as,'hasFile':ap};},ak['splitTitleSettings']=function(){var al=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',am=ak['editorUI']['selectedNode']['length'],an=ak['clipboardStore']['clipboardSplitTitle']&&al&&al!==ak['clipboardStore']['clipboardSplitTitle']['map'](ap=>{var [aq]=ap;return aq;})['join']('');if(am||an)return ak['clearSplitTitle']();if(!al){var ao=ak['getSplitTitle']();(null==ao?void 0x0:ao['length'])&&(ak['clipboardStore']['clipboardSplitTitle']=Y(ao));}},ak['getSplitTitle']=al=>{var {id:am}=ak['editorStore']['globalItem']||{},an=al||am;if(an){var [ao,ap]=ak['domAPI']['getSelection']();if(ao){var {totalOffset:aq}=ao,{totalOffset:ar}=ap,[,as]=ak['blockAPI']['sliceTitle'](an,aq,ar);return as;}}},ak['clearSplitTitle']=()=>{ak['clipboardStore']['clipboardSplitTitle']=[];},ak['generateConversionBlock']=al=>{return am=ak,an=[al],ao=function(ap){var aq=this,{transaction:ar,array:as,prevBlockId:at,parent:au,pageId:av=this['blockStore']['pageId'],position:aw='after',html:ax,copyFromWolai:ay,wolaiJson:az,sourceText:aA}=ap;return(function*(){for(var aB=at,aC=[],aD=0x0;aD<as['length'];aD++){var {text:aE,id:aF,children:aG,pageId:aH,type:aI,language:aJ,insertImageData:aK={},isImage:aL,caption:aM}=as[aD],aN=aE;if([J['BLOCK_TYPE']['SIMPLE_TABLE'],J['BLOCK_TYPE']['TABLE']]['includes'](aI)){var aO=aE['split']('\x0a');aN=(aO=aO['map'](b2=>{var b3=b2['trim']();return b3['startsWith']('|')||(b3='|'['concat'](b3)),b3['endsWith']('|')||(b3=''['concat'](b3,'|')),b3;}))['join']('\x0a');}var aP=aE,aQ=aq['createPasteBlock']({'transaction':ar,'blockId':aF,'blockText':aN,'pageId':av,'position':aw,'language':aJ,'sourceText':aA}),aR=aq['getBlankCount'](aP),aS=aF;if(aP=aP['trimLeft'](),'fence'===aI)aS=au,aQ({'parent':au,'prevBlockId':at,'fence':!0x0,'blankCount':aR,'type':J['BLOCK_TYPE']['CODE']});else{if('math_block'===aI)aS=au,aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['BLOCK_EQUATION']});else{if(J['qpX']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['HEADER_H1'],'slice':aR+0x2});else{if(J['NDy']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['HEADER_H2'],'slice':aR+0x3});else{if(J['HiL']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['HEADER_H3'],'slice':aR+0x4});else{if(J['IjW']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['HEADER_H4'],'slice':aR+0x5});else{if(J['IdQ']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['HEADER_H5'],'slice':aR+0x6});else{if(J['YN2']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['HEADER_H6'],'slice':aR+0x7});else{if(J['NS4']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['HEADER_H7'],'slice':aR+0x8});else{if(J['t9C']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['HEADER_H8'],'slice':aR+0x9});else{if(J['D6H']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['HEADER_H9'],'slice':aR+0xa});else{if(J['K4R']['test'](aP))aQ({'done':/ *[-|*] *\[x\]/['test'](aP),'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['TODO_LIST'],'slice':aR+aP['indexOf'](']')+0x1});else{if(J['w2O']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['BULLET_LIST'],'slice':aR+0x2});else{if(J['Uzb']['test'](aP))aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['ENUM_LIST'],'slice':aR+aP['indexOf']('.')+0x1});else{if(J['qOQ']['test'](aP)||aI===J['BLOCK_TYPE']['QUOTE'])aS=au,aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['QUOTE'],'slice':aR+aP['indexOf']('>')+0x1});else{if(J['Kjr']['test'](aP))aS=au,aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['DIVIDER']});else{if(J['AFF']['test'](aP))aS=au,aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['TOC']});else{if(J['sCD']['test'](aP))aS=au,aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['TABLE'],'html':ax,'copyFromWolai':ay,'wolaiJson':az});else{if(J['QgZ']['test'](aP)&&!aL){aS=au;var aT=aP['indexOf']('[')+0x1;if(aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['PAGE'],'slice':aR+aT,'end':aR+aT+aP['slice'](aT)['indexOf'](']')}),aH){var aU=yield(0x0,N['Yu'])([{'table':J['CtT'],'id':aH}]),aV=aq['get'](aU,'[0].role');(!G['dm']['includes'](aq['spaceStore']['planType'])&&[Q['yV']['All'],Q['yV']['Writable']]['includes'](aV)||G['dm']['includes'](aq['spaceStore']['planType'])&&[Q['yV']['All']]['includes'](aV))&&aq['blockStore']['copyPage']({'prevPageId':aH,'newPageId':aF});}}else{if(J['eTs']['test'](aP)||aL){aS=au;var aW=void 0x0;if(aL)aW=aP;else try{aW=decodeURIComponent((0x0,z['get'])(J['eTs']['exec'](aP),'[1]',''));}catch(b2){}var aX={};if(aK['id']||(aX['src']=aW),/^ *data:image(.*)/['test'](aW)){var {fileUrl:aY,bucket:aZ}=(yield aq['kitAPI']['postBase64ImageToOSS']({'blockId':aF,'base64':aW}))||{};aY&&aZ&&aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['IMAGE'],'attributes':{'bucket':[[aZ]],'img':[[aY]]}});}else{var {bucket:b0,imgPath:b1}=(0x0,M['sG'])(aW);b0&&b1&&(aX={'attributes':{'bucket':[[b0]],'img':[[b1]]}}),aM&&(aX['title']=[[aM]]),aQ(ac({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['IMAGE']},aX));}}else aQ({'parent':au,'prevBlockId':at,'type':J['BLOCK_TYPE']['TEXT'],'slice':aR});}}}}}}}}}}}}}}}}}}}at=aD===as['length']-0x1?aB:aF,(0x0,z['get'])(aG,'length')&&(aC=aC['concat'](aG),aq['generateConversionBlock']({'transaction':ar,'array':aG,'prevBlockId':aS!==aF?aF:aB,'parent':aS}));}return as['concat'](aC);}());},new Promise((ap,aq)=>{var ar=au=>{try{at(ao['next'](au));}catch(av){aq(av);}},as=au=>{try{at(ao['throw'](au));}catch(av){aq(av);}},at=au=>au['done']?ap(au['value']):Promise['resolve'](au['value'])['then'](ar,as);at((ao=ao['apply'](am,an))['next']());});var am,an,ao;},ak['convertTableRow']=al=>(null==al?void 0x0:al['replace'](/\\\|/gm,'SOFT_CODE')['replace'](/(^[ \n]*)|([ \n]*$)/gm,'')['replace'](/(^\|)|(\|$)/g,'')['split']('|'))||[],ak['addCellData']=al=>{var am,an,ao,ap,{transaction:aq,text:ar,blockId:as,language:at,html:au,copyFromWolai:av,sourceText:aw,wolaiJson:ax}=al,ay=ak['dataStore']['getBlockProperty'](as,'type')===J['BLOCK_TYPE']['TABLE'],az=null==au?void 0x0:au['includes']('<meta\x20name=Generator\x20content=\x22Microsoft');J['sCD']['lastIndex']=0x0;var aA=J['sCD']['exec'](ar);J['sCD']['lastIndex']=0x0;var aB,aC=ak['convertTableRow'](aA[0x1])||[],aD=null==au?void 0x0:au['includes']('<wolaiNoTableHeader></wolaiNoTableHeader>'),aE=((null==au?void 0x0:au['includes']('<wolaiNoContentHeader></wolaiNoContentHeader>'))?[]:(null==(am=aA[0x3])?void 0x0:am['replace'](/(^\n*)|(\n*$)/g,'')['split']('\x0a'))||[])['map'](aM=>ak['convertTableRow'](aM))||[],aF=ax?JSON['parse'](ax):void 0x0,aG=(0x0,z['get'])(ak['editorStore']['tableCopyProps'],'extendProps',[]),aH=[];if(!av){aG=(null==(an=null==aF?void 0x0:aF['simpleTable'])?void 0x0:an['extendProps'])||[],aH=aw['split']('\x0a');var aI=[];aH['forEach'](aM=>{aM['replace'](/[\r\t ]/g,'')&&aI['push'](aM['replace']('\x0d','')['split']('\x09'));});var aJ=0x0;aE['forEach'](aM=>{aM['length']>aJ&&(aJ=aM['length']);}),aE['forEach']((aM,aN)=>{aJ>aM['length']&&aI[aN]&&aI[aN]['length']&&aI[aN]['forEach']((aO,aP)=>{var aQ,aR=(null==(aQ=aM[aP])?void 0x0:aQ['replace'](/ /g,''))||'';!aO&&aR&&aM['splice'](aP,0x0,'');});});}az||aD||aE['unshift'](aC),aE['forEach'](aM=>{aB?aB<aM['length']-0x1&&(aB=aM['length']-0x1):aB=aM['length']-0x1;});var aK=[];aE['forEach']((aM,aN)=>{var aO=0x0;if(aM['forEach']((aS,aT)=>{var aU,aV,aW,aX,aY;if(!(aT>aB)){aK[aT]||(aK[aT]=[]);var aZ=[[aS]];if(null==(aV=null==(aU=null==aG?void 0x0:aG[aN])?void 0x0:aU[aT])?void 0x0:aV['title'])aZ=null==(aW=aG[aN][aT])?void 0x0:aW['title'];else{aS=(null==aS?void 0x0:aS['replace'](/SOFT_CODE/gm,'|')['replace'](/(^[ \n]*)|([ \n]*$)/gm,'')['replace'](/(<br>)/gm,'\x0a'))||'';var b0=ak['convertInline'](aS)||[[aS]];aZ=b0['some'](b6=>(0x0,z['get'])(b6,'[1].length'))?b0:[[aS]];}if(aq&&ay){var b1=ak['editorStore']['createNewCell'](as,aq,aZ);if(aG['length']){var b2=aG[aN]&&aG[aN][aT]||{},b3=ak['dataStore']['getBlockValue'](b1);aq['block']['updateBlock'](b1,{'attributes':ac(ac({},b3['attributes']),(null==(aX=b2['attributes'])?void 0x0:aX['cellVertical'])?{'cellVertical':null==(aY=b2['attributes'])?void 0x0:aY['cellVertical']}:{}),'setting':ac(ac({},b3['setting']),b2['setting']||{})});}aK[aT]['push'](b1);}else{var b4=ak['editorStore']['_createNewCell'](aZ);if(aG['length']){var b5=aG[aN]&&aG[aN][aT]||{};b4['attributes']=ac(ac({},b4['attributes']),b5['attributes']||{}),b4['setting']=ac(ac({},b4['setting']),b5['setting']||{});}aK[aT]['push'](b4);}aO=aT+0x1;}}),aM['length']-0x1<aB)for(var aP=aB+0x1-aM['length'];aP>0x0;){if(aP--,aq&&ay){var aQ=ak['editorStore']['createNewCell'](as,aq,[['']]);aK[aO]||(aK[aO]=[]),aK[aO]['push'](aQ);}else{var aR=ak['editorStore']['_createNewCell']([['']]);aK[aO]||(aK[aO]=[]),aK[aO]['push'](aR);}aO++;}});var aL=[];if(aK['forEach']((aM,aN)=>{if(av&&ak['editorStore']['tableColumnWidth'][aN])return aL['push']({'column':aM,'flex':ak['editorStore']['tableColumnWidth'][aN]});aL['push']({'column':aM,'flex':0x64});}),!aq)return{'attributes':{'cells':JSON['stringify'](aL),'tableHeader':!az&&!aD,'ranges':(null==(ap=ak['editorStore']['tableCopyProps'])?void 0x0:ap['ranges'])||[],'language':at},'setting':{'flex':0x1}};aq['block']['updateBlock'](as,{'attributes':ac({'tableHeader':!az&&!aD,'ranges':(null==(ao=ak['editorStore']['tableCopyProps'])?void 0x0:ao['ranges'])||[],'language':at},ay?{'new_cells':aL}:{'cells':JSON['stringify'](aL)}),'setting':{'flex':0x1}});},ak['convertText']=al=>{var am,an,ao,{transaction:ap,text:aq,blockId:ar,language:as,fence:at,type:au}=al,av=au===J['BLOCK_TYPE']['BLOCK_EQUATION']?[[aq]]:ak['convertInline'](aq)||[[aq]],aw=!at&&av['some'](aB=>(0x0,z['get'])(aB,'[1].length'))?av:[[aq]],ax={};if(ak['dataStore']['getBlockValue'](ar)['type']===J['BLOCK_TYPE']['CODE']||!ap&&au===J['BLOCK_TYPE']['CODE']){var ay=as||U['U2'](W['WOLAI_LAST_CODE_LANGUAGE'])||'纯文本',az=(0x0,V['l'])(ay),aA='text';aA='纯文本'===(null==(am=az[0x0])?void 0x0:am['name'])?'text':'仪表数字'===(null==(an=az[0x0])?void 0x0:an['name'])?'ybsz':(null==(ao=az[0x0])?void 0x0:ao['name'])||'text',ax['language']=aA,ax['language_by']=as?X['BE']['User']:X['BE']['Unknown'],ax['lineBreak']=!0x1,ax['ligatures']=!0x1,ax['line_number']=!0x1;}if(!ap)return{'attributes':ac({'title':aw},ax)};ap['block']['updateBlock'](ar,ac({'title':aw},ax),['attributes']);},ak['createPasteBlock']=al=>{var {transaction:am,blockId:an,blockText:ao,position:ap,language:aq,sourceText:ar}=al;return as=>{var {parent:at,type:au,slice:av,end:aw,prevBlockId:ax,done:ay,src:az,fence:aA,attributes:aB,html:aC,copyFromWolai:aD,blankCount:aE,wolaiJson:aF,title:aG}=as;if(aA&&aE){var aH=ao['split']('\x0a')||[];aH=aH['map'](aL=>aL['substr'](0x0,aE)['trimLeft']()+aL['slice'](aE)),ao=aH['join']('\x0a');}var aI=ao['slice'](av,aw)['trimLeft'](),aJ=ax;if(ak['blockStore']['createCommonBlock'](am,an,at,aJ,ap)(au),au===J['BLOCK_TYPE']['IMAGE']){if(az||aB){var aK=az?{'source':[az]}:aB;aG&&(aK['title']=aG),am['block']['updateBlock'](an,{'attributes':aK});}}else[J['BLOCK_TYPE']['SIMPLE_TABLE'],J['BLOCK_TYPE']['TABLE']]['includes'](au)?ak['addCellData']({'transaction':am,'blockId':an,'text':aI,'language':aq,'html':aC,'copyFromWolai':aD,'sourceText':ar,'wolaiJson':aF}):ak['convertText']({'transaction':am,'blockId':an,'text':aI,'language':aq,'fence':aA,'type':au});ay&&ak['blockStore']['checkBlock'](am,an,'yes');};},ak['updateBlockContent']=al=>{var {transaction:am,blockText:an,blockId:ao,language:ap,sourceText:aq}=al;return ar=>{var {type:as,slice:at,end:au,done:av,src:aw,fence:ax,attributes:ay,blankCount:az,title:aA}=ar;if(ax&&az){var aB=an['split']('\x0a')||[];aB=aB['map'](aF=>aF['substr'](0x0,az)['trimLeft']()+aF['slice'](az)),an=aB['join']('\x0a');}var aC=an['slice'](at,au)['trimLeft']();if(ak['dataStore']['getBlockProperty'](ao,'type')!==as){if(am['block']['updateBlock'](ao,{'type':as}),[J['BLOCK_TYPE']['SIMPLE_TABLE'],J['BLOCK_TYPE']['TABLE']]['includes'](as))am['block']['updateBlock'](ao,{'title':[['']]},['attributes']);else{if(as===J['BLOCK_TYPE']['ENUM_LIST']){var aD=/^(\d+). /['exec'](an);aD&&am['block']['updateBlock'](ao,{'list_start_index':Number(aD[0x1])},['attributes']);}}}if(as===J['BLOCK_TYPE']['IMAGE']){if(aw||ay){var aE=aw?{'source':[aw]}:ay;aA&&(aE['title']=aA),am['block']['updateBlock'](ao,{'attributes':aE});}}else[J['BLOCK_TYPE']['SIMPLE_TABLE'],J['BLOCK_TYPE']['TABLE']]['includes'](as)?ak['addCellData']({'transaction':am,'blockId':ao,'text':aC,'language':ap,'sourceText':aq}):ak['convertText']({'transaction':am,'blockId':ao,'text':aC,'language':ap,'fence':ax,'type':as});av&&ak['blockStore']['checkBlock'](am,ao,'yes');};},ak['getBlockContent']=al=>{var {blockText:am,blockId:an,language:ao,sourceText:ap,bufferBlock:aq}=al;return ar=>{var {type:as,slice:at,end:au,done:av,src:aw,fence:ax,attributes:ay,blankCount:az,title:aA}=ar;if(ax&&az){var aB=am['split']('\x0a')||[];aB=aB['map'](aJ=>aJ['substr'](0x0,az)['trimLeft']()+aJ['slice'](az)),am=aB['join']('\x0a');}var aC=am['slice'](at,au)['trimLeft'](),aD=aq||{'id':an,'type':as,'attributes':{},'setting':{}};if(aD['type']=as,as===J['BLOCK_TYPE']['IMAGE']){if(aw||ay){var aE=aw?{'source':[aw]}:ay;aA&&(aE['title']=aA),aD['attributes']=aE;}}else{if([J['BLOCK_TYPE']['SIMPLE_TABLE'],J['BLOCK_TYPE']['TABLE']]['includes'](as)){aD['attributes']['title']=[['']];var {attributes:aF,setting:aG}=ak['addCellData']({'blockId':an,'text':aC,'language':ao,'sourceText':ap});aD['attributes']=aF,aD['setting']=aG;}else{var {attributes:aH}=ak['convertText']({'transaction':null,'blockId':an,'text':aC,'language':ao,'fence':ax,'type':as});aD['attributes']=aH;}}if(av&&(aD['attributes']['checked']='yes'),aD['type']===J['BLOCK_TYPE']['ENUM_LIST']){var aI=/^(\d+). /['exec'](am);aI&&(aD['enum']=aI[0x1]);}return aD;};},ak;}return function(ak,al){if('function'!=typeof al&&null!==al)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');ak['prototype']=Object['create'](al&&al['prototype'],{'constructor':{'value':ak,'writable':!0x0,'configurable':!0x0}}),Object['defineProperty'](ak,'prototype',{'writable':!0x1}),al&&a5(ak,al);}(ag,af),ah=ag,(ai=[{'key':'handleAiBlock','value':function(ak,al,am,an,ao){var {text:ap,type:aq,language:ar,insertImageData:as={},isImage:at,caption:au}=am,av=ap;if([J['BLOCK_TYPE']['SIMPLE_TABLE'],J['BLOCK_TYPE']['TABLE']]['includes'](aq)){var aw=ap['split']('\x0a');av=(aw=aw['map'](aF=>{var aG=aF['trim']();return aG['startsWith']('|')||(aG='|'['concat'](aG)),aG['endsWith']('|')||(aG=''['concat'](aG,'|')),aG;}))['join']('\x0a');}var ax,ay=ap,az=ak?this['updateBlockContent']({'transaction':ak,'blockId':al,'blockText':av,'language':ar,'sourceText':an}):this['getBlockContent']({'blockId':al,'blockText':av,'language':ar,'sourceText':an,'bufferBlock':ao}),aA=this['getBlankCount'](ay);if(ay=ay['trimLeft'](),'fence'===aq)return az({'fence':!0x0,'blankCount':aA,'type':J['BLOCK_TYPE']['CODE']});if('math_block'===aq)return az({'type':J['BLOCK_TYPE']['BLOCK_EQUATION']});if(J['qpX']['test'](ay))return az({'type':J['BLOCK_TYPE']['HEADER_H1'],'slice':aA+0x2});if(J['NDy']['test'](ay))return az({'type':J['BLOCK_TYPE']['HEADER_H2'],'slice':aA+0x3});if(J['HiL']['test'](ay))return az({'type':J['BLOCK_TYPE']['HEADER_H3'],'slice':aA+0x4});if(J['IjW']['test'](ay))return az({'type':J['BLOCK_TYPE']['HEADER_H4'],'slice':aA+0x5});if(J['IdQ']['test'](ay))return az({'type':J['BLOCK_TYPE']['HEADER_H5'],'slice':aA+0x6});if(J['YN2']['test'](ay))return az({'type':J['BLOCK_TYPE']['HEADER_H6'],'slice':aA+0x7});if(J['NS4']['test'](ay))return az({'type':J['BLOCK_TYPE']['HEADER_H7'],'slice':aA+0x8});if(J['t9C']['test'](ay))return az({'type':J['BLOCK_TYPE']['HEADER_H8'],'slice':aA+0x9});if(J['D6H']['test'](ay))return az({'type':J['BLOCK_TYPE']['HEADER_H9'],'slice':aA+0xa});if(J['K4R']['test'](ay))return az({'done':/ *[-|*] *\[x\]/['test'](ay),'type':J['BLOCK_TYPE']['TODO_LIST'],'slice':aA+ay['indexOf'](']')+0x1});if(J['w2O']['test'](ay))return az({'type':J['BLOCK_TYPE']['BULLET_LIST'],'slice':aA+0x2});if(J['Uzb']['test'](ay))return az({'type':J['BLOCK_TYPE']['ENUM_LIST'],'slice':aA+ay['indexOf']('.')+0x1});if(J['qOQ']['test'](ay)||aq===J['BLOCK_TYPE']['QUOTE'])return az({'type':J['BLOCK_TYPE']['QUOTE'],'slice':aA+ay['indexOf']('>')+0x1});if(J['Kjr']['test'](ay))return az({'type':J['BLOCK_TYPE']['DIVIDER']});if(J['sCD']['test'](ay))return az({'type':ak?J['BLOCK_TYPE']['TABLE']:J['BLOCK_TYPE']['SIMPLE_TABLE']});if(J['QgZ']['test'](ay)&&!at){var aB=ay['indexOf']('[')+0x1;return az({'type':J['BLOCK_TYPE']['PAGE'],'slice':aA+aB,'end':aA+aB+ay['slice'](aB)['indexOf'](']')});}if(!J['eTs']['test'](ay)&&!at)return az({'type':J['BLOCK_TYPE']['TEXT'],'slice':aA});if(at)ax=ay;else try{ax=decodeURIComponent((0x0,z['get'])(J['eTs']['exec'](ay),'[1]',''));}catch(aF){}var aC={};if(as['id']||(aC['src']=ax),!/^ *data:image(.*)/['test'](ax)){var {bucket:aD,imgPath:aE}=(0x0,M['sG'])(ax);return aD&&aE&&(aC={'attributes':{'bucket':[[aD]],'img':[[aE]]}}),au&&(aC['title']=[[au]]),az(ac({'type':J['BLOCK_TYPE']['IMAGE']},aC));}}}])&&a0(ah['prototype'],ai),aj&&a0(ah,aj),Object['defineProperty'](ah,'prototype',{'writable':!0x1}),ah;var ah,ai,aj;}(K['Z']);ad([H['f3']],ae['prototype'],'pageStore',0x2),ad([H['f3']],ae['prototype'],'blockAPI',0x2),ad([H['f3']],ae['prototype'],'domAPI',0x2),ad([H['f3']],ae['prototype'],'editorUI',0x2),ad([H['f3']],ae['prototype'],'blockStore',0x2),ad([H['f3']],ae['prototype'],'editorStore',0x2),ad([H['f3']],ae['prototype'],'clipboardStore',0x2),ad([H['f3']],ae['prototype'],'drag',0x2),ad([H['f3']],ae['prototype'],'kitAPI',0x2),ad([H['f3']],ae['prototype'],'userStore',0x2),ad([H['f3']],ae['prototype'],'dataStore',0x2),ad([H['f3']],ae['prototype'],'spaceStore',0x2),ad([H['f3']],ae['prototype'],'screenStore',0x2);},'sbFu':(b,c,d)=>{d['d'](c,{'H':()=>g,'V':()=>f});var f=(h=>(h['Normal']='normal',h['Loading']='loading',h['Success']='success',h['Fail']='fail',h['Stop']='stop',h['Abandon']='abandon',h['Close']='close',h))(f||{}),g=(h=>(h['Default']='default',h['Create']='create',h['Accept']='accept',h['Abandon']='abandon',h['Abort']='abort',h['Prev']='prev',h['Next']='next',h))(g||{});},'CEix':(b,d,f)=>{f['d'](d,{'H':()=>v});var g=f('z6rU'),h=f('hYMi'),j=Object['defineProperty'],k=Object['getOwnPropertySymbols'],m=Object['prototype']['hasOwnProperty'],p=Object['prototype']['propertyIsEnumerable'],q=(w,x,y)=>x in w?j(w,x,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':y}):w[x]=y,v=w=>{return x=void 0x0,y=null,z=function*(){return yield h['c9']['fetch'](''['concat'](g['R'],'/api/sse/miaobi/chat'),((A,B)=>{for(var C in B||(B={}))m['call'](B,C)&&q(A,C,B[C]);if(k){for(var C of k(B))p['call'](B,C)&&q(A,C,B[C]);}return A;})({'method':'POST','headers':{'Content-Type':'application/json'}},w));},new Promise((A,B)=>{var C=F=>{try{E(z['next'](F));}catch(G){B(G);}},D=F=>{try{E(z['throw'](F));}catch(G){B(G);}},E=F=>F['done']?A(F['value']):Promise['resolve'](F['value'])['then'](C,D);E((z=z['apply'](x,y))['next']());});var x,y,z;};},'A7HB':(j,k,q)=>{q['d'](k,{'Fc':()=>P,'fi':()=>O,'kz':()=>Q});var w=q('I4rI'),x=q['n'](w),z=q('lpAo'),A=q('+zxo'),B=q('U8Qr'),C=q('okq7'),D=q('z6rU'),F=Object['defineProperty'],G=Object['getOwnPropertySymbols'],H=Object['prototype']['hasOwnProperty'],I=Object['prototype']['propertyIsEnumerable'],J=(R,T,U)=>T in R?F(R,T,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':U}):R[T]=U,K=(R,T)=>{for(var U in T||(T={}))H['call'](T,U)&&J(R,U,T[U]);if(G){for(var U of G(T))I['call'](T,U)&&J(R,U,T[U]);}return R;},L=(R,T,U)=>new Promise((V,W)=>{var X=a0=>{try{Z(U['next'](a0));}catch(a1){W(a1);}},Y=a0=>{try{Z(U['throw'](a0));}catch(a1){W(a1);}},Z=a0=>a0['done']?V(a0['value']):Promise['resolve'](a0['value'])['then'](X,Y);Z((U=U['apply'](R,T))['next']());}),M=(R,T,U,V)=>{var W;try{var X=(0x0,z['get'])(V,'headers.x-fc-invocation-duration');B['FN']['apiSuccessLog'](R,{'code':null==(W=null==V?void 0x0:V['data'])?void 0x0:W['code'],'delay':new Date()['getTime']()-T,'method':U,'rt':X});}catch(Y){B['rw']['error']('apiSuccessLog\x20error:\x20',Y);}return V;},N=(R,T,U,V,W)=>{try{var X=(0x0,z['get'])(V,'response.headers.x-fc-invocation-duration'),Y=(0x0,z['get'])(V,'response.status');B['FN']['apiFailLog'](R,{'code':Y,'delay':new Date()['getTime']()-T,'msg':(0x0,z['get'])(V,'response.data.ErrorMessage')||(0x0,z['get'])(V,'response.data.errorMessage')||V||'unknown','reqId':W['reqId'],'params':null==W?void 0x0:W['params'],'method':U,'rt':X});}catch(Z){B['rw']['error']('apiSuccessLog\x20error:\x20',Z);}};function O(){return L(this,null,function*(){var R,T=new Date()['getTime'](),U=(0x0,A['generate'])(),V='api/miaobi/government/getMultiStepGenerateConfig';try{var W=yield x()['get'](''['concat'](D['R'],'/')['concat'](V),{'headers':{'x-dingtalk-continue':location['href'],'reqId':U},'withCredentials':!0x0});return M(V,T,'get',W),B['FN']['apiSuccessLog'](V,{'code':null==(R=null==W?void 0x0:W['data'])?void 0x0:R['code'],'delay':new Date()['getTime']()-T,'method':'get'}),W['data'];}catch(X){throw N(V,T,'get',X,{'reqId':U}),X;}});}function P(){return L(this,null,function*(){var R,T=new Date()['getTime'](),U=(0x0,A['generate'])(),V='api/miaobi/government/getOneStepGenerateConfig';try{var W=yield x()['get'](''['concat'](D['R'],'/')['concat'](V),{'headers':{'x-dingtalk-continue':location['href'],'reqId':U},'withCredentials':!0x0});return M(V,T,'get',W),B['FN']['apiSuccessLog'](V,{'code':null==(R=null==W?void 0x0:W['data'])?void 0x0:R['code'],'delay':new Date()['getTime']()-T,'method':'get'}),W['data'];}catch(X){throw N(V,T,'get',X,{'reqId':U}),X;}});}function Q(R){return L(this,null,function*(){var T=K({'query':'','workspaceId':'','fuzzy':'true','titleOnly':!0x0,'order':'desc','active':'1','pageId':''},R),U=yield(0x0,C['qj'])(T);return(U&&U['result']&&U['result']['items']||[])['map'](V=>({'id':V['id'],'title':V['title'],'page_id':V['page_id'],'icon':V['icon'],'type':'wolai'}));});}},'rR+K':(j,q,w)=>{w['d'](q,{'Z':()=>ac});var x=w('UCCd'),z=w('U8Qr'),F=w('3c5P'),G=w('lY0g'),H=w('sbFu'),J=w('A7HB'),K=w('CEix'),M=w('m8fy');function N(ad){return function(ae){if(Array['isArray'](ae))return Q(ae);}(ad)||function(ae){if('undefined'!=typeof Symbol&&null!=ae[Symbol['iterator']]||null!=ae['@@iterator'])return Array['from'](ae);}(ad)||function(ae,af){if(!ae)return;if('string'==typeof ae)return Q(ae,af);var ag=Object['prototype']['toString']['call'](ae)['slice'](0x8,-0x1);'Object'===ag&&ae['constructor']&&(ag=ae['constructor']['name']);if('Map'===ag||'Set'===ag)return Array['from'](ae);if('Arguments'===ag||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/['test'](ag))return Q(ae,af);}(ad)||(function(){throw new TypeError('Invalid\x20attempt\x20to\x20spread\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.');}());}function Q(ad,ae){(null==ae||ae>ad['length'])&&(ae=ad['length']);for(var af=0x0,ag=new Array(ae);af<ae;af++)ag[af]=ad[af];return ag;}function R(ad,ae){for(var af=0x0;af<ae['length'];af++){var ag=ae[af];ag['enumerable']=ag['enumerable']||!0x1,ag['configurable']=!0x0,'value'in ag&&(ag['writable']=!0x0),Object['defineProperty'](ad,U(ag['key']),ag);}}function U(ad){var ae=function(af,ag){if('object'!=typeof af||!af)return af;var ah=af[Symbol['toPrimitive']];if(void 0x0!==ah){var ai=ah['call'](af,ag||'default');if('object'!=typeof ai)return ai;throw new TypeError('@@toPrimitive\x20must\x20return\x20a\x20primitive\x20value.');}return('string'===ag?String:Number)(af);}(ad,'string');return'symbol'==typeof ae?ae:ae+'';}var V=Object['defineProperty'],W=Object['defineProperties'],X=Object['getOwnPropertyDescriptor'],Y=Object['getOwnPropertyDescriptors'],Z=Object['getOwnPropertySymbols'],a0=Object['prototype']['hasOwnProperty'],a1=Object['prototype']['propertyIsEnumerable'],a2=(ad,ae,af)=>ae in ad?V(ad,ae,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':af}):ad[ae]=af,a3=(ad,ae)=>{for(var af in ae||(ae={}))a0['call'](ae,af)&&a2(ad,af,ae[af]);if(Z){for(var af of Z(ae))a1['call'](ae,af)&&a2(ad,af,ae[af]);}return ad;},a4=(ad,ae)=>W(ad,Y(ae)),a5=(ad,ae,af,ag)=>{for(var ah,ai=ag>0x1?void 0x0:ag?X(ae,af):ae,aj=ad['length']-0x1;aj>=0x0;aj--)(ah=ad[aj])&&(ai=(ag?ah(ae,af,ai):ah(ai))||ai);return ag&&ai&&V(ae,af,ai),ai;},a6=(ad,ae,af)=>new Promise((ag,ah)=>{var ai=al=>{try{ak(af['next'](al));}catch(am){ah(am);}},aj=al=>{try{ak(af['throw'](al));}catch(am){ah(am);}},ak=al=>al['done']?ag(al['value']):Promise['resolve'](al['value'])['then'](ai,aj);ak((af=af['apply'](ad,ae))['next']());}),a7={'text':'','outlines':[],'articles':[],'miniDoc':[],'miniDocIndex':[]},a8={'text':'','formatText':''},a9={'theme':{'prompt':'','scene':'','keywords':[],'articles':[],'useSearch':!0x0},'outline':a7,'abstract':{'text':'','list':[]},'article':a8},aa={'disabledFormEdit':!0x1,'disabledTabs':!0x1,'showAiContent':!0x1,'actionType':H['H']['Default']},ab=(function(){return ad=function ag(){!function(ah,ai){if(!(ah instanceof ai))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}(this,ag),this['reset']();},(ae=[{'key':'currentStepKey','get':function(){return this['stepItems'][this['currentStepIndex']]['key'];}},{'key':'multiStepConfig','get':function(){return this['generateConfig']['multiStep'];}},{'key':'oneStepConfig','get':function(){return{'writingStyle':this['generateConfig']['oneStep']['fields']['find'](ah=>'writingStyle'===ah['tag']),'gcNumberSizeTag':this['generateConfig']['oneStep']['fields']['find'](ah=>'gcNumberSizeTag'===ah['tag']),'gcNumber':this['generateConfig']['oneStep']['fields']['find'](ah=>'gcNumber'===ah['tag'])};}},{'key':'aiChatSessionIds','get':function(){return Object['keys'](this['aiContentEvenetSourceMap']);}},{'key':'stepAiStatus','get':function(){return this['aiStatus'];}},{'key':'hasAiContent','get':function(){return!!this['aiContentEvenetSourceMap'][this['currentAiContentChatId']];}},{'key':'reset','value':function(){this['error']=null,this['stepItems']=[{'title':'主题','key':G['u']['THEME']},{'title':'大纲','key':G['u']['OUTLINE']},{'title':'摘编','key':G['u']['ABSTRACT']},{'title':'文章','key':G['u']['ARTICLE']}],this['currentStepIndex']=0x0,this['aiStatus']=H['V']['Normal'],this['stepItemFormDataMap']=a9,this['generateConfig']={'multiStep':{'scene':[]},'oneStep':{'fields':[]}},this['aiContentEvenetSourceMap']={},this['currentChatEventSource']=null,this['aiContentSortedChatIds']=[],this['currentAiContentChatId']='',this['layoutConfig']=aa;}},{'key':'setCurrentStepIndexByKey','value':function(ah){var ai=this['stepItems']['findIndex'](aj=>aj['key']===ah);this['currentStepIndex']=ai;}},{'key':'setStepAiStatus','value':function(ah){this['aiStatus']=ah;}},{'key':'setAiStatus','value':function(ah){this['aiStatus']=ah;}},{'key':'updateStepFormByKey','value':function(ah,ai){this['stepItemFormDataMap'][ah]=a3(a3({},this['stepItemFormDataMap'][ah]),ai);}},{'key':'pushStepOutlineItem','value':function(ah){var ai=this['stepItemFormDataMap'][G['u']['OUTLINE']]['outlines']['slice']();ai['push'](ah),this['stepItemFormDataMap'][G['u']['OUTLINE']]['outlines']=ai;}},{'key':'deleteStepOutlineItemAt','value':function(ah){var ai=this['stepItemFormDataMap'][G['u']['OUTLINE']]['outlines']['slice']();ai['splice'](ah,0x1),this['stepItemFormDataMap'][G['u']['OUTLINE']]['outlines']=ai;}},{'key':'updateStepOutlineItemAt','value':function(ah,ai){var aj=this['stepItemFormDataMap'][G['u']['OUTLINE']]['outlines']['slice']();aj['splice'](ah,0x1,ai),this['stepItemFormDataMap'][G['u']['OUTLINE']]['outlines']=aj;}},{'key':'resetStepOutline','value':function(){this['stepItemFormDataMap'][G['u']['OUTLINE']]=a7;}},{'key':'updateStepAbstractItemAt','value':function(ah,ai){var aj=this['stepItemFormDataMap'][G['u']['ABSTRACT']]['list']['slice']();aj['splice'](ah,0x1,ai),this['stepItemFormDataMap'][G['u']['ABSTRACT']]['list']=aj;}},{'key':'resetStepAbstract','value':function(){this['stepItemFormDataMap'][G['u']['ARTICLE']]=a8;}},{'key':'deleteStepAbstractItemAt','value':function(ah){var ai=this['stepItemFormDataMap'][G['u']['ABSTRACT']]['list']['slice']();ai['splice'](ah,0x1),this['stepItemFormDataMap'][G['u']['ABSTRACT']]['list']=ai;}},{'key':'clearStepsData','value':function(){var ah=this['stepItemFormDataMap'][G['u']['THEME']],ai=a4(a3({},a9['theme']),{'scene':ah['scene']}),aj=a4(a3({},a9),{'theme':ai});this['stepItemFormDataMap']=aj,this['currentStepIndex']=0x0;}},{'key':'fetchMultiStepGenerateConfig','value':function(){return a6(this,null,function*(){try{var ah=yield(0x0,J['fi'])();(0x0,x['runInAction'])(()=>{if('1000'===ah['code']){var ai=ah['data']['scene'];this['generateConfig']['multiStep']['scene']=ai,this['stepItemFormDataMap'][G['u']['THEME']]['scene']=ai['length']>0x0?ai[0x0]:'';}});}catch(ai){}});}},{'key':'fetchOneStepGenerateConfig','value':function(){return a6(this,null,function*(){try{var ah=yield(0x0,J['Fc'])();(0x0,x['runInAction'])(()=>{if('1000'===ah['code']){var ai=ah['data'];this['generateConfig']['oneStep']['fields']=ai;}});}catch(ai){}});}},{'key':'setCurrentChatEventSource','value':function(ah){this['currentChatEventSource']=ah;}},{'key':'addAiChatEventSource','value':function(ah){this['aiContentEvenetSourceMap'][ah['id']]=ah,this['aiContentSortedChatIds']['findIndex'](ai=>ai===ah['id'])<0x0&&(this['aiContentSortedChatIds']=[]['concat'](N(this['aiContentSortedChatIds']),[ah['id']])),this['aiContentSortedChatIds']['length']>0x0&&!this['currentAiContentChatId']&&(this['currentAiContentChatId']=this['aiContentSortedChatIds'][0x0]);}},{'key':'setCurrentAiContentChatId','value':function(ah){this['currentAiContentChatId']=ah;}},{'key':'clearAiChatEventSource','value':function(){this['aiContentEvenetSourceMap']={},this['aiContentSortedChatIds']=[],this['currentAiContentChatId']='';}},{'key':'clearChatEventSource','value':function(){this['clearAiChatEventSource'](),this['currentChatEventSource']=null;}},{'key':'updateLayoutConfig','value':function(ah){this['layoutConfig']=a3(a3({},this['layoutConfig']),ah);}},{'key':'sseOutlineStepData','value':function(){return a6(this,null,function*(){var ah=this,ai=ah['stepItemFormDataMap'][G['u']['THEME']],{prompt:aj,useSearch:ak,articles:al,keywords:am,scene:an}=ai,ao={'domain':'government','prompt':aj,'invokeType':'portal','useOutLine':!0x0,'chatConfig':{'useSearch':ak},'pluginConfig':{'terminatedPluginName':'OutlineGenerate'},'referenceData':{'articles':(al||[])['map'](ap=>({'id':ap['id'],'title':ap['title'],'type':null==ap?void 0x0:ap['type']})),'scene':an,'keywords':am}};ah['setStepAiStatus'](H['V']['Loading']),(0x0,K['H'])({'body':JSON['stringify'](ao),'onmessage'(ap){var aq=a3({},ap),ar=a3({},ap);aq['data']=JSON['parse'](ar['data']),z['rw']['log']('###\x20',aq),(0x0,x['runInAction'])(()=>{var as,at;if(ah['setCurrentChatEventSource'](ap),'task-progress-news-search-end'===ar['event']){var au=(0x0,M['q'])(ar),av=null==(as=null==au?void 0x0:au['payload'])?void 0x0:as['output'];(null==av?void 0x0:av['articles'])&&(ah['stepItemFormDataMap'][G['u']['OUTLINE']]['articles']=av['articles']);}if('result-event-found-end'===ar['event']){var aw=(0x0,M['q'])(ar),ax=null==(at=null==aw?void 0x0:aw['payload'])?void 0x0:at['output'];(null==ax?void 0x0:ax['miniDoc'])&&(ah['stepItemFormDataMap'][G['u']['OUTLINE']]['miniDoc']=ax['miniDoc']),(null==ax?void 0x0:ax['miniDocIndex'])&&(ah['stepItemFormDataMap'][G['u']['OUTLINE']]['miniDocIndex']=ax['miniDocIndex']);}if('task-outline-end'===ar['event']){var ay=ar['data'],az=JSON['parse'](ay)['payload']['output']['text'],aA=az['split']('\x0a')['map']((aB,aC)=>({'title':aB,'id':''['concat'](aC)}));ah['updateStepFormByKey'](G['u']['OUTLINE'],{'text':az,'outlines':aA});}});},'onclose'(){ah['setStepAiStatus'](H['V']['Success']);}});});}},{'key':'sseAbstractStepData','value':function(){return a6(this,null,function*(){var ah=this,ai=ah['stepItemFormDataMap'][G['u']['THEME']],aj=ah['stepItemFormDataMap'][G['u']['OUTLINE']],{prompt:ak,useSearch:al,scene:am}=ai,{miniDoc:an,miniDocIndex:ao,outlines:ap}=aj,aq={'domain':'government','prompt':ak,'invokeType':'portal','useOutLine':!0x0,'chatConfig':{'useSearch':al},'pluginConfig':{'promptPluginConfigs':{'MiniDocSummary':{'PromptContentMode':'Structure'}},'terminatedPluginName':'MiniDocSummary'},'referenceData':{'scene':am,'outlines':ap['map'](ar=>({'outline':ar['title'],'articles':(ar['articles']||[])['map'](as=>({'id':as['id'],'title':as['title'],'type':null==as?void 0x0:as['type']}))})),'miniDoc':an,'miniDocIndex':ao}};ah['setStepAiStatus'](H['V']['Loading']),(0x0,K['H'])({'body':JSON['stringify'](aq),'onmessage'(ar){var as=a3({},ar),at=a3({},ar);as['data']=JSON['parse'](at['data']),z['rw']['log']('###\x20',as),(0x0,x['runInAction'])(()=>{if(ah['setCurrentChatEventSource'](ar),'task-miniDoc-summary-generating'===at['event']){ah['setStepAiStatus'](H['V']['Success']);var au=at['data'],av=JSON['parse'](au)['payload']['output']['text'],aw=JSON['parse'](av);ah['updateStepFormByKey'](G['u']['ABSTRACT'],{'text':av,'list':aw});}});},'onclose'(){ah['setStepAiStatus'](H['V']['Success']);}});});}},{'key':'sseArticleStepData','value':function(){return a6(this,null,function*(){var ah=this,ai=ah['stepItemFormDataMap'][G['u']['THEME']],aj=ah['stepItemFormDataMap'][G['u']['OUTLINE']],ak=ah['stepItemFormDataMap'][G['u']['ABSTRACT']],{prompt:al,useSearch:am,scene:an}=ai,{miniDoc:ao,miniDocIndex:ap,outlines:aq,articles:ar}=aj,{list:as}=ak,at={'domain':'government','prompt':al,'invokeType':'portal','useOutLine':!0x0,'chatConfig':{'useSearch':am},'referenceData':{'scene':an,'outlines':aq['map'](au=>({'outline':au['title'],'articles':(au['articles']||[])['map'](av=>({'id':av['id'],'title':av['title'],'type':null==av?void 0x0:av['type']}))})),'articles':ar,'miniDoc':ao,'miniDocIndex':ap,'structureCachedSummarization':as}};ah['setStepAiStatus'](H['V']['Loading']),(0x0,K['H'])({'body':JSON['stringify'](at),'onmessage'(au){var av=a3({},au),aw=a3({},au);av['data']=JSON['parse'](aw['data']),z['rw']['log']('###\x20',av),(0x0,x['runInAction'])(()=>{if(ah['setCurrentChatEventSource'](au),'task-progress-start-generating'===aw['event']){var ax=aw['data'],ay=JSON['parse'](ax)['payload']['output'],az=ay['text'],aA=ay['formatText'];ah['updateStepFormByKey'](G['u']['ARTICLE'],{'text':az,'formatText':aA}),ah['clearAiChatEventSource'](),ah['addAiChatEventSource'](au);}});},'onclose'(){ah['setStepAiStatus'](H['V']['Success']);}});});}}])&&R(ad['prototype'],ae),af&&R(ad,af),Object['defineProperty'](ad,'prototype',{'writable':!0x1}),ad;var ad,ae,af;}());a5([x['observable']],ab['prototype'],'stepItems',0x2),a5([x['observable']],ab['prototype'],'stepItemFormDataMap',0x2),a5([x['observable']],ab['prototype'],'currentStepIndex',0x2),a5([x['observable']],ab['prototype'],'aiStatus',0x2),a5([x['observable']],ab['prototype'],'generateConfig',0x2),a5([x['observable']],ab['prototype'],'currentChatEventSource',0x2),a5([x['observable']],ab['prototype'],'aiContentEvenetSourceMap',0x2),a5([x['observable']],ab['prototype'],'aiContentSortedChatIds',0x2),a5([x['observable']],ab['prototype'],'currentAiContentChatId',0x2),a5([x['observable']],ab['prototype'],'layoutConfig',0x2),a5([x['observable']],ab['prototype'],'error',0x2),a5([x['action']],ab['prototype'],'setCurrentStepIndexByKey',0x1),a5([x['action']],ab['prototype'],'setStepAiStatus',0x1),a5([x['action']],ab['prototype'],'setAiStatus',0x1),a5([x['action']],ab['prototype'],'updateStepFormByKey',0x1),a5([x['action']],ab['prototype'],'pushStepOutlineItem',0x1),a5([x['action']['bound']],ab['prototype'],'deleteStepOutlineItemAt',0x1),a5([x['action']['bound']],ab['prototype'],'updateStepOutlineItemAt',0x1),a5([x['action']['bound']],ab['prototype'],'resetStepOutline',0x1),a5([x['action']['bound']],ab['prototype'],'updateStepAbstractItemAt',0x1),a5([x['action']['bound']],ab['prototype'],'resetStepAbstract',0x1),a5([x['action']['bound']],ab['prototype'],'deleteStepAbstractItemAt',0x1),a5([x['action']['bound']],ab['prototype'],'clearStepsData',0x1),a5([x['action']],ab['prototype'],'fetchMultiStepGenerateConfig',0x1),a5([x['action']],ab['prototype'],'fetchOneStepGenerateConfig',0x1),a5([x['action']['bound']],ab['prototype'],'setCurrentChatEventSource',0x1),a5([x['action']['bound']],ab['prototype'],'addAiChatEventSource',0x1),a5([x['action']['bound']],ab['prototype'],'setCurrentAiContentChatId',0x1),a5([x['action']['bound']],ab['prototype'],'clearAiChatEventSource',0x1),a5([x['action']['bound']],ab['prototype'],'clearChatEventSource',0x1),a5([x['action']['bound']],ab['prototype'],'updateLayoutConfig',0x1),a5([x['action']['bound']],ab['prototype'],'sseOutlineStepData',0x1),a5([x['action']['bound']],ab['prototype'],'sseAbstractStepData',0x1),a5([x['action']['bound']],ab['prototype'],'sseArticleStepData',0x1);const ac=(0x0,F['ri'])(ab);}}]);
</script>

</body>
</html>
