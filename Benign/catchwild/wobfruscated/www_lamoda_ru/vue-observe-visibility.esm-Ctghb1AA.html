<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>vue-observe-visibility.esm-Ctghb1AA.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __forWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAABfwKkgICAAAMDZW52BHRlc3QAAQNlbnYGdXBkYXRlAAADZW52BGJvZHkAAAOCgICAAAEABISAgIAAAXAAAAWDgICAAAEAAQeRgICAAAIGbWVtb3J5AgAEZGF0YQADCpmAgIAAAZOAgIAAAAJAA0AQAEUNARACEAEMAAsLCw==';
const __forWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__forWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__forWasmBuffer, 'base64'));
    }
})());
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEGhoGAgAAXfwBBAQt/AEEiC38AQSwLfwBBNAt/AEE+C38AQcYAC38AQfYAC38AQf4AC38AQYIBC38AQYoBC38AQZIBC38AQZgBC38AQZ4BC38AQaoBC38AQbQBC38AQb4BC38AQcYBC38AQcwBC38AQdYBC38AQd4BC38AQeYBC38AQeoBC38AQc4DCwfPgYCAABgGbWVtb3J5AgAFZGF0YTADAAVkYXRhMQMBBWRhdGEyAwIFZGF0YTMDAwVkYXRhNAMEBWRhdGE1AwUFZGF0YTYDBgVkYXRhNwMHBWRhdGE4AwgFZGF0YTkDCQZkYXRhMTADCgZkYXRhMTEDCwZkYXRhMTIDDAZkYXRhMTMDDQZkYXRhMTQDDgZkYXRhMTUDDwZkYXRhMTYDEAZkYXRhMTcDEQZkYXRhMTgDEgZkYXRhMTkDEwZkYXRhMjADFAZkYXRhMjEDFQZkYXRhMjIDFgvJhICAABcAQQELICU0MGJhYmVsJTJGaGVscGVycyUyMC0lMjB0eXBlb2YAAEEiCwlmdW5jdGlvbgAAQSwLB3N5bWJvbAAAQTQLCWZ1bmN0aW9uAABBPgsHc3ltYm9sAABBxgALLkNhbm5vdCUyMGNhbGwlMjBhJTIwY2xhc3MlMjBhcyUyMGElMjBmdW5jdGlvbgAAQfYACwZ2YWx1ZQAAQf4ACwJ1AABBggELB3N0cmluZwAAQYoBCwdPYmplY3QAAEGSAQsETWFwAABBmAELBFNldAAAQZ4BCwpBcmd1bWVudHMAAEGqAQsJZnVuY3Rpb24AAEG0AQsJZnVuY3Rpb24AAEG+AQsHb2JqZWN0AABBxgELBWJvdGgAAEHMAQsIdmlzaWJsZQAAQdYBCwdoaWRkZW4AAEHeAQsHbnVtYmVyAABB5gELAnUAAEHqAQvjASU1QnZ1ZS1vYnNlcnZlLXZpc2liaWxpdHklNUQlMjBJbnRlcnNlY3Rpb25PYnNlcnZlciUyMEFQSSUyMGlzJTIwbm90JTIwYXZhaWxhYmxlJTIwaW4lMjB5b3VyJTIwYnJvd3Nlci4lMjBQbGVhc2UlMjBpbnN0YWxsJTIwdGhpcyUyMHBvbHlmaWxsJTNBJTIwaHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGdzNjJTJGSW50ZXJzZWN0aW9uT2JzZXJ2ZXIlMkZ0cmVlJTJGbWFzdGVyJTJGcG9seWZpbGwAAEHOAwsTb2JzZXJ2ZS12aXNpYmlsaXR5AA=='].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
import { n as g } from './x-icon-Bn0dC0Sg.js';
function v(t) {
    lS(0, 0);
    return typeof Symbol == lS(0, 1) && typeof Symbol.iterator == lS(0, 2) ? v = function (e) {
        return typeof e;
    } : v = function (e) {
        return e && typeof Symbol == lS(0, 3) && e.constructor === Symbol && e !== Symbol.prototype ? lS(0, 4) : typeof e;
    }, v(t);
}
function O(t, e) {
    if (!(t instanceof e))
        throw new TypeError(lS(0, 5));
}
function S(t, e) {
    (() => {
        var r = 0;
        const __forInstance0 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return r < e.length ? 1 : 0;
                },
                update: () => {
                    r++;
                },
                body: () => {
                    {
                        var n = e[r];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, lS(0, 6) in n && (n.writable = !0), Object.defineProperty(t, n.key, n);
                    }
                }
            }
        });
        const __exports = __forInstance0.exports;
        return __exports.data();
    })();
}
function k(t, e, r) {
    return e && S(t.prototype, e), t;
}
function y(t) {
    return A(t) || _(t) || w(t) || I();
}
function A(t) {
    if (Array.isArray(t))
        return h(t);
}
function _(t) {
    if (typeof Symbol < lS(0, 7) && Symbol.iterator in Object(t))
        return Array.from(t);
}
function w(t, e) {
    if (t) {
        if (typeof t == lS(0, 8))
            return h(t, e);
        var r = Object.prototype.toString.call(t).slice(8, -1);
        if (r === lS(0, 9) && t.constructor && (r = t.constructor.name), r === lS(0, 10) || r === lS(0, 11))
            return Array.from(t);
        if (r === lS(0, 12) || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
            return h(t, e);
    }
}
function h(t, e) {
    (e == null || e > t.length) && (e = t.length);
    (() => {
        var r = 0, n = new Array(e);
        const __forInstance1 = new WebAssembly.Instance(__forWasmModule, {
            env: {
                test: () => {
                    return r < e ? 1 : 0;
                },
                update: () => {
                    r++;
                },
                body: () => {
                    n[r] = t[r];
                }
            }
        });
        const __exports = __forInstance1.exports;
        return __exports.data();
    })();
    return n;
}
function I() {
    throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function T(t) {
    var e;
    return typeof t == lS(0, 13) ? e = { callback: t } : e = t, e;
}
function C(t, e) {
    var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, n, i, s, l = function (o) {
            (() => {
                var u = arguments.length, f = new Array(u > 1 ? u - 1 : 0), c = 1;
                const __forInstance2 = new WebAssembly.Instance(__forWasmModule, {
                    env: {
                        test: () => {
                            return c < u ? 1 : 0;
                        },
                        update: () => {
                            c++;
                        },
                        body: () => {
                            f[c - 1] = arguments[c];
                        }
                    }
                });
                const __exports = __forInstance2.exports;
                return __exports.data();
            })();
            (() => {
                const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                    env: {
                        impFunc1: () => {
                            {
                                var b = r.leading;
                                typeof b == lS(0, 14) && (b = b(o, i)), (!n || o !== i) && b && t.apply(void 0, [o].concat(y(s))), i = o, clearTimeout(n), n = setTimeout(function () {
                                    t.apply(void 0, [o].concat(y(s))), n = 0;
                                }, e);
                            }
                        },
                        impFunc2: () => {
                        }
                    }
                });
                const __exports = __ifInstance0.exports;
                return __exports.data((s = f, !(n && o === i)) ? 1 : 0);
            })();
        };
    return l._clear = function () {
        clearTimeout(n), n = null;
    }, l;
}
function p(t, e) {
    if (t === e)
        return !0;
    if (v(t) === lS(0, 15)) {
        for (var r in t)
            if (!p(t[r], e[r]))
                return !1;
        return !0;
    }
    return !1;
}
var V = function () {
    function t(e, r, n) {
        O(this, t), this.el = e, this.observer = null, this.frozen = !1, this.createObserver(r, n);
    }
    return k(t, [
        {
            key: 'createObserver',
            value: function (r, n) {
                var i = this;
                if (this.observer && this.destroyObserver(), !this.frozen) {
                    if (this.options = T(r), this.callback = function (a, o) {
                            i.options.callback(a, o), a && i.options.once && (i.frozen = !0, i.destroyObserver());
                        }, this.callback && this.options.throttle) {
                        var s = this.options.throttleOptions || {}, l = s.leading;
                        this.callback = C(this.callback, this.options.throttle, {
                            leading: function (o) {
                                return l === lS(0, 16) || l === lS(0, 17) && o || l === lS(0, 18) && !o;
                            }
                        });
                    }
                    this.oldResult = void 0, this.observer = new IntersectionObserver(function (a) {
                        var o = a[0];
                        if (a.length > 1) {
                            var u = a.find(function (c) {
                                return c.isIntersecting;
                            });
                            u && (o = u);
                        }
                        if (i.callback) {
                            var f = o.isIntersecting && o.intersectionRatio >= i.threshold;
                            if (f === i.oldResult)
                                return;
                            i.oldResult = f, i.callback(f, o);
                        }
                    }, this.options.intersection), g(function () {
                        i.observer && i.observer.observe(i.el);
                    });
                }
            }
        },
        {
            key: 'destroyObserver',
            value: function () {
                this.observer && (this.observer.disconnect(), this.observer = null), this.callback && this.callback._clear && (this.callback._clear(), this.callback = null);
            }
        },
        {
            key: 'threshold',
            get: function () {
                return this.options.intersection && typeof this.options.intersection.threshold == lS(0, 19) ? this.options.intersection.threshold : 0;
            }
        }
    ]), t;
}();
function d(t, e, r) {
    var n = e.value;
    (() => {
        const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
            env: {
                impFunc1: () => {
                    (() => {
                        const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                            env: {
                                impFunc1: () => {
                                    (() => {
                                        const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                                            env: {
                                                impFunc: () => {
                                                    console.warn(lS(0, 21));
                                                }
                                            }
                                        });
                                        const __exports = __callInstance2.exports;
                                        return __exports.data();
                                    })();
                                },
                                impFunc2: () => {
                                    {
                                        var i = new V(t, n, r);
                                        t._vue_visibilityState = i;
                                    }
                                }
                            }
                        });
                        const __exports = __ifInstance2.exports;
                        return __exports.data(typeof IntersectionObserver > lS(0, 20) ? 1 : 0);
                    })();
                },
                impFunc2: () => {
                }
            }
        });
        const __exports = __ifInstance1.exports;
        return __exports.data(n ? 1 : 0);
    })();
}
function P(t, e, r) {
    var n = e.value, i = e.oldValue;
    if (!p(n, i)) {
        var s = t._vue_visibilityState;
        if (!n) {
            (() => {
                const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            m(t);
                        }
                    }
                });
                const __exports = __callInstance1.exports;
                return __exports.data();
            })();
            return;
        }
        s ? s.createObserver(n, r) : d(t, { value: n }, r);
    }
}
function m(t) {
    var e = t._vue_visibilityState;
    e && (e.destroyObserver(), delete t._vue_visibilityState);
}
var R = {
    beforeMount: d,
    updated: P,
    unmounted: m
};
function j(t) {
    (() => {
        const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
            env: {
                impFunc: () => {
                    t.directive(lS(0, 22), R);
                }
            }
        });
        const __exports = __callInstance0.exports;
        return __exports.data();
    })();
}
var M = {
    version: '2.0.0-alpha.1',
    install: j
};
export {
    R as O,
    M as p
};</script>
</body>
</html>
