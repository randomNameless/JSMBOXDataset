<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clientlib-common.min.d4075ccb00a2aa23a0adc603b17bed8a.html</title>
</head>
<body>

<script>
if(!Array.prototype.find)Object.defineProperty(Array.prototype,"find",{value:function(predicate){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this);var len=o.length>>>0;if(typeof predicate!=="function")throw new TypeError("predicate must be a function");var thisArg=arguments[1];var k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o))return kValue;k++}return undefined}});var NPC=NPC||{};NPC.deconnexion=NPC.deconnexion||{};
var isConnnecteEnPublish=NPC.user&&NPC.user.isConnected&&!NPC.isAuthor;if(isConnnecteEnPublish)NPC.deconnexion.deconnexionManuelle=function(urlDeconnexionNPC){window.location.href=urlDeconnexionNPC};var NPC=NPC||{};NPC.timeout=NPC.timeout||{};NPC.timeout.storageTimeoutKeyPageLoad=NPC.timeout.storageTimeoutKeyPrefix+".NPCTimeoutPageLoad";NPC.timeout.storageTimeoutKeyAjax=NPC.timeout.storageTimeoutKeyPrefix+".NPCTimeoutAjax";
NPC.timeout.storageTimeoutDisconnectKey=NPC.timeout.storageTimeoutKeyPrefix+".NPCTimeoutDisconnect";NPC.timeout.bandeauDeconnexionTimeoutClient=NPC.timeout.storageTimeoutKeyPrefix+".NPCTimeoutBandeauClient";NPC.timeout.storageTokenTimeoutKey=NPC.timeout.storageTimeoutKeyPrefix+".NPCTokenTimeout";NPC.timeout.storageTokenWarningKey=NPC.timeout.storageTimeoutKeyPrefix+".NPCWarningTimeout";NPC.timeout.storageTokenEndKey=NPC.timeout.storageTimeoutKeyPrefix+".NPCEndTimeout";
NPC.timeout.storageLastWarningDate=NPC.timeout.storageTimeoutKeyPrefix+".NPCLastWarningDate";NPC.timeout.storageBandeauDeconnexionManuel=NPC.timeout.storageTimeoutKeyPrefix+".NPCBandeauDeconnexionManuelKey";
if(NPC.user&&NPC.user.isConnected&&!NPC.isAuthor){NPC.timeout.startInactivityPopUp=function(){clearTimeout(NPC.timeout.deconnexionTimeoutId);if($("#modalSessionEndWarning").hasClass("in"))NPC.timeout.sessionkeepAlive();else{$("modalInactivityTimeout-timer").attr("data-timer",NPC.timeout.timeoutiDsconnectTime);$("#modalInactivityTimeout").modal("show");NPC.timeout.deconnexionTimeoutId=setTimeout(NPC.timeout.deconnectionFromInactivity,NPC.timeout.timeoutDisconnectTime*1E3)}};NPC.timeout.deconnexionEventListener=
function(event){if(event.key===NPC.timeout.storageDeconnexionEvent){sessionStorage.setItem(NPC.timeout.storageBandeauDeconnexionManuel,"true");window.location.href=NPC.homePage}};NPC.timeout.sessionkeepAlive=function(){$.get(NPC.genererURLJson("session.keep.alive")).success(function(){}).fail(function(){})};NPC.timeout.deconnectionFromInactivity=function(){clearTimeout(NPC.timeout.deconnexionTimeoutId);sessionStorage.setItem(NPC.timeout.bandeauDeconnexionTimeoutClient,"true");var url=NPC.homePage.replace(".html",
".npc.timeout.json");$.get(url).success(function(data){}).fail(function(data){})};NPC.timeout.addTimeoutEventonWindowOpen=function(tempsLoad){clearTimeout(NPC.timeout.inactivityTimeoutId);clearTimeout(NPC.timeout.deconnexionTimeoutId);localStorage.setItem(NPC.timeout.storageTimeoutKeyPageLoad,tempsLoad);var timer=NPC.timeout.timeoutTime*60*1E3-tempsLoad-NPC.timeout.timeoutSecurityTime*1E3;NPC.timeout.inactivityTimeoutId=setTimeout(NPC.timeout.startInactivityPopUp,timer)};NPC.timeout.razTimeoutInactivity=
function(){clearTimeout(NPC.timeout.inactivityTimeoutId);clearTimeout(NPC.timeout.deconnexionTimeoutId);var timer=NPC.timeout.timeoutTime*60*1E3-NPC.timeout.timeoutSecurityTime*1E3;NPC.timeout.inactivityTimeoutId=setTimeout(NPC.timeout.startInactivityPopUp,timer);$("#modalInactivityTimeout").modal("hide")};NPC.timeout.razTimeoutInactivityFromAjaxListener=function(event){if(event.key===NPC.timeout.storageTimeoutKeyAjax)NPC.timeout.razTimeoutInactivity()};NPC.timeout.razTimeoutInactivityFromPageLoadListener=
function(event){if(event.key===NPC.timeout.storageTimeoutKeyPageLoad){clearTimeout(NPC.timeout.inactivityTimeoutId);clearTimeout(NPC.timeout.deconnexionTimeoutId);var tempsLoad=localStorage.getItem(NPC.timeout.storageTimeoutKeyPageLoad);NPC.timeout.inactivityTimeoutId=setTimeout(NPC.timeout.startInactivityPopUp,NPC.timeout.timeoutTime*60*1E3-tempsLoad-NPC.timeout.timeoutSecurityTime*1E3);$("#modalInactivityTimeout").modal("hide")}};NPC.timeout.timeoutDisconnectListener=function(event){if(event.key===
NPC.timeout.storageTimeoutDisconnectKey){clearTimeout(NPC.timeout.inactivityTimeoutId);clearTimeout(NPC.timeout.deconnexionTimeoutId);sessionStorage.setItem(NPC.timeout.bandeauDeconnexionTimeoutClient,"true");var currenPathName=window.location.pathname;currenPathName=currenPathName.replace(NPC.adaptUrl(currenPathName),"");window.location.href=NPC.homePage}};NPC.timeout.throttling=undefined;NPC.timeout.throttleMaintienDeSession=function(){if(typeof NPC.timeout.throttling==="undefined"&&!$("#modalInactivityTimeout").hasClass("in")){clearTimeout(NPC.timeout.deconnexionTimeoutId);
NPC.timeout.sessionkeepAlive();NPC.timeout.throttling=setTimeout(function(){NPC.timeout.throttling=undefined},6E4)}};NPC.timeout.refreshTokenTTLWarningDisplay=function(){var refreshTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenTimeoutKey);if(refreshTokenTimeoutDateMs&&refreshTokenTimeoutDateMs!=="null"&&refreshTokenTimeoutDateMs!=="undefined"){var total=(NPC.timeout.refreshTokenTTLConf-NPC.timeout.refreshTokenTTLWarningConf)*60;var currentDate=Date.now();var timer=Math.floor(Math.abs((refreshTokenTimeoutDateMs-
currentDate)/1E3));$("#modalSessionEndWarning-timer").attr("data-timer",timer);$("#modalSessionEndWarning-timer").attr("data-total",total);NPC.timeout.razTimeoutInactivity();$("#modalSessionEndWarning").modal("show")}};NPC.timeout.refreshTokenTTLEndDisplay=function(){var refreshTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenTimeoutKey);if(refreshTokenTimeoutDateMs&&refreshTokenTimeoutDateMs!=="null"&&refreshTokenTimeoutDateMs!=="undefined"){var total=(NPC.timeout.refreshTokenTTLConf-
NPC.timeout.refreshTokenTTLEndConf)*60;var currentDate=Date.now();var timer=Math.floor(Math.abs((refreshTokenTimeoutDateMs-currentDate)/1E3));$("#modalSessionEnd-timer").attr("data-timer",timer);$("#modalSessionEnd-timer").attr("data-total",total);$("#modalSessionEnd").modal("show");NPC.timeout.sessionkeepAlive()}};NPC.timeout.deconnectionSimple=function(){NPC.deconnexion.deconnexionManuelle(NPC.timeout.deconnectionUrl)};NPC.timeout.hideModalWarningListener=function(event){if(event.key===NPC.timeout.storageLastWarningDate)$("#modalSessionEndWarning").modal("hide")};
$(document).ready(function(){var start;var stop;if(window.performance&&window.performance.timing&&window.performance.timing.fetchStart&&window.performance.timing.domContentLoadedEventStart){start=window.performance.timing.fetchStart;stop=window.performance.timing.domContentLoadedEventStart}else{start=0;stop=2E3}var tempsLoad=stop-start;if(NPC.timeout.refreshTokenTTL&&NPC.timeout.refreshTokenTTLWarning&&NPC.timeout.refreshTokenTTLEnd){if(window.performance.navigation.type===2){NPC.timeout.sessionkeepAlive();
var refreshTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenTimeoutKey);var warningTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenWarningKey);var endTokenTimeoutDateMs=localStorage.getItem(NPC.timeout.storageTokenEndKey);var dateNow=Date.now();var timerTokenTimeout=refreshTokenTimeoutDateMs-dateNow;var warningTokenTimeout=warningTokenTimeoutDateMs-dateNow;var endTokenTimeout=endTokenTimeoutDateMs-dateNow;NPC.timeout.refreshTokenTTLid=setTimeout(NPC.timeout.deconnectionSimple,
timerTokenTimeout);NPC.timeout.refreshTokenTTLWarningId=setTimeout(NPC.timeout.refreshTokenTTLWarningDisplay,warningTokenTimeout);NPC.timeout.refreshTokenTTLEndId=setTimeout(NPC.timeout.refreshTokenTTLEndDisplay,endTokenTimeout)}else{var timeLeftBeforeRefreshTokenTTL=Number(NPC.timeout.refreshTokenTTL)-tempsLoad;var timeLeftBeforeRefreshTokenTTLWarning=Number(NPC.timeout.refreshTokenTTLWarning)-tempsLoad;var timeLeftBeforeRefreshTokenTTLEnd=Number(NPC.timeout.refreshTokenTTLEnd)-tempsLoad;var dateNow=
Date.now();var refreshTokenTimeoutDateMs=dateNow+timeLeftBeforeRefreshTokenTTL;var warningTokenTimeoutDateMs=dateNow+timeLeftBeforeRefreshTokenTTLWarning;var endTokenTimeoutDateMs=dateNow+timeLeftBeforeRefreshTokenTTLEnd;localStorage.setItem(NPC.timeout.storageTokenTimeoutKey,refreshTokenTimeoutDateMs);localStorage.setItem(NPC.timeout.storageTokenWarningKey,warningTokenTimeoutDateMs);localStorage.setItem(NPC.timeout.storageTokenEndKey,endTokenTimeoutDateMs);var storageLastWarningDate=localStorage.getItem(NPC.timeout.storageLastWarningDate);
if(storageLastWarningDate){if(warningTokenTimeoutDateMs>Number(storageLastWarningDate)){localStorage.removeItem(NPC.timeout.storageLastWarningDate);NPC.timeout.refreshTokenTTLWarningId=setTimeout(NPC.timeout.refreshTokenTTLWarningDisplay,timeLeftBeforeRefreshTokenTTLWarning)}}else NPC.timeout.refreshTokenTTLWarningId=setTimeout(NPC.timeout.refreshTokenTTLWarningDisplay,timeLeftBeforeRefreshTokenTTLWarning);NPC.timeout.refreshTokenTTLid=setTimeout(NPC.timeout.deconnectionSimple,timeLeftBeforeRefreshTokenTTL);
NPC.timeout.refreshTokenTTLEndId=setTimeout(NPC.timeout.refreshTokenTTLEndDisplay,timeLeftBeforeRefreshTokenTTLEnd)}window.addEventListener("storage",NPC.timeout.razTimeoutInactivityFromPageLoadListener,false);window.addEventListener("storage",NPC.timeout.razTimeoutInactivityFromAjaxListener,false);window.addEventListener("storage",NPC.timeout.hideModalWarningListener,false);window.addEventListener("storage",NPC.timeout.timeoutDisconnectListener,false);window.addEventListener("storage",NPC.timeout.deconnexionEventListener,
false);NPC.timeout.addTimeoutEventonWindowOpen(tempsLoad)}});$(document).ready(function(){$(".stop-inactivity-timeout-js").click(function(e){e.preventDefault();clearTimeout(NPC.timeout.deconnexionTimeoutId);NPC.timeout.propagerKeepAliveDansIframe("ihm-light-self");NPC.timeout.propagerKeepAliveDansNPC();NPC.timeout.sessionkeepAlive();$("#modalInactivityTimeout").modal("hide")});$(".inactivity-disconnect-js").click(function(e){e.preventDefault();clearTimeout(NPC.timeout.deconnexionTimeoutId);NPC.timeout.deconnectionFromInactivity()});
$(".sessionKeepGoing-js").click(function(e){e.preventDefault();NPC.timeout.sessionkeepAlive();localStorage.setItem(NPC.timeout.storageLastWarningDate,Date.now());$("#modalSessionEndWarning").modal("hide")});$(".timeoutReconnection-js").click(function(){sessionStorage.setItem(NPC.timeout.storageLocationRenouvellementSession,"true")})});NPC.timeout.propagerKeepAliveDansIframe=function(id){if($("#"+id).length==1){var iframeIhml=$("#"+id)[0];iframeIhml.contentWindow.postMessage(JSON.stringify({"version":"1",
"message_type":"KeepAlive"}),"/")}};NPC.timeout.propagerKeepAliveDansNPC=function(){window.postMessage(JSON.stringify({"version":"1","message_type":"KeepAlive"}),"/")}}var NPC=NPC||{};NPC.checkMemeOrigin=function(url){var protocol=document.location.protocol;var host=document.location.host;var relativeOrigin="//"+host;var origin=protocol+relativeOrigin;return url==origin||url.slice(0,origin.length+1)==origin+"/"||(url==relativeOrigin||url.slice(0,relativeOrigin.length+1)==relativeOrigin+"/")||!/^(\/\/|http:|https:).*/.test(url)};
(function(open){XMLHttpRequest.prototype.open=function(method,url,async,user,pass){this.addEventListener("readystatechange",function(){if(this.readyState===XMLHttpRequest.DONE&&this.status===403){if(this.getResponseHeader("X-Reason")==="Authentication Failed"){Granite.Sling.LOGIN_URL=NPC.urlMarcheCourant+".npc.login.html";Granite.HTTP.handleLoginRedirect=function(){if(!Granite.HTTP.loginRedirected){Granite.HTTP.loginRedirected=true;var l=Granite.Util.getTopWindow().document.location;l.href=Granite.Sling.LOGIN_URL+
"?resource\x3d"+encodeURIComponent(l.pathname+l.search+l.hash)}}}var jsonExtension=".json";if(url.indexOf(jsonExtension)!=-1)if(this.getResponseHeader("X-Reason")==="Authentication Timeout"){var jsonResponse=JSON.parse(this.responseText);if(jsonResponse.redirection)window.location=jsonResponse.redirection}}},false);if(NPC.checkMemeOrigin(url)&&NPC.timeout&&NPC.user&&NPC.user.isConnected&&!NPC.isAuthor&&url.indexOf("npc.timeout")===-1){var timeoutTime=new Date;localStorage.setItem(NPC.timeout.storageTimeoutKeyAjax,
timeoutTime);NPC.timeout.razTimeoutInactivity()}open.call(this,method,url,async,user,pass)}})(XMLHttpRequest.prototype.open);NPC.postRedirect=function(url,data){url=url.replace(".html",".postredirect.html");var $form=$(NPC.createHiddenFormCode(url,"post",data));$("body").append($form);$form.submit();return false};
NPC.retrieveExtension=function(url){var extension="";var currentStr=url;var firstDot=currentStr.indexOf(".");if(firstDot!=-1&&currentStr.length>=firstDot+1){currentStr=currentStr.substring(firstDot+1);var firstSlash=currentStr.indexOf("/");if(firstSlash!=-1&&currentStr.length>=firstSlash+1)currentStr=currentStr.substring(0,firstSlash);else{var firstInterrogationPoint=currentStr.indexOf("?");if(firstInterrogationPoint!=-1)currentStr=currentStr.substring(0,firstInterrogationPoint)}var lastDot=currentStr.lastIndexOf(".");
if(lastDot!=-1)currentStr=currentStr.substring(lastDot+1);extension=currentStr}return extension};NPC.adaptUrl=function(url){if(url!=undefined&&window.location.pathname!=undefined){var pathFolders=window.location.pathname.split("/");if(pathFolders.length>=2){var currentFolder=pathFolders[pathFolders.length-2];var urlFolders=url.split("/");var indexCurrentFolder=urlFolders.indexOf(currentFolder);if(indexCurrentFolder!=-1){urlFolders=urlFolders.slice(indexCurrentFolder+1);url=urlFolders.join("/")}}}return url};
NPC.retrieveUrlPath=function(pathname){pathname=pathname?pathname:window.location.pathname;if(pathname){var lastSlashIndex=pathname.lastIndexOf("/");var nextPointIndex=pathname.indexOf(".",lastSlashIndex);return pathname.substr(lastSlashIndex+1,nextPointIndex-lastSlashIndex-1)}return""};
NPC.postPartenaire=function(url,data){var urlOk=url.indexOf("jcr:content.init")===-1?url.replace("jcr:content","jcr:content.init"):url;urlOk=urlOk.indexOf(".html")===-1?urlOk.replace("jcr:content.init","jcr:content.init.html"):urlOk;var $form=$(NPC.createHiddenFormCode(urlOk,"post",data));$("body").append($form);$form.submit();return false};
NPC.createHiddenFormCode=function(url,method,data){var formCode='\x3cform method\x3d"'+method+'" action\x3d"'+url+'"\x3e';for(var key in data){var value=data[key];formCode+='\x3cinput name\x3d"'+key+'" value\x3d"'+value+'" type\x3d"hidden"\x3e'}formCode+="\x3c/form\x3e";return formCode};String.prototype.insertAt=function(index,string){return this.substr(0,index)+string+this.substr(index)};
String.prototype.sansAccent=function(){var accent=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g];var noaccent=["A","a","E","e","I","i","O","o","U","u","N","n","C","c"];var str=this;for(var i=0;i<accent.length;i++)str=str.replace(accent[i],noaccent[i]);return str};
if(!String.prototype.leftPad)String.prototype.leftPad=function(length,str){if(this.length>=length)return this;str=str+""||" ";return(new Array(Math.ceil((length-this.length)/str.length)+1)).join(str).substr(0,length-this.length)+this};
NPC.formatNumber=function(nbr,n,x,s,c){if(nbr===undefined||nbr===NaN||nbr===""||nbr===null)return nbr;var re="\\d(?\x3d(\\d{"+(x||3)+"})+"+(n>0?"\\D":"$")+")",num=parseFloat(""+nbr).toFixed(Math.max(0,~~n));return(c?num.replace(".",c):num).replace(new RegExp(re,"g"),"$\x26"+(s||","))};NPC.formatCurrency=function(montant,currencySymbol){return NPC.formatNumber(montant,2,3,"\x26nbsp;",",")+"\x26nbsp;"+currencySymbol};
NPC.formatCurrencyWithSymbol=function(montant,currencySymbol){currencySymbol=currencySymbol==undefined?"":currencySymbol;var symbol=montant<0?"-":"+ ";return symbol+NPC.formatNumber(Math.abs(montant),2,3,"\x26nbsp;",",")+"\x26nbsp;"+currencySymbol};NPC.IsJsonString=function(string){try{JSON.parse(string)}catch(e){return false}return true};
NPC.formatDate=function(time,monthInLetter,ignoreYear){var defaut=" - ";if(time!=undefined){var date=new Date(time);var day=date.getDate();day=day<10?"0"+day:day;var month=date.getMonth()+1;var separator=" ";if(monthInLetter)month=NPC.constantes.listeMois[month-1];else{month=month<10?"0"+month:month;separator="/"}var dateFormatted=day+separator+month;dateFormatted+=ignoreYear?"":separator+date.getFullYear();return dateFormatted}else return defaut};
NPC.affecterCookie=function(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+days*24*60*60*1E3);expires="; expires\x3d"+date.toUTCString()}document.cookie=name+"\x3d"+value+expires+"; path\x3d/"};NPC.recupererCookie=function(name){return(document.cookie.match("(^|; )"+name+"\x3d([^;]*)")||0)[2]};NPC.supprimerCookie=function(name,path){var cookiePath=path||"/";document.cookie=name+"\x3d; path\x3d"+cookiePath+"; expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"};
NPC.recupererIdLiveCopyCaisse=function(urlPath){var idLiveCopyCaisse=null;urlPath=urlPath||window.location.pathname;var prefixURL=NPC.constantes.CR_PREFIXE_CHEMIN;var posFinLiveCopy=urlPath.indexOf("/",prefixURL.length);if(urlPath.startsWith(prefixURL)&&posFinLiveCopy!=-1)idLiveCopyCaisse=urlPath.substring(prefixURL.length,posFinLiveCopy);return idLiveCopyCaisse};NPC.redirectIfConnectedOrOpenModal=function(modalId,url){if(NPC.user.isConnected)window.location=url;else NPC.openModal(modalId)};
NPC.lancerParcoursIfConnectedOrOpenModal=function(modalId,site,contextNav){if(NPC.user.isConnected)NPC.lancerParcours.appelServletMappingIdParcoursURL(site,null,contextNav);else NPC.openModal(modalId)};NPC.lancerParcoursOuUrl=function(site,contextNav,url){if(site==null||contextNav==null)window.location=url;else NPC.lancerParcours.appelServletMappingIdParcoursURL(site,null,contextNav)};
NPC.redirectToSimuOrMoco=function(url,urlMoco,modeCoordonne,nouvelOnglet){if(NPC.user.isConnected&&modeCoordonne)if(nouvelOnglet)window.open(urlMoco,"_blank");else window.location=urlMoco;else if(nouvelOnglet)window.open(url,"_blank");else window.location=url};
NPC.redirectToSimuOrMocoOrLienInterne=function(url,urlMoco,urlInterne,versLienInterne,contexteNavigationJson,modeCoordonne,nouvelOnglet){if(NPC.user.isConnected){var urlRedirect="";if(modeCoordonne)urlRedirect=urlMoco;else if(versLienInterne)urlRedirect=urlInterne;else urlRedirect=url;if(nouvelOnglet)window.open(urlRedirect,"_blank");else window.location=urlRedirect}else if(nouvelOnglet)window.open(url,"_blank");else window.location=url};
NPC.redirectToSimuIhml=function(modalId,nouvelOnglet,urlRedirectionIhmLight){if(NPC.user.isConnected){if(urlRedirectionIhmLight!=null)if(nouvelOnglet)window.open(urlRedirectionIhmLight,"_blank");else window.location=urlRedirectionIhmLight}else NPC.openModal(modalId)};
NPC.openModal=function(modalId){var $modal=$("#"+modalId);$modal.modal();$modal.focus();var setFocusPreviousElement=function(element){var idModal=$(element).closest(".modal").attr("id");$('[onclick*\x3d"'+idModal+'"]').first().focus()};$modal.on("click.dismiss.bs.modal",'[data-dismiss\x3d"modal"]',function(){setFocusPreviousElement(this)});$modal.on("keydown",function(event){if(event.key==="Escape")setFocusPreviousElement(this)})};
NPC.redirectToSimuIHMLOrLienPerso=function(link){var event=window.event||NPC.redirectToSimuIHMLOrLienPerso.caller.arguments[0];event.preventDefault();$.get(NPC.genererURLJson("ihml.redirectToSimuIHMLOrLienPerso"),{link:link},function(data){window.location=data}).fail(function(data){console.error("Erreur de redirection vers le parcours IHM Light : "+data.status)})};
NPC.getServletUrl=function(selector){var path=window.location.pathname;path=path[path.length-1]==="/"?path+"particulier.html":path;path=path.replace(".html",selector);return path};NPC.constantes=NPC.constantes||{};NPC.constantes.listeMois=["Janvier","F\u00e9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\u00fbt","Septembre","Octobre","Novembre","D\u00e9cembre"];NPC.constantes.listeMoisCourts=["Janv.","F\u00e9vr.","Mars","Avr.","Mai","Juin","Juill.","Ao\u00fbt","Sept.","Oct.","Nov.","D\u00e9c."];
NPC.constantes.CR_PREFIXE_CHEMIN="/content/ca/";NPC.constantes.ID_CR_NATIONAL="national";
(function(NPC){function PageNPC(name){this.name=name}PageNPC.prototype.toString=function(){return this.name};NPC.arbo=NPC.arbo||{};NPC.arbo.banquePrivee=new PageNPC("banque-privee");NPC.arbo.particulier=new PageNPC("particulier");NPC.arbo.particulier.epargner=new PageNPC("epargner");NPC.arbo.particulier.emprunter=new PageNPC("emprunter");NPC.arbo.particulier.assurances=new PageNPC("assurances");NPC.arbo.particulier.puSepamail=new PageNPC("operations/moyens-paiement/payer-mes-factures-par-sepamail");
NPC.arbo.particulier.messagerie=new PageNPC("operations/profil/banque-moi/messagerie");NPC.arbo.professionnel=new PageNPC("professionnel");NPC.arbo.professionnel.fluxTresorerie=new PageNPC("flux-tresorerie");NPC.arbo.professionnel.financerDeveloppement=new PageNPC("financer-developpement");NPC.arbo.professionnel.protegerMotiverSalaries=new PageNPC("proteger-motiver-salaries");NPC.arbo.professionnel.puSepamail=new PageNPC("operations/paiements-encaissements/payer-factures-ligne");NPC.arbo.professionnel.messagerie=
new PageNPC("operations/profil/banque-vous/messagerie");NPC.arbo.recupererPageMarche=function(name){for(var propertyName in NPC.arbo)if(NPC.arbo[propertyName]!=null&&NPC.arbo[propertyName].name==name)return NPC.arbo[propertyName];return null}})(NPC);
NPC.getHeaderHeight=function(){var elementAlert=$(".bandeau_alertes .AlertBanner").filter(":visible").outerHeight();var elementDeconexion=$(".header .AlertBanner").filter(":visible").outerHeight();var headerLogged=$("#header-logged").filter(":visible");var headerAlternate=$(".HeaderAlternate").filter(":visible");var $header=$(".js-Header").filter(":visible");var alertSize=elementAlert+elementDeconexion;if(headerLogged.length>0|headerAlternate.length>0){var headerSize=60;return headerSize+alertSize}else return $header.outerHeight()+
alertSize};NPC.elementScrolled=function(elem){var totalHeightHeader=NPC.getHeaderHeight();var docViewTop=$(window).scrollTop()+totalHeightHeader;var docViewBottom=docViewTop+$(window).height();var elemTop=$(elem).offset().top+totalHeightHeader;return elemTop<=docViewBottom&&elemTop>=docViewTop};
NPC.loadLibGoogleMaps=function(){if(NPC&&NPC.googleApiKey&&!NPC.isGoogleMapsApiLoaded&&!NPC.isGoogleMapsApiLoading){NPC.isGoogleMapsApiLoading=true;NPC.initGoogleMapsCallback=NPC.initGoogleMapsCallback||function(){NPC.isGoogleMapsApiLoaded=true;$(window).trigger("google.maps.api.loaded")};$.getScript("https://maps.google.com/maps/api/js?key\x3d"+NPC.googleApiKey+"\x26libraries\x3dplaces\x26callback\x3dNPC.initGoogleMapsCallback")}};var NPC=NPC||{};
(function($){NPC.geoloc=NPC.geoloc||function(){var me={};me.alreadyAsked=false;me.geolocActivated=false;me.geolocalized=false;me.lat=undefined;me.long=undefined;me.alt=undefined;me.acceptFunctionsToCall=[];me.refuseFunctionsToCall=[];var _reinitData=function(){me.alreadyAsked=false;me.activated=false;me.geolocalized=false;localStorage.setItem("geolocalized",false);me.lat=undefined;me.long=undefined;me.alt=undefined;me.acceptFunctionsToCall=[]};var _callBac=function(position){me.lat=position.coords.latitude;
me.long=position.coords.longitude;me.alt=position.coords.altitude;me.geolocalized=true;localStorage.setItem("geolocalized",true);me.fireAllAcceptCallBackFnc()};me.fireAllAcceptCallBackFnc=function(){var queue=me.acceptFunctionsToCall.slice();me.acceptFunctionsToCall.splice(0,me.acceptFunctionsToCall.length);for(var i=0;i<queue.length;i++)queue[i]()};me.fireAllRefuseCallBackFnc=function(){var queue=me.refuseFunctionsToCall.slice();me.refuseFunctionsToCall.splice(0,me.refuseFunctionsToCall.length);
for(var i=0;i<queue.length;i++)queue[i]()};me.addCallBackFnc=function(acceptFnc,refuseFnc){if(typeof acceptFnc=="function")me.acceptFunctionsToCall.push(acceptFnc);if(typeof refuseFnc=="function")me.refuseFunctionsToCall.push(refuseFnc)};me.tryToGeoloc=function(){if(navigator.geolocation){localStorage.setItem("geolocalized",false);me.activated=true;navigator.geolocation.getCurrentPosition(_callBac,function(error){switch(error.code){case error.PERMISSION_DENIED:console.log("User denied the request for Geolocation or no HTTPS origin");
me.userDenied=error.PERMISSION_DENIED;console.log(error.PERMISSION_DENIED);console.log(error);break;case error.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");me.userDenied=error.POSITION_UNAVAILABLE;break;case error.TIMEOUT:console.log("The request to get user location timed out.");me.userDenied=error.TIMEOUT;break;case error.UNKNOWN_ERROR:console.log("An unknown error occurred.");me.userDenied=error.UNKNOWN_ERROR;break}me.fireAllRefuseCallBackFnc()})}else _reinitData()};
return me}()})();var NPC=NPC||{};
(function($){var geocoder;function initOnGoogleLoaded(){geocoder=new google.maps.Geocoder}$(window).on("google.maps.api.loaded",initOnGoogleLoaded);NPC.storeLocator=NPC.storeLocator||{};(function(me){me.CRProches=[];me.AgencesProches=[];me.AgencesProchesAdresse=[];function getPostalCodeByLngAndLat(lat,long,_callback,_callback2){var latlng={lat:parseFloat(lat),lng:parseFloat(long)};if(latlng&&geocoder)try{geocoder.geocode({location:latlng}).then(function(response){var cp="";if(response.results[0])var cp=
response.results[0].address_components.find(function(element){return element.types.includes("postal_code")}).long_name;var postParams={"longitude":long,"latitude":lat,"code_postal":cp};_callback(postParams,_callback2)}).catch(function(e){return console.error("API Geocoder indisponnible")})}catch(ex){console.error("API google maps indisponnible")}}function postTrouverAgenceProche(postParams,callback){$.ajax({type:"POST",url:NPC.getServletUrl(".get-agences-proches.json"),data:postParams,cache:true,
success:function(data){if(callback.name==="_displayResultAgences")callback(data,true);else callback(data);me.AgencesProches=data;$(window).trigger("layout.bv")},fail:function(data){console.error("Impossible de trouver de Agences \u00e0 proximite du la zone !")}})}function postTrouverAgenceLatLngOrAdress(lat,long,address,callback,callback2){if(address!==undefined&&address!==""&&geocoder)geocoder.geocode({"address":address},function(results,status){if(status==="OK")if(results[0].address_components.find(function(element){return element.types.includes("postal_code")})){var postParams=
{"addresse":address,"code_postal":results[0].address_components.find(function(element){return element.types.includes("postal_code")}).long_name};callback(postParams,callback2)}else{var longGeocoder=results[0].geometry.location.lng();var latGeocoder=results[0].geometry.location.lat();getPostalCodeByLngAndLat(latGeocoder,longGeocoder,callback,callback2)}else{var postParams={"addresse":address};postTrouverAgenceProche(postParams,callback2)}});else getPostalCodeByLngAndLat(lat,long,callback,callback2)}
me.gotoAccesCrEtAgence=function(){if(NPC.origin.indexOf("/fr/")>=0)window.location=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+"/acces-cr-et-agence.html?origin\x3d"+NPC.origin;else window.location=NPC.urlLiveCopyCaisse+"particulier/acces-cr-et-agence.html?origin\x3d"+NPC.origin};me.gotoAccesCr=function(){if(NPC.origin.indexOf("/fr/")>=0)window.location=NPC.urlLiveCopyCaisse+NPC.utilisateur.marche+"/acces-cr.html?origin\x3d"+NPC.origin;else window.location=NPC.urlLiveCopyCaisse+"particulier/acces-cr.html?origin\x3d"+
NPC.origin};me.calculateBankUrl=function(regionalBankUrlPrefix){var url;if(NPC.storeLocator.urlOriginPrefix)url=regionalBankUrlPrefix+NPC.storeLocator.urlOriginPrefix;else url=regionalBankUrlPrefix+NPC.utilisateur.marche+"/acces-cr-et-agence.html?";if(url.includes("/agence/"))url=url.replace("/agence/","/agence.changecr/");else url=url.replace(".html",".changecr.html");return url};me.trouverCRProches=function(lat,long,callback){var url=NPC.getServletUrl(".get-cr-proches.json");var postParams={"longitude":NPC.geoloc.long,
"latitude":NPC.geoloc.lat};$.ajax({type:"POST",url:url,data:postParams,cache:true,success:function(data){callback(data);me.CRProches=data},fail:function(data){console.error("Impossible de trouver de CR \u00e0 proximite du la zone !")}})};me.trouverAgencesProches=function(lat,long,callback){postTrouverAgenceLatLngOrAdress(lat,long,undefined,postTrouverAgenceProche,callback)};me.trouverAgencesProchesAdresse=function(addressUser,callbackAdress){postTrouverAgenceLatLngOrAdress(undefined,undefined,addressUser,
postTrouverAgenceProche,callbackAdress)};me.getQtyAgences=function(callback){var nbAgence=NPC.nbAgence||0;callback(nbAgence)};me.trouverCRProchesByDepartment=function(department,callback){var postParams={"department":department};$.ajax({type:"POST",url:NPC.getServletUrl(".get-cr-by-department.json"),data:postParams,cache:true,success:function(data){callback(data)},fail:function(data){if(data.status==400)callback(null);console.error("Impossible de trouver de CR pour le departement "+department+" !")}})};
me.getCorrectDepartmentNumberFromPostCode=function(postCode){var deptNumber=null;if(typeof postCode!=="undefined"){var postCodeRegex=/^\d[\daAbB]\d{0,3}$/g;if(postCode.match(postCodeRegex)){deptNumber=postCode.substring(0,2);if(deptNumber=="97"||deptNumber=="98")deptNumber=postCode.substring(0,3)}}return deptNumber};me.recupererListCR=function(callback){$.ajax({type:"GET",url:NPC.getServletUrl(".get-cr-list.json"),cache:true,success:function(data){callback(data)},fail:function(data){console.error("Impossible de r\u00e9cup\u00e9rer la liste des CR !")}})};
return me})(NPC.storeLocator);$(document).on("click",".link-agence-repli-BV",function(){var id_repli=$(".link-agence-repli-BV").data("val");if(id_repli!=""){var params={"storelocator_retrieveagency_agencyid":id_repli};var regex_agence=/(particulier|professionnel|entreprise|agriculteur|banque-privee|association|collectivites-publiques)\/.*\.html|\.html/;var stl_replacement="$1/jcr:content.fiche-agence.html";var target=location.pathname.replace(regex_agence,stl_replacement);var $form=$(NPC.createHiddenFormCode(target,
"post",params));$("body").append($form);$form.submit()}})})($);
var SimplePagination=function(paginationSelector,itemsSelector,pageSize,onPageChanged){var me={};var onPageChanged=onPageChanged||function(){return"do nothing"};me._paginationSelector="";me._itemsSelector="";me._pagination=null;me._items=[];me._currentPage=0;me._qtyPages=0;me._pages=[];me._cursor=0;me._pageSize=8;me._scrollTop=false;me._templateBase=" \t    \x3cul class\x3d'Pagination Pagination--gray js-pagination' \x3e \t        \x3cli class\x3d'Pagination-item'\x3e \t            \x3ca href\x3d'javascript:void(0)' aria-label\x3d'Pr\u00e9c\u00e9dent' class\x3d'SimplePagination-preview Pagination-link'\x3e\x3cspan aria-hidden\x3d'true' class\x3d'icon npc-circle-dark-previous'\x3e\x3c/span\x3e\x3c/a\x3e \t        \x3c/li\x3e \t        [PAGES] \t        \x3cli class\x3d'Pagination-item'\x3e \t            \x3ca href\x3d'javascript:void(0)' aria-label\x3d'Suivant' class\x3d'SimplePagination-next Pagination-link'\x3e\x3cspan aria-hidden\x3d'true' class\x3d'icon npc-circle-dark-next'\x3e\x3c/span\x3e\x3c/a\x3e \t        \x3c/li\x3e \t    \x3c/ul\x3e \t";me._templatePage=
"         \x3cli class\x3d'Pagination-item'\x3e             \x3ca href\x3d'javascript:void(0)' class\x3d'SimplePagination-btn-[INDEX] Pagination-link' \x3e[PAGE]\x3c/a\x3e         \x3c/li\x3e \t";me._templatePageMinimized="\t\t\x3cli class\x3d'Pagination-item'\x3e             \x3cspan href\x3d'javascript:void(0)' class\x3d'Pagination-link' \x3e...\x3c/span\x3e         \x3c/li\x3e \t";var _sortNumber=function(a,b){return a-b};var _generateArray=function(size){var result=[];if(me._currentPage+1>=5&&
me._qtyPages>5){result.push(0);result.push(me._currentPage-1);result.push(me._currentPage);if(me._currentPage+1==me._qtyPages)result.push(me._currentPage-2);else result.push(me._currentPage+1)}else if(me._currentPage<5)for(var i=0;i<5&&i<size;i++)result.push(i);var dizaine=9;var dizaineArray=[];while(dizaine<me._qtyPages){if(!result.includes(dizaine))result.push(dizaine);dizaineArray.push(dizaine);dizaine+=10}result.sort(_sortNumber);return result};var _calculateQtyPages=function(){if(!me._pageSize||
me._pageSize==0){console.warn("(simple-pagination) : Bad 'page-size' value, auto set to '10' !");me._pageSize=10}if(me._items.length&&me._pageSize){me._qtyPages=Math.ceil(me._items.length/me._pageSize);me._pages=_generateArray(me._qtyPages)}};var _calculateCursor=function(){me._cursor=me._currentPage*me._pageSize};var _checkBtnStatus=function(){if(me._items.length<=me._pageSize){me._pagination.hide();return}me._pagination.show();var preview=me._pagination.find(".SimplePagination-preview");var next=
me._pagination.find(".SimplePagination-next");var fncDisable=function(el){el.prop("disabled",true);el.addClass("Pagination-link--disabled")};var fncEnable=function(el){el.prop("disabled",false);el.removeClass("Pagination-link--disabled")};me._currentPage<=0?fncDisable(preview):fncEnable(preview);me._currentPage>=me._qtyPages-1?fncDisable(next):fncEnable(next);me._pages.forEach(function(page){var el=me._pagination.find(".SimplePagination-btn-"+page);me._currentPage===page?el.addClass("Pagination-link--active"):
el.removeClass("Pagination-link--active")})};var _activePagination=function(){var btn=me._pagination.find(".SimplePagination-preview");var preview=me._pagination.find(".SimplePagination-preview");var next=me._pagination.find(".SimplePagination-next");preview.unbind("click");preview.on("click",me.gotoPrevious);next.unbind("click");next.on("click",me.gotoNext);me._pages.forEach(function(page){var el=me._pagination.find(".SimplePagination-btn-"+page);el.unbind("click");el.on("click",function(){me.setPage({p:page})})});
_checkBtnStatus()};var _redrawPagination=function(){var content=me._templateBase;var pages="";me._pages.forEach(function(page){var index=me._pages.indexOf(page);if(index!=0&&page-me._pages[index-1]>1)pages+=me._templatePageMinimized;pages+=me._templatePage.replace("[INDEX]",page).replace("[PAGE]",page+1);if(index+1==me._pages.length&&page+1!=me._qtyPages)pages+=me._templatePageMinimized});content=content.replace("PAGES",pages);me._pagination.html(content)};var _showHideItems=function(){var stop=me._cursor+
me._pageSize;var cpt=0;me._items.each(function(){var item=$(this);if(cpt>=me._cursor&&cpt<stop)item.show();else item.hide();cpt++})};var _redraw=function(){_redrawPagination();_showHideItems();setTimeout(_activePagination,100)};var _update=function(){me._items=$(me._itemsSelector);_calculateQtyPages();_redraw()};var _init=function(paginationSelector,itemsSelector,pageSize){me._paginationSelector=paginationSelector;me._itemsSelector=itemsSelector;me._pageSize=pageSize;me._pagination=$("#"+me._paginationSelector);
if(me._pagination.length==0)console.error('Unable to found element : "#'+me._paginationSelector+'" !');me.update()};var _scrollToTop=function(){if(me._items.length<=0||!me._scrollTop)return;if(me._scrollTop)$(window).scrollTop(0)};var _changePageActions=function(){onPageChanged({currentPage:me._currentPage});_update();_calculateCursor();_showHideItems();_checkBtnStatus();_scrollToTop()};me.update=function(){setTimeout(_update,100);me.gotoPage(0)};me.gotoPrevious=function(){if(me._currentPage<=0)return;
me._currentPage--;_changePageActions()};me.gotoNext=function(){if(me._currentPage>=me._qtyPages-1)return;me._currentPage++;_changePageActions()};me.setPage=function(param){me.gotoPage(param.p)};me.gotoPage=function(page){if(page>=me._qtyPages||page<0)return;me._currentPage=page;_changePageActions()};me.setScrollTop=function(activate){me._scrollTop=activate};_init(paginationSelector,itemsSelector,pageSize);return me};
var AccountsList=function(htmlSelector,data,selectedAccountIdx,serverDate){var vm={};var _todayDate="";var _SELECTED_ACCOUNTS_ID_="selectedAccountId";var _MAIN_DIV_CLASS="AccountsDropdown";var _DROPDOWN_DIV_ID="AccountsDropdown-content--accountsList";var _ACCOUNTSLIST_DIV_ID="myAccountsList";var _PAGINATION_DIV_ID="paginationAccountsList";var _ACCOUNT_ITEM_CLASS="accountListItem";var _BOOTSTRAP_SELECT_SORT_CLASS="js-Transfer-searchFormItem--order-accountsList";var _SEARCH_INPUT_ID="Transfer-searchFormItem-accountsList";
var _accounts=data;var _callBackFunction=null;var _$selector="";var _$selectorMainDiv="";var _$selectorDropdownDiv="";var _$selectorAccountsItemsList="";var _nbAccountsPerPage=8;var _showSearchForm=false;var _AccountsPagination=null;var _selectedAccountIdx=selectedAccountIdx;var _HIDE_ELEMENT="style\x3d'display:none'";var _DIV_MAIN="\x3cdiv class\x3d'"+_MAIN_DIV_CLASS+"' style\x3d'margin-bottom:-3px'\x3e\x3c/div\x3e";var _DIV_MAIN2="\x3cdiv id\x3d'"+_DROPDOWN_DIV_ID+"' class\x3d'AccountsDropdown-content collapse' aria-expanded\x3d'false'\x3e\x3c/div\x3e";
var _DIV_MAIN3="\x3cdiv id\x3d'"+_ACCOUNTSLIST_DIV_ID+"' class\x3d'accountList'\x3e\x3c/div\x3e";var _TEMPLATE_ACCOUNT_SELECTED=" \t\t\x3cbutton id\x3d'"+_SELECTED_ACCOUNTS_ID_+"' aria-label\x3d'Afficher/Masquer la liste des comptes' class\x3d'AccountsDropdown-selected collapsed __HIDEARROWCSS__' type\x3d'button' data-toggle\x3d'collapse' data-target\x3d'#"+_DROPDOWN_DIV_ID+"'             aria-expanded\x3d'false' aria-controls\x3d'"+_DROPDOWN_DIV_ID+"'\x3e             \x3cli id\x3d'OperationSelectedAccount-weather' class\x3d'accountListItem accountListItem--synthesisAngular accountListItem--noIcon OperationMainAccount js-accountListItem'\x3e \t\t\t\t\x3cdiv class\x3d'OperationMainAccount-header OperationMainAccount-header--synthesisAngular'\x3e                     \x3cdiv class\x3d'OperationMainAccount-headerIcon'\x3e\x3c/div\x3e                   \x3cdiv class\x3d'OperationMainAccount-headerContentDescription'\x3e \t\t\t\t\t\x3cdiv class\x3d'OperationMainAccount-headerDescription accountListItem-description'\x3e       \t\t\t\t\t\x3cdiv class\x3d'accountListItem-descriptionItem OperationMainAccount-headerOwner'\x3e\x3c/div\x3e       \t\t\t\t\t\x3cdiv class\x3d'accountListItem-descriptionItem OperationMainAccount-headerNumber'\x3e\x3c/div\x3e     \t\t\t\t\x3c/div\x3e                     \x3cdiv class\x3d'OperationMainAccount-headerAmount'\x3e                         \x3cdiv class\x3d'OperationMainAccount-headerAmountTitle'\x3eSolde au __TODAYDATE__\x3c/div\x3e                         \x3cdiv class\x3d'OperationMainAccount-headerAmountValue'\x3e\x3c/div\x3e             \t\t\t\x3cdiv class\x3d'OperationMainAccount-headerAmountTitle OperationMainAccount-headerAmountTitle--valueDate'\x3e\x3c/div\x3e                    \x3c/div\x3e                   \x3c/div\x3e   \t\t\t\t\x3c/div\x3e \t\t\t\x3c/li\x3e         \x3c/button\x3e";
var _TEMPLATE_FILTERS="       \x3cform class\x3d'Transfer-searchForm Transfer-searchForm--withoutFilter'\x3e          \x3cdiv class\x3d'Transfer-searchFormItemWrapper Transfer-searchFormItemWrapper--search form-group' __SHOW_HIDE_SEARCHFORM__\x3e             \x3cdiv class\x3d'input-field'\x3e                \x3cinput type\x3d'text'                 id\x3d'"+_SEARCH_INPUT_ID+"'                 name\x3d'"+_SEARCH_INPUT_ID+"'                 class\x3d'form-control Transfer-searchFormItem form-control js-Transfer-searchFormItem--search'                 placeholder\x3d'Rechercher'\x3e                \x3cspan class\x3d'icon npc-magnifer input-field-icon'\x3e\x3c/span\x3e             \x3c/div\x3e          \x3c/div\x3e          \x3cdiv class\x3d'Transfer-searchFormItemWrapper Transfer-searchFormItemWrapper--order form-group bootstrap-select-wrapper js-bootstrap-select-wrapper' __SHOW_HIDE_SEARCHFORM__\x3e \t\t\t\x3clabel for\x3d'Transfer-searchFormItem-3' class\x3d'bootstrap-select-wrapperLabel'\x3eTrier par\x3c/label\x3e \t\t\t\x3cselect id\x3d'Transfer-searchFormItem-3'                 name\x3d'Transfer-searchFormItem-3' \t\t\t\tclass\x3d'Transfer-searchFormItem selectpicker show-menu-arrow bootstrap-select--default "+
_BOOTSTRAP_SELECT_SORT_CLASS+"'\x3e                 \x3coption value\x3d'libelleCompte'\x3eLibell\u00e9\x3c/option\x3e \t\t\t\t\x3coption value\x3d'solde'\x3eSolde\x3c/option\x3e \t\t\t\x3c/select\x3e \t\t\x3c/div\x3e       \x3c/form\x3e";var _TEMPLATE_ACCOUNT_ITEM=" \t\t\x3ca id\x3d'account-item-__NUMEROCOMPTE__' data-index\x3d'__ACCOUNTINDEX__' href\x3d'javascript:void(0)' class\x3d'accountListItem js-accountListItem js-accountListSyntheseN3 __WEATHERCSS__'\x3e \t\t\t\t\x3cdiv class\x3d'accountListItem-main'\x3e \t\t\t\t   \x3cdiv class\x3d'accountListItem-icon'\x3e\x3c/div\x3e \t\t\t\t   \x3cdiv class\x3d'accountListItem-description'\x3e \t\t\t\t\t  \x3cdiv class\x3d'accountListItem-descriptionItem accountListItem-descriptionItem--owner SynthesisAccount-descriptionItem'\x3e \t\t\t\t\t  __LIBELLECOMPTE__ \t\t\t\t\t  \x3c/div\x3e \t\t\t\t\t  \x3cdiv class\x3d'accountListItem-descriptionItem accountListItem-descriptionItem--number'\x3e \t\t\t\t\t\t \x3cstrong\x3e__LIBELLEPRODUIT__\x3c/strong\x3e \t\t\t\t\t\t \x3cspan\x3en\u00b0 __NUMEROCOMPTE__\x3c/span\x3e \t\t\t\t\t  \x3c/div\x3e \t\t\t\t   \x3c/div\x3e                    \x3cdiv class\x3d'accountListItem-value __SOLDECSS__' aria-label \x3d'__ARIALABEL__'\x3e__SOLDE__\x3c/div\x3e \t\t\t\t\x3c/div\x3e \t\t\t \x3c/a\x3e";
var _TEMPLATE_PAGINATION="\x3cdiv id\x3d'"+_PAGINATION_DIV_ID+"'\x3e\x3c/div\x3e";vm.setSelectedAccountIdx=function(accountSelectedIndex){if(accountSelectedIndex!==undefined&&accountSelectedIndex!==-1){var accountSelected=_accounts[accountSelectedIndex];_resetSelectedAccount();accountSelected.selected=true;_drawAccountsList()}};vm.search=function(search){if(search!==""){var searchUpperCase=search.toUpperCase();_resetHiddenAccount();var accountsLength=_accounts.length;var accountsToHide=0;_accounts.forEach(function(account){if(account.searchField.indexOf(searchUpperCase)===
-1){account.hidden=true;accountsToHide++}});if(accountsToHide===accountsLength)_drawNoItems();else _drawAccountsList()}else{_resetHiddenAccount();_drawAccountsList()}};vm.sort=function(criteria){if(criteria==="solde")_accounts.sort(function(account1,account2){return account2[criteria]-account1[criteria]});else _accounts.sort(function(account1,account2){return account1[criteria].localeCompare(account2[criteria])});_drawAccountsList()};vm.setNbElementsPerPage=function(nbEltsPerPage){if(!isNaN(parseInt(nbEltsPerPage))){_nbAccountsPerPage=
nbEltsPerPage;_AccountsPagination._pageSize=_nbAccountsPerPage;_drawAccountsList()}};vm.setCallBackOnAccountClick=function(cbFunction){if(typeof cbFunction==="function")_callBackFunction=cbFunction;else console.error("[AccountsList][setCallBack] not passing a function")};var _init=function(){_DIV_MAIN="\x3cdiv class\x3d'"+_MAIN_DIV_CLASS+" AccountsDropdown--mainSynthesis' style\x3d'margin-bottom:-3px'\x3e\x3c/div\x3e";_$selector=$(htmlSelector);if(_$selector[0]===undefined){console.error("[AccountsList] selector not found",
htmlSelector,": abort rendering.");return}if(_accounts===undefined){console.error("[AccountsList] no accounts to process : abort rendering.");return}_showSearchForm=_accounts.length>_nbAccountsPerPage;_initTodayDate(serverDate);_buildComponent();_accounts.forEach(function(account,index){account.searchField=account.libelleCompte+"|"+account.libelleProduit+"|"+account.numeroCompte+"|"+account.soldeFormatted;account.searchField=account.searchField.toUpperCase();account.hidden=false;account.selected=
index===selectedAccountIdx});_displayDataFromSelectedAccount(_selectedAccountIdx);_drawAccountsList()};var _buildComponent=function(){_$selector.append(_DIV_MAIN);_$selectorMainDiv=$("."+_MAIN_DIV_CLASS);var _arrowDisplayCss=_accounts!==undefined&&_accounts.length===1?"disabled":"";_TEMPLATE_ACCOUNT_SELECTED=_TEMPLATE_ACCOUNT_SELECTED.replace("__HIDEARROWCSS__",_arrowDisplayCss);_TEMPLATE_ACCOUNT_SELECTED=_TEMPLATE_ACCOUNT_SELECTED.replace("__TODAYDATE__",_todayDate);_$selectorMainDiv.append(_TEMPLATE_ACCOUNT_SELECTED);
if(_accounts!==undefined&&_accounts.length>1)_$selector.append(_DIV_MAIN2);_$selectorDropdownDiv=$("#"+_DROPDOWN_DIV_ID);var _SHOW_HIDE_SEARCHFORM=_showSearchForm?"":_HIDE_ELEMENT;_TEMPLATE_FILTERS=_TEMPLATE_FILTERS.replace(/__SHOW_HIDE_SEARCHFORM__/g,_SHOW_HIDE_SEARCHFORM);_$selectorDropdownDiv.append(_TEMPLATE_FILTERS);_$selectorDropdownDiv.append(_DIV_MAIN3);_$selectorAccountsItemsList=$("#"+_ACCOUNTSLIST_DIV_ID);$("#"+_SEARCH_INPUT_ID).on("keyup",function(e){var search=$(this).val();vm.search(search)});
$("."+_BOOTSTRAP_SELECT_SORT_CLASS).on("change",function(e){var criteria=e.target.value;vm.sort(criteria)})};var _drawAccountsList=function(){if(_accounts!==undefined){_deleteElementsFromDOM();_$selectorAccountsItemsList.css("background","");_accounts.forEach(function(currentAccount){if(!currentAccount.hidden&&!currentAccount.selected){var templateFilledWithAccountData=_fillAccountItemTemplateBeforeRender(currentAccount);if(templateFilledWithAccountData!==""){_$selectorAccountsItemsList.append(templateFilledWithAccountData);
$("#account-item-"+currentAccount.numeroCompte).on("click",_selectAccountItem)}}});_drawPagination()}};var _selectAccountItem=function(){var $htmlElement=$(this);var accountIdx=$htmlElement.data("index");_displayDataFromSelectedAccount(accountIdx);if(_callBackFunction!==null)_callBackFunction(accountIdx);$("#"+_DROPDOWN_DIV_ID).collapse("hide");_drawAccountsList();changementUrl(accountIdx)};var changementUrl=function(accountIndex){var adresseCourante=window.location;var pathname=window.location.pathname;
var attributs=window.location.search.substr(6);window.history.pushState({url:""+pathname+""},"changementUrl",pathname+"?idx\x3d"+accountIndex+attributs)};var _cleanAllDomOccurences=function(jquerySelector){var items=$(jquerySelector);items.remove()};var _displayDataFromSelectedAccount=function(accountIndex){if(!isNaN(parseInt(accountIndex))){var accountSelected=_accounts.find(function(account){return account.indexCompte==accountIndex});_resetSelectedAccount();accountSelected.selected=true;if(accountSelected!==
undefined){$("#OperationSelectedAccount-weather").removeClass("OperationMainAccount--sun OperationMainAccount--umbrella OperationMainAccount--rain").addClass(accountSelected.pictoMeteoBig);var libelleCompte=accountSelected.libelleCompte;if(accountSelected.libelleRolePartenaire!==undefined&&accountSelected.libelleRolePartenaire!=="")libelleCompte+="\x3ci\x3e- "+accountSelected.libelleRolePartenaire+"\x3c/i\x3e";$(".OperationMainAccount-headerOwner").html(libelleCompte);$(".OperationMainAccount-headerNumber").html("\x3cstrong\x3e"+
accountSelected.libelleProduit+"\x3c/strong\x3e N\u00b0 "+accountSelected.numeroCompte);var headerAmountValue=$(".OperationMainAccount-headerAmountValue");headerAmountValue.html(accountSelected.soldeFormatted.replace(/ /g,"\x26nbsp;"));headerAmountValue.attr("aria-label",(accountSelected.solde>0?""+accountSelected.solde:"moins "+(0-accountSelected.solde))+" "+accountSelected.libelleDevise);headerAmountValue.removeClass("accountListItem-value--negative accountListItem-value--positive").addClass(accountSelected.soldeCss);
var accountSelectBtn=$("#"+_SELECTED_ACCOUNTS_ID_);accountSelectBtn.removeClass("AccountsDropdown-selected--withServices");_cleanAllDomOccurences(".accountListItem-servicesItem");if(accountSelected.formulesNBAQ.length>0){$("#"+_SELECTED_ACCOUNTS_ID_).addClass("AccountsDropdown-selected--withServices");var headerDescription=$(".OperationMainAccount-headerDescription");for(var index in accountSelected.formulesNBAQ)headerDescription.append('\x3cdiv class\x3d"accountListItem-servicesItem"\x3e'+accountSelected.formulesNBAQ[index]+
"\x3c/div\x3e")}if(NPC.synthese.n3.proEnt)if(accountSelected.uniquementDateOperation)$(".OperationMainAccount-headerAmountTitle--valueDate").html("Uniquement en date d'op\u00e9ration");else $(".OperationMainAccount-headerAmountTitle--valueDate").html("Solde en valeur : \x3cspan\x3e"+NPC.formatCurrency(accountSelected.soldeEnDateValeur,accountSelected.libelleDevise)+"\x3c/span\x3e")}}};var _drawNoItems=function(){_deleteElementsFromDOM();_$selectorAccountsItemsList.append("\x3cspan id\x3d'noAccountsFound'\x3eAucun compte n'a \u00e9t\u00e9 trouv\u00e9\x3c/span\x3e");
_$selectorAccountsItemsList.css("background","#f5f5f5");_drawPagination()};var _drawPagination=function(){if(_AccountsPagination===null){if(_accounts.length-1>_nbAccountsPerPage){_$selectorDropdownDiv.append(_TEMPLATE_PAGINATION);var accountItemSelector="."+_ACCOUNT_ITEM_CLASS;_AccountsPagination=new SimplePagination(_PAGINATION_DIV_ID,accountItemSelector,_nbAccountsPerPage)}}else _AccountsPagination.update()};var _fillAccountItemTemplateBeforeRender=function(account){if(account!==undefined){var accountTemplate=
_TEMPLATE_ACCOUNT_ITEM;accountTemplate=accountTemplate.replace(/__ACCOUNTINDEX__/g,account.indexCompte);accountTemplate=accountTemplate.replace(/__NUMEROCOMPTE__/g,account.numeroCompte);accountTemplate=accountTemplate.replace("__WEATHERCSS__",account.pictoMeteoSmall);var libelleCompte=account.libelleCompte;if(account.libelleRolePartenaire!==undefined&&account.libelleRolePartenaire!=="")libelleCompte+="\x3ci\x3e- "+account.libelleRolePartenaire+"\x3c/i\x3e";accountTemplate=accountTemplate.replace("__LIBELLECOMPTE__",
libelleCompte);accountTemplate=accountTemplate.replace("__LIBELLEPRODUIT__",account.libelleProduit);accountTemplate=accountTemplate.replace("__SOLDECSS__",account.soldeCss);accountTemplate=accountTemplate.replace("__SOLDE__",account.soldeFormatted);accountTemplate=accountTemplate.replace("__ARIALABEL__",(account.solde>0?""+account.solde:"moins "+(0-account.solde))+" "+account.libelleDevise);return accountTemplate}return""};var _resetSelectedAccount=function(){if(_accounts!==undefined)_accounts.forEach(function(account){account.selected=
false})};var _resetHiddenAccount=function(){if(_accounts!==undefined)_accounts.forEach(function(account){account.hidden=false})};var _nbAccountsToDisplay=function(){var cpt=0;if(_accounts!==undefined)_accounts.forEach(function(account){if(!account.hidden&&!account.selected)cpt++});return cpt};var _deleteElementsFromDOM=function(){_$selectorAccountsItemsList.find("."+_ACCOUNT_ITEM_CLASS).each(function(){$(this).remove()});$("span#noAccountsFound").remove()};var _initTodayDate=function(serverDate){var day,
month;if(serverDate!=undefined){day=serverDate.getDate();month=serverDate.getMonth()+1}else{var todayDate=(new Date).toLocaleDateString();var todayDateSplit=todayDate.split("/");day=todayDateSplit[1];month=todayDateSplit[0]}if(day<10)day="0"+day;if(month<10)month="0"+month;_todayDate=day+"/"+month};_init();return vm};
(function(){NPC.Utils={};NPC.Utils.searchItemIndexByAttributes=function(items,item,useItemsProperties,strictMode){if(!Array.isArray(items))return-1;if(strictMode===undefined)strictMode=false;var result=-1;var cpt=-1;items.forEach(function(it){cpt++;var properties=useItemsProperties?it:item;for(var propertyName in properties){if(strictMode&&it[propertyName]!==item[propertyName])return true;if(!strictMode&&it[propertyName]!=item[propertyName])return true}result=cpt;return false});return result};NPC.Utils.excludeFromArray=
function(items,excludedItems,useItemsProperties){if(!Array.isArray(items))return[];var result=[];items.forEach(function(item){var found=NPC.Utils.searchItemIndexByAttributes(excludedItems,item,!useItemsProperties);if(found==-1)result.push(item)});return result};NPC.Utils.isDateValid_ddMMYYYY=function(stringDate){var _isValid=false;if(stringDate!==undefined&&stringDate!==""){var dateRegex=RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/);_isValid=dateRegex.test(stringDate);if(_isValid){var dateParts=stringDate.split("/");
var dateUS=dateParts[1]+"/"+dateParts[0]+"/"+dateParts[2];var d=new Date(dateUS);_isValid=d!="Invalid Date"}return _isValid}};NPC.Utils.initWithBigTabIndex=function(selector,bigTabindex){var elements=$(selector+":not([tabindex])");for(var i=0;i<elements.length;i++){var $el=$(elements[i]);$el.attr("tabindex",bigTabindex)}};NPC.Utils.getUrlPageName=function(){var uri=window.location.pathname;var lastSlashIndex=uri.lastIndexOf("/");var nextPointIndex=uri.indexOf(".",lastSlashIndex);return uri.substr(lastSlashIndex+
1,nextPointIndex-lastSlashIndex-1)};NPC.Utils.dateDiff=function(date1,date2){var diff={};var tmp=date2-date1;tmp=Math.floor(tmp/1E3);diff.sec=tmp%60;tmp=Math.floor((tmp-diff.sec)/60);diff.min=tmp%60;tmp=Math.floor((tmp-diff.min)/60);diff.hour=tmp%24;tmp=Math.floor((tmp-diff.hour)/24);diff.day=tmp;return diff}})();var NPC=NPC||{};var tC=tC||{};
function initNpcTracking(){NPC.FUNCTIONS={};NPC.FUNCTIONS.TRACKING={};NPC.FUNCTIONS.TRACKING.addEventTrackingGen=function(element,eventJqueryType){eventJqueryType=eventJqueryType===undefined?"click":eventJqueryType;$(element).on(eventJqueryType,function(){var argTraking=this.getAttribute("data-trackingclass-npc-args");NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,JSON.parse(argTraking))})};NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingGen=function(element){$(element).on("keydown",function(event){if(event.keyCode===
13){var argTraking=this.getAttribute("data-trackingclass-npc-args");NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,JSON.parse(argTraking))}})};NPC.FUNCTIONS.TRACKING.addEventTracking=function(element,argTraking,eventJqueryType){eventJqueryType=eventJqueryType===undefined?"click":eventJqueryType;$(element).on(eventJqueryType,function(){NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,argTraking)})};NPC.FUNCTIONS.TRACKING.addEventKeybordTracking=function(element,argTraking){$(element).on("keydown",
function(event){if(event.keyCode===13)NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,argTraking)})};NPC.FUNCTIONS.TRACKING.addEventTrackingCustomBV=function(element,argTraking,eventJqueryType){eventJqueryType=eventJqueryType===undefined?"click":eventJqueryType;$(element).on(eventJqueryType,function(){if(NPC.BV!==null&&NPC.BV!==undefined)argTraking.evenement_oic_objet_demande=NPC.BV._BV_THEME&&Object.keys(NPC.BV._BV_THEME).length>0?NPC.BV._BV_THEME.label.toUpperCase():null;NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,
argTraking)})};NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingCustomBV=function(element,argTraking){$(element).on("keydown",function(event){if(event.keyCode===13){if(NPC.BV!==null&&NPC.BV!==undefined)argTraking.evenement_oic_objet_demande=NPC.BV._BV_THEME&&Object.keys(NPC.BV._BV_THEME).length>0?NPC.BV._BV_THEME.label.toUpperCase():null;NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent(this,argTraking)}})};NPC.FUNCTIONS.TRACKING.refreshTracking=function(){var trakingNpcClass="data-trackingclass-npc";var querySelector=
"["+trakingNpcClass+"]:not(["+trakingNpcClass+"-set])";$(querySelector).each(function(){var trakingValue=$(this).attr(trakingNpcClass);var TRACKING_GEN=["MMC-niveau1","MMC-niveau2","MMC-offre","MMenu-niveau1","MMenu-niveau2","MMenu-niveau3","oic_push_com","lanc_fct_menu_connecte","MCO_contact","MCO_faq","MCO_rdv","MCO_msg","MCO_contact_responsive","oic_contact_sur_parcours","oic_trouver_ma_CR","oic_push_outils","oic_num_urgence_v2","composant-offre-comparateur-decouvrir-epargne","encours_carte_dd_sn0",
"encours_carte_dd_sn1","composant-offre-comparateur","hub-docu-sn0","hub-docu-sn1","sim-acc-rapid"];var BVTHEMATIC_LIST=["oic_connexion_client","oic_fermer","oic_reclamation","oic_trouver_une_agence","oic_moyen_prise_de_rdv","oic_moyen_prise_de_rdv_validation","oic_moyen_email","oic_moyen_email_validation","oic_moyen_rappel","oic_moyen_rappel_validation","oic_moyen_tchat","oic_moyen_prise_de_rdv_client","oic_moyen_email_MS"];var URGENCEBV_LIST=["oic_urgence_national","oic_urgence_caisse"];if(TRACKING_GEN.includes(trakingValue)){NPC.FUNCTIONS.TRACKING.addEventTrackingGen(this);
NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingGen(this)}else if(BVTHEMATIC_LIST.includes(trakingValue)){NPC.FUNCTIONS.TRACKING.addEventTrackingCustomBV(this,{evt_action_libelle:trakingValue,evenement_categorie:"Prise-de-contact"});NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingCustomBV(this,{evt_action_libelle:trakingValue,evenement_categorie:"Prise-de-contact"})}else if(URGENCEBV_LIST.includes(trakingValue))if(trakingValue==="oic_urgence_national"){NPC.FUNCTIONS.TRACKING.addEventTracking(this,{evt_action_libelle:"oic_urgence",
evenement_categorie:"Prise-de-contact"});NPC.FUNCTIONS.TRACKING.addEventKeybordTracking(this,{evt_action_libelle:"oic_urgence",evenement_categorie:"Prise-de-contact"})}else{NPC.FUNCTIONS.TRACKING.addEventTrackingCustomBV(this,{evt_action_libelle:"oic_urgence",evenement_categorie:"Prise-de-contact"});NPC.FUNCTIONS.TRACKING.addEventKeybordTrackingCustomBV(this,{evt_action_libelle:"oic_urgence",evenement_categorie:"Prise-de-contact"})}});$(querySelector).attr("data-trackingclass-npc-set",true)};NPC.FUNCTIONS.TRACKING.eventPageVirtuelle=
function(element,argTraking){try{tC.event.pageVirtuelle(element,argTraking)}catch(e){console.error("Erreur lors du tracking")}};NPC.FUNCTIONS.TRACKING.addTrackingWithoutEvent=function(element,argTraking){try{tC.event.actionUtilisateur(element,argTraking)}catch(e){console.error("Erreur lors du tracking")}};NPC.FUNCTIONS.TRACKING.eventBanniere=function(element,argTraking){try{tC.event.banniere(element,argTraking)}catch(e){console.error("Erreur lors du tracking")}};NPC.FUNCTIONS.TRACKING.addTrackingScroll=
function(nodeSelector,callback){$(window).scroll(function(){var targetNodes=$(nodeSelector);targetNodes.each(function(){if(NPC.elementScrolled($(this))){var trackedAlready=this.getAttribute("tracked");if(trackedAlready!=="true"){$(this).attr("tracked",true);callback(this)}}})})}}initNpcTracking();NPC.FUNCTIONS.TRACKING.refreshTracking();
var debounce=function(mainFunction,delay){var timer;return function(args){var $jscomp$restParams=[];for(var $jscomp$restIndex=0;$jscomp$restIndex<arguments.length;++$jscomp$restIndex)$jscomp$restParams[$jscomp$restIndex-0]=arguments[$jscomp$restIndex];{var args$0=$jscomp$restParams;clearTimeout(timer);timer=setTimeout(function(){mainFunction.apply(null,$jscomp.arrayFromIterable(args$0))},delay)}}};var ready4Tracking=debounce(NPC.FUNCTIONS.TRACKING.refreshTracking,500);var NPC=NPC||{};
var isConnnecteEnPublish=NPC.user&&NPC.user.isConnected&&!NPC.isAuthor;
$(function(){if(!NPC.listenerConnecte&&isConnnecteEnPublish){NPC.listenerConnecte={};NPC.listenerConnecte.iframe=null;NPC.listenerConnecte.locked=false;NPC.listenerConnecte.addListener=function(){window.addEventListener("message",NPC.listenerConnecte.traiterEvenement,false)};NPC.listenerConnecte.traiterEvenement=function(event){var dataRetrieved=event.data;if(NPC.IsJsonString(event.data))dataRetrieved=JSON.parse(event.data);if(dataRetrieved.message_type==="functional_event")switch(dataRetrieved.event_id){case "lancer_parcours_arriere_plan":if(!NPC.listenerConnecte.locked){NPC.listenerConnecte.locked=
true;setTimeout(function(){NPC.listenerConnecte.locked=false},5E3);NPC.listenerConnecte.lancerParcoursArrierePlan(dataRetrieved.data.content.site)}break;default:break}};NPC.listenerConnecte.lancerParcoursArrierePlan=function(site){if(NPC.listenerConnecte.iframe){NPC.listenerConnecte.iframe.remove();NPC.listenerConnecte.iframe=null}$.get(NPC.genererURLJson("ihml.mappingIdParcoursURL"),{idParcours:site,idContexteNavigation:null,navContext:null,uuidContextNavigationSession:null},function(data){NPC.listenerConnecte.iframe=
document.createElement("iframe");NPC.listenerConnecte.iframe.src=data;NPC.listenerConnecte.iframe.style.display="none";document.body.appendChild(NPC.listenerConnecte.iframe)}).fail(function(data){console.error("Erreur de redirection vers le parcours IHM Light : "+data.status)})};NPC.listenerConnecte.transmettreContextIdAuParcours=function(siteId,ctxId){window.postMessage(JSON.stringify({"version":"1","message_type":"functional_event","event_id":"parcours_context_id","data":{"version":"001","content":{"site":siteId,
"context_id":ctxId}}}),"/");NPC.listenerConnecte.iframe.remove();NPC.listenerConnecte.locked=false};NPC.listenerConnecte.transmettreErreurDuParcours=function(siteId,errorCode,errorDescription){window.postMessage(JSON.stringify({"version":"1","message_type":"functional_event","event_id":"lancement_parcours_error","data":{"version":"001","content":{"site":siteId,"error_code":errorCode,"error_description":errorDescription}}}),"/");NPC.listenerConnecte.locked=false};NPC.listenerConnecte.transmettreErreurAuParcours=
function(iframeId,siteId,errorCode,errorText){if($("#"+iframeId).length==1){var iframeIhml=$("#"+iframeId)[0];iframeIhml.contentWindow.postMessage(JSON.stringify({"version":"1","message_type":"functional_event","event_id":"lancement_parcours_error","data":{"version":"001","content":{"site":siteId,"error_code":errorCode,"error_description":errorText}}}),"/");NPC.listenerConnecte.locked=false}};NPC.listenerConnecte.addListener()}});var NPC=NPC||{};NPC.FUNCTIONS=NPC.FUNCTIONS||{};
NPC.FUNCTIONS.initVignetteClickable=function(selector){$(selector).on("click",function(){window.location=$(this).find("a").attr("href");return false})};NPC.FUNCTIONS.initVignetteClickableTriggerClick=function(selector){$(selector).on("click",function(event){if(event.target.tagName===event.currentTarget.tagName)$(this).find("a").trigger("click");else{window.location=$(this).find("a").attr("href");return false}})};$(document).ready(function(){NPC.FUNCTIONS.initVignetteClickable(".npc--vignette--clickable")});
</script>

</body>
</html>
