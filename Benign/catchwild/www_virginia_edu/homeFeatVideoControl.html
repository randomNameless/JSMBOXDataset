<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>homeFeatVideoControl.html</title>
</head>
<body>

<script>
(function ($) {
  'use strict';

  /**
  * Main functionality should be in an 'init' function
  */
  var homeFeatVideoControlInit = function () {
    var $container = $('.bean-full-grid-promo', '.block--bean-explore-the-uva-student-experien');
    var $containerVideo = $container.find('video');
    var $video = $containerVideo[0];
    var $videoPauseBtn = $('.se-btn-pause', $container);

    $videoPauseBtn.on('click', pauseAmbientVideo);

    function pauseAmbientVideo() {
      if ($videoPauseBtn.hasClass('paused')) {
        $videoPauseBtn.removeClass('paused').focus();
        $videoPauseBtn.attr('aria-label', 'Pause Video');
        $video.play();
      }
      else {
        $videoPauseBtn.addClass('paused').focus();
        $videoPauseBtn.attr('aria-label', 'Play Video');
        $video.pause();
      }
    }
  };

  /**
  * This is boilerplate: add a behavior to window.DP.behaviors
  */
  Drupal.behaviors.statsVideoControl = {
    attach: function () {
      $('body').find('.block--bean-explore-the-uva-student-experien').once('homeFeatVideoControl').each(function () {
        homeFeatVideoControlInit.apply(this);
      });
    }
  };
})(jQuery);

</script>

</body>
</html>
