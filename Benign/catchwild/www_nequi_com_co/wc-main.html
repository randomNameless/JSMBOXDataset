<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wc-main.html</title>
</head>
<body>

<script>
function Ae(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,i=Array(e);t<e;t++)i[t]=s[t];return i}function Se(s,e,t,i,r,n,o){try{var a=s[n](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function A(s,e){var t=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!t){if(Array.isArray(s)||(t=De(s))||e){t&&(s=t);var i=0,r=function(){};return{s:r,n:function(){return i>=s.length?{done:!0}:{done:!1,value:s[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,o=!0,a=!1;return{s:function(){t=t.call(s)},n:function(){var l=t.next();return o=l.done,l},e:function(l){a=!0,n=l},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw n}}}}function Ye(s,e,t){return(e=function(i){var r=function(n,o){if(typeof n!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var l=a.call(n,o||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}(i,"string");return typeof r=="symbol"?r:r+""}(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function Ce(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),t.push.apply(t,i)}return t}function ee(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ce(Object(t),!0).forEach(function(i){Ye(s,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):Ce(Object(t)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(t,i))})}return s}function D(s,e){return function(t){if(Array.isArray(t))return t}(s)||function(t,i){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,o,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,i!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==i);d=!0);}catch(v){h=!0,o=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}(s,e)||De(s,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function De(s,e){if(s){if(typeof s=="string")return Ae(s,e);var t={}.toString.call(s).slice(8,-1);return t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set"?Array.from(s):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ae(s,e):void 0}}const X=globalThis,ge=X.ShadowRoot&&(X.ShadyCSS===void 0||X.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,fe=Symbol(),xe=new WeakMap;let We=class{constructor(s,e,t){if(this._$cssResult$=!0,t!==fe)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=s,this.t=e}get styleSheet(){let s=this.o;const e=this.t;if(ge&&s===void 0){const t=e!==void 0&&e.length===1;t&&(s=xe.get(e)),s===void 0&&((this.o=s=new CSSStyleSheet).replaceSync(this.cssText),t&&xe.set(e,s))}return s}toString(){return this.cssText}};const Ee=ge?s=>s:s=>s instanceof CSSStyleSheet?(e=>{let t="";var i,r=A(e.cssRules);try{for(r.s();!(i=r.n()).done;)t+=i.value.cssText}catch(n){r.e(n)}finally{r.f()}return(n=>new We(typeof n=="string"?n:n+"",void 0,fe))(t)})(s):s;var ke,Pe,ne;const Xe=Object.is,et=Object.defineProperty,tt=Object.getOwnPropertyDescriptor,st=Object.getOwnPropertyNames,it=Object.getOwnPropertySymbols,rt=Object.getPrototypeOf,j=globalThis,Te=j.trustedTypes,nt=Te?Te.emptyScript:"",Me=j.reactiveElementPolyfillSupport,W=(s,e)=>s,te={toAttribute(s,e){switch(e){case Boolean:s=s?nt:null;break;case Object:case Array:s=s==null?s:JSON.stringify(s)}return s},fromAttribute(s,e){let t=s;switch(e){case Boolean:t=s!==null;break;case Number:t=s===null?null:Number(s);break;case Object:case Array:try{t=JSON.parse(s)}catch{t=null}}return t}},_e=(s,e)=>!Xe(s,e),Oe={attribute:!0,type:String,converter:te,reflect:!1,hasChanged:_e};(ke=Symbol.metadata)!==null&&ke!==void 0||(Symbol.metadata=Symbol("metadata")),(Pe=j.litPropertyMetadata)!==null&&Pe!==void 0||(j.litPropertyMetadata=new WeakMap);class B extends HTMLElement{static addInitializer(e){var t;this._$Ei(),((t=this.l)!==null&&t!==void 0?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Oe){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(e,i,t);r!==void 0&&et(this.prototype,e,r)}}static getPropertyDescriptor(e,t,i){var r;const n=(r=tt(this.prototype,e))!==null&&r!==void 0?r:{get(){return this[t]},set(l){this[t]=l}},o=n.get,a=n.set;return{get(){return o==null?void 0:o.call(this)},set(l){const c=o==null?void 0:o.call(this);a.call(this,l),this.requestUpdate(e,c,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return(t=this.elementProperties.get(e))!==null&&t!==void 0?t:Oe}static _$Ei(){if(this.hasOwnProperty(W("elementProperties")))return;const e=rt(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(W("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(W("properties"))){const l=this.properties;for(var e=0,t=[...st(l),...it(l)];e<t.length;e++){const c=t[e];this.createProperty(c,l[c])}}const i=this[Symbol.metadata];if(i!==null){const l=litPropertyMetadata.get(i);if(l!==void 0){var r,n=A(l);try{for(n.s();!(r=n.n()).done;){const c=D(r.value,2),d=c[0],h=c[1];this.elementProperties.set(d,h)}}catch(c){n.e(c)}finally{n.f()}}}this._$Eh=new Map;var o,a=A(this.elementProperties);try{for(a.s();!(o=a.n()).done;){const l=D(o.value,2),c=l[0],d=l[1],h=this._$Eu(c,d);h!==void 0&&this._$Eh.set(h,c)}}catch(l){a.e(l)}finally{a.f()}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){var i,r=A(new Set(e.flat(1/0).reverse()));try{for(r.s();!(i=r.n()).done;){const n=i.value;t.unshift(Ee(n))}}catch(n){r.e(n)}finally{r.f()}}else e!==void 0&&t.push(Ee(e));return t}static _$Eu(e,t){const i=t.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,i;((t=this._$EO)!==null&&t!==void 0?t:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)===null||i===void 0||i.call(e))}removeController(e){var t;(t=this._$EO)===null||t===void 0||t.delete(e)}_$E_(){const e=new Map;var t,i=A(this.constructor.elementProperties.keys());try{for(i.s();!(t=i.n()).done;){const r=t.value;this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r])}}catch(r){i.e(r)}finally{i.f()}e.size>0&&(this._$Ep=e)}createRenderRoot(){var e;const t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return((i,r)=>{if(ge)i.adoptedStyleSheets=r.map(a=>a instanceof CSSStyleSheet?a:a.styleSheet);else{var n,o=A(r);try{for(o.s();!(n=o.n()).done;){const a=n.value,l=document.createElement("style"),c=X.litNonce;c!==void 0&&l.setAttribute("nonce",c),l.textContent=a.cssText,i.appendChild(l)}}catch(a){o.e(a)}finally{o.f()}}})(t,this.constructor.elementStyles),t}connectedCallback(){var e,t;(e=this.renderRoot)!==null&&e!==void 0||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)===null||t===void 0||t.forEach(i=>{var r;return(r=i.hostConnected)===null||r===void 0?void 0:r.call(i)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)===null||e===void 0||e.forEach(t=>{var i;return(i=t.hostDisconnected)===null||i===void 0?void 0:i.call(t)})}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EC(e,t){const i=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,i);if(r!==void 0&&i.reflect===!0){var n;const o=(((n=i.converter)===null||n===void 0?void 0:n.toAttribute)!==void 0?i.converter:te).toAttribute(t,i.type);this._$Em=e,o==null?this.removeAttribute(r):this.setAttribute(r,o),this._$Em=null}}_$AK(e,t){const i=this.constructor,r=i._$Eh.get(e);if(r!==void 0&&this._$Em!==r){var n;const o=i.getPropertyOptions(r),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?o.converter:te;this._$Em=r,this[r]=a.fromAttribute(t,o.type),this._$Em=null}}requestUpdate(e,t,i){if(e!==void 0){var r,n;if((r=i)!==null&&r!==void 0||(i=this.constructor.getPropertyOptions(e)),!((n=i.hasChanged)!==null&&n!==void 0?n:_e)(this[e],t))return;this.P(e,t,i)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,t,i){var r;this._$AL.has(e)||this._$AL.set(e,t),i.reflect===!0&&this._$Em!==e&&((r=this._$Ej)!==null&&r!==void 0?r:this._$Ej=new Set).add(e)}_$ET(){var e=this;return function(t){return function(){var i=this,r=arguments;return new Promise(function(n,o){var a=t.apply(i,r);function l(d){Se(a,n,o,l,c,"next",d)}function c(d){Se(a,n,o,l,c,"throw",d)}l(void 0)})}}(function*(){e.isUpdatePending=!0;try{yield e._$ES}catch(i){Promise.reject(i)}const t=e.scheduleUpdate();return t!=null&&(yield t),!e.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){var e;if((e=this.renderRoot)!==null&&e!==void 0||(this.renderRoot=this.createRenderRoot()),this._$Ep){var t,i=A(this._$Ep);try{for(i.s();!(t=i.n()).done;){const d=D(t.value,2),h=d[0],v=d[1];this[h]=v}}catch(d){i.e(d)}finally{i.f()}this._$Ep=void 0}const c=this.constructor.elementProperties;if(c.size>0){var r,n=A(c);try{for(n.s();!(r=n.n()).done;){const d=D(r.value,2),h=d[0],v=d[1];v.wrapped!==!0||this._$AL.has(h)||this[h]===void 0||this.P(h,this[h],v)}}catch(d){n.e(d)}finally{n.f()}}}let o=!1;const a=this._$AL;try{var l;o=this.shouldUpdate(a),o?(this.willUpdate(a),(l=this._$EO)!==null&&l!==void 0&&l.forEach(c=>{var d;return(d=c.hostUpdate)===null||d===void 0?void 0:d.call(c)}),this.update(a)):this._$EU()}catch(c){throw o=!1,this._$EU(),c}o&&this._$AE(a)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)!==null&&t!==void 0&&t.forEach(i=>{var r;return(r=i.hostUpdated)===null||r===void 0?void 0:r.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(e){}firstUpdated(e){}}var oe;B.elementStyles=[],B.shadowRootOptions={mode:"open"},B[W("elementProperties")]=new Map,B[W("finalized")]=new Map,Me!=null&&Me({ReactiveElement:B}),((ne=j.reactiveElementVersions)!==null&&ne!==void 0?ne:j.reactiveElementVersions=[]).push("2.0.4");const se=globalThis,ie=se.trustedTypes,Ne=ie?ie.createPolicy("lit-html",{createHTML:s=>s}):void 0,Ve="$lit$",T=`lit$${Math.random().toFixed(9).slice(2)}$`,Qe="?"+T,ot=`<${Qe}>`,I=document,Q=()=>I.createComment(""),G=s=>s===null||typeof s!="object"&&typeof s!="function",be=Array.isArray,at=s=>be(s)||typeof(s==null?void 0:s[Symbol.iterator])=="function",ae=`[ 	
\f\r]`,L=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ze=/-->/g,Ie=/>/g,M=RegExp(`>|${ae}(?:([^\\s"'>=/]+)(${ae}*=${ae}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ue=/'/g,Be=/"/g,Ge=/^(?:script|style|textarea|title)$/i,w=(s=>(e,...t)=>({_$litType$:s,strings:e,values:t}))(1),E=Symbol.for("lit-noChange"),g=Symbol.for("lit-nothing"),je=new WeakMap,z=I.createTreeWalker(I,129);function Je(s,e){if(!be(s)||!s.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ne!==void 0?Ne.createHTML(e):e}const lt=(s,e)=>{const t=s.length-1,i=[];let r,n=e===2?"<svg>":e===3?"<math>":"",o=L;for(let l=0;l<t;l++){const c=s[l];let d,h,v=-1,p=0;for(;p<c.length&&(o.lastIndex=p,h=o.exec(c),h!==null);){var a;p=o.lastIndex,o===L?h[1]==="!--"?o=ze:h[1]!==void 0?o=Ie:h[2]!==void 0?(Ge.test(h[2])&&(r=RegExp("</"+h[2],"g")),o=M):h[3]!==void 0&&(o=M):o===M?h[0]===">"?(o=(a=r)!==null&&a!==void 0?a:L,v=-1):h[1]===void 0?v=-2:(v=o.lastIndex-h[2].length,d=h[1],o=h[3]===void 0?M:h[3]==='"'?Be:Ue):o===Be||o===Ue?o=M:o===ze||o===Ie?o=L:(o=M,r=void 0)}const u=o===M&&s[l+1].startsWith("/>")?" ":"";n+=o===L?c+ot:v>=0?(i.push(d),c.slice(0,v)+Ve+c.slice(v)+T+u):c+T+(v===-2?l:u)}return[Je(s,n+(s[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};class J{constructor({strings:e,_$litType$:t},i){let r;this.parts=[];let n=0,o=0;const a=e.length-1,l=this.parts,c=D(lt(e,t),2),d=c[0],h=c[1];if(this.el=J.createElement(d,i),z.currentNode=this.el.content,t===2||t===3){const u=this.el.content.firstChild;u.replaceWith(...u.childNodes)}for(;(r=z.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes()){var v,p=A(r.getAttributeNames());try{for(p.s();!(v=p.n()).done;){const u=v.value;if(u.endsWith(Ve)){const m=h[o++],f=r.getAttribute(u).split(T),_=/([.?@])?(.*)/.exec(m);l.push({type:1,index:n,name:_[2],strings:f,ctor:_[1]==="."?dt:_[1]==="?"?ht:_[1]==="@"?ut:re}),r.removeAttribute(u)}else u.startsWith(T)&&(l.push({type:6,index:n}),r.removeAttribute(u))}}catch(u){p.e(u)}finally{p.f()}}if(Ge.test(r.tagName)){const u=r.textContent.split(T),m=u.length-1;if(m>0){r.textContent=ie?ie.emptyScript:"";for(let f=0;f<m;f++)r.append(u[f],Q()),z.nextNode(),l.push({type:2,index:++n});r.append(u[m],Q())}}}else if(r.nodeType===8)if(r.data===Qe)l.push({type:2,index:n});else{let u=-1;for(;(u=r.data.indexOf(T,u+1))!==-1;)l.push({type:7,index:n}),u+=T.length-1}n++}}static createElement(e,t){const i=I.createElement("template");return i.innerHTML=e,i}}function R(s,e,t=s,i){var r,n,o,a,l;if(e===E)return e;let c=i!==void 0?(r=t._$Co)===null||r===void 0?void 0:r[i]:t._$Cl;const d=G(e)?void 0:e._$litDirective$;return((n=c)===null||n===void 0?void 0:n.constructor)!==d&&((o=c)!==null&&o!==void 0&&(a=o._$AO)!==null&&a!==void 0&&a.call(o,!1),d===void 0?c=void 0:(c=new d(s),c._$AT(s,t,i)),i!==void 0?((l=t._$Co)!==null&&l!==void 0?l:t._$Co=[])[i]=c:t._$Cl=c),c!==void 0&&(e=R(s,c._$AS(s,e.values),c,i)),e}let ct=class{constructor(s,e){this._$AV=[],this._$AN=void 0,this._$AD=s,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(s){var e;const t=this._$AD,i=t.el.content,r=t.parts,n=((e=s==null?void 0:s.creationScope)!==null&&e!==void 0?e:I).importNode(i,!0);z.currentNode=n;let o=z.nextNode(),a=0,l=0,c=r[0];for(;c!==void 0;){var d;if(a===c.index){let h;c.type===2?h=new H(o,o.nextSibling,this,s):c.type===1?h=new c.ctor(o,c.name,c.strings,this,s):c.type===6&&(h=new pt(o,this,s)),this._$AV.push(h),c=r[++l]}a!==((d=c)===null||d===void 0?void 0:d.index)&&(o=z.nextNode(),a++)}return z.currentNode=I,n}p(s){let e=0;var t,i=A(this._$AV);try{for(i.s();!(t=i.n()).done;){const r=t.value;r!==void 0&&(r.strings!==void 0?(r._$AI(s,r,e),e+=r.strings.length-2):r._$AI(s[e])),e++}}catch(r){i.e(r)}finally{i.f()}}};class H{get _$AU(){var e,t;return(e=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&e!==void 0?e:this._$Cv}constructor(e,t,i,r){var n;this.type=2,this._$AH=g,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=r,this._$Cv=(n=r==null?void 0:r.isConnected)===null||n===void 0||n}get parentNode(){var e;let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&((e=t)===null||e===void 0?void 0:e.nodeType)===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=R(this,e,t),G(e)?e===g||e==null||e===""?(this._$AH!==g&&this._$AR(),this._$AH=g):e!==this._$AH&&e!==E&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):at(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==g&&G(this._$AH)?this._$AA.nextSibling.data=e:this.T(I.createTextNode(e)),this._$AH=e}$(e){var t;const i=e.values,r=e._$litType$,n=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=J.createElement(Je(r.h,r.h[0]),this.options)),r);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===n)this._$AH.p(i);else{const o=new ct(n,this),a=o.u(this.options);o.p(i),this.T(a),this._$AH=o}}_$AC(e){let t=je.get(e.strings);return t===void 0&&je.set(e.strings,t=new J(e)),t}k(e){be(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,r=0;var n,o=A(e);try{for(o.s();!(n=o.n()).done;){const a=n.value;r===t.length?t.push(i=new H(this.O(Q()),this.O(Q()),this,this.options)):i=t[r],i._$AI(a),r++}}catch(a){o.e(a)}finally{o.f()}r<t.length&&(this._$AR(i&&i._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,t);e&&e!==this._$AB;){var i;const r=e.nextSibling;e.remove(),e=r}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}class re{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,r,n){this.type=1,this._$AH=g,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=n,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=g}_$AI(e,t=this,i,r){const n=this.strings;let o=!1;if(n===void 0)e=R(this,e,t,0),o=!G(e)||e!==this._$AH&&e!==E,o&&(this._$AH=e);else{const l=e;let c,d;for(e=n[0],c=0;c<n.length-1;c++){var a;d=R(this,l[i+c],t,c),d===E&&(d=this._$AH[c]),o||(o=!G(d)||d!==this._$AH[c]),d===g?e=g:e!==g&&(e+=((a=d)!==null&&a!==void 0?a:"")+n[c+1]),this._$AH[c]=d}}o&&!r&&this.j(e)}j(e){e===g?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class dt extends re{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===g?void 0:e}}class ht extends re{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==g)}}class ut extends re{constructor(e,t,i,r,n){super(e,t,i,r,n),this.type=5}_$AI(e,t=this){var i;if((e=(i=R(this,e,t,0))!==null&&i!==void 0?i:g)===E)return;const r=this._$AH,n=e===g&&r!==g||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==g&&(r===g||n);n&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;typeof this._$AH=="function"?this._$AH.call((t=(i=this.options)===null||i===void 0?void 0:i.host)!==null&&t!==void 0?t:this.element,e):this._$AH.handleEvent(e)}}class pt{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){R(this,e)}}const mt=H,Re=se.litHtmlPolyfillSupport;Re!=null&&Re(J,H),((oe=se.litHtmlVersions)!==null&&oe!==void 0?oe:se.litHtmlVersions=[]).push("3.2.1");var le,ce;let V=class extends B{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var s,e;const t=super.createRenderRoot();return(e=(s=this.renderOptions).renderBefore)!==null&&e!==void 0||(s.renderBefore=t.firstChild),t}update(s){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(s),this._$Do=((t,i,r)=>{var n;const o=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:i;let a=o._$litPart$;if(a===void 0){var l;const c=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=a=new H(i.insertBefore(Q(),c),c,void 0,r??{})}return a._$AI(t),a})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var s;super.connectedCallback(),(s=this._$Do)===null||s===void 0||s.setConnected(!0)}disconnectedCallback(){var s;super.disconnectedCallback(),(s=this._$Do)===null||s===void 0||s.setConnected(!1)}render(){return E}};V._$litElement$=!0,V.finalized=!0,(le=globalThis.litElementHydrateSupport)===null||le===void 0||le.call(globalThis,{LitElement:V});const He=globalThis.litElementPolyfillSupport;He==null||He({LitElement:V}),((ce=globalThis.litElementVersions)!==null&&ce!==void 0?ce:globalThis.litElementVersions=[]).push("4.1.1");const vt={attribute:!0,type:String,converter:te,reflect:!1,hasChanged:_e},gt=(s=vt,e,t)=>{const i=t.kind,r=t.metadata;let n=globalThis.litPropertyMetadata.get(r);if(n===void 0&&globalThis.litPropertyMetadata.set(r,n=new Map),n.set(t.name,s),i==="accessor"){const o=t.name;return{set(a){const l=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,l,s)},init(a){return a!==void 0&&this.P(o,void 0,s),a}}}if(i==="setter"){const o=t.name;return function(a){const l=this[o];e.call(this,a),this.requestUpdate(o,l,s)}}throw Error("Unsupported decorator location: "+i)};function pe(s){return(e,t)=>typeof t=="object"?gt(s,e,t):((i,r,n)=>{const o=r.hasOwnProperty(n);return r.constructor.createProperty(n,o?ee(ee({},i),{},{wrapped:!0}):i),o?Object.getOwnPropertyDescriptor(r,n):void 0})(s,e,t)}function k(s){return pe(ee(ee({},s),{},{state:!0,attribute:!1}))}const ft=1,Ke=2,ye=s=>(...e)=>({_$litDirective$:s,values:e});let we=class{constructor(s){}get _$AU(){return this._$AM._$AU}_$AT(s,e,t){this._$Ct=s,this._$AM=e,this._$Ci=t}_$AS(s,e){return this.update(s,e)}update(s,e){return this.render(...e)}};const _t=mt,qe=()=>document.createComment(""),F=(s,e,t)=>{const i=s._$AA.parentNode,r=e===void 0?s._$AB:e._$AA;if(t===void 0){const a=i.insertBefore(qe(),r),l=i.insertBefore(qe(),r);t=new _t(a,l,s,s.options)}else{const a=t._$AB.nextSibling,l=t._$AM,c=l!==s;if(c){var n,o;let d;(n=(o=t)._$AQ)!==null&&n!==void 0&&n.call(o,s),t._$AM=s,t._$AP!==void 0&&(d=s._$AU)!==l._$AU&&t._$AP(d)}if(a!==r||c){let d=t._$AA;for(;d!==a;){const h=d.nextSibling;i.insertBefore(d,r),d=h}}}return t},O=(s,e,t=s)=>(s._$AI(e,t),s),bt={},de=s=>{var e;(e=s._$AP)===null||e===void 0||e.call(s,!1,!0);let t=s._$AA;const i=s._$AB.nextSibling;for(;t!==i;){const r=t.nextSibling;t.remove(),t=r}},Le=(s,e,t)=>{const i=new Map;for(let r=e;r<=t;r++)i.set(s[r],r);return i},yt=ye(class extends we{constructor(s){if(super(s),s.type!==Ke)throw Error("repeat() can only be used in text expressions")}dt(s,e,t){let i;t===void 0?t=e:e!==void 0&&(i=e);const r=[],n=[];let o=0;var a,l=A(s);try{for(l.s();!(a=l.n()).done;){const c=a.value;r[o]=i?i(c,o):o,n[o]=t(c,o),o++}}catch(c){l.e(c)}finally{l.f()}return{values:n,keys:r}}render(s,e,t){return this.dt(s,e,t).values}update(s,[e,t,i]){var r;const n=(_=>_._$AH)(s),o=this.dt(e,t,i),a=o.values,l=o.keys;if(!Array.isArray(n))return this.ut=l,a;const c=(r=this.ut)!==null&&r!==void 0?r:this.ut=[],d=[];let h,v,p=0,u=n.length-1,m=0,f=a.length-1;for(;p<=u&&m<=f;)if(n[p]===null)p++;else if(n[u]===null)u--;else if(c[p]===l[m])d[m]=O(n[p],a[m]),p++,m++;else if(c[u]===l[f])d[f]=O(n[u],a[f]),u--,f--;else if(c[p]===l[f])d[f]=O(n[p],a[f]),F(s,d[f+1],n[p]),p++,f--;else if(c[u]===l[m])d[m]=O(n[u],a[m]),F(s,n[p],n[u]),u--,m++;else if(h===void 0&&(h=Le(l,m,f),v=Le(c,p,u)),h.has(c[p]))if(h.has(c[u])){const _=v.get(l[m]),q=_!==void 0?n[_]:null;if(q===null){const $e=F(s,n[p]);O($e,a[m]),d[m]=$e}else d[m]=O(q,a[m]),F(s,n[p],q),n[_]=null;m++}else de(n[u]),u--;else de(n[p]),p++;for(;m<=f;){const _=F(s,d[f+1]);O(_,a[m]),d[m++]=_}for(;p<=u;){const _=n[p++];_!==null&&de(_)}return this.ut=l,((_,q=bt)=>{_._$AH=q})(s,d),E}}),Fe=ye(class extends we{constructor(s){var e;if(super(s),s.type!==ft||s.name!=="class"||((e=s.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(s){return" "+Object.keys(s).filter(e=>s[e]).join(" ")+" "}update(s,[e]){if(this.st===void 0){this.st=new Set,s.strings!==void 0&&(this.nt=new Set(s.strings.join(" ").split(/\s/).filter(a=>a!=="")));for(const a in e){var t;e[a]&&((t=this.nt)===null||t===void 0||!t.has(a))&&this.st.add(a)}return this.render(e)}const i=s.element.classList;var r,n=A(this.st);try{for(n.s();!(r=n.n()).done;){const a=r.value;a in e||(i.remove(a),this.st.delete(a))}}catch(a){n.e(a)}finally{n.f()}for(const a in e){var o;const l=!!e[a];l===this.st.has(a)||!((o=this.nt)===null||o===void 0)&&o.has(a)||(l?(i.add(a),this.st.add(a)):(i.remove(a),this.st.delete(a)))}return E}});class me extends we{constructor(e){if(super(e),this.it=g,e.type!==Ke)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===g||e==null)return this._t=void 0,this.it=e;if(e===E)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}me.directiveName="unsafeHTML",me.resultType=1;const x=ye(me);for(var he,b=[],ue=0;ue<256;++ue)b.push((ue+256).toString(16).slice(1));var wt=new Uint8Array(16);function $t(){if(!he&&!(he=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return he(wt)}const Ze={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function At(s,e,t){if(Ze.randomUUID&&!e&&!s)return Ze.randomUUID();var i=(s=s||{}).random||(s.rng||$t)();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(r,n=0){return(b[r[n+0]]+b[r[n+1]]+b[r[n+2]]+b[r[n+3]]+"-"+b[r[n+4]]+b[r[n+5]]+"-"+b[r[n+6]]+b[r[n+7]]+"-"+b[r[n+8]]+b[r[n+9]]+"-"+b[r[n+10]]+b[r[n+11]]+b[r[n+12]]+b[r[n+13]]+b[r[n+14]]+b[r[n+15]]).toLowerCase()}(i)}class St{constructor(){this.uuid=At()}async getAssignExperiment(e){const t={sessionId:this.uuid,userId:e};return this.makePostRequest("assign-experiment",t)}async postQuestion(e,t,i){const r={message:t,userId:e,isWeb:i,sessionId:this.uuid};return this.makePostRequest("invoke-chat",r)}async postQualification(e,t){const i={score:t,userId:e,sessionId:this.uuid};return this.makePostRequest("satisfaction-chat",i)}async makePostRequest(e,t){try{const i=await fetch(`https://customer-engagement-chatbot.bancadigital.com.co/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"nequi"},body:JSON.stringify(t)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch{return null}}async makeGetRequest(e){try{const t=await fetch(`https://customer-engagement-chatbot.bancadigital.com.co/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"nequi"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch{return null}}}const y=class y{constructor(){this.isChatActive=!1}async init(){await this._validateIfScriptIsAdded()}static getInstance(){return y._instance||(y._instance=new y),y._instance}async initChat(e,t){await this._validateIfScriptIsAdded(),this._isZendeskLoaded()&&(this._updateConfigToZendeskChat(),this.show(),this._identifyUserOnZendesk(e),this._chatConnected(),this._chatIsClosed(),this._chatIsFinished(),window.zE("webWidget","chat:send",t))}show(){this._isZendeskLoaded()&&(window.zE("webWidget","show"),window.zE("webWidget","open"))}destroy(){this._isZendeskLoaded()&&(this._logout(),this._resetIdentity(),this._clearCache())}_setLocale(){window.zE("webWidget","setLocale","es")}_getElement(){return document.getElementById(y._zendeskId)}_hideZendeskButton(){const e=setInterval(()=>{const t=document.getElementById("launcher");t&&(t.style.display="none",clearInterval(e))},y._intervalHideButton)}_resetIdentity(){window.zE("webWidget","reset")}_clearCache(){window.zE("webWidget","clear")}_logout(){window.zE("webWidget","logout")}async _addScript(){return new Promise((e,t)=>{const i=document.createElement("script");i.type="text/javascript",i.id=y._zendeskId,i.src="https://static.zdassets.com/ekr/snippet.js?key=4a61137a-7b8c-4def-9d9a-96fb9d10ce3f",i.onload=async()=>{this._hideZendeskButton(),this._addConfigToZendeskChat(),this._setLocale(),e()},i.onerror=()=>{t(new Error("Failed to load Zendesk script"))},document.body.appendChild(i)})}async _validateIfScriptIsAdded(){this._getElement()?(this._resetIdentity(),this._clearCache()):await this._addScript()}_identifyUserOnZendesk(e){window.zE("webWidget","identify",{name:e.name,email:e.email,phone:e.phoneNumber})}_chatIsClosed(){window.zE("webWidget:on","close",()=>{window.zE("webWidget","hide")})}_chatIsFinished(){window.zE("webWidget:on","chat:end",()=>{this.isChatActive=!1})}_chatConnected(){window.zE("webWidget:on","chat:start",()=>{this.isChatActive=!0})}_addConfigToZendeskChat(){window.zESettings={webWidget:{contactForm:{suppress:!0},helpCenter:{suppress:!0},talk:{suppress:!0},answerBot:{suppress:!0},chat:{departments:{enabled:[y._department],select:y._department},title:{"*":"Contáctenos"}}}}}_updateConfigToZendeskChat(){window.zE("webWidget","updateSettings",{webWidget:{chat:{departments:{enabled:[y._department],select:y._department}}}})}_isZendeskLoaded(){return window.zE!==void 0}};y._zendeskId="ze-snippet",y._department="Colombia",y._intervalHideButton=200;let ve=y;const Ct=((s,...e)=>{const t=s.length===1?s[0]:e.reduce((i,r,n)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+s[n+1],s[0]);return new We(t,s,fe)})`:host{font-family:inherit;--primary-color:#da0081;--form-field:#f8f1f5;--uva:#200020;--uva-60:#796679;--uva-90:#130013;--gray-200:#e8e8e8;--gray-300:#c2c2c2;--gray-400:#848484;--black:#000000;--white:#ffffff;--border-radius-chat-web:0.571429rem}.chatbot-wrap.mobile{position:fixed;top:.513rem;right:1rem;z-index:101;color:var(--uva);width:auto}.chatbot-wrap.web{z-index:100}.chatbot-wrap .chatbot{display:none}.chatbot-wrap.web.open{width:40vw;height:65vh;box-shadow:rgba(0,0,0,.2) 0 0 .428571rem 0;border-radius:var(--border-radius-chat-web);z-index:10000;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:var(--white)}.modal-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:9999}.chatbot-wrap.web.open::backdrop{background-color:var(--uva)}.chatbot-wrap.web.open .chatbot .chat-header{border-top-left-radius:var(--border-radius-chat-web);border-top-right-radius:var(--border-radius-chat-web)}.chatbot-wrap.web.open .chatbot .chat-footer{border-bottom-left-radius:var(--border-radius-chat-web);border-bottom-right-radius:var(--border-radius-chat-web)}.chatbot-wrap.mobile.open{position:absolute;z-index:10000;height:100vh;background-color:var(--white);width:100%;left:0;top:0}.chatbot-wrap.mobile.open .button-float{display:none}.chatbot-wrap .chatbot.open{display:flex;flex-direction:column;height:100%}.chatbot-wrap .button-float{font-weight:700;background-color:var(--uva);height:15px;border-radius:999rem;background-size:cover;background-position:center;background-repeat:no-repeat;box-shadow:0 12px 45px rgba(0,0,0,.15);cursor:pointer;align-items:center;display:flex;justify-content:center;color:var(--white);gap:.8rem;padding:.92857rem 1.57143rem;font-size:1rem}.button-float{font-weight:700;background-color:var(--primary-color);height:15px;border-radius:.25rem;box-shadow:0 12px 45px rgba(0,0,0,.15);cursor:pointer;align-items:center;display:flex;justify-content:center;color:var(--white);gap:.8rem;padding:.92857rem 1.57143rem;font-size:1rem}.button-float-mobile{position:relative;float:right;z-index:5;display:flex;align-items:center;width:70px;justify-content:space-around}.button-float-mobile.close{display:none}.chatbot-wrap .button-float.close{display:none}.chat-header{position:sticky;top:0;background-color:var(--uva);color:var(--white);padding:2px 1rem;text-align:center;display:flex;justify-content:flex-start;align-items:center;gap:1rem;height:44px}.chat-header-web{position:sticky;top:0;padding:2px 1.5rem;text-align:center;display:flex;justify-content:flex-end;align-items:end;gap:1rem;height:44px}.chat-header button{background-color:var(--uva);color:var(--white);border:none;border-radius:6px;padding:1rem;cursor:pointer;padding:0}.chat-header-web button{color:var(--gray-300);background-color:var(--white);border:none;cursor:pointer;padding:0}.chat-header h2{font-size:1.25rem;margin-top:1rem;margin-bottom:1rem}.nequi-icon{margin-top:.3rem;padding-top:.5714rem;padding-right:.5714rem}.message-section{display:flex}.chat-messages{display:flex;flex-direction:column;gap:1rem;flex:1;padding:1rem;overflow-y:auto;height:100%;background-color:var(--white);scroll-behavior:smooth}.message{display:flex;flex-direction:column;padding:.5714rem 1rem;max-width:82%;transform-origin:0 100%;padding-top:0;transform:scale(0);max-height:0;overflow:hidden;animation:message .15s ease-out 0s forwards}.message p{margin:0}.bot{align-items:flex-start;background-color:var(--gray-200);border-radius:.5rem;margin-top:.3rem;animation-delay:350ms}.user{align-items:flex-end;background-color:var(--form-field);border-radius:.5rem;margin-left:auto;animation-delay:150ms}.text{font-size:.875rem;word-wrap:break-word;word-break:break-word;color:var(--uva-90)}.bot-tag{background-color:var(--gray-200);border-radius:10px;padding:.1rem .3rem;margin-bottom:.1rem;font-size:.875rem}.nequi-tag{margin:.3rem 1rem;color:var(--primary-color);font-size:.875rem;padding-left:1.5rem}.chat-footer{display:flex;align-items:center;justify-content:space-between;gap:1rem;width:calc(100% - 2rem);padding:.5rem 1rem;background-color:var(--white);padding:.8rem 1rem;height:auto}.chat-footer button{padding:.6rem}input[type=text]{font-weight:500;flex:1;padding:.5rem 1rem;height:1.6rem;border-radius:.5rem;outline:0;border:none;background-color:var(--gray-200);font-size:.938rem;color:var(--uva)}input[type=text]:active,input[type=text]:focus{outline:0;border-color:var(--uva-60)}button{background-color:var(--uva);color:var(--white);border:none;border-radius:.5rem;padding:.89rem;cursor:pointer}button i{margin-left:.3rem}.waiting-message{display:flex;margin-bottom:.6rem}.loader{display:inline-block;width:4.8rem;align-content:center}.loader::after{content:'';display:flex;align-items:center;width:1rem;height:1rem;color:var(--uva);background-color:var(--uva);border-radius:50%;animation:bounce .6s infinite alternate;margin:0 .3rem}.loader::after:nth-child(2){animation-delay:.2s}.loader::after:nth-child(3){animation-delay:.4s}.waiting-message-hidden{display:none}.chatbot-wrap .button-complete-question{cursor:pointer;color:var(--uva-90);position:relative;float:right;z-index:5;display:flex;align-items:center;width:2.4rem;justify-content:space-around;border-radius:.5rem;border:1px solid var(--uva-60);margin-right:1.5rem;padding:.2rem}.resolved{display:flex;justify-content:center;margin:.6rem 0;gap:.9rem}.rating{display:flex;justify-content:center;margin:.6rem 0;gap:.9rem}.star{font-size:2rem;cursor:pointer;color:var(--gray-400)}.star.filled{color:var(--uva)}@media (max-width:768px){.chatbot-wrap.web.open{width:90vw;height:80vh}}@keyframes bounce{0%{transform:translateX(0)}100%{transform:translateX(1.8rem)}}@keyframes message{0%{max-height:100vmax}80%{transform:scale(1.1)}100%{transform:scale(1);max-height:100vmax;overflow:visible;padding-top:.5714rem}}`,S=Object.freeze({messageStart:"¡Hola! Soy NequiBot, la inteligencia artificial que te ayuda con tus preguntas sobre Nequi. Cuéntame, ¿en qué puedo ayudarte hoy?",messageIsSolved:"¿Logré solucionar tu consulta?",messageMoveToAgent:"Lamento no haber solucionado tu consulta. ¿Prefieres hablar con un asesor humano para obtener asistencia adicional?",messageRedirection:"Parece que necesito un poco de ayuda para responder esto, voy a pasar tu consulta a uno de mis compañeros humanos que podrá asistirte.",messageRedirectToZendesk:"¡Hola! 😊 Estamos aquí para ayudarte en lo que necesites. En breve, uno de nuestros agentes estará contigo. 💜",messageFailedRequest:"Parece que algo no está funcionando bien. Dame un momento para solucionarlo y seguimos chateando 😊.",messageNPS:"¿Cómo calificarías la ayuda que te brindé hoy?",messageFinish:"Encantado de ayudarte, en Nequi estamos siempre para ti. ¡Hasta pronto!",messageStartZendesk:"¡Hola!"}),K=Object.freeze({timerAsk:180,timerNPS:300}),U=Object.freeze({afterAddUserQuestion:350,closeChat:2e3,redirectToZendesk:9e3,interval:1e3,scrollToBottom:400}),Z=Object.freeze({nequi:"Nequi",headerTitle:"Contáctanos",webTitle:"Resuelve tus dudas aquí",mobileTitle:"Chat"}),xt=[1,2,3,4,5],Et='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="18" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#ffffff" d="M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376l0 103.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z"/></svg>',kt='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 15 16"><path d="M1.3,16c-0.7,0-1.1-0.3-1.2-0.8c-0.3-0.8,0.5-1.3,0.8-1.5c0.6-0.4,0.9-0.7,1-1c0-0.2-0.1-0.4-0.3-0.7c0,0,0-0.1-0.1-0.1 C0.5,10.6,0,9,0,7.4C0,3.3,3.4,0,7.5,0C11.6,0,15,3.3,15,7.4s-3.4,7.4-7.5,7.4c-0.5,0-1-0.1-1.5-0.2C3.4,15.9,1.5,16,1.5,16 C1.4,16,1.4,16,1.3,16z M3.3,10.9c0.5,0.7,0.7,1.5,0.6,2.2c0,0.1-0.1,0.3-0.1,0.4c0.5-0.2,1-0.4,1.6-0.7c0.2-0.1,0.4-0.2,0.6-0.1 c0,0,0.1,0,0.1,0c0.4,0.1,0.9,0.2,1.4,0.2c3,0,5.5-2.4,5.5-5.4S10.5,2,7.5,2C4.5,2,2,4.4,2,7.4c0,1.2,0.4,2.4,1.2,3.3 C3.2,10.8,3.3,10.8,3.3,10.9z" fill="white" ></path></svg>',Pt='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z" fill="white"/></svg>',Tt='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 640 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M88.2 309.1c9.8-18.3 6.8-40.8-7.5-55.8C59.4 230.9 48 204 48 176c0-63.5 63.8-128 160-128s160 64.5 160 128s-63.8 128-160 128c-13.1 0-25.8-1.3-37.8-3.6c-10.4-2-21.2-.6-30.7 4.2c-4.1 2.1-8.3 4.1-12.6 6c-16 7.2-32.9 13.5-49.9 18c2.8-4.6 5.4-9.1 7.9-13.6c1.1-1.9 2.2-3.9 3.2-5.9zM0 176c0 41.8 17.2 80.1 45.9 110.3c-.9 1.7-1.9 3.5-2.8 5.1c-10.3 18.4-22.3 36.5-36.6 52.1c-6.6 7-8.3 17.2-4.6 25.9C5.8 378.3 14.4 384 24 384c43 0 86.5-13.3 122.7-29.7c4.8-2.2 9.6-4.5 14.2-6.8c15.1 3 30.9 4.5 47.1 4.5c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176zM432 480c16.2 0 31.9-1.6 47.1-4.5c4.6 2.3 9.4 4.6 14.2 6.8C529.5 498.7 573 512 616 512c9.6 0 18.2-5.7 22-14.5c3.8-8.8 2-19-4.6-25.9c-14.2-15.6-26.2-33.7-36.6-52.1c-.9-1.7-1.9-3.4-2.8-5.1C622.8 384.1 640 345.8 640 304c0-94.4-87.9-171.5-198.2-175.8c4.1 15.2 6.2 31.2 6.2 47.8l0 .6c87.2 6.7 144 67.5 144 127.4c0 28-11.4 54.9-32.7 77.2c-14.3 15-17.3 37.6-7.5 55.8c1.1 2 2.2 4 3.2 5.9c2.5 4.5 5.2 9 7.9 13.6c-17-4.5-33.9-10.7-49.9-18c-4.3-1.9-8.5-3.9-12.6-6c-9.5-4.8-20.3-6.2-30.7-4.2c-12.1 2.4-24.7 3.6-37.8 3.6c-61.7 0-110-26.5-136.8-62.3c-16 5.4-32.8 9.4-50 11.8C279 439.8 350 480 432 480z" fill="#200020"/></svg>',Mt='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M323.8 34.8c-38.2-10.9-78.1 11.2-89 49.4l-5.7 20c-3.7 13-10.4 25-19.5 35l-51.3 56.4c-8.9 9.8-8.2 25 1.6 33.9s25 8.2 33.9-1.6l51.3-56.4c14.1-15.5 24.4-34 30.1-54.1l5.7-20c3.6-12.7 16.9-20.1 29.7-16.5s20.1 16.9 16.5 29.7l-5.7 20c-5.7 19.9-14.7 38.7-26.6 55.5c-5.2 7.3-5.8 16.9-1.7 24.9s12.3 13 21.3 13L448 224c8.8 0 16 7.2 16 16c0 6.8-4.3 12.7-10.4 15c-7.4 2.8-13 9-14.9 16.7s.1 15.8 5.3 21.7c2.5 2.8 4 6.5 4 10.6c0 7.8-5.6 14.3-13 15.7c-8.2 1.6-15.1 7.3-18 15.2s-1.6 16.7 3.6 23.3c2.1 2.7 3.4 6.1 3.4 9.9c0 6.7-4.2 12.6-10.2 14.9c-11.5 4.5-17.7 16.9-14.4 28.8c.4 1.3 .6 2.8 .6 4.3c0 8.8-7.2 16-16 16H286.5c-12.6 0-25-3.7-35.5-10.7l-61.7-41.1c-11-7.4-25.9-4.4-33.3 6.7s-4.4 25.9 6.7 33.3l61.7 41.1c18.4 12.3 40 18.8 62.1 18.8H384c34.7 0 62.9-27.6 64-62c14.6-11.7 24-29.7 24-50c0-4.5-.5-8.8-1.3-13c15.4-11.7 25.3-30.2 25.3-51c0-6.5-1-12.8-2.8-18.7C504.8 273.7 512 257.7 512 240c0-35.3-28.6-64-64-64l-92.3 0c4.7-10.4 8.7-21.2 11.8-32.2l5.7-20c10.9-38.2-11.2-78.1-49.4-89zM32 192c-17.7 0-32 14.3-32 32V448c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32H32z"/></svg>',Ot='<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M323.8 477.2c-38.2 10.9-78.1-11.2-89-49.4l-5.7-20c-3.7-13-10.4-25-19.5-35l-51.3-56.4c-8.9-9.8-8.2-25 1.6-33.9s25-8.2 33.9 1.6l51.3 56.4c14.1 15.5 24.4 34 30.1 54.1l5.7 20c3.6 12.7 16.9 20.1 29.7 16.5s20.1-16.9 16.5-29.7l-5.7-20c-5.7-19.9-14.7-38.7-26.6-55.5c-5.2-7.3-5.8-16.9-1.7-24.9s12.3-13 21.3-13L448 288c8.8 0 16-7.2 16-16c0-6.8-4.3-12.7-10.4-15c-7.4-2.8-13-9-14.9-16.7s.1-15.8 5.3-21.7c2.5-2.8 4-6.5 4-10.6c0-7.8-5.6-14.3-13-15.7c-8.2-1.6-15.1-7.3-18-15.2s-1.6-16.7 3.6-23.3c2.1-2.7 3.4-6.1 3.4-9.9c0-6.7-4.2-12.6-10.2-14.9c-11.5-4.5-17.7-16.9-14.4-28.8c.4-1.3 .6-2.8 .6-4.3c0-8.8-7.2-16-16-16H286.5c-12.6 0-25 3.7-35.5 10.7l-61.7 41.1c-11 7.4-25.9 4.4-33.3-6.7s-4.4-25.9 6.7-33.3l61.7-41.1c18.4-12.3 40-18.8 62.1-18.8H384c34.7 0 62.9 27.6 64 62c14.6 11.7 24 29.7 24 50c0 4.5-.5 8.8-1.3 13c15.4 11.7 25.3 30.2 25.3 51c0 6.5-1 12.8-2.8 18.7C504.8 238.3 512 254.3 512 272c0 35.3-28.6 64-64 64l-92.3 0c4.7 10.4 8.7 21.2 11.8 32.2l5.7 20c10.9 38.2-11.2 78.1-49.4 89zM32 384c-17.7 0-32-14.3-32-32V128c0-17.7 14.3-32 32-32H96c17.7 0 32 14.3 32 32V352c0 17.7-14.3 32-32 32H32z"/></svg>',Nt='<svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M3.21452 0H0.556923C0.249343 0 0 0.285491 0 0.637663V3.22188C0 3.57405 0.249343 3.85954 0.556923 3.85954H3.21452C3.5221 3.85954 3.77145 3.57405 3.77145 3.22188V0.637663C3.77145 0.285491 3.5221 0 3.21452 0Z" fill="#DA0081"/> <path d="M19.4044 0H17.1181C16.8055 0 16.5612 0.290864 16.5612 0.637663V11.0976C16.5612 11.3101 16.3169 11.3884 16.229 11.1983L10.9138 0.279677C10.8259 0.100684 10.6695 0 10.4839 0H6.68314C6.37049 0 6.12622 0.290864 6.12622 0.637663V17.3512C6.12622 17.7091 6.38026 17.9888 6.68314 17.9888H8.96946C9.28212 17.9888 9.52638 17.698 9.52638 17.3512V6.578C9.52638 6.36544 9.77065 6.28714 9.85858 6.47732L15.3203 17.7203C15.4083 17.8993 15.5646 18 15.7502 18H19.3849C19.6976 18 19.9418 17.7091 19.9418 17.3623V0.637663C19.9418 0.279677 19.6878 0 19.3849 0H19.4044Z" fill="#200020"/> </svg>',zt='<svg xmlns="http://www.w3.org/2000/svg" height="20" width="15" viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#454545" d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>';var N=(s=>(s.YES="Sí",s.NO="No",s))(N||{}),P=(s=>(s[s.acceptNPS=1]="acceptNPS",s[s.declineNPS=2]="declineNPS",s[s.moveToAgent=3]="moveToAgent",s[s.finish=4]="finish",s))(P||{});const Y=s=>new Promise(e=>setTimeout(e,s));var It=Object.defineProperty,Ut=Object.getOwnPropertyDescriptor,C=(s,e,t,i)=>{for(var r,n=i>1?void 0:i?Ut(e,t):e,o=s.length-1;o>=0;o--)(r=s[o])&&(n=(i?r(e,t,n):r(n))||n);return i&&n&&It(e,t,n),n};let $=class extends V{constructor(){super(),this.user={phoneNumber:"",name:"",email:""},this.web=!0,this._messages=[],this._open=!1,this._loader=!1,this._resolved=!1,this._rating=0,this._showRating=!1,this._requestAgent=!0,this._canGoBack=!0,this._apiService=new St,this._zendeskService=ve.getInstance(),this._timeLeftQuestion=K.timerAsk,this._timeLeftNPS=K.timerNPS,this._previousMessageCount=0,this._isFirstOpen=!1}updated(s){s&&s.has("_open")&&this._open&&(this._isFirstOpen?this._zendeskService.isChatActive&&(this._open=!1,this._zendeskService.show()):(this._isFirstOpen=!0,this._shouldShowZendeskChat())),s&&s.has("_messages")&&this._messages.length>this._previousMessageCount&&(this._scrollToBottom(),this._previousMessageCount=this._messages.length)}disconnectedCallback(){super.disconnectedCallback(),this._stopTimer(this._intervalQuestion),this._stopTimer(this._intervalNPS)}render(){return w`${this._open?w`<div class="modal-backdrop"></div>`:""}<div class="chatbot-wrap ${this.web?"web":"mobile"} ${this._open?"open":""}"><div class="chatbot ${this._open?"open":""}">${this.renderChatHeader()}<div class="chat-messages">${this.renderChatMessages()} ${this.renderLoader()} ${this.renderResolvedMessage()} ${this.renderRating()}</div>${this.renderChatFooter()}</div></div>${this.renderFloatButton()}`}async _setRating(s){this._rating=s,await this._apiService.postQualification(this.user.phoneNumber,s.toString()),this._addUserMessage(s.toString()),this._addBotMessage(S.messageFinish),this._setStatusInput(!0),this._showRating=!1}async _sendQuestion(){const s=this.shadowRoot.getElementById("messageInput"),e=s.value;if(this._stopTimer(this._intervalNPS),this._stopTimer(this._intervalQuestion),e.trim()){this._addUserMessage(e),s.value="",s.disabled=!0,await Y(U.afterAddUserQuestion),this._loader=!0;const t=await this._apiService.postQuestion(this.user.phoneNumber,e,this.web);if(this._loader=!1,s.disabled=!1,t!==null){const{responseModel:i,redirectZendesk:r}=t.ResponseMessage.ResponseBody;if(JSON.parse(r.toLowerCase()))return void this._onCompleteChat(P.moveToAgent);this._addBotMessage(i),this._startTimerQuestion(),this._startTimerNPS()}else this._addBotMessage(S.messageFailedRequest)}}_onClickButtonFloat(){this._open=!this._open}async _onCompleteChat(s){switch(s=this._requestAgent?s:s+2){case P.acceptNPS:this._stopTimer(this._intervalNPS),this._addUserMessage(N.YES),this._addBotMessage(S.messageNPS),this._showRating=!0;break;case P.declineNPS:this._addUserMessage(N.NO),this._addBotMessage(S.messageMoveToAgent),this._requestAgent=!1;break;case P.moveToAgent:this._addBotMessage(S.messageRedirection),this._initZendeskChat(this._getLastUserMessage());break;case P.finish:this._addBotMessage(S.messageFinish)}this._resolved=s===2}_addBotMessage(s){this._addMessage({bot:!0,message:s})}_addUserMessage(s){this._addMessage({bot:!1,message:s})}async _shouldShowZendeskChat(){if(this._setStatusInput(!0),!this.web){this._loader=!0;const s=await this._apiService.getAssignExperiment(this.user.phoneNumber);this._loader=!1;const{redirectZendesk:e}=s.ResponseMessage.ResponseBody;if(e)return this._addBotMessage(S.messageRedirectToZendesk),void this._initZendeskChat(S.messageStartZendesk)}this._addBotMessage(S.messageStart),this._setStatusInput(!1)}_setStatusInput(s){this.shadowRoot.getElementById("messageInput").disabled=s}async _initZendeskChat(s){await this._zendeskService.init(),this._loader=!0,this._canGoBack=!1,this._setStatusInput(!0),await Y(U.redirectToZendesk),await this._zendeskService.initChat(this.user,s),await Y(U.closeChat),this._loader=!1,this._open=!1,this._setStatusInput(!1),this._canGoBack=!0}renderChatHeader(){return this.web?w`<div class="chat-header-web"><button @click="${this._onClickButtonFloat}">${x(zt)}</button></div>`:w`<div class="chat-header"><button @click="${this._onClickButtonFloat}" ?disabled="${!this._canGoBack}">${x(Pt)}</button><h2>${Z.headerTitle}</h2></div>`}renderChatMessages(){return w`${yt(this._messages,s=>s.message,s=>w`<div>${s.bot?w`<span class="nequi-tag">${Z.nequi}</span>`:""}<div class="message-section">${s.bot?w`<div class="nequi-icon">${x(Nt)}</div>`:""}<div class="${Fe({message:!0,bot:s.bot,user:!s.bot})}"><p class="${Fe({text:!0,response:s.bot,question:!s.bot})}">${x(s.message)}</p></div></div></div>`)}`}renderLoader(){return w`<div class="${this._loader?"waiting-message":"waiting-message-hidden"}"><span class="nequi-tag">${Z.nequi}</span><div class="loader"></div></div>`}renderResolvedMessage(){return w`<div class="${this._resolved?"resolved":"waiting-message-hidden"}"><div class="button-complete-question" @click="${()=>this._onCompleteChat(P.acceptNPS)}">${this._requestAgent?x(Mt):""} ${N.YES}</div><div class="button-complete-question" @click="${()=>this._onCompleteChat(P.declineNPS)}">${this._requestAgent?x(Ot):""} ${N.NO}</div></div>`}renderRating(){return w`<div class="${this._showRating?"rating":"waiting-message-hidden"}">${xt.map(s=>w`<span class="star ${s<=this._rating?"filled":""}" @click="${()=>this._setRating(s)}">★</span>`)}</div>`}renderChatFooter(){return w`<div class="chat-footer"><input id="messageInput" type="text" placeholder="Escribe un mensaje..." @keydown="${this._handleKeyPress}" autocomplete="off"> <button @click="${this._sendQuestion}">${x(Et)}</button></div>`}renderFloatButton(){return this.web?w`<div class="button-float ${this._open?"close":""}" @click="${this._onClickButtonFloat}">${x(kt)} <span>${Z.webTitle}</span></div>`:w`<div class="button-float-mobile ${this._open?"close":""}" @click="${this._onClickButtonFloat}"><span>${Z.mobileTitle}</span>${x(Tt)}</div>`}_handleKeyPress(s){s.key==="Enter"&&this._sendQuestion()}_getLastUserMessage(){const s=this._messages.filter(e=>!e.bot&&![N.NO.toString(),N.YES.toString()].includes(e.message));return s.length?s[s.length-1].message:""}_addMessage(s){this._messages=[...this._messages,s]}_startTimerQuestion(){this._intervalQuestion&&this._stopTimer(this._intervalQuestion),this._timeLeftQuestion=K.timerAsk,this._intervalQuestion=setInterval(()=>{this._timeLeftQuestion>0?this._timeLeftQuestion--:(this._setStatusInput(!0),this._resolved=!0,this._stopTimer(this._intervalQuestion),this._addBotMessage(S.messageIsSolved))},U.interval)}_startTimerNPS(){this._intervalNPS&&this._stopTimer(this._intervalNPS),this._timeLeftNPS=K.timerNPS,this._intervalNPS=setInterval(()=>{this._timeLeftNPS>0?this._timeLeftNPS--:(this._resolved=!1,this._showRating=!0,this._stopTimer(this._intervalNPS),this._addMessage({bot:!0,message:S.messageNPS}))},U.interval)}_stopTimer(s){s&&clearInterval(s)}async _scrollToBottom(){await Y(U.scrollToBottom);const s=this.shadowRoot.querySelector(".chat-messages");s&&(s.scrollTop=s.scrollHeight)}};$.styles=[Ct],C([pe({type:Object})],$.prototype,"user",2),C([pe({type:Boolean})],$.prototype,"web",2),C([k()],$.prototype,"_messages",2),C([k()],$.prototype,"_open",2),C([k()],$.prototype,"_loader",2),C([k()],$.prototype,"_resolved",2),C([k()],$.prototype,"_rating",2),C([k()],$.prototype,"_showRating",2),C([k()],$.prototype,"_requestAgent",2),C([k()],$.prototype,"_canGoBack",2),$=C([(s=>(e,t)=>{t!==void 0?t.addInitializer(()=>{customElements.define(s,e)}):customElements.define(s,e)})("wc-chatbot")],$);

</script>

</body>
</html>
