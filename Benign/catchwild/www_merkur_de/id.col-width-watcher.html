<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>id.col-width-watcher.html</title>
</head>
<body>

<script>
define(["modules/id.core"],function(e){"use strict";e.utils.log("loading id.col-width-watcher.js");var t,n,o,i,s,d,r,l=[[0,"id-col-xsmall"],[220,"id-col-small"],[270,"id-col-medium"],[400,"id-col-large"],[675,"id-col-xlarge"]],a=[[0,"id-col-gt0"],[150,"id-col-gt150"],[250,"id-col-gt250"],[350,"id-col-gt350"],[450,"id-col-gt450"],[550,"id-col-gt550"],[745,"id-col-gt750"]],c="id-AdminDebug-widthMarker",f=".id-AdminDebug-widthMarker",g="id-col-gt",u=[];return e.event.subscribe(e.event.constants.COLWIDTHWATCHER_ADD_ELEMENT,function(t,o){if(u.push({el:t,$el:e.dom.$(t),conf:o||{}}),o.useOldColWidths&&o.useOldColWidths!==!1){var i=e.dom.$(t),d=n(i);i.addClass(d),e.configuration.isDebugMode&&r(i,d)}else s(u[u.length-1])},this),e.event.subscribe(e.event.constants.COLWIDTHWATCHER_REMOVE_ELEMENT,function(t,i){var s,d,r=e.dom.$(t),c=i.useOldColWidths?l:a;for(r.removeClass(n(r,c)+" "+o(r).join(" ")),s=0,d=u.length;d>s;s+=1)u[s].el===t&&u.splice(s,1);e.configuration.isDebugMode&&e.dom.$(f,r).remove()},this),n=function(t){var n,o;for(n=0,o=l.length;o>n&&!(e.dom.innerWidth(t)<l[n][0]);n+=1);return 0===n?l[n][1]:l[n-1][1]},o=function(t){var n,o,i=[];for(n=0,o=a.length;o>n&&!(e.dom.innerWidth(t)<a[n][0]);n+=1)i.push(a[n][1]);return i},i=function(e){var t,n=[],o=e[0].getAttribute("class");if("undefined"!==o&&o.length>0)for(n=o.split(/\s+/),t=n.length;t--;)0!==n[t].lastIndexOf(g,0)&&n.splice(t,1);return n},s=function(t){var n=t.$el,s=o(n),d=s.join(" "),l=i(n),a=l.join(" ");a!==d&&(""!==a?n[0].setAttribute("class",n[0].getAttribute("class").replace(a,d)):n[0].setAttribute("class",n[0].getAttribute("class")+" "+d),e.event.publish(e.event.constants.COLWIDTHWATCHER_CHANGE_COLSIZES,n)),e.configuration.isDebugMode&&a!==d&&r(n,d)},r=function(t,n){var o=e.dom.$(f,t),i="Width: "+e.dom.innerWidth(t)+"px -- ";0===o.length?t.prepend('<p class="'+c+'">'+i+n+"</p>"):o.html(i+n)},d=function(){var t,o,i,d,a,c;for(t=0,o=u.length;o>t;t+=1)if(u[t].conf.useOldColWidths&&u[t].conf.useOldColWidths!==!1){if(i=e.dom.$(u[t].el),d=n(i),!i.hasClass(d)){for(a=0,c=l.length;c>a;a+=1)i.removeClass(l[a][1]);i.addClass(d),e.configuration.isDebugMode&&r(i,d)}}else s(u[t])},e.event.subscribe(e.event.constants.WINDOW_WIDTH_CHANGED,d),t=function(){this.conf={useOldColWidths:!1},this.init=function(t){e.event.publish(e.event.constants.COLWIDTHWATCHER_ADD_ELEMENT,t,this.conf)}}});
</script>

</body>
</html>
