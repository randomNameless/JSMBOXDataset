<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>76798-f08e1b5d6924c9f1bad5.html</title>
</head>
<body>

<script>
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76798,82109],{76798:function(e,t,n){"use strict";var r=n(75263),i=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(27424)),u=i(n(10434)),o=i(n(38416)),s=i(n(70215)),l=r(n(67294)),d=i(n(12884)),c=i(n(45697)),f=n(95682),m=n(81669),p=n(32509);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"webTCWebSignin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"requestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tcWebSignin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"requestId"},value:{kind:"Variable",name:{kind:"Name",value:"requestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errMsg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:139,source:{body:"subscription webTCWebSignin($requestId: ID!) {\n\ttcWebSignin(requestId: $requestId) {\n\t\tisVerified\n\t\terrMsg\n\t\terrorCode\n\t\temail\n\t\tphone\n\t}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"webgetuserphone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tcUserVerif"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isVerified"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errMsg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interimAuthToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"switchAllowed"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:177,source:{body:"subscription webgetuserphone($userId: ID!) {\n\ttcUserVerif(userId: $userId) {\n\t\tisVerified\n\t\terrMsg\n\t\terrorCode\n\t\temail\n\t\tphone\n\t\tusername\n\t\tinterimAuthToken\n\t\tswitchAllowed\n\t}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},g=function(e){var t=e.onSubscriptionDataErr,n=e.onSubscriptionDataErrCleanup,r=e.loading,i=e.data,a=(0,s.default)(e,["onSubscriptionDataErr","onSubscriptionDataErrCleanup","loading","data"]);return(0,l.useEffect)((function(){return i||r||t(a),n}),[r,i,n,t,a]),null};g.propTypes={onSubscriptionDataErr:c.default.func.isRequired,onSubscriptionDataErrCleanup:c.default.func.isRequired,loading:c.default.bool.isRequired,data:c.default.object},g.defaultProps={data:void 0};var y=function(e){var t=e.userObj,n=e.requestId,r=e.onSubscriptionData,i=(0,s.default)(e,["userObj","requestId","onSubscriptionData"]);return l.default.createElement(f.Subscription,{subscription:t.id?k:h,variables:(0,o.default)({},t.id?"userId":"requestId",t.id?t.id:n),fetchPolicy:"cache-and-network",onSubscriptionData:r},(function(e){return l.default.createElement(g,(0,u.default)({},i,e))}))};y.propTypes={userObj:c.default.object.isRequired,requestId:c.default.string.isRequired,onSubscriptionData:c.default.func.isRequired};var S=function(e){var t=e.baseUrl,n=e.truecallerPartnerKey,r=e.focusOnInput,i=e.userObj,u=(0,l.useRef)(null),o=(0,l.useState)({}),s=(0,a.default)(o,2),c=s[0],f=s[1],b=(0,l.useState)(!1),h=(0,a.default)(b,2),k=h[0],g=h[1];(0,l.useEffect)((function(){i.id?(f({requestId:"".concat(i.id,"--").concat(Date.now())}),S()):(0,p.getRequestIdForTruecaller)({baseUrl:t,onCallback:function(e){var t=e.response;if(t&&t.requestId)return f(t),void S();r()}})}),[]);var S=function(){f((function(e){return window.location="truecallersdk://truesdk/web_verify?type=btmsheet&requestNonce=".concat(e.requestId,"&partnerKey=").concat(n,"&partnerName=Byjus&lang=English&title=logIn&skipOption=useAnotherNum&ctaColor=%23fc8403&btnShape=rect&ctaTextColor=%23ffffff"),e})),setTimeout((function(){document.hasFocus()?r():(g(!0),d.default.appendDL({dataLayer:{cleverTapVariable:{source:i.id?"verification":"signin"},eventName:"tc_popup_viewed"},event:"CTCommonEvent",state:1}))}),600)};return c.requestId&&k?l.default.createElement(y,{userObj:i,requestId:c.requestId,onSubscriptionData:i.id?function(e){var t=(e.subscriptionData.data||{}).tcUserVerif,n=t.isVerified,i=t.errMsg,a=t.errorCode,u=t.email,o=t.phone,s=t.username,l=t.interimAuthToken,d=t.switchAllowed;n?((0,m.fireCustomEvent)({event:"user-phone-verified",data:{phone:o}}),(0,m.fireCustomEvent)({event:"dipatch-toast",data:{content:"Verified Successfully"}})):409===a?(0,m.fireCustomEvent)({event:"auth-box-state",data:{user:{existingEmail:u,phone:o,existingPhone:"".concat(o.slice(0,3),"XXXXXXX"),name:s,interimAuthToken:l,switchAllowed:d},state:10}}):403===a&&"used_another_number"===i?(g(!1),r()):((0,m.fireCustomEvent)({event:"dispatch-toast",data:{content:i}}),g(!1),r())}:function(e){var n=(e.subscriptionData.data||{}).tcWebSignin,a=n.isVerified,u=n.email,o=n.phone;a?(d.default.appendDL({dataLayer:{cleverTapVariable:{source:i.id?"verification":"signin"},eventName:"tc_continue_button_clicked"},event:"CTCommonEvent",state:1}),(0,p.onLoginViaTruecaller)({baseUrl:t,body:v({},c,{email:u,phone:o})})):(d.default.appendDL({dataLayer:{cleverTapVariable:{source:i.id?"verification":"signin"},eventName:"tc_skipped"},event:"CTCommonEvent",state:1}),g(!1),r())},onSubscriptionDataErr:function(){g(!1),r()},onSubscriptionDataErrCleanup:function(){return clearInterval(u.current)}}):null};S.propTypes={baseUrl:c.default.string.isRequired,truecallerPartnerKey:c.default.string.isRequired,focusOnInput:c.default.func.isRequired,userObj:c.default.object.isRequired};var N=function(e){var t=e.setShowLoader,r=e.baseUrl,i=e.focus,o=e.userObj,c=e.hideSocialLogins,f=e.autoFocusOnWeb,b=e.truecallerPartnerKey,v=e.phoneNumber,h=e.isAutoSubmit,k=(0,s.default)(e,["setShowLoader","baseUrl","focus","userObj","hideSocialLogins","autoFocusOnWeb","truecallerPartnerKey","phoneNumber","isAutoSubmit"]),g=(0,l.useState)(!1),y=(0,a.default)(g,2),N=y[0],w=y[1],O=(0,l.useState)(!(o&&o.phone)),D=(0,a.default)(O,2),E=D[0],C=D[1],T=(0,l.useState)(!1),I=(0,a.default)(T,2),P=I[0],q=I[1],j=(0,l.useState)(!1),F=(0,a.default)(j,2),x=F[0],A=F[1],V=(0,l.useRef)(null),M=function(){if("number"===typeof V.current.selectionStart&&"number"===typeof V.current.selectionEnd)return Boolean(V.current.selectionStart<V.current.selectionEnd)},_=function(e,t){var n=t||e&&e.target&&e.target.value;n&&10===n.length&&/^[1-9]{1}\d{9}$/.test(n)?q(!0):P&&q(!1)};(0,l.useEffect)((function(){o.phone?i?(V.current.focus(),C(!1)):(0,m.isMobile)()||(f&&V.current.focus(),C(!1)):v&&h?(0,p.onPhoneSubmit)({baseUrl:r,body:{tel:"+91".concat(Number(v))}}):i?V.current.focus():(0,m.isMobile)()||(f&&V.current.focus(),C(!1))}),[]),(0,l.useEffect)((function(){o&&o.phone&&_(void 0,o.phone)}),[]);var L=(0,m.isSafari)();return l.default.createElement("form",{className:"flex flex-column w-100",onSubmit:function(e){if(e.preventDefault(),P){A(!1);var i=o&&o.address||{}||{},a=i.city,u=void 0===a?"":a,s=i.state,l=void 0===s?"":s,c=o&&o.primaryExamCategory||{},f=c.id,b=void 0===f?"":f,v=c.name,h=void 0===v?"":v,k=o.name,g=void 0===k?"":k,y=o.emails,S=void 0===y?[]:y,N=o.id,w=void 0===N?"":N,O=o.phone,D=void 0===O?"":O;if(/^[1-9]{1}\d{9}$/.test(V.current.value))return d.default.appendDL({dataLayer:{cleverTapVariable:{userName:g,userId:w,userEmail:S&&S[0]?S[0]:"",userPhone:"+91".concat(V.current&&V.current.value||D),categoryName:h,examCategoryName:h,categoryId:b,isNewUser:!w,state:l,city:u,pageUrl:n.g.location.href||""},eventName:"mobile_continue_clicked"},event:"CTCommonEvent",state:1}),t(!0),void(0,p.onPhoneSubmit)({baseUrl:r,body:{tel:"+91".concat(V.current.value)}});(0,m.fireCustomEvent)({event:"dispatch-toast",data:{content:"Please enter valid number"}})}else A(!0)}},N&&!c&&b&&!L?l.default.createElement(S,(0,u.default)({baseUrl:r,userObj:o,truecallerPartnerKey:b},k,{focusOnInput:function(){t(!1),V.current.focus()}})):null,l.default.createElement("label",{className:"relative w-100 flex"},E&&!c&&b&&!L&&l.default.createElement("span",{className:"absolute left-0 top-0 w-100 h-100 z-1",onClick:function(e){e.preventDefault(),V.current.value||!(0,m.isMobile)()||N||(t(!0),w(!0),C(!1))}}),l.default.createElement("input",{ref:V,placeholder:"Enter Mobile Number",name:"phone",type:"text",inputMode:"numeric",defaultValue:o.phone||"",className:"w-100 ba b--secondary auth-phone-button f4 f5-l bw1 pa2 h3 h2-5-l br2 outline-0",onKeyDown:function(e){[8,46,9,27,13,36,35,37,38,39,40].includes(e.keyCode)||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)&&V.current.value.length<10||M()||e.preventDefault()},onKeyUp:_})),x?l.default.createElement("span",{className:"red-vns pt2 pb3 invalid-phone-text"},"Please enter a valid mobile number"):l.default.createElement("span",{className:"trolley-gray pt2 pb3 invalid-phone-text"},"We\u2019ll send an OTP for verification"),l.default.createElement("button",{"data-dname":"continue-with-phone",type:"submit",className:"w-100 bn pa3 tc outline-0 br2 pointer f6-l f4-5 fw7 bg-secondary-gradient white"},l.default.createElement("span",null,"Continue")))};N.propTypes={setShowLoader:c.default.func.isRequired,baseUrl:c.default.string.isRequired,userObj:c.default.object,focus:c.default.bool,hideSocialLogins:c.default.bool,autoFocusOnWeb:c.default.bool,truecallerPartnerKey:c.default.string,phoneNumber:c.default.string,isAutoSubmit:c.default.bool},N.defaultProps={focus:!1,userObj:{},hideSocialLogins:!1,autoFocusOnWeb:!1,truecallerPartnerKey:"",phoneNumber:"",isAutoSubmit:!1};var w=N;t.default=w},82109:function(e,t,n){"use strict";n.r(t),n.d(t,{getDataFromTree:function(){return o},getMarkupFromTree:function(){return s},renderToStringWithData:function(){return l}});var r=n(70655),i=n(67294),a=n(40593),u=n(22309);function o(e,t){return void 0===t&&(t={}),s({tree:e,context:t,renderFunction:n(97762).renderToStaticMarkup})}function s(e){var t=e.tree,o=e.context,s=void 0===o?{}:o,l=e.renderFunction,d=void 0===l?n(97762).renderToStaticMarkup:l,c=new u.gA;return Promise.resolve().then((function e(){var n=(0,a.KZ)(),u=d(i.createElement(n.Provider,{value:(0,r.pi)((0,r.pi)({},s),{renderPromises:c})},t));return c.hasPromises()?c.consumeAndAwaitPromises().then(e):u}))}function l(e){return s({tree:e,renderFunction:n(97762).renderToString})}},95682:function(e,t,n){"use strict";n.r(t),n.d(t,{ApolloConsumer:function(){return r.ab},ApolloProvider:function(){return r.eT},getApolloContext:function(){return r.KZ},resetApolloContext:function(){return r.ZV},Mutation:function(){return i.mm},Query:function(){return i.AE},Subscription:function(){return i.w0},graphql:function(){return a.BX},withApollo:function(){return a.CG},withMutation:function(){return a.TQ},withQuery:function(){return a.jb},withSubscription:function(){return a.AF},useApolloClient:function(){return u.xJ},useLazyQuery:function(){return u.td},useMutation:function(){return u.Db},useQuery:function(){return u.aM},useSubscription:function(){return u.mU},getDataFromTree:function(){return o.getDataFromTree},getMarkupFromTree:function(){return o.getMarkupFromTree},renderToStringWithData:function(){return o.renderToStringWithData}});var r=n(40593),i=n(58243),a=n(53409),u=n(22309),o=n(82109)},70215:function(e,t,n){var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
</script>

</body>
</html>
