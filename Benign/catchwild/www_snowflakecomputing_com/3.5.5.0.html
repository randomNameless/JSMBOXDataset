<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.5.5.0.html</title>
</head>
<body>

<script>
(window.mutinyWpJsonp=window.mutinyWpJsonp||[]).push([[3],{93:function(e,t,n){"use strict";n.r(t),n.d(t,"initializeMutiny",(function(){return z}));n(73),n(67);var i=n(9),r=n(35),o=n(55),a=n(1),s=n(5),c=n(14);const d=new a.a("highlights");var u=n(0),l=n(6),p=n(19),h=n(64),m=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};var y=n(7),g=n(44),f=n(4),v=n(61),x=n(38);const b="mutiny-custom-javascript";var S=n(57),w=n(18),_=n(56),j=n(71);n(48);class E{constructor(e,t,n,i,r){this.audienceSegment=e,this.webExperience=t,this.mutinyClientData=n,this.context=i,this.personalizeType=r,this.logger=new a.a("questionnaire-render"),this.preactContainerId="mutiny-preact-"+this.webExperience.id,this.stylesheet=this.mutinyClientData.stylesheets.find(({id:e})=>e===this.webExperience.component_stylesheet_id),this.stylesheetElementId=this.stylesheet&&"mutiny-stylesheet-"+this.stylesheet.id}attach(){return new Promise(e=>{requestAnimationFrame(()=>{n.e(2).then(n.bind(null,70)).then(({default:t})=>{Promise.resolve().then(n.bind(null,33)).then(({h:n,render:i})=>{let r=document.querySelector("#"+this.preactContainerId);if(r||(r=Object(s.a)("div"),r.setAttribute("id",this.preactContainerId),document.body.prepend(r)),this.stylesheet&&this.stylesheetElementId&&!document.querySelector("#"+this.stylesheetElementId)){const e=Object(s.a)("style");e.nonce=Object(c.a)(),e.setAttribute("id",this.stylesheetElementId),e.innerHTML=this.stylesheet.stylesheet,document.head.append(e),this.logger.info("Attaching component stylesheet",e)}return this.webExperience.questionnaire&&(this.logger.debug("Rendering component",this.webExperience.questionnaire),i(n(t,{audienceSegment:this.audienceSegment,context:this.context,personalizeType:this.personalizeType,questionnaire:this.webExperience.questionnaire,userData:this.context.userDataStore,webExperience:this.webExperience}),r),this.attachQuestionnaireCompleteHandler()),e(!1)})})})})}teardown(){const e=document.querySelector("#"+this.preactContainerId);if(e&&e.remove(),this.stylesheetElementId){const e=document.querySelector("#"+this.stylesheetElementId);e&&e.remove()}}attachQuestionnaireCompleteHandler(){document.addEventListener("mutiny:questionnaire-complete",()=>{const e=(t=this.mutinyClientData.audience_segments,n="person.questionnaire."+this.webExperience.questionnaire.key,t.filter(e=>e.web_experiences.some(e=>(e.data_dependencies||[]).some(e=>e.startsWith(n)))));var t,n;if(e.length>0)return this.logger.info("Found dependent segments to re-evaluate",e),C(k(e,this.context,{alwaysEvaluate:!0}),this.mutinyClientData,this.context);this.logger.info("Found no dependent segments")})}}var q=new class{constructor(){var e,t,n,i,r;this.stylesheet=new CSSStyleSheet,document.adoptedStyleSheets=[...null!==(e=document.adoptedStyleSheets)&&void 0!==e?e:[],this.stylesheet],this.reset();const o=document.querySelector("style[data-mutiny-headless-styles]");let a=0;for(;(null!==(i=null===(n=null===(t=null==o?void 0:o.sheet)||void 0===t?void 0:t.cssRules)||void 0===n?void 0:n.length)&&void 0!==i?i:0)>0&&a++<100;)null===(r=null==o?void 0:o.sheet)||void 0===r||r.deleteRule(0)}attachExperience(e,t){for(const n of this.styleForExperience(e,t))this.stylesheet.insertRule(n,this.stylesheet.cssRules.length)}reset(){this.stylesheet.replaceSync(this.baseStyles())}setContext(e){this.context=e}getContext(){return this.context}baseStyles(){return"\n      @layer mutiny-headless-presentation, mutiny-headless-hider;\n    \n      @layer mutiny-headless-presentation {\n        mutiny-personalization > mutiny-variation[control] {\n          display: initial;\n        }\n  \n        mutiny-personalization > mutiny-variation:not([control]) {\n          display: none;\n        }\n      }\n    "}styleForExperience(e,t){return t?[`\n          @layer mutiny-headless-presentation {\n            mutiny-personalization > mutiny-variation[experience-id="${e}"][variation-id="${t}"] {\n              display: initial;  \n            }\n          }\n        `,`\n          @layer mutiny-headless-hider {\n            mutiny-personalization:has(mutiny-variation[experience-id="${e}"][variation-id="${t}"]) > mutiny-variation[control] {\n              display: none;\n            }\n\n            mutiny-personalization > mutiny-variation[experience-id="${e}"][variation-id="${t}"] ~ mutiny-variation {\n              display: none;\n            }\n          }\n        `]:[]}};function O(e,t,n,i,o){const d=new a.a("page-render"),l=Object(S.a)(e,t,n.userDataStore,i),p=l===u.v.Personalized;let h;const m=e.experience_type===u.k.Redirect&&e.redirect_url;if(e.experience_type===u.k.Render){const t=new _.a(p,e.dom_updates.concat(function(e,t,n){const i=e.userDataStore.get(["dynamic_dom_updates",t.dom_update_group_id].join("."));return i&&n.info(`Found dynamic DomUpdates for DomUpdateGroup ${t.dom_update_group_id}:`,i),i||[]}(n,e,d)).map(t=>new j.a(t,n.userDataStore,n.componentPrioritizer,n.exporter,void 0,o.blocks,e.dom_update_group_id)),[],n,"update-renderer");h=t.renderAsync(),d.info("Attaching state change event listener"),document.addEventListener(u.j.StateChange,()=>{d.info("Received state change event, tearing down DOMRenderer"),t.teardown()},{once:!0})}else if(e.experience_type===u.k.Headless)q.attachExperience(e.id,p?e.variation_key:void 0),h=Promise.resolve(!0);else if(e.experience_type===u.k.Questionnaire&&e.questionnaire)if(2===e.questionnaire.version){const i=new E(t,e,o,n,l);h=new Promise(t=>{var r;const o=(null===(r=e.questionnaire)||void 0===r?void 0:r.questionnaire_type)===u.y.TopBar;e.questionnaire&&o&&n.componentPrioritizer.onShouldRender(e.questionnaire.resource_id,()=>(i.attach().then(t),!0)),i.attach().then(t)}),document.addEventListener(u.j.StateChange,()=>{d.info("Received state change event, tearing down QuestionnaireRenderer"),i.teardown()},{once:!0})}else n.exporter.track(r.a.Metric,{metricKey:"client.render.questionnaireV1",metricType:u.q.Increment}),h=Promise.resolve(!1);else m?(p||n.setRedirecting(!1),h=Promise.resolve(!0)):h=Promise.resolve(!1);return h.then(o=>{if(n.componentPrioritizer.render(),!i&&o&&n.exporter.track(r.a.ExperienceImpression,{audienceSegment:t,campaignAccountId:n.userDataStore.get(t.campaign_slug+".campaign_account_id"),personIdentificationToken:n.userDataStore.get("query."+x.h),experience:e,impressionType:l}),m){const t=Object(w.c)(e.redirect_url,n.userDataStore),i=n.config.preserve_redirect_query_params?Object(f.f)(t):t;p&&n.exporter.track(r.a.Metric,{metricKey:"client.render.redirect.time",metricType:u.q.Timing,value:performance.now()}),n.exporter.forceFlushQueues().finally(()=>{p&&(d.info("Executing redirect to "+i),window.location.replace(i))})}p&&function(e,t){const n=[b,e.id].join("-");if(e.custom_javascript&&!document.querySelector("#"+n)){const i=Object(s.a)("script");i.nonce=Object(c.a)(),i.setAttribute("type","text/javascript"),i.setAttribute("id",n),i.innerHTML=e.custom_javascript,document.head.append(i),t.info("Attaching global custom javascript")}}(e,d)}),Object(v.b)({experience:e,audienceSegment:t,impressionType:l}),h}function k(e,t,{async:n,alwaysEvaluate:i}){const{preview:r,userDataStore:s,clientMode:c}=t,d=new a.a("attach-experiences");d.info("Evaluating audienceSegments",e);const{activeSegments:u}=function({userDataStore:e,audienceSegments:t},n){var i,r;let a;const s=Object(l.c)(),c=null!==(i=null==s?void 0:s.experience_id)&&void 0!==i?i:e.get(o.b),d=null!==(r=null==s?void 0:s.variation_id)&&void 0!==r?r:e.get(o.c);return a=d&&!n?t.map(e=>{var{web_experiences:t}=e,n=m(e,["web_experiences"]);return Object.assign(Object.assign({},n),{web_experiences:t.filter(({variation_key:e})=>String(e)===String(d))})}):c&&!n?t.map(e=>{var{web_experiences:t}=e,n=m(e,["web_experiences"]);return Object.assign(Object.assign({},n),{web_experiences:t.filter(({id:e})=>String(e)===String(c))})}):t.filter(t=>Object(h.b)(t,e)).map(t=>{var{web_experiences:n}=t,i=m(t,["web_experiences"]);return Object.assign(Object.assign({},i),{web_experiences:n.filter(({condition:t})=>Object(p.b)(t,e))})}),{activeSegments:a}}({audienceSegments:e,userDataStore:s},i);u.length>0&&d.info("Found activeSegments",u);return u.reduce((e,t)=>e.concat(Object(f.b)(t.web_experiences,r).filter(e=>void 0===n||n===e.async).map(e=>({audienceSegment:t,experience:e})).filter(e=>Object(g.a)(e,c))),[])}function C(e,t,n){const{preview:i,userDataStore:r,componentPrioritizer:o}=n,s=new a.a("attach-experiences");e.length>0?s.info("Found activeSegments for URL",e):s.info("Did not find any active segments for URL",e);const c=(e,t)=>e.experience.priority-t.experience.priority,d=e.filter(({experience:{global:e},audienceSegment:{objective:t}})=>!e&&t===u.t.AbmOutbound).find(({experience:{id:e}})=>e===r.get("person_identification_token.web_experience_id")||i===u.w.Preview),l=e.filter(({experience:{global:e},audienceSegment:{campaign_slug:t}})=>!e&&t).sort(c),p=e.filter(({experience:{global:e},audienceSegment:{campaign_slug:t,objective:n}})=>!e&&!t&&n!==u.t.AbmOutbound),h=e.filter(({experience:{experience_type:e,redirect_url:t}})=>e===u.k.Redirect&&!Object(f.i)(t||"",window.location.href)).sort(c),m=p.filter(({experience:{experience_type:e,questionnaire:t}})=>e===u.k.Questionnaire&&t&&t.questionnaire_type!==u.y.ExitIntentModal).sort(c),g=p.filter(({experience:{experience_type:e,questionnaire:t}})=>e===u.k.Questionnaire&&t&&t.questionnaire_type===u.y.ExitIntentModal).sort(c),v=e.filter(({experience:{questionnaire:e,global:t}})=>t&&(0===m.length||(null==e?void 0:e.questionnaire_type)!==m[0].experience.questionnaire.questionnaire_type)&&(0===g.length||(null==e?void 0:e.questionnaire_type)!==g[0].experience.questionnaire.questionnaire_type)),x=p.filter(({experience:{experience_type:e}})=>[u.k.Render,u.k.Headless].includes(e)).sort(c);e.length>0&&(s.info("abmOutboundSegment",d),s.info("campaignSegments",l),s.info("redirectSegments",h),s.info("renderOrHeadlessSegments",x),s.info("questionnaireSegments",m),s.info("exitIntentSegments",g),s.info("concurrentSegments",v));let b=[];return d?b=[d,...v]:l.length>0?b=[l[0],...v]:h.length>0?(b=[h[0]],n.setRedirecting(!0)):b=[x[0],m[0],g[0],...v].filter(y.c),o.registerExperiences(b),b.length>0?s.info("Found segmentsToRender",b):s.info("Did not find any segmentsToRender",b),Promise.all(b.map(({experience:e,audienceSegment:r})=>O(e,r,n,i,t))).then(e=>e.every(y.c))}function R(e,t,n){return C(k(e.audience_segments,t,{async:n}),e,t)}var D=n(66),T=n(17),I=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};function P(e,t){t.clientMode===u.d.AssetViewer?Object(D.a)(t):t.exporter.page();const i=t.ensureShouldRender(()=>{t.componentPrioritizer.reset(),R(e,t,!1)},"Skipping attachExperiences for synchronous experiences");return n.e(8).then(n.bind(null,92)).then(({attachEvents:n})=>n(e,t)),i}function M(e){const t=e.timer.getTimeInMilliseconds();t&&e.exporter.track(r.a.Time,{timeInSeconds:t/1e3}),e.exporter.forceFlushQueues()}const z=Object(i.d)((e,t,n,i)=>I(void 0,void 0,void 0,(function*(){const r=new a.a("index"),l=Object(o.d)(e,t,n,i);if(l.apiClient.trackMetric({metricKey:"client.attached",metricType:u.q.Increment},!0),document.documentElement.dataset.mutinyLoaded)return r.error("Client data or initializeMutiny function took too long to download. Skipping personalization."),void l.apiClient.trackMetric({metricKey:"client.client_data.fetch.timed_out",metricType:u.q.Increment},!0);if(l.onPageHide(()=>l.apiClient.trackMetric({metricKey:"client.detached",metricType:u.q.Increment},!0)),l.shouldExitBeforeUserDataFetch())return r.info("Exiting before user data fetch"),void(null==t||t.removeHider(!0,"Exiting early before user data fetch"));if(function(e){if(!e.highlightPersonalizations)return;const t=Object(s.a)("style");t.type="text/css",t.id="mutiny-highlight-styles",t.nonce=Object(c.a)(),t.append(document.createTextNode('\n      [data-mutiny-root="true"] {\n        outline: 3px solid rgba(150, 15, 223, 0.5);\n      }\n    ')),document.head.append(t),d.info("attached highlight styles",t)}(l),yield l.ensureShouldRender(()=>l.userDataClient.getUserData(),"Skipping user data request"),l.shouldExitAfterUserDataFetch())return r.info("Exiting after user data fetch"),void(null==t||t.removeHider(!0,"Exiting early after user data fetch"));l.exporter.identify(),l.stateChangeHandler.onChange(()=>{M(l),l.timer.restart(),l.timer.setMarker(window.location.toString())}),l.onPageHide(()=>M(l));const p=l.ensureShouldRender(()=>function(e,t){return Object(g.d)(e)?t.userDataClient.getAsyncUserData():Promise.resolve()}(e,l),"Skipping async user data request");if(l.stateChangeHandler.onChange(()=>l.events.trigger(u.j.StateChange)),l.stateChangeHandler.onChange(()=>{!function(e){e.info("Tearing down custom javascript");for(const t of Array.from(document.querySelectorAll(`script[id*=${b}]`)))e.info("Removing custom javascript "+t.id),t.remove()}(r),q.reset(),q.setContext(l),P(e,l),l.ensureShouldRender(()=>R(e,l,!0),"Skipping attaching async experiences")}),l.ensureShouldRender(()=>Object(T.c)(l.exporter),"Skipping reporting real user metrics"),i===u.d.Microsite)return l.exporter.page(),void window.addEventListener("click",e=>{(e.target instanceof HTMLAnchorElement||e.target instanceof HTMLButtonElement)&&l.apiClient.trackEvent({eventType:u.m.MicrositeCtaClicked,metadata:void 0})},!0);P(e,l).then(()=>{l.isRedirecting()||null==t||t.removeHider(!0,"initial render for synchronous experiences has finished")}).catch(e=>{throw null==t||t.removeHider(!1,"synchronous render promise failed"),e}),l.ensureShouldRender(()=>p.then(()=>R(e,l,!0)),"Skipping attachExperiences for async experiences")})))}}]);
</script>

</body>
</html>
