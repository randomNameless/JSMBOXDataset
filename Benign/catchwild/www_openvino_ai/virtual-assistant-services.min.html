<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>virtual-assistant-services.min.html</title>
</head>
<body>

<script>
var DsaConfig={appVersion:"Avaamo",baseApi:"/intel/v1.0/",pingCommand:"ping?",pingSendValue:100,serviceCheckUrls:["http://127.0.0.1:28385","http://127.0.0.1:28386","http://127.0.0.1:28387","http://127.0.0.1:28388","http://127.0.0.1:28389"]};DsaConfig.appVersionParameter="jsver\x3d"+DsaConfig.appVersion;DsaConfig.pingReturnValue=2*DsaConfig.pingSendValue;
var RequestResult=function(){return function(a){this.headers=a.getAllResponseHeaders();if("string"===typeof a.response)try{this.response=JSON.parse(a.response)}catch(d){this.response=void 0}else this.response=a.response;this.type=a.responseType;this.status=a.status;this.statusText=a.statusText}}(),DsaService={getAsync:function(a,d){return DsaService.requestAsync("GET",a,d,void 0,void 0)},requestAsync:function(a,d,k,g,f){return new Promise(function(h,e){var b=new XMLHttpRequest;b.open(a,d);void 0!==
f&&0<f&&(b.timeout=f);b.onload=function(){var c=new RequestResult(b);c.status&&200<=c.status&&300>c.status?h(c):e(c)};b.onerror=function(){var c=new RequestResult(b);e(c)};b.ontimeout=function(){var c=new RequestResult(b);e(c)};switch(k){case "json":b.responseType="json";break;case "text":b.responseType=""}b.send(g)})}},DsaDetect={startCheckingForService:function(a,d,k){var g=!1,f=DsaConfig.serviceCheckUrls.length,h=0;try{for(var e=0;e<DsaConfig.serviceCheckUrls.length;e++)DsaService.getAsync(""+
DsaConfig.serviceCheckUrls[e]+DsaConfig.baseApi+DsaConfig.pingCommand+"id\x3d"+DsaConfig.pingSendValue+"\x26"+DsaConfig.appVersionParameter,"json").then(function(b){if(!g)if(b&&b.response)if((b=b.response)&&b.id===DsaConfig.pingReturnValue)g=!0,a();else throw Error("Unexpected value returned from ping");else throw Error("Empty result from ping");}).catch(function(){h++;if(h===f)return d()})}catch(b){return k()}}},MESSAGE_EVENT_TYPE="message",VA_EVENT_ORIGIN="https://c0.avaamo.com";
function idsaCheck(a){window.DsaDetect&&window.DsaDetect.startCheckingForService(function(){a.source.postMessage("IDSA-STATUS:INSTALLED",a.origin)},function(){a.source.postMessage("IDSA-STATUS:NOT-INSTALLED",a.origin)},function(){a.source.postMessage("IDSA-STATUS:ERROR",a.origin)})}function messageReceiveHandler(a){a.origin===VA_EVENT_ORIGIN&&("detect-idsa"===a.data?idsaCheck(a):"init-login-from-va"===a.data&&"undefined"!==typeof intel.mytools&&intel.mytools.unifiedLogin())}
window.addEventListener(MESSAGE_EVENT_TYPE,messageReceiveHandler,!1);function invokeVirtualAssistant(a,d){isVaObjectAvailable()&&window.Avaamo.openChatBox(function(){setTimeout(function(){window.Avaamo.sendMessage(a,d)},500)})}function isVaObjectAvailable(){return typeof window.Avaamo!==UNDEFINED};
</script>

</body>
</html>
