<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6026-0a6386b4d29765f6.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6026],{16026:(e,t,s)=>{s.d(t,{U:()=>G});var n=s(39573),a=s(13797),r=s(67733),i=s(8373),E=s(92227);class l{intercept(e,t){return r.v.isServer()?t.handle(e):t.handle(e).pipe((0,i.M)(e=>{var t;e&&(e.__ca||(null===(t=e.body)||void 0===t?void 0:t.__ca))&&setTimeout(()=>{var t;E.T.instance.broadcast("__cashify_alert__",e.__ca||(null===(t=e.body)||void 0===t?void 0:t.__ca))},1e3)}))}}class c{intercept(e,t){return t.handle(e)}}class R{intercept(e,t){return t.handle(e)}}class o{intercept(e,t){return t.handle(e)}}class d{intercept(e,t){return t.handle(e)}}class A{intercept(e,t){let s=e.headers;return(s=(s=(s=(s=s.set("apiUrl",s.get("apiUrl")||this.apiUrl)).set("baseUrl",s.get("baseUrl")||this.baseUrl)).set("disableProxy",s.get("disableProxy")||this.disableProxy||"false")).set("apiType",s.get("apiType")||this.apiType||"api"))&&(e=e.clone({headers:s})),t.handle(e)}constructor(e,t,s,n){this.apiUrl=e,this.baseUrl=t,this.disableProxy=s,this.apiType=n}}var u=s(49611),T=s(16798),_=s(95423),I=s(54161),h=s(5624),P=s(3166);async function p(e,t){let s=(0,a.O)().commonHeaders;if("false"!==e.headers.get("X-COMMON-HEADERS")&&s){if(s["X-APP-INSTALLER"]||(s["X-APP-INSTALLER"]=I.d_.getSource().name),!s["X-APP-VERSION"]&&r.v.isNative()){let e=await h.A.getBundleVersion(t),n=await h.A.getBuildVersion();s["X-APP-MODULE"]=t,s["X-APP-VERSION"]="".concat(n,"-").concat(e)}let a=e.headers.get("X-STC-INSTALLER")||e.headers.get("X-STC-INSTALLER");if(a&&(s["X-APP-INSTALLER"]=a),r.v.isWebView()){let e=await P.r.cookie.getItem("csh_app_version"),t=await P.r.cookie.getItem("csh_app_os"),n=await P.r.cookie.getItem("csh_app_ins");e&&(s["X-WEBVIEW-VERSION"]=e),t&&(s["X-WEBVIEW-OS"]=t),n&&(s["X-WEBVIEW-INSTALLER"]=n)}let i=new n.Lr(s);e.headers.forEach((e,t)=>{i=i.set(e,t)}),e=e.clone({headers:i})}return e}class C{intercept(e,t){return(0,u.H)(p(e,this.moduleName)).pipe((0,T.H)(e=>t.handle(e)))}constructor(e){this.moduleName=_.$.instance.findServiceByType(e).moduleName}}let N=["Content-Type","X-USER-AGENT","X-USER-AUTH","X-APP-INSTALLER","X-APP-VERSION","X-APP-MODULE","X-WEBVIEW-VERSION","X-WEBVIEW-OS","X-WEBVIEW-INSTALLER","X-AUTHORIZATION","X-APP-REFERRAL","X-APP-LANG","X-JENKINS-AUTH","X-APP-OS","X-APP-SOURCE","X-APP-UTMJ","X-APP-UTML","X-APP-DEVICE-ID","X-ETAG","X-SESSION-ID","X-SSO-TOKEN"];class O{intercept(e,t){let s=this.allowedHeaders,a=new n.Lr;return s&&s.length>0&&(e.headers.forEach((e,t)=>{e&&s.findIndex(t=>t.toLowerCase()===e.toLowerCase())>-1&&(a=a.set(e,t))}),e=e.clone({headers:a})),t.handle(e)}constructor(e){this.allowedHeaders=[...new Set([...e||[],...N])]}}var S=s(71970);class v{intercept(e,t){let s=this.filterParams(e.params),a=e.body;return a&&a instanceof n.Nl&&(a=this.filterParams(a)),e=e.clone({body:a,params:s}),t.handle(e)}filterParams(e){if(!e||e.keys().length<1)return e;let t=new n.Nl;return e.keys().forEach(s=>{let n=e.get(s);null==n||""===n||"null"===n||"undefined"===n||(t=t.append(s,n))}),t}}var w=s(56295),H=s(16449),U=s(6274),L=s(84612),f=s(30070);let g=[];class D{intercept(e,t){let s;return function(){for(var e,t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];return(void 0===(e=1)&&(e=1/0),(0,w.Z)(H.D,e))((0,u.H)(t,(0,U.lI)(t)))}(new L.c(e=>{g.push(e),g.length<=this.concurrency&&(s=e,e.complete())}).pipe((0,f.p)(()=>!1)),t.handle(e).pipe((0,i.M)({next:()=>{this.dequeueNextRequest(s)},error:()=>{this.dequeueNextRequest(s)}})))}dequeueNextRequest(e){if(e){let t=g.indexOf(e);t>-1&&g.splice(t,1)}let t=g.shift();t&&t.complete()}constructor(e=16){this.concurrency=e}}var X=s(95125),y=s(56508),M=s(58053);class m{intercept(e,t){return new L.c(t=>{if("true"!==e.headers.get("X_USER_AUTH")){t.next(null),t.complete();return}(0,M.N)(e=>{t.next(e),t.complete()})}).pipe((0,T.H)(s=>{let a="true"===e.headers.get("X_USER_AUTH"),r=e.headers;return s&&(r=r.set("X-USER-AUTH",s)),e=e.clone({headers:r}),t.handle(e).pipe((0,i.M)({error:e=>{a&&e instanceof n.yz&&421===e.status&&((0,M.Du)(),E.T.instance.broadcast(X.l.USER_INFO_DELETE),E.T.instance.broadcast(y.j.sessionExpire))}}))}))}}let F={AUTH_HEADER:"AUTH_HEADERS",REFERRAL_HEADERS:"REFERRAL_HEADERS"};var b=s(91487),V=s(34597);async function x(e){if("false"!==e.headers.get("X-COMMON-HEADERS")&&r.v.isClient()){var t;let s=e.headers||new n.Lr,a=await V.n.getReferral();a&&(s=s.set("X-APP-REFERRAL",a));let r=await V.n.getReferralJourney();r&&(s=s.set("X-APP-UTMJ",r));let i=await V.n.getLastReferral();i&&(s=s.set("X-APP-UTML",i));let E=await b.e.getDeviceId();E&&(null===(t=e.method)||void 0===t?void 0:t.toUpperCase())==="POST"&&(s=s.set("X-APP-DEVICE-ID",E)),e=e.clone({headers:s})}return e}class W{intercept(e,t){return(0,u.H)(x(e)).pipe((0,T.H)(e=>t.handle(e)))}}function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.v.isNative(),s=arguments.length>2?arguments[2]:void 0,i=new Map;i.set(F.AUTH_HEADER,new m),i.set(F.REFERRAL_HEADERS,new W),function(e,t,s,i){var E;let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{enableQueue:r.v.isNative(),queueConcurrency:24},T=(0,a.O)(),_=new Map;_.set(S.F.CONFIG_HEADERS,new A(T.apiUrl,T.baseUrl,t?"true":"false")),_.set(S.F.COMMON_HEADERS,new C(e)),_.set(S.F.COMMON_ALERT,new l),null!==(E=null==s?void 0:s.size)&&void 0!==E&&E&&(null==s||s.forEach((e,t)=>{_.set(t,e)})),_.set(S.F.FILTER_PARAMS,new v),_.set(S.F.CACHE_KEY_INTERCEPTOR,new c),i&&_.set(S.F.LRU_CACHE_INTERCEPTOR,new o),_.set(S.F.ETAG_CACHE_INTERCEPTOR,new R),u.enableQueue&&_.set(S.F.PRIORITY_QUEUE_INTERCEPTOR,new D(u.queueConcurrency)),_.set(S.F.FILTER_HEADERS,new O),_.set(S.F.NO_CACHE_INTERCEPTOR,new d),n.Qq.initialize({interceptors:_})}(e,t,i,s)}s(2818)},91487:(e,t,s)=>{s.d(t,{e:()=>c});var n=s(28688),a=s(73836),r=s(28896),i=s(3166),E=s(67929),l=s(79511);class c{static async fetchUDID(){return null}static async getLegoUdidData(){return null}static async saveDeviceId(e){await i.r.local.setItem(l.nT,e)}static async getDeviceId(){return i.r.local.getItem(l.nT)}static async getSessionId(){let e=await i.r.session.getItem(l.mA);if(e)return e;try{let e=window?window.navigator:null,t=e&&e.userAgent?e.userAgent.replace(/\D+/g,""):null;t&&(t=t.slice(0,11));let s=(null!=t?t:"")+Date.now();await i.r.session.setItem("cashifySessionId",s)}catch(e){return null}}static async register(){let e=await c.getDeviceId();if(e){c.pushDeviceId(e);return}let t=await n.s.getCityInfo(),s=new a.z;s.isWeb=1,(null==t?void 0:t.cityPinCode)!==void 0&&(s.pincode=null==t?void 0:t.cityPinCode,new r.J().register(s).subscribe({next:e=>{e&&e.deviceId&&(c.saveDeviceId(e.deviceId),c.pushDeviceId(e.deviceId))},error:e=>{}}))}static pushDeviceId(e){e&&(0,E.$)("deviceId",{deviceId:e})}}},71970:(e,t,s)=>{s.d(t,{F:()=>n});let n={...s(79e3).T,COMMON_HEADERS:"COMMON_HEADERS",COMMON_ALERT:"COMMON_ALERT",FILTER_HEADERS:"FILTER_HEADERS",FILTER_PARAMS:"FILTER_PARAMS",AUTH_HEADER:"AUTH_HEADERS",LANGUAGE_PARAM:"LANGUAGE_PARAM",CACHE_KEY_INTERCEPTOR:"CACHE_KEY_INTERCEPTOR",LRU_CACHE_INTERCEPTOR:"LRU_CACHE_INTERCEPTOR",ETAG_CACHE_INTERCEPTOR:"ETAG_CACHE_INTERCEPTOR",PRIORITY_QUEUE_INTERCEPTOR:"PRIORITY_QUEUE_INTERCEPTOR",NO_CACHE_INTERCEPTOR:"NO_CACHE_INTERCEPTOR"}}}]);
</script>

</body>
</html>
