<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>optinStickySideDrawer.min.html</title>
</head>
<body>

<script>
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};var domReady=function(a){"loading"!=document.readyState?a():document.addEventListener("DOMContentLoaded",a)};"use strict";
var screenXsMax="767px",ID_PRIMARY_CONTENT="primary-content",CLASS_NAME_SD_COMPONENT="side-drawer",CLASS_NAME_SD_MODAL=CLASS_NAME_SD_COMPONENT+"--modal",CLASS_NAME_SD_INLINE=CLASS_NAME_SD_COMPONENT+"--inline",CLASS_NAME_SD_OPEN=CLASS_NAME_SD_COMPONENT+"--open",CLASS_NAME_SD_ANIMATION=CLASS_NAME_SD_COMPONENT+"--in-view",CLASS_NAME_SD_NO_ANIMATION=CLASS_NAME_SD_COMPONENT+"--no-animation",CLASS_NAME_SD_TRANSITION=CLASS_NAME_SD_COMPONENT+"--in-transit",CLASS_NAME_SD_BTN_DRAWER="btn-drawer",CLASS_NAME_SD_BTN_CLOSE=
"btn--close",CLASS_NAME_SD_DRAWER_WRAPPER=CLASS_NAME_SD_COMPONENT+"__wrapper",CLASS_NAME_SD_DRAWER_CONTENT=CLASS_NAME_SD_COMPONENT+"__content",CLASS_NAME_SD_DRAWER_CONTENT_FORM=CLASS_NAME_SD_DRAWER_CONTENT+"__form",CLASS_NAME_SD_DRAWER_CONTENT_MSG=CLASS_NAME_SD_DRAWER_CONTENT+"__message",CLASS_NAME_SD_DRAWER_LOADER=CLASS_NAME_SD_COMPONENT+"__loader",ATTR_CLOSE_MODAL="data-close-modal",CLASS_NAME_SD_DRAWER_CONTENT_SUBMITTED=CLASS_NAME_SD_DRAWER_CONTENT+"--submitted",CLASS_NAME_SD_BODY_MENU_OPEN=CLASS_NAME_SD_COMPONENT+
"__body--open",ANIMATION_DURATION=350,ANIMATION_EASING="ease",EVENT_FORM_SUBMITTED="eloqua.form.submitted",EVENT_FORM_SUBMITTED_SUCCESS="eloqua.form.submitted.success",EVENT_FORM_SUBMITTED_FAILED="eloqua.form.submitted.failed",isMobile=function(){return window.matchMedia("(max-width: "+screenXsMax+")").matches},Intel_StickySideDrawer=function(a){this.element=a;this.btnDrawer=a.querySelector("."+CLASS_NAME_SD_BTN_DRAWER);this.btnClose=a.querySelectorAll("["+ATTR_CLOSE_MODAL+"]");this.drawerWrapper=
a.querySelector("."+CLASS_NAME_SD_DRAWER_WRAPPER);this.drawerContent=a.querySelector("."+CLASS_NAME_SD_DRAWER_CONTENT);this.drawerContentForm=a.querySelector("."+CLASS_NAME_SD_DRAWER_CONTENT_FORM);this.drawerContentMsg=a.querySelector("."+CLASS_NAME_SD_DRAWER_CONTENT_MSG);this.drawerLoader=a.querySelector("."+CLASS_NAME_SD_DRAWER_LOADER);this.animation=null;this.isExpanding=this.isClosing=!1;this.setSideDrawerDomOrder();this.initEvents()};
Intel_StickySideDrawer.prototype.setSideDrawerDomOrder=function(){"Y"!==this.element.getAttribute("data-edit-mode")&&document.querySelector("#"+ID_PRIMARY_CONTENT).prepend(this.element)};
Intel_StickySideDrawer.prototype.initEvents=function(){var a=this,b=this;this.element.classList.remove(CLASS_NAME_SD_NO_ANIMATION);this.btnDrawer.addEventListener("click",function(c){return a.handleDrawerClick(c)});this.btnClose.forEach(function(c){c.addEventListener("click",function(d){return b.handleDrawerClick(d)})});this.drawerWrapper.addEventListener("transitionend",function(){return b.handleDesktopTransitionEnd()});this.drawerWrapper.addEventListener("transitioncancel",function(){return b.handleDesktopTransitionEnd()});
document.addEventListener(EVENT_FORM_SUBMITTED,function(c){return a.handleContentState(EVENT_FORM_SUBMITTED)});document.addEventListener(EVENT_FORM_SUBMITTED_SUCCESS,function(c){return a.handleContentState(EVENT_FORM_SUBMITTED_SUCCESS)});window.addEventListener("load",function(){return a.setDrawerScrollAnimation()})};Intel_StickySideDrawer.prototype.setDrawerScrollAnimation=function(){var a=this;window.setTimeout(function(){a.element.classList.add(CLASS_NAME_SD_ANIMATION)},250)};
Intel_StickySideDrawer.prototype.handleContentState=function(a){switch(a){case EVENT_FORM_SUBMITTED:this.drawerLoader.classList.remove("hidden");break;case EVENT_FORM_SUBMITTED_SUCCESS:this.drawerLoader.classList.add("hidden");this.drawerContent.classList.add(CLASS_NAME_SD_DRAWER_CONTENT_SUBMITTED);break;default:this.drawerLoader.classList.add("hidden"),this.drawerContent.classList.remove(CLASS_NAME_SD_DRAWER_CONTENT_SUBMITTED)}};
Intel_StickySideDrawer.prototype.handleDrawerClick=function(a){isMobile()?this.handleMobileDrawer():this.handleDesktopDrawer()};Intel_StickySideDrawer.prototype.handleMobileDrawer=function(){this.drawerContent.style.overflow="hidden";this.isClosing||!this.element.classList.contains(CLASS_NAME_SD_OPEN)?this.openDrawer():(this.isExpanding||this.element.classList.contains(CLASS_NAME_SD_OPEN))&&this.closeDrawer()};
Intel_StickySideDrawer.prototype.handleDesktopDrawer=function(){this.element.classList.add(CLASS_NAME_SD_TRANSITION);if(this.element.classList.contains(CLASS_NAME_SD_OPEN))this.onAnimationFinish(!1);else this.element.classList.add(CLASS_NAME_SD_OPEN),this.onAnimationFinish(!0)};Intel_StickySideDrawer.prototype.handleDesktopTransitionEnd=function(){this.element.classList.remove(CLASS_NAME_SD_TRANSITION)};
Intel_StickySideDrawer.prototype.setAttributes=function(a){a?this.btnDrawer.setAttribute("aria-expanded",!0):(this.btnDrawer.setAttribute("aria-expanded",!1),this.element.classList.remove(CLASS_NAME_SD_OPEN))};Intel_StickySideDrawer.prototype.setAnimation=function(a,b){this.animation&&this.animation.cancel();this.animation=this.drawerContent.animate({height:[a,b]},{duration:ANIMATION_DURATION,easing:ANIMATION_EASING})};
Intel_StickySideDrawer.prototype.closeDrawer=function(){var a=this;this.isClosing=!0;this.setAnimation(this.drawerContent.offsetHeight+"px","0px");this.animation.onfinish=function(){return a.onAnimationFinish(!1)};this.animation.oncancel=function(){return a.isClosing=!1}};Intel_StickySideDrawer.prototype.openDrawer=function(){var a=this;this.element.classList.add(CLASS_NAME_SD_OPEN);this.drawerContent.style.height="0px";window.requestAnimationFrame(function(){return a.expand()})};
Intel_StickySideDrawer.prototype.expand=function(){var a=this;this.isExpanding=!0;this.setAnimation("0px",this.drawerContent.offsetHeight+"px");this.animation.onfinish=function(){return a.onAnimationFinish(!0)};this.animation.oncancel=function(){return a.isExpanding=!1}};
Intel_StickySideDrawer.prototype.onAnimationFinish=function(a){this.setAttributes(a);a?document.querySelector("body").classList.add(CLASS_NAME_SD_BODY_MENU_OPEN):document.querySelector("body").classList.remove(CLASS_NAME_SD_BODY_MENU_OPEN);this.animation=null;this.isExpanding=this.isClosing=!1;this.drawerContent.style.height=this.drawerContent.style.overflow=""};domReady(function(){var a=document.querySelectorAll("."+CLASS_NAME_SD_COMPONENT);1>a.length||new Intel_StickySideDrawer(a[0])});
</script>

</body>
</html>
