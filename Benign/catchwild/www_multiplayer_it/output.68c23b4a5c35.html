<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>output.68c23b4a5c35.html</title>
</head>
<body>

<script>
(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):e.Popper=t()})(this,function(){'use strict';function e(e){return e&&'[object Function]'==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var o=e.ownerDocument.defaultView,n=o.getComputedStyle(e,null);return t?n[t]:n}function o(e){return'HTML'===e.nodeName?e:e.parentNode||e.host}function n(e){if(!e)return document.body;switch(e.nodeName){case'HTML':case'BODY':return e.ownerDocument.body;case'#document':return e.body;}var i=t(e),r=i.overflow,p=i.overflowX,s=i.overflowY;return/(auto|scroll|overlay)/.test(r+s+p)?e:n(o(e))}function r(e){return 11===e?pe:10===e?se:pe||se}function p(e){if(!e)return document.documentElement;for(var o=r(10)?document.body:null,n=e.offsetParent||null;n===o&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&'BODY'!==i&&'HTML'!==i?-1!==['TH','TD','TABLE'].indexOf(n.nodeName)&&'static'===t(n,'position')?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function s(e){var t=e.nodeName;return'BODY'!==t&&('HTML'===t||p(e.firstElementChild)===e)}function d(e){return null===e.parentNode?e:d(e.parentNode)}function a(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var o=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=o?e:t,i=o?t:e,r=document.createRange();r.setStart(n,0),r.setEnd(i,0);var l=r.commonAncestorContainer;if(e!==l&&t!==l||n.contains(i))return s(l)?l:p(l);var f=d(e);return f.host?a(f.host,t):a(e,d(t).host)}function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'top',o='top'===t?'scrollTop':'scrollLeft',n=e.nodeName;if('BODY'===n||'HTML'===n){var i=e.ownerDocument.documentElement,r=e.ownerDocument.scrollingElement||i;return r[o]}return e[o]}function f(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=l(t,'top'),i=l(t,'left'),r=o?-1:1;return e.top+=n*r,e.bottom+=n*r,e.left+=i*r,e.right+=i*r,e}function m(e,t){var o='x'===t?'Left':'Top',n='Left'==o?'Right':'Bottom';return parseFloat(e['border'+o+'Width'],10)+parseFloat(e['border'+n+'Width'],10)}function h(e,t,o,n){return ee(t['offset'+e],t['scroll'+e],o['client'+e],o['offset'+e],o['scroll'+e],r(10)?parseInt(o['offset'+e])+parseInt(n['margin'+('Height'===e?'Top':'Left')])+parseInt(n['margin'+('Height'===e?'Bottom':'Right')]):0)}function c(e){var t=e.body,o=e.documentElement,n=r(10)&&getComputedStyle(o);return{height:h('Height',t,o,n),width:h('Width',t,o,n)}}function g(e){return fe({},e,{right:e.left+e.width,bottom:e.top+e.height})}function u(e){var o={};try{if(r(10)){o=e.getBoundingClientRect();var n=l(e,'top'),i=l(e,'left');o.top+=n,o.left+=i,o.bottom+=n,o.right+=i}else o=e.getBoundingClientRect()}catch(t){}var p={left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top},s='HTML'===e.nodeName?c(e.ownerDocument):{},d=s.width||e.clientWidth||p.right-p.left,a=s.height||e.clientHeight||p.bottom-p.top,f=e.offsetWidth-d,h=e.offsetHeight-a;if(f||h){var u=t(e);f-=m(u,'x'),h-=m(u,'y'),p.width-=f,p.height-=h}return g(p)}function b(e,o){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],p=r(10),s='HTML'===o.nodeName,d=u(e),a=u(o),l=n(e),m=t(o),h=parseFloat(m.borderTopWidth,10),c=parseFloat(m.borderLeftWidth,10);i&&s&&(a.top=ee(a.top,0),a.left=ee(a.left,0));var b=g({top:d.top-a.top-h,left:d.left-a.left-c,width:d.width,height:d.height});if(b.marginTop=0,b.marginLeft=0,!p&&s){var w=parseFloat(m.marginTop,10),y=parseFloat(m.marginLeft,10);b.top-=h-w,b.bottom-=h-w,b.left-=c-y,b.right-=c-y,b.marginTop=w,b.marginLeft=y}return(p&&!i?o.contains(l):o===l&&'BODY'!==l.nodeName)&&(b=f(b,o)),b}function w(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=e.ownerDocument.documentElement,n=b(e,o),i=ee(o.clientWidth,window.innerWidth||0),r=ee(o.clientHeight,window.innerHeight||0),p=t?0:l(o),s=t?0:l(o,'left'),d={top:p-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:r};return g(d)}function y(e){var n=e.nodeName;if('BODY'===n||'HTML'===n)return!1;if('fixed'===t(e,'position'))return!0;var i=o(e);return!!i&&y(i)}function E(e){if(!e||!e.parentElement||r())return document.documentElement;for(var o=e.parentElement;o&&'none'===t(o,'transform');)o=o.parentElement;return o||document.documentElement}function v(e,t,i,r){var p=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},d=p?E(e):a(e,t);if('viewport'===r)s=w(d,p);else{var l;'scrollParent'===r?(l=n(o(t)),'BODY'===l.nodeName&&(l=e.ownerDocument.documentElement)):'window'===r?l=e.ownerDocument.documentElement:l=r;var f=b(l,d,p);if('HTML'===l.nodeName&&!y(d)){var m=c(e.ownerDocument),h=m.height,g=m.width;s.top+=f.top-f.marginTop,s.bottom=h+f.top,s.left+=f.left-f.marginLeft,s.right=g+f.left}else s=f}i=i||0;var u='number'==typeof i;return s.left+=u?i:i.left||0,s.top+=u?i:i.top||0,s.right-=u?i:i.right||0,s.bottom-=u?i:i.bottom||0,s}function x(e){var t=e.width,o=e.height;return t*o}function O(e,t,o,n,i){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf('auto'))return e;var p=v(o,n,r,i),s={top:{width:p.width,height:t.top-p.top},right:{width:p.right-t.right,height:p.height},bottom:{width:p.width,height:p.bottom-t.bottom},left:{width:t.left-p.left,height:p.height}},d=Object.keys(s).map(function(e){return fe({key:e},s[e],{area:x(s[e])})}).sort(function(e,t){return t.area-e.area}),a=d.filter(function(e){var t=e.width,n=e.height;return t>=o.clientWidth&&n>=o.clientHeight}),l=0<a.length?a[0].key:d[0].key,f=e.split('-')[1];return l+(f?'-'+f:'')}function L(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=n?E(t):a(t,o);return b(o,i,n)}function S(e){var t=e.ownerDocument.defaultView,o=t.getComputedStyle(e),n=parseFloat(o.marginTop||0)+parseFloat(o.marginBottom||0),i=parseFloat(o.marginLeft||0)+parseFloat(o.marginRight||0),r={width:e.offsetWidth+i,height:e.offsetHeight+n};return r}function T(e){var t={left:'right',right:'left',bottom:'top',top:'bottom'};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function D(e,t,o){o=o.split('-')[0];var n=S(e),i={width:n.width,height:n.height},r=-1!==['right','left'].indexOf(o),p=r?'top':'left',s=r?'left':'top',d=r?'height':'width',a=r?'width':'height';return i[p]=t[p]+t[d]/2-n[d]/2,i[s]=o===s?t[s]-n[a]:t[T(s)],i}function C(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,o){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===o});var n=C(e,function(e){return e[t]===o});return e.indexOf(n)}function P(t,o,n){var i=void 0===n?t:t.slice(0,N(t,'name',n));return i.forEach(function(t){t['function']&&console.warn('`modifier.function` is deprecated, use `modifier.fn`!');var n=t['function']||t.fn;t.enabled&&e(n)&&(o.offsets.popper=g(o.offsets.popper),o.offsets.reference=g(o.offsets.reference),o=n(o,t))}),o}function k(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=O(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=D(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?'fixed':'absolute',e=P(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function W(e,t){return e.some(function(e){var o=e.name,n=e.enabled;return n&&o===t})}function H(e){for(var t=[!1,'ms','Webkit','Moz','O'],o=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],r=i?''+i+o:e;if('undefined'!=typeof document.body.style[r])return r}return null}function B(){return this.state.isDestroyed=!0,W(this.modifiers,'applyStyle')&&(this.popper.removeAttribute('x-placement'),this.popper.style.position='',this.popper.style.top='',this.popper.style.left='',this.popper.style.right='',this.popper.style.bottom='',this.popper.style.willChange='',this.popper.style[H('transform')]=''),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function A(e){var t=e.ownerDocument;return t?t.defaultView:window}function M(e,t,o,i){var r='BODY'===e.nodeName,p=r?e.ownerDocument.defaultView:e;p.addEventListener(t,o,{passive:!0}),r||M(n(p.parentNode),t,o,i),i.push(p)}function F(e,t,o,i){o.updateBound=i,A(e).addEventListener('resize',o.updateBound,{passive:!0});var r=n(e);return M(r,'scroll',o.updateBound,o.scrollParents),o.scrollElement=r,o.eventsEnabled=!0,o}function I(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}function R(e,t){return A(e).removeEventListener('resize',t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener('scroll',t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function U(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function Y(e){return''!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function j(e,t){Object.keys(t).forEach(function(o){var n='';-1!==['width','height','top','right','bottom','left'].indexOf(o)&&Y(t[o])&&(n='px'),e.style[o]=t[o]+n})}function V(e,t){Object.keys(t).forEach(function(o){var n=t[o];!1===n?e.removeAttribute(o):e.setAttribute(o,t[o])})}function q(e,t){var o=e.offsets,n=o.popper,i=o.reference,r=$,p=function(e){return e},s=r(i.width),d=r(n.width),a=-1!==['left','right'].indexOf(e.placement),l=-1!==e.placement.indexOf('-'),f=t?a||l||s%2==d%2?r:Z:p,m=t?r:p;return{left:f(1==s%2&&1==d%2&&!l&&t?n.left-1:n.left),top:m(n.top),bottom:m(n.bottom),right:f(n.right)}}function K(e,t,o){var n=C(e,function(e){var o=e.name;return o===t}),i=!!n&&e.some(function(e){return e.name===o&&e.enabled&&e.order<n.order});if(!i){var r='`'+t+'`';console.warn('`'+o+'`'+' modifier is required by '+r+' modifier in order to work, be sure to include it before '+r+'!')}return i}function z(e){return'end'===e?'start':'start'===e?'end':e}function G(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=ce.indexOf(e),n=ce.slice(o+1).concat(ce.slice(0,o));return t?n.reverse():n}function _(e,t,o,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],p=i[2];if(!r)return e;if(0===p.indexOf('%')){var s;switch(p){case'%p':s=o;break;case'%':case'%r':default:s=n;}var d=g(s);return d[t]/100*r}if('vh'===p||'vw'===p){var a;return a='vh'===p?ee(document.documentElement.clientHeight,window.innerHeight||0):ee(document.documentElement.clientWidth,window.innerWidth||0),a/100*r}return r}function X(e,t,o,n){var i=[0,0],r=-1!==['right','left'].indexOf(n),p=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=p.indexOf(C(p,function(e){return-1!==e.search(/,|\s/)}));p[s]&&-1===p[s].indexOf(',')&&console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');var d=/\s*,\s*|\s+/,a=-1===s?[p]:[p.slice(0,s).concat([p[s].split(d)[0]]),[p[s].split(d)[1]].concat(p.slice(s+1))];return a=a.map(function(e,n){var i=(1===n?!r:r)?'height':'width',p=!1;return e.reduce(function(e,t){return''===e[e.length-1]&&-1!==['+','-'].indexOf(t)?(e[e.length-1]=t,p=!0,e):p?(e[e.length-1]+=t,p=!1,e):e.concat(t)},[]).map(function(e){return _(e,i,t,o)})}),a.forEach(function(e,t){e.forEach(function(o,n){Y(o)&&(i[t]+=o*('-'===e[n-1]?-1:1))})}),i}function J(e,t){var o,n=t.offset,i=e.placement,r=e.offsets,p=r.popper,s=r.reference,d=i.split('-')[0];return o=Y(+n)?[+n,0]:X(n,p,s,d),'left'===d?(p.top+=o[0],p.left-=o[1]):'right'===d?(p.top+=o[0],p.left+=o[1]):'top'===d?(p.left+=o[0],p.top-=o[1]):'bottom'===d&&(p.left+=o[0],p.top+=o[1]),e.popper=p,e}for(var Q=Math.min,Z=Math.floor,$=Math.round,ee=Math.max,te='undefined'!=typeof window&&'undefined'!=typeof document,oe=['Edge','Trident','Firefox'],ne=0,ie=0;ie<oe.length;ie+=1)if(te&&0<=navigator.userAgent.indexOf(oe[ie])){ne=1;break}var i=te&&window.Promise,re=i?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},ne))}},pe=te&&!!(window.MSInputMethodContext&&document.documentMode),se=te&&/MSIE 10/.test(navigator.userAgent),de=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},ae=function(){function e(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),le=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},fe=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},me=te&&/Firefox/i.test(navigator.userAgent),he=['auto-start','auto','auto-end','top-start','top','top-end','right-start','right','right-end','bottom-end','bottom','bottom-start','left-end','left','left-start'],ce=he.slice(3),ge={FLIP:'flip',CLOCKWISE:'clockwise',COUNTERCLOCKWISE:'counterclockwise'},ue=function(){function t(o,n){var i=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};de(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=re(this.update.bind(this)),this.options=fe({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=o&&o.jquery?o[0]:o,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(fe({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=fe({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return fe({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(t){t.enabled&&e(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var p=this.options.eventsEnabled;p&&this.enableEventListeners(),this.state.eventsEnabled=p}return ae(t,[{key:'update',value:function(){return k.call(this)}},{key:'destroy',value:function(){return B.call(this)}},{key:'enableEventListeners',value:function(){return I.call(this)}},{key:'disableEventListeners',value:function(){return U.call(this)}}]),t}();return ue.Utils=('undefined'==typeof window?global:window).PopperUtils,ue.placements=he,ue.Defaults={placement:'bottom',positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,o=t.split('-')[0],n=t.split('-')[1];if(n){var i=e.offsets,r=i.reference,p=i.popper,s=-1!==['bottom','top'].indexOf(o),d=s?'left':'top',a=s?'width':'height',l={start:le({},d,r[d]),end:le({},d,r[d]+r[a]-p[a])};e.offsets.popper=fe({},p,l[n])}return e}},offset:{order:200,enabled:!0,fn:J,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var o=t.boundariesElement||p(e.instance.popper);e.instance.reference===o&&(o=p(o));var n=H('transform'),i=e.instance.popper.style,r=i.top,s=i.left,d=i[n];i.top='',i.left='',i[n]='';var a=v(e.instance.popper,e.instance.reference,t.padding,o,e.positionFixed);i.top=r,i.left=s,i[n]=d,t.boundaries=a;var l=t.priority,f=e.offsets.popper,m={primary:function(e){var o=f[e];return f[e]<a[e]&&!t.escapeWithReference&&(o=ee(f[e],a[e])),le({},e,o)},secondary:function(e){var o='right'===e?'left':'top',n=f[o];return f[e]>a[e]&&!t.escapeWithReference&&(n=Q(f[o],a[e]-('right'===e?f.width:f.height))),le({},o,n)}};return l.forEach(function(e){var t=-1===['left','top'].indexOf(e)?'secondary':'primary';f=fe({},f,m[t](e))}),e.offsets.popper=f,e},priority:['left','right','top','bottom'],padding:5,boundariesElement:'scrollParent'},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,o=t.popper,n=t.reference,i=e.placement.split('-')[0],r=Z,p=-1!==['top','bottom'].indexOf(i),s=p?'right':'bottom',d=p?'left':'top',a=p?'width':'height';return o[s]<r(n[d])&&(e.offsets.popper[d]=r(n[d])-o[a]),o[d]>r(n[s])&&(e.offsets.popper[d]=r(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,o){var n;if(!K(e.instance.modifiers,'arrow','keepTogether'))return e;var i=o.element;if('string'==typeof i){if(i=e.instance.popper.querySelector(i),!i)return e;}else if(!e.instance.popper.contains(i))return console.warn('WARNING: `arrow.element` must be child of its popper element!'),e;var r=e.placement.split('-')[0],p=e.offsets,s=p.popper,d=p.reference,a=-1!==['left','right'].indexOf(r),l=a?'height':'width',f=a?'Top':'Left',m=f.toLowerCase(),h=a?'left':'top',c=a?'bottom':'right',u=S(i)[l];d[c]-u<s[m]&&(e.offsets.popper[m]-=s[m]-(d[c]-u)),d[m]+u>s[c]&&(e.offsets.popper[m]+=d[m]+u-s[c]),e.offsets.popper=g(e.offsets.popper);var b=d[m]+d[l]/2-u/2,w=t(e.instance.popper),y=parseFloat(w['margin'+f],10),E=parseFloat(w['border'+f+'Width'],10),v=b-e.offsets.popper[m]-y-E;return v=ee(Q(s[l]-u,v),0),e.arrowElement=i,e.offsets.arrow=(n={},le(n,m,$(v)),le(n,h,''),n),e},element:'[x-arrow]'},flip:{order:600,enabled:!0,fn:function(e,t){if(W(e.instance.modifiers,'inner'))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var o=v(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split('-')[0],i=T(n),r=e.placement.split('-')[1]||'',p=[];switch(t.behavior){case ge.FLIP:p=[n,i];break;case ge.CLOCKWISE:p=G(n);break;case ge.COUNTERCLOCKWISE:p=G(n,!0);break;default:p=t.behavior;}return p.forEach(function(s,d){if(n!==s||p.length===d+1)return e;n=e.placement.split('-')[0],i=T(n);var a=e.offsets.popper,l=e.offsets.reference,f=Z,m='left'===n&&f(a.right)>f(l.left)||'right'===n&&f(a.left)<f(l.right)||'top'===n&&f(a.bottom)>f(l.top)||'bottom'===n&&f(a.top)<f(l.bottom),h=f(a.left)<f(o.left),c=f(a.right)>f(o.right),g=f(a.top)<f(o.top),u=f(a.bottom)>f(o.bottom),b='left'===n&&h||'right'===n&&c||'top'===n&&g||'bottom'===n&&u,w=-1!==['top','bottom'].indexOf(n),y=!!t.flipVariations&&(w&&'start'===r&&h||w&&'end'===r&&c||!w&&'start'===r&&g||!w&&'end'===r&&u);(m||b||y)&&(e.flipped=!0,(m||b)&&(n=p[d+1]),y&&(r=z(r)),e.placement=n+(r?'-'+r:''),e.offsets.popper=fe({},e.offsets.popper,D(e.instance.popper,e.offsets.reference,e.placement)),e=P(e.instance.modifiers,e,'flip'))}),e},behavior:'flip',padding:5,boundariesElement:'viewport'},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,o=t.split('-')[0],n=e.offsets,i=n.popper,r=n.reference,p=-1!==['left','right'].indexOf(o),s=-1===['top','left'].indexOf(o);return i[p?'left':'top']=r[o]-(s?i[p?'width':'height']:0),e.placement=T(t),e.offsets.popper=g(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!K(e.instance.modifiers,'hide','preventOverflow'))return e;var t=e.offsets.reference,o=C(e.instance.modifiers,function(e){return'preventOverflow'===e.name}).boundaries;if(t.bottom<o.top||t.left>o.right||t.top>o.bottom||t.right<o.left){if(!0===e.hide)return e;e.hide=!0,e.attributes['x-out-of-boundaries']=''}else{if(!1===e.hide)return e;e.hide=!1,e.attributes['x-out-of-boundaries']=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var o=t.x,n=t.y,i=e.offsets.popper,r=C(e.instance.modifiers,function(e){return'applyStyle'===e.name}).gpuAcceleration;void 0!==r&&console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');var s,d,a=void 0===r?t.gpuAcceleration:r,l=p(e.instance.popper),f=u(l),m={position:i.position},h=q(e,2>window.devicePixelRatio||!me),c='bottom'===o?'top':'bottom',g='right'===n?'left':'right',b=H('transform');if(d='bottom'==c?'HTML'===l.nodeName?-l.clientHeight+h.bottom:-f.height+h.bottom:h.top,s='right'==g?'HTML'===l.nodeName?-l.clientWidth+h.right:-f.width+h.right:h.left,a&&b)m[b]='translate3d('+s+'px, '+d+'px, 0)',m[c]=0,m[g]=0,m.willChange='transform';else{var w='bottom'==c?-1:1,y='right'==g?-1:1;m[c]=d*w,m[g]=s*y,m.willChange=c+', '+g}var E={"x-placement":e.placement};return e.attributes=fe({},E,e.attributes),e.styles=fe({},m,e.styles),e.arrowStyles=fe({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:'bottom',y:'right'},applyStyle:{order:900,enabled:!0,fn:function(e){return j(e.instance.popper,e.styles),V(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&j(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,o,n,i){var r=L(i,t,e,o.positionFixed),p=O(o.placement,r,t,e,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return t.setAttribute('x-placement',p),j(t,{position:o.positionFixed?'fixed':'absolute'}),o},gpuAcceleration:void 0}}},ue});;(function($){if(typeof $==='undefined'){throw new TypeError('Bootstrap\'s JavaScript requires jQuery. jQuery must be included before Bootstrap\'s JavaScript.');}
var version=$.fn.jquery.split(' ')[0].split('.');var minMajor=1;var ltMajor=2;var minMinor=9;var minPatch=1;var maxMajor=4;if(version[0]<ltMajor&&version[1]<minMinor||version[0]===minMajor&&version[1]===minMinor&&version[2]<minPatch||version[0]>=maxMajor){throw new Error('Bootstrap\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0');}})($);/*!
  * Bootstrap util.js v4.5.0 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(require('jquery')):typeof define==='function'&&define.amd?define(['jquery'],factory):(global=global||self,global.Util=factory(global.jQuery));}(this,(function($){'use strict';$=$&&Object.prototype.hasOwnProperty.call($,'default')?$['default']:$;var TRANSITION_END='transitionend';var MAX_UID=1000000;var MILLISECONDS_MULTIPLIER=1000;function toType(obj){if(obj===null||typeof obj==='undefined'){return""+obj;}
return{}.toString.call(obj).match(/\s([a-z]+)/i)[1].toLowerCase();}
function getSpecialTransitionEndEvent(){return{bindType:TRANSITION_END,delegateType:TRANSITION_END,handle:function handle(event){if($(event.target).is(this)){return event.handleObj.handler.apply(this,arguments);}
return undefined;}};}
function transitionEndEmulator(duration){var _this=this;var called=false;$(this).one(Util.TRANSITION_END,function(){called=true;});setTimeout(function(){if(!called){Util.triggerTransitionEnd(_this);}},duration);return this;}
function setTransitionEndSupport(){$.fn.emulateTransitionEnd=transitionEndEmulator;$.event.special[Util.TRANSITION_END]=getSpecialTransitionEndEvent();}
var Util={TRANSITION_END:'bsTransitionEnd',getUID:function getUID(prefix){do{prefix+=~~(Math.random()*MAX_UID);}while(document.getElementById(prefix));return prefix;},getSelectorFromElement:function getSelectorFromElement(element){var selector=element.getAttribute('data-target');if(!selector||selector==='#'){var hrefAttr=element.getAttribute('href');selector=hrefAttr&&hrefAttr!=='#'?hrefAttr.trim():'';}
try{return document.querySelector(selector)?selector:null;}catch(err){return null;}},getTransitionDurationFromElement:function getTransitionDurationFromElement(element){if(!element){return 0;}
var transitionDuration=$(element).css('transition-duration');var transitionDelay=$(element).css('transition-delay');var floatTransitionDuration=parseFloat(transitionDuration);var floatTransitionDelay=parseFloat(transitionDelay);if(!floatTransitionDuration&&!floatTransitionDelay){return 0;}
transitionDuration=transitionDuration.split(',')[0];transitionDelay=transitionDelay.split(',')[0];return(parseFloat(transitionDuration)+parseFloat(transitionDelay))*MILLISECONDS_MULTIPLIER;},reflow:function reflow(element){return element.offsetHeight;},triggerTransitionEnd:function triggerTransitionEnd(element){$(element).trigger(TRANSITION_END);},supportsTransitionEnd:function supportsTransitionEnd(){return Boolean(TRANSITION_END);},isElement:function isElement(obj){return(obj[0]||obj).nodeType;},typeCheckConfig:function typeCheckConfig(componentName,config,configTypes){for(var property in configTypes){if(Object.prototype.hasOwnProperty.call(configTypes,property)){var expectedTypes=configTypes[property];var value=config[property];var valueType=value&&Util.isElement(value)?'element':toType(value);if(!new RegExp(expectedTypes).test(valueType)){throw new Error(componentName.toUpperCase()+": "+("Option \""+property+"\" provided type \""+valueType+"\" ")+("but expected type \""+expectedTypes+"\"."));}}}},findShadowRoot:function findShadowRoot(element){if(!document.documentElement.attachShadow){return null;}
if(typeof element.getRootNode==='function'){var root=element.getRootNode();return root instanceof ShadowRoot?root:null;}
if(element instanceof ShadowRoot){return element;}
if(!element.parentNode){return null;}
return Util.findShadowRoot(element.parentNode);},jQueryDetection:function jQueryDetection(){if(typeof $==='undefined'){throw new TypeError('Bootstrap\'s JavaScript requires jQuery. jQuery must be included before Bootstrap\'s JavaScript.');}
var version=$.fn.jquery.split(' ')[0].split('.');var minMajor=1;var ltMajor=2;var minMinor=9;var minPatch=1;var maxMajor=4;if(version[0]<ltMajor&&version[1]<minMinor||version[0]===minMajor&&version[1]===minMinor&&version[2]<minPatch||version[0]>=maxMajor){throw new Error('Bootstrap\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0');}}};Util.jQueryDetection();setTransitionEndSupport();return Util;})));;/*!
  * Bootstrap dropdown.js v4.5.0 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(require('jquery'),require('popper.js'),require('./util.js')):typeof define==='function'&&define.amd?define(['jquery','popper.js','./util.js'],factory):(global=global||self,global.Dropdown=factory(global.jQuery,global.Popper,global.Util));}(this,(function($,Popper,Util){'use strict';$=$&&Object.prototype.hasOwnProperty.call($,'default')?$['default']:$;Popper=Popper&&Object.prototype.hasOwnProperty.call(Popper,'default')?Popper['default']:Popper;Util=Util&&Object.prototype.hasOwnProperty.call(Util,'default')?Util['default']:Util;function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}
return obj;}
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}
return keys;}
function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}
return target;}
var NAME='dropdown';var VERSION='4.5.0';var DATA_KEY='bs.dropdown';var EVENT_KEY="."+DATA_KEY;var DATA_API_KEY='.data-api';var JQUERY_NO_CONFLICT=$.fn[NAME];var ESCAPE_KEYCODE=27;var SPACE_KEYCODE=32;var TAB_KEYCODE=9;var ARROW_UP_KEYCODE=38;var ARROW_DOWN_KEYCODE=40;var RIGHT_MOUSE_BUTTON_WHICH=3;var REGEXP_KEYDOWN=new RegExp(ARROW_UP_KEYCODE+"|"+ARROW_DOWN_KEYCODE+"|"+ESCAPE_KEYCODE);var EVENT_HIDE="hide"+EVENT_KEY;var EVENT_HIDDEN="hidden"+EVENT_KEY;var EVENT_SHOW="show"+EVENT_KEY;var EVENT_SHOWN="shown"+EVENT_KEY;var EVENT_CLICK="click"+EVENT_KEY;var EVENT_CLICK_DATA_API="click"+EVENT_KEY+DATA_API_KEY;var EVENT_KEYDOWN_DATA_API="keydown"+EVENT_KEY+DATA_API_KEY;var EVENT_KEYUP_DATA_API="keyup"+EVENT_KEY+DATA_API_KEY;var CLASS_NAME_DISABLED='disabled';var CLASS_NAME_SHOW='show';var CLASS_NAME_DROPUP='dropup';var CLASS_NAME_DROPRIGHT='dropright';var CLASS_NAME_DROPLEFT='dropleft';var CLASS_NAME_MENURIGHT='dropdown-menu-right';var CLASS_NAME_POSITION_STATIC='position-static';var SELECTOR_DATA_TOGGLE='[data-toggle="dropdown"]';var SELECTOR_FORM_CHILD='.dropdown form';var SELECTOR_MENU='.dropdown-menu';var SELECTOR_NAVBAR_NAV='.navbar-nav';var SELECTOR_VISIBLE_ITEMS='.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';var PLACEMENT_TOP='top-start';var PLACEMENT_TOPEND='top-end';var PLACEMENT_BOTTOM='bottom-start';var PLACEMENT_BOTTOMEND='bottom-end';var PLACEMENT_RIGHT='right-start';var PLACEMENT_LEFT='left-start';var Default={offset:0,flip:true,boundary:'scrollParent',reference:'toggle',display:'dynamic',popperConfig:null};var DefaultType={offset:'(number|string|function)',flip:'boolean',boundary:'(string|element)',reference:'(string|element)',display:'string',popperConfig:'(null|object)'};var Dropdown=function(){function Dropdown(element,config){this._element=element;this._popper=null;this._config=this._getConfig(config);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners();}
var _proto=Dropdown.prototype;_proto.toggle=function toggle(){if(this._element.disabled||$(this._element).hasClass(CLASS_NAME_DISABLED)){return;}
var isActive=$(this._menu).hasClass(CLASS_NAME_SHOW);Dropdown._clearMenus();if(isActive){return;}
this.show(true);};_proto.show=function show(usePopper){if(usePopper===void 0){usePopper=false;}
if(this._element.disabled||$(this._element).hasClass(CLASS_NAME_DISABLED)||$(this._menu).hasClass(CLASS_NAME_SHOW)){return;}
var relatedTarget={relatedTarget:this._element};var showEvent=$.Event(EVENT_SHOW,relatedTarget);var parent=Dropdown._getParentFromElement(this._element);$(parent).trigger(showEvent);if(showEvent.isDefaultPrevented()){return;}
if(!this._inNavbar&&usePopper){if(typeof Popper==='undefined'){throw new TypeError('Bootstrap\'s dropdowns require Popper.js (https://popper.js.org/)');}
var referenceElement=this._element;if(this._config.reference==='parent'){referenceElement=parent;}else if(Util.isElement(this._config.reference)){referenceElement=this._config.reference;if(typeof this._config.reference.jquery!=='undefined'){referenceElement=this._config.reference[0];}}
if(this._config.boundary!=='scrollParent'){$(parent).addClass(CLASS_NAME_POSITION_STATIC);}
this._popper=new Popper(referenceElement,this._menu,this._getPopperConfig());}
if('ontouchstart'in document.documentElement&&$(parent).closest(SELECTOR_NAVBAR_NAV).length===0){$(document.body).children().on('mouseover',null,$.noop);}
this._element.focus();this._element.setAttribute('aria-expanded',true);$(this._menu).toggleClass(CLASS_NAME_SHOW);$(parent).toggleClass(CLASS_NAME_SHOW).trigger($.Event(EVENT_SHOWN,relatedTarget));};_proto.hide=function hide(){if(this._element.disabled||$(this._element).hasClass(CLASS_NAME_DISABLED)||!$(this._menu).hasClass(CLASS_NAME_SHOW)){return;}
var relatedTarget={relatedTarget:this._element};var hideEvent=$.Event(EVENT_HIDE,relatedTarget);var parent=Dropdown._getParentFromElement(this._element);$(parent).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){return;}
if(this._popper){this._popper.destroy();}
$(this._menu).toggleClass(CLASS_NAME_SHOW);$(parent).toggleClass(CLASS_NAME_SHOW).trigger($.Event(EVENT_HIDDEN,relatedTarget));};_proto.dispose=function dispose(){$.removeData(this._element,DATA_KEY);$(this._element).off(EVENT_KEY);this._element=null;this._menu=null;if(this._popper!==null){this._popper.destroy();this._popper=null;}};_proto.update=function update(){this._inNavbar=this._detectNavbar();if(this._popper!==null){this._popper.scheduleUpdate();}};_proto._addEventListeners=function _addEventListeners(){var _this=this;$(this._element).on(EVENT_CLICK,function(event){event.preventDefault();event.stopPropagation();_this.toggle();});};_proto._getConfig=function _getConfig(config){config=_objectSpread2(_objectSpread2(_objectSpread2({},this.constructor.Default),$(this._element).data()),config);Util.typeCheckConfig(NAME,config,this.constructor.DefaultType);return config;};_proto._getMenuElement=function _getMenuElement(){if(!this._menu){var parent=Dropdown._getParentFromElement(this._element);if(parent){this._menu=parent.querySelector(SELECTOR_MENU);}}
return this._menu;};_proto._getPlacement=function _getPlacement(){var $parentDropdown=$(this._element.parentNode);var placement=PLACEMENT_BOTTOM;if($parentDropdown.hasClass(CLASS_NAME_DROPUP)){placement=$(this._menu).hasClass(CLASS_NAME_MENURIGHT)?PLACEMENT_TOPEND:PLACEMENT_TOP;}else if($parentDropdown.hasClass(CLASS_NAME_DROPRIGHT)){placement=PLACEMENT_RIGHT;}else if($parentDropdown.hasClass(CLASS_NAME_DROPLEFT)){placement=PLACEMENT_LEFT;}else if($(this._menu).hasClass(CLASS_NAME_MENURIGHT)){placement=PLACEMENT_BOTTOMEND;}
return placement;};_proto._detectNavbar=function _detectNavbar(){return $(this._element).closest('.navbar').length>0;};_proto._getOffset=function _getOffset(){var _this2=this;var offset={};if(typeof this._config.offset==='function'){offset.fn=function(data){data.offsets=_objectSpread2(_objectSpread2({},data.offsets),_this2._config.offset(data.offsets,_this2._element)||{});return data;};}else{offset.offset=this._config.offset;}
return offset;};_proto._getPopperConfig=function _getPopperConfig(){var popperConfig={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};if(this._config.display==='static'){popperConfig.modifiers.applyStyle={enabled:false};}
return _objectSpread2(_objectSpread2({},popperConfig),this._config.popperConfig);};Dropdown._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var data=$(this).data(DATA_KEY);var _config=typeof config==='object'?config:null;if(!data){data=new Dropdown(this,_config);$(this).data(DATA_KEY,data);}
if(typeof config==='string'){if(typeof data[config]==='undefined'){throw new TypeError("No method named \""+config+"\"");}
data[config]();}});};Dropdown._clearMenus=function _clearMenus(event){if(event&&(event.which===RIGHT_MOUSE_BUTTON_WHICH||event.type==='keyup'&&event.which!==TAB_KEYCODE)){return;}
var toggles=[].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE));for(var i=0,len=toggles.length;i<len;i++){var parent=Dropdown._getParentFromElement(toggles[i]);var context=$(toggles[i]).data(DATA_KEY);var relatedTarget={relatedTarget:toggles[i]};if(event&&event.type==='click'){relatedTarget.clickEvent=event;}
if(!context){continue;}
var dropdownMenu=context._menu;if(!$(parent).hasClass(CLASS_NAME_SHOW)){continue;}
if(event&&(event.type==='click'&&/input|textarea/i.test(event.target.tagName)||event.type==='keyup'&&event.which===TAB_KEYCODE)&&$.contains(parent,event.target)){continue;}
var hideEvent=$.Event(EVENT_HIDE,relatedTarget);$(parent).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){continue;}
if('ontouchstart'in document.documentElement){$(document.body).children().off('mouseover',null,$.noop);}
toggles[i].setAttribute('aria-expanded','false');if(context._popper){context._popper.destroy();}
$(dropdownMenu).removeClass(CLASS_NAME_SHOW);$(parent).removeClass(CLASS_NAME_SHOW).trigger($.Event(EVENT_HIDDEN,relatedTarget));}};Dropdown._getParentFromElement=function _getParentFromElement(element){var parent;var selector=Util.getSelectorFromElement(element);if(selector){parent=document.querySelector(selector);}
return parent||element.parentNode;};Dropdown._dataApiKeydownHandler=function _dataApiKeydownHandler(event){if(/input|textarea/i.test(event.target.tagName)?event.which===SPACE_KEYCODE||event.which!==ESCAPE_KEYCODE&&(event.which!==ARROW_DOWN_KEYCODE&&event.which!==ARROW_UP_KEYCODE||$(event.target).closest(SELECTOR_MENU).length):!REGEXP_KEYDOWN.test(event.which)){return;}
if(this.disabled||$(this).hasClass(CLASS_NAME_DISABLED)){return;}
var parent=Dropdown._getParentFromElement(this);var isActive=$(parent).hasClass(CLASS_NAME_SHOW);if(!isActive&&event.which===ESCAPE_KEYCODE){return;}
event.preventDefault();event.stopPropagation();if(!isActive||isActive&&(event.which===ESCAPE_KEYCODE||event.which===SPACE_KEYCODE)){if(event.which===ESCAPE_KEYCODE){$(parent.querySelector(SELECTOR_DATA_TOGGLE)).trigger('focus');}
$(this).trigger('click');return;}
var items=[].slice.call(parent.querySelectorAll(SELECTOR_VISIBLE_ITEMS)).filter(function(item){return $(item).is(':visible');});if(items.length===0){return;}
var index=items.indexOf(event.target);if(event.which===ARROW_UP_KEYCODE&&index>0){index--;}
if(event.which===ARROW_DOWN_KEYCODE&&index<items.length-1){index++;}
if(index<0){index=0;}
items[index].focus();};_createClass(Dropdown,null,[{key:"VERSION",get:function get(){return VERSION;}},{key:"Default",get:function get(){return Default;}},{key:"DefaultType",get:function get(){return DefaultType;}}]);return Dropdown;}();$(document).on(EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE,Dropdown._dataApiKeydownHandler).on(EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown._dataApiKeydownHandler).on(EVENT_CLICK_DATA_API+" "+EVENT_KEYUP_DATA_API,Dropdown._clearMenus).on(EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(event){event.preventDefault();event.stopPropagation();Dropdown._jQueryInterface.call($(this),'toggle');}).on(EVENT_CLICK_DATA_API,SELECTOR_FORM_CHILD,function(e){e.stopPropagation();});$.fn[NAME]=Dropdown._jQueryInterface;$.fn[NAME].Constructor=Dropdown;$.fn[NAME].noConflict=function(){$.fn[NAME]=JQUERY_NO_CONFLICT;return Dropdown._jQueryInterface;};return Dropdown;})));;/*!
  * Bootstrap tooltip.js v4.5.0 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(require('jquery'),require('popper.js'),require('./util.js')):typeof define==='function'&&define.amd?define(['jquery','popper.js','./util.js'],factory):(global=global||self,global.Tooltip=factory(global.jQuery,global.Popper,global.Util));}(this,(function($,Popper,Util){'use strict';$=$&&Object.prototype.hasOwnProperty.call($,'default')?$['default']:$;Popper=Popper&&Object.prototype.hasOwnProperty.call(Popper,'default')?Popper['default']:Popper;Util=Util&&Object.prototype.hasOwnProperty.call(Util,'default')?Util['default']:Util;function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}
return obj;}
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}
return keys;}
function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}
return target;}
var uriAttrs=['background','cite','href','itemtype','longdesc','poster','src','xlink:href'];var ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i;var DefaultWhitelist={'*':['class','dir','id','lang','role',ARIA_ATTRIBUTE_PATTERN],a:['target','href','title','rel'],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:['src','srcset','alt','title','width','height'],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};var SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi;var DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function allowedAttribute(attr,allowedAttributeList){var attrName=attr.nodeName.toLowerCase();if(allowedAttributeList.indexOf(attrName)!==-1){if(uriAttrs.indexOf(attrName)!==-1){return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN)||attr.nodeValue.match(DATA_URL_PATTERN));}
return true;}
var regExp=allowedAttributeList.filter(function(attrRegex){return attrRegex instanceof RegExp;});for(var i=0,len=regExp.length;i<len;i++){if(attrName.match(regExp[i])){return true;}}
return false;}
function sanitizeHtml(unsafeHtml,whiteList,sanitizeFn){if(unsafeHtml.length===0){return unsafeHtml;}
if(sanitizeFn&&typeof sanitizeFn==='function'){return sanitizeFn(unsafeHtml);}
var domParser=new window.DOMParser();var createdDocument=domParser.parseFromString(unsafeHtml,'text/html');var whitelistKeys=Object.keys(whiteList);var elements=[].slice.call(createdDocument.body.querySelectorAll('*'));var _loop=function _loop(i,len){var el=elements[i];var elName=el.nodeName.toLowerCase();if(whitelistKeys.indexOf(el.nodeName.toLowerCase())===-1){el.parentNode.removeChild(el);return"continue";}
var attributeList=[].slice.call(el.attributes);var whitelistedAttributes=[].concat(whiteList['*']||[],whiteList[elName]||[]);attributeList.forEach(function(attr){if(!allowedAttribute(attr,whitelistedAttributes)){el.removeAttribute(attr.nodeName);}});};for(var i=0,len=elements.length;i<len;i++){var _ret=_loop(i);if(_ret==="continue")continue;}
return createdDocument.body.innerHTML;}
var NAME='tooltip';var VERSION='4.5.0';var DATA_KEY='bs.tooltip';var EVENT_KEY="."+DATA_KEY;var JQUERY_NO_CONFLICT=$.fn[NAME];var CLASS_PREFIX='bs-tooltip';var BSCLS_PREFIX_REGEX=new RegExp("(^|\\s)"+CLASS_PREFIX+"\\S+",'g');var DISALLOWED_ATTRIBUTES=['sanitize','whiteList','sanitizeFn'];var DefaultType={animation:'boolean',template:'string',title:'(string|element|function)',trigger:'string',delay:'(number|object)',html:'boolean',selector:'(string|boolean)',placement:'(string|function)',offset:'(number|string|function)',container:'(string|element|boolean)',fallbackPlacement:'(string|array)',boundary:'(string|element)',sanitize:'boolean',sanitizeFn:'(null|function)',whiteList:'object',popperConfig:'(null|object)'};var AttachmentMap={AUTO:'auto',TOP:'top',RIGHT:'right',BOTTOM:'bottom',LEFT:'left'};var Default={animation:true,template:'<div class="tooltip" role="tooltip">'+'<div class="arrow"></div>'+'<div class="tooltip-inner"></div></div>',trigger:'hover focus',title:'',delay:0,html:false,selector:false,placement:'top',offset:0,container:false,fallbackPlacement:'flip',boundary:'scrollParent',sanitize:true,sanitizeFn:null,whiteList:DefaultWhitelist,popperConfig:null};var HOVER_STATE_SHOW='show';var HOVER_STATE_OUT='out';var Event={HIDE:"hide"+EVENT_KEY,HIDDEN:"hidden"+EVENT_KEY,SHOW:"show"+EVENT_KEY,SHOWN:"shown"+EVENT_KEY,INSERTED:"inserted"+EVENT_KEY,CLICK:"click"+EVENT_KEY,FOCUSIN:"focusin"+EVENT_KEY,FOCUSOUT:"focusout"+EVENT_KEY,MOUSEENTER:"mouseenter"+EVENT_KEY,MOUSELEAVE:"mouseleave"+EVENT_KEY};var CLASS_NAME_FADE='fade';var CLASS_NAME_SHOW='show';var SELECTOR_TOOLTIP_INNER='.tooltip-inner';var SELECTOR_ARROW='.arrow';var TRIGGER_HOVER='hover';var TRIGGER_FOCUS='focus';var TRIGGER_CLICK='click';var TRIGGER_MANUAL='manual';var Tooltip=function(){function Tooltip(element,config){if(typeof Popper==='undefined'){throw new TypeError('Bootstrap\'s tooltips require Popper.js (https://popper.js.org/)');}
this._isEnabled=true;this._timeout=0;this._hoverState='';this._activeTrigger={};this._popper=null;this.element=element;this.config=this._getConfig(config);this.tip=null;this._setListeners();}
var _proto=Tooltip.prototype;_proto.enable=function enable(){this._isEnabled=true;};_proto.disable=function disable(){this._isEnabled=false;};_proto.toggleEnabled=function toggleEnabled(){this._isEnabled=!this._isEnabled;};_proto.toggle=function toggle(event){if(!this._isEnabled){return;}
if(event){var dataKey=this.constructor.DATA_KEY;var context=$(event.currentTarget).data(dataKey);if(!context){context=new this.constructor(event.currentTarget,this._getDelegateConfig());$(event.currentTarget).data(dataKey,context);}
context._activeTrigger.click=!context._activeTrigger.click;if(context._isWithActiveTrigger()){context._enter(null,context);}else{context._leave(null,context);}}else{if($(this.getTipElement()).hasClass(CLASS_NAME_SHOW)){this._leave(null,this);return;}
this._enter(null,this);}};_proto.dispose=function dispose(){clearTimeout(this._timeout);$.removeData(this.element,this.constructor.DATA_KEY);$(this.element).off(this.constructor.EVENT_KEY);$(this.element).closest('.modal').off('hide.bs.modal',this._hideModalHandler);if(this.tip){$(this.tip).remove();}
this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;if(this._popper){this._popper.destroy();}
this._popper=null;this.element=null;this.config=null;this.tip=null;};_proto.show=function show(){var _this=this;if($(this.element).css('display')==='none'){throw new Error('Please use show on visible elements');}
var showEvent=$.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){$(this.element).trigger(showEvent);var shadowRoot=Util.findShadowRoot(this.element);var isInTheDom=$.contains(shadowRoot!==null?shadowRoot:this.element.ownerDocument.documentElement,this.element);if(showEvent.isDefaultPrevented()||!isInTheDom){return;}
var tip=this.getTipElement();var tipId=Util.getUID(this.constructor.NAME);tip.setAttribute('id',tipId);this.element.setAttribute('aria-describedby',tipId);this.setContent();if(this.config.animation){$(tip).addClass(CLASS_NAME_FADE);}
var placement=typeof this.config.placement==='function'?this.config.placement.call(this,tip,this.element):this.config.placement;var attachment=this._getAttachment(placement);this.addAttachmentClass(attachment);var container=this._getContainer();$(tip).data(this.constructor.DATA_KEY,this);if(!$.contains(this.element.ownerDocument.documentElement,this.tip)){$(tip).appendTo(container);}
$(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new Popper(this.element,tip,this._getPopperConfig(attachment));$(tip).addClass(CLASS_NAME_SHOW);if('ontouchstart'in document.documentElement){$(document.body).children().on('mouseover',null,$.noop);}
var complete=function complete(){if(_this.config.animation){_this._fixTransition();}
var prevHoverState=_this._hoverState;_this._hoverState=null;$(_this.element).trigger(_this.constructor.Event.SHOWN);if(prevHoverState===HOVER_STATE_OUT){_this._leave(null,_this);}};if($(this.tip).hasClass(CLASS_NAME_FADE)){var transitionDuration=Util.getTransitionDurationFromElement(this.tip);$(this.tip).one(Util.TRANSITION_END,complete).emulateTransitionEnd(transitionDuration);}else{complete();}}};_proto.hide=function hide(callback){var _this2=this;var tip=this.getTipElement();var hideEvent=$.Event(this.constructor.Event.HIDE);var complete=function complete(){if(_this2._hoverState!==HOVER_STATE_SHOW&&tip.parentNode){tip.parentNode.removeChild(tip);}
_this2._cleanTipClass();_this2.element.removeAttribute('aria-describedby');$(_this2.element).trigger(_this2.constructor.Event.HIDDEN);if(_this2._popper!==null){_this2._popper.destroy();}
if(callback){callback();}};$(this.element).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){return;}
$(tip).removeClass(CLASS_NAME_SHOW);if('ontouchstart'in document.documentElement){$(document.body).children().off('mouseover',null,$.noop);}
this._activeTrigger[TRIGGER_CLICK]=false;this._activeTrigger[TRIGGER_FOCUS]=false;this._activeTrigger[TRIGGER_HOVER]=false;if($(this.tip).hasClass(CLASS_NAME_FADE)){var transitionDuration=Util.getTransitionDurationFromElement(tip);$(tip).one(Util.TRANSITION_END,complete).emulateTransitionEnd(transitionDuration);}else{complete();}
this._hoverState='';};_proto.update=function update(){if(this._popper!==null){this._popper.scheduleUpdate();}};_proto.isWithContent=function isWithContent(){return Boolean(this.getTitle());};_proto.addAttachmentClass=function addAttachmentClass(attachment){$(this.getTipElement()).addClass(CLASS_PREFIX+"-"+attachment);};_proto.getTipElement=function getTipElement(){this.tip=this.tip||$(this.config.template)[0];return this.tip;};_proto.setContent=function setContent(){var tip=this.getTipElement();this.setElementContent($(tip.querySelectorAll(SELECTOR_TOOLTIP_INNER)),this.getTitle());$(tip).removeClass(CLASS_NAME_FADE+" "+CLASS_NAME_SHOW);};_proto.setElementContent=function setElementContent($element,content){if(typeof content==='object'&&(content.nodeType||content.jquery)){if(this.config.html){if(!$(content).parent().is($element)){$element.empty().append(content);}}else{$element.text($(content).text());}
return;}
if(this.config.html){if(this.config.sanitize){content=sanitizeHtml(content,this.config.whiteList,this.config.sanitizeFn);}
$element.html(content);}else{$element.text(content);}};_proto.getTitle=function getTitle(){var title=this.element.getAttribute('data-original-title');if(!title){title=typeof this.config.title==='function'?this.config.title.call(this.element):this.config.title;}
return title;};_proto._getPopperConfig=function _getPopperConfig(attachment){var _this3=this;var defaultBsConfig={placement:attachment,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:SELECTOR_ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function onCreate(data){if(data.originalPlacement!==data.placement){_this3._handlePopperPlacementChange(data);}},onUpdate:function onUpdate(data){return _this3._handlePopperPlacementChange(data);}};return _objectSpread2(_objectSpread2({},defaultBsConfig),this.config.popperConfig);};_proto._getOffset=function _getOffset(){var _this4=this;var offset={};if(typeof this.config.offset==='function'){offset.fn=function(data){data.offsets=_objectSpread2(_objectSpread2({},data.offsets),_this4.config.offset(data.offsets,_this4.element)||{});return data;};}else{offset.offset=this.config.offset;}
return offset;};_proto._getContainer=function _getContainer(){if(this.config.container===false){return document.body;}
if(Util.isElement(this.config.container)){return $(this.config.container);}
return $(document).find(this.config.container);};_proto._getAttachment=function _getAttachment(placement){return AttachmentMap[placement.toUpperCase()];};_proto._setListeners=function _setListeners(){var _this5=this;var triggers=this.config.trigger.split(' ');triggers.forEach(function(trigger){if(trigger==='click'){$(_this5.element).on(_this5.constructor.Event.CLICK,_this5.config.selector,function(event){return _this5.toggle(event);});}else if(trigger!==TRIGGER_MANUAL){var eventIn=trigger===TRIGGER_HOVER?_this5.constructor.Event.MOUSEENTER:_this5.constructor.Event.FOCUSIN;var eventOut=trigger===TRIGGER_HOVER?_this5.constructor.Event.MOUSELEAVE:_this5.constructor.Event.FOCUSOUT;$(_this5.element).on(eventIn,_this5.config.selector,function(event){return _this5._enter(event);}).on(eventOut,_this5.config.selector,function(event){return _this5._leave(event);});}});this._hideModalHandler=function(){if(_this5.element){_this5.hide();}};$(this.element).closest('.modal').on('hide.bs.modal',this._hideModalHandler);if(this.config.selector){this.config=_objectSpread2(_objectSpread2({},this.config),{},{trigger:'manual',selector:''});}else{this._fixTitle();}};_proto._fixTitle=function _fixTitle(){var titleType=typeof this.element.getAttribute('data-original-title');if(this.element.getAttribute('title')||titleType!=='string'){this.element.setAttribute('data-original-title',this.element.getAttribute('title')||'');this.element.setAttribute('title','');}};_proto._enter=function _enter(event,context){var dataKey=this.constructor.DATA_KEY;context=context||$(event.currentTarget).data(dataKey);if(!context){context=new this.constructor(event.currentTarget,this._getDelegateConfig());$(event.currentTarget).data(dataKey,context);}
if(event){context._activeTrigger[event.type==='focusin'?TRIGGER_FOCUS:TRIGGER_HOVER]=true;}
if($(context.getTipElement()).hasClass(CLASS_NAME_SHOW)||context._hoverState===HOVER_STATE_SHOW){context._hoverState=HOVER_STATE_SHOW;return;}
clearTimeout(context._timeout);context._hoverState=HOVER_STATE_SHOW;if(!context.config.delay||!context.config.delay.show){context.show();return;}
context._timeout=setTimeout(function(){if(context._hoverState===HOVER_STATE_SHOW){context.show();}},context.config.delay.show);};_proto._leave=function _leave(event,context){var dataKey=this.constructor.DATA_KEY;context=context||$(event.currentTarget).data(dataKey);if(!context){context=new this.constructor(event.currentTarget,this._getDelegateConfig());$(event.currentTarget).data(dataKey,context);}
if(event){context._activeTrigger[event.type==='focusout'?TRIGGER_FOCUS:TRIGGER_HOVER]=false;}
if(context._isWithActiveTrigger()){return;}
clearTimeout(context._timeout);context._hoverState=HOVER_STATE_OUT;if(!context.config.delay||!context.config.delay.hide){context.hide();return;}
context._timeout=setTimeout(function(){if(context._hoverState===HOVER_STATE_OUT){context.hide();}},context.config.delay.hide);};_proto._isWithActiveTrigger=function _isWithActiveTrigger(){for(var trigger in this._activeTrigger){if(this._activeTrigger[trigger]){return true;}}
return false;};_proto._getConfig=function _getConfig(config){var dataAttributes=$(this.element).data();Object.keys(dataAttributes).forEach(function(dataAttr){if(DISALLOWED_ATTRIBUTES.indexOf(dataAttr)!==-1){delete dataAttributes[dataAttr];}});config=_objectSpread2(_objectSpread2(_objectSpread2({},this.constructor.Default),dataAttributes),typeof config==='object'&&config?config:{});if(typeof config.delay==='number'){config.delay={show:config.delay,hide:config.delay};}
if(typeof config.title==='number'){config.title=config.title.toString();}
if(typeof config.content==='number'){config.content=config.content.toString();}
Util.typeCheckConfig(NAME,config,this.constructor.DefaultType);if(config.sanitize){config.template=sanitizeHtml(config.template,config.whiteList,config.sanitizeFn);}
return config;};_proto._getDelegateConfig=function _getDelegateConfig(){var config={};if(this.config){for(var key in this.config){if(this.constructor.Default[key]!==this.config[key]){config[key]=this.config[key];}}}
return config;};_proto._cleanTipClass=function _cleanTipClass(){var $tip=$(this.getTipElement());var tabClass=$tip.attr('class').match(BSCLS_PREFIX_REGEX);if(tabClass!==null&&tabClass.length){$tip.removeClass(tabClass.join(''));}};_proto._handlePopperPlacementChange=function _handlePopperPlacementChange(popperData){this.tip=popperData.instance.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(popperData.placement));};_proto._fixTransition=function _fixTransition(){var tip=this.getTipElement();var initConfigAnimation=this.config.animation;if(tip.getAttribute('x-placement')!==null){return;}
$(tip).removeClass(CLASS_NAME_FADE);this.config.animation=false;this.hide();this.show();this.config.animation=initConfigAnimation;};Tooltip._jQueryInterface=function _jQueryInterface(config){return this.each(function(){var data=$(this).data(DATA_KEY);var _config=typeof config==='object'&&config;if(!data&&/dispose|hide/.test(config)){return;}
if(!data){data=new Tooltip(this,_config);$(this).data(DATA_KEY,data);}
if(typeof config==='string'){if(typeof data[config]==='undefined'){throw new TypeError("No method named \""+config+"\"");}
data[config]();}});};_createClass(Tooltip,null,[{key:"VERSION",get:function get(){return VERSION;}},{key:"Default",get:function get(){return Default;}},{key:"NAME",get:function get(){return NAME;}},{key:"DATA_KEY",get:function get(){return DATA_KEY;}},{key:"Event",get:function get(){return Event;}},{key:"EVENT_KEY",get:function get(){return EVENT_KEY;}},{key:"DefaultType",get:function get(){return DefaultType;}}]);return Tooltip;}();$.fn[NAME]=Tooltip._jQueryInterface;$.fn[NAME].Constructor=Tooltip;$.fn[NAME].noConflict=function(){$.fn[NAME]=JQUERY_NO_CONFLICT;return Tooltip._jQueryInterface;};return Tooltip;})));;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).basicLightbox=e()}}((function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s="function"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement("div");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i;t.create=function(e,n){var t=function(e,n){var t=o('\n\t\t<div class="basicLightbox '.concat(n.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),i=t.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,"IMG"),u=r(i,"VIDEO"),s=r(i,"IFRAME");return!0===c&&t.classList.add("basicLightbox--img"),!0===u&&t.classList.add("basicLightbox--video"),!0===s&&t.classList.add("basicLightbox--iframe"),t}(e=function(e){var n="string"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error("Content must be a DOM element/node or string");return!0===n?Array.from(o(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if("function"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener("click",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),n()}))}),10),!0}(t,(function(){if("function"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)}));;/*! lazysizes - v5.2.0 */!function(a,b){var c=b(a,a.document,Date);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}("undefined"!=typeof window?window:{},function(a,b,c){"use strict";var d,e;if(function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};e=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in e||(e[b]=c[b])}(),!b||!b.getElementsByClassName)return{init:function(){},cfg:e,noSupport:!0};var f=b.documentElement,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h].bind(a),k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,c,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=d,h.initEvent(c,!f,!g),h.detail=e,a.dispatchEvent(h),h},w=function(b,c){var d;!g&&(d=a.picturefill||e.pf)?(c&&c.src&&!b[i]("srcset")&&b.setAttribute("srcset",c.src),d({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<e.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,d=0,f=e.throttleDelay,g=e.ricTimeout,h=function(){b=!1,d=c.now(),a()},i=m&&g>49?function(){m(h,{timeout:g}),g!==e.ricTimeout&&(g=e.ricTimeout)}:A(function(){k(h)},!0);return function(a){var e;(a=!0===a)&&(g=33),b||(b=!0,e=f-(c.now()-d),e<0&&(e=0),a||e<9?i():k(i,e))}},C=function(a){var b,d,e=99,f=function(){b=null,a()},g=function(){var a=c.now()-d;a<e?k(g,e-a):(m||f)(f)};return function(){d=c.now(),b||(b=k(g,e))}},D=function(){var g,m,o,p,y,D,F,G,H,I,J,K,L=/^img$/i,M=/^iframe$/i,N="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),O=0,P=0,Q=0,R=-1,S=function(a){Q--,(!a||Q<0||!a.target)&&(Q=0)},T=function(a){return null==K&&(K="hidden"==x(b.body,"visibility")),K||!("hidden"==x(a.parentNode,"visibility")&&"hidden"==x(a,"visibility"))},U=function(a,c){var d,e=a,g=T(a);for(G-=c,J+=c,H-=c,I+=c;g&&(e=e.offsetParent)&&e!=b.body&&e!=f;)(g=(x(e,"opacity")||1)>0)&&"visible"!=x(e,"overflow")&&(d=e.getBoundingClientRect(),g=I>d.left&&H<d.right&&J>d.top-1&&G<d.bottom+1);return g},V=function(){var a,c,h,j,k,l,n,o,q,r,s,t,u=d.elements;if((p=e.loadMode)&&Q<8&&(a=u.length)){for(c=0,R++;c<a;c++)if(u[c]&&!u[c]._lazyRace)if(!N||d.prematureUnveil&&d.prematureUnveil(u[c]))ba(u[c]);else if((o=u[c][i]("data-expand"))&&(l=1*o)||(l=P),r||(r=!e.expand||e.expand<1?f.clientHeight>500&&f.clientWidth>500?500:370:e.expand,d._defEx=r,s=r*e.expFactor,t=e.hFac,K=null,P<s&&Q<1&&R>2&&p>2&&!b.hidden?(P=s,R=0):P=p>1&&R>1&&Q<6?r:O),q!==l&&(D=innerWidth+l*t,F=innerHeight+l,n=-1*l,q=l),h=u[c].getBoundingClientRect(),(J=h.bottom)>=n&&(G=h.top)<=F&&(I=h.right)>=n*t&&(H=h.left)<=D&&(J||I||H||G)&&(e.loadHidden||T(u[c]))&&(m&&Q<3&&!o&&(p<3||R<4)||U(u[c],l))){if(ba(u[c]),k=!0,Q>9)break}else!k&&m&&!j&&Q<4&&R<4&&p>2&&(g[0]||e.preloadAfterLoad)&&(g[0]||!o&&(J||I||H||G||"auto"!=u[c][i](e.sizesAttr)))&&(j=g[0]||u[c]);j&&!k&&ba(j)}},W=B(V),X=function(a){var b=a.target;if(b._lazyCache)return void delete b._lazyCache;S(a),s(b,e.loadedClass),t(b,e.loadingClass),u(b,Z),v(b,"lazyloaded")},Y=A(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,c=a[i](e.srcsetAttr);(b=e.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},aa=A(function(a,b,c,d,f){var g,h,j,l,m,p;(m=v(a,"lazybeforeunveil",b)).defaultPrevented||(d&&(c?s(a,e.autosizesClass):a.setAttribute("sizes",d)),h=a[i](e.srcsetAttr),g=a[i](e.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),m={target:a},s(a,e.loadingClass),p&&(clearTimeout(o),o=k(S,2500),u(a,Z,!0)),l&&q.call(j.getElementsByTagName("source"),_),h?a.setAttribute("srcset",h):g&&!l&&(M.test(a.nodeName)?$(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,e.lazyClass),z(function(){var b=a.complete&&a.naturalWidth>1;p&&!b||(b&&s(a,"ls-is-cached"),X(m),a._lazyCache=!0,k(function(){"_lazyCache"in a&&delete a._lazyCache},9)),"lazy"==a.loading&&Q--},!0)}),ba=function(a){if(!a._lazyRace){var b,c=L.test(a.nodeName),d=c&&(a[i](e.sizesAttr)||a[i]("sizes")),f="auto"==d;(!f&&m||!c||!a[i]("src")&&!a.srcset||a.complete||r(a,e.errorClass)||!r(a,e.lazyClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,Q++,aa(a,b,f,d,c))}},ca=C(function(){e.loadMode=3,W()}),da=function(){3==e.loadMode&&(e.loadMode=2),ca()},ea=function(){if(!m){if(c.now()-y<999)return void k(ea,999);m=!0,e.loadMode=3,W(),j("scroll",da,!0)}};return{_:function(){y=c.now(),d.elements=b.getElementsByClassName(e.lazyClass),g=b.getElementsByClassName(e.lazyClass+" "+e.preloadClass),j("scroll",W,!0),j("resize",W,!0),j("pageshow",function(a){if(a.persisted){var c=b.querySelectorAll("."+e.loadingClass);c.length&&c.forEach&&l(function(){c.forEach(function(a){a.complete&&ba(a)})})}}),a.MutationObserver?new MutationObserver(W).observe(f,{childList:!0,subtree:!0,attributes:!0}):(f[h]("DOMNodeInserted",W,!0),f[h]("DOMAttrModified",W,!0),setInterval(W,999)),j("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[h](a,W,!0)}),/d$|^c/.test(b.readyState)?ea():(j("load",ea),b[h]("DOMContentLoaded",W),k(ea,2e4)),d.elements.length?(V(),z._lsFlush()):W()},checkElems:W,unveil:ba,_aLSL:da}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),d=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)d(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(e.autosizesClass),j("resize",g)},checkElems:g,updateElem:d}}(),F=function(){!F.i&&b.getElementsByClassName&&(F.i=!0,E._(),D._())};return k(function(){e.init&&F()}),d={cfg:e,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}});;/*! lazysizes - v5.2.0 */!function(a,b){var c=function(){b(a.lazySizes),a.removeEventListener("lazyunveilread",c,!0)};b=b.bind(null,a,a.document),"object"==typeof module&&module.exports?b(require("lazysizes")):a.lazySizes?c():a.addEventListener("lazyunveilread",c,!0)}(window,function(a,b,c){"use strict";function d(a,c){if(!g[a]){var d=b.createElement(c?"link":"script"),e=b.getElementsByTagName("script")[0];c?(d.rel="stylesheet",d.href=a):d.src=a,g[a]=!0,g[d.src||d.href]=!0,e.parentNode.insertBefore(d,e)}}var e,f,g={};b.addEventListener&&(f=/\(|\)|\s|'/,e=function(a,c){var d=b.createElement("img");d.onload=function(){d.onload=null,d.onerror=null,d=null,c()},d.onerror=d.onload,d.src=a,d&&d.complete&&d.onload&&d.onload()},addEventListener("lazybeforeunveil",function(a){if(a.detail.instance==c){var b,g,h,i;if(!a.defaultPrevented){var j=a.target;if("none"==j.preload&&(j.preload=j.getAttribute("data-preload")||"auto"),null!=j.getAttribute("data-autoplay"))if(j.getAttribute("data-expand")&&!j.autoplay)try{j.play()}catch(a){}else requestAnimationFrame(function(){j.setAttribute("data-expand","-10"),c.aC(j,c.cfg.lazyClass)});b=j.getAttribute("data-link"),b&&d(b,!0),b=j.getAttribute("data-script"),b&&d(b),b=j.getAttribute("data-require"),b&&(c.cfg.requireJs?c.cfg.requireJs([b]):d(b)),h=j.getAttribute("data-bg"),h&&(a.detail.firesLoad=!0,g=function(){j.style.backgroundImage="url("+(f.test(h)?JSON.stringify(h):h)+")",a.detail.firesLoad=!1,c.fire(j,"_lazyloaded",{},!0,!0)},e(h,g)),i=j.getAttribute("data-poster"),i&&(a.detail.firesLoad=!0,g=function(){j.poster=i,a.detail.firesLoad=!1,c.fire(j,"_lazyloaded",{},!0,!0)},e(i,g))}}},!1))});;const LIVERAMP_ACTIVE=(typeof LVR_ACTIVE!=='undefined'&&LVR_ACTIVE)?LVR_ACTIVE:false
const AMAZON_ACTIVE=(typeof APS_ACTIVE!=='undefined'&&APS_ACTIVE)?APS_ACTIVE:false
if(LIVERAMP_ACTIVE){if(!!document.querySelector("#fpd-liveramp")===false){const script=document.createElement('script')
script.id="fpd-liveramp"
script.src='https://launchpad-wrapper.privacymanager.io/98ec4cf7-bd1a-4bb4-b818-8ca4bd46afcf/launchpad-liveramp.js'
document.head.insertAdjacentElement('beforeend',script)}}
function callAtsEnvelope(identifier){if(LIVERAMP_ACTIVE&&identifier&&typeof __tcfapi!=='undefined'){__tcfapi('addEventListener',2,(tcData,success)=>{if(success&&(tcData.eventStatus==='tcloaded'||tcData.eventStatus==='useractioncomplete')){atsenvelopemodule.setAdditionalData({consentString:tcData.tcString,consentType:'gdpr',id:[identifier],type:'emailHashes'});__tcfapi('removeEventListener',2,(success)=>{},tcData.listenerId);}});}}
function callApsRenew(identifier){if(AMAZON_ACTIVE&&identifier&&typeof __tcfapi!=='undefined'&&typeof apstag!=='undefined'){__tcfapi('addEventListener',2,(tcData,success)=>{if(success&&(tcData.eventStatus==='tcloaded')){apstag.rpa({gdpr:{enabled:true,consent:tcData.tcString},hashedRecords:[{type:'email',record:identifier}]})
__tcfapi('removeEventListener',2,(success)=>{},tcData.listenerId);}});}}
function callApsUpdate(identifier){if(AMAZON_ACTIVE&&identifier&&typeof __tcfapi!=='undefined'&&typeof apstag!=='undefined'){__tcfapi("addEventListener",2,(tcData,success)=>{if(success&&tcData.eventStatus==="tcloaded"){apstag.upa({gdpr:{enabled:true,consent:tcData.tcString,},hashedRecords:[{type:"email",record:identifier}],});__tcfapi("removeEventListener",2,(success)=>{},tcData.listenerId,);}});}}
if(AMAZON_ACTIVE&&typeof __tcfapi!=='undefined'){__tcfapi('addEventListener',2,(tcData,success)=>{if(success&&tcData.eventStatus==='useractioncomplete'){const user_nav=document.querySelector("#user_nav #_user_panel_container")
if(!!user_nav&&user_nav.dataset.id){apstag.upa({gdpr:{enabled:true,consent:tcData.tcString},hashedRecords:[{type:'email',record:user_nav.dataset.id}]})}}});}
const fpdReady=new Event('fpdready')
document.dispatchEvent(fpdReady);class LoginWindowHandler{constructor(){this.delegate=undefined;this.loginSucceded=false;this.loginLightbox=null;}
openLoginWindow(){console.log(" --- openLoginWindow() called");if(!this.loginLightbox){const btnLoginClose=document.querySelector("#_close_login_registration_container",);this.loginLightbox=basicLightbox.create(document.querySelector("#login_registration_container"),{closable:false,onShow:(instance)=>{globalLoginWindowHandler.loginSucceded=false;let lightbox=instance.element();document.body.addEventListener("keydown",(event)=>{if(event.key==="Enter"){if(lightbox.querySelector("#login_window input.username").value&&lightbox.querySelector("#login_window input.password").value){lightbox.querySelector("#login_window #_login_submit").click();}}});btnLoginClose.addEventListener("click",function(event){event.preventDefault();instance.close();});},onClose:(instance)=>{let login_window=instance.element().querySelector("#login_window");login_window.querySelector("input.username").value="";login_window.querySelector("input.password").value="";login_window.querySelector(".error_list").classList.add("d-none");if(!globalLoginWindowHandler.loginSucceded){globalLoginWindowHandler.delegate.authenticationFailedWithError("Form chiuso senza login",);}},},);}
this.loginLightbox.show(()=>{this.loginLightbox.element().querySelector(".basicLightbox__placeholder > #login_window input.username",).focus();});}
removeEventHandlers(){anonymousClicks.forEach((fn)=>{fn();});anonymousClicks=[];anonymousFocuses.forEach((fn)=>{fn();});anonymousFocuses=[];}
getUserData(callback){var userNavLoad=async function(){let nav=document.querySelector("#user_nav");if(!!nav){await fetch(nav.dataset.url,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>response.json()).then((data)=>{nav.innerHTML=data.html;var userNavReady=new Event("usernavready");document.dispatchEvent(userNavReady);updateGAdataLayer("datalayer_update","user",{status:data.user_status,});sendPublyticsEvent("user",{user_status:data.user_status});userNotifications();callAtsEnvelope(data.identifier);if(getCookie(FPD_COOKIE)){callApsUpdate(data.identifier);setCookie(FPD_COOKIE,"",0);}else{callApsRenew(data.identifier);}
plusTwitch(data.user_status);}).catch((error)=>{console.warn(" --- Error retrieving user_nav data:  ",error);});}};var retrieveBookmarksDataFromBookmark=async function(bookmark){if(!!bookmark){var bookmarkForm=bookmark.querySelector("form");var contentTypeId=bookmarkForm.querySelector("input[name=model]").value;var objectId=bookmarkForm.querySelector("input[name=object_id]",).value;if(!contentTypeId||!objectId){return;}
var url=new URL(`/extra_bookmarks/${contentTypeId}/${objectId}/`,window.location.origin,);await fetch(url,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>response.json()).then((data)=>{if(data.indexOf("favourited")>=0){if(contentTypeId=="auth.user"){if(!!document.querySelector("#tab_follow_staff")){document.querySelector("#tab_follow_staff").classList.add("active");document.querySelector("#tab_follow_staff").querySelector(".tab_label").innerText="Non seguire";}}}
if(data.indexOf("subscribed")>=0){if(contentTypeId=="article.article"){if(!!document.querySelector("#_article_read_later")){document.querySelector("#_article_read_later").classList.add("active");document.querySelector("#_article_read_later").querySelector(".tab_label").innerHTML="Articolo salvato";}}
if(contentTypeId=="gamecard.mergedgamecard"){if(!!document.querySelector("#_article_related_follow")){document.querySelector("#_article_related_follow").classList.add("active");document.querySelector("#_article_related_follow").querySelector(".tab_label").innerText="Non seguire";}
if(!!document.querySelector("#_gamecard_follow")){document.querySelector("#_gamecard_follow").classList.add("active");document.querySelector("#_gamecard_follow .tab_label").querySelector(".tab_label").innerText="Non seguire";}}
if(contentTypeId=="contrib.tag"){if(!!document.querySelector("#_article_related_follow")){document.querySelector("#_article_related_follow").classList.add("active");document.querySelector("#_article_related_follow .tab_label").querySelector(".tab_label").innerText="Non seguire";}
if(!!document.querySelector("#_tag_bookmarks")){document.querySelector("#_tag_bookmarks").classList.add("active");document.querySelector("#_tag_bookmarks .tab_label").querySelector(".tab_label").innerText="Non seguire";}
if(!!document.querySelector("#_live_follow")){document.querySelector("#_live_follow").classList.add("active");document.querySelector("#_live_follow .tab_label").querySelector(".tab_label").innerText="Non seguire";}}}}).catch((error)=>{console.warn(" --- Error retrieving bookmark data: ",error);});}};var liveCalendar=async function(){let nodes=Array.from(document.querySelectorAll("._live_follow_single"));await Promise.all(nodes.map(async(el)=>{var bookmarkForm=el.querySelector("form");var contentTypeId=bookmarkForm.querySelector("input[name=model]").value;var objectId=bookmarkForm.querySelector("input[name=object_id]",).value;var url="/"+["extra_bookmarks",contentTypeId,objectId].join("/");await fetch(url,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>response.text()).then((data)=>{if(data.indexOf("subscribed")>=0){el.classList.add("active");el.querySelector(".tab_label").innerText="Non seguire";}}).catch((error)=>{console.warn(" --- Error retrieving bookmark data for single live: ",error,);});}),);};var getComments=async function(){let commentsContainer=document.querySelector("#comments_container");if(!!commentsContainer){var page_param="comment_page";var is_bot=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(navigator.userAgent,);var page_value=getUrlParam(page_param);if(page_value){var data_url=commentsContainer.dataset.url;var separator="";if(data_url.indexOf(page_param)==-1){if(data_url.indexOf("?")==-1)separator="?";else if(data_url[data_url.length-1]!="?")separator="&";commentsContainer.dataset.url=data_url+separator+page_param+"="+page_value;}}
if(!is_bot){removeDelegatedEventHandlers();await fetch(commentsContainer.dataset.url,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>response.text()).then((data)=>{commentsContainer.innerHTML=data;document.querySelector("#template-comment-form").classList.add("d-none");if(window.location.hash){window.location.href=window.location.hash;}
comments_container.querySelectorAll(".pagination a").forEach((el)=>{let href=el.getAttribute("href");if(href.indexOf("#")==-1){el.setAttribute("href",href+"#comments_container");}});}).then(()=>initComments()).then((result)=>{if(result){var commentsLoaded=new Event("commentsloaded");document.dispatchEvent(commentsLoaded);console.log("commentsloaded dispatched");}}).catch((error)=>{console.log(" --- Error retrieving current comment's page data",error,);});}else{commentsContainer.parentNode.removeChild(commentsContainer);}}};var pollEmbed=async function(){document.querySelectorAll("._poll_embed").forEach((el)=>{el.contentWindow.location.reload();});};var gamecardVote=async function(){let rating=document.querySelector("#_rating_form");if(!!rating&&rating.dataset.id){await fetch(`/misc/gamecard_vote/${rating.dataset.id}/`,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>response.json()).then((data)=>{if(data.vote){rating.querySelector('input[type="range"]').value=data.vote;rating.querySelector("output").textContent=data.vote;}}).catch((error)=>{console.warn(" --- Error retrieving vote form:  ",error);});}};Promise.all([userNavLoad(),retrieveBookmarksDataFromBookmark(document.querySelector("#_article_related_follow"),),retrieveBookmarksDataFromBookmark(document.querySelector("#_article_read_later"),),retrieveBookmarksDataFromBookmark(document.querySelector("#_gamecard_follow"),),retrieveBookmarksDataFromBookmark(document.querySelector("#_tag_bookmarks"),),retrieveBookmarksDataFromBookmark(document.querySelector("#_live_follow"),),retrieveBookmarksDataFromBookmark(document.querySelector("#tab_follow_staff"),),liveCalendar(),getComments(),pollEmbed(),gamecardVote(),]).then(callback);}
loginGAdataLayer(){updateGAdataLayer("login","login",{method:"email",});}
registrationGAdataLayer(){updateGAdataLayer("sign_up_requested","sign_up",{method:"email",status:"requested",});}}
var globalLoginWindowHandler=new LoginWindowHandler();var anonymousClicks=[];var anonymousFocuses=[];var multiplayerUserNavigationLoginBox=function(elements){let userNavHandler=function(event){event.preventDefault();event.stopImmediatePropagation();let target=event.currentTarget;globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=function(){globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData();};target.authenticationFailedWithError=function(error){return;};};elements.forEach((element)=>{element.addEventListener("click",userNavHandler);let removeLoginEvent=function(){element.removeEventListener("click",userNavHandler);};anonymousClicks.push(removeLoginEvent);});};var multiplayerBookmarkLoginBox=function(element){let bookmarksHandler=function(event){let target=event.currentTarget;if(target.classList.contains("no_action")||!!target.closest(".no_action")){return;}
event.preventDefault();event.stopImmediatePropagation();globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=function(){globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData(function(){if(!target.classList.contains("active")){let event=new Event("click");target.dispatchEvent(event);console.log(" --- Bookmark clicked");}else{console.log(" --- Bookmark not set: already active for the user");}});};target.authenticationFailedWithError=function(error){return;};};element.addEventListener("click",bookmarksHandler);let removeLoginEvent=function(){element.removeEventListener("click",bookmarksHandler);};anonymousClicks.push(removeLoginEvent);};var multiplayerErrorReportLoginBox=function(elements){let errorReportHandler=function(event){event.preventDefault();event.stopImmediatePropagation();let target=event.currentTarget;globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=function(){globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData(function(){target.click();});};target.authenticationFailedWithError=function(error){return;};};elements.forEach((element)=>{element.addEventListener("click",errorReportHandler);let removeLoginEvent=function(){element.removeEventListener("click",errorReportHandler);};anonymousClicks.push(removeLoginEvent);});};var multiplayerCommentVoteLoginBox=function(elements){let commentVoteHandler=function(event){event.preventDefault();event.stopImmediatePropagation();let target=event.currentTarget?event.currentTarget:event.target;globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=function(){globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData(function(){if(!target.classList.contains("active")&&!target.classList.contains("disabled")&&!!document.querySelector("#"+target.id)){document.querySelector("#"+target.id).click();}});};target.authenticationFailedWithError=function(error){return;};};elements.forEach((element)=>{if(!element.dataset.loginHandler){element.addEventListener("click",commentVoteHandler);let removeLoginEvent=function(){element.removeEventListener("click",commentVoteHandler);element.setAttribute("data-login-handler",0);};element.setAttribute("data-login-handler",1);anonymousClicks.push(removeLoginEvent);}});};var multiplayerCommentTextareaLoginBox=function(elements){let commentTextareaHandler=function(event){event.preventDefault();event.stopImmediatePropagation();let target=event.currentTarget;globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=function(){globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData();};target.authenticationFailedWithError=function(error){document.querySelectorAll("button._comment_submit").forEach((el)=>{el.setAttribute("disabled",true);});};};elements.forEach((element)=>{element.addEventListener("focus",commentTextareaHandler);let removeLoginEvent=function(){element.removeEventListener("focus",commentTextareaHandler);};anonymousFocuses.push(removeLoginEvent);});};var multiplayerCommentAnswerLoginBox=function(elements){let commentAnswerHandler=function(event){event.preventDefault();event.stopImmediatePropagation();let target=event.currentTarget;globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=function(){globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData(function(){if(!!document.querySelector("#"+target.id)){document.querySelector("#"+target.id).click();}});};target.authenticationFailedWithError=function(error){return;};};elements.forEach((element)=>{if(!element.dataset.loginHandler){element.addEventListener("click",commentAnswerHandler);let removeLoginEvent=function(){element.removeEventListener("click",commentAnswerHandler);element.setAttribute("data-login-handler",0);};element.setAttribute("data-login-handler",1);anonymousClicks.push(removeLoginEvent);}});};var multiplayerStaffErrorReportLoginBox=function(element){let staffReportHandler=function(event){event.preventDefault();event.stopImmediatePropagation();let target=event.currentTarget;globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=function(){globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData();};target.authenticationFailedWithError=function(error){return;};};element.addEventListener("click",staffReportHandler);let removeLoginEvent=function(){element.removeEventListener("click",staffReportHandler);};anonymousClicks.push(removeLoginEvent);};var multiplayerPollLoginBox=function(elements){let pollHandler=function(event){event.preventDefault();event.stopImmediatePropagation();let target=event.currentTarget;globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=function(){globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData(function(){let form=target.closest("form");if(target.classList.contains("_poll_index")){ajaxSurvey(form);}else{formAddCsrfProtection(form).then((data)=>{form.submit();});}});};target.authenticationFailedWithError=function(error){return;};};elements.forEach((element)=>{element.addEventListener("click",pollHandler);let removeLoginEvent=function(){element.removeEventListener("click",pollHandler);};anonymousClicks.push(removeLoginEvent);});};var multiplayerPaywallLoginBox=function(elements){let paywallHandler=function(event){event.preventDefault();event.stopImmediatePropagation();let target=event.currentTarget;globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=function(){globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData(function(){target.click();});};target.authenticationFailedWithError=function(error){return;};};elements.forEach((element)=>{element.addEventListener("click",paywallHandler);let removeLoginEvent=function(){element.removeEventListener("click",paywallHandler);};anonymousClicks.push(removeLoginEvent);});};const multiplayerHideAffiliationsLoginBox=(element)=>{const hideAffiliationsHandler=(event)=>{event.preventDefault();event.stopImmediatePropagation();const target=event.currentTarget;globalLoginWindowHandler.openLoginWindow();globalLoginWindowHandler.delegate=target;target.authenticationSucceded=()=>{globalLoginWindowHandler.removeEventHandlers();globalLoginWindowHandler.getUserData(()=>{target.click();});};target.authenticationFailedWithError=(error)=>{return;};};element.addEventListener("click",hideAffiliationsHandler);const removeLoginEvent=()=>{element.removeEventListener("click",hideAffiliationsHandler);};anonymousClicks.push(removeLoginEvent);};function ready(fn){if(document.readyState!="loading"){fn();}else{document.addEventListener("DOMContentLoaded",fn);}}
ready(function(){if(!!document.querySelector("#login_registration_container")){document.querySelector("#registration_window #normativa").addEventListener("click",function(){var w=600;var h=500;var url="/privacy-policy/?reg";var title="Condizioni sulla Privacy";var left=screen.width/2-w/2;var top=screen.height/2-h/2;window.open(url,title,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+
w+", height="+
h+", top="+
top+", left="+
left,);});var loginWindowErrorTimer;document.querySelector('#login_window form.multiplayer_login input[type="button"]',).addEventListener("click",function(event){event.preventDefault();let showErrorWithText=function(errorText){if(typeof loginWindowErrorTimer!=="undefined"){clearTimeout(loginWindowErrorTimer);}
let errorList=document.querySelector("#login_window .error_list");errorList.classList.add("alert","alert-danger");errorList.querySelector("div").textContent=errorText;errorList.classList.remove("d-none");loginWindowErrorTimer=window.setTimeout(()=>{errorList.classList.add("d-none");},3000);};let button=event.currentTarget;button.setAttribute("disabled","disabled");let form=document.querySelector("#login_window form.multiplayer_login",);formAddCsrfProtection(form).then((data)=>{var formData=new FormData(form);fetch(form.getAttribute("action"),{headers:{"X-Requested-With":"XMLHttpRequest",},method:"POST",body:formData,}).then((response)=>response.json()).then((data)=>{if(!data.authenticated){globalLoginWindowHandler.loginSucceded=false;showErrorWithText("Email o password errata");}else{globalLoginWindowHandler.loginSucceded=true;globalLoginWindowHandler.loginLightbox.close();globalLoginWindowHandler.loginGAdataLayer();globalLoginWindowHandler.delegate.authenticationSucceded();}
button.removeAttribute("disabled");}).catch((error)=>{showErrorWithText("Errore di connessione");button.removeAttribute("disabled");});});});document.querySelector('#registration_window form.multiplayer_login input[type="button"]',).addEventListener("click",function(event){event.preventDefault();let showErrorWithText=function(errorText){if(typeof loginWindowErrorTimer!=="undefined"){clearTimeout(loginWindowErrorTimer);}
let errorList=document.querySelector("#registration_window .error_list",);errorList.classList.add("alert","alert-danger");errorList.querySelector("div").textContent=errorText;errorList.classList.remove("d-none");loginWindowErrorTimer=window.setTimeout(()=>{errorList.classList.add("d-none");},3000);};let button=event.currentTarget;button.setAttribute("disabled","disabled");let form=document.querySelector("#registration_window form.multiplayer_login",);formAddCsrfProtection(form).then((data)=>{var formData=new FormData(form);fetch(form.getAttribute("action"),{headers:{"X-Requested-With":"XMLHttpRequest",},method:"POST",body:formData,}).then((response)=>response.json()).then((data)=>{if(data.success){form.parentNode.removeChild(form);document.querySelector("#registration_window .registration_completed").classList.remove("d-none");globalLoginWindowHandler.registrationGAdataLayer();}else{globalLoginWindowHandler.loginSucceded=false;for(e in data.errors){showErrorWithText(data.errors[e][0]);break;}
if(data.captcha_error){showErrorWithText(data.captcha_error);}}
button.removeAttribute("disabled");}).catch((error)=>{showErrorWithText("Errore di connessione");button.removeAttribute("disabled");});});});document.querySelector("#login_window a.register").addEventListener("click",function(e){e.preventDefault();(function(d){if(!!document.querySelector("#_recaptcha-script")==false){var wf=d.createElement("script"),s=d.scripts[0];wf.id="_recaptcha-script";wf.src="https://www.google.com/recaptcha/api.js?hl=it";wf.async=false;s.parentNode.insertBefore(wf,s);}})(document);document.querySelector("#login_window").classList.add("d-none");document.querySelector("#registration_window").classList.remove("d-none");document.querySelector("#registration_window .email").focus();});document.querySelector("#registration_window a.login").addEventListener("click",function(e){e.preventDefault();document.querySelector("#login_window").classList.remove("d-none");document.querySelector("#registration_window").classList.add("d-none");document.querySelector("#login_window .username").focus();});}});;var t,e;t=this,e=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(t){return"string"==typeof t?document.querySelector(t):t()},a=function(t,e){var n="string"==typeof t?document.createElement(t):t;for(var r in e){var i=e[r];if("inside"===r)i.append(n);else if("dest"===r)u(i[0]).insertAdjacentElement(i[1],n);else if("around"===r){var o=i;o.parentNode.insertBefore(n,o),n.append(o),null!=o.getAttribute("autofocus")&&o.focus()}else r in n?n[r]=i:n.setAttribute(r,i)}return n},c=function(t,e){return t=t.toString().toLowerCase(),e?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):t},l=function(t,n){return a("mark",e({innerHTML:t},"string"==typeof n&&{class:n})).outerHTML},f=function(t,e){e.input.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e.feedback,cancelable:!0}))},p=function(t,e,n){var r=n||{},i=r.mode,o=r.diacritics,s=r.highlight,u=c(e,o);if(e=e.toString(),t=c(t,o),"loose"===i){var a=(t=t.replace(/ /g,"")).length,f=0,p=Array.from(e).map((function(e,n){return f<a&&u[n]===t[f]&&(e=s?l(e,s):e,f++),e})).join("");if(f===a)return p}else{var d=u.indexOf(t);if(~d)return t=e.substring(d,d+t.length),d=s?e.replace(t,l(t,s)):e}},d=function(t,e){return new Promise((function(n,r){var i;return(i=t.data).cache&&i.store?n():new Promise((function(t,n){return"function"==typeof i.src?i.src(e).then(t,n):t(i.src)})).then((function(e){try{return t.feedback=i.store=e,f("response",t),n()}catch(t){return r(t)}}),r)}))},h=function(t,e){var n=e.data,r=e.searchEngine,i=[];n.store.forEach((function(s,u){var a=function(n){var o=n?s[n]:s,u="function"==typeof r?r(t,o):p(t,o,{mode:r,diacritics:e.diacritics,highlight:e.resultItem.highlight});if(u){var a={match:u,value:s};n&&(a.key=n),i.push(a)}};if(n.keys){var c,l=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,s=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw s}}}}(n.keys);try{for(l.s();!(c=l.n()).done;)a(c.value)}catch(t){l.e(t)}finally{l.f()}}else a()})),n.filter&&(i=n.filter(i));var s=i.slice(0,e.resultsList.maxResults);e.feedback={query:t,matches:i,results:s},f("results",e)},m="aria-expanded",b="aria-activedescendant",y="aria-selected",v=function(t,n){t.feedback.selection=e({index:n},t.feedback.results[n])},g=function(t){t.isOpen||((t.wrapper||t.input).setAttribute(m,!0),t.list.removeAttribute("hidden"),t.isOpen=!0,f("open",t))},w=function(t){t.isOpen&&((t.wrapper||t.input).setAttribute(m,!1),t.input.setAttribute(b,""),t.list.setAttribute("hidden",""),t.isOpen=!1,f("close",t))},O=function(t,e){var n=e.resultItem,r=e.list.getElementsByTagName(n.tag),o=!!n.selected&&n.selected.split(" ");if(e.isOpen&&r.length){var s,u,a=e.cursor;t>=r.length&&(t=0),t<0&&(t=r.length-1),e.cursor=t,a>-1&&(r[a].removeAttribute(y),o&&(u=r[a].classList).remove.apply(u,i(o))),r[t].setAttribute(y,!0),o&&(s=r[t].classList).add.apply(s,i(o)),e.input.setAttribute(b,r[e.cursor].id),e.list.scrollTop=r[t].offsetTop-e.list.clientHeight+r[t].clientHeight+5,e.feedback.cursor=e.cursor,v(e,t),f("navigate",e)}},A=function(t){O(t.cursor+1,t)},k=function(t){O(t.cursor-1,t)},L=function(t,e,n){(n=n>=0?n:t.cursor)<0||(t.feedback.event=e,v(t,n),f("selection",t),w(t))};function j(t,n){var r=this;return new Promise((function(i,o){var s,u;return s=n||((u=t.input)instanceof HTMLInputElement||u instanceof HTMLTextAreaElement?u.value:u.innerHTML),function(t,e,n){return e?e(t):t.length>=n}(s=t.query?t.query(s):s,t.trigger,t.threshold)?d(t,s).then((function(n){try{return t.feedback instanceof Error?i():(h(s,t),t.resultsList&&function(t){var n=t.resultsList,r=t.list,i=t.resultItem,o=t.feedback,s=o.matches,u=o.results;if(t.cursor=-1,r.innerHTML="",s.length||n.noResults){var c=new DocumentFragment;u.forEach((function(t,n){var r=a(i.tag,e({id:"".concat(i.id,"_").concat(n),role:"option",innerHTML:t.match,inside:c},i.class&&{class:i.class}));i.element&&i.element(r,t)})),r.append(c),n.element&&n.element(r,o),g(t)}else w(t)}(t),c.call(r))}catch(t){return o(t)}}),o):(w(t),c.call(r));function c(){return i()}}))}var S=function(t,e){for(var n in t)for(var r in t[n])e(n,r)},T=function(t){var n,r,i,o=t.events,s=(n=function(){return j(t)},r=t.debounce,function(){clearTimeout(i),i=setTimeout((function(){return n()}),r)}),u=t.events=e({input:e({},o&&o.input)},t.resultsList&&{list:o?e({},o.list):{}}),a={input:{input:function(){s()},keydown:function(e){!function(t,e){switch(t.keyCode){case 40:case 38:t.preventDefault(),40===t.keyCode?A(e):k(e);break;case 13:e.submit||t.preventDefault(),e.cursor>=0&&L(e,t);break;case 9:e.resultsList.tabSelect&&e.cursor>=0&&L(e,t);break;case 27:e.input.value="",w(e)}}(e,t)},blur:function(){w(t)}},list:{mousedown:function(t){t.preventDefault()},click:function(e){!function(t,e){var n=e.resultItem.tag.toUpperCase(),r=Array.from(e.list.querySelectorAll(n)),i=t.target.closest(n);i&&i.nodeName===n&&L(e,t,r.indexOf(i))}(e,t)}}};S(a,(function(e,n){(t.resultsList||"input"===n)&&(u[e][n]||(u[e][n]=a[e][n]))})),S(u,(function(e,n){t[e].addEventListener(n,u[e][n])}))};function E(t){var n=this;return new Promise((function(r,i){var o,s,u;if(o=t.placeHolder,u={role:"combobox","aria-owns":(s=t.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},a(t.input,e(e({"aria-controls":s.id,"aria-autocomplete":"both"},o&&{placeholder:o}),!t.wrapper&&e({},u))),t.wrapper&&(t.wrapper=a("div",e({around:t.input,class:t.name+"_wrapper"},u))),s&&(t.list=a(s.tag,e({dest:[s.destination,s.position],id:s.id,role:"listbox",hidden:"hidden"},s.class&&{class:s.class}))),T(t),t.data.cache)return d(t).then((function(t){try{return c.call(n)}catch(t){return i(t)}}),i);function c(){return f("init",t),r()}return c.call(n)}))}function x(t){var e=t.prototype;e.init=function(){E(this)},e.start=function(t){j(this,t)},e.unInit=function(){if(this.wrapper){var t=this.wrapper.parentNode;t.insertBefore(this.input,this.wrapper),t.removeChild(this.wrapper)}var e;S((e=this).events,(function(t,n){e[t].removeEventListener(n,e.events[t][n])}))},e.open=function(){g(this)},e.close=function(){w(this)},e.goTo=function(t){O(t,this)},e.next=function(){A(this)},e.previous=function(){k(this)},e.select=function(t){L(this,null,t)},e.search=function(t,e,n){return p(t,e,n)}}return function t(e){this.options=e,this.id=t.instances=(t.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"},function(t){var e=t.name,r=t.options,i=t.resultsList,o=t.resultItem;for(var s in r)if("object"===n(r[s]))for(var a in t[s]||(t[s]={}),r[s])t[s][a]=r[s][a];else t[s]=r[s];t.selector=t.selector||"#"+e,i.destination=i.destination||t.selector,i.id=i.id||e+"_list_"+t.id,o.id=o.id||e+"_result",t.input=u(t.selector)}(this),x.call(this,t),E(this)}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).autoComplete=e();;autocomplete={version:"10.2.6",input_name:"#search-field",request_url:"/autocomplete/",current_search:"",results_id:"_search_result_list",close_button:"#close-search",reset_search:()=>{document.querySelector(autocomplete.input_name).value="";autocomplete.current_search="";},append_all_results:()=>{if(!!document.querySelector(".autoComplete_result_all")===false){const $results=document.querySelector(`#${autocomplete.results_id}`);const $all_results=document.createElement("li");$all_results.classList.add("autoComplete_result_all");$all_results.innerHTML=`
        <a rel="nofollow" id="all_results" class="btn btn-sm btn-primary font-weight-bold py-1 px-3 text-uppercase" href="/ricerca/?q=${encodeURIComponent(
					autocomplete.current_search,
				)}">
          Cerca tutti i risultati per ${autocomplete.current_search}<span class="icon"></span>
        </a>
      `;$results.appendChild($all_results);}},init:()=>{const autoCompleteJS=new autoComplete({selector:autocomplete.input_name,debounce:500,threshold:2,submit:true,data:{src:async(query)=>{autocomplete.current_search=query;const url=`${autocomplete.request_url}?term=${encodeURIComponent(
						query,
					)}`;try{const source=await fetch(url,{headers:{"X-Requested-With":"XMLHttpRequest",},});const data=await source.json();return data;}catch(error){return error;}},cache:false,keys:["label","alias"],filter:(list)=>{const filteredResults=Array.from(new Set(list.map((value)=>value.value.url)),).map((url)=>{return list.find((value)=>value.value.url===url);});return filteredResults;},},resultsList:{element:(list,data)=>{list.setAttribute("id",autocomplete.results_id);list.setAttribute("aria-label","Search");list.setAttribute("tabindex","-1");autocomplete.append_all_results();},destination:autocomplete.input_name,position:"afterend",tag:"ul",noResults:true,class:"autoComplete_list",},resultItem:{element:(element,data)=>{const result=data.value;element.innerHTML=`
            <a href="${result.url}"></a>${result.template}
          `;},tag:"li",class:"autoComplete_result",},});},};function ready(fn){if(document.readyState!=="loading"){fn();}else{document.addEventListener("DOMContentLoaded",fn);}}
ready(()=>{autocomplete.init();document.querySelector("#btn-search").addEventListener("click",(e)=>{document.querySelector(".search-form").style.opacity="1";document.querySelector(".search-form").style.visibility="visible";document.querySelector(autocomplete.input_name).focus();autocomplete.reset_search();});document.querySelector(autocomplete.close_button).addEventListener("click",()=>{document.querySelector(".search-form").style.opacity="0";document.querySelector(".search-form").style.visibility="hidden";autocomplete.reset_search();});document.querySelector("#submit-search").addEventListener("click",()=>{document.querySelector(".search-form").submit();});});;function setCookie(cname,cvalue,exdays){const d=new Date();if(exdays){d.setTime(d.getTime()+exdays*24*60*60*1000);}else{d.setTime(d.getTime());}
const expires=`expires=${d.toUTCString()}`;document.cookie=`${cname}=${cvalue};${expires};path=/`;}
function getCookie(cname){const name=`${cname}=`;const decodedCookie=decodeURIComponent(document.cookie);const ca=decodedCookie.split(";");for(let i=0;i<ca.length;i++){let c=ca[i];while(c.charAt(0)===" "){c=c.substring(1);}
if(c.indexOf(name)===0){return c.substring(name.length,c.length);}}
return"";}
function deleteCookie(cname){document.cookie=`${cname}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/`;}
async function formAddCsrfProtection(form){if(!!form.querySelector("input[name='csrfmiddlewaretoken']")===false){await fetch("/csrf/",{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>{return response.text();}).then((data)=>{const input=document.createElement("span");input.innerHTML=data;form.appendChild(input.firstChild);}).catch((error)=>{console.warn(" --- Error: ",error);});}}
async function getCsrfToken(){const token=await fetch("/misc/csrf-token/",{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>{return response.json();}).then((data)=>{return data.token;}).catch((error)=>{console.warn(" --- Error: ",error);});return token;}
function initAjaxLightbox(elements,css_class=""){for(const el of elements){el.addEventListener("click",(event)=>{event.preventDefault();fetch(event.currentTarget.href,{headers:{"X-Requested-With":"XMLHttpRequest",},}).then((response)=>response.text()).then((data)=>{const lightbox=basicLightbox.create(data,{className:css_class,});lightbox.show();}).catch((error)=>{console.warn(error);});});}}
function getUrlParam(param){const querystring=window.location.search.substring(1);const parameters=querystring.split("&");for(let i=0;i<parameters.length;i++){const bits=parameters[i].split("=");if(bits[0]===param){return bits[1];}}}
function loadScript(name,src){return new Promise((resolve,reject)=>{const script=document.createElement("script");script.src=src;script.id=`${name}-js`;script.async=true;script.src=src;script.onload=()=>{console.log(`Loaded: ${src}`);resolve(src);};script.onerror=()=>{reject(`Error: ${src} not loaded`);};document.body.appendChild(script);});}
function updateGAdataLayer(event_name,key=null,value=null){window.dataLayer=window.dataLayer||[];if(key&&value){window.dataLayer.push({event:event_name,[key]:value,});}else{window.dataLayer.push({event:event_name,});}}
function sendPublyticsEvent(event_name,values=null){window.publytics=window.publytics||function(){(window.publytics.q=window.publytics.q||[]).push(arguments)};if(values){publytics(event_name,{props:values});}else{publytics(event_name);}}
function userNotifications(){if(document.querySelectorAll("._notification.new").length===0){for(const el of document.querySelectorAll("._notifications_mark_read")){el.classList.add("disabled");}}
if(document.querySelector("#_user_notifications")){const marker_url=user_nav.querySelector("#_user_notifications").dataset.markerUrl;for(const el of document.querySelectorAll("._notification")){el.addEventListener("click",function(){const notification_id=this.dataset.notification_id;fetch(`${marker_url}?id=${notification_id}`,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>{if(response.ok){if(document.querySelectorAll("._notification.new").length===0){user_nav.querySelector("#_notification_counter").classList.remove("on");for(const el of document.querySelectorAll("._notifications_mark_read",)){el.classList.add("disabled");}}}}).catch((error)=>{console.warn(error);});});}
for(const el of document.querySelectorAll("._notifications_mark_read")){el.addEventListener("click",(event)=>{event.stopPropagation();fetch(marker_url,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>{if(response.ok){for(const el of document.querySelectorAll("._notification")){el.classList.remove("new");}
user_nav.querySelector("#_notification_counter").classList.remove("on");for(const el of document.querySelectorAll("._notifications_mark_read",)){el.classList.add("disabled");}}}).catch((error)=>{console.warn(error);});});}}}
function plusTwitch(user_status){const button=document.querySelector("#_twitch_plus");if(button){if(user_status==="plus"){button.setAttribute("href",button.dataset.profile);}else{button.setAttribute("href",button.dataset.twitch);}
button.classList.remove("disabled");button.addEventListener("click",(event)=>{event.target.classList.add("disabled");});}}
function activeIframes(){for(const iframe of document.querySelectorAll("._net_activate_iframe")){if(iframe.classList.contains("lazyload")){iframe.setAttribute("data-src",iframe.getAttribute("suppressedsrc"));}else{iframe.setAttribute("src",iframe.getAttribute("suppressedsrc"));}
iframe.removeAttribute("suppressedsrc");iframe.classList.replace("_net_activate_iframe","_net_activated_iframe");}}
function ready(fn){if(document.readyState!=="loading"){fn();}else{document.addEventListener("DOMContentLoaded",fn);}}
ready(()=>{const gdpr_container=document.querySelector("#_gdpr_form");if(gdpr_container){const view_name=gdpr_container.dataset.view_name;const page_url=`/misc/approvazione-gdpr/?view=${encodeURI(view_name)}`;fetch(page_url,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>{if(response.status===200)return response.text();}).then((data)=>{if(data){lightbox_js=document.createElement("script");lightbox_js.src="/static/js/new_libraries/basicLightbox.min.js";lightbox_js.id="lightbox-js";document.body.appendChild(lightbox_js);lightbox_js.onload=()=>{gdpr_container.insertAdjacentHTML("afterbegin",data);document.addEventListener("click",(event)=>{if(event.target&&event.target.getAttribute("name")==="gdpr_approved"){if(event.target.checked){document.querySelector("input[name='gdpr_submit']").removeAttribute("disabled");}else{document.querySelector("input[name='gdpr_submit']").setAttribute("disabled","disabled");}}else if(event.target&&event.target.tagName.toLowerCase()==="input"&&event.target.getAttribute("name")==="gdpr_submit"){const gdpr_form=event.target.closest("form.gdpr_form");formAddCsrfProtection(gdpr_form).then((data)=>{const formData=new FormData(gdpr_form);fetch(gdpr_form.getAttribute("action"),{headers:{"X-Requested-With":"XMLHttpRequest",},method:"POST",cache:"no-cache",body:formData,}).then((response)=>{if(response.ok){return response.json();}}).then((data)=>{if(data.show_gdpr===0){gdprLightbox.close();}}).catch((error)=>{console.warn(" --- Error: ",error);});});}});const gdprLightbox=basicLightbox.create(gdpr_container);gdprLightbox.show();};}}).catch((error)=>{console.warn(error);});}
const user_nav=document.querySelector("#user_nav");if(user_nav){fetch(user_nav.dataset.url,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>response.json()).then((data)=>{user_nav.innerHTML=data.html;updateGAdataLayer("datalayer_update","user",{status:data.user_status,});sendPublyticsEvent("user",{user_status:data.user_status});userNotifications();if(!!document.querySelector("#login_registration_container")&&!!document.querySelector("#user_nav #_user_panel_container")===false){multiplayerUserNavigationLoginBox(document.querySelectorAll("#user_nav"),);}
const userNavReady=new Event("usernavready");document.dispatchEvent(userNavReady);if(data.identifier){callAtsEnvelope(data.identifier);if(getCookie(FPD_COOKIE)){callApsUpdate(data.identifier);setCookie(FPD_COOKIE,"",0);}else{callApsRenew(data.identifier);}}
plusTwitch(data.user_status);}).catch((error)=>{console.warn(error);});document.addEventListener("usernavready",()=>{if(document.querySelector("#user_nav #_user_panel_container")){globalLoginWindowHandler.removeEventHandlers();}
$('#_saved_articles_link[data-toggle="tooltip"]').tooltip({title:`<p class="tooltip-inner__content m-0">Vai agli articoli salvati</p>`,});});}
if(document.querySelector("#login-facebook a")){document.querySelector("#login-facebook a").addEventListener("click",(event)=>{event.preventDefault();facebookConnect(event.target.closest("form"));return false;});}
const live_menu=document.querySelector("#_live_menu");if(live_menu){const calendar=document.querySelector("#_live_calendar");const live_player=document.querySelector("#_live_player");fetch(`/misc/live_or_shout/?calendar=${!!calendar}`,{headers:{"X-Requested-With":"XMLHttpRequest",},cache:"no-cache",}).then((response)=>response.json()).then((data)=>{if(data.live_menu){live_menu.innerHTML=data.live_menu;}
if(!!calendar&&!!live_player&&data.custom_live_home){live_player.insertAdjacentHTML("beforebegin",data.custom_live_home);}
if(data.today_lives.length){if(calendar){for(const live of data.today_lives){const p=document.createElement("p");p.classList.add("pt-1","pb-2","m-0","font-weight-bold");p.innerHTML=`<small class='font-weight-bold'>${live.date}</small> <br>${live.name}`;calendar.appendChild(p);}
calendar.parentNode.classList.remove("d-none");}}else if((data.channel_url||data.channel)&&data.broadcast&&live_player){const optoutCookieName="live-optout";const optout=getCookie(optoutCookieName);const playerContainer=document.querySelector("#_live_player_container",);const title=live_player.querySelector(".live__title");const button=live_player.querySelector(".live__header__right");const sign=live_player.querySelector(".live__header__left");const hide=()=>{live_player.removeChild(playerContainer);button.querySelector(".ico-arrow").classList.add("rotate");button.innerHTML=button.innerHTML.replace("NASCONDI","VAI");sign.classList.add("animate");};title.textContent=data.broadcast.name;button.addEventListener("click",()=>{if(document.querySelector("#_live_player_container")){hide();setCookie(optoutCookieName,data.broadcast.id,1);}else{window.location="/live/";}});if(optout===data.broadcast.id){hide();}else{let channel_url=data.channel_url;const iframe=playerContainer.querySelector("iframe");if(channel_url){if(data.broadcast.muted){channel_url=`${data.channel_url}&muted=true`;}
for(const[key,value]of Object.entries(data.broadcast.iframe_attrs,)){iframe.setAttribute(key,value);}
iframe.setAttribute("data-src",channel_url);iframe.classList.add("lazyload");}else{loadScript("twitch-js","https://player.twitch.tv/js/embed/v1.js",).then((result)=>{const twitch_options={channel:data.channel,parent:[data.parent],width:iframe.getAttribute("width"),height:iframe.getAttribute("height"),autoplay:false,};if(data.broadcast.muted){twitch_options.muted=true;}
playerContainer.removeChild(iframe);const twitchPlayer=new Twitch.Player(playerContainer.id,twitch_options,);twitchPlayer.addEventListener(Twitch.Player.ONLINE,()=>{twitchPlayer.setQuality(playerContainer.dataset.quality);});});}}
live_player.classList.remove("d-none");}}).catch((error)=>{console.warn(error);});}
document.addEventListener("usernavready",(event)=>{const plus=document.querySelector("#_plus_info");if(document.querySelector("#top_ads_container")&&plus&&plus.dataset.enabled==="1"&&plus.dataset.payer==="1"){window.location.reload();}});const bodyObserver=new MutationObserver((mutationList,observer)=>{for(const mutation of mutationList){if(mutation.type==="attributes"&&mutation.attributeName==="data-iub-activated"){if(mutation.target.dataset.iubActivated==="true"){activeIframes();observer.disconnect();}}}});bodyObserver.observe(document.body,{attributes:true,attributeFilter:["data-iub-activated"],});if(document.body.dataset.iubActivated==="true"){activeIframes();}});;function endlessPaginate(options){var defaults={containerSelector:'.endless_container',loadingSelector:'.endless_loading',moreSelector:'a.endless_more',moreSelectorDataUrl:'',pageSelector:'.endless_page_template',pagesSelector:'a.endless_page_link',onClick:function(){},onCompleted:function(){},paginateOnScroll:false,paginateOnScrollMargin:1,paginateOnScrollChunkSize:0},settings={...defaults,...options};var getContext=function(link){if(link.hasAttribute('href')){url=link.getAttribute('href')}else{url=link.getAttribute(settings.moreSelectorDataUrl)}
return{key:link.getAttribute('rel').split(' ')[0],url:url};};var init=function(){var body=document.querySelector('body'),loadedPages=1;body.addEventListener('click',function(e){var _this=e.target;if(_this.matches(settings.moreSelector)){e.preventDefault();var link=_this,container=link.closest(settings.containerSelector),loading=container.querySelector(settings.loadingSelector);if(!(window.getComputedStyle(loading).display==="none")){return false;}
link.style.display='none';loading.style.display='block';var context=getContext(link);if(settings.onClick.apply(link,[context])!==false){var url=new URL(context.url,window.location.origin)
url.searchParams.append("querystring_key",context.key)
fetch(url,{headers:{'X-Requested-With':'XMLHttpRequest'},cache:'no-cache'}).then(response=>response.text()).then(fragment=>{container.outerHTML=fragment;loadedPages+=1;settings.onCompleted.apply(link,[context,fragment.trim()]);}).catch((error)=>{console.warn(error)})}
return false;}});if(settings.paginateOnScroll){window.addEventListener('scroll',function(){var doc_height=document.body.clientHeight;var win_height=window.innerHeight;if(doc_height-win_height-window.scrollY<=settings.paginateOnScrollMargin){var chunckSize=settings.paginateOnScrollChunkSize;if(!chunckSize||loadedPages%chunckSize){var element=body.querySelector(settings.moreSelector);if(!!element){element.click();}}}});}
body.addEventListener('click',function(e){var _this=e.target;if(_this.matches(settings.pagesSelector)){e.preventDefault();var link=_this,context=getContext(link);if(settings.onClick.apply(link,[context])!==false){var page_template=link.closest(settings.pageSelector);var url=new URL(context.url,window.location.origin)
url.searchParams.append("querystring_key",context.key)
fetch(url,{headers:{'X-Requested-With':'XMLHttpRequest'},cache:'no-cache'}).then(response=>response.text()).then(fragment=>{page_template.innerHTML=fragment;settings.onCompleted.apply(link,[context,fragment.trim()]);}).catch((error)=>{console.warn(error)})}
return false;}});}
init();};function ready(fn){if(document.readyState!=="loading"){fn();}else{document.addEventListener("DOMContentLoaded",fn);}}
ready(()=>{document.addEventListener("usernavready",()=>{if(document.querySelector("#user_nav #_user_panel_container")){for(const el of document.querySelectorAll("._extra-content")){el.classList.add("d-none");}}});const hideAffiliations=document.querySelector("#_hide-affiliate-button");if(hideAffiliations){if(!!document.querySelector("#login_registration_container")&&!!document.querySelector("#user_nav #_user_panel_container")===false){multiplayerHideAffiliationsLoginBox(hideAffiliations);}
const hideAffiliationsCheck=document.querySelector("#_hide-affiliate-checkbox",);const hideAffiliationsLabel=document.querySelector("label[for='_hide-affiliate-checkbox']",);const hideAffiliationsCookieName=`aff-hide-${hideAffiliations.dataset.platform}`;if(getCookie(hideAffiliationsCookieName)==="1"){hideAffiliationsCheck.setAttribute("checked","checked");hideAffiliationsLabel.classList.add("text-primary");for(const el of document.querySelectorAll("._hide-affiliate")){el.classList.add("d-none");}}
hideAffiliations.addEventListener("click",(event)=>{event.preventDefault();event.stopImmediatePropagation();let hide=false;if(getCookie(hideAffiliationsCookieName)==="1"){hide=false;hideAffiliationsCheck.removeAttribute("checked","checked");hideAffiliationsLabel.classList.remove("text-primary");deleteCookie(hideAffiliationsCookieName);}else{hide=true;hideAffiliationsCheck.setAttribute("checked","checked");hideAffiliationsLabel.classList.add("text-primary");setCookie(hideAffiliationsCookieName,"1",2);}
for(const el of document.querySelectorAll("._hide-affiliate")){el.classList.toggle("d-none");}});}
if(document.querySelector("#_show_more_multicol")){document.querySelector("#_show_more_multicol").addEventListener("click",(e)=>{e.preventDefault();for(const el of document.querySelectorAll(".endless_more")){el.click();}});}
endlessPaginate({moreSelector:"span.endless_more",moreSelectorDataUrl:"data-more",onCompleted:()=>{if(document.querySelector("#_articles_column")){if(!!document.querySelector("#_articles_column").querySelector(".endless_more")===false||!!document.querySelector("#_news_column").querySelector(".endless_more")===false){document.querySelector("#_show_more_multicol").classList.add("d-none");document.querySelector("#_news_archive_link").classList.remove("d-none");}}
if(document.querySelector("#user_nav #_user_panel_container")){for(const el of document.querySelectorAll("._extra-content")){el.classList.add("d-none");}}
if(getCookie(hideAffiliationsCookieName)==="1"){for(const el of document.querySelectorAll("._hide-affiliate")){el.classList.toggle("d-none");}}},});if(document.querySelector("#_staff_error_report")){if(!!document.querySelector("#login_registration_container")&&!!document.querySelector("#user_nav #_user_panel_container")===false){multiplayerStaffErrorReportLoginBox(document.querySelector("#_staff_error_report"),);}
document.querySelector("#_staff_error_report input[type='button']").addEventListener("click",(event)=>{event.preventDefault();event.stopImmediatePropagation();const reportForm=document.querySelector("#_staff_error_report");const errorMessage=document.querySelector("#_staff_error_report_message",);errorMessage.setAttribute("class","");errorMessage.innerHTML="";formAddCsrfProtection(reportForm).then((data)=>{const formData=new FormData(reportForm);fetch(reportForm.getAttribute("action"),{headers:{"X-Requested-With":"XMLHttpRequest",},method:"POST",cache:"no-cache",body:formData,}).then((response)=>response.json()).then((data)=>{if(data[0].message){if(data[0].error){errorMessage.classList.add("alert","alert-danger");}else{errorMessage.classList.add("alert","alert-success");reportForm.classList.add("d-none");}
errorMessage.innerHTML=data[0].message;}}).catch((error)=>{console.warn(" --- Error: ",error);});});});}});;
</script>

</body>
</html>
