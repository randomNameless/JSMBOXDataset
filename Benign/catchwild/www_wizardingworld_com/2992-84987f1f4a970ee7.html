<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2992-84987f1f4a970ee7.html</title>
</head>
<body>

<script>
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2992],{5055:function(e,t,n){"use strict";n(19796);var a=n(23434),r=n(40582),i=n(651),o=n(85398),l=n.n(o),s=n(61391);t.Z=function(e){var t,n,o=e.content,c=e.analyticsParams,d=void 0===c?{}:c,u=e.compact,x=void 0!==u&&u,p=o.displayTitle,_=o.mainImage,m=o.tags,f=o.externalId,h=o.url,v=o.contentTypeId,k=o.eyebrow,y=o.label,b="article"===v?(0,i.QS)(m||[],f):h,g=d.verticalIndex,j=d.horizontalIndex;return(0,s.jsxs)(a.Z,{className:x?l().compact:"",href:b,onClick:function(){(0,r.uH)({destination_url:b,label:p,location:"Tile",vertical_index:g,horizontal_index:j,content_name:p},o)},children:[(0,s.jsx)("div",{className:l().imageWrapper,children:(0,s.jsx)("img",{className:l().image,src:"".concat(null===_||void 0===_||null===(t=_.image)||void 0===t||null===(n=t.file)||void 0===n?void 0:n.url,"?w=370&h=210&fit=fill"),alt:"Content"})}),(0,s.jsxs)("div",{className:l().info,children:[k&&(0,s.jsx)("div",{className:l().eyebrow,children:k}),(0,s.jsx)("div",{className:l().title,children:p||y})]}),(0,s.jsx)("div",{className:l().footer})]})}},22992:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var a=n(39750),r=n(19796),i=n(58288),o=n(28165),l=n(79385),s=n.n(l),c=n(93341),d=n.n(c),u=n(19967),x=n(39415),p=n(55947),_=n(95768),m=n(56916),f=n.n(m),h=n(9186),v=n(42443),k=n(40582),y=n(38197),b=n(56029),g=n(92633),j=n(32757),w=n.n(j),I=n(45470),P=n(61391),C=function(e){var t=e.poll,n=e.analyticsParams,a=void 0===n?{}:n,l=(0,x.useRouter)(),c=(0,_.Z)(),m=c.verticalIndex,j=c.componentRef,C=u.Z.services.api,T=(0,b.SE)(),N=T.profile,S=T.loadingProfile,A=T.isLoggedIn,E=t.displayTitle,O=t.answer,F=t.contentfulId,L=t.ctaLabel,R=t.ctaURL,B=O.slice(0,4),D=(0,r.useState)(!1),V=D[0],Z=D[1],G=(0,r.useState)(null),H=G[0],M=G[1],z=(0,r.useState)(null),X=z[0],q=z[1],W=(0,r.useState)(null),U=W[0],K=W[1],Q=(0,r.useState)(!0),Y=Q[0],J=Q[1],$=a.horizontalIndexOffset,ee="".concat(h.B3,"-").concat(F),te=(0,v.YD)({threshold:.1,triggerOnce:!0}),ne=(0,o.Z)(te,2),ae=ne[0],re=ne[1],ie=function(e){return(e/X*100).toFixed(0)},oe=function(){var e=(0,i.Z)(s().mark((function e(){var t,n,a,r,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C().query({query:y.IG,variables:{pollId:F}});case 3:a=e.sent,r=a.data,i=null===r||void 0===r||null===(t=r.aggregatedPollResult)||void 0===t||null===(n=t.answers)||void 0===n?void 0:n.reduce((function(e,t){return e+t.count}),0),o=B.map((function(e){var t,n=null===r||void 0===r||null===(t=r.aggregatedPollResult)||void 0===t?void 0:t.answers.find((function(t){return t.answer===e}));return{answer:e,count:(null===n||void 0===n?void 0:n.count)||0}})),M(o),q(i),Z(!0),J(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),f().notify(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,i.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={pollId:F,pollAnswer:t,hogwartsHouse:(null===N||void 0===N?void 0:N.hogwartsHouse)||"unsorted"},e.prev=1,e.next=4,C().mutate({mutation:y.hw,variables:{input:n}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),f().notify(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=(0,i.Z)(s().mark((function e(n,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,k.uH)({destination_url:window.location.pathname,label:"Poll Submitted",location:"Poll",vertical_index:m,horizontal_index:a+$,content_name:E},t),!A){e.next=8;break}return e.next=4,le(n);case 4:K(n),oe(),e.next=11;break;case 8:localStorage.setItem(ee,n),K(n),oe();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=(0,i.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C().query({query:y.hn,variables:{pollId:F}});case 3:t=e.sent,(n=t.data).pollResult?(K(n.pollResult.pollAnswer),oe()):J(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f().notify(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){if(!S)if(A)ce();else{var e=localStorage.getItem(ee);e?(K(e),oe()):J(!1)}}),[S,A]),(0,P.jsx)("div",{className:d()(w().root,re?w().isInView:""),ref:ae,children:(0,P.jsxs)("div",{className:w().textContainer,ref:j,children:[(0,P.jsx)("div",{className:w().header,children:"Poll"}),Y&&(0,P.jsxs)("div",{"data-testid":"loading-skeleton",children:[(0,P.jsx)(p.Z,{animation:"scroll-indicator",animationData:g,ariaLabel:"Animated scroll indicator",className:w().scrollIndicator}),(0,P.jsx)("div",{className:w().answerSkeleton,children:B.map((function(e,t){return(0,P.jsx)("div",{className:w().answerItem},t)}))})]}),!Y&&(0,P.jsx)("div",{className:w().question,children:E}),!Y&&!V&&(0,P.jsx)("div",{className:w().options,"data-testid":"options",children:B.map((function(e,t){return(0,P.jsx)("button",{type:"button",className:w().option,onClick:function(){se(e,t)},children:e},e)}))}),!Y&&V&&(0,P.jsxs)("div",{className:w().results,"data-testid":"results",children:[H.map((function(e,t){return(0,P.jsxs)("div",{className:d()(w().option,e.answer===U?w().selected:""),children:[(0,P.jsxs)("div",{className:w().optionTextContainer,children:[(0,P.jsx)("div",{children:e.answer}),(0,P.jsx)("div",{className:w().percentage,children:"".concat(ie(e.count),"%")})]}),(0,P.jsx)("div",{className:w().progressBarContainer,style:{"--percentage":"".concat(ie(e.count),"%")},children:(0,P.jsx)("div",{className:w().progress})})]},t)})),L&&(0,P.jsxs)("div",{className:w().cta,children:[R&&(0,P.jsx)(I.Z,{type:"text",onClick:function(){l.push(R)},label:L}),!R&&(0,P.jsx)("div",{className:w().ctaLabel,children:L})]})]})]})})},T=n(5055),N=n(34086),S=n.n(N),A=function(e){var t=e.content,n=e.header,a=void 0===n?"":n,r=e.subHeader,i=void 0===r?"":r,o=(0,_.Z)(),l=o.verticalIndex,s=o.componentRef,c=t.slice(0,4);return(0,P.jsxs)("div",{className:S().root,ref:s,children:[(a||i)&&(0,P.jsxs)("div",{className:S().heading,children:[a&&(0,P.jsx)("div",{className:S().header,children:a}),i&&(0,P.jsx)("div",{className:S().subHeader,children:i})]}),(0,P.jsx)("div",{className:S().contentTiles,children:c.map((function(e,t){return(0,P.jsx)(T.Z,{compact:!0,content:e,analyticsParams:{horizontalIndex:t,verticalIndex:l}},e.externalId)}))})]})},E=n(50034),O=n(30559),F=n.n(O),L=n(72587),R=n(80631),B=n(62794),D=n.n(B),V=function(e){var t,n=e.content,a=e.analyticsParams,i=void 0===a?{}:a,o=n.header,l=n.cta,s=n.image,c=n.ctaUrl,d=(0,_.Z)(),u=d.verticalIndex,p=d.componentRef,m=(0,x.useRouter)(),f=i.horizontalIndexOffset,h=(0,L.L)(),v=(0,r.useState)(!1),y=v[0],b=v[1];(0,r.useEffect)((function(){b(h<R.A.lg)}),[h]);var g=function(){(0,k.uH)({destination_url:c,label:"Flexible Image CTA Clicked",location:"FlexibleImageCTA",vertical_index:u,horizontal_index:f,content_name:o},n),m.push(c)};return(0,P.jsx)("div",{onClick:function(){return g()},"data-testid":"cta-link",onKeyDown:function(e){"Enter"===e.key&&g()},role:"button",tabIndex:-1,ref:p,children:(0,P.jsx)("div",{className:D().root,style:{backgroundImage:"url(".concat(null===s||void 0===s||null===(t=s.file)||void 0===t?void 0:t.url,")")},children:o&&l&&(0,P.jsxs)("div",{className:D().ctaContent,"data-testid":"cta-content",children:[(0,P.jsx)("div",{className:D().header,children:o}),(0,P.jsx)("div",{className:D().cta,children:(0,P.jsx)(I.Z,{label:l,"aria-label":l,size:y?"sm":"md"})})]})})})};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t=e.contentSlots,n=e.header,a=void 0===n?"":n,r=e.subheader,i=void 0===r?"":r,o=e.analyticsParams,l=void 0===o?{}:o,s=function(){var e=t[0];switch(e.contentTypeId){case h.X7.MULTI_TILE_PROMO:var n;return Math.min(null===e||void 0===e||null===(n=e.contentSlots)||void 0===n?void 0:n.length,4)||0;case h.X7.POLL:var a;return Math.min(null===e||void 0===e||null===(a=e.answer)||void 0===a?void 0:a.length,4)||0;case h.X7.FLEXIBLE_IMAGE_CTA:return 1;default:return 0}},c=function(e,t){var n=G(G({},l),{},{horizontalIndexOffset:t>0?s():0});switch(e.contentTypeId){case h.X7.MULTI_TILE_PROMO:return(0,P.jsx)(A,{content:e.contentSlots,analyticsParams:n});case h.X7.POLL:return(0,P.jsx)(C,{poll:e,analyticsParams:n});case h.X7.FLEXIBLE_IMAGE_CTA:return(0,P.jsx)(V,{content:e,analyticsParams:n});default:return null}};return(0,P.jsxs)("div",{className:F().root,children:[(a||i)&&(0,P.jsx)(E.Z,{headerText:a,subText:i}),(0,P.jsx)("div",{className:F().twoColumn,children:t.map((function(e,t){return(0,P.jsx)("div",{className:[null!==e&&void 0!==e&&e.contentTypeId?F()[e.contentTypeId]:""].join(" "),children:c(e,t)},e.contentfulId)}))})]})}},85398:function(e){e.exports={image:"ContentTile_image___WXbc",imageWrapper:"ContentTile_imageWrapper__El2bH",footer:"ContentTile_footer__zM6fB",info:"ContentTile_info__JFocj",title:"ContentTile_title__5x9t4",eyebrow:"ContentTile_eyebrow__TKRcu",compact:"ContentTile_compact__wPE0_"}},30559:function(e){e.exports={root:"FlexibleContainer_root__w2NRj",twoColumn:"FlexibleContainer_twoColumn__sXVBe",contentList:"FlexibleContainer_contentList__p5nAO",poll:"FlexibleContainer_poll__1fSG7",flexibleContainerImageCTA:"FlexibleContainer_flexibleContainerImageCTA__RBx67",subHeader:"FlexibleContainer_subHeader__inIf3"}},62794:function(e){e.exports={root:"FlexibleImageCTA_root__bsP_R",ctaContent:"FlexibleImageCTA_ctaContent__3oL6R",header:"FlexibleImageCTA_header__j0Gbv",cta:"FlexibleImageCTA_cta__quvAV"}},34086:function(e){e.exports={root:"FourTile_root__xt8zj",contentTiles:"FourTile_contentTiles__339HN"}},32757:function(e){e.exports={root:"Poll_root__nWg46",isInView:"Poll_isInView__GkesS",options:"Poll_options__yMEpp",option:"Poll_option__Z_bMZ",fillBackground:"Poll_fillBackground__o9GS7",results:"Poll_results__7Y8UD",progress:"Poll_progress__8KtBS",progressFill:"Poll_progressFill__FWohH",textContainer:"Poll_textContainer__wk6Q4",header:"Poll_header__T89sM",question:"Poll_question__Q1AjI",selected:"Poll_selected__Y78Vj",optionTextContainer:"Poll_optionTextContainer__LCMfl",percentage:"Poll_percentage__t36ua",progressBarContainer:"Poll_progressBarContainer__6rB__",answerSkeleton:"Poll_answerSkeleton__3xsTb",answerItem:"Poll_answerItem__nD_SS",cta:"Poll_cta__5ncIH",ctaLabel:"Poll_ctaLabel__VKo9q"}},92633:function(e){"use strict";e.exports=JSON.parse('{"v":"5.3.1","fr":24,"ip":0,"op":47,"w":26,"h":50,"nm":"scroll","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.5],"y":[0]},"n":["0p833_1_0p5_0"],"t":10,"s":[25],"e":[0]},{"t":28}],"ix":11},"r":{"a":0,"k":45,"ix":10},"p":{"a":0,"k":[13.5,16.155,0],"ix":2},"a":{"a":0,"k":[-0.138,352.655,0],"ix":1},"s":{"a":0,"k":[80,80,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[19.945,19.945],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":1,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tr","p":{"a":0,"k":[-0.138,352.655],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":10,"op":47,"st":10,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.5],"y":[0]},"n":["0p833_1_0p5_0"],"t":19,"s":[50],"e":[0]},{"t":37}],"ix":11},"r":{"a":0,"k":45,"ix":10},"p":{"a":0,"k":[13.362,27.155,0],"ix":2},"a":{"a":0,"k":[-0.138,352.655,0],"ix":1},"s":{"a":0,"k":[80,80,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[19.945,19.945],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":1,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tr","p":{"a":0,"k":[-0.138,352.655],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":19,"op":47,"st":19,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.5],"y":[1]},"o":{"x":[0.5],"y":[0]},"n":["0p5_1_0p5_0"],"t":0,"s":[0],"e":[100]},{"i":{"x":[0.715],"y":[1]},"o":{"x":[0.382],"y":[0]},"n":["0p715_1_0p382_0"],"t":10,"s":[100],"e":[100]},{"i":{"x":[0.794],"y":[1]},"o":{"x":[0.461],"y":[0]},"n":["0p794_1_0p461_0"],"t":28,"s":[100],"e":[0]},{"t":46}],"ix":11},"r":{"a":0,"k":45,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.51,"y":1},"o":{"x":0.49,"y":0},"n":"0p51_1_0p49_0","t":10,"s":[13.5,16.155,0],"e":[13.362,37.155,0],"to":[-0.02294921875,3.5,0],"ti":[0.02294921875,-3.5,0]},{"t":28}],"ix":2},"a":{"a":0,"k":[-0.138,352.655,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.51,0.51,0.51],"y":[1,1,1]},"o":{"x":[0.49,0.49,0.49],"y":[0,0,0]},"n":["0p51_1_0p49_0","0p51_1_0p49_0","0p51_1_0p49_0"],"t":0,"s":[0,0,100],"e":[80,80,100]},{"t":10}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[19.945,19.945],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":0,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":1,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":true},{"ty":"tr","p":{"a":0,"k":[-0.138,352.655],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":47,"st":0,"bm":0}],"markers":[]}')}}]);
//# sourceMappingURL=2992-84987f1f4a970ee7.js.map
</script>

</body>
</html>
