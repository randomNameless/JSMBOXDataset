<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>15656-6bc79dcf7070e5f9.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15656],{82080:function(e,s){s.Z={src:"/_next/static/media/board-booster.fc1fce2f.png",height:104,width:153,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAP1BMVEVMaXFUWFNhRDuhRkZPQUC8KimPOjZIR0q8BAAtMTU2PEBvUUaDTk7gQBtUWFx3c3N2cnGYVVFoW1VtVlFXVFVX+syKAAAAEnRSTlMAz7fHr4wm/RcxnJ9iP3bln9+WQEPtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAALUlEQVR4nGPg5WMRYAABNn4RdhZOEItVkJGdnYuTgYGNg4FbSJgJLM3KzMMBABf2AQF8rHPQAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5}},95732:function(e,s,t){t.d(s,{R:function(){return C}});var o=t(28171),n=t(53973),a=t(86623),l=t(41485),r=t.n(l),i=t(78448),c=t(61787),m=t(49906),d=t(41484),u=t(37437),x=t(46472),h=t(84321),f=t(17366),b=t(92905),p=t(17649),g=t(91313),v=t(83524),j=t(39835),w=t(16447),A=t(26934),y=t(49734),N=t(82080);function R(e){let{game:s,users:t,open:n,onOpenChange:a,onSuccess:l,recentGameBoosts:R}=e,{t:_}=(0,g.QT)(),{session:k,loaded:C,refreshSession:P}=(0,j.kP)(),[T]=(0,v.l)({users:t}),[I,Z]=(0,i.useState)(!1),{error:B,mutate:D,isError:F,isLoading:U,isSuccess:E,reset:G}=(0,m.D)({mutationFn:()=>w.x1.PutGameBoostGrant({gameId:(null==s?void 0:s.id)||"",anonymous:I}),onSuccess:()=>{P(),l&&l()}}),[Q,S]=(0,i.useState)(n);return(Q!==n&&(S(n),G()),C&&s)?(0,o.jsx)(h.p,{open:n,onOpenChange:a,title:_("supporter:boost_modal.title",{boost:A.R.boost}),dismissEnabled:!U,children:(0,o.jsxs)("div",{className:"x-custom-scrollbar-thin relative isolate max-w-lg overflow-y-auto",children:[U&&(0,o.jsx)("div",{className:"x-loading-animation absolute inset-0 z-10"}),F&&(0,o.jsxs)("div",{className:"flex flex-col flex-nowrap justify-end gap-4 p-4",children:[(0,o.jsxs)("div",{className:"flex flex-col flex-nowrap items-center justify-start gap-y-2",children:[(0,o.jsx)("p",{children:_("supporter:boost_modal.error_message",{boost:A.R.boost})}),(0,o.jsx)("p",{className:"font-medium",children:B.message})]}),(0,o.jsx)("div",{className:"flex flex-row flex-nowrap items-center justify-center",children:(0,o.jsx)(u.Z.Button,{onClick:()=>null==a?void 0:a(!1),children:_("common:close")})})]}),E&&(0,o.jsxs)("div",{className:"flex flex-col flex-nowrap justify-end gap-4 p-4",children:[(0,o.jsxs)("div",{className:"flex flex-col flex-nowrap items-center justify-start",children:[(0,o.jsx)(r(),{src:N.Z,alt:"",className:"mb-4 h-24 w-auto"}),(0,o.jsx)("p",{children:_("supporter:boost_modal.success_message",{boost:A.R.boost})})]}),(0,o.jsx)("div",{className:"flex flex-row flex-nowrap items-center justify-center",children:(0,o.jsx)(u.Z.Button,{onClick:()=>null==a?void 0:a(!1),children:_("common:close")})})]}),!E&&(0,o.jsxs)("div",{className:"space-y-4 p-4",children:[!k.signedIn&&(0,o.jsx)(r(),{src:N.Z,alt:"",className:"mx-auto h-24 w-auto"}),(0,o.jsxs)("div",{className:"space-y-4 text-sm",children:[k.signedIn&&(0,o.jsx)("p",{children:_("supporter:boost_modal.message",{boost:A.R.boost,game:s.name})}),(0,o.jsx)("p",{children:_("supporter:boost_modal.message_1",{...A.R,count:y.ZQ})}),(0,o.jsx)("p",{children:(0,o.jsx)(f.f,{nextTokenDate:k.boostNextTokenDate,nextTokenAmount:k.boostNextTokenAmount})})]}),k.signedIn&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex flex-row flex-nowrap items-center justify-center gap-4 rounded-lg bg-black/20 p-4",children:[(0,o.jsx)(r(),{src:N.Z,alt:"",className:"h-auto w-16"}),(0,o.jsx)("div",{className:"font-title text-lg font-bold uppercase",children:_("supporter:boost_modal.available_boost_count",{boost:A.R.boost,count:k.boostAvailableTokens})})]}),(0,o.jsx)(u.Z.Switch,{checked:I,setChecked:Z,name:"anonymous",label:_("supporter:boost_modal.use_boost_anonymously",{boost:A.R.boost})}),(0,o.jsx)("div",{className:"flex flex-row flex-nowrap items-center justify-between gap-3",children:(0,o.jsx)(u.Z.Button,{onClick:D,className:"flex-auto basis-1/2",size:"lg",variant:"primary",disabled:!k.boostAvailableTokens,children:"Boost"})})]}),!k.signedIn&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"flex flex-row flex-nowrap items-center justify-between gap-3",children:(0,o.jsx)(u.Z.Button,{href:"/auth/login",className:"flex-auto basis-1/2",size:"lg",variant:"primary",children:_("common:log_in")})})}),s.boostReceivedCount>0&&(0,o.jsx)("div",{children:(0,o.jsx)("p",{className:"text-sm",children:_("supporter:boost_modal.game_boost_stats",{boost:A.R.boost,boostsReceived:s.boostReceivedCount,donorCount:s.boostDistinctDonorsCount})})}),R&&R.length>0?(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"mb-4 text-sm",children:_("supporter:boost_modal.recent_boosters",{boost:A.R.boost})}),(0,o.jsxs)("table",{className:"x-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:_("common:player")}),(0,o.jsx)("td",{children:_("common:date")})]})}),(0,o.jsx)("tbody",{children:R.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"text-left",children:(0,o.jsx)(p.R,{user:!e.anonymous&&e.donorUserId?T.users.get(e.donorUserId):void 0,avatar:!0,emptyValue:_("common:anonymous")})}),(0,o.jsx)("td",{className:"text-left",children:(0,o.jsx)(b.E,{type:"date",timestamp:e.createdAt,timeReference:d.pw.TrtAbsolute})})]},e.id))})]})]}):null,(0,o.jsxs)(x.r,{href:"/supporter",className:"x-link flex flex-row flex-nowrap items-center justify-center gap-1",children:[(0,o.jsx)(c.Z,{className:"h-5 w-5","aria-hidden":"true"}),_("supporter:boost_modal.learn_more",{boost:A.R.boost})]})]})]})}):null}var _=t(34911),k=t(901);function C(e){let{game:s,users:t,gameBoosts:l}=e,c=(0,n.NL)(),[m,d]=(0,i.useState)(!1),u=(0,i.useMemo)(()=>s.boostReceivedCount?(0,_.uf)(s.boostReceivedCount):void 0,[s.boostReceivedCount]),x=(0,i.useCallback)(e=>{e.preventDefault(),d(!0)},[]),h=(0,i.useCallback)(()=>{c.invalidateQueries({queryKey:["GetGameSummary"]}).catch(k.ZT)},[c]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("button",{type:"button",onClick:x,className:"x-input-button group relative overflow-hidden rounded border border-transparent bg-[#ee4444] text-sm text-white ring-2 ring-black/10 hover:bg-[#ee5a5a]",children:[(0,o.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-start pl-1.5",children:(0,o.jsx)(r(),{src:N.Z,alt:"",className:"h-6 w-auto"})}),(0,o.jsx)("div",{className:(0,a.Z)("py-1.5 pl-12",u?"pr-1":"pr-3"),children:"Boost"}),u&&(0,o.jsx)("div",{className:"flex h-full min-w-[32px] items-center justify-center bg-[#B52F2F] px-2 text-xs font-medium group-hover:bg-[#C93434]",children:u})]}),(0,o.jsx)(R,{game:s,users:t||[],open:m,onOpenChange:d,onSuccess:h,recentGameBoosts:l})]})}},32309:function(e,s,t){t.d(s,{D:function(){return d}});var o=t(28171),n=t(78448),a=t(40744),l=t(70819),r=t(91313),i=t(24995),c=t(39835),m=t(16447);function d(e){let{game:s,activeLabel:t,inactiveLabel:d}=e,{session:u,refreshSession:x}=(0,c.kP)(),{t:h}=(0,r.QT)(),{confirm:f}=(0,l.N)(),{notifyError:b}=(0,i.l)(),[p,g,v]=(0,n.useMemo)(()=>{let e=u.gameFollowerList.some(e=>e.gameId===s.id);return[e,()=>{var e;m.x1.PutGameFollower({userId:(null===(e=u.user)||void 0===e?void 0:e.id)||"",gameId:s.id}).then(()=>x()).catch(b)},()=>{f({title:h("games:unfollow_game"),message:h("games:unfollow_game_confirm"),onConfirm:()=>{var e;m.x1.PutGameFollowerDelete({userId:(null===(e=u.user)||void 0===e?void 0:e.id)||"",gameId:s.id}).then(()=>x()).catch(b)}})}]},[f,h,s,b,u,x]);return u.signedIn?(0,o.jsx)(a.e,{following:p,onFollow:g,onUnfollow:v,activeLabel:t,inactiveLabel:d}):null}},91998:function(e,s,t){t.d(s,{K:function(){return P}});var o=t(28171),n=t(41318),a=t(94970),l=t(59688),r=t(98655),i=t(13982),c=t(78448),m=t(41484),d=t(95732),u=t(12058),x=t(32309),h=t(37437),f=t(46472),b=t(18181),p=t(36950),g=t(47111),v=t(58383),j=t(70819),w=t(83660),A=t(91313),y=t(39835),N=t(92186),R=t(16447),_=t(40057),k=t(901),C=t(92159);let P=e=>{let{summary:s}=e,{t}=(0,A.QT)(),{session:r}=(0,y.kP)(),b={gameUrl:s.game.url},j=["GetGameSummary",b];(0,N.A)(j,s);let{data:P}=(0,i.a)({queryKey:j,queryFn:()=>R.x1.GetGameSummary(b)}),I=P||s,{game:Z,gameBoosts:B,relatedGames:D,seriesList:F,theme:U,users:E}=I,[G,Q]=(0,w.A)(Z),S=D.find(e=>e.id===Z.baseGameId),M=D.find(e=>e.baseGameId===Z.id&&e.gameTypeIds.some(e=>e===m.YH.GtiCategoryextension)),V=C.YU.platforms.many(Z.platformIds),L=C.YU.gameTypes.many(Z.gameTypeIds),z=(0,c.useMemo)(()=>{let e=Z.defaultView===m.Vc.DvtLevels&&I.levelCount>0?[{key:"levels",label:t("common:levels"),href:(0,k.Rv)(Z),count:I.levelCount},{key:"leaderboards",label:t("common:leaderboards"),href:(0,k.Rv)(Z,["leaderboards"]),activePrefixes:[(0,k.Rv)(Z,["leaderboards"]),(0,k.Rv)(Z,["runs"])]}]:[{key:"leaderboards",label:t("common:leaderboards"),href:(0,k.Rv)(Z),activePrefixes:[(0,k.Rv)(Z,["leaderboards"]),(0,k.Rv)(Z,["runs"])]},{key:"levels",label:t("common:levels"),href:(0,k.Rv)(Z,["levels"]),count:I.levelCount,hidden:0===I.levelCount}],s=[...e,{key:"challenges",label:t("common:challenges"),href:(0,k.Rv)(Z,["challenges"]),catchAllPath:!0,count:I.challengeCount,hidden:0===I.challengeCount},{key:"news",label:t("common:news"),href:(0,k.Rv)(Z,["news"]),catchAllPath:!0,count:I.newsCount},{key:"guides",label:t("common:guides"),href:(0,k.Rv)(Z,["guides"]),catchAllPath:!0,count:I.guideCount},{key:"resources",label:t("common:resources"),href:(0,k.Rv)(Z,["resources"]),catchAllPath:!0,count:I.resourceCount},{key:"forums",label:t("common:forums"),href:(0,k.Rv)(Z,["forums"]),catchAllPath:!0,count:I.threadCount},{key:"streams",label:t("common:streams"),href:(0,k.Rv)(Z,["streams"]),count:I.streamCount},{key:"games",label:t("games:related"),href:(0,k.Rv)(Z,["games"]),count:I.relatedCount,hidden:0===I.relatedCount},{key:"stats",label:t("common:stats"),href:(0,k.Rv)(Z,["stats"])},{key:"settings",label:t("common:settings"),href:(0,k.Rv)(Z,["settings"]),icon:(0,o.jsx)(n.Z,{className:"h-5 w-5"}),placement:"end",catchAllPath:!0,inactivePrefixes:[(0,k.Rv)(Z,["settings","runs"])],hidden:!(0,_.Z2)(r,Z)}];return s},[Z,r,I,t]);return(0,o.jsx)(p.m,{image:(0,o.jsx)(u.r,{game:Z,className:"h-24 w-auto sm:h-32",priority:!0}),title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.r,{href:(0,k.Rv)(Z),className:"x-link",children:G}),Q&&(0,o.jsxs)("span",{className:"ml-1 text-lg font-normal text-foreground sm:text-xl",children:["(",Q,")"]})]}),subtitle:(0,o.jsx)("div",{className:"flex w-full flex-col gap-1 sm:flex-row sm:gap-4",children:F.map(e=>(0,o.jsxs)(f.r,{href:(0,k.BC)(e),className:"x-focus-outline-offset",children:[e.name.replace(" Series","").trim()," ",t("common:series")]},e.id))}),meta:(0,o.jsxs)("div",{className:"flex w-full flex-col space-y-3",children:[L.length>0&&(0,o.jsx)(v.a,{tags:L.map(e=>({label:e.name})),max:4}),V.length>0&&(0,o.jsx)(v.a,{tags:V.map(e=>({label:e.url,href:(0,k.LT)(["games"],{platform:e.id})})),max:4}),(0,o.jsxs)("div",{className:"x-inline-2 flex-wrap sm:flex-nowrap",children:[S&&(0,o.jsxs)(h.Z.Button,{size:"xs",variant:"soft",href:(0,k.Rv)(S),children:[(0,o.jsx)(a.Z,{className:"mr-0.5 h-4 w-4"})," ",t("games:base_game")]}),M&&(0,o.jsxs)(h.Z.Button,{size:"xs",variant:"soft",href:(0,k.Rv)(M),children:[(0,o.jsx)(a.Z,{className:"mr-0.5 h-4 w-4"})," ",t("games:category_extensions")]}),Z.discordUrl&&(0,o.jsxs)(h.Z.Button,{size:"xs",variant:"soft",href:Z.discordUrl,target:"_blank",children:[(0,o.jsx)(g.D7,{className:"mr-0.5 h-4 w-4"})," Discord"]}),Z.websiteUrl&&(0,o.jsxs)(h.Z.Button,{size:"xs",variant:"soft",href:Z.websiteUrl,target:"_blank",children:[(0,o.jsx)(l.Z,{className:"mr-0.5 h-4 w-4"})," ",t("games:website")]})]})]}),actions:(0,o.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-3",children:[(0,o.jsx)(d.R,{game:Z,users:E,gameBoosts:B}),(0,o.jsx)(x.D,{game:Z}),(0,o.jsx)(T,{theme:U})]}),navItems:z})};function T(e){var s;let{theme:t}=e,{t:n}=(0,A.QT)(),{alert:a,confirm:l}=(0,j.N)(),{session:i,refreshSession:m}=(0,y.kP)(),d=(0,c.useCallback)(()=>{let{user:e}=i;e&&t&&l({title:n("common:use_theme"),message:n("common:use_theme_explanation"),onConfirm:()=>{R.x1.PutUserThemeChoice({userId:e.id,themeId:t.id},{method:"POST"}).then(()=>{m(),a({title:n("common:theme_updated"),message:n("common:theme_updated_explanation"),onConfirm:k.ZT})}).catch(k.ZT)}})},[a,l,m,i,n,t]),{user:u}=i;if(!u)return null;let x=u&&t&&t.id!==(null===(s=i.theme)||void 0===s?void 0:s.id);return x?(0,o.jsx)(b.v.Actions,{children:(0,o.jsx)(b.v.Item,{icon:(0,o.jsx)(r.Z,{className:"h-5 w-5"}),label:n("common:use_this_theme"),onClick:()=>d()})}):null}},17366:function(e,s,t){t.d(s,{f:function(){return c}});var o=t(28171),n=t(28344),a=t(41484),l=t(92905),r=t(91313),i=t(26934);function c(e){let{nextTokenDate:s,nextTokenAmount:t,className:c}=e,{t:m}=(0,r.QT)();if(!s)return(0,o.jsx)("span",{className:c,children:m("supporter:next_boost_token.no_date",i.R)});let d=!t||t<=1?"one":"many",u=n.ou.fromSeconds(s);return 60>u.diffNow().as("minutes")?(0,o.jsx)("span",{className:c,children:m("supporter:next_boost_token.you_will_receive_soon_".concat(d),{amount:t,boost:i.R.boost})}):(0,o.jsxs)("span",{className:c,children:[m("supporter:next_boost_token.you_will_receive_on_".concat(d),{amount:t,boost:i.R.boost})," ",(0,o.jsx)("span",{className:"font-semibold",children:(0,o.jsx)(l.E,{timestamp:s,type:"date",timeReference:a.pw.TrtAbsolute,showTooltip:!1})})]})}},92186:function(e,s,t){t.d(s,{A:function(){return a}});var o=t(53973),n=t(78448);function a(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e5,l=(0,o.NL)(),r=(0,n.useRef)(!1),[i,c]=(0,n.useState)(s);i!==s&&(c(s),r.current=!1),r.current||(r.current=!0,l.setQueryDefaults(e,{cacheTime:a,staleTime:t}),l.setQueryData(e,s))}},93663:function(e,s,t){t.d(s,{Dj:function(){return n},Op:function(){return d},PE:function(){return c},XK:function(){return m}});var o,n,a=t(41484),l=t(34911),r=t(901),i=t(52013);function c(e,s,t,o){let n;let[a]=(0,i.QH)(e,s.defaultTimer),c=a?(0,l.D4)(a):"???";switch(o.length){case 0:break;case 1:n=o[0].name;break;default:n="".concat(o.length," players")}return[t.name,"in",c,n?"by":"",n].filter(r.Wl).join(" ")}let m=new Map([[a.RP.CsDraft,"draft"],[a.RP.CsPublished,"published"],[a.RP.CsFinalized,"finalized"]]);function d(e,s){return e.state===a.RP.CsFinalized?"completed":e.state===a.RP.CsDraft?"upcoming":(s=null!=s?s:(0,r.oK)(),e.startDate>s)?"upcoming":e.endDate<s?"pending_verification":"live"}(o=n||(n={})).UPCOMING="upcoming",o.LIVE="live",o.PENDING_VERIFICATION="pending_verification",o.COMPLETED="completed"}}]);
</script>

</body>
</html>
