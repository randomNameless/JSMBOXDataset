<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5371.0c6a5887e497fedfb6ca.html</title>
</head>
<body>

<script>
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5371,5767,5576,6118],{29982:(e,t,a)=>{a.d(t,{Z:()=>o});var i=a(24054),n=a(83771);const o=(0,i.Q_)("transcription",{state:function(){return{zoomValue:(0,n._aR)("zoomValue",0)}},getters:{canZoomIn:function(){return this.zoomValue<2},canZoomOut:function(){return this.zoomValue>-2}},actions:{zoomIn:function(){this.canZoomIn&&(this.zoomValue+=1)},zoomOut:function(){this.canZoomOut&&(this.zoomValue-=1)}}})},63882:(e,t,a)=>{const i=a(49458),n=a(49458),o={class:"a-countdown"},r=a(49458);t.Z=(0,i.defineComponent)({__name:"CountDownTimer",props:{type:null,required:{type:Boolean},default:null},setup(e){const t=e,a=(0,r.ref)(t.default??10);let i;return(0,r.onMounted)((()=>{i=setInterval((()=>{a.value>0&&(a.value-=1)}),1e3)})),(0,r.onUnmounted)((()=>{clearInterval(i)})),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",o,(0,n.toDisplayString)(e.$translate("autoload.panel.continues_in").replace("%number%",a.value)),1))}})},56181:(e,t,a)=>{const i=a(49458),n=a(49458);t.Z=(0,i.defineComponent)({__name:"OverlayContainer",props:{classes:{default:"u-modal__filter"}},emits:["click"],setup(e,{emit:t}){const a=e,i=()=>{t("click")};return(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{"data-modal-filter":"",class:(0,n.normalizeClass)(a.classes),onClick:i},null,2))}})},3861:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a(63882).Z},55371:(e,t,a)=>{a.r(t),a.d(t,{default:()=>He});var i=a(49458),n=["id"],o={class:"o-audio-player__content"},r={class:"o-audio-player__media-infos"},s={class:"o-audio-player__media-infos__content"},l=["innerHTML"],c=(0,i.createElementVNode)("span",{class:"a-picto-play-pause__pause a-svg a-svg--picto-pause-circle"},null,-1),d={class:"o-audio-player__actions"},u=["innerHTML"],p=(0,i.createElementVNode)("span",{class:"a-picto-play-pause__pause a-svg a-svg--picto-pause-circle"},null,-1),h={class:"o-audio-player__actions__btn-wrapper o-audio-player__actions__btn-wrapper--options o-audio-player__actions__btn-wrapper--end"},m={key:1,class:"o-audio-player__transcription"},y=["innerHTML"];var g=a(27641),v=a(24054),f=a(76366),b=a(56712),w=a(15512),P=a.n(w),k=a(57426);const E=function(){var e="",t=window.Didomi;t&&"getUserStatus"in t&&(e=t.getUserStatus().consent_string);return e},S=function(e){return e=k.Z.numberify(e),Boolean(window.Didomi.getUserStatus().vendors.global.enabled.includes(e))},_=function(){return(Date.now()+Math.floor(999999*Math.random())).toString(36)};const C=function(){return E()},T=function(){return null===window.localStorage.getItem("user_id")&&window.localStorage.setItem("user_id",_()),window.localStorage.getItem("user_id")},B=function(){return null===window.localStorage.getItem("user_ip")&&window.localStorage.setItem("user_ip",""),window.localStorage.getItem("user_ip")},I=function(){var e=S(448)?"/advertising/live/data?consent=1":"/advertising/live/data?consent=0";return new Promise((function(t,a){P().get(e,{json:!0,headers:{"Content-Type":"application/json"}},(function(e,i,n){return e?a(e.message):i.statusCode<200||i.statusCode>=400?a(new Error("".concat(i.statusCode," - ").concat(n))):t(n)}))})).then((function(e){return e})).catch((function(e){}))};var O=a(39802),D=a(19327),M=a(89291),V=a(11306),N={class:"m-audio-player-description__wrapper"};const L={name:"MediaInfo",props:{emission:{type:String,default:""},diffusion:{type:String,default:""},classes:{type:String,default:""}},data:function(){return{overflow:!1}},computed:{isVisible:function(){return this.emission||this.diffusion},hasOverflow:function(){return this.overflow}},updated:function(){var e=this;this.isVisible&&this.$nextTick((function(){e.updateOverflow()}))},methods:{updateOverflow:function(){var e=this.$refs["media-info"],t=e.querySelector(".m-audio-player-description__wrapper")||void 0,a=e.clientWidth||0,i=0;t&&(i=t.clientWidth||0),this.overflow=a<i;var n=document.querySelector("#marqueeAnimation");if(this.overflow){var o=100*(i/a-1),r="ltr"===document.documentElement.getAttribute("dir")||"fle"===window.contextlayer.site_nav.site_brand?"-":"";n||((n=document.createElement("style")).setAttribute("id","marqueeAnimation"),document.head.append(n)),n.innerHTML="@keyframes text-marquee {\n          0% { opacity: 1; transform: translateX(0); }\n          5% { opacity: 1; transform: translateX(0); }\n          75% { opacity: 1; transform: translateX(".concat(r).concat(o,"%); }\n          95% { opacity: 1; transform: translateX(").concat(r).concat(o,"%); }\n          100% { opacity: 0; transform: translateX(").concat(r).concat(o,"%); }\n        }")}}}};var A=a(83744);const x=(0,A.Z)(L,[["render",function(e,t,a,n,o,r){return r.isVisible?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,ref:"media-info",class:(0,i.normalizeClass)(r.hasOverflow?"".concat(a.classes," m-audio-player-description--overflow"):a.classes)},[(0,i.createElementVNode)("div",N,[a.emission?(0,i.renderSlot)(e.$slots,"emission",{key:0,emission:a.emission},(function(){return[(0,i.createTextVNode)((0,i.toDisplayString)(a.emission),1)]})):(0,i.createCommentVNode)("",!0),a.diffusion?(0,i.renderSlot)(e.$slots,"diffusion",{key:1,diffusion:a.diffusion},(function(){return[(0,i.createTextVNode)((0,i.toDisplayString)(a.diffusion),1)]})):(0,i.createCommentVNode)("",!0)])],2)):(0,i.createCommentVNode)("",!0)}]]);var j={class:"vue-slider__highlight-bar-content__title"},R={class:"vue-slider__highlight-bar-content__time"};var $=a(29909),Z=a(83009),z=a(1689),H=a.n(z);var q=["0","1","2","3","4","5","6","7","8","9"],F={fa:["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],km:["០","១","២","៣","៤","៥","៦","៧","៨","៩"]};const U={name:"TimeFormatter",props:{time:{type:Number,required:!0},classes:{type:String,default:""},language:{type:String,default:""}},computed:{minutes:function(){return this.addLeadingZero(Math.floor(this.time/60))},seconds:function(){return this.addLeadingZero(Math.floor(this.time%60))}},methods:{number_translater:function(e){var t=this,a=e;return["km","fa"].includes(this.language)&&(a=a.toString(),q.forEach((function(e,i){a=a.replace(new RegExp(e,"g"),F[t.language][i])}))),a},addLeadingZero:function(e){return e.toString().length>1?e.toString():"0".concat(e.toString())}}},W=(0,A.Z)(U,[["render",function(e,t,a,n,o,r){return(0,i.openBlock)(),(0,i.createElementBlock)("span",{class:(0,i.normalizeClass)(a.classes)},(0,i.toDisplayString)(r.number_translater("".concat(r.minutes,":").concat(r.seconds))),3)}]]);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){(0,g.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const G={name:"TrackBar",components:{VueSlider:H(),TimeFormatter:W},props:{chapters:{type:Array,default:void 0},progressValue:{type:Number,default:0,required:!1},panelIsOpen:{type:Boolean,required:!0},total:{type:Number,default:0,required:!1},disabled:{type:Boolean,default:!1,required:!1},disableControl:{type:Boolean,default:!1,required:!1},classes:{type:String,default:""}},emits:["set-time"],data:function(){return{chapterInfosStyle:void 0,chapterBarStyle:void 0,chapterBarStyleValue:void 0,chapterBarOverWidth:0,chapterBarHightlightOverStyle:void 0,currentChapter:void 0,enableChapter:!1,highlightTime:void 0,isDragged:!1,showHightlightBarClasses:{},showHightlightBar:!1,defaultOptions:{disabled:!1,dotSize:14,height:4,hideLabel:!0,interval:.1,marks:{},max:100,min:0,process:!0,speed:.5,tooltip:"none"}}},computed:{valuePercentage:{get:function(){return!this.disabled&&this.totalDuration>0?Math.min(100,100*this.progressValue/this.totalDuration):0},set:function(){}},chapterBarsEnabled:function(){return this.panelIsOpen&&this.chapters&&Object.keys(this.chapters).length>0},totalDuration:function(){return this.total||0},options:function(){var e=this,t={};return this.chapters&&this.enableChapter&&this.chapters.forEach((function(a){var i=Math.round(Math.min(a.timestampStart/1e3*100/e.totalDuration));t[i]=a.title})),this.defaultOptions.marks=t,X(X({},this.defaultOptions),{},{disabled:this.disabled,disableControl:this.disableControl})},chapterBarStyleRead:function(){var e;if(null!==(e=this.chapterBarStyleValue)&&void 0!==e&&e.left){var t=this.valuePercentage-this.chapterBarStyleValue.left;t>this.chapterBarStyleValue.width&&(t=this.chapterBarStyleValue.width);var a=this.$refs.showHightlightBar?"".concat(this.$refs.showHightlightBar.clientWidth,"px"):void 0;return{left:"calc(".concat(this.chapterBarStyleValue.left,"% + 2px)"),width:"calc(".concat(t,"%)"),maxWidth:a}}return""}},watch:{showHightlightBar:function(e){e||(this.currentChapter=void 0,this.chapterBarStyleValue=void 0,this.highlightTime=void 0,this.chapterBarStyle=void 0,this.showHightlightBarClasses["vue-slider-has-hightlight-bar"]=!1,this.chapterBarOverWidth=0,this.chapterBarHightlightOverStyle=void 0)}},mounted:function(){var e;this.enableChapter=(null===(e=window.contextlayer.player)||void 0===e?void 0:e.enableChapter)||!1},methods:{highlightChapterBar:function(e){var t,a,i;this.showHightlightBarClasses["vue-slider-has-hightlight-bar"]=!0,this.chapterBarStyle=void 0;var n=4,o=Math.max.apply(void 0,Object.keys(this.options.marks));Object.entries(this.options.marks).forEach((function(n){var o=(0,Z.Z)(n,2),r=o[0],s=o[1];e>=r&&!i&&(a=r,t=s),e<=r&&!i&&(i=r-a)})),i||(i=100-o,n=2);var r=this.getCappedPercentValue(e);this.currentChapter=t,this.highlightTime=Math.floor(r*this.totalDuration/100),this.chapterBarStyleValue={left:a,width:i};var s=this.chapterBarOverWidth-this.chapterBarStyleValue.left;this.chapterBarHightlightOverStyle={left:"calc(".concat(this.chapterBarStyleValue.left,"% + 2px)"),width:"calc(".concat(s,"%)")},this.chapterBarStyle={left:"calc(".concat(this.chapterBarStyleValue.left,"% + 2px)"),width:"calc(".concat(this.chapterBarStyleValue.width,"% - ").concat(n,"px)")},this.updateChapterInfoStyle(r)},updateChapterInfoStyle:function(e){if(this.$refs.chapterInfos){var t=this.$refs.slider.$el.getBoundingClientRect(),a=this.$refs.chapterInfos.getBoundingClientRect(),i=e*t.width/100,n=t.x>=t.x+i-a.width/2,o=t.x+t.width,r=o<=o-(t.width-i)+a.width/2,s={transform:"translate(".concat(n||r?0:-50,"%,-100%)")};n&&!r||n&&r?s.left="0%":!n&&r?s.right="0%":s.left="".concat(e,"%"),this.chapterInfosStyle=s}},onDragStart:function(){this.chapterBarsEnabled&&(this.isDragged=!0,this.showHightlightBarClasses["vue-slider-bar-is-drag"]=!0)},onDragging:function(e){this.chapterBarsEnabled&&(this.showHightlightBar=!0,this.chapterBarOverWidth=e,this.highlightChapterBar(this.$refs.slider.getValue()))},onDragEnd:function(){var e=this;this.chapterBarsEnabled&&(this.showHightlightBarClasses["vue-slider-bar-is-drag"]=!1,this.$emit("set-time",this.$refs.slider.getValue()*this.totalDuration/100),setTimeout((function(){e.isDragged=!1}),600),this.showHightlightBar=!1)},wrapClick:function(){this.options.disabled||this.isDragged||this.options.disableControl||(this.$emit("set-time",this.$refs.slider.getValue()*this.totalDuration/100),window.PubSub.publish("TIME_UPDATED_FROM_TRACKBAR"))},onMouseLeave:function(){!1===this.isDragged&&this.chapterBarsEnabled&&(this.showHightlightBar=!1)},onMouseMove:function(e){if(!1===this.isDragged&&this.chapterBarsEnabled){var t=this.$refs["track-bar-wrapper"];this.showHightlightBar=!0;var a=100*(e.clientX-t.offsetLeft)/t.clientWidth;this.chapterBarOverWidth=this.getCappedPercentValue(a),this.highlightChapterBar(this.chapterBarOverWidth,!0)}},getCappedPercentValue:function(e){var t=(0,$.Z)(e);if("number"!==t){new TypeError("Only numbers allowed, received ".concat(t,". Will return 100."));return 100}return e>100?100:e}}},J=(0,A.Z)(G,[["render",function(e,t,a,n,o,r){var s=(0,i.resolveComponent)("time-formatter"),l=(0,i.resolveComponent)("vue-slider");return(0,i.openBlock)(),(0,i.createElementBlock)("div",{ref:"track-bar-wrapper",class:(0,i.normalizeClass)(a.classes),onClick:t[1]||(t[1]=function(){return r.wrapClick&&r.wrapClick.apply(r,arguments)}),onMousemove:t[2]||(t[2]=function(){return r.onMouseMove&&r.onMouseMove.apply(r,arguments)}),onMouseleave:t[3]||(t[3]=function(){return r.onMouseLeave&&r.onMouseLeave.apply(r,arguments)})},[(0,i.createVNode)(l,(0,i.mergeProps)(r.options,{ref:"slider",modelValue:r.valuePercentage,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.valuePercentage=e}),"drag-on-click":"",class:o.showHightlightBarClasses,onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,onChange:r.wrapClick}),{process:(0,i.withCtx)((function(){return[(0,i.createElementVNode)("div",{class:"vue-slider-process",style:(0,i.normalizeStyle)("width: ".concat(r.valuePercentage,"%"))},null,4)]})),default:(0,i.withCtx)((function(){return[r.chapterBarsEnabled&&o.showHightlightBar&&o.currentChapter?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,ref:"chapterInfos",class:"vue-slider__chapter-infos",style:(0,i.normalizeStyle)(o.chapterInfosStyle)},[(0,i.createElementVNode)("div",j,(0,i.toDisplayString)(o.currentChapter),1),(0,i.createElementVNode)("div",R,[(0,i.createVNode)(s,{time:o.highlightTime},null,8,["time"])])],4)):(0,i.createCommentVNode)("",!0),r.chapterBarsEnabled&&o.showHightlightBar?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:1,style:(0,i.normalizeStyle)({width:"".concat(o.chapterBarOverWidth,"%")}),class:"vue-slider-rail-over"},null,4)):(0,i.createCommentVNode)("",!0),r.chapterBarsEnabled&&o.showHightlightBar&&o.currentChapter?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:2,style:(0,i.normalizeStyle)(o.chapterBarHightlightOverStyle),class:"vue-slider-rail-over-highlight"},null,4)):(0,i.createCommentVNode)("",!0),r.chapterBarsEnabled&&o.showHightlightBar&&o.currentChapter?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:3,ref:"showHightlightBar",class:"vue-slider__highlight-bar",style:(0,i.normalizeStyle)(o.chapterBarStyle)},null,4)):(0,i.createCommentVNode)("",!0),r.chapterBarsEnabled&&o.showHightlightBar&&r.chapterBarStyleRead?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:4,class:"vue-slider__highlight-bar-read",style:(0,i.normalizeStyle)(r.chapterBarStyleRead)},null,4)):(0,i.createCommentVNode)("",!0)]})),_:1},16,["modelValue","class","onDragStart","onDragging","onDragEnd","onChange"])],34)}]]);const K={name:"TrackTime",components:{TimeFormatter:W},props:{elapsedTime:{type:Number,required:!0},duration:{type:Number,required:!0},lang:{type:String,default:""},classes:{type:String,default:""},elapsedTimeClasses:{type:String,default:""},durationClasses:{type:String,default:""}},computed:{currentTime:function(){return this.duration>0&&this.elapsedTime>0?100*this.elapsedTime/this.duration:0}}},Q=(0,A.Z)(K,[["render",function(e,t,a,n,o,r){var s=(0,i.resolveComponent)("time-formatter");return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)(a.classes)},[(0,i.createVNode)(s,{classes:a.elapsedTimeClasses,time:a.elapsedTime,language:a.lang},null,8,["classes","time","language"]),(0,i.renderSlot)(e.$slots,"separator"),(0,i.createVNode)(s,{classes:a.durationClasses,time:a.duration,language:a.lang},null,8,["classes","time","language"])],2)}]]);var ee=a(29982),te=a(55767),ae=["title"],ie=(0,i.createElementVNode)("span",{class:"a-svg a-svg--picto-chromecast"},null,-1),ne=["innerHTML"];const oe={name:"CastMedia",props:{media:{type:Object,default:function(){return{}}},isCasting:{type:Boolean,default:!1},btnLabel:{type:String,default:void 0}},data:function(){return{player:void 0,lastPlayingTime:void 0}},computed:{parent:function(){return this.$parent.$parent},deviceAvailable:function(){return window.gCast&&window.gCast.deviceAvailable},title:function(){var e;return this.isCasting&&this.player&&null!==(e=this.player.castDevice)&&void 0!==e&&e.friendlyName?this.$translate("chromecast.diffuse.device.name").replace("%device%",this.player.castDevice.friendlyName):this.$translate("chromecast.diffuse.label")}},mounted:function(){var e=this;this.player=window.gCast,window.PubSub.subscribe("CAST_DISCONNECTED",(function(){e.parent.lastPlayingTime>0&&(e.parent.loadMedia({startTime:e.lastPlayingTime}),e.lastPlayingTime=void 0)}))},methods:{cast:function(){var e=this;if(this.isCasting){if(this.player.isPlaying||this.player.isPaused){var t=this.player.syncCastedMediaToDom();this.parent.mediaId=t.mediaId,this.lastPlayingTime=t.time}this.player.stop()}else this.player.cast().then((function(){var t={};e.parent.lastPlayingTime>0&&(t.startTime=e.parent.lastPlayingTime),e.parent.loadMedia(t)}))}}},re=(0,A.Z)(oe,[["render",function(e,t,a,n,o,r){return r.deviceAvailable?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:0,type:"button",title:r.title,class:(0,i.normalizeClass)(["a-chromecast-btn",{"a-chromecast-btn--active":a.isCasting}]),onClick:t[0]||(t[0]=function(){return r.cast&&r.cast.apply(r,arguments)})},[ie,(0,i.createElementVNode)("span",{class:"a-chromecast-btn__label",innerHTML:a.btnLabel},null,8,ne)],10,ae)):(0,i.createCommentVNode)("",!0)}]]);var se=a(25576),le=a(36118),ce=["aria-hidden"],de=["data-action"],ue=["aria-label","disabled"],pe=(0,i.createElementVNode)("span",{class:"a-svg a-svg-mI -picto-zoom-in"},null,-1),he={class:"m-context-menu__item__label"},me=["aria-label","disabled"],ye=(0,i.createElementVNode)("span",{class:"a-svg a-svg--picto-zoom-out"},null,-1),ge={class:"m-context-menu__item__label"},ve=(0,i.createElementVNode)("span",{class:"a-svg a-svg--picto-player-download"},null,-1),fe={class:"m-context-menu__item__label"},be=(0,i.createElementVNode)("span",{class:"a-svg a-svg--picto-player-share"},null,-1),we={class:"m-context-menu__item__label"},Pe=(0,i.createElementVNode)("span",{class:"a-svg a-svg--picto-podcast-white"},null,-1),ke={class:"m-context-menu__item__label"},Ee=["href"],Se=["innerHTML"],_e=["aria-disabled"],Ce=[(0,i.createElementVNode)("span",{class:"a-svg a-svg--picto-options"},null,-1)];const Te={__name:"MenuOptions",props:{itemsList:{type:Object,default:function(){return{}}},showPopin:{type:Boolean,default:!1},media:{type:Object,default:function(){return{}}},castMode:{type:Boolean,default:!1},isAriaDisabled:{type:String,default:"false"},showOptions:{type:Boolean,default:!1},programUrl:{type:String,default:""}},emits:["update-show-popin"],setup:function(e,t){var a=t.emit,n=e,o=(0,ee.Z)(),r=(0,i.ref)({chromeCast:window.contextlayer.translations["player.options.chromeCast"],download:window.contextlayer.translations["player.options.download"],share:window.contextlayer.translations["player.options.share"],playlist:window.contextlayer.translations["player.options.playlist"],showProgram:window.contextlayer.translations["podcasts.show.program"],subscribe:window.contextlayer.translations["podcasts.subscribe.cta"],zoomIn:window.contextlayer.translations["player.transcription.zoomIn"],zoomOut:window.contextlayer.translations["player.transcription.zoomOut"]}),s=(0,i.ref)(!1),l=(0,i.ref)(void 0),c=(0,i.ref)(void 0),d=(0,i.ref)(window.contextlayer.podcast_options.arrow_icon||""),u=(0,i.ref)(!1),p=(0,i.ref)(!1),h=(0,i.computed)((function(){return{"m-context-menu":!0,"m-context-menu--options":!0,"m-context-menu--opened":u.value}})),m=(0,i.computed)((function(){var e=[],t=n.itemsList;return t&&Object.keys(t).forEach((function(a){t[a]&&"chromeCast"===a&&window.gCast&&window.gCast.deviceAvailable&&e.push(a),t[a]&&"share"===a&&!n.castMode&&e.push(a),t[a]&&["download","playlist"].includes(a)&&e.push(a),t[a]&&"showProgram"===a&&e.push(a),t[a]&&"subscribe"===a&&e.push(a),t[a]&&"zoom"===a&&e.push("".concat(a,"In"),"".concat(a,"Out"))})),e})),y=function(){u.value=!u.value},g=function(){a("update-show-popin"),window.location.assign("".concat(n.media.sources[0].url,"?dl=1"))},v=function(){if(!n.castMode){a("update-show-popin");var e=["".concat(encodeURIComponent(window.contextlayer.social_share.facebook.fb_app_id)),"".concat(encodeURIComponent(window.contextlayer.social_share.twitter.twitter_creator)),"".concat(encodeURIComponent(n.media.title)),"".concat(encodeURI(n.media.url))],t="/".concat(window.contextlayer.lang,"/_ws/sharelinks/").concat(e.join("/"));(new O.default).fetch(t,{method:"GET",headers:{"content-type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((function(e){var t=JSON.parse(e.body);l.value=t.shareLinks,c.value=t.title,s.value=!0,a("update-show-popin")})).catch((function(e){}))}},f=function(){s.value=!1},b=function(){p.value=!0},w=function(){p.value=!1};return(0,i.onMounted)((function(){u.value=n.showOptions,window.addEventListener("click",(function(e){var t=e.target;u.value&&null===(null==t?void 0:t.closest(".a-audio-player-btn--options, .m-context-menu--options"))&&y()}))})),function(t,a){return(0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,null,[(0,i.createElementVNode)("ul",{"aria-hidden":e.isAriaDisabled,class:(0,i.normalizeClass)((0,i.unref)(h))},[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,i.unref)(m),(function(t){return(0,i.openBlock)(),(0,i.createElementBlock)("li",{key:t,"data-action":t,class:"m-context-menu__item"},["chromeCast"===t?((0,i.openBlock)(),(0,i.createBlock)((0,i.unref)(re),{key:0,"is-casting":e.castMode,media:e.media,"btn-label":r.value[t]},null,8,["is-casting","media","btn-label"])):(0,i.createCommentVNode)("",!0),"zoomIn"===t?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:1,type:"button",class:"m-context-menu__item__btn","aria-label":r.value[t],disabled:!(0,i.unref)(o).canZoomIn,onClick:a[0]||(a[0]=function(e){return(0,i.unref)(o).zoomIn()})},[pe,(0,i.createElementVNode)("span",he,(0,i.toDisplayString)(r.value[t]),1)],8,ue)):(0,i.createCommentVNode)("",!0),"zoomOut"===t?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:2,type:"button",class:"m-context-menu__item__btn","aria-label":r.value[t],disabled:!(0,i.unref)(o).canZoomOut,onClick:a[1]||(a[1]=function(e){return(0,i.unref)(o).zoomOut()})},[ye,(0,i.createElementVNode)("span",ge,(0,i.toDisplayString)(r.value[t]),1)],8,me)):(0,i.createCommentVNode)("",!0),"download"===t?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:3,type:"button",class:"m-context-menu__item__btn",onClick:g},[ve,(0,i.createElementVNode)("span",fe,(0,i.toDisplayString)(r.value[t]),1)])):(0,i.createCommentVNode)("",!0),s.value&&"share"===t?((0,i.openBlock)(),(0,i.createBlock)((0,i.unref)(se.default),{key:4,data:l.value,"data-title":c.value,onClose:f},null,8,["data","data-title"])):(0,i.createCommentVNode)("",!0),"share"===t?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:5,type:"button",class:"m-context-menu__item__btn",onClick:v},[be,(0,i.createElementVNode)("span",we,(0,i.toDisplayString)(r.value[t]),1)])):(0,i.createCommentVNode)("",!0),"subscribe"===t?((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:6,type:"button",class:"m-context-menu__item__btn",onClick:b},[Pe,(0,i.createElementVNode)("span",ke,(0,i.toDisplayString)(r.value[t]),1)])):(0,i.createCommentVNode)("",!0),"playlist"===t?((0,i.openBlock)(),(0,i.createBlock)((0,i.unref)(te.default),{key:7})):(0,i.createCommentVNode)("",!0),"showProgram"===t?((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:8,class:"m-context-menu__item__btn m-context-menu__item__btn--podcast-link",href:e.programUrl},[(0,i.createElementVNode)("span",{class:(0,i.normalizeClass)(["a-svg","a-svg--picto-".concat(d.value)])},null,2),(0,i.createElementVNode)("span",{class:"m-context-menu__item__label",innerHTML:r.value[t]},null,8,Se)],8,Ee)):(0,i.createCommentVNode)("",!0)],8,de)})),128))],10,ce),(0,i.createElementVNode)("button",{type:"button","aria-disabled":e.isAriaDisabled,class:(0,i.normalizeClass)([{"a-audio-player-btn--is-open":u.value},"a-audio-player-btn a-audio-player-btn--options"]),onClick:y},Ce,10,_e),p.value?((0,i.openBlock)(),(0,i.createBlock)((0,i.unref)(le.default),{key:0,onClose:w})):(0,i.createCommentVNode)("",!0)],64)}}};var Be=["innerHTML"];const Ie={name:"JumpToButton",props:{activePlayer:{type:Object,required:!0},jumpToValue:{type:Number,default:0},jumpToDirection:{type:String,required:!0}},emits:["set-action"],computed:{classes:function(){var e="a-audio-player-btn";return"backward"===this.jumpToDirection?e+=" a-audio-player-btn--backward":"forward"===this.jumpToDirection&&(e+=" a-audio-player-btn--forward"),e}},methods:{jumpTo:function(){"backward"===this.jumpToDirection?(this.activePlayer.setCurrentTime(this.activePlayer.getCurrentTime()-this.jumpToValue),this.$emit("set-action",{event:"player.action.seek.backward",value:this.jumpToValue})):"forward"===this.jumpToDirection&&(this.activePlayer.setCurrentTime(this.activePlayer.getCurrentTime()+this.jumpToValue),this.$emit("set-action",{event:"player.action.seek.forward",value:this.jumpToValue}))}}},Oe=(0,A.Z)(Ie,[["render",function(e,t,a,n,o,r){return(0,i.openBlock)(),(0,i.createElementBlock)("button",{class:(0,i.normalizeClass)(r.classes),type:"button",onClick:t[0]||(t[0]=function(){return r.jumpTo&&r.jumpTo.apply(r,arguments)})},[(0,i.createElementVNode)("span",{class:"a-audio-player-btn__value",innerHTML:a.jumpToValue},null,8,Be),(0,i.createElementVNode)("span",{class:(0,i.normalizeClass)(["a-svg","a-svg--picto-".concat(a.jumpToDirection)])},null,2)],2)}]]);var De=["data-readingspeed"];const Me={name:"ReadingSpeed",props:{wrapperClasses:{type:String,default:""}},emits:["set-action"],data:function(){return{readingSpeedValues:void 0,currentReadingSpeed:"",showPopin:!1}},computed:{classes:function(){var e="m-context-menu";return this.showPopin&&(e+=" m-context-menu--opened"),e}},created:function(){var e;this.readingSpeedValues=(null===(e=window.contextlayer.player)||void 0===e?void 0:e.readingSpeed)||""},mounted:function(){var e=this;this.setReadingSpeedListeners(),this.currentReadingSpeed="1",window.addEventListener("click",(function(t){e.$refs["reading-speed"].contains(t.target)||(e.showPopin=!1)}))},methods:{togglePopin:function(){this.showPopin=!this.showPopin},setReadingSpeedListeners:function(){var e=this;document.querySelectorAll("[data-readingspeed]").forEach((function(t){t.addEventListener("click",(function(){return e.setPlaybackRate(t.dataset.readingspeed)}))}))},setPlaybackRate:function(e){window.store.player.RFCorePlayer.setPlaybackRate(e),this.$emit("set-action",{event:"player.action.speed",value:e}),this.currentReadingSpeed="".concat(e),this.showPopin=!1}}},Ve=(0,A.Z)(Me,[["render",function(e,t,a,n,o,r){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{ref:"reading-speed",class:(0,i.normalizeClass)(a.wrapperClasses)},[(0,i.createElementVNode)("ul",{class:(0,i.normalizeClass)(r.classes)},[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(o.readingSpeedValues,(function(e){return(0,i.openBlock)(),(0,i.createElementBlock)("li",{key:e.value,"data-readingspeed":e,class:(0,i.normalizeClass)([{"m-context-menu__item--is-active":Number(e)===Number(o.currentReadingSpeed)},"m-context-menu__item"])}," x"+(0,i.toDisplayString)(e),11,De)})),128))],2),(0,i.createElementVNode)("button",{type:"button",class:(0,i.normalizeClass)([{"a-audio-player-btn--is-open":o.showPopin},"a-audio-player-btn a-audio-player-btn--reading-speed"]),onClick:t[0]||(t[0]=function(){return r.togglePopin&&r.togglePopin.apply(r,arguments)})}," x"+(0,i.toDisplayString)(o.currentReadingSpeed),3)],2)}]]);var Ne={ref:"player-volume",class:"m-player-volume"};var Le="picto-volume-medium";const Ae={name:"TrackVolume",components:{VueSlider:H()},props:{volumeValue:{type:Number,default:50,required:!1},total:{type:Number,default:1,required:!1}},emits:["set-action"],data:function(){return{volumeIcon:"",isDragged:!1,showPopin:!1,defaultOptions:{value:50,min:0,max:100,dotSize:14,tooltip:"none",direction:"btt",height:180,width:4}}},computed:{valuePercentage:{get:function(){return Math.min(100,100*this.volumeValue/this.defaultOptions.max)},set:function(){}},classes:function(){var e="m-context-menu";return this.showPopin&&(e+=" m-context-menu--opened"),e},btnClass:function(){return{"m-player-volume__btn--active":this.showPopin}}},mounted:function(){this.volumeIcon=Le,window.addEventListener("click",this.handleClick)},methods:{onDragStart:function(){this.isDragged=!0},onDragEnd:function(){var e=this;this.updateVolume(),setTimeout((function(){e.isDragged=!1}),600)},onChange:function(){var e=this.$refs.slider.getValue();e>66?this.volumeIcon="picto-volume-strong":e>=33&&e<=66?this.volumeIcon=Le:e<33&&e>0?this.volumeIcon="picto-volume-weak":0===e&&(this.volumeIcon="picto-volume-mute"),this.updateVolume()},wrapClick:function(){this.updateVolume(),this.$emit("set-action",{event:"player.action.volume",value:this.$refs.slider.getValue()})},updateVolume:function(){var e=this.$refs.slider.getValue()/100;this.RFCorePlayer.setVolume(e)},togglePopin:function(){this.showPopin=!this.showPopin},hidePopin:function(){this.showPopin=!1},handleClick:function(e){this.$refs["player-volume"].contains(e.target)||(this.showPopin=!1)}}},xe=(0,A.Z)(Ae,[["render",function(e,t,a,n,o,r){var s=(0,i.resolveComponent)("vue-slider");return(0,i.openBlock)(),(0,i.createElementBlock)("div",Ne,[(0,i.createElementVNode)("div",{class:(0,i.normalizeClass)(r.classes),onClick:t[1]||(t[1]=function(){return r.wrapClick&&r.wrapClick.apply(r,arguments)})},[(0,i.createVNode)(s,(0,i.mergeProps)(o.defaultOptions,{ref:"slider",modelValue:r.valuePercentage,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.valuePercentage=e}),onDragStart:r.onDragStart,onDragEnd:r.onDragEnd,onChange:r.onChange}),null,16,["modelValue","onDragStart","onDragEnd","onChange"])],2),(0,i.createElementVNode)("button",{type:"button",class:(0,i.normalizeClass)(["m-player-volume__btn",r.btnClass]),onClick:t[2]||(t[2]=function(){return r.togglePopin&&r.togglePopin.apply(r,arguments)})},[(0,i.createElementVNode)("span",{class:(0,i.normalizeClass)("a-svg a-svg--".concat(o.volumeIcon))},null,2)],2)],512)}]]);var je=a(3861);function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function $e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){(0,g.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ze={preload:"none",muted:!1,volume:.5,initTime:0};const ze={name:"PlayerAudio",components:{TrackVolume:xe,PlayMedia:V.default,MediaInfo:x,TrackBar:J,TrackTime:Q,MenuOptions:Te,JumpToButton:Oe,ReadingSpeed:Ve,ShowPlaylist:te.default,CountDownTimer:je.Z},props:{defaultMediaId:{type:String,required:!0},playerContainerId:{type:String,required:!0},locale:{type:String,required:!0},addEditionsAutomatically:{type:Boolean,default:!1},autoplayPlaylist:{type:Boolean,default:!1}},emits:["destroyed","error","update-state","play","pause","stop","time_seek","before_time_seek","new_media_requested","metadata_is_loaded","ready"],data:function(){return{isDefaultShowPanel:!0,currentLocale:void 0,autoStart:!0,castMode:!1,mediaId:"",playerId:"",ready:!1,trackDisabled:!0,trackControlDisabled:!1,hasTranscriptions:!1,muted:!1,playingLive:!1,playingJingle:!1,transcriptEnabled:!1,hasAudioTranscription:!1,showTranscript:!1,showOptions:!1,showActions:!1,panelDisabled:!1,loaderIcon:"",chapters:[],forwardValue:0,backwardValue:0,optionsPicto:"",adstr:"",lastPlayingTime:void 0,hasNextMedia:!1,playerState:{currentState:"STANDBY",elapsedTime:0,mediaDuration:0,info:{emission:"",diffusion:""}},lang:"",enableAdInserter:!0,audioAdPrerollEnabled:!1,adPlaying:!1,playlistEnabled:!1,gCastEnabled:!1,adInserter:void 0,userIp:"",confButtons:[],chaptersEnabled:void 0,transcriptTextOpen:"",transcriptTextClose:""}},computed:$e($e({},(0,v.Kc)(f.Z,b.Z)),{},{isAriaDisabled:function(){return this.isPlayingLive?"true":"false"},getTranscriptIcon:function(){return this.showActions?"picto-transcription-close":"picto-transcript"},getTranscriptText:function(){return this.showActions?this.transcriptTextClose:this.transcriptTextOpen},getPlayerOptions:function(){var e;return(null===(e=window.contextlayer.player)||void 0===e?void 0:e.options)||[]},activePlayer:function(){return this.castMode?window.gCast:this.RFCorePlayer},media:function(){var e=M.Z.getMedia(this.mediaId);if(Object.keys(e).length>0){var t=this.getMediaInPlaylist(this.mediaId,!0);e.isAuto=this.currentMediaStore.isAuto,e.isInPlaylist=!!t}return e},initOptions:function(){return $e($e({},Ze),{},{selector:this.playerContainerId,autostart:this.autoStart,plugins:{AdInserter:this.audioAdPrerollEnabled?this.getOptionAdInserter():{}}})},isPlayerPlaying:function(){return"STATE_PLAYING"===this.playerState.currentState||"NEW_MEDIA_REQUESTED"===this.playerState.currentState||"PLAYING"===this.playerState.currentState},isPlayingLive:function(){return this.playingLive},isPlayingJingle:function(){return this.playingJingle},isAdPlaying:function(){return this.adPlaying},getCastMode:function(){return this.castMode},setAudioPlayerClasses:function(){var e={"o-audio-player":!0,"o-audio-player--playing-live":this.playingLive,"o-audio-player--transcript-enabled":this.transcriptEnabled,"o-audio-player--show-actions":this.showActions&&!this.panelDisabled,"o-audio-player--panel-disabled":this.media.isEm};return this.playingLive?document.body.classList.add("u-playing-live"):document.body.classList.remove("u-playing-live"),e},panelType:function(){return this.hasTranscriptions?"transcription":"albumart"}}),watch:{isPlayerPlaying:function(e){e&&window.PubSub.publish("playSound",this.$.uid)}},mounted:function(){var e,t,a,i,n,o,r=this,s=(0,f.Z)();s.$onAction((function(e){var t=e.name,a=e.args;if("togglePlaylist"!==t&&"openPlaylist"!==t||(r.showOptions=!1),!r.ready&&s.shouldPlayFirstElement&&("addToPlaylist"===t&&(r.playMedia(a[0].mediaId,!1),window.store.player.setMediaId(a[0].mediaId)),"removeFromPlaylist"===t)){var i=r.playlistStore.playlist.slice(-1)[0].mediaId||a[0];r.playMedia(i,!1),window.store.player.setMediaId(i)}r.castMode&&("addToPlaylist"===t&&(r.activePlayer.addItem(a[0]),r.isPlayerPlaying||(r.playMedia(a[0].mediaId,!1),window.store.player.setMediaId(a[0].mediaId))),"removeFromPlaylist"===t&&r.activePlayer.removeItem(a[0]),"rewritePlaylist"===t&&r.activePlayer.moveItem(a[1],a[2]))})),(0,b.Z)().$onAction((function(e){var t=e.name,a=e.args;r.ready&&"updateInitTime"===t&&r.setTime(a[0])})),window.PubSub.subscribe("playSound",(function(e,t){t!==r.$.uid&&r.isPlayerPlaying&&r.stopOrPause()})),window.PubSub.subscribe("player.panel.hide",(function(){r.hidePanel()})),this.mediaId=this.defaultMediaId,this.loaderIcon=(null===(e=window.contextlayer.player_audio)||void 0===e?void 0:e.play_loader)||"",this.currentLocale=window.contextlayer.lang||"",this.transcriptEnabled=(null===(t=window.contextlayer.player)||void 0===t?void 0:t.enableTranscription)||"",this.adstr=(null===(a=window.contextlayer.player_audio)||void 0===a?void 0:a.adstr)||"",this.activePlayer.addEventListener("STATE_READY",this.onReady),this.audioAdPrerollEnabled=window.contextlayer.audio_ad_preroll||!1,this.playlistEnabled=window.contextlayer.playlist_enabled||!1,this.adInserter=window.contextlayer.ad_inserter||void 0,this.gCastEnabled=window.contextlayer.google_cast||!1,this.forwardValue=(null===(i=window.contextlayer.player)||void 0===i||null===(i=i.currentTime)||void 0===i?void 0:i.forward)||0,this.backwardValue=(null===(n=window.contextlayer.player)||void 0===n||null===(n=n.currentTime)||void 0===n?void 0:n.backward)||0,this.chaptersEnabled=(null===(o=window.contextlayer.player)||void 0===o?void 0:o.enableChapter)||"",this.transcriptTextOpen=window.contextlayer.translations["player.transcription.open"],this.transcriptTextClose=window.contextlayer.translations["player.transcription.close"],this.setButtons(),this.audioAdPrerollEnabled&&(window.didomiEventListeners=window.didomiEventListeners||[],window.didomiOnReady=window.didomiOnReady||[],window.didomiOnReady.push((function(){I().then((function(e){window.localStorage.setItem("user_ip",e)}))})),window.didomiEventListeners.push({event:"consent.changed",listener:function(){I().then((function(e){window.localStorage.setItem("user_ip",e)}))}})),this.gCastEnabled&&(window.gCast.addEventListener("CAST_STATE_CONNECTED",(function(){return r.switchCastMode(!0)})),window.gCast.addEventListener("CAST_STATE_DISCONNECTED",(function(){return r.switchCastMode(!1)})),window.PubSub.subscribe("RESUME_PLAYER_FROM_CAST",(function(e,t){window.store.player.setMediaId(t.mediaId),r.mediaId=t.mediaId,r.updateElapsedTime(t.currentTime)})),window.gCast&&window.gCast.addEventListener("ready",(function(){r.onReady(r.playerId)})));var l=window.matchMedia("(orientation: landscape)");l.matches&&window.IS_MOBILE&&(this.panelDisabled=!0),l.addEventListener("change",this.onOrientationChange)},unmounted:function(){document.body.classList.remove("u-playing-live"),this.activePlayer.removeEventListener("STATE_READY",this.onReady),this.ready&&(this.activePlayer.removeEventListener("STATE_PLAYING",this.onPlaying),this.activePlayer.removeEventListener("STATE_PAUSED",this.onPaused),this.activePlayer.removeEventListener("STATE_STOPPED",this.onStopped),this.activePlayer.removeEventListener("TIME_SEEK",this.onTimeSeek),this.activePlayer.removeEventListener("TIME_BEFORE_SEEK",this.onBeforeTimeSeek),this.activePlayer.removeEventListener("ACTION_NEW_MEDIA",this.onNewMediaRequested),this.activePlayer.removeEventListener("METADATA_IS_LOADED",this.onMetadataIsLoaded),this.activePlayer.removeEventListener("TIME_IS_UPDATED",this.onTimeIsUpdated),this.activePlayer.removeEventListener("STATE_ENDED",this.onStateEnded)),window.matchMedia("(orientation: landscape)").removeEventListener("change",this.onOrientationChange),this.$emit("destroyed",{playerId:this.ready?this.playerId:void 0,options:this.initOptions})},methods:$e($e($e({},(0,v.nv)(f.Z,["isMediaInPlaylist","addToPlaylist","getMediaInPlaylist","removeFromPlaylist","removeAllAutoFromPlaylist"])),(0,v.nv)(b.Z,["updateIsLoading","updateMediaId","setTheEnd","updateTimeoutId","updateNextMedia","updateIsAuto","updateTitleNextMedia"])),{},{setButtons:function(){for(var e,t=(null===(e=window.contextlayer.player)||void 0===e?void 0:e.buttons)||[],a=0;a<3;a+=1){var i="o-audio-player__actions__btn-wrapper o-audio-player__actions__btn-wrapper--order-".concat(a);2===a&&(i+=" o-audio-player__actions__btn-wrapper--end"),this.confButtons.push({type:t[a],classes:i})}},switchCastMode:function(e){this.destroyed(),this.castMode=e,this.onReady(this.playerId)},play:function(){!this.ready||"live"===this.media.type&&"STOPPED"===this.playerState.currentState?this.loadMedia():this.activePlayer.play()},playMedia:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.autoStart=t,this.ready&&this.mediaId===e||(this.mediaId=e,this.loadMedia())},loadMedia:function(){"live"===this.media.type&&(window.PubSub.publish("player.show"),this.updateIsLoading(!0)),this.initOptions.initTime=this.currentMediaStore.initTime,this.gCastEnabled&&this.castMode?this.loadMediaWithCast(this.initOptions):this.loadMediaWithoutCast(this.initOptions)},loadMediaWithCast:function(e){var t=this;this.RFCorePlayer.isStopped()||this.RFCorePlayer.stop(),this.handleLoadMedia(e,(function(){window.gCast.cast().then((function(a){return a.loadNewMedia(t.media,e)})).catch(console.error)}))},loadMediaWithoutCast:function(e){var t=this;this.handleLoadMedia(e,(function(){t.isPlayerUnready()?t.initPlayer(e).then((function(){return t.loadMediaWithOptions(e)})).catch(console.error):t.loadMediaWithOptions(e)}))},handleLoadMedia:function(e,t){0!==Object.keys(this.media).length?t():this.$emit("error",{options:e,message:'Could not load media "'.concat(this.mediaId,'" since it cannot be found')})},isPlayerUnready:function(){return"STATE_UNREADY"===this.activePlayer.getStatus().state},initPlayer:function(e){return this.activePlayer.init(e,this.media)},loadMediaWithOptions:function(e){this.activePlayer.loadNewMedia(this.media,e)},pause:function(){this.ready&&this.activePlayer.pause()},stop:function(){this.ready&&this.activePlayer.stop()},stopOrPause:function(){"live"===this.media.type&&(this.enableAdInserter=!1,window.PubSub.publish("player.show"),this.$refs.trackVolumeRef.hidePopin()),"live"!==this.media.type||this.activePlayer.getOption("isAdvertisement")?this.pause():this.stop()},playOrPause:function(){this.isPlayerPlaying?this.stopOrPause():this.play()},setMute:function(e){this.ready&&this.muted!==e&&(this.activePlayer.mute(),this.muted=e,e||this.activePlayer.setVolume(this.initOptions.volume))},updateTrackerStatus:function(){this.trackDisabled="live"===this.media.type,this.trackControlDisabled=!1,this.activePlayer.getOption("isAdvertisement")&&(this.trackDisabled=!1,this.trackControlDisabled=!0)},getCurrentMedia:function(){return this.ready?this.activePlayer.getMedia():""},updateMediaInfos:function(e){var t,a,i=this.media.diffusion.title;if(this.playerState.info.emission=(null===(t=e.emission)||void 0===t?void 0:t.title)||"",this.playerState.info.diffusion=(null===(a=e.diffusion)||void 0===a?void 0:a.title)||"",this.activePlayer.getOption("isAdvertisement"))return this.adPlaying=!0,void(this.playerState.info.emission=this.adstr);this.adPlaying=!1,this.adInserter&&"live"===this.media.type&&(this.playerState.info.diffusion=i)},getMediaDuration:function(){return this.ready?this.activePlayer.getDuration():0},getMediaData:function(e,t){var a=this;this.toggleLoader(!0);var i=new O.default,n=Number(this.addEditionsAutomatically);return window.PubSub.publish("player.panel.loading",!0),i.fetch("/".concat(this.currentLocale,"/_ws/media/").concat(e,"/").concat(t,"/").concat(n),{method:"GET",headers:{"content-type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((function(e){return a.toggleLoader(),window.PubSub.publish("player.panel.loading",!1),e.response})).catch((function(e){window.PubSub.publish("player.panel.loading",!1),a.toggleLoader()}))},getDefaultData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={playerId:this.playerId,options:this.initOptions,media:this.media,duration:this.getMediaDuration()||void 0};return e&&(t.player=this.RFCorePlayer),t},getLocale:function(){return this.locale},getElapsedTime:function(){if(this.ready){var e=this.activePlayer.getStatus().currentTime;return"STATE_PLAYING"===this.activePlayer.getStatus().state&&(this.lastPlayingTime=e),e}return 0},updateMediaDuration:function(e){this.playerState.mediaDuration=e},updateLang:function(e){this.lang=e},updateElapsedTime:function(e){this.playerState.elapsedTime=e},updateState:function(e){this.playerState.currentState;this.playerState.currentState=e,this.playingLive="live"===this.media.type,this.gCastEnabled&&(window.gCast.playingLive=this.playingLive),this.$emit("update-state",e),["PLAYING"].includes(e)&&(this.updateIsLoading(!1),this.updateMediaId())},setTime:function(e){this.ready&&this.activePlayer.setCurrentTime(Math.floor(e))},onSetAction:function(e){D.Z.publish(e.event,[this.getDefaultData(!0),e.value])},onOrientationChange:function(e){e.matches&&window.IS_MOBILE?(window.PubSub.publish("player.panel.request.hide"),this.hidePanel(),this.panelDisabled=!0):this.panelDisabled=!1},onPlaying:function(){this.updateState("PLAYING"),this.$emit("play",this.activePlayer,this.getDefaultData())},onPaused:function(){this.updateState("PAUSED"),this.$emit("pause",this.activePlayer,$e({},this.getDefaultData()))},onStopped:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.updateState("STOPPED"),this.$emit("stop",this.activePlayer,$e($e({},this.getDefaultData()),{},{endReached:!1},e))},onTimeSeek:function(){this.$emit("time_seek",this.activePlayer,$e($e({},this.getDefaultData()),{},{time:this.activePlayer.getCurrentTime()}))},onBeforeTimeSeek:function(){this.$emit("before_time_seek",this.activePlayer,$e($e({},this.getDefaultData()),{},{time:this.activePlayer.getCurrentTime()}))},onNewMediaRequested:function(){var e;this.updateState("NEW_MEDIA_REQUESTED");var t=null===(e=this.getCurrentMedia())||void 0===e||null===(e=e.sources[0])||void 0===e?void 0:e.url;this.playingJingle=t===this.adInserter.jingle,this.$emit("new_media_requested",this.activePlayer,{playerId:this.playerId,options:this.initOptions,media:this.media})},onMetadataIsLoaded:function(){var e=this;this.hasTranscriptions=!1;var t=this.getCurrentMedia();if(this.hasAudioTranscription=t.has_transcription,this.updateState("live"===this.media.type?"READY":"LOADED"),this.updateIsLoading(!1),this.updateMediaId(),this.updateMediaInfos(this.getCurrentMedia()),this.updateTrackerStatus(),this.updateMediaDuration(this.getMediaDuration()),this.updateLang(this.getLocale()),this.$emit("metadata_is_loaded",this.activePlayer,{playerId:this.playerId,options:this.initOptions,media:this.media,duration:this.getMediaDuration()||void 0}),!this.isPlayingLive&&this.media.contentType&&this.media.contentId){window.isNotDisplayablePanel=!1,(window.IS_MOBILE||e.transcriptEnabled&&e.hasAudioTranscription&&e.isDefaultShowPanel)&&this.showPanel(),this.getMediaData(this.media.contentType,this.media.contentId).then((function(t){var a;t&&t.statusCode&&200===t.statusCode?(a=JSON.parse(t.body),e.addEditionsAutomatically&&e.media.addPreviousMediaToAutomaticPlaylist&&(M.Z.setMediaAddPreviousMediaToAutomaticPlaylist(e.media.mediaId),e.removeAllAutoFromPlaylist(),e.addOtherMediaToPlaylist(a.content.editions_before||[])),e.chapters=a.content.sound.chapters,e.hasTranscriptions=a.content.sound.transcriptions&&a.content.sound.transcriptions.length>0,window.PubSub.publish("player.data_fetched",a)):window.PubSub.publish("player.panel.request.hide")}))}},onTimeIsUpdated:function(){this.updateElapsedTime(this.getElapsedTime())},loadNextMediaInPlaylist:function(){var e,t=this,a=this.playlistStore.playlist,i=a.findIndex((function(e){return e.mediaId===t.mediaId}));i>=1&&a[i].isInPlaylist&&a[i].isInAutomaticPlaylist&&!a[0].isInAutomaticPlaylist?this.mediaId=a[0].mediaId:this.mediaId=-1!==i&&i+1<a.length&&null!==(e=a[i+1])&&void 0!==e&&e.mediaId?a[i+1].mediaId:a[0].mediaId;i+1<a.length&&(this.hasNextMedia=!0,this.isDefaultShowPanel=!1),this.currentMediaStore.loadNextMedia&&(this.loadMedia(),this.updateIsAuto(!0)),this.setTheEnd(!1),window.store.player.mediaId=this.mediaId},setTitleNextMedia:function(){if(this.currentMediaStore.isTheEnd&&this.playlistStore.playlist.length>0){var e=this.playlistStore.playlist[0];this.updateTitleNextMedia(null==e?void 0:e.title)}},onStateEnded:function(){var e=this,t=1e3;!this.playingLive&&this.autoplayPlaylist&&this.currentMediaStore.loadNextMedia&&(t=1e3*this.currentMediaStore.initialCountDown);var a=$e({},this.getCurrentMedia()).mediaId,i=this.getMediaInPlaylist(a);null!=i&&i.isInPlaylist&&this.removeFromPlaylist(i.mediaId,!1),this.setTheEnd(!0),this.setTitleNextMedia();var n=setTimeout((function(){!e.playingLive&&e.autoplayPlaylist&&e.currentMediaStore.loadNextMedia&&(e.onStopped({endReached:!0}),e.playlistEnabled&&e.loadNextMediaInPlaylist(),!e.hasNextMedia&&e.showActions&&e.togglePanel())}),t);this.updateTimeoutId(n)},destroyed:function(){this.activePlayer.removeEventListener("STATE_READY",this.onReady)},onReady:function(e){this.destroyed(),this.ready=!0,this.playerId=e,this.muted=this.activePlayer.getStatus().muted,this.activePlayer.addEventListener("STATE_PLAYING",this.onPlaying),this.activePlayer.addEventListener("STATE_PAUSED",this.onPaused),this.activePlayer.addEventListener("STATE_STOPPED",this.onStopped),this.activePlayer.addEventListener("TIME_SEEK",this.onTimeSeek),this.activePlayer.addEventListener("TIME_BEFORE_SEEK",this.onBeforeTimeSeek),this.activePlayer.addEventListener("ACTION_NEW_MEDIA",this.onNewMediaRequested),this.activePlayer.addEventListener("METADATA_IS_LOADED",this.onMetadataIsLoaded),this.activePlayer.addEventListener("TIME_IS_UPDATED",this.onTimeIsUpdated),this.activePlayer.addEventListener("STATE_ENDED",this.onStateEnded),this.$emit("ready",this.activePlayer,{playerId:e,options:this.initOptions,media:this.media})},getOptionAdInserter:function(){var e={};return this.adInserter&&"live"===this.media.type&&(e={jingle:{enable:!0,url:this.adInserter.jingle},debug:this.adInserter.debug,service:this.adInserter.url,timeForResponse:2,enable:this.enableAdInserter,vastParams:{headers:{"X-Device-Accept-Language":"".concat(this.getLocale(),"-").concat(this.getLocale().toUpperCase()),"X-Device-IP":B()},apikey:this.adInserter.api_key,stationid:this.adInserter.stationid,domain:this.adInserter.domain,tmax:this.adInserter.tmax,userid:T(),placement:"preroll",product:this.adInserter.product,audioformat:"mp3",bitrate:"64",gdpr:!1===this.getGdpr?0:1,gdpr_consent:C(),culture:"".concat(this.getLocale(),"-").concat(this.getLocale().toUpperCase()),transcoding:1}}),e},togglePanel:function(){this.showActions?window.PubSub.publish("player.panel.request.hide"):this.showPanel()},showPanel:function(){this.media.isEm||this.panelDisabled||this.isPlayingLive||this.adPlaying||(window.PubSub.publish("player.panel.show"),this.showActions=!0,D.Z.publish("player.action.panel.show",[this.getDefaultData(!0),this.panelType]))},hidePanel:function(){this.showActions=!1,window.isNotDisplayablePanel=!0,D.Z.publish("player.action.panel.hide",[this.getDefaultData(!0),this.panelType])},toggleLoader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="u-player-loading";document.body.classList.contains(t)&&document.body.classList.remove(t),e&&document.body.classList.add(t)},addOtherMediaToPlaylist:function(e){for(var t=0;t<e.length&&this.playlistStore.automaticPlaylist.length<5;t+=1){var a=e[t];this.isMediaInPlaylist(a.mediaId,!0)||this.mediaId===a.mediaId||(a.isInAutomaticPlaylist=!0,this.addToPlaylist(a,!1))}}}),getGdpr:function(){return"undefined"!==window.contextlayer&&window.contextlayer.gdpr_compliance}},He=(0,A.Z)(ze,[["render",function(e,t,a,g,v,f){var b=(0,i.resolveComponent)("track-bar"),w=(0,i.resolveComponent)("track-time"),P=(0,i.resolveComponent)("count-down-timer"),k=(0,i.resolveComponent)("media-info"),E=(0,i.resolveComponent)("play-media"),S=(0,i.resolveComponent)("track-volume"),_=(0,i.resolveComponent)("show-playlist"),C=(0,i.resolveComponent)("reading-speed"),T=(0,i.resolveComponent)("jump-to-button"),B=(0,i.resolveComponent)("menu-options");return v.mediaId?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:(0,i.normalizeClass)(f.setAudioPlayerClasses)},[(0,i.createElementVNode)("div",{id:a.playerContainerId},null,8,n),(0,i.createElementVNode)("div",o,[(0,i.createElementVNode)("button",{class:"o-audio-player__content__panel-btn-mobile",type:"button",onClick:t[0]||(t[0]=function(){return f.showPanel&&f.showPanel.apply(f,arguments)})}),(0,i.createElementVNode)("div",r,[v.trackDisabled?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(w,{key:0,"elapsed-time":v.playerState.elapsedTime,duration:v.playerState.mediaDuration,lang:v.lang,classes:"m-player-controls","elapsed-time-classes":"m-player-controls__timer","duration-classes":"m-player-controls__total-time"},{separator:(0,i.withCtx)((function(){return[(0,i.createVNode)(b,{"panel-is-open":v.showActions,chapters:v.chapters,"progress-value":v.playerState.elapsedTime,lang:"lang",total:v.playerState.mediaDuration,disabled:v.trackDisabled,"disable-control":v.trackControlDisabled,classes:"m-player-controls__timeline",class:(0,i.normalizeClass)({"m-player-controls__timeline--disable-track":v.trackControlDisabled}),onSetTime:f.setTime},null,8,["panel-is-open","chapters","progress-value","total","disabled","disable-control","class","onSetTime"])]})),_:1},8,["elapsed-time","duration","lang"])),(0,i.createElementVNode)("div",s,[(0,i.createVNode)(k,(0,i.mergeProps)(v.playerState.info,{classes:"m-audio-player-description"}),{emission:(0,i.withCtx)((function(n){var o=n.emission;return[(0,i.createElementVNode)("p",{class:"m-audio-player-description__emission",onClick:t[1]||(t[1]=function(){return f.showPanel&&f.showPanel.apply(f,arguments)})},[e.currentMediaStore.isTheEnd&&e.currentMediaStore.loadNextMedia&&a.autoplayPlaylist&&!f.isAdPlaying?((0,i.openBlock)(),(0,i.createBlock)(P,{key:0,"initial-count-down":e.currentMediaStore.initialCountDown},null,8,["initial-count-down"])):((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[(0,i.createTextVNode)((0,i.toDisplayString)(o),1)],64))])]})),diffusion:(0,i.withCtx)((function(n){var o=n.diffusion;return[(0,i.createElementVNode)("p",{class:"m-audio-player-description__edition",onClick:t[2]||(t[2]=function(){return f.showPanel&&f.showPanel.apply(f,arguments)})},[e.currentMediaStore.isTheEnd&&e.currentMediaStore.loadNextMedia&&a.autoplayPlaylist&&!v.playingLive?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:0},[(0,i.createTextVNode)((0,i.toDisplayString)(e.currentMediaStore.titleNextMedia),1)],64)):((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[(0,i.createTextVNode)((0,i.toDisplayString)(o),1)],64))])]})),_:1},16),(0,i.createVNode)(E,{"media-id":v.mediaId,"current-media":v.mediaId,"is-player-playing":f.isPlayerPlaying,"is-live":f.isPlayingLive,"is-jingle":f.isPlayingJingle,classes:"a-picto-play-pause","play-class":"a-picto-play-pause--play","pause-class":"a-picto-play-pause--pause",onClick:f.playOrPause},{play:(0,i.withCtx)((function(){return[(0,i.createElementVNode)("span",{class:"a-picto-play-pause__play a-svg a-svg--picto-play-circle",innerHTML:v.loaderIcon},null,8,l)]})),pause:(0,i.withCtx)((function(){return[c]})),_:1},8,["media-id","current-media","is-player-playing","is-live","is-jingle","onClick"])])]),v.castMode?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(S,{key:0,ref:"trackVolumeRef",class:"o-audio-player__volume",lang:"lang","volume-value":50,onSetAction:f.onSetAction},null,8,["onSetAction"])),(0,i.createElementVNode)("div",d,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(v.confButtons.slice(0,3),(function(e){return(0,i.openBlock)(),(0,i.createElementBlock)("div",{key:e.type,class:(0,i.normalizeClass)(e.classes)},["playlist"===e.type?((0,i.openBlock)(),(0,i.createBlock)(_,{key:0,"hide-label":!0})):(0,i.createCommentVNode)("",!0),"readingSpeed"!==e.type||v.castMode?"backward"===e.type?((0,i.openBlock)(),(0,i.createBlock)(T,{key:2,role:"button","aria-disabled":f.isAriaDisabled,"active-player":f.activePlayer,"jump-to-value":v.backwardValue,"jump-to-direction":"backward",onSetAction:f.onSetAction},null,8,["aria-disabled","active-player","jump-to-value","onSetAction"])):"forward"===e.type?((0,i.openBlock)(),(0,i.createBlock)(T,{key:3,role:"button","aria-disabled":f.isAriaDisabled,"active-player":f.activePlayer,"jump-to-value":v.forwardValue,"jump-to-direction":"forward",onSetAction:f.onSetAction},null,8,["aria-disabled","active-player","jump-to-value","onSetAction"])):(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)(C,{key:1,role:"button","aria-disabled":f.isAriaDisabled,"wrapper-classes":"m-reading-speed",onSetAction:f.onSetAction},null,8,["aria-disabled","onSetAction"]))],2)})),128)),(0,i.createVNode)(E,{"media-id":v.mediaId,"current-media":v.mediaId,"is-player-playing":f.isPlayerPlaying,"is-live":f.isPlayingLive,"is-jingle":f.isPlayingJingle,classes:"a-picto-play-pause","play-class":"a-picto-play-pause--play","pause-class":"a-picto-play-pause--pause",onClick:f.playOrPause},{play:(0,i.withCtx)((function(){return[(0,i.createElementVNode)("span",{class:"a-picto-play-pause__play a-svg a-svg--picto-play-circle",innerHTML:v.loaderIcon},null,8,u)]})),pause:(0,i.withCtx)((function(){return[p]})),_:1},8,["media-id","current-media","is-player-playing","is-live","is-jingle","onClick"]),(0,i.createElementVNode)("div",h,[(0,i.createVNode)(B,{"is-aria-disabled":f.isAriaDisabled,"show-popin":v.showOptions,media:f.media,"cast-mode":f.getCastMode,"items-list":f.getPlayerOptions,"show-options":v.showOptions},null,8,["is-aria-disabled","show-popin","media","cast-mode","items-list","show-options"])])]),v.hasAudioTranscription&&v.transcriptEnabled?((0,i.openBlock)(),(0,i.createElementBlock)("div",m,[(0,i.createElementVNode)("button",{type:"button",class:"a-btn-transcript",onClick:t[3]||(t[3]=function(){return f.togglePanel&&f.togglePanel.apply(f,arguments)})},[(0,i.createElementVNode)("span",{class:(0,i.normalizeClass)(["a-svg","a-svg--".concat(f.getTranscriptIcon)])},null,2),(0,i.createElementVNode)("span",{innerHTML:f.getTranscriptText},null,8,y)])])):(0,i.createCommentVNode)("",!0)])],2)):(0,i.createCommentVNode)("",!0)}]])},55767:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var i=a(49458),n=(0,i.createElementVNode)("span",{class:"a-svg a-svg--picto-playlist-show"},null,-1),o={key:0,class:"a-playlist-btn__label"};var r=a(27641),s=a(24054),l=a(76366),c=a(19327);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const p={name:"ShowPlaylist",props:{hideLabel:{type:Boolean,default:!1}},computed:u({},(0,s.Kc)(l.Z)),methods:u(u({},(0,s.nv)(l.Z,["togglePlaylist"])),{},{togglePlaylistAndPublish:function(){this.togglePlaylist(),c.Z.publish("player.playlist.toggle")}})};const h=(0,a(83744).Z)(p,[["render",function(e,t,a,r,s,l){return(0,i.openBlock)(),(0,i.createElementBlock)("button",{type:"button",class:(0,i.normalizeClass)(["a-playlist-btn",{"a-playlist-btn--active":e.playlistStore.isOpen}]),"data-open-playlist-area":"",onClick:t[0]||(t[0]=function(){return l.togglePlaylistAndPublish&&l.togglePlaylistAndPublish.apply(l,arguments)})},[n,a.hideLabel?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createElementBlock)("span",o,(0,i.toDisplayString)(e.$translate("playlist.module.label")),1))],2)}]])},40910:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a(56181).Z},36118:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var i=a(49458),n={class:"o-popin o-popin--with-overlay o-popin--shares"},o={class:"o-popin__title"},r=["aria-label"],s={class:"o-popin__content"},l={key:0,class:"p--bigger"},c=["innerHTML"],d={class:"o-popin__content__buttons"};var u=a(27641),p=a(92757),h=a(40910);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,u.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const g={name:"PodcastModal",components:(0,u.Z)((0,u.Z)({},p.default.name,p.default),"OverlayContainer",h.Z),props:{title:{type:String,default:""}},emits:["close"],data:function(){return{isVisible:!1}},computed:{podcastLinks:function(){return window.contextlayer.social.podcast_links.filter((function(e){return""!==e.url})).map((function(e){return y(y({},e),{},{share_link:e.url})}))},modalTitle:function(){var e,t=(null===(e=document.querySelector('meta[property="og:title"]'))||void 0===e?void 0:e.getAttribute("content"))||"";return this.title||t},popinClass:function(){return this.isVisible?"u-modal--visible":""}},mounted:function(){var e=this;this.$nextTick((function(){e.isVisible=!0}))}};const v=(0,a(83744).Z)(g,[["render",function(e,t,a,u,p,h){var m=(0,i.resolveComponent)("overlay-container"),y=(0,i.resolveComponent)("share-icon");return(0,i.openBlock)(),(0,i.createElementBlock)("div",{class:(0,i.normalizeClass)("u-modal ".concat(h.popinClass))},[(0,i.createVNode)(m,{onClick:t[0]||(t[0]=function(t){return e.$emit("close")})}),(0,i.createElementVNode)("div",n,[(0,i.createElementVNode)("div",o,(0,i.toDisplayString)(e.$translate("podcasts.subscribe.cta")),1),(0,i.createElementVNode)("button",{"data-modal-close":"",type:"button",class:"a-close-button","aria-label":e.$translate("modal.close.label"),onClick:t[1]||(t[1]=function(t){return e.$emit("close")})},null,8,r),(0,i.createElementVNode)("div",s,[h.modalTitle?((0,i.openBlock)(),(0,i.createElementBlock)("p",l,[(0,i.createElementVNode)("strong",{innerHTML:h.modalTitle},null,8,c)])):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("div",d,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(h.podcastLinks,(function(e,t){return(0,i.openBlock)(),(0,i.createBlock)(y,{key:t,link:e},null,8,["link"])})),128))])])])],2)}]])},92757:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var i=a(49458),n=["href","target","aria-label"],o={key:0,class:"a-label"},r={key:0,class:"a-label"},s={key:1,class:"a-label"};const l={name:"ShareIcon",props:{link:{type:Object,required:!0},isLabel:{type:Boolean,required:!1,default:!0},classes:{type:Array,default:function(){return["a-picto-share","a-picto-social"]}}},data:function(){return{clicked:!1}},computed:{getShortyClasses:function(){var e=this.getClasses;return e["a-picto-social--active"]=this.clicked,e["a-picto-social--inactive"]=!this.clicked,e},getClasses:function(){var e={};return this.classes.length>0&&this.classes.forEach((function(t){e[t]=!0})),e}},methods:{getShareLink:function(e){return function(e){return e.deep_link&&window.IS_MOBILE}(e)?e.deep_link:e.share_link},getTarget:function(e){return e.target||!1},getTitle:function(e){return e.title||!1},clipboardSuccessHandler:function(){this.clicked=!0}}};const c=(0,a(83744).Z)(l,[["render",function(e,t,a,l,c,d){var u=(0,i.resolveDirective)("clipboard");return a.link.is_shorty?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("button",{key:1,type:"button",class:(0,i.normalizeClass)(d.getShortyClasses)},[(0,i.createElementVNode)("span",{class:(0,i.normalizeClass)(["a-svg","a-svg--".concat(a.link.icon)])},null,2),c.clicked?((0,i.openBlock)(),(0,i.createElementBlock)("span",r,(0,i.toDisplayString)(e.$translate("share.link.copied")),1)):((0,i.openBlock)(),(0,i.createElementBlock)("span",s,(0,i.toDisplayString)(a.link.label),1))],2)),[[u,decodeURIComponent(d.getShareLink(a.link))],[u,d.clipboardSuccessHandler,"success"]]):((0,i.openBlock)(),(0,i.createElementBlock)("a",{key:0,class:(0,i.normalizeClass)(d.getClasses),href:d.getShareLink(a.link),target:d.getTarget(a.link),"aria-label":d.getTitle(a.link),rel:"nofollow noopener"},[(0,i.createElementVNode)("span",{class:(0,i.normalizeClass)(["a-svg","a-svg--".concat(a.link.icon)])},null,2),a.isLabel?((0,i.openBlock)(),(0,i.createElementBlock)("span",o,(0,i.toDisplayString)(a.link.label),1)):(0,i.createCommentVNode)("",!0)],10,n))}]])},25576:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var i=a(49458),n={class:"o-popin o-popin--with-overlay o-popin--shares"},o={class:"o-popin__title"},r=["aria-label"],s={class:"o-popin__content"},l={key:0,class:"p--bigger"},c=["innerHTML"],d={class:"o-popin__content__buttons"};var u=a(27641),p=a(92757),h=a(40910);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,u.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=function(e){return function(e){return e.deep_link&&window.IS_MOBILE}(e)||function(e){return!!e.share_link}(e)};const v={name:"ShareModal",components:{ShareIcon:p.default,OverlayContainer:h.Z},props:{data:{type:Array,default:void 0},dataTitle:{type:String,default:void 0}},emits:["close"],data:function(){return{isVisible:!1}},computed:{shareLinks:function(){var e,t=null!==(e=this.data)&&void 0!==e?e:window.contextlayer.social.share_links;return t.filter((function(e){return g(e)})).map((function(e){return y(y({},e),{},{is_shorty:"shorty"===e.name})}))},title:function(){if(this.data)return this.dataTitle;var e=document.querySelector('meta[property="og:title"]');return e?e.getAttribute("content"):""},popinClass:function(){return this.isVisible?"u-modal--visible":""}},watch:{isVisible:function(e){var t,a=this.$refs["share-modal-wrapper"];e&&this.shareLinks&&"body"!==(null===(t=a.parentElement)||void 0===t?void 0:t.localName)&&document.querySelector("body").append(a)}},mounted:function(){var e=this;this.$nextTick((function(){e.isVisible=!0}))}};const f=(0,a(83744).Z)(v,[["render",function(e,t,a,u,p,h){var m=(0,i.resolveComponent)("overlay-container"),y=(0,i.resolveComponent)("share-icon");return(0,i.openBlock)(),(0,i.createElementBlock)("div",{ref:"share-modal-wrapper",class:(0,i.normalizeClass)("u-modal ".concat(h.popinClass))},[(0,i.createVNode)(m,{onClick:t[0]||(t[0]=function(t){return e.$emit("close")})}),(0,i.createElementVNode)("div",n,[(0,i.createElementVNode)("div",o,(0,i.toDisplayString)(e.$translate("modal.share.label")),1),(0,i.createElementVNode)("button",{"data-modal-close":"",type:"button",class:"a-close-button","aria-label":e.$translate("modal.close.label"),onClick:t[1]||(t[1]=function(t){return e.$emit("close")})},null,8,r),(0,i.createElementVNode)("div",s,[h.title?((0,i.openBlock)(),(0,i.createElementBlock)("p",l,[(0,i.createElementVNode)("strong",{innerHTML:h.title},null,8,c)])):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("div",d,[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)(h.shareLinks,(function(e){return(0,i.openBlock)(),(0,i.createBlock)(y,{key:e.name,link:e},null,8,["link"])})),128))])])])],2)}]])}}]);
</script>

</body>
</html>
