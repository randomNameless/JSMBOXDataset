<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kununu-uc-style.html</title>
</head>
<body>

<script>
(function () {
    // set default colour 
    let bgColor = "#ffffff"; // needs to be defined - not available in UC backend
    let primaryColor = "#020207"; // use default from Usercentrics if not changed
    let acceptBtnBorderColor = "#E1E1E6"; // needs to be defined - not available in UC backend
    let acceptBtnFontColor = "#ffffff"; // use default from Usercentrics if not changed
    let acceptBtnHoverBgColor = "#4C4D52"; // needs to be defined - not available in UC backend
    let acceptBtnHoverBgBorderColor = "#E1E1E6"; // needs to be defined - not available in UC backend
    let customBtnColor = "#F2F2F2"; // use default from Usercentrics if not changed
    let customBtnBorderColor = "#E1E1E6"; // needs to be defined - not available in UC backend
    let customBtnFontColor = "#1B1C20"; // use default from Usercentrics if not changed
    let customBtnHoverBgColor = "#E8E8E8"; // needs to be defined - not available in UC backend
    let customBtnHoverBgBorderColor = "#E1E1E6"; // needs to be defined - not available in UC backend
    let denyBtnColor = "#F2F2F2"; // use default from Usercentrics if not changed
    let denyBtnBorderColor = "#DBE2E6"; // needs to be defined - not available in UC backend
    let denyBtnFontColor = "#1B1C20"; // use default from Usercentrics if not changed
    let denyBtnHoverBgColor = "#E8E8E8"; // needs to be defined - not available in UC backend
    let denyBtnHoverBgBorderColor = "#E1E1E6"; // needs to be defined - not available in UC backend
    let saveBtnColor = "#F2F2F2"; // use default from Usercentrics if not changed
    let saveBtnBorderColor = "#DBE2E6"; // needs to be defined - not available in UC backend
    let saveBtnFontColor = "#1B1C20"; // use default from Usercentrics if not changed
    let saveBtnHoverBgColor = "#E8E8E8"; // needs to be defined - not available in UC backend
    let saveBtnHoverBgBorderColor = "#E1E1E6"; // needs to be defined - not available in UC backend
    let secondLayerTabColor = "#004673"; // use default from Usercentrics if not changed
    let secondLayerTabBorderColor = "#004673"; // needs to be defined - not available in UC backend
    let activeToggleFillColor = "#3C4EE3"; // use default from Usercentrics if not changed
    let activeToggleIconFillColor = "#ffffff"; // use default from Usercentrics if not changed
    let inactiveToggleFillColor = "#C8C8CD"; // use default from Usercentrics if not changed
    let inactiveToggleIconFillColor = "#ffffff"; // use default from Usercentrics if not changed
    let disableToggleFillColor = "#E1E1E4"; // use default from Usercentrics if not changed
    let disableToggleIconFillColor = "#ffffff"; // use default from Usercentrics if not changed
    let fontfamily = "helvetica, arial, sans-serif, inter"; // use default from Usercentrics if not 
    let fontcolor = "#333438"; // use default from Usercentrics if not changed
    let anchorlinkColor = "#3C4EE3"; // use default from Usercentrics if not changed
    let accentColor = "#F3F4FD"; // use default from Usercentrics if not changed
    let overlayBgColor = '#F3F4FD';
    let overlayOpacity = '0.5';

    

    const customStyle = `
        :host(#usercentrics-root) .egMPqy, :host(#usercentrics-root) .iclXHj {
            font-size: 14px;
            color: #333438;
        }
        :host(#usercentrics-root) div[data-testid="uc-buttons-container"], :host(#usercentrics-root) div[data-testid="first-line-buttons"] {justify-content: flex-end;}
        :host(#usercentrics-root) button[data-testid="uc-save-button"], :host(#usercentrics-root) div[data-testid="uc-customize-button"] {
            flex: 0;
            white-space: pre;
            cursor: pointer;
            font-weight: bold;
            ${fontfamily ? "font-family: " + fontfamily + ";" : ""}
            ${fontcolor ? "color: " + fontcolor + ";" : ""}
            border: 1px solid #000000;
            border-radius: 2px;
            line-height: 1.25rem;
            font-size: 14px;
            height: 2.5rem;
            padding: 0.3125rem 1.5rem;
        }
        :host(#usercentrics-root) button[data-testid="uc-save-button"] {
            
            white-space: pre;
            cursor: pointer;
            font-weight: bold;
            ${fontfamily ? "font-family: " + fontfamily + ";" : ""}
            ${fontcolor ? "color: " + fontcolor + ";" : ""}
            ${saveBtnColor ? "background-color: " + saveBtnColor + ";" : ""}
            ${saveBtnFontColor ? "color: " + saveBtnFontColor + ";" : ""}
            border: 1px solid ${saveBtnBorderColor};
            border-radius: 2px;
            line-height: 1.25rem;
            font-size: 14px;
            height: 2.5rem;
            padding: 0.3125rem 1.5rem;
        }
        :host(#usercentrics-root) button[data-testid="uc-save-button"]:active, :host(#usercentrics-root) button[data-testid="uc-save-button"]:hover {
            background-color: ${saveBtnHoverBgColor};
            border: 1px solid ${saveBtnHoverBgBorderColor};
            border-radius: 2px;
        }

        :host(#usercentrics-root) button[data-testid="uc-deny-all-button"] {
            white-space: pre;
            cursor: pointer;
            font-weight: bold;
            ${fontfamily ? "font-family: " + fontfamily + ";" : ""}
            ${denyBtnColor ? "background-color: " + denyBtnColor + ";" : ""}
            ${denyBtnFontColor ? "color: " + denyBtnFontColor + ";" : ""}
            border: 1px solid ${denyBtnBorderColor};
            border-radius: 2px;
            line-height: 1.25rem;
            font-size: 14px;
            height: 2.5rem;
            padding: 0.3125rem 1.5rem;
        }
        :host(#usercentrics-root) button[data-testid="uc-deny-all-button"]:active, :host(#usercentrics-root) button[data-testid="uc-deny-all-button"]:hover {
            background-color: ${denyBtnHoverBgColor};
            border: 1px solid ${denyBtnHoverBgBorderColor};
            border-radius: 2px;
        }

        :host(#usercentrics-root) button[data-testid="uc-accept-all-button"] {
            
            white-space: pre;
            cursor: pointer;
            font-weight: bold;
            ${fontfamily ? "font-family: " + fontfamily + ";" : ""}
            ${primaryColor ? "background-color: " + primaryColor + ";" : ""}
            ${acceptBtnFontColor ? "color: " + acceptBtnFontColor + ";" : ""}
            border: 1px solid ${acceptBtnBorderColor};
            border-radius: 2px;
            line-height: 1.25rem;
            font-size: 14px;
            height: 2.5rem;
            padding: 0.3125rem 1.5rem;
        }
        :host(#usercentrics-root) button[data-testid="uc-accept-all-button"]:active, :host(#usercentrics-root) button[data-testid="uc-accept-all-button"]:hover {
            background-color: ${acceptBtnHoverBgColor};
            border: 1px solid ${acceptBtnHoverBgBorderColor};
            border-radius: 2px;
        }

        
        :host(#usercentrics-root) button[data-testid="uc-customize-button"] {
            
            white-space: pre;
            cursor: pointer;
            font-weight: bold;
            ${fontfamily ? "font-family: " + fontfamily + ";" : ""}
            ${customBtnColor ? "background-color: " + customBtnColor + ";" : ""}
            ${customBtnFontColor ? "color: " + customBtnFontColor + ";" : ""}
            border: 1px solid ${customBtnBorderColor};
            border-radius: 2px;
            line-height: 1.25rem;
            font-size: 14px;
            height: 2.5rem;
            padding: 0.3125rem 1.5rem;
        }
        :host(#usercentrics-root) button[data-testid="uc-customize-button"]:active, :host(#usercentrics-root) button[data-testid="uc-customize-button"]:hover {
            background-color: ${customBtnHoverBgColor};
            border: 1px solid ${customBtnHoverBgBorderColor};
            border-radius: 2px;
        }

        :host(#usercentrics-root) #uc-tab-list {
            border-bottom: none;
            padding-bottom: .5em;
        }
        :host(#usercentrics-root) #uc-tab-list button {
            border-bottom-width: 0.25rem;
            width: auto;
            border-bottom: 0.25rem solid transparent;
            height: 2.5rem;
        }
        
        :host(#usercentrics-root) #uc-tab-list button:first-child { margin-right: 1rem }
        :host(#usercentrics-root) #uc-tab-list button[aria-selected="true"] {
            ${secondLayerTabBorderColor ? "border-bottom-color: " + secondLayerTabBorderColor + ";" : ""}
            ${secondLayerTabColor ? "color: " + secondLayerTabColor + ";" : ""}
        }
        :host(#usercentrics-root) #uc-tab-list button[aria-selected="false"]:hover { border-bottom: 0.25rem solid rgb(180, 180, 180) }
        :host(#usercentrics-root) div[data-testid="uc-heading-title"] {
            font-size: 20px;
            font-weight: bold;
            line-height: 24px;
            ${fontcolor ? "color: " + fontcolor + ";" : ""}
        }
        :host(#usercentrics-root) div[data-testid="uc-headinger-wrapper"] {
            padding: 0;
        }
        :host(#usercentrics-root) a, :host(#usercentrics-root), button[data-testid="uc-customize-anchor"], .iRopFN {
            text-decoration: underline;
            ${anchorlinkColor ? "color: " + anchorlinkColor + ";" : ""}
        }
        :host(#usercentrics-root) #uc-center-container {
            margin: 15px auto 0;
            padding: 0.5rem 0.5rem 1rem 0.5rem;
            max-width: 750px;
            width: 75%;
            background-color: ${bgColor} !important;
            ${fontcolor ? "color: " + fontcolor + ";" : ""}
            border-radius: 8px;
        }
        :host(#usercentrics-root) div[data-testid^="uc-tab-"] {
            height: 2.5rem;
        }
        :host(#usercentrics-root) div[data-testid="uc-virtual-list"], :host(#usercentrics-root) div[data-testid="uc-footer"], :host(#usercentrics-root) div[data-testid="uc-header"], :host(#usercentrics-root) div[data-testid="uc-container"], :host(#usercentrics-root) div[data-testid="uc-vertical-scroller"], :host(#usercentrics-root) div[data-testid="uc-fading-wrapper"] {
            background-color: ${bgColor} !important;
            ${fontcolor ? "color: " + fontcolor + ";" : ""}
        }
        :host(#usercentrics-root) .sc-jxOSlx.cYPgfe, :host(#usercentrics-root) .sc-eBMEME.kYXrjW {
            background-color: ${bgColor} !important;
            ${fontcolor ? "color: " + fontcolor + ";" : ""}
        }
        :host(#usercentrics-root) div[data-testid="uc-message-container"] {
            background-color: ${bgColor} !important;
            ${fontcolor ? "color: " + fontcolor + ";" : ""}
        }
        :host(#usercentrics-root) div[role="heading"] {
            background-color: ${bgColor} !important;
            ${fontcolor ? "color: " + fontcolor + ";" : ""}
        }
        :host(#usercentrics-root) div[data-testid="uc-tcf-categories"] {
            border-bottom:1px solid ${accentColor};
        }

        :host(#usercentrics-root) div[data-testid="uc-panel-purposes"], :host(#usercentrics-root) button[data-testid="uc-tab-purposes"] {
            background-color: ${bgColor} !important;
            color: #3C4EE3 !important; 
        }

        :host(#usercentrics-root) button[data-testid="uc-tab-vendors"]{
            background-color: ${bgColor} !important;
            color: #3C4EE3 !important; 
        }

        :host(#usercentrics-root) #uc-tab-list button[aria-selected="true"] {
          border-bottom-color: #3C4EE3;
        }

        :host(#usercentrics-root) .bxUVrv {
            color: #3C4EE3 !important; 
        }
        
        :host(#usercentrics-root) .kYXrjW {
            border-top:1px solid ${accentColor};
        }
        :host(#usercentrics-root) .eJNzQn {
            background-color: ${overlayBgColor};
            opacity : ${overlayOpacity};
        }

    `;

    const target = document.querySelector("html");
    const obsOptions = {
        childList: true,
        attributes: false,
        subtree: true,
    }
    let cb = (mutations, observer) => {
        if (document.querySelector('#usercentrics-root')) {
            observer.disconnect();
            const styleElement = document.createElement('style');
            styleElement.innerHTML = customStyle;
            try{
                // chrome
                document.querySelector('#usercentrics-root').shadowRoot.appendChild(styleElement);
            }catch(e){};
            // add mods to display toggles in correct color if changed
            try{
                const sroot = document.querySelector("#usercentrics-root").shadowRoot.querySelector("[data-testid='uc-app-container']");
                let cb2 = (mutations, observer) => {
                    // try to change colors - do not kill observer in because layer can be opened multiple times
                    try{
                        if(activeToggleFillColor){
                            let paths = sroot.querySelectorAll("button[aria-disabled='false'][aria-checked='true'] svg > g > g > g > path:nth-child(1)");
                            paths.forEach(path => path.setAttribute("fill", activeToggleFillColor));
                        }
                    }catch(e){}


                  try{
                    if(activeToggleFillColor){
                        let paths = sroot.querySelectorAll("button[aria-disabled='false'][aria-checked='true'] svg g > g > g > path:nth-child(2)");
                        paths.forEach(path => path.setAttribute("fill", activeToggleIconFillColor));
                        
                    }
                }catch(e){}

                  try{
                    if(activeToggleFillColor){
                        let paths = sroot.querySelectorAll("button[aria-disabled='false'][aria-checked='true'] svg g > g > g > path:nth-child(3)");
                        paths.forEach(path => path.setAttribute("fill", activeToggleIconFillColor));
                        
                    }
                }catch(e){}

                try{
                    if(activeToggleFillColor){
                        let paths = sroot.querySelectorAll("button[aria-disabled='false'][aria-checked='false'] svg g > g > g > path:nth-child(1)");
                        paths.forEach(path => path.setAttribute("fill", inactiveToggleFillColor));
                        
                    }
                }catch(e){}

                try{
                  if(activeToggleIconFillColor){
                      let paths = sroot.querySelectorAll("button[aria-disabled='false'][aria-checked='false'] svg g > g > g > path:nth-child(2)");
                      paths.forEach(path => path.setAttribute("fill", inactiveToggleIconFillColor));
                      
                  }
              }catch(e){}

                try{
                  if(activeToggleIconFillColor){
                      let paths = sroot.querySelectorAll("button[aria-disabled='false'][aria-checked='false'] svg g > g > g > path:nth-child(3)");
                      paths.forEach(path => path.setAttribute("fill", inactiveToggleIconFillColor));
                      
                  }
              }catch(e){}
                

              try{
                  if(inactiveToggleFillColor){
                      let paths = sroot.querySelectorAll("button[aria-disabled='true'][aria-checked='true'] svg g > g > g > path:nth-child(1)");
                      paths.forEach(path => path.setAttribute("fill", disableToggleFillColor));
                      
                  }
              }catch(e){}




          try{
            if(inactiveToggleIconFillColor){
                let paths = sroot.querySelectorAll("button[aria-disabled='true'][aria-checked='true'] svg g > g > g > path:nth-child(2)");
                paths.forEach(path => path.setAttribute("fill", disableToggleIconFillColor));
                
            }
        }catch(e){}

          try{
            if(inactiveToggleIconFillColor  ){
                let paths = sroot.querySelectorAll("button[aria-disabled='true'][aria-checked='true'] svg g > g > g > path:nth-child(3)");
                paths.forEach(path => path.setAttribute("fill", disableToggleIconFillColor));
                
            }
        }catch(e){}

                    // change logo
                    try {
                      document.getElementById('usercentrics-root').shadowRoot.querySelector('.sc-fXSgeo.eMNcwX img[src*="https://static.xingcdn.com/xemail/petrol/Logos/Xing-Logo.svg"]').setAttribute('src', 'http://assets.kununu.com/logo/kununu_logo.svg');
                    }catch(e){}

                    // change Link Datenschutz
                    try {
                      document.getElementById('usercentrics-root').shadowRoot.querySelector('.sc-hzhJZQ.kLyQdH a[href*="https://privacy.xing.com/de/datenschutzerklaerung"]').setAttribute('href', 'https://privacy.xing.com/de/datenschutzerklaerung');
                    }catch(e){}

                    // change Impressum
                    try {
                      document.getElementById('usercentrics-root').shadowRoot.querySelector('.sc-hzhJZQ.kLyQdH a[href*="https://www.xing.com/legalnotice"]').setAttribute('href', 'https://www.kununu.com/de/info/impressum');
                    }catch(e){}

                    // remove UC Branding
                    try {
                        document.getElementById('usercentrics-root').shadowRoot.querySelector('#uc-center-container a[href*="usercentrics.com"]').closest('div').remove();
                    }catch(e){}
                }
                const obs2 = new MutationObserver(cb2);
                obs2.observe(sroot,obsOptions);
            }catch(e){}
        }
    }
    const obs = new MutationObserver(cb);
    obs.observe(target, obsOptions);
  })();
</script>

</body>
</html>
