<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>initCSRF.html</title>
</head>
<body>

<script>
import{d as m,b as R,g as _}from"./commonAppInit.js";import{r as y,a as g,Z as v}from"./_plugin-vue_export-helper.js";import{r as C}from"./request.js";import{q as A}from"./api.js";import{c as L}from"./index3.js";import{c as F}from"./createAjaxHeaders.js";function h(e){const{path:a,method:t,initial:s,deserializer:r,baseUrl:u,defaultParams:o,defaultQuery:n}=e;return function(){const S=v(s),c=y(!1);async function p(l,f){let i;typeof a=="string"?i=a:i=a(f||o||{});try{const d=await C({method:t,path:i,query:l||n,baseUrl:u});return r(d)}catch(d){return R("Request failed: ",a,t,d),null}}async function E(l,f){c.value=!0;const i=await p(l,f);i&&(S.value=i),c.value=!1}return{result:S,isLoading:c,fetch:E,makeRequest:p}}}function P(e){return m(e.name,h(e))}function G(e){return m(e.name,()=>{const t=h({...e})(),s=y(!1);async function r(o){s.value=!0;const n=await t.makeRequest(o);n&&n.items&&(t.result.value={...n,items:[...t.result.value.items,...n.items]}),s.value=!1}const u=g(()=>t.result.value.items.length<t.result.value.totalCount);return{...t,isLoadingMore:s,isAbleToLoadMore:u,fetchMore:r}})}async function U(e){return L(await e.json(),{deep:!0})}async function M(e){return await e.text()}var q={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const x=m("categories",()=>{const a=h({name:"categories",path:A,method:"GET",deserializer:U,initial:null,baseUrl:q.VITE_LEGACY_API_URL,defaultQuery:{lang:_("CURRENT_REQUEST_LANGUAGE")}})(),t=g(()=>s=>{var r;return(r=a.result.value)==null?void 0:r.items.find(u=>u.id===s)});return{...a,getCategoryById:t}});async function z(){try{await fetch(_("CSRF_COOKIE_URL"),{headers:F()})}catch(e){R("Failed to init CSRF: ",e)}}export{P as a,G as b,M as c,U as d,z as i,x as u};

</script>

</body>
</html>
