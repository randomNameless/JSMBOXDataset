<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dc.min.502.html</title>
</head>
<body>

<script>
var req,tags=[],ajx=!0;function fd(e,t,n){(req=new XMLHttpRequest).onreadystatechange=n,req.open("POST",e,!0),req.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),req.send(t)}function nfd(e,t,n){(req=new XMLHttpRequest).onreadystatechange=n,req.open("POST",e,!0),req.send(t)}function dCmd(e,t,n){var a=Math.floor(100001*Math.random());let r=new FormData;r.append("cmd",t);let s=0;for(var o in n)o==s?r.append("data[]",n[o]):r.append(o,n[o]),s++;nfd(e+"?r="+a,r,processReqChange)}function doCommand(e,t,n){dCmd(/\.php$/i.test(e)?e:"/res/responders/"+e+".php",t,n)}function processReqChange(){var e,t,n,a;if(4==req.readyState&&200==req.status&&(e=req.responseXML.documentElement)){if(e.getElementsByTagName("method")[0].firstChild.data,(n=e.getElementsByTagName("redir")[0].firstChild.data)&&0!=n)return window.location.href=n,!1;t=e.getElementsByTagName("theAlert")[0].firstChild.data,a=e.getElementsByTagName("updateItem");for(var r=0;r<a.length;r++){var s=a[r].getElementsByTagName("itemID")[0].firstChild.data,o=a[r].getElementsByTagName("itemValue")[0].firstChild.data;document.getElementById(s).innerHTML=o}"0"!=t&&alert(t)}}function fetchData(e,t,n,a){var r,s,o=Math.floor(100001*Math.random());for(var i in r="/res/responders/"+e+".php?r="+o,s="&cmd="+t,n)s=s+"&data[]="+encodeURIComponent(n[i]);fd(r,s,a)}function locateObj(e){var t=0,n=0;if(e.offsetParent){do{t+=e.offsetLeft,n+=e.offsetTop}while(e=e.offsetParent);return[t,n]}}function getToTop(e){var t;t=locateObj(document.getElementById(e)),window.scrollTo(t[0],t[1])}function hidenojs(){document.getElementById("nojs").style.display="none"}function hasClass(e,t){if(e)return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function addClass(e,t){e&&(e.classList?e.classList.add(t):hasClass(e,t)||(e.className+=" "+t))}function removeClass(e,t){if(e)if(e.classList)e.classList.remove(t);else if(hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function hide_overlay(){document.getElementById("doverl").style.display="none"}function show_overlay(){document.getElementById("doverl").style.display="block"}function insTag(e){var t=/[^a-z]+/gi,n=e.replace(t,"");n=n.toLowerCase();t=/'/gi;var a="<a href=\"javascript:rmTag('"+e.replace(t,"\\'")+'\');" class="stTags">X</a> '+e,r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","iTag[]"),r.setAttribute("value",e),r.setAttribute("id","it-"+n);var s=document.createElement("span");s.setAttribute("id","rm-"+n),s.innerHTML=a;var o=document.createTextNode(" ");document.getElementById("stInpTags").appendChild(r),document.getElementById("stTagsDiv").appendChild(s),document.getElementById("stTagsDiv").appendChild(o),tags.push(e),removeElement("myTagsDiv","mt-"+n)}function rmTag(e){var t=/[^a-z]+/gi,n=e.replace(t,"");n=n.toLowerCase();t=/'/gi;var a=e.replace(t,"\\'"),r=document.createElement("a");r.setAttribute("href","javascript:insTag('"+a+"');"),r.setAttribute("class","otherTags"),r.setAttribute("id","mt-"+n),r.innerHTML=" "+e;var s=document.createTextNode(" ");removeElement("stInpTags","it-"+n),removeElement("stTagsDiv","rm-"+n),document.getElementById("myTagsDiv").appendChild(r),document.getElementById("myTagsDiv").appendChild(s),tags.remove(e)}function removeElement(e,t){if(document.getElementById(t)){var n=document.getElementById(t);document.getElementById(e).removeChild(n)}}function doBookm(e){show_overlay(),tags=[];var t=window.location.href,n={urlid:e};history.pushState(n,null,"/library/afs.php?story_id="+e),history.pushState({},null,t),dCm("/res/responders/bkmrkresp.php","bkmrkfrm",[e,t])}function svbkmrk(){var e={};return e.id=gev("thestoryid"),e.note=gev("itsnotes"),e.rate=gev("prs"),e.itsTags=gev("itsTags"),e.iTag=tags,e.que=document.getElementById("lq").checked,jsonstr=JSON.stringify(e),dCm("/res/responders/bkmrkresp.php","svbkmrk",[e.id,jsonstr]),!1}function doSetCookie(e,t,n){var a="";if(n){var r=new Date;r.setTime(r.getTime()+864e5*n),a="; expires="+r.toUTCString()+"; path=/; SameSite=Lax"}document.cookie=e+"="+(t||"")+a}function conLenCount(e,t,n){var a=document.getElementById(e).value.length,r=document.getElementById(t);r.style.backgroundColor=a>n-1?"#ff0":"inherit",spanT="("+a+"/"+n+")",r.innerText=spanT}function isHtmlColor(e){return/^#[0-9A-F]{6}$/i.test(e)}function updateLenDisp(e,t,n){let a=document.getElementById(e),r=a.value.length,s=document.getElementById(t);if(r==n&&a.classList.add("hl"),r>n){let e=a.value;a.value=e.substr(0,n),r=n,a.classList.add("hl")}else r<n&&a.classList.remove("hl");s.innerText="[ "+r+"/"+n+" ]"}function updElVal(e,t){document.getElementById(e).value=t}function updElSt(e,t,n){document.getElementById(e).style[t]=n}function gev(e){return document.getElementById(e).value}function addVarToForm(e,t){let n=document.getElementById(e),a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",t[0]),a.value=t[1],n.appendChild(a)}function dCm(e,t,n){ftd(e,{cmd:t,data:n},hndRet)}function ftd(e,t,n){let a=JSON.stringify(t),r={"Content-Type":"application/json"};t instanceof FormData&&(r={enctype:"multipart/form-data"},a=t),fetch(e,{method:"POST",headers:r,body:a}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>n(e))).catch((e=>console.error("Fetch error:",e)))}function hndRet(e){const t=e.redir,n=e.theAlert,a=e.itms;if(t&&isNaN(t))return window.location.href=t,!1;if(a)for(var r=0;r<a.length;r++){var s=document.getElementById(a[r].itid);s&&(s.innerHTML=a[r].itvalue)}n&&alert(n)}Array.prototype.remove=function(){for(var e,t,n=arguments,a=n.length;a&&this.length;)for(e=n[--a];-1!==(t=this.indexOf(e));)this.splice(t,1);return this};
</script>

</body>
</html>
