<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>application_top-5118e9b0822ca7a205599ab1737498468647980660134f65f7312fdd04f755aa.html</title>
</head>
<body>
<script>(function(t){"use strict";var e=function(e){var a=this;a.$element=t(e),a.$shim=t("<div></div>"),a.offset=this.$element.offset().top,a.$shim.addClass("b-hide"),a.$shim.height(a.$element.height()),a.$element.after(a.$shim),t(window).on("scroll.sticky.data-api",(function(){a.sticking.call(a)}))};e.prototype={constructor:e,sticking:function(){return this.scrollValue=document.documentElement.scrollTop||document.body.scrollTop,this.offset<this.scrollValue?(this.$element.addClass("b-sticky"),this.$shim.removeClass("b-hide")):(this.$element.removeClass("b-sticky"),this.$shim.addClass("b-hide")),!1}},t.fn.sticky=function(a){return this.each((function(){var n=t(this),i=n.data("sticky");i||n.data("sticky",i=new e(this)),"string"==typeof a&&i[a].call(n)}))},t.fn.sticky.Constructor=e}).call(this,jQuery),function(t){"use strict";t((function(){t(".js-sticky").sticky()}))}.call(this,jQuery),function(){var t;t=function(){function t(t){var e,a,n;this.$bkTopBtn=t,a=$(window),0===this.$bkTopBtn.length&&(this.$bkTopBtn=$("<a/>").attr({href:"#page",class:"b-btn-back",id:"backTop",style:"display: none;"}).text(I18n.t("widget.back_to_top")),e=$("<i/>").attr({class:"b-sprite-icon-arrow-top"}),this.$bkTopBtn.prepend(e),this.render($("body"))),this.$bkTopBtn.css({display:"none"}),a.on("scroll",(n=this,function(){return n.toggle(a)}))}return t.prototype.toggle=function(t){return t.scrollTop()>250?this.$bkTopBtn.fadeIn():this.$bkTopBtn.fadeOut()},t.prototype.render=function(t){return t.append(this.$bkTopBtn)},t}(),$(document).ready((function(){if(window.GEPMALL=window.GEPMALL||{},window.GEPMALL.BackToTop=t,new GEPMALL.BackToTop($("#backTop")),null!=window.angular&&null!=window.GEPMALL.$compile)return window.GEPMALL.$compile($("#backTop"))(window.GEPMALL.$scope)}))}.call(this),function(){const t=location.protocol+"//"+location.host+"/api/search_to_cart.json",e=document.querySelector("h1.b-ttl-1")?.innerText||"",a=()=>{switch(!0){case/\/shop\/([\w-]*)\/$/.test(location.pathname):return"\u5e97\u92ea\u9996\u9801";case/\/shop\/([\w-]*)\/product\/$/.test(location.pathname):return"\u5e97\u92ea\u5168\u90e8\u5546\u54c1\u9801";case/\/shop\/([\w-]*)\/search\/([\w-]*)\/$/.test(location.pathname):return"\u641c\u5c0b\u9801";case/\/shop\/([\w-]*)\/category\/([\w-]*)\/$/.test(location.pathname):return`\u985e\u5225\u9801_${e}`;default:return""}},n=({eventData:t,items:e})=>{window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null},{...t,ecommerce:{items:Array.isArray(e)?e:[e]}})},i=(t,e)=>{t&&n({eventData:{event:"select_item",affiliation:e,item_list_name:a()},items:t})},s=(t,a)=>{t&&n({eventData:{event:"select_promotion",affiliation:a,creative_slot:"campaign_detail",promotion_name:e},items:t})},r=({baseSku:e,shopUrl:a,successCallback:n})=>{$.ajax({type:"GET",url:t,data:{shop_url:a,base_sku:e},beforeSend:t=>t.setRequestHeader("X-CSRF-Token",window._token),success:n})},o={constructItemData({baseSku:t,brand:e,itemName:a,itemPrice:{min:n}={},name:i,price:s,rakutenCategoryNamePath:r,quantityInfo:{selectedQuantity:o=1}={},variantPath:l},u="",c=1){const d=window.location.pathname.split("/")[2]||"",p={affiliation:d,currency:"TWD",index:c,item_brand:e,item_id:`${d}_${t}`,item_name:a||i,item_variant:l||u,price:n||s,quantity:parseInt(o)};return Array.from({length:5},((t,e)=>r[e]??"")).forEach(((t,e)=>{p[`item_category${0===e?"":e+1}`]=t})),p},setAddToCartToDataLayer(t){t&&n({eventData:{event:"add_to_cart"},items:t})},setAddToWishlistToDataLayer(t){t&&n({eventData:{event:"add_to_wishlist"},items:t})},gatItemDetailAndAddToWishlist(t,e){e&&r({baseSku:e,shopUrl:t,successCallback:e=>{this.setAddToWishlistToDataLayer(this.constructItemData(e),t)}})}};Array.from(document.querySelectorAll(".b-mod-item-vertical .b-img a, .b-mod-item-vertical .b-text a")).map((t=>{t.addEventListener("click",(function(){if(!/\/shop\/([\w-]*)\/product\//.test(t.href))return;const[,e,a]=t.href.match(/\/shop\/([\w-]*)\/product\/([\w-]*)\//);r({baseSku:a,shopUrl:e,successCallback(t){/\/shop\/([\w-]*)\/campaign\/([\w-]*)\/$/.test(location.pathname)?s(o.constructItemData(t),e):i(o.constructItemData(t),e)}})}))})),window.GEPMALL=window.GEPMALL||{},GEPMALL.ga4DataLayerEvent=o}(window),function(){var t;t=function(){function t(){var t,e;e=this,null!=(t=location.search.queryToHash()).item_id&&null!=t.status_code&&this.showWishStatus(t),$("button.b-btn-wishlist").click((function(t){var a;return t.preventDefault(),a=$(this),$(this).siblings("span.item_process").css("visibility","visible"),e.submitWishlistItem(a)})),$("button.search_to_cart").click((function(t){var a;return t.preventDefault(),a=$(this),$(this).siblings("span.item_process").css("visibility","visible"),$("#selectOption").remove(),e.submitSelectedItem(a)})),$("button#add_to_bundle").click((function(t){var a;return t.preventDefault(),a=$(this),$(this).siblings(".bundle_process").css("visibility","visible"),$("#selectOption").remove(),e.submitSelectedItem(a)}))}var e,a,n,i,s,r,o;return i=location.protocol+"//"+location.host,s=i+"/api/search_to_cart.json",ga4DataLayerEvent=GEPMALL.ga4DataLayerEvent||{constructItemData(){},setAddToCartToDataLayer(){},gatItemDetailAndAddToWishlist(){}},t.prototype.submitSelectedItem=function(t){var e,i;return i=t.attr("data-shop-url"),e=t.attr("data-base-sku"),$.ajax({type:"GET",url:s,data:{shop_url:i,base_sku:e},beforeSend:function(t){return t.setRequestHeader("X-CSRF-Token",window._token)}}).error((function(){return n(),$("span.item_process").css("visibility","hidden"),$(".bundle_process").css("visibility","hidden"),!1})).success((function(s){var o,l,u,c,d,p,h,v,b,f,m,_,g,y;if($("span.item_process").css("visibility","hidden"),$(".bundle_process").css("visibility","hidden"),200!==s.status_code)return n(),!1;p=t.attr("data-popup-type"),u=function(){switch(t.data("tracking-action")){case"productreview_to_cart":return MallConf.mall_id+"_productreview_addtocart";case"search_to_cart":return t.attr("data-l-id");default:return t.data("l-id")}}(),m=s.shopId,c=s.merchantId,l=s.itemId,g=s.variantDraft,_="",h="",o="";let I={};if(null===s.variantDraft.axes){if($.each(s.variantDraft.info,(function(t,e){return _=t,h=e.price,o=e.currencyCode})),"search_to_cart"===p)return v={merchant_id:c,shop_id:m,item_id:l,variant_id:_,currency:o,price:h,quantity:1},I=ga4DataLayerEvent.constructItemData(s),a(v,t,I);if("add_to_bundle"===p)return(b=angular.element($("#bundleCartCtrl")).scope()).$apply((function(){return b.addItemToBundle(s,i,_,e)}))}else if(!$("body").hasClass("b-modal-open"))return d=GEPMALL.VariantItemPopup.createPopupBox(s,u,i,e,p),$("#page").after(d.join("")),$("#selectOption").modal("toggle"),$("button.itemcart").click((function(){return!$("div.b-btns").hasClass("b-deny")})),null!=g&&(f=0,(y=new GEPMALL.VariantManager).singleOptionSelect(),$(".b-radio-btns label").click((function(){var t,e;return!(t=$(this).parent()).hasClass("b-disabled")&&!t.hasClass("b-single_variant")&&(e=$(this).siblings("input:radio"),t.hasClass("b-checked")?(t.removeClass("b-checked"),e.attr("checked",!1)):(t.siblings("li").removeClass("b-checked"),t.addClass("b-checked"),e.attr("checked",!0)),f%2!=0||t.hasClass("b-checked")?void 0:(f=0,y.singleOptionSelect()))})),$("label.b-btn").click((function(t){return t.preventDefault(),$("#"+$(this).attr("for")).click().change(),y.singleOptionSelect(),f=$("ul.b-radio-btns").children("li.b-checked").length}))),"search_to_cart"===p&&$("button#popup-add-to-cart").on("click",(function(){if(!$("div.b-btns").hasClass("b-deny"))return v={merchant_id:c,shop_id:m,item_id:l,variant_id:$("input.variant_id").attr("value"),currency:$("input.currency").attr("value"),price:$("input.price").attr("value"),quantity:1},I=ga4DataLayerEvent.constructItemData(s,$("input.variant_path").attr("value")),a(v,t,I)})),"add_to_bundle"===p&&$("button.itemcart").click((function(){if(!$("div.b-btns").hasClass("b-deny"))return _=$("input.variant_id").attr("value"),(b=angular.element($("#bundleCartCtrl")).scope()).$apply((function(){return b.addItemToBundle(s,i,_,e)})),r()})),new GEPMALL.ItemImageSelector}))},t.prototype.submitWishlistItem=function(t){const a=t.attr("data-shop-id"),n=t.attr("data-item-id"),i=t.attr("data-shop-url"),s=t.attr("data-base-sku");return e(a,n,i,s,t)},a=function(t,e,a){return(new GEPMALL.AddToCartModel).addItem(t,(function(){ga4DataLayerEvent.setAddToCartToDataLayer(a);var n=o(I18n.t("shopping_cart.added_product"),"success",t.item_id,"cart",e);setTimeout((function(){n.next(".b-mod-bubble").remove()}),5e3)}),(function(){o(I18n.t("add_to_cart_popup.error_message"),"failed",t.item_id,"cart",e)}))},e=function(t,e,a,n,i){var s;return s=$("button#search-wishlist_"+e).index(i),(new GEPMALL.WishlistItemModel).addItem(t,e,(function(i){if(i.data&&i.data.addBookmarkItem)return ga4DataLayerEvent.gatItemDetailAndAddToWishlist(a,n),o(I18n.t("wishlist.toast.add_success"),"success",e,"wishlist",s);if(i.errors&&401===i.errors[0].code){const i="?lang=en&service_id=MY_MT01&uri="+location.pathname.replace(/\//g,"%2F")+"&shop_id="+t+"&item_id="+e+"&dup_id="+s+"&shop_url="+a+"&base_sku="+n;return location.href="/wishlist/redirect_v2"+i}return i.errors&&403===i.errors[0].code?o(I18n.t("wishlist.toast.reach_limit"),"failed",e,"wishlist",s):o(I18n.t("wishlist.sorry_message"),"failed",e,"wishlist",s)}),(function(){return o(I18n.t("wishlist.sorry_message"),"failed",e,"wishlist",s)}))},o=function(t,e,a,n,i){var s,o,l=i;return"wishlist"===n?($("span.item_process").css("visibility","hidden"),l=$("button#search-wishlist_"+a+":eq("+i+")"),s="<a href='/wishlist/'>"+I18n.t("wishlist.move_to_wishlist")+"</a>"):"cart"===n&&(s="<a href='/checkout/cart/'>"+I18n.t("shopping_cart.move_to_cart")+"</a>"),(o=[]).push("<div class='b-mod-bubble b-hide b-modal b-mod-bubble-cart b-mod-bubble-wishlist'>"),o.push("<a href='javascript:void(0);' class='b-close-boxed'><span class='b-sprite-icon-cross'></span></a>"),o.push("<div class='b-body'>"),"success"===e?(o.push("<div class='b-ttl-3'>"+t+"</div>"),o.push("<div class='b-content'>"+s+"</div>")):o.push("<div class='b-content'>"+t+"</div>"),o.push("</div></div>"),r(),l.after(""+o.join(""))},t.prototype.showWishStatus=function(t){var e,a,n;switch(n=t.status_code,a=t.item_id,e=t.dup_id,shopUrl=t.shop_url,baseSku=t.base_sku,n){case"200":return ga4DataLayerEvent.gatItemDetailAndAddToWishlist(shopUrl,baseSku),o(I18n.t("wishlist.toast.add_success"),"success",a,"wishlist",e);case"403":return o(I18n.t("wishlist.toast.reach_limit"),"failed",a,"wishlist",e);default:return o(I18n.t("wishlist.sorry_message"),"failed",a,"wishlist",e)}},r=function(){return $("body").removeClass("b-modal-open"),$("div#selectOption").remove(),$("div.b-modal-backdrop").remove()},n=function(){var t,e;return t={position:"fixed",width:"60%",top:"50px",left:"20%",zIndex:2e3},(e=[]).push('<div class="b-container b-mod-panel b-color-emph b-text-emph b-center  b-position-fixed b-hide">'),e.push("<p><em>"+I18n.t("add_to_cart_popup.error_message")+"</em></p>"),e.push("</div>"),$("#page").after(e.join("")),$(".b-position-fixed").removeClass("b-hide").css(t)},t}(),$(document).on("click",(function(t){var e=$("div.b-mod-bubble-wishlist");if($(".b-position-fixed").addClass("b-hide"),0!==e.length&&e.remove(),e.find("a.b-close-boxed").on("click",(function(){return e.remove()})),0===e.has(t.target).length)return e.remove()})),String.prototype.queryToHash=function(){var t,e;return e=this.substr(1).split("&"),t={},_.each(e,(function(e){var a;return a=e.split("="),t[a[0]]=a[1]})),t},window.GEPMALL=window.GEPMALL||{},GEPMALL.SearchToCartWishlistController=t,new GEPMALL.SearchToCartWishlistController}.call(this),function(){"use strict";var t,e,a,n,i,s,r,o,l,u,c="0",d=[].indexOf||function(t){for(var e=0,a=this.length;e<a;e++)if(e in this&&this[e]===t)return e;return-1};u={},l={},t=function(){function t(){}return t.prototype.activate=function(t){return $(".b-checkbox").click((function(){return $("input[type=checkbox]").length===$("input[type=checkbox]:checked").length?$("#popup-add-to-cart").removeAttr("disabled"):$("#popup-add-to-cart").attr("disabled","")})),$("#popup-add-to-cart").click((function(){switch(t){case"searchToCart":return $("#search_cart_form").submit();case"wishlistToCart":return $("#wishlist_form").submit();case"browsingHistoryToCart":return $("#browsing_history_cart_form").submit()}}))},t.prototype.createPopupBox=function(){var t;return(t=[]).push("<div id='agreement' class='b-modal b-product-modal b-fade b-hide'>"),t.push("<div class='b-modal-header'>"),t.push("<a data-dismiss='modal' class='b-close'>&times;</a>"),t.push("<h3 class='b-ttl'>"+I18n.t("alcohol_agreement.title")+"</h3></div>"),t.push("<div class='b-modal-body'>"),t.push("<p>"+I18n.t("alcohol_agreement.message")+"</p>"),t.push("<div class='b-control-group'>"),t.push("<label class='b-checkbox'><input type='checkbox'>"+I18n.t("alcohol_agreement.condition_muslim")+"</label>"),t.push("<label class='b-checkbox'><input type='checkbox'>"+I18n.t("alcohol_agreement.condition_age")+"</label></div></div>"),t.push("<div class='b-modal-footer'>"),t.push("<button type='button' id='popup-add-to-cart' class='b-btn b-btn-type-a b-btn-emph' disabled='false'>"+I18n.t("add_to_cart")+"</button>"),t.push("</div></div>"),t},t}(),s=function(){function t(){}var e,a,n,i,s,r,o,c,d,p,h,v,b;return t.createPopupBox=function(t,e,s,c,d){var p,v,b,f,m,g,y,I,w,k,L,C,D,x;if(u=t.variantDraft,l=t.inventoryInfo,x=t.variantDraft.info,D=t.variantView.viewWithKey,f=t.initial_image,C=t.image_thums,m=!1,t.campaign_item&&(p=t.campaign_item.campaignType),I=[],k=[],L=[],v="",$.each(l,(function(t,e){return $.each(e.quantity,(function(t,e){if("value"===t&&0!==e||"unlimited"===t&&!0===e)return m=!0}))})),$.each(x,(function(t,e){return k.push(parseInt(e.price,10)),e.originalPrice&&I.push(parseInt(e.originalPrice,10)),e.listPrice&&L.push(parseInt(e.listPrice,10)),v=""+e.currencyCode})),(w=[]).push('<div class="b-modal b-product-modal b-fade b-hide" id="selectOption">'),w.push('<form accept-charset="UTF-8">'),w.push('<input class="shop_id" name="shop_id" type="hidden" value= "'+t.shopId+'">'),w.push('<input class="merchant_id" name="merchant_id" type="hidden" value= "'+t.merchantId+'">'),w.push('<input class="item_id" name="item_id" type="hidden" value= "'+t.itemId+'">'),w.push('<input class="variant_id" name="variant_id" type="hidden" value= "">'),w.push('<input class="variant_path" name="variant_path" type="hidden" value= "">'),p&&w.push('<input class="campaign" name="campaign" type="hidden" value= "'+p+'">'),w.push('<input class="price" name="price" type="hidden" value= "">'),w.push('<input class="currency" name="currency" type="hidden" value= "'+v+'">'),w.push('<input class="quantity" name="quantity" type="hidden" value="1" />'),w.push('<input class="l-id" name="l-id" type="hidden" value="'+e+'" />'),w.push('<div class="b-modal-header">'),w.push('<a class="b-close" id="data-close" data-dismiss="modal">&times;</a>'),"search_to_cart"===d?w.push('<h3 class="b-ttl">'+I18n.t("add_to_cart_popup.select_option")+"</h3>"):"add_to_bundle"===d&&w.push('<h3 class="b-ttl">'+I18n.t("flexible_bundle_campaign.add_to_bundle_popup.select_option")+"</h3>"),w.push("</div>"),w.push('<div class="b-modal-body">'),w.push('<div class="b-product-main">'),p&&"SHOP_ORDER"!==p&&(w.push('<div class="b-item-label">'),w.push('<span class="b-annotation b-annotation-prime">'),"ITEM_REWARD"===p?w.push(I18n.t("search_result.bogo")):w.push(I18n.t("add_to_cart_popup.sale")),w.push("</span>"),w.push("</div>")),w.push('<div class="b-img">'),w.push('<div class="b-main-image item-main-image">'),""+f.alt=="no_image"?w.push('<img width="200" height="200" src="'+f.location+'" alt="no-image">'):w.push('<img width="200" height="200" src="'+f.location+'" alt="'+f.alt+'">'),w.push("</div>"),w.push('<ul class="b-thumbnails b-cols-5 item-thumnails">'),C)for(g=0,y=C.length;g<y;g++)b=C[g],w.push('<li class="b-col">'),w.push('<a href="javascript:void(0);"><img width="20" height="20" src="'+b.location+'"></a>'),w.push("</li>");return w.push("</ul>"),w.push("</div>"),w.push('<div class="b-text">'),w.push('<div class="b-content-head"><div class="b-ttl">'),w.push('<a href="/'+MallConf.routes.shop+"/"+s+"/"+MallConf.routes.product+"/"+c+'">'+_.escape(t.itemName)+"</a>"),w.push("</div>"),w.push('<ul class="b-list-vertical b-container-child">'),"SHOP_ITEM"===p?(L.length?n(L,v,w):I.length&&a(I,v,w),w.push("<li>"),i(k,v,w),w.push("<br>"+h(t.campaign_item)),w.push("</li>")):(w.push("<li>"),L.length&&n(L,v,w),i(k,v,w),w.push("</li>")),t.isFreeShipping&&w.push("<li><p><em>"+t.shippingFeeMessage+"</em></p></li>"),w.push("</ul>"),w.push("</div>"),w.push('<div class="b-content-body" id="variant-area">'),w.push('<dl class=b-dl-vertical"">'),_.keys(D).length>2?$.each(D,(function(t,e){return w.push('<div class="b-control-group b-dropdown">'),w.push('<dl class="b-dl-horizontal">'),w.push('<dt><label class="b-control-label b-left" id="'+_.escape(t)+'" for="'+_.escape(t)+'">'),w.push(""+_.escape(t)),w.push("</label></dt><dd>"),w.push('<select id="variant-dropdown" name="variant-dropdown" class="b-input-large js-chosen" >'),w.push('<option value="0">'+I18n.t("common.shipping.please_select")+"</option>"),$.each(e,(function(t,e){return w.push('<option value="'+e+'">'),w.push(""+_.escape(t)),w.push("</option>")})),w.push("</select></dd>"),w.push("</dl>"),w.push("</div>")})):(w.push('<dl class="b-dl-vertical">'),$.each(D,(function(t,e){return w.push("<dt>"+_.escape(t)+"</dt>"),w.push("<dd>"),w.push('<ul class="b-radio-btns">'),$.each(e,(function(t,e){return w.push("<li>"),w.push('<input type="radio" value="" id='+e+" name="+e.split("-").slice(0,-1).join("-")+">"),w.push('<label class="b-btn b-btn-type-c" for='+e+">"),w.push(""+_.escape(t)),w.push("</label>"),w.push("</li>")})),w.push("</ul>"),w.push("</dd>")})),w.push("</dl>")),m?(t.isInventoryHidden||w.push('<span class="b-text-sub display-inventory-details"></span>'),w.push('<span class="b-text-sub display-purchase-quantity-limit"></span>'),w.push("</div></div></div>"),"search_to_cart"===d&&t.isAlcoholTag&&w.push(o()),w.push("</div>"),w.push('<div class="b-modal-footer b-btns b-deny">'),"search_to_cart"===d?(w.push('<button type="button" id="popup-add-to-cart" class="b-btn b-btn-type-a b-btn-emph itemcart" '+(t.isAlcoholTag?"disabled=''":void 0)+">"+I18n.t("add_to_cart_popup.add_to_cart")+"</button>"),w.push('<div class="b-mod-bubble-small b-mod-bubble-bottom b-hide">'),w.push('<div class="b-content search_cartmessage">'+I18n.t("add_to_cart_popup.cart_message")+"</div>"),w.push("</div></div>")):"add_to_bundle"===d&&w.push(r())):(w.push('<div class="b-text-sub">'),w.push('<p><span class="b-annotation b-annotation-emph">'+I18n.t("add_to_cart_popup.sold_out")+"</span>"+I18n.t("add_to_cart_popup.sold_out_message")+"</p>"),w.push("</div>"),w.push("</div></div></div></div>"),w.push('<div class="b-modal-footer">'),"search_to_cart"===d?w.push('<button type="button" class="b-btn b-btn-type-a b-btn-emph" disabled="disabled">'+I18n.t("add_to_cart_popup.add_to_cart")+"</button>"):"add_to_bundle"===d&&w.push('<button type="button" class="b-btn b-btn-type-a b-btn-emph" disabled="disabled">'+I18n.t("flexible_bundle_campaign.add")+"</button>"),w.push("</div>")),w.push("</form>"),w.push("</div>"),w},o=function(){return"<hr><p>"+I18n.t("alcohol_agreement.message")+"</p><div class='b-control-group'><label class='b-checkbox'><input type='checkbox'>"+I18n.t("alcohol_agreement.condition_muslim")+"</label><label class='b-checkbox'><input type='checkbox'>"+I18n.t("alcohol_agreement.condition_age")+"</label></div>"},c=function(t){var e;return e=[_.min(t),_.max(t)],(e=$.map(_.uniq(e),(function(t){var e;for(t=t.toFixed(MallConf.currency_precision).replace(".",MallConf.separator);t!==(e=t.replace(/^([+-]?\d+)(\d{3})/,"$1"+MallConf.delimiter+"$2"));)t=e;return t}))).join(" - ")},d=function(t){return null!=t&&null!=t.parameters&&null!=t.parameters.isPrivate&&!0===t.parameters.isPrivate},p=function(t){if(null!=t&&d(t))return 0===parseInt(t.discount.value,10)},h=function(t){var e;if(null!=t){var a=new Date(t.liveEndTime),n=new Date(a.setMinutes(a.getMinutes()+MallConf.utc_difference));return e=v(n),p(t)?I18n.t("privatesale_zero_discount_until",{end_date:e}):"FIXED_PRICE"===t.discount.discountType?I18n.t("on_sale_until",{end_date:e}):I18n.t("timesale_discount_until",{rate:t.discount.value,end_date:e})}},v=function(t){var e=t.getDate(),a=t.getMonth()+1,n=t.getFullYear(),i=t.getHours(),s=t.getMinutes();return b(e)+"/"+b(a)+"/"+n+" "+b(i)+":"+b(s)},b=function(t){return t<10?"0"+t:t},r=function(){return'<button type="button" class="b-btn b-btn-type-a b-btn-emph itemcart">'+I18n.t("flexible_bundle_campaign.add")+'</button><div class="b-mod-bubble-small b-mod-bubble-bottom b-hide"><div class="b-content search_cartmessage">'+I18n.t("flexible_bundle_campaign.add_to_bundle_popup.bundle_message")+"</div></div></div>"},a=function(t,a,n){n.push('<del class="b-text-disabled">'),e(a,n),n.push('<span id="original-price">'),n.push(c(t)),n.push("</span>"),s(a,n),n.push("</del>")},n=function(t,a,n){n.push('<del class="b-text-disabled" id="list-price-box">'),e(a,n),n.push('<span id="list-price">'),n.push(c(t)),n.push("</span>"),s(a,n),n.push("</del>")},i=function(t,a,n){return n.push('<p class="b-text-xlarge">'),n.push("<em>"),e(a,n),n.push('<span class="b-text-xxlarge b-text-prime" id="price">'),n.push(c(t)),n.push("</span>"),s(a,n),n.push("</em>"),n.push("</p>")},e=function(t,e){if("pre"===MallConf.currency_unit_position)return e.push(t+" ")},s=function(t,e){if("suf"===MallConf.currency_unit_position)return e.push(" "+t)},t}(),a=function(){function t(t,e,a){this.variantId=t,this.variantinfo=e,this.inventoryinfo=null!=a?a:{quantity:{unlimited:!1,value:0}},this.variantDetails=[],this.variantPath=e.variantValues.join("_")}return t.prototype.priceInfo=function(){if(null!=this.variantinfo)return $("#original-price").length>0?{price:parseFloat(this.variantinfo.price),originalPrice:parseFloat(this.variantinfo.originalPrice),currencyCode:this.variantinfo.currencyCode}:{price:parseFloat(this.variantinfo.price),listPrice:parseFloat(this.variantinfo.listPrice),currencyCode:this.variantinfo.currencyCode}},t.prototype.inventoryInfo=function(){return void 0!==this.inventoryinfo?{unlimited:this.inventoryinfo.quantity.unlimited,quantity:this.inventoryinfo.quantity.value}:{unlimited:!1,quantity:0}},t.prototype.purchaseLimitInfo=function(){return{purchase_limit:this.variantinfo.purchaseLimit}},t}(),i=function(){function t(t,e,a){this.variantDetailId=t,this.variant=e,this.variantLabel=a}return t}(),r=function(){function t(t,e){this.domId=t,this.axisId=e,this.variantDetails=[]}return t}(),n=function(){function t(t){this.axisId=t,this.variantLabels=[]}return t}(),o=function(){function t(){var t,e,s,o,p,h,v,b,f,m,g,y,I,w,k,L,C,D,x;for(t in I=this,this.variantInfo=u,this.variantAxes={},this.variantLabels={},this.variantDetails={},this.variants={},w=0,s=0,u.axes)s++;for(e in(b=$("#variant-area").find("li > input[type=radio]")).attr("disabled",!0).siblings(b).addClass("b-disabled").parent().addClass("b-disabled"),u.axes)for(o in this.variantAxes[e]=new n(e),w++,m=u.axes[e])if("string"==typeof(v=m[o])){for(p in L=new r(v,e),g=u.labelGroup[v])if(D=g[p],x=u.detailMapping[D],this.variants[x]||(this.inventoryInfo=window.inventoryInfo,l&&l[x]?this.variants[x]=new a(x,u.info[x],l[x]):this.variants[x]=new a(x,u.info[x])),k=new i(D,this.variants[x],L),this.variantDetails[D]=k,this.variants[x].variantDetails.push(k),L.variantDetails.push(k),0!==this.variants[x].inventoryInfo().quantity||!1!==this.variants[x].inventoryInfo().unlimited)for(h=0,f=(y=I.variants[x].variantDetails).length;h<f;h++)C=y[h],I.clean(C.variantLabel.domId);this.variantLabels[v]=L,this.variantAxes[e].variantLabels.push(L),this.disableDropdowns(1),$("select[name=variant-dropdown]").on("change",(function(e){var a,n,i,s,r,l,u,p,h,v,b,f,m,g,y,w,k,D,P,A,M,T,E,S,q,G,F=$("select[name=variant-dropdown]").index(this);if(I.resetDropDownAndValues(parseInt(F)+1),e.currentTarget.value===c)return I.disableOutOfStockItemsInDropdown(),I.disableDropdowns(parseInt(F)+1),I.cleanDisplayedInventoryPurchaseLimitInfo(),void I.updatePrices(Object.keys(I.variants));T=I.dropdownValues(),I.disableOutOfStockItemsInDropdown(),I.disableDropdowns(parseInt(F)+2);var O=[];for(T.forEach((function(t){O.push(t.split("-")[2])})),E=[],f=0,l=T.length;f<l;f++)for(r=T[f],(G=[]).push(function(){var t,e,a,n;for(n=[],e=0,t=(a=I.variantLabels[r].variantDetails).length;e<t;e++)C=a[e],n.push(C.variant.variantId);return n}()),m=0,u=G.length;m<u;m++)for(s=[],y=0,p=(q=G[m]).length;y<p;y++)x=q[y],0===I.variants[x].inventoryInfo().quantity&&!1===I.variants[x].inventoryInfo().unlimited||(s.push(x),E.push(s));if(I.selectedDropdownsCount()===$("select[name=variant-dropdown]").length?(a=_.reduce(E,(function(t,e){var a,n,i,s;for(s=[],i=0,n=t.length;i<n;i++)a=t[i],d.call(e,a)>=0&&s.push(a);return s})),I.updateInventories(a),I.updatePrices(a)):I.cleanDisplayedInventoryPurchaseLimitInfo(),E.length>=0){for(a=_.reduce(E,(function(t,e){var a,n,i,s;for(s=[],i=0,n=t.length;i<n;i++)a=t[i],d.call(e,a)>=0&&s.push(a);return s})),n=a.map((function(t){return I.variants[t]})),D={},A=[],w=0,h=E.length;w<h;w++){for(k=0,v=(q=E[w]).length;k<v;k++)for(x=q[k],M=0,b=(P=I.variants[x].variantDetails).length;M<b;M++)C=P[M],S=_.find(n,(function(t){return _.find(t.variantDetails,(function(t){return t.variantLabel.domId===C.variantLabel.domId}))})),S&&(D[C.variantLabel.domId]=!0);A.push(function(){var e,a;for(o in a=[],e=_.omit(I.variantAxes,O))t=e[o],a.push(function(){var e,a,n,s;for(n=[],s=0,e=(a=t.variantLabels).length;s<e;s++)(L=a[s]).domId in D?n.push(void 0):n.push(function(){var t,e,a,n;for(a=[],n=0,t=(e=$("select[name=variant-dropdown]")).length;n<t;n++)i=e[n],a.push(function(){var t,e,a;for(e=[],a=0,t=i.length;a<t;a++)(g=i[a]).value===L.domId?e.push(g.disabled=!0):e.push(void 0);return e}());return a}());return n}());return a}())}return A}I.updatePrices(Object.keys(I.variants))})),$(".b-checkbox").on("click",(function(){return $("input[type=checkbox]").length===$("input[type=checkbox]:checked").length?$("#popup-add-to-cart").removeAttr("disabled"):$("#popup-add-to-cart").attr("disabled","")})),$("#"+v).on("click",(function(e){if(!$(this).parent().hasClass("b-disabled")){var a,n,i,r,o,l,u,c,p,h,v,b,f,m,g,y,k,D,P,A,M,T,E,S,q;a=e.currentTarget.id.split("-")[2],i=$(this),T=[];for(var G=$("#variant-area").find("li.b-checked > input:radio:checked"),F=0;F<G.length;F++)T.push(G[F]);var O=[],j=[];if(T.forEach((function(t){t.id==e.currentTarget.id?O.push(t):j.push(t)})),!O.length)return I.cleanAll(a),j.length&&$(j[0]).siblings("label").first().click(),I.updatePrices(Object.keys(I.variants)),$("input[name='variant_id']").val(""),$(".b-modal div.b-btns").addClass("b-deny");for(E=[],v=0,o=T.length;v<o;v++)for(f=T[v],(q=[]).push(function(){var t,e,a,n;for(n=[],e=0,t=(a=I.variantLabels[f.id].variantDetails).length;e<t;e++)C=a[e],n.push(C.variant.variantId);return n}()),b=0,l=q.length;b<l;b++)for(r=[],m=0,u=(S=q[b]).length;m<u;m++)x=S[m],0===I.variants[x].inventoryInfo().quantity&&!1===I.variants[x].inventoryInfo().unlimited||(r.push(x),E.push(r));if(I.cleanAll(a),T.length>1||1===s&&1===T.length?(n=_.reduce(E,(function(t,e){var a,n,i,s;for(s=[],i=0,n=t.length;i<n;i++)a=t[i],d.call(e,a)>=0&&s.push(a);return s})),I.updateInventories(n)):I.cleanDisplayedInventoryPurchaseLimitInfo(),E.length>0&&(n=_.reduce(E,(function(t,e){var a,n,i,s;for(s=[],i=0,n=t.length;i<n;i++)a=t[i],d.call(e,a)>=0&&s.push(a);return s})),I.updatePrices(n),w>1)){for(k={},g=0,c=E.length;g<c;g++)for(y=0,p=(S=E[g]).length;y<p;y++)for(x=S[y],M=0,h=(D=I.variants[x].variantDetails).length;M<h;M++)C=D[M],k[C.variantLabel.domId]=!0;for(F in I.variantLabels[i.attr("id")].axisId,A=[],P=_.omit(I.variantAxes,[a]))t=P[F],A.push(function(){var e,a,n,i;for(n=[],i=0,e=(a=t.variantLabels).length;i<e;i++)(L=a[i]).domId in k?n.push(void 0):n.push($("#"+L.domId).attr("disabled",!0).siblings("label[for='"+L.domId+"']").addClass("b-disabled").parent().addClass("b-disabled"));return $(j[0]).parent().addClass("b-checked"),n}());return A}}}))}$("div.b-dropdown").length>0&&I.disableOutOfStockItemsInDropdown()}return t.prototype.disableOutOfStockItemsInDropdown=function(){var t,e,a,n,i,s,r,o,l,u,c,d,p,h,v,b,f,m,g,y,I,w,k,L,C,D,x,P,A,M,T,E,S,q;for(o=[],s=0,l=(D=$("select[name=variant-dropdown]")).length;s<l;s++)for(m=0,u=(e=D[s]).length;m<u;m++)"0"!==(y=e[m]).value&&o.push(y.value);for(I=[],n=[],g=0,c=o.length;g<c;g++)for(r=o[g],k=0,d=(x=this.variantLabels[r].variantDetails).length;k<d;k++)0===(S=x[k]).variant.inventoryInfo().quantity&&!1===S.variant.inventoryInfo().unlimited?_.contains(I,S.variant.variantId)||I.push(S.variant.variantId):_.contains(n,S.variant.variantId)||n.push(S.variant.variantId);for(w=[],i=[],L=0,p=I.length;L<p;L++)for(a=I[L],C=0,h=(P=this.variants[a].variantDetails).length;C<h;C++)S=P[C],_.contains(w,S.variantLabel.domId)||w.push(S.variantLabel.domId);for(T=0,v=n.length;T<v;T++)for(a=n[T],E=0,b=(A=this.variants[a].variantDetails).length;E<b;E++)S=A[E],_.contains(i,S.variantLabel.domId)||i.push(S.variantLabel.domId);for(M=[],q=0,f=(t=_.difference(w,i)).length;q<f;q++)r=t[q],M.push(function(){var t,a,n,i;for(n=[],i=0,t=(a=$("select[name=variant-dropdown]")).length;i<t;i++)e=a[i],n.push(function(){var t,a,n;for(a=[],n=0,t=e.length;n<t;n++)(y=e[n]).value===r?a.push(y.disabled=!0):a.push(void 0);return a}());return n}());return M},t.prototype.disableDropdowns=function(t){for(var e=$("select[name=variant-dropdown]"),a=0;a<e.length;a++)a<t?$(e[a]).prop("disabled",!1):$(e[a]).prop("disabled",!0)},t.prototype.resetDropDownAndValues=function(t){var e,a,n,i,s,r;for(a=void 0===t?0:t,n=(r=$("select[name=variant-dropdown]")).length;a<n;a++)for((e=r[a]).selectedIndex=0,s=0,i=e.length;s<i;s++)e[s].disabled=!1;return $(".b-modal div.b-btns").addClass("b-deny")},t.prototype.autoAupdatedRepeatedDropdowns=function(t){var e,a,n,i,s,r;for(r=[],a=0,n=(s=$("select[name=variant-dropdown]")).length;a<n;a++)e=s[a],r.push(function(){var a,n,s;for(s=[],n=0,a=e.length;n<a;n++)(i=e[n]).value===t?s.push(e.selectedIndex=i.index):s.push(void 0);return s}());return r},t.prototype.selectedDropdownsCount=function(){var t,e,a,n;for(n=0,t=0,e=(a=$("select[name=variant-dropdown]")).length;t<e;t++)"0"!==a[t].value&&n++;return n},t.prototype.dropdownValues=function(){var t,e,a,n,i;for(i=[],e=0,a=(n=$("select[name=variant-dropdown]")).length;e<a;e++)"0"!==(t=n[e]).value&&i.push(t.value);return i},t.prototype.updatePrices=function(t){var e,a,n,i,s,r,o;return r=function(){var e,a,n;for(n=[],e=0,a=t.length;e<a;e++)o=t[e],n.push(this.variants[o].priceInfo());return n}.call(this),a=(s=_.map(["listPrice","price","originalPrice","points","currencyCode"],(function(t){var e,a,n,i;for(i=[],a=0,n=r.length;a<n;a++)null!=(e=r[a])&&null!=e[t]&&"undefined"!==e[t]?i.push(e[t]):i.push(void 0);return i})))[0],i=s[1],n=s[2],s[3],e=s[4],$("#original-price").length>0?this.formatListPrice("original-price",e[0],n):this.formatListPrice("list-price",e[0],a),this.formatPrice("price",i)},t.prototype.formatListPrice=function(t,e,a){var n,i,s,r,o,l,u,c,d,p;for(p=[],n=i=0,u=a.length;0<=u?i<u:i>u;n=0<=u?++i:--i)isNaN(a[n])||p.push(a[n]);if(p.length<1)d=I18n.t("no_list_price"),$("#list-price-box").hide();else{for($("#list-price-box").show(),l=o=p[0],r=0,s=(c=p.slice(1)).length;r<s;r++)(n=c[r])<l&&(l=n),o<n&&(o=n);d=this.addFigure(l.toFixed(MallConf.currency_precision).replace(".",MallConf.separator)),l!==o&&(d+=" - "+this.addFigure(o.toFixed(MallConf.currency_precision).replace(".",MallConf.separator)))}return $("#"+t).html(d)},t.prototype.formatPrice=function(t,e){var a,n,i,s,r,o,l;for(r=s=e[0],n=0,i=(o=e.slice(1)).length;n<i;n++)(a=o[n])<r&&(r=a),s<a&&(s=a);return isNaN(r)?l=I18n.t("no_list_price"):(l=""+this.addFigure(r.toFixed(MallConf.currency_precision).replace(".",MallConf.separator)),r!==s&&(l+=" - "+this.addFigure(s.toFixed(MallConf.currency_precision).replace(".",MallConf.separator)))),$("."+t).val(l),$("#"+t).html(l)},t.prototype.updateInventories=function(t){var e,a,n,i,s,r,o;return s=function(){var e,a,n;for(n=[],e=0,a=t.length;e<a;e++)o=t[e],n.push(this.variants[o].inventoryInfo());return n}.call(this),r=function(){var e,a,n;for(n=[],e=0,a=t.length;e<a;e++)o=t[e],n.push(this.variants[o].purchaseLimitInfo());return n}.call(this),$("input[name=variant_path]").val(this.variants[o].variantPath),$("input[name=variant_id]").val(o),i=(n=_.map(["unlimited","quantity"],(function(t){var e,a,n,i;for(i=[],a=0,n=s.length;a<n;a++)e=s[a],i.push(e[t]);return i})))[0],a=n[1],e=_.map(["purchase_limit"],(function(t){var e,a,n,i;for(i=[],a=0,n=r.length;a<n;a++)e=r[a],i.push(e[t]);return i}))[0],
this.formatInventory("display-inventory-details",$("<span />").addClass("b-annotation b-annotation-safe"),i,a),this.displayPurchaseLimit(i,a,e),$(".b-modal div.b-btns").removeClass("b-deny")},t.prototype.formatInventory=function(t,e,a,n){var i,s,r;return i=$("."+t),!1===a[0]?(s=n[0],r=I18n.t("item_left",{count:s,formatted_count:this.addFigure(""+s)}),i.html(e.text(r))):i.html("")},t.prototype.displayPurchaseLimit=function(t,e,a){var n;return n=$("span.display-purchase-quantity-limit"),this.switchPurchaseLimitLocation(),$("span.display-inventory-details").html()&&a[0]>e[0]||void 0===a[0]?n.html(""):n.html(I18n.t("limit_quantity_per_order",{purchase_limit_value:a[0],scope:"shop"}))},t.prototype.switchPurchaseLimitLocation=function(){var t;return t=$("span.display-purchase-quantity-limit"),$("span.display-inventory-details").html()?t.addClass("b-pd"):t.removeClass("b-pd")},t.prototype.cleanAll=function(t){var e,a,n,i,s,o,l,c;for(e in s=[],this.variantAxes)s.push(function(){var s,d;for(a in d=[],s=u.axes[e])i=s[a],new r(i,e),d.push(function(){var e,a;for(n in a=[],e=u.labelGroup[i])l=e[n],c=u.detailMapping[l],0!==this.variants[c].inventoryInfo().quantity||!1!==this.variants[c].inventoryInfo().unlimited?a.push(function(){var e,a,n,i;for(i=[],e=0,a=(n=this.variants[c].variantDetails).length;e<a;e++)o=n[e],t!==o.variantLabel.axisId&&i.push(this.clean(o.variantLabel.domId));return i}.call(this)):a.push(void 0);return a}.call(this));return d}.call(this));return s},t.prototype.clean=function(t){return $("#"+t).removeAttr("disabled").siblings("label[for='"+t+"']").removeClass("b-disabled").parent().removeClass("b-disabled").removeClass("b-checked"),$("input[name='variant_path']").val(""),$("input[name='variant_id']").val(""),$(".b-modal div.b-btns").addClass("b-deny")},t.prototype.cleanDisplayedInventoryPurchaseLimitInfo=function(){return $("span.display-inventory-details").html(""),$("span.display-purchase-quantity-limit").html("")},t.prototype.addFigureToFloatString=function(t){var e;return e=t.split("."),this.addFigure(e[0]),e.join(".")},t.prototype.addFigure=function(t){var e,a;for((a=t.split(MallConf.separator))[0]=new String(a[0]).replace(/,/g,"");(e=a[0].replace(/^(-?\d+)(\d{3})/,"$1"+MallConf.delimiter+"$2"))!==a[0];)a[0]=e;return a.join(MallConf.separator)},t.prototype.singleOptionSelect=function(){return $("ul.b-radio-btns").each((function(t,e){var a,n,i;if(1===(a=$(e).children("li")).length&&(a.addClass("b-single_variant"),n=a),null!=n)return n.addClass("b-checked"),n.children("input").attr("checked",!0),i=n.children("label"),$("#"+i.attr("for")).click().change()}))},t}(),e=function(){function t(){var t,e;this.preload={},this.mainImage=$(".item-main-image"),t=this,(e=$(".item-thumnails").find("img")).each((function(){var e,a;return a=new Image,e=$(this),t.preload[e.attr("src")]=a,a.width=200,a.height=200,a.src=e.attr("src")})),e.on("mouseover",(function(){var e,a;return e=$(this),$(this).parent("a").addClass("b-active"),a=e.attr("src"),t.preload[a]&&t.mainImage.html(t.preload[a]),!1})),e.on("mouseout",(function(){return $("a.b-active").removeClass("b-active")})),e.on("click",(function(){return!1}))}return t}(),window.GEPMALL=window.GEPMALL||{},GEPMALL.VariantItemPopup=s,GEPMALL.ItemImageSelector=e,GEPMALL.VariantManager=o,GEPMALL.AgreementManager=t}.call(this);</script>
</body>
</html>
