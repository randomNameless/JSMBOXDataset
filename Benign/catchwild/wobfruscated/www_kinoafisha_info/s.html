<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>s.html</title>
</head>
<body>
<script>(()=>{var __webpack_modules__={847:(e,t,s)=>{"use strict";s.d(t,{P:()=>n});let n={GETPATH:e=>`https://cdn.advertronic.io/b/${e}.json`,GEOHEADER:"Content-Geo",LANG:"ru",CONSOLE:"advertronic_console=1",BIDDERSTIMEOUT:600,SLOT_VIEW:"banner",SLOT_SUBVIEW:"",SLOT_FILL:"observer",SLOT_FILL_BOTTOM:"0px",BANNERTIMEOUT:1e4,VERSION:"2.15.0",EVENTS:{SYSTEM:{BOOKLET:{LOAD:"advertronic_systemBooklet_onload"},VOX:{EMPTY:"advertronic_inImage_empty"},INLAB:{EMPTY:"advertronic_inImage_empty"},ASTRALAB:{EMPTY:"advertronic_inImage_empty"}},SLOTS:{BEFOREADD:"advertronic_slotsBeforeAdd"},SLOT:{ADD:"advertronic_slotAdd",CHANGESTATE:"advertronic_slotChangeState",CLOSE:"advertronic_slotClose",EXTERNAL:"advertronic_slotExternal"},BANNERS:{BEFOREADD:"advertronic_bannersBeforeAdd"},BANNER:{CHANGESTATE:"advertronic_bannerChangeState"}}};const i={GETPATH:()=>new URLSearchParams(location.search).get("advertronic_path")||"/frontend/src/json/advertronic/example.json",LANG:new URLSearchParams(location.search).get("advertronic_geo")||"ru",BIDDERSTIMEOUT:1e4};n=-1===location.search.indexOf("advertronic_dev=1")?n:Object.assign(n,i)},768:()=>{document.head.insertAdjacentHTML("afterbegin","\n    <style>\n        advertronic-slot{\n            display:flex;\n            width:100%;\n            align-items: center;\n            justify-content: center;\n        }\n        \n        advertronic-slot-container{\n            display:flex; \n            align-self: stretch; \n            width: 100%; \n            align-items: center; \n            justify-content: center;\n        }\n    </style>")},285:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var n=function(e){var t,s=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))},n=function(){(document.addEventListener||"load"===event.type||"complete"===document.readyState)&&(s(),i())},i=function(){t||(t=!0,e())};if("interactive"===document.readyState||"complete"===document.readyState)i();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var r=!1;try{r=null==window.frameElement&&document.documentElement}catch(e){}r&&r.doScroll&&function e(){if(!t){try{r.doScroll("left")}catch(t){return setTimeout(e,50)}s(),i()}}()}}},416:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>MyPubConsole});var _PubConsole_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(82);const MyPubConsole=class extends _PubConsole_js__WEBPACK_IMPORTED_MODULE_0__.V{constructor(e,t){super(t),this.codes=e}message(code,data){const codeData=this.codes.get(code),message="<p>"+(codeData?eval("`"+codeData.message+"`"):code)+"</p>",type=codeData?.type||"default";return super.message(message,type)}}},82:(e,t,s)=>{"use strict";s.d(t,{V:()=>r}),s(847);class n extends HTMLElement{connectedCallback(){this.shadow=this.attachShadow({mode:"closed"}),this.shadow.innerHTML=`\n            <style>\n                :host{\n                    --background-color: #eff2f7;\n                    --color: #000;\n                    --border-color: #fff;\n                    position: fixed;\n                    z-index: 9999999999;\n                    right: 5px;\n                    bottom: 0px;\n                    display: flex;\n                    flex-direction:column;\n                    width:calc(100% - 10px);\n                    max-width: calc(1000px - 10px);\n                    height:400px;\n                    max-height: 50vh;\n                    box-sizing: border-box;\n                    border-radius: 8px 8px 0 0;\n                    box-shadow: 0 0 4px 0 rgba(77,85,103,.32), 0 0 6px 0 rgba(77,85,103,.55);\n                    color: var(--color);\n                    background-color: var(--background-color);\n                    outline: 1px solid var(--border-color);\n                }\n                \n                .header{\n                    box-sizing: border-box;\n                    padding: 5px 10px;\n                    display:flex;\n                    justify-content: space-between;\n                    align-items: baseline;\n                }\n                \n                .title{\n                    display:block;\n                    font-size: 20px;\n                    margin: 0;\n                }\n\n                .close{\n                    width:20px;\n                    height:20px;\n                    background-position: 50% 50%;\n                    background-repeat: no-repeat;\n                    background-size:contain;\n                    background-image: url("data:image/svg+xml,%3Csvg width='30' height='30' viewBox='0 0 30 30' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='30' height='30' rx='15' fill='black' fill-opacity='0.3'/%3E%3Cpath d='M20 10L10 20' stroke='white' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M10 10L20 20' stroke='white' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A");\n                    background-color: transparent;\n                    border:none;\n                    cursor: pointer;\n                    z-index:2;\n                }\n                \n                .content {\n                    flex-grow:1;\n                    display:block;\n                    margin: 0 10px;\n                    padding: 10px;\n                    background-color: #fff;\n                    border-radius: 8px 8px 0 0;\n                    overflow:auto;\n                }\n              \n            </style>\n            <header class="header">\n                <h1 class="title">${this.dataset.title}</h1>\n                <div class="controls">\n                    <button class="close" data-close></button>\n                </div>\n            </header>\n            <slot name="content" class="content"></slot>\n        `,this._declare(),this._addEvents()}_declare(){this.closeBtn=this.shadow.querySelector("[data-close]"),this.contentTag=this.shadow.querySelector("[data-content]")}_addEvents(){this.closeBtn.addEventListener("click",this,{once:!0})}handleEvent(){this.parentNode.removeChild(this)}}var i=s(285);const r=class{constructor(e){this.isNeed=function(){const t=e.search;return t&&(-1!==location.search.indexOf(t)||-1!==window.location.hash.indexOf("#!"+t))}(),this.isNeed&&(this._declare(e),this._create())}_declare(e){this.param=e,this.title=this.param.title||"pub-console"}_create(){const e="pub-console";customElements.get(e)||customElements.define(e,n),this.consoleTag=document.createElement("pub-console"),this.consoleTag.dataset.title=this.title,this.contentTag=document.createElement("DIV"),this.contentTag.setAttribute("slot","content"),this.consoleTag.append(this.contentTag),(0,i.C)((()=>{document.body.append(this.consoleTag)}))}_show(){}message(e,t,s){this.isNeed&&e&&this.contentTag.insertAdjacentHTML("beforeend",`${e}`)}destroy(){this.isDestroy||(this.isDestroy=!0)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__webpack_require__),s.exports}__webpack_require__.d=(e,t)=>{for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{slots:()=>Fe,vars:()=>n,watchBannersState:()=>f,watchBannersStateCancel:()=>y,watchSlotState:()=>b,watchSlotStateCancel:()=>v}),__webpack_require__(768);var t=__webpack_require__(847);const s={breakpoints:{},biddingSettings:{},device:void 0,systems:{adfox:{},adlook:{},booklet:{},google:{},otclick:{},viqeo:{},native:{},vox:{},inlab:{},astralab:{},placeholder:{},yandexInImage:{}},isConsole:-1!==location.search.indexOf(t.P.CONSOLE)},n={get:function(e){return s[e]},set:function(e,t){s[e]=t}},i=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},r=function(e,...t){if(!t.length||!i(e))return e;const s=t.shift();return i(s)&&Object.keys(s).forEach((t=>{i(s[t])?(i(e[t])||(e[t]={}),r(e[t],s[t])):Object.assign(e,{[t]:s[t]})})),r(e,...t)},o={yandexInImage:{isDisabledTimeout:!0},vox:{isDisabledTimeout:!0},astralab:{isDisabledTimeout:!0},inlab:{isDisabledTimeout:!0}},a=function(e,t){try{return o[e][t]}catch(e){return}};var c=__webpack_require__(416);const d=new Map([[0,{category:"version111",message:'version: "${data.version}"'}],[12,{category:"response",message:"Missing language in response"}],[13,{category:"response",message:'content-geo:"${data.lang}"'}],[21,{category:"methods",message:"Method ${data.name} does not exist"}],[31,{category:"response",message:'content-geo:"${data.lang}"'}],[41,{category:"banner",message:"Баннер ${data.bannerType} не поддерживает вид слота ${data.slotView} и показан не будет"}],[50,{category:"banner",message:"Банер грузится более установленного времени"}],[51,{category:"banner",message:'slotName:"${data.slotName}", bannerId: "${data.bannerId}", bannerType: "${data.bannerType}", timeoutValue: "${data.timeoutValue}", timeoutOrigin: "${data.timeoutOrigin}", state: ${data.state}, reason:${data.reason}, isPlaceholder: ${data.isPlaceholder}'}],[6e3,{category:"bidders",message:"bidders to slotName ${data.code}"}]]),l=new c.W(d,{search:t.P.CONSOLE,title:"Advertronic"});function h(e,t,s){s=s||window;var n=!1,i=function(){n||(n=!0,requestAnimationFrame((function(){t(),n=!1})))};return s.addEventListener(e,i),{tag:s,eName:e,func:i}}let u,p,m;const g=function(){let e="desktop";for(let t in p){let s=p[t];if(window.matchMedia(`(max-width: ${s}px)`).matches){e=t;break}}return e};var _=__webpack_require__(285);function b(e,s){const n=Fe;let i="string"==typeof e?n.getBySelector(e):e;const r=function(e){e.addEventListener(t.P.EVENTS.SLOT.CHANGESTATE,s)},o=function(t){const s=t.args.tag,a=t.args.slot;s.matches(e)&&(n.removeListener("BEFOREADD",o),i=a,r(s))};return i?(r(i.tag),i.changeState()):n.addListener("BEFOREADD",o),i}function v(e,s){e.tag.removeEventListener(t.P.EVENTS.SLOT.CHANGESTATE,s),delete e.onChangeState}function f(e,s){let n="string"==typeof e?Fe.getBySelector(e):e;const i=function(e){e.addEventListener(t.P.EVENTS.BANNER.CHANGESTATE,r)},r=function(e){e.args.slot=n,e.args.callback=r,s(e)},o=function(e){v(e.args.slot,o),n=e.args.slot,i(n.tag)};if(n){i(n.tag);const t=n.getCurrentBanner();t?t.changeState():b(e,o)}else b(e,o);return{isSlotExist:n}}function y(e){const s=e.args;s.slot.tag.removeEventListener(t.P.EVENTS.BANNER.CHANGESTATE,s.callback)}const T=[{attrs:{src:"https://yandex.ru/ads/system/header-bidding.js"},isDefer:!1}];let E="siteGlobalBidders";const w=class{constructor(){this.isConnection=!1}_systemConnection(e){this.loadScripts(e),this.isConnection=!0}loadScripts(e){const t=document.createDocumentFragment(),s=function(e){const t=Array.from(document.scripts);return e.filter((e=>{const s=e.attrs.src.split("//")[1]||e.attrs.src;return!t.find((function(e){const t=e.getAttribute("src");return t&&-1!==t.indexOf(s)}))}))}(e);s.forEach((e=>{const s=e.attrs,n=document.createElement("SCRIPT");for(let e in s)n.setAttribute(e,s[e]);e.isDefer&&(n.async=!1),t.append(n)})),document.head.append(t)}addBidders(e){throw new Error("Should be implemented")}},S=class extends w{constructor(){super()}connect(e,t=T){this.isConnection||(this._resetHB(),this._addHbCallbacks(),this._addSettings(e),this._systemConnection(t))}_resetHB(){}_addHbCallbacks(){window.Ya||(window.Ya={}),window.Ya.adfoxCode||(window.Ya.adfoxCode={}),window.Ya.adfoxCode.hbCallbacks||(window.Ya.adfoxCode.hbCallbacks=[])}_addSettings(e){if(window.YaHeaderBiddingSettings){const t=Object.assign(window.YaHeaderBiddingSettings.biddersMap||{},e.biddersMap);window.YaHeaderBiddingSettings.timeout=e.timeout,window.YaHeaderBiddingSettings.biddersMap=t}else window.YaHeaderBiddingSettings=e}addBidders(e){e=Array.isArray(e)?e:[e],window.Ya.adfoxCode.hbCallbacks.push((()=>{window.Ya.headerBidding.pushAdUnits(e)}))}},k=class extends w{constructor(){super()}connect(e,t){this.isConnection||(this._addGlobalVariable(),this._addSettings(e),this._systemConnection(t))}_addGlobalVariable(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]}_addSettings(e){e&&window.pbjs.que.push((function(){window.pbjs.setConfig(e)}))}addBidders(e){e=Array.isArray(e)?e:[e];try{pbjs.que.push((function(){pbjs.addAdUnits(e)}))}catch(e){l.message("Ошибка привязки бидер юнитов к банеру!!!")}}},x=function(e){window[E]=window[E]||{systems:{}};const t=window[E].systems,s={adfox:()=>new S,prebid:()=>new k};return t[e]||(t[e]=s[e]()),t[e]};let L={STORAGENAME:"tronicCommonStorage",GETPATH:e=>`https://cdn.advertronic.io/b/${e}.json`,GEOHEADER:"Content-Geo",LANG:"ru",PLAYER:{NAME:"video_player",PATH:"https://cdn.videotronic.io/js/vendors/videoPlayer.js",TIMEOUT:2e3},CONSOLE:"videotronic_console=1",BIDDERSTIMEOUT:600,SLOT_VIEW:"banner",SLOT_SUBVIEW:"",SLOT_FILL:"observer",SLOT_FILL_BOTTOM:"0px",BANNERTIMEOUT:1e4,VERSION:"1.2.3"};const D={GETPATH:e=>new URLSearchParams(location.search).get("advertronic_path")||"/frontend/src/json/videotronic/default.json",PLAYER:{NAME:"video_player",PATH:"/frontend/src/js/vendors/videoPlayer.js",TIMEOUT:2e3}};L=-1===location.search.indexOf("videotronic_dev=1")?L:Object.assign(L,D);const C=[{bidder:"sape",pixels:["https://acint.net/cmatch/?dp=14&pi=1647228"]},{bidder:"ohmybid",pixels:["https://match.ohmy.bid/cm?site_id=11"]},{bidder:"UMG",pixels:["https://a.utraff.com/sync?ssp=3152"]}],I=(e,t,s)=>{t&&t[s]&&!function(e){try{return!!window[E].systems[e]}catch(e){return!1}}(s)?{adfox:A,prebid:O}[s](t):(e&&(e.syncPixels=C),x("adfox").connect(e))},A=function(e){const t="adfox",s=e[t],n=s.isPrebid;n&&I(!1,e,"prebid");const i=s.YaHeaderBiddingSettings;i.timeout=i.timeout||L.BIDDERSTIMEOUT,i.adUnits=[],i.syncPixels=C,n&&(i.pbjs=window.pbjs),x(t).connect(i,[{attrs:{src:"https://yandex.ru/ads/system/header-bidding.js"}}])},O=function(e){const t="prebid",s=e[t],n=s.setConfig;n.timeout=n.timeout||L.BIDDERSTIMEOUT;const i=[{attrs:{src:`https://cdn.advertronic.io/b/${s.file}`}}];x(t).connect(n,i)},B=I;let N=!1;const R=[{src:"https://yandex.ru/ads/system/context.js",async:""}],M=function(e){N||(B(n.get("biddingSettings"),n.get("bidderAllJsonData"),"adfox"),function(){window.yaContextCb=window.yaContextCb||[];const e=document.createDocumentFragment();R.forEach((t=>{const s=document.createElement("SCRIPT");for(let e in t)s.setAttribute(e,t[e]);e.appendChild(s)})),document.head.appendChild(e)}(),N=!0),e()};let P=!1;const H=[{src:"//securepubads.g.doubleclick.net/tag/js/gpt.js",async:""}],V=function(e,t){P||(B(!1,n.get("bidderAllJsonData"),"prebid"),function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];const e=document.createDocumentFragment();H.forEach((t=>{const s=document.createElement("SCRIPT");for(let e in t)s.setAttribute(e,t[e]);e.appendChild(s)})),document.head.appendChild(e)}(),P=!0),e()},j=function(e,t,s){var n=window,i=n.document,r=i.createElement("script");if(s&&(r.id=s),r.language="javascript",r.type="text/javascript",r.charset="utf-8",r.async=1,r.src=e,n.ActiveXObject){var o=!1;r.onload=r.onreadystatechange=function(){o||this.readyState&&"complete"!==this.readyState&&("loaded"!==this.readyState||null==this.nextSibling)||(o=!0,t&&t(),r.onload=r.onreadystatechange=null)}}else r.onload=t;return(e=i.getElementsByTagName("script")[0]).parentNode.insertBefore(r,e),r};let q=!1;const U=function(e){q||(window._MT_jsLoadDelayed||(window._MT_jsLoadDelayed=j),q=!0),e()};let Y=!1;const W=[{src:"https://cdn.viqeo.tv/js/vq_starter.js",async:""}],G=function(e){Y||(function(){const e=document.createDocumentFragment();W.forEach((t=>{const s=document.createElement("SCRIPT");for(let e in t)s.setAttribute(e,t[e]);e.appendChild(s)})),document.head.appendChild(e)}(),Y=!0),e()};let $=!1;const F=[{src:"https://cdn.advertronic.io/js/vendors/videoPlayer.js",global:"videoPlayer"},{src:"https://cdn.advertronic.io/js/vendors/media-booklet.js",element:"media-booklet"}],z=F.length;let K=0;const J=function(e){"ready"!==$?(document.addEventListener(t.P.EVENTS.SYSTEM.BOOKLET.LOAD,e,{once:!0}),$||($="loaded",B(n.get("biddingSettings"),n.get("bidderAllJsonData"),"adfox"),F.forEach((async e=>{e.global&&window[e.global]||e.element&&customElements.get(e.element)||await import(e.src),++K===z&&($="ready",document.dispatchEvent(new CustomEvent(t.P.EVENTS.SYSTEM.BOOKLET.LOAD)))})))):e()};let X=!1;const Q=[{src:"https://cdn.adlook.me/js/vbf.js",defer:""}],Z=function(e){X||(function(){const e=document.createDocumentFragment();Q.forEach((t=>{const s=document.createElement("SCRIPT");for(let e in t)s.setAttribute(e,t[e]);e.appendChild(s)})),document.head.appendChild(e)}(),X=!0),e()};let ee=!!window._tx;const te=function(e,t){var s;ee||((s=document.createElement("script")).type="text/javascript",s.async=!0,s.src="https://st.hbrd.io/ssp.js?t="+(new Date).getTime(),(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(s),window._tx=window._tx||{},window._tx.cmds=window._tx.cmds||[],ee=!0),e()};let se=!1;const ne=function(e){se||(window._MT_jsLoadDelayed||(window._MT_jsLoadDelayed=j),se=!0),e()};let ie=!1;const re=[{src:"//cdn.al-adtech.com/ssp/sdk.js",async:""}],oe=function(e,t){ie||(function(){const e=document.createDocumentFragment();re.forEach((t=>{const s=document.createElement("SCRIPT");for(let e in t)s.setAttribute(e,t[e]);e.appendChild(s)})),document.head.appendChild(e)}(),ie=!0),e()},ae=class{constructor(e){this._declare(e),this._prepare(),this._display()}_declare(e){this.tag=e[0].tag,this.slotTag=e[0].slotTag,this.bannerId="advertronic-banner-"+Math.floor((new Date).getTime()+Math.random()*10**10),this.slotTag.setAttribute("id",this.bannerId),this.slotView=e[0].slotView,this.slotName=e[0].slotName,this.bannerType=e[0].bannerType,this.bannerData=this._updateBannersData(e[0].bannerData),this.isAdUnits=!!this.bannerData.adUnits,this.devices=e[0].devices,this.callbacks={onSuccess:e[0].onSuccess,onLoad:e[0].onLoad,onStub:e[0].onStub,onError:e[0].onError},this.isDestroy=!1,this.isNeedReset=!1,this.isRefresh=this.bannerData.refresh,this.external}_prepare(){}_checkView(){return!0}_reset(){}_display(){throw new Error("Should be implemented")}reload(){}_updateBannersData(e){return JSON.parse(JSON.stringify(e))}checkCanReset(){return!this.isDestroy&&!!this.isNeedReset&&(this.isNeedReset=!1,!0)}checkCanReload(){return!this.isDestroy}checkCanDisplay(){return!this.isDestroy&&(this._checkView()?(this._reset(),this.isNeedReset=!0,!0):(l.message(41,{bannerType:this.bannerType,slotView:this.slotView}),setTimeout((()=>{this.callbacks.onError()})),!1))}checkCanDestroy(){return!this.isDestroy&&(this.isDestroy=!0,this._reset(),!0)}_onRender(e={}){this.isDestroy||this.callbacks.onSuccess(e)}_onLoad(){this.isDestroy||(this._checkLoad()?this.callbacks.onLoad():this._onError("\x3c!-- empty --\x3e"))}_checkLoad(){return!0}_onStub(){this.isDestroy||(l.message(51,{slotName:this.slotName,bannerId:this.bannerId,bannerType:this.bannerType,state:"onStub"}),this.callbacks.onStub())}_onError(e=""){this.isDestroy||(l.message(51,{slotName:this.slotName,bannerId:this.bannerId,bannerType:this.bannerType,state:"onError",reason:e}),this.callbacks.onError())}destroy(){return!this.isDestroy&&(this.isDestroy=!0,this._reset(),!0)}},ce=function(e){const t=document.createElement("SCRIPT");t.src=e,document.body.append(t)},de={adriver:{runScripts:function(){ce("https://content.adriver.ru/AdRiverFPS.js")},updateParams:function(e){const t=e.params;t.additional=t.additional||{},t.additional.ext=t.additional.ext||{},t.additional.ext.query="custom=10=42&cid="+localStorage.getItem("adrcid")},inUse:void 0},adfox_yandex_LayerCV:{runScripts:function(){window.saluteAdSdk||(window.saluteAdSdk={}),window.saluteAdSdk.disableInterception=!0,ce("//cdn-app.sberdevices.ru/misc/0.0.0/assets/ad-sdk/ad-category-recognition.js")},updateParams:function(e){e.params,e.customDomain="ads-hb.sberdevices.ru/hb/prod/api/v0"},inUse:void 0},videonow:{updateParams:function(e){const t=e.params;t.additional=t.additional||{},t.additional.stableid=localStorage.getItem("videonow-stableid")},inUse:void 0},myTarget:{runScripts:function(){ce("https://ad.mail.ru/static/sync-loader.js")},updateParams:function(e){const t=e.params;t.sendTargetRef=!0,t.additional=t.additional||{},t.additional.fpid=window.rb_sync?window.rb_sync.id:"",function(){const e="placementId",s=t[e],n=de.myTarget._placements;let i=n[s];i=i?++i:1,n[s]=i,t[e]=s+"."+i}()},_placements:{},inUse:void 0}},le=function(e){e&&e.forEach((e=>{const t=e.bidder,s=de[t];s&&(s.inUse||(s.runScripts&&s.runScripts(),s.inUse=!0),s.updateParams(e))}))};class he{constructor(e){this.banner=e,this.bannerData=e.bannerData,this._updateCode(),this._updateAdUnits()&&this._addBidders()}_updateCode(){const e=this.banner,t=e.bannerData.code;t.containerId=e.bannerId,t.onLoad=e._onRender.bind(e),t.onRender=e._onLoad.bind(e),t.onError=e._onError.bind(e),t.onStub=e._onStub.bind(e)}_updateAdUnits(){const e=this.bannerData.adUnits;return!(!e||!Object.keys(e).length||(e.code=this.banner.bannerId,le(e.bids),0))}_addBidders(){const e=this.bannerData.adUnits;try{window.siteGlobalBidders.systems.adfox.addBidders(e)}catch(e){l.message("Биддеры не привязались")}}}const ue=class extends ae{constructor(){super(arguments)}_prepare(){new he(this)}_display(){const e=this.bannerData.code;"fullscreen"===this.slotView&&(e.type=this.slotView);const t=["phone","tablet","desktop"],s=n.get("breakpoints"),i=(()=>{const e={};return Object.keys(s).forEach(((t,n)=>{e[t+"Width"]=s[t]})),e})();window.yaContextCb.push((()=>{this.isDestroy||(this.external=Ya.adfoxCode.createAdaptive(e,t,i))}))}_checkLoad(){const e=this.slotTag,t=e.childNodes;if(e.firstElementChild||!t.length)return!0;for(let e of t)if(8===e.nodeType&&-1!==e.nodeValue.indexOf("empty"))return!1;return!0}reload(){try{window.Ya.adfoxCode.reload(this.bannerId)}catch(e){}}destroy(){if(super.checkCanDestroy())try{window.Ya.adfoxCode.destroy(this.bannerId)}catch(e){}}};class pe{constructor(e){this.banner=e,this.bannerData=e.bannerData,this._updateAdUnits()&&this._addBidders()}_updateAdUnits(){const e=this.bannerData.adUnits;return!(!e||!Object.keys(e).length)}_addBidders(){const e=this.bannerData.adUnits;try{window.siteGlobalBidders.systems.prebid.addBidders(e)}catch(e){l.message("Биддеры не привязались")}}}class me{constructor(e){this.banner=e,this.bannerData=e.bannerData}_refreshBid(){const e=this.bannerData.code.codeId;pbjs.que.push((()=>{pbjs.requestBids({timeout:600,adUnitCodes:[e],bidsBackHandler:()=>{pbjs.setTargetingForGPTAsync([e]),this._refreshNative()}})}))}_refreshNative(){googletag.cmd.push((()=>{googletag.pubads().refresh([this.banner.external])}))}refresh(){this.banner.isAdUnits?this._refreshBid():this._refreshNative()}}const ge=class extends ae{constructor(){super(arguments)}_prepare(){new pe(this),this.refreshHelper=new me(this);const e=this.bannerData.code;let t;this._onSlotRenderEnded=e=>{this.isDestroy||this.external===e.slot&&(t=e.isEmpty,e.isEmpty?this._onError():this._onRender())},this._onSlotLoaded=e=>{this.isDestroy||this.external===e.slot&&this._onLoad()},googletag.cmd.push((()=>{this.external=googletag.defineSlot(e.codeId,e.sizes,this.bannerId).addService(googletag.pubads()),googletag.pubads().disableInitialLoad(),googletag.enableServices(),googletag.pubads().addEventListener("slotRenderEnded",this._onSlotRenderEnded),googletag.pubads().addEventListener("slotOnload",this._onSlotLoaded)}))}_display(){googletag.cmd.push((()=>{googletag.display(this.bannerId),this.refreshHelper.refresh()}))}reload(){this.refreshHelper.refresh()}destroy(){super.checkCanDestroy()&&(googletag.cmd.push((()=>{try{googletag.destroySlots([this.external])}catch(e){}try{googletag.pubads().removeEventListener("slotRenderEnded",this._onSlotRenderEnded)}catch(e){}try{googletag.pubads().removeEventListener("slotOnload",this._onSlotLoaded)}catch(e){}})),delete this.refreshHelper,this.external=void 0)}};class _e{constructor(e){this.banner=e,this.frameCssText="sticker"===this.banner.slotView?"width:177px;":"flex-grow:1;"}create(){const e=document.createElement("DIV");e.classList.add("tgx-vbf"),e.dataset.vbfId=this.banner.bannerData.code.codeId,e.style.cssText=this.frameCssText,this.banner.slotTag.append(e),this.banner.frameTag=e}remove(){this.banner.slotTag.innerHTML="",delete this.banner.frameTag}}class be{constructor(e){this.banner=e}_onStart=()=>{this.banner._onRender(),setTimeout((()=>{this.banner._onLoad()}))};_onEnd=()=>{this.banner._onError()};_onEmpty=()=>{this.banner._onStub()};add(){this.frameTag=this.banner.frameTag,this.frameTag&&(this.frameTag.addEventListener("start",this._onStart,!1),this.frameTag.addEventListener("end",this._onEnd,!1),this.frameTag.addEventListener("empty",this._onEmpty,!1))}remove(){this.frameTag&&(this.frameTag.removeEventListener("start",this._onStart,!1),this.frameTag.removeEventListener("end",this._onEnd,!1),this.frameTag.removeEventListener("empty",this._onEmpty,!1),delete this.frameTag)}}const ve=class extends ae{constructor(){super(arguments)}_prepare(){this.frameHelper=new _e(this),this.eventHelper=new be(this)}_checkView(){return!0}_reset(){super.checkCanReset()&&(this.eventHelper.remove(),this.frameHelper.remove())}reload(){super.checkCanReload()&&this._display()}_display(){if(super.checkCanDisplay()){this.frameHelper.create(),this.eventHelper.add();try{window.Adlook.InBanner.proceed(this.slotTag)}catch(e){}}}destroy(){super.checkCanDestroy()&&(delete this.eventHelper,delete this.frameHelper)}};class fe{constructor(e){this.banner=e,this.bannerData=e.bannerData,this._updateCode(),this._updateAdUnits()&&this._addBidders()}_updateCode(){}_updateAdUnits(){const e=this.bannerData.adUnits;return!(!e||!Object.keys(e).length||(e.code=this.banner.bannerId,le(e.bids),0))}_addBidders(){const e=this.bannerData.adUnits;window.siteGlobalBidders.systems.adfox.addBidders(e)}}const ye=class extends ae{constructor(){super(arguments)}_updateBannersData(e){const t=super._updateBannersData(e),s=t.blocks,n={};n.adfox=e=>(e.adUnits.bids.forEach((e=>{t.adUnits.bids.push(e)})),{name:"YaSDK_for_booklet",format:"YaSDK",settings:{adFoxParameters:{ownerId:e.code.ownerId,containerId:this.bannerId,params:e.code.params}},weight:e.proc||0}),n.google=e=>({name:"IMASDK_for_booklet",format:"IMASDK",weight:e.proc||0,path:"https://pubads.g.doubleclick.net/gampad/ads?iu="+e.code.codeId+"/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator="}),n.native=e=>({name:"Vast_for_booklet",format:"vast",weight:e.proc||0,path:e.code});const i=e=>{e.forEach((function(e,t){Array.isArray(e)?i(e):this[t]=n[e.type](e)}),e)};return i(s),delete t.blocks,t.code.queue=s||[],t}_prepare(){new fe(this)}_display(){this._getContent().then((e=>{if(this.isDestroy)return;if(!e)return void this._onStub();const t=e,s=this.bannerData.code,n=document.createElement("MEDIA-BOOKLET");n.dataset.content=JSON.stringify(t),n.dataset.preroll=JSON.stringify(s),this.slotTag.append(n),this._onRender(),setTimeout((()=>{this._onLoad()}))})).catch((e=>{this._onError()}))}async _getContent(){const e=async e=>{const t=await fetch(e),s=await t.json();return!this.isDestroy&&s},t=this.tag.dataset.content;if(t)return t;const s=this.tag.dataset.fetch;if(s)return await e(s);const n=this.bannerData.content,i=n?.fetch;return i?await e(i):!!n&&t}},Te=function(e){e.querySelectorAll("script").forEach((function(e){const t=document.createElement("script");e.getAttributeNames().forEach((s=>{t.setAttribute(s,e.getAttribute(s))}));const s=e.getAttribute("src");s?t.src=s:t.text=e.innerHTML,e.parentNode.replaceChild(t,e)}))},Ee=class extends ae{constructor(){super(arguments)}_checkView(){return!0}_display(){super.checkCanDisplay()&&(this.slotTag.innerHTML=this.bannerData.code,Te(this.slotTag),this._onRender(),setTimeout((()=>{this._onLoad()})))}},we=class extends ae{constructor(){super(arguments)}_prepare(){this.frameTag=document.createElement("DIV"),this.frameTagId="_mt_ot_container_"+this.bannerData.code.codeId,this.slotTag.append(this.frameTag)}_display(){this._addId(),this._addObserver(),this._loadScript()}_addObserver(){this.observer=new MutationObserver((e=>{this._deleteId(),this._onRender(),this._onLoad()})),this.observer.observe(this.frameTag,{childList:!0})}_loadScript(){const e=window;var t=e.document;e._mt_rnd=e._mt_rnd||Math.floor(1e6*Math.random()),e._mt_referrer=e._mt_referrer||encodeURIComponent(t.referrer||""),e._mt_location=e._mt_location||(e.parent!==e?encodeURIComponent(t.referrer):encodeURIComponent(t.location.href)),this.script=e._MT_jsLoadDelayed("https://otclick-adv.ru/core/code.js?pid="+this.bannerData.code.codeId+"&rid="+e._mt_rnd+"&rl="+e._mt_referrer+"&ll="+e._mt_location+"&ow="+e.outerWidth+"&oh="+e.outerHeight+"&sw="+e.screen.width+"&sh="+e.screen.height+"&pd="+e.screen.pixelDepth+"&f="+(e.top==e?0:1),this._onLoadScript.bind(this))}_onLoadScript(){}_deleteId(){this.frameTag.removeAttribute("id")}_addId(){this.frameTag.id=this.frameTagId}_onRender(e={}){this._clearObserver(),super._onRender(e)}_clearObserver(){this.observer&&this.observer.disconnect()}reload(){this._reset(),this._display()}_reset(){this._clearObserver(),this._removeScript(),this._clearContainer()}_removeScript(){this.script&&this.script.remove()}_clearContainer(){this.frameTag&&(this.frameTag.innerHTML="")}},Se=class extends ae{constructor(){super(arguments)}_display(){super.checkCanDisplay()&&(this._addHTML(),this._addObserver())}_checkView(){if("sticker"!==this.slotView)return!0}_addObserver(){this.observer=new MutationObserver((e=>{e.some((e=>{if("attributes"===e.type&&"0px"!==this.frameTag.style.paddingBottom)return this._onRender(),this._onLoad(),!0}))})),this.observer.observe(this.frameTag,{attributes:!0})}_addHTML(){const e=`\n                    <div style="width:100%;height:0;position:relative;padding-bottom:0px;" class="viqeo-embed" data-playerId="${this.bannerData.code.codeId}" data-profile="${this.bannerData.code.ownerId}">\n                        <iframe src="https://cdn.viqeo.tv/embed?playerId=${this.bannerData.code.codeId}" width="100%" height="100%" style="position:absolute" frameBorder="0" allowFullScreen></iframe>\n                    </div>`;this.slotTag.insertAdjacentHTML("afterbegin",e),this.frameTag=this.slotTag.querySelector("div")}_onRender(e={}){this._clearObserver(),super._onRender(e)}_clearObserver(){this.observer&&this.observer.disconnect()}_reset(){super.checkCanReset()&&(this._clearObserver(),this._clearContainer())}_clearContainer(){this.frameTag&&(this.frameTag.innerHTML="")}};class ke{constructor(e){this.banner=e}_onStart=()=>{this.banner._onRender(),setTimeout((()=>{this.banner._onLoad()}))};_onEmpty=e=>{console.log("банер vox, event from "+e.detail.system),"vox"===e.detail.system&&this.banner._onStub()};add(){document.addEventListener(t.P.EVENTS.SYSTEM.VOX.EMPTY,this._onEmpty),this._onStart()}remove(){document.removeEventListener(t.P.EVENTS.SYSTEM.VOX.EMPTY,this._onEmpty)}}const xe=class extends ae{constructor(){super(arguments)}_prepare(){this.eventHelper=new ke(this)}_checkView(){if("inImage"===this.slotView)return!0}_reset(){this.eventHelper.remove()}_display(){console.log("Vox display"),super.checkCanDisplay()&&(this.eventHelper.add(),(()=>{const e=this.bannerData.code;window._tx.cmds.push((function(){window._tx.integrateInImage({placeId:e.placeId,imageSelector:e.imageSelector}),window._tx.init()}))})())}reload(){}destroy(){super.checkCanDestroy()}};class Le{constructor(e){this.banner=e,this.pid=this.banner.bannerData.code.codeId}_onStart=()=>{this.banner._onRender(),setTimeout((()=>{this.banner._onLoad()}))};_onEmpty=e=>{console.log(" _onEmpty event",e),"inlab"===e.detail.system&&e.detail.pid===this.pid&&this.banner._onStub()};add(){document.addEventListener(t.P.EVENTS.SYSTEM.INLAB.EMPTY,this._onEmpty),this._onStart()}remove(){document.removeEventListener(t.P.EVENTS.SYSTEM.INLAB.EMPTY,this._onEmpty)}}class De{constructor(e){this.banner=e,this.pid=this.banner.bannerData.code.codeId,this.script=void 0}load(){if(this.script)return;const e=window;var t=e.document;e._mt_rnd=e._mt_rnd||Math.floor(1e6*Math.random()),e._mt_referrer=e._mt_referrer||escape(t.referrer||"");try{e._mt_location=e._mt_location||escape(e.top.location.href)}catch(t){e._mt_location=escape(e.location.href)}this.script=e._MT_jsLoadDelayed("//catsnetwork.ru/core/code.js?pid="+this.pid+"&rid="+e._mt_rnd+"&rl="+e._mt_referrer+"&ll="+e._mt_location+"&ow="+e.outerWidth+"&oh="+e.outerHeight+"&sw="+e.screen.width+"&sh="+e.screen.height+"&pd="+e.screen.pixelDepth)}remove(){this.script&&this.script.remove(),delete this.script}}const Ce=class extends ae{constructor(){super(arguments)}_prepare(){this.eventHelper=new Le(this),this.scriptHelper=new De(this)}_checkView(){if("inImage"===this.slotView)return!0}_reset(){this.scriptHelper.remove(),this.eventHelper.remove()}_display(){super.checkCanDisplay()&&(this.eventHelper.add(),this.scriptHelper.load())}reload(){}destroy(){super.checkCanDestroy()&&(delete this.eventHelper,delete this.scriptHelper)}};class Ie{constructor(e){this.banner=e}_onStart=()=>{this.banner._onRender(),setTimeout((()=>{this.banner._onLoad()}))};_onEmpty=e=>{"astralab"===e.detail.system&&this.banner._onStub()};add(){document.addEventListener(t.P.EVENTS.SYSTEM.ASTRALAB.EMPTY,this._onEmpty),this._onStart()}remove(){document.removeEventListener(t.P.EVENTS.SYSTEM.ASTRALAB.EMPTY,this._onEmpty)}}const Ae=class extends ae{constructor(){super(arguments)}_prepare(){this.eventHelper=new Ie(this)}_checkView(){if("inImage"===this.slotView)return!0}_reset(){this.eventHelper.remove()}_display(){console.log("Astralab display"),super.checkCanDisplay()&&this.eventHelper.add()}reload(){}destroy(){super.checkCanDestroy()}},Oe=class extends ae{constructor(){super(arguments)}_display(){super.checkCanDisplay()&&(this.slotTag.innerHTML=this.bannerData.code,Te(this.slotTag),this._onRender({isPlaceholder:!0}))}},Be=class extends ae{constructor(){super(arguments)}_checkView(){if("inImage"===this.slotView)return!0}_display(){super.checkCanDisplay()&&new class{constructor(e){this.banner=e,this.code=e.bannerData.code,this.tags=Array.from(document.querySelectorAll(this.code.imageSelector)),this.count=this.tags.length,this.count?(this.errCount=0,this.isSuccess=void 0,this._activate()):this.banner.onError()}_activate(){this.tags.forEach((e=>{if("IMG"!==e.tagName&&!(e=e.querySelector("IMG")))return;const t=this.code.placeId,s=`yandex_rtb_${t}-${Math.random().toString(16).slice(2)}`;e.id=s,window.yaContextCb.push((()=>{Ya.Context.AdvManager.render({renderTo:s,blockId:t,type:"inImage",onRender:this._onSuccess,onError:this._onError,altCallback:this._onError})}))}))}_onSuccess=e=>{this.isSuccess||(this.isSuccess=!0,this.banner._onRender())};_onError=e=>{this.isSuccess||++this.errCount===this.count&&this.banner._onError()}}(this)}destroy(){super.checkCanDestroy()}};const Ne=function(e){const t=[];return e.forEach((e=>{t.push(function(e){return e.sort(((e,t)=>{const s=parseInt(e.proc),n=parseInt(t.proc);return function(e,t){let s=.5+Math.random()*(t-1+1);return s=Math.round(s),s}(0,s+n)>n?-1:1}))}(e)[0])})),t},Re=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){}};function Me(e){if(!e)return 0;const t=e.split(":");try{return 24*parseInt(t[0])*60*60*1e3+60*parseInt(t[1])*60*1e3+60*parseInt(t[2])*1e3+1e3*parseInt(t[3])}catch(e){return 0}}const Pe=Object.freeze({Limited:"limited",Empty:"empty"}),He=class{constructor(){}initSlot(){this._commonDeclare(arguments)&&(this._customDeclare(arguments),this.changeState("declared"),this._run())}_commonDeclare(e){if(this.name=e[0],this.tag=e[1],this._addOrdinal(),this.subview=e[2].subview||t.P.SLOT_SUBVIEW,this.devices=e[2].devices,this.view=e[2].view||t.P.SLOT_VIEW,this.changeState("init"),this.limitHelper=new class{constructor(e,t){this.slot=e,this.jsonLimitData=t,this.storageKey="advertronic-slot-limit-"+e.ordinalId,this._isLimited=function(e){const t=e.jsonLimitData;if(!t||!localStorage)return!1;const s=(new Date).getTime(),n=function(e,t){let s;try{s=JSON.parse(localStorage.getItem(e))}catch(e){}return s||(s={value:0,firstTime:t}),s}(e.storageKey,s);return t.time&&Me(t.time)<s-n.firstTime?(n.value=1,n.firstTime=s,n.lastTime=s,Re(e.storageKey,n),!1):n.value>=t.value||!!(n.lastTime&&t.interval&&s-n.lastTime<Me(t.interval))||(++n.value,n.lastTime=s,Re(e.storageKey,n),!1)}(this)}get isLimited(){return this._isLimited}}(this,e[2].limit),!this.limitHelper.isLimited)return this.wrapHelper=new class{constructor(e){this._slot=e,this._slotId="advertronic-banner-"+Math.floor((new Date).getTime()+Math.random()*10**10),this._slotTag=void 0}get slotId(){return this._slotId}get slotTag(){return this._slotTag}clearslotTag(){this._slotTag&&""!==this._slotTag.innerHTML&&(this._slotTag.innerHTML="")}create(e){if("placeholder"===e){if(this._slotTag){if(this._slotTag===this._slot.tag)return;this.destroy()}this._slotTag=this._slot.tag}else{if(this._slotTag)return;this._slotTag=(()=>{try{return this._slot._createWrapper()}catch(e){return this._slot.tag}})()}this._slotTag.setAttribute("id",this._slotId)}remove(){if(this._slotTag){try{this._slot._destroyWrapper()}catch(e){}delete this._slotTag,delete this._slotId}}}(this),this.queue=this._getQueue(e[2].blocks,e[2].content),this.fillValue=e[2].fill||t.P.SLOT_FILL,this.fillBottom=e[2].fillBottom||t.P.SLOT_FILL_BOTTOM,this.banners=new class{constructor(){this._declare()}_declare(){this.banner=void 0}addListener(e,s){document.addEventListener(t.P.EVENTS.BANNERS[e],s)}removeListener(e,s){document.removeEventListener(t.P.EVENTS.BANNERS[e],s)}add(e){this.remove();const s=new class{constructor(){}activate(){this._declare(arguments),this.changeState("activated"),this._addSystem()}_declare(e){this.bannerData=e[0].bannerData,this.type=this.bannerData.type,this.queueIndex=e[0].queueIndex,this.tag=e[0].tag,this.slotId=e[0].slotId,this.slotTag=e[0].slotTag,this.slotView=e[0].slotView,this.slotName=e[0].slotName,this.devices=e[0].devices,this.breakpoints=e[0].breakpoints,this.callbacks={onSuccess:e[0].onSuccess,onLoad:e[0].onLoad,onError:e[0].onError},this.bannerTimeout=this._getTimeout(),this.clearTrackLoadingTime=void 0,this.checkVisibilityReturned=void 0,this.banner=void 0,this.isReloading=!1}_getTimeout(){let e,s;return a([this.type],"isDisabledTimeout")?(e=!1,s="settings"):this.bannerData.timeout?(e=this.bannerData.timeout,s="banner"):a([this.type],"bannerTimeout")?(e=a([this.type],"bannerTimeout"),s="system"):n.get("systems")[this.type].bannerTimeout?(e=n.get("systems")[this.type].bannerTimeout,s="system"):(e=t.P.BANNERTIMEOUT,s="default"),{value:e,origin:s}}changeState(e=void 0,s){e&&(this.state=e);let n=new CustomEvent(t.P.EVENTS.BANNER.CHANGESTATE);n.args={state:this.state,banner:this},s&&l.message(s.code,s.data),this.tag.dispatchEvent(n)}_addSystem(){!function(e){const t={adfox:M,yandexInImage:M,google:V,otclick:U,viqeo:G,booklet:J,adlook:Z,vox:te,inlab:ne,astralab:oe};t[e.type]?t[e.type](e.onReady):e.onReady()}({type:this.type,onReady:this.onReadySystem.bind(this)})}onReadySystem(){const e={adfox:ue,google:ge,otclick:we,viqeo:Se,native:Ee,booklet:ye,adlook:ve,vox:xe,inlab:Ce,astralab:Ae,placeholder:Oe,yandexInImage:Be};if(e[this.type]){this._addTrackLoadingTime();const t="launch";this.changeState(t,{code:51,data:{slotName:this.slotName,bannerType:this.type,timeoutValue:this.bannerTimeout.value,timeoutOrigin:this.bannerTimeout.origin,isPlaceholder:"placeholder"===this.type,state:t}}),this.banner=new e[this.type]({tag:this.tag,slotId:this.slotId,slotTag:this.slotTag,slotView:this.slotView,slotName:this.slotName,devices:this.devices,bannerType:this.type,bannerData:this.bannerData,onSuccess:this._onSuccess.bind(this),onLoad:this._onLoad.bind(this),onStub:this._onStub.bind(this),onError:this._onError.bind(this)}),this._addReload()}else this._onError()}_trackLoadingTime(){if(this.bannerTimeout.value)return this.banner,setTimeout((()=>{this._onError()}),this.bannerTimeout.value)}_addTrackLoadingTime(){this._clearTrackLoadingTime(),this.clearTrackLoadingTime=this._trackLoadingTime()}_clearTrackLoadingTime(){try{clearTimeout(this.clearTrackLoadingTime)}catch(e){}this.clearTrackLoadingTime=void 0}_onSuccess(e){if(this.isReloading)return;if(this.isSuccess)return;this.isSuccess=!0,this._clearTrackLoadingTime();const t="success";this.changeState(t,{code:51,data:{slotName:this.slotName,slotId:this.slotId,bannerType:this.type,bannerId:this.banner?.bannerId,timeoutValue:this.bannerTimeout.value,timeoutOrigin:this.bannerTimeout.origin,isPlaceholder:"placeholder"===this.type,state:t}}),this.changeState("success"),this.callbacks.onSuccess(e)}_onLoad(){this.isReloading||(this.changeState("loaded"),this.callbacks.onLoad())}_addReload(){const e=this.bannerData.refresh;if(!e||"viqeo"===this.type||"native"===this.type||"fullscreen"===this.slotView||"placeholder"===this.slotView)return;const t=1e3*e,s=()=>{this.isDestroy||this._reload()};if(!0===this.bannerData.isCheckVisibilityCancel)this.clearReload=setInterval(s,t);else{const e={box:this.slotTag,time:t,callback:s};this.checkVisibilityReturned=function(e){var t,s,n=e.box,i=e.callback||!1,r=!1,o=e.time||3e4,a=e.repeat||"infinite",c=0,d=0,l=0,u=!1,p=function(e){document.hidden||"mouseenter"===e.type?g():m()},m=function(){var e,t,s;t=(e=n.getBoundingClientRect()).top+e.height/2,s=e.left+e.width/2,t>0&&s>0&&t<(window.innerHeight||document.documentElement.clientHeight)&&s<(window.innerWidth||document.documentElement.clientWidth)?r||(l=Date.now(),r=setTimeout((function(){i(),++c,d=0,r=!1,("infinite"===a||a>c)&&m()}),o-d)):g()},g=function(){r&&(clearTimeout(r),r=!1,d+=Date.now()-l)},_=function(){u||(t=h("scroll",m),s=h("resize",m),document.addEventListener("visibilitychange",p,!1),n.addEventListener("mouseenter",p,!1),n.addEventListener("mouseleave",p,!1),document.hidden||m())};return"complete"===document.readyState?_():window.addEventListener("load",_,{once:!0}),{clear:function(){u||(u=!0,clearTimeout(r),t&&t.tag.removeEventListener(t.eName,t.func),s&&s.tag.removeEventListener(s.eName,s.func),document.removeEventListener("visibilitychange",p,!1),n.removeEventListener("mouseenter",p,!1),n.removeEventListener("mouseleave",p,!1),window.removeEventListener("load",_,{once:!0}))}}}(e)}}_reload(){this.isReloading=!0,this.banner.reload()}_onStub(){this._onError()}_onError(){this.changeState("error"),this.callbacks.onError()}destroy(){clearTimeout(this.clearTrackLoadingTime),clearInterval(this.clearReload),this.checkVisibilityReturned&&(this.checkVisibilityReturned.clear(),this.checkVisibilityReturned=void 0),this.banner.destroy(),this.isDestroy=!0}};return this.beforeAdd(e,s),s.activate(e),this.banner=s,s}beforeAdd(e,s){let n=new CustomEvent(t.P.EVENTS.BANNERS.BEFOREADD);n.args={data:e,banner:s},e.tag.dispatchEvent(n)}remove(){this.banner?.destroy(),this.banner=void 0}},this.curBannerIndex=-1,this.rerunHelper=new class{constructor(e,t){this.slot=e,this.restartData=t,this.isRun=!1,this._reset()}clear(){clearTimeout(this.clearTimeout),this.isRun=!1}_reset(){this.curNumber=0,this.clear()}run(){return!(!this.check()||this.isRun||(this.curNumber++,this.isRun=!0,this.clearTimeout=setTimeout((()=>{this.clear(),this.slot._run()}),1e3*this.restartData.time),0))}check(){return!!this.restartData&&this.curNumber<this.restartData.number}}(this,e[2].rerun),this.isAbort=!0,this.isDestroy=!1,!0;this.destroy(Pe.Limited)}_customDeclare(e){}_addOrdinal(){this.ordinalIndex=Fe.getBySelectorAll("[data-name="+this.name+"]").length,this.ordinalId=this.name+"-"+this.ordinalIndex}changeState(e=void 0,s=void 0){e&&(this.state=e);let n=new CustomEvent(t.P.EVENTS.SLOT.CHANGESTATE);n.args={state:this.state,reason:s,slot:this},this.tag.dispatchEvent(n)}_getQueue(e,t){return"booklet"===this.subview?this._getQueueForBooklet(e,t):this._getQueueByPriority(e)}_getQueueForBooklet(e,t){const s=[],n={type:"booklet",adUnits:{codeType:"instream",bids:[]},blocks:e,content:t,code:{queue:void 0,count:1}};return s.push(n),s}_getQueueByPriority(e){return Ne(e)}handleEvent(e){this._rerun()}_run(){this.isDestroy||(this.isAbort||this._abort(),this._fillBy(),this.isAbort=!1)}_fillBy(){"immediately"===this.fillValue?this._fillImmediately():this._fillByObserver()}_fillByScroll(){const e=()=>{pageYOffset>100&&(this._cancelThrottle(this.thScrollObj),this._fillImmediately())};this.thScrollObj=h("scroll",e),e()}_cancelThrottle(e){e&&(e.tag.removeEventListener(e.eName,e.func),e=void 0)}_fillImmediately(){this.changeState("filling"),this.fill()}_fillByObserver(){this.observer=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.disconnect(),this.observer=void 0,this._fillImmediately())}))}),{rootMargin:"0px 0px "+this.fillBottom+" 0px"}),this.observer.observe(this.tag)}_checkDevice(){return-1!==this.devices.indexOf(n.get("device"))}_onSuccessBanner(){}_onLoadBanner(){}_onErrorBanner(){this._destroyBanner(),this.fill()}_onPlaceholderBanner(){}_destroyBanner(){this._cancelThrottle(this.thScrollObj),this.banners?.remove(),this.wrapHelper?.clearslotTag()}fill(){if(this.isDestroy)return;if("filling"!==this.state)return;if(this.banners.banner)return;if(!this._checkDevice())return;++this.curBannerIndex;let e=this.queue[this.curBannerIndex];if(!e)return this.changeState("empty"),void this.destroy();this.wrapHelper.create(e.type),this.banners.add({tag:this.tag,slotTag:this.wrapHelper.slotTag,slotId:this.wrapHelper.slotId,slotView:this.view,slotName:this.name,devices:this.devices,bannerData:e,queueIndex:this.curBannerIndex,onSuccess:this._onSuccessBanner.bind(this),onLoad:this._onLoadBanner.bind(this),onError:this._onErrorBanner.bind(this)})}updateToDevice(){this._checkDevice()?this.fill():this._removeSlotToDevice()}getCurrentBanner(){return this.banners?this.banners.banner:void 0}_abort(){this.isAbort||(this.isAbort=!0,this._destroyBanner(),this.wrapHelper?.remove(),this.rerunHelper?.clear(),this.curBannerIndex=-1)}_removeSlotToDevice(){this._abort()}_rerun(){this.isDestroy||this.rerunHelper.isRun||(this.rerunHelper.check()?(this._abort(),this.rerunHelper.run()):this.destroy())}destroy(e){this._abort(),delete this.rerunHelper,delete this.wrapHelper,this.isDestroy=!0,this.changeState("destroyed",e)}},Ve=class extends He{constructor(){super()}_createWrapper(){return this.tag.innerHTML="<advertronic-slot-container></advertronic-slot-container>",this.tag.firstElementChild}_destroyWrapper(){}},je=class extends HTMLElement{connectedCallback(){this.stickerStyle=this.getAttribute("data-style"),this._addShadow(),this.closeBtnHelper=new class{constructor(e){this.sticker=e,this.closeWrapperTag=e.shadow.querySelector("sticker-closeWrapper"),this.closeTag=this.closeWrapperTag.querySelector("sticker-close"),this.closeTextTimerTag=this.closeWrapperTag.querySelector("sticker-close-timer"),this.closeTag.addEventListener("click",this,{once:!0}),this.stickerCloseDelay=parseInt(e.dataset.closeDelay)}handleEvent(e){this.sticker.onCloseClickBtn()}activate(){this.closeWrapperTag.style.display="flex",this.stickerCloseDelay>0?(this._updateStickerTimerText(this.stickerCloseDelay),this.closeTextTimerTag.style.display="block",this.stickerCloseDelayTimer=setInterval((()=>{this._closeTimerTick()}),1e3)):this._showCloseButton()}_closeTimerTick(){if(this.stickerCloseDelay--,0===this.stickerCloseDelay)return this._clearStickerInterval(),void this._showCloseButton();this._updateStickerTimerText(this.stickerCloseDelay)}_clearStickerInterval(){clearInterval(this.stickerCloseDelayTimer)}_updateStickerTimerText(e){this.closeTextTimerTag.textContent=e}_showCloseButton(){this.closeTextTimerTag.remove(),this.closeTag.style.display="block"}destroy(){this._clearStickerInterval(),this.closeTag.removeEventListener("click",this,{once:!0})}}(this)}static get observedAttributes(){return["data-state"]}attributeChangedCallback(e,t,s){"data-state"===e&&"active"===s&&(this.style.border="2px solid #D2D6DF",this.closeBtnHelper.activate())}disconnectedCallback(){this.closeBtnHelper.destroy(),delete this.closeBtnHelper}onCloseClickBtn(){this.dispatchEvent(new CustomEvent(t.P.EVENTS.SLOT.CLOSE))}_addShadow(){this.shadow=this.attachShadow({mode:"closed"}),this.shadow.innerHTML=(this.stickerStyle&&`<style>${this.stickerStyle}</style>`)+'\n    <style>\n        :host {\n            position:fixed; \n            left: var(--advertronic-sticker-left, 0px);  \n            right: var(--advertronic-sticker-right, 0px);  \n            top: var(--advertronic-sticker-top, auto); \n            bottom: var(--advertronic-sticker-bottom, 0px); \n            display:block; \n            width:var(--advertronic-sticker-width, auto); \n            height:var(--advertronic-sticker-height, auto); \n            z-index: 99999998;  \n            background-color: #ffffff;\n        }\n        \n        .wrapper { \n            display:flex;\n            box-sizing:border-box;\n            width:100%;\n            height:auto;\n            max-height: var(--advertronic-sticker-max-height, 100px);\n            overflow: hidden;\n            align-items: center;\n            justify-content: center;\n        }\n        \n        [data-state=active]{\n            border: 2px solid #D2D6DF; \n        }\n    </style>\n    \n    <slot class="wrapper"></slot>\n    <sticker-closeWrapper style="position:absolute;z-index: 99999999;top:-23px;right:15px;width:48px;height:23px;display:none;align-items:center;justify-content:center;text-align:center;background-image: url(\'data:image/svg+xml,%3Csvg width=&quot;48&quot; height=&quot;23&quot; viewBox=&quot;0 0 48 23&quot; fill=&quot;none&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;%3E%3Cpath d=&quot;M4.63486 5.23305C5.43894 2.15074 8.22271 0 11.4082 0H36.5918C39.7773 0 42.5611 2.15073 43.3651 5.23305L48 23H0L4.63486 5.23305Z&quot; fill=&quot;%23D2D6DF&quot;/%3E%3C/svg%3E\');user-select:none;">\n        <sticker-close-timer style="font-size:17px;color: rgb(89, 93, 101);display: none;"></sticker-close-timer>\n        <sticker-close style="display: none;flex-grow:1;cursor: pointer;font-size:16px;">\n            <svg width="10" height="11" viewBox="0 0 10 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M1.62818 0.779338C1.25573 0.406888 0.651868 0.406888 0.279418 0.779338C-0.0930318 1.15179 -0.0930318 1.75565 0.279418 2.1281L8.37198 10.2207C8.74443 10.5931 9.34829 10.5931 9.72074 10.2207C10.0932 9.84821 10.0932 9.24435 9.72074 8.8719L1.62818 0.779338Z" fill="#595D65"/>\n                <path d="M8.37178 0.779337C8.74423 0.406887 9.34809 0.406888 9.72054 0.779337C10.093 1.15179 10.093 1.75565 9.72054 2.1281L1.62798 10.2207C1.25553 10.5931 0.651666 10.5931 0.279216 10.2207C-0.0932344 9.84821 -0.0932348 9.24435 0.279216 8.8719L8.37178 0.779337Z" fill="#595D65"/>\n            </svg>\n        </sticker-close>\n    </sticker-closeWrapper>\n    \n    \n    \n'}},qe=class extends He{constructor(){super()}_customDeclare(e){this.stickerCloseDelay=parseInt(e[2].stickerCloseDelay)||0,this.stickerStyle=e[2].stickerStyle||""}_createWrapper(){const e="advertronic-sticker";customElements.get(e)||customElements.define(e,je);const s=`\n            <advertronic-sticker data-close-delay="${this.stickerCloseDelay}" data-style="${this.stickerStyle}">\n                <sticker-slot></sticker-slot>\n            </advertronic-sticker>\n        `;return document.body.insertAdjacentHTML("beforeend",s),this.stickerTag=document.body.lastElementChild,this.stickerTag.addEventListener(t.P.EVENTS.SLOT.CLOSE,this,{once:!0}),this.stickerTag.querySelector("sticker-slot")}_fillBy(){this._fillByScroll()}_onLoadBanner(){this.stickerTag.dataset.state="active"}_destroyWrapper(){this.stickerTag.removeEventListener(t.P.EVENTS.SLOT.CLOSE,this,{once:!0}),this.stickerTag.remove(),this.stickerTag=void 0}_showCloseButton(){this.closeTextTimerTag.remove(),this.closeTag.style.display="block"}_closeTimerTick(){if(this.stickerCloseDelay--,0===this.stickerCloseDelay)return this._clearStickerInterval(),void this._showCloseButton();this._updateStickerTimerText(this.stickerCloseDelay)}_clearStickerInterval(){clearInterval(this.stickerCloseDelayTimer)}_updateStickerTimerText(e){this.closeTextTimerTag.textContent=e}};class Ue extends HTMLElement{connectedCallback(){this.shadow=this.attachShadow({mode:"closed"}),this.shadow.innerHTML="\n            <style>\n                :host{\n                    position: fixed;\n                    z-index: 9000;\n                    right:var(--advertronic-notice-right, 2px);\n                    bottom: var(--advertronic-notice-bottom, 2px);\n                    max-width:calc(100% - var(--advertronic-notice-right, 2px));\n                    max-height:270px;\n                    box-sizing: border-box;\n                    display:flex;\n                    align-items: center;\n                    justify-content: center;\n                    visibility: hidden;\n                }\n                \n                :host(.advertronicNotice-active){\n                    visibility: visible;\n                }\n                \n                .frame{\n                    margin: 0;\n                    /*box-shadow: 0 0 15px 1px #6c6c6c;*/\n                    transform: translateY(calc(100% + var(--advertronic-notice-bottom)));\n                    transition: transform .15s ease-in-out;\n                    border-radius: 4px;\n                }\n                \n                :host(.advertronicNotice-active) .frame {\n                    transform: translateY(0);\n                }\n                \n                .close{\n                    position:absolute;\n                    right:var(--advertronic-notice-close-right, 5px);\n                    top:var(--advertronic-notice-close-top, 5px);\n                    width:var(--advertronic-notice-close-size, 20px);\n                    height:var(--advertronic-notice-close-size, 20px);\n                    background-position: 50% 50%;\n                    background-repeat: no-repeat;\n                    background-size:contain;\n                    background-image: var(--advertronic-notice-close-bg-image, url(\"data:image/svg+xml,%3Csvg width='30' height='30' viewBox='0 0 30 30' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='30' height='30' rx='15' fill='black' fill-opacity='0.3'/%3E%3Cpath d='M20 10L10 20' stroke='white' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M10 10L20 20' stroke='white' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A\"));\n                    cursor: pointer;\n                    z-index:2;\n                }\n                \n                @media (hover:hover){\n                    @keyframes close {\n                        0% {\n                            transform: scale(1);\n                        }\n\n                        50% {\n                            transform: scale(1.3);\n                        }\n\n                        100% {\n                            transform: scale(1);\n                        }\n                    }\n\n                    .close:hover {\n                        animation: 0.5s ease-in-out close;\n                    }\n                }\n            </style>\n            <div class=\"frame\">\n                <div class=\"content\">\n                    <slot name=\"slot\"></slot>\n                </div>\n                <div class=\"close\"></div>\n            </div>\n        ",this._addEvents()}_addEvents(){this.shadow.addEventListener("click",this,{once:!0})}handleEvent(){let e=new CustomEvent(t.P.EVENTS.SLOT.CLOSE);this.dispatchEvent(e)}}const Ye=class extends He{constructor(){super()}_createWrapper(){const e="advertronic-notice";return customElements.get(e)||customElements.define(e,Ue),document.body.insertAdjacentHTML("beforeend",'\n            <advertronic-notice>\n                <advertronic-notice-slot slot="slot"></advertronic-notice-slot>\n            </advertronic-notice>\n        '),this.noticeTag=document.body.lastElementChild,this.noticeTag.addEventListener(t.P.EVENTS.SLOT.CLOSE,this,{once:!0}),this.noticeTag.addEventListener(t.P.EVENTS.SLOT.EXTERNAL,this),this.noticeTag.querySelector("advertronic-notice-slot")}_fillBy(){this._fillByScroll()}_onLoadBanner(){this.noticeTag.classList.add("advertronicNotice-active")}_destroyWrapper(){this.noticeTag.removeEventListener(t.P.EVENTS.SLOT.CLOSE,this),this.noticeTag.removeEventListener(t.P.EVENTS.SLOT.EXTERNAL,this),this.noticeTag.remove(),this.noticeTag=void 0}addPopupCssText(e){this.noticeTag.style.cssText=e}handleEvent(e){e.type===t.P.EVENTS.SLOT.CLOSE?this.destroy():e.type===t.P.EVENTS.SLOT.EXTERNAL&&(e.stopPropagation(),this.tag.dispatchEvent(new CustomEvent(t.P.EVENTS.SLOT.EXTERNAL,{bubbles:!0,composed:!0,detail:{targetEvent:e,slot:this}})))}},We=class extends He{constructor(){super()}_createWrapper(){return this.tag}_destroyWrapper(){}},Ge=class extends He{constructor(){super()}_createWrapper(){return this.tag}_destroyWrapper(){}},$e=class extends He{constructor(){super()}},Fe={items:[],addListener:function(e,s){document.addEventListener(t.P.EVENTS.SLOTS[e],s)},removeListener:function(e,s){document.removeEventListener(t.P.EVENTS.SLOTS[e],s)},add:function(e,t,s){if(this.reload(t))return;this.prepare(t);const n=this.getNewSlot(s);return this.beforeAdd(e,t,s,n),n.initSlot(e,t,s),this.items.push(n),n},removeByTag:function(e){const t=this.items,s=t.findIndex((t=>e===t.tag));-1!==s&&(t[s].destroy(),t.splice(s,1))},prepare(e){Fe.getById(e.getAttribute("id"))&&(e.innerHTML="")},reload:function(e){const t=this.getByTag(e);return!!t&&(l.message("Слот уже есть в системе "+t),!1)},getNewSlot(e){const s={sticker:qe,notice:Ye,branding:We,fullscreen:Ge,inImage:$e};if(s[t.P.SLOT_VIEW]=Ve,s[e.view])return new s[e.view]},beforeAdd:function(e,s,n,i){let r=new CustomEvent(t.P.EVENTS.SLOTS.BEFOREADD);r.args={tag:s,slot:i},document.dispatchEvent(r)},getBySelector:function(e){if(e)return this.items.find(((t,s,n)=>t.tag.matches(e)))},getBySelectorAll:function(e){if(!e)return;const t=[];return this.items.forEach(((s,n,i)=>{s.tag.matches(e)&&t.push(s)})),t},getById:function(e){if(e)return this.getBySelector("#"+e)},getByTag:function(e){return this.items.find(((t,s,n)=>t.tag===e))}};{const s=function(){if(window.advertronic&&window.advertronic.isRun)return;window.advertronic=window.advertronic||{cmd:[]};const s=window.advertronic;let i;s.isRun=!0,l.message(0,{version:t.P.VERSION});const a=Fe,c=[];let d=!1,v=!1;const f=function(){a.items.forEach((e=>{e.updateToDevice()}))},y=function(){(0,_.C)((function(){var e,t,s;e=f,p=n.get("breakpoints"),u=g(),n.set("device",u),function(e){const t=()=>{let t=g();u!==t&&(u=t,n.set("device",u),e(u))};m=h("resize",t),m=h("orientationChange",t)}(e),document.querySelectorAll("advertronic-slot").forEach(T),t=T,s=E,MutationObserver&&new MutationObserver((function(e){for(let n of e){for(let e of n.removedNodes)if(e instanceof HTMLElement){e.matches("advertronic-slot")&&s(e);for(let t of e.querySelectorAll("advertronic-slot"))s(t)}for(let e of n.addedNodes)if(e instanceof HTMLElement){e.matches("advertronic-slot")&&t(e);for(let s of e.querySelectorAll("advertronic-slot"))t(s)}}})).observe(document,{childList:!0,subtree:!0})}))},T=function(e){const t=e.getAttribute("data-name"),s=i.banners[t];s?a.add(t,e,s):l.message(31,{name:t})},E=function(e){a.removeByTag(e)},w=function(e){r(o,e)},S={init:function(e){d||v||(v=!0,async function(e){const s=t.P.GETPATH(e.userId),n=await fetch(s),i=await n.json();let r=t.P.LANG;try{r=n.headers.get(t.P.GEOHEADER).toLowerCase()}catch(e){}if(l.message(13,{lang:r}),i[r]&&i.breakpoints)return{langData:i[r],breakpoints:i.breakpoints,systems:i.systems,bannerAllSettings:i.systems};throw new Error("12")}(e).then((s=>{!function(e,s){var r,o;v=!1,function(e={}){n.set("biddingSettings",{biddersMap:e,adUnits:[],timeout:t.P.BIDDERSTIMEOUT})}(s.langData.bidders),(o=s.langData.bidderAll)&&n.set("bidderAllJsonData",o),r=s.breakpoints,n.set("breakpoints",r),function(e){if(!e||"object"!=typeof e)return;const t=n.get("systems");Object.keys(t).forEach((s=>{const n=e[s];n&&"object"==typeof n&&(t[s]=n)}))}(s.systems),w(s.bannerAllSettings),i=s.langData,e.mode&&"auto"!==e.mode||y(),d=!0,c.forEach(k)}(e,s)})).catch((e=>{})))},watchSlotState:b},k=function(t){if("object"==typeof t){for(let e in t)if(t.hasOwnProperty(e)){const s=t[e];if(!S[e])return void l.message(21,{name:e});d||"init"===e?S[e](s):c.push({[e]:s})}}else"function"==typeof t&&(d?t(e):c.push(t))};s.cmd.forEach(k),s.cmd.push=k};s()}})()})();</script>
</body>
</html>
