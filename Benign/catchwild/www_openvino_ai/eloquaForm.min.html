<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eloquaForm.min.html</title>
</head>
<body>

<script>
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};var domReady=function(a){"loading"!=document.readyState?a():document.addEventListener("DOMContentLoaded",a)};"use strict";
var CLASS_NAME_COMPONENT="eloqua-form",CLASS_NAME_FANCY_INPUT="standard-fancy-input",CLASS_NAME_VALIDATION_BLOCK="validation-msg-block",CLASS_NAME_ERR_MSG="error-msg",CLASS_NAME_COUNTRY_BASED_BLOCK="country-based-toggle",CLASS_NAME_COUNTRY_BASED_BLOCK_MATCH=CLASS_NAME_COUNTRY_BASED_BLOCK+"--matched",ID_OPTIN_CONSENT="optinConsent",CLASS_NAME_OPTIN_CONSENT_TEXT="optin-consent-text",CLASS_NAME_LINK_PRIVACY="link-privacy",CLASS_NAME_LINK_COOKIES="link-cookies",ATTR_ELOQUA_FIELD="data-eloqua-field",ATTR_ELOQUA_FORM_INPUT=
'name\x3d"elqFormName"',ATTR_CONDITIONAL_REQUIRED="data-conditional-required",ID_OPTIN_TYPE="optinType",ID_RECAPTCHA_RESPONSE="g-recaptcha-response",ID_LOCALE_CODE="localeCode",ID_EU_COUNTRIES_LIST="euCountryList",ID_OPTIN_COUNTRIES_LIST="optinCountryList",VALUE_OPTIN_TYPE_REGISTRATION="registrationOptin",RECAPTCHA_VERSION="V3",LOCALE_CODE="en_US",POST_API_URL="/libs/apps/intel/eloqua",SESSION_ID_ELOQUA="intelSubmittedForms",ERROR_MSG_DEFAULT={text:"Required fields",select:"Please select a value",
email:"Please enter a valid email",embargoCountry:"Your registration cannot proceed. The materials on this site are subject to U.S. and other applicable export control laws and are not accessible from all locations.",checkbox:"Above consent required for submission"},I18N_PROPERTY={linkPrivacy:"category_forms.optIn.policyNoticeURLHighRisk",linkCookies:"category_forms.optIn.cookiesURLHighRisk",text:"category_forms.optIn.requiredFields",select:"category_forms.optIn.countryError",email:"category_forms.optIn.emailError",
embargoCountry:"category_forms.embargoedmodal.embargoed-error-message",checkbox:"category_myintel_profile.chineseConsent.errorMessageConsent"},EVENT_FORM_SUBMITTED="eloqua.form.submitted",EVENT_FORM_SUBMITTED_SUCCESS="eloqua.form.submitted.success",EVENT_FORM_SUBMITTED_FAILED="eloqua.form.submitted.failed",eloquaFieldChangeTimer,Intel_EloquaForm=function(a){this.form=a;this.eloquaFormName=this.form.querySelector("["+ATTR_ELOQUA_FORM_INPUT+"]").value;this.requiredFields=this.form.querySelectorAll("[required]");
this.conditionalRequiredFields=this.form.querySelectorAll("["+ATTR_CONDITIONAL_REQUIRED+"]");this.eloquaFields=this.form.querySelectorAll("["+ATTR_ELOQUA_FIELD+"]");this.countryField=this.form.querySelector('[data-field-type\x3d"country"]');this.optinType=this.form.querySelector("#"+ID_OPTIN_TYPE);this.submitBtn=this.form.querySelector('[type\x3d"submit"]');this.countryToggleBlocks=this.form.querySelectorAll("."+CLASS_NAME_COUNTRY_BASED_BLOCK);this.embargoCountries="";this.reCaptchaResponseField=
this.form.querySelector("#"+ID_RECAPTCHA_RESPONSE);this.localeField=this.form.querySelector("#"+ID_LOCALE_CODE);this.formStatusSubmitted=!1;this.setPrivacyCookiesOptinLinks();this.setLocaleErrMessages();this.getCountriesProperties();this.initEvents();this.checkSessionSubmittedForms()};
Intel_EloquaForm.prototype.setPrivacyCookiesOptinLinks=function(){var a=this.form.querySelectorAll("."+CLASS_NAME_OPTIN_CONSENT_TEXT);1>a.length||INTEL&&INTEL.I18n&&a.forEach(function(b){var c=b.querySelector("."+CLASS_NAME_LINK_PRIVACY);b=b.querySelector("."+CLASS_NAME_LINK_COOKIES);c&&c.setAttribute("href",INTEL.I18n[I18N_PROPERTY.linkPrivacy]);b&&b.setAttribute("href",INTEL.I18n[I18N_PROPERTY.linkCookies])})};
Intel_EloquaForm.prototype.setLocaleErrMessages=function(){if(INTEL&&INTEL.I18n)for(var a in I18N_PROPERTY){var b=I18N_PROPERTY[a];INTEL.I18n[b]&&ERROR_MSG_DEFAULT[a]&&(ERROR_MSG_DEFAULT[a]=INTEL.I18n[b])}};Intel_EloquaForm.prototype.setToggleCountryProperties=function(a){var b=this.form.querySelector("#"+a);1>b.length||(b=b.value,this[a]=b.trim().split(","))};
Intel_EloquaForm.prototype.getCountriesProperties=function(){var a=this;if(!(1>this.countryToggleBlocks.length||1>this.countryField.length)){var b=[];this.countryToggleBlocks.forEach(function(c){-1==b.indexOf(c.dataset.countries)&&b.push(c.dataset.countries)});b.forEach(function(c){a.setToggleCountryProperties(c)});intel.utility.getEmbargoCountries(function(c){return a.embargoCountries=c})}};
Intel_EloquaForm.prototype.checkSessionSubmittedForms=function(){this.sessionSubmittedForms=JSON.parse(sessionStorage.getItem(SESSION_ID_ELOQUA))||[];-1<this.sessionSubmittedForms.indexOf(this.eloquaFormName)&&this.dispatchFormSubmittedEvent(EVENT_FORM_SUBMITTED_SUCCESS)};
Intel_EloquaForm.prototype.initEvents=function(){var a=this;this.form.addEventListener("submit",function(b){return a.handleFormSubmit(b)});this.requiredFields.forEach(function(b){b.addEventListener("input",function(c){return a.handleFieldChangeTimer(c)})});this.conditionalRequiredFields.forEach(function(b){b.addEventListener("input",function(c){return a.handleFieldChangeTimer(c)})})};
Intel_EloquaForm.prototype.handleFieldChangeTimer=function(a){a.target.getAttribute("id")==this.countryField.getAttribute("id")&&(this.handleCountryBasedToggles(),this.setCountryBasedRequiredFields());if(this.formStatusSubmitted){var b=this;clearTimeout(eloquaFieldChangeTimer);eloquaFieldChangeTimer=setTimeout(function(){b.handleFieldChange(a)},200)}};Intel_EloquaForm.prototype.handleFieldChange=function(a){a=a.target;this.removeFieldError(a);this.checkFieldValidity(a)};
Intel_EloquaForm.prototype.setCountryBasedRequiredFields=function(){var a=this.countryField.value;this.conditionalRequiredFields.forEach(function(b){b.dataset.conditionalValue==a?b.setAttribute("required",!0):b.removeAttribute("required")});this.requiredFields=this.form.querySelectorAll("[required]")};Intel_EloquaForm.prototype.setCountryBlockMatchStatus=function(a,b){var c=a.dataset.countries;this[c]&&(-1==this[c].indexOf(b)?a.classList.remove(CLASS_NAME_COUNTRY_BASED_BLOCK_MATCH):a.classList.add(CLASS_NAME_COUNTRY_BASED_BLOCK_MATCH))};
Intel_EloquaForm.prototype.handleCountryBasedToggles=function(){var a=this.countryField.value,b=this;1>a.length||this.countryToggleBlocks.forEach(function(c){b.setCountryBlockMatchStatus(c,a)})};Intel_EloquaForm.prototype.dispatchFormSubmittedEvent=function(a){document.dispatchEvent(new CustomEvent(a,{detail:{form:this.form,formName:this.formName}}))};Intel_EloquaForm.prototype.getFieldType=function(a){return(a.getAttribute("type")||a.nodeName).toLowerCase()};
Intel_EloquaForm.prototype.getCustomError=function(a,b){return ERROR_MSG_DEFAULT[a]||b};Intel_EloquaForm.prototype.checkFieldValidity=function(a){if(!a.validity.valid){var b=a.getAttribute("type")||a.nodeName;this.createFieldError(a,this.getCustomError(b.toLowerCase(),""))}};
Intel_EloquaForm.prototype.handleFormSubmit=function(a){var b=this;a.preventDefault();var c=this;this.formStatusSubmitted=!0;this.submitBtn.disabled=!0;this.requiredFields.forEach(function(d){b.removeFieldError(d)});this.conditionalRequiredFields.forEach(function(d){b.removeFieldError(d)});(a=this.form.checkValidity())||this.requiredFields.forEach(function(d){b.checkFieldValidity(d)});var e=this.embargoCountryCheck();if(!a||e)return this.submitBtn.disabled=!1,this.form.querySelector('[aria-invalid\x3d"true"]').focus(),
!1;this.dispatchFormSubmittedEvent(EVENT_FORM_SUBMITTED);grecaptcha.execute(INTEL.Settings["reCaptacha.dataSiteKeyV3"],{action:"ELOQUA_FORM_"+c.formName}).then(function(d){c.reCaptchaResponseField.value=d;c.submitFormData(d)})};
Intel_EloquaForm.prototype.submitFormData=function(a){var b=this,c=new FormData;this.eloquaFields=this.form.querySelectorAll("["+ATTR_ELOQUA_FIELD+"]");this.eloquaFields.forEach(function(e){var d=e.getAttribute("name");c.append(d,e.value)});c.append("recaptchaVersion",RECAPTCHA_VERSION);c.append("g-recaptcha-response",a);c.append("localeCode",this.localeField.value);this.setOptinConsentFormData(c);window.intel.getCsrfToken().then(function(e){var d=new Headers;document.cookie.includes("IGHFLoggedIn")&&
d.append("CSRF-Token",e);fetch(POST_API_URL,{method:"POST",body:c,headers:d}).then(function(f){if(!f.ok)throw Error(f.status);return{}}).then(function(f){b.handleFormSuccess()}).catch(function(f){b.dispatchFormSubmittedEvent(EVENT_FORM_SUBMITTED_SUCCESS)})}).catch(function(e){console.error(e)})};
Intel_EloquaForm.prototype.handleFormSuccess=function(){-1===this.sessionSubmittedForms.indexOf(this.eloquaFormName)&&(this.sessionSubmittedForms.push(this.eloquaFormName),sessionStorage.setItem(SESSION_ID_ELOQUA,JSON.stringify(this.sessionSubmittedForms)));this.dispatchFormSubmittedEvent(EVENT_FORM_SUBMITTED_SUCCESS);window.wap_tms&&window.wap_tms.eloqua&&window.wap_tms.eloqua.helpers&&window.wap_tms.eloqua.helpers.regcompleteCallback(this.eloquaFormName)};
Intel_EloquaForm.prototype.setOptinConsentFormData=function(a){var b=this.form.querySelector("#"+ID_OPTIN_CONSENT);b&&-1<this.euCountryList.indexOf(this.countryField.value)&&(a.append("optinUseCase","gatedcontent"),b.checked&&a.append(ID_OPTIN_CONSENT,"Yes"))};
Intel_EloquaForm.prototype.removeFieldError=function(a){var b=a.parentElement,c=b.parentElement;b.classList.remove("has-error");a.classList.remove("invalid");a.setAttribute("aria-invalid",!1);(a=c.querySelector("."+CLASS_NAME_VALIDATION_BLOCK))&&a.remove()};
Intel_EloquaForm.prototype.createFieldError=function(a,b){var c=a.parentElement,e=c.parentElement,d=e.querySelector("."+CLASS_NAME_VALIDATION_BLOCK);d||(d=document.createElement("div"),d.classList.add(CLASS_NAME_VALIDATION_BLOCK),e.appendChild(d));c.classList.add("has-error");a.setAttribute("aria-invalid","true");a.classList.add("invalid");a=document.createElement("div");a.classList.add("validation-msg","error-msg");a.setAttribute("role","alert");c=document.createElement("span");c.classList.add("sr-only");
c.textConten="error";a.append(c,b);d.append(a)};Intel_EloquaForm.prototype.embargoCountryCheck=function(){if(1>this.countryField.length||!this.embargoCountries.includes(this.countryField.value))return!1;this.createFieldError(this.countryField,this.getCustomError("embargoCountry",""));return!0};domReady(function(){var a=document.querySelectorAll("."+CLASS_NAME_COMPONENT);1>a.length||a.forEach(function(b){new Intel_EloquaForm(b)})});
</script>

</body>
</html>
