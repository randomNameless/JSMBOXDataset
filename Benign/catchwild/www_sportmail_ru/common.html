<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>common.html</title>
</head>
<body>

<script>
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(self,(function(){return function(){var t={7994:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},56046:function(t,e,n){var i=n(7994);t.exports=function(t){if(Array.isArray(t))return i(t)}},24620:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},98314:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},29989:function(t,e,n){var i=n(44181),r=n(40903);function o(e,n,s){return r()?t.exports=o=Reflect.construct:t.exports=o=function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o},o.apply(null,arguments)}t.exports=o},93772:function(t){function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}},54036:function(t){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},14361:function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e},54938:function(t,e,n){var i=n(44181);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},74933:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},59817:function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},40903:function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},90748:function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},26294:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},26915:function(t,e,n){var i=n(75903),r=n(24620);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}},44181:function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,i)}t.exports=e},72051:function(t,e,n){var i=n(56046),r=n(90748),o=n(73971),s=n(26294);t.exports=function(t){return i(t)||r(t)||o(t)||s()}},75903:function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e},73971:function(t,e,n){var i=n(7994);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},13122:function(t,e,n){var i=n(14361),r=n(44181),o=n(59817),s=n(29989);function a(e){var n="function"==typeof Map?new Map:void 0;return t.exports=a=function(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return s(t,arguments,i(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r(e,t)},a(e)}t.exports=a},24563:function(t,e){"use strict";e.A={themeName:"media",fontFamilyFallbacks:"Inter, Helvetica, Arial, sans-serif",fontFamilyAccent:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontFamilyBase:"Inter, Helvetica, Arial, sans-serif",fontWeightAccent1:500,fontWeightAccent2:500,fontWeightAccent3:400,fontWeightBase1:700,fontWeightBase2:700,fontWeightBase3:400,fontDisplayTitle1:{regular:{fontSize:23,lineHeight:28,fontFamily:"VKSansDisplay, MailSans, Helvetica, Arial, sans-serif",fontWeight:500}},fontDisplayTitle2:{regular:{fontSize:21,lineHeight:26,fontFamily:"VKSansDisplay, MailSans, Helvetica, Arial, sans-serif",fontWeight:500},compact:{fontSize:22,lineHeight:22,fontFamily:"VKSansDisplay, MailSans, Helvetica, Arial, sans-serif",fontWeight:500}},fontDisplayTitle3:{regular:{fontSize:19,lineHeight:24,fontFamily:"VKSansDisplay, MailSans, Helvetica, Arial, sans-serif",fontWeight:500}},fontDisplayTitle4:{regular:{fontSize:17,lineHeight:24,fontFamily:"VKSansDisplay, MailSans, Helvetica, Arial, sans-serif",fontWeight:500}},fontTitle1:{regular:{fontSize:24,lineHeight:28,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500}},fontTitle2:{regular:{fontSize:20,lineHeight:26,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500}},fontTitle3:{regular:{fontSize:17,lineHeight:22,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500}},fontHeadline1:{regular:{fontSize:16,lineHeight:20,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500},compact:{fontSize:15,lineHeight:20}},fontHeadline2:{regular:{fontSize:15,lineHeight:20,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500},compact:{fontSize:14,lineHeight:20}},fontText:{regular:{fontSize:16,lineHeight:20,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400},compact:{fontSize:15,lineHeight:20}},fontParagraph:{regular:{fontSize:15,lineHeight:20,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400}},fontSubhead:{regular:{fontSize:14,lineHeight:18,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:400},compact:{fontSize:13,lineHeight:18}},fontFootnote:{regular:{fontSize:13,lineHeight:18,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400}},fontFootnoteCaps:{regular:{fontSize:13,lineHeight:18,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"0.3px"}},fontCaption1:{regular:{fontSize:12,lineHeight:16,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400}},fontCaption1Caps:{regular:{fontSize:12,lineHeight:16,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"0.26px"}},fontCaption2:{regular:{fontSize:11,lineHeight:14,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400}},fontCaption2Caps:{regular:{fontSize:11,lineHeight:14,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"0.22px"}},fontCaption3:{regular:{fontSize:9,lineHeight:12,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400}},fontCaption3Caps:{regular:{fontSize:9,lineHeight:12,fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400,textTransform:"uppercase",letterSpacing:"0.16px"}},sizeSelectIconPadding:{compactX:7,compact:7,regular:6},sizePopupBasePadding:{compactX:20,regular:32},sizePopupHeaderPadding:{compactX:16,regular:24},sizeBorderRadius:{regular:8},sizeBorderRadiusRounded:{regular:48},sizeCheckBorderRadius:{regular:4},sizeBorderRadiusPaper:{regular:4},sizeBorderRadiusPromo:{regular:20},sizeFieldHeight:{regular:48},sizeSearchHeight:{regular:36,compact:32},sizeButtonLargeHeight:{regular:48},sizeButtonMediumHeight:{regular:40},sizeButtonSmallHeight:{regular:36},sizeCheckbox:{regular:16},sizeArrow:{regular:8},sizeArrowPromo:{regular:40},sizePopupSmall:{regular:430},sizePopupMedium:{regular:680},sizePopupLarge:{regular:880},sizeFieldHorizontalPadding:{regular:12},sizeButtonPaddingHorizontal:{regular:20},sizeLabelHorizontalMargin:{regular:16},sizeArrowPadding:{regular:12},sizeTooltipMargin:{regular:8},sizeIconUI:{compactX:16,compact:16,regular:18},sizeAvatarXS:{regular:24},sizeAvatarS:{regular:32},sizeAvatarM:{regular:48},sizeAvatarL:{regular:96},sizeAvatarXL:{regular:128},sizeBadgeXS:{regular:12},sizeBadgeS:{regular:16},sizeBadgeM:{regular:24},sizeBadgeL:{regular:44},sizeBadgeXL:{regular:56},sizeCardgridPadding:{regular:12},sizeCardBorderRadius:{regular:16},sizeCardgridPaddingVertical:{regular:8},sizeBasePaddingHorizontal:{regular:16},sizeBasePaddingVertical:{regular:12},sizeButtonGroupGapSpace:{regular:1},sizeButtonGroupGapSmall:{regular:8},sizeButtonGroupGapMedium:{regular:12},sizeOptionHierarchy:{regular:32},sizeSwitchHeight:{regular:14,compact:12},sizeSwitchWidth:{regular:34,compact:32},sizeSwitchPin:{regular:20,compact:18},sizePanelHeaderHeight:{compact:48,regular:56},sizeButtonBaseSmallPaddingHorizontal:{regular:16},sizeButtonBaseMediumPaddingHorizontal:{regular:16},sizeButtonBaseLargePaddingHorizontal:{regular:20},sizeButtonBaseSmallPaddingHorizontalIcon:{regular:12},sizeButtonBaseMediumPaddingHorizontalIcon:{regular:12},sizeButtonBaseLargePaddingHorizontalIcon:{regular:16},sizeButtonTertiarySmallPaddingHorizontal:{regular:12},sizeButtonTertiaryMediumPaddingHorizontal:{regular:12},sizeButtonTertiaryLargePaddingHorizontal:{regular:16},sizeButtonTertiarySmallPaddingHorizontalIcon:{regular:8},sizeButtonTertiaryMediumPaddingHorizontalIcon:{regular:8},sizeButtonTertiaryLargePaddingHorizontalIcon:{regular:12},sizeButtonMinimumWidth:{regular:80},sizeFormItemPaddingVertical:{regular:12},sizeSplitColPaddingHorizontal:{regular:16},sizeSubnavigationBarGap:{regular:8},sizeSubnavigationBarPaddingVertical:{regular:12},sizeBorder1x:{regular:1},sizeBorder2x:{regular:.5},sizeBorder3x:{regular:.33},spacingSize3Xs:2,spacingSize2Xs:2,spacingSizeXs:4,spacingSizeS:6,spacingSizeM:8,spacingSizeL:10,spacingSizeXl:12,spacingSize2Xl:16,spacingSize3Xl:20,spacingSize4Xl:24,elevation1:"0 2px 6px 0 rgba(0, 16, 61, 0.08), 0 1px 2px 0 rgba(0, 16, 61, 0.08)",elevation1InvertY:"0 -2px 6px 0 rgba(0, 16, 61, 0.08), 0 -1px 2px 0 rgba(0, 16, 61, 0.08)",elevation2:"0 0 2px 0 rgba(0, 16, 61, 0.06), 0 0 6px 0 rgba(0, 16, 61, 0.06), 0 6px 12px 0 rgba(0, 16, 61, 0.06)",elevation3:"0 0 6px 0 rgba(0, 16, 61, 0.06), 0 6px 12px 0 rgba(0, 16, 61, 0.06), 0 6px 20px 0 rgba(0, 16, 61, 0.06), 0 10px 36px 0 rgba(0, 16, 61, 0.08)",elevation4:"0 2px 6px 0 rgba(0, 16, 61, 0.06), 0 16px 48px 0 rgba(0, 16, 61, 0.08), 0 24px 68px 0 rgba(0, 16, 61, 0.16)",gradientBlack:"rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.02) 15%, rgba(0, 0, 0, 0.08) 30%, rgba(0, 0, 0, 0.32) 70%, rgba(0, 0, 0, 0.38) 85%, rgba(0, 0, 0, 0.4) 100%",gradientWhite:"rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.05) 15%, rgba(255, 255, 255, 0.2) 30%, rgba(255, 255, 255, 0.8) 70%, rgba(255, 255, 255, 0.95) 85%, rgba(255, 255, 255, 1) 100%",gradientTint:"rgba(246, 247, 248, 0) 0%, rgba(246, 247, 248, 0.05) 15%, rgba(246, 247, 248, 0.2) 30%, rgba(246, 247, 248, 0.8) 70%, rgba(246, 247, 248, 0.95) 85%, rgba(246, 247, 248, 1) 100%",gradient:"rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.05) 15%, rgba(255, 255, 255, 0.2) 30%, rgba(255, 255, 255, 0.8) 70%, rgba(255, 255, 255, 0.95) 85%, rgba(255, 255, 255, 1) 100%",animationDurationL:"0.4s",animationDurationM:"0.2s",animationDurationS:"0.1s",animationEasingDefault:"cubic-bezier(0.3, 0.3, 0.5, 1)",animationEasingPlatform:"cubic-bezier(0.3, 0.3, 0.5, 1)",opacityDisable:.48,opacityDisableAccessibility:.64,zIndexModal:99,zIndexPopout:100,x0:0,x025:1,x05:2,x1:4,x2:8,x3:12,x4:16,x5:20,x6:24,x8:32,x10:40,x12:48,x15:60,x20:80,sizeBase:4,sizeGrid:20,breakpoints:{touch:{adaptiveValue:"regular",breakpoint:0},tablet:{adaptiveValue:"compactX",breakpoint:660},desktopS:{adaptiveValue:"compact",breakpoint:980},desktopM:{adaptiveValue:"large",breakpoint:1300}},fontH0:{regular:{fontSize:28,lineHeight:32,fontFamily:"VKSansDisplay, MailSans, Helvetica, Arial, sans-serif",fontWeight:500},compact:{fontSize:44,lineHeight:52}},fontH1:{regular:{fontSize:36,lineHeight:48,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500},compact:{fontSize:28,lineHeight:36,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500}},fontH2:{regular:{fontSize:28,lineHeight:34,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500},compact:{fontSize:24,lineHeight:32,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500}},sizeArrowHeight:{regular:8},sizeArrowWidth:{regular:12},sizeBasePadding:{compactX:16,regular:20},sizeBorderWidthTab:{regular:2},sizeBorderWidthBar:{regular:4},sizeBorderWidthAccent:{regular:8},sizeBorderWidthAccentSecondary:{regular:4},sizeControlButtonWidthMin:{compactX:130,compact:130,regular:94},sizePromoButtonClose:{regular:32},sizeButtonSliderHeight:{regular:24},sizeButtonSliderWidth:{regular:12},sizeButtonSliderWidthPointer:{regular:16},sizeFieldWidthMin:{compactX:288,regular:380},sizeLabelWidth:{regular:184},sizeProgress:{regular:4},sizeProgressScroll:{regular:12},sizeDotBullet:{regular:4},sizeDotIndicate:{regular:8},sizeDotClickable:{regular:12},sizeVerticalPadding:{regular:0},sizeButtonMorePadding:{regular:8},sizeIconMorePadding:{regular:12},sizeButtonIconPadding:{regular:20},sizeDivPadding:{regular:4},sizeMenuPadding:{regular:8},sizeTagPadding:{regular:8},sizeTabPadding:{compactX:0,compact:0,regular:16},sizeTableHorizontalPadding:{regular:16},sizeTableVerticalPadding:{regular:16},sizeSliceTopPadding:{regular:40},sizeSliceBottomPadding:{regular:60},sizeBaseMargin:{regular:12},sizeLabelVerticalMargin:{regular:4},sizeTipMargin:{regular:4},sizeFieldHorizontalMargin:{compactX:16,compact:16,regular:20},sizeFieldVerticalMargin:{regular:24},sizeFieldSetMargin:{regular:32},sizeIconMargin:{regular:8},sizeChoiceMargin:{regular:8},sizeMenuMargin:{regular:2},sizeTagMargin:{regular:8},sizeTabMargin:{compactX:32,compact:32,regular:8},sizeBulletMargin:{regular:12},sizeAttributeMargin:{regular:4},sizePopupMargin:{compactX:8,compact:8,regular:24},sizeHeaderIcon:{regular:20},sizeWysiwygIcon:{regular:14},sizeIllustrationS:{regular:48},sizeIllustrationXM:{regular:72},sizeIllustrationM:{regular:96},sizeIllustrationL:{regular:144},sizeIllustrationXXL:{regular:228},toneValueOverlay:.48,toneValueViewer:.88,toneValueToolbar:.24,toneValueHover:.04,toneValueActive:.08,toneValueFocus:.08,typeBorderButton:"solid",typeBorderPosition:"inset",themeNameBase:"media",prefix:"vkui",fontFamilyArticle:"Inter, Helvetica, Arial, sans-serif",fontWeightMedia1:700,fontWeightMedia2:600,fontWeightMedia3:500,fontWeightMedia4:400,mediaFontMediaTitle1:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:30,lineHeight:36,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:48,lineHeight:56,letterSpacing:"-0.005em"}},mediaFontMediaTitle1Tiny:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:30,lineHeight:36,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:40,lineHeight:48,letterSpacing:"-0.005em"}},mediaFontMediaTitle2:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:28,lineHeight:34,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:36,lineHeight:44,letterSpacing:"-0.005em"}},mediaFontMediaTitle2Tiny:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:26,lineHeight:32,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:32,lineHeight:40,letterSpacing:"-0.005em"}},mediaFontMediaTitle3:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:26,lineHeight:32,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:32,lineHeight:40,letterSpacing:"-0.005em"}},mediaFontMediaTitle4:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:24,lineHeight:30,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:28,lineHeight:36,letterSpacing:"-0.005em"}},mediaFontMediaTitle5:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:22,lineHeight:28,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:24,lineHeight:32,letterSpacing:"-0.005em"}},mediaFontMediaTitle6:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:20,lineHeight:26,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:22,lineHeight:28,letterSpacing:"-0.005em"}},mediaFontMediaSubtitleLight:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:400,fontSize:20,lineHeight:26}},mediaFontMediaLead:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:18,lineHeight:26,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:24,lineHeight:36,letterSpacing:"-0.005em"}},mediaFontMediaQuote:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:18,lineHeight:26,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500,fontSize:24,lineHeight:36,letterSpacing:"-0.005em"}},mediaFontMediaQuotePerson:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:600,fontSize:18,lineHeight:24,letterSpacing:"-0.005em"},compact:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:600,fontSize:24,lineHeight:32,letterSpacing:"-0.005em"}},mediaFontMediaParagraph:{regular:{fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400,fontSize:16,lineHeight:28,letterSpacing:"0.003em"},compact:{fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:400,fontSize:18,lineHeight:32,letterSpacing:"0.003em"}},mediaFontMediaParagraphSecondary:{regular:{fontWeight:400,fontSize:16,lineHeight:24}},mediaFontMediaParagraphNumbering:{regular:{fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:700,fontSize:16,lineHeight:28,fontStyle:"italic",letterSpacing:"0.003em"},compact:{fontFamily:"Inter, Helvetica, Arial, sans-serif",fontWeight:700,fontSize:18,lineHeight:32,fontStyle:"italic",letterSpacing:"0.003em"}},mediaFontMediaTextSecondaryLight:{regular:{fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:400,fontSize:15,lineHeight:20}},mediaFontMediaCaption:{regular:{fontWeight:400,fontSize:14,lineHeight:22},compact:{fontWeight:400,fontSize:16,lineHeight:26}},mediaFontMediaCaptionCaps:{regular:{fontWeight:400,fontSize:13,lineHeight:16,letterSpacing:"0.05em"},compact:{fontWeight:400,fontSize:15,lineHeight:20,letterSpacing:"0.05em"}},fontH3:{regular:{fontSize:20,lineHeight:26,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500}},fontH4:{regular:{fontSize:15,lineHeight:22,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500}},gridWrapperContent:{regular:"100%",compactX:620,compact:940,large:1260},gridMainContent:{regular:"100%",compactX:620,compact:620,large:780},gridMainContentWide:{regular:"100%",compactX:620,compact:620,large:860},gridAsideContent:{regular:"100%",compactX:300,compact:300,large:300},mediaSizeGap:20,mediaSizeGrid:60,gridColumnX2:{regular:"100%",compactX:280,compact:430,large:580},gridColumnX3:{regular:"100%",compactX:180,compact:280,large:380},gridColumnX4:{regular:"100%",compactX:130,compact:205,large:280},gridColumnX6:{regular:"100%",compactX:80,compact:130,large:180},fontHeadline:{regular:{fontSize:16,lineHeight:20,fontFamily:"VKSansDisplay, MailSans, Inter, Helvetica, Arial, sans-serif",fontWeight:500},compact:{fontSize:15,lineHeight:20}},colorsScheme:"light",colorBackgroundAccent:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorBackgroundAccentThemed:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorBackgroundAccentThemedAlpha:{normal:"rgba(0, 119, 255, 0.2)",hover:"rgba(0, 119, 255, 0.24)",active:"rgba(0, 119, 255, 0.28)"},colorBackgroundAccentAlternative:{normal:"#FF9E00",hover:"#F59802",active:"#EB9305"},colorBackgroundContent:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorBackgroundSecondary:{normal:"#F0F1F3",hover:"#E6E8EC",active:"#DDDFE4"},colorBackgroundSecondaryAlpha:{normal:"rgba(0, 16, 61, 0.06)",hover:"rgba(0, 16, 61, 0.1)",active:"rgba(0, 16, 61, 0.14)"},colorBackground:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorBackgroundContrast:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorBackgroundContrastSecondaryAlpha:{normal:"rgba(255, 255, 255, 0.2)",hover:"rgba(255, 255, 255, 0.24)",active:"rgba(255, 255, 255, 0.28)"},colorBackgroundWarning:{normal:"#FFF1AD",hover:"#F5E8A9",active:"#EBDFA4"},colorBackgroundNegative:{normal:"#ED330A",hover:"#E4320C",active:"#DA300E"},colorBackgroundTertiary:{normal:"#F6F7F8",hover:"#ECEEF1",active:"#E2E5E9"},colorBackgroundTertiaryAlpha:{normal:"rgba(0, 0, 0, 0.04)",hover:"rgba(0, 0, 0, 0.08)",active:"rgba(0, 0, 0, 0.12)"},colorBackgroundModal:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorBackgroundPositive:{normal:"#0DC268",hover:"#0CBB66",active:"#0CB465"},colorBackgroundNegativeTint:{normal:"#FEEFEB",hover:"#F4E6E4",active:"#EADDDD"},colorBackgroundPositiveTint:{normal:"#ECFAF3",hover:"#E3F1EC",active:"#D9E7E4"},colorFieldBackground:{normal:"#ffffff",hover:"#F5F5F7",active:"#EBECEF"},colorBackgroundModalInverse:{normal:"#303030",hover:"#2E2F31",active:"#2C2D31"},colorBackgroundContrastInverse:{normal:"#303030",hover:"#2E2F31",active:"#2C2D31"},colorBackgroundContrastThemed:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorBackgroundAccentTint:{normal:"#5a9eff",hover:"#5698F7",active:"#5393EF"},colorBackgroundInfoTint:{normal:"#f0f4ff",hover:"#E6EBF7",active:"#DDE2EF"},colorTextAccent:{normal:"#0070f0",hover:"#006CE9",active:"#0068E2"},colorTextAccentThemed:{normal:"#0070f0",hover:"#006CE9",active:"#0068E2"},colorTextNegative:{normal:"#ED330a",hover:"#E4320C",active:"#DA300E"},colorTextLink:{normal:"#0070f0",hover:"#006CE9",active:"#0068E2"},colorTextLinkTint:{normal:"#71AAEB",hover:"#6CA4E4",active:"#689EDD"},colorTextLinkThemed:{normal:"#0070f0",hover:"#006CE9",active:"#0068E2"},colorTextMuted:{normal:"#2C2D2E",hover:"#2A2C2F",active:"#282B2F"},colorTextPrimary:{normal:"#2C2D2E",hover:"#2A2C2F",active:"#282B2F"},colorTextPrimaryInvariably:{normal:"#2C2D2E",hover:"#2A2C2F",active:"#282B2F"},colorTextSecondary:{normal:"#87898F",hover:"#82848C",active:"#7C7F88"},colorTextSubhead:{normal:"#797A80",hover:"#74767D",active:"#6F727B"},colorTextTertiary:{normal:"#AAADB3",hover:"#A3A7AE",active:"#9CA0AA"},colorTextLinkVisited:{normal:"#528FDF",hover:"#4F8AD9",active:"#4B85D2"},colorTextContrast:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorTextContrastThemed:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorLinkContrast:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorTextPositive:{normal:"#0DC268",hover:"#0CBB66",active:"#0CB465"},colorIconAccent:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorIconAccentThemed:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorIconPrimary:{normal:"#2C2D2E",hover:"#2A2C2F",active:"#282B2F"},colorIconPrimaryInvariably:{normal:"#2C2D2E",hover:"#2A2C2F",active:"#282B2F"},colorIconMedium:{normal:"#919399",hover:"#8B8E95",active:"#858992"},colorIconMediumAlpha:{normal:"rgba(39, 43, 55, 0.5)",hover:"rgba(39, 43, 55, 0.54)",active:"rgba(39, 43, 55, 0.58)"},colorIconSecondary:{normal:"#A5A7AD",hover:"#9EA1A9",active:"#989BA4"},colorIconSecondaryAlpha:{normal:"rgba(39, 43, 55, 0.3)",hover:"rgba(39, 43, 55, 0.34)",active:"rgba(39, 43, 55, 0.38)"},colorIconTertiary:{normal:"#CFD1D6",hover:"#C7C9D0",active:"#BEC2CA"},colorIconTertiaryAlpha:{normal:"rgba(39, 43, 55, 0.2)",hover:"rgba(39, 43, 55, 0.24)",active:"rgba(39, 43, 55, 0.28)"},colorIconContrast:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorIconContrastThemed:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorIconPositive:{normal:"#0DC268",hover:"#0CBB66",active:"#0CB465"},colorIconWarning:{normal:"#FF9E00",hover:"#F59802",active:"#EB9305"},colorIconNegative:{normal:"#ED033a",hover:"#E4043A",active:"#DA043A"},colorIconContrastSecondary:{normal:"#F2F3F5",hover:"#E8EAEE",active:"#DFE1E6"},colorStrokeAccent:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorStrokeAccentThemed:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorStrokeContrast:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorStrokeNegative:{normal:"#ED033a",hover:"#E4043A",active:"#DA043A"},colorImageBorderAlpha:{normal:"rgba(0, 16, 61, 0.08)",hover:"rgba(0, 16, 61, 0.12)",active:"rgba(0, 16, 61, 0.16)"},colorFieldBorderAlpha:{normal:"rgba(0, 16, 61, 0.12)",hover:"rgba(0, 16, 61, 0.16)",active:"rgba(0, 16, 61, 0.2)"},colorSeparatorPrimaryAlpha:{normal:"rgba(0, 16, 61, 0.12)",hover:"rgba(0, 16, 61, 0.16)",active:"rgba(0, 16, 61, 0.2)"},colorSeparatorSecondary:{normal:"#E6E7EB",hover:"#DDDEE4",active:"#D4D6DD"},colorSeparatorPrimary:{normal:"#DADCE0",hover:"#D1D4D9",active:"#C9CCD3"},colorStrokePositive:{normal:"#0DC268",hover:"#0CBB66",active:"#0CB465"},colorSeparatorPrimary2x:{normal:"#CDD0D5",hover:"#C5C8CF",active:"#BDC1C9"},colorSeparatorPrimary3x:{normal:"#BFC3CA",hover:"#B7BCC4",active:"#B0B5BF"},colorAccentBlue:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorAccentGray:{normal:"#A5A7AD",hover:"#9EA1A9",active:"#989BA4"},colorAccentRed:{normal:"#ED033A",hover:"#E4043A",active:"#DA043A"},colorAccentOrangeFire:{normal:"#F05C44",hover:"#E65944",active:"#DD5643"},colorAccentOrange:{normal:"#FF9E00",hover:"#F59802",active:"#EB9305"},colorAccentOrangePeach:{normal:"#F9B54F",hover:"#EFAE4E",active:"#E5A84E"},colorAccentLime:{normal:"#B8FC75",hover:"#B1F373",active:"#A9E971"},colorAccentGreen:{normal:"#0DC268",hover:"#0CBB66",active:"#0CB465"},colorAccentCyan:{normal:"#07E5F9",hover:"#07DCF1",active:"#06D4EA"},colorAccentAzure:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorAccentPurple:{normal:"#8C64FF",hover:"#8661F7",active:"#815DEF"},colorAccentViolet:{normal:"#C15DF3",hover:"#B95AEC",active:"#B257E4"},colorAccentRaspberryPink:{normal:"#E03FAB",hover:"#D73DA7",active:"#CE3BA2"},colorAccentPink:{normal:"#FF3985",hover:"#F53782",active:"#EB367F"},colorAccentSecondary:{normal:"#FF9E00",hover:"#F59802",active:"#EB9305"},colorActionSheetText:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorHeaderBackground:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorPanelHeaderIcon:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorWriteBarInputBackground:{normal:"#F0F1F3",hover:"#E6E8EC",active:"#DDDFE4"},colorWriteBarInputBorder:{normal:"#E1E3E6",hover:"#D8DBDF",active:"#CFD2D8"},colorWriteBarInputBorderAlpha:{normal:"rgba(0, 16, 61, 0.8)",hover:"rgba(0, 16, 61, 0.84)",active:"rgba(0, 16, 61, 0.88)"},colorTrackBackground:{normal:"#DADCE0",hover:"#D1D4D9",active:"#C9CCD3"},colorTrackBuffer:{normal:"#83AAEA",hover:"#7EA4E3",active:"#799EDC"},colorImagePlaceholder:{normal:"#E6E7EB",hover:"#DDDEE4",active:"#D4D6DD"},colorImagePlaceholderAlpha:{normal:"rgba(0, 16, 61, 0.8)",hover:"rgba(0, 16, 61, 0.84)",active:"rgba(0, 16, 61, 0.88)"},colorSearchFieldBackground:{normal:"#E6E7EB",hover:"#DDDEE4",active:"#D4D6DD"},colorWriteBarIcon:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorSkeletonFrom:{normal:"#F3F3F5",hover:"#E9EAEE",active:"#E0E1E6"},colorSkeletonTo:{normal:"#E0E1E6",hover:"#D7D9DF",active:"#CED0D8"},colorAvatarOverlay:{normal:"rgba(145, 147, 153, 0.48)",hover:"rgba(145, 147, 153, 0.52)",active:"rgba(145, 147, 153, 0.56)"},colorAvatarOverlayInverseAlpha:{normal:"rgba(255, 255, 255, 0.85)",hover:"rgba(255, 255, 255, 0.89)",active:"rgba(255, 255, 255, 0.93)"},colorOverlayPrimary:{normal:"rgba(0, 0, 0, 0.4)",hover:"rgba(0, 0, 0, 0.44)",active:"rgba(0, 0, 0, 0.48)"},colorOverlaySecondary:{normal:"rgba(44, 45, 46, 0.5)",hover:"rgba(44, 45, 46, 0.54)",active:"rgba(44, 45, 46, 0.58)"},colorSegmentedControl:{normal:"#FFFFFF",hover:"#F5F5F7",active:"#EBECEF"},colorTabbarTextInactive:{normal:"#99A2AD",hover:"#939CA9",active:"#8D96A4"},colorButtonText:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorButtonIcon:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorButtonStroke:{normal:"#0077ff",hover:"#0073F7",active:"#006FEF"},colorTransparent:{normal:"transparent",hover:"rgba(0, 16, 61, 0.04)",active:"rgba(0, 16, 61, 0.08)"},colorRating:{normal:"#ffd400",hover:"#F5CC02",active:"#EBC405"},colorButtonContrastAlpha:{normal:"rgba(255, 255, 255, 1)",hover:"rgba(255, 255, 255, 0.8)",active:"rgba(255, 255, 255, 0.6)"},colorButtonContrast:{normal:"#FFFFFF",hover:"#FFFFFF",active:"#FFFFFF"},colorThumbErrorBackgroundAlpha:{normal:"rgba(237, 10, 52, 0.12)",hover:"rgba(237, 10, 52, 0.16)",active:"rgba(237, 10, 52, 0.2)"},colorBackgroundAccentTintThemedAlpha:{normal:"rgba(0, 119, 255, 0.06)",hover:"rgba(0, 119, 255, 0.1)",active:"rgba(0, 119, 255, 0.14)"},colorBackgroundAccentTintAlpha:{normal:"rgba(0, 119, 255, 0.06)",hover:"rgba(0, 119, 255, 0.1)",active:"rgba(0, 119, 255, 0.14)"},colorBackgroundAccentTintThemed:{normal:"#f0f7ff",hover:"#E6EEF7",active:"#DDE5EF"},colorBackgroundWarningTintThemedAlpha:{normal:"rgba(255, 241, 173, 0.48)",hover:"rgba(255, 241, 173, 0.52)",active:"rgba(255, 241, 173, 0.56)"},colorBackgroundWarningTintAlpha:{normal:"rgba(255, 241, 173, 0.48)",hover:"rgba(255, 241, 173, 0.52)",active:"rgba(255, 241, 173, 0.56)"},colorBackgroundWarningTintThemed:{normal:"#fffce0",hover:"#F5F3D9",active:"#EBE9D3"},colorBackgroundWarningTint:{normal:"#fffce0",hover:"#F5F3D9",active:"#EBE9D3"},colorBackgroundNegativeTintThemedAlpha:{normal:"rgba(237, 51, 10, 0.08)",hover:"rgba(237, 51, 10, 0.12)",active:"rgba(237, 51, 10, 0.16)"},colorBackgroundNegativeTintAlpha:{normal:"rgba(237, 51, 10, 0.08)",hover:"rgba(237, 51, 10, 0.12)",active:"rgba(237, 51, 10, 0.16)"},colorBackgroundNegativeTintThemed:{normal:"#feefeb",hover:"#F4E6E4",active:"#EADDDD"},colorBackgroundPositiveTintThemedAlpha:{normal:"rgba(13, 194, 104, 0.08)",hover:"rgba(13, 194, 104, 0.12)",active:"rgba(13, 194, 104, 0.16)"},colorBackgroundPositiveTintAlpha:{normal:"rgba(13, 194, 104, 0.08)",hover:"rgba(13, 194, 104, 0.12)",active:"rgba(13, 194, 104, 0.16)"},colorBackgroundPositiveTintThemed:{normal:"#ECFAF3",hover:"#E3F1EC",active:"#D9E7E4"},colorTooltipBackgroundBlueTint:{normal:"#DDE9FF",hover:"#D4E0F7",active:"#CBD8EF"},colorTooltipBackgroundGreenTint:{normal:"#CEEEE6",hover:"#C6E5DF",active:"#BEDCD8"},colorTooltipBackgroundOrangeTint:{normal:"#F9D3BD",hover:"#EFCBB8",active:"#E5C3B3"},colorTooltipBackgroundPurpleTint:{normal:"#F2E8FF",hover:"#E8DFF7",active:"#DFD7EF"},colorTooltipTextBlueThemed:{normal:"#1C4479",hover:"#1B4277",active:"#1A4074"},colorTooltipTextGreenThemed:{normal:"#087C6D",hover:"#08786B",active:"#077369"},colorTooltipTextOrangeThemed:{normal:"#78472A",hover:"#73452B",active:"#6E432C"},colorTooltipTextPurpleThemed:{normal:"#73519F",hover:"#6E4E9B",active:"#6A4C97"},colorBackgroundSky:{normal:"#cce4ff",hover:"#C4DCF7",active:"#BCD3EF"},colorBackgroundSkyAlpha:{normal:"rgba(204, 228, 255, 0.9)",hover:"rgba(204, 228, 255, 0.9400000000000001)",active:"rgba(204, 228, 255, 0.98)"},colorPrimaryAuto:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorPrimaryBase:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorPrimaryDeti:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorPrimaryDobro:{normal:"#ffd400",hover:"#F5CC02",active:"#EBC405"},colorPrimaryHealth:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorPrimaryHealthNew:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorPrimaryHitech:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorPrimaryKino:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorPrimaryLady:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorPrimaryMycom:{normal:"#00abf2",hover:"#00A5EB",active:"#009FE4"},colorPrimaryRealty:{normal:"#4c8ebc",hover:"#4989B7",active:"#4684B2"},colorPrimaryPharma:{normal:"#1DD3A2",hover:"#1CCB9E",active:"#1BC39A"},colorPrimaryPets:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorSecondaryBase:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorSecondaryHealth:{normal:"#0077FF",hover:"#0073F7",active:"#006FEF"},colorSecondaryMycom:{normal:"#fc2c38",hover:"#F22B38",active:"#E82A38"},colorSocialVk:{normal:"#3F8AE0",hover:"#3C85D9",active:"#3A80D3"},colorSocialOk:{normal:"#ee8208",hover:"#E47D0A",active:"#DB790C"},colorSocialFb:{normal:"#1877f2",hover:"#1773EB",active:"#166FE4"},colorSocialMir:{normal:"#117eda",hover:"#107AD4",active:"#1075CD"},colorSocialTwitter:{normal:"#1da1f2",hover:"#1C9BEB",active:"#1B95E4"},colorSocialBehance:{normal:"#1769ff",hover:"#1665F7",active:"#1562EF"},colorSocialDribbble:{normal:"#ea4c89",hover:"#E14A86",active:"#D74783"},widthTouch:"(max-width: 659px)",widthToTouch:"(max-width: 659px)",widthFromTablet:"(min-width: 660px)",widthTablet:"(min-width: 660px) and (max-width: 979px)",widthToTablet:"(max-width: 979px)",widthFromDesktopS:"(min-width: 980px)",widthDesktopS:"(min-width: 980px) and (max-width: 1299px)",widthToDesktopS:"(max-width: 1299px)",widthFromDesktopM:"(min-width: 1300px)",widthDesktopM:"(min-width: 1300px)",themeType:"root"}},74909:function(t,e,n){(0,n(74933)(n(95025)).default)({reload:!0}).addListener()},46762:function(t,e,n){n(37177),n(32605),n(8335)},21372:function(t,e,n){n(13064),n(57181)},96396:function(t,e,n){n(47353),n(36095),n(57383),n(43352),n(85942),n(26656),n(53537),n(433),n(4431),n(77268),n(26914),n(47685),n(37979),n(40409),n(28715),n(59218),n(31435),n(43538),n(30685),n(26274),n(72133),n(33618),n(76255),n(84731),n(73e3),n(48015),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-viewbox-popup/ct-viewbox-popup.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-viewbox-previews/ct-viewbox-previews.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-viewbox-slides/ct-viewbox-slides.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-viewbox-more/ct-viewbox-more.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-viewbox-slide-content/ct-viewbox-slide-content.xml.js")},4977:function(t,e,n){n(87009),n(30218),n(82452),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-notify/ct-notify.xml.js")},14199:function(t,e,n){n(19327),n(89498),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-promo-popup/ct-promo-popup.xml.js")},95220:function(t,e,n){n(76988),n(86233),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-push-notifications/ct-push-notifications.xml.js")},56659:function(t,e,n){n(44960),n(24010)},31030:function(t,e,n){n(93194)},63144:function(t,e,n){n(21841),n(93887),n(17839),n(16549),n(57897),n(97081),n(93488),n(85239),n(56478),n(72599),n(66926),n(89687),n(70027),n(51329),n(41802),n(68165),n(49175),n(13552),n(77107),n(2770),n(5263),n(2180),n(73273),n(57415),n(73082),n(89483),n(90310),n(54355),n(91723),n(26483),n(83107),n(51112),n(76241),n(58628),n(95897),n(89757),n(39068),n(1728),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-popup-alert/ct-popup-alert.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-popup-mistake/ct-popup-mistake.xml.js"),window.ru.mail.asyncTemplates.prefetch("/bem/sport/web/web.bundles/ct-popup-sport-events/ct-popup-sport-events.xml.js")},40198:function(t,e,n){n(88037),n(53625),n(87846),n(92490),n(12151),n(12420),n(41761),n(84538),n(93798),n(59991),n(6731),n(6547),n(26993),n(37370),n(82750),n(8967),n(73252),n(4541),n(99344),n(50676),n(89826),n(82245),n(62643),n(38141),n(64392),n(3518),n(80641),n(10931)},30218:function(){!function(t,e,n){"use strict";var i=n.Basic,r=i.Constructors.getView({_Handlers:{model:{unreadNews:"_onNewsDataRecieved"},dom:{"click:notificationClose":"_onCloseClick","click:notificationMore":"_onMoreClick"}},_Init:function(){if(!i.typeOf(this._Opts.templates.notification,"function"))throw new Error('Не указана функция-шаблонизатор для "самой расшариваемой новости"!')},_onNewsDataRecieved:function(e){var n=this._Elems,i=this._Opts,r=i.notificationIdPrefix+this.__id,o=t(i.templates.notification(e)).attr("id",r),s=n.notificationCont;if(o&&o.length){s||(n.notificationCont=s=t(i.cssSels.notificationCont)),n.notification=o,this.notificationId=r;var a=s.find("#"+r);a.length?a.replaceWith(o):(s.append(o),n.notificationInner=t(i.cssSels.notificationInner).addClass(i.cssClss.active))}},_onMoreClick:function(){this._removeNotification()},_onCloseClick:function(){this._Model.stop(),this._removeNotification()},_removeNotification:function(){var t=this._Elems,e=this._Opts;this._getNotificationBlock()&&t.notificationInner.removeClass(e.cssClss.active)},_getNotificationBlock:function(){var t=this._Elems.notification;return t||t.length||(t=this._elems.parent.find("#"+this.notificationId)),t}},{cssSels:{notificationCont:"body",notificationClose:".js-news-notification_close",notificationMore:".js-notification__more",notificationInner:".js-notification__inner"},cssClss:{active:"sticky__inner_sliding_active"},templates:{notification:null},notificationIdPrefix:"notification"},null,"MostSharedNews");e.getNameSpace("Modules",n).MostSharedNews=r,i.moduleOpts.setParams("MostSharedNews",{acceptTypes:"MostSharedNewsModel"})}(window.jQuery,window,window.ru.mail.cpf)},87009:function(){!function(t,e,n){"use strict";var i=n.Basic,r=i.typeOf,o=n.Tools.transport,s="unreadNews",a="storage",l=function(t){return t.toISOString().split("T")[0]},c=i.Constructors.getModel({_Events:[s],_Init:function(){var i,o,s,c,u,h,p,d,f,m=arguments[2],g=this._Opts,v=g.storage,_=m.id,w=new Date,y=w.getTime(),b=!0,S=g.updateDelay;this._state={initTimestamp:y},this._storageTools=o=new n.Tools.LocalStorage(v.options),i=o.getItem(v.visitedPages),r(i,"array")?_&&(-1!==(s=i.indexOf(_))&&i.splice(s,1),i.unshift(_)):i=_?[_]:[],i.length>v.visitedPagesMaxLength&&(i.length=v.visitedPagesMaxLength),o.setItem(i,!1,v.visitedPages),u=!!(c=parseInt(o.getItem(v.stopTimestamp)))&&new Date(c),(m.isMainPage||u&&l(u)===l(w))&&(b=!1),h=parseInt(o.getItem(v.sessionTimestamp))||0,p=o.getItem(v.notificationWasShown),y-h>2*v.sessionInterval?(o.setItem(!1,!1,v.notificationWasShown),o.setItem(y,!1,v.startTimestamp),d=!0):p?b=!1:(f=parseInt(o.getItem(v.startTimestamp)),S=Math.max(S-(y-f),0)),b&&(this._actualizeTimestamp(d),this._state.active=!0,this._state.pageId=_,this._updateTimer=setTimeout(this.update.bind(this),S)),!1===m.isMainPage&&t(e).on(a,this._onStorageChange.bind(this)),this._saveSession()},update:function(){clearTimeout(this._updateTimer),this._state.active&&o({url:this._opts.server.dataUrl,type:"GET"}).then(this._processData.bind(this),function(){0}.bind(this))},stop:function(){this._storageTools.setItem(Date.now(),!1,this._Opts.storage.stopTimestamp)},_actualizeTimestamp:function(t){var n=this._state,i=this._storageTools,r=this._Opts.windowNamePrefix,o=this._Opts.storage.tabsTimestamps,s=e.name,a=i.getItem(o)||{},l=!1;t?(a={},l=!0):s?s in a&&(n.initTimestamp=+a[s]):l=!0,l&&(s=r+n.initTimestamp,e.name=s,a[s]=n.initTimestamp),i.setItem(a,!1,o)},_saveSession:function(){var t=this._Opts.storage;clearTimeout(this._sessionTimer),this._storageTools.setItem(Date.now(),!1,t.sessionTimestamp),this._sessionTimer=setTimeout(this._saveSession.bind(this),t.sessionInterval)},_onStorageChange:function(t){if((t=t.originalEvent||t).key===this._Opts.storage.mostSharedNews)try{var e=JSON.parse(t.newValue),n=this._state.initTimestamp;n>e.timestamp?this._deactivate():n!==e.timestamp&&this._saveMostSharedNewsData(e)}catch(t){0,this._deactivate()}},_deactivate:function(){this._state.active=!1,t(e).off(a)},_processData:function(t){var e=function(t){return r(t,"object")?t.id?t.id:t.url&&t.url.match(/\/(\d+)\//)[1]||null:null}(t),n=this._Opts.storage,i=this._storageTools;e&&this._state.active&&-1===i.getItem(n.visitedPages).indexOf(e.toString())&&(i.setItem(!0,!1,n.notificationWasShown),this._state.mostSharedId=e,this._saveMostSharedNewsData(t))},_saveMostSharedNewsData:function(t){var e=this._state;t.timestamp=e.initTimestamp,new Promise((function(t,n){setTimeout((function(){e.active?t():n()}),1e3)})).then(function(){this._trigger(s,t),this._deactivate()}.bind(this));try{localStorage.setItem(this._Opts.storage.mostSharedNews,JSON.stringify(t))}catch(t){0,this._deactivate()}}},{updateDelay:6e4,server:{dataUrl:"/ext/most_shared_news/"},storage:{options:{root:"ru.mail.news",sync:!0},mostSharedNews:"ru.mail.news.mostSharedNewsSync",tabsTimestamps:"mostSharedNews.tabsTimestamps",visitedPages:"mostSharedNews.visitedPages",stopTimestamp:"mostSharedNews.stopTimestamp",startTimestamp:"mostSharedNews.startTimestamp",sessionTimestamp:"mostSharedNews.sessionTimestamp",notificationWasShown:"mostSharedNews.notificationWasShown",visitedPagesMaxLength:20,sessionInterval:3e4},windowNamePrefix:"news_"},null,"MostSharedNewsModel");e.getNameSpace("Modules",n).MostSharedNewsModel=c}(window.jQuery,window,window.ru.mail.cpf)},3518:function(){"use strict";var t=window.ru.mail.cpf;(0,t.Basic.moduleOpts.setParams)("AdvMarker",{options:{templates:{tooltip:(0,t.Tools.getTemplate)("ct-adv-marker-tooltip.xml")}}})},72483:function(t,e,n){var i=n(74933);Object.defineProperty(e,"__esModule",{value:!0}),e.updateDWH=e.getDWHLogger=void 0;var r=i(n(54036));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var a=e.getDWHLogger=function(){return"undefined"!=typeof window?window.DWHLogger:null};e.updateDWH=function(t,e,n){var i=t.entity_content_subtype,r=t.entity_type,o=t.entity_id,l=t.brandsafety,c=window.xrayOptions.dwhLogger,u=c.updateLoggerOptions,h=c.options,p=a();p&&u&&(u({entity_type:r,entity_id:o,brandsafety:l,entity_content_subtype:i,url:window.location.href,search:window.location.search}),p.reinitialize({root:document.body,config:s({options:h,excludeSelector:e?".js-dwh-logger-exclude":void 0},n)}),e&&p.attachChildren({root:e,config:{options:h}}))}},70704:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sendTopMailEvent=function(t,e){var n=window.ru.mail.cpf.Tools.Counters.hitEvent;t&&n("topmail",{id:t,type:"reachGoal",goal:e})}},13085:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hitSportPageCounters=e.hitOnUpdate=e.hitOnStateChange=void 0;var n=window.ru.mail.cpf,i=n.Basic.Extend,r=n.Tools,o=r.Cookie,s=r.Counters.hitCntrsBlck,a=!0,l=!0,c=e.hitOnUpdate=function(t){t?h():l?l=!1:h()},u=e.hitOnStateChange=function(){a?a=!1:h()},h=e.hitSportPageCounters=function(){var t={};if("function"==typeof o){var e=o("sport_uid");e&&(t.userid=e)}s(t,".js-counters")};i(window.getNameSpace("ru.mail.sport.counters"),{hitOnUpdate:c,hitOnStateChange:u})},10931:function(){!function(t,e){var n,i;function r(t,e){for(var n,i,r=Number.MAX_VALUE,o=0;o<t.length;o++)(i=Math.abs(t[o]-e))<r&&(r=i,n=t[o]);return n}function o(e,n){for(var i=-1===t.location.hostname.indexOf("devmail")?".sportmail.ru":".devmail.ru",r=t.document.cookie.match(/s_cp=([^;]*)/),o=r?r[1]:"",s=o?o.split("|"):[],a=-1,l=s.length;l--;)0===s[l].indexOf(e+"=")&&(a=l);n&&(a>-1?s[a]=e+"="+n:s.push(e+"="+n)),t.document.cookie=["s_cp=",s.join("|"),"; path=/; domain=",i,"; max-age=",31536e3].join("")}n=r([1,1.5,2,2.5,3],function(){var n,i=t.devicePixelRatio;if(!i&&e.Basic.typeOf(t.matchMedia,"function"))for(n=1;n<=3&&t.matchMedia("only screen and (-webkit-min-device-pixel-ratio: "+n+"),only screen and (min--moz-device-pixel-ratio: "+n+"),only screen and (-o-min-device-pixel-ratio: "+n+"/1),only screen and (min-resolution: "+Math.round(96*n)+"dpi),only screen and (min-resolution: "+n+"dppx)").matches;)i=n,n+=.5;return i||1}()),i=r([480,568,640,1366],Math.max(t.screen.width,t.screen.height)),o("dpr",n),o("scrmax",i)}(window,window.ru.mail.cpf)},17839:function(){var t,e,n;t=new Function("return this")(),e=t.ru.mail.cpf.Basic.Extend,n=t.fest._svgPath,e(t.getNameSpace("fest._helpers"),{advMarkerParams:function(t){return{mix:["js-adv-marker__tooltip-button"],attrs:{"data-ads-link":t.ads_link||null,"data-token":t.token||null},iconParams:{svg:{attrs:{height:"10",width:"10"},src:n.sport_web,name:"icon_navigation_more-vertical"}}}}})},93887:function(){var t,e,n,i;t=new Function("return this")(),e=t.ru.mail.cpf.Basic,n=e.Extend,i=t.fest._helpers,n(t.getNameSpace("ru.mail.sport.counters"),{hockey2021:{web:{allPages:{topMail:"2642337",rb:"87013276"},pages:{index:"21373210",news:"5584984",comp_schedule:"5584987",comp_table:"5585001",photo:"5585017",video:"5585017",comp_statistic:"5585015",history:"5585020",history_table:"5585020",comp_teams:"5585023",comp_team_russia:"5585024",comp_match:"5585131",tv:"5585027",404:"5581521"}},touch:{allPages:{topMail:"2496747",rb:"87013280"},pages:{index:"5585148",news:"5585151",comp_schedule:"5585154",comp_table:"5585163",photo:"5585182",video:"5585182",comp_statistic:"5585178",history:"88917560",history_table:"88917560",comp_teams:"5585179",comp_team_russia:"5585181",comp_match:"5585187",tv:"5585027",404:"5585142"}},allPages:{topMail:"2037330",rb:"87013272"}},football2020:{web:{allPages:{topMail:"2518955",rb:"89851336"},pages:{index:"6018216",news:"6018112",comp_schedule:"6018162",comp_table:"6018169",photo:"6018171",video:"6018171",comp_statistic:"6018204",history:"6018182",history_table:"6018182",comp_teams:"6018189",comp_team_russia:"6018197",comp_match:"6018207",stadium:"6018181",tv:"6018205",404:"6018104"}},touch:{allPages:{topMail:"2518954",rb:"89851337"},pages:{index:"6057993",news:"6018244",comp_schedule:"6018246",comp_table:"6018249",photo:"89908410",video:"89908410",comp_statistic:"6057953",history:"89851338",history_table:"89851338",comp_teams:"6018250",comp_team_russia:"6018253",comp_match:"6057948",stadium:"89908405",tv:"6569162",404:"6018225"}},allPages:{topMail:"2199407",rb:"89851335"}},football2022:{web:{allPages:{topMail:"2518955",rb:"89851336"},pages:{index:"6018216",news:"6018112",comp_schedule:"6018162",comp_table:"6018169",photo:"6018171",video:"6018171",comp_statistic:"6018204",history:"6018182",history_table:"6018182",comp_teams:"6018189",comp_team_russia:"6018197",comp_match:"6018207",stadium:"6018181",tv:"6018205",404:"6018104"}},touch:{allPages:{topMail:"2518954",rb:"89851337"},pages:{index:"6057993",news:"6018244",comp_schedule:"6018246",comp_table:"6018249",photo:"89908410",video:"89908410",comp_statistic:"6057953",history:"89851338",history_table:"89851338",comp_teams:"6018250",comp_team_russia:"6018253",comp_match:"6057948",stadium:"89908405",tv:"6569162",404:"6018225"}},allPages:{topMail:"2199407",rb:"89851335"}},football2024:{web:{allPages:{topMail:"2518955",rb:"89851336"},pages:{index:"6018216",news:"6018112",comp_schedule:"6018162",comp_table:"6018169",photo:"6018171",video:"6018171",comp_statistic:"6018204",history:"6018182",history_table:"6018182",comp_teams:"6018189",comp_team_russia:"6018197",comp_match:"6018207",stadium:"6018181",tv:"6018205",404:"6018104"}},touch:{allPages:{topMail:"2518954",rb:"89851337"},pages:{index:"6057993",news:"6018244",comp_schedule:"6018246",comp_table:"6018249",photo:"89908410",video:"89908410",comp_statistic:"6057953",history:"89851338",history_table:"89851338",comp_teams:"6018250",comp_team_russia:"6018253",comp_match:"6057948",stadium:"89908405",tv:"6569162",404:"6018225"}},allPages:{topMail:"2199407",rb:"89851335"}},tokyo:{allPages:{topMail:"2199410",rb:"90874108"},web:{allPages:{topMail:"2797221",rb:"90874109"},pages:{index:"3652654",news:"3652662",results:"3652665",schedule:"3652669",photo:"3652679",video:"3652682",medals:"3652916",rubric:"3652703",history:"3652675",comp_teams:"3652713",team_russia:"3652688",comp_match:"3652901",stadium:"3652673",city:"3652673",404:"3653132"}},touch:{allPages:{topMail:"2448178",rb:"90874110"},pages:{index:"3653120",news:"3653121",results:"3653126",schedule:"3653125",photo:"3653128",video:"3653128",medals:"91793226",rubric:"3653123",history:"91793231",comp_teams:"91793242",team_russia:"3653127",comp_match:"3653129",stadium:"91793245",city:"91793245",404:"3653131"}}},paris:{allPages:{topMail:"2199410",rb:"90874108"},web:{allPages:{topMail:"2797221",rb:"90874109"},pages:{index:"3652654",news:"3652662",results:"3652665",schedule:"3652669",photo:"3652679",video:"3652682",medals:"3652916",rubric:"3652703",history:"3652675",comp_teams:"3652713",team_russia:"3652688",comp_match:"3652901",stadium:"3652673",city:"3652673",404:"3653132"}},touch:{allPages:{topMail:"2448178",rb:"90874110"},pages:{index:"3653120",news:"3653121",results:"3653126",schedule:"3653125",photo:"3653128",video:"3653128",medals:"91793226",rubric:"3653123",history:"91793231",comp_teams:"91793242",team_russia:"3653127",comp_match:"3653129",stadium:"91793245",city:"91793245",404:"3653131"}}},pekin:{allPages:{topMail:"2199410",rb:"90874108"},web:{allPages:{topMail:"2797221",rb:"90874109"},pages:{index:"3652654",news:"3652662",results:"3652665",schedule:"3652669",photo:"3652679",video:"3652682",medals:"3652916",rubric:"3652703",history:"3652675",comp_teams:"3652713",team_russia:"3652688",comp_match:"3652901",stadium:"3652673",city:"3652673",404:"3653132"}},touch:{allPages:{topMail:"2448178",rb:"90874110"},pages:{index:"3653120",news:"3653121",results:"3653126",schedule:"3653125",photo:"3653128",video:"3653128",medals:"91793226",rubric:"3653123",history:"91793231",comp_teams:"91793242",team_russia:"3653127",comp_match:"3653129",stadium:"91793245",city:"91793245",404:"3653131"}}},index:{footerTgb:"2774571",galleries:"1650801",events:"1650856",topNews:"1650776",rubrics:"1650783"},sect:{footerTgb:"2774746",galleries:"1650809",events:"1650857",rubrics:"1650783"},news:{footerTgb:"2774746",galleries:"1650805",events:"1650858",newsbytheme:{search:"28569557"},extSport:"15125926",exchange:"1650819",TopmailTrack:"2677312,2677313,2677314,2677315",TopmailTrackFooter:"2677317",morenews:"66539267"},newsTouch:{morenews:"69580802"},articleItem:{crosslink:{movie:"17031274",series:"17031276",selection:"17031574",person:"17031295",timeline:"17031583",info:"17031580",medicament:"17031244",disease:"17031243",video:"17031602",news:"17031272",match:"17031608",race:"17031609",competition:"17031615",forecast:"19406314"},image:"13908079",teaser:{infographic:"13908089",gallery:"13908073",video:"13908085",reference:"66539264",reference_t:"13908137",story:"13908144",news:"66539264"},embed:{youtube:"13908221",rutube:"13908229",coub:"13908257",facebook:"13908197",twitter:"13908155",instagram:"13908159",vimeo:"15451816",vk_post:"15451813",vk_video:"15451811",vine:"15451814",soundcloud:"15451819",nhl_video:"18909556",khl_video:"19299263",deff:"15451820"},embedlist:"18828010",broadcast:"13908262",expert:"18090563",vote:"13908148",map:"13908267",ageRestriction:"14064144",readmore:"67754738"},articleItemTouch:{crosslink:{movie:"18906606",series:"18906612",selection:"18906621",person:"18906620",timeline:"18906648",info:"18906628",medicament:"18906597",disease:"18906595",video:"18906662",news:"18906598",match:"18906663",race:"18906668",competition:"18906677"},image:"18907500",teaser:{infographic:"18907502",gallery:"18907498",video:"18907501",reference:"69580801",story:"18907517",news:"69580801"},embed:{youtube:"18907543",rutube:"18907544",coub:"18907545",facebook:"18907541",twitter:"18907530",instagram:"18907534",vimeo:"18907588",vk_post:"18907568",vk_video:"18907567",vine:"18907571",soundcloud:"18907601",juxtapose:"19299291",nhl_video:"18909569",khl_video:"19299265",deff:"18907604"},embedlist:"18907605",broadcast:"18907558",expert:"18090563",vote:"18907528",map:"18907565",ageRestriction:"18907566",readmore:"69580804"}}),n(t.getNameSpace("fest._helpers"),{getCountersSport:function(n,r,o){var s,a=t.ru.mail.sport.counters,l=i.getByPath(n,a),c=r||"";return e.typeOf(l,"array")?s=l.filter((function(t){return e.typeOf(t,"string")&&c+t})).join(o||","):e.typeOf(l,"string")&&(s=l&&c+l),s||null}})},16549:function(){!function(t){var e=t.ru.mail.cpf.Basic.Extend;e(t.getNameSpace("fest._helpers"),{pluralize:function(t,e){return(t%=100)>10&&t<20?e[2]:e[(t%=10)>1&&t<5?1:1==t?0:2]}}),e(t.getNameSpace("fest._helpers"),{prepareEmbed:function(t,e,n){var i=t,r=(n||{}).embedWidth||"444";return"vk_post"==e?i=i.replace(/(width:\s?(?:[\'"])?)(\d+)/,"$1"+r):"vimeo"!=e&&"vk_video"!=e&&"soundcloud"!=e&&"vine"!=e&&"youtube"!=e&&"rutube"!=e||(i=i.replace(/(height=")\d+/,"$1360").replace(/(width=")\d+/,"$1100%")),i},strEscape:function(t,e){for(var n,i=[[[/&quot;/g,'"'],[/&apos;/g,"'"],[/&lt;/g,"<"],[/&gt;/g,">"]],[[/'/g,"&apos;"],[/"/g,"&quot;"],[/</g,"&lt;"],[/>/g,"&gt;"]]][t?1:0],r=0;r<i.length;r++)n=i[r],"string"!=typeof e&&(e=e.toString()),e=e.replace(n[0],n[1]);return e}});var n=function(t,e,n,i){var r=(i+90)*Math.PI/180;return t+n*Math.cos(r)+" "+(e+n*Math.sin(r))};e(t.getNameSpace("fest._helpers"),{circlePath:function(t,e,i,r,o){var s=t>0?Math.min(t,e):0,a=0===e?0:s/e*(o?180:359.9999);return"M "+n(r,r,i,a)+" A "+i+" "+i+" 0 "+(180>=a?0:1)+" 0 "+n(r,r,i,0)}})}(new Function("return this")())},21841:function(){var t,e,n;t=new Function("return this")(),e=t.ru.mail.cpf.Basic.Extend,n=t.fest._helpers,e(t.getNameSpace("ru.mail.sport.site"),{name:"Спорт Mail"}),e(t.getNameSpace("fest._helpers"),{getSiteSport:function(e){var i=t.ru.mail.sport.site;return n.getByPath(e,i)}})},93194:function(t,e,n){(0,n(1436).installWorker)({workers:{"sw-common":"/sw-sport-common.js"},workerKey:"sw-common"})},48015:function(){!function(){"use strict";(0,window.ru.mail.cpf.Basic.moduleOpts.setParams)("Banner.PopupGalleryView",{options:{reloadOnRerun:!0,continuousMode:!0,minReloadDelay:1e3,bannerParams:{id:"9865",dataType:"rb"},hasPlaceForBanner:function(){return!0}},paramAttrs:{bannerModuleName:"data-banner-view"}})}()},8335:function(){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("CustomScroll",{options:{cssSels:{Main:{scrollBar:".js-scrollbar",scrollView:".js-scrollable__view"},scrollBar:{scrollThumb:".js-scrollbar__track",scrollThumbBody:".js-scrollbar__track__drag"},scrollThumbSize:".js-scrollbar__track__drag__point"},disabledScrollBody:{mouse:!0,touch:!0}}}),i("CustomScroll.Popup",{options:{_Handlers:{init:function(){setTimeout(this.Resize.bind(this),100)}}}})}(window.jQuery,window,window.ru.mail.cpf)},51112:function(){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("Dropdown",{options:{_plugins:null,cssClss:{showDropdown:"tooltip_shown"}}}),i("Dropdown.RSS",{options:{cssSels:{Main:{Button:".js-dropdown__button"}}}}),i("Dropdown.Ajs",{options:{cssSels:{Main:{Button:".js-link"}}}}),i("Dropdown.Ajs.Footer",{cssClss:{showDropdown:"p-foot__link-wrapper_open"}}),i("Dropdown.footer",{options:{}}),i("Dropdown.More",{options:{_plugins:["More"]}})}(window.jQuery,window,window.ru.mail.cpf)},57181:function(){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("FixedPanel",{options:{offset:{top:60},panelTop:!0}}),i("FixedPanel.PhotoStories",{options:{cssSels:{Main:{banner:".js-fixed-panel__banner"}},bannerViewName:"SlotView",_Handlers:{fixedPanel_update_slot:function(){var e=this._elems.banner,n=this._opts.bannerViewName;e&&e.length&&[].forEach.call(e,(function(e){t(e).data(n).reload(!0)}))}}}})}(window.jQuery,window,window.ru.mail.cpf)},73e3:function(){!function(t,e,n){"use strict";(0,n.Basic.moduleOpts.setParams)("GalleryControls.PopupGalleryView",{options:{cssSels:{Main:{Controls:".js-photo_ctrl"}},cssClss:{disabledControl:"hidden_all"}}})}(window.jQuery,window,window.ru.mail.cpf)},33618:function(){!function(t,e,n){"use strict";(0,n.Basic.moduleOpts.setParams)("Gallery",{options:{imageProps:["original","share_url","description","title","gallery_id","currentIndex","rb_alias","source","published","dots"],preloadDepth:2,urlParams:{galleryId:"gall_id"}},paramAttrs:{urlGallery:"data-gallery-url"}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},76255:function(){!function(t){"use strict";var e=t.Basic.moduleOpts.setParams,n=t.Basic.Extend,i=t.Basic.Constructors._repo.get("GalleryPreviews");e("GalleryPreviews",{acceptTypes:["Gallery"],initializer:function(t,e,r,o){return o&&"images"in o&&(t.imagesSet=r.addImagesSet(n(!0,{},o))),new i(t,e,r)},options:{cssSels:{Main:{Preview:".js-preview-list__item"}},cssClss:{currentPreview:"cols__column_thumb_active"},Attrs:{imageVersions:["data-original","data-preview"],imageProps:{description:"data-descr",title:"data-title"}}}}),e("GalleryPreviews.Article.Inner",{options:{cssSels:{Main:{Preview:".js-inner-preview-list__item"}}}})}(window.ru.mail.cpf)},84731:function(t,e,n){var i=n(72483);!function(t,e,n){"use strict";var r=n.Basic.moduleOpts.setParams,o=n.Tools.getTemplate,s=n.Tools.initModules,a=n.Tools.Counters.hitCntrsBlck,l=n.Tools.Cookie,c=(e.UTMApi||{}).urlReplacer,u=!1;var h=function(){var t="ru.mail.sport:virtual_gallery_repeat",n=e.localStorage,i=[];function r(t,e){return{id:2670930,type:"reachGoal",goal:"sportmail.ru/virtual_gallery"+(e?"_"+e:"")+"/"+t}}return function(o){var s=o.type,a=o.pageCounter||!1,l=[];if("finish"===s)i.forEach((function(t){l.push(r(t,s))})),a&&l.length&&p({url:location.href+"?from=lastslide_gallery"}),i=[];else{var c=o.galleryId;if(-1===i.indexOf(c)){l.push(r(c,"start")),i.push(c);var u=(n.getItem(t)||"").split(",");-1!==u.indexOf(c)?l.push(r(c,"repeat")):(u.push(c),n.setItem(t,u.join(",")))}l.push(r(c))}l.length&&l.forEach((function(t){e._tmr.push(t)}))}}();function p(t){var e=l("sport_uid"),n=t||{};e&&(n.userid=e),n.url&&c&&"function"==typeof c&&(n.url=c(n.url)),a(n)}r("PopupGalleryView",{options:{cssSels:{Main:{imageView:".js-photo",imageNum:".js-photo_num",imagesTotal:".js-photos_cnt",previewsCont:".js-photo_slider",sizeCont:".js-photo_container",sharesCont:".js-photo_shares"},sizeReference:".js-size-reference",setProps:{title:".js-photo_title",note:".js-photo_note"}},cssClss:{Loading:"viewbox__slide_loading",Error:"viewbox__slide_error",hasPreviews:"viewbox_list",hideShares:"viewbox__slides_hide-shares"},showOnChange:!1,templates:{block:o("ct-viewbox-popup.xml"),frames:o("ct-viewbox-slides.xml"),splash:o("ct-viewbox-more.xml")},splashBannerParams:{slotId:"586902?_SITEID=173"},setContSize:!1,showBanner:!0,imagesSet:null,imagesVersion:0,resizeView:!0,_Handlers:{model:{splash:function(){s(t(document.body)),h({type:"finish",pageCounter:!0})},imageready:function(t,e,n,r){if(t&&this._isTargetImage(n,r)&&this._Model.getCurrentImage().image===e&&this._state.visible){var o=t.gallery_id;if(o&&h({galleryId:o}),u)return void(u=!1);p({url:t.share_url}),s={root:this._elems.parent.find(".".concat(this._opts.cssClss.ActiveSlide)).get(0)},a=t.share_url,l=s&&s.root,setTimeout((function(){var t=(0,i.getDWHLogger)();t&&l&&a&&t.reinitialize({root:l,config:{asyncTarget:"gallery",options:{url:a}}})}),150)}var s,a,l},imagechange:function(){var t=this._getViewParent();s(t)},setchange:function(t){this._model.setSplashUrl((t||{}).urlSplash)}},show:function(){this._opts.immediate&&(u=!0)},hide:function(){h({type:"finish"})}}}}),r("ShowGalleryPopup",{options:{_plugins:null}}),r("ShowGalleryPopup.Ajax",{options:{_plugins:["Ajax"],setGalleryPopupOptions:function(t){return{showBanner:!!t.data.showBanner}}}}),r("PopupGalleryView.Shot",{options:{_Handlers:{init:function(){var t=this._model.getSetParams(0);this._model.changeImage(t.currentIndex),this.Show()}},immediate:!0}}),r("PopupGalleryView.Infographics",{options:{sizeLimits:{height:1/0}}}),r("PopupGalleryView.Shot.Infographics",{options:{sizeLimits:{height:1/0},imageSliderExt:"ImageView.Infographics"}}),r("WritableGalleryPreviews.PopupGalleryView",{options:{previewsVersion:2,Templates:{previews:o("ct-viewbox-previews.xml")},cssSels:{Main:{previewsCont:".js-photo_slider_cont",Preview:".js-photo_preview"}},cssClss:{currentPreview:"viewbox__preview_active"}}})}(window.jQuery,window,window.ru.mail.cpf)},91723:function(t,e,n){var i=n(74933)(n(54036)),r=n(83816);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}n(91222);var s=window.ru.mail.cpf.Tools.getTemplate;(0,r.setConfig)("LazyItem",{options:{triggerZone:.55,types:{contentroll:{params:{template:s("ct-contentroll.xml"),pageEndInsertLimitation:!0}}}}}),(0,r.setConfig)("LazyItem.PulseViewport25",{options:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({triggerZone:2.5},{types:{embed:{options:{useScriptsCaching:!0}}}})}),(0,r.init)(),function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("LazyLoad",{options:{_plugins:null}}),i("LazyLoad.PromoPopup",{options:{_plugins:["Init"]}})}(window.jQuery,window,window.ru.mail.cpf)},82452:function(){!function(t,e,n){"use strict";var i=n.Basic;i.moduleOpts.setParams("MostSharedNewsModel",{initializer:function(e,i){var r=t(".js-article").eq(0).attr("data-news-id")||null,o=t("#index_page");return new n.Modules.MostSharedNewsModel(e,i,null,{id:r,isMainPage:!!o.length})}}),i.moduleOpts.setParams("MostSharedNews",{options:{templates:{notification:n.Tools.getTemplate("ct-notify.xml")}}})}(window.jQuery,window,window.ru.mail.cpf)},80641:function(){!function(t,e){"use strict";var n=e.Basic.moduleOpts.setParams;n("Notification",{options:{cssSels:{Main:{Head:".js-alert__head",Message:".js-alert__text_0"}}}}),n("Notify",{options:{blockSel:"#box-alert"}})}(window,window.ru.mail.cpf)},26483:function(){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams,r=n.Tools.PubSub,o=n.Tools.getTemplate;i("Overlay",{options:{cssClss:{htmlModifier:"popup-shown",loading:"overlay_loading"}}}),i("Popup",{options:{cssClss:{ppShwn:"popup-shown",bannerShown:"overlay_banner"}}}),i("Popup.ImageView",{options:{overlay:"ImageView"}}),i("Popup.alert",{options:{templates:{parent:o("ct-popup-alert.xml")}}}),i("Overlay.ImageView",{options:{cssSels:{parent:".js-popup_gallery"},cssClss:{htmlModifier:"popup-shown",loading:"overlay_loading"},_Handlers:{hide:function(){r.publish("fixedPanel_update_slot")}}}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},89498:function(){!function(t,e){"use strict";(0,e.Basic.moduleOpts.setParams)("PromoPopup",{options:{bannerParams:{moduleName:"SlotView",id:"389069",template:"ct-promo-popup.xml",sitezone:2},timers:{show:3e3,hide:5e3}}})}(window,window.ru.mail.cpf)},86233:function(t,e,n){var i=n(1436),r=n(72483),o=n(70704),s=n(72776);!function(t,e,n){"use strict";var a=e.Tools,l=e.Basic.moduleOpts.setParams,c=a.getTemplate,u=(0,n.utils.RadarReport.createReporter)({projectName:"sport",transportType:"img"});l("PushNotificationsModel",{options:{_Handlers:{ready:function(t){u.send("push_client_ready_subscribed",t.isSubscribed?1:0)},subscribe:function(){u.send("push_client_subscribe",1),(0,o.sendTopMailEvent)("2642543","webpush_subscribe_success")},unsubscribe:function(){u.send("push_client_subscribe",0)},error:function(t){var e="push_client_error"+(t.code?"_"+t.code:"");u.send(e,1)}},timeMarkDelta:2592e5,getInstance:function(){return(0,s.init)({application:"content_sport",allowedPlatforms:["Chrome","Firefox"],serverUrl:"/api-proxy/browserpush/register/",workerInstaller:(0,i.getWorker)({workerKey:"sw-common"})})}}}),l("PushNotificationsView",{options:{template:c("ct-push-notifications.xml")},_Handlers:{show:function(){var t=this._elems.dialog&&this._elems.dialog.get(0);t&&(0,r.attachChildrenToDWH)({root:t})}}})}(window.jQuery||window.$,window.ru.mail.cpf,window.ru.mail.mpf)},76241:function(){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("Shares",{options:{getCntOnInit:!1,urlTypeParam:"social",Counters:{vk:"clr1481630",fb:"clr1481629",my:"clr1481627",ok:"clr1481628",tw:"clr1744478"}}}),i("Shares.Total",{options:{ignoreMetaParams:!1,showCnt:!0,getCntOnInit:!0}}),i("Shares.Landing",{options:{ignoreMetaParams:!1,showCnt:!0,getCntOnInit:!0}}),i("Shares.PopupGalleryView",{options:{ignoreMetaParams:!0,prepareParams:function(t,e){t.Title="tw"==e?t.Tweet||t.Title||t.Description:null}}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},39068:function(){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams,r=n.Tools.getTemplate,o=n.Tools.triggerResize,s=n.Basic.Constructors._repo.get("Popup");i("ShowPopupModel.SportEvents",{paramAttrs:{url:"data-popup-update-url"}}),i("ShowPopup.SportEvents",{options:{cssSels:{redraw:".js-redraw-popup__sport-events"},useHash:!0,hashKey:"events",popupExt:"SportEvents"}}),i("Popup.SportEvents",{options:{_Handlers:{show:function(){o()}},templates:{parent:r("ct-popup-sport-events.xml")}}}),function(){if(-1!==e.location.pathname.indexOf("info")){var n=t("#team-info");if(n.length)new s(null,n).show()}}(),i("ShowPopup.TeamDetails",{options:{cssSels:{show:null},useHash:!0,hashKey:"team-info",popupExt:"TeamDetails"}}),i("Popup.TeamDetails",{options:{templates:{parent:r("ct-popup-team-info.xml")}}}),i("ShowPopup.Subscription",{options:{cssSels:{show:null},useHash:!0}}),i("ShowPopup.Subscription.Confirm",{options:{hashKey:"confirmletter",popupExt:"SubscriptionConfirm"}}),i("ShowPopup.Subscription.Error",{options:{hashKey:"confirmletter_error",popupExt:"SubscriptionError"}}),i("ShowPopup.Subscription.Unsubscribe",{options:{hashKey:"unsubscribe",popupExt:"SubscriptionUnsubscribe"}}),i("ShowPopup.Subscription.UnsubscribeError",{options:{hashKey:"unsubscribe_error",popupExt:"UnsubscriptionError"}}),i("Popup.SubscriptionConfirm",{options:{templates:{parent:r("ct-popup-subscribe-confirm.xml")}}}),i("Popup.SubscriptionError",{options:{templates:{parent:r("ct-popup-subscribe-error.xml")}}}),i("Popup.SubscriptionUnsubscribe",{options:{templates:{parent:r("ct-popup-subscribe-unsubscribe.xml")}}}),i("Popup.UnsubscriptionError",{options:{templates:{parent:r("ct-popup-subscribe-unsubscribe-error.xml")}}})}(window.jQuery,window,window.ru.mail.cpf)},58628:function(){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams,r=n.Instances.Ago,o=n.Tools.triggerResize;i("Slider",{options:{cssClss:{animatedCont:"slider__items_animated",currentPageFrame:"slider__item_selected"},_Handlers:{beforeSlide:function(){r&&r.update()},slide:function(){r&&r.update()},init:function(){r&&r.update()}},_plugins:null}}),i("Slider.ImageView",{options:{cssSels:{Main:{content:".js-slider__content"}},cssClss:{animatedCont:"viewbox__slides_animated",currentPageFrame:"viewbox__slide_active"},loop:!1,pageSize:1,swipeExt:"ImageViewSlider",align:"center"}}),i("Slider.ImageView.Infographics",{options:{orientation:"vertical",touchSupport:!0}}),i("Slider.PopupGalleryViewPreviews",{options:{cssSels:{Main:{container:".js-photo_slider_wrap",content:".js-photo_slider_cont"},frame:".js-photo_slider_item"},cssClss:{animatedCont:"animated"},touchSupport:!1}}),i("Slider.Fullscreen",{options:{cssClss:{animatedCont:"animated",currentPageFrame:"diafilm__item_selected"},animationDuration:1500,pageSize:1,align:"center"}}),i("Slider.SportEvents",{options:{_Handlers:{init:function(){var t=this._opts.updateTimer;t&&setInterval(function(){this.nextPage()}.bind(this),t)},dom:{mouseenter:function(){this.freeze(!0)},mouseleave:function(){this.freeze(!1)}}},orientation:"vertical",hideControls:!0,loop:!0,updateTimer:5e3}}),i("Slider.OlympicResults",{options:{cssSels:{Main:{controlNext:".js-slider__next",controlPrev:".js-slider__previous"}},cssClss:{disabledControl:"action_disabled"},pageSize:2}}),i("Slider.SpecialEvents",{options:{cssSels:{focusTarget:".js-slider__focus-target"}}}),i("Slider.Disciplines",{options:{cssSels:{disabledControl:""},loop:!0}}),i("Slider.Special",{options:{_Handlers:{slide:function(){o()}}}}),i("Slider.Resort",{options:{loop:!0}})}(window.jQuery,window,window.ru.mail.cpf)},83107:function(){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("SpringsItem",{options:{cssClss:{active:"sticky-springs__item_active"}}}),i("SpringsContainer",{options:{lazyTimeout:2e3,minSegmentHeight:400,itemOptions:{minHeight:60},alwaysShowFirst:!0,paddingTop:20,_Handlers:{ready:function(){var e=this._Opts.cssSels.item,n=this._Elems.Parent.find(".js-springs__group").toArray(),i=this;n.forEach((function(n){var r=t(n),o=r.find(".js-springs__group_top"),s=r.find(".js-springs__group_bottom"),a=r.find(e).toArray().map((function(e){return{$:t(e),options:{}}}));i.addGroup(a,{anchorTop:o.length?o:null,anchorBottom:s.length?s:null})}))}}}})}(window.jQuery,window,window.ru.mail.cpf)},24010:function(){var t,e=window.ru.mail.cpf.Basic,n=e.moduleOpts,i=e.Extend,r=window.ru.mail.cpf.Tools.triggerResize,o=(n.set,n.setParams);o("StickyPanel.TopButton",{options:{cssClss:{state:[{base:"sticky__inner",up:"hidden_all",down:"sticky__inner_bottom"}]},getInitial:function(){t||(t=this._elems.parent.get(0))},getNextState:function(){return t.getBoundingClientRect().top<0?1:-1}}}),o("StickyPanel.Rubric",{options:{cssClss:{state:[{base:"sticky__inner",up:"sticky__inner_top",down:"sticky__inner_bottom"}]}}}),o("StickyPanel.Card.AnchorMenu",function(){var t=20,e=20;function n(n){n=n||function(){if(void 0!==window.pageXOffset&&void 0!==window.pageYOffset)return{left:window.pageXOffset,top:window.pageYOffset};var t=document.documentElement||document.body.parentNode||document.body;return{left:t.scrollLeft,top:t.scrollTop}}().top;var i=this._opts,r=this._State.sizes,o=r.window.height,s=r.fullCont.el,a=this._elems.menu,l=r.items.el.filter((function(t,e){return $(e).hasClass(i.cssClss.activeItem)})),c=r.items.rects[l.data("anchor")],u=0,h={top:"",bottom:""};if(n-r.fullCont.offset.top+t>0){var p=r.mainWrapper.offset.top+r.mainWrapper.rect.height-n;u=-1,r.fullCont.rect.height<o?(h.top=t,r.fullCont.lastTop=h.top,r.fullCont.rect.height+t>p&&(h={top:"",bottom:e},u=1)):p<o&&(h={top:"",bottom:e},u=1)}return s.css(h),c&&a.scrollTop(c.offset.top-r.menu.offset.top),u}return{options:{cssSels:{Main:{menu:".js-stickypanel__menu",menuFullWrapper:".js-stickypanel__menu-wrapper_full",menuItem:".js-stickypanel__menu-item",menuItems:".reference-page__menu-inner",slot:".js-stickypanel__slot",article:".js-stickypanel__article",node:".js-stickypanel__menu-wrapper"},pageWrapper:".wrapper"},cssClss:{activeItem:"reference-page__menu-item_active",state:[{base:"",up:"sticky__inner_fixed",down:"sticky__inner_end"}]},getInitial:function(){var o,s,a=this._State,l=this._elems,c=this._opts,u=c.cssSels,h=c.cssClss,p=h.activeItem,d=l.menuFullWrapper,f=l.node,m=l.menu,g=l.article,v=l.menuItems,_=p?l.menuItem:[],w=d.closest(u.pageWrapper),y=g.height();a.timer&&clearInterval(a.timer),a.timer=setInterval((function(){var t=g.height();y!==t&&r()}),500),d.height(y),f.width(d.width()),a.state=3,o=f,s=h.state[0],Object.keys(s).forEach((function(t){o.removeClass(s[t])}));var b=!a.sizes;b&&(a.sizes={menu:{el:m},fullCont:{el:f},pageWrapper:{el:w},mainWrapper:{el:d,offset:d.offset(),rect:d.get(0).getBoundingClientRect()},itemsWrapper:{el:v,rect:v.get(0).getBoundingClientRect()},items:{el:_,rects:{}},window:{height:document.body.clientHeight}}),a.sizes.itemsWrapper.rect.height+t+e>a.sizes.window.height&&(m.css("overflow","hidden"),m.height(a.sizes.window.height-t-e)),a.sizes=i(!0,a.sizes,{menu:{offset:m.offset(),rect:m.get(0).getBoundingClientRect()},fullCont:{offset:d.offset(),rect:f.get(0).getBoundingClientRect()},pageWrapper:{rect:w.get(0).getBoundingClientRect()},mainWrapper:{rect:d.get(0).getBoundingClientRect()},itemsWrapper:{rect:v.get(0).getBoundingClientRect()},window:{height:document.body.clientHeight}}),_.length&&_.each((function(t,e){var n=e.getAttribute("data-anchor"),i=$(e);a.sizes.items.rects[n]||(a.sizes.items.rects[n]={el:i}),a.sizes.items.rects[n].rect=e.getBoundingClientRect(),a.sizes.items.rects[n].offset=i.offset()})),b||n.call(this)},getNextState:function(t){return n.call(this,t)},raf:!1}}}()),function(){var t,e;o("StickyPanel.Footer",{options:{cssClss:{state:[{base:"sticky__inner",up:"",down:"sticky__inner_bottom"}]},getInitial:function(){var n=this._elems.parent;e||(e=$("<div/>").css({height:28}),n.after(e),n.before($("<div/>"))),t||(t=n.get(0).previousElementSibling)},getNextState:function(){if(t)return t.getBoundingClientRect().bottom<window.innerHeight-28?(e.show(),1):(e.hide(),-1)}}})}(),function(){var t,e;o("StickyPanel.Schedule.TV",{options:{raf:!1,cssClss:{state:[{base:"",up:"sticky__inner_top sticky__inner_tv",down:""}]},getInitial:function(){t||(t=this._elems.parent.get(0)),e||(e=$("<div/>").css({height:60}),this._elems.node.after(e));var n=t.getBoundingClientRect().width;this._elems.node.css({width:n})},getNextState:function(){var n=this._State.dimensions,i=t.getBoundingClientRect();return i.top<=0&&i.bottom>n.height?(e.show(),-1):i.bottom<=n.height?(e.hide(),1):(e.hide(),0)}}})}()},95897:function(t,e,n){var i=n(13085);!function(t,e,n){"use strict";var r=n.Basic.moduleOpts.setParams,o=n.Tools.PubSub,s=n.Tools.initModules,a=n.Tools.triggerResize;function l(t){var e,n=this._elems,i=n.tabLink,r=n.Buttons,o=this._opts.attrs.buttonIndex;if(e=this._mode.buttonsByAttr?r.filter((function(e,n){return n.getAttribute(o,t)===t}))[0]:r[t],i){var s=e.getAttribute(this._opts.attrs.tabLinkTitle),a=e.getAttribute("href");i.find(".link__text").html(s),i.attr("href",a)}}r("Tabs",{options:{watchHashBang:!0}}),r("TabsView",{options:{cssClss:{curTab:"tab__content_active",curBtn:"filter__item_active"}}}),r("TabsView.Bookmakers",{options:{cssClss:{curTab:"toggle__item_active",curBtn:"filter__item_active"}}}),r("TabsView.SportEvents",{options:{_Handlers:{tabShow:function(){a()}},cssClss:{curTab:"toggle__item_active"}}}),r("TabsView.TeamLastMatch",{options:{_Handlers:{tabShow:function(){(0,i.hitOnStateChange)()}},cssClss:{curBtn:"filter__item_active",curTab:"toggle__item_active"}}}),function(){var t={alias:"prov-SE",rb_key:"www_sport_express_ru_online"};function i(e){var i=this._elems.Tabs.filter("[data-tab=".concat(e.alias,"]"));if(i.length){if(!i.html()){var r=n.Tools.getTemplate("ct-slot-100.xml"),o={data:{rb_key:t.rb_key}};r.asyncRender(o).then((function(t){i.html(t),s(i)}))}this._model.currentTab(e.alias)}}e.addEventListener("@react-translation/sendActiveProvider",(function(n){e.DEBUG&&e.console.log("@react-translation/sendActiveProvider",n),t=n.detail.activeProvider,o.publish("react.sport.translation.provider",n.detail.activeProvider)})),r("Tabs.PartnerFeed",{options:{useStringTabId:!0,startTab:t.alias}}),r("TabsView.PartnerFeed",{options:{cssClss:{curTab:"toggle__item_active"},_Handlers:{init:function(){i.call(this,t)},tabShow:function(t){s(t)},pubsub:{"react.sport.translation.provider":function(t){var e=t.data;i.call(this,e)}}}}})}(),r("Tabs.EventsResults",{options:{useStringTabId:!0,watchHashBang:!1}}),r("TabsView.EventsResults",{options:{_Handlers:{tabShow:function(t,e){l.call(this,e),s(t),a()}},attrs:{tabLinkTitle:"data-link-title"},curBtnClickable:!0,cssSels:{Main:{Buttons:".js-tabs__button",Tabs:".js-tabs__content",tabLink:".js-tabs__media-link"}},cssClss:{curTab:"toggle__item_active",curBtn:"filter__item_active"}}}),r("TabsView.Special",{options:{_Handlers:{tabShow:function(){a()}},cssSels:{Main:{Buttons:".js-tabs__button",Tabs:".js-tabs__content"}},cssClss:{curTab:"toggle__item_active",curBtn:"filter__item_active"}}}),r("TabsView.Special.Media",{options:{cssSels:{Main:{tabLink:".js-tabs__media-link"}},attrs:{tabLinkTitle:"data-link-title"},curBtnClickable:!0,_Handlers:{tabShow:function(t,e){l.call(this,e),a()}}}})}(window.jQuery,window,window.ru.mail.cpf)},89757:function(){!function(t,e,n){"use strict";var i=n.Basic.moduleOpts.setParams;i("Toggle.Detail",{options:{cssClss:{hidden:"hidden"},hideButton:!0}}),i("Toggle.ageRestriction",{options:{cssClss:{hidden:"p-age-restriction__container_hidden"}}}),i("Toggle.Bookmakers",{options:{cssSels:{preventToggle:".js-bookmakers-url",Main:{dropDownIcon:".js-toggle__drop-down-icon"}},cssClss:{hidden:""},attrs:{number:"data-number"},_Handlers:{buttonClick:function(t){var e=this._opts.cssSels,n=this._opts.attrs.number,i=t.target.closest(e.button).getAttribute(n);this._elems.dropDownIcon[i].classList.toggle("icon_rotate"),this._elems.container[i].classList.toggle("hidden")}}}})}(window.jQuery,window,window.ru.mail.cpf)},1728:function(){"use strict";(0,window.ru.mail.cpf.Basic.moduleOpts.setParams)("TopMailEvents.Shares",{options:{eventParams:{id:2642543}}})},13064:function(){!function(t,e,n,i){"use strict";var r=i.prefixed("transform"),o=i.csstransforms,s=e.requestAnimationFrame,a=e.MutationObserver,l=n.Basic.getView,c=n.Tools.FuncTools.multi,u=t(e),h={cssSels:{Main:{panel:".js-fixed-panel"}},cssClss:{base:"m-fixed-panel",top:"m-fixed-panel_top",bottom:"m-fixed-panel_bottom",fixed:"m-fixed-panel_fixed",absolute:"m-fixed-panel_absolute"},offset:{top:20,bottom:20},panelTop:!1,documentElement:e.document},p=o?function(t,e){return t.css(r,"translate(0, "+e.y+"px)")}:function(t,e){return t.css({top:e.y})};function d(){return e.pageYOffset||document.documentElement.scrollTop}var f=function(t,e){var n,i,r=this._opts.cssClss,o={},s=this._elems.panel;return o[r.base]=!0,o[r.absolute]=0===t||2===t,o[r.fixed]=-1===t||1===t,o[r.top]=1===t,o[r.bottom]=-1===t,this._state.position=t,n=s,i=o,Object.keys(i).forEach((function(t){n.toggleClass(t,i[t])})),s.css("left",o[r.fixed]?s.parent().offset().left-document.body.scrollLeft:""),p(s,{y:e}),this._elems.panel},m=c((function(t,e){var n=this._opts.panelTop;return t?e?n?"small":"fullDown":"fullUp":"small"})).method("small",(function(){var t=f.bind(this),e=this._opts.offset,n=this._state.bounds.parent,i=this._state.bounds.panel,r=d.call(this),o=r+e.top<n.offset.top,s=n.rect.height+n.offset.top-r>i.rect.height+e.top;o?t(-2,0):s?t(1,e.top):t(2,n.rect.height-i.rect.height-e.bottom)})).method("fullDown",(function(t,e,n,i){var r=f.bind(this),o=this._opts.offset,s=this._state.height,a=this._state.bounds.parent,l=this._state.bounds.panel,c=a.rect.top<=o.top&&a.rect.bottom<=s,u=a.rect.top<o.top&&a.rect.bottom>s&&l.rect.bottom<=s;1===i?r(0,l.rect.top-a.rect.top-o.bottom):c?r(2,a.rect.height-l.rect.height-o.bottom):u&&r(-1,0)})).method("fullUp",(function(t,e,n,i){var r=f.bind(this),o=this._opts.offset,s=this._state.height,a=this._state.bounds.parent,l=this._state.bounds.panel,c=a.rect.top>o.top-o.bottom,u=a.rect.top<=0&&a.rect.bottom>=s&&l.rect.top>o.top&&l.rect.bottom>=s;-1===i?r(0,l.rect.top-a.rect.top-o.bottom):c?r(-2,0):u&&r(1,o.top)})),g=function(){var t=d.call(this),e=this.getBounds(),n=t>=this._state.value,i=e.panel.rect.height+this._opts.offset.top>u.height();this._state.value=t,this._state.bounds=e,s(m.bind(this,i,n,t,this._state.position))},v=function(){var t=this._state.bounds,e=this.getBounds();t.parent.rect.height===e.parent.rect.height&&t.panel.rect.height===e.panel.rect.height||g.call(this)};l({_Init:function(){var t=this,n=new a((function(){v.call(t)}));null!==this._elems.panel?(this._state={position:-2,value:d.call(this),height:u.height()},u.on("scroll",(function(e){e.target==t._opts.documentElement&&g.call(t)})),u.on("resize",(function(){t._state.height=u.height(),g.call(t)})),n.observe(this._elems.panel.get(0),{subtree:!0,childList:!0}),g.call(this)):e.console.error('Ошибка инициализации, не найден контейнер блока "'+this._elems.parent+'"')},getBounds:function(){var t=this._elems,e=t.parent,n=t.panel;return{parent:{rect:e.get(0).getBoundingClientRect(),offset:e.offset()},panel:{rect:n.get(0).getBoundingClientRect(),offset:n.offset()}}}},h,null,"FixedPanel")}(window.jQuery,window,window.ru.mail.cpf,window.Modernizr)},89687:function(){!function(t,e,n){"use strict";var i=n.Basic.typeOf,r=n.Basic.Extend,o=n.Basic.throttle,s=n.Basic.Constructors.getModel,a=n.Basic.moduleOpts.setParams,l=n.Types.String.Url.addParams,c=n.Tools.transport,u="BannerController",h="_bannerCont_",p={transport:function(){return c.apply(null,arguments)},baseApiUrl:"//ad.mail.ru/adp/"},d=s(function(){function n(t){var e="";return-1!=t.indexOf("\x3c!--slotLoaded--\x3e")&&(this.loaded=!0,this.contents=e=t),e}function s(t){var e="";return i(t,"array")&&t.length&&(this.loaded=!0,this.contents=e=t[0].html),e}function a(t){var e,i,r,o=this._banners[t];return o?(o.loadPromise?i=o.loadPromise:(r="rb"===o.dataType?"jsonp":"text",e=function(t){return delete o.loadPromise,t},o.loadPromise=i=this._opts.transport({url:o.url,type:"GET",dataType:r,data:o.params||{}}).then((function(){var t="text"===r?n:s;return o.rendered=!1,t.apply(o,arguments)})),i.then(c.bind(this,t)).then(e,e)),i):Promise.reject()}function c(t){var e=this._hitTimers,n=this._banners[t].hitTimeout,i=!1;return isNaN(n)?e[t]=null:n<=0?(e[t]=!0,i=!0):(e[t]=setTimeout((function(){e[t]=null}),n),i=!0),i}function u(){this._banners.forEach((function(t){t.hasPlace=null}))}return{_Init:function(){this._banners=[],this._hitTimers={},t(e).on("resize",o(u,100,this))},add:function(t,n){var o,s,c,u=this._opts;if(i(t,"string"))s=t;else{if(!i(t,"object"))return;(c=t.query||t.id)&&(s=u.baseApiUrl+"?q="+encodeURIComponent(c),e.rb_innerhtml=1),t.params&&(s=l(t.params||{},s,{replace:!0}))}return t=r({},t,{url:s,contents:null}),o=this._banners.push(t)-1,i(t.hasPlaceForBanner,"function")||(t.hasPlaceForBanner=this.hasPlaceForBanner.bind(this)),!1!==n&&a.call(this,o),o},get:function(t){var e,n=this._banners[t];return n&&(e=n.contents,n.contents=null),e},reload:function(t){var e=this.get(t);return this.preload(t),e},canReload:function(t){var e=this._hitTimers[t];return!0!==e&&(null===e||i(e,"undefined"))},preload:a,check:function(t){var e=this._banners[t],n=!1;return e&&((n=!!e.contents)||this.preload(t)),n},drawTo:function(n,i,r){var o,s,a=this._banners[n];if(a)return(o=t(e.document.createElement("iframe"))).attr("scrolling","no"),Array.isArray(r)&&2===r.length&&o.css({width:r[0],height:r[1]}),o.attr("src","about:blank"),i.children().detach(),o.appendTo(i),(s=o.contents().get(0)).write(this.get(n)),s.close(),a.rendered=!0,o},hasPlaceForBanner:function(e,n,i){var r=n[i?0:1],o=i?"width":"height",s=i?"offsetLeft":"offsetTop";return e[o]()-Math.max.apply(Math,e.children().toArray().map((function(e){return e[s]+t(e)[o]()})))>=r},showBanner:function(t,e){var n,r=this._banners[e],o=r&&r.container,s=!1;return o?(i(o,"string")&&((o=t.data(h+e))||(o=t.find(r.container),t.data(h+e,o))),o.length&&(n=r.hasPlaceForBanner(t,r.sizes,r.horizontal))&&(r.loaded?(r.rendered||this.drawTo(e,o,r.sizes),this.canReload(e)&&a.call(this,e),s=!0):(this.preload(e),s=!1)),s&&(i(n,"boolean")?n:s)):s}}}(),p,null,u)();a(u,{initializer:function(){return d}}),r(!0,n,{Instances:{bnnrCtrl:d}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},5263:function(){!function(t,e,n){"use strict";var i=n.Tools.Layout,r=n.Basic.debounce;function o(){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!0),e.dispatchEvent(t)}var s={_Init:function(){var t=this._elems;this._viewport=t.viewport?t.viewport.get(0):document.body,this._content=t.content?t.content.get(0):this._viewport,this._state={},this.setDirty=r(this.setDirty.bind(this),30),this.onScroll=this.onScroll.bind(this),this.init.apply(this,arguments)},init:function(){var n=this._elems.viewport;this.setDirty(),n&&n.length&&n.on("scroll",this.onScroll),t(e).on("scroll",this.onScroll).on("load",this.setDirty).on("resize",this.setDirty)},VIEW_STATE:{out:0,precedeEnter:1,precedeMove:2,precedeLeave:3,viewportEnter:4,viewportMove:8,viewportLeave:12},destroy:function(){t(e).off("scroll",this.onScroll).off("load",this.setDirty).off("resize",this.setDirty),delete this._state},_requestAF:function(t){this._pendingAF||(e.requestAnimationFrame(function(){t.apply(this),this._pendingAF=!1}.bind(this)),this._pendingAF=!0)},onScroll:function(){this._state.dirty&&this._recalcLazyElems(),this._requestAF(this._checkLazyElems)},getScroll:function(){return i.getScroll(this._viewport)},setDirty:function(){var t=this._opts.cssSels,n=this._state,r=this._content,o=this._elems.parent,s=e.innerWidth,a=e.innerHeight,l=this._opts.precede,c=this._viewport,u=c===document.body?{top:0,left:0,width:s,height:a}:i.getClientRect(c);n.dirty=!0,n.winWidth=s,n.winHeight=a,n.metrics=[],n.lazyElems=o.find(t.lazy).get(),n.vpRect=u,u.scrollWidth=r.scrollWidth,u.scrollHeight=r.scrollHeight,u.precedWidth=l*u.width,u.precedHeight=l*u.height,this._recalcLazyElems(),e.clearTimeout(this._invTm),this._invTm=e.setTimeout(this.setDirty.bind(this),3e5)},_recalcLazyElems:function(){var n=this._state,r=n.vpRect,o=this.getScroll(),s=n.lazyElems.splice(0,50);e.clearTimeout(this._recalcTm),n.lazyElems.length?this._recalcTm=e.setTimeout(this._recalcLazyElems.bind(this),30):n.dirty=!1,s=s.map((function(e){var n=i.getClientRect(e),s=n.left-r.left,a=s+n.width,l=n.top-r.top,c=l+n.height;return n.widthIn=s-r.width+o.left,n.widthOut=a+o.left,n.heightIn=l-r.height+o.top,n.heightOut=c+o.top,n.state=0,n.elem=t(e),n})),n.metrics=n.metrics.concat(s),this._requestAF(this._checkLazyElems)},_checkLazyElems:function(){var t=this._state,e=t.vpRect,n=this.getScroll(),i=this._getOutdent();t.metrics=t.metrics&&t.metrics.filter((function(t){var r=this.VIEW_STATE,o={};if(t.width||t.height){var s=t.widthIn-i.right,a=t.widthOut+i.left,l=t.heightIn-i.bottom,c=t.heightOut+i.top,u=n.left>=s&&n.left<=a&&n.top>=l&&n.top<=c,h=u||n.left+e.precedWidth>=s&&n.left-e.precedWidth<=a&&n.top+e.precedHeight>=l&&n.top-e.precedHeight<=c;if((u||h&&a!==s&&c!==l)&&(o.x=(n.left-s)/(a-s),o.y=(n.top-l)/(c-l),o.x=Math.max(0,Math.min(1,o.x)),o.y=Math.max(0,Math.min(1,o.y))),u){var p=t.state&r.precedeMove||t.state&r.precedeEnter;return t.state=t.state&r.viewportEnter?r.viewportMove:r.viewportEnter,p&&(t.state=t.state|r.precedeLeave),p?this.precedeLeave(t)&&this.display(t,o):this.display(t,o)}if(h){var d=t.state&r.viewportMove||t.state&r.viewportEnter,f=this._opts.immediate?this.display.bind(this):this.preload.bind(this);return t.state=t.state&r.precedeEnter?r.precedeMove:r.precedeEnter,d&&(t.state=t.state|r.viewportLeave),d?this.viewportLeave(t)&&f(t,o):f(t,o)}if(t.state&r.precedeMove)return t.state=r.precedeLeave,this.precedeLeave(t)}return t.state=r.out,!0}),this)},precedeLeave:function(){return!0},viewportLeave:function(){return!0},_getOutdent:function(){var t,e=this._state,n={left:0,right:0,top:0,bottom:0};return this._viewport!==document.body&&(t=i.getClientRect(this._viewport),n={left:Math.min(0,t.left),right:Math.min(0,e.winWidth-t.left-t.width),top:Math.min(0,t.top),bottom:Math.min(0,e.winHeight-t.top-t.height)}),n},preload:function(t){var e,n=this._opts,i=n.srcAttr,r=n.cssClss,o=t.elem,s=o.attr(n.handlerAttr),a=n.lazyHandlers.preload,l=o.get(0).tagName;return o.hasClass(r.pending)||(o.addClass(r.pending),s&&s in a?a[s].call(this,t):"IMG"===l&&(e=o.attr(i))&&((new Image).src=e)),!0},display:function(t){var e,n=this._opts,i=n.srcAttr,r=t.elem,o=r.attr(n.handlerAttr),s=n.lazyHandlers.display,a=r.get(0).tagName;o&&o in s?s[o].call(this,t):"IMG"===a&&(e=r.attr(i))&&r.attr("src",e).removeAttr(i).one("load error",this.done(t))},done:function(t){var e=this._opts.cssClss;return function(){t.elem.addClass(e.complete).removeClass(e.pending).removeClass(e.lazy),this._checkElemSize(t)}.bind(this)},_checkVPSize:function(){var t=this._state.vpRect,e=this._viewport,n=e.scrollWidth-e.offsetWidth,i=e.scrollHeight-e.offsetHeight;n===t.scrollWidth&&i===t.scrollHeight||o()},_checkElemSize:function(t){var e=i.getClientRect(t.elem);e.width===t.width&&e.height===t.height||o()}};n.Basic.Extend(!0,n,{Modules:{LazyLoad:n.Basic.Constructors.getView(s,{cssSels:{lazy:".js-lazy",Main:{viewport:null,content:null}},cssClss:{lazy:"js-lazy",pending:"js-lazy-pending",complete:"js-lazy-complete"},srcAttr:"data-src",handlerAttr:"data-lazy-handlers",precede:0,immediate:!1,lazyHandlers:{preload:{},display:{}}},null,"LazyLoad")}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},2180:function(){!function(t,e,n){"use strict";var i={display:function(t){var e=this._opts.cssClss;t.elem.hasClass(e.lazy)&&(t.elem.removeClass(e.lazy).removeClass(e.pending),n.Tools.initModules(t.elem))}};n.Basic.Constructors.addPlugin("LazyLoad",i,{cssSels:{lazy:".js-lazy-init"},cssClss:{lazy:"js-lazy-init"},precede:.2,immediate:!1},"Init")}(window.jQuery||window.$,window,window.ru.mail.cpf)},77107:function(){!function(t,e,n){"use strict";var i,r,o,s,a,l,c,u,h,p,d,f,m,g,v,_,w,y,b,S,E,T,C,P,I,A,O,M,B,x="Shares",F=n.Basic.typeOf,k=n.Basic.Extend,D=n.Basic.Constructors.getView,j=n.Basic.moduleOpts.setParams,z=e.getNameSpace,N={cssSels:{Main:{Btns:".js-shares_btn",Cnts:".js-shares_cnt",Total:".js-shares_total",countCont:null}},cssClss:{hideCount:"hidden_all",hidden:"hidden_all"},showCnt:!0,getCntOnInit:!0,typeAttr:"data-share",urlTypeParam:"social",url2Share:null,Counters:null,addParams:null,shareParams:{Title:null,Description:null,Image:null},prepareParams:function(t,e){var n=t.Tweet;"tw"==e&&n&&(t.Title=n)},ignoreMetaParams:navigator.userAgent.toLowerCase().indexOf("msie")>-1},L={my:{baseUrl:"//connect.mail.ru/",url:"share",count:"share_count?callback=1",countUseCallback:!0,getCount:function(t,e){var n;return t&&(n=t[e])&&n.shares||0},sizes:[550,340],params:{url:"share_url",title:"title",description:"description",image:"imageurl"},countParams:{url:"url_list",callback:"func"}},ok:{baseUrl:"//connect.ok.ru/",url:"dk?st.cmd=WidgetSharePreview",count:"dk?st.cmd=extLike",countUseCallback:!1,getCount:null,sizes:[550,320],params:{url:"st.shareUrl"},countParams:{url:"ref",id:"uid",callback:"callback"},serializeOptions:{getParamName:function(t,e){return t+"."+e}}},fb:{baseUrl:null,url:"//www.facebook.com/sharer.php",count:"//graph.facebook.com/",countUseCallback:!0,getCount:function(t){var e=0;return t&&t.share&&(e=t.share.share_count||e),e},sizes:[660,370],params:{url:"u"},countParams:{url:"id",callback:"callback"},addParams:{s:100}},vk:{baseUrl:"//vk.com/",url:"share.php",count:"share.php?act=count&format=json",countUseCallback:!1,getCount:null,sizes:[660,390],params:{url:"url",title:"title",description:"description",image:"image"},countParams:{url:"url",id:"index",callback:"callback"}},tw:{baseUrl:null,url:"https://twitter.com/share",count:null,countUseCallback:!0,getCount:null,sizes:[550,300],charsLimit:114,params:{url:"url",via:"via"},countParams:{url:"url",callback:"callback"}}},H=D((_=n.Types.String,w=_.Url,y=/cl(?:n|b|s|r)/i,b="shareType",S={title:"Title",description:"Description",image:"Image"},E={title:100,descr:500},T=["url","image","title","description"],i={},C=function(t,e,n){var r,o=t+(e=F(e,"undefined")?this.url2Share:e),s=i[o];return!n&&s?s:(s=w.getAbs(e),"object"==F(this._opts.urlParams)&&(s=w.addParams(this._opts.urlParams,s)),r=this._opts.urlTypeParam,s&&t?(null!==r&&(s=w.addParam(s,r||t,r?t:null)),o&&(i[o]=s),s):null)},P=function(t,e){var n;if(e){if("object"==(n=F(e)))return e[t];if("string"==n)return e}},I=(o={},s=function(t,e,n){var i,o;r&&(i=r[t])&&F(o=i[e],"function")&&(i[e]=null,o.call(null,n))},l=function(t,e){var n=o[t];return e=C.apply(this,[t,e]),n&&n[e]},c=function(t){var e,n=this._elemsByType[t],i=n.Count;i&&i.length&&(e=isNaN(e=l.call(this,t))?0:e,i.text(e),this._opts.cssClss.hideCount?n.countCont.toggleClass(this._opts.cssClss.hideCount,0===e):n.countCont.toggle(e>0))},u=function(t,e,n){var i=o[e];isNaN(t*=1)||(F(i,"object")||(o[e]=i={}),i[n]=t,this._trigger("typeCount",e,t),n===C.call(this,e)&&c.call(this,e))},h=function(t,e){var i,o;return F(r,"object")||((o=z("Instances",n)).oShareCallbacks?r=o.oShareCallbacks:o.oShareCallbacks=r={}),(i=r[t])instanceof Array||(i=r[t]=[]),i.push(e)-1},p=function(e){var n=this,i=L[e];if(null!==i.count){var r,o=i.countParams,s=i.countUseCallback,l=C.call(this,e),c={};c[o.url]=l,s||(c[o.id]=h.apply(this,[e,function(t){u.apply(n,[t,e,l])}])),o.url&&(c[o.callback]="?"),r=w.addParams(c,(i.baseUrl||"")+i.count,i.serializeOptions),a(),t.getJSON(r,s?function(t){var r=i.getCount(t,l);u.apply(n,[r,e,l])}:null)}},{getTypeCount:function(t,e){var n=l.call(this,t);return isNaN(n)||!0===e?p.call(this,t):c.call(this,t),n},initCbcks:a=function(){var t={updateCount:function(t,e){s.apply(null,["ok",t,e])}},n={Share:{count:function(t,e){s.apply(null,["vk",t,e])}}};e.ODKL=k(e.ODKL,t),e.VK=k(e.VK,n)}}).getTypeCount,A=function(){var t=this.Types;if(t)for(var e=0;e<t.length;e++)I.call(this,t[e])},O=function(t,e){return t&&(e=t.add(e)),e},M=function(){var e=this._elems.Cnts,n=this._elems.countCont,i=this._opts,r=i.typeAttr,o=this._elemsByType={},s=this.Types=[];this._elems.Btns&&this._elems.Btns.toArray().forEach((function(a,l){var c,u=t(a),h=u.attr(r)||u.data(b),p=o[h]={};h&&(-1===s.indexOf(h)&&s.push(h),u.removeAttr(r).data(b,h),p.Btn=O(p.Btn,u),i.showCnt&&e&&(c=e.eq(l)).length&&(p.Count=O(p.Count,c),p.countCont=O(p.countCont,n&&n.eq(l)||c)))}))},d=function(t){var n=this,i=this._Timers.ppCheckTimer;i&&(clearTimeout(i),this.ppCheckTimer=null,I.call(this,t,!0)),this._Timers.ppCheckTimer=setTimeout((function(){var i;n._Timers.ppCheckTimer=null;try{n.curWin.closed?(i=I.call(n,t,!0),n._trigger("windowClose",t,i)):d.call(n,t)}catch(t){e.console.error(t)}}),500)},m=function(e){var n,i,r,o,s,a,l=k({},this._shareParams),c=this._opts,u=l.via,h=c.prepareParams,p=!0!==c.ignoreMetaParams,d={},f=!1;if(F(h,"function")&&h.call(this,l,e),p&&(a={},t("meta",document.head).each((function(){var t,e=this.getAttribute("property")||this.getAttribute("name");e&&("description"===e||(t=e.split(":"))&&2===t.length&&"og"===t.shift())&&(a[t&&t.shift()||e]=this.getAttribute("content"))})),n=a),"tw"!=e)for(var m in S)S.hasOwnProperty(m)&&(i=l[S[m]]||p&&n[m])&&((r=E[m])&&i.length>r&&(r-=3,i=i.substr(0,r)+(" "!=i.charAt(r)?"...":"")),d[m]=i,f=!0);else f=!0,o=(o=l.Title||document.title).replace(/"/g,""),s=L[e].charsLimit,u&&(d.via=u,f=!0,s-=11+u.length),o.length>s&&(o=_.cutBySpace(o,s-3)+"..."),d.text=o;return f?d:null},f={},g=function(t){var e,n,i,r,o=f[t];return o||(e=L[t],n=this._opts.Counters,i=(e.baseUrl||"")+e.url,n&&(r=P(t,n))&&(r="//r.mail.ru/"+(F(r,"string")&&y.test(r)?"":"cln")+r),f[t]=o=r?r+"/"+i.replace(/^(http(s)?:)?\/\//i,""):i,o)},v=function(t){var e,n,i,r,o=this._opts.addParams,s=C.call(this,t),a=L[t],l=a.params,c=a.serializeOptions||{},u=a.addParams,h=g.call(this,t),p={};if(!s)return null;r=null!==(i=m.call(this,t)),p.url=s,r&&k(p,i);for(var d=0;d<T.length;d++)if(n=p[e=T[d]]){delete p[e];var f=l[e];f&&(h=w.addParam(h,f,n,c))}return u&&k(p,u),o&&k(p,P(t,o)),w.addParams(p,h,c)},B=function(t){var n,i=v.call(this,t),r=L[t];if(i&&r){if(n=this.curWin)try{n.close()}catch(t){e.console.error(t)}this.curWin=e.open(i,"share",function(t){for(var e,n,i,r=[],o=0;o<t.length;o++)e=t[o],n=o?"height":"width",i=o?"top":"left",r.push(n+"="+e,i+"="+Math.max(0,Math.round(screen[n]/2-e/2)));return r.join(",")}(r.sizes)+",personalbar=0,toolbar=0,scrollbars=1,resizable=1"),d.call(this,t)}},{_Events:["typeCount","windowClose"],_Handlers:{dom:{"click:Main.Btns":function(e){e.preventDefault();var n=t(e.currentTarget);B.call(this,n.data(b))}}},_Init:function(){this.url2Share=this._opts.url2Share||t(e.document.head).find("link[rel=canonical]").attr("href")||e.location.href,this._shareParams=this._opts.shareParams,this._Timers={},M.apply(this),this._opts.showCnt&&!0===this._opts.getCntOnInit&&A.apply(this)},setUrl2Share:function(t,e,n){var i;t&&F(t,"string")&&(this.url2Share=t,e&&(F(n,"undefined")||n?this._shareParams=k(!0,{},e):this._shareParams=k(!0,this._shareParams,e)),this._opts.showCnt&&((i=this._elems.countCont||this._elems.Cnts)&&(this._opts.cssClss.hideCount?i.addClass(this._opts.cssClss.hideCount):i.hide()),A.apply(this)))},updateElementsSet:function(t){var e,n,i;this._elems=(e=this._opts.cssSels,n=t,i={parent:t},e.Main&&n.length&&Object.keys(e.Main).forEach((function(t){i[t]||(i[t]=n.find(e.Main[t]))})),i),M.apply(this)}}),N,null,x);j(x,{options:{_Handlers:{typeCount:function(t,e){var n=this._totalCount=this._totalCount||{};n[t]=e;var i=0;for(var r in n)n.hasOwnProperty(r)&&(i+=n[r]);this._elems.Total&&(this._elems.Total.text(i),this._elems.Total.toggleClass(this._opts.cssClss.hidden,i<=0))}}},paramAttrs:{shareParams:{Tweet:"data-twshare"},url2Share:"data-url2share"}}),k(!0,e.getNameSpace("Modules",n),{Shares:H})}(window.jQuery,window,window.ru.mail.cpf)},73273:function(t,e,n){var i=n(74933)(n(75903));!function(t,e,n,r,o){"use strict";var s=n.Basic,a=s.typeOf,l="Slider",c={horizontal:{index:0,axis:"x",size:"outerWidth",position:"offsetLeft",translate3d:"translate3d(?px, 0, 0)",translate:"translate(?px, 0)",css:"left",cssScroll:"scrollLeft",scrollSize:"scrollWidth"},vertical:{index:1,axis:"y",size:"outerHeight",position:"offsetTop",translate3d:"translate3d(0, ?px, 0)",translate:"translate(0, ?px)",css:"top",cssScroll:"scrollTop",scrollSize:"scrollHeight"}},u=s.getView(function(){function l(t,e,n){return n?function(){return t=(n+t+e)%n}:function(){return t+=e}}function u(t){this._elems.content.off(this._State.transitionEndEventName),this._State.isAnimating=!0,t.isReverting||this._trigger("beforeSlide",this.getFrameNo(),this.getPageNo())}function h(t){this._elems.content.off(this._State.transitionEndEventName),this._State.isAnimating=!1,t.isReverting||this._trigger("slide",this.getFrameNo(),this.getPageNo())}function p(){var t=this.getFrames(),e=this._elems.frames.children(this._opts.cssSels.frame+":not(."+this._opts.cssClss.clone+")");if(e.length!==t.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;for(var i=this._State.pages,r=0;r<i.length;r++){var o=i[r],s=o.frames.reduce(function(t,e){return t+this.getSize(e)}.bind(this),0);if(o.size!==s)return!0}return!1}function d(){var t=this._opts.cssSels,e=this._State,n=e.$frames=this._elems.frames.children(t.frame),i=e.$firstFrame=n.first(),r=e.$lastFrame=n.last();this._elems.startFrame=n.filter(t.Main.startFrame).eq(0),e.startPosition=this.getPosition(i),e.endPosition=this.getPosition(r)+this.getSize(r)}function f(){var e=this._State,n=this._opts.cssSels.frame;e.$currentFrame&&-1===t.inArray(e.$currentFrame[0],e.$frames)&&(e.$currentFrame=null),e.$currentFrame=t(t(e.$currentFrame).filter(n)[0]||t(this._elems.startFrame).filter(n)[0]||t(e.$frames).filter(n)[0])}function m(t,n,i,r){for(var o=this._State,s=this._elems.frames,l=this._opts,c=l.cssClss.clone,u=l.cssSels.focusTarget,h=0,p=[],d=0;d<t.length;d++)h+=this.getSize(t[d]),n();var f=Math.max(o.containerSize,o.viewportSize,o.endPosition-o.startPosition),m=this.getFrames(),v=l.processClones;for(a(v,"function")||(v=null);h<f;){var _=m.eq(n()),w=_.clone(!0).data("frame",_[0]).addClass(c),y=_.data("clones")||[];y[r](w[0]),_.data("clones",y),_.data("frame",_[0]),w.find(u).attr("tabindex",-1),s[i](w),t[r](w[0]),v&&v(w),w.find("img").each((function(t,e){e.complete||p.push(g(e))}));var b=this.getSize(w);if(!b)break;h+=b}return Promise.all(p).catch((function(t){e.console.warn(t)})).then((function(){return t}))}function g(t){return new Promise((function(e,n){setTimeout((function(){if(t.complete)e();else{var i=setTimeout((function(){n(new Error("Timeout expired"))}),100),r=function(){clearTimeout(i),t.removeEventListener("load",r),e()};t.addEventListener("load",r)}}),0)}))}function v(){var e,n=this._opts,i=this._elems,r=this._State;if(n.loop&&r.framesSize>r.viewportSize){var o=this.getFrames();e=Promise.all([m.call(this,r.clonesPrev,l(o.length,-1,o.length),"prepend","unshift"),m.call(this,r.clonesNext,l(-1,1,o.length),"append","push")]).then((function(e){var n=e[0],i=e[1];t.extend(r,{clonesPrev:n,$firstFrame:t(n[0]),clonesNext:i,$lastFrame:t(i[i.length-1])})}))}return r.$allFrames=i.frames.find(n.cssSels.frame),Promise.resolve(e).then(function(){r.framesSize=this.getSize(i.frames,"scrollSize")}.bind(this))}function _(){var e=this._State;t(e.clonesPrev).remove(),t(e.clonesNext).remove(),this.getFrames().removeData("clones"),t.extend(e,{clonesPrev:[],clonesNext:[]})}function w(t,e,n){for(var i={frames:[],size:0},r=this._State,o=r.pageType,s=r.pageSize;!(0===t.length||"n"===o&&i.frames.length>=s||("px"===o||"auto"===o)&&s+1<i.size+this.getSize(t));)i.frames.push(t[0]),i.size+=this.getSize(t),t.data("page",n),t=t[e](this._opts.cssSels.frame).first();return i.$outFrame=t,i}function y(t,e,n){for(var i=this._State;;){var r=t(),o=w.call(this,e,n,r);if(0===o.frames.length)break;i.pages[r]=o,i.pages.length++,e=o.$outFrame}}function b(){var t=this._State,e=t.$firstFrame;t.pages={length:0},y.call(this,l(0,-1),e.prevAll(this._opts.cssSels.frame).first(),"prevAll"),y.call(this,l(-1,1),e,"nextAll")}function S(e){var n=this._State,i=w.call(this,e||n.$currentFrame,"nextAll"),r=t(i.frames).map(function(t,e){var n=this.getOriginalFrame(e);return n.add(n.data("clones")).get()}.bind(this)),o=this._opts.cssClss.currentPageFrame;n.$allFrames.not(r).removeClass(o),r.addClass(o)}function E(){var t=this._opts,e=this._elems,n=this._State,i=t.cssClss,r=n.startPosition||0,o=n.endPosition||n.framesSize,s=n.position||r,a=n.viewportSize,l=t.loop,c=o-r<=a,u=!(l||s>r),h=!(l||o-s>a);e.controlPrev&&(e.controlPrev.toggleClass(i.disabledControl,u||c||!!t.hideControls),this._trigger("updateControl",{type:"start",disabled:u||c||!!t.hideControls})),e.controlNext&&(e.controlNext.toggleClass(i.disabledControl,h||c||!!t.hideControls),this._trigger("updateControl",{type:"end",disabled:h||c||!!t.hideControls})),e.controlPage&&(e.controlPage.removeClass(i.currentPage),e.controlPage.eq(this.getPageNo()).addClass(i.currentPage)),e.Parent.toggleClass(i.fit,c)}function T(){var t=this._opts,e=this._elems,n=this._State,i=n.controlPageTemplate,r=e.controlPagesList;if(r&&i){for(var o=[],s=0;s<n.pages.length;s++)o.push(i(s));r.empty().append(o),delete e.controlPage,this._getElements(t.cssSels.Main.controlPage,"controlPage")}}function C(t,e,n){var i=this._opts,r=this._State;if(!i.loop)return e;for(var o=r.unsafeSize,s=r.viewportSize,a=r.framesSize,l=this.getOriginalFrame(e)[0];t.length&&(this.getOriginalFrame(t)[0]!==l||this.getPosition(t)<o||a-this.getPosition(t)<o+s);)t=t[n](i.cssSels.frame).first();return t}function P(t,e){var n=C.call(this,t,e,"prevAll"),i=C.call(this,t,e,"nextAll"),r=this.getPosition(t),o=Math.abs(this.getPosition(n)-r),s=Math.abs(this.getPosition(i)-r);return o<s?n:o>s?i:e}function I(e,n,i,r){var o=this._State,s=isNaN(e)?t(e):this.getFrameByNo(e);if(s.length){var a,l,c=this._State.$currentFrame;if(i){var u="prevAll"===i?o.$lastFrame:o.$firstFrame;a=C.call(this,u,c,i),l=C.call(this,a,s,i)}else l=P.call(this,c,s),a=P.call(this,l,c);r=r||this.getPage(l)||{size:0};var h=~~o.currentOffset,p=this.getAlignmentSize(r.size);t.extend(o,{$currentFrame:l,currentOffset:p,currentPage:r}),S.call(this);var d=this.getPosition(a),f=this.getPosition(l);this.slideFromTo(d-h,f-p,n)}}function A(t,e,n){var i=this.getPages()[t];i&&I.call(this,i.frames[0],e,n,i)}function O(){var t=this._opts,e=this._State,n=t.templates.controlPage;switch(a(n)){case"function":e.controlPageTemplate=n;break;case"string":e.controlPageTemplate=o&&o[n]}}function M(){var t=this._opts,e=this._elems,n=this._State,i=n.dimensions,o=n.transitionEndEventName+"."+n.uid;if(t.cssClss.animatedCont&&r.csstransitions){var s=function(t,e,n,s){n||this._elems.content.off(o).one(o,h.bind(this,s)),null!=e&!isNaN(e)&&this._elems.content.css(r.prefixed("transform"),i[t].replace("?",e))};r.csstransforms3d?n.slideTo=s.bind(this,"translate3d"):r.csstransforms&&(n.slideTo=s.bind(this,"translate"))}n.slideTo||(n.isJsAnimation=!0,n.slideTo=function(n,r,o){var s;n=-n,r?e.container.get(0)[i.cssScroll]=n:((s={})[i.cssScroll]=n,e.container.animate(s,t.animationDuration,h.bind(this,o)))}.bind(this))}function B(t,e,n){do{if((t=t[e]()).length&&t.is(n))break}while(t.length);return t}return{_Events:["beforeSlide","slide","swipeStart","swipeEnd","updateControl","sliding","slideControlTap"],_Handlers:{dom:{"focus:focusTarget":function(e){var n=e.target.className.split(" "),i=this._State;if(!i.isDragging&&(r=n,o=this._opts.ignoreFocusTarget,!r.some((function(t){return o.indexOf(t)>-1})))){var r,o,s=this._elems.container;if(s.length){s[0].scrollLeft=0;var a=t(e.currentTarget).closest(this._opts.cssSels.frame),l=this.getPosition(a),c=this.getSize(a);(i.position>l||i.viewportSize<l-i.position+c)&&this.goToFrame(this.getOriginalFrame(a))}}},"click touchstart:Main.controlNext":function(e){e.preventDefault(),t(e.currentTarget).hasClass(this._opts.cssClss.disabledControl)||this.nextPage()},"click touchstart:Main.controlPrev":function(e){e.preventDefault(),t(e.currentTarget).hasClass(this._opts.cssClss.disabledControl)||this.prevPage()},"click touchstart:Main.controlPage":function(t){t.preventDefault();var e=this._elems.controlPage;if(e){var n=e.index(t.currentTarget);this.goToPage(n)}},"click touchmove:Main.container":function(){this._touchMove=!0},"click touchend:Main.container":function(e){if(!this._touchMove&&e.changedTouches){var n,i=this._opts,r=e.changedTouches[0].clientX,o=document.documentElement.clientWidth,s=r>o/2,a=s?[o-this._opts.tapZone,o]:[0,this._opts.tapZone],l=this._ignoreClassList;l||(l=Array.isArray(i.ignoreTap)?i.defaultIgnoreTap.concat(i.ignoreTap):i.defaultIgnoreTap,this._ignoreClassList=l),n=l.some((function(n){return t(e.target).closest("."+n).length})),!this.inRange(r,a)||n||t(e.target).parents(this._opts.cssSels.dotsWrapper).length||(s?this.nextPage():this.prevPage(),this._trigger("slideControlTap"))}},"click touchstart:Main.container":function(){this._touchMove=!1}},updateControl:function(t){var e=t.type,n=t.disabled,i=this._opts,r=this._elems.sidesContainer;r&&("start"===e?r.toggleClass(i.cssClss.leftSide,n):r.toggleClass(i.cssClss.rightSide,n))}},getSize:function(e,n){e=t(e);var i,r=this._State.dimensions[n||"size"];switch(a(e[r])){case"function":i=e[r]();break;case"undefined":i=(e=e.get(0))[r];break;default:i=e[r]}return~~i},updateDimensions:function(){var t=this._elems,e=this._State;e.containerSize=this.getSize(t.container),e.viewportSize=this.getSize(t.viewport),e.framesSize=this.getSize(t.frames,"scrollSize"),e.unsafeSize=Math.ceil((e.containerSize-e.viewportSize)/2),"auto"===e.pageType&&(e.pageSize=e.viewportSize)},getDirectionMethod:function(t,e){switch(e=!1!==e,t){case!0:return"next"+(e?"All":"");case!1:return"prev"+(e?"All":"");default:return}},getAlignmentSize:function(t){var e=this._State.viewportSize-t;return this._getAlignmentOffset(e)},_getAlignmentOffset:function(t){switch(this._opts.align){case"right":case"bottom":return~~t;case"center":return~~(t/2);default:return 0}},getPosition:function(e){var n=t(e);return n.length?~~n.get(0)[this._State.dimensions.position]:1/0},replaceFrames:function(e,n){return a(e.eq,"function")||(e=t(Array.from(e))),this._elems.content.html(e),this._State.$currentFrame=isNaN(n)?null:e.eq(n),this.update(!0,!0)},_removeTransitionClass:function(){var t=this._elems.content;this._State.isJsAnimation&&t.stop(!0);var e=this._opts.cssClss.animatedCont;t.hasClass(e)&&(t.removeClass(e),t[0].offsetHeight)},insertNeighbourFrame:function(t,e){if(!t)return Promise.resolve(-1);var n,i=this.getCurrentFrame();return i?(e?t.insertBefore(i):t.insertAfter(i),n=this.update(!0,!1,!1,!1).then(function(){e&&(this._removeTransitionClass(),this.slideTo(this.getPosition(this.getCurrentFrame()),!0,!0))}.bind(this))):n=Promise.resolve(),n.then(function(){return this.getFrameNo()+(e?-1:1)}.bind(this))},removeFrame:function(t){if(!t||t.parent()[0]!=this._elems.content[0])return Promise.resolve();var e=this.getFrameNo(t),n=this.getFrameNo();return t.remove(),e<n&&(this._removeTransitionClass(),this.slideTo(this.getPosition(this.getCurrentFrame()),!0,!0)),this.update(!0,!1,!1,!1)},update:function(t,e,n,i){t=!0===t;var r=n||this._opts.checkVisibility.call(this),o=p.call(this);if(r||o)return this._State.$currentFrame=this.getCurrentFrame(),r&&this.updateDimensions(),(t||o)&&(_.call(this),d.call(this),r&&(b.call(this),T.call(this))),v.call(this).then(function(){E.call(this),f.call(this),!1!==i&&this.goToFrame(this.getCurrentFrame(),!0!==e)}.bind(this))},slideTo:function(t,e,n,r){var o=this._State;if(!o.isFreezed){if("object"===(0,i.default)(n)&&n&&arguments.length<4&&(r=n,n=!1),r=r||Object.create(null),!this._opts.loop){var s=o.startPosition||0,a=o.framesSize||o.endPosition,l=o.viewportSize||0;t=Math.max(s,Math.min(a-l,t))}o.position=t,o.isAnimating=!1,E.call(this),e||u.call(this,r),o.slideTo(-t,e,{isReverting:r.isReverting}),this._elems.parent.trigger("scroll",{scrollLeft:t}),n||this._trigger("sliding",{to:t,isReverting:r.isReverting})}},slideFromTo:function(t,e,n){var i=this._State,r=i.isReverting;if(i.isReverting=!1,!i.isFreezed&&(i.position!==t||t!==e)){var o=this._elems.content;i.isJsAnimation&&o.stop(!0);var s=this._opts.cssClss.animatedCont;i.position!==t&&(o.hasClass(s)&&(o.removeClass(s),o[0].offsetHeight),this.slideTo(t,!0,!1,{isReverting:r}),o[0].offsetHeight),void 0!==e&&(o.hasClass(s)!==!n&&(o.toggleClass(s,!n),o[0].offsetHeight),this.slideTo(e,n,!1,{isReverting:r}))}},getOriginalFrame:function(e){return t(t(e).data("frame")||e)},getFrameClones:function(e){if((e=isNaN(e)?t(e):this.getFrameByNo(e)).length)return e.data("clones")},getFrameByNo:function(t){return this.getFrames().eq(t)},getCurrentFrame:function(){return this.getOriginalFrame(this._State.$currentFrame)},getFrameNo:function(e){return t.inArray(t(e||this.getCurrentFrame())[0],this.getFrames())},getFramesCount:function(){return this.getFrames().length},getFrames:function(){return this._State.$frames},getAllFrames:function(){return this._State.$allFrames},getPage:function(t){return this.getPages()[this.getPageNo(t)]},getPageNo:function(t){return t=t||this.getCurrentFrame(),this.getOriginalFrame(t).data("page")},getPagesCount:function(){return this.getPages().length},getPages:function(){return this._State.pages},isAnimating:function(){return!!this._State.isAnimating},goToFrame:function(t,e,n){this._State.isFreezed||I.call(this,t,e,this.getDirectionMethod(n))},goToPage:function(t,e,n){this._State.isFreezed||A.call(this,t,e,this.getDirectionMethod(n))},nextPage:function(){if(!this._State.isFreezed){var e=w.call(this,this.getCurrentFrame(),"nextAll");(e=w.call(this,e.$outFrame,"nextAll")).size?I.call(this,t(e.frames).first(),!1,"nextAll",e):this.slideFromTo(this._State.framesSize)}},prevPage:function(){if(!this._State.isFreezed){var e=w.call(this,this.getCurrentFrame().prevAll(this._opts.cssSels.frame).first(),"prevAll");e.size?I.call(this,t(e.frames).last(),!1,"prevAll",e):this.slideTo(0)}},inRange:function(t,e){var n=e[0],i=e[1];return t>=n&&t<=i},_Init:function(n){t.extend(this._opts,n);var i=this._opts,o=this._elems;if(o.container=o.container||o.Parent,o.viewport=o.viewport||o.container,o.frames=o.frames||o.content,!o.content||!o.container)throw new Error("Slider: not all required elements found, skipping <"+o.Parent.get(0).className+">");var a=this._State={uid:"slider_"+~~(1e9*Math.random()),transitionEndEventName:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[r.prefixed("transition")],dimensions:"vertical"===i.orientation?c.vertical:c.horizontal,pageType:isNaN(i.pageSize)?"px":"n",pageSize:parseInt(i.pageSize),pages:[],$frames:t(),clonesPrev:[],clonesNext:[],isFreezed:!1};isNaN(a.pageSize)&&(a.pageType="auto",a.pageSize=0),o.Parent.is(i.cssSels.forceLoop)&&(i.loop=!0),O.call(this),M.call(this),this._initialUpdate=this.update(!0),this._initSwipe(),t(e).on("resize."+a.uid,s.debounce(function(){this._dead||this.update()}.bind(this)))},destroy:function(){t(e).off("resize."+this._State.uid),delete this._State,this._dead=!0},freeze:function(t){return this._State.isFreezed=!!t,this},_initSwipe:function(){var t=this._State,e=this._elems,i=this._opts,r=i.cssSels;this._onTouchStart=this._onTouchStart.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),i.touchSupport&&(this._swipe=n.Tools.initModule(["Swipe",this._opts.swipeExt],e.viewport,{cssSels:{targetElems:r.Main.content},resetDelta:!0,targetAxis:t.dimensions.axis,_Handlers:{startMove:this._onTouchStart,move:this._onTouchMove,end:this._onTouchEnd}}))},_onTouchStart:function(){var t=this._State,e=this._opts.cssClss.dragging;e&&this._elems.Parent.addClass(e),t.isDragging=!0,t.swipeStartPosition=t.position,this._trigger("swipeStart")},_onTouchMove:function(t){var e=this._State,n=e.swipeStartPosition-t[e.dimensions.index];e.isSwipingForward=e.swipeStartPosition<n,n=Math.max(0,Math.min(e.framesSize-e.viewportSize,n)),this.slideFromTo(e.position,n,!0)},_onTouchEnd:function(){var t=this._State,e=t.isSwipingForward,n=this._opts.cssClss.dragging;n&&this._elems.Parent.removeClass(n),t.currentOffset=this.getPosition(t.$currentFrame)-t.position,t.isDragging=!1;var i=this._findTargetFrame(e);t.isReverting=i[0]===t.$currentFrame[0],this.goToFrame(i,!1,e),this._trigger("swipeEnd",{type:"swipeEnd",isSwipingForward:e})},_findTargetFrame:function(t){for(var e,n,i,r,o,s=this._State,a=this._opts,l=a.cssSels.frame,c=s.position+this.getAlignmentSize(0),u=s.$currentFrame,h=this.getDirectionMethod(t,!1),p=Number.POSITIVE_INFINITY;u.length&&(e=this.getSize(u),n=this.getPosition(u)+this._getAlignmentOffset(e),!((i=Math.abs(c-n))>p));)p=i,r=u,o=e,u=B(u,h,l);if(r[0]===s.$currentFrame[0]&&p>o*a.swipeMin){var d=r[h]();r=d.length?d:r}return r}}}(),{cssSels:{Main:{container:".js-slider__container",viewport:".js-slider__viewport",content:".js-slider__content",sidesContainer:".js-slider__sides",frames:".js-slider__items",startFrame:".js-slider__item-start",controlNext:".js-slider__next",controlPrev:".js-slider__prev",controlPage:".js-slider__page",controlPagesList:".js-slider__pages"},frame:".js-slider__item",forceLoop:".js-slider_loop",focusTarget:"a,input",dotsWrapper:".dots__wrapper"},cssClss:{fit:"js-slider_fit",dragging:"",clone:"js-slider__clone",disabledControl:"hidden_all",currentPage:"active",currentPageFrame:"active",animatedCont:"animated",rightSide:"",leftSide:""},templates:{controlPage:null},orientation:"horizontal",pageSize:"auto",align:"left",loop:!1,hideControls:!1,touchSupport:!0,swipeExt:"Slider",swipeMin:1/4,animationDuration:300,processClones:null,checkVisibility:function(){return this._elems.parent.is(":visible")},ignoreFocusTarget:["dots__uncheck"],defaultIgnoreTap:["viewbox__param","js-image-slider__advert-box"],ignoreTap:null,tapZone:70},null,l);s.Extend(!0,n,{Modules:{Slider:u}}),s.moduleOpts.setParams(l,{initializer:u,paramAttrs:{loop:"data-loop",align:"data-align"}}),t.fn.goSlider=function(n){return e.DEBUG&&e.console.warn("Обнаружено старое подключение компонента.\t\t\t\tНеобходимо срочно сменить его на обычное, так как скоро старое перестанет работать"),this.each((function(){var e=t(this);if(!(e.data(l)instanceof u)){var i=s.getOptions(this)||{};e.data(l,new u(s.Extend(!0,n,i[l]),null,e))}}))}}(window.$,window,window.ru.mail.cpf,window.Modernizr,window.fest)},38141:function(){!function(t,e,n){"use strict";var i,r,o,s,a,l,c,u,h,p,d=n.Basic.getView,f=n.Basic.Extend,m=n.Basic.debounce,g=d((r=t(e),o={width:r.width(),height:r.height()},s={horizontal:["left","right"],vertical:["top","bottom"]},a={left:"right",right:"left",center:"center",top:"bottom",bottom:"top"},l=function(t){return s.horizontal.indexOf(t)>-1?s.vertical:s.horizontal},c=function(){var t=this._elems.parent.attr("class"),e=this._opts;if(t.indexOf(e.positionClassPrefix)>-1)return t.match(e.positionClassRegexp)},u=function(){var t=c.call(this);if(t)return t[0]},h=function(t){var e=u.call(this),n=[a[t[0]],t[1]];e&&this._elems.parent.removeClass(e),this._elems.parent.addClass(this._opts.positionClassPrefix+"_"+n.join("-"))},p=function(){var t=c.call(this);if(t)return[a[t[1]],t[2]]},{_Init:function(){var t=this._opts,e=this._elems,n=e.box;this.setZIndex(),this.timeout=null,this._resetState();var i=e.parent.children();i.length>1&&(t.target=i.not(n).first()),t.element=t.element||t.target;var s=p.call(this);s?t.position=s:h.call(this,t.position),["mouseenter","mouseleave"].forEach((function(e){"function"==typeof t.events[e]&&n.on(e,t.events[e].bind(this))}),this),t.target&&(t.show&&t.target.on(t.show.event,this.show.bind(this,null,null)),t.hide&&t.hide.event&&t.target.on(t.hide.event,function(){if(t.interactive)return this._setHideTimeout();this.hide()}.bind(this)),t.interactive&&t.target.on("mouseenter",this._resetHideTimeout.bind(this))),t.interactive&&(n.on("mouseenter",this._resetHideTimeout.bind(this)),t.hide&&n.on("mouseleave",this._setHideTimeout.bind(this,null))),r.on("scroll resize",function(t){"resize"===t.type&&(o.width=r.width(),o.height=r.height()),this._state.active&&this._handleScroll()}.bind(this))},show:function(t,n){return this._state.active=!0,t=t||this._opts.content,n=n||this._opts.timeout,t&&this.content(t),this._toggleVisibility(!0),this._updatePosition(),n&&this._setHideTimeout(n),e.requestAnimationFrame(function(){this._setRepositionInterval()}.bind(this)),this},hide:function(){if(this._state.active=!1,this._resetRepositionInterval(),this._state.visible){var t=this._opts;this._toggleVisibility(!1),"function"==typeof t.onHide&&t.onHide.call(this)}return this},content:function(t){return this._elems.content.html(t),this._updatePosition(),this},position:function(e,n){return f(this._opts,{element:e?t(e):null,position:n}),this._updatePosition(),this},setZIndex:function(t){return null!==(t="number"==typeof t?t:this._opts.zIndex)&&this._elems.box.css("z-index",t),this},_toggleVisibility:function(t){return this._state.visible=!!t,t||(this._resetRepositionInterval(),this._resetState()),this._elems.parent.toggleClass(this._opts.cssClss.visible,t),this},_updatePosition:(i=function(t,e,n,s){s=s||0;var c,u,h=e.element,p=h.offset(),d=h.outerWidth(),f=h.outerHeight(),m=e.flip,g=e.collisionGap,v=e.tipAlign,_=function(t){return["top","bottom"].indexOf(t[0])>-1?[t[1],a[t[0]]]:[a[t[0]],t[1]]}(n),w=function(t){return["top","bottom"].indexOf(t[0])>-1?[t[1],t[0]]:t}(n),y=t.outerWidth(),b=t.outerHeight();if("right"===w[0]?p.left+=d:"center"===w[0]&&(p.left+=d/2),"bottom"===w[1]?p.top+=f:"center"===w[1]&&(p.top+=f/2),"right"===_[0]?p.left-=y:"center"===_[0]&&(p.left-=y/2),"bottom"===_[1]?p.top-=b:"center"===_[1]&&(p.top-=b/2),v&&("left"===n[0]||"right"===n[0]?"center"===v&&(p.top+=h.outerHeight()/2):"center"===v&&("left"===n[1]?p.left+=h.outerWidth()/2:"right"===n[1]&&(p.left-=h.outerWidth()/2))),"fit"===m){var S={left:p.left-g,right:p.left+y+g,top:p.top-g,bottom:p.top+b+g},E=(c=S,(u={}).left=r.scrollLeft(),u.right=u.left+o.width,u.top=r.scrollTop(),u.bottom=u.top+o.height,c.left<u.left||c.top<u.top||c.right>u.right||c.bottom>u.bottom?{left:c.left-u.left,top:c.top-u.top,right:u.right-c.right,bottom:u.bottom-c.bottom}:null);if(E){if(0===s)return E[n[0]]>0?i(t,e,n,1):i(t,e,[a[n[0]],n[1]],1);if(1===s){var T=l(n[0]);return E[T[0]]>0?i(t,e,[n[0],T[1]],2):E[T[1]]>0?i(t,e,[n[0],T[0]],2):i(t,e,[n[0],"center"],2)}if(2===s){var C=l(n[0]);return i(t,e,[C[0],"center"],3)}if(3===s)return i(t,e,[a[n[0]],"center"],4)}}return{elemPosition:p,names:n}},function(){if(this._state.visible){if(!this._checkIfElementVisible())return this._toggleVisibility(!1);var t=this._opts;if(t.element){var e=t.position,n=i(this._elems.box,t,e,0);t.tipAlign&&this._elems.parent.toggleClass(t.cssClss.alignMode,-1===["left","right"].indexOf(n.names[0]));var r=n.elemPosition;Object.keys(r).forEach((function(t){r[t]=Math.round(r[t])})),h.call(this,n.names),this._elems.box.offset(n.elemPosition)}}}),_resetState:function(){this._state={active:!1,fixed:!1,visible:!1,elementPosition:{bottom:0,left:0,right:0,top:0}}},_setHideTimeout:function(t){this._resetHideTimeout();var e=this._opts;t=isNaN(t)?e.interactive&&e.interactiveTimeout:t,this.timeout=setTimeout(this.hide.bind(this),isNaN(t)?0:t)},_resetHideTimeout:function(){clearTimeout(this.timeout)},_checkIfElementVisible:function(){var t=this._opts.element,e=this._state.elementPosition;return!!t&&e.bottom>=0&&e.top<o.height&&e.right>=0&&e.left<o.width&&t.is(":visible")},_handleScroll:function(){if(this._opts.element){var t=this._opts.element[0].getBoundingClientRect(),e=this._state,n=t.top===e.elementPosition.top&&t.left===e.elementPosition.left;(n&&!1===e.fixed||!n&&!0===e.fixed)&&(e.fixed=!e.fixed,this._elems.box.css("position",e.fixed?"fixed":"absolute"),this._updatePosition()),n||(e.elementPosition=t)}this._repositionTooltip()},_repositionTooltip:m((function(){this._updatePosition()}),100),_setRepositionInterval:function(){if(this._resetRepositionInterval(),!this._checkIfElementVisible())return this._toggleVisibility(!1);this._state.visible||this._toggleVisibility();var t=this._opts.element[0].getBoundingClientRect(),e={left:t.left,top:t.top};this.repositionInterval=setInterval(function(){var t=this._opts.element[0].getBoundingClientRect();t.left===e.left&&t.top===e.top||(this._repositionTooltip(),e.left=t.left,e.top=t.top)}.bind(this),this._opts.repositionInterval)},_resetRepositionInterval:function(){clearInterval(this.repositionInterval)}}),{cssSels:{Main:{box:".tooltip__box",content:".tooltip__inner"}},cssClss:{alignMode:"tooltip_align-arrow",visible:"tooltip_shown"},content:"",target:null,element:null,position:["right","center"],zIndex:null,tipAlign:"",repositionInterval:200,flip:"fit",collisionGap:20,show:{event:"mouseenter"},hide:{event:"mouseleave"},interactive:!0,interactiveTimeout:150,timeout:0,events:{mouseenter:null,mouseleave:null},onHide:null,positionClassPrefix:"tooltip_arrow",positionClassRegexp:/tooltip_arrow_([a-z]+)-([a-z]+)/i},null,"TooltipHint");n.Basic.Extend(e.getNameSpace("Modules",n),{TooltipHint:g})}(window.jQuery||window.$,window,window.ru.mail.cpf)},64392:function(){!function(t,e,n){"use strict";var i=n.Basic.getView,r=n.Tools.initModule;i({_Handlers:{dom:{"click:tooltipButton":function(n){var i=this._opts,r=i.attrs,o=r.adsLink,s=r.token,a=i.templates.tooltip,l=i.cssClss.tooltipShown,c=this._tooltip,u=c._opts,h=c._elems,p=n.currentTarget;u.element=e(p);var d={adsLink:p.getAttribute(o),token:p.getAttribute(s)};if("function"!=typeof a)return t.console.error("Отсутствует шаблон для тултипа"),null;a.asyncRender(d).then((function(t){h.parent.hasClass(l)?c.hide():c.show(t)})),n.stopPropagation()},"click:tooltipToken":function(t){var e=this._opts,n=e.cssSels.tooltipTokenText,i=e.attrs.token,r=t.currentTarget,o=r.getAttribute(i),s=r.querySelector(n);navigator.clipboard.writeText(o).then((function(){s.innerHTML="Скопировано"})).catch((function(t){console.log("Токен не скопирован",t)})),t.stopPropagation()},"click:Main.layout":function(t){var n=this._tooltip,i=n._elems,r=i.parent.hasClass(this._opts.cssClss.tooltipShown),o=e(t.target).closest(i.box);r&&!o.length&&(n.hide(),n._resetState())}}},_Init:function(){this._tooltip=r("TooltipHint",this._elems.tooltipBlock,{position:["bottom","right"],show:null,interactive:!1,collisionGap:0})}},{cssSels:{Main:{layout:".js-adv-marker",tooltipBlock:".js-adv-marker__tooltip",tooltipContent:".js-adv-marker__tooltip-content"},tooltipToken:".js-adv-marker__tooltip-token",tooltipTokenText:".js-adv-marker__tooltip-token-text",tooltipButton:".js-adv-marker__tooltip-button"},cssClss:{tooltipShown:"tooltip_shown"},attrs:{adsLink:"data-ads-link",token:"data-token"},templates:{tooltip:null}},null,"AdvMarker")}(window,window.jQuery||window.$,window.ru.mail.cpf)},2770:function(){!function(t,e,n){"use strict";if(e.DEBUG){var i=e.console;i.warn("components/Springs.js устарел, его следует заменить на:"),i.warn("- components/springs/SpringItem.js;"),i.warn("- components/springs/SpringGroup.js;"),i.warn("- components/springs/SpringContainer.js;")}if(!e.requestAnimationFrame)throw new Error("Install 'requestAnimationFrame' polyfill, por favor. Comprendes, amigo?");var r=e.requestAnimationFrame,o=!(!e.requestAnimationFrame||!e.requestAnimationFrame.name),s=n.Basic.Extend,a=n.Basic.debounce,l=n.Basic.Constructors.getView,c=n.Tools.FuncTools.multi,u="SpringsContainer",h=1,p=2,d=3,f=t(e);function m(){if(e.DEBUG){var t=[u+":"].concat(Array.prototype.slice.call(arguments,0));e.console.info.apply(e.console,t)}}function g(){if(void 0!==e.pageXOffset&&void 0!==e.pageYOffset)return{left:e.pageXOffset,top:e.pageYOffset};var t=document.documentElement||document.body.parentNode||document.body;return{left:t.scrollLeft,top:t.scrollTop}}var v=function(){var e={notEmpty:function(e){return e.filter((function(e){var n=e.$;return n.children().length||t.trim(n.text())}))},minHeight:function(t,e){return t.filter((function(t){return t.$.get(0).getBoundingClientRect().height>e.minHeight}))},maxHeight:function(t,e){var n=e.height/(t.length||1);return t.filter((function(t){return t.$.get(0).getBoundingClientRect().height<n}))}};function n(t,i,r,o){if(!t.length)return[];if(i.alwaysShowFirst&&1===t.length)return t;var s=function(t,n,i,r){var o={minHeight:i.minHeight,height:r.height},s=t.slice(0);return n.filters().forEach((function(t){if(t in e){var n=e[t];s=n(s,o)}else m("'"+t+"' not found in filters")})),s}(t,i,r,o);return s.length>0?s:n(t.slice(0,t.length-1),i,r,o)}var i=function(t){var e=this._options,n=e.groupParams,i=Object.keys(n),r=i.reduce((function(t,e){return t+=+n[e].limit||0}),0),o=(t-r)/((this._items.length||1)-i.length),s=0;return this._items.reduce((function(i,r,a){var l=n[a],c=l?l.staticMode:e.staticMode,u={staticMode:c,top:0};return c?(u.top=s,s+=r.getRect().height+e.itemPaddingBottom,u.limit=s):e.staticMode?(s+=l&&l.limit||o,u.top=u.limit=s,s+=r.getRect().height+e.itemPaddingBottom):(s+=l&&l.limit||o,u.limit=Math.min(s,t)),i.concat(u)}),[])},r=function(t){if(!(t.length<=1)){var e=function(t){return(t||[]).reduce((function(t,e){return t+e.getRect().height}),0)}(t);if(e>this._state.bottom-this._state.top){var n=t.slice(-1)[0];n&&(n.toggle(!1).setState({position:p,coords:{top:-1e4}}),r.call(this,t.slice(0,t.length-1)))}}},o=function(){var t=g(),e=this._anchorTop.get(0).getBoundingClientRect(),n=this._anchorBottom.get(0).getBoundingClientRect(),r=0,o=this.lastItem();o&&(r=o.getRect().height);var s=e.top+t.top,a=n.top+t.top,l=a-s-r;return{top:s,bottom:a,height:l,itemHeight:l/(this._items.length||1),itemParams:i.call(this,l),dimensions:{top:0}}};function a(t,e,n,i){this._id=Math.random().toString(36).substr(2,9),this._nodes=t.map((function(t,e){return t.index=e,t})),this._groupNode=i.groupNode,this._anchorTop=i.top,this._anchorBottom=i.bottom,this._options=e,this._itemOptions=n,this._state={},this._items=[]}return a.prototype.initialize=function(){var t=this._options,e=function(t){var e=t.filter((function(t){return t.options.lazy}));return{regular:t.filter((function(t){return!t.options.lazy})),lazy:e}}(this._nodes),i=e.lazy.map((function(e){var n=t.itemWrapTemplate(e.$);return t.parentNode.append(n),{$:n,options:e.options}}));this._timer=setTimeout(function(){var r,a,l=o.call(this),c=[];e.regular.length&&(c=this._options.alwaysShowFirst&&this._state.isFirstGroup?(c=[e.regular[0]]).concat(n(e.regular.slice(1),t,this._itemOptions,l)):c.concat(n(e.regular,t,this._itemOptions,l))),i.length&&(c=c.concat(n(i,t,this._itemOptions,l))),function(t,e){t.forEach((function(t){e.filter((function(e){return e.index===t.index})).length||t.$.hide()}))}(e.regular.concat(i),c),this._items=(r=c,a=this._itemOptions,r.map((function(t,e){var n=s({},a,t.options,{position:e});return new _(n,t.$)}))),this._handleReady();var u=g();this.update(u,this.getIndex(u),!0)}.bind(this),this._options.lazyTimeout)},a.prototype.itemsHeightChanged=function(){return this._items.some((function(t){return t.heightHadBeenChanged()}))},a.prototype.revert=function(){for(this._timer&&(clearTimeout(this._timer),this._timer=null),this._nodes.forEach((function(t){t.$.show()}));this._items.length>0;)this._items.pop().destroy();return this},a.prototype.ready=function(t){return this._handleReady=t,this},a.prototype.getState=function(){return s({},this._state)},a.prototype.getAnchors=function(){var t={};return this._anchorTop&&this._anchorTop.parent().length&&(t.top=this._anchorTop),this._anchorBottom&&this._anchorBottom.parent().length&&(t.bottom=this._anchorBottom),t},a.prototype.resetState=function(t){return this._anchorTop=t.anchorTop||this._anchorTop,this._anchorBottom=t.anchorBottom||this._anchorBottom,this._state=s(this._state,o.call(this),t||{}),this},a.prototype.firstItem=function(){return this._items[0]},a.prototype.lastItem=function(){return this._items.slice(-1)[0]},a.prototype.getItemAt=function(t){var e=this._items.slice(0,t),n=this._items[t],i=this._items.slice(t+1);return{left:e,item:n,right:i,rest:e.concat(i)}},a.prototype.getIndex=function(t){var e=t.top+this._options.paddingTop-this._state.top,n=-1;return e>0&&this._state.itemParams.every((function(t,i){return!(t.limit>=e)||(n=i,!1)})),n},a.prototype.update=c((function(t,e,n){var i;if(this._state.itemHeight<this._options.minSegmentHeight?i="all":(null==e&&(e=this.getIndex(t)),i=e<0?"first":e>=this._items.length?"last":"rest"),n||-1===e||this._state.activeIndex!==e)return this._state.activeIndex=e,i})).method("all",(function(){this._items.forEach(function(t){t.toggle(!0).setState({position:h,coords:{}})}.bind(this)),r.call(this,this._items),this._options.onGroupStatusChange(this._id,"showAll")})).method("first",(function(){var t=this.getItemAt(0);if(void 0!==t.item){var e=this._state.isFirstGroup?{position:h,coords:{}}:{position:d,coords:{top:0}};t.item.toggle(!0).setState(e)}t.rest.forEach((function(t){t.toggle(!1)})),this._options.onGroupStatusChange(this._id,"fixFirst")})).method("last",(function(){var t=this.getItemAt(this._items.length-1);void 0!==t.item&&t.item.toggle(!0).setState({position:d,coords:{top:this._state.height}}),t.rest.forEach((function(t){t.toggle(!1)})),this._options.onGroupStatusChange(this._id,"fixLast")})).method("rest",(function(t,e){null==e&&(e=this.getIndex(t));var n=f.height(),i=this.getItemAt(e);if(i.rest.forEach((function(t){t.toggle(!1)})),void 0!==i.item){var r=i.item.getRect().height;if(this._options.onGroupStatusChange(this._id,"fixItem"),r>n){var o=this._state.top+e*this._state.itemHeight-this._options.paddingTop,s=(t.top-o)/this._state.itemHeight;i.item.toggle(!0).setState({position:p,coords:{top:this._options.paddingTop-s*(r-n)}})}else i.item.toggle(!0).setState({position:p,coords:{top:this._options.paddingTop}})}})),a}();l(function(){function n(e,n){return e&&e.length?t(e.get(0)):n}var i=function(t){this._state.processing||(r(t.bind(this)),this._state.processing=!0)},l=function(t,e){return e=e||".",[t,this._props.namespace].join(e)},c=function(){var t=this._state.dimensions,e=this.getDimensions(),n=this._state.groups.some((function(t){return t.itemsHeightChanged()}));(t.height!==e.height||n)&&(this._trigger("dimensionsChange",t,e),this.resetState(),this.update(!0))},h=function(){this.resetState(),this.update(!0)};function p(){var e=t(document.body);e.toggleClass("_",!e.hasClass("_"))}var d=o?function(){}:a(p,80,!0),_=o?function(){}:a(p,80),w=function(){this.update(),d(),_()};return{_Events:["ready","dimensionsChange","groupStatusChange"],_Handlers:{pubsub:{adqSlotAdded:function(){this.initGroups()}}},_Init:function(){if(this._elems.top)if(this._elems.bottom){this._elems.parent.data(u,this),this._props={namespace:u+1e17*Math.random()},this._state={groupStatus:{},groups:[],lazyLoading:!0,dimensions:{top:null,bottom:null,height:null}};var t=l.call(this,"scroll"),e=l.call(this,"resize");f.on(t,i.bind(this,w)),f.on(e,i.bind(this,h)),this._trigger("ready"),this._timer=setInterval(c.bind(this),200)}else m("_Elems.bottom not found");else m("_Elems.top not found")},update:function(t){var e=g();return this._state.groups.forEach((function(n){n.update(e,n.getIndex(e),!!t)})),this._state.processing=!1,this},addGroup:function(t,i){i=i||{};var r=this._opts,o=function(t){var e={},n=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){n.some((function(n){return!(!n||!(t in n)||(e[t]=n[t],0))}))})),e}(["staticMode","alwaysShowFirst","paddingTop","itemPaddingBottom","minSegmentHeight","groupParams"],i,r);s(o,{itemWrapTemplate:r.itemWrapTemplate,parentNode:this._elems.top,lazyTimeout:r.lazyTimeout,filters:i.filters||r.filters,onGroupStatusChange:function(t,n){if(this._state.groupStatus[t]!==n){this._state.groupStatus[t]=n,this._elems.parent.trigger("documentHeightChange");var i=document.createEvent("HTMLEvents");i.initEvent("resize",!0,!0),e.dispatchEvent(i),this._trigger("groupStatusChange",t,n)}}.bind(this)});var a=n(i.anchorTop,this._elems.top),l=n(i.anchorBottom,this._elems.bottom),c=new v(t,o,r.itemOptions,{top:a,bottom:l,groupNode:i.groupNode});return this._state.groups.push(c),r.autostart&&(this.resetState(),c.initialize()),c.ready(function(){this.resetState()}.bind(this)),this.resetState(),this},initGroups:function(){return this._state&&(this._state.groups.forEach((function(t){t.revert().initialize()})),this.resetState()),this},getDimensions:function(){var t,e,n=g();try{t=this._Elems.top.get(0).getBoundingClientRect(),e=this._Elems.bottom.get(0).getBoundingClientRect()}catch(n){t={top:0},e={top:0}}var i=t.top+n.top,r=e.top+n.top;return{top:i,bottom:r,height:r-i}},resetState:function(){var t=this._elems,e=t.parent,n=this._opts.cssSels,i=n.Main.top,r=n.Main.bottom,o=this.getDimensions();return t.top=e.find(i).add(e.filter(i)).eq(0),t.bottom=e.find(r),this._state.groups.forEach((function(e,i,r){var s=n.groupTop,a=n.groupBottom,l=e._groupNode,c=e.getAnchors(),u=c.top,h=c.bottom;l&&(u=u||l.filter(s).add(l.find(s)).eq(0),h=h||l.find(a).eq(0)),u&&u.length||(u=t.top),h&&h.length||(h=t.bottom),e.resetState({isFirstGroup:0===i,isLastGroup:i===r.length-1,dimensions:o,anchorTop:u,anchorBottom:h})})),this._state.dimensions=o,this._state.processing=!1,this}}}(),{cssSels:{Main:{top:".js-springs__top",bottom:".js-springs__bottom"},item:".js-springs__item",group:".js-springs__group",groupTop:".js-springs__group_top",groupBottom:".js-springs__group_bottom"},autostart:!0,alwaysShowFirst:!0,itemOptions:{minHeight:10},filters:function(){return["notEmpty","minHeight","maxHeight"]},staticMode:!1,groupParams:{},minSegmentHeight:600,lazyTimeout:1e3,paddingTop:0,itemPaddingBottom:20,itemWrapTemplate:function(t){return t}},null,u);var _=l({_Events:["toggle"],_Init:function(){this.resetState()},getRect:function(){return this._elems.parent.get(0).getBoundingClientRect()},resetState:function(){return this._state={position:h,rect:this.getRect(),coords:{top:0}},this},heightHadBeenChanged:function(){return this.getRect().height!==this._state.rect.height&&(this._state.rect=this.getRect(),!0)},toggle:function(t){return this._elems.parent.toggleClass(this._opts.cssClss.active,t),this._trigger("toggle",t),this},destroy:function(){return this},setState:function(t){if(e=this._state,n=t,!e||e.position!==n.position||e.coords.top!==n.coords.top){var e,n;switch(t.position){case h:this._elems.parent.css({position:"static"});break;case p:!function(t,e){var n={position:"fixed",top:e.top};t.css(n)}(this._elems.parent,t.coords);break;case d:!function(t,e){var n={position:"absolute",top:e.top};t.css(n)}(this._elems.parent,t.coords)}return this._state=t,this._state.rect=this.getRect(),this}}},{cssSels:{Main:{}},cssClss:{active:"springs__item_active"},lazy:!1,position:0},null,"SpringsItem")}(window.jQuery||window.$,window,window.ru.mail.cpf)},44960:function(){!function(t,e,n,i){"use strict";var r="StickyPanel",o=n.Basic.Constructors.getView,s=n.Basic.debounce;o(function(){var n=t(e),o=-1,a=0,l=1;function c(t,e){return Object.keys(e).forEach((function(n){t.toggleClass(n,e[n])})),t}var u=function(){var t=this._State.dimensions,e=this._Elems.Parent,i=e.prev(),r=e.next(),s=i.get(0).getBoundingClientRect(),a=r.get(0).getBoundingClientRect();return this._opts.horizontal?o:s.bottom>n.height()-t.height?-1:a.top<t.height?1:0};var h=function(){this._State.dimensions=this.getDimensions()},p=function(t){var e=this._opts.cssClss.state[t],n={};n[e.base]=!1,n[e.up]=!1,n[e.down]=!1,c(this._Elems.node,n)},d=function(t){var e=this._State.state,n=this._opts.cssClss.state[this._State.currentClassSet],i={};i[n.base]=!0,i[n.up]=e===o,i[n.down]=e===l,c(this._Elems.node,i),h.call(this),this._trigger("change",e,t)},f=function(){var t=this._opts.getNextState||u,n=this._opts.horizontal?e.scrollX||document.documentElement.scrollLeft:e.scrollY||document.documentElement.scrollTop,i=function(t){return t<0?o:0===t?a:t>0?l:null}(+t.call(this,n));this._State.state!==i&&(this._State.state=i,d.call(this,n))},m=function(){this._opts.raf?requestAnimationFrame(f.bind(this)):f.call(this)};return{_Events:["change"],_Handlers:{},changeClassSet:function(t){t!==this._State.currentClassSet&&(p.call(this,this._State.currentClassSet),this._State.currentClassSet=t,p.call(this,t),h.call(this),(this._opts.getInitial||function(){}).call(this),this._State.state=null,m.call(this))},getDimensions:function(){return{width:this._Elems.node.width(),height:this._Elems.node.height()}},_Init:function(){if(null!==this._Elems.node){this._State={state:null,currentClassSet:0};var t=this._opts.getInitial||function(){};h.call(this),t.call(this),n.on("resize",function(){h.call(this),t.call(this),m.call(this)}.bind(this)),n.on("scroll",this._opts.debounceMs?s(m.bind(this),this._opts.debounceMs):m.bind(this)),m.call(this)}else i&&e.console.warn(r+': node "'+this._opts.cssSels.Main.node+'" not found')}}}(),{cssSels:{Main:{node:".js-stickypanel__container"}},cssClss:{state:[{base:"stickypanel__container",up:"stickypanel__container_up",down:"stickypanel__container_down"}]},raf:!0,horizontal:!1,getInitial:null,getNextState:null,debounceMs:0},null,r)}(window.jQuery||window.$,window,window.ru.mail.cpf,window.DEBUG)},54355:function(){!function(t,e,n){"use strict";var i=n.Basic;(0,i.Extend)(!0,n,{Modules:{Toggle:i.getView(function(){function n(){var t=this._opts,e=t.cssClss.hidden;t.hideButton&&this._state.shown&&this._elems.button.addClass(e)}function i(){var t=this._opts,e=this._elems,n=t.cssClss,i=this._state.heights,o=this._state.shown,s=e.container;this._state.animate=!0,r.call(this).addClass(n.hidden),s.css({height:o?"0":i.container})}function r(){var t=this._elems.container;return this._opts.toggleParent||!t?this._elems.parent:t}return{_Events:["toggle","buttonClick"],_Handlers:{"dom:click:button":"_onClick","dom:webkitTransitionEnd msTransitionEnd oTransitionEnd transitionend:Main.container":"_onTransitionEnd"},toggleBlock:function(){var t=this._opts,o=this._elems,s=t.cssClss;if((o.container||{}).length){var a=this._state.shown;t.animate?i.call(this):(r.call(this).toggleClass(s.hidden),this._state.shown=!a,n.call(this),this._trigger("toggle"));var l=document.createEvent("HTMLEvents");l.initEvent("resize",!0,!0),e.dispatchEvent(l)}},_onClick:function(e){var n=this._opts.cssSels.preventToggle;n&&(t(e.target).is(n)||t(e.target).parents(n).length)||(e.preventDefault(),this.toggleBlock(),this._trigger("buttonClick",e))},_onTransitionEnd:function(e){var i=this._state.shown,o=this._state.animate;o&&t(e.target).is(this._opts.cssSels.Main.container)&&(this._state.shown=!i,n.call(this),r.call(this).toggleClass(this._opts.cssClss.hidden,i),this._trigger("toggle"),o=!1)},_Init:function(){var t=this._opts,e=this._elems,n=t.cssClss,i=e.container;if((i||{}).length){var o=e.container[0].scrollHeight,s=r.call(this).hasClass(n.hidden);this._state={shown:!s,animate:!1,heights:{container:o}},this._state.shown&&t.animate&&i.css("height",o)}}}}(),{cssSels:{Main:{block:".js-toggle",button:".js-toggle__button",container:".js-toggle__container"},button:".js-toggle__button",preventToggle:null},cssClss:{hidden:"hidden_all"},animate:!1,hideButton:!1,toggleParent:!1},null,"Toggle")}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},66926:function(){!function(t,e){"use strict";var n=e.Basic,i=n.Extend,r=n.getView,o=e.Tools.Counters.hitEvent;r({_Handlers:{dom:{"click:button":"_handleButtonClick"}},_handleButtonClick:function(t){var e=this._opts.attrs.eventMessage,n=t.currentTarget.getAttribute(e);n&&this.hitEvent({goal:n})},_Init:function(e){var n=e.events||[];this._opts.eventParams.id?n.length&&n.forEach(function(t){this.hitEvent(t)}.bind(this)):t.console.error("Не указан id счётчика для которого создаётся событие")},hitEvent:function(t){t&&o("topmail",i({},this._opts.eventParams,t))}},{cssSels:{button:".js-top-events__button"},attrs:{eventMessage:"data-event-message"},eventParams:{id:null,type:"reachGoal"}},null,"TopMailEvents")}(window,window.ru.mail.cpf)},62643:function(){!function(t,e,n){"use strict";var i="Dropdown",r=n.Basic,o=r.typeOf,s=r.getView(function(){var n=t(e.document),i=["click","keydown","mousewheel"];function s(e){t(e.target).closest(this._elems.Target).length||this.hide()}function a(){this._winHeight=document.documentElement.clientHeight}return{_Events:["toggle"],_Handlers:{"dom:click:Main.Button":function(t){t.preventDefault(),this.toggle()}},_Init:function(){var t=this._elems,n=this._opts,l=this._opts.hideOnEvents;if(t.Target=t.Target||t.Parent,this._Disabled=!1,o(l,"string")?l=l.split(" "):Array.isArray(l)||(l=[]),l=l.filter((function(t){return o(t,"string")&&i.indexOf(t)>-1})),this._hideOnEvents=l.join(" "),this._hideOnEvents&&(this._documentClickHandler=s.bind(this)),t.parent.hasClass(n.cssClss.disabled)&&this.disable(),n.cssClss.invertedPosition){var c=r.debounce(a.bind(this));e.addEventListener("resize",c),c()}},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},toggle:function(t){if(!this._Disabled){var e=this._elems,i=this._opts.cssClss,r=e.Target,s=i.showDropdown,a=i.invertedPosition,l=i.activeButton;o(t,"boolean")||(t=!r.hasClass(s)),a&&(t?this._isDropdownFits()||r.addClass(a):r.hasClass(a)&&setTimeout((function(){r.removeClass(a)}),this._opts.animationTime)),r.toggleClass(s,t),l&&e.Button.toggleClass(l,t),this._hideOnEvents&&n[t?"on":"off"](this._hideOnEvents,this._documentClickHandler),this._trigger("toggle",t)}},disable:function(t){var e=this._opts.cssClss.disabled;o(t,"boolean")||(t=!0),this._Disabled=t,t&&this.hide(),e&&this._elems.parent.toggleClass(e,t)},_isDropdownFits:function(){var t=this._getElement("dropdown");if(0===t.length)return!0;var e=t.children().get(0).getBoundingClientRect();return this._winHeight-e.top-e.height>=0},Show:function(){return this.show()},Hide:function(){return this.hide()},Toggle:function(t){return this.toggle(t)},Disable:function(t){return this.disable(t)}}}(),{cssSels:{Main:{Target:".js-dropdown__target",Button:".js-dropdown__button"},dropdown:".js-dropdown__box"},cssClss:{showDropdown:null,activeButton:null,disabled:null,invertedPosition:""},animationTime:300,hideOnEvents:"click"},null,i);r.Extend(e.getNameSpace("Modules",n),{Dropdown:s}),t.fn.dropdown=function(n){return e.DEBUG&&e.console.warn("Обнаружено старое подключение компонента.\t\t\t\tНеобходимо срочно сменить его на обычное, так как скоро старое перестанет работать"),this.each((function(){var e=t(this);e.data(i,new s(n,null,e))}))}}(window.jQuery||window.$,window,window.ru.mail.cpf)},47353:function(){!function(t,e){"use strict";var n=e.Basic,i=n.typeOf,r=n.Extend,o=e.Tools.Images,s=n.Constructors.getModel(function(){var e=["title","source","description"],s={};function a(t){this.loading=!0,t&&(this.width=t.width,this.height=t.height)}function l(){delete this.loading}function c(t,e){var n;return"loading"in t||((n=o.canPreload(t.type))?(t.loading=o.preloadImage(t.src,e),t.loading.then(a.bind(t),l.bind(t))):t.loading=n),t.loading}function u(t,e){var n=this._Current;return n.image===t&&n.set===e}function h(t,e){var n,i,r=this._opts.preloadDepth;if(r>0&&u.call(this,t,e)){n=this._getCurrentSetImages();for(var o=t+r;o>=t-r;o--)(i=this._getImageId(o))!=t&&this._startPreload(n[i],i,e)}}function p(t,e,n,i){if(u.call(this,e,n))if(void 0!==i){var r=this._getCurrentSetImages();this._trigger("imageready",r[e],e,n,t)}else this._trigger("imagefail",e,n,t)}function d(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.addImagesSet(t[e]);else i(t,"object")&&this.addImagesSet(t)}function f(t,e,n){var i,s=t.split(e),a=s[2],l={src:s[0],type:a};return a&&o.isTypeCorrect(a)||(l.type=a=o.getImageTypeFromUrl(s[0])||n),a?(i=s[1])&&(i=i.split("x")).length>1&&r(l,{width:1*i[0],height:1*i[1]}):l=null,l}function m(t){var e,n,o=[],s=this._opts.urlSeparator,a=this._opts.imageType;Array.isArray(t)||(t=[t]);for(var l=0;l<t.length;l++)e=t[l],(n=i(e,"object")?r({type:a},e):i(e,"string")&&e.length>0?f(e,s,a):null)&&o.push(n);return o}function g(t){for(var e,n,r,o,s,a,l=[],c=this.getImagePropsList(),u=0;u<t.length;u++){if(e=t[u],o={},i(e,"object")){n=e.url||e.image;for(var h=c.length;h--;)r=c[h],e.hasOwnProperty(r)&&(o[r]=e[r]);"source"in o&&(a=void 0,a=(s=o).source,i(a,"object")&&(s.source=a=[a.name,a.href]),i(a,"string")&&(s.source=a=a.split("|")),Array.isArray(a)&&a[0]||delete s.source)}else n=e;(n=m.call(this,n)).length&&(o.versions=n,l.push(o))}return l}function v(t,e,n,i){for(var r=this._isValidId(i),o=t.length;o--;){var s=p.bind(this,r?i:o,e,n);t[o].then(s,s)}}return{_Events:["setchange","setimageschange","imagechange","imageready","imagefail","imageloaded","imageloading","lastimage","message"],_Init:function(t){var n,i=this._opts.imageProps,o=this._aImageProps=e.slice(0);if(this._setsParams=[],this._setsImages=[],this._Current={set:null,image:null},Array.isArray(i))for(var s=i.length;s--;)n=i[s],-1===o.indexOf(n)&&o.push(n);if(t&&t.images)d.call(this,t);else if(t&&t.imageSets){var a=r({},t);d.call(this,a.imageSets)}},_getSetImages:function(t){var e=this._setsImages,n=null;return null===t&&(t=this._Current.set),this._isAvailableId(t,e)&&(n=this._setsImages[t]),n},_preloadCurImage:function(t,e){var n=this._Current.set,i=this._startPreload(e,t,n),r=h.bind(this,t,n);return v.call(this,i,t,n),Promise.all(i).then(r,r)},_startPreload:function(t,e,n,i){for(var r,o,s,a=this._opts.preloadTimeout,l=t.versions,u=[],h=0;h<l.length;h++)this._isValidId(i)&&h!==i||(s=!("loading"in(o=l[h])),r=Promise.resolve(c(o,a)),s&&(this._trigger("imageloading",t,e,n,h),r.then(this._trigger.bind(this,"imageloaded",t,e,n,h))),u.push(r));return u},_getImageId:function(t){var e,n=this._getCurrentSetImages(),i=(n&&n.length||0)-1;return!0===this._opts.Loop?(t%=e=i+1)<0&&(t+=e):t=Math.max(0,Math.min(t,i)),t},_isValidId:function(t){return null!==t&&!isNaN(t)},_isAvailableId:function(t,e){return this._isValidId(t)&&t in e},_getCurrentSetImages:function(){return this._getSetImages(null)},_getCurrentSetParams:function(){return this.getSetParams(null)},getImageParams:function(t,e){return t=isNaN(t)?this._Current.set:+t,e=isNaN(e)?this._Current.image:+e,n.getByPath([t,e],this._setsImages)},getCurrentImageParams:function(){return this.getImageParams(this._Current.set,this._Current.image)},reloadImage:function(t,e,n){var i;this._isValidId(n)||(n=this._Current.set),this._isAvailableId(t,this._getCurrentSetImages())&&(i=this._startPreload(this.getImageParams(n,t),t,n,e),v.call(this,i,t,n,e))},addImagesSet:function(e){var n=e&&e.images,i=-1;if(Array.isArray(n)){var r=this._setsImages;i=r.length,(n=g.call(this,n,i)).length?(r.push(n),this._setsParams[i]=e):i=-1}return t.DEBUG&&-1===i&&t.console.warn("Новый сет изображений не добавлен:",e),i},addImages:function(t,e,n){var i=this._setsImages,o=!0;null===(e=this._isAvailableId(e,i)?e:this._Current.set)&&(e=this.addImagesSet({images:t}),o=!1);var s,a,l,c=i[e],u={imagesAdded:!1};return Array.isArray(t)&&(l=(t=g.call(this,t,e)).length)&&(n?(s="unshift",u.indexFirst=0,u.indexLast=l-1):(s="push",a=c.length,u.indexFirst=a,u.indexLast=a+l-1),o&&Array.prototype[s].apply(c,t),r(u,{imagesAdded:!0,setLength:c.length,setId:e,newImages:t}),this._trigger("setimageschange",u)),u},changeSet:function(t){var e=this._Current,n=this._isAvailableId(t,this._setsImages)&&t!=e.set;return n&&(e.set=1*t,e.image=null,this._trigger("setchange",this._setsParams[t],t)),n},changeImage:function(t){var e,n,i,r=this._Current,o=this._getCurrentSetImages(),s=!1;return o&&this._isValidId(t)&&(t=+t,(s=(t=this._getImageId(t))!=r.image)&&(r.image=t,e=o[t],this._trigger("imagechange",e,t,r.set),!0!==this._opts.Loop&&(i=0===t,((n=t===o.length-1)||i)&&this._trigger("lastimage",n,i)),this._preloadCurImage(t,e))),s},nextImage:function(){return this.changeImage(this._Current.image+1)},prevImage:function(){return this.changeImage(this._Current.image-1)},getImagePropsList:function(){return this._aImageProps.slice(0)},getCurrentImage:function(){var t=this._Current,e=this._getCurrentSetImages();return{image:t.image,set:t.set,setLength:e&&e.length||0}},getImageProps:function(t,e){var n=this._Current,i=this._setsImages,o=null,s=this._isValidId,a=this._isAvailableId.bind(this);return t=s(t)?t:n.image,a(e=s(e)?e:n.set,i)&&a(t,i[e])&&delete(o=r(!0,{},i[e][t])).versions,o},getImage:function(t,e,n){var r=this._Current,o=!1;if(!this._isAvailableId(e,this._setsImages)&&null===(e=r.set))return null;var s=this._setsImages[e];this._isAvailableId(t,s)||(t=r.image);var a=s[t];return a&&this._isAvailableId(n,a.versions)&&(o=i(a.versions[n].loading,"boolean")),o?a:null},getSetParams:function(t){var e=this._setsParams,n=null;return null===t&&(t=this._Current.set),this._isAvailableId(t,e)&&(n=r(!0,{},e[t])),n},addToCache:function(e,n){n?s[n+""]=e:t.DEBUG&&t.console.error("Для кэширования данных необходимо имя ключа!")},getFromCache:function(t){return s[t+""]},postMessage:function(t){this._trigger("message",t)}}}(),{_Handlers:null,preloadDepth:null,preloadTimeout:2e4,Loop:!1,imageProps:null,urlSeparator:"|",imageType:"pic"},null,"Gallery");r(t.getNameSpace("Modules",e),{Gallery:s})}(window,window.ru.mail.cpf)},57383:function(){!function(t,e,n,i){"use strict";var r,o="GalleryControls",s=n.Basic.Constructors.getView,a=n.Basic.Extend,l=n.Basic.moduleOpts.setParams;a(!0,n,{Modules:{GalleryControls:s((r=["prev","next"],{_Handlers:{"dom:click:Main.Controls":"_onControlClick",model:{lastimage:"_onLastImage",imagechange:"_onImageChange",message:"_onMessage"}},_Init:function(){null===this._elems.Controls&&i&&e.console.warn(o+": element 'Main.Controls' not found");var t=this._Model.getCurrentImage(),n=t.image,r=this._Model._opts.Loop,s=0===n,a=n===t.setLength-1;(!r&&null!==n||s&&a)&&(s||a)&&this._onLastImage(a,s)},toggle:function(t){t=t||{};var e=this._elems.Controls;if(e){var n=this._opts,i=n.cssClss.disabledControl,r=n.Attrs.switchDirection;i&&e.each((function(e,n){var o=n.getAttribute(r)||"";"boolean"==typeof t[o]&&n.classList[t[o]?"remove":"add"](i)}))}},_onControlClick:function(t){var e=this._Model,n=t.currentTarget.getAttribute(this._opts.Attrs.switchDirection)===r[1],i=e.getCurrentImage(),o=i.image;null===i.set&&e.changeSet(0),null===o&&(o=0,e.changeImage(o)),e.changeImage(o+(n?1:-1)),t.preventDefault()},_onLastImage:function(t,e){this.toggle({prev:t&&!e,next:e&&!t})},_onMessage:function(t){if("controls"===t.name){var e=t.value||{};"boolean"==typeof e.disable&&this.toggle(e.disable?{prev:!1,next:!1}:{prev:!0,next:!0})}},_onImageChange:function(){this.toggle({prev:!0,next:!0})}}),{cssSels:{Main:{Controls:null}},cssClss:{disabledControl:null},Attrs:{switchDirection:"data-direction"}},null,o)}}),l(o,{acceptTypes:["Gallery"]})}(window.jQuery||window.$,window,window.ru.mail.cpf,window.DEBUG)},43352:function(){var t,e,n,i,r,o;window.jQuery||window.$,window,t=window.ru.mail.cpf,e=t.Basic,n=e.Extend,i=e.typeOf,r=e.getOptions,o=e.Constructors.getView(function(){function t(t){for(var e,n,o,s,a,l,c=this._opts,u=c.Attrs,h=this._Model.getImagePropsList(),p=u.imageVersions,d=u.imageProps,f=[],m=null,g=0;g<p.length;g++){a=p[g].split("|");for(var v=0;v<a.length;v++)if(e=t.getAttribute(a[v])){f.push(e);break}}if(f.length&&(m={url:f},i(d,"object")))for(var _=h.length;_--;)(o=d[n=h[_]])&&(s=t.getAttribute(o))&&(m[n]=s);if(c.useOnclickData)for(var w in l=r(t))l.hasOwnProperty(w)&&-1!==h.indexOf(w)&&(m[w]=l[w]);return m}return{_Events:["previewClick"],_Handlers:{dom:{"click:Main.Preview":"_onPreviewClick"},model:{imagechange:"_onImageChange"}},_Init:function(){var t,e,i=this._opts,r=this._Elems.Preview,o=this._Model,s=i.imagesSet;this._imagesSet=s,r&&r.length&&(t=this.getImagesFromElems(r)).length&&(null!==s?o.addImages(t,s):(e=n({images:t},i.addSetParams),this._imagesSet=this._Model.addImagesSet(e)))},getSetId:function(){return this._imagesSet},getImagesFromElems:function(e){return e.toArray().map(t.bind(this)).filter((function(t){return null!==t}))},_onPreviewClick:function(t){var e=t.currentTarget,n=this._opts.Attrs.imageId,i=this._opts.Attrs.imageSetId,r=e.getAttribute(n)||this._elems.Preview.index(e),o=e.getAttribute(i)||this._imagesSet;this._model.changeSet(o),this._model.changeImage(r),this._trigger("previewClick",{imageId:r,imageSetId:o}),t.preventDefault()},_onImageChange:function(t,e,n){var i=this._opts.cssClss.currentPreview,r=this._imagesSet,o=this._Elems.Preview;o&&(null===r||n===r)&&i&&o.removeClass(i).eq(e).addClass(i)}}}(),{cssSels:{Main:{Preview:".js-preview-list__item"}},cssClss:{currentPreview:null},Attrs:{imageVersions:null,imageProps:null,imageId:"data-image-id",imageSetId:"data-image-set"},imagesSet:null,addSetParams:null,useOnclickData:!1},null,"GalleryPreviews"),e.moduleOpts.setParams("GalleryPreviews",{acceptTypes:"Gallery"}),n(!0,t,{Modules:{GalleryPreviews:o}})},53537:function(){!function(t,e){"use strict";var n=e.Basic.Constructors.getView,i=e.Basic.moduleOpts.setParams,r=e.Tools.initModule;n({_Init:function(){var e=r("PopupGalleryView",this._elems.parent),n=this._opts.backUrl;e&&n&&e.on("hide",(function(){this.showLoading(),requestAnimationFrame((function(){t.location=n}),this._Elems.Parent)}));var i=this._opts.currentImg,o=this._opts.currentSet;i&&(this._Model.changeSet(parseInt(o,10)),this._Model.changeImage(parseInt(i,10)))}},{currentImg:null,currentSet:null,backUrl:null},null,"GalleryShot"),i("GalleryShot",{acceptTypes:"Gallery",paramAttrs:{currentImg:"data-photo-id",currentSet:"data-set-id",backUrl:"data-return-url"}})}(window,window.ru.mail.cpf)},36095:function(){!function(t,e,n){var i=n.Basic,r=i.typeOf,o=i.Extend,s=i.getView(function(){var n,i="background-size"in(n=document.createElement("div").style)||"backgroundSize"in n,s=["width","height"],a=s.reduce((function(t,e){return t[e]="",t}),{});function l(e,n,i){var o,s,a,l,c,u,h=this._opts.infoAppend;Array.isArray(i)||(i=Object.keys(e));for(var p=i.length;p--;)(o=i[p])in e&&(s=e[o],r(s,"string")&&(s=this._getViewParent().find(s)),s instanceof t&&s.length&&(a=n[o],c=r(a),u=h[o],"boolean"===c?s.toggle(a):r(u,"function")?u.call(this,s,a):(l=null!==a&&"undefined"!==c&&!("string"===c&&0===a.length),s.toggle(l),l&&("A"===s.get(0).tagName?s.attr("href",a):s.html(a)))))}function c(e,n){return n?"nodeType"in n?t(n):n:e}var u=function(t){this._state=o({},this._state,t||{})},h=function(){return o(!0,{},this._state)};return{_Handlers:{dom:{"click:Main.imageView":"_onImageClick","click:reloadImage":function(t){this._model.reloadImage(this._model.getCurrentImage().image,this._opts.imagesVersion),t.preventDefault()}},model:{imagechange:"_onImageChange",imageready:"_onImageReady",imagefail:"_onImageFail",setchange:"_onSetChange"}},_Init:function(){var t=this._opts,e=t.imagesSet;if(this._imagesSet=null===e?e:1*e,this._imagesVersion=+t.imagesVersion,isNaN(this._imagesSet)||isNaN(this._imagesVersion))throw new TypeError("imagesSet");null!==e&&this._toggleSetInfo(this._Model.getSetParams(e),e)},_onSetChange:function(t,e){null===this._imagesSet&&this._toggleSetInfo(t,e)},_setImageToView:function(n,i,o){var s,a,l,c,u=this._opts,h=!0===u.resizeView,p=r(e.swfobject,"undefined")?null:e.swfobject,d=n.src;switch((o=this._getViewElement(o)).empty(),n.type){case"pic":"IMG"===o.get(0).tagName?o.attr("src")!==d&&(c=o.clone(!0).attr("src",d),o.replaceWith(c),this._setViewElement(c)):(l={"background-image":"url("+d+")"},h&&"cover"!==o.css("background-size")&&(l["background-size"]=i.width+"px "+i.height+"px"),o.css(l));break;case"flash":if(!p)break;(a=o.children()).length&&(s=a.attr("id"))||(s="flash_pic_"+(new Date).getTime(),t('<div id="'+s+'"></div>').appendTo(o)),p.embedSWF(d,s,i.width,i.height,"9.0.0",null,null,u.flashParams)}return c||o},_prepareViewElement:function(t,e){var n,i=null,r=1;(e=this._getViewElement(e)).css(a);for(var o=s.length;o--&&(n=s[o]);)r=Math.min(r,e[n]()/t[n]);if(r<1)for(i={},o=s.length;o--&&(n=s[o]);)i[n]=Math.round(t[n]*r);return i},_normilizeImageViewElem:function(e,n,r){var o,s=(r=this._getViewElement(r)).get(0),a="IMG"===s.tagName,l="pic"===e&&!a&&n&&!i;return(l||!l&&"pic"!=e&&a)&&(o=t(l?"<img>":"<div>").addClass(s.className),r.replaceWith(o),this._setViewElement(o)),o||r},_processViewSizes:function(t,e,n){(n=this._getViewElement(n)).css(e||a)},_getTargetElement:c,_getViewParent:function(t){return c(this._elems.parent,t)},_getViewElement:function(t){return c(this._elems.imageView,t)},_setViewElement:function(t){this._elems.imageView=t},_showImageVersion:function(t,e){var n=!0===this._opts.resizeView,i=this._prepareViewElement(t,e),r=i||{width:t.width,height:t.height};n&&(e=this._normilizeImageViewElem(t.type,null!==i,e)),e=this._setImageToView(t,r,e),n&&this._processViewSizes(t,r,e),this._zoomInit(e)},_zoomInit:function(t){var e=this._opts,n=e.cssSels,i=e.cssClss.ZoomSlide,r=e.zoom,o=e.attrs.zoom;if(r&&!t.attr(o)){var s=t.closest(n.sliderItem);s.addClass(i);var a=t.parent(),l=t.width(),c=t.height();this._resetZoom(t),t.attr(o,"true"),t.height()>a.height()&&a.css(e.zoomBigImageCss),t.on("touchstart",function(t){2===t.touches.length?(t.stopPropagation(),u.call(this,{scaling:!0,isDoubleFinger:!0,lastDist:this._getZoomDist(t)})):u.call(this,{isDoubleFinger:!1}),h.call(this).scaleSize>1&&(t.stopPropagation(),u.call(this,{isScrolling:!1}),h.call(this).scaling||u.call(this,{clientXprev:t.touches[0].clientX,clientYprev:t.touches[0].clientY}))}.bind(this)),t.on("touchmove",function(e){var n=h.call(this);2===e.touches.length&&(e.preventDefault(),e.stopPropagation(),u.call(this,{isDoubleFinger:!0})),n.scaling&&this._pinchZoomMove(e,t,l,c,a),n.scaleSize>1&&(e.stopPropagation(),u.call(this,{isScrolling:!0}),n.scaling||u.call(this,{scrollLeft:(n.clientXprev-e.touches[0].clientX)/n.scaleSize,scrollTop:(n.clientYprev-e.touches[0].clientY)/n.scaleSize}))}.bind(this)),t.on("touchend",function(n){var i=h.call(this);(i.isScrolling||i.isDoubleFinger)&&n.stopPropagation(),u.call(this,{scaling:!1,scrollTop:0,isScrolling:!1}),setTimeout(function(){s.hasClass(e.cssClss.ActiveSlide)||this._resetZoom(t)}.bind(this),0)}.bind(this))}},_resetZoom:function(t){u.call(this,{scaling:!1,isScrolling:!1,isDoubleFinger:!1,scaleSize:1,scrollLeft:0,scrollTop:0,clientXPrev:0,clientYPrev:0,lastDist:0}),t.css({transform:"scale(1)"})},_getZoomDist:function(t){return Math.round(Math.hypot(t.touches[0].pageX-t.touches[1].pageX,t.touches[0].pageY-t.touches[1].pageY))},_pinchZoomMove:function(t,e,n,i,r){var o=this._opts,s=this._getZoomDist(t),a=h.call(this),l=a.scaleSize,c=o.zoomMinDeltaDist,p=o.zoomSpeed,d=o.maxZoomSize;if(Math.abs(s-a.lastDist)>c){var f=Number((s/(100*p)).toFixed(1)),m=s>a.lastDist?a.scaleSize+f:a.scaleSize-f;if(u.call(this,{scaleSize:m}),m<=1&&this._resetZoom(e),m>d&&u.call(this,{scaleSize:d}),(m=h.call(this).scaleSize)!==l){var g=(n*m-n*l)/2,v=(i*m-i*l)/2;e.css({transform:"scale("+m+")"}),r.scrollLeft((r.scrollLeft()+g)*(1+a.scrollLeft/n)),r.scrollTop((r.scrollTop()+v)*(1+a.scrollTop/i))}}u.call(this,{lastDist:s})},_switchViewState:function(t,e,n){var i=this._opts.cssClss;n=this._getViewParent(n),e=!t&&!0===e,i.Loading&&n.toggleClass(i.Loading,e),i.Error&&n.toggleClass(i.Error,t)},_onImageReady:function(t,e,n,i){this._isTargetImage(n,i)&&(this._switchViewState(!1,!1),this._showImageVersion(t.versions[i]))},_toggleImageInfo:function(t,e){var n=this._opts.cssSels.imageProps,i=this._Model.getImagePropsList(),o=this._elems.imageNum;o&&o.text(e+1),r(n,"object")&&l.call(this,n,t,i)},_toggleSetInfo:function(t,e){var n=o({total:this._Model._getSetImages(e).length},t),i=o({total:this._elems.imagesTotal},this._opts.cssSels.setProps);l.call(this,i,n)},_onImageChange:function(t,e,n){this._isTargetImage(n)&&(this._model.getImage(e,n,this._opts.imagesVersion)||this._switchViewState(!1,!0),this._toggleImageInfo(t,e))},_onImageFail:function(t,e,n){this._isTargetImage(e,n)&&this._switchViewState(!0)},_onImageClick:function(){var t=this._opts;t.useClickHandler&&(r(t.onImgClick,"function")?t.onImgClick.apply(this,arguments):(this._normalizeModelImage(),this._Model.nextImage()))},_isTargetImage:function(t,e){var n=this._imagesSet;return(null===n||t===n)&&(r(e,"undefined")||e===this._imagesVersion)},_normalizeModelImage:function(){var t=this._Model,e=t.getCurrentImage(),n=this._imagesSet;(null!==n&&e.set!=n||null===e.set)&&t.changeSet(n||0),null===e.image&&t.changeImage(0)},_createAdvertManager:function(){return null}}}(),{cssSels:{Main:{imageView:null,imageNum:null,imagesTotal:null},reloadImage:".js-photo_reload",imageProps:null,setProps:null,viewCell:".js-size-reference",sliderItem:".js-slider__item"},cssClss:{Loading:null,Error:null,ActiveSlide:"viewbox__slide_active",ZoomSlide:"viewbox__slide_zoom"},attrs:{zoom:"data-zoom"},useClickHandler:!0,onImgClick:null,infoAppend:{},resizeView:!0,imagesSet:0,imagesVersion:0,flashParams:null,zoom:!1,maxZoomSize:5,zoomSpeed:3,zoomMinDeltaDist:5,zoomBigImageCss:{alignItems:"flex-start"}},null,"ImageView");i.Extend(!0,n,{Modules:{GalleryImageView:s}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},85942:function(){!function(t,e,n){var i=n.Basic,r=i.typeOf,o=e.getNameSpace("Modules",n),s=t(e),a=t(e.document),l=n.Modules.GalleryImageView,c=i.moduleOpts.setParams,u="PopupGalleryView",h=i.Constructors.getView(function(){var o=["width","height"];function l(e,n){var i,o,s;switch(r(e)){case"object":s=e instanceof t;case"array":if(e.length>1)for(var a=e.length;a--;)o=l(s?e.eq(a):e[a],n),i&&i>o||(i=o);else i=s?e[n]():l(e[0],n);break;case"number":i=e;break;case"function":i=e()}return i}function c(t,e){var n,i,r={};e=!0===e;for(var s=o.length;s--;)i=n=o[s],e&&(i="outer"+n.charAt(0).toUpperCase()+n.substring(1)),r[n]=t[i]();return r}function u(e,n){var r,o,s=this._opts.cssSels.sizeReference,a=this._elems,l=i.Extend({visibility:"hidden"},e),c=a.sizeReference;if(!s||c&&c.length||(c=n.parents(s).first()),c&&c.length)n.css(l);else{r=n.parents(),o=[];var u=r.filter((function(){var e="visible"!==t(this).css("overflow");return e&&o.push(this.scrollWidth-this.offsetWidth+this.scrollHeight-this.offsetHeight),e}));n.css(l),c=u.filter((function(t){return o[t]<this.scrollWidth-this.offsetWidth+this.scrollHeight-this.offsetHeight})).first().children().filter(r),a.sizeReference=c}return c}function p(t){t=this._getViewElement(t);for(var e,n,i,r=this._opts.sizeLimits,h=c(s),p=c(u.call(this,h,t),!0),d={},f=o.length;f--;)e=o[f],i=Math["width"===e?"max":"min"](h[e],a[e]()),i-=p[e]-h[e],r&&r.hasOwnProperty(e)?(n=l(r[e],e),n=Math.max(n,i)):n=i,d[e]=n;return t.css({visibility:""}),d}function d(t,e){for(var n,i=p.call(this,e),r=null,s=1,a=o.length;a--&&(n=o[a]);)s=Math.min(s,i[n]/t[n]);if(s<1)for(r={},a=o.length;a--&&(n=o[a]);)r[n]=Math.round(t[n]*s);return r}function f(t){this._elems.sizeCont&&this._elems.sizeCont.width(""),h.prototype._parent._showImageVersion.apply(this,t)}return{_Handlers:{"dom:keydown:document":function(t){var e=t.keyCode,n=this._Model;this._state.visible&&(37===e?n.prevImage():39!==e&&32!==e||n.nextImage())},model:{setchange:function(t){t.hasOwnProperty("showBanner")&&!!t.showBanner!==this._opts.showBanner&&this.addOptions({showBanner:!!t.showBanner})}}},_Events:["show","hide"],_parentElement:function(){var e=null,n=this._opts;return r(n.templates.block,"function")&&(e=t(n.templates.block.call(this,n.templatesData.block||{}))),e},_Init:function(){this._state=i.Extend(!0,this._state||{},{visible:!1}),this._popup=null,this._elems.sizeCont||!1===this._opts.setContSize||(this._elems.sizeCont=this._elems.parent)},_prepareViewElement:function(t,e){var n;return this._state.visible&&(this._hideBanner(),n=d.call(this,t,e)),n},_switchViewState:function(t,e){e=!t&&!0===e,this._state.visible&&(h.prototype._parent._switchViewState.apply(this,arguments),!1!==this._opts.usePopupLoading&&(e?this._popup.getOverlay().showLoading():this._popup.getOverlay().toggleBlock(this._elems.parent)))},_onImageReady:function(t,e,n,i){this._isTargetImage(n,i)&&(this._state.image=t.versions[i],this._state.visible&&(this._resetReadyStateFor(t.versions[this._opts.imagesVersion]),this._opts.showBanner&&this._showBanner(),h.prototype._parent._onImageReady.apply(this,arguments)))},_onImageChange:function(t,n,i){var r=!0===this._opts.showOnChange,o=this._state,s=o.visible;this._isTargetImage(i)&&(delete o.image,e.cancelAnimationFrame(o.showRequest),s?h.prototype._parent._onImageChange.apply(this,arguments):r&&this.Show())},_initPopup:function(){this._popup=n.Tools.initModule(["Popup",this._opts.popupExt],this._elems.parent,{_Handlers:{show:this._onPopupToggle.bind(this,!0),hide:this._onPopupToggle.bind(this,!1)}})},_getPopupInstance:function(){var t=this._popup;return t||(this._initPopup(),t=this._popup),t},_onPopupToggle:function(t){var e,n,i,r=this._state,o=this._Model;r.visible=t,t?(n=(e=o.getCurrentImage()).image,i=e.set,this._toggleSetInfo(o.getSetParams(i),i),this._toggleImageInfo(o._getCurrentSetImages()[n],n),"image"in r?this._showCurrentImage():this._switchViewState(!1,!0)):this._clearImageView(),this._trigger(t?"show":"hide")},_showCurrentImage:function(){this._showImageVersion(this._state.image)},_clearImageView:function(){this._getViewElement().empty()},_showImageVersion:function(){this._state.showRequest=e.requestAnimationFrame(f.bind(this,Array.prototype.slice.call(arguments)))},_processViewSizes:function(t,e){h.prototype._parent._processViewSizes.apply(this,arguments),this._elems.sizeCont&&this._elems.sizeCont.width(e.width)},_onImageClick:function(){this._normalizeModelImage(),this._model.nextImage()||this._getPopupInstance().hide()},_hideBanner:function(){var t=this._popup.getOverlay();t&&t.hideBanner&&t.hideBanner(this._opts.bannerId)},_showBanner:function(){if(this._opts.showBanner){var t=this._popup.getOverlay();t&&t.showBanner&&t.showBanner(this._opts.bannerId,!0)}},isVisible:function(){return!0===this._state.visible},Show:function(){this._normalizeModelImage(),this._getPopupInstance().show()},Hide:function(){this._getPopupInstance().hide()},showLoading:function(){this._getPopupInstance().getOverlay().showLoading()},addOptions:function(t){return r(t,"object")&&i.Extend(!0,this._opts,t),this}}}(),{cssSels:{sizeReference:null,Main:{sizeCont:null}},showOnChange:!1,showBanner:!0,sizeLimits:null,setContSize:!0,templates:{block:null},templatesData:{block:null},imagesVersion:1,imagesSet:null,Banner:null,bannerId:"default",usePopupLoading:!1,popupExt:"ImageView"},l,u);i.Constructors.getView({_Handlers:{"dom:click:showPopup":"_onShowClick"},_onShowClick:function(t){t.preventDefault();var e=this.getPopup();e&&e.Show()},getPopup:function(){var t=this._popupView;return t||(this._popupView=t=this._elems.Parent.data(u)),t}},{cssSels:{showPopup:".js-show_photo"}},null,"ShowGalleryPopup"),c("ShowGalleryPopup",{acceptTypes:"Gallery"}),c(u,{initializer:function(t,e,n){return new h(t,null,n)},acceptTypes:"Gallery"}),o[u]=h}(window.$,window,window.ru.mail.cpf)},26656:function(){!function(t,e,n){var i=n.Basic,r=n.Modules,o="WritableGalleryPreviews",s=i.Constructors.getView(function(){function t(t){var e,n,i=this._previewsVersion,r=[];if(!isNaN(i)&&null!==i)for(var o=0;o<t.length;o++)n=null,(e=t[o].versions[i])?n=e.src:!0===this._opts.ignoreVersionMiss&&(n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),n&&r.push(n);return r}function n(n){var i=t.call(this,n),r=e.document.createElement("div");return r.innerHTML=this._opts.Templates.previews({previews:i,current:this._Model.getCurrentImage().image}),r.childNodes}function i(){var t=this._Model._getSetImages(this._imagesSet),e=this._elems,i=e.previewsCont;t&&t.length>1&&(i.html(n.call(this,t)),e.Preview=i.find(this._opts.cssSels.Main.Preview))}return{_Handlers:{model:{setchange:"_onSetChange"}},_Init:function(){var t=this._opts,e=t.imagesSet;if(this._imagesSet=e=null===e?e:1*e,this._drawnSet=e||this._Model.getCurrentImage().set,this._previewsVersion=1*t.previewsVersion,isNaN(this._imagesSet))throw new TypeError('Wrong type of "imagesSet" option');i.call(this)},_onSetChange:function(t,e){var n=this._imagesSet;(null===n&&this._drawnSet!==e||n===e)&&(this._drawnSet=e,i.call(this))}}}(),{cssSels:{Main:{previewsCont:null}},previewsVersion:2,ignoreVersionMiss:!1,Templates:{previews:null}},r.GalleryPreviews,o);r[o]=s,i.moduleOpts.setParams(o,{acceptTypes:"Gallery"})}(window.jQuery,window,window.ru.mail.cpf)},30685:function(){!function(t,e,n){"use strict";var i="ImageView",r=n.Basic.Constructors.addPlugin,o=n.Basic.Extend,s=n.Basic.debounce,a={cssSels:{Main:{slider:".js-image-slider"},slideContents:null},templates:{frames:n.Tools.getTemplate("ct-viewbox-slides.xml"),frameContents:n.Tools.getTemplate("ct-viewbox-slide-content.xml")},imageSliderExt:i};r(i,function(){function i(t,e,n){this._switchViewState(!1,!1,n.all),this._showImageVersion(t.versions[e],n.contents.find(this._opts.cssSels.Main.imageView))}function r(t){t=t||this._model._getCurrentSetParams();var e=this._opts.imagesVersion;return{params:t,images:(this._model._getCurrentSetImages()||[]).map((function(t){return o({},t,{targetVersion:t.versions[e]})}))}}var a=function(t){var n=e.document.createElement("div"),i=r.call(this,t);n.innerHTML=this._opts.templates.frames(i),this._state=o({},this._state,{setImages:i,imageFrames:[],framesContent:[],imagesReady:{}}),this._slider.replaceFrames(n.children,0)};return{_Handlers:{model:{setchange:a,imageloaded:"_onImageLoaded",imageloading:function(t,e,n,i){var r=this._getImageFrames(e);this._isTargetImage(n,i)&&r&&this._switchViewState(!1,!0,r.all)}},dom:{"resize:window":s((function(){this._state&&(this._state.sliderSize=this._getSliderSizes())}),100)}},_Init:function(){this._slider=n.Tools.initModule(["Slider",this._opts.imageSliderExt],this._elems.slider||this._elems.parent,{_Handlers:{beforeSlide:function(t){this._advertManager&&this._advertManager.beforeSlide(t)||this._replaceImageFrames(null,t)}.bind(this),slide:function(t){null!=(t=this._advertManager?this._advertManager.slide(t):t)&&(this._model.changeImage(t),this._replaceImageFrames(t,null))}.bind(this),swipeEnd:function(){this._state.sliderSwipe=!1}.bind(this),swipeStart:function(){this._state.sliderSwipe=!0}.bind(this),slideControlTap:function(){this._state.sliderTap=!0}.bind(this)}}),this._state=o(this._state||{},{imageFrames:[],setImages:r.call(this),sliderSwipe:!1,sliderTap:!1,sliderSize:this._getSliderSizes(),imagesReady:{}}),this._advertManager=this._createAdvertManager(),a.call(this)},_replaceImageFrames:function(t,e){var n,r,o,s=this._opts,a=this._model.getCurrentImage(),l=a.setLength,c=s.cssSels.slideContents,u=null!==t,h=s.imagesVersion;u&&(n=t-2,r=t+2);for(var p=0;p<l;p++){var d=this._getImageFrames(p),f=u&&p>=n&&p<=r||p===e;if(f)if("contents"in d){if((o=(o=this._Model.getImageParams(null,p))&&o.versions[h])&&"iframe"===o.type){var m=d.contents.find(s.cssSels.Main.imageView);m.length&&"IMG"!==m.prop("tagName")&&!m.children().length&&m.append(this._Model.getFromCache(o.src))}o=null}else d=this._getFramesWithContents(p,d);var g=d.contents,v=d.all,_=g&&g.parent().length>0;f&&!_?(c&&(v=c.find(c)),g.each((function(t){v.eq(t).append(this)})),(o=this._model.getImage(p,a.setId,h))&&i.call(this,o,h,d)):u&&!f&&_&&g.detach()}},_getSliderSizes:function(){var t=this._elems.slider||this._elems.parent;return{width:t.width(),height:t.height()}},_getImageFrames:function(t){var e=this._state.imageFrames[t];return e||((e={frame:this._slider.getFrameByNo(t)}).clones=this._slider.getFrameClones(e.frame),e.all=e.frame.add(e.clones),this._state.imageFrames[t]=e),e},_getFramesWithContents:function(n,i){null==i&&(i=this._getImageFrames(n));var r=i.contents;if(!r){var s=this._opts.templates.frameContents,a=o({image:n},this._state.setImages),l=e.document.createElement("div");l.innerHTML=s(a),r=t(Array.from(l.childNodes)).detach();for(var c=0;c<i.all.length;c++)c>0&&(r=r.add(r.eq(0).clone()));i.contents=r}return i},_onImageClick:function(){this._state.sliderSwipe||this._super.apply(this,arguments)},_onImageLoaded:function(t,e,n,r){var o=this._model.getCurrentImage().image;if(this._isTargetImage(n,r)&&e!==o){var s=this._getFramesWithContents(e);s.contents.parent().length||this._replaceImageFrames(o,e),i.call(this,t,r,s)}},_onImageChange:function(t,e,n){var i;this._isTargetImage(n)&&(this._replaceImageFrames(null,e),e!==this._slider.getFrameNo()&&(i=this._getImageFrames(e),this._slider.goToFrame(i.frame))),this._super.apply(this,arguments)},_getViewElement:function(t){var e=this._slider.getCurrentFrame().find(this._opts.cssSels.Main.imageView);return this._getTargetElement(e,t)},_setViewElement:function(){},_getViewParent:function(t){return this._getTargetElement(this._slider.getCurrentFrame(),t)},_showImageVersion:function(t){var e=this._state.imagesReady[t.src],n=this._state.sliderSize;e&&e.height===n.height&&e.width===n.width||(this._super.apply(this,arguments),this._state.imagesReady[t.src]=o({},n))},_resetReadyStateFor:function(t){delete this._state.imagesReady[t.src]},_toggleImageInfo:function(){}}}(),a,"ImageViewSlider")}(window.$,window,window.ru.mail.cpf)},26274:function(){!function(){"use strict";(0,window.ru.mail.cpf.Basic.Constructors.addPlugin)("ImageView",{_Handlers:{model:{showSplash:function(t){var e=this._slider;if(e){var n=t.imageId;n?(e.goToPage(n),e.getPagesCount()>n&&this._model.postMessage({name:"controls",value:{disable:!1}})):e.goToPage(e.getPagesCount()-1)}}}}},{},"ImageViewSliderSplash")}(window.$)},433:function(){!function(t,e,n){"use strict";var i=n.Basic,r=i.typeOf,o=n.Types.String.Url.addParams,s=n.Tools.transport,a=["loadStart","loadFinish","loadError","showSplash","splash"];i.Constructors.addPlugin("Gallery",{_Handlers:{setchange:"_onSetChange"},_Init:function(){this._resetSplashFlags(),this._galleriesCache={},this._addEventTypes(a),this._Current.galleryId=this._opts.galleryId||null},setSplashUrl:function(t){this._opts.urlSplash=t,this._resetSplashFlags()},addImagesSet:function(){var t=this._super.apply(this,arguments);return-1!==t&&(this._setsParams[t].addLastFrame=!0),t},changeImage:function(t){var e=this._getCurrentSetImages();if(!e||!this._isValidId(t))return!1;var n,i,r,o=this._opts,s=this._Current,a=!!o.Loop,l=this._opts.gallerySplashCount,c=null===l;t=+t;var u=this._getImageId(t),h=e[u];c?r=(i=this._showSplash&&t===e.length)||!this._showSplash&&u===e.length-1:(i=this._showSplash&&t>=e.length,r=l>0?i&&t===e.length-1+l:u===e.length-1);var p=0===u;return(n=t<=e.length+l?(i?t:u)!=s.image:a&&u!==s.image)&&(i?(s.image=t,this.getSplashData().then(this._trigger.bind(this,"splash")),this._trigger("showSplash",l?{imageId:t}:{})):(s.image=u,this._trigger("imagechange",h,u,s.set),this._preloadCurImage(u,h),this._showSplash&&o.preloadSplash&&!this._splashDataPromise&&this.loadSplash().then(function(t){this._showSplash=!!t||o.showSplash}.bind(this)))),a||!r&&!p||this._trigger("lastimage",r,p),n},getSplashData:function(t){return this._splashDataPromise||this.loadSplash(t)},loadSplash:function(n){n=r(n,"undefined")?this._Current.galleryId:n;var i,a=this._opts,l=this._trigger.bind(this),c=a.urlSplash;if(c){var u=r(a.getUrlParams,"function")?a.getUrlParams.call(this,n):{};u=t.extend({},a.urlParamsStatic.splash||{},u),a.randomUrlParam&&(u[a.randomUrlParam]=(Math.random()+"").split(".")[1]),i=s({url:o(u,c)})}else i=Promise.resolve();return this._trigger("loadStart","splash",n),this._splashDataPromise=i.then((function(t){return l("loadFinish","splash",n),t})).then(function(t){return r(a.prepareSplashData,"function")&&(t=a.prepareSplashData.call(this,t)),t}.bind(this)).catch((function(t){e.console.error(t),l("loadError","splash",n)})),this._splashDataPromise},loadGallery:function(n){var i=this._opts,r={},a=null;return i.useGalleriesCache&&(a=(this._galleriesCache[n]||{}).storage),r[i.urlParams.galleryId]=n,this._trigger("loadStart","gallery",n),(a?Promise.resolve(a):s({url:o(t.extend({},i.urlParamsStatic.gallery,r),i.urlGallery)}).then((function(t){return t})).catch(function(t){e.console.error(t),this._trigger("loadError","gallery",n)}.bind(this))).then(function(t){return this._onGetGalleryInfo(n,t),t}.bind(this))},_getImageId:function(t){var e,n=this._getCurrentSetImages(),i=n&&n.length-1||0;return!0===this._opts.Loop?(t%=e=i+1)<0&&(t+=e):t=Math.max(0,Math.min(t,i)),t},_onGetGalleryInfo:function(t,e){var n=this._opts,i=this._galleriesCache,o=(i[t]||{}).setId;isNaN(o)&&(r(n.prepareGalleryData,"function")&&n.prepareGalleryData.call(this,e),o=this.addImagesSet(e),i[t]={setId:o,storage:e}),this._trigger("loadFinish","gallery",o,e),this.changeSet(o)&&this.changeImage(0)},_resetSplashFlags:function(){this._showSplash=!!this._opts.urlSplash||this._opts.showSplash,this._splashDataPromise=null},_onSetChange:function(t){this._resetSplashFlags(),t.id&&(this._Current.galleryId=t.id)}},{showSplash:!1,galleryId:null,urlSplash:null,urlGallery:null,urlParams:{galleryId:"id"},urlParamsStatic:{splash:null,gallery:null},getUrlParams:null,randomUrlParam:"",useGalleriesCache:!0,preloadSplash:!1,prepareGalleryData:null,prepareSplashData:null,gallerySplashCount:null},"Ajax")}(window.$,window,window.ru.mail.cpf)},43538:function(){!function(t,e,n){"use strict";(0,n.Basic.Constructors.addPlugin)("ImageView",((0,n.Tools.Images._addTypes)({html:{canPreload:!1,exts:[]}}),{_setImageToView:function(e,n,i){if(i=this._super.apply(this,arguments),"html"===e.type){var r=this._Model.getFromCache(e.src);r||(r=t("<div/>").append(e.src),this._model.addToCache(r,e.src)),r.css(n).appendTo(i)}return i}}),null,"HTML")}(window.jQuery,window,window.ru.mail.cpf)},31435:function(){!function(t,e,n){var i=n.Basic,r=n.Tools.Images;(0,i.Constructors.addPlugin)("ImageView",(r._addTypes({iframe:{exts:["html"],canPreload:!1}}),{_setImageToView:function(e,n,i){var r,o=this._opts;return i=this._super.apply(this,arguments),"iframe"===e.type&&((r=this._Model.getFromCache(e.src))||(r=t("<iframe />").attr(o.frameParams).attr("src",e.src),this._Model.addToCache(r,e.src)),r.css(n).appendTo(i)),i}}),{frameParams:{scrolling:"no",frameborder:0}},"Iframe")}(window.jQuery||window.$,window,window.ru.mail.cpf)},4431:function(){var t,e;window.jQuery,window,t=window.ru.mail.cpf,e="PopupGalleryView",t.Basic.Constructors.addPlugin(e,{_initPopup:function(){return t.Tools.initModule(["GalleryControls",this._opts.controlsExt],this._elems.parent,null,null,[{type:"Gallery",instance:this._model}]),this._super.apply(this,arguments)}},{controlsExt:e},"Controls")},37979:function(){var t,e,n,i,r;window.$,window,t=window.ru.mail.cpf,n=t.Tools.initModule,i="BannerController",r={usePopupLoading:!1,bannerExt:"PopupGalleryView"},t.Basic.Constructors.addPlugin("PopupGalleryView",{_Init:function(){this._elems.sizeCont=null},_onImageLoaded:function(){this._state.visible&&this._super.apply(this,arguments)},_onImageChange:function(t,e,n){var i;this._isTargetImage(n)&&!this._state.visible&&this._opts.showOnChange&&(this.Show(),i=this._getImageFrames(e),this._slider.goToFrame(i.frame,!0)),this._super.apply(this,arguments)},_onPopupToggle:function(t){t&&(this._slider.update(!0,!1,!0),this._state.sliderSize=this._getSliderSizes()),this._super.apply(this,arguments),this._advertManager&&this._advertManager.reset()},_showCurrentImage:function(){var t=this._model.getCurrentImage().image;this._replaceImageFrames(t),this._slider.goToFrame(t,!0),this._super.apply(this,arguments)},_clearImageView:function(){var t,e=this._model.getCurrentImageParams();e&&(t=e.versions[this._opts.imagesVersion])&&delete this._state.imagesReady[t.src],this._super.apply(this,arguments)},_showBanner:function(){if(this._opts.showBanner){var t=this._model.getCurrentImage(),r=t&&this._getImageFrames(t.image);if(r){var o=this._model.getCurrentImageParams(),s=n(["Banner",this._opts.bannerExt],r.frame,null,null,[{instance:(e||(e=n(i)),e),type:i}]);this._resetReadyStateFor(o.versions[this._opts.imagesVersion]),s&&s.show()}}}},r,"PopupImageSlider")},40409:function(){!function(t,e,n,i){"use strict";var r=n.Basic,o=r.getByPath,s=n.Tools.initModules,a=["splashShow"],l="Не найден контейнер для вставки последнего, дополнительного кадра галереи",c="Не найден шаблон для типа ";function u(){var t=this._elems.splash;if(!t||!t.length){if(!(t=this._elems.parent.find(this._opts.cssSels.Main.splash)).length)return null;this._elems.splash=t}return t}r.Constructors.addPlugin("PopupGalleryView",{_Handlers:{dom:{"click:restart":"_onRestartClick","click:galleryLink":"_onGalleryLinkClick"},model:{splash:"_onSplash",loadStart:"_onLoadStart",loadFinish:"_onLoadFinish",loadError:"_onLoadError"}},_Init:function(){this._addEventTypes(a)},_onRestartClick:function(t){t.preventDefault(),this._Model.changeImage(0)},_onGalleryLinkClick:function(t){var e=t.currentTarget.getAttribute(this._opts.attrs.galleryId);e&&this._Model.loadGallery(e),t.preventDefault()},_onImageChange:function(){var t;this._state.splashActive&&(this._state.splashActive=!1,t=this._opts.cssClss,this._elems.parent.removeClass(t.showSplash+" "+t.showSplashBlock),null!==this._elems.splash&&(this._elems.splash.empty(),this._elems.splash=null)),this._super.apply(this,arguments)},_onPopupToggle:function(t){var e,n;t&&(e=this._Model).getCurrentImage().image>=(n=e._getCurrentSetImages().length)&&e.changeImage(n-1),this._super.apply(this,arguments)},_renderTemplate:function(n){var r=this._opts,a=r.attrs,h=r.cssClss,p=r.cssSels,d=this._elems.parent,f=u.call(this),m=this._slider.getCurrentFrame(),g=t(m).attr(a.splashType),v=o("_opts.templates.splash",this),_="function"==typeof v,w=_?v:v[g],y=_?n:n&&n[g];if(this._state.splashActive=!0,w)return Promise.resolve(w).then((function(n){_?f.append(n(y)):(t(p.Main.splash).not(m).addClass(h.splashLoading),t(m).html(n(y)),s(m),t(m).removeClass(h.splashLoading)),d.addClass(h.showSplash),h.showSplashBlock&&e.requestAnimationFrame(d.addClass.bind(d,h.showSplashBlock))}));i&&(_?e.console.error(l):e.console.error(c+g))},_onSplash:function(t){if(this._state.visible){var e=this._opts,n=t,i=u.call(this);i&&("function"==typeof e.prepareSplashJSON&&(n=e.prepareSplashJSON(n)),this._renderTemplate(n).then(this._trigger.bind(this,"splashShow",i,!0)))}},_onLoadStart:function(){},_onLoadFinish:function(){},_onLoadError:function(){}},{cssSels:{Main:{splash:".js-splash"},restart:".js-splash__restart",galleryLink:".js-splash__item__link"},cssClss:{showSplash:"pbox_viewmore_preshown",showSplashBlock:"pbox_viewmore_shown",splashLoading:"splash_loading"},templates:{splash:null},attrs:{galleryId:"data-gallery-id",splashType:"data-splash-type"},prepareSplashJSON:null},"Splash")}(window.$,window,window.ru.mail.cpf,window.DEBUG)},28715:function(){!function(t,e,n){"use strict";var i=n.Basic,r=n.Tools.loadSlot,o=["splashBannerShow"];i.Constructors.addPlugin("PopupGalleryView",{_Handlers:{model:{loadStart:"_onLoadSplashStart",loadFinish:"_onLoadSplashFinish",loadError:"_onLoadSplashError"}},_Init:function(){this._addEventTypes(o),this._state||(this._state={}),this._state.splashInited=!1,this.on("splashShow",this._onSplashShow.bind(this))},_onLoadSplashStart:function(t){if("splash"===t){var e=this._model.getCurrentImage(),n=e&&this._getImageFrames(e.image);if(n){var i=this._opts,r=i.cssSels,o=n.frame;o.is(r.splashParent)&&o.addClass(i.cssClss.Loading)}}},_onLoadSplashFinish:function(){},_onLoadSplashError:function(){},_onSplashShow:function(t,e){this._showSplashBanner(t,e)},_showSplashBanner:function(t,n){if(!this._state.splashInited||n){this._state.splashInited=!0;var i=this._opts,o=i.cssClss.Loading,s=i.attrs.slotId;return new Promise((function(e,n){var o=t.find(i.cssSels.splashSlot);o.length||n("cont");var a=o.eq(0),l=i.splashBannerParams.slotId||a.attr(s);l||n("slotId"),r({slot:l,container:a}).then((function(t){t?e():n("slotFail")}),(function(){n("slotFail")}))})).then(function(){t.removeClass(o),this._trigger("splashBannerShow")}.bind(this),(function(n){t.removeClass(o),function(t){if(e.DEBUG){var n;switch(t){case"cont":n="Не найден контейнер для слота";break;case"slotId":n="Не указан ID для слота для слота";break;case"slotFail":n="Не удалось получить данные из слота";break;default:n=t}e.console.warn(n)}}(n)}))}}},{cssSels:{splashParent:".js-splash",splashSlot:".js-splash_slot"},attrs:{slotId:"data-slot-id"},splashBannerParams:{slotId:null}},"SplashBanner")}(window.jQuery,window,window.ru.mail.cpf)},77268:function(){!function(t,e,n){"use strict";var i="PopupGalleryView",r=n.Basic.Constructors.addPlugin,o=n.Basic.debounce,s=n.Tools.initModule;r(i,function(){function t(){var t=this._model.getCurrentImage().setLength>1&&this._previews&&this._previews._Elems.Preview.length>0;this._opts.cssClss.hasPreviews?this._elems.parent.toggleClass(this._opts.cssClss.hasPreviews,t):this._elems.previewsCont.toggle(t)}function e(){var t=this._Elems.previewsCont,e=this._model.getCurrentImage(),n=this._previewsSlider;if(!n&&e.setLength>1&&t&&t.length&&(this._previews=s(["WritableGalleryPreviews",this._opts.previewExt],t,null,null,[{instance:this._model,type:"Gallery"}]),n=this._previewsSlider=s(["Slider",this._opts.previewSliderExt],t))){var i=o(n.update.bind(n,!0,!1,!0),500);i(),n.getFrames().find("img").each((function(){this.complete||(this.onload=i)}))}}return{_Handlers:{model:{imagechange:function(t,e,n){var i=this._previewsSlider;this._isTargetImage(n)&&!this._setChanged&&i&&i.goToFrame(e,!this._state.visible)},setchange:function(n){this._isTargetImage(n)&&null!==this._Popup&&(this._previewsSlider?this._previewsSlider.update():e.call(this),t.call(this),this._setChanged=!0)}}},_initPopup:function(){return e.call(this),t.call(this),this._super.apply(this,arguments)},_showImageVersion:function(){this._super.apply(this,arguments),this._setChanged=!1},_processViewSizes:function(){var t=this._previewsSlider;this._super.apply(this,arguments),t&&t.update()}}}(),{cssSels:{Main:{previewsCont:null}},cssClss:{hasPreviews:null},previewSliderExt:i+"Previews",previewExt:i},"SliderPreviews")}(window.jQuery,window,window.ru.mail.cpf)},47685:function(){!function(t,e,n){var i=n.Basic,r="PopupGalleryView";i.Constructors.addPlugin(r,function(){function t(t){var n,r,o,s=this._shareButtons,a=this._opts.viewShares;s&&(n=t[a.urlProp],(r=(o=i.typeOf(n,"string")&&n.length>0)||!0!==a.hideWhenNoUrl)&&(n=o?n:e.location.href,s.updateElementsSet(this._getViewParent()||this._elems.sharesCont),s.setUrl2Share(n,{Title:t.title||t.description},!1)),this._opts.cssClss.hideShares?this._elems.sharesCont.toggleClass(this._opts.cssClss.hideShares,!r):this._elems.sharesCont.toggle(r))}return{_Handlers:{model:{imageready:function(e,n,i,r){this._isTargetImage(i,r)&&this._state.visible&&t.call(this,e)}},show:function(){t.call(this,this._model.getImageProps())}},_initPopup:function(){var t=this._elems.sharesCont;return t&&t.length&&(this._shareButtons=n.Tools.initModule(["Shares",this._opts.sharesExt],t,{getCntOnInit:!1})),this._super.apply(this,arguments)}}}(),{cssSels:{Main:{sharesCont:null}},cssClss:{hideShares:"hidden"},sharesExt:r,viewShares:{urlProp:"share_url",hideWhenNoUrl:!0}},"Shares")}(window.jQuery,window,window.ru.mail.cpf)},59218:function(){!function(t,e,n){"use strict";var i=n.Basic,r=i.Extend,o={galleryUrl:null,attrs:{galleryId:"data-gallery-id",galleryUrl:"data-gallery-url"},transport:n.Tools.transport,prepareRequest:null,prepareResponse:null,setGalleryPopupOptions:function(){return null}},s=["loadStart","loadFinish","loadError"];i.Constructors.addPlugin("ShowGalleryPopup",function(){var e={};function n(t,n){var i=this._opts,o=this._model;return"function"==typeof i.prepareResponse&&(t=i.prepareResponse.call(this,t)),e[n].setId=o.addImagesSet(r(!0,{},t)),e[n]}function i(t,e){var n=this._model,i=e.setId,r=e.data.currentIndex||0,o=this._opts.setGalleryPopupOptions(e);o&&this.getPopup().addOptions(o),"number"==typeof i&&(n.changeSet(i),n.changeImage(r)),t&&t()}return{_Init:function(){this._addEventTypes(s)},_onShowClick:function(r){r.preventDefault();var o=this._super,s=arguments,a=this._opts,l=a.attrs,c=function(){o.apply(this,s)}.bind(this),u=i.bind(this,c),h=t(r.currentTarget),p=a.galleryUrl||h.attr(l.galleryUrl),d=h.attr(l.galleryId);if(d in e&&e[d].setId)u(e[d]);else if(p){var f={};"function"==typeof a.prepareRequest&&(f=a.prepareRequest.call(this,f)),a.transport({url:p,data:f}).then(function(t){return e[d]={data:t},n.call(this,t,d)}.bind(this),u).then((function(t){u(t)}))}}}}(),o,"Ajax")}(window.jQuery||window.$,window,window.ru.mail.cpf)},26914:function(){!function(t,e){"use strict";var n=t.history,i=e.Basic,r=i.typeOf,o=t.document.title,s=t.location.href;function a(t){var e=this._trigger.bind(this);r(t,"string")&&setTimeout((function(){n.replaceState(null,o,t),e("urlchange",t)}),1)}function l(t,e){var n=this._opts.urlReplace,i=t[n.urlProp],r=i&&"#"!==i?i:s;n.canReplace&&(a.call(this,r),n.changeOriginalUrl&&0===e&&(s=r))}n.replaceState&&i.Constructors.addPlugin("PopupGalleryView",{_Events:["urlchange"],_Handlers:{model:{imagechange:function(t,e,n){this._isTargetImage(n)&&this._state.visible&&l.call(this,t,n)}},hide:function(){this._opts.urlReplace.canReplace&&a.call(this,s)},show:function(){this._opts.urlReplace.canReplace&&l.call(this,this._Model.getImageProps(),0)}}},{urlReplace:{urlProp:"share_url",canReplace:!0,changeOriginalUrl:!1}},"UrlReplace")}(window,window.ru.mail.cpf)},70027:function(){!function(t,e,n){"use strict";var i,r=n.Basic.typeOf,o=n.Tools.Layout,s=n.Tools.PubSub,a=n.Tools.detectPointerType,l="Overlay",c=n.Basic.Constructors.getModel({_Events:["push","pop","empty"],indexOf:function(t){var e=Array.prototype.indexOf.call(this,t);return-1===e&&"block"in t&&this.some((function(n,i){if(n.popupInstance===t.popupInstance)return e=i,!0})),e},push:function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1),Array.prototype.push.call(this,t),this._trigger("push")},exclude:function(t){var e=this.indexOf(t),n=this.length-1;e>-1&&(this.splice(e,1),e===n&&this._trigger("pop",this.getTopItem()),0===this.length&&this._trigger("empty"))},pop:function(){this._trigger("pop",Array.prototype.pop.call(this))},getTopItem:function(){return this.slice(-1)[0]},empty:function(){if(0!==this.length){for(;this.length>1;)Array.prototype.pop.call(this);this._trigger("empty")}}},null,Array),u=n.Basic.Constructors.getView(function(){var n=t(e.document.documentElement);function i(){var t;if(this._visibilityStack.length>0)for(;t=this._visibilityStack.getTopItem();)t.hide()}function s(t,e,n,i){i=!0===i,n?t.toggleClass(n,i===e):t.toggle(e)}function a(t){(t=r(t,"boolean")?t:!this._state.visible)!==this._state.visible&&(n.toggleClass(this._opts.cssClss.htmlModifier,t),this._elems.parent.toggleClass(this._opts.cssClss.overlayModifier,t),s(this._elems.parent,t,this._opts.cssClss.showOverlay,!0),t||i.call(this),m.call(this,t),this._state.visible=t,this._trigger(t?"show":"hide"))}function l(t){t&&t.show()}function u(t){t.popupInstance&&g.call(this,t.popupInstance),this._visibilityStack.push(t)}function h(t){this._visibilityStack.exclude(t)}function p(t){this._state.loading!==t&&(this._state.loading=t,this._elems.parent.toggleClass(this._opts.cssClss.loading,t),t&&this._trigger("loading"))}function d(t,e){t?u.call(this,e):h.call(this,e),p.call(this,t)}function f(){var t,n=this._elems.parent.get(0);function i(t,e){var i=o.getScroll(n),r=n.scrollWidth-n.clientWidth,s=n.scrollHeight-n.clientHeight;(r>0||s>0)&&(i.left=Math.max(Math.min(i.left+t,r),0),i.top=Math.max(Math.min(i.top+e,s),0),o.setScroll(i,n))}return function(n){var r,o;n.touches?(r=n.touches[0].pageX,o=n.touches[0].pageY):(r=n.pageX,o=n.pageY),"touchmove"===n.type&&(n.preventDefault(),e.requestAnimationFrame(i.bind(null,t.x-r,t.y-o))),t={x:r,y:o}}}function m(t){this._state.scrollEmulated!==t&&(this._state.scrollEmulated=t,t?(document.body.addEventListener("touchstart",this._emulateScroll,!0),document.body.addEventListener("touchmove",this._emulateScroll,!0)):(document.body.removeEventListener("touchstart",this._emulateScroll,!0),document.body.removeEventListener("touchmove",this._emulateScroll,!0)))}function g(t){var e=this._elems.blocksCont,n=t.getBlockElement();-1===Array.prototype.indexOf.call(n.parents(),e[0])&&e.append(n)}return{_Events:["show","hide","loading"],_Handlers:{dom:{"keydown:document":function(t){27===t.keyCode&&this._state.visible&&this.hide()},"click:close":function(e){var n=t(e.target),i=t(e.currentTarget),r=this._opts.cssSels,o=[r.Main.blocksCont,r.preventClose];if(this._visibilityStack.length){if(o.filter((function(t){return n.parents(t).length&&!i.parents(t).length})).length)return;e.preventDefault(),this._visibilityStack.getTopItem().hide(n)}else this._state.visible&&(e.preventDefault(),this.hide())}}},_parentElement:function(){var n=t(this._opts.cssSels.parent).eq(0);return n.length||(n=t(this._opts.templates.parent()),e.document.body.appendChild(n.get(0))),n},_Init:function(){this._state={visible:!1,loading:!1,touchSupport:!1,scrollEmulated:!1},this._visibilityStack=new c({_Handlers:{pop:l.bind(this),empty:this.hide.bind(this)}}),this._opts.touchSupport&&this._enableTouchSupport(),this._elems.blocksCont=this._elems.blocksCont||this._elems.parent},_enableTouchSupport:function(){this._state.touchSupport||(this._state.touchSupport=!0,this._emulateScroll=f.call(this),this._state.visible&&m.call(this,!0))},show:function(){a.call(this,!0)},hide:function(){a.call(this,!1)},registerBlock:function(t){g.call(this,t),t._savePreparedInstance({show:function(){this.toggleBlock(t.getBlockElement(),!0)}.bind(this),hide:function(e){e&&t.canCloseByClick&&!t.canCloseByClick(e)||t.hide()}.bind(this),popupInstance:t})},showLoading:function(t,e){var n=!1,i={show:function(){d.call(this,!0,i)}.bind(this),hide:function(t){n||(n=!0,d.call(this,!1,i),r(e,"function")&&!1!==t&&e())}.bind(this)};i.show(),this._state.visible||this.show(),r(t,"object")&&r(t.then,"function")&&t.then(i.hide.bind(null,!1),i.hide)},toggleBlock:function(t,e){e=!0===e;var n=this._opts.cssClss.hideBlocks,i=this._elems.blocksCont.children();e&&s(i,!1,n),s(t,e,n),e&&(this._state.loading&&p.call(this,!1),this._state.visible||this.show())},_onBlockToggle:function(t,e){e?u.call(this,t):h.call(this,t)},empty:function(){this._visibilityStack.empty()},stackSize:function(){return this._visibilityStack.length}}}(),{cssSels:{parent:".js-popup",Main:{blocksCont:".js-popup_blocks"},sizeReference:".js-size-reference",sizeReferenceWrapper:".js-size-reference__wrapper",close:".js-popup_close",preventClose:".js-popup_noclose"},cssClss:{htmlModifier:null,overlayModifier:null,loading:null,hideBlocks:"hidden_all",showOverlay:"overlay_shown"},templates:{parent:null},touchSupport:!1},null,l);n.Basic.Constructors.getModel({_Init:function(){if(i)return i;this._state={isTouchDevice:!1},i=this,s&&a&&o&&s.subscribe(a("touch").message,function(){this._state.isTouchDevice=!0,this.propogateDeviceType()}.bind(this),{async:!1,memory:!0}),this._overlays={}},getById:function(){var t=Array.prototype.slice.call(arguments)[0],e=r(t,"object"),i=(e?t.id:t)||"",o=e?t.options:{},s=this._overlays[i];return s||(s=this._overlays[i]=n.Tools.initModule([l,i],null,o)),s},propogateDeviceType:function(){var t;for(var e in this._overlays)this._overlays.hasOwnProperty(e)&&(t=this._overlays[e])&&t instanceof u&&t._enableTouchSupport()}},null,null,"OverlayManager")}(window.jQuery||window.$,window,window.ru.mail.cpf)},51329:function(){!function(t,e,n){var i=n.Basic.typeOf,r=e.history,o=!!r.pushState;n.Basic.Constructors.getView(function(){function s(t){var n=e.scrollTo||e.scroll;void 0===t&&(t=this._state.scrollTop),null===t||isNaN(t)||n(0,t)}function a(t){var e=this._state,n=this._state.visible!==t;delete e.cancelableActions,this._overlay.toggleBlock(this._elems.parent,t),this._state.visible=t,n&&(this._overlay._onBlockToggle(e.instanceForOverlay,t),this._trigger(t?"show":"hide"))}function l(){var t=!1,e=this._state;return e.cancelableActions||(e.cancelableActions={show:function(){t||a.call(this,!0)}.bind(this),hide:function(){t||a.call(this,!1)}.bind(this),cancel:function(){t=!0,delete e.cancelableActions,this._trigger("cancelShow")}.bind(this)}),e.cancelableActions}function c(t,e,n){var r=this._opts.useHistory&&!n&&o;if(t!==this._state.visible)if(i(e,"object")&&i(e.then,"function")){var s=l.call(this),h=s[t?"show":"hide"];this._overlay.showLoading(e,s.cancel),e.then(function(){r&&u.call(this,t),h()}.bind(this),c.bind(this,!t))}else r&&u.call(this,t),a.call(this,t)}function u(t){var e=this._state.historyCallbacks;t?this.on("show",e.show):this.on("hide",e.hide)}function h(t){var e=this._state.historyCallbacks,n=(t.originalEvent||t).state||{},i=s.bind(this),r=n.popupInstanceId==this.__id;this.off("show",e.show),this.off("hide",e.hide),c.call(this,r,null,!0),this._opts.touchSupport&&(r?i(0):setTimeout(i,10))}function p(){var t=this._opts,e=t.pageState||{},n=t.saveInitialUrl?e.url:e.hash&&location.href.replace(/#.+$/,"")+"#"+e.hash;n&&r.pushState({popupInstanceId:this.__id},e.title,n)}function d(){r.back()}return{_Events:["show","hide","cancelShow"],_parentElement:function(){var e=Array.prototype.slice.call(arguments,0);return t(this._opts.templates.parent.apply(this,e))},_Init:function(){var i=n.Tools.initModule("OverlayManager").getById(this._opts.overlay),r=this._state={visible:!1,preventClose:!0===this._opts.preventClose};i.registerBlock(this),this._overlay=i,a.call(this,!1),this._opts.useHistory&&o&&(t(e).on("popstate",h.bind(this)),r.historyCallbacks={show:p.bind(this),hide:d.bind(this)})},_savePreparedInstance:function(t){t&&this.__id===t.popupInstance.__id&&(this._state.instanceForOverlay=t)},getBlockElement:function(){return this._elems.parent},getOverlay:function(){return this._overlay},toggle:function(t,e){c.call(this,t,e)},visible:function(){return this._state.visible},show:function(t){this._state.scrollTop=e.scrollY,c.call(this,!0,t),this._opts.touchSupport&&s.call(this,0)},hide:function(t){this._state.preventClose||(c.call(this,!1,t),this._opts.touchSupport&&setTimeout(s.bind(this),10))},destroy:function(){c.call(this,!1),this._elems.parent.remove()},canCloseByClick:function(e){var n=this._opts.preventHideByOverlay;return!n||!e||(t.contains(this._elems.parent[0],e[0])||!("function"==typeof n?n.call(this,e):n))}}}(),{overlay:null,templates:{parent:null},touchSupport:!1,useHistory:!1,pageState:{url:null,title:null,hash:null},preventHideByOverlay:!1,saveInitialUrl:!0},null,"Popup")}(window.jQuery||window.$,window,window.ru.mail.cpf)},41802:function(){var t,e,n;window.jQuery||window.$,window,t=window.ru.mail.cpf,e=t.Basic.typeOf,n=t.Tools.initModule("BannerController"),t.Basic.Constructors.addPlugin("Overlay",function(){function i(t){var e=this._state.banners[t];return!e&&t&&(e=r.call(this,t)),e}function r(e){var i,r,o=this._opts.banners,s=null;if(n)return o[e]=i=t.Basic.Extend({},o.default,o[e]),r=i.url&&n.add(i,!0),isNaN(r)||(this._state.banners[e]=s={index:r}),s}return{_Events:["bannerShow","bannerHide"],_Init:function(){this._state.banners={}},showBanner:function(t,r){t=function(t){return t&&e(t,"string")||(t="default"),t}(t);var o=this._opts;if(o.showBanner||!0===r){var s=i.call(this,t);if(!s)return;var a=o.cssClss.banners[t]||o.cssClss.banners.default,l=n.showBanner(this._elems.parent,s.index);this._elems.parent.toggleClass(a,l)}},hideBanner:function(){}}}(),{cssClss:{banners:{default:null}},banners:{default:{url:null,container:".js-popup_banner",horizontal:!0,sizes:[240,400],hitTimeout:5e3,hasPlaceForBanner:function(t,e){var n=t.width(),i=t.data("_popupChild");return i||(i=t.find(".js-popup_blocks"),t.data("_popupChild",i)),n-i.outerWidth(!0)>=e[0]}}},showBanner:!0})},68165:function(){!function(t,e,n){"use strict";var i="Popup",r="_popupObj",o=n.Basic.Constructors.addPlugin,s=n.Tools.initModule,a=n.Basic.Constructors._repo.get(i),l=function(t){return t};o(i,{_Handlers:{self:{hide:function(){this._opts.onHide.call(this)},show:function(){this._opts.onShow.call(this)}}},_Init:function(){var t=this._elems.parent.data(r);if(t instanceof a)return t;this._elems.parent.data(r,this),this._elems.jBlock=this._elems.parent},Toggle:function(t,e){if(null==e&&(e={}),t!==this._state.visible&&(t||!this._state.preventClose)){var n=Promise.resolve({});return t?(this._state.preventClose=!!e.preventClose,n=n.then(this._opts.beforeShow.bind(this)),"function"==typeof e.beforeShow&&(n=n.then(e.beforeShow.bind(this))),"function"==typeof e.onShow&&(n=n.then(e.onShow.bind(this))),"function"==typeof e.onHide&&this.once("hide",e.onHide.bind(this))):("function"==typeof e.onHide&&(n=n.then(e.onHide.bind(this))),"function"==typeof e.onShow&&this.once("show",e.onShow.bind(this))),this.toggle(!!t,n)}},Show:function(t){return this.Toggle(!0,t)},Hide:function(t){return this.Toggle(!1,t)},togglePreload:function(t,e){"function"==typeof e?this._overlay.showLoading(e):this._overlay.showLoading(Promise.resolve({}))},bind:function(){var t=Array.prototype.slice.call(arguments,0);return this.on.apply(this,t)}},{beforeShow:l,onShow:l,onHide:l},"PopupLegacy"),t.fn.Popup=function(n,i,r){e.DEBUG&&e.console.warn("Обнаружено старое подключение компонента.\t\t\t\tНеобходимо срочно сменить его на обычное, так как скоро старое перестанет работать");var o=t(this),a=s("Popup",o,n);return"string"==typeof i&&"function"==typeof a[i]&&a[i](r||{}),o}}(window.jQuery||window.$,window,window.ru.mail.cpf)},13552:function(){!function(t,e,n){"use strict";var i=n.Basic,r=n.Tools.initModules,o=n.Tools.initModule,s=e.history,a=!!s.replaceState,l=n.Basic.moduleOpts.get,c="ShowPopup";var u={cssSels:{show:".js-show_popup",redraw:".js-redraw_popup",popup:null},attrs:{hashId:"data-popup-hash-id"},hashKey:null,useHash:!1,getHashIdByAttr:!1,popupExt:c,prepareRequestParams:null,prepareTemplateData:null,preparePopupElement:null,showPromise:null};i.getView(function(){function n(){var t=this._opts,e=this._state,n=null;t.getHashIdByAttr&&(n=i.call(this)),(c.call(this)||n)&&(a&&s.replaceState({},e.pageTitle,e.location.base),this.show(!1,n,!0))}function i(){var t=this._elems,e=this._opts,n=this._state,i=e.cssSels,r=null,o=n.location.hash.replace("#","");if(e.getHashIdByAttr&&o){var s=t.parent.find(i.redraw)||[],a=o;r=[].filter.call(s,(function(t){return e.hashKey+t.getAttribute(e.attrs.hashId)==a}))[0]}return r}function c(){var t=this._state;return u.call(this).hash.slice(1)===t.popupHash}function u(){var t=e.location,n=(t.pathname+t.search).replace(/\/\//g,"/");return{url:t.href.replace(/\/\//g,"/"),base:n,hash:t.hash}}function h(){var t=this._opts;if(this._popup||t.cssSels.popup)return null;var e=l(t.popupExt?"Popup."+t.popupExt:"Popup");return e&&e.templates&&e.templates.parent}return{_Handlers:{dom:{"click:show":"onShowClick","click:redraw":"onRedrawClick"}},_Init:function(){this._popup=null;var t=this._opts,i=this._state={location:u.call(this),pageTitle:e.document.title};if(s&&t.useHash){if(!t.hashKey)return void 0;i.popupHash=t.hashKey,n.call(this)}},onShowClick:function(e){e.preventDefault();var n=t(e.currentTarget);this.show(!1,n)},onRedrawClick:function(e){e.preventDefault();var n=t(e.currentTarget);this.show(!0,n)},show:function(e,n){var i=t(n)||null,s=this._opts,a=this._state,l={clearCache:e};e&&this._popup&&(this._popup.destroy(),this._popup=null),"function"==typeof s.prepareRequestParams&&(l=s.prepareRequestParams.call(this,l,i));var c=h.call(this);Promise.all([this._model.getData(l),c]).then(function(e){var n,l={},c=e[0];if(!this._popup){var u=[a.location.base,"#",a.popupHash].join("");if(s.useHash&&a.popupHash&&(l={useHistory:!0,pageState:{url:u,title:a.pageTitle,hash:a.popupHash}}),s.cssSels.popup&&(n=t(s.cssSels.popup)),"function"==typeof s.prepareTemplateData&&(c=s.prepareTemplateData.call(this,c,i)),s.getHashIdByAttr){var h=i.attr(s.attrs.hashId);l.pageState.url=[u,h].join(""),l.pageState.hash=[a.popupHash,h].join("")}this._popup=o(["Popup",s.popupExt],n,l,c),"function"==typeof s.preparePopupElement&&s.preparePopupElement.call(this)}r(this._popup.getBlockElement()),this._popup.show(s.showPromise&&s.showPromise())}.bind(this))}}}(),u,null,c),i.moduleOpts.setParams(c,{acceptTypes:"ShowPopupModel"})}(window.jQuery||window.$,window,window.ru.mail.cpf)},49175:function(){var t,e,n;t=window.ru.mail.cpf,e=t.Basic.Extend,n=t.Mixins,t.Basic.getModel(function(){function t(t){var e=this._opts,n=this._state,i=e.transport||this.transport;return new Promise(function(r,o){e.url?("function"==typeof e.prepareRequest&&(t=e.prepareRequest.call(this,t)),i({url:e.url,data:t,type:e.type}).then(function(t){if(t.status){var n=t.data;"function"==typeof e.prepareResponse&&(n=e.prepareResponse.call(this,n,t)),r(n)}else o(t)}.bind(this))):r(n.templateData||{})}.bind(this))}function i(t){return e(t,this._state.templateData)}return{_mixins:[n.transport],_Init:function(t){this._state={templateData:t||{},dataPromise:null}},getData:function(e){var n=this._state;return(e=e||{}).clearCache&&(n.dataPromise=null),e.url&&(this._opts.url=e.url),e.type&&(this._opts.type=e.type),null===n.dataPromise&&(n.dataPromise=t.call(this,e.requestPayload).then(i.bind(this),(function(){}))),n.dataPromise}}}(),{url:null,type:"GET",transport:null,prepareRequest:null,prepareResponse:null},null,"ShowPopupModel")},32605:function(){!function(t,e,n){"use strict";var i=n.Basic,r=i.typeOf,o=n.Comp.jQuery,s=o.Tools.winHndlrs.attach,a=o.Modules.scrollBar,l="_customScroll",c="CustomScroll",u=i.Constructors.getView(function(){var n=[{size:"width",scroll:"scrollLeft",scrollSize:"scrollWidth",innerSize:"innerWidth",cursorPos:"pageX",axisName:"x"},{size:"height",scroll:"scrollTop",scrollSize:"scrollHeight",innerSize:"innerHeight",cursorPos:"pageY",axisName:"y"}];function i(){var t=this._elems.scrollBar,e=this._opts,n=this._scrollBars,i=e.cssSels.scrollBar,r=e.Attrs.Orientation;t.each(function(e){var s=t.eq(e),l="vertical"==s.attr(r)||s.width()<s.height(),c=o.bind(this,l),u=a(s,{cssSels:i,Vertical:l,onDrag:c,onChange:c});n[l?1:0]=u}.bind(this))}function o(t,e){c.call(this,t,e)}function c(t,e){var i,o=t?1:0,s=n[o].scroll,a=this._Sizes[o],l=this._State;r(a,"undefined")||(i=Math.round(a.scrollDiff*e/100),l[t?"scrollY":"scrollX"]=i,this._elems.scrollView[s](i),u.call(this))}function u(){var t=this._State;this._trigger("scroll",{type:"scroll",scrollX:t.scrollX,scrollY:t.scrollY,scrollMaxX:t.scrollMaxX,scrollMaxY:t.scrollMaxY})}function h(){for(var t,e,i,r,o,s,a=this._Sizes,l=this._scrollBars,c=this._elems.scrollView,u=n.length;u--;){for(var h in t=n[u],(e=l[u])&&(i=e.getBarElement()),(r=a[u])||(r=a[u]={}),t)if(t.hasOwnProperty(h)){if(o=t[h],/cursorPos|axisName/.test(h))continue;"size"==h?i&&i.length&&(s=i[o]()):s="scrollSize"==h?c.prop(o):c[o](),r[h]=Math.round(s)}r.scrollDiff=r.scrollSize-r.innerSize,this._State["scrollMax"+t.axisName.toUpperCase()]=r.scrollDiff}}function p(e,n){var i="scroll"!=this._opts.overflow?e.getBarElement():e.getThumbElement();i.toggle(r(n,"boolean")?n:!t(i).is(":visible"))}function d(){for(var t,e,i,r,o,s,a=this._scrollBars,l=this._Sizes,c=this._opts.cssSels.scrollThumbSize,u=l.length;u--;)(i=a[u])&&(e=i.getBarElement(),o=(r=(t=l[u]).scrollDiff)>0,p.call(this,i,o),s=Math.round(t.size*(1-r/t.scrollSize)*100)/100,e.find(c)[n[u].size](s))}function f(t,e,i,r,o){var s,a,l,c,u,h,p;i.scrollDiff>0&&(s=t.originalEvent,o?u=s.wheelDelta||t.wheelDelta||-s.deltaY:(c=this._State,p=n[r].cursorPos,u=(h=s.changedTouches[0][p])-c[p],c[p]=h),a=e.getPositionVals(),l=u/i.scrollSize*100,(0===a?l<0:100!==a||l>0)&&(e.setPositionVals(a-l),t.preventDefault()))}function m(t){var e=this._scrollBars[1];e&&f.call(this,t,e,this._Sizes[1],1,!0),this._opts.disabledScrollBody.mouse&&(event.returnValue=!1)}function g(t){if(!this._preventScroll){var e,n,i,r,o,s=t.originalEvent.changedTouches;if(!(s&&s.length>1)){for(n=this._Sizes,r=0,o=(e=this._scrollBars).length;r<o;r++)(i=e[r])&&f.call(this,t,i,n[r],r);this._opts.disabledScrollBody.touch&&(event.returnValue=!1)}}}function v(){var n,i=this,r=this.Resize.bind(this),o=this._elems,a=o.scrollView;s(null,r),a.on("mousewheel wheel DOMMouseScroll",m.bind(this)),("ontouchstart"in e||"ontouchend"in document||"createTouch"in document)&&(o.body=n=t(e.document.body),a.on("touchstart",(function(e){var r,o,s=e.originalEvent.changedTouches;s&&s.length>1||(r=s[0],(o=i._State).pageX=r.pageX,o.pageY=r.pageY,n.on("touchmove",g.bind(i)).on("touchend",(function(){t(this).off("touchmove")})))}))),o.parent.on("documentHeightChange",r),o.parent.on("scrollChange",r)}function _(){for(var t,e,i,r,o=this._scrollBars,s=this._Sizes,a=this._elems.scrollView,l=s.length;l--;)(i=o[l])&&(t=n[l],r=0===(e=s[l]).scrollDiff?e.scrollDiff:a[t.scroll]()/e.scrollDiff*100,r=i.setPositionVals(r))}return{_Events:["scroll"],_Init:function(){this._scrollBars=[],this._Sizes=[],this._State={scrollX:0,scrollY:0,scrollMaxX:0,scrollMaxY:0},i.call(this),h.call(this),d.call(this),_.call(this),v.call(this),this._elems.parent.data(l,this)},Resize:function(){h.call(this),d.call(this),_.call(this)},setScrollsPos:function(t,e){for(var n,i,r=this._scrollBars,o=this._Sizes,s=r.length;s--;)(n=r[s])&&(i=Array.isArray(t)?t[s]:t,!0===e&&(i=i/o[s].scrollDiff*100),n.setPositionVals(i))},toggleScroll:function(t){var e="boolean"==typeof t?t:this._preventScroll;this._preventScroll=!e}}}(),{cssSels:{Main:{scrollBar:null,scrollView:null},scrollBar:{scrollThumb:null,scrollThumbBody:null},scrollThumbSize:null},overflow:"auto",Attrs:{Orientation:"data-type"},disabledScrollBody:{mouse:!1,touch:!1}},null,c);e.getNameSpace("Modules",n)[c]=u,t.fn.customScroll=function(i){return e.DEBUG&&e.console.warn("Обнаружено старое подключение компонента.\t\t\t\tНеобходимо срочно сменить его на обычное, так как скоро старое перестанет работать"),this.each((function(){var e=t(this),r=e.data(),o=r[c]||r[l];if(o instanceof u)return o;e.data(l,n.Tools.initModule(c,e,i))}))}}(window.jQuery,window,window.ru.mail.cpf)},37177:function(){!function(t,e,n){var i,r=n.Basic,o=r.typeOf,s=n.Comp.Methods.initCallbacks,a="_scrollBar",l=r.getConstructor(function(){var n=[{size:"width",cursorPos:"pageX",margin:"marginLeft",position:"left"},{size:"height",cursorPos:"pageY",margin:"marginTop",position:"top"}],r={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"," ":" touchcancel"},c={cssSels:{scrollThumb:null,scrollThumbBody:null},Vertical:!1,onChange:null,onDrag:null,onBeforeMove:null};function u(){var t=this._opts;this._Elems.jBar.on(r.mousedown,t.cssSels.scrollThumbBody,h.bind(this)).on("click",f.bind(this))}function h(e){var o=e.originalEvent.changedTouches;if(!(o&&o.length>1)){var s=this._opts.cssSels,a=n[!0===this._opts.Vertical?1:0],l=a.position,c=t(e.target),u=c.parents(s.scrollThumb),h=u.offset(),f=c.position(),m=(o?o[0]:e)[a.cursorPos]-h[l]-f[a.position];_.call(this),this._dragEnd=!1,i.on(r.mousemove+".scrollBar",p.bind(this,{jElem:u,jBody:c,iPosDiff:m,Dimensions:a,Index:u.index()})).on(r.mouseup+".scrollBar",d.bind(this)),e.preventDefault()}}function p(t,e){var n=e.originalEvent.changedTouches,i=n?n[0]:e,r=this._Sizes,s=this._Timers,a=this._opts.onBeforeMove,l=t.Index,c=t.Dimensions,u=t.jBody.position(),h=t.iPosDiff+u[c.position],p=i[c.cursorPos]-r.barOffset-h;p=y(p,r.barSize),o(a,"function")&&(p=a.call(this,p,t)),s.setPosition||(s.setPosition=setTimeout((function(){s.setPosition=null,m(t,c,p)}),1)),e.preventDefault(),this._Positions[l]=p,this._fire("drag",[v.call(this)])}function d(e){i.off(".scrollBar"),this._fire("change",[v.call(this)]),t(e.target).closest(this._Elems.jBar).length>0&&(this._dragEnd=!0)}function f(e){var i=this._opts,r=i.cssSels,s=r.scrollThumbBody,a=this._opts.onBeforeMove;if(t(e.target).closest(r.scrollThumbBody).length>0||this._dragEnd)this._dragEnd=!1;else{var l,c,u,h,p=this._Positions,d=n[!0===i.Vertical?1:0],f=null,m=null;_.call(this),l=this._Sizes,c=y(e[d.cursorPos]-l.barOffset,l.barSize),o(a,"function")&&(c=a.call(this,c,null));for(var w=p.length;w--;)u=Math.abs(p[w]-c),(null===f||u<f)&&(f=u,m=w);null!==m&&f>0&&(h=this._Elems.jBar.find(r.scrollThumb).eq(m),g.call(this,{jElem:h,jBody:h.find(s),Index:m},d,c),this._fire("change",[v.call(this)]))}}function m(t,e,n){t.jElem.get(0).style[e.position]=n+"%",t.jBody.get(0).style[e.position]=-n+"%"}function g(t,e,n){this._Positions[t.Index]=n,m(t,e,n)}function v(){var t=this._Positions,e=[].concat(t);return 1==e.length?e[0]:e}function _(){var t=this._Sizes,e=this._Elems.jBar,i=n[!0===this._opts.Vertical?1:0],r=e.offset();t.barOffset=r[i.position],t.barSize=e[i.size]()}function w(){var e=this._Sizes,i=this._Elems.jBar,r=this._Positions,o=n[!0===this._opts.Vertical?1:0];i.find(this._opts.cssSels.scrollThumb).each((function(n){var i=t(this);r[n]=y(i.position()[o.position],e.barSize)})),this._fire("change",[v.call(this)])}function y(t,e){return 0===e?0:(t=Math.floor(t/e*1e4)/100,Math.max(0,Math.min(100,t)))}return{_Init:function(n,o){var h,p=n.data(a);if(i=t(e.document.body),p instanceof l)return p;n.data(a,this),this._opts=h=t.extend(!0,{},c,o),this._Elems={jBar:n},this._Sizes={},this._Positions=[],this._Timers={},this._bTouch="ontouchstart"in e||"ontouchend"in document||"createTouch"in document,this._dragEnd=!1,_.call(this),s.call(this,{Types:{change:h.onChange,drag:h.onDrag}}),w.call(this),this._bTouch||function(){for(var t in r)r.hasOwnProperty(t)&&(r[t]=t)}(),u.call(this)},setPositionVals:function(t){var e,i,r,s=this._opts,a=this._Positions,l=s.cssSels,c=s.onBeforeMove,u=this._Elems.jBar.find(l.scrollThumb),h=n[!0===s.Vertical?1:0];o(t,"number")&&(t=[t]);for(var p=0;p<t.length;p++)e=t[p],o(e,"number")&&(e=Math.max(0,Math.min(100,Math.round(100*e)/100)),r={jElem:i=u.eq(p),jBody:i.find(l.scrollThumbBody),Index:p},o(c,"function")&&(e=c.call(this,e,null)),a[p]!==e&&(g.call(this,r,h,e),this._fire("change",[v.call(this)])))},getPositionVals:v,getBarElement:function(){return this._Elems.jBar},getThumbElement:function(){return this._Elems.jBar.find(this._opts.cssSels.scrollThumb)}}}());r.Extend(e.getNameSpace("Comp.jQuery.Modules",n),{scrollBar:l}),t.fn.scrollBar=function(n){return e.DEBUG&&e.console.warn("Обнаружено старое подключение компонента.\t\t\t\tНеобходимо срочно сменить его на обычное, так как скоро старое перестанет работать"),this.each((function(){l(t(this),n)}))}}(window.jQuery,window,window.ru.mail.cpf)},72133:function(t,e,n){var i=n(74933)(n(54036));function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}!function(t,e,n){"use strict";var i="Banner",r=n.Basic,s=r.Extend,a=r.typeOf,l={},c={cssSels:{Main:{container:".js-popup_banner"}},cssClss:{show:"viewbox__slide_side_show",loading:"viewbox__slide_side_loading",loadFail:""},bannerParams:{},bannerModuleName:"Slot",hasPlaceForBanner:u,minReloadDelay:1e3,showOnInit:!1,reloadOnRerun:!0,continuousMode:!0};function u(){return!0}var h=function(){var t={};function e(){for(var t="",e=0;e<3;e++)t+=Math.round(1e10*Math.random()).toString(36);return t}return function(){for(var n=e();t[n];)n=e();return t[n]=!0,n}}();var p=function(t){var e,n=this._opts.cssClss,i=!0,r="";if(this._state.stateName!==t){switch(t){case"load":e="loading",r=n.loading;break;case"show":e="show",r=n.show;break;case"fail":e="loadFail",r=n.loadFail;break;case"hide":e="hide";break;default:i=!1}i&&(this._state.stateName=t,this._elems.parent.removeClass([n.show,n.loading,n.loadFail].join(" ")).addClass(r),this._trigger(e,{type:e}))}},d=function(){var t=this._state,e=t.loadPromise;return p.call(this,"load"),e||(e=n.Tools.loadSlot(m.call(this)).then((function(){t.loaded=!0})),g.call(this)),e},f=function(){var t=this.once;return new Promise((function(e,n){t("show",e),t("loadFail",n)}))},m=function(){var t,e,i,r,l=this._opts,c=(t=l.bannerModuleName,i=t.split("."),r="",i.forEach((function(t){t=r+t,e=s(!0,e||{},n.Basic.moduleOpts.get(t)),r=t+"."})),e),u=l.bannerParams,h=s({},c.slot,u.slot),p=h.params||{},d=Object.keys(h).reduce((function(t,e){var n=h[e];return a(n,"object")||a(n,"function")||(t[e]=n||""),t}),{});return{slot:u.id,failTimeout:c.failTimeout,blockSel:"#"+this._state.id,slotParams:o(o({},d),{},{sz:h.sitezone||"",params:p}),dwhLogger:c.dwhLogger,mimic:c.mimic,afterRenderPromise:f.bind(this)}},g=function(){var t=this._state,e=l[t.cacheId];e||(e={timeout:null,canReload:!0},l[t.cacheId]=e),e.timeout&&clearTimeout(e.timeout),e.canReload=!1,e.timeout=setTimeout((function(){e.canReload=!0}),this._opts.minReloadDelay)};var v=r.Constructors.getView({_Events:["show","hide","loadFail","loading"],_Init:function(){var t=this._opts,e={loaded:!1,canReload:!0,id:h()};t.continuousMode&&(e.cacheId=function(t){if(a(t,"string"))return t;var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=t[n]);return e}(t.bannerParams)),this._state=e,this._elems.container.prop("id",e.id),t.showOnInit&&this.show()},show:function(){if(this.canShow()){var t=p.bind(this),e=this._state;e.loaded?this._opts.reloadOnRerun?this.reload():t("show"):d.call(this).then((function(){t(e.loaded?"show":"hide")}),(function(){t("fail")}))}else this._opts.reloadOnRerun&&this.hide()},reload:function(){var t=this._state;t.loaded=!1,t.loadPromise=null,this.hide(),this.show()},hide:function(){p.call(this,"hide")},clear:function(){this._elems.container.children().detach()},canShow:function(){return!!this.hasPlaceForBanner()&&(!!this._state.loaded||(!this._opts.continuousMode||this.canReload()))},canReload:function(){return!this._opts.continuousMode||(!l[this._state.cacheId]||l[this._state.cacheId].canReload)},hasPlaceForBanner:function(){var t=this._opts.hasPlaceForBanner;return a(t,"function")||(t=u),t.call(this)}},c,null,i);e.getNameSpace("Modules",n)[i]=v}(window.jQuery,window,window.ru.mail.cpf)},89483:function(){!function(t,e,n){"use strict";var i="AsyncTabs",r=n.Basic.Extend,o=n.Basic.typeOf,s=n.Basic.getModel,a=n.Tools.transport,l=n.Modules.Tabs,c={dataType:"json",transport:function(t,e){return a(r({url:t},e))}},u={};u[i]=s({_Events:["loadStart","loadComplete","loadError"],_Init:function(){if(!o(this._opts.transport,"function"))throw new TypeError('"transport" option must refer to a function');r(this._State,{tabsLoading:[]}),this._tabUrls=[]},registerTabs:function(t){var e=this._tabUrls,n=this._State.currentTab,i=this._State.tabsLoading[n],r=null===i||o(i,"undefined");this._tabUrls=t.map((function(t,n){return o(t,"undefined")?e[n]:t})),r&&n in this._tabUrls&&this.currentTab(n)},currentTab:function(t){var e,n=this._opts,i=this._tabUrls,r=this._State.tabsLoading,s=l.prototype.currentTab.call(this,t),a=r&&r[s];return!o(t,"undefined")&&r&&Array.isArray(i)&&!a&&((e=i&&i[s])?(this._trigger("loadStart",s),r[s]=n.transport(e,{dataType:this._opts.dataType}),r[s].then(this._onLoadComplete.bind(this,s),this._onLoadError.bind(this,s))):r[s]=null),s},_onLoadComplete:function(t,e){this._State.tabsLoading[t]=!0,this._trigger("loadComplete",t,e)},_onLoadError:function(t){this._State.tabsLoading[t]=!1,this._trigger("loadError",t)}},c,l,i),r(n.Modules,u)}(window.jQuery||window.$,window,window.ru.mail.cpf)},90310:function(){!function(t,e,n){"use strict";var i=!!e.DEBUG,r="AsyncTabsView",o=n.Basic.typeOf,s=n.Basic.Extend,a=n.Basic.Constructors.getView,l=n.Basic.moduleOpts.setParams,c=n.Modules.TabsView,u={load:"tabLoad",done:null,error:"tabLoadError"};function h(t){return t}var p=function(t){return s({},{server:(this._opts.prepareData||h).call(this,t)},{template:(this._opts.prepareTemplateParams||h).call(this,this._opts.templateParams)})},d=function(t,e){var n=this._Elems.Tabs.eq(t),i=this._opts.cssClss;if(!n||!n.length)return null;for(var r in u)if(u.hasOwnProperty(r)){var o=u[r];o&&n.toggleClass(i[o],r===e)}return n},f=a({_Events:["templateComplete"],_Handlers:{model:{loadStart:"_onLoadStart",loadComplete:"_onLoadComplete",loadError:"_onLoadError"}},_Init:function(){var t=this._opts.Attrs.tabUrl,n=this._Elems.Buttons;if(n&&n.length){var o=n.toArray().map((function(e){return e.getAttribute(t)}));this._Model.registerTabs(o)}else i&&e.console.warn("CPF: no buttons found in "+r)},_onLoadComplete:function(t,e){var n=d.call(this,t,"done");if(n){var i=this._opts.template;if(o(i,"function")){var r=p.call(this,e);Promise.resolve(i).then(function(){n.html(i(r)),this._trigger("templateComplete",n,t,r)}.bind(this))}else n.html(e),this._trigger("templateComplete",n,t,e)}},_onLoadStart:function(t){d.call(this,t,"load")},_onLoadError:function(t){d.call(this,t,"error")}},{cssClss:{tabLoad:"loading",tabLoadError:"error"},Attrs:{tabUrl:"data-url"},template:null,prepareData:null,prepareTemplateParams:null,templateParams:{}},c,r);l(r,{acceptTypes:"AsyncTabs"}),s(!0,n,{Modules:{AsyncTabsView:f}})}(window.jQuery,window,window.ru.mail.cpf)},57415:function(){!function(t,e){"use strict";var n=e.Basic,i=e.Instances&&e.Instances.stateObject,r=n.Extend,o=n.typeOf,s=n.getModel({_Events:["tabChange"],_Init:function(){var t,e=this._opts,n=e.startTab;this._State={currentTab:n},e.atLeastOne&&(e.watchHashBang&&(t=i.State()[e.hashKey])&&(n=t),e.useStringTabId||(n=parseInt(n,10),n=isNaN(n)?0:n),this.currentTab(n))},currentTab:function(t){var e=this._State,n=e.currentTab;if(!o(t,"undefined")){var i=this._opts.useStringTabId;if(!(!i&&!isNaN(t)&&t>=0||i&&t&&"string"==typeof t))throw new TypeError("First argument must be a "+(i?"string":"positive integer."));e.currentTab=n=t,this._trigger("tabChange",t)}return n},_updateUrlHash:function(){var t=this._opts,e=t.hashKey,n=i.State(e);this._opts.useStringTabId||(n=parseInt(n,10));var r=this._State.currentTab;r!==n&&t.watchHashBang&&i.setStateKey(e,r,!1,!0)}},{startTab:0,atLeastOne:!0,watchHashBang:!1,useStringTabId:!1,hashKey:"tab"},null,"Tabs");r(t.getNameSpace("Modules",e),{Tabs:s})}(window,window.ru.mail.cpf)},73082:function(){!function(t,e,n){"use strict";var i=n.Basic;function r(t,e){return t&&e&&e.filter(["[",t,"]"].join("")).length===e.length}function o(t,e,n){return~t.getAttribute(this._opts.attrs.tabIndex).split(",").indexOf(n.toString())}function s(t){return t&&t.length?this._mode.buttonsByAttr?t.attr(this._opts.attrs.buttonIndex):this._Elems.Buttons.index(t):null}var a=i.getView({_Events:["beforeTabHide","beforeTabShow","tabShow"],_Handlers:{dom:{"click:Main.Buttons":"_onBtnClick","click:buttonAliases":"_onBtnClick"},model:{tabChange:"_onTabChange"}},_onBtnClick:function(e){var n=this._opts,i=this._Model,r=t(e.currentTarget);if(n.cssClss.disabledBtn&&r.hasClass(n.cssClss.disabledBtn))n.disabledBtnClickable||e.preventDefault();else{var o=s.call(this,r),a=r.hasClass(n.cssClss.curBtn);-1===o||a||o===i.currentTab()||i.currentTab(o),a&&n.curBtnClickable||e.preventDefault()}},_Init:function(){var t=this._opts,e=t.attrs,n=this._Model.currentTab(),i=this._Elems.Tabs,s=this._Elems.Buttons;if(i&&i.length){if(this._mode={tabsByAttr:!t.filterTabFunc&&r(e.tabIndex,i),buttonsByAttr:r(e.buttonIndex,s)},this._mode.tabsByAttr||t.filterTabFunc){var a=t.filterTabFunc||o,l=this;this._mode.filterTabFunc=function(t){var e=l._model.currentTab();return a.call(l,this,t,e)}}null!=n?this._onTabChange(n):this._opts.startTabByDOM&&s&&this.updateButtonsByDOM()}},updateButtonsByDOM:function(){var t=this._opts,e=this._Elems.Buttons,n=s.call(this,e.filter("."+t.cssClss.curBtn+":first"));null!=n&&this._Model.currentTab(n)},updateTabs:function(){var t=this._model.currentTab(),e=this._opts.cssClss.curTab,n=this._Elems.Tabs,i=this._mode.filterTabFunc?n.filter(this._mode.filterTabFunc):n.eq(t);this._trigger("beforeTabHide",i,t),n.removeClass(e),this._trigger("beforeTabShow",i,t),i.addClass(e),this._curTab=t,this._trigger("tabShow",i,t)},_onTabChange:function(t){var e,n=this._opts,i=n.cssClss,r=this._Elems.Buttons;(this.updateTabs(),r&&r.length)&&(e=i.curBtn,r.removeClass(e),(this._mode.buttonsByAttr?r.filter(["[",n.attrs.buttonIndex,'="',t,'"]'].join("")):r.removeClass(e).eq(t)).addClass(e))},getTabsCount:function(){var t=this._Elems.Tabs,e=t.length,n=this._opts.attrs.tabIndex;return this._mode.tabsByAttr&&(e=t.toArray().reduce((function(t,e){var i=e.getAttribute(n);return-1===t.indexOf(i)&&t.push(i),t}),[]).length),e}},{cssSels:{buttonAliases:".js-tab__btn-aliases",Main:{Buttons:".js-tab__btn",Tabs:".js-tab__content"},disabledBtn:null},cssClss:{disabledBtn:"",curTab:"",curBtn:""},attrs:{tabIndex:"data-tab",buttonIndex:"data-tab"},filterTabFunc:null,startTabByDOM:!1,disabledBtnClickable:!1,curBtnClickable:!1},null,"TabsView");i.moduleOpts.setParams("TabsView",{acceptTypes:"Tabs"}),i.Extend(!0,n,{Modules:{TabsView:a}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},50676:function(){!function(t,e,n,i){"use strict";var r=n.Basic,o=n.Touch,s=r.typeOf,a=r.Extend,l=o&&o.Support||i,c=(l.touch||l.touchevents)&&"ontouchstart"in e,u=r.Constructors.getView(function(){var e=["x","y"];function n(t){var n,i,r=t.originalEvent||t,o=r.changedTouches;if(c&&void 0!==r.touches){for(var s=0;s<o.length;s++)if((i=o[s]).identifier===this._state.touchId){n=i;break}}else n=e.reduce((function(t,e){return t[e="page"+e.toUpperCase()]=r[e],t}),{});return n}function i(t){var i=n.call(this,t),r=this._state.coords;return i?e.map((function(t,e){return i["page"+t.toUpperCase()]-r[e]})):[0,0]}function r(t){this._state.coords=e.map((function(e){return t["page"+e.toUpperCase()]}))}function o(t){this._state.started||t.trigger("click"),this._timers.click=null}return{_Events:["start","startMove","move","end"],_Handlers:{"set:events":{"touchstart:targetElems":"_onTouchStart","touchmove:document":"_onTouchMove","touchend:document":"_onTouchEnd","mousedown:targetElems":"_onTouchStart","mousemove:document":"_onTouchMove","mouseup:document":"_onTouchEnd","click:targetElems":"_onClick"}},_Init:function(){this._timers={click:null},this._state={started:!1,moving:!1,paused:!1,detecting:!1,touchId:null,coords:null,delta:[0,0]},this.setTargetAxis(this._opts.targetAxis),this._bindHandlerSet("events")},_onTouchStart:function(e){var i,s=e.originalEvent||e,u=this._state,h=this._opts,p=t(s.target),d=c&&void 0!==s.touches,f=s.touches,m=s.changedTouches,g=h.cssSels.ignoredElems;s.which>1||g&&(p.is(g)||p.parents(g).length>0)||u.paused||u.started||d&&f.length>1||(i=d?m[0]:n.call(this,s),r.call(this,i),a(u,{touchId:i.identifier,detecting:!0,moving:!1}),l.preventTouchStart&&(this._timers.click=setTimeout(o.bind(this,p),200),s.preventDefault()),d||p.is("select,input,textarea")||!h.canPreventMousedown.call(this,p)||s.preventDefault(),this._trigger("start",p,{from:this._state.coords,elem:s.currentTarget}))},_onTouchMove:function(t){var e,n,r,o,s=!0,l=this._opts.targetAxis,u=this._state;if((u.started||u.detecting)&&(n=(e=i.call(this,t)).map(Math.abs),0!==(r=Math.max.apply(null,n)))){var h=u.started;u.detecting&&r>3&&(null!==this._timers.click&&(clearTimeout(this._timers.click),this._timers.click=null),c&&void 0!==t.touches&&null!==l&&n[l]<n[1-l]&&(s=!1),a(u,{detecting:!s,started:s,moving:s})),u.started&&(h||this._trigger("startMove"),o=u.delta,e=e.map((function(t,e){return t+o[e]})),this._trigger("move",e,t),/^mouse/.test(t.type)&&t.preventDefault())}},_onTouchEnd:function(t){var n,r,o=this._state;o.detecting=!1,o.started&&(r=o.delta,n={coords:null,touchId:null,detecting:!1,started:!1,moving:!1},this._opts.resetDelta?n.delta=e.map((function(){return 0})):n.delta=i.call(this,t).map((function(t,e){return r[e]+t})),a(o,n),this._trigger("end",n.delta))},_onClick:function(t){this._state.moving&&t.preventDefault()},setTargetAxis:function(t){var n,i=this._opts;s(t,"string")&&(n=e.indexOf(t))>-1?i.targetAxis=n:i.targetAxis=null},setDelta:function(t,n){if(s(t,"array"))this._state.delta=t.slice(0);else{var i=isNaN(t)?e.indexOf(t):t;-1!==i&&(this._state.delta[i]=n)}},getDelta:function(t){var n=this._state.delta;return s(t,"undefined")?n.slice(0):isNaN(t)?n[e.indexOf(t)]:n[t]},setState:function(t,e){s(t,"object")?a(this._state,t):this._state[t]=e},stopDetecting:function(){this._state.detecting=!1},pause:function(t){return s(t,"boolean")&&(this._state.paused=t),this._state.paused}}}(),{cssSels:{targetElems:null,ignoredElems:null},targetAxis:null,canPreventMousedown:function(){return!0},resetDelta:!1},null,"Swipe");t.fn.bindScrollMove=function(t,n,i,r,o){return e.DEBUG&&e.console.warn("Обнаружено старое подключение компонента.\t\t\t\tНеобходимо срочно сменить его на обычное, так как скоро старое перестанет работать"),new u(a(o,{_Handlers:{start:t,move:n,end:i},targetAxis:r}),this)}}(window.jQuery||window.$,window,window.ru.mail.cpf,window.Modernizr)},6547:function(){var t,e,n,i,r;window,t=window.ru.mail.cpf,e=t.Basic,n=e.typeOf,i=e.Constructors._getServiceProps().concat(["_Plugins","_Init","_Opts"]),r=0,e.Extend(e.Constructors,{addPlugin:function(t,o,s,a){if(n(t,"string")&&(t=e.Constructors._repo.get(t)),!n(t,"function")||!n(o,"object"))throw new TypeError("Arguments must refer to a function and object respectively");var l=t.prototype,c=o._Init,u=o._Handlers,h=o._Events;i.forEach((function(t){delete o[t]})),l.hasOwnProperty("_Plugins")||(l._Plugins=[]),l._Plugins.push({name:a||"_plugin"+r++,_Init:c,_Handlers:u,_Events:h,_Opts:s,methods:o})}})},53625:function(){!function(t,e,n){var i,r,o,s,a,l,c=n.createElement("div");if(!("onmousewheel"in c)){for(var u in a=[e],s=["mousewheel"],(l=(r={add:["addEventListener","attachEvent","add"],rem:["removeEventListener","detachEvent","not"]}).add[0]in c)?s.push("DOMMouseScroll"):(s[0]="on"+s[0],a.push(n)),r)r.hasOwnProperty(u)&&r[u].splice(1*l,1);i=function(n){n=n||e.event;var i,r,o=t(n.target||n.srcElement);r=n.wheelDelta||-40*n.detail,i=t.Event(n,{type:"mousewheel",wheelDelta:r}),o.trigger(i)},o=function(t){for(var e=r[t?"add":"rem"],n=0;n<s.length;n+=1)this[e[0]](s[n],i,!1)},t.event.special.mousewheel={setup:function(){o.call(this,!0)},teardown:function(){o.call(this,!1)}}}}(window.jQuery,window,window.document)},88037:function(){!function(t){for(var e,n=["ms","moz","webkit","o"],i=0;i<n.length&&!t.requestAnimationFrame;++i)e=n[i],t.requestAnimationFrame=t[e+"RequestAnimationFrame"],t.cancelAnimationFrame=t[e+"CancelAnimationFrame"]||t[e+"CancelRequestAnimationFrame"];t.requestAnimationFrame=t.requestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},t.cancelAnimationFrame=t.cancelAnimationFrame||function(e){t.clearTimeout(e)}}(window)},59991:function(t,e,n){var i=n(74933)(n(75903));!function(t){"use strict";var e,n=t.getNameSpace,r=n("ru.mail.cpf",t);function o(t){if(null!=t)return Array.prototype.concat.call(t)}r.Basic.Extend(n("Types.Array",r),{Copy:o,isEqual:function t(n,s){var a,l,c=Array.isArray(n)&&Array.isArray(s)&&n.length==s.length;if(c){n=o(n).sort(),s=o(s).sort();for(var u=0;u<n.length;u++)if(a=n[u],l=s[u],"object"!==(0,i.default)(a)&&null!==a){if(!(c=a==l||t(a,l)))break}else if(Array.isArray(a)){if(!(c=t(a,l)))break}else if(e||(e=r.Types.Object.Equals),!(c=e(a,l)))break}return c}})}(new Function("return this")())},12420:function(){!function(t){var e,n,i,r,o,s=t.getNameSpace,a=s("ru.mail.cpf",t),l=a.Basic,c=l.typeOf,u=function(){var t={getFullYear:/[Y]{2,4}/,getMonth:/M{1,2}/i,getDate:/\??d{1,2}/,getDay:/D/,getHours:/H{1,2}/,getMinutes:/i{1,2}/,getSeconds:/s{1,2}/,getMilliseconds:/n{1,3}/};function e(t,e,n){var i;return e&&e==e.toUpperCase()&&Array.isArray(n)&&(i=n[t])?i:null}return function(n,i,r,o){var s,a,l,u,h,p,d,f,m=null,g=i;for(var v in t)if(t.hasOwnProperty(v)&&(a=t[v],m=null,"string"===(l=c(a))&&i.indexOf(a)>-1?m=a:"regexp"===l&&Array.isArray(u=i.match(a))&&(m=u[0]),null!==m)){switch(s=n[v](),v){case"getMonth":s=e(s,m,r)||++s;break;case"getDay":--s<0&&(s=6),s=e(s,m,o)||s}if(s+="",!isNaN(s))if((p=m.length)<(h=s.length))s=s.substr(h-p);else if(p>h){d=p-h;for(var _=0;_<p&&"?"==m.charAt(_);_++)d--;for(var w=0;w<d;w++)s="0"+s}f=g.indexOf(m),g=g.substr(0,f)+s+g.substr(f+m.length)}return g}}(),h=(e=/([+-])?([0-9]+)([a-z])/gi,n={y:"FullYear",m:"Month",d:"Date",h:"Hours",i:"Minutes",s:"Seconds",n:"Milliseconds"},function(t,i){var r,o,s,a,l,u;if(!(c(t,"date")&&c(i,"string")&&e.test(i)))return t;for(e.lastIndex=0;r=e.exec(i);)if(o=n[r[3]],4===r.length&&o&&(s=r[2],a=r[1],s)){if(u=t["get"+o](),a&&"0"!==s)l=u+s*("+"===a?1:-1);else{if(a||s==u)continue;l=1*s}t["set"+o](l)}return t}),p=(i=/^(\d{4})[.-](\d{1,2})[.-](\d{1,2})/,r=/^(\d{1,2})[.-](\d{1,2})[.-](\d{4})/,o=/^(\d{1,2})[.-](\d{1,2})[.-](\d{2})/,function(t){return"string"!=typeof t?null:(t=(t=(t=t.replace(i,"$1/$2/$3")).replace(r,"$2/$1/$3")).replace(o,"$2/$1/$3"),(e=Date.parse(t))?new Date(e):null);var e}),d=function(){var t=[{name:"years",method:"getFullYear",count:null},{name:"months",method:"getMonth",count:12},{name:"days",method:"getDate",count:"0d-1d"},{name:"hours",method:"getHours",count:24},{name:"minutes",method:"getMinutes",count:60},{name:"seconds",method:"getSeconds",count:60}];function e(t,e){return e[t]()}function n(t,n){var i=t.count;return c(i,"string")?e(t.method,f(n,i)):i}return function(){for(var i,r,o,s,a,l,u=Array.prototype.slice.call(arguments),h=new Date,p=null,d=u.length;d--;)o=u[d],c(o,"number")&&(o=u[d]=new Date(h+1e3*o)),c(o,"date")||u.splice(d,1);if(u.length>0){1===u.length&&(u[1]=h),p={},u[0]>u[1]&&(u=u.reverse());for(var f=0;f<t.length;f++){if(s=(i=t[f]).method,r=u.map(e.bind(null,s)),f>0&&r[0]>r[1]){for(a=f-1;(l=t[a])&&0===p[l.name];)p[l.name]=n(l,u[1])-1,a--;l&&p[l.name]--,r[1]+=n(i,u[1])}p[i.name]=r[1]-r[0]}}return p}}();function f(t,e){if(!(t instanceof Date))return null;var n=new Date(t.getTime());return e&&h(n,e),n}function m(t){var e=c(t);return"date"===e?t:"string"===e?p(t):null}l.Extend(s("Types.Date",a),{fromStr:p,toStr:u,getDate:m,Change:h,Clone:f,Compare:function(){var t,e,n,i,r,o,s,a=Array.prototype.slice.apply(arguments,[0,3]),l="0y0m0d0h0i0s0n";if(a.length<=1)return null;for(var u=0;u<a.length;u++)if(i=a[u],u<2){if(null===(i=m(i)))return null;0===u?t=i:e=i}else c(i,"string")&&(n=i);return n&&-1!=(r=l.indexOf(n))||(r=3),r++,(o=((l=l.substr(r))?f(t,l):t).getTime())<(s=(l?f(e,l):e).getTime())?-1:o>s?1:0},getRange:function(t,e,n){var i,r,o=[m(t.min),m(t.max)],s=new Date;e=e||"1m",void 0===n&&(n=!0),n&&h(s,"0h0i0s0n");for(var a=0;a<o.length;a++)i=o[a],r=o[1-a],i&&r&&(a?r>i:r<i)&&(i=f(r,(a?"+":"-")+e)),i&&n&&(i=f(i,(a?24:0)+"h0i0s"+(a?"-1s":"")+"0n")),o[a]=i;return o},isInRange:function(t,e){for(var n,i=0;i<e.length;i++)if(n=e[i],c(n,"string")&&(n=p(n)),!isNaN(n)&&null!==n&&(1===i?t>n:t<n))return!1;return!0},getDateDiff:d})}(new Function("return this")())},12151:function(){!function(t){"use strict";var e,n,i=t.getNameSpace,r=i("ru.mail.cpf",t),o=r.Basic,s=o.typeOf;o.Extend(i("Types.Object",r),(n=function(){var t,e,i,o,a,l,c,u,h=Array.prototype.slice.call(arguments),p=[],d=!0,f=0;for(s(h[0],"array")&&(t=h.shift()),i=h.length;i--;){if(e=h[i],!s(e,"object"))return!1;for(var m in e)e.hasOwnProperty(m)&&p.indexOf(m)<0&&!(t&&t.indexOf(m)<0)&&p.push(m)}if(!p.length)return!0;for(;d&&(l=p[f++]);)for(i=0;i<h.length;i++){if(!(e=h[i]).hasOwnProperty(l)){d=!1;break}if(0===i)o=e[l],u=s(o);else if(a=e[l],(c=s(a))!==u||!("array"==c?r.Types.Array.isEqual(o,a):"object"==c?n(o,a):o==a)){d=!1;break}}return d},{hasKeys:e=function(t,n,i){var r,o,a=null==n;if(!a&&(i=s(i,"function")?i:Object.prototype.hasOwnProperty,!a))if(Array.isArray(n))for(r=0;(o=n[r++])&&(a=i.call(t,o)););else if(s(n,"object")){for(var l in n)if(!(a=i.call(t,l)&&e(t[l],n[l],i)))break}else a=i.call(t,n);return a},Equals:n}))}(new Function("return this")())},93798:function(){!function(t){"use strict";var e,n,i=t.getNameSpace,r=i("ru.mail.cpf",t),o=r.Basic,s=o.typeOf;o.Extend(i("Types.String.Html",r),(e=/[a-z]+[a-z0-9-_]*/i,{Split:function(t){for(var e,n,o,s,a,l,c,u=[];t.length&&!((e=t.indexOf("<"))<0);){s=n=e+1,a=i("Types.String",r).getNearest(t,[" ",">","/"],e),c="<"+(o=t.substr(s,a>-1?a-s:void 0)),l="!--"==o?"--\x3e":"</"+o;do{n=t.indexOf(l,n+1)}while((s=t.indexOf(c,s+1))>0&&s<n);n=t.indexOf(">",n)+1,u.push(t.slice(e,n)),t=t.slice(n)}return u},getParams:n=function(t){var n,i,r,o,a,l,c,u={};if(s(t,"string")){if((n=t.split(" ")).length>1)for(i=-1;s(r=n[++i],"string");)r.length&&(i?(o=(c=r.indexOf("="))>-1?[r.substr(0,c),r.substr(c+1)]:[r],e.test(l=o[0])&&(u[l]=s(a=o[1],"string")?a.slice(1,a.indexOf(a.charAt(0),1)):a)):u.tagName=r.substr(1));return u}},getAttr:function(t,e){if(s(t,"string")&&s(e,"string"))return n(t)[e]}}))}(new Function("return this")())},84538:function(){!function(t,e){"use strict";var n=t.ru.mail.cpf,i=t.getNameSpace,r=n.Basic,o=r.typeOf,s=r.Merge,a=/^\/?([^=&#\/]+\/)+[^=&#\/]*$/,l=/^(http(s?):)?\/\/[^\/]+/i,c=/([a-z-_]+)([0-9,]+)/i,u=/^-?[0-9]*\.?[0-9]*$/,h={true:!0,false:!1,null:null,undefined:null,"":null};function p(t,e,n,i){var r,s,a=t.isArray,l=i,c=o(n),u="array"===c;switch(e&&(l=e,o(t.getParamName,"function")?l=t.getParamName(l,i):!u&&t.traditional&&a||(l+=["[",a&&!u?"":i,"]"].join(""))),c){case"array":case"object":r=d(n,t,l);break;default:s=[encodeURIComponent(l)],null!=n&&0!==n.length&&s.push("?"!==n?encodeURIComponent(n):n),r=s.join("=")}return r}function d(t,e,n){var i=[];switch((e=s({},e)).traditional=!1!==e.traditional,o(t)){case"array":i=t.reduce((function(t,i,r){return e.isArray=!0,t.concat(p(e,n,i,r))}),[]);break;case"object":i=Object.keys(t).reduce((function(i,r){return e.isArray=!1,i.concat(p(e,n,t[r],r))}),[])}return i}function f(t){var e,n,i={path:"",query:"",hash:""};return t?("/"===(t=t.replace(/\+/g," ").trim())?(i.path="/",n=!0):t.indexOf("?")>=0?(e=t.split("?"),i.path=e[0],t=e[1]):a.test((e=t.split("#"))[0])||l.test(e[0])?(i.path=e[0]||"",i.hash=e[1]||"",n=!0):i.query=t,n||(e=t.split("#"),i.query=e[0]||"",i.hash=e[1]||""),i):i}function m(t,n,i){var r,o=function(t){var e=f(t);return e.query=g(e.query,!1)||{},e}(n),a=o.path,l=o.hash,c=o.query;if(t=t||{},!1!==(i=i||{}).replace)for(var u in c)c.hasOwnProperty(u)&&u in t&&(c[u]=e);return r=d(c=s(!0,{},c,t),i).join("&").replace(/%20/g,"+"),a+(a&&r?"?":"")+r+(l?"#"+l:"")}function g(t,n){var i={};return(o(n,"undefined")||n)&&(t=f(t).query),t?(t.split("&").forEach((function(t){var n,r,a,l,p,d,f,m=t.split("=");o(m[1],"undefined")&&(m=(m=t.match(c))?m.slice(1):[t,null]),a=decodeURIComponent(m[0]),1===(l=a.replace(/]/g,"").split("[")).length&&(l=l[0].split(".")),n=l,p=decodeURIComponent(m[1]),d=p&&("number"==typeof p||u.test(p)),f=(p||"").length<=16,r=d&&f?+p:p in h?h[p]:p,s(!0,i,n.reverse().reduce((function(t,e,i){var s=isNaN(e)||i===n.length-1?{}:[];return s[e||0]=o(t,"undefined")?r:t,s}),e))})),i):null}r.Extend(i("Types.String.Url",n),{getAbs:function(e){var n=t.location;if(o(e,"string")||o(e,"undefined"))return e=e?e.trim():"",l.test(e)||(e=n.protocol+"//"+n.hostname+("/"==e.charAt(0)?"":n.pathname)+e),e},addParam:function(t,e,n,i){if(!e)return t;var r={};return r[e]=n,m(r,t,i)},addParams:m,getParams:g})}(new Function("return this")())},41761:function(){!function(t){"use strict";var e=t.getNameSpace,n=e("ru.mail.cpf",t),i=n.Basic,r=i.typeOf;i.Extend(e("Types.String",n),{getPlural:function(t,e){if((t%=100)>10&&t<20)return e[2];switch(t%=10){case 1:return e[0];case 2:case 3:case 4:return e[1];default:return e[2]}},getNearest:function(t,e,n){var i,o,s=-1;n=n||0;for(var a=0;a<e.length;a++)r(i=e[a],"string")&&(o=t.indexOf(i,n))>-1&&(s=Math[s<0?"max":"min"](o,s));return s},cutBySpace:function(t,e){var n;return t.length<=e?t:(n=t.substr(0,e)," "!=t.charAt(e)&&(n=n.substr(0,n.lastIndexOf(" "))),n)},supplant:function(t,e){return t.replace(/\$\{([\w\d\-_]+)\}/g,(function(t,n){return r(e[n],"undefined")?t:e[n]}))},regExp:{Url:/^(?:http(?:s)?:\/\/)?(?:(?:[a-z0-9-]+\.)+[a-z]{2,4})?\/?(?:[a-z0-9-_]+(?:\/|(?:\.[a-z0-9]+)))*(?:\?.*)?$/i}})}(new Function("return this")())},8967:function(t,e,n){var i=n(74933)(n(75903));!function(t,e,n){"use strict";var r=e.Basic,o=t.getNameSpace,s=r.getByPath,a=r.Extend,l=r.typeOf,c=t.localStorage,u=!1;if(c){var h="_"+Math.random();try{c.setItem(h,"_"),c.removeItem(h),u=!0}catch(t){}}var p=r.Constructors.getModel(function(){function e(t){return"object"!==(0,i.default)(t)?t:l(t,"array")?a(!0,{},{clone:t}).clone:a(!0,{},t)}function r(t){var e=t.lastIndexOf(".");return-1===e?{child:t}:{parent:t.substr(0,e),child:t.substr(e+1)}}function h(){c.setItem(this._root,JSON.stringify(this._storage))}return{_Init:function(){var e=this._opts.root;e||(e=function(e){var n=t.location.host.split(".").reverse();return e&&n.push(e),n.join(".")}(this._opts.defaultKeySuffix),t.DEBUG&&t.console.error("Для хранения данных в localStorage используется дефолтный ключ "+e)),this._root=e,this._storage=JSON.parse(c.getItem(e))},supported:u,getItem:function(t){var i=this._storage;return e(i?t&&l(t,"string")?s(t,i):i:n)},setItem:function(t,n,i){var s,c,u,p;!1!==n?l(t,"object")?s=a(!0,this.getItem(i),t):((p={})[(u=r(i)).child]=e(t),i=u.parent,s=a(!0,this.getItem(i),p)):s=e(t),i?(c=this._storage,l(c,"object")||(this._storage=c={}),(u=r(i.toString())).parent?o(u.parent,c)[u.child]=s:c[u.child]=s):this._storage=c=s,h.call(this)},removeItem:function(t){if(t!==n){var e=this._storage,i=r(t.toString()),o=i.parent;delete(o?s(o,e):e)[i.child],h.call(this)}},clear:function(){this._storage=null,c.removeItem(this._root)}}}(),{root:null,defaultKeySuffix:"storage"},null,"LocalStorage");o("Tools",e).LocalStorage=p}(window,window.ru.mail.cpf)},73252:function(){!function(t,e,n){"use strict";var i=n.Tools.Layout,r=n.Basic.Extend,o={linear:function(t,e,n,i){return e+n*t/i},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e}},s={WebkitTransition:"-webkit-transition-duration",MozTransition:"-moz-transition-duration",transition:"transition-duration"};var a=function(t,n,i){this._done=[],this._active=[],this._elem=t,this._animateClass="animate-"+n,this._activeClass=this._animateClass+"-active",this._opts=r(!0,{},i),t.data("_animation",this),this._delay().then(function(){return t.addClass(this._animateClass),this._delay(i&&i.stageDelay||30)}.bind(this)).then(function(){return this._bulkActive(),t.addClass(this._activeClass),this._startTime=(new Date).getTime(),this._duration=i&&i.duration||function(t){var n,i,r=e.Modernizr.prefixed("transition"),o=30;return t.length?((n=s[r])&&e.getComputedStyle&&(o=(o=e.getComputedStyle(t.get(0)).getPropertyValue(n)).match(/^(\d*\.*\d*)(s|ms)$/))&&o[1]&&(i=o&&o[2]&&"s"===o[2]?1e3:1,o=parseFloat(o[1])*i),o):o}(t),this._delay(this._duration+30)}.bind(this)).then(function(){this._isComplete||(this._complete(),this._done.length&&this._done.forEach((function(e){e.call(t)})))}.bind(this))};a.prototype._bulkActive=function(){var t=0,e=this._active.length;if(e){for(this._startTime&&this._duration&&(t=((new Date).getTime()-this._startTime)/this._duration,t=Math.min(1,t));e--;)this._isDone||this._isComplete||this._active[e].call(this._elem,t)||this._active.splice(e,1);this._active.length&&requestAnimationFrame(this._bulkActive.bind(this))}},a.prototype.active=function(t){return"function"==typeof t&&this._active.push(t),this},a.prototype.done=function(t){return"function"==typeof t&&this._done.push(t),this},a.prototype._complete=function(){var t=this._elem;return this._opts.pinActive||t.removeClass(this._activeClass),t.removeClass(this._animateClass).data("_animation",null),this._isComplete=!0,this},a.prototype._delay=function(t){return new Promise((function(e){setTimeout(e,t||0)}))};var l=function(t,e,n){var i=t.data("_animation");return i&&i._complete(),new a(t,e,n)};t.fn.animateEnter=function(t){return l(this,"enter",t)},t.fn.animateLeave=function(t){return l(this,"leave",t)},t.fn.animateScroll=function(t){t.top=isNaN(t.top)?t.scrollTop:t.top;var e,n,r,s,a,c,u,h=this.get(0),p=i.getScroll(h),d=isNaN(t.top)?p.top:t.top,f=isNaN(t.left)?p.left:t.left,m=f-p.left,g=d-p.top,v=t.ease&&o[t.ease]?o[t.ease]:o.linear,_=l(this,"scroll",t);return m||g?(n=m,r=g,s=p.left,a=p.top,c=s,u=a,e=function(t){var e=n?Math.round(v(t,s,n,1)):s,o=r?Math.round(v(t,a,r,1)):a;return e===c&&o===u||i.setScroll({left:c=e,top:u=o},h),!0},_.active(e).done((function(){i.setScroll.bind(i,{top:d,left:f},h)}))):_._complete(),_},t.fn.animateCustom=function(t,e){if(t&&"string"==typeof t)return l(this,t,e)},t.fn.animationCancel=function(){var t=this.data("_animation");t&&t._complete()}}(window.jQuery||window.$,window,window.ru.mail.cpf)},4541:function(){!function(t,e,n){"use strict";var i,r,o,s=n.Basic,a="ru.mail.cpf.deviceType",l="ru.mail.cpf.pointerType",c="ru.mail.cpf.deviceType.version",u="20150730",h=e.Modernizr,p=h.localstorage,d=["tablet","laptop"],f=n.Tools.PubSub;function m(t,e){var n=function(t){var e=d.indexOf(t)>-1;return e&&p&&localStorage.setItem(a,t),e}(t);return n&&e(t),n}p&&localStorage.getItem(c)!==u&&(localStorage.removeItem(a),localStorage.removeItem(l),localStorage.setItem(c,u)),s.Extend(!0,n,{Tools:{checkDeviceType:function(){return o||(o=new Promise((function(n){h.touch||h.touchevents?(i=p&&localStorage.getItem(a),s.typeOf(i,"string")&&m(i,n)||((r=navigator.userAgent.toLowerCase()).indexOf("ipad")>-1||r.indexOf("iphone")>-1?m("tablet",n):t(e).one("mouseover mouseout",(function(t){(t.fromElement||t.relatedTarget)&&m("laptop",n)})))):m("laptop",n)}))),o},detectPointerType:function(){var i,r,o=t(document.documentElement),s={mouse:{id:1,handlers:function(t){o[t=t?"on":"off"]("mouseover mouseout mousemove click",w)}},touch:{id:2,handlers:function(t){o[t=t?"on":"off"]("touchstart",v),o[t]("touchend",_)}},keyboard:{id:4,handlers:function(){}}},a=Object.keys(s).reduce((function(t,e){return t|s[e].id}),0),c={},u=0;e.promisifiedDomEvents.ready.then((function(){i=!0}));var h=p&&localStorage.getItem(l);h=h?parseInt(h,10):0;var d,m=(d=h,function(t){p&&t!==d&&(localStorage.setItem(l,t),d=t)});function g(t){h|=t,Object.keys(c).forEach((function(t){var n=c[t],i=h&n.detected^h;n.detected|=h,i&&Object.keys(s).forEach((function(t){s[t].id&i&&e.setTimeout(f.publish.bind(f,n.message,t))})),n.detected===a&&b(t)})),m(h),E()}function v(){e.DEBUG&&(this._touchStartTs=(new Date).getTime()),r=!0,g(s.touch.id)}var _=n.Basic.debounce((function(){r=!1}),2e3);function w(){!r&&i&&g(s.mouse.id)}function y(t,e){var n=function(t){var e=navigator.userAgent.toLowerCase(),n=!(!~e.indexOf("ipad")&&!~e.indexOf("iphone")),i=0;if(n&&(i|=s.mouse.id),t^s.touch.id)if(n||"ontouchstart"in document.documentElement)t^=s.touch.id;else try{document.createEvent("TouchEvent"),t^=s.touch.id}catch(t){}return m(t),{detectedTypes:t,forceDetect:i}}(h);h=n.detectedTypes,e.detected|=n.forceDetect,c[t]=e,E()}function b(t){t?delete c[t]:c={},E()}var S,E=(S=0,function(){var t=Object.keys(c).reduce((function(t,e){return a&~c[e].detected|t}),0);(t&=~h)&s.mouse.id&&!(s.mouse.id&h)&&(t|=s.touch.id);var e=S&t^t,n=S&t^S;return Object.keys(s).forEach((function(t){var i=s[t];i.id&e?(i.handlers(!0),S|=i.id):i.id&n&&(i.handlers(!1),S&=~i.id)})),S});function T(t){var e=t?a:0;return(t||"").split(" ").filter((function(t){return t})).forEach((function(t){var n=s[t]?s[t].id:0;e&=~n})),e}return function(t){var e="deviceDetect"+ ++u;return y(u,{detected:T(t),message:e}),g(h),{cancel:b.bind(null,u),message:e}}}()}})}(window.jQuery,window,window.ru.mail.cpf)},97081:function(){!function(t,e,n){"use strict";var i,r,o,s,a,l,c=e.getNameSpace,u=n.Types.String,h=u.Html,p=u.Url,d=u.regExp.Url,f=h.Split,m=h.getParams,g=n.Basic.typeOf,v=t.ajax||n.DOM.Tools.Ajax.request,_=n.Basic.Extend,w=function(){},y=[],b=function(t){(new Image).src=t},S=function(t){b(t.src)},E=function(t,n){var i=e.screen,r=n.URL;return{admail:{rqdPrms:"id",hitCntr:function(t){var e=location.protocol+"//ad.mail.ru/${id}.gif";S({src:u.supplant(e,t)})},hitEvent:function(){}},radar:function(){var t=function(t){t.info=Object.keys(t.info).map((function(e){return e+":"+t.info[e]})).join(","),t.info=encodeURIComponent(t.info),S({src:u.supplant("//stat.radar.imgsmail.ru/update?t=${name}&p=${project}&v=${value}&i=${info}&rnd=${rnd}",t)})};return{rqdPrms:"project",hitCntr:function(e,n){var i,r=(new Date).valueOf();n&&n.promise&&n.promise.then&&(i=n.promise,delete n.promise),(n=_({},e,n)).name=encodeURIComponent(n.name),n.value=encodeURIComponent(n.value||0),n.info=g(n.info,"object")?n.info:{},n.rnd=Math.random(),i?i.then((function(){n.info.success=(new Date).valueOf()-r,n.info.success=(new Date).valueOf()-r,t(n)}),(function(){n.info.error=(new Date).valueOf()-r,t(n)})):t(n)}}}(),topmail:function(){function n(){var t=e._tmr;return t&&g(t.push,"function")?t:null}return{domain:"*.top.mail.ru",rqdPrms:["id",function(t){return null!==n()||"domain"in t}],nrmlzPrms:function(t){if("string"==typeof t.params&&""!==t.params)try{t.params=JSON.parse(t.params)}catch(e){delete t.params,console.error(e)}return t},hitCntr:function(e,o){o=o||{};var s=n(),a=o.referrer||r,l=o.url||location.href,c=o.userid,u=o.hitParams||e.params;if(null!==s)s.push({id:e.id,type:"pageView",url:l,userid:c,referrer:a,start:(new Date).getTime(),params:u});else{var h=["//"+e.domain+"/counter?id="+e.id+";js=13",l?";u="+encodeURIComponent(l):"",void 0!==t.javaEnabled?";j="+t.javaEnabled():"",a?";r="+encodeURIComponent(a):"",c?";userid="+encodeURIComponent(c):"",i?";s="+i.width+"*"+i.height+";d="+(i.colorDepth||i.pixelDepth):"",";_="+Math.random()].join("");b(h)}},hitEvent:function(t,e){var i=n();null!==i&&i.push(_({},t,e))}}}(),rbmail:{rqdPrms:"src|id",nrmlzPrms:function(t){var e=location.protocol+"//rs.mail.ru/${type}${id}.gif";return t.type=t.type||"d",t.src||(t.src=u.supplant(e,t)),t},hitCntr:function(t,e){var n=e&&Object.keys(e).map((function(t){return t+"="+e[t]})).join("&");n&&((t=_({},t)).src+="?"+n),S(t)},domain:"rs.mail.ru"},comscore:{rqdPrms:"src|id",hitCntr:function(t,e){var i=e&&e.referrer||r,o=e&&e.url,s=["http"+("s"==n.URL.charAt(4)?"s://sb":"://b"),".scorecardresearch.com/b?c1=2","&c2="+t.id,"&ns__t="+(new Date).getTime(),"&ns_c="+(n.characterSet||n.defaultCharset||""),"&c7="+encodeURIComponent(o),"&c9="+encodeURIComponent(i)].join("");b(s)}},weborama:{rqdPrms:"src",hitCntr:function(t){var e=t.src.replace(/&amp;/g,"&").replace(/&?a\.ra=\d+/,""),n=(Math.random()+"").slice(2,11);b(e+(-1===e.indexOf("?")?"?":"&")+"a.ra="+n)},domain:"*.weborama.fr"},tns:{rqdPrms:"src",hitCntr:S,domain:"www.tns-counter.ru"},yaru:{rqdPrms:"id",hitCntr:function(t,n){var i,o,s,a=e["yaCounter"+t.id];a&&(n&&(i=n.url,o=n.title,s=n.referrer),s=s||r,a.hit(i,o,s))}},googl:function(){var t,n=e.ga,i=0;function o(t){var e=t.shift().split("."),i=e.length>1&&e[0];switch(e.pop()){case"_setAccount":n("create",t.shift(),{name:i}),t=null;break;case"_set":e.push("set"),t.unshift(e.join("."));break;case"_trackPageview":e.push("send"),t.unshift(e.join("."),"pageview");break;case"_setReferrerOverride":e.push("set"),t.unshift(e.join("."),"referrer");break;case"_trackEvent":e.push("send"),t.unshift(e.join("."),"event")}null!==t&&n.apply(null,t)}function s(){var t,i=e._gaq;if(n=e.ga,g(n,"function")){if(t={push:o},Array.isArray(i))for(var r=0;r<i.length;r++)o(i[r])}else t=e._gaq=i||[];return t}function a(e){var n,r=s();return g(t,"object")?n=t[e]:t={},n||(n="mrga"+i++,t[e]=n,r.push([n+"._setAccount",e])),n}return{rqdPrms:"id",hitCntr:function(t,e){var n=s(),i=a(t.id)||t.name||e&&e.name,o=e&&e.referrer||r;o&&n.push([i+"._setReferrerOverride",o]);var l=e&&e.url||"";0===l.indexOf("http")&&(l="/"+l.split("/").slice(3).join("/")),n.push([i+"._trackPageview",l])},hitEvent:function(t,e,n){var i=s(),r=a(t.id)||t.name,o=r+"._trackEvent";e.unshift(o),"function"==g(n)&&i.push([r+"._set","hitCallback",n]),i.push(e)}}}(),liru:{hitCntr:function(t,e){var o=e&&e.referrer||r,s=t&&t.domain?t.domain:"counter.yadro.ru",a=["/hit"],l=t.personal;l&&a.push(l);var c=["//"+s+a.join(";"),"?r"+encodeURIComponent(o),g(i,"undefined")?"":";s"+i.width+"*"+i.height+"*"+(i.colorDepth||i.pixelDepth),";u"+encodeURIComponent(e&&e.url||n.URL)+";"+Math.random()].join("");b(c)},domain:"counter.yadro.ru"}}}(e.navigator,e.document),T=(i=function(t,e){var n,i,r=!1;if(g(t,"function"))r=t(e);else for(n=t.split("|"),i=0;(t=n[i++])&&!(r=e.hasOwnProperty(t)););return r},function(t,e){var n,r,o,s=t in E;if(s&&(s=!("rqdPrms"in E[t])),!s)if(o=E[t].rqdPrms,Array.isArray(o))for(n=0;(r=o[n++])&&(s=i(r,e)););else s=i(o,e);return s}),C=function(t,e){var n=E[t],i=n&&n.nrmlzPrms;return g(i,"function")&&(e=i(e)),e},P=(r=/(\?|\/)/i,a=function(t){var e,n,i,o,s;for(var a in E)if(E.hasOwnProperty(a)&&(s=E[a].domain)&&(o=(e="*"!=s.charAt(0))?s:s.substr(1),n=t.indexOf(o),i=t.indexOf("//")+2,n>0&&(e?n==i:!r.test(t.slice(i,n)))))return a},o=["tagName",s="mr_counter","type"],l=function(t){for(var e,n=0;e=o[n++];)delete t[e];return t},function(t){var e,n,i,r,o,c,u,h,p,d=null,g=!1;if((e=f(t)).length)for(i=[],n=-1;r=e[++n];)o=r.substr(0,r.indexOf(">")+1),"!--"==(c=m(o)).tagName?c.hasOwnProperty(s)?(g=!0,d=n,u=c.type,h=l(c)):g&&c.hasOwnProperty("/"+s)&&(g=!1,p=e.slice(d+1,n).join("")):g||"img"==c.tagName&&c.hasOwnProperty("src")&&(u=a(c.src))&&(h=l(c)),!g&&h&&(u in E&&(T(u,h)||p&&T(u,h))&&(d?(e.splice(d,n-d+1),n=d):e.splice(n,1),n--,i.push({type:u,params:C(u,h)})),d=p=h=null);return i});function I(t,e){var n=E[t.type],i=n&&n.hitCntr;g(i,"function")&&i(t.params,e)}function A(t){var e=y[t];if(e){var n=e.url;!e.promise&&n&&(e.promise=new Promise((function(i,r){v({url:n,type:"GET",success:function(t){e.contents=P(t),i(t)},error:function(e){e&&404==e.status&&(y[t]=null),r()},complete:function(){e.promise=null}})})),e.promise.catch(w))}}var O,M=(O={"referrer,url":p.getAbs},function(t,e){var n,i=t.contents,r=0;for(e&&function(t){var e,n,i;if(g(t,"object"))for(var r in O)if(O.hasOwnProperty(r)&&g(i=O[r],"function"))for(var o=(e=r.split(/,\s?/)).length;o--;)t.hasOwnProperty(n=e[o])&&(t[n]=i(t[n]))}(e);n=i[r++];)I(n,e)});_(c("Instances",n),{cntrsCtrl:{add:function(){var t,e,n,i,r,o,s,a,l,c,u=arguments;if(i=r=!1,u.length){switch(g(l=u[0])){case"string":u.length>1?l in E&&g(n=u[1],"object")&&(r=!0,(a=[]).push({type:l,params:n})):d.test(l)?(i=!0,t=l):e=l;break;case"array":r=!0,a=l;break;default:return}if(r&&a.length)for(var h=0;h<a.length;h++)c=a[h],g(c,"object")&&T(s=c.type,n=c.params)?c.params=C(s,n):a.splice(h--,1);return(i&&t||r&&a.length||e)&&(o=y.push({url:i?t:null,contents:i?null:r?a:P(e)})-1,i&&A(o)),o}},hit:function(t,e){var n=y[t];n&&Promise.resolve(function(t){var e;return!(!(e=y[t])||!e.contents)}(t)||A(t)).then((function(){M(n,e)}))},hitEvent:function(t,e,n,i){var r;if(r=y[t]){for(var o,s,a=r.contents,l=null,c=a.length;c--;)if(a[c].type===e){l=a[c];break}null!==l&&(s=(o=E[l.type])&&o.hitEvent,g(s,"function")&&s(l.params,n,i))}}}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},85239:function(){!function(t,e,n){"use strict";var i=".js-counters",r=n.Instances.cntrsCtrl,o=n.Basic,s=o.typeOf,a=function(){var n,o,a={},l=(n=t.document,o=t.location,{"{url}":n.URL,"{relurl}":o.pathname+o.search,"{form}":"Заполнение формы","{click}":"Клик","{bclick}":"Клик по баннеру"});function c(t){var n="",i=e.querySelectorAll(t);if(Array.prototype.forEach.call(i,(function(t){n+=t.innerHTML})),n)return a[t]=r.add(n)}return{hitCntrsBlck:function(t,e){var n=a[e=e||i]||c(e);isNaN(n)||r.hit(n,t)},hitEvent:function(t,e,n,o){var u,h=a[o=o||i]||c(o);isNaN(h)||(u=function(t){for(var e,n=s(t,"string")?t.split(","):t,i=n.length;i--;)(e=n[i])in l&&(n[i]=l[e]);return n}(e),r.hitEvent(h,t,u,n))}}}();o.Extend(t.getNameSpace("Tools.Counters",n),a),o.Extend(t.getNameSpace("Comp.jQuery.Tools",n),a)}(window,window.document,window.ru.mail.cpf)},93488:function(){!function(t,e,n){var i,r,o,s=[],a=!1,l="//rs.mail.ru/d",c=/,\s?/g,u=n.Basic.moduleOpts,h=n.Basic.typeOf,p="rbmail",d=n.Basic.Extend,f=n.Tools.Layout,m={blocks:[],active:null,tm:null,total:{ids:[],times:[]},period:5e3,isWindowActive:!0};function g(t,n,i){var r,o=m.total.ids,s=m.total.times,a=!1;i!==w(n)?b():(~(r=o.indexOf(t))?s[r]+=m.period:(o.push(t),s.push(0),r=s.length-1,a=!0),n.cumulative&&!a?t({value:s[r]/1e3}):n.cumulative||t({goal:(a?"v_":"t_")+location.pathname.replace(/\/$/,""),value:a?1:m.period/1e3}),m.tm=e.setTimeout(g.bind(null,t,n,i),m.period))}function v(t,n){var i=t.counters[n];m.active!==i&&(m.active=i,e.clearTimeout(m.tm),g(i,t,n))}function _(){m.active=null,e.clearTimeout(m.tm)}function w(t){var n,i,r,o=f.getScroll().top,s=o+e.innerHeight/2,a=f.getClientRect(t.elem);if(a.height&&a.width)for(r=t.counters.length-1||1,i=a.height/r,n=a.top+o;r--;)if(n+i*r<=s&&s<=n+i*(r+1))return r;return-1}function y(){if(m.isWindowActive){var t=m.blocks.slice();t.reverse(),t.some((function(t){var e=w(t);return~e&&v(t,e),~e}))?I():_()}}var b=n.Basic.debounce(y,500),S=n.Basic.throttle(y,500);function E(t,n){var i=Array.isArray(t)?t[n]:t,r="rnd="+(Math.random()+"").substr(2);i?(new Image).src=[i,r].join(-1===i.indexOf("?")?"?":"&"):e.DEBUG&&e.console.log("Попытка запроса отсутствующего rb-счетчика")}function T(t,n,i){var r,o,s,a,l=i.jElem[0],c=i.counterParam,u=i.checkPos,p=!(0===l.offsetWidth&&0===l.offsetHeight),d=Array.isArray(c)&&c.length||1,f=d>1,m=!1,g=0;if(p)if(u){var v=l.getBoundingClientRect(),_=v.x+v.width/2,w=t.left,y=w+n.width;if(_>w&&_<y){var b=(l&&l.ownerDocument).documentElement;r=v.top+(e.pageYOffset||b.scrollTop)-(b.clientTop||0),o=t.top,s=t.top+n.height;for(var S=d;S--;)f&&null===c[S]?g++:(a=r,f&&(a+=l.offsetHeight/(d-1)*S),o<a&&a<s&&(h(c[S],"function")?c[S]({rnd:Math.random()}):E(c,S),f&&(c[S]=null),g++));m=g===d}}else m=!0,E(c,0);return m}function C(t,e,n){var i=0;if(n)return T.apply(null,arguments);if(s&&s.length)for(;n=s[i++];)!0===T.call(null,t,e,n)&&s.splice(--i,1)}function P(n,i){var r,o=this;s.some((function(t){return t.jElem[0]===o[0]}))||n&&(r={jElem:o,counterParam:n,checkPos:i},!0!==C({top:e.pageYOffset,left:e.pageXOffset},{width:e.innerWidth,height:e.innerHeight},r)&&(s.push(r),a||(t(e).on("scroll resize",(function(){m.isWindowActive=!0,C({top:e.pageYOffset,left:e.pageXOffset},{width:e.innerWidth,height:e.innerHeight}),b()})).on("blur",(function(){_(),m.isWindowActive=!1})).on("focus",(function(){m.isWindowActive=!0,b()})).on("click touchstart keydown mousemove",(function(){m.isWindowActive=!0,S()})),a=!0)))}var I=n.Basic.debounce((function(){_(),m.isWindowActive=!1}),3e4);t.fn.initVisibleCounter=function(e,n){return this.each((function(){P.call(t(this),e,n)}))},t.fn.initScrollCounter=function(e,n){return this.each((function(){var i=t(this),r=i[0].getAttribute(e);if(r){var o=r.split(c);!0===n&&(o=o.map((function(t){return t?[l,t,".gif"].join(""):""}))),1===o.length&&(o=o.pop()),P.call(i,o,!0)}}))},u.setParams("TrackBlocks",{initializer:function(t,e){var s,a;(i=i||n.Instances.cntrsCtrl.add,r=r||n.Instances.cntrsCtrl.hit,o=o||n.Instances.cntrsCtrl.hitEvent,t.counters)&&(h(t.counters,"string")&&(t.counters=t.counters.split(/\s*,\s*/).map((function(t){return{id:t}}))),h(t.counters,"array")&&(s=t.counters.map((function(n){return r.bind(e,i(t.counterType||p,n))})),P.call(e,s,!0),"topmail"===t.counterType&&t.duration&&(a=t.counters.map((function(n){var r={type:"reachGoal",goal:location.pathname.replace(/\/$/,"")},s=i(t.counterType||p,d(r,n));return o.bind(e,s,t.counterType||p)})),m.blocks.push({elem:e,cumalative:!!t.cumulative,counters:a}),b())))},paramAttrs:{counters:"data-counter-id",counterType:"data-counter-type"},options:{duration:!0}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},56478:function(){!function(t,e,n){var i=n.Tools.Counters.hitEvent;t(e.document).on("click",".js-track_click",(function(e){var n=t(e.currentTarget).attr("data-params")||"",r=n&&n.split(",");r&&(r.length<3&&r.unshift("{click}"),r.length>1&&i("googl",r))}))}(window.jQuery,window,window.ru.mail.cpf)},82245:function(){!function(t,e,n){var i,r,o,s,a,l,c,u,h,p,d,f,m,g,v,_,w,y,b,S=n.Basic,E=S.moduleOpts,T=S.Extend,C=S.typeOf,P=n.Comp,I=S.getConstructor((i=P.jQuery.Tools,r=i.getElements,o=i.toggleElemsVal,s=n.Comp.Methods.initCallbacks,a=n.Tools.initModule,l={cssSels:{Main:{Head:null,Message:null,CountdownCont:null,CountdownMsg:null,CountdownTime:null}},onHide:null},c=function(t,e){var n=this._Timers,i=t+1;!function t(){var r=0==--i;e.call(null,r,i),n.tick=r?null:setTimeout(t,1e3)}()},u={jHead:"head",jMessage:"message",jCountdownMsg:"countdown"},h=function(){var t=this._Elems,e={};for(var n in u)u.hasOwnProperty(n)&&(e[n]=t[n]);return e},p=function(t){var e,n,i=this._Elems,r=i.jPopupBlock,o={elems:{},keys:{}};for(e in t)t.hasOwnProperty(e)&&((n=i[e])||(i[e]=n=r.find(e)),o.elems[e]=n,o.keys[e]=e);return o},d=function(t){var e,n,i,r,s,a,l,c=t.extraElems,h=this._defaultTexts,d=this._Elems;for(var f in c?(i=p.call(this,c),e=T({},this._textElems,i.elems),u=T({},u,i.keys),delete(n=T({},t,c)).extraElems):(e=this._textElems,n=t),u)u.hasOwnProperty(f)&&(a=n[r=u[f]],l=d[f],null===a&&(n[r]=h[r]),(s=e[f])?s.toggle(C(a,"string")&&0!==a.length):l&&!l.is(d.jMessage)&&l.hide());o(e,n,u)},f=function(t){var e=this._Timers;t||(this._fire("hide"),e.tick&&(clearTimeout(e.tick),e.tick=null))},m=function(){var n,i=this._Elems.jPopupBlock,r=this._popupInstance;if(r)return r;if(n={onShow:f.bind(this,!0),onHide:f.bind(this,!1)},t.fn.Popup)e.DEBUG&&e.console.warn("Обнаружено старое подключение компонента.\t\t\t\t\t\tНеобходимо срочно сменить его на обычное, так как скоро старое перестанет работать"),this._popupInstance=r=i.Popup(n).data("_popupObj");else if(t.fn.inPopup)e.DEBUG&&e.console.warn("Обнаружено старое подключение компонента.\t\t\t\t\t\tНеобходимо срочно сменить его на обычное, так как скоро старое перестанет работать"),this._popupInstance=r=i.inPopup(n);else if(this._popupInstance=r=a("Popup",i,n),!this._popupInstance)throw new Error("Popup: no popup installed");return r},g=function(t){m.call(this).Toggle(t)},v=function(t,e){var n=this._Elems.jCountdownTime;t?g.call(this,!1):n&&n.text(e)},{_Init:function(t,e){var n,i,a;if(i=t.data("_notificationObj"))return i;e=T(!0,{},e,E.get("Notification")),this._Opts=n=T(!0,{},l,e),this._Elems=r(n.cssSels.Main,t,{jPopupBlock:t}),s.call(this,{Types:{hide:n.onHide}}),this._textElems=a=h.call(this),this._defaultTexts=o(a,null,u),this._Timers={}},Notify:function(t,e){var n=this._Elems.jCountdownCont,i=!isNaN(e);d.call(this,t),g.call(this,!0),n&&n.toggle(i),i&&c.call(this,e,v.bind(this))}})),A=(y=function(){var e,n,i,r;return _&&_.length||(e=E.get("Notify"))&&(n=e.blockSel||e.defBlockSel,i=e.blockTemplate,r=e.blockContSel,n?_=t(n):C(i,"function")&&r&&(_=t(i()).appendTo(r))),_},function(t,e,n){var i;w||(i=y())&&i.length&&(w=I(i)),w&&(C(n,"function")&&w.once("hide",n),w.Notify(t,e))});T(e.getNameSpace("Comp.jQuery.Tools",n),{Notification:I,Notify:A,notifyByKey:(b=n.Instances.stateObject,function(t,n,i){b&&t instanceof Array&&n instanceof Array&&t.length==n.length&&e.promisifiedDomEvents.ready.then((function(){for(var e,r=b.State(),o=!1,s=0;s<t.length;s+=1)if(e=t[s],r.hasOwnProperty(e)){r[e]=null,o=!0,A(n[s],i);break}o&&b.pushToState(r,!1,!0)}))})})}(window.jQuery,window,window.ru.mail.cpf)},26993:function(){!function(t,e,n){var i,r=t(e),o=t(e.document);n.Basic.Extend(e.getNameSpace("Comp.jQuery",n),(i={Elems:{jBody:null,jDoc:o,jWindow:r}},e.promisifiedDomEvents.ready.then((function(){i.Elems.jBody=t("body")})),i))}(window.jQuery,window,window.ru.mail.cpf)},37370:function(){!function(t,e,n){var i,r,o,s,a,l=e.getNameSpace,c=n.Basic,u=c.typeOf,h=Array.prototype,p=l("Comp.jQuery",n);c.Extend(p,(r=p.Elems.jWindow,o=["scroll","resize"],s=function(){var t,e=n.Comp.Tools.Callbacks,s=arguments,a=!u(s[0],"boolean")||h.shift.apply(s);if(u(e,"function")&&(a&&u(i,"undefined")&&(i=e({Types:o}),r.bind(o.join(" "),(function(t){var e=t.type;i.fire(e,[{top:r.scrollTop(),left:r.scrollLeft()},{height:r.height(),width:r.width()},e])}))),!u(i,"undefined")))for(var l=0;l<o.length;l++)u(t=arguments[l],"undefined")&&(t=arguments[l-1]),u(t,"function")&&i[a?"add":"remove"](o[l],t)},a={attach:s,detach:function(){h.unshift.call(arguments,!1),s.apply(null,arguments)}},{Tools:{getElements:function e(n,i,r){var o,s,a,l,c=/^in/i;for(var h in r=r||{},n)n.hasOwnProperty(h)&&(o=n[h],"string"==(s=u(o))&&o.length?r["j"+h.substr(0,1).toUpperCase()+h.substr(1)]=(a=i.find(o)).length?a:i.is(o)?i:null:"object"==s&&(l=r["j"+h.replace(c,"")])instanceof t&&l.length&&e(o,l,r));return r},winHndlrs:a,toggleElemsVal:function(t,e,n){var i,r,o,s;for(var a in e=e||{},t)t.hasOwnProperty(a)&&(i=t[a])&&i.length&&(r=i.is("input, select, textarea")?"val":"html",(o=e[s=n&&a in n?n[a]:a])?i[r](o):e[s]=i[r]());return e}}}))}(window.jQuery,window,window.ru.mail.cpf)},57897:function(){!function(t,e,n){"use strict";var i=document.documentElement;function r(){return document.body}n.Basic.Extend(!0,n,{Tools:{Layout:{getScroll:function(t){var n={top:0,left:0};return t&&"function"==typeof t.get&&"function"==typeof t.eq&&(t=t.get(0)),t!==document.body&&t?(n.top=t.scrollTop,n.left=t.scrollLeft):(n.top=e.pageYOffset||i.scrollTop||r().scrollTop,n.left=e.pageXOffset||i.scrollLeft||r().scrollLeft),n},setScroll:function(t,e){if(t){var n=r();e&&"function"==typeof e.get&&"function"==typeof e.eq&&(e=e.get(0)),isNaN(t.top)||(e&&e!==n?e.scrollTop=t.top:i.scrollTop=n.scrollTop=t.top),isNaN(t.left)||(e&&e!==n?e.scrollLeft=t.left:i.scrollLeft=n.scrollLeft=t.left)}},getClientRect:function(e){"function"==typeof e.get&&"function"==typeof e.eq&&(e=e.get(0));var n=e.getBoundingClientRect();return{left:n.left,top:n.top,width:n.width||t(e).width(),height:n.height||t(e).height()}}}}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},72599:function(t,e,n){var i=n(74933)(n(31112));!function(t){"use strict";var e=t.Basic.Extend,n=t.Types.String.Url.addParams,r=["data","url","type","dataType","traditional"],o=function(t){return"string"==typeof t||t instanceof FormData?t:function(t){return Object.keys(t).reduce((function(e,n){return e.append(n,t[n]),e}),new FormData)}(t)},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,a=t.type,l=void 0===a?"GET":a,c=t.url,u=t.data,h=t.dataType,p=t.traditional,d=null,f=null,m=c,g={};for(var v in h&&"json"!==h&&(d=function(t){return t.text()}),"GET"===l.toUpperCase()&&u&&(m=n(u,c,{traditional:p})),"POST"===l.toUpperCase()&&u&&(f=o(u)),t)r.indexOf(v)<0&&(g[v]=t[v]);return(0,i.default)(m,e({body:f,method:l},g),s||d)};e(!0,t,{Mixins:{transport:{transport:s}},Tools:{transport:s}})}(window.ru.mail.cpf)},82750:function(){!function(t,e){var n=e.Basic,i=n.typeOf,r=n.Extend,o=/\.([a-z]{3,4})$/i,s=/[^a-z]/i,a={flash:{exts:["swf"],canPreload:!1},pic:{exts:["jpe?g","png","gif"],canPreload:!0}};function l(t){return t in a}r(t.getNameSpace("Tools.Images",e),{preloadImage:function(t,e,n){var i,r,o=function(t,e){i&&(clearTimeout(i),i=null),r.onload=r.onerror=null,t(e)};e=isNaN(e)||null===e?5e3:e;var s=new Promise((function(s,a){(r=new Image).onload=o.bind(null,s,r),r.onerror=o.bind(null,a),i=e>0?setTimeout(r.onerror,e):null,r.src=t,n&&(r.srcset=n),setTimeout((function(){r.complete&&o(s,r)}),0)}));return s.catch((function(){})),s},canPreload:function(t){return l(t)&&!0===a[t].canPreload},isTypeCorrect:l,getImageTypeFromUrl:function(t){var e,n,r,l=null!==(e=t.match(o))&&e[1],c=null;if(l)for(var u in a)if(a.hasOwnProperty(u)){n=a[u].exts;for(var h=0;h<n.length;h++)if(i(r=n[h],"string")&&s.test(r)&&(n[h]=r=new RegExp("^"+r+"$","i")),i(r,"string")?r===l:r.test(l)){c=u;break}}return c},_addTypes:function(t){var e;for(var n in t)t.hasOwnProperty(n)&&(e=t[n],i(e,"object")&&e&&(a[n]=r(!0,{},e)))}})}(window,window.ru.mail.cpf)},6731:function(){!function(t,e){"use strict";(0,e.Basic.Extend)(!0,e,{Tools:{FuncTools:{multi:function(t){var e={},n=function(){var n=Array.prototype.slice.call(arguments,0),i=e[t.apply(this,n)];return i?i.apply(this,n):null};return n.method=function(t,n){return e[t]=n,this},n},curry:function(t){var e=t.length,n=function(){var i=Array.prototype.slice.call(arguments,0);return i.length<e?function(t,e){return function(){return e.apply(void 0,t.concat(Array.prototype.slice.call(arguments,0)))}}(i,n):t.apply(void 0,Array.prototype.slice.apply(arguments,[0,e]))};return n},invoke:function(t,e){var n=Array.prototype.slice.call(arguments,2);return t.map((function(t){return null==t?null:"function"==typeof t[e]?t[e].apply(t,n):null}))},pluck:function(t,e){return t.map((function(t){return null!=t?t[e]:void 0}))}}}})}(window,window.ru.mail.cpf)},89826:function(){!function(t,e){var n=e.Basic,i=t.getNameSpace("Instances",e),r=n.Extend,o=n.typeOf,s=n.Merge,a=e.Types,l=a.Object.Equals,c=a.String.Url.getParams,u=e.Comp.Methods.initCallbacks,h=t.history,p=t.location,d="state"in h&&h.state,f=n.getConstructor(function(){function e(t,e,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function n(t,e){e=e||this.State(),l(e,t)||this._fire("statechange",[e,t])}function a(){var t=p.hash,e=null;return t&&(t=t.substr("!"==t.charAt(1)?2:1),e=c(t)),this._State=e,e}var f=function(t){var e=t.state;if(d&&d!=e)d=null;else{var i=this.State();this._State=e||{},n.call(this,i)}};function m(){var t=this.State();a.call(this),n.call(this,t)}function g(){this.supportHistoryAPI&&e("popstate",t,f.bind(this)),"onhashchange"in t&&e("hashchange",t,m.bind(this))}function v(){var t,e,n,i,r=this.State(),s=[],a=!1;for(var l in delete r.__location,r)if(r.hasOwnProperty(l))if(t=r[l],a=i=!isNaN(l.substr(l.length-1)),o(t,"array")){n=[];for(var c=0;c<t.length;c++)null!==(e=t[c])?(a=a||isNaN(e),n.push(e)):(n.length&&s.push(l+(a?"=":"")+encodeURIComponent(n.join(","))),s.push(l),n=[],a=i);n.length&&s.push(l+(a?"=":"")+n.join(","))}else{if(null===t){delete r[l];continue}a=a||isNaN(t),s.push(l+(a?"=":"")+encodeURIComponent(t))}return"#"+s.join("&")}function _(t,e,n,i){h[!0===i?"replaceState":"pushState"](t,n||null,e||null)}function w(t,e){var n=this.supportHistoryAPI,i=o(t,"object"),r=!n||!(i&&!0!==t.url),s=null,a=null;n&&(r||(s=t.url),a=i&&t.title),r&&(s=v.call(this)),n?_(this.State(),s,a,e):p[e?"replace":"assign"](p.href.split("#")[0]+s)}return{_Init:function(){var t;if(i.stateObject)return i.stateObject;u.call(this,{Types:{statechange:{opts:{memory:1}}}}),(t=a.call(this))&&(d=t),n.call(this,null),g.call(this)},pushToState:function(t,e,i){var o=this.State(),a=this._State,l=t.__location,c=!0;if(!0===e)this._State=s(!0,a,t);else{for(var u in t)t.hasOwnProperty(u)&&(a&&a.hasOwnProperty(u)&&a[u]==t[u]||(c=!1));if(c)return;this._State=r(!0,a,t)}w.call(this,l,3==arguments.length&&i),n.call(this,o,a)},setStateKey:function(t,e,n,i){var r;o(t,"string")&&((r={})[t]=e,this.pushToState(r,n,i))},State:function(t,e,n){if(!o(t,"object"))return r(!0,{},this._State);this._State=t,!1!==e&&w.call(this,t.__location,!0!==n)},addBaseState:function(t){if(this.supportHistoryAPI&&!this._baseStateAdded){var e=this.State();for(var n in e)if(e.hasOwnProperty(n)){d&&!l(e,d)||(d=e,_(null,t||p.href.split("#").shift(),null,!0),w.call(this,e.__location),this._baseStateAdded=!0);break}}},supportHistoryAPI:!(!h||!h.pushState),back:function(){h.back()},forward:function(){h.forward()},go:function(t){h.go(t)}}}());i.stateObject=f()}(window,window.ru.mail.cpf)},99344:function(){!function(t,e,n,i){var r=n.Basic,o=n.Touch,s=r.typeOf,a=o&&o.Support||i,l=(a.touch||a.touchevents)&&(a.transition||a.csstransitions);function c(t,e,n){var r,o,s=a.transform3d||a.csstransforms3d,l={};return isNaN(t)||(r=["translate",s?"3d":"","(",t,"px,",e?e+"px":"0",s?",0":"",")"].join(""),o=i&&i.prefixed&&i.prefixed("transform")||a.prefix+"Transform",!0===n?(l.name=o,l.val=r):l[o]=r),l}function u(t,e,n){var i=Array.isArray(e)?e:[e],r=s(t,"number"),o=c(i[0],i[1],r||n);if(r&&(o.val=[o.val," ","scale(",t,")"].join(""),!n)){var a={};a[o.name]=o.val,o=a}return o}function h(t){return t?(t.split("(")[1]||"").match(/\d+\.*\d*/g).join():t}r.Extend(!0,n,{Touch:{Tools:{moveElems:function(t,e,n,i,r){var o,a,c,p,d=s(i,"string"),f=s(r,"function");l&&(o=t.length,c=o>1&&Array.isArray(e)&&o==e.length,d&&(a=function(){clearTimeout(p),t.removeClass(i),f&&r()},t.addClass(i),t.one("transitionend oTransitionEnd webkitTransitionEnd",(function(){--o||a()})),p=setTimeout(a,1e3)),t.each((function(t){var i=c?e[t]:e,r=Array.isArray(i),s=r&&3==i.length?i.pop():null;Array.isArray(n)&&(r||(i=[i]),i=function(t,e){for(var n,i,r,o=[],s=t.length;s--;){n=t[s];for(var a=(r=e[s]).length;a--;)i=r[a],(1==a?n>i:n<i)&&(n=i+(n-i)/5);o[s]=n}return o}(i,n[t]));var l,p,f=u(s,i,!0);d&&1===o&&(l=this.style[f.name],p=f.val,h(l)==h(p))?d&&a():this.style[f.name]=f.val})),!d&&f&&r())},getTranslateWithScale:u,getTranslate:c}}})}(window.jQuery||window.$,window,window.ru.mail.cpf,window.Modernizr)},91222:function(t,e,n){"use strict";var i=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},r=function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(81272),e)},41878:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LazyBlock=void 0;var n=0,i=function(){function t(t,e){this.width=0,this.height=0,this.xPercent=0,this.yPercent=0,this.handlingMovesInViewport=!1,this.isImmortal=!1;var i=e.attrs,r=i.src,o=i.type,s=e.loadCopiesForTypes,a=t.getAttribute(o)||"",l=-1!==s.indexOf(a),c=t.getAttribute(r)||"";this.elem=t,this.state=0,this._id="lazyBlock_"+n++,this._src=l?c:"",this.type=a}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return this._src},enumerable:!1,configurable:!0}),t}();e.LazyBlock=i},81272:function(t,e,n){"use strict";var i,r=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.LazyItem=void 0;var s=n(83816),a=n(33456),l=n(79316),c=n(51511),u=n(41878),h=n(41458),p=["ready","pending","complete","error"],d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._pendingAF=!1,e._immortalsLazyBlocks=[],e._lazyBlocks={},e}return r(e,t),e.prototype.getViewportScroll=function(){var t=this.options.getScroll;return"function"==typeof t?t(this._viewport):c.getScroll(this._viewport)},e.prototype.destroy=function(){var t=this._viewport;window.removeEventListener("scroll",this._scrollHandler),window.removeEventListener("resize",this._resizeHandler),window.removeEventListener("load",this._resizeHandler),t.removeEventListener("documentHeightChange",this._resizeHandler),t.removeEventListener("lazyItemReset",this._resizeHandler),t!==document.body&&t.removeEventListener("scroll",this._scrollHandler),clearTimeout(this._resetTimeout),delete this._resetTimeout,delete this._viewport,delete this._content,delete this._lazyElems,delete this._lazyBlocks},e.prototype.getDefaultOptions=function(){return l.getDefaultOptions.call(this)},e.prototype.getInitialState=function(){var t=h.getWinSize();return{isInitRequired:!1,viewportRect:{height:0,left:0,top:0,width:0},winHeight:t.height,winWidth:t.width}},e.prototype.init=function(){var t=this.getElements("viewport")[0]||document.body;this._viewport=t,this._content=this.getElements("content")[0]||t,this._scrollHandler=a.debounce(this._scrollHandler.bind(this),100),this._reset=a.debounce(this._reset.bind(this),100),this._resizeHandler=a.debounce(this._resizeHandler.bind(this),100),window.addEventListener("resize",this._resizeHandler),window.addEventListener("load",this._resizeHandler),window.addEventListener("scroll",this._scrollHandler),t.addEventListener("documentHeightChange",this._scrollHandler),t.addEventListener("lazyItemReset",this._resizeHandler),t!==document.body&&t.addEventListener("scroll",this._scrollHandler),this._reset()},e.prototype._scrollHandler=function(){this.getState().isInitRequired&&this._recalculateBlocks(),this._requestAF(this._checkBlocks.bind(this))},e.prototype._resizeHandler=function(){this._reset()},e.prototype._reset=function(){var t,e=this,n=this.options,i=n.triggerZone,r=h.getWinSize(),o=this._viewport===document.body?{top:0,left:0,width:r.width,height:r.height}:c.getRect(this._viewport);Object.assign(o,{scrollHeight:this._content.scrollHeight,scrollWidth:this._content.scrollWidth,triggerHeight:i*o.height,triggerWidth:i*o.width}),this.setState((function(t){return Object.assign(t,{isInitRequired:!0,viewportRect:o,winHeight:r.height,winWidth:r.width})})),this._lazyElems=this.getElements("block"),this._rawLazyBlocks=this._lazyElems.map((function(t){var i=e.options.attrs.id,r=t.getAttribute(i);if(r&&e._lazyBlocks[r])return e._lazyBlocks[r];var o=new u.LazyBlock(t,n);return r=o.id,t.setAttribute(i,r),e._lazyBlocks[r]=o,o})),(t=this._rawLazyBlocks).push.apply(t,this._immortalsLazyBlocks),this._recalculateBlocks(),window.clearTimeout(this._resetTimeout),this._resetTimeout=window.setTimeout(this._reset.bind(this),this.options.resetDelay)},e.prototype._recalculateBlocks=function(){var t=this.getState().viewportRect,e=this.getViewportScroll(),n=this._rawLazyBlocks.splice(0,50);window.clearTimeout(this._recalcTimeout),n.forEach((function(n){var i=c.getRect(n.elem),r=i.left-t.left,o=r+i.width,s=i.top-t.top,a=s+i.height;n.widthIn=r-t.width+e.left,n.widthOut=o+e.left,n.heightIn=s-t.height+e.top,n.heightOut=a+e.top,n.viewState=0,n.width=i.width,n.height=i.height})),this._rawLazyBlocks.length?this._recalcTimeout=window.setTimeout(this._recalculateBlocks.bind(this),30):this.setState((function(t){return t.isInitRequired=!1,t})),this._requestAF(this._checkBlocks.bind(this))},e.prototype._checkBlocks=function(){var t=this,e=this._lazyBlocks,n=this.getState().viewportRect,i=this.getViewportScroll(),r=this._getOutdent();Object.keys(e).forEach((function(o){var s=e[o];if(t._checkBlockVisibility(s)){var a=s.widthIn-r.right,l=s.widthOut+r.left,c=s.heightIn-r.bottom,u=s.heightOut+r.top,p=i.left>=a&&i.left<=l&&i.top>=c&&i.top<=u,d=n.triggerWidth||0,f=n.triggerHeight||0,m=p||l<=d&&i.left+d>=a&&i.left-d<=l&&i.top+f>=c&&i.top-f<=u,g=!(3&~s.viewState),v=!(1&~s.viewState);if(s.viewState=p?3:m?1:0,p){if(!g){var _=s.src;t._viewportEnter(s).then((function(){return t._showCopies(_)}))}s.handlingMovesInViewport&&(s.xPercent=h.calcScrollPercent(i.left,a,l),s.yPercent=h.calcScrollPercent(i.top,c,u),t._viewportMove(s))}else g&&(s.handlingMovesInViewport&&(s.xPercent=i.left<a?0:100,s.yPercent=i.top<c?0:100,t._viewportMove(s)),t._viewportLeave()),m!==v&&(m?t._triggerZoneEnter(s):t._triggerZoneLeave())}}))},e.prototype._showCopies=function(t){if(t){var e=this._lazyBlocks;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.src!==t||i.viewportEnter||this._viewportEnter(i)}}},e.prototype._initBlock=function(t){return t.initBlock||(t.initBlock=this._getActionPromise("init",t)),t.initBlock},e.prototype._triggerZoneEnter=function(t){var e=this;return t.triggerZoneEnter?t.triggerZoneEnter:this._initBlock(t).then((function(){return t.triggerZoneEnter||(t.triggerZoneEnter=e._getActionPromise("triggerZoneEnter",t).catch((function(){return e._complete(t,!1,null)})),t.state=1,e._toggleState(t)),t}))},e.prototype._triggerZoneLeave=function(){return Promise.resolve()},e.prototype._viewportEnter=function(t){var e=this;return t.viewportEnter?t.viewportEnter:this._triggerZoneEnter(t).then((function(n){var i=e._getActionPromise("viewportEnter",t,n);return t.viewportEnter=i,t.state=2,e._toggleState(t),i.then((function(n){return e._complete(t,!0,n)}),(function(){return e._complete(t,!1,null)})),i}))},e.prototype._viewportMove=function(t){var e=this.options.types[t.type].viewportMove;"function"==typeof e&&e.call(this,t)},e.prototype._viewportLeave=function(){return Promise.resolve()},e.prototype._complete=function(t,e,n){t.state=e?2:3;var i=this.options.types[t.type];if(t.isImmortal&&e){this._immortalsLazyBlocks.push(t);var r=i?i.getElement:null,o="function"==typeof r?r.call(this,n,t):null;o&&(t.elem=o)}else delete this._lazyBlocks[t.id];if(this._toggleState(t),t.elem.removeAttribute("data-mp-el"),this._checkBlockSize(t),e){var s=i?i.complete:null;"function"==typeof s&&s.call(this,t)}},e.prototype._getActionPromise=function(t,e){for(var n=this,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var s=this.options,a=s.types[e.type][t],l=s.onBlockChange,c="function"==typeof a?a.apply(this,o([e],i)):i,u=Promise.resolve(c);return"function"==typeof l&&u.then((function(){return l.call(n,t,e)})),u},e.prototype._checkBlockVisibility=function(t){var e=this.options.checkVisibility;if("function"==typeof e){var n=e(t);return!n&&window.DEBUG&&console.log("Кастомный checkVisibility определил блок, как невидимый",t),n}var i=t.elem.offsetParent;return void 0!==i?!!i:"IMG"===t.elem.tagName||"rbslot"===t.type||!!t.width&&!!t.height},e.prototype._toggleState=function(t){var e=this.options.cssMods;p.forEach((function(n,i){e[n]&&t.elem.classList[i===t.state?"add":"remove"](e[n])}))},e.prototype._getOutdent=function(){var t,e=this.getState();if(this._viewport===document.body)t={left:0,right:0,top:0,bottom:0};else{var n=c.getRect(this._viewport);t={bottom:Math.max(0,n.top+n.height-e.winHeight),left:Math.max(0,-n.left),right:Math.max(0,n.left+n.width-e.winWidth),top:Math.max(0,-n.top)}}return t},e.prototype._checkBlockSize=function(t){var e=c.getRect(t.elem);if(e.width!==t.width||e.height!==t.height){var n=document.createEvent("HTMLEvents");n.initEvent("resize",!0,!1),window.dispatchEvent(n)}},e.prototype._requestAF=function(t){var e=this;this._pendingAF||(window.requestAnimationFrame((function(){t(),e._pendingAF=!1})),this._pendingAF=!0)},e.registryName="LazyItem",e}(s.DOMComponent);e.LazyItem=d,s.registerComponent(d)},37214:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.background=void 0;var i=n(41458),r=function(t){return t.triggerZoneEnter?t.triggerZoneEnter:i.preloadImage(t.elem.getAttribute(this.options.attrs.src)).then((function(e){return t.elem.style.backgroundImage="url('"+e.src+"')",t}))};e.background={triggerZoneEnter:r,viewportEnter:r}},20326:function(t,e,n){"use strict";var i=function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},r=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},o=function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.contentroll=void 0;var s,a,l=n(24046),c=function(){return window.innerWidth-document.documentElement.clientWidth},u=(s=["article__item_html","article__item_keyphrase","article__item_text","article__item_aligate","article__item_anchor","article__item_picture","article__item_quote","article__item_gallery"],function(t,e,n){var i=t.classList,r=t.clientHeight,o=t.parentElement,a=o?o.offsetTop+o.clientHeight-t.offsetTop:r;return{isAllowed:i.contains(e)&&s.some((function(t){return i.contains(t)}))&&function(t){return!(t.matches(".article__item_html")&&["h2","h3","h4"].some((function(e){return t.querySelector(e)})))}(t),isAllowedHeight:r>n,targetHeight:r,isAllowedBottomHeight:a>n}}),h=function(){if(!a){var t=document.createElement("div"),e=document.createElement("img"),n=e.style;n.width="0",n.height="0",n.visibility="hidden",n.position="absolute",e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",t.appendChild(e),a={elem:t,pixel:e}}return a},p=function(t,e){var n=t.getBoundingClientRect(),i=n.bottom,r=n.left,o=c();return i+window.scrollY<e?Promise.resolve(!1):new Promise((function(e){var n=h();f(n.elem,t),window.requestAnimationFrame((function(){var t=n.pixel.getBoundingClientRect().left,i=r-function(t){var e=0;if(0===t){var n=c();e=Number((n/2).toFixed(1))}return e}(o);n.elem.parentNode&&n.elem.parentNode.removeChild(n.elem),e(i===t)}))}))};function d(t){return r(this,void 0,void 0,(function(){var e,n,i,r,s,a,l,c,u,h,d,f,m,g,v,_,w,y,b,S,E,T,C,P;return o(this,(function(o){switch(o.label){case 0:e=t.bottomEdge,n=t.checkForProperTarget,i=t.itemSelector,r=t.minPartViewPortTargetHeight,s=t.pageEndInsertLimitationBottomHeight,a=t.pageEndInsertLimitation,l=t.target,c=0,u=i.slice(1),h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),d=h*r,o.label=1;case 1:return l?(m=null,g=n(l,u,d-c),v=g.isAllowed,_=g.isAllowedHeight,w=g.targetHeight,v?_?[4,p(l,e)]:[3,3]:[3,5]):[3,7];case 2:if(o.sent()){if(f)return l=f,[3,7];if(m=l.nextElementSibling,y=function(t,e,n){var i=!1;if(t&&e&&n){var r=t.parentElement;(r?r.offsetTop+r.clientHeight-t.offsetTop:0)>n&&(i=!0)}return{isAllowedPageEnd:e,isAllowedPageEndBottomHeight:i}}(m,a,s),b=y.isAllowedPageEnd,S=y.isAllowedPageEndBottomHeight,!m)return b&&(l=null),[3,7];if(b&&!S)return l=null,[3,7];if(E=n(m,u,d),T=E.isAllowed,C=E.isAllowedHeight,P=E.isAllowedBottomHeight,T){if(C)return[3,7];f=m&&!P?m:l}}return[3,4];case 3:c+=w,o.label=4;case 4:return[3,6];case 5:c=0,f=null,o.label=6;case 6:return l=m||l.nextElementSibling,[3,1];case 7:return[2,l]}}))}))}var f=function(t,e){var n=e.parentNode;t&&n&&(e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t))};e.contentroll={params:{checkForProperTarget:u,minPartViewPortTargetHeight:0,selArticleItem:".article__item",template:function(t){var e="article__item article__item_alignment_left article__item_slot article__item_slot_contentroll",n=t.id,i="";if(n){window.console.warn("mpf-component-lazy-item: Проекту лучше бы перейти на подключение ct-шаблона для контент-ролла!");var r='data-mp-el="LazyBody.block" data-lazy-block-type="cpfModules" style="visibility: hidden"',o=t.attrs&&t.attrs["data-brandsafety"];i='<div class="'+e+'"><textarea '+r+">&lt;div class=&quot;js-module&quot; data-module=&quot;SlotModel&quot; data-view=&quot;SlotView."+n+"&quot; data-id=&quot;"+n+"&quot; siteid=&quot;"+t.siteid+"&quot; sitezone=&quot;"+t.sitezone+"&quot; data-brandsafety=&quot;"+o+"&quot;&gt;&lt;/div&gt;</textarea></div>"}else if(t.targetModule){i='<div class="'+e+'" '+(r='data-mp-el="LazyBody.block" data-lazy-block-type="rbslotContent" data-lazy-block-target='+t.targetModule+" data-lazy-block-is-global-target="+(t.isGlobalTarget||""))+"></div>"}else{i='<div class="'+e+'" '+(r='data-mp-el="LazyBody.block" data-lazy-block-type="rbslot" data-lazy-block-src='+t)+"></div>"}return i}},init:function(t){var e,n=this,s=this.options,a=s.types.contentroll.params,c=a.selArticleItem,u=a.template,h=a.checkForProperTarget,m=a.minPartViewPortTargetHeight,g=a.pageEndInsertLimitationBottomHeight,v=void 0===g?150:g,_=a.pageEndInsertLimitation,w=void 0!==_&&_,y=Math.max(document.documentElement.clientHeight,window.innerHeight||0),b={checkForProperTarget:h,itemSelector:c,minPartViewPortTargetHeight:m,pageEndInsertLimitationBottomHeight:v,pageEndInsertLimitation:w},S=t.elem,E=Math.max(S.getBoundingClientRect().top+.5*y,1.25*y)+window.scrollY,T=S.querySelector(c),C=y,P=Promise.resolve(T),I=[];try{var A=(JSON.parse(S.getAttribute(s.attrs.json)||"{}")||{}).contentroll;e="slot"in A?A.slot:A.url,Array.isArray(e)||(e=[e])}catch(t){e=[],console.error(t)}var O=function(t,e){return r(n,void 0,void 0,(function(){var n,i,r;return o(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve(u).then((function(t){return t(e)}))];case 1:return(n=o.sent())?((i=document.createElement("div")).innerHTML=n,r=i.firstChild,f(r,t),setTimeout((function(){return l.triggerCustomEvent("lazyItemReset",S,{bubbles:!0})}),0),[2,r]):[2,null]}}))}))};return e.forEach((function(t){return r(n,void 0,void 0,(function(){var e=this;return o(this,(function(n){return P=P.then((function(n){return r(e,void 0,void 0,(function(){var e,r;return o(this,(function(o){switch(o.label){case 0:return n?[4,d(i({bottomEdge:E,target:n},b))]:[2,null];case 1:return(e=o.sent())?[4,O(e,t)]:[2,null];case 2:return(r=o.sent())&&I.push(r),E=(r||e).getBoundingClientRect().bottom+C+window.scrollY,[2,e]}}))}))})),[2]}))}))})),P.then((function(){return r(n,void 0,void 0,(function(){var t,n,s,a,l,u;return o(this,(function(h){switch(h.label){case 0:return I.length?[3,2]:(t=e[0],n=S.querySelectorAll(c),s=n[n.length-1],[4,(d=i({bottomEdge:E=0,target:s},b),r(void 0,void 0,void 0,(function(){var t,e,n,i,r,s,a;return o(this,(function(o){switch(o.label){case 0:t=d.bottomEdge,e=d.itemSelector,n=d.checkForProperTarget,i=e.slice(1),r=d.target,s=null,o.label=1;case 1:return r?(a=null,n(r,i,0).isAllowed?[4,p(r,t)]:[3,3]):[3,4];case 2:if(o.sent()){if(s=r,!(a=r.previousElementSibling))return r=null,[3,4];if(n(a,i,0).isAllowed)return[3,4]}o.label=3;case 3:return r=r.previousElementSibling,[3,1];case 4:return[2,{target:r,firstAllowedTarget:s}]}}))})))]);case 1:a=h.sent(),l=a.target,(u=a.firstAllowedTarget)&&Boolean(l)&&O(u,t),h.label=2;case 2:return[2]}var d}))}))})).then((function(){return t}))}}},70650:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cpfModules=void 0;var n=window.jQuery||window.$,i=window.ru.mail.cpf.Tools.initModules,r=function(t){return t.triggerZoneEnter?t.triggerZoneEnter:new Promise((function(e){var r,o,s,a=t.elem,l=a.parentNode,c=document.createDocumentFragment(),u=document.createElement("div");u.innerHTML="TEXTAREA"===a.nodeName&&a instanceof HTMLTextAreaElement?a.value.replace(/__text_area__/g,"textarea"):a.innerHTML,Array.prototype.slice.call(u.children).forEach((function(t){c.appendChild(t.cloneNode(!0))})),i(n(c)),o=c,(s=(r=a).parentNode)&&(s.insertBefore(o,r),s.removeChild(r)),window.requestAnimationFrame((function(){!function(t){void 0===t&&(t=window);var e=document.createEvent("HTMLEvents");e.initEvent(t==window?"resize":"documentHeightChange",!0,!1),t.dispatchEvent(e)}(l)})),e(t)}))};e.cpfModules={triggerZoneEnter:r,viewportEnter:r}},26297:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.embed=void 0;var i=n(67883),r=function(t){var e=this.options.types.embed.options;return t.triggerZoneEnter||i.activateEmbeds([t.elem],e)[0]};e.embed={triggerZoneEnter:r,viewportEnter:r}},84011:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.img=void 0;var i=n(41458),r=function(t){return t.triggerZoneEnter?t.triggerZoneEnter:i.preloadImage(t.elem.getAttribute(this.options.attrs.src)).then((function(e){var n=t.elem;return n.src!==e.src&&(n.src=e.src),t}))};e.img={triggerZoneEnter:r,viewportEnter:r}},10760:function(t,e,n){"use strict";var i=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},r=function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(37214),e),r(n(20326),e),r(n(26297),e),r(n(84011),e),r(n(70650),e),r(n(84042),e),r(n(73418),e),r(n(52361),e)},84042:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.picture=void 0;var n=function(t){var e=this;return t.triggerZoneEnter?t.triggerZoneEnter:new Promise((function(n,i){for(var r=t.elem.childNodes,o=function(t){var n=r.item(t),i=["srcset"];"IMG"===n.nodeName&&i.unshift("src"),i.forEach((function(t){var i=n.getAttribute(t),r=n.getAttribute(e.options.attrs[t]);i&&i!==r&&n.setAttribute(t,r)}))},s=0;s<r.length;s++)o(s);n(t)}))};e.picture={triggerZoneEnter:n,viewportEnter:n}},73418:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rbslot=void 0;var n=function(t){void 0===t&&(t={});var e=t.target,n=t.scripts;if(e&&n&&n.length){var i=document.createDocumentFragment();n.forEach((function(t){var e=document.createElement("script"),n=!1;t.src?(e.src=t.src,n=!0):"textContent"in t&&(e.textContent=t.textContent,n=!0);var r=t.parentNode;r&&r.removeChild(t),n&&(e.type="text/javascript",i.appendChild(e))})),e.appendChild(i)}};e.rbslot={triggerZoneEnter:function(t){var e=t.elem,i=e.getAttribute(this.options.attrs.src);return(i?fetch(i,{credentials:"include",mode:"cors"}).then((function(t){return t.json()})).then((function(t){void 0===t&&(t=[]);var n=t[0]&&t[0].html;if(n)return e.innerHTML=n,{scripts:Array.from(e.querySelectorAll("script")),target:e}})).then(n):Promise.resolve()).then((function(){return t}))}}},52361:function(t,e,n){"use strict";var i=n(74933)(n(75903));Object.defineProperty(e,"__esModule",{value:!0}),e.rbslotContent=void 0;var r=window.jQuery||window.$,o=window.promisifiedDomEvents.loaded;e.rbslotContent={triggerZoneEnter:function(t){var e=this;return t.triggerZoneEnter?t.triggerZoneEnter:new Promise((function(n,s){var a,l=t.elem,c=e.options.attrs,u=c.target,h=c.isGlobalTarget,p=l.getAttribute(u),d=l.getAttribute(h),f='.js-module[data-view*="'+p+'"]';(a=d?r(window.document).find(f):r(l).parents(f))||s(),o.then((function(){var e=a.data("SlotView");e&&void 0!==(0,i.default)(e.renderTo)?(e.renderTo(l),n(t)):s()}))}))}}},79316:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultOptions=void 0;var i=n(10760);e.getDefaultOptions=function(){return{attrs:{id:"data-lazy-block-id",json:"data-lazy-block-json",src:"data-lazy-block-src",srcset:"data-lazy-block-srcset",target:"data-lazy-block-target",isGlobalTarget:"data-lazy-block-is-global-target",type:"data-lazy-block-type"},cssMods:{complete:"m-lazy-item_complete",error:"m-lazy-item_error",pending:"m-lazy-item_pending"},loadCopiesForTypes:["background","img","picture"],resetDelay:3e5,triggerZone:.5,types:i}}},51511:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRect=e.setScroll=e.getScroll=void 0;var n=document.documentElement;function i(){return document.body}e.getScroll=function(t){var e={top:0,left:0};return t!==document.body&&t?(e.top=t.scrollTop,e.left=t.scrollLeft):(e.top=window.pageYOffset||n.scrollTop||i().scrollTop,e.left=window.pageXOffset||n.scrollLeft||i().scrollLeft),e},e.setScroll=function(t,e){if(t){var r=i();isNaN(t.top)||(e&&e!==r?e.scrollTop=t.top:n.scrollTop=r.scrollTop=t.top),isNaN(t.left)||(e&&e!==r?e.scrollLeft=t.left:n.scrollLeft=r.scrollLeft=t.left)}},e.getRect=function(t){var e=t.getBoundingClientRect();return{height:e.height||t.offsetHeight,left:e.left,top:e.top,width:e.width||t.offsetWidth}}},41458:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAbsOffset=e.calcScrollPercent=e.getWinSize=e.preloadImage=void 0,e.preloadImage=function(t,e){return void 0===e&&(e=3e4),t?new Promise((function(n,i){var r,o=new Image,s=function(){delete o.onload,delete o.onerror,i()},a=function(){clearTimeout(r),n(o)};o.onload=function(){return a()},o.onerror=s,r=setTimeout(s,e),o.src=t,setTimeout((function(){o.complete&&a()}),0)})):Promise.reject(new TypeError("src is required"))},e.getWinSize=function(){return{height:window.innerHeight,width:window.innerWidth}},e.calcScrollPercent=function(t,e,n){if(e>=n)return 0;var i=Math.round(100*(t-e)/(n-e));return Math.max(1,Math.min(i,99))},e.getAbsOffset=function(t){for(var e=0,n=0,i=t;i&&i!==document.body;)e+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent;return{left:e,top:n}}},51336:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dataBinder=void 0;var i=n(5114),r=n(96796),o=n(28093),s=n(8934);function a(t,e){return t.split(e).map((function(t){return t.trim()}))}function l(t,e){var n=new RegExp(e+"\\"+o.COMPONENT_DATA_BIND_DEF_DELIMITER,"g");return t.replace(n,"")}function c(t,e){return function(n){if(t in s.DOM_ELEMENT_PROPERTIES)n[t]=e;else if(t in s.DOM_ELEMENT_ATTRIBUTES)switch(s.DOM_ELEMENT_ATTRIBUTES[t]){case s.MPFAttributeType.BOOLEAN:e?n.setAttribute(t,t):n.removeAttribute(t);break;case s.MPFAttributeType.STRING:n.setAttribute(t,e)}else n.setAttribute(t,e)}}e.dataBinder=function(t,e){var n=new i.Collector(t,e);return function(t,e,i){e((function(){for(var e=n.group(t.$,t.alias),s=0,u=Object.keys(e);s<u.length;s++)for(var h=u[s],p=0,d=a(l(h,t.alias),o.COMPONENT_DATA_BIND_PROP_DELIMITER);p<d.length;p++){var f=a(d[p],o.COMPONENT_DATA_BIND_EQ),m=f[0],g=f[1];if("function"!=typeof t[g])r.print.warn("Method '"+g+"' not found in '"+t.alias+"' for key '"+h+"'");else{var v=e[h],_=t[g].bind(t)(i());v.forEach(c(m,_))}}}))}}},99009:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.eventsBinder=void 0;var i=n(28093),r=["focus","blur"];e.eventsBinder=function(t,e){var n={};return function(o){for(var s=function(t){for(var e={},n=0,r=Object.keys(t);n<r.length;n++){var o=r[n],s=o.split(i.COMPONENT_EVENT_DELIMITER),a=s[0],l=s[1];e[a]||(e[a]=[]);var c={name:l,handler:t[o]};e[a]=e[a].concat(c)}return e}(o),a=function(i){var o=function(n){for(var r=0,o=s[i];r<o.length;r++){var a=o[r],l=a.name,c=a.handler,u=n.target;if(null===u)return;for(var h=e(l);u!==t;){if(-1!==h.indexOf(u))return void c(n);u=u.parentNode}}},a=-1!==r.indexOf(i);t.addEventListener(i,o,a),n[i]={unbind:function(){t.removeEventListener(i,o)}}},l=0,c=Object.keys(s);l<c.length;l++){a(c[l])}return function(){for(var t=0,e=Object.keys(n);t<e.length;t++){var i=e[t];n[i].unbind(),delete n[i]}}}}},19594:function(t,e,n){"use strict";var i=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},r=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(51336),e),r(n(99009),e)},56294:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var i=n(86751),r=n(96796),o=n(48764),s=n(45860),a=!1;e.init=function(t){return new Promise((function(e,n){return a?(r.print.warn("MPF is already started"),e()):(t&&s.applicationSettings.update(t),a=!0,o.resolveConfigSetters().then((function(t){var n=function(){r.print.info("MPF init. Env: production"),i.initAllComponents(document.body),e()};"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n)})))}))}},13583:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Component=void 0;var i=n(10205),r=n(28093),o=n(83498),s=0,a=function(){function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),this._ns=t,this._id=++s,this._options=i.deepMerge({},this.getDefaultOptions(),e),this._initialState=i.deepMerge({},this.getInitialState(),n)}return t.prototype.init=function(){},t.prototype.getDefaultOptions=function(){return{}},t.prototype.getInitialState=function(){return{}},Object.defineProperty(t.prototype,"alias",{get:function(){var t=this.constructor;return this._alias||t.registryName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this._ns?""+this.alias+r.COMPONENT_NS_DELIMITER+this._ns:this.alias},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identity",{get:function(){return""+this.ns+r.COMPONENT_NS_DELIMITER+this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.getState()},enumerable:!1,configurable:!0}),t.prototype.setState=function(t){return this._store.put(t)},t.prototype.getState=function(){return this._store.read()},t.prototype.update=function(t,e){},t.prototype.canDispatch=function(){return!o.Store.hasEntity(this.identity)},t.prototype.dispatchStore=function(t,e){this.shouldUpdate(t,e)&&this.update(t,e)},t.prototype.shouldUpdate=function(t,e){return!0},t.prototype.reset=function(){this._store.destroy(),this.dispatch(this._alias)},t.prototype.preDispatch=function(){},t.prototype.postDispatch=function(){},t.prototype.dispatch=function(t){return this.canDispatch()&&(this._alias=t,this._store=new o.Store(this.identity,this._initialState,this.dispatchStore.bind(this)),this.preDispatch(),this._store.dispatch(),this.postDispatch(),this.init()),this},t}();e.Component=a},32544:function(t,e,n){"use strict";var i,r=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DOMComponent=e.DOMBind=e.DOMEvent=void 0;var o=n(13583),s=n(19594),a=n(5114),l=n(96796),c=n(28093),u=n(8934);e.DOMEvent=function(t){return function(t,e,n){}},e.DOMBind=function(t,e,n){};var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._events={},e}return r(e,t),Object.defineProperty(e.prototype,"$",{get:function(){if(!this._$root)throw new Error(l.format('Component "'+this.identity+'" not mounted').error().str());return this._$root},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$elements",{get:function(){return this._collector.group(this.$,this.alias)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){null!==this._unbindEvents&&(this._unbindEvents(),this._unbindEvents=null),t.prototype.reset.call(this)},e.prototype.getElements=function(t){return this._collector.elements(this.$,t,this.alias)},e.prototype.mount=function(t){return this._$root||(this._$root=t),this},e.prototype.preDispatch=function(){var t,e=this;this._collector=new a.Collector((t=this.alias,"["+u.DOM_DATA_COMPONENT_EL_ATTR+'*="'+t+c.COMPONENT_EL_DELIMITER+'"]'),u.DOM_DATA_COMPONENT_EL_ATTR);var n=s.eventsBinder(this.$,(function(t){return e._collector.elements(e.$,t,e.alias)}));this._unbindEvents=n(this._events);var i=s.dataBinder(function(t){return"["+u.DOM_DATA_COMPONENT_BIND_ATTR+'*="'+t+c.COMPONENT_DATA_BIND_DEF_DELIMITER+'"]'}(this.alias),u.DOM_DATA_COMPONENT_BIND_ATTR);i(this,this._store.bind.bind(this._store),this.getState.bind(this))},e.prototype.postDispatch=function(){l.print.groups("Component ("+this.identity+")",{$:[this.$,this.$elements],options:[this.options],state:[this.getState()]})},e}(o.Component);e.DOMComponent=h},85872:function(t,e,n){"use strict";var i=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},r=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.DOMComponent=void 0;var o=n(32544);Object.defineProperty(e,"DOMComponent",{enumerable:!0,get:function(){return o.DOMComponent}}),r(n(51008),e)},51008:function(t,e,n){"use strict";var i,r=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TemplateComponent=e.resolveTemplate=void 0;var o=n(32544),s=n(96796),a=n(45860),l={},c=function(t,e,n){return t+"/"+e+"/"+e+n},u=function(t){return t+".xml"};function h(t,e){var n=e||{},i=a.applicationSettings.getState(),r=i.templatesPath,o=i.templatesNS,h=i.templatesExt;if(!r)throw new Error(s.format('Invalid application settings: "templatesPath"').error().str());if(!o)throw new Error(s.format('Invalid application settings: "templatesNS"').error().str());var p=n.getName,d=n.getPath,f="function"==typeof p?p(t):u(t),m="function"==typeof d?d(r,t,h):c(r,t,h);if(l[m])return l[m];var g=new Promise((function(t,e){var n=window[o];if(n&&n[f])return t(n[f]);var i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=m,i.addEventListener("load",(function(){n&&n[f]?t(n[f]):e(new Error(s.format('Unable to read template "'+f+'"').error().str()))})),i.addEventListener("error",(function(){e(new Error(s.format('Unable to load template from "'+f+'"').error().str()))})),document.head.appendChild(i)}));return l[m]=g,g.then((function(t){return delete l[m],t}))}e.resolveTemplate=function(t,e){return function(){return"function"==typeof t?(n=t,Promise.resolve(n)):"string"==typeof t?h(t,e):Promise.reject(new Error(s.format("Invalid template").error().str()));var n}};var p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),(0,this.options.template)().then((function(t){var e=i.getState();i.render(t,e)})).catch((function(t){s.print.warn(t.message)}))},n.prototype.render=function(t,e){var n=t(e);this.$.innerHTML=n},n.getTemplate=e.resolveTemplate,n}(o.DOMComponent);e.TemplateComponent=p},48764:function(t,e,n){"use strict";var i=function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getConfigCollapsed=e.setConfig=e.getConfig=e.resolveConfigSetters=void 0;var r=n(10205),o=n(28093),s={},a=[];function l(t){return i({},s[t])}e.resolveConfigSetters=function(){return new Promise((function(t){for(var e=0,n=a;e<n.length;e++){(0,n[e])()}t(i({},s))}))},e.getConfig=l,e.setConfig=function(t,e){var n=function(){s[t]=i({},e)};return a.push(n),n},e.getConfigCollapsed=function(t){for(var e=t.split(o.COMPONENT_NS_DELIMITER),n=e[0],i={},s=0,a=e.slice(1);s<a.length;s++){var c=a[s];i=r.deepMerge({},i,l(n)),n=""+n+o.COMPONENT_NS_DELIMITER+c}return r.deepMerge({},i,l(n))}},28093:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COMPONENT_DATA_BIND_PROP_DELIMITER=e.COMPONENT_DATA_BIND_EQ=e.COMPONENT_DATA_BIND_DEF_DELIMITER=e.COMPONENT_EL_DELIMITER=e.COMPONENT_NS_DELIMITER=e.COMPONENT_EVENT_DELIMITER=e.COMPONENT_DELIMITER=void 0,e.COMPONENT_DELIMITER=",",e.COMPONENT_EVENT_DELIMITER=":",e.COMPONENT_NS_DELIMITER=".",e.COMPONENT_EL_DELIMITER=".",e.COMPONENT_DATA_BIND_DEF_DELIMITER="|",e.COMPONENT_DATA_BIND_EQ="=",e.COMPONENT_DATA_BIND_PROP_DELIMITER=";"},8934:function(t,e){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.DOM_ELEMENT_PROPERTIES=e.DOM_ELEMENT_ATTRIBUTES=e.MPFAttributeType=e.MPFProperty=e.DOM_DATA_COMPONENT_BIND_ATTR=e.DOM_DATA_COMPONENT_STATE_ATTR=e.DOM_DATA_COMPONENT_EL_ATTR=e.DOM_DATA_COMPONENT_NAME_ATTR=e.DOM_DATA_COMPONENT_SEL=void 0,e.DOM_DATA_COMPONENT_SEL="[data-mp]",e.DOM_DATA_COMPONENT_NAME_ATTR="data-mp",e.DOM_DATA_COMPONENT_EL_ATTR="data-mp-el",e.DOM_DATA_COMPONENT_STATE_ATTR="data-mp-state",e.DOM_DATA_COMPONENT_BIND_ATTR="data-mp-bind",function(t){t[t.STRING=0]="STRING",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMERIC=2]="NUMERIC"}(n=e.MPFProperty||(e.MPFProperty={})),function(t){t[t.STRING=0]="STRING",t[t.BOOLEAN=1]="BOOLEAN"}(i=e.MPFAttributeType||(e.MPFAttributeType={})),e.DOM_ELEMENT_ATTRIBUTES={required:i.BOOLEAN,checked:i.BOOLEAN,disabled:i.BOOLEAN,selected:i.BOOLEAN},e.DOM_ELEMENT_PROPERTIES={alt:n.STRING,id:n.STRING,name:n.STRING,innerHTML:n.STRING,src:n.STRING,style:n.STRING,textContent:n.STRING,title:n.STRING,for:n.STRING,value:n.STRING,colspan:n.NUMERIC,height:n.NUMERIC,maxlength:n.NUMERIC,rowspan:n.NUMERIC,width:n.NUMERIC}},86248:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DevToolsExtension=void 0;var n="function"==typeof __REDUX_DEVTOOLS_EXTENSION__;var i=function(){function t(){var t=this;this.subscriptions={},n&&(this.devTools=__REDUX_DEVTOOLS_EXTENSION__.connect(),this.devTools.subscribe((function(e){if("DISPATCH"===e.type&&"JUMP_TO_STATE"===e.payload.type)for(var n=0,i=Object.keys(t.subscriptions);n<i.length;n++){var r=i[n];t.subscriptions[r](e)}})))}return t.prototype.subscribe=function(t,e){var n="handler_"+t;this.subscriptions[n]||(this.subscriptions[n]=e)},t.prototype.send=function(t,e){n&&this.devTools&&this.devTools.send(t,e)},t.prototype.remove=function(t){delete this.subscriptions["handler_"+t]},t}();e.DevToolsExtension=i},41785:function(t,e,n){"use strict";var i=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},r=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(86248),e)},96796:function(t,e){"use strict";var n=function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.print=e.format=e.FormatDescriptor=void 0;var i=console&&console.groupCollapsed&&console.groupEnd&&console.log&&!1,r=function(){function t(t){var e=new Date;this.state={messages:t,prefix:"["+e.getHours()+":"+a(e.getMinutes())+":"+a(e.getSeconds())+"]",icon:"🤖"}}return t.prototype.toArray=function(){var t=this.state,e=t.icon,i=t.prefix,r=t.messages;return n([e,i],r)},t.prototype.str=function(){return this.toArray().join(" ")},t.prototype.prefix=function(t){return this.state.prefix=t,this},t.prototype.log=function(){return this.state.icon="🤖",this},t.prototype.info=function(){return this.state.icon="💁‍♂️",this},t.prototype.error=function(){return this.state.icon="💩",this},t.prototype.warn=function(){return this.state.icon="😢",this},t.prototype.icon=function(t){return this.state.icon=t,this},t}();function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new r(t)}function s(t,e){var r;return void 0===e&&(e=[]),i?(r=Function.prototype.bind).call.apply(r,n([console[t],console],e)):function(){}}function a(t){return(t>9?"":"0")+t}e.FormatDescriptor=r,e.format=o,e.print={log:s("log",o().log().toArray()),info:s("info",o().info().toArray()),warn:s("warn",o().warn().toArray()),error:s("error",o().error().toArray()),groups:function(t,e){if(i){console.groupCollapsed(o(t).str());for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];console.groupCollapsed(s),console.log.apply(console,e[s]),console.groupEnd()}console.groupEnd()}}}},86751:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initAllComponents=e.initComponents=void 0;var i=n(10205),r=n(713),o=n(28093),s=n(8934),a=n(96796),l=n(48764);function c(t){var e=function(t){var e=t.getAttribute(s.DOM_DATA_COMPONENT_STATE_ATTR)||"{}";try{return JSON.parse(e)||{}}catch(t){return a.print.warn('Unable to parse data "'+e+'"'),{}}}(t);try{t.removeAttribute(s.DOM_DATA_COMPONENT_STATE_ATTR)}catch(t){a.print.warn('Unable to remove "'+s.DOM_DATA_COMPONENT_STATE_ATTR+'" attribute from node')}return e}function u(t,e){var n=function(t){var e=/^([\w\.]+)\s+as\s+(\w+)$/gm.exec(t);return null!==e?{name:e[1].trim(),alias:e[2].trim()}:{name:t.trim(),alias:null}}(e),s=n.name.split(o.COMPONENT_NS_DELIMITER),u=s[0],h=s.slice(1),p=l.getConfigCollapsed(n.name),d=r.getComponent(u);if(void 0===d)return a.print.warn("Component '"+u+"' was not found"),null;var f=c(t)[u]||{},m=i.deepMerge({},p.initialState,f.state),g=i.deepMerge({},p.options,f.options);return new d(h.join(o.COMPONENT_NS_DELIMITER),g,m).mount(t).dispatch(n.alias||u)}function h(t){var e=t.getAttribute(s.DOM_DATA_COMPONENT_NAME_ATTR);if(!e)return[];for(var n=[],i=0,r=e.split(o.COMPONENT_DELIMITER);i<r.length;i++){var a=u(t,r[i]);null!==a&&n.push(a)}return n}e.initComponents=h,e.initAllComponents=function(t){if(!t)throw new Error("$root element not found");var e=t.querySelectorAll(s.DOM_DATA_COMPONENT_SEL),n=Array.prototype.slice.call(e);t.getAttribute(s.DOM_DATA_COMPONENT_NAME_ATTR)&&n.unshift(t);for(var i=[],r=0,o=n;r<o.length;r++){var a=h(o[r]);i=i.concat(a)}return i}},45860:function(t,e,n){"use strict";var i=function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.applicationSettings=e.ApplicationSettings=void 0;var r=n(83498),o={templatesExt:".xml.js",templatesPath:"/bem",templatesNS:"fest"},s=function(){function t(){this._store=new r.Store("MPF_GLOBAL",o,this.dispatchStore.bind(this)),this._store.dispatch()}return t.prototype.dispatchStore=function(){},t.prototype.getState=function(){return this._store.read()},t.prototype.update=function(t){this._store.put((function(e){return i(i({},e),t)})),this._store.dispatch()},t}();e.ApplicationSettings=s,e.applicationSettings=new s},83816:function(t,e,n){"use strict";var i=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]},r=function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.initAllComponents=e.registerComponent=e.setConfig=e.init=void 0;var o=n(56294);Object.defineProperty(e,"init",{enumerable:!0,get:function(){return o.init}});var s=n(48764);Object.defineProperty(e,"setConfig",{enumerable:!0,get:function(){return s.setConfig}});var a=n(713);Object.defineProperty(e,"registerComponent",{enumerable:!0,get:function(){return a.registerComponent}});var l=n(86751);Object.defineProperty(e,"initAllComponents",{enumerable:!0,get:function(){return l.initAllComponents}}),r(n(85872),e)},713:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponent=e.registerComponent=void 0;var i=n(96796),r={};e.registerComponent=function(t){var e=t.registryName;if(!e){var n=function(t){return(t.toString().match(/function (\w*)/)||[])[1]}(t);throw new Error(i.format('Static property "registryName" is not defined for component "'+n+'"').error().str())}if(e in r)throw new Error(i.format("Component with name '"+e+"' is already registered").error().str());i.print.log('Registering "'+e+'"'),r[e]=t},e.getComponent=function(t){return r[t]}},56912:function(t,e,n){"use strict";var i,r=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=void 0;var o=function(t){function e(){var e=t.call(this)||this;return e.emit("ready"),e}return r(e,t),e}(n(76295).EventEmitter);e.Emitter=o},83498:function(t,e,n){"use strict";var i=function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Store=void 0;var r=n(96796),o=n(56912),s=n(41785),a={},l=new o.Emitter;new s.DevToolsExtension;function c(t){for(var e={},n={},i=0,r=Object.keys(t);i<r.length;i++){var o=r[i];"@"===o.charAt(0)?e[o]=t[o]:n[o]=t[o]}return{component:n,shared:e}}var u=function(){function t(t,e,n){this._id=t,this._events=[],this._EVENT_CHANGE="CHANGE:"+t,this._EVENT_INIT="INIT:"+t;var i=c(e).component;a[t]?r.print.warn("'"+t+"' is already connected"):(this.bind(n),a[t]=i,l.emit(this._EVENT_INIT,a[t]))}return t.hasEntity=function(t){return t in a},t.prototype.destroy=function(){var t=this;this._events.forEach((function(e){l.removeListener(t._EVENT_CHANGE,e)})),delete a[this._id]},t.prototype.dispatch=function(){l.emit(this._EVENT_CHANGE,a[this._id])},t.prototype.put=function(t){var e=this.read(),n=t(this.read()),i=c(e).component,r=c(n).component,o=Object.keys(i),s=Object.keys(r);0===o.length&&0===s.length||(a[this._id]=r,l.emit(this._EVENT_CHANGE,r,e))},t.prototype.read=function(){var t=a[this._id];return i({},t)},t.prototype.bind=function(t){this._events.push(t),l.on(this._EVENT_CHANGE,t)},t}();e.Store=u},5114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Collector=void 0;var i=n(28093),r=function(){function t(t,e){this.elSel=t,this.attrSel=e}return t.prototype.getName=function(t,e){var n=t.getAttribute(this.attrSel);return"string"==typeof n&&e?n.replace(""+e+i.COMPONENT_EL_DELIMITER,""):n},t.prototype.group=function(t,e){for(var n={},i=t.querySelectorAll(this.elSel),r=0,o=Array.prototype.slice.call(i);r<o.length;r++){var s=o[r],a=this.getName(s,e);null!==a&&(n[a]||(n[a]=[]),n[a]=n[a].concat(s))}return n},t.prototype.elements=function(t,e,n){var i=this,r=t.querySelectorAll(this.elSel);return Array.prototype.slice.call(r).filter((function(t){return i.getName(t,n)===e}))},t}();e.Collector=r},46232:function(t,e,n){"use strict";var i=n(74933)(n(75903));Object.defineProperty(e,"__esModule",{value:!0}),e.classNames=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],o=0,s=e;o<s.length;o++){var a=s[o];if(a){var l=(0,i.default)(a);if("string"===l||"number"===l)r.push(""+a);else if(Array.isArray(a))r=r.concat(t.apply(void 0,a));else for(var c=0,u=Object.keys(a);c<u.length;c++){var h=u[c];a[h]&&r.push(""+h)}}}return r}},35821:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={bubbles:!1,cancelable:!1,composed:!1};e.triggerCustomEvent=function(t,e,i){var r;void 0===i&&(i={}),i=Object.assign({},n,i);try{r=new Event(t,i)}catch(e){var o=i.bubbles,s=i.cancelable;(r=document.createEvent("Event")).initEvent(t,o,s)}e.dispatchEvent(r)}},81414:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(25707);function r(t){return Array.from(t.elements).reduce((function(t,e){var n=e,r=n.name,o=n.nodeName,s=n.type,a=n.checked,l=null!==e.getAttribute("disabled"),c=/^(?:input|select|textarea|keygen)/i.test(o),u=/^(?:submit|button|image|reset|file)$/i.test(s),h=a||!/^(?:checkbox|radio)$/i.test(s);if(r&&!l&&c&&!u&&h){var p=i.getValue(e);if(null===p)return t;if(Array.isArray(p)){var d=p.map((function(t){return{name:r,value:t.replace(/\r?\n/g,"\r\n")}}));return t.concat(d)}return t.concat({name:r,value:(p||"").replace(/\r?\n/g,"\r\n")})}return t}),[])}e.serializeArray=r,e.serializeObject=function(t){for(var e={},n=0,i=r(t);n<i.length;n++){var o=i[n];e[o.name]||(e[o.name]=[]),e[o.name]=e[o.name].concat(o.value)}return e},e.serializeStr=function(t){return r(t).map((function(t){var e=t.name,n=t.value;return encodeURIComponent(e)+"="+encodeURIComponent(null===n?"":n)})).join("&")}},24046:function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(46232)),i(n(81414)),i(n(25707)),i(n(16263)),i(n(35821))},15940:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeName=function(t,e){return!!t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}},16263:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getText=function t(e){var n,i=e.nodeType,r="",o=0;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=t(e)}else if(3===i||4===i)return e.nodeValue}else for(;n=e[o++];)r+=t(n);return r},e.stripAndCollapse=function(t){return(t.match(/[^\x20\t\r\n\f]+/g)||[]).join(" ")}},25707:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15940),r=n(16263),o={option:{getVal:function(t){var e=t.getAttribute("value");return null!==e?e:r.stripAndCollapse(r.getText(t))}},select:{getVal:function(t){for(var e=[],n=t.selectedIndex,r="select-one"===t.type,o=r?n+1:t.options.length,a=n<0?o:r?n:0;a<o;a++){var l=t.options[a],c=l.selected||a===n,u=l.disabled,h=l.parentNode,p=h.disabled,d=i.isNodeName(h,"optgroup");if(c&&!u&&(!p||!d)){var f=s(l);if(r)return f;e.push(f)}}return e},setVal:function(t,e){for(var n,i=[e],r=t.options.length;r--;){var s=t.options[r];(s.selected=-1!==i.indexOf(o.option.getVal(s)))&&(n=!0)}return n||(t.selectedIndex=-1),i}}};function s(t){var e,n=t.nodeName.toLowerCase(),i=o[n];return i&&void 0!==(e=i.getVal(t))?e:"string"==typeof(e=t.value)?e.replace(/\r/g,""):null===e?void 0:e}e.getValue=s,e.setValue=function(t){throw new Error("to be done")}},39299:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multi=function(t){var e={},n=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.apply(void 0,n),o=e[r];if(o)return o.apply(void 0,n);throw new Error('Method "'+r+'" does not exist')};return n.method=function(t,i){if(t in e)throw new Error('Method "'+t+'" already exists');return e[t]=i,n},n},e.curry=function(t){if("function"!=typeof t)throw new Error("Not a function");var e=t.length,n=function(){for(var i,r,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return o.length<e?(i=o,r=n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.apply(void 0,i.concat(t))}):t.apply(void 0,o.slice(0,e))};return n}},8885:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=function(t,e,n){void 0===e&&(e=100),void 0===n&&(n=!1);var i=null;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==i?clearTimeout(i):n&&t.apply(void 0,r),i=setTimeout((function(){n||t.apply(void 0,r),i=null}),e)}}},33456:function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(39299)),i(n(8885)),i(n(6702))},6702:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=function(t,e){var n;void 0===e&&(e=100);var i=null;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=Date.now();n&&s<n+e?(null!==i&&clearTimeout(i),i=setTimeout((function(){n=s,t.apply(void 0,r)}),e)):(null!==i&&(clearTimeout(i),i=null),n=s,t.apply(void 0,r))}}},10205:function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),i(n(12425)),i(n(69942))},12425:function(t,e,n){"use strict";var i=n(74933)(n(75903));Object.defineProperty(e,"__esModule",{value:!0});e.deepMerge=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r,o={},s=0,a=e;s<a.length;s++){var l=a[s];if("object"===(0,i.default)(l)&&null!==l)for(var c=0,u=Object.keys(l);c<u.length;c++){var h=u[c],p=l[h];if(p instanceof Date){var d=new Date;d.setTime(p.getTime()),o[h]=d}else p instanceof RegExp?o[h]=new RegExp(p):Array.isArray(p)?o[h]=Array.prototype.concat.call([],p):null==(r=p)||"object"!==(0,i.default)(r)||r instanceof Promise?o[h]=p:o[h]=t(o[h],p)}}return o}},69942:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIn=function(t,e){var n=function(e,i){if(0===i.length)return e!==t?e:null;var r=e[i[0]];return null==r?null:n(r,i.slice(1))};return n(t,e)},e.setIn=function(t,e,n){var i=function(t,e,n){return 1===e.length?(t[e[0]]=n,t[e[0]]):(null!==t[e[0]]&&void 0!==t[e[0]]||(t[e[0]]=t[e[0]]||{}),i(t[e[0]],e.slice(1),n))};return i(t,e,n),t}},89289:function(t,e){var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.ready=e.loaded=void 0;var r="DOMContentLoaded",o="load",s=e.ready="undefined"!=typeof window&&(null===(n=window.promisifiedDomEvents)||void 0===n?void 0:n.ready)||new Promise((function(t,e){if("undefined"==typeof window&&e(),"loading"===window.document.readyState){var n=function(){window.document.removeEventListener(r,n),t()};window.document.addEventListener(r,n)}else t()})),a=e.loaded="undefined"!=typeof window&&(null===(i=window.promisifiedDomEvents)||void 0===i?void 0:i.loaded)||new Promise((function(t,e){if("undefined"==typeof window&&e(),"complete"!==window.document.readyState){var n=function(){window.removeEventListener(o,n),t()};window.addEventListener(o,n)}else t()}));"undefined"!=typeof window&&(window.promisifiedDomEvents={ready:s,loaded:a})},19327:function(){!function(t,e,n){"use strict";var i=e.DEBUG,r=n.Basic,o=r.Extend,s=n.Basic.moduleOpts.get,a=n.Tools.loadSlot,l=r.getView(function(){var e=function(){var t,e,n,i=this._opts,r=this._elems,a=(t=i.bannerParams.moduleName,e=t.split("."),n="",e.reduce((function(t,e){return t=o(!0,t||{},s(e=n+e)),n=e+".",t}),{}));return{slot:i.bannerParams.id,template:i.bannerParams.template,parent:r.parent,container:r.parent,failTimeout:a.failTimeout,instanceIdAttr:a.instanceIdAttr,slotParams:o(!0,{sz:i.bannerParams.sitezone||a.slot.sitezone||"",region:a.slot.region||"",siteId:a.slot.siteId||""},i.bannerParams.slotParams),mimic:a.mimic}};function n(t){var e=this._elems.block;(e||{}).length?(e.toggleClass(this._opts.cssClss.show,t),this._trigger(t?"show":"hide")):i&&console.log("Не найден блок со слотом")}function r(){var t;n.call(this,!1),(t=this._state.pixelClose)&&((new Image).src=t),this._trigger("close")}function l(){var t=this._opts,e=this._state,r=t.timers,o=parseInt(r.show)||0,s=parseInt(r.hide)||0,a=n.bind(this,!0);e.inited&&!e.started&&(o>0?setTimeout(a,o):a(),s&&(isNaN(parseInt(s))?i&&console.warn("Неверно указано время задержки для скрытия попапа"):setTimeout(n.bind(this,!1),s+o)),e.started=!0)}function c(e){e.preventDefault();var n=t(e.currentTarget);this._state.pixelClose=n.attr(this._opts.attrs.closeUrl),r.call(this)}return{_Events:["show","hide","close","slotAdded","slotEmpty","slotData","move"],_Handlers:{pubsub:{adqSlotData:function(t){var e=t.data||{},n=this._state;n.inited&&!n.started&&n.slotId==e.slot&&this._trigger("slotAdded")},adqSlotEmpty:function(t){var e=t.data,n=this._state;n.inited&&n.slotId==e.slot&&this._trigger("slotEmpty")}}},_Init:function(){var n=this._elems,r=this._opts,o=r.cssSels,s=r.canShowOnInit,u=r.bannerParams;if(u.id&&u.template){var h=this._state={slotId:u.id,pixelClose:null};("function"!=typeof s||s.call(this))&&(h.inited=!0,a(e.call(this)).then(function(e){if(this._trigger("slotData",e),e){if(n.block=n.parent.find(o.block),r.moveToWrapper){var i=(n.wrapper=t(o.wrapper)||{}).length?n.wrapper:document.body;n.block.appendTo(i),this._trigger("move")}n.block.on("click",o.close,c.bind(this)),l.call(this)}}.bind(this)))}else i&&console.log("В настроках модуля не указаны необходимые опции")}}}(),{cssSels:{wrapper:".js-promo-popup__wrapper",block:".js-promo-popup",close:".js-promo-popup__close"},cssClss:{show:"m-promo-popup_shown"},attrs:{closeUrl:"data-close-pxl-url"},timers:{hide:1e4,show:0},bannerParams:{moduleName:"Slot",id:null,template:null,slotParams:null},canShowOnInit:null,moveToWrapper:!0},null,"PromoPopup");o(!0,n,{Modules:{PromoPopup:l}})}(window.jQuery||window.$,window,window.ru.mail.cpf)},76988:function(t,e,n){var i=n(74933),r=i(n(72051)),o=i(n(54036));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}!function(){"use strict";var t={d:function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Model:function(){return S},View:function(){return E},version:function(){return d}});var n="PushNotificationsModel",i="PushNotificationsView",s="".concat(n,":nextTime"),l="".concat(n,":unsubscribed"),c="skipNotificationsTo",u={isEnabled:!0,timeMarkDelta:864e5,getInstance:function(){throw new Error('"push-notifications" not found')},useLocalStorageTimemark:!1},h={template:null,triggerArea:.33,cssSels:{button:".js-push-notifications__button",statusLabel:".js-push-notifications__status",Main:{statusTooltip:".js-push-notifications__switch-tooltip"}},cssClss:{tooltipShown:"tooltip_shown"},allowedActions:["subscribe","unsubscribe","defer","toggle"],timeouts:{initialization:5e3,updateHeight:1e3,statusTooltip:5e3},getStatusText:function(t,e,n){var i=e.attr(n.attrs.textPushOn)||"",r=e.attr(n.attrs.textPushOff)||"";return t.isSubscribed?i:r},styles:{tooltip:function(){return{position:"fixed",zIndex:9999,top:-10,left:75}}},attrs:{index:"data-action",textPushOn:"data-push-on",textPushOff:"data-push-off"}},p={TIMEMARK_HAS_BEEN_SET:{message:"Временная отметка",code:"time_mark"},TIMEMARK_DELTA_INVALID:{message:"Некорректное значение метки"},CPF_NOT_FOUND:{message:"CPF is not found"},INVALID_TEMPLATE:{message:"".concat(i,": invalid template")},INVALID_TRIGGER_AREA:{message:"".concat(i,": invalid triggerArea options")},INVALID_ACTION:{message:"".concat(i,": invalid action")}},d="7.6.0",f=window.localStorage;function m(){return"".concat(s,":").concat(d)}function g(){var t=window.document.cookie.match(/s_cp=([^;]*)/),e=t?t[1]:"";return e?e.split("|"):[]}function v(t){var e,n=m();if(t)e=f.getItem(n);else{var i=g();i=i.filter((function(t){return t.indexOf(c)>-1})),e=i.length&&i[0].split("=")[1]}return parseInt(e,10)}function _(t){var e=m(),n=v(t);return t&&f.removeItem(e),Promise.resolve(n)}function w(t,e,n){var i=new Date;return function(){var t=m(),e=Object.keys(f).filter((function(e){return 0===e.indexOf(s)&&e!==t})).reduce((function(t,e){return f.removeItem(e),a(a({},t),{},(0,o.default)({},e,f.getItem(e)))}),{});return Promise.resolve(e)}().then((function(){var r=v(e),o=i.getTime(),s=o+t;return new Promise((function(t,e){n?t(0):null==r||o>r?t(s):e(p.TIMEMARK_HAS_BEEN_SET)}))}))}function y(t,e){return null==t?Promise.reject(new Error(p.TIMEMARK_DELTA_INVALID.message)):_(e).then((function(){return w(t,e)})).then((function(t){return function(t,e){if(e){var n=m();f.setItem(n,t)}else{var i=g();i=i.filter((function(t){return-1===t.indexOf(c)})),i.push("skipNotificationsTo=".concat(t)),function(t){if(t&&t.length){var e=-1===window.location.hostname.indexOf("devmail")?".mail.ru":".devmail.ru";window.document.cookie="s_cp=".concat(t.join("|"),";path=/;domain=").concat(e,";max-age=31536000")}}(i)}}(t,e),t}))}function b(t){t?f.setItem(l,"1"):f.removeItem(l)}var S=function(t,e,i){if(null==e)throw new Error(p.CPF_NOT_FOUND.message);var o=e.Basic.getModel,s=function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return function(){for(var s,a,l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];if(i){var h=["".concat(n,"[").concat(t,"]")].concat(c);switch(o){case"error":case"warn":(s=console).warn.apply(s,(0,r.default)(h));break;default:(a=console).info.apply(a,(0,r.default)(h))}}e._trigger.apply(e,[t].concat(c))}},a=function(t,e){var n=s.bind(this),i=this.isEnabled(),r=this._opts,o=r.timeMarkDelta,a=r.useLocalStorageTimemark;!i&&e.isSubscribed?t.unsubscribe():i&&w(o,a).then((function(){var t={browserPermission:"granted"===Notification.permission,userPermission:!f.getItem(l)};n("ready")(Object.assign({},e,{permission:t})),function(t,e){if(!e){var n=window.navigator.permissions;n&&n.query({name:"notifications"}).then((function(n){var i=n;i.onchange=function(){"denied"===i.state&&y(t,e)}}))}}(o,a)})).catch(n("error","warn"))},c=null;return o({_Events:["ready","change","error","subscribe","unsubscribe"],isEnabled:function(){return this._opts.isEnabled},_Init:function(){if(null===c){var t=s.bind(this),e=this._opts.getInstance;(c=e()).on("change",t("change")),c.on("subscribe",t("subscribe")),c.on("unsubscribe",t("unsubscribe")),c.on("ready",a.bind(this)),c.on("error",t("error","error"))}},ready:function(){return c.ready()},toggle:function(){var t=this;return _().then((function(){return c.ready()})).then((function(t){return t.toggle()})).then((function(e){var n=e.getState();return b(!n.isSubscribed),n.isSubscribed?e:t.defer().then((function(){return e}))}))},subscribe:function(){var t=s.bind(this),e=this._opts;return w(e.timeMarkDelta,e.useLocalStorageTimemark,!0).then((function(){return _().then((function(){return c.ready()})).then((function(t){var e=t.getState();return b(!1),e.isSubscribed?t:t.subscribe()}))})).catch(t("error","warn"))},unsubscribe:function(){return this.defer().then((function(){return c.ready()})).then((function(t){var e=t.getState();return b(!0),e.isSubscribed?t.unsubscribe():t}))},clear:function(){return _().then((function(){return c.ready()}))},defer:function(){var t=this._opts.timeMarkDelta,e=s.bind(this);return y(t,this._opts.useLocalStorageTimemark).catch(e("error","warn"))}},u,null,n)}(window,window.ru.mail.cpf,window.DEBUG),E=function(t,e,r){if(null==r)throw new Error(p.CPF_NOT_FOUND.message);var o=r.Basic.Constructors.getView,s=r.Basic.debounce,a=r.Basic.moduleOpts.setParams,l=r.Tools.FuncTools.multi,c=null,u=function(){var t=this._state,e=t.inited,n=t.scrolled;e&&n&&this.showDialog()},d=function(){var n=this._state._timers,i=n.updateHeight,r=n.initScroll;i&&clearTimeout(i),r&&clearTimeout(r),t(e).off("scroll.push")},f=function(e){var n=this._opts.template,i=this._opts.styles.tooltip,r=n(e),o=t(r);return"function"==typeof i&&o.css(i.call(this,e)),o},m=function(t){var e=this._elems.statusTooltip,n=this._opts.cssClss.tooltipShown;c&&(clearTimeout(c),c=null),e&&e.toggleClass(n,!!t)},g=l((function(t){if(-1===this._opts.allowedActions.indexOf(t))throw new Error("".concat(p.INVALID_ACTION.message," (").concat(t,")"));return this.hideDialog(),t})).method("defer",(function(){return this._model.defer()})).method("subscribe",(function(){return this._model.subscribe()})).method("unsubscribe",(function(){return this._model.unsubscribe()})).method("toggle",(function(){var t=this;return this._model.ready().then((function(e){m.call(t,!1),e.getState().isSubscribed?t._model.unsubscribe():(d.call(t),t.showDialog())}))})),v=function(e){var n=this,i=this._opts.getStatusText,r=this._opts.cssSels.statusLabel;this._elems.parent.find(r).toArray().forEach((function(r){var o=t(r),s=i(e,o,Object.assign({},n._opts));o.html(s)}))},_=function(){var t=this._state,e={top:window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,left:window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},n=e.top,i=e.height;t.triggerPoint<n+i&&(d.call(this),t.scrolled=!0,u.call(this))},w=function(){var t=this._opts,e=this._state,n=t.triggerArea,i=document.documentElement.scrollHeight*n;i!==e.triggerPoint&&(e.triggerPoint=i)},y=function(){var t=this._opts,e=this._state,n=t.triggerArea,i=t.timeouts.updateHeight;e.triggerPoint=document.documentElement.scrollHeight*n,e._timers.updateHeight=setInterval(w.bind(this),i)},b=function(){var n=this._state,i=_.bind(this),r=this._opts.timeouts.initialization;n._timers.initScroll=setTimeout((function(){t(e).on("scroll.push",s(i,300)),i()}),r)};return a(i,{acceptTypes:[n]}),o({_Events:["show","hide"],_Handlers:{dom:{"click:button":function(e){e.preventDefault(),g.bind(this)(t(e.currentTarget).attr(this._opts.attrs.index))}},model:{change:function(t){v.call(this,t)},subscribe:function(){m.call(this,!1)},unsubscribe:function(){var t=m.bind(this),e=this._opts.timeouts.statusTooltip;t(!0),e&&(c=setTimeout((function(){t(!1)}),e))},ready:function(t){t.isSubscribed||(t.permission.browserPermission&&t.permission.userPermission?this._model.subscribe():(this._state.inited=!0,u.call(this)))},error:function(){}}},_Init:function(){var t=this._opts,e=t.triggerArea;if(!t.template)throw new TypeError(p.INVALID_TEMPLATE.message);if("number"!=typeof e||e<0)throw new TypeError(p.INVALID_TRIGGER_AREA.message);this._state={_timers:{},inited:!1,scrolled:0===e},e&&(y.call(this),b.call(this))},showDialog:function(){var t=this._elems;return t.dialog||(t.dialog=f.call(this)),t.parent.append(t.dialog),this._trigger("show"),this},hideDialog:function(){var t=this._elems;return t.dialog&&t.dialog.remove(),this._trigger("hide"),this},toggleDialog:function(){return this._elems.dialog?this.hideDialog():this.showDialog(),this}},h,null,i)}(window.jQuery||window.$,window,window.ru.mail.cpf);((((window.ru=window.ru||{}).mail=window.ru.mail||{}).mpf=window.ru.mail.mpf||{}).components=window.ru.mail.mpf.components||{}).PushNotifications=e}()},72776:function(t,e,n){t=n.nmd(t);var i=n(74933),r=i(n(72051)),o=i(n(93772)),s=i(n(98314)),a=i(n(24620)),l=i(n(26915)),c=i(n(14361)),u=i(n(54938)),h=i(n(13122)),p=i(n(75903));function d(t,e,n){return e=(0,c.default)(e),(0,l.default)(t,f()?Reflect.construct(e,n||[],(0,c.default)(t).constructor):e.apply(t,n))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}!function(n,i){if("object"==(0,p.default)(e)&&"object"==(0,p.default)(t))t.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var r=i();for(var o in r)("object"==(0,p.default)(e)?e:n)[o]=r[o]}}(self,(function(){return function(){"use strict";var t={187:function(t){var e,n="object"==("undefined"==typeof Reflect?"undefined":(0,p.default)(Reflect))?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,i){function r(n){t.removeListener(e,o),i(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",r),n([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,p.default)(t))}function l(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,n,i){var r,o,s,c;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=l(t))>0&&s.length>r&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=u.bind(i);return r.listener=n,i.wrapFn=r,r}function d(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):m(r,r.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function g(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,p.default)(t));t.addEventListener(e,(function r(o){i.once&&t.removeEventListener(e,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[t];if(void 0===l)return!1;if("function"==typeof l)i(l,this,e);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)i(u[n],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,i,r,o,s;if(a(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return d(this,t,!0)},o.prototype.rawListeners=function(t){return d(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return function(){n.r(i),n.d(i,{init:function(){return L},version:function(){return l}});var t=n(187),e=n.n(t),l="4.2.1-fixTyping.1",c=function(){return[window.fetch,window.navigator.serviceWorker,window.Notification,window.PushManager,window.ServiceWorkerRegistration].every((function(t){return void 0!==t}))},p=function(){var t=window.navigator.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return{name:t[1]||"",version:t[2]||""}},f=function(){var t=(new Date).getTimezoneOffset(),e=Math.abs(t);return"GMT"+(t<0?"+":"-")+"00".concat(Math.floor(e/60)).slice(-2)+("00"+e%60).slice(-2)}(),m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=p(),n=(window.navigator.userAgent.match(/(android|blackBerry|iphone|ipad|ipod|opera|iemobile|mobile)/i)||[]).length>0,i=e.name.toLowerCase();return{BROWSER:{IS_MOBILE:n,NAME:t[i]?t[i]:i,PLATFORM:e.name,VERSION:e.version}}}({chrome:"android"}),g={READY:"ready",CHANGE:"change",ERROR:"error",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"},v={SUBSCRIBE:{code:"subscribe",message:"Ошибка при попытке подписаться на пуш-уведомления"},UNSUBSCRIBE:{code:"unsubscribe",message:"Ошибка при попытке отписаться от пуш-уведомлений"},GET_SUBSCRIPTION:{code:"get_subscription",message:"Ошибка при попытке получения объекта пуш-уведомлений"},PERMISSION_DENIED:{code:"permission_denied",message:"Пользователь запретил доставку уведомлений"},UNSUPPORTED:{code:"unsupported",message:"Не поддерживается браузером"},TIME_MARK:{code:"time_mark",message:"Установлена временная отметка"},SERVER_SYNC:{code:"server_sync",message:"Ошибка синхронизации с сервером"},UNKNOWN_PLATFORM:{code:"unknown_platform",message:"Неизвестный браузер или платформа"}},_={version:l,allowedPlatforms:["Chrome","Firefox"],application:"mailrupush",platform:m.BROWSER,workerPath:"/push-worker.js",workerScope:"/",workerInstaller:null,serverUrl:"/push-api/subscription/"},w=(window.location.pathname,{application:null,platform:m.BROWSER.NAME,status:null,token:null,settings:{capabilities:{geo_id:[0],push_delivery_time_range:"00:00-23:59"},client:{os_version:m.BROWSER.VERSION,version:m.BROWSER.IS_MOBILE?"m-".concat(l):l},client_time_zone:f}}),y=function(t){function e(t){var n;return(0,s.default)(this,e),(n=d(this,e,[t.message])).name=n.constructor.name,n.message=t.message,Error.captureStackTrace?Error.captureStackTrace((0,a.default)(n),(function(){return n.constructor})):n.stack=(new Error).stack,n}return(0,u.default)(e,t),(0,o.default)(e)}((0,h.default)(Error)),b=function(t){var e=t.workerPath,n=t.workerScope,i=t.workerInstaller;return i instanceof Promise?Promise.resolve(i):window.navigator.serviceWorker.register(e,{scope:n})};function S(){return window.navigator.serviceWorker.ready}function E(t){return new Promise((function(e,n){t.pushManager.getSubscription().then((function(t){t?e(t):n(new y(v.GET_SUBSCRIPTION))}))}))}function T(t){return E(t).then((function(t){return t.unsubscribe().then((function(e){return e?Promise.resolve(t):Promise.reject(new y(v.UNSUBSCRIBE))}))}))}function C(t){return E(t).catch((function(){return function(t){return new Promise((function(e,n){t.pushManager.subscribe({userVisibleOnly:!0}).then((function(t){t?e(t):n(new y(v.SUBSCRIBE))}))}))}(t)}))}var P={getPayload:function(t){var e=t.endpoint,n=e?e.split("/"):[];return{endpoint:e,token:n.length?n.slice(-1)[0]:void 0}}},I={getPayload:function(t){var e=t.endpoint;return{endpoint:e,token:e}}};function A(t){return function(t){switch(t.toLowerCase()){case"chrome":return P;case"firefox":return I;default:throw new y(v.UNKNOWN_PLATFORM)}}(p().name).getPayload(t)}var O=function(t){return function(e,n){return Promise.resolve(t(e,n))}},M=window.Notification,B=new(e()),x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},e),i=[],o=function(){return Object.assign({},n)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=t(o(),e);var r=i.map((function(t){return t(n,e)}));return Promise.all(r).then((function(){return n}))};return s().catch((function(){throw new Error("Error on createStore")})),{getState:o,dispatch:s,subscribe:function(t){i=[].concat((0,r.default)(i),[O(t)]);var e=!0;return function(){if(e){e=!1;var n=i.indexOf(t),r=[i.slice(0,n),i.slice(n+1)],o=r[1];i=r[0].concat(o)}return!e}}}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case g.CHANGE:return Object.assign(Object.assign({},t),e.state);case g.SUBSCRIBE:return Object.assign(Object.assign({},t),{isSubscribed:!0,subscription:e.subscription});case g.UNSUBSCRIBE:return Object.assign(Object.assign({},t),{isSubscribed:!1,subscription:void 0});case g.READY:return Object.assign(Object.assign(Object.assign({},t),e.state),{isReady:!0});default:return t}}),{isReady:!1});function F(){var t=M.permission;return new Promise((function(e,n){switch(t){case"granted":case"default":default:e(t);break;case"denied":n(new y(v.PERMISSION_DENIED))}}))}function k(t){return new Promise((function(e,n){"granted"===M.permission?e(t):M.requestPermission((function(i){"granted"===i?e(t):n(new y(v.PERMISSION_DENIED))}))}))}function D(t){return S().then(T).then((function(e){return t(-1,e)})).then((function(){return x.dispatch({type:g.UNSUBSCRIBE})})).then((function(){return B.emit(g.UNSUBSCRIBE)})).catch((function(t){B.emit(g.ERROR,t)}))}function j(t){return S().then(k).then(C).then((function(e){return t(0,e).catch((function(t){B.emit(g.ERROR,t)})).then((function(){return e}))})).then((function(t){return x.dispatch({type:g.SUBSCRIBE,subscription:A(t.toJSON())})})).then((function(t){B.emit(g.SUBSCRIBE,t.subscription)})).catch((function(t){B.emit(g.ERROR,t)}))}function z(t){return e={application:t.application,url:t.serverUrl},function(t,n){var i=A(n.toJSON()),r=Object.assign(Object.assign({},w),{status:t,application:e.application,token:i.token});return fetch(e.url,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(t){if(200!==t.status)throw new y(v.SERVER_SYNC);return t.json()})).catch((function(){throw new y(v.SERVER_SYNC)}))};var e}function N(t){var e=z(t),n={getState:x.getState,toggle:function(){return x.getState().isSubscribed?D(e).then((function(){return n})):j(e).then((function(){return n}))},subscribe:function(){return j(e).then((function(){return n}))},unsubscribe:function(){return D(e).then((function(){return n}))}};return n}function L(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign(Object.assign({},_),t),n=z(e);x.dispatch({type:g.CHANGE,state:{settings:e}});var i=new Promise((function(t){(function(t){return new Promise((function(e,n){var i=t.allowedPlatforms.map((function(t){return t.toLowerCase()})),r=t.platform.PLATFORM.toLowerCase();c()&&-1!==i.indexOf(r)?e(!0):n(new y(v.UNSUPPORTED))}))})(e).then(F).then((function(){return b(e)})).then(S).then((function(t){return E(t).then((function(t){return n(0,t).catch((function(t){B.emit(g.ERROR,t)})).then((function(){var e=t?{isSubscribed:!0,subscription:A(t.toJSON())}:{isSubscribed:!1};return x.dispatch({type:g.READY,state:e})})).then((function(t){t.settings&&B.emit(g.READY,N(t.settings),t)}))})).catch((function(){return x.dispatch({type:g.READY,state:{isSubscribed:!1}}).then((function(t){t.settings&&B.emit(g.READY,N(t.settings),t)}))}))})).catch((function(t){B.emit(g.ERROR,t)})).then((function(){t(N(e))}))})),r={on:function(t,e){return B.on(t,e),r},off:function(t,e){return B.off(t,e),r},removeAllListeners:function(t){return B.removeAllListeners(t),r},ready:function(){return i}};return r}x.subscribe((function(t){B.emit(g.CHANGE,t)}))}(),i}()}))},1436:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.installWorker=e.getWorker=void 0;var i=n(89289),r=n(21459),o=n(93599),s=function(t,e){var n=(0,o.getOptions)(t),s=(0,o.getWorkerPath)(n),a=(0,o.getWorkerScope)(n);return s&&a&&(0,o.isWorkerSupported)()&&!(0,o.isDisabledByUserAgent)(n)?Promise.resolve().then(i.loaded).then((function(){return e(s,a)})).catch((function(t){return(0,o.logError)(t)})):Promise.reject().catch((function(){return(0,o.logError)(r.ERRORS.NOT_INSTALLED)}))};e.installWorker=function(t){return s(t,(function(t,e){return(0,o.registerWorker)(t,e)}))},e.getWorker=function(t){return s(t,(function(t,e){return(0,o.getOrRegisterWorker)(t,e)}))}},21459:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.OPTIONS_DEFAULT=e.ERRORS=void 0;e.OPTIONS_DEFAULT={workers:{"sw-desktop":"/sw-desktop.js","sw-mobile":"/sw-mobile.js"},workerKey:"sw-desktop",workerScope:"/",workerDisabledByUserAgent:["MRMAILAPP","MRNEWSAPP"]},e.ERRORS={NOT_INSTALLED:"Не удалось установить сервис-воркер",UNSUPPORTED:"Сервис-воркеры не поддерживаются браузером",EMPTY_WORKER_PATH:"Неверно задан сервис-воркер"}},93599:function(t,e,n){var i=n(74933);Object.defineProperty(e,"__esModule",{value:!0}),e.getOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(a({},o.OPTIONS_DEFAULT),t)},e.getOrRegisterWorker=function(t,e){return f((function(t){return t.scope===e})).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.length?Promise.resolve().then((function(){return n[n.length-1]})):d(t,e)}))},e.getWorkerList=f,e.getWorkerPath=function(t){var e=t.workers,n=void 0===e?{}:e,i=t.workerKey,r=n[i];r||m(o.ERRORS.EMPTY_WORKER_PATH,{workers:n,workerKey:i});return r},e.getWorkerScope=function(t){var e=t.workerScope;return"".concat(h.origin).concat(e)},e.isWorkerSupported=e.isDisabledByUserAgent=void 0,e.log=function(){if(c){var t=Array.prototype.slice.call(arguments);t.unshift("SW:"),p.log.apply(p,t)}},e.logError=m,e.ready=function(){return u.serviceWorker.ready},e.registerWorker=d,e.uninstallAll=function(){return f().then((function(t){return Promise.all(t.map((function(t){return t.unregister()})))}))},e.uninstallInScope=function(t){return f((function(e){return e.scope!==t})).then((function(t){return Promise.all(t.map((function(t){return t.unregister()})))}))};var r=i(n(54036)),o=n(21459);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=window,c=l.DEBUG,u=l.navigator,h=l.location,p=l.console;e.isWorkerSupported=function(){var t="serviceWorker"in u;return t||m(o.ERRORS.UNSUPPORTED),t},e.isDisabledByUserAgent=function(t){var e=t.workerDisabledByUserAgent,n=void 0===e?[]:e;return n.length&&n.some((function(t){return-1!==u.userAgent.indexOf(t)}))};function d(t,e){return Promise.resolve().then((function(){return u.serviceWorker.register(t,{scope:e})}))}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return u.serviceWorker.getRegistrations().then((function(e){return e.filter(t)}))}function m(){if(c){var t=Array.prototype.slice.call(arguments);t.unshift("SW:ERROR:"),p.warn.apply(p,t)}}},52822:function(t,e,n){var i=n(74933);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n(75903));e.default={loadTimeout:5e3,closestParent:null,sourceAttributeName:"data-type",useScriptsCaching:!1,checkRawItems:{soundcloud:function(){return t="webaudio","object"!=("undefined"==typeof Modernizr?"undefined":(0,r.default)(Modernizr))||"boolean"!=typeof Modernizr[t]||Modernizr[t];var t}},loadCheckers:{various:function(){return!0}}}},67883:function(t,e,n){var i=n(74933),r=n(75903);Object.defineProperty(e,"__esModule",{value:!0}),e.activateEmbeds=function(t,e){void 0===e&&(e={});Array.isArray(t)||(t=[t]);var n=[],i=[],r=s.deepMerge(a.default,e),o=r.checkRawItems||{};return t.forEach((function(t){var e=t.getAttribute(r.sourceAttributeName)||"";if(o[e]&&!1===o[e](t,e))i.push(Promise.reject(null));else{var a=document.createDocumentFragment(),l=document.createElement("div");l.innerHTML="TEXTAREA"===t.nodeName&&t instanceof HTMLTextAreaElement?t.value.replace(/__text_area__/g,"textarea"):t.innerHTML,s.parseScripts(l,!0),a.appendChild(l),-1===n.indexOf(e)&&n.push(e),i.push(function(t,e,n){return new Promise((function(i,r){var o=n.loadCheckers,a=n.closestParent?s.getClosestParent(t,n.closestParent):t.parentNode;setTimeout((function(){var t=o[e]||s.isIframe,n={element:a,type:e};t(a)?i(n):r(n)}),n.loadTimeout)}))}(t,e,r).catch((function(t){window.DEBUG&&console.log("Embed "+t.type+" не загрузился")}))),s.replaceElement(t,a),window.requestAnimationFrame((function(){return s.triggerResize(a.childNodes[0])}))}})),window.requestAnimationFrame(u.bind(this,n)),i},e.addInitializers=function(t){void 0===t&&(t={});Object.assign(c,t)};var o=i(n(75903)),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=r(t)&&"function"!=typeof t)return{default:t};var n=l(e);if(n&&n.has(t))return n.get(t);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&{}.hasOwnProperty.call(t,s)){var a=o?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n(97616)),a=i(n(52822));function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(l=function(t){return t?n:e})(t)}var c={instagram:function(t){"object"==("undefined"==typeof instgrm?"undefined":(0,o.default)(instgrm))&&instgrm.Embeds&&instgrm.Embeds.process(t)},facebook:function(t){"object"==("undefined"==typeof FB?"undefined":(0,o.default)(FB))&&FB.XFBML&&FB.XFBML.parse(t)},twitter:function(t){"object"==("undefined"==typeof twttr?"undefined":(0,o.default)(twttr))&&twttr.widgets&&twttr.widgets.load(t)},apester:function(){"object"==("undefined"==typeof APESTER?"undefined":(0,o.default)(APESTER))&&APESTER&&APESTER.reload&&APESTER.reload()}};function u(t){if(t&&t.length){t.forEach((function(t){t in c&&c[t]()}));var e=function(){return s.triggerResize()};window.requestAnimationFrame(e),setTimeout(e,2e3)}}},97616:function(t,e,n){var i=n(74933);Object.defineProperty(e,"__esModule",{value:!0}),e.deepMerge=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i={},o=0,s=e;o<s.length;o++){var l=s[o];if("object"===(0,r.default)(l)&&null!==l)for(var c=0,u=Object.keys(l);c<u.length;c++){var h=u[c],p=l[h];if(p instanceof Date){var d=new Date;d.setTime(p.getTime()),i[h]=d}else p instanceof RegExp?i[h]=new RegExp(p):Array.isArray(p)?i[h]=Array.prototype.concat.call([],p):a(p)?i[h]=t(i[h],p):i[h]=p}}return i},e.getClosestParent=function(t,e){for(;t;){if(t.classList.contains(e))return t;if(t==document.body)return null;t=t.parentNode}return null},e.isFunction=s,e.isIframe=function(t){if(!t)return!1;if("IFRAME"==t.tagName)return!0;return!!t.querySelector("iframe")},e.loadScript=function(t,e){return new Promise((function(n){var i=document.createElement("script");if(i.type="text/javascript",i.onload=n,i.onerror=n,Boolean(t.src)){var r=t.src.split("?")[0];if(-1!==o.indexOf(r))return void n();o.push(r),i.setAttribute("defer","defer"),i.src=r+(e?"":"?"+(Math.random()+"").split(".")[1])}else i.textContent=t.textContent;document.head.appendChild(i)}))},e.parseScripts=void 0,e.replaceElement=function(t,e){var n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))},e.triggerResize=function(t){void 0===t&&(t=window);var e=document.createEvent("HTMLEvents");e.initEvent(t==window?"resize":"documentHeightChange",!0,!1),t.dispatchEvent(e)};var r=i(n(75903)),o=[];function s(t){return"function"==typeof t}e.parseScripts=function(t,e){if(void 0===e&&(e=!1),null!==t){var n=-1,i=t.querySelectorAll("script");!function t(){++n<i.length&&function(t,e,n){var i,r=t.attributes,o=document.createElement("script");if(t.src?(n&&(o.onload=e,o.onerror=e,setTimeout(e,1e4)),o.src=t.src):o.innerHTML=t.innerHTML,r.length>0)for(var a=r.length;a--;)(i=r[a]).name in o.attributes||o.setAttribute(i.name,i.value);var l=t.parentNode;t&&l&&(l.insertBefore(o,t),l.removeChild(t)),(!t.src||!n&&s(e))&&(n?setTimeout(e,1):e())}(i[n],t,e)}()}};var a=function(t){return null!=t&&"object"===(0,r.default)(t)&&!(t instanceof Promise)}},92490:function(){var t;(0,(t=new Function("return this")()).ru.mail.cpf.Basic.Extend)(t.getNameSpace("fest._constants"),{shares:{order:["vk","ok"],types:{ok:{name:"ok",icon:{path:"M.048 7.656c0-3.6 0-5.408 1.112-6.528C2.288.016 4.088.016 7.696.016h.64c3.6 0 5.408 0 6.528 1.112 1.112 1.112 1.112 2.928 1.112 6.528v.64c0 3.6 0 5.408-1.112 6.528-1.112 1.112-2.928 1.112-6.528 1.112h-.64c-3.6 0-5.408 0-6.528-1.112-1.12-1.12-1.12-2.92-1.12-6.528v-.64Zm7.96.28A2.806 2.806 0 0 0 10.6 6.202a2.806 2.806 0 0 0-1.52-3.667 2.806 2.806 0 0 0-3.058.61A2.778 2.778 0 0 0 5.2 5.127c0 .784.32 1.48.824 1.984a2.82 2.82 0 0 0 1.984.824Zm-.896-3.72a1.276 1.276 0 0 1 2.086.415 1.276 1.276 0 0 1-.693 1.671 1.276 1.276 0 0 1-1.671-.692 1.276 1.276 0 0 1-.098-.49c0-.352.152-.672.376-.904Zm3.864 3.728.824 1.128c.048.056.04.128-.064.176a5.729 5.729 0 0 1-2.344 1.144l1.744 3.072c.048.096-.008.2-.112.2H9.32a.13.13 0 0 1-.12-.088l-1.216-2.72-1.216 2.72a.12.12 0 0 1-.12.088H4.944c-.096 0-.16-.112-.112-.2l1.744-3.072a5.937 5.937 0 0 1-2.344-1.144.134.134 0 0 1-.016-.176l.824-1.128a.148.148 0 0 1 .2-.016c.784.664 1.736 1.096 2.768 1.096 1.032 0 1.992-.432 2.768-1.096a.133.133 0 0 1 .157-.02c.017.008.031.021.043.036Z",viewbox:"0 0 16 16"},text:"Одноклассники",title:"Поделиться с друзьями на Одноклассниках",href:"https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl="},vk:{name:"vk",icon:{path:"M1.12471 1.12471C0 2.24942 0 4.05961 0 7.68v.64c0 3.6204 0 5.4306 1.12471 6.5553C2.24942 16 4.05961 16 7.68 16h.64c3.6204 0 5.4306 0 6.5553-1.1247C16 13.7506 16 11.9404 16 8.32v-.64c0-3.62039 0-5.43058-1.1247-6.55529C13.7506 0 11.9404 0 8.32 0h-.64C4.05961 0 2.24942 0 1.12471 1.12471zM2.75 5c.08667 4.16 2.16665 6.66 5.81331 6.66h.20671V9.28c1.33998.13333 2.35328 1.1133 2.75988 2.38h1.8934c-.52-1.89333-1.8867-2.94-2.74-3.34.8533-.49333 2.0533-1.69333 2.34-3.32h-1.7201c-.3733 1.32-1.47985 2.51667-2.53318 2.63V5H7.04997v4.61C5.9833 9.34333 4.63666 8.05333 4.57666 5H2.75z",viewbox:"0 0 16 16"},text:"ВКонтакте",title:"Опубликовать ВКонтакте",href:"//m.vk.com/share.php?url="},fb:{name:"fb",icon:{path:"M5.99 10h2.554s.27-.9.372-2.08c.006-.073.012-.146.02-.22v-.013c.006-.073.012-.07.018-.146l.003-.04.016-.218c0-.013.002-.025.003-.037l.015-.23H6.006v-2.3c0-.31.568-.728.92-.728H8.97V.984H6.444c-3.414 0-3.44 3.033-3.44 3.486v2.555H.99V10H3v8.012h2.99V10z",viewbox:"0 0 9 19"},text:"Facebook",title:"Опубликовать в Facebook",href:"//touch.facebook.com/sharer.php?u="},tw:{name:"tw",icon:{path:"M11.145.87C9.32.87 7.842 2.37 7.842 4.214c0 .262.03.517.085.762-2.745-.14-5.18-1.47-6.808-3.492C.834 1.977.67 2.55.67 3.163c0 1.16.583 2.183 1.47 2.782-.542-.018-1.05-.168-1.497-.418v.042c0 1.618 1.14 2.97 2.65 3.276-.278.077-.57.117-.87.117-.214 0-.42-.02-.623-.06.42 1.328 1.64 2.294 3.085 2.32-1.13.897-2.555 1.432-4.102 1.432-.267 0-.53-.016-.788-.046 1.462.947 3.198 1.5 5.063 1.5 6.075 0 9.397-5.093 9.397-9.51 0-.144-.003-.288-.01-.432.646-.47 1.206-1.06 1.648-1.73-.592.266-1.23.445-1.897.526.682-.414 1.206-1.07 1.453-1.85-.637.384-1.344.662-2.097.812-.6-.65-1.46-1.055-2.408-1.055",viewbox:"0 0 16 15"},text:"Twitter",title:"Опубликовать в Твиттере",href:"https://twitter.com/intent/tweet?url="},rss:{name:"rss",icon:{path:"M4.259 23.467c-2.35 0-4.259 1.917-4.259 4.252 0 2.349 1.909 4.244 4.259 4.244 2.358 0 4.265-1.895 4.265-4.244-0-2.336-1.907-4.252-4.265-4.252zM0.005 10.873v6.133c3.993 0 7.749 1.562 10.577 4.391 2.825 2.822 4.384 6.595 4.384 10.603h6.16c-0-11.651-9.478-21.127-21.121-21.127zM0.012 0v6.136c14.243 0 25.836 11.604 25.836 25.864h6.152c0-17.64-14.352-32-31.988-32z",viewbox:"0 0 32 32"},text:"RSS",title:"Подпишитесь на наш RSS"}}},emptyPixel:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=",svgiconSprite:{web:"/bem/web/web.bundles/common/common.svg",touch:"/bem/touch/touch.bundles/common/common.svg"}})},87846:function(t,e,n){var i,r,o,s,a,l,c,u=n(98895);i=new Function("return this")(),a=i.ru.mail.cpf.Basic,l=a.typeOf,(c=a.Extend)(i.getNameSpace("fest._helpers"),{classNamesFor:(s=["mix","mods"],function(t,e){var n=[t];if(l(e,"object"))for(var i,r=s.length;r--;)if(Array.isArray(i=e[s[r]]))if(1===r){t+="_";for(var o=0;o<i.length;o++)n.push(t+i[o])}else n=n.concat(i);return n.join(" ")}),getByPath:a.getByPath,mergeTopParams:(o=["mix","mods","attrs"],function(){return Array.prototype.slice.apply(arguments).reduce((function(t,e){return l(e,"object")&&o.forEach((function(n){var i=e[n];if(Array.isArray(e[n]))t[n]=t[n]||[],Array.prototype.push.apply(t[n],i);else if(l(i,"object"))for(var r in t[n]=t[n]||{},i)i.hasOwnProperty(r)&&(t[n][r]=i[r])})),t}),{})}),mergeParams:function(){var t=["mix","mods","attrs"],e="_rewrite",n="_children";function i(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=t[n],r=e[n];l(r,"object")&&(l(i,"object")||l(i,"undefined"))&&(t[n]=o(i,r))}}function r(t,e){var i=t[n]=t[n]||{},r=e[n];for(var s in r)r.hasOwnProperty(s)&&(i[s]=o(i[s],r[s]))}function o(){var o,s,a,u,h,p,d=Array.prototype.slice.apply(arguments),f=!0;if(l(d[0],"boolean")&&(f=d.shift()),!(d.length<2)){o=d.shift(),l(o,"object")||(o={});for(var m=0;m<d.length;m+=1)if(a=(s=d[m])&&s[e],null!=s){for(var g,v=t.length;v--;)g=t[v],(s.hasOwnProperty(g)||(p=a&&a.hasOwnProperty(g)))&&s[g]!==o&&(u=o[g],h=s[g],p?u=a[g]:h&&(Array.isArray(u)||Array.isArray(h)?u=u?u.concat(h):h:!l(h,"object")||u&&!l(o,"object")||(u=u?c(!0,{},u,h):h)),o[g]=u);f?i(o,s):s.hasOwnProperty(n)&&r(o,s)}return o}}return o}(),avatar:(r=function(t,e){return t.reduce((function(t,n){return e[n]&&t.push(n+"="+encodeURI(e[n])),t}),[]).join("&")},function(t){"width"in(t=c({},t))&&(t.height=t.width);var e="";return t.filin_d?(t.d=t.filin_d,e="//"+(t.filin_domain?t.filin_domain:t.domain)+"/pic?"+r(["width","height","d","name"],t)):e="//cp-filin.mail.ru/pic?"+r(["email","name","width","height"],t),e}),svgPlaceholder:function(t,e,n){return n=n||"photo",e=e||640,t=t||360,"data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 {{w}} {{h}}" width="{{w}}" height="{{h}}"><rect x="0" y="0" width="{{w}}" height="{{h}}" fill="none"/></svg>'.replace(/{{w}}/g,e).replace(/{{h}}/g,t))},generateOnClickAttr:function(t){return t||(t={}),"return "+JSON.stringify(t)},pictureFormat:u.pictureFormat,pictureUrl:u.pictureUrl})},76295:function(t){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var e,o,s,a,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(r(o=this._events[t]))return!1;if(n(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),o.apply(this,a)}else if(i(o))for(a=Array.prototype.slice.call(arguments,1),s=(c=o.slice()).length,l=0;l<s;l++)c[l].apply(this,a);return!0},e.prototype.addListener=function(t,o){var s;if(!n(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(o.listener)?o.listener:o),this._events[t]?i(this._events[t])?this._events[t].push(o):this._events[t]=[this._events[t],o]:this._events[t]=o,i(this._events[t])&&!this._events[t].warned&&(s=r(this._maxListeners)?e.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},e.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},e.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},e.listenerCount=function(t,e){return t.listenerCount(e)}},98895:function(t,e,n){"use strict";n.r(e),n.d(e,{pictureFormat:function(){return u},pictureUrl:function(){return a}});var i=n(24563),r=function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},o=function(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},s=function(t,e){var n=0,i=t.length;if(!t||!i||!e)return n;for(var r=100*e,o=0;o<i;o++){var s=t[o];(s===r||s<=r&&s>n)&&(n=s)}return n},a=function(t,e){var n=t.baseURL,i=t.uuid,r=t.key,o=t.ext,a=t.fmt,l=t.params,c="";o&&o.original&&(c=o.original),a&&(c=a[0]);var u="";if(e){var h=e.dpr,p=e.dprCalculated,d=e.scale,f=e.webp,m=e.format;if(f&&o&&o.webp&&(c="webp"),m&&a&&-1!==a.indexOf(m)&&(c=m),h&&!p){var g=s(l.dpr,h);g&&(u+="dpr:".concat(g,"/"))}p&&(u+="dpr:".concat(p,"/")),d&&l.scale&&(u+="scale:".concat(d,"/"))}return"".concat(n).concat(i,"/").concat(u).concat(r,".").concat(c)},l=function(t,e,n){for(var i=n?"":"".concat(a(t,r(r({},e),{dpr:null}))," 1x"),o=2;o<=e.dpr;o++){var l=s(t.params.dpr,o);if(l)i+="".concat(i?", ":"").concat(a(t,r(r({},e),{dprCalculated:l}))," ").concat(l/100,"x")}return i},c=function(t,e){var n=s(t.params.dpr,e.dpr);if(t.fmt)return o([],t.fmt,!0).reverse().map((function(i){return{media:e.media,srcSet:n?l(t,r(r({},e),{format:i})):a(t,r(r({},e),{dpr:null,format:i})),type:"image/".concat(i)}}));var i=e.webp&&t.ext&&t.ext.webp,c=[{media:e.media,srcSet:n?l(t,e):a(t,r(r({},e),{dpr:null})),type:i?"image/webp":void 0}];return i&&c.push({media:e.media,srcSet:n?l(t,r(r({},e),{webp:!1})):a(t,r(r({},e),{dpr:null,webp:!1}))}),c},u=function(t,e){var n=[],u={src:a(t,r(r({},e),{dpr:null,webp:!1}))},h=e?s(t.params.dpr,e.dpr):null;if(e){var p=e.mobile,d=e.tablet,f=e.desktop,m=e.custom;if(m&&m.length&&m.forEach((function(e,i){var r=t.custom,o=t;r&&r.length&&r[i]&&r[i].media===e.media&&(o=r[i].image);var s=c(o,e);n.push.apply(n,s)})),p){var g=t;t.mobile&&(g=t.mobile);var v=c(g,r(r({},p),{media:i.A.widthTouch}));n.push.apply(n,v)}if(d){g=t;t.tablet&&(g=t.tablet);v=c(g,r(r({},d),{media:i.A.widthTablet}));n.push.apply(n,v)}if(f){g=t;t.desktop&&(g=t.desktop);v=c(g,r(r({},f),{media:i.A.widthFromDesktopS}));n.push.apply(n,v)}!t.fmt&&e.webp&&t.ext&&t.ext.webp&&n.push({srcSet:h?l(t,e):a(t,r(r({},e),{dpr:null})),type:"image/webp"})}if(t.fmt){var _=o([],t.fmt,!0);_.shift(),_.reverse().forEach((function(i){n.push({srcSet:h?l(t,r(r({},e),{format:i})):a(t,r(r({},e),{dpr:null,format:i})),type:"image/".concat(i)})}))}return h&&(u.srcSet=l(t,r(r({},e),{webp:!1}),!0)),{alt:t.title,height:t.height,key:t.uuid,source:u,srcSet:n,width:t.width}}},95025:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return a}});var i=function(t){return function(){var t=document.cookie.split("; ");return new Map(t.map((function(t){var e=t.split("=");return[e[0],e[1]]})))}().get(t)||null},r=function(t,e,n){var i="".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e));void 0!==n&&(n.domain&&(i+="; domain=".concat(n.domain)),n.path&&(i+="; path=".concat(n.path)),n.expires&&(i+="; expires=".concat(n.expires)),void 0!==n.maxAge&&(i+="; max-age=".concat(n.maxAge)),n.secure&&(i+="; secure"),n.samesite&&(i+="; samesite=".concat(n.samesite))),document.cookie=i},o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},s=function(t){var e=t.cookiesOptions,n=t.debug,s=t.name,a=t.reload,l=t.shortcuts,c=t.values,u=this;this.keysRegExp=new RegExp(/(Key\D|Digit\d)/),this.serviceKeys=new Set(["Alt","Backquote","Backspace","CapsLock","Command","Control","Enter","Meta","Shift","Space","Tab"]),this.duplicatedKeys=new Map([["AltLeft","Alt"],["AltRight","Alt"],["ControlLeft","Control"],["ControlRight","Control"],["MetaLeft","Meta"],["MetaRight","Meta"],["ShiftLeft","Shift"],["ShiftRight","Shift"]]),this.getSplittedShortcut=function(t){return t.split("+").map((function(t){return"Command"===t?"Meta":t}))},this.getCodeTranslation=function(t){return u.duplicatedKeys.get(t)||t},this.checkShortcutPressed=function(){var t=u.state,e=t.pressed;return t.shortcuts.some((function(t){return t.every((function(t){return e.has(t)}))}))},this.toggleCookie=function(){if(u.checkShortcutPressed()){var t=u.state,e=t.cookiesOptions,n=t.name,o=t.reload,s=t.values,a=i(n),l=s.indexOf(a),c=s[l+1];void 0===c&&(c=s[0]),null===c?(function(t){r(t,"",{maxAge:-1})}(n),u.showLog('Cookie "'.concat(n,'" была удалена'))):(r(n,c,e),u.showLog('Установленна cookie "'.concat(n,'" с значением "').concat(c,'"'))),o&&window.location.reload()}},this.onKeyPress=function(t){var e=t.type,n=u.state.pressed,i=u.getCodeTranslation(t.code);switch(e){case"keydown":n.has(i)||(n.add(i),u.toggleCookie());break;case"keyup":n.delete(i)}},this.showLog=function(t){u.state.debug&&window.console.log("%c CookieToggleKeys: ".concat(t," "),"background: #5CD85A; color: #08313A;")},this.addListener=function(){"undefined"!=typeof window&&(window.addEventListener("keydown",u.onKeyPress),window.addEventListener("keyup",u.onKeyPress),u.showLog("Подписка на события нажатия клавиш добавлена"))},this.removeListener=function(){"undefined"!=typeof window&&(window.removeEventListener("keydown",u.onKeyPress),window.removeEventListener("keyup",u.onKeyPress),u.showLog("Подписка на события нажатия клавиш удалена"))};for(var h={cookiesOptions:e,debug:n,name:s,reload:a,pressed:new Set,shortcuts:[],values:c},p=0,d=l;p<d.length;p++){var f=d[p],m=this.getSplittedShortcut(f);m.every((function(t){return u.serviceKeys.has(t)||null!==u.keysRegExp.exec(t)}))?h.shortcuts.push(m):window.console.error("CookieToggleKeys: Invalid shortcut ".concat(f))}this.state=o({},h)},a=function(t){var e=t&&t.debug,n=!t||void 0===t.reload||t.reload;return new s({debug:e,reload:n,cookiesOptions:{path:"/"},name:"force_layout",shortcuts:["Command+Shift+KeyY","Alt+Shift+KeyY"],values:[null,"touch","web"]})}},31112:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return b},get:function(){return y},post:function(){return w}});var i=n(6631);var r,o=403,s=406,a=429,l="csrf-token",c={get:function(){return r||(r="undefined"!=typeof window?window.document.querySelector('meta[name="'.concat(l,'"]')):null),r?r.content:""},update:function(t){r?r.content=t:function(t){(r=document.createElement("meta")).name=l,r.content=t,document.getElementsByTagName("head")[0].appendChild(r)}(t)}},u="RLIMIT_EVENT_HIDE",h="RLIMIT_EVENT_SHOW",p="success",d=function(){return d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},d.apply(this,arguments)},f=function(t){var e=t.data,n=t.resolve,i=t.reject;if(e.captchaPath){var r=new CustomEvent(u,{detail:{reason:p}}),o=new CustomEvent(h,{detail:{checkRequest:function(t){return w("/captcha/check/",t).then((function(t){return t.session&&(window.document.cookie="MediaRlimit=".concat(t.session,"; domain=").concat(encodeURIComponent(/\.mail\.ru$/.test(location.hostname)?"mail.ru":location.hostname),"; secure; path=/; expires=").concat(new Date(Date.now()+36e5).toUTCString()),window.dispatchEvent(r)),t}),(function(t){throw t}))},response:e}});window.addEventListener(u,(function(t){var e=t.detail.reason;e===p?n():i(e)})),window.dispatchEvent(o),function(t){if("undefined"!=typeof window&&window._tmr){var e={type:"pageView",start:Date.now()};window._tmr.push(d(d({},e),{id:"2846066"})),t&&window._tmr.push(d(d({},e),{id:"3165765"}))}}(e.isRlimitedAgain)}else i()},m=function(){return m=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},m.apply(this,arguments)},g=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},v={CSRF:null,RLIMIT:null,AUTH:null},_=function(t,e,n){void 0===e&&(e={});var i=e.csrf,r=void 0===i||i,l=e.xrequestedWith,u=void 0===l||l,h=g(e,["csrf","xrequestedWith"]),p=h.method||"GET",d=r&&-1!==["POST","PUT","DELETE","PATCH"].indexOf(p.toUpperCase()),_={credentials:"same-origin"},w={accept:"application/json"};if(u&&(w=m(m({},w),{"X-Requested-With":"XMLHttpRequest"})),d&&(w=m(m({},w),{"X-CSRF-TOKEN":c.get()})),h){var y=h.headers,b=g(h,["headers"]);!b.body||b.body instanceof FormData||(w=m(m({},w),{"Content-Type":"application/json"})),y&&(w=m(m({},w),y)),_=m(m({},_),b)}_=m(m({},_),{headers:w});var S,E=(S=0,function(t,e){if(e)e&&S&&(S=0);else if(++S>=3)throw t}),T=function(e){var n=E.bind(null,e);switch(e.status){case o:return n(),d?(v.CSRF||(v.CSRF=new Promise((function(t,n){e.json().then((function(e){var i=e.csrf_token;v.CSRF=null,i&&(c.update(i),t()),n()}),(function(t){throw t}))}))),v.CSRF.then((function(){return _.headers=m(m({},_.headers),{"X-CSRF-TOKEN":c.get()}),fetch(t,_).then(T)}),(function(t){throw t}))):e;case s:return n(),v.AUTH||(v.AUTH=new Promise((function(n,i){e.text().then((function(){var e=/https?:\/\//.test(t)?t:"".concat(window.location.origin).concat(t),r=-1!==window.location.hostname.indexOf("devmail")?"devmail":"mail",o=document.createElement("script"),s="cbMediaUiJSONP".concat("i".concat(Math.random().toString(36).substr(2,9))),a="https://auth.".concat(r,".ru/sdc?from=").concat(e,"&JSONP_call=").concat(s),l=!1,c=function(){v.AUTH=null,delete window[s],document.body.removeChild(o)};window[s]=function(t){l=!0,c(),t?n():i()},o.src=a,o.onload=o.onerror=function(){l||(c(),i())},document.body.appendChild(o)}),(function(t){throw t}))}))),v.AUTH.then((function(){return fetch(t,_).then(T)}),(function(t){throw t}));case a:return n(),v.RLIMIT||(v.RLIMIT=new Promise((function(t,n){e.json().then((function(e){f({resolve:t,reject:n,data:e})}),(function(t){throw t}))}))),v.RLIMIT.then((function(){return fetch(t,_).then(T)}),(function(t){throw t}));default:return n(!0),e}};return fetch(t,_).then(T).then(n||function(t){if(t.status>=400)throw t;return 204===t.status?t:t.json()})},w=function(t,e,n){return _(t,{body:function(t){return t instanceof FormData?t:JSON.stringify(t)}(e),method:"POST"},n)},y=function(t,e,n){var r=t;if(void 0!==n){var o=(0,i.convertObjectToUrlParams)(n);r=o?"".concat(t,"?").concat(o):t}return _(r,{method:"GET"},e)},b=_},6631:function(t,e,n){"use strict";n.d(e,{convertObjectToUrlParams:function(){return i}});var i=function(t){return Object.entries(t).map((function(t){var e=t[0],n=t[1];return"".concat(e,"=").concat(encodeURIComponent(n))})).join("&")}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i](o,o.exports,n),o.loaded=!0,o.exports}n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};return n(40198),n(63144),n(14199),n(4977),n(96396),n(21372),n(46762),n(56659),n(31030),n(95220),n(74909),{}}()}));
//# sourceMappingURL=common.js.map
</script>

</body>
</html>
