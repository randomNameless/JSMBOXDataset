<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bundler.html</title>
</head>
<body>

<script>
(function(){"use strict";const s=(()=>{var e;if((e=document.currentScript)!=null&&e.src){const t=new URL(document.currentScript.src);return t.protocol.startsWith("file")?"localhost":t.hostname}return null})(),i=s?`https://${s}/web/widget/`:"./",a=`${i}assets/`,d="rchat-legacy-entry",l="rchat-legacy-polyfill",c="data-src",u="rchat:ready",r=(e,t={})=>{const n=document.createElement("script");Object.entries(t).map(o=>o[0].startsWith("data-")?n.dataset[o[0].replace("data-","")]=o[1]:n[o[0]]=o[1]),e.appendChild(n)},y=e=>{const t=document.createElement("link");t.rel="stylesheet",t.href=`${a}${e.styles}`,t.onload=()=>{window.rchatBundler.mainCssReady=!0},document.head.appendChild(t)},w=e=>{r(document.body,{type:"module",text:`var e=document.getElementById('${l}'),n=document.createElement("script");n.src=e.src,n.onload=function(){System.import(document.getElementById('${d}').getAttribute('${c}'))},document.body.appendChild(n);`}),r(document.body,{id:l,src:`${a}${e["legacy-polyfills"]}`,onload:()=>{window.rchatBundler.polyfillJsReady=!0},noModule:!0,crossOrigin:!0}),r(document.body,{id:d,onload:()=>{window.rchatBundler.mainJsReady=!0,m()},noModule:!0,crossOrigin:!0,[c]:`${a}${e["index-legacy"]}`,text:`System.import(document.getElementById('${d}').getAttribute('${c}'))`})},m=()=>{window.dispatchEvent(new CustomEvent(u))},p=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);window.rchatBundler={isModernBrowser:!1,mainJsReady:!1,polyfillJsReady:!1,mainCssReady:!1,triggerSourcesLoad:e=>{r(document.head,{type:"module",text:`try{import.meta.url;import('_').catch(()=>1);}catch(e){}window.rchatBundler.isModernBrowser=true;window.rchatBundler.loadSources(${JSON.stringify(e)});`})},loadSources:e=>{y(e),window.rchatBundler.isModernBrowser?(window.rchatBundler.polyfillJsReady=!0,r(document.body,{src:`${a}${e["index-modern"]}`,onload:()=>{window.rchatBundler.mainJsReady=!0,m()},type:"module",async:!0,crossOrigin:!0})):w(e)}};const h=()=>window.rchatBundler.mainJsReady&&window.rchatBundler.polyfillJsReady&&window.rchatBundler.mainCssReady;window.rchatAPI?window.rchatAPI.isChatReady=h:window.rchatAPI={isChatReady:h},window.addEventListener(u,()=>{var e;if(window.rchatAPI.isChatReady()){const t=localStorage.getItem("rchat-storage");if(t===null)return;let n=null;try{n=JSON.parse(t)}catch{n=null}n&&(e=n==null?void 0:n.state)!=null&&e.isChatOpen&&window.rchatAPI.openChat&&window.rchatAPI.openChat()}}),r(document.head,{src:`${i}bundler-map.js?v=${p()}`,async:!0})})();

</script>

</body>
</html>
