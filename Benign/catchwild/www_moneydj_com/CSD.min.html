<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSD.min.html</title>
</head>
<body>

<script>
(function(f,w){var q={0:"K",1:"B",2:"C",K:"0",B:"1",C:"2"},v={0:"MAE",1:"BOB",2:"ALI",3:"SAR",4:"CDP",MAE:"0",BOB:"1",ALI:"2",SAR:"3",CDP:"4"},t=[{text:"\u6210\u4ea4\u91cf",value:0,param:[{title:"MA1",max:360,min:0,range:"( \u7bc4 \u570d : 0 - 360 )"},{title:"MA2",max:360,min:0,range:"( \u7bc4 \u570d : 0 - 360 )"}]},{text:"RSI",value:1,param:[{title:"\u5929\u65781",max:360,min:1,range:"( \u7bc4 \u570d : 1 - 360 )"},{title:"\u5929\u65782",max:360,min:1,range:"( \u7bc4 \u570d : 1 - 360 )"}]},{text:"KD",
value:2,param:[{title:"\u5929\u6578",max:360,min:2,range:"( \u7bc4 \u570d : 2 - 360 )"},{title:"RSVt\u6b0a\u6578",max:360,min:2,range:"( \u7bc4 \u570d : 2 - 360 )"},{title:"Kt\u6b0a\u6578",max:360,min:2,range:"( \u7bc4 \u570d : 2 - 360 )"}]},{text:"\u5feb\u901fKD",value:3,param:[{title:"\u5929\u6578",max:360,min:2,range:"( \u7bc4 \u570d : 2 - 360 )"},{title:"RSVt\u6b0a\u6578",max:360,min:2,range:"( \u7bc4 \u570d : 2 - 360 )"}]},{text:"MACD",value:4,param:[{title:"DIF\u77ed\u5929\u6578",max:360,min:1,
range:"( \u7bc4 \u570d : 1 - 360 )"},{title:"DIF\u9577\u5929\u6578",max:360,min:1,range:"( \u7bc4 \u570d : 1 - 360 )"},{title:"MACD\u5929\u6578",max:360,min:1,range:"( \u7bc4 \u570d : 1 - 360 )"}]},{text:"OBV",value:18,param:[]},{text:"VA-Osc",value:21,param:[]},{text:"VA/D",value:22,param:[]},{text:"AR",value:5,param:[{title:"\u5929\u6578",max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"}]},{text:"BR",value:6,param:[{title:"\u5929\u6578",max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"}]},{text:"VR",
value:19,param:[{title:"\u5929\u6578",max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"}]},{text:"\u4e56\u96e2\u7387",value:7,param:[{title:"\u5929\u65781",max:360,min:2,range:"( \u7bc4 \u570d : 2 - 360 )"},{title:"\u5929\u65782",max:360,min:2,range:"( \u7bc4 \u570d : 2 - 360 )"},{title:"\u5929\u65783",max:360,min:2,range:"( \u7bc4 \u570d : 2 - 360 )"}]},{text:"3-6\u4e56\u96e2",value:24,param:[]},{text:"MA-Osc",value:23,param:[{title:"\u77ed\u5929\u6578",max:45,min:1,range:"( \u7bc4 \u570d : 1 - 45 )"},
{title:"\u9577\u5929\u6578",max:45,min:1,range:"( \u7bc4 \u570d : 1 - 45 )"}]},{text:"MTM",value:8,param:[{title:"\u5929\u6578",max:90,min:1,range:"( \u7bc4 \u570d : 1 - 90 )"}]},{text:"ACC",value:9,param:[{title:"\u5929\u6578",max:90,min:1,range:"( \u7bc4 \u570d : 1 - 90 )"}]},{text:"\u5a01\u5ec9\u6307\u6a19",value:10,param:[{title:"\u5929\u65781",max:360,min:1,range:"( \u7bc4 \u570d : 1 - 360 )"},{title:"\u5929\u65782",max:360,min:1,range:"( \u7bc4 \u570d : 1 - 360 )"},{title:"\u5929\u65783",max:360,
min:1,range:"( \u7bc4 \u570d : 1 - 360 )"}]},{text:"DMI",value:11,param:[{title:"\u5929\u6578",max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"}]},{text:"DMI-Osc",value:12,param:[{title:"\u5929\u6578",max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"}]},{text:"TAPI",value:20,param:[]},{text:"\u5fc3\u7406\u7dda",value:13,param:[{title:"\u5929\u65781",max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"},{title:"\u5929\u65782",max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"}]},{text:"CCI",value:14,param:[{title:"\u5929\u65781",
max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"},{title:"\u5929\u65782",max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"},{title:"\u5929\u65783",max:90,min:2,range:"( \u7bc4 \u570d : 2 - 90 )"}]},{text:"A/D-Osc",value:15,param:[]},{text:"A/DI",value:16,param:[]},{text:"HL-Osc",value:17,param:[]}],p={0:"V",1:"RSI",2:"KD",3:"KDFAST",4:"MACD",5:"AR",6:"BR",7:"BIAS",8:"MTM",9:"ACC",10:"WIL",11:"DMI",12:"DMO",13:"PSY",14:"CCI",15:"ADO",16:"ADI",17:"HLO",18:"OBV",19:"VR",20:"TAPI",21:"VAO",22:"VA",23:"MAO",
24:"3-6",V:"0",RSI:"1",KD:"2",KDFAST:"3",MACD:"4",AR:"5",BR:"6",BIAS:"7",MTM:"8",ACC:"9",WIL:"10",DMI:"11",DMO:"12",PSY:"13",CCI:"14",ADO:"15",ADI:"16",HLO:"17",OBV:"18",VR:"19",TAPI:"20",VAO:"21",VA:"22",MAO:"23","3-6":"24"},n=0,s={mainDiagramType:0,heightSetting:0,heightSetting2:0,sub1:{MA1_enable:1,MA1_value:5,MA2_enable:1,MA2_value:20,MA3_enable:1,MA3_value:60,MA4_enable:0,MA4_value:120,MA5_enable:0,MA5_value:240},sub2:{line_enable:!1,lineType:0,c0:{p1:10,p2:3,p3:3,p4:1},c1:{p1:20,p2:2,p3:2,p4:0},
c2:{p1:0,p2:0,p3:0,p4:0},c3:{p1:0.02,p2:0.02,p3:0.2,p4:0},c4:{p1:0,p2:0,p3:0,p4:0}},sub3:{line_enable:1,lineType:0,c0:{p1:5,p2:10,p3:0,p4:0},c1:{p1:6,p2:12,p3:0,p4:0},c2:{p1:9,p2:3,p3:3,p4:0},c3:{p1:9,p2:3,p3:0,p4:0},c4:{p1:12,p2:26,p3:9,p4:0},c5:{p1:26,p2:0,p3:0,p4:0},c6:{p1:26,p2:0,p3:0,p4:0},c7:{p1:5,p2:10,p3:20,p4:0},c8:{p1:10,p2:0,p3:0,p4:0},c9:{p1:10,p2:0,p3:0,p4:0},c10:{p1:14,p2:28,p3:42,p4:0},c11:{p1:14,p2:0,p3:0,p4:0},c12:{p1:14,p2:0,p3:0,p4:0},c13:{p1:12,p2:24,p3:0,p4:0},c14:{p1:14,p2:28,
p3:42,p4:0},c15:{p1:0,p2:0,p3:0,p4:0},c16:{p1:0,p2:0,p3:0,p4:0},c17:{p1:0,p2:0,p3:0,p4:0},c18:{p1:0,p2:0,p3:0,p4:0},c19:{p1:26,p2:0,p3:0,p4:0},c20:{p1:0,p2:0,p3:0,p4:0},c21:{p1:0,p2:0,p3:0,p4:0},c22:{p1:0,p2:0,p3:0,p4:0},c23:{p1:5,p2:10,p3:0,p4:0},c24:{p1:0,p2:0,p3:0,p4:0}},sub4:{line_enable:1,lineType:1,c0:{p1:5,p2:10,p3:0,p4:0},c1:{p1:6,p2:12,p3:0,p4:0},c2:{p1:9,p2:3,p3:3,p4:0},c3:{p1:9,p2:3,p3:0,p4:0},c4:{p1:12,p2:26,p3:9,p4:0},c5:{p1:26,p2:0,p3:0,p4:0},c6:{p1:26,p2:0,p3:0,p4:0},c7:{p1:5,p2:10,
p3:20,p4:0},c8:{p1:10,p2:0,p3:0,p4:0},c9:{p1:10,p2:0,p3:0,p4:0},c10:{p1:14,p2:25,p3:42,p4:0},c11:{p1:14,p2:0,p3:0,p4:0},c12:{p1:14,p2:0,p3:0,p4:0},c13:{p1:12,p2:24,p3:0,p4:0},c14:{p1:14,p2:28,p3:42,p4:0},c15:{p1:0,p2:0,p3:0,p4:0},c16:{p1:0,p2:0,p3:0,p4:0},c17:{p1:0,p2:0,p3:0,p4:0},c18:{p1:0,p2:0,p3:0,p4:0},c19:{p1:26,p2:0,p3:0,p4:0},c20:{p1:0,p2:0,p3:0,p4:0},c21:{p1:0,p2:0,p3:0,p4:0},c22:{p1:0,p2:0,p3:0,p4:0},c23:{p1:5,p2:10,p3:0,p4:0},c24:{p1:0,p2:0,p3:0,p4:0}}},h={h:"2:1:1",mt:"K",avg:"5,10,20",
tech0:"",isSub1:1,tech1:"V;5,10",isSub2:1,tech2:"KD;9,3,3"},e;e={x:0,y:0,rebind:0,defaultValue:w,definition:{heightSetting:[{text:"2:1:1",value:0},{text:"1:1:1",value:1},{text:"2:2:1",value:2}],heightSetting2:[{text:"2:1",value:0},{text:"1:1",value:1}],main:[{value:0,text:"K\u7dda"},{value:1,text:"\u7f8e\u570b\u7dda"},{value:2,text:"\u6536\u76e4\u7dda"}],sub1:{count:5,max:[360,360,360,360,360],min:[1,1,1,1,1],range:["( 1 - 360 )","( 1 - 360 )","( 1 - 360 )","( 1 - 360 )","( 1 - 360 )"]},sub2:{options:[{text:"\u9c77\u9b5a\u7dda",
value:2,param:[]},{text:"MA\u8ecc\u9053\u7dda",value:0,param:[{title:"\u5929\u6578",max:360,min:1,range:"( \u7bc4 \u570d : 1 - 360 )"},{title:"\u4e0a(%)",max:50,min:1,range:"( \u7bc4 \u570d : 1 - 50 )"},{title:"\u4e0b(%)",max:50,min:1,range:"( \u7bc4 \u570d : 1 - 50 )"},{title:"\u7d44\u6578",max:2,min:1,range:"( \u7bc4 \u570d : 1 - 2 )"}]},{text:"BBand\u8ecc\u9053\u7dda",value:1,param:[{title:"\u5929\u6578",max:360,min:1,range:"( \u7bc4 \u570d : 1 - 360 )"},{title:"\u4e0a",max:10,min:0.1,step:0.1,
range:"( \u7bc4 \u570d : 0.1 - 10 )"},{title:"\u4e0b",max:10,min:0.1,step:0.1,range:"( \u7bc4 \u570d : 0.1 - 10 )"}]},{text:"SAR",value:3,param:[{title:"\u8d77\u59cb",max:0.1,min:0,step:0.01,range:"( \u7bc4 \u570d : 0 - 0.1 )"},{title:"\u7d2f\u52a0",max:0.1,min:0.01,step:0.01,range:"( \u7bc4 \u570d : 0.01 - 0.1 )"},{title:"\u6700\u9ad8",max:1,min:0.1,step:0.1,range:"( \u7bc4 \u570d : 0.1 - 1 )"}]},{text:"CDP",value:4,param:[]}]},sub3:{options:t},sub4:{options:t}}};var b=function(){this._init.apply(this,
arguments)};b.prototype={_$s:null,_entityOld:null,_entityNew:null,_csdDefault:null,_view:null,_evt:null,_dlgAlign:"right",_isDestroy:0,_isTouch:window.ontouchstart===w,_isClick:!1,_createObj:function(a){if(Object.create)return Object.create(a);var c=function(){};c.prototype=a;return new c},_findPos:function(a){var c={left:0,top:0,h:0,w:0},b=a,d=0,g=f("body");if(!b||!b.nodeName)return c;c.h=b.offsetHeight;for(c.w=b.offsetWidth;null!==b&&"BODY"!==b.nodeName&&"HTML"!==b.nodeName&&1E3>d;)c.left+=b.offsetLeft-
1,c.top+=b.offsetTop,b=b.offsetParent,d++;1===g.length&&(c.left+=g[0].offsetLeft,c.top+=g[0].offsetTop);try{if(a.document&&a.document.parentWindow&&a.document.parentWindow.frameElement){var l=f("#"+a.document.parentWindow.frameElement.id);if(l.length){var m=this._findPos(l[0]);c.left+=m.left;c.top+=m.top}}}catch(r){}return c},_setTech:function(a,c,b,d){var g;g=a.lineType.toString();var l=b[d].split(";"),f=l[0],l=1<l.length?l[1]:"";c=c[g];var r=[],h=a["c"+g];for(a=1;4>=a;a++)g=h["p"+a],g!==w&&r.push(g);
r=r.join(",");if(f!==c||l!==r)b[d]=c?c+";"+r:""},_setViewParams:function(a){var c=this._view.getParams();return f.extend(c,a)},_safeParam:function(a){var c={};"string"==typeof a?(a=a.split("&"),f.each(a,function(a,b){b=f.trim(b).split("=");1<b.length&&b[0]&&(c[b[0].toUpperCase()]=b.slice(1).join("="))})):a&&(c=a);return c},_safeAry:function(a){return"string"==typeof a?a.split(" "):f.isArray(a)?a:[]},_rebindExtraTech:function(){var a=0,c=[],b;e.rebind=0;if(this._view.getExtraTech&&(f.each(p,function(c){!isNaN(+c)&&
+c>a&&(a=+c)}),n||(n=a),a=n,e.definition.sub3.options=t.slice(),e.definition.sub4.options=t.slice(),f.each(e.defaultValue.sub3,function(a){0==a.toString().indexOf("c")&&parseInt(a.replace("c",""),10)>n&&c.push(a)}),f.each(c,function(a,c){e.defaultValue.sub3[c]&&delete e.defaultValue.sub3[c];e.defaultValue.sub4[c]&&delete e.defaultValue.sub4[c]}),c.length&&(e.rebind=1),(b=this._view.getExtraTech())&&b.length)){for(i=0;i<b.length;i++){var d=b[i],g=d.id.toUpperCase(),l=[],m={p1:0,p2:0,p3:0,p4:0};a++;
f.each(d.avg,function(a,c){m["p"+(a+1)]=+c;l.push({title:"MA"+(a+1),max:360,min:0,range:"( \u7bc4 \u570d : 0 - 360 )"})});p[a]=g;p[g]=a;e.defaultValue.sub3["c"+a]={p1:m.p1,p2:m.p2,p3:m.p3,p4:m.p4};e.defaultValue.sub4["c"+a]={p1:m.p1,p2:m.p2,p3:m.p3,p4:m.p4};e.definition.sub3.options.push({text:d.name,value:a,param:l,hide:!1===d.is});e.definition.sub4.options.push({text:d.name,value:a,param:l,hide:!1===d.is})}e.rebind=1}},_checkRebindTechs:function(){var a=this._csdDefault,c=!0,b,d,g;this._view.hasVolume&&
(c=this._view.hasVolume());if(!c){d=[];f.each("V OBV VR TAPI VAO VA".split(" "),function(a,c){g=p[c];if(!g)return!0;d.push(g)});f.each(e.definition.sub3.options,function(a,c){if(!d.length)return!1;for(b=d.length-1;0<=b;b--)+d[b]==+c.value&&(c.hide=!0,d.splice(b,1))});var l=a.sub3.lineType,m=a.sub4.lineType,h=0,u=0,c=f.map(e.definition.sub3.options,function(a){if(!a.hide)return l==a.value&&(h=1),a}),z=f.map(e.definition.sub4.options,function(a){if(!a.hide)return m==a.value&&(u=1),a});h||(l=c[0].value);
u||(m=z[0].value);a.sub3.lineType=l;a.sub4.lineType=m}},_setViewTech2csdDefault:function(){var a,c,b,d=this._csdDefault;c=this._view.getMaster();var g=this._safeParam(this._view.getParams()),l=this._view.getMastTech(),h=this._view.getTech(1),r=this._view.getTech(2),u=this._view.getHeightSetting();d.mainDiagramType=+q[c];g&&(g.DV||g.D)&&(a=g.DV||g.D,a=this._safeAry(a),3==a.length?(f.each(e.definition.heightSetting,function(c,d){if(d.text==a.join(":"))return b=d.value.toString(),!1}),b&&(d.heightSetting=
b)):2==a.length&&(f.each(e.definition.heightSetting2,function(c,d){if(d.text==a.join(":"))return b=d.value.toString(),!1}),b&&(d.heightSetting2=b)));a=this._view.getTechParam(l[0]);for(c=0;4>c;c++)b="MA"+(c+1),c<a.length?(d.sub1[b+"_enable"]=1,d.sub1[b+"_value"]=a[c]):d.sub1[b+"_enable"]=0;if(1<l.length&&l[1])for(d.sub2.line_enable=1,b=d.sub2.lineType=+v[l[1]],a=this._view.getTechParam(l[1]),c=0;4>c;c++)0<=a[c]&&(d.sub2["c"+b]["p"+(c+1)]=a[c]);else d.sub2.line_enable=0;if(1<u.length)for(d.sub3.line_enable=
1,b=d.sub3.lineType=+p[h],a=this._view.getTechParam(h),c=0;4>c;c++)0<=a[c]&&(d.sub3["c"+b]["p"+(c+1)]=a[c]);else d.sub3.line_enable=0;if(2<u.length)for(d.sub4.line_enable=1,b=d.sub4.lineType=+p[r],a=this._view.getTechParam(r),c=0;4>c;c++)0<=a[c]&&(d.sub4["c"+b]["p"+(c+1)]=a[c]);else d.sub4.line_enable=0},_repaint:function(){var a,c=this._entityNew,b=this._entityOld,d=a=0,g=0,l=c.isSub1+c.isSub2,h=b.isSub1+b.isSub2,e=[];if(c.mt!==b.mt||c.avg!==b.avg||c.tech0!==b.tech0)a=1;if(c.isSub1!==b.isSub1||c.tech1!==
b.tech1)d=1;if(c.isSub2!==b.isSub2||c.tech2!==b.tech2)g=1;a&&(this._view.setMaster(c.mt,1),a=c.avg?"AVG":"",this._view.setMastTech(0,a,c.avg,1),c.tech0?(a=c.tech0.split(";"),this._view.setMastTech(1,a[0],a[1],1)):this._view.setMastTech(1,""),e.push(0));2==l?(d&&c.isSub1&&(a=c.tech1.split(";"),this._view.setTech(1,a[0],a[1],1),e.push(1)),g&&c.isSub2&&(a=c.tech2.split(";"),this._view.setTech(2,a[0],a[1],1),e.push(2))):l&&(a=c.isSub1?c.tech1:c.tech2,a=a.split(";"),this._view.setTech(1,a[0],a[1],1),e.push(1));
if(c.h!==b.h||l!==h)a=c.h.split(":"),a=this._setViewParams({DV:a,D:a}),this._view.setParams(a);this._view.draw();f.extend(this._entityOld,this._entityNew)},_csd_callback:function(a){var c=this._entityNew,b=[],d="1",g=a.sub1,l=a.sub2,f=a.sub3,h=a.sub4;this._csdDefault=a;c.mt=q[a.mainDiagramType];c.mt||(c.mt=q["0"]);g.MA1_enable&&b.push(g.MA1_value);g.MA2_enable&&b.push(g.MA2_value);g.MA3_enable&&b.push(g.MA3_value);g.MA4_enable&&b.push(g.MA4_value);g.MA5_enable&&b.push(g.MA5_value);c.avg=b.join(",");
l.line_enable?this._setTech(l,v,c,"tech0"):c.tech0="";c.isSub1=f.line_enable?1:0;c.isSub1&&(isTech1Change=this._setTech(f,p,c,"tech1"));c.isSub2=h.line_enable?1:0;c.isSub2&&(isTech2Change=this._setTech(h,p,c,"tech2"));b=c.isSub1+c.isSub2;if(2===b){if(d=a.heightSetting,d=e.definition.heightSetting[d])d=d.text}else b&&(d=a.heightSetting2,d=e.definition.heightSetting2[d])&&(d=d.text);d&&(c.h=d);this._repaint()},_evt_start:function(a){var c=this,b=c._findPos(a.target),d=CSD.dlgW();a=0;var g=f("html").width(),
l,h;l=b.left+b.w/2-d/2;h=b.top+b.h;l+d>g?a=g-l-d:0>l&&(a=-l+b.w/2);e.x=l+a;e.y=h;c._setViewTech2csdDefault();e.defaultValue=c._csdDefault;c._rebindExtraTech();c._checkRebindTechs();c._isClick||(c._entityOld.isSub1=c._csdDefault.sub3.line_enable,c._entityNew.isSub1=c._csdDefault.sub3.line_enable,c._entityOld.isSub2=c._csdDefault.sub4.line_enable,c._entityNew.isSub2=c._csdDefault.sub4.line_enable);CSD.show(e,function(a){c._csd_callback.apply(c,arguments)});b=f(".CSD_TopDecoration");a||(a=15);b.css("margin-left",
-a);c._isClick=!0},_reset$s:function(a){var c=null;a?this._$s="object"==typeof a&&a.jquery?a:f(a):(c=this._view.getElm(),this._$s=f(c).find(".opsSettingBtn>div"))},_rebind:function(){var a=this,c=a._evt,b=a._isTouch?"mousedown":"touchstart";c[b]||(c[b]=function(c){a._evt_start.apply(a,arguments)});a._$s.unbind(b,c[b]);a._$s.bind(b,c[b])},_init:function(a,c){var b=this;b._view=a;b._reset$s(c);b._$s&&b._$s.length?(b._evt={},b._entityOld=b._createObj(h),b._entityNew=b._createObj(h),b._csdDefault=f.extend(!0,
{},s),b._rebind(),b._view.setDrawCall(function(){b._reset$s(c);b._rebind()})):b.destroy()},resize:function(){},destroy:function(){this._isDestroy=1;this._csdDefault=this._evt=this._view=this._entityNew=this._entityOld=this._$s=null}};(function(){window.CSD2K=function(a,c){return new b(a,c)}})()})(jQuery);
(function(f,w){var q,v,t,p,n,s,h,e;p={div:function(b,a,c){b=["<div",' class="',b,'"'];a&&(b=b.concat([' id="',a,'"']));b.push(">");c&&b.push("</div>");return b.join("")},span:function(b,a,c){b=["<span",' class="',b,'"'];a&&(b=b.concat([' id="',a,'"']));b.push(">");c&&b.push("</span>");return b.join("")},singleSelectButton:function(b,a){return['<a val="',b,'" class="CSD_SelectButton CSD_OPT1_',b+1,'">',this.span("CSD_OPT1_icon"),"</span>",this.span("CSD_OPT1_text"),a,"</span></a>"].join("")},toggleButton:function(){return[this.div("offBack",
"",1),this.div("onBack","",1),this.div("pointer","",1)].join("")},dropDownButton:function(b,a){var c=["<select>"];f.each(b,function(b,d){if(d.hide)return!0;c.push('<option value="',d.value,'"',b==a?' selected="selected">':">",d.text,"</option>")});c.push("</select>",this.div("selectBack"),this.span("selectText","",1),this.span("selectIcon","",1),"</div>");return c.join("")},slider:function(b,a){return[this.div("increaseBtn","",1),this.div("bar"),this.div("barSensor","",1),this.div("valueBack","",
1),this.div("slider","",1),"</div>",this.div("decreaseBtn","",1),'<input type="number" min="',b.min,'" max="',b.max,'" step="',b.step,'" value="',a,'" />'].join("")},firstPage:function(){return[this.div("CSD_main"),this.div("CSD_Container"),this.div("CSD_TopDecoration"),"</div>",this.div("CSD_dlgContent"),this.div("CSD_Header"),'<a id="CSD_backBtn" class="CSD_backBtn CSD_Button"><span>\u8fd4\u56de</span></a>',this.div("CSD_HeaderText"),'\u6280\u8853\u5206\u6790\u8a2d\u5b9a</div><a id="CSD_applyBtn" class="CSD_applyBtn CSD_Button"><span>\u5b8c\u6210</span></a></div>',
this.div("CSD_ContentOuter"),this.div("CSD_Content"),this.div("CSD_ContentInner"),this.div("CSD_LabelA"),"\u4e3b\u5716\u985e\u578b</div>",this.div("CSD_OPT1"),"</div>",this.div("CSD_Menu"),'<a id="CSD_goSub1Btn" class="CSD_MenuItem CSD_Button">',this.span("CSD_MenuItemText"),"\u79fb\u52d5\u5e73\u5747\u7dda</span>",this.span("CSD_MenuItemNextIcon"),'</span></a><a id="CSD_goSub2Btn" class="CSD_MenuItem CSD_Button">',this.span("CSD_MenuItemText"),"\u4e3b\u5716\u6307\u6a19</span>",this.div("","CSD_SlaveDiagramLine0",
1),this.span("CSD_MenuItemNextIcon"),'</span></a><a id="CSD_goSub3Btn" class="CSD_MenuItem CSD_Button">',this.span("CSD_MenuItemText"),"\u526f\u5716\u6307\u6a19\u4e00</span>",this.div("","CSD_SlaveDiagramLine1",1),this.span("CSD_MenuItemNextIcon"),'</span></a><a id="CSD_goSub4Btn" class="CSD_MenuItem CSD_Button">',this.span("CSD_MenuItemText"),"\u526f\u5716\u6307\u6a19\u4e8c</span>",this.div("","CSD_SlaveDiagramLine2",1),this.span("CSD_MenuItemNextIcon"),"</span></a></div>",this.div("CSD_OPT2"),this.span("CSD_OPT2Text"),
"\u9ad8\u5ea6\u8a2d\u5b9a</span><div>",this.div("","CSD_OPT2Select",1),this.div("","CSD_OPT2Select2",1),"</div></div></div></div>",this.div("CSD_Content subPage1","",1),this.div("CSD_Content subPage2","",1),this.div("CSD_Content subPage3","",1),this.div("CSD_Content subPage4","",1),"</div></div></div></div>",this.div("CSD_Mask","",1)].join("")},subPage1:function(){return[this.div("CSD_ContentInner"),this.div("CSD_MAItem"),this.div("CSD_MALabel"),"MA1</div>",this.div("","CSD_MA1toggler",1),this.div("",
"CSD_MA1slider",1),this.div("CSD_MenuRngText","CSD_MA1rangeText",1),"</div>",this.div("CSD_MAItem"),this.div("CSD_MALabel"),"MA2</div>",this.div("","CSD_MA2toggler",1),this.div("","CSD_MA2slider",1),this.div("CSD_MenuRngText","CSD_MA2rangeText",1),"</div>",this.div("CSD_MAItem"),this.div("CSD_MALabel"),"MA3</div>",this.div("","CSD_MA3toggler",1),this.div("","CSD_MA3slider",1),this.div("CSD_MenuRngText","CSD_MA3rangeText",1),"</div>",this.div("CSD_MAItem"),this.div("CSD_MALabel"),"MA4</div>",this.div("",
"CSD_MA4toggler",1),this.div("","CSD_MA4slider",1),this.div("CSD_MenuRngText","CSD_MA4rangeText",1),"</div>",this.div("CSD_MAItem"),this.div("CSD_MALabel"),"MA5</div>",this.div("","CSD_MA5toggler",1),this.div("","CSD_MA5slider",1),this.div("CSD_MenuRngText","CSD_MA5rangeText",1),"</div></div>"].join("")},subPage2:function(){return[this.div("CSD_ContentInner"),this.div("CSD_SUB2OPT1"),this.div("CSD_OPT1Select","",1),"</div>",this.div("CSD_Menu"),this.div("CSD_MenuItem CSD_MenuItem_nb"),this.div("CSD_MenuItemText CSD_OPT2sliderText"),
"\u5929\u6578</div>",this.div("clear","",1),this.div("CSD_OPT2slider","",1),this.div("clear","",1),this.div("CSD_MenuRngText CSD_OPT2rangeText","",1),"</div>",this.div("CSD_MenuItem CSD_MenuItem_nb"),this.div("CSD_MenuItemText CSD_OPT3sliderText"),"\u4e0a(%)</div>",this.div("clear","",1),this.div("CSD_OPT3slider","",1),this.div("clear","",1),this.div("CSD_MenuRngText CSD_OPT3rangeText","",1),"</div>",this.div("CSD_MenuItem CSD_MenuItem_nb"),this.div("CSD_MenuItemText CSD_OPT4sliderText"),"\u4e0b(%)</div>",
this.div("clear","",1),this.div("CSD_OPT4slider","",1),this.div("clear","",1),this.div("CSD_MenuRngText CSD_OPT4rangeText","",1),"</div>",this.div("CSD_MenuItem CSD_MenuItem_nb"),this.div("CSD_MenuItemText CSD_OPT5sliderText"),"\u7d44\u6578</div>",this.div("clear","",1),this.div("CSD_OPT5slider","",1),this.div("clear","",1),this.div("CSD_MenuRngText CSD_OPT5rangeText","",1),"</div></div></div>"].join("")},subPage3:function(){return this.subPage2()},subPage4:function(){return this.subPage2()}};n={isTouch:window.ontouchstart===
w,round:function(b){return Math.round(1E4*b)/1E4},preventDefault:function(b){b.stopPropagation();b.preventDefault()},getOriEvt:function(b,a){return b.originalEvent&&b.originalEvent.touches?(a||(a=0),b.originalEvent.touches[a]):b}};q=n.isTouch?"mousedown":"touchstart";v=n.isTouch?"mousemove":"touchmove";t=n.isTouch?"mouseup":"touchend";s={};h={singleSelectValue:function(b,a){b.hasClass("CSD_SingleSelect")&&(b.attr("val",a),b.find("a.CSD_SelectButton").removeClass("current"),b.find('a.CSD_SelectButton[val="'+
a+'"]').addClass("current"))},singleSelectButton:function(b,a,c,k){c||(c=0);var d=[];f.each(a,function(a,b){d=d.concat(p.singleSelectButton(b.value,b.text))});b.addClass("CSD_SingleSelect").attr("val",a[c].value).html(d.join(""));b.find("a.CSD_SelectButton").unbind(q);b.find("a.CSD_SelectButton").bind(q,function(a){a=f(a.target);var b;a.hasClass("CSD_SelectButton")||(a=a.parents(".CSD_SelectButton:first"));b=a.attr("val");a.parent().find(".CSD_SelectButton").removeClass("current");a.addClass("current");
a.parent().attr("val",b);k(b,a[0])});b.find("a.CSD_SelectButton:eq("+c+")").addClass("current")},toggleValue:function(b,a){b.hasClass("CSD_ToggleButton")&&(a=+a?1:0,b.attr("val",a).removeClass("on off").addClass(a?"on":"off"))},toggleButton:function(b,a,c){b.addClass(["CSD_ToggleButton",a?"on":"off"].join(" ")).html(p.toggleButton());b.attr("val",a);b.unbind(q);b.bind(q,function(a){n.preventDefault(a);a=f(a.target);var b;a.hasClass("CSD_ToggleButton")||(a=a.parents(".CSD_ToggleButton:first"));b=a.attr("val");
b=+b?0:1;a.attr("val",b).removeClass("on off").addClass(b?"on":"off");c(b,a[0])})},dropDownValue:function(b,a){if(b.hasClass("CSD_DropDownButton")){var c=b.find("select"),k=b.find(".selectText"),d="",d=c.find('option[value="'+a+'"]').attr("selected",!0).text();k.text(d)}},dropDownButton:function(b,a,c,k){b.addClass("CSD_DropDownButton").html(p.dropDownButton(a,c));var d=b.find("select"),g=b.find(".selectText");g.text(a[c]?a[c].text:a[0].text);d.change(function(a){a=f(a.target);var b=a.val(),c=a.find('option[value="'+
b+'"]').text();g.text(c);a=a.parents(".CSD_DropDownButton:first");k(b,a[0])})},sliderValue:function(b,a,c){if(b.hasClass("CSD_Slider")){var k=h.slider,d=b.attr("sn");a=f.extend({min:1,max:1,step:1},a);c=+c;k.cacheRng[d]=a;b.attr("val",c);b.find("input").attr("max",a.max).attr("min",a.min).attr("step",a.step);h.slider.setVal(b,c)}},slider:function(b,a,c,k){if(!(this instanceof h.slider))return new h.slider(b,a,c,k);this._init(b,a,c,k)}};h.slider.barW=0;h.slider.r=0;h.slider.x0=0;h.slider.left=0;h.slider.timer=
null;h.slider.delay=300;h.slider.current=null;h.slider.sn=0;h.slider.cacheCall={};h.slider.cacheRng={};h.slider.setVal=function(b,a){if(b.hasClass("CSD_Slider")&&!isNaN(a)){var c=h.slider,k=b.attr("sn"),d=b.find(".slider"),g=b.find(".valueBack"),f=b.find("input"),e=c.cacheRng[k],k=+e.max,r=+e.min,e=c.barW,c=c.r;a<r?a=r:a>k&&(a=k);k==r&&k++;k=n.round((e-2*c)*(a-r)/(k-r));b.attr("val",a);d.css("left",k);g.css("right",e-k-c);f.val()!=a&&f.val(a);return a}};h.slider.getVal=function(b,a,c,k,d){b=c+(0>
b?0:b>a?a:b)/a*(k-c);return b=n.round(Math.round(b/d)*d)};h.slider.evt_Move=function(b){var a=h.slider,c=a.current,k=n.getOriEvt(b);if(c){n.preventDefault(b);var d=c.attr("sn");b=a.cacheCall[d];d=a.cacheRng[d];k=a.getVal(a.left+(k.pageX-a.x0),a.barW-2*a.r,d.min,d.max,d.step);k=a.setVal(c,k);b(k,c[0])}};h.slider.evt_End=function(b){b=h.slider;b.current=null;b.x0=0;b.left=0;clearInterval(b.timer)};h.slider.prototype={_sn:0,_callback:null,_$div:null,_nextTo:function(b){var a=h.slider,c=+this._$div.attr("val"),
c=Math.round(1E4*(c+b))/1E4,c=a.setVal(this._$div,c);this._callback&&this._callback(c,this._$div[0])},_evt_barSensor_start:function(b){var a=h.slider,c=n.getOriEvt(b);if(f(c.target).hasClass("barSensor")){var k=a.r,d=c.offsetX?c.offsetX-k:c.layerX-k,k=a.barW-2*k,g=a.cacheRng[this._sn],d=a.getVal(0>d?0:d>k?k:d,k,g.min,g.max,g.step),d=a.setVal(this._$div,d);this._callback&&this._callback(d,this._$div[0]);n.preventDefault(b);a.current=this._$div;a.x0=c.pageX;a.left=parseFloat(this._$div.find(".slider").css("left"))}},
_evt_btn_start:function(b,a){n.preventDefault(b);var c=this,k=h.slider,d=f(b.target).parents(".CSD_Slider:first").attr("sn"),g=k.cacheRng[d].step*a;c._nextTo.apply(c,[g]);clearInterval(k.timer);k.timer=setInterval(function(){c._nextTo.apply(c,[g])},k.delay)},_evt_input_change:function(b){b=h.slider;var a=+this._$div.find("input").val(),a=b.setVal(this._$div,a);this._callback&&this._callback(a,this._$div[0])},_init:function(b,a,c,k){a=f.extend({min:1,max:1,step:1},a);if(!a.step||0>a.step)a.step=1;
c=+c;if(isNaN(c)||c<a.min)c=a.min;b.attr("val",c).addClass("CSD_Slider").html(p.slider(a,c));var d=this,g=h.slider,e=b.find(".bar"),m=b.find(".barSensor"),r=b.find(".slider"),u=b.find(".increaseBtn"),z=b.find(".decreaseBtn"),n=b.find("input"),y=f("html"),x;x=g.sn++;g.cacheCall[x]=k;g.cacheRng[x]=a;g.r=r.width()/2;g.barW=e.width();d._sn=x;d._$div=b;d._callback=k;b.attr("sn",x);g.setVal(b,c);s.slider_end||(s.slider_end=function(a){g.evt_End.apply(g,arguments)});s.slider_move||(s.slider_move=function(a){g.evt_Move.apply(g,
arguments)});y.unbind(t,s.slider_end);y.bind(t,s.slider_end);y.unbind(v,s.slider_move);y.bind(v,s.slider_move);m.bind(q,function(a){d._evt_barSensor_start.apply(d,arguments)});u.bind(q,function(a){d._evt_btn_start.apply(d,[a,1])});z.bind(q,function(a){d._evt_btn_start.apply(d,[a,-1])});n.change(function(a){d._evt_input_change.apply(d,arguments)});n.blur(function(a){d._evt_input_change.apply(d,arguments)})}};e={x:0,y:0,rebind:0,rtnObj:{mainDiagramType:0,heightSetting:0,heightSetting2:0,sub1:{MA1_enable:1,
MA1_value:5},sub2:{line_enable:1,lineType:0,c0:{p1:10,p2:2,p3:2,p4:0}},sub3:{line_enable:1,lineType:0,c0:{p1:5,p2:10,p3:0,p4:0}},sub4:{line_enable:1,lineType:0,c0:{p1:5,p2:10,p3:0,p4:0}}},_entity:{heightSetting:[{text:"2:1:1",value:0}],heightSetting2:[{text:"2:1",value:0}],main:[{value:0,text:"K\u7dda"},{value:1,text:"\u7f8e\u570b\u7dda"},{value:2,text:"\u6536\u76e4\u7dda"}],sub1:{count:3,max:[360,360,360],min:[1,1,1],range:["","",""]},sub2:{options:[{text:"MA\u8ecc\u9053\u7dda",value:0,param:[{title:"\u5929\u6578",
max:60,min:1}],hide:0}]},sub3:{options:[{text:"RSI",value:1,param:[{title:"\u5929\u65781",max:120,min:1}]}]},sub4:{options:[{text:"RSI",value:1,param:[{title:"\u5929\u65781",max:120,min:1}]}]}},_$dlg:null,_$mask:null,_readyCall:null,_toggle_height:function(){var b=e.rtnObj,a=e._$dlg.find(".CSD_OPT2"),c=f("#CSD_OPT2Select"),k=f("#CSD_OPT2Select2"),b=(b.sub3.line_enable?1:0)+(b.sub4.line_enable?1:0);2==b?(a.show(),c.show(),k.hide()):b?(a.show(),k.show(),c.hide()):a.hide()},_sub1Bind:function(b){var a=
this,c=a._entity,k=a.rtnObj,d="MA"+(b+1),g={max:c.sub1.max[b],min:c.sub1.min[b]},e=f("#CSD_"+d+"toggler");b=c.sub1.range[b]?c.sub1.range[b]:"";h.toggleButton(e,k.sub1[d+"_enable"],function(b){a.rtnObj.sub1[d+"_enable"]=b});h.slider(f("#CSD_"+d+"slider"),g,k.sub1[d+"_value"],function(b){a.rtnObj.sub1[d+"_value"]=b});f("#CSD_"+d+"rangeText").html(b);e.parent().addClass("available")},_findOptionIdx:function(b,a){var c=+b;f.each(a,function(a,d){if(+b==+d.value)return c=a,!1});return c},_sub2sliderBind:function(b,
a,c){var k=this,d=k.rtnObj,g="sub"+a;a=k._entity[g].options;var e=k._findOptionIdx(c,a);param=a[e].param;rtnC=d[g]["c"+c];f.each([2,3,4,5],function(a,f){var e=param[a],l=e?e.range?e.range:"":"",p=rtnC?rtnC["p"+(a+1)]:e?e.min:0,n=b.find(".CSD_OPT"+f+"slider");h.slider(n,e,p,function(b){c=d[g].lineType;k.rtnObj[g]["c"+c]["p"+(a+1)]=b});if(!e)return!0;b.find(".CSD_OPT"+f+"sliderText").html(e.title);b.find(".CSD_OPT"+f+"rangeText").html(l);n.parent().addClass("available")})},_sub2sliderValue:function(b,
a,c){var e=this.rtnObj;a="sub"+a;var d=this._entity[a].options,g=this._findOptionIdx(c,d),l=d[g].param,m=e[a]["c"+c];f.each([2,3,4,5],function(a,c){var d=l[a],g=d?d.title:"",e=d?d.range?d.range:"":"",f=m?m["p"+(a+1)]:d?d.min:0,k=b.find(".CSD_OPT"+c+"slider");if(!d)return k.parent().removeClass("available"),!0;h.sliderValue(k,d,f);b.find(".CSD_OPT"+c+"sliderText").html(g);b.find(".CSD_OPT"+c+"rangeText").html(e);k.parent().addClass("available")})},_compBind:function(){var b=this,a,c=b._$dlg,e=b.rtnObj,
d=b._entity;h.singleSelectButton(c.find("div.CSD_OPT1"),d.main,e.mainDiagramType,function(a){b.rtnObj.mainDiagramType=a});h.dropDownButton(c.find("#CSD_OPT2Select"),d.heightSetting,e.heightSetting,function(a){b.rtnObj.heightSetting=a});h.dropDownButton(c.find("#CSD_OPT2Select2"),d.heightSetting2,e.heightSetting2,function(a){b.rtnObj.heightSetting2=a});h.toggleButton(c.find("#CSD_SlaveDiagramLine0"),e.sub2.line_enable,function(a){b.rtnObj.sub2.line_enable=a});h.toggleButton(c.find("#CSD_SlaveDiagramLine1"),
e.sub3.line_enable,function(a){b.rtnObj.sub3.line_enable=a;b._toggle_height()});h.toggleButton(c.find("#CSD_SlaveDiagramLine2"),e.sub4.line_enable,function(a){b.rtnObj.sub4.line_enable=a;b._toggle_height()});for(a=0;a<d.sub1.count;a++)b._sub1Bind(a);f.each([2,3,4],function(a,f){var m=c.find(".subPage"+f),n="sub"+f,p=e[n].lineType;h.dropDownButton(m.find(".CSD_OPT1Select"),d[n].options,p,function(a){b.rtnObj[n].lineType=a;b._sub2sliderValue.apply(b,[m,f,a])});b._sub2sliderBind(m,f,p)})},_eventBind:function(){var b=
this,a=b._$dlg;f("#CSD_backBtn").bind(q,function(b){a.removeClass("openSubPage subPage1 subPage2 subPage3 subPage4")});f("#CSD_applyBtn").bind(q,function(a){b.hide();setTimeout(function(){clearTimeout(this);b._readyCall&&b._readyCall(b.rtnObj)},100)});f("#CSD_goSub1Btn").bind(q,function(b){a.hasClass("openSubPage")||a.addClass("openSubPage subPage1")});f("#CSD_goSub2Btn").bind(q,function(b){a.hasClass("openSubPage")||a.addClass("openSubPage subPage2")});f("#CSD_goSub3Btn").bind(q,function(b){a.hasClass("openSubPage")||
a.addClass("openSubPage subPage3")});f("#CSD_goSub4Btn").bind(q,function(b){a.hasClass("openSubPage")||a.addClass("openSubPage subPage4")});f(".CSD_Mask").bind(q,function(a){b.hide()})},_build:function(b){var a=!0;if(0==f(".CSD_main").length){a=!1;f("body").append(p.firstPage());var c=f(".CSD_main");c.find(".subPage1").html(p.subPage1());c.find(".subPage2").html(p.subPage2());c.find(".subPage3").html(p.subPage3());c.find(".subPage4").html(p.subPage4());this._$dlg=c;this._$mask=f(".CSD_Mask");this._toggle_height();
this._eventBind()}a&&!b||this._compBind();return a},_setDefaultVal:function(){var b=this,a=b._$dlg,c=b.rtnObj,e=b._entity;h.singleSelectValue(a.find("div.CSD_OPT1"),c.mainDiagramType);h.dropDownValue(a.find("#CSD_OPT2Select"),c.heightSetting);h.dropDownValue(a.find("#CSD_OPT2Select2"),c.heightSetting2);h.toggleValue(a.find("#CSD_SlaveDiagramLine0"),c.sub2.line_enable);h.toggleValue(a.find("#CSD_SlaveDiagramLine1"),c.sub3.line_enable);h.toggleValue(a.find("#CSD_SlaveDiagramLine2"),c.sub4.line_enable);
a.find(".subPage1 .CSD_MAItem").removeClass("available");for(var d=0;d<e.sub1.count;d++){var g="MA"+(d+1),l={max:e.sub1.max[d],min:e.sub1.min[d]},m=f("#CSD_"+g+"toggler");h.toggleValue(m,c.sub1[g+"_enable"]);h.sliderValue(f("#CSD_"+g+"slider"),l,c.sub1[g+"_value"]);m.parent().addClass("available")}f.each([2,3,4],function(d,e){var f=a.find(".subPage"+e),g=c["sub"+e].lineType;h.dropDownValue(f.find(".CSD_OPT1Select"),g);b._sub2sliderValue(f,e,g)});b._toggle_height()},show:function(b,a){var c=f("body").height();
e._entity={};e.rtnObj={};f.extend(!0,e._entity,b.definition);f.extend(!0,e.rtnObj,b.defaultValue);b.x&&(e.x=b.x);b.y&&(e.y=b.y);e._readyCall=a;e._build(b.rebind)&&e._setDefaultVal();e._$dlg.css({top:e.y,left:e.x}).show();c&&e._$mask.css("height",c);e._$mask.show()},dlgW:function(){var b;e._$dlg?b=e._$dlg.width():(f("body").append(p.div("CSD_main","",1)),b=f(".CSD_main").width(),f(".CSD_main").remove());return b},hide:function(){e._$dlg&&e._$dlg.removeClass("openSubPage subPage1 subPage2 subPage3 subPage4").hide();
e._$mask&&e._$mask.hide()}};window.CSD=e;window.CSD.Comp=h;window.CSD.Version="1.1"})(jQuery);

</script>

</body>
</html>
