<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>intersection-observer.html</title>
</head>
<body>

<script>
/*! BMWUSA Vite Build 1731603678170 */
(function(){if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}var c=window.document;function d(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||l(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;n?this.intersectionRatio=Number((r/n).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function o(e,t){var n=t||{};if(typeof e!="function")throw new Error("callback must be a function");if(n.root&&n.root.nodeType!=1)throw new Error("root must be an Element");this._checkForIntersections=b(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(i){return i.value+i.unit}).join(" ")}o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(e){var t=this._observationTargets.some(function(n){return n.element==e});if(!t){if(!(e&&e.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(n,i,r){if(typeof n!="number"||isNaN(n)||n<0||n>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return n!==r[i-1]})},o.prototype._parseRootMargin=function(e){var t=e||"0px",n=t.split(/\s+/).map(function(i){var r=/^(-?\d*\.?\d+)(px|%)$/.exec(i);if(!r)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(r[1]),unit:r[2]}});return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(v(window,"resize",this._checkForIntersections,!0),v(c,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(c,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,g(window,"resize",this._checkForIntersections,!0),g(c,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():l();this._observationTargets.forEach(function(n){var i=n.element,r=u(i),s=this._rootContainsTarget(i),h=n.entry,a=e&&s&&this._computeTargetAndRootIntersection(i,t),f=n.entry=new d({time:m(),target:i,boundingClientRect:r,rootBounds:t,intersectionRect:a});h?e&&s?this._hasCrossedThreshold(h,f)&&this._queuedEntries.push(f):h&&h.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(e,t){if(window.getComputedStyle(e).display!="none"){for(var n=u(e),i=n,r=p(e),s=!1;!s;){var h=null,a=r.nodeType==1?window.getComputedStyle(r):{};if(a.display=="none")return;if(r==this.root||r==c?(s=!0,h=t):r!=c.body&&r!=c.documentElement&&a.overflow!="visible"&&(h=u(r)),h&&(i=w(h,i),!i))break;r=p(r)}return i}},o.prototype._getRootRect=function(){var e;if(this.root)e=u(this.root);else{var t=c.documentElement,n=c.body;e={top:0,left:0,right:t.clientWidth||n.clientWidth,width:t.clientWidth||n.clientWidth,bottom:t.clientHeight||n.clientHeight,height:t.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(i,r){return i.unit=="px"?i.value:i.value*(r%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var s=this.thresholds[r];if(s==n||s==i||s<n!=s<i)return!0}},o.prototype._rootIsInDom=function(){return!this.root||_(c,this.root)},o.prototype._rootContainsTarget=function(e){return _(this.root||c,e)},o.prototype._registerInstance=function(){},o.prototype._unregisterInstance=function(){};function m(){return window.performance&&performance.now&&performance.now()}function b(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}function v(e,t,n,i){typeof e.addEventListener=="function"?e.addEventListener(t,n,i||!1):typeof e.attachEvent=="function"&&e.attachEvent("on"+t,n)}function g(e,t,n,i){typeof e.removeEventListener=="function"?e.removeEventListener(t,n,i||!1):typeof e.detatchEvent=="function"&&e.detatchEvent("on"+t,n)}function w(e,t){var n=Math.max(e.top,t.top),i=Math.min(e.bottom,t.bottom),r=Math.max(e.left,t.left),s=Math.min(e.right,t.right),h=s-r,a=i-n;return h>=0&&a>=0&&{top:n,bottom:i,left:r,right:s,width:h,height:a}}function u(e){var t;try{t=e.getBoundingClientRect()}catch{}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):l()}function l(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function _(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(e){var t=e.parentNode;return t&&t.nodeType==11&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}window.IntersectionObserver=o,window.IntersectionObserverEntry=d})();

</script>

</body>
</html>
