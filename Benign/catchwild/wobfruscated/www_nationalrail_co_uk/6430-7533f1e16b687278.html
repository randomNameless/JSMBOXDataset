<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>6430-7533f1e16b687278.html</title>
</head>
<body>
<script>"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6430],{98968:function(e,t,i){i.d(t,{Z:function(){return W}});var a=i(57370),r=i.n(a),n=i(79857),o=i.n(n),l=i(2784),s=i(74742),d=i(64482),c=i(29329),p=i(21131),u=i(50331),m=i(86280),f=i(77617),h=i(19453);let g=h.ZP.fieldset.withConfig({displayName:"styled__StyledRadioButtonsFieldset",componentId:"sc-2hbmkk-0"})(["margin:0;padding:0;border:0;min-width:0;&::after{content:'';display:block;clear:both;}"]),y=h.ZP.legend.withConfig({displayName:"styled__StyledRadioButtonsLegend",componentId:"sc-2hbmkk-1"})(["display:none;"]),v=h.ZP.div.withConfig({displayName:"styled__StyledRadioButtonGroups",componentId:"sc-2hbmkk-2"})(["display:flex;justify-content:",";@media ","{flex-direction:",";}"],({$align:e})=>e??"center",d.eD,({$mobileFlexDirection:e})=>e),w=h.ZP.div.withConfig({displayName:"styled__StyledRadioButtonItem",componentId:"sc-2hbmkk-3"})(["clear:left;display:inline-block;&:first-of-type label{border-radius:"," 0 0 ",";}&:last-of-type label{border-radius:0 "," "," 0;}"," @media ","{"," ","}@media ","{"," ","}",""],(0,u.W)(p.hp),(0,u.W)(p.hp),(0,u.W)(p.hp),(0,u.W)(p.hp),({$checked:e})=>(0,h.iv)(["&:nth-child(","){",";}"],e+1,(0,f.QE)({compType:"radioButtons",elementType:"button"})),d.eD,({$checked:e,$mobileFlexDirection:t})=>(0,h.iv)(["&:not(&:nth-child(",")) + &:not(&:nth-child(",")){",";}"],e+1,e+1,"row"===t?"margin-left: -1px":"margin-top: -1px"),({$checked:e,$mobileFlexDirection:t})=>(0,h.iv)(["&:nth-child(","){&:not(:first-child){",";}&:not(:last-child){",";}}"],e+1,"row"===t?"margin-left: -1px":"margin-top: -1px","row"===t?"margin-right: -1px":"margin-bottom: -1px"),d.y,({$checked:e})=>(0,h.iv)(["&:not(&:nth-child(",")) + &:not(&:nth-child(",")){margin-left:-1px;}"],e+1,e+1),({$checked:e})=>(0,h.iv)(["&:nth-child(","){&:not(:first-child){margin-left:-1px;}&:not(:last-child){margin-right:-1px;}}"],e+1),({$mobileFlexDirection:e})=>"row"!==e&&(0,h.iv)(["@media ","{&:first-of-type label{border-radius:"," "," 0 0;}&:last-of-type label{border-radius:0 0 "," ",";}}"],d.eD,(0,u.W)(p.hp),(0,u.W)(p.hp),(0,u.W)(p.hp),(0,u.W)(p.hp))),x=h.ZP.input.withConfig({displayName:"styled__StyledRadioButtonInput",componentId:"sc-2hbmkk-4"})(["position:absolute;clip:rect(0,0,0,0);height:1px;width:1px;border:0;overflow:hidden;&:checked + label{box-shadow:none;background-color:",";color:",";cursor:default;}&:focus-visible + label{box-shadow:",";}"],s.$R,s.ix,(0,c.sp)({inset:!0})),$=h.ZP.label.withConfig({displayName:"styled__StyledRadioButtonLabel",componentId:"sc-2hbmkk-5"})(["display:flex;justify-content:center;box-shadow:0 0 0 1px "," inset;padding:"," ",";background-color:",";",";cursor:pointer;transition:all 0.5s ease;&:hover{color:",";}"],s.g_,(0,u.W)(p.hp),(0,u.W)(p.$Y),s.ix,(0,m.A)({color:s.tE}),s.$R);var b=i(52322);let _=({name:e,items:t,checkedIndex:i=0,align:a,mobileFlexDirection:n="column",onChange:s,register:d})=>{let[c,p]=(0,l.useState)(i);return(0,b.jsxs)(g,{children:[(0,b.jsxs)(y,{children:["Radio buttons ",e]}),(0,b.jsx)(v,{$mobileFlexDirection:n,$align:a,children:t.map((t,i)=>(0,b.jsxs)(w,{onChange:s,$checked:c,$mobileFlexDirection:n,children:[(0,b.jsx)(x,{type:"radio",id:o()(t.name),name:r()(e),value:o()(t.name),onClick:()=>p(i),defaultChecked:i===c,...d?d(r()(e)):null}),(0,b.jsx)($,{htmlFor:o()(t.name),children:t.label})]},o()(t.name)))})]})};var W=_},24238:function(e,t,i){i.d(t,{E:function(){return r},W:function(){return n}});var a=i(63475);let r=e=>e===a.Ip,n=({value:e})=>e||void 0},22894:function(e,t,i){i.d(t,{Z:function(){return z}});var a=i(57370),r=i.n(a),n=i(98968),o=i(88564),l=i(97321),s=i(23639),d=i(65087),c=i(13661),p=i(73292),u=i(37686),m=i(74742),f=i(64482),h=i(43138),g=i(74300),y=i(21131),v=i(49352),w=i(17399),x=i(72676),$=i(15830),b=i(63475),_=i(44348),W=i(62368),C=i(5632),S=i(2784),I=i(63955),k=i(40946),L=i(66742),T=i(6716),j=i(24238),Z=i(29366),N=i(65372),q=i(50331),E=i(23263),P=i(19453);let D={StyledMainWrapper:(0,P.iv)(["flex-wrap:wrap;"])},R=P.ZP.div.withConfig({displayName:"styled__StyledMainWrapper",componentId:"sc-scz36f-0"})(["position:relative;display:flex;justify-content:flex-end;flex-wrap:wrap;column-gap:",";row-gap:",";@media ","{flex-wrap:wrap-reverse;}"],(0,q.W)(y.hp),(0,q.W)(y.$Y),f.Gz),B=P.ZP.div.withConfig({displayName:"styled__StyledButtonWrapper",componentId:"sc-scz36f-1"})(["display:flex;flex:1;","{width:100%;}@media ","{flex:0.5;}"],Z.Sn,f.v6),M={StyledMainWrapper:R},O=P.ZP.div.withConfig({displayName:"styled__LiveTrainsFinderWrapper",componentId:"sc-scz36f-2"})(["display:flex;flex-direction:column;row-gap:",";",";@media ","{margin:0 ",";","{border-radius:0;}}"],(0,q.W)(y.e_),({$mq1Column:e})=>e&&(0,E.Q)({components:["StyledMainWrapper"],mq1TargetMappings:M,mq1OverrideStyles:D}),f.WQ,(0,q.W)(y.$Y,!0),N.rg);var A=i(52322);let G=({titleBlock:e,themeColor:t,isRedirect:i,handleOnSubmit:a,withContainer:Z=!0,mq1Column:N=!1,url:q="",slimPad:E=!1})=>{let{dispatch:P,state:D}=(0,$.s)(),{getMicrocopy:M}=(0,S.useContext)(u.U),G=(0,C.useRouter)(),z=e=>`live-trains-finder${e?`-${e}`:""}`,F=M(p.cr,"departuresToggle"),Y=M(p.cr,"arrivalsToggle"),K=M(p.cr,"stationFieldPlaceholder"),X=M(p.cr,"submitButton"),Q=(0,T.li)(M,"lt"),{register:U,...V}=(0,I.cI)(),{clearErrors:J,setValue:H}=V,[ee,et]=(0,S.useState)(D?.queryParams?.directionType??b.Ip),[ei,ea]=(0,S.useState)(!1),er=(0,S.useRef)(null),en=e=>{P({type:"SET_DIRECTION_TYPE",payload:e.target.value}),et(e.target.value),J()};(0,S.useEffect)(()=>{ei&&(0,w.K)(er.current)},[ei]),(0,S.useEffect)(()=>{""!==q&&G.push(q,null,{shallow:!0})},[q]),(0,S.useEffect)(()=>{D.queryParams.directionType&&H(`${r()(z("type"))}`,D.queryParams.directionType)},[D.queryParams.directionType,H]);let{trackEvent:eo}=(0,x.Z)(),el=async e=>{let{live_trains_finder_type:t,live_trains_origin:r,hidden_live_trains_origin:n,live_trains_destination:o,hidden_live_trains_destination:l}=e,s=(0,j.E)(t);if(eo(W.Z.TRACK_LIVE_TRAINS_PAGE,{departure_station_name:s?(0,j.W)({value:r}):(0,j.W)({value:o}),departure_station_code:s?(0,j.W)({value:n}):(0,j.W)({value:l}),arrival_station_name:s?(0,j.W)({value:o}):(0,j.W)({value:r}),arrival_station_code:s?(0,j.W)({value:l}):(0,j.W)({value:n})}),a&&a(e,i),P({type:"SUBMIT_FORM"}),i){if(i){let d=await (0,_.ye)([n,l],t);G.push(d)}}else ea(!1)};return(0,A.jsx)(v.M,{condition:Z,wrapper:e=>(0,A.jsx)(h.W2,{id:`${f.b_}-${z()}`,ref:er,themeColor:t,spaceSet:E?g.J$:g.KV,children:(0,A.jsx)(h.X2,{children:(0,A.jsx)(h.JX,{children:e})})}),children:(0,A.jsx)(I.RV,{register:U,...V,children:(0,A.jsxs)("form",{id:z("form"),onSubmit:V.handleSubmit(el),children:[e&&(0,A.jsx)(c.Z,{name:z(),...e,mq1Column:N}),(0,A.jsxs)(O,{$mq1Column:N,children:[(0,A.jsx)(n.Z,{name:z("type"),items:[{name:b.Ip,label:F},{name:b.uD,label:Y}],onChange:en,register:U,mobileFlexDirection:"row"}),(0,A.jsx)(o.Z,{name:z(),color:m.X9,allPadding:[y.$Y],children:(0,A.jsxs)(R,{children:[(0,A.jsx)(L.Z,{name:"live-trains",placeholder:K,labels:{origin:Q[ee].fieldLabel.origin,destination:Q[ee].fieldLabel.destination},filterOptions:k.zi.lt,options:{scrollElement:er.current,mq1Column:N}}),(0,A.jsx)(B,{children:(0,A.jsx)(l.Z,{name:z(),label:X,size:d.c5,set:d.Uc,icon:s.Z,iconProps:{id:`${z()}-submit-icon`,name:`${z()}-submit-icon`},stretch:!0,submit:!0,disable:ei})})]})})]})]})})})};var z=G},28883:function(e,t,i){i(2784);var a=i(64482),r=i(43138),n=i(44980),o=i(52322);let l=({name:e,children:t,areas:i,dynamicAd:l,themeColor:s,spacingTop:d,spacingBottom:c,spaceSet:p,align:u,padStart:m,rowGapSpaceSet:f,dynamicTopic:h,sticky:g,mirrorCols:y})=>(0,o.jsx)(r.W2,{id:`${a.yT}-${e}`,themeColor:s,spacingTop:d,spacingBottom:c,spaceSet:p,children:(0,o.jsx)(r.X2,{align:u,padStart:m,children:(0,o.jsx)(n.z,{$areas:i,$dynamicAd:l,$rowGapSpaceSet:f,$dynamicTopic:h,$sticky:g,$mirrorCols:y,children:t})})});t.Z=l},25836:function(e,t,i){i.d(t,{P:function(){return o}}),i(2784);var a=i(44980),r=i(52322);let n=({area:e,children:t,main:i,padding:n,options:o={}})=>{let{spacingTop:l,padStartBreak:s,stickyTop:d,stickyBottom:c}=o;return(0,r.jsx)(a.a,{$area:e,$main:i,$padding:n,$spacingTop:l,$padStartBreak:s,$stickyTop:d,$stickyBottom:c,"data-sticky":d||c,children:t})};var o=n},44980:function(e,t,i){i.d(t,{a:function(){return d},z:function(){return c}});var a=i(21131),r=i(50331),n=i(77617),o=i(19453),l=i(64482),s=i(58253);let d=o.ZP.div.withConfig({displayName:"styled__StyledGridItem",componentId:"sc-1e4dpq4-0"})(["position:relative;grid-area:",";"," @media ","{margin-left:",";margin-right:",";}@media ","{","}@media ","{margin-left:",";}@media ","{margin-top:",";padding:0 ",";","}"],({$area:e})=>e,({$main:e})=>e&&(0,o.iv)(["display:flex;flex-direction:column;row-gap:",";@media ","{grid-row-end:",";row-gap:",";}"],(0,r.W)(a.NO),l.Gz,e&&"none",(0,r.W)(a.r4)),l.eD,({$padStartBreak:e})=>e&&(0,r.W)(a.$Y,!0),({$padStartBreak:e})=>e&&(0,r.W)(a.$Y,!0),l.Eq,({$stickyTop:e,$stickyBottom:t})=>e?(0,o.iv)(["",";position:sticky;top:var(--header-offset-height);"],(0,n.$0)({appType:"stickyGrid"})):t?(0,o.iv)(["",";position:fixed;right:0;bottom:0;left:0;"],(0,n.$0)({appType:"stickyGrid"})):null,l.v6,({$padStartBreak:e})=>e&&(0,r.W)(a.r4,!0),l.Gz,({$spacingTop:e})=>e&&(0,r.W)(e),({$padding:e})=>e&&(0,r.W)(a.$Y),({$stickyTop:e,$stickyBottom:t})=>(e||t)&&(0,o.iv)(["position:sticky;top:calc("," + var(--header-offset-height));"],(0,r.W)(a.$Y))),c=o.ZP.div.withConfig({displayName:"styled__GridWrapper",componentId:"sc-1e4dpq4-1"})(["display:grid;grid-template-columns:100%;grid-template-areas:",";column-gap:",";row-gap:",";width:100%;","{row-gap:",";}@media ","{padding-right:","px;padding-left:","px;}@media ","{padding-right:","px;padding-left:","px;}@media ","{grid-template-areas:",";grid-template-columns:",";padding-right:","px;padding-left:","px;row-gap:",";","{row-gap:",";","}}@media ","{grid-template-columns:",";column-gap:",";padding-right:","px;padding-left:","px;}"],({$areas:e,$dynamicAd:t,$dynamicTopic:i})=>(0,s.N)({$areas:e,$dynamicAd:t,$dynamicTopic:i}),(0,r.W)(a.$Y),({$rowGapSpaceSet:e})=>e?(0,r.W)(e[0]):(0,r.W)(a.NO),d,({$rowGapSpaceSet:e})=>e?(0,r.W)(e[0]):(0,r.W)(a.NO),l.eD,l.Mf.mq1,l.Mf.mq1,l.v6,l.Mf.mq2,l.Mf.mq2,l.Gz,({$areas:e,$dynamicAd:t})=>(0,s.N)({$areas:e,$mq3:!0,$dynamicAd:t}),({$mirrorCols:e})=>e?`${l.vD.mq3.secondary}% ${l.vD.mq3.primary}%`:`${l.vD.mq3.primary}% ${l.vD.mq3.secondary}%`,l.Mf.mq3,l.Mf.mq3,({$rowGapSpaceSet:e})=>e?(0,r.W)(e[1]):(0,r.W)(a.r4),d,({$rowGapSpaceSet:e})=>e?(0,r.W)(e[1]):(0,r.W)(a.r4),({$sticky:e,$rowGapSpaceSet:t})=>!e&&(0,o.iv)(["&:not(:only-child):last-child{margin-bottom:",";}"],t?(0,r.W)(t[1],!0):(0,r.W)(a.NO,!0)),l.kI,({$mirrorCols:e})=>e?`${l.vD.mq4.secondary}% ${l.vD.mq4.primary}%`:`${l.vD.mq4.primary}% ${l.vD.mq4.secondary}%`,(0,r.W)(a.NO),l.Mf.mq4,l.Mf.mq4)},15830:function(e,t,i){i.d(t,{s:function(){return n}});var a=i(48220),r=i(2784);let n=()=>{let e=(0,r.useContext)(a.eK);if(!e)throw Error("useLiveTrainsStore must be used within a GlobalStoreProvider");let t=(0,a.s6)(e=>e.liveTrains,{useShallow:!0}),i=(0,a.s6)(e=>e.dispatch);return{state:t,dispatch:i}}},26233:function(e,t,i){i.d(t,{Z:function(){return p}});var a=i(13212),r=i(75383),n=i(6647),o=i(63475),l=i(79320);(0,a.r)();let s=()=>new n.GraphQLClient(o.DK,{fetch:void 0}),d=async e=>{try{let t=await e();return t}catch(a){if(a.response){if(200===a.response.status)for(let i of a.response.errors)r.k.error("Live Info 200 Error",i);else r.k.error("Live Info Api Error",a)}else r.k.error("Live Info Api Error",a);throw a}},c=()=>(0,l.mK)(s(),d);function p(){return c()}},46835:function(e,t,i){i.d(t,{Nj:function(){return o},sb:function(){return l}});var a=i(36402),r=i.n(a);i(24238);var n=i(63475);i(79320);let o=e=>[n.Ip,n.uD].includes(e)?e:null,l=e=>e&&3===r()(e)},13212:function(e,t,i){i.d(t,{r:function(){return r}}),i(75383);var a=i(34406);let r=()=>{a.env.SERVICES_API_PROXY}},44348:function(e,t,i){i.d(t,{rm:function(){return b},M$:function(){return v},ye:function(){return $}});var a=i(85651),r=i(72120),n=i(65411),o=i(26233);let l=async()=>(await (0,o.Z)().StationList()).StationList;var s=i(30966);let d=async(e,t=!1)=>await n.Z.ContentfulCache.getOrSetAsync(["getStationSlugByCrsCode",e],async()=>{let i=await (0,s.Z)(t).GetStationSlugByCrsCode({preview:t,crsCode:e.toUpperCase()});return i.stationCollection.items[0]},t,r.Fp.STATION),c=async(e=!1)=>n.Z.ReferenceDataCache.getOrSetAsync(["getStationListWithSlugs"],async()=>{let e=await l();return e.stations.map(e=>({...e,slug:p(e.name)}))},e,r.Fp.STATIONS_LIST),p=e=>e.replace(/\([^)]*\)|[^\w\s-]/g,"").trim().toLowerCase().replace(/\s+/g,"-"),u=async(e,t=!1)=>await m(e,t)??await f(e,t),m=async(e,t=!1)=>(await d(e,t))?.slug,f=async(e,t=!1)=>n.Z.ReferenceDataCache.getOrSetAsync(["getStationListSlugByCrs",e],async()=>(await c(t)).find(t=>t.crs===e)?.slug,t,r.Fp.STATIONS_LIST);var h=i(46835),g=i(90854);let y="/live-trains",v=()=>`${y}/`,w=async({arrivalIdentifier:e,originIdentifier:t,stationSlugs:i})=>{let a=(0,h.sb)(e)?await W(e,i):e,r=t&&(0,h.sb)(t)?await W(t,i):t;return`${y}/arrivals/${a?a.toLocaleLowerCase():e?.toLocaleLowerCase()}${t?`/${r?r.toLocaleLowerCase():t?.toLocaleLowerCase()}`:""}/`},x=async({departureIdentifier:e,destinationIdentifier:t,stationSlugs:i})=>{let a=(0,h.sb)(e)?await W(e,i):e,r=t&&(0,h.sb)(t)?await W(t,i):t;return`${y}/departures/${a?a.toLocaleLowerCase():e?.toLocaleLowerCase()}${t?`/${r?r.toLocaleLowerCase():t?.toLocaleLowerCase()}`:""}/`},$=async(e,t)=>{if(!(e.length>0))return"";{let i=t&&"departures"===t?x({departureIdentifier:e[0],destinationIdentifier:e[1]}):w({arrivalIdentifier:e[0],originIdentifier:e[1]}),a=await i.then(e=>e);return a}},b=({rid:e,directionType:t,targetCrs:i,filterCrs:a})=>`${y}/details?sid=${e}&type=${t}&targetCrs=${i}${a?"&filterCrs="+a:""}`,_=async e=>{try{let t=await fetch((0,g.WN)(`/nreapi/live-trains/slug/?crs=${e}`));if(t.status>=200&&t.status<300){let i=await t.json();return i.slug}throw Error("There was an issue retrieving latest travel information")}catch(a){throw Error(a)}},W=async(e,t)=>a.j?await _(e):t?.find(t=>t.crsCode===e)?.slug??await u(e)}}]);</script>
</body>
</html>
