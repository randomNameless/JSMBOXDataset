<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>face.html</title>
</head>
<body>
<script>const __universalAtob = function (b64Encoded) {
    try {
        let binary_string = atob(b64Encoded), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(b64Encoded, 'base64'));
    }
};
const __ifWasmBuffer = 'AGFzbQEAAAABiICAgAACYAAAYAF/AAKfgICAAAIDZW52CGltcEZ1bmMxAAADZW52CGltcEZ1bmMyAAADgoCAgAABAQSEgICAAAFwAAAFg4CAgAABAAEHkYCAgAACBm1lbW9yeQIABGRhdGEAAgqSgICAAAGMgICAAAAgAARAEAAFEAELCw==';
const __ifWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__ifWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__ifWasmBuffer, 'base64'));
    }
})());
const __callWasmBuffer = 'AGFzbQEAAAABhICAgAABYAAAAo+AgIAAAQNlbnYHaW1wRnVuYwAAA4KAgIAAAQAEhICAgAABcAAABYOAgIAAAQABB5GAgIAAAgZtZW1vcnkCAARkYXRhAAEKioCAgAABhICAgAAAEAAL';
const __callWasmModule = new WebAssembly.Module((() => {
    try {
        let binary_string = atob(__callWasmBuffer), len = binary_string.length, bytes = new Uint8Array(len);
        for (let i = 0; i < len; i++) {
            bytes[i] = binary_string.charCodeAt(i);
        }
        return bytes;
    } catch (err) {
        return new Uint8Array(global.Buffer.from(__callWasmBuffer, 'base64'));
    }
})());
const __wasmStringModules = ['AGFzbQEAAAAFg4CAgAABAAEG9oOAgABVfwBBAQt/AEEGC38AQRALfwBBEgt/AEEcC38AQSILfwBBKgt/AEEyC38AQTwLfwBBxAALfwBB2AALfwBB4AALfwBB6gALfwBB8gALfwBBhgELfwBBiAELfwBBjgELfwBBlgELfwBBmAELfwBBogELfwBBqAELfwBBsAELfwBBtgELfwBBvgELfwBBwAELfwBByAELfwBBzgELfwBB1gELfwBB3AELfwBB5AELfwBB6gELfwBB8gELfwBB9AELfwBBiAILfwBBkAILfwBBlgILfwBBngILfwBBogILfwBBpgILfwBBqgILfwBBtAILfwBBvAILfwBBygILfwBBngMLfwBBogMLfwBBpgMLfwBBqgMLfwBBsAMLfwBBzgMLfwBB0AMLfwBB1gMLfwBBggQLfwBBjgQLfwBBlAQLfwBBpAQLfwBBsgQLfwBBuAQLfwBBwAQLfwBBzAQLfwBB4AQLfwBB6gQLfwBB8AQLfwBB+AQLfwBB/gQLfwBBhgULfwBBjgULfwBBlAULfwBBoAULfwBBqAULfwBBsgULfwBBuAULfwBBvgULfwBBygULfwBB1gULfwBB4AULfwBB6AULfwBB7gULfwBB+gULfwBBhgYLfwBBkAYLfwBBlgYLfwBBnAYLfwBBqAYLfwBBsAYLfwBBugYLB/2FgIAAVgZtZW1vcnkCAAVkYXRhMAMABWRhdGExAwEFZGF0YTIDAgVkYXRhMwMDBWRhdGE0AwQFZGF0YTUDBQVkYXRhNgMGBWRhdGE3AwcFZGF0YTgDCAVkYXRhOQMJBmRhdGExMAMKBmRhdGExMQMLBmRhdGExMgMMBmRhdGExMwMNBmRhdGExNAMOBmRhdGExNQMPBmRhdGExNgMQBmRhdGExNwMRBmRhdGExOAMSBmRhdGExOQMTBmRhdGEyMAMUBmRhdGEyMQMVBmRhdGEyMgMWBmRhdGEyMwMXBmRhdGEyNAMYBmRhdGEyNQMZBmRhdGEyNgMaBmRhdGEyNwMbBmRhdGEyOAMcBmRhdGEyOQMdBmRhdGEzMAMeBmRhdGEzMQMfBmRhdGEzMgMgBmRhdGEzMwMhBmRhdGEzNAMiBmRhdGEzNQMjBmRhdGEzNgMkBmRhdGEzNwMlBmRhdGEzOAMmBmRhdGEzOQMnBmRhdGE0MAMoBmRhdGE0MQMpBmRhdGE0MgMqBmRhdGE0MwMrBmRhdGE0NAMsBmRhdGE0NQMtBmRhdGE0NgMuBmRhdGE0NwMvBmRhdGE0OAMwBmRhdGE0OQMxBmRhdGE1MAMyBmRhdGE1MQMzBmRhdGE1MgM0BmRhdGE1MwM1BmRhdGE1NAM2BmRhdGE1NQM3BmRhdGE1NgM4BmRhdGE1NwM5BmRhdGE1OAM6BmRhdGE1OQM7BmRhdGE2MAM8BmRhdGE2MQM9BmRhdGE2MgM+BmRhdGE2MwM/BmRhdGE2NANABmRhdGE2NQNBBmRhdGE2NgNCBmRhdGE2NwNDBmRhdGE2OANEBmRhdGE2OQNFBmRhdGE3MANGBmRhdGE3MQNHBmRhdGE3MgNIBmRhdGE3MwNJBmRhdGE3NANKBmRhdGE3NQNLBmRhdGE3NgNMBmRhdGE3NwNNBmRhdGE3OANOBmRhdGE3OQNPBmRhdGE4MANQBmRhdGE4MQNRBmRhdGE4MgNSBmRhdGE4MwNTBmRhdGE4NANUC6SJgIAAVQBBAQsEJTJGAABBBgsIdW5rbm93bgAAQRALAQAAQRILCHVua25vd24AAEEcCwQlMjMAAEEiCwZfbmFtZQAAQSoLBnRpdGxlAABBMgsIdW5rbm93bgAAQTwLBnRpdGxlAABBxAALEmRlZmF1bHRUZXh0QWN0aXZlAABB2AALBnRpdGxlAABB4AALCHVua25vd24AAEHqAAsGdHJhc2gAAEHyAAsSZGVmYXVsdFRleHRBY3RpdmUAAEGGAQsBAABBiAELBCUyMwAAQY4BCwZfbmFtZQAAQZYBCwEAAEGYAQsIdW5rbm93bgAAQaIBCwQlMjMAAEGoAQsGX25hbWUAAEGwAQsEJTIzAABBtgELBl9uYW1lAABBvgELAQAAQcABCwZ0cmFzaAAAQcgBCwQlMjMAAEHOAQsGX25hbWUAAEHWAQsEJTIzAABB3AELBl9uYW1lAABB5AELBCUyMwAAQeoBCwZfbmFtZQAAQfIBCwEAAEH0AQsSZGVmYXVsdFRleHRBY3RpdmUAAEGIAgsGdGl0bGUAAEGQAgsEJTIzAABBlgILBl9uYW1lAABBngILAigAAEGiAgsCKQAAQaYCCwJpAABBqgILCHVua25vd24AAEG0AgsGdHJhc2gAAEG8AgsNJTIzZGl2UmVzdWx0AABBygILUyUzQ2RpdiUyMGlkJTNEJTIyZGl2UmVzdWx0JTIyJTIwY2xhc3MlM0QlMjJ0cmlhbmdsZS1ib3JkZXIlMjB0b3AlMjIlM0UlM0MlMkZkaXYlM0UAAEGeAwsCKAAAQaIDCwIpAABBpgMLAmkAAEGqAwsFJTNDcAAAQbADCx0lMjBjbGFzcyUzRCUyMnNlbGVjdGVkJTIyJTIwAABBzgMLAQAAQdADCwQlM0UAAEHWAwsrJTNDYiUyMGNsYXNzJTNEJ3NlbGVjdGVkJyUzRSUyNDElM0MlMkZiJTNFAABBggQLCyUzQyUyRnAlM0UAAEGOBAsEJTIzAABBlAQLDl9hdXRvY29tcGxldGUAAEGkBAsNJTIzZGl2UmVzdWx0AABBsgQLBCUyMwAAQbgECwZfbmFtZQAAQcAECwslMjNmYWNlVHBsAABBzAQLEiUyM2ZhY2UtY29udGFpbmVyAABB4AQLCHVua25vd24AAEHqBAsEJTIzAABB8AQLBl9uYW1lAABB+AQLBCUyMwAAQf4ECwZfbmFtZQAAQYYFCwZ0aXRsZQAAQY4FCwQlMjMAAEGUBQsLX2NvbnRhaW5lcgAAQaAFCwYlMjNvawAAQagFCwhkaXNwbGF5AABBsgULBW5vbmUAAEG4BQsEJTIzAABBvgULC19jb250YWluZXIAAEHKBQsLJTIzcGVuZGluZwAAQdYFCwhkaXNwbGF5AABB4AULBmJsb2NrAABB6AULBCUyMwAAQe4FCwtfY29udGFpbmVyAABB+gULCyUyM3BlbmRpbmcAAEGGBgsIZGlzcGxheQAAQZAGCwVub25lAABBlgYLBCUyMwAAQZwGCwtfY29udGFpbmVyAABBqAYLBiUyM29rAABBsAYLCGRpc3BsYXkAAEG6BgsGYmxvY2sA'].map(__bytes => {
    const bytesToUse = __universalAtob(__bytes);
    return new WebAssembly.Instance(new WebAssembly.Module(bytesToUse));
});
const lS = (wI, pos, iWC) => {
    let __str = '';
    if (!Array.isArray(wI)) {
        let __targetModule = __wasmStringModules[wI];
        let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
        const __stringKey = `data${ pos }`;
        let __start = __targetModule.exports[__stringKey] - 1;
        let __str = '';
        let i = __start;
        let __c = __mem[i++];
        while (!(parseInt(__c) & 128) && __mem[i]) {
            __str += __c;
            __c = String.fromCharCode(__mem[i++]);
        }
        __str += __c;
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    } else {
        for (const __wasmIndex of wI) {
            let __targetModule = __wasmStringModules[__wasmIndex];
            let __mem = new Uint8Array(__targetModule.exports.memory.buffer);
            const __stringKey = `data${ pos }`;
            let __start = __targetModule.exports[__stringKey] - 1;
            let i = __start;
            let __c = __mem[i++];
            while (!(parseInt(__c) & 128) && __mem[i]) {
                __str += __c;
                __c = String.fromCharCode(__mem[i++]);
            }
            __str += __c;
        }
        __str = decodeURIComponent(__str.substring(1));
        return __str;
    }
};
function Face(json) {
    var self = this;
    self.id = getUID();
    self.uid = json.uid;
    self.name = json.people;
    self.basename = json.people;
    self.basepath = json.basepath;
    self.thumb = json.thumb = json.path + lS(0, 0) + json.name;
    self.focused = false;
    self.autocompleteSelection = -1;
    self.matchs = [];
    self.savedVal = null;
    self._showLoading = false;
    self.recognized = self.name !== lS(0, 1);
    self.recognitionInProgress = false;
    self.batch = new Batch(Face.BatchContainer, function () {
    }, null);
    self.changeName = function (name) {
        if (name == self.basename || name == lS(0, 2) || name == lS(0, 3))
            return;
        self.recognized = true;
        self.focused = false;
        (() => {
            const __callInstance38 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        self.cancelRecognition();
                    }
                }
            });
            const __exports = __callInstance38.exports;
            return __exports.data();
        })();
        self.basename = name;
        (() => {
            const __callInstance37 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        People.getInstance(self).rmFace(self);
                    }
                }
            });
            const __exports = __callInstance37.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance36 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        People.getInstance({ name: name }).addFace(self);
                    }
                }
            });
            const __exports = __callInstance36.exports;
            return __exports.data();
        })();
    };
    self.addActions = function () {
        (() => {
            const __callInstance35 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 4) + self.id + lS(0, 5)).val(t(self.name)).attr(lS(0, 6), t(self.name)).focus(function () {
                            (() => {
                                const __ifInstance0 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                (() => {
                                                    const __callInstance34 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                this.select();
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance34.exports;
                                                    return __exports.data();
                                                })();
                                                (() => {
                                                    const __ifInstance1 = new WebAssembly.Instance(__ifWasmModule, {
                                                        env: {
                                                            impFunc1: () => {
                                                                {
                                                                    (() => {
                                                                        const __callInstance33 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    $(this).removeClass(lS(0, 9));
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance33.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                }
                                                            },
                                                            impFunc2: () => {
                                                            }
                                                        }
                                                    });
                                                    const __exports = __ifInstance1.exports;
                                                    return __exports.data($(this).val() == $(this).attr(lS(0, 8)) ? 1 : 0);
                                                })();
                                            }
                                        },
                                        impFunc2: () => {
                                            {
                                                (() => {
                                                    const __ifInstance2 = new WebAssembly.Instance(__ifWasmModule, {
                                                        env: {
                                                            impFunc1: () => {
                                                                {
                                                                    (() => {
                                                                        const __callInstance32 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    $(this).removeClass(lS(0, 13));
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance32.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                    (() => {
                                                                        const __callInstance31 = new WebAssembly.Instance(__callWasmModule, {
                                                                            env: {
                                                                                impFunc: () => {
                                                                                    $(this).val(lS(0, 14));
                                                                                }
                                                                            }
                                                                        });
                                                                        const __exports = __callInstance31.exports;
                                                                        return __exports.data();
                                                                    })();
                                                                }
                                                            },
                                                            impFunc2: () => {
                                                            }
                                                        }
                                                    });
                                                    const __exports = __ifInstance2.exports;
                                                    return __exports.data($(this).val() == $(this).attr(lS(0, 10)) || self.name == lS(0, 11) || self.name == lS(0, 12) ? 1 : 0);
                                                })();
                                            }
                                        }
                                    }
                                });
                                const __exports = __ifInstance0.exports;
                                return __exports.data(self.recognized && self.name != lS(0, 7) ? 1 : 0);
                            })();
                            self.focused = true;
                            self.autocompleteSelection = -1;
                            (() => {
                                const __callInstance30 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            self.showAutocomplete();
                                        }
                                    }
                                });
                                const __exports = __callInstance30.exports;
                                return __exports.data();
                            })();
                        }).keydown(function (evt) {
                            (() => {
                                const __ifInstance3 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                var n = $(lS(0, 15) + self.id + lS(0, 16)).val();
                                                (() => {
                                                    const __ifInstance4 = new WebAssembly.Instance(__ifWasmModule, {
                                                        env: {
                                                            impFunc1: () => {
                                                                (() => {
                                                                    const __callInstance29 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                self.changeName($(lS(0, 19) + self.id + lS(0, 20)).val());
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance29.exports;
                                                                    return __exports.data();
                                                                })();
                                                            },
                                                            impFunc2: () => {
                                                            }
                                                        }
                                                    });
                                                    const __exports = __ifInstance4.exports;
                                                    return __exports.data(n != lS(0, 17) && n != lS(0, 18) ? 1 : 0);
                                                })();
                                                (() => {
                                                    const __callInstance28 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                self.closeAutocomplete();
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance28.exports;
                                                    return __exports.data();
                                                })();
                                            }
                                        },
                                        impFunc2: () => {
                                            (() => {
                                                const __ifInstance5 = new WebAssembly.Instance(__ifWasmModule, {
                                                    env: {
                                                        impFunc1: () => {
                                                            {
                                                                self.focused = false;
                                                                (() => {
                                                                    const __callInstance27 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                self.changeName(lS(0, 24));
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance27.exports;
                                                                    return __exports.data();
                                                                })();
                                                                (() => {
                                                                    const __callInstance26 = new WebAssembly.Instance(__callWasmModule, {
                                                                        env: {
                                                                            impFunc: () => {
                                                                                self.closeAutocomplete();
                                                                            }
                                                                        }
                                                                    });
                                                                    const __exports = __callInstance26.exports;
                                                                    return __exports.data();
                                                                })();
                                                            }
                                                        },
                                                        impFunc2: () => {
                                                            (() => {
                                                                const __ifInstance6 = new WebAssembly.Instance(__ifWasmModule, {
                                                                    env: {
                                                                        impFunc1: () => {
                                                                            {
                                                                                self.autocompleteSelection++;
                                                                                (() => {
                                                                                    const __callInstance25 = new WebAssembly.Instance(__callWasmModule, {
                                                                                        env: {
                                                                                            impFunc: () => {
                                                                                                $(lS(0, 25) + self.id + lS(0, 26)).val(self.getAutocompleteName());
                                                                                            }
                                                                                        }
                                                                                    });
                                                                                    const __exports = __callInstance25.exports;
                                                                                    return __exports.data();
                                                                                })();
                                                                            }
                                                                        },
                                                                        impFunc2: () => {
                                                                            (() => {
                                                                                const __ifInstance7 = new WebAssembly.Instance(__ifWasmModule, {
                                                                                    env: {
                                                                                        impFunc1: () => {
                                                                                            {
                                                                                                self.autocompleteSelection--;
                                                                                                (() => {
                                                                                                    const __callInstance24 = new WebAssembly.Instance(__callWasmModule, {
                                                                                                        env: {
                                                                                                            impFunc: () => {
                                                                                                                $(lS(0, 27) + self.id + lS(0, 28)).val(self.getAutocompleteName());
                                                                                                            }
                                                                                                        }
                                                                                                    });
                                                                                                    const __exports = __callInstance24.exports;
                                                                                                    return __exports.data();
                                                                                                })();
                                                                                            }
                                                                                        },
                                                                                        impFunc2: () => {
                                                                                            {
                                                                                                self.savedVal = $(lS(0, 29) + self.id + lS(0, 30)).val();
                                                                                                self.autocompleteSelection = -1;
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                });
                                                                                const __exports = __ifInstance7.exports;
                                                                                return __exports.data(evt.keyCode == 38 ? 1 : 0);
                                                                            })();
                                                                        }
                                                                    }
                                                                });
                                                                const __exports = __ifInstance6.exports;
                                                                return __exports.data(evt.keyCode == 40 ? 1 : 0);
                                                            })();
                                                        }
                                                    }
                                                });
                                                const __exports = __ifInstance5.exports;
                                                return __exports.data(evt.keyCode == 46 && $(lS(0, 21) + self.id + lS(0, 22)).val() == lS(0, 23) ? 1 : 0);
                                            })();
                                        }
                                    }
                                });
                                const __exports = __ifInstance3.exports;
                                return __exports.data(evt.keyCode == 13 || evt.keyCode == 9 ? 1 : 0);
                            })();
                        }).keyup(function () {
                            (() => {
                                const __ifInstance8 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            (() => {
                                                const __callInstance23 = new WebAssembly.Instance(__callWasmModule, {
                                                    env: {
                                                        impFunc: () => {
                                                            self.showAutocomplete();
                                                        }
                                                    }
                                                });
                                                const __exports = __callInstance23.exports;
                                                return __exports.data();
                                            })();
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance8.exports;
                                return __exports.data(self.focused ? 1 : 0);
                            })();
                        }).blur(function () {
                            (() => {
                                const __ifInstance9 = new WebAssembly.Instance(__ifWasmModule, {
                                    env: {
                                        impFunc1: () => {
                                            {
                                                (() => {
                                                    const __callInstance22 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                $(this).addClass(lS(0, 32));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance22.exports;
                                                    return __exports.data();
                                                })();
                                                (() => {
                                                    const __callInstance21 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                $(this).val($(this).attr(lS(0, 33)));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance21.exports;
                                                    return __exports.data();
                                                })();
                                            }
                                        },
                                        impFunc2: () => {
                                        }
                                    }
                                });
                                const __exports = __ifInstance9.exports;
                                return __exports.data($(this).val() == lS(0, 31) ? 1 : 0);
                            })();
                            (() => {
                                const __callInstance20 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            self.closeAutocomplete();
                                        }
                                    }
                                });
                                const __exports = __callInstance20.exports;
                                return __exports.data();
                            })();
                            self.focused = false;
                            self.autocompleteSelection = -1;
                        });
                    }
                }
            });
            const __exports = __callInstance35.exports;
            return __exports.data();
        })();
    };
    self.sanitizeAutocompleteSelection = function () {
        (() => {
            const __ifInstance10 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        self.autocompleteSelection = -1;
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance10.exports;
            return __exports.data(self.autocompleteSelection < -1 ? 1 : 0);
        })();
        (() => {
            const __ifInstance11 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        self.autocompleteSelection = self.matchs.length - 1;
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance11.exports;
            return __exports.data(self.autocompleteSelection >= self.matchs.length ? 1 : 0);
        })();
    };
    self.showAutocomplete = function () {
        (() => {
            const __ifInstance12 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            var people = People.getKnownPeople();
                            self.matchs = [];
                            self.savedVal = $(lS(0, 34) + self.id + lS(0, 35)).val();
                            var regexp = new RegExp(lS(0, 36) + self.savedVal + lS(0, 37), lS(0, 38));
                            for (var p in people) {
                                (() => {
                                    const __ifInstance13 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                (() => {
                                                    const __callInstance19 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                self.matchs.push(people[p]);
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance19.exports;
                                                    return __exports.data();
                                                })();
                                            },
                                            impFunc2: () => {
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance13.exports;
                                    return __exports.data(people[p].match(regexp) && people[p] != lS(0, 39) && people[p] != lS(0, 40) ? 1 : 0);
                                })();
                            }
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance12.exports;
            return __exports.data(self.autocompleteSelection <= -1 ? 1 : 0);
        })();
        (() => {
            const __callInstance18 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        self.sanitizeAutocompleteSelection();
                    }
                }
            });
            const __exports = __callInstance18.exports;
            return __exports.data();
        })();
        if (self.matchs.length == 0) {
            (() => {
                const __callInstance17 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            self.closeAutocomplete();
                        }
                    }
                });
                const __exports = __callInstance17.exports;
                return __exports.data();
            })();
            return;
        }
        (() => {
            const __callInstance16 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 41)).remove();
                    }
                }
            });
            const __exports = __callInstance16.exports;
            return __exports.data();
        })();
        var res = $(lS(0, 42));
        var reg = new RegExp(lS(0, 43) + self.savedVal + lS(0, 44), lS(0, 45));
        for (var m in self.matchs) {
            (() => {
                const __callInstance15 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            res.append($(lS(0, 46) + (m == self.autocompleteSelection ? lS(0, 47) : lS(0, 48)) + lS(0, 49) + self.matchs[m].replace(reg, lS(0, 50)) + lS(0, 51)));
                        }
                    }
                });
                const __exports = __callInstance15.exports;
                return __exports.data();
            })();
        }
        (() => {
            const __callInstance14 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 52) + self.id + lS(0, 53)).html(res);
                    }
                }
            });
            const __exports = __callInstance14.exports;
            return __exports.data();
        })();
    };
    self.closeAutocomplete = function () {
        self.autocompleteSelection = -1;
        (() => {
            const __callInstance13 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 54)).remove();
                    }
                }
            });
            const __exports = __callInstance13.exports;
            return __exports.data();
        })();
    };
    self.getAutocompleteName = function () {
        (() => {
            const __callInstance12 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        self.sanitizeAutocompleteSelection();
                    }
                }
            });
            const __exports = __callInstance12.exports;
            return __exports.data();
        })();
        if (self.autocompleteSelection != -1)
            return self.matchs[self.autocompleteSelection];
        else
            return self.savedVal !== null ? self.savedVal : $(lS(0, 55) + self.id + lS(0, 56)).val();
    };
    self.show = function () {
        (() => {
            const __callInstance11 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 57)).tmpl(self).appendTo($(lS(0, 58)));
                    }
                }
            });
            const __exports = __callInstance11.exports;
            return __exports.data();
        })();
        (() => {
            const __ifInstance14 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        (() => {
                            const __callInstance10 = new WebAssembly.Instance(__callWasmModule, {
                                env: {
                                    impFunc: () => {
                                        self.showLoading();
                                    }
                                }
                            });
                            const __exports = __callInstance10.exports;
                            return __exports.data();
                        })();
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance14.exports;
            return __exports.data(self._showLoading ? 1 : 0);
        })();
        (() => {
            const __callInstance9 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        self.addActions();
                    }
                }
            });
            const __exports = __callInstance9.exports;
            return __exports.data();
        })();
        if (self.recognized && self.name != lS(0, 59)) {
            (() => {
                const __callInstance8 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            $(lS(0, 60) + self.id + lS(0, 61)).val(self.name);
                        }
                    }
                });
                const __exports = __callInstance8.exports;
                return __exports.data();
            })();
            return;
        }
        if (!self.recognitionInProgress) {
            (() => {
                const __callInstance7 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            self.batch.get({
                                action: 'face.recognize',
                                dir: self.basepath,
                                face: self.uid
                            }, function (json) {
                                if (self.recognized)
                                    return;
                                self.name = json.name;
                                self.recognized = true;
                                (() => {
                                    const __ifInstance15 = new WebAssembly.Instance(__ifWasmModule, {
                                        env: {
                                            impFunc1: () => {
                                                (() => {
                                                    const __callInstance6 = new WebAssembly.Instance(__callWasmModule, {
                                                        env: {
                                                            impFunc: () => {
                                                                $(lS(0, 62) + self.id + lS(0, 63)).val(t(self.name)).attr(lS(0, 64), t(self.name));
                                                            }
                                                        }
                                                    });
                                                    const __exports = __callInstance6.exports;
                                                    return __exports.data();
                                                })();
                                            },
                                            impFunc2: () => {
                                            }
                                        }
                                    });
                                    const __exports = __ifInstance15.exports;
                                    return __exports.data(!self.focused ? 1 : 0);
                                })();
                            });
                        }
                    }
                });
                const __exports = __callInstance7.exports;
                return __exports.data();
            })();
            (() => {
                const __callInstance5 = new WebAssembly.Instance(__callWasmModule, {
                    env: {
                        impFunc: () => {
                            self.batch.launch();
                        }
                    }
                });
                const __exports = __callInstance5.exports;
                return __exports.data();
            })();
        }
        self.recognitionInProgress = true;
    };
    self.showLoading = function () {
        (() => {
            const __callInstance4 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 65) + self.id + lS(0, 66)).find(lS(0, 67)).css(lS(0, 68), lS(0, 69));
                    }
                }
            });
            const __exports = __callInstance4.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance3 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 70) + self.id + lS(0, 71)).find(lS(0, 72)).css(lS(0, 73), lS(0, 74));
                    }
                }
            });
            const __exports = __callInstance3.exports;
            return __exports.data();
        })();
        self._showLoading = true;
    };
    self.showLoaded = function () {
        (() => {
            const __callInstance2 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 75) + self.id + lS(0, 76)).find(lS(0, 77)).css(lS(0, 78), lS(0, 79));
                    }
                }
            });
            const __exports = __callInstance2.exports;
            return __exports.data();
        })();
        (() => {
            const __callInstance1 = new WebAssembly.Instance(__callWasmModule, {
                env: {
                    impFunc: () => {
                        $(lS(0, 80) + self.id + lS(0, 81)).find(lS(0, 82)).css(lS(0, 83), lS(0, 84));
                    }
                }
            });
            const __exports = __callInstance1.exports;
            return __exports.data();
        })();
        self._showLoading = false;
    };
    self.cancelRecognition = function () {
        (() => {
            const __ifInstance16 = new WebAssembly.Instance(__ifWasmModule, {
                env: {
                    impFunc1: () => {
                        {
                            (() => {
                                const __callInstance0 = new WebAssembly.Instance(__callWasmModule, {
                                    env: {
                                        impFunc: () => {
                                            self.batch.cancel();
                                        }
                                    }
                                });
                                const __exports = __callInstance0.exports;
                                return __exports.data();
                            })();
                            self.recognitionInProgress = false;
                        }
                    },
                    impFunc2: () => {
                    }
                }
            });
            const __exports = __ifInstance16.exports;
            return __exports.data(self.recognitionInProgress ? 1 : 0);
        })();
    };
}
;
Face.BatchContainer = new BatchContainer(3);
Face.instances = {};
Face.getInstance = function (json) {
    if (this.instances[json.uid])
        return this.instances[json.uid];
    return this.instances[json.uid] = new Face(json);
};</script>
</body>
</html>
