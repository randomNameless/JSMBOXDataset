<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>clientlib.min.20b170c65adc3db5153078a65641b67d.html</title>
</head>
<body>

<script>
(function($){NPC.monAgence=NPC.monAgence||{};var dataName="info-agence";var openStatus;var openLibele;var date=new Date;var options={weekday:"long",month:"long",day:"numeric"};var IntlDispo=false;if(typeof Intl!="undefined"&&typeof Intl.DateTimeFormat!="undefined")IntlDispo=true;if(IntlDispo)var dateTimeFormat=new Intl.DateTimeFormat("fr-FR",options);function getLink(eds,idCR){var linkAgence;$.ajax({url:NPC.genererURLJson("agence.link"),type:"GET",async:false,data:{"eds":eds,"cr":idCR},dataType:"json",
success:function(result){if(result.link){var $divLien=$(".npc-monAgenceV2--card").children("a").first();var currentLink=$divLien.attr("href");currentLink=currentLink.substring(0,currentLink.indexOf(".html"));linkAgence=currentLink+result.link+".html"}}});return linkAgence}$(document).on("ready",function(){var agencyLS=localStorage.getItem(dataName);var eds;var agency;var newLink;if(agencyLS){agency=JSON.parse(agencyLS);$(".npc-monAgenceV2--agence-name").html(agency.name);var idCR=NPC.idLiveCopyCaisse;
var eds=agency.id;if(eds&&idCR){var $divLien=$(".npc-monAgenceV2--card").children("a").first();$($divLien).on("click",function(e){if(!newLink){newLink=getLink(eds,idCR);e.originalEvent.currentTarget.href=newLink}});$divLien.on("mousedown",function(event){if(event.which==3||event.which==2)if(!newLink){newLink=getLink(eds,idCR);$(this).attr("href",newLink)}})}}var message;_initDateWithTimeZone();var scheduleOfToday=_getScheduleOfToday(agency);if(scheduleOfToday){var currentHours=("0"+date.getHours()).slice(-2);
var currentMinutes=("0"+date.getMinutes()).slice(-2);var currentTime=currentHours+currentMinutes;for(var idx=0;idx<scheduleOfToday.openingHours.length;idx++){var openingHours=scheduleOfToday.openingHours[idx];var begin=("0"+openingHours.from).slice(-4);var end=("0"+openingHours.to).slice(-4);if(currentTime>=begin&&currentTime<end)message=_getMessageOuvert(end)}if(!message)for(var idx=0;idx<scheduleOfToday.openingHours.length;idx++){var openingHours=scheduleOfToday.openingHours[idx];var begin=("0"+
openingHours.from).slice(-4);if(currentTime<begin){message=_getMessageFerme(_getDateToDisplay(),begin);break}}}if(!message)message=_findNextDayOpen(agency);if(message&&message!=""){$(".npc-monAgenceV2--agence-info2").html(message);$(".npc-monAgenceV2--agence-info1").html(openLibele);if($(".npc-monAgenceV2--infos").children("div").length>0){var $divStatus=$(".npc-monAgenceV2--infos").children("div").first();$divStatus[0].className="npc-monAgenceV2--agence-infos-"+openStatus}}else{$(".npc-monAgenceV2--agence-info2").remove();
$(".npc-monAgenceV2--agence-info1").remove()}});var _getDateToDisplay=function(){var dateToDisplay="";if(IntlDispo)dateToDisplay=dateTimeFormat.format(date);else dateToDisplay=date.toLocaleString("fr-FR",options);return dateToDisplay};var _getScheduleOfToday=function(agency){if(agency&&agency.schedule)for(var idx=0;idx<agency.schedule.length;idx++){var schedule=agency.schedule[idx];if(schedule.dayOfWeek==date.getDay())return schedule}};var _findNextDayOpen=function(agency){for(var idx=0;idx<7;idx++){date.setDate(date.getDate()+
1);var schedule=_getScheduleOfToday(agency);if(schedule)for(var idx=0;idx<schedule.openingHours.length;idx++)if(_isValid(schedule.openingHours[idx]))return _getMessageFerme(_getDateToDisplay(),schedule.openingHours[idx].from)}};var _isValid=function(openingHours){return openingHours&&openingHours.from&&openingHours.from!="0"&&openingHours.to&&openingHours.to!="0"};var _getMessageFerme=function(day,hour){var message1="Ouvre ";var message2=" \u00e0 ";openStatus="closed";openLibele="Ferm\u00e9";var heures=
hour.slice(0,hour.length-2);var minutes=hour.slice(-2);return message1+day+message2+heures+"h"+minutes};var _getMessageOuvert=function(to){var message="Ferme \u00e0 ";openStatus="opened";openLibele="Ouvert";var heures=to.slice(0,to.length-2);var minutes=to.slice(-2);return message+heures+"h"+minutes};var _initDateWithTimeZone=function(){var idCR=NPC.idLiveCopyCaisse;var structureId=idCR.substr(2,3)+"00";if(IntlDispo)var timeZone=_recupererTimeZone(structureId);else var timeZone=_recupererTimeZoneOffset(structureId);
_dateWithTimeZone(timeZone)};var _recupererTimeZoneOffset=function(idCR){var idCRGuadeloupe="90000";var idCRMartinique="90200";var idCRReunion="90300";if(idCR==idCRGuadeloupe)return NPC.offsetGuadeloupe;if(idCR==idCRMartinique)return NPC.offsetMartinique;if(idCR==idCRReunion)return NPC.offsetReunion;return NPC.offsetParis};var _recupererTimeZone=function(idCR){var idCRGuadeloupe="90000";var tzGuadeloupe="America/Guadeloupe";var idCRMartinique="90200";var tzMartinique="America/Martinique";var idCRReunion=
"90300";var tzReunion="Indian/Reunion";var tzParis="Europe/Paris";if(idCR==idCRGuadeloupe)return tzGuadeloupe;if(idCR==idCRMartinique)return tzMartinique;if(idCR==idCRReunion)return tzReunion;return tzParis};var _dateWithTimeZone=function(timeZoneCR){if(typeof Intl!="undefined"&&typeof Intl.DateTimeFormat!="undefined"){var optionYear={year:"numeric",timeZone:timeZoneCR};var optionMonth={month:"numeric",timeZone:timeZoneCR};var optionDay={day:"numeric",timeZone:timeZoneCR};var optionHours={hour:"numeric",
hour12:false,timeZone:timeZoneCR};var optionMinutes={minute:"numeric",timeZone:timeZoneCR};var optionSeconds={second:"numeric",timeZone:timeZoneCR};var dateTimeFormatYear=new Intl.DateTimeFormat("en-US",optionYear);var dateTimeFormatMonth=new Intl.DateTimeFormat("en-US",optionMonth);var dateTimeFormatDay=new Intl.DateTimeFormat("en-US",optionDay);var dateTimeFormatHours=new Intl.DateTimeFormat("en-US",optionHours);var dateTimeFormatMinutes=new Intl.DateTimeFormat("en-US",optionMinutes);var dateTimeFormatSeconds=
new Intl.DateTimeFormat("en-US",optionSeconds);var year=dateTimeFormatYear.format(date);var month=dateTimeFormatMonth.format(date)-1;var day=dateTimeFormatDay.format(date);var hours=dateTimeFormatHours.format(date);var minutes=dateTimeFormatMinutes.format(date);var seconds=dateTimeFormatSeconds.format(date);date=new Date(year,month,day,hours,minutes,seconds)}else{var currentDate=new Date;var currentTime=currentDate.getTime();var currentOffset=currentDate.getTimezoneOffset()*60*1E3;var utcTime=currentTime+
currentOffset;var CRTime=utcTime+timeZoneCR;date=new Date(CRTime)}}})(jQuery_3_7_1);
</script>

</body>
</html>
