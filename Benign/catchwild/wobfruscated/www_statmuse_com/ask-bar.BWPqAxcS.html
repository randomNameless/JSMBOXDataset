<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ask-bar.BWPqAxcS.html</title>
</head>
<body>
<script>import{S as xe,i as $e,s as et,g as A,j as M,k as T,l as U,r as C,q as b,w as _,U as z,y as N,z as q,t as I,b as E,C as H,e as _e,o as tt,f as ge,E as be,a7 as ae,V as F,H as J,D as me,v as P,c as Y,a as X,m as Q,n as j,d as W,I as oe,J as ie,h as te,p as re,L as ne}from"./index.OpPK6Lp4.js";import{e as ue,u as Ae,o as Te}from"./each.CdZI67qz.js";import{s as rt,a as nt}from"./stores.BVRDUShV.js";import{i as x}from"./useragent.CXUJVp29.js";import{I as G}from"./icon.CDexpmkG.js";import{t as st}from"./throttle.vKJInEQp.js";import{S as he,s as qe,d as lt,e as ot,b as it}from"./_baseIteratee.CXh875K2.js";import{b as at}from"./_baseFindIndex.D7XfJLKM.js";import"./index.3whys8t3.js";import"./spread.CgU5AtxT.js";import"./isObject.2xUxVhqF.js";import"./toNumber.CFDQm_jl.js";import"./isArrayLike.C8dgKlVo.js";import"./toString.BVp2antV.js";function ut(){}function ft(o){return o!==o}function ct(o,e,t){for(var r=t-1,i=o.length;++r<i;)if(o[r]===e)return r;return-1}function pt(o,e,t){return e===e?ct(o,e,t):at(o,ft,t)}function ht(o,e){var t=o==null?0:o.length;return!!t&&pt(o,e,0)>-1}var mt=1/0,dt=he&&1/qe(new he([,-0]))[1]==mt?function(o){return new he(o)}:ut,_t=200;function gt(o,e,t){var r=-1,i=ht,a=o.length,s=!0,n=[],l=n;if(a>=_t){var h=e?null:dt(o);if(h)return qe(h);s=!1,i=ot,l=new lt}else l=e?[]:n;e:for(;++r<a;){var f=o[r],w=e?e(f):f;if(f=f!==0?f:0,s&&w===w){for(var c=l.length;c--;)if(l[c]===w)continue e;e&&l.push(w),n.push(f)}else i(l,w,t)||(l!==n&&l.push(w),n.push(f))}return n}function bt(o,e){return o&&o.length?gt(o,it(e)):[]}function ye(o,e,t){const r=o.slice();return r[54]=e[t],r[56]=t,r}function ke(o,e,t){const r=o.slice();return r[57]=e[t],r[59]=t,r}function we(o){let e,t,r,i,a,s,n,l;const h=[kt,yt],f=[];function w(c,d){return c[0].length>0?0:1}return i=w(o),a=f[i]=h[i](o),{c(){e=A("div"),t=A("input"),r=M(),a.c(),this.h()},l(c){e=T(c,"DIV",{class:!0});var d=U(e);t=T(d,"INPUT",{class:!0,autocomplete:!0,"aria-autocomplete":!0,name:!0,placeholder:!0,enterkeyhint:!0}),r=C(d),a.l(d),d.forEach(b),this.h()},h(){_(t,"class","dark:bg-gray-3 grow appearance-none outline-none resize-none block border-y border-transparent px-2 py-1 peer truncate"),_(t,"autocomplete","off"),_(t,"aria-autocomplete","list"),_(t,"name","question[query]"),_(t,"placeholder",o[17]),t.required=!0,_(t,"enterkeyhint","search"),_(e,"class","relative group flex bg-gray-8 dark:bg-gray-3 items-center px-2 border border-gray-6 dark:border-transparent rounded-2xl overflow-hidden")},m(c,d){N(c,e,d),q(e,t),ae(t,o[0]),q(e,r),f[i].m(e,null),s=!0,n||(l=[F(t,"input",o[28]),F(t,"focus",o[29])],n=!0)},p(c,d){d[0]&1&&t.value!==c[0]&&ae(t,c[0]);let p=i;i=w(c),i===p?f[i].p(c,d):(J(),E(f[p],1,1,()=>{f[p]=null}),H(),a=f[i],a?a.p(c,d):(a=f[i]=h[i](c),a.c()),I(a,1),a.m(e,null))},i(c){s||(I(a),s=!0)},o(c){E(a),s=!1},d(c){c&&b(e),f[i].d(),n=!1,me(l)}}}function yt(o){let e,t;return e=new G({props:{name:"search",class:"w-5 h-5 text-teal mr-1"}}),{c(){Y(e.$$.fragment)},l(r){X(e.$$.fragment,r)},m(r,i){Q(e,r,i),t=!0},p:j,i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function kt(o){let e,t,r,i,a;return t=new G({props:{name:"x",class:"w-4 h-4 mr-1"}}),{c(){e=A("button"),Y(t.$$.fragment)},l(s){e=T(s,"BUTTON",{});var n=U(e);X(t.$$.fragment,n),n.forEach(b)},m(s,n){N(s,e,n),Q(t,e,null),r=!0,i||(a=F(e,"click",o[30]),i=!0)},p:j,i(s){r||(I(t.$$.fragment,s),r=!0)},o(s){E(t.$$.fragment,s),r=!1},d(s){s&&b(e),W(t),i=!1,a()}}}function ve(o){let e,t,r,i,a,s,n,l,h,f,w,c,d=[],p=new Map,u,k,S,O,v=o[13]&&Ie(o);const K=[vt,wt],L=[];function Z(g,y){return g[0].length>0?0:1}h=Z(o),f=L[h]=K[h](o);let R=ue(o[3]);const $=g=>g[54].type;for(let g=0;g<R.length;g+=1){let y=ye(o,R,g),D=$(y);p.set(D,d[g]=Ne(D,y))}return{c(){e=A("div"),t=M(),r=A("div"),i=A("div"),v&&v.c(),a=M(),s=A("textarea"),l=M(),f.c(),w=M(),c=A("div");for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){e=T(g,"DIV",{style:!0}),U(e).forEach(b),t=C(g),r=T(g,"DIV",{role:!0,"aria-haspopup":!0,"aria-owns":!0,"aria-expanded":!0,class:!0});var y=U(r);i=T(y,"DIV",{class:!0});var D=U(i);v&&v.l(D),a=C(D),s=T(D,"TEXTAREA",{class:!0,autocomplete:!0,"aria-autocomplete":!0,name:!0,enterkeyhint:!0,placeholder:!0}),U(s).forEach(b),l=C(D),f.l(D),D.forEach(b),w=C(y),c=T(y,"DIV",{id:!0,role:!0,class:!0});var se=U(c);for(let ee=0;ee<d.length;ee+=1)d[ee].l(se);se.forEach(b),y.forEach(b),this.h()},h(){z(e,"height","36px",1),_(s,"class",n=`dark:bg-gray-3 grow appearance-none outline-none resize-none block border-y border-transparent px-2 ${o[13]?"py-2.5 md:py:1":"py-1"} peer`),_(s,"autocomplete","off"),_(s,"aria-autocomplete","list"),_(s,"name","question[query]"),s.required=!0,_(s,"enterkeyhint","search"),_(s,"placeholder",o[17]),_(i,"class","relative group flex bg-gray-8 dark:bg-gray-3 items-center px-2"),_(c,"id","ask-bar-suggestions"),_(c,"role","listbox"),_(c,"class","w-full bg-gray-8 dark:bg-gray-3"),P(c,"hidden",!o[14]),_(r,"role","combobox"),_(r,"aria-haspopup","listbox"),_(r,"aria-owns","ask-bar-suggestions"),_(r,"aria-expanded",o[14]),_(r,"class",u=`absolute top-0 left-0 bg-white dark:bg-gray-3  overflow-hidden ${o[13]?"w-screen h-screen md:w-full md:h-auto md:border md:rounded-2xl":"w-full h-auto border rounded-2xl"}`),P(r,"border-primary",o[12]),P(r,"border-gray-6",!o[12]),P(r,"dark:border-transparent",!o[12]),P(r,"ring-1",o[12]),P(r,"ring-primary",o[12])},m(g,y){N(g,e,y),o[31](e),N(g,t,y),N(g,r,y),q(r,i),v&&v.m(i,null),q(i,a),q(i,s),o[33](s),ae(s,o[0]),q(i,l),L[h].m(i,null),q(r,w),q(r,c);for(let D=0;D<d.length;D+=1)d[D]&&d[D].m(c,null);k=!0,S||(O=[F(s,"input",o[34]),F(s,"click",o[35]),F(s,"input",o[36]),F(s,"keydown",o[20]),F(s,"blur",o[37]),F(s,"focus",o[38])],S=!0)},p(g,y){g[13]?v?(v.p(g,y),y[0]&8192&&I(v,1)):(v=Ie(g),v.c(),I(v,1),v.m(i,a)):v&&(J(),E(v,1,1,()=>{v=null}),H()),(!k||y[0]&8192&&n!==(n=`dark:bg-gray-3 grow appearance-none outline-none resize-none block border-y border-transparent px-2 ${g[13]?"py-2.5 md:py:1":"py-1"} peer`))&&_(s,"class",n),y[0]&1&&ae(s,g[0]);let D=h;h=Z(g),h===D?L[h].p(g,y):(J(),E(L[D],1,1,()=>{L[D]=null}),H(),f=L[h],f?f.p(g,y):(f=L[h]=K[h](g),f.c()),I(f,1),f.m(i,null)),y[0]&264984&&(R=ue(g[3]),J(),d=Ae(d,y,$,1,g,R,p,c,Te,Ne,null,ye),H()),(!k||y[0]&16384)&&P(c,"hidden",!g[14]),(!k||y[0]&16384)&&_(r,"aria-expanded",g[14]),(!k||y[0]&8192&&u!==(u=`absolute top-0 left-0 bg-white dark:bg-gray-3  overflow-hidden ${g[13]?"w-screen h-screen md:w-full md:h-auto md:border md:rounded-2xl":"w-full h-auto border rounded-2xl"}`))&&_(r,"class",u),(!k||y[0]&12288)&&P(r,"border-primary",g[12]),(!k||y[0]&12288)&&P(r,"border-gray-6",!g[12]),(!k||y[0]&12288)&&P(r,"dark:border-transparent",!g[12]),(!k||y[0]&12288)&&P(r,"ring-1",g[12]),(!k||y[0]&12288)&&P(r,"ring-primary",g[12])},i(g){if(!k){I(v),I(f);for(let y=0;y<R.length;y+=1)I(d[y]);k=!0}},o(g){E(v),E(f);for(let y=0;y<d.length;y+=1)E(d[y]);k=!1},d(g){g&&(b(e),b(t),b(r)),o[31](null),v&&v.d(),o[33](null),L[h].d();for(let y=0;y<d.length;y+=1)d[y].d();S=!1,me(O)}}}function Ie(o){let e,t,r,i,a;return t=new G({props:{name:"back",class:"w-4 h-4 mr-1"}}),{c(){e=A("button"),Y(t.$$.fragment),this.h()},l(s){e=T(s,"BUTTON",{class:!0});var n=U(e);X(t.$$.fragment,n),n.forEach(b),this.h()},h(){_(e,"class","md:hidden")},m(s,n){N(s,e,n),Q(t,e,null),r=!0,i||(a=F(e,"click",o[32]),i=!0)},p:j,i(s){r||(I(t.$$.fragment,s),r=!0)},o(s){E(t.$$.fragment,s),r=!1},d(s){s&&b(e),W(t),i=!1,a()}}}function wt(o){let e,t;return e=new G({props:{name:"search",class:"w-5 h-5 text-teal mr-1"}}),{c(){Y(e.$$.fragment)},l(r){X(e.$$.fragment,r)},m(r,i){Q(e,r,i),t=!0},p:j,i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){E(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function vt(o){let e,t,r,i,a;return t=new G({props:{name:"x",class:"w-4 h-4 mr-1"}}),{c(){e=A("button"),Y(t.$$.fragment)},l(s){e=T(s,"BUTTON",{});var n=U(e);X(t.$$.fragment,n),n.forEach(b)},m(s,n){N(s,e,n),Q(t,e,null),r=!0,i||(a=F(e,"click",o[39]),i=!0)},p:j,i(s){r||(I(t.$$.fragment,s),r=!0)},o(s){E(t.$$.fragment,s),r=!1},d(s){s&&b(e),W(t),i=!1,a()}}}function Se(o){let e,t=[],r=new Map,i,a,s=ue(o[54].suggestions);const n=l=>l[57];for(let l=0;l<s.length;l+=1){let h=ke(o,s,l),f=n(h);r.set(f,t[l]=Ee(f,h))}return{c(){e=A("ul");for(let l=0;l<t.length;l+=1)t[l].c();i=M(),this.h()},l(l){e=T(l,"UL",{role:!0,class:!0});var h=U(e);for(let f=0;f<t.length;f+=1)t[f].l(h);i=C(h),h.forEach(b),this.h()},h(){_(e,"role","listbox"),_(e,"class","py-0.5 border-t border-t-gray-6 dark:border-t-gray-4")},m(l,h){N(l,e,h);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);q(e,i),a=!0},p(l,h){h[0]&264984&&(s=ue(l[54].suggestions),J(),t=Ae(t,h,n,1,l,s,r,e,Te,Ee,i,ke),H())},i(l){if(!a){for(let h=0;h<s.length;h+=1)I(t[h]);a=!0}},o(l){for(let h=0;h<t.length;h+=1)E(t[h]);a=!1},d(l){l&&b(e);for(let h=0;h<t.length;h+=1)t[h].d()}}}function It(o){let e,t,r,i=o[57].display+"",a,s;return e=new G({props:{name:"search",class:"w-6 h-6 mr-2.5 shrink-0 text-[#a7a9ac] dark:text-white block object-cover"}}),{c(){Y(e.$$.fragment),t=M(),r=A("span"),a=te(i)},l(n){X(e.$$.fragment,n),t=C(n),r=T(n,"SPAN",{});var l=U(r);a=re(l,i),l.forEach(b)},m(n,l){Q(e,n,l),N(n,t,l),N(n,r,l),q(r,a),s=!0},p(n,l){(!s||l[0]&8)&&i!==(i=n[57].display+"")&&ne(a,i)},i(n){s||(I(e.$$.fragment,n),s=!0)},o(n){E(e.$$.fragment,n),s=!1},d(n){n&&(b(t),b(r)),W(e,n)}}}function St(o){let e,t,r,i,a=o[57].display+"",s;return{c(){e=A("span"),r=M(),i=A("span"),s=te(a),this.h()},l(n){e=T(n,"SPAN",{class:!0,style:!0}),U(e).forEach(b),r=C(n),i=T(n,"SPAN",{});var l=U(i);s=re(l,a),l.forEach(b),this.h()},h(){_(e,"class","w-7 h-7 mr-2.5 shrink-0 rounded"),_(e,"style",t=`background: #c5c9cc url(/_image?href=${o[57].image_url}&w=100&h=100&f=webp) no-repeat center / contain;`)},m(n,l){N(n,e,l),N(n,r,l),N(n,i,l),q(i,s)},p(n,l){l[0]&8&&t!==(t=`background: #c5c9cc url(/_image?href=${n[57].image_url}&w=100&h=100&f=webp) no-repeat center / contain;`)&&_(e,"style",t),l[0]&8&&a!==(a=n[57].display+"")&&ne(s,a)},i:j,o:j,d(n){n&&(b(e),b(r),b(i))}}}function Et(o){let e,t,r,i,a=o[57].display+"",s;return{c(){e=A("span"),r=M(),i=A("span"),s=te(a),this.h()},l(n){e=T(n,"SPAN",{class:!0,style:!0}),U(e).forEach(b),r=C(n),i=T(n,"SPAN",{});var l=U(i);s=re(l,a),l.forEach(b),this.h()},h(){_(e,"class","w-7 h-7 mr-2.5 shrink-0 rounded"),_(e,"style",t=`background: #c5c9cc url(/_image?href=${o[57].image_url}&w=100&h=100&f=webp) no-repeat center top/145%;`)},m(n,l){N(n,e,l),N(n,r,l),N(n,i,l),q(i,s)},p(n,l){l[0]&8&&t!==(t=`background: #c5c9cc url(/_image?href=${n[57].image_url}&w=100&h=100&f=webp) no-repeat center top/145%;`)&&_(e,"style",t),l[0]&8&&a!==(a=n[57].display+"")&&ne(s,a)},i:j,o:j,d(n){n&&(b(e),b(r),b(i))}}}function Nt(o){let e,t,r,i=o[57].display+"",a,s;return e=new G({props:{name:o[57].league.toLowerCase()==="epl"?"fc":o[57].league.toLowerCase(),class:"w-6 h-6 mr-2.5 shrink-0 text-[#a7a9ac] dark:text-white block object-cover"}}),{c(){Y(e.$$.fragment),t=M(),r=A("span"),a=te(i)},l(n){X(e.$$.fragment,n),t=C(n),r=T(n,"SPAN",{});var l=U(r);a=re(l,i),l.forEach(b)},m(n,l){Q(e,n,l),N(n,t,l),N(n,r,l),q(r,a),s=!0},p(n,l){const h={};l[0]&8&&(h.name=n[57].league.toLowerCase()==="epl"?"fc":n[57].league.toLowerCase()),e.$set(h),(!s||l[0]&8)&&i!==(i=n[57].display+"")&&ne(a,i)},i(n){s||(I(e.$$.fragment,n),s=!0)},o(n){E(e.$$.fragment,n),s=!1},d(n){n&&(b(t),b(r)),W(e,n)}}}function At(o){let e,t,r,i=o[57].display+"",a,s;return e=new G({props:{name:"history",class:"w-6 h-6 mr-2.5 shrink-0 text-[#a7a9ac] dark:text-white"}}),{c(){Y(e.$$.fragment),t=M(),r=A("span"),a=te(i)},l(n){X(e.$$.fragment,n),t=C(n),r=T(n,"SPAN",{});var l=U(r);a=re(l,i),l.forEach(b)},m(n,l){Q(e,n,l),N(n,t,l),N(n,r,l),q(r,a),s=!0},p(n,l){(!s||l[0]&8)&&i!==(i=n[57].display+"")&&ne(a,i)},i(n){s||(I(e.$$.fragment,n),s=!0)},o(n){E(e.$$.fragment,n),s=!1},d(n){n&&(b(t),b(r)),W(e,n)}}}function Ee(o,e){let t,r,i,a,s,n,l;const h=[At,Nt,Et,St,It],f=[];function w(p,u){return p[54].type==="history"?0:p[54].type==="example"&&p[57].league?1:p[57].type==="player"?2:p[57].type==="team"?3:4}r=w(e),i=f[r]=h[r](e);function c(){return e[40](e[57])}function d(){return e[42](e[56],e[59])}return{key:o,first:null,c(){t=A("li"),i.c(),this.h()},l(p){t=T(p,"LI",{class:!0,role:!0,"aria-selected":!0});var u=U(t);i.l(u),u.forEach(b),this.h()},h(){_(t,"class","py-1.5 px-2 cursor-pointer flex items-center"),_(t,"role","option"),_(t,"aria-selected",a=e[56]===e[8]&&e[59]===e[9]),P(t,"bg-gray-7",e[56]===e[8]&&e[59]===e[9]),P(t,"dark:bg-gray-2",e[56]===e[8]&&e[59]===e[9]),this.first=t},m(p,u){N(p,t,u),f[r].m(t,null),s=!0,n||(l=[F(t,"click",c),F(t,"mousedown",e[41]),F(t,"mouseenter",d),F(t,"mouseleave",e[43])],n=!0)},p(p,u){e=p;let k=r;r=w(e),r===k?f[r].p(e,u):(J(),E(f[k],1,1,()=>{f[k]=null}),H(),i=f[r],i?i.p(e,u):(i=f[r]=h[r](e),i.c()),I(i,1),i.m(t,null)),(!s||u[0]&776&&a!==(a=e[56]===e[8]&&e[59]===e[9]))&&_(t,"aria-selected",a),(!s||u[0]&776)&&P(t,"bg-gray-7",e[56]===e[8]&&e[59]===e[9]),(!s||u[0]&776)&&P(t,"dark:bg-gray-2",e[56]===e[8]&&e[59]===e[9])},i(p){s||(I(i),s=!0)},o(p){E(i),s=!1},d(p){p&&b(t),f[r].d(),n=!1,me(l)}}}function Ne(o,e){let t,r,i,a=e[54].suggestions.length>0&&Se(e);return{key:o,first:null,c(){t=oe(),a&&a.c(),r=oe(),this.h()},l(s){t=oe(),a&&a.l(s),r=oe(),this.h()},h(){this.first=t},m(s,n){N(s,t,n),a&&a.m(s,n),N(s,r,n),i=!0},p(s,n){e=s,e[54].suggestions.length>0?a?(a.p(e,n),n[0]&8&&I(a,1)):(a=Se(e),a.c(),I(a,1),a.m(r.parentNode,r)):a&&(J(),E(a,1,1,()=>{a=null}),H())},i(s){i||(I(a),i=!0)},o(s){E(a),i=!1},d(s){s&&(b(t),b(r)),a&&a.d(s)}}}function Tt(o){let e,t,r,i,a,s,n,l,h,f,w,c=!o[7]&&we(o),d=o[7]&&ve(o);return{c(){e=A("form"),c&&c.c(),t=M(),d&&d.c(),r=M(),i=A("input"),a=M(),s=A("input"),n=M(),l=A("textarea"),this.h()},l(p){e=T(p,"FORM",{class:!0,action:!0,method:!0});var u=U(e);c&&c.l(u),t=C(u),d&&d.l(u),r=C(u),i=T(u,"INPUT",{name:!0,type:!0}),a=C(u),s=T(u,"INPUT",{name:!0,type:!0}),n=C(u),l=T(u,"TEXTAREA",{class:!0,tabindex:!0,"aria-hidden":!0}),U(l).forEach(b),u.forEach(b),this.h()},h(){_(i,"name","question[preferred_domain]"),_(i,"type","hidden"),i.value=o[1],_(s,"name","question[conversation_token]"),_(s,"type","hidden"),s.value=o[2],_(l,"class",h=`appearance-none outline-none resize-none block border-y px-2 ${o[13]?"py-2.5 md:py-1":"py-1"}`),_(l,"tabindex","-1"),_(l,"aria-hidden","true"),z(l,"height","0px"),z(l,"min-height","0px"),z(l,"max-height","none"),z(l,"visibility","hidden"),z(l,"overflow","hidden"),z(l,"position","absolute"),z(l,"left","0"),z(l,"z-index","-1000"),_(e,"class",f=`${o[23].class} max-w-2xl ${o[13]?"md:relative":"relative"}`),_(e,"action",o[16]),_(e,"method","post")},m(p,u){N(p,e,u),c&&c.m(e,null),q(e,t),d&&d.m(e,null),q(e,r),q(e,i),q(e,a),q(e,s),q(e,n),q(e,l),o[44](l),o[45](e),w=!0},p(p,u){p[7]?c&&(J(),E(c,1,1,()=>{c=null}),H()):c?(c.p(p,u),u[0]&128&&I(c,1)):(c=we(p),c.c(),I(c,1),c.m(e,t)),p[7]?d?(d.p(p,u),u[0]&128&&I(d,1)):(d=ve(p),d.c(),I(d,1),d.m(e,r)):d&&(J(),E(d,1,1,()=>{d=null}),H()),(!w||u[0]&2)&&(i.value=p[1]),(!w||u[0]&4)&&(s.value=p[2]),(!w||u[0]&8192&&h!==(h=`appearance-none outline-none resize-none block border-y px-2 ${p[13]?"py-2.5 md:py-1":"py-1"}`))&&_(l,"class",h),(!w||u[0]&8396800&&f!==(f=`${p[23].class} max-w-2xl ${p[13]?"md:relative":"relative"}`))&&_(e,"class",f)},i(p){w||(I(c),I(d),w=!0)},o(p){E(c),E(d),w=!1},d(p){p&&b(e),c&&c.d(),d&&d.d(),o[44](null),o[45](null)}}}function qt(o,e,t){let r,i,a,s,n;_e(o,rt,m=>t(27,s=m)),_e(o,nt,m=>t(15,n=m));let{query:l=""}=e,{conversationToken:h=""}=e,{preferredDomain:f=""}=e,{money:w}=e,{autoFocus:c=!1}=e,d=new Date().toISOString(),p=[],u,k,S,O,v,K,L=!1,Z=!1,R=!1,$=!1;f==="fc"&&(f="epl");const g=w?"/money/ask":"/ask",y=w?"Search stocks, FX or bitcoin":f==="epl"?"Search players, clubs or stats":"Search players, stats or odds",D=`https://api.v2.statmuse.com${w?"/money/search/suggest":"/search/suggest"}`,se=m=>{const V=w?"money":"sports",B=localStorage.getItem(`query.${V}`),pe=B?JSON.parse(B):[];localStorage.setItem(`query.${V}`,JSON.stringify(bt([{type:"history",display:m},...pe],"display").slice(0,3)))},ee=()=>{const m=w?"money":"sports",V=localStorage.getItem(`query.${m}`);return V?JSON.parse(V):[]},De=m=>{if(u!==void 0&&k!==void 0&&p[u].suggestions[k].display===m){const V=p[u];window.segment.track("Autosuggest Search",{query:m,section:V.type})}},fe=()=>{S.value&&(De(S.value),se(S.value),K.submit())},le=st(async m=>{try{const B=await(await fetch(`${D}?${new URLSearchParams({query:m,...f&&!w?{league:f}:{},...i?{userId:i}:{},...a?{visitorId:a}:{}})}`)).json();B.timestamp>d&&(B.sections.find(pe=>pe.type==="history")||B.sections.push({type:"history",suggestions:ee()}),t(3,p=B.sections),d=B.timestamp)}catch{}},600),Ue=()=>{if(p.length>0){if(u===void 0||k===void 0){t(8,u=0),t(9,k=0);return}if(u===p.length-1&&k===p[u].suggestions.length-1){t(8,u=void 0),t(9,k=void 0);return}if(k===p[u].suggestions.length-1){t(8,u+=1),t(9,k=0);return}t(9,k+=1)}},Oe=()=>{if(p.length>0){if(u===void 0||k===void 0){t(8,u=p.length-1),t(9,k=p[u].suggestions.length-1);return}if(u===0&&k===0){t(8,u=void 0),t(9,k=void 0);return}if(k===0){t(8,u-=1),t(9,k=p[u].suggestions.length-1);return}t(9,k-=1)}},Pe=m=>{if(m.key==="Enter")return m.preventDefault(),fe();if(m.key==="ArrowUp"||m.key==="ArrowDown"){m.preventDefault(),m.key==="ArrowUp"?Oe():Ue(),t(4,S.value=u!==void 0&&k!==void 0?p[u].suggestions[k].display:l,S);return}if(m.key==="Escape")return S.blur()},ce=()=>{x(navigator.userAgent)&&(document.body.style.top=`-${window.scrollY}px`,document.body.style.position="fixed",document.body.style.width="100%")},de=()=>{if(x(navigator.userAgent)){const m=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,parseInt(m||"0")*-1)}};tt(()=>{t(13,$=x(navigator.userAgent)),t(5,O.value=l,O),c&&!x(navigator.userAgent)&&t(7,R=!0)});function Fe(){l=this.value,t(0,l)}const Me=m=>{n?(window.ReactNativeWebView.postMessage(JSON.stringify({type:"ask-bar-focus",query:m.currentTarget?.value})),m.currentTarget?.blur()):(t(7,R=!0),le(m.currentTarget?.value),ce())},Ce=()=>{n?window.ReactNativeWebView.postMessage(JSON.stringify({type:"ask-bar-clear"})):(t(7,R=!0),t(0,l=""),ce())};function Le(m){ie[m?"unshift":"push"](()=>{v=m,t(6,v),t(5,O),t(4,S),t(0,l)})}const Re=()=>{de(),t(7,R=!1)};function Ve(m){ie[m?"unshift":"push"](()=>{S=m,t(4,S),t(5,O),t(0,l),t(6,v)})}function ze(){l=this.value,t(0,l)}const He=()=>{t(8,u=t(9,k=void 0)),le(S.value)},Je=()=>{t(8,u=t(9,k=void 0)),le(S.value)},je=()=>{if(L){S.focus(),t(11,L=!1);return}x(navigator.userAgent)||(t(8,u=t(9,k=void 0)),t(3,p=[]),t(12,Z=!1))},Be=()=>t(12,Z=!0),Ye=()=>{t(0,l=""),S.focus()},Xe=m=>{t(4,S.value=m.display,S),fe()},Qe=()=>t(11,L=!0),We=(m,V)=>{t(8,u=m),t(9,k=V)},Ge=()=>{t(8,u=t(9,k=void 0))};function Ke(m){ie[m?"unshift":"push"](()=>{O=m,t(5,O),t(4,S),t(0,l),t(6,v)})}function Ze(m){ie[m?"unshift":"push"](()=>{K=m,t(10,K)})}return o.$$set=m=>{t(23,e=ge(ge({},e),be(m))),"query"in m&&t(0,l=m.query),"conversationToken"in m&&t(2,h=m.conversationToken),"preferredDomain"in m&&t(1,f=m.preferredDomain),"money"in m&&t(24,w=m.money),"autoFocus"in m&&t(25,c=m.autoFocus)},o.$$.update=()=>{o.$$.dirty[0]&134217728&&t(26,i=s?.type==="user"?s.properties.id:void 0),o.$$.dirty[0]&67108864&&i&&!x(navigator.userAgent)&&t(7,R=!0),o.$$.dirty[0]&113&&(O&&S&&(t(5,O.value=l,O),t(5,O.style.width=getComputedStyle(S).width,O),t(4,S.style.height=O.scrollHeight+2+"px",S)),v&&t(6,v.style.height=O.scrollHeight+4+"px",v)),o.$$.dirty[0]&144&&R&&S&&S.focus(),o.$$.dirty[0]&8&&t(14,r=p.findIndex(m=>m.suggestions.length>0)>-1),o.$$.dirty[0]&134217728&&(a=s?.type==="user"?s.properties.visitorId:s?.type==="visitor"?s.properties.id:void 0)},e=be(e),[l,f,h,p,S,O,v,R,u,k,K,L,Z,$,r,n,g,y,fe,le,Pe,ce,de,e,w,c,i,s,Fe,Me,Ce,Le,Re,Ve,ze,He,Je,je,Be,Ye,Xe,Qe,We,Ge,Ke,Ze]}class Bt extends xe{constructor(e){super(),$e(this,e,qt,Tt,et,{query:0,conversationToken:2,preferredDomain:1,money:24,autoFocus:25},null,[-1,-1])}}export{Bt as default};
//# sourceMappingURL=ask-bar.BWPqAxcS.js.map</script>
</body>
</html>
